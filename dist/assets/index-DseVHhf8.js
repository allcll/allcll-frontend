try{let e=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},t=new e.Error().stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="7defb668-b011-48a0-9a56-5acf1e3cc8ab",e._sentryDebugIdIdentifier="sentry-dbid-7defb668-b011-48a0-9a56-5acf1e3cc8ab")}catch{}function KP(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}{let e=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};e.SENTRY_RELEASE={id:"9c74d9dd56794033830f594fb43f9e8dfe78cdff"}}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();const GP="modulepreload",YP=function(e){return"/"+e},b5={},xp=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){let c=function(f){return Promise.all(f.map(p=>Promise.resolve(p).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};var o=c;document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=a?.nonce||a?.getAttribute("nonce");i=c(n.map(f=>{if(f=YP(f),f in b5)return;b5[f]=!0;const p=f.endsWith(".css"),g=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${g}`))return;const y=document.createElement("link");if(y.rel=p?"stylesheet":GP,p||(y.as="script"),y.crossOrigin="",y.href=f,l&&y.setAttribute("nonce",l),document.head.appendChild(y),p)return new Promise((b,_)=>{y.addEventListener("load",b),y.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${f}`)))})}))}function s(a){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a}return i.then(a=>{for(const l of a||[])l.status==="rejected"&&s(l.reason);return t().catch(s)})};var bh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function qi(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function XP(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var n=function r(){var i=!1;try{i=this instanceof r}catch{}return i?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var Hv={exports:{}},Zf={},Wv={exports:{}},Qt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w5;function JP(){if(w5)return Qt;w5=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),p=Symbol.iterator;function g(Z){return Z===null||typeof Z!="object"?null:(Z=p&&Z[p]||Z["@@iterator"],typeof Z=="function"?Z:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,_={};function C(Z,ge,H){this.props=Z,this.context=ge,this.refs=_,this.updater=H||y}C.prototype.isReactComponent={},C.prototype.setState=function(Z,ge){if(typeof Z!="object"&&typeof Z!="function"&&Z!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Z,ge,"setState")},C.prototype.forceUpdate=function(Z){this.updater.enqueueForceUpdate(this,Z,"forceUpdate")};function E(){}E.prototype=C.prototype;function R(Z,ge,H){this.props=Z,this.context=ge,this.refs=_,this.updater=H||y}var M=R.prototype=new E;M.constructor=R,b(M,C.prototype),M.isPureReactComponent=!0;var U=Array.isArray,z=Object.prototype.hasOwnProperty,P={current:null},N={key:!0,ref:!0,__self:!0,__source:!0};function B(Z,ge,H){var je,ke={},Te=null,Ke=null;if(ge!=null)for(je in ge.ref!==void 0&&(Ke=ge.ref),ge.key!==void 0&&(Te=""+ge.key),ge)z.call(ge,je)&&!N.hasOwnProperty(je)&&(ke[je]=ge[je]);var We=arguments.length-2;if(We===1)ke.children=H;else if(1<We){for(var Ie=Array(We),Lt=0;Lt<We;Lt++)Ie[Lt]=arguments[Lt+2];ke.children=Ie}if(Z&&Z.defaultProps)for(je in We=Z.defaultProps,We)ke[je]===void 0&&(ke[je]=We[je]);return{$$typeof:e,type:Z,key:Te,ref:Ke,props:ke,_owner:P.current}}function $(Z,ge){return{$$typeof:e,type:Z.type,key:ge,ref:Z.ref,props:Z.props,_owner:Z._owner}}function D(Z){return typeof Z=="object"&&Z!==null&&Z.$$typeof===e}function J(Z){var ge={"=":"=0",":":"=2"};return"$"+Z.replace(/[=:]/g,function(H){return ge[H]})}var X=/\/+/g;function ie(Z,ge){return typeof Z=="object"&&Z!==null&&Z.key!=null?J(""+Z.key):ge.toString(36)}function q(Z,ge,H,je,ke){var Te=typeof Z;(Te==="undefined"||Te==="boolean")&&(Z=null);var Ke=!1;if(Z===null)Ke=!0;else switch(Te){case"string":case"number":Ke=!0;break;case"object":switch(Z.$$typeof){case e:case t:Ke=!0}}if(Ke)return Ke=Z,ke=ke(Ke),Z=je===""?"."+ie(Ke,0):je,U(ke)?(H="",Z!=null&&(H=Z.replace(X,"$&/")+"/"),q(ke,ge,H,"",function(Lt){return Lt})):ke!=null&&(D(ke)&&(ke=$(ke,H+(!ke.key||Ke&&Ke.key===ke.key?"":(""+ke.key).replace(X,"$&/")+"/")+Z)),ge.push(ke)),1;if(Ke=0,je=je===""?".":je+":",U(Z))for(var We=0;We<Z.length;We++){Te=Z[We];var Ie=je+ie(Te,We);Ke+=q(Te,ge,H,Ie,ke)}else if(Ie=g(Z),typeof Ie=="function")for(Z=Ie.call(Z),We=0;!(Te=Z.next()).done;)Te=Te.value,Ie=je+ie(Te,We++),Ke+=q(Te,ge,H,Ie,ke);else if(Te==="object")throw ge=String(Z),Error("Objects are not valid as a React child (found: "+(ge==="[object Object]"?"object with keys {"+Object.keys(Z).join(", ")+"}":ge)+"). If you meant to render a collection of children, use an array instead.");return Ke}function V(Z,ge,H){if(Z==null)return Z;var je=[],ke=0;return q(Z,je,"","",function(Te){return ge.call(H,Te,ke++)}),je}function K(Z){if(Z._status===-1){var ge=Z._result;ge=ge(),ge.then(function(H){(Z._status===0||Z._status===-1)&&(Z._status=1,Z._result=H)},function(H){(Z._status===0||Z._status===-1)&&(Z._status=2,Z._result=H)}),Z._status===-1&&(Z._status=0,Z._result=ge)}if(Z._status===1)return Z._result.default;throw Z._result}var ne={current:null},Y={transition:null},de={ReactCurrentDispatcher:ne,ReactCurrentBatchConfig:Y,ReactCurrentOwner:P};function F(){throw Error("act(...) is not supported in production builds of React.")}return Qt.Children={map:V,forEach:function(Z,ge,H){V(Z,function(){ge.apply(this,arguments)},H)},count:function(Z){var ge=0;return V(Z,function(){ge++}),ge},toArray:function(Z){return V(Z,function(ge){return ge})||[]},only:function(Z){if(!D(Z))throw Error("React.Children.only expected to receive a single React element child.");return Z}},Qt.Component=C,Qt.Fragment=n,Qt.Profiler=i,Qt.PureComponent=R,Qt.StrictMode=r,Qt.Suspense=l,Qt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=de,Qt.act=F,Qt.cloneElement=function(Z,ge,H){if(Z==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+Z+".");var je=b({},Z.props),ke=Z.key,Te=Z.ref,Ke=Z._owner;if(ge!=null){if(ge.ref!==void 0&&(Te=ge.ref,Ke=P.current),ge.key!==void 0&&(ke=""+ge.key),Z.type&&Z.type.defaultProps)var We=Z.type.defaultProps;for(Ie in ge)z.call(ge,Ie)&&!N.hasOwnProperty(Ie)&&(je[Ie]=ge[Ie]===void 0&&We!==void 0?We[Ie]:ge[Ie])}var Ie=arguments.length-2;if(Ie===1)je.children=H;else if(1<Ie){We=Array(Ie);for(var Lt=0;Lt<Ie;Lt++)We[Lt]=arguments[Lt+2];je.children=We}return{$$typeof:e,type:Z.type,key:ke,ref:Te,props:je,_owner:Ke}},Qt.createContext=function(Z){return Z={$$typeof:o,_currentValue:Z,_currentValue2:Z,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},Z.Provider={$$typeof:s,_context:Z},Z.Consumer=Z},Qt.createElement=B,Qt.createFactory=function(Z){var ge=B.bind(null,Z);return ge.type=Z,ge},Qt.createRef=function(){return{current:null}},Qt.forwardRef=function(Z){return{$$typeof:a,render:Z}},Qt.isValidElement=D,Qt.lazy=function(Z){return{$$typeof:f,_payload:{_status:-1,_result:Z},_init:K}},Qt.memo=function(Z,ge){return{$$typeof:c,type:Z,compare:ge===void 0?null:ge}},Qt.startTransition=function(Z){var ge=Y.transition;Y.transition={};try{Z()}finally{Y.transition=ge}},Qt.unstable_act=F,Qt.useCallback=function(Z,ge){return ne.current.useCallback(Z,ge)},Qt.useContext=function(Z){return ne.current.useContext(Z)},Qt.useDebugValue=function(){},Qt.useDeferredValue=function(Z){return ne.current.useDeferredValue(Z)},Qt.useEffect=function(Z,ge){return ne.current.useEffect(Z,ge)},Qt.useId=function(){return ne.current.useId()},Qt.useImperativeHandle=function(Z,ge,H){return ne.current.useImperativeHandle(Z,ge,H)},Qt.useInsertionEffect=function(Z,ge){return ne.current.useInsertionEffect(Z,ge)},Qt.useLayoutEffect=function(Z,ge){return ne.current.useLayoutEffect(Z,ge)},Qt.useMemo=function(Z,ge){return ne.current.useMemo(Z,ge)},Qt.useReducer=function(Z,ge,H){return ne.current.useReducer(Z,ge,H)},Qt.useRef=function(Z){return ne.current.useRef(Z)},Qt.useState=function(Z){return ne.current.useState(Z)},Qt.useSyncExternalStore=function(Z,ge,H){return ne.current.useSyncExternalStore(Z,ge,H)},Qt.useTransition=function(){return ne.current.useTransition()},Qt.version="18.3.1",Qt}var _5;function gy(){return _5||(_5=1,Wv.exports=JP()),Wv.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S5;function ZP(){if(S5)return Zf;S5=1;var e=gy(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function o(a,l,c){var f,p={},g=null,y=null;c!==void 0&&(g=""+c),l.key!==void 0&&(g=""+l.key),l.ref!==void 0&&(y=l.ref);for(f in l)r.call(l,f)&&!s.hasOwnProperty(f)&&(p[f]=l[f]);if(a&&a.defaultProps)for(f in l=a.defaultProps,l)p[f]===void 0&&(p[f]=l[f]);return{$$typeof:t,type:a,key:g,ref:y,props:p,_owner:i.current}}return Zf.Fragment=n,Zf.jsx=o,Zf.jsxs=o,Zf}var C5;function eO(){return C5||(C5=1,Hv.exports=ZP()),Hv.exports}var h=eO(),j=gy();const xn=qi(j),W8=KP({__proto__:null,default:xn},[j]);var eg={},Vv={exports:{}},Oi={},qv={exports:{}},Qv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E5;function tO(){return E5||(E5=1,function(e){function t(Y,de){var F=Y.length;Y.push(de);e:for(;0<F;){var Z=F-1>>>1,ge=Y[Z];if(0<i(ge,de))Y[Z]=de,Y[F]=ge,F=Z;else break e}}function n(Y){return Y.length===0?null:Y[0]}function r(Y){if(Y.length===0)return null;var de=Y[0],F=Y.pop();if(F!==de){Y[0]=F;e:for(var Z=0,ge=Y.length,H=ge>>>1;Z<H;){var je=2*(Z+1)-1,ke=Y[je],Te=je+1,Ke=Y[Te];if(0>i(ke,F))Te<ge&&0>i(Ke,ke)?(Y[Z]=Ke,Y[Te]=F,Z=Te):(Y[Z]=ke,Y[je]=F,Z=je);else if(Te<ge&&0>i(Ke,F))Y[Z]=Ke,Y[Te]=F,Z=Te;else break e}}return de}function i(Y,de){var F=Y.sortIndex-de.sortIndex;return F!==0?F:Y.id-de.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],c=[],f=1,p=null,g=3,y=!1,b=!1,_=!1,C=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function M(Y){for(var de=n(c);de!==null;){if(de.callback===null)r(c);else if(de.startTime<=Y)r(c),de.sortIndex=de.expirationTime,t(l,de);else break;de=n(c)}}function U(Y){if(_=!1,M(Y),!b)if(n(l)!==null)b=!0,K(z);else{var de=n(c);de!==null&&ne(U,de.startTime-Y)}}function z(Y,de){b=!1,_&&(_=!1,E(B),B=-1),y=!0;var F=g;try{for(M(de),p=n(l);p!==null&&(!(p.expirationTime>de)||Y&&!J());){var Z=p.callback;if(typeof Z=="function"){p.callback=null,g=p.priorityLevel;var ge=Z(p.expirationTime<=de);de=e.unstable_now(),typeof ge=="function"?p.callback=ge:p===n(l)&&r(l),M(de)}else r(l);p=n(l)}if(p!==null)var H=!0;else{var je=n(c);je!==null&&ne(U,je.startTime-de),H=!1}return H}finally{p=null,g=F,y=!1}}var P=!1,N=null,B=-1,$=5,D=-1;function J(){return!(e.unstable_now()-D<$)}function X(){if(N!==null){var Y=e.unstable_now();D=Y;var de=!0;try{de=N(!0,Y)}finally{de?ie():(P=!1,N=null)}}else P=!1}var ie;if(typeof R=="function")ie=function(){R(X)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,V=q.port2;q.port1.onmessage=X,ie=function(){V.postMessage(null)}}else ie=function(){C(X,0)};function K(Y){N=Y,P||(P=!0,ie())}function ne(Y,de){B=C(function(){Y(e.unstable_now())},de)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Y){Y.callback=null},e.unstable_continueExecution=function(){b||y||(b=!0,K(z))},e.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<Y?Math.floor(1e3/Y):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(Y){switch(g){case 1:case 2:case 3:var de=3;break;default:de=g}var F=g;g=de;try{return Y()}finally{g=F}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(Y,de){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var F=g;g=Y;try{return de()}finally{g=F}},e.unstable_scheduleCallback=function(Y,de,F){var Z=e.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?Z+F:Z):F=Z,Y){case 1:var ge=-1;break;case 2:ge=250;break;case 5:ge=1073741823;break;case 4:ge=1e4;break;default:ge=5e3}return ge=F+ge,Y={id:f++,callback:de,priorityLevel:Y,startTime:F,expirationTime:ge,sortIndex:-1},F>Z?(Y.sortIndex=F,t(c,Y),n(l)===null&&Y===n(c)&&(_?(E(B),B=-1):_=!0,ne(U,F-Z))):(Y.sortIndex=ge,t(l,Y),b||y||(b=!0,K(z))),Y},e.unstable_shouldYield=J,e.unstable_wrapCallback=function(Y){var de=g;return function(){var F=g;g=de;try{return Y.apply(this,arguments)}finally{g=F}}}}(Qv)),Qv}var k5;function nO(){return k5||(k5=1,qv.exports=tO()),qv.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T5;function rO(){if(T5)return Oi;T5=1;var e=gy(),t=nO();function n(u){for(var d="https://reactjs.org/docs/error-decoder.html?invariant="+u,m=1;m<arguments.length;m++)d+="&args[]="+encodeURIComponent(arguments[m]);return"Minified React error #"+u+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function s(u,d){o(u,d),o(u+"Capture",d)}function o(u,d){for(i[u]=d,u=0;u<d.length;u++)r.add(d[u])}var a=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),l=Object.prototype.hasOwnProperty,c=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function g(u){return l.call(p,u)?!0:l.call(f,u)?!1:c.test(u)?p[u]=!0:(f[u]=!0,!1)}function y(u,d,m,x){if(m!==null&&m.type===0)return!1;switch(typeof d){case"function":case"symbol":return!0;case"boolean":return x?!1:m!==null?!m.acceptsBooleans:(u=u.toLowerCase().slice(0,5),u!=="data-"&&u!=="aria-");default:return!1}}function b(u,d,m,x){if(d===null||typeof d>"u"||y(u,d,m,x))return!0;if(x)return!1;if(m!==null)switch(m.type){case 3:return!d;case 4:return d===!1;case 5:return isNaN(d);case 6:return isNaN(d)||1>d}return!1}function _(u,d,m,x,S,T,A){this.acceptsBooleans=d===2||d===3||d===4,this.attributeName=x,this.attributeNamespace=S,this.mustUseProperty=m,this.propertyName=u,this.type=d,this.sanitizeURL=T,this.removeEmptyString=A}var C={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(u){C[u]=new _(u,0,!1,u,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(u){var d=u[0];C[d]=new _(d,1,!1,u[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(u){C[u]=new _(u,2,!1,u.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(u){C[u]=new _(u,2,!1,u,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(u){C[u]=new _(u,3,!1,u.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(u){C[u]=new _(u,3,!0,u,null,!1,!1)}),["capture","download"].forEach(function(u){C[u]=new _(u,4,!1,u,null,!1,!1)}),["cols","rows","size","span"].forEach(function(u){C[u]=new _(u,6,!1,u,null,!1,!1)}),["rowSpan","start"].forEach(function(u){C[u]=new _(u,5,!1,u.toLowerCase(),null,!1,!1)});var E=/[\-:]([a-z])/g;function R(u){return u[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(u){var d=u.replace(E,R);C[d]=new _(d,1,!1,u,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(u){var d=u.replace(E,R);C[d]=new _(d,1,!1,u,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(u){var d=u.replace(E,R);C[d]=new _(d,1,!1,u,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(u){C[u]=new _(u,1,!1,u.toLowerCase(),null,!1,!1)}),C.xlinkHref=new _("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(u){C[u]=new _(u,1,!1,u.toLowerCase(),null,!0,!0)});function M(u,d,m,x){var S=C.hasOwnProperty(d)?C[d]:null;(S!==null?S.type!==0:x||!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(b(d,m,S,x)&&(m=null),x||S===null?g(d)&&(m===null?u.removeAttribute(d):u.setAttribute(d,""+m)):S.mustUseProperty?u[S.propertyName]=m===null?S.type===3?!1:"":m:(d=S.attributeName,x=S.attributeNamespace,m===null?u.removeAttribute(d):(S=S.type,m=S===3||S===4&&m===!0?"":""+m,x?u.setAttributeNS(x,d,m):u.setAttribute(d,m))))}var U=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,z=Symbol.for("react.element"),P=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),B=Symbol.for("react.strict_mode"),$=Symbol.for("react.profiler"),D=Symbol.for("react.provider"),J=Symbol.for("react.context"),X=Symbol.for("react.forward_ref"),ie=Symbol.for("react.suspense"),q=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),K=Symbol.for("react.lazy"),ne=Symbol.for("react.offscreen"),Y=Symbol.iterator;function de(u){return u===null||typeof u!="object"?null:(u=Y&&u[Y]||u["@@iterator"],typeof u=="function"?u:null)}var F=Object.assign,Z;function ge(u){if(Z===void 0)try{throw Error()}catch(m){var d=m.stack.trim().match(/\n( *(at )?)/);Z=d&&d[1]||""}return`
`+Z+u}var H=!1;function je(u,d){if(!u||H)return"";H=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(d)if(d=function(){throw Error()},Object.defineProperty(d.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(d,[])}catch(we){var x=we}Reflect.construct(u,[],d)}else{try{d.call()}catch(we){x=we}u.call(d.prototype)}else{try{throw Error()}catch(we){x=we}u()}}catch(we){if(we&&x&&typeof we.stack=="string"){for(var S=we.stack.split(`
`),T=x.stack.split(`
`),A=S.length-1,G=T.length-1;1<=A&&0<=G&&S[A]!==T[G];)G--;for(;1<=A&&0<=G;A--,G--)if(S[A]!==T[G]){if(A!==1||G!==1)do if(A--,G--,0>G||S[A]!==T[G]){var re=`
`+S[A].replace(" at new "," at ");return u.displayName&&re.includes("<anonymous>")&&(re=re.replace("<anonymous>",u.displayName)),re}while(1<=A&&0<=G);break}}}finally{H=!1,Error.prepareStackTrace=m}return(u=u?u.displayName||u.name:"")?ge(u):""}function ke(u){switch(u.tag){case 5:return ge(u.type);case 16:return ge("Lazy");case 13:return ge("Suspense");case 19:return ge("SuspenseList");case 0:case 2:case 15:return u=je(u.type,!1),u;case 11:return u=je(u.type.render,!1),u;case 1:return u=je(u.type,!0),u;default:return""}}function Te(u){if(u==null)return null;if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u;switch(u){case N:return"Fragment";case P:return"Portal";case $:return"Profiler";case B:return"StrictMode";case ie:return"Suspense";case q:return"SuspenseList"}if(typeof u=="object")switch(u.$$typeof){case J:return(u.displayName||"Context")+".Consumer";case D:return(u._context.displayName||"Context")+".Provider";case X:var d=u.render;return u=u.displayName,u||(u=d.displayName||d.name||"",u=u!==""?"ForwardRef("+u+")":"ForwardRef"),u;case V:return d=u.displayName||null,d!==null?d:Te(u.type)||"Memo";case K:d=u._payload,u=u._init;try{return Te(u(d))}catch{}}return null}function Ke(u){var d=u.type;switch(u.tag){case 24:return"Cache";case 9:return(d.displayName||"Context")+".Consumer";case 10:return(d._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return u=d.render,u=u.displayName||u.name||"",d.displayName||(u!==""?"ForwardRef("+u+")":"ForwardRef");case 7:return"Fragment";case 5:return d;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Te(d);case 8:return d===B?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof d=="function")return d.displayName||d.name||null;if(typeof d=="string")return d}return null}function We(u){switch(typeof u){case"boolean":case"number":case"string":case"undefined":return u;case"object":return u;default:return""}}function Ie(u){var d=u.type;return(u=u.nodeName)&&u.toLowerCase()==="input"&&(d==="checkbox"||d==="radio")}function Lt(u){var d=Ie(u)?"checked":"value",m=Object.getOwnPropertyDescriptor(u.constructor.prototype,d),x=""+u[d];if(!u.hasOwnProperty(d)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var S=m.get,T=m.set;return Object.defineProperty(u,d,{configurable:!0,get:function(){return S.call(this)},set:function(A){x=""+A,T.call(this,A)}}),Object.defineProperty(u,d,{enumerable:m.enumerable}),{getValue:function(){return x},setValue:function(A){x=""+A},stopTracking:function(){u._valueTracker=null,delete u[d]}}}}function Vn(u){u._valueTracker||(u._valueTracker=Lt(u))}function ct(u){if(!u)return!1;var d=u._valueTracker;if(!d)return!0;var m=d.getValue(),x="";return u&&(x=Ie(u)?u.checked?"true":"false":u.value),u=x,u!==m?(d.setValue(u),!0):!1}function mn(u){if(u=u||(typeof document<"u"?document:void 0),typeof u>"u")return null;try{return u.activeElement||u.body}catch{return u.body}}function bn(u,d){var m=d.checked;return F({},d,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:m??u._wrapperState.initialChecked})}function yn(u,d){var m=d.defaultValue==null?"":d.defaultValue,x=d.checked!=null?d.checked:d.defaultChecked;m=We(d.value!=null?d.value:m),u._wrapperState={initialChecked:x,initialValue:m,controlled:d.type==="checkbox"||d.type==="radio"?d.checked!=null:d.value!=null}}function vr(u,d){d=d.checked,d!=null&&M(u,"checked",d,!1)}function Ei(u,d){vr(u,d);var m=We(d.value),x=d.type;if(m!=null)x==="number"?(m===0&&u.value===""||u.value!=m)&&(u.value=""+m):u.value!==""+m&&(u.value=""+m);else if(x==="submit"||x==="reset"){u.removeAttribute("value");return}d.hasOwnProperty("value")?pi(u,d.type,m):d.hasOwnProperty("defaultValue")&&pi(u,d.type,We(d.defaultValue)),d.checked==null&&d.defaultChecked!=null&&(u.defaultChecked=!!d.defaultChecked)}function Ki(u,d,m){if(d.hasOwnProperty("value")||d.hasOwnProperty("defaultValue")){var x=d.type;if(!(x!=="submit"&&x!=="reset"||d.value!==void 0&&d.value!==null))return;d=""+u._wrapperState.initialValue,m||d===u.value||(u.value=d),u.defaultValue=d}m=u.name,m!==""&&(u.name=""),u.defaultChecked=!!u._wrapperState.initialChecked,m!==""&&(u.name=m)}function pi(u,d,m){(d!=="number"||mn(u.ownerDocument)!==u)&&(m==null?u.defaultValue=""+u._wrapperState.initialValue:u.defaultValue!==""+m&&(u.defaultValue=""+m))}var _t=Array.isArray;function ln(u,d,m,x){if(u=u.options,d){d={};for(var S=0;S<m.length;S++)d["$"+m[S]]=!0;for(m=0;m<u.length;m++)S=d.hasOwnProperty("$"+u[m].value),u[m].selected!==S&&(u[m].selected=S),S&&x&&(u[m].defaultSelected=!0)}else{for(m=""+We(m),d=null,S=0;S<u.length;S++){if(u[S].value===m){u[S].selected=!0,x&&(u[S].defaultSelected=!0);return}d!==null||u[S].disabled||(d=u[S])}d!==null&&(d.selected=!0)}}function Ct(u,d){if(d.dangerouslySetInnerHTML!=null)throw Error(n(91));return F({},d,{value:void 0,defaultValue:void 0,children:""+u._wrapperState.initialValue})}function Zt(u,d){var m=d.value;if(m==null){if(m=d.children,d=d.defaultValue,m!=null){if(d!=null)throw Error(n(92));if(_t(m)){if(1<m.length)throw Error(n(93));m=m[0]}d=m}d==null&&(d=""),m=d}u._wrapperState={initialValue:We(m)}}function xt(u,d){var m=We(d.value),x=We(d.defaultValue);m!=null&&(m=""+m,m!==u.value&&(u.value=m),d.defaultValue==null&&u.defaultValue!==m&&(u.defaultValue=m)),x!=null&&(u.defaultValue=""+x)}function Ln(u){var d=u.textContent;d===u._wrapperState.initialValue&&d!==""&&d!==null&&(u.value=d)}function Ce(u){switch(u){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ae(u,d){return u==null||u==="http://www.w3.org/1999/xhtml"?Ce(d):u==="http://www.w3.org/2000/svg"&&d==="foreignObject"?"http://www.w3.org/1999/xhtml":u}var ot,ft=function(u){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(d,m,x,S){MSApp.execUnsafeLocalFunction(function(){return u(d,m,x,S)})}:u}(function(u,d){if(u.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in u)u.innerHTML=d;else{for(ot=ot||document.createElement("div"),ot.innerHTML="<svg>"+d.valueOf().toString()+"</svg>",d=ot.firstChild;u.firstChild;)u.removeChild(u.firstChild);for(;d.firstChild;)u.appendChild(d.firstChild)}});function $t(u,d){if(d){var m=u.firstChild;if(m&&m===u.lastChild&&m.nodeType===3){m.nodeValue=d;return}}u.textContent=d}var Fn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ar=["Webkit","ms","Moz","O"];Object.keys(Fn).forEach(function(u){ar.forEach(function(d){d=d+u.charAt(0).toUpperCase()+u.substring(1),Fn[d]=Fn[u]})});function xr(u,d,m){return d==null||typeof d=="boolean"||d===""?"":m||typeof d!="number"||d===0||Fn.hasOwnProperty(u)&&Fn[u]?(""+d).trim():d+"px"}function Zn(u,d){u=u.style;for(var m in d)if(d.hasOwnProperty(m)){var x=m.indexOf("--")===0,S=xr(m,d[m],x);m==="float"&&(m="cssFloat"),x?u.setProperty(m,S):u[m]=S}}var br=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Qe(u,d){if(d){if(br[u]&&(d.children!=null||d.dangerouslySetInnerHTML!=null))throw Error(n(137,u));if(d.dangerouslySetInnerHTML!=null){if(d.children!=null)throw Error(n(60));if(typeof d.dangerouslySetInnerHTML!="object"||!("__html"in d.dangerouslySetInnerHTML))throw Error(n(61))}if(d.style!=null&&typeof d.style!="object")throw Error(n(62))}}function wr(u,d){if(u.indexOf("-")===-1)return typeof d.is=="string";switch(u){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qn=null;function Ds(u){return u=u.target||u.srcElement||window,u.correspondingUseElement&&(u=u.correspondingUseElement),u.nodeType===3?u.parentNode:u}var Ve=null,Gi=null,Yi=null;function Na(u){if(u=Ff(u)){if(typeof Ve!="function")throw Error(n(280));var d=u.stateNode;d&&(d=mm(d),Ve(u.stateNode,u.type,d))}}function Ra(u){Gi?Yi?Yi.push(u):Yi=[u]:Gi=u}function Pa(){if(Gi){var u=Gi,d=Yi;if(Yi=Gi=null,Na(u),d)for(u=0;u<d.length;u++)Na(d[u])}}function ql(u,d){return u(d)}function Lo(){}var mi=!1;function ps(u,d,m){if(mi)return u(d,m);mi=!0;try{return ql(u,d,m)}finally{mi=!1,(Gi!==null||Yi!==null)&&(Lo(),Pa())}}function Ls(u,d){var m=u.stateNode;if(m===null)return null;var x=mm(m);if(x===null)return null;m=x[d];e:switch(d){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(x=!x.disabled)||(u=u.type,x=!(u==="button"||u==="input"||u==="select"||u==="textarea")),u=!x;break e;default:u=!1}if(u)return null;if(m&&typeof m!="function")throw Error(n(231,d,typeof m));return m}var mo=!1;if(a)try{var Q={};Object.defineProperty(Q,"passive",{get:function(){mo=!0}}),window.addEventListener("test",Q,Q),window.removeEventListener("test",Q,Q)}catch{mo=!1}function ae(u,d,m,x,S,T,A,G,re){var we=Array.prototype.slice.call(arguments,3);try{d.apply(m,we)}catch(Oe){this.onError(Oe)}}var be=!1,Ne=null,Fe=!1,nt=null,et={onError:function(u){be=!0,Ne=u}};function Xe(u,d,m,x,S,T,A,G,re){be=!1,Ne=null,ae.apply(et,arguments)}function rt(u,d,m,x,S,T,A,G,re){if(Xe.apply(this,arguments),be){if(be){var we=Ne;be=!1,Ne=null}else throw Error(n(198));Fe||(Fe=!0,nt=we)}}function Je(u){var d=u,m=u;if(u.alternate)for(;d.return;)d=d.return;else{u=d;do d=u,(d.flags&4098)!==0&&(m=d.return),u=d.return;while(u)}return d.tag===3?m:null}function dt(u){if(u.tag===13){var d=u.memoizedState;if(d===null&&(u=u.alternate,u!==null&&(d=u.memoizedState)),d!==null)return d.dehydrated}return null}function lt(u){if(Je(u)!==u)throw Error(n(188))}function It(u){var d=u.alternate;if(!d){if(d=Je(u),d===null)throw Error(n(188));return d!==u?null:u}for(var m=u,x=d;;){var S=m.return;if(S===null)break;var T=S.alternate;if(T===null){if(x=S.return,x!==null){m=x;continue}break}if(S.child===T.child){for(T=S.child;T;){if(T===m)return lt(S),u;if(T===x)return lt(S),d;T=T.sibling}throw Error(n(188))}if(m.return!==x.return)m=S,x=T;else{for(var A=!1,G=S.child;G;){if(G===m){A=!0,m=S,x=T;break}if(G===x){A=!0,x=S,m=T;break}G=G.sibling}if(!A){for(G=T.child;G;){if(G===m){A=!0,m=T,x=S;break}if(G===x){A=!0,x=T,m=S;break}G=G.sibling}if(!A)throw Error(n(189))}}if(m.alternate!==x)throw Error(n(190))}if(m.tag!==3)throw Error(n(188));return m.stateNode.current===m?u:d}function Vt(u){return u=It(u),u!==null?wn(u):null}function wn(u){if(u.tag===5||u.tag===6)return u;for(u=u.child;u!==null;){var d=wn(u);if(d!==null)return d;u=u.sibling}return null}var Bn=t.unstable_scheduleCallback,er=t.unstable_cancelCallback,ht=t.unstable_shouldYield,tr=t.unstable_requestPaint,Ht=t.unstable_now,go=t.unstable_getCurrentPriorityLevel,_r=t.unstable_ImmediatePriority,Pr=t.unstable_UserBlockingPriority,ms=t.unstable_NormalPriority,Fs=t.unstable_LowPriority,Or=t.unstable_IdlePriority,gs=null,hr=null;function qt(u){if(hr&&typeof hr.onCommitFiberRoot=="function")try{hr.onCommitFiberRoot(gs,u,void 0,(u.current.flags&128)===128)}catch{}}var it=Math.clz32?Math.clz32:Sn,Bs=Math.log,ys=Math.LN2;function Sn(u){return u>>>=0,u===0?32:31-(Bs(u)/ys|0)|0}var nn=64,Xi=4194304;function Ji(u){switch(u&-u){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return u&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return u}}function zs(u,d){var m=u.pendingLanes;if(m===0)return 0;var x=0,S=u.suspendedLanes,T=u.pingedLanes,A=m&268435455;if(A!==0){var G=A&~S;G!==0?x=Ji(G):(T&=A,T!==0&&(x=Ji(T)))}else A=m&~S,A!==0?x=Ji(A):T!==0&&(x=Ji(T));if(x===0)return 0;if(d!==0&&d!==x&&(d&S)===0&&(S=x&-x,T=d&-d,S>=T||S===16&&(T&4194240)!==0))return d;if((x&4)!==0&&(x|=m&16),d=u.entangledLanes,d!==0)for(u=u.entanglements,d&=x;0<d;)m=31-it(d),S=1<<m,x|=u[m],d&=~S;return x}function wf(u,d){switch(u){case 1:case 2:case 4:return d+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _f(u,d){for(var m=u.suspendedLanes,x=u.pingedLanes,S=u.expirationTimes,T=u.pendingLanes;0<T;){var A=31-it(T),G=1<<A,re=S[A];re===-1?((G&m)===0||(G&x)!==0)&&(S[A]=wf(G,d)):re<=d&&(u.expiredLanes|=G),T&=~G}}function Oa(u){return u=u.pendingLanes&-1073741825,u!==0?u:u&1073741824?1073741824:0}function Sf(){var u=nn;return nn<<=1,(nn&4194240)===0&&(nn=64),u}function Ma(u){for(var d=[],m=0;31>m;m++)d.push(u);return d}function Aa(u,d,m){u.pendingLanes|=d,d!==536870912&&(u.suspendedLanes=0,u.pingedLanes=0),u=u.eventTimes,d=31-it(d),u[d]=m}function Ql(u,d){var m=u.pendingLanes&~d;u.pendingLanes=d,u.suspendedLanes=0,u.pingedLanes=0,u.expiredLanes&=d,u.mutableReadLanes&=d,u.entangledLanes&=d,d=u.entanglements;var x=u.eventTimes;for(u=u.expirationTimes;0<m;){var S=31-it(m),T=1<<S;d[S]=0,x[S]=-1,u[S]=-1,m&=~T}}function xc(u,d){var m=u.entangledLanes|=d;for(u=u.entanglements;m;){var x=31-it(m),S=1<<x;S&d|u[x]&d&&(u[x]|=d),m&=~S}}var gn=0;function rn(u){return u&=-u,1<u?4<u?(u&268435455)!==0?16:536870912:4:1}var bc,Cf,Xp,Yr,Fo,Da=!1,Zi=[],$s=null,Us=null,Cn=null,Xr=new Map,Hs=new Map,ki=[],Ef="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ws(u,d){switch(u){case"focusin":case"focusout":$s=null;break;case"dragenter":case"dragleave":Us=null;break;case"mouseover":case"mouseout":Cn=null;break;case"pointerover":case"pointerout":Xr.delete(d.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hs.delete(d.pointerId)}}function Kl(u,d,m,x,S,T){return u===null||u.nativeEvent!==T?(u={blockedOn:d,domEventName:m,eventSystemFlags:x,nativeEvent:T,targetContainers:[S]},d!==null&&(d=Ff(d),d!==null&&Cf(d)),u):(u.eventSystemFlags|=x,d=u.targetContainers,S!==null&&d.indexOf(S)===-1&&d.push(S),u)}function vs(u,d,m,x,S){switch(d){case"focusin":return $s=Kl($s,u,d,m,x,S),!0;case"dragenter":return Us=Kl(Us,u,d,m,x,S),!0;case"mouseover":return Cn=Kl(Cn,u,d,m,x,S),!0;case"pointerover":var T=S.pointerId;return Xr.set(T,Kl(Xr.get(T)||null,u,d,m,x,S)),!0;case"gotpointercapture":return T=S.pointerId,Hs.set(T,Kl(Hs.get(T)||null,u,d,m,x,S)),!0}return!1}function wc(u){var d=lu(u.target);if(d!==null){var m=Je(d);if(m!==null){if(d=m.tag,d===13){if(d=dt(m),d!==null){u.blockedOn=d,Fo(u.priority,function(){Xp(m)});return}}else if(d===3&&m.stateNode.current.memoizedState.isDehydrated){u.blockedOn=m.tag===3?m.stateNode.containerInfo:null;return}}}u.blockedOn=null}function Gl(u){if(u.blockedOn!==null)return!1;for(var d=u.targetContainers;0<d.length;){var m=Xl(u.domEventName,u.eventSystemFlags,d[0],u.nativeEvent);if(m===null){m=u.nativeEvent;var x=new m.constructor(m.type,m);qn=x,m.target.dispatchEvent(x),qn=null}else return d=Ff(m),d!==null&&Cf(d),u.blockedOn=m,!1;d.shift()}return!0}function _c(u,d,m){Gl(u)&&m.delete(d)}function Yl(){Da=!1,$s!==null&&Gl($s)&&($s=null),Us!==null&&Gl(Us)&&(Us=null),Cn!==null&&Gl(Cn)&&(Cn=null),Xr.forEach(_c),Hs.forEach(_c)}function Bo(u,d){u.blockedOn===d&&(u.blockedOn=null,Da||(Da=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Yl)))}function La(u){function d(S){return Bo(S,u)}if(0<Zi.length){Bo(Zi[0],u);for(var m=1;m<Zi.length;m++){var x=Zi[m];x.blockedOn===u&&(x.blockedOn=null)}}for($s!==null&&Bo($s,u),Us!==null&&Bo(Us,u),Cn!==null&&Bo(Cn,u),Xr.forEach(d),Hs.forEach(d),m=0;m<ki.length;m++)x=ki[m],x.blockedOn===u&&(x.blockedOn=null);for(;0<ki.length&&(m=ki[0],m.blockedOn===null);)wc(m),m.blockedOn===null&&ki.shift()}var Fa=U.ReactCurrentBatchConfig,yo=!0;function C1(u,d,m,x){var S=gn,T=Fa.transition;Fa.transition=null;try{gn=1,Ba(u,d,m,x)}finally{gn=S,Fa.transition=T}}function E1(u,d,m,x){var S=gn,T=Fa.transition;Fa.transition=null;try{gn=4,Ba(u,d,m,x)}finally{gn=S,Fa.transition=T}}function Ba(u,d,m,x){if(yo){var S=Xl(u,d,m,x);if(S===null)O1(u,d,x,zo,m),Ws(u,x);else if(vs(S,u,d,m,x))x.stopPropagation();else if(Ws(u,x),d&4&&-1<Ef.indexOf(u)){for(;S!==null;){var T=Ff(S);if(T!==null&&bc(T),T=Xl(u,d,m,x),T===null&&O1(u,d,x,zo,m),T===S)break;S=T}S!==null&&x.stopPropagation()}else O1(u,d,x,null,m)}}var zo=null;function Xl(u,d,m,x){if(zo=null,u=Ds(x),u=lu(u),u!==null)if(d=Je(u),d===null)u=null;else if(m=d.tag,m===13){if(u=dt(d),u!==null)return u;u=null}else if(m===3){if(d.stateNode.current.memoizedState.isDehydrated)return d.tag===3?d.stateNode.containerInfo:null;u=null}else d!==u&&(u=null);return zo=u,null}function Jp(u){switch(u){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(go()){case _r:return 1;case Pr:return 4;case ms:case Fs:return 16;case Or:return 536870912;default:return 16}default:return 16}}var vo=null,kf=null,za=null;function Sc(){if(za)return za;var u,d=kf,m=d.length,x,S="value"in vo?vo.value:vo.textContent,T=S.length;for(u=0;u<m&&d[u]===S[u];u++);var A=m-u;for(x=1;x<=A&&d[m-x]===S[T-x];x++);return za=S.slice(u,1<x?1-x:void 0)}function Jl(u){var d=u.keyCode;return"charCode"in u?(u=u.charCode,u===0&&d===13&&(u=13)):u=d,u===10&&(u=13),32<=u||u===13?u:0}function $o(){return!0}function Zl(){return!1}function Mr(u){function d(m,x,S,T,A){this._reactName=m,this._targetInst=S,this.type=x,this.nativeEvent=T,this.target=A,this.currentTarget=null;for(var G in u)u.hasOwnProperty(G)&&(m=u[G],this[G]=m?m(T):T[G]);return this.isDefaultPrevented=(T.defaultPrevented!=null?T.defaultPrevented:T.returnValue===!1)?$o:Zl,this.isPropagationStopped=Zl,this}return F(d.prototype,{preventDefault:function(){this.defaultPrevented=!0;var m=this.nativeEvent;m&&(m.preventDefault?m.preventDefault():typeof m.returnValue!="unknown"&&(m.returnValue=!1),this.isDefaultPrevented=$o)},stopPropagation:function(){var m=this.nativeEvent;m&&(m.stopPropagation?m.stopPropagation():typeof m.cancelBubble!="unknown"&&(m.cancelBubble=!0),this.isPropagationStopped=$o)},persist:function(){},isPersistent:$o}),d}var Uo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(u){return u.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Tf=Mr(Uo),xo=F({},Uo,{view:0,detail:0}),jf=Mr(xo),eu,tu,Ho,lr=F({},xo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ru,button:0,buttons:0,relatedTarget:function(u){return u.relatedTarget===void 0?u.fromElement===u.srcElement?u.toElement:u.fromElement:u.relatedTarget},movementX:function(u){return"movementX"in u?u.movementX:(u!==Ho&&(Ho&&u.type==="mousemove"?(eu=u.screenX-Ho.screenX,tu=u.screenY-Ho.screenY):tu=eu=0,Ho=u),eu)},movementY:function(u){return"movementY"in u?u.movementY:tu}}),$a=Mr(lr),nu=F({},lr,{dataTransfer:0}),Zp=Mr(nu),Cc=F({},xo,{relatedTarget:0}),Ec=Mr(Cc),em=F({},Uo,{animationName:0,elapsedTime:0,pseudoElement:0}),kc=Mr(em),If=F({},Uo,{clipboardData:function(u){return"clipboardData"in u?u.clipboardData:window.clipboardData}}),Wo=Mr(If),Nf=F({},Uo,{data:0}),Tc=Mr(Nf),jc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Rf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},tm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function k1(u){var d=this.nativeEvent;return d.getModifierState?d.getModifierState(u):(u=tm[u])?!!d[u]:!1}function ru(){return k1}var Ic=F({},xo,{key:function(u){if(u.key){var d=jc[u.key]||u.key;if(d!=="Unidentified")return d}return u.type==="keypress"?(u=Jl(u),u===13?"Enter":String.fromCharCode(u)):u.type==="keydown"||u.type==="keyup"?Rf[u.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ru,charCode:function(u){return u.type==="keypress"?Jl(u):0},keyCode:function(u){return u.type==="keydown"||u.type==="keyup"?u.keyCode:0},which:function(u){return u.type==="keypress"?Jl(u):u.type==="keydown"||u.type==="keyup"?u.keyCode:0}}),T1=Mr(Ic),Pf=F({},lr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Nc=Mr(Pf),j1=F({},xo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ru}),nm=Mr(j1),I1=F({},Uo,{propertyName:0,elapsedTime:0,pseudoElement:0}),rm=Mr(I1),im=F({},lr,{deltaX:function(u){return"deltaX"in u?u.deltaX:"wheelDeltaX"in u?-u.wheelDeltaX:0},deltaY:function(u){return"deltaY"in u?u.deltaY:"wheelDeltaY"in u?-u.wheelDeltaY:"wheelDelta"in u?-u.wheelDelta:0},deltaZ:0,deltaMode:0}),N1=Mr(im),sm=[9,13,27,32],iu=a&&"CompositionEvent"in window,Ua=null;a&&"documentMode"in document&&(Ua=document.documentMode);var om=a&&"TextEvent"in window&&!Ua,am=a&&(!iu||Ua&&8<Ua&&11>=Ua),lm=" ",um=!1;function su(u,d){switch(u){case"keyup":return sm.indexOf(d.keyCode)!==-1;case"keydown":return d.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xs(u){return u=u.detail,typeof u=="object"&&"data"in u?u.data:null}var _n=!1;function Rc(u,d){switch(u){case"compositionend":return xs(d);case"keypress":return d.which!==32?null:(um=!0,lm);case"textInput":return u=d.data,u===lm&&um?null:u;default:return null}}function Ti(u,d){if(_n)return u==="compositionend"||!iu&&su(u,d)?(u=Sc(),za=kf=vo=null,_n=!1,u):null;switch(u){case"paste":return null;case"keypress":if(!(d.ctrlKey||d.altKey||d.metaKey)||d.ctrlKey&&d.altKey){if(d.char&&1<d.char.length)return d.char;if(d.which)return String.fromCharCode(d.which)}return null;case"compositionend":return am&&d.locale!=="ko"?null:d.data;default:return null}}var R1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Pc(u){var d=u&&u.nodeName&&u.nodeName.toLowerCase();return d==="input"?!!R1[u.type]:d==="textarea"}function Of(u,d,m,x){Ra(x),d=fm(d,"onChange"),0<d.length&&(m=new Tf("onChange","change",null,m,x),u.push({event:m,listeners:d}))}var es=null,Vo=null;function Ha(u){DS(u,0)}function ts(u){var d=Ac(u);if(ct(d))return u}function cm(u,d){if(u==="change")return d}var v=!1;if(a){var w;if(a){var k="oninput"in document;if(!k){var I=document.createElement("div");I.setAttribute("oninput","return;"),k=typeof I.oninput=="function"}w=k}else w=!1;v=w&&(!document.documentMode||9<document.documentMode)}function O(){es&&(es.detachEvent("onpropertychange",L),Vo=es=null)}function L(u){if(u.propertyName==="value"&&ts(Vo)){var d=[];Of(d,Vo,u,Ds(u)),ps(Ha,d)}}function W(u,d,m){u==="focusin"?(O(),es=d,Vo=m,es.attachEvent("onpropertychange",L)):u==="focusout"&&O()}function ee(u){if(u==="selectionchange"||u==="keyup"||u==="keydown")return ts(Vo)}function se(u,d){if(u==="click")return ts(d)}function le(u,d){if(u==="input"||u==="change")return ts(d)}function he(u,d){return u===d&&(u!==0||1/u===1/d)||u!==u&&d!==d}var te=typeof Object.is=="function"?Object.is:he;function pe(u,d){if(te(u,d))return!0;if(typeof u!="object"||u===null||typeof d!="object"||d===null)return!1;var m=Object.keys(u),x=Object.keys(d);if(m.length!==x.length)return!1;for(x=0;x<m.length;x++){var S=m[x];if(!l.call(d,S)||!te(u[S],d[S]))return!1}return!0}function oe(u){for(;u&&u.firstChild;)u=u.firstChild;return u}function fe(u,d){var m=oe(u);u=0;for(var x;m;){if(m.nodeType===3){if(x=u+m.textContent.length,u<=d&&x>=d)return{node:m,offset:d-u};u=x}e:{for(;m;){if(m.nextSibling){m=m.nextSibling;break e}m=m.parentNode}m=void 0}m=oe(m)}}function me(u,d){return u&&d?u===d?!0:u&&u.nodeType===3?!1:d&&d.nodeType===3?me(u,d.parentNode):"contains"in u?u.contains(d):u.compareDocumentPosition?!!(u.compareDocumentPosition(d)&16):!1:!1}function ce(){for(var u=window,d=mn();d instanceof u.HTMLIFrameElement;){try{var m=typeof d.contentWindow.location.href=="string"}catch{m=!1}if(m)u=d.contentWindow;else break;d=mn(u.document)}return d}function ve(u){var d=u&&u.nodeName&&u.nodeName.toLowerCase();return d&&(d==="input"&&(u.type==="text"||u.type==="search"||u.type==="tel"||u.type==="url"||u.type==="password")||d==="textarea"||u.contentEditable==="true")}function _e(u){var d=ce(),m=u.focusedElem,x=u.selectionRange;if(d!==m&&m&&m.ownerDocument&&me(m.ownerDocument.documentElement,m)){if(x!==null&&ve(m)){if(d=x.start,u=x.end,u===void 0&&(u=d),"selectionStart"in m)m.selectionStart=d,m.selectionEnd=Math.min(u,m.value.length);else if(u=(d=m.ownerDocument||document)&&d.defaultView||window,u.getSelection){u=u.getSelection();var S=m.textContent.length,T=Math.min(x.start,S);x=x.end===void 0?T:Math.min(x.end,S),!u.extend&&T>x&&(S=x,x=T,T=S),S=fe(m,T);var A=fe(m,x);S&&A&&(u.rangeCount!==1||u.anchorNode!==S.node||u.anchorOffset!==S.offset||u.focusNode!==A.node||u.focusOffset!==A.offset)&&(d=d.createRange(),d.setStart(S.node,S.offset),u.removeAllRanges(),T>x?(u.addRange(d),u.extend(A.node,A.offset)):(d.setEnd(A.node,A.offset),u.addRange(d)))}}for(d=[],u=m;u=u.parentNode;)u.nodeType===1&&d.push({element:u,left:u.scrollLeft,top:u.scrollTop});for(typeof m.focus=="function"&&m.focus(),m=0;m<d.length;m++)u=d[m],u.element.scrollLeft=u.left,u.element.scrollTop=u.top}}var Se=a&&"documentMode"in document&&11>=document.documentMode,Ee=null,De=null,He=null,Le=!1;function ze(u,d,m){var x=m.window===m?m.document:m.nodeType===9?m:m.ownerDocument;Le||Ee==null||Ee!==mn(x)||(x=Ee,"selectionStart"in x&&ve(x)?x={start:x.selectionStart,end:x.selectionEnd}:(x=(x.ownerDocument&&x.ownerDocument.defaultView||window).getSelection(),x={anchorNode:x.anchorNode,anchorOffset:x.anchorOffset,focusNode:x.focusNode,focusOffset:x.focusOffset}),He&&pe(He,x)||(He=x,x=fm(De,"onSelect"),0<x.length&&(d=new Tf("onSelect","select",null,d,m),u.push({event:d,listeners:x}),d.target=Ee)))}function qe(u,d){var m={};return m[u.toLowerCase()]=d.toLowerCase(),m["Webkit"+u]="webkit"+d,m["Moz"+u]="moz"+d,m}var $e={animationend:qe("Animation","AnimationEnd"),animationiteration:qe("Animation","AnimationIteration"),animationstart:qe("Animation","AnimationStart"),transitionend:qe("Transition","TransitionEnd")},Ye={},Et={};a&&(Et=document.createElement("div").style,"AnimationEvent"in window||(delete $e.animationend.animation,delete $e.animationiteration.animation,delete $e.animationstart.animation),"TransitionEvent"in window||delete $e.transitionend.transition);function Nt(u){if(Ye[u])return Ye[u];if(!$e[u])return u;var d=$e[u],m;for(m in d)if(d.hasOwnProperty(m)&&m in Et)return Ye[u]=d[m];return u}var Ft=Nt("animationend"),Jr=Nt("animationiteration"),St=Nt("animationstart"),Sr=Nt("transitionend"),Cr=new Map,ou="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function zn(u,d){Cr.set(u,d),s(d,[u])}for(var Vs=0;Vs<ou.length;Vs++){var au=ou[Vs],rP=au.toLowerCase(),iP=au[0].toUpperCase()+au.slice(1);zn(rP,"on"+iP)}zn(Ft,"onAnimationEnd"),zn(Jr,"onAnimationIteration"),zn(St,"onAnimationStart"),zn("dblclick","onDoubleClick"),zn("focusin","onFocus"),zn("focusout","onBlur"),zn(Sr,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),sP=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mf));function AS(u,d,m){var x=u.type||"unknown-event";u.currentTarget=m,rt(x,d,void 0,u),u.currentTarget=null}function DS(u,d){d=(d&4)!==0;for(var m=0;m<u.length;m++){var x=u[m],S=x.event;x=x.listeners;e:{var T=void 0;if(d)for(var A=x.length-1;0<=A;A--){var G=x[A],re=G.instance,we=G.currentTarget;if(G=G.listener,re!==T&&S.isPropagationStopped())break e;AS(S,G,we),T=re}else for(A=0;A<x.length;A++){if(G=x[A],re=G.instance,we=G.currentTarget,G=G.listener,re!==T&&S.isPropagationStopped())break e;AS(S,G,we),T=re}}}if(Fe)throw u=nt,Fe=!1,nt=null,u}function Mn(u,d){var m=d[B1];m===void 0&&(m=d[B1]=new Set);var x=u+"__bubble";m.has(x)||(LS(d,u,2,!1),m.add(x))}function P1(u,d,m){var x=0;d&&(x|=4),LS(m,u,x,d)}var dm="_reactListening"+Math.random().toString(36).slice(2);function Af(u){if(!u[dm]){u[dm]=!0,r.forEach(function(m){m!=="selectionchange"&&(sP.has(m)||P1(m,!1,u),P1(m,!0,u))});var d=u.nodeType===9?u:u.ownerDocument;d===null||d[dm]||(d[dm]=!0,P1("selectionchange",!1,d))}}function LS(u,d,m,x){switch(Jp(d)){case 1:var S=C1;break;case 4:S=E1;break;default:S=Ba}m=S.bind(null,d,m,u),S=void 0,!mo||d!=="touchstart"&&d!=="touchmove"&&d!=="wheel"||(S=!0),x?S!==void 0?u.addEventListener(d,m,{capture:!0,passive:S}):u.addEventListener(d,m,!0):S!==void 0?u.addEventListener(d,m,{passive:S}):u.addEventListener(d,m,!1)}function O1(u,d,m,x,S){var T=x;if((d&1)===0&&(d&2)===0&&x!==null)e:for(;;){if(x===null)return;var A=x.tag;if(A===3||A===4){var G=x.stateNode.containerInfo;if(G===S||G.nodeType===8&&G.parentNode===S)break;if(A===4)for(A=x.return;A!==null;){var re=A.tag;if((re===3||re===4)&&(re=A.stateNode.containerInfo,re===S||re.nodeType===8&&re.parentNode===S))return;A=A.return}for(;G!==null;){if(A=lu(G),A===null)return;if(re=A.tag,re===5||re===6){x=T=A;continue e}G=G.parentNode}}x=x.return}ps(function(){var we=T,Oe=Ds(m),Me=[];e:{var Re=Cr.get(u);if(Re!==void 0){var Ze=Tf,st=u;switch(u){case"keypress":if(Jl(m)===0)break e;case"keydown":case"keyup":Ze=T1;break;case"focusin":st="focus",Ze=Ec;break;case"focusout":st="blur",Ze=Ec;break;case"beforeblur":case"afterblur":Ze=Ec;break;case"click":if(m.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ze=$a;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ze=Zp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ze=nm;break;case Ft:case Jr:case St:Ze=kc;break;case Sr:Ze=rm;break;case"scroll":Ze=jf;break;case"wheel":Ze=N1;break;case"copy":case"cut":case"paste":Ze=Wo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ze=Nc}var at=(d&4)!==0,ur=!at&&u==="scroll",ye=at?Re!==null?Re+"Capture":null:Re;at=[];for(var ue=we,xe;ue!==null;){xe=ue;var Ue=xe.stateNode;if(xe.tag===5&&Ue!==null&&(xe=Ue,ye!==null&&(Ue=Ls(ue,ye),Ue!=null&&at.push(Df(ue,Ue,xe)))),ur)break;ue=ue.return}0<at.length&&(Re=new Ze(Re,st,null,m,Oe),Me.push({event:Re,listeners:at}))}}if((d&7)===0){e:{if(Re=u==="mouseover"||u==="pointerover",Ze=u==="mouseout"||u==="pointerout",Re&&m!==qn&&(st=m.relatedTarget||m.fromElement)&&(lu(st)||st[qo]))break e;if((Ze||Re)&&(Re=Oe.window===Oe?Oe:(Re=Oe.ownerDocument)?Re.defaultView||Re.parentWindow:window,Ze?(st=m.relatedTarget||m.toElement,Ze=we,st=st?lu(st):null,st!==null&&(ur=Je(st),st!==ur||st.tag!==5&&st.tag!==6)&&(st=null)):(Ze=null,st=we),Ze!==st)){if(at=$a,Ue="onMouseLeave",ye="onMouseEnter",ue="mouse",(u==="pointerout"||u==="pointerover")&&(at=Nc,Ue="onPointerLeave",ye="onPointerEnter",ue="pointer"),ur=Ze==null?Re:Ac(Ze),xe=st==null?Re:Ac(st),Re=new at(Ue,ue+"leave",Ze,m,Oe),Re.target=ur,Re.relatedTarget=xe,Ue=null,lu(Oe)===we&&(at=new at(ye,ue+"enter",st,m,Oe),at.target=xe,at.relatedTarget=ur,Ue=at),ur=Ue,Ze&&st)t:{for(at=Ze,ye=st,ue=0,xe=at;xe;xe=Oc(xe))ue++;for(xe=0,Ue=ye;Ue;Ue=Oc(Ue))xe++;for(;0<ue-xe;)at=Oc(at),ue--;for(;0<xe-ue;)ye=Oc(ye),xe--;for(;ue--;){if(at===ye||ye!==null&&at===ye.alternate)break t;at=Oc(at),ye=Oc(ye)}at=null}else at=null;Ze!==null&&FS(Me,Re,Ze,at,!1),st!==null&&ur!==null&&FS(Me,ur,st,at,!0)}}e:{if(Re=we?Ac(we):window,Ze=Re.nodeName&&Re.nodeName.toLowerCase(),Ze==="select"||Ze==="input"&&Re.type==="file")var ut=cm;else if(Pc(Re))if(v)ut=le;else{ut=ee;var pt=W}else(Ze=Re.nodeName)&&Ze.toLowerCase()==="input"&&(Re.type==="checkbox"||Re.type==="radio")&&(ut=se);if(ut&&(ut=ut(u,we))){Of(Me,ut,m,Oe);break e}pt&&pt(u,Re,we),u==="focusout"&&(pt=Re._wrapperState)&&pt.controlled&&Re.type==="number"&&pi(Re,"number",Re.value)}switch(pt=we?Ac(we):window,u){case"focusin":(Pc(pt)||pt.contentEditable==="true")&&(Ee=pt,De=we,He=null);break;case"focusout":He=De=Ee=null;break;case"mousedown":Le=!0;break;case"contextmenu":case"mouseup":case"dragend":Le=!1,ze(Me,m,Oe);break;case"selectionchange":if(Se)break;case"keydown":case"keyup":ze(Me,m,Oe)}var mt;if(iu)e:{switch(u){case"compositionstart":var bt="onCompositionStart";break e;case"compositionend":bt="onCompositionEnd";break e;case"compositionupdate":bt="onCompositionUpdate";break e}bt=void 0}else _n?su(u,m)&&(bt="onCompositionEnd"):u==="keydown"&&m.keyCode===229&&(bt="onCompositionStart");bt&&(am&&m.locale!=="ko"&&(_n||bt!=="onCompositionStart"?bt==="onCompositionEnd"&&_n&&(mt=Sc()):(vo=Oe,kf="value"in vo?vo.value:vo.textContent,_n=!0)),pt=fm(we,bt),0<pt.length&&(bt=new Tc(bt,u,null,m,Oe),Me.push({event:bt,listeners:pt}),mt?bt.data=mt:(mt=xs(m),mt!==null&&(bt.data=mt)))),(mt=om?Rc(u,m):Ti(u,m))&&(we=fm(we,"onBeforeInput"),0<we.length&&(Oe=new Tc("onBeforeInput","beforeinput",null,m,Oe),Me.push({event:Oe,listeners:we}),Oe.data=mt))}DS(Me,d)})}function Df(u,d,m){return{instance:u,listener:d,currentTarget:m}}function fm(u,d){for(var m=d+"Capture",x=[];u!==null;){var S=u,T=S.stateNode;S.tag===5&&T!==null&&(S=T,T=Ls(u,m),T!=null&&x.unshift(Df(u,T,S)),T=Ls(u,d),T!=null&&x.push(Df(u,T,S))),u=u.return}return x}function Oc(u){if(u===null)return null;do u=u.return;while(u&&u.tag!==5);return u||null}function FS(u,d,m,x,S){for(var T=d._reactName,A=[];m!==null&&m!==x;){var G=m,re=G.alternate,we=G.stateNode;if(re!==null&&re===x)break;G.tag===5&&we!==null&&(G=we,S?(re=Ls(m,T),re!=null&&A.unshift(Df(m,re,G))):S||(re=Ls(m,T),re!=null&&A.push(Df(m,re,G)))),m=m.return}A.length!==0&&u.push({event:d,listeners:A})}var oP=/\r\n?/g,aP=/\u0000|\uFFFD/g;function BS(u){return(typeof u=="string"?u:""+u).replace(oP,`
`).replace(aP,"")}function hm(u,d,m){if(d=BS(d),BS(u)!==d&&m)throw Error(n(425))}function pm(){}var M1=null,A1=null;function D1(u,d){return u==="textarea"||u==="noscript"||typeof d.children=="string"||typeof d.children=="number"||typeof d.dangerouslySetInnerHTML=="object"&&d.dangerouslySetInnerHTML!==null&&d.dangerouslySetInnerHTML.__html!=null}var L1=typeof setTimeout=="function"?setTimeout:void 0,lP=typeof clearTimeout=="function"?clearTimeout:void 0,zS=typeof Promise=="function"?Promise:void 0,uP=typeof queueMicrotask=="function"?queueMicrotask:typeof zS<"u"?function(u){return zS.resolve(null).then(u).catch(cP)}:L1;function cP(u){setTimeout(function(){throw u})}function F1(u,d){var m=d,x=0;do{var S=m.nextSibling;if(u.removeChild(m),S&&S.nodeType===8)if(m=S.data,m==="/$"){if(x===0){u.removeChild(S),La(d);return}x--}else m!=="$"&&m!=="$?"&&m!=="$!"||x++;m=S}while(m);La(d)}function Wa(u){for(;u!=null;u=u.nextSibling){var d=u.nodeType;if(d===1||d===3)break;if(d===8){if(d=u.data,d==="$"||d==="$!"||d==="$?")break;if(d==="/$")return null}}return u}function $S(u){u=u.previousSibling;for(var d=0;u;){if(u.nodeType===8){var m=u.data;if(m==="$"||m==="$!"||m==="$?"){if(d===0)return u;d--}else m==="/$"&&d++}u=u.previousSibling}return null}var Mc=Math.random().toString(36).slice(2),bo="__reactFiber$"+Mc,Lf="__reactProps$"+Mc,qo="__reactContainer$"+Mc,B1="__reactEvents$"+Mc,dP="__reactListeners$"+Mc,fP="__reactHandles$"+Mc;function lu(u){var d=u[bo];if(d)return d;for(var m=u.parentNode;m;){if(d=m[qo]||m[bo]){if(m=d.alternate,d.child!==null||m!==null&&m.child!==null)for(u=$S(u);u!==null;){if(m=u[bo])return m;u=$S(u)}return d}u=m,m=u.parentNode}return null}function Ff(u){return u=u[bo]||u[qo],!u||u.tag!==5&&u.tag!==6&&u.tag!==13&&u.tag!==3?null:u}function Ac(u){if(u.tag===5||u.tag===6)return u.stateNode;throw Error(n(33))}function mm(u){return u[Lf]||null}var z1=[],Dc=-1;function Va(u){return{current:u}}function An(u){0>Dc||(u.current=z1[Dc],z1[Dc]=null,Dc--)}function kn(u,d){Dc++,z1[Dc]=u.current,u.current=d}var qa={},Zr=Va(qa),ji=Va(!1),uu=qa;function Lc(u,d){var m=u.type.contextTypes;if(!m)return qa;var x=u.stateNode;if(x&&x.__reactInternalMemoizedUnmaskedChildContext===d)return x.__reactInternalMemoizedMaskedChildContext;var S={},T;for(T in m)S[T]=d[T];return x&&(u=u.stateNode,u.__reactInternalMemoizedUnmaskedChildContext=d,u.__reactInternalMemoizedMaskedChildContext=S),S}function Ii(u){return u=u.childContextTypes,u!=null}function gm(){An(ji),An(Zr)}function US(u,d,m){if(Zr.current!==qa)throw Error(n(168));kn(Zr,d),kn(ji,m)}function HS(u,d,m){var x=u.stateNode;if(d=d.childContextTypes,typeof x.getChildContext!="function")return m;x=x.getChildContext();for(var S in x)if(!(S in d))throw Error(n(108,Ke(u)||"Unknown",S));return F({},m,x)}function ym(u){return u=(u=u.stateNode)&&u.__reactInternalMemoizedMergedChildContext||qa,uu=Zr.current,kn(Zr,u),kn(ji,ji.current),!0}function WS(u,d,m){var x=u.stateNode;if(!x)throw Error(n(169));m?(u=HS(u,d,uu),x.__reactInternalMemoizedMergedChildContext=u,An(ji),An(Zr),kn(Zr,u)):An(ji),kn(ji,m)}var Qo=null,vm=!1,$1=!1;function VS(u){Qo===null?Qo=[u]:Qo.push(u)}function hP(u){vm=!0,VS(u)}function Qa(){if(!$1&&Qo!==null){$1=!0;var u=0,d=gn;try{var m=Qo;for(gn=1;u<m.length;u++){var x=m[u];do x=x(!0);while(x!==null)}Qo=null,vm=!1}catch(S){throw Qo!==null&&(Qo=Qo.slice(u+1)),Bn(_r,Qa),S}finally{gn=d,$1=!1}}return null}var Fc=[],Bc=0,xm=null,bm=0,bs=[],ws=0,cu=null,Ko=1,Go="";function du(u,d){Fc[Bc++]=bm,Fc[Bc++]=xm,xm=u,bm=d}function qS(u,d,m){bs[ws++]=Ko,bs[ws++]=Go,bs[ws++]=cu,cu=u;var x=Ko;u=Go;var S=32-it(x)-1;x&=~(1<<S),m+=1;var T=32-it(d)+S;if(30<T){var A=S-S%5;T=(x&(1<<A)-1).toString(32),x>>=A,S-=A,Ko=1<<32-it(d)+S|m<<S|x,Go=T+u}else Ko=1<<T|m<<S|x,Go=u}function U1(u){u.return!==null&&(du(u,1),qS(u,1,0))}function H1(u){for(;u===xm;)xm=Fc[--Bc],Fc[Bc]=null,bm=Fc[--Bc],Fc[Bc]=null;for(;u===cu;)cu=bs[--ws],bs[ws]=null,Go=bs[--ws],bs[ws]=null,Ko=bs[--ws],bs[ws]=null}var ns=null,rs=null,$n=!1,qs=null;function QS(u,d){var m=Es(5,null,null,0);m.elementType="DELETED",m.stateNode=d,m.return=u,d=u.deletions,d===null?(u.deletions=[m],u.flags|=16):d.push(m)}function KS(u,d){switch(u.tag){case 5:var m=u.type;return d=d.nodeType!==1||m.toLowerCase()!==d.nodeName.toLowerCase()?null:d,d!==null?(u.stateNode=d,ns=u,rs=Wa(d.firstChild),!0):!1;case 6:return d=u.pendingProps===""||d.nodeType!==3?null:d,d!==null?(u.stateNode=d,ns=u,rs=null,!0):!1;case 13:return d=d.nodeType!==8?null:d,d!==null?(m=cu!==null?{id:Ko,overflow:Go}:null,u.memoizedState={dehydrated:d,treeContext:m,retryLane:1073741824},m=Es(18,null,null,0),m.stateNode=d,m.return=u,u.child=m,ns=u,rs=null,!0):!1;default:return!1}}function W1(u){return(u.mode&1)!==0&&(u.flags&128)===0}function V1(u){if($n){var d=rs;if(d){var m=d;if(!KS(u,d)){if(W1(u))throw Error(n(418));d=Wa(m.nextSibling);var x=ns;d&&KS(u,d)?QS(x,m):(u.flags=u.flags&-4097|2,$n=!1,ns=u)}}else{if(W1(u))throw Error(n(418));u.flags=u.flags&-4097|2,$n=!1,ns=u}}}function GS(u){for(u=u.return;u!==null&&u.tag!==5&&u.tag!==3&&u.tag!==13;)u=u.return;ns=u}function wm(u){if(u!==ns)return!1;if(!$n)return GS(u),$n=!0,!1;var d;if((d=u.tag!==3)&&!(d=u.tag!==5)&&(d=u.type,d=d!=="head"&&d!=="body"&&!D1(u.type,u.memoizedProps)),d&&(d=rs)){if(W1(u))throw YS(),Error(n(418));for(;d;)QS(u,d),d=Wa(d.nextSibling)}if(GS(u),u.tag===13){if(u=u.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(n(317));e:{for(u=u.nextSibling,d=0;u;){if(u.nodeType===8){var m=u.data;if(m==="/$"){if(d===0){rs=Wa(u.nextSibling);break e}d--}else m!=="$"&&m!=="$!"&&m!=="$?"||d++}u=u.nextSibling}rs=null}}else rs=ns?Wa(u.stateNode.nextSibling):null;return!0}function YS(){for(var u=rs;u;)u=Wa(u.nextSibling)}function zc(){rs=ns=null,$n=!1}function q1(u){qs===null?qs=[u]:qs.push(u)}var pP=U.ReactCurrentBatchConfig;function Bf(u,d,m){if(u=m.ref,u!==null&&typeof u!="function"&&typeof u!="object"){if(m._owner){if(m=m._owner,m){if(m.tag!==1)throw Error(n(309));var x=m.stateNode}if(!x)throw Error(n(147,u));var S=x,T=""+u;return d!==null&&d.ref!==null&&typeof d.ref=="function"&&d.ref._stringRef===T?d.ref:(d=function(A){var G=S.refs;A===null?delete G[T]:G[T]=A},d._stringRef=T,d)}if(typeof u!="string")throw Error(n(284));if(!m._owner)throw Error(n(290,u))}return u}function _m(u,d){throw u=Object.prototype.toString.call(d),Error(n(31,u==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":u))}function XS(u){var d=u._init;return d(u._payload)}function JS(u){function d(ye,ue){if(u){var xe=ye.deletions;xe===null?(ye.deletions=[ue],ye.flags|=16):xe.push(ue)}}function m(ye,ue){if(!u)return null;for(;ue!==null;)d(ye,ue),ue=ue.sibling;return null}function x(ye,ue){for(ye=new Map;ue!==null;)ue.key!==null?ye.set(ue.key,ue):ye.set(ue.index,ue),ue=ue.sibling;return ye}function S(ye,ue){return ye=tl(ye,ue),ye.index=0,ye.sibling=null,ye}function T(ye,ue,xe){return ye.index=xe,u?(xe=ye.alternate,xe!==null?(xe=xe.index,xe<ue?(ye.flags|=2,ue):xe):(ye.flags|=2,ue)):(ye.flags|=1048576,ue)}function A(ye){return u&&ye.alternate===null&&(ye.flags|=2),ye}function G(ye,ue,xe,Ue){return ue===null||ue.tag!==6?(ue=Lv(xe,ye.mode,Ue),ue.return=ye,ue):(ue=S(ue,xe),ue.return=ye,ue)}function re(ye,ue,xe,Ue){var ut=xe.type;return ut===N?Oe(ye,ue,xe.props.children,Ue,xe.key):ue!==null&&(ue.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===K&&XS(ut)===ue.type)?(Ue=S(ue,xe.props),Ue.ref=Bf(ye,ue,xe),Ue.return=ye,Ue):(Ue=qm(xe.type,xe.key,xe.props,null,ye.mode,Ue),Ue.ref=Bf(ye,ue,xe),Ue.return=ye,Ue)}function we(ye,ue,xe,Ue){return ue===null||ue.tag!==4||ue.stateNode.containerInfo!==xe.containerInfo||ue.stateNode.implementation!==xe.implementation?(ue=Fv(xe,ye.mode,Ue),ue.return=ye,ue):(ue=S(ue,xe.children||[]),ue.return=ye,ue)}function Oe(ye,ue,xe,Ue,ut){return ue===null||ue.tag!==7?(ue=xu(xe,ye.mode,Ue,ut),ue.return=ye,ue):(ue=S(ue,xe),ue.return=ye,ue)}function Me(ye,ue,xe){if(typeof ue=="string"&&ue!==""||typeof ue=="number")return ue=Lv(""+ue,ye.mode,xe),ue.return=ye,ue;if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case z:return xe=qm(ue.type,ue.key,ue.props,null,ye.mode,xe),xe.ref=Bf(ye,null,ue),xe.return=ye,xe;case P:return ue=Fv(ue,ye.mode,xe),ue.return=ye,ue;case K:var Ue=ue._init;return Me(ye,Ue(ue._payload),xe)}if(_t(ue)||de(ue))return ue=xu(ue,ye.mode,xe,null),ue.return=ye,ue;_m(ye,ue)}return null}function Re(ye,ue,xe,Ue){var ut=ue!==null?ue.key:null;if(typeof xe=="string"&&xe!==""||typeof xe=="number")return ut!==null?null:G(ye,ue,""+xe,Ue);if(typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case z:return xe.key===ut?re(ye,ue,xe,Ue):null;case P:return xe.key===ut?we(ye,ue,xe,Ue):null;case K:return ut=xe._init,Re(ye,ue,ut(xe._payload),Ue)}if(_t(xe)||de(xe))return ut!==null?null:Oe(ye,ue,xe,Ue,null);_m(ye,xe)}return null}function Ze(ye,ue,xe,Ue,ut){if(typeof Ue=="string"&&Ue!==""||typeof Ue=="number")return ye=ye.get(xe)||null,G(ue,ye,""+Ue,ut);if(typeof Ue=="object"&&Ue!==null){switch(Ue.$$typeof){case z:return ye=ye.get(Ue.key===null?xe:Ue.key)||null,re(ue,ye,Ue,ut);case P:return ye=ye.get(Ue.key===null?xe:Ue.key)||null,we(ue,ye,Ue,ut);case K:var pt=Ue._init;return Ze(ye,ue,xe,pt(Ue._payload),ut)}if(_t(Ue)||de(Ue))return ye=ye.get(xe)||null,Oe(ue,ye,Ue,ut,null);_m(ue,Ue)}return null}function st(ye,ue,xe,Ue){for(var ut=null,pt=null,mt=ue,bt=ue=0,Lr=null;mt!==null&&bt<xe.length;bt++){mt.index>bt?(Lr=mt,mt=null):Lr=mt.sibling;var cn=Re(ye,mt,xe[bt],Ue);if(cn===null){mt===null&&(mt=Lr);break}u&&mt&&cn.alternate===null&&d(ye,mt),ue=T(cn,ue,bt),pt===null?ut=cn:pt.sibling=cn,pt=cn,mt=Lr}if(bt===xe.length)return m(ye,mt),$n&&du(ye,bt),ut;if(mt===null){for(;bt<xe.length;bt++)mt=Me(ye,xe[bt],Ue),mt!==null&&(ue=T(mt,ue,bt),pt===null?ut=mt:pt.sibling=mt,pt=mt);return $n&&du(ye,bt),ut}for(mt=x(ye,mt);bt<xe.length;bt++)Lr=Ze(mt,ye,bt,xe[bt],Ue),Lr!==null&&(u&&Lr.alternate!==null&&mt.delete(Lr.key===null?bt:Lr.key),ue=T(Lr,ue,bt),pt===null?ut=Lr:pt.sibling=Lr,pt=Lr);return u&&mt.forEach(function(nl){return d(ye,nl)}),$n&&du(ye,bt),ut}function at(ye,ue,xe,Ue){var ut=de(xe);if(typeof ut!="function")throw Error(n(150));if(xe=ut.call(xe),xe==null)throw Error(n(151));for(var pt=ut=null,mt=ue,bt=ue=0,Lr=null,cn=xe.next();mt!==null&&!cn.done;bt++,cn=xe.next()){mt.index>bt?(Lr=mt,mt=null):Lr=mt.sibling;var nl=Re(ye,mt,cn.value,Ue);if(nl===null){mt===null&&(mt=Lr);break}u&&mt&&nl.alternate===null&&d(ye,mt),ue=T(nl,ue,bt),pt===null?ut=nl:pt.sibling=nl,pt=nl,mt=Lr}if(cn.done)return m(ye,mt),$n&&du(ye,bt),ut;if(mt===null){for(;!cn.done;bt++,cn=xe.next())cn=Me(ye,cn.value,Ue),cn!==null&&(ue=T(cn,ue,bt),pt===null?ut=cn:pt.sibling=cn,pt=cn);return $n&&du(ye,bt),ut}for(mt=x(ye,mt);!cn.done;bt++,cn=xe.next())cn=Ze(mt,ye,bt,cn.value,Ue),cn!==null&&(u&&cn.alternate!==null&&mt.delete(cn.key===null?bt:cn.key),ue=T(cn,ue,bt),pt===null?ut=cn:pt.sibling=cn,pt=cn);return u&&mt.forEach(function(QP){return d(ye,QP)}),$n&&du(ye,bt),ut}function ur(ye,ue,xe,Ue){if(typeof xe=="object"&&xe!==null&&xe.type===N&&xe.key===null&&(xe=xe.props.children),typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case z:e:{for(var ut=xe.key,pt=ue;pt!==null;){if(pt.key===ut){if(ut=xe.type,ut===N){if(pt.tag===7){m(ye,pt.sibling),ue=S(pt,xe.props.children),ue.return=ye,ye=ue;break e}}else if(pt.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===K&&XS(ut)===pt.type){m(ye,pt.sibling),ue=S(pt,xe.props),ue.ref=Bf(ye,pt,xe),ue.return=ye,ye=ue;break e}m(ye,pt);break}else d(ye,pt);pt=pt.sibling}xe.type===N?(ue=xu(xe.props.children,ye.mode,Ue,xe.key),ue.return=ye,ye=ue):(Ue=qm(xe.type,xe.key,xe.props,null,ye.mode,Ue),Ue.ref=Bf(ye,ue,xe),Ue.return=ye,ye=Ue)}return A(ye);case P:e:{for(pt=xe.key;ue!==null;){if(ue.key===pt)if(ue.tag===4&&ue.stateNode.containerInfo===xe.containerInfo&&ue.stateNode.implementation===xe.implementation){m(ye,ue.sibling),ue=S(ue,xe.children||[]),ue.return=ye,ye=ue;break e}else{m(ye,ue);break}else d(ye,ue);ue=ue.sibling}ue=Fv(xe,ye.mode,Ue),ue.return=ye,ye=ue}return A(ye);case K:return pt=xe._init,ur(ye,ue,pt(xe._payload),Ue)}if(_t(xe))return st(ye,ue,xe,Ue);if(de(xe))return at(ye,ue,xe,Ue);_m(ye,xe)}return typeof xe=="string"&&xe!==""||typeof xe=="number"?(xe=""+xe,ue!==null&&ue.tag===6?(m(ye,ue.sibling),ue=S(ue,xe),ue.return=ye,ye=ue):(m(ye,ue),ue=Lv(xe,ye.mode,Ue),ue.return=ye,ye=ue),A(ye)):m(ye,ue)}return ur}var $c=JS(!0),ZS=JS(!1),Sm=Va(null),Cm=null,Uc=null,Q1=null;function K1(){Q1=Uc=Cm=null}function G1(u){var d=Sm.current;An(Sm),u._currentValue=d}function Y1(u,d,m){for(;u!==null;){var x=u.alternate;if((u.childLanes&d)!==d?(u.childLanes|=d,x!==null&&(x.childLanes|=d)):x!==null&&(x.childLanes&d)!==d&&(x.childLanes|=d),u===m)break;u=u.return}}function Hc(u,d){Cm=u,Q1=Uc=null,u=u.dependencies,u!==null&&u.firstContext!==null&&((u.lanes&d)!==0&&(Ni=!0),u.firstContext=null)}function _s(u){var d=u._currentValue;if(Q1!==u)if(u={context:u,memoizedValue:d,next:null},Uc===null){if(Cm===null)throw Error(n(308));Uc=u,Cm.dependencies={lanes:0,firstContext:u}}else Uc=Uc.next=u;return d}var fu=null;function X1(u){fu===null?fu=[u]:fu.push(u)}function e3(u,d,m,x){var S=d.interleaved;return S===null?(m.next=m,X1(d)):(m.next=S.next,S.next=m),d.interleaved=m,Yo(u,x)}function Yo(u,d){u.lanes|=d;var m=u.alternate;for(m!==null&&(m.lanes|=d),m=u,u=u.return;u!==null;)u.childLanes|=d,m=u.alternate,m!==null&&(m.childLanes|=d),m=u,u=u.return;return m.tag===3?m.stateNode:null}var Ka=!1;function J1(u){u.updateQueue={baseState:u.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function t3(u,d){u=u.updateQueue,d.updateQueue===u&&(d.updateQueue={baseState:u.baseState,firstBaseUpdate:u.firstBaseUpdate,lastBaseUpdate:u.lastBaseUpdate,shared:u.shared,effects:u.effects})}function Xo(u,d){return{eventTime:u,lane:d,tag:0,payload:null,callback:null,next:null}}function Ga(u,d,m){var x=u.updateQueue;if(x===null)return null;if(x=x.shared,(un&2)!==0){var S=x.pending;return S===null?d.next=d:(d.next=S.next,S.next=d),x.pending=d,Yo(u,m)}return S=x.interleaved,S===null?(d.next=d,X1(x)):(d.next=S.next,S.next=d),x.interleaved=d,Yo(u,m)}function Em(u,d,m){if(d=d.updateQueue,d!==null&&(d=d.shared,(m&4194240)!==0)){var x=d.lanes;x&=u.pendingLanes,m|=x,d.lanes=m,xc(u,m)}}function n3(u,d){var m=u.updateQueue,x=u.alternate;if(x!==null&&(x=x.updateQueue,m===x)){var S=null,T=null;if(m=m.firstBaseUpdate,m!==null){do{var A={eventTime:m.eventTime,lane:m.lane,tag:m.tag,payload:m.payload,callback:m.callback,next:null};T===null?S=T=A:T=T.next=A,m=m.next}while(m!==null);T===null?S=T=d:T=T.next=d}else S=T=d;m={baseState:x.baseState,firstBaseUpdate:S,lastBaseUpdate:T,shared:x.shared,effects:x.effects},u.updateQueue=m;return}u=m.lastBaseUpdate,u===null?m.firstBaseUpdate=d:u.next=d,m.lastBaseUpdate=d}function km(u,d,m,x){var S=u.updateQueue;Ka=!1;var T=S.firstBaseUpdate,A=S.lastBaseUpdate,G=S.shared.pending;if(G!==null){S.shared.pending=null;var re=G,we=re.next;re.next=null,A===null?T=we:A.next=we,A=re;var Oe=u.alternate;Oe!==null&&(Oe=Oe.updateQueue,G=Oe.lastBaseUpdate,G!==A&&(G===null?Oe.firstBaseUpdate=we:G.next=we,Oe.lastBaseUpdate=re))}if(T!==null){var Me=S.baseState;A=0,Oe=we=re=null,G=T;do{var Re=G.lane,Ze=G.eventTime;if((x&Re)===Re){Oe!==null&&(Oe=Oe.next={eventTime:Ze,lane:0,tag:G.tag,payload:G.payload,callback:G.callback,next:null});e:{var st=u,at=G;switch(Re=d,Ze=m,at.tag){case 1:if(st=at.payload,typeof st=="function"){Me=st.call(Ze,Me,Re);break e}Me=st;break e;case 3:st.flags=st.flags&-65537|128;case 0:if(st=at.payload,Re=typeof st=="function"?st.call(Ze,Me,Re):st,Re==null)break e;Me=F({},Me,Re);break e;case 2:Ka=!0}}G.callback!==null&&G.lane!==0&&(u.flags|=64,Re=S.effects,Re===null?S.effects=[G]:Re.push(G))}else Ze={eventTime:Ze,lane:Re,tag:G.tag,payload:G.payload,callback:G.callback,next:null},Oe===null?(we=Oe=Ze,re=Me):Oe=Oe.next=Ze,A|=Re;if(G=G.next,G===null){if(G=S.shared.pending,G===null)break;Re=G,G=Re.next,Re.next=null,S.lastBaseUpdate=Re,S.shared.pending=null}}while(!0);if(Oe===null&&(re=Me),S.baseState=re,S.firstBaseUpdate=we,S.lastBaseUpdate=Oe,d=S.shared.interleaved,d!==null){S=d;do A|=S.lane,S=S.next;while(S!==d)}else T===null&&(S.shared.lanes=0);mu|=A,u.lanes=A,u.memoizedState=Me}}function r3(u,d,m){if(u=d.effects,d.effects=null,u!==null)for(d=0;d<u.length;d++){var x=u[d],S=x.callback;if(S!==null){if(x.callback=null,x=m,typeof S!="function")throw Error(n(191,S));S.call(x)}}}var zf={},wo=Va(zf),$f=Va(zf),Uf=Va(zf);function hu(u){if(u===zf)throw Error(n(174));return u}function Z1(u,d){switch(kn(Uf,d),kn($f,u),kn(wo,zf),u=d.nodeType,u){case 9:case 11:d=(d=d.documentElement)?d.namespaceURI:Ae(null,"");break;default:u=u===8?d.parentNode:d,d=u.namespaceURI||null,u=u.tagName,d=Ae(d,u)}An(wo),kn(wo,d)}function Wc(){An(wo),An($f),An(Uf)}function i3(u){hu(Uf.current);var d=hu(wo.current),m=Ae(d,u.type);d!==m&&(kn($f,u),kn(wo,m))}function ev(u){$f.current===u&&(An(wo),An($f))}var Qn=Va(0);function Tm(u){for(var d=u;d!==null;){if(d.tag===13){var m=d.memoizedState;if(m!==null&&(m=m.dehydrated,m===null||m.data==="$?"||m.data==="$!"))return d}else if(d.tag===19&&d.memoizedProps.revealOrder!==void 0){if((d.flags&128)!==0)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===u)break;for(;d.sibling===null;){if(d.return===null||d.return===u)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}var tv=[];function nv(){for(var u=0;u<tv.length;u++)tv[u]._workInProgressVersionPrimary=null;tv.length=0}var jm=U.ReactCurrentDispatcher,rv=U.ReactCurrentBatchConfig,pu=0,Kn=null,Er=null,Ar=null,Im=!1,Hf=!1,Wf=0,mP=0;function ei(){throw Error(n(321))}function iv(u,d){if(d===null)return!1;for(var m=0;m<d.length&&m<u.length;m++)if(!te(u[m],d[m]))return!1;return!0}function sv(u,d,m,x,S,T){if(pu=T,Kn=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,jm.current=u===null||u.memoizedState===null?xP:bP,u=m(x,S),Hf){T=0;do{if(Hf=!1,Wf=0,25<=T)throw Error(n(301));T+=1,Ar=Er=null,d.updateQueue=null,jm.current=wP,u=m(x,S)}while(Hf)}if(jm.current=Pm,d=Er!==null&&Er.next!==null,pu=0,Ar=Er=Kn=null,Im=!1,d)throw Error(n(300));return u}function ov(){var u=Wf!==0;return Wf=0,u}function _o(){var u={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ar===null?Kn.memoizedState=Ar=u:Ar=Ar.next=u,Ar}function Ss(){if(Er===null){var u=Kn.alternate;u=u!==null?u.memoizedState:null}else u=Er.next;var d=Ar===null?Kn.memoizedState:Ar.next;if(d!==null)Ar=d,Er=u;else{if(u===null)throw Error(n(310));Er=u,u={memoizedState:Er.memoizedState,baseState:Er.baseState,baseQueue:Er.baseQueue,queue:Er.queue,next:null},Ar===null?Kn.memoizedState=Ar=u:Ar=Ar.next=u}return Ar}function Vf(u,d){return typeof d=="function"?d(u):d}function av(u){var d=Ss(),m=d.queue;if(m===null)throw Error(n(311));m.lastRenderedReducer=u;var x=Er,S=x.baseQueue,T=m.pending;if(T!==null){if(S!==null){var A=S.next;S.next=T.next,T.next=A}x.baseQueue=S=T,m.pending=null}if(S!==null){T=S.next,x=x.baseState;var G=A=null,re=null,we=T;do{var Oe=we.lane;if((pu&Oe)===Oe)re!==null&&(re=re.next={lane:0,action:we.action,hasEagerState:we.hasEagerState,eagerState:we.eagerState,next:null}),x=we.hasEagerState?we.eagerState:u(x,we.action);else{var Me={lane:Oe,action:we.action,hasEagerState:we.hasEagerState,eagerState:we.eagerState,next:null};re===null?(G=re=Me,A=x):re=re.next=Me,Kn.lanes|=Oe,mu|=Oe}we=we.next}while(we!==null&&we!==T);re===null?A=x:re.next=G,te(x,d.memoizedState)||(Ni=!0),d.memoizedState=x,d.baseState=A,d.baseQueue=re,m.lastRenderedState=x}if(u=m.interleaved,u!==null){S=u;do T=S.lane,Kn.lanes|=T,mu|=T,S=S.next;while(S!==u)}else S===null&&(m.lanes=0);return[d.memoizedState,m.dispatch]}function lv(u){var d=Ss(),m=d.queue;if(m===null)throw Error(n(311));m.lastRenderedReducer=u;var x=m.dispatch,S=m.pending,T=d.memoizedState;if(S!==null){m.pending=null;var A=S=S.next;do T=u(T,A.action),A=A.next;while(A!==S);te(T,d.memoizedState)||(Ni=!0),d.memoizedState=T,d.baseQueue===null&&(d.baseState=T),m.lastRenderedState=T}return[T,x]}function s3(){}function o3(u,d){var m=Kn,x=Ss(),S=d(),T=!te(x.memoizedState,S);if(T&&(x.memoizedState=S,Ni=!0),x=x.queue,uv(u3.bind(null,m,x,u),[u]),x.getSnapshot!==d||T||Ar!==null&&Ar.memoizedState.tag&1){if(m.flags|=2048,qf(9,l3.bind(null,m,x,S,d),void 0,null),Dr===null)throw Error(n(349));(pu&30)!==0||a3(m,d,S)}return S}function a3(u,d,m){u.flags|=16384,u={getSnapshot:d,value:m},d=Kn.updateQueue,d===null?(d={lastEffect:null,stores:null},Kn.updateQueue=d,d.stores=[u]):(m=d.stores,m===null?d.stores=[u]:m.push(u))}function l3(u,d,m,x){d.value=m,d.getSnapshot=x,c3(d)&&d3(u)}function u3(u,d,m){return m(function(){c3(d)&&d3(u)})}function c3(u){var d=u.getSnapshot;u=u.value;try{var m=d();return!te(u,m)}catch{return!0}}function d3(u){var d=Yo(u,1);d!==null&&Ys(d,u,1,-1)}function f3(u){var d=_o();return typeof u=="function"&&(u=u()),d.memoizedState=d.baseState=u,u={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vf,lastRenderedState:u},d.queue=u,u=u.dispatch=vP.bind(null,Kn,u),[d.memoizedState,u]}function qf(u,d,m,x){return u={tag:u,create:d,destroy:m,deps:x,next:null},d=Kn.updateQueue,d===null?(d={lastEffect:null,stores:null},Kn.updateQueue=d,d.lastEffect=u.next=u):(m=d.lastEffect,m===null?d.lastEffect=u.next=u:(x=m.next,m.next=u,u.next=x,d.lastEffect=u)),u}function h3(){return Ss().memoizedState}function Nm(u,d,m,x){var S=_o();Kn.flags|=u,S.memoizedState=qf(1|d,m,void 0,x===void 0?null:x)}function Rm(u,d,m,x){var S=Ss();x=x===void 0?null:x;var T=void 0;if(Er!==null){var A=Er.memoizedState;if(T=A.destroy,x!==null&&iv(x,A.deps)){S.memoizedState=qf(d,m,T,x);return}}Kn.flags|=u,S.memoizedState=qf(1|d,m,T,x)}function p3(u,d){return Nm(8390656,8,u,d)}function uv(u,d){return Rm(2048,8,u,d)}function m3(u,d){return Rm(4,2,u,d)}function g3(u,d){return Rm(4,4,u,d)}function y3(u,d){if(typeof d=="function")return u=u(),d(u),function(){d(null)};if(d!=null)return u=u(),d.current=u,function(){d.current=null}}function v3(u,d,m){return m=m!=null?m.concat([u]):null,Rm(4,4,y3.bind(null,d,u),m)}function cv(){}function x3(u,d){var m=Ss();d=d===void 0?null:d;var x=m.memoizedState;return x!==null&&d!==null&&iv(d,x[1])?x[0]:(m.memoizedState=[u,d],u)}function b3(u,d){var m=Ss();d=d===void 0?null:d;var x=m.memoizedState;return x!==null&&d!==null&&iv(d,x[1])?x[0]:(u=u(),m.memoizedState=[u,d],u)}function w3(u,d,m){return(pu&21)===0?(u.baseState&&(u.baseState=!1,Ni=!0),u.memoizedState=m):(te(m,d)||(m=Sf(),Kn.lanes|=m,mu|=m,u.baseState=!0),d)}function gP(u,d){var m=gn;gn=m!==0&&4>m?m:4,u(!0);var x=rv.transition;rv.transition={};try{u(!1),d()}finally{gn=m,rv.transition=x}}function _3(){return Ss().memoizedState}function yP(u,d,m){var x=Za(u);if(m={lane:x,action:m,hasEagerState:!1,eagerState:null,next:null},S3(u))C3(d,m);else if(m=e3(u,d,m,x),m!==null){var S=yi();Ys(m,u,x,S),E3(m,d,x)}}function vP(u,d,m){var x=Za(u),S={lane:x,action:m,hasEagerState:!1,eagerState:null,next:null};if(S3(u))C3(d,S);else{var T=u.alternate;if(u.lanes===0&&(T===null||T.lanes===0)&&(T=d.lastRenderedReducer,T!==null))try{var A=d.lastRenderedState,G=T(A,m);if(S.hasEagerState=!0,S.eagerState=G,te(G,A)){var re=d.interleaved;re===null?(S.next=S,X1(d)):(S.next=re.next,re.next=S),d.interleaved=S;return}}catch{}finally{}m=e3(u,d,S,x),m!==null&&(S=yi(),Ys(m,u,x,S),E3(m,d,x))}}function S3(u){var d=u.alternate;return u===Kn||d!==null&&d===Kn}function C3(u,d){Hf=Im=!0;var m=u.pending;m===null?d.next=d:(d.next=m.next,m.next=d),u.pending=d}function E3(u,d,m){if((m&4194240)!==0){var x=d.lanes;x&=u.pendingLanes,m|=x,d.lanes=m,xc(u,m)}}var Pm={readContext:_s,useCallback:ei,useContext:ei,useEffect:ei,useImperativeHandle:ei,useInsertionEffect:ei,useLayoutEffect:ei,useMemo:ei,useReducer:ei,useRef:ei,useState:ei,useDebugValue:ei,useDeferredValue:ei,useTransition:ei,useMutableSource:ei,useSyncExternalStore:ei,useId:ei,unstable_isNewReconciler:!1},xP={readContext:_s,useCallback:function(u,d){return _o().memoizedState=[u,d===void 0?null:d],u},useContext:_s,useEffect:p3,useImperativeHandle:function(u,d,m){return m=m!=null?m.concat([u]):null,Nm(4194308,4,y3.bind(null,d,u),m)},useLayoutEffect:function(u,d){return Nm(4194308,4,u,d)},useInsertionEffect:function(u,d){return Nm(4,2,u,d)},useMemo:function(u,d){var m=_o();return d=d===void 0?null:d,u=u(),m.memoizedState=[u,d],u},useReducer:function(u,d,m){var x=_o();return d=m!==void 0?m(d):d,x.memoizedState=x.baseState=d,u={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:u,lastRenderedState:d},x.queue=u,u=u.dispatch=yP.bind(null,Kn,u),[x.memoizedState,u]},useRef:function(u){var d=_o();return u={current:u},d.memoizedState=u},useState:f3,useDebugValue:cv,useDeferredValue:function(u){return _o().memoizedState=u},useTransition:function(){var u=f3(!1),d=u[0];return u=gP.bind(null,u[1]),_o().memoizedState=u,[d,u]},useMutableSource:function(){},useSyncExternalStore:function(u,d,m){var x=Kn,S=_o();if($n){if(m===void 0)throw Error(n(407));m=m()}else{if(m=d(),Dr===null)throw Error(n(349));(pu&30)!==0||a3(x,d,m)}S.memoizedState=m;var T={value:m,getSnapshot:d};return S.queue=T,p3(u3.bind(null,x,T,u),[u]),x.flags|=2048,qf(9,l3.bind(null,x,T,m,d),void 0,null),m},useId:function(){var u=_o(),d=Dr.identifierPrefix;if($n){var m=Go,x=Ko;m=(x&~(1<<32-it(x)-1)).toString(32)+m,d=":"+d+"R"+m,m=Wf++,0<m&&(d+="H"+m.toString(32)),d+=":"}else m=mP++,d=":"+d+"r"+m.toString(32)+":";return u.memoizedState=d},unstable_isNewReconciler:!1},bP={readContext:_s,useCallback:x3,useContext:_s,useEffect:uv,useImperativeHandle:v3,useInsertionEffect:m3,useLayoutEffect:g3,useMemo:b3,useReducer:av,useRef:h3,useState:function(){return av(Vf)},useDebugValue:cv,useDeferredValue:function(u){var d=Ss();return w3(d,Er.memoizedState,u)},useTransition:function(){var u=av(Vf)[0],d=Ss().memoizedState;return[u,d]},useMutableSource:s3,useSyncExternalStore:o3,useId:_3,unstable_isNewReconciler:!1},wP={readContext:_s,useCallback:x3,useContext:_s,useEffect:uv,useImperativeHandle:v3,useInsertionEffect:m3,useLayoutEffect:g3,useMemo:b3,useReducer:lv,useRef:h3,useState:function(){return lv(Vf)},useDebugValue:cv,useDeferredValue:function(u){var d=Ss();return Er===null?d.memoizedState=u:w3(d,Er.memoizedState,u)},useTransition:function(){var u=lv(Vf)[0],d=Ss().memoizedState;return[u,d]},useMutableSource:s3,useSyncExternalStore:o3,useId:_3,unstable_isNewReconciler:!1};function Qs(u,d){if(u&&u.defaultProps){d=F({},d),u=u.defaultProps;for(var m in u)d[m]===void 0&&(d[m]=u[m]);return d}return d}function dv(u,d,m,x){d=u.memoizedState,m=m(x,d),m=m==null?d:F({},d,m),u.memoizedState=m,u.lanes===0&&(u.updateQueue.baseState=m)}var Om={isMounted:function(u){return(u=u._reactInternals)?Je(u)===u:!1},enqueueSetState:function(u,d,m){u=u._reactInternals;var x=yi(),S=Za(u),T=Xo(x,S);T.payload=d,m!=null&&(T.callback=m),d=Ga(u,T,S),d!==null&&(Ys(d,u,S,x),Em(d,u,S))},enqueueReplaceState:function(u,d,m){u=u._reactInternals;var x=yi(),S=Za(u),T=Xo(x,S);T.tag=1,T.payload=d,m!=null&&(T.callback=m),d=Ga(u,T,S),d!==null&&(Ys(d,u,S,x),Em(d,u,S))},enqueueForceUpdate:function(u,d){u=u._reactInternals;var m=yi(),x=Za(u),S=Xo(m,x);S.tag=2,d!=null&&(S.callback=d),d=Ga(u,S,x),d!==null&&(Ys(d,u,x,m),Em(d,u,x))}};function k3(u,d,m,x,S,T,A){return u=u.stateNode,typeof u.shouldComponentUpdate=="function"?u.shouldComponentUpdate(x,T,A):d.prototype&&d.prototype.isPureReactComponent?!pe(m,x)||!pe(S,T):!0}function T3(u,d,m){var x=!1,S=qa,T=d.contextType;return typeof T=="object"&&T!==null?T=_s(T):(S=Ii(d)?uu:Zr.current,x=d.contextTypes,T=(x=x!=null)?Lc(u,S):qa),d=new d(m,T),u.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Om,u.stateNode=d,d._reactInternals=u,x&&(u=u.stateNode,u.__reactInternalMemoizedUnmaskedChildContext=S,u.__reactInternalMemoizedMaskedChildContext=T),d}function j3(u,d,m,x){u=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(m,x),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(m,x),d.state!==u&&Om.enqueueReplaceState(d,d.state,null)}function fv(u,d,m,x){var S=u.stateNode;S.props=m,S.state=u.memoizedState,S.refs={},J1(u);var T=d.contextType;typeof T=="object"&&T!==null?S.context=_s(T):(T=Ii(d)?uu:Zr.current,S.context=Lc(u,T)),S.state=u.memoizedState,T=d.getDerivedStateFromProps,typeof T=="function"&&(dv(u,d,T,m),S.state=u.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof S.getSnapshotBeforeUpdate=="function"||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(d=S.state,typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount(),d!==S.state&&Om.enqueueReplaceState(S,S.state,null),km(u,m,S,x),S.state=u.memoizedState),typeof S.componentDidMount=="function"&&(u.flags|=4194308)}function Vc(u,d){try{var m="",x=d;do m+=ke(x),x=x.return;while(x);var S=m}catch(T){S=`
Error generating stack: `+T.message+`
`+T.stack}return{value:u,source:d,stack:S,digest:null}}function hv(u,d,m){return{value:u,source:null,stack:m??null,digest:d??null}}function pv(u,d){try{console.error(d.value)}catch(m){setTimeout(function(){throw m})}}var _P=typeof WeakMap=="function"?WeakMap:Map;function I3(u,d,m){m=Xo(-1,m),m.tag=3,m.payload={element:null};var x=d.value;return m.callback=function(){zm||(zm=!0,Iv=x),pv(u,d)},m}function N3(u,d,m){m=Xo(-1,m),m.tag=3;var x=u.type.getDerivedStateFromError;if(typeof x=="function"){var S=d.value;m.payload=function(){return x(S)},m.callback=function(){pv(u,d)}}var T=u.stateNode;return T!==null&&typeof T.componentDidCatch=="function"&&(m.callback=function(){pv(u,d),typeof x!="function"&&(Xa===null?Xa=new Set([this]):Xa.add(this));var A=d.stack;this.componentDidCatch(d.value,{componentStack:A!==null?A:""})}),m}function R3(u,d,m){var x=u.pingCache;if(x===null){x=u.pingCache=new _P;var S=new Set;x.set(d,S)}else S=x.get(d),S===void 0&&(S=new Set,x.set(d,S));S.has(m)||(S.add(m),u=DP.bind(null,u,d,m),d.then(u,u))}function P3(u){do{var d;if((d=u.tag===13)&&(d=u.memoizedState,d=d!==null?d.dehydrated!==null:!0),d)return u;u=u.return}while(u!==null);return null}function O3(u,d,m,x,S){return(u.mode&1)===0?(u===d?u.flags|=65536:(u.flags|=128,m.flags|=131072,m.flags&=-52805,m.tag===1&&(m.alternate===null?m.tag=17:(d=Xo(-1,1),d.tag=2,Ga(m,d,1))),m.lanes|=1),u):(u.flags|=65536,u.lanes=S,u)}var SP=U.ReactCurrentOwner,Ni=!1;function gi(u,d,m,x){d.child=u===null?ZS(d,null,m,x):$c(d,u.child,m,x)}function M3(u,d,m,x,S){m=m.render;var T=d.ref;return Hc(d,S),x=sv(u,d,m,x,T,S),m=ov(),u!==null&&!Ni?(d.updateQueue=u.updateQueue,d.flags&=-2053,u.lanes&=~S,Jo(u,d,S)):($n&&m&&U1(d),d.flags|=1,gi(u,d,x,S),d.child)}function A3(u,d,m,x,S){if(u===null){var T=m.type;return typeof T=="function"&&!Dv(T)&&T.defaultProps===void 0&&m.compare===null&&m.defaultProps===void 0?(d.tag=15,d.type=T,D3(u,d,T,x,S)):(u=qm(m.type,null,x,d,d.mode,S),u.ref=d.ref,u.return=d,d.child=u)}if(T=u.child,(u.lanes&S)===0){var A=T.memoizedProps;if(m=m.compare,m=m!==null?m:pe,m(A,x)&&u.ref===d.ref)return Jo(u,d,S)}return d.flags|=1,u=tl(T,x),u.ref=d.ref,u.return=d,d.child=u}function D3(u,d,m,x,S){if(u!==null){var T=u.memoizedProps;if(pe(T,x)&&u.ref===d.ref)if(Ni=!1,d.pendingProps=x=T,(u.lanes&S)!==0)(u.flags&131072)!==0&&(Ni=!0);else return d.lanes=u.lanes,Jo(u,d,S)}return mv(u,d,m,x,S)}function L3(u,d,m){var x=d.pendingProps,S=x.children,T=u!==null?u.memoizedState:null;if(x.mode==="hidden")if((d.mode&1)===0)d.memoizedState={baseLanes:0,cachePool:null,transitions:null},kn(Qc,is),is|=m;else{if((m&1073741824)===0)return u=T!==null?T.baseLanes|m:m,d.lanes=d.childLanes=1073741824,d.memoizedState={baseLanes:u,cachePool:null,transitions:null},d.updateQueue=null,kn(Qc,is),is|=u,null;d.memoizedState={baseLanes:0,cachePool:null,transitions:null},x=T!==null?T.baseLanes:m,kn(Qc,is),is|=x}else T!==null?(x=T.baseLanes|m,d.memoizedState=null):x=m,kn(Qc,is),is|=x;return gi(u,d,S,m),d.child}function F3(u,d){var m=d.ref;(u===null&&m!==null||u!==null&&u.ref!==m)&&(d.flags|=512,d.flags|=2097152)}function mv(u,d,m,x,S){var T=Ii(m)?uu:Zr.current;return T=Lc(d,T),Hc(d,S),m=sv(u,d,m,x,T,S),x=ov(),u!==null&&!Ni?(d.updateQueue=u.updateQueue,d.flags&=-2053,u.lanes&=~S,Jo(u,d,S)):($n&&x&&U1(d),d.flags|=1,gi(u,d,m,S),d.child)}function B3(u,d,m,x,S){if(Ii(m)){var T=!0;ym(d)}else T=!1;if(Hc(d,S),d.stateNode===null)Am(u,d),T3(d,m,x),fv(d,m,x,S),x=!0;else if(u===null){var A=d.stateNode,G=d.memoizedProps;A.props=G;var re=A.context,we=m.contextType;typeof we=="object"&&we!==null?we=_s(we):(we=Ii(m)?uu:Zr.current,we=Lc(d,we));var Oe=m.getDerivedStateFromProps,Me=typeof Oe=="function"||typeof A.getSnapshotBeforeUpdate=="function";Me||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(G!==x||re!==we)&&j3(d,A,x,we),Ka=!1;var Re=d.memoizedState;A.state=Re,km(d,x,A,S),re=d.memoizedState,G!==x||Re!==re||ji.current||Ka?(typeof Oe=="function"&&(dv(d,m,Oe,x),re=d.memoizedState),(G=Ka||k3(d,m,G,x,Re,re,we))?(Me||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount()),typeof A.componentDidMount=="function"&&(d.flags|=4194308)):(typeof A.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=x,d.memoizedState=re),A.props=x,A.state=re,A.context=we,x=G):(typeof A.componentDidMount=="function"&&(d.flags|=4194308),x=!1)}else{A=d.stateNode,t3(u,d),G=d.memoizedProps,we=d.type===d.elementType?G:Qs(d.type,G),A.props=we,Me=d.pendingProps,Re=A.context,re=m.contextType,typeof re=="object"&&re!==null?re=_s(re):(re=Ii(m)?uu:Zr.current,re=Lc(d,re));var Ze=m.getDerivedStateFromProps;(Oe=typeof Ze=="function"||typeof A.getSnapshotBeforeUpdate=="function")||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(G!==Me||Re!==re)&&j3(d,A,x,re),Ka=!1,Re=d.memoizedState,A.state=Re,km(d,x,A,S);var st=d.memoizedState;G!==Me||Re!==st||ji.current||Ka?(typeof Ze=="function"&&(dv(d,m,Ze,x),st=d.memoizedState),(we=Ka||k3(d,m,we,x,Re,st,re)||!1)?(Oe||typeof A.UNSAFE_componentWillUpdate!="function"&&typeof A.componentWillUpdate!="function"||(typeof A.componentWillUpdate=="function"&&A.componentWillUpdate(x,st,re),typeof A.UNSAFE_componentWillUpdate=="function"&&A.UNSAFE_componentWillUpdate(x,st,re)),typeof A.componentDidUpdate=="function"&&(d.flags|=4),typeof A.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof A.componentDidUpdate!="function"||G===u.memoizedProps&&Re===u.memoizedState||(d.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||G===u.memoizedProps&&Re===u.memoizedState||(d.flags|=1024),d.memoizedProps=x,d.memoizedState=st),A.props=x,A.state=st,A.context=re,x=we):(typeof A.componentDidUpdate!="function"||G===u.memoizedProps&&Re===u.memoizedState||(d.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||G===u.memoizedProps&&Re===u.memoizedState||(d.flags|=1024),x=!1)}return gv(u,d,m,x,T,S)}function gv(u,d,m,x,S,T){F3(u,d);var A=(d.flags&128)!==0;if(!x&&!A)return S&&WS(d,m,!1),Jo(u,d,T);x=d.stateNode,SP.current=d;var G=A&&typeof m.getDerivedStateFromError!="function"?null:x.render();return d.flags|=1,u!==null&&A?(d.child=$c(d,u.child,null,T),d.child=$c(d,null,G,T)):gi(u,d,G,T),d.memoizedState=x.state,S&&WS(d,m,!0),d.child}function z3(u){var d=u.stateNode;d.pendingContext?US(u,d.pendingContext,d.pendingContext!==d.context):d.context&&US(u,d.context,!1),Z1(u,d.containerInfo)}function $3(u,d,m,x,S){return zc(),q1(S),d.flags|=256,gi(u,d,m,x),d.child}var yv={dehydrated:null,treeContext:null,retryLane:0};function vv(u){return{baseLanes:u,cachePool:null,transitions:null}}function U3(u,d,m){var x=d.pendingProps,S=Qn.current,T=!1,A=(d.flags&128)!==0,G;if((G=A)||(G=u!==null&&u.memoizedState===null?!1:(S&2)!==0),G?(T=!0,d.flags&=-129):(u===null||u.memoizedState!==null)&&(S|=1),kn(Qn,S&1),u===null)return V1(d),u=d.memoizedState,u!==null&&(u=u.dehydrated,u!==null)?((d.mode&1)===0?d.lanes=1:u.data==="$!"?d.lanes=8:d.lanes=1073741824,null):(A=x.children,u=x.fallback,T?(x=d.mode,T=d.child,A={mode:"hidden",children:A},(x&1)===0&&T!==null?(T.childLanes=0,T.pendingProps=A):T=Qm(A,x,0,null),u=xu(u,x,m,null),T.return=d,u.return=d,T.sibling=u,d.child=T,d.child.memoizedState=vv(m),d.memoizedState=yv,u):xv(d,A));if(S=u.memoizedState,S!==null&&(G=S.dehydrated,G!==null))return CP(u,d,A,x,G,S,m);if(T){T=x.fallback,A=d.mode,S=u.child,G=S.sibling;var re={mode:"hidden",children:x.children};return(A&1)===0&&d.child!==S?(x=d.child,x.childLanes=0,x.pendingProps=re,d.deletions=null):(x=tl(S,re),x.subtreeFlags=S.subtreeFlags&14680064),G!==null?T=tl(G,T):(T=xu(T,A,m,null),T.flags|=2),T.return=d,x.return=d,x.sibling=T,d.child=x,x=T,T=d.child,A=u.child.memoizedState,A=A===null?vv(m):{baseLanes:A.baseLanes|m,cachePool:null,transitions:A.transitions},T.memoizedState=A,T.childLanes=u.childLanes&~m,d.memoizedState=yv,x}return T=u.child,u=T.sibling,x=tl(T,{mode:"visible",children:x.children}),(d.mode&1)===0&&(x.lanes=m),x.return=d,x.sibling=null,u!==null&&(m=d.deletions,m===null?(d.deletions=[u],d.flags|=16):m.push(u)),d.child=x,d.memoizedState=null,x}function xv(u,d){return d=Qm({mode:"visible",children:d},u.mode,0,null),d.return=u,u.child=d}function Mm(u,d,m,x){return x!==null&&q1(x),$c(d,u.child,null,m),u=xv(d,d.pendingProps.children),u.flags|=2,d.memoizedState=null,u}function CP(u,d,m,x,S,T,A){if(m)return d.flags&256?(d.flags&=-257,x=hv(Error(n(422))),Mm(u,d,A,x)):d.memoizedState!==null?(d.child=u.child,d.flags|=128,null):(T=x.fallback,S=d.mode,x=Qm({mode:"visible",children:x.children},S,0,null),T=xu(T,S,A,null),T.flags|=2,x.return=d,T.return=d,x.sibling=T,d.child=x,(d.mode&1)!==0&&$c(d,u.child,null,A),d.child.memoizedState=vv(A),d.memoizedState=yv,T);if((d.mode&1)===0)return Mm(u,d,A,null);if(S.data==="$!"){if(x=S.nextSibling&&S.nextSibling.dataset,x)var G=x.dgst;return x=G,T=Error(n(419)),x=hv(T,x,void 0),Mm(u,d,A,x)}if(G=(A&u.childLanes)!==0,Ni||G){if(x=Dr,x!==null){switch(A&-A){case 4:S=2;break;case 16:S=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:S=32;break;case 536870912:S=268435456;break;default:S=0}S=(S&(x.suspendedLanes|A))!==0?0:S,S!==0&&S!==T.retryLane&&(T.retryLane=S,Yo(u,S),Ys(x,u,S,-1))}return Av(),x=hv(Error(n(421))),Mm(u,d,A,x)}return S.data==="$?"?(d.flags|=128,d.child=u.child,d=LP.bind(null,u),S._reactRetry=d,null):(u=T.treeContext,rs=Wa(S.nextSibling),ns=d,$n=!0,qs=null,u!==null&&(bs[ws++]=Ko,bs[ws++]=Go,bs[ws++]=cu,Ko=u.id,Go=u.overflow,cu=d),d=xv(d,x.children),d.flags|=4096,d)}function H3(u,d,m){u.lanes|=d;var x=u.alternate;x!==null&&(x.lanes|=d),Y1(u.return,d,m)}function bv(u,d,m,x,S){var T=u.memoizedState;T===null?u.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:x,tail:m,tailMode:S}:(T.isBackwards=d,T.rendering=null,T.renderingStartTime=0,T.last=x,T.tail=m,T.tailMode=S)}function W3(u,d,m){var x=d.pendingProps,S=x.revealOrder,T=x.tail;if(gi(u,d,x.children,m),x=Qn.current,(x&2)!==0)x=x&1|2,d.flags|=128;else{if(u!==null&&(u.flags&128)!==0)e:for(u=d.child;u!==null;){if(u.tag===13)u.memoizedState!==null&&H3(u,m,d);else if(u.tag===19)H3(u,m,d);else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===d)break e;for(;u.sibling===null;){if(u.return===null||u.return===d)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}x&=1}if(kn(Qn,x),(d.mode&1)===0)d.memoizedState=null;else switch(S){case"forwards":for(m=d.child,S=null;m!==null;)u=m.alternate,u!==null&&Tm(u)===null&&(S=m),m=m.sibling;m=S,m===null?(S=d.child,d.child=null):(S=m.sibling,m.sibling=null),bv(d,!1,S,m,T);break;case"backwards":for(m=null,S=d.child,d.child=null;S!==null;){if(u=S.alternate,u!==null&&Tm(u)===null){d.child=S;break}u=S.sibling,S.sibling=m,m=S,S=u}bv(d,!0,m,null,T);break;case"together":bv(d,!1,null,null,void 0);break;default:d.memoizedState=null}return d.child}function Am(u,d){(d.mode&1)===0&&u!==null&&(u.alternate=null,d.alternate=null,d.flags|=2)}function Jo(u,d,m){if(u!==null&&(d.dependencies=u.dependencies),mu|=d.lanes,(m&d.childLanes)===0)return null;if(u!==null&&d.child!==u.child)throw Error(n(153));if(d.child!==null){for(u=d.child,m=tl(u,u.pendingProps),d.child=m,m.return=d;u.sibling!==null;)u=u.sibling,m=m.sibling=tl(u,u.pendingProps),m.return=d;m.sibling=null}return d.child}function EP(u,d,m){switch(d.tag){case 3:z3(d),zc();break;case 5:i3(d);break;case 1:Ii(d.type)&&ym(d);break;case 4:Z1(d,d.stateNode.containerInfo);break;case 10:var x=d.type._context,S=d.memoizedProps.value;kn(Sm,x._currentValue),x._currentValue=S;break;case 13:if(x=d.memoizedState,x!==null)return x.dehydrated!==null?(kn(Qn,Qn.current&1),d.flags|=128,null):(m&d.child.childLanes)!==0?U3(u,d,m):(kn(Qn,Qn.current&1),u=Jo(u,d,m),u!==null?u.sibling:null);kn(Qn,Qn.current&1);break;case 19:if(x=(m&d.childLanes)!==0,(u.flags&128)!==0){if(x)return W3(u,d,m);d.flags|=128}if(S=d.memoizedState,S!==null&&(S.rendering=null,S.tail=null,S.lastEffect=null),kn(Qn,Qn.current),x)break;return null;case 22:case 23:return d.lanes=0,L3(u,d,m)}return Jo(u,d,m)}var V3,wv,q3,Q3;V3=function(u,d){for(var m=d.child;m!==null;){if(m.tag===5||m.tag===6)u.appendChild(m.stateNode);else if(m.tag!==4&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===d)break;for(;m.sibling===null;){if(m.return===null||m.return===d)return;m=m.return}m.sibling.return=m.return,m=m.sibling}},wv=function(){},q3=function(u,d,m,x){var S=u.memoizedProps;if(S!==x){u=d.stateNode,hu(wo.current);var T=null;switch(m){case"input":S=bn(u,S),x=bn(u,x),T=[];break;case"select":S=F({},S,{value:void 0}),x=F({},x,{value:void 0}),T=[];break;case"textarea":S=Ct(u,S),x=Ct(u,x),T=[];break;default:typeof S.onClick!="function"&&typeof x.onClick=="function"&&(u.onclick=pm)}Qe(m,x);var A;m=null;for(we in S)if(!x.hasOwnProperty(we)&&S.hasOwnProperty(we)&&S[we]!=null)if(we==="style"){var G=S[we];for(A in G)G.hasOwnProperty(A)&&(m||(m={}),m[A]="")}else we!=="dangerouslySetInnerHTML"&&we!=="children"&&we!=="suppressContentEditableWarning"&&we!=="suppressHydrationWarning"&&we!=="autoFocus"&&(i.hasOwnProperty(we)?T||(T=[]):(T=T||[]).push(we,null));for(we in x){var re=x[we];if(G=S?.[we],x.hasOwnProperty(we)&&re!==G&&(re!=null||G!=null))if(we==="style")if(G){for(A in G)!G.hasOwnProperty(A)||re&&re.hasOwnProperty(A)||(m||(m={}),m[A]="");for(A in re)re.hasOwnProperty(A)&&G[A]!==re[A]&&(m||(m={}),m[A]=re[A])}else m||(T||(T=[]),T.push(we,m)),m=re;else we==="dangerouslySetInnerHTML"?(re=re?re.__html:void 0,G=G?G.__html:void 0,re!=null&&G!==re&&(T=T||[]).push(we,re)):we==="children"?typeof re!="string"&&typeof re!="number"||(T=T||[]).push(we,""+re):we!=="suppressContentEditableWarning"&&we!=="suppressHydrationWarning"&&(i.hasOwnProperty(we)?(re!=null&&we==="onScroll"&&Mn("scroll",u),T||G===re||(T=[])):(T=T||[]).push(we,re))}m&&(T=T||[]).push("style",m);var we=T;(d.updateQueue=we)&&(d.flags|=4)}},Q3=function(u,d,m,x){m!==x&&(d.flags|=4)};function Qf(u,d){if(!$n)switch(u.tailMode){case"hidden":d=u.tail;for(var m=null;d!==null;)d.alternate!==null&&(m=d),d=d.sibling;m===null?u.tail=null:m.sibling=null;break;case"collapsed":m=u.tail;for(var x=null;m!==null;)m.alternate!==null&&(x=m),m=m.sibling;x===null?d||u.tail===null?u.tail=null:u.tail.sibling=null:x.sibling=null}}function ti(u){var d=u.alternate!==null&&u.alternate.child===u.child,m=0,x=0;if(d)for(var S=u.child;S!==null;)m|=S.lanes|S.childLanes,x|=S.subtreeFlags&14680064,x|=S.flags&14680064,S.return=u,S=S.sibling;else for(S=u.child;S!==null;)m|=S.lanes|S.childLanes,x|=S.subtreeFlags,x|=S.flags,S.return=u,S=S.sibling;return u.subtreeFlags|=x,u.childLanes=m,d}function kP(u,d,m){var x=d.pendingProps;switch(H1(d),d.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ti(d),null;case 1:return Ii(d.type)&&gm(),ti(d),null;case 3:return x=d.stateNode,Wc(),An(ji),An(Zr),nv(),x.pendingContext&&(x.context=x.pendingContext,x.pendingContext=null),(u===null||u.child===null)&&(wm(d)?d.flags|=4:u===null||u.memoizedState.isDehydrated&&(d.flags&256)===0||(d.flags|=1024,qs!==null&&(Pv(qs),qs=null))),wv(u,d),ti(d),null;case 5:ev(d);var S=hu(Uf.current);if(m=d.type,u!==null&&d.stateNode!=null)q3(u,d,m,x,S),u.ref!==d.ref&&(d.flags|=512,d.flags|=2097152);else{if(!x){if(d.stateNode===null)throw Error(n(166));return ti(d),null}if(u=hu(wo.current),wm(d)){x=d.stateNode,m=d.type;var T=d.memoizedProps;switch(x[bo]=d,x[Lf]=T,u=(d.mode&1)!==0,m){case"dialog":Mn("cancel",x),Mn("close",x);break;case"iframe":case"object":case"embed":Mn("load",x);break;case"video":case"audio":for(S=0;S<Mf.length;S++)Mn(Mf[S],x);break;case"source":Mn("error",x);break;case"img":case"image":case"link":Mn("error",x),Mn("load",x);break;case"details":Mn("toggle",x);break;case"input":yn(x,T),Mn("invalid",x);break;case"select":x._wrapperState={wasMultiple:!!T.multiple},Mn("invalid",x);break;case"textarea":Zt(x,T),Mn("invalid",x)}Qe(m,T),S=null;for(var A in T)if(T.hasOwnProperty(A)){var G=T[A];A==="children"?typeof G=="string"?x.textContent!==G&&(T.suppressHydrationWarning!==!0&&hm(x.textContent,G,u),S=["children",G]):typeof G=="number"&&x.textContent!==""+G&&(T.suppressHydrationWarning!==!0&&hm(x.textContent,G,u),S=["children",""+G]):i.hasOwnProperty(A)&&G!=null&&A==="onScroll"&&Mn("scroll",x)}switch(m){case"input":Vn(x),Ki(x,T,!0);break;case"textarea":Vn(x),Ln(x);break;case"select":case"option":break;default:typeof T.onClick=="function"&&(x.onclick=pm)}x=S,d.updateQueue=x,x!==null&&(d.flags|=4)}else{A=S.nodeType===9?S:S.ownerDocument,u==="http://www.w3.org/1999/xhtml"&&(u=Ce(m)),u==="http://www.w3.org/1999/xhtml"?m==="script"?(u=A.createElement("div"),u.innerHTML="<script><\/script>",u=u.removeChild(u.firstChild)):typeof x.is=="string"?u=A.createElement(m,{is:x.is}):(u=A.createElement(m),m==="select"&&(A=u,x.multiple?A.multiple=!0:x.size&&(A.size=x.size))):u=A.createElementNS(u,m),u[bo]=d,u[Lf]=x,V3(u,d,!1,!1),d.stateNode=u;e:{switch(A=wr(m,x),m){case"dialog":Mn("cancel",u),Mn("close",u),S=x;break;case"iframe":case"object":case"embed":Mn("load",u),S=x;break;case"video":case"audio":for(S=0;S<Mf.length;S++)Mn(Mf[S],u);S=x;break;case"source":Mn("error",u),S=x;break;case"img":case"image":case"link":Mn("error",u),Mn("load",u),S=x;break;case"details":Mn("toggle",u),S=x;break;case"input":yn(u,x),S=bn(u,x),Mn("invalid",u);break;case"option":S=x;break;case"select":u._wrapperState={wasMultiple:!!x.multiple},S=F({},x,{value:void 0}),Mn("invalid",u);break;case"textarea":Zt(u,x),S=Ct(u,x),Mn("invalid",u);break;default:S=x}Qe(m,S),G=S;for(T in G)if(G.hasOwnProperty(T)){var re=G[T];T==="style"?Zn(u,re):T==="dangerouslySetInnerHTML"?(re=re?re.__html:void 0,re!=null&&ft(u,re)):T==="children"?typeof re=="string"?(m!=="textarea"||re!=="")&&$t(u,re):typeof re=="number"&&$t(u,""+re):T!=="suppressContentEditableWarning"&&T!=="suppressHydrationWarning"&&T!=="autoFocus"&&(i.hasOwnProperty(T)?re!=null&&T==="onScroll"&&Mn("scroll",u):re!=null&&M(u,T,re,A))}switch(m){case"input":Vn(u),Ki(u,x,!1);break;case"textarea":Vn(u),Ln(u);break;case"option":x.value!=null&&u.setAttribute("value",""+We(x.value));break;case"select":u.multiple=!!x.multiple,T=x.value,T!=null?ln(u,!!x.multiple,T,!1):x.defaultValue!=null&&ln(u,!!x.multiple,x.defaultValue,!0);break;default:typeof S.onClick=="function"&&(u.onclick=pm)}switch(m){case"button":case"input":case"select":case"textarea":x=!!x.autoFocus;break e;case"img":x=!0;break e;default:x=!1}}x&&(d.flags|=4)}d.ref!==null&&(d.flags|=512,d.flags|=2097152)}return ti(d),null;case 6:if(u&&d.stateNode!=null)Q3(u,d,u.memoizedProps,x);else{if(typeof x!="string"&&d.stateNode===null)throw Error(n(166));if(m=hu(Uf.current),hu(wo.current),wm(d)){if(x=d.stateNode,m=d.memoizedProps,x[bo]=d,(T=x.nodeValue!==m)&&(u=ns,u!==null))switch(u.tag){case 3:hm(x.nodeValue,m,(u.mode&1)!==0);break;case 5:u.memoizedProps.suppressHydrationWarning!==!0&&hm(x.nodeValue,m,(u.mode&1)!==0)}T&&(d.flags|=4)}else x=(m.nodeType===9?m:m.ownerDocument).createTextNode(x),x[bo]=d,d.stateNode=x}return ti(d),null;case 13:if(An(Qn),x=d.memoizedState,u===null||u.memoizedState!==null&&u.memoizedState.dehydrated!==null){if($n&&rs!==null&&(d.mode&1)!==0&&(d.flags&128)===0)YS(),zc(),d.flags|=98560,T=!1;else if(T=wm(d),x!==null&&x.dehydrated!==null){if(u===null){if(!T)throw Error(n(318));if(T=d.memoizedState,T=T!==null?T.dehydrated:null,!T)throw Error(n(317));T[bo]=d}else zc(),(d.flags&128)===0&&(d.memoizedState=null),d.flags|=4;ti(d),T=!1}else qs!==null&&(Pv(qs),qs=null),T=!0;if(!T)return d.flags&65536?d:null}return(d.flags&128)!==0?(d.lanes=m,d):(x=x!==null,x!==(u!==null&&u.memoizedState!==null)&&x&&(d.child.flags|=8192,(d.mode&1)!==0&&(u===null||(Qn.current&1)!==0?kr===0&&(kr=3):Av())),d.updateQueue!==null&&(d.flags|=4),ti(d),null);case 4:return Wc(),wv(u,d),u===null&&Af(d.stateNode.containerInfo),ti(d),null;case 10:return G1(d.type._context),ti(d),null;case 17:return Ii(d.type)&&gm(),ti(d),null;case 19:if(An(Qn),T=d.memoizedState,T===null)return ti(d),null;if(x=(d.flags&128)!==0,A=T.rendering,A===null)if(x)Qf(T,!1);else{if(kr!==0||u!==null&&(u.flags&128)!==0)for(u=d.child;u!==null;){if(A=Tm(u),A!==null){for(d.flags|=128,Qf(T,!1),x=A.updateQueue,x!==null&&(d.updateQueue=x,d.flags|=4),d.subtreeFlags=0,x=m,m=d.child;m!==null;)T=m,u=x,T.flags&=14680066,A=T.alternate,A===null?(T.childLanes=0,T.lanes=u,T.child=null,T.subtreeFlags=0,T.memoizedProps=null,T.memoizedState=null,T.updateQueue=null,T.dependencies=null,T.stateNode=null):(T.childLanes=A.childLanes,T.lanes=A.lanes,T.child=A.child,T.subtreeFlags=0,T.deletions=null,T.memoizedProps=A.memoizedProps,T.memoizedState=A.memoizedState,T.updateQueue=A.updateQueue,T.type=A.type,u=A.dependencies,T.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext}),m=m.sibling;return kn(Qn,Qn.current&1|2),d.child}u=u.sibling}T.tail!==null&&Ht()>Kc&&(d.flags|=128,x=!0,Qf(T,!1),d.lanes=4194304)}else{if(!x)if(u=Tm(A),u!==null){if(d.flags|=128,x=!0,m=u.updateQueue,m!==null&&(d.updateQueue=m,d.flags|=4),Qf(T,!0),T.tail===null&&T.tailMode==="hidden"&&!A.alternate&&!$n)return ti(d),null}else 2*Ht()-T.renderingStartTime>Kc&&m!==1073741824&&(d.flags|=128,x=!0,Qf(T,!1),d.lanes=4194304);T.isBackwards?(A.sibling=d.child,d.child=A):(m=T.last,m!==null?m.sibling=A:d.child=A,T.last=A)}return T.tail!==null?(d=T.tail,T.rendering=d,T.tail=d.sibling,T.renderingStartTime=Ht(),d.sibling=null,m=Qn.current,kn(Qn,x?m&1|2:m&1),d):(ti(d),null);case 22:case 23:return Mv(),x=d.memoizedState!==null,u!==null&&u.memoizedState!==null!==x&&(d.flags|=8192),x&&(d.mode&1)!==0?(is&1073741824)!==0&&(ti(d),d.subtreeFlags&6&&(d.flags|=8192)):ti(d),null;case 24:return null;case 25:return null}throw Error(n(156,d.tag))}function TP(u,d){switch(H1(d),d.tag){case 1:return Ii(d.type)&&gm(),u=d.flags,u&65536?(d.flags=u&-65537|128,d):null;case 3:return Wc(),An(ji),An(Zr),nv(),u=d.flags,(u&65536)!==0&&(u&128)===0?(d.flags=u&-65537|128,d):null;case 5:return ev(d),null;case 13:if(An(Qn),u=d.memoizedState,u!==null&&u.dehydrated!==null){if(d.alternate===null)throw Error(n(340));zc()}return u=d.flags,u&65536?(d.flags=u&-65537|128,d):null;case 19:return An(Qn),null;case 4:return Wc(),null;case 10:return G1(d.type._context),null;case 22:case 23:return Mv(),null;case 24:return null;default:return null}}var Dm=!1,ni=!1,jP=typeof WeakSet=="function"?WeakSet:Set,tt=null;function qc(u,d){var m=u.ref;if(m!==null)if(typeof m=="function")try{m(null)}catch(x){nr(u,d,x)}else m.current=null}function _v(u,d,m){try{m()}catch(x){nr(u,d,x)}}var K3=!1;function IP(u,d){if(M1=yo,u=ce(),ve(u)){if("selectionStart"in u)var m={start:u.selectionStart,end:u.selectionEnd};else e:{m=(m=u.ownerDocument)&&m.defaultView||window;var x=m.getSelection&&m.getSelection();if(x&&x.rangeCount!==0){m=x.anchorNode;var S=x.anchorOffset,T=x.focusNode;x=x.focusOffset;try{m.nodeType,T.nodeType}catch{m=null;break e}var A=0,G=-1,re=-1,we=0,Oe=0,Me=u,Re=null;t:for(;;){for(var Ze;Me!==m||S!==0&&Me.nodeType!==3||(G=A+S),Me!==T||x!==0&&Me.nodeType!==3||(re=A+x),Me.nodeType===3&&(A+=Me.nodeValue.length),(Ze=Me.firstChild)!==null;)Re=Me,Me=Ze;for(;;){if(Me===u)break t;if(Re===m&&++we===S&&(G=A),Re===T&&++Oe===x&&(re=A),(Ze=Me.nextSibling)!==null)break;Me=Re,Re=Me.parentNode}Me=Ze}m=G===-1||re===-1?null:{start:G,end:re}}else m=null}m=m||{start:0,end:0}}else m=null;for(A1={focusedElem:u,selectionRange:m},yo=!1,tt=d;tt!==null;)if(d=tt,u=d.child,(d.subtreeFlags&1028)!==0&&u!==null)u.return=d,tt=u;else for(;tt!==null;){d=tt;try{var st=d.alternate;if((d.flags&1024)!==0)switch(d.tag){case 0:case 11:case 15:break;case 1:if(st!==null){var at=st.memoizedProps,ur=st.memoizedState,ye=d.stateNode,ue=ye.getSnapshotBeforeUpdate(d.elementType===d.type?at:Qs(d.type,at),ur);ye.__reactInternalSnapshotBeforeUpdate=ue}break;case 3:var xe=d.stateNode.containerInfo;xe.nodeType===1?xe.textContent="":xe.nodeType===9&&xe.documentElement&&xe.removeChild(xe.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(Ue){nr(d,d.return,Ue)}if(u=d.sibling,u!==null){u.return=d.return,tt=u;break}tt=d.return}return st=K3,K3=!1,st}function Kf(u,d,m){var x=d.updateQueue;if(x=x!==null?x.lastEffect:null,x!==null){var S=x=x.next;do{if((S.tag&u)===u){var T=S.destroy;S.destroy=void 0,T!==void 0&&_v(d,m,T)}S=S.next}while(S!==x)}}function Lm(u,d){if(d=d.updateQueue,d=d!==null?d.lastEffect:null,d!==null){var m=d=d.next;do{if((m.tag&u)===u){var x=m.create;m.destroy=x()}m=m.next}while(m!==d)}}function Sv(u){var d=u.ref;if(d!==null){var m=u.stateNode;switch(u.tag){case 5:u=m;break;default:u=m}typeof d=="function"?d(u):d.current=u}}function G3(u){var d=u.alternate;d!==null&&(u.alternate=null,G3(d)),u.child=null,u.deletions=null,u.sibling=null,u.tag===5&&(d=u.stateNode,d!==null&&(delete d[bo],delete d[Lf],delete d[B1],delete d[dP],delete d[fP])),u.stateNode=null,u.return=null,u.dependencies=null,u.memoizedProps=null,u.memoizedState=null,u.pendingProps=null,u.stateNode=null,u.updateQueue=null}function Y3(u){return u.tag===5||u.tag===3||u.tag===4}function X3(u){e:for(;;){for(;u.sibling===null;){if(u.return===null||Y3(u.return))return null;u=u.return}for(u.sibling.return=u.return,u=u.sibling;u.tag!==5&&u.tag!==6&&u.tag!==18;){if(u.flags&2||u.child===null||u.tag===4)continue e;u.child.return=u,u=u.child}if(!(u.flags&2))return u.stateNode}}function Cv(u,d,m){var x=u.tag;if(x===5||x===6)u=u.stateNode,d?m.nodeType===8?m.parentNode.insertBefore(u,d):m.insertBefore(u,d):(m.nodeType===8?(d=m.parentNode,d.insertBefore(u,m)):(d=m,d.appendChild(u)),m=m._reactRootContainer,m!=null||d.onclick!==null||(d.onclick=pm));else if(x!==4&&(u=u.child,u!==null))for(Cv(u,d,m),u=u.sibling;u!==null;)Cv(u,d,m),u=u.sibling}function Ev(u,d,m){var x=u.tag;if(x===5||x===6)u=u.stateNode,d?m.insertBefore(u,d):m.appendChild(u);else if(x!==4&&(u=u.child,u!==null))for(Ev(u,d,m),u=u.sibling;u!==null;)Ev(u,d,m),u=u.sibling}var Vr=null,Ks=!1;function Ya(u,d,m){for(m=m.child;m!==null;)J3(u,d,m),m=m.sibling}function J3(u,d,m){if(hr&&typeof hr.onCommitFiberUnmount=="function")try{hr.onCommitFiberUnmount(gs,m)}catch{}switch(m.tag){case 5:ni||qc(m,d);case 6:var x=Vr,S=Ks;Vr=null,Ya(u,d,m),Vr=x,Ks=S,Vr!==null&&(Ks?(u=Vr,m=m.stateNode,u.nodeType===8?u.parentNode.removeChild(m):u.removeChild(m)):Vr.removeChild(m.stateNode));break;case 18:Vr!==null&&(Ks?(u=Vr,m=m.stateNode,u.nodeType===8?F1(u.parentNode,m):u.nodeType===1&&F1(u,m),La(u)):F1(Vr,m.stateNode));break;case 4:x=Vr,S=Ks,Vr=m.stateNode.containerInfo,Ks=!0,Ya(u,d,m),Vr=x,Ks=S;break;case 0:case 11:case 14:case 15:if(!ni&&(x=m.updateQueue,x!==null&&(x=x.lastEffect,x!==null))){S=x=x.next;do{var T=S,A=T.destroy;T=T.tag,A!==void 0&&((T&2)!==0||(T&4)!==0)&&_v(m,d,A),S=S.next}while(S!==x)}Ya(u,d,m);break;case 1:if(!ni&&(qc(m,d),x=m.stateNode,typeof x.componentWillUnmount=="function"))try{x.props=m.memoizedProps,x.state=m.memoizedState,x.componentWillUnmount()}catch(G){nr(m,d,G)}Ya(u,d,m);break;case 21:Ya(u,d,m);break;case 22:m.mode&1?(ni=(x=ni)||m.memoizedState!==null,Ya(u,d,m),ni=x):Ya(u,d,m);break;default:Ya(u,d,m)}}function Z3(u){var d=u.updateQueue;if(d!==null){u.updateQueue=null;var m=u.stateNode;m===null&&(m=u.stateNode=new jP),d.forEach(function(x){var S=FP.bind(null,u,x);m.has(x)||(m.add(x),x.then(S,S))})}}function Gs(u,d){var m=d.deletions;if(m!==null)for(var x=0;x<m.length;x++){var S=m[x];try{var T=u,A=d,G=A;e:for(;G!==null;){switch(G.tag){case 5:Vr=G.stateNode,Ks=!1;break e;case 3:Vr=G.stateNode.containerInfo,Ks=!0;break e;case 4:Vr=G.stateNode.containerInfo,Ks=!0;break e}G=G.return}if(Vr===null)throw Error(n(160));J3(T,A,S),Vr=null,Ks=!1;var re=S.alternate;re!==null&&(re.return=null),S.return=null}catch(we){nr(S,d,we)}}if(d.subtreeFlags&12854)for(d=d.child;d!==null;)e5(d,u),d=d.sibling}function e5(u,d){var m=u.alternate,x=u.flags;switch(u.tag){case 0:case 11:case 14:case 15:if(Gs(d,u),So(u),x&4){try{Kf(3,u,u.return),Lm(3,u)}catch(at){nr(u,u.return,at)}try{Kf(5,u,u.return)}catch(at){nr(u,u.return,at)}}break;case 1:Gs(d,u),So(u),x&512&&m!==null&&qc(m,m.return);break;case 5:if(Gs(d,u),So(u),x&512&&m!==null&&qc(m,m.return),u.flags&32){var S=u.stateNode;try{$t(S,"")}catch(at){nr(u,u.return,at)}}if(x&4&&(S=u.stateNode,S!=null)){var T=u.memoizedProps,A=m!==null?m.memoizedProps:T,G=u.type,re=u.updateQueue;if(u.updateQueue=null,re!==null)try{G==="input"&&T.type==="radio"&&T.name!=null&&vr(S,T),wr(G,A);var we=wr(G,T);for(A=0;A<re.length;A+=2){var Oe=re[A],Me=re[A+1];Oe==="style"?Zn(S,Me):Oe==="dangerouslySetInnerHTML"?ft(S,Me):Oe==="children"?$t(S,Me):M(S,Oe,Me,we)}switch(G){case"input":Ei(S,T);break;case"textarea":xt(S,T);break;case"select":var Re=S._wrapperState.wasMultiple;S._wrapperState.wasMultiple=!!T.multiple;var Ze=T.value;Ze!=null?ln(S,!!T.multiple,Ze,!1):Re!==!!T.multiple&&(T.defaultValue!=null?ln(S,!!T.multiple,T.defaultValue,!0):ln(S,!!T.multiple,T.multiple?[]:"",!1))}S[Lf]=T}catch(at){nr(u,u.return,at)}}break;case 6:if(Gs(d,u),So(u),x&4){if(u.stateNode===null)throw Error(n(162));S=u.stateNode,T=u.memoizedProps;try{S.nodeValue=T}catch(at){nr(u,u.return,at)}}break;case 3:if(Gs(d,u),So(u),x&4&&m!==null&&m.memoizedState.isDehydrated)try{La(d.containerInfo)}catch(at){nr(u,u.return,at)}break;case 4:Gs(d,u),So(u);break;case 13:Gs(d,u),So(u),S=u.child,S.flags&8192&&(T=S.memoizedState!==null,S.stateNode.isHidden=T,!T||S.alternate!==null&&S.alternate.memoizedState!==null||(jv=Ht())),x&4&&Z3(u);break;case 22:if(Oe=m!==null&&m.memoizedState!==null,u.mode&1?(ni=(we=ni)||Oe,Gs(d,u),ni=we):Gs(d,u),So(u),x&8192){if(we=u.memoizedState!==null,(u.stateNode.isHidden=we)&&!Oe&&(u.mode&1)!==0)for(tt=u,Oe=u.child;Oe!==null;){for(Me=tt=Oe;tt!==null;){switch(Re=tt,Ze=Re.child,Re.tag){case 0:case 11:case 14:case 15:Kf(4,Re,Re.return);break;case 1:qc(Re,Re.return);var st=Re.stateNode;if(typeof st.componentWillUnmount=="function"){x=Re,m=Re.return;try{d=x,st.props=d.memoizedProps,st.state=d.memoizedState,st.componentWillUnmount()}catch(at){nr(x,m,at)}}break;case 5:qc(Re,Re.return);break;case 22:if(Re.memoizedState!==null){r5(Me);continue}}Ze!==null?(Ze.return=Re,tt=Ze):r5(Me)}Oe=Oe.sibling}e:for(Oe=null,Me=u;;){if(Me.tag===5){if(Oe===null){Oe=Me;try{S=Me.stateNode,we?(T=S.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none"):(G=Me.stateNode,re=Me.memoizedProps.style,A=re!=null&&re.hasOwnProperty("display")?re.display:null,G.style.display=xr("display",A))}catch(at){nr(u,u.return,at)}}}else if(Me.tag===6){if(Oe===null)try{Me.stateNode.nodeValue=we?"":Me.memoizedProps}catch(at){nr(u,u.return,at)}}else if((Me.tag!==22&&Me.tag!==23||Me.memoizedState===null||Me===u)&&Me.child!==null){Me.child.return=Me,Me=Me.child;continue}if(Me===u)break e;for(;Me.sibling===null;){if(Me.return===null||Me.return===u)break e;Oe===Me&&(Oe=null),Me=Me.return}Oe===Me&&(Oe=null),Me.sibling.return=Me.return,Me=Me.sibling}}break;case 19:Gs(d,u),So(u),x&4&&Z3(u);break;case 21:break;default:Gs(d,u),So(u)}}function So(u){var d=u.flags;if(d&2){try{e:{for(var m=u.return;m!==null;){if(Y3(m)){var x=m;break e}m=m.return}throw Error(n(160))}switch(x.tag){case 5:var S=x.stateNode;x.flags&32&&($t(S,""),x.flags&=-33);var T=X3(u);Ev(u,T,S);break;case 3:case 4:var A=x.stateNode.containerInfo,G=X3(u);Cv(u,G,A);break;default:throw Error(n(161))}}catch(re){nr(u,u.return,re)}u.flags&=-3}d&4096&&(u.flags&=-4097)}function NP(u,d,m){tt=u,t5(u)}function t5(u,d,m){for(var x=(u.mode&1)!==0;tt!==null;){var S=tt,T=S.child;if(S.tag===22&&x){var A=S.memoizedState!==null||Dm;if(!A){var G=S.alternate,re=G!==null&&G.memoizedState!==null||ni;G=Dm;var we=ni;if(Dm=A,(ni=re)&&!we)for(tt=S;tt!==null;)A=tt,re=A.child,A.tag===22&&A.memoizedState!==null?i5(S):re!==null?(re.return=A,tt=re):i5(S);for(;T!==null;)tt=T,t5(T),T=T.sibling;tt=S,Dm=G,ni=we}n5(u)}else(S.subtreeFlags&8772)!==0&&T!==null?(T.return=S,tt=T):n5(u)}}function n5(u){for(;tt!==null;){var d=tt;if((d.flags&8772)!==0){var m=d.alternate;try{if((d.flags&8772)!==0)switch(d.tag){case 0:case 11:case 15:ni||Lm(5,d);break;case 1:var x=d.stateNode;if(d.flags&4&&!ni)if(m===null)x.componentDidMount();else{var S=d.elementType===d.type?m.memoizedProps:Qs(d.type,m.memoizedProps);x.componentDidUpdate(S,m.memoizedState,x.__reactInternalSnapshotBeforeUpdate)}var T=d.updateQueue;T!==null&&r3(d,T,x);break;case 3:var A=d.updateQueue;if(A!==null){if(m=null,d.child!==null)switch(d.child.tag){case 5:m=d.child.stateNode;break;case 1:m=d.child.stateNode}r3(d,A,m)}break;case 5:var G=d.stateNode;if(m===null&&d.flags&4){m=G;var re=d.memoizedProps;switch(d.type){case"button":case"input":case"select":case"textarea":re.autoFocus&&m.focus();break;case"img":re.src&&(m.src=re.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(d.memoizedState===null){var we=d.alternate;if(we!==null){var Oe=we.memoizedState;if(Oe!==null){var Me=Oe.dehydrated;Me!==null&&La(Me)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}ni||d.flags&512&&Sv(d)}catch(Re){nr(d,d.return,Re)}}if(d===u){tt=null;break}if(m=d.sibling,m!==null){m.return=d.return,tt=m;break}tt=d.return}}function r5(u){for(;tt!==null;){var d=tt;if(d===u){tt=null;break}var m=d.sibling;if(m!==null){m.return=d.return,tt=m;break}tt=d.return}}function i5(u){for(;tt!==null;){var d=tt;try{switch(d.tag){case 0:case 11:case 15:var m=d.return;try{Lm(4,d)}catch(re){nr(d,m,re)}break;case 1:var x=d.stateNode;if(typeof x.componentDidMount=="function"){var S=d.return;try{x.componentDidMount()}catch(re){nr(d,S,re)}}var T=d.return;try{Sv(d)}catch(re){nr(d,T,re)}break;case 5:var A=d.return;try{Sv(d)}catch(re){nr(d,A,re)}}}catch(re){nr(d,d.return,re)}if(d===u){tt=null;break}var G=d.sibling;if(G!==null){G.return=d.return,tt=G;break}tt=d.return}}var RP=Math.ceil,Fm=U.ReactCurrentDispatcher,kv=U.ReactCurrentOwner,Cs=U.ReactCurrentBatchConfig,un=0,Dr=null,pr=null,qr=0,is=0,Qc=Va(0),kr=0,Gf=null,mu=0,Bm=0,Tv=0,Yf=null,Ri=null,jv=0,Kc=1/0,Zo=null,zm=!1,Iv=null,Xa=null,$m=!1,Ja=null,Um=0,Xf=0,Nv=null,Hm=-1,Wm=0;function yi(){return(un&6)!==0?Ht():Hm!==-1?Hm:Hm=Ht()}function Za(u){return(u.mode&1)===0?1:(un&2)!==0&&qr!==0?qr&-qr:pP.transition!==null?(Wm===0&&(Wm=Sf()),Wm):(u=gn,u!==0||(u=window.event,u=u===void 0?16:Jp(u.type)),u)}function Ys(u,d,m,x){if(50<Xf)throw Xf=0,Nv=null,Error(n(185));Aa(u,m,x),((un&2)===0||u!==Dr)&&(u===Dr&&((un&2)===0&&(Bm|=m),kr===4&&el(u,qr)),Pi(u,x),m===1&&un===0&&(d.mode&1)===0&&(Kc=Ht()+500,vm&&Qa()))}function Pi(u,d){var m=u.callbackNode;_f(u,d);var x=zs(u,u===Dr?qr:0);if(x===0)m!==null&&er(m),u.callbackNode=null,u.callbackPriority=0;else if(d=x&-x,u.callbackPriority!==d){if(m!=null&&er(m),d===1)u.tag===0?hP(o5.bind(null,u)):VS(o5.bind(null,u)),uP(function(){(un&6)===0&&Qa()}),m=null;else{switch(rn(x)){case 1:m=_r;break;case 4:m=Pr;break;case 16:m=ms;break;case 536870912:m=Or;break;default:m=ms}m=p5(m,s5.bind(null,u))}u.callbackPriority=d,u.callbackNode=m}}function s5(u,d){if(Hm=-1,Wm=0,(un&6)!==0)throw Error(n(327));var m=u.callbackNode;if(Gc()&&u.callbackNode!==m)return null;var x=zs(u,u===Dr?qr:0);if(x===0)return null;if((x&30)!==0||(x&u.expiredLanes)!==0||d)d=Vm(u,x);else{d=x;var S=un;un|=2;var T=l5();(Dr!==u||qr!==d)&&(Zo=null,Kc=Ht()+500,yu(u,d));do try{MP();break}catch(G){a5(u,G)}while(!0);K1(),Fm.current=T,un=S,pr!==null?d=0:(Dr=null,qr=0,d=kr)}if(d!==0){if(d===2&&(S=Oa(u),S!==0&&(x=S,d=Rv(u,S))),d===1)throw m=Gf,yu(u,0),el(u,x),Pi(u,Ht()),m;if(d===6)el(u,x);else{if(S=u.current.alternate,(x&30)===0&&!PP(S)&&(d=Vm(u,x),d===2&&(T=Oa(u),T!==0&&(x=T,d=Rv(u,T))),d===1))throw m=Gf,yu(u,0),el(u,x),Pi(u,Ht()),m;switch(u.finishedWork=S,u.finishedLanes=x,d){case 0:case 1:throw Error(n(345));case 2:vu(u,Ri,Zo);break;case 3:if(el(u,x),(x&130023424)===x&&(d=jv+500-Ht(),10<d)){if(zs(u,0)!==0)break;if(S=u.suspendedLanes,(S&x)!==x){yi(),u.pingedLanes|=u.suspendedLanes&S;break}u.timeoutHandle=L1(vu.bind(null,u,Ri,Zo),d);break}vu(u,Ri,Zo);break;case 4:if(el(u,x),(x&4194240)===x)break;for(d=u.eventTimes,S=-1;0<x;){var A=31-it(x);T=1<<A,A=d[A],A>S&&(S=A),x&=~T}if(x=S,x=Ht()-x,x=(120>x?120:480>x?480:1080>x?1080:1920>x?1920:3e3>x?3e3:4320>x?4320:1960*RP(x/1960))-x,10<x){u.timeoutHandle=L1(vu.bind(null,u,Ri,Zo),x);break}vu(u,Ri,Zo);break;case 5:vu(u,Ri,Zo);break;default:throw Error(n(329))}}}return Pi(u,Ht()),u.callbackNode===m?s5.bind(null,u):null}function Rv(u,d){var m=Yf;return u.current.memoizedState.isDehydrated&&(yu(u,d).flags|=256),u=Vm(u,d),u!==2&&(d=Ri,Ri=m,d!==null&&Pv(d)),u}function Pv(u){Ri===null?Ri=u:Ri.push.apply(Ri,u)}function PP(u){for(var d=u;;){if(d.flags&16384){var m=d.updateQueue;if(m!==null&&(m=m.stores,m!==null))for(var x=0;x<m.length;x++){var S=m[x],T=S.getSnapshot;S=S.value;try{if(!te(T(),S))return!1}catch{return!1}}}if(m=d.child,d.subtreeFlags&16384&&m!==null)m.return=d,d=m;else{if(d===u)break;for(;d.sibling===null;){if(d.return===null||d.return===u)return!0;d=d.return}d.sibling.return=d.return,d=d.sibling}}return!0}function el(u,d){for(d&=~Tv,d&=~Bm,u.suspendedLanes|=d,u.pingedLanes&=~d,u=u.expirationTimes;0<d;){var m=31-it(d),x=1<<m;u[m]=-1,d&=~x}}function o5(u){if((un&6)!==0)throw Error(n(327));Gc();var d=zs(u,0);if((d&1)===0)return Pi(u,Ht()),null;var m=Vm(u,d);if(u.tag!==0&&m===2){var x=Oa(u);x!==0&&(d=x,m=Rv(u,x))}if(m===1)throw m=Gf,yu(u,0),el(u,d),Pi(u,Ht()),m;if(m===6)throw Error(n(345));return u.finishedWork=u.current.alternate,u.finishedLanes=d,vu(u,Ri,Zo),Pi(u,Ht()),null}function Ov(u,d){var m=un;un|=1;try{return u(d)}finally{un=m,un===0&&(Kc=Ht()+500,vm&&Qa())}}function gu(u){Ja!==null&&Ja.tag===0&&(un&6)===0&&Gc();var d=un;un|=1;var m=Cs.transition,x=gn;try{if(Cs.transition=null,gn=1,u)return u()}finally{gn=x,Cs.transition=m,un=d,(un&6)===0&&Qa()}}function Mv(){is=Qc.current,An(Qc)}function yu(u,d){u.finishedWork=null,u.finishedLanes=0;var m=u.timeoutHandle;if(m!==-1&&(u.timeoutHandle=-1,lP(m)),pr!==null)for(m=pr.return;m!==null;){var x=m;switch(H1(x),x.tag){case 1:x=x.type.childContextTypes,x!=null&&gm();break;case 3:Wc(),An(ji),An(Zr),nv();break;case 5:ev(x);break;case 4:Wc();break;case 13:An(Qn);break;case 19:An(Qn);break;case 10:G1(x.type._context);break;case 22:case 23:Mv()}m=m.return}if(Dr=u,pr=u=tl(u.current,null),qr=is=d,kr=0,Gf=null,Tv=Bm=mu=0,Ri=Yf=null,fu!==null){for(d=0;d<fu.length;d++)if(m=fu[d],x=m.interleaved,x!==null){m.interleaved=null;var S=x.next,T=m.pending;if(T!==null){var A=T.next;T.next=S,x.next=A}m.pending=x}fu=null}return u}function a5(u,d){do{var m=pr;try{if(K1(),jm.current=Pm,Im){for(var x=Kn.memoizedState;x!==null;){var S=x.queue;S!==null&&(S.pending=null),x=x.next}Im=!1}if(pu=0,Ar=Er=Kn=null,Hf=!1,Wf=0,kv.current=null,m===null||m.return===null){kr=1,Gf=d,pr=null;break}e:{var T=u,A=m.return,G=m,re=d;if(d=qr,G.flags|=32768,re!==null&&typeof re=="object"&&typeof re.then=="function"){var we=re,Oe=G,Me=Oe.tag;if((Oe.mode&1)===0&&(Me===0||Me===11||Me===15)){var Re=Oe.alternate;Re?(Oe.updateQueue=Re.updateQueue,Oe.memoizedState=Re.memoizedState,Oe.lanes=Re.lanes):(Oe.updateQueue=null,Oe.memoizedState=null)}var Ze=P3(A);if(Ze!==null){Ze.flags&=-257,O3(Ze,A,G,T,d),Ze.mode&1&&R3(T,we,d),d=Ze,re=we;var st=d.updateQueue;if(st===null){var at=new Set;at.add(re),d.updateQueue=at}else st.add(re);break e}else{if((d&1)===0){R3(T,we,d),Av();break e}re=Error(n(426))}}else if($n&&G.mode&1){var ur=P3(A);if(ur!==null){(ur.flags&65536)===0&&(ur.flags|=256),O3(ur,A,G,T,d),q1(Vc(re,G));break e}}T=re=Vc(re,G),kr!==4&&(kr=2),Yf===null?Yf=[T]:Yf.push(T),T=A;do{switch(T.tag){case 3:T.flags|=65536,d&=-d,T.lanes|=d;var ye=I3(T,re,d);n3(T,ye);break e;case 1:G=re;var ue=T.type,xe=T.stateNode;if((T.flags&128)===0&&(typeof ue.getDerivedStateFromError=="function"||xe!==null&&typeof xe.componentDidCatch=="function"&&(Xa===null||!Xa.has(xe)))){T.flags|=65536,d&=-d,T.lanes|=d;var Ue=N3(T,G,d);n3(T,Ue);break e}}T=T.return}while(T!==null)}c5(m)}catch(ut){d=ut,pr===m&&m!==null&&(pr=m=m.return);continue}break}while(!0)}function l5(){var u=Fm.current;return Fm.current=Pm,u===null?Pm:u}function Av(){(kr===0||kr===3||kr===2)&&(kr=4),Dr===null||(mu&268435455)===0&&(Bm&268435455)===0||el(Dr,qr)}function Vm(u,d){var m=un;un|=2;var x=l5();(Dr!==u||qr!==d)&&(Zo=null,yu(u,d));do try{OP();break}catch(S){a5(u,S)}while(!0);if(K1(),un=m,Fm.current=x,pr!==null)throw Error(n(261));return Dr=null,qr=0,kr}function OP(){for(;pr!==null;)u5(pr)}function MP(){for(;pr!==null&&!ht();)u5(pr)}function u5(u){var d=h5(u.alternate,u,is);u.memoizedProps=u.pendingProps,d===null?c5(u):pr=d,kv.current=null}function c5(u){var d=u;do{var m=d.alternate;if(u=d.return,(d.flags&32768)===0){if(m=kP(m,d,is),m!==null){pr=m;return}}else{if(m=TP(m,d),m!==null){m.flags&=32767,pr=m;return}if(u!==null)u.flags|=32768,u.subtreeFlags=0,u.deletions=null;else{kr=6,pr=null;return}}if(d=d.sibling,d!==null){pr=d;return}pr=d=u}while(d!==null);kr===0&&(kr=5)}function vu(u,d,m){var x=gn,S=Cs.transition;try{Cs.transition=null,gn=1,AP(u,d,m,x)}finally{Cs.transition=S,gn=x}return null}function AP(u,d,m,x){do Gc();while(Ja!==null);if((un&6)!==0)throw Error(n(327));m=u.finishedWork;var S=u.finishedLanes;if(m===null)return null;if(u.finishedWork=null,u.finishedLanes=0,m===u.current)throw Error(n(177));u.callbackNode=null,u.callbackPriority=0;var T=m.lanes|m.childLanes;if(Ql(u,T),u===Dr&&(pr=Dr=null,qr=0),(m.subtreeFlags&2064)===0&&(m.flags&2064)===0||$m||($m=!0,p5(ms,function(){return Gc(),null})),T=(m.flags&15990)!==0,(m.subtreeFlags&15990)!==0||T){T=Cs.transition,Cs.transition=null;var A=gn;gn=1;var G=un;un|=4,kv.current=null,IP(u,m),e5(m,u),_e(A1),yo=!!M1,A1=M1=null,u.current=m,NP(m),tr(),un=G,gn=A,Cs.transition=T}else u.current=m;if($m&&($m=!1,Ja=u,Um=S),T=u.pendingLanes,T===0&&(Xa=null),qt(m.stateNode),Pi(u,Ht()),d!==null)for(x=u.onRecoverableError,m=0;m<d.length;m++)S=d[m],x(S.value,{componentStack:S.stack,digest:S.digest});if(zm)throw zm=!1,u=Iv,Iv=null,u;return(Um&1)!==0&&u.tag!==0&&Gc(),T=u.pendingLanes,(T&1)!==0?u===Nv?Xf++:(Xf=0,Nv=u):Xf=0,Qa(),null}function Gc(){if(Ja!==null){var u=rn(Um),d=Cs.transition,m=gn;try{if(Cs.transition=null,gn=16>u?16:u,Ja===null)var x=!1;else{if(u=Ja,Ja=null,Um=0,(un&6)!==0)throw Error(n(331));var S=un;for(un|=4,tt=u.current;tt!==null;){var T=tt,A=T.child;if((tt.flags&16)!==0){var G=T.deletions;if(G!==null){for(var re=0;re<G.length;re++){var we=G[re];for(tt=we;tt!==null;){var Oe=tt;switch(Oe.tag){case 0:case 11:case 15:Kf(8,Oe,T)}var Me=Oe.child;if(Me!==null)Me.return=Oe,tt=Me;else for(;tt!==null;){Oe=tt;var Re=Oe.sibling,Ze=Oe.return;if(G3(Oe),Oe===we){tt=null;break}if(Re!==null){Re.return=Ze,tt=Re;break}tt=Ze}}}var st=T.alternate;if(st!==null){var at=st.child;if(at!==null){st.child=null;do{var ur=at.sibling;at.sibling=null,at=ur}while(at!==null)}}tt=T}}if((T.subtreeFlags&2064)!==0&&A!==null)A.return=T,tt=A;else e:for(;tt!==null;){if(T=tt,(T.flags&2048)!==0)switch(T.tag){case 0:case 11:case 15:Kf(9,T,T.return)}var ye=T.sibling;if(ye!==null){ye.return=T.return,tt=ye;break e}tt=T.return}}var ue=u.current;for(tt=ue;tt!==null;){A=tt;var xe=A.child;if((A.subtreeFlags&2064)!==0&&xe!==null)xe.return=A,tt=xe;else e:for(A=ue;tt!==null;){if(G=tt,(G.flags&2048)!==0)try{switch(G.tag){case 0:case 11:case 15:Lm(9,G)}}catch(ut){nr(G,G.return,ut)}if(G===A){tt=null;break e}var Ue=G.sibling;if(Ue!==null){Ue.return=G.return,tt=Ue;break e}tt=G.return}}if(un=S,Qa(),hr&&typeof hr.onPostCommitFiberRoot=="function")try{hr.onPostCommitFiberRoot(gs,u)}catch{}x=!0}return x}finally{gn=m,Cs.transition=d}}return!1}function d5(u,d,m){d=Vc(m,d),d=I3(u,d,1),u=Ga(u,d,1),d=yi(),u!==null&&(Aa(u,1,d),Pi(u,d))}function nr(u,d,m){if(u.tag===3)d5(u,u,m);else for(;d!==null;){if(d.tag===3){d5(d,u,m);break}else if(d.tag===1){var x=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof x.componentDidCatch=="function"&&(Xa===null||!Xa.has(x))){u=Vc(m,u),u=N3(d,u,1),d=Ga(d,u,1),u=yi(),d!==null&&(Aa(d,1,u),Pi(d,u));break}}d=d.return}}function DP(u,d,m){var x=u.pingCache;x!==null&&x.delete(d),d=yi(),u.pingedLanes|=u.suspendedLanes&m,Dr===u&&(qr&m)===m&&(kr===4||kr===3&&(qr&130023424)===qr&&500>Ht()-jv?yu(u,0):Tv|=m),Pi(u,d)}function f5(u,d){d===0&&((u.mode&1)===0?d=1:(d=Xi,Xi<<=1,(Xi&130023424)===0&&(Xi=4194304)));var m=yi();u=Yo(u,d),u!==null&&(Aa(u,d,m),Pi(u,m))}function LP(u){var d=u.memoizedState,m=0;d!==null&&(m=d.retryLane),f5(u,m)}function FP(u,d){var m=0;switch(u.tag){case 13:var x=u.stateNode,S=u.memoizedState;S!==null&&(m=S.retryLane);break;case 19:x=u.stateNode;break;default:throw Error(n(314))}x!==null&&x.delete(d),f5(u,m)}var h5;h5=function(u,d,m){if(u!==null)if(u.memoizedProps!==d.pendingProps||ji.current)Ni=!0;else{if((u.lanes&m)===0&&(d.flags&128)===0)return Ni=!1,EP(u,d,m);Ni=(u.flags&131072)!==0}else Ni=!1,$n&&(d.flags&1048576)!==0&&qS(d,bm,d.index);switch(d.lanes=0,d.tag){case 2:var x=d.type;Am(u,d),u=d.pendingProps;var S=Lc(d,Zr.current);Hc(d,m),S=sv(null,d,x,u,S,m);var T=ov();return d.flags|=1,typeof S=="object"&&S!==null&&typeof S.render=="function"&&S.$$typeof===void 0?(d.tag=1,d.memoizedState=null,d.updateQueue=null,Ii(x)?(T=!0,ym(d)):T=!1,d.memoizedState=S.state!==null&&S.state!==void 0?S.state:null,J1(d),S.updater=Om,d.stateNode=S,S._reactInternals=d,fv(d,x,u,m),d=gv(null,d,x,!0,T,m)):(d.tag=0,$n&&T&&U1(d),gi(null,d,S,m),d=d.child),d;case 16:x=d.elementType;e:{switch(Am(u,d),u=d.pendingProps,S=x._init,x=S(x._payload),d.type=x,S=d.tag=zP(x),u=Qs(x,u),S){case 0:d=mv(null,d,x,u,m);break e;case 1:d=B3(null,d,x,u,m);break e;case 11:d=M3(null,d,x,u,m);break e;case 14:d=A3(null,d,x,Qs(x.type,u),m);break e}throw Error(n(306,x,""))}return d;case 0:return x=d.type,S=d.pendingProps,S=d.elementType===x?S:Qs(x,S),mv(u,d,x,S,m);case 1:return x=d.type,S=d.pendingProps,S=d.elementType===x?S:Qs(x,S),B3(u,d,x,S,m);case 3:e:{if(z3(d),u===null)throw Error(n(387));x=d.pendingProps,T=d.memoizedState,S=T.element,t3(u,d),km(d,x,null,m);var A=d.memoizedState;if(x=A.element,T.isDehydrated)if(T={element:x,isDehydrated:!1,cache:A.cache,pendingSuspenseBoundaries:A.pendingSuspenseBoundaries,transitions:A.transitions},d.updateQueue.baseState=T,d.memoizedState=T,d.flags&256){S=Vc(Error(n(423)),d),d=$3(u,d,x,m,S);break e}else if(x!==S){S=Vc(Error(n(424)),d),d=$3(u,d,x,m,S);break e}else for(rs=Wa(d.stateNode.containerInfo.firstChild),ns=d,$n=!0,qs=null,m=ZS(d,null,x,m),d.child=m;m;)m.flags=m.flags&-3|4096,m=m.sibling;else{if(zc(),x===S){d=Jo(u,d,m);break e}gi(u,d,x,m)}d=d.child}return d;case 5:return i3(d),u===null&&V1(d),x=d.type,S=d.pendingProps,T=u!==null?u.memoizedProps:null,A=S.children,D1(x,S)?A=null:T!==null&&D1(x,T)&&(d.flags|=32),F3(u,d),gi(u,d,A,m),d.child;case 6:return u===null&&V1(d),null;case 13:return U3(u,d,m);case 4:return Z1(d,d.stateNode.containerInfo),x=d.pendingProps,u===null?d.child=$c(d,null,x,m):gi(u,d,x,m),d.child;case 11:return x=d.type,S=d.pendingProps,S=d.elementType===x?S:Qs(x,S),M3(u,d,x,S,m);case 7:return gi(u,d,d.pendingProps,m),d.child;case 8:return gi(u,d,d.pendingProps.children,m),d.child;case 12:return gi(u,d,d.pendingProps.children,m),d.child;case 10:e:{if(x=d.type._context,S=d.pendingProps,T=d.memoizedProps,A=S.value,kn(Sm,x._currentValue),x._currentValue=A,T!==null)if(te(T.value,A)){if(T.children===S.children&&!ji.current){d=Jo(u,d,m);break e}}else for(T=d.child,T!==null&&(T.return=d);T!==null;){var G=T.dependencies;if(G!==null){A=T.child;for(var re=G.firstContext;re!==null;){if(re.context===x){if(T.tag===1){re=Xo(-1,m&-m),re.tag=2;var we=T.updateQueue;if(we!==null){we=we.shared;var Oe=we.pending;Oe===null?re.next=re:(re.next=Oe.next,Oe.next=re),we.pending=re}}T.lanes|=m,re=T.alternate,re!==null&&(re.lanes|=m),Y1(T.return,m,d),G.lanes|=m;break}re=re.next}}else if(T.tag===10)A=T.type===d.type?null:T.child;else if(T.tag===18){if(A=T.return,A===null)throw Error(n(341));A.lanes|=m,G=A.alternate,G!==null&&(G.lanes|=m),Y1(A,m,d),A=T.sibling}else A=T.child;if(A!==null)A.return=T;else for(A=T;A!==null;){if(A===d){A=null;break}if(T=A.sibling,T!==null){T.return=A.return,A=T;break}A=A.return}T=A}gi(u,d,S.children,m),d=d.child}return d;case 9:return S=d.type,x=d.pendingProps.children,Hc(d,m),S=_s(S),x=x(S),d.flags|=1,gi(u,d,x,m),d.child;case 14:return x=d.type,S=Qs(x,d.pendingProps),S=Qs(x.type,S),A3(u,d,x,S,m);case 15:return D3(u,d,d.type,d.pendingProps,m);case 17:return x=d.type,S=d.pendingProps,S=d.elementType===x?S:Qs(x,S),Am(u,d),d.tag=1,Ii(x)?(u=!0,ym(d)):u=!1,Hc(d,m),T3(d,x,S),fv(d,x,S,m),gv(null,d,x,!0,u,m);case 19:return W3(u,d,m);case 22:return L3(u,d,m)}throw Error(n(156,d.tag))};function p5(u,d){return Bn(u,d)}function BP(u,d,m,x){this.tag=u,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=x,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Es(u,d,m,x){return new BP(u,d,m,x)}function Dv(u){return u=u.prototype,!(!u||!u.isReactComponent)}function zP(u){if(typeof u=="function")return Dv(u)?1:0;if(u!=null){if(u=u.$$typeof,u===X)return 11;if(u===V)return 14}return 2}function tl(u,d){var m=u.alternate;return m===null?(m=Es(u.tag,d,u.key,u.mode),m.elementType=u.elementType,m.type=u.type,m.stateNode=u.stateNode,m.alternate=u,u.alternate=m):(m.pendingProps=d,m.type=u.type,m.flags=0,m.subtreeFlags=0,m.deletions=null),m.flags=u.flags&14680064,m.childLanes=u.childLanes,m.lanes=u.lanes,m.child=u.child,m.memoizedProps=u.memoizedProps,m.memoizedState=u.memoizedState,m.updateQueue=u.updateQueue,d=u.dependencies,m.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},m.sibling=u.sibling,m.index=u.index,m.ref=u.ref,m}function qm(u,d,m,x,S,T){var A=2;if(x=u,typeof u=="function")Dv(u)&&(A=1);else if(typeof u=="string")A=5;else e:switch(u){case N:return xu(m.children,S,T,d);case B:A=8,S|=8;break;case $:return u=Es(12,m,d,S|2),u.elementType=$,u.lanes=T,u;case ie:return u=Es(13,m,d,S),u.elementType=ie,u.lanes=T,u;case q:return u=Es(19,m,d,S),u.elementType=q,u.lanes=T,u;case ne:return Qm(m,S,T,d);default:if(typeof u=="object"&&u!==null)switch(u.$$typeof){case D:A=10;break e;case J:A=9;break e;case X:A=11;break e;case V:A=14;break e;case K:A=16,x=null;break e}throw Error(n(130,u==null?u:typeof u,""))}return d=Es(A,m,d,S),d.elementType=u,d.type=x,d.lanes=T,d}function xu(u,d,m,x){return u=Es(7,u,x,d),u.lanes=m,u}function Qm(u,d,m,x){return u=Es(22,u,x,d),u.elementType=ne,u.lanes=m,u.stateNode={isHidden:!1},u}function Lv(u,d,m){return u=Es(6,u,null,d),u.lanes=m,u}function Fv(u,d,m){return d=Es(4,u.children!==null?u.children:[],u.key,d),d.lanes=m,d.stateNode={containerInfo:u.containerInfo,pendingChildren:null,implementation:u.implementation},d}function $P(u,d,m,x,S){this.tag=d,this.containerInfo=u,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ma(0),this.expirationTimes=Ma(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ma(0),this.identifierPrefix=x,this.onRecoverableError=S,this.mutableSourceEagerHydrationData=null}function Bv(u,d,m,x,S,T,A,G,re){return u=new $P(u,d,m,G,re),d===1?(d=1,T===!0&&(d|=8)):d=0,T=Es(3,null,null,d),u.current=T,T.stateNode=u,T.memoizedState={element:x,isDehydrated:m,cache:null,transitions:null,pendingSuspenseBoundaries:null},J1(T),u}function UP(u,d,m){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:P,key:x==null?null:""+x,children:u,containerInfo:d,implementation:m}}function m5(u){if(!u)return qa;u=u._reactInternals;e:{if(Je(u)!==u||u.tag!==1)throw Error(n(170));var d=u;do{switch(d.tag){case 3:d=d.stateNode.context;break e;case 1:if(Ii(d.type)){d=d.stateNode.__reactInternalMemoizedMergedChildContext;break e}}d=d.return}while(d!==null);throw Error(n(171))}if(u.tag===1){var m=u.type;if(Ii(m))return HS(u,m,d)}return d}function g5(u,d,m,x,S,T,A,G,re){return u=Bv(m,x,!0,u,S,T,A,G,re),u.context=m5(null),m=u.current,x=yi(),S=Za(m),T=Xo(x,S),T.callback=d??null,Ga(m,T,S),u.current.lanes=S,Aa(u,S,x),Pi(u,x),u}function Km(u,d,m,x){var S=d.current,T=yi(),A=Za(S);return m=m5(m),d.context===null?d.context=m:d.pendingContext=m,d=Xo(T,A),d.payload={element:u},x=x===void 0?null:x,x!==null&&(d.callback=x),u=Ga(S,d,A),u!==null&&(Ys(u,S,A,T),Em(u,S,A)),A}function Gm(u){if(u=u.current,!u.child)return null;switch(u.child.tag){case 5:return u.child.stateNode;default:return u.child.stateNode}}function y5(u,d){if(u=u.memoizedState,u!==null&&u.dehydrated!==null){var m=u.retryLane;u.retryLane=m!==0&&m<d?m:d}}function zv(u,d){y5(u,d),(u=u.alternate)&&y5(u,d)}function HP(){return null}var v5=typeof reportError=="function"?reportError:function(u){console.error(u)};function $v(u){this._internalRoot=u}Ym.prototype.render=$v.prototype.render=function(u){var d=this._internalRoot;if(d===null)throw Error(n(409));Km(u,d,null,null)},Ym.prototype.unmount=$v.prototype.unmount=function(){var u=this._internalRoot;if(u!==null){this._internalRoot=null;var d=u.containerInfo;gu(function(){Km(null,u,null,null)}),d[qo]=null}};function Ym(u){this._internalRoot=u}Ym.prototype.unstable_scheduleHydration=function(u){if(u){var d=Yr();u={blockedOn:null,target:u,priority:d};for(var m=0;m<ki.length&&d!==0&&d<ki[m].priority;m++);ki.splice(m,0,u),m===0&&wc(u)}};function Uv(u){return!(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)}function Xm(u){return!(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11&&(u.nodeType!==8||u.nodeValue!==" react-mount-point-unstable "))}function x5(){}function WP(u,d,m,x,S){if(S){if(typeof x=="function"){var T=x;x=function(){var we=Gm(A);T.call(we)}}var A=g5(d,x,u,0,null,!1,!1,"",x5);return u._reactRootContainer=A,u[qo]=A.current,Af(u.nodeType===8?u.parentNode:u),gu(),A}for(;S=u.lastChild;)u.removeChild(S);if(typeof x=="function"){var G=x;x=function(){var we=Gm(re);G.call(we)}}var re=Bv(u,0,!1,null,null,!1,!1,"",x5);return u._reactRootContainer=re,u[qo]=re.current,Af(u.nodeType===8?u.parentNode:u),gu(function(){Km(d,re,m,x)}),re}function Jm(u,d,m,x,S){var T=m._reactRootContainer;if(T){var A=T;if(typeof S=="function"){var G=S;S=function(){var re=Gm(A);G.call(re)}}Km(d,A,u,S)}else A=WP(m,d,u,S,x);return Gm(A)}bc=function(u){switch(u.tag){case 3:var d=u.stateNode;if(d.current.memoizedState.isDehydrated){var m=Ji(d.pendingLanes);m!==0&&(xc(d,m|1),Pi(d,Ht()),(un&6)===0&&(Kc=Ht()+500,Qa()))}break;case 13:gu(function(){var x=Yo(u,1);if(x!==null){var S=yi();Ys(x,u,1,S)}}),zv(u,1)}},Cf=function(u){if(u.tag===13){var d=Yo(u,134217728);if(d!==null){var m=yi();Ys(d,u,134217728,m)}zv(u,134217728)}},Xp=function(u){if(u.tag===13){var d=Za(u),m=Yo(u,d);if(m!==null){var x=yi();Ys(m,u,d,x)}zv(u,d)}},Yr=function(){return gn},Fo=function(u,d){var m=gn;try{return gn=u,d()}finally{gn=m}},Ve=function(u,d,m){switch(d){case"input":if(Ei(u,m),d=m.name,m.type==="radio"&&d!=null){for(m=u;m.parentNode;)m=m.parentNode;for(m=m.querySelectorAll("input[name="+JSON.stringify(""+d)+'][type="radio"]'),d=0;d<m.length;d++){var x=m[d];if(x!==u&&x.form===u.form){var S=mm(x);if(!S)throw Error(n(90));ct(x),Ei(x,S)}}}break;case"textarea":xt(u,m);break;case"select":d=m.value,d!=null&&ln(u,!!m.multiple,d,!1)}},ql=Ov,Lo=gu;var VP={usingClientEntryPoint:!1,Events:[Ff,Ac,mm,Ra,Pa,Ov]},Jf={findFiberByHostInstance:lu,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},qP={bundleType:Jf.bundleType,version:Jf.version,rendererPackageName:Jf.rendererPackageName,rendererConfig:Jf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:U.ReactCurrentDispatcher,findHostInstanceByFiber:function(u){return u=Vt(u),u===null?null:u.stateNode},findFiberByHostInstance:Jf.findFiberByHostInstance||HP,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zm.isDisabled&&Zm.supportsFiber)try{gs=Zm.inject(qP),hr=Zm}catch{}}return Oi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=VP,Oi.createPortal=function(u,d){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Uv(d))throw Error(n(200));return UP(u,d,null,m)},Oi.createRoot=function(u,d){if(!Uv(u))throw Error(n(299));var m=!1,x="",S=v5;return d!=null&&(d.unstable_strictMode===!0&&(m=!0),d.identifierPrefix!==void 0&&(x=d.identifierPrefix),d.onRecoverableError!==void 0&&(S=d.onRecoverableError)),d=Bv(u,1,!1,null,null,m,!1,x,S),u[qo]=d.current,Af(u.nodeType===8?u.parentNode:u),new $v(d)},Oi.findDOMNode=function(u){if(u==null)return null;if(u.nodeType===1)return u;var d=u._reactInternals;if(d===void 0)throw typeof u.render=="function"?Error(n(188)):(u=Object.keys(u).join(","),Error(n(268,u)));return u=Vt(d),u=u===null?null:u.stateNode,u},Oi.flushSync=function(u){return gu(u)},Oi.hydrate=function(u,d,m){if(!Xm(d))throw Error(n(200));return Jm(null,u,d,!0,m)},Oi.hydrateRoot=function(u,d,m){if(!Uv(u))throw Error(n(405));var x=m!=null&&m.hydratedSources||null,S=!1,T="",A=v5;if(m!=null&&(m.unstable_strictMode===!0&&(S=!0),m.identifierPrefix!==void 0&&(T=m.identifierPrefix),m.onRecoverableError!==void 0&&(A=m.onRecoverableError)),d=g5(d,null,u,1,m??null,S,!1,T,A),u[qo]=d.current,Af(u),x)for(u=0;u<x.length;u++)m=x[u],S=m._getVersion,S=S(m._source),d.mutableSourceEagerHydrationData==null?d.mutableSourceEagerHydrationData=[m,S]:d.mutableSourceEagerHydrationData.push(m,S);return new Ym(d)},Oi.render=function(u,d,m){if(!Xm(d))throw Error(n(200));return Jm(null,u,d,!1,m)},Oi.unmountComponentAtNode=function(u){if(!Xm(u))throw Error(n(40));return u._reactRootContainer?(gu(function(){Jm(null,null,u,!1,function(){u._reactRootContainer=null,u[qo]=null})}),!0):!1},Oi.unstable_batchedUpdates=Ov,Oi.unstable_renderSubtreeIntoContainer=function(u,d,m,x){if(!Xm(m))throw Error(n(200));if(u==null||u._reactInternals===void 0)throw Error(n(38));return Jm(u,d,m,!1,x)},Oi.version="18.3.1-next-f1338f8080-20240426",Oi}var j5;function V8(){if(j5)return Vv.exports;j5=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Vv.exports=rO(),Vv.exports}var I5;function iO(){if(I5)return eg;I5=1;var e=V8();return eg.createRoot=e.createRoot,eg.hydrateRoot=e.hydrateRoot,eg}var sO=iO();/**
 * react-router v7.12.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var q8=e=>{throw TypeError(e)},oO=(e,t,n)=>t.has(e)||q8("Cannot "+n),Kv=(e,t,n)=>(oO(e,t,"read from private field"),n?n.call(e):t.get(e)),aO=(e,t,n)=>t.has(e)?q8("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),N5="popstate";function lO(e={}){function t(r,i){let{pathname:s,search:o,hash:a}=r.location;return Qh("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Oo(i)}return cO(t,n,null,e)}function Kt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function or(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function uO(){return Math.random().toString(36).substring(2,10)}function R5(e,t){return{usr:e.state,key:e.key,idx:t}}function Qh(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Al(t):t,state:n,key:t&&t.key||r||uO()}}function Oo({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Al(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function cO(e,t,n,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a="POP",l=null,c=f();c==null&&(c=0,o.replaceState({...o.state,idx:c},""));function f(){return(o.state||{idx:null}).idx}function p(){a="POP";let C=f(),E=C==null?null:C-c;c=C,l&&l({action:a,location:_.location,delta:E})}function g(C,E){a="PUSH";let R=Qh(_.location,C,E);c=f()+1;let M=R5(R,c),U=_.createHref(R);try{o.pushState(M,"",U)}catch(z){if(z instanceof DOMException&&z.name==="DataCloneError")throw z;i.location.assign(U)}s&&l&&l({action:a,location:_.location,delta:1})}function y(C,E){a="REPLACE";let R=Qh(_.location,C,E);c=f();let M=R5(R,c),U=_.createHref(R);o.replaceState(M,"",U),s&&l&&l({action:a,location:_.location,delta:0})}function b(C){return Q8(C)}let _={get action(){return a},get location(){return e(i,o)},listen(C){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(N5,p),l=C,()=>{i.removeEventListener(N5,p),l=null}},createHref(C){return t(i,C)},createURL:b,encodeLocation(C){let E=b(C);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:g,replace:y,go(C){return o.go(C)}};return _}function Q8(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Kt(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:Oo(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}var wh,P5=class{constructor(e){if(aO(this,wh,new Map),e)for(let[t,n]of e)this.set(t,n)}get(e){if(Kv(this,wh).has(e))return Kv(this,wh).get(e);if(e.defaultValue!==void 0)return e.defaultValue;throw new Error("No value found for context")}set(e,t){Kv(this,wh).set(e,t)}};wh=new WeakMap;var dO=new Set(["lazy","caseSensitive","path","id","index","children"]);function fO(e){return dO.has(e)}var hO=new Set(["lazy","caseSensitive","path","id","index","middleware","children"]);function pO(e){return hO.has(e)}function mO(e){return e.index===!0}function Kh(e,t,n=[],r={},i=!1){return e.map((s,o)=>{let a=[...n,String(o)],l=typeof s.id=="string"?s.id:a.join("-");if(Kt(s.index!==!0||!s.children,"Cannot specify children on an index route"),Kt(i||!r[l],`Found a route id collision on id "${l}".  Route id's must be globally unique within Data Router usages`),mO(s)){let c={...s,id:l};return r[l]=O5(c,t(c)),c}else{let c={...s,id:l,children:void 0};return r[l]=O5(c,t(c)),s.children&&(c.children=Kh(s.children,t,a,r,i)),c}})}function O5(e,t){return Object.assign(e,{...t,...typeof t.lazy=="object"&&t.lazy!=null?{lazy:{...e.lazy,...t.lazy}}:{}})}function dl(e,t,n="/"){return _h(e,t,n,!1)}function _h(e,t,n,r){let i=typeof t=="string"?Al(t):t,s=Os(i.pathname||"/",n);if(s==null)return null;let o=K8(e);yO(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=jO(s);a=kO(o[l],c,r)}return a}function gO(e,t){let{route:n,pathname:r,params:i}=e;return{id:n.id,pathname:r,params:i,data:t[n.id],loaderData:t[n.id],handle:n.handle}}function K8(e,t=[],n=[],r="",i=!1){let s=(o,a,l=i,c)=>{let f={relativePath:c===void 0?o.path||"":c,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};if(f.relativePath.startsWith("/")){if(!f.relativePath.startsWith(r)&&l)return;Kt(f.relativePath.startsWith(r),`Absolute route path "${f.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(r.length)}let p=No([r,f.relativePath]),g=n.concat(f);o.children&&o.children.length>0&&(Kt(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),K8(o.children,t,g,p,l)),!(o.path==null&&!o.index)&&t.push({path:p,score:CO(p,o.index),routesMeta:g})};return e.forEach((o,a)=>{if(o.path===""||!o.path?.includes("?"))s(o,a);else for(let l of G8(o.path))s(o,a,!0,l)}),t}function G8(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=G8(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function yO(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:EO(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var vO=/^:[\w-]+$/,xO=3,bO=2,wO=1,_O=10,SO=-2,M5=e=>e==="*";function CO(e,t){let n=e.split("/"),r=n.length;return n.some(M5)&&(r+=SO),t&&(r+=bO),n.filter(i=>!M5(i)).reduce((i,s)=>i+(vO.test(s)?xO:s===""?wO:_O),r)}function EO(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function kO(e,t,n=!1){let{routesMeta:r}=e,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,f=s==="/"?t:t.slice(s.length)||"/",p=C0({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},f),g=l.route;if(!p&&c&&n&&!r[r.length-1].route.index&&(p=C0({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},f)),!p)return null;Object.assign(i,p.params),o.push({params:i,pathname:No([s,p.pathname]),pathnameBase:RO(No([s,p.pathnameBase])),route:g}),p.pathnameBase!=="/"&&(s=No([s,p.pathnameBase]))}return o}function C0(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=TO(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,{paramName:f,isOptional:p},g)=>{if(f==="*"){let b=a[g]||"";o=s.slice(0,s.length-b.length).replace(/(.)\/+$/,"$1")}const y=a[g];return p&&!y?c[f]=void 0:c[f]=(y||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:e}}function TO(e,t=!1,n=!0){or(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function jO(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return or(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Os(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function IO({basename:e,pathname:t}){return t==="/"?e:No([e,t])}var Y8=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,yy=e=>Y8.test(e);function NO(e,t="/"){let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?Al(e):e,s;if(n)if(yy(n))s=n;else{if(n.includes("//")){let o=n;n=n.replace(/\/\/+/g,"/"),or(!1,`Pathnames cannot have embedded double slashes - normalizing ${o} -> ${n}`)}n.startsWith("/")?s=A5(n.substring(1),"/"):s=A5(n,t)}else s=t;return{pathname:s,search:PO(r),hash:OO(i)}}function A5(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Gv(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function X8(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function b2(e){let t=X8(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function w2(e,t,n,r=!1){let i;typeof e=="string"?i=Al(e):(i={...e},Kt(!i.pathname||!i.pathname.includes("?"),Gv("?","pathname","search",i)),Kt(!i.pathname||!i.pathname.includes("#"),Gv("#","pathname","hash",i)),Kt(!i.search||!i.search.includes("#"),Gv("#","search","hash",i)));let s=e===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let p=t.length-1;if(!r&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),p-=1;i.pathname=g.join("/")}a=p>=0?t[p]:"/"}let l=NO(i,a),c=o&&o!=="/"&&o.endsWith("/"),f=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||f)&&(l.pathname+="/"),l}var No=e=>e.join("/").replace(/\/\/+/g,"/"),RO=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),PO=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,OO=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,bp=class{constructor(e,t,n,r=!1){this.status=e,this.statusText=t||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function Gh(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function wp(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var J8=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Z8(e,t){let n=e;if(typeof n!="string"||!Y8.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,i=!1;if(J8)try{let s=new URL(window.location.href),o=n.startsWith("//")?new URL(s.protocol+n):new URL(n),a=Os(o.pathname,t);o.origin===s.origin&&a!=null?n=a+o.search+o.hash:i=!0}catch{or(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:i,to:n}}var pl=Symbol("Uninstrumented");function MO(e,t){let n={lazy:[],"lazy.loader":[],"lazy.action":[],"lazy.middleware":[],middleware:[],loader:[],action:[]};e.forEach(i=>i({id:t.id,index:t.index,path:t.path,instrument(s){let o=Object.keys(n);for(let a of o)s[a]&&n[a].push(s[a])}}));let r={};if(typeof t.lazy=="function"&&n.lazy.length>0){let i=Ed(n.lazy,t.lazy,()=>{});i&&(r.lazy=i)}if(typeof t.lazy=="object"){let i=t.lazy;["middleware","loader","action"].forEach(s=>{let o=i[s],a=n[`lazy.${s}`];if(typeof o=="function"&&a.length>0){let l=Ed(a,o,()=>{});l&&(r.lazy=Object.assign(r.lazy||{},{[s]:l}))}})}return["loader","action"].forEach(i=>{let s=t[i];if(typeof s=="function"&&n[i].length>0){let o=s[pl]??s,a=Ed(n[i],o,(...l)=>D5(l[0]));a&&(i==="loader"&&o.hydrate===!0&&(a.hydrate=!0),a[pl]=o,r[i]=a)}}),t.middleware&&t.middleware.length>0&&n.middleware.length>0&&(r.middleware=t.middleware.map(i=>{let s=i[pl]??i,o=Ed(n.middleware,s,(...a)=>D5(a[0]));return o?(o[pl]=s,o):i})),r}function AO(e,t){let n={navigate:[],fetch:[]};if(t.forEach(r=>r({instrument(i){let s=Object.keys(i);for(let o of s)i[o]&&n[o].push(i[o])}})),n.navigate.length>0){let r=e.navigate[pl]??e.navigate,i=Ed(n.navigate,r,(...s)=>{let[o,a]=s;return{to:typeof o=="number"||typeof o=="string"?o:o?Oo(o):".",...L5(e,a??{})}});i&&(i[pl]=r,e.navigate=i)}if(n.fetch.length>0){let r=e.fetch[pl]??e.fetch,i=Ed(n.fetch,r,(...s)=>{let[o,,a,l]=s;return{href:a??".",fetcherKey:o,...L5(e,l??{})}});i&&(i[pl]=r,e.fetch=i)}return e}function Ed(e,t,n){return e.length===0?null:async(...r)=>{let i=await e7(e,n(...r),()=>t(...r),e.length-1);if(i.type==="error")throw i.value;return i.value}}async function e7(e,t,n,r){let i=e[r],s;if(i){let o,a=async()=>(o?console.error("You cannot call instrumented handlers more than once"):o=e7(e,t,n,r-1),s=await o,Kt(s,"Expected a result"),s.type==="error"&&s.value instanceof Error?{status:"error",error:s.value}:{status:"success",error:void 0});try{await i(a,t)}catch(l){console.error("An instrumentation function threw an error:",l)}o||await a(),await o}else try{s={type:"success",value:await n()}}catch(o){s={type:"error",value:o}}return s||{type:"error",value:new Error("No result assigned in instrumentation chain.")}}function D5(e){let{request:t,context:n,params:r,unstable_pattern:i}=e;return{request:DO(t),params:{...r},unstable_pattern:i,context:LO(n)}}function L5(e,t){return{currentUrl:Oo(e.state.location),..."formMethod"in t?{formMethod:t.formMethod}:{},..."formEncType"in t?{formEncType:t.formEncType}:{},..."formData"in t?{formData:t.formData}:{},..."body"in t?{body:t.body}:{}}}function DO(e){return{method:e.method,url:e.url,headers:{get:(...t)=>e.headers.get(...t)}}}function LO(e){if(BO(e)){let t={...e};return Object.freeze(t),t}else return{get:t=>e.get(t)}}var FO=Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function BO(e){if(e===null||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);return t===Object.prototype||t===null||Object.getOwnPropertyNames(t).sort().join("\0")===FO}var t7=["POST","PUT","PATCH","DELETE"],zO=new Set(t7),$O=["GET",...t7],UO=new Set($O),n7=new Set([301,302,303,307,308]),HO=new Set([307,308]),Yv={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},WO={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},eh={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},VO=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),r7="remix-router-transitions",i7=Symbol("ResetLoaderData");function qO(e){const t=e.window?e.window:typeof window<"u"?window:void 0,n=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u";Kt(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let r=e.hydrationRouteProperties||[],i=e.mapRouteProperties||VO,s=i;if(e.unstable_instrumentations){let Q=e.unstable_instrumentations;s=ae=>({...i(ae),...MO(Q.map(be=>be.route).filter(Boolean),ae)})}let o={},a=Kh(e.routes,s,void 0,o),l,c=e.basename||"/";c.startsWith("/")||(c=`/${c}`);let f=e.dataStrategy||XO,p={...e.future},g=null,y=new Set,b=null,_=null,C=null,E=e.hydrationData!=null,R=dl(a,e.history.location,c),M=!1,U=null,z;if(R==null&&!e.patchRoutesOnNavigation){let Q=Ts(404,{pathname:e.history.location.pathname}),{matches:ae,route:be}=tg(a);z=!0,R=ae,U={[be.id]:Q}}else if(R&&!e.hydrationData&&Lo(R,a,e.history.location.pathname).active&&(R=null),R)if(R.some(Q=>Q.route.lazy))z=!1;else if(!R.some(Q=>_2(Q.route)))z=!0;else{let Q=e.hydrationData?e.hydrationData.loaderData:null,ae=e.hydrationData?e.hydrationData.errors:null;if(ae){let be=R.findIndex(Ne=>ae[Ne.route.id]!==void 0);z=R.slice(0,be+1).every(Ne=>!Nb(Ne.route,Q,ae))}else z=R.every(be=>!Nb(be.route,Q,ae))}else{z=!1,R=[];let Q=Lo(null,a,e.history.location.pathname);Q.active&&Q.matches&&(M=!0,R=Q.matches)}let P,N={historyAction:e.history.action,location:e.history.location,matches:R,initialized:z,navigation:Yv,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||U,fetchers:new Map,blockers:new Map},B="POP",$=null,D=!1,J,X=!1,ie=new Map,q=null,V=!1,K=!1,ne=new Set,Y=new Map,de=0,F=-1,Z=new Map,ge=new Set,H=new Map,je=new Map,ke=new Set,Te=new Map,Ke,We=null;function Ie(){if(g=e.history.listen(({action:Q,location:ae,delta:be})=>{if(Ke){Ke(),Ke=void 0;return}or(Te.size===0||be!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Ne=Gi({currentLocation:N.location,nextLocation:ae,historyAction:Q});if(Ne&&be!=null){let Fe=new Promise(nt=>{Ke=nt});e.history.go(be*-1),Ve(Ne,{state:"blocked",location:ae,proceed(){Ve(Ne,{state:"proceeding",proceed:void 0,reset:void 0,location:ae}),Fe.then(()=>e.history.go(be))},reset(){let nt=new Map(N.blockers);nt.set(Ne,eh),ct({blockers:nt})}}),$?.resolve(),$=null;return}return vr(Q,ae)}),n){mM(t,ie);let Q=()=>gM(t,ie);t.addEventListener("pagehide",Q),q=()=>t.removeEventListener("pagehide",Q)}return N.initialized||vr("POP",N.location,{initialHydration:!0}),P}function Lt(){g&&g(),q&&q(),y.clear(),J&&J.abort(),N.fetchers.forEach((Q,ae)=>ar(ae)),N.blockers.forEach((Q,ae)=>Ds(ae))}function Vn(Q){return y.add(Q),()=>y.delete(Q)}function ct(Q,ae={}){Q.matches&&(Q.matches=Q.matches.map(Fe=>{let nt=o[Fe.route.id],et=Fe.route;return et.element!==nt.element||et.errorElement!==nt.errorElement||et.hydrateFallbackElement!==nt.hydrateFallbackElement?{...Fe,route:nt}:Fe})),N={...N,...Q};let be=[],Ne=[];N.fetchers.forEach((Fe,nt)=>{Fe.state==="idle"&&(ke.has(nt)?be.push(nt):Ne.push(nt))}),ke.forEach(Fe=>{!N.fetchers.has(Fe)&&!Y.has(Fe)&&be.push(Fe)}),[...y].forEach(Fe=>Fe(N,{deletedFetchers:be,newErrors:Q.errors??null,viewTransitionOpts:ae.viewTransitionOpts,flushSync:ae.flushSync===!0})),be.forEach(Fe=>ar(Fe)),Ne.forEach(Fe=>N.fetchers.delete(Fe))}function mn(Q,ae,{flushSync:be}={}){let Ne=N.actionData!=null&&N.navigation.formMethod!=null&&si(N.navigation.formMethod)&&N.navigation.state==="loading"&&Q.state?._isRedirect!==!0,Fe;ae.actionData?Object.keys(ae.actionData).length>0?Fe=ae.actionData:Fe=null:Ne?Fe=N.actionData:Fe=null;let nt=ae.loaderData?Q5(N.loaderData,ae.loaderData,ae.matches||[],ae.errors):N.loaderData,et=N.blockers;et.size>0&&(et=new Map(et),et.forEach((dt,lt)=>et.set(lt,eh)));let Xe=V?!1:ql(Q,ae.matches||N.matches),rt=D===!0||N.navigation.formMethod!=null&&si(N.navigation.formMethod)&&Q.state?._isRedirect!==!0;l&&(a=l,l=void 0),V||B==="POP"||(B==="PUSH"?e.history.push(Q,Q.state):B==="REPLACE"&&e.history.replace(Q,Q.state));let Je;if(B==="POP"){let dt=ie.get(N.location.pathname);dt&&dt.has(Q.pathname)?Je={currentLocation:N.location,nextLocation:Q}:ie.has(Q.pathname)&&(Je={currentLocation:Q,nextLocation:N.location})}else if(X){let dt=ie.get(N.location.pathname);dt?dt.add(Q.pathname):(dt=new Set([Q.pathname]),ie.set(N.location.pathname,dt)),Je={currentLocation:N.location,nextLocation:Q}}ct({...ae,actionData:Fe,loaderData:nt,historyAction:B,location:Q,initialized:!0,navigation:Yv,revalidation:"idle",restoreScrollPosition:Xe,preventScrollReset:rt,blockers:et},{viewTransitionOpts:Je,flushSync:be===!0}),B="POP",D=!1,X=!1,V=!1,K=!1,$?.resolve(),$=null,We?.resolve(),We=null}async function bn(Q,ae){if($?.resolve(),$=null,typeof Q=="number"){$||($=X5());let Vt=$.promise;return e.history.go(Q),Vt}let be=Ib(N.location,N.matches,c,Q,ae?.fromRouteId,ae?.relative),{path:Ne,submission:Fe,error:nt}=F5(!1,be,ae),et=N.location,Xe=Qh(N.location,Ne,ae&&ae.state);Xe={...Xe,...e.history.encodeLocation(Xe)};let rt=ae&&ae.replace!=null?ae.replace:void 0,Je="PUSH";rt===!0?Je="REPLACE":rt===!1||Fe!=null&&si(Fe.formMethod)&&Fe.formAction===N.location.pathname+N.location.search&&(Je="REPLACE");let dt=ae&&"preventScrollReset"in ae?ae.preventScrollReset===!0:void 0,lt=(ae&&ae.flushSync)===!0,It=Gi({currentLocation:et,nextLocation:Xe,historyAction:Je});if(It){Ve(It,{state:"blocked",location:Xe,proceed(){Ve(It,{state:"proceeding",proceed:void 0,reset:void 0,location:Xe}),bn(Q,ae)},reset(){let Vt=new Map(N.blockers);Vt.set(It,eh),ct({blockers:Vt})}});return}await vr(Je,Xe,{submission:Fe,pendingError:nt,preventScrollReset:dt,replace:ae&&ae.replace,enableViewTransition:ae&&ae.viewTransition,flushSync:lt,callSiteDefaultShouldRevalidate:ae&&ae.unstable_defaultShouldRevalidate})}function yn(){We||(We=X5()),Ae(),ct({revalidation:"loading"});let Q=We.promise;return N.navigation.state==="submitting"?Q:N.navigation.state==="idle"?(vr(N.historyAction,N.location,{startUninterruptedRevalidation:!0}),Q):(vr(B||N.historyAction,N.navigation.location,{overrideNavigation:N.navigation,enableViewTransition:X===!0}),Q)}async function vr(Q,ae,be){J&&J.abort(),J=null,B=Q,V=(be&&be.startUninterruptedRevalidation)===!0,Pa(N.location,N.matches),D=(be&&be.preventScrollReset)===!0,X=(be&&be.enableViewTransition)===!0;let Ne=l||a,Fe=be&&be.overrideNavigation,nt=be?.initialHydration&&N.matches&&N.matches.length>0&&!M?N.matches:dl(Ne,ae,c),et=(be&&be.flushSync)===!0;if(nt&&N.initialized&&!K&&sM(N.location,ae)&&!(be&&be.submission&&si(be.submission.formMethod))){mn(ae,{matches:nt},{flushSync:et});return}let Xe=Lo(nt,Ne,ae.pathname);if(Xe.active&&Xe.matches&&(nt=Xe.matches),!nt){let{error:Bn,notFoundMatches:er,route:ht}=Yi(ae.pathname);mn(ae,{matches:er,loaderData:{},errors:{[ht.id]:Bn}},{flushSync:et});return}J=new AbortController;let rt=vd(e.history,ae,J.signal,be&&be.submission),Je=e.getContext?await e.getContext():new P5,dt;if(be&&be.pendingError)dt=[fl(nt).route.id,{type:"error",error:be.pendingError}];else if(be&&be.submission&&si(be.submission.formMethod)){let Bn=await Ei(rt,ae,be.submission,nt,Je,Xe.active,be&&be.initialHydration===!0,{replace:be.replace,flushSync:et});if(Bn.shortCircuited)return;if(Bn.pendingActionResult){let[er,ht]=Bn.pendingActionResult;if(as(ht)&&Gh(ht.error)&&ht.error.status===404){J=null,mn(ae,{matches:Bn.matches,loaderData:{},errors:{[er]:ht.error}});return}}nt=Bn.matches||nt,dt=Bn.pendingActionResult,Fe=Xv(ae,be.submission),et=!1,Xe.active=!1,rt=vd(e.history,rt.url,rt.signal)}let{shortCircuited:lt,matches:It,loaderData:Vt,errors:wn}=await Ki(rt,ae,nt,Je,Xe.active,Fe,be&&be.submission,be&&be.fetcherSubmission,be&&be.replace,be&&be.initialHydration===!0,et,dt,be&&be.callSiteDefaultShouldRevalidate);lt||(J=null,mn(ae,{matches:It||nt,...K5(dt),loaderData:Vt,errors:wn}))}async function Ei(Q,ae,be,Ne,Fe,nt,et,Xe={}){Ae();let rt=hM(ae,be);if(ct({navigation:rt},{flushSync:Xe.flushSync===!0}),nt){let lt=await mi(Ne,ae.pathname,Q.signal);if(lt.type==="aborted")return{shortCircuited:!0};if(lt.type==="error"){if(lt.partialMatches.length===0){let{matches:Vt,route:wn}=tg(a);return{matches:Vt,pendingActionResult:[wn.id,{type:"error",error:lt.error}]}}let It=fl(lt.partialMatches).route.id;return{matches:lt.partialMatches,pendingActionResult:[It,{type:"error",error:lt.error}]}}else if(lt.matches)Ne=lt.matches;else{let{notFoundMatches:It,error:Vt,route:wn}=Yi(ae.pathname);return{matches:It,pendingActionResult:[wn.id,{type:"error",error:Vt}]}}}let Je,dt=o0(Ne,ae);if(!dt.route.action&&!dt.route.lazy)Je={type:"error",error:Ts(405,{method:Q.method,pathname:ae.pathname,routeId:dt.route.id})};else{let lt=Rd(s,o,Q,Ne,dt,et?[]:r,Fe),It=await Ln(Q,lt,Fe,null);if(Je=It[dt.route.id],!Je){for(let Vt of Ne)if(It[Vt.route.id]){Je=It[Vt.route.id];break}}if(Q.signal.aborted)return{shortCircuited:!0}}if(Du(Je)){let lt;return Xe&&Xe.replace!=null?lt=Xe.replace:lt=W5(Je.response.headers.get("Location"),new URL(Q.url),c,e.history)===N.location.pathname+N.location.search,await xt(Q,Je,!0,{submission:be,replace:lt}),{shortCircuited:!0}}if(as(Je)){let lt=fl(Ne,dt.route.id);return(Xe&&Xe.replace)!==!0&&(B="PUSH"),{matches:Ne,pendingActionResult:[lt.route.id,Je,dt.route.id]}}return{matches:Ne,pendingActionResult:[dt.route.id,Je]}}async function Ki(Q,ae,be,Ne,Fe,nt,et,Xe,rt,Je,dt,lt,It){let Vt=nt||Xv(ae,et),wn=et||Xe||Y5(Vt),Bn=!V&&!Je;if(Fe){if(Bn){let it=pi(lt);ct({navigation:Vt,...it!==void 0?{actionData:it}:{}},{flushSync:dt})}let qt=await mi(be,ae.pathname,Q.signal);if(qt.type==="aborted")return{shortCircuited:!0};if(qt.type==="error"){if(qt.partialMatches.length===0){let{matches:Bs,route:ys}=tg(a);return{matches:Bs,loaderData:{},errors:{[ys.id]:qt.error}}}let it=fl(qt.partialMatches).route.id;return{matches:qt.partialMatches,loaderData:{},errors:{[it]:qt.error}}}else if(qt.matches)be=qt.matches;else{let{error:it,notFoundMatches:Bs,route:ys}=Yi(ae.pathname);return{matches:Bs,loaderData:{},errors:{[ys.id]:it}}}}let er=l||a,{dsMatches:ht,revalidatingFetchers:tr}=B5(Q,Ne,s,o,e.history,N,be,wn,ae,Je?[]:r,Je===!0,K,ne,ke,H,ge,er,c,e.patchRoutesOnNavigation!=null,lt,It);if(F=++de,!e.dataStrategy&&!ht.some(qt=>qt.shouldLoad)&&!ht.some(qt=>qt.route.middleware&&qt.route.middleware.length>0)&&tr.length===0){let qt=Qe();return mn(ae,{matches:be,loaderData:{},errors:lt&&as(lt[1])?{[lt[0]]:lt[1].error}:null,...K5(lt),...qt?{fetchers:new Map(N.fetchers)}:{}},{flushSync:dt}),{shortCircuited:!0}}if(Bn){let qt={};if(!Fe){qt.navigation=Vt;let it=pi(lt);it!==void 0&&(qt.actionData=it)}tr.length>0&&(qt.fetchers=_t(tr)),ct(qt,{flushSync:dt})}tr.forEach(qt=>{Zn(qt.key),qt.controller&&Y.set(qt.key,qt.controller)});let Ht=()=>tr.forEach(qt=>Zn(qt.key));J&&J.signal.addEventListener("abort",Ht);let{loaderResults:go,fetcherResults:_r}=await Ce(ht,tr,Q,Ne);if(Q.signal.aborted)return{shortCircuited:!0};J&&J.signal.removeEventListener("abort",Ht),tr.forEach(qt=>Y.delete(qt.key));let Pr=ng(go);if(Pr)return await xt(Q,Pr.result,!0,{replace:rt}),{shortCircuited:!0};if(Pr=ng(_r),Pr)return ge.add(Pr.key),await xt(Q,Pr.result,!0,{replace:rt}),{shortCircuited:!0};let{loaderData:ms,errors:Fs}=q5(N,be,go,lt,tr,_r);Je&&N.errors&&(Fs={...N.errors,...Fs});let Or=Qe(),gs=wr(F),hr=Or||gs||tr.length>0;return{matches:be,loaderData:ms,errors:Fs,...hr?{fetchers:new Map(N.fetchers)}:{}}}function pi(Q){if(Q&&!as(Q[1]))return{[Q[0]]:Q[1].data};if(N.actionData)return Object.keys(N.actionData).length===0?null:N.actionData}function _t(Q){return Q.forEach(ae=>{let be=N.fetchers.get(ae.key),Ne=th(void 0,be?be.data:void 0);N.fetchers.set(ae.key,Ne)}),new Map(N.fetchers)}async function ln(Q,ae,be,Ne){Zn(Q);let Fe=(Ne&&Ne.flushSync)===!0,nt=l||a,et=Ib(N.location,N.matches,c,be,ae,Ne?.relative),Xe=dl(nt,et,c),rt=Lo(Xe,nt,et);if(rt.active&&rt.matches&&(Xe=rt.matches),!Xe){ft(Q,ae,Ts(404,{pathname:et}),{flushSync:Fe});return}let{path:Je,submission:dt,error:lt}=F5(!0,et,Ne);if(lt){ft(Q,ae,lt,{flushSync:Fe});return}let It=e.getContext?await e.getContext():new P5,Vt=(Ne&&Ne.preventScrollReset)===!0;if(dt&&si(dt.formMethod)){await Ct(Q,ae,Je,Xe,It,rt.active,Fe,Vt,dt,Ne&&Ne.unstable_defaultShouldRevalidate);return}H.set(Q,{routeId:ae,path:Je}),await Zt(Q,ae,Je,Xe,It,rt.active,Fe,Vt,dt)}async function Ct(Q,ae,be,Ne,Fe,nt,et,Xe,rt,Je){Ae(),H.delete(Q);let dt=N.fetchers.get(Q);ot(Q,pM(rt,dt),{flushSync:et});let lt=new AbortController,It=vd(e.history,be,lt.signal,rt);if(nt){let Sn=await mi(Ne,new URL(It.url).pathname,It.signal,Q);if(Sn.type==="aborted")return;if(Sn.type==="error"){ft(Q,ae,Sn.error,{flushSync:et});return}else if(Sn.matches)Ne=Sn.matches;else{ft(Q,ae,Ts(404,{pathname:be}),{flushSync:et});return}}let Vt=o0(Ne,be);if(!Vt.route.action&&!Vt.route.lazy){let Sn=Ts(405,{method:rt.formMethod,pathname:be,routeId:ae});ft(Q,ae,Sn,{flushSync:et});return}Y.set(Q,lt);let wn=de,Bn=Rd(s,o,It,Ne,Vt,r,Fe),er=await Ln(It,Bn,Fe,Q),ht=er[Vt.route.id];if(!ht){for(let Sn of Bn)if(er[Sn.route.id]){ht=er[Sn.route.id];break}}if(It.signal.aborted){Y.get(Q)===lt&&Y.delete(Q);return}if(ke.has(Q)){if(Du(ht)||as(ht)){ot(Q,na(void 0));return}}else{if(Du(ht))if(Y.delete(Q),F>wn){ot(Q,na(void 0));return}else return ge.add(Q),ot(Q,th(rt)),xt(It,ht,!1,{fetcherSubmission:rt,preventScrollReset:Xe});if(as(ht)){ft(Q,ae,ht.error);return}}let tr=N.navigation.location||N.location,Ht=vd(e.history,tr,lt.signal),go=l||a,_r=N.navigation.state!=="idle"?dl(go,N.navigation.location,c):N.matches;Kt(_r,"Didn't find any matches after fetcher action");let Pr=++de;Z.set(Q,Pr);let ms=th(rt,ht.data);N.fetchers.set(Q,ms);let{dsMatches:Fs,revalidatingFetchers:Or}=B5(Ht,Fe,s,o,e.history,N,_r,rt,tr,r,!1,K,ne,ke,H,ge,go,c,e.patchRoutesOnNavigation!=null,[Vt.route.id,ht],Je);Or.filter(Sn=>Sn.key!==Q).forEach(Sn=>{let nn=Sn.key,Xi=N.fetchers.get(nn),Ji=th(void 0,Xi?Xi.data:void 0);N.fetchers.set(nn,Ji),Zn(nn),Sn.controller&&Y.set(nn,Sn.controller)}),ct({fetchers:new Map(N.fetchers)});let gs=()=>Or.forEach(Sn=>Zn(Sn.key));lt.signal.addEventListener("abort",gs);let{loaderResults:hr,fetcherResults:qt}=await Ce(Fs,Or,Ht,Fe);if(lt.signal.aborted)return;if(lt.signal.removeEventListener("abort",gs),Z.delete(Q),Y.delete(Q),Or.forEach(Sn=>Y.delete(Sn.key)),N.fetchers.has(Q)){let Sn=na(ht.data);N.fetchers.set(Q,Sn)}let it=ng(hr);if(it)return xt(Ht,it.result,!1,{preventScrollReset:Xe});if(it=ng(qt),it)return ge.add(it.key),xt(Ht,it.result,!1,{preventScrollReset:Xe});let{loaderData:Bs,errors:ys}=q5(N,_r,hr,void 0,Or,qt);wr(Pr),N.navigation.state==="loading"&&Pr>F?(Kt(B,"Expected pending action"),J&&J.abort(),mn(N.navigation.location,{matches:_r,loaderData:Bs,errors:ys,fetchers:new Map(N.fetchers)})):(ct({errors:ys,loaderData:Q5(N.loaderData,Bs,_r,ys),fetchers:new Map(N.fetchers)}),K=!1)}async function Zt(Q,ae,be,Ne,Fe,nt,et,Xe,rt){let Je=N.fetchers.get(Q);ot(Q,th(rt,Je?Je.data:void 0),{flushSync:et});let dt=new AbortController,lt=vd(e.history,be,dt.signal);if(nt){let ht=await mi(Ne,new URL(lt.url).pathname,lt.signal,Q);if(ht.type==="aborted")return;if(ht.type==="error"){ft(Q,ae,ht.error,{flushSync:et});return}else if(ht.matches)Ne=ht.matches;else{ft(Q,ae,Ts(404,{pathname:be}),{flushSync:et});return}}let It=o0(Ne,be);Y.set(Q,dt);let Vt=de,wn=Rd(s,o,lt,Ne,It,r,Fe),er=(await Ln(lt,wn,Fe,Q))[It.route.id];if(Y.get(Q)===dt&&Y.delete(Q),!lt.signal.aborted){if(ke.has(Q)){ot(Q,na(void 0));return}if(Du(er))if(F>Vt){ot(Q,na(void 0));return}else{ge.add(Q),await xt(lt,er,!1,{preventScrollReset:Xe});return}if(as(er)){ft(Q,ae,er.error);return}ot(Q,na(er.data))}}async function xt(Q,ae,be,{submission:Ne,fetcherSubmission:Fe,preventScrollReset:nt,replace:et}={}){be||($?.resolve(),$=null),ae.response.headers.has("X-Remix-Revalidate")&&(K=!0);let Xe=ae.response.headers.get("Location");Kt(Xe,"Expected a Location header on the redirect Response"),Xe=W5(Xe,new URL(Q.url),c,e.history);let rt=Qh(N.location,Xe,{_isRedirect:!0});if(n){let wn=!1;if(ae.response.headers.has("X-Remix-Reload-Document"))wn=!0;else if(yy(Xe)){const Bn=Q8(Xe,!0);wn=Bn.origin!==t.location.origin||Os(Bn.pathname,c)==null}if(wn){et?t.location.replace(Xe):t.location.assign(Xe);return}}J=null;let Je=et===!0||ae.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:dt,formAction:lt,formEncType:It}=N.navigation;!Ne&&!Fe&&dt&&lt&&It&&(Ne=Y5(N.navigation));let Vt=Ne||Fe;if(HO.has(ae.response.status)&&Vt&&si(Vt.formMethod))await vr(Je,rt,{submission:{...Vt,formAction:Xe},preventScrollReset:nt||D,enableViewTransition:be?X:void 0});else{let wn=Xv(rt,Ne);await vr(Je,rt,{overrideNavigation:wn,fetcherSubmission:Fe,preventScrollReset:nt||D,enableViewTransition:be?X:void 0})}}async function Ln(Q,ae,be,Ne){let Fe,nt={};try{Fe=await ZO(f,Q,ae,Ne,be,!1)}catch(et){return ae.filter(Xe=>Xe.shouldLoad).forEach(Xe=>{nt[Xe.route.id]={type:"error",error:et}}),nt}if(Q.signal.aborted)return nt;if(!si(Q.method))for(let et of ae){if(Fe[et.route.id]?.type==="error")break;!Fe.hasOwnProperty(et.route.id)&&!N.loaderData.hasOwnProperty(et.route.id)&&(!N.errors||!N.errors.hasOwnProperty(et.route.id))&&et.shouldCallHandler()&&(Fe[et.route.id]={type:"error",result:new Error(`No result returned from dataStrategy for route ${et.route.id}`)})}for(let[et,Xe]of Object.entries(Fe))if(uM(Xe)){let rt=Xe.result;nt[et]={type:"redirect",response:rM(rt,Q,et,ae,c)}}else nt[et]=await nM(Xe);return nt}async function Ce(Q,ae,be,Ne){let Fe=Ln(be,Q,Ne,null),nt=Promise.all(ae.map(async rt=>{if(rt.matches&&rt.match&&rt.request&&rt.controller){let dt=(await Ln(rt.request,rt.matches,Ne,rt.key))[rt.match.route.id];return{[rt.key]:dt}}else return Promise.resolve({[rt.key]:{type:"error",error:Ts(404,{pathname:rt.path})}})})),et=await Fe,Xe=(await nt).reduce((rt,Je)=>Object.assign(rt,Je),{});return{loaderResults:et,fetcherResults:Xe}}function Ae(){K=!0,H.forEach((Q,ae)=>{Y.has(ae)&&ne.add(ae),Zn(ae)})}function ot(Q,ae,be={}){N.fetchers.set(Q,ae),ct({fetchers:new Map(N.fetchers)},{flushSync:(be&&be.flushSync)===!0})}function ft(Q,ae,be,Ne={}){let Fe=fl(N.matches,ae);ar(Q),ct({errors:{[Fe.route.id]:be},fetchers:new Map(N.fetchers)},{flushSync:(Ne&&Ne.flushSync)===!0})}function $t(Q){return je.set(Q,(je.get(Q)||0)+1),ke.has(Q)&&ke.delete(Q),N.fetchers.get(Q)||WO}function Fn(Q,ae){Zn(Q,ae?.reason),ot(Q,na(null))}function ar(Q){let ae=N.fetchers.get(Q);Y.has(Q)&&!(ae&&ae.state==="loading"&&Z.has(Q))&&Zn(Q),H.delete(Q),Z.delete(Q),ge.delete(Q),ke.delete(Q),ne.delete(Q),N.fetchers.delete(Q)}function xr(Q){let ae=(je.get(Q)||0)-1;ae<=0?(je.delete(Q),ke.add(Q)):je.set(Q,ae),ct({fetchers:new Map(N.fetchers)})}function Zn(Q,ae){let be=Y.get(Q);be&&(be.abort(ae),Y.delete(Q))}function br(Q){for(let ae of Q){let be=$t(ae),Ne=na(be.data);N.fetchers.set(ae,Ne)}}function Qe(){let Q=[],ae=!1;for(let be of ge){let Ne=N.fetchers.get(be);Kt(Ne,`Expected fetcher: ${be}`),Ne.state==="loading"&&(ge.delete(be),Q.push(be),ae=!0)}return br(Q),ae}function wr(Q){let ae=[];for(let[be,Ne]of Z)if(Ne<Q){let Fe=N.fetchers.get(be);Kt(Fe,`Expected fetcher: ${be}`),Fe.state==="loading"&&(Zn(be),Z.delete(be),ae.push(be))}return br(ae),ae.length>0}function qn(Q,ae){let be=N.blockers.get(Q)||eh;return Te.get(Q)!==ae&&Te.set(Q,ae),be}function Ds(Q){N.blockers.delete(Q),Te.delete(Q)}function Ve(Q,ae){let be=N.blockers.get(Q)||eh;Kt(be.state==="unblocked"&&ae.state==="blocked"||be.state==="blocked"&&ae.state==="blocked"||be.state==="blocked"&&ae.state==="proceeding"||be.state==="blocked"&&ae.state==="unblocked"||be.state==="proceeding"&&ae.state==="unblocked",`Invalid blocker state transition: ${be.state} -> ${ae.state}`);let Ne=new Map(N.blockers);Ne.set(Q,ae),ct({blockers:Ne})}function Gi({currentLocation:Q,nextLocation:ae,historyAction:be}){if(Te.size===0)return;Te.size>1&&or(!1,"A router only supports one blocker at a time");let Ne=Array.from(Te.entries()),[Fe,nt]=Ne[Ne.length-1],et=N.blockers.get(Fe);if(!(et&&et.state==="proceeding")&&nt({currentLocation:Q,nextLocation:ae,historyAction:be}))return Fe}function Yi(Q){let ae=Ts(404,{pathname:Q}),be=l||a,{matches:Ne,route:Fe}=tg(be);return{notFoundMatches:Ne,route:Fe,error:ae}}function Na(Q,ae,be){if(b=Q,C=ae,_=be||null,!E&&N.navigation===Yv){E=!0;let Ne=ql(N.location,N.matches);Ne!=null&&ct({restoreScrollPosition:Ne})}return()=>{b=null,C=null,_=null}}function Ra(Q,ae){return _&&_(Q,ae.map(Ne=>gO(Ne,N.loaderData)))||Q.key}function Pa(Q,ae){if(b&&C){let be=Ra(Q,ae);b[be]=C()}}function ql(Q,ae){if(b){let be=Ra(Q,ae),Ne=b[be];if(typeof Ne=="number")return Ne}return null}function Lo(Q,ae,be){if(e.patchRoutesOnNavigation)if(Q){if(Object.keys(Q[0].params).length>0)return{active:!0,matches:_h(ae,be,c,!0)}}else return{active:!0,matches:_h(ae,be,c,!0)||[]};return{active:!1,matches:null}}async function mi(Q,ae,be,Ne){if(!e.patchRoutesOnNavigation)return{type:"success",matches:Q};let Fe=Q;for(;;){let nt=l==null,et=l||a,Xe=o;try{await e.patchRoutesOnNavigation({signal:be,path:ae,matches:Fe,fetcherKey:Ne,patch:(dt,lt)=>{be.aborted||z5(dt,lt,et,Xe,s,!1)}})}catch(dt){return{type:"error",error:dt,partialMatches:Fe}}finally{nt&&!be.aborted&&(a=[...a])}if(be.aborted)return{type:"aborted"};let rt=dl(et,ae,c),Je=null;if(rt){if(Object.keys(rt[0].params).length===0)return{type:"success",matches:rt};if(Je=_h(et,ae,c,!0),!(Je&&Fe.length<Je.length&&ps(Fe,Je.slice(0,Fe.length))))return{type:"success",matches:rt}}if(Je||(Je=_h(et,ae,c,!0)),!Je||ps(Fe,Je))return{type:"success",matches:null};Fe=Je}}function ps(Q,ae){return Q.length===ae.length&&Q.every((be,Ne)=>be.route.id===ae[Ne].route.id)}function Ls(Q){o={},l=Kh(Q,s,void 0,o)}function mo(Q,ae,be=!1){let Ne=l==null;z5(Q,ae,l||a,o,s,be),Ne&&(a=[...a],ct({}))}return P={get basename(){return c},get future(){return p},get state(){return N},get routes(){return a},get window(){return t},initialize:Ie,subscribe:Vn,enableScrollRestoration:Na,navigate:bn,fetch:ln,revalidate:yn,createHref:Q=>e.history.createHref(Q),encodeLocation:Q=>e.history.encodeLocation(Q),getFetcher:$t,resetFetcher:Fn,deleteFetcher:xr,dispose:Lt,getBlocker:qn,deleteBlocker:Ds,patchRoutes:mo,_internalFetchControllers:Y,_internalSetRoutes:Ls,_internalSetStateDoNotUseOrYouWillBreakYourApp(Q){ct(Q)}},e.unstable_instrumentations&&(P=AO(P,e.unstable_instrumentations.map(Q=>Q.router).filter(Boolean))),P}function QO(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function Ib(e,t,n,r,i,s){let o,a;if(i){o=[];for(let c of t)if(o.push(c),c.route.id===i){a=c;break}}else o=t,a=t[t.length-1];let l=w2(r||".",b2(o),Os(e.pathname,n)||e.pathname,s==="path");if(r==null&&(l.search=e.search,l.hash=e.hash),(r==null||r===""||r===".")&&a){let c=C2(l.search);if(a.route.index&&!c)l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index";else if(!a.route.index&&c){let f=new URLSearchParams(l.search),p=f.getAll("index");f.delete("index"),p.filter(y=>y).forEach(y=>f.append("index",y));let g=f.toString();l.search=g?`?${g}`:""}}return n!=="/"&&(l.pathname=IO({basename:n,pathname:l.pathname})),Oo(l)}function F5(e,t,n){if(!n||!QO(n))return{path:t};if(n.formMethod&&!fM(n.formMethod))return{path:t,error:Ts(405,{method:n.formMethod})};let r=()=>({path:t,error:Ts(400,{type:"invalid-body"})}),s=(n.formMethod||"get").toUpperCase(),o=c7(t);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!si(s))return r();let p=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((g,[y,b])=>`${g}${y}=${b}
`,""):String(n.body);return{path:t,submission:{formMethod:s,formAction:o,formEncType:n.formEncType,formData:void 0,json:void 0,text:p}}}else if(n.formEncType==="application/json"){if(!si(s))return r();try{let p=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:t,submission:{formMethod:s,formAction:o,formEncType:n.formEncType,formData:void 0,json:p,text:void 0}}}catch{return r()}}}Kt(typeof FormData=="function","FormData is not available in this environment");let a,l;if(n.formData)a=Pb(n.formData),l=n.formData;else if(n.body instanceof FormData)a=Pb(n.body),l=n.body;else if(n.body instanceof URLSearchParams)a=n.body,l=V5(a);else if(n.body==null)a=new URLSearchParams,l=new FormData;else try{a=new URLSearchParams(n.body),l=V5(a)}catch{return r()}let c={formMethod:s,formAction:o,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:l,json:void 0,text:void 0};if(si(c.formMethod))return{path:t,submission:c};let f=Al(t);return e&&f.search&&C2(f.search)&&a.append("index",""),f.search=`?${a}`,{path:Oo(f),submission:c}}function B5(e,t,n,r,i,s,o,a,l,c,f,p,g,y,b,_,C,E,R,M,U){let z=M?as(M[1])?M[1].error:M[1].data:void 0,P=i.createURL(s.location),N=i.createURL(l),B;if(f&&s.errors){let V=Object.keys(s.errors)[0];B=o.findIndex(K=>K.route.id===V)}else if(M&&as(M[1])){let V=M[0];B=o.findIndex(K=>K.route.id===V)-1}let $=M?M[1].statusCode:void 0,D=$&&$>=400,J={currentUrl:P,currentParams:s.matches[0]?.params||{},nextUrl:N,nextParams:o[0].params,...a,actionResult:z,actionStatus:$},X=wp(o),ie=o.map((V,K)=>{let{route:ne}=V,Y=null;if(B!=null&&K>B?Y=!1:ne.lazy?Y=!0:_2(ne)?f?Y=Nb(ne,s.loaderData,s.errors):KO(s.loaderData,s.matches[K],V)&&(Y=!0):Y=!1,Y!==null)return Rb(n,r,e,X,V,c,t,Y);let de=!1;typeof U=="boolean"?de=U:D?de=!1:(p||P.pathname+P.search===N.pathname+N.search||P.search!==N.search||GO(s.matches[K],V))&&(de=!0);let F={...J,defaultShouldRevalidate:de},Z=Rh(V,F);return Rb(n,r,e,X,V,c,t,Z,F,U)}),q=[];return b.forEach((V,K)=>{if(f||!o.some(je=>je.route.id===V.routeId)||y.has(K))return;let ne=s.fetchers.get(K),Y=ne&&ne.state!=="idle"&&ne.data===void 0,de=dl(C,V.path,E);if(!de){if(R&&Y)return;q.push({key:K,routeId:V.routeId,path:V.path,matches:null,match:null,request:null,controller:null});return}if(_.has(K))return;let F=o0(de,V.path),Z=new AbortController,ge=vd(i,V.path,Z.signal),H=null;if(g.has(K))g.delete(K),H=Rd(n,r,ge,de,F,c,t);else if(Y)p&&(H=Rd(n,r,ge,de,F,c,t));else{let je;typeof U=="boolean"?je=U:D?je=!1:je=p;let ke={...J,defaultShouldRevalidate:je};Rh(F,ke)&&(H=Rd(n,r,ge,de,F,c,t,ke))}H&&q.push({key:K,routeId:V.routeId,path:V.path,matches:H,match:F,request:ge,controller:Z})}),{dsMatches:ie,revalidatingFetchers:q}}function _2(e){return e.loader!=null||e.middleware!=null&&e.middleware.length>0}function Nb(e,t,n){if(e.lazy)return!0;if(!_2(e))return!1;let r=t!=null&&e.id in t,i=n!=null&&n[e.id]!==void 0;return!r&&i?!1:typeof e.loader=="function"&&e.loader.hydrate===!0?!0:!r&&!i}function KO(e,t,n){let r=!t||n.route.id!==t.route.id,i=!e.hasOwnProperty(n.route.id);return r||i}function GO(e,t){let n=e.route.path;return e.pathname!==t.pathname||n!=null&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function Rh(e,t){if(e.route.shouldRevalidate){let n=e.route.shouldRevalidate(t);if(typeof n=="boolean")return n}return t.defaultShouldRevalidate}function z5(e,t,n,r,i,s){let o;if(e){let c=r[e];Kt(c,`No route found to patch children into: routeId = ${e}`),c.children||(c.children=[]),o=c.children}else o=n;let a=[],l=[];if(t.forEach(c=>{let f=o.find(p=>s7(c,p));f?l.push({existingRoute:f,newRoute:c}):a.push(c)}),a.length>0){let c=Kh(a,i,[e||"_","patch",String(o?.length||"0")],r);o.push(...c)}if(s&&l.length>0)for(let c=0;c<l.length;c++){let{existingRoute:f,newRoute:p}=l[c],g=f,[y]=Kh([p],i,[],{},!0);Object.assign(g,{element:y.element?y.element:g.element,errorElement:y.errorElement?y.errorElement:g.errorElement,hydrateFallbackElement:y.hydrateFallbackElement?y.hydrateFallbackElement:g.hydrateFallbackElement})}}function s7(e,t){return"id"in e&&"id"in t&&e.id===t.id?!0:e.index===t.index&&e.path===t.path&&e.caseSensitive===t.caseSensitive?(!e.children||e.children.length===0)&&(!t.children||t.children.length===0)?!0:e.children.every((n,r)=>t.children?.some(i=>s7(n,i))):!1}var $5=new WeakMap,o7=({key:e,route:t,manifest:n,mapRouteProperties:r})=>{let i=n[t.id];if(Kt(i,"No route found in manifest"),!i.lazy||typeof i.lazy!="object")return;let s=i.lazy[e];if(!s)return;let o=$5.get(i);o||(o={},$5.set(i,o));let a=o[e];if(a)return a;let l=(async()=>{let c=fO(e),p=i[e]!==void 0&&e!=="hasErrorBoundary";if(c)or(!c,"Route property "+e+" is not a supported lazy route property. This property will be ignored."),o[e]=Promise.resolve();else if(p)or(!1,`Route "${i.id}" has a static property "${e}" defined. The lazy property will be ignored.`);else{let g=await s();g!=null&&(Object.assign(i,{[e]:g}),Object.assign(i,r(i)))}typeof i.lazy=="object"&&(i.lazy[e]=void 0,Object.values(i.lazy).every(g=>g===void 0)&&(i.lazy=void 0))})();return o[e]=l,l},U5=new WeakMap;function YO(e,t,n,r,i){let s=n[e.id];if(Kt(s,"No route found in manifest"),!e.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof e.lazy=="function"){let f=U5.get(s);if(f)return{lazyRoutePromise:f,lazyHandlerPromise:f};let p=(async()=>{Kt(typeof e.lazy=="function","No lazy route function found");let g=await e.lazy(),y={};for(let b in g){let _=g[b];if(_===void 0)continue;let C=pO(b),R=s[b]!==void 0&&b!=="hasErrorBoundary";C?or(!C,"Route property "+b+" is not a supported property to be returned from a lazy route function. This property will be ignored."):R?or(!R,`Route "${s.id}" has a static property "${b}" defined but its lazy function is also returning a value for this property. The lazy route property "${b}" will be ignored.`):y[b]=_}Object.assign(s,y),Object.assign(s,{...r(s),lazy:void 0})})();return U5.set(s,p),p.catch(()=>{}),{lazyRoutePromise:p,lazyHandlerPromise:p}}let o=Object.keys(e.lazy),a=[],l;for(let f of o){if(i&&i.includes(f))continue;let p=o7({key:f,route:e,manifest:n,mapRouteProperties:r});p&&(a.push(p),f===t&&(l=p))}let c=a.length>0?Promise.all(a).then(()=>{}):void 0;return c?.catch(()=>{}),l?.catch(()=>{}),{lazyRoutePromise:c,lazyHandlerPromise:l}}async function H5(e){let t=e.matches.filter(i=>i.shouldLoad),n={};return(await Promise.all(t.map(i=>i.resolve()))).forEach((i,s)=>{n[t[s].route.id]=i}),n}async function XO(e){return e.matches.some(t=>t.route.middleware)?a7(e,()=>H5(e)):H5(e)}function a7(e,t){return JO(e,t,r=>{if(dM(r))throw r;return r},aM,n);function n(r,i,s){if(s)return Promise.resolve(Object.assign(s.value,{[i]:{type:"error",result:r}}));{let{matches:o}=e,a=Math.min(Math.max(o.findIndex(c=>c.route.id===i),0),Math.max(o.findIndex(c=>c.shouldCallHandler()),0)),l=fl(o,o[a].route.id).route.id;return Promise.resolve({[l]:{type:"error",result:r}})}}}async function JO(e,t,n,r,i){let{matches:s,request:o,params:a,context:l,unstable_pattern:c}=e,f=s.flatMap(g=>g.route.middleware?g.route.middleware.map(y=>[g.route.id,y]):[]);return await l7({request:o,params:a,context:l,unstable_pattern:c},f,t,n,r,i)}async function l7(e,t,n,r,i,s,o=0){let{request:a}=e;if(a.signal.aborted)throw a.signal.reason??new Error(`Request aborted: ${a.method} ${a.url}`);let l=t[o];if(!l)return await n();let[c,f]=l,p,g=async()=>{if(p)throw new Error("You may only call `next()` once per middleware");try{return p={value:await l7(e,t,n,r,i,s,o+1)},p.value}catch(y){return p={value:await s(y,c,p)},p.value}};try{let y=await f(e,g),b=y!=null?r(y):void 0;return i(b)?b:p?b??p.value:(p={value:await g()},p.value)}catch(y){return await s(y,c,p)}}function u7(e,t,n,r,i){let s=o7({key:"middleware",route:r.route,manifest:t,mapRouteProperties:e}),o=YO(r.route,si(n.method)?"action":"loader",t,e,i);return{middleware:s,route:o.lazyRoutePromise,handler:o.lazyHandlerPromise}}function Rb(e,t,n,r,i,s,o,a,l=null,c){let f=!1,p=u7(e,t,n,i,s);return{...i,_lazyPromises:p,shouldLoad:a,shouldRevalidateArgs:l,shouldCallHandler(g){return f=!0,l?typeof c=="boolean"?Rh(i,{...l,defaultShouldRevalidate:c}):typeof g=="boolean"?Rh(i,{...l,defaultShouldRevalidate:g}):Rh(i,l):a},resolve(g){let{lazy:y,loader:b,middleware:_}=i.route,C=f||a||g&&!si(n.method)&&(y||b),E=_&&_.length>0&&!b&&!y;return C&&(si(n.method)||!E)?eM({request:n,unstable_pattern:r,match:i,lazyHandlerPromise:p?.handler,lazyRoutePromise:p?.route,handlerOverride:g,scopedContext:o}):Promise.resolve({type:"data",result:void 0})}}}function Rd(e,t,n,r,i,s,o,a=null){return r.map(l=>l.route.id!==i.route.id?{...l,shouldLoad:!1,shouldRevalidateArgs:a,shouldCallHandler:()=>!1,_lazyPromises:u7(e,t,n,l,s),resolve:()=>Promise.resolve({type:"data",result:void 0})}:Rb(e,t,n,wp(r),l,s,o,!0,a))}async function ZO(e,t,n,r,i,s){n.some(c=>c._lazyPromises?.middleware)&&await Promise.all(n.map(c=>c._lazyPromises?.middleware));let o={request:t,unstable_pattern:wp(n),params:n[0].params,context:i,matches:n},l=await e({...o,fetcherKey:r,runClientMiddleware:c=>{let f=o;return a7(f,()=>c({...f,fetcherKey:r,runClientMiddleware:()=>{throw new Error("Cannot call `runClientMiddleware()` from within an `runClientMiddleware` handler")}}))}});try{await Promise.all(n.flatMap(c=>[c._lazyPromises?.handler,c._lazyPromises?.route]))}catch{}return l}async function eM({request:e,unstable_pattern:t,match:n,lazyHandlerPromise:r,lazyRoutePromise:i,handlerOverride:s,scopedContext:o}){let a,l,c=si(e.method),f=c?"action":"loader",p=g=>{let y,b=new Promise((E,R)=>y=R);l=()=>y(),e.signal.addEventListener("abort",l);let _=E=>typeof g!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${f}" [routeId: ${n.route.id}]`)):g({request:e,unstable_pattern:t,params:n.params,context:o},...E!==void 0?[E]:[]),C=(async()=>{try{return{type:"data",result:await(s?s(R=>_(R)):_())}}catch(E){return{type:"error",result:E}}})();return Promise.race([C,b])};try{let g=c?n.route.action:n.route.loader;if(r||i)if(g){let y,[b]=await Promise.all([p(g).catch(_=>{y=_}),r,i]);if(y!==void 0)throw y;a=b}else{await r;let y=c?n.route.action:n.route.loader;if(y)[a]=await Promise.all([p(y),i]);else if(f==="action"){let b=new URL(e.url),_=b.pathname+b.search;throw Ts(405,{method:e.method,pathname:_,routeId:n.route.id})}else return{type:"data",result:void 0}}else if(g)a=await p(g);else{let y=new URL(e.url),b=y.pathname+y.search;throw Ts(404,{pathname:b})}}catch(g){return{type:"error",result:g}}finally{l&&e.signal.removeEventListener("abort",l)}return a}async function tM(e){let t=e.headers.get("Content-Type");return t&&/\bapplication\/json\b/.test(t)?e.body==null?null:e.json():e.text()}async function nM(e){let{result:t,type:n}=e;if(S2(t)){let r;try{r=await tM(t)}catch(i){return{type:"error",error:i}}return n==="error"?{type:"error",error:new bp(t.status,t.statusText,r),statusCode:t.status,headers:t.headers}:{type:"data",data:r,statusCode:t.status,headers:t.headers}}return n==="error"?G5(t)?t.data instanceof Error?{type:"error",error:t.data,statusCode:t.init?.status,headers:t.init?.headers?new Headers(t.init.headers):void 0}:{type:"error",error:oM(t),statusCode:Gh(t)?t.status:void 0,headers:t.init?.headers?new Headers(t.init.headers):void 0}:{type:"error",error:t,statusCode:Gh(t)?t.status:void 0}:G5(t)?{type:"data",data:t.data,statusCode:t.init?.status,headers:t.init?.headers?new Headers(t.init.headers):void 0}:{type:"data",data:t}}function rM(e,t,n,r,i){let s=e.headers.get("Location");if(Kt(s,"Redirects returned/thrown from loaders/actions must have a Location header"),!yy(s)){let o=r.slice(0,r.findIndex(a=>a.route.id===n)+1);s=Ib(new URL(t.url),o,i,s),e.headers.set("Location",s)}return e}function W5(e,t,n,r){let i=["about:","blob:","chrome:","chrome-untrusted:","content:","data:","devtools:","file:","filesystem:","javascript:"];if(yy(e)){let s=e,o=s.startsWith("//")?new URL(t.protocol+s):new URL(s);if(i.includes(o.protocol))throw new Error("Invalid redirect location");let a=Os(o.pathname,n)!=null;if(o.origin===t.origin&&a)return o.pathname+o.search+o.hash}try{let s=r.createURL(e);if(i.includes(s.protocol))throw new Error("Invalid redirect location")}catch{}return e}function vd(e,t,n,r){let i=e.createURL(c7(t)).toString(),s={signal:n};if(r&&si(r.formMethod)){let{formMethod:o,formEncType:a}=r;s.method=o.toUpperCase(),a==="application/json"?(s.headers=new Headers({"Content-Type":a}),s.body=JSON.stringify(r.json)):a==="text/plain"?s.body=r.text:a==="application/x-www-form-urlencoded"&&r.formData?s.body=Pb(r.formData):s.body=r.formData}return new Request(i,s)}function Pb(e){let t=new URLSearchParams;for(let[n,r]of e.entries())t.append(n,typeof r=="string"?r:r.name);return t}function V5(e){let t=new FormData;for(let[n,r]of e.entries())t.append(n,r);return t}function iM(e,t,n,r=!1,i=!1){let s={},o=null,a,l=!1,c={},f=n&&as(n[1])?n[1].error:void 0;return e.forEach(p=>{if(!(p.route.id in t))return;let g=p.route.id,y=t[g];if(Kt(!Du(y),"Cannot handle redirect results in processLoaderData"),as(y)){let b=y.error;if(f!==void 0&&(b=f,f=void 0),o=o||{},i)o[g]=b;else{let _=fl(e,g);o[_.route.id]==null&&(o[_.route.id]=b)}r||(s[g]=i7),l||(l=!0,a=Gh(y.error)?y.error.status:500),y.headers&&(c[g]=y.headers)}else s[g]=y.data,y.statusCode&&y.statusCode!==200&&!l&&(a=y.statusCode),y.headers&&(c[g]=y.headers)}),f!==void 0&&n&&(o={[n[0]]:f},n[2]&&(s[n[2]]=void 0)),{loaderData:s,errors:o,statusCode:a||200,loaderHeaders:c}}function q5(e,t,n,r,i,s){let{loaderData:o,errors:a}=iM(t,n,r);return i.filter(l=>!l.matches||l.matches.some(c=>c.shouldLoad)).forEach(l=>{let{key:c,match:f,controller:p}=l;if(p&&p.signal.aborted)return;let g=s[c];if(Kt(g,"Did not find corresponding fetcher result"),as(g)){let y=fl(e.matches,f?.route.id);a&&a[y.route.id]||(a={...a,[y.route.id]:g.error}),e.fetchers.delete(c)}else if(Du(g))Kt(!1,"Unhandled fetcher revalidation redirect");else{let y=na(g.data);e.fetchers.set(c,y)}}),{loaderData:o,errors:a}}function Q5(e,t,n,r){let i=Object.entries(t).filter(([,s])=>s!==i7).reduce((s,[o,a])=>(s[o]=a,s),{});for(let s of n){let o=s.route.id;if(!t.hasOwnProperty(o)&&e.hasOwnProperty(o)&&s.route.loader&&(i[o]=e[o]),r&&r.hasOwnProperty(o))break}return i}function K5(e){return e?as(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function fl(e,t){return(t?e.slice(0,e.findIndex(r=>r.route.id===t)+1):[...e]).reverse().find(r=>r.route.hasErrorBoundary===!0)||e[0]}function tg(e){let t=e.length===1?e[0]:e.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function Ts(e,{pathname:t,routeId:n,method:r,type:i,message:s}={}){let o="Unknown Server Error",a="Unknown @remix-run/router error";return e===400?(o="Bad Request",r&&t&&n?a=`You made a ${r} request to "${t}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:i==="invalid-body"&&(a="Unable to encode submission body")):e===403?(o="Forbidden",a=`Route "${n}" does not match URL "${t}"`):e===404?(o="Not Found",a=`No route matches URL "${t}"`):e===405&&(o="Method Not Allowed",r&&t&&n?a=`You made a ${r.toUpperCase()} request to "${t}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:r&&(a=`Invalid request method "${r.toUpperCase()}"`)),new bp(e||500,o,new Error(a),!0)}function ng(e){let t=Object.entries(e);for(let n=t.length-1;n>=0;n--){let[r,i]=t[n];if(Du(i))return{key:r,result:i}}}function c7(e){let t=typeof e=="string"?Al(e):e;return Oo({...t,hash:""})}function sM(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function oM(e){return new bp(e.init?.status??500,e.init?.statusText??"Internal Server Error",e.data)}function aM(e){return e!=null&&typeof e=="object"&&Object.entries(e).every(([t,n])=>typeof t=="string"&&lM(n))}function lM(e){return e!=null&&typeof e=="object"&&"type"in e&&"result"in e&&(e.type==="data"||e.type==="error")}function uM(e){return S2(e.result)&&n7.has(e.result.status)}function as(e){return e.type==="error"}function Du(e){return(e&&e.type)==="redirect"}function G5(e){return typeof e=="object"&&e!=null&&"type"in e&&"data"in e&&"init"in e&&e.type==="DataWithResponseInit"}function S2(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function cM(e){return n7.has(e)}function dM(e){return S2(e)&&cM(e.status)&&e.headers.has("Location")}function fM(e){return UO.has(e.toUpperCase())}function si(e){return zO.has(e.toUpperCase())}function C2(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function o0(e,t){let n=typeof t=="string"?Al(t).search:t.search;if(e[e.length-1].route.index&&C2(n||""))return e[e.length-1];let r=X8(e);return r[r.length-1]}function Y5(e){let{formMethod:t,formAction:n,formEncType:r,text:i,formData:s,json:o}=e;if(!(!t||!n||!r)){if(i!=null)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:t,formAction:n,formEncType:r,formData:s,json:void 0,text:void 0};if(o!==void 0)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}}}function Xv(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function hM(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function th(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function pM(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function na(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function mM(e,t){try{let n=e.sessionStorage.getItem(r7);if(n){let r=JSON.parse(n);for(let[i,s]of Object.entries(r||{}))s&&Array.isArray(s)&&t.set(i,new Set(s||[]))}}catch{}}function gM(e,t){if(t.size>0){let n={};for(let[r,i]of t)n[r]=[...i];try{e.sessionStorage.setItem(r7,JSON.stringify(n))}catch(r){or(!1,`Failed to save applied view transitions in sessionStorage (${r}).`)}}}function X5(){let e,t,n=new Promise((r,i)=>{e=async s=>{r(s);try{await n}catch{}},t=async s=>{i(s);try{await n}catch{}}});return{promise:n,resolve:e,reject:t}}var ic=j.createContext(null);ic.displayName="DataRouter";var _p=j.createContext(null);_p.displayName="DataRouterState";var d7=j.createContext(!1);function yM(){return j.useContext(d7)}var E2=j.createContext({isTransitioning:!1});E2.displayName="ViewTransition";var f7=j.createContext(new Map);f7.displayName="Fetchers";var vM=j.createContext(null);vM.displayName="Await";var As=j.createContext(null);As.displayName="Navigation";var vy=j.createContext(null);vy.displayName="Location";var uo=j.createContext({outlet:null,matches:[],isDataRoute:!1});uo.displayName="Route";var k2=j.createContext(null);k2.displayName="RouteError";var h7="REACT_ROUTER_ERROR",xM="REDIRECT",bM="ROUTE_ERROR_RESPONSE";function wM(e){if(e.startsWith(`${h7}:${xM}:{`))try{let t=JSON.parse(e.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function _M(e){if(e.startsWith(`${h7}:${bM}:{`))try{let t=JSON.parse(e.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new bp(t.status,t.statusText,t.data)}catch{}}function SM(e,{relative:t}={}){Kt(Sp(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=j.useContext(As),{hash:i,pathname:s,search:o}=Cp(e,{relative:t}),a=s;return n!=="/"&&(a=s==="/"?n:No([n,s])),r.createHref({pathname:a,search:o,hash:i})}function Sp(){return j.useContext(vy)!=null}function co(){return Kt(Sp(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(vy).location}var p7="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function m7(e){j.useContext(As).static||j.useLayoutEffect(e)}function xy(){let{isDataRoute:e}=j.useContext(uo);return e?LM():CM()}function CM(){Kt(Sp(),"useNavigate() may be used only in the context of a <Router> component.");let e=j.useContext(ic),{basename:t,navigator:n}=j.useContext(As),{matches:r}=j.useContext(uo),{pathname:i}=co(),s=JSON.stringify(b2(r)),o=j.useRef(!1);return m7(()=>{o.current=!0}),j.useCallback((l,c={})=>{if(or(o.current,p7),!o.current)return;if(typeof l=="number"){n.go(l);return}let f=w2(l,JSON.parse(s),i,c.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:No([t,f.pathname])),(c.replace?n.replace:n.push)(f,c.state,c)},[t,n,s,i,e])}var EM=j.createContext(null);function kM(e){let t=j.useContext(uo).outlet;return j.useMemo(()=>t&&j.createElement(EM.Provider,{value:e},t),[t,e])}function g7(){let{matches:e}=j.useContext(uo),t=e[e.length-1];return t?t.params:{}}function Cp(e,{relative:t}={}){let{matches:n}=j.useContext(uo),{pathname:r}=co(),i=JSON.stringify(b2(n));return j.useMemo(()=>w2(e,JSON.parse(i),r,t==="path"),[e,i,r,t])}function TM(e,t,n,r,i){Kt(Sp(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=j.useContext(As),{matches:o}=j.useContext(uo),a=o[o.length-1],l=a?a.params:{},c=a?a.pathname:"/",f=a?a.pathnameBase:"/",p=a&&a.route;{let R=p&&p.path||"";v7(c,!p||R.endsWith("*")||R.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${R}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${R}"> to <Route path="${R==="/"?"*":`${R}/*`}">.`)}let g=co(),y;y=g;let b=y.pathname||"/",_=b;if(f!=="/"){let R=f.replace(/^\//,"").split("/");_="/"+b.replace(/^\//,"").split("/").slice(R.length).join("/")}let C=dl(e,{pathname:_});return or(p||C!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),or(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),PM(C&&C.map(R=>Object.assign({},R,{params:Object.assign({},l,R.params),pathname:No([f,s.encodeLocation?s.encodeLocation(R.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:R.pathname]),pathnameBase:R.pathnameBase==="/"?f:No([f,s.encodeLocation?s.encodeLocation(R.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:R.pathnameBase])})),o,n,r,i)}function jM(){let e=I2(),t=Gh(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=j.createElement(j.Fragment,null,j.createElement("p",null," Hey developer "),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:s},"ErrorBoundary")," or"," ",j.createElement("code",{style:s},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},t),n?j.createElement("pre",{style:i},n):null,o)}var IM=j.createElement(jM,null),y7=class extends j.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){const n=_M(e.digest);n&&(e=n)}let t=e!==void 0?j.createElement(uo.Provider,{value:this.props.routeContext},j.createElement(k2.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?j.createElement(NM,{error:e},t):t}};y7.contextType=d7;var Jv=new WeakMap;function NM({children:e,error:t}){let{basename:n}=j.useContext(As);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let r=wM(t.digest);if(r){let i=Jv.get(t);if(i)throw i;let s=Z8(r.location,n);if(J8&&!Jv.get(t))if(s.isExternal||r.reloadDocument)window.location.href=s.absoluteURL||s.to;else{const o=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(s.to,{replace:r.replace}));throw Jv.set(t,o),o}return j.createElement("meta",{httpEquiv:"refresh",content:`0;url=${s.absoluteURL||s.to}`})}}return e}function RM({routeContext:e,match:t,children:n}){let r=j.useContext(ic);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),j.createElement(uo.Provider,{value:e},n)}function PM(e,t=[],n=null,r=null,i=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let s=e,o=n?.errors;if(o!=null){let f=s.findIndex(p=>p.route.id&&o?.[p.route.id]!==void 0);Kt(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),s=s.slice(0,Math.min(s.length,f+1))}let a=!1,l=-1;if(n)for(let f=0;f<s.length;f++){let p=s[f];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(l=f),p.route.id){let{loaderData:g,errors:y}=n,b=p.route.loader&&!g.hasOwnProperty(p.route.id)&&(!y||y[p.route.id]===void 0);if(p.route.lazy||b){a=!0,l>=0?s=s.slice(0,l+1):s=[s[0]];break}}}let c=n&&r?(f,p)=>{r(f,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:wp(n.matches),errorInfo:p})}:void 0;return s.reduceRight((f,p,g)=>{let y,b=!1,_=null,C=null;n&&(y=o&&p.route.id?o[p.route.id]:void 0,_=p.route.errorElement||IM,a&&(l<0&&g===0?(v7("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,C=null):l===g&&(b=!0,C=p.route.hydrateFallbackElement||null)));let E=t.concat(s.slice(0,g+1)),R=()=>{let M;return y?M=_:b?M=C:p.route.Component?M=j.createElement(p.route.Component,null):p.route.element?M=p.route.element:M=f,j.createElement(RM,{match:p,routeContext:{outlet:f,matches:E,isDataRoute:n!=null},children:M})};return n&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?j.createElement(y7,{location:n.location,revalidation:n.revalidation,component:_,error:y,children:R(),routeContext:{outlet:null,matches:E,isDataRoute:!0},onError:c}):R()},null)}function T2(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function OM(e){let t=j.useContext(ic);return Kt(t,T2(e)),t}function MM(e){let t=j.useContext(_p);return Kt(t,T2(e)),t}function AM(e){let t=j.useContext(uo);return Kt(t,T2(e)),t}function j2(e){let t=AM(e),n=t.matches[t.matches.length-1];return Kt(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function DM(){return j2("useRouteId")}function I2(){let e=j.useContext(k2),t=MM("useRouteError"),n=j2("useRouteError");return e!==void 0?e:t.errors?.[n]}function LM(){let{router:e}=OM("useNavigate"),t=j2("useNavigate"),n=j.useRef(!1);return m7(()=>{n.current=!0}),j.useCallback(async(i,s={})=>{or(n.current,p7),n.current&&(typeof i=="number"?await e.navigate(i):await e.navigate(i,{fromRouteId:t,...s}))},[e,t])}var J5={};function v7(e,t,n){!t&&!J5[e]&&(J5[e]=!0,or(!1,n))}var Z5={};function eC(e,t){!e&&!Z5[t]&&(Z5[t]=!0,console.warn(t))}var FM="useOptimistic",tC=W8[FM],BM=()=>{};function zM(e){return tC?tC(e):[e,BM]}function $M(e){let t={hasErrorBoundary:e.hasErrorBoundary||e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&(e.element&&or(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(t,{element:j.createElement(e.Component),Component:void 0})),e.HydrateFallback&&(e.hydrateFallbackElement&&or(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(t,{hydrateFallbackElement:j.createElement(e.HydrateFallback),HydrateFallback:void 0})),e.ErrorBoundary&&(e.errorElement&&or(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(t,{errorElement:j.createElement(e.ErrorBoundary),ErrorBoundary:void 0})),t}var UM=["HydrateFallback","hydrateFallbackElement"],HM=class{constructor(){this.status="pending",this.promise=new Promise((t,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",t(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function WM({router:e,flushSync:t,onError:n,unstable_useTransitions:r}){r=yM()||r;let[s,o]=j.useState(e.state),[a,l]=zM(s),[c,f]=j.useState(),[p,g]=j.useState({isTransitioning:!1}),[y,b]=j.useState(),[_,C]=j.useState(),[E,R]=j.useState(),M=j.useRef(new Map),U=j.useCallback((B,{deletedFetchers:$,newErrors:D,flushSync:J,viewTransitionOpts:X})=>{D&&n&&Object.values(D).forEach(q=>n(q,{location:B.location,params:B.matches[0]?.params??{},unstable_pattern:wp(B.matches)})),B.fetchers.forEach((q,V)=>{q.data!==void 0&&M.current.set(V,q.data)}),$.forEach(q=>M.current.delete(q)),eC(J===!1||t!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let ie=e.window!=null&&e.window.document!=null&&typeof e.window.document.startViewTransition=="function";if(eC(X==null||ie,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!X||!ie){t&&J?t(()=>o(B)):r===!1?o(B):j.startTransition(()=>{r===!0&&l(q=>nC(q,B)),o(B)});return}if(t&&J){t(()=>{_&&(y?.resolve(),_.skipTransition()),g({isTransitioning:!0,flushSync:!0,currentLocation:X.currentLocation,nextLocation:X.nextLocation})});let q=e.window.document.startViewTransition(()=>{t(()=>o(B))});q.finished.finally(()=>{t(()=>{b(void 0),C(void 0),f(void 0),g({isTransitioning:!1})})}),t(()=>C(q));return}_?(y?.resolve(),_.skipTransition(),R({state:B,currentLocation:X.currentLocation,nextLocation:X.nextLocation})):(f(B),g({isTransitioning:!0,flushSync:!1,currentLocation:X.currentLocation,nextLocation:X.nextLocation}))},[e.window,t,_,y,r,l,n]);j.useLayoutEffect(()=>e.subscribe(U),[e,U]),j.useEffect(()=>{p.isTransitioning&&!p.flushSync&&b(new HM)},[p]),j.useEffect(()=>{if(y&&c&&e.window){let B=c,$=y.promise,D=e.window.document.startViewTransition(async()=>{r===!1?o(B):j.startTransition(()=>{r===!0&&l(J=>nC(J,B)),o(B)}),await $});D.finished.finally(()=>{b(void 0),C(void 0),f(void 0),g({isTransitioning:!1})}),C(D)}},[c,y,e.window,r,l]),j.useEffect(()=>{y&&c&&a.location.key===c.location.key&&y.resolve()},[y,_,a.location,c]),j.useEffect(()=>{!p.isTransitioning&&E&&(f(E.state),g({isTransitioning:!0,flushSync:!1,currentLocation:E.currentLocation,nextLocation:E.nextLocation}),R(void 0))},[p.isTransitioning,E]);let z=j.useMemo(()=>({createHref:e.createHref,encodeLocation:e.encodeLocation,go:B=>e.navigate(B),push:(B,$,D)=>e.navigate(B,{state:$,preventScrollReset:D?.preventScrollReset}),replace:(B,$,D)=>e.navigate(B,{replace:!0,state:$,preventScrollReset:D?.preventScrollReset})}),[e]),P=e.basename||"/",N=j.useMemo(()=>({router:e,navigator:z,static:!1,basename:P,onError:n}),[e,z,P,n]);return j.createElement(j.Fragment,null,j.createElement(ic.Provider,{value:N},j.createElement(_p.Provider,{value:a},j.createElement(f7.Provider,{value:M.current},j.createElement(E2.Provider,{value:p},j.createElement(QM,{basename:P,location:a.location,navigationType:a.historyAction,navigator:z,unstable_useTransitions:r},j.createElement(VM,{routes:e.routes,future:e.future,state:a,onError:n})))))),null)}function nC(e,t){return{...e,navigation:t.navigation.state!=="idle"?t.navigation:e.navigation,revalidation:t.revalidation!=="idle"?t.revalidation:e.revalidation,actionData:t.navigation.state!=="submitting"?t.actionData:e.actionData,fetchers:t.fetchers}}var VM=j.memo(qM);function qM({routes:e,future:t,state:n,onError:r}){return TM(e,void 0,n,r,t)}function N2(e){return kM(e.context)}function QM({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:i,static:s=!1,unstable_useTransitions:o}){Kt(!Sp(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=e.replace(/^\/*/,"/"),l=j.useMemo(()=>({basename:a,navigator:i,static:s,unstable_useTransitions:o,future:{}}),[a,i,s,o]);typeof n=="string"&&(n=Al(n));let{pathname:c="/",search:f="",hash:p="",state:g=null,key:y="default"}=n,b=j.useMemo(()=>{let _=Os(c,a);return _==null?null:{location:{pathname:_,search:f,hash:p,state:g,key:y},navigationType:r}},[a,c,f,p,g,y,r]);return or(b!=null,`<Router basename="${a}"> is not able to match the URL "${c}${f}${p}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:j.createElement(As.Provider,{value:l},j.createElement(vy.Provider,{children:t,value:b}))}var a0="get",l0="application/x-www-form-urlencoded";function by(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function KM(e){return by(e)&&e.tagName.toLowerCase()==="button"}function GM(e){return by(e)&&e.tagName.toLowerCase()==="form"}function YM(e){return by(e)&&e.tagName.toLowerCase()==="input"}function XM(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function JM(e,t){return e.button===0&&(!t||t==="_self")&&!XM(e)}function Ob(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function ZM(e,t){let n=Ob(e);return t&&t.forEach((r,i)=>{n.has(i)||t.getAll(i).forEach(s=>{n.append(i,s)})}),n}var rg=null;function eA(){if(rg===null)try{new FormData(document.createElement("form"),0),rg=!1}catch{rg=!0}return rg}var tA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Zv(e){return e!=null&&!tA.has(e)?(or(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${l0}"`),null):e}function nA(e,t){let n,r,i,s,o;if(GM(e)){let a=e.getAttribute("action");r=a?Os(a,t):null,n=e.getAttribute("method")||a0,i=Zv(e.getAttribute("enctype"))||l0,s=new FormData(e)}else if(KM(e)||YM(e)&&(e.type==="submit"||e.type==="image")){let a=e.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=e.getAttribute("formaction")||a.getAttribute("action");if(r=l?Os(l,t):null,n=e.getAttribute("formmethod")||a.getAttribute("method")||a0,i=Zv(e.getAttribute("formenctype"))||Zv(a.getAttribute("enctype"))||l0,s=new FormData(a,e),!eA()){let{name:c,type:f,value:p}=e;if(f==="image"){let g=c?`${c}.`:"";s.append(`${g}x`,"0"),s.append(`${g}y`,"0")}else c&&s.append(c,p)}}else{if(by(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=a0,r=null,i=l0,o=e}return s&&i==="text/plain"&&(o=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function R2(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function rA(e,t,n,r){let i=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n?i.pathname.endsWith("/")?i.pathname=`${i.pathname}_.${r}`:i.pathname=`${i.pathname}.${r}`:i.pathname==="/"?i.pathname=`_root.${r}`:t&&Os(i.pathname,t)==="/"?i.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${r}`,i}async function iA(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function sA(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function oA(e,t,n){let r=await Promise.all(e.map(async i=>{let s=t.routes[i.route.id];if(s){let o=await iA(s,n);return o.links?o.links():[]}return[]}));return cA(r.flat(1).filter(sA).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function rC(e,t,n,r,i,s){let o=(l,c)=>n[c]?l.route.id!==n[c].route.id:!0,a=(l,c)=>n[c].pathname!==l.pathname||n[c].route.path?.endsWith("*")&&n[c].params["*"]!==l.params["*"];return s==="assets"?t.filter((l,c)=>o(l,c)||a(l,c)):s==="data"?t.filter((l,c)=>{let f=r.routes[l.route.id];if(!f||!f.hasLoader)return!1;if(o(l,c)||a(l,c))return!0;if(l.route.shouldRevalidate){let p=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function aA(e,t,{includeHydrateFallback:n}={}){return lA(e.map(r=>{let i=t.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function lA(e){return[...new Set(e)]}function uA(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function cA(e,t){let n=new Set;return new Set(t),e.reduce((r,i)=>{let s=JSON.stringify(uA(i));return n.has(s)||(n.add(s),r.push({key:s,link:i})),r},[])}function x7(){let e=j.useContext(ic);return R2(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function dA(){let e=j.useContext(_p);return R2(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var P2=j.createContext(void 0);P2.displayName="FrameworkContext";function b7(){let e=j.useContext(P2);return R2(e,"You must render this element inside a <HydratedRouter> element"),e}function fA(e,t){let n=j.useContext(P2),[r,i]=j.useState(!1),[s,o]=j.useState(!1),{onFocus:a,onBlur:l,onMouseEnter:c,onMouseLeave:f,onTouchStart:p}=t,g=j.useRef(null);j.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let _=E=>{E.forEach(R=>{o(R.isIntersecting)})},C=new IntersectionObserver(_,{threshold:.5});return g.current&&C.observe(g.current),()=>{C.disconnect()}}},[e]),j.useEffect(()=>{if(r){let _=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(_)}}},[r]);let y=()=>{i(!0)},b=()=>{i(!1),o(!1)};return n?e!=="intent"?[s,g,{}]:[s,g,{onFocus:nh(a,y),onBlur:nh(l,b),onMouseEnter:nh(c,y),onMouseLeave:nh(f,b),onTouchStart:nh(p,y)}]:[!1,g,{}]}function nh(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function hA({page:e,...t}){let{router:n}=x7(),r=j.useMemo(()=>dl(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?j.createElement(mA,{page:e,matches:r,...t}):null}function pA(e){let{manifest:t,routeModules:n}=b7(),[r,i]=j.useState([]);return j.useEffect(()=>{let s=!1;return oA(e,t,n).then(o=>{s||i(o)}),()=>{s=!0}},[e,t,n]),r}function mA({page:e,matches:t,...n}){let r=co(),{future:i,manifest:s,routeModules:o}=b7(),{basename:a}=x7(),{loaderData:l,matches:c}=dA(),f=j.useMemo(()=>rC(e,t,c,s,r,"data"),[e,t,c,s,r]),p=j.useMemo(()=>rC(e,t,c,s,r,"assets"),[e,t,c,s,r]),g=j.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let _=new Set,C=!1;if(t.forEach(R=>{let M=s.routes[R.route.id];!M||!M.hasLoader||(!f.some(U=>U.route.id===R.route.id)&&R.route.id in l&&o[R.route.id]?.shouldRevalidate||M.hasClientLoader?C=!0:_.add(R.route.id))}),_.size===0)return[];let E=rA(e,a,i.unstable_trailingSlashAwareDataRequests,"data");return C&&_.size>0&&E.searchParams.set("_routes",t.filter(R=>_.has(R.route.id)).map(R=>R.route.id).join(",")),[E.pathname+E.search]},[a,i.unstable_trailingSlashAwareDataRequests,l,r,s,f,t,e,o]),y=j.useMemo(()=>aA(p,s),[p,s]),b=pA(p);return j.createElement(j.Fragment,null,g.map(_=>j.createElement("link",{key:_,rel:"prefetch",as:"fetch",href:_,...n})),y.map(_=>j.createElement("link",{key:_,rel:"modulepreload",href:_,...n})),b.map(({key:_,link:C})=>j.createElement("link",{key:_,nonce:n.nonce,...C})))}function gA(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var yA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{yA&&(window.__reactRouterVersion="7.12.0")}catch{}function vA(e,t){return qO({basename:t?.basename,getContext:t?.getContext,future:t?.future,history:lO({window:t?.window}),hydrationData:xA(),routes:e,mapRouteProperties:$M,hydrationRouteProperties:UM,dataStrategy:t?.dataStrategy,patchRoutesOnNavigation:t?.patchRoutesOnNavigation,window:t?.window,unstable_instrumentations:t?.unstable_instrumentations}).initialize()}function xA(){let e=window?.__staticRouterHydrationData;return e&&e.errors&&(e={...e,errors:bA(e.errors)}),e}function bA(e){if(!e)return null;let t=Object.entries(e),n={};for(let[r,i]of t)if(i&&i.__type==="RouteErrorResponse")n[r]=new bp(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let o=new s(i.message);o.stack="",n[r]=o}catch{}}if(n[r]==null){let s=new Error(i.message);s.stack="",n[r]=s}}else n[r]=i;return n}var w7=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ui=j.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:i,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:f,viewTransition:p,unstable_defaultShouldRevalidate:g,...y},b){let{basename:_,unstable_useTransitions:C}=j.useContext(As),E=typeof c=="string"&&w7.test(c),R=Z8(c,_);c=R.to;let M=SM(c,{relative:i}),[U,z,P]=fA(r,y),N=SA(c,{replace:o,state:a,target:l,preventScrollReset:f,relative:i,viewTransition:p,unstable_defaultShouldRevalidate:g,unstable_useTransitions:C});function B(D){t&&t(D),D.defaultPrevented||N(D)}let $=j.createElement("a",{...y,...P,href:R.absoluteURL||M,onClick:R.isExternal||s?t:B,ref:gA(b,z),target:l,"data-discover":!E&&n==="render"?"true":void 0});return U&&!E?j.createElement(j.Fragment,null,$,j.createElement(hA,{page:M})):$});ui.displayName="Link";var sc=j.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:i=!1,style:s,to:o,viewTransition:a,children:l,...c},f){let p=Cp(o,{relative:c.relative}),g=co(),y=j.useContext(_p),{navigator:b,basename:_}=j.useContext(As),C=y!=null&&jA(p)&&a===!0,E=b.encodeLocation?b.encodeLocation(p).pathname:p.pathname,R=g.pathname,M=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;n||(R=R.toLowerCase(),M=M?M.toLowerCase():null,E=E.toLowerCase()),M&&_&&(M=Os(M,_)||M);const U=E!=="/"&&E.endsWith("/")?E.length-1:E.length;let z=R===E||!i&&R.startsWith(E)&&R.charAt(U)==="/",P=M!=null&&(M===E||!i&&M.startsWith(E)&&M.charAt(E.length)==="/"),N={isActive:z,isPending:P,isTransitioning:C},B=z?t:void 0,$;typeof r=="function"?$=r(N):$=[r,z?"active":null,P?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let D=typeof s=="function"?s(N):s;return j.createElement(ui,{...c,"aria-current":B,className:$,ref:f,style:D,to:o,viewTransition:a},typeof l=="function"?l(N):l)});sc.displayName="NavLink";var wA=j.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:i,state:s,method:o=a0,action:a,onSubmit:l,relative:c,preventScrollReset:f,viewTransition:p,unstable_defaultShouldRevalidate:g,...y},b)=>{let{unstable_useTransitions:_}=j.useContext(As),C=kA(),E=TA(a,{relative:c}),R=o.toLowerCase()==="get"?"get":"post",M=typeof a=="string"&&w7.test(a),U=z=>{if(l&&l(z),z.defaultPrevented)return;z.preventDefault();let P=z.nativeEvent.submitter,N=P?.getAttribute("formmethod")||o,B=()=>C(P||z.currentTarget,{fetcherKey:t,method:N,navigate:n,replace:i,state:s,relative:c,preventScrollReset:f,viewTransition:p,unstable_defaultShouldRevalidate:g});_&&n!==!1?j.startTransition(()=>B()):B()};return j.createElement("form",{ref:b,method:R,action:E,onSubmit:r?l:U,...y,"data-discover":!M&&e==="render"?"true":void 0})});wA.displayName="Form";function _A(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function _7(e){let t=j.useContext(ic);return Kt(t,_A(e)),t}function SA(e,{target:t,replace:n,state:r,preventScrollReset:i,relative:s,viewTransition:o,unstable_defaultShouldRevalidate:a,unstable_useTransitions:l}={}){let c=xy(),f=co(),p=Cp(e,{relative:s});return j.useCallback(g=>{if(JM(g,t)){g.preventDefault();let y=n!==void 0?n:Oo(f)===Oo(p),b=()=>c(e,{replace:y,state:r,preventScrollReset:i,relative:s,viewTransition:o,unstable_defaultShouldRevalidate:a});l?j.startTransition(()=>b()):b()}},[f,c,p,n,r,t,e,i,s,o,a,l])}function S7(e){or(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=j.useRef(Ob(e)),n=j.useRef(!1),r=co(),i=j.useMemo(()=>ZM(r.search,n.current?null:t.current),[r.search]),s=xy(),o=j.useCallback((a,l)=>{const c=Ob(typeof a=="function"?a(new URLSearchParams(i)):a);n.current=!0,s("?"+c,l)},[s,i]);return[i,o]}var CA=0,EA=()=>`__${String(++CA)}__`;function kA(){let{router:e}=_7("useSubmit"),{basename:t}=j.useContext(As),n=DM(),r=e.fetch,i=e.navigate;return j.useCallback(async(s,o={})=>{let{action:a,method:l,encType:c,formData:f,body:p}=nA(s,t);if(o.navigate===!1){let g=o.fetcherKey||EA();await r(g,n,o.action||a,{unstable_defaultShouldRevalidate:o.unstable_defaultShouldRevalidate,preventScrollReset:o.preventScrollReset,formData:f,body:p,formMethod:o.method||l,formEncType:o.encType||c,flushSync:o.flushSync})}else await i(o.action||a,{unstable_defaultShouldRevalidate:o.unstable_defaultShouldRevalidate,preventScrollReset:o.preventScrollReset,formData:f,body:p,formMethod:o.method||l,formEncType:o.encType||c,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,i,t,n])}function TA(e,{relative:t}={}){let{basename:n}=j.useContext(As),r=j.useContext(uo);Kt(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...Cp(e||".",{relative:t})},o=co();if(e==null){s.search=o.search;let a=new URLSearchParams(s.search),l=a.getAll("index");if(l.some(f=>f==="")){a.delete("index"),l.filter(p=>p).forEach(p=>a.append("index",p));let f=a.toString();s.search=f?`?${f}`:""}}return(!e||e===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:No([n,s.pathname])),Oo(s)}function jA(e,{relative:t}={}){let n=j.useContext(E2);Kt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=_7("useViewTransitionState"),i=Cp(e,{relative:t});if(!n.isTransitioning)return!1;let s=Os(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=Os(n.nextLocation.pathname,r)||n.nextLocation.pathname;return C0(i.pathname,o)!=null||C0(i.pathname,s)!=null}var wy=V8();const ig=qi(wy);function IA(e){return j.createElement(WM,{flushSync:wy.flushSync,...e})}var nf=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Gu=typeof window>"u"||"Deno"in globalThis;function xi(){}function NA(e,t){return typeof e=="function"?e(t):e}function Mb(e){return typeof e=="number"&&e>=0&&e!==1/0}function C7(e,t){return Math.max(e+(t||0)-Date.now(),0)}function xl(e,t){return typeof e=="function"?e(t):e}function Is(e,t){return typeof e=="function"?e(t):e}function iC(e,t){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:o,stale:a}=e;if(o){if(r){if(t.queryHash!==O2(o,t.options))return!1}else if(!Yh(t.queryKey,o))return!1}if(n!=="all"){const l=t.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&t.isStale()!==a||i&&i!==t.state.fetchStatus||s&&!s(t))}function sC(e,t){const{exact:n,status:r,predicate:i,mutationKey:s}=e;if(s){if(!t.options.mutationKey)return!1;if(n){if(Yu(t.options.mutationKey)!==Yu(s))return!1}else if(!Yh(t.options.mutationKey,s))return!1}return!(r&&t.state.status!==r||i&&!i(t))}function O2(e,t){return(t?.queryKeyHashFn||Yu)(e)}function Yu(e){return JSON.stringify(e,(t,n)=>Ab(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function Yh(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>Yh(e[n],t[n])):!1}function E7(e,t){if(e===t)return e;const n=oC(e)&&oC(t);if(n||Ab(e)&&Ab(t)){const r=n?e:Object.keys(e),i=r.length,s=n?t:Object.keys(t),o=s.length,a=n?[]:{},l=new Set(r);let c=0;for(let f=0;f<o;f++){const p=n?f:s[f];(!n&&l.has(p)||n)&&e[p]===void 0&&t[p]===void 0?(a[p]=void 0,c++):(a[p]=E7(e[p],t[p]),a[p]===e[p]&&e[p]!==void 0&&c++)}return i===o&&c===i?e:a}return t}function E0(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function oC(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Ab(e){if(!aC(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!aC(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function aC(e){return Object.prototype.toString.call(e)==="[object Object]"}function RA(e){return new Promise(t=>{setTimeout(t,e)})}function Db(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?E7(e,t):t}function PA(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function OA(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var M2=Symbol();function k7(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===M2?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function T7(e,t){return typeof e=="function"?e(...t):!!e}var MA=class extends nf{#t;#e;#n;constructor(){super(),this.#n=e=>{if(!Gu&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#e||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(e){this.#n=e,this.#e?.(),this.#e=e(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(e){this.#t!==e&&(this.#t=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#t=="boolean"?this.#t:globalThis.document?.visibilityState!=="hidden"}},A2=new MA,AA=class extends nf{#t=!0;#e;#n;constructor(){super(),this.#n=e=>{if(!Gu&&window.addEventListener){const t=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#e||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(e){this.#n=e,this.#e?.(),this.#e=e(this.setOnline.bind(this))}setOnline(e){this.#t!==e&&(this.#t=e,this.listeners.forEach(n=>{n(e)}))}isOnline(){return this.#t}},k0=new AA;function Lb(){let e,t;const n=new Promise((i,s)=>{e=i,t=s});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),e(i)},n.reject=i=>{r({status:"rejected",reason:i}),t(i)},n}function DA(e){return Math.min(1e3*2**e,3e4)}function j7(e){return(e??"online")==="online"?k0.isOnline():!0}var I7=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function ex(e){return e instanceof I7}function N7(e){let t=!1,n=0,r=!1,i;const s=Lb(),o=_=>{r||(g(new I7(_)),e.abort?.())},a=()=>{t=!0},l=()=>{t=!1},c=()=>A2.isFocused()&&(e.networkMode==="always"||k0.isOnline())&&e.canRun(),f=()=>j7(e.networkMode)&&e.canRun(),p=_=>{r||(r=!0,e.onSuccess?.(_),i?.(),s.resolve(_))},g=_=>{r||(r=!0,e.onError?.(_),i?.(),s.reject(_))},y=()=>new Promise(_=>{i=C=>{(r||c())&&_(C)},e.onPause?.()}).then(()=>{i=void 0,r||e.onContinue?.()}),b=()=>{if(r)return;let _;const C=n===0?e.initialPromise:void 0;try{_=C??e.fn()}catch(E){_=Promise.reject(E)}Promise.resolve(_).then(p).catch(E=>{if(r)return;const R=e.retry??(Gu?0:3),M=e.retryDelay??DA,U=typeof M=="function"?M(n,E):M,z=R===!0||typeof R=="number"&&n<R||typeof R=="function"&&R(n,E);if(t||!z){g(E);return}n++,e.onFail?.(n,E),RA(U).then(()=>c()?void 0:y()).then(()=>{t?g(E):b()})})};return{promise:s,cancel:o,continue:()=>(i?.(),s),cancelRetry:a,continueRetry:l,canStart:f,start:()=>(f()?b():y().then(b),s)}}var LA=e=>setTimeout(e,0);function FA(){let e=[],t=0,n=a=>{a()},r=a=>{a()},i=LA;const s=a=>{t?e.push(a):i(()=>{n(a)})},o=()=>{const a=e;e=[],a.length&&i(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;t++;try{l=a()}finally{t--,t||o()}return l},batchCalls:a=>(...l)=>{s(()=>{a(...l)})},schedule:s,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{i=a}}}var jr=FA(),R7=class{#t;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Mb(this.gcTime)&&(this.#t=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Gu?1/0:300*1e3))}clearGcTimeout(){this.#t&&(clearTimeout(this.#t),this.#t=void 0)}},BA=class extends R7{#t;#e;#n;#r;#i;#o;#a;constructor(e){super(),this.#a=!1,this.#o=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#r=e.client,this.#n=this.#r.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#t=zA(this.options),this.state=e.state??this.#t,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#i?.promise}setOptions(e){this.options={...this.#o,...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(e,t){const n=Db(this.state.data,e,this.options);return this.#s({data:n,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),n}setState(e,t){this.#s({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#i?.promise;return this.#i?.cancel(e),t?t.then(xi).catch(xi):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#t)}isActive(){return this.observers.some(e=>Is(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===M2||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>xl(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!C7(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#i?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#i?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#i&&(this.#a?this.#i.cancel({revert:!0}):this.#i.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#s({type:"invalidate"})}fetch(e,t){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#i)return this.#i.continueRetry(),this.#i.promise}if(e&&this.setOptions(e),!this.options.queryFn){const l=this.observers.find(c=>c.options.queryFn);l&&this.setOptions(l.options)}const n=new AbortController,r=l=>{Object.defineProperty(l,"signal",{enumerable:!0,get:()=>(this.#a=!0,n.signal)})},i=()=>{const l=k7(this.options,t),f=(()=>{const p={client:this.#r,queryKey:this.queryKey,meta:this.meta};return r(p),p})();return this.#a=!1,this.options.persister?this.options.persister(l,f,this):l(f)},o=(()=>{const l={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#r,state:this.state,fetchFn:i};return r(l),l})();this.options.behavior?.onFetch(o,this),this.#e=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==o.fetchOptions?.meta)&&this.#s({type:"fetch",meta:o.fetchOptions?.meta});const a=l=>{ex(l)&&l.silent||this.#s({type:"error",error:l}),ex(l)||(this.#n.config.onError?.(l,this),this.#n.config.onSettled?.(this.state.data,l,this)),this.scheduleGc()};return this.#i=N7({initialPromise:t?.initialPromise,fn:o.fetchFn,abort:n.abort.bind(n),onSuccess:l=>{if(l===void 0){a(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(l)}catch(c){a(c);return}this.#n.config.onSuccess?.(l,this),this.#n.config.onSettled?.(l,this.state.error,this),this.scheduleGc()},onError:a,onFail:(l,c)=>{this.#s({type:"failed",failureCount:l,error:c})},onPause:()=>{this.#s({type:"pause"})},onContinue:()=>{this.#s({type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0}),this.#i.start()}#s(e){const t=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...P7(n.data,this.options),fetchMeta:e.meta??null};case"success":return this.#e=void 0,{...n,data:e.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const r=e.error;return ex(r)&&r.revert&&this.#e?{...this.#e,fetchStatus:"idle"}:{...n,error:r,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:r,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=t(this.state),jr.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:e})})}};function P7(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:j7(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function zA(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var $A=class extends nf{constructor(e={}){super(),this.config=e,this.#t=new Map}#t;build(e,t,n){const r=t.queryKey,i=t.queryHash??O2(r,t);let s=this.get(i);return s||(s=new BA({client:e,queryKey:r,queryHash:i,options:e.defaultQueryOptions(t),state:n,defaultOptions:e.getQueryDefaults(r)}),this.add(s)),s}add(e){this.#t.has(e.queryHash)||(this.#t.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#t.get(e.queryHash);t&&(e.destroy(),t===e&&this.#t.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){jr.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#t.get(e)}getAll(){return[...this.#t.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(n=>iC(t,n))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(n=>iC(e,n)):t}notify(e){jr.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){jr.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){jr.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},UA=class extends R7{#t;#e;#n;constructor(e){super(),this.mutationId=e.mutationId,this.#e=e.mutationCache,this.#t=[],this.state=e.state||O7(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#e.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(t=>t!==e),this.scheduleGc(),this.#e.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#e.remove(this))}continue(){return this.#n?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#r({type:"continue"})};this.#n=N7({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(i,s)=>{this.#r({type:"failed",failureCount:i,error:s})},onPause:()=>{this.#r({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#e.canRun(this)});const n=this.state.status==="pending",r=!this.#n.canStart();try{if(n)t();else{this.#r({type:"pending",variables:e,isPaused:r}),await this.#e.config.onMutate?.(e,this);const s=await this.options.onMutate?.(e);s!==this.state.context&&this.#r({type:"pending",context:s,variables:e,isPaused:r})}const i=await this.#n.start();return await this.#e.config.onSuccess?.(i,e,this.state.context,this),await this.options.onSuccess?.(i,e,this.state.context),await this.#e.config.onSettled?.(i,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(i,null,e,this.state.context),this.#r({type:"success",data:i}),i}catch(i){try{throw await this.#e.config.onError?.(i,e,this.state.context,this),await this.options.onError?.(i,e,this.state.context),await this.#e.config.onSettled?.(void 0,i,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,i,e,this.state.context),i}finally{this.#r({type:"error",error:i})}}finally{this.#e.runNext(this)}}#r(e){const t=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),jr.batch(()=>{this.#t.forEach(n=>{n.onMutationUpdate(e)}),this.#e.notify({mutation:this,type:"updated",action:e})})}};function O7(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var HA=class extends nf{constructor(e={}){super(),this.config=e,this.#t=new Set,this.#e=new Map,this.#n=0}#t;#e;#n;build(e,t,n){const r=new UA({mutationCache:this,mutationId:++this.#n,options:e.defaultMutationOptions(t),state:n});return this.add(r),r}add(e){this.#t.add(e);const t=sg(e);if(typeof t=="string"){const n=this.#e.get(t);n?n.push(e):this.#e.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#t.delete(e)){const t=sg(e);if(typeof t=="string"){const n=this.#e.get(t);if(n)if(n.length>1){const r=n.indexOf(e);r!==-1&&n.splice(r,1)}else n[0]===e&&this.#e.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=sg(e);if(typeof t=="string"){const r=this.#e.get(t)?.find(i=>i.state.status==="pending");return!r||r===e}else return!0}runNext(e){const t=sg(e);return typeof t=="string"?this.#e.get(t)?.find(r=>r!==e&&r.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){jr.batch(()=>{this.#t.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#t.clear(),this.#e.clear()})}getAll(){return Array.from(this.#t)}find(e){const t={exact:!0,...e};return this.getAll().find(n=>sC(t,n))}findAll(e={}){return this.getAll().filter(t=>sC(e,t))}notify(e){jr.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return jr.batch(()=>Promise.all(e.map(t=>t.continue().catch(xi))))}};function sg(e){return e.options.scope?.id}function lC(e){return{onFetch:(t,n)=>{const r=t.options,i=t.fetchOptions?.meta?.fetchMore?.direction,s=t.state.data?.pages||[],o=t.state.data?.pageParams||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let f=!1;const p=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(t.signal.aborted?f=!0:t.signal.addEventListener("abort",()=>{f=!0}),t.signal)})},g=k7(t.options,t.fetchOptions),y=async(b,_,C)=>{if(f)return Promise.reject();if(_==null&&b.pages.length)return Promise.resolve(b);const R=(()=>{const P={client:t.client,queryKey:t.queryKey,pageParam:_,direction:C?"backward":"forward",meta:t.options.meta};return p(P),P})(),M=await g(R),{maxPages:U}=t.options,z=C?OA:PA;return{pages:z(b.pages,M,U),pageParams:z(b.pageParams,_,U)}};if(i&&s.length){const b=i==="backward",_=b?WA:uC,C={pages:s,pageParams:o},E=_(r,C);a=await y(C,E,b)}else{const b=e??s.length;do{const _=l===0?o[0]??r.initialPageParam:uC(r,a);if(l>0&&_==null)break;a=await y(a,_),l++}while(l<b)}return a};t.options.persister?t.fetchFn=()=>t.options.persister?.(c,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n):t.fetchFn=c}}}function uC(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function WA(e,{pages:t,pageParams:n}){return t.length>0?e.getPreviousPageParam?.(t[0],t,n[0],n):void 0}var VA=class{#t;#e;#n;#r;#i;#o;#a;#s;constructor(e={}){this.#t=e.queryCache||new $A,this.#e=e.mutationCache||new HA,this.#n=e.defaultOptions||{},this.#r=new Map,this.#i=new Map,this.#o=0}mount(){this.#o++,this.#o===1&&(this.#a=A2.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#t.onFocus())}),this.#s=k0.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#t.onOnline())}))}unmount(){this.#o--,this.#o===0&&(this.#a?.(),this.#a=void 0,this.#s?.(),this.#s=void 0)}isFetching(e){return this.#t.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#e.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#t.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=this.#t.build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(xl(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return this.#t.findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),s=this.#t.get(r.queryHash)?.state.data,o=NA(t,s);if(o!==void 0)return this.#t.build(this,r).setData(o,{...n,manual:!0})}setQueriesData(e,t,n){return jr.batch(()=>this.#t.findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#t.get(t.queryHash)?.state}removeQueries(e){const t=this.#t;jr.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=this.#t;return jr.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=jr.batch(()=>this.#t.findAll(e).map(i=>i.cancel(n)));return Promise.all(r).then(xi).catch(xi)}invalidateQueries(e,t={}){return jr.batch(()=>(this.#t.findAll(e).forEach(n=>{n.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=jr.batch(()=>this.#t.findAll(e).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let s=i.fetch(void 0,n);return n.throwOnError||(s=s.catch(xi)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(xi)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=this.#t.build(this,t);return n.isStaleByTime(xl(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(xi).catch(xi)}fetchInfiniteQuery(e){return e.behavior=lC(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(xi).catch(xi)}ensureInfiniteQueryData(e){return e.behavior=lC(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return k0.isOnline()?this.#e.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#t}getMutationCache(){return this.#e}getDefaultOptions(){return this.#n}setDefaultOptions(e){this.#n=e}setQueryDefaults(e,t){this.#r.set(Yu(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#r.values()],n={};return t.forEach(r=>{Yh(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){this.#i.set(Yu(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#i.values()],n={};return t.forEach(r=>{Yh(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#n.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=O2(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===M2&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#n.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#t.clear(),this.#e.clear()}},qA=class extends nf{constructor(e,t){super(),this.options=t,this.#t=e,this.#s=null,this.#a=Lb(),this.options.experimental_prefetchInRender||this.#a.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(t)}#t;#e=void 0;#n=void 0;#r=void 0;#i;#o;#a;#s;#m;#f;#h;#u;#c;#l;#p=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#e.addObserver(this),cC(this.#e,this.options)?this.#d():this.updateResult(),this.#x())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Fb(this.#e,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Fb(this.#e,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#b(),this.#w(),this.#e.removeObserver(this)}setOptions(e){const t=this.options,n=this.#e;if(this.options=this.#t.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Is(this.options.enabled,this.#e)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#_(),this.#e.setOptions(this.options),t._defaulted&&!E0(this.options,t)&&this.#t.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#e,observer:this});const r=this.hasListeners();r&&dC(this.#e,n,this.options,t)&&this.#d(),this.updateResult(),r&&(this.#e!==n||Is(this.options.enabled,this.#e)!==Is(t.enabled,this.#e)||xl(this.options.staleTime,this.#e)!==xl(t.staleTime,this.#e))&&this.#g();const i=this.#y();r&&(this.#e!==n||Is(this.options.enabled,this.#e)!==Is(t.enabled,this.#e)||i!==this.#l)&&this.#v(i)}getOptimisticResult(e){const t=this.#t.getQueryCache().build(this.#t,e),n=this.createResult(t,e);return KA(this,n)&&(this.#r=n,this.#o=this.options,this.#i=this.#e.state),n}getCurrentResult(){return this.#r}trackResult(e,t){return new Proxy(e,{get:(n,r)=>(this.trackProp(r),t?.(r),Reflect.get(n,r))})}trackProp(e){this.#p.add(e)}getCurrentQuery(){return this.#e}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=this.#t.defaultQueryOptions(e),n=this.#t.getQueryCache().build(this.#t,t);return n.fetch().then(()=>this.createResult(n,t))}fetch(e){return this.#d({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#r))}#d(e){this.#_();let t=this.#e.fetch(this.options,e);return e?.throwOnError||(t=t.catch(xi)),t}#g(){this.#b();const e=xl(this.options.staleTime,this.#e);if(Gu||this.#r.isStale||!Mb(e))return;const n=C7(this.#r.dataUpdatedAt,e)+1;this.#u=setTimeout(()=>{this.#r.isStale||this.updateResult()},n)}#y(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#e):this.options.refetchInterval)??!1}#v(e){this.#w(),this.#l=e,!(Gu||Is(this.options.enabled,this.#e)===!1||!Mb(this.#l)||this.#l===0)&&(this.#c=setInterval(()=>{(this.options.refetchIntervalInBackground||A2.isFocused())&&this.#d()},this.#l))}#x(){this.#g(),this.#v(this.#y())}#b(){this.#u&&(clearTimeout(this.#u),this.#u=void 0)}#w(){this.#c&&(clearInterval(this.#c),this.#c=void 0)}createResult(e,t){const n=this.#e,r=this.options,i=this.#r,s=this.#i,o=this.#o,l=e!==n?e.state:this.#n,{state:c}=e;let f={...c},p=!1,g;if(t._optimisticResults){const B=this.hasListeners(),$=!B&&cC(e,t),D=B&&dC(e,n,t,r);($||D)&&(f={...f,...P7(c.data,e.options)}),t._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:y,errorUpdatedAt:b,status:_}=f;g=f.data;let C=!1;if(t.placeholderData!==void 0&&g===void 0&&_==="pending"){let B;i?.isPlaceholderData&&t.placeholderData===o?.placeholderData?(B=i.data,C=!0):B=typeof t.placeholderData=="function"?t.placeholderData(this.#h?.state.data,this.#h):t.placeholderData,B!==void 0&&(_="success",g=Db(i?.data,B,t),p=!0)}if(t.select&&g!==void 0&&!C)if(i&&g===s?.data&&t.select===this.#m)g=this.#f;else try{this.#m=t.select,g=t.select(g),g=Db(i?.data,g,t),this.#f=g,this.#s=null}catch(B){this.#s=B}this.#s&&(y=this.#s,g=this.#f,b=Date.now(),_="error");const E=f.fetchStatus==="fetching",R=_==="pending",M=_==="error",U=R&&E,z=g!==void 0,N={status:_,fetchStatus:f.fetchStatus,isPending:R,isSuccess:_==="success",isError:M,isInitialLoading:U,isLoading:U,data:g,dataUpdatedAt:f.dataUpdatedAt,error:y,errorUpdatedAt:b,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>l.dataUpdateCount||f.errorUpdateCount>l.errorUpdateCount,isFetching:E,isRefetching:E&&!R,isLoadingError:M&&!z,isPaused:f.fetchStatus==="paused",isPlaceholderData:p,isRefetchError:M&&z,isStale:D2(e,t),refetch:this.refetch,promise:this.#a,isEnabled:Is(t.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const B=J=>{N.status==="error"?J.reject(N.error):N.data!==void 0&&J.resolve(N.data)},$=()=>{const J=this.#a=N.promise=Lb();B(J)},D=this.#a;switch(D.status){case"pending":e.queryHash===n.queryHash&&B(D);break;case"fulfilled":(N.status==="error"||N.data!==D.value)&&$();break;case"rejected":(N.status!=="error"||N.error!==D.reason)&&$();break}}return N}updateResult(){const e=this.#r,t=this.createResult(this.#e,this.options);if(this.#i=this.#e.state,this.#o=this.options,this.#i.data!==void 0&&(this.#h=this.#e),E0(t,e))return;this.#r=t;const n=()=>{if(!e)return!0;const{notifyOnChangeProps:r}=this.options,i=typeof r=="function"?r():r;if(i==="all"||!i&&!this.#p.size)return!0;const s=new Set(i??this.#p);return this.options.throwOnError&&s.add("error"),Object.keys(this.#r).some(o=>{const a=o;return this.#r[a]!==e[a]&&s.has(a)})};this.#S({listeners:n()})}#_(){const e=this.#t.getQueryCache().build(this.#t,this.options);if(e===this.#e)return;const t=this.#e;this.#e=e,this.#n=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#x()}#S(e){jr.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(this.#r)}),this.#t.getQueryCache().notify({query:this.#e,type:"observerResultsUpdated"})})}};function QA(e,t){return Is(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function cC(e,t){return QA(e,t)||e.state.data!==void 0&&Fb(e,t,t.refetchOnMount)}function Fb(e,t,n){if(Is(t.enabled,e)!==!1&&xl(t.staleTime,e)!=="static"){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&D2(e,t)}return!1}function dC(e,t,n,r){return(e!==t||Is(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&D2(e,n)}function D2(e,t){return Is(t.enabled,e)!==!1&&e.isStaleByTime(xl(t.staleTime,e))}function KA(e,t){return!E0(e.getCurrentResult(),t)}var GA=class extends nf{#t;#e=void 0;#n;#r;constructor(t,n){super(),this.#t=t,this.setOptions(n),this.bindMethods(),this.#i()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){const n=this.options;this.options=this.#t.defaultMutationOptions(t),E0(this.options,n)||this.#t.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),n?.mutationKey&&this.options.mutationKey&&Yu(n.mutationKey)!==Yu(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(t){this.#i(),this.#o(t)}getCurrentResult(){return this.#e}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#i(),this.#o()}mutate(t,n){return this.#r=n,this.#n?.removeObserver(this),this.#n=this.#t.getMutationCache().build(this.#t,this.options),this.#n.addObserver(this),this.#n.execute(t)}#i(){const t=this.#n?.state??O7();this.#e={...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset}}#o(t){jr.batch(()=>{if(this.#r&&this.hasListeners()){const n=this.#e.variables,r=this.#e.context;t?.type==="success"?(this.#r.onSuccess?.(t.data,n,r),this.#r.onSettled?.(t.data,null,n,r)):t?.type==="error"&&(this.#r.onError?.(t.error,n,r),this.#r.onSettled?.(void 0,t.error,n,r))}this.listeners.forEach(n=>{n(this.#e)})})}},M7=j.createContext(void 0),fs=e=>{const t=j.useContext(M7);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},YA=({client:e,children:t})=>(j.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),h.jsx(M7.Provider,{value:e,children:t})),A7=j.createContext(!1),XA=()=>j.useContext(A7);A7.Provider;function JA(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var ZA=j.createContext(JA()),eD=()=>j.useContext(ZA),tD=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},nD=e=>{j.useEffect(()=>{e.clearReset()},[e])},rD=({result:e,errorResetBoundary:t,throwOnError:n,query:r,suspense:i})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(i&&e.data===void 0||T7(n,[e.error,r])),iD=e=>{if(e.suspense){const t=r=>r==="static"?r:Math.max(r??1e3,1e3),n=e.staleTime;e.staleTime=typeof n=="function"?(...r)=>t(n(...r)):t(n),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},sD=(e,t)=>e.isLoading&&e.isFetching&&!t,oD=(e,t)=>e?.suspense&&t.isPending,fC=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function aD(e,t,n){const r=XA(),i=eD(),s=fs(),o=s.defaultQueryOptions(e);s.getDefaultOptions().queries?._experimental_beforeQuery?.(o),o._optimisticResults=r?"isRestoring":"optimistic",iD(o),tD(o,i),nD(i);const a=!s.getQueryCache().get(o.queryHash),[l]=j.useState(()=>new t(s,o)),c=l.getOptimisticResult(o),f=!r&&e.subscribed!==!1;if(j.useSyncExternalStore(j.useCallback(p=>{const g=f?l.subscribe(jr.batchCalls(p)):xi;return l.updateResult(),g},[l,f]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),j.useEffect(()=>{l.setOptions(o)},[o,l]),oD(o,c))throw fC(o,l,i);if(rD({result:c,errorResetBoundary:i,throwOnError:o.throwOnError,query:s.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw c.error;return s.getDefaultOptions().queries?._experimental_afterQuery?.(o,c),o.experimental_prefetchInRender&&!Gu&&sD(c,r)&&(a?fC(o,l,i):s.getQueryCache().get(o.queryHash)?.promise)?.catch(xi).finally(()=>{l.updateResult()}),o.notifyOnChangeProps?c:l.trackResult(c)}function fo(e,t){return aD(e,qA)}function Dl(e,t){const n=fs(),[r]=j.useState(()=>new GA(n,e));j.useEffect(()=>{r.setOptions(e)},[r,e]);const i=j.useSyncExternalStore(j.useCallback(o=>r.subscribe(jr.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),s=j.useCallback((o,a)=>{r.mutate(o,a).catch(xi)},[r]);if(i.error&&T7(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:s,mutateAsync:i.mutate}}var tx={},nx={},rx={},hC;function lD(){return hC||(hC=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=function(){for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];if(typeof window<"u"){var a;typeof window.gtag>"u"&&(window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)}),(a=window).gtag.apply(a,s)}},n=t;e.default=n}(rx)),rx}var ix={},pC;function uD(){return pC||(pC=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var t=/^(a|an|and|as|at|but|by|en|for|if|in|nor|of|on|or|per|the|to|vs?\.?|via)$/i;function n(a){return a.toString().trim().replace(/[A-Za-z0-9\u00C0-\u00FF]+[^\s-]*/g,function(l,c,f){return c>0&&c+l.length!==f.length&&l.search(t)>-1&&f.charAt(c-2)!==":"&&(f.charAt(c+l.length)!=="-"||f.charAt(c-1)==="-")&&f.charAt(c-1).search(/[^\s-]/)<0?l.toLowerCase():l.substr(1).search(/[A-Z]|\../)>-1?l:l.charAt(0).toUpperCase()+l.substr(1)})}function r(a){return typeof a=="string"&&a.indexOf("@")!==-1}var i="REDACTED (Potential Email Address)";function s(a){return r(a)?(console.warn("This arg looks like an email address, redacting."),i):a}function o(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,f=a||"";return l&&(f=n(a)),c&&(f=s(f)),f}}(ix)),ix}var mC;function cD(){return mC||(mC=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.GA4=void 0;var t=o(lD()),n=o(uD()),r=["eventCategory","eventAction","eventLabel","eventValue","hitType"],i=["title","location"],s=["page","hitType"];function o(q){return q&&q.__esModule?q:{default:q}}function a(q,V){if(q==null)return{};var K=l(q,V),ne,Y;if(Object.getOwnPropertySymbols){var de=Object.getOwnPropertySymbols(q);for(Y=0;Y<de.length;Y++)ne=de[Y],!(V.indexOf(ne)>=0)&&Object.prototype.propertyIsEnumerable.call(q,ne)&&(K[ne]=q[ne])}return K}function l(q,V){if(q==null)return{};var K={},ne=Object.keys(q),Y,de;for(de=0;de<ne.length;de++)Y=ne[de],!(V.indexOf(Y)>=0)&&(K[Y]=q[Y]);return K}function c(q){"@babel/helpers - typeof";return c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(V){return typeof V}:function(V){return V&&typeof Symbol=="function"&&V.constructor===Symbol&&V!==Symbol.prototype?"symbol":typeof V},c(q)}function f(q){return y(q)||g(q)||R(q)||p()}function p(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function g(q){if(typeof Symbol<"u"&&q[Symbol.iterator]!=null||q["@@iterator"]!=null)return Array.from(q)}function y(q){if(Array.isArray(q))return M(q)}function b(q,V){var K=Object.keys(q);if(Object.getOwnPropertySymbols){var ne=Object.getOwnPropertySymbols(q);V&&(ne=ne.filter(function(Y){return Object.getOwnPropertyDescriptor(q,Y).enumerable})),K.push.apply(K,ne)}return K}function _(q){for(var V=1;V<arguments.length;V++){var K=arguments[V]!=null?arguments[V]:{};V%2?b(Object(K),!0).forEach(function(ne){$(q,ne,K[ne])}):Object.getOwnPropertyDescriptors?Object.defineProperties(q,Object.getOwnPropertyDescriptors(K)):b(Object(K)).forEach(function(ne){Object.defineProperty(q,ne,Object.getOwnPropertyDescriptor(K,ne))})}return q}function C(q,V){return z(q)||U(q,V)||R(q,V)||E()}function E(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function R(q,V){if(q){if(typeof q=="string")return M(q,V);var K=Object.prototype.toString.call(q).slice(8,-1);if(K==="Object"&&q.constructor&&(K=q.constructor.name),K==="Map"||K==="Set")return Array.from(q);if(K==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(K))return M(q,V)}}function M(q,V){(V==null||V>q.length)&&(V=q.length);for(var K=0,ne=new Array(V);K<V;K++)ne[K]=q[K];return ne}function U(q,V){var K=q==null?null:typeof Symbol<"u"&&q[Symbol.iterator]||q["@@iterator"];if(K!=null){var ne,Y,de,F,Z=[],ge=!0,H=!1;try{if(de=(K=K.call(q)).next,V!==0)for(;!(ge=(ne=de.call(K)).done)&&(Z.push(ne.value),Z.length!==V);ge=!0);}catch(je){H=!0,Y=je}finally{try{if(!ge&&K.return!=null&&(F=K.return(),Object(F)!==F))return}finally{if(H)throw Y}}return Z}}function z(q){if(Array.isArray(q))return q}function P(q,V){if(!(q instanceof V))throw new TypeError("Cannot call a class as a function")}function N(q,V){for(var K=0;K<V.length;K++){var ne=V[K];ne.enumerable=ne.enumerable||!1,ne.configurable=!0,"value"in ne&&(ne.writable=!0),Object.defineProperty(q,D(ne.key),ne)}}function B(q,V,K){return V&&N(q.prototype,V),Object.defineProperty(q,"prototype",{writable:!1}),q}function $(q,V,K){return V=D(V),V in q?Object.defineProperty(q,V,{value:K,enumerable:!0,configurable:!0,writable:!0}):q[V]=K,q}function D(q){var V=J(q,"string");return c(V)==="symbol"?V:String(V)}function J(q,V){if(c(q)!=="object"||q===null)return q;var K=q[Symbol.toPrimitive];if(K!==void 0){var ne=K.call(q,V);if(c(ne)!=="object")return ne;throw new TypeError("@@toPrimitive must return a primitive value.")}return(V==="string"?String:Number)(q)}var X=function(){function q(){var V=this;P(this,q),$(this,"reset",function(){V.isInitialized=!1,V._testMode=!1,V._currentMeasurementId,V._hasLoadedGA=!1,V._isQueuing=!1,V._queueGtag=[]}),$(this,"_gtag",function(){for(var K=arguments.length,ne=new Array(K),Y=0;Y<K;Y++)ne[Y]=arguments[Y];V._testMode||V._isQueuing?V._queueGtag.push(ne):t.default.apply(void 0,ne)}),$(this,"_loadGA",function(K,ne){var Y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"https://www.googletagmanager.com/gtag/js";if(!(typeof window>"u"||typeof document>"u")&&!V._hasLoadedGA){var de=document.createElement("script");de.async=!0,de.src="".concat(Y,"?id=").concat(K),ne&&de.setAttribute("nonce",ne),document.body.appendChild(de),window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)},V._hasLoadedGA=!0}}),$(this,"_toGtagOptions",function(K){if(K){var ne={cookieUpdate:"cookie_update",cookieExpires:"cookie_expires",cookieDomain:"cookie_domain",cookieFlags:"cookie_flags",userId:"user_id",clientId:"client_id",anonymizeIp:"anonymize_ip",contentGroup1:"content_group1",contentGroup2:"content_group2",contentGroup3:"content_group3",contentGroup4:"content_group4",contentGroup5:"content_group5",allowAdFeatures:"allow_google_signals",allowAdPersonalizationSignals:"allow_ad_personalization_signals",nonInteraction:"non_interaction",page:"page_path",hitCallback:"event_callback"},Y=Object.entries(K).reduce(function(de,F){var Z=C(F,2),ge=Z[0],H=Z[1];return ne[ge]?de[ne[ge]]=H:de[ge]=H,de},{});return Y}}),$(this,"initialize",function(K){var ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!K)throw new Error("Require GA_MEASUREMENT_ID");var Y=typeof K=="string"?[{trackingId:K}]:K;V._currentMeasurementId=Y[0].trackingId;var de=ne.gaOptions,F=ne.gtagOptions,Z=ne.nonce,ge=ne.testMode,H=ge===void 0?!1:ge,je=ne.gtagUrl;if(V._testMode=H,H||V._loadGA(V._currentMeasurementId,Z,je),V.isInitialized||(V._gtag("js",new Date),Y.forEach(function(Ke){var We=_(_(_({},V._toGtagOptions(_(_({},de),Ke.gaOptions))),F),Ke.gtagOptions);Object.keys(We).length?V._gtag("config",Ke.trackingId,We):V._gtag("config",Ke.trackingId)})),V.isInitialized=!0,!H){var ke=f(V._queueGtag);for(V._queueGtag=[],V._isQueuing=!1;ke.length;){var Te=ke.shift();V._gtag.apply(V,f(Te)),Te[0]==="get"&&(V._isQueuing=!0)}}}),$(this,"set",function(K){if(!K){console.warn("`fieldsObject` is required in .set()");return}if(c(K)!=="object"){console.warn("Expected `fieldsObject` arg to be an Object");return}Object.keys(K).length===0&&console.warn("empty `fieldsObject` given to .set()"),V._gaCommand("set",K)}),$(this,"_gaCommandSendEvent",function(K,ne,Y,de,F){V._gtag("event",ne,_(_({event_category:K,event_label:Y,value:de},F&&{non_interaction:F.nonInteraction}),V._toGtagOptions(F)))}),$(this,"_gaCommandSendEventParameters",function(){for(var K=arguments.length,ne=new Array(K),Y=0;Y<K;Y++)ne[Y]=arguments[Y];if(typeof ne[0]=="string")V._gaCommandSendEvent.apply(V,f(ne.slice(1)));else{var de=ne[0],F=de.eventCategory,Z=de.eventAction,ge=de.eventLabel,H=de.eventValue;de.hitType;var je=a(de,r);V._gaCommandSendEvent(F,Z,ge,H,je)}}),$(this,"_gaCommandSendTiming",function(K,ne,Y,de){V._gtag("event","timing_complete",{name:ne,value:Y,event_category:K,event_label:de})}),$(this,"_gaCommandSendPageview",function(K,ne){if(ne&&Object.keys(ne).length){var Y=V._toGtagOptions(ne),de=Y.title,F=Y.location,Z=a(Y,i);V._gtag("event","page_view",_(_(_(_({},K&&{page_path:K}),de&&{page_title:de}),F&&{page_location:F}),Z))}else K?V._gtag("event","page_view",{page_path:K}):V._gtag("event","page_view")}),$(this,"_gaCommandSendPageviewParameters",function(){for(var K=arguments.length,ne=new Array(K),Y=0;Y<K;Y++)ne[Y]=arguments[Y];if(typeof ne[0]=="string")V._gaCommandSendPageview.apply(V,f(ne.slice(1)));else{var de=ne[0],F=de.page;de.hitType;var Z=a(de,s);V._gaCommandSendPageview(F,Z)}}),$(this,"_gaCommandSend",function(){for(var K=arguments.length,ne=new Array(K),Y=0;Y<K;Y++)ne[Y]=arguments[Y];var de=typeof ne[0]=="string"?ne[0]:ne[0].hitType;switch(de){case"event":V._gaCommandSendEventParameters.apply(V,ne);break;case"pageview":V._gaCommandSendPageviewParameters.apply(V,ne);break;case"timing":V._gaCommandSendTiming.apply(V,f(ne.slice(1)));break;case"screenview":case"transaction":case"item":case"social":case"exception":console.warn("Unsupported send command: ".concat(de));break;default:console.warn("Send command doesn't exist: ".concat(de))}}),$(this,"_gaCommandSet",function(){for(var K=arguments.length,ne=new Array(K),Y=0;Y<K;Y++)ne[Y]=arguments[Y];typeof ne[0]=="string"&&(ne[0]=$({},ne[0],ne[1])),V._gtag("set",V._toGtagOptions(ne[0]))}),$(this,"_gaCommand",function(K){for(var ne=arguments.length,Y=new Array(ne>1?ne-1:0),de=1;de<ne;de++)Y[de-1]=arguments[de];switch(K){case"send":V._gaCommandSend.apply(V,Y);break;case"set":V._gaCommandSet.apply(V,Y);break;default:console.warn("Command doesn't exist: ".concat(K))}}),$(this,"ga",function(){for(var K=arguments.length,ne=new Array(K),Y=0;Y<K;Y++)ne[Y]=arguments[Y];if(typeof ne[0]=="string")V._gaCommand.apply(V,ne);else{var de=ne[0];V._gtag("get",V._currentMeasurementId,"client_id",function(F){V._isQueuing=!1;var Z=V._queueGtag;for(de({get:function(je){return je==="clientId"?F:je==="trackingId"?V._currentMeasurementId:je==="apiVersion"?"1":void 0}});Z.length;){var ge=Z.shift();V._gtag.apply(V,f(ge))}}),V._isQueuing=!0}return V.ga}),$(this,"event",function(K,ne){if(typeof K=="string")V._gtag("event",K,V._toGtagOptions(ne));else{var Y=K.action,de=K.category,F=K.label,Z=K.value,ge=K.nonInteraction,H=K.transport;if(!de||!Y){console.warn("args.category AND args.action are required in event()");return}var je={hitType:"event",eventCategory:(0,n.default)(de),eventAction:(0,n.default)(Y)};F&&(je.eventLabel=(0,n.default)(F)),typeof Z<"u"&&(typeof Z!="number"?console.warn("Expected `args.value` arg to be a Number."):je.eventValue=Z),typeof ge<"u"&&(typeof ge!="boolean"?console.warn("`args.nonInteraction` must be a boolean."):je.nonInteraction=ge),typeof H<"u"&&(typeof H!="string"?console.warn("`args.transport` must be a string."):(["beacon","xhr","image"].indexOf(H)===-1&&console.warn("`args.transport` must be either one of these values: `beacon`, `xhr` or `image`"),je.transport=H)),V._gaCommand("send",je)}}),$(this,"send",function(K){V._gaCommand("send",K)}),this.reset()}return B(q,[{key:"gtag",value:function(){this._gtag.apply(this,arguments)}}]),q}();e.GA4=X;var ie=new X;e.default=ie}(nx)),nx}var gC;function dD(){return gC||(gC=1,function(e){function t(a){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},t(a)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.ReactGAImplementation=void 0;var n=i(cD());function r(a){if(typeof WeakMap!="function")return null;var l=new WeakMap,c=new WeakMap;return(r=function(p){return p?c:l})(a)}function i(a,l){if(a&&a.__esModule)return a;if(a===null||t(a)!=="object"&&typeof a!="function")return{default:a};var c=r(l);if(c&&c.has(a))return c.get(a);var f={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var g in a)if(g!=="default"&&Object.prototype.hasOwnProperty.call(a,g)){var y=p?Object.getOwnPropertyDescriptor(a,g):null;y&&(y.get||y.set)?Object.defineProperty(f,g,y):f[g]=a[g]}return f.default=a,c&&c.set(a,f),f}var s=n.GA4;e.ReactGAImplementation=s;var o=n.default;e.default=o}(tx)),tx}var fD=dD();const hD=qi(fD);function pD(e){try{(function(t,n,r,i,s,o,a){n.getElementById("clarity-script")||(t[r]=t[r]||function(){(t[r].q=t[r].q||[]).push(arguments)},o=n.createElement(i),o.async=1,o.src="https://www.clarity.ms/tag/"+s+"?ref=npm",o.id="clarity-script",a=n.getElementsByTagName(i)[0],a.parentNode.insertBefore(o,a))})(window,document,"clarity","script",e);return}catch{return}}const mD={init(e){pD(e)},setTag(e,t){window.clarity("set",e,t)},identify(e,t,n,r){window.clarity("identify",e,t,n,r)},consent(e=!0){window.clarity("consent",e)},upgrade(e){window.clarity("upgrade",e)},event(e){window.clarity("event",e)}},At=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,$u="8.55.0",sn=globalThis;function _y(e,t,n){const r=n||sn,i=r.__SENTRY__=r.__SENTRY__||{},s=i[$u]=i[$u]||{};return s[e]||(s[e]=t())}const Ll=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,gD="Sentry Logger ",Bb=["debug","info","warn","error","log","assert","trace"],T0={};function Fl(e){if(!("console"in sn))return e();const t=sn.console,n={},r=Object.keys(T0);r.forEach(i=>{const s=T0[i];n[i]=t[i],t[i]=s});try{return e()}finally{r.forEach(i=>{t[i]=n[i]})}}function yD(){let e=!1;const t={enable:()=>{e=!0},disable:()=>{e=!1},isEnabled:()=>e};return Ll?Bb.forEach(n=>{t[n]=(...r)=>{e&&Fl(()=>{sn.console[n](`${gD}[${n}]:`,...r)})}}):Bb.forEach(n=>{t[n]=()=>{}}),t}const Ge=_y("logger",yD),D7=50,Xu="?",yC=/\(error: (.*)\)/,vC=/captureMessage|captureException/;function L7(...e){const t=e.sort((n,r)=>n[0]-r[0]).map(n=>n[1]);return(n,r=0,i=0)=>{const s=[],o=n.split(`
`);for(let a=r;a<o.length;a++){const l=o[a];if(l.length>1024)continue;const c=yC.test(l)?l.replace(yC,"$1"):l;if(!c.match(/\S*Error: /)){for(const f of t){const p=f(c);if(p){s.push(p);break}}if(s.length>=D7+i)break}}return xD(s.slice(i))}}function vD(e){return Array.isArray(e)?L7(...e):e}function xD(e){if(!e.length)return[];const t=Array.from(e);return/sentryWrapped/.test(og(t).function||"")&&t.pop(),t.reverse(),vC.test(og(t).function||"")&&(t.pop(),vC.test(og(t).function||"")&&t.pop()),t.slice(0,D7).map(n=>({...n,filename:n.filename||og(t).filename,function:n.function||Xu}))}function og(e){return e[e.length-1]||{}}const sx="<anonymous>";function xa(e){try{return!e||typeof e!="function"?sx:e.name||sx}catch{return sx}}function xC(e){const t=e.exception;if(t){const n=[];try{return t.values.forEach(r=>{r.stacktrace.frames&&n.push(...r.stacktrace.frames)}),n}catch{return}}}const u0={},bC={};function Bl(e,t){u0[e]=u0[e]||[],u0[e].push(t)}function zl(e,t){if(!bC[e]){bC[e]=!0;try{t()}catch(n){Ll&&Ge.error(`Error while instrumenting ${e}`,n)}}}function Ps(e,t){const n=e&&u0[e];if(n)for(const r of n)try{r(t)}catch(i){Ll&&Ge.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${xa(r)}
Error:`,i)}}let ox=null;function F7(e){const t="error";Bl(t,e),zl(t,bD)}function bD(){ox=sn.onerror,sn.onerror=function(e,t,n,r,i){return Ps("error",{column:r,error:i,line:n,msg:e,url:t}),ox?ox.apply(this,arguments):!1},sn.onerror.__SENTRY_INSTRUMENTED__=!0}let ax=null;function B7(e){const t="unhandledrejection";Bl(t,e),zl(t,wD)}function wD(){ax=sn.onunhandledrejection,sn.onunhandledrejection=function(e){return Ps("unhandledrejection",e),ax?ax.apply(this,arguments):!0},sn.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}function oc(){return L2(sn),sn}function L2(e){const t=e.__SENTRY__=e.__SENTRY__||{};return t.version=t.version||$u,t[$u]=t[$u]||{}}const z7=Object.prototype.toString;function F2(e){switch(z7.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return ba(e,Error)}}function rf(e,t){return z7.call(e)===`[object ${t}]`}function $7(e){return rf(e,"ErrorEvent")}function wC(e){return rf(e,"DOMError")}function _D(e){return rf(e,"DOMException")}function ga(e){return rf(e,"String")}function B2(e){return typeof e=="object"&&e!==null&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function z2(e){return e===null||B2(e)||typeof e!="object"&&typeof e!="function"}function Bd(e){return rf(e,"Object")}function Sy(e){return typeof Event<"u"&&ba(e,Event)}function SD(e){return typeof Element<"u"&&ba(e,Element)}function CD(e){return rf(e,"RegExp")}function Cy(e){return!!(e&&e.then&&typeof e.then=="function")}function ED(e){return Bd(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function ba(e,t){try{return e instanceof t}catch{return!1}}function U7(e){return!!(typeof e=="object"&&e!==null&&(e.__isVue||e._isVue))}const Pd=sn,kD=80;function wa(e,t={}){if(!e)return"<unknown>";try{let n=e;const r=5,i=[];let s=0,o=0;const a=" > ",l=a.length;let c;const f=Array.isArray(t)?t:t.keyAttrs,p=!Array.isArray(t)&&t.maxStringLength||kD;for(;n&&s++<r&&(c=TD(n,f),!(c==="html"||s>1&&o+i.length*l+c.length>=p));)i.push(c),o+=c.length,n=n.parentNode;return i.reverse().join(a)}catch{return"<unknown>"}}function TD(e,t){const n=e,r=[];if(!n||!n.tagName)return"";if(Pd.HTMLElement&&n instanceof HTMLElement&&n.dataset){if(n.dataset.sentryComponent)return n.dataset.sentryComponent;if(n.dataset.sentryElement)return n.dataset.sentryElement}r.push(n.tagName.toLowerCase());const i=t&&t.length?t.filter(o=>n.getAttribute(o)).map(o=>[o,n.getAttribute(o)]):null;if(i&&i.length)i.forEach(o=>{r.push(`[${o[0]}="${o[1]}"]`)});else{n.id&&r.push(`#${n.id}`);const o=n.className;if(o&&ga(o)){const a=o.split(/\s+/);for(const l of a)r.push(`.${l}`)}}const s=["aria-label","type","name","title","alt"];for(const o of s){const a=n.getAttribute(o);a&&r.push(`[${o}="${a}"]`)}return r.join("")}function H7(){try{return Pd.document.location.href}catch{return""}}function jD(e){return Pd.document&&Pd.document.querySelector?Pd.document.querySelector(e):null}function W7(e){if(!Pd.HTMLElement)return null;let t=e;const n=5;for(let r=0;r<n;r++){if(!t)return null;if(t instanceof HTMLElement){if(t.dataset.sentryComponent)return t.dataset.sentryComponent;if(t.dataset.sentryElement)return t.dataset.sentryElement}t=t.parentNode}return null}function Od(e,t=0){return typeof e!="string"||t===0||e.length<=t?e:`${e.slice(0,t)}...`}function _C(e,t){if(!Array.isArray(e))return"";const n=[];for(let r=0;r<e.length;r++){const i=e[r];try{U7(i)?n.push("[VueViewModel]"):n.push(String(i))}catch{n.push("[value cannot be serialized]")}}return n.join(t)}function ID(e,t,n=!1){return ga(e)?CD(t)?t.test(e):ga(t)?n?e===t:e.includes(t):!1:!1}function bl(e,t=[],n=!1){return t.some(r=>ID(e,r,n))}function $i(e,t,n){if(!(t in e))return;const r=e[t],i=n(r);typeof i=="function"&&V7(i,r);try{e[t]=i}catch{Ll&&Ge.log(`Failed to replace method "${t}" in object`,e)}}function Ms(e,t,n){try{Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}catch{Ll&&Ge.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function V7(e,t){try{const n=t.prototype||{};e.prototype=t.prototype=n,Ms(e,"__sentry_original__",t)}catch{}}function $2(e){return e.__sentry_original__}function q7(e){if(F2(e))return{message:e.message,name:e.name,stack:e.stack,...CC(e)};if(Sy(e)){const t={type:e.type,target:SC(e.target),currentTarget:SC(e.currentTarget),...CC(e)};return typeof CustomEvent<"u"&&ba(e,CustomEvent)&&(t.detail=e.detail),t}else return e}function SC(e){try{return SD(e)?wa(e):Object.prototype.toString.call(e)}catch{return"<unknown>"}}function CC(e){if(typeof e=="object"&&e!==null){const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}else return{}}function ND(e,t=40){const n=Object.keys(q7(e));n.sort();const r=n[0];if(!r)return"[object has no keys]";if(r.length>=t)return Od(r,t);for(let i=n.length;i>0;i--){const s=n.slice(0,i).join(", ");if(!(s.length>t))return i===n.length?s:Od(s,t)}return""}function Ir(e){return zb(e,new Map)}function zb(e,t){if(RD(e)){const n=t.get(e);if(n!==void 0)return n;const r={};t.set(e,r);for(const i of Object.getOwnPropertyNames(e))typeof e[i]<"u"&&(r[i]=zb(e[i],t));return r}if(Array.isArray(e)){const n=t.get(e);if(n!==void 0)return n;const r=[];return t.set(e,r),e.forEach(i=>{r.push(zb(i,t))}),r}return e}function RD(e){if(!Bd(e))return!1;try{const t=Object.getPrototypeOf(e).constructor.name;return!t||t==="Object"}catch{return!0}}const Q7=1e3;function Ep(){return Date.now()/Q7}function PD(){const{performance:e}=sn;if(!e||!e.now)return Ep;const t=Date.now()-e.now(),n=e.timeOrigin==null?t:e.timeOrigin;return()=>(n+e.now())/Q7}const Si=PD(),Ci=(()=>{const{performance:e}=sn;if(!e||!e.now)return;const t=3600*1e3,n=e.now(),r=Date.now(),i=e.timeOrigin?Math.abs(e.timeOrigin+n-r):t,s=i<t,o=e.timing&&e.timing.navigationStart,l=typeof o=="number"?Math.abs(o+n-r):t,c=l<t;return s||c?i<=l?e.timeOrigin:o:r})();function us(){const e=sn,t=e.crypto||e.msCrypto;let n=()=>Math.random()*16;try{if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,"");t&&t.getRandomValues&&(n=()=>{const r=new Uint8Array(1);return t.getRandomValues(r),r[0]})}catch{}return("10000000100040008000"+1e11).replace(/[018]/g,r=>(r^(n()&15)>>r/4).toString(16))}function K7(e){return e.exception&&e.exception.values?e.exception.values[0]:void 0}function ol(e){const{message:t,event_id:n}=e;if(t)return t;const r=K7(e);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}function $b(e,t,n){const r=e.exception=e.exception||{},i=r.values=r.values||[],s=i[0]=i[0]||{};s.value||(s.value=t||""),s.type||(s.type="Error")}function zd(e,t){const n=K7(e);if(!n)return;const r={type:"generic",handled:!0},i=n.mechanism;if(n.mechanism={...r,...i,...t},t&&"data"in t){const s={...i&&i.data,...t.data};n.mechanism.data=s}}function EC(e){if(OD(e))return!0;try{Ms(e,"__sentry_captured__",!0)}catch{}return!1}function OD(e){try{return e.__sentry_captured__}catch{}}var aa;(function(e){e[e.PENDING=0]="PENDING";const n=1;e[e.RESOLVED=n]="RESOLVED";const r=2;e[e.REJECTED=r]="REJECTED"})(aa||(aa={}));function _a(e){return new Ns(t=>{t(e)})}function j0(e){return new Ns((t,n)=>{n(e)})}class Ns{constructor(t){Ns.prototype.__init.call(this),Ns.prototype.__init2.call(this),Ns.prototype.__init3.call(this),Ns.prototype.__init4.call(this),this._state=aa.PENDING,this._handlers=[];try{t(this._resolve,this._reject)}catch(n){this._reject(n)}}then(t,n){return new Ns((r,i)=>{this._handlers.push([!1,s=>{if(!t)r(s);else try{r(t(s))}catch(o){i(o)}},s=>{if(!n)i(s);else try{r(n(s))}catch(o){i(o)}}]),this._executeHandlers()})}catch(t){return this.then(n=>n,t)}finally(t){return new Ns((n,r)=>{let i,s;return this.then(o=>{s=!1,i=o,t&&t()},o=>{s=!0,i=o,t&&t()}).then(()=>{if(s){r(i);return}n(i)})})}__init(){this._resolve=t=>{this._setResult(aa.RESOLVED,t)}}__init2(){this._reject=t=>{this._setResult(aa.REJECTED,t)}}__init3(){this._setResult=(t,n)=>{if(this._state===aa.PENDING){if(Cy(n)){n.then(this._resolve,this._reject);return}this._state=t,this._value=n,this._executeHandlers()}}}__init4(){this._executeHandlers=()=>{if(this._state===aa.PENDING)return;const t=this._handlers.slice();this._handlers=[],t.forEach(n=>{n[0]||(this._state===aa.RESOLVED&&n[1](this._value),this._state===aa.REJECTED&&n[2](this._value),n[0]=!0)})}}}function MD(e){const t=Si(),n={sid:us(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>DD(n)};return e&&$d(n,e),n}function $d(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),!e.did&&!t.did&&(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||Si(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=t.sid.length===32?t.sid:us()),t.init!==void 0&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),typeof t.started=="number"&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if(typeof t.duration=="number")e.duration=t.duration;else{const n=e.timestamp-e.started;e.duration=n>=0?n:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),typeof t.errors=="number"&&(e.errors=t.errors),t.status&&(e.status=t.status)}function AD(e,t){let n={};e.status==="ok"&&(n={status:"exited"}),$d(e,n)}function DD(e){return Ir({sid:`${e.sid}`,init:e.init,started:new Date(e.started*1e3).toISOString(),timestamp:new Date(e.timestamp*1e3).toISOString(),status:e.status,errors:e.errors,did:typeof e.did=="number"||typeof e.did=="string"?`${e.did}`:void 0,duration:e.duration,abnormal_mechanism:e.abnormal_mechanism,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}})}function Cl(){return us()}function El(){return us().substring(16)}function Ey(e,t,n=2){if(!t||typeof t!="object"||n<=0)return t;if(e&&t&&Object.keys(t).length===0)return e;const r={...e};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=Ey(r[i],t[i],n-1));return r}const Ub="_sentrySpan";function Xh(e,t){t?Ms(e,Ub,t):delete e[Ub]}function I0(e){return e[Ub]}const LD=100;class U2{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:Cl(),spanId:El()}}clone(){const t=new U2;return t._breadcrumbs=[...this._breadcrumbs],t._tags={...this._tags},t._extra={...this._extra},t._contexts={...this._contexts},this._contexts.flags&&(t._contexts.flags={values:[...this._contexts.flags.values]}),t._user=this._user,t._level=this._level,t._session=this._session,t._transactionName=this._transactionName,t._fingerprint=this._fingerprint,t._eventProcessors=[...this._eventProcessors],t._requestSession=this._requestSession,t._attachments=[...this._attachments],t._sdkProcessingMetadata={...this._sdkProcessingMetadata},t._propagationContext={...this._propagationContext},t._client=this._client,t._lastEventId=this._lastEventId,Xh(t,I0(this)),t}setClient(t){this._client=t}setLastEventId(t){this._lastEventId=t}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&$d(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(t){return this._requestSession=t,this}setTags(t){return this._tags={...this._tags,...t},this._notifyScopeListeners(),this}setTag(t,n){return this._tags={...this._tags,[t]:n},this._notifyScopeListeners(),this}setExtras(t){return this._extra={...this._extra,...t},this._notifyScopeListeners(),this}setExtra(t,n){return this._extra={...this._extra,[t]:n},this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,n){return n===null?delete this._contexts[t]:this._contexts[t]=n,this._notifyScopeListeners(),this}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;const n=typeof t=="function"?t(this):t,[r,i]=n instanceof kl?[n.getScopeData(),n.getRequestSession()]:Bd(n)?[t,t.requestSession]:[],{tags:s,extra:o,user:a,contexts:l,level:c,fingerprint:f=[],propagationContext:p}=r||{};return this._tags={...this._tags,...s},this._extra={...this._extra,...o},this._contexts={...this._contexts,...l},a&&Object.keys(a).length&&(this._user=a),c&&(this._level=c),f.length&&(this._fingerprint=f),p&&(this._propagationContext=p),i&&(this._requestSession=i),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._session=void 0,Xh(this,void 0),this._attachments=[],this.setPropagationContext({traceId:Cl()}),this._notifyScopeListeners(),this}addBreadcrumb(t,n){const r=typeof n=="number"?n:LD;if(r<=0)return this;const i={timestamp:Ep(),...t};return this._breadcrumbs.push(i),this._breadcrumbs.length>r&&(this._breadcrumbs=this._breadcrumbs.slice(-r),this._client&&this._client.recordDroppedEvent("buffer_overflow","log_item")),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:I0(this)}}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata=Ey(this._sdkProcessingMetadata,t,2),this}setPropagationContext(t){return this._propagationContext={spanId:El(),...t},this}getPropagationContext(){return this._propagationContext}captureException(t,n){const r=n&&n.event_id?n.event_id:us();if(!this._client)return Ge.warn("No client configured on scope - will not capture exception!"),r;const i=new Error("Sentry syntheticException");return this._client.captureException(t,{originalException:t,syntheticException:i,...n,event_id:r},this),r}captureMessage(t,n,r){const i=r&&r.event_id?r.event_id:us();if(!this._client)return Ge.warn("No client configured on scope - will not capture message!"),i;const s=new Error(t);return this._client.captureMessage(t,n,{originalException:t,syntheticException:s,...r,event_id:i},this),i}captureEvent(t,n){const r=n&&n.event_id?n.event_id:us();return this._client?(this._client.captureEvent(t,{...n,event_id:r},this),r):(Ge.warn("No client configured on scope - will not capture event!"),r)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(t=>{t(this)}),this._notifyingListeners=!1)}}const kl=U2;function FD(){return _y("defaultCurrentScope",()=>new kl)}function BD(){return _y("defaultIsolationScope",()=>new kl)}class zD{constructor(t,n){let r;t?r=t:r=new kl;let i;n?i=n:i=new kl,this._stack=[{scope:r}],this._isolationScope=i}withScope(t){const n=this._pushScope();let r;try{r=t(n)}catch(i){throw this._popScope(),i}return Cy(r)?r.then(i=>(this._popScope(),i),i=>{throw this._popScope(),i}):(this._popScope(),r)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const t=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:t}),t}_popScope(){return this._stack.length<=1?!1:!!this._stack.pop()}}function Ud(){const e=oc(),t=L2(e);return t.stack=t.stack||new zD(FD(),BD())}function $D(e){return Ud().withScope(e)}function UD(e,t){const n=Ud();return n.withScope(()=>(n.getStackTop().scope=e,t(e)))}function kC(e){return Ud().withScope(()=>e(Ud().getIsolationScope()))}function HD(){return{withIsolationScope:kC,withScope:$D,withSetScope:UD,withSetIsolationScope:(e,t)=>kC(t),getCurrentScope:()=>Ud().getScope(),getIsolationScope:()=>Ud().getIsolationScope()}}function sf(e){const t=L2(e);return t.acs?t.acs:HD()}function On(){const e=oc();return sf(e).getCurrentScope()}function ho(){const e=oc();return sf(e).getIsolationScope()}function WD(){return _y("globalScope",()=>new kl)}function H2(...e){const t=oc(),n=sf(t);if(e.length===2){const[r,i]=e;return r?n.withSetScope(r,i):n.withScope(i)}return n.withScope(e[0])}function tn(){return On().getClient()}function VD(e){const t=e.getPropagationContext(),{traceId:n,spanId:r,parentSpanId:i}=t;return Ir({trace_id:n,span_id:r,parent_span_id:i})}const qD="_sentryMetrics";function Hb(e){const t=e[qD];if(!t)return;const n={};for(const[,[r,i]]of t)(n[r]||(n[r]=[])).push(Ir(i));return n}const jo="sentry.source",G7="sentry.sample_rate",Ju="sentry.op",Ur="sentry.origin",Wb="sentry.idle_span_finish_reason",ky="sentry.measurement_unit",Ty="sentry.measurement_value",TC="sentry.custom_span_name",QD="sentry.profile_id",W2="sentry.exclusive_time",KD=0,Y7=1,Br=2;function GD(e){if(e<400&&e>=100)return{code:Y7};if(e>=400&&e<500)switch(e){case 401:return{code:Br,message:"unauthenticated"};case 403:return{code:Br,message:"permission_denied"};case 404:return{code:Br,message:"not_found"};case 409:return{code:Br,message:"already_exists"};case 413:return{code:Br,message:"failed_precondition"};case 429:return{code:Br,message:"resource_exhausted"};case 499:return{code:Br,message:"cancelled"};default:return{code:Br,message:"invalid_argument"}}if(e>=500&&e<600)switch(e){case 501:return{code:Br,message:"unimplemented"};case 503:return{code:Br,message:"unavailable"};case 504:return{code:Br,message:"deadline_exceeded"};default:return{code:Br,message:"internal_error"}}return{code:Br,message:"unknown_error"}}function X7(e,t){e.setAttribute("http.response.status_code",t);const n=GD(t);n.message!=="unknown_error"&&e.setStatus(n)}const V2="sentry-",YD=/^sentry-/,XD=8192;function J7(e){const t=ZD(e);if(!t)return;const n=Object.entries(t).reduce((r,[i,s])=>{if(i.match(YD)){const o=i.slice(V2.length);r[o]=s}return r},{});if(Object.keys(n).length>0)return n}function JD(e){if(!e)return;const t=Object.entries(e).reduce((n,[r,i])=>(i&&(n[`${V2}${r}`]=i),n),{});return eL(t)}function ZD(e){if(!(!e||!ga(e)&&!Array.isArray(e)))return Array.isArray(e)?e.reduce((t,n)=>{const r=jC(n);return Object.entries(r).forEach(([i,s])=>{t[i]=s}),t},{}):jC(e)}function jC(e){return e.split(",").map(t=>t.split("=").map(n=>decodeURIComponent(n.trim()))).reduce((t,[n,r])=>(n&&r&&(t[n]=r),t),{})}function eL(e){if(Object.keys(e).length!==0)return Object.entries(e).reduce((t,[n,r],i)=>{const s=`${encodeURIComponent(n)}=${encodeURIComponent(r)}`,o=i===0?s:`${t},${s}`;return o.length>XD?(Ll&&Ge.warn(`Not adding key: ${n} with val: ${r} to baggage header due to exceeding baggage size limits.`),t):o},"")}const Z7=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function tL(e){if(!e)return;const t=e.match(Z7);if(!t)return;let n;return t[3]==="1"?n=!0:t[3]==="0"&&(n=!1),{traceId:t[1],parentSampled:n,parentSpanId:t[2]}}function nL(e,t){const n=tL(e),r=J7(t);if(!n||!n.traceId)return{traceId:Cl(),spanId:El()};const{traceId:i,parentSpanId:s,parentSampled:o}=n,a=El();return{traceId:i,parentSpanId:s,spanId:a,sampled:o,dsc:r||{}}}function eT(e=Cl(),t=El(),n){let r="";return n!==void 0&&(r=n?"-1":"-0"),`${e}-${t}${r}`}const tT=0,nT=1;let IC=!1;function rL(e){const{spanId:t,traceId:n}=e.spanContext(),{data:r,op:i,parent_span_id:s,status:o,origin:a}=pn(e);return Ir({parent_span_id:s,span_id:t,trace_id:n,data:r,op:i,status:o,origin:a})}function iL(e){const{spanId:t,traceId:n,isRemote:r}=e.spanContext(),i=r?t:pn(e).parent_span_id,s=r?El():t;return Ir({parent_span_id:i,span_id:s,trace_id:n})}function sL(e){const{traceId:t,spanId:n}=e.spanContext(),r=ac(e);return eT(t,n,r)}function Uu(e){return typeof e=="number"?NC(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?NC(e.getTime()):Si()}function NC(e){return e>9999999999?e/1e3:e}function pn(e){if(aL(e))return e.getSpanJSON();try{const{spanId:t,traceId:n}=e.spanContext();if(oL(e)){const{attributes:r,startTime:i,name:s,endTime:o,parentSpanId:a,status:l}=e;return Ir({span_id:t,trace_id:n,data:r,description:s,parent_span_id:a,start_timestamp:Uu(i),timestamp:Uu(o)||void 0,status:rT(l),op:r[Ju],origin:r[Ur],_metrics_summary:Hb(e)})}return{span_id:t,trace_id:n}}catch{return{}}}function oL(e){const t=e;return!!t.attributes&&!!t.startTime&&!!t.name&&!!t.endTime&&!!t.status}function aL(e){return typeof e.getSpanJSON=="function"}function ac(e){const{traceFlags:t}=e.spanContext();return t===nT}function rT(e){if(!(!e||e.code===KD))return e.code===Y7?"ok":e.message||"unknown_error"}const Hu="_sentryChildSpans",Vb="_sentryRootSpan";function iT(e,t){const n=e[Vb]||e;Ms(t,Vb,n),e[Hu]?e[Hu].add(t):Ms(e,Hu,new Set([t]))}function lL(e,t){e[Hu]&&e[Hu].delete(t)}function c0(e){const t=new Set;function n(r){if(!t.has(r)&&ac(r)){t.add(r);const i=r[Hu]?Array.from(r[Hu]):[];for(const s of i)n(s)}}return n(e),Array.from(t)}function Kr(e){return e[Vb]||e}function Wr(){const e=oc(),t=sf(e);return t.getActiveSpan?t.getActiveSpan():I0(On())}function sT(){IC||(Fl(()=>{console.warn("[Sentry] Deprecation warning: Returning null from `beforeSendSpan` will be disallowed from SDK version 9.0.0 onwards. The callback will only support mutating spans. To drop certain spans, configure the respective integrations directly.")}),IC=!0)}let RC=!1;function uL(){RC||(RC=!0,F7(qb),B7(qb))}function qb(){const e=Wr(),t=e&&Kr(e);if(t){const n="internal_error";At&&Ge.log(`[Tracing] Root span: ${n} -> Global error occurred`),t.setStatus({code:Br,message:n})}}qb.tag="sentry_tracingErrorCallback";const oT="_sentryScope",aT="_sentryIsolationScope";function cL(e,t,n){e&&(Ms(e,aT,n),Ms(e,oT,t))}function PC(e){return{scope:e[oT],isolationScope:e[aT]}}function Tl(e){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;const t=tn(),n=e||t&&t.getOptions();return!!n&&(n.enableTracing||"tracesSampleRate"in n||"tracesSampler"in n)}class of{constructor(t={}){this._traceId=t.traceId||Cl(),this._spanId=t.spanId||El()}spanContext(){return{spanId:this._spanId,traceId:this._traceId,traceFlags:tT}}end(t){}setAttribute(t,n){return this}setAttributes(t){return this}setStatus(t){return this}updateName(t){return this}isRecording(){return!1}addEvent(t,n,r){return this}addLink(t){return this}addLinks(t){return this}recordException(t,n){}}const q2="production",lT="_frozenDsc";function OC(e,t){Ms(e,lT,t)}function uT(e,t){const n=t.getOptions(),{publicKey:r}=t.getDsn()||{},i=Ir({environment:n.environment||q2,release:n.release,public_key:r,trace_id:e});return t.emit("createDsc",i),i}function cT(e,t){const n=t.getPropagationContext();return n.dsc||uT(n.traceId,e)}function lc(e){const t=tn();if(!t)return{};const n=Kr(e),r=n[lT];if(r)return r;const i=n.spanContext().traceState,s=i&&i.get("sentry.dsc"),o=s&&J7(s);if(o)return o;const a=uT(e.spanContext().traceId,t),l=pn(n),c=l.data||{},f=c[G7];f!=null&&(a.sample_rate=`${f}`);const p=c[jo],g=l.description;return p!=="url"&&g&&(a.transaction=g),Tl()&&(a.sampled=String(ac(n))),t.emit("createDsc",a,n),a}function dL(e){if(!At)return;const{description:t="< unknown name >",op:n="< unknown op >",parent_span_id:r}=pn(e),{spanId:i}=e.spanContext(),s=ac(e),o=Kr(e),a=o===e,l=`[Tracing] Starting ${s?"sampled":"unsampled"} ${a?"root ":""}span`,c=[`op: ${n}`,`name: ${t}`,`ID: ${i}`];if(r&&c.push(`parent ID: ${r}`),!a){const{op:f,description:p}=pn(o);c.push(`root ID: ${o.spanContext().spanId}`),f&&c.push(`root op: ${f}`),p&&c.push(`root description: ${p}`)}Ge.log(`${l}
  ${c.join(`
  `)}`)}function fL(e){if(!At)return;const{description:t="< unknown name >",op:n="< unknown op >"}=pn(e),{spanId:r}=e.spanContext(),s=Kr(e)===e,o=`[Tracing] Finishing "${n}" ${s?"root ":""}span "${t}" with ID ${r}`;Ge.log(o)}function N0(e){if(typeof e=="boolean")return Number(e);const t=typeof e=="string"?parseFloat(e):e;if(typeof t!="number"||isNaN(t)||t<0||t>1){At&&Ge.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(e)} of type ${JSON.stringify(typeof e)}.`);return}return t}function hL(e,t){if(!Tl(e))return[!1];const n=ho().getScopeData().sdkProcessingMetadata.normalizedRequest,r={...t,normalizedRequest:t.normalizedRequest||n};let i;typeof e.tracesSampler=="function"?i=e.tracesSampler(r):r.parentSampled!==void 0?i=r.parentSampled:typeof e.tracesSampleRate<"u"?i=e.tracesSampleRate:i=1;const s=N0(i);return s===void 0?(At&&Ge.warn("[Tracing] Discarding transaction because of invalid sample rate."),[!1]):s?Math.random()<s?[!0,s]:(At&&Ge.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(i)})`),[!1,s]):(At&&Ge.log(`[Tracing] Discarding transaction because ${typeof e.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),[!1,s])}const pL=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function mL(e){return e==="http"||e==="https"}function kp(e,t=!1){const{host:n,path:r,pass:i,port:s,projectId:o,protocol:a,publicKey:l}=e;return`${a}://${l}${t&&i?`:${i}`:""}@${n}${s?`:${s}`:""}/${r&&`${r}/`}${o}`}function gL(e){const t=pL.exec(e);if(!t){Fl(()=>{console.error(`Invalid Sentry Dsn: ${e}`)});return}const[n,r,i="",s="",o="",a=""]=t.slice(1);let l="",c=a;const f=c.split("/");if(f.length>1&&(l=f.slice(0,-1).join("/"),c=f.pop()),c){const p=c.match(/^\d+/);p&&(c=p[0])}return dT({host:s,pass:i,path:l,projectId:c,port:o,protocol:n,publicKey:r})}function dT(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function yL(e){if(!Ll)return!0;const{port:t,projectId:n,protocol:r}=e;return["protocol","publicKey","host","projectId"].find(o=>e[o]?!1:(Ge.error(`Invalid Sentry Dsn: ${o} missing`),!0))?!1:n.match(/^\d+$/)?mL(r)?t&&isNaN(parseInt(t,10))?(Ge.error(`Invalid Sentry Dsn: Invalid port ${t}`),!1):!0:(Ge.error(`Invalid Sentry Dsn: Invalid protocol ${r}`),!1):(Ge.error(`Invalid Sentry Dsn: Invalid projectId ${n}`),!1)}function vL(e){const t=typeof e=="string"?gL(e):dT(e);if(!(!t||!yL(t)))return t}function xL(){const e=typeof WeakSet=="function",t=e?new WeakSet:[];function n(i){if(e)return t.has(i)?!0:(t.add(i),!1);for(let s=0;s<t.length;s++)if(t[s]===i)return!0;return t.push(i),!1}function r(i){if(e)t.delete(i);else for(let s=0;s<t.length;s++)if(t[s]===i){t.splice(s,1);break}}return[n,r]}function Zs(e,t=100,n=1/0){try{return Qb("",e,t,n)}catch(r){return{ERROR:`**non-serializable** (${r})`}}}function fT(e,t=3,n=100*1024){const r=Zs(e,t);return SL(r)>n?fT(e,t-1,n):r}function Qb(e,t,n=1/0,r=1/0,i=xL()){const[s,o]=i;if(t==null||["boolean","string"].includes(typeof t)||typeof t=="number"&&Number.isFinite(t))return t;const a=bL(e,t);if(!a.startsWith("[object "))return a;if(t.__sentry_skip_normalization__)return t;const l=typeof t.__sentry_override_normalization_depth__=="number"?t.__sentry_override_normalization_depth__:n;if(l===0)return a.replace("object ","");if(s(t))return"[Circular ~]";const c=t;if(c&&typeof c.toJSON=="function")try{const y=c.toJSON();return Qb("",y,l-1,r,i)}catch{}const f=Array.isArray(t)?[]:{};let p=0;const g=q7(t);for(const y in g){if(!Object.prototype.hasOwnProperty.call(g,y))continue;if(p>=r){f[y]="[MaxProperties ~]";break}const b=g[y];f[y]=Qb(y,b,l-1,r,i),p++}return o(t),f}function bL(e,t){try{if(e==="domain"&&t&&typeof t=="object"&&t._events)return"[Domain]";if(e==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&t===global)return"[Global]";if(typeof window<"u"&&t===window)return"[Window]";if(typeof document<"u"&&t===document)return"[Document]";if(U7(t))return"[VueViewModel]";if(ED(t))return"[SyntheticEvent]";if(typeof t=="number"&&!Number.isFinite(t))return`[${t}]`;if(typeof t=="function")return`[Function: ${xa(t)}]`;if(typeof t=="symbol")return`[${String(t)}]`;if(typeof t=="bigint")return`[BigInt: ${String(t)}]`;const n=wL(t);return/^HTML(\w*)Element$/.test(n)?`[HTMLElement: ${n}]`:`[object ${n}]`}catch(n){return`**non-serializable** (${n})`}}function wL(e){const t=Object.getPrototypeOf(e);return t?t.constructor.name:"null prototype"}function _L(e){return~-encodeURI(e).split(/%..|./).length}function SL(e){return _L(JSON.stringify(e))}function uc(e,t=[]){return[e,t]}function CL(e,t){const[n,r]=e;return[n,[...r,t]]}function MC(e,t){const n=e[1];for(const r of n){const i=r[0].type;if(t(r,i))return!0}return!1}function Kb(e){return sn.__SENTRY__&&sn.__SENTRY__.encodePolyfill?sn.__SENTRY__.encodePolyfill(e):new TextEncoder().encode(e)}function EL(e){const[t,n]=e;let r=JSON.stringify(t);function i(s){typeof r=="string"?r=typeof s=="string"?r+s:[Kb(r),s]:r.push(typeof s=="string"?Kb(s):s)}for(const s of n){const[o,a]=s;if(i(`
${JSON.stringify(o)}
`),typeof a=="string"||a instanceof Uint8Array)i(a);else{let l;try{l=JSON.stringify(a)}catch{l=JSON.stringify(Zs(a))}i(l)}}return typeof r=="string"?r:kL(r)}function kL(e){const t=e.reduce((i,s)=>i+s.length,0),n=new Uint8Array(t);let r=0;for(const i of e)n.set(i,r),r+=i.length;return n}function TL(e){return[{type:"span"},e]}function jL(e){const t=typeof e.data=="string"?Kb(e.data):e.data;return[Ir({type:"attachment",length:t.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType}),t]}const IL={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"metric_bucket",raw_security:"security"};function AC(e){return IL[e]}function Q2(e){if(!e||!e.sdk)return;const{name:t,version:n}=e.sdk;return{name:t,version:n}}function hT(e,t,n,r){const i=e.sdkProcessingMetadata&&e.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:e.event_id,sent_at:new Date().toISOString(),...t&&{sdk:t},...!!n&&r&&{dsn:kp(r)},...i&&{trace:Ir({...i})}}}function NL(e,t){return t&&(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||t.name,e.sdk.version=e.sdk.version||t.version,e.sdk.integrations=[...e.sdk.integrations||[],...t.integrations||[]],e.sdk.packages=[...e.sdk.packages||[],...t.packages||[]]),e}function RL(e,t,n,r){const i=Q2(n),s={sent_at:new Date().toISOString(),...i&&{sdk:i},...!!r&&t&&{dsn:kp(t)}},o="aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e.toJSON()];return uc(s,[o])}function PL(e,t,n,r){const i=Q2(n),s=e.type&&e.type!=="replay_event"?e.type:"event";NL(e,n&&n.sdk);const o=hT(e,i,r,t);return delete e.sdkProcessingMetadata,uc(o,[[{type:s},e]])}function OL(e,t){function n(f){return!!f.trace_id&&!!f.public_key}const r=lc(e[0]),i=t&&t.getDsn(),s=t&&t.getOptions().tunnel,o={sent_at:new Date().toISOString(),...n(r)&&{trace:r},...!!s&&i&&{dsn:kp(i)}},a=t&&t.getOptions().beforeSendSpan,l=a?f=>{const p=a(pn(f));return p||sT(),p}:f=>pn(f),c=[];for(const f of e){const p=l(f);p&&c.push(TL(p))}return uc(o,c)}function ML(e,t,n,r=Wr()){const i=r&&Kr(r);i&&(At&&Ge.log(`[Measurement] Setting measurement on root span: ${e} = ${t} ${n}`),i.addEvent(e,{[Ty]:t,[ky]:n}))}function DC(e){if(!e||e.length===0)return;const t={};return e.forEach(n=>{const r=n.attributes||{},i=r[ky],s=r[Ty];typeof i=="string"&&typeof s=="number"&&(t[n.name]={value:s,unit:i})}),t}const LC=1e3;class K2{constructor(t={}){this._traceId=t.traceId||Cl(),this._spanId=t.spanId||El(),this._startTime=t.startTimestamp||Si(),this._attributes={},this.setAttributes({[Ur]:"manual",[Ju]:t.op,...t.attributes}),this._name=t.name,t.parentSpanId&&(this._parentSpanId=t.parentSpanId),"sampled"in t&&(this._sampled=t.sampled),t.endTimestamp&&(this._endTime=t.endTimestamp),this._events=[],this._isStandaloneSpan=t.isStandalone,this._endTime&&this._onSpanEnded()}addLink(t){return this}addLinks(t){return this}recordException(t,n){}spanContext(){const{_spanId:t,_traceId:n,_sampled:r}=this;return{spanId:t,traceId:n,traceFlags:r?nT:tT}}setAttribute(t,n){return n===void 0?delete this._attributes[t]:this._attributes[t]=n,this}setAttributes(t){return Object.keys(t).forEach(n=>this.setAttribute(n,t[n])),this}updateStartTime(t){this._startTime=Uu(t)}setStatus(t){return this._status=t,this}updateName(t){return this._name=t,this.setAttribute(jo,"custom"),this}end(t){this._endTime||(this._endTime=Uu(t),fL(this),this._onSpanEnded())}getSpanJSON(){return Ir({data:this._attributes,description:this._name,op:this._attributes[Ju],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:rT(this._status),timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[Ur],_metrics_summary:Hb(this),profile_id:this._attributes[QD],exclusive_time:this._attributes[W2],measurements:DC(this._events),is_segment:this._isStandaloneSpan&&Kr(this)===this||void 0,segment_id:this._isStandaloneSpan?Kr(this).spanContext().spanId:void 0})}isRecording(){return!this._endTime&&!!this._sampled}addEvent(t,n,r){At&&Ge.log("[Tracing] Adding an event to span:",t);const i=FC(n)?n:r||Si(),s=FC(n)?{}:n||{},o={name:t,time:Uu(i),attributes:s};return this._events.push(o),this}isStandaloneSpan(){return!!this._isStandaloneSpan}_onSpanEnded(){const t=tn();if(t&&t.emit("spanEnd",this),!(this._isStandaloneSpan||this===Kr(this)))return;if(this._isStandaloneSpan){this._sampled?DL(OL([this],t)):(At&&Ge.log("[Tracing] Discarding standalone span because its trace was not chosen to be sampled."),t&&t.recordDroppedEvent("sample_rate","span"));return}const r=this._convertSpanToTransaction();r&&(PC(this).scope||On()).captureEvent(r)}_convertSpanToTransaction(){if(!BC(pn(this)))return;this._name||(At&&Ge.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>");const{scope:t,isolationScope:n}=PC(this),i=(t||On()).getClient()||tn();if(this._sampled!==!0){At&&Ge.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled."),i&&i.recordDroppedEvent("sample_rate","transaction");return}const o=c0(this).filter(p=>p!==this&&!AL(p)).map(p=>pn(p)).filter(BC),a=this._attributes[jo];delete this._attributes[TC],o.forEach(p=>{p.data&&delete p.data[TC]});const l={contexts:{trace:rL(this)},spans:o.length>LC?o.sort((p,g)=>p.start_timestamp-g.start_timestamp).slice(0,LC):o,start_timestamp:this._startTime,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{capturedSpanScope:t,capturedSpanIsolationScope:n,...Ir({dynamicSamplingContext:lc(this)})},_metrics_summary:Hb(this),...a&&{transaction_info:{source:a}}},c=DC(this._events);return c&&Object.keys(c).length&&(At&&Ge.log("[Measurements] Adding measurements to transaction event",JSON.stringify(c,void 0,2)),l.measurements=c),l}}function FC(e){return e&&typeof e=="number"||e instanceof Date||Array.isArray(e)}function BC(e){return!!e.start_timestamp&&!!e.timestamp&&!!e.span_id&&!!e.trace_id}function AL(e){return e instanceof K2&&e.isStandaloneSpan()}function DL(e){const t=tn();if(!t)return;const n=e[1];if(!n||n.length===0){t.recordDroppedEvent("before_send","span");return}t.sendEnvelope(e)}const pT="__SENTRY_SUPPRESS_TRACING__";function Tp(e){const t=gT();if(t.startInactiveSpan)return t.startInactiveSpan(e);const n=FL(e),{forceTransaction:r,parentSpan:i}=e;return(e.scope?o=>H2(e.scope,o):i!==void 0?o=>mT(i,o):o=>o())(()=>{const o=On(),a=zL(o);return e.onlyIfParent&&!a?new of:LL({parentSpan:a,spanArguments:n,forceTransaction:r,scope:o})})}function mT(e,t){const n=gT();return n.withActiveSpan?n.withActiveSpan(e,t):H2(r=>(Xh(r,e||void 0),t(r)))}function LL({parentSpan:e,spanArguments:t,forceTransaction:n,scope:r}){if(!Tl())return new of;const i=ho();let s;if(e&&!n)s=BL(e,r,t),iT(e,s);else if(e){const o=lc(e),{traceId:a,spanId:l}=e.spanContext(),c=ac(e);s=zC({traceId:a,parentSpanId:l,...t},r,c),OC(s,o)}else{const{traceId:o,dsc:a,parentSpanId:l,sampled:c}={...i.getPropagationContext(),...r.getPropagationContext()};s=zC({traceId:o,parentSpanId:l,...t},r,c),a&&OC(s,a)}return dL(s),cL(s,r,i),s}function FL(e){const n={isStandalone:(e.experimental||{}).standalone,...e};if(e.startTime){const r={...n};return r.startTimestamp=Uu(e.startTime),delete r.startTime,r}return n}function gT(){const e=oc();return sf(e)}function zC(e,t,n){const r=tn(),i=r&&r.getOptions()||{},{name:s="",attributes:o}=e,[a,l]=t.getScopeData().sdkProcessingMetadata[pT]?[!1]:hL(i,{name:s,parentSampled:n,attributes:o,transactionContext:{name:s,parentSampled:n}}),c=new K2({...e,attributes:{[jo]:"custom",...e.attributes},sampled:a});return l!==void 0&&c.setAttribute(G7,l),r&&r.emit("spanStart",c),c}function BL(e,t,n){const{spanId:r,traceId:i}=e.spanContext(),s=t.getScopeData().sdkProcessingMetadata[pT]?!1:ac(e),o=s?new K2({...n,parentSpanId:r,traceId:i,sampled:s}):new of({traceId:i});iT(e,o);const a=tn();return a&&(a.emit("spanStart",o),n.endTimestamp&&a.emit("spanEnd",o)),o}function zL(e){const t=I0(e);if(!t)return;const n=tn();return(n?n.getOptions():{}).parentSpanIsAlwaysRootSpan?Kr(t):t}const d0={idleTimeout:1e3,finalTimeout:3e4,childSpanTimeout:15e3},$L="heartbeatFailed",UL="idleTimeout",HL="finalTimeout",WL="externalFinish";function yT(e,t={}){const n=new Map;let r=!1,i,s=WL,o=!t.disableAutoFinish;const a=[],{idleTimeout:l=d0.idleTimeout,finalTimeout:c=d0.finalTimeout,childSpanTimeout:f=d0.childSpanTimeout,beforeSpanEnd:p}=t,g=tn();if(!g||!Tl())return new of;const y=On(),b=Wr(),_=VL(e);_.end=new Proxy(_.end,{apply(P,N,B){p&&p(_);const[$,...D]=B,J=$||Si(),X=Uu(J),ie=c0(_).filter(Y=>Y!==_);if(!ie.length)return z(X),Reflect.apply(P,N,[X,...D]);const q=ie.map(Y=>pn(Y).timestamp).filter(Y=>!!Y),V=q.length?Math.max(...q):void 0,K=pn(_).start_timestamp,ne=Math.min(K?K+c/1e3:1/0,Math.max(K||-1/0,Math.min(X,V||1/0)));return z(ne),Reflect.apply(P,N,[ne,...D])}});function C(){i&&(clearTimeout(i),i=void 0)}function E(P){C(),i=setTimeout(()=>{!r&&n.size===0&&o&&(s=UL,_.end(P))},l)}function R(P){i=setTimeout(()=>{!r&&o&&(s=$L,_.end(P))},f)}function M(P){C(),n.set(P,!0);const N=Si();R(N+f/1e3)}function U(P){if(n.has(P)&&n.delete(P),n.size===0){const N=Si();E(N+l/1e3)}}function z(P){r=!0,n.clear(),a.forEach(X=>X()),Xh(y,b);const N=pn(_),{start_timestamp:B}=N;if(!B)return;(N.data||{})[Wb]||_.setAttribute(Wb,s),Ge.log(`[Tracing] Idle span "${N.op}" finished`);const D=c0(_).filter(X=>X!==_);let J=0;D.forEach(X=>{X.isRecording()&&(X.setStatus({code:Br,message:"cancelled"}),X.end(P),At&&Ge.log("[Tracing] Cancelling span since span ended early",JSON.stringify(X,void 0,2)));const ie=pn(X),{timestamp:q=0,start_timestamp:V=0}=ie,K=V<=P,ne=(c+l)/1e3,Y=q-V<=ne;if(At){const de=JSON.stringify(X,void 0,2);K?Y||Ge.log("[Tracing] Discarding span since it finished after idle span final timeout",de):Ge.log("[Tracing] Discarding span since it happened after idle span was finished",de)}(!Y||!K)&&(lL(_,X),J++)}),J>0&&_.setAttribute("sentry.idle_span_discarded_spans",J)}return a.push(g.on("spanStart",P=>{if(r||P===_||pn(P).timestamp)return;c0(_).includes(P)&&M(P.spanContext().spanId)})),a.push(g.on("spanEnd",P=>{r||U(P.spanContext().spanId)})),a.push(g.on("idleSpanEnableAutoFinish",P=>{P===_&&(o=!0,E(),n.size&&R())})),t.disableAutoFinish||E(),setTimeout(()=>{r||(_.setStatus({code:Br,message:"deadline_exceeded"}),s=HL,_.end())},c),_}function VL(e){const t=Tp(e);return Xh(On(),t),At&&Ge.log("[Tracing] Started span is an idle span"),t}function Gb(e,t,n,r=0){return new Ns((i,s)=>{const o=e[r];if(t===null||typeof o!="function")i(t);else{const a=o({...t},n);At&&o.id&&a===null&&Ge.log(`Event processor "${o.id}" dropped event`),Cy(a)?a.then(l=>Gb(e,l,n,r+1).then(i)).then(null,s):Gb(e,a,n,r+1).then(i).then(null,s)}})}let ag,$C,lg;function qL(e){const t=sn._sentryDebugIds;if(!t)return{};const n=Object.keys(t);return lg&&n.length===$C||($C=n.length,lg=n.reduce((r,i)=>{ag||(ag={});const s=ag[i];if(s)r[s[0]]=s[1];else{const o=e(i);for(let a=o.length-1;a>=0;a--){const l=o[a],c=l&&l.filename,f=t[i];if(c&&f){r[c]=f,ag[i]=[c,f];break}}}return r},{})),lg}function QL(e,t){const{fingerprint:n,span:r,breadcrumbs:i,sdkProcessingMetadata:s}=t;KL(e,t),r&&XL(e,r),JL(e,n),GL(e,i),YL(e,s)}function UC(e,t){const{extra:n,tags:r,user:i,contexts:s,level:o,sdkProcessingMetadata:a,breadcrumbs:l,fingerprint:c,eventProcessors:f,attachments:p,propagationContext:g,transactionName:y,span:b}=t;ug(e,"extra",n),ug(e,"tags",r),ug(e,"user",i),ug(e,"contexts",s),e.sdkProcessingMetadata=Ey(e.sdkProcessingMetadata,a,2),o&&(e.level=o),y&&(e.transactionName=y),b&&(e.span=b),l.length&&(e.breadcrumbs=[...e.breadcrumbs,...l]),c.length&&(e.fingerprint=[...e.fingerprint,...c]),f.length&&(e.eventProcessors=[...e.eventProcessors,...f]),p.length&&(e.attachments=[...e.attachments,...p]),e.propagationContext={...e.propagationContext,...g}}function ug(e,t,n){e[t]=Ey(e[t],n,1)}function KL(e,t){const{extra:n,tags:r,user:i,contexts:s,level:o,transactionName:a}=t,l=Ir(n);l&&Object.keys(l).length&&(e.extra={...l,...e.extra});const c=Ir(r);c&&Object.keys(c).length&&(e.tags={...c,...e.tags});const f=Ir(i);f&&Object.keys(f).length&&(e.user={...f,...e.user});const p=Ir(s);p&&Object.keys(p).length&&(e.contexts={...p,...e.contexts}),o&&(e.level=o),a&&e.type!=="transaction"&&(e.transaction=a)}function GL(e,t){const n=[...e.breadcrumbs||[],...t];e.breadcrumbs=n.length?n:void 0}function YL(e,t){e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...t}}function XL(e,t){e.contexts={trace:iL(t),...e.contexts},e.sdkProcessingMetadata={dynamicSamplingContext:lc(t),...e.sdkProcessingMetadata};const n=Kr(t),r=pn(n).description;r&&!e.transaction&&e.type==="transaction"&&(e.transaction=r)}function JL(e,t){e.fingerprint=e.fingerprint?Array.isArray(e.fingerprint)?e.fingerprint:[e.fingerprint]:[],t&&(e.fingerprint=e.fingerprint.concat(t)),e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint}function vT(e,t,n,r,i,s){const{normalizeDepth:o=3,normalizeMaxBreadth:a=1e3}=e,l={...t,event_id:t.event_id||n.event_id||us(),timestamp:t.timestamp||Ep()},c=n.integrations||e.integrations.map(C=>C.name);ZL(l,e),nF(l,c),i&&i.emit("applyFrameMetadata",t),t.type===void 0&&eF(l,e.stackParser);const f=iF(r,n.captureContext);n.mechanism&&zd(l,n.mechanism);const p=i?i.getEventProcessors():[],g=WD().getScopeData();if(s){const C=s.getScopeData();UC(g,C)}if(f){const C=f.getScopeData();UC(g,C)}const y=[...n.attachments||[],...g.attachments];y.length&&(n.attachments=y),QL(l,g);const b=[...p,...g.eventProcessors];return Gb(b,l,n).then(C=>(C&&tF(C),typeof o=="number"&&o>0?rF(C,o,a):C))}function ZL(e,t){const{environment:n,release:r,dist:i,maxValueLength:s=250}=t;e.environment=e.environment||n||q2,!e.release&&r&&(e.release=r),!e.dist&&i&&(e.dist=i),e.message&&(e.message=Od(e.message,s));const o=e.exception&&e.exception.values&&e.exception.values[0];o&&o.value&&(o.value=Od(o.value,s));const a=e.request;a&&a.url&&(a.url=Od(a.url,s))}function eF(e,t){const n=qL(t);try{e.exception.values.forEach(r=>{r.stacktrace.frames.forEach(i=>{n&&i.filename&&(i.debug_id=n[i.filename])})})}catch{}}function tF(e){const t={};try{e.exception.values.forEach(r=>{r.stacktrace.frames.forEach(i=>{i.debug_id&&(i.abs_path?t[i.abs_path]=i.debug_id:i.filename&&(t[i.filename]=i.debug_id),delete i.debug_id)})})}catch{}if(Object.keys(t).length===0)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];const n=e.debug_meta.images;Object.entries(t).forEach(([r,i])=>{n.push({type:"sourcemap",code_file:r,debug_id:i})})}function nF(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}function rF(e,t,n){if(!e)return null;const r={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map(i=>({...i,...i.data&&{data:Zs(i.data,t,n)}}))},...e.user&&{user:Zs(e.user,t,n)},...e.contexts&&{contexts:Zs(e.contexts,t,n)},...e.extra&&{extra:Zs(e.extra,t,n)}};return e.contexts&&e.contexts.trace&&r.contexts&&(r.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(r.contexts.trace.data=Zs(e.contexts.trace.data,t,n))),e.spans&&(r.spans=e.spans.map(i=>({...i,...i.data&&{data:Zs(i.data,t,n)}}))),e.contexts&&e.contexts.flags&&r.contexts&&(r.contexts.flags=Zs(e.contexts.flags,3,n)),r}function iF(e,t){if(!t)return e;const n=e?e.clone():new kl;return n.update(t),n}function sF(e){if(e)return oF(e)?{captureContext:e}:lF(e)?{captureContext:e}:e}function oF(e){return e instanceof kl||typeof e=="function"}const aF=["user","level","extra","contexts","tags","fingerprint","requestSession","propagationContext"];function lF(e){return Object.keys(e).some(t=>aF.includes(t))}function G2(e,t){return On().captureException(e,sF(t))}function xT(e,t){return On().captureEvent(e,t)}function bT(e,t){ho().setContext(e,t)}function uF(){const e=tn();return!!e&&e.getOptions().enabled!==!1&&!!e.getTransport()}function cF(e){ho().addEventProcessor(e)}function HC(e){const t=tn(),n=ho(),r=On(),{release:i,environment:s=q2}=t&&t.getOptions()||{},{userAgent:o}=sn.navigator||{},a=MD({release:i,environment:s,user:r.getUser()||n.getUser(),...o&&{userAgent:o},...e}),l=n.getSession();return l&&l.status==="ok"&&$d(l,{status:"exited"}),wT(),n.setSession(a),r.setSession(a),a}function wT(){const e=ho(),t=On(),n=t.getSession()||e.getSession();n&&AD(n),_T(),e.setSession(),t.setSession()}function _T(){const e=ho(),t=On(),n=tn(),r=t.getSession()||e.getSession();r&&n&&n.captureSession(r)}function WC(e=!1){if(e){wT();return}_T()}const dF="7";function fF(e){const t=e.protocol?`${e.protocol}:`:"",n=e.port?`:${e.port}`:"";return`${t}//${e.host}${n}${e.path?`/${e.path}`:""}/api/`}function hF(e){return`${fF(e)}${e.projectId}/envelope/`}function pF(e,t){const n={sentry_version:dF};return e.publicKey&&(n.sentry_key=e.publicKey),t&&(n.sentry_client=`${t.name}/${t.version}`),new URLSearchParams(n).toString()}function mF(e,t,n){return t||`${hF(e)}?${pF(e,n)}`}const VC=[];function gF(e){const t={};return e.forEach(n=>{const{name:r}=n,i=t[r];i&&!i.isDefaultInstance&&n.isDefaultInstance||(t[r]=n)}),Object.values(t)}function yF(e){const t=e.defaultIntegrations||[],n=e.integrations;t.forEach(o=>{o.isDefaultInstance=!0});let r;if(Array.isArray(n))r=[...t,...n];else if(typeof n=="function"){const o=n(t);r=Array.isArray(o)?o:[o]}else r=t;const i=gF(r),s=i.findIndex(o=>o.name==="Debug");if(s>-1){const[o]=i.splice(s,1);i.push(o)}return i}function vF(e,t){const n={};return t.forEach(r=>{r&&ST(e,r,n)}),n}function qC(e,t){for(const n of t)n&&n.afterAllSetup&&n.afterAllSetup(e)}function ST(e,t,n){if(n[t.name]){At&&Ge.log(`Integration skipped because it was already installed: ${t.name}`);return}if(n[t.name]=t,VC.indexOf(t.name)===-1&&typeof t.setupOnce=="function"&&(t.setupOnce(),VC.push(t.name)),t.setup&&typeof t.setup=="function"&&t.setup(e),typeof t.preprocessEvent=="function"){const r=t.preprocessEvent.bind(t);e.on("preprocessEvent",(i,s)=>r(i,s,e))}if(typeof t.processEvent=="function"){const r=t.processEvent.bind(t),i=Object.assign((s,o)=>r(s,o,e),{id:t.name});e.addEventProcessor(i)}At&&Ge.log(`Integration installed: ${t.name}`)}function xF(e,t,n){const r=[{type:"client_report"},{timestamp:Ep(),discarded_events:e}];return uc(t?{dsn:t}:{},[r])}class to extends Error{constructor(t,n="warn"){super(t),this.message=t,this.logLevel=n}}const QC="Not capturing exception because it's already been captured.";class bF{constructor(t){if(this._options=t,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],t.dsn?this._dsn=vL(t.dsn):At&&Ge.warn("No DSN provided, client will not send events."),this._dsn){const i=mF(this._dsn,t.tunnel,t._metadata?t._metadata.sdk:void 0);this._transport=t.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...t.transportOptions,url:i})}const r=["enableTracing","tracesSampleRate","tracesSampler"].find(i=>i in t&&t[i]==null);r&&Fl(()=>{console.warn(`[Sentry] Deprecation warning: \`${r}\` is set to undefined, which leads to tracing being enabled. In v9, a value of \`undefined\` will result in tracing being disabled.`)})}captureException(t,n,r){const i=us();if(EC(t))return At&&Ge.log(QC),i;const s={event_id:i,...n};return this._process(this.eventFromException(t,s).then(o=>this._captureEvent(o,s,r))),s.event_id}captureMessage(t,n,r,i){const s={event_id:us(),...r},o=B2(t)?t:String(t),a=z2(t)?this.eventFromMessage(o,n,s):this.eventFromException(t,s);return this._process(a.then(l=>this._captureEvent(l,s,i))),s.event_id}captureEvent(t,n,r){const i=us();if(n&&n.originalException&&EC(n.originalException))return At&&Ge.log(QC),i;const s={event_id:i,...n},a=(t.sdkProcessingMetadata||{}).capturedSpanScope;return this._process(this._captureEvent(t,s,a||r)),s.event_id}captureSession(t){typeof t.release!="string"?At&&Ge.warn("Discarded session because of missing or non-string release"):(this.sendSession(t),$d(t,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(t){const n=this._transport;return n?(this.emit("flush"),this._isClientDoneProcessing(t).then(r=>n.flush(t).then(i=>r&&i))):_a(!0)}close(t){return this.flush(t).then(n=>(this.getOptions().enabled=!1,this.emit("close"),n))}getEventProcessors(){return this._eventProcessors}addEventProcessor(t){this._eventProcessors.push(t)}init(){(this._isEnabled()||this._options.integrations.some(({name:t})=>t.startsWith("Spotlight")))&&this._setupIntegrations()}getIntegrationByName(t){return this._integrations[t]}addIntegration(t){const n=this._integrations[t.name];ST(this,t,this._integrations),n||qC(this,[t])}sendEvent(t,n={}){this.emit("beforeSendEvent",t,n);let r=PL(t,this._dsn,this._options._metadata,this._options.tunnel);for(const s of n.attachments||[])r=CL(r,jL(s));const i=this.sendEnvelope(r);i&&i.then(s=>this.emit("afterSendEvent",t,s),null)}sendSession(t){const n=RL(t,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(n)}recordDroppedEvent(t,n,r){if(this._options.sendClientReports){const i=typeof r=="number"?r:1,s=`${t}:${n}`;At&&Ge.log(`Recording outcome: "${s}"${i>1?` (${i} times)`:""}`),this._outcomes[s]=(this._outcomes[s]||0)+i}}on(t,n){const r=this._hooks[t]=this._hooks[t]||[];return r.push(n),()=>{const i=r.indexOf(n);i>-1&&r.splice(i,1)}}emit(t,...n){const r=this._hooks[t];r&&r.forEach(i=>i(...n))}sendEnvelope(t){return this.emit("beforeEnvelope",t),this._isEnabled()&&this._transport?this._transport.send(t).then(null,n=>(At&&Ge.error("Error while sending envelope:",n),n)):(At&&Ge.error("Transport disabled"),_a({}))}_setupIntegrations(){const{integrations:t}=this._options;this._integrations=vF(this,t),qC(this,t)}_updateSessionFromEvent(t,n){let r=n.level==="fatal",i=!1;const s=n.exception&&n.exception.values;if(s){i=!0;for(const l of s){const c=l.mechanism;if(c&&c.handled===!1){r=!0;break}}}const o=t.status==="ok";(o&&t.errors===0||o&&r)&&($d(t,{...r&&{status:"crashed"},errors:t.errors||Number(i||r)}),this.captureSession(t))}_isClientDoneProcessing(t){return new Ns(n=>{let r=0;const i=1,s=setInterval(()=>{this._numProcessing==0?(clearInterval(s),n(!0)):(r+=i,t&&r>=t&&(clearInterval(s),n(!1)))},i)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(t,n,r=On(),i=ho()){const s=this.getOptions(),o=Object.keys(this._integrations);return!n.integrations&&o.length>0&&(n.integrations=o),this.emit("preprocessEvent",t,n),t.type||i.setLastEventId(t.event_id||n.event_id),vT(s,t,n,r,this,i).then(a=>{if(a===null)return a;a.contexts={trace:VD(r),...a.contexts};const l=cT(this,r);return a.sdkProcessingMetadata={dynamicSamplingContext:l,...a.sdkProcessingMetadata},a})}_captureEvent(t,n={},r){return this._processEvent(t,n,r).then(i=>i.event_id,i=>{At&&(i instanceof to&&i.logLevel==="log"?Ge.log(i.message):Ge.warn(i))})}_processEvent(t,n,r){const i=this.getOptions(),{sampleRate:s}=i,o=ET(t),a=CT(t),l=t.type||"error",c=`before send for type \`${l}\``,f=typeof s>"u"?void 0:N0(s);if(a&&typeof f=="number"&&Math.random()>f)return this.recordDroppedEvent("sample_rate","error",t),j0(new to(`Discarding event because it's not included in the random sample (sampling rate = ${s})`,"log"));const p=l==="replay_event"?"replay":l,y=(t.sdkProcessingMetadata||{}).capturedSpanIsolationScope;return this._prepareEvent(t,n,r,y).then(b=>{if(b===null)throw this.recordDroppedEvent("event_processor",p,t),new to("An event processor returned `null`, will not send event.","log");if(n.data&&n.data.__sentry__===!0)return b;const C=_F(this,i,b,n);return wF(C,c)}).then(b=>{if(b===null){if(this.recordDroppedEvent("before_send",p,t),o){const R=1+(t.spans||[]).length;this.recordDroppedEvent("before_send","span",R)}throw new to(`${c} returned \`null\`, will not send event.`,"log")}const _=r&&r.getSession();if(!o&&_&&this._updateSessionFromEvent(_,b),o){const E=b.sdkProcessingMetadata&&b.sdkProcessingMetadata.spanCountBeforeProcessing||0,R=b.spans?b.spans.length:0,M=E-R;M>0&&this.recordDroppedEvent("before_send","span",M)}const C=b.transaction_info;if(o&&C&&b.transaction!==t.transaction){const E="custom";b.transaction_info={...C,source:E}}return this.sendEvent(b,n),b}).then(null,b=>{throw b instanceof to?b:(this.captureException(b,{data:{__sentry__:!0},originalException:b}),new to(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${b}`))})}_process(t){this._numProcessing++,t.then(n=>(this._numProcessing--,n),n=>(this._numProcessing--,n))}_clearOutcomes(){const t=this._outcomes;return this._outcomes={},Object.entries(t).map(([n,r])=>{const[i,s]=n.split(":");return{reason:i,category:s,quantity:r}})}_flushOutcomes(){At&&Ge.log("Flushing outcomes...");const t=this._clearOutcomes();if(t.length===0){At&&Ge.log("No outcomes to send");return}if(!this._dsn){At&&Ge.log("No dsn provided, will not send outcomes");return}At&&Ge.log("Sending outcomes:",t);const n=xF(t,this._options.tunnel&&kp(this._dsn));this.sendEnvelope(n)}}function wF(e,t){const n=`${t} must return \`null\` or a valid event.`;if(Cy(e))return e.then(r=>{if(!Bd(r)&&r!==null)throw new to(n);return r},r=>{throw new to(`${t} rejected with ${r}`)});if(!Bd(e)&&e!==null)throw new to(n);return e}function _F(e,t,n,r){const{beforeSend:i,beforeSendTransaction:s,beforeSendSpan:o}=t;if(CT(n)&&i)return i(n,r);if(ET(n)){if(n.spans&&o){const a=[];for(const l of n.spans){const c=o(l);c?a.push(c):(sT(),e.recordDroppedEvent("before_send","span"))}n.spans=a}if(s){if(n.spans){const a=n.spans.length;n.sdkProcessingMetadata={...n.sdkProcessingMetadata,spanCountBeforeProcessing:a}}return s(n,r)}}return n}function CT(e){return e.type===void 0}function ET(e){return e.type==="transaction"}function SF(e,t){t.debug===!0&&(At?Ge.enable():Fl(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})),On().update(t.initialScope);const r=new e(t);return CF(r),r.init(),r}function CF(e){On().setClient(e)}function EF(e){const t=[];function n(){return e===void 0||t.length<e}function r(o){return t.splice(t.indexOf(o),1)[0]||Promise.resolve(void 0)}function i(o){if(!n())return j0(new to("Not adding Promise because buffer limit was reached."));const a=o();return t.indexOf(a)===-1&&t.push(a),a.then(()=>r(a)).then(null,()=>r(a).then(null,()=>{})),a}function s(o){return new Ns((a,l)=>{let c=t.length;if(!c)return a(!0);const f=setTimeout(()=>{o&&o>0&&a(!1)},o);t.forEach(p=>{_a(p).then(()=>{--c||(clearTimeout(f),a(!0))},l)})})}return{$:t,add:i,drain:s}}const kF=60*1e3;function TF(e,t=Date.now()){const n=parseInt(`${e}`,10);if(!isNaN(n))return n*1e3;const r=Date.parse(`${e}`);return isNaN(r)?kF:r-t}function jF(e,t){return e[t]||e.all||0}function kT(e,t,n=Date.now()){return jF(e,t)>n}function TT(e,{statusCode:t,headers:n},r=Date.now()){const i={...e},s=n&&n["x-sentry-rate-limits"],o=n&&n["retry-after"];if(s)for(const a of s.trim().split(",")){const[l,c,,,f]=a.split(":",5),p=parseInt(l,10),g=(isNaN(p)?60:p)*1e3;if(!c)i.all=r+g;else for(const y of c.split(";"))y==="metric_bucket"?(!f||f.split(";").includes("custom"))&&(i[y]=r+g):i[y]=r+g}else o?i.all=r+TF(o,r):t===429&&(i.all=r+60*1e3);return i}const IF=64;function NF(e,t,n=EF(e.bufferSize||IF)){let r={};const i=o=>n.drain(o);function s(o){const a=[];if(MC(o,(p,g)=>{const y=AC(g);if(kT(r,y)){const b=KC(p,g);e.recordDroppedEvent("ratelimit_backoff",y,b)}else a.push(p)}),a.length===0)return _a({});const l=uc(o[0],a),c=p=>{MC(l,(g,y)=>{const b=KC(g,y);e.recordDroppedEvent(p,AC(y),b)})},f=()=>t({body:EL(l)}).then(p=>(p.statusCode!==void 0&&(p.statusCode<200||p.statusCode>=300)&&At&&Ge.warn(`Sentry responded with status code ${p.statusCode} to sent event.`),r=TT(r,p),p),p=>{throw c("network_error"),p});return n.add(f).then(p=>p,p=>{if(p instanceof to)return At&&Ge.error("Skipped sending event because buffer is full."),c("queue_overflow"),_a({});throw p})}return{send:s,flush:i}}function KC(e,t){if(!(t!=="event"&&t!=="transaction"))return Array.isArray(e)?e[1]:void 0}function RF(e,t){const n=t&&t.getDsn(),r=t&&t.getOptions().tunnel;return OF(e,n)||PF(e,r)}function PF(e,t){return t?GC(e)===GC(t):!1}function OF(e,t){return t?e.includes(t.host):!1}function GC(e){return e[e.length-1]==="/"?e.slice(0,-1):e}function jT(e,t,n=[t],r="npm"){const i=e._metadata||{};i.sdk||(i.sdk={name:`sentry.javascript.${t}`,packages:n.map(s=>({name:`${r}:@sentry/${s}`,version:$u})),version:$u}),e._metadata=i}function IT(e={}){const t=tn();if(!uF()||!t)return{};const n=oc(),r=sf(n);if(r.getTraceData)return r.getTraceData(e);const i=On(),s=e.span||Wr(),o=s?sL(s):MF(i),a=s?lc(s):cT(t,i),l=JD(a);return Z7.test(o)?{"sentry-trace":o,baggage:l}:(Ge.warn("Invalid sentry-trace data. Cannot generate trace data"),{})}function MF(e){const{traceId:t,sampled:n,spanId:r}=e.getPropagationContext();return eT(t,r,n)}const AF=100;function jl(e,t){const n=tn(),r=ho();if(!n)return;const{beforeBreadcrumb:i=null,maxBreadcrumbs:s=AF}=n.getOptions();if(s<=0)return;const a={timestamp:Ep(),...e},l=i?Fl(()=>i(a,t)):a;l!==null&&(n.emit&&n.emit("beforeAddBreadcrumb",l,t),r.addBreadcrumb(l,s))}let YC;const DF="FunctionToString",XC=new WeakMap,LF=()=>({name:DF,setupOnce(){YC=Function.prototype.toString;try{Function.prototype.toString=function(...e){const t=$2(this),n=XC.has(tn())&&t!==void 0?t:this;return YC.apply(n,e)}}catch{}},setup(e){XC.set(e,!0)}}),FF=LF,BF=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,"undefined is not an object (evaluating 'a.L')",`can't redefine non-configurable property "solana"`,"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler",/^Non-Error promise rejection captured with value: Object Not Found Matching Id:\d+, MethodName:simulateEvent, ParamCount:\d+$/],zF="InboundFilters",$F=(e={})=>({name:zF,processEvent(t,n,r){const i=r.getOptions(),s=HF(e,i);return WF(t,s)?null:t}}),UF=$F;function HF(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...e.disableErrorDefaults?[]:BF],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[]],ignoreInternal:e.ignoreInternal!==void 0?e.ignoreInternal:!0}}function WF(e,t){return t.ignoreInternal&&YF(e)?(At&&Ge.warn(`Event dropped due to being internal Sentry Error.
Event: ${ol(e)}`),!0):VF(e,t.ignoreErrors)?(At&&Ge.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${ol(e)}`),!0):JF(e)?(At&&Ge.warn(`Event dropped due to not having an error message, error type or stacktrace.
Event: ${ol(e)}`),!0):qF(e,t.ignoreTransactions)?(At&&Ge.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${ol(e)}`),!0):QF(e,t.denyUrls)?(At&&Ge.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${ol(e)}.
Url: ${R0(e)}`),!0):KF(e,t.allowUrls)?!1:(At&&Ge.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${ol(e)}.
Url: ${R0(e)}`),!0)}function VF(e,t){return e.type||!t||!t.length?!1:GF(e).some(n=>bl(n,t))}function qF(e,t){if(e.type!=="transaction"||!t||!t.length)return!1;const n=e.transaction;return n?bl(n,t):!1}function QF(e,t){if(!t||!t.length)return!1;const n=R0(e);return n?bl(n,t):!1}function KF(e,t){if(!t||!t.length)return!0;const n=R0(e);return n?bl(n,t):!0}function GF(e){const t=[];e.message&&t.push(e.message);let n;try{n=e.exception.values[e.exception.values.length-1]}catch{}return n&&n.value&&(t.push(n.value),n.type&&t.push(`${n.type}: ${n.value}`)),t}function YF(e){try{return e.exception.values[0].type==="SentryError"}catch{}return!1}function XF(e=[]){for(let t=e.length-1;t>=0;t--){const n=e[t];if(n&&n.filename!=="<anonymous>"&&n.filename!=="[native code]")return n.filename||null}return null}function R0(e){try{let t;try{t=e.exception.values[0].stacktrace.frames}catch{}return t?XF(t):null}catch{return At&&Ge.error(`Cannot extract url for event ${ol(e)}`),null}}function JF(e){return e.type||!e.exception||!e.exception.values||e.exception.values.length===0?!1:!e.message&&!e.exception.values.some(t=>t.stacktrace||t.type&&t.type!=="Error"||t.value)}function ZF(e,t,n=250,r,i,s,o){if(!s.exception||!s.exception.values||!o||!ba(o.originalException,Error))return;const a=s.exception.values.length>0?s.exception.values[s.exception.values.length-1]:void 0;a&&(s.exception.values=eB(Yb(e,t,i,o.originalException,r,s.exception.values,a,0),n))}function Yb(e,t,n,r,i,s,o,a){if(s.length>=n+1)return s;let l=[...s];if(ba(r[i],Error)){JC(o,a);const c=e(t,r[i]),f=l.length;ZC(c,i,f,a),l=Yb(e,t,n,r[i],i,[c,...l],c,f)}return Array.isArray(r.errors)&&r.errors.forEach((c,f)=>{if(ba(c,Error)){JC(o,a);const p=e(t,c),g=l.length;ZC(p,`errors[${f}]`,g,a),l=Yb(e,t,n,c,i,[p,...l],p,g)}}),l}function JC(e,t){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,...e.type==="AggregateError"&&{is_exception_group:!0},exception_id:t}}function ZC(e,t,n,r){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,type:"chained",source:t,exception_id:n,parent_id:r}}function eB(e,t){return e.map(n=>(n.value&&(n.value=Od(n.value,t)),n))}function Wu(e){if(!e)return{};const t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};const n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:n,hash:r,relative:t[5]+n+r}}function tB(e){const t="console";Bl(t,e),zl(t,nB)}function nB(){"console"in sn&&Bb.forEach(function(e){e in sn.console&&$i(sn.console,e,function(t){return T0[e]=t,function(...n){Ps("console",{args:n,level:e});const i=T0[e];i&&i.apply(sn.console,n)}})})}function NT(e){return e==="warn"?"warning":["fatal","error","warning","log","info","debug"].includes(e)?e:"log"}const rB="Dedupe",iB=()=>{let e;return{name:rB,processEvent(t){if(t.type)return t;try{if(oB(t,e))return At&&Ge.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return e=t}}},sB=iB;function oB(e,t){return t?!!(aB(e,t)||lB(e,t)):!1}function aB(e,t){const n=e.message,r=t.message;return!(!n&&!r||n&&!r||!n&&r||n!==r||!PT(e,t)||!RT(e,t))}function lB(e,t){const n=eE(t),r=eE(e);return!(!n||!r||n.type!==r.type||n.value!==r.value||!PT(e,t)||!RT(e,t))}function RT(e,t){let n=xC(e),r=xC(t);if(!n&&!r)return!0;if(n&&!r||!n&&r||(n=n,r=r,r.length!==n.length))return!1;for(let i=0;i<r.length;i++){const s=r[i],o=n[i];if(s.filename!==o.filename||s.lineno!==o.lineno||s.colno!==o.colno||s.function!==o.function)return!1}return!0}function PT(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;n=n,r=r;try{return n.join("")===r.join("")}catch{return!1}}function eE(e){return e.exception&&e.exception.values&&e.exception.values[0]}function uB(e,t,n,r,i="auto.http.browser"){if(!e.fetchData)return;const s=Tl()&&t(e.fetchData.url);if(e.endTimestamp&&s){const g=e.fetchData.__span;if(!g)return;const y=r[g];y&&(fB(y,e),delete r[g]);return}const{method:o,url:a}=e.fetchData,l=dB(a),c=l?Wu(l).host:void 0,f=!!Wr(),p=s&&f?Tp({name:`${o} ${a}`,attributes:{url:a,type:"fetch","http.method":o,"http.url":l,"server.address":c,[Ur]:i,[Ju]:"http.client"}}):new of;if(e.fetchData.__span=p.spanContext().spanId,r[p.spanContext().spanId]=p,n(e.fetchData.url)){const g=e.args[0],y=e.args[1]||{},b=cB(g,y,Tl()&&f?p:void 0);b&&(e.args[1]=y,y.headers=b)}return p}function cB(e,t,n){const r=IT({span:n}),i=r["sentry-trace"],s=r.baggage;if(!i)return;const o=t.headers||(hB(e)?e.headers:void 0);if(o)if(pB(o)){const a=new Headers(o);if(a.set("sentry-trace",i),s){const l=a.get("baggage");if(l){const c=cg(l);a.set("baggage",c?`${c},${s}`:s)}else a.set("baggage",s)}return a}else if(Array.isArray(o)){const a=[...o.filter(l=>!(Array.isArray(l)&&l[0]==="sentry-trace")).map(l=>{if(Array.isArray(l)&&l[0]==="baggage"&&typeof l[1]=="string"){const[c,f,...p]=l;return[c,cg(f),...p]}else return l}),["sentry-trace",i]];return s&&a.push(["baggage",s]),a}else{const a="baggage"in o?o.baggage:void 0;let l=[];return Array.isArray(a)?l=a.map(c=>typeof c=="string"?cg(c):c).filter(c=>c===""):a&&l.push(cg(a)),s&&l.push(s),{...o,"sentry-trace":i,baggage:l.length>0?l.join(","):void 0}}else return{...r}}function dB(e){try{return new URL(e).href}catch{return}}function fB(e,t){if(t.response){X7(e,t.response.status);const n=t.response&&t.response.headers&&t.response.headers.get("content-length");if(n){const r=parseInt(n);r>0&&e.setAttribute("http.response_content_length",r)}}else t.error&&e.setStatus({code:Br,message:"internal_error"});e.end()}function cg(e){return e.split(",").filter(t=>!t.split("=")[0].startsWith(V2)).join(",")}function hB(e){return typeof Request<"u"&&ba(e,Request)}function pB(e){return typeof Headers<"u"&&ba(e,Headers)}function OT(e){if(e!==void 0)return e>=400&&e<500?"warning":e>=500?"error":void 0}const Xb=sn;function MT(){if(!("fetch"in Xb))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}function Jb(e){return e&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function mB(){if(typeof EdgeRuntime=="string")return!0;if(!MT())return!1;if(Jb(Xb.fetch))return!0;let e=!1;const t=Xb.document;if(t&&typeof t.createElement=="function")try{const n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(e=Jb(n.contentWindow.fetch)),t.head.removeChild(n)}catch(n){Ll&&Ge.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return e}function AT(e,t){const n="fetch";Bl(n,e),zl(n,()=>DT(void 0,t))}function gB(e){const t="fetch-body-resolved";Bl(t,e),zl(t,()=>DT(vB))}function DT(e,t=!1){t&&!mB()||$i(sn,"fetch",function(n){return function(...r){const i=new Error,{method:s,url:o}=xB(r),a={args:r,fetchData:{method:s,url:o},startTimestamp:Si()*1e3,virtualError:i};return e||Ps("fetch",{...a}),n.apply(sn,r).then(async l=>(e?e(l):Ps("fetch",{...a,endTimestamp:Si()*1e3,response:l}),l),l=>{throw Ps("fetch",{...a,endTimestamp:Si()*1e3,error:l}),F2(l)&&l.stack===void 0&&(l.stack=i.stack,Ms(l,"framesToPop",1)),l})}})}async function yB(e,t){if(e&&e.body){const n=e.body,r=n.getReader(),i=setTimeout(()=>{n.cancel().then(null,()=>{})},90*1e3);let s=!0;for(;s;){let o;try{o=setTimeout(()=>{n.cancel().then(null,()=>{})},5e3);const{done:a}=await r.read();clearTimeout(o),a&&(t(),s=!1)}catch{s=!1}finally{clearTimeout(o)}}clearTimeout(i),r.releaseLock(),n.cancel().then(null,()=>{})}}function vB(e){let t;try{t=e.clone()}catch{return}yB(t,()=>{Ps("fetch-body-resolved",{endTimestamp:Si()*1e3,response:e})})}function Zb(e,t){return!!e&&typeof e=="object"&&!!e[t]}function tE(e){return typeof e=="string"?e:e?Zb(e,"url")?e.url:e.toString?e.toString():"":""}function xB(e){if(e.length===0)return{method:"GET",url:""};if(e.length===2){const[n,r]=e;return{url:tE(n),method:Zb(r,"method")?String(r.method).toUpperCase():"GET"}}const t=e[0];return{url:tE(t),method:Zb(t,"method")?String(t.method).toUpperCase():"GET"}}function bB(){return typeof __SENTRY_BROWSER_BUNDLE__<"u"&&!!__SENTRY_BROWSER_BUNDLE__}function wB(){return"npm"}function _B(){return!bB()&&Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]"}function nE(){return typeof window<"u"&&(!_B()||SB())}function SB(){const e=sn.process;return!!e&&e.type==="renderer"}const dg=sn;function CB(){const e=dg.chrome,t=e&&e.app&&e.app.runtime,n="history"in dg&&!!dg.history.pushState&&!!dg.history.replaceState;return!t&&n}function EB(e,t){return e??t()}function f0(e){let t,n=e[0],r=1;for(;r<e.length;){const i=e[r],s=e[r+1];if(r+=2,(i==="optionalAccess"||i==="optionalCall")&&n==null)return;i==="access"||i==="optionalAccess"?(t=n,n=s(n)):(i==="call"||i==="optionalCall")&&(n=s((...o)=>n.call(t,...o)),t=void 0)}return n}const Pt=sn;let ew=0;function LT(){return ew>0}function kB(){ew++,setTimeout(()=>{ew--})}function Hd(e,t={}){function n(i){return typeof i=="function"}if(!n(e))return e;try{const i=e.__sentry_wrapped__;if(i)return typeof i=="function"?i:e;if($2(e))return e}catch{return e}const r=function(...i){try{const s=i.map(o=>Hd(o,t));return e.apply(this,s)}catch(s){throw kB(),H2(o=>{o.addEventProcessor(a=>(t.mechanism&&($b(a,void 0),zd(a,t.mechanism)),a.extra={...a.extra,arguments:i},a)),G2(s)}),s}};try{for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}catch{}V7(r,e),Ms(e,"__sentry_wrapped__",r);try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get(){return e.name}})}catch{}return r}const Mo=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function Y2(e,t){const n=X2(e,t),r={type:RB(t),value:PB(t)};return n.length&&(r.stacktrace={frames:n}),r.type===void 0&&r.value===""&&(r.value="Unrecoverable error caught"),r}function TB(e,t,n,r){const i=tn(),s=i&&i.getOptions().normalizeDepth,o=LB(t),a={__serialized__:fT(t,s)};if(o)return{exception:{values:[Y2(e,o)]},extra:a};const l={exception:{values:[{type:Sy(t)?t.constructor.name:r?"UnhandledRejection":"Error",value:AB(t,{isUnhandledRejection:r})}]},extra:a};if(n){const c=X2(e,n);c.length&&(l.exception.values[0].stacktrace={frames:c})}return l}function lx(e,t){return{exception:{values:[Y2(e,t)]}}}function X2(e,t){const n=t.stacktrace||t.stack||"",r=IB(t),i=NB(t);try{return e(n,r,i)}catch{}return[]}const jB=/Minified React error #\d+;/i;function IB(e){return e&&jB.test(e.message)?1:0}function NB(e){return typeof e.framesToPop=="number"?e.framesToPop:0}function FT(e){return typeof WebAssembly<"u"&&typeof WebAssembly.Exception<"u"?e instanceof WebAssembly.Exception:!1}function RB(e){const t=e&&e.name;return!t&&FT(e)?e.message&&Array.isArray(e.message)&&e.message.length==2?e.message[0]:"WebAssembly.Exception":t}function PB(e){const t=e&&e.message;return t?t.error&&typeof t.error.message=="string"?t.error.message:FT(e)&&Array.isArray(e.message)&&e.message.length==2?e.message[1]:t:"No error message"}function OB(e,t,n,r){const i=n&&n.syntheticException||void 0,s=J2(e,t,i,r);return zd(s),s.level="error",n&&n.event_id&&(s.event_id=n.event_id),_a(s)}function MB(e,t,n="info",r,i){const s=r&&r.syntheticException||void 0,o=tw(e,t,s,i);return o.level=n,r&&r.event_id&&(o.event_id=r.event_id),_a(o)}function J2(e,t,n,r,i){let s;if($7(t)&&t.error)return lx(e,t.error);if(wC(t)||_D(t)){const o=t;if("stack"in t)s=lx(e,t);else{const a=o.name||(wC(o)?"DOMError":"DOMException"),l=o.message?`${a}: ${o.message}`:a;s=tw(e,l,n,r),$b(s,l)}return"code"in o&&(s.tags={...s.tags,"DOMException.code":`${o.code}`}),s}return F2(t)?lx(e,t):Bd(t)||Sy(t)?(s=TB(e,t,n,i),zd(s,{synthetic:!0}),s):(s=tw(e,t,n,r),$b(s,`${t}`),zd(s,{synthetic:!0}),s)}function tw(e,t,n,r){const i={};if(r&&n){const s=X2(e,n);s.length&&(i.exception={values:[{value:t,stacktrace:{frames:s}}]}),zd(i,{synthetic:!0})}if(B2(t)){const{__sentry_template_string__:s,__sentry_template_values__:o}=t;return i.logentry={message:s,params:o},i}return i.message=t,i}function AB(e,{isUnhandledRejection:t}){const n=ND(e),r=t?"promise rejection":"exception";return $7(e)?`Event \`ErrorEvent\` captured as ${r} with message \`${e.message}\``:Sy(e)?`Event \`${DB(e)}\` (type=${e.type}) captured as ${r}`:`Object captured as ${r} with keys: ${n}`}function DB(e){try{const t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch{}}function LB(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)){const n=e[t];if(n instanceof Error)return n}}function FB(e,{metadata:t,tunnel:n,dsn:r}){const i={event_id:e.event_id,sent_at:new Date().toISOString(),...t&&t.sdk&&{sdk:{name:t.sdk.name,version:t.sdk.version}},...!!n&&!!r&&{dsn:kp(r)}},s=BB(e);return uc(i,[s])}function BB(e){return[{type:"user_report"},e]}class zB extends bF{constructor(t){const n={parentSpanIsAlwaysRootSpan:!0,...t},r=Pt.SENTRY_SDK_SOURCE||wB();jT(n,"browser",["browser"],r),super(n),n.sendClientReports&&Pt.document&&Pt.document.addEventListener("visibilitychange",()=>{Pt.document.visibilityState==="hidden"&&this._flushOutcomes()})}eventFromException(t,n){return OB(this._options.stackParser,t,n,this._options.attachStacktrace)}eventFromMessage(t,n="info",r){return MB(this._options.stackParser,t,n,r,this._options.attachStacktrace)}captureUserFeedback(t){if(!this._isEnabled()){Mo&&Ge.warn("SDK not enabled, will not capture user feedback.");return}const n=FB(t,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this.sendEnvelope(n)}_prepareEvent(t,n,r){return t.platform=t.platform||"javascript",super._prepareEvent(t,n,r)}}const Z2=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,$B=(e,t)=>e>t[1]?"poor":e>t[0]?"needs-improvement":"good",af=(e,t,n,r)=>{let i,s;return o=>{t.value>=0&&(o||r)&&(s=t.value-(i||0),(s||i===void 0)&&(i=t.value,t.delta=s,t.rating=$B(t.value,n),e(t)))}},yt=sn,UB=()=>`v4-${Date.now()}-${Math.floor(Math.random()*(9e12-1))+1e12}`,jp=(e=!0)=>{const t=yt.performance&&yt.performance.getEntriesByType&&yt.performance.getEntriesByType("navigation")[0];if(!e||t&&t.responseStart>0&&t.responseStart<performance.now())return t},Ip=()=>{const e=jp();return e&&e.activationStart||0},lf=(e,t)=>{const n=jp();let r="navigate";return n&&(yt.document&&yt.document.prerendering||Ip()>0?r="prerender":yt.document&&yt.document.wasDiscarded?r="restore":n.type&&(r=n.type.replace(/_/g,"-"))),{name:e,value:typeof t>"u"?-1:t,rating:"good",delta:0,entries:[],id:UB(),navigationType:r}},cc=(e,t,n)=>{try{if(PerformanceObserver.supportedEntryTypes.includes(e)){const r=new PerformanceObserver(i=>{Promise.resolve().then(()=>{t(i.getEntries())})});return r.observe(Object.assign({type:e,buffered:!0},n||{})),r}}catch{}},uf=e=>{const t=n=>{(n.type==="pagehide"||yt.document&&yt.document.visibilityState==="hidden")&&e(n)};yt.document&&(addEventListener("visibilitychange",t,!0),addEventListener("pagehide",t,!0))},jy=e=>{let t=!1;return()=>{t||(e(),t=!0)}};let Ph=-1;const HB=()=>yt.document.visibilityState==="hidden"&&!yt.document.prerendering?0:1/0,P0=e=>{yt.document.visibilityState==="hidden"&&Ph>-1&&(Ph=e.type==="visibilitychange"?e.timeStamp:0,VB())},WB=()=>{addEventListener("visibilitychange",P0,!0),addEventListener("prerenderingchange",P0,!0)},VB=()=>{removeEventListener("visibilitychange",P0,!0),removeEventListener("prerenderingchange",P0,!0)},Iy=()=>(yt.document&&Ph<0&&(Ph=HB(),WB()),{get firstHiddenTime(){return Ph}}),Np=e=>{yt.document&&yt.document.prerendering?addEventListener("prerenderingchange",()=>e(),!0):e()},qB=[1800,3e3],QB=(e,t={})=>{Np(()=>{const n=Iy(),r=lf("FCP");let i;const o=cc("paint",a=>{a.forEach(l=>{l.name==="first-contentful-paint"&&(o.disconnect(),l.startTime<n.firstHiddenTime&&(r.value=Math.max(l.startTime-Ip(),0),r.entries.push(l),i(!0)))})});o&&(i=af(e,r,qB,t.reportAllChanges))})},KB=[.1,.25],GB=(e,t={})=>{QB(jy(()=>{const n=lf("CLS",0);let r,i=0,s=[];const o=l=>{l.forEach(c=>{if(!c.hadRecentInput){const f=s[0],p=s[s.length-1];i&&f&&p&&c.startTime-p.startTime<1e3&&c.startTime-f.startTime<5e3?(i+=c.value,s.push(c)):(i=c.value,s=[c])}}),i>n.value&&(n.value=i,n.entries=s,r())},a=cc("layout-shift",o);a&&(r=af(e,n,KB,t.reportAllChanges),uf(()=>{o(a.takeRecords()),r(!0)}),setTimeout(r,0))}))},YB=[100,300],XB=(e,t={})=>{Np(()=>{const n=Iy(),r=lf("FID");let i;const s=l=>{l.startTime<n.firstHiddenTime&&(r.value=l.processingStart-l.startTime,r.entries.push(l),i(!0))},o=l=>{l.forEach(s)},a=cc("first-input",o);i=af(e,r,YB,t.reportAllChanges),a&&uf(jy(()=>{o(a.takeRecords()),a.disconnect()}))})};let BT=0,ux=1/0,fg=0;const JB=e=>{e.forEach(t=>{t.interactionId&&(ux=Math.min(ux,t.interactionId),fg=Math.max(fg,t.interactionId),BT=fg?(fg-ux)/7+1:0)})};let nw;const ZB=()=>nw?BT:performance.interactionCount||0,ez=()=>{"interactionCount"in performance||nw||(nw=cc("event",JB,{type:"event",buffered:!0,durationThreshold:0}))},la=[],cx=new Map,tz=40;let nz=0;const rz=()=>ZB()-nz,iz=()=>{const e=Math.min(la.length-1,Math.floor(rz()/50));return la[e]},dx=10,sz=[],oz=e=>{if(sz.forEach(r=>r(e)),!(e.interactionId||e.entryType==="first-input"))return;const t=la[la.length-1],n=cx.get(e.interactionId);if(n||la.length<dx||t&&e.duration>t.latency){if(n)e.duration>n.latency?(n.entries=[e],n.latency=e.duration):e.duration===n.latency&&e.startTime===(n.entries[0]&&n.entries[0].startTime)&&n.entries.push(e);else{const r={id:e.interactionId,latency:e.duration,entries:[e]};cx.set(r.id,r),la.push(r)}la.sort((r,i)=>i.latency-r.latency),la.length>dx&&la.splice(dx).forEach(r=>cx.delete(r.id))}},zT=e=>{const t=yt.requestIdleCallback||yt.setTimeout;let n=-1;return e=jy(e),yt.document&&yt.document.visibilityState==="hidden"?e():(n=t(e),uf(e)),n},az=[200,500],lz=(e,t={})=>{"PerformanceEventTiming"in yt&&"interactionId"in PerformanceEventTiming.prototype&&Np(()=>{ez();const n=lf("INP");let r;const i=o=>{zT(()=>{o.forEach(oz);const a=iz();a&&a.latency!==n.value&&(n.value=a.latency,n.entries=a.entries,r())})},s=cc("event",i,{durationThreshold:t.durationThreshold!=null?t.durationThreshold:tz});r=af(e,n,az,t.reportAllChanges),s&&(s.observe({type:"first-input",buffered:!0}),uf(()=>{i(s.takeRecords()),r(!0)}))})},uz=[2500,4e3],rE={},cz=(e,t={})=>{Np(()=>{const n=Iy(),r=lf("LCP");let i;const s=a=>{t.reportAllChanges||(a=a.slice(-1)),a.forEach(l=>{l.startTime<n.firstHiddenTime&&(r.value=Math.max(l.startTime-Ip(),0),r.entries=[l],i())})},o=cc("largest-contentful-paint",s);if(o){i=af(e,r,uz,t.reportAllChanges);const a=jy(()=>{rE[r.id]||(s(o.takeRecords()),o.disconnect(),rE[r.id]=!0,i(!0))});["keydown","click"].forEach(l=>{yt.document&&addEventListener(l,()=>zT(a),{once:!0,capture:!0})}),uf(a)}})},dz=[800,1800],rw=e=>{yt.document&&yt.document.prerendering?Np(()=>rw(e)):yt.document&&yt.document.readyState!=="complete"?addEventListener("load",()=>rw(e),!0):setTimeout(e,0)},fz=(e,t={})=>{const n=lf("TTFB"),r=af(e,n,dz,t.reportAllChanges);rw(()=>{const i=jp();i&&(n.value=Math.max(i.responseStart-Ip(),0),n.entries=[i],r(!0))})},Oh={},O0={};let $T,UT,HT,WT,VT;function e_(e,t=!1){return Rp("cls",e,pz,$T,t)}function qT(e,t=!1){return Rp("lcp",e,gz,HT,t)}function QT(e){return Rp("fid",e,mz,UT)}function hz(e){return Rp("ttfb",e,yz,WT)}function KT(e){return Rp("inp",e,vz,VT)}function Wd(e,t){return GT(e,t),O0[e]||(xz(e),O0[e]=!0),YT(e,t)}function cf(e,t){const n=Oh[e];if(!(!n||!n.length))for(const r of n)try{r(t)}catch(i){Z2&&Ge.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${xa(r)}
Error:`,i)}}function pz(){return GB(e=>{cf("cls",{metric:e}),$T=e},{reportAllChanges:!0})}function mz(){return XB(e=>{cf("fid",{metric:e}),UT=e})}function gz(){return cz(e=>{cf("lcp",{metric:e}),HT=e},{reportAllChanges:!0})}function yz(){return fz(e=>{cf("ttfb",{metric:e}),WT=e})}function vz(){return lz(e=>{cf("inp",{metric:e}),VT=e})}function Rp(e,t,n,r,i=!1){GT(e,t);let s;return O0[e]||(s=n(),O0[e]=!0),r&&t({metric:r}),YT(e,t,i?s:void 0)}function xz(e){const t={};e==="event"&&(t.durationThreshold=0),cc(e,n=>{cf(e,{entries:n})},t)}function GT(e,t){Oh[e]=Oh[e]||[],Oh[e].push(t)}function YT(e,t,n){return()=>{n&&n();const r=Oh[e];if(!r)return;const i=r.indexOf(t);i!==-1&&r.splice(i,1)}}function bz(e){return"duration"in e}function fx(e){return typeof e=="number"&&isFinite(e)}function Sa(e,t,n,{...r}){const i=pn(e).start_timestamp;return i&&i>t&&typeof e.updateStartTime=="function"&&e.updateStartTime(t),mT(e,()=>{const s=Tp({startTime:t,...r});return s&&s.end(n),s})}function XT(e){const t=tn();if(!t)return;const{name:n,transaction:r,attributes:i,startTime:s}=e,{release:o,environment:a}=t.getOptions(),l=t.getIntegrationByName("Replay"),c=l&&l.getReplayId(),f=On(),p=f.getUser(),g=p!==void 0?p.email||p.id||p.ip_address:void 0;let y;try{y=f.getScopeData().contexts.profile.profile_id}catch{}const b={release:o,environment:a,user:g||void 0,profile_id:y||void 0,replay_id:c||void 0,transaction:r,"user_agent.original":yt.navigator&&yt.navigator.userAgent,...i};return Tp({name:n,attributes:b,startTime:s,experimental:{standalone:!0}})}function t_(){return yt&&yt.addEventListener&&yt.performance}function dr(e){return e/1e3}function JT(e){let t="unknown",n="unknown",r="";for(const i of e){if(i==="/"){[t,n]=e.split("/");break}if(!isNaN(Number(i))){t=r==="h"?"http":r,n=e.split(r)[1];break}r+=i}return r===e&&(t=r),{name:t,version:n}}function wz(){let e=0,t,n;if(!Sz())return;let r=!1;function i(){r||(r=!0,n&&_z(e,t,n),s())}const s=e_(({metric:o})=>{const a=o.entries[o.entries.length-1];a&&(e=o.value,t=a)},!0);uf(()=>{i()}),setTimeout(()=>{const o=tn();if(!o)return;const a=o.on("startNavigationSpan",()=>{i(),a&&a()}),l=Wr(),c=l&&Kr(l),f=c&&pn(c);f&&f.op==="pageload"&&(n=c.spanContext().spanId)},0)}function _z(e,t,n){Z2&&Ge.log(`Sending CLS span (${e})`);const r=dr((Ci||0)+(t&&t.startTime||0)),i=On().getScopeData().transactionName,s=t?wa(t.sources[0]&&t.sources[0].node):"Layout shift",o=Ir({[Ur]:"auto.http.browser.cls",[Ju]:"ui.webvital.cls",[W2]:t&&t.duration||0,"sentry.pageload.span_id":n}),a=XT({name:s,transaction:i,attributes:o,startTime:r});a&&(a.addEvent("cls",{[ky]:"",[Ty]:e}),a.end(r))}function Sz(){try{return PerformanceObserver.supportedEntryTypes.includes("layout-shift")}catch{return!1}}const Cz=2147483647;let iE=0,Qr={},Fi,Mh;function Ez({recordClsStandaloneSpans:e}){const t=t_();if(t&&Ci){t.mark&&yt.performance.mark("sentry-tracing-init");const n=Rz(),r=Nz(),i=Pz(),s=e?wz():Iz();return()=>{n(),r(),i(),s&&s()}}return()=>{}}function kz(){Wd("longtask",({entries:e})=>{const t=Wr();if(!t)return;const{op:n,start_timestamp:r}=pn(t);for(const i of e){const s=dr(Ci+i.startTime),o=dr(i.duration);n==="navigation"&&r&&s<r||Sa(t,s,s+o,{name:"Main UI thread blocked",op:"ui.long-task",attributes:{[Ur]:"auto.ui.browser.metrics"}})}})}function Tz(){new PerformanceObserver(t=>{const n=Wr();if(n)for(const r of t.getEntries()){if(!r.scripts[0])continue;const i=dr(Ci+r.startTime),{start_timestamp:s,op:o}=pn(n);if(o==="navigation"&&s&&i<s)continue;const a=dr(r.duration),l={[Ur]:"auto.ui.browser.metrics"},c=r.scripts[0],{invoker:f,invokerType:p,sourceURL:g,sourceFunctionName:y,sourceCharPosition:b}=c;l["browser.script.invoker"]=f,l["browser.script.invoker_type"]=p,g&&(l["code.filepath"]=g),y&&(l["code.function"]=y),b!==-1&&(l["browser.script.source_char_position"]=b),Sa(n,i,i+a,{name:"Main UI thread blocked",op:"ui.long-animation-frame",attributes:l})}}).observe({type:"long-animation-frame",buffered:!0})}function jz(){Wd("event",({entries:e})=>{const t=Wr();if(t){for(const n of e)if(n.name==="click"){const r=dr(Ci+n.startTime),i=dr(n.duration),s={name:wa(n.target),op:`ui.interaction.${n.name}`,startTime:r,attributes:{[Ur]:"auto.ui.browser.metrics"}},o=W7(n.target);o&&(s.attributes["ui.component_name"]=o),Sa(t,r,r+i,s)}}})}function Iz(){return e_(({metric:e})=>{const t=e.entries[e.entries.length-1];t&&(Qr.cls={value:e.value,unit:""},Mh=t)},!0)}function Nz(){return qT(({metric:e})=>{const t=e.entries[e.entries.length-1];t&&(Qr.lcp={value:e.value,unit:"millisecond"},Fi=t)},!0)}function Rz(){return QT(({metric:e})=>{const t=e.entries[e.entries.length-1];if(!t)return;const n=dr(Ci),r=dr(t.startTime);Qr.fid={value:e.value,unit:"millisecond"},Qr["mark.fid"]={value:n+r,unit:"second"}})}function Pz(){return hz(({metric:e})=>{e.entries[e.entries.length-1]&&(Qr.ttfb={value:e.value,unit:"millisecond"})})}function Oz(e,t){const n=t_();if(!n||!n.getEntries||!Ci)return;const r=dr(Ci),i=n.getEntries(),{op:s,start_timestamp:o}=pn(e);if(i.slice(iE).forEach(a=>{const l=dr(a.startTime),c=dr(Math.max(0,a.duration));if(!(s==="navigation"&&o&&r+l<o))switch(a.entryType){case"navigation":{Az(e,a,r);break}case"mark":case"paint":case"measure":{Mz(e,a,l,c,r);const f=Iy(),p=a.startTime<f.firstHiddenTime;a.name==="first-paint"&&p&&(Qr.fp={value:a.startTime,unit:"millisecond"}),a.name==="first-contentful-paint"&&p&&(Qr.fcp={value:a.startTime,unit:"millisecond"});break}case"resource":{Fz(e,a,a.name,l,c,r);break}}}),iE=Math.max(i.length-1,0),Bz(e),s==="pageload"){$z(Qr);const a=Qr["mark.fid"];a&&Qr.fid&&(Sa(e,a.value,a.value+dr(Qr.fid.value),{name:"first input delay",op:"ui.action",attributes:{[Ur]:"auto.ui.browser.metrics"}}),delete Qr["mark.fid"]),(!("fcp"in Qr)||!t.recordClsOnPageloadSpan)&&delete Qr.cls,Object.entries(Qr).forEach(([l,c])=>{ML(l,c.value,c.unit)}),e.setAttribute("performance.timeOrigin",r),e.setAttribute("performance.activationStart",Ip()),zz(e)}Fi=void 0,Mh=void 0,Qr={}}function Mz(e,t,n,r,i){const s=jp(!1),o=dr(s?s.requestStart:0),a=i+Math.max(n,o),l=i+n,c=l+r,f={[Ur]:"auto.resource.browser.metrics"};return a!==l&&(f["sentry.browser.measure_happened_before_request"]=!0,f["sentry.browser.measure_start_time"]=a),Sa(e,a,c,{name:t.name,op:t.entryType,attributes:f}),a}function Az(e,t,n){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(r=>{hg(e,t,r,n)}),hg(e,t,"secureConnection",n,"TLS/SSL"),hg(e,t,"fetch",n,"cache"),hg(e,t,"domainLookup",n,"DNS"),Lz(e,t,n)}function hg(e,t,n,r,i=n){const s=Dz(n),o=t[s],a=t[`${n}Start`];!a||!o||Sa(e,r+dr(a),r+dr(o),{op:`browser.${i}`,name:t.name,attributes:{[Ur]:"auto.ui.browser.metrics"}})}function Dz(e){return e==="secureConnection"?"connectEnd":e==="fetch"?"domainLookupStart":`${e}End`}function Lz(e,t,n){const r=n+dr(t.requestStart),i=n+dr(t.responseEnd),s=n+dr(t.responseStart);t.responseEnd&&(Sa(e,r,i,{op:"browser.request",name:t.name,attributes:{[Ur]:"auto.ui.browser.metrics"}}),Sa(e,s,i,{op:"browser.response",name:t.name,attributes:{[Ur]:"auto.ui.browser.metrics"}}))}function Fz(e,t,n,r,i,s){if(t.initiatorType==="xmlhttprequest"||t.initiatorType==="fetch")return;const o=Wu(n),a={[Ur]:"auto.resource.browser.metrics"};hx(a,t,"transferSize","http.response_transfer_size"),hx(a,t,"encodedBodySize","http.response_content_length"),hx(a,t,"decodedBodySize","http.decoded_response_content_length");const l=t.deliveryType;l!=null&&(a["http.response_delivery_type"]=l);const c=t.renderBlockingStatus;c&&(a["resource.render_blocking_status"]=c),o.protocol&&(a["url.scheme"]=o.protocol.split(":").pop()),o.host&&(a["server.address"]=o.host),a["url.same_origin"]=n.includes(yt.location.origin);const{name:f,version:p}=JT(t.nextHopProtocol);a["network.protocol.name"]=f,a["network.protocol.version"]=p;const g=s+r,y=g+i;Sa(e,g,y,{name:n.replace(yt.location.origin,""),op:t.initiatorType?`resource.${t.initiatorType}`:"resource.other",attributes:a})}function Bz(e){const t=yt.navigator;if(!t)return;const n=t.connection;n&&(n.effectiveType&&e.setAttribute("effectiveConnectionType",n.effectiveType),n.type&&e.setAttribute("connectionType",n.type),fx(n.rtt)&&(Qr["connection.rtt"]={value:n.rtt,unit:"millisecond"})),fx(t.deviceMemory)&&e.setAttribute("deviceMemory",`${t.deviceMemory} GB`),fx(t.hardwareConcurrency)&&e.setAttribute("hardwareConcurrency",String(t.hardwareConcurrency))}function zz(e){Fi&&(Fi.element&&e.setAttribute("lcp.element",wa(Fi.element)),Fi.id&&e.setAttribute("lcp.id",Fi.id),Fi.url&&e.setAttribute("lcp.url",Fi.url.trim().slice(0,200)),Fi.loadTime!=null&&e.setAttribute("lcp.loadTime",Fi.loadTime),Fi.renderTime!=null&&e.setAttribute("lcp.renderTime",Fi.renderTime),e.setAttribute("lcp.size",Fi.size)),Mh&&Mh.sources&&Mh.sources.forEach((t,n)=>e.setAttribute(`cls.source.${n+1}`,wa(t.node)))}function hx(e,t,n,r){const i=t[n];i!=null&&i<Cz&&(e[r]=i)}function $z(e){const t=jp(!1);if(!t)return;const{responseStart:n,requestStart:r}=t;r<=n&&(e["ttfb.requestTime"]={value:n-r,unit:"millisecond"})}const Uz=1e3;let sE,iw,sw;function ZT(e){Bl("dom",e),zl("dom",Hz)}function Hz(){if(!yt.document)return;const e=Ps.bind(null,"dom"),t=oE(e,!0);yt.document.addEventListener("click",t,!1),yt.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(n=>{const i=yt[n],s=i&&i.prototype;!s||!s.hasOwnProperty||!s.hasOwnProperty("addEventListener")||($i(s,"addEventListener",function(o){return function(a,l,c){if(a==="click"||a=="keypress")try{const f=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},p=f[a]=f[a]||{refCount:0};if(!p.handler){const g=oE(e);p.handler=g,o.call(this,a,g,c)}p.refCount++}catch{}return o.call(this,a,l,c)}}),$i(s,"removeEventListener",function(o){return function(a,l,c){if(a==="click"||a=="keypress")try{const f=this.__sentry_instrumentation_handlers__||{},p=f[a];p&&(p.refCount--,p.refCount<=0&&(o.call(this,a,p.handler,c),p.handler=void 0,delete f[a]),Object.keys(f).length===0&&delete this.__sentry_instrumentation_handlers__)}catch{}return o.call(this,a,l,c)}}))})}function Wz(e){if(e.type!==iw)return!1;try{if(!e.target||e.target._sentryId!==sw)return!1}catch{}return!0}function Vz(e,t){return e!=="keypress"?!1:!t||!t.tagName?!0:!(t.tagName==="INPUT"||t.tagName==="TEXTAREA"||t.isContentEditable)}function oE(e,t=!1){return n=>{if(!n||n._sentryCaptured)return;const r=qz(n);if(Vz(n.type,r))return;Ms(n,"_sentryCaptured",!0),r&&!r._sentryId&&Ms(r,"_sentryId",us());const i=n.type==="keypress"?"input":n.type;Wz(n)||(e({event:n,name:i,global:t}),iw=n.type,sw=r?r._sentryId:void 0),clearTimeout(sE),sE=yt.setTimeout(()=>{sw=void 0,iw=void 0},Uz)}}function qz(e){try{return e.target}catch{return null}}let pg;function Ny(e){const t="history";Bl(t,e),zl(t,Qz)}function Qz(){if(!CB())return;const e=yt.onpopstate;yt.onpopstate=function(...n){const r=yt.location.href,i=pg;if(pg=r,Ps("history",{from:i,to:r}),e)try{return e.apply(this,n)}catch{}};function t(n){return function(...r){const i=r.length>2?r[2]:void 0;if(i){const s=pg,o=String(i);pg=o,Ps("history",{from:s,to:o})}return n.apply(this,r)}}$i(yt.history,"pushState",t),$i(yt.history,"replaceState",t)}const h0={};function e9(e){const t=h0[e];if(t)return t;let n=yt[e];if(Jb(n))return h0[e]=n.bind(yt);const r=yt.document;if(r&&typeof r.createElement=="function")try{const i=r.createElement("iframe");i.hidden=!0,r.head.appendChild(i);const s=i.contentWindow;s&&s[e]&&(n=s[e]),r.head.removeChild(i)}catch(i){Z2&&Ge.warn(`Could not create sandbox iframe for ${e} check, bailing to window.${e}: `,i)}return n&&(h0[e]=n.bind(yt))}function aE(e){h0[e]=void 0}function Vd(...e){return e9("setTimeout")(...e)}const Lu="__sentry_xhr_v3__";function t9(e){Bl("xhr",e),zl("xhr",Kz)}function Kz(){if(!yt.XMLHttpRequest)return;const e=XMLHttpRequest.prototype;e.open=new Proxy(e.open,{apply(t,n,r){const i=new Error,s=Si()*1e3,o=ga(r[0])?r[0].toUpperCase():void 0,a=Gz(r[1]);if(!o||!a)return t.apply(n,r);n[Lu]={method:o,url:a,request_headers:{}},o==="POST"&&a.match(/sentry_key/)&&(n.__sentry_own_request__=!0);const l=()=>{const c=n[Lu];if(c&&n.readyState===4){try{c.status_code=n.status}catch{}const f={endTimestamp:Si()*1e3,startTimestamp:s,xhr:n,virtualError:i};Ps("xhr",f)}};return"onreadystatechange"in n&&typeof n.onreadystatechange=="function"?n.onreadystatechange=new Proxy(n.onreadystatechange,{apply(c,f,p){return l(),c.apply(f,p)}}):n.addEventListener("readystatechange",l),n.setRequestHeader=new Proxy(n.setRequestHeader,{apply(c,f,p){const[g,y]=p,b=f[Lu];return b&&ga(g)&&ga(y)&&(b.request_headers[g.toLowerCase()]=y),c.apply(f,p)}}),t.apply(n,r)}}),e.send=new Proxy(e.send,{apply(t,n,r){const i=n[Lu];if(!i)return t.apply(n,r);r[0]!==void 0&&(i.body=r[0]);const s={startTimestamp:Si()*1e3,xhr:n};return Ps("xhr",s),t.apply(n,r)}})}function Gz(e){if(ga(e))return e;try{return e.toString()}catch{}}const px=[],p0=new Map;function Yz(){if(t_()&&Ci){const t=Xz();return()=>{t()}}return()=>{}}const lE={click:"click",pointerdown:"click",pointerup:"click",mousedown:"click",mouseup:"click",touchstart:"click",touchend:"click",mouseover:"hover",mouseout:"hover",mouseenter:"hover",mouseleave:"hover",pointerover:"hover",pointerout:"hover",pointerenter:"hover",pointerleave:"hover",dragstart:"drag",dragend:"drag",drag:"drag",dragenter:"drag",dragleave:"drag",dragover:"drag",drop:"drag",keydown:"press",keyup:"press",keypress:"press",input:"press"};function Xz(){return KT(({metric:e})=>{if(e.value==null)return;const t=e.entries.find(b=>b.duration===e.value&&lE[b.name]);if(!t)return;const{interactionId:n}=t,r=lE[t.name],i=dr(Ci+t.startTime),s=dr(e.value),o=Wr(),a=o?Kr(o):void 0,c=(n!=null?p0.get(n):void 0)||a,f=c?pn(c).description:On().getScopeData().transactionName,p=wa(t.target),g=Ir({[Ur]:"auto.http.browser.inp",[Ju]:`ui.interaction.${r}`,[W2]:t.duration}),y=XT({name:p,transaction:f,attributes:g,startTime:i});y&&(y.addEvent("inp",{[ky]:"millisecond",[Ty]:e.value}),y.end(i+s))})}function Jz(e){const t=({entries:n})=>{const r=Wr(),i=r&&Kr(r);n.forEach(s=>{if(!bz(s)||!i)return;const o=s.interactionId;if(o!=null&&!p0.has(o)){if(px.length>10){const a=px.shift();p0.delete(a)}px.push(o),p0.set(o,i)}})};Wd("event",t),Wd("first-input",t)}function Zz(e,t=e9("fetch")){let n=0,r=0;function i(s){const o=s.body.length;n+=o,r++;const a={body:s.body,method:"POST",referrerPolicy:"origin",headers:e.headers,keepalive:n<=6e4&&r<15,...e.fetchOptions};if(!t)return aE("fetch"),j0("No fetch implementation available");try{return t(e.url,a).then(l=>(n-=o,r--,{statusCode:l.status,headers:{"x-sentry-rate-limits":l.headers.get("X-Sentry-Rate-Limits"),"retry-after":l.headers.get("Retry-After")}}))}catch(l){return aE("fetch"),n-=o,r--,j0(l)}}return NF(e,i)}const e$=30,t$=50;function ow(e,t,n,r){const i={filename:e,function:t==="<anonymous>"?Xu:t,in_app:!0};return n!==void 0&&(i.lineno=n),r!==void 0&&(i.colno=r),i}const n$=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,r$=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,i$=/\((\S*)(?::(\d+))(?::(\d+))\)/,s$=e=>{const t=n$.exec(e);if(t){const[,r,i,s]=t;return ow(r,Xu,+i,+s)}const n=r$.exec(e);if(n){if(n[2]&&n[2].indexOf("eval")===0){const o=i$.exec(n[2]);o&&(n[2]=o[1],n[3]=o[2],n[4]=o[3])}const[i,s]=n9(n[1]||Xu,n[2]);return ow(s,i,n[3]?+n[3]:void 0,n[4]?+n[4]:void 0)}},o$=[e$,s$],a$=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,l$=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,u$=e=>{const t=a$.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){const s=l$.exec(t[3]);s&&(t[1]=t[1]||"eval",t[3]=s[1],t[4]=s[2],t[5]="")}let r=t[3],i=t[1]||Xu;return[i,r]=n9(i,r),ow(r,i,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}},c$=[t$,u$],d$=[o$,c$],f$=L7(...d$),n9=(e,t)=>{const n=e.indexOf("safari-extension")!==-1,r=e.indexOf("safari-web-extension")!==-1;return n||r?[e.indexOf("@")!==-1?e.split("@")[0]:Xu,n?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]},mg=1024,h$="Breadcrumbs",p$=(e={})=>{const t={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e};return{name:h$,setup(n){t.console&&tB(v$(n)),t.dom&&ZT(y$(n,t.dom)),t.xhr&&t9(x$(n)),t.fetch&&AT(b$(n)),t.history&&Ny(w$(n)),t.sentry&&n.on("beforeSendEvent",g$(n))}}},m$=p$;function g$(e){return function(n){tn()===e&&jl({category:`sentry.${n.type==="transaction"?"transaction":"event"}`,event_id:n.event_id,level:n.level,message:ol(n)},{event:n})}}function y$(e,t){return function(r){if(tn()!==e)return;let i,s,o=typeof t=="object"?t.serializeAttribute:void 0,a=typeof t=="object"&&typeof t.maxStringLength=="number"?t.maxStringLength:void 0;a&&a>mg&&(Mo&&Ge.warn(`\`dom.maxStringLength\` cannot exceed ${mg}, but a value of ${a} was configured. Sentry will use ${mg} instead.`),a=mg),typeof o=="string"&&(o=[o]);try{const c=r.event,f=_$(c)?c.target:c;i=wa(f,{keyAttrs:o,maxStringLength:a}),s=W7(f)}catch{i="<unknown>"}if(i.length===0)return;const l={category:`ui.${r.name}`,message:i};s&&(l.data={"ui.component_name":s}),jl(l,{event:r.event,name:r.name,global:r.global})}}function v$(e){return function(n){if(tn()!==e)return;const r={category:"console",data:{arguments:n.args,logger:"console"},level:NT(n.level),message:_C(n.args," ")};if(n.level==="assert")if(n.args[0]===!1)r.message=`Assertion failed: ${_C(n.args.slice(1)," ")||"console.assert"}`,r.data.arguments=n.args.slice(1);else return;jl(r,{input:n.args,level:n.level})}}function x$(e){return function(n){if(tn()!==e)return;const{startTimestamp:r,endTimestamp:i}=n,s=n.xhr[Lu];if(!r||!i||!s)return;const{method:o,url:a,status_code:l,body:c}=s,f={method:o,url:a,status_code:l},p={xhr:n.xhr,input:c,startTimestamp:r,endTimestamp:i},g=OT(l);jl({category:"xhr",data:f,type:"http",level:g},p)}}function b$(e){return function(n){if(tn()!==e)return;const{startTimestamp:r,endTimestamp:i}=n;if(i&&!(n.fetchData.url.match(/sentry_key/)&&n.fetchData.method==="POST"))if(n.error){const s=n.fetchData,o={data:n.error,input:n.args,startTimestamp:r,endTimestamp:i};jl({category:"fetch",data:s,level:"error",type:"http"},o)}else{const s=n.response,o={...n.fetchData,status_code:s&&s.status},a={input:n.args,response:s,startTimestamp:r,endTimestamp:i},l=OT(o.status_code);jl({category:"fetch",data:o,type:"http",level:l},a)}}}function w$(e){return function(n){if(tn()!==e)return;let r=n.from,i=n.to;const s=Wu(Pt.location.href);let o=r?Wu(r):void 0;const a=Wu(i);(!o||!o.path)&&(o=s),s.protocol===a.protocol&&s.host===a.host&&(i=a.relative),s.protocol===o.protocol&&s.host===o.host&&(r=o.relative),jl({category:"navigation",data:{from:r,to:i}})}}function _$(e){return!!e&&!!e.target}const S$=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],C$="BrowserApiErrors",E$=(e={})=>{const t={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...e};return{name:C$,setupOnce(){t.setTimeout&&$i(Pt,"setTimeout",uE),t.setInterval&&$i(Pt,"setInterval",uE),t.requestAnimationFrame&&$i(Pt,"requestAnimationFrame",T$),t.XMLHttpRequest&&"XMLHttpRequest"in Pt&&$i(XMLHttpRequest.prototype,"send",j$);const n=t.eventTarget;n&&(Array.isArray(n)?n:S$).forEach(I$)}}},k$=E$;function uE(e){return function(...t){const n=t[0];return t[0]=Hd(n,{mechanism:{data:{function:xa(e)},handled:!1,type:"instrument"}}),e.apply(this,t)}}function T$(e){return function(t){return e.apply(this,[Hd(t,{mechanism:{data:{function:"requestAnimationFrame",handler:xa(e)},handled:!1,type:"instrument"}})])}}function j$(e){return function(...t){const n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(i=>{i in n&&typeof n[i]=="function"&&$i(n,i,function(s){const o={mechanism:{data:{function:i,handler:xa(s)},handled:!1,type:"instrument"}},a=$2(s);return a&&(o.mechanism.data.handler=xa(a)),Hd(s,o)})}),e.apply(this,t)}}function I$(e){const n=Pt[e],r=n&&n.prototype;!r||!r.hasOwnProperty||!r.hasOwnProperty("addEventListener")||($i(r,"addEventListener",function(i){return function(s,o,a){try{N$(o)&&(o.handleEvent=Hd(o.handleEvent,{mechanism:{data:{function:"handleEvent",handler:xa(o),target:e},handled:!1,type:"instrument"}}))}catch{}return i.apply(this,[s,Hd(o,{mechanism:{data:{function:"addEventListener",handler:xa(o),target:e},handled:!1,type:"instrument"}}),a])}}),$i(r,"removeEventListener",function(i){return function(s,o,a){try{const l=o.__sentry_wrapped__;l&&i.call(this,s,l,a)}catch{}return i.call(this,s,o,a)}}))}function N$(e){return typeof e.handleEvent=="function"}const R$=()=>({name:"BrowserSession",setupOnce(){if(typeof Pt.document>"u"){Mo&&Ge.warn("Using the `browserSessionIntegration` in non-browser environments is not supported.");return}HC({ignoreDuration:!0}),WC(),Ny(({from:e,to:t})=>{e!==void 0&&e!==t&&(HC({ignoreDuration:!0}),WC())})}}),P$="GlobalHandlers",O$=(e={})=>{const t={onerror:!0,onunhandledrejection:!0,...e};return{name:P$,setupOnce(){Error.stackTraceLimit=50},setup(n){t.onerror&&(A$(n),cE("onerror")),t.onunhandledrejection&&(D$(n),cE("onunhandledrejection"))}}},M$=O$;function A$(e){F7(t=>{const{stackParser:n,attachStacktrace:r}=r9();if(tn()!==e||LT())return;const{msg:i,url:s,line:o,column:a,error:l}=t,c=B$(J2(n,l||i,void 0,r,!1),s,o,a);c.level="error",xT(c,{originalException:l,mechanism:{handled:!1,type:"onerror"}})})}function D$(e){B7(t=>{const{stackParser:n,attachStacktrace:r}=r9();if(tn()!==e||LT())return;const i=L$(t),s=z2(i)?F$(i):J2(n,i,void 0,r,!0);s.level="error",xT(s,{originalException:i,mechanism:{handled:!1,type:"onunhandledrejection"}})})}function L$(e){if(z2(e))return e;try{if("reason"in e)return e.reason;if("detail"in e&&"reason"in e.detail)return e.detail.reason}catch{}return e}function F$(e){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(e)}`}]}}}function B$(e,t,n,r){const i=e.exception=e.exception||{},s=i.values=i.values||[],o=s[0]=s[0]||{},a=o.stacktrace=o.stacktrace||{},l=a.frames=a.frames||[],c=r,f=n,p=ga(t)&&t.length>0?t:H7();return l.length===0&&l.push({colno:c,filename:p,function:Xu,in_app:!0,lineno:f}),e}function cE(e){Mo&&Ge.log(`Global Handler attached: ${e}`)}function r9(){const e=tn();return e&&e.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}const z$=()=>({name:"HttpContext",preprocessEvent(e){if(!Pt.navigator&&!Pt.location&&!Pt.document)return;const t=e.request&&e.request.url||Pt.location&&Pt.location.href,{referrer:n}=Pt.document||{},{userAgent:r}=Pt.navigator||{},i={...e.request&&e.request.headers,...n&&{Referer:n},...r&&{"User-Agent":r}},s={...e.request,...t&&{url:t},headers:i};e.request=s}}),$$="cause",U$=5,H$="LinkedErrors",W$=(e={})=>{const t=e.limit||U$,n=e.key||$$;return{name:H$,preprocessEvent(r,i,s){const o=s.getOptions();ZF(Y2,o.stackParser,o.maxValueLength,n,t,r,i)}}},V$=W$;function q$(e){const t=[UF(),FF(),k$(),m$(),M$(),V$(),sB(),z$()];return e.autoSessionTracking!==!1&&t.push(R$()),t}function Q$(e={}){const t={defaultIntegrations:q$(e),release:typeof __SENTRY_RELEASE__=="string"?__SENTRY_RELEASE__:Pt.SENTRY_RELEASE&&Pt.SENTRY_RELEASE.id?Pt.SENTRY_RELEASE.id:void 0,autoSessionTracking:!0,sendClientReports:!0};return e.defaultIntegrations==null&&delete e.defaultIntegrations,{...t,...e}}function K$(){const e=typeof Pt.window<"u"&&Pt;if(!e)return!1;const t=e.chrome?"chrome":"browser",n=e[t],r=n&&n.runtime&&n.runtime.id,i=Pt.location&&Pt.location.href||"",s=["chrome-extension:","moz-extension:","ms-browser-extension:","safari-web-extension:"],o=!!r&&Pt===Pt.top&&s.some(l=>i.startsWith(`${l}//`)),a=typeof e.nw<"u";return!!r&&!o&&!a}function G$(e={}){const t=Q$(e);if(!t.skipBrowserExtensionCheck&&K$()){Fl(()=>{console.error("[Sentry] You cannot run Sentry this way in a browser extension, check: https://docs.sentry.io/platforms/javascript/best-practices/browser-extensions/")});return}Mo&&(MT()||Ge.warn("No Fetch API detected. The Sentry SDK requires a Fetch API compatible environment to send events. Please add a Fetch API polyfill."));const n={...t,stackParser:vD(t.stackParser||f$),integrations:yF(t),transport:t.transport||Zz};return SF(zB,n)}const Nn=sn,n_="sentryReplaySession",Y$="replay_event",r_="Unable to send Replay",X$=3e5,J$=9e5,Z$=5e3,eU=5500,tU=6e4,nU=5e3,rU=3,dE=15e4,gg=5e3,iU=3e3,sU=300,i_=2e7,oU=4999,aU=15e3,fE=36e5;function aw(e,t){return e??t()}function Jh(e){let t,n=e[0],r=1;for(;r<e.length;){const i=e[r],s=e[r+1];if(r+=2,(i==="optionalAccess"||i==="optionalCall")&&n==null)return;i==="access"||i==="optionalAccess"?(t=n,n=s(n)):(i==="call"||i==="optionalCall")&&(n=s((...o)=>n.call(t,...o)),t=void 0)}return n}var Tr;(function(e){e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment"})(Tr||(Tr={}));function lU(e){return e.nodeType===e.ELEMENT_NODE}function Ah(e){const t=Jh([e,"optionalAccess",n=>n.host]);return Jh([t,"optionalAccess",n=>n.shadowRoot])===e}function Dh(e){return Object.prototype.toString.call(e)==="[object ShadowRoot]"}function uU(e){return e.includes(" background-clip: text;")&&!e.includes(" -webkit-background-clip: text;")&&(e=e.replace(/\sbackground-clip:\s*text;/g," -webkit-background-clip: text; background-clip: text;")),e}function cU(e){const{cssText:t}=e;if(t.split('"').length<3)return t;const n=["@import",`url(${JSON.stringify(e.href)})`];return e.layerName===""?n.push("layer"):e.layerName&&n.push(`layer(${e.layerName})`),e.supportsText&&n.push(`supports(${e.supportsText})`),e.media.length&&n.push(e.media.mediaText),n.join(" ")+";"}function M0(e){try{const t=e.rules||e.cssRules;return t?uU(Array.from(t,i9).join("")):null}catch{return null}}function dU(e){let t="";for(let n=0;n<e.style.length;n++){const r=e.style,i=r[n],s=r.getPropertyPriority(i);t+=`${i}:${r.getPropertyValue(i)}${s?" !important":""};`}return`${e.selectorText} { ${t} }`}function i9(e){let t;if(hU(e))try{t=M0(e.styleSheet)||cU(e)}catch{}else if(pU(e)){let n=e.cssText;const r=e.selectorText.includes(":"),i=typeof e.style.all=="string"&&e.style.all;if(i&&(n=dU(e)),r&&(n=fU(n)),r||i)return n}return t||e.cssText}function fU(e){const t=/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm;return e.replace(t,"$1\\$2")}function hU(e){return"styleSheet"in e}function pU(e){return"selectorText"in e}class s9{constructor(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}getId(t){if(!t)return-1;const n=Jh([this,"access",r=>r.getMeta,"call",r=>r(t),"optionalAccess",r=>r.id]);return aw(n,()=>-1)}getNode(t){return this.idNodeMap.get(t)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(t){return this.nodeMetaMap.get(t)||null}removeNodeFromMap(t){const n=this.getId(t);this.idNodeMap.delete(n),t.childNodes&&t.childNodes.forEach(r=>this.removeNodeFromMap(r))}has(t){return this.idNodeMap.has(t)}hasNode(t){return this.nodeMetaMap.has(t)}add(t,n){const r=n.id;this.idNodeMap.set(r,t),this.nodeMetaMap.set(t,n)}replace(t,n){const r=this.getNode(t);if(r){const i=this.nodeMetaMap.get(r);i&&this.nodeMetaMap.set(n,i)}this.idNodeMap.set(t,n)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}}function mU(){return new s9}function Ry({maskInputOptions:e,tagName:t,type:n}){return t==="OPTION"&&(t="SELECT"),!!(e[t.toLowerCase()]||n&&e[n]||n==="password"||t==="INPUT"&&!n&&e.text)}function Zh({isMasked:e,element:t,value:n,maskInputFn:r}){let i=n||"";return e?(r&&(i=r(i,t)),"*".repeat(i.length)):i}function qd(e){return e.toLowerCase()}function lw(e){return e.toUpperCase()}const hE="__rrweb_original__";function gU(e){const t=e.getContext("2d");if(!t)return!0;const n=50;for(let r=0;r<e.width;r+=n)for(let i=0;i<e.height;i+=n){const s=t.getImageData,o=hE in s?s[hE]:s;if(new Uint32Array(o.call(t,r,i,Math.min(n,e.width-r),Math.min(n,e.height-i)).data.buffer).some(l=>l!==0))return!1}return!0}function s_(e){const t=e.type;return e.hasAttribute("data-rr-is-password")?"password":t?qd(t):null}function A0(e,t,n){return t==="INPUT"&&(n==="radio"||n==="checkbox")?e.getAttribute("value")||"":e.value}function o9(e,t){let n;try{n=new URL(e,aw(t,()=>window.location.href))}catch{return null}const r=/\.([0-9a-z]+)(?:$)/i,i=n.pathname.match(r);return aw(Jh([i,"optionalAccess",s=>s[1]]),()=>null)}const pE={};function a9(e){const t=pE[e];if(t)return t;const n=window.document;let r=window[e];if(n&&typeof n.createElement=="function")try{const i=n.createElement("iframe");i.hidden=!0,n.head.appendChild(i);const s=i.contentWindow;s&&s[e]&&(r=s[e]),n.head.removeChild(i)}catch{}return pE[e]=r.bind(window)}function uw(...e){return a9("setTimeout")(...e)}function l9(...e){return a9("clearTimeout")(...e)}function u9(e){try{return e.contentDocument}catch{}}let yU=1;const vU=new RegExp("[^a-z0-9-_:]"),ep=-2;function o_(){return yU++}function xU(e){if(e instanceof HTMLFormElement)return"form";const t=qd(e.tagName);return vU.test(t)?"div":t}function bU(e){let t="";return e.indexOf("//")>-1?t=e.split("/").slice(0,3).join("/"):t=e.split("/")[0],t=t.split("?")[0],t}let Yc,mE;const wU=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,_U=/^(?:[a-z+]+:)?\/\//i,SU=/^www\..*/i,CU=/^(data:)([^,]*),(.*)/i;function D0(e,t){return(e||"").replace(wU,(n,r,i,s,o,a)=>{const l=i||o||a,c=r||s||"";if(!l)return n;if(_U.test(l)||SU.test(l))return`url(${c}${l}${c})`;if(CU.test(l))return`url(${c}${l}${c})`;if(l[0]==="/")return`url(${c}${bU(t)+l}${c})`;const f=t.split("/"),p=l.split("/");f.pop();for(const g of p)g!=="."&&(g===".."?f.pop():f.push(g));return`url(${c}${f.join("/")}${c})`})}const EU=/^[^ \t\n\r\u000c]+/,kU=/^[, \t\n\r\u000c]+/;function TU(e,t){if(t.trim()==="")return t;let n=0;function r(s){let o;const a=s.exec(t.substring(n));return a?(o=a[0],n+=o.length,o):""}const i=[];for(;r(kU),!(n>=t.length);){let s=r(EU);if(s.slice(-1)===",")s=kd(e,s.substring(0,s.length-1)),i.push(s);else{let o="";s=kd(e,s);let a=!1;for(;;){const l=t.charAt(n);if(l===""){i.push((s+o).trim());break}else if(a)l===")"&&(a=!1);else if(l===","){n+=1,i.push((s+o).trim());break}else l==="("&&(a=!0);o+=l,n+=1}}}return i.join(", ")}const gE=new WeakMap;function kd(e,t){return!t||t.trim()===""?t:Py(e,t)}function jU(e){return!!(e.tagName==="svg"||e.ownerSVGElement)}function Py(e,t){let n=gE.get(e);if(n||(n=e.createElement("a"),gE.set(e,n)),!t)t="";else if(t.startsWith("blob:")||t.startsWith("data:"))return t;return n.setAttribute("href",t),n.href}function c9(e,t,n,r,i,s){return r&&(n==="src"||n==="href"&&!(t==="use"&&r[0]==="#")||n==="xlink:href"&&r[0]!=="#"||n==="background"&&(t==="table"||t==="td"||t==="th")?kd(e,r):n==="srcset"?TU(e,r):n==="style"?D0(r,Py(e)):t==="object"&&n==="data"?kd(e,r):typeof s=="function"?s(n,r,i):r)}function d9(e,t,n){return(e==="video"||e==="audio")&&t==="autoplay"}function IU(e,t,n,r){try{if(r&&e.matches(r))return!1;if(typeof t=="string"){if(e.classList.contains(t))return!0}else for(let i=e.classList.length;i--;){const s=e.classList[i];if(t.test(s))return!0}if(n)return e.matches(n)}catch{}return!1}function NU(e,t){for(let n=e.classList.length;n--;){const r=e.classList[n];if(t.test(r))return!0}return!1}function Fu(e,t,n=1/0,r=0){return!e||e.nodeType!==e.ELEMENT_NODE||r>n?-1:t(e)?r:Fu(e.parentNode,t,n,r+1)}function Td(e,t){return n=>{const r=n;if(r===null)return!1;try{if(e){if(typeof e=="string"){if(r.matches(`.${e}`))return!0}else if(NU(r,e))return!0}return!!(t&&r.matches(t))}catch{return!1}}}function Qd(e,t,n,r,i,s){try{const o=e.nodeType===e.ELEMENT_NODE?e:e.parentElement;if(o===null)return!1;if(o.tagName==="INPUT"){const c=o.getAttribute("autocomplete");if(["current-password","new-password","cc-number","cc-exp","cc-exp-month","cc-exp-year","cc-csc"].includes(c))return!0}let a=-1,l=-1;if(s){if(l=Fu(o,Td(r,i)),l<0)return!0;a=Fu(o,Td(t,n),l>=0?l:1/0)}else{if(a=Fu(o,Td(t,n)),a<0)return!1;l=Fu(o,Td(r,i),a>=0?a:1/0)}return a>=0?l>=0?a<=l:!0:l>=0?!1:!!s}catch{}return!!s}function RU(e,t,n){const r=e.contentWindow;if(!r)return;let i=!1,s;try{s=r.document.readyState}catch{return}if(s!=="complete"){const a=uw(()=>{i||(t(),i=!0)},n);e.addEventListener("load",()=>{l9(a),i=!0,t()});return}const o="about:blank";if(r.location.href!==o||e.src===o||e.src==="")return uw(t,0),e.addEventListener("load",t);e.addEventListener("load",t)}function PU(e,t,n){let r=!1,i;try{i=e.sheet}catch{return}if(i)return;const s=uw(()=>{r||(t(),r=!0)},n);e.addEventListener("load",()=>{l9(s),r=!0,t()})}function OU(e,t){const{doc:n,mirror:r,blockClass:i,blockSelector:s,unblockSelector:o,maskAllText:a,maskAttributeFn:l,maskTextClass:c,unmaskTextClass:f,maskTextSelector:p,unmaskTextSelector:g,inlineStylesheet:y,maskInputOptions:b={},maskTextFn:_,maskInputFn:C,dataURLOptions:E={},inlineImages:R,recordCanvas:M,keepIframeSrcFn:U,newlyAddedElement:z=!1}=t,P=MU(n,r);switch(e.nodeType){case e.DOCUMENT_NODE:return e.compatMode!=="CSS1Compat"?{type:Tr.Document,childNodes:[],compatMode:e.compatMode}:{type:Tr.Document,childNodes:[]};case e.DOCUMENT_TYPE_NODE:return{type:Tr.DocumentType,name:e.name,publicId:e.publicId,systemId:e.systemId,rootId:P};case e.ELEMENT_NODE:return DU(e,{doc:n,blockClass:i,blockSelector:s,unblockSelector:o,inlineStylesheet:y,maskAttributeFn:l,maskInputOptions:b,maskInputFn:C,dataURLOptions:E,inlineImages:R,recordCanvas:M,keepIframeSrcFn:U,newlyAddedElement:z,rootId:P,maskTextClass:c,unmaskTextClass:f,maskTextSelector:p,unmaskTextSelector:g});case e.TEXT_NODE:return AU(e,{doc:n,maskAllText:a,maskTextClass:c,unmaskTextClass:f,maskTextSelector:p,unmaskTextSelector:g,maskTextFn:_,maskInputOptions:b,maskInputFn:C,rootId:P});case e.CDATA_SECTION_NODE:return{type:Tr.CDATA,textContent:"",rootId:P};case e.COMMENT_NODE:return{type:Tr.Comment,textContent:e.textContent||"",rootId:P};default:return!1}}function MU(e,t){if(!t.hasNode(e))return;const n=t.getId(e);return n===1?void 0:n}function AU(e,t){const{maskAllText:n,maskTextClass:r,unmaskTextClass:i,maskTextSelector:s,unmaskTextSelector:o,maskTextFn:a,maskInputOptions:l,maskInputFn:c,rootId:f}=t,p=e.parentNode&&e.parentNode.tagName;let g=e.textContent;const y=p==="STYLE"?!0:void 0,b=p==="SCRIPT"?!0:void 0,_=p==="TEXTAREA"?!0:void 0;if(y&&g){try{e.nextSibling||e.previousSibling||Jh([e,"access",E=>E.parentNode,"access",E=>E.sheet,"optionalAccess",E=>E.cssRules])&&(g=M0(e.parentNode.sheet))}catch(E){console.warn(`Cannot get CSS styles from text's parentNode. Error: ${E}`,e)}g=D0(g,Py(t.doc))}b&&(g="SCRIPT_PLACEHOLDER");const C=Qd(e,r,s,i,o,n);if(!y&&!b&&!_&&g&&C&&(g=a?a(g,e.parentElement):g.replace(/[\S]/g,"*")),_&&g&&(l.textarea||C)&&(g=c?c(g,e.parentNode):g.replace(/[\S]/g,"*")),p==="OPTION"&&g){const E=Ry({type:null,tagName:p,maskInputOptions:l});g=Zh({isMasked:Qd(e,r,s,i,o,E),element:e,value:g,maskInputFn:c})}return{type:Tr.Text,textContent:g||"",isStyle:y,rootId:f}}function DU(e,t){const{doc:n,blockClass:r,blockSelector:i,unblockSelector:s,inlineStylesheet:o,maskInputOptions:a={},maskAttributeFn:l,maskInputFn:c,dataURLOptions:f={},inlineImages:p,recordCanvas:g,keepIframeSrcFn:y,newlyAddedElement:b=!1,rootId:_,maskTextClass:C,unmaskTextClass:E,maskTextSelector:R,unmaskTextSelector:M}=t,U=IU(e,r,i,s),z=xU(e);let P={};const N=e.attributes.length;for(let $=0;$<N;$++){const D=e.attributes[$];D.name&&!d9(z,D.name,D.value)&&(P[D.name]=c9(n,z,qd(D.name),D.value,e,l))}if(z==="link"&&o){const $=Array.from(n.styleSheets).find(J=>J.href===e.href);let D=null;$&&(D=M0($)),D&&(P.rel=null,P.href=null,P.crossorigin=null,P._cssText=D0(D,$.href))}if(z==="style"&&e.sheet&&!(e.innerText||e.textContent||"").trim().length){const $=M0(e.sheet);$&&(P._cssText=D0($,Py(n)))}if(z==="input"||z==="textarea"||z==="select"||z==="option"){const $=e,D=s_($),J=A0($,lw(z),D),X=$.checked;if(D!=="submit"&&D!=="button"&&J){const ie=Qd($,C,R,E,M,Ry({type:D,tagName:lw(z),maskInputOptions:a}));P.value=Zh({isMasked:ie,element:$,value:J,maskInputFn:c})}X&&(P.checked=X)}if(z==="option"&&(e.selected&&!a.select?P.selected=!0:delete P.selected),z==="canvas"&&g){if(e.__context==="2d")gU(e)||(P.rr_dataURL=e.toDataURL(f.type,f.quality));else if(!("__context"in e)){const $=e.toDataURL(f.type,f.quality),D=n.createElement("canvas");D.width=e.width,D.height=e.height;const J=D.toDataURL(f.type,f.quality);$!==J&&(P.rr_dataURL=$)}}if(z==="img"&&p){Yc||(Yc=n.createElement("canvas"),mE=Yc.getContext("2d"));const $=e,D=$.currentSrc||$.getAttribute("src")||"<unknown-src>",J=$.crossOrigin,X=()=>{$.removeEventListener("load",X);try{Yc.width=$.naturalWidth,Yc.height=$.naturalHeight,mE.drawImage($,0,0),P.rr_dataURL=Yc.toDataURL(f.type,f.quality)}catch(ie){if($.crossOrigin!=="anonymous"){$.crossOrigin="anonymous",$.complete&&$.naturalWidth!==0?X():$.addEventListener("load",X);return}else console.warn(`Cannot inline img src=${D}! Error: ${ie}`)}$.crossOrigin==="anonymous"&&(J?P.crossOrigin=J:$.removeAttribute("crossorigin"))};$.complete&&$.naturalWidth!==0?X():$.addEventListener("load",X)}if((z==="audio"||z==="video")&&(P.rr_mediaState=e.paused?"paused":"played",P.rr_mediaCurrentTime=e.currentTime),b||(e.scrollLeft&&(P.rr_scrollLeft=e.scrollLeft),e.scrollTop&&(P.rr_scrollTop=e.scrollTop)),U){const{width:$,height:D}=e.getBoundingClientRect();P={class:P.class,rr_width:`${$}px`,rr_height:`${D}px`}}z==="iframe"&&!y(P.src)&&(!U&&!u9(e)&&(P.rr_src=P.src),delete P.src);let B;try{customElements.get(z)&&(B=!0)}catch{}return{type:Tr.Element,tagName:z,attributes:P,childNodes:[],isSVG:jU(e)||void 0,needBlock:U,rootId:_,isCustom:B}}function Tn(e){return e==null?"":e.toLowerCase()}function LU(e,t){if(t.comment&&e.type===Tr.Comment)return!0;if(e.type===Tr.Element){if(t.script&&(e.tagName==="script"||e.tagName==="link"&&(e.attributes.rel==="preload"||e.attributes.rel==="modulepreload")||e.tagName==="link"&&e.attributes.rel==="prefetch"&&typeof e.attributes.href=="string"&&o9(e.attributes.href)==="js"))return!0;if(t.headFavicon&&(e.tagName==="link"&&e.attributes.rel==="shortcut icon"||e.tagName==="meta"&&(Tn(e.attributes.name).match(/^msapplication-tile(image|color)$/)||Tn(e.attributes.name)==="application-name"||Tn(e.attributes.rel)==="icon"||Tn(e.attributes.rel)==="apple-touch-icon"||Tn(e.attributes.rel)==="shortcut icon")))return!0;if(e.tagName==="meta"){if(t.headMetaDescKeywords&&Tn(e.attributes.name).match(/^description|keywords$/))return!0;if(t.headMetaSocial&&(Tn(e.attributes.property).match(/^(og|twitter|fb):/)||Tn(e.attributes.name).match(/^(og|twitter):/)||Tn(e.attributes.name)==="pinterest"))return!0;if(t.headMetaRobots&&(Tn(e.attributes.name)==="robots"||Tn(e.attributes.name)==="googlebot"||Tn(e.attributes.name)==="bingbot"))return!0;if(t.headMetaHttpEquiv&&e.attributes["http-equiv"]!==void 0)return!0;if(t.headMetaAuthorship&&(Tn(e.attributes.name)==="author"||Tn(e.attributes.name)==="generator"||Tn(e.attributes.name)==="framework"||Tn(e.attributes.name)==="publisher"||Tn(e.attributes.name)==="progid"||Tn(e.attributes.property).match(/^article:/)||Tn(e.attributes.property).match(/^product:/)))return!0;if(t.headMetaVerification&&(Tn(e.attributes.name)==="google-site-verification"||Tn(e.attributes.name)==="yandex-verification"||Tn(e.attributes.name)==="csrf-token"||Tn(e.attributes.name)==="p:domain_verify"||Tn(e.attributes.name)==="verify-v1"||Tn(e.attributes.name)==="verification"||Tn(e.attributes.name)==="shopify-checkout-api-token"))return!0}}return!1}function jd(e,t){const{doc:n,mirror:r,blockClass:i,blockSelector:s,unblockSelector:o,maskAllText:a,maskTextClass:l,unmaskTextClass:c,maskTextSelector:f,unmaskTextSelector:p,skipChild:g=!1,inlineStylesheet:y=!0,maskInputOptions:b={},maskAttributeFn:_,maskTextFn:C,maskInputFn:E,slimDOMOptions:R,dataURLOptions:M={},inlineImages:U=!1,recordCanvas:z=!1,onSerialize:P,onIframeLoad:N,iframeLoadTimeout:B=5e3,onStylesheetLoad:$,stylesheetLoadTimeout:D=5e3,keepIframeSrcFn:J=()=>!1,newlyAddedElement:X=!1}=t;let{preserveWhiteSpace:ie=!0}=t;const q=OU(e,{doc:n,mirror:r,blockClass:i,blockSelector:s,maskAllText:a,unblockSelector:o,maskTextClass:l,unmaskTextClass:c,maskTextSelector:f,unmaskTextSelector:p,inlineStylesheet:y,maskInputOptions:b,maskAttributeFn:_,maskTextFn:C,maskInputFn:E,dataURLOptions:M,inlineImages:U,recordCanvas:z,keepIframeSrcFn:J,newlyAddedElement:X});if(!q)return console.warn(e,"not serialized"),null;let V;r.hasNode(e)?V=r.getId(e):LU(q,R)||!ie&&q.type===Tr.Text&&!q.isStyle&&!q.textContent.replace(/^\s+|\s+$/gm,"").length?V=ep:V=o_();const K=Object.assign(q,{id:V});if(r.add(e,K),V===ep)return null;P&&P(e);let ne=!g;if(K.type===Tr.Element){ne=ne&&!K.needBlock,delete K.needBlock;const Y=e.shadowRoot;Y&&Dh(Y)&&(K.isShadowHost=!0)}if((K.type===Tr.Document||K.type===Tr.Element)&&ne){R.headWhitespace&&K.type===Tr.Element&&K.tagName==="head"&&(ie=!1);const Y={doc:n,mirror:r,blockClass:i,blockSelector:s,maskAllText:a,unblockSelector:o,maskTextClass:l,unmaskTextClass:c,maskTextSelector:f,unmaskTextSelector:p,skipChild:g,inlineStylesheet:y,maskInputOptions:b,maskAttributeFn:_,maskTextFn:C,maskInputFn:E,slimDOMOptions:R,dataURLOptions:M,inlineImages:U,recordCanvas:z,preserveWhiteSpace:ie,onSerialize:P,onIframeLoad:N,iframeLoadTimeout:B,onStylesheetLoad:$,stylesheetLoadTimeout:D,keepIframeSrcFn:J};for(const de of Array.from(e.childNodes)){const F=jd(de,Y);F&&K.childNodes.push(F)}if(lU(e)&&e.shadowRoot)for(const de of Array.from(e.shadowRoot.childNodes)){const F=jd(de,Y);F&&(Dh(e.shadowRoot)&&(F.isShadow=!0),K.childNodes.push(F))}}return e.parentNode&&Ah(e.parentNode)&&Dh(e.parentNode)&&(K.isShadow=!0),K.type===Tr.Element&&K.tagName==="iframe"&&RU(e,()=>{const Y=u9(e);if(Y&&N){const de=jd(Y,{doc:Y,mirror:r,blockClass:i,blockSelector:s,unblockSelector:o,maskAllText:a,maskTextClass:l,unmaskTextClass:c,maskTextSelector:f,unmaskTextSelector:p,skipChild:!1,inlineStylesheet:y,maskInputOptions:b,maskAttributeFn:_,maskTextFn:C,maskInputFn:E,slimDOMOptions:R,dataURLOptions:M,inlineImages:U,recordCanvas:z,preserveWhiteSpace:ie,onSerialize:P,onIframeLoad:N,iframeLoadTimeout:B,onStylesheetLoad:$,stylesheetLoadTimeout:D,keepIframeSrcFn:J});de&&N(e,de)}},B),K.type===Tr.Element&&K.tagName==="link"&&typeof K.attributes.rel=="string"&&(K.attributes.rel==="stylesheet"||K.attributes.rel==="preload"&&typeof K.attributes.href=="string"&&o9(K.attributes.href)==="css")&&PU(e,()=>{if($){const Y=jd(e,{doc:n,mirror:r,blockClass:i,blockSelector:s,unblockSelector:o,maskAllText:a,maskTextClass:l,unmaskTextClass:c,maskTextSelector:f,unmaskTextSelector:p,skipChild:!1,inlineStylesheet:y,maskInputOptions:b,maskAttributeFn:_,maskTextFn:C,maskInputFn:E,slimDOMOptions:R,dataURLOptions:M,inlineImages:U,recordCanvas:z,preserveWhiteSpace:ie,onSerialize:P,onIframeLoad:N,iframeLoadTimeout:B,onStylesheetLoad:$,stylesheetLoadTimeout:D,keepIframeSrcFn:J});Y&&$(e,Y)}},D),K}function FU(e,t){const{mirror:n=new s9,blockClass:r="rr-block",blockSelector:i=null,unblockSelector:s=null,maskAllText:o=!1,maskTextClass:a="rr-mask",unmaskTextClass:l=null,maskTextSelector:c=null,unmaskTextSelector:f=null,inlineStylesheet:p=!0,inlineImages:g=!1,recordCanvas:y=!1,maskAllInputs:b=!1,maskAttributeFn:_,maskTextFn:C,maskInputFn:E,slimDOM:R=!1,dataURLOptions:M,preserveWhiteSpace:U,onSerialize:z,onIframeLoad:P,iframeLoadTimeout:N,onStylesheetLoad:B,stylesheetLoadTimeout:$,keepIframeSrcFn:D=()=>!1}=t||{};return jd(e,{doc:e,mirror:n,blockClass:r,blockSelector:i,unblockSelector:s,maskAllText:o,maskTextClass:a,unmaskTextClass:l,maskTextSelector:c,unmaskTextSelector:f,skipChild:!1,inlineStylesheet:p,maskInputOptions:b===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0}:b===!1?{}:b,maskAttributeFn:_,maskTextFn:C,maskInputFn:E,slimDOMOptions:R===!0||R==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:R==="all",headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:R===!1?{}:R,dataURLOptions:M,inlineImages:g,recordCanvas:y,preserveWhiteSpace:U,onSerialize:z,onIframeLoad:P,iframeLoadTimeout:N,onStylesheetLoad:B,stylesheetLoadTimeout:$,keepIframeSrcFn:D,newlyAddedElement:!1})}function al(e){let t,n=e[0],r=1;for(;r<e.length;){const i=e[r],s=e[r+1];if(r+=2,(i==="optionalAccess"||i==="optionalCall")&&n==null)return;i==="access"||i==="optionalAccess"?(t=n,n=s(n)):(i==="call"||i==="optionalCall")&&(n=s((...o)=>n.call(t,...o)),t=void 0)}return n}function wi(e,t,n=document){const r={capture:!0,passive:!0};return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t,r)}const xd=`Please stop import mirror directly. Instead of that,\r
now you can use replayer.getMirror() to access the mirror instance of a replayer,\r
or you can use record.mirror to access the mirror instance during recording.`;let yE={map:{},getId(){return console.error(xd),-1},getNode(){return console.error(xd),null},removeNodeFromMap(){console.error(xd)},has(){return console.error(xd),!1},reset(){console.error(xd)}};typeof window<"u"&&window.Proxy&&window.Reflect&&(yE=new Proxy(yE,{get(e,t,n){return t==="map"&&console.error(xd),Reflect.get(e,t,n)}}));function tp(e,t,n={}){let r=null,i=0;return function(...s){const o=Date.now();!i&&n.leading===!1&&(i=o);const a=t-(o-i),l=this;a<=0||a>t?(r&&(VU(r),r=null),i=o,e.apply(l,s)):!r&&n.trailing!==!1&&(r=Oy(()=>{i=n.leading===!1?0:Date.now(),r=null,e.apply(l,s)},a))}}function f9(e,t,n,r,i=window){const s=i.Object.getOwnPropertyDescriptor(e,t);return i.Object.defineProperty(e,t,r?n:{set(o){Oy(()=>{n.set.call(this,o)},0),s&&s.set&&s.set.call(this,o)}}),()=>f9(e,t,s||{},!0)}function a_(e,t,n){try{if(!(t in e))return()=>{};const r=e[t],i=n(r);return typeof i=="function"&&(i.prototype=i.prototype||{},Object.defineProperties(i,{__rrweb_original__:{enumerable:!1,value:r}})),e[t]=i,()=>{e[t]=r}}catch{return()=>{}}}let L0=Date.now;/[1-9][0-9]{12}/.test(Date.now().toString())||(L0=()=>new Date().getTime());function h9(e){const t=e.document;return{left:t.scrollingElement?t.scrollingElement.scrollLeft:e.pageXOffset!==void 0?e.pageXOffset:al([t,"optionalAccess",n=>n.documentElement,"access",n=>n.scrollLeft])||al([t,"optionalAccess",n=>n.body,"optionalAccess",n=>n.parentElement,"optionalAccess",n=>n.scrollLeft])||al([t,"optionalAccess",n=>n.body,"optionalAccess",n=>n.scrollLeft])||0,top:t.scrollingElement?t.scrollingElement.scrollTop:e.pageYOffset!==void 0?e.pageYOffset:al([t,"optionalAccess",n=>n.documentElement,"access",n=>n.scrollTop])||al([t,"optionalAccess",n=>n.body,"optionalAccess",n=>n.parentElement,"optionalAccess",n=>n.scrollTop])||al([t,"optionalAccess",n=>n.body,"optionalAccess",n=>n.scrollTop])||0}}function p9(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function m9(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function g9(e){return e?e.nodeType===e.ELEMENT_NODE?e:e.parentElement:null}function ls(e,t,n,r,i){if(!e)return!1;const s=g9(e);if(!s)return!1;const o=Td(t,n);if(!i){const c=r&&s.matches(r);return o(s)&&!c}const a=Fu(s,o);let l=-1;return a<0?!1:(r&&(l=Fu(s,Td(null,r))),a>-1&&l<0?!0:a<l)}function BU(e,t){return t.getId(e)!==-1}function mx(e,t){return t.getId(e)===ep}function y9(e,t){if(Ah(e))return!1;const n=t.getId(e);return t.has(n)?e.parentNode&&e.parentNode.nodeType===e.DOCUMENT_NODE?!1:e.parentNode?y9(e.parentNode,t):!0:!0}function cw(e){return!!e.changedTouches}function zU(e=window){"NodeList"in e&&!e.NodeList.prototype.forEach&&(e.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in e&&!e.DOMTokenList.prototype.forEach&&(e.DOMTokenList.prototype.forEach=Array.prototype.forEach),Node.prototype.contains||(Node.prototype.contains=(...t)=>{let n=t[0];if(!(0 in t))throw new TypeError("1 argument is required");do if(this===n)return!0;while(n=n&&n.parentNode);return!1})}function v9(e,t){return!!(e.nodeName==="IFRAME"&&t.getMeta(e))}function x9(e,t){return!!(e.nodeName==="LINK"&&e.nodeType===e.ELEMENT_NODE&&e.getAttribute&&e.getAttribute("rel")==="stylesheet"&&t.getMeta(e))}function dw(e){return!!al([e,"optionalAccess",t=>t.shadowRoot])}class $U{constructor(){this.id=1,this.styleIDMap=new WeakMap,this.idStyleMap=new Map}getId(t){return EB(this.styleIDMap.get(t),()=>-1)}has(t){return this.styleIDMap.has(t)}add(t,n){if(this.has(t))return this.getId(t);let r;return n===void 0?r=this.id++:r=n,this.styleIDMap.set(t,r),this.idStyleMap.set(r,t),r}getStyle(t){return this.idStyleMap.get(t)||null}reset(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}generateId(){return this.id++}}function b9(e){let t=null;return al([e,"access",n=>n.getRootNode,"optionalCall",n=>n(),"optionalAccess",n=>n.nodeType])===Node.DOCUMENT_FRAGMENT_NODE&&e.getRootNode().host&&(t=e.getRootNode().host),t}function UU(e){let t=e,n;for(;n=b9(t);)t=n;return t}function HU(e){const t=e.ownerDocument;if(!t)return!1;const n=UU(e);return t.contains(n)}function w9(e){const t=e.ownerDocument;return t?t.contains(e)||HU(e):!1}const vE={};function l_(e){const t=vE[e];if(t)return t;const n=window.document;let r=window[e];if(n&&typeof n.createElement=="function")try{const i=n.createElement("iframe");i.hidden=!0,n.head.appendChild(i);const s=i.contentWindow;s&&s[e]&&(r=s[e]),n.head.removeChild(i)}catch{}return vE[e]=r.bind(window)}function WU(...e){return l_("requestAnimationFrame")(...e)}function Oy(...e){return l_("setTimeout")(...e)}function VU(...e){return l_("clearTimeout")(...e)}var Wt=(e=>(e[e.DomContentLoaded=0]="DomContentLoaded",e[e.Load=1]="Load",e[e.FullSnapshot=2]="FullSnapshot",e[e.IncrementalSnapshot=3]="IncrementalSnapshot",e[e.Meta=4]="Meta",e[e.Custom=5]="Custom",e[e.Plugin=6]="Plugin",e))(Wt||{}),kt=(e=>(e[e.Mutation=0]="Mutation",e[e.MouseMove=1]="MouseMove",e[e.MouseInteraction=2]="MouseInteraction",e[e.Scroll=3]="Scroll",e[e.ViewportResize=4]="ViewportResize",e[e.Input=5]="Input",e[e.TouchMove=6]="TouchMove",e[e.MediaInteraction=7]="MediaInteraction",e[e.StyleSheetRule=8]="StyleSheetRule",e[e.CanvasMutation=9]="CanvasMutation",e[e.Font=10]="Font",e[e.Log=11]="Log",e[e.Drag=12]="Drag",e[e.StyleDeclaration=13]="StyleDeclaration",e[e.Selection=14]="Selection",e[e.AdoptedStyleSheet=15]="AdoptedStyleSheet",e[e.CustomElement=16]="CustomElement",e))(kt||{}),vi=(e=>(e[e.MouseUp=0]="MouseUp",e[e.MouseDown=1]="MouseDown",e[e.Click=2]="Click",e[e.ContextMenu=3]="ContextMenu",e[e.DblClick=4]="DblClick",e[e.Focus=5]="Focus",e[e.Blur=6]="Blur",e[e.TouchStart=7]="TouchStart",e[e.TouchMove_Departed=8]="TouchMove_Departed",e[e.TouchEnd=9]="TouchEnd",e[e.TouchCancel=10]="TouchCancel",e))(vi||{}),ra=(e=>(e[e.Mouse=0]="Mouse",e[e.Pen=1]="Pen",e[e.Touch=2]="Touch",e))(ra||{}),xE;(function(e){e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment"})(xE||(xE={}));var bE;(function(e){e[e.PLACEHOLDER=0]="PLACEHOLDER",e[e.ELEMENT_NODE=1]="ELEMENT_NODE",e[e.ATTRIBUTE_NODE=2]="ATTRIBUTE_NODE",e[e.TEXT_NODE=3]="TEXT_NODE",e[e.CDATA_SECTION_NODE=4]="CDATA_SECTION_NODE",e[e.ENTITY_REFERENCE_NODE=5]="ENTITY_REFERENCE_NODE",e[e.ENTITY_NODE=6]="ENTITY_NODE",e[e.PROCESSING_INSTRUCTION_NODE=7]="PROCESSING_INSTRUCTION_NODE",e[e.COMMENT_NODE=8]="COMMENT_NODE",e[e.DOCUMENT_NODE=9]="DOCUMENT_NODE",e[e.DOCUMENT_TYPE_NODE=10]="DOCUMENT_TYPE_NODE",e[e.DOCUMENT_FRAGMENT_NODE=11]="DOCUMENT_FRAGMENT_NODE"})(bE||(bE={}));function u_(e){try{return e.contentDocument}catch{}}function qU(e){try{return e.contentWindow}catch{}}function QU(e){let t,n=e[0],r=1;for(;r<e.length;){const i=e[r],s=e[r+1];if(r+=2,(i==="optionalAccess"||i==="optionalCall")&&n==null)return;i==="access"||i==="optionalAccess"?(t=n,n=s(n)):(i==="call"||i==="optionalCall")&&(n=s((...o)=>n.call(t,...o)),t=void 0)}return n}function wE(e){return"__ln"in e}class KU{constructor(){this.length=0,this.head=null,this.tail=null}get(t){if(t>=this.length)throw new Error("Position outside of list range");let n=this.head;for(let r=0;r<t;r++)n=QU([n,"optionalAccess",i=>i.next])||null;return n}addNode(t){const n={value:t,previous:null,next:null};if(t.__ln=n,t.previousSibling&&wE(t.previousSibling)){const r=t.previousSibling.__ln.next;n.next=r,n.previous=t.previousSibling.__ln,t.previousSibling.__ln.next=n,r&&(r.previous=n)}else if(t.nextSibling&&wE(t.nextSibling)&&t.nextSibling.__ln.previous){const r=t.nextSibling.__ln.previous;n.previous=r,n.next=t.nextSibling.__ln,t.nextSibling.__ln.previous=n,r&&(r.next=n)}else this.head&&(this.head.previous=n),n.next=this.head,this.head=n;n.next===null&&(this.tail=n),this.length++}removeNode(t){const n=t.__ln;this.head&&(n.previous?(n.previous.next=n.next,n.next?n.next.previous=n.previous:this.tail=n.previous):(this.head=n.next,this.head?this.head.previous=null:this.tail=null),t.__ln&&delete t.__ln,this.length--)}}const _E=(e,t)=>`${e}@${t}`;class GU{constructor(){this.frozen=!1,this.locked=!1,this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.mapRemoves=[],this.movedMap={},this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.processMutations=t=>{t.forEach(this.processMutation),this.emit()},this.emit=()=>{if(this.frozen||this.locked)return;const t=[],n=new Set,r=new KU,i=l=>{let c=l,f=ep;for(;f===ep;)c=c&&c.nextSibling,f=c&&this.mirror.getId(c);return f},s=l=>{if(!l.parentNode||!w9(l))return;const c=Ah(l.parentNode)?this.mirror.getId(b9(l)):this.mirror.getId(l.parentNode),f=i(l);if(c===-1||f===-1)return r.addNode(l);const p=jd(l,{doc:this.doc,mirror:this.mirror,blockClass:this.blockClass,blockSelector:this.blockSelector,maskAllText:this.maskAllText,unblockSelector:this.unblockSelector,maskTextClass:this.maskTextClass,unmaskTextClass:this.unmaskTextClass,maskTextSelector:this.maskTextSelector,unmaskTextSelector:this.unmaskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:this.inlineStylesheet,maskInputOptions:this.maskInputOptions,maskAttributeFn:this.maskAttributeFn,maskTextFn:this.maskTextFn,maskInputFn:this.maskInputFn,slimDOMOptions:this.slimDOMOptions,dataURLOptions:this.dataURLOptions,recordCanvas:this.recordCanvas,inlineImages:this.inlineImages,onSerialize:g=>{v9(g,this.mirror)&&!ls(g,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&this.iframeManager.addIframe(g),x9(g,this.mirror)&&this.stylesheetManager.trackLinkElement(g),dw(l)&&this.shadowDomManager.addShadowRoot(l.shadowRoot,this.doc)},onIframeLoad:(g,y)=>{ls(g,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(this.iframeManager.attachIframe(g,y),g.contentWindow&&this.canvasManager.addWindow(g.contentWindow),this.shadowDomManager.observeAttachShadow(g))},onStylesheetLoad:(g,y)=>{this.stylesheetManager.attachLinkElement(g,y)}});p&&(t.push({parentId:c,nextId:f,node:p}),n.add(p.id))};for(;this.mapRemoves.length;)this.mirror.removeNodeFromMap(this.mapRemoves.shift());for(const l of this.movedSet)SE(this.removes,l,this.mirror)&&!this.movedSet.has(l.parentNode)||s(l);for(const l of this.addedSet)!CE(this.droppedSet,l)&&!SE(this.removes,l,this.mirror)||CE(this.movedSet,l)?s(l):this.droppedSet.add(l);let o=null;for(;r.length;){let l=null;if(o){const c=this.mirror.getId(o.value.parentNode),f=i(o.value);c!==-1&&f!==-1&&(l=o)}if(!l){let c=r.tail;for(;c;){const f=c;if(c=c.previous,f){const p=this.mirror.getId(f.value.parentNode);if(i(f.value)===-1)continue;if(p!==-1){l=f;break}else{const y=f.value;if(y.parentNode&&y.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE){const b=y.parentNode.host;if(this.mirror.getId(b)!==-1){l=f;break}}}}}}if(!l){for(;r.head;)r.removeNode(r.head.value);break}o=l.previous,r.removeNode(l.value),s(l.value)}const a={texts:this.texts.map(l=>({id:this.mirror.getId(l.node),value:l.value})).filter(l=>!n.has(l.id)).filter(l=>this.mirror.has(l.id)),attributes:this.attributes.map(l=>{const{attributes:c}=l;if(typeof c.style=="string"){const f=JSON.stringify(l.styleDiff),p=JSON.stringify(l._unchangedStyles);f.length<c.style.length&&(f+p).split("var(").length===c.style.split("var(").length&&(c.style=l.styleDiff)}return{id:this.mirror.getId(l.node),attributes:c}}).filter(l=>!n.has(l.id)).filter(l=>this.mirror.has(l.id)),removes:this.removes,adds:t};!a.texts.length&&!a.attributes.length&&!a.removes.length&&!a.adds.length||(this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.movedMap={},this.mutationCb(a))},this.processMutation=t=>{if(!mx(t.target,this.mirror))switch(t.type){case"characterData":{const n=t.target.textContent;!ls(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&n!==t.oldValue&&this.texts.push({value:Qd(t.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,this.maskAllText)&&n?this.maskTextFn?this.maskTextFn(n,g9(t.target)):n.replace(/[\S]/g,"*"):n,node:t.target});break}case"attributes":{const n=t.target;let r=t.attributeName,i=t.target.getAttribute(r);if(r==="value"){const o=s_(n),a=n.tagName;i=A0(n,a,o);const l=Ry({maskInputOptions:this.maskInputOptions,tagName:a,type:o}),c=Qd(t.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,l);i=Zh({isMasked:c,element:n,value:i,maskInputFn:this.maskInputFn})}if(ls(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||i===t.oldValue)return;let s=this.attributeMap.get(t.target);if(n.tagName==="IFRAME"&&r==="src"&&!this.keepIframeSrcFn(i))if(!u_(n))r="rr_src";else return;if(s||(s={node:t.target,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(s),this.attributeMap.set(t.target,s)),r==="type"&&n.tagName==="INPUT"&&(t.oldValue||"").toLowerCase()==="password"&&n.setAttribute("data-rr-is-password","true"),!d9(n.tagName,r)&&(s.attributes[r]=c9(this.doc,qd(n.tagName),qd(r),i,n,this.maskAttributeFn),r==="style")){if(!this.unattachedDoc)try{this.unattachedDoc=document.implementation.createHTMLDocument()}catch{this.unattachedDoc=this.doc}const o=this.unattachedDoc.createElement("span");t.oldValue&&o.setAttribute("style",t.oldValue);for(const a of Array.from(n.style)){const l=n.style.getPropertyValue(a),c=n.style.getPropertyPriority(a);l!==o.style.getPropertyValue(a)||c!==o.style.getPropertyPriority(a)?c===""?s.styleDiff[a]=l:s.styleDiff[a]=[l,c]:s._unchangedStyles[a]=[l,c]}for(const a of Array.from(o.style))n.style.getPropertyValue(a)===""&&(s.styleDiff[a]=!1)}break}case"childList":{if(ls(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!0))return;t.addedNodes.forEach(n=>this.genAdds(n,t.target)),t.removedNodes.forEach(n=>{const r=this.mirror.getId(n),i=Ah(t.target)?this.mirror.getId(t.target.host):this.mirror.getId(t.target);ls(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||mx(n,this.mirror)||!BU(n,this.mirror)||(this.addedSet.has(n)?(fw(this.addedSet,n),this.droppedSet.add(n)):this.addedSet.has(t.target)&&r===-1||y9(t.target,this.mirror)||(this.movedSet.has(n)&&this.movedMap[_E(r,i)]?fw(this.movedSet,n):this.removes.push({parentId:i,id:r,isShadow:Ah(t.target)&&Dh(t.target)?!0:void 0})),this.mapRemoves.push(n))});break}}},this.genAdds=(t,n)=>{if(!this.processedNodeManager.inOtherBuffer(t,this)&&!(this.addedSet.has(t)||this.movedSet.has(t))){if(this.mirror.hasNode(t)){if(mx(t,this.mirror))return;this.movedSet.add(t);let r=null;n&&this.mirror.hasNode(n)&&(r=this.mirror.getId(n)),r&&r!==-1&&(this.movedMap[_E(this.mirror.getId(t),r)]=!0)}else this.addedSet.add(t),this.droppedSet.delete(t);ls(t,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(t.childNodes.forEach(r=>this.genAdds(r)),dw(t)&&t.shadowRoot.childNodes.forEach(r=>{this.processedNodeManager.add(r,this),this.genAdds(r,t)}))}}}init(t){["mutationCb","blockClass","blockSelector","unblockSelector","maskAllText","maskTextClass","unmaskTextClass","maskTextSelector","unmaskTextSelector","inlineStylesheet","maskInputOptions","maskAttributeFn","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager"].forEach(n=>{this[n]=t[n]})}freeze(){this.frozen=!0,this.canvasManager.freeze()}unfreeze(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}isFrozen(){return this.frozen}lock(){this.locked=!0,this.canvasManager.lock()}unlock(){this.locked=!1,this.canvasManager.unlock(),this.emit()}reset(){this.shadowDomManager.reset(),this.canvasManager.reset()}}function fw(e,t){e.delete(t),t.childNodes.forEach(n=>fw(e,n))}function SE(e,t,n){return e.length===0?!1:YU(e,t,n)}function YU(e,t,n){let r=t.parentNode;for(;r;){const i=n.getId(r);if(e.some(s=>s.id===i))return!0;r=r.parentNode}return!1}function CE(e,t){return e.size===0?!1:_9(e,t)}function _9(e,t){const{parentNode:n}=t;return n?e.has(n)?!0:_9(e,n):!1}let Lh;function XU(e){Lh=e}function JU(){Lh=void 0}const on=e=>Lh?(...n)=>{try{return e(...n)}catch(r){if(Lh&&Lh(r)===!0)return()=>{};throw r}}:e;function no(e){let t,n=e[0],r=1;for(;r<e.length;){const i=e[r],s=e[r+1];if(r+=2,(i==="optionalAccess"||i==="optionalCall")&&n==null)return;i==="access"||i==="optionalAccess"?(t=n,n=s(n)):(i==="call"||i==="optionalCall")&&(n=s((...o)=>n.call(t,...o)),t=void 0)}return n}const Id=[];function Pp(e){try{if("composedPath"in e){const t=e.composedPath();if(t.length)return t[0]}else if("path"in e&&e.path.length)return e.path[0]}catch{}return e&&e.target}function S9(e,t){const n=new GU;Id.push(n),n.init(e);let r=window.MutationObserver||window.__rrMutationObserver;const i=no([window,"optionalAccess",o=>o.Zone,"optionalAccess",o=>o.__symbol__,"optionalCall",o=>o("MutationObserver")]);i&&window[i]&&(r=window[i]);const s=new r(on(o=>{e.onMutation&&e.onMutation(o)===!1||n.processMutations.bind(n)(o)}));return s.observe(t,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),s}function ZU({mousemoveCb:e,sampling:t,doc:n,mirror:r}){if(t.mousemove===!1)return()=>{};const i=typeof t.mousemove=="number"?t.mousemove:50,s=typeof t.mousemoveCallback=="number"?t.mousemoveCallback:500;let o=[],a;const l=tp(on(p=>{const g=Date.now()-a;e(o.map(y=>(y.timeOffset-=g,y)),p),o=[],a=null}),s),c=on(tp(on(p=>{const g=Pp(p),{clientX:y,clientY:b}=cw(p)?p.changedTouches[0]:p;a||(a=L0()),o.push({x:y,y:b,id:r.getId(g),timeOffset:L0()-a}),l(typeof DragEvent<"u"&&p instanceof DragEvent?kt.Drag:p instanceof MouseEvent?kt.MouseMove:kt.TouchMove)}),i,{trailing:!1})),f=[wi("mousemove",c,n),wi("touchmove",c,n),wi("drag",c,n)];return on(()=>{f.forEach(p=>p())})}function eH({mouseInteractionCb:e,doc:t,mirror:n,blockClass:r,blockSelector:i,unblockSelector:s,sampling:o}){if(o.mouseInteraction===!1)return()=>{};const a=o.mouseInteraction===!0||o.mouseInteraction===void 0?{}:o.mouseInteraction,l=[];let c=null;const f=p=>g=>{const y=Pp(g);if(ls(y,r,i,s,!0))return;let b=null,_=p;if("pointerType"in g){switch(g.pointerType){case"mouse":b=ra.Mouse;break;case"touch":b=ra.Touch;break;case"pen":b=ra.Pen;break}b===ra.Touch?vi[p]===vi.MouseDown?_="TouchStart":vi[p]===vi.MouseUp&&(_="TouchEnd"):ra.Pen}else cw(g)&&(b=ra.Touch);b!==null?(c=b,(_.startsWith("Touch")&&b===ra.Touch||_.startsWith("Mouse")&&b===ra.Mouse)&&(b=null)):vi[p]===vi.Click&&(b=c,c=null);const C=cw(g)?g.changedTouches[0]:g;if(!C)return;const E=n.getId(y),{clientX:R,clientY:M}=C;on(e)({type:vi[_],id:E,x:R,y:M,...b!==null&&{pointerType:b}})};return Object.keys(vi).filter(p=>Number.isNaN(Number(p))&&!p.endsWith("_Departed")&&a[p]!==!1).forEach(p=>{let g=qd(p);const y=f(p);if(window.PointerEvent)switch(vi[p]){case vi.MouseDown:case vi.MouseUp:g=g.replace("mouse","pointer");break;case vi.TouchStart:case vi.TouchEnd:return}l.push(wi(g,y,t))}),on(()=>{l.forEach(p=>p())})}function C9({scrollCb:e,doc:t,mirror:n,blockClass:r,blockSelector:i,unblockSelector:s,sampling:o}){const a=on(tp(on(l=>{const c=Pp(l);if(!c||ls(c,r,i,s,!0))return;const f=n.getId(c);if(c===t&&t.defaultView){const p=h9(t.defaultView);e({id:f,x:p.left,y:p.top})}else e({id:f,x:c.scrollLeft,y:c.scrollTop})}),o.scroll||100));return wi("scroll",a,t)}function tH({viewportResizeCb:e},{win:t}){let n=-1,r=-1;const i=on(tp(on(()=>{const s=p9(),o=m9();(n!==s||r!==o)&&(e({width:Number(o),height:Number(s)}),n=s,r=o)}),200));return wi("resize",i,t)}const nH=["INPUT","TEXTAREA","SELECT"],EE=new WeakMap;function rH({inputCb:e,doc:t,mirror:n,blockClass:r,blockSelector:i,unblockSelector:s,ignoreClass:o,ignoreSelector:a,maskInputOptions:l,maskInputFn:c,sampling:f,userTriggeredOnInput:p,maskTextClass:g,unmaskTextClass:y,maskTextSelector:b,unmaskTextSelector:_}){function C(N){let B=Pp(N);const $=N.isTrusted,D=B&&lw(B.tagName);if(D==="OPTION"&&(B=B.parentElement),!B||!D||nH.indexOf(D)<0||ls(B,r,i,s,!0))return;const J=B;if(J.classList.contains(o)||a&&J.matches(a))return;const X=s_(B);let ie=A0(J,D,X),q=!1;const V=Ry({maskInputOptions:l,tagName:D,type:X}),K=Qd(B,g,b,y,_,V);(X==="radio"||X==="checkbox")&&(q=B.checked),ie=Zh({isMasked:K,element:B,value:ie,maskInputFn:c}),E(B,p?{text:ie,isChecked:q,userTriggered:$}:{text:ie,isChecked:q});const ne=B.name;X==="radio"&&ne&&q&&t.querySelectorAll(`input[type="radio"][name="${ne}"]`).forEach(Y=>{if(Y!==B){const de=Zh({isMasked:K,element:Y,value:A0(Y,D,X),maskInputFn:c});E(Y,p?{text:de,isChecked:!q,userTriggered:!1}:{text:de,isChecked:!q})}})}function E(N,B){const $=EE.get(N);if(!$||$.text!==B.text||$.isChecked!==B.isChecked){EE.set(N,B);const D=n.getId(N);on(e)({...B,id:D})}}const M=(f.input==="last"?["change"]:["input","change"]).map(N=>wi(N,on(C),t)),U=t.defaultView;if(!U)return()=>{M.forEach(N=>N())};const z=U.Object.getOwnPropertyDescriptor(U.HTMLInputElement.prototype,"value"),P=[[U.HTMLInputElement.prototype,"value"],[U.HTMLInputElement.prototype,"checked"],[U.HTMLSelectElement.prototype,"value"],[U.HTMLTextAreaElement.prototype,"value"],[U.HTMLSelectElement.prototype,"selectedIndex"],[U.HTMLOptionElement.prototype,"selected"]];return z&&z.set&&M.push(...P.map(N=>f9(N[0],N[1],{set(){on(C)({target:this,isTrusted:!1})}},!1,U))),on(()=>{M.forEach(N=>N())})}function F0(e){const t=[];function n(r,i){if(yg("CSSGroupingRule")&&r.parentRule instanceof CSSGroupingRule||yg("CSSMediaRule")&&r.parentRule instanceof CSSMediaRule||yg("CSSSupportsRule")&&r.parentRule instanceof CSSSupportsRule||yg("CSSConditionRule")&&r.parentRule instanceof CSSConditionRule){const o=Array.from(r.parentRule.cssRules).indexOf(r);i.unshift(o)}else if(r.parentStyleSheet){const o=Array.from(r.parentStyleSheet.cssRules).indexOf(r);i.unshift(o)}return i}return n(e,t)}function ll(e,t,n){let r,i;return e?(e.ownerNode?r=t.getId(e.ownerNode):i=n.getId(e),{styleId:i,id:r}):{}}function iH({styleSheetRuleCb:e,mirror:t,stylesheetManager:n},{win:r}){if(!r.CSSStyleSheet||!r.CSSStyleSheet.prototype)return()=>{};const i=r.CSSStyleSheet.prototype.insertRule;r.CSSStyleSheet.prototype.insertRule=new Proxy(i,{apply:on((f,p,g)=>{const[y,b]=g,{id:_,styleId:C}=ll(p,t,n.styleMirror);return(_&&_!==-1||C&&C!==-1)&&e({id:_,styleId:C,adds:[{rule:y,index:b}]}),f.apply(p,g)})});const s=r.CSSStyleSheet.prototype.deleteRule;r.CSSStyleSheet.prototype.deleteRule=new Proxy(s,{apply:on((f,p,g)=>{const[y]=g,{id:b,styleId:_}=ll(p,t,n.styleMirror);return(b&&b!==-1||_&&_!==-1)&&e({id:b,styleId:_,removes:[{index:y}]}),f.apply(p,g)})});let o;r.CSSStyleSheet.prototype.replace&&(o=r.CSSStyleSheet.prototype.replace,r.CSSStyleSheet.prototype.replace=new Proxy(o,{apply:on((f,p,g)=>{const[y]=g,{id:b,styleId:_}=ll(p,t,n.styleMirror);return(b&&b!==-1||_&&_!==-1)&&e({id:b,styleId:_,replace:y}),f.apply(p,g)})}));let a;r.CSSStyleSheet.prototype.replaceSync&&(a=r.CSSStyleSheet.prototype.replaceSync,r.CSSStyleSheet.prototype.replaceSync=new Proxy(a,{apply:on((f,p,g)=>{const[y]=g,{id:b,styleId:_}=ll(p,t,n.styleMirror);return(b&&b!==-1||_&&_!==-1)&&e({id:b,styleId:_,replaceSync:y}),f.apply(p,g)})}));const l={};vg("CSSGroupingRule")?l.CSSGroupingRule=r.CSSGroupingRule:(vg("CSSMediaRule")&&(l.CSSMediaRule=r.CSSMediaRule),vg("CSSConditionRule")&&(l.CSSConditionRule=r.CSSConditionRule),vg("CSSSupportsRule")&&(l.CSSSupportsRule=r.CSSSupportsRule));const c={};return Object.entries(l).forEach(([f,p])=>{c[f]={insertRule:p.prototype.insertRule,deleteRule:p.prototype.deleteRule},p.prototype.insertRule=new Proxy(c[f].insertRule,{apply:on((g,y,b)=>{const[_,C]=b,{id:E,styleId:R}=ll(y.parentStyleSheet,t,n.styleMirror);return(E&&E!==-1||R&&R!==-1)&&e({id:E,styleId:R,adds:[{rule:_,index:[...F0(y),C||0]}]}),g.apply(y,b)})}),p.prototype.deleteRule=new Proxy(c[f].deleteRule,{apply:on((g,y,b)=>{const[_]=b,{id:C,styleId:E}=ll(y.parentStyleSheet,t,n.styleMirror);return(C&&C!==-1||E&&E!==-1)&&e({id:C,styleId:E,removes:[{index:[...F0(y),_]}]}),g.apply(y,b)})})}),on(()=>{r.CSSStyleSheet.prototype.insertRule=i,r.CSSStyleSheet.prototype.deleteRule=s,o&&(r.CSSStyleSheet.prototype.replace=o),a&&(r.CSSStyleSheet.prototype.replaceSync=a),Object.entries(l).forEach(([f,p])=>{p.prototype.insertRule=c[f].insertRule,p.prototype.deleteRule=c[f].deleteRule})})}function E9({mirror:e,stylesheetManager:t},n){let r=null;n.nodeName==="#document"?r=e.getId(n):r=e.getId(n.host);const i=n.nodeName==="#document"?no([n,"access",o=>o.defaultView,"optionalAccess",o=>o.Document]):no([n,"access",o=>o.ownerDocument,"optionalAccess",o=>o.defaultView,"optionalAccess",o=>o.ShadowRoot]),s=no([i,"optionalAccess",o=>o.prototype])?Object.getOwnPropertyDescriptor(no([i,"optionalAccess",o=>o.prototype]),"adoptedStyleSheets"):void 0;return r===null||r===-1||!i||!s?()=>{}:(Object.defineProperty(n,"adoptedStyleSheets",{configurable:s.configurable,enumerable:s.enumerable,get(){return no([s,"access",o=>o.get,"optionalAccess",o=>o.call,"call",o=>o(this)])},set(o){const a=no([s,"access",l=>l.set,"optionalAccess",l=>l.call,"call",l=>l(this,o)]);if(r!==null&&r!==-1)try{t.adoptStyleSheets(o,r)}catch{}return a}}),on(()=>{Object.defineProperty(n,"adoptedStyleSheets",{configurable:s.configurable,enumerable:s.enumerable,get:s.get,set:s.set})}))}function sH({styleDeclarationCb:e,mirror:t,ignoreCSSAttributes:n,stylesheetManager:r},{win:i}){const s=i.CSSStyleDeclaration.prototype.setProperty;i.CSSStyleDeclaration.prototype.setProperty=new Proxy(s,{apply:on((a,l,c)=>{const[f,p,g]=c;if(n.has(f))return s.apply(l,[f,p,g]);const{id:y,styleId:b}=ll(no([l,"access",_=>_.parentRule,"optionalAccess",_=>_.parentStyleSheet]),t,r.styleMirror);return(y&&y!==-1||b&&b!==-1)&&e({id:y,styleId:b,set:{property:f,value:p,priority:g},index:F0(l.parentRule)}),a.apply(l,c)})});const o=i.CSSStyleDeclaration.prototype.removeProperty;return i.CSSStyleDeclaration.prototype.removeProperty=new Proxy(o,{apply:on((a,l,c)=>{const[f]=c;if(n.has(f))return o.apply(l,[f]);const{id:p,styleId:g}=ll(no([l,"access",y=>y.parentRule,"optionalAccess",y=>y.parentStyleSheet]),t,r.styleMirror);return(p&&p!==-1||g&&g!==-1)&&e({id:p,styleId:g,remove:{property:f},index:F0(l.parentRule)}),a.apply(l,c)})}),on(()=>{i.CSSStyleDeclaration.prototype.setProperty=s,i.CSSStyleDeclaration.prototype.removeProperty=o})}function oH({mediaInteractionCb:e,blockClass:t,blockSelector:n,unblockSelector:r,mirror:i,sampling:s,doc:o}){const a=on(c=>tp(on(f=>{const p=Pp(f);if(!p||ls(p,t,n,r,!0))return;const{currentTime:g,volume:y,muted:b,playbackRate:_}=p;e({type:c,id:i.getId(p),currentTime:g,volume:y,muted:b,playbackRate:_})}),s.media||500)),l=[wi("play",a(0),o),wi("pause",a(1),o),wi("seeked",a(2),o),wi("volumechange",a(3),o),wi("ratechange",a(4),o)];return on(()=>{l.forEach(c=>c())})}function aH({fontCb:e,doc:t}){const n=t.defaultView;if(!n)return()=>{};const r=[],i=new WeakMap,s=n.FontFace;n.FontFace=function(l,c,f){const p=new s(l,c,f);return i.set(p,{family:l,buffer:typeof c!="string",descriptors:f,fontSource:typeof c=="string"?c:JSON.stringify(Array.from(new Uint8Array(c)))}),p};const o=a_(t.fonts,"add",function(a){return function(l){return Oy(on(()=>{const c=i.get(l);c&&(e(c),i.delete(l))}),0),a.apply(this,[l])}});return r.push(()=>{n.FontFace=s}),r.push(o),on(()=>{r.forEach(a=>a())})}function lH(e){const{doc:t,mirror:n,blockClass:r,blockSelector:i,unblockSelector:s,selectionCb:o}=e;let a=!0;const l=on(()=>{const c=t.getSelection();if(!c||a&&no([c,"optionalAccess",g=>g.isCollapsed]))return;a=c.isCollapsed||!1;const f=[],p=c.rangeCount||0;for(let g=0;g<p;g++){const y=c.getRangeAt(g),{startContainer:b,startOffset:_,endContainer:C,endOffset:E}=y;ls(b,r,i,s,!0)||ls(C,r,i,s,!0)||f.push({start:n.getId(b),startOffset:_,end:n.getId(C),endOffset:E})}o({ranges:f})});return l(),wi("selectionchange",l)}function uH({doc:e,customElementCb:t}){const n=e.defaultView;return!n||!n.customElements?()=>{}:a_(n.customElements,"define",function(i){return function(s,o,a){try{t({define:{name:s}})}catch{}return i.apply(this,[s,o,a])}})}function cH(e,t={}){const n=e.doc.defaultView;if(!n)return()=>{};let r;e.recordDOM&&(r=S9(e,e.doc));const i=ZU(e),s=eH(e),o=C9(e),a=tH(e,{win:n}),l=rH(e),c=oH(e);let f=()=>{},p=()=>{},g=()=>{},y=()=>{};e.recordDOM&&(f=iH(e,{win:n}),p=E9(e,e.doc),g=sH(e,{win:n}),e.collectFonts&&(y=aH(e)));const b=lH(e),_=uH(e),C=[];for(const E of e.plugins)C.push(E.observer(E.callback,n,E.options));return on(()=>{Id.forEach(E=>E.reset()),no([r,"optionalAccess",E=>E.disconnect,"call",E=>E()]),i(),s(),o(),a(),l(),c(),f(),p(),g(),y(),b(),_(),C.forEach(E=>E())})}function yg(e){return typeof window[e]<"u"}function vg(e){return!!(typeof window[e]<"u"&&window[e].prototype&&"insertRule"in window[e].prototype&&"deleteRule"in window[e].prototype)}class hw{constructor(t){this.generateIdFn=t,this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap}getId(t,n,r,i){const s=r||this.getIdToRemoteIdMap(t),o=i||this.getRemoteIdToIdMap(t);let a=s.get(n);return a||(a=this.generateIdFn(),s.set(n,a),o.set(a,n)),a}getIds(t,n){const r=this.getIdToRemoteIdMap(t),i=this.getRemoteIdToIdMap(t);return n.map(s=>this.getId(t,s,r,i))}getRemoteId(t,n,r){const i=r||this.getRemoteIdToIdMap(t);if(typeof n!="number")return n;const s=i.get(n);return s||-1}getRemoteIds(t,n){const r=this.getRemoteIdToIdMap(t);return n.map(i=>this.getRemoteId(t,i,r))}reset(t){if(!t){this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap;return}this.iframeIdToRemoteIdMap.delete(t),this.iframeRemoteIdToIdMap.delete(t)}getIdToRemoteIdMap(t){let n=this.iframeIdToRemoteIdMap.get(t);return n||(n=new Map,this.iframeIdToRemoteIdMap.set(t,n)),n}getRemoteIdToIdMap(t){let n=this.iframeRemoteIdToIdMap.get(t);return n||(n=new Map,this.iframeRemoteIdToIdMap.set(t,n)),n}}function kE(e){let t,n=e[0],r=1;for(;r<e.length;){const i=e[r],s=e[r+1];if(r+=2,(i==="optionalAccess"||i==="optionalCall")&&n==null)return;i==="access"||i==="optionalAccess"?(t=n,n=s(n)):(i==="call"||i==="optionalCall")&&(n=s((...o)=>n.call(t,...o)),t=void 0)}return n}class dH{constructor(){this.crossOriginIframeMirror=new hw(o_),this.crossOriginIframeRootIdMap=new WeakMap}addIframe(){}addLoadListener(){}attachIframe(){}}class fH{constructor(t){this.iframes=new WeakMap,this.crossOriginIframeMap=new WeakMap,this.crossOriginIframeMirror=new hw(o_),this.crossOriginIframeRootIdMap=new WeakMap,this.mutationCb=t.mutationCb,this.wrappedEmit=t.wrappedEmit,this.stylesheetManager=t.stylesheetManager,this.recordCrossOriginIframes=t.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new hw(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=t.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}addIframe(t){this.iframes.set(t,!0),t.contentWindow&&this.crossOriginIframeMap.set(t.contentWindow,t)}addLoadListener(t){this.loadListener=t}attachIframe(t,n){this.mutationCb({adds:[{parentId:this.mirror.getId(t),nextId:null,node:n}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),kE([this,"access",i=>i.loadListener,"optionalCall",i=>i(t)]);const r=u_(t);r&&r.adoptedStyleSheets&&r.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(r.adoptedStyleSheets,this.mirror.getId(r))}handleMessage(t){const n=t;if(n.data.type!=="rrweb"||n.origin!==n.data.origin||!t.source)return;const i=this.crossOriginIframeMap.get(t.source);if(!i)return;const s=this.transformCrossOriginEvent(i,n.data.event);s&&this.wrappedEmit(s,n.data.isCheckout)}transformCrossOriginEvent(t,n){switch(n.type){case Wt.FullSnapshot:{this.crossOriginIframeMirror.reset(t),this.crossOriginIframeStyleMirror.reset(t),this.replaceIdOnNode(n.data.node,t);const r=n.data.node.id;return this.crossOriginIframeRootIdMap.set(t,r),this.patchRootIdOnNode(n.data.node,r),{timestamp:n.timestamp,type:Wt.IncrementalSnapshot,data:{source:kt.Mutation,adds:[{parentId:this.mirror.getId(t),nextId:null,node:n.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}}}case Wt.Meta:case Wt.Load:case Wt.DomContentLoaded:return!1;case Wt.Plugin:return n;case Wt.Custom:return this.replaceIds(n.data.payload,t,["id","parentId","previousId","nextId"]),n;case Wt.IncrementalSnapshot:switch(n.data.source){case kt.Mutation:return n.data.adds.forEach(r=>{this.replaceIds(r,t,["parentId","nextId","previousId"]),this.replaceIdOnNode(r.node,t);const i=this.crossOriginIframeRootIdMap.get(t);i&&this.patchRootIdOnNode(r.node,i)}),n.data.removes.forEach(r=>{this.replaceIds(r,t,["parentId","id"])}),n.data.attributes.forEach(r=>{this.replaceIds(r,t,["id"])}),n.data.texts.forEach(r=>{this.replaceIds(r,t,["id"])}),n;case kt.Drag:case kt.TouchMove:case kt.MouseMove:return n.data.positions.forEach(r=>{this.replaceIds(r,t,["id"])}),n;case kt.ViewportResize:return!1;case kt.MediaInteraction:case kt.MouseInteraction:case kt.Scroll:case kt.CanvasMutation:case kt.Input:return this.replaceIds(n.data,t,["id"]),n;case kt.StyleSheetRule:case kt.StyleDeclaration:return this.replaceIds(n.data,t,["id"]),this.replaceStyleIds(n.data,t,["styleId"]),n;case kt.Font:return n;case kt.Selection:return n.data.ranges.forEach(r=>{this.replaceIds(r,t,["start","end"])}),n;case kt.AdoptedStyleSheet:return this.replaceIds(n.data,t,["id"]),this.replaceStyleIds(n.data,t,["styleIds"]),kE([n,"access",r=>r.data,"access",r=>r.styles,"optionalAccess",r=>r.forEach,"call",r=>r(i=>{this.replaceStyleIds(i,t,["styleId"])})]),n}}return!1}replace(t,n,r,i){for(const s of i)!Array.isArray(n[s])&&typeof n[s]!="number"||(Array.isArray(n[s])?n[s]=t.getIds(r,n[s]):n[s]=t.getId(r,n[s]));return n}replaceIds(t,n,r){return this.replace(this.crossOriginIframeMirror,t,n,r)}replaceStyleIds(t,n,r){return this.replace(this.crossOriginIframeStyleMirror,t,n,r)}replaceIdOnNode(t,n){this.replaceIds(t,n,["id","rootId"]),"childNodes"in t&&t.childNodes.forEach(r=>{this.replaceIdOnNode(r,n)})}patchRootIdOnNode(t,n){t.type!==Tr.Document&&!t.rootId&&(t.rootId=n),"childNodes"in t&&t.childNodes.forEach(r=>{this.patchRootIdOnNode(r,n)})}}class hH{init(){}addShadowRoot(){}observeAttachShadow(){}reset(){}}class pH{constructor(t){this.shadowDoms=new WeakSet,this.restoreHandlers=[],this.mutationCb=t.mutationCb,this.scrollCb=t.scrollCb,this.bypassOptions=t.bypassOptions,this.mirror=t.mirror,this.init()}init(){this.reset(),this.patchAttachShadow(Element,document)}addShadowRoot(t,n){if(!Dh(t)||this.shadowDoms.has(t))return;this.shadowDoms.add(t),this.bypassOptions.canvasManager.addShadowRoot(t);const r=S9({...this.bypassOptions,doc:n,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this},t);this.restoreHandlers.push(()=>r.disconnect()),this.restoreHandlers.push(C9({...this.bypassOptions,scrollCb:this.scrollCb,doc:t,mirror:this.mirror})),Oy(()=>{t.adoptedStyleSheets&&t.adoptedStyleSheets.length>0&&this.bypassOptions.stylesheetManager.adoptStyleSheets(t.adoptedStyleSheets,this.mirror.getId(t.host)),this.restoreHandlers.push(E9({mirror:this.mirror,stylesheetManager:this.bypassOptions.stylesheetManager},t))},0)}observeAttachShadow(t){const n=u_(t),r=qU(t);!n||!r||this.patchAttachShadow(r.Element,n)}patchAttachShadow(t,n){const r=this;this.restoreHandlers.push(a_(t.prototype,"attachShadow",function(i){return function(s){const o=i.call(this,s);return this.shadowRoot&&w9(this)&&r.addShadowRoot(this.shadowRoot,n),o}}))}reset(){this.restoreHandlers.forEach(t=>{try{t()}catch{}}),this.restoreHandlers=[],this.shadowDoms=new WeakSet,this.bypassOptions.canvasManager.resetShadowRoots()}}class TE{reset(){}freeze(){}unfreeze(){}lock(){}unlock(){}snapshot(){}addWindow(){}addShadowRoot(){}resetShadowRoots(){}}class mH{constructor(t){this.trackedLinkElements=new WeakSet,this.styleMirror=new $U,this.mutationCb=t.mutationCb,this.adoptedStyleSheetCb=t.adoptedStyleSheetCb}attachLinkElement(t,n){"_cssText"in n.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:n.id,attributes:n.attributes}]}),this.trackLinkElement(t)}trackLinkElement(t){this.trackedLinkElements.has(t)||(this.trackedLinkElements.add(t),this.trackStylesheetInLinkElement(t))}adoptStyleSheets(t,n){if(t.length===0)return;const r={id:n,styleIds:[]},i=[];for(const s of t){let o;this.styleMirror.has(s)?o=this.styleMirror.getId(s):(o=this.styleMirror.add(s),i.push({styleId:o,rules:Array.from(s.rules||CSSRule,(a,l)=>({rule:i9(a),index:l}))})),r.styleIds.push(o)}i.length>0&&(r.styles=i),this.adoptedStyleSheetCb(r)}reset(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet}trackStylesheetInLinkElement(t){}}class gH{constructor(){this.nodeMap=new WeakMap,this.active=!1}inOtherBuffer(t,n){const r=this.nodeMap.get(t);return r&&Array.from(r).some(i=>i!==n)}add(t,n){this.active||(this.active=!0,WU(()=>{this.nodeMap=new WeakMap,this.active=!1})),this.nodeMap.set(t,(this.nodeMap.get(t)||new Set).add(n))}destroy(){}}let rr,B0;try{if(Array.from([1],e=>e*2)[0]!==2){const e=document.createElement("iframe");document.body.appendChild(e),Array.from=f0([e,"access",t=>t.contentWindow,"optionalAccess",t=>t.Array,"access",t=>t.from])||Array.from,document.body.removeChild(e)}}catch(e){console.debug("Unable to override Array.from",e)}const Xs=mU();function ya(e={}){const{emit:t,checkoutEveryNms:n,checkoutEveryNth:r,blockClass:i="rr-block",blockSelector:s=null,unblockSelector:o=null,ignoreClass:a="rr-ignore",ignoreSelector:l=null,maskAllText:c=!1,maskTextClass:f="rr-mask",unmaskTextClass:p=null,maskTextSelector:g=null,unmaskTextSelector:y=null,inlineStylesheet:b=!0,maskAllInputs:_,maskInputOptions:C,slimDOMOptions:E,maskAttributeFn:R,maskInputFn:M,maskTextFn:U,maxCanvasSize:z=null,packFn:P,sampling:N={},dataURLOptions:B={},mousemoveWait:$,recordDOM:D=!0,recordCanvas:J=!1,recordCrossOriginIframes:X=!1,recordAfter:ie=e.recordAfter==="DOMContentLoaded"?e.recordAfter:"load",userTriggeredOnInput:q=!1,collectFonts:V=!1,inlineImages:K=!1,plugins:ne,keepIframeSrcFn:Y=()=>!1,ignoreCSSAttributes:de=new Set([]),errorHandler:F,onMutation:Z,getCanvasManager:ge}=e;XU(F);const H=X?window.parent===window:!0;let je=!1;if(!H)try{window.parent.document&&(je=!1)}catch{je=!0}if(H&&!t)throw new Error("emit function is required");if(!H&&!je)return()=>{};$!==void 0&&N.mousemove===void 0&&(N.mousemove=$),Xs.reset();const ke=_===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,radio:!0,checkbox:!0}:C!==void 0?C:{},Te=E===!0||E==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:E==="all",headMetaDescKeywords:E==="all"}:E||{};zU();let Ke,We=0;const Ie=_t=>{for(const ln of ne||[])ln.eventProcessor&&(_t=ln.eventProcessor(_t));return P&&!je&&(_t=P(_t)),_t};rr=(_t,ln)=>{const Ct=_t;if(Ct.timestamp=L0(),f0([Id,"access",Zt=>Zt[0],"optionalAccess",Zt=>Zt.isFrozen,"call",Zt=>Zt()])&&Ct.type!==Wt.FullSnapshot&&!(Ct.type===Wt.IncrementalSnapshot&&Ct.data.source===kt.Mutation)&&Id.forEach(Zt=>Zt.unfreeze()),H)f0([t,"optionalCall",Zt=>Zt(Ie(Ct),ln)]);else if(je){const Zt={type:"rrweb",event:Ie(Ct),origin:window.location.origin,isCheckout:ln};window.parent.postMessage(Zt,"*")}if(Ct.type===Wt.FullSnapshot)Ke=Ct,We=0;else if(Ct.type===Wt.IncrementalSnapshot){if(Ct.data.source===kt.Mutation&&Ct.data.isAttachIframe)return;We++;const Zt=r&&We>=r,xt=n&&Ke&&Ct.timestamp-Ke.timestamp>n;(Zt||xt)&&pi(!0)}};const Lt=_t=>{rr({type:Wt.IncrementalSnapshot,data:{source:kt.Mutation,..._t}})},Vn=_t=>rr({type:Wt.IncrementalSnapshot,data:{source:kt.Scroll,..._t}}),ct=_t=>rr({type:Wt.IncrementalSnapshot,data:{source:kt.CanvasMutation,..._t}}),mn=_t=>rr({type:Wt.IncrementalSnapshot,data:{source:kt.AdoptedStyleSheet,..._t}}),bn=new mH({mutationCb:Lt,adoptedStyleSheetCb:mn}),yn=typeof __RRWEB_EXCLUDE_IFRAME__=="boolean"&&__RRWEB_EXCLUDE_IFRAME__?new dH:new fH({mirror:Xs,mutationCb:Lt,stylesheetManager:bn,recordCrossOriginIframes:X,wrappedEmit:rr});for(const _t of ne||[])_t.getMirror&&_t.getMirror({nodeMirror:Xs,crossOriginIframeMirror:yn.crossOriginIframeMirror,crossOriginIframeStyleMirror:yn.crossOriginIframeStyleMirror});const vr=new gH,Ei=vH(ge,{mirror:Xs,win:window,mutationCb:_t=>rr({type:Wt.IncrementalSnapshot,data:{source:kt.CanvasMutation,..._t}}),recordCanvas:J,blockClass:i,blockSelector:s,unblockSelector:o,maxCanvasSize:z,sampling:N.canvas,dataURLOptions:B,errorHandler:F}),Ki=typeof __RRWEB_EXCLUDE_SHADOW_DOM__=="boolean"&&__RRWEB_EXCLUDE_SHADOW_DOM__?new hH:new pH({mutationCb:Lt,scrollCb:Vn,bypassOptions:{onMutation:Z,blockClass:i,blockSelector:s,unblockSelector:o,maskAllText:c,maskTextClass:f,unmaskTextClass:p,maskTextSelector:g,unmaskTextSelector:y,inlineStylesheet:b,maskInputOptions:ke,dataURLOptions:B,maskAttributeFn:R,maskTextFn:U,maskInputFn:M,recordCanvas:J,inlineImages:K,sampling:N,slimDOMOptions:Te,iframeManager:yn,stylesheetManager:bn,canvasManager:Ei,keepIframeSrcFn:Y,processedNodeManager:vr},mirror:Xs}),pi=(_t=!1)=>{if(!D)return;rr({type:Wt.Meta,data:{href:window.location.href,width:m9(),height:p9()}},_t),bn.reset(),Ki.init(),Id.forEach(Ct=>Ct.lock());const ln=FU(document,{mirror:Xs,blockClass:i,blockSelector:s,unblockSelector:o,maskAllText:c,maskTextClass:f,unmaskTextClass:p,maskTextSelector:g,unmaskTextSelector:y,inlineStylesheet:b,maskAllInputs:ke,maskAttributeFn:R,maskInputFn:M,maskTextFn:U,slimDOM:Te,dataURLOptions:B,recordCanvas:J,inlineImages:K,onSerialize:Ct=>{v9(Ct,Xs)&&yn.addIframe(Ct),x9(Ct,Xs)&&bn.trackLinkElement(Ct),dw(Ct)&&Ki.addShadowRoot(Ct.shadowRoot,document)},onIframeLoad:(Ct,Zt)=>{yn.attachIframe(Ct,Zt),Ct.contentWindow&&Ei.addWindow(Ct.contentWindow),Ki.observeAttachShadow(Ct)},onStylesheetLoad:(Ct,Zt)=>{bn.attachLinkElement(Ct,Zt)},keepIframeSrcFn:Y});if(!ln)return console.warn("Failed to snapshot the document");rr({type:Wt.FullSnapshot,data:{node:ln,initialOffset:h9(window)}}),Id.forEach(Ct=>Ct.unlock()),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&bn.adoptStyleSheets(document.adoptedStyleSheets,Xs.getId(document))};B0=pi;try{const _t=[],ln=Zt=>on(cH)({onMutation:Z,mutationCb:Lt,mousemoveCb:(xt,Ln)=>rr({type:Wt.IncrementalSnapshot,data:{source:Ln,positions:xt}}),mouseInteractionCb:xt=>rr({type:Wt.IncrementalSnapshot,data:{source:kt.MouseInteraction,...xt}}),scrollCb:Vn,viewportResizeCb:xt=>rr({type:Wt.IncrementalSnapshot,data:{source:kt.ViewportResize,...xt}}),inputCb:xt=>rr({type:Wt.IncrementalSnapshot,data:{source:kt.Input,...xt}}),mediaInteractionCb:xt=>rr({type:Wt.IncrementalSnapshot,data:{source:kt.MediaInteraction,...xt}}),styleSheetRuleCb:xt=>rr({type:Wt.IncrementalSnapshot,data:{source:kt.StyleSheetRule,...xt}}),styleDeclarationCb:xt=>rr({type:Wt.IncrementalSnapshot,data:{source:kt.StyleDeclaration,...xt}}),canvasMutationCb:ct,fontCb:xt=>rr({type:Wt.IncrementalSnapshot,data:{source:kt.Font,...xt}}),selectionCb:xt=>{rr({type:Wt.IncrementalSnapshot,data:{source:kt.Selection,...xt}})},customElementCb:xt=>{rr({type:Wt.IncrementalSnapshot,data:{source:kt.CustomElement,...xt}})},blockClass:i,ignoreClass:a,ignoreSelector:l,maskAllText:c,maskTextClass:f,unmaskTextClass:p,maskTextSelector:g,unmaskTextSelector:y,maskInputOptions:ke,inlineStylesheet:b,sampling:N,recordDOM:D,recordCanvas:J,inlineImages:K,userTriggeredOnInput:q,collectFonts:V,doc:Zt,maskAttributeFn:R,maskInputFn:M,maskTextFn:U,keepIframeSrcFn:Y,blockSelector:s,unblockSelector:o,slimDOMOptions:Te,dataURLOptions:B,mirror:Xs,iframeManager:yn,stylesheetManager:bn,shadowDomManager:Ki,processedNodeManager:vr,canvasManager:Ei,ignoreCSSAttributes:de,plugins:f0([ne,"optionalAccess",xt=>xt.filter,"call",xt=>xt(Ln=>Ln.observer),"optionalAccess",xt=>xt.map,"call",xt=>xt(Ln=>({observer:Ln.observer,options:Ln.options,callback:Ce=>rr({type:Wt.Plugin,data:{plugin:Ln.name,payload:Ce}})}))])||[]},{});yn.addLoadListener(Zt=>{try{_t.push(ln(Zt.contentDocument))}catch(xt){console.warn(xt)}});const Ct=()=>{pi(),_t.push(ln(document))};return document.readyState==="interactive"||document.readyState==="complete"?Ct():(_t.push(wi("DOMContentLoaded",()=>{rr({type:Wt.DomContentLoaded,data:{}}),ie==="DOMContentLoaded"&&Ct()})),_t.push(wi("load",()=>{rr({type:Wt.Load,data:{}}),ie==="load"&&Ct()},window))),()=>{_t.forEach(Zt=>Zt()),vr.destroy(),B0=void 0,JU()}}catch(_t){console.warn(_t)}}function yH(e){if(!B0)throw new Error("please take full snapshot after start recording");B0(e)}ya.mirror=Xs;ya.takeFullSnapshot=yH;function vH(e,t){try{return e?e(t):new TE}catch{return console.warn("Unable to initialize CanvasManager"),new TE}}const xH=3,bH=5;function c_(e){return e>9999999999?e:e*1e3}function gx(e){return e>9999999999?e/1e3:e}function Op(e,t){t.category!=="sentry.transaction"&&(["ui.click","ui.input"].includes(t.category)?e.triggerUserActivity():e.checkAndHandleExpiredSession(),e.addUpdate(()=>(e.throttledAddEvent({type:Wt.Custom,timestamp:(t.timestamp||0)*1e3,data:{tag:"breadcrumb",payload:Zs(t,10,1e3)}}),t.category==="console")))}const wH="button,a";function k9(e){return e.closest(wH)||e}function T9(e){const t=j9(e);return!t||!(t instanceof Element)?t:k9(t)}function j9(e){return _H(e)?e.target:e}function _H(e){return typeof e=="object"&&!!e&&"target"in e}let ul;function SH(e){return ul||(ul=[],CH()),ul.push(e),()=>{const t=ul?ul.indexOf(e):-1;t>-1&&ul.splice(t,1)}}function CH(){$i(Nn,"open",function(e){return function(...t){if(ul)try{ul.forEach(n=>n())}catch{}return e.apply(Nn,t)}})}const EH=new Set([kt.Mutation,kt.StyleSheetRule,kt.StyleDeclaration,kt.AdoptedStyleSheet,kt.CanvasMutation,kt.Selection,kt.MediaInteraction]);function kH(e,t,n){e.handleClick(t,n)}class TH{constructor(t,n,r=Op){this._lastMutation=0,this._lastScroll=0,this._clicks=[],this._timeout=n.timeout/1e3,this._threshold=n.threshold/1e3,this._scrollTimeout=n.scrollTimeout/1e3,this._replay=t,this._ignoreSelector=n.ignoreSelector,this._addBreadcrumbEvent=r}addListeners(){const t=SH(()=>{this._lastMutation=jE()});this._teardown=()=>{t(),this._clicks=[],this._lastMutation=0,this._lastScroll=0}}removeListeners(){this._teardown&&this._teardown(),this._checkClickTimeout&&clearTimeout(this._checkClickTimeout)}handleClick(t,n){if(IH(n,this._ignoreSelector)||!NH(t))return;const r={timestamp:gx(t.timestamp),clickBreadcrumb:t,clickCount:0,node:n};this._clicks.some(i=>i.node===r.node&&Math.abs(i.timestamp-r.timestamp)<1)||(this._clicks.push(r),this._clicks.length===1&&this._scheduleCheckClicks())}registerMutation(t=Date.now()){this._lastMutation=gx(t)}registerScroll(t=Date.now()){this._lastScroll=gx(t)}registerClick(t){const n=k9(t);this._handleMultiClick(n)}_handleMultiClick(t){this._getClicks(t).forEach(n=>{n.clickCount++})}_getClicks(t){return this._clicks.filter(n=>n.node===t)}_checkClicks(){const t=[],n=jE();this._clicks.forEach(r=>{!r.mutationAfter&&this._lastMutation&&(r.mutationAfter=r.timestamp<=this._lastMutation?this._lastMutation-r.timestamp:void 0),!r.scrollAfter&&this._lastScroll&&(r.scrollAfter=r.timestamp<=this._lastScroll?this._lastScroll-r.timestamp:void 0),r.timestamp+this._timeout<=n&&t.push(r)});for(const r of t){const i=this._clicks.indexOf(r);i>-1&&(this._generateBreadcrumbs(r),this._clicks.splice(i,1))}this._clicks.length&&this._scheduleCheckClicks()}_generateBreadcrumbs(t){const n=this._replay,r=t.scrollAfter&&t.scrollAfter<=this._scrollTimeout,i=t.mutationAfter&&t.mutationAfter<=this._threshold,s=!r&&!i,{clickCount:o,clickBreadcrumb:a}=t;if(s){const l=Math.min(t.mutationAfter||this._timeout,this._timeout)*1e3,c=l<this._timeout*1e3?"mutation":"timeout",f={type:"default",message:a.message,timestamp:a.timestamp,category:"ui.slowClickDetected",data:{...a.data,url:Nn.location.href,route:n.getCurrentRoute(),timeAfterClickMs:l,endReason:c,clickCount:o||1}};this._addBreadcrumbEvent(n,f);return}if(o>1){const l={type:"default",message:a.message,timestamp:a.timestamp,category:"ui.multiClick",data:{...a.data,url:Nn.location.href,route:n.getCurrentRoute(),clickCount:o,metric:!0}};this._addBreadcrumbEvent(n,l)}}_scheduleCheckClicks(){this._checkClickTimeout&&clearTimeout(this._checkClickTimeout),this._checkClickTimeout=Vd(()=>this._checkClicks(),1e3)}}const jH=["A","BUTTON","INPUT"];function IH(e,t){return!!(!jH.includes(e.tagName)||e.tagName==="INPUT"&&!["submit","button"].includes(e.getAttribute("type")||"")||e.tagName==="A"&&(e.hasAttribute("download")||e.hasAttribute("target")&&e.getAttribute("target")!=="_self")||t&&e.matches(t))}function NH(e){return!!(e.data&&typeof e.data.nodeId=="number"&&e.timestamp)}function jE(){return Date.now()/1e3}function RH(e,t){try{if(!PH(t))return;const{source:n}=t.data;if(EH.has(n)&&e.registerMutation(t.timestamp),n===kt.Scroll&&e.registerScroll(t.timestamp),OH(t)){const{type:r,id:i}=t.data,s=ya.mirror.getNode(i);s instanceof HTMLElement&&r===vi.Click&&e.registerClick(s)}}catch{}}function PH(e){return e.type===xH}function OH(e){return e.data.source===kt.MouseInteraction}function Io(e){return{timestamp:Date.now()/1e3,type:"default",...e}}var z0;(function(e){e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment"})(z0||(z0={}));const MH=new Set(["id","class","aria-label","role","name","alt","title","data-test-id","data-testid","disabled","aria-disabled","data-sentry-component"]);function AH(e){const t={};!e["data-sentry-component"]&&e["data-sentry-element"]&&(e["data-sentry-component"]=e["data-sentry-element"]);for(const n in e)if(MH.has(n)){let r=n;(n==="data-testid"||n==="data-test-id")&&(r="testId"),t[r]=e[n]}return t}const DH=e=>t=>{if(!e.isEnabled())return;const n=LH(t);if(!n)return;const r=t.name==="click",i=r?t.event:void 0;r&&e.clickDetector&&i&&i.target&&!i.altKey&&!i.metaKey&&!i.ctrlKey&&!i.shiftKey&&kH(e.clickDetector,n,T9(t.event)),Op(e,n)};function I9(e,t){const n=ya.mirror.getId(e),r=n&&ya.mirror.getNode(n),i=r&&ya.mirror.getMeta(r),s=i&&BH(i)?i:null;return{message:t,data:s?{nodeId:n,node:{id:n,tagName:s.tagName,textContent:Array.from(s.childNodes).map(o=>o.type===z0.Text&&o.textContent).filter(Boolean).map(o=>o.trim()).join(""),attributes:AH(s.attributes)}}:{}}}function LH(e){const{target:t,message:n}=FH(e);return Io({category:`ui.${e.name}`,...I9(t,n)})}function FH(e){const t=e.name==="click";let n,r=null;try{r=t?T9(e.event):j9(e.event),n=wa(r,{maxStringLength:200})||"<unknown>"}catch{n="<unknown>"}return{target:r,message:n}}function BH(e){return e.type===z0.Element}function zH(e,t){if(!e.isEnabled())return;e.updateUserActivity();const n=$H(t);n&&Op(e,n)}function $H(e){const{metaKey:t,shiftKey:n,ctrlKey:r,altKey:i,key:s,target:o}=e;if(!o||UH(o)||!s)return null;const a=t||r||i,l=s.length===1;if(!a&&l)return null;const c=wa(o,{maxStringLength:200})||"<unknown>",f=I9(o,c);return Io({category:"ui.keyDown",message:c,data:{...f.data,metaKey:t,shiftKey:n,ctrlKey:r,altKey:i,key:s}})}function UH(e){return e.tagName==="INPUT"||e.tagName==="TEXTAREA"||e.isContentEditable}const HH={resource:KH,paint:qH,navigation:QH};function xg(e,t){return({metric:n})=>void t.replayPerformanceEntries.push(e(n))}function WH(e){return e.map(VH).filter(Boolean)}function VH(e){const t=HH[e.entryType];return t?t(e):null}function Kd(e){return((Ci||Nn.performance.timeOrigin)+e)/1e3}function qH(e){const{duration:t,entryType:n,name:r,startTime:i}=e,s=Kd(i);return{type:n,name:r,start:s,end:s+t,data:void 0}}function QH(e){const{entryType:t,name:n,decodedBodySize:r,duration:i,domComplete:s,encodedBodySize:o,domContentLoadedEventStart:a,domContentLoadedEventEnd:l,domInteractive:c,loadEventStart:f,loadEventEnd:p,redirectCount:g,startTime:y,transferSize:b,type:_}=e;return i===0?null:{type:`${t}.${_}`,start:Kd(y),end:Kd(s),name:n,data:{size:b,decodedBodySize:r,encodedBodySize:o,duration:i,domInteractive:c,domContentLoadedEventStart:a,domContentLoadedEventEnd:l,loadEventStart:f,loadEventEnd:p,domComplete:s,redirectCount:g}}}function KH(e){const{entryType:t,initiatorType:n,name:r,responseEnd:i,startTime:s,decodedBodySize:o,encodedBodySize:a,responseStatus:l,transferSize:c}=e;return["fetch","xmlhttprequest"].includes(n)?null:{type:`${t}.${n}`,start:Kd(s),end:Kd(i),name:r,data:{size:c,statusCode:l,decodedBodySize:o,encodedBodySize:a}}}function GH(e){const t=e.entries[e.entries.length-1],n=t&&t.element?[t.element]:void 0;return My(e,"largest-contentful-paint",n)}function YH(e){return e.sources!==void 0}function XH(e){const t=[],n=[];for(const r of e.entries)if(YH(r)){const i=[];for(const s of r.sources)if(s.node){n.push(s.node);const o=ya.mirror.getId(s.node);o&&i.push(o)}t.push({value:r.value,nodeIds:i.length?i:void 0})}return My(e,"cumulative-layout-shift",n,t)}function JH(e){const t=e.entries[e.entries.length-1],n=t&&t.target?[t.target]:void 0;return My(e,"first-input-delay",n)}function ZH(e){const t=e.entries[e.entries.length-1],n=t&&t.target?[t.target]:void 0;return My(e,"interaction-to-next-paint",n)}function My(e,t,n,r){const i=e.value,s=e.rating,o=Kd(i);return{type:"web-vital",name:t,start:o,end:o,data:{value:i,size:i,rating:s,nodeIds:n?n.map(a=>ya.mirror.getId(a)):void 0,attributions:r}}}function eW(e){function t(i){e.performanceEntries.includes(i)||e.performanceEntries.push(i)}function n({entries:i}){i.forEach(t)}const r=[];return["navigation","paint","resource"].forEach(i=>{r.push(Wd(i,n))}),r.push(qT(xg(GH,e)),e_(xg(XH,e)),QT(xg(JH,e)),KT(xg(ZH,e))),()=>{r.forEach(i=>i())}}const vt=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,tW='var t=Uint8Array,n=Uint16Array,r=Int32Array,e=new t([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),i=new t([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),a=new t([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),s=function(t,e){for(var i=new n(31),a=0;a<31;++a)i[a]=e+=1<<t[a-1];var s=new r(i[30]);for(a=1;a<30;++a)for(var o=i[a];o<i[a+1];++o)s[o]=o-i[a]<<5|a;return{b:i,r:s}},o=s(e,2),f=o.b,h=o.r;f[28]=258,h[258]=28;for(var l=s(i,0).r,u=new n(32768),c=0;c<32768;++c){var v=(43690&c)>>1|(21845&c)<<1;v=(61680&(v=(52428&v)>>2|(13107&v)<<2))>>4|(3855&v)<<4,u[c]=((65280&v)>>8|(255&v)<<8)>>1}var d=function(t,r,e){for(var i=t.length,a=0,s=new n(r);a<i;++a)t[a]&&++s[t[a]-1];var o,f=new n(r);for(a=1;a<r;++a)f[a]=f[a-1]+s[a-1]<<1;if(e){o=new n(1<<r);var h=15-r;for(a=0;a<i;++a)if(t[a])for(var l=a<<4|t[a],c=r-t[a],v=f[t[a]-1]++<<c,d=v|(1<<c)-1;v<=d;++v)o[u[v]>>h]=l}else for(o=new n(i),a=0;a<i;++a)t[a]&&(o[a]=u[f[t[a]-1]++]>>15-t[a]);return o},g=new t(288);for(c=0;c<144;++c)g[c]=8;for(c=144;c<256;++c)g[c]=9;for(c=256;c<280;++c)g[c]=7;for(c=280;c<288;++c)g[c]=8;var w=new t(32);for(c=0;c<32;++c)w[c]=5;var p=d(g,9,0),y=d(w,5,0),m=function(t){return(t+7)/8|0},b=function(n,r,e){return(null==e||e>n.length)&&(e=n.length),new t(n.subarray(r,e))},M=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],E=function(t,n,r){var e=new Error(n||M[t]);if(e.code=t,Error.captureStackTrace&&Error.captureStackTrace(e,E),!r)throw e;return e},z=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8},_=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8,t[e+2]|=r>>16},x=function(r,e){for(var i=[],a=0;a<r.length;++a)r[a]&&i.push({s:a,f:r[a]});var s=i.length,o=i.slice();if(!s)return{t:F,l:0};if(1==s){var f=new t(i[0].s+1);return f[i[0].s]=1,{t:f,l:1}}i.sort((function(t,n){return t.f-n.f})),i.push({s:-1,f:25001});var h=i[0],l=i[1],u=0,c=1,v=2;for(i[0]={s:-1,f:h.f+l.f,l:h,r:l};c!=s-1;)h=i[i[u].f<i[v].f?u++:v++],l=i[u!=c&&i[u].f<i[v].f?u++:v++],i[c++]={s:-1,f:h.f+l.f,l:h,r:l};var d=o[0].s;for(a=1;a<s;++a)o[a].s>d&&(d=o[a].s);var g=new n(d+1),w=A(i[c-1],g,0);if(w>e){a=0;var p=0,y=w-e,m=1<<y;for(o.sort((function(t,n){return g[n.s]-g[t.s]||t.f-n.f}));a<s;++a){var b=o[a].s;if(!(g[b]>e))break;p+=m-(1<<w-g[b]),g[b]=e}for(p>>=y;p>0;){var M=o[a].s;g[M]<e?p-=1<<e-g[M]++-1:++a}for(;a>=0&&p;--a){var E=o[a].s;g[E]==e&&(--g[E],++p)}w=e}return{t:new t(g),l:w}},A=function(t,n,r){return-1==t.s?Math.max(A(t.l,n,r+1),A(t.r,n,r+1)):n[t.s]=r},D=function(t){for(var r=t.length;r&&!t[--r];);for(var e=new n(++r),i=0,a=t[0],s=1,o=function(t){e[i++]=t},f=1;f<=r;++f)if(t[f]==a&&f!=r)++s;else{if(!a&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(a),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(a);s=1,a=t[f]}return{c:e.subarray(0,i),n:r}},T=function(t,n){for(var r=0,e=0;e<n.length;++e)r+=t[e]*n[e];return r},k=function(t,n,r){var e=r.length,i=m(n+2);t[i]=255&e,t[i+1]=e>>8,t[i+2]=255^t[i],t[i+3]=255^t[i+1];for(var a=0;a<e;++a)t[i+a+4]=r[a];return 8*(i+4+e)},U=function(t,r,s,o,f,h,l,u,c,v,m){z(r,m++,s),++f[256];for(var b=x(f,15),M=b.t,E=b.l,A=x(h,15),U=A.t,C=A.l,F=D(M),I=F.c,S=F.n,L=D(U),O=L.c,j=L.n,q=new n(19),B=0;B<I.length;++B)++q[31&I[B]];for(B=0;B<O.length;++B)++q[31&O[B]];for(var G=x(q,7),H=G.t,J=G.l,K=19;K>4&&!H[a[K-1]];--K);var N,P,Q,R,V=v+5<<3,W=T(f,g)+T(h,w)+l,X=T(f,M)+T(h,U)+l+14+3*K+T(q,H)+2*q[16]+3*q[17]+7*q[18];if(c>=0&&V<=W&&V<=X)return k(r,m,t.subarray(c,c+v));if(z(r,m,1+(X<W)),m+=2,X<W){N=d(M,E,0),P=M,Q=d(U,C,0),R=U;var Y=d(H,J,0);z(r,m,S-257),z(r,m+5,j-1),z(r,m+10,K-4),m+=14;for(B=0;B<K;++B)z(r,m+3*B,H[a[B]]);m+=3*K;for(var Z=[I,O],$=0;$<2;++$){var tt=Z[$];for(B=0;B<tt.length;++B){var nt=31&tt[B];z(r,m,Y[nt]),m+=H[nt],nt>15&&(z(r,m,tt[B]>>5&127),m+=tt[B]>>12)}}}else N=p,P=g,Q=y,R=w;for(B=0;B<u;++B){var rt=o[B];if(rt>255){_(r,m,N[(nt=rt>>18&31)+257]),m+=P[nt+257],nt>7&&(z(r,m,rt>>23&31),m+=e[nt]);var et=31&rt;_(r,m,Q[et]),m+=R[et],et>3&&(_(r,m,rt>>5&8191),m+=i[et])}else _(r,m,N[rt]),m+=P[rt]}return _(r,m,N[256]),m+P[256]},C=new r([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),F=new t(0),I=function(){for(var t=new Int32Array(256),n=0;n<256;++n){for(var r=n,e=9;--e;)r=(1&r&&-306674912)^r>>>1;t[n]=r}return t}(),S=function(){var t=-1;return{p:function(n){for(var r=t,e=0;e<n.length;++e)r=I[255&r^n[e]]^r>>>8;t=r},d:function(){return~t}}},L=function(){var t=1,n=0;return{p:function(r){for(var e=t,i=n,a=0|r.length,s=0;s!=a;){for(var o=Math.min(s+2655,a);s<o;++s)i+=e+=r[s];e=(65535&e)+15*(e>>16),i=(65535&i)+15*(i>>16)}t=e,n=i},d:function(){return(255&(t%=65521))<<24|(65280&t)<<8|(255&(n%=65521))<<8|n>>8}}},O=function(a,s,o,f,u){if(!u&&(u={l:1},s.dictionary)){var c=s.dictionary.subarray(-32768),v=new t(c.length+a.length);v.set(c),v.set(a,c.length),a=v,u.w=c.length}return function(a,s,o,f,u,c){var v=c.z||a.length,d=new t(f+v+5*(1+Math.ceil(v/7e3))+u),g=d.subarray(f,d.length-u),w=c.l,p=7&(c.r||0);if(s){p&&(g[0]=c.r>>3);for(var y=C[s-1],M=y>>13,E=8191&y,z=(1<<o)-1,_=c.p||new n(32768),x=c.h||new n(z+1),A=Math.ceil(o/3),D=2*A,T=function(t){return(a[t]^a[t+1]<<A^a[t+2]<<D)&z},F=new r(25e3),I=new n(288),S=new n(32),L=0,O=0,j=c.i||0,q=0,B=c.w||0,G=0;j+2<v;++j){var H=T(j),J=32767&j,K=x[H];if(_[J]=K,x[H]=J,B<=j){var N=v-j;if((L>7e3||q>24576)&&(N>423||!w)){p=U(a,g,0,F,I,S,O,q,G,j-G,p),q=L=O=0,G=j;for(var P=0;P<286;++P)I[P]=0;for(P=0;P<30;++P)S[P]=0}var Q=2,R=0,V=E,W=J-K&32767;if(N>2&&H==T(j-W))for(var X=Math.min(M,N)-1,Y=Math.min(32767,j),Z=Math.min(258,N);W<=Y&&--V&&J!=K;){if(a[j+Q]==a[j+Q-W]){for(var $=0;$<Z&&a[j+$]==a[j+$-W];++$);if($>Q){if(Q=$,R=W,$>X)break;var tt=Math.min(W,$-2),nt=0;for(P=0;P<tt;++P){var rt=j-W+P&32767,et=rt-_[rt]&32767;et>nt&&(nt=et,K=rt)}}}W+=(J=K)-(K=_[J])&32767}if(R){F[q++]=268435456|h[Q]<<18|l[R];var it=31&h[Q],at=31&l[R];O+=e[it]+i[at],++I[257+it],++S[at],B=j+Q,++L}else F[q++]=a[j],++I[a[j]]}}for(j=Math.max(j,B);j<v;++j)F[q++]=a[j],++I[a[j]];p=U(a,g,w,F,I,S,O,q,G,j-G,p),w||(c.r=7&p|g[p/8|0]<<3,p-=7,c.h=x,c.p=_,c.i=j,c.w=B)}else{for(j=c.w||0;j<v+w;j+=65535){var st=j+65535;st>=v&&(g[p/8|0]=w,st=v),p=k(g,p+1,a.subarray(j,st))}c.i=v}return b(d,0,f+m(p)+u)}(a,null==s.level?6:s.level,null==s.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(a.length)))):12+s.mem,o,f,u)},j=function(t,n,r){for(;r;++n)t[n]=r,r>>>=8},q=function(t,n){var r=n.filename;if(t[0]=31,t[1]=139,t[2]=8,t[8]=n.level<2?4:9==n.level?2:0,t[9]=3,0!=n.mtime&&j(t,4,Math.floor(new Date(n.mtime||Date.now())/1e3)),r){t[3]=8;for(var e=0;e<=r.length;++e)t[e+10]=r.charCodeAt(e)}},B=function(t){return 10+(t.filename?t.filename.length+1:0)},G=function(){function n(n,r){if("function"==typeof n&&(r=n,n={}),this.ondata=r,this.o=n||{},this.s={l:0,i:32768,w:32768,z:32768},this.b=new t(98304),this.o.dictionary){var e=this.o.dictionary.subarray(-32768);this.b.set(e,32768-e.length),this.s.i=32768-e.length}}return n.prototype.p=function(t,n){this.ondata(O(t,this.o,0,0,this.s),n)},n.prototype.push=function(n,r){this.ondata||E(5),this.s.l&&E(4);var e=n.length+this.s.z;if(e>this.b.length){if(e>2*this.b.length-32768){var i=new t(-32768&e);i.set(this.b.subarray(0,this.s.z)),this.b=i}var a=this.b.length-this.s.z;a&&(this.b.set(n.subarray(0,a),this.s.z),this.s.z=this.b.length,this.p(this.b,!1)),this.b.set(this.b.subarray(-32768)),this.b.set(n.subarray(a),32768),this.s.z=n.length-a+32768,this.s.i=32766,this.s.w=32768}else this.b.set(n,this.s.z),this.s.z+=n.length;this.s.l=1&r,(this.s.z>this.s.w+8191||r)&&(this.p(this.b,r||!1),this.s.w=this.s.i,this.s.i-=2)},n}();var H=function(){function t(t,n){this.c=L(),this.v=1,G.call(this,t,n)}return t.prototype.push=function(t,n){this.c.p(t),G.prototype.push.call(this,t,n)},t.prototype.p=function(t,n){var r=O(t,this.o,this.v&&(this.o.dictionary?6:2),n&&4,this.s);this.v&&(function(t,n){var r=n.level,e=0==r?0:r<6?1:9==r?3:2;if(t[0]=120,t[1]=e<<6|(n.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,n.dictionary){var i=L();i.p(n.dictionary),j(t,2,i.d())}}(r,this.o),this.v=0),n&&j(r,r.length-4,this.c.d()),this.ondata(r,n)},t}(),J="undefined"!=typeof TextEncoder&&new TextEncoder,K="undefined"!=typeof TextDecoder&&new TextDecoder;try{K.decode(F,{stream:!0})}catch(t){}var N=function(){function t(t){this.ondata=t}return t.prototype.push=function(t,n){this.ondata||E(5),this.d&&E(4),this.ondata(P(t),this.d=n||!1)},t}();function P(n,r){if(J)return J.encode(n);for(var e=n.length,i=new t(n.length+(n.length>>1)),a=0,s=function(t){i[a++]=t},o=0;o<e;++o){if(a+5>i.length){var f=new t(a+8+(e-o<<1));f.set(i),i=f}var h=n.charCodeAt(o);h<128||r?s(h):h<2048?(s(192|h>>6),s(128|63&h)):h>55295&&h<57344?(s(240|(h=65536+(1047552&h)|1023&n.charCodeAt(++o))>>18),s(128|h>>12&63),s(128|h>>6&63),s(128|63&h)):(s(224|h>>12),s(128|h>>6&63),s(128|63&h))}return b(i,0,a)}function Q(t){return function(t,n){n||(n={});var r=S(),e=t.length;r.p(t);var i=O(t,n,B(n),8),a=i.length;return q(i,n),j(i,a-8,r.d()),j(i,a-4,e),i}(P(t))}const R=new class{constructor(){this._init()}clear(){this._init()}addEvent(t){if(!t)throw new Error("Adding invalid event");const n=this._hasEvents?",":"";this.stream.push(n+t),this._hasEvents=!0}finish(){this.stream.push("]",!0);const t=function(t){let n=0;for(const r of t)n+=r.length;const r=new Uint8Array(n);for(let n=0,e=0,i=t.length;n<i;n++){const i=t[n];r.set(i,e),e+=i.length}return r}(this._deflatedData);return this._init(),t}_init(){this._hasEvents=!1,this._deflatedData=[],this.deflate=new H,this.deflate.ondata=(t,n)=>{this._deflatedData.push(t)},this.stream=new N(((t,n)=>{this.deflate.push(t,n)})),this.stream.push("[")}},V={clear:()=>{R.clear()},addEvent:t=>R.addEvent(t),finish:()=>R.finish(),compress:t=>Q(t)};addEventListener("message",(function(t){const n=t.data.method,r=t.data.id,e=t.data.arg;if(n in V&&"function"==typeof V[n])try{const t=V[n](e);postMessage({id:r,method:n,success:!0,response:t})}catch(t){postMessage({id:r,method:n,success:!1,response:t.message}),console.error(t)}})),postMessage({id:void 0,method:"init",success:!0,response:void 0});';function nW(){const e=new Blob([tW]);return URL.createObjectURL(e)}const IE=["info","warn","error","log"],m0="[Replay] ";function yx(e,t="info"){jl({category:"console",data:{logger:"replay"},level:t,message:`${m0}${e}`},{level:t})}function rW(){let e=!1,t=!1;const n={exception:()=>{},infoTick:()=>{},setConfig:r=>{e=r.captureExceptions,t=r.traceInternals}};return vt?(IE.forEach(r=>{n[r]=(...i)=>{Ge[r](m0,...i),t&&yx(i.join(""),NT(r))}}),n.exception=(r,...i)=>{i.length&&n.error&&n.error(...i),Ge.error(m0,r),e?G2(r):t&&yx(r,"error")},n.infoTick=(...r)=>{Ge.info(m0,...r),t&&setTimeout(()=>yx(r[0]),0)}):IE.forEach(r=>{n[r]=()=>{}}),n}const wt=rW();class d_ extends Error{constructor(){super(`Event buffer exceeded maximum size of ${i_}.`)}}class N9{constructor(){this.events=[],this._totalSize=0,this.hasCheckout=!1,this.waitForCheckout=!1}get hasEvents(){return this.events.length>0}get type(){return"sync"}destroy(){this.events=[]}async addEvent(t){const n=JSON.stringify(t).length;if(this._totalSize+=n,this._totalSize>i_)throw new d_;this.events.push(t)}finish(){return new Promise(t=>{const n=this.events;this.clear(),t(JSON.stringify(n))})}clear(){this.events=[],this._totalSize=0,this.hasCheckout=!1}getEarliestTimestamp(){const t=this.events.map(n=>n.timestamp).sort()[0];return t?c_(t):null}}class iW{constructor(t){this._worker=t,this._id=0}ensureReady(){return this._ensureReadyPromise?this._ensureReadyPromise:(this._ensureReadyPromise=new Promise((t,n)=>{this._worker.addEventListener("message",({data:r})=>{r.success?t():n()},{once:!0}),this._worker.addEventListener("error",r=>{n(r)},{once:!0})}),this._ensureReadyPromise)}destroy(){vt&&wt.info("Destroying compression worker"),this._worker.terminate()}postMessage(t,n){const r=this._getAndIncrementId();return new Promise((i,s)=>{const o=({data:a})=>{const l=a;if(l.method===t&&l.id===r){if(this._worker.removeEventListener("message",o),!l.success){vt&&wt.error("Error in compression worker: ",l.response),s(new Error("Error in compression worker"));return}i(l.response)}};this._worker.addEventListener("message",o),this._worker.postMessage({id:r,method:t,arg:n})})}_getAndIncrementId(){return this._id++}}class sW{constructor(t){this._worker=new iW(t),this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this.waitForCheckout=!1}get hasEvents(){return!!this._earliestTimestamp}get type(){return"worker"}ensureReady(){return this._worker.ensureReady()}destroy(){this._worker.destroy()}addEvent(t){const n=c_(t.timestamp);(!this._earliestTimestamp||n<this._earliestTimestamp)&&(this._earliestTimestamp=n);const r=JSON.stringify(t);return this._totalSize+=r.length,this._totalSize>i_?Promise.reject(new d_):this._sendEventToWorker(r)}finish(){return this._finishRequest()}clear(){this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this._worker.postMessage("clear").then(null,t=>{vt&&wt.exception(t,'Sending "clear" message to worker failed',t)})}getEarliestTimestamp(){return this._earliestTimestamp}_sendEventToWorker(t){return this._worker.postMessage("addEvent",t)}async _finishRequest(){const t=await this._worker.postMessage("finish");return this._earliestTimestamp=null,this._totalSize=0,t}}class oW{constructor(t){this._fallback=new N9,this._compression=new sW(t),this._used=this._fallback,this._ensureWorkerIsLoadedPromise=this._ensureWorkerIsLoaded()}get waitForCheckout(){return this._used.waitForCheckout}get type(){return this._used.type}get hasEvents(){return this._used.hasEvents}get hasCheckout(){return this._used.hasCheckout}set hasCheckout(t){this._used.hasCheckout=t}set waitForCheckout(t){this._used.waitForCheckout=t}destroy(){this._fallback.destroy(),this._compression.destroy()}clear(){return this._used.clear()}getEarliestTimestamp(){return this._used.getEarliestTimestamp()}addEvent(t){return this._used.addEvent(t)}async finish(){return await this.ensureWorkerIsLoaded(),this._used.finish()}ensureWorkerIsLoaded(){return this._ensureWorkerIsLoadedPromise}async _ensureWorkerIsLoaded(){try{await this._compression.ensureReady()}catch(t){vt&&wt.exception(t,"Failed to load the compression worker, falling back to simple buffer");return}await this._switchToCompressionWorker()}async _switchToCompressionWorker(){const{events:t,hasCheckout:n,waitForCheckout:r}=this._fallback,i=[];for(const s of t)i.push(this._compression.addEvent(s));this._compression.hasCheckout=n,this._compression.waitForCheckout=r,this._used=this._compression;try{await Promise.all(i),this._fallback.clear()}catch(s){vt&&wt.exception(s,"Failed to add events when switching buffers.")}}}function aW({useCompression:e,workerUrl:t}){if(e&&window.Worker){const n=lW(t);if(n)return n}return vt&&wt.info("Using simple buffer"),new N9}function lW(e){try{const t=e||uW();if(!t)return;vt&&wt.info(`Using compression worker${e?` from ${e}`:""}`);const n=new Worker(t);return new oW(n)}catch(t){vt&&wt.exception(t,"Failed to create compression worker")}}function uW(){return typeof __SENTRY_EXCLUDE_REPLAY_WORKER__>"u"||!__SENTRY_EXCLUDE_REPLAY_WORKER__?nW():""}function f_(){try{return"sessionStorage"in Nn&&!!Nn.sessionStorage}catch{return!1}}function cW(e){dW(),e.session=void 0}function dW(){if(f_())try{Nn.sessionStorage.removeItem(n_)}catch{}}function R9(e){return e===void 0?!1:Math.random()<e}function P9(e){const t=Date.now(),n=e.id||us(),r=e.started||t,i=e.lastActivity||t,s=e.segmentId||0,o=e.sampled,a=e.previousSessionId;return{id:n,started:r,lastActivity:i,segmentId:s,sampled:o,previousSessionId:a}}function h_(e){if(f_())try{Nn.sessionStorage.setItem(n_,JSON.stringify(e))}catch{}}function fW(e,t){return R9(e)?"session":t?"buffer":!1}function NE({sessionSampleRate:e,allowBuffering:t,stickySession:n=!1},{previousSessionId:r}={}){const i=fW(e,t),s=P9({sampled:i,previousSessionId:r});return n&&h_(s),s}function hW(){if(!f_())return null;try{const e=Nn.sessionStorage.getItem(n_);if(!e)return null;const t=JSON.parse(e);return vt&&wt.infoTick("Loading existing session"),P9(t)}catch{return null}}function pw(e,t,n=+new Date){return e===null||t===void 0||t<0?!0:t===0?!1:e+t<=n}function O9(e,{maxReplayDuration:t,sessionIdleExpire:n,targetTime:r=Date.now()}){return pw(e.started,t,r)||pw(e.lastActivity,n,r)}function M9(e,{sessionIdleExpire:t,maxReplayDuration:n}){return!(!O9(e,{sessionIdleExpire:t,maxReplayDuration:n})||e.sampled==="buffer"&&e.segmentId===0)}function vx({sessionIdleExpire:e,maxReplayDuration:t,previousSessionId:n},r){const i=r.stickySession&&hW();return i?M9(i,{sessionIdleExpire:e,maxReplayDuration:t})?(vt&&wt.infoTick("Session in sessionStorage is expired, creating new one..."),NE(r,{previousSessionId:i.id})):i:(vt&&wt.infoTick("Creating new session"),NE(r,{previousSessionId:n}))}function pW(e){return e.type===Wt.Custom}function p_(e,t,n){return D9(e,t)?(A9(e,t,n),!0):!1}function mW(e,t,n){return D9(e,t)?A9(e,t,n):Promise.resolve(null)}async function A9(e,t,n){const{eventBuffer:r}=e;if(!r||r.waitForCheckout&&!n)return null;const i=e.recordingMode==="buffer";try{n&&i&&r.clear(),n&&(r.hasCheckout=!0,r.waitForCheckout=!1);const s=e.getOptions(),o=gW(t,s.beforeAddRecordingEvent);return o?await r.addEvent(o):void 0}catch(s){const o=s&&s instanceof d_,a=o?"addEventSizeExceeded":"addEvent";if(o&&i)return r.clear(),r.waitForCheckout=!0,null;e.handleException(s),await e.stop({reason:a});const l=tn();l&&l.recordDroppedEvent("internal_sdk_error","replay")}}function D9(e,t){if(!e.eventBuffer||e.isPaused()||!e.isEnabled())return!1;const n=c_(t.timestamp);return n+e.timeouts.sessionIdlePause<Date.now()?!1:n>e.getContext().initialTimestamp+e.getOptions().maxReplayDuration?(vt&&wt.infoTick(`Skipping event with timestamp ${n} because it is after maxReplayDuration`),!1):!0}function gW(e,t){try{if(typeof t=="function"&&pW(e))return t(e)}catch(n){return vt&&wt.exception(n,"An error occurred in the `beforeAddRecordingEvent` callback, skipping the event..."),null}return e}function m_(e){return!e.type}function mw(e){return e.type==="transaction"}function yW(e){return e.type==="replay_event"}function RE(e){return e.type==="feedback"}function vW(e){return(t,n)=>{if(!e.isEnabled()||!m_(t)&&!mw(t))return;const r=n&&n.statusCode;if(!(!r||r<200||r>=300)){if(mw(t)){xW(e,t);return}bW(e,t)}}}function xW(e,t){const n=e.getContext();t.contexts&&t.contexts.trace&&t.contexts.trace.trace_id&&n.traceIds.size<100&&n.traceIds.add(t.contexts.trace.trace_id)}function bW(e,t){const n=e.getContext();if(t.event_id&&n.errorIds.size<100&&n.errorIds.add(t.event_id),e.recordingMode!=="buffer"||!t.tags||!t.tags.replayId)return;const{beforeErrorSampling:r}=e.getOptions();typeof r=="function"&&!r(t)||Vd(async()=>{try{await e.sendBufferedReplayOrFlush()}catch(i){e.handleException(i)}})}function wW(e){return t=>{!e.isEnabled()||!m_(t)||_W(e,t)}}function _W(e,t){const n=t.exception&&t.exception.values&&t.exception.values[0]&&t.exception.values[0].value;if(typeof n=="string"&&(n.match(/(reactjs\.org\/docs\/error-decoder\.html\?invariant=|react\.dev\/errors\/)(418|419|422|423|425)/)||n.match(/(does not match server-rendered HTML|Hydration failed because)/i))){const r=Io({category:"replay.hydrate-error",data:{url:H7()}});Op(e,r)}}function SW(e){const t=tn();t&&t.on("beforeAddBreadcrumb",n=>CW(e,n))}function CW(e,t){if(!e.isEnabled()||!L9(t))return;const n=EW(t);n&&Op(e,n)}function EW(e){return!L9(e)||["fetch","xhr","sentry.event","sentry.transaction"].includes(e.category)||e.category.startsWith("ui.")?null:e.category==="console"?kW(e):Io(e)}function kW(e){const t=e.data&&e.data.arguments;if(!Array.isArray(t)||t.length===0)return Io(e);let n=!1;const r=t.map(i=>{if(!i)return i;if(typeof i=="string")return i.length>gg?(n=!0,`${i.slice(0,gg)}`):i;if(typeof i=="object")try{const s=Zs(i,7);return JSON.stringify(s).length>gg?(n=!0,`${JSON.stringify(s,null,2).slice(0,gg)}`):s}catch{}return i});return Io({...e,data:{...e.data,arguments:r,...n?{_meta:{warnings:["CONSOLE_ARG_TRUNCATED"]}}:{}}})}function L9(e){return!!e.category}function TW(e,t){return e.type||!e.exception||!e.exception.values||!e.exception.values.length?!1:!!(t.originalException&&t.originalException.__rrweb__)}function F9(){const e=On().getPropagationContext().dsc;e&&delete e.replay_id;const t=Wr();if(t){const n=lc(t);delete n.replay_id}}function jW(e,t){e.triggerUserActivity(),e.addUpdate(()=>t.timestamp?(e.throttledAddEvent({type:Wt.Custom,timestamp:t.timestamp*1e3,data:{tag:"breadcrumb",payload:{timestamp:t.timestamp,type:"default",category:"sentry.feedback",data:{feedbackId:t.event_id}}}}),!1):!0)}function IW(e,t){return e.recordingMode!=="buffer"||t.message===r_||!t.exception||t.type?!1:R9(e.getOptions().errorSampleRate)}function NW(e){return Object.assign((t,n)=>!e.isEnabled()||e.isPaused()?t:yW(t)?(delete t.breadcrumbs,t):!m_(t)&&!mw(t)&&!RE(t)?t:e.checkAndHandleExpiredSession()?RE(t)?(e.flush(),t.contexts.feedback.replay_id=e.getSessionId(),jW(e,t),t):TW(t,n)&&!e.getOptions()._experiments.captureExceptions?(vt&&wt.log("Ignoring error from rrweb internals",t),null):((IW(e,t)||e.recordingMode==="session")&&(t.tags={...t.tags,replayId:e.getSessionId()}),t):(F9(),t),{id:"Replay"})}function Ay(e,t){return t.map(({type:n,start:r,end:i,name:s,data:o})=>{const a=e.throttledAddEvent({type:Wt.Custom,timestamp:r,data:{tag:"performanceSpan",payload:{op:n,description:s,startTimestamp:r,endTimestamp:i,data:o}}});return typeof a=="string"?Promise.resolve(null):a})}function RW(e){const{from:t,to:n}=e,r=Date.now()/1e3;return{type:"navigation.push",start:r,end:r,name:n,data:{previous:t}}}function PW(e){return t=>{if(!e.isEnabled())return;const n=RW(t);n!==null&&(e.getContext().urls.push(n.name),e.triggerUserActivity(),e.addUpdate(()=>(Ay(e,[n]),!1)))}}function OW(e,t){return vt&&e.getOptions()._experiments.traceInternals?!1:RF(t,tn())}function B9(e,t){e.isEnabled()&&t!==null&&(OW(e,t.name)||e.addUpdate(()=>(Ay(e,[t]),!0)))}function Dy(e){if(!e)return;const t=new TextEncoder;try{if(typeof e=="string")return t.encode(e).length;if(e instanceof URLSearchParams)return t.encode(e.toString()).length;if(e instanceof FormData){const n=H9(e);return t.encode(n).length}if(e instanceof Blob)return e.size;if(e instanceof ArrayBuffer)return e.byteLength}catch{}}function z9(e){if(!e)return;const t=parseInt(e,10);return isNaN(t)?void 0:t}function $9(e){try{if(typeof e=="string")return[e];if(e instanceof URLSearchParams)return[e.toString()];if(e instanceof FormData)return[H9(e)];if(!e)return[void 0]}catch(t){return vt&&wt.exception(t,"Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return vt&&wt.info("Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}function $0(e,t){if(!e)return{headers:{},size:void 0,_meta:{warnings:[t]}};const n={...e._meta},r=n.warnings||[];return n.warnings=[...r,t],e._meta=n,e}function U9(e,t){if(!t)return null;const{startTimestamp:n,endTimestamp:r,url:i,method:s,statusCode:o,request:a,response:l}=t;return{type:e,start:n/1e3,end:r/1e3,name:i,data:Ir({method:s,statusCode:o,request:a,response:l})}}function np(e){return{headers:{},size:e,_meta:{warnings:["URL_SKIPPED"]}}}function wl(e,t,n){if(!t&&Object.keys(e).length===0)return;if(!t)return{headers:e};if(!n)return{headers:e,size:t};const r={headers:e,size:t},{body:i,warnings:s}=MW(n);return r.body=i,s&&s.length>0&&(r._meta={warnings:s}),r}function gw(e,t){return Object.entries(e).reduce((n,[r,i])=>{const s=r.toLowerCase();return t.includes(s)&&e[r]&&(n[s]=i),n},{})}function H9(e){return new URLSearchParams(e).toString()}function MW(e){if(!e||typeof e!="string")return{body:e};const t=e.length>dE,n=AW(e);if(t){const r=e.slice(0,dE);return n?{body:r,warnings:["MAYBE_JSON_TRUNCATED"]}:{body:`${r}`,warnings:["TEXT_TRUNCATED"]}}if(n)try{return{body:JSON.parse(e)}}catch{}return{body:e}}function AW(e){const t=e[0],n=e[e.length-1];return t==="["&&n==="]"||t==="{"&&n==="}"}function U0(e,t){const n=DW(e);return bl(n,t)}function DW(e,t=Nn.document.baseURI){if(e.startsWith("http://")||e.startsWith("https://")||e.startsWith(Nn.location.origin))return e;const n=new URL(e,t);if(n.origin!==new URL(t).origin)return e;const r=n.href;return!e.endsWith("/")&&r.endsWith("/")?r.slice(0,-1):r}async function LW(e,t,n){try{const r=await BW(e,t,n),i=U9("resource.fetch",r);B9(n.replay,i)}catch(r){vt&&wt.exception(r,"Failed to capture fetch breadcrumb")}}function FW(e,t){const{input:n,response:r}=t,i=n?W9(n):void 0,s=Dy(i),o=r?z9(r.headers.get("content-length")):void 0;s!==void 0&&(e.data.request_body_size=s),o!==void 0&&(e.data.response_body_size=o)}async function BW(e,t,n){const r=Date.now(),{startTimestamp:i=r,endTimestamp:s=r}=t,{url:o,method:a,status_code:l=0,request_body_size:c,response_body_size:f}=e.data,p=U0(o,n.networkDetailAllowUrls)&&!U0(o,n.networkDetailDenyUrls),g=p?zW(n,t.input,c):np(c),y=await $W(p,n,t.response,f);return{startTimestamp:i,endTimestamp:s,url:o,method:a,statusCode:l,request:g,response:y}}function zW({networkCaptureBodies:e,networkRequestHeaders:t},n,r){const i=n?WW(n,t):{};if(!e)return wl(i,r,void 0);const s=W9(n),[o,a]=$9(s),l=wl(i,r,o);return a?$0(l,a):l}async function $W(e,{networkCaptureBodies:t,networkResponseHeaders:n},r,i){if(!e&&i!==void 0)return np(i);const s=r?V9(r.headers,n):{};if(!r||!t&&i!==void 0)return wl(s,i,void 0);const[o,a]=await HW(r),l=UW(o,{networkCaptureBodies:t,responseBodySize:i,captureDetails:e,headers:s});return a?$0(l,a):l}function UW(e,{networkCaptureBodies:t,responseBodySize:n,captureDetails:r,headers:i}){try{const s=e&&e.length&&n===void 0?Dy(e):n;return r?t?wl(i,s,e):wl(i,s,void 0):np(s)}catch(s){return vt&&wt.exception(s,"Failed to serialize response body"),wl(i,n,void 0)}}async function HW(e){const t=VW(e);if(!t)return[void 0,"BODY_PARSE_ERROR"];try{return[await qW(t)]}catch(n){return n instanceof Error&&n.message.indexOf("Timeout")>-1?(vt&&wt.warn("Parsing text body from response timed out"),[void 0,"BODY_PARSE_TIMEOUT"]):(vt&&wt.exception(n,"Failed to get text body from response"),[void 0,"BODY_PARSE_ERROR"])}}function W9(e=[]){if(!(e.length!==2||typeof e[1]!="object"))return e[1].body}function V9(e,t){const n={};return t.forEach(r=>{e.get(r)&&(n[r]=e.get(r))}),n}function WW(e,t){return e.length===1&&typeof e[0]!="string"?PE(e[0],t):e.length===2?PE(e[1],t):{}}function PE(e,t){if(!e)return{};const n=e.headers;return n?n instanceof Headers?V9(n,t):Array.isArray(n)?{}:gw(n,t):{}}function VW(e){try{return e.clone()}catch(t){vt&&wt.exception(t,"Failed to clone response body")}}function qW(e){return new Promise((t,n)=>{const r=Vd(()=>n(new Error("Timeout while trying to read response body")),500);QW(e).then(i=>t(i),i=>n(i)).finally(()=>clearTimeout(r))})}async function QW(e){return await e.text()}async function KW(e,t,n){try{const r=YW(e,t,n),i=U9("resource.xhr",r);B9(n.replay,i)}catch(r){vt&&wt.exception(r,"Failed to capture xhr breadcrumb")}}function GW(e,t){const{xhr:n,input:r}=t;if(!n)return;const i=Dy(r),s=n.getResponseHeader("content-length")?z9(n.getResponseHeader("content-length")):eV(n.response,n.responseType);i!==void 0&&(e.data.request_body_size=i),s!==void 0&&(e.data.response_body_size=s)}function YW(e,t,n){const r=Date.now(),{startTimestamp:i=r,endTimestamp:s=r,input:o,xhr:a}=t,{url:l,method:c,status_code:f=0,request_body_size:p,response_body_size:g}=e.data;if(!l)return null;if(!a||!U0(l,n.networkDetailAllowUrls)||U0(l,n.networkDetailDenyUrls)){const P=np(p),N=np(g);return{startTimestamp:i,endTimestamp:s,url:l,method:c,statusCode:f,request:P,response:N}}const y=a[Lu],b=y?gw(y.request_headers,n.networkRequestHeaders):{},_=gw(XW(a),n.networkResponseHeaders),[C,E]=n.networkCaptureBodies?$9(o):[void 0],[R,M]=n.networkCaptureBodies?JW(a):[void 0],U=wl(b,p,C),z=wl(_,g,R);return{startTimestamp:i,endTimestamp:s,url:l,method:c,statusCode:f,request:E?$0(U,E):U,response:M?$0(z,M):z}}function XW(e){const t=e.getAllResponseHeaders();return t?t.split(`\r
`).reduce((n,r)=>{const[i,s]=r.split(": ");return s&&(n[i.toLowerCase()]=s),n},{}):{}}function JW(e){const t=[];try{return[e.responseText]}catch(n){t.push(n)}try{return ZW(e.response,e.responseType)}catch(n){t.push(n)}return vt&&wt.warn("Failed to get xhr response body",...t),[void 0]}function ZW(e,t){try{if(typeof e=="string")return[e];if(e instanceof Document)return[e.body.outerHTML];if(t==="json"&&e&&typeof e=="object")return[JSON.stringify(e)];if(!e)return[void 0]}catch(n){return vt&&wt.exception(n,"Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return vt&&wt.info("Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}function eV(e,t){try{const n=t==="json"&&e&&typeof e=="object"?JSON.stringify(e):e;return Dy(n)}catch{return}}function tV(e){const t=tn();try{const{networkDetailAllowUrls:n,networkDetailDenyUrls:r,networkCaptureBodies:i,networkRequestHeaders:s,networkResponseHeaders:o}=e.getOptions(),a={replay:e,networkDetailAllowUrls:n,networkDetailDenyUrls:r,networkCaptureBodies:i,networkRequestHeaders:s,networkResponseHeaders:o};t&&t.on("beforeAddBreadcrumb",(l,c)=>nV(a,l,c))}catch{}}function nV(e,t,n){if(t.data)try{rV(t)&&sV(n)&&(GW(t,n),KW(t,n,e)),iV(t)&&oV(n)&&(FW(t,n),LW(t,n,e))}catch(r){vt&&wt.exception(r,"Error when enriching network breadcrumb")}}function rV(e){return e.category==="xhr"}function iV(e){return e.category==="fetch"}function sV(e){return e&&e.xhr}function oV(e){return e&&e.response}function aV(e){const t=tn();ZT(DH(e)),Ny(PW(e)),SW(e),tV(e);const n=NW(e);cF(n),t&&(t.on("beforeSendEvent",wW(e)),t.on("afterSendEvent",vW(e)),t.on("createDsc",r=>{const i=e.getSessionId();i&&e.isEnabled()&&e.recordingMode==="session"&&e.checkAndHandleExpiredSession()&&(r.replay_id=i)}),t.on("spanStart",r=>{e.lastActiveSpan=r}),t.on("spanEnd",r=>{e.lastActiveSpan=r}),t.on("beforeSendFeedback",(r,i)=>{const s=e.getSessionId();i&&i.includeReplay&&e.isEnabled()&&s&&r.contexts&&r.contexts.feedback&&(r.contexts.feedback.replay_id=s)}))}async function lV(e){try{return Promise.all(Ay(e,[uV(Nn.performance.memory)]))}catch{return[]}}function uV(e){const{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:r}=e,i=Date.now()/1e3;return{type:"memory",name:"memory",start:i,end:i,data:{memory:{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:r}}}}function cV(e,t,n){let r,i,s;const o=n&&n.maxWait?Math.max(n.maxWait,t):0;function a(){return l(),r=e(),r}function l(){i!==void 0&&clearTimeout(i),s!==void 0&&clearTimeout(s),i=s=void 0}function c(){return i!==void 0||s!==void 0?a():r}function f(){return i&&clearTimeout(i),i=Vd(a,t),o&&s===void 0&&(s=Vd(a,o)),r}return f.cancel=l,f.flush=c,f}const bu=sn.navigator;function dV(){return/iPhone|iPad|iPod/i.test(bu&&bu.userAgent||"")||/Macintosh/i.test(bu&&bu.userAgent||"")&&bu&&bu.maxTouchPoints&&bu.maxTouchPoints>1?{sampling:{mousemove:!1}}:{}}function fV(e){let t=!1;return(n,r)=>{if(!e.checkAndHandleExpiredSession()){vt&&wt.warn("Received replay event after session expired.");return}const i=r||!t;t=!0,e.clickDetector&&RH(e.clickDetector,n),e.addUpdate(()=>{if(e.recordingMode==="buffer"&&i&&e.setInitialState(),!p_(e,n,i))return!0;if(!i)return!1;const s=e.session;if(pV(e,i),e.recordingMode==="buffer"&&s&&e.eventBuffer){const o=e.eventBuffer.getEarliestTimestamp();o&&(vt&&wt.info(`Updating session start time to earliest event in buffer to ${new Date(o)}`),s.started=o,e.getOptions().stickySession&&h_(s))}return s&&s.previousSessionId||e.recordingMode==="session"&&e.flush(),!0})}}function hV(e){const t=e.getOptions();return{type:Wt.Custom,timestamp:Date.now(),data:{tag:"options",payload:{shouldRecordCanvas:e.isRecordingCanvas(),sessionSampleRate:t.sessionSampleRate,errorSampleRate:t.errorSampleRate,useCompressionOption:t.useCompression,blockAllMedia:t.blockAllMedia,maskAllText:t.maskAllText,maskAllInputs:t.maskAllInputs,useCompression:e.eventBuffer?e.eventBuffer.type==="worker":!1,networkDetailHasUrls:t.networkDetailAllowUrls.length>0,networkCaptureBodies:t.networkCaptureBodies,networkRequestHasHeaders:t.networkRequestHeaders.length>0,networkResponseHasHeaders:t.networkResponseHeaders.length>0}}}}function pV(e,t){!t||!e.session||e.session.segmentId!==0||p_(e,hV(e),!1)}function mV(e,t,n,r){return uc(hT(e,Q2(e),r,n),[[{type:"replay_event"},e],[{type:"replay_recording",length:typeof t=="string"?new TextEncoder().encode(t).length:t.length},t]])}function gV({recordingData:e,headers:t}){let n;const r=`${JSON.stringify(t)}
`;if(typeof e=="string")n=`${r}${e}`;else{const s=new TextEncoder().encode(r);n=new Uint8Array(s.length+e.length),n.set(s),n.set(e,s.length)}return n}async function yV({client:e,scope:t,replayId:n,event:r}){const i=typeof e._integrations=="object"&&e._integrations!==null&&!Array.isArray(e._integrations)?Object.keys(e._integrations):void 0,s={event_id:n,integrations:i};e.emit("preprocessEvent",r,s);const o=await vT(e.getOptions(),r,s,t,e,ho());if(!o)return null;o.platform=o.platform||"javascript";const a=e.getSdkMetadata(),{name:l,version:c}=a&&a.sdk||{};return o.sdk={...o.sdk,name:l||"sentry.javascript.unknown",version:c||"0.0.0"},o}async function vV({recordingData:e,replayId:t,segmentId:n,eventContext:r,timestamp:i,session:s}){const o=gV({recordingData:e,headers:{segment_id:n}}),{urls:a,errorIds:l,traceIds:c,initialTimestamp:f}=r,p=tn(),g=On(),y=p&&p.getTransport(),b=p&&p.getDsn();if(!p||!y||!b||!s.sampled)return _a({});const _={type:Y$,replay_start_timestamp:f/1e3,timestamp:i/1e3,error_ids:l,trace_ids:c,urls:a,replay_id:t,segment_id:n,replay_type:s.sampled},C=await yV({scope:g,client:p,replayId:t,event:_});if(!C)return p.recordDroppedEvent("event_processor","replay",_),vt&&wt.info("An event processor returned `null`, will not send event."),_a({});delete C.sdkProcessingMetadata;const E=mV(C,o,b,p.getOptions().tunnel);let R;try{R=await y.send(E)}catch(U){const z=new Error(r_);try{z.cause=U}catch{}throw z}if(typeof R.statusCode=="number"&&(R.statusCode<200||R.statusCode>=300))throw new q9(R.statusCode);const M=TT({},R);if(kT(M,"replay"))throw new g_(M);return R}class q9 extends Error{constructor(t){super(`Transport returned status code ${t}`)}}class g_ extends Error{constructor(t){super("Rate limit hit"),this.rateLimits=t}}async function Q9(e,t={count:0,interval:nU}){const{recordingData:n,onError:r}=e;if(n.length)try{return await vV(e),!0}catch(i){if(i instanceof q9||i instanceof g_)throw i;if(bT("Replays",{_retryCount:t.count}),r&&r(i),t.count>=rU){const s=new Error(`${r_} - max retries exceeded`);try{s.cause=i}catch{}throw s}return t.interval*=++t.count,new Promise((s,o)=>{Vd(async()=>{try{await Q9(e,t),s(!0)}catch(a){o(a)}},t.interval)})}}const K9="__THROTTLED",xV="__SKIPPED";function bV(e,t,n){const r=new Map,i=a=>{const l=a-n;r.forEach((c,f)=>{f<l&&r.delete(f)})},s=()=>[...r.values()].reduce((a,l)=>a+l,0);let o=!1;return(...a)=>{const l=Math.floor(Date.now()/1e3);if(i(l),s()>=t){const f=o;return o=!0,f?xV:K9}o=!1;const c=r.get(l)||0;return r.set(l,c+1),e(...a)}}class cl{constructor({options:t,recordingOptions:n}){cl.prototype.__init.call(this),cl.prototype.__init2.call(this),cl.prototype.__init3.call(this),cl.prototype.__init4.call(this),cl.prototype.__init5.call(this),cl.prototype.__init6.call(this),this.eventBuffer=null,this.performanceEntries=[],this.replayPerformanceEntries=[],this.recordingMode="session",this.timeouts={sessionIdlePause:X$,sessionIdleExpire:J$},this._lastActivity=Date.now(),this._isEnabled=!1,this._isPaused=!1,this._requiresManualStart=!1,this._hasInitializedCoreListeners=!1,this._context={errorIds:new Set,traceIds:new Set,urls:[],initialTimestamp:Date.now(),initialUrl:""},this._recordingOptions=n,this._options=t,this._debouncedFlush=cV(()=>this._flush(),this._options.flushMinDelay,{maxWait:this._options.flushMaxDelay}),this._throttledAddEvent=bV((o,a)=>mW(this,o,a),300,5);const{slowClickTimeout:r,slowClickIgnoreSelectors:i}=this.getOptions(),s=r?{threshold:Math.min(iU,r),timeout:r,scrollTimeout:sU,ignoreSelector:i?i.join(","):""}:void 0;if(s&&(this.clickDetector=new TH(this,s)),vt){const o=t._experiments;wt.setConfig({captureExceptions:!!o.captureExceptions,traceInternals:!!o.traceInternals})}}getContext(){return this._context}isEnabled(){return this._isEnabled}isPaused(){return this._isPaused}isRecordingCanvas(){return!!this._canvas}getOptions(){return this._options}handleException(t){vt&&wt.exception(t),this._options.onError&&this._options.onError(t)}initializeSampling(t){const{errorSampleRate:n,sessionSampleRate:r}=this._options,i=n<=0&&r<=0;if(this._requiresManualStart=i,!i){if(this._initializeSessionForSampling(t),!this.session){vt&&wt.exception(new Error("Unable to initialize and create session"));return}this.session.sampled!==!1&&(this.recordingMode=this.session.sampled==="buffer"&&this.session.segmentId===0?"buffer":"session",vt&&wt.infoTick(`Starting replay in ${this.recordingMode} mode`),this._initializeRecording())}}start(){if(this._isEnabled&&this.recordingMode==="session"){vt&&wt.info("Recording is already in progress");return}if(this._isEnabled&&this.recordingMode==="buffer"){vt&&wt.info("Buffering is in progress, call `flush()` to save the replay");return}vt&&wt.infoTick("Starting replay in session mode"),this._updateUserActivity();const t=vx({maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire},{stickySession:this._options.stickySession,sessionSampleRate:1,allowBuffering:!1});this.session=t,this._initializeRecording()}startBuffering(){if(this._isEnabled){vt&&wt.info("Buffering is in progress, call `flush()` to save the replay");return}vt&&wt.infoTick("Starting replay in buffer mode");const t=vx({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration},{stickySession:this._options.stickySession,sessionSampleRate:0,allowBuffering:!0});this.session=t,this.recordingMode="buffer",this._initializeRecording()}startRecording(){try{const t=this._canvas;this._stopRecording=ya({...this._recordingOptions,...this.recordingMode==="buffer"?{checkoutEveryNms:tU}:this._options._experiments.continuousCheckout&&{checkoutEveryNms:Math.max(36e4,this._options._experiments.continuousCheckout)},emit:fV(this),...dV(),onMutation:this._onMutationHandler,...t?{recordCanvas:t.recordCanvas,getCanvasManager:t.getCanvasManager,sampling:t.sampling,dataURLOptions:t.dataURLOptions}:{}})}catch(t){this.handleException(t)}}stopRecording(){try{return this._stopRecording&&(this._stopRecording(),this._stopRecording=void 0),!0}catch(t){return this.handleException(t),!1}}async stop({forceFlush:t=!1,reason:n}={}){if(this._isEnabled){this._isEnabled=!1;try{vt&&wt.info(`Stopping Replay${n?` triggered by ${n}`:""}`),F9(),this._removeListeners(),this.stopRecording(),this._debouncedFlush.cancel(),t&&await this._flush({force:!0}),this.eventBuffer&&this.eventBuffer.destroy(),this.eventBuffer=null,cW(this)}catch(r){this.handleException(r)}}}pause(){this._isPaused||(this._isPaused=!0,this.stopRecording(),vt&&wt.info("Pausing replay"))}resume(){!this._isPaused||!this._checkSession()||(this._isPaused=!1,this.startRecording(),vt&&wt.info("Resuming replay"))}async sendBufferedReplayOrFlush({continueRecording:t=!0}={}){if(this.recordingMode==="session")return this.flushImmediate();const n=Date.now();vt&&wt.info("Converting buffer to session"),await this.flushImmediate();const r=this.stopRecording();!t||!r||this.recordingMode!=="session"&&(this.recordingMode="session",this.session&&(this._updateUserActivity(n),this._updateSessionActivity(n),this._maybeSaveSession()),this.startRecording())}addUpdate(t){const n=t();this.recordingMode!=="buffer"&&n!==!0&&this._debouncedFlush()}triggerUserActivity(){if(this._updateUserActivity(),!this._stopRecording){if(!this._checkSession())return;this.resume();return}this.checkAndHandleExpiredSession(),this._updateSessionActivity()}updateUserActivity(){this._updateUserActivity(),this._updateSessionActivity()}conditionalFlush(){return this.recordingMode==="buffer"?Promise.resolve():this.flushImmediate()}flush(){return this._debouncedFlush()}flushImmediate(){return this._debouncedFlush(),this._debouncedFlush.flush()}cancelFlush(){this._debouncedFlush.cancel()}getSessionId(){return this.session&&this.session.id}checkAndHandleExpiredSession(){if(this._lastActivity&&pw(this._lastActivity,this.timeouts.sessionIdlePause)&&this.session&&this.session.sampled==="session"){this.pause();return}return!!this._checkSession()}setInitialState(){const t=`${Nn.location.pathname}${Nn.location.hash}${Nn.location.search}`,n=`${Nn.location.origin}${t}`;this.performanceEntries=[],this.replayPerformanceEntries=[],this._clearContext(),this._context.initialUrl=n,this._context.initialTimestamp=Date.now(),this._context.urls.push(n)}throttledAddEvent(t,n){const r=this._throttledAddEvent(t,n);if(r===K9){const i=Io({category:"replay.throttled"});this.addUpdate(()=>!p_(this,{type:bH,timestamp:i.timestamp||0,data:{tag:"breadcrumb",payload:i,metric:!0}}))}return r}getCurrentRoute(){const t=this.lastActiveSpan||Wr(),n=t&&Kr(t),i=(n&&pn(n).data||{})[jo];if(!(!n||!i||!["route","custom"].includes(i)))return pn(n).description}_initializeRecording(){this.setInitialState(),this._updateSessionActivity(),this.eventBuffer=aW({useCompression:this._options.useCompression,workerUrl:this._options.workerUrl}),this._removeListeners(),this._addListeners(),this._isEnabled=!0,this._isPaused=!1,this.startRecording()}_initializeSessionForSampling(t){const n=this._options.errorSampleRate>0,r=vx({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,previousSessionId:t},{stickySession:this._options.stickySession,sessionSampleRate:this._options.sessionSampleRate,allowBuffering:n});this.session=r}_checkSession(){if(!this.session)return!1;const t=this.session;return M9(t,{sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration})?(this._refreshSession(t),!1):!0}async _refreshSession(t){this._isEnabled&&(await this.stop({reason:"refresh session"}),this.initializeSampling(t.id))}_addListeners(){try{Nn.document.addEventListener("visibilitychange",this._handleVisibilityChange),Nn.addEventListener("blur",this._handleWindowBlur),Nn.addEventListener("focus",this._handleWindowFocus),Nn.addEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.addListeners(),this._hasInitializedCoreListeners||(aV(this),this._hasInitializedCoreListeners=!0)}catch(t){this.handleException(t)}this._performanceCleanupCallback=eW(this)}_removeListeners(){try{Nn.document.removeEventListener("visibilitychange",this._handleVisibilityChange),Nn.removeEventListener("blur",this._handleWindowBlur),Nn.removeEventListener("focus",this._handleWindowFocus),Nn.removeEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.removeListeners(),this._performanceCleanupCallback&&this._performanceCleanupCallback()}catch(t){this.handleException(t)}}__init(){this._handleVisibilityChange=()=>{Nn.document.visibilityState==="visible"?this._doChangeToForegroundTasks():this._doChangeToBackgroundTasks()}}__init2(){this._handleWindowBlur=()=>{const t=Io({category:"ui.blur"});this._doChangeToBackgroundTasks(t)}}__init3(){this._handleWindowFocus=()=>{const t=Io({category:"ui.focus"});this._doChangeToForegroundTasks(t)}}__init4(){this._handleKeyboardEvent=t=>{zH(this,t)}}_doChangeToBackgroundTasks(t){!this.session||O9(this.session,{maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire})||(t&&this._createCustomBreadcrumb(t),this.conditionalFlush())}_doChangeToForegroundTasks(t){if(!this.session)return;if(!this.checkAndHandleExpiredSession()){vt&&wt.info("Document has become active, but session has expired");return}t&&this._createCustomBreadcrumb(t)}_updateUserActivity(t=Date.now()){this._lastActivity=t}_updateSessionActivity(t=Date.now()){this.session&&(this.session.lastActivity=t,this._maybeSaveSession())}_createCustomBreadcrumb(t){this.addUpdate(()=>{this.throttledAddEvent({type:Wt.Custom,timestamp:t.timestamp||0,data:{tag:"breadcrumb",payload:t}})})}_addPerformanceEntries(){let t=WH(this.performanceEntries).concat(this.replayPerformanceEntries);if(this.performanceEntries=[],this.replayPerformanceEntries=[],this._requiresManualStart){const n=this._context.initialTimestamp/1e3;t=t.filter(r=>r.start>=n)}return Promise.all(Ay(this,t))}_clearContext(){this._context.errorIds.clear(),this._context.traceIds.clear(),this._context.urls=[]}_updateInitialTimestampFromEventBuffer(){const{session:t,eventBuffer:n}=this;if(!t||!n||this._requiresManualStart||t.segmentId)return;const r=n.getEarliestTimestamp();r&&r<this._context.initialTimestamp&&(this._context.initialTimestamp=r)}_popEventContext(){const t={initialTimestamp:this._context.initialTimestamp,initialUrl:this._context.initialUrl,errorIds:Array.from(this._context.errorIds),traceIds:Array.from(this._context.traceIds),urls:this._context.urls};return this._clearContext(),t}async _runFlush(){const t=this.getSessionId();if(!this.session||!this.eventBuffer||!t){vt&&wt.error("No session or eventBuffer found to flush.");return}if(await this._addPerformanceEntries(),!(!this.eventBuffer||!this.eventBuffer.hasEvents)&&(await lV(this),!!this.eventBuffer&&t===this.getSessionId()))try{this._updateInitialTimestampFromEventBuffer();const n=Date.now();if(n-this._context.initialTimestamp>this._options.maxReplayDuration+3e4)throw new Error("Session is too long, not sending replay");const r=this._popEventContext(),i=this.session.segmentId++;this._maybeSaveSession();const s=await this.eventBuffer.finish();await Q9({replayId:t,recordingData:s,segmentId:i,eventContext:r,session:this.session,timestamp:n,onError:o=>this.handleException(o)})}catch(n){this.handleException(n),this.stop({reason:"sendReplay"});const r=tn();if(r){const i=n instanceof g_?"ratelimit_backoff":"send_error";r.recordDroppedEvent(i,"replay")}}}__init5(){this._flush=async({force:t=!1}={})=>{if(!this._isEnabled&&!t)return;if(!this.checkAndHandleExpiredSession()){vt&&wt.error("Attempting to finish replay event after session expired.");return}if(!this.session)return;const n=this.session.started,i=Date.now()-n;this._debouncedFlush.cancel();const s=i<this._options.minReplayDuration,o=i>this._options.maxReplayDuration+5e3;if(s||o){vt&&wt.info(`Session duration (${Math.floor(i/1e3)}s) is too ${s?"short":"long"}, not sending replay.`),s&&this._debouncedFlush();return}const a=this.eventBuffer;a&&this.session.segmentId===0&&!a.hasCheckout&&vt&&wt.info("Flushing initial segment without checkout.");const l=!!this._flushLock;this._flushLock||(this._flushLock=this._runFlush());try{await this._flushLock}catch(c){this.handleException(c)}finally{this._flushLock=void 0,l&&this._debouncedFlush()}}}_maybeSaveSession(){this.session&&this._options.stickySession&&h_(this.session)}__init6(){this._onMutationHandler=t=>{const n=t.length,r=this._options.mutationLimit,i=this._options.mutationBreadcrumbLimit,s=r&&n>r;if(n>i||s){const o=Io({category:"replay.mutations",data:{count:n,limit:s}});this._createCustomBreadcrumb(o)}return s?(this.stop({reason:"mutationLimit",forceFlush:this.recordingMode==="session"}),!1):!0}}}function rh(e,t){return[...e,...t].join(",")}function wV({mask:e,unmask:t,block:n,unblock:r,ignore:i}){const s=["base","iframe[srcdoc]:not([src])"],o=rh(e,[".sentry-mask","[data-sentry-mask]"]),a=rh(t,[]);return{maskTextSelector:o,unmaskTextSelector:a,blockSelector:rh(n,[".sentry-block","[data-sentry-block]",...s]),unblockSelector:rh(r,[]),ignoreSelector:rh(i,[".sentry-ignore","[data-sentry-ignore]",'input[type="file"]'])}}function _V({el:e,key:t,maskAttributes:n,maskAllText:r,privacyOptions:i,value:s}){return!r||i.unmaskTextSelector&&e.matches(i.unmaskTextSelector)?s:n.includes(t)||t==="value"&&e.tagName==="INPUT"&&["submit","button"].includes(e.getAttribute("type")||"")?s.replace(/[\S]/g,"*"):s}const OE='img,image,svg,video,object,picture,embed,map,audio,link[rel="icon"],link[rel="apple-touch-icon"]',SV=["content-length","content-type","accept"];let ME=!1;const CV=e=>new Ly(e);class Ly{static __initStatic(){this.id="Replay"}constructor({flushMinDelay:t=Z$,flushMaxDelay:n=eU,minReplayDuration:r=oU,maxReplayDuration:i=fE,stickySession:s=!0,useCompression:o=!0,workerUrl:a,_experiments:l={},maskAllText:c=!0,maskAllInputs:f=!0,blockAllMedia:p=!0,mutationBreadcrumbLimit:g=750,mutationLimit:y=1e4,slowClickTimeout:b=7e3,slowClickIgnoreSelectors:_=[],networkDetailAllowUrls:C=[],networkDetailDenyUrls:E=[],networkCaptureBodies:R=!0,networkRequestHeaders:M=[],networkResponseHeaders:U=[],mask:z=[],maskAttributes:P=["title","placeholder"],unmask:N=[],block:B=[],unblock:$=[],ignore:D=[],maskFn:J,beforeAddRecordingEvent:X,beforeErrorSampling:ie,onError:q}={}){this.name=Ly.id;const V=wV({mask:z,unmask:N,block:B,unblock:$,ignore:D});if(this._recordingOptions={maskAllInputs:f,maskAllText:c,maskInputOptions:{password:!0},maskTextFn:J,maskInputFn:J,maskAttributeFn:(K,ne,Y)=>_V({maskAttributes:P,maskAllText:c,privacyOptions:V,key:K,value:ne,el:Y}),...V,slimDOMOptions:"all",inlineStylesheet:!0,inlineImages:!1,collectFonts:!0,errorHandler:K=>{try{K.__rrweb__=!0}catch{}}},this._initialOptions={flushMinDelay:t,flushMaxDelay:n,minReplayDuration:Math.min(r,aU),maxReplayDuration:Math.min(i,fE),stickySession:s,useCompression:o,workerUrl:a,blockAllMedia:p,maskAllInputs:f,maskAllText:c,mutationBreadcrumbLimit:g,mutationLimit:y,slowClickTimeout:b,slowClickIgnoreSelectors:_,networkDetailAllowUrls:C,networkDetailDenyUrls:E,networkCaptureBodies:R,networkRequestHeaders:AE(M),networkResponseHeaders:AE(U),beforeAddRecordingEvent:X,beforeErrorSampling:ie,onError:q,_experiments:l},this._initialOptions.blockAllMedia&&(this._recordingOptions.blockSelector=this._recordingOptions.blockSelector?`${this._recordingOptions.blockSelector},${OE}`:OE),this._isInitialized&&nE())throw new Error("Multiple Sentry Session Replay instances are not supported");this._isInitialized=!0}get _isInitialized(){return ME}set _isInitialized(t){ME=t}afterAllSetup(t){!nE()||this._replay||(this._setup(t),this._initialize(t))}start(){this._replay&&this._replay.start()}startBuffering(){this._replay&&this._replay.startBuffering()}stop(){return this._replay?this._replay.stop({forceFlush:this._replay.recordingMode==="session"}):Promise.resolve()}flush(t){return this._replay?this._replay.isEnabled()?this._replay.sendBufferedReplayOrFlush(t):(this._replay.start(),Promise.resolve()):Promise.resolve()}getReplayId(){if(!(!this._replay||!this._replay.isEnabled()))return this._replay.getSessionId()}getRecordingMode(){if(!(!this._replay||!this._replay.isEnabled()))return this._replay.recordingMode}_initialize(t){this._replay&&(this._maybeLoadFromReplayCanvasIntegration(t),this._replay.initializeSampling())}_setup(t){const n=EV(this._initialOptions,t);this._replay=new cl({options:n,recordingOptions:this._recordingOptions})}_maybeLoadFromReplayCanvasIntegration(t){try{const n=t.getIntegrationByName("ReplayCanvas");if(!n)return;this._replay._canvas=n.getOptions()}catch{}}}Ly.__initStatic();function EV(e,t){const n=t.getOptions(),r={sessionSampleRate:0,errorSampleRate:0,...Ir(e)},i=N0(n.replaysSessionSampleRate),s=N0(n.replaysOnErrorSampleRate);return i==null&&s==null&&Fl(()=>{console.warn("Replay is disabled because neither `replaysSessionSampleRate` nor `replaysOnErrorSampleRate` are set.")}),i!=null&&(r.sessionSampleRate=i),s!=null&&(r.errorSampleRate=s),r}function AE(e){return[...SV,...e.map(t=>t.toLowerCase())]}const DE=new WeakMap,xx=new Map,g0={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0,trackFetchStreamPerformance:!1};function kV(e,t){const{traceFetch:n,traceXHR:r,trackFetchStreamPerformance:i,shouldCreateSpanForRequest:s,enableHTTPTimings:o,tracePropagationTargets:a}={traceFetch:g0.traceFetch,traceXHR:g0.traceXHR,trackFetchStreamPerformance:g0.trackFetchStreamPerformance,...t},l=typeof s=="function"?s:p=>!0,c=p=>IV(p,a),f={};n&&(e.addEventProcessor(p=>(p.type==="transaction"&&p.spans&&p.spans.forEach(g=>{if(g.op==="http.client"){const y=xx.get(g.span_id);y&&(g.timestamp=y/1e3,xx.delete(g.span_id))}}),p)),i&&gB(p=>{if(p.response){const g=DE.get(p.response);g&&p.endTimestamp&&xx.set(g,p.endTimestamp)}}),AT(p=>{const g=uB(p,l,c,f);if(p.response&&p.fetchData.__span&&DE.set(p.response,p.fetchData.__span),g){const y=G9(p.fetchData.url),b=y?Wu(y).host:void 0;g.setAttributes({"http.url":y,"server.address":b})}o&&g&&LE(g)})),r&&t9(p=>{const g=NV(p,l,c,f);o&&g&&LE(g)})}function TV(e){return e.entryType==="resource"&&"initiatorType"in e&&typeof e.nextHopProtocol=="string"&&(e.initiatorType==="fetch"||e.initiatorType==="xmlhttprequest")}function LE(e){const{url:t}=pn(e).data||{};if(!t||typeof t!="string")return;const n=Wd("resource",({entries:r})=>{r.forEach(i=>{TV(i)&&i.name.endsWith(t)&&(jV(i).forEach(o=>e.setAttribute(...o)),setTimeout(n))})})}function Co(e=0){return((Ci||performance.timeOrigin)+e)/1e3}function jV(e){const{name:t,version:n}=JT(e.nextHopProtocol),r=[];return r.push(["network.protocol.version",n],["network.protocol.name",t]),Ci?[...r,["http.request.redirect_start",Co(e.redirectStart)],["http.request.fetch_start",Co(e.fetchStart)],["http.request.domain_lookup_start",Co(e.domainLookupStart)],["http.request.domain_lookup_end",Co(e.domainLookupEnd)],["http.request.connect_start",Co(e.connectStart)],["http.request.secure_connection_start",Co(e.secureConnectionStart)],["http.request.connection_end",Co(e.connectEnd)],["http.request.request_start",Co(e.requestStart)],["http.request.response_start",Co(e.responseStart)],["http.request.response_end",Co(e.responseEnd)]]:r}function IV(e,t){const n=Pt.location&&Pt.location.href;if(n){let r,i;try{r=new URL(e,n),i=new URL(n).origin}catch{return!1}const s=r.origin===i;return t?bl(r.toString(),t)||s&&bl(r.pathname,t):s}else{const r=!!e.match(/^\/(?!\/)/);return t?bl(e,t):r}}function NV(e,t,n,r){const i=e.xhr,s=i&&i[Lu];if(!i||i.__sentry_own_request__||!s)return;const o=Tl()&&t(s.url);if(e.endTimestamp&&o){const p=i.__sentry_xhr_span_id__;if(!p)return;const g=r[p];g&&s.status_code!==void 0&&(X7(g,s.status_code),g.end(),delete r[p]);return}const a=G9(s.url),l=a?Wu(a).host:void 0,c=!!Wr(),f=o&&c?Tp({name:`${s.method} ${s.url}`,attributes:{type:"xhr","http.method":s.method,"http.url":a,url:s.url,"server.address":l,[Ur]:"auto.http.browser",[Ju]:"http.client"}}):new of;return i.__sentry_xhr_span_id__=f.spanContext().spanId,r[i.__sentry_xhr_span_id__]=f,n(s.url)&&RV(i,Tl()&&c?f:void 0),f}function RV(e,t){const{"sentry-trace":n,baggage:r}=IT({span:t});n&&PV(e,n,r)}function PV(e,t,n){try{e.setRequestHeader("sentry-trace",t),n&&e.setRequestHeader("baggage",n)}catch{}}function G9(e){try{return new URL(e,Pt.location.origin).href}catch{return}}function OV(){Pt&&Pt.document?Pt.document.addEventListener("visibilitychange",()=>{const e=Wr();if(!e)return;const t=Kr(e);if(Pt.document.hidden&&t){const n="cancelled",{op:r,status:i}=pn(t);Mo&&Ge.log(`[Tracing] Transaction: ${n} -> since tab moved to the background, op: ${r}`),i||t.setStatus({code:Br,message:n}),t.setAttribute("sentry.cancellation_reason","document.hidden"),t.end()}}):Mo&&Ge.warn("[Tracing] Could not set up background tab detection due to lack of global document")}const MV="BrowserTracing",AV={...d0,instrumentNavigation:!0,instrumentPageLoad:!0,markBackgroundSpan:!0,enableLongTask:!0,enableLongAnimationFrame:!0,enableInp:!0,_experiments:{},...g0},DV=(e={})=>{uL();const{enableInp:t,enableLongTask:n,enableLongAnimationFrame:r,_experiments:{enableInteractions:i,enableStandaloneClsSpans:s},beforeStartSpan:o,idleTimeout:a,finalTimeout:l,childSpanTimeout:c,markBackgroundSpan:f,traceFetch:p,traceXHR:g,trackFetchStreamPerformance:y,shouldCreateSpanForRequest:b,enableHTTPTimings:_,instrumentPageLoad:C,instrumentNavigation:E}={...AV,...e},R=Ez({recordClsStandaloneSpans:s||!1});t&&Yz(),r&&sn.PerformanceObserver&&PerformanceObserver.supportedEntryTypes&&PerformanceObserver.supportedEntryTypes.includes("long-animation-frame")?Tz():n&&kz(),i&&jz();const M={name:void 0,source:void 0};function U(z,P){const N=P.op==="pageload",B=o?o(P):P,$=B.attributes||{};P.name!==B.name&&($[jo]="custom",B.attributes=$),M.name=B.name,M.source=$[jo];const D=yT(B,{idleTimeout:a,finalTimeout:l,childSpanTimeout:c,disableAutoFinish:N,beforeSpanEnd:X=>{R(),Oz(X,{recordClsOnPageloadSpan:!s})}});function J(){["interactive","complete"].includes(Pt.document.readyState)&&z.emit("idleSpanEnableAutoFinish",D)}return N&&Pt.document&&(Pt.document.addEventListener("readystatechange",()=>{J()}),J()),D}return{name:MV,afterAllSetup(z){let P,N=Pt.location&&Pt.location.href;function B(){P&&!pn(P).timestamp&&(Mo&&Ge.log(`[Tracing] Finishing current active span with op: ${pn(P).op}`),P.end())}z.on("startNavigationSpan",$=>{tn()===z&&(B(),P=U(z,{op:"navigation",...$}))}),z.on("startPageLoadSpan",($,D={})=>{if(tn()!==z)return;B();const J=D.sentryTrace||FE("sentry-trace"),X=D.baggage||FE("baggage"),ie=nL(J,X);On().setPropagationContext(ie),P=U(z,{op:"pageload",...$})}),z.on("spanEnd",$=>{const D=pn($).op;if($!==Kr($)||D!=="navigation"&&D!=="pageload")return;const J=On(),X=J.getPropagationContext();J.setPropagationContext({...X,sampled:X.sampled!==void 0?X.sampled:ac($),dsc:X.dsc||lc($)})}),Pt.location&&(C&&LV(z,{name:Pt.location.pathname,startTime:Ci?Ci/1e3:void 0,attributes:{[jo]:"url",[Ur]:"auto.pageload.browser"}}),E&&Ny(({to:$,from:D})=>{if(D===void 0&&N&&N.indexOf($)!==-1){N=void 0;return}D!==$&&(N=void 0,FV(z,{name:Pt.location.pathname,attributes:{[jo]:"url",[Ur]:"auto.navigation.browser"}}))})),f&&OV(),i&&BV(a,l,c,M),t&&Jz(),kV(z,{traceFetch:p,traceXHR:g,trackFetchStreamPerformance:y,tracePropagationTargets:z.getOptions().tracePropagationTargets,shouldCreateSpanForRequest:b,enableHTTPTimings:_})}}};function LV(e,t,n){e.emit("startPageLoadSpan",t,n),On().setTransactionName(t.name);const r=Wr();return(r&&pn(r).op)==="pageload"?r:void 0}function FV(e,t){ho().setPropagationContext({traceId:Cl()}),On().setPropagationContext({traceId:Cl()}),e.emit("startNavigationSpan",t),On().setTransactionName(t.name);const n=Wr();return(n&&pn(n).op)==="navigation"?n:void 0}function FE(e){const t=jD(`meta[name=${e}]`);return t?t.getAttribute("content"):void 0}function BV(e,t,n,r){let i;const s=()=>{const o="ui.action.click",a=Wr(),l=a&&Kr(a);if(l){const c=pn(l).op;if(["navigation","pageload"].includes(c)){Mo&&Ge.warn(`[Tracing] Did not create ${o} span because a pageload or navigation span is in progress.`);return}}if(i&&(i.setAttribute(Wb,"interactionInterrupted"),i.end(),i=void 0),!r.name){Mo&&Ge.warn(`[Tracing] Did not create ${o} transaction because _latestRouteName is missing.`);return}i=yT({name:r.name,op:o,attributes:{[jo]:r.source||"url"}},{idleTimeout:e,finalTimeout:t,childSpanTimeout:n})};Pt.document&&addEventListener("click",s,{once:!1,capture:!0})}function zV(e){const t={...e};return jT(t,"react"),bT("react",{version:j.version}),G$(t)}const $V={initialize(){zV({dsn:"https://e9f254e66aacba9bfb5a6901063e0009@o4508692782907392.ingest.us.sentry.io/4508782708326400",integrations:[DV(),CV()],tracesSampleRate:1,tracePropagationTargets:[/^https:\/\/www.allcll\.kr/,/^https:\/\/allcll\.kr/],replaysSessionSampleRate:.01,replaysOnErrorSampleRate:1})}};var bx={exports:{}},wx,BE;function UV(){if(BE)return wx;BE=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return wx=e,wx}var _x,zE;function HV(){if(zE)return _x;zE=1;var e=UV();function t(){}function n(){}return n.resetWarningCache=t,_x=function(){function r(o,a,l,c,f,p){if(p!==e){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}r.isRequired=r;function i(){return r}var s={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:t};return s.PropTypes=s,s},_x}var $E;function WV(){return $E||($E=1,bx.exports=HV()()),bx.exports}var VV=WV();const zt=qi(VV);var Sx,UE;function qV(){if(UE)return Sx;UE=1;function e(a){return a&&typeof a=="object"&&"default"in a?a.default:a}var t=gy(),n=e(t);function r(a,l,c){return l in a?Object.defineProperty(a,l,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[l]=c,a}function i(a,l){a.prototype=Object.create(l.prototype),a.prototype.constructor=a,a.__proto__=l}var s=!!(typeof window<"u"&&window.document&&window.document.createElement);function o(a,l,c){if(typeof a!="function")throw new Error("Expected reducePropsToState to be a function.");if(typeof l!="function")throw new Error("Expected handleStateChangeOnClient to be a function.");if(typeof c<"u"&&typeof c!="function")throw new Error("Expected mapStateOnServer to either be undefined or a function.");function f(p){return p.displayName||p.name||"Component"}return function(g){if(typeof g!="function")throw new Error("Expected WrappedComponent to be a React component.");var y=[],b;function _(){b=a(y.map(function(E){return E.props})),C.canUseDOM?l(b):c&&(b=c(b))}var C=function(E){i(R,E);function R(){return E.apply(this,arguments)||this}R.peek=function(){return b},R.rewind=function(){if(R.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var z=b;return b=void 0,y=[],z};var M=R.prototype;return M.UNSAFE_componentWillMount=function(){y.push(this),_()},M.componentDidUpdate=function(){_()},M.componentWillUnmount=function(){var z=y.indexOf(this);y.splice(z,1),_()},M.render=function(){return n.createElement(g,this.props)},R}(t.PureComponent);return r(C,"displayName","SideEffect("+f(g)+")"),r(C,"canUseDOM",s),C}}return Sx=o,Sx}var QV=qV();const KV=qi(QV);var Cx,HE;function GV(){if(HE)return Cx;HE=1;var e=typeof Element<"u",t=typeof Map=="function",n=typeof Set=="function",r=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function i(s,o){if(s===o)return!0;if(s&&o&&typeof s=="object"&&typeof o=="object"){if(s.constructor!==o.constructor)return!1;var a,l,c;if(Array.isArray(s)){if(a=s.length,a!=o.length)return!1;for(l=a;l--!==0;)if(!i(s[l],o[l]))return!1;return!0}var f;if(t&&s instanceof Map&&o instanceof Map){if(s.size!==o.size)return!1;for(f=s.entries();!(l=f.next()).done;)if(!o.has(l.value[0]))return!1;for(f=s.entries();!(l=f.next()).done;)if(!i(l.value[1],o.get(l.value[0])))return!1;return!0}if(n&&s instanceof Set&&o instanceof Set){if(s.size!==o.size)return!1;for(f=s.entries();!(l=f.next()).done;)if(!o.has(l.value[0]))return!1;return!0}if(r&&ArrayBuffer.isView(s)&&ArrayBuffer.isView(o)){if(a=s.length,a!=o.length)return!1;for(l=a;l--!==0;)if(s[l]!==o[l])return!1;return!0}if(s.constructor===RegExp)return s.source===o.source&&s.flags===o.flags;if(s.valueOf!==Object.prototype.valueOf&&typeof s.valueOf=="function"&&typeof o.valueOf=="function")return s.valueOf()===o.valueOf();if(s.toString!==Object.prototype.toString&&typeof s.toString=="function"&&typeof o.toString=="function")return s.toString()===o.toString();if(c=Object.keys(s),a=c.length,a!==Object.keys(o).length)return!1;for(l=a;l--!==0;)if(!Object.prototype.hasOwnProperty.call(o,c[l]))return!1;if(e&&s instanceof Element)return!1;for(l=a;l--!==0;)if(!((c[l]==="_owner"||c[l]==="__v"||c[l]==="__o")&&s.$$typeof)&&!i(s[c[l]],o[c[l]]))return!1;return!0}return s!==s&&o!==o}return Cx=function(o,a){try{return i(o,a)}catch(l){if((l.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw l}},Cx}var YV=GV();const XV=qi(YV);/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var Ex,WE;function JV(){if(WE)return Ex;WE=1;var e=Object.getOwnPropertySymbols,t=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable;function r(s){if(s==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(s)}function i(){try{if(!Object.assign)return!1;var s=new String("abc");if(s[5]="de",Object.getOwnPropertyNames(s)[0]==="5")return!1;for(var o={},a=0;a<10;a++)o["_"+String.fromCharCode(a)]=a;var l=Object.getOwnPropertyNames(o).map(function(f){return o[f]});if(l.join("")!=="0123456789")return!1;var c={};return"abcdefghijklmnopqrst".split("").forEach(function(f){c[f]=f}),Object.keys(Object.assign({},c)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}return Ex=i()?Object.assign:function(s,o){for(var a,l=r(s),c,f=1;f<arguments.length;f++){a=Object(arguments[f]);for(var p in a)t.call(a,p)&&(l[p]=a[p]);if(e){c=e(a);for(var g=0;g<c.length;g++)n.call(a,c[g])&&(l[c[g]]=a[c[g]])}}return l},Ex}var ZV=JV();const eq=qi(ZV);var Vu={BODY:"bodyAttributes",HTML:"htmlAttributes",TITLE:"titleAttributes"},Rt={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"};Object.keys(Rt).map(function(e){return Rt[e]});var Un={CHARSET:"charset",CSS_TEXT:"cssText",HREF:"href",HTTPEQUIV:"http-equiv",INNER_HTML:"innerHTML",ITEM_PROP:"itemprop",NAME:"name",PROPERTY:"property",REL:"rel",SRC:"src",TARGET:"target"},H0={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},rp={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate"},tq=Object.keys(H0).reduce(function(e,t){return e[H0[t]]=t,e},{}),nq=[Rt.NOSCRIPT,Rt.SCRIPT,Rt.STYLE],io="data-react-helmet",rq=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iq=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},sq=function(){function e(t,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Di=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},oq=function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},VE=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n},aq=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e},yw=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return n===!1?String(t):String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},lq=function(t){var n=Md(t,Rt.TITLE),r=Md(t,rp.TITLE_TEMPLATE);if(r&&n)return r.replace(/%s/g,function(){return Array.isArray(n)?n.join(""):n});var i=Md(t,rp.DEFAULT_TITLE);return n||i||void 0},uq=function(t){return Md(t,rp.ON_CHANGE_CLIENT_STATE)||function(){}},kx=function(t,n){return n.filter(function(r){return typeof r[t]<"u"}).map(function(r){return r[t]}).reduce(function(r,i){return Di({},r,i)},{})},cq=function(t,n){return n.filter(function(r){return typeof r[Rt.BASE]<"u"}).map(function(r){return r[Rt.BASE]}).reverse().reduce(function(r,i){if(!r.length)for(var s=Object.keys(i),o=0;o<s.length;o++){var a=s[o],l=a.toLowerCase();if(t.indexOf(l)!==-1&&i[l])return r.concat(i)}return r},[])},ih=function(t,n,r){var i={};return r.filter(function(s){return Array.isArray(s[t])?!0:(typeof s[t]<"u"&&pq("Helmet: "+t+' should be of type "Array". Instead found type "'+rq(s[t])+'"'),!1)}).map(function(s){return s[t]}).reverse().reduce(function(s,o){var a={};o.filter(function(g){for(var y=void 0,b=Object.keys(g),_=0;_<b.length;_++){var C=b[_],E=C.toLowerCase();n.indexOf(E)!==-1&&!(y===Un.REL&&g[y].toLowerCase()==="canonical")&&!(E===Un.REL&&g[E].toLowerCase()==="stylesheet")&&(y=E),n.indexOf(C)!==-1&&(C===Un.INNER_HTML||C===Un.CSS_TEXT||C===Un.ITEM_PROP)&&(y=C)}if(!y||!g[y])return!1;var R=g[y].toLowerCase();return i[y]||(i[y]={}),a[y]||(a[y]={}),i[y][R]?!1:(a[y][R]=!0,!0)}).reverse().forEach(function(g){return s.push(g)});for(var l=Object.keys(a),c=0;c<l.length;c++){var f=l[c],p=eq({},i[f],a[f]);i[f]=p}return s},[]).reverse()},Md=function(t,n){for(var r=t.length-1;r>=0;r--){var i=t[r];if(i.hasOwnProperty(n))return i[n]}return null},dq=function(t){return{baseTag:cq([Un.HREF,Un.TARGET],t),bodyAttributes:kx(Vu.BODY,t),defer:Md(t,rp.DEFER),encode:Md(t,rp.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:kx(Vu.HTML,t),linkTags:ih(Rt.LINK,[Un.REL,Un.HREF],t),metaTags:ih(Rt.META,[Un.NAME,Un.CHARSET,Un.HTTPEQUIV,Un.PROPERTY,Un.ITEM_PROP],t),noscriptTags:ih(Rt.NOSCRIPT,[Un.INNER_HTML],t),onChangeClientState:uq(t),scriptTags:ih(Rt.SCRIPT,[Un.SRC,Un.INNER_HTML],t),styleTags:ih(Rt.STYLE,[Un.CSS_TEXT],t),title:lq(t),titleAttributes:kx(Vu.TITLE,t)}},vw=function(){var e=Date.now();return function(t){var n=Date.now();n-e>16?(e=n,t(n)):setTimeout(function(){vw(t)},0)}}(),qE=function(t){return clearTimeout(t)},fq=typeof window<"u"?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||vw:global.requestAnimationFrame||vw,hq=typeof window<"u"?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||qE:global.cancelAnimationFrame||qE,pq=function(t){return console&&typeof console.warn=="function"&&console.warn(t)},sh=null,mq=function(t){sh&&hq(sh),t.defer?sh=fq(function(){QE(t,function(){sh=null})}):(QE(t),sh=null)},QE=function(t,n){var r=t.baseTag,i=t.bodyAttributes,s=t.htmlAttributes,o=t.linkTags,a=t.metaTags,l=t.noscriptTags,c=t.onChangeClientState,f=t.scriptTags,p=t.styleTags,g=t.title,y=t.titleAttributes;xw(Rt.BODY,i),xw(Rt.HTML,s),gq(g,y);var b={baseTag:Xc(Rt.BASE,r),linkTags:Xc(Rt.LINK,o),metaTags:Xc(Rt.META,a),noscriptTags:Xc(Rt.NOSCRIPT,l),scriptTags:Xc(Rt.SCRIPT,f),styleTags:Xc(Rt.STYLE,p)},_={},C={};Object.keys(b).forEach(function(E){var R=b[E],M=R.newTags,U=R.oldTags;M.length&&(_[E]=M),U.length&&(C[E]=b[E].oldTags)}),n&&n(),c(t,_,C)},Y9=function(t){return Array.isArray(t)?t.join(""):t},gq=function(t,n){typeof t<"u"&&document.title!==t&&(document.title=Y9(t)),xw(Rt.TITLE,n)},xw=function(t,n){var r=document.getElementsByTagName(t)[0];if(r){for(var i=r.getAttribute(io),s=i?i.split(","):[],o=[].concat(s),a=Object.keys(n),l=0;l<a.length;l++){var c=a[l],f=n[c]||"";r.getAttribute(c)!==f&&r.setAttribute(c,f),s.indexOf(c)===-1&&s.push(c);var p=o.indexOf(c);p!==-1&&o.splice(p,1)}for(var g=o.length-1;g>=0;g--)r.removeAttribute(o[g]);s.length===o.length?r.removeAttribute(io):r.getAttribute(io)!==a.join(",")&&r.setAttribute(io,a.join(","))}},Xc=function(t,n){var r=document.head||document.querySelector(Rt.HEAD),i=r.querySelectorAll(t+"["+io+"]"),s=Array.prototype.slice.call(i),o=[],a=void 0;return n&&n.length&&n.forEach(function(l){var c=document.createElement(t);for(var f in l)if(l.hasOwnProperty(f))if(f===Un.INNER_HTML)c.innerHTML=l.innerHTML;else if(f===Un.CSS_TEXT)c.styleSheet?c.styleSheet.cssText=l.cssText:c.appendChild(document.createTextNode(l.cssText));else{var p=typeof l[f]>"u"?"":l[f];c.setAttribute(f,p)}c.setAttribute(io,"true"),s.some(function(g,y){return a=y,c.isEqualNode(g)})?s.splice(a,1):o.push(c)}),s.forEach(function(l){return l.parentNode.removeChild(l)}),o.forEach(function(l){return r.appendChild(l)}),{oldTags:s,newTags:o}},X9=function(t){return Object.keys(t).reduce(function(n,r){var i=typeof t[r]<"u"?r+'="'+t[r]+'"':""+r;return n?n+" "+i:i},"")},yq=function(t,n,r,i){var s=X9(r),o=Y9(n);return s?"<"+t+" "+io+'="true" '+s+">"+yw(o,i)+"</"+t+">":"<"+t+" "+io+'="true">'+yw(o,i)+"</"+t+">"},vq=function(t,n,r){return n.reduce(function(i,s){var o=Object.keys(s).filter(function(c){return!(c===Un.INNER_HTML||c===Un.CSS_TEXT)}).reduce(function(c,f){var p=typeof s[f]>"u"?f:f+'="'+yw(s[f],r)+'"';return c?c+" "+p:p},""),a=s.innerHTML||s.cssText||"",l=nq.indexOf(t)===-1;return i+"<"+t+" "+io+'="true" '+o+(l?"/>":">"+a+"</"+t+">")},"")},J9=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(t).reduce(function(r,i){return r[H0[i]||i]=t[i],r},n)},xq=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(t).reduce(function(r,i){return r[tq[i]||i]=t[i],r},n)},bq=function(t,n,r){var i,s=(i={key:n},i[io]=!0,i),o=J9(r,s);return[xn.createElement(Rt.TITLE,o,n)]},wq=function(t,n){return n.map(function(r,i){var s,o=(s={key:i},s[io]=!0,s);return Object.keys(r).forEach(function(a){var l=H0[a]||a;if(l===Un.INNER_HTML||l===Un.CSS_TEXT){var c=r.innerHTML||r.cssText;o.dangerouslySetInnerHTML={__html:c}}else o[l]=r[a]}),xn.createElement(t,o)})},ea=function(t,n,r){switch(t){case Rt.TITLE:return{toComponent:function(){return bq(t,n.title,n.titleAttributes)},toString:function(){return yq(t,n.title,n.titleAttributes,r)}};case Vu.BODY:case Vu.HTML:return{toComponent:function(){return J9(n)},toString:function(){return X9(n)}};default:return{toComponent:function(){return wq(t,n)},toString:function(){return vq(t,n,r)}}}},Z9=function(t){var n=t.baseTag,r=t.bodyAttributes,i=t.encode,s=t.htmlAttributes,o=t.linkTags,a=t.metaTags,l=t.noscriptTags,c=t.scriptTags,f=t.styleTags,p=t.title,g=p===void 0?"":p,y=t.titleAttributes;return{base:ea(Rt.BASE,n,i),bodyAttributes:ea(Vu.BODY,r,i),htmlAttributes:ea(Vu.HTML,s,i),link:ea(Rt.LINK,o,i),meta:ea(Rt.META,a,i),noscript:ea(Rt.NOSCRIPT,l,i),script:ea(Rt.SCRIPT,c,i),style:ea(Rt.STYLE,f,i),title:ea(Rt.TITLE,{title:g,titleAttributes:y},i)}},_q=function(t){var n,r;return r=n=function(i){oq(s,i);function s(){return iq(this,s),aq(this,i.apply(this,arguments))}return s.prototype.shouldComponentUpdate=function(a){return!XV(this.props,a)},s.prototype.mapNestedChildrenToProps=function(a,l){if(!l)return null;switch(a.type){case Rt.SCRIPT:case Rt.NOSCRIPT:return{innerHTML:l};case Rt.STYLE:return{cssText:l}}throw new Error("<"+a.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},s.prototype.flattenArrayTypeChildren=function(a){var l,c=a.child,f=a.arrayTypeChildren,p=a.newChildProps,g=a.nestedChildren;return Di({},f,(l={},l[c.type]=[].concat(f[c.type]||[],[Di({},p,this.mapNestedChildrenToProps(c,g))]),l))},s.prototype.mapObjectTypeChildren=function(a){var l,c,f=a.child,p=a.newProps,g=a.newChildProps,y=a.nestedChildren;switch(f.type){case Rt.TITLE:return Di({},p,(l={},l[f.type]=y,l.titleAttributes=Di({},g),l));case Rt.BODY:return Di({},p,{bodyAttributes:Di({},g)});case Rt.HTML:return Di({},p,{htmlAttributes:Di({},g)})}return Di({},p,(c={},c[f.type]=Di({},g),c))},s.prototype.mapArrayTypeChildrenToProps=function(a,l){var c=Di({},l);return Object.keys(a).forEach(function(f){var p;c=Di({},c,(p={},p[f]=a[f],p))}),c},s.prototype.warnOnInvalidChildren=function(a,l){return!0},s.prototype.mapChildrenToProps=function(a,l){var c=this,f={};return xn.Children.forEach(a,function(p){if(!(!p||!p.props)){var g=p.props,y=g.children,b=VE(g,["children"]),_=xq(b);switch(c.warnOnInvalidChildren(p,y),p.type){case Rt.LINK:case Rt.META:case Rt.NOSCRIPT:case Rt.SCRIPT:case Rt.STYLE:f=c.flattenArrayTypeChildren({child:p,arrayTypeChildren:f,newChildProps:_,nestedChildren:y});break;default:l=c.mapObjectTypeChildren({child:p,newProps:l,newChildProps:_,nestedChildren:y});break}}}),l=this.mapArrayTypeChildrenToProps(f,l),l},s.prototype.render=function(){var a=this.props,l=a.children,c=VE(a,["children"]),f=Di({},c);return l&&(f=this.mapChildrenToProps(l,f)),xn.createElement(t,f)},sq(s,null,[{key:"canUseDOM",set:function(a){t.canUseDOM=a}}]),s}(xn.Component),n.propTypes={base:zt.object,bodyAttributes:zt.object,children:zt.oneOfType([zt.arrayOf(zt.node),zt.node]),defaultTitle:zt.string,defer:zt.bool,encodeSpecialCharacters:zt.bool,htmlAttributes:zt.object,link:zt.arrayOf(zt.object),meta:zt.arrayOf(zt.object),noscript:zt.arrayOf(zt.object),onChangeClientState:zt.func,script:zt.arrayOf(zt.object),style:zt.arrayOf(zt.object),title:zt.string,titleAttributes:zt.object,titleTemplate:zt.string},n.defaultProps={defer:!0,encodeSpecialCharacters:!0},n.peek=t.peek,n.rewind=function(){var i=t.rewind();return i||(i=Z9({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),i},r},Sq=function(){return null},Cq=KV(dq,mq,Z9)(Sq),Gr=_q(Cq);Gr.renderStatic=Gr.rewind;const ej=e=>j.createElement("svg",{width:240,height:240,viewBox:"0 0 240 240",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},j.createElement("path",{d:"M35.0767 27.9936C36.2709 9.99373 56.1517 -0.303892 71.5425 9.10587L213.791 96.0756C231.278 106.768 228.18 133.047 208.685 139.378L169.934 151.963L186.77 185.839C193.06 198.497 187.616 213.848 174.755 219.712L148.361 231.747C136.289 237.252 122.02 232.368 115.853 220.621L96.5356 183.827L61.2319 205.402C44.6261 215.55 23.4817 202.753 24.77 183.334L35.0767 27.9936Z",fill:"#047CFE"}),j.createElement("ellipse",{cx:81.7143,cy:99.4285,rx:9.71429,ry:13.7143,fill:"white"}),j.createElement("path",{d:"M144 99.4285C144 107.003 139.651 113.143 134.286 113.143C128.921 113.143 124.571 107.003 124.571 99.4285C124.571 91.8543 128.921 85.7142 134.286 85.7142C139.651 85.7142 144 91.8543 144 99.4285Z",fill:"white"}),j.createElement("path",{d:"M86.7687 125.246C88.6759 123.021 92.0636 122.863 94.1695 124.901L99.9237 130.47C104.528 134.926 111.74 135.226 116.699 131.169L123.261 125.8C125.281 124.147 128.239 124.354 130.009 126.272V126.272C131.991 128.419 131.682 131.81 129.344 133.563L122.999 138.322C122.524 138.678 122.024 138.999 121.502 139.281L118.258 141.039C112.227 144.305 104.944 144.254 98.9601 140.903L95.3516 138.883C94.6427 138.486 93.973 138.022 93.3515 137.499L87.3544 132.449C85.1919 130.628 84.9288 127.393 86.7687 125.246V125.246Z",fill:"white"})),Eq=e=>j.createElement("svg",{id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",width:"100%",viewBox:"740 350 700 190",enableBackground:"new 0 0 1506 862",xmlSpace:"preserve",...e},j.createElement("path",{fill:"#017AFF",opacity:1,stroke:"none",d:" M766.615112,463.466736 C775.870483,435.054810 785.533081,407.176788 793.924072,378.921143 C799.456543,360.291321 821.375366,357.141083 832.881592,364.663513 C838.142395,368.102875 840.908264,372.891174 842.764648,378.570496 C853.528076,411.499817 864.314026,444.421814 875.109436,477.340668 C878.939270,489.019165 882.817444,500.681793 886.885071,512.991760 C873.401611,512.991760 860.604980,513.082825 847.814941,512.834106 C846.683838,512.812195 845.029419,510.751434 844.583618,509.333893 C842.385803,502.345581 840.389465,495.286346 838.588135,488.184601 C837.875916,485.376556 836.496521,484.498810 833.699890,484.534851 C823.536499,484.665802 813.369263,484.669006 803.205994,484.533264 C800.346008,484.495056 799.085388,485.557281 798.384705,488.289246 C796.564392,495.386353 794.554382,502.439484 792.396301,509.441223 C791.983948,510.779236 790.565674,512.800781 789.581299,512.818420 C776.821838,513.046875 764.056885,512.969788 750.549133,512.969788 C756.023682,496.088989 761.252869,479.964600 766.615112,463.466736 M816.931274,421.410614 C814.112549,431.575104 811.293823,441.739594 808.392944,452.200287 C815.599854,452.200287 821.902649,452.200287 828.658752,452.200287 C825.389221,440.483582 822.289490,429.375366 818.869080,417.118134 C817.911804,419.080017 817.519409,419.884216 816.931274,421.410614 z"}),j.createElement("path",{fill:"#017AFF",opacity:1,stroke:"none",d:" M897.499634,440.999878 C897.503479,420.519745 897.488831,400.539612 897.519775,380.559540 C897.531799,372.795044 900.376282,366.496521 907.660461,363.030640 C915.127136,359.477966 922.528442,359.846069 929.464539,364.563080 C935.259399,368.503876 937.055176,374.335907 937.048035,381.039062 C937.015198,411.841675 937.034424,442.644379 937.040466,473.447052 C937.041748,480.073792 937.052368,480.081238 943.492004,480.087067 C954.814026,480.097321 966.136658,480.028900 977.457947,480.122711 C987.208801,480.203491 993.256531,486.339630 993.423340,496.088531 C993.591736,505.931396 987.323730,512.874146 977.673828,512.951233 C959.526672,513.096191 941.377319,512.994263 923.229065,512.925903 C921.079651,512.917786 918.917908,512.564026 916.785522,512.222961 C904.801392,510.306244 898.913025,504.603821 898.202148,492.417206 C897.427734,479.139282 897.678284,465.801117 897.506409,452.488892 C897.459106,448.826477 897.499329,445.162903 897.499634,440.999878 z"}),j.createElement("path",{fill:"#017AFF",opacity:1,stroke:"none",d:" M1040.002319,513.009888 C1032.386597,512.472046 1025.194824,512.401672 1018.174561,511.268555 C1010.726318,510.066406 1006.177002,504.925751 1004.404785,497.720428 C1003.459595,493.877228 1002.968811,489.824890 1002.956421,485.864838 C1002.846130,450.709564 1002.826050,415.553650 1002.916931,380.398285 C1002.954224,365.950378 1016.559753,356.896027 1030.130249,362.060669 C1038.365479,365.194824 1042.187012,370.979767 1042.201660,380.770782 C1042.247070,411.094543 1042.204346,441.418396 1042.235718,471.742188 C1042.245239,480.981537 1041.247803,480.051331 1050.482178,480.082153 C1061.312012,480.118286 1072.142578,480.025299 1082.971680,480.121033 C1092.570557,480.205902 1098.845581,486.620514 1098.907471,496.184052 C1098.970459,505.922485 1092.541992,512.866394 1082.988037,512.962402 C1068.827148,513.104797 1054.663940,513.006042 1040.002319,513.009888 z"}),j.createElement("path",{fill:"#017AFF",opacity:1,stroke:"none",d:" M1105.599854,424.091034 C1105.678223,419.273590 1105.675537,414.939514 1105.848022,410.612366 C1106.679688,389.750092 1118.775146,372.818024 1138.406616,365.732941 C1156.549072,359.185303 1175.012329,358.583527 1193.188843,365.323273 C1198.110229,367.148071 1202.772949,370.721100 1206.466431,374.543121 C1211.164673,379.404846 1211.106934,386.678192 1207.716797,392.221375 C1204.392090,397.657684 1197.251099,400.903137 1190.883667,399.580627 C1188.301636,399.044403 1185.815430,397.977692 1183.339355,397.013916 C1175.530396,393.974335 1167.541260,392.816956 1159.379639,395.154175 C1150.777954,397.617371 1145.223511,403.980804 1145.017212,412.911163 C1144.628296,429.729340 1144.585449,446.570526 1145.007446,463.386902 C1145.269531,473.829987 1153.125732,481.281250 1163.625244,482.137146 C1171.722046,482.797241 1179.477173,481.553802 1186.986572,478.140991 C1190.366577,476.604889 1194.360962,475.323792 1197.962524,475.572998 C1209.802612,476.392456 1216.308594,490.454346 1208.927490,499.752319 C1205.559448,503.994965 1200.648315,507.757538 1195.646484,509.828613 C1174.556763,518.560974 1153.221802,518.122009 1132.727783,508.061493 C1115.403931,499.557190 1106.508057,484.852997 1105.894775,465.561035 C1105.460938,451.910522 1105.674927,438.239471 1105.599854,424.091034 z"}),j.createElement("path",{fill:"#017AFF",opacity:1,stroke:"none",d:" M1320.434326,500.172791 C1317.639038,509.503052 1313.229980,512.955139 1304.061890,512.987305 C1286.908081,513.047424 1269.753784,513.003906 1252.599731,512.992737 C1251.268433,512.991882 1249.933105,512.956604 1248.606323,512.853210 C1231.926514,511.553131 1225.143188,504.528259 1225.061279,487.516205 C1224.887939,451.543427 1224.944946,415.569183 1225.023804,379.595795 C1225.048584,368.329468 1233.036743,360.816620 1244.539917,360.809937 C1256.112671,360.803192 1264.062378,368.157135 1264.114258,379.536163 C1264.256104,410.679382 1264.172607,441.823578 1264.180786,472.967407 C1264.182617,480.081787 1264.187012,480.085663 1271.141602,480.088776 C1281.967041,480.093628 1292.792480,480.061768 1303.617798,480.102203 C1315.913452,480.148132 1322.019409,487.278107 1320.434326,500.172791 z"}),j.createElement("path",{fill:"#017AFF",opacity:1,stroke:"none",d:" M1378.000000,513.014893 C1368.192139,512.765503 1358.816406,513.130859 1349.593384,512.112854 C1337.746338,510.805237 1332.660767,505.204010 1330.947388,493.507568 C1330.538574,490.717987 1330.280029,487.878601 1330.276367,485.061737 C1330.230103,450.432434 1330.286133,415.802979 1330.212158,381.173767 C1330.194580,372.958893 1332.967651,366.428131 1340.685059,362.882050 C1348.394409,359.339600 1355.924683,359.980255 1362.863892,365.047699 C1368.391602,369.084473 1369.760742,374.936981 1369.757690,381.368835 C1369.743286,412.002502 1369.751465,442.636139 1369.756226,473.269806 C1369.757324,480.076080 1369.766113,480.079834 1376.503418,480.083557 C1387.658081,480.089752 1398.813110,480.033844 1409.967285,480.110382 C1420.152832,480.180267 1426.172729,486.207733 1426.218872,496.197205 C1426.266479,506.515289 1420.200684,512.875610 1409.966064,512.983093 C1399.478394,513.093262 1388.988770,513.012207 1378.000000,513.014893 z"})),kq=e=>j.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},j.createElement("path",{d:"M4 11.5L3.515 11.621C3.08232 11.7292 2.69821 11.9788 2.4237 12.3303C2.1492 12.6818 2.00007 13.115 2 13.561V15.438C2.00007 15.884 2.1492 16.3172 2.4237 16.6687C2.69821 17.0202 3.08232 17.2698 3.515 17.378L5.255 17.813C5.34342 17.835 5.43569 17.8366 5.52481 17.8177C5.61393 17.7987 5.69757 17.7597 5.76937 17.7036C5.84118 17.6475 5.89926 17.5758 5.93922 17.4939C5.97918 17.412 5.99997 17.3221 6 17.231V11.768C6.00001 11.6768 5.97921 11.5868 5.93919 11.5048C5.89918 11.4228 5.84099 11.351 5.76907 11.2949C5.69714 11.2388 5.61337 11.1998 5.52412 11.1809C5.43486 11.1621 5.34248 11.1638 5.254 11.186L4 11.5ZM4 11.5V11C4 8.87827 4.84285 6.84344 6.34315 5.34315C7.84344 3.84285 9.87827 3 12 3C14.1217 3 16.1566 3.84285 17.6569 5.34315C19.1571 6.84344 20 8.87827 20 11V11.5M20 11.5L20.485 11.621C20.9177 11.7292 21.3018 11.9788 21.5763 12.3303C21.8508 12.6818 21.9999 13.115 22 13.561V15.438C21.9999 15.884 21.8508 16.3172 21.5763 16.6687C21.3018 17.0202 20.9177 17.2698 20.485 17.378L20 17.5M20 11.5L18.745 11.186C18.6566 11.164 18.5643 11.1624 18.4752 11.1813C18.3861 11.2003 18.3024 11.2393 18.2306 11.2954C18.1588 11.3515 18.1007 11.4232 18.0608 11.5051C18.0208 11.587 18 11.6769 18 11.768V17.231C18 17.3221 18.0208 17.412 18.0608 17.4939C18.1007 17.5758 18.1588 17.6475 18.2306 17.7036C18.3024 17.7597 18.3861 17.7987 18.4752 17.8177C18.5643 17.8366 18.6566 17.835 18.745 17.813L20 17.5M20 17.5V18.5C20 19.0304 19.7893 19.5391 19.4142 19.9142C19.0391 20.2893 18.5304 20.5 18 20.5H15M15 20.5C15 20.1022 14.842 19.7206 14.5607 19.4393C14.2794 19.158 13.8978 19 13.5 19H10.5C10.1022 19 9.72064 19.158 9.43934 19.4393C9.15804 19.7206 9 20.1022 9 20.5C9 20.8978 9.15804 21.2794 9.43934 21.5607C9.72064 21.842 10.1022 22 10.5 22H13.5C13.8978 22 14.2794 21.842 14.5607 21.5607C14.842 21.2794 15 20.8978 15 20.5Z",stroke:"#6B7280",strokeWidth:1.5})),Tq=e=>j.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},j.createElement("path",{d:"M12 3C9.61306 3 7.32388 3.94821 5.63605 5.63604C3.94822 7.32387 3.00001 9.61305 3.00001 12C3.00001 14.397 3.93501 16.573 5.46301 18.186L5.96701 18.718L4.70001 21H12C13.1819 21 14.3522 20.7672 15.4442 20.3149C16.5361 19.8626 17.5282 19.1997 18.364 18.364C19.1997 17.5282 19.8626 16.5361 20.3149 15.4442C20.7672 14.3522 21 13.1819 21 12C21 10.8181 20.7672 9.64778 20.3149 8.55585C19.8626 7.46392 19.1997 6.47177 18.364 5.63604C17.5282 4.80031 16.5361 4.13738 15.4442 3.68508C14.3522 3.23279 13.1819 3 12 3ZM1.00001 12C1.00001 5.925 5.92501 1 12 1C18.075 1 23 5.925 23 12C23 18.075 18.075 23 12 23H1.30001L3.52001 19.006C1.88821 17.0363 0.996743 14.5578 1.00001 12ZM12 7.5C11.5864 7.4999 11.1829 7.62803 10.8452 7.86676C10.5074 8.10549 10.2519 8.44307 10.114 8.833L9.78001 9.776L7.89501 9.11L8.22801 8.167C8.43446 7.58155 8.77432 7.05216 9.22069 6.62073C9.66706 6.1893 10.2077 5.86765 10.7998 5.68124C11.392 5.49483 12.0194 5.44876 12.6324 5.54668C13.2454 5.64461 13.8272 5.88383 14.3318 6.24544C14.8364 6.60704 15.25 7.08111 15.5397 7.63013C15.8295 8.17915 15.9875 8.78806 16.0013 9.4087C16.0151 10.0293 15.8843 10.6447 15.6192 11.206C15.3541 11.7674 14.962 12.2593 14.474 12.643C14.043 12.983 13.657 13.309 13.378 13.652C13.104 13.99 13 14.262 13 14.5V15.75H11V14.5C11 13.633 11.39 12.927 11.826 12.39C12.258 11.86 12.8 11.416 13.236 11.072C13.5628 10.8149 13.8014 10.4624 13.9185 10.0634C14.0357 9.66449 14.0256 9.23894 13.8896 8.846C13.7536 8.45305 13.4986 8.11226 13.1599 7.87102C12.8212 7.62978 12.4158 7.50009 12 7.5ZM11 16.75H13.004V18.754H11V16.75Z",fill:"#6B7280"})),tj=[{title:"",path:"/timetable",end:!1},{title:"",path:"/wishes",end:!0},{title:"",path:"/simulation",end:!1},{title:"",path:"/live",end:!1}],jq=[{icon:h.jsx(kq,{className:"w-4 h-4"}),title:"  ",path:"https://forms.gle/bCDTVujEHunnvHe88"},{icon:h.jsx(Tq,{className:"w-4 h-4"}),title:" ",path:"https://open.kakao.com/o/g3MztXfh"}];function y_(){return h.jsx("header",{className:"bg-white shadow-sm z-50 sticky top-0",children:h.jsxs("div",{className:"container flex items-center justify-between mx-auto max-w-7xl px-4 md:px-16",children:[h.jsxs("div",{className:"flex items-center space-x-4 py-4",children:[h.jsxs(ui,{to:"/",className:"flex items-center gap-1 space-x-2","aria-label":" ",children:[h.jsx("h1",{className:"hidden",children:"ALLCLL"}),h.jsx(ej,{className:"w-6 h-6 m-0"}),h.jsx(Eq,{className:"h-5 hidden sm:inline-block"})]}),h.jsx("ul",{className:"flex space-x-4 text-sm sm:text-base",children:tj.map(({title:e,path:t,end:n})=>h.jsx("li",{className:"font-bold",children:h.jsx(sc,{to:t,end:n,className:({isActive:r})=>r?"text-blue-500 font-semibold":"text-gray-500",children:e})},t))})]}),h.jsx("div",{className:"items-center space-x-2 hidden sm:flex",children:jq.map(({icon:e,title:t,path:n})=>h.jsx("a",{className:"p-2 rounded-md hover:bg-gray-100",target:"_blank",href:n,"aria-label":t,title:t,children:e},n))})]})})}const KE=e=>{let t;const n=new Set,r=(c,f)=>{const p=typeof c=="function"?c(t):c;if(!Object.is(p,t)){const g=t;t=f??(typeof p!="object"||p===null)?p:Object.assign({},t,p),n.forEach(y=>y(t,g))}},i=()=>t,a={setState:r,getState:i,getInitialState:()=>l,subscribe:c=>(n.add(c),()=>n.delete(c))},l=t=e(r,i,a);return a},Iq=e=>e?KE(e):KE,Nq=e=>e;function Rq(e,t=Nq){const n=xn.useSyncExternalStore(e.subscribe,()=>t(e.getState()),()=>t(e.getInitialState()));return xn.useDebugValue(n),n}const GE=e=>{const t=Iq(e),n=r=>Rq(t,r);return Object.assign(n,t),n},di=e=>e?GE(e):GE,W0=di(e=>({banner:null,onClose:void 0,setBanner:(t,n)=>e({banner:t,onClose:n}),closeBanner:()=>e({banner:null})}));function qu({variant:e,children:t}){const n=Pq(e);return h.jsx("div",{className:`${n} px-2 py-1 text-xs rounded-full inline-flex`,children:t})}function Pq(e){switch(e){case"success":return"bg-green-100 text-green-700 ";case"warning":return"bg-yellow-100 text-yellow-700 ";case"danger":return"bg-secondary-100 text-secondary-700 ";case"default":return"bg-gray-100 text-gray-700 ";default:return""}}const Oq=e=>j.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},j.createElement("path",{d:"M10 7V11M10 14V14.01M1 10C1 11.1819 1.23279 12.3522 1.68508 13.4442C2.13738 14.5361 2.80031 15.5282 3.63604 16.364C4.47177 17.1997 5.46392 17.8626 6.55585 18.3149C7.64778 18.7672 8.8181 19 10 19C11.1819 19 12.3522 18.7672 13.4442 18.3149C14.5361 17.8626 15.5282 17.1997 16.364 16.364C17.1997 15.5282 17.8626 14.5361 18.3149 13.4442C18.7672 12.3522 19 11.1819 19 10C19 8.8181 18.7672 7.64778 18.3149 6.55585C17.8626 5.46392 17.1997 4.47177 16.364 3.63604C15.5282 2.80031 14.5361 2.13738 13.4442 1.68508C12.3522 1.23279 11.1819 1 10 1C8.8181 1 7.64778 1.23279 6.55585 1.68508C5.46392 2.13738 4.47177 2.80031 3.63604 3.63604C2.80031 4.47177 2.13738 5.46392 1.68508 6.55585C1.23279 7.64778 1 8.8181 1 10Z",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})),V0=e=>j.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},j.createElement("path",{d:"M18 6L6 18M6 6L18 18",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}));function Rr({icon:e,variant:t="plain",label:n,className:r="",...i}){const a=`flex flex-row items-center justify-center gap-1 cursor-pointer rounded-md  ${Mq(t)} ${r}`;return h.jsx("button",{type:"button","aria-label":n,className:a,...i,children:e&&h.jsx("span",{children:e})})}function Mq(e){switch(e){case"contain":return"px-2 py-2 border border-gray-400 hover:bg-gray-100";case"plain":return"bg-transparent text-gray-700";default:return""}}function Aq({children:e}){return h.jsx("div",{className:"mr-3 flex-shrink-0 flex items-center justify-center",children:e})}function Dq({children:e}){return h.jsx("div",{className:"flex-1",children:e})}function Lq({children:e}){return h.jsx("div",{className:"ml-3 flex-shrink-0 flex items-center justify-center",children:e})}function Fq({tag:e="div",withPadding:t,left:n,center:r,right:i,className:s,...o}){const a=e,l=r?"justify-start":"justify-between";return h.jsxs(a,{className:`flex items-center w-full ${l} ${t?"px-4 py-3":""} ${s??""}`,...o,children:[n,r,i]})}function nj({left:e,center:t,right:n,className:r,withPadding:i}){return h.jsx(Fq,{className:r,withPadding:i,left:h.jsx(Aq,{children:e}),center:t?h.jsx(Dq,{children:t}):null,right:h.jsx(Lq,{children:n})})}function Bq({variant:e="info",children:t,deleteBanner:n}){const r=zq(e);return h.jsx(nj,{withPadding:!0,className:`${r} items-center`,left:h.jsx(Oq,{className:"text-gray-500 w-4 h-4"}),center:h.jsx("span",{className:"text-xs",children:t}),right:h.jsx(Rr,{label:" ",variant:"plain",icon:h.jsx(V0,{className:"text-gray-500 w-5 h-5"}),onClick:n,className:"rounded-full"})})}function zq(e){switch(e){case"warning":return"bg-secondary-100";case"info":return"bg-blue-100";default:return"bg-gray-100"}}function YE(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function $q(...e){return t=>{let n=!1;const r=e.map(i=>{const s=YE(i,t);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():YE(e[i],null)}}}}var Uq=Symbol.for("react.lazy"),q0=W8[" use ".trim().toString()];function Hq(e){return typeof e=="object"&&e!==null&&"then"in e}function rj(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===Uq&&"_payload"in e&&Hq(e._payload)}function Wq(e){const t=qq(e),n=j.forwardRef((r,i)=>{let{children:s,...o}=r;rj(s)&&typeof q0=="function"&&(s=q0(s._payload));const a=j.Children.toArray(s),l=a.find(Kq);if(l){const c=l.props.children,f=a.map(p=>p===l?j.Children.count(c)>1?j.Children.only(null):j.isValidElement(c)?c.props.children:null:p);return h.jsx(t,{...o,ref:i,children:j.isValidElement(c)?j.cloneElement(c,void 0,f):null})}return h.jsx(t,{...o,ref:i,children:s})});return n.displayName=`${e}.Slot`,n}var Vq=Wq("Slot");function qq(e){const t=j.forwardRef((n,r)=>{let{children:i,...s}=n;if(rj(i)&&typeof q0=="function"&&(i=q0(i._payload)),j.isValidElement(i)){const o=Yq(i),a=Gq(s,i.props);return i.type!==j.Fragment&&(a.ref=r?$q(r,o):o),j.cloneElement(i,a)}return j.Children.count(i)>1?j.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Qq=Symbol("radix.slottable");function Kq(e){return j.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Qq}function Gq(e,t){const n={...t};for(const r in t){const i=e[r],s=t[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{const l=s(...a);return i(...a),l}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...e,...n}}function Yq(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}const Q0={pressable:"transition-colors duration-300 ease-out active:scale-[0.97]",hoverable:"transition-colors duration-200 ease-out"};function Dt({variant:e,size:t,children:n,disabled:r,textColor:i,asChild:s,...o}){const a=s?Vq:"button",l=e==="circle"?"":`flex flex-row gap-1 items-center justify-center cursor-pointer disabled:cursor-not-allowed ${Q0.hoverable} ${Q0.pressable}`,c=i?XE(e,i):XE(e,"primary"),f=e==="circle"?"":Jq(t),p=`${l} ${c} ${f}`.trim();return h.jsx(a,{className:p,disabled:r,...o,children:n})}function Xq(e){switch(e){case"primary":return"bg-transparent text-primary-500 hover:text-primary-600";case"secondary":return"bg-transparent text-secondary-500 hover:text-secondary-600";case"gray":return"bg-transparent text-gray-700 hover:text-gray-800";default:return""}}function XE(e,t){switch(e){case"primary":return"bg-primary-500 text-white hover:bg-primary-600 rounded-md px-4 py-2 disabled:bg-gray-100 disabled:text-gray-300";case"secondary":return"bg-gray-100  hover:bg-gray-300 rounded-md px-4 py-2 disabled:text-white";case"outlined":return"bg-transparent border border-gray-700 hover:bg-gray-100 rounded-md px-4 py-2 disabled:border-gray-200  disabled:text-gray-400";case"danger":return"bg-secondary-500 text-white hover:bg-secondary-600 rounded-md px-4 py-2 disabled:bg-gray-100";case"ghost":return"bg-gray-50 border border-gray-200 text-gray-700 hover:bg-gray-200 rounded-full px-4 py-2";case"circle":return"px-2 py-2 bg-primary-500 text-white hover:bg-primary-600 rounded-full shadow-md ";case"text":return`${Xq(t)} px-0 py-2  disabled:text-gray-400`;default:return""}}function Jq(e){switch(e){case"small":return"text-sm px-2";case"medium":return"text-sm";case"large":return"text-md";default:return""}}function Zq({children:e}){return h.jsx("div",{className:"flex flex-col space-y-3 text-gray-600 text-sm",children:e})}function eQ({children:e}){return h.jsx("div",{className:"flex flex-col items-start justify-between mb-3",children:e})}function tQ({children:e,size:t,variant:n,className:r}){const i=nQ(t||"medium"),s=rQ(n);return h.jsx("div",{className:`card rounded-lg ${i} ${s} ${r||""}`,children:e})}const Yn=Object.assign(tQ,{Header:eQ,Content:Zq});function nQ(e){switch(e){case"small":return"px-4 py-4 text-sm";case"medium":return"p-4 text-base";case"large":return"px-10 py-4 text-lg";default:return""}}function rQ(e="elevated"){switch(e){case"elevated":return"bg-white shadow-md";case"outlined":return"bg-white border border-gray-200";case"filled":return"bg-gray-50 shadow-sm rounded-lg p-4 border border-gray-200 hover:shadow-md";default:return""}}const iQ=e=>j.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},j.createElement("path",{d:"M5 12L10 17L20 7",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}));function Fy({label:e,...t}){const n=j.useId(),r=e?`checkbox-${e}`:`checkbox-${n}`,i=`w-5 h-5 rounded-sm border flex-shrink-0 appearance-none flex items-center justify-center
    ${sQ(!!t.checked)}`,s=o=>{o.key==="Enter"&&(o.preventDefault(),o.currentTarget.click()),t.onKeyDown?.(o)};return h.jsxs("label",{htmlFor:r,className:"flex flex-row items-center gap-3 text-sm md:text-base cursor-pointer select-none",children:[h.jsxs("div",{className:"relative w-5 h-5",children:[h.jsx("input",{id:r,type:"checkbox","aria-checked":t.checked,"aria-label":e?void 0:"toggle checkbox",className:i,onKeyDown:s,...t}),t.checked&&h.jsx(iQ,{className:"text-blue-500 w-4 h-4 absolute inset-0 m-auto pointer-events-none"})]}),e&&h.jsx("span",{className:`${t.checked?"text-blue-500":"text-gray-600"}`,children:e})]})}Fy.layout="flex";function sQ(e){return e?`
      bg-blue-50
      border-blue-500
    `:`
      bg-white
      border-gray-400
      hover:bg-gray-50
    `}const JE=e=>j.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},j.createElement("path",{d:"M6 9L12 15L18 9",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})),oQ=({className:e,selected:t=!1})=>{const n=t?e+" text-blue-500":e+" text-gray-400";return t?h.jsx(JE,{className:n}):h.jsx(JE,{className:n})},aQ=({className:e,selected:t=!1})=>{const n=t?e+" text-blue-500":e+" text-gray-400";return t?h.jsx(V0,{className:n}):h.jsx(V0,{className:n})};function Xn({label:e="Chip",selected:t,variant:n="none",containerRef:r,onClick:i,isChipOpen:s,...o}){return h.jsxs("button",{type:"button",ref:r,className:`flex flex-row justify-center items-center cursor-pointer gap-4 transition-colors duration-300 ease-out active:scale-[0.97] ${uQ(n)} ${lQ(t,n)}`,"aria-pressed":t,onClick:i,...o,children:[h.jsx("span",{className:"text-xs sm:text-sm",children:e}),n==="select"&&h.jsx(oQ,{"aria-hidden":"true",selected:t,className:`w-5 h-5 pointer-events-none transition-transform text-blue-500 duration-200 ${s?"rotate-180":"rotate-0"}`}),n==="cancel"&&h.jsx(aQ,{"aria-hidden":"true",selected:t,className:"pointer-events-none w-4 h-4"})]})}Xn.layout="grid";function lQ(e,t){return e?`
      bg-primary-100
      text-primary-500
      hover:bg-primary-200
      focus:outline-primary-500
    `:t==="none"?`
      bg-transparent
      text-gray-700
      border border-gray-200
      hover:bg-gray-100
      focus:outline-gray-400
    `:`
    bg-gray-100
    text-gray-700
    hover:bg-gray-200
    focus:outline-gray-400
  `}function uQ(e){return e==="cancel"?"rounded-full text-xs py-1.5 px-4":"rounded-lg text-sm py-2 px-4"}function cQ({children:e}){return h.jsx("h2",{id:"dialog-title",className:"font-semibold",children:e})}function ij({children:e,onClose:t}){return h.jsxs("div",{className:"w-full px-4 sm:px-6 py-4 sm:py-4 border-b border-gray-100 flex flex-row justify-between",children:[e,h.jsx("button",{type:"button","aria-label":"",className:"w-6 h-6 cursor-pointer flex items-center justify-center bg-gray-100 rounded-full",onClick:t,children:h.jsx(V0,{className:"text-gray-600 w-3 h-3"})})]})}function sj({children:e,onClose:t}){const n=j.useRef(null),r=i=>{i.stopPropagation(),t()};return h.jsx("div",{className:"fixed inset-0 flex items-center bg-transparent justify-center z-50",role:"none",ref:n,onClick:r,children:e})}function oj({children:e,width:t,height:n}){const r=dQ(t,n);return h.jsx("div",{className:`flex flex-col justify-center item bg-white min-w-80 max-w-[90%] rounded-lg sm:${r}`,onClick:i=>i.stopPropagation(),children:e})}function dQ(e,t){const n=e?`w-${e}`:"max-w-[90%]",r=t?`h-${t}`:"auto";return`${n} ${r}`}function fQ({children:e}){return h.jsx("div",{className:"flex flex-col px-6 sm:py-4 py-4 gap-2 max-h-150 overflow-y-auto",children:e})}function hQ({children:e}){return h.jsx("div",{className:"py-3 px-8 border-t border-gray-100 flex justify-end gap-2",children:e})}function pQ({children:e,isOpen:t=!0,title:n,onClose:r}){const i=j.useRef(null),s=j.useId();return j.useEffect(()=>{const o=i.current;o&&(t?o.showModal():o.close())},[t]),j.useEffect(()=>{const o=a=>{a.key==="Escape"&&r()};return window.addEventListener("keydown",o),()=>window.removeEventListener("keydown",o)},[r]),wy.createPortal(h.jsx("dialog",{ref:i,role:"dialog","aria-labelledby":s,onCancel:o=>{o.preventDefault(),r()},children:h.jsx(sj,{onClose:r,children:h.jsxs(oj,{children:[h.jsx(ij,{onClose:r,children:h.jsx(Jn.Title,{id:s,children:n})}),e]})})}),document.body)}const Jn=Object.assign(pQ,{Title:cQ,Header:ij,Overlay:sj,Content:fQ,Contents:oj,Footer:hQ});function bw({className:e="",leftIcon:t,rightIcon:n,...r}){const i=j.useRef(null),s=t?"pl-10":"pl-3",o=n?"pr-10":"pr-3";return h.jsxs("div",{className:"relative flex items-center w-full",children:[t&&h.jsx("div",{children:t}),h.jsx("input",{ref:i,type:"text",className:`py-2 border rounded-md border-gray-400 py-2 px-3 focus:outline-none focus:ring-0 focus:border-primary-500 ${s} ${o} ${e}`,...r}),n&&h.jsx("div",{children:n})]})}const Hr=({id:e,required:t,children:n,className:r="",...i})=>{const s=`text-sm sm:text-base text-text-200 after:ml-0.5 ${t?'after:content-["*"] after:text-red-500':""}`;return h.jsx("label",{htmlFor:e,className:`${s} ${r}`,...i,children:n})};function mQ({label:e,selected:t}){const{isOpen:n,triggerRef:r,open:i,close:s}=lj(),o=()=>{n?s():i()};return h.jsx(Xn,{type:"button",label:e,isChipOpen:n,variant:"select",selected:t??!1,onClick:o,containerRef:r})}const gQ=({elem:e,tabRefs:t,isOpen:n,open:r,close:i})=>{j.useEffect(()=>{const s=o=>{(Array.isArray(t)?t:[t]).some(c=>c.current&&c.current.contains(o.target))?r():e.current&&!e.current.contains(o.target)&&i()};return n?window.addEventListener("click",s):window.removeEventListener("click",s),()=>{window.removeEventListener("click",s)}},[n,e,t])};function yQ({children:e}){const{isOpen:t,close:n,open:r,triggerRef:i}=lj(),s=j.useRef(null);if(gQ({elem:s,tabRefs:i,isOpen:t,open:r,close:n}),!t||!i.current)return null;const o=i.current.getBoundingClientRect();return wy.createPortal(h.jsx("div",{ref:s,className:`
        fixed rounded-md bg-white shadow-lg border border-gray-200 px-4 py-4
        transition-all duration-150 ease-out
        ${t?"opacity-100 translate-y-0 scale-100 pointer-events-auto":"opacity-0 -translate-y-1 scale-95 pointer-events-none"}
      `,style:{zIndex:120,top:o.bottom+8,left:o.left},onMouseDown:a=>a.stopPropagation(),onClick:a=>a.stopPropagation(),children:e}),document.body)}const aj=j.createContext(null);function vQ({children:e}){const[t,n]=j.useState(null);return h.jsx(aj.Provider,{value:{openId:t,setOpenId:n},children:e})}function xQ(){const e=j.useContext(aj);if(!e)throw new Error("PopoverGroup  PopoverGroupContext.Provider   .");return e}const lj=()=>{const e=j.useContext(uj);if(!e)throw new Error("Popover Component PopoverContext.Provider   .");return e},uj=j.createContext(null),bQ=({children:e})=>{const t=j.useId(),{openId:n,setOpenId:r}=xQ(),i=j.useRef(null),s=n===t,o=()=>r(t),a=()=>r(null),l=()=>r(s?null:t);return h.jsx(uj.Provider,{value:{id:t,isOpen:n===t,open:o,close:a,toggle:l,triggerRef:i},children:e})},Ad=Object.assign(bQ,{Trigger:mQ,Content:yQ});function Pe({as:e,direction:t="flex-row",justify:n="justify-start",align:r="items-stretch",gap:i="gap-2",className:s,children:o,...a}){const l=e||"div",c=`flex ${t} ${n} ${r} ${i}`+(s?` ${s}`:"");return h.jsx(l,{className:c,...a,children:o})}function cj({label:e,isError:t,errorMessage:n,required:r,id:i,size:s="medium",className:o="",...a}){return h.jsxs(Pe,{direction:"flex-col",gap:"gap-2",className:o,children:[e&&h.jsx(Hr,{required:r,id:i,children:e}),h.jsx("input",{id:i,type:"text","aria-invalid":t,required:r,...a,className:`rounded-md w-full bg-white border border-gray-300 py-2 px-3 focus:outline-none focus:ring-0 focus:border-primary-500 ${wQ(s)}`}),t&&h.jsx("span",{className:"text-secondary-500 text-xs",children:n})]})}function wQ(e){switch(e){case"small":return"text-sm py-1";case"medium":return"text-base py-1";case"large":return"text-lg py-1";default:return""}}const _Q=e=>j.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},j.createElement("path",{d:"M12 16V16.01M12 13C12.4498 13.0014 12.8868 12.8511 13.2407 12.5734C13.5945 12.2958 13.8444 11.907 13.95 11.4698C14.0557 11.0327 14.0109 10.5726 13.8229 10.1641C13.6349 9.75549 13.3147 9.42219 12.914 9.21801C12.5162 9.01422 12.0611 8.95103 11.6228 9.03873C11.1845 9.12642 10.7888 9.35984 10.5 9.70101M3 12C3 13.1819 3.23279 14.3522 3.68508 15.4442C4.13738 16.5361 4.80031 17.5282 5.63604 18.364C6.47177 19.1997 7.46392 19.8626 8.55585 20.3149C9.64778 20.7672 10.8181 21 12 21C13.1819 21 14.3522 20.7672 15.4442 20.3149C16.5361 19.8626 17.5282 19.1997 18.364 18.364C19.1997 17.5282 19.8626 16.5361 20.3149 15.4442C20.7672 14.3522 21 13.1819 21 12C21 9.61305 20.0518 7.32387 18.364 5.63604C16.6761 3.94821 14.3869 3 12 3C9.61305 3 7.32387 3.94821 5.63604 5.63604C3.94821 7.32387 3 9.61305 3 12Z",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}));function SQ({children:e}){return h.jsx("div",{className:"relative inline-block",children:h.jsxs("div",{className:"group inline-block",children:[h.jsx(Rr,{label:"Tooltip",variant:"plain",icon:h.jsx(_Q,{className:"w-6 h-6 text-gray-400 background-gray-200"})}),h.jsx("span",{className:"absolute bottom-full mb-2 left-1/2 transform -translate-x-1/2 opacity-0 group-hover:opacity-100 transition-opacity duration-300 bg-gray-900 text-white p-3 rounded w-64 text-center pointer-events-none",children:e})]})})}function Gt({level:e=1,size:t,as:n,className:r,children:i,...s}){const o=n??`h${e}`,a=t??CQ(e);return h.jsx(o,{className:`${r??""} ${EQ(a)} text-text-200`,...s,children:i})}function CQ(e){return{1:"xxl",2:"xl",3:"lg",4:"md",5:"sm"}[e]}function EQ(e){return{xxl:"text-lg font-semibold md:text-xl",xl:"text-base md:text-lg font-semibold",lg:"text-base font-semibold",md:"text-sm font-semibold",sm:"text-xs font-semibold",xs:"text-[11px] font-semibold"}[e]}function Gn({className:e,children:t,...n}){return h.jsx("p",{className:`text-gray-500 text-sm leading-relaxed ${e??""}`,...n,children:t})}function $l({columns:e,gap:t="gap-0",className:n,children:r,...i}){const s=["grid",t],o=e.base??2;s.push(`grid-cols-${o}`),e.base&&s.push(`grid-cols-${e.base}`),e.sm&&s.push(`sm:grid-cols-${e.sm}`),e.md&&s.push(`md:grid-cols-${e.md}`),e.lg&&s.push(`lg:grid-cols-${e.lg}`),e.xl&&s.push(`xl:grid-cols-${e.xl}`);const a=s.join(" ")+(n?` ${n}`:"");return h.jsx("div",{className:a,...i,children:r})}function kQ({selected:e=!1,onSelect:t,left:n,right:r}){const i=o=>{(o.key==="Enter"||o.key===" ")&&(o.preventDefault(),t?.())},s=`flex px-2 py-2 rounded-sm cursor-pointer text-sm ${Q0.pressable} ${Q0.hoverable}`;return h.jsx("div",{role:"option","aria-selected":e,tabIndex:0,onClick:t,onKeyDown:i,className:`${s} ${TQ(e)}`,children:h.jsx(nj,{left:h.jsx("div",{className:"flex items-center",children:n}),right:e?r:null})})}function TQ(e){return e?"bg-blue-50 text-blue-500 font-medium hover:bg-blue-100":"hover:bg-gray-50 text-gray-700"}function dj(){const e=W0(n=>n.banner),t=W0(n=>n.closeBanner);return e&&h.jsx(Bq,{deleteBanner:t,children:e})}function K0(){return K0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},K0.apply(null,arguments)}function v_(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function ww(e,t){return ww=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},ww(e,t)}function x_(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,ww(e,t)}function jQ(e,t){return e.classList?!!t&&e.classList.contains(t):(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")!==-1}function IQ(e,t){e.classList?e.classList.add(t):jQ(e,t)||(typeof e.className=="string"?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}function ZE(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function NQ(e,t){e.classList?e.classList.remove(t):typeof e.className=="string"?e.className=ZE(e.className,t):e.setAttribute("class",ZE(e.className&&e.className.baseVal||"",t))}const e4={disabled:!1},G0=xn.createContext(null);var fj=function(t){return t.scrollTop},Sh="unmounted",ju="exited",Iu="entering",bd="entered",_w="exiting",Ca=function(e){x_(t,e);function t(r,i){var s;s=e.call(this,r,i)||this;var o=i,a=o&&!o.isMounting?r.enter:r.appear,l;return s.appearStatus=null,r.in?a?(l=ju,s.appearStatus=Iu):l=bd:r.unmountOnExit||r.mountOnEnter?l=Sh:l=ju,s.state={status:l},s.nextCallback=null,s}t.getDerivedStateFromProps=function(i,s){var o=i.in;return o&&s.status===Sh?{status:ju}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var s=null;if(i!==this.props){var o=this.state.status;this.props.in?o!==Iu&&o!==bd&&(s=Iu):(o===Iu||o===bd)&&(s=_w)}this.updateStatus(!1,s)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,s,o,a;return s=o=a=i,i!=null&&typeof i!="number"&&(s=i.exit,o=i.enter,a=i.appear!==void 0?i.appear:o),{exit:s,enter:o,appear:a}},n.updateStatus=function(i,s){if(i===void 0&&(i=!1),s!==null)if(this.cancelNextCallback(),s===Iu){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:ig.findDOMNode(this);o&&fj(o)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===ju&&this.setState({status:Sh})},n.performEnter=function(i){var s=this,o=this.props.enter,a=this.context?this.context.isMounting:i,l=this.props.nodeRef?[a]:[ig.findDOMNode(this),a],c=l[0],f=l[1],p=this.getTimeouts(),g=a?p.appear:p.enter;if(!i&&!o||e4.disabled){this.safeSetState({status:bd},function(){s.props.onEntered(c)});return}this.props.onEnter(c,f),this.safeSetState({status:Iu},function(){s.props.onEntering(c,f),s.onTransitionEnd(g,function(){s.safeSetState({status:bd},function(){s.props.onEntered(c,f)})})})},n.performExit=function(){var i=this,s=this.props.exit,o=this.getTimeouts(),a=this.props.nodeRef?void 0:ig.findDOMNode(this);if(!s||e4.disabled){this.safeSetState({status:ju},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:_w},function(){i.props.onExiting(a),i.onTransitionEnd(o.exit,function(){i.safeSetState({status:ju},function(){i.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,s){s=this.setNextCallback(s),this.setState(i,s)},n.setNextCallback=function(i){var s=this,o=!0;return this.nextCallback=function(a){o&&(o=!1,s.nextCallback=null,i(a))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},n.onTransitionEnd=function(i,s){this.setNextCallback(s);var o=this.props.nodeRef?this.props.nodeRef.current:ig.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!o||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],c=l[0],f=l[1];this.props.addEndListener(c,f)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===Sh)return null;var s=this.props,o=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var a=v_(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return xn.createElement(G0.Provider,{value:null},typeof o=="function"?o(i,a):xn.cloneElement(xn.Children.only(o),a))},t}(xn.Component);Ca.contextType=G0;Ca.propTypes={};function Jc(){}Ca.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Jc,onEntering:Jc,onEntered:Jc,onExit:Jc,onExiting:Jc,onExited:Jc};Ca.UNMOUNTED=Sh;Ca.EXITED=ju;Ca.ENTERING=Iu;Ca.ENTERED=bd;Ca.EXITING=_w;var RQ=function(t,n){return t&&n&&n.split(" ").forEach(function(r){return IQ(t,r)})},Tx=function(t,n){return t&&n&&n.split(" ").forEach(function(r){return NQ(t,r)})},Mp=function(e){x_(t,e);function t(){for(var r,i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s))||this,r.appliedClasses={appear:{},enter:{},exit:{}},r.onEnter=function(a,l){var c=r.resolveArguments(a,l),f=c[0],p=c[1];r.removeClasses(f,"exit"),r.addClass(f,p?"appear":"enter","base"),r.props.onEnter&&r.props.onEnter(a,l)},r.onEntering=function(a,l){var c=r.resolveArguments(a,l),f=c[0],p=c[1],g=p?"appear":"enter";r.addClass(f,g,"active"),r.props.onEntering&&r.props.onEntering(a,l)},r.onEntered=function(a,l){var c=r.resolveArguments(a,l),f=c[0],p=c[1],g=p?"appear":"enter";r.removeClasses(f,g),r.addClass(f,g,"done"),r.props.onEntered&&r.props.onEntered(a,l)},r.onExit=function(a){var l=r.resolveArguments(a),c=l[0];r.removeClasses(c,"appear"),r.removeClasses(c,"enter"),r.addClass(c,"exit","base"),r.props.onExit&&r.props.onExit(a)},r.onExiting=function(a){var l=r.resolveArguments(a),c=l[0];r.addClass(c,"exit","active"),r.props.onExiting&&r.props.onExiting(a)},r.onExited=function(a){var l=r.resolveArguments(a),c=l[0];r.removeClasses(c,"exit"),r.addClass(c,"exit","done"),r.props.onExited&&r.props.onExited(a)},r.resolveArguments=function(a,l){return r.props.nodeRef?[r.props.nodeRef.current,a]:[a,l]},r.getClassNames=function(a){var l=r.props.classNames,c=typeof l=="string",f=c&&l?l+"-":"",p=c?""+f+a:l[a],g=c?p+"-active":l[a+"Active"],y=c?p+"-done":l[a+"Done"];return{baseClassName:p,activeClassName:g,doneClassName:y}},r}var n=t.prototype;return n.addClass=function(i,s,o){var a=this.getClassNames(s)[o+"ClassName"],l=this.getClassNames("enter"),c=l.doneClassName;s==="appear"&&o==="done"&&c&&(a+=" "+c),o==="active"&&i&&fj(i),a&&(this.appliedClasses[s][o]=a,RQ(i,a))},n.removeClasses=function(i,s){var o=this.appliedClasses[s],a=o.base,l=o.active,c=o.done;this.appliedClasses[s]={},a&&Tx(i,a),l&&Tx(i,l),c&&Tx(i,c)},n.render=function(){var i=this.props;i.classNames;var s=v_(i,["classNames"]);return xn.createElement(Ca,K0({},s,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(xn.Component);Mp.defaultProps={classNames:""};Mp.propTypes={};function PQ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b_(e,t){var n=function(s){return t&&j.isValidElement(s)?t(s):s},r=Object.create(null);return e&&j.Children.map(e,function(i){return i}).forEach(function(i){r[i.key]=n(i)}),r}function OQ(e,t){e=e||{},t=t||{};function n(f){return f in t?t[f]:e[f]}var r=Object.create(null),i=[];for(var s in e)s in t?i.length&&(r[s]=i,i=[]):i.push(s);var o,a={};for(var l in t){if(r[l])for(o=0;o<r[l].length;o++){var c=r[l][o];a[r[l][o]]=n(c)}a[l]=n(l)}for(o=0;o<i.length;o++)a[i[o]]=n(i[o]);return a}function Bu(e,t,n){return n[t]!=null?n[t]:e.props[t]}function MQ(e,t){return b_(e.children,function(n){return j.cloneElement(n,{onExited:t.bind(null,n),in:!0,appear:Bu(n,"appear",e),enter:Bu(n,"enter",e),exit:Bu(n,"exit",e)})})}function AQ(e,t,n){var r=b_(e.children),i=OQ(t,r);return Object.keys(i).forEach(function(s){var o=i[s];if(j.isValidElement(o)){var a=s in t,l=s in r,c=t[s],f=j.isValidElement(c)&&!c.props.in;l&&(!a||f)?i[s]=j.cloneElement(o,{onExited:n.bind(null,o),in:!0,exit:Bu(o,"exit",e),enter:Bu(o,"enter",e)}):!l&&a&&!f?i[s]=j.cloneElement(o,{in:!1}):l&&a&&j.isValidElement(c)&&(i[s]=j.cloneElement(o,{onExited:n.bind(null,o),in:c.props.in,exit:Bu(o,"exit",e),enter:Bu(o,"enter",e)}))}}),i}var DQ=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},LQ={component:"div",childFactory:function(t){return t}},By=function(e){x_(t,e);function t(r,i){var s;s=e.call(this,r,i)||this;var o=s.handleExited.bind(PQ(s));return s.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},s}var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(i,s){var o=s.children,a=s.handleExited,l=s.firstRender;return{children:l?MQ(i,a):AQ(i,o,a),firstRender:!1}},n.handleExited=function(i,s){var o=b_(this.props.children);i.key in o||(i.props.onExited&&i.props.onExited(s),this.mounted&&this.setState(function(a){var l=K0({},a.children);return delete l[i.key],{children:l}}))},n.render=function(){var i=this.props,s=i.component,o=i.childFactory,a=v_(i,["component","childFactory"]),l=this.state.contextValue,c=DQ(this.state.children).map(o);return delete a.appear,delete a.enter,delete a.exit,s===null?xn.createElement(G0.Provider,{value:l},c):xn.createElement(G0.Provider,{value:l},xn.createElement(s,a,c))},t}(xn.Component);By.propTypes={};By.defaultProps=LQ;const hj=e=>j.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:10,height:10,viewBox:"0. 0. 11 11",...e},j.createElement("g",{transform:"matrix(1,0,0,-1,0,20)"},j.createElement("path",{d:"M9.71875,18.28125Q10,18.59375,10,19Q10,19.40625,9.71875,19.71875Q9.40625,20,9,20Q8.59375,20,8.28125,19.71875L5,16.40625L1.71875,19.71875Q1.40625,20,1,20Q0.59375,20,0.28125,19.71875Q0,19.40625,0,19Q0,18.59375,0.28125,18.28125L3.59375,15L0.28125,11.71875Q0,11.40625,0,11Q0,10.59375,0.28125,10.28125Q0.59375,10,1,10Q1.40625,10,1.71875,10.28125L5,13.59375L8.28125,10.28125Q8.59375,10,9,10Q9.40625,10,9.71875,10.28125Q10,10.59375,10,11Q10,11.40625,9.71875,11.71875L6.40625,15L9.71875,18.28125Z",fill:"#9CA3AF",fillOpacity:1,style:{mixBlendMode:"passthrough"}}))),w_=e=>j.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:17,height:17,viewBox:"-0.1 -1.2 11.985078811645508 17",...e},j.createElement("g",{transform:"matrix(1,0,0,-1,0,27.999998092651367)"},j.createElement("path",{d:"M5.99254,27.999999046325684Q5.61809,27.999999046325684,5.37737,27.753899046325685Q5.13664,27.507799046325683,5.13664,27.124999046325684L5.13664,26.605499046325683Q3.63883,26.277299046325684,2.70269,25.10159904632568Q1.73981,23.925779046325683,1.71306,22.312499046325684L1.71306,21.792969046325684Q1.68632,19.824219046325684,0.429221,18.320309046325683L0.215247,18.074219046325684Q-0.13246,17.664059046325683,0.0815138,17.144529046325683Q0.322234,16.652339046325682,0.857169,16.624999046325684L11.1279,16.624999046325684Q11.6628,16.652339046325682,11.9036,17.144529046325683Q12.1175,17.664059046325683,11.7698,18.074219046325684L11.5826,18.320309046325683Q10.2988,19.796869046325682,10.272,21.792969046325684L10.272,22.312499046325684Q10.2453,23.925779046325683,9.28239,25.10159904632568Q8.34625,26.277299046325684,6.84843,26.605499046325683L6.84843,27.124999046325684Q6.84843,27.507799046325683,6.60771,27.753899046325685Q6.36699,27.999999046325684,5.99254,27.999999046325684ZM7.19614,14.519530046325684Q7.70433,15.039059046325683,7.70433,15.749999046325684L5.99254,15.749999046325684L4.28075,15.749999046325684Q4.28075,15.039059046325683,4.78894,14.519530046325684Q5.29713,13.999999046325684,5.99254,13.999999046325684Q6.68796,13.999999046325684,7.19614,14.519530046325684Z",fill:"currentColor",fillOpacity:1,style:{mixBlendMode:"passthrough"}}))),Y0=di(e=>({isActivated:!1,messages:[],addToast:(t,n)=>e(r=>({messages:[...r.messages,{message:t,tag:n}]})),clearToast:t=>e(n=>(typeof t=="number"?n.messages=[...n.messages.slice(0,t),...n.messages.slice(t+1)]:n.messages=n.messages.filter(r=>r.tag!==t),{messages:n.messages}))}));function __(){const e=Y0(n=>n.messages),t=Y0(n=>n.clearToast);return h.jsx("div",{className:"fixed top-2 right-2 z-100 max-w-screen",children:h.jsx(By,{className:"flex gap-2 flex-col-reverse",children:e.slice(-3).map((n,r)=>h.jsx(Mp,{timeout:300,classNames:"toast",children:h.jsx(FQ,{toast:n,closeToast:()=>t(r)})},`${r} : ${n}`))})})}function FQ({toast:e,closeToast:t}){return h.jsxs("div",{className:"flex justify-between items-center gap-2 p-4 ml-2 bg-white text-black rounded-lg shadow-md",children:[h.jsx(w_,{className:"w-4 h-4 text-blue-500"}),h.jsx("span",{className:"flex-1 text-sm font-bold truncate max-w-72",children:e.message}),h.jsx("button",{"aria-label":"",onClick:t,className:"p-2 rounded-full hover:bg-blue-100",children:h.jsx(hj,{})})]})}const BQ=e=>j.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},j.createElement("g",{clipPath:"url(#clip0_3195_1180)"},j.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 3.66667C7.3975 3.66667 3.66667 7.3975 3.66667 12C3.66667 16.6025 7.3975 20.3333 12 20.3333C16.6025 20.3333 20.3333 16.6025 20.3333 12C20.3333 7.3975 16.6025 3.66667 12 3.66667ZM2 12C2 6.47708 6.47708 2 12 2C17.5229 2 22 6.47708 22 12C22 17.5229 17.5229 22 12 22C6.47708 22 2 17.5229 2 12Z",fill:"#9CA3AF"}),j.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.9929 20.9465C9.91235 20.8424 9.91235 19.9154 9.9929 18.1657C9.12985 18.1957 8.58443 18.1359 8.35665 17.9861C8.0154 17.7615 7.67332 17.0695 7.3704 16.5815C7.06749 16.0936 6.39415 16.0165 6.12249 15.9074C5.85082 15.7986 5.78249 15.354 6.87124 15.6899C7.95999 16.0261 8.0129 16.942 8.35665 17.1557C8.7004 17.3699 9.52165 17.2765 9.89374 17.1049C10.2658 16.9332 10.2383 16.2949 10.305 16.042C10.3887 15.8057 10.0929 15.7532 10.0867 15.7515C9.7229 15.7515 7.81415 15.3361 7.28957 13.4878C6.7654 11.639 7.44082 10.4307 7.80124 9.91155C8.04124 9.56488 8.01999 8.82682 7.73749 7.69738C8.76415 7.56571 9.55624 7.88877 10.1137 8.66655C10.1146 8.67071 10.8454 8.23196 12 8.23196C13.1546 8.23196 13.5646 8.58946 13.8808 8.66655C14.1971 8.74363 14.45 7.30571 16.4029 7.69738C15.995 8.49863 15.6537 9.49988 15.9142 9.91155C16.175 10.3228 17.1975 11.6311 16.5696 13.4878C16.1504 14.7253 15.3269 15.4799 14.0992 15.7515C13.9586 15.7965 13.8883 15.869 13.8883 15.969C13.8883 16.119 14.0783 16.1353 14.3525 16.8382C14.5358 17.3065 14.5492 18.6447 14.3925 20.8528C13.9961 20.9536 13.6878 21.0214 13.4675 21.0561C13.0771 21.1174 12.6529 21.152 12.2362 21.1649C11.8196 21.1782 11.675 21.177 11.0987 21.1232C10.7266 21.0892 10.3571 21.0302 9.9929 20.9465Z",fill:"#9CA3AF"}))),zQ=e=>j.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},j.createElement("path",{d:"M7.8 2H16.2C19.4 2 22 4.6 22 7.8V16.2C22 17.7383 21.3889 19.2135 20.3012 20.3012C19.2135 21.3889 17.7383 22 16.2 22H7.8C4.6 22 2 19.4 2 16.2V7.8C2 6.26174 2.61107 4.78649 3.69878 3.69878C4.78649 2.61107 6.26174 2 7.8 2ZM7.6 4C6.64522 4 5.72955 4.37928 5.05442 5.05442C4.37928 5.72955 4 6.64522 4 7.6V16.4C4 18.39 5.61 20 7.6 20H16.4C17.3548 20 18.2705 19.6207 18.9456 18.9456C19.6207 18.2705 20 17.3548 20 16.4V7.6C20 5.61 18.39 4 16.4 4H7.6ZM17.25 5.5C17.5815 5.5 17.8995 5.6317 18.1339 5.86612C18.3683 6.10054 18.5 6.41848 18.5 6.75C18.5 7.08152 18.3683 7.39946 18.1339 7.63388C17.8995 7.8683 17.5815 8 17.25 8C16.9185 8 16.6005 7.8683 16.3661 7.63388C16.1317 7.39946 16 7.08152 16 6.75C16 6.41848 16.1317 6.10054 16.3661 5.86612C16.6005 5.6317 16.9185 5.5 17.25 5.5ZM12 7C13.3261 7 14.5979 7.52678 15.5355 8.46447C16.4732 9.40215 17 10.6739 17 12C17 13.3261 16.4732 14.5979 15.5355 15.5355C14.5979 16.4732 13.3261 17 12 17C10.6739 17 9.40215 16.4732 8.46447 15.5355C7.52678 14.5979 7 13.3261 7 12C7 10.6739 7.52678 9.40215 8.46447 8.46447C9.40215 7.52678 10.6739 7 12 7ZM12 9C11.2044 9 10.4413 9.31607 9.87868 9.87868C9.31607 10.4413 9 11.2044 9 12C9 12.7956 9.31607 13.5587 9.87868 14.1213C10.4413 14.6839 11.2044 15 12 15C12.7956 15 13.5587 14.6839 14.1213 14.1213C14.6839 13.5587 15 12.7956 15 12C15 11.2044 14.6839 10.4413 14.1213 9.87868C13.5587 9.31607 12.7956 9 12 9Z",fill:"#9CA3AF"})),$Q=e=>j.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},j.createElement("path",{d:"M5.679 18.123C3.093 16.566 1.5 14.112 1.5 11.405C1.501 6.701 6.249 3 12.001 3C17.753 3 22.501 6.701 22.501 11.405C22.501 16.109 17.753 19.81 12.001 19.81C11.559 19.81 11.1197 19.7883 10.683 19.745L6.918 22.203C6.303 22.529 5.961 22.628 5.433 22.269C4.813 21.845 4.837 21.377 5.051 20.709L5.679 18.123ZM3.5 11.405C3.5 13.537 4.918 15.528 7.281 16.725L7.987 17.084L7.801 17.854L7.4 19.502L10.2 17.672L10.565 17.718C11.039 17.7793 11.5173 17.81 12 17.81C16.741 17.81 20.5 14.88 20.5 11.405C20.5 7.93 16.742 5 12.001 5C7.26 5 3.5 7.93 3.5 11.405ZM17.908 11.059L19.422 13.214C19.4577 13.2648 19.483 13.322 19.4965 13.3826C19.51 13.4431 19.5115 13.5057 19.5008 13.5668C19.4901 13.6279 19.4675 13.6863 19.4342 13.7387C19.401 13.791 19.3578 13.8363 19.307 13.872C19.2562 13.9077 19.199 13.933 19.1384 13.9465C19.0779 13.96 19.0153 13.9615 18.9542 13.9508C18.8931 13.9401 18.8347 13.9175 18.7823 13.8842C18.73 13.851 18.6847 13.8078 18.649 13.757L17.221 11.724L16.794 12.137V13.5C16.794 13.6252 16.7443 13.7452 16.6558 13.8338C16.5672 13.9223 16.4472 13.972 16.322 13.972C16.1968 13.972 16.0768 13.9223 15.9882 13.8338C15.8997 13.7452 15.85 13.6252 15.85 13.5V12.061C15.8334 11.9879 15.8334 11.9121 15.85 11.839V9.282C15.85 9.15682 15.8997 9.03676 15.9882 8.94825C16.0768 8.85973 16.1968 8.81 16.322 8.81C16.4472 8.81 16.5672 8.85973 16.6558 8.94825C16.7443 9.03676 16.794 9.15682 16.794 9.282V10.824L18.722 8.958C18.8128 8.87613 18.9319 8.83271 19.0541 8.83689C19.1763 8.84107 19.2922 8.89252 19.3772 8.98041C19.4622 9.06829 19.5098 9.18575 19.51 9.30804C19.5101 9.43033 19.4628 9.54791 19.378 9.636L17.908 11.059ZM14.95 12.984C15.0752 12.984 15.1952 13.0337 15.2838 13.1222C15.3723 13.2108 15.422 13.3308 15.422 13.456C15.422 13.5812 15.3723 13.7012 15.2838 13.7898C15.1952 13.8783 15.0752 13.928 14.95 13.928H13.018C12.956 13.9281 12.8946 13.916 12.8374 13.8923C12.7801 13.8686 12.7281 13.8339 12.6843 13.79C12.6405 13.7461 12.6059 13.694 12.5823 13.6367C12.5587 13.5794 12.5467 13.518 12.547 13.456V9.297C12.5441 9.23325 12.5541 9.16958 12.5765 9.10981C12.5988 9.05005 12.6331 8.99544 12.6772 8.9493C12.7212 8.90315 12.7742 8.86641 12.8329 8.84132C12.8915 8.81622 12.9547 8.80328 13.0185 8.80328C13.0823 8.80328 13.1455 8.81622 13.2041 8.84132C13.2628 8.86641 13.3158 8.90315 13.3598 8.9493C13.4039 8.99544 13.4382 9.05005 13.4605 9.10981C13.4829 9.16958 13.4929 9.23325 13.49 9.297V12.984H14.95ZM9.093 11.893H10.427L9.789 10.185L9.093 11.893ZM11.616 12.38L11.961 13.305C11.9848 13.3635 11.9967 13.4262 11.9958 13.4893C11.995 13.5525 11.9815 13.6148 11.9561 13.6727C11.9308 13.7305 11.8941 13.7827 11.8482 13.8261C11.8023 13.8694 11.7481 13.9032 11.689 13.9253C11.6298 13.9474 11.5668 13.9574 11.5037 13.9546C11.4406 13.9519 11.3787 13.9366 11.3216 13.9095C11.2645 13.8825 11.2135 13.8442 11.1715 13.7971C11.1295 13.7499 11.0973 13.6948 11.077 13.635L10.779 12.836H8.709L8.377 13.649C8.35356 13.7064 8.31904 13.7586 8.27543 13.8026C8.23181 13.8467 8.17994 13.8817 8.12279 13.9057C8.06563 13.9297 8.00431 13.9422 7.94232 13.9425C7.88033 13.9428 7.81889 13.9309 7.7615 13.9075C7.70411 13.8841 7.6519 13.8495 7.60785 13.8059C7.56381 13.7623 7.52878 13.7104 7.50478 13.6533C7.48077 13.5961 7.46826 13.5348 7.46796 13.4728C7.46765 13.4108 7.47956 13.3494 7.503 13.292L9.165 9.217C9.21605 9.08531 9.30573 8.97215 9.42227 8.89237C9.53882 8.81259 9.67677 8.76994 9.818 8.77C9.95833 8.7758 10.0936 8.8243 10.2056 8.90899C10.3176 8.99369 10.4012 9.11057 10.445 9.244L11.491 12.044C11.5723 12.1308 11.6177 12.2451 11.618 12.364L11.616 12.38ZM8.294 9.302C8.294 9.562 8.084 9.774 7.823 9.774H6.683V13.51C6.683 13.6353 6.63322 13.7555 6.54461 13.8441C6.456 13.9327 6.33581 13.9825 6.2105 13.9825C6.08518 13.9825 5.965 13.9327 5.87639 13.8441C5.78778 13.7555 5.738 13.6353 5.738 13.51V9.774H4.578C4.45282 9.774 4.33276 9.72427 4.24425 9.63575C4.15573 9.54724 4.106 9.42718 4.106 9.302C4.106 9.17682 4.15573 9.05676 4.24425 8.96825C4.33276 8.87973 4.45282 8.83 4.578 8.83H7.823C8.083 8.83 8.294 9.041 8.294 9.302Z",fill:"#9CA3AF"})),UQ=[{title:"",children:[{title:"ALLCLL ",href:"/about"},{title:"  ",href:"/faq"},{title:"  ",href:"https://forms.gle/bCDTVujEHunnvHe88"},{title:"allcllclla@google.com"}]}],HQ=[{icon:h.jsx(BQ,{className:"w-8 h-8 m-2"}),title:" github",href:"https://github.com/allcll"},{icon:h.jsx($Q,{className:"w-8 h-8 m-2"}),title:" ",href:"https://open.kakao.com/o/g3MztXfh"},{icon:h.jsx(zQ,{className:"w-8 h-8 m-2"}),title:" instagram",href:"https://www.instagram.com/sejong_allcll"}];function S_(){return h.jsxs("footer",{className:"bg-white text-center text-sm text-gray-500",children:[h.jsxs("div",{className:"mx-auto max-w-7xl px-4 md:px-16 py-12 grid md:grid-cols-3 gap-6 text-center md:text-left",children:[h.jsxs("div",{className:"mx-auto md:mx-0",children:[h.jsxs("div",{className:"flex items-center mb-2 h-fit justify-center md:justify-start",children:[h.jsx("img",{src:"/ci.svg",className:"w-6 h-6 mr-2",alt:"ci"}),h.jsx("img",{src:"/logo-name.svg",alt:"logo",className:"h-5"})]}),h.jsx("ul",{className:"flex items-center",children:HQ.map(({icon:e,title:t,href:n})=>h.jsx("li",{children:h.jsx("a",{href:n,className:"h-fit rounded-md hover:bg-gray-200","aria-label":t,title:t,children:e})},t))})]}),h.jsxs("div",{children:[h.jsx("h3",{className:"font-bold mb-4",children:""}),h.jsx("ul",{children:tj.map(({title:e,path:t,end:n})=>h.jsx("li",{className:"mb-1",children:h.jsx(sc,{to:t,end:n,className:"hover:text-blue-500 hover:underline hover:font-bold",children:e})},e))})]}),UQ.map((e,t)=>h.jsxs("div",{className:"mb-4",children:[h.jsx("h3",{className:"font-bold mb-4",children:e.title}),h.jsx("ul",{children:e.children.map((n,r)=>h.jsx("li",{className:"mb-1",children:n.href?n.href.startsWith("http")?h.jsx("a",{className:"hover:text-blue-500 hover:underline hover:font-bold",href:n.href,target:"_blank",children:n.title}):h.jsx(ui,{to:n.href,className:"hover:text-blue-500 hover:underline hover:font-bold",children:n.title}):h.jsx("p",{children:n.title})},r))})]},t))]}),h.jsx("p",{className:"pb-12",children:" 2025 ALLCLL. All rights reserved."})]})}const WQ=1.5*1e3,pj=5,bi=di(e=>({needCount:0,alwaysReload:!1,forceReloadNumber:0,errorCount:0,isError:!1,isPending:!0,addNeedCount:()=>e(t=>({needCount:t.needCount+1})),deleteNeedCount:()=>e(t=>({needCount:Math.max(0,t.needCount-1)})),setAlwaysReload:t=>e({alwaysReload:t}),setForceReload:()=>e(t=>({forceReloadNumber:t.forceReloadNumber+1,errorCount:0,isError:!1})),setError:()=>e(({errorCount:t,isPending:n})=>({errorCount:t+1,isError:t+1>=pj,isPending:n||t>1})),resetError:()=>e({errorCount:0,isError:!1,isPending:!1})}));function VQ(e,t){let n;try{n=e()}catch{return}return{getItem:i=>{var s;const o=l=>l===null?null:JSON.parse(l,void 0),a=(s=n.getItem(i))!=null?s:null;return a instanceof Promise?a.then(o):o(a)},setItem:(i,s)=>n.setItem(i,JSON.stringify(s,void 0)),removeItem:i=>n.removeItem(i)}}const Sw=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(r){return Sw(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return Sw(r)(n)}}}},qQ=(e,t)=>(n,r,i)=>{let s={storage:VQ(()=>localStorage),partialize:_=>_,version:0,merge:(_,C)=>({...C,..._}),...t},o=!1;const a=new Set,l=new Set;let c=s.storage;if(!c)return e((..._)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),n(..._)},r,i);const f=()=>{const _=s.partialize({...r()});return c.setItem(s.name,{state:_,version:s.version})},p=i.setState;i.setState=(_,C)=>{p(_,C),f()};const g=e((..._)=>{n(..._),f()},r,i);i.getInitialState=()=>g;let y;const b=()=>{var _,C;if(!c)return;o=!1,a.forEach(R=>{var M;return R((M=r())!=null?M:g)});const E=((C=s.onRehydrateStorage)==null?void 0:C.call(s,(_=r())!=null?_:g))||void 0;return Sw(c.getItem.bind(c))(s.name).then(R=>{if(R)if(typeof R.version=="number"&&R.version!==s.version){if(s.migrate){const M=s.migrate(R.state,R.version);return M instanceof Promise?M.then(U=>[!0,U]):[!0,M]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,R.state];return[!1,void 0]}).then(R=>{var M;const[U,z]=R;if(y=s.merge(z,(M=r())!=null?M:g),n(y,!0),U)return f()}).then(()=>{E?.(y,void 0),y=r(),o=!0,l.forEach(R=>R(y))}).catch(R=>{E?.(void 0,R)})};return i.persist={setOptions:_=>{s={...s,..._},_.storage&&(c=_.storage)},clearStorage:()=>{c?.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>b(),hasHydrated:()=>o,onHydrate:_=>(a.add(_),()=>{a.delete(_)}),onFinishHydration:_=>(l.add(_),()=>{l.delete(_)})},s.skipHydration||b(),y||g},mj=qQ,QQ=()=>{if(!(typeof window>"u"||typeof navigator>"u"))return navigator.vibrate||navigator.webkitVibrate||navigator.mozVibrate||navigator.msVibrate},oh=QQ(),C_={canNotify(){return!!oh},isGranted(){return this.canNotify()},requestPermission(e){this.isGranted()?e?.("granted"):e?.("denied")},getDeniedMessage(){return this.canNotify()?[]:["     ."]},show(e,t){const n=ip(ml.VIBRATE);oh&&n&&oh.call(navigator,[200])},close(e){oh&&oh.call(navigator,0)}};var Ui=(e=>(e[e.NONE=0]="NONE",e[e.BROWSER=1]="BROWSER",e[e.TOAST=2]="TOAST",e[e.BOTH=3]="BOTH",e))(Ui||{}),ml=(e=>(e[e.NONE=0]="NONE",e[e.VIBRATE=1]="VIBRATE",e[e.SOUND=2]="SOUND",e[e.ALL=3]="ALL",e))(ml||{});const KQ=()=>/Mobi|Android/i.test(navigator.userAgent),t4=()=>{const e="Notification"in window,t=KQ();return 1*Number(e)+2*Number(t)},n4=()=>{const e=C_.canNotify();return 1*Number(e)+2},Ro=di()(mj(e=>({alarmType:t4(),subAlarmType:n4(),saveSettings:t=>e(n=>({...n,...t})),resetSettings:()=>e(()=>({alarmType:t4(),subAlarmType:n4()}))}),{name:"AlarmSettings",partialize:e=>({alarmType:e.alarmType,subAlarmType:e.subAlarmType})}));function Cw(e){return!!(Ro.getState().alarmType&e)}function ip(e){return!!(Ro.getState().subAlarmType&e)}const Il=di(e=>({isOpen:!1,isPermitted:!1,open:()=>e({isOpen:!0}),close:()=>e({isOpen:!1}),setPermitted:t=>e({isPermitted:t})}));function GQ(){return h.jsxs(h.Fragment,{children:["  ? ",h.jsx(ui,{to:"/faq#0",className:"text-blue-500 underline hover:text-blue-600",children:" "})]})}const bg=()=>Notification??window.Notification,js={canNotify(){return"Notification"in window||!!bg()},isGranted(){return js.canNotify()&&bg().permission==="granted"},requestPermission(e){const t=bg();if(!js.canNotify()){alert("      .   ");return}if(!js.isGranted()){t.requestPermission().then(n=>{e&&e(n),Il.getState().setPermitted(n==="granted")});return}e&&e(t.permission)},getDeniedMessage(){return js.canNotify()?js.isGranted()?[]:["   .    "]:["     "]},show(e,t){const n=js.canNotify(),r=Cw(Ui.BROWSER),i=W0.getState().setBanner,s=bg();n&&r&&s.permission==="granted"&&(XQ(i),navigator.serviceWorker.ready.then(function(o){o.showNotification(e,{badge:"/ci.svg",tag:t}).then()}))},close(e){!js.canNotify()||!js.isGranted()||navigator.serviceWorker.ready.then(function(t){t.getNotifications({tag:e}).then(function(n){n.forEach(function(r){r.close()})})})}},YQ=1e3*60*60*24;function XQ(e){const t="alarm-check",n=localStorage.getItem(t);n&&Date.now()-Number(n)<100*YQ||setTimeout(()=>{e(GQ(),()=>{localStorage.setItem(t,Date.now().toString())})},5e3)}const Ew={canNotify(){return!0},isGranted(){return!0},requestPermission(e){},getDeniedMessage(){return[]},show(e,t){const n=Y0.getState().addToast;n&&n(e,t)},close(e){const t=Y0.getState().clearToast;t(e)}},JQ="/notification.mp3";let ro=null;const ZQ=()=>{typeof Audio<"u"&&!ro&&(ro=new Audio(JQ),ro.preload="auto",ro.volume=1,ro.load())};ZQ();const eK={canNotify(){return typeof Audio<"u"},isGranted(){return this.canNotify()},requestPermission(e){this.isGranted()?e?.("granted"):e?.("denied")},getDeniedMessage(){return this.canNotify()?[]:["     ."]},show(e,t){this.canNotify()&&ro&&(ro.currentTime=0,ro.play().catch(n=>{console.warn("Failed to play notification sound:",n)}))},close(e){ro&&(ro.pause(),ro.currentTime=0)}},zy="";async function $y(e,t){return await fetch(zy+e,{credentials:"include",...t})}async function Ea(e,t){const n=await fetch(zy+e,{credentials:"include",...t,headers:{"Content-Type":"application/json",...t?.headers}});if(!n.ok)throw new Error(await n.text());return await n.json()}async function tK(e,t,n){const r=await fetch(zy+e,{method:"DELETE",credentials:"include",headers:{"Content-Type":"application/json"},body:t?JSON.stringify(t):void 0,...n});if(!r.ok)throw new Error(await r.text());return r.status===204?null:await r.json()}function nK(e,t){return new EventSource(zy+e,{withCredentials:!0,...t})}async function Uy(e,t){const n=await fetch(e,{credentials:"include",...t});if(!n.ok)throw new Error(await n.text());return await n.json()}const rK=async()=>await Ea("/api/subjects"),iK=async e=>await Uy(`/${e}/subjects.json`),sK=async()=>oK,Hy=[{semesterCode:"SPRING_26",semesterValue:"2026-1"},{semesterCode:"WINTER_25",semesterValue:"2025-"},{semesterCode:"FALL_25",semesterValue:"2025-2"},{semesterCode:"SUMMER_25",semesterValue:"2025-"},{semesterCode:"SPRING_25",semesterValue:"2025-1"}],lo=Hy[0],oK={semesterCode:"SPRING_26",semesterValue:"2026-1",services:[{id:"timetable",startDate:"2026-01-23",endDate:"2099-12-31",message:null},{id:"baskets",startDate:"2026-01-23",endDate:"2099-12-31",message:null},{id:"simulation",startDate:"2026-01-23",endDate:"2099-12-31",message:null},{id:"live",startDate:"2026-02-09",endDate:"2026-03-09",message:null},{id:"preSeat",startDate:"2026-02-10",endDate:"2026-03-09",message:null}]},Wy={subjectId:-1,subjectName:"",subjectCode:"",classCode:"",professorName:"",deptCd:"",manageDeptNm:"",studentYear:"",lesnTime:"",lesnRoom:"",tmNum:"",remark:null,curiTypeCdNm:"",curiLangNm:null,isDeleted:!0};function po(e){e=e??lo.semesterCode;const t=e===lo.semesterCode;return fo({queryKey:["subjects",e],queryFn:()=>t?rK():iK(e),staleTime:1/0,select:n=>n.subjectResponses})}function aK(e){return e.getQueryData(["subjects",lo.semesterCode])?.subjectResponses??[]}let r4=!1;function Zc(){const e=[],t=Cw(Ui.BROWSER),n=Cw(Ui.TOAST),r=ip(ml.VIBRATE),i=ip(ml.SOUND);return t&&e.push(js),n&&e.push(Ew),r&&e.push(C_),i&&e.push(eK),e}const cs={canNotify(){return Zc().every(e=>e.canNotify())},isGranted(){const e=Zc().every(t=>t.isGranted());return Il.getState().setPermitted(e),e},requestPermission(e){cs.isGranted()||(Zc().forEach(t=>t.requestPermission(e)),Il.getState().open())},getDeniedMessage(){return Zc().flatMap(e=>e.getDeniedMessage())},show(e,t){Ro.getState().alarmType!==Ui.NONE&&Zc().forEach(r=>r.show(e,t))},close(e){Zc().forEach(t=>t.close(e))}};function lK(e,t,n){const{alwaysReload:r}=bi.getState();if(!(!e||!t||!r)){for(const i of t)if(e.some(o=>o.subjectId===i.subjectId&&o.seatCount===0&&i.seatCount>0)){const o=uK(n,i.subjectId);if(!o){cs.show("unknown subject  ");return}cs.show(`${o.subjectCode}-${o.classCode} ${o.subjectName}  `)}}}function uK(e,t){return aK(e).find(r=>r.subjectId===t)}let wg=null,i4=1;function s4(e){const t="global-notification_"+i4,n="global-notification_"+ ++i4;wg&&(clearTimeout(wg),cs.close(t),wg=null),cs.show(e,n),wg=setTimeout(()=>cs.close(n),3e3)}function cK(){const e=bi(i=>i.alwaysReload),t=bi(i=>i.setAlwaysReload),n=e;return j.useEffect(()=>{r4||(cs.isGranted()&&(s4("  .     "),t(!0)),r4=!0)},[]),{isAlarm:n,changeAlarm:()=>{if(!n){if(Ro.getState().alarmType===Ui.NONE){if(!confirm("   ?"))return;Ro.getState().resetSettings()}cs.requestPermission()}const i=n?"  ":"  ";t(!n),s4(i)}}}var E_=(e=>(e.IDLE="idle",e.LIVE="live",e))(E_||{});const dK=3e3;let _g=null;const Nd=di(e=>({lastUpdate:new Date,sseState:"live",updated:()=>{e({lastUpdate:new Date,sseState:"live"}),_g&&clearInterval(_g),_g=setTimeout(()=>{e({sseState:"idle"}),_g=null},dK)}}));function o4(e,t){const n=[];for(const r of t){const i=e.find(o=>o.subjectId===r.subjectId);!i||i.seatCount!==r.seatCount||i.queryTime!==r.queryTime?n.push(r):n.push(i)}return n}function fK(e,t){const n=new Set;[...e,...t].forEach(i=>{n.add(i.subjectId)});const r=[];return n.forEach(i=>{const s=e.find(l=>l.subjectId===i),o=t.find(l=>l.subjectId===i);o&&(!s||s.queryTime!==o.queryTime||s.seatCount!==o.seatCount)?r.push(o):s&&r.push(s)}),r}var Vy=(e=>(e.NON_MAJOR="nonMajorSeats",e.MAJOR="majorSeats",e.PINNED="pinSeats",e))(Vy||{});let Sg=!1;const hK=()=>{const e=fs(),t=bi(l=>l.needCount),n=bi(l=>l.alwaysReload),r=bi(l=>l.forceReloadNumber),i=bi(l=>l.errorCount),s=bi(l=>l.setError),o=bi(l=>l.resetError),a=bi(l=>l.isError);j.useEffect(()=>{const l=n||t>0;Sg||!l||i>=pj||(Sg=!0,pK(e,o).then(()=>{o(),Sg=!1}).catch(()=>{Sg=!1,i===0?s():setTimeout(s,WQ)}))},[n,t,e,s,r,o,i]),j.useEffect(()=>{a&&cs.show(" .  .")},[a])},pK=(e,t)=>new Promise((n,r)=>{const i=nK("/api/connect");return i.addEventListener("nonMajorSeats",s=>{const o=JSON.parse(s.data);if(!o)return;const a=o.seatResponses??[];e.setQueryData(["nonMajorSeats"],(l=[])=>o4(l,a)),Nd.getState().updated()}),i.addEventListener("majorSeats",s=>{const o=JSON.parse(s.data);if(!o)return;const a=o.seatResponses??[];e.setQueryData(["majorSeats"],(l=[])=>o4(l,a)),Nd.getState().updated()}),i.addEventListener("pinSeats",s=>{const o=JSON.parse(s.data);if(!o)return;const a=o.seatResponses??[];e.setQueryData(["pinSeats"],(l=[])=>{const c=fK(l,a);return lK(l,c,e),c}),Nd.getState().updated()}),i.onopen=()=>{t(),Nd.getState().updated()},i.onerror=s=>{i.close(),r(new Error("SSE connection error: "+(s.type??"Unknown error")))},()=>{i.close(),n("SSE connection closed")}}),k_=e=>{const t=fs(),n=bi(l=>l.addNeedCount),r=bi(l=>l.deleteNeedCount),i=bi(l=>l.isPending),s=bi(l=>l.isError),o=bi(l=>l.setForceReload);return j.useEffect(()=>{const l=()=>{document.visibilityState==="visible"?n():r()};return n(),document.addEventListener("visibilitychange",l),()=>{r(),document.removeEventListener("visibilitychange",l)}},[n,r]),{...fo({queryKey:[e],queryFn:()=>Promise.resolve(t.getQueryData([e])??[])}),isPending:i,isError:s,refetch:o}},a4={idx:-1,key:""};function T_(){const e=co(),t=j.useRef(a4);j.useEffect(()=>{const n=window.history.state;(!n||n.idx>=t.current.idx)&&window.scrollTo(0,0),t.current=n??a4},[e.pathname]),hK()}function l4(){return T_(),h.jsxs(h.Fragment,{children:[h.jsx(Gr,{children:h.jsx("title",{children:"ALLCLL"})}),h.jsx(__,{}),h.jsx(y_,{}),h.jsx(dj,{}),h.jsx(N2,{}),h.jsx(S_,{})]})}function Ap(e){const t=fo({queryKey:["serviceSemester"],queryFn:sK,staleTime:1/0,select:r=>r?{...r,services:r.services.map(mK)}:null});if(!e||!t.data)return t;const n=t.data.services.find(r=>r.id===e);return{...t,data:{semesterCode:t.data.semesterCode,semesterValue:t.data.semesterValue,service:n}}}const mK=e=>{const t=new Date,n=new Date(e.startDate),r=new Date(e.endDate);n.setHours(0,0,0,0),r.setHours(23,59,59,999);const i=n<=t&&t<=r;return{id:e.id,startDate:n,endDate:r,withinPeriod:i,startDateStr:e.startDate,endDateStr:e.endDate,message:e.message}},gK=e=>j.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:17.971202850341797,height:16.003124237060547,viewBox:"0 0 17.971202850341797 16.003124237060547",...e},j.createElement("g",{transform:"matrix(1,0,0,-1,0,32.006248474121094)"},j.createElement("path",{d:"M17.9688,24.003124237060547Q17.9376,23.596874237060547,17.6568,23.315624237060547Q17.3761,23.034374237060547,16.9705,23.003124237060547L15.9723,23.003124237060547L16.0035,18.003124237060547Q15.9723,17.878124237060547,15.9723,17.753124237060547L15.9723,17.253124237060547Q15.9723,16.721874237060547,15.5979,16.378124237060547Q15.2548,16.003124237060547,14.7244,16.003124237060547L14.2253,16.003124237060547Q14.1629,16.003124237060547,14.1317,16.003124237060547Q14.0693,16.003124237060547,14.0069,16.003124237060547L12.9775,16.003124237060547L12.2288,16.003124237060547Q11.6984,16.003124237060547,11.3553,16.378124237060547Q10.9809,16.721874237060547,10.9809,17.253124237060547L10.9809,18.003124237060547L10.9809,20.003124237060547Q10.9809,20.440624237060547,10.7002,20.721874237060547Q10.4194,21.003124237060547,9.98267,21.003124237060547L7.98614,21.003124237060547Q7.54939,21.003124237060547,7.26863,20.721874237060547Q6.98787,20.440624237060547,6.98787,20.003124237060547L6.98787,18.003124237060547L6.98787,17.253124237060547Q6.98787,16.721874237060547,6.61352,16.378124237060547Q6.27036,16.003124237060547,5.74003,16.003124237060547L4.99133,16.003124237060547L3.99307,16.003124237060547Q3.96187,16.003124237060547,3.93068,16.003124237060547Q3.89948,16.003124237060547,3.86828,16.003124237060547Q3.80589,16.003124237060547,3.7435,16.003124237060547L3.24437,16.003124237060547Q2.71404,16.003124237060547,2.37088,16.378124237060547Q1.99653,16.721874237060547,1.99653,17.253124237060547L1.99653,20.753124237060547Q1.99653,20.784374237060547,1.99653,20.846874237060547L1.99653,23.003124237060547L0.998267,23.003124237060547Q0.561525,23.034374237060547,0.280763,23.315624237060547Q0,23.596874237060547,0,24.034374237060547Q0,24.440624237060547,0.311958,24.784374237060547L8.29809,31.753124237060547Q8.64125,32.034324237060545,8.9844,32.00312423706055Q9.35875,32.00312423706055,9.63952,31.78442423706055L17.6257,24.753124237060547Q18,24.440624237060547,17.9688,24.003124237060547Z",fill:"#FFFFFF",fillOpacity:1,style:{mixBlendMode:"passthrough"}})));function yK({data:e}){const t=e.service?.endDate&&e.service.endDate<new Date;return h.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen min-w-[250px] bg-gray-100 px-4",children:h.jsxs("main",{className:"text-center",children:[h.jsx(Gt,{level:1,children:t?"  .":" ."}),h.jsxs(Gn,{children:["   .",h.jsx("br",{}),"       :)"]}),h.jsxs(Yn,{className:"mt-2",children:[t?h.jsxs(h.Fragment,{children:[h.jsxs(Gt,{level:2,children:[e.semesterValue,"  ."]}),h.jsxs(Gn,{children:["     .",h.jsx("br",{})]}),h.jsx(Gn,{children:"    ."})]}):h.jsxs(h.Fragment,{children:[h.jsx(Gt,{level:2,children:"   "}),h.jsxs(Gn,{children:[e.semesterValue," "]}),h.jsxs(Gn,{children:[e.service?.startDateStr," ~ ",e.service?.endDateStr]})]}),h.jsx("hr",{className:"my-4 border-gray-200"}),h.jsx(Gt,{level:3,children:""}),h.jsx(Gn,{className:"flex items-center justify-center gap-2 mt-2",children:"allcllclla@google.com"}),h.jsx(Dt,{variant:"text",size:"medium",textColor:"primary",asChild:!0,children:h.jsx("a",{href:"https://forms.gle/bCDTVujEHunnvHe88",target:"_blank",children:"  "})}),h.jsx(Dt,{variant:"text",size:"medium",textColor:"primary",asChild:!0,children:h.jsx("a",{href:"https://open.kakao.com/o/g3MztXfh",target:"_blank",children:" "})})]}),h.jsx(Pe,{className:"mt-6",justify:"justify-center",children:h.jsx(Dt,{variant:"primary",size:"medium",asChild:!0,children:h.jsxs(ui,{to:"/",children:[h.jsx(gK,{className:"w-4 h-4"}),"  "]})})})]})})}function gj({serviceId:e,children:t}){const{data:n,error:r}=Ap(e);return r&&console.error("Semester service error:",r),!n||!("service"in n)||!n.service||n.service.withinPeriod?t:h.jsx(yK,{data:n})}function u4({serviceId:e}){return T_(),h.jsxs(h.Fragment,{children:[h.jsx(__,{}),h.jsx(y_,{}),h.jsxs(gj,{serviceId:e,children:[h.jsx(dj,{}),h.jsx(N2,{})]}),h.jsx(S_,{})]})}const vK=[{name:"  ",children:[{name:"  ",children:[{name:"",path:"/simulation"},{name:" ",path:"/simulation/logs"},{name:" ",path:"/simulation/admin"},{name:" ",path:"#"},{name:"/ ",path:"#"},{name:"/",path:"#"},{name:"(,)",path:"#"}]}]}],kw=[{title:"",urlPath:"/simulation"},{title:" ",urlPath:"/simulation/logs"},{title:" ",urlPath:"/simulation/logs/"},{title:" ",urlPath:"/simulation/interest"},{title:" ",urlPath:"/simulation/admin"}];({...kw[0],realUrl:kw[0].urlPath});function yj({className:e,essential:t,disabled:n,children:r}){const s=(t?"relative inline-block w-autobefore:content-[''] before:absolute before:top-0 before:left-0 before:w-0 before:h-0 before:z-5 "+(n?"before:border-t-[8px] before:border-t-gray-400 before:border-r-[8px] before:border-r-transparent ":"before:border-t-[8px] before:border-t-red-500 before:border-r-[8px] before:border-r-transparent "):"")+e;return h.jsx("div",{className:s,children:r})}function xK({type:e="text",className:t="",essential:n=!1,disabled:r=!1,...i}){return h.jsx(yj,{className:t,essential:n,disabled:r,children:h.jsx("input",{type:e,className:"relative border-1 border-gray-300 px-2 text-xs w-max h-6 focus:outline-none focus:rounded focus:ring focus:border-gray-800 disabled:bg-gray-100 disabled:cursor-not-allowed ",disabled:r,...i})})}function bK({variant:e="primary",size:t="md",className:n="",children:r,...i}){const s="flex flex-row gap-1 cursor-pointer rounded",o=wK(e),a=_K(t),l=`${s} ${o} ${a} ${n}`.trim();return h.jsx("button",{className:l,...i,children:r})}function wK(e){switch(e){case"primary":return"bg-blue-500 text-white hover:bg-blue-600";case"secondary":return"bg-gray-500 text-white hover:bg-gray-600";case"dark":return"bg-gray-700 text-white hover:bg-gray-900";case"cancel":return"bg-white border border-gray-700 hover:bg-gray-100";case"danger":return"bg-red-500 text-white hover:bg-red-600";default:return""}}function _K(e){switch(e){case"sm":return"px-2 py-0.5 text-xs rounded-xs";case"md":return"px-3 py-2 text-sm";case"lg":return"px-4 py-3 text-base";default:return""}}function SK({className:e="",essential:t=!1,children:n,...r}){const i="px-2 h-6 text-gray-400 text-xs border border-gray-300 disabled:bg-gray-100 disabled:cursor-not-allowed "+e;return h.jsx(yj,{className:e,essential:t,disabled:r.disabled??!1,children:h.jsx("select",{className:i,...r,children:n})})}function CK({children:e,onBackdropClick:t,preventAutoFocus:n,noBorder:r}){const i=j.useRef(null),s=r?"":"border-[3px] border-slate-800 ";j.useEffect(()=>(document.body.style.overflow="hidden",n||i.current?.focus(),()=>{document.body.style.overflow=""}),[n]);const o=a=>{a.stopPropagation(),t&&t()};return h.jsxs("div",{className:"flex items-center justify-center fixed inset-0 w-full h-full z-100",role:"none",ref:i,tabIndex:-1,onClick:o,children:[h.jsx("div",{className:"fixed inset-0 justify-center opacity-30 bg-gray-300 border-b-2 border-gray-400"}),h.jsx("div",{className:"fixed inset-x-0 top-16 bottom-0 flex items-center justify-center",tabIndex:-1,children:h.jsx("div",{className:s,children:h.jsx("div",{className:"w-[95%] sm:w-fit bg-white max-h-[90%] overflow-y-auto",role:"dialog",tabIndex:-1,onClick:a=>a.stopPropagation(),children:e})})})]})}const vj=e=>j.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",...e},j.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2px",d:"M4 20L20 4M4 4l16 16"}));function EK({title:e,onClose:t=()=>{}}){return h.jsxs("div",{className:"flex justify-between items-center p-3 border-b border-gray-200 ",children:[h.jsx("h2",{className:"font-semibold sm:text-lg text-sm text-gray-900",children:e}),h.jsx("button",{className:"w-5 h-5 text-gray-500 hover:text-gray-700 cursor-pointer",onClick:t,title:"",tabIndex:-1,children:h.jsx(vj,{className:"w-full h-full"})})]})}function kK({variant:e="primary",className:t="",children:n,...r}){const i="px-4 h-6 text-xs flex items-center gap-1 rounded-xs cursor-pointer",s=TK(e),o=`${i} ${s} ${t}`.trim();return h.jsx("button",{className:o,...r,children:n})}function TK(e){switch(e){case"primary":return"bg-blue-500 text-white hover:bg-blue-600";case"secondary":return"bg-gray-500 text-white hover:bg-gray-600";case"cancel":return"bg-white border border-gray-700 hover:bg-blue-50 hover:border-blue-500";case"danger":return"bg-red-500 text-white hover:bg-red-600";default:return""}}function jK({children:e,className:t="",...n}){const r="flex justify-end gap-4 w-full border-3 border-white "+t;return h.jsx("div",{className:r,...n,children:e})}const IK=Object.assign(CK,{Header:EK,Button:kK,ButtonContainer:jK});function NK({columns:e}){return h.jsx("thead",{className:"bg-gray-100",children:h.jsx("tr",{className:"text-nowrap",children:e.map(t=>h.jsx("th",{className:"border border-gray-300 px-2 py-1",children:t.header},String(t.header)))})})}function RK({columns:e,data:t,keyInfo:n}){return h.jsx("tbody",{children:t.map((r,i)=>{const s=typeof n=="function"?n(r):r[n];return h.jsx("tr",{children:e.map(o=>h.jsx("td",{className:"border border-gray-300 px-2 py-1",children:o.cell(r,i)},`cell-${s}-${o.header}`))},`row-${s}`)})})}function PK(){return h.jsx("tbody",{children:h.jsx("tr",{children:h.jsx("td",{colSpan:99,className:"text-gray-500 py-4",children:h.jsx("div",{className:"min-h-[160px] flex items-center justify-center ",children:h.jsx("p",{className:"bg-gray-100 px-15 py-1 border",children:"  ."})})})})})}function OK({columns:e,data:t,className:n="w-full border border-gray-300 border-t-3 border-t-black text-center text-xs text-nowrap",keyInfo:r,emptyComponent:i=h.jsx(PK,{})}){const s=t&&t.length>0;return h.jsx("div",{className:"overflow-x-auto min-h-[300px] border-gray-300",children:h.jsxs("table",{className:n,children:[h.jsx(NK,{columns:e}),s?h.jsx(RK,{columns:e,data:t,keyInfo:r}):i]})})}function MK({children:e,className:t=""}){const r=`font-semibold pl-2 border-l-4 border-blue-500 ${t}`.trim();return h.jsx("div",{className:r,children:e})}const xj=j.createContext(null);function AK(){const e=j.useContext(xj);if(!e)throw new Error("useTabsContext must be used within a TabsProvider");return e}function DK({tabList:e,initialTabs:t=[],children:n}){const[r,i]=j.useState(t),s=xy(),o=co();j.useEffect(()=>{if(r.length===0){const f=a(o);l(f),s(f.realUrl)}},[r]),j.useEffect(()=>{l(a(o))},[o.pathname]);function a(f){const p=f.pathname.replace(/\d+/,"");return{title:e.find(g=>g.urlPath===p)?.title||"   ",urlPath:p,realUrl:f.pathname}}const l=f=>{i(p=>{const g=p.findIndex(b=>b.urlPath===f.urlPath);if(g===-1)return[...p,f];const y=[...p];return y[g]=f,y})},c=f=>{i(p=>{const g=p.find(b=>b.urlPath===f);if(!g)return p;const y=p.filter(b=>b.urlPath!==f);if(window.location.pathname.includes(g.realUrl)){const b=y[y.length-1];s(b?b.realUrl:"/")}return y})};return h.jsx(xj.Provider,{value:{tabs:r,setTab:l,deleteTab:c},children:n})}function LK({tab:e,onDelete:t}){return h.jsxs(sc,{to:e.realUrl,className:({isActive:n})=>"group px-2.5 flex items-center gap-2.5 w-1/4 sm:w-1/8 border-r-1 border-r-neutral-300 cursor-pointer focus:outline-none"+(n?" mb-[-1px] bg-white border-b-2 border-b-white border-t-4 border-t-blue-500 font-semibold text-blue-500":" text-gray-500 hover:bg-white"),end:!0,children:[h.jsx("span",{className:"flex-1 text-center overflow-hidden text-ellipsis text-nowrap rounded-xs group-focus:outline-black group-focus:outline-2",children:e.title}),h.jsx("button",{tabIndex:-1,"aria-label":" ",className:"w-4 text-gray-700 hover:text-blue-500 cursor-pointer",onClick:n=>{n.preventDefault(),n.stopPropagation(),t(e.urlPath)},children:h.jsx(vj,{className:"w-3 h-3"})})]})}function FK(){const{tabs:e,deleteTab:t}=AK();return h.jsx("div",{className:"flex border-b border-neutral-300 bg-gray-100 text-sm h-12",children:e.map(n=>h.jsx(LK,{tab:n,onDelete:t},n.urlPath))})}function BK({tabList:e,initialTabs:t=[]}){return h.jsx(DK,{tabList:e,initialTabs:t,children:h.jsx(FK,{})})}function zK({menu:e}){return h.jsx("li",{children:e.path==="#"?h.jsx("div",{className:"block px-2 py-2 text-xs text-gray-400 cursor-not-allowed",children:e.name}):h.jsx(sc,{to:e.path??"#",className:({isActive:t})=>`block px-2 py-2 text-xs cursor-pointer hover:bg-blue-500 hover:text-white ${t?"bg-blue-500 text-white":""}`,end:!0,children:e.name})})}const $K=!0;function UK({menu:e}){const[t,n]=j.useState($K);return h.jsxs("li",{className:"",children:[h.jsxs("button",{className:"px-4 py-2 h-10 flex items-center gap-4 w-full border-b border-neutral-300 cursor-pointer hover:bg-gray-100 "+(t?"font-semibold":"font-normal"),onClick:()=>n(r=>!r),children:[h.jsx("span",{children:t?"-":"+"}),h.jsx("span",{children:e.name})]}),t&&e.children&&h.jsx("ul",{className:"ml-1 pl-4 bg-neutral-100 font-semibold",children:e.children.map(r=>h.jsx(zK,{menu:r},r.name))})]})}const HK=!0;function WK({menu:e}){const[t,n]=j.useState(HK);return h.jsxs("li",{children:[h.jsxs("button",{className:"px-4 py-2 h-12 flex items-center justify-between w-full border-b border-neutral-300 cursor-pointer hover:bg-gray-100 "+(t?"font-semibold":"font-normal"),onClick:()=>n(r=>!r),children:[e.name,e.children&&h.jsx("span",{className:"ml-auto text-gray-500",children:t?"":""})]}),t&&e.children&&h.jsx("ul",{className:"",children:e.children.map(r=>h.jsx(UK,{menu:r},r.name))})]})}function VK({menus:e}){const[t,n]=j.useState(!0),[r]=j.useState(/Android|iPhone/i.test(navigator.userAgent)),i=()=>{n(s=>!s)};return h.jsx("aside",{className:(t?"relative z-10":"relative bg-blue-50 z-10")+(!t||r?" w-[20px] min-w-[20px] h-[calc(100vh-60px)]":" w-[230px] min-w-[230px]"),children:t?h.jsxs("div",{className:r?"absolute w-[300px] min-w-[300px] h-full bg-white shadow-gray-800 shadow-md":"bg-white",children:[h.jsxs("div",{className:"h-12 bg-blue-500 text-white text-lg font-semibold flex items-center justify-between px-4",children:[h.jsx("span",{children:""}),h.jsx("button",{className:"text-white hover:text-gray-200 cursor-pointer",onClick:i,children:"<"})]}),h.jsx("ul",{className:"flex flex-col text-sm",children:e.map(s=>h.jsx(WK,{menu:s},s.name))})]}):h.jsx("div",{children:h.jsx("button",{className:"w-full h-12 bg-blue-500 text-white text-lg font-semibold text-center cursor-pointer hover:text-gray-200",onClick:i,children:">"})})})}const fn={Input:xK,Button:bK,Select:SK,Modal:IK,SectionHeader:MK,Tab:BK,AsideMenu:VK,DataTable:OK};function qK(){return T_(),h.jsxs(h.Fragment,{children:[h.jsx(__,{}),h.jsx(y_,{}),h.jsx(gj,{serviceId:"simulation",children:h.jsx("div",{className:"w-full bg-white text-sm text-gray-800 font-sans",children:h.jsxs("div",{className:"flex",children:[h.jsx(fn.AsideMenu,{menus:vK}),h.jsxs("div",{className:"flex-auto min-w-0",children:[h.jsx(fn.Tab,{tabList:kw}),h.jsx("main",{className:"flex-1 p-4 space-y-4 mx-auto max-w-screen-2xl overflow-x-hidden",children:h.jsx(N2,{})})]})]})})}),h.jsx(S_,{})]})}function dc({bgColor:e,className:t,children:n}){const r=e??"even:bg-white ",i=t?` ${t}`:"";return h.jsx("section",{className:r,children:h.jsx("div",{className:`mx-auto max-w-7xl px-4 md:px-8 py-10 ${i}`,children:n})})}const QK="02 10()",KK="02 13()";function GK(){const{data:e}=Ap();return h.jsxs(dc,{className:"flex flex-col md:flex-row items-center justify-between",bgColor:"bg-banner-skysoft",children:[h.jsxs("div",{className:"max-w-xl",children:[h.jsxs("div",{className:"flex flex-row gap-2 items-center",children:[h.jsx("img",{src:"/calendar.png",alt:"calendar",className:"w-10 h-10"}),h.jsxs("span",{className:"italic text-xs text-stone-500 ",children:[e?.semesterValue,"    ",h.jsx("br",{})," ",QK," ~ ",KK]})]}),h.jsxs("h2",{className:"text-xl mt-10 sm:text-2xl md:text-4xl leading-snug font-bold mb-3 ",children:[e?.semesterValue," ,"]}),h.jsxs("div",{className:"flex flex-row justify-start items-center text-xl sm:text-2xl md:text-4xl leading-snug font-bold mb-3",children:[h.jsx("img",{src:"/logo-name.svg",alt:"logo-name",className:"w-20 sm:w-32 md:w-40 lg:w-48 mr-2 animate-updown"})," !"]}),h.jsx(Gn,{children:"    ,    ALLCLL  ."}),h.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mt-4",children:[h.jsx(Dt,{variant:"primary",size:"medium",asChild:!0,children:h.jsx(ui,{to:"/timetable",children:" "})}),h.jsx(Dt,{variant:"outlined",size:"medium",asChild:!0,children:h.jsx(ui,{to:"/simulation",children:"  "})})]})]}),h.jsx("img",{src:"/summer-banner.png",alt:"summer-banner",className:"w-90 hidden sm:block  mt-8 md:mt-4"})]})}const YK=e=>j.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:15,height:15,viewBox:"0 0 15 15",...e},j.createElement("g",{transform:"matrix(1,0,0,-1,0,30)"},j.createElement("path",{d:"M10.3125,30Q9.69727,29.9707,9.43359,29.414099999999998Q9.22852,28.8574,9.63867,28.3887L10.8691,27.1875L5.88867,22.23633Q5.625,21.94336,5.625,21.5625Q5.625,21.18164,5.88867,20.88867Q6.18164,20.625,6.5625,20.625Q6.94336,20.625,7.23633,20.88867L12.1875,25.8691L13.3887,24.638669999999998Q13.8574,24.22852,14.4141,24.433590000000002Q14.9707,24.69727,15,25.3125L15,29.0625Q15,29.4727,14.7363,29.7363Q14.4727,30,14.0625,30L10.3125,30ZM2.34375,29.0625Q1.34766,29.0332,0.673828,28.3887Q0.0292969,27.7148,0,26.7188L0,17.34375Q0.0292969,16.34766,0.673828,15.673828Q1.34766,15.0292969,2.34375,15L11.7188,15Q12.7148,15.0292969,13.3887,15.673828Q14.0332,16.34766,14.0625,17.34375L14.0625,20.625Q14.0625,21.03516,13.7988,21.29883Q13.5352,21.5625,13.125,21.5625Q12.7148,21.5625,12.4512,21.29883Q12.1875,21.03516,12.1875,20.625L12.1875,17.34375Q12.1582,16.9043,11.7188,16.875L2.34375,16.875Q1.9043,16.9043,1.875,17.34375L1.875,26.7188Q1.9043,27.1582,2.34375,27.1875L5.625,27.1875Q6.03516,27.1875,6.29883,27.4512Q6.5625,27.7148,6.5625,28.125Q6.5625,28.5352,6.29883,28.7988Q6.03516,29.0625,5.625,29.0625L2.34375,29.0625Z",fill:"#007AFF",fillOpacity:1,style:{mixBlendMode:"passthrough"}})));function qy({title:e,subtitle:t,href:n,disabled:r=!1}){const i=!!n&&!r;return h.jsxs(h.Fragment,{children:[i?h.jsxs(ui,{to:n,className:"flex items-center gap-2 hover:underline focus:underline",children:[h.jsx(Gt,{level:2,children:e}),h.jsx(YK,{className:"w-4 h-4"})]}):h.jsx(Gt,{level:2,children:e}),t&&h.jsx(Gn,{children:t})]})}function bj(e,t){const n=Ut(c=>c.options),[r,i]=j.useState({dragging:!1,startX:0,startY:0}),s=j.useCallback(c=>{c.stopPropagation();const{x:f,y:p}=Cg(c,n);e&&e(f,p,f,p),i({startX:f,startY:p,dragging:!0})},[e]),o=c=>{c.stopPropagation();const{x:f,y:p}=Cg(c,n);t&&t(r.startX,r.startY,f,p),i(g=>({...g,dragging:!1}))},a=c=>{c.stopPropagation();const{x:f,y:p}=Cg(c,n);e&&e(r.startX,r.startY,f,p)},l=c=>{c.stopPropagation();const f=c.touches[0],{x:p,y:g}=Cg(f,n);e&&e(r.startX,r.startY,p,g)};return j.useEffect(()=>{if(r.dragging)return document.addEventListener("mouseup",o),document.addEventListener("touchmove",l),document.addEventListener("mousemove",a),()=>{document.removeEventListener("mouseup",o),document.removeEventListener("touchmove",l),document.removeEventListener("mousemove",a)}},[r,e,t]),{dragging:r.dragging,onMouseDown:s}}const c4=6;function Cg(e,t){const{tableX:n,tableY:r,width:i,height:s,cols:o,rows:a}=t,{pageX:l,pageY:c}=e,f=i/o||1,p=s/a||1,g=Math.floor((l-n)/f),y=Math.floor((c-r)/p*c4)/c4,b=Math.max(0,Math.min(o-1,g)),_=Math.max(0,Math.min(a,y));return{x:b,y:_}}function XK(e){return new Promise(t=>setTimeout(t,e))}function wj(e,t=9){const n=t*60,r=new Date,i=new Date(e);return i.setMonth(i.getMonth()-n-r.getTimezoneOffset()),i}class ed{time;constructor(t){switch(typeof t){case"string":const[r,i]=t.split(":").map(Number);this.time=r*60+i;break;case"object":const{hours:s,minutes:o}=t;this.time=s*60+o;break;case"number":this.time=t;break}if(Number.isNaN(this.time)||this.time<0||this.time>=1440)throw this.time=0,new Error("Invalid time value")}toObject(){const t=Math.floor(this.time/60),n=this.time%60;return{hours:t,minutes:n}}toString(){const{hours:t,minutes:n}=this.toObject(),r=t.toString().padStart(2,"0"),i=n.toString().padStart(2,"0");return`${r}:${i}`}compare(t){const n=this.time-t.time;return n===0?0:n>0?1:-1}}const j_={timeTableId:-1,timeTableName:" ",semesterCode:"",schedules:[]},JK=async e=>await Ea(`/api/timetables?semesterCode=${encodeURIComponent(e)}`,{method:"GET"}),_j=e=>fo({queryKey:["timetableList",e],queryFn:()=>JK(e),select:t=>t.timeTables,staleTime:1e3*60*5});function Sj(e,t){t=t??lo.semesterCode;const{data:n}=po(t);return fo({queryKey:["timetableData",e],queryFn:async()=>!e||e<=0?{timetableId:-1,timetableName:" ",semesterCode:"",schedules:[]}:await Ea(`/api/timetables/${e}/schedules`),select:i=>rG(i,n),refetchOnWindowFocus:!1,staleTime:1e3*60*5})}function ZK(){const e=fs(),{currentTimetable:t,pickTimetable:n}=Ut.getState();return Dl({mutationFn:async({timeTableId:r,timeTableName:i})=>await Ea(`/api/timetables/${r}`,{method:"PATCH",body:JSON.stringify({timeTableName:i})}),onMutate:async({timeTableId:r})=>(await e.cancelQueries({queryKey:["timetableList",r]}),{timeTableId:r}),onSuccess:async(r,i,s)=>{const o=s?.timeTableId;t?.timeTableId===o&&n({timeTableId:r.timeTableId,timeTableName:r.timeTableName,semesterCode:r.semesterCode}),await e.invalidateQueries({queryKey:["timetableList"]}),await e.invalidateQueries({queryKey:["timetableList",o]})},onError:async(r,i,s)=>{console.error(`   (id: ${s?.timeTableId})`,r),await e.invalidateQueries({queryKey:["timetableList"]}),await e.invalidateQueries({queryKey:["timetableList",s?.timeTableId]})}})}function Cj(){const e=fs();return Dl({mutationFn:async t=>await $y(`/api/timetables/${t}`,{method:"DELETE"}),onMutate:async t=>(await e.cancelQueries({queryKey:["timetableList"]}),await e.cancelQueries({queryKey:["timetableData",t]}),{timeTableId:t}),onError:async(t,n,r)=>{console.error(`   (id: ${r?.timeTableId})`,t),await e.invalidateQueries({queryKey:["timetableList",r?.timeTableId]}),await e.invalidateQueries({queryKey:["timetableList"]})},onSuccess:async(t,n,r)=>{await e.invalidateQueries({queryKey:["timetableList"]}),await e.invalidateQueries({queryKey:["timetableData",r?.timeTableId]})}})}function Ej(){const e=fs();return Dl({mutationFn:async({timeTableName:t,semesterCode:n})=>await Ea("/api/timetables",{method:"POST",body:JSON.stringify({timeTableName:t,semesterCode:n})}),onSuccess:async t=>{const{pickTimetable:n}=Ut.getState();n({timeTableId:t.timeTableId,timeTableName:t.timeTableName,semesterCode:t.semesterCode}),await e.invalidateQueries({queryKey:["timetableList"]})},onError:async t=>{try{const n=JSON.parse(t.message);alert(n.message)}catch{alert("Error adding Timetable")}await e.invalidateQueries({queryKey:["timetableList"]})}})}function eG(e,t){t=t??lo.semesterCode;const n=fs(),r=Ut(s=>s.changeScheduleData),{mutateAsync:i}=Ej();return Dl({mutationFn:async({schedule:s})=>{let o=e;if(!o||o<=0){const l=await i({timeTableName:" ",semesterCode:t});o=l.timeTableId,await XK(300),n.setQueryData(["timetableData",o],{timetableId:o,timetableName:l.timeTableName,semesterCode:l.semesterCode,schedules:[s]})}return{schedule:await Ea(`/api/timetables/${o}/schedules`,{method:"POST",body:JSON.stringify(s)}),targetTimetableId:o}},onMutate:async s=>{if(!e||e<=0)return;const o=n.getQueryData(["timetableData",e])??{...j_};return e&&e>0&&(await n.cancelQueries({queryKey:["timetableData",e]}),n.setQueryData(["timetableData",e],{...o,schedules:[...o.schedules,s.schedule]}),r(new Wi().toUiData(),cr.NONE)),{...s,prevTimetableSchedules:o}},onError:(s,o,a)=>{n.setQueryData(["timetableData",e],a?.prevTimetableSchedules),console.error(s)},onSuccess:async({schedule:s,targetTimetableId:o},a,l)=>{const c=n.getQueryData(["timetableData",o]);r(new Wi().toUiData(),cr.NONE),n.setQueryData(["timetableData",o],{...c,schedules:c?.schedules.map(f=>f.scheduleId===l.schedule.scheduleId?s:f)})}})}function tG(e){const t=fs();return Dl({mutationFn:async({schedule:n})=>await Ea(`/api/timetables/${e}/schedules/${n.scheduleId}`,{method:"PATCH",body:JSON.stringify(n)}),onMutate:async n=>{const r=t.getQueryData(["timetableData",e])??{...j_};return await t.cancelQueries({queryKey:["timetableData",e]}),{...n,prevTimetableSchedules:r}},onError:(n,r,i)=>{t.setQueryData(["timetableData",e],i?.prevTimetableSchedules),console.error(n)},onSuccess:async(n,r,i)=>{if(!i?.prevTimetableSchedules){await t.invalidateQueries({queryKey:["timetableList"]}),await t.invalidateQueries({queryKey:["timetableData",e]});return}t.setQueryData(["timetableData",e],{...i.prevTimetableSchedules,schedules:i.prevTimetableSchedules.schedules.map(s=>s.scheduleId===n.scheduleId?{...s,...n}:s)})}})}function nG(e){const t=fs();return Dl({mutationFn:async({schedule:n})=>await tK(`/api/timetables/${e}/schedules/${n.scheduleId}`,{scheduleType:n.scheduleType}),onMutate:async n=>{const r=t.getQueryData(["timetableData",e])??{...j_};return await t.cancelQueries({queryKey:["timetableData",e]}),{...n,prevTimetableSchedules:r}},onError:(n,r,i)=>{t.setQueryData(["timetableData",e],i?.prevTimetableSchedules),console.error(n)},onSuccess:async(n,{schedule:r},i)=>{if(console.log("  ! timetableId:",e),!i?.prevTimetableSchedules){await t.invalidateQueries({queryKey:["timetableList"]}),await t.invalidateQueries({queryKey:["timetableData",e]});return}console.log("  !   . timetableId:",e,i.prevTimetableSchedules),t.setQueryData(["timetableData",e],{...i.prevTimetableSchedules,schedules:i.prevTimetableSchedules.schedules.filter(s=>s.scheduleId!==r.scheduleId)}),await t.invalidateQueries({queryKey:["timetableData",e]})}})}function rG(e,t){if(!e||!t)return[];const{schedules:n}=e;return n.map(r=>new Wi(r,t).toUiData())}function kj(e,t=9){const n=Ut(a=>a.schedule),r=Ut(a=>a.mode),i=["rose","amber","green","emerald","blue","violet"],s={};if(!e)return;let o=e;return(r===cr.EDIT||r===cr.VIEW)&&(o=e.map(a=>a.scheduleId===n.scheduleId?n:a)),o.forEach((a,l)=>{const c=a.isDeleted?"gray":i[l%i.length],{subjectName:f,professorName:p,location:g}=a;new df(a.timeSlots).toUiData(t).forEach(b=>{s[b.dayOfWeek]||(s[b.dayOfWeek]=[]),s[b.dayOfWeek].push({title:f,professor:p,location:g,schedule:a,color:c,...b})})}),Object.keys(s).forEach(a=>{s[a]=iG(s[a])}),s}function iG(e){const n=Ut.getState().options.isMobile?8:16,r=o=>Number.parseFloat(o.replace("px",""));return e.sort((o,a)=>{const l=r(o.height);return r(a.height)-l}).reduce((o,a)=>{const l=r(a.top),c=l+r(a.height),p=o.reduce((g,y)=>{const b=r(y.top),_=b+r(y.height);return b<=l&&l<_||b<c&&c<=_?Math.max(g,y.depth):g},-1)+1;return[...o,{...a,depth:p}]},[]).map(o=>{const a=n*o.depth;return{...o,left:`${a}px`,right:"0px",height:o.height,top:o.top}})}function sG(e){const t=Ut(i=>i.schedule),n=Ut(i=>i.mode);if(!e)return[];const r=e.filter(i=>i.timeSlots===null||i.timeSlots.length===0);return n===cr.NONE||t.timeSlots.length>0?r.map(i=>({...i,selected:!1})):t.scheduleId<=0?[...r.map(i=>({...i,selected:!1})),{...t,selected:!0}]:r.map(i=>({...i,selected:i.scheduleId===t.scheduleId}))}const d4={search:{isOpen:!1},filter:{isOpen:!1},edit:{isOpen:!1},info:{isOpen:!1}},va=di(e=>({type:d4,openBottomSheet:t=>e(n=>({type:{...n.type,[t]:{isOpen:!0}}})),closeBottomSheet:t=>e(n=>({type:{...n.type,[t]:{isOpen:!1}}})),resetBottomSheet:()=>e({type:d4})}));function ka(){const[e]=S7();return e.get("semester")??lo.semesterCode}const jx=()=>new Wi().toUiData();let Ix;function fi(){const e=fs(),t=Ut(E=>E.changeScheduleData),n=ka(),i=Ut(E=>E.currentTimetable)?.timeTableId??-1,s=va(E=>E.openBottomSheet),o=va(E=>E.closeBottomSheet),[,a]=j.useTransition(),{mutate:l}=eG(i,n),{mutate:c}=tG(i),{mutate:f}=nG(i);return{setOptimisticSchedule:E=>{a(()=>t(E,cr.NONE))},openScheduleModal:E=>{Ix=e.getQueryData(["timetableData",i]);let R;!E.scheduleId||E.scheduleId<=0?(R=cr.CREATE,E.scheduleType!=="official"&&s("edit")):E.scheduleType==="official"?(R=cr.VIEW,console.log(Ix),s("info")):(R=cr.EDIT,s("edit")),t(E,R)},editSchedule:E=>{const R=Ut.getState().schedule;let M=E instanceof Function?E(R):E;t(M)},saveSchedule:(E,R=!0)=>{const M=Ut.getState().schedule,U=Ut.getState().mode;if(E&&E.preventDefault(),!new df(M.timeSlots).validate()){alert("       .");return}const P=M.timeSlots.length!==0;if(M.scheduleType==="custom"&&!P){alert(" !.");return}const B=new Wi(M).toApiData();U===cr.CREATE?(B.scheduleId=aG(Ix?.schedules??[]),l({schedule:B})):U===cr.EDIT&&(c({schedule:B}),t({...jx()},cr.NONE)),R&&o("edit")},deleteSchedule:E=>{const R=Ut.getState().schedule;E&&E.preventDefault();const M=new Wi(R).toApiData();f({schedule:M}),t({...jx()},cr.NONE),o("edit")},cancelSchedule:(E,R=!0)=>{E&&E.preventDefault(),t({...jx()},cr.NONE),R&&o("edit")}}}function Dp(){const e=Ut(n=>n.mode),t=Ut(n=>n.schedule);return{modalActionType:e,schedule:t}}function oG(){const{minTime:e}=Ut(n=>n.options);return{getTimeslot:(n,r,i)=>{n>r&&([n,r]=[r,n]),i!==void 0&&r-n<i&&(r=n+i);const s=f4(e,n),o=f4(e,r);return{startTime:s,endTime:o}}}}function f4(e,t){const n=e+Math.floor(t),r=Math.floor((t-Math.floor(t))*60);return n<0?"00:00":n>23?"23:50":`${n.toString().padStart(2,"0")}:${r.toString().padStart(2,"0")}`}function aG(e){let t=-Math.floor(Math.random()*1e6);for(;e.some(n=>n.scheduleId===t);)t=-Math.floor(Math.random()*1e6);return t}function Tj({title:e,professor:t,location:n,color:r="blue",schedule:i,selected:s=!1,timeslotIndex:o,fixed:a=!1,...l}){const{text:c,bgLight:f,bg:p}=lG(r),g=j.useRef(null),{openScheduleModal:y}=fi(),b=Ut(z=>z.schedule),_=s||b.scheduleId===i.scheduleId,C=(z,P,N,B)=>{if(!g.current||a)return;const $=N-z,D=(B-P)*sp;g.current.style.setProperty("transform",`translate(calc(100% * ${$}), ${D}px)`)},E=(z,P,N,B)=>{if(!g.current||a)return;i.scheduleType==="official"&&g.current.style.setProperty("transform","");const $={...i,timeSlots:i.timeSlots.map((D,J)=>J!==o?D:_G(D,N-z,B-P))};y($),g.current.style.setProperty("transform","")},R=z=>{(z.key==="Enter"||z.key===" ")&&(z.preventDefault(),z.stopPropagation(),E(0,0,0,0))},{dragging:M,onMouseDown:U}=bj(C,E);return h.jsxs("div",{ref:g,className:`flex absolute ${f} rounded-l-xs cursor-pointer hover:z-20 focus:z-20 `+l.className,onMouseDown:U,onKeyDown:R,tabIndex:0,...l,children:[h.jsx("div",{className:`w-[2px] h-full sm:w-1 sm:rounded-xs  ${p}`}),h.jsxs("div",{className:"flex-auto sm:p-2 p-[1px] "+(_?"animate-pulse":"")+(M?"opacity-50":""),children:[h.jsx("h3",{className:`${c} font-semibold text-[9px] sm:text-sm`,children:e}),h.jsxs("p",{className:"sm:text-xs text-[7px] text-gray-500",children:[t," ",n]})]})]})}function lG(e){switch(e){case"rose":return{text:"text-rose-500",bgLight:"bg-rose-50",bg:"bg-rose-500"};case"amber":return{text:"text-amber-500",bgLight:"bg-amber-50",bg:"bg-amber-500"};case"green":return{text:"text-green-500",bgLight:"bg-green-50",bg:"bg-green-500"};case"emerald":return{text:"text-emerald-500",bgLight:"bg-emerald-50",bg:"bg-emerald-500"};case"blue":return{text:"text-blue-500",bgLight:"bg-blue-50",bg:"bg-blue-500"};case"violet":return{text:"text-violet-500",bgLight:"bg-violet-50",bg:"bg-violet-500"};default:return{text:"text-gray-500",bgLight:"bg-gray-50",bg:"bg-gray-500"}}}function uG({dayOfWeeks:e}){const t=ka(),n=Ut(g=>g.schedule),r=Ut(g=>g.options),{data:i}=po(t);if(!i||n.scheduleId>0||!n.timeSlots||n.timeSlots.length<=0)return null;let s=Number.parseInt(r.rowNames[0].replace("",""));Number.isNaN(s)&&(s=9);const o=new Wi(n,i).toUiData(),l=new df(o.timeSlots).toUiData(s).filter(({dayOfWeek:g})=>g===e);if(!l)return null;const{subjectName:c,professorName:f,location:p}=o;return l.map(({height:g,top:y,left:b,right:_},C)=>h.jsx(cG,{timeslotIndex:C,title:c??"",professor:f??"",location:p??"",schedule:n,style:{height:g,top:y,left:b,right:_}},`wire-schedule-${e}-${C}`))}function cG({title:e,professor:t,location:n,...r}){const{timeslotIndex:i,...s}=r;return h.jsx("div",{className:`flex absolute rounded-md z-20 
      border-violet-500 border-2 md:border-4
      ${r.className}`,style:{...r.style},...s,children:h.jsxs("div",{className:"flex-auto p-2 bg-violet-50  rounded-md animate-pulse",children:[h.jsx("h3",{className:"text-violet-500 font-semibold  text-[10px] sm:text-sm",children:e}),h.jsxs("p",{className:" sm:text-xs text-[8px]  text-gray-500",children:[t," ",n]})]})})}const Nx=()=>new Wi().toUiData(),dG=({dayOfWeeks:e,scheduleTimes:t})=>{const n=t,{setOptimisticSchedule:r,openScheduleModal:i}=fi(),{getTimeslot:s}=oG(),o=(f,p,g,y)=>{const{startTime:b,endTime:_}=s(p,y,1);r({...Nx(),timeSlots:[{dayOfWeeks:e,startTime:b,endTime:_}]})},a=(f,p,g,y)=>{const{startTime:b,endTime:_}=s(p,y,1);i({...Nx(),timeSlots:[{dayOfWeeks:e,startTime:b,endTime:_}]})},l=f=>{(f.key==="Enter"||f.key===" ")&&i({...Nx()})},{onMouseDown:c}=bj(o,a);return h.jsxs("div",{className:"relative flex-auto px-[2px]",tabIndex:0,onMouseDown:c,onKeyDown:l,children:[h.jsx(uG,{dayOfWeeks:e}),n.map(({title:f,professor:p,location:g,color:y,height:b,top:_,left:C,right:E,schedule:R},M)=>h.jsx(Tj,{timeslotIndex:M,title:f,professor:p??"",location:g??"",schedule:R,color:y,style:{height:b,top:_,left:C,right:E}},"schedule-"+M))]})};function fG({schedules:e}){const t=e?.reduce((n,r)=>{if(r.scheduleType!=="official"||!r.tmNum)return n;const i=r.tmNum.split("/").map(s=>{const o=Number(s);return Number.isNaN(o)?0:o});return n.map((s,o)=>s+(i[o]??0))},[0,0,0])??[0,0,0];return h.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500 bg-blue-50 rounded-md p-2 mt-3",children:[h.jsxs("span",{children:[" : ",t[0]??0]}),h.jsxs("span",{children:[": ",t[1]??0]}),h.jsxs("span",{children:[": ",t[2]??0]})]})}const jj=e=>j.createElement("svg",{width:23,height:23,viewBox:"0 0 23 23",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},j.createElement("path",{d:"M10.3669 11.3356L7.94579 9.04443C7.8086 8.9146 7.73766 8.75936 7.733 8.57871C7.72833 8.39807 7.79059 8.23915 7.9198 8.10198C8.049 7.9648 8.20424 7.89386 8.38551 7.88918C8.56678 7.88449 8.7257 7.94676 8.86225 8.07598L11.2834 10.3671L13.5745 7.94599C13.7043 7.80879 13.8596 7.73786 14.0402 7.73319C14.2209 7.72852 14.3798 7.79079 14.517 7.91999C14.6541 8.04919 14.7252 8.20458 14.7302 8.38616C14.7352 8.56774 14.6728 8.7265 14.5429 8.86244L12.2518 11.2836L14.6729 13.5747C14.8101 13.7045 14.8812 13.8599 14.8862 14.0409C14.8912 14.2218 14.8288 14.3806 14.6989 14.5171C14.5691 14.6537 14.4137 14.7248 14.2328 14.7304C14.0518 14.736 13.8931 14.6736 13.7565 14.5431L11.3354 12.252L9.04423 14.6731C8.9144 14.8103 8.75901 14.8814 8.57806 14.8864C8.39711 14.8914 8.23835 14.829 8.10178 14.6991C7.96521 14.5693 7.89428 14.414 7.88898 14.2334C7.88369 14.0528 7.94595 13.8939 8.07578 13.7567L10.3669 11.3356Z",fill:"#6B7280"}));function hG({schedules:e}){const t=sG(e);return h.jsx(Pe,{direction:"flex-col",gap:"gap-2",className:"mt-3",children:t.map(n=>h.jsx(pG,{schedule:n,selected:n.selected},n.scheduleId))})}function pG({schedule:e,selected:t}){const{openScheduleModal:n}=fi(),r=()=>{n(e)};return h.jsxs("div",{className:"h-10 w-full p-4 flex justify-between items-center rounded border "+(t?"bg-blue-100 border-blue-500":"border-gray-200"),children:[h.jsxs(Pe,{gap:"gap-5",children:[h.jsx("p",{children:e.subjectName}),h.jsx("p",{className:"text-stone-400",children:e.professorName})]}),h.jsx(Rr,{"aria-label":"delete",variant:"plain",label:"delete",icon:h.jsx(jj,{className:"w-5 h-5"}),onClick:r})]},e.scheduleId)}const Qy=["","","","","","",""];function mG(e){const t=Ut(a=>a.schedule),n=Ut(a=>a.setOptions),r=[...e??[],t],i=r.reduce((a,l)=>{let c=a;return l.timeSlots?(l.timeSlots.some(f=>f.dayOfWeeks==="")&&(c=Math.max(c,6)),l.timeSlots.some(f=>f.dayOfWeeks==="")&&(c=Math.max(c,7)),c):a},5),{minTime:s,maxTime:o}=r.reduce((a,l)=>(l.timeSlots.forEach(c=>{const f=Number.parseInt(c.startTime.split(":")[0]),p=Number.parseInt(c.endTime.split(":")[0]);Number.isNaN(f)||Number.isNaN(p)||(a.minTime=Math.min(a.minTime,f),a.maxTime=Math.max(a.maxTime,p))}),a),{minTime:9,maxTime:20});return j.useEffect(()=>{n({rowNames:Array.from({length:o-s+1},(a,l)=>`${s+l}`),minTime:s,maxTime:o,rows:o-s+1})},[s,o]),j.useEffect(()=>{n({colNames:Qy.slice(0,i),cols:i})},[i]),{}}let Rx=null;const gG=e=>{const t=Ut(r=>r.setOptions),n=()=>{if(!e.current)return;const r=e.current.getBoundingClientRect();t({width:r.width,height:r.height,tableX:r.left+window.pageXOffset,tableY:r.top+window.pageYOffset}),Rx=null};j.useEffect(()=>{if(!e.current)return;const r=()=>{Rx||(Rx=setTimeout(n,300),t({isMobile:window.innerWidth<768}))};return r(),window.addEventListener("resize",r),()=>{window.removeEventListener("resize",r)}},[e])};function yG(e){const t=j.useRef(!1),n=W0(r=>r.setBanner);j.useEffect(()=>{e?.some(i=>i.isDeleted)&&!t.current&&(t.current=!0,n("  !    "))},[e])}const sp=40;function vG({schedules:e}){const t=j.useRef(null),n=Ut(r=>r.setOptions);return j.useEffect(()=>{n({containerRef:t?.current??null})},[t]),h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"bg-white",ref:t,children:[h.jsx(wG,{children:h.jsx(bG,{schedules:e})}),h.jsx(hG,{schedules:e})]}),h.jsx(fG,{schedules:e})]})}const xG=Qy.reduce((e,t)=>(e[t]=[],e),{});function bG({schedules:e}){const{colNames:t,minTime:n}=Ut(i=>i.options),r=kj(e,n)??xG;return yG(e),mG(e),t.map(i=>h.jsx(dG,{scheduleTimes:r[i]??[],dayOfWeeks:i},"day-schedule-"+i))}function wG({rowHeight:e=sp,children:t}){const{colNames:n,rowNames:r}=Ut(i=>i.options);return h.jsx(Ij,{colNames:n,rowNames:r,rowHeight:e,children:t})}class Wi{data;constructor(t,n){if(!t){this.data=this.#t();return}if(t.scheduleType==="official"&&!t.subjectName){this.data=this.#e(t,n);return}this.data=t,this.data.timeSlots||(this.data.timeSlots=[])}#t(){return{scheduleId:-1,scheduleType:"custom",subjectId:null,subjectName:"",professorName:"",location:"",tmNum:"",isDeleted:!1,timeSlots:[]}}#e(t,n){if(!n)throw new TypeError("Subjects must be provided for API to UI conversion");const r=n instanceof Array?n.find(i=>i.subjectId===t.subjectId):n;return{scheduleId:t.scheduleId,scheduleType:t.scheduleType,subjectId:t.subjectId,subjectName:r?.subjectName??"",professorName:r?.professorName??"",location:r?.lesnRoom??"",tmNum:r?.tmNum??"",isDeleted:r?.isDeleted??!1,timeSlots:new df(r?.lesnTime).toApiData()}}toApiData(){const t=this.data;return t.scheduleType==="official"?{scheduleId:t.scheduleId,scheduleType:"official",subjectId:t.subjectId??0,subjectName:null,professorName:null,location:null,timeSlots:[]}:{...t,scheduleType:"custom",subjectId:null}}toUiData(){return this.data}}class df{data;constructor(t){if(!t){this.data=[];return}if(typeof t=="string"){this.data=this.#e(t);return}if(Array.isArray(t)){this.data=t.map(n=>this.#t(n));return}this.data=[this.#t(t)]}#t(t){const[n,r]=t.startTime.split(":"),[i,s]=t.endTime.split(":");return{dayOfWeeks:t.dayOfWeeks,startHour:Number.parseInt(n),startMinute:Number.parseInt(r),endHour:Number.parseInt(i),endMinute:Number.parseInt(s)}}#e(t){const n=/([]+)(\d{1,2}:\d{2})-(\d{1,2}:\d{2})/g,r=[];let i;for(;(i=n.exec(t))!==null;){const s=i[1],o=i[2],a=i[3],l=s.split("");for(const c of l)r.push(this.#t({dayOfWeeks:c,startTime:o,endTime:a}))}return r}validate(){return this.data.every(t=>{const{startHour:n,startMinute:r,endHour:i,endMinute:s}=t;return n<i||n===i&&r<s})}toApiData(){const t=n=>n.toString().padStart(2,"0");return this.data.map(n=>({dayOfWeeks:n.dayOfWeeks,startTime:`${t(n.startHour)}:${t(n.startMinute)}`,endTime:`${t(n.endHour)}:${t(n.endMinute)}`}))}toUiData(t){return this.data.map(({startHour:n,startMinute:r,endHour:i,endMinute:s,dayOfWeeks:o})=>{const a=(n*60+r)/60,l=(i*60+s)/60;return{dayOfWeek:o,depth:0,left:"0px",right:"0px",height:`${(l-a)*sp}px`,top:`${(a-t)*sp}px`}})}}function _G(e,t,n){const{dayOfWeeks:r,startTime:i,endTime:s}=e,[o,a]=i.split(":").map(Number),[l,c]=s.split(":").map(Number),f=Math.min(24,o+a/60+n),p=Math.min(24,l+c/60+n),g=Math.floor(f),y=Math.round((f-g)*60),b=Math.floor(p),_=Math.round((p-b)*60),C=["","","","","","",""],R=(C.indexOf(r)+t+C.length)%C.length;return{dayOfWeeks:C[R],startTime:`${g.toString().padStart(2,"0")}:${y.toString().padStart(2,"0")}`,endTime:`${b.toString().padStart(2,"0")}:${_.toString().padStart(2,"0")}`}}var cr=(e=>(e.NONE="none",e.CREATE="create",e.EDIT="edit",e.VIEW="view",e))(cr||{});const Ut=di(e=>({currentTimetable:null,options:{containerRef:null,timetableRef:null,colNames:Qy.slice(0,5),rowNames:Array.from({length:12},(t,n)=>`${n+9}`),minTime:9,maxTime:20,tableX:0,tableY:0,width:0,height:0,cols:5,rows:11,isMobile:!1},mode:"none",schedule:new Wi().toUiData(),pickTimetable:t=>{e(n=>({...n,currentTimetable:t}))},setOptions:t=>{e(n=>({...n,options:{...n.options,...t}}))},changeScheduleData:(t,n)=>{e(r=>({...r,mode:n??r.mode,schedule:{...r.schedule,...t}}))}}));function Ij({rowHeight:e=sp,colNames:t,rowNames:n,children:r}){const i=j.useRef(null),{isMobile:s}=Ut(l=>l.options);gG(i);const{headerWidth:o,headerHeight:a}=s?{headerWidth:20,headerHeight:20}:{headerWidth:60,headerHeight:40};return h.jsxs("div",{className:"relative w-full bg-white",children:[h.jsxs("div",{className:"flex bg-gray-50 rounded-t-md",style:{height:`${a}px`},children:[h.jsx("div",{className:"flex items-center justify-center font-semibold text-gray-700",style:{width:`${o}px`}}),t.map((l,c)=>h.jsx("div",{className:"flex flex-auto items-center justify-center font-semibold text-gray-400 text-[10px] md:text-sm",children:l},"timetable-grid-header-"+c))]}),h.jsx("div",{className:"flex absolute inset-0",style:{top:`${a}px`,left:`${o}px`},children:t.map((l,c)=>h.jsx("div",{className:"flex-auto border-l border-gray-200 h-full"},"timetable-grid-col-"+c))}),n.map((l,c)=>h.jsx("div",{className:"border-b border-gray-200",style:{height:`${e}px`},children:h.jsx("span",{className:"flex items-center justify-center h-full text-gray-400 w-[20px] md:w-[60px] text-[10px] md:text-sm",children:l})},"timetable-grid-row-"+c)),h.jsx("div",{id:"timetable",ref:i,className:"absolute inset-0 flex z-10",style:{top:`${a}px`,left:`${o}px`},children:r})]})}const h4=["","","","",""],SG=Array.from({length:5},(e,t)=>`${t+9}`),CG=[{scheduleId:"1",scheduleType:"custom",subjectId:null,subjectName:"",professorName:"",location:"B209",tmNum:"3/1/0",isDeleted:!1,timeSlots:[{dayOfWeeks:"",startTime:"09:00",endTime:"10:30"},{dayOfWeeks:"",startTime:"09:00",endTime:"10:30"}]},{scheduleId:"2",scheduleType:"custom",subjectId:null,subjectName:"",professorName:"",location:"B209",tmNum:"3/1/0",isDeleted:!1,timeSlots:[{dayOfWeeks:"",startTime:"11:00",endTime:"12:30"},{dayOfWeeks:"",startTime:"11:00",endTime:"12:30"}]},{scheduleId:3,scheduleType:"custom",subjectId:null,subjectName:"",professorName:"",location:"B209",tmNum:"3/1/0",isDeleted:!1,timeSlots:[{dayOfWeeks:"",startTime:"12:00",endTime:"13:30"},{dayOfWeeks:"",startTime:"12:00",endTime:"13:30"}]}];function EG(){const e=kj(CG,9);return h.jsxs(dc,{children:[h.jsx(qy,{title:"",subtitle:"     ",href:"/timetable"}),h.jsx(Yn,{className:"mt-6",children:h.jsx(Ij,{colNames:h4,rowNames:SG,children:h4.map(t=>h.jsx(kG,{data:e?e[t]:[]},t))})})]})}function kG({data:e}){return e?h.jsx("div",{className:"relative flex-auto px-[2px]",children:e.map(({title:t,professor:n,location:r,color:i,height:s,top:o,left:a,right:l,schedule:c},f)=>h.jsx(Tj,{timeslotIndex:f,title:t,professor:n??"",location:r??"",schedule:c,color:i,style:{height:s,top:o,left:a,right:l},selected:!1,fixed:!0},"schedule-"+f))}):h.jsx("div",{className:"relative flex-auto px-[2px]"})}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Lp(e){return e+.5|0}const gl=(e,t,n)=>Math.max(Math.min(e,n),t);function Ch(e){return gl(Lp(e*2.55),0,255)}function _l(e){return gl(Lp(e*255),0,255)}function da(e){return gl(Lp(e/2.55)/100,0,1)}function p4(e){return gl(Lp(e*100),0,100)}const ks={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Tw=[..."0123456789ABCDEF"],TG=e=>Tw[e&15],jG=e=>Tw[(e&240)>>4]+Tw[e&15],Eg=e=>(e&240)>>4===(e&15),IG=e=>Eg(e.r)&&Eg(e.g)&&Eg(e.b)&&Eg(e.a);function NG(e){var t=e.length,n;return e[0]==="#"&&(t===4||t===5?n={r:255&ks[e[1]]*17,g:255&ks[e[2]]*17,b:255&ks[e[3]]*17,a:t===5?ks[e[4]]*17:255}:(t===7||t===9)&&(n={r:ks[e[1]]<<4|ks[e[2]],g:ks[e[3]]<<4|ks[e[4]],b:ks[e[5]]<<4|ks[e[6]],a:t===9?ks[e[7]]<<4|ks[e[8]]:255})),n}const RG=(e,t)=>e<255?t(e):"";function PG(e){var t=IG(e)?TG:jG;return e?"#"+t(e.r)+t(e.g)+t(e.b)+RG(e.a,t):void 0}const OG=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Nj(e,t,n){const r=t*Math.min(n,1-n),i=(s,o=(s+e/30)%12)=>n-r*Math.max(Math.min(o-3,9-o,1),-1);return[i(0),i(8),i(4)]}function MG(e,t,n){const r=(i,s=(i+e/60)%6)=>n-n*t*Math.max(Math.min(s,4-s,1),0);return[r(5),r(3),r(1)]}function AG(e,t,n){const r=Nj(e,1,.5);let i;for(t+n>1&&(i=1/(t+n),t*=i,n*=i),i=0;i<3;i++)r[i]*=1-t-n,r[i]+=t;return r}function DG(e,t,n,r,i){return e===i?(t-n)/r+(t<n?6:0):t===i?(n-e)/r+2:(e-t)/r+4}function I_(e){const n=e.r/255,r=e.g/255,i=e.b/255,s=Math.max(n,r,i),o=Math.min(n,r,i),a=(s+o)/2;let l,c,f;return s!==o&&(f=s-o,c=a>.5?f/(2-s-o):f/(s+o),l=DG(n,r,i,f,s),l=l*60+.5),[l|0,c||0,a]}function N_(e,t,n,r){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,r)).map(_l)}function R_(e,t,n){return N_(Nj,e,t,n)}function LG(e,t,n){return N_(AG,e,t,n)}function FG(e,t,n){return N_(MG,e,t,n)}function Rj(e){return(e%360+360)%360}function BG(e){const t=OG.exec(e);let n=255,r;if(!t)return;t[5]!==r&&(n=t[6]?Ch(+t[5]):_l(+t[5]));const i=Rj(+t[2]),s=+t[3]/100,o=+t[4]/100;return t[1]==="hwb"?r=LG(i,s,o):t[1]==="hsv"?r=FG(i,s,o):r=R_(i,s,o),{r:r[0],g:r[1],b:r[2],a:n}}function zG(e,t){var n=I_(e);n[0]=Rj(n[0]+t),n=R_(n),e.r=n[0],e.g=n[1],e.b=n[2]}function $G(e){if(!e)return;const t=I_(e),n=t[0],r=p4(t[1]),i=p4(t[2]);return e.a<255?`hsla(${n}, ${r}%, ${i}%, ${da(e.a)})`:`hsl(${n}, ${r}%, ${i}%)`}const m4={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},g4={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function UG(){const e={},t=Object.keys(g4),n=Object.keys(m4);let r,i,s,o,a;for(r=0;r<t.length;r++){for(o=a=t[r],i=0;i<n.length;i++)s=n[i],a=a.replace(s,m4[s]);s=parseInt(g4[o],16),e[a]=[s>>16&255,s>>8&255,s&255]}return e}let kg;function HG(e){kg||(kg=UG(),kg.transparent=[0,0,0,0]);const t=kg[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const WG=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function VG(e){const t=WG.exec(e);let n=255,r,i,s;if(t){if(t[7]!==r){const o=+t[7];n=t[8]?Ch(o):gl(o*255,0,255)}return r=+t[1],i=+t[3],s=+t[5],r=255&(t[2]?Ch(r):gl(r,0,255)),i=255&(t[4]?Ch(i):gl(i,0,255)),s=255&(t[6]?Ch(s):gl(s,0,255)),{r,g:i,b:s,a:n}}}function qG(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${da(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}const Px=e=>e<=.0031308?e*12.92:Math.pow(e,1/2.4)*1.055-.055,td=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function QG(e,t,n){const r=td(da(e.r)),i=td(da(e.g)),s=td(da(e.b));return{r:_l(Px(r+n*(td(da(t.r))-r))),g:_l(Px(i+n*(td(da(t.g))-i))),b:_l(Px(s+n*(td(da(t.b))-s))),a:e.a+n*(t.a-e.a)}}function Tg(e,t,n){if(e){let r=I_(e);r[t]=Math.max(0,Math.min(r[t]+r[t]*n,t===0?360:1)),r=R_(r),e.r=r[0],e.g=r[1],e.b=r[2]}}function Pj(e,t){return e&&Object.assign(t||{},e)}function y4(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=_l(e[3]))):(t=Pj(e,{r:0,g:0,b:0,a:1}),t.a=_l(t.a)),t}function KG(e){return e.charAt(0)==="r"?VG(e):BG(e)}class op{constructor(t){if(t instanceof op)return t;const n=typeof t;let r;n==="object"?r=y4(t):n==="string"&&(r=NG(t)||HG(t)||KG(t)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var t=Pj(this._rgb);return t&&(t.a=da(t.a)),t}set rgb(t){this._rgb=y4(t)}rgbString(){return this._valid?qG(this._rgb):void 0}hexString(){return this._valid?PG(this._rgb):void 0}hslString(){return this._valid?$G(this._rgb):void 0}mix(t,n){if(t){const r=this.rgb,i=t.rgb;let s;const o=n===s?.5:n,a=2*o-1,l=r.a-i.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;s=1-c,r.r=255&c*r.r+s*i.r+.5,r.g=255&c*r.g+s*i.g+.5,r.b=255&c*r.b+s*i.b+.5,r.a=o*r.a+(1-o)*i.a,this.rgb=r}return this}interpolate(t,n){return t&&(this._rgb=QG(this._rgb,t._rgb,n)),this}clone(){return new op(this.rgb)}alpha(t){return this._rgb.a=_l(t),this}clearer(t){const n=this._rgb;return n.a*=1-t,this}greyscale(){const t=this._rgb,n=Lp(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=n,this}opaquer(t){const n=this._rgb;return n.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Tg(this._rgb,2,t),this}darken(t){return Tg(this._rgb,2,-t),this}saturate(t){return Tg(this._rgb,1,t),this}desaturate(t){return Tg(this._rgb,1,-t),this}rotate(t){return zG(this._rgb,t),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function ta(){}const GG=(()=>{let e=0;return()=>e++})();function Jt(e){return e==null}function Hn(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function en(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}function sr(e){return(typeof e=="number"||e instanceof Number)&&isFinite(+e)}function os(e,t){return sr(e)?e:t}function jt(e,t){return typeof e>"u"?t:e}const YG=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100:+e/t,Oj=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100*t:+e;function Rn(e,t,n){if(e&&typeof e.call=="function")return e.apply(n,t)}function vn(e,t,n,r){let i,s,o;if(Hn(e))for(s=e.length,i=0;i<s;i++)t.call(n,e[i],i);else if(en(e))for(o=Object.keys(e),s=o.length,i=0;i<s;i++)t.call(n,e[o[i]],o[i])}function X0(e,t){let n,r,i,s;if(!e||!t||e.length!==t.length)return!1;for(n=0,r=e.length;n<r;++n)if(i=e[n],s=t[n],i.datasetIndex!==s.datasetIndex||i.index!==s.index)return!1;return!0}function J0(e){if(Hn(e))return e.map(J0);if(en(e)){const t=Object.create(null),n=Object.keys(e),r=n.length;let i=0;for(;i<r;++i)t[n[i]]=J0(e[n[i]]);return t}return e}function Mj(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}function XG(e,t,n,r){if(!Mj(e))return;const i=t[e],s=n[e];en(i)&&en(s)?ap(i,s,r):t[e]=J0(s)}function ap(e,t,n){const r=Hn(t)?t:[t],i=r.length;if(!en(e))return e;n=n||{};const s=n.merger||XG;let o;for(let a=0;a<i;++a){if(o=r[a],!en(o))continue;const l=Object.keys(o);for(let c=0,f=l.length;c<f;++c)s(l[c],e,o,n)}return e}function Fh(e,t){return ap(e,t,{merger:JG})}function JG(e,t,n){if(!Mj(e))return;const r=t[e],i=n[e];en(r)&&en(i)?Fh(r,i):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=J0(i))}const v4={"":e=>e,x:e=>e.x,y:e=>e.y};function ZG(e){const t=e.split("."),n=[];let r="";for(const i of t)r+=i,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}function eY(e){const t=ZG(e);return n=>{for(const r of t){if(r==="")break;n=n&&n[r]}return n}}function Nl(e,t){return(v4[t]||(v4[t]=eY(t)))(e)}function P_(e){return e.charAt(0).toUpperCase()+e.slice(1)}const lp=e=>typeof e<"u",Rl=e=>typeof e=="function",x4=(e,t)=>{if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0};function tY(e){return e.type==="mouseup"||e.type==="click"||e.type==="contextmenu"}const hn=Math.PI,Dn=2*hn,nY=Dn+hn,Z0=Number.POSITIVE_INFINITY,rY=hn/180,fr=hn/2,wu=hn/4,b4=hn*2/3,yl=Math.log10,Po=Math.sign;function Bh(e,t,n){return Math.abs(e-t)<n}function w4(e){const t=Math.round(e);e=Bh(e,t,e/1e3)?t:e;const n=Math.pow(10,Math.floor(yl(e))),r=e/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function iY(e){const t=[],n=Math.sqrt(e);let r;for(r=1;r<n;r++)e%r===0&&(t.push(r),t.push(e/r));return n===(n|0)&&t.push(n),t.sort((i,s)=>i-s).pop(),t}function sY(e){return typeof e=="symbol"||typeof e=="object"&&e!==null&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}function Zu(e){return!sY(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function oY(e,t){const n=Math.round(e);return n-t<=e&&n+t>=e}function Aj(e,t,n){let r,i,s;for(r=0,i=e.length;r<i;r++)s=e[r][n],isNaN(s)||(t.min=Math.min(t.min,s),t.max=Math.max(t.max,s))}function so(e){return e*(hn/180)}function O_(e){return e*(180/hn)}function _4(e){if(!sr(e))return;let t=1,n=0;for(;Math.round(e*t)/t!==e;)t*=10,n++;return n}function Dj(e,t){const n=t.x-e.x,r=t.y-e.y,i=Math.sqrt(n*n+r*r);let s=Math.atan2(r,n);return s<-.5*hn&&(s+=Dn),{angle:s,distance:i}}function jw(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function aY(e,t){return(e-t+nY)%Dn-hn}function oi(e){return(e%Dn+Dn)%Dn}function up(e,t,n,r){const i=oi(e),s=oi(t),o=oi(n),a=oi(s-i),l=oi(o-i),c=oi(i-s),f=oi(i-o);return i===s||i===o||r&&s===o||a>l&&c<f}function $r(e,t,n){return Math.max(t,Math.min(n,e))}function lY(e){return $r(e,-32768,32767)}function ha(e,t,n,r=1e-6){return e>=Math.min(t,n)-r&&e<=Math.max(t,n)+r}function M_(e,t,n){n=n||(o=>e[o]<t);let r=e.length-1,i=0,s;for(;r-i>1;)s=i+r>>1,n(s)?i=s:r=s;return{lo:i,hi:r}}const pa=(e,t,n,r)=>M_(e,n,r?i=>{const s=e[i][t];return s<n||s===n&&e[i+1][t]===n}:i=>e[i][t]<n),uY=(e,t,n)=>M_(e,n,r=>e[r][t]>=n);function cY(e,t,n){let r=0,i=e.length;for(;r<i&&e[r]<t;)r++;for(;i>r&&e[i-1]>n;)i--;return r>0||i<e.length?e.slice(r,i):e}const Lj=["push","pop","shift","splice","unshift"];function dY(e,t){if(e._chartjs){e._chartjs.listeners.push(t);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),Lj.forEach(n=>{const r="_onData"+P_(n),i=e[n];Object.defineProperty(e,n,{configurable:!0,enumerable:!1,value(...s){const o=i.apply(this,s);return e._chartjs.listeners.forEach(a=>{typeof a[r]=="function"&&a[r](...s)}),o}})})}function S4(e,t){const n=e._chartjs;if(!n)return;const r=n.listeners,i=r.indexOf(t);i!==-1&&r.splice(i,1),!(r.length>0)&&(Lj.forEach(s=>{delete e[s]}),delete e._chartjs)}function Fj(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const Bj=function(){return typeof window>"u"?function(e){return e()}:window.requestAnimationFrame}();function zj(e,t){let n=[],r=!1;return function(...i){n=i,r||(r=!0,Bj.call(window,()=>{r=!1,e.apply(t,n)}))}}function fY(e,t){let n;return function(...r){return t?(clearTimeout(n),n=setTimeout(e,t,r)):e.apply(this,r),t}}const A_=e=>e==="start"?"left":e==="end"?"right":"center",ii=(e,t,n)=>e==="start"?t:e==="end"?n:(t+n)/2,hY=(e,t,n,r)=>e===(r?"left":"right")?n:e==="center"?(t+n)/2:t;function $j(e,t,n){const r=t.length;let i=0,s=r;if(e._sorted){const{iScale:o,vScale:a,_parsed:l}=e,c=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null,f=o.axis,{min:p,max:g,minDefined:y,maxDefined:b}=o.getUserBounds();if(y){if(i=Math.min(pa(l,f,p).lo,n?r:pa(t,f,o.getPixelForValue(p)).lo),c){const _=l.slice(0,i+1).reverse().findIndex(C=>!Jt(C[a.axis]));i-=Math.max(0,_)}i=$r(i,0,r-1)}if(b){let _=Math.max(pa(l,o.axis,g,!0).hi+1,n?0:pa(t,f,o.getPixelForValue(g),!0).hi+1);if(c){const C=l.slice(_-1).findIndex(E=>!Jt(E[a.axis]));_+=Math.max(0,C)}s=$r(_,i,r)-i}else s=r-i}return{start:i,count:s}}function Uj(e){const{xScale:t,yScale:n,_scaleRanges:r}=e,i={xmin:t.min,xmax:t.max,ymin:n.min,ymax:n.max};if(!r)return e._scaleRanges=i,!0;const s=r.xmin!==t.min||r.xmax!==t.max||r.ymin!==n.min||r.ymax!==n.max;return Object.assign(r,i),s}const jg=e=>e===0||e===1,C4=(e,t,n)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-t)*Dn/n)),E4=(e,t,n)=>Math.pow(2,-10*e)*Math.sin((e-t)*Dn/n)+1,zh={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*fr)+1,easeOutSine:e=>Math.sin(e*fr),easeInOutSine:e=>-.5*(Math.cos(hn*e)-1),easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>jg(e)?e:e<.5?.5*Math.pow(2,10*(e*2-1)):.5*(-Math.pow(2,-10*(e*2-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>jg(e)?e:C4(e,.075,.3),easeOutElastic:e=>jg(e)?e:E4(e,.075,.3),easeInOutElastic(e){return jg(e)?e:e<.5?.5*C4(e*2,.1125,.45):.5+.5*E4(e*2-1,.1125,.45)},easeInBack(e){return e*e*((1.70158+1)*e-1.70158)},easeOutBack(e){return(e-=1)*e*((1.70158+1)*e+1.70158)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:e=>1-zh.easeOutBounce(1-e),easeOutBounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:e=>e<.5?zh.easeInBounce(e*2)*.5:zh.easeOutBounce(e*2-1)*.5+.5};function D_(e){if(e&&typeof e=="object"){const t=e.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function k4(e){return D_(e)?e:new op(e)}function Ox(e){return D_(e)?e:new op(e).saturate(.5).darken(.1).hexString()}const pY=["x","y","borderWidth","radius","tension"],mY=["color","borderColor","backgroundColor"];function gY(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),e.set("animations",{colors:{type:"color",properties:mY},numbers:{type:"number",properties:pY}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function yY(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const T4=new Map;function vY(e,t){t=t||{};const n=e+JSON.stringify(t);let r=T4.get(n);return r||(r=new Intl.NumberFormat(e,t),T4.set(n,r)),r}function Fp(e,t,n){return vY(t,n).format(e)}const Hj={values(e){return Hn(e)?e:""+e},numeric(e,t,n){if(e===0)return"0";const r=this.chart.options.locale;let i,s=e;if(n.length>1){const c=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(c<1e-4||c>1e15)&&(i="scientific"),s=xY(e,n)}const o=yl(Math.abs(s)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:i,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),Fp(e,r,l)},logarithmic(e,t,n){if(e===0)return"0";const r=n[t].significand||e/Math.pow(10,Math.floor(yl(e)));return[1,2,3,5,10,15].includes(r)||t>.8*n.length?Hj.numeric.call(this,e,t,n):""}};function xY(e,t){let n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(n)>=1&&e!==Math.floor(e)&&(n=e-Math.floor(e)),n}var Ky={formatters:Hj};function bY(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,n)=>n.lineWidth,tickColor:(t,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Ky.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const ec=Object.create(null),Iw=Object.create(null);function $h(e,t){if(!t)return e;const n=t.split(".");for(let r=0,i=n.length;r<i;++r){const s=n[r];e=e[s]||(e[s]=Object.create(null))}return e}function Mx(e,t,n){return typeof t=="string"?ap($h(e,t),n):ap($h(e,""),t)}class wY{constructor(t,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,i)=>Ox(i.backgroundColor),this.hoverBorderColor=(r,i)=>Ox(i.borderColor),this.hoverColor=(r,i)=>Ox(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(n)}set(t,n){return Mx(this,t,n)}get(t){return $h(this,t)}describe(t,n){return Mx(Iw,t,n)}override(t,n){return Mx(ec,t,n)}route(t,n,r,i){const s=$h(this,t),o=$h(this,r),a="_"+n;Object.defineProperties(s,{[a]:{value:s[n],writable:!0},[n]:{enumerable:!0,get(){const l=this[a],c=o[i];return en(l)?Object.assign({},c,l):jt(l,c)},set(l){this[a]=l}}})}apply(t){t.forEach(n=>n(this))}}var Wn=new wY({_scriptable:e=>!e.startsWith("on"),_indexable:e=>e!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[gY,yY,bY]);function _Y(e){return!e||Jt(e.size)||Jt(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function ey(e,t,n,r,i){let s=t[i];return s||(s=t[i]=e.measureText(i).width,n.push(i)),s>r&&(r=s),r}function SY(e,t,n,r){r=r||{};let i=r.data=r.data||{},s=r.garbageCollect=r.garbageCollect||[];r.font!==t&&(i=r.data={},s=r.garbageCollect=[],r.font=t),e.save(),e.font=t;let o=0;const a=n.length;let l,c,f,p,g;for(l=0;l<a;l++)if(p=n[l],p!=null&&!Hn(p))o=ey(e,i,s,o,p);else if(Hn(p))for(c=0,f=p.length;c<f;c++)g=p[c],g!=null&&!Hn(g)&&(o=ey(e,i,s,o,g));e.restore();const y=s.length/2;if(y>n.length){for(l=0;l<y;l++)delete i[s[l]];s.splice(0,y)}return o}function _u(e,t,n){const r=e.currentDevicePixelRatio,i=n!==0?Math.max(n/2,.5):0;return Math.round((t-i)*r)/r+i}function j4(e,t){!t&&!e||(t=t||e.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function Nw(e,t,n,r){Wj(e,t,n,r,null)}function Wj(e,t,n,r,i){let s,o,a,l,c,f,p,g;const y=t.pointStyle,b=t.rotation,_=t.radius;let C=(b||0)*rY;if(y&&typeof y=="object"&&(s=y.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){e.save(),e.translate(n,r),e.rotate(C),e.drawImage(y,-y.width/2,-y.height/2,y.width,y.height),e.restore();return}if(!(isNaN(_)||_<=0)){switch(e.beginPath(),y){default:i?e.ellipse(n,r,i/2,_,0,0,Dn):e.arc(n,r,_,0,Dn),e.closePath();break;case"triangle":f=i?i/2:_,e.moveTo(n+Math.sin(C)*f,r-Math.cos(C)*_),C+=b4,e.lineTo(n+Math.sin(C)*f,r-Math.cos(C)*_),C+=b4,e.lineTo(n+Math.sin(C)*f,r-Math.cos(C)*_),e.closePath();break;case"rectRounded":c=_*.516,l=_-c,o=Math.cos(C+wu)*l,p=Math.cos(C+wu)*(i?i/2-c:l),a=Math.sin(C+wu)*l,g=Math.sin(C+wu)*(i?i/2-c:l),e.arc(n-p,r-a,c,C-hn,C-fr),e.arc(n+g,r-o,c,C-fr,C),e.arc(n+p,r+a,c,C,C+fr),e.arc(n-g,r+o,c,C+fr,C+hn),e.closePath();break;case"rect":if(!b){l=Math.SQRT1_2*_,f=i?i/2:l,e.rect(n-f,r-l,2*f,2*l);break}C+=wu;case"rectRot":p=Math.cos(C)*(i?i/2:_),o=Math.cos(C)*_,a=Math.sin(C)*_,g=Math.sin(C)*(i?i/2:_),e.moveTo(n-p,r-a),e.lineTo(n+g,r-o),e.lineTo(n+p,r+a),e.lineTo(n-g,r+o),e.closePath();break;case"crossRot":C+=wu;case"cross":p=Math.cos(C)*(i?i/2:_),o=Math.cos(C)*_,a=Math.sin(C)*_,g=Math.sin(C)*(i?i/2:_),e.moveTo(n-p,r-a),e.lineTo(n+p,r+a),e.moveTo(n+g,r-o),e.lineTo(n-g,r+o);break;case"star":p=Math.cos(C)*(i?i/2:_),o=Math.cos(C)*_,a=Math.sin(C)*_,g=Math.sin(C)*(i?i/2:_),e.moveTo(n-p,r-a),e.lineTo(n+p,r+a),e.moveTo(n+g,r-o),e.lineTo(n-g,r+o),C+=wu,p=Math.cos(C)*(i?i/2:_),o=Math.cos(C)*_,a=Math.sin(C)*_,g=Math.sin(C)*(i?i/2:_),e.moveTo(n-p,r-a),e.lineTo(n+p,r+a),e.moveTo(n+g,r-o),e.lineTo(n-g,r+o);break;case"line":o=i?i/2:Math.cos(C)*_,a=Math.sin(C)*_,e.moveTo(n-o,r-a),e.lineTo(n+o,r+a);break;case"dash":e.moveTo(n,r),e.lineTo(n+Math.cos(C)*(i?i/2:_),r+Math.sin(C)*_);break;case!1:e.closePath();break}e.fill(),t.borderWidth>0&&e.stroke()}}function ma(e,t,n){return n=n||.5,!t||e&&e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n}function Gy(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function Yy(e){e.restore()}function CY(e,t,n,r,i){if(!t)return e.lineTo(n.x,n.y);if(i==="middle"){const s=(t.x+n.x)/2;e.lineTo(s,t.y),e.lineTo(s,n.y)}else i==="after"!=!!r?e.lineTo(t.x,n.y):e.lineTo(n.x,t.y);e.lineTo(n.x,n.y)}function EY(e,t,n,r){if(!t)return e.lineTo(n.x,n.y);e.bezierCurveTo(r?t.cp1x:t.cp2x,r?t.cp1y:t.cp2y,r?n.cp2x:n.cp1x,r?n.cp2y:n.cp1y,n.x,n.y)}function kY(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),Jt(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}function TY(e,t,n,r,i){if(i.strikethrough||i.underline){const s=e.measureText(r),o=t-s.actualBoundingBoxLeft,a=t+s.actualBoundingBoxRight,l=n-s.actualBoundingBoxAscent,c=n+s.actualBoundingBoxDescent,f=i.strikethrough?(l+c)/2:c;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=i.decorationWidth||2,e.moveTo(o,f),e.lineTo(a,f),e.stroke()}}function jY(e,t){const n=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=n}function tc(e,t,n,r,i,s={}){const o=Hn(t)?t:[t],a=s.strokeWidth>0&&s.strokeColor!=="";let l,c;for(e.save(),e.font=i.string,kY(e,s),l=0;l<o.length;++l)c=o[l],s.backdrop&&jY(e,s.backdrop),a&&(s.strokeColor&&(e.strokeStyle=s.strokeColor),Jt(s.strokeWidth)||(e.lineWidth=s.strokeWidth),e.strokeText(c,n,r,s.maxWidth)),e.fillText(c,n,r,s.maxWidth),TY(e,n,r,c,s),r+=Number(i.lineHeight);e.restore()}function cp(e,t){const{x:n,y:r,w:i,h:s,radius:o}=t;e.arc(n+o.topLeft,r+o.topLeft,o.topLeft,1.5*hn,hn,!0),e.lineTo(n,r+s-o.bottomLeft),e.arc(n+o.bottomLeft,r+s-o.bottomLeft,o.bottomLeft,hn,fr,!0),e.lineTo(n+i-o.bottomRight,r+s),e.arc(n+i-o.bottomRight,r+s-o.bottomRight,o.bottomRight,fr,0,!0),e.lineTo(n+i,r+o.topRight),e.arc(n+i-o.topRight,r+o.topRight,o.topRight,0,-fr,!0),e.lineTo(n+o.topLeft,r)}const IY=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,NY=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function RY(e,t){const n=(""+e).match(IY);if(!n||n[1]==="normal")return t*1.2;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100;break}return t*e}const PY=e=>+e||0;function L_(e,t){const n={},r=en(t),i=r?Object.keys(t):t,s=en(e)?r?o=>jt(e[o],e[t[o]]):o=>e[o]:()=>e;for(const o of i)n[o]=PY(s(o));return n}function Vj(e){return L_(e,{top:"y",right:"x",bottom:"y",left:"x"})}function Qu(e){return L_(e,["topLeft","topRight","bottomLeft","bottomRight"])}function ci(e){const t=Vj(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function Nr(e,t){e=e||{},t=t||Wn.font;let n=jt(e.size,t.size);typeof n=="string"&&(n=parseInt(n,10));let r=jt(e.style,t.style);r&&!(""+r).match(NY)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const i={family:jt(e.family,t.family),lineHeight:RY(jt(e.lineHeight,t.lineHeight),n),size:n,style:r,weight:jt(e.weight,t.weight),string:""};return i.string=_Y(i),i}function Eh(e,t,n,r){let i,s,o;for(i=0,s=e.length;i<s;++i)if(o=e[i],o!==void 0&&o!==void 0)return o}function OY(e,t,n){const{min:r,max:i}=e,s=Oj(t,(i-r)/2),o=(a,l)=>n&&a===0?0:a+l;return{min:o(r,-Math.abs(s)),max:o(i,s)}}function Ul(e,t){return Object.assign(Object.create(e),t)}function F_(e,t=[""],n,r,i=()=>e[0]){const s=n||e;typeof r>"u"&&(r=Gj("_fallback",e));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:s,_fallback:r,_getTarget:i,override:a=>F_([a,...e],t,s,r)};return new Proxy(o,{deleteProperty(a,l){return delete a[l],delete a._keys,delete e[0][l],!0},get(a,l){return Qj(a,l,()=>$Y(l,t,e,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(a,l){return N4(a).includes(l)},ownKeys(a){return N4(a)},set(a,l,c){const f=a._storage||(a._storage=i());return a[l]=f[l]=c,delete a._keys,!0}})}function Gd(e,t,n,r){const i={_cacheable:!1,_proxy:e,_context:t,_subProxy:n,_stack:new Set,_descriptors:qj(e,r),setContext:s=>Gd(e,s,n,r),override:s=>Gd(e.override(s),t,n,r)};return new Proxy(i,{deleteProperty(s,o){return delete s[o],delete e[o],!0},get(s,o,a){return Qj(s,o,()=>AY(s,o,a))},getOwnPropertyDescriptor(s,o){return s._descriptors.allKeys?Reflect.has(e,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,o)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(s,o){return Reflect.has(e,o)},ownKeys(){return Reflect.ownKeys(e)},set(s,o,a){return e[o]=a,delete s[o],!0}})}function qj(e,t={scriptable:!0,indexable:!0}){const{_scriptable:n=t.scriptable,_indexable:r=t.indexable,_allKeys:i=t.allKeys}=e;return{allKeys:i,scriptable:n,indexable:r,isScriptable:Rl(n)?n:()=>n,isIndexable:Rl(r)?r:()=>r}}const MY=(e,t)=>e?e+P_(t):t,B_=(e,t)=>en(t)&&e!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function Qj(e,t,n){if(Object.prototype.hasOwnProperty.call(e,t)||t==="constructor")return e[t];const r=n();return e[t]=r,r}function AY(e,t,n){const{_proxy:r,_context:i,_subProxy:s,_descriptors:o}=e;let a=r[t];return Rl(a)&&o.isScriptable(t)&&(a=DY(t,a,e,n)),Hn(a)&&a.length&&(a=LY(t,a,e,o.isIndexable)),B_(t,a)&&(a=Gd(a,i,s&&s[t],o)),a}function DY(e,t,n,r){const{_proxy:i,_context:s,_subProxy:o,_stack:a}=n;if(a.has(e))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+e);a.add(e);let l=t(s,o||r);return a.delete(e),B_(e,l)&&(l=z_(i._scopes,i,e,l)),l}function LY(e,t,n,r){const{_proxy:i,_context:s,_subProxy:o,_descriptors:a}=n;if(typeof s.index<"u"&&r(e))return t[s.index%t.length];if(en(t[0])){const l=t,c=i._scopes.filter(f=>f!==l);t=[];for(const f of l){const p=z_(c,i,e,f);t.push(Gd(p,s,o&&o[e],a))}}return t}function Kj(e,t,n){return Rl(e)?e(t,n):e}const FY=(e,t)=>e===!0?t:typeof e=="string"?Nl(t,e):void 0;function BY(e,t,n,r,i){for(const s of t){const o=FY(n,s);if(o){e.add(o);const a=Kj(o._fallback,n,i);if(typeof a<"u"&&a!==n&&a!==r)return a}else if(o===!1&&typeof r<"u"&&n!==r)return null}return!1}function z_(e,t,n,r){const i=t._rootScopes,s=Kj(t._fallback,n,r),o=[...e,...i],a=new Set;a.add(r);let l=I4(a,o,n,s||n,r);return l===null||typeof s<"u"&&s!==n&&(l=I4(a,o,s,l,r),l===null)?!1:F_(Array.from(a),[""],i,s,()=>zY(t,n,r))}function I4(e,t,n,r,i){for(;n;)n=BY(e,t,n,r,i);return n}function zY(e,t,n){const r=e._getTarget();t in r||(r[t]={});const i=r[t];return Hn(i)&&en(n)?n:i||{}}function $Y(e,t,n,r){let i;for(const s of t)if(i=Gj(MY(s,e),n),typeof i<"u")return B_(e,i)?z_(n,r,e,i):i}function Gj(e,t){for(const n of t){if(!n)continue;const r=n[e];if(typeof r<"u")return r}}function N4(e){let t=e._keys;return t||(t=e._keys=UY(e._scopes)),t}function UY(e){const t=new Set;for(const n of e)for(const r of Object.keys(n).filter(i=>!i.startsWith("_")))t.add(r);return Array.from(t)}function Yj(e,t,n,r){const{iScale:i}=e,{key:s="r"}=this._parsing,o=new Array(r);let a,l,c,f;for(a=0,l=r;a<l;++a)c=a+n,f=t[c],o[a]={r:i.parse(Nl(f,s),c)};return o}const HY=Number.EPSILON||1e-14,Yd=(e,t)=>t<e.length&&!e[t].skip&&e[t],Xj=e=>e==="x"?"y":"x";function WY(e,t,n,r){const i=e.skip?t:e,s=t,o=n.skip?t:n,a=jw(s,i),l=jw(o,s);let c=a/(a+l),f=l/(a+l);c=isNaN(c)?0:c,f=isNaN(f)?0:f;const p=r*c,g=r*f;return{previous:{x:s.x-p*(o.x-i.x),y:s.y-p*(o.y-i.y)},next:{x:s.x+g*(o.x-i.x),y:s.y+g*(o.y-i.y)}}}function VY(e,t,n){const r=e.length;let i,s,o,a,l,c=Yd(e,0);for(let f=0;f<r-1;++f)if(l=c,c=Yd(e,f+1),!(!l||!c)){if(Bh(t[f],0,HY)){n[f]=n[f+1]=0;continue}i=n[f]/t[f],s=n[f+1]/t[f],a=Math.pow(i,2)+Math.pow(s,2),!(a<=9)&&(o=3/Math.sqrt(a),n[f]=i*o*t[f],n[f+1]=s*o*t[f])}}function qY(e,t,n="x"){const r=Xj(n),i=e.length;let s,o,a,l=Yd(e,0);for(let c=0;c<i;++c){if(o=a,a=l,l=Yd(e,c+1),!a)continue;const f=a[n],p=a[r];o&&(s=(f-o[n])/3,a[`cp1${n}`]=f-s,a[`cp1${r}`]=p-s*t[c]),l&&(s=(l[n]-f)/3,a[`cp2${n}`]=f+s,a[`cp2${r}`]=p+s*t[c])}}function QY(e,t="x"){const n=Xj(t),r=e.length,i=Array(r).fill(0),s=Array(r);let o,a,l,c=Yd(e,0);for(o=0;o<r;++o)if(a=l,l=c,c=Yd(e,o+1),!!l){if(c){const f=c[t]-l[t];i[o]=f!==0?(c[n]-l[n])/f:0}s[o]=a?c?Po(i[o-1])!==Po(i[o])?0:(i[o-1]+i[o])/2:i[o-1]:i[o]}VY(e,i,s),qY(e,s,t)}function Ig(e,t,n){return Math.max(Math.min(e,n),t)}function KY(e,t){let n,r,i,s,o,a=ma(e[0],t);for(n=0,r=e.length;n<r;++n)o=s,s=a,a=n<r-1&&ma(e[n+1],t),s&&(i=e[n],o&&(i.cp1x=Ig(i.cp1x,t.left,t.right),i.cp1y=Ig(i.cp1y,t.top,t.bottom)),a&&(i.cp2x=Ig(i.cp2x,t.left,t.right),i.cp2y=Ig(i.cp2y,t.top,t.bottom)))}function GY(e,t,n,r,i){let s,o,a,l;if(t.spanGaps&&(e=e.filter(c=>!c.skip)),t.cubicInterpolationMode==="monotone")QY(e,i);else{let c=r?e[e.length-1]:e[0];for(s=0,o=e.length;s<o;++s)a=e[s],l=WY(c,a,e[Math.min(s+1,o-(r?0:1))%o],t.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,c=a}t.capBezierPoints&&KY(e,n)}function $_(){return typeof window<"u"&&typeof document<"u"}function U_(e){let t=e.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function ty(e,t,n){let r;return typeof e=="string"?(r=parseInt(e,10),e.indexOf("%")!==-1&&(r=r/100*t.parentNode[n])):r=e,r}const Xy=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);function YY(e,t){return Xy(e).getPropertyValue(t)}const XY=["top","right","bottom","left"];function Ku(e,t,n){const r={};n=n?"-"+n:"";for(let i=0;i<4;i++){const s=XY[i];r[s]=parseFloat(e[t+"-"+s+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const JY=(e,t,n)=>(e>0||t>0)&&(!n||!n.shadowRoot);function ZY(e,t){const n=e.touches,r=n&&n.length?n[0]:e,{offsetX:i,offsetY:s}=r;let o=!1,a,l;if(JY(i,s,e.target))a=i,l=s;else{const c=t.getBoundingClientRect();a=r.clientX-c.left,l=r.clientY-c.top,o=!0}return{x:a,y:l,box:o}}function Nu(e,t){if("native"in e)return e;const{canvas:n,currentDevicePixelRatio:r}=t,i=Xy(n),s=i.boxSizing==="border-box",o=Ku(i,"padding"),a=Ku(i,"border","width"),{x:l,y:c,box:f}=ZY(e,n),p=o.left+(f&&a.left),g=o.top+(f&&a.top);let{width:y,height:b}=t;return s&&(y-=o.width+a.width,b-=o.height+a.height),{x:Math.round((l-p)/y*n.width/r),y:Math.round((c-g)/b*n.height/r)}}function eX(e,t,n){let r,i;if(t===void 0||n===void 0){const s=e&&U_(e);if(!s)t=e.clientWidth,n=e.clientHeight;else{const o=s.getBoundingClientRect(),a=Xy(s),l=Ku(a,"border","width"),c=Ku(a,"padding");t=o.width-c.width-l.width,n=o.height-c.height-l.height,r=ty(a.maxWidth,s,"clientWidth"),i=ty(a.maxHeight,s,"clientHeight")}}return{width:t,height:n,maxWidth:r||Z0,maxHeight:i||Z0}}const Ng=e=>Math.round(e*10)/10;function tX(e,t,n,r){const i=Xy(e),s=Ku(i,"margin"),o=ty(i.maxWidth,e,"clientWidth")||Z0,a=ty(i.maxHeight,e,"clientHeight")||Z0,l=eX(e,t,n);let{width:c,height:f}=l;if(i.boxSizing==="content-box"){const g=Ku(i,"border","width"),y=Ku(i,"padding");c-=y.width+g.width,f-=y.height+g.height}return c=Math.max(0,c-s.width),f=Math.max(0,r?c/r:f-s.height),c=Ng(Math.min(c,o,l.maxWidth)),f=Ng(Math.min(f,a,l.maxHeight)),c&&!f&&(f=Ng(c/2)),(t!==void 0||n!==void 0)&&r&&l.height&&f>l.height&&(f=l.height,c=Ng(Math.floor(f*r))),{width:c,height:f}}function R4(e,t,n){const r=t||1,i=Math.floor(e.height*r),s=Math.floor(e.width*r);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const o=e.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${e.height}px`,o.style.width=`${e.width}px`),e.currentDevicePixelRatio!==r||o.height!==i||o.width!==s?(e.currentDevicePixelRatio=r,o.height=i,o.width=s,e.ctx.setTransform(r,0,0,r,0,0),!0):!1}const nX=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};$_()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return e}();function P4(e,t){const n=YY(e,t),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function Ru(e,t,n,r){return{x:e.x+n*(t.x-e.x),y:e.y+n*(t.y-e.y)}}function rX(e,t,n,r){return{x:e.x+n*(t.x-e.x),y:r==="middle"?n<.5?e.y:t.y:r==="after"?n<1?e.y:t.y:n>0?t.y:e.y}}function iX(e,t,n,r){const i={x:e.cp2x,y:e.cp2y},s={x:t.cp1x,y:t.cp1y},o=Ru(e,i,n),a=Ru(i,s,n),l=Ru(s,t,n),c=Ru(o,a,n),f=Ru(a,l,n);return Ru(c,f,n)}const sX=function(e,t){return{x(n){return e+e+t-n},setWidth(n){t=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,r){return n-r},leftForLtr(n,r){return n-r}}},oX=function(){return{x(e){return e},setWidth(e){},textAlign(e){return e},xPlus(e,t){return e+t},leftForLtr(e,t){return e}}};function Dd(e,t,n){return e?sX(t,n):oX()}function Jj(e,t){let n,r;(t==="ltr"||t==="rtl")&&(n=e.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=r)}function Zj(e,t){t!==void 0&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function eI(e){return e==="angle"?{between:up,compare:aY,normalize:oi}:{between:ha,compare:(t,n)=>t-n,normalize:t=>t}}function O4({start:e,end:t,count:n,loop:r,style:i}){return{start:e%n,end:t%n,loop:r&&(t-e+1)%n===0,style:i}}function aX(e,t,n){const{property:r,start:i,end:s}=n,{between:o,normalize:a}=eI(r),l=t.length;let{start:c,end:f,loop:p}=e,g,y;if(p){for(c+=l,f+=l,g=0,y=l;g<y&&o(a(t[c%l][r]),i,s);++g)c--,f--;c%=l,f%=l}return f<c&&(f+=l),{start:c,end:f,loop:p,style:e.style}}function tI(e,t,n){if(!n)return[e];const{property:r,start:i,end:s}=n,o=t.length,{compare:a,between:l,normalize:c}=eI(r),{start:f,end:p,loop:g,style:y}=aX(e,t,n),b=[];let _=!1,C=null,E,R,M;const U=()=>l(i,M,E)&&a(i,M)!==0,z=()=>a(s,E)===0||l(s,M,E),P=()=>_||U(),N=()=>!_||z();for(let B=f,$=f;B<=p;++B)R=t[B%o],!R.skip&&(E=c(R[r]),E!==M&&(_=l(E,i,s),C===null&&P()&&(C=a(E,i)===0?B:$),C!==null&&N()&&(b.push(O4({start:C,end:B,loop:g,count:o,style:y})),C=null),$=B,M=E));return C!==null&&b.push(O4({start:C,end:p,loop:g,count:o,style:y})),b}function nI(e,t){const n=[],r=e.segments;for(let i=0;i<r.length;i++){const s=tI(r[i],e.points,t);s.length&&n.push(...s)}return n}function lX(e,t,n,r){let i=0,s=t-1;if(n&&!r)for(;i<t&&!e[i].skip;)i++;for(;i<t&&e[i].skip;)i++;for(i%=t,n&&(s+=i);s>i&&e[s%t].skip;)s--;return s%=t,{start:i,end:s}}function uX(e,t,n,r){const i=e.length,s=[];let o=t,a=e[t],l;for(l=t+1;l<=n;++l){const c=e[l%i];c.skip||c.stop?a.skip||(r=!1,s.push({start:t%i,end:(l-1)%i,loop:r}),t=o=c.stop?l:null):(o=l,a.skip&&(t=l)),a=c}return o!==null&&s.push({start:t%i,end:o%i,loop:r}),s}function cX(e,t){const n=e.points,r=e.options.spanGaps,i=n.length;if(!i)return[];const s=!!e._loop,{start:o,end:a}=lX(n,i,s,r);if(r===!0)return M4(e,[{start:o,end:a,loop:s}],n,t);const l=a<o?a+i:a,c=!!e._fullLoop&&o===0&&a===i-1;return M4(e,uX(n,o,l,c),n,t)}function M4(e,t,n,r){return!r||!r.setContext||!n?t:dX(e,t,n,r)}function dX(e,t,n,r){const i=e._chart.getContext(),s=A4(e.options),{_datasetIndex:o,options:{spanGaps:a}}=e,l=n.length,c=[];let f=s,p=t[0].start,g=p;function y(b,_,C,E){const R=a?-1:1;if(b!==_){for(b+=l;n[b%l].skip;)b-=R;for(;n[_%l].skip;)_+=R;b%l!==_%l&&(c.push({start:b%l,end:_%l,loop:C,style:E}),f=E,p=_%l)}}for(const b of t){p=a?p:b.start;let _=n[p%l],C;for(g=p+1;g<=b.end;g++){const E=n[g%l];C=A4(r.setContext(Ul(i,{type:"segment",p0:_,p1:E,p0DataIndex:(g-1)%l,p1DataIndex:g%l,datasetIndex:o}))),fX(C,f)&&y(p,g-1,b.loop,f),_=E,f=C}p<g-1&&y(p,g-1,b.loop,f)}return c}function A4(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function fX(e,t){if(!t)return!1;const n=[],r=function(i,s){return D_(s)?(n.includes(s)||n.push(s),n.indexOf(s)):s};return JSON.stringify(e,r)!==JSON.stringify(t,r)}function Rg(e,t,n){return e.options.clip?e[n]:t[n]}function hX(e,t){const{xScale:n,yScale:r}=e;return n&&r?{left:Rg(n,t,"left"),right:Rg(n,t,"right"),top:Rg(r,t,"top"),bottom:Rg(r,t,"bottom")}:t}function rI(e,t){const n=t._clip;if(n.disabled)return!1;const r=hX(t,e.chartArea);return{left:n.left===!1?0:r.left-(n.left===!0?0:n.left),right:n.right===!1?e.width:r.right+(n.right===!0?0:n.right),top:n.top===!1?0:r.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?e.height:r.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class pX{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,n,r,i){const s=n.listeners[i],o=n.duration;s.forEach(a=>a({chart:t,initial:n.initial,numSteps:o,currentStep:Math.min(r-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=Bj.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let n=0;this._charts.forEach((r,i)=>{if(!r.running||!r.items.length)return;const s=r.items;let o=s.length-1,a=!1,l;for(;o>=0;--o)l=s[o],l._active?(l._total>r.duration&&(r.duration=l._total),l.tick(t),a=!0):(s[o]=s[s.length-1],s.pop());a&&(i.draw(),this._notify(i,r,t,"progress")),s.length||(r.running=!1,this._notify(i,r,t,"complete"),r.initial=!1),n+=s.length}),this._lastDate=t,n===0&&(this._running=!1)}_getAnims(t){const n=this._charts;let r=n.get(t);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(t,r)),r}listen(t,n,r){this._getAnims(t).listeners[n].push(r)}add(t,n){!n||!n.length||this._getAnims(t).items.push(...n)}has(t){return this._getAnims(t).items.length>0}start(t){const n=this._charts.get(t);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((r,i)=>Math.max(r,i._duration),0),this._refresh())}running(t){if(!this._running)return!1;const n=this._charts.get(t);return!(!n||!n.running||!n.items.length)}stop(t){const n=this._charts.get(t);if(!n||!n.items.length)return;const r=n.items;let i=r.length-1;for(;i>=0;--i)r[i].cancel();n.items=[],this._notify(t,n,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var ia=new pX;const D4="transparent",mX={boolean(e,t,n){return n>.5?t:e},color(e,t,n){const r=k4(e||D4),i=r.valid&&k4(t||D4);return i&&i.valid?i.mix(r,n).hexString():t},number(e,t,n){return e+(t-e)*n}};class gX{constructor(t,n,r,i){const s=n[r];i=Eh([t.to,i,s,t.from]);const o=Eh([t.from,s,i]);this._active=!0,this._fn=t.fn||mX[t.type||typeof o],this._easing=zh[t.easing]||zh.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=n,this._prop=r,this._from=o,this._to=i,this._promises=void 0}active(){return this._active}update(t,n,r){if(this._active){this._notify(!1);const i=this._target[this._prop],s=r-this._start,o=this._duration-s;this._start=r,this._duration=Math.floor(Math.max(o,t.duration)),this._total+=s,this._loop=!!t.loop,this._to=Eh([t.to,n,i,t.from]),this._from=Eh([t.from,i,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const n=t-this._start,r=this._duration,i=this._prop,s=this._from,o=this._loop,a=this._to;let l;if(this._active=s!==a&&(o||n<r),!this._active){this._target[i]=a,this._notify(!0);return}if(n<0){this._target[i]=s;return}l=n/r%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[i]=this._fn(s,a,l)}wait(){const t=this._promises||(this._promises=[]);return new Promise((n,r)=>{t.push({res:n,rej:r})})}_notify(t){const n=t?"res":"rej",r=this._promises||[];for(let i=0;i<r.length;i++)r[i][n]()}}class iI{constructor(t,n){this._chart=t,this._properties=new Map,this.configure(n)}configure(t){if(!en(t))return;const n=Object.keys(Wn.animation),r=this._properties;Object.getOwnPropertyNames(t).forEach(i=>{const s=t[i];if(!en(s))return;const o={};for(const a of n)o[a]=s[a];(Hn(s.properties)&&s.properties||[i]).forEach(a=>{(a===i||!r.has(a))&&r.set(a,o)})})}_animateOptions(t,n){const r=n.options,i=vX(t,r);if(!i)return[];const s=this._createAnimations(i,r);return r.$shared&&yX(t.options.$animations,r).then(()=>{t.options=r},()=>{}),s}_createAnimations(t,n){const r=this._properties,i=[],s=t.$animations||(t.$animations={}),o=Object.keys(n),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const c=o[l];if(c.charAt(0)==="$")continue;if(c==="options"){i.push(...this._animateOptions(t,n));continue}const f=n[c];let p=s[c];const g=r.get(c);if(p)if(g&&p.active()){p.update(g,f,a);continue}else p.cancel();if(!g||!g.duration){t[c]=f;continue}s[c]=p=new gX(g,t,c,f),i.push(p)}return i}update(t,n){if(this._properties.size===0){Object.assign(t,n);return}const r=this._createAnimations(t,n);if(r.length)return ia.add(this._chart,r),!0}}function yX(e,t){const n=[],r=Object.keys(t);for(let i=0;i<r.length;i++){const s=e[r[i]];s&&s.active()&&n.push(s.wait())}return Promise.all(n)}function vX(e,t){if(!t)return;let n=e.options;if(!n){e.options=t;return}return n.$shared&&(e.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function L4(e,t){const n=e&&e.options||{},r=n.reverse,i=n.min===void 0?t:0,s=n.max===void 0?t:0;return{start:r?s:i,end:r?i:s}}function xX(e,t,n){if(n===!1)return!1;const r=L4(e,n),i=L4(t,n);return{top:i.end,right:r.end,bottom:i.start,left:r.start}}function bX(e){let t,n,r,i;return en(e)?(t=e.top,n=e.right,r=e.bottom,i=e.left):t=n=r=i=e,{top:t,right:n,bottom:r,left:i,disabled:e===!1}}function sI(e,t){const n=[],r=e._getSortedDatasetMetas(t);let i,s;for(i=0,s=r.length;i<s;++i)n.push(r[i].index);return n}function F4(e,t,n,r={}){const i=e.keys,s=r.mode==="single";let o,a,l,c;if(t===null)return;let f=!1;for(o=0,a=i.length;o<a;++o){if(l=+i[o],l===n){if(f=!0,r.all)continue;break}c=e.values[l],sr(c)&&(s||t===0||Po(t)===Po(c))&&(t+=c)}return!f&&!r.all?0:t}function wX(e,t){const{iScale:n,vScale:r}=t,i=n.axis==="x"?"x":"y",s=r.axis==="x"?"x":"y",o=Object.keys(e),a=new Array(o.length);let l,c,f;for(l=0,c=o.length;l<c;++l)f=o[l],a[l]={[i]:f,[s]:e[f]};return a}function Ax(e,t){const n=e&&e.options.stacked;return n||n===void 0&&t.stack!==void 0}function _X(e,t,n){return`${e.id}.${t.id}.${n.stack||n.type}`}function SX(e){const{min:t,max:n,minDefined:r,maxDefined:i}=e.getUserBounds();return{min:r?t:Number.NEGATIVE_INFINITY,max:i?n:Number.POSITIVE_INFINITY}}function CX(e,t,n){const r=e[t]||(e[t]={});return r[n]||(r[n]={})}function B4(e,t,n,r){for(const i of t.getMatchingVisibleMetas(r).reverse()){const s=e[i.index];if(n&&s>0||!n&&s<0)return i.index}return null}function z4(e,t){const{chart:n,_cachedMeta:r}=e,i=n._stacks||(n._stacks={}),{iScale:s,vScale:o,index:a}=r,l=s.axis,c=o.axis,f=_X(s,o,r),p=t.length;let g;for(let y=0;y<p;++y){const b=t[y],{[l]:_,[c]:C}=b,E=b._stacks||(b._stacks={});g=E[c]=CX(i,f,_),g[a]=C,g._top=B4(g,o,!0,r.type),g._bottom=B4(g,o,!1,r.type);const R=g._visualValues||(g._visualValues={});R[a]=C}}function Dx(e,t){const n=e.scales;return Object.keys(n).filter(r=>n[r].axis===t).shift()}function EX(e,t){return Ul(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function kX(e,t,n){return Ul(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}function ah(e,t){const n=e.controller.index,r=e.vScale&&e.vScale.axis;if(r){t=t||e._parsed;for(const i of t){const s=i._stacks;if(!s||s[r]===void 0||s[r][n]===void 0)return;delete s[r][n],s[r]._visualValues!==void 0&&s[r]._visualValues[n]!==void 0&&delete s[r]._visualValues[n]}}}const Lx=e=>e==="reset"||e==="none",$4=(e,t)=>t?e:Object.assign({},e),TX=(e,t,n)=>e&&!t.hidden&&t._stacked&&{keys:sI(n,!0),values:null};class Hl{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(t,n){this.chart=t,this._ctx=t.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=Ax(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&ah(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,n=this._cachedMeta,r=this.getDataset(),i=(p,g,y,b)=>p==="x"?g:p==="r"?b:y,s=n.xAxisID=jt(r.xAxisID,Dx(t,"x")),o=n.yAxisID=jt(r.yAxisID,Dx(t,"y")),a=n.rAxisID=jt(r.rAxisID,Dx(t,"r")),l=n.indexAxis,c=n.iAxisID=i(l,s,o,a),f=n.vAxisID=i(l,o,s,a);n.xScale=this.getScaleForId(s),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(a),n.iScale=this.getScaleForId(c),n.vScale=this.getScaleForId(f)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const n=this._cachedMeta;return t===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&S4(this._data,this),t._stacked&&ah(t)}_dataCheck(){const t=this.getDataset(),n=t.data||(t.data=[]),r=this._data;if(en(n)){const i=this._cachedMeta;this._data=wX(n,i)}else if(r!==n){if(r){S4(r,this);const i=this._cachedMeta;ah(i),i._parsed=[]}n&&Object.isExtensible(n)&&dY(n,this),this._syncList=[],this._data=n}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const n=this._cachedMeta,r=this.getDataset();let i=!1;this._dataCheck();const s=n._stacked;n._stacked=Ax(n.vScale,n),n.stack!==r.stack&&(i=!0,ah(n),n.stack=r.stack),this._resyncElements(t),(i||s!==n._stacked)&&(z4(this,n._parsed),n._stacked=Ax(n.vScale,n))}configure(){const t=this.chart.config,n=t.datasetScopeKeys(this._type),r=t.getOptionScopes(this.getDataset(),n,!0);this.options=t.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,n){const{_cachedMeta:r,_data:i}=this,{iScale:s,_stacked:o}=r,a=s.axis;let l=t===0&&n===i.length?!0:r._sorted,c=t>0&&r._parsed[t-1],f,p,g;if(this._parsing===!1)r._parsed=i,r._sorted=!0,g=i;else{Hn(i[t])?g=this.parseArrayData(r,i,t,n):en(i[t])?g=this.parseObjectData(r,i,t,n):g=this.parsePrimitiveData(r,i,t,n);const y=()=>p[a]===null||c&&p[a]<c[a];for(f=0;f<n;++f)r._parsed[f+t]=p=g[f],l&&(y()&&(l=!1),c=p);r._sorted=l}o&&z4(this,g)}parsePrimitiveData(t,n,r,i){const{iScale:s,vScale:o}=t,a=s.axis,l=o.axis,c=s.getLabels(),f=s===o,p=new Array(i);let g,y,b;for(g=0,y=i;g<y;++g)b=g+r,p[g]={[a]:f||s.parse(c[b],b),[l]:o.parse(n[b],b)};return p}parseArrayData(t,n,r,i){const{xScale:s,yScale:o}=t,a=new Array(i);let l,c,f,p;for(l=0,c=i;l<c;++l)f=l+r,p=n[f],a[l]={x:s.parse(p[0],f),y:o.parse(p[1],f)};return a}parseObjectData(t,n,r,i){const{xScale:s,yScale:o}=t,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=new Array(i);let f,p,g,y;for(f=0,p=i;f<p;++f)g=f+r,y=n[g],c[f]={x:s.parse(Nl(y,a),g),y:o.parse(Nl(y,l),g)};return c}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,n,r){const i=this.chart,s=this._cachedMeta,o=n[t.axis],a={keys:sI(i,!0),values:n._stacks[t.axis]._visualValues};return F4(a,o,s.index,{mode:r})}updateRangeFromParsed(t,n,r,i){const s=r[n.axis];let o=s===null?NaN:s;const a=i&&r._stacks[n.axis];i&&a&&(i.values=a,o=F4(i,s,this._cachedMeta.index)),t.min=Math.min(t.min,o),t.max=Math.max(t.max,o)}getMinMax(t,n){const r=this._cachedMeta,i=r._parsed,s=r._sorted&&t===r.iScale,o=i.length,a=this._getOtherScale(t),l=TX(n,r,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:f,max:p}=SX(a);let g,y;function b(){y=i[g];const _=y[a.axis];return!sr(y[t.axis])||f>_||p<_}for(g=0;g<o&&!(!b()&&(this.updateRangeFromParsed(c,t,y,l),s));++g);if(s){for(g=o-1;g>=0;--g)if(!b()){this.updateRangeFromParsed(c,t,y,l);break}}return c}getAllParsedValues(t){const n=this._cachedMeta._parsed,r=[];let i,s,o;for(i=0,s=n.length;i<s;++i)o=n[i][t.axis],sr(o)&&r.push(o);return r}getMaxOverflow(){return!1}getLabelAndValue(t){const n=this._cachedMeta,r=n.iScale,i=n.vScale,s=this.getParsed(t);return{label:r?""+r.getLabelForValue(s[r.axis]):"",value:i?""+i.getLabelForValue(s[i.axis]):""}}_update(t){const n=this._cachedMeta;this.update(t||"default"),n._clip=bX(jt(this.options.clip,xX(n.xScale,n.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,n=this.chart,r=this._cachedMeta,i=r.data||[],s=n.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||i.length-a,c=this.options.drawActiveElementsOnTop;let f;for(r.dataset&&r.dataset.draw(t,s,a,l),f=a;f<a+l;++f){const p=i[f];p.hidden||(p.active&&c?o.push(p):p.draw(t,s))}for(f=0;f<o.length;++f)o[f].draw(t,s)}getStyle(t,n){const r=n?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(t||0,r)}getContext(t,n,r){const i=this.getDataset();let s;if(t>=0&&t<this._cachedMeta.data.length){const o=this._cachedMeta.data[t];s=o.$context||(o.$context=kX(this.getContext(),t,o)),s.parsed=this.getParsed(t),s.raw=i.data[t],s.index=s.dataIndex=t}else s=this.$context||(this.$context=EX(this.chart.getContext(),this.index)),s.dataset=i,s.index=s.datasetIndex=this.index;return s.active=!!n,s.mode=r,s}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,n){return this._resolveElementOptions(this.dataElementType.id,n,t)}_resolveElementOptions(t,n="default",r){const i=n==="active",s=this._cachedDataOpts,o=t+"-"+n,a=s[o],l=this.enableOptionSharing&&lp(r);if(a)return $4(a,l);const c=this.chart.config,f=c.datasetElementScopeKeys(this._type,t),p=i?[`${t}Hover`,"hover",t,""]:[t,""],g=c.getOptionScopes(this.getDataset(),f),y=Object.keys(Wn.elements[t]),b=()=>this.getContext(r,i,n),_=c.resolveNamedOptions(g,y,b,p);return _.$shared&&(_.$shared=l,s[o]=Object.freeze($4(_,l))),_}_resolveAnimations(t,n,r){const i=this.chart,s=this._cachedDataOpts,o=`animation-${n}`,a=s[o];if(a)return a;let l;if(i.options.animation!==!1){const f=this.chart.config,p=f.datasetAnimationScopeKeys(this._type,n),g=f.getOptionScopes(this.getDataset(),p);l=f.createResolver(g,this.getContext(t,r,n))}const c=new iI(i,l&&l.animations);return l&&l._cacheable&&(s[o]=Object.freeze(c)),c}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,n){return!n||Lx(t)||this.chart._animationsDisabled}_getSharedOptions(t,n){const r=this.resolveDataElementOptions(t,n),i=this._sharedOptions,s=this.getSharedOptions(r),o=this.includeOptions(n,s)||s!==i;return this.updateSharedOptions(s,n,r),{sharedOptions:s,includeOptions:o}}updateElement(t,n,r,i){Lx(i)?Object.assign(t,r):this._resolveAnimations(n,i).update(t,r)}updateSharedOptions(t,n,r){t&&!Lx(n)&&this._resolveAnimations(void 0,n).update(t,r)}_setStyle(t,n,r,i){t.active=i;const s=this.getStyle(n,i);this._resolveAnimations(n,r,i).update(t,{options:!i&&this.getSharedOptions(s)||s})}removeHoverStyle(t,n,r){this._setStyle(t,r,"active",!1)}setHoverStyle(t,n,r){this._setStyle(t,r,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const n=this._data,r=this._cachedMeta.data;for(const[a,l,c]of this._syncList)this[a](l,c);this._syncList=[];const i=r.length,s=n.length,o=Math.min(s,i);o&&this.parse(0,o),s>i?this._insertElements(i,s-i,t):s<i&&this._removeElements(s,i-s)}_insertElements(t,n,r=!0){const i=this._cachedMeta,s=i.data,o=t+n;let a;const l=c=>{for(c.length+=n,a=c.length-1;a>=o;a--)c[a]=c[a-n]};for(l(s),a=t;a<o;++a)s[a]=new this.dataElementType;this._parsing&&l(i._parsed),this.parse(t,n),r&&this.updateElements(s,t,n,"reset")}updateElements(t,n,r,i){}_removeElements(t,n){const r=this._cachedMeta;if(this._parsing){const i=r._parsed.splice(t,n);r._stacked&&ah(r,i)}r.data.splice(t,n)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[n,r,i]=t;this[n](r,i)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,n){n&&this._sync(["_removeElements",t,n]);const r=arguments.length-2;r&&this._sync(["_insertElements",t,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function jX(e,t){if(!e._cache.$bar){const n=e.getMatchingVisibleMetas(t);let r=[];for(let i=0,s=n.length;i<s;i++)r=r.concat(n[i].controller.getAllParsedValues(e));e._cache.$bar=Fj(r.sort((i,s)=>i-s))}return e._cache.$bar}function IX(e){const t=e.iScale,n=jX(t,e.type);let r=t._length,i,s,o,a;const l=()=>{o===32767||o===-32768||(lp(a)&&(r=Math.min(r,Math.abs(o-a)||r)),a=o)};for(i=0,s=n.length;i<s;++i)o=t.getPixelForValue(n[i]),l();for(a=void 0,i=0,s=t.ticks.length;i<s;++i)o=t.getPixelForTick(i),l();return r}function NX(e,t,n,r){const i=n.barThickness;let s,o;return Jt(i)?(s=t.min*n.categoryPercentage,o=n.barPercentage):(s=i*r,o=1),{chunk:s/r,ratio:o,start:t.pixels[e]-s/2}}function RX(e,t,n,r){const i=t.pixels,s=i[e];let o=e>0?i[e-1]:null,a=e<i.length-1?i[e+1]:null;const l=n.categoryPercentage;o===null&&(o=s-(a===null?t.end-t.start:a-s)),a===null&&(a=s+s-o);const c=s-(s-Math.min(o,a))/2*l;return{chunk:Math.abs(a-o)/2*l/r,ratio:n.barPercentage,start:c}}function PX(e,t,n,r){const i=n.parse(e[0],r),s=n.parse(e[1],r),o=Math.min(i,s),a=Math.max(i,s);let l=o,c=a;Math.abs(o)>Math.abs(a)&&(l=a,c=o),t[n.axis]=c,t._custom={barStart:l,barEnd:c,start:i,end:s,min:o,max:a}}function oI(e,t,n,r){return Hn(e)?PX(e,t,n,r):t[n.axis]=n.parse(e,r),t}function U4(e,t,n,r){const i=e.iScale,s=e.vScale,o=i.getLabels(),a=i===s,l=[];let c,f,p,g;for(c=n,f=n+r;c<f;++c)g=t[c],p={},p[i.axis]=a||i.parse(o[c],c),l.push(oI(g,p,s,c));return l}function Fx(e){return e&&e.barStart!==void 0&&e.barEnd!==void 0}function OX(e,t,n){return e!==0?Po(e):(t.isHorizontal()?1:-1)*(t.min>=n?1:-1)}function MX(e){let t,n,r,i,s;return e.horizontal?(t=e.base>e.x,n="left",r="right"):(t=e.base<e.y,n="bottom",r="top"),t?(i="end",s="start"):(i="start",s="end"),{start:n,end:r,reverse:t,top:i,bottom:s}}function AX(e,t,n,r){let i=t.borderSkipped;const s={};if(!i){e.borderSkipped=s;return}if(i===!0){e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:a,reverse:l,top:c,bottom:f}=MX(e);i==="middle"&&n&&(e.enableBorderRadius=!0,(n._top||0)===r?i=c:(n._bottom||0)===r?i=f:(s[H4(f,o,a,l)]=!0,i=c)),s[H4(i,o,a,l)]=!0,e.borderSkipped=s}function H4(e,t,n,r){return r?(e=DX(e,t,n),e=W4(e,n,t)):e=W4(e,t,n),e}function DX(e,t,n){return e===t?n:e===n?t:e}function W4(e,t,n){return e==="start"?t:e==="end"?n:e}function LX(e,{inflateAmount:t},n){e.inflateAmount=t==="auto"?n===1?.33:0:t}class aI extends Hl{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(t,n,r,i){return U4(t,n,r,i)}parseArrayData(t,n,r,i){return U4(t,n,r,i)}parseObjectData(t,n,r,i){const{iScale:s,vScale:o}=t,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=s.axis==="x"?a:l,f=o.axis==="x"?a:l,p=[];let g,y,b,_;for(g=r,y=r+i;g<y;++g)_=n[g],b={},b[s.axis]=s.parse(Nl(_,c),g),p.push(oI(Nl(_,f),b,o,g));return p}updateRangeFromParsed(t,n,r,i){super.updateRangeFromParsed(t,n,r,i);const s=r._custom;s&&n===this._cachedMeta.vScale&&(t.min=Math.min(t.min,s.min),t.max=Math.max(t.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const n=this._cachedMeta,{iScale:r,vScale:i}=n,s=this.getParsed(t),o=s._custom,a=Fx(o)?"["+o.start+", "+o.end+"]":""+i.getLabelForValue(s[i.axis]);return{label:""+r.getLabelForValue(s[r.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,t)}updateElements(t,n,r,i){const s=i==="reset",{index:o,_cachedMeta:{vScale:a}}=this,l=a.getBasePixel(),c=a.isHorizontal(),f=this._getRuler(),{sharedOptions:p,includeOptions:g}=this._getSharedOptions(n,i);for(let y=n;y<n+r;y++){const b=this.getParsed(y),_=s||Jt(b[a.axis])?{base:l,head:l}:this._calculateBarValuePixels(y),C=this._calculateBarIndexPixels(y,f),E=(b._stacks||{})[a.axis],R={horizontal:c,base:_.base,enableBorderRadius:!E||Fx(b._custom)||o===E._top||o===E._bottom,x:c?_.head:C.center,y:c?C.center:_.head,height:c?C.size:Math.abs(_.size),width:c?Math.abs(_.size):C.size};g&&(R.options=p||this.resolveDataElementOptions(y,t[y].active?"active":i));const M=R.options||t[y].options;AX(R,M,E,o),LX(R,M,f.ratio),this.updateElement(t[y],y,R,i)}}_getStacks(t,n){const{iScale:r}=this._cachedMeta,i=r.getMatchingVisibleMetas(this._type).filter(f=>f.controller.options.grouped),s=r.options.stacked,o=[],a=this._cachedMeta.controller.getParsed(n),l=a&&a[r.axis],c=f=>{const p=f._parsed.find(y=>y[r.axis]===l),g=p&&p[f.vScale.axis];if(Jt(g)||isNaN(g))return!0};for(const f of i)if(!(n!==void 0&&c(f))&&((s===!1||o.indexOf(f.stack)===-1||s===void 0&&f.stack===void 0)&&o.push(f.stack),f.index===t))break;return o.length||o.push(void 0),o}_getStackCount(t){return this._getStacks(void 0,t).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const t=this.chart.scales,n=this.chart.options.indexAxis;return Object.keys(t).filter(r=>t[r].axis===n).shift()}_getAxis(){const t={},n=this.getFirstScaleIdForIndexAxis();for(const r of this.chart.data.datasets)t[jt(this.chart.options.indexAxis==="x"?r.xAxisID:r.yAxisID,n)]=!0;return Object.keys(t)}_getStackIndex(t,n,r){const i=this._getStacks(t,r),s=n!==void 0?i.indexOf(n):-1;return s===-1?i.length-1:s}_getRuler(){const t=this.options,n=this._cachedMeta,r=n.iScale,i=[];let s,o;for(s=0,o=n.data.length;s<o;++s)i.push(r.getPixelForValue(this.getParsed(s)[r.axis],s));const a=t.barThickness;return{min:a||IX(n),pixels:i,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:t.grouped,ratio:a?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:n,_stacked:r,index:i},options:{base:s,minBarLength:o}}=this,a=s||0,l=this.getParsed(t),c=l._custom,f=Fx(c);let p=l[n.axis],g=0,y=r?this.applyStack(n,l,r):p,b,_;y!==p&&(g=y-p,y=p),f&&(p=c.barStart,y=c.barEnd-c.barStart,p!==0&&Po(p)!==Po(c.barEnd)&&(g=0),g+=p);const C=!Jt(s)&&!f?s:g;let E=n.getPixelForValue(C);if(this.chart.getDataVisibility(t)?b=n.getPixelForValue(g+y):b=E,_=b-E,Math.abs(_)<o){_=OX(_,n,a)*o,p===a&&(E-=_/2);const R=n.getPixelForDecimal(0),M=n.getPixelForDecimal(1),U=Math.min(R,M),z=Math.max(R,M);E=Math.max(Math.min(E,z),U),b=E+_,r&&!f&&(l._stacks[n.axis]._visualValues[i]=n.getValueForPixel(b)-n.getValueForPixel(E))}if(E===n.getPixelForValue(a)){const R=Po(_)*n.getLineWidthForValue(a)/2;E+=R,_-=R}return{size:_,base:E,head:b,center:b+_/2}}_calculateBarIndexPixels(t,n){const r=n.scale,i=this.options,s=i.skipNull,o=jt(i.maxBarThickness,1/0);let a,l;const c=this._getAxisCount();if(n.grouped){const f=s?this._getStackCount(t):n.stackCount,p=i.barThickness==="flex"?RX(t,n,i,f*c):NX(t,n,i,f*c),g=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,y=this._getAxis().indexOf(jt(g,this.getFirstScaleIdForIndexAxis())),b=this._getStackIndex(this.index,this._cachedMeta.stack,s?t:void 0)+y;a=p.start+p.chunk*b+p.chunk/2,l=Math.min(o,p.chunk*p.ratio)}else a=r.getPixelForValue(this.getParsed(t)[r.axis],t),l=Math.min(o,n.min*n.ratio);return{base:a-l/2,head:a+l/2,center:a,size:l}}draw(){const t=this._cachedMeta,n=t.vScale,r=t.data,i=r.length;let s=0;for(;s<i;++s)this.getParsed(s)[n.axis]!==null&&!r[s].hidden&&r[s].draw(this._ctx)}}class FX extends Hl{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,n,r,i){const s=super.parsePrimitiveData(t,n,r,i);for(let o=0;o<s.length;o++)s[o]._custom=this.resolveDataElementOptions(o+r).radius;return s}parseArrayData(t,n,r,i){const s=super.parseArrayData(t,n,r,i);for(let o=0;o<s.length;o++){const a=n[r+o];s[o]._custom=jt(a[2],this.resolveDataElementOptions(o+r).radius)}return s}parseObjectData(t,n,r,i){const s=super.parseObjectData(t,n,r,i);for(let o=0;o<s.length;o++){const a=n[r+o];s[o]._custom=jt(a&&a.r&&+a.r,this.resolveDataElementOptions(o+r).radius)}return s}getMaxOverflow(){const t=this._cachedMeta.data;let n=0;for(let r=t.length-1;r>=0;--r)n=Math.max(n,t[r].size(this.resolveDataElementOptions(r))/2);return n>0&&n}getLabelAndValue(t){const n=this._cachedMeta,r=this.chart.data.labels||[],{xScale:i,yScale:s}=n,o=this.getParsed(t),a=i.getLabelForValue(o.x),l=s.getLabelForValue(o.y),c=o._custom;return{label:r[t]||"",value:"("+a+", "+l+(c?", "+c:"")+")"}}update(t){const n=this._cachedMeta.data;this.updateElements(n,0,n.length,t)}updateElements(t,n,r,i){const s=i==="reset",{iScale:o,vScale:a}=this._cachedMeta,{sharedOptions:l,includeOptions:c}=this._getSharedOptions(n,i),f=o.axis,p=a.axis;for(let g=n;g<n+r;g++){const y=t[g],b=!s&&this.getParsed(g),_={},C=_[f]=s?o.getPixelForDecimal(.5):o.getPixelForValue(b[f]),E=_[p]=s?a.getBasePixel():a.getPixelForValue(b[p]);_.skip=isNaN(C)||isNaN(E),c&&(_.options=l||this.resolveDataElementOptions(g,y.active?"active":i),s&&(_.options.radius=0)),this.updateElement(y,g,_,i)}}resolveDataElementOptions(t,n){const r=this.getParsed(t);let i=super.resolveDataElementOptions(t,n);i.$shared&&(i=Object.assign({},i,{$shared:!1}));const s=i.radius;return n!=="active"&&(i.radius=0),i.radius+=jt(r&&r._custom,s),i}}function BX(e,t,n){let r=1,i=1,s=0,o=0;if(t<Dn){const a=e,l=a+t,c=Math.cos(a),f=Math.sin(a),p=Math.cos(l),g=Math.sin(l),y=(M,U,z)=>up(M,a,l,!0)?1:Math.max(U,U*n,z,z*n),b=(M,U,z)=>up(M,a,l,!0)?-1:Math.min(U,U*n,z,z*n),_=y(0,c,p),C=y(fr,f,g),E=b(hn,c,p),R=b(hn+fr,f,g);r=(_-E)/2,i=(C-R)/2,s=-(_+E)/2,o=-(C+R)/2}return{ratioX:r,ratioY:i,offsetX:s,offsetY:o}}class Jy extends Hl{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const n=t.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:r,color:i}}=t.legend.options;return n.labels.map((s,o)=>{const l=t.getDatasetMeta(0).controller.getStyle(o);return{text:s,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:i,lineWidth:l.borderWidth,pointStyle:r,hidden:!t.getDataVisibility(o),index:o}})}return[]}},onClick(t,n,r){r.chart.toggleDataVisibility(n.index),r.chart.update()}}}};constructor(t,n){super(t,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,n){const r=this.getDataset().data,i=this._cachedMeta;if(this._parsing===!1)i._parsed=r;else{let s=l=>+r[l];if(en(r[t])){const{key:l="value"}=this._parsing;s=c=>+Nl(r[c],l)}let o,a;for(o=t,a=t+n;o<a;++o)i._parsed[o]=s(o)}}_getRotation(){return so(this.options.rotation-90)}_getCircumference(){return so(this.options.circumference)}_getRotationExtents(){let t=Dn,n=-Dn;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){const i=this.chart.getDatasetMeta(r).controller,s=i._getRotation(),o=i._getCircumference();t=Math.min(t,s),n=Math.max(n,s+o)}return{rotation:t,circumference:n-t}}update(t){const n=this.chart,{chartArea:r}=n,i=this._cachedMeta,s=i.data,o=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,a=Math.max((Math.min(r.width,r.height)-o)/2,0),l=Math.min(YG(this.options.cutout,a),1),c=this._getRingWeight(this.index),{circumference:f,rotation:p}=this._getRotationExtents(),{ratioX:g,ratioY:y,offsetX:b,offsetY:_}=BX(p,f,l),C=(r.width-o)/g,E=(r.height-o)/y,R=Math.max(Math.min(C,E)/2,0),M=Oj(this.options.radius,R),U=Math.max(M*l,0),z=(M-U)/this._getVisibleDatasetWeightTotal();this.offsetX=b*M,this.offsetY=_*M,i.total=this.calculateTotal(),this.outerRadius=M-z*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-z*c,0),this.updateElements(s,0,s.length,t)}_circumference(t,n){const r=this.options,i=this._cachedMeta,s=this._getCircumference();return n&&r.animation.animateRotate||!this.chart.getDataVisibility(t)||i._parsed[t]===null||i.data[t].hidden?0:this.calculateCircumference(i._parsed[t]*s/Dn)}updateElements(t,n,r,i){const s=i==="reset",o=this.chart,a=o.chartArea,c=o.options.animation,f=(a.left+a.right)/2,p=(a.top+a.bottom)/2,g=s&&c.animateScale,y=g?0:this.innerRadius,b=g?0:this.outerRadius,{sharedOptions:_,includeOptions:C}=this._getSharedOptions(n,i);let E=this._getRotation(),R;for(R=0;R<n;++R)E+=this._circumference(R,s);for(R=n;R<n+r;++R){const M=this._circumference(R,s),U=t[R],z={x:f+this.offsetX,y:p+this.offsetY,startAngle:E,endAngle:E+M,circumference:M,outerRadius:b,innerRadius:y};C&&(z.options=_||this.resolveDataElementOptions(R,U.active?"active":i)),E+=M,this.updateElement(U,R,z,i)}}calculateTotal(){const t=this._cachedMeta,n=t.data;let r=0,i;for(i=0;i<n.length;i++){const s=t._parsed[i];s!==null&&!isNaN(s)&&this.chart.getDataVisibility(i)&&!n[i].hidden&&(r+=Math.abs(s))}return r}calculateCircumference(t){const n=this._cachedMeta.total;return n>0&&!isNaN(t)?Dn*(Math.abs(t)/n):0}getLabelAndValue(t){const n=this._cachedMeta,r=this.chart,i=r.data.labels||[],s=Fp(n._parsed[t],r.options.locale);return{label:i[t]||"",value:s}}getMaxBorderWidth(t){let n=0;const r=this.chart;let i,s,o,a,l;if(!t){for(i=0,s=r.data.datasets.length;i<s;++i)if(r.isDatasetVisible(i)){o=r.getDatasetMeta(i),t=o.data,a=o.controller;break}}if(!t)return 0;for(i=0,s=t.length;i<s;++i)l=a.resolveDataElementOptions(i),l.borderAlign!=="inner"&&(n=Math.max(n,l.borderWidth||0,l.hoverBorderWidth||0));return n}getMaxOffset(t){let n=0;for(let r=0,i=t.length;r<i;++r){const s=this.resolveDataElementOptions(r);n=Math.max(n,s.offset||0,s.hoverOffset||0)}return n}_getRingWeightOffset(t){let n=0;for(let r=0;r<t;++r)this.chart.isDatasetVisible(r)&&(n+=this._getRingWeight(r));return n}_getRingWeight(t){return Math.max(jt(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class zX extends Hl{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const n=this._cachedMeta,{dataset:r,data:i=[],_dataset:s}=n,o=this.chart._animationsDisabled;let{start:a,count:l}=$j(n,i,o);this._drawStart=a,this._drawCount=l,Uj(n)&&(a=0,l=i.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!s._decimated,r.points=i;const c=this.resolveDatasetElementOptions(t);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(r,void 0,{animated:!o,options:c},t),this.updateElements(i,a,l,t)}updateElements(t,n,r,i){const s=i==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,{sharedOptions:f,includeOptions:p}=this._getSharedOptions(n,i),g=o.axis,y=a.axis,{spanGaps:b,segment:_}=this.options,C=Zu(b)?b:Number.POSITIVE_INFINITY,E=this.chart._animationsDisabled||s||i==="none",R=n+r,M=t.length;let U=n>0&&this.getParsed(n-1);for(let z=0;z<M;++z){const P=t[z],N=E?P:{};if(z<n||z>=R){N.skip=!0;continue}const B=this.getParsed(z),$=Jt(B[y]),D=N[g]=o.getPixelForValue(B[g],z),J=N[y]=s||$?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,B,l):B[y],z);N.skip=isNaN(D)||isNaN(J)||$,N.stop=z>0&&Math.abs(B[g]-U[g])>C,_&&(N.parsed=B,N.raw=c.data[z]),p&&(N.options=f||this.resolveDataElementOptions(z,P.active?"active":i)),E||this.updateElement(P,z,N,i),U=B}}getMaxOverflow(){const t=this._cachedMeta,n=t.dataset,r=n.options&&n.options.borderWidth||0,i=t.data||[];if(!i.length)return r;const s=i[0].size(this.resolveDataElementOptions(0)),o=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(r,s,o)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}class lI extends Hl{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const n=t.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:r,color:i}}=t.legend.options;return n.labels.map((s,o)=>{const l=t.getDatasetMeta(0).controller.getStyle(o);return{text:s,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:i,lineWidth:l.borderWidth,pointStyle:r,hidden:!t.getDataVisibility(o),index:o}})}return[]}},onClick(t,n,r){r.chart.toggleDataVisibility(n.index),r.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(t,n){super(t,n),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const n=this._cachedMeta,r=this.chart,i=r.data.labels||[],s=Fp(n._parsed[t].r,r.options.locale);return{label:i[t]||"",value:s}}parseObjectData(t,n,r,i){return Yj.bind(this)(t,n,r,i)}update(t){const n=this._cachedMeta.data;this._updateRadius(),this.updateElements(n,0,n.length,t)}getMinMax(){const t=this._cachedMeta,n={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach((r,i)=>{const s=this.getParsed(i).r;!isNaN(s)&&this.chart.getDataVisibility(i)&&(s<n.min&&(n.min=s),s>n.max&&(n.max=s))}),n}_updateRadius(){const t=this.chart,n=t.chartArea,r=t.options,i=Math.min(n.right-n.left,n.bottom-n.top),s=Math.max(i/2,0),o=Math.max(r.cutoutPercentage?s/100*r.cutoutPercentage:1,0),a=(s-o)/t.getVisibleDatasetCount();this.outerRadius=s-a*this.index,this.innerRadius=this.outerRadius-a}updateElements(t,n,r,i){const s=i==="reset",o=this.chart,l=o.options.animation,c=this._cachedMeta.rScale,f=c.xCenter,p=c.yCenter,g=c.getIndexAngle(0)-.5*hn;let y=g,b;const _=360/this.countVisibleElements();for(b=0;b<n;++b)y+=this._computeAngle(b,i,_);for(b=n;b<n+r;b++){const C=t[b];let E=y,R=y+this._computeAngle(b,i,_),M=o.getDataVisibility(b)?c.getDistanceFromCenterForValue(this.getParsed(b).r):0;y=R,s&&(l.animateScale&&(M=0),l.animateRotate&&(E=R=g));const U={x:f,y:p,innerRadius:0,outerRadius:M,startAngle:E,endAngle:R,options:this.resolveDataElementOptions(b,C.active?"active":i)};this.updateElement(C,b,U,i)}}countVisibleElements(){const t=this._cachedMeta;let n=0;return t.data.forEach((r,i)=>{!isNaN(this.getParsed(i).r)&&this.chart.getDataVisibility(i)&&n++}),n}_computeAngle(t,n,r){return this.chart.getDataVisibility(t)?so(this.resolveDataElementOptions(t,n).angle||r):0}}class $X extends Jy{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}class uI extends Hl{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(t){const n=this._cachedMeta.vScale,r=this.getParsed(t);return{label:n.getLabels()[t],value:""+n.getLabelForValue(r[n.axis])}}parseObjectData(t,n,r,i){return Yj.bind(this)(t,n,r,i)}update(t){const n=this._cachedMeta,r=n.dataset,i=n.data||[],s=n.iScale.getLabels();if(r.points=i,t!=="resize"){const o=this.resolveDatasetElementOptions(t);this.options.showLine||(o.borderWidth=0);const a={_loop:!0,_fullLoop:s.length===i.length,options:o};this.updateElement(r,void 0,a,t)}this.updateElements(i,0,i.length,t)}updateElements(t,n,r,i){const s=this._cachedMeta.rScale,o=i==="reset";for(let a=n;a<n+r;a++){const l=t[a],c=this.resolveDataElementOptions(a,l.active?"active":i),f=s.getPointPositionForValue(a,this.getParsed(a).r),p=o?s.xCenter:f.x,g=o?s.yCenter:f.y,y={x:p,y:g,angle:f.angle,skip:isNaN(p)||isNaN(g),options:c};this.updateElement(l,a,y,i)}}}class UX extends Hl{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(t){const n=this._cachedMeta,r=this.chart.data.labels||[],{xScale:i,yScale:s}=n,o=this.getParsed(t),a=i.getLabelForValue(o.x),l=s.getLabelForValue(o.y);return{label:r[t]||"",value:"("+a+", "+l+")"}}update(t){const n=this._cachedMeta,{data:r=[]}=n,i=this.chart._animationsDisabled;let{start:s,count:o}=$j(n,r,i);if(this._drawStart=s,this._drawCount=o,Uj(n)&&(s=0,o=r.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:a,_dataset:l}=n;a._chart=this.chart,a._datasetIndex=this.index,a._decimated=!!l._decimated,a.points=r;const c=this.resolveDatasetElementOptions(t);c.segment=this.options.segment,this.updateElement(a,void 0,{animated:!i,options:c},t)}else this.datasetElementType&&(delete n.dataset,this.datasetElementType=!1);this.updateElements(r,s,o,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,n,r,i){const s=i==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,f=this.resolveDataElementOptions(n,i),p=this.getSharedOptions(f),g=this.includeOptions(i,p),y=o.axis,b=a.axis,{spanGaps:_,segment:C}=this.options,E=Zu(_)?_:Number.POSITIVE_INFINITY,R=this.chart._animationsDisabled||s||i==="none";let M=n>0&&this.getParsed(n-1);for(let U=n;U<n+r;++U){const z=t[U],P=this.getParsed(U),N=R?z:{},B=Jt(P[b]),$=N[y]=o.getPixelForValue(P[y],U),D=N[b]=s||B?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,P,l):P[b],U);N.skip=isNaN($)||isNaN(D)||B,N.stop=U>0&&Math.abs(P[y]-M[y])>E,C&&(N.parsed=P,N.raw=c.data[U]),g&&(N.options=p||this.resolveDataElementOptions(U,z.active?"active":i)),R||this.updateElement(z,U,N,i),M=P}this.updateSharedOptions(p,i,f)}getMaxOverflow(){const t=this._cachedMeta,n=t.data||[];if(!this.options.showLine){let a=0;for(let l=n.length-1;l>=0;--l)a=Math.max(a,n[l].size(this.resolveDataElementOptions(l))/2);return a>0&&a}const r=t.dataset,i=r.options&&r.options.borderWidth||0;if(!n.length)return i;const s=n[0].size(this.resolveDataElementOptions(0)),o=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(i,s,o)/2}}var HX=Object.freeze({__proto__:null,BarController:aI,BubbleController:FX,DoughnutController:Jy,LineController:zX,PieController:$X,PolarAreaController:lI,RadarController:uI,ScatterController:UX});function Su(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class H_{static override(t){Object.assign(H_.prototype,t)}options;constructor(t){this.options=t||{}}init(){}formats(){return Su()}parse(){return Su()}format(){return Su()}add(){return Su()}diff(){return Su()}startOf(){return Su()}endOf(){return Su()}}var WX={_date:H_};function VX(e,t,n,r){const{controller:i,data:s,_sorted:o}=e,a=i._cachedMeta.iScale,l=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(a&&t===a.axis&&t!=="r"&&o&&s.length){const c=a._reversePixels?uY:pa;if(r){if(i._sharedOptions){const f=s[0],p=typeof f.getRange=="function"&&f.getRange(t);if(p){const g=c(s,t,n-p),y=c(s,t,n+p);return{lo:g.lo,hi:y.hi}}}}else{const f=c(s,t,n);if(l){const{vScale:p}=i._cachedMeta,{_parsed:g}=e,y=g.slice(0,f.lo+1).reverse().findIndex(_=>!Jt(_[p.axis]));f.lo-=Math.max(0,y);const b=g.slice(f.hi).findIndex(_=>!Jt(_[p.axis]));f.hi+=Math.max(0,b)}return f}}return{lo:0,hi:s.length-1}}function Zy(e,t,n,r,i){const s=e.getSortedVisibleDatasetMetas(),o=n[t];for(let a=0,l=s.length;a<l;++a){const{index:c,data:f}=s[a],{lo:p,hi:g}=VX(s[a],t,o,i);for(let y=p;y<=g;++y){const b=f[y];b.skip||r(b,c,y)}}}function qX(e){const t=e.indexOf("x")!==-1,n=e.indexOf("y")!==-1;return function(r,i){const s=t?Math.abs(r.x-i.x):0,o=n?Math.abs(r.y-i.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(o,2))}}function Bx(e,t,n,r,i){const s=[];return!i&&!e.isPointInArea(t)||Zy(e,n,t,function(a,l,c){!i&&!ma(a,e.chartArea,0)||a.inRange(t.x,t.y,r)&&s.push({element:a,datasetIndex:l,index:c})},!0),s}function QX(e,t,n,r){let i=[];function s(o,a,l){const{startAngle:c,endAngle:f}=o.getProps(["startAngle","endAngle"],r),{angle:p}=Dj(o,{x:t.x,y:t.y});up(p,c,f)&&i.push({element:o,datasetIndex:a,index:l})}return Zy(e,n,t,s),i}function KX(e,t,n,r,i,s){let o=[];const a=qX(n);let l=Number.POSITIVE_INFINITY;function c(f,p,g){const y=f.inRange(t.x,t.y,i);if(r&&!y)return;const b=f.getCenterPoint(i);if(!(!!s||e.isPointInArea(b))&&!y)return;const C=a(t,b);C<l?(o=[{element:f,datasetIndex:p,index:g}],l=C):C===l&&o.push({element:f,datasetIndex:p,index:g})}return Zy(e,n,t,c),o}function zx(e,t,n,r,i,s){return!s&&!e.isPointInArea(t)?[]:n==="r"&&!r?QX(e,t,n,i):KX(e,t,n,r,i,s)}function V4(e,t,n,r,i){const s=[],o=n==="x"?"inXRange":"inYRange";let a=!1;return Zy(e,n,t,(l,c,f)=>{l[o]&&l[o](t[n],i)&&(s.push({element:l,datasetIndex:c,index:f}),a=a||l.inRange(t.x,t.y,i))}),r&&!a?[]:s}var GX={modes:{index(e,t,n,r){const i=Nu(t,e),s=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?Bx(e,i,s,r,o):zx(e,i,s,!1,r,o),l=[];return a.length?(e.getSortedVisibleDatasetMetas().forEach(c=>{const f=a[0].index,p=c.data[f];p&&!p.skip&&l.push({element:p,datasetIndex:c.index,index:f})}),l):[]},dataset(e,t,n,r){const i=Nu(t,e),s=n.axis||"xy",o=n.includeInvisible||!1;let a=n.intersect?Bx(e,i,s,r,o):zx(e,i,s,!1,r,o);if(a.length>0){const l=a[0].datasetIndex,c=e.getDatasetMeta(l).data;a=[];for(let f=0;f<c.length;++f)a.push({element:c[f],datasetIndex:l,index:f})}return a},point(e,t,n,r){const i=Nu(t,e),s=n.axis||"xy",o=n.includeInvisible||!1;return Bx(e,i,s,r,o)},nearest(e,t,n,r){const i=Nu(t,e),s=n.axis||"xy",o=n.includeInvisible||!1;return zx(e,i,s,n.intersect,r,o)},x(e,t,n,r){const i=Nu(t,e);return V4(e,i,"x",n.intersect,r)},y(e,t,n,r){const i=Nu(t,e);return V4(e,i,"y",n.intersect,r)}}};const cI=["left","top","right","bottom"];function lh(e,t){return e.filter(n=>n.pos===t)}function q4(e,t){return e.filter(n=>cI.indexOf(n.pos)===-1&&n.box.axis===t)}function uh(e,t){return e.sort((n,r)=>{const i=t?r:n,s=t?n:r;return i.weight===s.weight?i.index-s.index:i.weight-s.weight})}function YX(e){const t=[];let n,r,i,s,o,a;for(n=0,r=(e||[]).length;n<r;++n)i=e[n],{position:s,options:{stack:o,stackWeight:a=1}}=i,t.push({index:n,box:i,pos:s,horizontal:i.isHorizontal(),weight:i.weight,stack:o&&s+o,stackWeight:a});return t}function XX(e){const t={};for(const n of e){const{stack:r,pos:i,stackWeight:s}=n;if(!r||!cI.includes(i))continue;const o=t[r]||(t[r]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=s}return t}function JX(e,t){const n=XX(e),{vBoxMaxWidth:r,hBoxMaxHeight:i}=t;let s,o,a;for(s=0,o=e.length;s<o;++s){a=e[s];const{fullSize:l}=a.box,c=n[a.stack],f=c&&a.stackWeight/c.weight;a.horizontal?(a.width=f?f*r:l&&t.availableWidth,a.height=i):(a.width=r,a.height=f?f*i:l&&t.availableHeight)}return n}function ZX(e){const t=YX(e),n=uh(t.filter(c=>c.box.fullSize),!0),r=uh(lh(t,"left"),!0),i=uh(lh(t,"right")),s=uh(lh(t,"top"),!0),o=uh(lh(t,"bottom")),a=q4(t,"x"),l=q4(t,"y");return{fullSize:n,leftAndTop:r.concat(s),rightAndBottom:i.concat(l).concat(o).concat(a),chartArea:lh(t,"chartArea"),vertical:r.concat(i).concat(l),horizontal:s.concat(o).concat(a)}}function Q4(e,t,n,r){return Math.max(e[n],t[n])+Math.max(e[r],t[r])}function dI(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function eJ(e,t,n,r){const{pos:i,box:s}=n,o=e.maxPadding;if(!en(i)){n.size&&(e[i]-=n.size);const p=r[n.stack]||{size:0,count:1};p.size=Math.max(p.size,n.horizontal?s.height:s.width),n.size=p.size/p.count,e[i]+=n.size}s.getPadding&&dI(o,s.getPadding());const a=Math.max(0,t.outerWidth-Q4(o,e,"left","right")),l=Math.max(0,t.outerHeight-Q4(o,e,"top","bottom")),c=a!==e.w,f=l!==e.h;return e.w=a,e.h=l,n.horizontal?{same:c,other:f}:{same:f,other:c}}function tJ(e){const t=e.maxPadding;function n(r){const i=Math.max(t[r]-e[r],0);return e[r]+=i,i}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}function nJ(e,t){const n=t.maxPadding;function r(i){const s={left:0,top:0,right:0,bottom:0};return i.forEach(o=>{s[o]=Math.max(t[o],n[o])}),s}return r(e?["left","right"]:["top","bottom"])}function kh(e,t,n,r){const i=[];let s,o,a,l,c,f;for(s=0,o=e.length,c=0;s<o;++s){a=e[s],l=a.box,l.update(a.width||t.w,a.height||t.h,nJ(a.horizontal,t));const{same:p,other:g}=eJ(t,n,a,r);c|=p&&i.length,f=f||g,l.fullSize||i.push(a)}return c&&kh(i,t,n,r)||f}function Pg(e,t,n,r,i){e.top=n,e.left=t,e.right=t+r,e.bottom=n+i,e.width=r,e.height=i}function K4(e,t,n,r){const i=n.padding;let{x:s,y:o}=t;for(const a of e){const l=a.box,c=r[a.stack]||{placed:0,weight:1},f=a.stackWeight/c.weight||1;if(a.horizontal){const p=t.w*f,g=c.size||l.height;lp(c.start)&&(o=c.start),l.fullSize?Pg(l,i.left,o,n.outerWidth-i.right-i.left,g):Pg(l,t.left+c.placed,o,p,g),c.start=o,c.placed+=p,o=l.bottom}else{const p=t.h*f,g=c.size||l.width;lp(c.start)&&(s=c.start),l.fullSize?Pg(l,s,i.top,g,n.outerHeight-i.bottom-i.top):Pg(l,s,t.top+c.placed,g,p),c.start=s,c.placed+=p,s=l.right}}t.x=s,t.y=o}var ai={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(n){t.draw(n)}}]},e.boxes.push(t)},removeBox(e,t){const n=e.boxes?e.boxes.indexOf(t):-1;n!==-1&&e.boxes.splice(n,1)},configure(e,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},update(e,t,n,r){if(!e)return;const i=ci(e.options.layout.padding),s=Math.max(t-i.width,0),o=Math.max(n-i.height,0),a=ZX(e.boxes),l=a.vertical,c=a.horizontal;vn(e.boxes,_=>{typeof _.beforeLayout=="function"&&_.beforeLayout()});const f=l.reduce((_,C)=>C.box.options&&C.box.options.display===!1?_:_+1,0)||1,p=Object.freeze({outerWidth:t,outerHeight:n,padding:i,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/f,hBoxMaxHeight:o/2}),g=Object.assign({},i);dI(g,ci(r));const y=Object.assign({maxPadding:g,w:s,h:o,x:i.left,y:i.top},i),b=JX(l.concat(c),p);kh(a.fullSize,y,p,b),kh(l,y,p,b),kh(c,y,p,b)&&kh(l,y,p,b),tJ(y),K4(a.leftAndTop,y,p,b),y.x+=y.w,y.y+=y.h,K4(a.rightAndBottom,y,p,b),e.chartArea={left:y.left,top:y.top,right:y.left+y.w,bottom:y.top+y.h,height:y.h,width:y.w},vn(a.chartArea,_=>{const C=_.box;Object.assign(C,e.chartArea),C.update(y.w,y.h,{left:0,top:0,right:0,bottom:0})})}};class fI{acquireContext(t,n){}releaseContext(t){return!1}addEventListener(t,n,r){}removeEventListener(t,n,r){}getDevicePixelRatio(){return 1}getMaximumSize(t,n,r,i){return n=Math.max(0,n||t.width),r=r||t.height,{width:n,height:Math.max(0,i?Math.floor(n/i):r)}}isAttached(t){return!0}updateConfig(t){}}class rJ extends fI{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const y0="$chartjs",iJ={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},G4=e=>e===null||e==="";function sJ(e,t){const n=e.style,r=e.getAttribute("height"),i=e.getAttribute("width");if(e[y0]={initial:{height:r,width:i,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",G4(i)){const s=P4(e,"width");s!==void 0&&(e.width=s)}if(G4(r))if(e.style.height==="")e.height=e.width/(t||2);else{const s=P4(e,"height");s!==void 0&&(e.height=s)}return e}const hI=nX?{passive:!0}:!1;function oJ(e,t,n){e&&e.addEventListener(t,n,hI)}function aJ(e,t,n){e&&e.canvas&&e.canvas.removeEventListener(t,n,hI)}function lJ(e,t){const n=iJ[e.type]||e.type,{x:r,y:i}=Nu(e,t);return{type:n,chart:t,native:e,x:r!==void 0?r:null,y:i!==void 0?i:null}}function ny(e,t){for(const n of e)if(n===t||n.contains(t))return!0}function uJ(e,t,n){const r=e.canvas,i=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||ny(a.addedNodes,r),o=o&&!ny(a.removedNodes,r);o&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}function cJ(e,t,n){const r=e.canvas,i=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||ny(a.removedNodes,r),o=o&&!ny(a.addedNodes,r);o&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}const dp=new Map;let Y4=0;function pI(){const e=window.devicePixelRatio;e!==Y4&&(Y4=e,dp.forEach((t,n)=>{n.currentDevicePixelRatio!==e&&t()}))}function dJ(e,t){dp.size||window.addEventListener("resize",pI),dp.set(e,t)}function fJ(e){dp.delete(e),dp.size||window.removeEventListener("resize",pI)}function hJ(e,t,n){const r=e.canvas,i=r&&U_(r);if(!i)return;const s=zj((a,l)=>{const c=i.clientWidth;n(a,l),c<i.clientWidth&&n()},window),o=new ResizeObserver(a=>{const l=a[0],c=l.contentRect.width,f=l.contentRect.height;c===0&&f===0||s(c,f)});return o.observe(i),dJ(e,s),o}function $x(e,t,n){n&&n.disconnect(),t==="resize"&&fJ(e)}function pJ(e,t,n){const r=e.canvas,i=zj(s=>{e.ctx!==null&&n(lJ(s,e))},e);return oJ(r,t,i),i}class mJ extends fI{acquireContext(t,n){const r=t&&t.getContext&&t.getContext("2d");return r&&r.canvas===t?(sJ(t,n),r):null}releaseContext(t){const n=t.canvas;if(!n[y0])return!1;const r=n[y0].initial;["height","width"].forEach(s=>{const o=r[s];Jt(o)?n.removeAttribute(s):n.setAttribute(s,o)});const i=r.style||{};return Object.keys(i).forEach(s=>{n.style[s]=i[s]}),n.width=n.width,delete n[y0],!0}addEventListener(t,n,r){this.removeEventListener(t,n);const i=t.$proxies||(t.$proxies={}),o={attach:uJ,detach:cJ,resize:hJ}[n]||pJ;i[n]=o(t,n,r)}removeEventListener(t,n){const r=t.$proxies||(t.$proxies={}),i=r[n];if(!i)return;({attach:$x,detach:$x,resize:$x}[n]||aJ)(t,n,i),r[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,n,r,i){return tX(t,n,r,i)}isAttached(t){const n=t&&U_(t);return!!(n&&n.isConnected)}}function gJ(e){return!$_()||typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas?rJ:mJ}let Ta=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){const{x:n,y:r}=this.getProps(["x","y"],t);return{x:n,y:r}}hasValue(){return Zu(this.x)&&Zu(this.y)}getProps(t,n){const r=this.$animations;if(!n||!r)return this;const i={};return t.forEach(s=>{i[s]=r[s]&&r[s].active()?r[s]._to:this[s]}),i}};function yJ(e,t){const n=e.options.ticks,r=vJ(e),i=Math.min(n.maxTicksLimit||r,r),s=n.major.enabled?bJ(t):[],o=s.length,a=s[0],l=s[o-1],c=[];if(o>i)return wJ(t,c,s,o/i),c;const f=xJ(s,t,i);if(o>0){let p,g;const y=o>1?Math.round((l-a)/(o-1)):null;for(Og(t,c,f,Jt(y)?0:a-y,a),p=0,g=o-1;p<g;p++)Og(t,c,f,s[p],s[p+1]);return Og(t,c,f,l,Jt(y)?t.length:l+y),c}return Og(t,c,f),c}function vJ(e){const t=e.options.offset,n=e._tickSize(),r=e._length/n+(t?0:1),i=e._maxLength/n;return Math.floor(Math.min(r,i))}function xJ(e,t,n){const r=_J(e),i=t.length/n;if(!r)return Math.max(i,1);const s=iY(r);for(let o=0,a=s.length-1;o<a;o++){const l=s[o];if(l>i)return l}return Math.max(i,1)}function bJ(e){const t=[];let n,r;for(n=0,r=e.length;n<r;n++)e[n].major&&t.push(n);return t}function wJ(e,t,n,r){let i=0,s=n[0],o;for(r=Math.ceil(r),o=0;o<e.length;o++)o===s&&(t.push(e[o]),i++,s=n[i*r])}function Og(e,t,n,r,i){const s=jt(r,0),o=Math.min(jt(i,e.length),e.length);let a=0,l,c,f;for(n=Math.ceil(n),i&&(l=i-r,n=l/Math.floor(l/n)),f=s;f<0;)a++,f=Math.round(s+a*n);for(c=Math.max(s,0);c<o;c++)c===f&&(t.push(e[c]),a++,f=Math.round(s+a*n))}function _J(e){const t=e.length;let n,r;if(t<2)return!1;for(r=e[0],n=1;n<t;++n)if(e[n]-e[n-1]!==r)return!1;return r}const SJ=e=>e==="left"?"right":e==="right"?"left":e,X4=(e,t,n)=>t==="top"||t==="left"?e[t]+n:e[t]-n,J4=(e,t)=>Math.min(t||e,e);function Z4(e,t){const n=[],r=e.length/t,i=e.length;let s=0;for(;s<i;s+=r)n.push(e[Math.floor(s)]);return n}function CJ(e,t,n){const r=e.ticks.length,i=Math.min(t,r-1),s=e._startPixel,o=e._endPixel,a=1e-6;let l=e.getPixelForTick(i),c;if(!(n&&(r===1?c=Math.max(l-s,o-l):t===0?c=(e.getPixelForTick(1)-l)/2:c=(l-e.getPixelForTick(i-1))/2,l+=i<t?c:-c,l<s-a||l>o+a)))return l}function EJ(e,t){vn(e,n=>{const r=n.gc,i=r.length/2;let s;if(i>t){for(s=0;s<i;++s)delete n.data[r[s]];r.splice(0,i)}})}function ch(e){return e.drawTicks?e.tickLength:0}function ek(e,t){if(!e.display)return 0;const n=Nr(e.font,t),r=ci(e.padding);return(Hn(e.text)?e.text.length:1)*n.lineHeight+r.height}function kJ(e,t){return Ul(e,{scale:t,type:"scale"})}function TJ(e,t,n){return Ul(e,{tick:n,index:t,type:"tick"})}function jJ(e,t,n){let r=A_(e);return(n&&t!=="right"||!n&&t==="right")&&(r=SJ(r)),r}function IJ(e,t,n,r){const{top:i,left:s,bottom:o,right:a,chart:l}=e,{chartArea:c,scales:f}=l;let p=0,g,y,b;const _=o-i,C=a-s;if(e.isHorizontal()){if(y=ii(r,s,a),en(n)){const E=Object.keys(n)[0],R=n[E];b=f[E].getPixelForValue(R)+_-t}else n==="center"?b=(c.bottom+c.top)/2+_-t:b=X4(e,n,t);g=a-s}else{if(en(n)){const E=Object.keys(n)[0],R=n[E];y=f[E].getPixelForValue(R)-C+t}else n==="center"?y=(c.left+c.right)/2-C+t:y=X4(e,n,t);b=ii(r,o,i),p=n==="left"?-fr:fr}return{titleX:y,titleY:b,maxWidth:g,rotation:p}}class fc extends Ta{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,n){return t}getUserBounds(){let{_userMin:t,_userMax:n,_suggestedMin:r,_suggestedMax:i}=this;return t=os(t,Number.POSITIVE_INFINITY),n=os(n,Number.NEGATIVE_INFINITY),r=os(r,Number.POSITIVE_INFINITY),i=os(i,Number.NEGATIVE_INFINITY),{min:os(t,r),max:os(n,i),minDefined:sr(t),maxDefined:sr(n)}}getMinMax(t){let{min:n,max:r,minDefined:i,maxDefined:s}=this.getUserBounds(),o;if(i&&s)return{min:n,max:r};const a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)o=a[l].controller.getMinMax(this,t),i||(n=Math.min(n,o.min)),s||(r=Math.max(r,o.max));return n=s&&n>r?r:n,r=i&&n>r?n:r,{min:os(n,os(r,n)),max:os(r,os(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Rn(this.options.beforeUpdate,[this])}update(t,n,r){const{beginAtZero:i,grace:s,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=n,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=OY(this,s,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?Z4(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=yJ(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,n,r;this.isHorizontal()?(n=this.left,r=this.right):(n=this.top,r=this.bottom,t=!t),this._startPixel=n,this._endPixel=r,this._reversePixels=t,this._length=r-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Rn(this.options.afterUpdate,[this])}beforeSetDimensions(){Rn(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Rn(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),Rn(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Rn(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const n=this.options.ticks;let r,i,s;for(r=0,i=t.length;r<i;r++)s=t[r],s.label=Rn(n.callback,[s.value,r,t],this)}afterTickToLabelConversion(){Rn(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Rn(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,n=t.ticks,r=J4(this.ticks.length,t.ticks.maxTicksLimit),i=n.minRotation||0,s=n.maxRotation;let o=i,a,l,c;if(!this._isVisible()||!n.display||i>=s||r<=1||!this.isHorizontal()){this.labelRotation=i;return}const f=this._getLabelSizes(),p=f.widest.width,g=f.highest.height,y=$r(this.chart.width-p,0,this.maxWidth);a=t.offset?this.maxWidth/r:y/(r-1),p+6>a&&(a=y/(r-(t.offset?.5:1)),l=this.maxHeight-ch(t.grid)-n.padding-ek(t.title,this.chart.options.font),c=Math.sqrt(p*p+g*g),o=O_(Math.min(Math.asin($r((f.highest.height+6)/a,-1,1)),Math.asin($r(l/c,-1,1))-Math.asin($r(g/c,-1,1)))),o=Math.max(i,Math.min(s,o))),this.labelRotation=o}afterCalculateLabelRotation(){Rn(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Rn(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:n,options:{ticks:r,title:i,grid:s}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=ek(i,n.options.font);if(a?(t.width=this.maxWidth,t.height=ch(s)+l):(t.height=this.maxHeight,t.width=ch(s)+l),r.display&&this.ticks.length){const{first:c,last:f,widest:p,highest:g}=this._getLabelSizes(),y=r.padding*2,b=so(this.labelRotation),_=Math.cos(b),C=Math.sin(b);if(a){const E=r.mirror?0:C*p.width+_*g.height;t.height=Math.min(this.maxHeight,t.height+E+y)}else{const E=r.mirror?0:_*p.width+C*g.height;t.width=Math.min(this.maxWidth,t.width+E+y)}this._calculatePadding(c,f,C,_)}}this._handleMargins(),a?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,n,r,i){const{ticks:{align:s,padding:o},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const f=this.getPixelForTick(0)-this.left,p=this.right-this.getPixelForTick(this.ticks.length-1);let g=0,y=0;l?c?(g=i*t.width,y=r*n.height):(g=r*t.height,y=i*n.width):s==="start"?y=n.width:s==="end"?g=t.width:s!=="inner"&&(g=t.width/2,y=n.width/2),this.paddingLeft=Math.max((g-f+o)*this.width/(this.width-f),0),this.paddingRight=Math.max((y-p+o)*this.width/(this.width-p),0)}else{let f=n.height/2,p=t.height/2;s==="start"?(f=0,p=t.height):s==="end"&&(f=n.height,p=0),this.paddingTop=f+o,this.paddingBottom=p+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Rn(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:n}=this.options;return n==="top"||n==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let n,r;for(n=0,r=t.length;n<r;n++)Jt(t[n].label)&&(t.splice(n,1),r--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const n=this.options.ticks.sampleSize;let r=this.ticks;n<r.length&&(r=Z4(r,n)),this._labelSizes=t=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,n,r){const{ctx:i,_longestTextCache:s}=this,o=[],a=[],l=Math.floor(n/J4(n,r));let c=0,f=0,p,g,y,b,_,C,E,R,M,U,z;for(p=0;p<n;p+=l){if(b=t[p].label,_=this._resolveTickFontOptions(p),i.font=C=_.string,E=s[C]=s[C]||{data:{},gc:[]},R=_.lineHeight,M=U=0,!Jt(b)&&!Hn(b))M=ey(i,E.data,E.gc,M,b),U=R;else if(Hn(b))for(g=0,y=b.length;g<y;++g)z=b[g],!Jt(z)&&!Hn(z)&&(M=ey(i,E.data,E.gc,M,z),U+=R);o.push(M),a.push(U),c=Math.max(M,c),f=Math.max(U,f)}EJ(s,n);const P=o.indexOf(c),N=a.indexOf(f),B=$=>({width:o[$]||0,height:a[$]||0});return{first:B(0),last:B(n-1),widest:B(P),highest:B(N),widths:o,heights:a}}getLabelForValue(t){return t}getPixelForValue(t,n){return NaN}getValueForPixel(t){}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const n=this._startPixel+t*this._length;return lY(this._alignToPixels?_u(this.chart,n,0):n)}getDecimalForPixel(t){const n=(t-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:n}=this;return t<0&&n<0?n:t>0&&n>0?t:0}getContext(t){const n=this.ticks||[];if(t>=0&&t<n.length){const r=n[t];return r.$context||(r.$context=TJ(this.getContext(),t,r))}return this.$context||(this.$context=kJ(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,n=so(this.labelRotation),r=Math.abs(Math.cos(n)),i=Math.abs(Math.sin(n)),s=this._getLabelSizes(),o=t.autoSkipPadding||0,a=s?s.widest.width+o:0,l=s?s.highest.height+o:0;return this.isHorizontal()?l*r>a*i?a/r:l/i:l*i<a*r?l/r:a/i}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const n=this.axis,r=this.chart,i=this.options,{grid:s,position:o,border:a}=i,l=s.offset,c=this.isHorizontal(),p=this.ticks.length+(l?1:0),g=ch(s),y=[],b=a.setContext(this.getContext()),_=b.display?b.width:0,C=_/2,E=function(K){return _u(r,K,_)};let R,M,U,z,P,N,B,$,D,J,X,ie;if(o==="top")R=E(this.bottom),N=this.bottom-g,$=R-C,J=E(t.top)+C,ie=t.bottom;else if(o==="bottom")R=E(this.top),J=t.top,ie=E(t.bottom)-C,N=R+C,$=this.top+g;else if(o==="left")R=E(this.right),P=this.right-g,B=R-C,D=E(t.left)+C,X=t.right;else if(o==="right")R=E(this.left),D=t.left,X=E(t.right)-C,P=R+C,B=this.left+g;else if(n==="x"){if(o==="center")R=E((t.top+t.bottom)/2+.5);else if(en(o)){const K=Object.keys(o)[0],ne=o[K];R=E(this.chart.scales[K].getPixelForValue(ne))}J=t.top,ie=t.bottom,N=R+C,$=N+g}else if(n==="y"){if(o==="center")R=E((t.left+t.right)/2);else if(en(o)){const K=Object.keys(o)[0],ne=o[K];R=E(this.chart.scales[K].getPixelForValue(ne))}P=R-C,B=P-g,D=t.left,X=t.right}const q=jt(i.ticks.maxTicksLimit,p),V=Math.max(1,Math.ceil(p/q));for(M=0;M<p;M+=V){const K=this.getContext(M),ne=s.setContext(K),Y=a.setContext(K),de=ne.lineWidth,F=ne.color,Z=Y.dash||[],ge=Y.dashOffset,H=ne.tickWidth,je=ne.tickColor,ke=ne.tickBorderDash||[],Te=ne.tickBorderDashOffset;U=CJ(this,M,l),U!==void 0&&(z=_u(r,U,de),c?P=B=D=X=z:N=$=J=ie=z,y.push({tx1:P,ty1:N,tx2:B,ty2:$,x1:D,y1:J,x2:X,y2:ie,width:de,color:F,borderDash:Z,borderDashOffset:ge,tickWidth:H,tickColor:je,tickBorderDash:ke,tickBorderDashOffset:Te}))}return this._ticksLength=p,this._borderValue=R,y}_computeLabelItems(t){const n=this.axis,r=this.options,{position:i,ticks:s}=r,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:f,mirror:p}=s,g=ch(r.grid),y=g+f,b=p?-f:y,_=-so(this.labelRotation),C=[];let E,R,M,U,z,P,N,B,$,D,J,X,ie="middle";if(i==="top")P=this.bottom-b,N=this._getXAxisLabelAlignment();else if(i==="bottom")P=this.top+b,N=this._getXAxisLabelAlignment();else if(i==="left"){const V=this._getYAxisLabelAlignment(g);N=V.textAlign,z=V.x}else if(i==="right"){const V=this._getYAxisLabelAlignment(g);N=V.textAlign,z=V.x}else if(n==="x"){if(i==="center")P=(t.top+t.bottom)/2+y;else if(en(i)){const V=Object.keys(i)[0],K=i[V];P=this.chart.scales[V].getPixelForValue(K)+y}N=this._getXAxisLabelAlignment()}else if(n==="y"){if(i==="center")z=(t.left+t.right)/2-y;else if(en(i)){const V=Object.keys(i)[0],K=i[V];z=this.chart.scales[V].getPixelForValue(K)}N=this._getYAxisLabelAlignment(g).textAlign}n==="y"&&(l==="start"?ie="top":l==="end"&&(ie="bottom"));const q=this._getLabelSizes();for(E=0,R=a.length;E<R;++E){M=a[E],U=M.label;const V=s.setContext(this.getContext(E));B=this.getPixelForTick(E)+s.labelOffset,$=this._resolveTickFontOptions(E),D=$.lineHeight,J=Hn(U)?U.length:1;const K=J/2,ne=V.color,Y=V.textStrokeColor,de=V.textStrokeWidth;let F=N;o?(z=B,N==="inner"&&(E===R-1?F=this.options.reverse?"left":"right":E===0?F=this.options.reverse?"right":"left":F="center"),i==="top"?c==="near"||_!==0?X=-J*D+D/2:c==="center"?X=-q.highest.height/2-K*D+D:X=-q.highest.height+D/2:c==="near"||_!==0?X=D/2:c==="center"?X=q.highest.height/2-K*D:X=q.highest.height-J*D,p&&(X*=-1),_!==0&&!V.showLabelBackdrop&&(z+=D/2*Math.sin(_))):(P=B,X=(1-J)*D/2);let Z;if(V.showLabelBackdrop){const ge=ci(V.backdropPadding),H=q.heights[E],je=q.widths[E];let ke=X-ge.top,Te=0-ge.left;switch(ie){case"middle":ke-=H/2;break;case"bottom":ke-=H;break}switch(N){case"center":Te-=je/2;break;case"right":Te-=je;break;case"inner":E===R-1?Te-=je:E>0&&(Te-=je/2);break}Z={left:Te,top:ke,width:je+ge.width,height:H+ge.height,color:V.backdropColor}}C.push({label:U,font:$,textOffset:X,options:{rotation:_,color:ne,strokeColor:Y,strokeWidth:de,textAlign:F,textBaseline:ie,translation:[z,P],backdrop:Z}})}return C}_getXAxisLabelAlignment(){const{position:t,ticks:n}=this.options;if(-so(this.labelRotation))return t==="top"?"left":"right";let i="center";return n.align==="start"?i="left":n.align==="end"?i="right":n.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(t){const{position:n,ticks:{crossAlign:r,mirror:i,padding:s}}=this.options,o=this._getLabelSizes(),a=t+s,l=o.widest.width;let c,f;return n==="left"?i?(f=this.right+s,r==="near"?c="left":r==="center"?(c="center",f+=l/2):(c="right",f+=l)):(f=this.right-a,r==="near"?c="right":r==="center"?(c="center",f-=l/2):(c="left",f=this.left)):n==="right"?i?(f=this.left+s,r==="near"?c="right":r==="center"?(c="center",f-=l/2):(c="left",f-=l)):(f=this.left+a,r==="near"?c="left":r==="center"?(c="center",f+=l/2):(c="right",f=this.right)):c="right",{textAlign:c,x:f}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:n},left:r,top:i,width:s,height:o}=this;n&&(t.save(),t.fillStyle=n,t.fillRect(r,i,s,o),t.restore())}getLineWidthForValue(t){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const i=this.ticks.findIndex(s=>s.value===t);return i>=0?n.setContext(this.getContext(i)).lineWidth:0}drawGrid(t){const n=this.options.grid,r=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let s,o;const a=(l,c,f)=>{!f.width||!f.color||(r.save(),r.lineWidth=f.width,r.strokeStyle=f.color,r.setLineDash(f.borderDash||[]),r.lineDashOffset=f.borderDashOffset,r.beginPath(),r.moveTo(l.x,l.y),r.lineTo(c.x,c.y),r.stroke(),r.restore())};if(n.display)for(s=0,o=i.length;s<o;++s){const l=i[s];n.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:n,options:{border:r,grid:i}}=this,s=r.setContext(this.getContext()),o=r.display?s.width:0;if(!o)return;const a=i.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,f,p,g;this.isHorizontal()?(c=_u(t,this.left,o)-o/2,f=_u(t,this.right,a)+a/2,p=g=l):(p=_u(t,this.top,o)-o/2,g=_u(t,this.bottom,a)+a/2,c=f=l),n.save(),n.lineWidth=s.width,n.strokeStyle=s.color,n.beginPath(),n.moveTo(c,p),n.lineTo(f,g),n.stroke(),n.restore()}drawLabels(t){if(!this.options.ticks.display)return;const r=this.ctx,i=this._computeLabelArea();i&&Gy(r,i);const s=this.getLabelItems(t);for(const o of s){const a=o.options,l=o.font,c=o.label,f=o.textOffset;tc(r,c,0,f,l,a)}i&&Yy(r)}drawTitle(){const{ctx:t,options:{position:n,title:r,reverse:i}}=this;if(!r.display)return;const s=Nr(r.font),o=ci(r.padding),a=r.align;let l=s.lineHeight/2;n==="bottom"||n==="center"||en(n)?(l+=o.bottom,Hn(r.text)&&(l+=s.lineHeight*(r.text.length-1))):l+=o.top;const{titleX:c,titleY:f,maxWidth:p,rotation:g}=IJ(this,l,n,a);tc(t,r.text,0,0,s,{color:r.color,maxWidth:p,rotation:g,textAlign:jJ(a,n,i),textBaseline:"middle",translation:[c,f]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,n=t.ticks&&t.ticks.z||0,r=jt(t.grid&&t.grid.z,-1),i=jt(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==fc.prototype.draw?[{z:n,draw:s=>{this.draw(s)}}]:[{z:r,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:n,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(t){const n=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",i=[];let s,o;for(s=0,o=n.length;s<o;++s){const a=n[s];a[r]===this.id&&(!t||a.type===t)&&i.push(a)}return i}_resolveTickFontOptions(t){const n=this.options.ticks.setContext(this.getContext(t));return Nr(n.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class Mg{constructor(t,n,r){this.type=t,this.scope=n,this.override=r,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const n=Object.getPrototypeOf(t);let r;PJ(n)&&(r=this.register(n));const i=this.items,s=t.id,o=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+t);return s in i||(i[s]=t,NJ(t,o,r),this.override&&Wn.override(t.id,t.overrides)),o}get(t){return this.items[t]}unregister(t){const n=this.items,r=t.id,i=this.scope;r in n&&delete n[r],i&&r in Wn[i]&&(delete Wn[i][r],this.override&&delete ec[r])}}function NJ(e,t,n){const r=ap(Object.create(null),[n?Wn.get(n):{},Wn.get(t),e.defaults]);Wn.set(t,r),e.defaultRoutes&&RJ(t,e.defaultRoutes),e.descriptors&&Wn.describe(t,e.descriptors)}function RJ(e,t){Object.keys(t).forEach(n=>{const r=n.split("."),i=r.pop(),s=[e].concat(r).join("."),o=t[n].split("."),a=o.pop(),l=o.join(".");Wn.route(s,i,l,a)})}function PJ(e){return"id"in e&&"defaults"in e}class OJ{constructor(){this.controllers=new Mg(Hl,"datasets",!0),this.elements=new Mg(Ta,"elements"),this.plugins=new Mg(Object,"plugins"),this.scales=new Mg(fc,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,n,r){[...n].forEach(i=>{const s=r||this._getRegistryForType(i);r||s.isForType(i)||s===this.plugins&&i.id?this._exec(t,s,i):vn(i,o=>{const a=r||this._getRegistryForType(o);this._exec(t,a,o)})})}_exec(t,n,r){const i=P_(t);Rn(r["before"+i],[],r),n[t](r),Rn(r["after"+i],[],r)}_getRegistryForType(t){for(let n=0;n<this._typedRegistries.length;n++){const r=this._typedRegistries[n];if(r.isForType(t))return r}return this.plugins}_get(t,n,r){const i=n.get(t);if(i===void 0)throw new Error('"'+t+'" is not a registered '+r+".");return i}}var ko=new OJ;class MJ{constructor(){this._init=[]}notify(t,n,r,i){n==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const s=i?this._descriptors(t).filter(i):this._descriptors(t),o=this._notify(s,t,n,r);return n==="afterDestroy"&&(this._notify(s,t,"stop"),this._notify(this._init,t,"uninstall")),o}_notify(t,n,r,i){i=i||{};for(const s of t){const o=s.plugin,a=o[r],l=[n,i,s.options];if(Rn(a,l,o)===!1&&i.cancelable)return!1}return!0}invalidate(){Jt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),n}_createDescriptors(t,n){const r=t&&t.config,i=jt(r.options&&r.options.plugins,{}),s=AJ(r);return i===!1&&!n?[]:LJ(t,s,i,n)}_notifyStateChanges(t){const n=this._oldCache||[],r=this._cache,i=(s,o)=>s.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(i(n,r),t,"stop"),this._notify(i(r,n),t,"start")}}function AJ(e){const t={},n=[],r=Object.keys(ko.plugins.items);for(let s=0;s<r.length;s++)n.push(ko.getPlugin(r[s]));const i=e.plugins||[];for(let s=0;s<i.length;s++){const o=i[s];n.indexOf(o)===-1&&(n.push(o),t[o.id]=!0)}return{plugins:n,localIds:t}}function DJ(e,t){return!t&&e===!1?null:e===!0?{}:e}function LJ(e,{plugins:t,localIds:n},r,i){const s=[],o=e.getContext();for(const a of t){const l=a.id,c=DJ(r[l],i);c!==null&&s.push({plugin:a,options:FJ(e.config,{plugin:a,local:n[l]},c,o)})}return s}function FJ(e,{plugin:t,local:n},r,i){const s=e.pluginScopeKeys(t),o=e.getOptionScopes(r,s);return n&&t.defaults&&o.push(t.defaults),e.createResolver(o,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Rw(e,t){const n=Wn.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||n.indexAxis||"x"}function BJ(e,t){let n=e;return e==="_index_"?n=t:e==="_value_"&&(n=t==="x"?"y":"x"),n}function zJ(e,t){return e===t?"_index_":"_value_"}function tk(e){if(e==="x"||e==="y"||e==="r")return e}function $J(e){if(e==="top"||e==="bottom")return"x";if(e==="left"||e==="right")return"y"}function Pw(e,...t){if(tk(e))return e;for(const n of t){const r=n.axis||$J(n.position)||e.length>1&&tk(e[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function nk(e,t,n){if(n[t+"AxisID"]===e)return{axis:t}}function UJ(e,t){if(t.data&&t.data.datasets){const n=t.data.datasets.filter(r=>r.xAxisID===e||r.yAxisID===e);if(n.length)return nk(e,"x",n[0])||nk(e,"y",n[0])}return{}}function HJ(e,t){const n=ec[e.type]||{scales:{}},r=t.scales||{},i=Rw(e.type,t),s=Object.create(null);return Object.keys(r).forEach(o=>{const a=r[o];if(!en(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const l=Pw(o,a,UJ(o,e),Wn.scales[a.type]),c=zJ(l,i),f=n.scales||{};s[o]=Fh(Object.create(null),[{axis:l},a,f[l],f[c]])}),e.data.datasets.forEach(o=>{const a=o.type||e.type,l=o.indexAxis||Rw(a,t),f=(ec[a]||{}).scales||{};Object.keys(f).forEach(p=>{const g=BJ(p,l),y=o[g+"AxisID"]||g;s[y]=s[y]||Object.create(null),Fh(s[y],[{axis:g},r[y],f[p]])})}),Object.keys(s).forEach(o=>{const a=s[o];Fh(a,[Wn.scales[a.type],Wn.scale])}),s}function mI(e){const t=e.options||(e.options={});t.plugins=jt(t.plugins,{}),t.scales=HJ(e,t)}function gI(e){return e=e||{},e.datasets=e.datasets||[],e.labels=e.labels||[],e}function WJ(e){return e=e||{},e.data=gI(e.data),mI(e),e}const rk=new Map,yI=new Set;function Ag(e,t){let n=rk.get(e);return n||(n=t(),rk.set(e,n),yI.add(n)),n}const dh=(e,t,n)=>{const r=Nl(t,n);r!==void 0&&e.add(r)};class VJ{constructor(t){this._config=WJ(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=gI(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),mI(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Ag(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,n){return Ag(`${t}.transition.${n}`,()=>[[`datasets.${t}.transitions.${n}`,`transitions.${n}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,n){return Ag(`${t}-${n}`,()=>[[`datasets.${t}.elements.${n}`,`datasets.${t}`,`elements.${n}`,""]])}pluginScopeKeys(t){const n=t.id,r=this.type;return Ag(`${r}-plugin-${n}`,()=>[[`plugins.${n}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,n){const r=this._scopeCache;let i=r.get(t);return(!i||n)&&(i=new Map,r.set(t,i)),i}getOptionScopes(t,n,r){const{options:i,type:s}=this,o=this._cachedScopes(t,r),a=o.get(n);if(a)return a;const l=new Set;n.forEach(f=>{t&&(l.add(t),f.forEach(p=>dh(l,t,p))),f.forEach(p=>dh(l,i,p)),f.forEach(p=>dh(l,ec[s]||{},p)),f.forEach(p=>dh(l,Wn,p)),f.forEach(p=>dh(l,Iw,p))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),yI.has(n)&&o.set(n,c),c}chartOptionScopes(){const{options:t,type:n}=this;return[t,ec[n]||{},Wn.datasets[n]||{},{type:n},Wn,Iw]}resolveNamedOptions(t,n,r,i=[""]){const s={$shared:!0},{resolver:o,subPrefixes:a}=ik(this._resolverCache,t,i);let l=o;if(QJ(o,n)){s.$shared=!1,r=Rl(r)?r():r;const c=this.createResolver(t,r,a);l=Gd(o,r,c)}for(const c of n)s[c]=l[c];return s}createResolver(t,n,r=[""],i){const{resolver:s}=ik(this._resolverCache,t,r);return en(n)?Gd(s,n,void 0,i):s}}function ik(e,t,n){let r=e.get(t);r||(r=new Map,e.set(t,r));const i=n.join();let s=r.get(i);return s||(s={resolver:F_(t,n),subPrefixes:n.filter(a=>!a.toLowerCase().includes("hover"))},r.set(i,s)),s}const qJ=e=>en(e)&&Object.getOwnPropertyNames(e).some(t=>Rl(e[t]));function QJ(e,t){const{isScriptable:n,isIndexable:r}=qj(e);for(const i of t){const s=n(i),o=r(i),a=(o||s)&&e[i];if(s&&(Rl(a)||qJ(a))||o&&Hn(a))return!0}return!1}var KJ="4.5.0";const GJ=["top","bottom","left","right","chartArea"];function sk(e,t){return e==="top"||e==="bottom"||GJ.indexOf(e)===-1&&t==="x"}function ok(e,t){return function(n,r){return n[e]===r[e]?n[t]-r[t]:n[e]-r[e]}}function ak(e){const t=e.chart,n=t.options.animation;t.notifyPlugins("afterRender"),Rn(n&&n.onComplete,[e],t)}function YJ(e){const t=e.chart,n=t.options.animation;Rn(n&&n.onProgress,[e],t)}function vI(e){return $_()&&typeof e=="string"?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const v0={},lk=e=>{const t=vI(e);return Object.values(v0).filter(n=>n.canvas===t).pop()};function XJ(e,t,n){const r=Object.keys(e);for(const i of r){const s=+i;if(s>=t){const o=e[i];delete e[i],(n>0||s>t)&&(e[s+n]=o)}}}function JJ(e,t,n,r){return!n||e.type==="mouseout"?null:r?t:e}let ja=class{static defaults=Wn;static instances=v0;static overrides=ec;static registry=ko;static version=KJ;static getChart=lk;static register(...t){ko.add(...t),uk()}static unregister(...t){ko.remove(...t),uk()}constructor(t,n){const r=this.config=new VJ(n),i=vI(t),s=lk(i);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const o=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||gJ(i)),this.platform.updateConfig(r);const a=this.platform.acquireContext(i,o.aspectRatio),l=a&&a.canvas,c=l&&l.height,f=l&&l.width;if(this.id=GG(),this.ctx=a,this.canvas=l,this.width=f,this.height=c,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new MJ,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=fY(p=>this.update(p),o.resizeDelay||0),this._dataChanges=[],v0[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}ia.listen(this,"complete",ak),ia.listen(this,"progress",YJ),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:n},width:r,height:i,_aspectRatio:s}=this;return Jt(t)?n&&s?s:i?r/i:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return ko}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():R4(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return j4(this.canvas,this.ctx),this}stop(){return ia.stop(this),this}resize(t,n){ia.running(this)?this._resizeBeforeDraw={width:t,height:n}:this._resize(t,n)}_resize(t,n){const r=this.options,i=this.canvas,s=r.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(i,t,n,s),a=r.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,R4(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),Rn(r.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};vn(n,(r,i)=>{r.id=i})}buildOrUpdateScales(){const t=this.options,n=t.scales,r=this.scales,i=Object.keys(r).reduce((o,a)=>(o[a]=!1,o),{});let s=[];n&&(s=s.concat(Object.keys(n).map(o=>{const a=n[o],l=Pw(o,a),c=l==="r",f=l==="x";return{options:a,dposition:c?"chartArea":f?"bottom":"left",dtype:c?"radialLinear":f?"category":"linear"}}))),vn(s,o=>{const a=o.options,l=a.id,c=Pw(l,a),f=jt(a.type,o.dtype);(a.position===void 0||sk(a.position,c)!==sk(o.dposition))&&(a.position=o.dposition),i[l]=!0;let p=null;if(l in r&&r[l].type===f)p=r[l];else{const g=ko.getScale(f);p=new g({id:l,type:f,ctx:this.ctx,chart:this}),r[p.id]=p}p.init(a,t)}),vn(i,(o,a)=>{o||delete r[a]}),vn(r,o=>{ai.configure(this,o,o.options),ai.addBox(this,o)})}_updateMetasets(){const t=this._metasets,n=this.data.datasets.length,r=t.length;if(t.sort((i,s)=>i.index-s.index),r>n){for(let i=n;i<r;++i)this._destroyDatasetMeta(i);t.splice(n,r-n)}this._sortedMetasets=t.slice(0).sort(ok("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:n}}=this;t.length>n.length&&delete this._stacks,t.forEach((r,i)=>{n.filter(s=>s===r._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const t=[],n=this.data.datasets;let r,i;for(this._removeUnreferencedMetasets(),r=0,i=n.length;r<i;r++){const s=n[r];let o=this.getDatasetMeta(r);const a=s.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(r),o=this.getDatasetMeta(r)),o.type=a,o.indexAxis=s.indexAxis||Rw(a,this.options),o.order=s.order||0,o.index=r,o.label=""+s.label,o.visible=this.isDatasetVisible(r),o.controller)o.controller.updateIndex(r),o.controller.linkScales();else{const l=ko.getController(a),{datasetElementType:c,dataElementType:f}=Wn.datasets[a];Object.assign(l,{dataElementType:ko.getElement(f),datasetElementType:c&&ko.getElement(c)}),o.controller=new l(this,r),t.push(o.controller)}}return this._updateMetasets(),t}_resetElements(){vn(this.data.datasets,(t,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const n=this.config;n.update();const r=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let c=0,f=this.data.datasets.length;c<f;c++){const{controller:p}=this.getDatasetMeta(c),g=!i&&s.indexOf(p)===-1;p.buildOrUpdateElements(g),o=Math.max(+p.getMaxOverflow(),o)}o=this._minPadding=r.layout.autoPadding?o:0,this._updateLayout(o),i||vn(s,c=>{c.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(ok("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){vn(this.scales,t=>{ai.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,n=new Set(Object.keys(this._listeners)),r=new Set(t.events);(!x4(n,r)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,n=this._getUniformDataChanges()||[];for(const{method:r,start:i,count:s}of n){const o=r==="_removeElements"?-s:s;XJ(t,i,o)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const n=this.data.datasets.length,r=s=>new Set(t.filter(o=>o[0]===s).map((o,a)=>a+","+o.splice(1).join(","))),i=r(0);for(let s=1;s<n;s++)if(!x4(i,r(s)))return;return Array.from(i).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;ai.update(this,this.width,this.height,t);const n=this.chartArea,r=n.width<=0||n.height<=0;this._layers=[],vn(this.boxes,i=>{r&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,s)=>{i._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let n=0,r=this.data.datasets.length;n<r;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,r=this.data.datasets.length;n<r;++n)this._updateDataset(n,Rl(t)?t({datasetIndex:n}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,n){const r=this.getDatasetMeta(t),i={meta:r,index:t,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(r.controller._update(n),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(ia.has(this)?this.attached&&!ia.running(this)&&ia.start(this):(this.draw(),ak({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:r,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(t=0;t<n.length&&n[t].z<=0;++t)n[t].draw(this.chartArea);for(this._drawDatasets();t<n.length;++t)n[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const n=this._sortedMetasets,r=[];let i,s;for(i=0,s=n.length;i<s;++i){const o=n[i];(!t||o.visible)&&r.push(o)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let n=t.length-1;n>=0;--n)this._drawDataset(t[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const n=this.ctx,r={meta:t,index:t.index,cancelable:!0},i=rI(this,t);this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(i&&Gy(n,i),t.controller.draw(),i&&Yy(n),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(t){return ma(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,n,r,i){const s=GX.modes[n];return typeof s=="function"?s(this,t,r,i):[]}getDatasetMeta(t){const n=this.data.datasets[t],r=this._metasets;let i=r.filter(s=>s&&s._dataset===n).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:t,_dataset:n,_parsed:[],_sorted:!1},r.push(i)),i}getContext(){return this.$context||(this.$context=Ul(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const n=this.data.datasets[t];if(!n)return!1;const r=this.getDatasetMeta(t);return typeof r.hidden=="boolean"?!r.hidden:!n.hidden}setDatasetVisibility(t,n){const r=this.getDatasetMeta(t);r.hidden=!n}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,n,r){const i=r?"show":"hide",s=this.getDatasetMeta(t),o=s.controller._resolveAnimations(void 0,i);lp(n)?(s.data[n].hidden=!r,this.update()):(this.setDatasetVisibility(t,r),o.update(s,{visible:r}),this.update(a=>a.datasetIndex===t?i:void 0))}hide(t,n){this._updateVisibility(t,n,!1)}show(t,n){this._updateVisibility(t,n,!0)}_destroyDatasetMeta(t){const n=this._metasets[t];n&&n.controller&&n.controller._destroy(),delete this._metasets[t]}_stop(){let t,n;for(this.stop(),ia.remove(this),t=0,n=this.data.datasets.length;t<n;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:n}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),j4(t,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete v0[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,n=this.platform,r=(s,o)=>{n.addEventListener(this,s,o),t[s]=o},i=(s,o,a)=>{s.offsetX=o,s.offsetY=a,this._eventHandler(s)};vn(this.options.events,s=>r(s,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,n=this.platform,r=(l,c)=>{n.addEventListener(this,l,c),t[l]=c},i=(l,c)=>{t[l]&&(n.removeEventListener(this,l,c),delete t[l])},s=(l,c)=>{this.canvas&&this.resize(l,c)};let o;const a=()=>{i("attach",a),this.attached=!0,this.resize(),r("resize",s),r("detach",o)};o=()=>{this.attached=!1,i("resize",s),this._stop(),this._resize(0,0),r("attach",a)},n.isAttached(this.canvas)?a():o()}unbindEvents(){vn(this._listeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._listeners={},vn(this._responsiveListeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,n,r){const i=r?"set":"remove";let s,o,a,l;for(n==="dataset"&&(s=this.getDatasetMeta(t[0].datasetIndex),s.controller["_"+i+"DatasetHoverStyle"]()),a=0,l=t.length;a<l;++a){o=t[a];const c=o&&this.getDatasetMeta(o.datasetIndex).controller;c&&c[i+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const n=this._active||[],r=t.map(({datasetIndex:s,index:o})=>{const a=this.getDatasetMeta(s);if(!a)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:a.data[o],index:o}});!X0(r,n)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,n))}notifyPlugins(t,n,r){return this._plugins.notify(this,t,n,r)}isPluginEnabled(t){return this._plugins._cache.filter(n=>n.plugin.id===t).length===1}_updateHoverStyles(t,n,r){const i=this.options.hover,s=(l,c)=>l.filter(f=>!c.some(p=>f.datasetIndex===p.datasetIndex&&f.index===p.index)),o=s(n,t),a=r?t:s(t,n);o.length&&this.updateHoverStyle(o,i.mode,!1),a.length&&i.mode&&this.updateHoverStyle(a,i.mode,!0)}_eventHandler(t,n){const r={event:t,replay:n,cancelable:!0,inChartArea:this.isPointInArea(t)},i=o=>(o.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",r,i)===!1)return;const s=this._handleEvent(t,n,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,i),(s||r.changed)&&this.render(),this}_handleEvent(t,n,r){const{_active:i=[],options:s}=this,o=n,a=this._getActiveElements(t,i,r,o),l=tY(t),c=JJ(t,this._lastEvent,r,l);r&&(this._lastEvent=null,Rn(s.onHover,[t,a,this],this),l&&Rn(s.onClick,[t,a,this],this));const f=!X0(a,i);return(f||n)&&(this._active=a,this._updateHoverStyles(a,i,n)),this._lastEvent=c,f}_getActiveElements(t,n,r,i){if(t.type==="mouseout")return[];if(!r)return n;const s=this.options.hover;return this.getElementsAtEventForMode(t,s.mode,s,i)}};function uk(){return vn(ja.instances,e=>e._plugins.invalidate())}function ZJ(e,t,n){const{startAngle:r,x:i,y:s,outerRadius:o,innerRadius:a,options:l}=t,{borderWidth:c,borderJoinStyle:f}=l,p=Math.min(c/o,oi(r-n));if(e.beginPath(),e.arc(i,s,o-c/2,r+p/2,n-p/2),a>0){const g=Math.min(c/a,oi(r-n));e.arc(i,s,a+c/2,n-g/2,r+g/2,!0)}else{const g=Math.min(c/2,o*oi(r-n));if(f==="round")e.arc(i,s,g,n-hn/2,r+hn/2,!0);else if(f==="bevel"){const y=2*g*g,b=-y*Math.cos(n+hn/2)+i,_=-y*Math.sin(n+hn/2)+s,C=y*Math.cos(r+hn/2)+i,E=y*Math.sin(r+hn/2)+s;e.lineTo(b,_),e.lineTo(C,E)}}e.closePath(),e.moveTo(0,0),e.rect(0,0,e.canvas.width,e.canvas.height),e.clip("evenodd")}function eZ(e,t,n){const{startAngle:r,pixelMargin:i,x:s,y:o,outerRadius:a,innerRadius:l}=t;let c=i/a;e.beginPath(),e.arc(s,o,a,r-c,n+c),l>i?(c=i/l,e.arc(s,o,l,n+c,r-c,!0)):e.arc(s,o,i,n+fr,r-fr),e.closePath(),e.clip()}function tZ(e){return L_(e,["outerStart","outerEnd","innerStart","innerEnd"])}function nZ(e,t,n,r){const i=tZ(e.options.borderRadius),s=(n-t)/2,o=Math.min(s,r*t/2),a=l=>{const c=(n-Math.min(s,l))*r/2;return $r(l,0,Math.min(s,c))};return{outerStart:a(i.outerStart),outerEnd:a(i.outerEnd),innerStart:$r(i.innerStart,0,o),innerEnd:$r(i.innerEnd,0,o)}}function nd(e,t,n,r){return{x:n+e*Math.cos(t),y:r+e*Math.sin(t)}}function ry(e,t,n,r,i,s){const{x:o,y:a,startAngle:l,pixelMargin:c,innerRadius:f}=t,p=Math.max(t.outerRadius+r+n-c,0),g=f>0?f+r+n+c:0;let y=0;const b=i-l;if(r){const V=f>0?f-r:0,K=p>0?p-r:0,ne=(V+K)/2,Y=ne!==0?b*ne/(ne+r):b;y=(b-Y)/2}const _=Math.max(.001,b*p-n/hn)/p,C=(b-_)/2,E=l+C+y,R=i-C-y,{outerStart:M,outerEnd:U,innerStart:z,innerEnd:P}=nZ(t,g,p,R-E),N=p-M,B=p-U,$=E+M/N,D=R-U/B,J=g+z,X=g+P,ie=E+z/J,q=R-P/X;if(e.beginPath(),s){const V=($+D)/2;if(e.arc(o,a,p,$,V),e.arc(o,a,p,V,D),U>0){const de=nd(B,D,o,a);e.arc(de.x,de.y,U,D,R+fr)}const K=nd(X,R,o,a);if(e.lineTo(K.x,K.y),P>0){const de=nd(X,q,o,a);e.arc(de.x,de.y,P,R+fr,q+Math.PI)}const ne=(R-P/g+(E+z/g))/2;if(e.arc(o,a,g,R-P/g,ne,!0),e.arc(o,a,g,ne,E+z/g,!0),z>0){const de=nd(J,ie,o,a);e.arc(de.x,de.y,z,ie+Math.PI,E-fr)}const Y=nd(N,E,o,a);if(e.lineTo(Y.x,Y.y),M>0){const de=nd(N,$,o,a);e.arc(de.x,de.y,M,E-fr,$)}}else{e.moveTo(o,a);const V=Math.cos($)*p+o,K=Math.sin($)*p+a;e.lineTo(V,K);const ne=Math.cos(D)*p+o,Y=Math.sin(D)*p+a;e.lineTo(ne,Y)}e.closePath()}function rZ(e,t,n,r,i){const{fullCircles:s,startAngle:o,circumference:a}=t;let l=t.endAngle;if(s){ry(e,t,n,r,l,i);for(let c=0;c<s;++c)e.fill();isNaN(a)||(l=o+(a%Dn||Dn))}return ry(e,t,n,r,l,i),e.fill(),l}function iZ(e,t,n,r,i){const{fullCircles:s,startAngle:o,circumference:a,options:l}=t,{borderWidth:c,borderJoinStyle:f,borderDash:p,borderDashOffset:g,borderRadius:y}=l,b=l.borderAlign==="inner";if(!c)return;e.setLineDash(p||[]),e.lineDashOffset=g,b?(e.lineWidth=c*2,e.lineJoin=f||"round"):(e.lineWidth=c,e.lineJoin=f||"bevel");let _=t.endAngle;if(s){ry(e,t,n,r,_,i);for(let C=0;C<s;++C)e.stroke();isNaN(a)||(_=o+(a%Dn||Dn))}b&&eZ(e,t,_),l.selfJoin&&_-o>=hn&&y===0&&f!=="miter"&&ZJ(e,t,_),s||(ry(e,t,n,r,_,i),e.stroke())}class W_ extends Ta{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,n,r){const i=this.getProps(["x","y"],r),{angle:s,distance:o}=Dj(i,{x:t,y:n}),{startAngle:a,endAngle:l,innerRadius:c,outerRadius:f,circumference:p}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),g=(this.options.spacing+this.options.borderWidth)/2,y=jt(p,l-a),b=up(s,a,l)&&a!==l,_=y>=Dn||b,C=ha(o,c+g,f+g);return _&&C}getCenterPoint(t){const{x:n,y:r,startAngle:i,endAngle:s,innerRadius:o,outerRadius:a}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:l,spacing:c}=this.options,f=(i+s)/2,p=(o+a+c+l)/2;return{x:n+Math.cos(f)*p,y:r+Math.sin(f)*p}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:n,circumference:r}=this,i=(n.offset||0)/4,s=(n.spacing||0)/2,o=n.circular;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=r>Dn?Math.floor(r/Dn):0,r===0||this.innerRadius<0||this.outerRadius<0)return;t.save();const a=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(a)*i,Math.sin(a)*i);const l=1-Math.sin(Math.min(hn,r||0)),c=i*l;t.fillStyle=n.backgroundColor,t.strokeStyle=n.borderColor,rZ(t,this,c,s,o),iZ(t,this,c,s,o),t.restore()}}function xI(e,t,n=t){e.lineCap=jt(n.borderCapStyle,t.borderCapStyle),e.setLineDash(jt(n.borderDash,t.borderDash)),e.lineDashOffset=jt(n.borderDashOffset,t.borderDashOffset),e.lineJoin=jt(n.borderJoinStyle,t.borderJoinStyle),e.lineWidth=jt(n.borderWidth,t.borderWidth),e.strokeStyle=jt(n.borderColor,t.borderColor)}function sZ(e,t,n){e.lineTo(n.x,n.y)}function oZ(e){return e.stepped?CY:e.tension||e.cubicInterpolationMode==="monotone"?EY:sZ}function bI(e,t,n={}){const r=e.length,{start:i=0,end:s=r-1}=n,{start:o,end:a}=t,l=Math.max(i,o),c=Math.min(s,a),f=i<o&&s<o||i>a&&s>a;return{count:r,start:l,loop:t.loop,ilen:c<l&&!f?r+c-l:c-l}}function aZ(e,t,n,r){const{points:i,options:s}=t,{count:o,start:a,loop:l,ilen:c}=bI(i,n,r),f=oZ(s);let{move:p=!0,reverse:g}=r||{},y,b,_;for(y=0;y<=c;++y)b=i[(a+(g?c-y:y))%o],!b.skip&&(p?(e.moveTo(b.x,b.y),p=!1):f(e,_,b,g,s.stepped),_=b);return l&&(b=i[(a+(g?c:0))%o],f(e,_,b,g,s.stepped)),!!l}function lZ(e,t,n,r){const i=t.points,{count:s,start:o,ilen:a}=bI(i,n,r),{move:l=!0,reverse:c}=r||{};let f=0,p=0,g,y,b,_,C,E;const R=U=>(o+(c?a-U:U))%s,M=()=>{_!==C&&(e.lineTo(f,C),e.lineTo(f,_),e.lineTo(f,E))};for(l&&(y=i[R(0)],e.moveTo(y.x,y.y)),g=0;g<=a;++g){if(y=i[R(g)],y.skip)continue;const U=y.x,z=y.y,P=U|0;P===b?(z<_?_=z:z>C&&(C=z),f=(p*f+U)/++p):(M(),e.lineTo(U,z),b=P,p=0,_=C=z),E=z}M()}function Ow(e){const t=e.options,n=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!n?lZ:aZ}function uZ(e){return e.stepped?rX:e.tension||e.cubicInterpolationMode==="monotone"?iX:Ru}function cZ(e,t,n,r){let i=t._path;i||(i=t._path=new Path2D,t.path(i,n,r)&&i.closePath()),xI(e,t.options),e.stroke(i)}function dZ(e,t,n,r){const{segments:i,options:s}=t,o=Ow(t);for(const a of i)xI(e,s,a.style),e.beginPath(),o(e,t,a,{start:n,end:n+r-1})&&e.closePath(),e.stroke()}const fZ=typeof Path2D=="function";function hZ(e,t,n,r){fZ&&!t.options.segment?cZ(e,t,n,r):dZ(e,t,n,r)}class ff extends Ta{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"};constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,n){const r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){const i=r.spanGaps?this._loop:this._fullLoop;GY(this._points,r,t,i,n),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=cX(this,this.options.segment))}first(){const t=this.segments,n=this.points;return t.length&&n[t[0].start]}last(){const t=this.segments,n=this.points,r=t.length;return r&&n[t[r-1].end]}interpolate(t,n){const r=this.options,i=t[n],s=this.points,o=nI(this,{property:n,start:i,end:i});if(!o.length)return;const a=[],l=uZ(r);let c,f;for(c=0,f=o.length;c<f;++c){const{start:p,end:g}=o[c],y=s[p],b=s[g];if(y===b){a.push(y);continue}const _=Math.abs((i-y[n])/(b[n]-y[n])),C=l(y,b,_,r.stepped);C[n]=t[n],a.push(C)}return a.length===1?a[0]:a}pathSegment(t,n,r){return Ow(this)(t,this,n,r)}path(t,n,r){const i=this.segments,s=Ow(this);let o=this._loop;n=n||0,r=r||this.points.length-n;for(const a of i)o&=s(t,this,a,{start:n,end:n+r-1});return!!o}draw(t,n,r,i){const s=this.options||{};(this.points||[]).length&&s.borderWidth&&(t.save(),hZ(t,this,r,i),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function ck(e,t,n,r){const i=e.options,{[n]:s}=e.getProps([n],r);return Math.abs(t-s)<i.radius+i.hitRadius}class V_ extends Ta{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,n,r){const i=this.options,{x:s,y:o}=this.getProps(["x","y"],r);return Math.pow(t-s,2)+Math.pow(n-o,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(t,n){return ck(this,t,"x",n)}inYRange(t,n){return ck(this,t,"y",n)}getCenterPoint(t){const{x:n,y:r}=this.getProps(["x","y"],t);return{x:n,y:r}}size(t){t=t||this.options||{};let n=t.radius||0;n=Math.max(n,n&&t.hoverRadius||0);const r=n&&t.borderWidth||0;return(n+r)*2}draw(t,n){const r=this.options;this.skip||r.radius<.1||!ma(this,n,this.size(r)/2)||(t.strokeStyle=r.borderColor,t.lineWidth=r.borderWidth,t.fillStyle=r.backgroundColor,Nw(t,r,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}function wI(e,t){const{x:n,y:r,base:i,width:s,height:o}=e.getProps(["x","y","base","width","height"],t);let a,l,c,f,p;return e.horizontal?(p=o/2,a=Math.min(n,i),l=Math.max(n,i),c=r-p,f=r+p):(p=s/2,a=n-p,l=n+p,c=Math.min(r,i),f=Math.max(r,i)),{left:a,top:c,right:l,bottom:f}}function vl(e,t,n,r){return e?0:$r(t,n,r)}function pZ(e,t,n){const r=e.options.borderWidth,i=e.borderSkipped,s=Vj(r);return{t:vl(i.top,s.top,0,n),r:vl(i.right,s.right,0,t),b:vl(i.bottom,s.bottom,0,n),l:vl(i.left,s.left,0,t)}}function mZ(e,t,n){const{enableBorderRadius:r}=e.getProps(["enableBorderRadius"]),i=e.options.borderRadius,s=Qu(i),o=Math.min(t,n),a=e.borderSkipped,l=r||en(i);return{topLeft:vl(!l||a.top||a.left,s.topLeft,0,o),topRight:vl(!l||a.top||a.right,s.topRight,0,o),bottomLeft:vl(!l||a.bottom||a.left,s.bottomLeft,0,o),bottomRight:vl(!l||a.bottom||a.right,s.bottomRight,0,o)}}function gZ(e){const t=wI(e),n=t.right-t.left,r=t.bottom-t.top,i=pZ(e,n/2,r/2),s=mZ(e,n/2,r/2);return{outer:{x:t.left,y:t.top,w:n,h:r,radius:s},inner:{x:t.left+i.l,y:t.top+i.t,w:n-i.l-i.r,h:r-i.t-i.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,s.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(i.b,i.r))}}}}function Ux(e,t,n,r){const i=t===null,s=n===null,a=e&&!(i&&s)&&wI(e,r);return a&&(i||ha(t,a.left,a.right))&&(s||ha(n,a.top,a.bottom))}function yZ(e){return e.topLeft||e.topRight||e.bottomLeft||e.bottomRight}function vZ(e,t){e.rect(t.x,t.y,t.w,t.h)}function Hx(e,t,n={}){const r=e.x!==n.x?-t:0,i=e.y!==n.y?-t:0,s=(e.x+e.w!==n.x+n.w?t:0)-r,o=(e.y+e.h!==n.y+n.h?t:0)-i;return{x:e.x+r,y:e.y+i,w:e.w+s,h:e.h+o,radius:e.radius}}class Bp extends Ta{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:n,options:{borderColor:r,backgroundColor:i}}=this,{inner:s,outer:o}=gZ(this),a=yZ(o.radius)?cp:vZ;t.save(),(o.w!==s.w||o.h!==s.h)&&(t.beginPath(),a(t,Hx(o,n,s)),t.clip(),a(t,Hx(s,-n,o)),t.fillStyle=r,t.fill("evenodd")),t.beginPath(),a(t,Hx(s,n)),t.fillStyle=i,t.fill(),t.restore()}inRange(t,n,r){return Ux(this,t,n,r)}inXRange(t,n){return Ux(this,t,null,n)}inYRange(t,n){return Ux(this,null,t,n)}getCenterPoint(t){const{x:n,y:r,base:i,horizontal:s}=this.getProps(["x","y","base","horizontal"],t);return{x:s?(n+i)/2:n,y:s?r:(r+i)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}var xZ=Object.freeze({__proto__:null,ArcElement:W_,BarElement:Bp,LineElement:ff,PointElement:V_});const Mw=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],dk=Mw.map(e=>e.replace("rgb(","rgba(").replace(")",", 0.5)"));function _I(e){return Mw[e%Mw.length]}function SI(e){return dk[e%dk.length]}function bZ(e,t){return e.borderColor=_I(t),e.backgroundColor=SI(t),++t}function wZ(e,t){return e.backgroundColor=e.data.map(()=>_I(t++)),t}function _Z(e,t){return e.backgroundColor=e.data.map(()=>SI(t++)),t}function SZ(e){let t=0;return(n,r)=>{const i=e.getDatasetMeta(r).controller;i instanceof Jy?t=wZ(n,t):i instanceof lI?t=_Z(n,t):i&&(t=bZ(n,t))}}function fk(e){let t;for(t in e)if(e[t].borderColor||e[t].backgroundColor)return!0;return!1}function CZ(e){return e&&(e.borderColor||e.backgroundColor)}function EZ(){return Wn.borderColor!=="rgba(0,0,0,0.1)"||Wn.backgroundColor!=="rgba(0,0,0,0.1)"}var kZ={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(e,t,n){if(!n.enabled)return;const{data:{datasets:r},options:i}=e.config,{elements:s}=i,o=fk(r)||CZ(i)||s&&fk(s)||EZ();if(!n.forceOverride&&o)return;const a=SZ(e);r.forEach(a)}};function TZ(e,t,n,r,i){const s=i.samples||r;if(s>=n)return e.slice(t,t+n);const o=[],a=(n-2)/(s-2);let l=0;const c=t+n-1;let f=t,p,g,y,b,_;for(o[l++]=e[f],p=0;p<s-2;p++){let C=0,E=0,R;const M=Math.floor((p+1)*a)+1+t,U=Math.min(Math.floor((p+2)*a)+1,n)+t,z=U-M;for(R=M;R<U;R++)C+=e[R].x,E+=e[R].y;C/=z,E/=z;const P=Math.floor(p*a)+1+t,N=Math.min(Math.floor((p+1)*a)+1,n)+t,{x:B,y:$}=e[f];for(y=b=-1,R=P;R<N;R++)b=.5*Math.abs((B-C)*(e[R].y-$)-(B-e[R].x)*(E-$)),b>y&&(y=b,g=e[R],_=R);o[l++]=g,f=_}return o[l++]=e[c],o}function jZ(e,t,n,r){let i=0,s=0,o,a,l,c,f,p,g,y,b,_;const C=[],E=t+n-1,R=e[t].x,U=e[E].x-R;for(o=t;o<t+n;++o){a=e[o],l=(a.x-R)/U*r,c=a.y;const z=l|0;if(z===f)c<b?(b=c,p=o):c>_&&(_=c,g=o),i=(s*i+a.x)/++s;else{const P=o-1;if(!Jt(p)&&!Jt(g)){const N=Math.min(p,g),B=Math.max(p,g);N!==y&&N!==P&&C.push({...e[N],x:i}),B!==y&&B!==P&&C.push({...e[B],x:i})}o>0&&P!==y&&C.push(e[P]),C.push(a),f=z,s=0,b=_=c,p=g=y=o}}return C}function CI(e){if(e._decimated){const t=e._data;delete e._decimated,delete e._data,Object.defineProperty(e,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function hk(e){e.data.datasets.forEach(t=>{CI(t)})}function IZ(e,t){const n=t.length;let r=0,i;const{iScale:s}=e,{min:o,max:a,minDefined:l,maxDefined:c}=s.getUserBounds();return l&&(r=$r(pa(t,s.axis,o).lo,0,n-1)),c?i=$r(pa(t,s.axis,a).hi+1,r,n)-r:i=n-r,{start:r,count:i}}var NZ={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(e,t,n)=>{if(!n.enabled){hk(e);return}const r=e.width;e.data.datasets.forEach((i,s)=>{const{_data:o,indexAxis:a}=i,l=e.getDatasetMeta(s),c=o||i.data;if(Eh([a,e.options.indexAxis])==="y"||!l.controller.supportsDecimation)return;const f=e.scales[l.xAxisID];if(f.type!=="linear"&&f.type!=="time"||e.options.parsing)return;let{start:p,count:g}=IZ(l,c);const y=n.threshold||4*r;if(g<=y){CI(i);return}Jt(o)&&(i._data=c,delete i.data,Object.defineProperty(i,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(_){this._data=_}}));let b;switch(n.algorithm){case"lttb":b=TZ(c,p,g,r,n);break;case"min-max":b=jZ(c,p,g,r);break;default:throw new Error(`Unsupported decimation algorithm '${n.algorithm}'`)}i._decimated=b})},destroy(e){hk(e)}};function RZ(e,t,n){const r=e.segments,i=e.points,s=t.points,o=[];for(const a of r){let{start:l,end:c}=a;c=e1(l,c,i);const f=Aw(n,i[l],i[c],a.loop);if(!t.segments){o.push({source:a,target:f,start:i[l],end:i[c]});continue}const p=nI(t,f);for(const g of p){const y=Aw(n,s[g.start],s[g.end],g.loop),b=tI(a,i,y);for(const _ of b)o.push({source:_,target:g,start:{[n]:pk(f,y,"start",Math.max)},end:{[n]:pk(f,y,"end",Math.min)}})}}return o}function Aw(e,t,n,r){if(r)return;let i=t[e],s=n[e];return e==="angle"&&(i=oi(i),s=oi(s)),{property:e,start:i,end:s}}function PZ(e,t){const{x:n=null,y:r=null}=e||{},i=t.points,s=[];return t.segments.forEach(({start:o,end:a})=>{a=e1(o,a,i);const l=i[o],c=i[a];r!==null?(s.push({x:l.x,y:r}),s.push({x:c.x,y:r})):n!==null&&(s.push({x:n,y:l.y}),s.push({x:n,y:c.y}))}),s}function e1(e,t,n){for(;t>e;t--){const r=n[t];if(!isNaN(r.x)&&!isNaN(r.y))break}return t}function pk(e,t,n,r){return e&&t?r(e[n],t[n]):e?e[n]:t?t[n]:0}function EI(e,t){let n=[],r=!1;return Hn(e)?(r=!0,n=e):n=PZ(e,t),n.length?new ff({points:n,options:{tension:0},_loop:r,_fullLoop:r}):null}function mk(e){return e&&e.fill!==!1}function OZ(e,t,n){let i=e[t].fill;const s=[t];let o;if(!n)return i;for(;i!==!1&&s.indexOf(i)===-1;){if(!sr(i))return i;if(o=e[i],!o)return!1;if(o.visible)return i;s.push(i),i=o.fill}return!1}function MZ(e,t,n){const r=FZ(e);if(en(r))return isNaN(r.value)?!1:r;let i=parseFloat(r);return sr(i)&&Math.floor(i)===i?AZ(r[0],t,i,n):["origin","start","end","stack","shape"].indexOf(r)>=0&&r}function AZ(e,t,n,r){return(e==="-"||e==="+")&&(n=t+n),n===t||n<0||n>=r?!1:n}function DZ(e,t){let n=null;return e==="start"?n=t.bottom:e==="end"?n=t.top:en(e)?n=t.getPixelForValue(e.value):t.getBasePixel&&(n=t.getBasePixel()),n}function LZ(e,t,n){let r;return e==="start"?r=n:e==="end"?r=t.options.reverse?t.min:t.max:en(e)?r=e.value:r=t.getBaseValue(),r}function FZ(e){const t=e.options,n=t.fill;let r=jt(n&&n.target,n);return r===void 0&&(r=!!t.backgroundColor),r===!1||r===null?!1:r===!0?"origin":r}function BZ(e){const{scale:t,index:n,line:r}=e,i=[],s=r.segments,o=r.points,a=zZ(t,n);a.push(EI({x:null,y:t.bottom},r));for(let l=0;l<s.length;l++){const c=s[l];for(let f=c.start;f<=c.end;f++)$Z(i,o[f],a)}return new ff({points:i,options:{}})}function zZ(e,t){const n=[],r=e.getMatchingVisibleMetas("line");for(let i=0;i<r.length;i++){const s=r[i];if(s.index===t)break;s.hidden||n.unshift(s.dataset)}return n}function $Z(e,t,n){const r=[];for(let i=0;i<n.length;i++){const s=n[i],{first:o,last:a,point:l}=UZ(s,t,"x");if(!(!l||o&&a)){if(o)r.unshift(l);else if(e.push(l),!a)break}}e.push(...r)}function UZ(e,t,n){const r=e.interpolate(t,n);if(!r)return{};const i=r[n],s=e.segments,o=e.points;let a=!1,l=!1;for(let c=0;c<s.length;c++){const f=s[c],p=o[f.start][n],g=o[f.end][n];if(ha(i,p,g)){a=i===p,l=i===g;break}}return{first:a,last:l,point:r}}class kI{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,n,r){const{x:i,y:s,radius:o}=this;return n=n||{start:0,end:Dn},t.arc(i,s,o,n.end,n.start,!0),!r.bounds}interpolate(t){const{x:n,y:r,radius:i}=this,s=t.angle;return{x:n+Math.cos(s)*i,y:r+Math.sin(s)*i,angle:s}}}function HZ(e){const{chart:t,fill:n,line:r}=e;if(sr(n))return WZ(t,n);if(n==="stack")return BZ(e);if(n==="shape")return!0;const i=VZ(e);return i instanceof kI?i:EI(i,r)}function WZ(e,t){const n=e.getDatasetMeta(t);return n&&e.isDatasetVisible(t)?n.dataset:null}function VZ(e){return(e.scale||{}).getPointPositionForValue?QZ(e):qZ(e)}function qZ(e){const{scale:t={},fill:n}=e,r=DZ(n,t);if(sr(r)){const i=t.isHorizontal();return{x:i?r:null,y:i?null:r}}return null}function QZ(e){const{scale:t,fill:n}=e,r=t.options,i=t.getLabels().length,s=r.reverse?t.max:t.min,o=LZ(n,t,s),a=[];if(r.grid.circular){const l=t.getPointPositionForValue(0,s);return new kI({x:l.x,y:l.y,radius:t.getDistanceFromCenterForValue(o)})}for(let l=0;l<i;++l)a.push(t.getPointPositionForValue(l,o));return a}function Wx(e,t,n){const r=HZ(t),{chart:i,index:s,line:o,scale:a,axis:l}=t,c=o.options,f=c.fill,p=c.backgroundColor,{above:g=p,below:y=p}=f||{},b=i.getDatasetMeta(s),_=rI(i,b);r&&o.points.length&&(Gy(e,n),KZ(e,{line:o,target:r,above:g,below:y,area:n,scale:a,axis:l,clip:_}),Yy(e))}function KZ(e,t){const{line:n,target:r,above:i,below:s,area:o,scale:a,clip:l}=t,c=n._loop?"angle":t.axis;e.save();let f=s;s!==i&&(c==="x"?(gk(e,r,o.top),Vx(e,{line:n,target:r,color:i,scale:a,property:c,clip:l}),e.restore(),e.save(),gk(e,r,o.bottom)):c==="y"&&(yk(e,r,o.left),Vx(e,{line:n,target:r,color:s,scale:a,property:c,clip:l}),e.restore(),e.save(),yk(e,r,o.right),f=i)),Vx(e,{line:n,target:r,color:f,scale:a,property:c,clip:l}),e.restore()}function gk(e,t,n){const{segments:r,points:i}=t;let s=!0,o=!1;e.beginPath();for(const a of r){const{start:l,end:c}=a,f=i[l],p=i[e1(l,c,i)];s?(e.moveTo(f.x,f.y),s=!1):(e.lineTo(f.x,n),e.lineTo(f.x,f.y)),o=!!t.pathSegment(e,a,{move:o}),o?e.closePath():e.lineTo(p.x,n)}e.lineTo(t.first().x,n),e.closePath(),e.clip()}function yk(e,t,n){const{segments:r,points:i}=t;let s=!0,o=!1;e.beginPath();for(const a of r){const{start:l,end:c}=a,f=i[l],p=i[e1(l,c,i)];s?(e.moveTo(f.x,f.y),s=!1):(e.lineTo(n,f.y),e.lineTo(f.x,f.y)),o=!!t.pathSegment(e,a,{move:o}),o?e.closePath():e.lineTo(n,p.y)}e.lineTo(n,t.first().y),e.closePath(),e.clip()}function Vx(e,t){const{line:n,target:r,property:i,color:s,scale:o,clip:a}=t,l=RZ(n,r,i);for(const{source:c,target:f,start:p,end:g}of l){const{style:{backgroundColor:y=s}={}}=c,b=r!==!0;e.save(),e.fillStyle=y,GZ(e,o,a,b&&Aw(i,p,g)),e.beginPath();const _=!!n.pathSegment(e,c);let C;if(b){_?e.closePath():vk(e,r,g,i);const E=!!r.pathSegment(e,f,{move:_,reverse:!0});C=_&&E,C||vk(e,r,p,i)}e.closePath(),e.fill(C?"evenodd":"nonzero"),e.restore()}}function GZ(e,t,n,r){const i=t.chart.chartArea,{property:s,start:o,end:a}=r||{};if(s==="x"||s==="y"){let l,c,f,p;s==="x"?(l=o,c=i.top,f=a,p=i.bottom):(l=i.left,c=o,f=i.right,p=a),e.beginPath(),n&&(l=Math.max(l,n.left),f=Math.min(f,n.right),c=Math.max(c,n.top),p=Math.min(p,n.bottom)),e.rect(l,c,f-l,p-c),e.clip()}}function vk(e,t,n,r){const i=t.interpolate(n,r);i&&e.lineTo(i.x,i.y)}var TI={id:"filler",afterDatasetsUpdate(e,t,n){const r=(e.data.datasets||[]).length,i=[];let s,o,a,l;for(o=0;o<r;++o)s=e.getDatasetMeta(o),a=s.dataset,l=null,a&&a.options&&a instanceof ff&&(l={visible:e.isDatasetVisible(o),index:o,fill:MZ(a,o,r),chart:e,axis:s.controller.options.indexAxis,scale:s.vScale,line:a}),s.$filler=l,i.push(l);for(o=0;o<r;++o)l=i[o],!(!l||l.fill===!1)&&(l.fill=OZ(i,o,n.propagate))},beforeDraw(e,t,n){const r=n.drawTime==="beforeDraw",i=e.getSortedVisibleDatasetMetas(),s=e.chartArea;for(let o=i.length-1;o>=0;--o){const a=i[o].$filler;a&&(a.line.updateControlPoints(s,a.axis),r&&a.fill&&Wx(e.ctx,a,s))}},beforeDatasetsDraw(e,t,n){if(n.drawTime!=="beforeDatasetsDraw")return;const r=e.getSortedVisibleDatasetMetas();for(let i=r.length-1;i>=0;--i){const s=r[i].$filler;mk(s)&&Wx(e.ctx,s,e.chartArea)}},beforeDatasetDraw(e,t,n){const r=t.meta.$filler;!mk(r)||n.drawTime!=="beforeDatasetDraw"||Wx(e.ctx,r,e.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const xk=(e,t)=>{let{boxHeight:n=t,boxWidth:r=t}=e;return e.usePointStyle&&(n=Math.min(n,t),r=e.pointStyleWidth||Math.min(r,t)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(t,n)}},YZ=(e,t)=>e!==null&&t!==null&&e.datasetIndex===t.datasetIndex&&e.index===t.index;class bk extends Ta{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n,r){this.maxWidth=t,this.maxHeight=n,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let n=Rn(t.generateLabels,[this.chart],this)||[];t.filter&&(n=n.filter(r=>t.filter(r,this.chart.data))),t.sort&&(n=n.sort((r,i)=>t.sort(r,i,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:t,ctx:n}=this;if(!t.display){this.width=this.height=0;return}const r=t.labels,i=Nr(r.font),s=i.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=xk(r,s);let c,f;n.font=i.string,this.isHorizontal()?(c=this.maxWidth,f=this._fitRows(o,s,a,l)+10):(f=this.maxHeight,c=this._fitCols(o,i,a,l)+10),this.width=Math.min(c,t.maxWidth||this.maxWidth),this.height=Math.min(f,t.maxHeight||this.maxHeight)}_fitRows(t,n,r,i){const{ctx:s,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],f=i+a;let p=t;s.textAlign="left",s.textBaseline="middle";let g=-1,y=-f;return this.legendItems.forEach((b,_)=>{const C=r+n/2+s.measureText(b.text).width;(_===0||c[c.length-1]+C+2*a>o)&&(p+=f,c[c.length-(_>0?0:1)]=0,y+=f,g++),l[_]={left:0,top:y,row:g,width:C,height:i},c[c.length-1]+=C+a}),p}_fitCols(t,n,r,i){const{ctx:s,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],f=o-t;let p=a,g=0,y=0,b=0,_=0;return this.legendItems.forEach((C,E)=>{const{itemWidth:R,itemHeight:M}=XZ(r,n,s,C,i);E>0&&y+M+2*a>f&&(p+=g+a,c.push({width:g,height:y}),b+=g+a,_++,g=y=0),l[E]={left:b,top:y,col:_,width:R,height:M},g=Math.max(g,R),y+=M+a}),p+=g,c.push({width:g,height:y}),p}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:r,labels:{padding:i},rtl:s}}=this,o=Dd(s,this.left,this.width);if(this.isHorizontal()){let a=0,l=ii(r,this.left+i,this.right-this.lineWidths[a]);for(const c of n)a!==c.row&&(a=c.row,l=ii(r,this.left+i,this.right-this.lineWidths[a])),c.top+=this.top+t+i,c.left=o.leftForLtr(o.x(l),c.width),l+=c.width+i}else{let a=0,l=ii(r,this.top+t+i,this.bottom-this.columnSizes[a].height);for(const c of n)c.col!==a&&(a=c.col,l=ii(r,this.top+t+i,this.bottom-this.columnSizes[a].height)),c.top=l,c.left+=this.left+i,c.left=o.leftForLtr(o.x(c.left),c.width),l+=c.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;Gy(t,this),this._draw(),Yy(t)}}_draw(){const{options:t,columnSizes:n,lineWidths:r,ctx:i}=this,{align:s,labels:o}=t,a=Wn.color,l=Dd(t.rtl,this.left,this.width),c=Nr(o.font),{padding:f}=o,p=c.size,g=p/2;let y;this.drawTitle(),i.textAlign=l.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=c.string;const{boxWidth:b,boxHeight:_,itemHeight:C}=xk(o,p),E=function(P,N,B){if(isNaN(b)||b<=0||isNaN(_)||_<0)return;i.save();const $=jt(B.lineWidth,1);if(i.fillStyle=jt(B.fillStyle,a),i.lineCap=jt(B.lineCap,"butt"),i.lineDashOffset=jt(B.lineDashOffset,0),i.lineJoin=jt(B.lineJoin,"miter"),i.lineWidth=$,i.strokeStyle=jt(B.strokeStyle,a),i.setLineDash(jt(B.lineDash,[])),o.usePointStyle){const D={radius:_*Math.SQRT2/2,pointStyle:B.pointStyle,rotation:B.rotation,borderWidth:$},J=l.xPlus(P,b/2),X=N+g;Wj(i,D,J,X,o.pointStyleWidth&&b)}else{const D=N+Math.max((p-_)/2,0),J=l.leftForLtr(P,b),X=Qu(B.borderRadius);i.beginPath(),Object.values(X).some(ie=>ie!==0)?cp(i,{x:J,y:D,w:b,h:_,radius:X}):i.rect(J,D,b,_),i.fill(),$!==0&&i.stroke()}i.restore()},R=function(P,N,B){tc(i,B.text,P,N+C/2,c,{strikethrough:B.hidden,textAlign:l.textAlign(B.textAlign)})},M=this.isHorizontal(),U=this._computeTitleHeight();M?y={x:ii(s,this.left+f,this.right-r[0]),y:this.top+f+U,line:0}:y={x:this.left+f,y:ii(s,this.top+U+f,this.bottom-n[0].height),line:0},Jj(this.ctx,t.textDirection);const z=C+f;this.legendItems.forEach((P,N)=>{i.strokeStyle=P.fontColor,i.fillStyle=P.fontColor;const B=i.measureText(P.text).width,$=l.textAlign(P.textAlign||(P.textAlign=o.textAlign)),D=b+g+B;let J=y.x,X=y.y;l.setWidth(this.width),M?N>0&&J+D+f>this.right&&(X=y.y+=z,y.line++,J=y.x=ii(s,this.left+f,this.right-r[y.line])):N>0&&X+z>this.bottom&&(J=y.x=J+n[y.line].width+f,y.line++,X=y.y=ii(s,this.top+U+f,this.bottom-n[y.line].height));const ie=l.x(J);if(E(ie,X,P),J=hY($,J+b+g,M?J+D:this.right,t.rtl),R(l.x(J),X,P),M)y.x+=D+f;else if(typeof P.text!="string"){const q=c.lineHeight;y.y+=jI(P,q)+f}else y.y+=z}),Zj(this.ctx,t.textDirection)}drawTitle(){const t=this.options,n=t.title,r=Nr(n.font),i=ci(n.padding);if(!n.display)return;const s=Dd(t.rtl,this.left,this.width),o=this.ctx,a=n.position,l=r.size/2,c=i.top+l;let f,p=this.left,g=this.width;if(this.isHorizontal())g=Math.max(...this.lineWidths),f=this.top+c,p=ii(t.align,p,this.right-g);else{const b=this.columnSizes.reduce((_,C)=>Math.max(_,C.height),0);f=c+ii(t.align,this.top,this.bottom-b-t.labels.padding-this._computeTitleHeight())}const y=ii(a,p,p+g);o.textAlign=s.textAlign(A_(a)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=r.string,tc(o,n.text,y,f,r)}_computeTitleHeight(){const t=this.options.title,n=Nr(t.font),r=ci(t.padding);return t.display?n.lineHeight+r.height:0}_getLegendItemAt(t,n){let r,i,s;if(ha(t,this.left,this.right)&&ha(n,this.top,this.bottom)){for(s=this.legendHitBoxes,r=0;r<s.length;++r)if(i=s[r],ha(t,i.left,i.left+i.width)&&ha(n,i.top,i.top+i.height))return this.legendItems[r]}return null}handleEvent(t){const n=this.options;if(!eee(t.type,n))return;const r=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const i=this._hoveredItem,s=YZ(i,r);i&&!s&&Rn(n.onLeave,[t,i,this],this),this._hoveredItem=r,r&&!s&&Rn(n.onHover,[t,r,this],this)}else r&&Rn(n.onClick,[t,r,this],this)}}function XZ(e,t,n,r,i){const s=JZ(r,e,t,n),o=ZZ(i,r,t.lineHeight);return{itemWidth:s,itemHeight:o}}function JZ(e,t,n,r){let i=e.text;return i&&typeof i!="string"&&(i=i.reduce((s,o)=>s.length>o.length?s:o)),t+n.size/2+r.measureText(i).width}function ZZ(e,t,n){let r=e;return typeof t.text!="string"&&(r=jI(t,n)),r}function jI(e,t){const n=e.text?e.text.length:0;return t*n}function eee(e,t){return!!((e==="mousemove"||e==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(e==="click"||e==="mouseup"))}var hf={id:"legend",_element:bk,start(e,t,n){const r=e.legend=new bk({ctx:e.ctx,options:n,chart:e});ai.configure(e,r,n),ai.addBox(e,r)},stop(e){ai.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,n){const r=e.legend;ai.configure(e,r,n),r.options=n},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,n){const r=t.datasetIndex,i=n.chart;i.isDatasetVisible(r)?(i.hide(r),t.hidden=!0):(i.show(r),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:i,color:s,useBorderRadius:o,borderRadius:a}}=e.legend.options;return e._getSortedDatasetMetas().map(l=>{const c=l.controller.getStyle(n?0:void 0),f=ci(c.borderWidth);return{text:t[l.index].label,fillStyle:c.backgroundColor,fontColor:s,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(f.width+f.height)/4,strokeStyle:c.borderColor,pointStyle:r||c.pointStyle,rotation:c.rotation,textAlign:i||c.textAlign,borderRadius:o&&(a||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class q_ extends Ta{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n){const r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=n;const i=Hn(r.text)?r.text.length:1;this._padding=ci(r.padding);const s=i*Nr(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:n,left:r,bottom:i,right:s,options:o}=this,a=o.align;let l=0,c,f,p;return this.isHorizontal()?(f=ii(a,r,s),p=n+t,c=s-r):(o.position==="left"?(f=r+t,p=ii(a,i,n),l=hn*-.5):(f=s-t,p=ii(a,n,i),l=hn*.5),c=i-n),{titleX:f,titleY:p,maxWidth:c,rotation:l}}draw(){const t=this.ctx,n=this.options;if(!n.display)return;const r=Nr(n.font),s=r.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:c}=this._drawArgs(s);tc(t,n.text,0,0,r,{color:n.color,maxWidth:l,rotation:c,textAlign:A_(n.align),textBaseline:"middle",translation:[o,a]})}}function tee(e,t){const n=new q_({ctx:e.ctx,options:t,chart:e});ai.configure(e,n,t),ai.addBox(e,n),e.titleBlock=n}var II={id:"title",_element:q_,start(e,t,n){tee(e,n)},stop(e){const t=e.titleBlock;ai.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,n){const r=e.titleBlock;ai.configure(e,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Dg=new WeakMap;var nee={id:"subtitle",start(e,t,n){const r=new q_({ctx:e.ctx,options:n,chart:e});ai.configure(e,r,n),ai.addBox(e,r),Dg.set(e,r)},stop(e){ai.removeBox(e,Dg.get(e)),Dg.delete(e)},beforeUpdate(e,t,n){const r=Dg.get(e);ai.configure(e,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Th={average(e){if(!e.length)return!1;let t,n,r=new Set,i=0,s=0;for(t=0,n=e.length;t<n;++t){const a=e[t].element;if(a&&a.hasValue()){const l=a.tooltipPosition();r.add(l.x),i+=l.y,++s}}return s===0||r.size===0?!1:{x:[...r].reduce((a,l)=>a+l)/r.size,y:i/s}},nearest(e,t){if(!e.length)return!1;let n=t.x,r=t.y,i=Number.POSITIVE_INFINITY,s,o,a;for(s=0,o=e.length;s<o;++s){const l=e[s].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),f=jw(t,c);f<i&&(i=f,a=l)}}if(a){const l=a.tooltipPosition();n=l.x,r=l.y}return{x:n,y:r}}};function Eo(e,t){return t&&(Hn(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function sa(e){return(typeof e=="string"||e instanceof String)&&e.indexOf(`
`)>-1?e.split(`
`):e}function ree(e,t){const{element:n,datasetIndex:r,index:i}=t,s=e.getDatasetMeta(r).controller,{label:o,value:a}=s.getLabelAndValue(i);return{chart:e,label:o,parsed:s.getParsed(i),raw:e.data.datasets[r].data[i],formattedValue:a,dataset:s.getDataset(),dataIndex:i,datasetIndex:r,element:n}}function wk(e,t){const n=e.chart.ctx,{body:r,footer:i,title:s}=e,{boxWidth:o,boxHeight:a}=t,l=Nr(t.bodyFont),c=Nr(t.titleFont),f=Nr(t.footerFont),p=s.length,g=i.length,y=r.length,b=ci(t.padding);let _=b.height,C=0,E=r.reduce((U,z)=>U+z.before.length+z.lines.length+z.after.length,0);if(E+=e.beforeBody.length+e.afterBody.length,p&&(_+=p*c.lineHeight+(p-1)*t.titleSpacing+t.titleMarginBottom),E){const U=t.displayColors?Math.max(a,l.lineHeight):l.lineHeight;_+=y*U+(E-y)*l.lineHeight+(E-1)*t.bodySpacing}g&&(_+=t.footerMarginTop+g*f.lineHeight+(g-1)*t.footerSpacing);let R=0;const M=function(U){C=Math.max(C,n.measureText(U).width+R)};return n.save(),n.font=c.string,vn(e.title,M),n.font=l.string,vn(e.beforeBody.concat(e.afterBody),M),R=t.displayColors?o+2+t.boxPadding:0,vn(r,U=>{vn(U.before,M),vn(U.lines,M),vn(U.after,M)}),R=0,n.font=f.string,vn(e.footer,M),n.restore(),C+=b.width,{width:C,height:_}}function iee(e,t){const{y:n,height:r}=t;return n<r/2?"top":n>e.height-r/2?"bottom":"center"}function see(e,t,n,r){const{x:i,width:s}=r,o=n.caretSize+n.caretPadding;if(e==="left"&&i+s+o>t.width||e==="right"&&i-s-o<0)return!0}function oee(e,t,n,r){const{x:i,width:s}=n,{width:o,chartArea:{left:a,right:l}}=e;let c="center";return r==="center"?c=i<=(a+l)/2?"left":"right":i<=s/2?c="left":i>=o-s/2&&(c="right"),see(c,e,t,n)&&(c="center"),c}function _k(e,t,n){const r=n.yAlign||t.yAlign||iee(e,n);return{xAlign:n.xAlign||t.xAlign||oee(e,t,n,r),yAlign:r}}function aee(e,t){let{x:n,width:r}=e;return t==="right"?n-=r:t==="center"&&(n-=r/2),n}function lee(e,t,n){let{y:r,height:i}=e;return t==="top"?r+=n:t==="bottom"?r-=i+n:r-=i/2,r}function Sk(e,t,n,r){const{caretSize:i,caretPadding:s,cornerRadius:o}=e,{xAlign:a,yAlign:l}=n,c=i+s,{topLeft:f,topRight:p,bottomLeft:g,bottomRight:y}=Qu(o);let b=aee(t,a);const _=lee(t,l,c);return l==="center"?a==="left"?b+=c:a==="right"&&(b-=c):a==="left"?b-=Math.max(f,g)+i:a==="right"&&(b+=Math.max(p,y)+i),{x:$r(b,0,r.width-t.width),y:$r(_,0,r.height-t.height)}}function Lg(e,t,n){const r=ci(n.padding);return t==="center"?e.x+e.width/2:t==="right"?e.x+e.width-r.right:e.x+r.left}function Ck(e){return Eo([],sa(e))}function uee(e,t,n){return Ul(e,{tooltip:t,tooltipItems:n,type:"tooltip"})}function Ek(e,t){const n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?e.override(n):e}const NI={beforeTitle:ta,title(e){if(e.length>0){const t=e[0],n=t.chart.data.labels,r=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(r>0&&t.dataIndex<r)return n[t.dataIndex]}return""},afterTitle:ta,beforeBody:ta,beforeLabel:ta,label(e){if(this&&this.options&&this.options.mode==="dataset")return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const n=e.formattedValue;return Jt(n)||(t+=n),t},labelColor(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:ta,afterBody:ta,beforeFooter:ta,footer:ta,afterFooter:ta};function Mi(e,t,n,r){const i=e[t].call(n,r);return typeof i>"u"?NI[t].call(n,r):i}class kk extends Ta{static positioners=Th;constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const n=this.chart,r=this.options.setContext(this.getContext()),i=r.enabled&&n.options.animation&&r.animations,s=new iI(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=uee(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,n){const{callbacks:r}=n,i=Mi(r,"beforeTitle",this,t),s=Mi(r,"title",this,t),o=Mi(r,"afterTitle",this,t);let a=[];return a=Eo(a,sa(i)),a=Eo(a,sa(s)),a=Eo(a,sa(o)),a}getBeforeBody(t,n){return Ck(Mi(n.callbacks,"beforeBody",this,t))}getBody(t,n){const{callbacks:r}=n,i=[];return vn(t,s=>{const o={before:[],lines:[],after:[]},a=Ek(r,s);Eo(o.before,sa(Mi(a,"beforeLabel",this,s))),Eo(o.lines,Mi(a,"label",this,s)),Eo(o.after,sa(Mi(a,"afterLabel",this,s))),i.push(o)}),i}getAfterBody(t,n){return Ck(Mi(n.callbacks,"afterBody",this,t))}getFooter(t,n){const{callbacks:r}=n,i=Mi(r,"beforeFooter",this,t),s=Mi(r,"footer",this,t),o=Mi(r,"afterFooter",this,t);let a=[];return a=Eo(a,sa(i)),a=Eo(a,sa(s)),a=Eo(a,sa(o)),a}_createItems(t){const n=this._active,r=this.chart.data,i=[],s=[],o=[];let a=[],l,c;for(l=0,c=n.length;l<c;++l)a.push(ree(this.chart,n[l]));return t.filter&&(a=a.filter((f,p,g)=>t.filter(f,p,g,r))),t.itemSort&&(a=a.sort((f,p)=>t.itemSort(f,p,r))),vn(a,f=>{const p=Ek(t.callbacks,f);i.push(Mi(p,"labelColor",this,f)),s.push(Mi(p,"labelPointStyle",this,f)),o.push(Mi(p,"labelTextColor",this,f))}),this.labelColors=i,this.labelPointStyles=s,this.labelTextColors=o,this.dataPoints=a,a}update(t,n){const r=this.options.setContext(this.getContext()),i=this._active;let s,o=[];if(!i.length)this.opacity!==0&&(s={opacity:0});else{const a=Th[r.position].call(this,i,this._eventPosition);o=this._createItems(r),this.title=this.getTitle(o,r),this.beforeBody=this.getBeforeBody(o,r),this.body=this.getBody(o,r),this.afterBody=this.getAfterBody(o,r),this.footer=this.getFooter(o,r);const l=this._size=wk(this,r),c=Object.assign({},a,l),f=_k(this.chart,r,c),p=Sk(r,c,f,this.chart);this.xAlign=f.xAlign,this.yAlign=f.yAlign,s={opacity:1,x:p.x,y:p.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,s&&this._resolveAnimations().update(this,s),t&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(t,n,r,i){const s=this.getCaretPosition(t,r,i);n.lineTo(s.x1,s.y1),n.lineTo(s.x2,s.y2),n.lineTo(s.x3,s.y3)}getCaretPosition(t,n,r){const{xAlign:i,yAlign:s}=this,{caretSize:o,cornerRadius:a}=r,{topLeft:l,topRight:c,bottomLeft:f,bottomRight:p}=Qu(a),{x:g,y}=t,{width:b,height:_}=n;let C,E,R,M,U,z;return s==="center"?(U=y+_/2,i==="left"?(C=g,E=C-o,M=U+o,z=U-o):(C=g+b,E=C+o,M=U-o,z=U+o),R=C):(i==="left"?E=g+Math.max(l,f)+o:i==="right"?E=g+b-Math.max(c,p)-o:E=this.caretX,s==="top"?(M=y,U=M-o,C=E-o,R=E+o):(M=y+_,U=M+o,C=E+o,R=E-o),z=M),{x1:C,x2:E,x3:R,y1:M,y2:U,y3:z}}drawTitle(t,n,r){const i=this.title,s=i.length;let o,a,l;if(s){const c=Dd(r.rtl,this.x,this.width);for(t.x=Lg(this,r.titleAlign,r),n.textAlign=c.textAlign(r.titleAlign),n.textBaseline="middle",o=Nr(r.titleFont),a=r.titleSpacing,n.fillStyle=r.titleColor,n.font=o.string,l=0;l<s;++l)n.fillText(i[l],c.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+a,l+1===s&&(t.y+=r.titleMarginBottom-a)}}_drawColorBox(t,n,r,i,s){const o=this.labelColors[r],a=this.labelPointStyles[r],{boxHeight:l,boxWidth:c}=s,f=Nr(s.bodyFont),p=Lg(this,"left",s),g=i.x(p),y=l<f.lineHeight?(f.lineHeight-l)/2:0,b=n.y+y;if(s.usePointStyle){const _={radius:Math.min(c,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},C=i.leftForLtr(g,c)+c/2,E=b+l/2;t.strokeStyle=s.multiKeyBackground,t.fillStyle=s.multiKeyBackground,Nw(t,_,C,E),t.strokeStyle=o.borderColor,t.fillStyle=o.backgroundColor,Nw(t,_,C,E)}else{t.lineWidth=en(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,t.strokeStyle=o.borderColor,t.setLineDash(o.borderDash||[]),t.lineDashOffset=o.borderDashOffset||0;const _=i.leftForLtr(g,c),C=i.leftForLtr(i.xPlus(g,1),c-2),E=Qu(o.borderRadius);Object.values(E).some(R=>R!==0)?(t.beginPath(),t.fillStyle=s.multiKeyBackground,cp(t,{x:_,y:b,w:c,h:l,radius:E}),t.fill(),t.stroke(),t.fillStyle=o.backgroundColor,t.beginPath(),cp(t,{x:C,y:b+1,w:c-2,h:l-2,radius:E}),t.fill()):(t.fillStyle=s.multiKeyBackground,t.fillRect(_,b,c,l),t.strokeRect(_,b,c,l),t.fillStyle=o.backgroundColor,t.fillRect(C,b+1,c-2,l-2))}t.fillStyle=this.labelTextColors[r]}drawBody(t,n,r){const{body:i}=this,{bodySpacing:s,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:c,boxPadding:f}=r,p=Nr(r.bodyFont);let g=p.lineHeight,y=0;const b=Dd(r.rtl,this.x,this.width),_=function(B){n.fillText(B,b.x(t.x+y),t.y+g/2),t.y+=g+s},C=b.textAlign(o);let E,R,M,U,z,P,N;for(n.textAlign=o,n.textBaseline="middle",n.font=p.string,t.x=Lg(this,C,r),n.fillStyle=r.bodyColor,vn(this.beforeBody,_),y=a&&C!=="right"?o==="center"?c/2+f:c+2+f:0,U=0,P=i.length;U<P;++U){for(E=i[U],R=this.labelTextColors[U],n.fillStyle=R,vn(E.before,_),M=E.lines,a&&M.length&&(this._drawColorBox(n,t,U,b,r),g=Math.max(p.lineHeight,l)),z=0,N=M.length;z<N;++z)_(M[z]),g=p.lineHeight;vn(E.after,_)}y=0,g=p.lineHeight,vn(this.afterBody,_),t.y-=s}drawFooter(t,n,r){const i=this.footer,s=i.length;let o,a;if(s){const l=Dd(r.rtl,this.x,this.width);for(t.x=Lg(this,r.footerAlign,r),t.y+=r.footerMarginTop,n.textAlign=l.textAlign(r.footerAlign),n.textBaseline="middle",o=Nr(r.footerFont),n.fillStyle=r.footerColor,n.font=o.string,a=0;a<s;++a)n.fillText(i[a],l.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+r.footerSpacing}}drawBackground(t,n,r,i){const{xAlign:s,yAlign:o}=this,{x:a,y:l}=t,{width:c,height:f}=r,{topLeft:p,topRight:g,bottomLeft:y,bottomRight:b}=Qu(i.cornerRadius);n.fillStyle=i.backgroundColor,n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.beginPath(),n.moveTo(a+p,l),o==="top"&&this.drawCaret(t,n,r,i),n.lineTo(a+c-g,l),n.quadraticCurveTo(a+c,l,a+c,l+g),o==="center"&&s==="right"&&this.drawCaret(t,n,r,i),n.lineTo(a+c,l+f-b),n.quadraticCurveTo(a+c,l+f,a+c-b,l+f),o==="bottom"&&this.drawCaret(t,n,r,i),n.lineTo(a+y,l+f),n.quadraticCurveTo(a,l+f,a,l+f-y),o==="center"&&s==="left"&&this.drawCaret(t,n,r,i),n.lineTo(a,l+p),n.quadraticCurveTo(a,l,a+p,l),n.closePath(),n.fill(),i.borderWidth>0&&n.stroke()}_updateAnimationTarget(t){const n=this.chart,r=this.$animations,i=r&&r.x,s=r&&r.y;if(i||s){const o=Th[t.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=wk(this,t),l=Object.assign({},o,this._size),c=_k(n,t,l),f=Sk(t,l,c,n);(i._to!==f.x||s._to!==f.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,f))}}_willRender(){return!!this.opacity}draw(t){const n=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(n);const i={width:this.width,height:this.height},s={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const o=ci(n.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&a&&(t.save(),t.globalAlpha=r,this.drawBackground(s,t,i,n),Jj(t,n.textDirection),s.y+=o.top,this.drawTitle(s,t,n),this.drawBody(s,t,n),this.drawFooter(s,t,n),Zj(t,n.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,n){const r=this._active,i=t.map(({datasetIndex:a,index:l})=>{const c=this.chart.getDatasetMeta(a);if(!c)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:c.data[l],index:l}}),s=!X0(r,i),o=this._positionChanged(i,n);(s||o)&&(this._active=i,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,n,r=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,s=this._active||[],o=this._getActiveElements(t,s,n,r),a=this._positionChanged(o,t),l=n||!X0(o,s)||a;return l&&(this._active=o,(i.enabled||i.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,n))),l}_getActiveElements(t,n,r,i){const s=this.options;if(t.type==="mouseout")return[];if(!i)return n.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const o=this.chart.getElementsAtEventForMode(t,s.mode,s,r);return s.reverse&&o.reverse(),o}_positionChanged(t,n){const{caretX:r,caretY:i,options:s}=this,o=Th[s.position].call(this,t,n);return o!==!1&&(r!==o.x||i!==o.y)}}var pf={id:"tooltip",_element:kk,positioners:Th,afterInit(e,t,n){n&&(e.tooltip=new kk({chart:e,options:n}))},beforeUpdate(e,t,n){e.tooltip&&e.tooltip.initialize(n)},reset(e,t,n){e.tooltip&&e.tooltip.initialize(n)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const n={tooltip:t};if(e.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",n)}},afterEvent(e,t){if(e.tooltip){const n=t.replay;e.tooltip.handleEvent(t.event,n,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:NI},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>e!=="filter"&&e!=="itemSort"&&e!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},cee=Object.freeze({__proto__:null,Colors:kZ,Decimation:NZ,Filler:TI,Legend:hf,SubTitle:nee,Title:II,Tooltip:pf});const dee=(e,t,n,r)=>(typeof t=="string"?(n=e.push(t)-1,r.unshift({index:n,label:t})):isNaN(t)&&(n=null),n);function fee(e,t,n,r){const i=e.indexOf(t);if(i===-1)return dee(e,t,n,r);const s=e.lastIndexOf(t);return i!==s?n:i}const hee=(e,t)=>e===null?null:$r(Math.round(e),0,t);function Tk(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class zp extends fc{static id="category";static defaults={ticks:{callback:Tk}};constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const n=this._addedLabels;if(n.length){const r=this.getLabels();for(const{index:i,label:s}of n)r[i]===s&&r.splice(i,1);this._addedLabels=[]}super.init(t)}parse(t,n){if(Jt(t))return null;const r=this.getLabels();return n=isFinite(n)&&r[n]===t?n:fee(r,t,jt(n,t),this._addedLabels),hee(n,r.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:r,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(r=0),n||(i=this.getLabels().length-1)),this.min=r,this.max=i}buildTicks(){const t=this.min,n=this.max,r=this.options.offset,i=[];let s=this.getLabels();s=t===0&&n===s.length-1?s:s.slice(t,n+1),this._valueRange=Math.max(s.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let o=t;o<=n;o++)i.push({value:o});return i}getLabelForValue(t){return Tk.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}function pee(e,t){const n=[],{bounds:i,step:s,min:o,max:a,precision:l,count:c,maxTicks:f,maxDigits:p,includeBounds:g}=e,y=s||1,b=f-1,{min:_,max:C}=t,E=!Jt(o),R=!Jt(a),M=!Jt(c),U=(C-_)/(p+1);let z=w4((C-_)/b/y)*y,P,N,B,$;if(z<1e-14&&!E&&!R)return[{value:_},{value:C}];$=Math.ceil(C/z)-Math.floor(_/z),$>b&&(z=w4($*z/b/y)*y),Jt(l)||(P=Math.pow(10,l),z=Math.ceil(z*P)/P),i==="ticks"?(N=Math.floor(_/z)*z,B=Math.ceil(C/z)*z):(N=_,B=C),E&&R&&s&&oY((a-o)/s,z/1e3)?($=Math.round(Math.min((a-o)/z,f)),z=(a-o)/$,N=o,B=a):M?(N=E?o:N,B=R?a:B,$=c-1,z=(B-N)/$):($=(B-N)/z,Bh($,Math.round($),z/1e3)?$=Math.round($):$=Math.ceil($));const D=Math.max(_4(z),_4(N));P=Math.pow(10,Jt(l)?D:l),N=Math.round(N*P)/P,B=Math.round(B*P)/P;let J=0;for(E&&(g&&N!==o?(n.push({value:o}),N<o&&J++,Bh(Math.round((N+J*z)*P)/P,o,jk(o,U,e))&&J++):N<o&&J++);J<$;++J){const X=Math.round((N+J*z)*P)/P;if(R&&X>a)break;n.push({value:X})}return R&&g&&B!==a?n.length&&Bh(n[n.length-1].value,a,jk(a,U,e))?n[n.length-1].value=a:n.push({value:a}):(!R||B===a)&&n.push({value:B}),n}function jk(e,t,{horizontal:n,minRotation:r}){const i=so(r),s=(n?Math.sin(i):Math.cos(i))||.001,o=.75*t*(""+e).length;return Math.min(t/s,o)}class iy extends fc{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,n){return Jt(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:n,maxDefined:r}=this.getUserBounds();let{min:i,max:s}=this;const o=l=>i=n?i:l,a=l=>s=r?s:l;if(t){const l=Po(i),c=Po(s);l<0&&c<0?a(0):l>0&&c>0&&o(0)}if(i===s){let l=s===0?1:Math.abs(s*.05);a(s+l),t||o(i-l)}this.min=i,this.max=s}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:n,stepSize:r}=t,i;return r?(i=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),n=n||11),n&&(i=Math.min(n,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,n=t.ticks;let r=this.getTickLimit();r=Math.max(2,r);const i={maxTicks:r,bounds:t.bounds,min:t.min,max:t.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},s=this._range||this,o=pee(i,s);return t.bounds==="ticks"&&Aj(o,this,"value"),t.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const t=this.ticks;let n=this.min,r=this.max;if(super.configure(),this.options.offset&&t.length){const i=(r-n)/Math.max(t.length-1,1)/2;n-=i,r+=i}this._startValue=n,this._endValue=r,this._valueRange=r-n}getLabelForValue(t){return Fp(t,this.chart.options.locale,this.options.ticks.format)}}class $p extends iy{static id="linear";static defaults={ticks:{callback:Ky.formatters.numeric}};determineDataLimits(){const{min:t,max:n}=this.getMinMax(!0);this.min=sr(t)?t:0,this.max=sr(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),n=t?this.width:this.height,r=so(this.options.ticks.minRotation),i=(t?Math.sin(r):Math.cos(r))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,s.lineHeight/i))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}const fp=e=>Math.floor(yl(e)),Cu=(e,t)=>Math.pow(10,fp(e)+t);function Ik(e){return e/Math.pow(10,fp(e))===1}function Nk(e,t,n){const r=Math.pow(10,n),i=Math.floor(e/r);return Math.ceil(t/r)-i}function mee(e,t){const n=t-e;let r=fp(n);for(;Nk(e,t,r)>10;)r++;for(;Nk(e,t,r)<10;)r--;return Math.min(r,fp(e))}function gee(e,{min:t,max:n}){t=os(e.min,t);const r=[],i=fp(t);let s=mee(t,n),o=s<0?Math.pow(10,Math.abs(s)):1;const a=Math.pow(10,s),l=i>s?Math.pow(10,i):0,c=Math.round((t-l)*o)/o,f=Math.floor((t-l)/a/10)*a*10;let p=Math.floor((c-f)/Math.pow(10,s)),g=os(e.min,Math.round((l+f+p*Math.pow(10,s))*o)/o);for(;g<n;)r.push({value:g,major:Ik(g),significand:p}),p>=10?p=p<15?15:20:p++,p>=20&&(s++,p=2,o=s>=0?1:o),g=Math.round((l+f+p*Math.pow(10,s))*o)/o;const y=os(e.max,g);return r.push({value:y,major:Ik(y),significand:p}),r}class yee extends fc{static id="logarithmic";static defaults={ticks:{callback:Ky.formatters.logarithmic,major:{enabled:!0}}};constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,n){const r=iy.prototype.parse.apply(this,[t,n]);if(r===0){this._zero=!0;return}return sr(r)&&r>0?r:null}determineDataLimits(){const{min:t,max:n}=this.getMinMax(!0);this.min=sr(t)?Math.max(0,t):null,this.max=sr(n)?Math.max(0,n):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!sr(this._userMin)&&(this.min=t===Cu(this.min,0)?Cu(this.min,-1):Cu(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:n}=this.getUserBounds();let r=this.min,i=this.max;const s=a=>r=t?r:a,o=a=>i=n?i:a;r===i&&(r<=0?(s(1),o(10)):(s(Cu(r,-1)),o(Cu(i,1)))),r<=0&&s(Cu(i,-1)),i<=0&&o(Cu(r,1)),this.min=r,this.max=i}buildTicks(){const t=this.options,n={min:this._userMin,max:this._userMax},r=gee(n,this);return t.bounds==="ticks"&&Aj(r,this,"value"),t.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}getLabelForValue(t){return t===void 0?"0":Fp(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=yl(t),this._valueRange=yl(this.max)-yl(t)}getPixelForValue(t){return(t===void 0||t===0)&&(t=this.min),t===null||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(yl(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const n=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+n*this._valueRange)}}function Dw(e){const t=e.ticks;if(t.display&&e.display){const n=ci(t.backdropPadding);return jt(t.font&&t.font.size,Wn.font.size)+n.height}return 0}function vee(e,t,n){return n=Hn(n)?n:[n],{w:SY(e,t.string,n),h:n.length*t.lineHeight}}function Rk(e,t,n,r,i){return e===r||e===i?{start:t-n/2,end:t+n/2}:e<r||e>i?{start:t-n,end:t}:{start:t,end:t+n}}function xee(e){const t={l:e.left+e._padding.left,r:e.right-e._padding.right,t:e.top+e._padding.top,b:e.bottom-e._padding.bottom},n=Object.assign({},t),r=[],i=[],s=e._pointLabels.length,o=e.options.pointLabels,a=o.centerPointLabels?hn/s:0;for(let l=0;l<s;l++){const c=o.setContext(e.getPointLabelContext(l));i[l]=c.padding;const f=e.getPointPosition(l,e.drawingArea+i[l],a),p=Nr(c.font),g=vee(e.ctx,p,e._pointLabels[l]);r[l]=g;const y=oi(e.getIndexAngle(l)+a),b=Math.round(O_(y)),_=Rk(b,f.x,g.w,0,180),C=Rk(b,f.y,g.h,90,270);bee(n,t,y,_,C)}e.setCenterPoint(t.l-n.l,n.r-t.r,t.t-n.t,n.b-t.b),e._pointLabelItems=See(e,r,i)}function bee(e,t,n,r,i){const s=Math.abs(Math.sin(n)),o=Math.abs(Math.cos(n));let a=0,l=0;r.start<t.l?(a=(t.l-r.start)/s,e.l=Math.min(e.l,t.l-a)):r.end>t.r&&(a=(r.end-t.r)/s,e.r=Math.max(e.r,t.r+a)),i.start<t.t?(l=(t.t-i.start)/o,e.t=Math.min(e.t,t.t-l)):i.end>t.b&&(l=(i.end-t.b)/o,e.b=Math.max(e.b,t.b+l))}function wee(e,t,n){const r=e.drawingArea,{extra:i,additionalAngle:s,padding:o,size:a}=n,l=e.getPointPosition(t,r+i+o,s),c=Math.round(O_(oi(l.angle+fr))),f=kee(l.y,a.h,c),p=Cee(c),g=Eee(l.x,a.w,p);return{visible:!0,x:l.x,y:f,textAlign:p,left:g,top:f,right:g+a.w,bottom:f+a.h}}function _ee(e,t){if(!t)return!0;const{left:n,top:r,right:i,bottom:s}=e;return!(ma({x:n,y:r},t)||ma({x:n,y:s},t)||ma({x:i,y:r},t)||ma({x:i,y:s},t))}function See(e,t,n){const r=[],i=e._pointLabels.length,s=e.options,{centerPointLabels:o,display:a}=s.pointLabels,l={extra:Dw(s)/2,additionalAngle:o?hn/i:0};let c;for(let f=0;f<i;f++){l.padding=n[f],l.size=t[f];const p=wee(e,f,l);r.push(p),a==="auto"&&(p.visible=_ee(p,c),p.visible&&(c=p))}return r}function Cee(e){return e===0||e===180?"center":e<180?"left":"right"}function Eee(e,t,n){return n==="right"?e-=t:n==="center"&&(e-=t/2),e}function kee(e,t,n){return n===90||n===270?e-=t/2:(n>270||n<90)&&(e-=t),e}function Tee(e,t,n){const{left:r,top:i,right:s,bottom:o}=n,{backdropColor:a}=t;if(!Jt(a)){const l=Qu(t.borderRadius),c=ci(t.backdropPadding);e.fillStyle=a;const f=r-c.left,p=i-c.top,g=s-r+c.width,y=o-i+c.height;Object.values(l).some(b=>b!==0)?(e.beginPath(),cp(e,{x:f,y:p,w:g,h:y,radius:l}),e.fill()):e.fillRect(f,p,g,y)}}function jee(e,t){const{ctx:n,options:{pointLabels:r}}=e;for(let i=t-1;i>=0;i--){const s=e._pointLabelItems[i];if(!s.visible)continue;const o=r.setContext(e.getPointLabelContext(i));Tee(n,o,s);const a=Nr(o.font),{x:l,y:c,textAlign:f}=s;tc(n,e._pointLabels[i],l,c+a.lineHeight/2,a,{color:o.color,textAlign:f,textBaseline:"middle"})}}function RI(e,t,n,r){const{ctx:i}=e;if(n)i.arc(e.xCenter,e.yCenter,t,0,Dn);else{let s=e.getPointPosition(0,t);i.moveTo(s.x,s.y);for(let o=1;o<r;o++)s=e.getPointPosition(o,t),i.lineTo(s.x,s.y)}}function Iee(e,t,n,r,i){const s=e.ctx,o=t.circular,{color:a,lineWidth:l}=t;!o&&!r||!a||!l||n<0||(s.save(),s.strokeStyle=a,s.lineWidth=l,s.setLineDash(i.dash||[]),s.lineDashOffset=i.dashOffset,s.beginPath(),RI(e,n,o,r),s.closePath(),s.stroke(),s.restore())}function Nee(e,t,n){return Ul(e,{label:n,index:t,type:"pointLabel"})}class PI extends iy{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Ky.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=ci(Dw(this.options)/2),n=this.width=this.maxWidth-t.width,r=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+n/2+t.left),this.yCenter=Math.floor(this.top+r/2+t.top),this.drawingArea=Math.floor(Math.min(n,r)/2)}determineDataLimits(){const{min:t,max:n}=this.getMinMax(!1);this.min=sr(t)&&!isNaN(t)?t:0,this.max=sr(n)&&!isNaN(n)?n:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Dw(this.options))}generateTickLabels(t){iy.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((n,r)=>{const i=Rn(this.options.pointLabels.callback,[n,r],this);return i||i===0?i:""}).filter((n,r)=>this.chart.getDataVisibility(r))}fit(){const t=this.options;t.display&&t.pointLabels.display?xee(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,n,r,i){this.xCenter+=Math.floor((t-n)/2),this.yCenter+=Math.floor((r-i)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,n,r,i))}getIndexAngle(t){const n=Dn/(this._pointLabels.length||1),r=this.options.startAngle||0;return oi(t*n+so(r))}getDistanceFromCenterForValue(t){if(Jt(t))return NaN;const n=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*n:(t-this.min)*n}getValueForDistanceFromCenter(t){if(Jt(t))return NaN;const n=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-n:this.min+n}getPointLabelContext(t){const n=this._pointLabels||[];if(t>=0&&t<n.length){const r=n[t];return Nee(this.getContext(),t,r)}}getPointPosition(t,n,r=0){const i=this.getIndexAngle(t)-fr+r;return{x:Math.cos(i)*n+this.xCenter,y:Math.sin(i)*n+this.yCenter,angle:i}}getPointPositionForValue(t,n){return this.getPointPosition(t,this.getDistanceFromCenterForValue(n))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:n,top:r,right:i,bottom:s}=this._pointLabelItems[t];return{left:n,top:r,right:i,bottom:s}}drawBackground(){const{backgroundColor:t,grid:{circular:n}}=this.options;if(t){const r=this.ctx;r.save(),r.beginPath(),RI(this,this.getDistanceFromCenterForValue(this._endValue),n,this._pointLabels.length),r.closePath(),r.fillStyle=t,r.fill(),r.restore()}}drawGrid(){const t=this.ctx,n=this.options,{angleLines:r,grid:i,border:s}=n,o=this._pointLabels.length;let a,l,c;if(n.pointLabels.display&&jee(this,o),i.display&&this.ticks.forEach((f,p)=>{if(p!==0||p===0&&this.min<0){l=this.getDistanceFromCenterForValue(f.value);const g=this.getContext(p),y=i.setContext(g),b=s.setContext(g);Iee(this,y,l,o,b)}}),r.display){for(t.save(),a=o-1;a>=0;a--){const f=r.setContext(this.getPointLabelContext(a)),{color:p,lineWidth:g}=f;!g||!p||(t.lineWidth=g,t.strokeStyle=p,t.setLineDash(f.borderDash),t.lineDashOffset=f.borderDashOffset,l=this.getDistanceFromCenterForValue(n.reverse?this.min:this.max),c=this.getPointPosition(a,l),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(c.x,c.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,n=this.options,r=n.ticks;if(!r.display)return;const i=this.getIndexAngle(0);let s,o;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(i),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((a,l)=>{if(l===0&&this.min>=0&&!n.reverse)return;const c=r.setContext(this.getContext(l)),f=Nr(c.font);if(s=this.getDistanceFromCenterForValue(this.ticks[l].value),c.showLabelBackdrop){t.font=f.string,o=t.measureText(a.label).width,t.fillStyle=c.backdropColor;const p=ci(c.backdropPadding);t.fillRect(-o/2-p.left,-s-f.size/2-p.top,o+p.width,f.size+p.height)}tc(t,a.label,0,-s,f,{color:c.color,strokeColor:c.textStrokeColor,strokeWidth:c.textStrokeWidth})}),t.restore()}drawTitle(){}}const t1={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Bi=Object.keys(t1);function Pk(e,t){return e-t}function Ok(e,t){if(Jt(t))return null;const n=e._adapter,{parser:r,round:i,isoWeekday:s}=e._parseOpts;let o=t;return typeof r=="function"&&(o=r(o)),sr(o)||(o=typeof r=="string"?n.parse(o,r):n.parse(o)),o===null?null:(i&&(o=i==="week"&&(Zu(s)||s===!0)?n.startOf(o,"isoWeek",s):n.startOf(o,i)),+o)}function Mk(e,t,n,r){const i=Bi.length;for(let s=Bi.indexOf(e);s<i-1;++s){const o=t1[Bi[s]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-t)/(a*o.size))<=r)return Bi[s]}return Bi[i-1]}function Ree(e,t,n,r,i){for(let s=Bi.length-1;s>=Bi.indexOf(n);s--){const o=Bi[s];if(t1[o].common&&e._adapter.diff(i,r,o)>=t-1)return o}return Bi[n?Bi.indexOf(n):0]}function Pee(e){for(let t=Bi.indexOf(e)+1,n=Bi.length;t<n;++t)if(t1[Bi[t]].common)return Bi[t]}function Ak(e,t,n){if(!n)e[t]=!0;else if(n.length){const{lo:r,hi:i}=M_(n,t),s=n[r]>=t?n[r]:n[i];e[s]=!0}}function Oee(e,t,n,r){const i=e._adapter,s=+i.startOf(t[0].value,r),o=t[t.length-1].value;let a,l;for(a=s;a<=o;a=+i.add(a,1,r))l=n[a],l>=0&&(t[l].major=!0);return t}function Dk(e,t,n){const r=[],i={},s=t.length;let o,a;for(o=0;o<s;++o)a=t[o],i[a]=o,r.push({value:a,major:!1});return s===0||!n?r:Oee(e,r,i,n)}class Lw extends fc{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,n={}){const r=t.time||(t.time={}),i=this._adapter=new WX._date(t.adapters.date);i.init(n),Fh(r.displayFormats,i.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(t),this._normalized=n.normalized}parse(t,n){return t===void 0?null:Ok(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,n=this._adapter,r=t.time.unit||"day";let{min:i,max:s,minDefined:o,maxDefined:a}=this.getUserBounds();function l(c){!o&&!isNaN(c.min)&&(i=Math.min(i,c.min)),!a&&!isNaN(c.max)&&(s=Math.max(s,c.max))}(!o||!a)&&(l(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&l(this.getMinMax(!1))),i=sr(i)&&!isNaN(i)?i:+n.startOf(Date.now(),r),s=sr(s)&&!isNaN(s)?s:+n.endOf(Date.now(),r)+1,this.min=Math.min(i,s-1),this.max=Math.max(i+1,s)}_getLabelBounds(){const t=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return t.length&&(n=t[0],r=t[t.length-1]),{min:n,max:r}}buildTicks(){const t=this.options,n=t.time,r=t.ticks,i=r.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const s=this.min,o=this.max,a=cY(i,s,o);return this._unit=n.unit||(r.autoSkip?Mk(n.minUnit,this.min,this.max,this._getLabelCapacity(s)):Ree(this,a.length,n.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:Pee(this._unit),this.initOffsets(i),t.reverse&&a.reverse(),Dk(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let n=0,r=0,i,s;this.options.offset&&t.length&&(i=this.getDecimalForValue(t[0]),t.length===1?n=1-i:n=(this.getDecimalForValue(t[1])-i)/2,s=this.getDecimalForValue(t[t.length-1]),t.length===1?r=s:r=(s-this.getDecimalForValue(t[t.length-2]))/2);const o=t.length<3?.5:.25;n=$r(n,0,o),r=$r(r,0,o),this._offsets={start:n,end:r,factor:1/(n+1+r)}}_generate(){const t=this._adapter,n=this.min,r=this.max,i=this.options,s=i.time,o=s.unit||Mk(s.minUnit,n,r,this._getLabelCapacity(n)),a=jt(i.ticks.stepSize,1),l=o==="week"?s.isoWeekday:!1,c=Zu(l)||l===!0,f={};let p=n,g,y;if(c&&(p=+t.startOf(p,"isoWeek",l)),p=+t.startOf(p,c?"day":o),t.diff(r,n,o)>1e5*a)throw new Error(n+" and "+r+" are too far apart with stepSize of "+a+" "+o);const b=i.ticks.source==="data"&&this.getDataTimestamps();for(g=p,y=0;g<r;g=+t.add(g,a,o),y++)Ak(f,g,b);return(g===r||i.bounds==="ticks"||y===1)&&Ak(f,g,b),Object.keys(f).sort(Pk).map(_=>+_)}getLabelForValue(t){const n=this._adapter,r=this.options.time;return r.tooltipFormat?n.format(t,r.tooltipFormat):n.format(t,r.displayFormats.datetime)}format(t,n){const i=this.options.time.displayFormats,s=this._unit,o=n||i[s];return this._adapter.format(t,o)}_tickFormatFunction(t,n,r,i){const s=this.options,o=s.ticks.callback;if(o)return Rn(o,[t,n,r],this);const a=s.time.displayFormats,l=this._unit,c=this._majorUnit,f=l&&a[l],p=c&&a[c],g=r[n],y=c&&p&&g&&g.major;return this._adapter.format(t,i||(y?p:f))}generateTickLabels(t){let n,r,i;for(n=0,r=t.length;n<r;++n)i=t[n],i.label=this._tickFormatFunction(i.value,n,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const n=this._offsets,r=this.getDecimalForValue(t);return this.getPixelForDecimal((n.start+r)*n.factor)}getValueForPixel(t){const n=this._offsets,r=this.getDecimalForPixel(t)/n.factor-n.end;return this.min+r*(this.max-this.min)}_getLabelSize(t){const n=this.options.ticks,r=this.ctx.measureText(t).width,i=so(this.isHorizontal()?n.maxRotation:n.minRotation),s=Math.cos(i),o=Math.sin(i),a=this._resolveTickFontOptions(0).size;return{w:r*s+a*o,h:r*o+a*s}}_getLabelCapacity(t){const n=this.options.time,r=n.displayFormats,i=r[n.unit]||r.millisecond,s=this._tickFormatFunction(t,0,Dk(this,[t],this._majorUnit),i),o=this._getLabelSize(s),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let t=this._cache.data||[],n,r;if(t.length)return t;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(n=0,r=i.length;n<r;++n)t=t.concat(i[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let n,r;if(t.length)return t;const i=this.getLabels();for(n=0,r=i.length;n<r;++n)t.push(Ok(this,i[n]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return Fj(t.sort(Pk))}}function Fg(e,t,n){let r=0,i=e.length-1,s,o,a,l;n?(t>=e[r].pos&&t<=e[i].pos&&({lo:r,hi:i}=pa(e,"pos",t)),{pos:s,time:a}=e[r],{pos:o,time:l}=e[i]):(t>=e[r].time&&t<=e[i].time&&({lo:r,hi:i}=pa(e,"time",t)),{time:s,pos:a}=e[r],{time:o,pos:l}=e[i]);const c=o-s;return c?a+(l-a)*(t-s)/c:a}class Mee extends Lw{static id="timeseries";static defaults=Lw.defaults;constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(t);this._minPos=Fg(n,this.min),this._tableRange=Fg(n,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:n,max:r}=this,i=[],s=[];let o,a,l,c,f;for(o=0,a=t.length;o<a;++o)c=t[o],c>=n&&c<=r&&i.push(c);if(i.length<2)return[{time:n,pos:0},{time:r,pos:1}];for(o=0,a=i.length;o<a;++o)f=i[o+1],l=i[o-1],c=i[o],Math.round((f+l)/2)!==c&&s.push({time:c,pos:o/(a-1)});return s}_generate(){const t=this.min,n=this.max;let r=super.getDataTimestamps();return(!r.includes(t)||!r.length)&&r.splice(0,0,t),(!r.includes(n)||r.length===1)&&r.push(n),r.sort((i,s)=>i-s)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const n=this.getDataTimestamps(),r=this.getLabelTimestamps();return n.length&&r.length?t=this.normalize(n.concat(r)):t=n.length?n:r,t=this._cache.all=t,t}getDecimalForValue(t){return(Fg(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const n=this._offsets,r=this.getDecimalForPixel(t)/n.factor-n.end;return Fg(this._table,r*this._tableRange+this._minPos,!0)}}var Aee=Object.freeze({__proto__:null,CategoryScale:zp,LinearScale:$p,LogarithmicScale:yee,RadialLinearScale:PI,TimeScale:Lw,TimeSeriesScale:Mee});const Dee=[HX,xZ,cee,Aee];ja.register(...Dee);const OI="label";function Lk(e,t){typeof e=="function"?e(t):e&&(e.current=t)}function Lee(e,t){const n=e.options;n&&t&&Object.assign(n,t)}function MI(e,t){e.labels=t}function AI(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:OI;const r=[];e.datasets=t.map(i=>{const s=e.datasets.find(o=>o[n]===i[n]);return!s||!i.data||r.includes(s)?{...i}:(r.push(s),Object.assign(s,i),s)})}function Fee(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:OI;const n={labels:[],datasets:[]};return MI(n,e.labels),AI(n,e.datasets,t),n}function Bee(e,t){const{height:n=150,width:r=300,redraw:i=!1,datasetIdKey:s,type:o,data:a,options:l,plugins:c=[],fallbackContent:f,updateMode:p,...g}=e,y=j.useRef(null),b=j.useRef(null),_=()=>{y.current&&(b.current=new ja(y.current,{type:o,data:Fee(a,s),options:l&&{...l},plugins:c}),Lk(t,b.current))},C=()=>{Lk(t,null),b.current&&(b.current.destroy(),b.current=null)};return j.useEffect(()=>{!i&&b.current&&l&&Lee(b.current,l)},[i,l]),j.useEffect(()=>{!i&&b.current&&MI(b.current.config.data,a.labels)},[i,a.labels]),j.useEffect(()=>{!i&&b.current&&a.datasets&&AI(b.current.config.data,a.datasets,s)},[i,a.datasets]),j.useEffect(()=>{b.current&&(i?(C(),setTimeout(_)):b.current.update(p))},[i,l,a.labels,a.datasets,p]),j.useEffect(()=>{b.current&&(C(),setTimeout(_))},[o]),j.useEffect(()=>(_(),()=>C()),[]),xn.createElement("canvas",{ref:y,role:"img",height:n,width:r,...g},f)}const DI=j.forwardRef(Bee);function Q_(e,t){return ja.register(t),j.forwardRef((n,r)=>xn.createElement(DI,{...n,ref:r,type:e}))}const zee=Q_("bar",aI),$ee=Q_("radar",uI),LI=Q_("doughnut",Jy),Xd={searchBtnSpeed:{mu:1.457,sigma:.7362},captchaSpeed:{mu:3.6415,sigma:.4057},totalSpeed:{mu:8.6367,sigma:.5422}};function FI(e,t,n){if(e<=0)return 0;const r=(Math.log(e)-Math.log(t))/n,i=1/(1+.2316419*Math.abs(r)),o=.3989423*Math.exp(-r*r/2)*i*(.3193815+i*(-.3565638+i*(1.781478+i*(-1.821256+i*1.330274))));return r>0?1-o:o}function n1(e,t=7.5,n=.3){const s=e>3e3?e/1e3:e,a=1-FI(s,t,n);return Math.max(Math.min(a*100,100),0)}function Uee(e){const n=Math.min(Math.max(e,0),100)/100,i=-FI(n,.4,.1);return Math.round(i*5)}function Hee(e,t){const n=(e-2*t)/(e-t);return Math.max(0,Math.round(n*100))}function Wee(e){return n1(e,Xd.searchBtnSpeed.mu,Xd.searchBtnSpeed.sigma)}function Vee(e){return n1(e,Xd.captchaSpeed.mu,Xd.captchaSpeed.sigma)}function qee(e){return Math.max(0,Math.min(e,100))}function Qee(e){return n1(e,Xd.totalSpeed.mu,Xd.totalSpeed.sigma)}ja.register(PI,V_,ff,TI,pf,hf);const Kee={responsive:!0,scales:{r:{angleLines:{display:!0},suggestedMin:0,suggestedMax:100,ticks:{display:!1},pointLabels:{font:{size:14},color:"#4B5563"},grid:{color:"#E5E7EB"}}},plugins:{legend:{display:!1},tooltip:{enabled:!0}}};function Gee(e){const{user_ability:t}=e,{searchBtnSpeed:n,totalSpeed:r,accuracy:i,captchaSpeed:s}=t,o=["   "," ","","  "],a=[n,r,i,s];return{labels:o,datasets:[{label:"",data:Fk([1.776296,9.30268,93.58,3.843947]),backgroundColor:"rgba(5, 223, 114, 0.2)",borderColor:"rgba(5, 223, 114, 1)",borderWidth:2,pointBackgroundColor:"rgba(5, 223, 114, 1)"},{label:" ",data:Fk(a),backgroundColor:"rgb(0, 122, 255, 0.2)",borderColor:"rgba(0, 122, 255, 1)",borderWidth:2,pointBackgroundColor:"rgba(0, 122, 255, 1)"}]}}function Fk(e){return[Wee(e[0]),Qee(e[1]),qee(e[2]),Vee(e[3])]}function K_({result:e}){const t=Gee(e),{searchBtnSpeed:n,totalSpeed:r,accuracy:i,captchaSpeed:s}=e.user_ability;return h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"h-90",children:h.jsx($ee,{data:t,className:"mx-auto",options:Kee})}),h.jsxs("div",{className:"absolute bottom-6 right-6 bg-white shadow-lg rounded-lg px-4 py-3 text-xs text-gray-800",children:[h.jsx("div",{className:"font-bold text-sm mb-1",children:" "}),h.jsxs("ul",{className:"space-y-1",children:[h.jsxs("li",{className:"flex justify-between",children:[h.jsx("span",{children:"    "})," ",h.jsxs("span",{children:[n.toFixed(2)," sec"]})]}),h.jsxs("li",{className:"flex justify-between",children:[h.jsx("span",{children:"   "})," ",h.jsxs("span",{children:[r.toFixed(2)," sec"]})]}),h.jsxs("li",{className:"flex justify-between",children:[h.jsx("span",{children:" "})," ",h.jsxs("span",{children:[i.toFixed(2)," %"]})]}),h.jsxs("li",{className:"flex justify-between",children:[h.jsx("span",{children:"     "})," ",h.jsxs("span",{children:[s.toFixed(2)," sec"]})]})]})]})]})}function Fw(e,t){const n=e.getContext("2d");if(!n)return;n.clearRect(0,0,e.width,e.height);const r=n.createLinearGradient(0,0,e.width,0);r.addColorStop(0,"#4a4a4a"),r.addColorStop(1,"#bcbcbc"),n.fillStyle=r,n.fillRect(0,0,e.width,e.height),n.font="bold 32px Arial Black, Impact, sans-serif",n.fillStyle="black",n.textAlign="center",n.textBaseline="middle",n.fillText(t,e.width/2,e.height/2)}const Yee={user_ability:{searchBtnSpeed:1.076296,totalSpeed:6.70268,accuracy:98.58,captchaSpeed:4.843947}};function Xee(){const[e,t]=j.useState(Yee);return h.jsxs(dc,{children:[h.jsx(qy,{title:"   ()",subtitle:"   ,    ",href:"/simulation"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-6",children:[h.jsxs(Yn,{children:[h.jsx(Gt,{level:3,children:"  "}),h.jsx(Gn,{children:"       ."}),h.jsx(Zee,{setRadarData:t})]}),h.jsxs(Yn,{className:"relative",children:[h.jsx(Gt,{level:3,children:"  "}),h.jsx(Gn,{children:"      ."}),h.jsx(K_,{result:e})]})]})]})}function Bk(){return Math.floor(1e3+Math.random()*9e3).toString()}const Jee=4;function Zee({setRadarData:e}){const t=j.useRef(null),[n,r]=j.useState(),[i,s]=j.useState({message:"",color:"red"}),o=j.useRef(""),a=tte(e);function l(){o.current=Bk(),r(""),s({message:"",color:"red"}),a.resetResult(),t.current&&Fw(t.current,o.current)}function c(){setTimeout(l,200)}function f(g){let y=g.target.value;if(a.updateResult(),/\D/.test(y)){s({message:"0~9  ",color:"red"}),r(y.replace(/\D/g,""));return}if(y.length>Jee){s({message:"4  ",color:"red"});return}r(y),s({message:"",color:"red"})}j.useEffect(()=>{setTimeout(()=>{o.current=Bk(),a.initResult(),t.current&&Fw(t.current,o.current)},100)},[]);function p(){n?.toString()===o.current?(s({message:"  .",color:"green"}),a.endResult(!0),setTimeout(l,700)):(s({message:"  .",color:"red"}),a.endResult(!1),setTimeout(l,700))}return h.jsxs("div",{className:"flex flex-col justify-center h-4/5",children:[h.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-4 p-4",children:[h.jsxs("div",{className:"flex flex-col",children:[h.jsxs("div",{className:"text-sm font-semibold flex flex-row items-center gap-2",children:[h.jsx("span",{className:"inline-block w-1.5 h-5 bg-blue-500 mr-2 "})," ",h.jsx(ete,{onClick:c,children:""})]}),h.jsx("div",{className:"flex items-center mt-1",children:h.jsx("canvas",{id:"captcha",width:"105",height:"50",ref:t})})]}),h.jsxs("div",{children:[h.jsxs("div",{className:"text-sm font-semibold  flex flex-row items-center",children:[h.jsx("span",{className:"inline-block w-1.5 h-5 bg-blue-500 mr-2 "}),"  "]}),h.jsx(fn.Input,{value:n,className:"mt-2 w-full",onChange:g=>f(g),placeholder:" ",essential:!0}),h.jsx("span",{className:"pl-1 text-xs "+(i.color==="green"?"text-green-500":"text-red-500"),children:i.message})]})]}),h.jsx("div",{className:"flex justify-end p-4",children:h.jsx("button",{onClick:p,className:"px-4 py-2 bg-white hover:bg-blue-50 rounded-xs border cursor-pointer",children:""})})]})}function ete({className:e,children:t,...n}){return h.jsx("button",{className:"px-2 py-1 bg-blue-500 text-white text-sm rounded-xs cursor-pointer hover:bg-blue-600 "+e,...n,children:t})}function tte(e){const t=j.useRef({tryCount:0,successCount:0,avgTime:0,startTime:-1});function n(){t.current.startTime=-1}function r(){t.current.startTime=Date.now()}function i(){t.current.startTime===-1&&(t.current.startTime=Date.now())}function s(o){const a=Date.now(),l=t.current.startTime===-1?4.843947:1+(a-t.current.startTime)/1e3;t.current.startTime=-1,t.current.tryCount+=1,t.current.avgTime=1+(l-t.current.avgTime)/t.current.tryCount,t.current.successCount+=o?1:0,e&&e(c=>({user_ability:{...c.user_ability,captchaSpeed:t.current.avgTime,accuracy:100*(t.current.successCount/t.current.tryCount)}}))}return{initResult:n,resetResult:r,updateResult:i,endResult:s}}const nte="";function hc(){return fo({queryKey:["departments"],queryFn:rte,staleTime:1/0,select:e=>(e?.departments.map(n=>({...n,departmentName:n.departmentName??nte}))??[]).sort((n,r)=>n.departmentName.localeCompare(r.departmentName))})}const rte=async()=>await Ea("/api/departments"),ite=e=>{if(!e)return{universityDict:{},collegeDict:{}};const t={},n={};return e.forEach(r=>{const[i,s,o]=r.departmentName.split(" "),a=i.trim(),l=s?.trim(),c=o?.trim();l&&(t[a]||(t[a]=[]),t[a]=[...t[a],l],c||(n[l]=[l])),c&&(t[a]||(t[a]=[]),t[a]=[...t[a],c],n[l]||(n[l]=[]),n[l]=[...n[l],c])}),{universityDict:t,collegeDict:n}},ste=(e,t)=>{const n=e.split(" ").map(r=>r.trim());for(const r in t)if(n.some(i=>t[r].includes(i)))return r;return console.error("No university found",e),""},ote=(e,t)=>{const n=e.split(" ").map(r=>r.trim());for(const r in t)if(n.some(i=>r.includes(i)))return r;return console.error("No college found",e),""},r1={labels:["","","",""],datasets:[{data:[40,25,20,15]}]},Up=["#f97316","#3b82f6","#facc15","#22c55e","#60b6d4"];function zk(e){if(!e)return r1;const t={};return e.forEach(n=>{t[n.registerDepartment??""]||(t[n.registerDepartment??""]=0),t[n.registerDepartment??""]+=Number(n.eachCount)}),{labels:Object.keys(t).map(n=>n||""),datasets:[{data:Object.values(t),backgroundColor:Up}]}}function ate(e,t){if(!t)return r1;const n={major:0,"non-major":0},r=e.split(" ").map(o=>o.trim()),i=o=>o.split(" ").map(l=>l.trim()).some(l=>r.includes(l));t.forEach(o=>{const a=i(o.registerDepartment??"")?"major":"non-major";n[a]+=Number(o.eachCount)});const s={major:"","non-major":""};return{labels:Object.keys(n).map(o=>s[o]),datasets:[{data:Object.values(n),backgroundColor:Up}]}}function lte(e,t){if(!e||!t)return r1;const n={};return e.forEach(r=>{const i=ste(r.registerDepartment??"",t);n[i]||(n[i]=0),n[i]+=Number(r.eachCount)}),{labels:Object.keys(n).map(r=>r||""),datasets:[{data:Object.values(n),backgroundColor:Up}]}}function ute(e,t){if(!e||!t)return r1;const n={};return e.forEach(r=>{const i=ote(r.registerDepartment??"",t);n[i]||(n[i]=0),n[i]+=Number(r.eachCount)}),{labels:Object.keys(n).map(r=>r||""),datasets:[{data:Object.values(n),backgroundColor:Up}]}}function cte(e){return e?e.reduce((t,n)=>t+Number(n.eachCount),0):-1}var x0={exports:{}},dte=x0.exports,$k;function fte(){return $k||($k=1,function(e,t){(function(n,r){e.exports=r()})(dte,function(){var n=function(v,w){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,I){k.__proto__=I}||function(k,I){for(var O in I)Object.prototype.hasOwnProperty.call(I,O)&&(k[O]=I[O])})(v,w)},r=function(){return(r=Object.assign||function(v){for(var w,k=1,I=arguments.length;k<I;k++)for(var O in w=arguments[k])Object.prototype.hasOwnProperty.call(w,O)&&(v[O]=w[O]);return v}).apply(this,arguments)};function i(v,w,k){for(var I,O=0,L=w.length;O<L;O++)!I&&O in w||((I=I||Array.prototype.slice.call(w,0,O))[O]=w[O]);return v.concat(I||Array.prototype.slice.call(w))}var s=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:bh,o=Object.keys,a=Array.isArray;function l(v,w){return typeof w!="object"||o(w).forEach(function(k){v[k]=w[k]}),v}typeof Promise>"u"||s.Promise||(s.Promise=Promise);var c=Object.getPrototypeOf,f={}.hasOwnProperty;function p(v,w){return f.call(v,w)}function g(v,w){typeof w=="function"&&(w=w(c(v))),(typeof Reflect>"u"?o:Reflect.ownKeys)(w).forEach(function(k){b(v,k,w[k])})}var y=Object.defineProperty;function b(v,w,k,I){y(v,w,l(k&&p(k,"get")&&typeof k.get=="function"?{get:k.get,set:k.set,configurable:!0}:{value:k,configurable:!0,writable:!0},I))}function _(v){return{from:function(w){return v.prototype=Object.create(w.prototype),b(v.prototype,"constructor",v),{extend:g.bind(null,v.prototype)}}}}var C=Object.getOwnPropertyDescriptor,E=[].slice;function R(v,w,k){return E.call(v,w,k)}function M(v,w){return w(v)}function U(v){if(!v)throw new Error("Assertion Failed")}function z(v){s.setImmediate?setImmediate(v):setTimeout(v,0)}function P(v,w){if(typeof w=="string"&&p(v,w))return v[w];if(!w)return v;if(typeof w!="string"){for(var k=[],I=0,O=w.length;I<O;++I){var L=P(v,w[I]);k.push(L)}return k}var W=w.indexOf(".");if(W!==-1){var ee=v[w.substr(0,W)];return ee==null?void 0:P(ee,w.substr(W+1))}}function N(v,w,k){if(v&&w!==void 0&&!("isFrozen"in Object&&Object.isFrozen(v)))if(typeof w!="string"&&"length"in w){U(typeof k!="string"&&"length"in k);for(var I=0,O=w.length;I<O;++I)N(v,w[I],k[I])}else{var L,W,ee=w.indexOf(".");ee!==-1?(L=w.substr(0,ee),(W=w.substr(ee+1))===""?k===void 0?a(v)&&!isNaN(parseInt(L))?v.splice(L,1):delete v[L]:v[L]=k:N(ee=!(ee=v[L])||!p(v,L)?v[L]={}:ee,W,k)):k===void 0?a(v)&&!isNaN(parseInt(w))?v.splice(w,1):delete v[w]:v[w]=k}}function B(v){var w,k={};for(w in v)p(v,w)&&(k[w]=v[w]);return k}var $=[].concat;function D(v){return $.apply([],v)}var Ce="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(D([8,16,32,64].map(function(v){return["Int","Uint","Float"].map(function(w){return w+v+"Array"})}))).filter(function(v){return s[v]}),J=new Set(Ce.map(function(v){return s[v]})),X=null;function ie(v){return X=new WeakMap,v=function w(k){if(!k||typeof k!="object")return k;var I=X.get(k);if(I)return I;if(a(k)){I=[],X.set(k,I);for(var O=0,L=k.length;O<L;++O)I.push(w(k[O]))}else if(J.has(k.constructor))I=k;else{var W,ee=c(k);for(W in I=ee===Object.prototype?{}:Object.create(ee),X.set(k,I),k)p(k,W)&&(I[W]=w(k[W]))}return I}(v),X=null,v}var q={}.toString;function V(v){return q.call(v).slice(8,-1)}var K=typeof Symbol<"u"?Symbol.iterator:"@@iterator",ne=typeof K=="symbol"?function(v){var w;return v!=null&&(w=v[K])&&w.apply(v)}:function(){return null};function Y(v,w){return w=v.indexOf(w),0<=w&&v.splice(w,1),0<=w}var de={};function F(v){var w,k,I,O;if(arguments.length===1){if(a(v))return v.slice();if(this===de&&typeof v=="string")return[v];if(O=ne(v)){for(k=[];!(I=O.next()).done;)k.push(I.value);return k}if(v==null)return[v];if(typeof(w=v.length)!="number")return[v];for(k=new Array(w);w--;)k[w]=v[w];return k}for(w=arguments.length,k=new Array(w);w--;)k[w]=arguments[w];return k}var Z=typeof Symbol<"u"?function(v){return v[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},Ln=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Ti=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(Ln),ge={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function H(v,w){this.name=v,this.message=w}function je(v,w){return v+". Errors: "+Object.keys(w).map(function(k){return w[k].toString()}).filter(function(k,I,O){return O.indexOf(k)===I}).join(`
`)}function ke(v,w,k,I){this.failures=w,this.failedKeys=I,this.successCount=k,this.message=je(v,w)}function Te(v,w){this.name="BulkError",this.failures=Object.keys(w).map(function(k){return w[k]}),this.failuresByPos=w,this.message=je(v,this.failures)}_(H).from(Error).extend({toString:function(){return this.name+": "+this.message}}),_(ke).from(H),_(Te).from(H);var Ke=Ti.reduce(function(v,w){return v[w]=w+"Error",v},{}),We=H,Ie=Ti.reduce(function(v,w){var k=w+"Error";function I(O,L){this.name=k,O?typeof O=="string"?(this.message="".concat(O).concat(L?`
 `+L:""),this.inner=L||null):typeof O=="object"&&(this.message="".concat(O.name," ").concat(O.message),this.inner=O):(this.message=ge[w]||k,this.inner=null)}return _(I).from(We),v[w]=I,v},{});Ie.Syntax=SyntaxError,Ie.Type=TypeError,Ie.Range=RangeError;var Lt=Ln.reduce(function(v,w){return v[w+"Error"]=Ie[w],v},{}),Vn=Ti.reduce(function(v,w){return["Syntax","Type","Range"].indexOf(w)===-1&&(v[w+"Error"]=Ie[w]),v},{});function ct(){}function mn(v){return v}function bn(v,w){return v==null||v===mn?w:function(k){return w(v(k))}}function yn(v,w){return function(){v.apply(this,arguments),w.apply(this,arguments)}}function vr(v,w){return v===ct?w:function(){var k=v.apply(this,arguments);k!==void 0&&(arguments[0]=k);var I=this.onsuccess,O=this.onerror;this.onsuccess=null,this.onerror=null;var L=w.apply(this,arguments);return I&&(this.onsuccess=this.onsuccess?yn(I,this.onsuccess):I),O&&(this.onerror=this.onerror?yn(O,this.onerror):O),L!==void 0?L:k}}function Ei(v,w){return v===ct?w:function(){v.apply(this,arguments);var k=this.onsuccess,I=this.onerror;this.onsuccess=this.onerror=null,w.apply(this,arguments),k&&(this.onsuccess=this.onsuccess?yn(k,this.onsuccess):k),I&&(this.onerror=this.onerror?yn(I,this.onerror):I)}}function Ki(v,w){return v===ct?w:function(k){var I=v.apply(this,arguments);l(k,I);var O=this.onsuccess,L=this.onerror;return this.onsuccess=null,this.onerror=null,k=w.apply(this,arguments),O&&(this.onsuccess=this.onsuccess?yn(O,this.onsuccess):O),L&&(this.onerror=this.onerror?yn(L,this.onerror):L),I===void 0?k===void 0?void 0:k:l(I,k)}}function pi(v,w){return v===ct?w:function(){return w.apply(this,arguments)!==!1&&v.apply(this,arguments)}}function _t(v,w){return v===ct?w:function(){var k=v.apply(this,arguments);if(k&&typeof k.then=="function"){for(var I=this,O=arguments.length,L=new Array(O);O--;)L[O]=arguments[O];return k.then(function(){return w.apply(I,L)})}return w.apply(this,arguments)}}Vn.ModifyError=ke,Vn.DexieError=H,Vn.BulkError=Te;var ln=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function Ct(v){ln=v}var Zt={},xt=100,Ce=typeof Promise>"u"?[]:function(){var v=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[v,c(v),v];var w=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[w,c(w),v]}(),Ln=Ce[0],Ti=Ce[1],Ce=Ce[2],Ti=Ti&&Ti.then,Ae=Ln&&Ln.constructor,ot=!!Ce,ft=function(v,w){wr.push([v,w]),Fn&&(queueMicrotask(Lo),Fn=!1)},$t=!0,Fn=!0,ar=[],xr=[],Zn=mn,br={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:ct,pgp:!1,env:{},finalize:ct},Qe=br,wr=[],qn=0,Ds=[];function Ve(v){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var w=this._PSD=Qe;if(typeof v!="function"){if(v!==Zt)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&Na(this,this._value))}this._state=null,this._value=null,++w.ref,function k(I,O){try{O(function(L){if(I._state===null){if(L===I)throw new TypeError("A promise cannot be resolved with itself.");var W=I._lib&&mi();L&&typeof L.then=="function"?k(I,function(ee,se){L instanceof Ve?L._then(ee,se):L.then(ee,se)}):(I._state=!0,I._value=L,Ra(I)),W&&ps()}},Na.bind(null,I))}catch(L){Na(I,L)}}(this,v)}var Gi={get:function(){var v=Qe,w=nt;function k(I,O){var L=this,W=!v.global&&(v!==Qe||w!==nt),ee=W&&!Je(),se=new Ve(function(le,he){Pa(L,new Yi(Bn(I,v,W,ee),Bn(O,v,W,ee),le,he,v))});return this._consoleTask&&(se._consoleTask=this._consoleTask),se}return k.prototype=Zt,k},set:function(v){b(this,"then",v&&v.prototype===Zt?Gi:{get:function(){return v},set:Gi.set})}};function Yi(v,w,k,I,O){this.onFulfilled=typeof v=="function"?v:null,this.onRejected=typeof w=="function"?w:null,this.resolve=k,this.reject=I,this.psd=O}function Na(v,w){var k,I;xr.push(w),v._state===null&&(k=v._lib&&mi(),w=Zn(w),v._state=!1,v._value=w,I=v,ar.some(function(O){return O._value===I._value})||ar.push(I),Ra(v),k&&ps())}function Ra(v){var w=v._listeners;v._listeners=[];for(var k=0,I=w.length;k<I;++k)Pa(v,w[k]);var O=v._PSD;--O.ref||O.finalize(),qn===0&&(++qn,ft(function(){--qn==0&&Ls()},[]))}function Pa(v,w){if(v._state!==null){var k=v._state?w.onFulfilled:w.onRejected;if(k===null)return(v._state?w.resolve:w.reject)(v._value);++w.psd.ref,++qn,ft(ql,[k,v,w])}else v._listeners.push(w)}function ql(v,w,k){try{var I,O=w._value;!w._state&&xr.length&&(xr=[]),I=ln&&w._consoleTask?w._consoleTask.run(function(){return v(O)}):v(O),w._state||xr.indexOf(O)!==-1||function(L){for(var W=ar.length;W;)if(ar[--W]._value===L._value)return ar.splice(W,1)}(w),k.resolve(I)}catch(L){k.reject(L)}finally{--qn==0&&Ls(),--k.psd.ref||k.psd.finalize()}}function Lo(){wn(br,function(){mi()&&ps()})}function mi(){var v=$t;return Fn=$t=!1,v}function ps(){var v,w,k;do for(;0<wr.length;)for(v=wr,wr=[],k=v.length,w=0;w<k;++w){var I=v[w];I[0].apply(null,I[1])}while(0<wr.length);Fn=$t=!0}function Ls(){var v=ar;ar=[],v.forEach(function(I){I._PSD.onunhandled.call(null,I._value,I)});for(var w=Ds.slice(0),k=w.length;k;)w[--k]()}function mo(v){return new Ve(Zt,!1,v)}function Q(v,w){var k=Qe;return function(){var I=mi(),O=Qe;try{return It(k,!0),v.apply(this,arguments)}catch(L){w&&w(L)}finally{It(O,!1),I&&ps()}}}g(Ve.prototype,{then:Gi,_then:function(v,w){Pa(this,new Yi(null,null,v,w,Qe))},catch:function(v){if(arguments.length===1)return this.then(null,v);var w=v,k=arguments[1];return typeof w=="function"?this.then(null,function(I){return(I instanceof w?k:mo)(I)}):this.then(null,function(I){return(I&&I.name===w?k:mo)(I)})},finally:function(v){return this.then(function(w){return Ve.resolve(v()).then(function(){return w})},function(w){return Ve.resolve(v()).then(function(){return mo(w)})})},timeout:function(v,w){var k=this;return v<1/0?new Ve(function(I,O){var L=setTimeout(function(){return O(new Ie.Timeout(w))},v);k.then(I,O).finally(clearTimeout.bind(null,L))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&b(Ve.prototype,Symbol.toStringTag,"Dexie.Promise"),br.env=Vt(),g(Ve,{all:function(){var v=F.apply(null,arguments).map(dt);return new Ve(function(w,k){v.length===0&&w([]);var I=v.length;v.forEach(function(O,L){return Ve.resolve(O).then(function(W){v[L]=W,--I||w(v)},k)})})},resolve:function(v){return v instanceof Ve?v:v&&typeof v.then=="function"?new Ve(function(w,k){v.then(w,k)}):new Ve(Zt,!0,v)},reject:mo,race:function(){var v=F.apply(null,arguments).map(dt);return new Ve(function(w,k){v.map(function(I){return Ve.resolve(I).then(w,k)})})},PSD:{get:function(){return Qe},set:function(v){return Qe=v}},totalEchoes:{get:function(){return nt}},newPSD:Xe,usePSD:wn,scheduler:{get:function(){return ft},set:function(v){ft=v}},rejectionMapper:{get:function(){return Zn},set:function(v){Zn=v}},follow:function(v,w){return new Ve(function(k,I){return Xe(function(O,L){var W=Qe;W.unhandleds=[],W.onunhandled=L,W.finalize=yn(function(){var ee,se=this;ee=function(){se.unhandleds.length===0?O():L(se.unhandleds[0])},Ds.push(function le(){ee(),Ds.splice(Ds.indexOf(le),1)}),++qn,ft(function(){--qn==0&&Ls()},[])},W.finalize),v()},w,k,I)})}}),Ae&&(Ae.allSettled&&b(Ve,"allSettled",function(){var v=F.apply(null,arguments).map(dt);return new Ve(function(w){v.length===0&&w([]);var k=v.length,I=new Array(k);v.forEach(function(O,L){return Ve.resolve(O).then(function(W){return I[L]={status:"fulfilled",value:W}},function(W){return I[L]={status:"rejected",reason:W}}).then(function(){return--k||w(I)})})})}),Ae.any&&typeof AggregateError<"u"&&b(Ve,"any",function(){var v=F.apply(null,arguments).map(dt);return new Ve(function(w,k){v.length===0&&k(new AggregateError([]));var I=v.length,O=new Array(I);v.forEach(function(L,W){return Ve.resolve(L).then(function(ee){return w(ee)},function(ee){O[W]=ee,--I||k(new AggregateError(O))})})})}),Ae.withResolvers&&(Ve.withResolvers=Ae.withResolvers));var ae={awaits:0,echoes:0,id:0},be=0,Ne=[],Fe=0,nt=0,et=0;function Xe(v,w,k,I){var O=Qe,L=Object.create(O);return L.parent=O,L.ref=0,L.global=!1,L.id=++et,br.env,L.env=ot?{Promise:Ve,PromiseProp:{value:Ve,configurable:!0,writable:!0},all:Ve.all,race:Ve.race,allSettled:Ve.allSettled,any:Ve.any,resolve:Ve.resolve,reject:Ve.reject}:{},w&&l(L,w),++O.ref,L.finalize=function(){--this.parent.ref||this.parent.finalize()},I=wn(L,v,k,I),L.ref===0&&L.finalize(),I}function rt(){return ae.id||(ae.id=++be),++ae.awaits,ae.echoes+=xt,ae.id}function Je(){return!!ae.awaits&&(--ae.awaits==0&&(ae.id=0),ae.echoes=ae.awaits*xt,!0)}function dt(v){return ae.echoes&&v&&v.constructor===Ae?(rt(),v.then(function(w){return Je(),w},function(w){return Je(),ht(w)})):v}function lt(){var v=Ne[Ne.length-1];Ne.pop(),It(v,!1)}function It(v,w){var k,I=Qe;(w?!ae.echoes||Fe++&&v===Qe:!Fe||--Fe&&v===Qe)||queueMicrotask(w?(function(O){++nt,ae.echoes&&--ae.echoes!=0||(ae.echoes=ae.awaits=ae.id=0),Ne.push(Qe),It(O,!0)}).bind(null,v):lt),v!==Qe&&(Qe=v,I===br&&(br.env=Vt()),ot&&(k=br.env.Promise,w=v.env,(I.global||v.global)&&(Object.defineProperty(s,"Promise",w.PromiseProp),k.all=w.all,k.race=w.race,k.resolve=w.resolve,k.reject=w.reject,w.allSettled&&(k.allSettled=w.allSettled),w.any&&(k.any=w.any))))}function Vt(){var v=s.Promise;return ot?{Promise:v,PromiseProp:Object.getOwnPropertyDescriptor(s,"Promise"),all:v.all,race:v.race,allSettled:v.allSettled,any:v.any,resolve:v.resolve,reject:v.reject}:{}}function wn(v,w,k,I,O){var L=Qe;try{return It(v,!0),w(k,I,O)}finally{It(L,!1)}}function Bn(v,w,k,I){return typeof v!="function"?v:function(){var O=Qe;k&&rt(),It(w,!0);try{return v.apply(this,arguments)}finally{It(O,!1),I&&queueMicrotask(Je)}}}function er(v){Promise===Ae&&ae.echoes===0?Fe===0?v():enqueueNativeMicroTask(v):setTimeout(v,0)}(""+Ti).indexOf("[native code]")===-1&&(rt=Je=ct);var ht=Ve.reject,tr="",Ht="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",go="String expected.",_r=[],Pr="__dbnames",ms="readonly",Fs="readwrite";function Or(v,w){return v?w?function(){return v.apply(this,arguments)&&w.apply(this,arguments)}:v:w}var gs={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function hr(v){return typeof v!="string"||/\./.test(v)?function(w){return w}:function(w){return w[v]===void 0&&v in w&&delete(w=ie(w))[v],w}}function qt(){throw Ie.Type()}function it(v,w){try{var k=Bs(v),I=Bs(w);if(k!==I)return k==="Array"?1:I==="Array"?-1:k==="binary"?1:I==="binary"?-1:k==="string"?1:I==="string"?-1:k==="Date"?1:I!=="Date"?NaN:-1;switch(k){case"number":case"Date":case"string":return w<v?1:v<w?-1:0;case"binary":return function(O,L){for(var W=O.length,ee=L.length,se=W<ee?W:ee,le=0;le<se;++le)if(O[le]!==L[le])return O[le]<L[le]?-1:1;return W===ee?0:W<ee?-1:1}(ys(v),ys(w));case"Array":return function(O,L){for(var W=O.length,ee=L.length,se=W<ee?W:ee,le=0;le<se;++le){var he=it(O[le],L[le]);if(he!==0)return he}return W===ee?0:W<ee?-1:1}(v,w)}}catch{}return NaN}function Bs(v){var w=typeof v;return w!="object"?w:ArrayBuffer.isView(v)?"binary":(v=V(v),v==="ArrayBuffer"?"binary":v)}function ys(v){return v instanceof Uint8Array?v:ArrayBuffer.isView(v)?new Uint8Array(v.buffer,v.byteOffset,v.byteLength):new Uint8Array(v)}var Sn=(nn.prototype._trans=function(v,w,k){var I=this._tx||Qe.trans,O=this.name,L=ln&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(v==="readonly"?"read":"write"," ").concat(this.name));function W(le,he,te){if(!te.schema[O])throw new Ie.NotFound("Table "+O+" not part of transaction");return w(te.idbtrans,te)}var ee=mi();try{var se=I&&I.db._novip===this.db._novip?I===Qe.trans?I._promise(v,W,k):Xe(function(){return I._promise(v,W,k)},{trans:I,transless:Qe.transless||Qe}):function le(he,te,pe,oe){if(he.idbdb&&(he._state.openComplete||Qe.letThrough||he._vip)){var fe=he._createTransaction(te,pe,he._dbSchema);try{fe.create(),he._state.PR1398_maxLoop=3}catch(me){return me.name===Ke.InvalidState&&he.isOpen()&&0<--he._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),he.close({disableAutoOpen:!1}),he.open().then(function(){return le(he,te,pe,oe)})):ht(me)}return fe._promise(te,function(me,ce){return Xe(function(){return Qe.trans=fe,oe(me,ce,fe)})}).then(function(me){if(te==="readwrite")try{fe.idbtrans.commit()}catch{}return te==="readonly"?me:fe._completion.then(function(){return me})})}if(he._state.openComplete)return ht(new Ie.DatabaseClosed(he._state.dbOpenError));if(!he._state.isBeingOpened){if(!he._state.autoOpen)return ht(new Ie.DatabaseClosed);he.open().catch(ct)}return he._state.dbReadyPromise.then(function(){return le(he,te,pe,oe)})}(this.db,v,[this.name],W);return L&&(se._consoleTask=L,se=se.catch(function(le){return console.trace(le),ht(le)})),se}finally{ee&&ps()}},nn.prototype.get=function(v,w){var k=this;return v&&v.constructor===Object?this.where(v).first(w):v==null?ht(new Ie.Type("Invalid argument to Table.get()")):this._trans("readonly",function(I){return k.core.get({trans:I,key:v}).then(function(O){return k.hook.reading.fire(O)})}).then(w)},nn.prototype.where=function(v){if(typeof v=="string")return new this.db.WhereClause(this,v);if(a(v))return new this.db.WhereClause(this,"[".concat(v.join("+"),"]"));var w=o(v);if(w.length===1)return this.where(w[0]).equals(v[w[0]]);var k=this.schema.indexes.concat(this.schema.primKey).filter(function(ee){if(ee.compound&&w.every(function(le){return 0<=ee.keyPath.indexOf(le)})){for(var se=0;se<w.length;++se)if(w.indexOf(ee.keyPath[se])===-1)return!1;return!0}return!1}).sort(function(ee,se){return ee.keyPath.length-se.keyPath.length})[0];if(k&&this.db._maxKey!==tr){var L=k.keyPath.slice(0,w.length);return this.where(L).equals(L.map(function(se){return v[se]}))}!k&&ln&&console.warn("The query ".concat(JSON.stringify(v)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(w.join("+"),"]"));var I=this.schema.idxByName;function O(ee,se){return it(ee,se)===0}var W=w.reduce(function(te,se){var le=te[0],he=te[1],te=I[se],pe=v[se];return[le||te,le||!te?Or(he,te&&te.multi?function(oe){return oe=P(oe,se),a(oe)&&oe.some(function(fe){return O(pe,fe)})}:function(oe){return O(pe,P(oe,se))}):he]},[null,null]),L=W[0],W=W[1];return L?this.where(L.name).equals(v[L.keyPath]).filter(W):k?this.filter(W):this.where(w).equals("")},nn.prototype.filter=function(v){return this.toCollection().and(v)},nn.prototype.count=function(v){return this.toCollection().count(v)},nn.prototype.offset=function(v){return this.toCollection().offset(v)},nn.prototype.limit=function(v){return this.toCollection().limit(v)},nn.prototype.each=function(v){return this.toCollection().each(v)},nn.prototype.toArray=function(v){return this.toCollection().toArray(v)},nn.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},nn.prototype.orderBy=function(v){return new this.db.Collection(new this.db.WhereClause(this,a(v)?"[".concat(v.join("+"),"]"):v))},nn.prototype.reverse=function(){return this.toCollection().reverse()},nn.prototype.mapToClass=function(v){var w,k=this.db,I=this.name;function O(){return w!==null&&w.apply(this,arguments)||this}(this.schema.mappedClass=v).prototype instanceof qt&&(function(se,le){if(typeof le!="function"&&le!==null)throw new TypeError("Class extends value "+String(le)+" is not a constructor or null");function he(){this.constructor=se}n(se,le),se.prototype=le===null?Object.create(le):(he.prototype=le.prototype,new he)}(O,w=v),Object.defineProperty(O.prototype,"db",{get:function(){return k},enumerable:!1,configurable:!0}),O.prototype.table=function(){return I},v=O);for(var L=new Set,W=v.prototype;W;W=c(W))Object.getOwnPropertyNames(W).forEach(function(se){return L.add(se)});function ee(se){if(!se)return se;var le,he=Object.create(v.prototype);for(le in se)if(!L.has(le))try{he[le]=se[le]}catch{}return he}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=ee,this.hook("reading",ee),v},nn.prototype.defineClass=function(){return this.mapToClass(function(v){l(this,v)})},nn.prototype.add=function(v,w){var k=this,I=this.schema.primKey,O=I.auto,L=I.keyPath,W=v;return L&&O&&(W=hr(L)(v)),this._trans("readwrite",function(ee){return k.core.mutate({trans:ee,type:"add",keys:w!=null?[w]:null,values:[W]})}).then(function(ee){return ee.numFailures?Ve.reject(ee.failures[0]):ee.lastResult}).then(function(ee){if(L)try{N(v,L,ee)}catch{}return ee})},nn.prototype.update=function(v,w){return typeof v!="object"||a(v)?this.where(":id").equals(v).modify(w):(v=P(v,this.schema.primKey.keyPath),v===void 0?ht(new Ie.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(v).modify(w))},nn.prototype.put=function(v,w){var k=this,I=this.schema.primKey,O=I.auto,L=I.keyPath,W=v;return L&&O&&(W=hr(L)(v)),this._trans("readwrite",function(ee){return k.core.mutate({trans:ee,type:"put",values:[W],keys:w!=null?[w]:null})}).then(function(ee){return ee.numFailures?Ve.reject(ee.failures[0]):ee.lastResult}).then(function(ee){if(L)try{N(v,L,ee)}catch{}return ee})},nn.prototype.delete=function(v){var w=this;return this._trans("readwrite",function(k){return w.core.mutate({trans:k,type:"delete",keys:[v]})}).then(function(k){return k.numFailures?Ve.reject(k.failures[0]):void 0})},nn.prototype.clear=function(){var v=this;return this._trans("readwrite",function(w){return v.core.mutate({trans:w,type:"deleteRange",range:gs})}).then(function(w){return w.numFailures?Ve.reject(w.failures[0]):void 0})},nn.prototype.bulkGet=function(v){var w=this;return this._trans("readonly",function(k){return w.core.getMany({keys:v,trans:k}).then(function(I){return I.map(function(O){return w.hook.reading.fire(O)})})})},nn.prototype.bulkAdd=function(v,w,k){var I=this,O=Array.isArray(w)?w:void 0,L=(k=k||(O?void 0:w))?k.allKeys:void 0;return this._trans("readwrite",function(W){var le=I.schema.primKey,ee=le.auto,le=le.keyPath;if(le&&O)throw new Ie.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(O&&O.length!==v.length)throw new Ie.InvalidArgument("Arguments objects and keys must have the same length");var se=v.length,le=le&&ee?v.map(hr(le)):v;return I.core.mutate({trans:W,type:"add",keys:O,values:le,wantResults:L}).then(function(fe){var te=fe.numFailures,pe=fe.results,oe=fe.lastResult,fe=fe.failures;if(te===0)return L?pe:oe;throw new Te("".concat(I.name,".bulkAdd(): ").concat(te," of ").concat(se," operations failed"),fe)})})},nn.prototype.bulkPut=function(v,w,k){var I=this,O=Array.isArray(w)?w:void 0,L=(k=k||(O?void 0:w))?k.allKeys:void 0;return this._trans("readwrite",function(W){var le=I.schema.primKey,ee=le.auto,le=le.keyPath;if(le&&O)throw new Ie.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(O&&O.length!==v.length)throw new Ie.InvalidArgument("Arguments objects and keys must have the same length");var se=v.length,le=le&&ee?v.map(hr(le)):v;return I.core.mutate({trans:W,type:"put",keys:O,values:le,wantResults:L}).then(function(fe){var te=fe.numFailures,pe=fe.results,oe=fe.lastResult,fe=fe.failures;if(te===0)return L?pe:oe;throw new Te("".concat(I.name,".bulkPut(): ").concat(te," of ").concat(se," operations failed"),fe)})})},nn.prototype.bulkUpdate=function(v){var w=this,k=this.core,I=v.map(function(W){return W.key}),O=v.map(function(W){return W.changes}),L=[];return this._trans("readwrite",function(W){return k.getMany({trans:W,keys:I,cache:"clone"}).then(function(ee){var se=[],le=[];v.forEach(function(te,pe){var oe=te.key,fe=te.changes,me=ee[pe];if(me){for(var ce=0,ve=Object.keys(fe);ce<ve.length;ce++){var _e=ve[ce],Se=fe[_e];if(_e===w.schema.primKey.keyPath){if(it(Se,oe)!==0)throw new Ie.Constraint("Cannot update primary key in bulkUpdate()")}else N(me,_e,Se)}L.push(pe),se.push(oe),le.push(me)}});var he=se.length;return k.mutate({trans:W,type:"put",keys:se,values:le,updates:{keys:I,changeSpecs:O}}).then(function(te){var pe=te.numFailures,oe=te.failures;if(pe===0)return he;for(var fe=0,me=Object.keys(oe);fe<me.length;fe++){var ce,ve=me[fe],_e=L[Number(ve)];_e!=null&&(ce=oe[ve],delete oe[ve],oe[_e]=ce)}throw new Te("".concat(w.name,".bulkUpdate(): ").concat(pe," of ").concat(he," operations failed"),oe)})})})},nn.prototype.bulkDelete=function(v){var w=this,k=v.length;return this._trans("readwrite",function(I){return w.core.mutate({trans:I,type:"delete",keys:v})}).then(function(W){var O=W.numFailures,L=W.lastResult,W=W.failures;if(O===0)return L;throw new Te("".concat(w.name,".bulkDelete(): ").concat(O," of ").concat(k," operations failed"),W)})},nn);function nn(){}function Xi(v){function w(W,ee){if(ee){for(var se=arguments.length,le=new Array(se-1);--se;)le[se-1]=arguments[se];return k[W].subscribe.apply(null,le),v}if(typeof W=="string")return k[W]}var k={};w.addEventType=L;for(var I=1,O=arguments.length;I<O;++I)L(arguments[I]);return w;function L(W,ee,se){if(typeof W!="object"){var le;ee=ee||pi;var he={subscribers:[],fire:se=se||ct,subscribe:function(te){he.subscribers.indexOf(te)===-1&&(he.subscribers.push(te),he.fire=ee(he.fire,te))},unsubscribe:function(te){he.subscribers=he.subscribers.filter(function(pe){return pe!==te}),he.fire=he.subscribers.reduce(ee,se)}};return k[W]=w[W]=he}o(le=W).forEach(function(te){var pe=le[te];if(a(pe))L(te,le[te][0],le[te][1]);else{if(pe!=="asap")throw new Ie.InvalidArgument("Invalid event config");var oe=L(te,mn,function(){for(var fe=arguments.length,me=new Array(fe);fe--;)me[fe]=arguments[fe];oe.subscribers.forEach(function(ce){z(function(){ce.apply(null,me)})})})}})}}function Ji(v,w){return _(w).from({prototype:v}),w}function zs(v,w){return!(v.filter||v.algorithm||v.or)&&(w?v.justLimit:!v.replayFilter)}function wf(v,w){v.filter=Or(v.filter,w)}function _f(v,w,k){var I=v.replayFilter;v.replayFilter=I?function(){return Or(I(),w())}:w,v.justLimit=k&&!I}function Oa(v,w){if(v.isPrimKey)return w.primaryKey;var k=w.getIndexByKeyPath(v.index);if(!k)throw new Ie.Schema("KeyPath "+v.index+" on object store "+w.name+" is not indexed");return k}function Sf(v,w,k){var I=Oa(v,w.schema);return w.openCursor({trans:k,values:!v.keysOnly,reverse:v.dir==="prev",unique:!!v.unique,query:{index:I,range:v.range}})}function Ma(v,w,k,I){var O=v.replayFilter?Or(v.filter,v.replayFilter()):v.filter;if(v.or){var L={},W=function(ee,se,le){var he,te;O&&!O(se,le,function(pe){return se.stop(pe)},function(pe){return se.fail(pe)})||((te=""+(he=se.primaryKey))=="[object ArrayBuffer]"&&(te=""+new Uint8Array(he)),p(L,te)||(L[te]=!0,w(ee,se,le)))};return Promise.all([v.or._iterate(W,k),Aa(Sf(v,I,k),v.algorithm,W,!v.keysOnly&&v.valueMapper)])}return Aa(Sf(v,I,k),Or(v.algorithm,O),w,!v.keysOnly&&v.valueMapper)}function Aa(v,w,k,I){var O=Q(I?function(L,W,ee){return k(I(L),W,ee)}:k);return v.then(function(L){if(L)return L.start(function(){var W=function(){return L.continue()};w&&!w(L,function(ee){return W=ee},function(ee){L.stop(ee),W=ct},function(ee){L.fail(ee),W=ct})||O(L.value,L,function(ee){return W=ee}),W()})})}var Ql=(xc.prototype.execute=function(v){var w=this["@@propmod"];if(w.add!==void 0){var k=w.add;if(a(k))return i(i([],a(v)?v:[],!0),k).sort();if(typeof k=="number")return(Number(v)||0)+k;if(typeof k=="bigint")try{return BigInt(v)+k}catch{return BigInt(0)+k}throw new TypeError("Invalid term ".concat(k))}if(w.remove!==void 0){var I=w.remove;if(a(I))return a(v)?v.filter(function(O){return!I.includes(O)}).sort():[];if(typeof I=="number")return Number(v)-I;if(typeof I=="bigint")try{return BigInt(v)-I}catch{return BigInt(0)-I}throw new TypeError("Invalid subtrahend ".concat(I))}return k=(k=w.replacePrefix)===null||k===void 0?void 0:k[0],k&&typeof v=="string"&&v.startsWith(k)?w.replacePrefix[1]+v.substring(k.length):v},xc);function xc(v){this["@@propmod"]=v}var gn=(rn.prototype._read=function(v,w){var k=this._ctx;return k.error?k.table._trans(null,ht.bind(null,k.error)):k.table._trans("readonly",v).then(w)},rn.prototype._write=function(v){var w=this._ctx;return w.error?w.table._trans(null,ht.bind(null,w.error)):w.table._trans("readwrite",v,"locked")},rn.prototype._addAlgorithm=function(v){var w=this._ctx;w.algorithm=Or(w.algorithm,v)},rn.prototype._iterate=function(v,w){return Ma(this._ctx,v,w,this._ctx.table.core)},rn.prototype.clone=function(v){var w=Object.create(this.constructor.prototype),k=Object.create(this._ctx);return v&&l(k,v),w._ctx=k,w},rn.prototype.raw=function(){return this._ctx.valueMapper=null,this},rn.prototype.each=function(v){var w=this._ctx;return this._read(function(k){return Ma(w,v,k,w.table.core)})},rn.prototype.count=function(v){var w=this;return this._read(function(k){var I=w._ctx,O=I.table.core;if(zs(I,!0))return O.count({trans:k,query:{index:Oa(I,O.schema),range:I.range}}).then(function(W){return Math.min(W,I.limit)});var L=0;return Ma(I,function(){return++L,!1},k,O).then(function(){return L})}).then(v)},rn.prototype.sortBy=function(v,w){var k=v.split(".").reverse(),I=k[0],O=k.length-1;function L(se,le){return le?L(se[k[le]],le-1):se[I]}var W=this._ctx.dir==="next"?1:-1;function ee(se,le){return it(L(se,O),L(le,O))*W}return this.toArray(function(se){return se.sort(ee)}).then(w)},rn.prototype.toArray=function(v){var w=this;return this._read(function(k){var I=w._ctx;if(I.dir==="next"&&zs(I,!0)&&0<I.limit){var O=I.valueMapper,L=Oa(I,I.table.core.schema);return I.table.core.query({trans:k,limit:I.limit,values:!0,query:{index:L,range:I.range}}).then(function(ee){return ee=ee.result,O?ee.map(O):ee})}var W=[];return Ma(I,function(ee){return W.push(ee)},k,I.table.core).then(function(){return W})},v)},rn.prototype.offset=function(v){var w=this._ctx;return v<=0||(w.offset+=v,zs(w)?_f(w,function(){var k=v;return function(I,O){return k===0||(k===1?--k:O(function(){I.advance(k),k=0}),!1)}}):_f(w,function(){var k=v;return function(){return--k<0}})),this},rn.prototype.limit=function(v){return this._ctx.limit=Math.min(this._ctx.limit,v),_f(this._ctx,function(){var w=v;return function(k,I,O){return--w<=0&&I(O),0<=w}},!0),this},rn.prototype.until=function(v,w){return wf(this._ctx,function(k,I,O){return!v(k.value)||(I(O),w)}),this},rn.prototype.first=function(v){return this.limit(1).toArray(function(w){return w[0]}).then(v)},rn.prototype.last=function(v){return this.reverse().first(v)},rn.prototype.filter=function(v){var w;return wf(this._ctx,function(k){return v(k.value)}),(w=this._ctx).isMatch=Or(w.isMatch,v),this},rn.prototype.and=function(v){return this.filter(v)},rn.prototype.or=function(v){return new this.db.WhereClause(this._ctx.table,v,this)},rn.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},rn.prototype.desc=function(){return this.reverse()},rn.prototype.eachKey=function(v){var w=this._ctx;return w.keysOnly=!w.isMatch,this.each(function(k,I){v(I.key,I)})},rn.prototype.eachUniqueKey=function(v){return this._ctx.unique="unique",this.eachKey(v)},rn.prototype.eachPrimaryKey=function(v){var w=this._ctx;return w.keysOnly=!w.isMatch,this.each(function(k,I){v(I.primaryKey,I)})},rn.prototype.keys=function(v){var w=this._ctx;w.keysOnly=!w.isMatch;var k=[];return this.each(function(I,O){k.push(O.key)}).then(function(){return k}).then(v)},rn.prototype.primaryKeys=function(v){var w=this._ctx;if(w.dir==="next"&&zs(w,!0)&&0<w.limit)return this._read(function(I){var O=Oa(w,w.table.core.schema);return w.table.core.query({trans:I,values:!1,limit:w.limit,query:{index:O,range:w.range}})}).then(function(I){return I.result}).then(v);w.keysOnly=!w.isMatch;var k=[];return this.each(function(I,O){k.push(O.primaryKey)}).then(function(){return k}).then(v)},rn.prototype.uniqueKeys=function(v){return this._ctx.unique="unique",this.keys(v)},rn.prototype.firstKey=function(v){return this.limit(1).keys(function(w){return w[0]}).then(v)},rn.prototype.lastKey=function(v){return this.reverse().firstKey(v)},rn.prototype.distinct=function(){var v=this._ctx,v=v.index&&v.table.schema.idxByName[v.index];if(!v||!v.multi)return this;var w={};return wf(this._ctx,function(O){var I=O.primaryKey.toString(),O=p(w,I);return w[I]=!0,!O}),this},rn.prototype.modify=function(v){var w=this,k=this._ctx;return this._write(function(I){var O,L,W;W=typeof v=="function"?v:(O=o(v),L=O.length,function(ce){for(var ve=!1,_e=0;_e<L;++_e){var Se=O[_e],Ee=v[Se],De=P(ce,Se);Ee instanceof Ql?(N(ce,Se,Ee.execute(De)),ve=!0):De!==Ee&&(N(ce,Se,Ee),ve=!0)}return ve});var ee=k.table.core,te=ee.schema.primaryKey,se=te.outbound,le=te.extractKey,he=200,te=w.db._options.modifyChunkSize;te&&(he=typeof te=="object"?te[ee.name]||te["*"]||200:te);function pe(ce,Se){var _e=Se.failures,Se=Se.numFailures;fe+=ce-Se;for(var Ee=0,De=o(_e);Ee<De.length;Ee++){var He=De[Ee];oe.push(_e[He])}}var oe=[],fe=0,me=[];return w.clone().primaryKeys().then(function(ce){function ve(Se){var Ee=Math.min(he,ce.length-Se);return ee.getMany({trans:I,keys:ce.slice(Se,Se+Ee),cache:"immutable"}).then(function(De){for(var He=[],Le=[],ze=se?[]:null,qe=[],$e=0;$e<Ee;++$e){var Ye=De[$e],Et={value:ie(Ye),primKey:ce[Se+$e]};W.call(Et,Et.value,Et)!==!1&&(Et.value==null?qe.push(ce[Se+$e]):se||it(le(Ye),le(Et.value))===0?(Le.push(Et.value),se&&ze.push(ce[Se+$e])):(qe.push(ce[Se+$e]),He.push(Et.value)))}return Promise.resolve(0<He.length&&ee.mutate({trans:I,type:"add",values:He}).then(function(Nt){for(var Ft in Nt.failures)qe.splice(parseInt(Ft),1);pe(He.length,Nt)})).then(function(){return(0<Le.length||_e&&typeof v=="object")&&ee.mutate({trans:I,type:"put",keys:ze,values:Le,criteria:_e,changeSpec:typeof v!="function"&&v,isAdditionalChunk:0<Se}).then(function(Nt){return pe(Le.length,Nt)})}).then(function(){return(0<qe.length||_e&&v===bc)&&ee.mutate({trans:I,type:"delete",keys:qe,criteria:_e,isAdditionalChunk:0<Se}).then(function(Nt){return pe(qe.length,Nt)})}).then(function(){return ce.length>Se+Ee&&ve(Se+he)})})}var _e=zs(k)&&k.limit===1/0&&(typeof v!="function"||v===bc)&&{index:k.index,range:k.range};return ve(0).then(function(){if(0<oe.length)throw new ke("Error modifying one or more objects",oe,fe,me);return ce.length})})})},rn.prototype.delete=function(){var v=this._ctx,w=v.range;return zs(v)&&(v.isPrimKey||w.type===3)?this._write(function(k){var I=v.table.core.schema.primaryKey,O=w;return v.table.core.count({trans:k,query:{index:I,range:O}}).then(function(L){return v.table.core.mutate({trans:k,type:"deleteRange",range:O}).then(function(W){var ee=W.failures;if(W.lastResult,W.results,W=W.numFailures,W)throw new ke("Could not delete some values",Object.keys(ee).map(function(se){return ee[se]}),L-W);return L-W})})}):this.modify(bc)},rn);function rn(){}var bc=function(v,w){return w.value=null};function Cf(v,w){return v<w?-1:v===w?0:1}function Xp(v,w){return w<v?-1:v===w?0:1}function Yr(v,w,k){return v=v instanceof Us?new v.Collection(v):v,v._ctx.error=new(k||TypeError)(w),v}function Fo(v){return new v.Collection(v,function(){return $s("")}).limit(0)}function Da(v,w,k,I){var O,L,W,ee,se,le,he,te=k.length;if(!k.every(function(fe){return typeof fe=="string"}))return Yr(v,go);function pe(fe){O=fe==="next"?function(ce){return ce.toUpperCase()}:function(ce){return ce.toLowerCase()},L=fe==="next"?function(ce){return ce.toLowerCase()}:function(ce){return ce.toUpperCase()},W=fe==="next"?Cf:Xp;var me=k.map(function(ce){return{lower:L(ce),upper:O(ce)}}).sort(function(ce,ve){return W(ce.lower,ve.lower)});ee=me.map(function(ce){return ce.upper}),se=me.map(function(ce){return ce.lower}),he=(le=fe)==="next"?"":I}pe("next"),v=new v.Collection(v,function(){return Zi(ee[0],se[te-1]+I)}),v._ondirectionchange=function(fe){pe(fe)};var oe=0;return v._addAlgorithm(function(fe,me,ce){var ve=fe.key;if(typeof ve!="string")return!1;var _e=L(ve);if(w(_e,se,oe))return!0;for(var Se=null,Ee=oe;Ee<te;++Ee){var De=function(He,Le,ze,qe,$e,Ye){for(var Et=Math.min(He.length,qe.length),Nt=-1,Ft=0;Ft<Et;++Ft){var Jr=Le[Ft];if(Jr!==qe[Ft])return $e(He[Ft],ze[Ft])<0?He.substr(0,Ft)+ze[Ft]+ze.substr(Ft+1):$e(He[Ft],qe[Ft])<0?He.substr(0,Ft)+qe[Ft]+ze.substr(Ft+1):0<=Nt?He.substr(0,Nt)+Le[Nt]+ze.substr(Nt+1):null;$e(He[Ft],Jr)<0&&(Nt=Ft)}return Et<qe.length&&Ye==="next"?He+ze.substr(He.length):Et<He.length&&Ye==="prev"?He.substr(0,ze.length):Nt<0?null:He.substr(0,Nt)+qe[Nt]+ze.substr(Nt+1)}(ve,_e,ee[Ee],se[Ee],W,le);De===null&&Se===null?oe=Ee+1:(Se===null||0<W(Se,De))&&(Se=De)}return me(Se!==null?function(){fe.continue(Se+he)}:ce),!1}),v}function Zi(v,w,k,I){return{type:2,lower:v,upper:w,lowerOpen:k,upperOpen:I}}function $s(v){return{type:1,lower:v,upper:v}}var Us=(Object.defineProperty(Cn.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),Cn.prototype.between=function(v,w,k,I){k=k!==!1,I=I===!0;try{return 0<this._cmp(v,w)||this._cmp(v,w)===0&&(k||I)&&(!k||!I)?Fo(this):new this.Collection(this,function(){return Zi(v,w,!k,!I)})}catch{return Yr(this,Ht)}},Cn.prototype.equals=function(v){return v==null?Yr(this,Ht):new this.Collection(this,function(){return $s(v)})},Cn.prototype.above=function(v){return v==null?Yr(this,Ht):new this.Collection(this,function(){return Zi(v,void 0,!0)})},Cn.prototype.aboveOrEqual=function(v){return v==null?Yr(this,Ht):new this.Collection(this,function(){return Zi(v,void 0,!1)})},Cn.prototype.below=function(v){return v==null?Yr(this,Ht):new this.Collection(this,function(){return Zi(void 0,v,!1,!0)})},Cn.prototype.belowOrEqual=function(v){return v==null?Yr(this,Ht):new this.Collection(this,function(){return Zi(void 0,v)})},Cn.prototype.startsWith=function(v){return typeof v!="string"?Yr(this,go):this.between(v,v+tr,!0,!0)},Cn.prototype.startsWithIgnoreCase=function(v){return v===""?this.startsWith(v):Da(this,function(w,k){return w.indexOf(k[0])===0},[v],tr)},Cn.prototype.equalsIgnoreCase=function(v){return Da(this,function(w,k){return w===k[0]},[v],"")},Cn.prototype.anyOfIgnoreCase=function(){var v=F.apply(de,arguments);return v.length===0?Fo(this):Da(this,function(w,k){return k.indexOf(w)!==-1},v,"")},Cn.prototype.startsWithAnyOfIgnoreCase=function(){var v=F.apply(de,arguments);return v.length===0?Fo(this):Da(this,function(w,k){return k.some(function(I){return w.indexOf(I)===0})},v,tr)},Cn.prototype.anyOf=function(){var v=this,w=F.apply(de,arguments),k=this._cmp;try{w.sort(k)}catch{return Yr(this,Ht)}if(w.length===0)return Fo(this);var I=new this.Collection(this,function(){return Zi(w[0],w[w.length-1])});I._ondirectionchange=function(L){k=L==="next"?v._ascending:v._descending,w.sort(k)};var O=0;return I._addAlgorithm(function(L,W,ee){for(var se=L.key;0<k(se,w[O]);)if(++O===w.length)return W(ee),!1;return k(se,w[O])===0||(W(function(){L.continue(w[O])}),!1)}),I},Cn.prototype.notEqual=function(v){return this.inAnyRange([[-1/0,v],[v,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},Cn.prototype.noneOf=function(){var v=F.apply(de,arguments);if(v.length===0)return new this.Collection(this);try{v.sort(this._ascending)}catch{return Yr(this,Ht)}var w=v.reduce(function(k,I){return k?k.concat([[k[k.length-1][1],I]]):[[-1/0,I]]},null);return w.push([v[v.length-1],this.db._maxKey]),this.inAnyRange(w,{includeLowers:!1,includeUppers:!1})},Cn.prototype.inAnyRange=function(ve,w){var k=this,I=this._cmp,O=this._ascending,L=this._descending,W=this._min,ee=this._max;if(ve.length===0)return Fo(this);if(!ve.every(function(_e){return _e[0]!==void 0&&_e[1]!==void 0&&O(_e[0],_e[1])<=0}))return Yr(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",Ie.InvalidArgument);var se=!w||w.includeLowers!==!1,le=w&&w.includeUppers===!0,he,te=O;function pe(_e,Se){return te(_e[0],Se[0])}try{(he=ve.reduce(function(_e,Se){for(var Ee=0,De=_e.length;Ee<De;++Ee){var He=_e[Ee];if(I(Se[0],He[1])<0&&0<I(Se[1],He[0])){He[0]=W(He[0],Se[0]),He[1]=ee(He[1],Se[1]);break}}return Ee===De&&_e.push(Se),_e},[])).sort(pe)}catch{return Yr(this,Ht)}var oe=0,fe=le?function(_e){return 0<O(_e,he[oe][1])}:function(_e){return 0<=O(_e,he[oe][1])},me=se?function(_e){return 0<L(_e,he[oe][0])}:function(_e){return 0<=L(_e,he[oe][0])},ce=fe,ve=new this.Collection(this,function(){return Zi(he[0][0],he[he.length-1][1],!se,!le)});return ve._ondirectionchange=function(_e){te=_e==="next"?(ce=fe,O):(ce=me,L),he.sort(pe)},ve._addAlgorithm(function(_e,Se,Ee){for(var De,He=_e.key;ce(He);)if(++oe===he.length)return Se(Ee),!1;return!fe(De=He)&&!me(De)||(k._cmp(He,he[oe][1])===0||k._cmp(He,he[oe][0])===0||Se(function(){te===O?_e.continue(he[oe][0]):_e.continue(he[oe][1])}),!1)}),ve},Cn.prototype.startsWithAnyOf=function(){var v=F.apply(de,arguments);return v.every(function(w){return typeof w=="string"})?v.length===0?Fo(this):this.inAnyRange(v.map(function(w){return[w,w+tr]})):Yr(this,"startsWithAnyOf() only works with strings")},Cn);function Cn(){}function Xr(v){return Q(function(w){return Hs(w),v(w.target.error),!1})}function Hs(v){v.stopPropagation&&v.stopPropagation(),v.preventDefault&&v.preventDefault()}var ki="storagemutated",Ef="x-storagemutated-1",Ws=Xi(null,ki),Kl=(vs.prototype._lock=function(){return U(!Qe.global),++this._reculock,this._reculock!==1||Qe.global||(Qe.lockOwnerFor=this),this},vs.prototype._unlock=function(){if(U(!Qe.global),--this._reculock==0)for(Qe.global||(Qe.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var v=this._blockedFuncs.shift();try{wn(v[1],v[0])}catch{}}return this},vs.prototype._locked=function(){return this._reculock&&Qe.lockOwnerFor!==this},vs.prototype.create=function(v){var w=this;if(!this.mode)return this;var k=this.db.idbdb,I=this.db._state.dbOpenError;if(U(!this.idbtrans),!v&&!k)switch(I&&I.name){case"DatabaseClosedError":throw new Ie.DatabaseClosed(I);case"MissingAPIError":throw new Ie.MissingAPI(I.message,I);default:throw new Ie.OpenFailed(I)}if(!this.active)throw new Ie.TransactionInactive;return U(this._completion._state===null),(v=this.idbtrans=v||(this.db.core||k).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=Q(function(O){Hs(O),w._reject(v.error)}),v.onabort=Q(function(O){Hs(O),w.active&&w._reject(new Ie.Abort(v.error)),w.active=!1,w.on("abort").fire(O)}),v.oncomplete=Q(function(){w.active=!1,w._resolve(),"mutatedParts"in v&&Ws.storagemutated.fire(v.mutatedParts)}),this},vs.prototype._promise=function(v,w,k){var I=this;if(v==="readwrite"&&this.mode!=="readwrite")return ht(new Ie.ReadOnly("Transaction is readonly"));if(!this.active)return ht(new Ie.TransactionInactive);if(this._locked())return new Ve(function(L,W){I._blockedFuncs.push([function(){I._promise(v,w,k).then(L,W)},Qe])});if(k)return Xe(function(){var L=new Ve(function(W,ee){I._lock();var se=w(W,ee,I);se&&se.then&&se.then(W,ee)});return L.finally(function(){return I._unlock()}),L._lib=!0,L});var O=new Ve(function(L,W){var ee=w(L,W,I);ee&&ee.then&&ee.then(L,W)});return O._lib=!0,O},vs.prototype._root=function(){return this.parent?this.parent._root():this},vs.prototype.waitFor=function(v){var w,k=this._root(),I=Ve.resolve(v);k._waitingFor?k._waitingFor=k._waitingFor.then(function(){return I}):(k._waitingFor=I,k._waitingQueue=[],w=k.idbtrans.objectStore(k.storeNames[0]),function L(){for(++k._spinCount;k._waitingQueue.length;)k._waitingQueue.shift()();k._waitingFor&&(w.get(-1/0).onsuccess=L)}());var O=k._waitingFor;return new Ve(function(L,W){I.then(function(ee){return k._waitingQueue.push(Q(L.bind(null,ee)))},function(ee){return k._waitingQueue.push(Q(W.bind(null,ee)))}).finally(function(){k._waitingFor===O&&(k._waitingFor=null)})})},vs.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new Ie.Abort))},vs.prototype.table=function(v){var w=this._memoizedTables||(this._memoizedTables={});if(p(w,v))return w[v];var k=this.schema[v];if(!k)throw new Ie.NotFound("Table "+v+" not part of transaction");return k=new this.db.Table(v,k,this),k.core=this.db.core.table(v),w[v]=k},vs);function vs(){}function wc(v,w,k,I,O,L,W){return{name:v,keyPath:w,unique:k,multi:I,auto:O,compound:L,src:(k&&!W?"&":"")+(I?"*":"")+(O?"++":"")+Gl(w)}}function Gl(v){return typeof v=="string"?v:v?"["+[].join.call(v,"+")+"]":""}function _c(v,w,k){return{name:v,primKey:w,indexes:k,mappedClass:null,idxByName:(I=function(O){return[O.name,O]},k.reduce(function(O,L,W){return W=I(L,W),W&&(O[W[0]]=W[1]),O},{}))};var I}var Yl=function(v){try{return v.only([[]]),Yl=function(){return[[]]},[[]]}catch{return Yl=function(){return tr},tr}};function Bo(v){return v==null?function(){}:typeof v=="string"?(w=v).split(".").length===1?function(k){return k[w]}:function(k){return P(k,w)}:function(k){return P(k,v)};var w}function La(v){return[].slice.call(v)}var Fa=0;function yo(v){return v==null?":id":typeof v=="string"?v:"[".concat(v.join("+"),"]")}function C1(v,w,se){function I(ce){if(ce.type===3)return null;if(ce.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var oe=ce.lower,fe=ce.upper,me=ce.lowerOpen,ce=ce.upperOpen;return oe===void 0?fe===void 0?null:w.upperBound(fe,!!ce):fe===void 0?w.lowerBound(oe,!!me):w.bound(oe,fe,!!me,!!ce)}function O(pe){var oe,fe=pe.name;return{name:fe,schema:pe,mutate:function(me){var ce=me.trans,ve=me.type,_e=me.keys,Se=me.values,Ee=me.range;return new Promise(function(De,He){De=Q(De);var Le=ce.objectStore(fe),ze=Le.keyPath==null,qe=ve==="put"||ve==="add";if(!qe&&ve!=="delete"&&ve!=="deleteRange")throw new Error("Invalid operation type: "+ve);var $e,Ye=(_e||Se||{length:1}).length;if(_e&&Se&&_e.length!==Se.length)throw new Error("Given keys array must have same length as given values array.");if(Ye===0)return De({numFailures:0,failures:{},results:[],lastResult:void 0});function Et(zn){++Jr,Hs(zn)}var Nt=[],Ft=[],Jr=0;if(ve==="deleteRange"){if(Ee.type===4)return De({numFailures:Jr,failures:Ft,results:[],lastResult:void 0});Ee.type===3?Nt.push($e=Le.clear()):Nt.push($e=Le.delete(I(Ee)))}else{var ze=qe?ze?[Se,_e]:[Se,null]:[_e,null],St=ze[0],Sr=ze[1];if(qe)for(var Cr=0;Cr<Ye;++Cr)Nt.push($e=Sr&&Sr[Cr]!==void 0?Le[ve](St[Cr],Sr[Cr]):Le[ve](St[Cr])),$e.onerror=Et;else for(Cr=0;Cr<Ye;++Cr)Nt.push($e=Le[ve](St[Cr])),$e.onerror=Et}function ou(zn){zn=zn.target.result,Nt.forEach(function(Vs,au){return Vs.error!=null&&(Ft[au]=Vs.error)}),De({numFailures:Jr,failures:Ft,results:ve==="delete"?_e:Nt.map(function(Vs){return Vs.result}),lastResult:zn})}$e.onerror=function(zn){Et(zn),ou(zn)},$e.onsuccess=ou})},getMany:function(me){var ce=me.trans,ve=me.keys;return new Promise(function(_e,Se){_e=Q(_e);for(var Ee,De=ce.objectStore(fe),He=ve.length,Le=new Array(He),ze=0,qe=0,$e=function(Nt){Nt=Nt.target,Le[Nt._pos]=Nt.result,++qe===ze&&_e(Le)},Ye=Xr(Se),Et=0;Et<He;++Et)ve[Et]!=null&&((Ee=De.get(ve[Et]))._pos=Et,Ee.onsuccess=$e,Ee.onerror=Ye,++ze);ze===0&&_e(Le)})},get:function(me){var ce=me.trans,ve=me.key;return new Promise(function(_e,Se){_e=Q(_e);var Ee=ce.objectStore(fe).get(ve);Ee.onsuccess=function(De){return _e(De.target.result)},Ee.onerror=Xr(Se)})},query:(oe=le,function(me){return new Promise(function(ce,ve){ce=Q(ce);var _e,Se,Ee,ze=me.trans,De=me.values,He=me.limit,$e=me.query,Le=He===1/0?void 0:He,qe=$e.index,$e=$e.range,ze=ze.objectStore(fe),qe=qe.isPrimaryKey?ze:ze.index(qe.name),$e=I($e);if(He===0)return ce({result:[]});oe?((Le=De?qe.getAll($e,Le):qe.getAllKeys($e,Le)).onsuccess=function(Ye){return ce({result:Ye.target.result})},Le.onerror=Xr(ve)):(_e=0,Se=!De&&"openKeyCursor"in qe?qe.openKeyCursor($e):qe.openCursor($e),Ee=[],Se.onsuccess=function(Ye){var Et=Se.result;return Et?(Ee.push(De?Et.value:Et.primaryKey),++_e===He?ce({result:Ee}):void Et.continue()):ce({result:Ee})},Se.onerror=Xr(ve))})}),openCursor:function(me){var ce=me.trans,ve=me.values,_e=me.query,Se=me.reverse,Ee=me.unique;return new Promise(function(De,He){De=Q(De);var qe=_e.index,Le=_e.range,ze=ce.objectStore(fe),ze=qe.isPrimaryKey?ze:ze.index(qe.name),qe=Se?Ee?"prevunique":"prev":Ee?"nextunique":"next",$e=!ve&&"openKeyCursor"in ze?ze.openKeyCursor(I(Le),qe):ze.openCursor(I(Le),qe);$e.onerror=Xr(He),$e.onsuccess=Q(function(Ye){var Et,Nt,Ft,Jr,St=$e.result;St?(St.___id=++Fa,St.done=!1,Et=St.continue.bind(St),Nt=(Nt=St.continuePrimaryKey)&&Nt.bind(St),Ft=St.advance.bind(St),Jr=function(){throw new Error("Cursor not stopped")},St.trans=ce,St.stop=St.continue=St.continuePrimaryKey=St.advance=function(){throw new Error("Cursor not started")},St.fail=Q(He),St.next=function(){var Sr=this,Cr=1;return this.start(function(){return Cr--?Sr.continue():Sr.stop()}).then(function(){return Sr})},St.start=function(Sr){function Cr(){if($e.result)try{Sr()}catch(zn){St.fail(zn)}else St.done=!0,St.start=function(){throw new Error("Cursor behind last entry")},St.stop()}var ou=new Promise(function(zn,Vs){zn=Q(zn),$e.onerror=Xr(Vs),St.fail=Vs,St.stop=function(au){St.stop=St.continue=St.continuePrimaryKey=St.advance=Jr,zn(au)}});return $e.onsuccess=Q(function(zn){$e.onsuccess=Cr,Cr()}),St.continue=Et,St.continuePrimaryKey=Nt,St.advance=Ft,Cr(),ou},De(St)):De(null)},He)})},count:function(me){var ce=me.query,ve=me.trans,_e=ce.index,Se=ce.range;return new Promise(function(Ee,De){var He=ve.objectStore(fe),Le=_e.isPrimaryKey?He:He.index(_e.name),He=I(Se),Le=He?Le.count(He):Le.count();Le.onsuccess=Q(function(ze){return Ee(ze.target.result)}),Le.onerror=Xr(De)})}}}var L,W,ee,he=(W=se,ee=La((L=v).objectStoreNames),{schema:{name:L.name,tables:ee.map(function(pe){return W.objectStore(pe)}).map(function(pe){var oe=pe.keyPath,ce=pe.autoIncrement,fe=a(oe),me={},ce={name:pe.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:oe==null,compound:fe,keyPath:oe,autoIncrement:ce,unique:!0,extractKey:Bo(oe)},indexes:La(pe.indexNames).map(function(ve){return pe.index(ve)}).map(function(Ee){var _e=Ee.name,Se=Ee.unique,De=Ee.multiEntry,Ee=Ee.keyPath,De={name:_e,compound:a(Ee),keyPath:Ee,unique:Se,multiEntry:De,extractKey:Bo(Ee)};return me[yo(Ee)]=De}),getIndexByKeyPath:function(ve){return me[yo(ve)]}};return me[":id"]=ce.primaryKey,oe!=null&&(me[yo(oe)]=ce.primaryKey),ce})},hasGetAll:0<ee.length&&"getAll"in W.objectStore(ee[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),se=he.schema,le=he.hasGetAll,he=se.tables.map(O),te={};return he.forEach(function(pe){return te[pe.name]=pe}),{stack:"dbcore",transaction:v.transaction.bind(v),table:function(pe){if(!te[pe])throw new Error("Table '".concat(pe,"' not found"));return te[pe]},MIN_KEY:-1/0,MAX_KEY:Yl(w),schema:se}}function E1(v,w,k,I){var O=k.IDBKeyRange;return k.indexedDB,{dbcore:(I=C1(w,O,I),v.dbcore.reduce(function(L,W){return W=W.create,r(r({},L),W(L))},I))}}function Ba(v,I){var k=I.db,I=E1(v._middlewares,k,v._deps,I);v.core=I.dbcore,v.tables.forEach(function(O){var L=O.name;v.core.schema.tables.some(function(W){return W.name===L})&&(O.core=v.core.table(L),v[L]instanceof v.Table&&(v[L].core=O.core))})}function zo(v,w,k,I){k.forEach(function(O){var L=I[O];w.forEach(function(W){var ee=function se(le,he){return C(le,he)||(le=c(le))&&se(le,he)}(W,O);(!ee||"value"in ee&&ee.value===void 0)&&(W===v.Transaction.prototype||W instanceof v.Transaction?b(W,O,{get:function(){return this.table(O)},set:function(se){y(this,O,{value:se,writable:!0,configurable:!0,enumerable:!0})}}):W[O]=new v.Table(O,L))})})}function Xl(v,w){w.forEach(function(k){for(var I in k)k[I]instanceof v.Table&&delete k[I]})}function Jp(v,w){return v._cfg.version-w._cfg.version}function vo(v,w,k,I){var O=v._dbSchema;k.objectStoreNames.contains("$meta")&&!O.$meta&&(O.$meta=_c("$meta",Uo("")[0],[]),v._storeNames.push("$meta"));var L=v._createTransaction("readwrite",v._storeNames,O);L.create(k),L._completion.catch(I);var W=L._reject.bind(L),ee=Qe.transless||Qe;Xe(function(){return Qe.trans=L,Qe.transless=ee,w!==0?(Ba(v,k),le=w,((se=L).storeNames.includes("$meta")?se.table("$meta").get("version").then(function(he){return he??le}):Ve.resolve(le)).then(function(he){return pe=he,oe=L,fe=k,me=[],he=(te=v)._versions,ce=te._dbSchema=Zl(0,te.idbdb,fe),(he=he.filter(function(ve){return ve._cfg.version>=pe})).length!==0?(he.forEach(function(ve){me.push(function(){var _e=ce,Se=ve._cfg.dbschema;Mr(te,_e,fe),Mr(te,Se,fe),ce=te._dbSchema=Se;var Ee=za(_e,Se);Ee.add.forEach(function(qe){Sc(fe,qe[0],qe[1].primKey,qe[1].indexes)}),Ee.change.forEach(function(qe){if(qe.recreate)throw new Ie.Upgrade("Not yet support for changing primary key");var $e=fe.objectStore(qe.name);qe.add.forEach(function(Ye){return $o($e,Ye)}),qe.change.forEach(function(Ye){$e.deleteIndex(Ye.name),$o($e,Ye)}),qe.del.forEach(function(Ye){return $e.deleteIndex(Ye)})});var De=ve._cfg.contentUpgrade;if(De&&ve._cfg.version>pe){Ba(te,fe),oe._memoizedTables={};var He=B(Se);Ee.del.forEach(function(qe){He[qe]=_e[qe]}),Xl(te,[te.Transaction.prototype]),zo(te,[te.Transaction.prototype],o(He),He),oe.schema=He;var Le,ze=Z(De);return ze&&rt(),Ee=Ve.follow(function(){var qe;(Le=De(oe))&&ze&&(qe=Je.bind(null,null),Le.then(qe,qe))}),Le&&typeof Le.then=="function"?Ve.resolve(Le):Ee.then(function(){return Le})}}),me.push(function(_e){var Se,Ee,De=ve._cfg.dbschema;Se=De,Ee=_e,[].slice.call(Ee.db.objectStoreNames).forEach(function(He){return Se[He]==null&&Ee.db.deleteObjectStore(He)}),Xl(te,[te.Transaction.prototype]),zo(te,[te.Transaction.prototype],te._storeNames,te._dbSchema),oe.schema=te._dbSchema}),me.push(function(_e){te.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(te.idbdb.version/10)===ve._cfg.version?(te.idbdb.deleteObjectStore("$meta"),delete te._dbSchema.$meta,te._storeNames=te._storeNames.filter(function(Se){return Se!=="$meta"})):_e.objectStore("$meta").put(ve._cfg.version,"version"))})}),function ve(){return me.length?Ve.resolve(me.shift()(oe.idbtrans)).then(ve):Ve.resolve()}().then(function(){Jl(ce,fe)})):Ve.resolve();var te,pe,oe,fe,me,ce}).catch(W)):(o(O).forEach(function(he){Sc(k,he,O[he].primKey,O[he].indexes)}),Ba(v,k),void Ve.follow(function(){return v.on.populate.fire(L)}).catch(W));var se,le})}function kf(v,w){Jl(v._dbSchema,w),w.db.version%10!=0||w.objectStoreNames.contains("$meta")||w.db.createObjectStore("$meta").add(Math.ceil(w.db.version/10-1),"version");var k=Zl(0,v.idbdb,w);Mr(v,v._dbSchema,w);for(var I=0,O=za(k,v._dbSchema).change;I<O.length;I++){var L=function(W){if(W.change.length||W.recreate)return console.warn("Unable to patch indexes of table ".concat(W.name," because it has changes on the type of index or primary key.")),{value:void 0};var ee=w.objectStore(W.name);W.add.forEach(function(se){ln&&console.debug("Dexie upgrade patch: Creating missing index ".concat(W.name,".").concat(se.src)),$o(ee,se)})}(O[I]);if(typeof L=="object")return L.value}}function za(v,w){var k,I={del:[],add:[],change:[]};for(k in v)w[k]||I.del.push(k);for(k in w){var O=v[k],L=w[k];if(O){var W={name:k,def:L,recreate:!1,del:[],add:[],change:[]};if(""+(O.primKey.keyPath||"")!=""+(L.primKey.keyPath||"")||O.primKey.auto!==L.primKey.auto)W.recreate=!0,I.change.push(W);else{var ee=O.idxByName,se=L.idxByName,le=void 0;for(le in ee)se[le]||W.del.push(le);for(le in se){var he=ee[le],te=se[le];he?he.src!==te.src&&W.change.push(te):W.add.push(te)}(0<W.del.length||0<W.add.length||0<W.change.length)&&I.change.push(W)}}else I.add.push([k,L])}return I}function Sc(v,w,k,I){var O=v.db.createObjectStore(w,k.keyPath?{keyPath:k.keyPath,autoIncrement:k.auto}:{autoIncrement:k.auto});return I.forEach(function(L){return $o(O,L)}),O}function Jl(v,w){o(v).forEach(function(k){w.db.objectStoreNames.contains(k)||(ln&&console.debug("Dexie: Creating missing table",k),Sc(w,k,v[k].primKey,v[k].indexes))})}function $o(v,w){v.createIndex(w.name,w.keyPath,{unique:w.unique,multiEntry:w.multi})}function Zl(v,w,k){var I={};return R(w.objectStoreNames,0).forEach(function(O){for(var L=k.objectStore(O),W=wc(Gl(le=L.keyPath),le||"",!0,!1,!!L.autoIncrement,le&&typeof le!="string",!0),ee=[],se=0;se<L.indexNames.length;++se){var he=L.index(L.indexNames[se]),le=he.keyPath,he=wc(he.name,le,!!he.unique,!!he.multiEntry,!1,le&&typeof le!="string",!1);ee.push(he)}I[O]=_c(O,W,ee)}),I}function Mr(v,w,k){for(var I=k.db.objectStoreNames,O=0;O<I.length;++O){var L=I[O],W=k.objectStore(L);v._hasGetAll="getAll"in W;for(var ee=0;ee<W.indexNames.length;++ee){var se=W.indexNames[ee],le=W.index(se).keyPath,he=typeof le=="string"?le:"["+R(le).join("+")+"]";!w[L]||(le=w[L].idxByName[he])&&(le.name=se,delete w[L].idxByName[he],w[L].idxByName[se]=le)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&s.WorkerGlobalScope&&s instanceof s.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(v._hasGetAll=!1)}function Uo(v){return v.split(",").map(function(w,k){var I=(w=w.trim()).replace(/([&*]|\+\+)/g,""),O=/^\[/.test(I)?I.match(/^\[(.*)\]$/)[1].split("+"):I;return wc(I,O||null,/\&/.test(w),/\*/.test(w),/\+\+/.test(w),a(O),k===0)})}var Tf=(xo.prototype._parseStoresSpec=function(v,w){o(v).forEach(function(k){if(v[k]!==null){var I=Uo(v[k]),O=I.shift();if(O.unique=!0,O.multi)throw new Ie.Schema("Primary key cannot be multi-valued");I.forEach(function(L){if(L.auto)throw new Ie.Schema("Only primary key can be marked as autoIncrement (++)");if(!L.keyPath)throw new Ie.Schema("Index must have a name and cannot be an empty string")}),w[k]=_c(k,O,I)}})},xo.prototype.stores=function(k){var w=this.db;this._cfg.storesSource=this._cfg.storesSource?l(this._cfg.storesSource,k):k;var k=w._versions,I={},O={};return k.forEach(function(L){l(I,L._cfg.storesSource),O=L._cfg.dbschema={},L._parseStoresSpec(I,O)}),w._dbSchema=O,Xl(w,[w._allTables,w,w.Transaction.prototype]),zo(w,[w._allTables,w,w.Transaction.prototype,this._cfg.tables],o(O),O),w._storeNames=o(O),this},xo.prototype.upgrade=function(v){return this._cfg.contentUpgrade=_t(this._cfg.contentUpgrade||ct,v),this},xo);function xo(){}function jf(v,w){var k=v._dbNamesDB;return k||(k=v._dbNamesDB=new xs(Pr,{addons:[],indexedDB:v,IDBKeyRange:w})).version(1).stores({dbnames:"name"}),k.table("dbnames")}function eu(v){return v&&typeof v.databases=="function"}function tu(v){return Xe(function(){return Qe.letThrough=!0,v()})}function Ho(v){return!("from"in v)}var lr=function(v,w){if(!this){var k=new lr;return v&&"d"in v&&l(k,v),k}l(this,arguments.length?{d:1,from:v,to:1<arguments.length?w:v}:{d:0})};function $a(v,w,k){var I=it(w,k);if(!isNaN(I)){if(0<I)throw RangeError();if(Ho(v))return l(v,{from:w,to:k,d:1});var O=v.l,I=v.r;if(it(k,v.from)<0)return O?$a(O,w,k):v.l={from:w,to:k,d:1,l:null,r:null},Ec(v);if(0<it(w,v.to))return I?$a(I,w,k):v.r={from:w,to:k,d:1,l:null,r:null},Ec(v);it(w,v.from)<0&&(v.from=w,v.l=null,v.d=I?I.d+1:1),0<it(k,v.to)&&(v.to=k,v.r=null,v.d=v.l?v.l.d+1:1),k=!v.r,O&&!v.l&&nu(v,O),I&&k&&nu(v,I)}}function nu(v,w){Ho(w)||function k(I,se){var L=se.from,W=se.to,ee=se.l,se=se.r;$a(I,L,W),ee&&k(I,ee),se&&k(I,se)}(v,w)}function Zp(v,w){var k=Cc(w),I=k.next();if(I.done)return!1;for(var O=I.value,L=Cc(v),W=L.next(O.from),ee=W.value;!I.done&&!W.done;){if(it(ee.from,O.to)<=0&&0<=it(ee.to,O.from))return!0;it(O.from,ee.from)<0?O=(I=k.next(ee.from)).value:ee=(W=L.next(O.from)).value}return!1}function Cc(v){var w=Ho(v)?null:{s:0,n:v};return{next:function(k){for(var I=0<arguments.length;w;)switch(w.s){case 0:if(w.s=1,I)for(;w.n.l&&it(k,w.n.from)<0;)w={up:w,n:w.n.l,s:1};else for(;w.n.l;)w={up:w,n:w.n.l,s:1};case 1:if(w.s=2,!I||it(k,w.n.to)<=0)return{value:w.n,done:!1};case 2:if(w.n.r){w.s=3,w={up:w,n:w.n.r,s:0};continue}case 3:w=w.up}return{done:!0}}}}function Ec(v){var w,k,I=(((w=v.r)===null||w===void 0?void 0:w.d)||0)-(((k=v.l)===null||k===void 0?void 0:k.d)||0),O=1<I?"r":I<-1?"l":"";O&&(w=O=="r"?"l":"r",k=r({},v),I=v[O],v.from=I.from,v.to=I.to,v[O]=I[O],k[O]=I[w],(v[w]=k).d=em(k)),v.d=em(v)}function em(k){var w=k.r,k=k.l;return(w?k?Math.max(w.d,k.d):w.d:k?k.d:0)+1}function kc(v,w){return o(w).forEach(function(k){v[k]?nu(v[k],w[k]):v[k]=function I(O){var L,W,ee={};for(L in O)p(O,L)&&(W=O[L],ee[L]=!W||typeof W!="object"||J.has(W.constructor)?W:I(W));return ee}(w[k])}),v}function If(v,w){return v.all||w.all||Object.keys(v).some(function(k){return w[k]&&Zp(w[k],v[k])})}g(lr.prototype,((Ti={add:function(v){return nu(this,v),this},addKey:function(v){return $a(this,v,v),this},addKeys:function(v){var w=this;return v.forEach(function(k){return $a(w,k,k)}),this},hasKey:function(v){var w=Cc(this).next(v).value;return w&&it(w.from,v)<=0&&0<=it(w.to,v)}})[K]=function(){return Cc(this)},Ti));var Wo={},Nf={},Tc=!1;function jc(v){kc(Nf,v),Tc||(Tc=!0,setTimeout(function(){Tc=!1,Rf(Nf,!(Nf={}))},0))}function Rf(v,w){w===void 0&&(w=!1);var k=new Set;if(v.all)for(var I=0,O=Object.values(Wo);I<O.length;I++)tm(W=O[I],v,k,w);else for(var L in v){var W,ee=/^idb\:\/\/(.*)\/(.*)\//.exec(L);ee&&(L=ee[1],ee=ee[2],(W=Wo["idb://".concat(L,"/").concat(ee)])&&tm(W,v,k,w))}k.forEach(function(se){return se()})}function tm(v,w,k,I){for(var O=[],L=0,W=Object.entries(v.queries.query);L<W.length;L++){for(var ee=W[L],se=ee[0],le=[],he=0,te=ee[1];he<te.length;he++){var pe=te[he];If(w,pe.obsSet)?pe.subscribers.forEach(function(ce){return k.add(ce)}):I&&le.push(pe)}I&&O.push([se,le])}if(I)for(var oe=0,fe=O;oe<fe.length;oe++){var me=fe[oe],se=me[0],le=me[1];v.queries.query[se]=le}}function k1(v){var w=v._state,k=v._deps.indexedDB;if(w.isBeingOpened||v.idbdb)return w.dbReadyPromise.then(function(){return w.dbOpenError?ht(w.dbOpenError):v});w.isBeingOpened=!0,w.dbOpenError=null,w.openComplete=!1;var I=w.openCanceller,O=Math.round(10*v.verno),L=!1;function W(){if(w.openCanceller!==I)throw new Ie.DatabaseClosed("db.open() was cancelled")}function ee(){return new Ve(function(pe,oe){if(W(),!k)throw new Ie.MissingAPI;var fe=v.name,me=w.autoSchema||!O?k.open(fe):k.open(fe,O);if(!me)throw new Ie.MissingAPI;me.onerror=Xr(oe),me.onblocked=Q(v._fireOnBlocked),me.onupgradeneeded=Q(function(ce){var ve;he=me.transaction,w.autoSchema&&!v._options.allowEmptyDB?(me.onerror=Hs,he.abort(),me.result.close(),(ve=k.deleteDatabase(fe)).onsuccess=ve.onerror=Q(function(){oe(new Ie.NoSuchDatabase("Database ".concat(fe," doesnt exist")))})):(he.onerror=Xr(oe),ce=ce.oldVersion>Math.pow(2,62)?0:ce.oldVersion,te=ce<1,v.idbdb=me.result,L&&kf(v,he),vo(v,ce/10,he,oe))},oe),me.onsuccess=Q(function(){he=null;var ce,ve,_e,Se,Ee,De=v.idbdb=me.result,He=R(De.objectStoreNames);if(0<He.length)try{var Le=De.transaction((Se=He).length===1?Se[0]:Se,"readonly");if(w.autoSchema)ve=De,_e=Le,(ce=v).verno=ve.version/10,_e=ce._dbSchema=Zl(0,ve,_e),ce._storeNames=R(ve.objectStoreNames,0),zo(ce,[ce._allTables],o(_e),_e);else if(Mr(v,v._dbSchema,Le),((Ee=za(Zl(0,(Ee=v).idbdb,Le),Ee._dbSchema)).add.length||Ee.change.some(function(ze){return ze.add.length||ze.change.length}))&&!L)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),De.close(),O=De.version+1,L=!0,pe(ee());Ba(v,Le)}catch{}_r.push(v),De.onversionchange=Q(function(ze){w.vcFired=!0,v.on("versionchange").fire(ze)}),De.onclose=Q(function(ze){v.on("close").fire(ze)}),te&&(Ee=v._deps,Le=fe,De=Ee.indexedDB,Ee=Ee.IDBKeyRange,eu(De)||Le===Pr||jf(De,Ee).put({name:Le}).catch(ct)),pe()},oe)}).catch(function(pe){switch(pe?.name){case"UnknownError":if(0<w.PR1398_maxLoop)return w.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),ee();break;case"VersionError":if(0<O)return O=0,ee()}return Ve.reject(pe)})}var se,le=w.dbReadyResolve,he=null,te=!1;return Ve.race([I,(typeof navigator>"u"?Ve.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(pe){function oe(){return indexedDB.databases().finally(pe)}se=setInterval(oe,100),oe()}).finally(function(){return clearInterval(se)}):Promise.resolve()).then(ee)]).then(function(){return W(),w.onReadyBeingFired=[],Ve.resolve(tu(function(){return v.on.ready.fire(v.vip)})).then(function pe(){if(0<w.onReadyBeingFired.length){var oe=w.onReadyBeingFired.reduce(_t,ct);return w.onReadyBeingFired=[],Ve.resolve(tu(function(){return oe(v.vip)})).then(pe)}})}).finally(function(){w.openCanceller===I&&(w.onReadyBeingFired=null,w.isBeingOpened=!1)}).catch(function(pe){w.dbOpenError=pe;try{he&&he.abort()}catch{}return I===w.openCanceller&&v._close(),ht(pe)}).finally(function(){w.openComplete=!0,le()}).then(function(){var pe;return te&&(pe={},v.tables.forEach(function(oe){oe.schema.indexes.forEach(function(fe){fe.name&&(pe["idb://".concat(v.name,"/").concat(oe.name,"/").concat(fe.name)]=new lr(-1/0,[[[]]]))}),pe["idb://".concat(v.name,"/").concat(oe.name,"/")]=pe["idb://".concat(v.name,"/").concat(oe.name,"/:dels")]=new lr(-1/0,[[[]]])}),Ws(ki).fire(pe),Rf(pe,!0)),v})}function ru(v){function w(L){return v.next(L)}var k=O(w),I=O(function(L){return v.throw(L)});function O(L){return function(se){var ee=L(se),se=ee.value;return ee.done?se:se&&typeof se.then=="function"?se.then(k,I):a(se)?Promise.all(se).then(k,I):k(se)}}return O(w)()}function Ic(v,w,k){for(var I=a(v)?v.slice():[v],O=0;O<k;++O)I.push(w);return I}var T1={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(v){return r(r({},v),{table:function(w){var k=v.table(w),I=k.schema,O={},L=[];function W(te,pe,oe){var fe=yo(te),me=O[fe]=O[fe]||[],ce=te==null?0:typeof te=="string"?1:te.length,ve=0<pe,ve=r(r({},oe),{name:ve?"".concat(fe,"(virtual-from:").concat(oe.name,")"):oe.name,lowLevelIndex:oe,isVirtual:ve,keyTail:pe,keyLength:ce,extractKey:Bo(te),unique:!ve&&oe.unique});return me.push(ve),ve.isPrimaryKey||L.push(ve),1<ce&&W(ce===2?te[0]:te.slice(0,ce-1),pe+1,oe),me.sort(function(_e,Se){return _e.keyTail-Se.keyTail}),ve}w=W(I.primaryKey.keyPath,0,I.primaryKey),O[":id"]=[w];for(var ee=0,se=I.indexes;ee<se.length;ee++){var le=se[ee];W(le.keyPath,0,le)}function he(te){var pe,oe=te.query.index;return oe.isVirtual?r(r({},te),{query:{index:oe.lowLevelIndex,range:(pe=te.query.range,oe=oe.keyTail,{type:pe.type===1?2:pe.type,lower:Ic(pe.lower,pe.lowerOpen?v.MAX_KEY:v.MIN_KEY,oe),lowerOpen:!0,upper:Ic(pe.upper,pe.upperOpen?v.MIN_KEY:v.MAX_KEY,oe),upperOpen:!0})}}):te}return r(r({},k),{schema:r(r({},I),{primaryKey:w,indexes:L,getIndexByKeyPath:function(te){return(te=O[yo(te)])&&te[0]}}),count:function(te){return k.count(he(te))},query:function(te){return k.query(he(te))},openCursor:function(te){var pe=te.query.index,oe=pe.keyTail,fe=pe.isVirtual,me=pe.keyLength;return fe?k.openCursor(he(te)).then(function(ve){return ve&&ce(ve)}):k.openCursor(te);function ce(ve){return Object.create(ve,{continue:{value:function(_e){_e!=null?ve.continue(Ic(_e,te.reverse?v.MAX_KEY:v.MIN_KEY,oe)):te.unique?ve.continue(ve.key.slice(0,me).concat(te.reverse?v.MIN_KEY:v.MAX_KEY,oe)):ve.continue()}},continuePrimaryKey:{value:function(_e,Se){ve.continuePrimaryKey(Ic(_e,v.MAX_KEY,oe),Se)}},primaryKey:{get:function(){return ve.primaryKey}},key:{get:function(){var _e=ve.key;return me===1?_e[0]:_e.slice(0,me)}},value:{get:function(){return ve.value}}})}}})}})}};function Pf(v,w,k,I){return k=k||{},I=I||"",o(v).forEach(function(O){var L,W,ee;p(w,O)?(L=v[O],W=w[O],typeof L=="object"&&typeof W=="object"&&L&&W?(ee=V(L))!==V(W)?k[I+O]=w[O]:ee==="Object"?Pf(L,W,k,I+O+"."):L!==W&&(k[I+O]=w[O]):L!==W&&(k[I+O]=w[O])):k[I+O]=void 0}),o(w).forEach(function(O){p(v,O)||(k[I+O]=w[O])}),k}function Nc(v,w){return w.type==="delete"?w.keys:w.keys||w.values.map(v.extractKey)}var j1={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(v){return r(r({},v),{table:function(w){var k=v.table(w),I=k.schema.primaryKey;return r(r({},k),{mutate:function(O){var L=Qe.trans,W=L.table(w).hook,ee=W.deleting,se=W.creating,le=W.updating;switch(O.type){case"add":if(se.fire===ct)break;return L._promise("readwrite",function(){return he(O)},!0);case"put":if(se.fire===ct&&le.fire===ct)break;return L._promise("readwrite",function(){return he(O)},!0);case"delete":if(ee.fire===ct)break;return L._promise("readwrite",function(){return he(O)},!0);case"deleteRange":if(ee.fire===ct)break;return L._promise("readwrite",function(){return function te(pe,oe,fe){return k.query({trans:pe,values:!1,query:{index:I,range:oe},limit:fe}).then(function(me){var ce=me.result;return he({type:"delete",keys:ce,trans:pe}).then(function(ve){return 0<ve.numFailures?Promise.reject(ve.failures[0]):ce.length<fe?{failures:[],numFailures:0,lastResult:void 0}:te(pe,r(r({},oe),{lower:ce[ce.length-1],lowerOpen:!0}),fe)})})}(O.trans,O.range,1e4)},!0)}return k.mutate(O);function he(te){var pe,oe,fe,me=Qe.trans,ce=te.keys||Nc(I,te);if(!ce)throw new Error("Keys missing");return(te=te.type==="add"||te.type==="put"?r(r({},te),{keys:ce}):r({},te)).type!=="delete"&&(te.values=i([],te.values)),te.keys&&(te.keys=i([],te.keys)),pe=k,fe=ce,((oe=te).type==="add"?Promise.resolve([]):pe.getMany({trans:oe.trans,keys:fe,cache:"immutable"})).then(function(ve){var _e=ce.map(function(Se,Ee){var De,He,Le,ze=ve[Ee],qe={onerror:null,onsuccess:null};return te.type==="delete"?ee.fire.call(qe,Se,ze,me):te.type==="add"||ze===void 0?(De=se.fire.call(qe,Se,te.values[Ee],me),Se==null&&De!=null&&(te.keys[Ee]=Se=De,I.outbound||N(te.values[Ee],I.keyPath,Se))):(De=Pf(ze,te.values[Ee]),(He=le.fire.call(qe,De,Se,ze,me))&&(Le=te.values[Ee],Object.keys(He).forEach(function($e){p(Le,$e)?Le[$e]=He[$e]:N(Le,$e,He[$e])}))),qe});return k.mutate(te).then(function(Se){for(var Ee=Se.failures,De=Se.results,He=Se.numFailures,Se=Se.lastResult,Le=0;Le<ce.length;++Le){var ze=(De||ce)[Le],qe=_e[Le];ze==null?qe.onerror&&qe.onerror(Ee[Le]):qe.onsuccess&&qe.onsuccess(te.type==="put"&&ve[Le]?te.values[Le]:ze)}return{failures:Ee,results:De,numFailures:He,lastResult:Se}}).catch(function(Se){return _e.forEach(function(Ee){return Ee.onerror&&Ee.onerror(Se)}),Promise.reject(Se)})})}}})}})}};function nm(v,w,k){try{if(!w||w.keys.length<v.length)return null;for(var I=[],O=0,L=0;O<w.keys.length&&L<v.length;++O)it(w.keys[O],v[L])===0&&(I.push(k?ie(w.values[O]):w.values[O]),++L);return I.length===v.length?I:null}catch{return null}}var I1={stack:"dbcore",level:-1,create:function(v){return{table:function(w){var k=v.table(w);return r(r({},k),{getMany:function(I){if(!I.cache)return k.getMany(I);var O=nm(I.keys,I.trans._cache,I.cache==="clone");return O?Ve.resolve(O):k.getMany(I).then(function(L){return I.trans._cache={keys:I.keys,values:I.cache==="clone"?ie(L):L},L})},mutate:function(I){return I.type!=="add"&&(I.trans._cache=null),k.mutate(I)}})}}}};function rm(v,w){return v.trans.mode==="readonly"&&!!v.subscr&&!v.trans.explicit&&v.trans.db._options.cache!=="disabled"&&!w.schema.primaryKey.outbound}function im(v,w){switch(v){case"query":return w.values&&!w.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var N1={stack:"dbcore",level:0,name:"Observability",create:function(v){var w=v.schema.name,k=new lr(v.MIN_KEY,v.MAX_KEY);return r(r({},v),{transaction:function(I,O,L){if(Qe.subscr&&O!=="readonly")throw new Ie.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(Qe.querier));return v.transaction(I,O,L)},table:function(I){var O=v.table(I),L=O.schema,W=L.primaryKey,te=L.indexes,ee=W.extractKey,se=W.outbound,le=W.autoIncrement&&te.filter(function(oe){return oe.compound&&oe.keyPath.includes(W.keyPath)}),he=r(r({},O),{mutate:function(oe){function fe($e){return $e="idb://".concat(w,"/").concat(I,"/").concat($e),Se[$e]||(Se[$e]=new lr)}var me,ce,ve,_e=oe.trans,Se=oe.mutatedParts||(oe.mutatedParts={}),Ee=fe(""),De=fe(":dels"),He=oe.type,qe=oe.type==="deleteRange"?[oe.range]:oe.type==="delete"?[oe.keys]:oe.values.length<50?[Nc(W,oe).filter(function($e){return $e}),oe.values]:[],Le=qe[0],ze=qe[1],qe=oe.trans._cache;return a(Le)?(Ee.addKeys(Le),(qe=He==="delete"||Le.length===ze.length?nm(Le,qe):null)||De.addKeys(Le),(qe||ze)&&(me=fe,ce=qe,ve=ze,L.indexes.forEach(function($e){var Ye=me($e.name||"");function Et(Ft){return Ft!=null?$e.extractKey(Ft):null}function Nt(Ft){return $e.multiEntry&&a(Ft)?Ft.forEach(function(Jr){return Ye.addKey(Jr)}):Ye.addKey(Ft)}(ce||ve).forEach(function(Ft,Sr){var St=ce&&Et(ce[Sr]),Sr=ve&&Et(ve[Sr]);it(St,Sr)!==0&&(St!=null&&Nt(St),Sr!=null&&Nt(Sr))})}))):Le?(ze={from:(ze=Le.lower)!==null&&ze!==void 0?ze:v.MIN_KEY,to:(ze=Le.upper)!==null&&ze!==void 0?ze:v.MAX_KEY},De.add(ze),Ee.add(ze)):(Ee.add(k),De.add(k),L.indexes.forEach(function($e){return fe($e.name).add(k)})),O.mutate(oe).then(function($e){return!Le||oe.type!=="add"&&oe.type!=="put"||(Ee.addKeys($e.results),le&&le.forEach(function(Ye){for(var Et=oe.values.map(function(St){return Ye.extractKey(St)}),Nt=Ye.keyPath.findIndex(function(St){return St===W.keyPath}),Ft=0,Jr=$e.results.length;Ft<Jr;++Ft)Et[Ft][Nt]=$e.results[Ft];fe(Ye.name).addKeys(Et)})),_e.mutatedParts=kc(_e.mutatedParts||{},Se),$e})}}),te=function(fe){var me=fe.query,fe=me.index,me=me.range;return[fe,new lr((fe=me.lower)!==null&&fe!==void 0?fe:v.MIN_KEY,(me=me.upper)!==null&&me!==void 0?me:v.MAX_KEY)]},pe={get:function(oe){return[W,new lr(oe.key)]},getMany:function(oe){return[W,new lr().addKeys(oe.keys)]},count:te,query:te,openCursor:te};return o(pe).forEach(function(oe){he[oe]=function(fe){var me=Qe.subscr,ce=!!me,ve=rm(Qe,O)&&im(oe,fe)?fe.obsSet={}:me;if(ce){var _e=function(ze){return ze="idb://".concat(w,"/").concat(I,"/").concat(ze),ve[ze]||(ve[ze]=new lr)},Se=_e(""),Ee=_e(":dels"),me=pe[oe](fe),ce=me[0],me=me[1];if((oe==="query"&&ce.isPrimaryKey&&!fe.values?Ee:_e(ce.name||"")).add(me),!ce.isPrimaryKey){if(oe!=="count"){var De=oe==="query"&&se&&fe.values&&O.query(r(r({},fe),{values:!1}));return O[oe].apply(this,arguments).then(function(ze){if(oe==="query"){if(se&&fe.values)return De.then(function(Et){return Et=Et.result,Se.addKeys(Et),ze});var qe=fe.values?ze.result.map(ee):ze.result;(fe.values?Se:Ee).addKeys(qe)}else if(oe==="openCursor"){var $e=ze,Ye=fe.values;return $e&&Object.create($e,{key:{get:function(){return Ee.addKey($e.primaryKey),$e.key}},primaryKey:{get:function(){var Et=$e.primaryKey;return Ee.addKey(Et),Et}},value:{get:function(){return Ye&&Se.addKey($e.primaryKey),$e.value}}})}return ze})}Ee.add(k)}}return O[oe].apply(this,arguments)}}),he}})}};function sm(v,w,k){if(k.numFailures===0)return w;if(w.type==="deleteRange")return null;var I=w.keys?w.keys.length:"values"in w&&w.values?w.values.length:1;return k.numFailures===I?null:(w=r({},w),a(w.keys)&&(w.keys=w.keys.filter(function(O,L){return!(L in k.failures)})),"values"in w&&a(w.values)&&(w.values=w.values.filter(function(O,L){return!(L in k.failures)})),w)}function iu(v,w){return k=v,((I=w).lower===void 0||(I.lowerOpen?0<it(k,I.lower):0<=it(k,I.lower)))&&(v=v,(w=w).upper===void 0||(w.upperOpen?it(v,w.upper)<0:it(v,w.upper)<=0));var k,I}function Ua(v,w,pe,I,O,L){if(!pe||pe.length===0)return v;var W=w.query.index,ee=W.multiEntry,se=w.query.range,le=I.schema.primaryKey.extractKey,he=W.extractKey,te=(W.lowLevelIndex||W).extractKey,pe=pe.reduce(function(oe,fe){var me=oe,ce=[];if(fe.type==="add"||fe.type==="put")for(var ve=new lr,_e=fe.values.length-1;0<=_e;--_e){var Se,Ee=fe.values[_e],De=le(Ee);ve.hasKey(De)||(Se=he(Ee),(ee&&a(Se)?Se.some(function($e){return iu($e,se)}):iu(Se,se))&&(ve.addKey(De),ce.push(Ee)))}switch(fe.type){case"add":var He=new lr().addKeys(w.values?oe.map(function(Ye){return le(Ye)}):oe),me=oe.concat(w.values?ce.filter(function(Ye){return Ye=le(Ye),!He.hasKey(Ye)&&(He.addKey(Ye),!0)}):ce.map(function(Ye){return le(Ye)}).filter(function(Ye){return!He.hasKey(Ye)&&(He.addKey(Ye),!0)}));break;case"put":var Le=new lr().addKeys(fe.values.map(function(Ye){return le(Ye)}));me=oe.filter(function(Ye){return!Le.hasKey(w.values?le(Ye):Ye)}).concat(w.values?ce:ce.map(function(Ye){return le(Ye)}));break;case"delete":var ze=new lr().addKeys(fe.keys);me=oe.filter(function(Ye){return!ze.hasKey(w.values?le(Ye):Ye)});break;case"deleteRange":var qe=fe.range;me=oe.filter(function(Ye){return!iu(le(Ye),qe)})}return me},v);return pe===v?v:(pe.sort(function(oe,fe){return it(te(oe),te(fe))||it(le(oe),le(fe))}),w.limit&&w.limit<1/0&&(pe.length>w.limit?pe.length=w.limit:v.length===w.limit&&pe.length<w.limit&&(O.dirty=!0)),L?Object.freeze(pe):pe)}function om(v,w){return it(v.lower,w.lower)===0&&it(v.upper,w.upper)===0&&!!v.lowerOpen==!!w.lowerOpen&&!!v.upperOpen==!!w.upperOpen}function am(v,w){return function(k,I,O,L){if(k===void 0)return I!==void 0?-1:0;if(I===void 0)return 1;if((I=it(k,I))===0){if(O&&L)return 0;if(O)return 1;if(L)return-1}return I}(v.lower,w.lower,v.lowerOpen,w.lowerOpen)<=0&&0<=function(k,I,O,L){if(k===void 0)return I!==void 0?1:0;if(I===void 0)return-1;if((I=it(k,I))===0){if(O&&L)return 0;if(O)return-1;if(L)return 1}return I}(v.upper,w.upper,v.upperOpen,w.upperOpen)}function lm(v,w,k,I){v.subscribers.add(k),I.addEventListener("abort",function(){var O,L;v.subscribers.delete(k),v.subscribers.size===0&&(O=v,L=w,setTimeout(function(){O.subscribers.size===0&&Y(L,O)},3e3))})}var um={stack:"dbcore",level:0,name:"Cache",create:function(v){var w=v.schema.name;return r(r({},v),{transaction:function(k,I,O){var L,W,ee=v.transaction(k,I,O);return I==="readwrite"&&(W=(L=new AbortController).signal,O=function(se){return function(){if(L.abort(),I==="readwrite"){for(var le=new Set,he=0,te=k;he<te.length;he++){var pe=te[he],oe=Wo["idb://".concat(w,"/").concat(pe)];if(oe){var fe=v.table(pe),me=oe.optimisticOps.filter(function(Ye){return Ye.trans===ee});if(ee._explicit&&se&&ee.mutatedParts)for(var ce=0,ve=Object.values(oe.queries.query);ce<ve.length;ce++)for(var _e=0,Se=(He=ve[ce]).slice();_e<Se.length;_e++)If((Le=Se[_e]).obsSet,ee.mutatedParts)&&(Y(He,Le),Le.subscribers.forEach(function(Ye){return le.add(Ye)}));else if(0<me.length){oe.optimisticOps=oe.optimisticOps.filter(function(Ye){return Ye.trans!==ee});for(var Ee=0,De=Object.values(oe.queries.query);Ee<De.length;Ee++)for(var He,Le,ze,qe=0,$e=(He=De[Ee]).slice();qe<$e.length;qe++)(Le=$e[qe]).res!=null&&ee.mutatedParts&&(se&&!Le.dirty?(ze=Object.isFrozen(Le.res),ze=Ua(Le.res,Le.req,me,fe,Le,ze),Le.dirty?(Y(He,Le),Le.subscribers.forEach(function(Ye){return le.add(Ye)})):ze!==Le.res&&(Le.res=ze,Le.promise=Ve.resolve({result:ze}))):(Le.dirty&&Y(He,Le),Le.subscribers.forEach(function(Ye){return le.add(Ye)})))}}}le.forEach(function(Ye){return Ye()})}}},ee.addEventListener("abort",O(!1),{signal:W}),ee.addEventListener("error",O(!1),{signal:W}),ee.addEventListener("complete",O(!0),{signal:W})),ee},table:function(k){var I=v.table(k),O=I.schema.primaryKey;return r(r({},I),{mutate:function(L){var W=Qe.trans;if(O.outbound||W.db._options.cache==="disabled"||W.explicit||W.idbtrans.mode!=="readwrite")return I.mutate(L);var ee=Wo["idb://".concat(w,"/").concat(k)];return ee?(W=I.mutate(L),L.type!=="add"&&L.type!=="put"||!(50<=L.values.length||Nc(O,L).some(function(se){return se==null}))?(ee.optimisticOps.push(L),L.mutatedParts&&jc(L.mutatedParts),W.then(function(se){0<se.numFailures&&(Y(ee.optimisticOps,L),(se=sm(0,L,se))&&ee.optimisticOps.push(se),L.mutatedParts&&jc(L.mutatedParts))}),W.catch(function(){Y(ee.optimisticOps,L),L.mutatedParts&&jc(L.mutatedParts)})):W.then(function(se){var le=sm(0,r(r({},L),{values:L.values.map(function(he,te){var pe;return se.failures[te]?he:(he=(pe=O.keyPath)!==null&&pe!==void 0&&pe.includes(".")?ie(he):r({},he),N(he,O.keyPath,se.results[te]),he)})}),se);ee.optimisticOps.push(le),queueMicrotask(function(){return L.mutatedParts&&jc(L.mutatedParts)})}),W):I.mutate(L)},query:function(L){if(!rm(Qe,I)||!im("query",L))return I.query(L);var W=((le=Qe.trans)===null||le===void 0?void 0:le.db._options.cache)==="immutable",te=Qe,ee=te.requery,se=te.signal,le=function(fe,me,ce,ve){var _e=Wo["idb://".concat(fe,"/").concat(me)];if(!_e)return[];if(!(me=_e.queries[ce]))return[null,!1,_e,null];var Se=me[(ve.query?ve.query.index.name:null)||""];if(!Se)return[null,!1,_e,null];switch(ce){case"query":var Ee=Se.find(function(De){return De.req.limit===ve.limit&&De.req.values===ve.values&&om(De.req.query.range,ve.query.range)});return Ee?[Ee,!0,_e,Se]:[Se.find(function(De){return("limit"in De.req?De.req.limit:1/0)>=ve.limit&&(!ve.values||De.req.values)&&am(De.req.query.range,ve.query.range)}),!1,_e,Se];case"count":return Ee=Se.find(function(De){return om(De.req.query.range,ve.query.range)}),[Ee,!!Ee,_e,Se]}}(w,k,"query",L),he=le[0],te=le[1],pe=le[2],oe=le[3];return he&&te?he.obsSet=L.obsSet:(te=I.query(L).then(function(fe){var me=fe.result;if(he&&(he.res=me),W){for(var ce=0,ve=me.length;ce<ve;++ce)Object.freeze(me[ce]);Object.freeze(me)}else fe.result=ie(me);return fe}).catch(function(fe){return oe&&he&&Y(oe,he),Promise.reject(fe)}),he={obsSet:L.obsSet,promise:te,subscribers:new Set,type:"query",req:L,dirty:!1},oe?oe.push(he):(oe=[he],(pe=pe||(Wo["idb://".concat(w,"/").concat(k)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[L.query.index.name||""]=oe)),lm(he,oe,ee,se),he.promise.then(function(fe){return{result:Ua(fe.result,L,pe?.optimisticOps,I,he,W)}})}})}})}};function su(v,w){return new Proxy(v,{get:function(k,I,O){return I==="db"?w:Reflect.get(k,I,O)}})}var xs=(_n.prototype.version=function(v){if(isNaN(v)||v<.1)throw new Ie.Type("Given version is not a positive number");if(v=Math.round(10*v)/10,this.idbdb||this._state.isBeingOpened)throw new Ie.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,v);var w=this._versions,k=w.filter(function(I){return I._cfg.version===v})[0];return k||(k=new this.Version(v),w.push(k),w.sort(Jp),k.stores({}),this._state.autoSchema=!1,k)},_n.prototype._whenReady=function(v){var w=this;return this.idbdb&&(this._state.openComplete||Qe.letThrough||this._vip)?v():new Ve(function(k,I){if(w._state.openComplete)return I(new Ie.DatabaseClosed(w._state.dbOpenError));if(!w._state.isBeingOpened){if(!w._state.autoOpen)return void I(new Ie.DatabaseClosed);w.open().catch(ct)}w._state.dbReadyPromise.then(k,I)}).then(v)},_n.prototype.use=function(v){var w=v.stack,k=v.create,I=v.level,O=v.name;return O&&this.unuse({stack:w,name:O}),v=this._middlewares[w]||(this._middlewares[w]=[]),v.push({stack:w,create:k,level:I??10,name:O}),v.sort(function(L,W){return L.level-W.level}),this},_n.prototype.unuse=function(v){var w=v.stack,k=v.name,I=v.create;return w&&this._middlewares[w]&&(this._middlewares[w]=this._middlewares[w].filter(function(O){return I?O.create!==I:!!k&&O.name!==k})),this},_n.prototype.open=function(){var v=this;return wn(br,function(){return k1(v)})},_n.prototype._close=function(){var v=this._state,w=_r.indexOf(this);if(0<=w&&_r.splice(w,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}v.isBeingOpened||(v.dbReadyPromise=new Ve(function(k){v.dbReadyResolve=k}),v.openCanceller=new Ve(function(k,I){v.cancelOpen=I}))},_n.prototype.close=function(k){var w=(k===void 0?{disableAutoOpen:!0}:k).disableAutoOpen,k=this._state;w?(k.isBeingOpened&&k.cancelOpen(new Ie.DatabaseClosed),this._close(),k.autoOpen=!1,k.dbOpenError=new Ie.DatabaseClosed):(this._close(),k.autoOpen=this._options.autoOpen||k.isBeingOpened,k.openComplete=!1,k.dbOpenError=null)},_n.prototype.delete=function(v){var w=this;v===void 0&&(v={disableAutoOpen:!0});var k=0<arguments.length&&typeof arguments[0]!="object",I=this._state;return new Ve(function(O,L){function W(){w.close(v);var ee=w._deps.indexedDB.deleteDatabase(w.name);ee.onsuccess=Q(function(){var se,le,he;se=w._deps,le=w.name,he=se.indexedDB,se=se.IDBKeyRange,eu(he)||le===Pr||jf(he,se).delete(le).catch(ct),O()}),ee.onerror=Xr(L),ee.onblocked=w._fireOnBlocked}if(k)throw new Ie.InvalidArgument("Invalid closeOptions argument to db.delete()");I.isBeingOpened?I.dbReadyPromise.then(W):W()})},_n.prototype.backendDB=function(){return this.idbdb},_n.prototype.isOpen=function(){return this.idbdb!==null},_n.prototype.hasBeenClosed=function(){var v=this._state.dbOpenError;return v&&v.name==="DatabaseClosed"},_n.prototype.hasFailed=function(){return this._state.dbOpenError!==null},_n.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(_n.prototype,"tables",{get:function(){var v=this;return o(this._allTables).map(function(w){return v._allTables[w]})},enumerable:!1,configurable:!0}),_n.prototype.transaction=function(){var v=(function(w,k,I){var O=arguments.length;if(O<2)throw new Ie.InvalidArgument("Too few arguments");for(var L=new Array(O-1);--O;)L[O-1]=arguments[O];return I=L.pop(),[w,D(L),I]}).apply(this,arguments);return this._transaction.apply(this,v)},_n.prototype._transaction=function(v,w,k){var I=this,O=Qe.trans;O&&O.db===this&&v.indexOf("!")===-1||(O=null);var L,W,ee=v.indexOf("?")!==-1;v=v.replace("!","").replace("?","");try{if(W=w.map(function(le){if(le=le instanceof I.Table?le.name:le,typeof le!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return le}),v=="r"||v===ms)L=ms;else{if(v!="rw"&&v!=Fs)throw new Ie.InvalidArgument("Invalid transaction mode: "+v);L=Fs}if(O){if(O.mode===ms&&L===Fs){if(!ee)throw new Ie.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");O=null}O&&W.forEach(function(le){if(O&&O.storeNames.indexOf(le)===-1){if(!ee)throw new Ie.SubTransaction("Table "+le+" not included in parent transaction.");O=null}}),ee&&O&&!O.active&&(O=null)}}catch(le){return O?O._promise(null,function(he,te){te(le)}):ht(le)}var se=(function le(he,te,pe,oe,fe){return Ve.resolve().then(function(){var me=Qe.transless||Qe,ce=he._createTransaction(te,pe,he._dbSchema,oe);if(ce.explicit=!0,me={trans:ce,transless:me},oe)ce.idbtrans=oe.idbtrans;else try{ce.create(),ce.idbtrans._explicit=!0,he._state.PR1398_maxLoop=3}catch(Se){return Se.name===Ke.InvalidState&&he.isOpen()&&0<--he._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),he.close({disableAutoOpen:!1}),he.open().then(function(){return le(he,te,pe,null,fe)})):ht(Se)}var ve,_e=Z(fe);return _e&&rt(),me=Ve.follow(function(){var Se;(ve=fe.call(ce,ce))&&(_e?(Se=Je.bind(null,null),ve.then(Se,Se)):typeof ve.next=="function"&&typeof ve.throw=="function"&&(ve=ru(ve)))},me),(ve&&typeof ve.then=="function"?Ve.resolve(ve).then(function(Se){return ce.active?Se:ht(new Ie.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):me.then(function(){return ve})).then(function(Se){return oe&&ce._resolve(),ce._completion.then(function(){return Se})}).catch(function(Se){return ce._reject(Se),ht(Se)})})}).bind(null,this,L,W,O,k);return O?O._promise(L,se,"lock"):Qe.trans?wn(Qe.transless,function(){return I._whenReady(se)}):this._whenReady(se)},_n.prototype.table=function(v){if(!p(this._allTables,v))throw new Ie.InvalidTable("Table ".concat(v," does not exist"));return this._allTables[v]},_n);function _n(v,w){var k=this;this._middlewares={},this.verno=0;var I=_n.dependencies;this._options=w=r({addons:_n.addons,autoOpen:!0,indexedDB:I.indexedDB,IDBKeyRange:I.IDBKeyRange,cache:"cloned"},w),this._deps={indexedDB:w.indexedDB,IDBKeyRange:w.IDBKeyRange},I=w.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var O,L,W,ee,se,le={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:ct,dbReadyPromise:null,cancelOpen:ct,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:w.autoOpen};le.dbReadyPromise=new Ve(function(te){le.dbReadyResolve=te}),le.openCanceller=new Ve(function(te,pe){le.cancelOpen=pe}),this._state=le,this.name=v,this.on=Xi(this,"populate","blocked","versionchange","close",{ready:[_t,ct]}),this.on.ready.subscribe=M(this.on.ready.subscribe,function(te){return function(pe,oe){_n.vip(function(){var fe,me=k._state;me.openComplete?(me.dbOpenError||Ve.resolve().then(pe),oe&&te(pe)):me.onReadyBeingFired?(me.onReadyBeingFired.push(pe),oe&&te(pe)):(te(pe),fe=k,oe||te(function ce(){fe.on.ready.unsubscribe(pe),fe.on.ready.unsubscribe(ce)}))})}}),this.Collection=(O=this,Ji(gn.prototype,function(ve,ce){this.db=O;var oe=gs,fe=null;if(ce)try{oe=ce()}catch(_e){fe=_e}var me=ve._ctx,ce=me.table,ve=ce.hook.reading.fire;this._ctx={table:ce,index:me.index,isPrimKey:!me.index||ce.schema.primKey.keyPath&&me.index===ce.schema.primKey.name,range:oe,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:fe,or:me.or,valueMapper:ve!==mn?ve:null}})),this.Table=(L=this,Ji(Sn.prototype,function(te,pe,oe){this.db=L,this._tx=oe,this.name=te,this.schema=pe,this.hook=L._allTables[te]?L._allTables[te].hook:Xi(null,{creating:[vr,ct],reading:[bn,mn],updating:[Ki,ct],deleting:[Ei,ct]})})),this.Transaction=(W=this,Ji(Kl.prototype,function(te,pe,oe,fe,me){var ce=this;this.db=W,this.mode=te,this.storeNames=pe,this.schema=oe,this.chromeTransactionDurability=fe,this.idbtrans=null,this.on=Xi(this,"complete","error","abort"),this.parent=me||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new Ve(function(ve,_e){ce._resolve=ve,ce._reject=_e}),this._completion.then(function(){ce.active=!1,ce.on.complete.fire()},function(ve){var _e=ce.active;return ce.active=!1,ce.on.error.fire(ve),ce.parent?ce.parent._reject(ve):_e&&ce.idbtrans&&ce.idbtrans.abort(),ht(ve)})})),this.Version=(ee=this,Ji(Tf.prototype,function(te){this.db=ee,this._cfg={version:te,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(se=this,Ji(Us.prototype,function(te,pe,oe){if(this.db=se,this._ctx={table:te,index:pe===":id"?null:pe,or:oe},this._cmp=this._ascending=it,this._descending=function(fe,me){return it(me,fe)},this._max=function(fe,me){return 0<it(fe,me)?fe:me},this._min=function(fe,me){return it(fe,me)<0?fe:me},this._IDBKeyRange=se._deps.IDBKeyRange,!this._IDBKeyRange)throw new Ie.MissingAPI})),this.on("versionchange",function(te){0<te.newVersion?console.warn("Another connection wants to upgrade database '".concat(k.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(k.name,"'. Closing db now to resume the delete request.")),k.close({disableAutoOpen:!1})}),this.on("blocked",function(te){!te.newVersion||te.newVersion<te.oldVersion?console.warn("Dexie.delete('".concat(k.name,"') was blocked")):console.warn("Upgrade '".concat(k.name,"' blocked by other connection holding version ").concat(te.oldVersion/10))}),this._maxKey=Yl(w.IDBKeyRange),this._createTransaction=function(te,pe,oe,fe){return new k.Transaction(te,pe,oe,k._options.chromeTransactionDurability,fe)},this._fireOnBlocked=function(te){k.on("blocked").fire(te),_r.filter(function(pe){return pe.name===k.name&&pe!==k&&!pe._state.vcFired}).map(function(pe){return pe.on("versionchange").fire(te)})},this.use(I1),this.use(um),this.use(N1),this.use(T1),this.use(j1);var he=new Proxy(this,{get:function(te,pe,oe){if(pe==="_vip")return!0;if(pe==="table")return function(me){return su(k.table(me),he)};var fe=Reflect.get(te,pe,oe);return fe instanceof Sn?su(fe,he):pe==="tables"?fe.map(function(me){return su(me,he)}):pe==="_createTransaction"?function(){return su(fe.apply(this,arguments),he)}:fe}});this.vip=he,I.forEach(function(te){return te(k)})}var Rc,Ti=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",R1=(Pc.prototype.subscribe=function(v,w,k){return this._subscribe(v&&typeof v!="function"?v:{next:v,error:w,complete:k})},Pc.prototype[Ti]=function(){return this},Pc);function Pc(v){this._subscribe=v}try{Rc={indexedDB:s.indexedDB||s.mozIndexedDB||s.webkitIndexedDB||s.msIndexedDB,IDBKeyRange:s.IDBKeyRange||s.webkitIDBKeyRange}}catch{Rc={indexedDB:null,IDBKeyRange:null}}function Of(v){var w,k=!1,I=new R1(function(O){var L=Z(v),W,ee=!1,se={},le={},he={get closed(){return ee},unsubscribe:function(){ee||(ee=!0,W&&W.abort(),te&&Ws.storagemutated.unsubscribe(oe))}};O.start&&O.start(he);var te=!1,pe=function(){return er(fe)},oe=function(me){kc(se,me),If(le,se)&&pe()},fe=function(){var me,ce,ve;!ee&&Rc.indexedDB&&(se={},me={},W&&W.abort(),W=new AbortController,ve=function(_e){var Se=mi();try{L&&rt();var Ee=Xe(v,_e);return Ee=L?Ee.finally(Je):Ee}finally{Se&&ps()}}(ce={subscr:me,signal:W.signal,requery:pe,querier:v,trans:null}),Promise.resolve(ve).then(function(_e){k=!0,w=_e,ee||ce.signal.aborted||(se={},function(Se){for(var Ee in Se)if(p(Se,Ee))return;return 1}(le=me)||te||(Ws(ki,oe),te=!0),er(function(){return!ee&&O.next&&O.next(_e)}))},function(_e){k=!1,["DatabaseClosedError","AbortError"].includes(_e?.name)||ee||er(function(){ee||O.error&&O.error(_e)})}))};return setTimeout(pe,0),he});return I.hasValue=function(){return k},I.getValue=function(){return w},I}var es=xs;function Vo(v){var w=ts;try{ts=!0,Ws.storagemutated.fire(v),Rf(v,!0)}finally{ts=w}}g(es,r(r({},Vn),{delete:function(v){return new es(v,{addons:[]}).delete()},exists:function(v){return new es(v,{addons:[]}).open().then(function(w){return w.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(v){try{return w=es.dependencies,k=w.indexedDB,w=w.IDBKeyRange,(eu(k)?Promise.resolve(k.databases()).then(function(I){return I.map(function(O){return O.name}).filter(function(O){return O!==Pr})}):jf(k,w).toCollection().primaryKeys()).then(v)}catch{return ht(new Ie.MissingAPI)}var w,k},defineClass:function(){return function(v){l(this,v)}},ignoreTransaction:function(v){return Qe.trans?wn(Qe.transless,v):v()},vip:tu,async:function(v){return function(){try{var w=ru(v.apply(this,arguments));return w&&typeof w.then=="function"?w:Ve.resolve(w)}catch(k){return ht(k)}}},spawn:function(v,w,k){try{var I=ru(v.apply(k,w||[]));return I&&typeof I.then=="function"?I:Ve.resolve(I)}catch(O){return ht(O)}},currentTransaction:{get:function(){return Qe.trans||null}},waitFor:function(v,w){return w=Ve.resolve(typeof v=="function"?es.ignoreTransaction(v):v).timeout(w||6e4),Qe.trans?Qe.trans.waitFor(w):w},Promise:Ve,debug:{get:function(){return ln},set:function(v){Ct(v)}},derive:_,extend:l,props:g,override:M,Events:Xi,on:Ws,liveQuery:Of,extendObservabilitySet:kc,getByKeyPath:P,setByKeyPath:N,delByKeyPath:function(v,w){typeof w=="string"?N(v,w,void 0):"length"in w&&[].map.call(w,function(k){N(v,k,void 0)})},shallowClone:B,deepClone:ie,getObjectDiff:Pf,cmp:it,asap:z,minKey:-1/0,addons:[],connections:_r,errnames:Ke,dependencies:Rc,cache:Wo,semVer:"4.0.11",version:"4.0.11".split(".").map(function(v){return parseInt(v)}).reduce(function(v,w,k){return v+w/Math.pow(10,2*k)})})),es.maxKey=Yl(es.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(Ws(ki,function(v){ts||(v=new CustomEvent(Ef,{detail:v}),ts=!0,dispatchEvent(v),ts=!1)}),addEventListener(Ef,function(v){v=v.detail,ts||Vo(v)}));var Ha,ts=!1,cm=function(){};return typeof BroadcastChannel<"u"&&((cm=function(){(Ha=new BroadcastChannel(Ef)).onmessage=function(v){return v.data&&Vo(v.data)}})(),typeof Ha.unref=="function"&&Ha.unref(),Ws(ki,function(v){ts||Ha.postMessage(v)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(v){if(!xs.disableBfCache&&v.persisted){ln&&console.debug("Dexie: handling persisted pagehide"),Ha?.close();for(var w=0,k=_r;w<k.length;w++)k[w].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(v){!xs.disableBfCache&&v.persisted&&(ln&&console.debug("Dexie: handling persisted pageshow"),cm(),Vo({all:new lr(-1/0,[[]])}))})),Ve.rejectionMapper=function(v,w){return!v||v instanceof H||v instanceof TypeError||v instanceof SyntaxError||!v.name||!Lt[v.name]?v:(w=new Lt[v.name](w||v.message,v),"stack"in v&&b(w,"stack",{get:function(){return this.inner.stack}}),w)},Ct(ln),r(xs,Object.freeze({__proto__:null,Dexie:xs,liveQuery:Of,Entity:qt,cmp:it,PropModification:Ql,replacePrefix:function(v,w){return new Ql({replacePrefix:[v,w]})},add:function(v){return new Ql({add:v})},remove:function(v){return new Ql({remove:v})},default:xs,RangeSet:lr,mergeRanges:nu,rangesOverlap:Zp}),{default:xs}),xs})}(x0)),x0.exports}var hte=fte();const Bw=qi(hte),Uk=Symbol.for("Dexie"),sy=globalThis[Uk]||(globalThis[Uk]=Bw);if(Bw.semVer!==sy.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${Bw.semVer} and ${sy.semVer}`);const{liveQuery:pte,mergeRanges:Nme,rangesOverlap:Rme,RangeSet:Pme,cmp:Ome,Entity:Mme,PropModification:Ame,replacePrefix:Dme,add:Lme,remove:Fme}=sy;class mte extends sy{interested_snapshot;interested_subject;simulation_run;simulation_run_selections;simulation_run_events;constructor(){super("ALLCLL_Simulation"),this.version(1).stores({interested_snapshot:"++snapshot_id,user_id,created_at,simulated",interested_subject:"++interested_id,snapshot_id,subject_id",simulation_run:"++simulation_run_id,snapshot_id,user_id,department_name,success_subject_count,subject_count,accuracy,score,total_elapsed,started_at,ended_at",simulation_run_selections:"++run_selections_id,simulation_run_id,interested_id,selected_index,status,started_at,ended_at",simulation_run_events:"++event_id,simulation_section_id,event_type,timestamp"})}}const Tt=new mte;async function BI(){const e=await Tt.interested_snapshot.orderBy("created_at").last();if(!e)return null;const t=await Tt.interested_subject.where("snapshot_id").equals(e.snapshot_id).toArray();return{...e,subjects:t}}async function zI(e){const t=await Tt.interested_snapshot.get(e);if(!t)return null;const n=await Tt.interested_subject.where("snapshot_id").equals(e).toArray();return{...t,subjects:n}}async function gte(e){const t=await Tt.interested_snapshot.orderBy("created_at").last(),n=t&&!t.simulated?t.snapshot_id:await Tt.interested_snapshot.add({user_id:"Todo: user_id",created_at:Date.now(),simulated:!1});t&&!t.simulated&&(await Tt.interested_snapshot.update(t.snapshot_id,{created_at:Date.now()}),await Tt.interested_subject.where("snapshot_id").equals(t.snapshot_id).delete()),await Tt.interested_subject.bulkAdd(e.map(r=>({snapshot_id:n,subject_id:r})))}async function Hk(e,t){const n=await Tt.interested_subject.where("snapshot_id").equals(e).filter(r=>r.subject_id===t).first();return n?n.interested_id:-1}async function yte(){const e=await hp();if("errMsg"in e)throw new Error(e.errMsg);return e}const vte=["","","1","","","","","","","","","","","","","","","English Listening","English Reading"],xte=(e,t,n)=>{const r=e.find(s=>s.subjectId===t);let i=40;return r?.departmentName===""&&(vte.includes(r.subjectName)?i=4.6*3:i=4.6*4),console.log(n,i),n<i},i1=di(e=>({currentSubjectId:0,isCaptchaFailed:!1,subjectStatusMap:{},setCurrentSubjectId:t=>e({currentSubjectId:t}),setSubjectStatus:(t,n)=>e(r=>({subjectStatusMap:{...r.subjectStatusMap,[t]:n}})),setCaptchaFailed:t=>e({isCaptchaFailed:t})}));var gr=(e=>(e[e.SEARCH=0]="SEARCH",e[e.APPLY=1]="APPLY",e[e.CAPTCHA=2]="CAPTCHA",e[e.CANCEL_SUBMIT=3]="CANCEL_SUBMIT",e[e.SUBJECT_SUBMIT=4]="SUBJECT_SUBMIT",e[e.REFRESH=5]="REFRESH",e[e.SKIP_REFRESH=6]="SKIP_REFRESH",e))(gr||{}),dn=(e=>(e[e.PROGRESS=0]="PROGRESS",e[e.SUCCESS=1]="SUCCESS",e[e.FAILED=2]="FAILED",e[e.DOUBLED=3]="DOUBLED",e[e.CAPTCHA_FAILED=4]="CAPTCHA_FAILED",e[e.NOT_ELIGIBLE=5]="NOT_ELIGIBLE",e[e.CANCELED=6]="CANCELED",e))(dn||{}),$I=(e=>(e.SNAPSHOT_NOT_EXIST="SNAPSHOT_NOT_EXIST",e.ONGOING_SIMULATION_NOT_FOUND="ONGOING_SIMULATION_NOT_FOUND",e.SELECTION_NOT_FOUND="SELECTION_NOT_FOUND",e.SIMULATION_NOT_FOUND="SIMULATION_NOT_FOUND",e.MULTIPLE_SIMULATION_FOUND="MULTIPLE_SIMULATION_FOUND",e.SIMULATION_IS_NOT_FINISHED="SIMULATION_IS_NOT_FINISHED",e.MULTIPLE_SIMULATION_RUNNING="MULTIPLE_SIMULATION_RUNNING",e.UNKNOWN_ERROR="UNKNOWN_ERROR",e))($I||{});const G_=300,bte=G_*1e3;function Pl(e){return{errMsg:e}}function UI(e){return e instanceof Error?Pl(e.message):Pl("UNKNOWN_ERROR")}async function hp(){try{const e=await s1();if(!e)return{simulationId:-1};const t=await Tt.simulation_run_selections.filter(a=>o1(a,e.simulation_run_id)).toArray(),n=await Tt.interested_subject.where("snapshot_id").equals(e.snapshot_id).toArray();if(!n)return Pl("SNAPSHOT_NOT_EXIST");const r=t.filter(a=>a.status===1),i=n.filter(a=>r.some(l=>l.interested_id===a.interested_id)).map(a=>({subjectId:a.subject_id})),s=n.filter(a=>!r.some(l=>l.interested_id===a.interested_id)).map(a=>({subjectId:a.subject_id})),o=t.map(a=>{const l=n.find(c=>c.interested_id===a.interested_id);return l?{subjectId:l.subject_id,status:a.status}:{subjectId:-1,status:2}});return{simulationId:e.simulation_run_id,userStatus:{userPK:e.user_id,departmentCode:e.department_code,departmentName:e.department_name},searchEventAt:e.search_event_at,startedAt:e.started_at,nonRegisteredSubjects:s,registeredSubjects:i,subjectStatus:o}}catch(e){return UI(e)}}async function s1(){const e=await Tt.simulation_run.filter(t=>t.ended_at===-1).toArray();if(e&&e.length>1)throw new Error("MULTIPLE_SIMULATION_RUNNING");return e[0]??null}async function wte(e){const t=await Tt.simulation_run.where("simulation_run_id").equals(e).filter(n=>n.ended_at!==-1).toArray();if(!t.length)throw new Error("SIMULATION_NOT_FOUND");if(t.length>1)throw new Error("MULTIPLE_SIMULATION_FOUND");return t[0]}async function _te(e,t,n){const r=await hp();if(r&&"errMsg"in r)return r;if(r.simulationId!==-1)return{simulationId:r.simulationId,isRunning:!0};const i=await BI();if(!i)return Pl("SNAPSHOT_NOT_EXIST");await Tt.interested_snapshot.update(i.snapshot_id,{simulated:!0});const s=i.subjects;return{simulationId:await Tt.simulation_run.add({snapshot_id:i.snapshot_id,user_id:e,department_code:t,department_name:n,success_subject_count:0,subject_count:s.length,accuracy:-1,score:-1,total_elapsed:-1,search_event_at:-1,started_at:Date.now(),ended_at:-1}),started_at:Date.now(),isRunning:!0}}async function fa(e,t){const{eventType:n}=e;console.log("BUTTON EVENT",e);let r;try{if(r=await s1(),!r)throw new Error("ONGOING_SIMULATION_NOT_FOUND")}catch(c){return UI(c)}const i=r.simulation_run_id;if(n===0){const c=Date.now();return await Tt.simulation_run.update(i,{search_event_at:c}),{elapsed_time:c-r.started_at}}const{subjectId:s}=e;if(n===1){const c=await Tt.simulation_run_selections.filter(p=>p.simulation_run_id===r.simulation_run_id&&p.ended_at>=0).count(),f=await Tt.simulation_run_selections.add({simulation_run_id:r.simulation_run_id,interested_id:await Hk(r.snapshot_id,s),selected_index:c+1,status:0,started_at:Date.now(),ended_at:-1});return await Tt.simulation_run_events.add({simulation_section_id:f,event_type:n,timestamp:Date.now()}),{}}const o=await Tt.simulation_run_selections.filter(c=>c.simulation_run_id===i).toArray(),a=o.filter(c=>c.ended_at===-1).sort((c,f)=>f.started_at-c.started_at)[0];if(!a)return Pl("SELECTION_NOT_FOUND");const l=Date.now();if(await Tt.simulation_run_events.add({simulation_section_id:a.run_selections_id,event_type:n,timestamp:l}),n===4){const c=await Hk(r.snapshot_id,s);if(!await Tt.simulation_run_selections.filter(E=>E.simulation_run_id===i&&E.interested_id===c).last())return Pl("SELECTION_NOT_FOUND");const p=async E=>(await Tt.simulation_run_selections.update(a.run_selections_id,{status:E}),console.log("saved section",a.run_selections_id,E),{status:E});if(i1.getState().isCaptchaFailed)return await p(4);if(o.some(E=>E.interested_id===c&&E.status===2))return await p(3),{status:2};if(o.some(E=>E.interested_id===c&&E.ended_at>=0&&o1(E,i)))return await p(3);const _=Math.floor(l-r.started_at)/1e3;return xte(t,s,_)?await p(1):await p(2)}if(n===3&&await Tt.simulation_run_selections.update(a.run_selections_id,{status:6,ended_at:Date.now()}),n===5||n===6){await Tt.simulation_run_selections.update(a.run_selections_id,{ended_at:Date.now()});const c=await Cte();return c&&await HI(),{finished:c}}return{}}async function Ld(){await HI()}async function HI(){const e=await Tt.simulation_run.filter(l=>l.ended_at<=-1).last();if(!e)return;const t=await Tt.simulation_run_selections.filter(l=>l.simulation_run_id===e.simulation_run_id).toArray(),n=t.filter(l=>o1(l,e.simulation_run_id)).length,i=t.filter(l=>kte(l,e.simulation_run_id)).reduce((l,c)=>c.ended_at===-1?l+4600:l+(c.ended_at-c.started_at),0),s=Date.now()-e.started_at,o=Hee(s/1e3,i/1e3),a=n1(s/1e3/n)+Uee(o);await Tt.simulation_run.update(e.simulation_run_id,{ended_at:Date.now(),accuracy:o,score:Math.min(100,Math.max(0,a)),total_elapsed:s}),await Ete(e)}async function Ste({simulationId:e}){const t=await Tt.simulation_run.get(e);return t?t.ended_at===-1?Pl("SIMULATION_IS_NOT_FINISHED"):{accuracy:t.accuracy,score:t.score,total_elapsed:t.total_elapsed}:Pl("SIMULATION_NOT_FOUND")}async function Cte(){let e;try{e=await s1()}catch{return!0}if(!e)return!0;const t=await Tt.simulation_run_selections.filter(n=>o1(n,e.simulation_run_id)).toArray();return e.subject_count<=t.length}async function Ete(e){const t=e.simulation_run_id;return e.search_event_at<0?(await Tt.simulation_run_selections.where("simulation_run_id").equals(t).delete(),await Tt.simulation_run.delete(t),!0):(e.started_at+bte<Date.now()&&await Tt.simulation_run.update(t,{ended_at:Date.now()}),!1)}const WI=(e,t)=>e.simulation_run_id===t,o1=(e,t)=>WI(e,t)&&[1,2].includes(e.status),kte=(e,t)=>WI(e,t)&&![1,2].includes(e.status);function a1(e){return e>5?"text-green-500 bg-green-100":e>0?"text-yellow-500 bg-yellow-100":e==0?"text-red-500 bg-red-100":"text-gray-500 bg-gray-100"}function Tte(e){return e>=100?"text-red-500 bg-red-100":e>=50?"text-yellow-500 bg-yellow-100":e>=0?"text-green-500 bg-green-100":"text-gray-500 bg-gray-100"}function jte(e){return Ite(zw(e))}function zw(e){switch(e){case dn.SUCCESS:return"green";case dn.FAILED:return"red";case dn.CAPTCHA_FAILED:return"orange";case dn.PROGRESS:return"yellow";default:return"gray"}}function Ite(e){switch(e){case"green":return"bg-green-100 text-green-500";case"red":return"bg-red-100 text-red-500";case"orange":return"bg-orange-100 text-orange-500";case"yellow":return"bg-yellow-100 text-yellow-500";default:return"bg-gray-100 text-gray-500"}}function VI(e){return e==null?"default":e>5?"success":e>0?"warning":e==0?"danger":"default"}function Nte(e){return e==null?"default":e>=100?"danger":e>=50?"warning":e>=0?"success":"default"}function qI({wishCount:e,formatter:t=n=>n}){const n=e!=null&&e>=0,r=Nte(e),i=n?e:"-";return h.jsx(qu,{variant:r,children:t(i)})}ja.register(Bp,zp,$p,pf,hf);const Rte={labels:["","","",""],datasets:[{data:[40,25,20,15],backgroundColor:Up}]};function Pte(){return h.jsxs(dc,{children:[h.jsx(qy,{title:" ",href:"/wishes"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-6",children:[h.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[h.jsx(Gt,{level:3,children:" "}),h.jsx("div",{className:"flex align-center justify-center max-h-96",children:h.jsx(LI,{data:Rte})})]}),h.jsxs("div",{className:"bg-white p-6 shadow-md rounded-md",children:[h.jsx(Gt,{level:3,children:"  "}),[{name:"",dept:" ",status:30},{name:"",dept:"",status:14}].map((e,t)=>h.jsxs("div",{className:"mt-4 flex justify-between p-2 rounded-md border border-gray-200",children:[h.jsxs("div",{children:[h.jsx(Gt,{level:4,children:e.name}),h.jsx("p",{className:"text-sm text-gray-500",children:e.dept})]}),h.jsx("span",{children:h.jsx(qI,{wishCount:e.status,formatter:n=>`: ${n}`})})]},"recommend-course-"+t))]})]})]})}function $w({seat:e,formatter:t=n=>n}){const n=e!=null&&e>=0,r=VI(e),i=n?e:"-";return h.jsx(qu,{variant:r,children:t(i)})}const Ol=({className:e,disabled:t=!1})=>{const n=t?"text-gray-400 ":"text-blue-500 ";return h.jsx(w_,{className:n+e})};function Ote(){return h.jsxs(dc,{children:[h.jsx(qy,{title:"   ",subtitle:"    ,  ",href:"/live"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-6",children:[h.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[h.jsx(Gt,{level:3,children:"  "}),h.jsxs(Gn,{children:["   ,   ",h.jsx("span",{className:"text-blue-500 font-bold",children:""})," "]}),h.jsx("div",{className:"flex flex-col gap-4 mt-4",children:[{name:"",prof:"003281 | "},{name:"",prof:"004310 | LEE KANGWON"}].map(({name:e,prof:t})=>h.jsxs("div",{className:"bg-gray-50 shadow-sm rounded-lg p-4 w-full",children:[h.jsxs(Pe,{justify:"justify-between",className:"mb-2",children:[h.jsx(Gt,{level:4,children:e}),h.jsx(Ol,{})]}),h.jsxs(Pe,{justify:"justify-between",children:[h.jsx("p",{className:"text-sm text-gray-500",children:t}),h.jsx($w,{seat:0,formatter:n=>`: ${n}`})]})]},t))})]}),h.jsxs("div",{className:"bg-white p-6 shadow-md rounded-md",children:[h.jsx(Gt,{level:3,children:"  TOP 10"}),h.jsx(Gn,{children:"    !"}),h.jsx("div",{className:"overflow-x-auto",children:h.jsxs("table",{className:"w-full bg-white rounded-lg text-sm",children:[h.jsx("thead",{children:h.jsxs("tr",{className:"bg-gray-50 z-10 text-nowrap",children:[h.jsx("th",{className:"px-4 py-2",children:""}),h.jsx("th",{className:"px-4 py-2",children:""}),h.jsx("th",{className:"px-4 py-2",children:""}),h.jsx("th",{className:"px-4 py-2",children:""})]})}),h.jsx("tbody",{children:[{id:"004310-004",name:"",prof:"",seats:22},{id:"003281-001",name:"",prof:"",seats:15},{id:"004118-007",name:"",prof:"Rajendra Dhakal",seats:6},{id:"009912-006",name:"C",prof:"",seats:5},{id:"007330-001",name:"",prof:"",seats:4}].map(({id:e,name:t,prof:n,seats:r},i)=>h.jsxs("tr",{className:"border-t border-gray-200 text-black",children:[h.jsx("td",{className:"px-4 py-2 text-center",children:e}),h.jsx("td",{className:"px-4 py-2 text-center",children:t}),h.jsx("td",{className:"px-4 py-2 text-center",children:n}),h.jsx("td",{className:"px-4 py-2 text-center",children:h.jsx($w,{seat:r})})]},"live-non-major-"+i))})]})})]})]})]})}const Mte=e=>j.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:36,height:36,viewBox:"0 0 36 36",...e},j.createElement("g",{transform:"matrix(1,0,0,-1,0,72)"},j.createElement("path",{d:"M18,72Q22.9219,71.9297,27,69.6094Q31.0781,67.2188,33.6094,63Q36,58.710899999999995,36,54Q36,49.2891,33.6094,45Q31.0781,40.78125,27,38.39062Q22.9219,36.0703125,18,36Q13.0781,36.0703125,9,38.39062Q4.92188,40.78125,2.39062,45Q0,49.2891,0,54Q0,58.710899999999995,2.39062,63Q4.92188,67.2188,9,69.6094Q13.0781,71.9297,18,72ZM16.3125,63.5625L16.3125,54L16.3125,63.5625L16.3125,54Q16.3125,53.085899999999995,17.0859,52.5938L23.8359,48.0938Q25.1719,47.3203,26.1562,48.5859Q26.9297,49.9219,25.6641,50.9062L19.6875,54.914100000000005L19.6875,63.5625Q19.5469,65.1094,18,65.25Q16.4531,65.1094,16.3125,63.5625Z",fill:"#007AFF",fillOpacity:1,style:{mixBlendMode:"passthrough"}}))),Ate=e=>j.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:36,height:36,viewBox:"0 0 36 36",...e},j.createElement("g",{transform:"matrix(1,0,0,-1,0,72)"},j.createElement("path",{d:"M25.8047,42.96094L7.03125,61.8047L25.8047,42.96094L7.03125,61.8047Q4.57031,58.4297,4.5,54Q4.64062,48.2344,8.4375,44.4375Q12.2344,40.64062,18,40.5Q22.4297,40.57031,25.8047,42.96094ZM29.0391,46.1953Q31.4297,49.5703,31.5,54Q31.3594,59.7656,27.5625,63.5625Q23.7656,67.3594,18,67.5Q13.5703,67.4297,10.1953,64.9688L29.0391,46.1953ZM0,54Q0.0703125,58.9219,2.39062,63Q4.78125,67.0781,9,69.6094Q13.2891,72,18,72Q22.7109,72,27,69.6094Q31.2188,67.0781,33.6094,63Q35.9297,58.9219,36,54Q35.9297,49.0781,33.6094,45Q32.4141,42.96094,30.7617,41.30859Q29.1094,39.65625,27,38.39062Q22.7109,36,18,36Q13.2891,36,9,38.39062Q4.78125,40.92188,2.39062,45Q0.0703125,49.0781,0,54Z",fill:"#007AFF",fillOpacity:1,style:{mixBlendMode:"passthrough"}}))),QI=e=>j.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:33.75,height:36,viewBox:"0 0 33.75 36",...e},j.createElement("defs",null,j.createElement("clipPath",{id:"master_svg0_85_3284"},j.createElement("rect",{x:0,y:0,width:33.75,height:36,rx:0}))),j.createElement("g",{clipPath:"url(#master_svg0_85_3284)"},j.createElement("g",{transform:"matrix(1,0,0,-1,0,69.046875)"},j.createElement("g",null,j.createElement("path",{d:"M6.25781,54.000037500000005Q7.10156,56.3906375,8.92969,58.2187375Q12.375,61.5234375,16.875,61.5234375Q21.375,61.5234375,24.8203,58.2187375L26.0156,57.0234375L23.625,57.0234375Q22.6406,57.0234375,22.0078,56.3906375Q21.375,55.7578375,21.375,54.7734375Q21.375,53.7890375,22.0078,53.1562375Q22.6406,52.5234375,23.625,52.5234375L31.5,52.5234375Q32.4844,52.5234375,33.1172,53.1562375Q33.75,53.7890375,33.75,54.7734375L33.75,62.6484375Q33.75,63.6328375,33.1172,64.2656375Q32.4844,64.8984375,31.5,64.8984375Q30.5156,64.8984375,29.8828,64.2656375Q29.25,63.6328375,29.25,62.6484375L29.25,60.187537500000005L27.9844,61.3828375Q24.8906,64.4765375,20.8828,65.5312375Q16.875,66.5156375,12.8672,65.5312375Q8.85938,64.4765375,5.76562,61.3828375Q3.16406,58.7812375,2.03906,55.546837499999995Q1.75781,54.6328375,2.10938,53.7890375Q2.53125,53.0156375,3.375,52.6640375Q4.28906,52.3828375,5.13281,52.734337499999995Q5.90625,53.1562375,6.25781,54.000037500000005ZM1.61719,47.9531375Q1.05469,47.7422375,0.632812,47.3203375Q0.210938,46.8984375,0.0703125,46.3359375Q0.0703125,46.2656375,0,46.1250375Q0,45.9140375,0,45.7734375L0,37.8984375Q0,36.9140575,0.632812,36.2812475Q1.26562,35.6484375,2.25,35.6484375Q3.23438,35.6484375,3.86719,36.2812475Q4.5,36.9140575,4.5,37.8984375L4.5,40.3593775L5.76562,39.1640575Q8.85938,36.0703175,12.8672,35.0156255Q16.875,34.0312495,20.8828,35.0156255Q24.8906,36.0703175,27.9844,39.1640575Q30.5859,41.7656275,31.7109,45.0000375Q31.9922,45.9140375,31.6406,46.7578375Q31.2188,47.5312375,30.375,47.8828375Q29.4609,48.1640375,28.6172,47.8125375Q27.8438,47.3906375,27.4922,46.5468375Q26.6484,44.2265575,24.8203,42.3281275Q21.375,39.0234375,16.875,39.0234375Q12.375,39.0234375,8.92969,42.3281275L7.73438,43.5234375L10.125,43.5234375Q11.1094,43.5234375,11.7422,44.1562475Q12.375,44.7890375,12.375,45.7734375Q12.375,46.7578375,11.7422,47.3906375Q11.1094,48.0234375,10.125,48.0234375L2.25,48.0234375Q2.10938,48.0234375,1.96875,48.0234375Q1.75781,47.9531375,1.61719,47.9531375Z",fill:"#007AFF",fillOpacity:1,style:{mixBlendMode:"passthrough"}})))));function Dte(){return h.jsxs(dc,{className:"text-center",children:[h.jsx(Gt,{level:2,children:"  "}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mt-6",children:[{icon:h.jsx(Mte,{className:"w-6 h-6"}),title:"6     ...",text:"       "},{icon:h.jsx(Ate,{className:"w-6 h-6"}),title:"   ...",text:"  ,      "},{icon:h.jsx(QI,{className:"w-6 h-6"}),title:"      ...",text:"   ,     "}].map(({icon:e,title:t,text:n},r)=>h.jsxs("div",{className:"flex flex-col gap-4 p-6 rounded-md bg-gray-50 text-left",children:[e,h.jsx(Gt,{level:3,className:"font-extrabold",children:t}),h.jsx(Gn,{children:n})]},"pain-point-"+r))}),h.jsxs("div",{className:"text-gray-900 mt-16",children:[h.jsx("p",{children:"   ."}),h.jsx("p",{children:"   ,      . "})]})]})}const Lte=e=>j.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:24,height:24,viewBox:"0 0 24 24",...e},j.createElement("g",{transform:"matrix(1,0,0,-1,0,48)"},j.createElement("path",{d:"M18.7031,30Q17.9062,31.35938,16.5469,32.15625Q15.1875,33,13.5,33L10.5,33Q8.8125,33,7.45312,32.15625Q6.09375,31.35938,5.29688,30Q6.5625,28.59375,8.25,27.79688Q9.98438,27,12,27Q14.0156,27,15.75,27.79688Q17.4375,28.59375,18.7031,30ZM0,36Q0.046875,39.2812,1.59375,42Q3.1875,44.7188,6,46.4062Q8.85938,48,12,48Q15.1406,48,18,46.4062Q20.8125,44.7188,22.4062,42Q23.9531,39.2812,24,36Q23.9531,32.71875,22.4062,30Q20.8125,27.28125,18,25.59375Q15.1406,24,12,24Q8.85938,24,6,25.59375Q3.1875,27.28125,1.59375,30Q0.046875,32.71875,0,36ZM12,35.25Q13.9219,35.2969,14.9062,36.9375Q15.8438,38.625,14.9062,40.3125Q13.9219,41.9531,12,42Q10.0781,41.9531,9.09375,40.3125Q8.15625,38.625,9.09375,36.9375Q10.0781,35.2969,12,35.25Z",fill:"#007AFF",fillOpacity:1,style:{mixBlendMode:"passthrough"}})));function Fte(){return h.jsxs(dc,{className:"text-center",children:[h.jsx(Gt,{level:2,children:"   !"}),h.jsxs("div",{className:"overflow-hidden mt-6 relative",children:[h.jsx("div",{className:"absolute top-0 left-0 w-12 h-full bg-gradient-to-r from-gray-50 to-transparent z-10"}),h.jsxs("div",{className:"animate-marquee flex gap-6 flex-nowrap w-fit",children:[Wk.map((e,t)=>h.jsx(Vk,{...e},"feedback-left-"+t)),Wk.map((e,t)=>h.jsx(Vk,{...e},"feedback-right-"+t))]}),h.jsx("div",{className:"absolute top-0 right-0 w-12 h-full bg-gradient-to-l from-gray-50 to-transparent z-10"})]})]})}const Wk=[{name:"O",department:" 2",review:"        !"},{name:"O",department:" 4",review:"         !"},{name:"O",department:" 3",review:"     !"}];function Vk({name:e,department:t,review:n}){return h.jsxs("div",{className:"w-screen md:w-xs flex flex-col gap-4 p-6 rounded-md bg-white text-left text-sm",children:[h.jsxs("div",{className:"flex gap-4 items-center",children:[h.jsx(Lte,{className:"w-6 h-6"}),h.jsxs("div",{children:[h.jsx("p",{className:"font-bold",children:e}),h.jsx("p",{className:"text-xs text-gray-500",children:t})]})]}),h.jsxs("p",{className:"text-gray-950",children:['"',n,'"']})]})}function Bte(){return h.jsxs("div",{className:"min-h-screen bg-gray-50",children:[h.jsx(GK,{}),h.jsx(EG,{}),h.jsx(Pte,{}),h.jsx(Xee,{}),h.jsx(Ote,{}),h.jsx(Dte,{}),h.jsx(Fte,{})]})}function hs(){const[e,t]=j.useState(!1);return j.useEffect(()=>{const n=()=>{t(window.innerWidth<=768)};return n(),window.addEventListener("resize",n),()=>{window.removeEventListener("resize",n)}},[]),e}const zte=e=>j.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:13.836064338684082,height:14,viewBox:"-1 -1 15.5 16.5",...e},j.createElement("g",{transform:"matrix(1,0,0,-1,0,28)"},j.createElement("path",{d:"M13.8033,23.433590000000002Q13.918,23.05078,13.6311,22.777340000000002L12.3689,21.68359Q12.4262,21.35547,12.4262,21Q12.4262,20.64453,12.3689,20.31641L13.6311,19.22266Q13.918,18.94922,13.8033,18.56641Q13.6025,18.07422,13.3443,17.60938L13.2008,17.39062Q12.9139,16.95312,12.5697,16.54297Q12.2828,16.24219,11.8811,16.35156L10.2746,16.84375Q9.70082,16.40625,9.01229,16.16016L8.66803,14.574219Q8.55328,14.191406,8.12295,14.109375Q7.54918,14,6.91803,14Q6.28688,14,5.68443,14.109375Q5.28279,14.191406,5.16803,14.574219L4.82377,16.16016Q4.13525,16.40625,3.56148,16.84375L1.95492,16.35156Q1.55328,16.24219,1.26639,16.54297Q0.893443,16.95312,0.635246,17.39062L0.491803,17.60938Q0.233607,18.07422,0.0327869,18.53906Q-0.0819672,18.94922,0.204918,19.22266L1.46721,20.28906Q1.40984,20.64453,1.40984,21Q1.40984,21.35547,1.46721,21.68359L0.204918,22.777340000000002Q-0.0819672,23.05078,0.0327869,23.433590000000002Q0.233607,23.92578,0.491803,24.3906L0.635246,24.6094Q0.893443,25.0469,1.26639,25.457Q1.55328,25.7578,1.95492,25.648400000000002L3.56148,25.1562Q4.13525,25.5937,4.82377,25.8672L5.16803,27.425800000000002Q5.28279,27.8086,5.71311,27.8906Q6.28688,28,6.91803,28Q7.54918,28,8.15164,27.8906Q8.55328,27.8086,8.66803,27.425800000000002L9.01229,25.8672Q9.70082,25.5937,10.2746,25.1562L11.8811,25.648400000000002Q12.2828,25.7578,12.5697,25.457Q12.9426,25.0469,13.2295,24.6094L13.3443,24.3906Q13.6025,23.92578,13.8033,23.433590000000002ZM6.91803,18.8125Q8.20902,18.83984,8.89754,19.90625Q9.52869,21,8.89754,22.09375Q8.20902,23.160159999999998,6.91803,23.1875Q5.62705,23.160159999999998,4.93852,22.09375Q4.30738,21,4.93852,19.90625Q5.62705,18.83984,6.91803,18.8125Z",fill:"#9CA3AF",fillOpacity:1,style:{mixBlendMode:"passthrough"}})));function qk({children:e,checked:t,onChange:n,...r}){return h.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[h.jsx("input",{type:"checkbox",className:"sr-only peer",checked:t,onChange:n,...r}),h.jsx("div",{className:"w-12 h-6 rounded-full transition-colors duration-150 bg-gray-300 peer-checked:bg-blue-500 peer-disabled:bg-gray-200"}),h.jsx("div",{className:"absolute top-1 left-1 w-4 h-4 bg-white rounded-full shadow-md transform transition-transform duration-150 peer-checked:translate-x-6"}),e]})}function KI({enabled:e=!0,onClose:t}){j.useEffect(()=>{if(!e)return;const n=i=>{i.key==="Escape"&&t&&t()},r=i=>{i.preventDefault(),t&&t()};return window.addEventListener("keydown",n),window.addEventListener("popstate",r),()=>{window.removeEventListener("keydown",n),window.removeEventListener("popstate",r)}},[])}const $te=[{title:" ",value:Ui.NONE,disabled:()=>!1},{title:" ",value:Ui.BROWSER,disabled:()=>!js.canNotify()},{title:" ",value:Ui.TOAST,disabled:()=>!Ew.canNotify()},{title:" +  ",value:Ui.BOTH,disabled:()=>!js.canNotify()||!Ew.canNotify()}];function Ute({isOpen:e,close:t}){const n=Il(s=>s.isPermitted),r=()=>{cs.show("  ","test-alarm")},i=()=>{cs.requestPermission(),t()};return KI({enabled:e,onClose:i}),e?h.jsx(Jn,{title:"",onClose:i,isOpen:e,children:h.jsxs(Jn.Content,{children:[h.jsx(Hte,{}),h.jsx(Wte,{}),h.jsx("div",{className:"mt-4 flex justify-end",children:h.jsx(Dt,{variant:"outlined",size:"medium",onClick:r,disabled:!n,children:""})})]})}):null}function Hte(){const e=Ro(s=>s.alarmType),t=Ro(s=>s.saveSettings),n=Il(s=>s.isPermitted),r=js.canNotify(),i=s=>{t({alarmType:Number(s.target.value)})};return h.jsxs("div",{className:"mb-4",children:[h.jsx("label",{className:"block mb-2 font-bold text-md",htmlFor:"alarm-type-select",children:" "}),h.jsx("select",{id:"alarm-type-select",className:"w-full mb-2 p-2 border border-gray-300 rounded",value:e,onChange:i,children:$te.map(s=>h.jsx("option",{className:"disabled:text-gray-500",value:s.value,disabled:s.disabled(),children:s.title},s.value))}),(e===Ui.BROWSER||e===Ui.BOTH)&&!n&&h.jsx("p",{className:"pl-2 pb-2 text-sm text-red-600",children:"  ."}),e===Ui.TOAST&&h.jsx("p",{className:"pl-2 pb-2 text-sm text-red-600",children:"      ."}),!r&&h.jsx("p",{className:"pl-2 pb-2 text-xs text-gray-600",children:"     ."})]})}function Wte(){const t=Ro(f=>f.alarmType)===Ui.NONE,n=ip(ml.SOUND),r=ip(ml.VIBRATE),i=C_.canNotify(),s=Ro(f=>f.subAlarmType),o=Ro(f=>f.saveSettings),a=t,l=t||!i,c=f=>{const p=f.target.id==="select-sound"?ml.SOUND:ml.VIBRATE,g=f.target.checked?s|p:s&~p;o({subAlarmType:g})};return h.jsxs("div",{children:[h.jsx("h3",{className:"block mb-2 font-bold text-md",children:"  "}),h.jsxs("div",{className:"flex flex-col gap-2",children:[h.jsxs("label",{className:"my-1 flex items-center justify-between",htmlFor:"select-sound",children:[h.jsx("span",{className:a?"text-gray-300":"",children:""}),h.jsx(qk,{id:"select-sound",name:"sound",checked:n,onChange:c,disabled:a})]}),h.jsxs("label",{className:"my-1 flex items-center justify-between",htmlFor:"select-vibrate",children:[h.jsx("span",{className:l?"text-gray-300":"",children:""}),h.jsx(qk,{id:"select-vibrate",name:"vibrate",checked:r,onChange:c,disabled:l})]}),!i&&h.jsx("p",{className:"pl-2 pb-2 text-sm text-red-600",children:"     ."})]})]})}const Vte=e=>j.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},j.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 3C7.88696 2.99977 8.74883 3.29435 9.4501 3.83741C10.1514 4.38047 10.6523 5.14121 10.874 6H19V8H10.874C10.6283 8.94049 10.0486 9.75939 9.24333 10.3038C8.43802 10.8482 7.46209 11.0809 6.49778 10.9584C5.53346 10.836 4.64669 10.3667 4.00303 9.63828C3.35937 8.90985 3.00284 7.97206 3 7C3 5.93913 3.42143 4.92172 4.17157 4.17157C4.92172 3.42143 5.93913 3 7 3ZM7 9C7.53043 9 8.03914 8.78929 8.41421 8.41421C8.78929 8.03914 9 7.53043 9 7C9 6.46957 8.78929 5.96086 8.41421 5.58579C8.03914 5.21071 7.53043 5 7 5C6.46957 5 5.96086 5.21071 5.58579 5.58579C5.21071 5.96086 5 6.46957 5 7C5 7.53043 5.21071 8.03914 5.58579 8.41421C5.96086 8.78929 6.46957 9 7 9ZM17 20C16.113 20.0002 15.2512 19.7056 14.5499 19.1626C13.8486 18.6195 13.3477 17.8588 13.126 17H5V15H13.126C13.3717 14.0595 13.9514 13.2406 14.7567 12.6962C15.562 12.1518 16.5379 11.9191 17.5022 12.0416C18.4665 12.164 19.3533 12.6333 19.997 13.3617C20.6406 14.0901 20.9972 15.0279 21 16C21 17.0609 20.5786 18.0783 19.8284 18.8284C19.0783 19.5786 18.0609 20 17 20ZM17 18C17.5304 18 18.0391 17.7893 18.4142 17.4142C18.7893 17.0391 19 16.5304 19 16C19 15.4696 18.7893 14.9609 18.4142 14.5858C18.0391 14.2107 17.5304 14 17 14C16.4696 14 15.9609 14.2107 15.5858 14.5858C15.2107 14.9609 15 15.4696 15 16C15 16.5304 15.2107 17.0391 15.5858 17.4142C15.9609 17.7893 16.4696 18 17 18Z",fill:"currentColor"})),qte=()=>{if(typeof navigator>"u")return"chrome";const e=navigator.userAgent.toLowerCase();return e.includes("firefox")?"firefox":e.includes("edg")?"edge":e.includes("safari")&&!e.includes("chrome")?"safari":"chrome"},Qte=()=>{if(typeof navigator>"u")return"macos";const e=navigator.platform.toLowerCase(),t=navigator.userAgent.toLowerCase();return e.startsWith("mac")||t.includes("mac os x")?"macos":e.startsWith("win")?"windows":/android|iphone|ipad|ipod/.test(t)?"mobile":"macos"};function Kte(){const e=Il(s=>s.isOpen),t=Il(s=>s.close),[n,r]=j.useState(0),i=1;return j.useEffect(()=>{e||r(0)},[e]),h.jsx(Jn,{title:"  ",onClose:t,isOpen:e,children:h.jsxs("div",{className:"p-4 text-sm text-gray-700 w-lg max-w-full",children:[n===0&&h.jsx(Gte,{}),n===1&&h.jsx(Yte,{}),h.jsxs("div",{className:"flex justify-between items-center mt-6",children:[h.jsxs("span",{className:"text-xs text-gray-500",children:[n+1," / ",i+1]}),h.jsxs("div",{className:"flex justify-end gap-2",children:[n>0&&h.jsx("button",{className:"px-4 py-2 bg-gray-200 rounded hover:bg-gray-300",onClick:()=>r(n-1),children:""}),n<i&&h.jsx("button",{className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",onClick:()=>r(n+1),children:""}),n===i&&h.jsx("button",{className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",onClick:t,children:""})]})]})]})})}function Gte(){const[e,t]=j.useState(qte());return h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"font-bold text-base text-gray-800",children:"1:    "}),h.jsx("p",{className:"mt-1",children:" 'ALLCLL'    ."})]}),h.jsxs("div",{className:"flex border-b border-gray-500",children:[h.jsx(zu,{name:"Chrome",id:"chrome",selected:e,onClick:t}),h.jsx(zu,{name:"Firefox",id:"firefox",selected:e,onClick:t}),h.jsx(zu,{name:"Safari",id:"safari",selected:e,onClick:t}),h.jsx(zu,{name:"Edge",id:"edge",selected:e,onClick:t})]}),h.jsxs("div",{className:"p-2 bg-gray-50 rounded-md h-64 overflow-y-auto",children:[e==="chrome"&&h.jsx(Xte,{}),e==="firefox"&&h.jsx(Zte,{}),e==="safari"&&h.jsx(ene,{}),e==="edge"&&h.jsx(Jte,{})]})]})}function Yte(){const[e,t]=j.useState(Qte());return h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"font-bold text-base text-gray-800",children:"2: OS    "}),h.jsx("p",{className:"mt-1",children:"  OS   ."})]}),h.jsxs("div",{className:"flex border-b border-gray-500",children:[h.jsx(zu,{name:"macOS",id:"macos",selected:e,onClick:t}),h.jsx(zu,{name:"Windows",id:"windows",selected:e,onClick:t}),h.jsx(zu,{name:"",id:"mobile",selected:e,onClick:t})]}),h.jsxs("div",{className:"p-2 bg-gray-50 rounded-md h-64 overflow-y-auto",children:[e==="macos"&&h.jsx(tne,{}),e==="windows"&&h.jsx(nne,{}),e==="mobile"&&h.jsx(rne,{})]})]})}const zu=({name:e,id:t,selected:n,onClick:r})=>h.jsx("button",{className:`px-4 py-2 text-sm ${n===t?"border-b-2 border-blue-500 text-blue-600 font-semibold":"text-gray-500 font-medium"}`,onClick:()=>r(t),children:e}),nc=({title:e,children:t})=>h.jsxs("div",{className:"space-y-1",children:[h.jsx("h4",{className:"font-semibold text-gray-800",children:e}),h.jsx("div",{className:"pl-2 space-y-1 text-gray-600",children:t})]}),Xte=()=>h.jsxs("div",{className:"space-y-3",children:[h.jsx(nc,{title:" 1:   ()",children:h.jsxs("ol",{className:"list-decimal list-inside",children:[h.jsxs("li",{children:["    (",h.jsx(Vte,{className:"inline-block w-4 h-4"}),")  ."]}),h.jsx("li",{children:"  ''    '' ."})]})}),h.jsx(nc,{title:" 2:   ",children:h.jsxs("ol",{className:"list-decimal list-inside",children:[h.jsx("li",{children:"   3()  > '' ."}),h.jsx("li",{children:"'  ' > ' ' > '' ."}),h.jsx("li",{children:"'  '  ''   'allcll.com' ."})]})})]}),Jte=()=>h.jsxs("div",{className:"space-y-3",children:[h.jsx(nc,{title:" 1:   ()",children:h.jsxs("ol",{className:"list-decimal list-inside",children:[h.jsx("li",{children:"  ()  ."}),h.jsx("li",{children:"'   '  '' '' ."})]})}),h.jsx(nc,{title:" 2:   ",children:h.jsxs("ol",{className:"list-decimal list-inside",children:[h.jsx("li",{children:"   3()  > '' ."}),h.jsx("li",{children:"'   ' > '' ."}),h.jsx("li",{children:"''  ''   'allcll.com' ."})]})})]}),Zte=()=>h.jsxs("div",{className:"space-y-3",children:[h.jsx(nc,{title:" 1:   ()",children:h.jsxs("ol",{className:"list-decimal list-inside",children:[h.jsx("li",{children:"  ()  ."}),h.jsx("li",{children:"' '  '' ."})]})}),h.jsx(nc,{title:" 2:   ",children:h.jsxs("ol",{className:"list-decimal list-inside",children:[h.jsx("li",{children:"   3()  > '' ."}),h.jsx("li",{children:"'  '  ''  ."}),h.jsx("li",{children:"''  '...'  ."}),h.jsx("li",{children:"'allcll.com'   ''  '  ' ."})]})})]}),ene=()=>h.jsx("div",{className:"space-y-3",children:h.jsx(nc,{title:"Safari  ",children:h.jsxs("ol",{className:"list-decimal list-inside",children:[h.jsx("li",{children:"    'Safari' > '...' ( '...') ."}),h.jsx("li",{children:"''  ."}),h.jsx("li",{children:"  '' ."}),h.jsx("li",{children:" 'allcll.com'   '' ."})]})})}),tne=()=>h.jsx("div",{className:"space-y-2",children:h.jsxs("ol",{className:"list-decimal list-inside pl-2 mt-2 space-y-1",children:[h.jsx("li",{children:"    ()   ' ' ."}),h.jsx("li",{children:"  '' ."}),h.jsx("li",{children:"    (Chrome, Safari )  ."}),h.jsx("li",{children:"' '  ."})]})}),nne=()=>h.jsx("div",{className:"space-y-2",children:h.jsxs("ol",{className:"list-decimal list-inside pl-2 mt-2 space-y-1",children:[h.jsx("li",{children:"''  '' ."}),h.jsx("li",{children:"''   ''  ."}),h.jsx("li",{children:"'     '   ."}),h.jsx("li",{children:"        ."})]})}),rne=()=>h.jsxs("div",{className:"pl-2 mt-2 space-y-2",children:[h.jsx("p",{children:"  PC        .  iOS Safari     ."}),h.jsx("p",{className:"font-medium",children:"       ' '   ."})]}),ine=e=>j.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:17,height:17,viewBox:"0 0 17 14.5",...e},j.createElement("g",{transform:"matrix(1,0,0,-1,0,28.015625)"},j.createElement("path",{d:"M1.0474,27.8750125Q0.538991,28.2031125,0.137615,27.7656125Q-0.183486,27.246112500000002,0.244648,26.8359125L16.0856,14.1484375Q16.594,13.8203125,16.9954,14.2578125Q17.3165,14.7773435,16.8884,15.1875025L14.4801,17.1289025Q14.4801,17.1562525,14.4801,17.1562525Q14.6942,17.6757825,14.3463,18.0859325L14.159,18.3320325Q12.8746,19.8085925,12.8479,21.8046925L12.8479,22.324222499999998Q12.8211,23.9375025,11.8578,25.1133125Q10.9213,26.2890125,9.42278,26.6172125L9.42278,27.1367125Q9.42278,27.519512499999998,9.18196,27.7656125Q8.94113,28.0117125,8.56651,28.0117125Q8.1919,28.0117125,7.95107,27.7656125Q7.71025,27.519512499999998,7.71025,27.1367125L7.71025,26.6172125Q5.94419,26.207012499999998,4.98089,24.7031125L1.0474,27.8750125ZM10.8677,16.6367225L4.28517,21.9414025L10.8677,16.6367225L4.28517,21.9414025L4.28517,21.8046925Q4.25841,19.8085925,3.00077,18.3046925L2.7867,18.0859325Q2.43884,17.6757825,2.65291,17.1562525Q2.89373,16.6640625,3.4289,16.6367225L10.8677,16.6367225ZM9.77064,14.5312505Q10.2791,15.0507825,10.2791,15.7617225L8.56651,15.7617225L6.85398,15.7617225Q6.85398,15.0507825,7.36239,14.5312505Q7.8708,14.01171884,8.56651,14.01171884Q9.26223,14.01171884,9.77064,14.5312505Z",fill:"#9CA3AF",fillOpacity:1,style:{mixBlendMode:"passthrough"}})));function sne({isAlarm:e}){const t=Nd(s=>s.sseState),n=Il(s=>s.isPermitted),r=t===E_.LIVE,i=r?cs.getDeniedMessage():[...cs.getDeniedMessage(),"  "];return e?n&&r?h.jsx(Ol,{className:"w-5 h-5 text-primary-500"}):h.jsxs(h.Fragment,{children:[h.jsx(Ol,{className:"w-5 h-5 text-secondary-500 animate-pulse"}),i.length>0&&h.jsx("span",{className:"absolute left-full -bottom-2 transform -translate-x-full translate-y-full opacity-0 group-hover:opacity-100 transition-opacity duration-300 bg-gray-900 text-white text-sm p-2 rounded w-64 h-fit text-center pointer-events-none",children:i.map((s,o)=>h.jsx("p",{className:"pt-1 first:pt-0",children:s},"tooltip-line-"+o))})]}):h.jsx(ine,{className:"w-5 h-5"})}const one=async()=>await Ea("/api/pins"),ane=async e=>{const t=await $y(`/api/pin?subjectId=${e}`,{method:"POST"});if(!t.ok)throw new Error(await t.text())},lne=async e=>{const t=await $y(`/api/pin/${e}`,{method:"DELETE"});if(!t.ok)throw new Error(await t.text())},Qk=5;function l1(){return fo({queryKey:["pinnedSubjects"],queryFn:one,select:e=>e.subjects})}const GI=()=>{const e=fs();return Dl({mutationFn:ane,onMutate:async t=>{await e.cancelQueries({queryKey:["pinnedSubjects"]});const n=e.getQueryData(["pinnedSubjects"])?.subjects??[];if(n&&n.length>=Qk)throw new Error(JSON.stringify({message:`   ${Qk} .`}));if(n){const r={...n[0],subjectId:t};e.setQueryData(["pinnedSubjects"],{subjects:[...n,r]}),n.push(r)}return{previousUsers:n}},onSuccess:()=>{e.invalidateQueries({queryKey:["pinnedSubjects"]}).then()},onError:t=>{try{const n=JSON.parse(t.message);alert(n.message)}catch{alert("Error adding pinned subject")}}})},Y_=()=>{const e=fs();return Dl({mutationFn:lne,onMutate:async t=>{await e.cancelQueries({queryKey:["pinnedSubjects"]});const n=e.getQueryData(["pinnedSubjects"]);if(n){const r=n.subjects.filter(i=>i.subjectId!==t);e.setQueryData(["pinnedSubjects"],{subjects:r})}return{previousData:n}},onSettled:()=>{console.log("pin removed onSettled"),e.invalidateQueries({queryKey:["pinnedSubjects"]}).then()},onError:t=>{console.error("Error removing pinned subject:",t)}})},une=1e3,cne=60*une,dne={subjectId:-1,seat:-1};function fne(){return fo({queryKey:["preRealSeats"],queryFn:hne,staleTime:10*cne,select:e=>e?.preSeats??null})}async function hne(){return await Uy("/pre-seats.json?date=20250904")}function YI(e,t,n,r){if(!e||!t)return e||t;const i=e.sort((c,f)=>c.subjectId-f.subjectId),s=t.sort((c,f)=>c.subjectId-f.subjectId),o=[];let a=0,l=0;for(;a<i.length&&l<s.length;)i[a].subjectId===s[l].subjectId?o.push({...i[a++],...s[l++]}):i[a].subjectId<s[l].subjectId?o.push({...r,...i[a++]}):o.push({...n,...s[l++]});for(;a<i.length;)o.push({...r,...i[a++]});for(;l<s.length;)o.push({...n,...s[l++]});return o}function u1(e,t){const{data:n}=fne();return j.useMemo(()=>!e||!n?.length?e:YI(e,n,t??Wy,dne),[e,n,t])}class X_ extends RangeError{constructor(t){super(t),this.name="ParamsInvalidError"}}class pne extends Error{constructor(t){super(t),this.name="NotFoundError"}}const mne=async e=>await Uy(`/${e}/baskets.json`),gne=async e=>{const t=await $y(`/api/baskets/${e}`);if(!t.ok){const n=await t.text(),r=yne(n);throw r?.status==="400 BAD_REQUEST"?new X_(r.code):new Error(await t.text())}return t.json()},yne=e=>{try{return JSON.parse(e)}catch{return null}},pc={...Wy,departmentCode:"",departmentName:"",totalCount:-1};function Ao(e){e=e??lo.semesterCode;const{data:t,isPending:n,isLoading:r}=po(e),i=fo({queryKey:["wishlist",e],queryFn:()=>mne(e),staleTime:1/0,select:s=>vne(s,t)});return{...i,isPending:i.isPending||n,isLoading:i.isLoading||r}}const vne=(e,t)=>{if(!t)return[];const n=e?.baskets??[];return YI(t,n,Wy,pc).map(i=>({...i,departmentCode:i.deptCd,departmentName:i.manageDeptNm}))};function xne(e){const{data:t}=Ao();return t?.filter(n=>e.includes(n.subjectId))??[]}const XI=e=>j.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},j.createElement("path",{d:"M18 6L6 18M6 6L18 18",stroke:"#354052",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}));let fh=null,rd=0;const qx=di(e=>{const t=()=>{fh||(fh=setInterval(()=>{e(r=>({tick:r.tick+1}))},1e3))},n=()=>{fh&&clearInterval(fh),fh=null};return{tick:0,addRefCount:()=>{rd===0&&t(),rd=rd+1},removeRefCount:()=>{rd<=1&&n(),rd=Math.max(0,rd-1)}}}),JI=e=>{const t=qx(i=>i.tick),n=qx(i=>i.addRefCount),r=qx(i=>i.removeRefCount);j.useEffect(()=>(n(),()=>{r()}),[]),j.useEffect(()=>{},[t])};function J_(e){if(!e)return" ";const t=new Date,n=new Date(e),r=t.getTime()-n.getTime(),i=Math.floor(r/1e3),s=Math.floor(i/60),o=Math.floor(s/60),a=Math.floor(o/24),l=Math.floor(a/30),c=Math.floor(l/12);return c>0?`${c} `:l>0?`${l} `:a>0?`${a} `:o>0?`${o} `:s>0?`${s} `:i>0?`${i} `:" "}function bne({subject:e,seats:t,queryTime:n,disableSeat:r=!1}){const{mutate:i}=Y_(),s=()=>{i(e.subjectId)};return h.jsxs(Yn,{variant:"filled",children:[h.jsxs(Pe,{justify:"justify-between",children:[h.jsx(Gt,{level:3,children:e.subjectName}),h.jsx(Rr,{variant:"plain","aria-label":"  ",icon:h.jsx(XI,{className:"text-gray-400 w-3 h-3"}),onClick:s})]}),h.jsxs("div",{className:"mb-2 text-xs text-gray-500",children:[h.jsx("p",{children:e.departmentName}),h.jsxs("p",{children:[e.subjectCode,"-",e.classCode," | ",e.professorName]})]}),!r&&h.jsxs(Pe,{justify:"justify-between",children:[h.jsx(_ne,{seats:t}),h.jsx(wne,{queryTime:n})]})]})}function wne({queryTime:e}){return JI(),h.jsx("p",{className:"text-xs text-gray-500",children:J_(e)})}function _ne({seats:e}){const t=e!=null&&e>=0,n=VI(e),r=t?e:"???";return h.jsxs(qu,{variant:n,children:[": ",r]})}const Uw=di(e=>({isSearchOpen:!1,setIsSearchOpen:t=>e(()=>({isSearchOpen:t}))}));function ZI(){const e=Uw(t=>t.setIsSearchOpen);return h.jsx(Pe,{justify:"justify-center",align:"items-center",children:h.jsx(Dt,{variant:"ghost",size:"medium",onClick:()=>e(!0),children:"+   "})})}function c1({icon:e,title:t,description:n,children:r}){return h.jsx("div",{className:"flex flex-col items-center justify-center w-full bg-gray-50 rounded-md",children:h.jsxs("div",{className:"flex flex-col items-center justify-center gap-2 p-12",children:[h.jsx("div",{children:e}),h.jsx("div",{className:"text-gray-600",children:t}),h.jsx("div",{className:"text-xs text-gray-500",children:n}),r]})})}const eN=e=>j.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:36,height:36,viewBox:"0 0 36 36",...e},j.createElement("g",{transform:"matrix(1,0,0,-1,0,72)"},j.createElement("g",null,j.createElement("path",{d:"M18,36Q22.9219,36.0703125,27,38.39062Q31.0781,40.78125,33.6094,45Q36,49.2891,36,54Q36,58.710899999999995,33.6094,63Q31.0781,67.2188,27,69.6094Q22.9219,71.9297,18,72Q13.0781,71.9297,9,69.6094Q4.92188,67.2188,2.39062,63Q0,58.710899999999995,0,54Q0,49.2891,2.39062,45Q4.92188,40.78125,9,38.39062Q13.0781,36.0703125,18,36ZM18,63Q19.5469,62.8594,19.6875,61.3125L19.6875,53.4375Q19.5469,51.8906,18,51.75Q16.4531,51.8906,16.3125,53.4375L16.3125,61.3125Q16.4531,62.8594,18,63ZM15.75,47.25Q15.75,48.2344,16.3828,48.8672Q17.0156,49.5,18,49.5Q18.9844,49.5,19.6172,48.8672Q20.25,48.2344,20.25,47.25Q20.25,46.2656,19.6172,45.63281Q18.9844,45,18,45Q17.0156,45,16.3828,45.63281Q15.75,46.2656,15.75,47.25Z",fill:"#9CA3AF",fillOpacity:1,style:{mixBlendMode:"passthrough"}})))),Sne=e=>j.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:12.68359375,height:12.25,viewBox:"0 0 12.68359375 12.25",...e},j.createElement("g",{transform:"matrix(1,0,0,-1,0,24.5)"},j.createElement("g",null,j.createElement("path",{d:"M9.67675,21L8.30998,21L9.67675,21L8.30998,21Q7.92728,21,7.68126,20.753909999999998Q7.43524,20.50781,7.43524,20.125Q7.43524,19.74219,7.68126,19.49609Q7.92728,19.25,8.30998,19.25L11.8089,19.25Q12.1916,19.25,12.4376,19.49609Q12.6837,19.74219,12.6837,20.125L12.6837,23.625Q12.6837,24.0078,12.4376,24.2539Q12.1916,24.5,11.8089,24.5Q11.4262,24.5,11.1802,24.2539Q10.9342,24.0078,10.9342,23.625L10.9342,22.23047L10.4421,22.6953Q9.23938,23.898400000000002,7.68126,24.3086Q6.12314,24.6914,4.56502,24.3086Q3.0069,23.898400000000002,1.80414,22.6953Q0.60138,21.49219,0.191348,19.93359Q-0.191348,18.375,0.191348,16.81641Q0.60138,15.25781,1.80414,14.05469Q3.0069,12.851562,4.56502,12.441406Q6.12314,12.058594,7.68126,12.441406Q9.23938,12.851562,10.4421,14.05469Q10.7155,14.30078,10.7155,14.65625Q10.7155,15.01172,10.4421,15.28516Q10.1961,15.53125,9.84076,15.53125Q9.4854,15.53125,9.21205,15.28516Q7.87261,14,6.12314,14Q4.37367,14,3.03424,15.28516Q1.74947,16.625,1.74947,18.375Q1.74947,20.125,3.03424,21.464840000000002Q4.37367,22.75,6.12314,22.75Q7.87261,22.75,9.21205,21.464840000000002L9.67675,21Z",fill:"#FFFFFF",fillOpacity:1,style:{mixBlendMode:"passthrough"}}))));function tN({onReload:e}){return h.jsx(c1,{title:"    ",description:"  ",icon:h.jsx(eN,{className:"w-7 h-7"}),children:h.jsxs("button",{className:"mt-4 flex items-center gap-2 bg-blue-500 text-white px-4 py-2 rounded cursor-pointer hover:bg-blue-600",onClick:e,children:[h.jsx(Sne,{className:"w-3 h-3"}),""]})})}function Cne(){return h.jsx(c1,{title:"   ",description:"    .     .",icon:h.jsx(Ol,{className:"w-7 h-7",disabled:!0}),children:h.jsx(ZI,{})})}function Ene(){return h.jsx(Pe,{justify:"justify-center",align:"items-center",children:h.jsx(Dt,{variant:"ghost",size:"medium",disabled:!0,children:"   5   ."})})}function kne(){const{data:e,isPending:t,isError:n,refetch:r}=l1(),{data:i}=k_(Vy.PINNED),s=xne(e?.map(l=>l.subjectId)??[]),o=l=>i?.find(f=>f.subjectId===l)?.seatCount??-1,a=l=>i?.find(f=>f.subjectId===l)?.queryTime??"";return t?h.jsx(Tne,{}):n?h.jsx(tN,{onReload:r}):!s||s.length===0?h.jsx(Cne,{}):h.jsxs($l,{columns:{base:1,md:3},gap:"gap-4",children:[s.map(l=>h.jsx(bne,{subject:l,seats:o(l.subjectId),queryTime:a(l.subjectId)},`${l.subjectId}_${l.subjectCode}_${l.professorName}`)),s.length<5?h.jsx(ZI,{}):h.jsx(Ene,{})]})}function Tne(){return h.jsx("div",{className:"animate-pulse grid grid-cols-1 md:grid-cols-3 gap-4",children:[0,0,0].map((e,t)=>h.jsx("div",{className:"bg-gray-300 shadow-sm rounded-lg p-4 h-24"},"skeleton-card-"+t))})}const jne=()=>{const[e,t]=j.useState(!1);return h.jsxs(Yn,{children:[h.jsx(Ute,{isOpen:e,close:()=>t(!1)}),h.jsx(Kte,{}),h.jsx(Ine,{setIsAlarmSettingOpen:t}),h.jsx(kne,{})]})};function Ine({setIsAlarmSettingOpen:e}){const{isAlarm:t,changeAlarm:n}=cK(),{isError:r,refetch:i}=k_(Vy.PINNED);return h.jsxs(Pe,{direction:"flex-row",justify:"justify-between",align:"align-top",className:"mb-4",children:[h.jsxs(Pe,{align:"items-center",justify:"justify-center",gap:"gap-2",children:[h.jsx(Gt,{level:3,children:"  "}),h.jsx(SQ,{children:h.jsxs("p",{className:"text-sm",children:["    ",h.jsx("br",{}),h.jsx("span",{className:"text-red-500",children:"*     "})]})})]}),h.jsxs(Pe,{align:"items-center",gap:"gap-1",children:[r&&h.jsx(Rr,{icon:h.jsx(QI,{className:"w-5 h-5"}),"aria-label":" ",label:" ",onClick:i}),h.jsx(Rr,{icon:h.jsx(zte,{className:"w-5 h-5"}),"aria-label":" ",label:" ",onClick:()=>e(!0)}),h.jsx(Rr,{icon:h.jsx(sne,{isAlarm:t}),"aria-label":t?" ":" ",label:t?" ":" ",onClick:n})]})]})}const Nne=e=>j.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:15.75,height:18,viewBox:"0 0 15.75 18",...e},j.createElement("defs",null,j.createElement("clipPath",{id:"master_svg0_85_3269"},j.createElement("rect",{x:0,y:0,width:15.75,height:18,rx:0}))),j.createElement("g",{clipPath:"url(#master_svg0_85_3269)"},j.createElement("g",{transform:"matrix(1,0,0,-1,0,32.2734375)"},j.createElement("g",null,j.createElement("path",{d:"M15.4336,22.07812875Q15.75,22.42968875,15.75,22.88671875Q15.75,23.34374875,15.4336,23.69530875L9.80859,29.32031875Q9.45703,29.63671875,9,29.63671875Q8.54297,29.63671875,8.19141,29.32031875Q7.875,28.96871875,7.875,28.51171875Q7.875,28.05471875,8.19141,27.70311875L11.918,24.01171875L1.125,24.01171875Q0.632812,24.01171875,0.316406,23.69530875Q0,23.37890875,0,22.88671875Q0,22.39452875,0.316406,22.07812875Q0.632812,21.76171875,1.125,21.76171875L11.918,21.76171875L8.19141,18.07030875Q7.875,17.71874875,7.875,17.26171875Q7.875,16.80468775,8.19141,16.45312475Q8.54297,16.13671875,9,16.13671875Q9.45703,16.13671875,9.80859,16.45312475L15.4336,22.07812875Z",fill:"#FFFFFF",fillOpacity:1,style:{mixBlendMode:"passthrough"}})))));function Rne(e=200){const[t,n]=j.useState(!1);return j.useEffect(()=>{const i=()=>n(window.scrollY>e);return i(),window.addEventListener("scroll",i,{passive:!0}),()=>window.removeEventListener("scroll",i)},[e]),{isVisible:t,scrollToTop:()=>{window.scrollTo({top:0,behavior:"smooth"})}}}function nN({right:e="right-2 sm:right-10",bottom:t="bottom-4"}){const{isVisible:n,scrollToTop:r}=Rne(200);return h.jsx("button",{"aria-label":"  ",className:`fixed ${t} ${e} z-50 w-12 h-12 rounded-full bg-blue-500 text-white shadow-lg 
                  flex justify-center items-center cursor-pointer transition-opacity duration-200
                  ${n?"opacity-100":"opacity-0 pointer-events-none"}`,onClick:r,children:h.jsx(Nne,{className:"w-6 h-6 -rotate-90"})})}const Ml={keywords:"",department:"",grades:[],credits:[],categories:[],seatRange:null,wishRange:null,time:[],days:[],classroom:[],note:[],language:[],alarmOnly:!1,favoriteOnly:!1},Z_=()=>di(e=>({filters:{...Ml},setFilter:(t,n)=>e(r=>({filters:{...r.filters,[t]:n}})),resetFilters:()=>e({filters:Ml})})),oo=Z_(),wd=Z_(),jh=Z_();function eS(){return h.jsxs("div",{className:"flex justify-end items-center mt-2 text-xs text-gray-500",children:[h.jsxs("span",{className:"flex items-center gap-2",children:[h.jsx("span",{className:"block w-4 h-4 rounded bg-green-100 ml-1","aria-label":" "}),"  "]}),h.jsxs("span",{className:"flex items-center gap-2 ml-4",children:[h.jsx("span",{className:"block w-4 h-4 rounded bg-gray-100 ml-1","aria-label":" "})," "]})]})}function rN(e){const{data:t,isPending:n}=Ao(),r=u1(t,pc),i=r&&r[0]&&"seat"in r[0],s=j.useMemo(()=>i?[...e,{title:"",key:"seat"}]:e,[r,e]);return{data:r,titles:s,isPending:n,hasRealSeats:i}}let zi;function iN(){return zi||(zi=JSON.parse(localStorage.getItem("departmentRank")??"{}"),zi)}function Pne(){zi&&localStorage.setItem("departmentRank",JSON.stringify(zi))}function d1(e){zi||(zi=iN()),zi[e]===void 0?zi[e]=0:zi[e]+=1,Pne()}function sN(){return zi||(zi=iN()),Object.entries(zi).sort(([,e],[,t])=>t-e)}function mf(e){const t=j.useMemo(()=>{const r=sN();return new Map(r.map(([i,s],o)=>[i,o]))},[]),n=j.useMemo(()=>{if(e)return One(e)},[e]);return j.useMemo(()=>{if(!n)return;const r=o=>{const a=t.get(o);return a===void 0?5:a};return n.map(o=>{const l=(5-r(o.departmentCode??o.deptCd))*250+o.rank*100-Number(o.classCode);return{...o,searchScore:l}}).sort((o,a)=>a.searchScore-o.searchScore).map(({searchScore:o,...a})=>a)},[t,n])}function One(e){const t=new Map;for(const n of e){const r=`${n.subjectCode}-${n.departmentCode}`,i=t.get(r);i?(i.sum+=n.totalCount??0,i.count+=1):t.set(r,{sum:n.totalCount??0,count:1})}return e.map(n=>{const r=`${n.subjectCode}-${n.departmentCode}`,i=t.get(r),s=i.sum/i.count;return{...n,rank:s}})}const Mne=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>xp(async()=>{const{default:r}=await Promise.resolve().then(()=>gf);return{default:r}},[]).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class tS extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class Ane extends tS{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Kk extends tS{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Gk extends tS{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Hw;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Hw||(Hw={}));var Dne=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(f){try{c(r.next(f))}catch(p){o(p)}}function l(f){try{c(r.throw(f))}catch(p){o(p)}}function c(f){f.done?s(f.value):i(f.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};class Lne{constructor(t,{headers:n={},customFetch:r,region:i=Hw.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=Mne(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return Dne(this,void 0,void 0,function*(){try{const{headers:i,method:s,body:o}=n;let a={},{region:l}=n;l||(l=this.region);const c=new URL(`${this.url}/${t}`);l&&l!=="any"&&(a["x-region"]=l,c.searchParams.set("forceFunctionRegion",l));let f;o&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",f=o):typeof o=="string"?(a["Content-Type"]="text/plain",f=o):typeof FormData<"u"&&o instanceof FormData?f=o:(a["Content-Type"]="application/json",f=JSON.stringify(o)));const p=yield this.fetch(c.toString(),{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),i),body:f}).catch(_=>{throw new Ane(_)}),g=p.headers.get("x-relay-error");if(g&&g==="true")throw new Kk(p);if(!p.ok)throw new Gk(p);let y=((r=p.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),b;return y==="application/json"?b=yield p.json():y==="application/octet-stream"?b=yield p.blob():y==="text/event-stream"?b=p:y==="multipart/form-data"?b=yield p.formData():b=yield p.text(),{data:b,error:null,response:p}}catch(i){return{data:null,error:i,response:i instanceof Gk||i instanceof Kk?i.context:void 0}}})}}var Fr={},id={},sd={},od={},ad={},ld={},Fne=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Jd=Fne();const Bne=Jd.fetch,oN=Jd.fetch.bind(Jd),aN=Jd.Headers,zne=Jd.Request,$ne=Jd.Response,gf=Object.freeze(Object.defineProperty({__proto__:null,Headers:aN,Request:zne,Response:$ne,default:oN,fetch:Bne},Symbol.toStringTag,{value:"Module"})),Une=XP(gf);var Bg={},Yk;function lN(){if(Yk)return Bg;Yk=1,Object.defineProperty(Bg,"__esModule",{value:!0});class e extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return Bg.default=e,Bg}var Xk;function uN(){if(Xk)return ld;Xk=1;var e=ld&&ld.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(ld,"__esModule",{value:!0});const t=e(Une),n=e(lN());class r{constructor(s){this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=s.headers,this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=s.shouldThrowOnError,this.signal=s.signal,this.isMaybeSingle=s.isMaybeSingle,s.fetch?this.fetch=s.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,o){return this.headers=Object.assign({},this.headers),this.headers[s]=o,this}then(s,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const a=this.fetch;let l=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{var f,p,g;let y=null,b=null,_=null,C=c.status,E=c.statusText;if(c.ok){if(this.method!=="HEAD"){const z=await c.text();z===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?b=z:b=JSON.parse(z))}const M=(f=this.headers.Prefer)===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),U=(p=c.headers.get("content-range"))===null||p===void 0?void 0:p.split("/");M&&U&&U.length>1&&(_=parseInt(U[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(b)&&(b.length>1?(y={code:"PGRST116",details:`Results contain ${b.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},b=null,_=null,C=406,E="Not Acceptable"):b.length===1?b=b[0]:b=null)}else{const M=await c.text();try{y=JSON.parse(M),Array.isArray(y)&&c.status===404&&(b=[],y=null,C=200,E="OK")}catch{c.status===404&&M===""?(C=204,E="No Content"):y={message:M}}if(y&&this.isMaybeSingle&&(!((g=y?.details)===null||g===void 0)&&g.includes("0 rows"))&&(y=null,C=200,E="OK"),y&&this.shouldThrowOnError)throw new n.default(y)}return{error:y,data:b,count:_,status:C,statusText:E}});return this.shouldThrowOnError||(l=l.catch(c=>{var f,p,g;return{error:{message:`${(f=c?.name)!==null&&f!==void 0?f:"FetchError"}: ${c?.message}`,details:`${(p=c?.stack)!==null&&p!==void 0?p:""}`,hint:"",code:`${(g=c?.code)!==null&&g!==void 0?g:""}`},data:null,count:null,status:0,statusText:""}})),l.then(s,o)}returns(){return this}overrideTypes(){return this}}return ld.default=r,ld}var Jk;function cN(){if(Jk)return ad;Jk=1;var e=ad&&ad.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ad,"__esModule",{value:!0});const t=e(uN());class n extends t.default{select(i){let s=!1;const o=(i??"*").split("").map(a=>/\s/.test(a)&&!s?"":(a==='"'&&(s=!s),a)).join("");return this.url.searchParams.set("select",o),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(i,{ascending:s=!0,nullsFirst:o,foreignTable:a,referencedTable:l=a}={}){const c=l?`${l}.order`:"order",f=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${f?`${f},`:""}${i}.${s?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:s,referencedTable:o=s}={}){const a=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(a,`${i}`),this}range(i,s,{foreignTable:o,referencedTable:a=o}={}){const l=typeof a>"u"?"offset":`${a}.offset`,c=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${i}`),this.url.searchParams.set(c,`${s-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:i=!1,verbose:s=!1,settings:o=!1,buffers:a=!1,wal:l=!1,format:c="text"}={}){var f;const p=[i?"analyze":null,s?"verbose":null,o?"settings":null,a?"buffers":null,l?"wal":null].filter(Boolean).join("|"),g=(f=this.headers.Accept)!==null&&f!==void 0?f:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${c}; for="${g}"; options=${p};`,c==="json"?this:this}rollback(){var i;return((i=this.headers.Prefer)!==null&&i!==void 0?i:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return ad.default=n,ad}var Zk;function nS(){if(Zk)return od;Zk=1;var e=od&&od.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(od,"__esModule",{value:!0});const t=e(cN());class n extends t.default{eq(i,s){return this.url.searchParams.append(i,`eq.${s}`),this}neq(i,s){return this.url.searchParams.append(i,`neq.${s}`),this}gt(i,s){return this.url.searchParams.append(i,`gt.${s}`),this}gte(i,s){return this.url.searchParams.append(i,`gte.${s}`),this}lt(i,s){return this.url.searchParams.append(i,`lt.${s}`),this}lte(i,s){return this.url.searchParams.append(i,`lte.${s}`),this}like(i,s){return this.url.searchParams.append(i,`like.${s}`),this}likeAllOf(i,s){return this.url.searchParams.append(i,`like(all).{${s.join(",")}}`),this}likeAnyOf(i,s){return this.url.searchParams.append(i,`like(any).{${s.join(",")}}`),this}ilike(i,s){return this.url.searchParams.append(i,`ilike.${s}`),this}ilikeAllOf(i,s){return this.url.searchParams.append(i,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(i,s){return this.url.searchParams.append(i,`ilike(any).{${s.join(",")}}`),this}is(i,s){return this.url.searchParams.append(i,`is.${s}`),this}in(i,s){const o=Array.from(new Set(s)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(i,`in.(${o})`),this}contains(i,s){return typeof s=="string"?this.url.searchParams.append(i,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(i,`cs.{${s.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(s)}`),this}containedBy(i,s){return typeof s=="string"?this.url.searchParams.append(i,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(i,`cd.{${s.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(s)}`),this}rangeGt(i,s){return this.url.searchParams.append(i,`sr.${s}`),this}rangeGte(i,s){return this.url.searchParams.append(i,`nxl.${s}`),this}rangeLt(i,s){return this.url.searchParams.append(i,`sl.${s}`),this}rangeLte(i,s){return this.url.searchParams.append(i,`nxr.${s}`),this}rangeAdjacent(i,s){return this.url.searchParams.append(i,`adj.${s}`),this}overlaps(i,s){return typeof s=="string"?this.url.searchParams.append(i,`ov.${s}`):this.url.searchParams.append(i,`ov.{${s.join(",")}}`),this}textSearch(i,s,{config:o,type:a}={}){let l="";a==="plain"?l="pl":a==="phrase"?l="ph":a==="websearch"&&(l="w");const c=o===void 0?"":`(${o})`;return this.url.searchParams.append(i,`${l}fts${c}.${s}`),this}match(i){return Object.entries(i).forEach(([s,o])=>{this.url.searchParams.append(s,`eq.${o}`)}),this}not(i,s,o){return this.url.searchParams.append(i,`not.${s}.${o}`),this}or(i,{foreignTable:s,referencedTable:o=s}={}){const a=o?`${o}.or`:"or";return this.url.searchParams.append(a,`(${i})`),this}filter(i,s,o){return this.url.searchParams.append(i,`${s}.${o}`),this}}return od.default=n,od}var e6;function dN(){if(e6)return sd;e6=1;var e=sd&&sd.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(sd,"__esModule",{value:!0});const t=e(nS());class n{constructor(i,{headers:s={},schema:o,fetch:a}){this.url=i,this.headers=s,this.schema=o,this.fetch=a}select(i,{head:s=!1,count:o}={}){const a=s?"HEAD":"GET";let l=!1;const c=(i??"*").split("").map(f=>/\s/.test(f)&&!l?"":(f==='"'&&(l=!l),f)).join("");return this.url.searchParams.set("select",c),o&&(this.headers.Prefer=`count=${o}`),new t.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(i,{count:s,defaultToNull:o=!0}={}){const a="POST",l=[];if(this.headers.Prefer&&l.push(this.headers.Prefer),s&&l.push(`count=${s}`),o||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(i)){const c=i.reduce((f,p)=>f.concat(Object.keys(p)),[]);if(c.length>0){const f=[...new Set(c)].map(p=>`"${p}"`);this.url.searchParams.set("columns",f.join(","))}}return new t.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}upsert(i,{onConflict:s,ignoreDuplicates:o=!1,count:a,defaultToNull:l=!0}={}){const c="POST",f=[`resolution=${o?"ignore":"merge"}-duplicates`];if(s!==void 0&&this.url.searchParams.set("on_conflict",s),this.headers.Prefer&&f.push(this.headers.Prefer),a&&f.push(`count=${a}`),l||f.push("missing=default"),this.headers.Prefer=f.join(","),Array.isArray(i)){const p=i.reduce((g,y)=>g.concat(Object.keys(y)),[]);if(p.length>0){const g=[...new Set(p)].map(y=>`"${y}"`);this.url.searchParams.set("columns",g.join(","))}}return new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}update(i,{count:s}={}){const o="PATCH",a=[];return this.headers.Prefer&&a.push(this.headers.Prefer),s&&a.push(`count=${s}`),this.headers.Prefer=a.join(","),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}delete({count:i}={}){const s="DELETE",o=[];return i&&o.push(`count=${i}`),this.headers.Prefer&&o.unshift(this.headers.Prefer),this.headers.Prefer=o.join(","),new t.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return sd.default=n,sd}var hh={},ph={},t6;function Hne(){return t6||(t6=1,Object.defineProperty(ph,"__esModule",{value:!0}),ph.version=void 0,ph.version="0.0.0-automated"),ph}var n6;function Wne(){if(n6)return hh;n6=1,Object.defineProperty(hh,"__esModule",{value:!0}),hh.DEFAULT_HEADERS=void 0;const e=Hne();return hh.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${e.version}`},hh}var r6;function Vne(){if(r6)return id;r6=1;var e=id&&id.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(id,"__esModule",{value:!0});const t=e(dN()),n=e(nS()),r=Wne();class i{constructor(o,{headers:a={},schema:l,fetch:c}={}){this.url=o,this.headers=Object.assign(Object.assign({},r.DEFAULT_HEADERS),a),this.schemaName=l,this.fetch=c}from(o){const a=new URL(`${this.url}/${o}`);return new t.default(a,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new i(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,a={},{head:l=!1,get:c=!1,count:f}={}){let p;const g=new URL(`${this.url}/rpc/${o}`);let y;l||c?(p=l?"HEAD":"GET",Object.entries(a).filter(([_,C])=>C!==void 0).map(([_,C])=>[_,Array.isArray(C)?`{${C.join(",")}}`:`${C}`]).forEach(([_,C])=>{g.searchParams.append(_,C)})):(p="POST",y=a);const b=Object.assign({},this.headers);return f&&(b.Prefer=`count=${f}`),new n.default({method:p,url:g,headers:b,schema:this.schemaName,body:y,fetch:this.fetch,allowEmpty:!1})}}return id.default=i,id}var i6;function qne(){if(i6)return Fr;i6=1;var e=Fr&&Fr.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(Fr,"__esModule",{value:!0}),Fr.PostgrestError=Fr.PostgrestBuilder=Fr.PostgrestTransformBuilder=Fr.PostgrestFilterBuilder=Fr.PostgrestQueryBuilder=Fr.PostgrestClient=void 0;const t=e(Vne());Fr.PostgrestClient=t.default;const n=e(dN());Fr.PostgrestQueryBuilder=n.default;const r=e(nS());Fr.PostgrestFilterBuilder=r.default;const i=e(cN());Fr.PostgrestTransformBuilder=i.default;const s=e(uN());Fr.PostgrestBuilder=s.default;const o=e(lN());return Fr.PostgrestError=o.default,Fr.default={PostgrestClient:t.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:s.default,PostgrestError:o.default},Fr}var Qne=qne();const Kne=qi(Qne),{PostgrestClient:Gne,PostgrestQueryBuilder:Bme,PostgrestFilterBuilder:zme,PostgrestTransformBuilder:$me,PostgrestBuilder:Ume,PostgrestError:Hme}=Kne;function Yne(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const Xne=Yne(),Jne="2.11.15",Zne=`realtime-js/${Jne}`,ere="1.0.0",fN=1e4,tre=1e3;var Uh;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Uh||(Uh={}));var ri;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(ri||(ri={}));var eo;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(eo||(eo={}));var Ww;(function(e){e.websocket="websocket"})(Ww||(Ww={}));var Ou;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Ou||(Ou={}));class nre{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const i=n.getUint8(1),s=n.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(t.slice(o,o+i));o=o+i;const l=r.decode(t.slice(o,o+s));o=o+s;const c=JSON.parse(r.decode(t.slice(o,t.byteLength)));return{ref:null,topic:a,event:l,payload:c}}}class hN{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var jn;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(jn||(jn={}));const s6=(e,t,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((s,o)=>(s[o]=rre(o,e,t,i),s),{})},rre=(e,t,n,r)=>{const i=t.find(a=>a.name===e),s=i?.type,o=n[e];return s&&!r.includes(s)?pN(s,o):Vw(o)},pN=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return are(t,n)}switch(e){case jn.bool:return ire(t);case jn.float4:case jn.float8:case jn.int2:case jn.int4:case jn.int8:case jn.numeric:case jn.oid:return sre(t);case jn.json:case jn.jsonb:return ore(t);case jn.timestamp:return lre(t);case jn.abstime:case jn.date:case jn.daterange:case jn.int4range:case jn.int8range:case jn.money:case jn.reltime:case jn.text:case jn.time:case jn.timestamptz:case jn.timetz:case jn.tsrange:case jn.tstzrange:return Vw(t);default:return Vw(t)}},Vw=e=>e,ire=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},sre=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},ore=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},are=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let s;const o=e.slice(1,n);try{s=JSON.parse("["+o+"]")}catch{s=o?o.split(","):[]}return s.map(a=>pN(t,a))}return e},lre=e=>typeof e=="string"?e.replace(" ","T"):e,mN=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Qx{constructor(t,n,r={},i=fN){this.channel=t,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var o6;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(o6||(o6={}));class Hh{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Hh.syncState(this.state,i,s,o),this.pendingDiffs.forEach(l=>{this.state=Hh.syncDiff(this.state,l,s,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},i=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Hh.syncDiff(this.state,i,s,o),a())}),this.onJoin((i,s,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:o})}),this.onLeave((i,s,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,i){const s=this.cloneDeep(t),o=this.transformState(n),a={},l={};return this.map(s,(c,f)=>{o[c]||(l[c]=f)}),this.map(o,(c,f)=>{const p=s[c];if(p){const g=f.map(C=>C.presence_ref),y=p.map(C=>C.presence_ref),b=f.filter(C=>y.indexOf(C.presence_ref)<0),_=p.filter(C=>g.indexOf(C.presence_ref)<0);b.length>0&&(a[c]=b),_.length>0&&(l[c]=_)}else a[c]=f}),this.syncDiff(s,{joins:a,leaves:l},r,i)}static syncDiff(t,n,r,i){const{joins:s,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(s,(a,l)=>{var c;const f=(c=t[a])!==null&&c!==void 0?c:[];if(t[a]=this.cloneDeep(l),f.length>0){const p=t[a].map(y=>y.presence_ref),g=f.filter(y=>p.indexOf(y.presence_ref)<0);t[a].unshift(...g)}r(a,f,l)}),this.map(o,(a,l)=>{let c=t[a];if(!c)return;const f=l.map(p=>p.presence_ref);c=c.filter(p=>f.indexOf(p.presence_ref)<0),t[a]=c,i(a,c,l),c.length===0&&delete t[a]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const i=t[r];return"metas"in i?n[r]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):n[r]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var a6;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(a6||(a6={}));var l6;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(l6||(l6={}));var ua;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(ua||(ua={}));class rS{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=ri.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Qx(this,eo.join,this.params,this.timeout),this.rejoinTimer=new hN(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ri.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ri.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=ri.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ri.errored,this.rejoinTimer.scheduleTimeout())}),this._on(eo.reply,{},(i,s)=>{this._trigger(this._replyEventName(s),i)}),this.presence=new Hh(this),this.broadcastEndpointURL=mN(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,i;if(this.socket.isConnected()||this.socket.connect(),this.state==ri.closed){const{config:{broadcast:s,presence:o,private:a}}=this.params;this._onError(f=>t?.(ua.CHANNEL_ERROR,f)),this._onClose(()=>t?.(ua.CLOSED));const l={},c={broadcast:s,presence:o,postgres_changes:(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(f=>f.filter))!==null&&i!==void 0?i:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},l)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:f})=>{var p;if(this.socket.setAuth(),f===void 0){t?.(ua.SUBSCRIBED);return}else{const g=this.bindings.postgres_changes,y=(p=g?.length)!==null&&p!==void 0?p:0,b=[];for(let _=0;_<y;_++){const C=g[_],{filter:{event:E,schema:R,table:M,filter:U}}=C,z=f&&f[_];if(z&&z.event===E&&z.schema===R&&z.table===M&&z.filter===U)b.push(Object.assign(Object.assign({},C),{id:z.id}));else{this.unsubscribe(),this.state=ri.errored,t?.(ua.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=b,t&&t(ua.SUBSCRIBED);return}}).receive("error",f=>{this.state=ri.errored,t?.(ua.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{t?.(ua.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this._on(t,n,r)}async send(t,n={}){var r,i;if(!this._canPush()&&t.type==="broadcast"){const{event:s,payload:o}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=c.body)===null||i===void 0?void 0:i.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var o,a,l;const c=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&s("ok"),c.receive("ok",()=>s("ok")),c.receive("error",()=>s("error")),c.receive("timeout",()=>s("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=ri.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(eo.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new Qx(this,eo.leave,{},t),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,n,r){const i=new AbortController,s=setTimeout(()=>i.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(s),o}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Qx(this,t,n,r);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var i,s;const o=t.toLocaleLowerCase(),{close:a,error:l,leave:c,join:f}=eo;if(r&&[a,l,c,f].indexOf(o)>=0&&r!==this._joinRef())return;let g=this._onMessage(o,n,r);if(n&&!g)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(y=>{var b,_,C;return((b=y.filter)===null||b===void 0?void 0:b.event)==="*"||((C=(_=y.filter)===null||_===void 0?void 0:_.event)===null||C===void 0?void 0:C.toLocaleLowerCase())===o}).map(y=>y.callback(g,r)):(s=this.bindings[o])===null||s===void 0||s.filter(y=>{var b,_,C,E,R,M;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in y){const U=y.id,z=(b=y.filter)===null||b===void 0?void 0:b.event;return U&&((_=n.ids)===null||_===void 0?void 0:_.includes(U))&&(z==="*"||z?.toLocaleLowerCase()===((C=n.data)===null||C===void 0?void 0:C.type.toLocaleLowerCase()))}else{const U=(R=(E=y?.filter)===null||E===void 0?void 0:E.event)===null||R===void 0?void 0:R.toLocaleLowerCase();return U==="*"||U===((M=n?.event)===null||M===void 0?void 0:M.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===o}).map(y=>{if(typeof g=="object"&&"ids"in g){const b=g.data,{schema:_,table:C,commit_timestamp:E,type:R,errors:M}=b;g=Object.assign(Object.assign({},{schema:_,table:C,commit_timestamp:E,eventType:R,new:{},old:{},errors:M}),this._getPayloadRecords(b))}y.callback(g,r)})}_isClosed(){return this.state===ri.closed}_isJoined(){return this.state===ri.joined}_isJoining(){return this.state===ri.joining}_isLeaving(){return this.state===ri.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const i=t.toLocaleLowerCase(),s={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===r&&rS.isEqual(i.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(eo.close,{},t)}_onError(t){this._on(eo.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ri.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=s6(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=s6(t.columns,t.old_record)),n}}const u6=()=>{},ure=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class cre{constructor(t,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=fN,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=u6,this.ref=0,this.logger=u6,this.conn=null,this.sendBuffer=[],this.serializer=new nre,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=s=>{let o;return s?o=s:typeof fetch>"u"?o=(...a)=>xp(async()=>{const{default:l}=await Promise.resolve().then(()=>gf);return{default:l}},void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${t}/${Ww.websocket}`,this.httpEndpoint=mN(t),n?.transport?this.transport=n.transport:this.transport=null,n?.params&&(this.params=n.params),n?.timeout&&(this.timeout=n.timeout),n?.logger&&(this.logger=n.logger),(n?.logLevel||n?.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),n?.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const i=(r=n?.params)===null||r===void 0?void 0:r.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=n?.reconnectAfterMs?n.reconnectAfterMs:s=>[1e3,2e3,5e3,1e4][s-1]||1e4,this.encode=n?.encode?n.encode:(s,o)=>o(JSON.stringify(s)),this.decode=n?.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new hN(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n?.fetch),n?.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=n?.worker||!1,this.workerUrl=n?.workerUrl}this.accessToken=n?.accessToken||null}connect(){if(!this.conn){if(this.transport||(this.transport=Xne),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:ere}))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Uh.connecting:return Ou.Connecting;case Uh.open:return Ou.Open;case Uh.closing:return Ou.Closing;default:return Ou.Closed}}isConnected(){return this.connectionState()===Ou.Open}channel(t,n={config:{}}){const r=`realtime:${t}`,i=this.getChannels().find(s=>s.topic===r);if(i)return i;{const s=new rS(`realtime:${t}`,n,this);return this.channels.push(s),s}}push(t){const{topic:n,event:r,payload:i,ref:s}=t,o=()=>{this.encode(t,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${r} (${s})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let n=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const i={access_token:n,version:Zne};n&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(eo.access_token,{access_token:n})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(tre,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:r,event:i,payload:s,ref:o}=n;r==="phoenix"&&i==="phx_reply"&&this.heartbeatCallback(n.payload.status=="ok"?"ok":"error"),o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${s.status||""} ${r} ${i} ${o&&"("+o+")"||""}`,s),Array.from(this.channels).filter(a=>a._isMember(r)).forEach(a=>a._trigger(i,s,o)),this.stateChangeCallbacks.message.forEach(a=>a(n))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(t=>t())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",`${t}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(eo.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${r}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([ure],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class iS extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function zr(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class dre extends iS{constructor(t,n,r){super(t),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class qw extends iS{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var fre=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(f){try{c(r.next(f))}catch(p){o(p)}}function l(f){try{c(r.throw(f))}catch(p){o(p)}}function c(f){f.done?s(f.value):i(f.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};const gN=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>xp(async()=>{const{default:r}=await Promise.resolve().then(()=>gf);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},hre=()=>fre(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield xp(()=>Promise.resolve().then(()=>gf),void 0)).Response:Response}),Qw=e=>{if(Array.isArray(e))return e.map(n=>Qw(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));t[i]=Qw(r)}),t},pre=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var mc=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(f){try{c(r.next(f))}catch(p){o(p)}}function l(f){try{c(r.throw(f))}catch(p){o(p)}}function c(f){f.done?s(f.value):i(f.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};const Kx=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),mre=(e,t,n)=>mc(void 0,void 0,void 0,function*(){const r=yield hre();e instanceof r&&!n?.noResolveJson?e.json().then(i=>{const s=e.status||500,o=i?.statusCode||s+"";t(new dre(Kx(i),s,o))}).catch(i=>{t(new qw(Kx(i),i))}):t(new qw(Kx(e),e))}),gre=(e,t,n,r)=>{const i={method:e,headers:t?.headers||{}};return e==="GET"||!r?i:(pre(r)?(i.headers=Object.assign({"Content-Type":"application/json"},t?.headers),i.body=JSON.stringify(r)):i.body=r,Object.assign(Object.assign({},i),n))};function Hp(e,t,n,r,i,s){return mc(this,void 0,void 0,function*(){return new Promise((o,a)=>{e(n,gre(t,r,i,s)).then(l=>{if(!l.ok)throw l;return r?.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>mre(l,a,r))})})}function oy(e,t,n,r){return mc(this,void 0,void 0,function*(){return Hp(e,"GET",t,n,r)})}function ca(e,t,n,r,i){return mc(this,void 0,void 0,function*(){return Hp(e,"POST",t,r,i,n)})}function Kw(e,t,n,r,i){return mc(this,void 0,void 0,function*(){return Hp(e,"PUT",t,r,i,n)})}function yre(e,t,n,r){return mc(this,void 0,void 0,function*(){return Hp(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function yN(e,t,n,r,i){return mc(this,void 0,void 0,function*(){return Hp(e,"DELETE",t,r,i,n)})}var Ai=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(f){try{c(r.next(f))}catch(p){o(p)}}function l(f){try{c(r.throw(f))}catch(p){o(p)}}function c(f){f.done?s(f.value):i(f.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};const vre={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},c6={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class xre{constructor(t,n={},r,i){this.url=t,this.headers=n,this.bucketId=r,this.fetch=gN(i)}uploadOrUpdate(t,n,r,i){return Ai(this,void 0,void 0,function*(){try{let s;const o=Object.assign(Object.assign({},c6),i);let a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(s=new FormData,s.append("cacheControl",o.cacheControl),l&&s.append("metadata",this.encodeMetadata(l)),s.append("",r)):typeof FormData<"u"&&r instanceof FormData?(s=r,s.append("cacheControl",o.cacheControl),l&&s.append("metadata",this.encodeMetadata(l))):(s=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),i?.headers&&(a=Object.assign(Object.assign({},a),i.headers));const c=this._removeEmptyFolders(n),f=this._getFinalPath(c),p=yield(t=="PUT"?Kw:ca)(this.fetch,`${this.url}/object/${f}`,s,Object.assign({headers:a},o?.duplex?{duplex:o.duplex}:{}));return{data:{path:c,id:p.Id,fullPath:p.Key},error:null}}catch(s){if(zr(s))return{data:null,error:s};throw s}})}upload(t,n,r){return Ai(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,i){return Ai(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(t),o=this._getFinalPath(s),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",n);try{let l;const c=Object.assign({upsert:c6.upsert},i),f=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl)):(l=r,f["cache-control"]=`max-age=${c.cacheControl}`,f["content-type"]=c.contentType);const p=yield Kw(this.fetch,a.toString(),l,{headers:f});return{data:{path:s,fullPath:p.Key},error:null}}catch(l){if(zr(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,n){return Ai(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const i=Object.assign({},this.headers);n?.upsert&&(i["x-upsert"]="true");const s=yield ca(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),o=new URL(this.url+s.url),a=o.searchParams.get("token");if(!a)throw new iS("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:a},error:null}}catch(r){if(zr(r))return{data:null,error:r};throw r}})}update(t,n,r){return Ai(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return Ai(this,void 0,void 0,function*(){try{return{data:yield ca(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(zr(i))return{data:null,error:i};throw i}})}copy(t,n,r){return Ai(this,void 0,void 0,function*(){try{return{data:{path:(yield ca(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(zr(i))return{data:null,error:i};throw i}})}createSignedUrl(t,n,r){return Ai(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),s=yield ca(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r?.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r?.download?`&download=${r.download===!0?"":r.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${o}`)},{data:s,error:null}}catch(i){if(zr(i))return{data:null,error:i};throw i}})}createSignedUrls(t,n,r){return Ai(this,void 0,void 0,function*(){try{const i=yield ca(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),s=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${s}`):null})),error:null}}catch(i){if(zr(i))return{data:null,error:i};throw i}})}download(t,n){return Ai(this,void 0,void 0,function*(){const i=typeof n?.transform<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString(n?.transform||{}),o=s?`?${s}`:"";try{const a=this._getFinalPath(t);return{data:yield(yield oy(this.fetch,`${this.url}/${i}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(zr(a))return{data:null,error:a};throw a}})}info(t){return Ai(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield oy(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Qw(r),error:null}}catch(r){if(zr(r))return{data:null,error:r};throw r}})}exists(t){return Ai(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield yre(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(zr(r)&&r instanceof qw){const i=r.originalError;if([400,404].includes(i?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),i=[],s=n?.download?`download=${n.download===!0?"":n.download}`:"";s!==""&&i.push(s);const a=typeof n?.transform<"u"?"render/image":"object",l=this.transformOptsToQueryString(n?.transform||{});l!==""&&i.push(l);let c=i.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${c}`)}}}remove(t){return Ai(this,void 0,void 0,function*(){try{return{data:yield yN(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(zr(n))return{data:null,error:n};throw n}})}list(t,n,r){return Ai(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},vre),n),{prefix:t||""});return{data:yield ca(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(zr(i))return{data:null,error:i};throw i}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const bre="2.10.4",wre={"X-Client-Info":`storage-js/${bre}`};var ud=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(f){try{c(r.next(f))}catch(p){o(p)}}function l(f){try{c(r.throw(f))}catch(p){o(p)}}function c(f){f.done?s(f.value):i(f.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};class _re{constructor(t,n={},r,i){const s=new URL(t);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href,this.headers=Object.assign(Object.assign({},wre),n),this.fetch=gN(r)}listBuckets(){return ud(this,void 0,void 0,function*(){try{return{data:yield oy(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(zr(t))return{data:null,error:t};throw t}})}getBucket(t){return ud(this,void 0,void 0,function*(){try{return{data:yield oy(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(zr(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return ud(this,void 0,void 0,function*(){try{return{data:yield ca(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(zr(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return ud(this,void 0,void 0,function*(){try{return{data:yield Kw(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(zr(r))return{data:null,error:r};throw r}})}emptyBucket(t){return ud(this,void 0,void 0,function*(){try{return{data:yield ca(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(zr(n))return{data:null,error:n};throw n}})}deleteBucket(t){return ud(this,void 0,void 0,function*(){try{return{data:yield yN(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(zr(n))return{data:null,error:n};throw n}})}}class Sre extends _re{constructor(t,n={},r,i){super(t,n,r,i)}from(t){return new xre(this.url,this.headers,t,this.fetch)}}const Cre="2.53.0";let Ih="";typeof Deno<"u"?Ih="deno":typeof document<"u"?Ih="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ih="react-native":Ih="node";const Ere={"X-Client-Info":`supabase-js-${Ih}/${Cre}`},kre={headers:Ere},Tre={schema:"public"},jre={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Ire={};var Nre=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(f){try{c(r.next(f))}catch(p){o(p)}}function l(f){try{c(r.throw(f))}catch(p){o(p)}}function c(f){f.done?s(f.value):i(f.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};const Rre=e=>{let t;return e?t=e:typeof fetch>"u"?t=oN:t=fetch,(...n)=>t(...n)},Pre=()=>typeof Headers>"u"?aN:Headers,Ore=(e,t,n)=>{const r=Rre(n),i=Pre();return(s,o)=>Nre(void 0,void 0,void 0,function*(){var a;const l=(a=yield t())!==null&&a!==void 0?a:e;let c=new i(o?.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),r(s,Object.assign(Object.assign({},o),{headers:c}))})};var Mre=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(f){try{c(r.next(f))}catch(p){o(p)}}function l(f){try{c(r.throw(f))}catch(p){o(p)}}function c(f){f.done?s(f.value):i(f.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};function Are(e){return e.endsWith("/")?e:e+"/"}function Dre(e,t){var n,r;const{db:i,auth:s,realtime:o,global:a}=e,{db:l,auth:c,realtime:f,global:p}=t,g={db:Object.assign(Object.assign({},l),i),auth:Object.assign(Object.assign({},c),s),realtime:Object.assign(Object.assign({},f),o),storage:{},global:Object.assign(Object.assign(Object.assign({},p),a),{headers:Object.assign(Object.assign({},(n=p?.headers)!==null&&n!==void 0?n:{}),(r=a?.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>Mre(this,void 0,void 0,function*(){return""})};return e.accessToken?g.accessToken=e.accessToken:delete g.accessToken,g}const vN="2.71.1",_d=30*1e3,Gw=3,Gx=Gw*_d,Lre="http://localhost:9999",Fre="supabase.auth.token",Bre={"X-Client-Info":`gotrue-js/${vN}`},Yw="X-Supabase-Api-Version",xN={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},zre=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,$re=600*1e3;class sS extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function Mt(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Ure extends sS{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function Hre(e){return Mt(e)&&e.name==="AuthApiError"}class bN extends sS{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Wl extends sS{constructor(t,n,r,i){super(t,r,i),this.name=n,this.status=r}}class sl extends Wl{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Wre(e){return Mt(e)&&e.name==="AuthSessionMissingError"}class zg extends Wl{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class $g extends Wl{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Ug extends Wl{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Vre(e){return Mt(e)&&e.name==="AuthImplicitGrantRedirectError"}class d6 extends Wl{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Xw extends Wl{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function Yx(e){return Mt(e)&&e.name==="AuthRetryableFetchError"}class f6 extends Wl{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Jw extends Wl{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const ay="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),h6=` 	
\r=`.split(""),qre=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<h6.length;t+=1)e[h6[t].charCodeAt(0)]=-2;for(let t=0;t<ay.length;t+=1)e[ay[t].charCodeAt(0)]=t;return e})();function p6(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(ay[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(ay[r]),t.queuedBits-=6}}function wN(e,t,n){const r=qre[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function m6(e){const t=[],n=o=>{t.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=o=>{Gre(o,r,n)};for(let o=0;o<e.length;o+=1)wN(e.charCodeAt(o),i,s);return t.join("")}function Qre(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function Kre(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}Qre(r,t)}}function Gre(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if((e>>7-r&1)===0){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function Yre(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)wN(e.charCodeAt(i),n,r);return new Uint8Array(t)}function Xre(e){const t=[];return Kre(e,n=>t.push(n)),new Uint8Array(t)}function Jre(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};return e.forEach(i=>p6(i,n,r)),p6(null,n,r),t.join("")}function Zre(e){return Math.round(Date.now()/1e3)+e}function eie(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Js=()=>typeof window<"u"&&typeof document<"u",Eu={tested:!1,writable:!1},_N=()=>{if(!Js())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Eu.tested)return Eu.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Eu.tested=!0,Eu.writable=!0}catch{Eu.tested=!0,Eu.writable=!1}return Eu.writable};function tie(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,s)=>{t[s]=i})}catch{}return n.searchParams.forEach((r,i)=>{t[i]=r}),t}const SN=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>xp(async()=>{const{default:r}=await Promise.resolve().then(()=>gf);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},nie=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Sd=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},ku=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},rl=async(e,t)=>{await e.removeItem(t)};class f1{constructor(){this.promise=new f1.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}f1.promiseConstructor=Promise;function Xx(e){const t=e.split(".");if(t.length!==3)throw new Jw("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!zre.test(t[r]))throw new Jw("JWT not in base64url format");return{header:JSON.parse(m6(t[0])),payload:JSON.parse(m6(t[1])),signature:Yre(t[2]),raw:{header:t[0],payload:t[1]}}}async function rie(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function iie(e,t){return new Promise((r,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const o=await e(s);if(!t(s,null,o)){r(o);return}}catch(o){if(!t(s,o)){i(o);return}}})()})}function sie(e){return("0"+e.toString(16)).substr(-2)}function oie(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let s=0;s<56;s++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,sie).join("")}async function aie(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function lie(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await aie(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function cd(e,t,n=!1){const r=oie();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await Sd(e,`${t}-code-verifier`,i);const s=await lie(r);return[s,r===s?"plain":"s256"]}const uie=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function cie(e){const t=e.headers.get(Yw);if(!t||!t.match(uie))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function die(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function fie(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const hie=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function dd(e){if(!hie.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Jx(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function g6(e){return JSON.parse(JSON.stringify(e))}var pie=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const Pu=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),mie=[502,503,504];async function y6(e){var t;if(!nie(e))throw new Xw(Pu(e),0);if(mie.includes(e.status))throw new Xw(Pu(e),e.status);let n;try{n=await e.json()}catch(s){throw new bN(Pu(s),s)}let r;const i=cie(e);if(i&&i.getTime()>=xN["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new f6(Pu(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new sl}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((s,o)=>s&&typeof o=="string",!0))throw new f6(Pu(n),e.status,n.weak_password.reasons);throw new Ure(Pu(n),e.status||500,r)}const gie=(e,t,n,r)=>{const i={method:e,headers:t?.headers||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function Yt(e,t,n,r){var i;const s=Object.assign({},r?.headers);s[Yw]||(s[Yw]=xN["2024-01-01"].name),r?.jwt&&(s.Authorization=`Bearer ${r.jwt}`);const o=(i=r?.query)!==null&&i!==void 0?i:{};r?.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await yie(e,t,n+a,{headers:s,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(l):{data:Object.assign({},l),error:null}}async function yie(e,t,n,r,i,s){const o=gie(t,r,i,s);let a;try{a=await e(n,Object.assign({},o))}catch(l){throw console.error(l),new Xw(Pu(l),0)}if(a.ok||await y6(a),r?.noResolveJson)return a;try{return await a.json()}catch(l){await y6(l)}}function oa(e){var t;let n=null;wie(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=Zre(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function v6(e){const t=oa(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function hl(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function vie(e){return{data:e,error:null}}function xie(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s}=e,o=pie(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function bie(e){return e}function wie(e){return e.access_token&&e.refresh_token&&e.expires_in}const Zx=["global","local","others"];var _ie=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};class Sie{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=SN(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n=Zx[0]){if(Zx.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Zx.join(", ")}`);try{return await Yt(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Mt(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await Yt(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:hl})}catch(r){if(Mt(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=_ie(t,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r?.newEmail,delete i.newEmail),await Yt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:xie,redirectTo:n?.redirectTo})}catch(n){if(Mt(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await Yt(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:hl})}catch(n){if(Mt(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,i,s,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},f=await Yt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(s=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:bie});if(f.error)throw f.error;const p=await f.json(),g=(o=f.headers.get("x-total-count"))!==null&&o!==void 0?o:0,y=(l=(a=f.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return y.length>0&&(y.forEach(b=>{const _=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(b.split(";")[1].split("=")[1]);c[`${C}Page`]=_}),c.total=parseInt(g)),{data:Object.assign(Object.assign({},p),c),error:null}}catch(c){if(Mt(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){dd(t);try{return await Yt(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:hl})}catch(n){if(Mt(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){dd(t);try{return await Yt(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:hl})}catch(r){if(Mt(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){dd(t);try{return await Yt(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:hl})}catch(r){if(Mt(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){dd(t.userId);try{const{data:n,error:r}=await Yt(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(Mt(n))return{data:null,error:n};throw n}}async _deleteFactor(t){dd(t.userId),dd(t.id);try{return{data:await Yt(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(Mt(n))return{data:null,error:n};throw n}}}function x6(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function Cie(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const fd={debug:!!(globalThis&&_N()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class CN extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Eie extends CN{}async function kie(e,t,n){fd.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),fd.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){fd.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await n()}finally{fd.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw fd.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Eie(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(fd.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}Cie();const Tie={url:Lre,storageKey:Fre,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Bre,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function b6(e,t,n){return await n()}const hd={};class pp{constructor(t){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=pp.nextInstanceID,pp.nextInstanceID+=1,this.instanceID>0&&Js()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},Tie),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new Sie({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=SN(i.fetch),this.lock=i.lock||b6,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:Js()&&(!((n=globalThis?.navigator)===null||n===void 0)&&n.locks)?this.lock=kie:this.lock=b6,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:_N()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=x6(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=x6(this.memoryStorage)),Js()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}get jwks(){var t,n;return(n=(t=hd[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){hd[this.storageKey]=Object.assign(Object.assign({},hd[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=hd[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){hd[this.storageKey]=Object.assign(Object.assign({},hd[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${vN}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=tie(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Js()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:s}=await this._getSessionFromURL(n,r);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),Vre(s)){const l=(t=s.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:o,redirectType:a}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Mt(n)?{error:n}:{error:new bN("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,i;try{const s=await Yt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t?.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=t?.options)===null||i===void 0?void 0:i.captchaToken}},xform:oa}),{data:o,error:a}=s;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(Mt(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(t){var n,r,i;try{let s;if("email"in t){const{email:f,password:p,options:g}=t;let y=null,b=null;this.flowType==="pkce"&&([y,b]=await cd(this.storage,this.storageKey)),s=await Yt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:g?.emailRedirectTo,body:{email:f,password:p,data:(n=g?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:g?.captchaToken},code_challenge:y,code_challenge_method:b},xform:oa})}else if("phone"in t){const{phone:f,password:p,options:g}=t;s=await Yt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:f,password:p,data:(r=g?.data)!==null&&r!==void 0?r:{},channel:(i=g?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:g?.captchaToken}},xform:oa})}else throw new $g("You must provide either an email or phone number and a password");const{data:o,error:a}=s;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(Mt(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(t){try{let n;if("email"in t){const{email:s,password:o,options:a}=t;n=await Yt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:o,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:v6})}else if("phone"in t){const{phone:s,password:o,options:a}=t;n=await Yt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:o,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:v6})}else throw new $g("You must provide either an email or phone number and a password");const{data:r,error:i}=n;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new zg}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(Mt(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,i,s;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;if(n==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(t){var n,r,i,s,o,a,l,c,f,p,g,y;let b,_;if("message"in t)b=t.message,_=t.signature;else{const{chain:C,wallet:E,statement:R,options:M}=t;let U;if(Js())if(typeof E=="object")U=E;else{const P=window;if("solana"in P&&typeof P.solana=="object"&&("signIn"in P.solana&&typeof P.solana.signIn=="function"||"signMessage"in P.solana&&typeof P.solana.signMessage=="function"))U=P.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof E!="object"||!M?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");U=E}const z=new URL((n=M?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in U&&U.signIn){const P=await U.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},M?.signInWithSolana),{version:"1",domain:z.host,uri:z.href}),R?{statement:R}:null));let N;if(Array.isArray(P)&&P[0]&&typeof P[0]=="object")N=P[0];else if(P&&typeof P=="object"&&"signedMessage"in P&&"signature"in P)N=P;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in N&&"signature"in N&&(typeof N.signedMessage=="string"||N.signedMessage instanceof Uint8Array)&&N.signature instanceof Uint8Array)b=typeof N.signedMessage=="string"?N.signedMessage:new TextDecoder().decode(N.signedMessage),_=N.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in U)||typeof U.signMessage!="function"||!("publicKey"in U)||typeof U!="object"||!U.publicKey||!("toBase58"in U.publicKey)||typeof U.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");b=[`${z.host} wants you to sign in with your Solana account:`,U.publicKey.toBase58(),...R?["",R,""]:[""],"Version: 1",`URI: ${z.href}`,`Issued At: ${(i=(r=M?.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=M?.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${M.signInWithSolana.notBefore}`]:[],...!((o=M?.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${M.signInWithSolana.expirationTime}`]:[],...!((a=M?.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${M.signInWithSolana.chainId}`]:[],...!((l=M?.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${M.signInWithSolana.nonce}`]:[],...!((c=M?.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${M.signInWithSolana.requestId}`]:[],...!((p=(f=M?.signInWithSolana)===null||f===void 0?void 0:f.resources)===null||p===void 0)&&p.length?["Resources",...M.signInWithSolana.resources.map(N=>`- ${N}`)]:[]].join(`
`);const P=await U.signMessage(new TextEncoder().encode(b),"utf8");if(!P||!(P instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");_=P}}try{const{data:C,error:E}=await Yt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:b,signature:Jre(_)},!((g=t.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(y=t.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:oa});if(E)throw E;return!C||!C.session||!C.user?{data:{user:null,session:null},error:new zg}:(C.session&&(await this._saveSession(C.session),await this._notifyAllSubscribers("SIGNED_IN",C.session)),{data:Object.assign({},C),error:E})}catch(C){if(Mt(C))return{data:{user:null,session:null},error:C};throw C}}async _exchangeCodeForSession(t){const n=await ku(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:s,error:o}=await Yt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:oa});if(await rl(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new zg}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:o})}catch(s){if(Mt(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(t){try{const{options:n,provider:r,token:i,access_token:s,nonce:o}=t,a=await Yt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:s,nonce:o,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:oa}),{data:l,error:c}=a;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new zg}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(n){if(Mt(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,i,s,o;try{if("email"in t){const{email:a,options:l}=t;let c=null,f=null;this.flowType==="pkce"&&([c,f]=await cd(this.storage,this.storageKey));const{error:p}=await Yt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l?.data)!==null&&n!==void 0?n:{},create_user:(r=l?.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},code_challenge:c,code_challenge_method:f},redirectTo:l?.emailRedirectTo});return{data:{user:null,session:null},error:p}}if("phone"in t){const{phone:a,options:l}=t,{data:c,error:f}=await Yt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(i=l?.data)!==null&&i!==void 0?i:{},create_user:(s=l?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},channel:(o=l?.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c?.message_id},error:f}}throw new $g("You must provide either an email or phone number.")}catch(a){if(Mt(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(t){var n,r;try{let i,s;"options"in t&&(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo,s=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await Yt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:oa});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l?.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(Mt(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var n,r,i;try{let s=null,o=null;return this.flowType==="pkce"&&([s,o]=await cd(this.storage,this.storageKey)),await Yt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=t?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:o}),headers:this.headers,xform:vie})}catch(s){if(Mt(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new sl;const{error:i}=await Yt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(Mt(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:i,options:s}=t,{error:o}=await Yt(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:s?.captchaToken}},redirectTo:s?.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:r,type:i,options:s}=t,{data:o,error:a}=await Yt(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:s?.captchaToken}}});return{data:{user:null,session:null,messageId:o?.message_id},error:a}}throw new $g("You must provide either an email or phone number and a type")}catch(n){if(Mt(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await ku(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<Gx:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const o=await ku(this.userStorage,this.storageKey+"-user");o?.user?t.user=o.user:t.user=Jx()}if(this.storage.isServer&&t.user){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,c,f)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,f))})}return{data:{session:t},error:null}}const{session:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Yt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:hl}):await this._useSession(async n=>{var r,i,s;const{data:o,error:a}=n;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new sl}:await Yt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:hl})})}catch(n){if(Mt(n))return Wre(n)&&(await this._removeSession(),await rl(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:i,error:s}=r;if(s)throw s;if(!i.session)throw new sl;const o=i.session;let a=null,l=null;this.flowType==="pkce"&&t.email!=null&&([a,l]=await cd(this.storage,this.storageKey));const{data:c,error:f}=await Yt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:hl});if(f)throw f;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(Mt(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new sl;const n=Date.now()/1e3;let r=n,i=!0,s=null;const{payload:o}=Xx(t.access_token);if(o.exp&&(r=o.exp,i=r<=n),i){const{session:a,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};s=a}else{const{data:a,error:l}=await this._getUser(t.access_token);if(l)throw l;s={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(n){if(Mt(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:o,error:a}=n;if(a)throw a;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!t?.refresh_token)throw new sl;const{session:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(Mt(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!Js())throw new Ug("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Ug(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new d6("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ug("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new d6("No code detected.");const{data:R,error:M}=await this._exchangeCodeForSession(t.code);if(M)throw M;const U=new URL(window.location.href);return U.searchParams.delete("code"),window.history.replaceState(window.history.state,"",U.toString()),{data:{session:R.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:s,refresh_token:o,expires_in:a,expires_at:l,token_type:c}=t;if(!s||!a||!o||!c)throw new Ug("No session defined in URL");const f=Math.round(Date.now()/1e3),p=parseInt(a);let g=f+p;l&&(g=parseInt(l));const y=g-f;y*1e3<=_d&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${p}s`);const b=g-p;f-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,g,f):f-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,g,f);const{data:_,error:C}=await this._getUser(s);if(C)throw C;const E={provider_token:r,provider_refresh_token:i,access_token:s,expires_in:p,expires_at:g,refresh_token:o,token_type:c,user:_.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:E,redirectType:t.type},error:null}}catch(r){if(Mt(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await ku(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{error:s};const o=(r=i.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,t);if(a&&!(Hre(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return t!=="others"&&(await this._removeSession(),await rl(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=eie(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,i;try{const{data:{session:s},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}})}async resetPasswordForEmail(t,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await cd(this.storage,this.storageKey,!0));try{return await Yt(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(s){if(Mt(s))return{data:null,error:s};throw s}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(Mt(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:i}=await this._useSession(async s=>{var o,a,l,c,f;const{data:p,error:g}=s;if(g)throw g;const y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await Yt(this.fetch,"GET",y,{headers:this.headers,jwt:(f=(c=p.session)===null||c===void 0?void 0:c.access_token)!==null&&f!==void 0?f:void 0})});if(i)throw i;return Js()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r?.url),{data:{provider:t.provider,url:r?.url},error:null}}catch(r){if(Mt(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,i;const{data:s,error:o}=n;if(o)throw o;return await Yt(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(r=s.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(Mt(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await iie(async i=>(i>0&&await rie(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await Yt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:oa})),(i,s)=>{const o=200*Math.pow(2,i);return s&&Yx(s)&&Date.now()+o-r<_d})}catch(r){if(this._debug(n,"error",r),Mt(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),Js()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await ku(this.storage,this.storageKey);if(i&&this.userStorage){let o=await ku(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await Sd(this.userStorage,this.storageKey+"-user",o)),i.user=(t=o?.user)!==null&&t!==void 0?t:Jx()}else if(i&&!i.user&&!i.user){const o=await ku(this.storage,this.storageKey+"-user");o&&o?.user?(i.user=o.user,await rl(this.storage,this.storageKey+"-user"),await Sd(this.storage,this.storageKey,i)):i.user=Jx()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const s=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Gx;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${Gx}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),Yx(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(i.access_token);!a&&o?.user?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new sl;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new f1;const{data:s,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!s.session)throw new sl;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const a={session:s.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(s){if(this._debug(i,"error",s),Mt(s)){const o={session:null,error:s};return Yx(s)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,n,r=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const s=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,n)}catch(l){s.push(l)}});if(await Promise.all(o),s.length>0){for(let a=0;a<s.length;a+=1)console.error(s[a]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Sd(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const s=g6(i);await Sd(this.storage,this.storageKey,s)}else{const i=g6(n);await Sd(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await rl(this.storage,this.storageKey),await rl(this.storage,this.storageKey+"-code-verifier"),await rl(this.storage,this.storageKey+"-user"),this.userStorage&&await rl(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Js()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),_d);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-t)/_d);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${_d}ms, refresh threshold is ${Gw} ticks`),i<=Gw&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof CN)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Js()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r?.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[s,o]=await cd(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(a.toString())}if(r?.queryParams){const s=new URLSearchParams(r.queryParams);i.push(s.toString())}return r?.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;return s?{data:null,error:s}:await Yt(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Mt(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,i;const{data:s,error:o}=n;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:l,error:c}=await Yt(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=s?.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(t.factorType==="totp"&&(!((i=l?.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(Mt(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{data:null,error:s};const{data:o,error:a}=await Yt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(n){if(Mt(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;return s?{data:null,error:s}:await Yt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Mt(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=t?.factors||[],i=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),s=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:i,phone:s},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:i},error:s}=t;if(s)return{data:null,error:s};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Xx(i.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((r=(n=i.user.factors)===null||n===void 0?void 0:n.filter(p=>p.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const f=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:f},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(a=>a.kid===t);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(a=>a.kid===t),r&&this.jwks_cached_at+$re>i)return r;const{data:s,error:o}=await Yt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,r=s.keys.find(a=>a.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:y,error:b}=await this.getSession();if(b||!y.session)return{data:null,error:b};r=y.session.access_token}const{header:i,payload:s,signature:o,raw:{header:a,payload:l}}=Xx(r);n?.allowExpired||die(s.exp);const c=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!c){const{error:y}=await this.getUser(r);if(y)throw y;return{data:{claims:s,header:i,signature:o},error:null}}const f=fie(i.alg),p=await crypto.subtle.importKey("jwk",c,f,!0,["verify"]);if(!await crypto.subtle.verify(f,p,o,Xre(`${a}.${l}`)))throw new Jw("Invalid JWT signature");return{data:{claims:s,header:i,signature:o},error:null}}catch(r){if(Mt(r))return{data:null,error:r};throw r}}}pp.nextInstanceID=0;const jie=pp;class Iie extends jie{constructor(t){super(t)}}var Nie=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(f){try{c(r.next(f))}catch(p){o(p)}}function l(f){try{c(r.throw(f))}catch(p){o(p)}}function c(f){f.done?s(f.value):i(f.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};class Rie{constructor(t,n,r){var i,s,o;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const a=Are(t),l=new URL(a);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,f={db:Tre,realtime:Ire,auth:Object.assign(Object.assign({},jre),{storageKey:c}),global:kre},p=Dre(r??{},f);this.storageKey=(i=p.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=p.global.headers)!==null&&s!==void 0?s:{},p.accessToken?(this.accessToken=p.accessToken,this.auth=new Proxy({},{get:(g,y)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(y)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=p.auth)!==null&&o!==void 0?o:{},this.headers,p.global.fetch),this.fetch=Ore(n,this._getAccessToken.bind(this),p.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},p.realtime)),this.rest=new Gne(new URL("rest/v1",l).href,{headers:this.headers,schema:p.db.schema,fetch:this.fetch}),this.storage=new Sre(this.storageUrl.href,this.headers,this.fetch,r?.storage),p.accessToken||this._listenForAuthEvents()}get functions(){return new Lne(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return Nie(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,storageKey:s,flowType:o,lock:a,debug:l},c,f){const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Iie({url:this.authUrl.href,headers:Object.assign(Object.assign({},p),c),storageKey:s,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,flowType:o,lock:a,debug:l,fetch:f,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new cre(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r?.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Pie=(e,t,n)=>new Rie(e,t,n);function Oie(){if(typeof window<"u"||typeof process>"u"||process.version===void 0||process.version===null)return!1;const e=process.version.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}Oie()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");function w6(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var pd=[..."".normalize("NFD")].map(e=>e.charCodeAt(0)),_6=44032,Mie=55203,eb=28,S6=21,Zw={"":"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},e2={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Aie=["","","","","","","","","","","","","","","","","","",""],Die=Object.values(e2),Lie=["","","","","","","","","","","","","","","","","","","","","","","","","","","",""].map(e=>Zw[e]);function Fie(e){const t=e.charCodeAt(0);if(!(_6<=t&&t<=Mie))return;const r=t-_6,i=r%eb,s=(r-i)/eb%S6,o=Math.floor((r-i)/eb/S6);return{choseong:Aie[o],jungseong:Die[s],jongseong:Lie[i]}}function Bie(e){const t=[];for(const n of e){const r=Fie(n);if(r!=null){t.push([...r.choseong,...r.jungseong,...r.jongseong]);continue}if(w6(Zw,n)){const i=Zw[n];t.push([...i]);continue}if(w6(e2,n)){const i=e2[n];t.push([...i]);continue}t.push([n])}return t}function Zd(e){return Bie(e).reduce((t,n)=>`${t}${n.join("")}`,"")}var ly={START_CHOSEONG:pd[0],START_JUNGSEONG:pd[1],START_JONGSEONG:pd[2],END_CHOSEONG:pd[3],END_JUNGSEONG:pd[4],END_JONGSEONG:pd[5]};new RegExp(`[^\\u${ly.START_CHOSEONG.toString(16)}-\\u${ly.END_CHOSEONG.toString(16)}-\\s]+`,"ug");new RegExp(`[\\u${ly.START_CHOSEONG.toString(16)}-\\u${ly.END_CHOSEONG.toString(16)}]`,"g");const zie=Pie("https://jvbtsubxzytnjnzxmtbg.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imp2YnRzdWJ4enl0bmpuenhtdGJnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQyMzMyMzgsImV4cCI6MjA2OTgwOTIzOH0.uUpg4kO7-uLmswUo8Dp_-WZwKw_xKqxRrpGmM2tN02I"),$ie=30*1e3,Uie=10*1e3,Hie=60*1e3,Wie=5,Hg="searchLoggingData",Vie="searches_prod_2",Ot={timer:null,commitDelay:$ie,data:[],loadLoggingData(){if(Ot.data.length>0)return Ot.data;const e=localStorage.getItem(Hg);return e&&(Ot.data=JSON.parse(e)),Ot.data},updateLoggingData(e,t,n){const r=!t||Number.isNaN(Number(t))?-1:Number(t),s={search:e===void 0&&Ot.data.length>0?Ot.data[Ot.data.length-1].search:e??"",dprt_cd:r,target:n,created_at:Date.now()};if((a=>{if(Ot.data.length===0)return!1;const l=Ot.data[Ot.data.length-1];return l.target<0&&(tb(l.search,a.search)||tb(a.search,l.search))})(s)){const a=Ot.data[Ot.data.length-1];a.target=n,a.created_at=Date.now(),tb(s.search,a.search)&&(a.search=s.search),s.dprt_cd>=0&&(a.dprt_cd=s.dprt_cd)}else Ot.data.push(s);localStorage.setItem(Hg,JSON.stringify(Ot.data)),Ot.submitDelayCommit()},reconcileLoggingData(){Ot.data=Ot.data.filter(e=>!(e.search&&e.dprt_cd<0&&e.target<0)),Ot.data=Ot.data.filter((e,t)=>!(t>0&&e.search===Ot.data[t-1].search&&e.dprt_cd===Ot.data[t-1].dprt_cd&&e.target===-1)),localStorage.setItem(Hg,JSON.stringify(Ot.data))},submitDelayCommit(){if(Ot.timer&&(clearTimeout(Ot.timer),Ot.timer=null),Ot.data.length>Wie){const e=Ot.data.map(r=>r.created_at),t=e.slice(1).map((r,i)=>r-e[i]),n=t.reduce((r,i)=>r+i,0)/t.length;Ot.commitDelay=Math.min(Hie,Math.max(Uie,n+10*1e3))}Ot.timer=setTimeout(()=>{Ot.timer=null,Ot.commitLoggingData()},Ot.commitDelay)},commitLoggingData(){Ot.reconcileLoggingData();const e=Ot.data.length;if(e===0)return;const t=Ot.data.map(({search:n,dprt_cd:r,target:i})=>({search:n,dprt_cd:r,target:i}));zie.from(Vie).insert(t).then(({error:n})=>{n?console.error("Error committing search logging data:",n):(Ot.data=Ot.data.slice(e),localStorage.setItem(Hg,JSON.stringify(Ot.data)))})}};function tb(e,t){const n=Zd(e).toLowerCase(),r=Zd(t).toLowerCase();return n.includes(r)}function Wp(){j.useEffect(()=>{Ot.loadLoggingData()},[]);function e(r,i){Ot.updateLoggingData(r,i,-1)}function t(r,i,s){Ot.updateLoggingData(r,i,s)}function n(r){Ot.updateLoggingData(void 0,void 0,r)}return{onSearchChange:e,selectTarget:t,selectTargetOnly:n}}const t2=di((e,t)=>({favorites:JSON.parse(localStorage.getItem("favorites")??"[]"),toggleFavorite:n=>{const r=t().favorites.includes(n);e(i=>{const s=r?i.favorites.filter(o=>o!==n):[...i.favorites,n];return localStorage.setItem("favorites",JSON.stringify(s)),{favorites:s}})},isFavorite:n=>t().favorites.includes(n)})),Pn={grades:[1,2,3,4],credits:[1,2,3],days:["","","","",""],remark:["","SHP",""],classRoom:["","","","","AI","()","","","","","","","","","","","","","","","",""],wishRange:[{min:10},{min:50},{min:100},{min:200}],seatRange:[{min:1},{max:2},{max:5},{max:10}]},qie={classRoom:[{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"AI",value:""},{label:"()",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""}]};function Vp(e){return Qie(e.map(n=>n.curiTypeCdNm)).filter(n=>!!n)}function Qie(e){return Array.from(new Set(e))}const Hi={keywords:"",department:"",grades:"",credits:"",classroom:"",seatRange:"",wishRange:" ",time:"",days:"",categories:" ",note:"",language:"",alarmOnly:"",favoriteOnly:""};function Kie(e,t){if(t.length===0)return Hi[e];const n=t[0];return t.length===1?Sl()[e]?.(n)??Hi[e]:`${Sl()[e]?.(n)??Hi[e]}  ${t.length-1}`}function Gie(e,t){if(t==null)return Hi[e];const n=t;return e==="seatRange"?` ${Sl()[e]?.(n)??Hi[e]}`:e==="wishRange"?`  ${Sl()[e]?.(n)??Hi[e]}`:Sl()[e]?.(n)??Hi[e]}function C6(e,t,n){if(t==null)return"";const r=t,i=Sl(n)[e]?.(r);return i?e==="seatRange"?` ${i}`:e==="wishRange"?` ${i}`:i:""}function Sl(e){const t=n=>e?e.find(i=>i.departmentCode===n)?.departmentName||n:"";return{keywords:n=>typeof n=="string"?n:"",department:n=>t(n),grades:n=>k6(n,Hi.grades),credits:n=>k6(n,Hi.credits),classroom:Yie,seatRange:E6,wishRange:E6,time:Xie,days:Jie,categories:n=>n,note:n=>n,language:n=>n,alarmOnly:()=>Hi.alarmOnly,favoriteOnly:()=>Hi.favoriteOnly}}const Yie=e=>!e||typeof e!="string"?"":qie.classRoom.find(t=>t.value===e)?.label||e,E6=e=>{if(!e)return"";const{min:t,max:n}=e;return t!==void 0&&n!==void 0?`${t}  ~ ${n} `:t!==void 0?`${t} `:n!==void 0?`${n} `:""},Xie=e=>`${e.day}${Hi.time} ${e.start}~${e.end}`,Jie=e=>e+"",k6=(e,t)=>e+t;function EN(e,t){return e==="time"&&Array.isArray(t)?t.length===0||t.length===1&&t[0].day==="":Array.isArray(Ml[e])&&Array.isArray(t)?t.length===0:!t}function T6(e){return Array.isArray(e)?e.length>0:e!=null&&e!==""&&e!==!1}function oS(e,t){const n=[];for(const r in e){const i=e[r];if(r==="time"){const{day:s,type:o}=i;if(!s||!o)continue}r==="keywords"||r==="favoriteOnly"||r==="alarmOnly"||(Array.isArray(i)&&i.length>0&&i.forEach(s=>{T6(s)&&n.push({filterKey:r,values:s,label:C6(r,s,t)})}),!Array.isArray(i)&&T6(i)&&n.push({filterKey:r,values:i,label:i!==null?C6(r,i,t):""}))}return n}function Zie(e){const{data:t}=l1(),n=t2(o=>o.isFavorite),r=ese(e,t,n),s=Object.keys(e).filter(o=>!EN(o,e[o]));return(o,a)=>s.every(l=>{const c=r[l];return c?c(o,a[l]):!0})}function ese(e,t,n){const r=o=>t?.some(({subjectId:a})=>a===o)??!0,i=TN(e.keywords),s=e.keywords.replace(/[-\s]/g,"").toLowerCase();return{keywords:o=>ase(o,i,s),department:ose,grades:nse,credits:rse,categories:dse,seatRange:ise,wishRange:sse,time:cse,days:tse,classroom:lse,note:use,language:fse,alarmOnly:o=>n(o.subjectId),favoriteOnly:o=>r(o.subjectId)}}function kN(e,t){if(!t)return!0;const{min:n,max:r}=t;return(n===void 0||e>=n)&&(r===void 0||e<=r)}function aS(e,t){return!t.length||t.includes(e)}function TN(e){const t=e.replace(/[^\w---]/g,"");return Zd(t).toLowerCase()}function tse(e,t){if(!e.lesnTime||!t||t.length===0)return!0;const n=RegExp(/^([-]+)/).exec(e.lesnTime);if(!n)return!0;const r=n[1].split("");return t.some(i=>r.includes(i))}function nse(e,t){const n=Number(e.studentYear);return!n||t.includes("")||t.length===0?!0:t.includes(n)}function rse(e,t){const n=Number(e.tmNum.split("/")[0]);return!n||Number.isNaN(n)?!0:aS(n,t)}function ise(e,t){const n=e;return"seat"in n?kN(n.seat??0,t):!0}function sse(e,t){return"totalCount"in e?kN(e.totalCount??0,t):!0}function ose(e,t){return!t||t===""||t===e.deptCd}function ase(e,t,n){if(!t)return!0;const r=e.professorName?Zd(e.professorName).toLowerCase():"",i=TN(e.subjectName),o=(e.subjectCode+e.classCode).toLowerCase().includes(n);return r.includes(t)||i.includes(t)||o}function lse(e,t){return t.length?e.lesnRoom?t.some(n=>new RegExp(`^${n}[\\w]`,"i").test(e.lesnRoom)):!1:!0}function use(e,t){return!t||t.length===0?!0:t.some(n=>{switch(n){case"":return e.remark?.includes("")??!1;case"SHP":return["SHP","Honor"].some(r=>e.remark?.includes(r)??!1);case"":return!e.remark||!["","SHP","Honor"].some(r=>e.remark?.includes(r)??!1)}})}function cse(e,t){if(!t||t.length===0||!e.lesnTime)return!0;const r=new df(e.lesnTime).toApiData().map(i=>({day:i.dayOfWeeks,start:new ed(i.startTime),end:new ed(i.endTime)}));return t.some(i=>{if(i.day==="")return!0;const s=r.filter(o=>o.day===i.day);if(i.type==="all"||!s.length)return!!s.length;if(i.type==="before"&&i.start){const o=new ed(i.start);return s.some(a=>a.end.compare(o)<=0)}if(i.type==="after"&&i.start){const o=new ed(i.start);return s.some(a=>o.compare(a.start)<=0)}if(i.type==="between"&&i.start&&i.end){const o=new ed(i.start),a=new ed(i.end);return s.some(l=>o.compare(l.start)<=0&&l.end.compare(a)<=0)}})}function dse(e,t){return aS(e.curiTypeCdNm,t)}function fse(e,t){return aS(e.curiLangNm??"",t)}function yf(e,t){const n=Zie(t),{onSearchChange:r}=Wp(),{keywords:i,department:s}=t;return!e||e.length===0?[]:(r(i,s),e.filter(o=>n(o,t)))}const jN="2025-09-05";function h1(e){const{hasSeats:t}=e??{},n=new Date>wj(`${jN}T10:00:00`);return{isPreSeatAvailable:!n}}function mp({col:e,row:t}){return h.jsx(h.Fragment,{children:Array.from({length:t}).map((n,r)=>h.jsx("tr",{className:"animate-pulse border-t border-gray-200 h-10",children:Array.from({length:e}).map((i,s)=>h.jsx("td",{className:"bg-gray-300",colSpan:-1},`skeleton-td-${s}-${r}`))},"skeleton-row-"+r))})}const nb=45;function p1(e,t="ref",n=".load-more-trigger"){const[r,i]=j.useState(nb),s=j.useRef(null),o=j.useRef(null);return j.useEffect(()=>{i(nb)},[e]),j.useEffect(()=>{const a=new IntersectionObserver(l=>{l.forEach(c=>{c.isIntersecting&&i(f=>f>=e.length?f:f+nb)})},{root:null,rootMargin:"0px",threshold:.5});return o.current=a,t==="ref"&&s.current?a.observe(s.current):t==="selector"&&document.querySelectorAll(n).forEach(c=>a.observe(c)),()=>{a.disconnect()}},[e,t,n]),{visibleRows:r,...t==="ref"?{loadMoreRef:s}:{}}}const m1=e=>j.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:16,height:16,viewBox:"0 0 16 16",...e},j.createElement("g",{transform:"matrix(1,0,0,-1,0,32)"},j.createElement("path",{d:"M13,25.5Q12.9688,23.3125,11.75,21.65625L15.7188,17.71875Q16,17.40625,16,17Q16,16.59375,15.7188,16.28125Q15.4062,16,15,16Q14.5938,16,14.2812,16.28125L10.3438,20.25Q8.6875,19.03125,6.5,19Q3.75,19.0625,1.90625,20.90625Q0.0625,22.75,0,25.5Q0.0625,28.25,1.90625,30.0938Q3.75,31.9375,6.5,32Q9.25,31.9375,11.0938,30.0938Q12.9375,28.25,13,25.5ZM6.5,21Q7.71875,21,8.75,21.59375Q9.78125,22.1875,10.4062,23.25Q11,24.3125,11,25.5Q11,26.6875,10.4062,27.75Q9.78125,28.8125,8.75,29.4062Q7.71875,30,6.5,30Q5.28125,30,4.25,29.4062Q3.21875,28.8125,2.59375,27.75Q2,26.6875,2,25.5Q2,24.3125,2.59375,23.25Q3.21875,22.1875,4.25,21.59375Q5.28125,21,6.5,21Z",fill:"#9CA3AF",fillOpacity:1,style:{mixBlendMode:"passthrough"}})));function uy({title:e,description:t}){return h.jsxs(Pe,{direction:"flex-col",align:"items-center",gap:"gap-1",className:"mt-2",children:[h.jsx(m1,{className:"w-7 h-7"}),h.jsx("p",{className:"text-gray-500 font-medium",children:e}),t&&h.jsx("p",{className:"text-gray-400 text-xs",children:t})]})}function lS({col:e,title:t,description:n}){return h.jsx("tr",{children:h.jsx("td",{colSpan:e,className:"py-4 text-center",children:h.jsx(uy,{title:t,description:n})})})}function hse({titles:e,subjects:t,isPending:n=!1}){return h.jsxs("table",{className:"w-full bg-white rounded-lg relative text-sm",children:[h.jsx("thead",{children:h.jsx("tr",{className:"bg-gray-50 text-nowrap",children:e.map(({title:r})=>h.jsx("th",{className:"px-4 py-2",children:r},r))})}),h.jsx("tbody",{children:h.jsx(pse,{titles:e,subjects:t,isPending:n})})]})}function pse({titles:e,subjects:t,isPending:n=!1}){const{visibleRows:r}=p1(t??[],"selector"),i=(t??[]).filter(o=>!o.isDeleted),s=i?i.slice(0,r):[];return n||!i?h.jsx(mp,{row:5,col:e.length}):i.length?h.jsxs(h.Fragment,{children:[s.map(o=>h.jsx(mse,{subject:o},`${o.subjectCode} ${o.subjectId} ${o.professorName}`)),h.jsx("tr",{className:"load-more-trigger"})]}):h.jsx(lS,{col:e.length,title:"  .",description:"   ."})}function mse({subject:e}){const t=e.curiLangNm==="",r=e.isDeleted?"bg-gray-100 hover:bg-gray-200":t?"bg-green-50 hover:bg-green-100":"bg-white hover:bg-gray-100",{data:i}=l1(),{mutate:s}=Y_(),{mutate:o}=GI(),{selectTargetOnly:a}=Wp(),l=i?.some(f=>f.subjectId===e.subjectId),c=()=>{if(!l){o(e.subjectId);return}s(e.subjectId),a(e.subjectId),d1(e.deptCd)};return h.jsxs("tr",{className:`border-t border-gray-200 text-black ${r}`,children:[h.jsx("td",{className:"px-4 py-2 text-center",children:h.jsx("button",{className:"cursor-pointer","aria-label":l?"  ":"  ",onClick:c,children:h.jsx(Ol,{disabled:!l})})}),h.jsxs("td",{className:"px-2 py-2 text-center",children:[e.subjectCode,"-",e.classCode]}),h.jsx("td",{className:"px-2 py-2 text-center",children:e.departmentName}),h.jsx("td",{className:"px-2 py-2 text-center",children:e.subjectName}),h.jsx("td",{className:"px-2 py-2 text-center",children:e.professorName}),e.seat!==void 0?h.jsx("td",{className:"px-2 py-2 text-center",children:e.seat>=0?h.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold ${a1(e.seat)}`,children:e.seat}):h.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-bold bg-gray-300",children:"-"})}):null]})}function IN({subject:e,variant:t="contain",className:n,onClick:r,...i}){const{data:s}=l1(),{mutate:o}=Y_(),{mutate:a}=GI(),{selectTargetOnly:l}=Wp(),c=s?.some(g=>g.subjectId===e.subjectId),f=c?"  ":"  ",p=g=>{if(l(e.subjectId),d1(e.deptCd),r&&r(g),!c){a(e.subjectId);return}o(e.subjectId)};return h.jsx(Rr,{"aria-label":f,title:f,variant:t==="contain"?"contain":"plain",onClick:p,icon:h.jsx(Ol,{disabled:!c}),className:n,...i})}function gse({subject:e,seats:t,queryTime:n,disableSeat:r=!1,isLive:i=!1}){const s=e.isDeleted,o=e.curiLangNm==="",a=typeof e.tmNum=="string"&&Number(e.tmNum.split("/")[0])||0;return h.jsxs(Yn,{variant:"elevated",children:[h.jsxs(Pe,{justify:"justify-between",children:[h.jsx(Gt,{level:3,children:e.subjectName}),h.jsx(IN,{subject:e,variant:"plain"})]}),h.jsxs(Pe,{className:"text-xs text-gray-500",direction:"flex-col",children:[h.jsx("p",{children:e.departmentName}),h.jsxs("p",{children:[e.subjectCode,"-",e.classCode," | ",e.professorName]})]}),h.jsxs("p",{className:"text-xs text-gray-500 mb-2",children:[e.studentYear," ",e.curiTypeCdNm," | ",a," | ",e.lesnTime]}),!r&&h.jsxs(Pe,{gap:"gap-2",align:"items-baseline",justify:"justify-between",children:[h.jsxs("p",{className:`text-sm px-2 py-1 rounded-full font-bold ${a1(t)}`,children:[": ",t<0?"???":t]}),!i&&h.jsx(qu,{variant:"default",children:J_(n)}),s&&h.jsx(qu,{variant:"danger",children:""}),o&&h.jsx(qu,{variant:"success",children:""})]})]})}function uS({subjects:e,isPending:t=!1,className:n="",isLive:r=!1}){return h.jsx(Pe,{direction:"flex-col",gap:"gap-2",className:n,children:h.jsx(yse,{subjects:e,isPending:t,isLive:r})})}function yse({subjects:e,isPending:t=!1,isLive:n=!1}){const{visibleRows:r,loadMoreRef:i}=p1(e),s=e?e.slice(0,r):[];return t||!e?h.jsx($l,{columns:{base:1,md:3},gap:"gap-4",className:"animate-pulse",children:[0,0,0].map((o,a)=>h.jsx("div",{className:"bg-gray-300 shadow-sm rounded-lg p-4 h-24"},"skeleton-card-"+a))}):e.length?h.jsxs(h.Fragment,{children:[s.map(o=>h.jsx(gse,{subject:o,seats:"seat"in o?o.seat??-1:-1,disableSeat:!("seat"in o),className:"bg-white",isLive:n},o.subjectId)),h.jsx("div",{ref:i,className:"load-more-trigger opacity-0",children:" "})]}):h.jsxs(Pe,{direction:"flex-col",align:"items-center",gap:"gap-2",className:"text-center py-4",children:[h.jsx(m1,{className:"w-12 h-12"}),h.jsx("p",{className:"text-gray-500 font-bold mt-4",children:"  ."}),h.jsx("p",{className:"text-gray-400 text-xs mt-1",children:"   ."})]})}function gc({onDelete:e,...t}){const n=j.useRef(null);return h.jsx(bw,{leftIcon:h.jsx(Rr,{variant:"plain",icon:h.jsx(m1,{className:"w-5 h-5"}),className:"absolute left-3 top-3",onClick:r=>{r.preventDefault(),n.current?.focus()}}),rightIcon:h.jsx(Rr,{variant:"plain",icon:h.jsx(hj,{className:"w-5 h-5"}),"aria-label":"  ",className:"absolute right-3 top-4",onClick:()=>{e(),n.current?.focus()}}),...t})}const rb=9;function b0({selectedValues:e,filterKey:t,setFilter:n,options:r,ItemComponent:i}){const s=Sl(),o=i.layout??"grid",a=hs(),[l,c]=j.useState(!1),f=y=>{const _=e?.includes(y)?e?.filter(C=>C!==y):[...e??[],y];n(t,_??null)},p=()=>{n(t,null)},g=!l&&r.length>rb?r.slice(0,rb):r;return h.jsxs("div",{className:"relative inline-block w-full",children:[h.jsxs(Pe,{direction:"flex-col",gap:"gap-2",children:[h.jsx(Hr,{children:Hi[t]}),o==="grid"?h.jsx($l,{columns:{md:3},gap:"gap-2",children:g.map(y=>h.jsx(i,{label:s[t]?.(y)??String(y),selected:e?.includes(y)??!1,onClick:()=>f(y)},String(y)))}):h.jsx(Pe,{direction:"flex-col",gap:"gap-2",className:"pr-4",children:g.map(y=>h.jsx(i,{label:s[t]?.(y)??String(y),selected:e?.includes(y)??!1,onClick:()=>f(y)},String(y)))})]}),r.length>rb&&h.jsx(Dt,{variant:"text",size:"small",textColor:"gray",onClick:()=>c(y=>!y),children:l?"- ":"+ "}),!a&&h.jsx(Pe,{justify:"justify-end",children:h.jsx(Dt,{variant:"text",size:"small",textColor:"gray",disabled:e==null||e.length===0,onClick:()=>p(),children:""})})]})}function NN({label:e,selected:t,onClick:n}){return h.jsx(Fy,{label:e,checked:t,onChange:n})}NN.layout="flex";function g1({label:e,selected:t,children:n,className:r=""}){return h.jsxs(Ad,{children:[h.jsx(Ad.Trigger,{selected:t,label:e}),h.jsx(Ad.Content,{children:h.jsx(Pe,{direction:"flex-col",gap:"gap-4",className:r,children:n})})]})}function ir({filterKey:e,selectedValues:t,options:n,setFilter:r,ItemComponent:i,className:s}){const o=hs(),a=Kie(e,t),l=o?Xn:NN,c=h.jsx(b0,{filterKey:e,selectedValues:t,setFilter:(f,p)=>r(f,p),options:n,ItemComponent:i||l});return o?c:h.jsx(g1,{label:a,selected:t.length>0,className:s,children:c})}const vse=e=>j.createElement("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},j.createElement("path",{d:"M9 14C10.1867 14 11.3467 13.6481 12.3334 12.9888C13.3201 12.3295 14.0892 11.3925 14.5433 10.2961C14.9974 9.19975 15.1162 7.99335 14.8847 6.82946C14.6532 5.66558 14.0818 4.59648 13.2426 3.75736C12.4035 2.91825 11.3344 2.3468 10.1705 2.11529C9.00666 1.88378 7.80026 2.0026 6.7039 2.45673C5.60754 2.91085 4.67047 3.67989 4.01118 4.66658C3.35189 5.65328 3 6.81331 3 8V11.1L1.2 9.3L0.5 10L3.5 13L6.5 10L5.8 9.3L4 11.1V8C4 7.0111 4.29324 6.0444 4.84265 5.22215C5.39206 4.39991 6.17295 3.75904 7.08658 3.38061C8.00021 3.00217 9.00555 2.90315 9.97545 3.09608C10.9454 3.289 11.8363 3.76521 12.5355 4.46447C13.2348 5.16373 13.711 6.05465 13.9039 7.02455C14.0969 7.99446 13.9978 8.99979 13.6194 9.91342C13.241 10.8271 12.6001 11.6079 11.7779 12.1574C10.9556 12.7068 9.98891 13 9 13V14Z",fill:"#047CFE"}));function xse({selectedValue:e,filterKey:t,setFilter:n}){const[r,i]=j.useState({min:e?.min??0,max:e?.max??0}),s=(o,a)=>{const l={...r,[o]:a};i(l),n(t,l)};return h.jsxs("div",{className:"relative inline-block w-full space-y-2",children:[h.jsx(Hr,{children:" "}),h.jsxs(Pe,{gap:"gap-2",children:[h.jsx(bw,{type:"text",placeholder:"",value:r.min,onChange:o=>{const a=o.target.value.replace(/[^\d]/g,"");s("min",a)},className:"w-full"}),h.jsx("span",{className:"flex items-center text-gray-400",children:"~"}),h.jsx(bw,{type:"text",placeholder:"",value:r.max,onChange:o=>{const a=o.target.value.replace(/[^\d]/g,"");s("max",a)},className:"w-full"})]})]})}function bse({selectedValue:e,filterKey:t,setFilter:n,options:r,ItemComponent:i,isMinMax:s=!1}){const o=hs(),a=f=>{n(t,e===f?null:f)},l=()=>{n(t,null)},c=Sl();return h.jsxs("div",{className:"relative inline-block",children:[h.jsxs(Pe,{direction:"flex-col",gap:"gap-2",children:[h.jsx(Hr,{children:Hi[t]}),h.jsx($l,{columns:{md:3},gap:"gap-2",children:r.map(f=>h.jsx(i,{label:c[t]?.(f)??String(f),selected:e===f,onClick:()=>a(f)},String(f)))}),s&&h.jsx("div",{className:"mt-2",children:h.jsx(xse,{selectedValue:e,filterKey:t,setFilter:(f,p)=>n(f,p),options:r})})]}),!o&&h.jsx(Pe,{justify:"justify-end",children:h.jsxs(Dt,{variant:"text",size:"small",textColor:"gray",onClick:()=>l(),children:[h.jsx(vse,{className:"inline w-3 h-3 mr-1",stroke:"currentColor"}),""]})})]})}function ef({filterKey:e,options:t,ItemComponent:n,selectedValue:r,setFilter:i,className:s,isMinMax:o}){const a=hs(),l=Gie(e,r),c=h.jsx(bse,{selectedValue:r,filterKey:e,setFilter:(f,p)=>i(f,p),options:t,ItemComponent:n,isMinMax:o});return a?c:h.jsx(g1,{label:l,selected:!!r,className:s,children:c})}const RN=e=>j.createElement("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},j.createElement("path",{d:"M7.18066 10.5625C7.88416 10.5629 8.47281 11.0824 8.63086 11.7812H14.625C14.8321 11.7812 15 11.9491 15 12.1562C15 12.3634 14.8321 12.5312 14.625 12.5312H8.63086C8.47281 13.2301 7.88416 13.7496 7.18066 13.75C6.47688 13.75 5.88776 13.2303 5.72949 12.5312H1.375C1.16789 12.5312 1 12.3634 1 12.1562C1 11.9491 1.16789 11.7812 1.375 11.7812H5.72949C5.88776 11.0822 6.47688 10.5625 7.18066 10.5625ZM7.18066 11.2812C6.72774 11.2812 6.36035 11.673 6.36035 12.1562C6.36035 12.6395 6.72774 13.0312 7.18066 13.0312C7.63324 13.0308 8 12.6392 8 12.1562C8 11.6733 7.63324 11.2817 7.18066 11.2812ZM11.7197 6.40625C12.4233 6.40647 13.0117 6.92611 13.1699 7.625H14.625C14.8321 7.625 15 7.79289 15 8C15 8.20711 14.8321 8.375 14.625 8.375H13.1699C13.0117 9.0739 12.4233 9.59353 11.7197 9.59375C11.0161 9.59356 10.4277 9.07393 10.2695 8.375H1.375C1.16789 8.375 1 8.20711 1 8C1 7.79289 1.16789 7.625 1.375 7.625H10.2695C10.4277 6.92608 11.0161 6.40644 11.7197 6.40625ZM11.7197 7.125C11.267 7.12523 10.9004 7.51689 10.9004 8C10.9004 8.48311 11.267 8.87477 11.7197 8.875C12.1724 8.87474 12.54 8.48309 12.54 8C12.54 7.51691 12.1724 7.12526 11.7197 7.125ZM5.07129 2.25C5.77489 2.2502 6.36337 2.76981 6.52148 3.46875H14.625C14.8321 3.46875 15 3.63664 15 3.84375C15 4.05086 14.8321 4.21875 14.625 4.21875H6.52148C6.36337 4.91769 5.77489 5.43729 5.07129 5.4375C4.36758 5.43737 3.77832 4.9178 3.62012 4.21875H1.375C1.16789 4.21875 1 4.05086 1 3.84375C1 3.63664 1.16789 3.46875 1.375 3.46875H3.62012C3.77832 2.7697 4.36758 2.25013 5.07129 2.25ZM5.07129 2.96875C4.61849 2.9689 4.25098 3.36059 4.25098 3.84375C4.25098 4.32691 4.61849 4.7186 5.07129 4.71875C5.52402 4.71852 5.89062 4.32686 5.89062 3.84375C5.89062 3.36064 5.52402 2.96898 5.07129 2.96875Z",fill:"#9CA3AF"}));function cS({handleOpenFilter:e}){return h.jsx(Rr,{"aria-label":" ",title:" ",label:" ",variant:"contain",icon:h.jsx(RN,{className:"w-4 h-4 "}),onClick:e})}function wse({alarmOnly:e,setFilter:t}){return h.jsxs(Dt,{variant:"outlined",size:"medium",onClick:()=>t("alarmOnly",!e),children:[h.jsx(Ol,{disabled:!e}),""]})}function _se({departments:e,category:t,setCategory:n,searchKeywords:r,setSearchKeywords:i}={}){const s=j.useMemo(()=>[{departmentName:"",departmentCode:""},...e??[]],[e]),o=j.useMemo(()=>s.filter(a=>t===""?a.departmentCode==="9005":t===""?a.departmentCode!=="9005":!0).filter(a=>{if(!r)return!0;const l=r.replace(/[^\w\s---]/g,""),c=Zd(l).toLowerCase(),f=a.departmentName.replace(/[^\w\s---]/g,"");return Zd(f).toLowerCase().includes(c)}),[s,t,r]);return{category:t,setCategory:n,searchKeywords:r,setSearchKeywords:i,departmentsList:s,filteredDepartments:o}}const PN=e=>j.createElement("svg",{width:12,height:12,viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},j.createElement("path",{d:"M4.50007 8.08504L2.76507 6.35004C2.67158 6.25655 2.54479 6.20403 2.41257 6.20403C2.28036 6.20403 2.15356 6.25655 2.06007 6.35004C1.96658 6.44353 1.91406 6.57033 1.91406 6.70254C1.91406 6.768 1.92696 6.83283 1.95201 6.89331C1.97706 6.95379 2.01378 7.00875 2.06007 7.05504L4.15007 9.14504C4.34507 9.34004 4.66007 9.34004 4.85507 9.14504L10.1451 3.85504C10.2386 3.76155 10.2911 3.63475 10.2911 3.50254C10.2911 3.37033 10.2386 3.24353 10.1451 3.15004C10.0516 3.05655 9.92479 3.00403 9.79257 3.00403C9.66036 3.00403 9.53356 3.05655 9.44007 3.15004L4.50007 8.08504Z",fill:"#047CFE"}));function dS({setFilter:e,selectedValue:t}){const{data:n}=hc(),[r,i]=j.useState(""),[s,o]=j.useState(""),{departmentsList:a,filteredDepartments:l}=_se({category:s,setCategory:o,searchKeywords:r,setSearchKeywords:i,departments:n});return h.jsxs(g1,{label:n2(t,a),selected:!!t,children:[h.jsxs(Pe,{direction:"flex-col",className:"h-80 w-80 overflow-y-auto",children:[h.jsx(Hr,{children:""}),h.jsxs(Pe,{className:"shrink-0 bg-white",gap:"gap-2",children:[h.jsxs("select",{value:s,className:"border border-gray-300 rounded-md text-sm text-gray-700 bg-white",onChange:c=>{const f=c.target.value;o(f),e("department","")},children:[h.jsx("option",{value:"",children:""}),h.jsx("option",{value:"",children:""})]}),h.jsx(gc,{type:"text",placeholder:" ",onDelete:()=>{i("")},value:r,onChange:c=>{i(c.target.value)},className:"w-full"})]}),h.jsx("div",{className:"overflow-y-auto flex-1 py-2 ",children:(s===""||s==="")&&h.jsx(Sse,{departments:l,setFilter:e,selectedValue:t})})]}),h.jsx(Pe,{justify:"justify-end",className:"w-full pt-1",children:h.jsx(Dt,{variant:"text",size:"small",textColor:"gray",disabled:!t,onClick:()=>e("department",""),children:""})})]})}function Sse({departments:e,setFilter:t,selectedValue:n}){if(!e)return h.jsx(uy,{title:"  ."});const r=s=>{t("department",s||"")};return e.filter(s=>n2(n,e)===s.departmentName).length===0?h.jsx(uy,{title:"  .",description:"   ."}):h.jsx(h.Fragment,{children:e.map(s=>{const o=n2(n,e)===s.departmentName,a=s.departmentName?s.departmentName.split(" ").slice(-1)[0]:"  ";return h.jsx(kQ,{selected:o,left:a,right:o?h.jsx(PN,{className:"w-4 h-4 shrink-0"}):null,onSelect:()=>r(s.departmentCode)},s.departmentCode)})})}function n2(e,t){const n=t?.find(r=>r.departmentCode===e)?.departmentName;return n||" ."}function j6({className:e,onChange:t,...n}){return h.jsx("input",{type:"time",className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:outline-blue-500 "+e,placeholder:"HH:MM",step:600,onChange:r=>{r.target.value=Cse(r.target.value),console.log("Time changed:",r.target.value),t&&t(r)},...n})}function Cse(e){const[t,n]=e.split(":").map(Number);if(Number.isNaN(t)||Number.isNaN(n))return"00:00";const r=Math.round(n/10)%6*10,i=String(t).padStart(2,"0"),s=String(r).padStart(2,"0");return`${i}:${s}`}function r2({items:e,onChange:t}){j.useEffect(()=>{if(e.length===0){t([{day:"",type:"all"}]);return}const i=kse(e);i&&t(i)},[e]);const n=i=>s=>{const{name:o,value:a}=s.target,l=[...e];l[i]={...l[i],[o]:a},t(l)},r=i=>()=>{const s=e.filter((o,a)=>a!==i);t(s)};return h.jsxs(h.Fragment,{children:[h.jsxs(Pe,{direction:"flex-col",gap:"gap-2",children:[h.jsx(Hr,{children:""}),e.map((i,s)=>h.jsx(Ese,{item:i,onChange:n(s),onDelete:r(s)},`${i.day}-${i.type}-${i.start}-${i.end}`))]}),h.jsx(Dt,{variant:"text",size:"small",textColor:"gray",onClick:()=>t([...e,{day:"",type:"all"}]),children:" "})]})}function Ese({item:e,onChange:t,onDelete:n}){const r=!!e.day,i=e.type!="all",s=e.type==="between";return h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsxs("select",{name:"day",value:e.day,onChange:t,className:"bg-gray-100 px-3 py-2 rounded-md text-xs text-gray-600 w-fit",children:[h.jsx("option",{value:"",children:""}),["","","","","","",""].map(o=>h.jsx("option",{value:o,children:o},o))]}),r&&h.jsxs("select",{name:"type",value:e.type,onChange:t,className:"bg-gray-100 px-3 py-2 rounded-md text-xs text-gray-600 w-fit",children:[h.jsx("option",{value:"all",children:""}),h.jsx("option",{value:"before",children:""}),h.jsx("option",{value:"after",children:""}),h.jsx("option",{value:"between",children:""})]}),i&&h.jsx(j6,{name:"start",value:e.start||"00:00",onChange:t}),s&&h.jsx(j6,{name:"end",value:e.end||"00:00",onChange:t}),h.jsx(Dt,{variant:"text",size:"small",textColor:"secondary",onClick:n,children:""})]})}function kse(e){return e.some(n=>n.day===""?n.type!=="all"||n.start||n.end:n.type==="all"?n.start||n.end:n.type==="before"||n.type==="after"?!n.start||n.end:n.type==="between"?!n.start||!n.end:!1)?e.map(n=>n.day===""?{day:"",type:"all"}:n.type==="all"?{day:n.day,type:"all"}:n.type==="before"||n.type==="after"?{day:n.day,type:n.type,start:n.start||"00:00"}:n.type==="between"?{day:n.day,type:n.type,start:n.start||"00:00",end:n.end||"00:00"}:n):e}function ON({times:e,setFilter:t}){const n=(o,a)=>{t("time",a)},r=hs(),s=e.length===1&&e[0].type==="all"&&e[0].day===""?"":e.length===1?` ${e[0].day}`:e.length>1?` ${e[0].day}  ${e.length-1}`:"";return r?h.jsx(r2,{items:e,onChange:o=>n("time",o)}):h.jsx(g1,{label:s,selected:e.length>0&&e[0].day!=="",className:"min-w-max",children:h.jsxs(Pe,{direction:"flex-col",gap:"gap-2",children:[h.jsx(Hr,{children:" "}),h.jsx(r2,{items:e,onChange:o=>n("time",o)})]})})}const Tse=e=>j.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},j.createElement("path",{d:"M3 4H17L12 10.5V20L8 16V10.5L3 4Z",stroke:"#047CFE",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),j.createElement("path",{d:"M16 15L22 21",stroke:"#047CFE",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),j.createElement("path",{d:"M16 21L22 15",stroke:"#047CFE",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}));function fS({filters:e,resetFilter:t}){return Object.keys(e).some(i=>!EN(i,e[i]))?h.jsx(Xn,{label:h.jsxs(Pe,{align:"items-center",gap:"gap-1",children:[h.jsx("span",{children:" "}),h.jsx(Tse,{className:"w-4 h-4"})]}),selected:!0,onClick:t}):null}function hS({filterStore:e,onClose:t}){const n=ka(),{classroom:r,note:i,categories:s,time:o}=e(_=>_.filters),a=hc(),l=e(_=>_.filters),c=e(_=>_.setFilter),f=e(_=>_.resetFilters),p=oS(l,a.data),{data:g}=po(n),y=Vp(g??[]).sort((_,C)=>_.localeCompare(C)).map(_=>_),b=(_,C)=>{const E=l[_];Array.isArray(E)?c(_,E.filter(R=>R!==C)):c(_,Ml[_])};return h.jsxs(Jn,{title:" ",onClose:t,isOpen:!0,children:[h.jsx(Jn.Content,{children:h.jsxs(Pe,{direction:"flex-col",gap:"gap-4",className:"w-130",children:[p.length>0&&h.jsx(Yn,{variant:"outlined",children:h.jsxs(Pe,{direction:"flex-col",gap:"gap-2",children:[h.jsx(Hr,{children:" "}),h.jsx(Pe,{gap:"gap-2",direction:"flex-wrap",justify:"justify-start",className:"w-120",children:p.map(_=>h.jsx(Xn,{variant:"cancel",label:_.label,selected:!0,onClick:()=>b(_.filterKey,_.values)},`${_.filterKey}-${_.values}`))})]})}),h.jsx(Yn,{variant:"outlined",children:h.jsx(b0,{selectedValues:s,options:y,filterKey:"categories",setFilter:c,ItemComponent:Xn})}),h.jsx(Yn,{variant:"outlined",children:h.jsx(r2,{items:o,onChange:_=>c("time",_)})}),h.jsx(Yn,{variant:"outlined",children:h.jsx(b0,{selectedValues:i,options:Pn.remark,filterKey:"note",setFilter:c,ItemComponent:Xn})}),h.jsx(Yn,{variant:"outlined",children:h.jsx(b0,{selectedValues:r,options:Pn.classRoom,filterKey:"classroom",setFilter:c,ItemComponent:Xn})})]})}),h.jsx(Jn.Footer,{children:h.jsx(Pe,{direction:"flex-col",gap:"gap-2",children:h.jsx(Pe,{justify:"justify-end",children:h.jsx(Dt,{variant:"primary",size:"medium",onClick:f,disabled:p.length===0,children:" "})})})})]})}function jse(){const e=j.useRef(null),t=j.useRef(null),n=j.useRef({touchStart:{sheetY:0,touchY:0},touchMove:{prevTouchY:0,movingDirection:"none"},isContentAreaTouched:!1});j.useEffect(()=>{const s=()=>{const{touchMove:c,isContentAreaTouched:f}=n.current,p=e.current?.getBoundingClientRect().y;if(!p)return!1;if(!f||p!==Mu)return!0;const g=t.current,y=g.scrollTop<=0,b=g.scrollTop+g.clientHeight>=g.scrollHeight;return c.movingDirection==="down"&&y||c.movingDirection==="up"&&b,!1},o=c=>{const{touchStart:f}=n.current;f.sheetY=e.current.getBoundingClientRect().y,f.touchY=c.touches[0].clientY},a=c=>{const{touchStart:f,touchMove:p}=n.current,g=c.touches[0];if(p.prevTouchY===void 0&&(p.prevTouchY=f.touchY),p.prevTouchY===0&&(p.prevTouchY=f.touchY),p.prevTouchY<g.clientY&&(p.movingDirection="down"),p.prevTouchY>g.clientY&&(p.movingDirection="up"),s()){c.stopPropagation();const y=g.clientY-f.touchY;let b=f.sheetY+y;b<=Mu&&(b=Mu),b>=Wg&&(b=Wg),e.current.style.setProperty("transform",`translateY(${b}px)`)}else document.body.style.overflowY="hidden"},l=()=>{const{touchMove:c}=n.current;(e.current?.getBoundingClientRect().y??0)!==Mu&&(c.movingDirection==="down"&&e.current.style.setProperty("transform",`translateY(${Wg}px)`),c.movingDirection==="up"&&e.current.style.setProperty("transform",`translateY(${Mu}px)`)),n.current={touchStart:{sheetY:0,touchY:0},touchMove:{prevTouchY:0,movingDirection:"none"},isContentAreaTouched:!1}};return e.current.addEventListener("touchstart",o),e.current.addEventListener("touchmove",a),e.current.addEventListener("touchend",l),()=>{e.current?.removeEventListener("touchstart",o),e.current?.removeEventListener("touchmove",a),e.current?.removeEventListener("touchend",l)}},[]);const r=()=>{e.current&&e.current.style.setProperty("transform","translateY(400px)")},i=()=>{e.current&&e.current.style.setProperty("transform",`translateY(${Wg}px)`)};return j.useEffect(()=>{const s=()=>{n.current.isContentAreaTouched=!0};t.current.addEventListener("touchstart",s);const o=window.getComputedStyle(document.body).overflow;return document.body.style.overflow="hidden",()=>{document.body.style.overflow=o}},[]),{sheet:e,content:t,expandToMax:r,collapseToMin:i}}function Ise(){const{cancelSchedule:e}=fi(),t=xy(),n=()=>{t("/timetable"),e()};j.useEffect(()=>(window.addEventListener("popstate",n),()=>{window.removeEventListener("popstate",n)}),[])}const Mu=0,Wg=window.innerHeight-300,Nse=window.innerHeight-Mu;function qp({children:e}){const{sheet:t,content:n,expandToMax:r,collapseToMin:i}=jse(),{type:s,resetBottomSheet:o}=va(),{cancelSchedule:a}=fi();function l(){a(),o()}return Ise(),h.jsxs("div",{className:"fixed inset-0 z-[200]",children:[s&&h.jsx("div",{className:"absolute inset-0 bg-black/5 bg-opacity-80",role:"presentation",onClick:l}),h.jsxs("div",{ref:t,className:"fixed rounded-t-xl bottom-0 left-0 w-full transition-transform bg-white duration-300 z-200",style:{height:`${Nse}px`,transform:`translateY(${Mu}px)`},children:[h.jsx("div",{className:"w-full flex justify-center py-2 h-7 shrink-0",children:h.jsx("button",{className:"w-20 h-2 cursor-pointer bg-gray-300 rounded-full","aria-label":"",onClick:a})}),h.jsx("div",{ref:n,className:"flex-1 overflow-y-auto ",children:typeof e=="function"?e({expandToMax:r,collapseToMin:i}):e})]})]})}const MN=e=>j.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},j.createElement("path",{d:"M12 5V19M5 12H19",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}));function Qp({title:e,headerType:t,onClose:n,onClick:r}){return h.jsx("header",{className:"w-full px-2 flex items-center justify-between mb-2",children:t==="add"?h.jsxs("div",{className:"w-full h-8 flex items-center  justify-between ",children:[h.jsx(ib,{headerType:"add",onClick:r}),e&&h.jsx(Gt,{level:3,children:e}),h.jsx(ib,{headerType:"close",onClick:n})]}):h.jsx(h.Fragment,{children:h.jsxs("div",{className:"relative w-full flex items-center justify-center h-6",children:[h.jsx(Gt,{level:3,children:e}),h.jsx("div",{className:"absolute right-0",children:h.jsx(ib,{headerType:"close",onClick:n})})]})})})}function ib({headerType:e,onClick:t}){const n=e==="close"?h.jsx(jj,{}):h.jsx(MN,{className:"text-gray-400",width:16,height:16});return h.jsx("button",{className:"w-6 h-6 cursor-pointer flex items-center justify-center bg-gray-100 rounded-full",onClick:t,children:n})}function y1({id:e,className:t,value:n,defaultValue:r="",...i}){const{data:s}=hc(),o=[{departmentName:r,departmentCode:""},...s??[]],a=e??"department-filter";return h.jsxs(h.Fragment,{children:[h.jsx(Hr,{htmlFor:a,hidden:!0,children:""}),h.jsx("select",{id:a,className:"w-full p-2 rounded-md bg-white border border-gray-400 "+t,value:n,...i,children:o.map(({departmentName:l,departmentCode:c})=>h.jsx("option",{value:c,children:l},c))})]})}function pS({onCloseFiltering:e,filters:t,setFilter:n,resetFilter:r}){const i=()=>{e()},s=ka(),{data:o}=po(s),a=hc(),l=Vp(o??[]).sort((p,g)=>p.localeCompare(g)).map(p=>p),c=oS(t,a.data),f=(p,g)=>{const y=t[p];Array.isArray(y)?n(p,y.filter(b=>b!==g)):n(p,Ml[p])};return h.jsxs(qp,{children:[h.jsx(Qp,{headerType:"close",title:"",onClose:()=>{e()}}),h.jsxs("div",{className:"w-full flex px-4 flex-col h-[85vh] gap-5 overflow-y-auto overscroll-contain",children:[h.jsx(Pe,{direction:"flex-wrap",gap:"gap-2",children:c.map(p=>h.jsx(Xn,{variant:"cancel",label:p.label,selected:!0,onClick:()=>f(p.filterKey,p.values)},`${p.filterKey}-${p.values}`))}),h.jsxs(Pe,{direction:"flex-col",justify:"justify-center",gap:"gap-8",className:"w-full",children:[h.jsx(y1,{className:"cursor-pointer border-gray-100 rounded-sm py-1 text-sm",value:t.department,onChange:p=>n("department",p.target.value)}),h.jsx(ef,{filterKey:"wishRange",options:Pn.wishRange,selectedValue:t.wishRange??null,setFilter:n,ItemComponent:Xn}),h.jsx(ef,{filterKey:"seatRange",options:Pn.seatRange,selectedValue:t.seatRange??null,setFilter:n,ItemComponent:Xn}),h.jsx(Pe,{direction:"flex-col",gap:"gap-2",children:h.jsx(ON,{times:t.time,setFilter:n})}),h.jsx(ir,{filterKey:"credits",options:Pn.credits,selectedValues:t.credits??[],setFilter:n}),h.jsx(ir,{filterKey:"grades",options:Pn.grades,selectedValues:t.grades??[],setFilter:n}),h.jsx(ir,{filterKey:"classroom",options:Pn.classRoom,selectedValues:t.classroom??[],setFilter:n}),h.jsx(ir,{filterKey:"note",options:Pn.remark,selectedValues:t.note??[],setFilter:n}),h.jsx(ir,{filterKey:"categories",options:l,selectedValues:t.categories??[],setFilter:n}),h.jsxs("div",{className:"sticky bottom-0 py-3 bg-white flex justify-end items-center gap-2 border-gray-200",children:[h.jsx(Dt,{variant:"outlined",size:"medium",onClick:r,disabled:c.length===0,children:" "}),h.jsx(Dt,{type:"submit",variant:"primary",size:"medium",onClick:i,children:""})]})]})]})]})}function Rse(){const[e,t]=j.useState(!1),[n,r]=j.useState(!1),i=wd(b=>b.setFilter),{keywords:s,alarmOnly:o,time:a}=wd(b=>b.filters),l=wd(b=>b.filters),c=wd(b=>b.resetFilters),f=hs(),{data:p}=po(),g=Vp(p??[]).sort((b,_)=>b.localeCompare(_)).map(b=>b),y=()=>{f?r(!0):t(!0)};return h.jsxs(Pe,{direction:"flex-wrap",gap:"gap-2",children:[h.jsx(Hr,{className:"hidden",htmlFor:"searchOption",children:" "}),h.jsx(gc,{placeholder:",      ",value:s,className:"w-full",onDelete:()=>i("keywords",""),onChange:b=>i("keywords",b.target.value)}),e&&h.jsx(hS,{filterStore:wd,onClose:()=>t(!1)}),n&&h.jsx(pS,{onCloseFiltering:()=>r(!1),filters:l,setFilter:i,resetFilter:c}),h.jsxs(Pe,{align:"items-center",direction:"flex-wrap",gap:"gap-2",children:[h.jsxs(Pe,{direction:"flex-wrap",gap:"gap-2",className:"hidden md:flex",children:[h.jsx(dS,{selectedValue:l.department??"",setFilter:i}),h.jsx(ON,{times:a,setFilter:i}),h.jsx(ir,{filterKey:"credits",options:Pn.credits,selectedValues:l.credits??[],setFilter:i}),h.jsx(ir,{filterKey:"grades",options:Pn.grades,selectedValues:l.grades??[],setFilter:i}),l.classroom.length>0&&h.jsx(ir,{filterKey:"classroom",options:Pn.classRoom,selectedValues:l.classroom??[],setFilter:i,className:"min-w-max"}),h.jsx(ir,{filterKey:"note",options:Pn.remark,selectedValues:l.note??[],setFilter:i}),l.categories.length>0&&h.jsx(ir,{filterKey:"categories",options:g,selectedValues:l.categories??[],setFilter:i,className:"min-w-max"}),h.jsx(ef,{filterKey:"wishRange",options:Pn.wishRange,selectedValue:l.wishRange??null,setFilter:i,ItemComponent:Xn}),h.jsx(ef,{filterKey:"seatRange",options:Pn.seatRange,selectedValue:l.seatRange??null,setFilter:i,ItemComponent:Xn})]}),h.jsx(fS,{filters:l,resetFilter:c}),h.jsx(cS,{handleOpenFilter:y}),h.jsx(wse,{alarmOnly:o,setFilter:i})]})]})}const Pse=[{title:"",key:"pin"},{title:"",key:"code"},{title:"",key:"departmentName"},{title:"",key:"name"},{title:"",key:"professor"}];function Ose(){const e=wd(t=>t.filters);return h.jsxs(h.Fragment,{children:[h.jsx(Gr,{children:h.jsx("title",{children:"ALLCLL |  "})}),h.jsxs(Pe,{direction:"flex-col",className:"mb-4",children:[h.jsx(Gt,{level:2,children:" "}),h.jsxs(Gn,{children:["   ,    .",h.jsx("br",{}),"  ",jN,", 11:00  ."]}),h.jsxs(Yn,{children:[h.jsx(Rse,{}),h.jsx(eS,{})]}),h.jsx(Mse,{filters:e}),h.jsx(nN,{right:"right-2 sm:right-10"})]})]})}function Mse({filters:e}){const{data:t,titles:n,isPending:r}=rN(Pse),i=mf(t),s=j.useDeferredValue(yf(i??[],e)),o=hs();return h.jsx(Yn,{children:o?h.jsx(uS,{subjects:s,isPending:r,isLive:!0}):h.jsx(hse,{titles:n,subjects:s,isPending:r})})}const Ase={enter:"sidebar-transition-enter",enterActive:"sidebar-transition-enter-active",exit:"sidebar-transition-exit",exitActive:"sidebar-transition-exit-active"};function Dse({isOpen:e,onClose:t}){return h.jsx(Mp,{in:e,timeout:100,classNames:Ase,unmountOnExit:!0,children:h.jsxs(Pe,{direction:"flex-col",className:"w-92 flex-auto bg-gray-50 shadow-lg z-10",children:[h.jsxs("div",{className:"flex justify-between items-center py-2 pl-4 pr-2 bg-white border-b border-gray-200",children:[h.jsx(Gt,{level:2,children:" "}),h.jsx(Rr,{"aria-label":"  ",icon:h.jsx(XI,{className:"w-4 h-4"}),onClick:t})]}),h.jsx(Lse,{})]})})}function Lse(){const[e,t]=j.useState(""),[n,r]=j.useState(""),{data:i,isPending:s}=Ao(),o=mf(i),a=j.useDeferredValue(yf(o??[],{...Ml,keywords:e,department:n}));return h.jsx(Pe,{direction:"flex-col",className:"flex-1 p-2",children:h.jsxs(Pe,{direction:"flex-col",className:"mb-4",gap:"gap-2",children:[h.jsx(gc,{placeholder:"  ",value:e,onChange:l=>t(l.target.value),onDelete:()=>t(""),className:"w-full"}),h.jsx(y1,{className:"flex-auto",value:n,onChange:l=>r(l.target.value)}),h.jsx(uS,{className:"flex flex-full overflow-auto max-h-screen",subjects:a,isPending:s})]})})}function Fse({onCloseSearch:e}){const[t,n]=j.useState(""),[r,i]=j.useState(""),{data:s,isPending:o}=Ao(),a=mf(s),l=j.useDeferredValue(yf(a??[],{...Ml,keywords:t,department:r}));return h.jsx(qp,{children:({expandToMax:c})=>h.jsxs(h.Fragment,{children:[h.jsx(Qp,{title:"",headerType:"close",onClose:()=>e(),onClick:c}),h.jsxs("div",{className:"sticky py-3 px-2 top-0 bg-white z-10 flex flex-col gap-2 mb-4 flex-auto",children:[h.jsx(gc,{placeholder:"  ",onChange:f=>n(f.target.value),onDelete:()=>n(""),className:"w-full"}),h.jsx(y1,{className:"flex-auto",value:r,onChange:f=>i(f.target.value)})]}),h.jsx("div",{className:"max-h-[70vh] min-h-0 px-2 overflow-y-auto touch-auto flex flex-col",children:h.jsx(uS,{className:"flex flex-full overflow-auto max-h-screen",subjects:l,isPending:o})})]})})}const mS=e=>j.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:36,height:36,viewBox:"0 0 36 36",...e},j.createElement("defs",null,j.createElement("clipPath",{id:"master_svg0_106_2202"},j.createElement("rect",{x:0,y:0,width:36,height:36,rx:0}))),j.createElement("g",{clipPath:"url(#master_svg0_106_2202)"},j.createElement("g",{transform:"matrix(1,0,0,-1,0,69.046875)"},j.createElement("g",null,j.createElement("path",{d:"M2.25,66.0234375Q3.23438,66.0234375,3.86719,65.3906375Q4.5,64.7578375,4.5,63.7734375L4.5,40.1484375Q4.57031,39.0937475,5.625,39.0234375L33.75,39.0234375Q34.7344,39.0234375,35.3672,38.3906275Q36,37.7578175,36,36.7734375Q36,35.7890575,35.3672,35.1562495Q34.7344,34.5234375,33.75,34.5234375L5.625,34.5234375Q3.23438,34.59375,1.61719,36.1406275Q0.0703125,37.7578175,0,40.1484375L0,63.7734375Q0,64.7578375,0.632812,65.3906375Q1.26562,66.0234375,2.25,66.0234375ZM9,59.2734375Q9,60.2578375,9.63281,60.8906375Q10.2656,61.5234375,11.25,61.5234375L24.75,61.5234375Q25.7344,61.5234375,26.3672,60.8906375Q27,60.2578375,27,59.2734375Q27,58.2890375,26.3672,57.6562375Q25.7344,57.0234375,24.75,57.0234375L11.25,57.0234375Q10.2656,57.0234375,9.63281,57.6562375Q9,58.2890375,9,59.2734375ZM11.25,54.7734375L20.25,54.7734375L11.25,54.7734375L20.25,54.7734375Q21.2344,54.7734375,21.8672,54.1406375Q22.5,53.5078375,22.5,52.5234375Q22.5,51.5390375,21.8672,50.9062375Q21.2344,50.2734375,20.25,50.2734375L11.25,50.2734375Q10.2656,50.2734375,9.63281,50.9062375Q9,51.5390375,9,52.5234375Q9,53.5078375,9.63281,54.1406375Q10.2656,54.7734375,11.25,54.7734375ZM11.25,48.0234375L29.25,48.0234375L11.25,48.0234375L29.25,48.0234375Q30.2344,48.0234375,30.8672,47.3906375Q31.5,46.7578375,31.5,45.7734375Q31.5,44.7890375,30.8672,44.1562475Q30.2344,43.5234375,29.25,43.5234375L11.25,43.5234375Q10.2656,43.5234375,9.63281,44.1562475Q9,44.7890375,9,45.7734375Q9,46.7578375,9.63281,47.3906375Q10.2656,48.0234375,11.25,48.0234375Z",fill:"#9CA3AF",fillOpacity:1,style:{mixBlendMode:"passthrough"}}))))),Bse=e=>j.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",...e},j.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),j.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})),zse=e=>j.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",...e},j.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.477 0-8.268-2.943-9.542-7a9.957 9.957 0 012.043-3.36m3.237-2.347A9.956 9.956 0 0112 5c4.478 0 8.268 2.943 9.542 7a9.954 9.954 0 01-4.043 5.132M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),j.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3l18 18"}));function $se({initialItems:e,onChange:t}){const[n,r]=j.useState(e),i=j.useRef(null),s=j.useRef([]),[o,a]=j.useState(null),l=j.useRef(null),[c,f]=j.useState(null),[p,g]=j.useState(null);j.useEffect(()=>{t?.(n)},[n,t]),j.useEffect(()=>{if(o){const P=n.findIndex(N=>N.title===o);P!==-1&&s.current[P]?.focus(),a(null)}},[n,o]),j.useEffect(()=>{const P=()=>requestAnimationFrame(_),N=new ResizeObserver(P);return i.current&&N.observe(i.current),window.addEventListener("scroll",P,!0),window.addEventListener("resize",P),P(),()=>{N.disconnect(),window.removeEventListener("scroll",P,!0),window.removeEventListener("resize",P)}},[]);function y(P){r(N=>{const B=[...N];return B[P]={...B[P],visible:!B[P].visible},B})}const b=j.useRef([]);function _(){const P=i.current;if(!P)return;const N=Array.from(P.children);b.current=N.map(B=>{const $=B.getBoundingClientRect();return $.top+$.height/2})}function C(P,N){if(P.key==="ArrowUp"||P.key==="ArrowDown"){P.preventDefault(),P.stopPropagation();const B=N;let $;if(P.key==="ArrowUp"){if(B===0)return;$=B-1}else{if(B===n.length-1)return;$=B+1}const D=n[B].title;r(J=>{const X=[...J],[ie]=X.splice(B,1);return X.splice($,0,ie),X}),a(D)}}function E(P,N){if(!i.current)return;const B=P.target.closest(".draggable-item");if(!B)return;P.target.setPointerCapture(P.pointerId);const $=B.getBoundingClientRect(),D=i.current.getBoundingClientRect();l.current={currentIndex:N,height:$.height,offsetY:P.clientY-$.top,containerRect:D},f({item:n[N],initialIndex:N}),g({width:$.width,left:$.left,top:$.top,position:"fixed",zIndex:50,pointerEvents:"none",transition:"none"}),window.addEventListener("pointermove",R),window.addEventListener("pointerup",M,{once:!0})}function R(P){if(l.current===null)return;const{height:N,offsetY:B,containerRect:$}=l.current;let D=P.clientY-B;D=Math.max($.top,D),D=Math.min($.bottom-N,D),g(K=>({...K||{},top:D})),_();const J=P.clientY;let ie=b.current.findIndex(K=>J<K);ie===-1&&(ie=n.length);const q=l.current.currentIndex;let V=Math.max(0,Math.min(n.length-1,ie>q?ie-1:ie));V!==q&&(l.current.currentIndex=V,r(K=>{const ne=[...K],[Y]=ne.splice(q,1);return ne.splice(V,0,Y),ne}))}function M(){window.removeEventListener("pointermove",R),l.current=null,f(null),g(null)}const U=j.useMemo(()=>c?n.findIndex(P=>P.title===c.item.title):-1,[n,c]);function z(P){if(!c||!l.current||U===-1)return"";const N=U,B=l.current.currentIndex,$=l.current.height;if(P===N)return"";if(N<B){if(P>N&&P<=B)return`translateY(-${$}px)`}else if(P>=B&&P<N)return`translateY(${$}px)`;return""}return h.jsxs(h.Fragment,{children:[h.jsx("ul",{ref:i,className:"bg-white divide-y divide-gray-100 relative",children:n.map((P,N)=>h.jsxs("li",{ref:B=>{s.current[N]=B},className:"draggable-item flex items-center gap-2 rounded-md px-2 transition-transform duration-1000",tabIndex:0,onKeyDown:B=>C(B,N),style:{transform:z(N),opacity:U===N?.4:1},children:[h.jsx("button",{className:"p-1 text-gray-500 hover:text-gray-700 cursor-grab",onPointerDown:B=>E(B,N),"aria-label":`Drag ${P.title}`,title:" ",children:""}),h.jsxs("div",{className:"flex items-center justify-between flex-auto",children:[h.jsx("span",{className:"font-medium",children:P.title}),h.jsx("button",{className:"p-1 text-gray-500 hover:text-gray-700 cursor-pointer","aria-label":P.visible?"":"",title:P.visible?"":"",onClick:()=>y(N),children:P.visible?h.jsx(Bse,{className:"w-4 h-4"}):h.jsx(zse,{className:"w-4 h-4"})})]})]},P.title))}),p&&c&&h.jsx("div",{style:p,className:"bg-blue-50 rounded-md shadow-lg w-full max-w-lg m-auto px-2",children:h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("span",{className:"p-1 text-gray-700",children:""}),h.jsx("span",{className:"font-medium",children:c.item.title})]})}),h.jsx("div",{className:"mt-4 text-sm text-gray-500",children:"Tip:    /    ."})]})}function AN({initialItems:e,onChange:t,onClose:n}){return KI({enabled:!0,onClose:n}),h.jsx(Jn,{title:" ",onClose:n,isOpen:!0,children:h.jsx(Jn.Content,{children:h.jsx($se,{initialItems:e,onChange:t})})})}function Use(e){const{data:t}=po(),{data:n,...r}=k_(e);return{data:n?.map(s=>{const{subjectId:o,seatCount:a,queryTime:l}=s,c=t?.find(b=>b.subjectId===o)||Wy,{subjectName:f,subjectCode:p,classCode:g,professorName:y}=c;return{...c,code:`${p}-${g}`,name:f,professor:y,seat:a,queryTime:l}}),...r}}function Hse(){return h.jsx(c1,{title:"   TOP 10  ",description:"   ",icon:h.jsx(mS,{className:"w-7 h-7"})})}function Wse(){return h.jsx(c1,{title:"   ",description:"   .   .",icon:h.jsx(w_,{className:"w-7 h-7 text-gray-400"}),children:h.jsx(Pe,{justify:"justify-center",children:h.jsx("a",{className:"bg-gray-50 rounded-full px-4 py-2 text-sm border border-gray-200 hover:shadow-md cursor-pointer",href:"https://open.kakao.com/o/g3MztXfh",children:"  "})})})}const DN=(e,t)=>di()(mj(n=>({tableTitles:t,setTableTitles:r=>n({tableTitles:r}),resetTableTitles:()=>n({tableTitles:t})}),{name:`${e}-table-head-store`})),Vse=[{title:"",visible:!0,key:"code"},{title:"",visible:!0,key:"name"},{title:"",visible:!0,key:"professor"},{title:"",visible:!0,key:"seat"},{title:"",visible:!0,key:"queryTime"},{title:"",visible:!1,key:"manageDeptNm"},{title:"",visible:!1,key:"studentYear"},{title:"",visible:!1,key:"lesnTime"},{title:"",visible:!1,key:"lesnRoom"},{title:"",visible:!1,key:"tmNum"},{title:"",visible:!1,key:"remark"},{title:"",visible:!1,key:"curiTypeCdNm"},{title:"",visible:!1,key:"curiLangNm"}],I6=DN("live",Vse),qse=({title:e=""})=>{const[t,n]=j.useState(!1),r=I6(s=>s.setTableTitles),i=I6(s=>s.tableTitles);return h.jsxs(Yn,{children:[t&&h.jsx(AN,{initialItems:i,onChange:r,onClose:()=>n(!1)}),h.jsxs(Pe,{justify:"justify-between",align:"items-center",className:"mb-2",children:[h.jsxs(Gt,{level:3,children:[e," "]}),h.jsx(Rr,{label:" ",variant:"plain","aria-label":" ",icon:h.jsx(mS,{className:"w-4 h-4"}),onClick:()=>n(!0)})]}),h.jsx("div",{className:"overflow-x-auto",children:h.jsxs("table",{className:"w-full bg-white rounded-lg text-sm",children:[h.jsx("thead",{children:h.jsx("tr",{className:"bg-gray-50 sticky top-0 z-10 text-nowrap",children:i.filter(s=>s.visible).map(({title:s})=>h.jsx("th",{className:"px-4 py-2",children:s},s))})}),h.jsx("tbody",{children:h.jsx(Qse,{tableTitles:i})})]})}),h.jsx(eS,{})]})};function Qse({tableTitles:e}){const{data:t,isError:n,isPending:r,refetch:i}=Use(Vy.NON_MAJOR),s=e.filter(l=>l.visible),o=new Date>wj("2025-12-09T17:00:00"),a=Nd(l=>l.sseState);return n?h.jsx("tr",{children:h.jsx("td",{colSpan:s.length,children:h.jsx(tN,{onReload:i})})}):r||!t?h.jsx(mp,{row:5,col:s.length}):a===E_.IDLE&&o?h.jsx("tr",{children:h.jsx("td",{colSpan:s.length,className:"text-center",children:h.jsx(Wse,{})})}):t.length?h.jsx(By,{component:null,children:t.map(l=>h.jsx(Mp,{timeout:500,classNames:"row-change",children:h.jsx(Kse,{subject:l,HeadTitles:s},l.code)},l.code))}):h.jsx("tr",{children:h.jsx("td",{colSpan:s.length,className:"text-center",children:h.jsx(Hse,{})})})}function Kse({subject:e,HeadTitles:t}){const n=j.useRef(e.seat),[r,i]=j.useState(!1),s=e.isDeleted,o=e.curiLangNm==="",a=r?"bg-blue-50":s?"bg-gray-100":o?"bg-green-50":"";return j.useEffect(()=>{if(n.current!==e.seat){i(!0);const l=setTimeout(()=>i(!1),1e3);return n.current=e.seat,()=>clearTimeout(l)}},[e.seat]),h.jsx("tr",{className:`border-t border-gray-200 text-black transition-colors duration-500 text-nowrap ${a}`,children:t.map(({key:l})=>{switch(l){case"seat":return h.jsx("td",{className:"px-4 py-2 text-center",children:h.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-bold "+a1(e.seat??-1),children:e[l]})},l);case"queryTime":return h.jsx(Gse,{queryTime:e.queryTime},l);default:return h.jsx("td",{className:"px-4 py-2 text-center",children:e[l]},l)}})})}function Gse({queryTime:e}){return JI(),h.jsx("td",{className:"w-18 px-4 py-2 text-center text-xs",children:h.jsx("span",{className:"text-gray-500",children:J_(e)})})}function Yse(){const e=Uw(s=>s.isSearchOpen),t=Uw(s=>s.setIsSearchOpen),n=hs(),{isPreSeatAvailable:r}=h1(),i=!r;return h.jsxs(h.Fragment,{children:[h.jsx(Gr,{children:h.jsx("title",{children:"ALLCLL |   "})}),h.jsxs(Pe,{className:"overflow-hidden min-h-screen",children:[h.jsxs(Pe,{direction:"flex-col",className:"max-w-screen-xl mx-auto p-4 mb-8 container",children:[h.jsxs(Pe,{direction:"flex-col",gap:"gap-0",children:[h.jsx(Gt,{level:1,children:"  "}),h.jsxs(Gn,{children:["     .    ",h.jsx("a",{href:"https://forms.gle/bCDTVujEHunnvHe88",target:"_blank",className:"text-blue-500 underline hover:text-blue-600",children:""})]})]}),i&&h.jsx(jne,{}),h.jsx($l,{columns:{base:1},gap:"gap-4",children:h.jsx(Xse,{isPreSeatAvailable:r})})]}),h.jsx(Jse,{isMobile:n,isOpen:e,onClose:()=>t(!1)})]})]})}function Xse({isPreSeatAvailable:e}){return e?h.jsx(Ose,{}):h.jsx(qse,{title:""})}function Jse({isMobile:e,isOpen:t,onClose:n}){return t?e?h.jsx(Fse,{onCloseSearch:n}):h.jsx(Dse,{isOpen:t,onClose:n}):null}function Zse(){const[e,t]=j.useState(!1);return h.jsxs(h.Fragment,{children:[h.jsx(Gr,{children:h.jsx("title",{children:"ALLCLL | "})}),h.jsxs("div",{className:"mx-auto flex flex-col justify-center bg-blue-100 h-max",children:[h.jsx("iframe",{src:"https://resilient-may-c73.notion.site/ebd/1f2acf7c316280939afed2657259c817",width:"100%",height:e?"1000":"0",onLoad:()=>t(!0),children:" "}),!e&&h.jsx("div",{className:"w-4xl mx-auto h-screen flex justify-center items-center text-3xl",children:" ..."})]})]})}function eoe(){const[e,t]=j.useState(!1);return h.jsxs(h.Fragment,{children:[h.jsx(Gr,{children:h.jsx("title",{children:"ALLCLL |   "})}),h.jsxs("div",{className:"mx-auto flex justify-center bg-blue-100 pt-4",children:[h.jsx("iframe",{src:"https://docs.google.com/forms/d/e/1FAIpQLSdk7MxNYVyzPyJLecQdJU5wGSgdE7rUWtRfcrPBY2ioKbtW2Q/viewform?embedded=true",width:"640",height:e?"1100":"0",onLoad:()=>t(!0),children:" "}),!e&&h.jsx("div",{className:"w-4xl h-screen flex items-center text-3xl",children:" ..."})]})]})}function N6(e,t){const n=String(e);if(typeof t!="string")throw new TypeError("Expected character");let r=0,i=n.indexOf(t);for(;i!==-1;)r++,i=n.indexOf(t,i+t.length);return r}const _i=Vl(/[A-Za-z]/),li=Vl(/[\dA-Za-z]/),toe=Vl(/[#-'*+\--9=?A-Z^-~]/);function cy(e){return e!==null&&(e<32||e===127)}const i2=Vl(/\d/),noe=Vl(/[\dA-Fa-f]/),roe=Vl(/[!-/:-@[-`{-~]/);function gt(e){return e!==null&&e<-2}function En(e){return e!==null&&(e<0||e===32)}function Xt(e){return e===-2||e===-1||e===32}const v1=Vl(new RegExp("\\p{P}|\\p{S}","u")),rc=Vl(/\s/);function Vl(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function ioe(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}const x1=function(e){if(e==null)return loe;if(typeof e=="function")return b1(e);if(typeof e=="object")return Array.isArray(e)?soe(e):ooe(e);if(typeof e=="string")return aoe(e);throw new Error("Expected function, string, or object as test")};function soe(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=x1(e[n]);return b1(r);function r(...i){let s=-1;for(;++s<t.length;)if(t[s].apply(this,i))return!0;return!1}}function ooe(e){const t=e;return b1(n);function n(r){const i=r;let s;for(s in e)if(i[s]!==t[s])return!1;return!0}}function aoe(e){return b1(t);function t(n){return n&&n.type===e}}function b1(e){return t;function t(n,r,i){return!!(uoe(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function loe(){return!0}function uoe(e){return e!==null&&typeof e=="object"&&"type"in e}const LN=[],coe=!0,s2=!1,doe="skip";function FN(e,t,n,r){let i;typeof t=="function"&&typeof n!="function"?(r=n,n=t):i=t;const s=x1(i),o=r?-1:1;a(e,void 0,[])();function a(l,c,f){const p=l&&typeof l=="object"?l:{};if(typeof p.type=="string"){const y=typeof p.tagName=="string"?p.tagName:typeof p.name=="string"?p.name:void 0;Object.defineProperty(g,"name",{value:"node ("+(l.type+(y?"<"+y+">":""))+")"})}return g;function g(){let y=LN,b,_,C;if((!t||s(l,c,f[f.length-1]||void 0))&&(y=foe(n(l,f)),y[0]===s2))return y;if("children"in l&&l.children){const E=l;if(E.children&&y[0]!==doe)for(_=(r?E.children.length:-1)+o,C=f.concat(E);_>-1&&_<E.children.length;){const R=E.children[_];if(b=a(R,_,C)(),b[0]===s2)return b;_=typeof b[1]=="number"?b[1]:_+o}}return y}}}function foe(e){return Array.isArray(e)?e:typeof e=="number"?[coe,e]:e==null?LN:[e]}function hoe(e,t,n){const i=x1((n||{}).ignore||[]),s=poe(t);let o=-1;for(;++o<s.length;)FN(e,"text",a);function a(c,f){let p=-1,g;for(;++p<f.length;){const y=f[p],b=g?g.children:void 0;if(i(y,b?b.indexOf(y):void 0,g))return;g=y}if(g)return l(c,f)}function l(c,f){const p=f[f.length-1],g=s[o][0],y=s[o][1];let b=0;const C=p.children.indexOf(c);let E=!1,R=[];g.lastIndex=0;let M=g.exec(c.value);for(;M;){const U=M.index,z={index:M.index,input:M.input,stack:[...f,c]};let P=y(...M,z);if(typeof P=="string"&&(P=P.length>0?{type:"text",value:P}:void 0),P===!1?g.lastIndex=U+1:(b!==U&&R.push({type:"text",value:c.value.slice(b,U)}),Array.isArray(P)?R.push(...P):P&&R.push(P),b=U+M[0].length,E=!0),!g.global)break;M=g.exec(c.value)}return E?(b<c.value.length&&R.push({type:"text",value:c.value.slice(b)}),p.children.splice(C,1,...R)):R=[c],C+R.length}}function poe(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!e[0]||Array.isArray(e[0])?e:[e];let r=-1;for(;++r<n.length;){const i=n[r];t.push([moe(i[0]),goe(i[1])])}return t}function moe(e){return typeof e=="string"?new RegExp(ioe(e),"g"):e}function goe(e){return typeof e=="function"?e:function(){return e}}const sb="phrasing",ob=["autolink","link","image","label"];function yoe(){return{transforms:[Coe],enter:{literalAutolink:xoe,literalAutolinkEmail:ab,literalAutolinkHttp:ab,literalAutolinkWww:ab},exit:{literalAutolink:Soe,literalAutolinkEmail:_oe,literalAutolinkHttp:boe,literalAutolinkWww:woe}}}function voe(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:sb,notInConstruct:ob},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:sb,notInConstruct:ob},{character:":",before:"[ps]",after:"\\/",inConstruct:sb,notInConstruct:ob}]}}function xoe(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function ab(e){this.config.enter.autolinkProtocol.call(this,e)}function boe(e){this.config.exit.autolinkProtocol.call(this,e)}function woe(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function _oe(e){this.config.exit.autolinkEmail.call(this,e)}function Soe(e){this.exit(e)}function Coe(e){hoe(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,Eoe],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),koe]],{ignore:["link","linkReference"]})}function Eoe(e,t,n,r,i){let s="";if(!BN(i)||(/^w/i.test(t)&&(n=t+n,t="",s="http://"),!Toe(n)))return!1;const o=joe(n+r);if(!o[0])return!1;const a={type:"link",title:null,url:s+t+o[0],children:[{type:"text",value:t+o[0]}]};return o[1]?[a,{type:"text",value:o[1]}]:a}function koe(e,t,n,r){return!BN(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function Toe(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function joe(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],r=n.indexOf(")");const i=N6(e,"(");let s=N6(e,")");for(;r!==-1&&i>s;)e+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),s++;return[e,n]}function BN(e,t){const n=e.input.charCodeAt(e.index-1);return(e.index===0||rc(n)||v1(n))&&(!t||n!==47)}function ao(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}zN.peek=Loe;function Ioe(){this.buffer()}function Noe(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function Roe(){this.buffer()}function Poe(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function Ooe(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=ao(this.sliceSerialize(e)).toLowerCase(),n.label=t}function Moe(e){this.exit(e)}function Aoe(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=ao(this.sliceSerialize(e)).toLowerCase(),n.label=t}function Doe(e){this.exit(e)}function Loe(){return"["}function zN(e,t,n,r){const i=n.createTracker(r);let s=i.move("[^");const o=n.enter("footnoteReference"),a=n.enter("reference");return s+=i.move(n.safe(n.associationId(e),{after:"]",before:s})),a(),o(),s+=i.move("]"),s}function Foe(){return{enter:{gfmFootnoteCallString:Ioe,gfmFootnoteCall:Noe,gfmFootnoteDefinitionLabelString:Roe,gfmFootnoteDefinition:Poe},exit:{gfmFootnoteCallString:Ooe,gfmFootnoteCall:Moe,gfmFootnoteDefinitionLabelString:Aoe,gfmFootnoteDefinition:Doe}}}function Boe(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:n,footnoteReference:zN},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,i,s,o){const a=s.createTracker(o);let l=a.move("[^");const c=s.enter("footnoteDefinition"),f=s.enter("label");return l+=a.move(s.safe(s.associationId(r),{before:l,after:"]"})),f(),l+=a.move("]:"),r.children&&r.children.length>0&&(a.shift(4),l+=a.move((t?`
`:" ")+s.indentLines(s.containerFlow(r,a.current()),t?$N:zoe))),c(),l}}function zoe(e,t,n){return t===0?e:$N(e,t,n)}function $N(e,t,n){return(n?"":"    ")+e}const $oe=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];UN.peek=qoe;function Uoe(){return{canContainEols:["delete"],enter:{strikethrough:Woe},exit:{strikethrough:Voe}}}function Hoe(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:$oe}],handlers:{delete:UN}}}function Woe(e){this.enter({type:"delete",children:[]},e)}function Voe(e){this.exit(e)}function UN(e,t,n,r){const i=n.createTracker(r),s=n.enter("strikethrough");let o=i.move("~~");return o+=n.containerPhrasing(e,{...i.current(),before:o,after:"~"}),o+=i.move("~~"),s(),o}function qoe(){return"~"}function Qoe(e){return e.length}function Koe(e,t){const n=t||{},r=(n.align||[]).concat(),i=n.stringLength||Qoe,s=[],o=[],a=[],l=[];let c=0,f=-1;for(;++f<e.length;){const _=[],C=[];let E=-1;for(e[f].length>c&&(c=e[f].length);++E<e[f].length;){const R=Goe(e[f][E]);if(n.alignDelimiters!==!1){const M=i(R);C[E]=M,(l[E]===void 0||M>l[E])&&(l[E]=M)}_.push(R)}o[f]=_,a[f]=C}let p=-1;if(typeof r=="object"&&"length"in r)for(;++p<c;)s[p]=R6(r[p]);else{const _=R6(r);for(;++p<c;)s[p]=_}p=-1;const g=[],y=[];for(;++p<c;){const _=s[p];let C="",E="";_===99?(C=":",E=":"):_===108?C=":":_===114&&(E=":");let R=n.alignDelimiters===!1?1:Math.max(1,l[p]-C.length-E.length);const M=C+"-".repeat(R)+E;n.alignDelimiters!==!1&&(R=C.length+R+E.length,R>l[p]&&(l[p]=R),y[p]=R),g[p]=M}o.splice(1,0,g),a.splice(1,0,y),f=-1;const b=[];for(;++f<o.length;){const _=o[f],C=a[f];p=-1;const E=[];for(;++p<c;){const R=_[p]||"";let M="",U="";if(n.alignDelimiters!==!1){const z=l[p]-(C[p]||0),P=s[p];P===114?M=" ".repeat(z):P===99?z%2?(M=" ".repeat(z/2+.5),U=" ".repeat(z/2-.5)):(M=" ".repeat(z/2),U=M):U=" ".repeat(z)}n.delimiterStart!==!1&&!p&&E.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&R==="")&&(n.delimiterStart!==!1||p)&&E.push(" "),n.alignDelimiters!==!1&&E.push(M),E.push(R),n.alignDelimiters!==!1&&E.push(U),n.padding!==!1&&E.push(" "),(n.delimiterEnd!==!1||p!==c-1)&&E.push("|")}b.push(n.delimiterEnd===!1?E.join("").replace(/ +$/,""):E.join(""))}return b.join(`
`)}function Goe(e){return e==null?"":String(e)}function R6(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}function Yoe(e,t,n,r){const i=n.enter("blockquote"),s=n.createTracker(r);s.move("> "),s.shift(2);const o=n.indentLines(n.containerFlow(e,s.current()),Xoe);return i(),o}function Xoe(e,t,n){return">"+(n?"":" ")+e}function Joe(e,t){return P6(e,t.inConstruct,!0)&&!P6(e,t.notInConstruct,!1)}function P6(e,t,n){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return n;let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function O6(e,t,n,r){let i=-1;for(;++i<n.unsafe.length;)if(n.unsafe[i].character===`
`&&Joe(n.stack,n.unsafe[i]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function Zoe(e,t){const n=String(e);let r=n.indexOf(t),i=r,s=0,o=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===i?++s>o&&(o=s):s=1,i=r+t.length,r=n.indexOf(t,i);return o}function eae(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function tae(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function nae(e,t,n,r){const i=tae(n),s=e.value||"",o=i==="`"?"GraveAccent":"Tilde";if(eae(e,n)){const p=n.enter("codeIndented"),g=n.indentLines(s,rae);return p(),g}const a=n.createTracker(r),l=i.repeat(Math.max(Zoe(s,i)+1,3)),c=n.enter("codeFenced");let f=a.move(l);if(e.lang){const p=n.enter(`codeFencedLang${o}`);f+=a.move(n.safe(e.lang,{before:f,after:" ",encode:["`"],...a.current()})),p()}if(e.lang&&e.meta){const p=n.enter(`codeFencedMeta${o}`);f+=a.move(" "),f+=a.move(n.safe(e.meta,{before:f,after:`
`,encode:["`"],...a.current()})),p()}return f+=a.move(`
`),s&&(f+=a.move(s+`
`)),f+=a.move(l),c(),f}function rae(e,t,n){return(n?"":"    ")+e}function gS(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function iae(e,t,n,r){const i=gS(n),s=i==='"'?"Quote":"Apostrophe",o=n.enter("definition");let a=n.enter("label");const l=n.createTracker(r);let c=l.move("[");return c+=l.move(n.safe(n.associationId(e),{before:c,after:"]",...l.current()})),c+=l.move("]: "),a(),!e.url||/[\0- \u007F]/.test(e.url)?(a=n.enter("destinationLiteral"),c+=l.move("<"),c+=l.move(n.safe(e.url,{before:c,after:">",...l.current()})),c+=l.move(">")):(a=n.enter("destinationRaw"),c+=l.move(n.safe(e.url,{before:c,after:e.title?" ":`
`,...l.current()}))),a(),e.title&&(a=n.enter(`title${s}`),c+=l.move(" "+i),c+=l.move(n.safe(e.title,{before:c,after:i,...l.current()})),c+=l.move(i),a()),o(),c}function sae(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function gp(e){return"&#x"+e.toString(16).toUpperCase()+";"}function tf(e){if(e===null||En(e)||rc(e))return 1;if(v1(e))return 2}function dy(e,t,n){const r=tf(e),i=tf(t);return r===void 0?i===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}HN.peek=oae;function HN(e,t,n,r){const i=sae(n),s=n.enter("emphasis"),o=n.createTracker(r),a=o.move(i);let l=o.move(n.containerPhrasing(e,{after:i,before:a,...o.current()}));const c=l.charCodeAt(0),f=dy(r.before.charCodeAt(r.before.length-1),c,i);f.inside&&(l=gp(c)+l.slice(1));const p=l.charCodeAt(l.length-1),g=dy(r.after.charCodeAt(0),p,i);g.inside&&(l=l.slice(0,-1)+gp(p));const y=o.move(i);return s(),n.attentionEncodeSurroundingInfo={after:g.outside,before:f.outside},a+l+y}function oae(e,t,n){return n.options.emphasis||"*"}function yS(e,t,n,r){let i,s,o;typeof t=="function"&&typeof n!="function"?(s=void 0,o=t,i=n):(s=t,o=n,i=r),FN(e,s,a,i);function a(l,c){const f=c[c.length-1],p=f?f.children.indexOf(l):void 0;return o(l,p,f)}}const aae={};function vS(e,t){const n=aae,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return WN(e,r,i)}function WN(e,t,n){if(lae(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return M6(e.children,t,n)}return Array.isArray(e)?M6(e,t,n):""}function M6(e,t,n){const r=[];let i=-1;for(;++i<e.length;)r[i]=WN(e[i],t,n);return r.join("")}function lae(e){return!!(e&&typeof e=="object")}function uae(e,t){let n=!1;return yS(e,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,s2}),!!((!e.depth||e.depth<3)&&vS(e)&&(t.options.setext||n))}function cae(e,t,n,r){const i=Math.max(Math.min(6,e.depth||1),1),s=n.createTracker(r);if(uae(e,n)){const f=n.enter("headingSetext"),p=n.enter("phrasing"),g=n.containerPhrasing(e,{...s.current(),before:`
`,after:`
`});return p(),f(),g+`
`+(i===1?"=":"-").repeat(g.length-(Math.max(g.lastIndexOf("\r"),g.lastIndexOf(`
`))+1))}const o="#".repeat(i),a=n.enter("headingAtx"),l=n.enter("phrasing");s.move(o+" ");let c=n.containerPhrasing(e,{before:"# ",after:`
`,...s.current()});return/^[\t ]/.test(c)&&(c=gp(c.charCodeAt(0))+c.slice(1)),c=c?o+" "+c:o,n.options.closeAtx&&(c+=" "+o),l(),a(),c}VN.peek=dae;function VN(e){return e.value||""}function dae(){return"<"}qN.peek=fae;function qN(e,t,n,r){const i=gS(n),s=i==='"'?"Quote":"Apostrophe",o=n.enter("image");let a=n.enter("label");const l=n.createTracker(r);let c=l.move("![");return c+=l.move(n.safe(e.alt,{before:c,after:"]",...l.current()})),c+=l.move("]("),a(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(a=n.enter("destinationLiteral"),c+=l.move("<"),c+=l.move(n.safe(e.url,{before:c,after:">",...l.current()})),c+=l.move(">")):(a=n.enter("destinationRaw"),c+=l.move(n.safe(e.url,{before:c,after:e.title?" ":")",...l.current()}))),a(),e.title&&(a=n.enter(`title${s}`),c+=l.move(" "+i),c+=l.move(n.safe(e.title,{before:c,after:i,...l.current()})),c+=l.move(i),a()),c+=l.move(")"),o(),c}function fae(){return"!"}QN.peek=hae;function QN(e,t,n,r){const i=e.referenceType,s=n.enter("imageReference");let o=n.enter("label");const a=n.createTracker(r);let l=a.move("![");const c=n.safe(e.alt,{before:l,after:"]",...a.current()});l+=a.move(c+"]["),o();const f=n.stack;n.stack=[],o=n.enter("reference");const p=n.safe(n.associationId(e),{before:l,after:"]",...a.current()});return o(),n.stack=f,s(),i==="full"||!c||c!==p?l+=a.move(p+"]"):i==="shortcut"?l=l.slice(0,-1):l+=a.move("]"),l}function hae(){return"!"}KN.peek=pae;function KN(e,t,n){let r=e.value||"",i="`",s=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++s<n.unsafe.length;){const o=n.unsafe[s],a=n.compilePattern(o);let l;if(o.atBreak)for(;l=a.exec(r);){let c=l.index;r.charCodeAt(c)===10&&r.charCodeAt(c-1)===13&&c--,r=r.slice(0,c)+" "+r.slice(l.index+1)}}return i+r+i}function pae(){return"`"}function GN(e,t){const n=vS(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}YN.peek=mae;function YN(e,t,n,r){const i=gS(n),s=i==='"'?"Quote":"Apostrophe",o=n.createTracker(r);let a,l;if(GN(e,n)){const f=n.stack;n.stack=[],a=n.enter("autolink");let p=o.move("<");return p+=o.move(n.containerPhrasing(e,{before:p,after:">",...o.current()})),p+=o.move(">"),a(),n.stack=f,p}a=n.enter("link"),l=n.enter("label");let c=o.move("[");return c+=o.move(n.containerPhrasing(e,{before:c,after:"](",...o.current()})),c+=o.move("]("),l(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(l=n.enter("destinationLiteral"),c+=o.move("<"),c+=o.move(n.safe(e.url,{before:c,after:">",...o.current()})),c+=o.move(">")):(l=n.enter("destinationRaw"),c+=o.move(n.safe(e.url,{before:c,after:e.title?" ":")",...o.current()}))),l(),e.title&&(l=n.enter(`title${s}`),c+=o.move(" "+i),c+=o.move(n.safe(e.title,{before:c,after:i,...o.current()})),c+=o.move(i),l()),c+=o.move(")"),a(),c}function mae(e,t,n){return GN(e,n)?"<":"["}XN.peek=gae;function XN(e,t,n,r){const i=e.referenceType,s=n.enter("linkReference");let o=n.enter("label");const a=n.createTracker(r);let l=a.move("[");const c=n.containerPhrasing(e,{before:l,after:"]",...a.current()});l+=a.move(c+"]["),o();const f=n.stack;n.stack=[],o=n.enter("reference");const p=n.safe(n.associationId(e),{before:l,after:"]",...a.current()});return o(),n.stack=f,s(),i==="full"||!c||c!==p?l+=a.move(p+"]"):i==="shortcut"?l=l.slice(0,-1):l+=a.move("]"),l}function gae(){return"["}function xS(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function yae(e){const t=xS(e),n=e.options.bulletOther;if(!n)return t==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}function vae(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function JN(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function xae(e,t,n,r){const i=n.enter("list"),s=n.bulletCurrent;let o=e.ordered?vae(n):xS(n);const a=e.ordered?o==="."?")":".":yae(n);let l=t&&n.bulletLastUsed?o===n.bulletLastUsed:!1;if(!e.ordered){const f=e.children?e.children[0]:void 0;if((o==="*"||o==="-")&&f&&(!f.children||!f.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(l=!0),JN(n)===o&&f){let p=-1;for(;++p<e.children.length;){const g=e.children[p];if(g&&g.type==="listItem"&&g.children&&g.children[0]&&g.children[0].type==="thematicBreak"){l=!0;break}}}}l&&(o=a),n.bulletCurrent=o;const c=n.containerFlow(e,r);return n.bulletLastUsed=o,n.bulletCurrent=s,i(),c}function bae(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function wae(e,t,n,r){const i=bae(n);let s=n.bulletCurrent||xS(n);t&&t.type==="list"&&t.ordered&&(s=(typeof t.start=="number"&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+s);let o=s.length+1;(i==="tab"||i==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(o=Math.ceil(o/4)*4);const a=n.createTracker(r);a.move(s+" ".repeat(o-s.length)),a.shift(o);const l=n.enter("listItem"),c=n.indentLines(n.containerFlow(e,a.current()),f);return l(),c;function f(p,g,y){return g?(y?"":" ".repeat(o))+p:(y?s:s+" ".repeat(o-s.length))+p}}function _ae(e,t,n,r){const i=n.enter("paragraph"),s=n.enter("phrasing"),o=n.containerPhrasing(e,r);return s(),i(),o}const Sae=x1(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function Cae(e,t,n,r){return(e.children.some(function(o){return Sae(o)})?n.containerPhrasing:n.containerFlow).call(n,e,r)}function Eae(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}ZN.peek=kae;function ZN(e,t,n,r){const i=Eae(n),s=n.enter("strong"),o=n.createTracker(r),a=o.move(i+i);let l=o.move(n.containerPhrasing(e,{after:i,before:a,...o.current()}));const c=l.charCodeAt(0),f=dy(r.before.charCodeAt(r.before.length-1),c,i);f.inside&&(l=gp(c)+l.slice(1));const p=l.charCodeAt(l.length-1),g=dy(r.after.charCodeAt(0),p,i);g.inside&&(l=l.slice(0,-1)+gp(p));const y=o.move(i+i);return s(),n.attentionEncodeSurroundingInfo={after:g.outside,before:f.outside},a+l+y}function kae(e,t,n){return n.options.strong||"*"}function Tae(e,t,n,r){return n.safe(e.value,r)}function jae(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function Iae(e,t,n){const r=(JN(n)+(n.options.ruleSpaces?" ":"")).repeat(jae(n));return n.options.ruleSpaces?r.slice(0,-1):r}const eR={blockquote:Yoe,break:O6,code:nae,definition:iae,emphasis:HN,hardBreak:O6,heading:cae,html:VN,image:qN,imageReference:QN,inlineCode:KN,link:YN,linkReference:XN,list:xae,listItem:wae,paragraph:_ae,root:Cae,strong:ZN,text:Tae,thematicBreak:Iae},A6=document.createElement("i");function bS(e){const t="&"+e+";";A6.innerHTML=t;const n=A6.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function tR(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}const Nae=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function Rae(e){return e.replace(Nae,Pae)}function Pae(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),s=i===120||i===88;return tR(n.slice(s?2:1),s?16:10)}return bS(n)||e}function Oae(){return{enter:{table:Mae,tableData:D6,tableHeader:D6,tableRow:Dae},exit:{codeText:Lae,table:Aae,tableData:lb,tableHeader:lb,tableRow:lb}}}function Mae(e){const t=e._align;this.enter({type:"table",align:t.map(function(n){return n==="none"?null:n}),children:[]},e),this.data.inTable=!0}function Aae(e){this.exit(e),this.data.inTable=void 0}function Dae(e){this.enter({type:"tableRow",children:[]},e)}function lb(e){this.exit(e)}function D6(e){this.enter({type:"tableCell",children:[]},e)}function Lae(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,Fae));const n=this.stack[this.stack.length-1];n.type,n.value=t,this.exit(e)}function Fae(e,t){return t==="|"?t:e}function Bae(e){const t=e||{},n=t.tableCellPadding,r=t.tablePipeAlign,i=t.stringLength,s=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:g,table:o,tableCell:l,tableRow:a}};function o(y,b,_,C){return c(f(y,_,C),y.align)}function a(y,b,_,C){const E=p(y,_,C),R=c([E]);return R.slice(0,R.indexOf(`
`))}function l(y,b,_,C){const E=_.enter("tableCell"),R=_.enter("phrasing"),M=_.containerPhrasing(y,{...C,before:s,after:s});return R(),E(),M}function c(y,b){return Koe(y,{align:b,alignDelimiters:r,padding:n,stringLength:i})}function f(y,b,_){const C=y.children;let E=-1;const R=[],M=b.enter("table");for(;++E<C.length;)R[E]=p(C[E],b,_);return M(),R}function p(y,b,_){const C=y.children;let E=-1;const R=[],M=b.enter("tableRow");for(;++E<C.length;)R[E]=l(C[E],y,b,_);return M(),R}function g(y,b,_){let C=eR.inlineCode(y,b,_);return _.stack.includes("tableCell")&&(C=C.replace(/\|/g,"\\$&")),C}}function zae(){return{exit:{taskListCheckValueChecked:L6,taskListCheckValueUnchecked:L6,paragraph:Uae}}}function $ae(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:Hae}}}function L6(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function Uae(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const i=t.children;let s=-1,o;for(;++s<i.length;){const a=i[s];if(a.type==="paragraph"){o=a;break}}o===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(e)}function Hae(e,t,n,r){const i=e.children[0],s=typeof e.checked=="boolean"&&i&&i.type==="paragraph",o="["+(e.checked?"x":" ")+"] ",a=n.createTracker(r);s&&a.move(o);let l=eR.listItem(e,t,n,{...r,...a.current()});return s&&(l=l.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,c)),l;function c(f){return f+o}}function Wae(){return[yoe(),Foe(),Uoe(),Oae(),zae()]}function Vae(e){return{extensions:[voe(),Boe(e),Hoe(),Bae(e),$ae()]}}function ds(e,t,n,r){const i=e.length;let s=0,o;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(t,n),e.splice(...o);else for(n&&e.splice(t,n);s<r.length;)o=r.slice(s,s+1e4),o.unshift(t,0),e.splice(...o),s+=1e4,t+=1e4}function Rs(e,t){return e.length>0?(ds(e,e.length,0,t),e):t}const F6={}.hasOwnProperty;function nR(e){const t={};let n=-1;for(;++n<e.length;)qae(t,e[n]);return t}function qae(e,t){let n;for(n in t){const i=(F6.call(e,n)?e[n]:void 0)||(e[n]={}),s=t[n];let o;if(s)for(o in s){F6.call(i,o)||(i[o]=[]);const a=s[o];Qae(i[o],Array.isArray(a)?a:a?[a]:[])}}}function Qae(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);ds(e,0,0,r)}const Kae={tokenize:ele,partial:!0},rR={tokenize:tle,partial:!0},iR={tokenize:nle,partial:!0},sR={tokenize:rle,partial:!0},Gae={tokenize:ile,partial:!0},oR={name:"wwwAutolink",tokenize:Jae,previous:lR},aR={name:"protocolAutolink",tokenize:Zae,previous:uR},Ia={name:"emailAutolink",tokenize:Xae,previous:cR},Do={};function Yae(){return{text:Do}}let Tu=48;for(;Tu<123;)Do[Tu]=Ia,Tu++,Tu===58?Tu=65:Tu===91&&(Tu=97);Do[43]=Ia;Do[45]=Ia;Do[46]=Ia;Do[95]=Ia;Do[72]=[Ia,aR];Do[104]=[Ia,aR];Do[87]=[Ia,oR];Do[119]=[Ia,oR];function Xae(e,t,n){const r=this;let i,s;return o;function o(p){return!o2(p)||!cR.call(r,r.previous)||wS(r.events)?n(p):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),a(p))}function a(p){return o2(p)?(e.consume(p),a):p===64?(e.consume(p),l):n(p)}function l(p){return p===46?e.check(Gae,f,c)(p):p===45||p===95||li(p)?(s=!0,e.consume(p),l):f(p)}function c(p){return e.consume(p),i=!0,l}function f(p){return s&&i&&_i(r.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(p)):n(p)}}function Jae(e,t,n){const r=this;return i;function i(o){return o!==87&&o!==119||!lR.call(r,r.previous)||wS(r.events)?n(o):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(Kae,e.attempt(rR,e.attempt(iR,s),n),n)(o))}function s(o){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(o)}}function Zae(e,t,n){const r=this;let i="",s=!1;return o;function o(p){return(p===72||p===104)&&uR.call(r,r.previous)&&!wS(r.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),i+=String.fromCodePoint(p),e.consume(p),a):n(p)}function a(p){if(_i(p)&&i.length<5)return i+=String.fromCodePoint(p),e.consume(p),a;if(p===58){const g=i.toLowerCase();if(g==="http"||g==="https")return e.consume(p),l}return n(p)}function l(p){return p===47?(e.consume(p),s?c:(s=!0,l)):n(p)}function c(p){return p===null||cy(p)||En(p)||rc(p)||v1(p)?n(p):e.attempt(rR,e.attempt(iR,f),n)(p)}function f(p){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(p)}}function ele(e,t,n){let r=0;return i;function i(o){return(o===87||o===119)&&r<3?(r++,e.consume(o),i):o===46&&r===3?(e.consume(o),s):n(o)}function s(o){return o===null?n(o):t(o)}}function tle(e,t,n){let r,i,s;return o;function o(c){return c===46||c===95?e.check(sR,l,a)(c):c===null||En(c)||rc(c)||c!==45&&v1(c)?l(c):(s=!0,e.consume(c),o)}function a(c){return c===95?r=!0:(i=r,r=void 0),e.consume(c),o}function l(c){return i||r||!s?n(c):t(c)}}function nle(e,t){let n=0,r=0;return i;function i(o){return o===40?(n++,e.consume(o),i):o===41&&r<n?s(o):o===33||o===34||o===38||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===60||o===63||o===93||o===95||o===126?e.check(sR,t,s)(o):o===null||En(o)||rc(o)?t(o):(e.consume(o),i)}function s(o){return o===41&&r++,e.consume(o),i}}function rle(e,t,n){return r;function r(a){return a===33||a===34||a===39||a===41||a===42||a===44||a===46||a===58||a===59||a===63||a===95||a===126?(e.consume(a),r):a===38?(e.consume(a),s):a===93?(e.consume(a),i):a===60||a===null||En(a)||rc(a)?t(a):n(a)}function i(a){return a===null||a===40||a===91||En(a)||rc(a)?t(a):r(a)}function s(a){return _i(a)?o(a):n(a)}function o(a){return a===59?(e.consume(a),r):_i(a)?(e.consume(a),o):n(a)}}function ile(e,t,n){return r;function r(s){return e.consume(s),i}function i(s){return li(s)?n(s):t(s)}}function lR(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||En(e)}function uR(e){return!_i(e)}function cR(e){return!(e===47||o2(e))}function o2(e){return e===43||e===45||e===46||e===95||li(e)}function wS(e){let t=e.length,n=!1;for(;t--;){const r=e[t][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}function vf(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const s=e.charCodeAt(n);let o="";if(s===37&&li(e.charCodeAt(n+1))&&li(e.charCodeAt(n+2)))i=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(o=String.fromCharCode(s));else if(s>55295&&s<57344){const a=e.charCodeAt(n+1);s<56320&&a>56319&&a<57344?(o=String.fromCharCode(s,a),i=1):o=""}else o=String.fromCharCode(s);o&&(t.push(e.slice(r,n),encodeURIComponent(o)),r=n+i+1,o=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function w1(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const s=e[i].resolveAll;s&&!r.includes(s)&&(t=s(t,n),r.push(s))}return t}const a2={name:"attention",resolveAll:sle,tokenize:ole};function sle(e,t){let n=-1,r,i,s,o,a,l,c,f;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;l=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const p={...e[r][1].end},g={...e[n][1].start};B6(p,-l),B6(g,l),o={type:l>1?"strongSequence":"emphasisSequence",start:p,end:{...e[r][1].end}},a={type:l>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:g},s={type:l>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},i={type:l>1?"strong":"emphasis",start:{...o.start},end:{...a.end}},e[r][1].end={...o.start},e[n][1].start={...a.end},c=[],e[r][1].end.offset-e[r][1].start.offset&&(c=Rs(c,[["enter",e[r][1],t],["exit",e[r][1],t]])),c=Rs(c,[["enter",i,t],["enter",o,t],["exit",o,t],["enter",s,t]]),c=Rs(c,w1(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),c=Rs(c,[["exit",s,t],["enter",a,t],["exit",a,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(f=2,c=Rs(c,[["enter",e[n][1],t],["exit",e[n][1],t]])):f=0,ds(e,r-1,n-r+3,c),n=r+c.length-f-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function ole(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=tf(r);let s;return o;function o(l){return s=l,e.enter("attentionSequence"),a(l)}function a(l){if(l===s)return e.consume(l),a;const c=e.exit("attentionSequence"),f=tf(l),p=!f||f===2&&i||n.includes(l),g=!i||i===2&&f||n.includes(r);return c._open=!!(s===42?p:p&&(i||!g)),c._close=!!(s===42?g:g&&(f||!p)),t(l)}}function B6(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const ale={name:"autolink",tokenize:lle};function lle(e,t,n){let r=0;return i;function i(y){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(y),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),s}function s(y){return _i(y)?(e.consume(y),o):y===64?n(y):c(y)}function o(y){return y===43||y===45||y===46||li(y)?(r=1,a(y)):c(y)}function a(y){return y===58?(e.consume(y),r=0,l):(y===43||y===45||y===46||li(y))&&r++<32?(e.consume(y),a):(r=0,c(y))}function l(y){return y===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(y),e.exit("autolinkMarker"),e.exit("autolink"),t):y===null||y===32||y===60||cy(y)?n(y):(e.consume(y),l)}function c(y){return y===64?(e.consume(y),f):toe(y)?(e.consume(y),c):n(y)}function f(y){return li(y)?p(y):n(y)}function p(y){return y===46?(e.consume(y),r=0,f):y===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(y),e.exit("autolinkMarker"),e.exit("autolink"),t):g(y)}function g(y){if((y===45||li(y))&&r++<63){const b=y===45?g:p;return e.consume(y),b}return n(y)}}function an(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let s=0;return o;function o(l){return Xt(l)?(e.enter(n),a(l)):t(l)}function a(l){return Xt(l)&&s++<i?(e.consume(l),a):(e.exit(n),t(l))}}const Kp={partial:!0,tokenize:ule};function ule(e,t,n){return r;function r(s){return Xt(s)?an(e,i,"linePrefix")(s):i(s)}function i(s){return s===null||gt(s)?t(s):n(s)}}const dR={continuation:{tokenize:dle},exit:fle,name:"blockQuote",tokenize:cle};function cle(e,t,n){const r=this;return i;function i(o){if(o===62){const a=r.containerState;return a.open||(e.enter("blockQuote",{_container:!0}),a.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(o),e.exit("blockQuoteMarker"),s}return n(o)}function s(o){return Xt(o)?(e.enter("blockQuotePrefixWhitespace"),e.consume(o),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(o))}}function dle(e,t,n){const r=this;return i;function i(o){return Xt(o)?an(e,s,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):s(o)}function s(o){return e.attempt(dR,t,n)(o)}}function fle(e){e.exit("blockQuote")}const fR={name:"characterEscape",tokenize:hle};function hle(e,t,n){return r;function r(s){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(s),e.exit("escapeMarker"),i}function i(s){return roe(s)?(e.enter("characterEscapeValue"),e.consume(s),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(s)}}const hR={name:"characterReference",tokenize:ple};function ple(e,t,n){const r=this;let i=0,s,o;return a;function a(p){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(p),e.exit("characterReferenceMarker"),l}function l(p){return p===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(p),e.exit("characterReferenceMarkerNumeric"),c):(e.enter("characterReferenceValue"),s=31,o=li,f(p))}function c(p){return p===88||p===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(p),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),s=6,o=noe,f):(e.enter("characterReferenceValue"),s=7,o=i2,f(p))}function f(p){if(p===59&&i){const g=e.exit("characterReferenceValue");return o===li&&!bS(r.sliceSerialize(g))?n(p):(e.enter("characterReferenceMarker"),e.consume(p),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return o(p)&&i++<s?(e.consume(p),f):n(p)}}const z6={partial:!0,tokenize:gle},$6={concrete:!0,name:"codeFenced",tokenize:mle};function mle(e,t,n){const r=this,i={partial:!0,tokenize:z};let s=0,o=0,a;return l;function l(P){return c(P)}function c(P){const N=r.events[r.events.length-1];return s=N&&N[1].type==="linePrefix"?N[2].sliceSerialize(N[1],!0).length:0,a=P,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),f(P)}function f(P){return P===a?(o++,e.consume(P),f):o<3?n(P):(e.exit("codeFencedFenceSequence"),Xt(P)?an(e,p,"whitespace")(P):p(P))}function p(P){return P===null||gt(P)?(e.exit("codeFencedFence"),r.interrupt?t(P):e.check(z6,_,U)(P)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),g(P))}function g(P){return P===null||gt(P)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),p(P)):Xt(P)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),an(e,y,"whitespace")(P)):P===96&&P===a?n(P):(e.consume(P),g)}function y(P){return P===null||gt(P)?p(P):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),b(P))}function b(P){return P===null||gt(P)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),p(P)):P===96&&P===a?n(P):(e.consume(P),b)}function _(P){return e.attempt(i,U,C)(P)}function C(P){return e.enter("lineEnding"),e.consume(P),e.exit("lineEnding"),E}function E(P){return s>0&&Xt(P)?an(e,R,"linePrefix",s+1)(P):R(P)}function R(P){return P===null||gt(P)?e.check(z6,_,U)(P):(e.enter("codeFlowValue"),M(P))}function M(P){return P===null||gt(P)?(e.exit("codeFlowValue"),R(P)):(e.consume(P),M)}function U(P){return e.exit("codeFenced"),t(P)}function z(P,N,B){let $=0;return D;function D(V){return P.enter("lineEnding"),P.consume(V),P.exit("lineEnding"),J}function J(V){return P.enter("codeFencedFence"),Xt(V)?an(P,X,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(V):X(V)}function X(V){return V===a?(P.enter("codeFencedFenceSequence"),ie(V)):B(V)}function ie(V){return V===a?($++,P.consume(V),ie):$>=o?(P.exit("codeFencedFenceSequence"),Xt(V)?an(P,q,"whitespace")(V):q(V)):B(V)}function q(V){return V===null||gt(V)?(P.exit("codeFencedFence"),N(V)):B(V)}}}function gle(e,t,n){const r=this;return i;function i(o){return o===null?n(o):(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),s)}function s(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}const ub={name:"codeIndented",tokenize:vle},yle={partial:!0,tokenize:xle};function vle(e,t,n){const r=this;return i;function i(c){return e.enter("codeIndented"),an(e,s,"linePrefix",5)(c)}function s(c){const f=r.events[r.events.length-1];return f&&f[1].type==="linePrefix"&&f[2].sliceSerialize(f[1],!0).length>=4?o(c):n(c)}function o(c){return c===null?l(c):gt(c)?e.attempt(yle,o,l)(c):(e.enter("codeFlowValue"),a(c))}function a(c){return c===null||gt(c)?(e.exit("codeFlowValue"),o(c)):(e.consume(c),a)}function l(c){return e.exit("codeIndented"),t(c)}}function xle(e,t,n){const r=this;return i;function i(o){return r.parser.lazy[r.now().line]?n(o):gt(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),i):an(e,s,"linePrefix",5)(o)}function s(o){const a=r.events[r.events.length-1];return a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?t(o):gt(o)?i(o):n(o)}}const ble={name:"codeText",previous:_le,resolve:wle,tokenize:Sle};function wle(e){let t=e.length-4,n=3,r,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(i=r):(r===t||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function _le(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function Sle(e,t,n){let r=0,i,s;return o;function o(p){return e.enter("codeText"),e.enter("codeTextSequence"),a(p)}function a(p){return p===96?(e.consume(p),r++,a):(e.exit("codeTextSequence"),l(p))}function l(p){return p===null?n(p):p===32?(e.enter("space"),e.consume(p),e.exit("space"),l):p===96?(s=e.enter("codeTextSequence"),i=0,f(p)):gt(p)?(e.enter("lineEnding"),e.consume(p),e.exit("lineEnding"),l):(e.enter("codeTextData"),c(p))}function c(p){return p===null||p===32||p===96||gt(p)?(e.exit("codeTextData"),l(p)):(e.consume(p),c)}function f(p){return p===96?(e.consume(p),i++,f):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(p)):(s.type="codeTextData",c(p))}}class Cle{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const i=n||0;this.setCursor(Math.trunc(t));const s=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&mh(this.left,r),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),mh(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),mh(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);mh(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);mh(this.left,n.reverse())}}}function mh(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function pR(e){const t={};let n=-1,r,i,s,o,a,l,c;const f=new Cle(e);for(;++n<f.length;){for(;n in t;)n=t[n];if(r=f.get(n),n&&r[1].type==="chunkFlow"&&f.get(n-1)[1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,s=0,s<l.length&&l[s][1].type==="lineEndingBlank"&&(s+=2),s<l.length&&l[s][1].type==="content"))for(;++s<l.length&&l[s][1].type!=="content";)l[s][1].type==="chunkText"&&(l[s][1]._isInFirstContentOfListItem=!0,s++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,Ele(f,n)),n=t[n],c=!0);else if(r[1]._container){for(s=n,i=void 0;s--;)if(o=f.get(s),o[1].type==="lineEnding"||o[1].type==="lineEndingBlank")o[0]==="enter"&&(i&&(f.get(i)[1].type="lineEndingBlank"),o[1].type="lineEnding",i=s);else if(!(o[1].type==="linePrefix"||o[1].type==="listItemIndent"))break;i&&(r[1].end={...f.get(i)[1].start},a=f.slice(i,n),a.unshift(r),f.splice(i,n-i+1,a))}}return ds(e,0,Number.POSITIVE_INFINITY,f.slice(0)),!c}function Ele(e,t){const n=e.get(t)[1],r=e.get(t)[2];let i=t-1;const s=[];let o=n._tokenizer;o||(o=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(o._contentTypeTextTrailing=!0));const a=o.events,l=[],c={};let f,p,g=-1,y=n,b=0,_=0;const C=[_];for(;y;){for(;e.get(++i)[1]!==y;);s.push(i),y._tokenizer||(f=r.sliceStream(y),y.next||f.push(null),p&&o.defineSkip(y.start),y._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(f),y._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),p=y,y=y.next}for(y=n;++g<a.length;)a[g][0]==="exit"&&a[g-1][0]==="enter"&&a[g][1].type===a[g-1][1].type&&a[g][1].start.line!==a[g][1].end.line&&(_=g+1,C.push(_),y._tokenizer=void 0,y.previous=void 0,y=y.next);for(o.events=[],y?(y._tokenizer=void 0,y.previous=void 0):C.pop(),g=C.length;g--;){const E=a.slice(C[g],C[g+1]),R=s.pop();l.push([R,R+E.length-1]),e.splice(R,2,E)}for(l.reverse(),g=-1;++g<l.length;)c[b+l[g][0]]=b+l[g][1],b+=l[g][1]-l[g][0]-1;return c}const kle={resolve:jle,tokenize:Ile},Tle={partial:!0,tokenize:Nle};function jle(e){return pR(e),e}function Ile(e,t){let n;return r;function r(a){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(a)}function i(a){return a===null?s(a):gt(a)?e.check(Tle,o,s)(a):(e.consume(a),i)}function s(a){return e.exit("chunkContent"),e.exit("content"),t(a)}function o(a){return e.consume(a),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function Nle(e,t,n){const r=this;return i;function i(o){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),an(e,s,"linePrefix")}function s(o){if(o===null||gt(o))return n(o);const a=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?t(o):e.interrupt(r.parser.constructs.flow,n,t)(o)}}function mR(e,t,n,r,i,s,o,a,l){const c=l||Number.POSITIVE_INFINITY;let f=0;return p;function p(E){return E===60?(e.enter(r),e.enter(i),e.enter(s),e.consume(E),e.exit(s),g):E===null||E===32||E===41||cy(E)?n(E):(e.enter(r),e.enter(o),e.enter(a),e.enter("chunkString",{contentType:"string"}),_(E))}function g(E){return E===62?(e.enter(s),e.consume(E),e.exit(s),e.exit(i),e.exit(r),t):(e.enter(a),e.enter("chunkString",{contentType:"string"}),y(E))}function y(E){return E===62?(e.exit("chunkString"),e.exit(a),g(E)):E===null||E===60||gt(E)?n(E):(e.consume(E),E===92?b:y)}function b(E){return E===60||E===62||E===92?(e.consume(E),y):y(E)}function _(E){return!f&&(E===null||E===41||En(E))?(e.exit("chunkString"),e.exit(a),e.exit(o),e.exit(r),t(E)):f<c&&E===40?(e.consume(E),f++,_):E===41?(e.consume(E),f--,_):E===null||E===32||E===40||cy(E)?n(E):(e.consume(E),E===92?C:_)}function C(E){return E===40||E===41||E===92?(e.consume(E),_):_(E)}}function gR(e,t,n,r,i,s){const o=this;let a=0,l;return c;function c(y){return e.enter(r),e.enter(i),e.consume(y),e.exit(i),e.enter(s),f}function f(y){return a>999||y===null||y===91||y===93&&!l||y===94&&!a&&"_hiddenFootnoteSupport"in o.parser.constructs?n(y):y===93?(e.exit(s),e.enter(i),e.consume(y),e.exit(i),e.exit(r),t):gt(y)?(e.enter("lineEnding"),e.consume(y),e.exit("lineEnding"),f):(e.enter("chunkString",{contentType:"string"}),p(y))}function p(y){return y===null||y===91||y===93||gt(y)||a++>999?(e.exit("chunkString"),f(y)):(e.consume(y),l||(l=!Xt(y)),y===92?g:p)}function g(y){return y===91||y===92||y===93?(e.consume(y),a++,p):p(y)}}function yR(e,t,n,r,i,s){let o;return a;function a(g){return g===34||g===39||g===40?(e.enter(r),e.enter(i),e.consume(g),e.exit(i),o=g===40?41:g,l):n(g)}function l(g){return g===o?(e.enter(i),e.consume(g),e.exit(i),e.exit(r),t):(e.enter(s),c(g))}function c(g){return g===o?(e.exit(s),l(o)):g===null?n(g):gt(g)?(e.enter("lineEnding"),e.consume(g),e.exit("lineEnding"),an(e,c,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),f(g))}function f(g){return g===o||g===null||gt(g)?(e.exit("chunkString"),c(g)):(e.consume(g),g===92?p:f)}function p(g){return g===o||g===92?(e.consume(g),f):f(g)}}function Wh(e,t){let n;return r;function r(i){return gt(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):Xt(i)?an(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}const Rle={name:"definition",tokenize:Ole},Ple={partial:!0,tokenize:Mle};function Ole(e,t,n){const r=this;let i;return s;function s(y){return e.enter("definition"),o(y)}function o(y){return gR.call(r,e,a,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(y)}function a(y){return i=ao(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),y===58?(e.enter("definitionMarker"),e.consume(y),e.exit("definitionMarker"),l):n(y)}function l(y){return En(y)?Wh(e,c)(y):c(y)}function c(y){return mR(e,f,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(y)}function f(y){return e.attempt(Ple,p,p)(y)}function p(y){return Xt(y)?an(e,g,"whitespace")(y):g(y)}function g(y){return y===null||gt(y)?(e.exit("definition"),r.parser.defined.push(i),t(y)):n(y)}}function Mle(e,t,n){return r;function r(a){return En(a)?Wh(e,i)(a):n(a)}function i(a){return yR(e,s,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(a)}function s(a){return Xt(a)?an(e,o,"whitespace")(a):o(a)}function o(a){return a===null||gt(a)?t(a):n(a)}}const Ale={name:"hardBreakEscape",tokenize:Dle};function Dle(e,t,n){return r;function r(s){return e.enter("hardBreakEscape"),e.consume(s),i}function i(s){return gt(s)?(e.exit("hardBreakEscape"),t(s)):n(s)}}const Lle={name:"headingAtx",resolve:Fle,tokenize:Ble};function Fle(e,t){let n=e.length-2,r=3,i,s;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},s={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},ds(e,r,n-r+1,[["enter",i,t],["enter",s,t],["exit",s,t],["exit",i,t]])),e}function Ble(e,t,n){let r=0;return i;function i(f){return e.enter("atxHeading"),s(f)}function s(f){return e.enter("atxHeadingSequence"),o(f)}function o(f){return f===35&&r++<6?(e.consume(f),o):f===null||En(f)?(e.exit("atxHeadingSequence"),a(f)):n(f)}function a(f){return f===35?(e.enter("atxHeadingSequence"),l(f)):f===null||gt(f)?(e.exit("atxHeading"),t(f)):Xt(f)?an(e,a,"whitespace")(f):(e.enter("atxHeadingText"),c(f))}function l(f){return f===35?(e.consume(f),l):(e.exit("atxHeadingSequence"),a(f))}function c(f){return f===null||f===35||En(f)?(e.exit("atxHeadingText"),a(f)):(e.consume(f),c)}}const zle=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],U6=["pre","script","style","textarea"],$le={concrete:!0,name:"htmlFlow",resolveTo:Wle,tokenize:Vle},Ule={partial:!0,tokenize:Qle},Hle={partial:!0,tokenize:qle};function Wle(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function Vle(e,t,n){const r=this;let i,s,o,a,l;return c;function c(H){return f(H)}function f(H){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(H),p}function p(H){return H===33?(e.consume(H),g):H===47?(e.consume(H),s=!0,_):H===63?(e.consume(H),i=3,r.interrupt?t:F):_i(H)?(e.consume(H),o=String.fromCharCode(H),C):n(H)}function g(H){return H===45?(e.consume(H),i=2,y):H===91?(e.consume(H),i=5,a=0,b):_i(H)?(e.consume(H),i=4,r.interrupt?t:F):n(H)}function y(H){return H===45?(e.consume(H),r.interrupt?t:F):n(H)}function b(H){const je="CDATA[";return H===je.charCodeAt(a++)?(e.consume(H),a===je.length?r.interrupt?t:X:b):n(H)}function _(H){return _i(H)?(e.consume(H),o=String.fromCharCode(H),C):n(H)}function C(H){if(H===null||H===47||H===62||En(H)){const je=H===47,ke=o.toLowerCase();return!je&&!s&&U6.includes(ke)?(i=1,r.interrupt?t(H):X(H)):zle.includes(o.toLowerCase())?(i=6,je?(e.consume(H),E):r.interrupt?t(H):X(H)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(H):s?R(H):M(H))}return H===45||li(H)?(e.consume(H),o+=String.fromCharCode(H),C):n(H)}function E(H){return H===62?(e.consume(H),r.interrupt?t:X):n(H)}function R(H){return Xt(H)?(e.consume(H),R):D(H)}function M(H){return H===47?(e.consume(H),D):H===58||H===95||_i(H)?(e.consume(H),U):Xt(H)?(e.consume(H),M):D(H)}function U(H){return H===45||H===46||H===58||H===95||li(H)?(e.consume(H),U):z(H)}function z(H){return H===61?(e.consume(H),P):Xt(H)?(e.consume(H),z):M(H)}function P(H){return H===null||H===60||H===61||H===62||H===96?n(H):H===34||H===39?(e.consume(H),l=H,N):Xt(H)?(e.consume(H),P):B(H)}function N(H){return H===l?(e.consume(H),l=null,$):H===null||gt(H)?n(H):(e.consume(H),N)}function B(H){return H===null||H===34||H===39||H===47||H===60||H===61||H===62||H===96||En(H)?z(H):(e.consume(H),B)}function $(H){return H===47||H===62||Xt(H)?M(H):n(H)}function D(H){return H===62?(e.consume(H),J):n(H)}function J(H){return H===null||gt(H)?X(H):Xt(H)?(e.consume(H),J):n(H)}function X(H){return H===45&&i===2?(e.consume(H),K):H===60&&i===1?(e.consume(H),ne):H===62&&i===4?(e.consume(H),Z):H===63&&i===3?(e.consume(H),F):H===93&&i===5?(e.consume(H),de):gt(H)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(Ule,ge,ie)(H)):H===null||gt(H)?(e.exit("htmlFlowData"),ie(H)):(e.consume(H),X)}function ie(H){return e.check(Hle,q,ge)(H)}function q(H){return e.enter("lineEnding"),e.consume(H),e.exit("lineEnding"),V}function V(H){return H===null||gt(H)?ie(H):(e.enter("htmlFlowData"),X(H))}function K(H){return H===45?(e.consume(H),F):X(H)}function ne(H){return H===47?(e.consume(H),o="",Y):X(H)}function Y(H){if(H===62){const je=o.toLowerCase();return U6.includes(je)?(e.consume(H),Z):X(H)}return _i(H)&&o.length<8?(e.consume(H),o+=String.fromCharCode(H),Y):X(H)}function de(H){return H===93?(e.consume(H),F):X(H)}function F(H){return H===62?(e.consume(H),Z):H===45&&i===2?(e.consume(H),F):X(H)}function Z(H){return H===null||gt(H)?(e.exit("htmlFlowData"),ge(H)):(e.consume(H),Z)}function ge(H){return e.exit("htmlFlow"),t(H)}}function qle(e,t,n){const r=this;return i;function i(o){return gt(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),s):n(o)}function s(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}function Qle(e,t,n){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(Kp,t,n)}}const Kle={name:"htmlText",tokenize:Gle};function Gle(e,t,n){const r=this;let i,s,o;return a;function a(F){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(F),l}function l(F){return F===33?(e.consume(F),c):F===47?(e.consume(F),z):F===63?(e.consume(F),M):_i(F)?(e.consume(F),B):n(F)}function c(F){return F===45?(e.consume(F),f):F===91?(e.consume(F),s=0,b):_i(F)?(e.consume(F),R):n(F)}function f(F){return F===45?(e.consume(F),y):n(F)}function p(F){return F===null?n(F):F===45?(e.consume(F),g):gt(F)?(o=p,ne(F)):(e.consume(F),p)}function g(F){return F===45?(e.consume(F),y):p(F)}function y(F){return F===62?K(F):F===45?g(F):p(F)}function b(F){const Z="CDATA[";return F===Z.charCodeAt(s++)?(e.consume(F),s===Z.length?_:b):n(F)}function _(F){return F===null?n(F):F===93?(e.consume(F),C):gt(F)?(o=_,ne(F)):(e.consume(F),_)}function C(F){return F===93?(e.consume(F),E):_(F)}function E(F){return F===62?K(F):F===93?(e.consume(F),E):_(F)}function R(F){return F===null||F===62?K(F):gt(F)?(o=R,ne(F)):(e.consume(F),R)}function M(F){return F===null?n(F):F===63?(e.consume(F),U):gt(F)?(o=M,ne(F)):(e.consume(F),M)}function U(F){return F===62?K(F):M(F)}function z(F){return _i(F)?(e.consume(F),P):n(F)}function P(F){return F===45||li(F)?(e.consume(F),P):N(F)}function N(F){return gt(F)?(o=N,ne(F)):Xt(F)?(e.consume(F),N):K(F)}function B(F){return F===45||li(F)?(e.consume(F),B):F===47||F===62||En(F)?$(F):n(F)}function $(F){return F===47?(e.consume(F),K):F===58||F===95||_i(F)?(e.consume(F),D):gt(F)?(o=$,ne(F)):Xt(F)?(e.consume(F),$):K(F)}function D(F){return F===45||F===46||F===58||F===95||li(F)?(e.consume(F),D):J(F)}function J(F){return F===61?(e.consume(F),X):gt(F)?(o=J,ne(F)):Xt(F)?(e.consume(F),J):$(F)}function X(F){return F===null||F===60||F===61||F===62||F===96?n(F):F===34||F===39?(e.consume(F),i=F,ie):gt(F)?(o=X,ne(F)):Xt(F)?(e.consume(F),X):(e.consume(F),q)}function ie(F){return F===i?(e.consume(F),i=void 0,V):F===null?n(F):gt(F)?(o=ie,ne(F)):(e.consume(F),ie)}function q(F){return F===null||F===34||F===39||F===60||F===61||F===96?n(F):F===47||F===62||En(F)?$(F):(e.consume(F),q)}function V(F){return F===47||F===62||En(F)?$(F):n(F)}function K(F){return F===62?(e.consume(F),e.exit("htmlTextData"),e.exit("htmlText"),t):n(F)}function ne(F){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(F),e.exit("lineEnding"),Y}function Y(F){return Xt(F)?an(e,de,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(F):de(F)}function de(F){return e.enter("htmlTextData"),o(F)}}const _S={name:"labelEnd",resolveAll:Zle,resolveTo:eue,tokenize:tue},Yle={tokenize:nue},Xle={tokenize:rue},Jle={tokenize:iue};function Zle(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",t+=i}}return e.length!==n.length&&ds(e,0,e.length,n),e}function eue(e,t){let n=e.length,r=0,i,s,o,a;for(;n--;)if(i=e[n][1],s){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(o){if(e[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(s=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(o=n);const l={type:e[s][1].type==="labelLink"?"link":"image",start:{...e[s][1].start},end:{...e[e.length-1][1].end}},c={type:"label",start:{...e[s][1].start},end:{...e[o][1].end}},f={type:"labelText",start:{...e[s+r+2][1].end},end:{...e[o-2][1].start}};return a=[["enter",l,t],["enter",c,t]],a=Rs(a,e.slice(s+1,s+r+3)),a=Rs(a,[["enter",f,t]]),a=Rs(a,w1(t.parser.constructs.insideSpan.null,e.slice(s+r+4,o-3),t)),a=Rs(a,[["exit",f,t],e[o-2],e[o-1],["exit",c,t]]),a=Rs(a,e.slice(o+1)),a=Rs(a,[["exit",l,t]]),ds(e,s,e.length,a),e}function tue(e,t,n){const r=this;let i=r.events.length,s,o;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){s=r.events[i][1];break}return a;function a(g){return s?s._inactive?p(g):(o=r.parser.defined.includes(ao(r.sliceSerialize({start:s.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(g),e.exit("labelMarker"),e.exit("labelEnd"),l):n(g)}function l(g){return g===40?e.attempt(Yle,f,o?f:p)(g):g===91?e.attempt(Xle,f,o?c:p)(g):o?f(g):p(g)}function c(g){return e.attempt(Jle,f,p)(g)}function f(g){return t(g)}function p(g){return s._balanced=!0,n(g)}}function nue(e,t,n){return r;function r(p){return e.enter("resource"),e.enter("resourceMarker"),e.consume(p),e.exit("resourceMarker"),i}function i(p){return En(p)?Wh(e,s)(p):s(p)}function s(p){return p===41?f(p):mR(e,o,a,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(p)}function o(p){return En(p)?Wh(e,l)(p):f(p)}function a(p){return n(p)}function l(p){return p===34||p===39||p===40?yR(e,c,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(p):f(p)}function c(p){return En(p)?Wh(e,f)(p):f(p)}function f(p){return p===41?(e.enter("resourceMarker"),e.consume(p),e.exit("resourceMarker"),e.exit("resource"),t):n(p)}}function rue(e,t,n){const r=this;return i;function i(a){return gR.call(r,e,s,o,"reference","referenceMarker","referenceString")(a)}function s(a){return r.parser.defined.includes(ao(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(a):n(a)}function o(a){return n(a)}}function iue(e,t,n){return r;function r(s){return e.enter("reference"),e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),i}function i(s){return s===93?(e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),e.exit("reference"),t):n(s)}}const sue={name:"labelStartImage",resolveAll:_S.resolveAll,tokenize:oue};function oue(e,t,n){const r=this;return i;function i(a){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(a),e.exit("labelImageMarker"),s}function s(a){return a===91?(e.enter("labelMarker"),e.consume(a),e.exit("labelMarker"),e.exit("labelImage"),o):n(a)}function o(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):t(a)}}const aue={name:"labelStartLink",resolveAll:_S.resolveAll,tokenize:lue};function lue(e,t,n){const r=this;return i;function i(o){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelLink"),s}function s(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):t(o)}}const cb={name:"lineEnding",tokenize:uue};function uue(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),an(e,t,"linePrefix")}}const w0={name:"thematicBreak",tokenize:cue};function cue(e,t,n){let r=0,i;return s;function s(c){return e.enter("thematicBreak"),o(c)}function o(c){return i=c,a(c)}function a(c){return c===i?(e.enter("thematicBreakSequence"),l(c)):r>=3&&(c===null||gt(c))?(e.exit("thematicBreak"),t(c)):n(c)}function l(c){return c===i?(e.consume(c),r++,l):(e.exit("thematicBreakSequence"),Xt(c)?an(e,a,"whitespace")(c):a(c))}}const Li={continuation:{tokenize:pue},exit:gue,name:"list",tokenize:hue},due={partial:!0,tokenize:yue},fue={partial:!0,tokenize:mue};function hue(e,t,n){const r=this,i=r.events[r.events.length-1];let s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,o=0;return a;function a(y){const b=r.containerState.type||(y===42||y===43||y===45?"listUnordered":"listOrdered");if(b==="listUnordered"?!r.containerState.marker||y===r.containerState.marker:i2(y)){if(r.containerState.type||(r.containerState.type=b,e.enter(b,{_container:!0})),b==="listUnordered")return e.enter("listItemPrefix"),y===42||y===45?e.check(w0,n,c)(y):c(y);if(!r.interrupt||y===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),l(y)}return n(y)}function l(y){return i2(y)&&++o<10?(e.consume(y),l):(!r.interrupt||o<2)&&(r.containerState.marker?y===r.containerState.marker:y===41||y===46)?(e.exit("listItemValue"),c(y)):n(y)}function c(y){return e.enter("listItemMarker"),e.consume(y),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||y,e.check(Kp,r.interrupt?n:f,e.attempt(due,g,p))}function f(y){return r.containerState.initialBlankLine=!0,s++,g(y)}function p(y){return Xt(y)?(e.enter("listItemPrefixWhitespace"),e.consume(y),e.exit("listItemPrefixWhitespace"),g):n(y)}function g(y){return r.containerState.size=s+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(y)}}function pue(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(Kp,i,s);function i(a){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,an(e,t,"listItemIndent",r.containerState.size+1)(a)}function s(a){return r.containerState.furtherBlankLines||!Xt(a)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(a)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(fue,t,o)(a))}function o(a){return r.containerState._closeFlow=!0,r.interrupt=void 0,an(e,e.attempt(Li,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a)}}function mue(e,t,n){const r=this;return an(e,i,"listItemIndent",r.containerState.size+1);function i(s){const o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?t(s):n(s)}}function gue(e){e.exit(this.containerState.type)}function yue(e,t,n){const r=this;return an(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(s){const o=r.events[r.events.length-1];return!Xt(s)&&o&&o[1].type==="listItemPrefixWhitespace"?t(s):n(s)}}const H6={name:"setextUnderline",resolveTo:vue,tokenize:xue};function vue(e,t){let n=e.length,r,i,s;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(i=n)}else e[n][1].type==="content"&&e.splice(n,1),!s&&e[n][1].type==="definition"&&(s=n);const o={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[i][1].type="setextHeadingText",s?(e.splice(i,0,["enter",o,t]),e.splice(s+1,0,["exit",e[r][1],t]),e[r][1].end={...e[s][1].end}):e[r][1]=o,e.push(["exit",o,t]),e}function xue(e,t,n){const r=this;let i;return s;function s(c){let f=r.events.length,p;for(;f--;)if(r.events[f][1].type!=="lineEnding"&&r.events[f][1].type!=="linePrefix"&&r.events[f][1].type!=="content"){p=r.events[f][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||p)?(e.enter("setextHeadingLine"),i=c,o(c)):n(c)}function o(c){return e.enter("setextHeadingLineSequence"),a(c)}function a(c){return c===i?(e.consume(c),a):(e.exit("setextHeadingLineSequence"),Xt(c)?an(e,l,"lineSuffix")(c):l(c))}function l(c){return c===null||gt(c)?(e.exit("setextHeadingLine"),t(c)):n(c)}}const bue={tokenize:jue,partial:!0};function wue(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:Eue,continuation:{tokenize:kue},exit:Tue}},text:{91:{name:"gfmFootnoteCall",tokenize:Cue},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:_ue,resolveTo:Sue}}}}function _ue(e,t,n){const r=this;let i=r.events.length;const s=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o;for(;i--;){const l=r.events[i][1];if(l.type==="labelImage"){o=l;break}if(l.type==="gfmFootnoteCall"||l.type==="labelLink"||l.type==="label"||l.type==="image"||l.type==="link")break}return a;function a(l){if(!o||!o._balanced)return n(l);const c=ao(r.sliceSerialize({start:o.end,end:r.now()}));return c.codePointAt(0)!==94||!s.includes(c.slice(1))?n(l):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(l),e.exit("gfmFootnoteCallLabelMarker"),t(l))}}function Sue(e,t){let n=e.length;for(;n--;)if(e[n][1].type==="labelImage"&&e[n][0]==="enter"){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const s={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},e[e.length-1][1].start)},o={type:"chunkString",contentType:"string",start:Object.assign({},s.start),end:Object.assign({},s.end)},a=[e[n+1],e[n+2],["enter",r,t],e[n+3],e[n+4],["enter",i,t],["exit",i,t],["enter",s,t],["enter",o,t],["exit",o,t],["exit",s,t],e[e.length-2],e[e.length-1],["exit",r,t]];return e.splice(n,e.length-n+1,...a),e}function Cue(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s=0,o;return a;function a(p){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(p),e.exit("gfmFootnoteCallLabelMarker"),l}function l(p){return p!==94?n(p):(e.enter("gfmFootnoteCallMarker"),e.consume(p),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",c)}function c(p){if(s>999||p===93&&!o||p===null||p===91||En(p))return n(p);if(p===93){e.exit("chunkString");const g=e.exit("gfmFootnoteCallString");return i.includes(ao(r.sliceSerialize(g)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(p),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(p)}return En(p)||(o=!0),s++,e.consume(p),p===92?f:c}function f(p){return p===91||p===92||p===93?(e.consume(p),s++,c):c(p)}}function Eue(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s,o=0,a;return l;function l(b){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(b),e.exit("gfmFootnoteDefinitionLabelMarker"),c}function c(b){return b===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(b),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",f):n(b)}function f(b){if(o>999||b===93&&!a||b===null||b===91||En(b))return n(b);if(b===93){e.exit("chunkString");const _=e.exit("gfmFootnoteDefinitionLabelString");return s=ao(r.sliceSerialize(_)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(b),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),g}return En(b)||(a=!0),o++,e.consume(b),b===92?p:f}function p(b){return b===91||b===92||b===93?(e.consume(b),o++,f):f(b)}function g(b){return b===58?(e.enter("definitionMarker"),e.consume(b),e.exit("definitionMarker"),i.includes(s)||i.push(s),an(e,y,"gfmFootnoteDefinitionWhitespace")):n(b)}function y(b){return t(b)}}function kue(e,t,n){return e.check(Kp,t,e.attempt(bue,t,n))}function Tue(e){e.exit("gfmFootnoteDefinition")}function jue(e,t,n){const r=this;return an(e,i,"gfmFootnoteDefinitionIndent",5);function i(s){const o=r.events[r.events.length-1];return o&&o[1].type==="gfmFootnoteDefinitionIndent"&&o[2].sliceSerialize(o[1],!0).length===4?t(s):n(s)}}function Iue(e){let n=(e||{}).singleTilde;const r={name:"strikethrough",tokenize:s,resolveAll:i};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function i(o,a){let l=-1;for(;++l<o.length;)if(o[l][0]==="enter"&&o[l][1].type==="strikethroughSequenceTemporary"&&o[l][1]._close){let c=l;for(;c--;)if(o[c][0]==="exit"&&o[c][1].type==="strikethroughSequenceTemporary"&&o[c][1]._open&&o[l][1].end.offset-o[l][1].start.offset===o[c][1].end.offset-o[c][1].start.offset){o[l][1].type="strikethroughSequence",o[c][1].type="strikethroughSequence";const f={type:"strikethrough",start:Object.assign({},o[c][1].start),end:Object.assign({},o[l][1].end)},p={type:"strikethroughText",start:Object.assign({},o[c][1].end),end:Object.assign({},o[l][1].start)},g=[["enter",f,a],["enter",o[c][1],a],["exit",o[c][1],a],["enter",p,a]],y=a.parser.constructs.insideSpan.null;y&&ds(g,g.length,0,w1(y,o.slice(c+1,l),a)),ds(g,g.length,0,[["exit",p,a],["enter",o[l][1],a],["exit",o[l][1],a],["exit",f,a]]),ds(o,c-1,l-c+3,g),l=c+g.length-2;break}}for(l=-1;++l<o.length;)o[l][1].type==="strikethroughSequenceTemporary"&&(o[l][1].type="data");return o}function s(o,a,l){const c=this.previous,f=this.events;let p=0;return g;function g(b){return c===126&&f[f.length-1][1].type!=="characterEscape"?l(b):(o.enter("strikethroughSequenceTemporary"),y(b))}function y(b){const _=tf(c);if(b===126)return p>1?l(b):(o.consume(b),p++,y);if(p<2&&!n)return l(b);const C=o.exit("strikethroughSequenceTemporary"),E=tf(b);return C._open=!E||E===2&&!!_,C._close=!_||_===2&&!!E,a(b)}}}class Nue{constructor(){this.map=[]}add(t,n,r){Rue(this,t,n,r)}consume(t){if(this.map.sort(function(s,o){return s[0]-o[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(t.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),t.length=this.map[n][0];r.push(t.slice()),t.length=0;let i=r.pop();for(;i;){for(const s of i)t.push(s);i=r.pop()}this.map.length=0}}function Rue(e,t,n,r){let i=0;if(!(n===0&&r.length===0)){for(;i<e.map.length;){if(e.map[i][0]===t){e.map[i][1]+=n,e.map[i][2].push(...r);return}i+=1}e.map.push([t,n,r])}}function Pue(e,t){let n=!1;const r=[];for(;t<e.length;){const i=e[t];if(n){if(i[0]==="enter")i[1].type==="tableContent"&&r.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const s=r.length-1;r[s]=r[s]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(n=!0);t+=1}return r}function Oue(){return{flow:{null:{name:"table",tokenize:Mue,resolveAll:Aue}}}}function Mue(e,t,n){const r=this;let i=0,s=0,o;return a;function a(D){let J=r.events.length-1;for(;J>-1;){const q=r.events[J][1].type;if(q==="lineEnding"||q==="linePrefix")J--;else break}const X=J>-1?r.events[J][1].type:null,ie=X==="tableHead"||X==="tableRow"?P:l;return ie===P&&r.parser.lazy[r.now().line]?n(D):ie(D)}function l(D){return e.enter("tableHead"),e.enter("tableRow"),c(D)}function c(D){return D===124||(o=!0,s+=1),f(D)}function f(D){return D===null?n(D):gt(D)?s>1?(s=0,r.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(D),e.exit("lineEnding"),y):n(D):Xt(D)?an(e,f,"whitespace")(D):(s+=1,o&&(o=!1,i+=1),D===124?(e.enter("tableCellDivider"),e.consume(D),e.exit("tableCellDivider"),o=!0,f):(e.enter("data"),p(D)))}function p(D){return D===null||D===124||En(D)?(e.exit("data"),f(D)):(e.consume(D),D===92?g:p)}function g(D){return D===92||D===124?(e.consume(D),p):p(D)}function y(D){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(D):(e.enter("tableDelimiterRow"),o=!1,Xt(D)?an(e,b,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(D):b(D))}function b(D){return D===45||D===58?C(D):D===124?(o=!0,e.enter("tableCellDivider"),e.consume(D),e.exit("tableCellDivider"),_):z(D)}function _(D){return Xt(D)?an(e,C,"whitespace")(D):C(D)}function C(D){return D===58?(s+=1,o=!0,e.enter("tableDelimiterMarker"),e.consume(D),e.exit("tableDelimiterMarker"),E):D===45?(s+=1,E(D)):D===null||gt(D)?U(D):z(D)}function E(D){return D===45?(e.enter("tableDelimiterFiller"),R(D)):z(D)}function R(D){return D===45?(e.consume(D),R):D===58?(o=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(D),e.exit("tableDelimiterMarker"),M):(e.exit("tableDelimiterFiller"),M(D))}function M(D){return Xt(D)?an(e,U,"whitespace")(D):U(D)}function U(D){return D===124?b(D):D===null||gt(D)?!o||i!==s?z(D):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(D)):z(D)}function z(D){return n(D)}function P(D){return e.enter("tableRow"),N(D)}function N(D){return D===124?(e.enter("tableCellDivider"),e.consume(D),e.exit("tableCellDivider"),N):D===null||gt(D)?(e.exit("tableRow"),t(D)):Xt(D)?an(e,N,"whitespace")(D):(e.enter("data"),B(D))}function B(D){return D===null||D===124||En(D)?(e.exit("data"),N(D)):(e.consume(D),D===92?$:B)}function $(D){return D===92||D===124?(e.consume(D),B):B(D)}}function Aue(e,t){let n=-1,r=!0,i=0,s=[0,0,0,0],o=[0,0,0,0],a=!1,l=0,c,f,p;const g=new Nue;for(;++n<e.length;){const y=e[n],b=y[1];y[0]==="enter"?b.type==="tableHead"?(a=!1,l!==0&&(W6(g,t,l,c,f),f=void 0,l=0),c={type:"table",start:Object.assign({},b.start),end:Object.assign({},b.end)},g.add(n,0,[["enter",c,t]])):b.type==="tableRow"||b.type==="tableDelimiterRow"?(r=!0,p=void 0,s=[0,0,0,0],o=[0,n+1,0,0],a&&(a=!1,f={type:"tableBody",start:Object.assign({},b.start),end:Object.assign({},b.end)},g.add(n,0,[["enter",f,t]])),i=b.type==="tableDelimiterRow"?2:f?3:1):i&&(b.type==="data"||b.type==="tableDelimiterMarker"||b.type==="tableDelimiterFiller")?(r=!1,o[2]===0&&(s[1]!==0&&(o[0]=o[1],p=Vg(g,t,s,i,void 0,p),s=[0,0,0,0]),o[2]=n)):b.type==="tableCellDivider"&&(r?r=!1:(s[1]!==0&&(o[0]=o[1],p=Vg(g,t,s,i,void 0,p)),s=o,o=[s[1],n,0,0])):b.type==="tableHead"?(a=!0,l=n):b.type==="tableRow"||b.type==="tableDelimiterRow"?(l=n,s[1]!==0?(o[0]=o[1],p=Vg(g,t,s,i,n,p)):o[1]!==0&&(p=Vg(g,t,o,i,n,p)),i=0):i&&(b.type==="data"||b.type==="tableDelimiterMarker"||b.type==="tableDelimiterFiller")&&(o[3]=n)}for(l!==0&&W6(g,t,l,c,f),g.consume(t.events),n=-1;++n<t.events.length;){const y=t.events[n];y[0]==="enter"&&y[1].type==="table"&&(y[1]._align=Pue(t.events,n))}return e}function Vg(e,t,n,r,i,s){const o=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",a="tableContent";n[0]!==0&&(s.end=Object.assign({},Cd(t.events,n[0])),e.add(n[0],0,[["exit",s,t]]));const l=Cd(t.events,n[1]);if(s={type:o,start:Object.assign({},l),end:Object.assign({},l)},e.add(n[1],0,[["enter",s,t]]),n[2]!==0){const c=Cd(t.events,n[2]),f=Cd(t.events,n[3]),p={type:a,start:Object.assign({},c),end:Object.assign({},f)};if(e.add(n[2],0,[["enter",p,t]]),r!==2){const g=t.events[n[2]],y=t.events[n[3]];if(g[1].end=Object.assign({},y[1].end),g[1].type="chunkText",g[1].contentType="text",n[3]>n[2]+1){const b=n[2]+1,_=n[3]-n[2]-1;e.add(b,_,[])}}e.add(n[3]+1,0,[["exit",p,t]])}return i!==void 0&&(s.end=Object.assign({},Cd(t.events,i)),e.add(i,0,[["exit",s,t]]),s=void 0),s}function W6(e,t,n,r,i){const s=[],o=Cd(t.events,n);i&&(i.end=Object.assign({},o),s.push(["exit",i,t])),r.end=Object.assign({},o),s.push(["exit",r,t]),e.add(n+1,0,s)}function Cd(e,t){const n=e[t],r=n[0]==="enter"?"start":"end";return n[1][r]}const Due={name:"tasklistCheck",tokenize:Fue};function Lue(){return{text:{91:Due}}}function Fue(e,t,n){const r=this;return i;function i(l){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(l):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(l),e.exit("taskListCheckMarker"),s)}function s(l){return En(l)?(e.enter("taskListCheckValueUnchecked"),e.consume(l),e.exit("taskListCheckValueUnchecked"),o):l===88||l===120?(e.enter("taskListCheckValueChecked"),e.consume(l),e.exit("taskListCheckValueChecked"),o):n(l)}function o(l){return l===93?(e.enter("taskListCheckMarker"),e.consume(l),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),a):n(l)}function a(l){return gt(l)?t(l):Xt(l)?e.check({tokenize:Bue},t,n)(l):n(l)}}function Bue(e,t,n){return an(e,r,"whitespace");function r(i){return i===null?n(i):t(i)}}function zue(e){return nR([Yae(),wue(),Iue(e),Oue(),Lue()])}const $ue={};function Uue(e){const t=this,n=e||$ue,r=t.data(),i=r.micromarkExtensions||(r.micromarkExtensions=[]),s=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),o=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);i.push(zue(n)),s.push(Wae()),o.push(Vae(n))}function Hue(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const Wue=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Vue=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,que={};function V6(e,t){return(que.jsx?Vue:Wue).test(e)}const Que=/[ \t\n\f\r]/g;function Kue(e){return typeof e=="object"?e.type==="text"?q6(e.value):!1:q6(e)}function q6(e){return e.replace(Que,"")===""}class Gp{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}}Gp.prototype.normal={};Gp.prototype.property={};Gp.prototype.space=void 0;function vR(e,t){const n={},r={};for(const i of e)Object.assign(n,i.property),Object.assign(r,i.normal);return new Gp(n,r,t)}function l2(e){return e.toLowerCase()}class Qi{constructor(t,n){this.attribute=n,this.property=t}}Qi.prototype.attribute="";Qi.prototype.booleanish=!1;Qi.prototype.boolean=!1;Qi.prototype.commaOrSpaceSeparated=!1;Qi.prototype.commaSeparated=!1;Qi.prototype.defined=!1;Qi.prototype.mustUseProperty=!1;Qi.prototype.number=!1;Qi.prototype.overloadedBoolean=!1;Qi.prototype.property="";Qi.prototype.spaceSeparated=!1;Qi.prototype.space=void 0;let Gue=0;const Bt=yc(),mr=yc(),u2=yc(),Be=yc(),In=yc(),Fd=yc(),ss=yc();function yc(){return 2**++Gue}const c2=Object.freeze(Object.defineProperty({__proto__:null,boolean:Bt,booleanish:mr,commaOrSpaceSeparated:ss,commaSeparated:Fd,number:Be,overloadedBoolean:u2,spaceSeparated:In},Symbol.toStringTag,{value:"Module"})),db=Object.keys(c2);class SS extends Qi{constructor(t,n,r,i){let s=-1;if(super(t,n),Q6(this,"space",i),typeof r=="number")for(;++s<db.length;){const o=db[s];Q6(this,db[s],(r&c2[o])===c2[o])}}}SS.prototype.defined=!0;function Q6(e,t,n){n&&(e[t]=n)}function xf(e){const t={},n={};for(const[r,i]of Object.entries(e.properties)){const s=new SS(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(s.mustUseProperty=!0),t[r]=s,n[l2(r)]=r,n[l2(s.attribute)]=r}return new Gp(t,n,e.space)}const xR=xf({properties:{ariaActiveDescendant:null,ariaAtomic:mr,ariaAutoComplete:null,ariaBusy:mr,ariaChecked:mr,ariaColCount:Be,ariaColIndex:Be,ariaColSpan:Be,ariaControls:In,ariaCurrent:null,ariaDescribedBy:In,ariaDetails:null,ariaDisabled:mr,ariaDropEffect:In,ariaErrorMessage:null,ariaExpanded:mr,ariaFlowTo:In,ariaGrabbed:mr,ariaHasPopup:null,ariaHidden:mr,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:In,ariaLevel:Be,ariaLive:null,ariaModal:mr,ariaMultiLine:mr,ariaMultiSelectable:mr,ariaOrientation:null,ariaOwns:In,ariaPlaceholder:null,ariaPosInSet:Be,ariaPressed:mr,ariaReadOnly:mr,ariaRelevant:null,ariaRequired:mr,ariaRoleDescription:In,ariaRowCount:Be,ariaRowIndex:Be,ariaRowSpan:Be,ariaSelected:mr,ariaSetSize:Be,ariaSort:null,ariaValueMax:Be,ariaValueMin:Be,ariaValueNow:Be,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function bR(e,t){return t in e?e[t]:t}function wR(e,t){return bR(e,t.toLowerCase())}const Yue=xf({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Fd,acceptCharset:In,accessKey:In,action:null,allow:null,allowFullScreen:Bt,allowPaymentRequest:Bt,allowUserMedia:Bt,alt:null,as:null,async:Bt,autoCapitalize:null,autoComplete:In,autoFocus:Bt,autoPlay:Bt,blocking:In,capture:null,charSet:null,checked:Bt,cite:null,className:In,cols:Be,colSpan:null,content:null,contentEditable:mr,controls:Bt,controlsList:In,coords:Be|Fd,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Bt,defer:Bt,dir:null,dirName:null,disabled:Bt,download:u2,draggable:mr,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Bt,formTarget:null,headers:In,height:Be,hidden:u2,high:Be,href:null,hrefLang:null,htmlFor:In,httpEquiv:In,id:null,imageSizes:null,imageSrcSet:null,inert:Bt,inputMode:null,integrity:null,is:null,isMap:Bt,itemId:null,itemProp:In,itemRef:In,itemScope:Bt,itemType:In,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Bt,low:Be,manifest:null,max:null,maxLength:Be,media:null,method:null,min:null,minLength:Be,multiple:Bt,muted:Bt,name:null,nonce:null,noModule:Bt,noValidate:Bt,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Bt,optimum:Be,pattern:null,ping:In,placeholder:null,playsInline:Bt,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Bt,referrerPolicy:null,rel:In,required:Bt,reversed:Bt,rows:Be,rowSpan:Be,sandbox:In,scope:null,scoped:Bt,seamless:Bt,selected:Bt,shadowRootClonable:Bt,shadowRootDelegatesFocus:Bt,shadowRootMode:null,shape:null,size:Be,sizes:null,slot:null,span:Be,spellCheck:mr,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Be,step:null,style:null,tabIndex:Be,target:null,title:null,translate:null,type:null,typeMustMatch:Bt,useMap:null,value:mr,width:Be,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:In,axis:null,background:null,bgColor:null,border:Be,borderColor:null,bottomMargin:Be,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Bt,declare:Bt,event:null,face:null,frame:null,frameBorder:null,hSpace:Be,leftMargin:Be,link:null,longDesc:null,lowSrc:null,marginHeight:Be,marginWidth:Be,noResize:Bt,noHref:Bt,noShade:Bt,noWrap:Bt,object:null,profile:null,prompt:null,rev:null,rightMargin:Be,rules:null,scheme:null,scrolling:mr,standby:null,summary:null,text:null,topMargin:Be,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Be,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Bt,disableRemotePlayback:Bt,prefix:null,property:null,results:Be,security:null,unselectable:null},space:"html",transform:wR}),Xue=xf({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:ss,accentHeight:Be,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Be,amplitude:Be,arabicForm:null,ascent:Be,attributeName:null,attributeType:null,azimuth:Be,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Be,by:null,calcMode:null,capHeight:Be,className:In,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Be,diffuseConstant:Be,direction:null,display:null,dur:null,divisor:Be,dominantBaseline:null,download:Bt,dx:null,dy:null,edgeMode:null,editable:null,elevation:Be,enableBackground:null,end:null,event:null,exponent:Be,externalResourcesRequired:null,fill:null,fillOpacity:Be,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Fd,g2:Fd,glyphName:Fd,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Be,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Be,horizOriginX:Be,horizOriginY:Be,id:null,ideographic:Be,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Be,k:Be,k1:Be,k2:Be,k3:Be,k4:Be,kernelMatrix:ss,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Be,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Be,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Be,overlineThickness:Be,paintOrder:null,panose1:null,path:null,pathLength:Be,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:In,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Be,pointsAtY:Be,pointsAtZ:Be,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:ss,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:ss,rev:ss,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:ss,requiredFeatures:ss,requiredFonts:ss,requiredFormats:ss,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Be,specularExponent:Be,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Be,strikethroughThickness:Be,string:null,stroke:null,strokeDashArray:ss,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Be,strokeOpacity:Be,strokeWidth:null,style:null,surfaceScale:Be,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:ss,tabIndex:Be,tableValues:null,target:null,targetX:Be,targetY:Be,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:ss,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Be,underlineThickness:Be,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Be,values:null,vAlphabetic:Be,vMathematical:Be,vectorEffect:null,vHanging:Be,vIdeographic:Be,version:null,vertAdvY:Be,vertOriginX:Be,vertOriginY:Be,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Be,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:bR}),_R=xf({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),SR=xf({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:wR}),CR=xf({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),Jue={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},Zue=/[A-Z]/g,K6=/-[a-z]/g,ece=/^data[-\w.:]+$/i;function tce(e,t){const n=l2(t);let r=t,i=Qi;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&ece.test(t)){if(t.charAt(4)==="-"){const s=t.slice(5).replace(K6,rce);r="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=t.slice(4);if(!K6.test(s)){let o=s.replace(Zue,nce);o.charAt(0)!=="-"&&(o="-"+o),t="data"+o}}i=SS}return new i(r,t)}function nce(e){return"-"+e.toLowerCase()}function rce(e){return e.charAt(1).toUpperCase()}const ice=vR([xR,Yue,_R,SR,CR],"html"),CS=vR([xR,Xue,_R,SR,CR],"svg");function sce(e){return e.join(" ").trim()}var md={},fb,G6;function oce(){if(G6)return fb;G6=1;var e=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,t=/\n/g,n=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,i=/^:\s*/,s=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,o=/^[;\s]*/,a=/^\s+|\s+$/g,l=`
`,c="/",f="*",p="",g="comment",y="declaration";fb=function(_,C){if(typeof _!="string")throw new TypeError("First argument must be a string");if(!_)return[];C=C||{};var E=1,R=1;function M(ie){var q=ie.match(t);q&&(E+=q.length);var V=ie.lastIndexOf(l);R=~V?ie.length-V:R+ie.length}function U(){var ie={line:E,column:R};return function(q){return q.position=new z(ie),B(),q}}function z(ie){this.start=ie,this.end={line:E,column:R},this.source=C.source}z.prototype.content=_;function P(ie){var q=new Error(C.source+":"+E+":"+R+": "+ie);if(q.reason=ie,q.filename=C.source,q.line=E,q.column=R,q.source=_,!C.silent)throw q}function N(ie){var q=ie.exec(_);if(q){var V=q[0];return M(V),_=_.slice(V.length),q}}function B(){N(n)}function $(ie){var q;for(ie=ie||[];q=D();)q!==!1&&ie.push(q);return ie}function D(){var ie=U();if(!(c!=_.charAt(0)||f!=_.charAt(1))){for(var q=2;p!=_.charAt(q)&&(f!=_.charAt(q)||c!=_.charAt(q+1));)++q;if(q+=2,p===_.charAt(q-1))return P("End of comment missing");var V=_.slice(2,q-2);return R+=2,M(V),_=_.slice(q),R+=2,ie({type:g,comment:V})}}function J(){var ie=U(),q=N(r);if(q){if(D(),!N(i))return P("property missing ':'");var V=N(s),K=ie({type:y,property:b(q[0].replace(e,p)),value:V?b(V[0].replace(e,p)):p});return N(o),K}}function X(){var ie=[];$(ie);for(var q;q=J();)q!==!1&&(ie.push(q),$(ie));return ie}return B(),X()};function b(_){return _?_.replace(a,p):p}return fb}var Y6;function ace(){if(Y6)return md;Y6=1;var e=md&&md.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(md,"__esModule",{value:!0}),md.default=n;var t=e(oce());function n(r,i){var s=null;if(!r||typeof r!="string")return s;var o=(0,t.default)(r),a=typeof i=="function";return o.forEach(function(l){if(l.type==="declaration"){var c=l.property,f=l.value;a?i(c,f,l):f&&(s=s||{},s[c]=f)}}),s}return md}var gh={},X6;function lce(){if(X6)return gh;X6=1,Object.defineProperty(gh,"__esModule",{value:!0}),gh.camelCase=void 0;var e=/^--[a-zA-Z0-9_-]+$/,t=/-([a-z])/g,n=/^[^-]+$/,r=/^-(webkit|moz|ms|o|khtml)-/,i=/^-(ms)-/,s=function(c){return!c||n.test(c)||e.test(c)},o=function(c,f){return f.toUpperCase()},a=function(c,f){return"".concat(f,"-")},l=function(c,f){return f===void 0&&(f={}),s(c)?c:(c=c.toLowerCase(),f.reactCompat?c=c.replace(i,a):c=c.replace(r,a),c.replace(t,o))};return gh.camelCase=l,gh}var yh,J6;function uce(){if(J6)return yh;J6=1;var e=yh&&yh.__importDefault||function(i){return i&&i.__esModule?i:{default:i}},t=e(ace()),n=lce();function r(i,s){var o={};return!i||typeof i!="string"||(0,t.default)(i,function(a,l){a&&l&&(o[(0,n.camelCase)(a,s)]=l)}),o}return r.default=r,yh=r,yh}var cce=uce();const dce=qi(cce),ER=kR("end"),ES=kR("start");function kR(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function fce(e){const t=ES(e),n=ER(e);if(t&&n)return{start:t,end:n}}function Vh(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?Z6(e.position):"start"in e||"end"in e?Z6(e):"line"in e||"column"in e?d2(e):""}function d2(e){return e8(e&&e.line)+":"+e8(e&&e.column)}function Z6(e){return d2(e&&e.start)+"-"+d2(e&&e.end)}function e8(e){return e&&typeof e=="number"?e:1}class hi extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",s={},o=!1;if(n&&("line"in n&&"column"in n?s={place:n}:"start"in n&&"end"in n?s={place:n}:"type"in n?s={ancestors:[n],place:n.position}:s={...n}),typeof t=="string"?i=t:!s.cause&&t&&(o=!0,i=t.message,s.cause=t),!s.ruleId&&!s.source&&typeof r=="string"){const l=r.indexOf(":");l===-1?s.ruleId=r:(s.source=r.slice(0,l),s.ruleId=r.slice(l+1))}if(!s.place&&s.ancestors&&s.ancestors){const l=s.ancestors[s.ancestors.length-1];l&&(s.place=l.position)}const a=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=a?a.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=a?a.line:void 0,this.name=Vh(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=o&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}hi.prototype.file="";hi.prototype.name="";hi.prototype.reason="";hi.prototype.message="";hi.prototype.stack="";hi.prototype.column=void 0;hi.prototype.line=void 0;hi.prototype.ancestors=void 0;hi.prototype.cause=void 0;hi.prototype.fatal=void 0;hi.prototype.place=void 0;hi.prototype.ruleId=void 0;hi.prototype.source=void 0;const kS={}.hasOwnProperty,hce=new Map,pce=/[A-Z]/g,mce=new Set(["table","tbody","thead","tfoot","tr"]),gce=new Set(["td","th"]),TR="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function yce(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=Ece(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=Cce(n,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?CS:ice,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},s=jR(i,e,void 0);return s&&typeof s!="string"?s:i.create(e,i.Fragment,{children:s||void 0},void 0)}function jR(e,t,n){if(t.type==="element")return vce(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return xce(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return wce(e,t,n);if(t.type==="mdxjsEsm")return bce(e,t);if(t.type==="root")return _ce(e,t,n);if(t.type==="text")return Sce(e,t)}function vce(e,t,n){const r=e.schema;let i=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=CS,e.schema=i),e.ancestors.push(t);const s=NR(e,t.tagName,!1),o=kce(e,t);let a=jS(e,t);return mce.has(t.tagName)&&(a=a.filter(function(l){return typeof l=="string"?!Kue(l):!0})),IR(e,o,s,t),TS(o,a),e.ancestors.pop(),e.schema=r,e.create(t,s,o,n)}function xce(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}yp(e,t.position)}function bce(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);yp(e,t.position)}function wce(e,t,n){const r=e.schema;let i=r;t.name==="svg"&&r.space==="html"&&(i=CS,e.schema=i),e.ancestors.push(t);const s=t.name===null?e.Fragment:NR(e,t.name,!0),o=Tce(e,t),a=jS(e,t);return IR(e,o,s,t),TS(o,a),e.ancestors.pop(),e.schema=r,e.create(t,s,o,n)}function _ce(e,t,n){const r={};return TS(r,jS(e,t)),e.create(t,e.Fragment,r,n)}function Sce(e,t){return t.value}function IR(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function TS(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function Cce(e,t,n){return r;function r(i,s,o,a){const c=Array.isArray(o.children)?n:t;return a?c(s,o,a):c(s,o)}}function Ece(e,t){return n;function n(r,i,s,o){const a=Array.isArray(s.children),l=ES(r);return t(i,s,o,a,{columnNumber:l?l.column-1:void 0,fileName:e,lineNumber:l?l.line:void 0},void 0)}}function kce(e,t){const n={};let r,i;for(i in t.properties)if(i!=="children"&&kS.call(t.properties,i)){const s=jce(e,i,t.properties[i]);if(s){const[o,a]=s;e.tableCellAlignToStyle&&o==="align"&&typeof a=="string"&&gce.has(t.tagName)?r=a:n[o]=a}}if(r){const s=n.style||(n.style={});s[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function Tce(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const s=r.data.estree.body[0];s.type;const o=s.expression;o.type;const a=o.properties[0];a.type,Object.assign(n,e.evaluater.evaluateExpression(a.argument))}else yp(e,t.position);else{const i=r.name;let s;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const a=r.value.data.estree.body[0];a.type,s=e.evaluater.evaluateExpression(a.expression)}else yp(e,t.position);else s=r.value===null?!0:r.value;n[i]=s}return n}function jS(e,t){const n=[];let r=-1;const i=e.passKeys?new Map:hce;for(;++r<t.children.length;){const s=t.children[r];let o;if(e.passKeys){const l=s.type==="element"?s.tagName:s.type==="mdxJsxFlowElement"||s.type==="mdxJsxTextElement"?s.name:void 0;if(l){const c=i.get(l)||0;o=l+"-"+c,i.set(l,c+1)}}const a=jR(e,s,o);a!==void 0&&n.push(a)}return n}function jce(e,t,n){const r=tce(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?Hue(n):sce(n)),r.property==="style"){let i=typeof n=="object"?n:Ice(e,String(n));return e.stylePropertyNameCase==="css"&&(i=Nce(i)),["style",i]}return[e.elementAttributeNameCase==="react"&&r.space?Jue[r.property]||r.property:r.attribute,n]}}function Ice(e,t){try{return dce(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,i=new hi("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=e.filePath||void 0,i.url=TR+"#cannot-parse-style-attribute",i}}function NR(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const i=t.split(".");let s=-1,o;for(;++s<i.length;){const a=V6(i[s])?{type:"Identifier",name:i[s]}:{type:"Literal",value:i[s]};o=o?{type:"MemberExpression",object:o,property:a,computed:!!(s&&a.type==="Literal"),optional:!1}:a}r=o}else r=V6(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const i=r.value;return kS.call(e.components,i)?e.components[i]:i}if(e.evaluater)return e.evaluater.evaluateExpression(r);yp(e)}function yp(e,t){const n=new hi("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=TR+"#cannot-handle-mdx-estrees-without-createevaluater",n}function Nce(e){const t={};let n;for(n in e)kS.call(e,n)&&(t[Rce(n)]=e[n]);return t}function Rce(e){let t=e.replace(pce,Pce);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function Pce(e){return"-"+e.toLowerCase()}const hb={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},Oce={tokenize:Mce};function Mce(e){const t=e.attempt(this.parser.constructs.contentInitial,r,i);let n;return t;function r(a){if(a===null){e.consume(a);return}return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),an(e,t,"linePrefix")}function i(a){return e.enter("paragraph"),s(a)}function s(a){const l=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,o(a)}function o(a){if(a===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(a);return}return gt(a)?(e.consume(a),e.exit("chunkText"),s):(e.consume(a),o)}}const Ace={tokenize:Dce},t8={tokenize:Lce};function Dce(e){const t=this,n=[];let r=0,i,s,o;return a;function a(M){if(r<n.length){const U=n[r];return t.containerState=U[1],e.attempt(U[0].continuation,l,c)(M)}return c(M)}function l(M){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&R();const U=t.events.length;let z=U,P;for(;z--;)if(t.events[z][0]==="exit"&&t.events[z][1].type==="chunkFlow"){P=t.events[z][1].end;break}E(r);let N=U;for(;N<t.events.length;)t.events[N][1].end={...P},N++;return ds(t.events,z+1,0,t.events.slice(U)),t.events.length=N,c(M)}return a(M)}function c(M){if(r===n.length){if(!i)return g(M);if(i.currentConstruct&&i.currentConstruct.concrete)return b(M);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(t8,f,p)(M)}function f(M){return i&&R(),E(r),g(M)}function p(M){return t.parser.lazy[t.now().line]=r!==n.length,o=t.now().offset,b(M)}function g(M){return t.containerState={},e.attempt(t8,y,b)(M)}function y(M){return r++,n.push([t.currentConstruct,t.containerState]),g(M)}function b(M){if(M===null){i&&R(),E(0),e.consume(M);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:s}),_(M)}function _(M){if(M===null){C(e.exit("chunkFlow"),!0),E(0),e.consume(M);return}return gt(M)?(e.consume(M),C(e.exit("chunkFlow")),r=0,t.interrupt=void 0,a):(e.consume(M),_)}function C(M,U){const z=t.sliceStream(M);if(U&&z.push(null),M.previous=s,s&&(s.next=M),s=M,i.defineSkip(M.start),i.write(z),t.parser.lazy[M.start.line]){let P=i.events.length;for(;P--;)if(i.events[P][1].start.offset<o&&(!i.events[P][1].end||i.events[P][1].end.offset>o))return;const N=t.events.length;let B=N,$,D;for(;B--;)if(t.events[B][0]==="exit"&&t.events[B][1].type==="chunkFlow"){if($){D=t.events[B][1].end;break}$=!0}for(E(r),P=N;P<t.events.length;)t.events[P][1].end={...D},P++;ds(t.events,B+1,0,t.events.slice(N)),t.events.length=P}}function E(M){let U=n.length;for(;U-- >M;){const z=n[U];t.containerState=z[1],z[0].exit.call(t,e)}n.length=M}function R(){i.write([null]),s=void 0,i=void 0,t.containerState._closeFlow=void 0}}function Lce(e,t,n){return an(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}const Fce={tokenize:Bce};function Bce(e){const t=this,n=e.attempt(Kp,r,e.attempt(this.parser.constructs.flowInitial,i,an(e,e.attempt(this.parser.constructs.flow,i,e.attempt(kle,i)),"linePrefix")));return n;function r(s){if(s===null){e.consume(s);return}return e.enter("lineEndingBlank"),e.consume(s),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function i(s){if(s===null){e.consume(s);return}return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const zce={resolveAll:PR()},$ce=RR("string"),Uce=RR("text");function RR(e){return{resolveAll:PR(e==="text"?Hce:void 0),tokenize:t};function t(n){const r=this,i=this.parser.constructs[e],s=n.attempt(i,o,a);return o;function o(f){return c(f)?s(f):a(f)}function a(f){if(f===null){n.consume(f);return}return n.enter("data"),n.consume(f),l}function l(f){return c(f)?(n.exit("data"),s(f)):(n.consume(f),l)}function c(f){if(f===null)return!0;const p=i[f];let g=-1;if(p)for(;++g<p.length;){const y=p[g];if(!y.previous||y.previous.call(r,r.previous))return!0}return!1}}}function PR(e){return t;function t(n,r){let i=-1,s;for(;++i<=n.length;)s===void 0?n[i]&&n[i][1].type==="data"&&(s=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==s+2&&(n[s][1].end=n[i-1][1].end,n.splice(s+2,i-s-2),i=s+2),s=void 0);return e?e(n,r):n}}function Hce(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],i=t.sliceStream(r);let s=i.length,o=-1,a=0,l;for(;s--;){const c=i[s];if(typeof c=="string"){for(o=c.length;c.charCodeAt(o-1)===32;)a++,o--;if(o)break;o=-1}else if(c===-2)l=!0,a++;else if(c!==-1){s++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(a=0),a){const c={type:n===e.length||l||a<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:s?o:r.start._bufferIndex+o,_index:r.start._index+s,line:r.end.line,column:r.end.column-a,offset:r.end.offset-a},end:{...r.end}};r.end={...c.start},r.start.offset===r.end.offset?Object.assign(r,c):(e.splice(n,0,["enter",c,t],["exit",c,t]),n+=2)}n++}return e}const Wce={42:Li,43:Li,45:Li,48:Li,49:Li,50:Li,51:Li,52:Li,53:Li,54:Li,55:Li,56:Li,57:Li,62:dR},Vce={91:Rle},qce={[-2]:ub,[-1]:ub,32:ub},Qce={35:Lle,42:w0,45:[H6,w0],60:$le,61:H6,95:w0,96:$6,126:$6},Kce={38:hR,92:fR},Gce={[-5]:cb,[-4]:cb,[-3]:cb,33:sue,38:hR,42:a2,60:[ale,Kle],91:aue,92:[Ale,fR],93:_S,95:a2,96:ble},Yce={null:[a2,zce]},Xce={null:[42,95]},Jce={null:[]},Zce=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:Xce,contentInitial:Vce,disable:Jce,document:Wce,flow:Qce,flowInitial:qce,insideSpan:Yce,string:Kce,text:Gce},Symbol.toStringTag,{value:"Module"}));function ede(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},s=[];let o=[],a=[];const l={attempt:N(z),check:N(P),consume:R,enter:M,exit:U,interrupt:N(P,{interrupt:!0})},c={code:null,containerState:{},defineSkip:_,events:[],now:b,parser:e,previous:null,sliceSerialize:g,sliceStream:y,write:p};let f=t.tokenize.call(c,l);return t.resolveAll&&s.push(t),c;function p(J){return o=Rs(o,J),C(),o[o.length-1]!==null?[]:(B(t,0),c.events=w1(s,c.events,c),c.events)}function g(J,X){return nde(y(J),X)}function y(J){return tde(o,J)}function b(){const{_bufferIndex:J,_index:X,line:ie,column:q,offset:V}=r;return{_bufferIndex:J,_index:X,line:ie,column:q,offset:V}}function _(J){i[J.line]=J.column,D()}function C(){let J;for(;r._index<o.length;){const X=o[r._index];if(typeof X=="string")for(J=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===J&&r._bufferIndex<X.length;)E(X.charCodeAt(r._bufferIndex));else E(X)}}function E(J){f=f(J)}function R(J){gt(J)?(r.line++,r.column=1,r.offset+=J===-3?2:1,D()):J!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),c.previous=J}function M(J,X){const ie=X||{};return ie.type=J,ie.start=b(),c.events.push(["enter",ie,c]),a.push(ie),ie}function U(J){const X=a.pop();return X.end=b(),c.events.push(["exit",X,c]),X}function z(J,X){B(J,X.from)}function P(J,X){X.restore()}function N(J,X){return ie;function ie(q,V,K){let ne,Y,de,F;return Array.isArray(q)?ge(q):"tokenize"in q?ge([q]):Z(q);function Z(Te){return Ke;function Ke(We){const Ie=We!==null&&Te[We],Lt=We!==null&&Te.null,Vn=[...Array.isArray(Ie)?Ie:Ie?[Ie]:[],...Array.isArray(Lt)?Lt:Lt?[Lt]:[]];return ge(Vn)(We)}}function ge(Te){return ne=Te,Y=0,Te.length===0?K:H(Te[Y])}function H(Te){return Ke;function Ke(We){return F=$(),de=Te,Te.partial||(c.currentConstruct=Te),Te.name&&c.parser.constructs.disable.null.includes(Te.name)?ke():Te.tokenize.call(X?Object.assign(Object.create(c),X):c,l,je,ke)(We)}}function je(Te){return J(de,F),V}function ke(Te){return F.restore(),++Y<ne.length?H(ne[Y]):K}}}function B(J,X){J.resolveAll&&!s.includes(J)&&s.push(J),J.resolve&&ds(c.events,X,c.events.length-X,J.resolve(c.events.slice(X),c)),J.resolveTo&&(c.events=J.resolveTo(c.events,c))}function $(){const J=b(),X=c.previous,ie=c.currentConstruct,q=c.events.length,V=Array.from(a);return{from:q,restore:K};function K(){r=J,c.previous=X,c.currentConstruct=ie,c.events.length=q,a=V,D()}}function D(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function tde(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,s=t.end._bufferIndex;let o;if(n===i)o=[e[n].slice(r,s)];else{if(o=e.slice(n,i),r>-1){const a=o[0];typeof a=="string"?o[0]=a.slice(r):o.shift()}s>0&&o.push(e[i].slice(0,s))}return o}function nde(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const s=e[n];let o;if(typeof s=="string")o=s;else switch(s){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=t?" ":"	";break}case-1:{if(!t&&i)continue;o=" ";break}default:o=String.fromCharCode(s)}i=s===-2,r.push(o)}return r.join("")}function rde(e){const r={constructs:nR([Zce,...(e||{}).extensions||[]]),content:i(Oce),defined:[],document:i(Ace),flow:i(Fce),lazy:{},string:i($ce),text:i(Uce)};return r;function i(s){return o;function o(a){return ede(r,s,a)}}}function ide(e){for(;!pR(e););return e}const n8=/[\0\t\n\r]/g;function sde(){let e=1,t="",n=!0,r;return i;function i(s,o,a){const l=[];let c,f,p,g,y;for(s=t+(typeof s=="string"?s.toString():new TextDecoder(o||void 0).decode(s)),p=0,t="",n&&(s.charCodeAt(0)===65279&&p++,n=void 0);p<s.length;){if(n8.lastIndex=p,c=n8.exec(s),g=c&&c.index!==void 0?c.index:s.length,y=s.charCodeAt(g),!c){t=s.slice(p);break}if(y===10&&p===g&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),p<g&&(l.push(s.slice(p,g)),e+=g-p),y){case 0:{l.push(65533),e++;break}case 9:{for(f=Math.ceil(e/4)*4,l.push(-2);e++<f;)l.push(-1);break}case 10:{l.push(-4),e=1;break}default:r=!0,e=1}p=g+1}return a&&(r&&l.push(-5),t&&l.push(t),l.push(null)),l}}const OR={}.hasOwnProperty;function ode(e,t,n){return typeof t!="string"&&(n=t,t=void 0),ade(n)(ide(rde(n).document().write(sde()(e,t,!0))))}function ade(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(pi),autolinkProtocol:$,autolinkEmail:$,atxHeading:s(yn),blockQuote:s(Lt),characterEscape:$,characterReference:$,codeFenced:s(Vn),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:s(Vn,o),codeText:s(ct,o),codeTextData:$,data:$,codeFlowValue:$,definition:s(mn),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:s(bn),hardBreakEscape:s(vr),hardBreakTrailing:s(vr),htmlFlow:s(Ei,o),htmlFlowData:$,htmlText:s(Ei,o),htmlTextData:$,image:s(Ki),label:o,link:s(pi),listItem:s(ln),listItemValue:g,listOrdered:s(_t,p),listUnordered:s(_t),paragraph:s(Ct),reference:H,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:s(yn),strong:s(Zt),thematicBreak:s(Ln)},exit:{atxHeading:l(),atxHeadingSequence:z,autolink:l(),autolinkEmail:Ie,autolinkProtocol:We,blockQuote:l(),characterEscapeValue:D,characterReferenceMarkerHexadecimal:ke,characterReferenceMarkerNumeric:ke,characterReferenceValue:Te,characterReference:Ke,codeFenced:l(C),codeFencedFence:_,codeFencedFenceInfo:y,codeFencedFenceMeta:b,codeFlowValue:D,codeIndented:l(E),codeText:l(V),codeTextData:D,data:D,definition:l(),definitionDestinationString:U,definitionLabelString:R,definitionTitleString:M,emphasis:l(),hardBreakEscape:l(X),hardBreakTrailing:l(X),htmlFlow:l(ie),htmlFlowData:D,htmlText:l(q),htmlTextData:D,image:l(ne),label:de,labelText:Y,lineEnding:J,link:l(K),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:je,resourceDestinationString:F,resourceTitleString:Z,resource:ge,setextHeading:l(B),setextHeadingLineSequence:N,setextHeadingText:P,strong:l(),thematicBreak:l()}};MR(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(Ce){let Ae={type:"root",children:[]};const ot={stack:[Ae],tokenStack:[],config:t,enter:a,exit:c,buffer:o,resume:f,data:n},ft=[];let $t=-1;for(;++$t<Ce.length;)if(Ce[$t][1].type==="listOrdered"||Ce[$t][1].type==="listUnordered")if(Ce[$t][0]==="enter")ft.push($t);else{const Fn=ft.pop();$t=i(Ce,Fn,$t)}for($t=-1;++$t<Ce.length;){const Fn=t[Ce[$t][0]];OR.call(Fn,Ce[$t][1].type)&&Fn[Ce[$t][1].type].call(Object.assign({sliceSerialize:Ce[$t][2].sliceSerialize},ot),Ce[$t][1])}if(ot.tokenStack.length>0){const Fn=ot.tokenStack[ot.tokenStack.length-1];(Fn[1]||r8).call(ot,void 0,Fn[0])}for(Ae.position={start:il(Ce.length>0?Ce[0][1].start:{line:1,column:1,offset:0}),end:il(Ce.length>0?Ce[Ce.length-2][1].end:{line:1,column:1,offset:0})},$t=-1;++$t<t.transforms.length;)Ae=t.transforms[$t](Ae)||Ae;return Ae}function i(Ce,Ae,ot){let ft=Ae-1,$t=-1,Fn=!1,ar,xr,Zn,br;for(;++ft<=ot;){const Qe=Ce[ft];switch(Qe[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Qe[0]==="enter"?$t++:$t--,br=void 0;break}case"lineEndingBlank":{Qe[0]==="enter"&&(ar&&!br&&!$t&&!Zn&&(Zn=ft),br=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:br=void 0}if(!$t&&Qe[0]==="enter"&&Qe[1].type==="listItemPrefix"||$t===-1&&Qe[0]==="exit"&&(Qe[1].type==="listUnordered"||Qe[1].type==="listOrdered")){if(ar){let wr=ft;for(xr=void 0;wr--;){const qn=Ce[wr];if(qn[1].type==="lineEnding"||qn[1].type==="lineEndingBlank"){if(qn[0]==="exit")continue;xr&&(Ce[xr][1].type="lineEndingBlank",Fn=!0),qn[1].type="lineEnding",xr=wr}else if(!(qn[1].type==="linePrefix"||qn[1].type==="blockQuotePrefix"||qn[1].type==="blockQuotePrefixWhitespace"||qn[1].type==="blockQuoteMarker"||qn[1].type==="listItemIndent"))break}Zn&&(!xr||Zn<xr)&&(ar._spread=!0),ar.end=Object.assign({},xr?Ce[xr][1].start:Qe[1].end),Ce.splice(xr||ft,0,["exit",ar,Qe[2]]),ft++,ot++}if(Qe[1].type==="listItemPrefix"){const wr={type:"listItem",_spread:!1,start:Object.assign({},Qe[1].start),end:void 0};ar=wr,Ce.splice(ft,0,["enter",wr,Qe[2]]),ft++,ot++,Zn=void 0,br=!0}}}return Ce[Ae][1]._spread=Fn,ot}function s(Ce,Ae){return ot;function ot(ft){a.call(this,Ce(ft),ft),Ae&&Ae.call(this,ft)}}function o(){this.stack.push({type:"fragment",children:[]})}function a(Ce,Ae,ot){this.stack[this.stack.length-1].children.push(Ce),this.stack.push(Ce),this.tokenStack.push([Ae,ot||void 0]),Ce.position={start:il(Ae.start),end:void 0}}function l(Ce){return Ae;function Ae(ot){Ce&&Ce.call(this,ot),c.call(this,ot)}}function c(Ce,Ae){const ot=this.stack.pop(),ft=this.tokenStack.pop();if(ft)ft[0].type!==Ce.type&&(Ae?Ae.call(this,Ce,ft[0]):(ft[1]||r8).call(this,Ce,ft[0]));else throw new Error("Cannot close `"+Ce.type+"` ("+Vh({start:Ce.start,end:Ce.end})+"): its not open");ot.position.end=il(Ce.end)}function f(){return vS(this.stack.pop())}function p(){this.data.expectingFirstListItemValue=!0}function g(Ce){if(this.data.expectingFirstListItemValue){const Ae=this.stack[this.stack.length-2];Ae.start=Number.parseInt(this.sliceSerialize(Ce),10),this.data.expectingFirstListItemValue=void 0}}function y(){const Ce=this.resume(),Ae=this.stack[this.stack.length-1];Ae.lang=Ce}function b(){const Ce=this.resume(),Ae=this.stack[this.stack.length-1];Ae.meta=Ce}function _(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function C(){const Ce=this.resume(),Ae=this.stack[this.stack.length-1];Ae.value=Ce.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function E(){const Ce=this.resume(),Ae=this.stack[this.stack.length-1];Ae.value=Ce.replace(/(\r?\n|\r)$/g,"")}function R(Ce){const Ae=this.resume(),ot=this.stack[this.stack.length-1];ot.label=Ae,ot.identifier=ao(this.sliceSerialize(Ce)).toLowerCase()}function M(){const Ce=this.resume(),Ae=this.stack[this.stack.length-1];Ae.title=Ce}function U(){const Ce=this.resume(),Ae=this.stack[this.stack.length-1];Ae.url=Ce}function z(Ce){const Ae=this.stack[this.stack.length-1];if(!Ae.depth){const ot=this.sliceSerialize(Ce).length;Ae.depth=ot}}function P(){this.data.setextHeadingSlurpLineEnding=!0}function N(Ce){const Ae=this.stack[this.stack.length-1];Ae.depth=this.sliceSerialize(Ce).codePointAt(0)===61?1:2}function B(){this.data.setextHeadingSlurpLineEnding=void 0}function $(Ce){const ot=this.stack[this.stack.length-1].children;let ft=ot[ot.length-1];(!ft||ft.type!=="text")&&(ft=xt(),ft.position={start:il(Ce.start),end:void 0},ot.push(ft)),this.stack.push(ft)}function D(Ce){const Ae=this.stack.pop();Ae.value+=this.sliceSerialize(Ce),Ae.position.end=il(Ce.end)}function J(Ce){const Ae=this.stack[this.stack.length-1];if(this.data.atHardBreak){const ot=Ae.children[Ae.children.length-1];ot.position.end=il(Ce.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(Ae.type)&&($.call(this,Ce),D.call(this,Ce))}function X(){this.data.atHardBreak=!0}function ie(){const Ce=this.resume(),Ae=this.stack[this.stack.length-1];Ae.value=Ce}function q(){const Ce=this.resume(),Ae=this.stack[this.stack.length-1];Ae.value=Ce}function V(){const Ce=this.resume(),Ae=this.stack[this.stack.length-1];Ae.value=Ce}function K(){const Ce=this.stack[this.stack.length-1];if(this.data.inReference){const Ae=this.data.referenceType||"shortcut";Ce.type+="Reference",Ce.referenceType=Ae,delete Ce.url,delete Ce.title}else delete Ce.identifier,delete Ce.label;this.data.referenceType=void 0}function ne(){const Ce=this.stack[this.stack.length-1];if(this.data.inReference){const Ae=this.data.referenceType||"shortcut";Ce.type+="Reference",Ce.referenceType=Ae,delete Ce.url,delete Ce.title}else delete Ce.identifier,delete Ce.label;this.data.referenceType=void 0}function Y(Ce){const Ae=this.sliceSerialize(Ce),ot=this.stack[this.stack.length-2];ot.label=Rae(Ae),ot.identifier=ao(Ae).toLowerCase()}function de(){const Ce=this.stack[this.stack.length-1],Ae=this.resume(),ot=this.stack[this.stack.length-1];if(this.data.inReference=!0,ot.type==="link"){const ft=Ce.children;ot.children=ft}else ot.alt=Ae}function F(){const Ce=this.resume(),Ae=this.stack[this.stack.length-1];Ae.url=Ce}function Z(){const Ce=this.resume(),Ae=this.stack[this.stack.length-1];Ae.title=Ce}function ge(){this.data.inReference=void 0}function H(){this.data.referenceType="collapsed"}function je(Ce){const Ae=this.resume(),ot=this.stack[this.stack.length-1];ot.label=Ae,ot.identifier=ao(this.sliceSerialize(Ce)).toLowerCase(),this.data.referenceType="full"}function ke(Ce){this.data.characterReferenceType=Ce.type}function Te(Ce){const Ae=this.sliceSerialize(Ce),ot=this.data.characterReferenceType;let ft;ot?(ft=tR(Ae,ot==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):ft=bS(Ae);const $t=this.stack[this.stack.length-1];$t.value+=ft}function Ke(Ce){const Ae=this.stack.pop();Ae.position.end=il(Ce.end)}function We(Ce){D.call(this,Ce);const Ae=this.stack[this.stack.length-1];Ae.url=this.sliceSerialize(Ce)}function Ie(Ce){D.call(this,Ce);const Ae=this.stack[this.stack.length-1];Ae.url="mailto:"+this.sliceSerialize(Ce)}function Lt(){return{type:"blockquote",children:[]}}function Vn(){return{type:"code",lang:null,meta:null,value:""}}function ct(){return{type:"inlineCode",value:""}}function mn(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function bn(){return{type:"emphasis",children:[]}}function yn(){return{type:"heading",depth:0,children:[]}}function vr(){return{type:"break"}}function Ei(){return{type:"html",value:""}}function Ki(){return{type:"image",title:null,url:"",alt:null}}function pi(){return{type:"link",title:null,url:"",children:[]}}function _t(Ce){return{type:"list",ordered:Ce.type==="listOrdered",start:null,spread:Ce._spread,children:[]}}function ln(Ce){return{type:"listItem",spread:Ce._spread,checked:null,children:[]}}function Ct(){return{type:"paragraph",children:[]}}function Zt(){return{type:"strong",children:[]}}function xt(){return{type:"text",value:""}}function Ln(){return{type:"thematicBreak"}}}function il(e){return{line:e.line,column:e.column,offset:e.offset}}function MR(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?MR(e,r):lde(e,r)}}function lde(e,t){let n;for(n in t)if(OR.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function r8(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Vh({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Vh({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Vh({start:t.start,end:t.end})+") is still open")}function ude(e){const t=this;t.parser=n;function n(r){return ode(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function cde(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function dde(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function fde(e,t){const n=t.value?t.value+`
`:"",r={},i=t.lang?t.lang.split(/\s+/):[];i.length>0&&(r.className=["language-"+i[0]]);let s={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(s.data={meta:t.meta}),e.patch(t,s),s=e.applyData(t,s),s={type:"element",tagName:"pre",properties:{},children:[s]},e.patch(t,s),s}function hde(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function pde(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function mde(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),i=vf(r.toLowerCase()),s=e.footnoteOrder.indexOf(r);let o,a=e.footnoteCounts.get(r);a===void 0?(a=0,e.footnoteOrder.push(r),o=e.footnoteOrder.length):o=s+1,a+=1,e.footnoteCounts.set(r,a);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(a>1?"-"+a:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};e.patch(t,l);const c={type:"element",tagName:"sup",properties:{},children:[l]};return e.patch(t,c),e.applyData(t,c)}function gde(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function yde(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function AR(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const i=e.all(t),s=i[0];s&&s.type==="text"?s.value="["+s.value:i.unshift({type:"text",value:"["});const o=i[i.length-1];return o&&o.type==="text"?o.value+=r:i.push({type:"text",value:r}),i}function vde(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return AR(e,t);const i={src:vf(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,s),e.applyData(t,s)}function xde(e,t){const n={src:vf(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function bde(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function wde(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return AR(e,t);const i={href:vf(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,s),e.applyData(t,s)}function _de(e,t){const n={href:vf(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function Sde(e,t,n){const r=e.all(t),i=n?Cde(n):DR(t),s={},o=[];if(typeof t.checked=="boolean"){const f=r[0];let p;f&&f.type==="element"&&f.tagName==="p"?p=f:(p={type:"element",tagName:"p",properties:{},children:[]},r.unshift(p)),p.children.length>0&&p.children.unshift({type:"text",value:" "}),p.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let a=-1;for(;++a<r.length;){const f=r[a];(i||a!==0||f.type!=="element"||f.tagName!=="p")&&o.push({type:"text",value:`
`}),f.type==="element"&&f.tagName==="p"&&!i?o.push(...f.children):o.push(f)}const l=r[r.length-1];l&&(i||l.type!=="element"||l.tagName!=="p")&&o.push({type:"text",value:`
`});const c={type:"element",tagName:"li",properties:s,children:o};return e.patch(t,c),e.applyData(t,c)}function Cde(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=DR(n[r])}return t}function DR(e){const t=e.spread;return t??e.children.length>1}function Ede(e,t){const n={},r=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++i<r.length;){const o=r[i];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const s={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,s),e.applyData(t,s)}function kde(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Tde(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function jde(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Ide(e,t){const n=e.all(t),r=n.shift(),i=[];if(r){const o={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],o),i.push(o)}if(n.length>0){const o={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},a=ES(t.children[1]),l=ER(t.children[t.children.length-1]);a&&l&&(o.position={start:a,end:l}),i.push(o)}const s={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,s),e.applyData(t,s)}function Nde(e,t,n){const r=n?n.children:void 0,s=(r?r.indexOf(t):1)===0?"th":"td",o=n&&n.type==="table"?n.align:void 0,a=o?o.length:t.children.length;let l=-1;const c=[];for(;++l<a;){const p=t.children[l],g={},y=o?o[l]:void 0;y&&(g.align=y);let b={type:"element",tagName:s,properties:g,children:[]};p&&(b.children=e.all(p),e.patch(p,b),b=e.applyData(p,b)),c.push(b)}const f={type:"element",tagName:"tr",properties:{},children:e.wrap(c,!0)};return e.patch(t,f),e.applyData(t,f)}function Rde(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const i8=9,s8=32;function Pde(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),i=0;const s=[];for(;r;)s.push(o8(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return s.push(o8(t.slice(i),i>0,!1)),s.join("")}function o8(e,t,n){let r=0,i=e.length;if(t){let s=e.codePointAt(r);for(;s===i8||s===s8;)r++,s=e.codePointAt(r)}if(n){let s=e.codePointAt(i-1);for(;s===i8||s===s8;)i--,s=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function Ode(e,t){const n={type:"text",value:Pde(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function Mde(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const Ade={blockquote:cde,break:dde,code:fde,delete:hde,emphasis:pde,footnoteReference:mde,heading:gde,html:yde,imageReference:vde,image:xde,inlineCode:bde,linkReference:wde,link:_de,listItem:Sde,list:Ede,paragraph:kde,root:Tde,strong:jde,table:Ide,tableCell:Rde,tableRow:Nde,text:Ode,thematicBreak:Mde,toml:qg,yaml:qg,definition:qg,footnoteDefinition:qg};function qg(){}const LR=-1,_1=0,qh=1,fy=2,IS=3,NS=4,RS=5,PS=6,FR=7,BR=8,a8=typeof self=="object"?self:globalThis,Dde=(e,t)=>{const n=(i,s)=>(e.set(s,i),i),r=i=>{if(e.has(i))return e.get(i);const[s,o]=t[i];switch(s){case _1:case LR:return n(o,i);case qh:{const a=n([],i);for(const l of o)a.push(r(l));return a}case fy:{const a=n({},i);for(const[l,c]of o)a[r(l)]=r(c);return a}case IS:return n(new Date(o),i);case NS:{const{source:a,flags:l}=o;return n(new RegExp(a,l),i)}case RS:{const a=n(new Map,i);for(const[l,c]of o)a.set(r(l),r(c));return a}case PS:{const a=n(new Set,i);for(const l of o)a.add(r(l));return a}case FR:{const{name:a,message:l}=o;return n(new a8[a](l),i)}case BR:return n(BigInt(o),i);case"BigInt":return n(Object(BigInt(o)),i);case"ArrayBuffer":return n(new Uint8Array(o).buffer,o);case"DataView":{const{buffer:a}=new Uint8Array(o);return n(new DataView(a),o)}}return n(new a8[s](o),i)};return r},l8=e=>Dde(new Map,e)(0),gd="",{toString:Lde}={},{keys:Fde}=Object,vh=e=>{const t=typeof e;if(t!=="object"||!e)return[_1,t];const n=Lde.call(e).slice(8,-1);switch(n){case"Array":return[qh,gd];case"Object":return[fy,gd];case"Date":return[IS,gd];case"RegExp":return[NS,gd];case"Map":return[RS,gd];case"Set":return[PS,gd];case"DataView":return[qh,n]}return n.includes("Array")?[qh,n]:n.includes("Error")?[FR,n]:[fy,n]},Qg=([e,t])=>e===_1&&(t==="function"||t==="symbol"),Bde=(e,t,n,r)=>{const i=(o,a)=>{const l=r.push(o)-1;return n.set(a,l),l},s=o=>{if(n.has(o))return n.get(o);let[a,l]=vh(o);switch(a){case _1:{let f=o;switch(l){case"bigint":a=BR,f=o.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+l);f=null;break;case"undefined":return i([LR],o)}return i([a,f],o)}case qh:{if(l){let g=o;return l==="DataView"?g=new Uint8Array(o.buffer):l==="ArrayBuffer"&&(g=new Uint8Array(o)),i([l,[...g]],o)}const f=[],p=i([a,f],o);for(const g of o)f.push(s(g));return p}case fy:{if(l)switch(l){case"BigInt":return i([l,o.toString()],o);case"Boolean":case"Number":case"String":return i([l,o.valueOf()],o)}if(t&&"toJSON"in o)return s(o.toJSON());const f=[],p=i([a,f],o);for(const g of Fde(o))(e||!Qg(vh(o[g])))&&f.push([s(g),s(o[g])]);return p}case IS:return i([a,o.toISOString()],o);case NS:{const{source:f,flags:p}=o;return i([a,{source:f,flags:p}],o)}case RS:{const f=[],p=i([a,f],o);for(const[g,y]of o)(e||!(Qg(vh(g))||Qg(vh(y))))&&f.push([s(g),s(y)]);return p}case PS:{const f=[],p=i([a,f],o);for(const g of o)(e||!Qg(vh(g)))&&f.push(s(g));return p}}const{message:c}=o;return i([a,{name:l,message:c}],o)};return s},u8=(e,{json:t,lossy:n}={})=>{const r=[];return Bde(!(t||n),!!t,new Map,r)(e),r},hy=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?l8(u8(e,t)):structuredClone(e):(e,t)=>l8(u8(e,t));function zde(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function $de(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function Ude(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||zde,r=e.options.footnoteBackLabel||$de,i=e.options.footnoteLabel||"Footnotes",s=e.options.footnoteLabelTagName||"h2",o=e.options.footnoteLabelProperties||{className:["sr-only"]},a=[];let l=-1;for(;++l<e.footnoteOrder.length;){const c=e.footnoteById.get(e.footnoteOrder[l]);if(!c)continue;const f=e.all(c),p=String(c.identifier).toUpperCase(),g=vf(p.toLowerCase());let y=0;const b=[],_=e.footnoteCounts.get(p);for(;_!==void 0&&++y<=_;){b.length>0&&b.push({type:"text",value:" "});let R=typeof n=="string"?n:n(l,y);typeof R=="string"&&(R={type:"text",value:R}),b.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+g+(y>1?"-"+y:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(l,y),className:["data-footnote-backref"]},children:Array.isArray(R)?R:[R]})}const C=f[f.length-1];if(C&&C.type==="element"&&C.tagName==="p"){const R=C.children[C.children.length-1];R&&R.type==="text"?R.value+=" ":C.children.push({type:"text",value:" "}),C.children.push(...b)}else f.push(...b);const E={type:"element",tagName:"li",properties:{id:t+"fn-"+g},children:e.wrap(f,!0)};e.patch(c,E),a.push(E)}if(a.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:s,properties:{...hy(o),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(a,!0)},{type:"text",value:`
`}]}}const f2={}.hasOwnProperty,Hde={};function Wde(e,t){const n=t||Hde,r=new Map,i=new Map,s=new Map,o={...Ade,...n.handlers},a={all:c,applyData:qde,definitionById:r,footnoteById:i,footnoteCounts:s,footnoteOrder:[],handlers:o,one:l,options:n,patch:Vde,wrap:Kde};return yS(e,function(f){if(f.type==="definition"||f.type==="footnoteDefinition"){const p=f.type==="definition"?r:i,g=String(f.identifier).toUpperCase();p.has(g)||p.set(g,f)}}),a;function l(f,p){const g=f.type,y=a.handlers[g];if(f2.call(a.handlers,g)&&y)return y(a,f,p);if(a.options.passThrough&&a.options.passThrough.includes(g)){if("children"in f){const{children:_,...C}=f,E=hy(C);return E.children=a.all(f),E}return hy(f)}return(a.options.unknownHandler||Qde)(a,f,p)}function c(f){const p=[];if("children"in f){const g=f.children;let y=-1;for(;++y<g.length;){const b=a.one(g[y],f);if(b){if(y&&g[y-1].type==="break"&&(!Array.isArray(b)&&b.type==="text"&&(b.value=c8(b.value)),!Array.isArray(b)&&b.type==="element")){const _=b.children[0];_&&_.type==="text"&&(_.value=c8(_.value))}Array.isArray(b)?p.push(...b):p.push(b)}}}return p}}function Vde(e,t){e.position&&(t.position=fce(e))}function qde(e,t){let n=t;if(e&&e.data){const r=e.data.hName,i=e.data.hChildren,s=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const o="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:o}}n.type==="element"&&s&&Object.assign(n.properties,hy(s)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function Qde(e,t){const n=t.data||{},r="value"in t&&!(f2.call(n,"hProperties")||f2.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function Kde(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function c8(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function d8(e,t){const n=Wde(e,t),r=n.one(e,void 0),i=Ude(n),s=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&s.children.push({type:"text",value:`
`},i),s}function Gde(e,t){return e&&"run"in e?async function(n,r){const i=d8(n,{file:r,...t});await e.run(i,r)}:function(n,r){return d8(n,{file:r,...e||t})}}function f8(e){if(e)throw e}var pb,h8;function Yde(){if(h8)return pb;h8=1;var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,i=function(c){return typeof Array.isArray=="function"?Array.isArray(c):t.call(c)==="[object Array]"},s=function(c){if(!c||t.call(c)!=="[object Object]")return!1;var f=e.call(c,"constructor"),p=c.constructor&&c.constructor.prototype&&e.call(c.constructor.prototype,"isPrototypeOf");if(c.constructor&&!f&&!p)return!1;var g;for(g in c);return typeof g>"u"||e.call(c,g)},o=function(c,f){n&&f.name==="__proto__"?n(c,f.name,{enumerable:!0,configurable:!0,value:f.newValue,writable:!0}):c[f.name]=f.newValue},a=function(c,f){if(f==="__proto__")if(e.call(c,f)){if(r)return r(c,f).value}else return;return c[f]};return pb=function l(){var c,f,p,g,y,b,_=arguments[0],C=1,E=arguments.length,R=!1;for(typeof _=="boolean"&&(R=_,_=arguments[1]||{},C=2),(_==null||typeof _!="object"&&typeof _!="function")&&(_={});C<E;++C)if(c=arguments[C],c!=null)for(f in c)p=a(_,f),g=a(c,f),_!==g&&(R&&g&&(s(g)||(y=i(g)))?(y?(y=!1,b=p&&i(p)?p:[]):b=p&&s(p)?p:{},o(_,{name:f,newValue:l(R,b,g)})):typeof g<"u"&&o(_,{name:f,newValue:g}));return _},pb}var Xde=Yde();const mb=qi(Xde);function h2(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function Jde(){const e=[],t={run:n,use:r};return t;function n(...i){let s=-1;const o=i.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);a(null,...i);function a(l,...c){const f=e[++s];let p=-1;if(l){o(l);return}for(;++p<i.length;)(c[p]===null||c[p]===void 0)&&(c[p]=i[p]);i=c,f?Zde(f,a)(...c):o(null,...c)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function Zde(e,t){let n;return r;function r(...o){const a=e.length>o.length;let l;a&&o.push(i);try{l=e.apply(this,o)}catch(c){const f=c;if(a&&n)throw f;return i(f)}a||(l&&l.then&&typeof l.then=="function"?l.then(s,i):l instanceof Error?i(l):s(l))}function i(o,...a){n||(n=!0,t(o,...a))}function s(o){i(null,o)}}const To={basename:efe,dirname:tfe,extname:nfe,join:rfe,sep:"/"};function efe(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');Yp(e);let n=0,r=-1,i=e.length,s;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(s){n=i+1;break}}else r<0&&(s=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let o=-1,a=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(s){n=i+1;break}}else o<0&&(s=!0,o=i+1),a>-1&&(e.codePointAt(i)===t.codePointAt(a--)?a<0&&(r=i):(a=-1,r=o));return n===r?r=o:r<0&&(r=e.length),e.slice(n,r)}function tfe(e){if(Yp(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function nfe(e){Yp(e);let t=e.length,n=-1,r=0,i=-1,s=0,o;for(;t--;){const a=e.codePointAt(t);if(a===47){if(o){r=t+1;break}continue}n<0&&(o=!0,n=t+1),a===46?i<0?i=t:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||n<0||s===0||s===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function rfe(...e){let t=-1,n;for(;++t<e.length;)Yp(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":ife(n)}function ife(e){Yp(e);const t=e.codePointAt(0)===47;let n=sfe(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function sfe(e,t){let n="",r=0,i=-1,s=0,o=-1,a,l;for(;++o<=e.length;){if(o<e.length)a=e.codePointAt(o);else{if(a===47)break;a=47}if(a===47){if(!(i===o-1||s===1))if(i!==o-1&&s===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),i=o,s=0;continue}}else if(n.length>0){n="",r=0,i=o,s=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,o):n=e.slice(i+1,o),r=o-i-1;i=o,s=0}else a===46&&s>-1?s++:s=-1}return n}function Yp(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const ofe={cwd:afe};function afe(){return"/"}function p2(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function lfe(e){if(typeof e=="string")e=new URL(e);else if(!p2(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return ufe(e)}function ufe(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const gb=["history","path","basename","stem","extname","dirname"];class zR{constructor(t){let n;t?p2(t)?n={path:t}:typeof t=="string"||cfe(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":ofe.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<gb.length;){const s=gb[r];s in n&&n[s]!==void 0&&n[s]!==null&&(this[s]=s==="history"?[...n[s]]:n[s])}let i;for(i in n)gb.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?To.basename(this.path):void 0}set basename(t){vb(t,"basename"),yb(t,"basename"),this.path=To.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?To.dirname(this.path):void 0}set dirname(t){p8(this.basename,"dirname"),this.path=To.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?To.extname(this.path):void 0}set extname(t){if(yb(t,"extname"),p8(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=To.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){p2(t)&&(t=lfe(t)),vb(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?To.basename(this.path,this.extname):void 0}set stem(t){vb(t,"stem"),yb(t,"stem"),this.path=To.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=void 0,i}message(t,n,r){const i=new hi(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function yb(e,t){if(e&&e.includes(To.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+To.sep+"`")}function vb(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function p8(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function cfe(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const dfe=function(e){const r=this.constructor.prototype,i=r[e],s=function(){return i.apply(s,arguments)};return Object.setPrototypeOf(s,r),s},ffe={}.hasOwnProperty;class OS extends dfe{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=Jde()}copy(){const t=new OS;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(mb(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(wb("data",this.frozen),this.namespace[t]=n,this):ffe.call(this.namespace,t)&&this.namespace[t]||void 0:t?(wb("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(t,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=Kg(t),r=this.parser||this.Parser;return xb("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),xb("process",this.parser||this.Parser),bb("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(s,o){const a=Kg(t),l=r.parse(a);r.run(l,a,function(f,p,g){if(f||!p||!g)return c(f);const y=p,b=r.stringify(y,g);mfe(b)?g.value=b:g.result=b,c(f,g)});function c(f,p){f||!p?o(f):s?s(p):n(void 0,p)}}}processSync(t){let n=!1,r;return this.freeze(),xb("processSync",this.parser||this.Parser),bb("processSync",this.compiler||this.Compiler),this.process(t,i),g8("processSync","process",n),r;function i(s,o){n=!0,f8(s),r=o}}run(t,n,r){m8(t),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?s(void 0,r):new Promise(s);function s(o,a){const l=Kg(n);i.run(t,l,c);function c(f,p,g){const y=p||t;f?a(f):o?o(y):r(void 0,y,g)}}}runSync(t,n){let r=!1,i;return this.run(t,n,s),g8("runSync","run",r),i;function s(o,a){f8(o),i=a,r=!0}}stringify(t,n){this.freeze();const r=Kg(n),i=this.compiler||this.Compiler;return bb("stringify",i),m8(t),i(t,r)}use(t,...n){const r=this.attachers,i=this.namespace;if(wb("use",this.frozen),t!=null)if(typeof t=="function")l(t,n);else if(typeof t=="object")Array.isArray(t)?a(t):o(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function s(c){if(typeof c=="function")l(c,[]);else if(typeof c=="object")if(Array.isArray(c)){const[f,...p]=c;l(f,p)}else o(c);else throw new TypeError("Expected usable value, not `"+c+"`")}function o(c){if(!("plugins"in c)&&!("settings"in c))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");a(c.plugins),c.settings&&(i.settings=mb(!0,i.settings,c.settings))}function a(c){let f=-1;if(c!=null)if(Array.isArray(c))for(;++f<c.length;){const p=c[f];s(p)}else throw new TypeError("Expected a list of plugins, not `"+c+"`")}function l(c,f){let p=-1,g=-1;for(;++p<r.length;)if(r[p][0]===c){g=p;break}if(g===-1)r.push([c,...f]);else if(f.length>0){let[y,...b]=f;const _=r[g][1];h2(_)&&h2(y)&&(y=mb(!0,_,y)),r[g]=[c,y,...b]}}}}const hfe=new OS().freeze();function xb(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function bb(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function wb(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function m8(e){if(!h2(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function g8(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function Kg(e){return pfe(e)?e:new zR(e)}function pfe(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function mfe(e){return typeof e=="string"||gfe(e)}function gfe(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const yfe="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",y8=[],v8={allowDangerousHtml:!0},vfe=/^(https?|ircs?|mailto|xmpp)$/i,xfe=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function bfe(e){const t=wfe(e),n=_fe(e);return Sfe(t.runSync(t.parse(n),n),e)}function wfe(e){const t=e.rehypePlugins||y8,n=e.remarkPlugins||y8,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...v8}:v8;return hfe().use(ude).use(n).use(Gde,r).use(t)}function _fe(e){const t=e.children||"",n=new zR;return typeof t=="string"&&(n.value=t),n}function Sfe(e,t){const n=t.allowedElements,r=t.allowElement,i=t.components,s=t.disallowedElements,o=t.skipHtml,a=t.unwrapDisallowed,l=t.urlTransform||Cfe;for(const f of xfe)Object.hasOwn(t,f.from)&&(""+f.from+(f.to?"use `"+f.to+"` instead":"remove it")+yfe+f.id,void 0);return yS(e,c),yce(e,{Fragment:h.Fragment,components:i,ignoreInvalidStyle:!0,jsx:h.jsx,jsxs:h.jsxs,passKeys:!0,passNode:!0});function c(f,p,g){if(f.type==="raw"&&g&&typeof p=="number")return o?g.children.splice(p,1):g.children[p]={type:"text",value:f.value},p;if(f.type==="element"){let y;for(y in hb)if(Object.hasOwn(hb,y)&&Object.hasOwn(f.properties,y)){const b=f.properties[y],_=hb[y];(_===null||_.includes(f.tagName))&&(f.properties[y]=l(String(b||""),y,f))}}if(f.type==="element"){let y=n?!n.includes(f.tagName):s?s.includes(f.tagName):!1;if(!y&&r&&typeof p=="number"&&(y=!r(f,p,g)),y&&g&&typeof p=="number")return a&&f.children?g.children.splice(p,1,...f.children):g.children.splice(p,1),p}}}function Cfe(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),i=e.indexOf("/");return t===-1||i!==-1&&t>i||n!==-1&&t>n||r!==-1&&t>r||vfe.test(e.slice(0,t))?e:""}const Efe=async()=>await Uy("/faq.json");function kfe(){return fo({queryKey:["faq"],queryFn:Efe,staleTime:1/0,select:e=>e.faq.map((t,n)=>({...t,id:n}))})}const Tfe=e=>j.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:14,height:16,viewBox:"0 0 14 16",...e},j.createElement("defs",null,j.createElement("clipPath",{id:"master_svg0_137_3346"},j.createElement("rect",{x:0,y:0,width:14,height:16,rx:0}))),j.createElement("g",{clipPath:"url(#master_svg0_137_3346)"},j.createElement("g",{transform:"matrix(1,0,0,-1,0,26.6875)"},j.createElement("g",null,j.createElement("path",{d:"M6.28125,13.625Q6.59375,13.34375,7,13.34375Q7.40625,13.34375,7.71875,13.625L13.7188,19.625Q14,19.9375,14,20.34375Q14,20.75,13.7188,21.0625Q13.4062,21.34375,13,21.34375Q12.5938,21.34375,12.2812,21.0625L7,15.75L1.71875,21.0625Q1.40625,21.34375,1,21.34375Q0.59375,21.34375,0.28125,21.0625Q0,20.75,0,20.34375Q0,19.9375,0.28125,19.625L6.28125,13.625Z",fill:"#9CA3AF",fillOpacity:1,style:{mixBlendMode:"passthrough"}}))))),jfe={h2:e=>h.jsx("h2",{...e,className:"text-lg font-bold my-4"}),h3:e=>h.jsx("h3",{...e,className:"text-base font-bold my-4"}),a:e=>h.jsx("a",{...e,className:"text-blue-500 underline"})},Ife={all:"",timetable:"",wishes:"",simulation:"",live:""};function Nfe(e){return Array.from(new Set(e))}function Rfe(){const e=co(),t=e.hash,n=t?Number.parseInt(t.replace("#","")):null,[r,i]=j.useState(n),{data:s}=kfe(),[o,a]=j.useState(null),l=Nfe(s?.map(g=>g.tag)??[]),c=o?s?.filter(g=>g.tag===o):s,f=g=>{i(r===g?null:g)};j.useEffect(()=>{if(e.hash){const g=Number.parseInt(e.hash.replace("#",""));setTimeout(()=>{const y=document.getElementById("faq-container-"+g);y&&(y.scrollIntoView({behavior:"smooth"}),i(g))},300)}},[e.hash]);const p=g=>{a(y=>y===g?null:g)};return h.jsxs(h.Fragment,{children:[h.jsx(Gr,{children:h.jsx("title",{children:"ALLCLL |   "})}),h.jsx("div",{className:"mx-auto max-w-7xl px-4 md:px-16 py-24",children:h.jsxs(Pe,{direction:"flex-col",gap:"gap-4",children:[h.jsx(Gt,{level:1,children:"  "}),h.jsx(Pe,{direction:"flex-wrap",gap:"gap-2",className:"mb-6",children:l.length>0&&l.map((g,y)=>h.jsx(Xn,{label:Ife[g]||g,onClick:()=>p(g),selected:o===g},"faq-chip-"+y))}),c&&c.map(g=>h.jsx(Pfe,{item:g,index:g.id,isOpen:r===g.id,toggleAnswer:f},g.id))]})})]})}function Pfe({item:e,index:t,isOpen:n,toggleAnswer:r}){return h.jsxs("div",{id:"faq-container-"+t,className:"mb-4 rounded-md bg-white shadow-sm",children:[h.jsxs("button",{onClick:()=>r(t),className:"flex items-center justify-between rounded-md w-full text-left font-semibold text-md p-4 hover:bg-blue-50 focus:outline-none cursor-pointer "+(n?"text-blue-600 font-bold":""),children:[e.question,h.jsx(Tfe,{className:"w-4 h-4 transform transition-transform duration-150 "+(n?"rotate-180":"")})]}),n&&h.jsx("div",{className:"p-4 border-t border-gray-200 text-sm",children:h.jsx(bfe,{remarkPlugins:[Uue],components:jfe,children:e.answer})})]},t)}const Ofe=e=>j.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:16.508930206298828,height:16.008333206176758,viewBox:"0 0 16.508930206298828 16.008333206176758",...e},j.createElement("g",{transform:"matrix(1,0,0,-1,0,32.016666412353516)"},j.createElement("path",{d:"M8.25446,32.016633206176756Q8.72321,31.985433206176758,8.94196,31.579133206176756L11.067,27.172933206176758L15.8482,26.485433206176758Q16.317,26.391633206176756,16.4732,25.95416320617676Q16.5982,25.51666320617676,16.2857,25.20416320617676L12.817,21.76666320617676L13.6295,16.891666206176758Q13.692,16.454166206176758,13.317,16.141666206176758Q12.942,15.891666206176758,12.5357,16.110416206176758L8.25446,18.39166320617676L3.97321,16.110416206176758Q3.56696,15.891666206176758,3.19196,16.172916206176758Q2.81696,16.454166206176758,2.87946,16.891666206176758L3.69196,21.76666320617676L0.223214,25.20416320617676Q-0.0892857,25.51666320617676,0.0357143,25.95416320617676Q0.191964,26.391633206176756,0.660714,26.485433206176758L5.44196,27.172933206176758L7.56696,31.579133206176756Q7.78571,31.985433206176758,8.25446,32.016633206176756ZM8.25446,29.547933206176758L6.59821,26.172933206176758L8.25446,29.547933206176758L6.59821,26.172933206176758Q6.44196,25.82916320617676,6.03571,25.73541320617676L2.34821,25.20416320617676L5.03571,22.54791320617676Q5.28571,22.26666320617676,5.25446,21.89166320617676L4.59821,18.14166320617676L7.91071,19.89166320617676Q8.25446,20.07916320617676,8.59821,19.89166320617676L11.8795,18.14166320617676L11.2545,21.89166320617676Q11.192,22.26666320617676,11.4732,22.54791320617676L14.1607,25.20416320617676L10.4732,25.73541320617676Q10.067,25.82916320617676,9.91071,26.172933206176758L8.25446,29.547933206176758Z",fill:"#9CA3AF",fillOpacity:1,style:{mixBlendMode:"passthrough"}}))),Mfe=e=>j.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:16.505903244018555,height:16.001562118530273,viewBox:"0 0 16.505903244018555 16.001562118530273",...e},j.createElement("g",{transform:"matrix(1,0,0,-1,0,32.00312423706055)"},j.createElement("path",{d:"M9.15,31.440662118530273Q8.86875,31.971862118530275,8.24375,32.00316211853027Q7.65,31.971862118530275,7.3375,31.440662118530273L5.3375,27.315662118530273L0.8375,26.628162118530273Q0.24375,26.534362118530275,0.05625,25.97187211853027Q-0.13125,25.37812211853027,0.30625,24.94062211853027L3.55625,21.72187211853027L2.775,17.159372118530275Q2.7125,16.565625118530274,3.18125,16.190625118530274Q3.68125,15.846875118530274,4.24375,16.128125118530274L8.24375,18.253122118530275L12.275,16.128125118530274Q12.8062,15.846875118530274,13.3062,16.190625118530274Q13.8062,16.565625118530274,13.7125,17.159372118530275L12.9625,21.72187211853027L16.2125,24.94062211853027Q16.6187,25.37812211853027,16.4625,25.97187211853027Q16.2437,26.534362118530275,15.65,26.628162118530273L11.15,27.315662118530273L9.15,31.440662118530273Z",fill:"#FACC15",fillOpacity:1,style:{mixBlendMode:"passthrough"}})));function $R({disabled:e}){return e?h.jsx(Ofe,{className:"w-4 h-4"}):h.jsx(Mfe,{className:"w-4 h-4"})}function UR({subject:e,variant:t="contain",className:n,onClick:r,...i}){const s=t2(c=>c.isFavorite(e.subjectId)),o=t2(c=>c.toggleFavorite),a=s?" ":" ",l=c=>{o(e.subjectId),r&&r(c)};return h.jsx(Rr,{variant:t,onClick:l,label:a,icon:h.jsx($R,{disabled:!s}),"aria-label":a,className:n,...i})}const Afe=[{title:"",visible:!0,key:"subjectCode"},{title:"",visible:!0,key:"classCode"},{title:" ",visible:!0,key:"departmentName"},{title:"",visible:!0,key:"subjectName"},{title:"",visible:!0,key:"professorName"},{title:"",visible:!0,key:"totalCount"},{title:"",visible:!0,key:"seat"},{title:"",visible:!1,key:"studentYear"},{title:"",visible:!1,key:"lesnTime"},{title:"",visible:!1,key:"lesnRoom"},{title:"",visible:!1,key:"tmNum"},{title:"",visible:!1,key:"remark"},{title:"",visible:!1,key:"curiTypeCdNm"},{title:"",visible:!1,key:"curiLangNm"}],m2=DN("wishes",Afe);function Dfe(e){const t=m2(o=>o.tableTitles),n=!!(e&&e[0]&&"seat"in e[0]),r=e&&e[0]&&"totalCount"in e[0],{isPreSeatAvailable:i}=h1({hasSeats:n});let s=[{title:"",visible:!0,key:""},...t.filter(o=>o.visible)];return r||(s=s.filter(o=>o.key!=="totalCount")),i||(s=s.filter(o=>o.key!=="seat")),s}function Lfe(e,t=!0){const n=e.curiLangNm==="";return e.isDeleted?t?"bg-gray-100 hover:bg-gray-200":"bg-gray-100":n?t?"bg-green-50 hover:bg-green-100":"bg-green-50":t?"bg-white hover:bg-gray-100":"bg-white"}function HR({data:e,isPending:t=!1,placeholder:n}){const r=Dfe(e);return h.jsxs("table",{className:"w-full bg-white rounded-lg relative text-sm",children:[h.jsx("thead",{children:h.jsx("tr",{className:"bg-gray-50 sticky top-0 z-10 text-nowrap",children:r.map(({title:i})=>h.jsx("th",{className:"px-4 py-2",children:i},"table-header-name-"+i))})}),h.jsx("tbody",{children:h.jsx(Ffe,{headers:r,data:e,isPending:t,placeholder:n})})]})}function Ffe({headers:e,data:t,isPending:n=!1,placeholder:r}){const{visibleRows:i}=p1(t??[],"selector"),s=t?t.slice(0,i):[];return n||!t?h.jsx(mp,{row:5,col:e.length}):t.length?h.jsxs(h.Fragment,{children:[s.map(o=>h.jsx(Bfe,{data:o,tableHeaders:e},`${o.subjectCode} ${o.subjectId} ${o.professorName}`)),h.jsx("tr",{className:"load-more-trigger"})]}):h.jsx(lS,{col:e.length,...r})}const Bfe=({data:e,tableHeaders:t})=>{const n=Lfe(e,!0);return h.jsxs("tr",{className:`border-t border-gray-200 text-black ${n}`,children:[h.jsx("td",{className:"px-4 py-2",children:h.jsx(Pe,{align:"items-center",gap:"gap-2",children:h.jsx(UR,{subject:e,variant:"plain"})})}),h.jsx($fe,{data:e,tableHeaders:t})]})},zfe=(e,t)=>e.data.subjectId===t.data.subjectId&&"seat"in e=="seat"in t&&e.tableHeaders===t.tableHeaders,$fe=j.memo(({data:e,tableHeaders:t})=>{const{selectTargetOnly:n}=Wp();function r(){n(e.subjectId),d1(e.departmentCode??e.deptCd)}return t.slice(1,20).map(({key:i})=>h.jsx("td",{className:"px-4 py-2 text-center",children:h.jsx(ui,{to:`/wishes/${e.subjectId}`,onClick:r,children:h.jsx(Ufe,{data:e,headerType:i})})},i))},zfe);function Ufe({data:e,headerType:t}){switch(t){case"":return h.jsx(h.Fragment,{children:""});case"totalCount":return h.jsx(qI,{wishCount:e.totalCount??-1});case"seat":return h.jsx($w,{seat:e.seat});default:return e[t]?.toString()}}function Hfe(){const[e,t]=j.useState(!1),[n,r]=j.useState(!1),i=jh(N=>N.filters),s=jh(N=>N.setFilter),o=jh(N=>N.resetFilters),{keywords:a,favoriteOnly:l}=i,c=m2(N=>N.tableTitles),f=m2(N=>N.setTableTitles),p=hs(),[g,y]=j.useState(!1),{data:b}=rN([]),_=Vp(b??[]).sort((N,B)=>N.localeCompare(B)).map(N=>N),C=oS(i),E=b&&"seat"in b,{isPreSeatAvailable:R}=h1({hasSeats:E}),M=b&&"totalCount"in b,U=()=>s("favoriteOnly",!l),z=()=>{p?y(!0):r(!0)},P=(N,B)=>{const $=i[N];Array.isArray($)?s(N,$.filter(D=>D!==B)):s(N,Ml[N])};return h.jsxs("div",{className:"flex flex-wrap gap-2 mt-4 lg:flex-wrap lg:flex-row lg:items-center lg:gap-y-0 lg:gap-x-2",children:[e&&h.jsx(AN,{initialItems:c,onChange:f,onClose:()=>t(!1)}),n&&h.jsx(hS,{filterStore:jh,onClose:()=>r(!1)}),g&&h.jsx(pS,{onCloseFiltering:()=>y(!1),filters:i,setFilter:s,resetFilter:o}),h.jsx(gc,{type:"text",placeholder:",      ",value:a,onDelete:()=>s("keywords",""),onChange:N=>s("keywords",N.target.value),className:"w-full"}),h.jsxs("div",{className:"flex items-center flex-wrap mt-2 gap-2",children:[h.jsxs("div",{className:"hidden md:flex flex-wrap gap-2",children:[h.jsx(dS,{setFilter:s,selectedValue:i.department??""}),M&&h.jsx(ef,{filterKey:"wishRange",options:Pn.wishRange,selectedValue:i.wishRange??null,setFilter:s,ItemComponent:Xn,isMinMax:!0}),R&&h.jsx(ef,{filterKey:"seatRange",options:Pn.seatRange,selectedValue:i.seatRange??null,setFilter:s,ItemComponent:Xn,isMinMax:!0}),h.jsx(ir,{filterKey:"days",options:Pn.days,selectedValues:i.days??[],setFilter:s}),h.jsx(ir,{filterKey:"credits",options:Pn.credits,selectedValues:i.credits??[],setFilter:s}),h.jsx(ir,{filterKey:"grades",options:Pn.grades,selectedValues:i.grades??[],setFilter:s}),i.classroom.length>0&&h.jsx(ir,{filterKey:"classroom",options:Pn.classRoom,selectedValues:i.classroom??[],setFilter:s,className:"min-w-max"}),i.note.length>0&&h.jsx(ir,{filterKey:"note",options:Pn.remark,selectedValues:i.note??[],setFilter:s}),i.categories.length>0&&h.jsx(ir,{filterKey:"categories",options:_,selectedValues:i.categories??[],setFilter:s,className:"min-w-max"})]}),h.jsx(fS,{filters:i,resetFilter:o}),h.jsx(cS,{handleOpenFilter:z}),h.jsx(Rr,{variant:"contain",icon:h.jsx($R,{disabled:!l}),"aria-label":l?"  ":"  ",label:l?"  ":"  ",onClick:U}),h.jsx(Rr,{variant:"contain",label:" ",icon:h.jsx(mS,{className:"w-5 h-5"}),onClick:()=>t(!0)}),h.jsx(Pe,{direction:"flex-wrap",gap:"gap-2",className:"w-fit md:hidden",children:C.map(N=>h.jsx(Xn,{variant:"cancel",label:N.label,selected:!0,onClick:()=>P(N.filterKey,N.values)},`${N.filterKey}-${N.values}`))})]})]})}function Wfe(){return h.jsxs(sc,{to:"/live",state:{openSearch:!0},className:"inline-flex items-center gap-2 rounded-md border border-blue-500 px-3 py-2 text-sm text-blue-500 hover:bg-blue-50",children:[h.jsx(Ol,{}),""]})}function Vfe(){return h.jsxs(h.Fragment,{children:[h.jsx(Gr,{children:h.jsx("title",{children:"ALLCLL |  "})}),h.jsxs("div",{className:"mx-auto max-w-7xl px-4 md:px-16 mb-8 min-h-screen",children:[h.jsx(Gt,{level:1,className:"mt-2",children:" "}),h.jsxs(Gn,{children:["  ",h.jsx("span",{className:"text-blue-500 font-bold",children:" "})," .   ."]}),h.jsxs(Pe,{gap:"gap-4",direction:"flex-col",className:"mt-6",children:[h.jsxs(Yn,{children:[h.jsx(Wfe,{}),h.jsx(Hfe,{}),h.jsx(eS,{})]}),h.jsx(Yn,{variant:"elevated",className:"mt-6 overflow-x-auto",children:h.jsx(qfe,{})}),h.jsx(nN,{right:"right-2 sm:right-20"})]})]})]})}function qfe(){const{data:e,isPending:t}=Ao(),n=mf(u1(e,pc)),r=jh(o=>o.filters),i=j.useDeferredValue(yf(n??[],r)),s={title:"  .",description:"   ."};return h.jsx(HR,{data:i,isPending:t,placeholder:s})}function Qfe({children:e}){return h.jsxs("div",{className:"relative max-h-screen overflow-hidden",children:[h.jsx("div",{style:{filter:"blur(4px"},children:e}),h.jsx("div",{className:"absolute top-0 left-0 w-full h-full flex justify-center items-center",children:h.jsx("p",{className:"text-xl font-bold text-gray-700",children:"  "})})]})}ja.register(W_,pf,hf,Bp,zp,$p);const Kfe={labels:["4","3","2","1"],datasets:[{data:[50,40,25,20],backgroundColor:"#60a5fa"}]};function Gfe(){return h.jsxs(Qfe,{children:[h.jsx("p",{className:"text-sm text-gray-500",children:"   20%      "}),h.jsx("div",{className:"mt-4",children:h.jsx(zee,{data:Kfe})})]})}ja.register(W_,pf,hf,Bp,zp,$p);var WR=(e=>(e.MAJOR="/",e.UNIVERSITY="",e.DEPARTMENT="",e.COLLEGE="",e))(WR||{});function Yfe({data:e,majorName:t}){const[n,r]=j.useState("/"),{data:i}=hc(),s=ite(i),{doughnutData:o,totalCount:a}=Xfe(e,s,t,n);return h.jsxs(h.Fragment,{children:[h.jsxs(Pe,{justify:"justify-between",align:"items-center",children:[h.jsx(Gt,{level:2,children:" "}),h.jsx(Hr,{className:"hidden",htmlFor:"doughnut-select",children:""}),h.jsx("select",{className:"border px-3 py-1 rounded-md",id:"doughnut-select",value:n,onChange:l=>r(l.target.value),children:Object.values(WR).map(l=>h.jsx("option",{value:l,children:l},l))})]}),a?h.jsx(LI,{data:o}):h.jsx(Pe,{justify:"justify-center",align:"items-center",className:"h-48",children:h.jsx("p",{className:"text-center text-gray-500 font-semibold",children:"   ."})})]})}function Xfe(e,t,n,r){let i;const{universityDict:s,collegeDict:o}=t;switch(r){case"/":i=ate(n,e);break;case"":i=lte(e,s);break;case"":i=ute(e,o);break;case"":i=zk(e);break;default:i=zk(e);break}const a=cte(e);return{doughnutData:i,totalCount:a}}function Jfe({wishes:e}){const t=e??pc,n=e&&"seat"in e,{isPreSeatAvailable:r}=h1({hasSeats:n}),i=n?e.seat:-1,s=e?.curiLangNm==="",o=e?.isDeleted??!1;return h.jsxs(h.Fragment,{children:[h.jsxs("p",{className:"text-gray-600",children:[t.subjectCode,"-",t.classCode," | ",t.departmentName," | ",t.professorName]}),h.jsxs(Pe,{gap:"gap-2",align:"items-center",direction:"flex-wrap",className:"text-gray-600 text-sm",children:[h.jsxs("span",{children:[t.studentYear,""]}),h.jsx("span",{children:t.curiTypeCdNm}),h.jsxs("span",{children:[Number(t.tmNum.split("/")[0].trim()),""]}),h.jsxs("span",{children:[" ","| ",t.lesnRoom," | ",t.lesnTime]}),r&&h.jsxs("p",{className:`text-sm px-2 py-1 rounded-full font-bold ${a1(i??-1)}`,children:[": ",(i??-1)<0?"???":i]}),s&&h.jsx(x8,{variant:"success",children:""}),o&&h.jsx(x8,{variant:"danger",children:""})]}),h.jsx("p",{className:"text-sm text-gray-500",children:t.remark})]})}function x8({variant:e,children:t}){const n=Zfe(e);return h.jsx("div",{className:`${n} rounded px-2 py-1 text-xs font-semibold`,children:t})}function Zfe(e){switch(e){case"success":return"bg-green-100 text-green-500 ";case"warning":return"bg-yellow-100 text-yellow-500 ";case"danger":return"bg-red-100 text-red-500 ";case"default":return"bg-gray-100 text-gray-500 ";default:return""}}function VR(e){const{data:t}=Ao(),n=u1(t,pc);if(!n)return{isPending:!0};const r=n?.find(i=>i.subjectId===e);return{isPending:!1,data:r,isLastSemesterWish:!r}}function ehe(e){const{data:t}=Ao(),{data:n}=VR(e),r=u1(t,pc),i=n?.subjectCode??"";return r?{isPending:!1,data:r.filter(o=>o.subjectCode===i&&o.subjectId!==e)}:{isPending:!0}}function the(e){return fo({queryKey:["detail-registers",e],queryFn:()=>gne(e),staleTime:1/0,retry:nhe})}const nhe=(e,t)=>e>=3?!1:!(t instanceof X_);function rhe(){const e=g7(),t=Number(e.id??"-1"),{data:n,isPending:r,isLastSemesterWish:i}=VR(t),{data:s,error:o}=the(t),a=n??pc,l=n&&"totalCount"in n;if(r||!a)return h.jsxs(h.Fragment,{children:[h.jsx(Gr,{children:h.jsx("title",{children:"ALLCLL |   "})}),h.jsx("div",{className:"min-h-screen bg-gray-50 flex justify-center items-center",children:h.jsx("h1",{className:"text-2xl font-bold",children:"Loading..."})})]});if(o)throw o;return h.jsxs(h.Fragment,{children:[h.jsx(Gr,{children:h.jsx("title",{children:"ALLCLL |   "})}),i&&h.jsx("p",{className:"bg-red-100 text-red-500 py-2 px-4 font-bold",children:"   .   ."}),h.jsx("div",{className:"min-h-screen bg-gray-50",children:h.jsx("div",{className:"p-6 max-w-5xl mx-auto",children:h.jsxs(Yn,{children:[h.jsxs(Pe,{justify:"justify-between",align:"items-center",children:[h.jsx(Gt,{level:1,children:a.subjectName}),h.jsxs(Pe,{gap:"gap-2",children:[h.jsx(UR,{subject:a}),h.jsx(IN,{subject:a})]})]}),h.jsx(Jfe,{wishes:n}),h.jsxs($l,{columns:{md:2,base:1},gap:"gap-6",className:" mt-6",children:[h.jsx(Yn,{className:"p-6",children:h.jsx(Yfe,{data:s?.eachDepartmentRegisters??[],majorName:a.departmentName??a.manageDeptNm})}),h.jsxs(Yn,{children:[h.jsxs(Pe,{gap:"gap-2",align:"items-center",className:"mb-4",children:[h.jsx(Gt,{level:2,children:"  "}),l&&h.jsxs("p",{className:`${Tte(a.totalCount??-1)} font-bold text-xl`,children:[" ",a.totalCount,""]})]}),h.jsx(Gfe,{})]})]}),h.jsxs(Yn,{children:[h.jsx(Gt,{level:2,className:"mt-2",children:" "}),h.jsx(Gn,{children:"   "}),h.jsx("div",{className:"overflow-x-auto",children:h.jsx(ihe,{subjectId:t})})]})]})})})]})}function ihe({subjectId:e}){const{data:t}=ehe(e),n={title:"   ."};return h.jsx(HR,{data:t??[],placeholder:n})}const Nh=()=>{const e=I2();return j.useEffect(()=>{G2(e,{extra:{url:window.location.href,userAgent:navigator.userAgent}})},[e]),h.jsxs(h.Fragment,{children:[h.jsx(Gr,{children:h.jsx("title",{children:"ALLCLL |  "})}),h.jsxs("div",{className:"flex flex-col items-center justify-center h-screen",children:[h.jsx("h1",{className:"text-4xl font-bold mb-4",children:" "}),h.jsx("p",{className:"text-lg mb-4",children:" .    "}),h.jsx(ui,{to:"/",className:"text-blue-500",children:" "}),h.jsx("a",{href:"https://forms.gle/bCDTVujEHunnvHe88",target:"_blank",className:"text-blue-500",children:""})]})]})},qR=()=>h.jsxs(h.Fragment,{children:[h.jsx(Gr,{children:h.jsx("title",{children:"ALLCLL |    "})}),h.jsxs(Pe,{direction:"flex-col",align:"items-center",justify:"justify-center",gap:"gap-2",className:"h-screen",children:[h.jsx(Gt,{level:1,children:"404 -    "}),h.jsx("p",{className:"text-lg mb-4",children:"   "}),h.jsx(ui,{to:"/",className:"text-blue-500",children:" "})]})]}),she=()=>{const e=I2();return e instanceof X_||e instanceof pne?h.jsx(qR,{}):h.jsx(Nh,{})},yr=di((e,t)=>({type:null,props:void 0,openModal:(n,r)=>{e({type:n,props:r})},closeModal:n=>{const r=t().type;(!n||r===n)&&e({type:null,props:void 0})}}));function vc(){const{data:e,isLoading:t}=po(),{data:n,isLoading:r}=hc(),i=t||r;return i||!e||!n?{data:[],isLoading:i}:{data:ohe(e,n),isLoading:!1}}function ohe(e,t){return e.map(n=>{const r=t.find(s=>s.departmentCode===n.deptCd)?.departmentName||"",i=r?r.split(" ").reverse()[0]:"";return{subjectId:n.subjectId??-1,subjectCode:n.subjectCode??"",classCode:n.classCode??"",departmentName:i,subjectName:n.subjectName??"",language:n.curiLangNm??"",subjectType:n.curiTypeCdNm??"",semester_at:n.studentYear?Number(n.studentYear):-1,lesn_time:n.lesnTime??"",professorName:n.professorName??"",lesn_room:n.lesnRoom??"",tm_num:n.tmNum??""}})}function ahe(){return Math.floor(1e3+Math.random()*9e3).toString()}const lhe=4;function uhe(){const e=j.useRef(null),[t,n]=j.useState(),[r,i]=j.useState(""),s=j.useRef(""),{data:o}=vc(),a=yr(C=>C.openModal),l=yr(C=>C.closeModal),{currentSubjectId:c,setSubjectStatus:f,setCaptchaFailed:p}=i1();function g(){const C=ahe();s.current=C,setTimeout(()=>{e.current&&Fw(e.current,C)},100)}function y(C){let E=C.target.value;if(/[^0-9]/.test(E)){i("0~9  "),n(E.replace(/[^0-9]/g,""));return}E.length<=lhe?(n(E),i("")):i("4  ")}j.useEffect(()=>{setTimeout(()=>{g()},100)},[]);function b(){fa({eventType:gr.CAPTCHA,subjectId:c},o).then(()=>{t?.toString()===s.current?(f(c,dn.PROGRESS),p(!1)):(f(c,dn.PROGRESS),p(!0))}).then(()=>{l(),a("simulation")})}function _(){fa({eventType:gr.CANCEL_SUBMIT,subjectId:c},o).then(()=>{l("captcha"),p(!1),f(c,dn.PROGRESS)})}return h.jsx(fn.Modal,{preventAutoFocus:!0,children:h.jsxs("div",{className:"sm:w-[500px]",children:[h.jsx(fn.Modal.Header,{title:"  (Arti-marco code input)",onClose:_}),h.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-4 p-4",children:[h.jsxs("div",{className:"flex flex-col",children:[h.jsxs("div",{className:"text-sm font-semibold flex flex-row items-center",children:[h.jsx("span",{className:"inline-block w-1.5 h-5 bg-blue-500 mr-2 "})," ",h.jsx("button",{onClick:g,className:"ml-2 px-2 py-1 bg-blue-500 text-white text-sm rounded-xs cursor-pointer hover:bg-blue-600",children:""})]}),h.jsx("div",{className:"flex items-center mt-1",children:h.jsx("canvas",{id:"captcha",width:"105",height:"50",ref:e})})]}),h.jsxs("div",{children:[h.jsxs("div",{className:"text-sm font-semibold flex flex-row items-center",children:[h.jsx("span",{className:"inline-block w-1.5 h-5 bg-blue-500 mr-2 "}),"  "]}),h.jsx(fn.Input,{value:t,onChange:C=>y(C),className:"mt-2 w-full",placeholder:" ",essential:!0}),h.jsx("span",{className:"pl-1 text-xs text-red-500 ",children:r})]})]}),h.jsx("p",{className:"text-sm text-gray-800 mt-10 p-4",children:"               ."}),h.jsxs(fn.Modal.ButtonContainer,{className:"px-6 py-2 bg-gray-100",children:[h.jsx(fn.Modal.Button,{variant:"cancel",onClick:b,children:""}),h.jsx(fn.Modal.Button,{variant:"cancel",onClick:_,children:""})]})]})})}const che=e=>j.createElement("svg",{width:50,height:50,viewBox:"0 0 50 50",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},j.createElement("circle",{cx:25,cy:25,r:25,fill:"#7890CE"}),j.createElement("path",{d:"M20.2339 29.5078L35.0317 17.4276C35.3809 17.1425 35.7883 17 36.2539 17C36.7196 17 37.127 17.1425 37.4762 17.4276C37.8254 17.7127 38 18.0515 38 18.4439C38 18.8364 37.8254 19.1747 37.4762 19.4588L21.4562 32.5724C21.107 32.8575 20.6995 33 20.2339 33C19.7683 33 19.3609 32.8575 19.0117 32.5724L11.5037 26.4432C11.1545 26.1581 10.9868 25.8198 11.0008 25.4283C11.0148 25.0368 11.1969 24.6981 11.5473 24.412C11.8977 24.126 12.3127 23.9835 12.7923 23.9844C13.2718 23.9854 13.6862 24.1279 14.0354 24.412L20.2339 29.5078Z",fill:"white"})),b8={simulationId:-1,registeredSubjects:[],nonRegisteredSubjects:[],simulationStatus:"before",clickedTime:0},Vi=di(e=>({currentSimulation:b8,setCurrentSimulation:t=>e(n=>({currentSimulation:{...n.currentSimulation,...t}})),resetSimulation:()=>e({currentSimulation:b8})})),dhe=[{status:dn.PROGRESS,topMessage:"   ?",description:"(CourseTitle):"},{status:dn.SUCCESS,topMessage:"  .   ?",description:"    []  .         []      . []     ."},{status:dn.FAILED,topMessage:"  !"},{status:dn.DOUBLED,topMessage:"   !"},{status:dn.CAPTCHA_FAILED,topMessage:"   "},{status:dn.NOT_ELIGIBLE,topMessage:"   "}],fhe=[dn.PROGRESS,dn.SUCCESS,dn.FAILED,dn.CAPTCHA_FAILED];function hhe({reloadSimulationStatus:e}){const t=yr(P=>P.openModal),n=yr(P=>P.closeModal),{currentSubjectId:r,setSubjectStatus:i,subjectStatusMap:s}=i1(),o=Vi(P=>P.setCurrentSimulation),{data:a}=vc(),l=s[r],c=dhe.find(P=>P.status===l),f=c?.status??dn.PROGRESS,p=[dn.FAILED,dn.DOUBLED,dn.CAPTCHA_FAILED].includes(f),g=fhe.includes(f),y=j.useRef(null);if(!c)return null;y.current?.focus();const b=(P,N=!1)=>{if("errMsg"in P)throw alert(P.errMsg),N&&Ld().then(()=>{t("result")}),new Error(P.errMsg)},_=P=>{console.error(" :",P),alert(" :"+P.toString())},C=async P=>{const N=await fa({eventType:gr.SUBJECT_SUBMIT,subjectId:P},a);b(N),i(P,N.status),t("simulation")},E=async P=>{const N=await fa({eventType:gr.REFRESH,subjectId:P},a);b(N),e(),N.finished&&(o({simulationStatus:"finish"}),console.log(" "),t("result"))},R=async P=>{try{const N=await fa({eventType:gr.SKIP_REFRESH,subjectId:P},a);"errMsg"in N?(alert(N.errMsg),await Ld(),o({simulationStatus:"finish"}),t("result")):N.finished&&(o({simulationStatus:"finish"}),t("result"))}catch(N){console.error(N)}finally{n("simulation")}},M=async()=>{try{c.status===dn.PROGRESS?await C(r):c?.status===dn.SUCCESS?await E(r):p&&await R(r)}catch(P){_(P)}},U=async()=>{try{if(c?.status===dn.SUCCESS){const P=await fa({eventType:gr.SKIP_REFRESH,subjectId:r},a);"errMsg"in P?(alert(P.errMsg),await Ld(),o({simulationStatus:"finish"}),t("result")):P.finished?(o({simulationStatus:"finish"}),t("result")):n("simulation")}else if(c?.status===dn.PROGRESS){const P=await fa({eventType:gr.CANCEL_SUBMIT,subjectId:r},a);b(P,!0)}}catch(P){_(P)}},z=()=>{g||n("simulation")};return h.jsx(fn.Modal,{children:h.jsxs("div",{className:"flex sm:w-[450px] border-1 border-gray-800 flex-col justify-between overflow-hidden",children:[h.jsx(fn.Modal.Header,{title:"",onClose:z}),h.jsxs("div",{className:"px-6 pb-6 text-center ",children:[h.jsx("div",{className:"flex justify-center mb-4 py-5",children:h.jsx("div",{className:"w-10 h-10",children:h.jsx(che,{})})}),h.jsx("p",{className:"text-gray-700 text-base mb-4",children:c.topMessage}),c.description&&h.jsx("p",{className:"text-sm text-gray-700 whitespace-pre-line",children:c.description})]}),h.jsxs(fn.Modal.ButtonContainer,{className:"px-6 py-2 bg-gray-100",children:[c.status===dn.PROGRESS||c.status===dn.SUCCESS&&h.jsx(fn.Modal.Button,{variant:"cancel",onClick:U,children:""}),h.jsx(fn.Modal.Button,{variant:"primary",onClick:M,children:""})]})]})})}function phe(e,t,n){var r,i;typeof e=="function"?(r=t||[],i=n):(r=[],i=t);var s=xn.useRef({hasResult:!1,result:i,error:null}),o=xn.useReducer(function(c){return c+1},0);o[0];var a=o[1],l=xn.useMemo(function(){var c=typeof e=="function"?e():e;if(!c||typeof c.subscribe!="function")throw e===c?new TypeError("Given argument to useObservable() was neither a valid observable nor a function."):new TypeError("Observable factory given to useObservable() did not return a valid observable.");if(!s.current.hasResult&&typeof window<"u"&&(typeof c.hasValue!="function"||c.hasValue()))if(typeof c.getValue=="function")s.current.result=c.getValue(),s.current.hasResult=!0;else{var f=c.subscribe(function(p){s.current.result=p,s.current.hasResult=!0});typeof f=="function"?f():f.unsubscribe()}return c},r);if(xn.useDebugValue(s.current.result),xn.useEffect(function(){var c=l.subscribe(function(f){var p=s.current;(p.error!==null||p.result!==f)&&(p.error=null,p.result=f,p.hasResult=!0,a())},function(f){var p=s.current;p.error!==f&&(p.error=f,a())});return typeof c=="function"?c:c.unsubscribe.bind(c)},r),s.current.error)throw s.current.error;return s.current.result}function bf(e,t,n){return phe(function(){return pte(e)},[],n)}function w8(){const e=yr(t=>t.closeModal);return h.jsx(fn.Modal,{onBackdropClick:()=>e(),noBorder:!0,children:h.jsxs("div",{className:"p-6 w-80 bg-white rounded shadow",children:[h.jsx("p",{className:"text-sm text-gray-800 mb-4",children:"  ."}),h.jsx("div",{className:"w-full h-4 bg-gray-200 rounded overflow-hidden",children:h.jsx("div",{className:"h-full bg-blue-400 bg-gradient-to-r from-blue-400 to-blue-600 animate-stripes"})})]})})}const xh=1/1e3;async function mhe(){return{snapshots:(await Tt.simulation_run.filter(n=>n.ended_at!==-1).toArray()).sort((n,r)=>r.simulation_run_id-n.simulation_run_id)}}async function ghe(e){const t=await wte(e),n=await zI(t.snapshot_id);if(!t||!n)return null;const r=await Tt.simulation_run_selections.where("simulation_run_id").equals(t.simulation_run_id).toArray(),i=r.map(c=>c.run_selections_id),s=c=>{const f=n.subjects.find(p=>p.interested_id===c);return f?f.subject_id:-1},o=await Tt.simulation_run_events.filter(c=>i.includes(c.simulation_section_id)).toArray(),a=o.filter(c=>c.event_type===gr.CAPTCHA),l=r.reduce((c,f)=>{const p=a.find(g=>g.simulation_section_id===f.run_selections_id);return p?.timestamp?c+p.timestamp-f.started_at:c},0)/r.length;return{started_at:t.started_at,ended_at:t.ended_at,user_ability:{searchBtnSpeed:(t.search_event_at-t.started_at)/1e3,totalSpeed:t.total_elapsed/t.subject_count/1e3,accuracy:t.accuracy,captchaSpeed:l/1e3},timeline:r.map(c=>({interested_id:c.interested_id,subject_id:s(c.interested_id),started_at:c.started_at,ended_at:c.ended_at,status:c.status,events:o.filter(f=>f.simulation_section_id===c.run_selections_id).sort((f,p)=>f.timestamp-p.timestamp).map(f=>({event:f.event_type,timestamp:f.timestamp}))})),subject_results:r.sort((c,f)=>f.started_at-c.started_at).reduce((c,f)=>c.some(p=>p.interested_id===f.interested_id)?c:[...c,f],[]).map(c=>({interested_id:c.interested_id,subject_id:s(c.interested_id),selected_index:c.selected_index,ended_at:c.ended_at,status:c.status}))}}async function QR(){const e=await Tt.simulation_run.filter(C=>C.ended_at!==-1).toArray(),t=e.length;if(t===0)throw new Error("    .");const n=await Tt.simulation_run_selections.toArray(),r=await Promise.all(e.map(async C=>{const E=await Tt.simulation_run_selections.filter(N=>N.simulation_run_id===C.simulation_run_id).toArray(),R=E.map(N=>N.run_selections_id),M=await Tt.simulation_run_events.filter(N=>N.event_type===gr.CAPTCHA&&R.includes(N.simulation_section_id)).toArray(),U=(C.search_event_at-C.started_at)*xh,z=M.reduce((N,B)=>{const $=E.find(D=>D.run_selections_id===B.simulation_section_id);return $?N+(B.timestamp-$.started_at):N},0)*xh,P=E.reduce((N,B)=>B.ended_at>=0?N+(B.ended_at-B.started_at):N,0)*xh;return{simulationRunId:C.simulation_run_id,accuracy:C.accuracy,subjectCount:C.subject_count,searchBtnTime:U,captchaTime:z+U,subjectTime:P+U,totalTime:C.total_elapsed*xh}})),i=await Tt.interested_snapshot.filter(C=>C.simulated).last();if(!i)throw new Error("   .");const o=(await Tt.interested_subject.filter(C=>C.snapshot_id===i.snapshot_id).toArray()).map(C=>{const E=n.filter($=>$.interested_id===C.interested_id),R=E.filter($=>$.status===dn.SUCCESS).length,M=E.filter($=>$.status===dn.FAILED).length,U=E.filter($=>$.status===dn.DOUBLED).length,z=E.length,P=E.reduce(($,D)=>$+D.selected_index,0)/z||0,N=E.filter($=>$.ended_at>=0&&$.started_at>=0).map($=>($.ended_at-$.started_at)*xh),B=yhe(N);return{subjectId:C.subject_id,successCount:R,failedCount:M,doubledCount:U,totalCount:z,avgCompletionTime:B,avgIndex:P}}),a=new Map;for(const C of n){const E=C.simulation_run_id,R=e.find(N=>N.simulation_run_id===E);if(!R)continue;const M=await zI(R.snapshot_id);if(!M)continue;const U=M.subjects.find(N=>N.interested_id===C.interested_id);if(!U)continue;const z=U.subject_id;a.has(z)||a.set(z,{subject_id:z,success_count:0,total_count:0,completion_time_sum:0});const P=a.get(z);P.total_count++,C.status===1&&(P.success_count++,P.completion_time_sum+=C.ended_at-C.started_at)}const l=Array.from(a.values()).map(C=>({subject_id:C.subject_id,success_count:C.success_count,total_count:C.total_count,success_rate:C.success_count/C.total_count,avg_completion_time:C.success_count>0?C.completion_time_sum/C.success_count/1e3:0})),c=n.reduce((C,E)=>(C[E.status]=(C[E.status]||0)+1,C),{}),f=n.length,p=Object.entries(c).map(([C,E])=>({status:Number(C),count:E,percentage:E/f})),g=e.map(C=>C.simulation_run_id),y=n.filter(C=>g.includes(C.simulation_run_id)).map(C=>C.run_selections_id),b=await Tt.simulation_run_events.filter(C=>y.includes(C.simulation_section_id)&&C.event_type===gr.CAPTCHA).toArray();let _=0;for(const C of b){const E=n.find(R=>R.run_selections_id===C.simulation_section_id);E&&(_+=C.timestamp-E.started_at)}return{total_users:t,avg_started_at:e.reduce((C,E)=>C+E.started_at,0)/t,avg_ended_at:e.reduce((C,E)=>C+E.ended_at,0)/t,avg_elapsed_time:e.reduce((C,E)=>C+(E.ended_at-E.started_at),0)/t/1e3,subject_success_rate:l,status_distribution:p,simulations:r,subjects:o}}function yhe(e){return e.length===0?0:e.reduce((t,n)=>t+n,0)/e.length}function vhe({simulationId:e}){const t=yr(E=>E.type),n=yr(E=>E.openModal),r=yr(E=>E.closeModal),[i,s]=j.useState(null),[o,a]=j.useState(),l=t==="result",c=bf(async()=>{try{return await QR()}catch(E){return{error:E.message}}});if(c&&"error"in c)return h.jsx("div",{className:"flex flex-col w-full items-center justify-center h-120 gap-3"});const{simulations:f}=c||{simulations:[]},p=c?{user_ability:{searchBtnSpeed:f.reduce((E,R)=>E+R.searchBtnTime,0)/f.length||0,totalSpeed:f.reduce((E,R)=>E+R.totalTime/R.subjectCount,0)/f.length||0,accuracy:f.reduce((E,R)=>E+R.accuracy,0)/f.length||0,captchaSpeed:f.reduce((E,R)=>E+(R.captchaTime-R.searchBtnTime)/R.subjectCount,0)/f.length||0}}:void 0;if(j.useEffect(()=>{async function E(){Ste({simulationId:e}).then(R=>{"errMsg"in R?R.errMsg===$I.SIMULATION_NOT_FOUND?r():alert(R.errMsg):(s(R),a(e))})}E().then()},[]),!i)return h.jsx(w8,{});const{accuracy:g,score:y,total_elapsed:b}=i,_=y>=70,C=p?.user_ability?.searchBtnSpeed??0;return!p||!c?h.jsx(w8,{}):h.jsx(Jn,{title:"",onClose:r,isOpen:l,children:h.jsxs(Jn.Content,{children:[h.jsxs("div",{className:"w-full max-w-md bg-white rounded-xl shadow-xl p-6 relative overflow-hidden",children:[_&&h.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[h.jsx("div",{className:"animate-float1 absolute top-6 left-6 w-3 h-3 bg-red-400 rounded-full"}),h.jsx("div",{className:"animate-float2 absolute top-16 right-10 w-2 h-2 bg-yellow-400 rounded-full"}),h.jsx("div",{className:"animate-float3 absolute bottom-20 left-12 w-2.5 h-2.5 bg-blue-400 rounded-full"}),h.jsx("div",{className:"animate-float4 absolute bottom-10 right-6 w-3 h-3 bg-pink-400 rounded-full"}),h.jsx("div",{className:"animate-float5 absolute top-1/2 left-1/2 w-2 h-2 bg-purple-400 rounded-full"})]}),h.jsxs("div",{className:"relative z-10 text-center",children:[h.jsxs("h2",{className:"text-xl font-bold text-gray-900",children:[" ",h.jsx("span",{className:_?"text-blue-600":"text-red-500",children:_?" !":" "})]}),h.jsxs("span",{className:"text-sm text-gray-700 mt-1",children:[" ",_?" ":" ",""]}),h.jsxs("div",{className:"flex flex-col justify-center items-center",children:[h.jsx("div",{className:"m-2 flex justify-center",children:_?h.jsx("img",{src:"/ci.svg",alt:" ",className:"w-20 h-20"}):h.jsx("span",{className:"text-[50px]",children:""})}),h.jsxs("div",{className:"flex flex-row justify-center gap-6 mt-6",children:[h.jsxs("div",{className:"flex flex-col items-center",children:[h.jsx("p",{className:"text-sm text-gray-800 mb-1",children:""}),h.jsxs("p",{className:"text-xl text-blue-500 font-bold whitespace-nowrap",children:[y.toFixed(1),h.jsx("span",{className:"text-gray-600",children:""})]})]}),h.jsxs("div",{className:"flex flex-col items-center",children:[h.jsx("p",{className:"text-sm text-gray-800 mb-1",children:" "}),h.jsxs("p",{className:"text-xl text-gray-600 font-bold whitespace-nowrap",children:[(b/1e3).toFixed(0),""]})]})]}),h.jsxs("div",{className:"flex flex-row justify-center gap-6 mt-6",children:[h.jsxs("div",{className:"flex flex-col items-center",children:[h.jsx("p",{className:"text-sm text-gray-800 mb-1",children:"    "}),h.jsxs("p",{className:"text-xl text-blue-500 font-bold whitespace-nowrap",children:[p?.user_ability.captchaSpeed.toFixed(2),h.jsx("span",{className:"text-gray-600",children:""})]})]}),h.jsxs("div",{className:"flex flex-col items-center",children:[h.jsx("p",{className:"text-sm text-gray-800 mb-1",children:"    "}),h.jsxs("p",{className:"text-xl text-blue-500 font-bold whitespace-nowrap",children:[C<=0?0:C.toFixed(2),h.jsx("span",{className:"text-gray-600",children:""})]})]})]})]}),h.jsx("div",{className:"text-left text-sm text-gray-800 mt-4 mb-1",children:""}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("div",{className:"w-full h-3 bg-gray-200 rounded-full overflow-hidden",children:h.jsx("div",{className:"h-3 bg-indigo-400 rounded-full transition-all duration-300",style:{width:`${g}%`}})}),h.jsxs("p",{className:"text-xl text-gray-600 font-bold whitespace-nowrap",children:[g,"%"]})]}),h.jsxs("div",{className:"flex justify-center gap-3 mt-6",children:[h.jsx("button",{className:"px-4 py-2 border border-gray-400 text-gray-800 rounded-md hover:bg-gray-100 text-sm",onClick:()=>{r(),n("wish")},children:" "}),h.jsx(sc,{to:`/simulation/logs/${o}`,end:!1,className:"px-4 py-2  bg-blue-500 text-white rounded-md hover:bg-blue-600 text-sm",onClick:()=>{r()},children:"   "})]})]})]}),h.jsx("style",{children:`
        @keyframes float1 {
          0% { transform: translateY(0); }
          50% { transform: translateY(-8px); }
          100% { transform: translateY(0); }
        }
        @keyframes float2 {
          0% { transform: translateY(0); }
          50% { transform: translateY(6px); }
          100% { transform: translateY(0); }
        }
        @keyframes float3 {
          0% { transform: translateY(0); }
          50% { transform: translateY(-6px); }
          100% { transform: translateY(0); }
        }
        @keyframes float4 {
          0% { transform: translateY(0); }
          50% { transform: translateY(4px); }
          100% { transform: translateY(0); }
        }
        @keyframes float5 {
          0% { transform: translateY(0); }
          50% { transform: translateY(-5px); }
          100% { transform: translateY(0); }
        }

        .animate-float1 { animation: float1 3s ease-in-out infinite; }
        .animate-float2 { animation: float2 4s ease-in-out infinite; }
        .animate-float3 { animation: float3 2.5s ease-in-out infinite; }
        .animate-float4 { animation: float4 3.5s ease-in-out infinite; }
        .animate-float5 { animation: float5 3s ease-in-out infinite; }
      `})]})})}function xhe(){return h.jsxs("div",{className:"mt-6 text-sm text-gray-800 space-y-2",children:[h.jsx(Gt,{level:4,children:" Tip!"}),["      .","    .","       !","    ."].map((e,t)=>h.jsxs(Pe,{className:"text-xs",children:[h.jsx("span",{className:"text-blue-500 mr-2",children:h.jsx(PN,{})}),h.jsx("span",{className:t===0?"font-semibold text-blue-500 animate-bounce":"text-gray-600",children:e})]},t))]})}function bhe({department:e,setDepartment:t}){const{data:n}=hc(),r=i=>{const s=i.target.value,o=n?.find(a=>a.departmentCode===s)?.departmentName??"";t({departmentName:o,departmentCode:s})};return j.useEffect(()=>{if(!n)return;const s=sN().filter(([l])=>l!=="9005");if(s.length<=0)return;const o=s[0][0],a=n.find(l=>l.departmentCode===o)?.departmentName??"";t({departmentName:a,departmentCode:o})},[n]),h.jsxs("div",{className:"flex flex-col gap-2",children:[h.jsx(Hr,{children:" ."}),h.jsx(y1,{className:"cursor-pointer rounded-sm px-2 py-1 w-50 sm:w-120 bg-white mb-4",value:e.departmentCode,onChange:r})]})}function whe({selectedTimetable:e,onSelect:t,timetables:n}){const r=n.map(i=>({value:i.timeTableId,label:i.timeTableName}));return h.jsxs(Pe,{direction:"flex-col",gap:"gap-2",children:[h.jsx(Hr,{children:" ."}),h.jsxs(Pe,{gap:"gap-2",children:[h.jsx($l,{columns:{sm:2,md:3},gap:"gap-2",className:"flex-1",children:r.map(i=>h.jsx(Xn,{label:i.label,selected:e.timeTableId===i.value,onClick:()=>t(i.value)},i.value))}),h.jsx(Dt,{variant:"text",size:"small",textColor:"gray",children:h.jsx(ui,{to:"/timetable",children:"+   "})})]})]})}const _he=5;function g2(e,t){const n=new Set,r=[];for(const i of[...e].sort(()=>Math.random()-.5)){if(n.size>=t)break;n.has(i.subjectCode)||(n.add(i.subjectCode),r.push(i))}return r}function KR(e){const t=e.split(" ");return t.findIndex(r=>r.includes(""))!==-1?t.slice(1).join(" ").trim():e}function GR(e,t){const n=r=>r.replace(/(||)$/,"");return n(e)===n(t)}function She(e){return _he-e+1}const Che=(e,t)=>{if(t==="")return YR(e);const n=KR(t),r=e.filter(f=>GR(f.departmentName,n)),i=e.filter(f=>f.departmentName===""),s=r.filter(f=>f.professorName!==null&&f.lesn_time!==null),o=g2(s,3),a=i.filter(f=>f.professorName!==null&&f.lesn_time!==null),l=g2(a,She(o.length+1)),c=[...o,...l];for(let f=c.length-1;f>0;f--){const p=Math.floor(Math.random()*(f+1));[c[f],c[p]]=[c[p],c[f]]}return c},y2=(e,t)=>e.find(n=>t===n.subjectId),YR=e=>g2(e,5),Ehe=(e,t)=>{const n=KR(t);if(n==="")return YR(e);const r=e.filter(c=>GR(c.departmentName,n)),i=e.filter(c=>c.departmentName===""),s=c=>{const f=new Set;return c.filter(p=>f.has(p.subjectCode)?!1:(f.add(p.subjectCode),!0))},o=s(r).slice(0,3),a=5-o.length,l=s(i).slice(0,a);return[...o,...l]},khe=e=>{let t=0;const n=[];for(const r of e){const i=Number(r.tm_num.split("/")[0])||0;if(t+i>24)break;t+=i,n.push(r)}return n};function The({subjects:e,handleRemakeSubjects:t,isLoadingLectures:n}){const r=e?.reduce((i,s)=>{if(!s.tm_num)return i;const o=s?.tm_num.split("/")[0]??"0",a=Number(o)||0;return i+a},0);return h.jsxs(h.Fragment,{children:[h.jsxs(Pe,{direction:"flex-row",justify:"justify-between",align:"items-center",children:[h.jsxs(Pe,{align:"items-center",children:[h.jsx(Hr,{children:" "}),t&&h.jsx(Dt,{onClick:t,size:"small",variant:"text",children:" "})]}),h.jsxs(Gn,{children:[h.jsx("span",{className:"text-blue-500",children:r})," "]})]}),h.jsx("div",{className:"overflow-x-auto overflow-y-auto sm:max-w-full",children:h.jsxs("table",{className:"min-w-full sm:text-sm text-xs text-left whitespace-nowrap border-t border-b border-gray-200",children:[h.jsx("thead",{className:"bg-gray-100 text-gray-700",children:h.jsxs("tr",{children:[h.jsx("th",{className:"px-4 py-2",children:""}),h.jsx("th",{className:"px-4 py-2",children:""}),h.jsx("th",{className:"px-4 py-2",children:""}),h.jsx("th",{className:"px-4 py-2",children:""}),h.jsx("th",{className:"px-4 py-2",children:""})]})}),h.jsx(jhe,{subjects:e,isLoadingLectures:n})]})})]})}function jhe({subjects:e,isLoadingLectures:t}){return t?h.jsx(mp,{col:5,row:8}):e.length===0?h.jsx(lS,{col:5,title:"  .",description:"       ."}):h.jsx("tbody",{children:t?h.jsx(mp,{col:5,row:8}):e.map((n,r)=>h.jsxs("tr",{className:"border border-gray-200",children:[h.jsx("td",{className:"px-4 py-2",children:n.subjectCode}),h.jsx("td",{className:"px-4 py-2",children:n.classCode}),h.jsx("td",{className:"px-4 py-2",children:n.departmentName}),h.jsx("td",{className:"px-4 py-2",children:n.subjectName}),h.jsx("td",{className:"px-4 py-2",children:n.professorName})]},n.subjectId??r))})}const Ihe=({simulationSubjects:e,handleStartGame:t,setToggleTip:n})=>h.jsxs("div",{className:"flex justify-end gap-2 px-2 pb-2 sm:px-6 sm:pb-6",children:[h.jsx(Dt,{variant:"primary",size:"medium",onClick:()=>n(!0),children:" "}),h.jsx(Dt,{variant:"outlined",size:"medium",onClick:t,disabled:e.length===0,children:""})]}),Nhe={departmentCode:"",departmentName:""};function Rhe({timetables:e,setIsModalOpen:t}){const n=Vi(D=>D.setCurrentSimulation),r=yr(D=>D.closeModal),{data:i,isLoading:s}=vc(),o=Ut(D=>D.currentTimetable),a=Ut(D=>D.pickTimetable),[l,c]=j.useState([]),[f,p]=j.useState({...Nhe}),[g,y]=j.useState(o??{timeTableId:-1,timeTableName:"  ",semesterCode:lo.semesterCode}),[b,_]=j.useState("timetable"),[C,E]=j.useState(!1),{data:R,isLoading:M}=Sj(g?.timeTableId),U=bf(BI),z=()=>{c(Che(i,f.departmentName))},P=async()=>{if(l.length===0){alert("  .    .");return}try{r(),b!=="previous"&&await gte(l.map(X=>X.subjectId));const D=await _te("",f.departmentCode,f.departmentName);if("simulationId"in D&&"isRunning"in D&&D.simulationId!==-1&&D.isRunning!==void 0){const{simulationId:X,isRunning:ie}=D;n({simulationId:X,simulationStatus:ie?"start":"before"})}else console.error("    ",D)}catch(D){console.error("    :",D)}},N=D=>{const J=e.find(X=>X.timeTableId===D)??{timeTableId:-1,timeTableName:"  ",semesterCode:lo.semesterCode};if(!J){console.error("    :",D);return}y(J),a(J)},B=D=>{c([]),_(D)},$=D=>i.find(J=>J.subjectId===D);return j.useEffect(()=>{if(M||b!=="timetable"||!R||R.length===0)return;const J=R.filter(ie=>ie.scheduleType!=="custom").map(ie=>$(ie.subjectId??0)).filter(ie=>!!ie),X=khe(J);c(X)},[b,R,M,g]),j.useEffect(()=>{b==="random"&&c(Ehe(i,f.departmentName))},[b,f]),j.useEffect(()=>{if(b!=="previous"||!U||U.snapshot_id<0||s)return;const J=U.subjects.map(X=>X.subject_id).map(X=>$(X)).filter(X=>!!X);c(J)},[b,U,s]),j.useEffect(()=>{U&&U.snapshot_id>=0?_("previous"):e.length>0?_("timetable"):_("random")},[U,e]),h.jsx(Jn,{title:"   ",onClose:()=>t(!1),children:h.jsxs("div",{className:"flex flex-col w-full overflow-y-auto max-h-[90vh] max-w-[900px] sm:min-w-[600px]",children:[h.jsxs("div",{className:"flex flex-col gap-2 p-2 sm:p-6",children:[h.jsx(Hr,{children:"  ?"}),h.jsxs("div",{className:"flex gap-2 py-2",children:[U&&h.jsx(Xn,{label:" ",selected:b==="previous",onClick:()=>B("previous")}),h.jsx(Xn,{label:" ",selected:b==="timetable",onClick:()=>B("timetable")}),h.jsx(Xn,{label:" ",selected:b==="random",onClick:()=>B("random")})]}),b==="timetable"&&h.jsx(whe,{timetables:e,selectedTimetable:g,onSelect:N}),b==="random"&&h.jsx(bhe,{department:f,setDepartment:p}),h.jsx(The,{isLoadingLectures:s,subjects:l,handleRemakeSubjects:b==="random"?z:void 0}),C&&h.jsx(xhe,{})]}),h.jsx(Ihe,{simulationSubjects:l,handleStartGame:P,setToggleTip:E})]})})}function Phe(e,t,n,r,i,s){const o=Math.floor((e+t)/n);let a=r,l=0;for(let c=0;c<=o;c++){const f=c*n;let p=i,g=s;f>4&&(p=48,g=33),a+=p,l+=g}return Math.max(Math.round(a-l),0)}function Ohe(){const[e,t]=j.useState(0),[n,r]=j.useState(0),[i,s]=j.useState(1),[o,a]=j.useState(0),l=j.useRef(null),c=yr(C=>C.closeModal),f=Vi(C=>C.currentSimulation),p=Vi(C=>C.setCurrentSimulation),g=.2,y=98,b=79;j.useEffect(()=>{let C=Math.floor(f.clickedTime/.2)*100+124;const E=C/b*g;for(let R=0;R<=Math.floor(f.clickedTime/g);R++)C+=R*y;r(C),t(Math.ceil(E))},[]),j.useEffect(()=>(l.current=setInterval(()=>{a(E=>{const R=E+1,M=Phe(R,f.clickedTime,g,i,y,b);return s(M),R});const C=Math.floor((e+f.clickedTime)/.2)*b;n<0?r(0):r(E=>E-C),t(E=>{const R=Math.max(E-1,0);return R===0&&l.current&&(clearInterval(l.current),c()),R})},1e3),()=>{l.current&&clearInterval(l.current)}),[e]);const _=()=>{p({simulationStatus:"before"}),c()};return h.jsx(fn.Modal,{noBorder:!0,children:h.jsxs("div",{className:"sm:w-full max-w-md bg-white p-6 text-center space-y-6",children:[h.jsxs("h2",{className:"text-lg md:text-xl font-semibold text-gray-800",children:[" ",h.jsx("span",{className:"text-blue-600 font-bold",children:" "}),"."]}),h.jsxs("div",{className:"text-sm md:text-base text-gray-600",children:[": ",h.jsx("span",{className:"text-blue-600 font-bold text-xl",children:e}),""]}),h.jsx("div",{className:"w-full h-2 bg-gray-200 rounded-full overflow-hidden",children:h.jsx("div",{className:"h-full bg-blue-500 transition-all duration-300",style:{width:`${o/(e+o)*100}%`}})}),h.jsxs("div",{className:"text-gray-700 text-sm md:text-base leading-relaxed",children:["  ",h.jsx("span",{className:"text-green-600 font-bold text-xl",children:n<0?0:n}),",  ",h.jsx("span",{className:"text-green-600 font-bold text-xl",children:i}),"  . ",h.jsx("br",{}),"     ,      ."]}),h.jsxs("button",{className:"inline-flex items-center justify-center border-2 border-gray-400 text-gray-800 px-2 py-1 hover:bg-gray-100",onClick:_,children:[h.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),""]}),h.jsx("p",{className:"text-xs md:text-sm text-gray-500",children:"    ."})]})})}var _b,_8;function Mhe(){return _8||(_8=1,_b=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var r,i,s;if(Array.isArray(t)){if(r=t.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(s=Object.keys(t),r=s.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,s[i]))return!1;for(i=r;i--!==0;){var o=s[i];if(!e(t[o],n[o]))return!1}return!0}return t!==t&&n!==n}),_b}var Ahe=Mhe();const Dhe=qi(Ahe);var Gg={exports:{}},Sb,S8;function Lhe(){if(S8)return Sb;S8=1;var e;/**
* @link https://github.com/gajus/sister for the canonical source repository
* @license https://github.com/gajus/sister/blob/master/LICENSE BSD 3-Clause
*/return e=function(){var t={},n={};return t.on=function(r,i){var s={name:r,handler:i};return n[r]=n[r]||[],n[r].unshift(s),s},t.off=function(r){var i=n[r.name].indexOf(r);i!==-1&&n[r.name].splice(i,1)},t.trigger=function(r,i){var s=n[r],o;if(s)for(o=s.length;o--;)s[o].handler(i)},t},Sb=e,Sb}var Yg={exports:{}},Cb,C8;function Fhe(){if(C8)return Cb;C8=1,Cb=function(i,s,o){var a=document.head||document.getElementsByTagName("head")[0],l=document.createElement("script");typeof s=="function"&&(o=s,s={}),s=s||{},o=o||function(){},l.type=s.type||"text/javascript",l.charset=s.charset||"utf8",l.async="async"in s?!!s.async:!0,l.src=i,s.attrs&&e(l,s.attrs),s.text&&(l.text=""+s.text);var c="onload"in l?t:n;c(l,o),l.onload||t(l,o),a.appendChild(l)};function e(r,i){for(var s in i)r.setAttribute(s,i[s])}function t(r,i){r.onload=function(){this.onerror=this.onload=null,i(null,r)},r.onerror=function(){this.onerror=this.onload=null,i(new Error("Failed to load "+this.src),r)}}function n(r,i){r.onreadystatechange=function(){this.readyState!="complete"&&this.readyState!="loaded"||(this.onreadystatechange=null,i(null,r))}}return Cb}var E8;function Bhe(){return E8||(E8=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=Fhe(),r=i(n);function i(s){return s&&s.__esModule?s:{default:s}}t.default=function(s){var o=new Promise(function(a){if(window.YT&&window.YT.Player&&window.YT.Player instanceof Function){a(window.YT);return}else{var l=window.location.protocol==="http:"?"http:":"https:";(0,r.default)(l+"//www.youtube.com/iframe_api",function(f){f&&s.trigger("error",f)})}var c=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=function(){c&&c(),a(window.YT)}});return o},e.exports=t.default}(Yg,Yg.exports)),Yg.exports}var Xg={exports:{}},Jg={exports:{}},Zg={exports:{}},Eb,k8;function zhe(){if(k8)return Eb;k8=1;var e=1e3,t=e*60,n=t*60,r=n*24,i=r*365.25;Eb=function(c,f){f=f||{};var p=typeof c;if(p==="string"&&c.length>0)return s(c);if(p==="number"&&isNaN(c)===!1)return f.long?a(c):o(c);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(c))};function s(c){if(c=String(c),!(c.length>100)){var f=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(c);if(f){var p=parseFloat(f[1]),g=(f[2]||"ms").toLowerCase();switch(g){case"years":case"year":case"yrs":case"yr":case"y":return p*i;case"days":case"day":case"d":return p*r;case"hours":case"hour":case"hrs":case"hr":case"h":return p*n;case"minutes":case"minute":case"mins":case"min":case"m":return p*t;case"seconds":case"second":case"secs":case"sec":case"s":return p*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return p;default:return}}}}function o(c){return c>=r?Math.round(c/r)+"d":c>=n?Math.round(c/n)+"h":c>=t?Math.round(c/t)+"m":c>=e?Math.round(c/e)+"s":c+"ms"}function a(c){return l(c,r,"day")||l(c,n,"hour")||l(c,t,"minute")||l(c,e,"second")||c+" ms"}function l(c,f,p){if(!(c<f))return c<f*1.5?Math.floor(c/f)+" "+p:Math.ceil(c/f)+" "+p+"s"}return Eb}var T8;function $he(){return T8||(T8=1,function(e,t){t=e.exports=i.debug=i.default=i,t.coerce=l,t.disable=o,t.enable=s,t.enabled=a,t.humanize=zhe(),t.names=[],t.skips=[],t.formatters={};var n;function r(c){var f=0,p;for(p in c)f=(f<<5)-f+c.charCodeAt(p),f|=0;return t.colors[Math.abs(f)%t.colors.length]}function i(c){function f(){if(f.enabled){var p=f,g=+new Date,y=g-(n||g);p.diff=y,p.prev=n,p.curr=g,n=g;for(var b=new Array(arguments.length),_=0;_<b.length;_++)b[_]=arguments[_];b[0]=t.coerce(b[0]),typeof b[0]!="string"&&b.unshift("%O");var C=0;b[0]=b[0].replace(/%([a-zA-Z%])/g,function(R,M){if(R==="%%")return R;C++;var U=t.formatters[M];if(typeof U=="function"){var z=b[C];R=U.call(p,z),b.splice(C,1),C--}return R}),t.formatArgs.call(p,b);var E=f.log||t.log||console.log.bind(console);E.apply(p,b)}}return f.namespace=c,f.enabled=t.enabled(c),f.useColors=t.useColors(),f.color=r(c),typeof t.init=="function"&&t.init(f),f}function s(c){t.save(c),t.names=[],t.skips=[];for(var f=(typeof c=="string"?c:"").split(/[\s,]+/),p=f.length,g=0;g<p;g++)f[g]&&(c=f[g].replace(/\*/g,".*?"),c[0]==="-"?t.skips.push(new RegExp("^"+c.substr(1)+"$")):t.names.push(new RegExp("^"+c+"$")))}function o(){t.enable("")}function a(c){var f,p;for(f=0,p=t.skips.length;f<p;f++)if(t.skips[f].test(c))return!1;for(f=0,p=t.names.length;f<p;f++)if(t.names[f].test(c))return!0;return!1}function l(c){return c instanceof Error?c.stack||c.message:c}}(Zg,Zg.exports)),Zg.exports}var j8;function Uhe(){return j8||(j8=1,function(e,t){var n={};t=e.exports=$he(),t.log=s,t.formatArgs=i,t.save=o,t.load=a,t.useColors=r,t.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:l(),t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"];function r(){return typeof window<"u"&&window.process&&window.process.type==="renderer"?!0:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}t.formatters.j=function(c){try{return JSON.stringify(c)}catch(f){return"[UnexpectedJSONParseError]: "+f.message}};function i(c){var f=this.useColors;if(c[0]=(f?"%c":"")+this.namespace+(f?" %c":" ")+c[0]+(f?"%c ":" ")+"+"+t.humanize(this.diff),!!f){var p="color: "+this.color;c.splice(1,0,p,"color: inherit");var g=0,y=0;c[0].replace(/%[a-zA-Z%]/g,function(b){b!=="%%"&&(g++,b==="%c"&&(y=g))}),c.splice(y,0,p)}}function s(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function o(c){try{c==null?t.storage.removeItem("debug"):t.storage.debug=c}catch{}}function a(){var c;try{c=t.storage.debug}catch{}return!c&&typeof process<"u"&&"env"in process&&(c=n.DEBUG),c}t.enable(a());function l(){try{return window.localStorage}catch{}}}(Jg,Jg.exports)),Jg.exports}var e0={exports:{}},I8;function Hhe(){return I8||(I8=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=["cueVideoById","loadVideoById","cueVideoByUrl","loadVideoByUrl","playVideo","pauseVideo","stopVideo","getVideoLoadedFraction","cuePlaylist","loadPlaylist","nextVideo","previousVideo","playVideoAt","setShuffle","setLoop","getPlaylist","getPlaylistIndex","setOption","mute","unMute","isMuted","setVolume","getVolume","seekTo","getPlayerState","getPlaybackRate","setPlaybackRate","getAvailablePlaybackRates","getPlaybackQuality","setPlaybackQuality","getAvailableQualityLevels","getCurrentTime","getDuration","removeEventListener","getVideoUrl","getVideoEmbedCode","getOptions","getOption","addEventListener","destroy","setSize","getIframe"],e.exports=t.default}(e0,e0.exports)),e0.exports}var t0={exports:{}},N8;function Whe(){return N8||(N8=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=["ready","stateChange","playbackQualityChange","playbackRateChange","error","apiChange","volumeChange"],e.exports=t.default}(t0,t0.exports)),t0.exports}var n0={exports:{}},r0={exports:{}},R8;function Vhe(){return R8||(R8=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default={BUFFERING:3,ENDED:0,PAUSED:2,PLAYING:1,UNSTARTED:-1,VIDEO_CUED:5},e.exports=t.default}(r0,r0.exports)),r0.exports}var P8;function qhe(){return P8||(P8=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=Vhe(),r=i(n);function i(s){return s&&s.__esModule?s:{default:s}}t.default={pauseVideo:{acceptableStates:[r.default.ENDED,r.default.PAUSED],stateChangeRequired:!1},playVideo:{acceptableStates:[r.default.ENDED,r.default.PLAYING],stateChangeRequired:!1},seekTo:{acceptableStates:[r.default.ENDED,r.default.PLAYING,r.default.PAUSED],stateChangeRequired:!0,timeout:3e3}},e.exports=t.default}(n0,n0.exports)),n0.exports}var O8;function Qhe(){return O8||(O8=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=Uhe(),r=f(n),i=Hhe(),s=f(i),o=Whe(),a=f(o),l=qhe(),c=f(l);function f(y){return y&&y.__esModule?y:{default:y}}var p=(0,r.default)("youtube-player"),g={};g.proxyEvents=function(y){var b={},_=function(N){var B="on"+N.slice(0,1).toUpperCase()+N.slice(1);b[B]=function($){p('event "%s"',B,$),y.trigger(N,$)}},C=!0,E=!1,R=void 0;try{for(var M=a.default[Symbol.iterator](),U;!(C=(U=M.next()).done);C=!0){var z=U.value;_(z)}}catch(P){E=!0,R=P}finally{try{!C&&M.return&&M.return()}finally{if(E)throw R}}return b},g.promisifyPlayer=function(y){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,_={},C=function(B){b&&c.default[B]?_[B]=function(){for(var $=arguments.length,D=Array($),J=0;J<$;J++)D[J]=arguments[J];return y.then(function(X){var ie=c.default[B],q=X.getPlayerState(),V=X[B].apply(X,D);return ie.stateChangeRequired||Array.isArray(ie.acceptableStates)&&ie.acceptableStates.indexOf(q)===-1?new Promise(function(K){var ne=function Y(){var de=X.getPlayerState(),F=void 0;typeof ie.timeout=="number"&&(F=setTimeout(function(){X.removeEventListener("onStateChange",Y),K()},ie.timeout)),Array.isArray(ie.acceptableStates)&&ie.acceptableStates.indexOf(de)!==-1&&(X.removeEventListener("onStateChange",Y),clearTimeout(F),K())};X.addEventListener("onStateChange",ne)}).then(function(){return V}):V})}:_[B]=function(){for(var $=arguments.length,D=Array($),J=0;J<$;J++)D[J]=arguments[J];return y.then(function(X){return X[B].apply(X,D)})}},E=!0,R=!1,M=void 0;try{for(var U=s.default[Symbol.iterator](),z;!(E=(z=U.next()).done);E=!0){var P=z.value;C(P)}}catch(N){R=!0,M=N}finally{try{!E&&U.return&&U.return()}finally{if(R)throw M}}return _},t.default=g,e.exports=t.default}(Xg,Xg.exports)),Xg.exports}var M8;function Khe(){return M8||(M8=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},r=Lhe(),i=c(r),s=Bhe(),o=c(s),a=Qhe(),l=c(a);function c(p){return p&&p.__esModule?p:{default:p}}var f=void 0;t.default=function(p){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,b=(0,i.default)();if(f||(f=(0,o.default)(b)),g.events)throw new Error("Event handlers cannot be overwritten.");if(typeof p=="string"&&!document.getElementById(p))throw new Error('Element "'+p+'" does not exist.');g.events=l.default.proxyEvents(b);var _=new Promise(function(E){if((typeof p>"u"?"undefined":n(p))==="object"&&p.playVideo instanceof Function){var R=p;E(R)}else f.then(function(M){var U=new M.Player(p,g);return b.on("ready",function(){E(U)}),null})}),C=l.default.promisifyPlayer(_,y);return C.on=b.on,C.off=b.off,C},e.exports=t.default}(Gg,Gg.exports)),Gg.exports}var Ghe=Khe();const Yhe=qi(Ghe);var Xhe=Object.defineProperty,Jhe=Object.defineProperties,Zhe=Object.getOwnPropertyDescriptors,A8=Object.getOwnPropertySymbols,epe=Object.prototype.hasOwnProperty,tpe=Object.prototype.propertyIsEnumerable,D8=(e,t,n)=>t in e?Xhe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,v2=(e,t)=>{for(var n in t||(t={}))epe.call(t,n)&&D8(e,n,t[n]);if(A8)for(var n of A8(t))tpe.call(t,n)&&D8(e,n,t[n]);return e},x2=(e,t)=>Jhe(e,Zhe(t)),npe=(e,t,n)=>new Promise((r,i)=>{var s=l=>{try{a(n.next(l))}catch(c){i(c)}},o=l=>{try{a(n.throw(l))}catch(c){i(c)}},a=l=>l.done?r(l.value):Promise.resolve(l.value).then(s,o);a((n=n.apply(e,t)).next())});function rpe(e,t){var n,r;if(e.videoId!==t.videoId)return!0;const i=((n=e.opts)==null?void 0:n.playerVars)||{},s=((r=t.opts)==null?void 0:r.playerVars)||{};return i.start!==s.start||i.end!==s.end}function L8(e={}){return x2(v2({},e),{height:0,width:0,playerVars:x2(v2({},e.playerVars),{autoplay:0,start:0,end:0})})}function ipe(e,t){return e.videoId!==t.videoId||!Dhe(L8(e.opts),L8(t.opts))}function spe(e,t){var n,r,i,s;return e.id!==t.id||e.className!==t.className||((n=e.opts)==null?void 0:n.width)!==((r=t.opts)==null?void 0:r.width)||((i=e.opts)==null?void 0:i.height)!==((s=t.opts)==null?void 0:s.height)||e.iframeClassName!==t.iframeClassName||e.title!==t.title}var ope={videoId:"",id:"",className:"",iframeClassName:"",style:{},title:"",loading:void 0,opts:{},onReady:()=>{},onError:()=>{},onPlay:()=>{},onPause:()=>{},onEnd:()=>{},onStateChange:()=>{},onPlaybackRateChange:()=>{},onPlaybackQualityChange:()=>{}},ape={videoId:zt.string,id:zt.string,className:zt.string,iframeClassName:zt.string,style:zt.object,title:zt.string,loading:zt.oneOf(["lazy","eager"]),opts:zt.objectOf(zt.any),onReady:zt.func,onError:zt.func,onPlay:zt.func,onPause:zt.func,onEnd:zt.func,onStateChange:zt.func,onPlaybackRateChange:zt.func,onPlaybackQualityChange:zt.func},_0=class extends xn.Component{constructor(e){super(e),this.destroyPlayerPromise=void 0,this.onPlayerReady=t=>{var n,r;return(r=(n=this.props).onReady)==null?void 0:r.call(n,t)},this.onPlayerError=t=>{var n,r;return(r=(n=this.props).onError)==null?void 0:r.call(n,t)},this.onPlayerStateChange=t=>{var n,r,i,s,o,a,l,c;switch((r=(n=this.props).onStateChange)==null||r.call(n,t),t.data){case _0.PlayerState.ENDED:(s=(i=this.props).onEnd)==null||s.call(i,t);break;case _0.PlayerState.PLAYING:(a=(o=this.props).onPlay)==null||a.call(o,t);break;case _0.PlayerState.PAUSED:(c=(l=this.props).onPause)==null||c.call(l,t);break}},this.onPlayerPlaybackRateChange=t=>{var n,r;return(r=(n=this.props).onPlaybackRateChange)==null?void 0:r.call(n,t)},this.onPlayerPlaybackQualityChange=t=>{var n,r;return(r=(n=this.props).onPlaybackQualityChange)==null?void 0:r.call(n,t)},this.destroyPlayer=()=>this.internalPlayer?(this.destroyPlayerPromise=this.internalPlayer.destroy().then(()=>this.destroyPlayerPromise=void 0),this.destroyPlayerPromise):Promise.resolve(),this.createPlayer=()=>{if(typeof document>"u")return;if(this.destroyPlayerPromise){this.destroyPlayerPromise.then(this.createPlayer);return}const t=x2(v2({},this.props.opts),{videoId:this.props.videoId});this.internalPlayer=Yhe(this.container,t),this.internalPlayer.on("ready",this.onPlayerReady),this.internalPlayer.on("error",this.onPlayerError),this.internalPlayer.on("stateChange",this.onPlayerStateChange),this.internalPlayer.on("playbackRateChange",this.onPlayerPlaybackRateChange),this.internalPlayer.on("playbackQualityChange",this.onPlayerPlaybackQualityChange),(this.props.title||this.props.loading)&&this.internalPlayer.getIframe().then(n=>{this.props.title&&n.setAttribute("title",this.props.title),this.props.loading&&n.setAttribute("loading",this.props.loading)})},this.resetPlayer=()=>this.destroyPlayer().then(this.createPlayer),this.updatePlayer=()=>{var t;(t=this.internalPlayer)==null||t.getIframe().then(n=>{this.props.id?n.setAttribute("id",this.props.id):n.removeAttribute("id"),this.props.iframeClassName?n.setAttribute("class",this.props.iframeClassName):n.removeAttribute("class"),this.props.opts&&this.props.opts.width?n.setAttribute("width",this.props.opts.width.toString()):n.removeAttribute("width"),this.props.opts&&this.props.opts.height?n.setAttribute("height",this.props.opts.height.toString()):n.removeAttribute("height"),this.props.title?n.setAttribute("title",this.props.title):n.setAttribute("title","YouTube video player"),this.props.loading?n.setAttribute("loading",this.props.loading):n.removeAttribute("loading")})},this.getInternalPlayer=()=>this.internalPlayer,this.updateVideo=()=>{var t,n,r,i;if(typeof this.props.videoId>"u"||this.props.videoId===null){(t=this.internalPlayer)==null||t.stopVideo();return}let s=!1;const o={videoId:this.props.videoId};if((n=this.props.opts)!=null&&n.playerVars&&(s=this.props.opts.playerVars.autoplay===1,"start"in this.props.opts.playerVars&&(o.startSeconds=this.props.opts.playerVars.start),"end"in this.props.opts.playerVars&&(o.endSeconds=this.props.opts.playerVars.end)),s){(r=this.internalPlayer)==null||r.loadVideoById(o);return}(i=this.internalPlayer)==null||i.cueVideoById(o)},this.refContainer=t=>{this.container=t},this.container=null,this.internalPlayer=null}componentDidMount(){this.createPlayer()}componentDidUpdate(e){return npe(this,null,function*(){spe(e,this.props)&&this.updatePlayer(),ipe(e,this.props)&&(yield this.resetPlayer()),rpe(e,this.props)&&this.updateVideo()})}componentWillUnmount(){this.destroyPlayer()}render(){return xn.createElement("div",{className:this.props.className,style:this.props.style},xn.createElement("div",{id:this.props.id,className:this.props.iframeClassName,ref:this.refContainer}))}},S1=_0;S1.propTypes=ape;S1.defaultProps=ope;S1.PlayerState={UNSTARTED:-1,ENDED:0,PLAYING:1,PAUSED:2,BUFFERING:3,CUED:5};var lpe=S1;const kb="visitedTutorial",py={_visited:void 0,get(){if(this._visited===void 0&&(this._visited=localStorage.getItem(kb)),!this._visited)return!0;const e=Date.now(),t=new Date(this._visited).getTime();return(e-t)/(1e3*60*60*24)>=7},set(){const e=new Date().toISOString();this._visited=e,localStorage.setItem(kb,e)},reset(){this._visited=null,localStorage.removeItem(kb)}},F8=e=>j.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},j.createElement("path",{d:"M6 9L12 15L18 9",stroke:"#354052",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})),Tb=[{id:1,videoId:"BTNgos01s1o",title:"1:   "},{id:2,videoId:"yYq-sXZmS9I",title:"2:   "},{id:3,videoId:"mEi-n2kEs94",title:"3:  "},{id:4,videoId:"xmD5YuZtJv4",title:"4:    "}];function upe(){const[e,t]=j.useState(0),[n,r]=j.useState(!1),i=yr(_=>_.openModal),s=yr(_=>_.closeModal),a=hs()?{width:"250",height:"141"}:{width:"600",height:"338"},l=py.get();l||i("wish");const c=()=>{t(_=>_===0?Tb.length-1:_-1)},f=()=>{t(_=>_===Tb.length-1?0:_+1)},p=()=>{n&&(py.set(),r(!0))},g=Tb[e],y=()=>{s()},b=()=>{p(),s(),i("wish")};return h.jsx(Jn,{title:" ",onClose:y,isOpen:l,children:h.jsxs(Jn.Content,{children:[h.jsxs(Pe,{className:"w-full",direction:"flex-col",children:[h.jsx(Gn,{children:"        ."}),h.jsx("div",{className:"mx-auto",style:{width:a.width+"px",height:a.height+"px"},children:h.jsx(lpe,{videoId:g.videoId,opts:{width:a.width,height:a.height,playerVars:{autoplay:1,mute:1,playlist:g.videoId}},onEnd:f})})]}),h.jsxs("div",{className:"mt-4 flex flex-col justify-center items-center gap-2",children:[h.jsxs(Pe,{justify:"justify-center",align:"items-center",className:"gap-4",children:[h.jsx(Dt,{variant:"text",size:"medium","aria-label":" ",onClick:c,children:e!==0&&h.jsx(F8,{className:"w-5 h-5 transform rotate-90"})}),h.jsx(Gt,{level:3,children:g.title}),h.jsx(Dt,{variant:"text",size:"medium","aria-label":" ",onClick:f,children:e<3&&h.jsx(F8,{className:"w-5 h-5 transform -rotate-90"})})]}),h.jsx(Gn,{children:"     ,   ,         ."}),h.jsxs(fn.Modal.ButtonContainer,{className:"mt-4",children:[h.jsx(Fy,{label:"   ",checked:n,onChange:()=>r(!n)}),h.jsx(Dt,{variant:"primary",size:"medium",onClick:b,children:" "})]})]})]})})}function XR(e){if(!e)return"-";const t=e.split("/");return t[0]=Number.parseFloat(t[0]).toFixed(1),t.join("/")}function cpe(e){return e===-1?"":e}const dpe=[{header:"",cell:(e,t)=>t+1},{header:"",cell:e=>h.jsx(hpe,{subjectId:e.subjectId})},{header:"",cell:e=>e.subjectCode},{header:"",cell:e=>e.classCode},{header:"",cell:e=>h.jsx("div",{className:"text-left",children:e.departmentName})},{header:"",cell:e=>h.jsx("div",{className:"text-left",children:e.subjectName})},{header:"",cell:()=>h.jsx(fn.Button,{size:"sm",variant:"dark",children:""})},{header:"",cell:e=>e.language},{header:"//",cell:e=>XR(e.tm_num)},{header:"",cell:e=>e.subjectType},{header:"",cell:e=>cpe(e.semester_at)},{header:"",cell:e=>e.lesn_time},{header:"",cell:()=>h.jsx(fn.Button,{size:"sm",variant:"dark",children:""})}],fpe=()=>{const e=Vi(r=>r.currentSimulation),t=yr(r=>r.type),n=e.simulationStatus==="progress"&&t!=="waiting"?e.nonRegisteredSubjects:[];return h.jsx(fn.DataTable,{columns:dpe,data:n,keyInfo:"subjectId"})},hpe=({subjectId:e})=>{const t=yr(s=>s.openModal),n=i1(s=>s.setCurrentSubjectId),{data:r}=vc(),i=s=>{fa({eventType:gr.APPLY,subjectId:s},r).then(o=>{"errMsg"in o&&alert(o.errMsg)}).catch(o=>{console.error(" :",o)}),n(s),t("captcha")};return h.jsx(fn.Button,{size:"sm",onClick:()=>i(e),children:""})},ppe=[{header:"",cell:(e,t)=>t+1},{header:"",cell:()=>h.jsx(fn.Button,{size:"sm",children:""})},{header:"",cell:e=>e.subjectCode},{header:"",cell:e=>e.classCode},{header:"",cell:e=>h.jsx("div",{className:"text-left",children:e.departmentName})},{header:"",cell:e=>h.jsx("div",{className:"text-left",children:e.subjectName})},{header:"",cell:()=>h.jsx(fn.Button,{size:"sm",variant:"dark",children:""})},{header:"",cell:e=>e.language},{header:"//",cell:e=>XR(e.tm_num)},{header:"",cell:e=>e.subjectType},{header:"",cell:()=>"-"},{header:"",cell:e=>e.lesn_time},{header:"",cell:()=>h.jsx(fn.Button,{size:"sm",variant:"dark",children:""})}],mpe=()=>{const e=Vi(r=>r.currentSimulation),t=yr(r=>r.type),n=e.simulationStatus==="progress"&&t!=="waiting"?e.registeredSubjects:[];return h.jsx(fn.DataTable,{columns:ppe,data:n,keyInfo:"subjectId"})};function MS(){const e=Vi(o=>o.setCurrentSimulation),t=Vi(o=>o.currentSimulation),n=yr(o=>o.openModal),{data:r}=vc(),i=(o,a,l)=>{const c=o.map(f=>y2(r,f.subjectId)).filter(f=>f!==void 0);e({simulationId:l,[a]:c}),t.simulationStatus==="progress"&&n("waiting")};return{reloadSimulationStatus:()=>{yte().then(o=>{!o||o.simulationId===-1||(e({simulationId:o.simulationId}),o?.nonRegisteredSubjects&&i(o.nonRegisteredSubjects,"nonRegisteredSubjects",o.simulationId),o?.registeredSubjects&&i(o.registeredSubjects,"registeredSubjects",o.simulationId))}).catch(o=>{console.log(o)})}}}const gpe=e=>j.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},j.createElement("path",{d:"M9.5 16C7.68333 16 6.146 15.3707 4.888 14.112C3.63 12.8533 3.00067 11.316 3 9.5C2.99933 7.684 3.62867 6.14667 4.888 4.888C6.14733 3.62933 7.68467 3 9.5 3C11.3153 3 12.853 3.62933 14.113 4.888C15.373 6.14667 16.002 7.684 16 9.5C16 10.2333 15.8833 10.925 15.65 11.575C15.4167 12.225 15.1 12.8 14.7 13.3L20.3 18.9C20.4833 19.0833 20.575 19.3167 20.575 19.6C20.575 19.8833 20.4833 20.1167 20.3 20.3C20.1167 20.4833 19.8833 20.575 19.6 20.575C19.3167 20.575 19.0833 20.4833 18.9 20.3L13.3 14.7C12.8 15.1 12.225 15.4167 11.575 15.65C10.925 15.8833 10.2333 16 9.5 16ZM9.5 14C10.75 14 11.8127 13.5627 12.688 12.688C13.5633 11.8133 14.0007 10.7507 14 9.5C13.9993 8.24933 13.562 7.187 12.688 6.313C11.814 5.439 10.7513 5.00133 9.5 5C8.24867 4.99867 7.18633 5.43633 6.313 6.313C5.43967 7.18967 5.002 8.252 5 9.5C4.998 10.748 5.43567 11.8107 6.313 12.688C7.19033 13.5653 8.25267 14.0027 9.5 14Z",fill:"white"}));function ype(){const{setCurrentSimulation:e,currentSimulation:t,resetSimulation:n}=Vi(),r=yr(b=>b.openModal),i=bf(hp),{reloadSimulationStatus:s}=MS(),{data:o}=vc(),l=(i&&"simulationId"in i?i.simulationId:-1)!==-1,c=i&&"userStatus"in i?i.userStatus?.departmentName:-1,f=()=>{e({simulationStatus:"before"}),r("tutorial"),n()},p=()=>{hp().then(b=>{b&&"simulationId"in b&&b.simulationId!==-1&&s()})},g=async()=>{p(),fa({eventType:gr.SEARCH},o).then(b=>{if("errMsg"in b)alert("  .    !");else{const _=b.elapsed_time/1e3;e({simulationStatus:"progress",clickedTime:_>10?5:_}),r("waiting")}}).catch(b=>{console.error(" :",b)})},y=async()=>{try{await Ld(),e({simulationStatus:"finish"}),r("result")}catch(b){console.error(b),alert("  .")}};return h.jsx("section",{className:"border p-2 text-xs",children:h.jsxs("div",{className:"flex flex-col gap-1 sm:gap-2",children:[h.jsxs("div",{className:"flex flex-col sm:flex-row gap-1 sm:gap-8",children:[h.jsx("div",{className:"flex justify-end items-center sm:justify-start gap-2",children:h.jsx(yd,{id:"organization-type",label:" ",className:"w-48",essential:!0,disabled:!0,children:h.jsx("option",{})})}),h.jsx("div",{className:"flex justify-end items-center sm:justify-start gap-2",children:h.jsx(yd,{id:"semester-type",label:"/",className:"w-48",essential:!0,disabled:!0,children:h.jsx("option",{})})})]}),h.jsx("div",{className:"flex flex-col justify-between sm:flex-row gap-1 sm:gap-8",children:h.jsxs("div",{className:"flex flex-col sm:items-end sm:flex-row gap-2 ",children:[h.jsx("div",{className:"flex items-center justify-end sm:justify-start gap-2",children:h.jsx(yd,{id:"my-major-department",label:"()",className:"w-48",disabled:!0,children:h.jsx("option",{children:""})})}),h.jsx("div",{className:"flex items-center justify-end sm:justify-start gap-2",children:h.jsx(yd,{id:"my-sub-department",label:"()",className:"w-48",disabled:!0,children:h.jsx("option",{children:""})})})]})}),h.jsxs("div",{className:"flex flex-col sm:flex-col md:flex-row justify-between gap-2",children:[h.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[h.jsx("div",{className:"flex justify-end items-center sm:justify-start gap-2",children:h.jsx(yd,{id:"search-division",label:"",className:"w-48",essential:!0,disabled:!0,children:h.jsx("option",{children:""})})}),h.jsxs("div",{className:"flex justify-end items-center sm:justify-start gap-1",children:[h.jsx("label",{htmlFor:"search-major",className:"font-bold",children:""}),h.jsxs("div",{className:"flex flex-col sm:flex-row gap-1",children:[h.jsx(fn.Select,{id:"search-major",className:"w-48 sm:w-30",essential:!0,disabled:!0,children:h.jsx("option",{children:""})}),h.jsx(yd,{id:"search-department",label:" ",className:"w-40 lg:w-90",value:c,disabled:!0,hideLabel:!0})]})]})]}),h.jsxs("div",{className:"flex flex-row justify-between gap-2",children:[h.jsx("div",{className:"flex flex-row ",children:l?h.jsx(fn.Button,{variant:"cancel",onClick:y,children:" "}):h.jsx(fn.Button,{variant:"primary",onClick:f,children:""})}),h.jsxs("button",{onClick:g,className:`relative px-3 py-2 rounded flex flex-row items-center gap-1 text-white ${l?"bg-gradient-animation cursor-pointer":"bg-gray-400 cursor-not-allowed"}`,disabled:!l,children:[t.simulationStatus==="start"&&h.jsx(ej,{className:"absolute -top-20 right-8 w-15 h-15 animate-bounce rotate-170"}),h.jsx(gpe,{className:"w-5 h-4"}),""]})]})]})]})})}function yd({label:e,hideLabel:t=!1,children:n,id:r,className:i,...s}){const o=r||"muted-select-"+e;return h.jsxs(h.Fragment,{children:[h.jsx("label",{htmlFor:o,className:t?"hidden":"font-bold",children:e}),h.jsx(fn.Select,{id:o,...s,className:i,children:n})]})}function vpe(){const[e,t]=j.useState("00:00"),n=yr(l=>l.openModal),r=Vi(l=>l.currentSimulation),i=Vi(l=>l.setCurrentSimulation),s=j.useRef(null),o=l=>{const c=Math.floor(l%3600/60),f=l%60;t(`${c.toString().padStart(2,"0")}:${f.toString().padStart(2,"0")}`)},a=async()=>{try{await Ld(),i({simulationStatus:"finish"}),n("result")}catch(l){console.error(l),alert("   .")}};return j.useEffect(()=>((async()=>{if(r.simulationStatus==="finish"){t("00:00");return}try{const c=await s1();if(!(c?.started_at&&c.simulation_run_id===r.simulationId))return;const p=c.started_at;s.current=setInterval(()=>{const g=Date.now(),y=Math.floor((g-p)/1e3);if(y>=G_){clearInterval(s.current),alert("5    ."),a().then();return}o(y),r.simulationStatus==="finish"&&(clearInterval(s.current),t("00:00"))},1e3)}catch(c){console.error(c)}})().then(),()=>{s.current&&(clearInterval(s.current),s.current=null)}),[r.simulationStatus,r.simulationId]),h.jsx("p",{className:"font-semibold text-xl text-blue-500",children:e})}function xpe(){const e=yr(l=>l.openModal),t=Vi(l=>l.currentSimulation),n=Vi(l=>l.setCurrentSimulation),{reloadSimulationStatus:r}=MS(),i=py.get(),s=async()=>{try{await Ld(),n({simulationStatus:"finish"}),alert("5    ."),e("result")}catch(l){console.error(l),alert("   .")}},o=()=>{hp().then(l=>{if(l&&"simulationId"in l&&l.simulationId!==-1){const c=l.startedAt;if(!c)return;const f=Date.now();Math.floor((f-c)/1e3)>G_?s().then():r()}else t.simulationStatus==="before"&&e("tutorial")})};j.useEffect(()=>{o()},[t.simulationStatus]);const a=t.registeredSubjects.reduce((l,c)=>{const f=c.tm_num.split("/")[0];return l+Number.parseInt(f,10)},0);return h.jsxs(h.Fragment,{children:[h.jsx(Gr,{children:h.jsx("title",{children:"ALLCLL |  -   "})}),h.jsx(bpe,{}),h.jsxs("div",{className:"flex justify-between gap-5",children:[h.jsxs("div",{className:"flex gap-5",children:[h.jsx("h1",{className:"font-bold text-lg",children:" "}),h.jsx(vpe,{})]}),!i&&h.jsx("button",{className:"text-gray-600 hover:text-blue-500 cursor-pointer",onClick:py.reset,children:" "})]}),h.jsx(ype,{}),h.jsxs("section",{className:"mt-4 ",children:[h.jsx("div",{className:"mb-2",children:h.jsx(fn.SectionHeader,{children:"  "})}),h.jsx(fpe,{})]}),h.jsxs("section",{className:"mt-4",children:[h.jsxs("div",{className:"w-full flex flex-col sm:flex-row sm:items-center justify-start gap-2 mb-2",children:[h.jsx(fn.SectionHeader,{children:"  "}),h.jsxs("div",{className:"flex flex-row gap-2 items-center",children:[h.jsx(fn.Button,{size:"sm",onClick:r,children:""}),h.jsxs("span",{className:"text-xs font-bold text-black",children:["  : 18 /",h.jsxs("span",{className:"text-blue-500",children:[" : ",t.registeredSubjects.length," /  : ",a]})]})]})]}),h.jsx(mpe,{})]})]})}function bpe(){const e=Vi(o=>o.currentSimulation),{type:t,closeModal:n}=yr(),{reloadSimulationStatus:r}=MS(),{data:i}=Ap("timetable"),{data:s=[]}=_j(i?.semesterCode??lo.semesterCode);switch(t){case"tutorial":return h.jsx(upe,{});case"waiting":return h.jsx(Ohe,{});case"captcha":return h.jsx(uhe,{});case"wish":return h.jsx(Rhe,{timetables:s,setIsModalOpen:()=>n()});case"simulation":return h.jsx(hhe,{reloadSimulationStatus:r});case"result":return h.jsx(vhe,{simulationId:e.simulationId});default:return null}}ja.register(zp,$p,Bp,V_,ff,II,pf,hf);function wpe({result:e}){const[t,n]=j.useState(!0),r=t?e.simulations.filter(g=>g.totalTime<=80&&g.searchBtnTime>0):e.simulations,i=r.map((g,y)=>` ${y+1}`),s=r.map(g=>g.searchBtnTime),o=r.map(g=>g.captchaTime-g.searchBtnTime),a=r.map(g=>g.subjectTime-g.captchaTime),l=r.map(g=>g.totalTime-g.subjectTime),c=r&&r.length<50?16:8,f={labels:i,datasets:[{type:"bar",label:"  ",data:s,barThickness:c,backgroundColor:"rgba(75, 192, 192, 0.7)",stack:"Stack 0"},{type:"bar",label:"   ",data:o,barThickness:c,backgroundColor:"rgba(255, 99, 132, 0.7)",stack:"Stack 0"},{type:"bar",label:"  ",data:a,barThickness:c,backgroundColor:"rgba(54, 162, 235, 0.7)",stack:"Stack 0"},{type:"bar",label:" ",data:l,barThickness:c,backgroundColor:"rgba(153, 102, 255, 0.7)",stack:"Stack 0"},{type:"line",label:" ",data:s,borderColor:"rgba(75, 192, 192, 1)",borderWidth:2,pointRadius:4,pointBackgroundColor:"rgba(75, 192, 192, 1)",fill:!1,tension:.1},{type:"line",label:" ",data:o,borderColor:"rgba(255, 99, 132, 1)",borderWidth:2,pointRadius:4,pointBackgroundColor:"rgba(255, 99, 132, 1)",fill:!1,tension:.1},{type:"line",label:"  ",data:a,borderColor:"rgba(54, 162, 235, 1)",borderWidth:2,pointRadius:4,pointBackgroundColor:"rgba(54, 162, 235, 1)",fill:!1,tension:.1},{type:"line",label:"  ",data:l,borderColor:"rgba(153, 102, 255, 1)",borderWidth:2,pointRadius:4,pointBackgroundColor:"rgba(153, 102, 255, 1)",fill:!1,tension:.1}]},p={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"},tooltip:{callbacks:{label:function(g){const y=g.dataset.label||"",b=g.parsed.y;return`${y}: ${b.toFixed(2)}`}}}},scales:{x:{title:{display:!0,text:""}},y:{stacked:!0,title:{display:!0,text:" ()"},ticks:{callback:function(g){return(Zu(g)?g.toFixed(1):g)+""}}}}};return h.jsxs("div",{className:"w-full h-96 p-4 box-border",children:[h.jsxs("div",{className:"flex justify-between items-center mb-4",children:[h.jsx("div",{}),h.jsxs("div",{className:"text-lg font-semibold",children:[h.jsx("input",{id:"normal-data",type:"checkbox",className:"cursor-pointer",onChange:g=>n(g.target.checked),checked:t}),h.jsx("label",{htmlFor:"normal-data",className:"text-sm pl-2 cursor-pointer",children:" "})]})]}),h.jsx("div",{className:"h-full pb-6 overflow-x-auto",children:h.jsx(DI,{type:"bar",data:f,options:p})})]})}function _pe({result:e}){const{data:t}=Ao(),n=j.useMemo(()=>Spe(t,e.subjects),[t,e]);return h.jsxs("table",{className:"min-w-full text-sm text-center text-nowrap",children:[h.jsx("thead",{className:"bg-gray-100 text-gray-600",children:h.jsxs("tr",{children:[h.jsx("th",{className:"py-2 px-2",children:""}),h.jsx("th",{className:"py-2 px-2",children:""}),h.jsx("th",{className:"py-2 px-2",children:""}),h.jsx("th",{className:"py-2 px-2",children:""}),h.jsx("th",{className:"py-2 px-2",children:""}),h.jsx("th",{className:"py-2 px-2",children:"/"})]})}),h.jsx("tbody",{className:"text-gray-700",children:n.map(r=>h.jsxs("tr",{className:"border-t border-gray-200",children:[h.jsx("td",{className:"py-2 px-1",children:r.subjectCode+"-"+r.classCode}),h.jsx("td",{className:"py-2 px-1",children:r.subjectName}),h.jsx("td",{className:"py-2 px-1",children:r.professorName}),h.jsx("td",{className:"py-2 px-1",children:r.avgIndex.toFixed(2)}),h.jsx("td",{className:"py-2 px-1",children:r.avgCompletionTime.toFixed(2)+" sec"}),h.jsxs("td",{className:"py-2 px-2",children:[h.jsx("span",{className:"px-1 py-0.5 rounded-full text-xs font-bold text-green-500",children:r.successCount}),"/",h.jsx("span",{className:"px-1 py-0.5 rounded-full text-xs font-bold text-red-500",children:r.failedCount}),"/",h.jsx("span",{className:"px-1 py-0.5 rounded-full text-xs font-bold text-gray-500",children:r.doubledCount}),"/",h.jsx("span",{className:"px-1 py-0.5 rounded-full text-xs font-bold text-black",children:r.totalCount})]})]},r.subjectId))})]})}function Spe(e,t){if(!t||!e)return[];const n=r=>e.find(i=>i.subjectId===r);return t.map(r=>{const i=n(r.subjectId);return{...r,subjectName:i?.subjectName||"",departmentName:i?.departmentName||"",departmentCode:i?.departmentCode||"",subjectCode:i?.subjectCode||"",classCode:i?.classCode||"",professorName:i?.professorName||null}})}function Cpe(){const e=bf(async()=>{try{return await QR()}catch(r){return{error:r.message}}});if(e&&"error"in e)return h.jsxs("div",{className:"flex flex-col w-full items-center justify-center h-120 gap-3",children:[h.jsx(eN,{className:"h-12 w-12"}),h.jsx("div",{className:"text-center text-gray-500",children:e.error}),h.jsx(ui,{to:"/simulation",className:"bg-blue-500 text-white px-4 py-2 rounded-md hover:bg-blue-600 cursor-pointer",children:"  "})]});const{simulations:t}=e||{simulations:[]},n=e?{user_ability:{searchBtnSpeed:t.reduce((r,i)=>r+i.searchBtnTime,0)/t.length||0,totalSpeed:t.reduce((r,i)=>r+i.totalTime/i.subjectCount,0)/t.length||0,accuracy:t.reduce((r,i)=>r+i.accuracy,0)/t.length||0,captchaSpeed:t.reduce((r,i)=>r+(i.captchaTime-i.searchBtnTime)/i.subjectCount,0)/t.length||0}}:void 0;return!n||!e?h.jsxs("div",{className:"flex flex-col w-full items-center justify-center h-120",children:[h.jsx("div",{className:"animate-spin h-16 w-16 mx-auto my-10",children:h.jsxs("svg",{className:"h-16 w-16 fill-transparent",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[h.jsx("circle",{className:"opacity-25 stroke-blue-500",cx:"12",cy:"12",r:"10",strokeWidth:"4"}),h.jsx("path",{className:"opacity-75 fill-blue-500",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2.93 6.243A8.001 8.001 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3.93-1.695z"})]})}),h.jsxs("div",{className:"text-center text-gray-500 my-10",children:["    ... ",h.jsx("br",{})," "]})]}):h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"flex gap-3 flex-wrap",children:[h.jsx("div",{className:"relative flex-1 min-w-[240px]",children:h.jsx(K_,{result:n})}),h.jsx("div",{className:"flex-1 min-w-[240px] overflow-x-auto",children:h.jsx(_pe,{result:e})})]}),h.jsx("div",{children:h.jsx(wpe,{result:e})})]})}const Epe=e=>j.createElement("svg",{width:26,height:26,viewBox:"0 0 26 26",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},j.createElement("path",{d:"M5.54964 1.99315C5.50209 1.17248 6.41035 0.64822 7.09733 1.0996L20.3806 9.83538C21.12 10.3219 20.9092 11.4586 20.0444 11.6476L15.7086 12.5948L21.1016 21.9358C21.3775 22.4141 21.2138 23.0258 20.7356 23.3019L17.8077 24.9923C17.3295 25.2684 16.7179 25.1043 16.4417 24.6263L11.0764 15.3334L8.21097 18.4797C7.61486 19.134 6.52521 18.7482 6.47343 17.8647L5.54964 1.99315Z",fill:"#0756FF"}));function kpe(){return h.jsxs(h.Fragment,{children:[h.jsx("h1",{className:"text-2xl font-bold mb-2",children:"   "}),h.jsx("p",{className:"text-gray-500 mb-4",children:"    ."}),h.jsx(Tpe,{})]})}function Tpe(){const e=bf(mhe),t=e?e.snapshots:[],n=e===void 0,r=e===null;return n?h.jsx("div",{className:"flex justify-center items-center h-64",children:h.jsx("span",{className:"text-gray-500",children:" ..."})}):r?h.jsx("div",{className:"flex justify-center items-center h-64",children:h.jsx("span",{className:"text-red-500",children:" "})}):t.length?t.map(i=>h.jsxs(ui,{to:`/simulation/logs/${i.simulation_run_id}`,className:"flex items-center justify-between bg-white p-3 rounded-md text-sm shadow-md shadow-gray-300 mb-2 hover:bg-gray-100",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("p",{className:"hidden",children:"id"}),h.jsx("span",{className:"font-bold",children:i.simulation_run_id}),h.jsx("p",{className:"hidden",children:""}),h.jsx("span",{children:i.department_name?i.department_name.split(" ")[i.department_name.split(" ").length-1]:"  "})]}),h.jsxs("div",{className:"flex items-center text-center",children:[h.jsxs("div",{className:"",children:[h.jsx("p",{className:"text-xs",children:" "}),h.jsxs("span",{className:"text-sm font-bold",children:[i.accuracy,"%"]})]}),h.jsxs("div",{className:"flex items-center justify-end gap-1 w-20",children:[h.jsx("p",{className:"hidden",children:""}),h.jsx(Epe,{className:"w-4 h-4"}),h.jsx("span",{className:"font-bold",children:i.score.toFixed(3)})]})]})]},"simulation-log-"+i.simulation_run_id)):h.jsx("div",{className:"flex justify-center items-center",children:h.jsx("span",{className:"text-gray-500",children:" "})})}function jpe(){return h.jsxs(h.Fragment,{children:[h.jsx(Gr,{children:h.jsx("title",{children:"ALLCLL |  -  "})}),h.jsxs("section",{className:"max-w-7xl mx-auto",children:[h.jsx("h1",{className:"text-2xl font-bold mb-2",children:" "}),h.jsx("p",{className:"text-gray-500 mb-4",children:"   ,    ."}),h.jsx("div",{className:"bg-white p-3 rounded-md text-sm shadow-md shadow-gray-300",children:h.jsx(Cpe,{})})]}),h.jsx("section",{className:"max-w-3xl mx-auto mt-12",children:h.jsx(kpe,{})})]})}const vp=32,B8=200;function Ipe({result:e}){const t=Lpe(e),n=(e.ended_at-e.started_at)/1e3,r=Array.from({length:Math.floor(n)+5},(i,s)=>s+1);return h.jsxs("div",{className:"relative",children:[h.jsxs("div",{className:"relative overflow-x-auto overflow-y-hidden",children:[h.jsx("div",{className:"absolute top-0 flex h-full",style:{left:`${B8}px`},children:r.map(i=>h.jsx("div",{className:"border-r border-gray-200 relative",style:{width:`${vp}px`},children:h.jsx("span",{className:"absolute text-xs text-gray-400 bg-white bottom-0 right-0 translate-x-1/2",children:i})},i))}),t.map((i,s)=>h.jsxs("div",{className:"flex items-center",style:{width:`${vp*r.length}px`},children:[h.jsxs("div",{className:"py-2 text-sm md:sticky left-0 right-0 z-10 bg-white",style:{width:`${B8}px`},children:[h.jsx("div",{className:`font-semibold ${Ape(i.color)}`,children:i.name}),h.jsx("span",{className:`text-xs ${Mpe(i.color)}`,children:i.code})]}),h.jsx("div",{className:"flex-1 relative h-8",children:h.jsx(Npe,{timelines:i.timelines})})]},"timeline-row-"+s))]}),h.jsx("div",{className:"pointer-events-none absolute inset-y-4 left-0 md:left-[200px] w-3 bg-gradient-to-r from-white to-transparent"}),h.jsx("div",{className:"pointer-events-none absolute inset-y-4 right-0 w-3 bg-gradient-to-l from-white to-transparent"})]})}function Npe({timelines:e}){return e.map((t,n)=>{const r=t.start*vp-12,i=t.duration*vp+24;return h.jsx("div",{className:`absolute top-1 h-6 rounded-full px-3 ${Ppe(t.color)}`,style:{left:`${r}px`,width:`${i}px`},children:t.events.map((s,o)=>h.jsx(Rpe,{event:s,startAt:t.start,color:t.color,isTop:t.isTop},"timeline-dot-"+o))},"timeline-bar-"+n)})}function Rpe({event:e,startAt:t,color:n,isTop:r}){const i=(e.start-t)*vp+6,s=Dpe(e.event),o=e.start,a=r?"top-4":"bottom-4";return h.jsxs("div",{className:"absolute top-1.5",style:{left:`${i}px`},children:[h.jsx("div",{className:`w-3 h-3 peer bg-white border-2 rounded-full hover:shadow cursor-pointer ${Ope(n)}`}),h.jsxs("div",{className:`absolute z-10 ${a} left-1/2 -translate-x-1/2 px-2 py-1 rounded bg-black text-white text-nowrap text-xs text-center opacity-0 peer-hover:opacity-100 transition-opacity duration-200`,children:[s,h.jsx("br",{}),o.toFixed(2)," sec"]})]})}function Ppe(e){switch(e){case"green":return"bg-green-100 border-green-500 text-green-700";case"red":return"bg-red-100 border-red-500 text-red-700";case"orange":return"bg-orange-100 border-orange-500 text-orange-700";case"yellow":return"bg-yellow-100 border-yellow-500 text-yellow-700";default:return"bg-gray-100 border-gray-500 text-gray-700"}}function Ope(e){switch(e){case"green":return"border-green-500 text-green-500 shadow-green-500";case"red":return"border-red-500 text-red-500 shadow-red-500";case"orange":return"border-orange-500 text-orange-500 shadow-orange-500";case"yellow":return"border-yellow-500 text-yellow-500 shadow-yellow-500";default:return"border-gray-500 text-gray-500 shadow-gray-500"}}function Mpe(e){switch(e){case"green":return"text-green-500";case"red":return"text-red-500";case"orange":return"text-orange-500";case"yellow":return"text-yellow-500";default:return"text-gray-500"}}function Ape(e){switch(e){case"green":return"text-green-600";case"red":return"text-red-600";case"orange":return"text-orange-600";case"yellow":return"text-yellow-600";default:return"text-gray-600"}}function Dpe(e){switch(e){case gr.SEARCH:return"  ";case gr.APPLY:return"  ";case gr.CAPTCHA:return"   ";case gr.SUBJECT_SUBMIT:return"   ";case gr.SKIP_REFRESH:return" ";case gr.REFRESH:return"  ";case gr.CANCEL_SUBMIT:return"  "}}function Lpe(e){const{timeline:t,started_at:n,subject_results:r}=e;return r.map(i=>({name:i.subjectInfo?.subjectName,code:i.subjectInfo?.subjectCode+"-"+i.subjectInfo?.classCode,color:zw(i.status),timelines:t.filter(s=>s.subject_id===i.subject_id).map(s=>({color:zw(s.status),start:(s.started_at-n)/1e3,duration:(s.ended_at-s.started_at)/1e3,isTop:r[0].subject_id===s.subject_id,events:s.events.reduce((o,a,l)=>[...o,{event:a.event,duration:l==0?0:(a.timestamp-s.events[l-1].timestamp)/1e3,start:(a.timestamp-n)/1e3}],[])}))}))}function Fpe({result:e}){const{subject_results:t,started_at:n}=e;return h.jsxs("table",{className:"min-w-full text-sm text-center text-nowrap",children:[h.jsx("thead",{className:"bg-gray-100 text-gray-600",children:h.jsxs("tr",{children:[h.jsx("th",{className:"py-2 px-2",children:""}),h.jsx("th",{className:"py-2 px-2",children:""}),h.jsx("th",{className:"py-2 px-2",children:""}),h.jsx("th",{className:"py-2 px-2",children:""}),h.jsx("th",{className:"py-2 px-2",children:""}),h.jsx("th",{className:"py-2 px-2",children:"/"})]})}),h.jsx("tbody",{className:"text-gray-700",children:t.map(r=>h.jsxs("tr",{className:"border-t border-gray-200",children:[h.jsx("td",{className:"py-2 px-1",children:r.subjectInfo?.subjectCode+"-"+r.subjectInfo?.classCode}),h.jsx("td",{className:"py-2 px-1",children:r.subjectInfo?.subjectName}),h.jsx("td",{className:"py-2 px-1",children:r.subjectInfo?.professorName}),h.jsx("td",{className:"py-2 px-1",children:r.selected_index}),h.jsx("td",{className:"py-2 px-1",children:((r.ended_at-n)/1e3).toFixed(2)+" sec"}),h.jsx("td",{className:"py-2 px-2",children:h.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs ${jte(r.status)}`,children:r.status===dn.SUCCESS?"":""})})]},"subject-detail-row-"+r.subject_id))})]})}function Bpe(){const{runId:e}=g7(),{data:t}=vc(),n=bf(()=>ghe(Number(e))),r=j.useMemo(()=>zpe(t,n),[t,n]);return h.jsxs(h.Fragment,{children:[h.jsx(Gr,{children:h.jsx("title",{children:"ALLCLL |  -   "})}),h.jsx("h1",{className:"text-2xl font-bold mb-6",children:"   "}),h.jsxs("section",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[h.jsxs("div",{className:"relative bg-white p-6 rounded-2xl shadow-sm",children:[h.jsx("h2",{className:"text-lg font-semibold mb-4",children:"  "}),r?h.jsx(K_,{result:r}):h.jsx("div",{className:"text-center text-gray-500",children:"  ..."})]}),h.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm overflow-x-auto",children:[h.jsx("h2",{className:"text-lg font-semibold mb-4 min-w-[240px] overflow-x-auto",children:"  "}),r?h.jsx(Fpe,{result:r}):h.jsx("div",{className:"text-center text-gray-500",children:"  ..."})]})]}),h.jsxs("section",{className:"bg-white p-6 rounded-2xl shadow-sm",children:[h.jsx("div",{className:"flex items-start justify-between mb-4",children:h.jsx("h2",{className:"text-lg font-semibold mb-4",children:"     TimeLine"})}),r?h.jsx(Ipe,{result:r}):h.jsx("div",{className:"text-center text-gray-500",children:"  ..."})]})]})}function zpe(e,t){if(!(!t||!e))return{...t,timeline:t.timeline.map(n=>({...n,subjectInfo:y2(e,n.subject_id)})),subject_results:t.subject_results.map(n=>({...n,subjectInfo:y2(e,n.subject_id)}))}}function $pe(){const e=ka(),[t,n]=j.useState(!1),r=oo(l=>l.filters),i=oo(l=>l.setFilter),s=oo(l=>l.resetFilters),{data:o}=po(e),a=Vp(o??[]).sort((l,c)=>l.localeCompare(c)).map(l=>l);return h.jsxs(Pe,{direction:"flex-wrap",align:"items-center",gap:"gap-2",className:"w-full",children:[h.jsx(cS,{handleOpenFilter:()=>n(!0)}),h.jsx(dS,{setFilter:i,selectedValue:r.department}),h.jsx(ir,{filterKey:"days",options:Pn.days,selectedValues:r.days??[],setFilter:i}),h.jsx(ir,{filterKey:"credits",options:Pn.credits,selectedValues:r.credits??[],setFilter:i}),h.jsx(ir,{filterKey:"grades",options:Pn.grades,selectedValues:r.grades??[],setFilter:i}),r.note?.length>0&&h.jsx(ir,{filterKey:"note",options:Pn.remark,selectedValues:r.note??[],setFilter:i}),r.categories?.length>0&&h.jsx(ir,{filterKey:"categories",options:a,selectedValues:r.categories??[],setFilter:i}),r.classroom?.length>0&&h.jsx(ir,{filterKey:"classroom",options:Pn.classRoom,selectedValues:r.classroom??[],setFilter:i}),h.jsx(fS,{filters:r,resetFilter:s}),t&&h.jsx(hS,{filterStore:oo,onClose:()=>n(!1)})]})}function Upe(){const{openScheduleModal:e}=fi(),t=new Wi().toUiData();return h.jsxs("div",{className:"flex flex-col items-center gap-3 pt-5",children:[h.jsx(uy,{title:"  .",description:"  ?   ."}),h.jsx(Dt,{variant:"primary",size:"medium",onClick:()=>e(t),children:""})]})}function Hpe({isActive:e,subject:t,onClick:n,forwardedRef:r}){const i=e?"text-blue-500 bg-blue-50":"text-gray-700 bg-white hover:bg-gray-50",{saveSchedule:s}=fi(),{selectTargetOnly:o}=Wp(),a=l=>{s(l,!1),o(t.subjectId),d1(t.deptCd)};return h.jsx("button",{type:"button",className:`border border-gray-200 rounded-lg p-3 sm:p-4 gap-2 sm:gap-3 ${i} cursor-pointer w-full text-left`,onClick:n,ref:r,children:h.jsxs(Pe,{direction:"flex-col",children:[h.jsxs(Pe,{justify:"justify-between",align:"items-center",gap:"gap-2 ",children:[h.jsx(Gt,{level:3,children:t.subjectName}),h.jsx("span",{className:"text-xs sm:text-sm text-gray-500",children:t.professorName})]}),h.jsxs(Pe,{direction:"flex-col",justify:"justify-start",align:"items-start",gap:"gap-2 ",children:[h.jsx("span",{className:"text-xs sm:text-sm text-gray-500",children:t.lesnTime}),h.jsx("span",{className:"text-xs sm:text-sm text-gray-500",children:t.lesnRoom}),h.jsxs("span",{className:"text-xs sm:text-sm text-gray-500",children:[t.studentYear,"/",t.manageDeptNm]})]}),h.jsxs(Pe,{justify:"justify-between",align:"items-center",children:[h.jsxs(qu,{variant:"default",children:[t.tmNum[0],""]}),e&&h.jsx(Dt,{variant:"primary",size:"medium",onClick:a,children:""})]})]})})}const Wpe=({message:e})=>h.jsxs(Pe,{"flex-direction":"column","justify-content":"center","align-item":"center",style:{height:"100%"},children:[h.jsx(Gn,{children:e||" "}),h.jsx(Gn,{children:"  ."})]});function JR({subjects:e,expandToMax:t,isPending:n=!1}){const{visibleRows:r,loadMoreRef:i}=p1(e,"ref"),s=j.useRef(null),o=Ut(f=>f.schedule.subjectId),{openScheduleModal:a,cancelSchedule:l}=fi();if(n)return h.jsx(Wpe,{message:"   ..."});if(!e.length)return h.jsx(Upe,{});const c=f=>{if(o===f.subjectId){l(void 0,!1);return}const p=new Wi({...new Wi().toApiData(),scheduleType:"official",subjectId:f.subjectId??-1},f);a(p.toUiData()),console.log("official",o);const b=new df(f.lesnTime).toUiData(9)[0]?.top;t&&(t(),setTimeout(()=>{if(b){const _=Number.parseFloat(b);window.scrollTo({top:_,behavior:"smooth"})}},400))};return h.jsxs(Pe,{direction:"flex-col",justify:"justify-end",gap:"gap-2",children:[e.slice(0,r).map(f=>{const p=o===f.subjectId;return h.jsx(Hpe,{subject:f,isActive:p,onClick:()=>c(f),forwardedRef:p?s:void 0},f.subjectId)}),r<e.length&&h.jsx("div",{ref:i,className:"load-more-trigger w-full h-10"})]})}const Vpe=new Wi().toUiData();function qpe(){const e=ka(),{openScheduleModal:t}=fi(),{data:n,isPending:r}=Ao(e),i=mf(n)??[],s=oo(l=>l.filters),o=oo(l=>l.setFilter),a=j.useDeferredValue(yf(i,s));return h.jsx(Yn,{children:h.jsxs(Pe,{direction:"flex-col",gap:"gap-3",className:"w-full bg-white h-screen md:border-t-0",children:[h.jsx(gc,{type:"text",value:s.keywords,placeholder:" ",onDelete:()=>o("keywords",""),onChange:l=>o("keywords",l.target.value),className:"w-full"}),h.jsx($pe,{}),h.jsx(Dt,{variant:"text",size:"small",onClick:()=>t(Vpe),children:"+   "}),h.jsx(Pe,{direction:"flex-col",className:"h-full overflow-hidden overflow-y-auto",children:h.jsx(JR,{subjects:a,isPending:r})})]})})}const Qpe="FALL_25",z8=Hy.findIndex(e=>e.semesterCode===Qpe),Kpe=z8!==-1?Hy.slice(0,z8+1):[];function Gpe({currentSemester:e}){const t="border-b-2 border-primary text-primary pb-2";return h.jsx(Pe,{gap:"gap-4",className:"border-b text-sm border-gray-200",children:Kpe.map(n=>{const r=e===n.semesterCode;return h.jsxs(ui,{to:`/timetable?semester=${n.semesterCode}`,className:r?t:"text-gray-500 pb-2",children:[n.semesterValue,""]},n.semesterCode)})})}var jb={exports:{}},$8;function Ype(){return $8||($8=1,function(e){(function(t){var n=M(),r=U(),i=z(),s=P(),o={imagePlaceholder:void 0,cacheBust:!1},a={toSvg:l,toPng:f,toJpeg:p,toBlob:g,toPixelData:c,impl:{fontFaces:i,images:s,util:n,inliner:r,options:{}}};e.exports=a;function l(N,B){return B=B||{},y(B),Promise.resolve(N).then(function(D){return _(D,B.filter,!0)}).then(C).then(E).then($).then(function(D){return R(D,B.width||n.width(N),B.height||n.height(N))});function $(D){return B.bgcolor&&(D.style.backgroundColor=B.bgcolor),B.width&&(D.style.width=B.width+"px"),B.height&&(D.style.height=B.height+"px"),B.style&&Object.keys(B.style).forEach(function(J){D.style[J]=B.style[J]}),D}}function c(N,B){return b(N,B||{}).then(function($){return $.getContext("2d").getImageData(0,0,n.width(N),n.height(N)).data})}function f(N,B){return b(N,B||{}).then(function($){return $.toDataURL()})}function p(N,B){return B=B||{},b(N,B).then(function($){return $.toDataURL("image/jpeg",B.quality||1)})}function g(N,B){return b(N,B||{}).then(n.canvasToBlob)}function y(N){typeof N.imagePlaceholder>"u"?a.impl.options.imagePlaceholder=o.imagePlaceholder:a.impl.options.imagePlaceholder=N.imagePlaceholder,typeof N.cacheBust>"u"?a.impl.options.cacheBust=o.cacheBust:a.impl.options.cacheBust=N.cacheBust}function b(N,B){return l(N,B).then(n.makeImage).then(n.delay(100)).then(function(D){var J=$(N);return J.getContext("2d").drawImage(D,0,0),J});function $(D){var J=document.createElement("canvas");if(J.width=B.width||n.width(D),J.height=B.height||n.height(D),B.bgcolor){var X=J.getContext("2d");X.fillStyle=B.bgcolor,X.fillRect(0,0,J.width,J.height)}return J}}function _(N,B,$){if(!$&&B&&!B(N))return Promise.resolve();return Promise.resolve(N).then(D).then(function(ie){return J(N,ie,B)}).then(function(ie){return X(N,ie)});function D(ie){return ie instanceof HTMLCanvasElement?n.makeImage(ie.toDataURL()):ie.cloneNode(!1)}function J(ie,q,V){var K=ie.childNodes;if(K.length===0)return Promise.resolve(q);return ne(q,n.asArray(K),V).then(function(){return q});function ne(Y,de,F){var Z=Promise.resolve();return de.forEach(function(ge){Z=Z.then(function(){return _(ge,F)}).then(function(H){H&&Y.appendChild(H)})}),Z}}function X(ie,q){if(!(q instanceof Element))return q;return Promise.resolve().then(V).then(K).then(ne).then(Y).then(function(){return q});function V(){de(window.getComputedStyle(ie),q.style);function de(F,Z){F.cssText?Z.cssText=F.cssText:ge(F,Z);function ge(H,je){n.asArray(H).forEach(function(ke){je.setProperty(ke,H.getPropertyValue(ke),H.getPropertyPriority(ke))})}}}function K(){[":before",":after"].forEach(function(F){de(F)});function de(F){var Z=window.getComputedStyle(ie,F),ge=Z.getPropertyValue("content");if(ge===""||ge==="none")return;var H=n.uid();q.className=q.className+" "+H;var je=document.createElement("style");je.appendChild(ke(H,F,Z)),q.appendChild(je);function ke(Te,Ke,We){var Ie="."+Te+":"+Ke,Lt=We.cssText?Vn(We):ct(We);return document.createTextNode(Ie+"{"+Lt+"}");function Vn(mn){var bn=mn.getPropertyValue("content");return mn.cssText+" content: "+bn+";"}function ct(mn){return n.asArray(mn).map(bn).join("; ")+";";function bn(yn){return yn+": "+mn.getPropertyValue(yn)+(mn.getPropertyPriority(yn)?" !important":"")}}}}}function ne(){ie instanceof HTMLTextAreaElement&&(q.innerHTML=ie.value),ie instanceof HTMLInputElement&&q.setAttribute("value",ie.value)}function Y(){q instanceof SVGElement&&(q.setAttribute("xmlns","http://www.w3.org/2000/svg"),q instanceof SVGRectElement&&["width","height"].forEach(function(de){var F=q.getAttribute(de);F&&q.style.setProperty(de,F)}))}}}function C(N){return i.resolveAll().then(function(B){var $=document.createElement("style");return N.appendChild($),$.appendChild(document.createTextNode(B)),N})}function E(N){return s.inlineAll(N).then(function(){return N})}function R(N,B,$){return Promise.resolve(N).then(function(D){return D.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),new XMLSerializer().serializeToString(D)}).then(n.escapeXhtml).then(function(D){return'<foreignObject x="0" y="0" width="100%" height="100%">'+D+"</foreignObject>"}).then(function(D){return'<svg xmlns="http://www.w3.org/2000/svg" width="'+B+'" height="'+$+'">'+D+"</svg>"}).then(function(D){return"data:image/svg+xml;charset=utf-8,"+D})}function M(){return{escape:Y,parseExtension:B,mimeType:$,dataAsUrl:ne,isDataUrl:D,canvasToBlob:X,resolveUrl:ie,getAndEncode:K,uid:q(),delay:de,asArray:F,escapeXhtml:Z,makeImage:V,width:ge,height:H};function N(){var ke="application/font-woff",Te="image/jpeg";return{woff:ke,woff2:ke,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:Te,jpeg:Te,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml"}}function B(ke){var Te=/\.([^\.\/]*?)$/g.exec(ke);return Te?Te[1]:""}function $(ke){var Te=B(ke).toLowerCase();return N()[Te]||""}function D(ke){return ke.search(/^(data:)/)!==-1}function J(ke){return new Promise(function(Te){for(var Ke=window.atob(ke.toDataURL().split(",")[1]),We=Ke.length,Ie=new Uint8Array(We),Lt=0;Lt<We;Lt++)Ie[Lt]=Ke.charCodeAt(Lt);Te(new Blob([Ie],{type:"image/png"}))})}function X(ke){return ke.toBlob?new Promise(function(Te){ke.toBlob(Te)}):J(ke)}function ie(ke,Te){var Ke=document.implementation.createHTMLDocument(),We=Ke.createElement("base");Ke.head.appendChild(We);var Ie=Ke.createElement("a");return Ke.body.appendChild(Ie),We.href=Te,Ie.href=ke,Ie.href}function q(){var ke=0;return function(){return"u"+Te()+ke++;function Te(){return("0000"+(Math.random()*Math.pow(36,4)<<0).toString(36)).slice(-4)}}}function V(ke){return new Promise(function(Te,Ke){var We=new Image;We.onload=function(){Te(We)},We.onerror=Ke,We.src=ke})}function K(ke){var Te=3e4;return a.impl.options.cacheBust&&(ke+=(/\?/.test(ke)?"&":"?")+new Date().getTime()),new Promise(function(Ke){var We=new XMLHttpRequest;We.onreadystatechange=Vn,We.ontimeout=ct,We.responseType="blob",We.timeout=Te,We.open("GET",ke,!0),We.send();var Ie;if(a.impl.options.imagePlaceholder){var Lt=a.impl.options.imagePlaceholder.split(/,/);Lt&&Lt[1]&&(Ie=Lt[1])}function Vn(){if(We.readyState===4){if(We.status!==200){Ie?Ke(Ie):mn("cannot fetch resource: "+ke+", status: "+We.status);return}var bn=new FileReader;bn.onloadend=function(){var yn=bn.result.split(/,/)[1];Ke(yn)},bn.readAsDataURL(We.response)}}function ct(){Ie?Ke(Ie):mn("timeout of "+Te+"ms occured while fetching resource: "+ke)}function mn(bn){console.error(bn),Ke("")}})}function ne(ke,Te){return"data:"+Te+";base64,"+ke}function Y(ke){return ke.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1")}function de(ke){return function(Te){return new Promise(function(Ke){setTimeout(function(){Ke(Te)},ke)})}}function F(ke){for(var Te=[],Ke=ke.length,We=0;We<Ke;We++)Te.push(ke[We]);return Te}function Z(ke){return ke.replace(/#/g,"%23").replace(/\n/g,"%0A")}function ge(ke){var Te=je(ke,"border-left-width"),Ke=je(ke,"border-right-width");return ke.scrollWidth+Te+Ke}function H(ke){var Te=je(ke,"border-top-width"),Ke=je(ke,"border-bottom-width");return ke.scrollHeight+Te+Ke}function je(ke,Te){var Ke=window.getComputedStyle(ke).getPropertyValue(Te);return parseFloat(Ke.replace("px",""))}}function U(){var N=/url\(['"]?([^'"]+?)['"]?\)/g;return{inlineAll:J,shouldProcess:B,impl:{readUrls:$,inline:D}};function B(X){return X.search(N)!==-1}function $(X){for(var ie=[],q;(q=N.exec(X))!==null;)ie.push(q[1]);return ie.filter(function(V){return!n.isDataUrl(V)})}function D(X,ie,q,V){return Promise.resolve(ie).then(function(ne){return q?n.resolveUrl(ne,q):ne}).then(V||n.getAndEncode).then(function(ne){return n.dataAsUrl(ne,n.mimeType(ie))}).then(function(ne){return X.replace(K(ie),"$1"+ne+"$3")});function K(ne){return new RegExp(`(url\\(['"]?)(`+n.escape(ne)+`)(['"]?\\))`,"g")}}function J(X,ie,q){if(V())return Promise.resolve(X);return Promise.resolve(X).then($).then(function(K){var ne=Promise.resolve(X);return K.forEach(function(Y){ne=ne.then(function(de){return D(de,Y,ie,q)})}),ne});function V(){return!B(X)}}}function z(){return{resolveAll:N,impl:{readAll:B}};function N(){return B().then(function($){return Promise.all($.map(function(D){return D.resolve()}))}).then(function($){return $.join(`
`)})}function B(){return Promise.resolve(n.asArray(document.styleSheets)).then(D).then($).then(function(X){return X.map(J)});function $(X){return X.filter(function(ie){return ie.type===CSSRule.FONT_FACE_RULE}).filter(function(ie){return r.shouldProcess(ie.style.getPropertyValue("src"))})}function D(X){var ie=[];return X.forEach(function(q){try{n.asArray(q.cssRules||[]).forEach(ie.push.bind(ie))}catch(V){console.log("Error while reading CSS rules from "+q.href,V.toString())}}),ie}function J(X){return{resolve:function(){var q=(X.parentStyleSheet||{}).href;return r.inlineAll(X.cssText,q)},src:function(){return X.style.getPropertyValue("src")}}}}}function P(){return{inlineAll:B,impl:{newImage:N}};function N($){return{inline:D};function D(J){return n.isDataUrl($.src)?Promise.resolve():Promise.resolve($.src).then(J||n.getAndEncode).then(function(X){return n.dataAsUrl(X,n.mimeType($.src))}).then(function(X){return new Promise(function(ie,q){$.onload=ie,$.onerror=q,$.src=X})})}}function B($){if(!($ instanceof Element))return Promise.resolve($);return D($).then(function(){return $ instanceof HTMLImageElement?N($).inline():Promise.all(n.asArray($.childNodes).map(function(J){return B(J)}))});function D(J){var X=J.style.getPropertyValue("background");return X?r.inlineAll(X).then(function(ie){J.style.setProperty("background",ie,J.style.getPropertyPriority("background"))}).then(function(){return J}):Promise.resolve(J)}}}})()}(jb)),jb.exports}var Xpe=Ype();const Jpe=qi(Xpe);var S0={exports:{}},Zpe=S0.exports,U8;function eme(){return U8||(U8=1,function(e,t){(function(n,r){r()})(Zpe,function(){function n(c,f){return typeof f>"u"?f={autoBom:!1}:typeof f!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),f={autoBom:!f}),f.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(c.type)?new Blob(["\uFEFF",c],{type:c.type}):c}function r(c,f,p){var g=new XMLHttpRequest;g.open("GET",c),g.responseType="blob",g.onload=function(){l(g.response,f,p)},g.onerror=function(){console.error("could not download file")},g.send()}function i(c){var f=new XMLHttpRequest;f.open("HEAD",c,!1);try{f.send()}catch{}return 200<=f.status&&299>=f.status}function s(c){try{c.dispatchEvent(new MouseEvent("click"))}catch{var f=document.createEvent("MouseEvents");f.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),c.dispatchEvent(f)}}var o=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof bh=="object"&&bh.global===bh?bh:void 0,a=o.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),l=o.saveAs||(typeof window!="object"||window!==o?function(){}:"download"in HTMLAnchorElement.prototype&&!a?function(c,f,p){var g=o.URL||o.webkitURL,y=document.createElement("a");f=f||c.name||"download",y.download=f,y.rel="noopener",typeof c=="string"?(y.href=c,y.origin===location.origin?s(y):i(y.href)?r(c,f,p):s(y,y.target="_blank")):(y.href=g.createObjectURL(c),setTimeout(function(){g.revokeObjectURL(y.href)},4e4),setTimeout(function(){s(y)},0))}:"msSaveOrOpenBlob"in navigator?function(c,f,p){if(f=f||c.name||"download",typeof c!="string")navigator.msSaveOrOpenBlob(n(c,p),f);else if(i(c))r(c,f,p);else{var g=document.createElement("a");g.href=c,g.target="_blank",setTimeout(function(){s(g)})}}:function(c,f,p,g){if(g=g||open("","_blank"),g&&(g.document.title=g.document.body.innerText="downloading..."),typeof c=="string")return r(c,f,p);var y=c.type==="application/octet-stream",b=/constructor/i.test(o.HTMLElement)||o.safari,_=/CriOS\/[\d]+/.test(navigator.userAgent);if((_||y&&b||a)&&typeof FileReader<"u"){var C=new FileReader;C.onloadend=function(){var M=C.result;M=_?M:M.replace(/^data:[^;]*;/,"data:attachment/file;"),g?g.location.href=M:location=M,g=null},C.readAsDataURL(c)}else{var E=o.URL||o.webkitURL,R=E.createObjectURL(c);g?g.location=R:location.href=R,g=null,setTimeout(function(){E.revokeObjectURL(R)},4e4)}});o.saveAs=l.saveAs=l,e.exports=l})}(S0)),S0.exports}var tme=eme();function nme(e,t="image.png"){if(!e){console.error("Image reference is not set");return}Jpe.toBlob(e).then(n=>tme.saveAs(n,t)).catch(n=>{console.error("Error saving image:",n)})}const rme=e=>j.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},j.createElement("path",{d:"M10 12.9791C9.8889 12.9791 9.78473 12.9619 9.68751 12.9274C9.59029 12.893 9.50001 12.8338 9.41668 12.7499L6.41668 9.74992C6.25001 9.58325 6.17001 9.38881 6.17668 9.16659C6.18334 8.94437 6.26334 8.74992 6.41668 8.58325C6.58334 8.41659 6.7814 8.32992 7.01084 8.32325C7.24029 8.31659 7.43807 8.39631 7.60418 8.56242L9.16668 10.1249V4.16659C9.16668 3.93048 9.24668 3.7327 9.40668 3.57325C9.56668 3.41381 9.76445 3.33381 10 3.33325C10.2356 3.3327 10.4336 3.4127 10.5942 3.57325C10.7547 3.73381 10.8345 3.93159 10.8333 4.16659V10.1249L12.3958 8.56242C12.5625 8.39575 12.7606 8.31575 12.99 8.32242C13.2195 8.32909 13.4172 8.41603 13.5833 8.58325C13.7361 8.74992 13.8161 8.94437 13.8233 9.16659C13.8306 9.38881 13.7506 9.58325 13.5833 9.74992L10.5833 12.7499C10.5 12.8333 10.4097 12.8924 10.3125 12.9274C10.2153 12.9624 10.1111 12.9796 10 12.9791ZM5.00001 16.6666C4.54168 16.6666 4.14945 16.5035 3.82334 16.1774C3.49723 15.8513 3.3339 15.4588 3.33334 14.9999V13.3333C3.33334 13.0971 3.41334 12.8994 3.57334 12.7399C3.73334 12.5805 3.93112 12.5005 4.16668 12.4999C4.40223 12.4994 4.60029 12.5794 4.76084 12.7399C4.9214 12.9005 5.00112 13.0983 5.00001 13.3333V14.9999H15V13.3333C15 13.0971 15.08 12.8994 15.24 12.7399C15.4 12.5805 15.5978 12.5005 15.8333 12.4999C16.0689 12.4994 16.267 12.5794 16.4275 12.7399C16.5881 12.9005 16.6678 13.0983 16.6667 13.3333V14.9999C16.6667 15.4583 16.5036 15.8508 16.1775 16.1774C15.8514 16.5041 15.4589 16.6671 15 16.6666H5.00001Z",fill:"#9CA3AF"}));function ime({setIsOpenModal:e,timetables:t}){const n=Ut(o=>o.options.isMobile),r=va(o=>o.openBottomSheet),i=()=>{const o=Ut.getState()?.currentTimetable?.timeTableName,a=Ut.getState().options.containerRef;nme(a,o?o+".png":".png")},s=()=>{e("create")};return h.jsxs(Pe,{children:[h.jsx(Rr,{icon:h.jsx(rme,{className:"w-5 h-5"}),variant:"plain",label:"  ",onClick:i}),n&&h.jsx(Rr,{icon:h.jsx(m1,{className:"w-5 h-5"}),variant:"plain",label:" ",onClick:()=>r("search")}),!n&&t&&t.length>=0&&h.jsx(Dt,{variant:"text",size:"medium",onClick:s,children:"+  "})]})}const sme=({setIsOpenModal:e,openCreateModal:t,timetables:n,currentTimetable:r})=>{const i=Ut(c=>c.pickTimetable),{mutate:s}=Cj(),o=c=>{const f=n.find(p=>p.timeTableId===c.timeTableId);f&&i(f)},a=()=>{e("edit")},l=c=>{s(c)};return!r&&n.length===0?h.jsx(Dt,{variant:"primary",size:"medium",onClick:t,children:" "}):h.jsxs(Ad,{children:[h.jsx(Ad.Trigger,{label:r?r.timeTableName:" "}),h.jsx(Ad.Content,{children:h.jsxs(Pe,{direction:"flex-col",gap:"gap-4",children:[n.length===0&&h.jsx(Gn,{children:"  ."}),n.map(c=>h.jsxs(Pe,{gap:"gap-4",children:[h.jsx(Fy,{label:c.timeTableName,checked:r?.timeTableId===c.timeTableId,onChange:()=>o(c)},c.timeTableId),r?.timeTableId===c.timeTableId&&h.jsxs(Pe,{gap:"gap-4",children:[h.jsx(Dt,{variant:"text",size:"small",onClick:a,children:""}),h.jsx(Dt,{variant:"text",size:"small",textColor:"secondary",onClick:()=>l(c.timeTableId),children:""})]})]},c.timeTableName+c.timeTableId)),r&&h.jsx(Dt,{variant:"text",size:"small",textColor:"gray",onClick:t,children:"+  "})]})})]})};function ome({onClose:e,type:t}){const[n,r]=j.useState(""),i=Ut(_=>_.currentTimetable),s=Ap(),[o,a]=j.useState(i?.semesterCode??s.data?.semesterCode??""),{mutate:l}=ZK(),{mutate:c}=Cj(),{mutate:f}=Ej(),p=()=>{t==="edit"&&i&&(c(i.timeTableId),e())},g=_=>{if(_.preventDefault(),i&&t==="edit"){l({timeTableId:i.timeTableId,timeTableName:n}),e();return}t==="create"&&(f({timeTableName:n,semesterCode:o}),e())},y=_=>{_.key==="Escape"&&e()};j.useEffect(()=>(window.addEventListener("keydown",y),()=>{window.removeEventListener("keydown",y)}),[]);const b=_=>{if(t==="edit"){alert("   .");return}a(_)};return h.jsx(Jn,{title:`${t==="edit"?" ":" "}`,onClose:e,isOpen:!0,children:h.jsxs("form",{onSubmit:g,children:[h.jsxs(Jn.Content,{children:[h.jsx(Hr,{children:" "}),h.jsx($l,{columns:{base:2},gap:"gap-2",children:Hy.map(_=>h.jsx(Xn,{label:_.semesterValue,selected:_.semesterCode===o,onClick:()=>b(_.semesterCode)},_.semesterCode))}),h.jsx(cj,{id:"timetableName",required:!0,size:"medium",placeholder:"  .",value:n,onChange:_=>r(_.target.value)},"timetableName")]}),h.jsxs(Jn.Footer,{children:[h.jsx(Dt,{type:"submit",variant:"primary",size:"medium",children:""}),i&&t==="edit"&&h.jsx(Dt,{type:"button",variant:"secondary",textColor:"secondary",size:"medium",onClick:p,children:""})]})]})})}const ame=(e,t)=>{const n=Ut(i=>i.currentTimetable),r=Ut(i=>i.pickTimetable);return j.useEffect(()=>{r(t[0])},[e]),{currentSemester:e,currentTimetable:n}};function lme({currentSemester:e}){const{data:t}=_j(e),{currentTimetable:n}=ame(e,t??[]),r=Ut(c=>c.pickTimetable),{data:i}=Sj(n?.timeTableId,e),[s,o]=j.useState(null),{cancelSchedule:a}=fi(),l=()=>{o("create")};return j.useEffect(()=>{a(void 0,!0)},[e,a]),j.useEffect(()=>{if(!t)return;!n&&t.length>0&&r(t[0]),t.find(f=>f.timeTableId===n?.timeTableId)||r(t[t.length-1])},[t]),h.jsxs(Yn,{className:"px-2 flex flex-col gap-2 relative overflow-hidden",children:[h.jsx("header",{children:h.jsxs(Pe,{align:"items-center",justify:"justify-between",gap:"gap-2",children:[h.jsx(sme,{timetables:t??[],currentTimetable:n,setIsOpenModal:o,openCreateModal:l}),h.jsx(ime,{setIsOpenModal:o}),s&&h.jsx(ome,{type:s,onClose:()=>o(null)})]})}),h.jsx(vG,{schedules:i??[]})]})}function ume({onCloseSearch:e,onOpenFiltering:t}){const n=ka(),{openScheduleModal:r}=fi(),{data:i,isPending:s}=Ao(n),o=mf(i)??[],a=oo(g=>g.filters),l=oo(g=>g.setFilter),c=j.useDeferredValue(yf(o,a)),f=new Wi().toUiData(),{keywords:p}=a;return h.jsx(qp,{children:({expandToMax:g})=>h.jsxs(h.Fragment,{children:[h.jsx(Qp,{title:"",headerType:"add",onClose:e,onClick:()=>r(f)}),h.jsxs("div",{className:"sticky px-2 top-0 bg-white z-10 flex items-center gap-2 py-3",children:[h.jsx(gc,{type:"text",placeholder:"   ",value:p,onChange:y=>l("keywords",y.target.value),onDelete:()=>l("keywords",""),className:"w-full"}),h.jsx(Rr,{"aria-label":"filter",variant:"plain",label:"filter",icon:h.jsx(RN,{className:"w-6 h-6"}),onClick:()=>t()})]}),h.jsx(Pe,{direction:"flex-col",className:"max-h-[70vh] min-h-0 px-2 overflow-y-auto touch-auto",children:h.jsx(JR,{expandToMax:g,subjects:c,isPending:s})})]})})}const cme=(e,t)=>{const n=my(e),r=my(t);return{startHour:n.hour,startMinute:n.minute,endHour:r.hour,endMinute:r.minute}},dme={hour:"10",minute:"00"},my=(e,t=dme)=>{if(!e)return t;let[n,r]=e.split(":").map(Number);return Number.isNaN(n)&&(n=Number(t.hour)),Number.isNaN(r)&&(r=Number(t.minute)),{hour:n.toString(),minute:r.toString().padStart(2,"0")}},H8=e=>{const{hour:t,minute:n}=e;return`${t}:${n}`};function fme(e,t){return e.some(r=>r.dayOfWeeks===t)?e.filter(r=>r.dayOfWeeks!==t):[...e,{dayOfWeeks:t,startTime:"",endTime:""}]}function hme(e,t,n){const r=my(e.startTime),i=my(e.endTime);let s=r,o=i;switch(t){case"startHour":s={...r,hour:n};break;case"startMinute":s={...r,minute:n};break;case"endHour":o={...i,hour:n};break;case"endMinute":o={...i,minute:n};break}return{...e,startTime:H8(s),endTime:H8(o)}}const i0=Array.from({length:24},(e,t)=>`${t}`),s0=["00","10","20","30","40","50"];function pme({timeRange:e,onChange:t,day:n}){const r=(i,s)=>{if(n){t(i,s,n);return}t(i,s)};return h.jsx("div",{className:" w-full h-3 flex gap-2 flex-col justify-center",children:h.jsxs("div",{className:"relative w-full flex gap-2 flex-wrap",children:[h.jsx("select",{name:"startHour",value:e.startHour??i0[8],onChange:i=>r("startHour",i.target.value),className:"bg-gray-100 px-3 py-2 rounded-md text-xs text-gray-600 w-fit",children:i0.map(i=>h.jsx("option",{value:i,children:i},i))}),h.jsx("select",{name:"startMinute",value:e.startMinute??s0[0],onChange:i=>r("startMinute",i.target.value),className:"bg-gray-100 px-3 py-2 rounded-md text-xs text-gray-600 w-fit",children:s0.map(i=>h.jsx("option",{value:i,children:i},i))}),h.jsx("span",{className:"text-gray-400 text-sm mx-1",children:"~"}),h.jsx("select",{name:"endHour",value:e.endHour??i0[9],onChange:i=>r("endHour",i.target.value),className:"bg-gray-100 px-3 py-2 rounded-md text-xs text-gray-600 w-fit",children:i0.map(i=>h.jsx("option",{value:i,children:i},i))}),h.jsx("select",{name:"endMinute",value:e.endMinute??s0[0],onChange:i=>r("endMinute",i.target.value),className:"bg-gray-100 px-3 py-2 rounded-md text-xs text-gray-600 w-fit",children:s0.map(i=>h.jsx("option",{value:i,children:i},i))})]})})}function ZR(){const e=Ut(o=>o.options.isMobile),{schedule:t}=Dp(),{editSchedule:n}=fi(),r=[{id:"subjectName",name:"",value:t?.subjectName??""},{id:"professorName",name:"",value:t?.professorName??""},{id:"location",name:"",value:t?.location??""}],i=o=>{n(a=>({...a,timeSlots:fme(a.timeSlots,o)}))},s=(o,a,l)=>{n(c=>{const f=c.timeSlots.map(p=>p.dayOfWeeks===l?hme(p,o,a):p);return{...c,timeSlots:f}})};return h.jsxs(Pe,{direction:"flex-col",gap:e?"gap-4":"gap-5",children:[r.map(({id:o,name:a,value:l})=>h.jsx(cj,{size:"medium",id:o,placeholder:`${a} `,value:l,label:a,onChange:c=>n(f=>({...f,[o]:c.target.value})),required:!0},o)),h.jsxs(Pe,{gap:"gap-2",direction:"flex-col",children:[h.jsx(Hr,{children:""}),h.jsx(Pe,{direction:"flex-wrap",children:Qy.map(o=>h.jsx(Xn,{label:o,selected:t.timeSlots.some(a=>a.dayOfWeeks===o),onClick:()=>i(o)},o))})]}),t.timeSlots.map(o=>h.jsxs(Pe,{direction:"flex-col",gap:"gap-4",children:[h.jsx(Hr,{children:o.dayOfWeeks}),h.jsx(pme,{day:o.dayOfWeeks,timeRange:cme(o.startTime,o.endTime),onChange:s})]},o.dayOfWeeks))]})}function mme(){const{modalActionType:e}=Dp(),t=e===cr.CREATE?"":"",{saveSchedule:n,deleteSchedule:r,cancelSchedule:i}=fi(),s=hs(),o=c=>{c.key==="Escape"&&i(c)};j.useEffect(()=>(document.addEventListener("keydown",o),()=>{document.removeEventListener("keydown",o)}),[]);const a=c=>{n(c)},l=c=>{r(c)};return h.jsx(Jn,{title:`  ${t}`,onClose:i,isOpen:!0,children:h.jsxs("form",{onSubmit:a,className:"flex flex-col gap-5",children:[h.jsx(Jn.Content,{children:h.jsx(ZR,{})}),h.jsxs(Jn.Footer,{children:[(e===cr.EDIT||e===cr.VIEW)&&h.jsx(Dt,{variant:"secondary",size:s?"small":"medium",onClick:l,children:""}),h.jsx(Dt,{type:"submit",variant:"primary",size:s?"small":"medium",children:""})]})]})})}const eP=e=>j.createElement("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},j.createElement("path",{d:"M8.5 4.6665C8.5 4.5339 8.44732 4.40672 8.35355 4.31295C8.25979 4.21918 8.13261 4.1665 8 4.1665C7.86739 4.1665 7.74022 4.21918 7.64645 4.31295C7.55268 4.40672 7.5 4.5339 7.5 4.6665V7.99984C7.49996 8.08461 7.52148 8.168 7.56253 8.24217C7.60358 8.31634 7.66282 8.37885 7.73467 8.42384L9.73467 9.67384C9.84712 9.74421 9.98292 9.76703 10.1122 9.73727C10.1762 9.72254 10.2367 9.69534 10.2902 9.65723C10.3437 9.61912 10.3892 9.57085 10.424 9.51517C10.4588 9.45949 10.4824 9.39749 10.4933 9.33272C10.5041 9.26794 10.5022 9.20165 10.4874 9.13764C10.4727 9.07363 10.4455 9.01315 10.4074 8.95965C10.3693 8.90615 10.321 8.86068 10.2653 8.82584L8.5 7.7225V4.6665Z",fill:"#D1D5DB"}),j.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.99996 2.1665C6.45286 2.1665 4.96913 2.78109 3.87517 3.87505C2.78121 4.96901 2.16663 6.45274 2.16663 7.99984C2.16663 9.54693 2.78121 11.0307 3.87517 12.1246C4.96913 13.2186 6.45286 13.8332 7.99996 13.8332C9.54706 13.8332 11.0308 13.2186 12.1248 12.1246C13.2187 11.0307 13.8333 9.54693 13.8333 7.99984C13.8333 6.45274 13.2187 4.96901 12.1248 3.87505C11.0308 2.78109 9.54706 2.1665 7.99996 2.1665ZM3.16663 7.99984C3.16663 7.36512 3.29164 6.73661 3.53454 6.1502C3.77744 5.56379 4.13346 5.03097 4.58228 4.58215C5.03109 4.13334 5.56392 3.77732 6.15032 3.53442C6.73673 3.29152 7.36524 3.1665 7.99996 3.1665C8.63468 3.1665 9.26319 3.29152 9.8496 3.53442C10.436 3.77732 10.9688 4.13334 11.4176 4.58215C11.8665 5.03097 12.2225 5.56379 12.4654 6.1502C12.7083 6.73661 12.8333 7.36512 12.8333 7.99984C12.8333 9.28172 12.3241 10.5111 11.4176 11.4175C10.5112 12.3239 9.28184 12.8332 7.99996 12.8332C6.71808 12.8332 5.4887 12.3239 4.58228 11.4175C3.67585 10.5111 3.16663 9.28172 3.16663 7.99984Z",fill:"#D1D5DB"})),tP=e=>j.createElement("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},j.createElement("path",{d:"M13.7069 6.79266L8.70688 1.79266C8.51936 1.60527 8.26511 1.5 8.00001 1.5C7.7349 1.5 7.48065 1.60527 7.29313 1.79266L2.29313 6.79266C2.19982 6.88528 2.12586 6.99552 2.07553 7.11698C2.02521 7.23844 1.99954 7.36869 2.00001 7.50016V13.5002C2.00001 13.6328 2.05268 13.7599 2.14645 13.8537C2.24022 13.9475 2.3674 14.0002 2.50001 14.0002H6.50001C6.63261 14.0002 6.75979 13.9475 6.85356 13.8537C6.94733 13.7599 7.00001 13.6328 7.00001 13.5002V10.0002H9.00001V13.5002C9.00001 13.6328 9.05268 13.7599 9.14645 13.8537C9.24022 13.9475 9.3674 14.0002 9.50001 14.0002H13.5C13.6326 14.0002 13.7598 13.9475 13.8536 13.8537C13.9473 13.7599 14 13.6328 14 13.5002V7.50016C14.0005 7.36869 13.9748 7.23844 13.9245 7.11698C13.8742 6.99552 13.8002 6.88528 13.7069 6.79266ZM13 13.0002H10V9.50016C10 9.36755 9.94733 9.24038 9.85356 9.14661C9.75979 9.05284 9.63261 9.00016 9.50001 9.00016H6.50001C6.3674 9.00016 6.24022 9.05284 6.14645 9.14661C6.05268 9.24038 6.00001 9.36755 6.00001 9.50016V13.0002H3.00001V7.50016L8.00001 2.50016L13 7.50016V13.0002Z",fill:"#D1D5DB"}));function gme(){const e=ka(),{schedule:t}=Dp(),{deleteSchedule:n}=fi(),r=va(a=>a.closeBottomSheet),{data:i}=po(e),s=a=>{confirm("  ?")&&n(a)},o=i?.find(a=>a.subjectId===t.subjectId);return h.jsxs(Jn,{title:t.subjectName,onClose:()=>r("info"),isOpen:!0,children:[h.jsx(Jn.Content,{children:h.jsxs(Pe,{direction:"flex-col",gap:"gap-1",className:"w-80 text-sm text-gray-500",children:[h.jsx("p",{children:t.professorName??"  "}),h.jsxs(Pe,{align:"items-center",gap:"gap-2",children:[h.jsx(eP,{className:"w-4 h-4 text-gray-400"}),h.jsx("p",{children:o?.lesnTime})]}),h.jsxs(Pe,{align:"items-center",gap:"gap-2",children:[h.jsx(tP,{className:"w-4 h-4 text-gray-400"}),h.jsx("p",{children:o?.lesnRoom??"  "})]}),h.jsxs("p",{children:[o?.manageDeptNm," ",o?.studentYear+""," ",h.jsx("span",{className:"text-blue-500",children:o?.tmNum[0]+""})]})]})}),h.jsx(Jn.Footer,{children:h.jsx(Dt,{variant:"text",size:"medium",textColor:"secondary",onClick:s,children:""})})]})}function yme(){const{modalActionType:e}=Dp(),{cancelSchedule:t,deleteSchedule:n,saveSchedule:r}=fi(),i=l=>{t(l)},s=e===cr.CREATE?"":"",o=hs(),a=l=>{r(l)};return h.jsxs(qp,{children:[h.jsx(Qp,{title:`  ${s}`,headerType:"close",onClose:i}),h.jsxs("form",{onSubmit:a,className:"flex flex-col gap-5",children:[h.jsx(Pe,{direction:"flex-col",className:"py-5 px-2 overflow-y-auto max-h-[80vh]",children:h.jsx(ZR,{})}),h.jsxs(Pe,{justify:"justify-end",gap:o?"gap-2":"gap-4",className:"p-4",children:[(e===cr.EDIT||e===cr.VIEW)&&h.jsx(Dt,{variant:"secondary",size:o?"small":"medium",onClick:n,children:""}),h.jsx(Dt,{type:"submit",variant:"primary",size:o?"small":"medium",children:""})]})]})]})}function vme(){const e=ka(),{schedule:t}=Dp(),{deleteSchedule:n,cancelSchedule:r}=fi(),{data:i}=po(e),s=a=>{confirm("  ?")&&n(a)},o=i?.find(a=>a.subjectId===t.subjectId);return h.jsxs(qp,{children:[h.jsx(Qp,{headerType:"close",onClose:r}),h.jsxs(Pe,{direction:"flex-col",className:"px-2 py-3 w-full text-sm text-gray-500 gap-2",children:[h.jsx(Gt,{level:3,children:t.subjectName}),h.jsx("p",{className:"text-sm text-gray-500",children:t.professorName??"  "}),h.jsxs(Pe,{align:"items-center",children:[h.jsx(eP,{className:"w-4 h-4 text-gray-400"}),h.jsx("span",{children:o?.lesnTime})]}),h.jsxs(Pe,{align:"items-center",children:[h.jsx(tP,{className:"w-4 h-4 text-gray-400"}),h.jsx("span",{children:o?.lesnRoom??"  "})]}),h.jsxs(Pe,{children:[h.jsx("span",{children:o?.manageDeptNm}),h.jsxs("span",{children:[" ",o?.studentYear+""]}),h.jsx("span",{className:"text-blue-500 text-sm",children:o?.tmNum[0]+""})]}),h.jsxs(Pe,{children:[h.jsxs("span",{children:[o?.curiTypeCdNm??""," "]}),h.jsx("span",{children:o?.remark??""})]}),h.jsx(Pe,{justify:"justify-end",className:"px-2",children:h.jsx(Dt,{variant:"text",size:"medium",textColor:"secondary",onClick:s,children:""})})]})]})}function xme(){return hs()?h.jsx(bme,{}):h.jsx(wme,{})}function bme(){const e=va(f=>f.type),t=va(f=>f.closeBottomSheet),n=va(f=>f.openBottomSheet),r=()=>{t("search")},i=()=>{t("filter"),n("search")},s=()=>{n("search")},o=()=>{n("filter")},a=oo(f=>f.filters),l=oo(f=>f.setFilter),c=oo(f=>f.resetFilters);return h.jsxs(h.Fragment,{children:[h.jsx(Au,{when:e.search.isOpen,children:h.jsx(ume,{onCloseSearch:r,onOpenFiltering:o})}),h.jsx(Au,{when:e.filter.isOpen,children:h.jsx(pS,{onCloseFiltering:i,filters:a,setFilter:l,resetFilter:c})}),h.jsx(Au,{when:e.edit.isOpen,children:h.jsx(yme,{})}),h.jsx(Au,{when:e.info.isOpen,children:h.jsx(vme,{})}),h.jsx(Au,{when:!e.search.isOpen&&!e.filter.isOpen&&!e.edit.isOpen&&!e.info.isOpen,children:h.jsx("div",{className:"fixed bottom-4 right-4 z-5",children:h.jsx(Dt,{size:"small",variant:"circle",onClick:s,children:h.jsx(MN,{fill:"#ffffff",className:"w-6 h-6 cursor-pointer"})})})})]})}function wme(){const e=va(t=>t.type);return h.jsxs(h.Fragment,{children:[h.jsx(Au,{when:e.edit.isOpen,children:h.jsx(mme,{})}),h.jsx(Au,{when:e.info.isOpen,children:h.jsx(gme,{})})]})}function Au({when:e,children:t}){return e?h.jsx(h.Fragment,{children:t}):null}function _me(){const{data:e}=Ap("timetable"),[t,n]=S7(),r=e?.semesterCode,i=t.get("semester")??r;return j.useEffect(()=>{!t.has("semester")&&r&&n({semester:r},{replace:!0})},[t,r,n]),{currentSemester:i??lo.semesterCode,defaultSemester:r,isLoading:!e}}function Sme(){const{currentSemester:e}=_me();return h.jsxs("div",{className:"px-4 py-2",children:[h.jsx(Gr,{children:h.jsx("title",{children:"ALLCLL | "})}),h.jsxs("div",{className:"grid md:grid-cols-5 gap-4 mb-4",children:[h.jsx("div",{className:"md:col-span-3 w-full",children:h.jsxs(Pe,{direction:"flex-col",gap:"gap-2",children:[h.jsx(Gt,{level:1,children:""}),h.jsx(Gpe,{currentSemester:e}),h.jsx(lme,{currentSemester:e})]})}),h.jsx("div",{className:"w-full md:col-span-2 hidden md:block",children:h.jsx(qpe,{})})]}),h.jsx(xme,{})]})}const Cme=vA([{path:"/",element:h.jsx(l4,{}),errorElement:h.jsx(Nh,{}),children:[{path:"/",element:h.jsx(Bte,{})},{path:"survey",element:h.jsx(eoe,{})},{path:"about",element:h.jsx(Zse,{})},{path:"faq",element:h.jsx(Rfe,{})}]},{path:"wishes",element:h.jsx(u4,{serviceId:"baskets"}),errorElement:h.jsx(she,{}),children:[{path:"",element:h.jsx(Vfe,{})},{path:":id",element:h.jsx(rhe,{})}]},{path:"live",element:h.jsx(u4,{serviceId:"live"}),errorElement:h.jsx(Nh,{}),children:[{path:"",element:h.jsx(Yse,{})}]},{path:"simulation",element:h.jsx(qK,{}),errorElement:h.jsx(Nh,{}),children:[{path:"",element:h.jsx(xpe,{})},{path:"logs",element:h.jsx(jpe,{})},{path:"logs/:runId",element:h.jsx(Bpe,{})}]},{path:"timetable",element:h.jsx(l4,{}),children:[{index:!0,element:h.jsx(Sme,{})}],errorElement:h.jsx(Nh,{})},{path:"*",element:h.jsx(qR,{})}]),nP=new VA;mD.init("rqww72xge1"),$V.initialize(),hD.initialize("G-YY1G1HPVMF");window.__TANSTACK_QUERY_CLIENT__=nP;Eme();function Eme(){sO.createRoot(document.getElementById("root")).render(h.jsx(j.StrictMode,{children:h.jsx(YA,{client:nP,children:h.jsx(vQ,{children:h.jsx(IA,{router:Cme})})})})),"serviceWorker"in navigator&&navigator.serviceWorker.register("/serviceWorker.js").then(function(e){console.log("Service Worker registered with scope:",e.scope)}).catch(function(e){console.log("Service Worker registration failed:",e)})}
//# sourceMappingURL=index-DseVHhf8.js.map
