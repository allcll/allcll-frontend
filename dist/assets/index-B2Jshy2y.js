try{let e=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},t=new e.Error().stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="7b976b72-9b88-4b19-91f5-585dea43ce77",e._sentryDebugIdIdentifier="sentry-dbid-7b976b72-9b88-4b19-91f5-585dea43ce77")}catch{}{let e=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};e.SENTRY_RELEASE={id:"db32a2c81ac5b23bdc473e788ae9e8df3f02cdae"}}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();const sP="modulepreload",oP=function(e){return"/"+e},_3={},Mh=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){let u=function(f){return Promise.all(f.map(h=>Promise.resolve(h).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};var o=u;document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=a?.nonce||a?.getAttribute("nonce");i=u(n.map(f=>{if(f=oP(f),f in _3)return;_3[f]=!0;const h=f.endsWith(".css"),g=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${g}`))return;const y=document.createElement("link");if(y.rel=h?"stylesheet":sP,h||(y.as="script"),y.crossOrigin="",y.href=f,l&&y.setAttribute("nonce",l),document.head.appendChild(y),h)return new Promise((b,_)=>{y.addEventListener("load",b),y.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${f}`)))})}))}function s(a){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a}return i.then(a=>{for(const l of a||[])l.status==="rejected"&&s(l.reason);return t().catch(s)})};var $f=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ni(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function aP(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var n=function r(){var i=!1;try{i=this instanceof r}catch{}return i?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var sv={exports:{}},xf={},ov={exports:{}},Ht={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S3;function lP(){if(S3)return Ht;S3=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),h=Symbol.iterator;function g(G){return G===null||typeof G!="object"?null:(G=h&&G[h]||G["@@iterator"],typeof G=="function"?G:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,_={};function E(G,ye,H){this.props=G,this.context=ye,this.refs=_,this.updater=H||y}E.prototype.isReactComponent={},E.prototype.setState=function(G,ye){if(typeof G!="object"&&typeof G!="function"&&G!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,G,ye,"setState")},E.prototype.forceUpdate=function(G){this.updater.enqueueForceUpdate(this,G,"forceUpdate")};function C(){}C.prototype=E.prototype;function P(G,ye,H){this.props=G,this.context=ye,this.refs=_,this.updater=H||y}var O=P.prototype=new C;O.constructor=P,b(O,E.prototype),O.isPureReactComponent=!0;var z=Array.isArray,B=Object.prototype.hasOwnProperty,j={current:null},M={key:!0,ref:!0,__self:!0,__source:!0};function U(G,ye,H){var Oe,Ce={},Te=null,Ye=null;if(ye!=null)for(Oe in ye.ref!==void 0&&(Ye=ye.ref),ye.key!==void 0&&(Te=""+ye.key),ye)B.call(ye,Oe)&&!M.hasOwnProperty(Oe)&&(Ce[Oe]=ye[Oe]);var qe=arguments.length-2;if(qe===1)Ce.children=H;else if(1<qe){for(var Ne=Array(qe),ct=0;ct<qe;ct++)Ne[ct]=arguments[ct+2];Ce.children=Ne}if(G&&G.defaultProps)for(Oe in qe=G.defaultProps,qe)Ce[Oe]===void 0&&(Ce[Oe]=qe[Oe]);return{$$typeof:e,type:G,key:Te,ref:Ye,props:Ce,_owner:j.current}}function $(G,ye){return{$$typeof:e,type:G.type,key:ye,ref:G.ref,props:G.props,_owner:G._owner}}function D(G){return typeof G=="object"&&G!==null&&G.$$typeof===e}function ee(G){var ye={"=":"=0",":":"=2"};return"$"+G.replace(/[=:]/g,function(H){return ye[H]})}var X=/\/+/g;function re(G,ye){return typeof G=="object"&&G!==null&&G.key!=null?ee(""+G.key):ye.toString(36)}function Q(G,ye,H,Oe,Ce){var Te=typeof G;(Te==="undefined"||Te==="boolean")&&(G=null);var Ye=!1;if(G===null)Ye=!0;else switch(Te){case"string":case"number":Ye=!0;break;case"object":switch(G.$$typeof){case e:case t:Ye=!0}}if(Ye)return Ye=G,Ce=Ce(Ye),G=Oe===""?"."+re(Ye,0):Oe,z(Ce)?(H="",G!=null&&(H=G.replace(X,"$&/")+"/"),Q(Ce,ye,H,"",function(ct){return ct})):Ce!=null&&(D(Ce)&&(Ce=$(Ce,H+(!Ce.key||Ye&&Ye.key===Ce.key?"":(""+Ce.key).replace(X,"$&/")+"/")+G)),ye.push(Ce)),1;if(Ye=0,Oe=Oe===""?".":Oe+":",z(G))for(var qe=0;qe<G.length;qe++){Te=G[qe];var Ne=Oe+re(Te,qe);Ye+=Q(Te,ye,H,Ne,Ce)}else if(Ne=g(G),typeof Ne=="function")for(G=Ne.call(G),qe=0;!(Te=G.next()).done;)Te=Te.value,Ne=Oe+re(Te,qe++),Ye+=Q(Te,ye,H,Ne,Ce);else if(Te==="object")throw ye=String(G),Error("Objects are not valid as a React child (found: "+(ye==="[object Object]"?"object with keys {"+Object.keys(G).join(", ")+"}":ye)+"). If you meant to render a collection of children, use an array instead.");return Ye}function q(G,ye,H){if(G==null)return G;var Oe=[],Ce=0;return Q(G,Oe,"","",function(Te){return ye.call(H,Te,Ce++)}),Oe}function V(G){if(G._status===-1){var ye=G._result;ye=ye(),ye.then(function(H){(G._status===0||G._status===-1)&&(G._status=1,G._result=H)},function(H){(G._status===0||G._status===-1)&&(G._status=2,G._result=H)}),G._status===-1&&(G._status=0,G._result=ye)}if(G._status===1)return G._result.default;throw G._result}var ne={current:null},Z={transition:null},fe={ReactCurrentDispatcher:ne,ReactCurrentBatchConfig:Z,ReactCurrentOwner:j};function F(){throw Error("act(...) is not supported in production builds of React.")}return Ht.Children={map:q,forEach:function(G,ye,H){q(G,function(){ye.apply(this,arguments)},H)},count:function(G){var ye=0;return q(G,function(){ye++}),ye},toArray:function(G){return q(G,function(ye){return ye})||[]},only:function(G){if(!D(G))throw Error("React.Children.only expected to receive a single React element child.");return G}},Ht.Component=E,Ht.Fragment=n,Ht.Profiler=i,Ht.PureComponent=P,Ht.StrictMode=r,Ht.Suspense=l,Ht.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fe,Ht.act=F,Ht.cloneElement=function(G,ye,H){if(G==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+G+".");var Oe=b({},G.props),Ce=G.key,Te=G.ref,Ye=G._owner;if(ye!=null){if(ye.ref!==void 0&&(Te=ye.ref,Ye=j.current),ye.key!==void 0&&(Ce=""+ye.key),G.type&&G.type.defaultProps)var qe=G.type.defaultProps;for(Ne in ye)B.call(ye,Ne)&&!M.hasOwnProperty(Ne)&&(Oe[Ne]=ye[Ne]===void 0&&qe!==void 0?qe[Ne]:ye[Ne])}var Ne=arguments.length-2;if(Ne===1)Oe.children=H;else if(1<Ne){qe=Array(Ne);for(var ct=0;ct<Ne;ct++)qe[ct]=arguments[ct+2];Oe.children=qe}return{$$typeof:e,type:G.type,key:Ce,ref:Te,props:Oe,_owner:Ye}},Ht.createContext=function(G){return G={$$typeof:o,_currentValue:G,_currentValue2:G,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},G.Provider={$$typeof:s,_context:G},G.Consumer=G},Ht.createElement=U,Ht.createFactory=function(G){var ye=U.bind(null,G);return ye.type=G,ye},Ht.createRef=function(){return{current:null}},Ht.forwardRef=function(G){return{$$typeof:a,render:G}},Ht.isValidElement=D,Ht.lazy=function(G){return{$$typeof:f,_payload:{_status:-1,_result:G},_init:V}},Ht.memo=function(G,ye){return{$$typeof:u,type:G,compare:ye===void 0?null:ye}},Ht.startTransition=function(G){var ye=Z.transition;Z.transition={};try{G()}finally{Z.transition=ye}},Ht.unstable_act=F,Ht.useCallback=function(G,ye){return ne.current.useCallback(G,ye)},Ht.useContext=function(G){return ne.current.useContext(G)},Ht.useDebugValue=function(){},Ht.useDeferredValue=function(G){return ne.current.useDeferredValue(G)},Ht.useEffect=function(G,ye){return ne.current.useEffect(G,ye)},Ht.useId=function(){return ne.current.useId()},Ht.useImperativeHandle=function(G,ye,H){return ne.current.useImperativeHandle(G,ye,H)},Ht.useInsertionEffect=function(G,ye){return ne.current.useInsertionEffect(G,ye)},Ht.useLayoutEffect=function(G,ye){return ne.current.useLayoutEffect(G,ye)},Ht.useMemo=function(G,ye){return ne.current.useMemo(G,ye)},Ht.useReducer=function(G,ye,H){return ne.current.useReducer(G,ye,H)},Ht.useRef=function(G){return ne.current.useRef(G)},Ht.useState=function(G){return ne.current.useState(G)},Ht.useSyncExternalStore=function(G,ye,H){return ne.current.useSyncExternalStore(G,ye,H)},Ht.useTransition=function(){return ne.current.useTransition()},Ht.version="18.3.1",Ht}var E3;function B0(){return E3||(E3=1,ov.exports=lP()),ov.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k3;function cP(){if(k3)return xf;k3=1;var e=B0(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function o(a,l,u){var f,h={},g=null,y=null;u!==void 0&&(g=""+u),l.key!==void 0&&(g=""+l.key),l.ref!==void 0&&(y=l.ref);for(f in l)r.call(l,f)&&!s.hasOwnProperty(f)&&(h[f]=l[f]);if(a&&a.defaultProps)for(f in l=a.defaultProps,l)h[f]===void 0&&(h[f]=l[f]);return{$$typeof:t,type:a,key:g,ref:y,props:h,_owner:i.current}}return xf.Fragment=n,xf.jsx=o,xf.jsxs=o,xf}var C3;function uP(){return C3||(C3=1,sv.exports=cP()),sv.exports}var p=uP(),I=B0();const wn=Ni(I);var Sm={},av={exports:{}},xi={},lv={exports:{}},cv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T3;function dP(){return T3||(T3=1,function(e){function t(Z,fe){var F=Z.length;Z.push(fe);e:for(;0<F;){var G=F-1>>>1,ye=Z[G];if(0<i(ye,fe))Z[G]=fe,Z[F]=ye,F=G;else break e}}function n(Z){return Z.length===0?null:Z[0]}function r(Z){if(Z.length===0)return null;var fe=Z[0],F=Z.pop();if(F!==fe){Z[0]=F;e:for(var G=0,ye=Z.length,H=ye>>>1;G<H;){var Oe=2*(G+1)-1,Ce=Z[Oe],Te=Oe+1,Ye=Z[Te];if(0>i(Ce,F))Te<ye&&0>i(Ye,Ce)?(Z[G]=Ye,Z[Te]=F,G=Te):(Z[G]=Ce,Z[Oe]=F,G=Oe);else if(Te<ye&&0>i(Ye,F))Z[G]=Ye,Z[Te]=F,G=Te;else break e}}return fe}function i(Z,fe){var F=Z.sortIndex-fe.sortIndex;return F!==0?F:Z.id-fe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],u=[],f=1,h=null,g=3,y=!1,b=!1,_=!1,E=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function O(Z){for(var fe=n(u);fe!==null;){if(fe.callback===null)r(u);else if(fe.startTime<=Z)r(u),fe.sortIndex=fe.expirationTime,t(l,fe);else break;fe=n(u)}}function z(Z){if(_=!1,O(Z),!b)if(n(l)!==null)b=!0,V(B);else{var fe=n(u);fe!==null&&ne(z,fe.startTime-Z)}}function B(Z,fe){b=!1,_&&(_=!1,C(U),U=-1),y=!0;var F=g;try{for(O(fe),h=n(l);h!==null&&(!(h.expirationTime>fe)||Z&&!ee());){var G=h.callback;if(typeof G=="function"){h.callback=null,g=h.priorityLevel;var ye=G(h.expirationTime<=fe);fe=e.unstable_now(),typeof ye=="function"?h.callback=ye:h===n(l)&&r(l),O(fe)}else r(l);h=n(l)}if(h!==null)var H=!0;else{var Oe=n(u);Oe!==null&&ne(z,Oe.startTime-fe),H=!1}return H}finally{h=null,g=F,y=!1}}var j=!1,M=null,U=-1,$=5,D=-1;function ee(){return!(e.unstable_now()-D<$)}function X(){if(M!==null){var Z=e.unstable_now();D=Z;var fe=!0;try{fe=M(!0,Z)}finally{fe?re():(j=!1,M=null)}}else j=!1}var re;if(typeof P=="function")re=function(){P(X)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,q=Q.port2;Q.port1.onmessage=X,re=function(){q.postMessage(null)}}else re=function(){E(X,0)};function V(Z){M=Z,j||(j=!0,re())}function ne(Z,fe){U=E(function(){Z(e.unstable_now())},fe)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Z){Z.callback=null},e.unstable_continueExecution=function(){b||y||(b=!0,V(B))},e.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<Z?Math.floor(1e3/Z):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(Z){switch(g){case 1:case 2:case 3:var fe=3;break;default:fe=g}var F=g;g=fe;try{return Z()}finally{g=F}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(Z,fe){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var F=g;g=Z;try{return fe()}finally{g=F}},e.unstable_scheduleCallback=function(Z,fe,F){var G=e.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?G+F:G):F=G,Z){case 1:var ye=-1;break;case 2:ye=250;break;case 5:ye=1073741823;break;case 4:ye=1e4;break;default:ye=5e3}return ye=F+ye,Z={id:f++,callback:fe,priorityLevel:Z,startTime:F,expirationTime:ye,sortIndex:-1},F>G?(Z.sortIndex=F,t(u,Z),n(l)===null&&Z===n(u)&&(_?(C(U),U=-1):_=!0,ne(z,F-G))):(Z.sortIndex=ye,t(l,Z),b||y||(b=!0,V(B))),Z},e.unstable_shouldYield=ee,e.unstable_wrapCallback=function(Z){var fe=g;return function(){var F=g;g=fe;try{return Z.apply(this,arguments)}finally{g=F}}}}(cv)),cv}var j3;function fP(){return j3||(j3=1,lv.exports=dP()),lv.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N3;function hP(){if(N3)return xi;N3=1;var e=B0(),t=fP();function n(c){for(var d="https://reactjs.org/docs/error-decoder.html?invariant="+c,m=1;m<arguments.length;m++)d+="&args[]="+encodeURIComponent(arguments[m]);return"Minified React error #"+c+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function s(c,d){o(c,d),o(c+"Capture",d)}function o(c,d){for(i[c]=d,c=0;c<d.length;c++)r.add(d[c])}var a=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),l=Object.prototype.hasOwnProperty,u=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},h={};function g(c){return l.call(h,c)?!0:l.call(f,c)?!1:u.test(c)?h[c]=!0:(f[c]=!0,!1)}function y(c,d,m,x){if(m!==null&&m.type===0)return!1;switch(typeof d){case"function":case"symbol":return!0;case"boolean":return x?!1:m!==null?!m.acceptsBooleans:(c=c.toLowerCase().slice(0,5),c!=="data-"&&c!=="aria-");default:return!1}}function b(c,d,m,x){if(d===null||typeof d>"u"||y(c,d,m,x))return!0;if(x)return!1;if(m!==null)switch(m.type){case 3:return!d;case 4:return d===!1;case 5:return isNaN(d);case 6:return isNaN(d)||1>d}return!1}function _(c,d,m,x,S,T,A){this.acceptsBooleans=d===2||d===3||d===4,this.attributeName=x,this.attributeNamespace=S,this.mustUseProperty=m,this.propertyName=c,this.type=d,this.sanitizeURL=T,this.removeEmptyString=A}var E={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(c){E[c]=new _(c,0,!1,c,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(c){var d=c[0];E[d]=new _(d,1,!1,c[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(c){E[c]=new _(c,2,!1,c.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(c){E[c]=new _(c,2,!1,c,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(c){E[c]=new _(c,3,!1,c.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(c){E[c]=new _(c,3,!0,c,null,!1,!1)}),["capture","download"].forEach(function(c){E[c]=new _(c,4,!1,c,null,!1,!1)}),["cols","rows","size","span"].forEach(function(c){E[c]=new _(c,6,!1,c,null,!1,!1)}),["rowSpan","start"].forEach(function(c){E[c]=new _(c,5,!1,c.toLowerCase(),null,!1,!1)});var C=/[\-:]([a-z])/g;function P(c){return c[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(c){var d=c.replace(C,P);E[d]=new _(d,1,!1,c,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(c){var d=c.replace(C,P);E[d]=new _(d,1,!1,c,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(c){var d=c.replace(C,P);E[d]=new _(d,1,!1,c,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(c){E[c]=new _(c,1,!1,c.toLowerCase(),null,!1,!1)}),E.xlinkHref=new _("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(c){E[c]=new _(c,1,!1,c.toLowerCase(),null,!0,!0)});function O(c,d,m,x){var S=E.hasOwnProperty(d)?E[d]:null;(S!==null?S.type!==0:x||!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(b(d,m,S,x)&&(m=null),x||S===null?g(d)&&(m===null?c.removeAttribute(d):c.setAttribute(d,""+m)):S.mustUseProperty?c[S.propertyName]=m===null?S.type===3?!1:"":m:(d=S.attributeName,x=S.attributeNamespace,m===null?c.removeAttribute(d):(S=S.type,m=S===3||S===4&&m===!0?"":""+m,x?c.setAttributeNS(x,d,m):c.setAttribute(d,m))))}var z=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,B=Symbol.for("react.element"),j=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),U=Symbol.for("react.strict_mode"),$=Symbol.for("react.profiler"),D=Symbol.for("react.provider"),ee=Symbol.for("react.context"),X=Symbol.for("react.forward_ref"),re=Symbol.for("react.suspense"),Q=Symbol.for("react.suspense_list"),q=Symbol.for("react.memo"),V=Symbol.for("react.lazy"),ne=Symbol.for("react.offscreen"),Z=Symbol.iterator;function fe(c){return c===null||typeof c!="object"?null:(c=Z&&c[Z]||c["@@iterator"],typeof c=="function"?c:null)}var F=Object.assign,G;function ye(c){if(G===void 0)try{throw Error()}catch(m){var d=m.stack.trim().match(/\n( *(at )?)/);G=d&&d[1]||""}return`
`+G+c}var H=!1;function Oe(c,d){if(!c||H)return"";H=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(d)if(d=function(){throw Error()},Object.defineProperty(d.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(d,[])}catch(be){var x=be}Reflect.construct(c,[],d)}else{try{d.call()}catch(be){x=be}c.call(d.prototype)}else{try{throw Error()}catch(be){x=be}c()}}catch(be){if(be&&x&&typeof be.stack=="string"){for(var S=be.stack.split(`
`),T=x.stack.split(`
`),A=S.length-1,K=T.length-1;1<=A&&0<=K&&S[A]!==T[K];)K--;for(;1<=A&&0<=K;A--,K--)if(S[A]!==T[K]){if(A!==1||K!==1)do if(A--,K--,0>K||S[A]!==T[K]){var ie=`
`+S[A].replace(" at new "," at ");return c.displayName&&ie.includes("<anonymous>")&&(ie=ie.replace("<anonymous>",c.displayName)),ie}while(1<=A&&0<=K);break}}}finally{H=!1,Error.prepareStackTrace=m}return(c=c?c.displayName||c.name:"")?ye(c):""}function Ce(c){switch(c.tag){case 5:return ye(c.type);case 16:return ye("Lazy");case 13:return ye("Suspense");case 19:return ye("SuspenseList");case 0:case 2:case 15:return c=Oe(c.type,!1),c;case 11:return c=Oe(c.type.render,!1),c;case 1:return c=Oe(c.type,!0),c;default:return""}}function Te(c){if(c==null)return null;if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case M:return"Fragment";case j:return"Portal";case $:return"Profiler";case U:return"StrictMode";case re:return"Suspense";case Q:return"SuspenseList"}if(typeof c=="object")switch(c.$$typeof){case ee:return(c.displayName||"Context")+".Consumer";case D:return(c._context.displayName||"Context")+".Provider";case X:var d=c.render;return c=c.displayName,c||(c=d.displayName||d.name||"",c=c!==""?"ForwardRef("+c+")":"ForwardRef"),c;case q:return d=c.displayName||null,d!==null?d:Te(c.type)||"Memo";case V:d=c._payload,c=c._init;try{return Te(c(d))}catch{}}return null}function Ye(c){var d=c.type;switch(c.tag){case 24:return"Cache";case 9:return(d.displayName||"Context")+".Consumer";case 10:return(d._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return c=d.render,c=c.displayName||c.name||"",d.displayName||(c!==""?"ForwardRef("+c+")":"ForwardRef");case 7:return"Fragment";case 5:return d;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Te(d);case 8:return d===U?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof d=="function")return d.displayName||d.name||null;if(typeof d=="string")return d}return null}function qe(c){switch(typeof c){case"boolean":case"number":case"string":case"undefined":return c;case"object":return c;default:return""}}function Ne(c){var d=c.type;return(c=c.nodeName)&&c.toLowerCase()==="input"&&(d==="checkbox"||d==="radio")}function ct(c){var d=Ne(c)?"checked":"value",m=Object.getOwnPropertyDescriptor(c.constructor.prototype,d),x=""+c[d];if(!c.hasOwnProperty(d)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var S=m.get,T=m.set;return Object.defineProperty(c,d,{configurable:!0,get:function(){return S.call(this)},set:function(A){x=""+A,T.call(this,A)}}),Object.defineProperty(c,d,{enumerable:m.enumerable}),{getValue:function(){return x},setValue:function(A){x=""+A},stopTracking:function(){c._valueTracker=null,delete c[d]}}}}function xn(c){c._valueTracker||(c._valueTracker=ct(c))}function It(c){if(!c)return!1;var d=c._valueTracker;if(!d)return!0;var m=d.getValue(),x="";return c&&(x=Ne(c)?c.checked?"true":"false":c.value),c=x,c!==m?(d.setValue(c),!0):!1}function En(c){if(c=c||(typeof document<"u"?document:void 0),typeof c>"u")return null;try{return c.activeElement||c.body}catch{return c.body}}function sn(c,d){var m=d.checked;return F({},d,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:m??c._wrapperState.initialChecked})}function yn(c,d){var m=d.defaultValue==null?"":d.defaultValue,x=d.checked!=null?d.checked:d.defaultChecked;m=qe(d.value!=null?d.value:m),c._wrapperState={initialChecked:x,initialValue:m,controlled:d.type==="checkbox"||d.type==="radio"?d.checked!=null:d.value!=null}}function Pi(c,d){d=d.checked,d!=null&&O(c,"checked",d,!1)}function Gr(c,d){Pi(c,d);var m=qe(d.value),x=d.type;if(m!=null)x==="number"?(m===0&&c.value===""||c.value!=m)&&(c.value=""+m):c.value!==""+m&&(c.value=""+m);else if(x==="submit"||x==="reset"){c.removeAttribute("value");return}d.hasOwnProperty("value")?di(c,d.type,m):d.hasOwnProperty("defaultValue")&&di(c,d.type,qe(d.defaultValue)),d.checked==null&&d.defaultChecked!=null&&(c.defaultChecked=!!d.defaultChecked)}function Ri(c,d,m){if(d.hasOwnProperty("value")||d.hasOwnProperty("defaultValue")){var x=d.type;if(!(x!=="submit"&&x!=="reset"||d.value!==void 0&&d.value!==null))return;d=""+c._wrapperState.initialValue,m||d===c.value||(c.value=d),c.defaultValue=d}m=c.name,m!==""&&(c.name=""),c.defaultChecked=!!c._wrapperState.initialChecked,m!==""&&(c.name=m)}function di(c,d,m){(d!=="number"||En(c.ownerDocument)!==c)&&(m==null?c.defaultValue=""+c._wrapperState.initialValue:c.defaultValue!==""+m&&(c.defaultValue=""+m))}var wt=Array.isArray;function on(c,d,m,x){if(c=c.options,d){d={};for(var S=0;S<m.length;S++)d["$"+m[S]]=!0;for(m=0;m<c.length;m++)S=d.hasOwnProperty("$"+c[m].value),c[m].selected!==S&&(c[m].selected=S),S&&x&&(c[m].defaultSelected=!0)}else{for(m=""+qe(m),d=null,S=0;S<c.length;S++){if(c[S].value===m){c[S].selected=!0,x&&(c[S].defaultSelected=!0);return}d!==null||c[S].disabled||(d=c[S])}d!==null&&(d.selected=!0)}}function pt(c,d){if(d.dangerouslySetInnerHTML!=null)throw Error(n(91));return F({},d,{value:void 0,defaultValue:void 0,children:""+c._wrapperState.initialValue})}function Bt(c,d){var m=d.value;if(m==null){if(m=d.children,d=d.defaultValue,m!=null){if(d!=null)throw Error(n(92));if(wt(m)){if(1<m.length)throw Error(n(93));m=m[0]}d=m}d==null&&(d=""),m=d}c._wrapperState={initialValue:qe(m)}}function Pt(c,d){var m=qe(d.value),x=qe(d.defaultValue);m!=null&&(m=""+m,m!==c.value&&(c.value=m),d.defaultValue==null&&c.defaultValue!==m&&(c.defaultValue=m)),x!=null&&(c.defaultValue=""+x)}function Wn(c){var d=c.textContent;d===c._wrapperState.initialValue&&d!==""&&d!==null&&(c.value=d)}function Ee(c){switch(c){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Pe(c,d){return c==null||c==="http://www.w3.org/1999/xhtml"?Ee(d):c==="http://www.w3.org/2000/svg"&&d==="foreignObject"?"http://www.w3.org/1999/xhtml":c}var ut,vt=function(c){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(d,m,x,S){MSApp.execUnsafeLocalFunction(function(){return c(d,m,x,S)})}:c}(function(c,d){if(c.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in c)c.innerHTML=d;else{for(ut=ut||document.createElement("div"),ut.innerHTML="<svg>"+d.valueOf().toString()+"</svg>",d=ut.firstChild;c.firstChild;)c.removeChild(c.firstChild);for(;d.firstChild;)c.appendChild(d.firstChild)}});function zt(c,d){if(d){var m=c.firstChild;if(m&&m===c.lastChild&&m.nodeType===3){m.nodeValue=d;return}}c.textContent=d}var hn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},er=["Webkit","ms","Moz","O"];Object.keys(hn).forEach(function(c){er.forEach(function(d){d=d+c.charAt(0).toUpperCase()+c.substring(1),hn[d]=hn[c]})});function tr(c,d,m){return d==null||typeof d=="boolean"||d===""?"":m||typeof d!="number"||d===0||hn.hasOwnProperty(c)&&hn[c]?(""+d).trim():d+"px"}function Yr(c,d){c=c.style;for(var m in d)if(d.hasOwnProperty(m)){var x=m.indexOf("--")===0,S=tr(m,d[m],x);m==="float"&&(m="cssFloat"),x?c.setProperty(m,S):c[m]=S}}var yr=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Qe(c,d){if(d){if(yr[c]&&(d.children!=null||d.dangerouslySetInnerHTML!=null))throw Error(n(137,c));if(d.dangerouslySetInnerHTML!=null){if(d.children!=null)throw Error(n(60));if(typeof d.dangerouslySetInnerHTML!="object"||!("__html"in d.dangerouslySetInnerHTML))throw Error(n(61))}if(d.style!=null&&typeof d.style!="object")throw Error(n(62))}}function Gn(c,d){if(c.indexOf("-")===-1)return typeof d.is=="string";switch(c){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Mn=null;function Yi(c){return c=c.target||c.srcElement||window,c.correspondingUseElement&&(c=c.correspondingUseElement),c.nodeType===3?c.parentNode:c}var Ve=null,Oi=null,ys=null;function po(c){if(c=rf(c)){if(typeof Ve!="function")throw Error(n(280));var d=c.stateNode;d&&(d=Fp(d),Ve(c.stateNode,c.type,d))}}function qs(c){Oi?ys?ys.push(c):ys=[c]:Oi=c}function vs(){if(Oi){var c=Oi,d=ys;if(ys=Oi=null,po(c),d)for(c=0;c<d.length;c++)po(d[c])}}function $c(c,d){return c(d)}function Uc(){}var te=!1;function me(c,d,m){if(te)return c(d,m);te=!0;try{return $c(c,d,m)}finally{te=!1,(Oi!==null||ys!==null)&&(Uc(),vs())}}function _e(c,d){var m=c.stateNode;if(m===null)return null;var x=Fp(m);if(x===null)return null;m=x[d];e:switch(d){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(x=!x.disabled)||(c=c.type,x=!(c==="button"||c==="input"||c==="select"||c==="textarea")),c=!x;break e;default:c=!1}if(c)return null;if(m&&typeof m!="function")throw Error(n(231,d,typeof m));return m}var Ae=!1;if(a)try{var je={};Object.defineProperty(je,"passive",{get:function(){Ae=!0}}),window.addEventListener("test",je,je),window.removeEventListener("test",je,je)}catch{Ae=!1}function Ke(c,d,m,x,S,T,A,K,ie){var be=Array.prototype.slice.call(arguments,3);try{d.apply(m,be)}catch(Re){this.onError(Re)}}var it=!1,Ze=null,nt=!1,lt=null,at={onError:function(c){it=!0,Ze=c}};function tt(c,d,m,x,S,T,A,K,ie){it=!1,Ze=null,Ke.apply(at,arguments)}function Rt(c,d,m,x,S,T,A,K,ie){if(tt.apply(this,arguments),it){if(it){var be=Ze;it=!1,Ze=null}else throw Error(n(198));nt||(nt=!0,lt=be)}}function $t(c){var d=c,m=c;if(c.alternate)for(;d.return;)d=d.return;else{c=d;do d=c,(d.flags&4098)!==0&&(m=d.return),c=d.return;while(c)}return d.tag===3?m:null}function Dn(c){if(c.tag===13){var d=c.memoizedState;if(d===null&&(c=c.alternate,c!==null&&(d=c.memoizedState)),d!==null)return d.dehydrated}return null}function nr(c){if($t(c)!==c)throw Error(n(188))}function an(c){var d=c.alternate;if(!d){if(d=$t(c),d===null)throw Error(n(188));return d!==c?null:c}for(var m=c,x=d;;){var S=m.return;if(S===null)break;var T=S.alternate;if(T===null){if(x=S.return,x!==null){m=x;continue}break}if(S.child===T.child){for(T=S.child;T;){if(T===m)return nr(S),c;if(T===x)return nr(S),d;T=T.sibling}throw Error(n(188))}if(m.return!==x.return)m=S,x=T;else{for(var A=!1,K=S.child;K;){if(K===m){A=!0,m=S,x=T;break}if(K===x){A=!0,x=S,m=T;break}K=K.sibling}if(!A){for(K=T.child;K;){if(K===m){A=!0,m=T,x=S;break}if(K===x){A=!0,x=T,m=S;break}K=K.sibling}if(!A)throw Error(n(189))}}if(m.alternate!==x)throw Error(n(190))}if(m.tag!==3)throw Error(n(188));return m.stateNode.current===m?c:d}function pn(c){return c=an(c),c!==null?vr(c):null}function vr(c){if(c.tag===5||c.tag===6)return c;for(c=c.child;c!==null;){var d=vr(c);if(d!==null)return d;c=c.sibling}return null}var xs=t.unstable_scheduleCallback,Xr=t.unstable_cancelCallback,tn=t.unstable_shouldYield,Ai=t.unstable_requestPaint,Wt=t.unstable_now,Xi=t.unstable_getCurrentPriorityLevel,Jr=t.unstable_ImmediatePriority,Ji=t.unstable_UserBlockingPriority,qt=t.unstable_NormalPriority,qn=t.unstable_LowPriority,Zr=t.unstable_IdlePriority,Mi=null,Jt=null;function mo(c){if(Jt&&typeof Jt.onCommitFiberRoot=="function")try{Jt.onCommitFiberRoot(Mi,c,void 0,(c.current.flags&128)===128)}catch{}}var mt=Math.clz32?Math.clz32:xp,Hc=Math.log,vp=Math.LN2;function xp(c){return c>>>=0,c===0?32:31-(Hc(c)/vp|0)|0}var gn=64,Qs=4194304;function bs(c){switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return c&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return c}}function ws(c,d){var m=c.pendingLanes;if(m===0)return 0;var x=0,S=c.suspendedLanes,T=c.pingedLanes,A=m&268435455;if(A!==0){var K=A&~S;K!==0?x=bs(K):(T&=A,T!==0&&(x=bs(T)))}else A=m&~S,A!==0?x=bs(A):T!==0&&(x=bs(T));if(x===0)return 0;if(d!==0&&d!==x&&(d&S)===0&&(S=x&-x,T=d&-d,S>=T||S===16&&(T&4194240)!==0))return d;if((x&4)!==0&&(x|=m&16),d=c.entangledLanes,d!==0)for(c=c.entanglements,d&=x;0<d;)m=31-mt(d),S=1<<m,x|=c[m],d&=~S;return x}function zd(c,d){switch(c){case 1:case 2:case 4:return d+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $d(c,d){for(var m=c.suspendedLanes,x=c.pingedLanes,S=c.expirationTimes,T=c.pendingLanes;0<T;){var A=31-mt(T),K=1<<A,ie=S[A];ie===-1?((K&m)===0||(K&x)!==0)&&(S[A]=zd(K,d)):ie<=d&&(c.expiredLanes|=K),T&=~K}}function la(c){return c=c.pendingLanes&-1073741825,c!==0?c:c&1073741824?1073741824:0}function Ud(){var c=gn;return gn<<=1,(gn&4194240)===0&&(gn=64),c}function ca(c){for(var d=[],m=0;31>m;m++)d.push(c);return d}function ua(c,d,m){c.pendingLanes|=d,d!==536870912&&(c.suspendedLanes=0,c.pingedLanes=0),c=c.eventTimes,d=31-mt(d),c[d]=m}function vl(c,d){var m=c.pendingLanes&~d;c.pendingLanes=d,c.suspendedLanes=0,c.pingedLanes=0,c.expiredLanes&=d,c.mutableReadLanes&=d,c.entangledLanes&=d,d=c.entanglements;var x=c.eventTimes;for(c=c.expirationTimes;0<m;){var S=31-mt(m),T=1<<S;d[S]=0,x[S]=-1,c[S]=-1,m&=~T}}function Wc(c,d){var m=c.entangledLanes|=d;for(c=c.entanglements;m;){var x=31-mt(m),S=1<<x;S&d|c[x]&d&&(c[x]|=d),m&=~S}}var mn=0;function Zt(c){return c&=-c,1<c?4<c?(c&268435455)!==0?16:536870912:4:1}var qc,Hd,bp,Ar,go,da=!1,Di=[],_s=null,Ss=null,_n=null,Mr=new Map,Es=new Map,fi=[],Wd="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ks(c,d){switch(c){case"focusin":case"focusout":_s=null;break;case"dragenter":case"dragleave":Ss=null;break;case"mouseover":case"mouseout":_n=null;break;case"pointerover":case"pointerout":Mr.delete(d.pointerId);break;case"gotpointercapture":case"lostpointercapture":Es.delete(d.pointerId)}}function xl(c,d,m,x,S,T){return c===null||c.nativeEvent!==T?(c={blockedOn:d,domEventName:m,eventSystemFlags:x,nativeEvent:T,targetContainers:[S]},d!==null&&(d=rf(d),d!==null&&Hd(d)),c):(c.eventSystemFlags|=x,d=c.targetContainers,S!==null&&d.indexOf(S)===-1&&d.push(S),c)}function Zi(c,d,m,x,S){switch(d){case"focusin":return _s=xl(_s,c,d,m,x,S),!0;case"dragenter":return Ss=xl(Ss,c,d,m,x,S),!0;case"mouseover":return _n=xl(_n,c,d,m,x,S),!0;case"pointerover":var T=S.pointerId;return Mr.set(T,xl(Mr.get(T)||null,c,d,m,x,S)),!0;case"gotpointercapture":return T=S.pointerId,Es.set(T,xl(Es.get(T)||null,c,d,m,x,S)),!0}return!1}function Qc(c){var d=Ol(c.target);if(d!==null){var m=$t(d);if(m!==null){if(d=m.tag,d===13){if(d=Dn(m),d!==null){c.blockedOn=d,go(c.priority,function(){bp(m)});return}}else if(d===3&&m.stateNode.current.memoizedState.isDehydrated){c.blockedOn=m.tag===3?m.stateNode.containerInfo:null;return}}}c.blockedOn=null}function bl(c){if(c.blockedOn!==null)return!1;for(var d=c.targetContainers;0<d.length;){var m=_l(c.domEventName,c.eventSystemFlags,d[0],c.nativeEvent);if(m===null){m=c.nativeEvent;var x=new m.constructor(m.type,m);Mn=x,m.target.dispatchEvent(x),Mn=null}else return d=rf(m),d!==null&&Hd(d),c.blockedOn=m,!1;d.shift()}return!0}function Vc(c,d,m){bl(c)&&m.delete(d)}function wl(){da=!1,_s!==null&&bl(_s)&&(_s=null),Ss!==null&&bl(Ss)&&(Ss=null),_n!==null&&bl(_n)&&(_n=null),Mr.forEach(Vc),Es.forEach(Vc)}function yo(c,d){c.blockedOn===d&&(c.blockedOn=null,da||(da=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,wl)))}function fa(c){function d(S){return yo(S,c)}if(0<Di.length){yo(Di[0],c);for(var m=1;m<Di.length;m++){var x=Di[m];x.blockedOn===c&&(x.blockedOn=null)}}for(_s!==null&&yo(_s,c),Ss!==null&&yo(Ss,c),_n!==null&&yo(_n,c),Mr.forEach(d),Es.forEach(d),m=0;m<fi.length;m++)x=fi[m],x.blockedOn===c&&(x.blockedOn=null);for(;0<fi.length&&(m=fi[0],m.blockedOn===null);)Qc(m),m.blockedOn===null&&fi.shift()}var ha=z.ReactCurrentBatchConfig,Vs=!0;function z1(c,d,m,x){var S=mn,T=ha.transition;ha.transition=null;try{mn=1,pa(c,d,m,x)}finally{mn=S,ha.transition=T}}function $1(c,d,m,x){var S=mn,T=ha.transition;ha.transition=null;try{mn=4,pa(c,d,m,x)}finally{mn=S,ha.transition=T}}function pa(c,d,m,x){if(Vs){var S=_l(c,d,m,x);if(S===null)G1(c,d,x,vo,m),ks(c,x);else if(Zi(S,c,d,m,x))x.stopPropagation();else if(ks(c,x),d&4&&-1<Wd.indexOf(c)){for(;S!==null;){var T=rf(S);if(T!==null&&qc(T),T=_l(c,d,m,x),T===null&&G1(c,d,x,vo,m),T===S)break;S=T}S!==null&&x.stopPropagation()}else G1(c,d,x,null,m)}}var vo=null;function _l(c,d,m,x){if(vo=null,c=Yi(x),c=Ol(c),c!==null)if(d=$t(c),d===null)c=null;else if(m=d.tag,m===13){if(c=Dn(d),c!==null)return c;c=null}else if(m===3){if(d.stateNode.current.memoizedState.isDehydrated)return d.tag===3?d.stateNode.containerInfo:null;c=null}else d!==c&&(c=null);return vo=c,null}function wp(c){switch(c){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xi()){case Jr:return 1;case Ji:return 4;case qt:case qn:return 16;case Zr:return 536870912;default:return 16}default:return 16}}var Ks=null,qd=null,ma=null;function Kc(){if(ma)return ma;var c,d=qd,m=d.length,x,S="value"in Ks?Ks.value:Ks.textContent,T=S.length;for(c=0;c<m&&d[c]===S[c];c++);var A=m-c;for(x=1;x<=A&&d[m-x]===S[T-x];x++);return ma=S.slice(c,1<x?1-x:void 0)}function Sl(c){var d=c.keyCode;return"charCode"in c?(c=c.charCode,c===0&&d===13&&(c=13)):c=d,c===10&&(c=13),32<=c||c===13?c:0}function xo(){return!0}function El(){return!1}function xr(c){function d(m,x,S,T,A){this._reactName=m,this._targetInst=S,this.type=x,this.nativeEvent=T,this.target=A,this.currentTarget=null;for(var K in c)c.hasOwnProperty(K)&&(m=c[K],this[K]=m?m(T):T[K]);return this.isDefaultPrevented=(T.defaultPrevented!=null?T.defaultPrevented:T.returnValue===!1)?xo:El,this.isPropagationStopped=El,this}return F(d.prototype,{preventDefault:function(){this.defaultPrevented=!0;var m=this.nativeEvent;m&&(m.preventDefault?m.preventDefault():typeof m.returnValue!="unknown"&&(m.returnValue=!1),this.isDefaultPrevented=xo)},stopPropagation:function(){var m=this.nativeEvent;m&&(m.stopPropagation?m.stopPropagation():typeof m.cancelBubble!="unknown"&&(m.cancelBubble=!0),this.isPropagationStopped=xo)},persist:function(){},isPersistent:xo}),d}var bo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(c){return c.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qd=xr(bo),Gs=F({},bo,{view:0,detail:0}),Vd=xr(Gs),kl,Cl,wo,Yn=F({},Gs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:jl,button:0,buttons:0,relatedTarget:function(c){return c.relatedTarget===void 0?c.fromElement===c.srcElement?c.toElement:c.fromElement:c.relatedTarget},movementX:function(c){return"movementX"in c?c.movementX:(c!==wo&&(wo&&c.type==="mousemove"?(kl=c.screenX-wo.screenX,Cl=c.screenY-wo.screenY):Cl=kl=0,wo=c),kl)},movementY:function(c){return"movementY"in c?c.movementY:Cl}}),ga=xr(Yn),Tl=F({},Yn,{dataTransfer:0}),_p=xr(Tl),Gc=F({},Gs,{relatedTarget:0}),Yc=xr(Gc),Sp=F({},bo,{animationName:0,elapsedTime:0,pseudoElement:0}),Xc=xr(Sp),Kd=F({},bo,{clipboardData:function(c){return"clipboardData"in c?c.clipboardData:window.clipboardData}}),_o=xr(Kd),Gd=F({},bo,{data:0}),Jc=xr(Gd),Zc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Yd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ep={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function U1(c){var d=this.nativeEvent;return d.getModifierState?d.getModifierState(c):(c=Ep[c])?!!d[c]:!1}function jl(){return U1}var eu=F({},Gs,{key:function(c){if(c.key){var d=Zc[c.key]||c.key;if(d!=="Unidentified")return d}return c.type==="keypress"?(c=Sl(c),c===13?"Enter":String.fromCharCode(c)):c.type==="keydown"||c.type==="keyup"?Yd[c.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:jl,charCode:function(c){return c.type==="keypress"?Sl(c):0},keyCode:function(c){return c.type==="keydown"||c.type==="keyup"?c.keyCode:0},which:function(c){return c.type==="keypress"?Sl(c):c.type==="keydown"||c.type==="keyup"?c.keyCode:0}}),H1=xr(eu),Xd=F({},Yn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),tu=xr(Xd),W1=F({},Gs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:jl}),kp=xr(W1),q1=F({},bo,{propertyName:0,elapsedTime:0,pseudoElement:0}),Cp=xr(q1),Tp=F({},Yn,{deltaX:function(c){return"deltaX"in c?c.deltaX:"wheelDeltaX"in c?-c.wheelDeltaX:0},deltaY:function(c){return"deltaY"in c?c.deltaY:"wheelDeltaY"in c?-c.wheelDeltaY:"wheelDelta"in c?-c.wheelDelta:0},deltaZ:0,deltaMode:0}),Q1=xr(Tp),jp=[9,13,27,32],Nl=a&&"CompositionEvent"in window,ya=null;a&&"documentMode"in document&&(ya=document.documentMode);var Np=a&&"TextEvent"in window&&!ya,Ip=a&&(!Nl||ya&&8<ya&&11>=ya),Pp=" ",Rp=!1;function Il(c,d){switch(c){case"keyup":return jp.indexOf(d.keyCode)!==-1;case"keydown":return d.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function es(c){return c=c.detail,typeof c=="object"&&"data"in c?c.data:null}var bn=!1;function nu(c,d){switch(c){case"compositionend":return es(d);case"keypress":return d.which!==32?null:(Rp=!0,Pp);case"textInput":return c=d.data,c===Pp&&Rp?null:c;default:return null}}function hi(c,d){if(bn)return c==="compositionend"||!Nl&&Il(c,d)?(c=Kc(),ma=qd=Ks=null,bn=!1,c):null;switch(c){case"paste":return null;case"keypress":if(!(d.ctrlKey||d.altKey||d.metaKey)||d.ctrlKey&&d.altKey){if(d.char&&1<d.char.length)return d.char;if(d.which)return String.fromCharCode(d.which)}return null;case"compositionend":return Ip&&d.locale!=="ko"?null:d.data;default:return null}}var V1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ru(c){var d=c&&c.nodeName&&c.nodeName.toLowerCase();return d==="input"?!!V1[c.type]:d==="textarea"}function Jd(c,d,m,x){qs(x),d=Mp(d,"onChange"),0<d.length&&(m=new Qd("onChange","change",null,m,x),c.push({event:m,listeners:d}))}var Li=null,So=null;function va(c){F_(c,0)}function Fi(c){var d=ou(c);if(It(d))return c}function Op(c,d){if(c==="change")return d}var v=!1;if(a){var w;if(a){var k="oninput"in document;if(!k){var N=document.createElement("div");N.setAttribute("oninput","return;"),k=typeof N.oninput=="function"}w=k}else w=!1;v=w&&(!document.documentMode||9<document.documentMode)}function R(){Li&&(Li.detachEvent("onpropertychange",L),So=Li=null)}function L(c){if(c.propertyName==="value"&&Fi(So)){var d=[];Jd(d,So,c,Yi(c)),me(va,d)}}function W(c,d,m){c==="focusin"?(R(),Li=d,So=m,Li.attachEvent("onpropertychange",L)):c==="focusout"&&R()}function Y(c){if(c==="selectionchange"||c==="keyup"||c==="keydown")return Fi(So)}function se(c,d){if(c==="click")return Fi(d)}function ae(c,d){if(c==="input"||c==="change")return Fi(d)}function de(c,d){return c===d&&(c!==0||1/c===1/d)||c!==c&&d!==d}var J=typeof Object.is=="function"?Object.is:de;function he(c,d){if(J(c,d))return!0;if(typeof c!="object"||c===null||typeof d!="object"||d===null)return!1;var m=Object.keys(c),x=Object.keys(d);if(m.length!==x.length)return!1;for(x=0;x<m.length;x++){var S=m[x];if(!l.call(d,S)||!J(c[S],d[S]))return!1}return!0}function oe(c){for(;c&&c.firstChild;)c=c.firstChild;return c}function ue(c,d){var m=oe(c);c=0;for(var x;m;){if(m.nodeType===3){if(x=c+m.textContent.length,c<=d&&x>=d)return{node:m,offset:d-c};c=x}e:{for(;m;){if(m.nextSibling){m=m.nextSibling;break e}m=m.parentNode}m=void 0}m=oe(m)}}function pe(c,d){return c&&d?c===d?!0:c&&c.nodeType===3?!1:d&&d.nodeType===3?pe(c,d.parentNode):"contains"in c?c.contains(d):c.compareDocumentPosition?!!(c.compareDocumentPosition(d)&16):!1:!1}function ce(){for(var c=window,d=En();d instanceof c.HTMLIFrameElement;){try{var m=typeof d.contentWindow.location.href=="string"}catch{m=!1}if(m)c=d.contentWindow;else break;d=En(c.document)}return d}function ve(c){var d=c&&c.nodeName&&c.nodeName.toLowerCase();return d&&(d==="input"&&(c.type==="text"||c.type==="search"||c.type==="tel"||c.type==="url"||c.type==="password")||d==="textarea"||c.contentEditable==="true")}function we(c){var d=ce(),m=c.focusedElem,x=c.selectionRange;if(d!==m&&m&&m.ownerDocument&&pe(m.ownerDocument.documentElement,m)){if(x!==null&&ve(m)){if(d=x.start,c=x.end,c===void 0&&(c=d),"selectionStart"in m)m.selectionStart=d,m.selectionEnd=Math.min(c,m.value.length);else if(c=(d=m.ownerDocument||document)&&d.defaultView||window,c.getSelection){c=c.getSelection();var S=m.textContent.length,T=Math.min(x.start,S);x=x.end===void 0?T:Math.min(x.end,S),!c.extend&&T>x&&(S=x,x=T,T=S),S=ue(m,T);var A=ue(m,x);S&&A&&(c.rangeCount!==1||c.anchorNode!==S.node||c.anchorOffset!==S.offset||c.focusNode!==A.node||c.focusOffset!==A.offset)&&(d=d.createRange(),d.setStart(S.node,S.offset),c.removeAllRanges(),T>x?(c.addRange(d),c.extend(A.node,A.offset)):(d.setEnd(A.node,A.offset),c.addRange(d)))}}for(d=[],c=m;c=c.parentNode;)c.nodeType===1&&d.push({element:c,left:c.scrollLeft,top:c.scrollTop});for(typeof m.focus=="function"&&m.focus(),m=0;m<d.length;m++)c=d[m],c.element.scrollLeft=c.left,c.element.scrollTop=c.top}}var Se=a&&"documentMode"in document&&11>=document.documentMode,ke=null,De=null,Ue=null,Le=!1;function Be(c,d,m){var x=m.window===m?m.document:m.nodeType===9?m:m.ownerDocument;Le||ke==null||ke!==En(x)||(x=ke,"selectionStart"in x&&ve(x)?x={start:x.selectionStart,end:x.selectionEnd}:(x=(x.ownerDocument&&x.ownerDocument.defaultView||window).getSelection(),x={anchorNode:x.anchorNode,anchorOffset:x.anchorOffset,focusNode:x.focusNode,focusOffset:x.focusOffset}),Ue&&he(Ue,x)||(Ue=x,x=Mp(De,"onSelect"),0<x.length&&(d=new Qd("onSelect","select",null,d,m),c.push({event:d,listeners:x}),d.target=ke)))}function We(c,d){var m={};return m[c.toLowerCase()]=d.toLowerCase(),m["Webkit"+c]="webkit"+d,m["Moz"+c]="moz"+d,m}var ze={animationend:We("Animation","AnimationEnd"),animationiteration:We("Animation","AnimationIteration"),animationstart:We("Animation","AnimationStart"),transitionend:We("Transition","TransitionEnd")},Xe={},St={};a&&(St=document.createElement("div").style,"AnimationEvent"in window||(delete ze.animationend.animation,delete ze.animationiteration.animation,delete ze.animationstart.animation),"TransitionEvent"in window||delete ze.transitionend.transition);function Tt(c){if(Xe[c])return Xe[c];if(!ze[c])return c;var d=ze[c],m;for(m in d)if(d.hasOwnProperty(m)&&m in St)return Xe[c]=d[m];return c}var Dt=Tt("animationend"),Dr=Tt("animationiteration"),_t=Tt("animationstart"),ar=Tt("transitionend"),lr=new Map,Pl="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ln(c,d){lr.set(c,d),s(d,[c])}for(var Cs=0;Cs<Pl.length;Cs++){var Rl=Pl[Cs],pI=Rl.toLowerCase(),mI=Rl[0].toUpperCase()+Rl.slice(1);Ln(pI,"on"+mI)}Ln(Dt,"onAnimationEnd"),Ln(Dr,"onAnimationIteration"),Ln(_t,"onAnimationStart"),Ln("dblclick","onDoubleClick"),Ln("focusin","onFocus"),Ln("focusout","onBlur"),Ln(ar,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),gI=new Set("cancel close invalid load scroll toggle".split(" ").concat(Zd));function L_(c,d,m){var x=c.type||"unknown-event";c.currentTarget=m,Rt(x,d,void 0,c),c.currentTarget=null}function F_(c,d){d=(d&4)!==0;for(var m=0;m<c.length;m++){var x=c[m],S=x.event;x=x.listeners;e:{var T=void 0;if(d)for(var A=x.length-1;0<=A;A--){var K=x[A],ie=K.instance,be=K.currentTarget;if(K=K.listener,ie!==T&&S.isPropagationStopped())break e;L_(S,K,be),T=ie}else for(A=0;A<x.length;A++){if(K=x[A],ie=K.instance,be=K.currentTarget,K=K.listener,ie!==T&&S.isPropagationStopped())break e;L_(S,K,be),T=ie}}}if(nt)throw c=lt,nt=!1,lt=null,c}function Rn(c,d){var m=d[ty];m===void 0&&(m=d[ty]=new Set);var x=c+"__bubble";m.has(x)||(B_(d,c,2,!1),m.add(x))}function K1(c,d,m){var x=0;d&&(x|=4),B_(m,c,x,d)}var Ap="_reactListening"+Math.random().toString(36).slice(2);function ef(c){if(!c[Ap]){c[Ap]=!0,r.forEach(function(m){m!=="selectionchange"&&(gI.has(m)||K1(m,!1,c),K1(m,!0,c))});var d=c.nodeType===9?c:c.ownerDocument;d===null||d[Ap]||(d[Ap]=!0,K1("selectionchange",!1,d))}}function B_(c,d,m,x){switch(wp(d)){case 1:var S=z1;break;case 4:S=$1;break;default:S=pa}m=S.bind(null,d,m,c),S=void 0,!Ae||d!=="touchstart"&&d!=="touchmove"&&d!=="wheel"||(S=!0),x?S!==void 0?c.addEventListener(d,m,{capture:!0,passive:S}):c.addEventListener(d,m,!0):S!==void 0?c.addEventListener(d,m,{passive:S}):c.addEventListener(d,m,!1)}function G1(c,d,m,x,S){var T=x;if((d&1)===0&&(d&2)===0&&x!==null)e:for(;;){if(x===null)return;var A=x.tag;if(A===3||A===4){var K=x.stateNode.containerInfo;if(K===S||K.nodeType===8&&K.parentNode===S)break;if(A===4)for(A=x.return;A!==null;){var ie=A.tag;if((ie===3||ie===4)&&(ie=A.stateNode.containerInfo,ie===S||ie.nodeType===8&&ie.parentNode===S))return;A=A.return}for(;K!==null;){if(A=Ol(K),A===null)return;if(ie=A.tag,ie===5||ie===6){x=T=A;continue e}K=K.parentNode}}x=x.return}me(function(){var be=T,Re=Yi(m),Me=[];e:{var Ie=lr.get(c);if(Ie!==void 0){var Je=Qd,rt=c;switch(c){case"keypress":if(Sl(m)===0)break e;case"keydown":case"keyup":Je=H1;break;case"focusin":rt="focus",Je=Yc;break;case"focusout":rt="blur",Je=Yc;break;case"beforeblur":case"afterblur":Je=Yc;break;case"click":if(m.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Je=ga;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Je=_p;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Je=kp;break;case Dt:case Dr:case _t:Je=Xc;break;case ar:Je=Cp;break;case"scroll":Je=Vd;break;case"wheel":Je=Q1;break;case"copy":case"cut":case"paste":Je=_o;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Je=tu}var st=(d&4)!==0,Xn=!st&&c==="scroll",ge=st?Ie!==null?Ie+"Capture":null:Ie;st=[];for(var le=be,xe;le!==null;){xe=le;var $e=xe.stateNode;if(xe.tag===5&&$e!==null&&(xe=$e,ge!==null&&($e=_e(le,ge),$e!=null&&st.push(tf(le,$e,xe)))),Xn)break;le=le.return}0<st.length&&(Ie=new Je(Ie,rt,null,m,Re),Me.push({event:Ie,listeners:st}))}}if((d&7)===0){e:{if(Ie=c==="mouseover"||c==="pointerover",Je=c==="mouseout"||c==="pointerout",Ie&&m!==Mn&&(rt=m.relatedTarget||m.fromElement)&&(Ol(rt)||rt[Eo]))break e;if((Je||Ie)&&(Ie=Re.window===Re?Re:(Ie=Re.ownerDocument)?Ie.defaultView||Ie.parentWindow:window,Je?(rt=m.relatedTarget||m.toElement,Je=be,rt=rt?Ol(rt):null,rt!==null&&(Xn=$t(rt),rt!==Xn||rt.tag!==5&&rt.tag!==6)&&(rt=null)):(Je=null,rt=be),Je!==rt)){if(st=ga,$e="onMouseLeave",ge="onMouseEnter",le="mouse",(c==="pointerout"||c==="pointerover")&&(st=tu,$e="onPointerLeave",ge="onPointerEnter",le="pointer"),Xn=Je==null?Ie:ou(Je),xe=rt==null?Ie:ou(rt),Ie=new st($e,le+"leave",Je,m,Re),Ie.target=Xn,Ie.relatedTarget=xe,$e=null,Ol(Re)===be&&(st=new st(ge,le+"enter",rt,m,Re),st.target=xe,st.relatedTarget=Xn,$e=st),Xn=$e,Je&&rt)t:{for(st=Je,ge=rt,le=0,xe=st;xe;xe=iu(xe))le++;for(xe=0,$e=ge;$e;$e=iu($e))xe++;for(;0<le-xe;)st=iu(st),le--;for(;0<xe-le;)ge=iu(ge),xe--;for(;le--;){if(st===ge||ge!==null&&st===ge.alternate)break t;st=iu(st),ge=iu(ge)}st=null}else st=null;Je!==null&&z_(Me,Ie,Je,st,!1),rt!==null&&Xn!==null&&z_(Me,Xn,rt,st,!0)}}e:{if(Ie=be?ou(be):window,Je=Ie.nodeName&&Ie.nodeName.toLowerCase(),Je==="select"||Je==="input"&&Ie.type==="file")var ot=Op;else if(ru(Ie))if(v)ot=ae;else{ot=Y;var dt=W}else(Je=Ie.nodeName)&&Je.toLowerCase()==="input"&&(Ie.type==="checkbox"||Ie.type==="radio")&&(ot=se);if(ot&&(ot=ot(c,be))){Jd(Me,ot,m,Re);break e}dt&&dt(c,Ie,be),c==="focusout"&&(dt=Ie._wrapperState)&&dt.controlled&&Ie.type==="number"&&di(Ie,"number",Ie.value)}switch(dt=be?ou(be):window,c){case"focusin":(ru(dt)||dt.contentEditable==="true")&&(ke=dt,De=be,Ue=null);break;case"focusout":Ue=De=ke=null;break;case"mousedown":Le=!0;break;case"contextmenu":case"mouseup":case"dragend":Le=!1,Be(Me,m,Re);break;case"selectionchange":if(Se)break;case"keydown":case"keyup":Be(Me,m,Re)}var ft;if(Nl)e:{switch(c){case"compositionstart":var xt="onCompositionStart";break e;case"compositionend":xt="onCompositionEnd";break e;case"compositionupdate":xt="onCompositionUpdate";break e}xt=void 0}else bn?Il(c,m)&&(xt="onCompositionEnd"):c==="keydown"&&m.keyCode===229&&(xt="onCompositionStart");xt&&(Ip&&m.locale!=="ko"&&(bn||xt!=="onCompositionStart"?xt==="onCompositionEnd"&&bn&&(ft=Kc()):(Ks=Re,qd="value"in Ks?Ks.value:Ks.textContent,bn=!0)),dt=Mp(be,xt),0<dt.length&&(xt=new Jc(xt,c,null,m,Re),Me.push({event:xt,listeners:dt}),ft?xt.data=ft:(ft=es(m),ft!==null&&(xt.data=ft)))),(ft=Np?nu(c,m):hi(c,m))&&(be=Mp(be,"onBeforeInput"),0<be.length&&(Re=new Jc("onBeforeInput","beforeinput",null,m,Re),Me.push({event:Re,listeners:be}),Re.data=ft))}F_(Me,d)})}function tf(c,d,m){return{instance:c,listener:d,currentTarget:m}}function Mp(c,d){for(var m=d+"Capture",x=[];c!==null;){var S=c,T=S.stateNode;S.tag===5&&T!==null&&(S=T,T=_e(c,m),T!=null&&x.unshift(tf(c,T,S)),T=_e(c,d),T!=null&&x.push(tf(c,T,S))),c=c.return}return x}function iu(c){if(c===null)return null;do c=c.return;while(c&&c.tag!==5);return c||null}function z_(c,d,m,x,S){for(var T=d._reactName,A=[];m!==null&&m!==x;){var K=m,ie=K.alternate,be=K.stateNode;if(ie!==null&&ie===x)break;K.tag===5&&be!==null&&(K=be,S?(ie=_e(m,T),ie!=null&&A.unshift(tf(m,ie,K))):S||(ie=_e(m,T),ie!=null&&A.push(tf(m,ie,K)))),m=m.return}A.length!==0&&c.push({event:d,listeners:A})}var yI=/\r\n?/g,vI=/\u0000|\uFFFD/g;function $_(c){return(typeof c=="string"?c:""+c).replace(yI,`
`).replace(vI,"")}function Dp(c,d,m){if(d=$_(d),$_(c)!==d&&m)throw Error(n(425))}function Lp(){}var Y1=null,X1=null;function J1(c,d){return c==="textarea"||c==="noscript"||typeof d.children=="string"||typeof d.children=="number"||typeof d.dangerouslySetInnerHTML=="object"&&d.dangerouslySetInnerHTML!==null&&d.dangerouslySetInnerHTML.__html!=null}var Z1=typeof setTimeout=="function"?setTimeout:void 0,xI=typeof clearTimeout=="function"?clearTimeout:void 0,U_=typeof Promise=="function"?Promise:void 0,bI=typeof queueMicrotask=="function"?queueMicrotask:typeof U_<"u"?function(c){return U_.resolve(null).then(c).catch(wI)}:Z1;function wI(c){setTimeout(function(){throw c})}function ey(c,d){var m=d,x=0;do{var S=m.nextSibling;if(c.removeChild(m),S&&S.nodeType===8)if(m=S.data,m==="/$"){if(x===0){c.removeChild(S),fa(d);return}x--}else m!=="$"&&m!=="$?"&&m!=="$!"||x++;m=S}while(m);fa(d)}function xa(c){for(;c!=null;c=c.nextSibling){var d=c.nodeType;if(d===1||d===3)break;if(d===8){if(d=c.data,d==="$"||d==="$!"||d==="$?")break;if(d==="/$")return null}}return c}function H_(c){c=c.previousSibling;for(var d=0;c;){if(c.nodeType===8){var m=c.data;if(m==="$"||m==="$!"||m==="$?"){if(d===0)return c;d--}else m==="/$"&&d++}c=c.previousSibling}return null}var su=Math.random().toString(36).slice(2),Ys="__reactFiber$"+su,nf="__reactProps$"+su,Eo="__reactContainer$"+su,ty="__reactEvents$"+su,_I="__reactListeners$"+su,SI="__reactHandles$"+su;function Ol(c){var d=c[Ys];if(d)return d;for(var m=c.parentNode;m;){if(d=m[Eo]||m[Ys]){if(m=d.alternate,d.child!==null||m!==null&&m.child!==null)for(c=H_(c);c!==null;){if(m=c[Ys])return m;c=H_(c)}return d}c=m,m=c.parentNode}return null}function rf(c){return c=c[Ys]||c[Eo],!c||c.tag!==5&&c.tag!==6&&c.tag!==13&&c.tag!==3?null:c}function ou(c){if(c.tag===5||c.tag===6)return c.stateNode;throw Error(n(33))}function Fp(c){return c[nf]||null}var ny=[],au=-1;function ba(c){return{current:c}}function On(c){0>au||(c.current=ny[au],ny[au]=null,au--)}function kn(c,d){au++,ny[au]=c.current,c.current=d}var wa={},Lr=ba(wa),pi=ba(!1),Al=wa;function lu(c,d){var m=c.type.contextTypes;if(!m)return wa;var x=c.stateNode;if(x&&x.__reactInternalMemoizedUnmaskedChildContext===d)return x.__reactInternalMemoizedMaskedChildContext;var S={},T;for(T in m)S[T]=d[T];return x&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=d,c.__reactInternalMemoizedMaskedChildContext=S),S}function mi(c){return c=c.childContextTypes,c!=null}function Bp(){On(pi),On(Lr)}function W_(c,d,m){if(Lr.current!==wa)throw Error(n(168));kn(Lr,d),kn(pi,m)}function q_(c,d,m){var x=c.stateNode;if(d=d.childContextTypes,typeof x.getChildContext!="function")return m;x=x.getChildContext();for(var S in x)if(!(S in d))throw Error(n(108,Ye(c)||"Unknown",S));return F({},m,x)}function zp(c){return c=(c=c.stateNode)&&c.__reactInternalMemoizedMergedChildContext||wa,Al=Lr.current,kn(Lr,c),kn(pi,pi.current),!0}function Q_(c,d,m){var x=c.stateNode;if(!x)throw Error(n(169));m?(c=q_(c,d,Al),x.__reactInternalMemoizedMergedChildContext=c,On(pi),On(Lr),kn(Lr,c)):On(pi),kn(pi,m)}var ko=null,$p=!1,ry=!1;function V_(c){ko===null?ko=[c]:ko.push(c)}function EI(c){$p=!0,V_(c)}function _a(){if(!ry&&ko!==null){ry=!0;var c=0,d=mn;try{var m=ko;for(mn=1;c<m.length;c++){var x=m[c];do x=x(!0);while(x!==null)}ko=null,$p=!1}catch(S){throw ko!==null&&(ko=ko.slice(c+1)),xs(Jr,_a),S}finally{mn=d,ry=!1}}return null}var cu=[],uu=0,Up=null,Hp=0,ts=[],ns=0,Ml=null,Co=1,To="";function Dl(c,d){cu[uu++]=Hp,cu[uu++]=Up,Up=c,Hp=d}function K_(c,d,m){ts[ns++]=Co,ts[ns++]=To,ts[ns++]=Ml,Ml=c;var x=Co;c=To;var S=32-mt(x)-1;x&=~(1<<S),m+=1;var T=32-mt(d)+S;if(30<T){var A=S-S%5;T=(x&(1<<A)-1).toString(32),x>>=A,S-=A,Co=1<<32-mt(d)+S|m<<S|x,To=T+c}else Co=1<<T|m<<S|x,To=c}function iy(c){c.return!==null&&(Dl(c,1),K_(c,1,0))}function sy(c){for(;c===Up;)Up=cu[--uu],cu[uu]=null,Hp=cu[--uu],cu[uu]=null;for(;c===Ml;)Ml=ts[--ns],ts[ns]=null,To=ts[--ns],ts[ns]=null,Co=ts[--ns],ts[ns]=null}var Bi=null,zi=null,Fn=!1,Ts=null;function G_(c,d){var m=os(5,null,null,0);m.elementType="DELETED",m.stateNode=d,m.return=c,d=c.deletions,d===null?(c.deletions=[m],c.flags|=16):d.push(m)}function Y_(c,d){switch(c.tag){case 5:var m=c.type;return d=d.nodeType!==1||m.toLowerCase()!==d.nodeName.toLowerCase()?null:d,d!==null?(c.stateNode=d,Bi=c,zi=xa(d.firstChild),!0):!1;case 6:return d=c.pendingProps===""||d.nodeType!==3?null:d,d!==null?(c.stateNode=d,Bi=c,zi=null,!0):!1;case 13:return d=d.nodeType!==8?null:d,d!==null?(m=Ml!==null?{id:Co,overflow:To}:null,c.memoizedState={dehydrated:d,treeContext:m,retryLane:1073741824},m=os(18,null,null,0),m.stateNode=d,m.return=c,c.child=m,Bi=c,zi=null,!0):!1;default:return!1}}function oy(c){return(c.mode&1)!==0&&(c.flags&128)===0}function ay(c){if(Fn){var d=zi;if(d){var m=d;if(!Y_(c,d)){if(oy(c))throw Error(n(418));d=xa(m.nextSibling);var x=Bi;d&&Y_(c,d)?G_(x,m):(c.flags=c.flags&-4097|2,Fn=!1,Bi=c)}}else{if(oy(c))throw Error(n(418));c.flags=c.flags&-4097|2,Fn=!1,Bi=c}}}function X_(c){for(c=c.return;c!==null&&c.tag!==5&&c.tag!==3&&c.tag!==13;)c=c.return;Bi=c}function Wp(c){if(c!==Bi)return!1;if(!Fn)return X_(c),Fn=!0,!1;var d;if((d=c.tag!==3)&&!(d=c.tag!==5)&&(d=c.type,d=d!=="head"&&d!=="body"&&!J1(c.type,c.memoizedProps)),d&&(d=zi)){if(oy(c))throw J_(),Error(n(418));for(;d;)G_(c,d),d=xa(d.nextSibling)}if(X_(c),c.tag===13){if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(n(317));e:{for(c=c.nextSibling,d=0;c;){if(c.nodeType===8){var m=c.data;if(m==="/$"){if(d===0){zi=xa(c.nextSibling);break e}d--}else m!=="$"&&m!=="$!"&&m!=="$?"||d++}c=c.nextSibling}zi=null}}else zi=Bi?xa(c.stateNode.nextSibling):null;return!0}function J_(){for(var c=zi;c;)c=xa(c.nextSibling)}function du(){zi=Bi=null,Fn=!1}function ly(c){Ts===null?Ts=[c]:Ts.push(c)}var kI=z.ReactCurrentBatchConfig;function sf(c,d,m){if(c=m.ref,c!==null&&typeof c!="function"&&typeof c!="object"){if(m._owner){if(m=m._owner,m){if(m.tag!==1)throw Error(n(309));var x=m.stateNode}if(!x)throw Error(n(147,c));var S=x,T=""+c;return d!==null&&d.ref!==null&&typeof d.ref=="function"&&d.ref._stringRef===T?d.ref:(d=function(A){var K=S.refs;A===null?delete K[T]:K[T]=A},d._stringRef=T,d)}if(typeof c!="string")throw Error(n(284));if(!m._owner)throw Error(n(290,c))}return c}function qp(c,d){throw c=Object.prototype.toString.call(d),Error(n(31,c==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":c))}function Z_(c){var d=c._init;return d(c._payload)}function eS(c){function d(ge,le){if(c){var xe=ge.deletions;xe===null?(ge.deletions=[le],ge.flags|=16):xe.push(le)}}function m(ge,le){if(!c)return null;for(;le!==null;)d(ge,le),le=le.sibling;return null}function x(ge,le){for(ge=new Map;le!==null;)le.key!==null?ge.set(le.key,le):ge.set(le.index,le),le=le.sibling;return ge}function S(ge,le){return ge=Ia(ge,le),ge.index=0,ge.sibling=null,ge}function T(ge,le,xe){return ge.index=xe,c?(xe=ge.alternate,xe!==null?(xe=xe.index,xe<le?(ge.flags|=2,le):xe):(ge.flags|=2,le)):(ge.flags|=1048576,le)}function A(ge){return c&&ge.alternate===null&&(ge.flags|=2),ge}function K(ge,le,xe,$e){return le===null||le.tag!==6?(le=Zy(xe,ge.mode,$e),le.return=ge,le):(le=S(le,xe),le.return=ge,le)}function ie(ge,le,xe,$e){var ot=xe.type;return ot===M?Re(ge,le,xe.props.children,$e,xe.key):le!==null&&(le.elementType===ot||typeof ot=="object"&&ot!==null&&ot.$$typeof===V&&Z_(ot)===le.type)?($e=S(le,xe.props),$e.ref=sf(ge,le,xe),$e.return=ge,$e):($e=mm(xe.type,xe.key,xe.props,null,ge.mode,$e),$e.ref=sf(ge,le,xe),$e.return=ge,$e)}function be(ge,le,xe,$e){return le===null||le.tag!==4||le.stateNode.containerInfo!==xe.containerInfo||le.stateNode.implementation!==xe.implementation?(le=ev(xe,ge.mode,$e),le.return=ge,le):(le=S(le,xe.children||[]),le.return=ge,le)}function Re(ge,le,xe,$e,ot){return le===null||le.tag!==7?(le=Wl(xe,ge.mode,$e,ot),le.return=ge,le):(le=S(le,xe),le.return=ge,le)}function Me(ge,le,xe){if(typeof le=="string"&&le!==""||typeof le=="number")return le=Zy(""+le,ge.mode,xe),le.return=ge,le;if(typeof le=="object"&&le!==null){switch(le.$$typeof){case B:return xe=mm(le.type,le.key,le.props,null,ge.mode,xe),xe.ref=sf(ge,null,le),xe.return=ge,xe;case j:return le=ev(le,ge.mode,xe),le.return=ge,le;case V:var $e=le._init;return Me(ge,$e(le._payload),xe)}if(wt(le)||fe(le))return le=Wl(le,ge.mode,xe,null),le.return=ge,le;qp(ge,le)}return null}function Ie(ge,le,xe,$e){var ot=le!==null?le.key:null;if(typeof xe=="string"&&xe!==""||typeof xe=="number")return ot!==null?null:K(ge,le,""+xe,$e);if(typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case B:return xe.key===ot?ie(ge,le,xe,$e):null;case j:return xe.key===ot?be(ge,le,xe,$e):null;case V:return ot=xe._init,Ie(ge,le,ot(xe._payload),$e)}if(wt(xe)||fe(xe))return ot!==null?null:Re(ge,le,xe,$e,null);qp(ge,xe)}return null}function Je(ge,le,xe,$e,ot){if(typeof $e=="string"&&$e!==""||typeof $e=="number")return ge=ge.get(xe)||null,K(le,ge,""+$e,ot);if(typeof $e=="object"&&$e!==null){switch($e.$$typeof){case B:return ge=ge.get($e.key===null?xe:$e.key)||null,ie(le,ge,$e,ot);case j:return ge=ge.get($e.key===null?xe:$e.key)||null,be(le,ge,$e,ot);case V:var dt=$e._init;return Je(ge,le,xe,dt($e._payload),ot)}if(wt($e)||fe($e))return ge=ge.get(xe)||null,Re(le,ge,$e,ot,null);qp(le,$e)}return null}function rt(ge,le,xe,$e){for(var ot=null,dt=null,ft=le,xt=le=0,_r=null;ft!==null&&xt<xe.length;xt++){ft.index>xt?(_r=ft,ft=null):_r=ft.sibling;var cn=Ie(ge,ft,xe[xt],$e);if(cn===null){ft===null&&(ft=_r);break}c&&ft&&cn.alternate===null&&d(ge,ft),le=T(cn,le,xt),dt===null?ot=cn:dt.sibling=cn,dt=cn,ft=_r}if(xt===xe.length)return m(ge,ft),Fn&&Dl(ge,xt),ot;if(ft===null){for(;xt<xe.length;xt++)ft=Me(ge,xe[xt],$e),ft!==null&&(le=T(ft,le,xt),dt===null?ot=ft:dt.sibling=ft,dt=ft);return Fn&&Dl(ge,xt),ot}for(ft=x(ge,ft);xt<xe.length;xt++)_r=Je(ft,ge,xt,xe[xt],$e),_r!==null&&(c&&_r.alternate!==null&&ft.delete(_r.key===null?xt:_r.key),le=T(_r,le,xt),dt===null?ot=_r:dt.sibling=_r,dt=_r);return c&&ft.forEach(function(Pa){return d(ge,Pa)}),Fn&&Dl(ge,xt),ot}function st(ge,le,xe,$e){var ot=fe(xe);if(typeof ot!="function")throw Error(n(150));if(xe=ot.call(xe),xe==null)throw Error(n(151));for(var dt=ot=null,ft=le,xt=le=0,_r=null,cn=xe.next();ft!==null&&!cn.done;xt++,cn=xe.next()){ft.index>xt?(_r=ft,ft=null):_r=ft.sibling;var Pa=Ie(ge,ft,cn.value,$e);if(Pa===null){ft===null&&(ft=_r);break}c&&ft&&Pa.alternate===null&&d(ge,ft),le=T(Pa,le,xt),dt===null?ot=Pa:dt.sibling=Pa,dt=Pa,ft=_r}if(cn.done)return m(ge,ft),Fn&&Dl(ge,xt),ot;if(ft===null){for(;!cn.done;xt++,cn=xe.next())cn=Me(ge,cn.value,$e),cn!==null&&(le=T(cn,le,xt),dt===null?ot=cn:dt.sibling=cn,dt=cn);return Fn&&Dl(ge,xt),ot}for(ft=x(ge,ft);!cn.done;xt++,cn=xe.next())cn=Je(ft,ge,xt,cn.value,$e),cn!==null&&(c&&cn.alternate!==null&&ft.delete(cn.key===null?xt:cn.key),le=T(cn,le,xt),dt===null?ot=cn:dt.sibling=cn,dt=cn);return c&&ft.forEach(function(iP){return d(ge,iP)}),Fn&&Dl(ge,xt),ot}function Xn(ge,le,xe,$e){if(typeof xe=="object"&&xe!==null&&xe.type===M&&xe.key===null&&(xe=xe.props.children),typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case B:e:{for(var ot=xe.key,dt=le;dt!==null;){if(dt.key===ot){if(ot=xe.type,ot===M){if(dt.tag===7){m(ge,dt.sibling),le=S(dt,xe.props.children),le.return=ge,ge=le;break e}}else if(dt.elementType===ot||typeof ot=="object"&&ot!==null&&ot.$$typeof===V&&Z_(ot)===dt.type){m(ge,dt.sibling),le=S(dt,xe.props),le.ref=sf(ge,dt,xe),le.return=ge,ge=le;break e}m(ge,dt);break}else d(ge,dt);dt=dt.sibling}xe.type===M?(le=Wl(xe.props.children,ge.mode,$e,xe.key),le.return=ge,ge=le):($e=mm(xe.type,xe.key,xe.props,null,ge.mode,$e),$e.ref=sf(ge,le,xe),$e.return=ge,ge=$e)}return A(ge);case j:e:{for(dt=xe.key;le!==null;){if(le.key===dt)if(le.tag===4&&le.stateNode.containerInfo===xe.containerInfo&&le.stateNode.implementation===xe.implementation){m(ge,le.sibling),le=S(le,xe.children||[]),le.return=ge,ge=le;break e}else{m(ge,le);break}else d(ge,le);le=le.sibling}le=ev(xe,ge.mode,$e),le.return=ge,ge=le}return A(ge);case V:return dt=xe._init,Xn(ge,le,dt(xe._payload),$e)}if(wt(xe))return rt(ge,le,xe,$e);if(fe(xe))return st(ge,le,xe,$e);qp(ge,xe)}return typeof xe=="string"&&xe!==""||typeof xe=="number"?(xe=""+xe,le!==null&&le.tag===6?(m(ge,le.sibling),le=S(le,xe),le.return=ge,ge=le):(m(ge,le),le=Zy(xe,ge.mode,$e),le.return=ge,ge=le),A(ge)):m(ge,le)}return Xn}var fu=eS(!0),tS=eS(!1),Qp=ba(null),Vp=null,hu=null,cy=null;function uy(){cy=hu=Vp=null}function dy(c){var d=Qp.current;On(Qp),c._currentValue=d}function fy(c,d,m){for(;c!==null;){var x=c.alternate;if((c.childLanes&d)!==d?(c.childLanes|=d,x!==null&&(x.childLanes|=d)):x!==null&&(x.childLanes&d)!==d&&(x.childLanes|=d),c===m)break;c=c.return}}function pu(c,d){Vp=c,cy=hu=null,c=c.dependencies,c!==null&&c.firstContext!==null&&((c.lanes&d)!==0&&(gi=!0),c.firstContext=null)}function rs(c){var d=c._currentValue;if(cy!==c)if(c={context:c,memoizedValue:d,next:null},hu===null){if(Vp===null)throw Error(n(308));hu=c,Vp.dependencies={lanes:0,firstContext:c}}else hu=hu.next=c;return d}var Ll=null;function hy(c){Ll===null?Ll=[c]:Ll.push(c)}function nS(c,d,m,x){var S=d.interleaved;return S===null?(m.next=m,hy(d)):(m.next=S.next,S.next=m),d.interleaved=m,jo(c,x)}function jo(c,d){c.lanes|=d;var m=c.alternate;for(m!==null&&(m.lanes|=d),m=c,c=c.return;c!==null;)c.childLanes|=d,m=c.alternate,m!==null&&(m.childLanes|=d),m=c,c=c.return;return m.tag===3?m.stateNode:null}var Sa=!1;function py(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function rS(c,d){c=c.updateQueue,d.updateQueue===c&&(d.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,effects:c.effects})}function No(c,d){return{eventTime:c,lane:d,tag:0,payload:null,callback:null,next:null}}function Ea(c,d,m){var x=c.updateQueue;if(x===null)return null;if(x=x.shared,(ln&2)!==0){var S=x.pending;return S===null?d.next=d:(d.next=S.next,S.next=d),x.pending=d,jo(c,m)}return S=x.interleaved,S===null?(d.next=d,hy(x)):(d.next=S.next,S.next=d),x.interleaved=d,jo(c,m)}function Kp(c,d,m){if(d=d.updateQueue,d!==null&&(d=d.shared,(m&4194240)!==0)){var x=d.lanes;x&=c.pendingLanes,m|=x,d.lanes=m,Wc(c,m)}}function iS(c,d){var m=c.updateQueue,x=c.alternate;if(x!==null&&(x=x.updateQueue,m===x)){var S=null,T=null;if(m=m.firstBaseUpdate,m!==null){do{var A={eventTime:m.eventTime,lane:m.lane,tag:m.tag,payload:m.payload,callback:m.callback,next:null};T===null?S=T=A:T=T.next=A,m=m.next}while(m!==null);T===null?S=T=d:T=T.next=d}else S=T=d;m={baseState:x.baseState,firstBaseUpdate:S,lastBaseUpdate:T,shared:x.shared,effects:x.effects},c.updateQueue=m;return}c=m.lastBaseUpdate,c===null?m.firstBaseUpdate=d:c.next=d,m.lastBaseUpdate=d}function Gp(c,d,m,x){var S=c.updateQueue;Sa=!1;var T=S.firstBaseUpdate,A=S.lastBaseUpdate,K=S.shared.pending;if(K!==null){S.shared.pending=null;var ie=K,be=ie.next;ie.next=null,A===null?T=be:A.next=be,A=ie;var Re=c.alternate;Re!==null&&(Re=Re.updateQueue,K=Re.lastBaseUpdate,K!==A&&(K===null?Re.firstBaseUpdate=be:K.next=be,Re.lastBaseUpdate=ie))}if(T!==null){var Me=S.baseState;A=0,Re=be=ie=null,K=T;do{var Ie=K.lane,Je=K.eventTime;if((x&Ie)===Ie){Re!==null&&(Re=Re.next={eventTime:Je,lane:0,tag:K.tag,payload:K.payload,callback:K.callback,next:null});e:{var rt=c,st=K;switch(Ie=d,Je=m,st.tag){case 1:if(rt=st.payload,typeof rt=="function"){Me=rt.call(Je,Me,Ie);break e}Me=rt;break e;case 3:rt.flags=rt.flags&-65537|128;case 0:if(rt=st.payload,Ie=typeof rt=="function"?rt.call(Je,Me,Ie):rt,Ie==null)break e;Me=F({},Me,Ie);break e;case 2:Sa=!0}}K.callback!==null&&K.lane!==0&&(c.flags|=64,Ie=S.effects,Ie===null?S.effects=[K]:Ie.push(K))}else Je={eventTime:Je,lane:Ie,tag:K.tag,payload:K.payload,callback:K.callback,next:null},Re===null?(be=Re=Je,ie=Me):Re=Re.next=Je,A|=Ie;if(K=K.next,K===null){if(K=S.shared.pending,K===null)break;Ie=K,K=Ie.next,Ie.next=null,S.lastBaseUpdate=Ie,S.shared.pending=null}}while(!0);if(Re===null&&(ie=Me),S.baseState=ie,S.firstBaseUpdate=be,S.lastBaseUpdate=Re,d=S.shared.interleaved,d!==null){S=d;do A|=S.lane,S=S.next;while(S!==d)}else T===null&&(S.shared.lanes=0);zl|=A,c.lanes=A,c.memoizedState=Me}}function sS(c,d,m){if(c=d.effects,d.effects=null,c!==null)for(d=0;d<c.length;d++){var x=c[d],S=x.callback;if(S!==null){if(x.callback=null,x=m,typeof S!="function")throw Error(n(191,S));S.call(x)}}}var of={},Xs=ba(of),af=ba(of),lf=ba(of);function Fl(c){if(c===of)throw Error(n(174));return c}function my(c,d){switch(kn(lf,d),kn(af,c),kn(Xs,of),c=d.nodeType,c){case 9:case 11:d=(d=d.documentElement)?d.namespaceURI:Pe(null,"");break;default:c=c===8?d.parentNode:d,d=c.namespaceURI||null,c=c.tagName,d=Pe(d,c)}On(Xs),kn(Xs,d)}function mu(){On(Xs),On(af),On(lf)}function oS(c){Fl(lf.current);var d=Fl(Xs.current),m=Pe(d,c.type);d!==m&&(kn(af,c),kn(Xs,m))}function gy(c){af.current===c&&(On(Xs),On(af))}var Un=ba(0);function Yp(c){for(var d=c;d!==null;){if(d.tag===13){var m=d.memoizedState;if(m!==null&&(m=m.dehydrated,m===null||m.data==="$?"||m.data==="$!"))return d}else if(d.tag===19&&d.memoizedProps.revealOrder!==void 0){if((d.flags&128)!==0)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===c)break;for(;d.sibling===null;){if(d.return===null||d.return===c)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}var yy=[];function vy(){for(var c=0;c<yy.length;c++)yy[c]._workInProgressVersionPrimary=null;yy.length=0}var Xp=z.ReactCurrentDispatcher,xy=z.ReactCurrentBatchConfig,Bl=0,Hn=null,cr=null,br=null,Jp=!1,cf=!1,uf=0,CI=0;function Fr(){throw Error(n(321))}function by(c,d){if(d===null)return!1;for(var m=0;m<d.length&&m<c.length;m++)if(!J(c[m],d[m]))return!1;return!0}function wy(c,d,m,x,S,T){if(Bl=T,Hn=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,Xp.current=c===null||c.memoizedState===null?II:PI,c=m(x,S),cf){T=0;do{if(cf=!1,uf=0,25<=T)throw Error(n(301));T+=1,br=cr=null,d.updateQueue=null,Xp.current=RI,c=m(x,S)}while(cf)}if(Xp.current=tm,d=cr!==null&&cr.next!==null,Bl=0,br=cr=Hn=null,Jp=!1,d)throw Error(n(300));return c}function _y(){var c=uf!==0;return uf=0,c}function Js(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return br===null?Hn.memoizedState=br=c:br=br.next=c,br}function is(){if(cr===null){var c=Hn.alternate;c=c!==null?c.memoizedState:null}else c=cr.next;var d=br===null?Hn.memoizedState:br.next;if(d!==null)br=d,cr=c;else{if(c===null)throw Error(n(310));cr=c,c={memoizedState:cr.memoizedState,baseState:cr.baseState,baseQueue:cr.baseQueue,queue:cr.queue,next:null},br===null?Hn.memoizedState=br=c:br=br.next=c}return br}function df(c,d){return typeof d=="function"?d(c):d}function Sy(c){var d=is(),m=d.queue;if(m===null)throw Error(n(311));m.lastRenderedReducer=c;var x=cr,S=x.baseQueue,T=m.pending;if(T!==null){if(S!==null){var A=S.next;S.next=T.next,T.next=A}x.baseQueue=S=T,m.pending=null}if(S!==null){T=S.next,x=x.baseState;var K=A=null,ie=null,be=T;do{var Re=be.lane;if((Bl&Re)===Re)ie!==null&&(ie=ie.next={lane:0,action:be.action,hasEagerState:be.hasEagerState,eagerState:be.eagerState,next:null}),x=be.hasEagerState?be.eagerState:c(x,be.action);else{var Me={lane:Re,action:be.action,hasEagerState:be.hasEagerState,eagerState:be.eagerState,next:null};ie===null?(K=ie=Me,A=x):ie=ie.next=Me,Hn.lanes|=Re,zl|=Re}be=be.next}while(be!==null&&be!==T);ie===null?A=x:ie.next=K,J(x,d.memoizedState)||(gi=!0),d.memoizedState=x,d.baseState=A,d.baseQueue=ie,m.lastRenderedState=x}if(c=m.interleaved,c!==null){S=c;do T=S.lane,Hn.lanes|=T,zl|=T,S=S.next;while(S!==c)}else S===null&&(m.lanes=0);return[d.memoizedState,m.dispatch]}function Ey(c){var d=is(),m=d.queue;if(m===null)throw Error(n(311));m.lastRenderedReducer=c;var x=m.dispatch,S=m.pending,T=d.memoizedState;if(S!==null){m.pending=null;var A=S=S.next;do T=c(T,A.action),A=A.next;while(A!==S);J(T,d.memoizedState)||(gi=!0),d.memoizedState=T,d.baseQueue===null&&(d.baseState=T),m.lastRenderedState=T}return[T,x]}function aS(){}function lS(c,d){var m=Hn,x=is(),S=d(),T=!J(x.memoizedState,S);if(T&&(x.memoizedState=S,gi=!0),x=x.queue,ky(dS.bind(null,m,x,c),[c]),x.getSnapshot!==d||T||br!==null&&br.memoizedState.tag&1){if(m.flags|=2048,ff(9,uS.bind(null,m,x,S,d),void 0,null),wr===null)throw Error(n(349));(Bl&30)!==0||cS(m,d,S)}return S}function cS(c,d,m){c.flags|=16384,c={getSnapshot:d,value:m},d=Hn.updateQueue,d===null?(d={lastEffect:null,stores:null},Hn.updateQueue=d,d.stores=[c]):(m=d.stores,m===null?d.stores=[c]:m.push(c))}function uS(c,d,m,x){d.value=m,d.getSnapshot=x,fS(d)&&hS(c)}function dS(c,d,m){return m(function(){fS(d)&&hS(c)})}function fS(c){var d=c.getSnapshot;c=c.value;try{var m=d();return!J(c,m)}catch{return!0}}function hS(c){var d=jo(c,1);d!==null&&Ps(d,c,1,-1)}function pS(c){var d=Js();return typeof c=="function"&&(c=c()),d.memoizedState=d.baseState=c,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:df,lastRenderedState:c},d.queue=c,c=c.dispatch=NI.bind(null,Hn,c),[d.memoizedState,c]}function ff(c,d,m,x){return c={tag:c,create:d,destroy:m,deps:x,next:null},d=Hn.updateQueue,d===null?(d={lastEffect:null,stores:null},Hn.updateQueue=d,d.lastEffect=c.next=c):(m=d.lastEffect,m===null?d.lastEffect=c.next=c:(x=m.next,m.next=c,c.next=x,d.lastEffect=c)),c}function mS(){return is().memoizedState}function Zp(c,d,m,x){var S=Js();Hn.flags|=c,S.memoizedState=ff(1|d,m,void 0,x===void 0?null:x)}function em(c,d,m,x){var S=is();x=x===void 0?null:x;var T=void 0;if(cr!==null){var A=cr.memoizedState;if(T=A.destroy,x!==null&&by(x,A.deps)){S.memoizedState=ff(d,m,T,x);return}}Hn.flags|=c,S.memoizedState=ff(1|d,m,T,x)}function gS(c,d){return Zp(8390656,8,c,d)}function ky(c,d){return em(2048,8,c,d)}function yS(c,d){return em(4,2,c,d)}function vS(c,d){return em(4,4,c,d)}function xS(c,d){if(typeof d=="function")return c=c(),d(c),function(){d(null)};if(d!=null)return c=c(),d.current=c,function(){d.current=null}}function bS(c,d,m){return m=m!=null?m.concat([c]):null,em(4,4,xS.bind(null,d,c),m)}function Cy(){}function wS(c,d){var m=is();d=d===void 0?null:d;var x=m.memoizedState;return x!==null&&d!==null&&by(d,x[1])?x[0]:(m.memoizedState=[c,d],c)}function _S(c,d){var m=is();d=d===void 0?null:d;var x=m.memoizedState;return x!==null&&d!==null&&by(d,x[1])?x[0]:(c=c(),m.memoizedState=[c,d],c)}function SS(c,d,m){return(Bl&21)===0?(c.baseState&&(c.baseState=!1,gi=!0),c.memoizedState=m):(J(m,d)||(m=Ud(),Hn.lanes|=m,zl|=m,c.baseState=!0),d)}function TI(c,d){var m=mn;mn=m!==0&&4>m?m:4,c(!0);var x=xy.transition;xy.transition={};try{c(!1),d()}finally{mn=m,xy.transition=x}}function ES(){return is().memoizedState}function jI(c,d,m){var x=ja(c);if(m={lane:x,action:m,hasEagerState:!1,eagerState:null,next:null},kS(c))CS(d,m);else if(m=nS(c,d,m,x),m!==null){var S=ti();Ps(m,c,x,S),TS(m,d,x)}}function NI(c,d,m){var x=ja(c),S={lane:x,action:m,hasEagerState:!1,eagerState:null,next:null};if(kS(c))CS(d,S);else{var T=c.alternate;if(c.lanes===0&&(T===null||T.lanes===0)&&(T=d.lastRenderedReducer,T!==null))try{var A=d.lastRenderedState,K=T(A,m);if(S.hasEagerState=!0,S.eagerState=K,J(K,A)){var ie=d.interleaved;ie===null?(S.next=S,hy(d)):(S.next=ie.next,ie.next=S),d.interleaved=S;return}}catch{}finally{}m=nS(c,d,S,x),m!==null&&(S=ti(),Ps(m,c,x,S),TS(m,d,x))}}function kS(c){var d=c.alternate;return c===Hn||d!==null&&d===Hn}function CS(c,d){cf=Jp=!0;var m=c.pending;m===null?d.next=d:(d.next=m.next,m.next=d),c.pending=d}function TS(c,d,m){if((m&4194240)!==0){var x=d.lanes;x&=c.pendingLanes,m|=x,d.lanes=m,Wc(c,m)}}var tm={readContext:rs,useCallback:Fr,useContext:Fr,useEffect:Fr,useImperativeHandle:Fr,useInsertionEffect:Fr,useLayoutEffect:Fr,useMemo:Fr,useReducer:Fr,useRef:Fr,useState:Fr,useDebugValue:Fr,useDeferredValue:Fr,useTransition:Fr,useMutableSource:Fr,useSyncExternalStore:Fr,useId:Fr,unstable_isNewReconciler:!1},II={readContext:rs,useCallback:function(c,d){return Js().memoizedState=[c,d===void 0?null:d],c},useContext:rs,useEffect:gS,useImperativeHandle:function(c,d,m){return m=m!=null?m.concat([c]):null,Zp(4194308,4,xS.bind(null,d,c),m)},useLayoutEffect:function(c,d){return Zp(4194308,4,c,d)},useInsertionEffect:function(c,d){return Zp(4,2,c,d)},useMemo:function(c,d){var m=Js();return d=d===void 0?null:d,c=c(),m.memoizedState=[c,d],c},useReducer:function(c,d,m){var x=Js();return d=m!==void 0?m(d):d,x.memoizedState=x.baseState=d,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:d},x.queue=c,c=c.dispatch=jI.bind(null,Hn,c),[x.memoizedState,c]},useRef:function(c){var d=Js();return c={current:c},d.memoizedState=c},useState:pS,useDebugValue:Cy,useDeferredValue:function(c){return Js().memoizedState=c},useTransition:function(){var c=pS(!1),d=c[0];return c=TI.bind(null,c[1]),Js().memoizedState=c,[d,c]},useMutableSource:function(){},useSyncExternalStore:function(c,d,m){var x=Hn,S=Js();if(Fn){if(m===void 0)throw Error(n(407));m=m()}else{if(m=d(),wr===null)throw Error(n(349));(Bl&30)!==0||cS(x,d,m)}S.memoizedState=m;var T={value:m,getSnapshot:d};return S.queue=T,gS(dS.bind(null,x,T,c),[c]),x.flags|=2048,ff(9,uS.bind(null,x,T,m,d),void 0,null),m},useId:function(){var c=Js(),d=wr.identifierPrefix;if(Fn){var m=To,x=Co;m=(x&~(1<<32-mt(x)-1)).toString(32)+m,d=":"+d+"R"+m,m=uf++,0<m&&(d+="H"+m.toString(32)),d+=":"}else m=CI++,d=":"+d+"r"+m.toString(32)+":";return c.memoizedState=d},unstable_isNewReconciler:!1},PI={readContext:rs,useCallback:wS,useContext:rs,useEffect:ky,useImperativeHandle:bS,useInsertionEffect:yS,useLayoutEffect:vS,useMemo:_S,useReducer:Sy,useRef:mS,useState:function(){return Sy(df)},useDebugValue:Cy,useDeferredValue:function(c){var d=is();return SS(d,cr.memoizedState,c)},useTransition:function(){var c=Sy(df)[0],d=is().memoizedState;return[c,d]},useMutableSource:aS,useSyncExternalStore:lS,useId:ES,unstable_isNewReconciler:!1},RI={readContext:rs,useCallback:wS,useContext:rs,useEffect:ky,useImperativeHandle:bS,useInsertionEffect:yS,useLayoutEffect:vS,useMemo:_S,useReducer:Ey,useRef:mS,useState:function(){return Ey(df)},useDebugValue:Cy,useDeferredValue:function(c){var d=is();return cr===null?d.memoizedState=c:SS(d,cr.memoizedState,c)},useTransition:function(){var c=Ey(df)[0],d=is().memoizedState;return[c,d]},useMutableSource:aS,useSyncExternalStore:lS,useId:ES,unstable_isNewReconciler:!1};function js(c,d){if(c&&c.defaultProps){d=F({},d),c=c.defaultProps;for(var m in c)d[m]===void 0&&(d[m]=c[m]);return d}return d}function Ty(c,d,m,x){d=c.memoizedState,m=m(x,d),m=m==null?d:F({},d,m),c.memoizedState=m,c.lanes===0&&(c.updateQueue.baseState=m)}var nm={isMounted:function(c){return(c=c._reactInternals)?$t(c)===c:!1},enqueueSetState:function(c,d,m){c=c._reactInternals;var x=ti(),S=ja(c),T=No(x,S);T.payload=d,m!=null&&(T.callback=m),d=Ea(c,T,S),d!==null&&(Ps(d,c,S,x),Kp(d,c,S))},enqueueReplaceState:function(c,d,m){c=c._reactInternals;var x=ti(),S=ja(c),T=No(x,S);T.tag=1,T.payload=d,m!=null&&(T.callback=m),d=Ea(c,T,S),d!==null&&(Ps(d,c,S,x),Kp(d,c,S))},enqueueForceUpdate:function(c,d){c=c._reactInternals;var m=ti(),x=ja(c),S=No(m,x);S.tag=2,d!=null&&(S.callback=d),d=Ea(c,S,x),d!==null&&(Ps(d,c,x,m),Kp(d,c,x))}};function jS(c,d,m,x,S,T,A){return c=c.stateNode,typeof c.shouldComponentUpdate=="function"?c.shouldComponentUpdate(x,T,A):d.prototype&&d.prototype.isPureReactComponent?!he(m,x)||!he(S,T):!0}function NS(c,d,m){var x=!1,S=wa,T=d.contextType;return typeof T=="object"&&T!==null?T=rs(T):(S=mi(d)?Al:Lr.current,x=d.contextTypes,T=(x=x!=null)?lu(c,S):wa),d=new d(m,T),c.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=nm,c.stateNode=d,d._reactInternals=c,x&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=S,c.__reactInternalMemoizedMaskedChildContext=T),d}function IS(c,d,m,x){c=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(m,x),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(m,x),d.state!==c&&nm.enqueueReplaceState(d,d.state,null)}function jy(c,d,m,x){var S=c.stateNode;S.props=m,S.state=c.memoizedState,S.refs={},py(c);var T=d.contextType;typeof T=="object"&&T!==null?S.context=rs(T):(T=mi(d)?Al:Lr.current,S.context=lu(c,T)),S.state=c.memoizedState,T=d.getDerivedStateFromProps,typeof T=="function"&&(Ty(c,d,T,m),S.state=c.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof S.getSnapshotBeforeUpdate=="function"||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(d=S.state,typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount(),d!==S.state&&nm.enqueueReplaceState(S,S.state,null),Gp(c,m,S,x),S.state=c.memoizedState),typeof S.componentDidMount=="function"&&(c.flags|=4194308)}function gu(c,d){try{var m="",x=d;do m+=Ce(x),x=x.return;while(x);var S=m}catch(T){S=`
Error generating stack: `+T.message+`
`+T.stack}return{value:c,source:d,stack:S,digest:null}}function Ny(c,d,m){return{value:c,source:null,stack:m??null,digest:d??null}}function Iy(c,d){try{console.error(d.value)}catch(m){setTimeout(function(){throw m})}}var OI=typeof WeakMap=="function"?WeakMap:Map;function PS(c,d,m){m=No(-1,m),m.tag=3,m.payload={element:null};var x=d.value;return m.callback=function(){cm||(cm=!0,qy=x),Iy(c,d)},m}function RS(c,d,m){m=No(-1,m),m.tag=3;var x=c.type.getDerivedStateFromError;if(typeof x=="function"){var S=d.value;m.payload=function(){return x(S)},m.callback=function(){Iy(c,d)}}var T=c.stateNode;return T!==null&&typeof T.componentDidCatch=="function"&&(m.callback=function(){Iy(c,d),typeof x!="function"&&(Ca===null?Ca=new Set([this]):Ca.add(this));var A=d.stack;this.componentDidCatch(d.value,{componentStack:A!==null?A:""})}),m}function OS(c,d,m){var x=c.pingCache;if(x===null){x=c.pingCache=new OI;var S=new Set;x.set(d,S)}else S=x.get(d),S===void 0&&(S=new Set,x.set(d,S));S.has(m)||(S.add(m),c=VI.bind(null,c,d,m),d.then(c,c))}function AS(c){do{var d;if((d=c.tag===13)&&(d=c.memoizedState,d=d!==null?d.dehydrated!==null:!0),d)return c;c=c.return}while(c!==null);return null}function MS(c,d,m,x,S){return(c.mode&1)===0?(c===d?c.flags|=65536:(c.flags|=128,m.flags|=131072,m.flags&=-52805,m.tag===1&&(m.alternate===null?m.tag=17:(d=No(-1,1),d.tag=2,Ea(m,d,1))),m.lanes|=1),c):(c.flags|=65536,c.lanes=S,c)}var AI=z.ReactCurrentOwner,gi=!1;function ei(c,d,m,x){d.child=c===null?tS(d,null,m,x):fu(d,c.child,m,x)}function DS(c,d,m,x,S){m=m.render;var T=d.ref;return pu(d,S),x=wy(c,d,m,x,T,S),m=_y(),c!==null&&!gi?(d.updateQueue=c.updateQueue,d.flags&=-2053,c.lanes&=~S,Io(c,d,S)):(Fn&&m&&iy(d),d.flags|=1,ei(c,d,x,S),d.child)}function LS(c,d,m,x,S){if(c===null){var T=m.type;return typeof T=="function"&&!Jy(T)&&T.defaultProps===void 0&&m.compare===null&&m.defaultProps===void 0?(d.tag=15,d.type=T,FS(c,d,T,x,S)):(c=mm(m.type,null,x,d,d.mode,S),c.ref=d.ref,c.return=d,d.child=c)}if(T=c.child,(c.lanes&S)===0){var A=T.memoizedProps;if(m=m.compare,m=m!==null?m:he,m(A,x)&&c.ref===d.ref)return Io(c,d,S)}return d.flags|=1,c=Ia(T,x),c.ref=d.ref,c.return=d,d.child=c}function FS(c,d,m,x,S){if(c!==null){var T=c.memoizedProps;if(he(T,x)&&c.ref===d.ref)if(gi=!1,d.pendingProps=x=T,(c.lanes&S)!==0)(c.flags&131072)!==0&&(gi=!0);else return d.lanes=c.lanes,Io(c,d,S)}return Py(c,d,m,x,S)}function BS(c,d,m){var x=d.pendingProps,S=x.children,T=c!==null?c.memoizedState:null;if(x.mode==="hidden")if((d.mode&1)===0)d.memoizedState={baseLanes:0,cachePool:null,transitions:null},kn(vu,$i),$i|=m;else{if((m&1073741824)===0)return c=T!==null?T.baseLanes|m:m,d.lanes=d.childLanes=1073741824,d.memoizedState={baseLanes:c,cachePool:null,transitions:null},d.updateQueue=null,kn(vu,$i),$i|=c,null;d.memoizedState={baseLanes:0,cachePool:null,transitions:null},x=T!==null?T.baseLanes:m,kn(vu,$i),$i|=x}else T!==null?(x=T.baseLanes|m,d.memoizedState=null):x=m,kn(vu,$i),$i|=x;return ei(c,d,S,m),d.child}function zS(c,d){var m=d.ref;(c===null&&m!==null||c!==null&&c.ref!==m)&&(d.flags|=512,d.flags|=2097152)}function Py(c,d,m,x,S){var T=mi(m)?Al:Lr.current;return T=lu(d,T),pu(d,S),m=wy(c,d,m,x,T,S),x=_y(),c!==null&&!gi?(d.updateQueue=c.updateQueue,d.flags&=-2053,c.lanes&=~S,Io(c,d,S)):(Fn&&x&&iy(d),d.flags|=1,ei(c,d,m,S),d.child)}function $S(c,d,m,x,S){if(mi(m)){var T=!0;zp(d)}else T=!1;if(pu(d,S),d.stateNode===null)im(c,d),NS(d,m,x),jy(d,m,x,S),x=!0;else if(c===null){var A=d.stateNode,K=d.memoizedProps;A.props=K;var ie=A.context,be=m.contextType;typeof be=="object"&&be!==null?be=rs(be):(be=mi(m)?Al:Lr.current,be=lu(d,be));var Re=m.getDerivedStateFromProps,Me=typeof Re=="function"||typeof A.getSnapshotBeforeUpdate=="function";Me||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(K!==x||ie!==be)&&IS(d,A,x,be),Sa=!1;var Ie=d.memoizedState;A.state=Ie,Gp(d,x,A,S),ie=d.memoizedState,K!==x||Ie!==ie||pi.current||Sa?(typeof Re=="function"&&(Ty(d,m,Re,x),ie=d.memoizedState),(K=Sa||jS(d,m,K,x,Ie,ie,be))?(Me||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount()),typeof A.componentDidMount=="function"&&(d.flags|=4194308)):(typeof A.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=x,d.memoizedState=ie),A.props=x,A.state=ie,A.context=be,x=K):(typeof A.componentDidMount=="function"&&(d.flags|=4194308),x=!1)}else{A=d.stateNode,rS(c,d),K=d.memoizedProps,be=d.type===d.elementType?K:js(d.type,K),A.props=be,Me=d.pendingProps,Ie=A.context,ie=m.contextType,typeof ie=="object"&&ie!==null?ie=rs(ie):(ie=mi(m)?Al:Lr.current,ie=lu(d,ie));var Je=m.getDerivedStateFromProps;(Re=typeof Je=="function"||typeof A.getSnapshotBeforeUpdate=="function")||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(K!==Me||Ie!==ie)&&IS(d,A,x,ie),Sa=!1,Ie=d.memoizedState,A.state=Ie,Gp(d,x,A,S);var rt=d.memoizedState;K!==Me||Ie!==rt||pi.current||Sa?(typeof Je=="function"&&(Ty(d,m,Je,x),rt=d.memoizedState),(be=Sa||jS(d,m,be,x,Ie,rt,ie)||!1)?(Re||typeof A.UNSAFE_componentWillUpdate!="function"&&typeof A.componentWillUpdate!="function"||(typeof A.componentWillUpdate=="function"&&A.componentWillUpdate(x,rt,ie),typeof A.UNSAFE_componentWillUpdate=="function"&&A.UNSAFE_componentWillUpdate(x,rt,ie)),typeof A.componentDidUpdate=="function"&&(d.flags|=4),typeof A.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof A.componentDidUpdate!="function"||K===c.memoizedProps&&Ie===c.memoizedState||(d.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||K===c.memoizedProps&&Ie===c.memoizedState||(d.flags|=1024),d.memoizedProps=x,d.memoizedState=rt),A.props=x,A.state=rt,A.context=ie,x=be):(typeof A.componentDidUpdate!="function"||K===c.memoizedProps&&Ie===c.memoizedState||(d.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||K===c.memoizedProps&&Ie===c.memoizedState||(d.flags|=1024),x=!1)}return Ry(c,d,m,x,T,S)}function Ry(c,d,m,x,S,T){zS(c,d);var A=(d.flags&128)!==0;if(!x&&!A)return S&&Q_(d,m,!1),Io(c,d,T);x=d.stateNode,AI.current=d;var K=A&&typeof m.getDerivedStateFromError!="function"?null:x.render();return d.flags|=1,c!==null&&A?(d.child=fu(d,c.child,null,T),d.child=fu(d,null,K,T)):ei(c,d,K,T),d.memoizedState=x.state,S&&Q_(d,m,!0),d.child}function US(c){var d=c.stateNode;d.pendingContext?W_(c,d.pendingContext,d.pendingContext!==d.context):d.context&&W_(c,d.context,!1),my(c,d.containerInfo)}function HS(c,d,m,x,S){return du(),ly(S),d.flags|=256,ei(c,d,m,x),d.child}var Oy={dehydrated:null,treeContext:null,retryLane:0};function Ay(c){return{baseLanes:c,cachePool:null,transitions:null}}function WS(c,d,m){var x=d.pendingProps,S=Un.current,T=!1,A=(d.flags&128)!==0,K;if((K=A)||(K=c!==null&&c.memoizedState===null?!1:(S&2)!==0),K?(T=!0,d.flags&=-129):(c===null||c.memoizedState!==null)&&(S|=1),kn(Un,S&1),c===null)return ay(d),c=d.memoizedState,c!==null&&(c=c.dehydrated,c!==null)?((d.mode&1)===0?d.lanes=1:c.data==="$!"?d.lanes=8:d.lanes=1073741824,null):(A=x.children,c=x.fallback,T?(x=d.mode,T=d.child,A={mode:"hidden",children:A},(x&1)===0&&T!==null?(T.childLanes=0,T.pendingProps=A):T=gm(A,x,0,null),c=Wl(c,x,m,null),T.return=d,c.return=d,T.sibling=c,d.child=T,d.child.memoizedState=Ay(m),d.memoizedState=Oy,c):My(d,A));if(S=c.memoizedState,S!==null&&(K=S.dehydrated,K!==null))return MI(c,d,A,x,K,S,m);if(T){T=x.fallback,A=d.mode,S=c.child,K=S.sibling;var ie={mode:"hidden",children:x.children};return(A&1)===0&&d.child!==S?(x=d.child,x.childLanes=0,x.pendingProps=ie,d.deletions=null):(x=Ia(S,ie),x.subtreeFlags=S.subtreeFlags&14680064),K!==null?T=Ia(K,T):(T=Wl(T,A,m,null),T.flags|=2),T.return=d,x.return=d,x.sibling=T,d.child=x,x=T,T=d.child,A=c.child.memoizedState,A=A===null?Ay(m):{baseLanes:A.baseLanes|m,cachePool:null,transitions:A.transitions},T.memoizedState=A,T.childLanes=c.childLanes&~m,d.memoizedState=Oy,x}return T=c.child,c=T.sibling,x=Ia(T,{mode:"visible",children:x.children}),(d.mode&1)===0&&(x.lanes=m),x.return=d,x.sibling=null,c!==null&&(m=d.deletions,m===null?(d.deletions=[c],d.flags|=16):m.push(c)),d.child=x,d.memoizedState=null,x}function My(c,d){return d=gm({mode:"visible",children:d},c.mode,0,null),d.return=c,c.child=d}function rm(c,d,m,x){return x!==null&&ly(x),fu(d,c.child,null,m),c=My(d,d.pendingProps.children),c.flags|=2,d.memoizedState=null,c}function MI(c,d,m,x,S,T,A){if(m)return d.flags&256?(d.flags&=-257,x=Ny(Error(n(422))),rm(c,d,A,x)):d.memoizedState!==null?(d.child=c.child,d.flags|=128,null):(T=x.fallback,S=d.mode,x=gm({mode:"visible",children:x.children},S,0,null),T=Wl(T,S,A,null),T.flags|=2,x.return=d,T.return=d,x.sibling=T,d.child=x,(d.mode&1)!==0&&fu(d,c.child,null,A),d.child.memoizedState=Ay(A),d.memoizedState=Oy,T);if((d.mode&1)===0)return rm(c,d,A,null);if(S.data==="$!"){if(x=S.nextSibling&&S.nextSibling.dataset,x)var K=x.dgst;return x=K,T=Error(n(419)),x=Ny(T,x,void 0),rm(c,d,A,x)}if(K=(A&c.childLanes)!==0,gi||K){if(x=wr,x!==null){switch(A&-A){case 4:S=2;break;case 16:S=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:S=32;break;case 536870912:S=268435456;break;default:S=0}S=(S&(x.suspendedLanes|A))!==0?0:S,S!==0&&S!==T.retryLane&&(T.retryLane=S,jo(c,S),Ps(x,c,S,-1))}return Xy(),x=Ny(Error(n(421))),rm(c,d,A,x)}return S.data==="$?"?(d.flags|=128,d.child=c.child,d=KI.bind(null,c),S._reactRetry=d,null):(c=T.treeContext,zi=xa(S.nextSibling),Bi=d,Fn=!0,Ts=null,c!==null&&(ts[ns++]=Co,ts[ns++]=To,ts[ns++]=Ml,Co=c.id,To=c.overflow,Ml=d),d=My(d,x.children),d.flags|=4096,d)}function qS(c,d,m){c.lanes|=d;var x=c.alternate;x!==null&&(x.lanes|=d),fy(c.return,d,m)}function Dy(c,d,m,x,S){var T=c.memoizedState;T===null?c.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:x,tail:m,tailMode:S}:(T.isBackwards=d,T.rendering=null,T.renderingStartTime=0,T.last=x,T.tail=m,T.tailMode=S)}function QS(c,d,m){var x=d.pendingProps,S=x.revealOrder,T=x.tail;if(ei(c,d,x.children,m),x=Un.current,(x&2)!==0)x=x&1|2,d.flags|=128;else{if(c!==null&&(c.flags&128)!==0)e:for(c=d.child;c!==null;){if(c.tag===13)c.memoizedState!==null&&qS(c,m,d);else if(c.tag===19)qS(c,m,d);else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===d)break e;for(;c.sibling===null;){if(c.return===null||c.return===d)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}x&=1}if(kn(Un,x),(d.mode&1)===0)d.memoizedState=null;else switch(S){case"forwards":for(m=d.child,S=null;m!==null;)c=m.alternate,c!==null&&Yp(c)===null&&(S=m),m=m.sibling;m=S,m===null?(S=d.child,d.child=null):(S=m.sibling,m.sibling=null),Dy(d,!1,S,m,T);break;case"backwards":for(m=null,S=d.child,d.child=null;S!==null;){if(c=S.alternate,c!==null&&Yp(c)===null){d.child=S;break}c=S.sibling,S.sibling=m,m=S,S=c}Dy(d,!0,m,null,T);break;case"together":Dy(d,!1,null,null,void 0);break;default:d.memoizedState=null}return d.child}function im(c,d){(d.mode&1)===0&&c!==null&&(c.alternate=null,d.alternate=null,d.flags|=2)}function Io(c,d,m){if(c!==null&&(d.dependencies=c.dependencies),zl|=d.lanes,(m&d.childLanes)===0)return null;if(c!==null&&d.child!==c.child)throw Error(n(153));if(d.child!==null){for(c=d.child,m=Ia(c,c.pendingProps),d.child=m,m.return=d;c.sibling!==null;)c=c.sibling,m=m.sibling=Ia(c,c.pendingProps),m.return=d;m.sibling=null}return d.child}function DI(c,d,m){switch(d.tag){case 3:US(d),du();break;case 5:oS(d);break;case 1:mi(d.type)&&zp(d);break;case 4:my(d,d.stateNode.containerInfo);break;case 10:var x=d.type._context,S=d.memoizedProps.value;kn(Qp,x._currentValue),x._currentValue=S;break;case 13:if(x=d.memoizedState,x!==null)return x.dehydrated!==null?(kn(Un,Un.current&1),d.flags|=128,null):(m&d.child.childLanes)!==0?WS(c,d,m):(kn(Un,Un.current&1),c=Io(c,d,m),c!==null?c.sibling:null);kn(Un,Un.current&1);break;case 19:if(x=(m&d.childLanes)!==0,(c.flags&128)!==0){if(x)return QS(c,d,m);d.flags|=128}if(S=d.memoizedState,S!==null&&(S.rendering=null,S.tail=null,S.lastEffect=null),kn(Un,Un.current),x)break;return null;case 22:case 23:return d.lanes=0,BS(c,d,m)}return Io(c,d,m)}var VS,Ly,KS,GS;VS=function(c,d){for(var m=d.child;m!==null;){if(m.tag===5||m.tag===6)c.appendChild(m.stateNode);else if(m.tag!==4&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===d)break;for(;m.sibling===null;){if(m.return===null||m.return===d)return;m=m.return}m.sibling.return=m.return,m=m.sibling}},Ly=function(){},KS=function(c,d,m,x){var S=c.memoizedProps;if(S!==x){c=d.stateNode,Fl(Xs.current);var T=null;switch(m){case"input":S=sn(c,S),x=sn(c,x),T=[];break;case"select":S=F({},S,{value:void 0}),x=F({},x,{value:void 0}),T=[];break;case"textarea":S=pt(c,S),x=pt(c,x),T=[];break;default:typeof S.onClick!="function"&&typeof x.onClick=="function"&&(c.onclick=Lp)}Qe(m,x);var A;m=null;for(be in S)if(!x.hasOwnProperty(be)&&S.hasOwnProperty(be)&&S[be]!=null)if(be==="style"){var K=S[be];for(A in K)K.hasOwnProperty(A)&&(m||(m={}),m[A]="")}else be!=="dangerouslySetInnerHTML"&&be!=="children"&&be!=="suppressContentEditableWarning"&&be!=="suppressHydrationWarning"&&be!=="autoFocus"&&(i.hasOwnProperty(be)?T||(T=[]):(T=T||[]).push(be,null));for(be in x){var ie=x[be];if(K=S?.[be],x.hasOwnProperty(be)&&ie!==K&&(ie!=null||K!=null))if(be==="style")if(K){for(A in K)!K.hasOwnProperty(A)||ie&&ie.hasOwnProperty(A)||(m||(m={}),m[A]="");for(A in ie)ie.hasOwnProperty(A)&&K[A]!==ie[A]&&(m||(m={}),m[A]=ie[A])}else m||(T||(T=[]),T.push(be,m)),m=ie;else be==="dangerouslySetInnerHTML"?(ie=ie?ie.__html:void 0,K=K?K.__html:void 0,ie!=null&&K!==ie&&(T=T||[]).push(be,ie)):be==="children"?typeof ie!="string"&&typeof ie!="number"||(T=T||[]).push(be,""+ie):be!=="suppressContentEditableWarning"&&be!=="suppressHydrationWarning"&&(i.hasOwnProperty(be)?(ie!=null&&be==="onScroll"&&Rn("scroll",c),T||K===ie||(T=[])):(T=T||[]).push(be,ie))}m&&(T=T||[]).push("style",m);var be=T;(d.updateQueue=be)&&(d.flags|=4)}},GS=function(c,d,m,x){m!==x&&(d.flags|=4)};function hf(c,d){if(!Fn)switch(c.tailMode){case"hidden":d=c.tail;for(var m=null;d!==null;)d.alternate!==null&&(m=d),d=d.sibling;m===null?c.tail=null:m.sibling=null;break;case"collapsed":m=c.tail;for(var x=null;m!==null;)m.alternate!==null&&(x=m),m=m.sibling;x===null?d||c.tail===null?c.tail=null:c.tail.sibling=null:x.sibling=null}}function Br(c){var d=c.alternate!==null&&c.alternate.child===c.child,m=0,x=0;if(d)for(var S=c.child;S!==null;)m|=S.lanes|S.childLanes,x|=S.subtreeFlags&14680064,x|=S.flags&14680064,S.return=c,S=S.sibling;else for(S=c.child;S!==null;)m|=S.lanes|S.childLanes,x|=S.subtreeFlags,x|=S.flags,S.return=c,S=S.sibling;return c.subtreeFlags|=x,c.childLanes=m,d}function LI(c,d,m){var x=d.pendingProps;switch(sy(d),d.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Br(d),null;case 1:return mi(d.type)&&Bp(),Br(d),null;case 3:return x=d.stateNode,mu(),On(pi),On(Lr),vy(),x.pendingContext&&(x.context=x.pendingContext,x.pendingContext=null),(c===null||c.child===null)&&(Wp(d)?d.flags|=4:c===null||c.memoizedState.isDehydrated&&(d.flags&256)===0||(d.flags|=1024,Ts!==null&&(Ky(Ts),Ts=null))),Ly(c,d),Br(d),null;case 5:gy(d);var S=Fl(lf.current);if(m=d.type,c!==null&&d.stateNode!=null)KS(c,d,m,x,S),c.ref!==d.ref&&(d.flags|=512,d.flags|=2097152);else{if(!x){if(d.stateNode===null)throw Error(n(166));return Br(d),null}if(c=Fl(Xs.current),Wp(d)){x=d.stateNode,m=d.type;var T=d.memoizedProps;switch(x[Ys]=d,x[nf]=T,c=(d.mode&1)!==0,m){case"dialog":Rn("cancel",x),Rn("close",x);break;case"iframe":case"object":case"embed":Rn("load",x);break;case"video":case"audio":for(S=0;S<Zd.length;S++)Rn(Zd[S],x);break;case"source":Rn("error",x);break;case"img":case"image":case"link":Rn("error",x),Rn("load",x);break;case"details":Rn("toggle",x);break;case"input":yn(x,T),Rn("invalid",x);break;case"select":x._wrapperState={wasMultiple:!!T.multiple},Rn("invalid",x);break;case"textarea":Bt(x,T),Rn("invalid",x)}Qe(m,T),S=null;for(var A in T)if(T.hasOwnProperty(A)){var K=T[A];A==="children"?typeof K=="string"?x.textContent!==K&&(T.suppressHydrationWarning!==!0&&Dp(x.textContent,K,c),S=["children",K]):typeof K=="number"&&x.textContent!==""+K&&(T.suppressHydrationWarning!==!0&&Dp(x.textContent,K,c),S=["children",""+K]):i.hasOwnProperty(A)&&K!=null&&A==="onScroll"&&Rn("scroll",x)}switch(m){case"input":xn(x),Ri(x,T,!0);break;case"textarea":xn(x),Wn(x);break;case"select":case"option":break;default:typeof T.onClick=="function"&&(x.onclick=Lp)}x=S,d.updateQueue=x,x!==null&&(d.flags|=4)}else{A=S.nodeType===9?S:S.ownerDocument,c==="http://www.w3.org/1999/xhtml"&&(c=Ee(m)),c==="http://www.w3.org/1999/xhtml"?m==="script"?(c=A.createElement("div"),c.innerHTML="<script><\/script>",c=c.removeChild(c.firstChild)):typeof x.is=="string"?c=A.createElement(m,{is:x.is}):(c=A.createElement(m),m==="select"&&(A=c,x.multiple?A.multiple=!0:x.size&&(A.size=x.size))):c=A.createElementNS(c,m),c[Ys]=d,c[nf]=x,VS(c,d,!1,!1),d.stateNode=c;e:{switch(A=Gn(m,x),m){case"dialog":Rn("cancel",c),Rn("close",c),S=x;break;case"iframe":case"object":case"embed":Rn("load",c),S=x;break;case"video":case"audio":for(S=0;S<Zd.length;S++)Rn(Zd[S],c);S=x;break;case"source":Rn("error",c),S=x;break;case"img":case"image":case"link":Rn("error",c),Rn("load",c),S=x;break;case"details":Rn("toggle",c),S=x;break;case"input":yn(c,x),S=sn(c,x),Rn("invalid",c);break;case"option":S=x;break;case"select":c._wrapperState={wasMultiple:!!x.multiple},S=F({},x,{value:void 0}),Rn("invalid",c);break;case"textarea":Bt(c,x),S=pt(c,x),Rn("invalid",c);break;default:S=x}Qe(m,S),K=S;for(T in K)if(K.hasOwnProperty(T)){var ie=K[T];T==="style"?Yr(c,ie):T==="dangerouslySetInnerHTML"?(ie=ie?ie.__html:void 0,ie!=null&&vt(c,ie)):T==="children"?typeof ie=="string"?(m!=="textarea"||ie!=="")&&zt(c,ie):typeof ie=="number"&&zt(c,""+ie):T!=="suppressContentEditableWarning"&&T!=="suppressHydrationWarning"&&T!=="autoFocus"&&(i.hasOwnProperty(T)?ie!=null&&T==="onScroll"&&Rn("scroll",c):ie!=null&&O(c,T,ie,A))}switch(m){case"input":xn(c),Ri(c,x,!1);break;case"textarea":xn(c),Wn(c);break;case"option":x.value!=null&&c.setAttribute("value",""+qe(x.value));break;case"select":c.multiple=!!x.multiple,T=x.value,T!=null?on(c,!!x.multiple,T,!1):x.defaultValue!=null&&on(c,!!x.multiple,x.defaultValue,!0);break;default:typeof S.onClick=="function"&&(c.onclick=Lp)}switch(m){case"button":case"input":case"select":case"textarea":x=!!x.autoFocus;break e;case"img":x=!0;break e;default:x=!1}}x&&(d.flags|=4)}d.ref!==null&&(d.flags|=512,d.flags|=2097152)}return Br(d),null;case 6:if(c&&d.stateNode!=null)GS(c,d,c.memoizedProps,x);else{if(typeof x!="string"&&d.stateNode===null)throw Error(n(166));if(m=Fl(lf.current),Fl(Xs.current),Wp(d)){if(x=d.stateNode,m=d.memoizedProps,x[Ys]=d,(T=x.nodeValue!==m)&&(c=Bi,c!==null))switch(c.tag){case 3:Dp(x.nodeValue,m,(c.mode&1)!==0);break;case 5:c.memoizedProps.suppressHydrationWarning!==!0&&Dp(x.nodeValue,m,(c.mode&1)!==0)}T&&(d.flags|=4)}else x=(m.nodeType===9?m:m.ownerDocument).createTextNode(x),x[Ys]=d,d.stateNode=x}return Br(d),null;case 13:if(On(Un),x=d.memoizedState,c===null||c.memoizedState!==null&&c.memoizedState.dehydrated!==null){if(Fn&&zi!==null&&(d.mode&1)!==0&&(d.flags&128)===0)J_(),du(),d.flags|=98560,T=!1;else if(T=Wp(d),x!==null&&x.dehydrated!==null){if(c===null){if(!T)throw Error(n(318));if(T=d.memoizedState,T=T!==null?T.dehydrated:null,!T)throw Error(n(317));T[Ys]=d}else du(),(d.flags&128)===0&&(d.memoizedState=null),d.flags|=4;Br(d),T=!1}else Ts!==null&&(Ky(Ts),Ts=null),T=!0;if(!T)return d.flags&65536?d:null}return(d.flags&128)!==0?(d.lanes=m,d):(x=x!==null,x!==(c!==null&&c.memoizedState!==null)&&x&&(d.child.flags|=8192,(d.mode&1)!==0&&(c===null||(Un.current&1)!==0?ur===0&&(ur=3):Xy())),d.updateQueue!==null&&(d.flags|=4),Br(d),null);case 4:return mu(),Ly(c,d),c===null&&ef(d.stateNode.containerInfo),Br(d),null;case 10:return dy(d.type._context),Br(d),null;case 17:return mi(d.type)&&Bp(),Br(d),null;case 19:if(On(Un),T=d.memoizedState,T===null)return Br(d),null;if(x=(d.flags&128)!==0,A=T.rendering,A===null)if(x)hf(T,!1);else{if(ur!==0||c!==null&&(c.flags&128)!==0)for(c=d.child;c!==null;){if(A=Yp(c),A!==null){for(d.flags|=128,hf(T,!1),x=A.updateQueue,x!==null&&(d.updateQueue=x,d.flags|=4),d.subtreeFlags=0,x=m,m=d.child;m!==null;)T=m,c=x,T.flags&=14680066,A=T.alternate,A===null?(T.childLanes=0,T.lanes=c,T.child=null,T.subtreeFlags=0,T.memoizedProps=null,T.memoizedState=null,T.updateQueue=null,T.dependencies=null,T.stateNode=null):(T.childLanes=A.childLanes,T.lanes=A.lanes,T.child=A.child,T.subtreeFlags=0,T.deletions=null,T.memoizedProps=A.memoizedProps,T.memoizedState=A.memoizedState,T.updateQueue=A.updateQueue,T.type=A.type,c=A.dependencies,T.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),m=m.sibling;return kn(Un,Un.current&1|2),d.child}c=c.sibling}T.tail!==null&&Wt()>xu&&(d.flags|=128,x=!0,hf(T,!1),d.lanes=4194304)}else{if(!x)if(c=Yp(A),c!==null){if(d.flags|=128,x=!0,m=c.updateQueue,m!==null&&(d.updateQueue=m,d.flags|=4),hf(T,!0),T.tail===null&&T.tailMode==="hidden"&&!A.alternate&&!Fn)return Br(d),null}else 2*Wt()-T.renderingStartTime>xu&&m!==1073741824&&(d.flags|=128,x=!0,hf(T,!1),d.lanes=4194304);T.isBackwards?(A.sibling=d.child,d.child=A):(m=T.last,m!==null?m.sibling=A:d.child=A,T.last=A)}return T.tail!==null?(d=T.tail,T.rendering=d,T.tail=d.sibling,T.renderingStartTime=Wt(),d.sibling=null,m=Un.current,kn(Un,x?m&1|2:m&1),d):(Br(d),null);case 22:case 23:return Yy(),x=d.memoizedState!==null,c!==null&&c.memoizedState!==null!==x&&(d.flags|=8192),x&&(d.mode&1)!==0?($i&1073741824)!==0&&(Br(d),d.subtreeFlags&6&&(d.flags|=8192)):Br(d),null;case 24:return null;case 25:return null}throw Error(n(156,d.tag))}function FI(c,d){switch(sy(d),d.tag){case 1:return mi(d.type)&&Bp(),c=d.flags,c&65536?(d.flags=c&-65537|128,d):null;case 3:return mu(),On(pi),On(Lr),vy(),c=d.flags,(c&65536)!==0&&(c&128)===0?(d.flags=c&-65537|128,d):null;case 5:return gy(d),null;case 13:if(On(Un),c=d.memoizedState,c!==null&&c.dehydrated!==null){if(d.alternate===null)throw Error(n(340));du()}return c=d.flags,c&65536?(d.flags=c&-65537|128,d):null;case 19:return On(Un),null;case 4:return mu(),null;case 10:return dy(d.type._context),null;case 22:case 23:return Yy(),null;case 24:return null;default:return null}}var sm=!1,zr=!1,BI=typeof WeakSet=="function"?WeakSet:Set,et=null;function yu(c,d){var m=c.ref;if(m!==null)if(typeof m=="function")try{m(null)}catch(x){Qn(c,d,x)}else m.current=null}function Fy(c,d,m){try{m()}catch(x){Qn(c,d,x)}}var YS=!1;function zI(c,d){if(Y1=Vs,c=ce(),ve(c)){if("selectionStart"in c)var m={start:c.selectionStart,end:c.selectionEnd};else e:{m=(m=c.ownerDocument)&&m.defaultView||window;var x=m.getSelection&&m.getSelection();if(x&&x.rangeCount!==0){m=x.anchorNode;var S=x.anchorOffset,T=x.focusNode;x=x.focusOffset;try{m.nodeType,T.nodeType}catch{m=null;break e}var A=0,K=-1,ie=-1,be=0,Re=0,Me=c,Ie=null;t:for(;;){for(var Je;Me!==m||S!==0&&Me.nodeType!==3||(K=A+S),Me!==T||x!==0&&Me.nodeType!==3||(ie=A+x),Me.nodeType===3&&(A+=Me.nodeValue.length),(Je=Me.firstChild)!==null;)Ie=Me,Me=Je;for(;;){if(Me===c)break t;if(Ie===m&&++be===S&&(K=A),Ie===T&&++Re===x&&(ie=A),(Je=Me.nextSibling)!==null)break;Me=Ie,Ie=Me.parentNode}Me=Je}m=K===-1||ie===-1?null:{start:K,end:ie}}else m=null}m=m||{start:0,end:0}}else m=null;for(X1={focusedElem:c,selectionRange:m},Vs=!1,et=d;et!==null;)if(d=et,c=d.child,(d.subtreeFlags&1028)!==0&&c!==null)c.return=d,et=c;else for(;et!==null;){d=et;try{var rt=d.alternate;if((d.flags&1024)!==0)switch(d.tag){case 0:case 11:case 15:break;case 1:if(rt!==null){var st=rt.memoizedProps,Xn=rt.memoizedState,ge=d.stateNode,le=ge.getSnapshotBeforeUpdate(d.elementType===d.type?st:js(d.type,st),Xn);ge.__reactInternalSnapshotBeforeUpdate=le}break;case 3:var xe=d.stateNode.containerInfo;xe.nodeType===1?xe.textContent="":xe.nodeType===9&&xe.documentElement&&xe.removeChild(xe.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch($e){Qn(d,d.return,$e)}if(c=d.sibling,c!==null){c.return=d.return,et=c;break}et=d.return}return rt=YS,YS=!1,rt}function pf(c,d,m){var x=d.updateQueue;if(x=x!==null?x.lastEffect:null,x!==null){var S=x=x.next;do{if((S.tag&c)===c){var T=S.destroy;S.destroy=void 0,T!==void 0&&Fy(d,m,T)}S=S.next}while(S!==x)}}function om(c,d){if(d=d.updateQueue,d=d!==null?d.lastEffect:null,d!==null){var m=d=d.next;do{if((m.tag&c)===c){var x=m.create;m.destroy=x()}m=m.next}while(m!==d)}}function By(c){var d=c.ref;if(d!==null){var m=c.stateNode;switch(c.tag){case 5:c=m;break;default:c=m}typeof d=="function"?d(c):d.current=c}}function XS(c){var d=c.alternate;d!==null&&(c.alternate=null,XS(d)),c.child=null,c.deletions=null,c.sibling=null,c.tag===5&&(d=c.stateNode,d!==null&&(delete d[Ys],delete d[nf],delete d[ty],delete d[_I],delete d[SI])),c.stateNode=null,c.return=null,c.dependencies=null,c.memoizedProps=null,c.memoizedState=null,c.pendingProps=null,c.stateNode=null,c.updateQueue=null}function JS(c){return c.tag===5||c.tag===3||c.tag===4}function ZS(c){e:for(;;){for(;c.sibling===null;){if(c.return===null||JS(c.return))return null;c=c.return}for(c.sibling.return=c.return,c=c.sibling;c.tag!==5&&c.tag!==6&&c.tag!==18;){if(c.flags&2||c.child===null||c.tag===4)continue e;c.child.return=c,c=c.child}if(!(c.flags&2))return c.stateNode}}function zy(c,d,m){var x=c.tag;if(x===5||x===6)c=c.stateNode,d?m.nodeType===8?m.parentNode.insertBefore(c,d):m.insertBefore(c,d):(m.nodeType===8?(d=m.parentNode,d.insertBefore(c,m)):(d=m,d.appendChild(c)),m=m._reactRootContainer,m!=null||d.onclick!==null||(d.onclick=Lp));else if(x!==4&&(c=c.child,c!==null))for(zy(c,d,m),c=c.sibling;c!==null;)zy(c,d,m),c=c.sibling}function $y(c,d,m){var x=c.tag;if(x===5||x===6)c=c.stateNode,d?m.insertBefore(c,d):m.appendChild(c);else if(x!==4&&(c=c.child,c!==null))for($y(c,d,m),c=c.sibling;c!==null;)$y(c,d,m),c=c.sibling}var Nr=null,Ns=!1;function ka(c,d,m){for(m=m.child;m!==null;)e3(c,d,m),m=m.sibling}function e3(c,d,m){if(Jt&&typeof Jt.onCommitFiberUnmount=="function")try{Jt.onCommitFiberUnmount(Mi,m)}catch{}switch(m.tag){case 5:zr||yu(m,d);case 6:var x=Nr,S=Ns;Nr=null,ka(c,d,m),Nr=x,Ns=S,Nr!==null&&(Ns?(c=Nr,m=m.stateNode,c.nodeType===8?c.parentNode.removeChild(m):c.removeChild(m)):Nr.removeChild(m.stateNode));break;case 18:Nr!==null&&(Ns?(c=Nr,m=m.stateNode,c.nodeType===8?ey(c.parentNode,m):c.nodeType===1&&ey(c,m),fa(c)):ey(Nr,m.stateNode));break;case 4:x=Nr,S=Ns,Nr=m.stateNode.containerInfo,Ns=!0,ka(c,d,m),Nr=x,Ns=S;break;case 0:case 11:case 14:case 15:if(!zr&&(x=m.updateQueue,x!==null&&(x=x.lastEffect,x!==null))){S=x=x.next;do{var T=S,A=T.destroy;T=T.tag,A!==void 0&&((T&2)!==0||(T&4)!==0)&&Fy(m,d,A),S=S.next}while(S!==x)}ka(c,d,m);break;case 1:if(!zr&&(yu(m,d),x=m.stateNode,typeof x.componentWillUnmount=="function"))try{x.props=m.memoizedProps,x.state=m.memoizedState,x.componentWillUnmount()}catch(K){Qn(m,d,K)}ka(c,d,m);break;case 21:ka(c,d,m);break;case 22:m.mode&1?(zr=(x=zr)||m.memoizedState!==null,ka(c,d,m),zr=x):ka(c,d,m);break;default:ka(c,d,m)}}function t3(c){var d=c.updateQueue;if(d!==null){c.updateQueue=null;var m=c.stateNode;m===null&&(m=c.stateNode=new BI),d.forEach(function(x){var S=GI.bind(null,c,x);m.has(x)||(m.add(x),x.then(S,S))})}}function Is(c,d){var m=d.deletions;if(m!==null)for(var x=0;x<m.length;x++){var S=m[x];try{var T=c,A=d,K=A;e:for(;K!==null;){switch(K.tag){case 5:Nr=K.stateNode,Ns=!1;break e;case 3:Nr=K.stateNode.containerInfo,Ns=!0;break e;case 4:Nr=K.stateNode.containerInfo,Ns=!0;break e}K=K.return}if(Nr===null)throw Error(n(160));e3(T,A,S),Nr=null,Ns=!1;var ie=S.alternate;ie!==null&&(ie.return=null),S.return=null}catch(be){Qn(S,d,be)}}if(d.subtreeFlags&12854)for(d=d.child;d!==null;)n3(d,c),d=d.sibling}function n3(c,d){var m=c.alternate,x=c.flags;switch(c.tag){case 0:case 11:case 14:case 15:if(Is(d,c),Zs(c),x&4){try{pf(3,c,c.return),om(3,c)}catch(st){Qn(c,c.return,st)}try{pf(5,c,c.return)}catch(st){Qn(c,c.return,st)}}break;case 1:Is(d,c),Zs(c),x&512&&m!==null&&yu(m,m.return);break;case 5:if(Is(d,c),Zs(c),x&512&&m!==null&&yu(m,m.return),c.flags&32){var S=c.stateNode;try{zt(S,"")}catch(st){Qn(c,c.return,st)}}if(x&4&&(S=c.stateNode,S!=null)){var T=c.memoizedProps,A=m!==null?m.memoizedProps:T,K=c.type,ie=c.updateQueue;if(c.updateQueue=null,ie!==null)try{K==="input"&&T.type==="radio"&&T.name!=null&&Pi(S,T),Gn(K,A);var be=Gn(K,T);for(A=0;A<ie.length;A+=2){var Re=ie[A],Me=ie[A+1];Re==="style"?Yr(S,Me):Re==="dangerouslySetInnerHTML"?vt(S,Me):Re==="children"?zt(S,Me):O(S,Re,Me,be)}switch(K){case"input":Gr(S,T);break;case"textarea":Pt(S,T);break;case"select":var Ie=S._wrapperState.wasMultiple;S._wrapperState.wasMultiple=!!T.multiple;var Je=T.value;Je!=null?on(S,!!T.multiple,Je,!1):Ie!==!!T.multiple&&(T.defaultValue!=null?on(S,!!T.multiple,T.defaultValue,!0):on(S,!!T.multiple,T.multiple?[]:"",!1))}S[nf]=T}catch(st){Qn(c,c.return,st)}}break;case 6:if(Is(d,c),Zs(c),x&4){if(c.stateNode===null)throw Error(n(162));S=c.stateNode,T=c.memoizedProps;try{S.nodeValue=T}catch(st){Qn(c,c.return,st)}}break;case 3:if(Is(d,c),Zs(c),x&4&&m!==null&&m.memoizedState.isDehydrated)try{fa(d.containerInfo)}catch(st){Qn(c,c.return,st)}break;case 4:Is(d,c),Zs(c);break;case 13:Is(d,c),Zs(c),S=c.child,S.flags&8192&&(T=S.memoizedState!==null,S.stateNode.isHidden=T,!T||S.alternate!==null&&S.alternate.memoizedState!==null||(Wy=Wt())),x&4&&t3(c);break;case 22:if(Re=m!==null&&m.memoizedState!==null,c.mode&1?(zr=(be=zr)||Re,Is(d,c),zr=be):Is(d,c),Zs(c),x&8192){if(be=c.memoizedState!==null,(c.stateNode.isHidden=be)&&!Re&&(c.mode&1)!==0)for(et=c,Re=c.child;Re!==null;){for(Me=et=Re;et!==null;){switch(Ie=et,Je=Ie.child,Ie.tag){case 0:case 11:case 14:case 15:pf(4,Ie,Ie.return);break;case 1:yu(Ie,Ie.return);var rt=Ie.stateNode;if(typeof rt.componentWillUnmount=="function"){x=Ie,m=Ie.return;try{d=x,rt.props=d.memoizedProps,rt.state=d.memoizedState,rt.componentWillUnmount()}catch(st){Qn(x,m,st)}}break;case 5:yu(Ie,Ie.return);break;case 22:if(Ie.memoizedState!==null){s3(Me);continue}}Je!==null?(Je.return=Ie,et=Je):s3(Me)}Re=Re.sibling}e:for(Re=null,Me=c;;){if(Me.tag===5){if(Re===null){Re=Me;try{S=Me.stateNode,be?(T=S.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none"):(K=Me.stateNode,ie=Me.memoizedProps.style,A=ie!=null&&ie.hasOwnProperty("display")?ie.display:null,K.style.display=tr("display",A))}catch(st){Qn(c,c.return,st)}}}else if(Me.tag===6){if(Re===null)try{Me.stateNode.nodeValue=be?"":Me.memoizedProps}catch(st){Qn(c,c.return,st)}}else if((Me.tag!==22&&Me.tag!==23||Me.memoizedState===null||Me===c)&&Me.child!==null){Me.child.return=Me,Me=Me.child;continue}if(Me===c)break e;for(;Me.sibling===null;){if(Me.return===null||Me.return===c)break e;Re===Me&&(Re=null),Me=Me.return}Re===Me&&(Re=null),Me.sibling.return=Me.return,Me=Me.sibling}}break;case 19:Is(d,c),Zs(c),x&4&&t3(c);break;case 21:break;default:Is(d,c),Zs(c)}}function Zs(c){var d=c.flags;if(d&2){try{e:{for(var m=c.return;m!==null;){if(JS(m)){var x=m;break e}m=m.return}throw Error(n(160))}switch(x.tag){case 5:var S=x.stateNode;x.flags&32&&(zt(S,""),x.flags&=-33);var T=ZS(c);$y(c,T,S);break;case 3:case 4:var A=x.stateNode.containerInfo,K=ZS(c);zy(c,K,A);break;default:throw Error(n(161))}}catch(ie){Qn(c,c.return,ie)}c.flags&=-3}d&4096&&(c.flags&=-4097)}function $I(c,d,m){et=c,r3(c)}function r3(c,d,m){for(var x=(c.mode&1)!==0;et!==null;){var S=et,T=S.child;if(S.tag===22&&x){var A=S.memoizedState!==null||sm;if(!A){var K=S.alternate,ie=K!==null&&K.memoizedState!==null||zr;K=sm;var be=zr;if(sm=A,(zr=ie)&&!be)for(et=S;et!==null;)A=et,ie=A.child,A.tag===22&&A.memoizedState!==null?o3(S):ie!==null?(ie.return=A,et=ie):o3(S);for(;T!==null;)et=T,r3(T),T=T.sibling;et=S,sm=K,zr=be}i3(c)}else(S.subtreeFlags&8772)!==0&&T!==null?(T.return=S,et=T):i3(c)}}function i3(c){for(;et!==null;){var d=et;if((d.flags&8772)!==0){var m=d.alternate;try{if((d.flags&8772)!==0)switch(d.tag){case 0:case 11:case 15:zr||om(5,d);break;case 1:var x=d.stateNode;if(d.flags&4&&!zr)if(m===null)x.componentDidMount();else{var S=d.elementType===d.type?m.memoizedProps:js(d.type,m.memoizedProps);x.componentDidUpdate(S,m.memoizedState,x.__reactInternalSnapshotBeforeUpdate)}var T=d.updateQueue;T!==null&&sS(d,T,x);break;case 3:var A=d.updateQueue;if(A!==null){if(m=null,d.child!==null)switch(d.child.tag){case 5:m=d.child.stateNode;break;case 1:m=d.child.stateNode}sS(d,A,m)}break;case 5:var K=d.stateNode;if(m===null&&d.flags&4){m=K;var ie=d.memoizedProps;switch(d.type){case"button":case"input":case"select":case"textarea":ie.autoFocus&&m.focus();break;case"img":ie.src&&(m.src=ie.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(d.memoizedState===null){var be=d.alternate;if(be!==null){var Re=be.memoizedState;if(Re!==null){var Me=Re.dehydrated;Me!==null&&fa(Me)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}zr||d.flags&512&&By(d)}catch(Ie){Qn(d,d.return,Ie)}}if(d===c){et=null;break}if(m=d.sibling,m!==null){m.return=d.return,et=m;break}et=d.return}}function s3(c){for(;et!==null;){var d=et;if(d===c){et=null;break}var m=d.sibling;if(m!==null){m.return=d.return,et=m;break}et=d.return}}function o3(c){for(;et!==null;){var d=et;try{switch(d.tag){case 0:case 11:case 15:var m=d.return;try{om(4,d)}catch(ie){Qn(d,m,ie)}break;case 1:var x=d.stateNode;if(typeof x.componentDidMount=="function"){var S=d.return;try{x.componentDidMount()}catch(ie){Qn(d,S,ie)}}var T=d.return;try{By(d)}catch(ie){Qn(d,T,ie)}break;case 5:var A=d.return;try{By(d)}catch(ie){Qn(d,A,ie)}}}catch(ie){Qn(d,d.return,ie)}if(d===c){et=null;break}var K=d.sibling;if(K!==null){K.return=d.return,et=K;break}et=d.return}}var UI=Math.ceil,am=z.ReactCurrentDispatcher,Uy=z.ReactCurrentOwner,ss=z.ReactCurrentBatchConfig,ln=0,wr=null,rr=null,Ir=0,$i=0,vu=ba(0),ur=0,mf=null,zl=0,lm=0,Hy=0,gf=null,yi=null,Wy=0,xu=1/0,Po=null,cm=!1,qy=null,Ca=null,um=!1,Ta=null,dm=0,yf=0,Qy=null,fm=-1,hm=0;function ti(){return(ln&6)!==0?Wt():fm!==-1?fm:fm=Wt()}function ja(c){return(c.mode&1)===0?1:(ln&2)!==0&&Ir!==0?Ir&-Ir:kI.transition!==null?(hm===0&&(hm=Ud()),hm):(c=mn,c!==0||(c=window.event,c=c===void 0?16:wp(c.type)),c)}function Ps(c,d,m,x){if(50<yf)throw yf=0,Qy=null,Error(n(185));ua(c,m,x),((ln&2)===0||c!==wr)&&(c===wr&&((ln&2)===0&&(lm|=m),ur===4&&Na(c,Ir)),vi(c,x),m===1&&ln===0&&(d.mode&1)===0&&(xu=Wt()+500,$p&&_a()))}function vi(c,d){var m=c.callbackNode;$d(c,d);var x=ws(c,c===wr?Ir:0);if(x===0)m!==null&&Xr(m),c.callbackNode=null,c.callbackPriority=0;else if(d=x&-x,c.callbackPriority!==d){if(m!=null&&Xr(m),d===1)c.tag===0?EI(l3.bind(null,c)):V_(l3.bind(null,c)),bI(function(){(ln&6)===0&&_a()}),m=null;else{switch(Zt(x)){case 1:m=Jr;break;case 4:m=Ji;break;case 16:m=qt;break;case 536870912:m=Zr;break;default:m=qt}m=g3(m,a3.bind(null,c))}c.callbackPriority=d,c.callbackNode=m}}function a3(c,d){if(fm=-1,hm=0,(ln&6)!==0)throw Error(n(327));var m=c.callbackNode;if(bu()&&c.callbackNode!==m)return null;var x=ws(c,c===wr?Ir:0);if(x===0)return null;if((x&30)!==0||(x&c.expiredLanes)!==0||d)d=pm(c,x);else{d=x;var S=ln;ln|=2;var T=u3();(wr!==c||Ir!==d)&&(Po=null,xu=Wt()+500,Ul(c,d));do try{qI();break}catch(K){c3(c,K)}while(!0);uy(),am.current=T,ln=S,rr!==null?d=0:(wr=null,Ir=0,d=ur)}if(d!==0){if(d===2&&(S=la(c),S!==0&&(x=S,d=Vy(c,S))),d===1)throw m=mf,Ul(c,0),Na(c,x),vi(c,Wt()),m;if(d===6)Na(c,x);else{if(S=c.current.alternate,(x&30)===0&&!HI(S)&&(d=pm(c,x),d===2&&(T=la(c),T!==0&&(x=T,d=Vy(c,T))),d===1))throw m=mf,Ul(c,0),Na(c,x),vi(c,Wt()),m;switch(c.finishedWork=S,c.finishedLanes=x,d){case 0:case 1:throw Error(n(345));case 2:Hl(c,yi,Po);break;case 3:if(Na(c,x),(x&130023424)===x&&(d=Wy+500-Wt(),10<d)){if(ws(c,0)!==0)break;if(S=c.suspendedLanes,(S&x)!==x){ti(),c.pingedLanes|=c.suspendedLanes&S;break}c.timeoutHandle=Z1(Hl.bind(null,c,yi,Po),d);break}Hl(c,yi,Po);break;case 4:if(Na(c,x),(x&4194240)===x)break;for(d=c.eventTimes,S=-1;0<x;){var A=31-mt(x);T=1<<A,A=d[A],A>S&&(S=A),x&=~T}if(x=S,x=Wt()-x,x=(120>x?120:480>x?480:1080>x?1080:1920>x?1920:3e3>x?3e3:4320>x?4320:1960*UI(x/1960))-x,10<x){c.timeoutHandle=Z1(Hl.bind(null,c,yi,Po),x);break}Hl(c,yi,Po);break;case 5:Hl(c,yi,Po);break;default:throw Error(n(329))}}}return vi(c,Wt()),c.callbackNode===m?a3.bind(null,c):null}function Vy(c,d){var m=gf;return c.current.memoizedState.isDehydrated&&(Ul(c,d).flags|=256),c=pm(c,d),c!==2&&(d=yi,yi=m,d!==null&&Ky(d)),c}function Ky(c){yi===null?yi=c:yi.push.apply(yi,c)}function HI(c){for(var d=c;;){if(d.flags&16384){var m=d.updateQueue;if(m!==null&&(m=m.stores,m!==null))for(var x=0;x<m.length;x++){var S=m[x],T=S.getSnapshot;S=S.value;try{if(!J(T(),S))return!1}catch{return!1}}}if(m=d.child,d.subtreeFlags&16384&&m!==null)m.return=d,d=m;else{if(d===c)break;for(;d.sibling===null;){if(d.return===null||d.return===c)return!0;d=d.return}d.sibling.return=d.return,d=d.sibling}}return!0}function Na(c,d){for(d&=~Hy,d&=~lm,c.suspendedLanes|=d,c.pingedLanes&=~d,c=c.expirationTimes;0<d;){var m=31-mt(d),x=1<<m;c[m]=-1,d&=~x}}function l3(c){if((ln&6)!==0)throw Error(n(327));bu();var d=ws(c,0);if((d&1)===0)return vi(c,Wt()),null;var m=pm(c,d);if(c.tag!==0&&m===2){var x=la(c);x!==0&&(d=x,m=Vy(c,x))}if(m===1)throw m=mf,Ul(c,0),Na(c,d),vi(c,Wt()),m;if(m===6)throw Error(n(345));return c.finishedWork=c.current.alternate,c.finishedLanes=d,Hl(c,yi,Po),vi(c,Wt()),null}function Gy(c,d){var m=ln;ln|=1;try{return c(d)}finally{ln=m,ln===0&&(xu=Wt()+500,$p&&_a())}}function $l(c){Ta!==null&&Ta.tag===0&&(ln&6)===0&&bu();var d=ln;ln|=1;var m=ss.transition,x=mn;try{if(ss.transition=null,mn=1,c)return c()}finally{mn=x,ss.transition=m,ln=d,(ln&6)===0&&_a()}}function Yy(){$i=vu.current,On(vu)}function Ul(c,d){c.finishedWork=null,c.finishedLanes=0;var m=c.timeoutHandle;if(m!==-1&&(c.timeoutHandle=-1,xI(m)),rr!==null)for(m=rr.return;m!==null;){var x=m;switch(sy(x),x.tag){case 1:x=x.type.childContextTypes,x!=null&&Bp();break;case 3:mu(),On(pi),On(Lr),vy();break;case 5:gy(x);break;case 4:mu();break;case 13:On(Un);break;case 19:On(Un);break;case 10:dy(x.type._context);break;case 22:case 23:Yy()}m=m.return}if(wr=c,rr=c=Ia(c.current,null),Ir=$i=d,ur=0,mf=null,Hy=lm=zl=0,yi=gf=null,Ll!==null){for(d=0;d<Ll.length;d++)if(m=Ll[d],x=m.interleaved,x!==null){m.interleaved=null;var S=x.next,T=m.pending;if(T!==null){var A=T.next;T.next=S,x.next=A}m.pending=x}Ll=null}return c}function c3(c,d){do{var m=rr;try{if(uy(),Xp.current=tm,Jp){for(var x=Hn.memoizedState;x!==null;){var S=x.queue;S!==null&&(S.pending=null),x=x.next}Jp=!1}if(Bl=0,br=cr=Hn=null,cf=!1,uf=0,Uy.current=null,m===null||m.return===null){ur=1,mf=d,rr=null;break}e:{var T=c,A=m.return,K=m,ie=d;if(d=Ir,K.flags|=32768,ie!==null&&typeof ie=="object"&&typeof ie.then=="function"){var be=ie,Re=K,Me=Re.tag;if((Re.mode&1)===0&&(Me===0||Me===11||Me===15)){var Ie=Re.alternate;Ie?(Re.updateQueue=Ie.updateQueue,Re.memoizedState=Ie.memoizedState,Re.lanes=Ie.lanes):(Re.updateQueue=null,Re.memoizedState=null)}var Je=AS(A);if(Je!==null){Je.flags&=-257,MS(Je,A,K,T,d),Je.mode&1&&OS(T,be,d),d=Je,ie=be;var rt=d.updateQueue;if(rt===null){var st=new Set;st.add(ie),d.updateQueue=st}else rt.add(ie);break e}else{if((d&1)===0){OS(T,be,d),Xy();break e}ie=Error(n(426))}}else if(Fn&&K.mode&1){var Xn=AS(A);if(Xn!==null){(Xn.flags&65536)===0&&(Xn.flags|=256),MS(Xn,A,K,T,d),ly(gu(ie,K));break e}}T=ie=gu(ie,K),ur!==4&&(ur=2),gf===null?gf=[T]:gf.push(T),T=A;do{switch(T.tag){case 3:T.flags|=65536,d&=-d,T.lanes|=d;var ge=PS(T,ie,d);iS(T,ge);break e;case 1:K=ie;var le=T.type,xe=T.stateNode;if((T.flags&128)===0&&(typeof le.getDerivedStateFromError=="function"||xe!==null&&typeof xe.componentDidCatch=="function"&&(Ca===null||!Ca.has(xe)))){T.flags|=65536,d&=-d,T.lanes|=d;var $e=RS(T,K,d);iS(T,$e);break e}}T=T.return}while(T!==null)}f3(m)}catch(ot){d=ot,rr===m&&m!==null&&(rr=m=m.return);continue}break}while(!0)}function u3(){var c=am.current;return am.current=tm,c===null?tm:c}function Xy(){(ur===0||ur===3||ur===2)&&(ur=4),wr===null||(zl&268435455)===0&&(lm&268435455)===0||Na(wr,Ir)}function pm(c,d){var m=ln;ln|=2;var x=u3();(wr!==c||Ir!==d)&&(Po=null,Ul(c,d));do try{WI();break}catch(S){c3(c,S)}while(!0);if(uy(),ln=m,am.current=x,rr!==null)throw Error(n(261));return wr=null,Ir=0,ur}function WI(){for(;rr!==null;)d3(rr)}function qI(){for(;rr!==null&&!tn();)d3(rr)}function d3(c){var d=m3(c.alternate,c,$i);c.memoizedProps=c.pendingProps,d===null?f3(c):rr=d,Uy.current=null}function f3(c){var d=c;do{var m=d.alternate;if(c=d.return,(d.flags&32768)===0){if(m=LI(m,d,$i),m!==null){rr=m;return}}else{if(m=FI(m,d),m!==null){m.flags&=32767,rr=m;return}if(c!==null)c.flags|=32768,c.subtreeFlags=0,c.deletions=null;else{ur=6,rr=null;return}}if(d=d.sibling,d!==null){rr=d;return}rr=d=c}while(d!==null);ur===0&&(ur=5)}function Hl(c,d,m){var x=mn,S=ss.transition;try{ss.transition=null,mn=1,QI(c,d,m,x)}finally{ss.transition=S,mn=x}return null}function QI(c,d,m,x){do bu();while(Ta!==null);if((ln&6)!==0)throw Error(n(327));m=c.finishedWork;var S=c.finishedLanes;if(m===null)return null;if(c.finishedWork=null,c.finishedLanes=0,m===c.current)throw Error(n(177));c.callbackNode=null,c.callbackPriority=0;var T=m.lanes|m.childLanes;if(vl(c,T),c===wr&&(rr=wr=null,Ir=0),(m.subtreeFlags&2064)===0&&(m.flags&2064)===0||um||(um=!0,g3(qt,function(){return bu(),null})),T=(m.flags&15990)!==0,(m.subtreeFlags&15990)!==0||T){T=ss.transition,ss.transition=null;var A=mn;mn=1;var K=ln;ln|=4,Uy.current=null,zI(c,m),n3(m,c),we(X1),Vs=!!Y1,X1=Y1=null,c.current=m,$I(m),Ai(),ln=K,mn=A,ss.transition=T}else c.current=m;if(um&&(um=!1,Ta=c,dm=S),T=c.pendingLanes,T===0&&(Ca=null),mo(m.stateNode),vi(c,Wt()),d!==null)for(x=c.onRecoverableError,m=0;m<d.length;m++)S=d[m],x(S.value,{componentStack:S.stack,digest:S.digest});if(cm)throw cm=!1,c=qy,qy=null,c;return(dm&1)!==0&&c.tag!==0&&bu(),T=c.pendingLanes,(T&1)!==0?c===Qy?yf++:(yf=0,Qy=c):yf=0,_a(),null}function bu(){if(Ta!==null){var c=Zt(dm),d=ss.transition,m=mn;try{if(ss.transition=null,mn=16>c?16:c,Ta===null)var x=!1;else{if(c=Ta,Ta=null,dm=0,(ln&6)!==0)throw Error(n(331));var S=ln;for(ln|=4,et=c.current;et!==null;){var T=et,A=T.child;if((et.flags&16)!==0){var K=T.deletions;if(K!==null){for(var ie=0;ie<K.length;ie++){var be=K[ie];for(et=be;et!==null;){var Re=et;switch(Re.tag){case 0:case 11:case 15:pf(8,Re,T)}var Me=Re.child;if(Me!==null)Me.return=Re,et=Me;else for(;et!==null;){Re=et;var Ie=Re.sibling,Je=Re.return;if(XS(Re),Re===be){et=null;break}if(Ie!==null){Ie.return=Je,et=Ie;break}et=Je}}}var rt=T.alternate;if(rt!==null){var st=rt.child;if(st!==null){rt.child=null;do{var Xn=st.sibling;st.sibling=null,st=Xn}while(st!==null)}}et=T}}if((T.subtreeFlags&2064)!==0&&A!==null)A.return=T,et=A;else e:for(;et!==null;){if(T=et,(T.flags&2048)!==0)switch(T.tag){case 0:case 11:case 15:pf(9,T,T.return)}var ge=T.sibling;if(ge!==null){ge.return=T.return,et=ge;break e}et=T.return}}var le=c.current;for(et=le;et!==null;){A=et;var xe=A.child;if((A.subtreeFlags&2064)!==0&&xe!==null)xe.return=A,et=xe;else e:for(A=le;et!==null;){if(K=et,(K.flags&2048)!==0)try{switch(K.tag){case 0:case 11:case 15:om(9,K)}}catch(ot){Qn(K,K.return,ot)}if(K===A){et=null;break e}var $e=K.sibling;if($e!==null){$e.return=K.return,et=$e;break e}et=K.return}}if(ln=S,_a(),Jt&&typeof Jt.onPostCommitFiberRoot=="function")try{Jt.onPostCommitFiberRoot(Mi,c)}catch{}x=!0}return x}finally{mn=m,ss.transition=d}}return!1}function h3(c,d,m){d=gu(m,d),d=PS(c,d,1),c=Ea(c,d,1),d=ti(),c!==null&&(ua(c,1,d),vi(c,d))}function Qn(c,d,m){if(c.tag===3)h3(c,c,m);else for(;d!==null;){if(d.tag===3){h3(d,c,m);break}else if(d.tag===1){var x=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof x.componentDidCatch=="function"&&(Ca===null||!Ca.has(x))){c=gu(m,c),c=RS(d,c,1),d=Ea(d,c,1),c=ti(),d!==null&&(ua(d,1,c),vi(d,c));break}}d=d.return}}function VI(c,d,m){var x=c.pingCache;x!==null&&x.delete(d),d=ti(),c.pingedLanes|=c.suspendedLanes&m,wr===c&&(Ir&m)===m&&(ur===4||ur===3&&(Ir&130023424)===Ir&&500>Wt()-Wy?Ul(c,0):Hy|=m),vi(c,d)}function p3(c,d){d===0&&((c.mode&1)===0?d=1:(d=Qs,Qs<<=1,(Qs&130023424)===0&&(Qs=4194304)));var m=ti();c=jo(c,d),c!==null&&(ua(c,d,m),vi(c,m))}function KI(c){var d=c.memoizedState,m=0;d!==null&&(m=d.retryLane),p3(c,m)}function GI(c,d){var m=0;switch(c.tag){case 13:var x=c.stateNode,S=c.memoizedState;S!==null&&(m=S.retryLane);break;case 19:x=c.stateNode;break;default:throw Error(n(314))}x!==null&&x.delete(d),p3(c,m)}var m3;m3=function(c,d,m){if(c!==null)if(c.memoizedProps!==d.pendingProps||pi.current)gi=!0;else{if((c.lanes&m)===0&&(d.flags&128)===0)return gi=!1,DI(c,d,m);gi=(c.flags&131072)!==0}else gi=!1,Fn&&(d.flags&1048576)!==0&&K_(d,Hp,d.index);switch(d.lanes=0,d.tag){case 2:var x=d.type;im(c,d),c=d.pendingProps;var S=lu(d,Lr.current);pu(d,m),S=wy(null,d,x,c,S,m);var T=_y();return d.flags|=1,typeof S=="object"&&S!==null&&typeof S.render=="function"&&S.$$typeof===void 0?(d.tag=1,d.memoizedState=null,d.updateQueue=null,mi(x)?(T=!0,zp(d)):T=!1,d.memoizedState=S.state!==null&&S.state!==void 0?S.state:null,py(d),S.updater=nm,d.stateNode=S,S._reactInternals=d,jy(d,x,c,m),d=Ry(null,d,x,!0,T,m)):(d.tag=0,Fn&&T&&iy(d),ei(null,d,S,m),d=d.child),d;case 16:x=d.elementType;e:{switch(im(c,d),c=d.pendingProps,S=x._init,x=S(x._payload),d.type=x,S=d.tag=XI(x),c=js(x,c),S){case 0:d=Py(null,d,x,c,m);break e;case 1:d=$S(null,d,x,c,m);break e;case 11:d=DS(null,d,x,c,m);break e;case 14:d=LS(null,d,x,js(x.type,c),m);break e}throw Error(n(306,x,""))}return d;case 0:return x=d.type,S=d.pendingProps,S=d.elementType===x?S:js(x,S),Py(c,d,x,S,m);case 1:return x=d.type,S=d.pendingProps,S=d.elementType===x?S:js(x,S),$S(c,d,x,S,m);case 3:e:{if(US(d),c===null)throw Error(n(387));x=d.pendingProps,T=d.memoizedState,S=T.element,rS(c,d),Gp(d,x,null,m);var A=d.memoizedState;if(x=A.element,T.isDehydrated)if(T={element:x,isDehydrated:!1,cache:A.cache,pendingSuspenseBoundaries:A.pendingSuspenseBoundaries,transitions:A.transitions},d.updateQueue.baseState=T,d.memoizedState=T,d.flags&256){S=gu(Error(n(423)),d),d=HS(c,d,x,m,S);break e}else if(x!==S){S=gu(Error(n(424)),d),d=HS(c,d,x,m,S);break e}else for(zi=xa(d.stateNode.containerInfo.firstChild),Bi=d,Fn=!0,Ts=null,m=tS(d,null,x,m),d.child=m;m;)m.flags=m.flags&-3|4096,m=m.sibling;else{if(du(),x===S){d=Io(c,d,m);break e}ei(c,d,x,m)}d=d.child}return d;case 5:return oS(d),c===null&&ay(d),x=d.type,S=d.pendingProps,T=c!==null?c.memoizedProps:null,A=S.children,J1(x,S)?A=null:T!==null&&J1(x,T)&&(d.flags|=32),zS(c,d),ei(c,d,A,m),d.child;case 6:return c===null&&ay(d),null;case 13:return WS(c,d,m);case 4:return my(d,d.stateNode.containerInfo),x=d.pendingProps,c===null?d.child=fu(d,null,x,m):ei(c,d,x,m),d.child;case 11:return x=d.type,S=d.pendingProps,S=d.elementType===x?S:js(x,S),DS(c,d,x,S,m);case 7:return ei(c,d,d.pendingProps,m),d.child;case 8:return ei(c,d,d.pendingProps.children,m),d.child;case 12:return ei(c,d,d.pendingProps.children,m),d.child;case 10:e:{if(x=d.type._context,S=d.pendingProps,T=d.memoizedProps,A=S.value,kn(Qp,x._currentValue),x._currentValue=A,T!==null)if(J(T.value,A)){if(T.children===S.children&&!pi.current){d=Io(c,d,m);break e}}else for(T=d.child,T!==null&&(T.return=d);T!==null;){var K=T.dependencies;if(K!==null){A=T.child;for(var ie=K.firstContext;ie!==null;){if(ie.context===x){if(T.tag===1){ie=No(-1,m&-m),ie.tag=2;var be=T.updateQueue;if(be!==null){be=be.shared;var Re=be.pending;Re===null?ie.next=ie:(ie.next=Re.next,Re.next=ie),be.pending=ie}}T.lanes|=m,ie=T.alternate,ie!==null&&(ie.lanes|=m),fy(T.return,m,d),K.lanes|=m;break}ie=ie.next}}else if(T.tag===10)A=T.type===d.type?null:T.child;else if(T.tag===18){if(A=T.return,A===null)throw Error(n(341));A.lanes|=m,K=A.alternate,K!==null&&(K.lanes|=m),fy(A,m,d),A=T.sibling}else A=T.child;if(A!==null)A.return=T;else for(A=T;A!==null;){if(A===d){A=null;break}if(T=A.sibling,T!==null){T.return=A.return,A=T;break}A=A.return}T=A}ei(c,d,S.children,m),d=d.child}return d;case 9:return S=d.type,x=d.pendingProps.children,pu(d,m),S=rs(S),x=x(S),d.flags|=1,ei(c,d,x,m),d.child;case 14:return x=d.type,S=js(x,d.pendingProps),S=js(x.type,S),LS(c,d,x,S,m);case 15:return FS(c,d,d.type,d.pendingProps,m);case 17:return x=d.type,S=d.pendingProps,S=d.elementType===x?S:js(x,S),im(c,d),d.tag=1,mi(x)?(c=!0,zp(d)):c=!1,pu(d,m),NS(d,x,S),jy(d,x,S,m),Ry(null,d,x,!0,c,m);case 19:return QS(c,d,m);case 22:return BS(c,d,m)}throw Error(n(156,d.tag))};function g3(c,d){return xs(c,d)}function YI(c,d,m,x){this.tag=c,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=x,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function os(c,d,m,x){return new YI(c,d,m,x)}function Jy(c){return c=c.prototype,!(!c||!c.isReactComponent)}function XI(c){if(typeof c=="function")return Jy(c)?1:0;if(c!=null){if(c=c.$$typeof,c===X)return 11;if(c===q)return 14}return 2}function Ia(c,d){var m=c.alternate;return m===null?(m=os(c.tag,d,c.key,c.mode),m.elementType=c.elementType,m.type=c.type,m.stateNode=c.stateNode,m.alternate=c,c.alternate=m):(m.pendingProps=d,m.type=c.type,m.flags=0,m.subtreeFlags=0,m.deletions=null),m.flags=c.flags&14680064,m.childLanes=c.childLanes,m.lanes=c.lanes,m.child=c.child,m.memoizedProps=c.memoizedProps,m.memoizedState=c.memoizedState,m.updateQueue=c.updateQueue,d=c.dependencies,m.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},m.sibling=c.sibling,m.index=c.index,m.ref=c.ref,m}function mm(c,d,m,x,S,T){var A=2;if(x=c,typeof c=="function")Jy(c)&&(A=1);else if(typeof c=="string")A=5;else e:switch(c){case M:return Wl(m.children,S,T,d);case U:A=8,S|=8;break;case $:return c=os(12,m,d,S|2),c.elementType=$,c.lanes=T,c;case re:return c=os(13,m,d,S),c.elementType=re,c.lanes=T,c;case Q:return c=os(19,m,d,S),c.elementType=Q,c.lanes=T,c;case ne:return gm(m,S,T,d);default:if(typeof c=="object"&&c!==null)switch(c.$$typeof){case D:A=10;break e;case ee:A=9;break e;case X:A=11;break e;case q:A=14;break e;case V:A=16,x=null;break e}throw Error(n(130,c==null?c:typeof c,""))}return d=os(A,m,d,S),d.elementType=c,d.type=x,d.lanes=T,d}function Wl(c,d,m,x){return c=os(7,c,x,d),c.lanes=m,c}function gm(c,d,m,x){return c=os(22,c,x,d),c.elementType=ne,c.lanes=m,c.stateNode={isHidden:!1},c}function Zy(c,d,m){return c=os(6,c,null,d),c.lanes=m,c}function ev(c,d,m){return d=os(4,c.children!==null?c.children:[],c.key,d),d.lanes=m,d.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation},d}function JI(c,d,m,x,S){this.tag=d,this.containerInfo=c,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ca(0),this.expirationTimes=ca(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ca(0),this.identifierPrefix=x,this.onRecoverableError=S,this.mutableSourceEagerHydrationData=null}function tv(c,d,m,x,S,T,A,K,ie){return c=new JI(c,d,m,K,ie),d===1?(d=1,T===!0&&(d|=8)):d=0,T=os(3,null,null,d),c.current=T,T.stateNode=c,T.memoizedState={element:x,isDehydrated:m,cache:null,transitions:null,pendingSuspenseBoundaries:null},py(T),c}function ZI(c,d,m){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:j,key:x==null?null:""+x,children:c,containerInfo:d,implementation:m}}function y3(c){if(!c)return wa;c=c._reactInternals;e:{if($t(c)!==c||c.tag!==1)throw Error(n(170));var d=c;do{switch(d.tag){case 3:d=d.stateNode.context;break e;case 1:if(mi(d.type)){d=d.stateNode.__reactInternalMemoizedMergedChildContext;break e}}d=d.return}while(d!==null);throw Error(n(171))}if(c.tag===1){var m=c.type;if(mi(m))return q_(c,m,d)}return d}function v3(c,d,m,x,S,T,A,K,ie){return c=tv(m,x,!0,c,S,T,A,K,ie),c.context=y3(null),m=c.current,x=ti(),S=ja(m),T=No(x,S),T.callback=d??null,Ea(m,T,S),c.current.lanes=S,ua(c,S,x),vi(c,x),c}function ym(c,d,m,x){var S=d.current,T=ti(),A=ja(S);return m=y3(m),d.context===null?d.context=m:d.pendingContext=m,d=No(T,A),d.payload={element:c},x=x===void 0?null:x,x!==null&&(d.callback=x),c=Ea(S,d,A),c!==null&&(Ps(c,S,A,T),Kp(c,S,A)),A}function vm(c){if(c=c.current,!c.child)return null;switch(c.child.tag){case 5:return c.child.stateNode;default:return c.child.stateNode}}function x3(c,d){if(c=c.memoizedState,c!==null&&c.dehydrated!==null){var m=c.retryLane;c.retryLane=m!==0&&m<d?m:d}}function nv(c,d){x3(c,d),(c=c.alternate)&&x3(c,d)}function eP(){return null}var b3=typeof reportError=="function"?reportError:function(c){console.error(c)};function rv(c){this._internalRoot=c}xm.prototype.render=rv.prototype.render=function(c){var d=this._internalRoot;if(d===null)throw Error(n(409));ym(c,d,null,null)},xm.prototype.unmount=rv.prototype.unmount=function(){var c=this._internalRoot;if(c!==null){this._internalRoot=null;var d=c.containerInfo;$l(function(){ym(null,c,null,null)}),d[Eo]=null}};function xm(c){this._internalRoot=c}xm.prototype.unstable_scheduleHydration=function(c){if(c){var d=Ar();c={blockedOn:null,target:c,priority:d};for(var m=0;m<fi.length&&d!==0&&d<fi[m].priority;m++);fi.splice(m,0,c),m===0&&Qc(c)}};function iv(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)}function bm(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11&&(c.nodeType!==8||c.nodeValue!==" react-mount-point-unstable "))}function w3(){}function tP(c,d,m,x,S){if(S){if(typeof x=="function"){var T=x;x=function(){var be=vm(A);T.call(be)}}var A=v3(d,x,c,0,null,!1,!1,"",w3);return c._reactRootContainer=A,c[Eo]=A.current,ef(c.nodeType===8?c.parentNode:c),$l(),A}for(;S=c.lastChild;)c.removeChild(S);if(typeof x=="function"){var K=x;x=function(){var be=vm(ie);K.call(be)}}var ie=tv(c,0,!1,null,null,!1,!1,"",w3);return c._reactRootContainer=ie,c[Eo]=ie.current,ef(c.nodeType===8?c.parentNode:c),$l(function(){ym(d,ie,m,x)}),ie}function wm(c,d,m,x,S){var T=m._reactRootContainer;if(T){var A=T;if(typeof S=="function"){var K=S;S=function(){var ie=vm(A);K.call(ie)}}ym(d,A,c,S)}else A=tP(m,d,c,S,x);return vm(A)}qc=function(c){switch(c.tag){case 3:var d=c.stateNode;if(d.current.memoizedState.isDehydrated){var m=bs(d.pendingLanes);m!==0&&(Wc(d,m|1),vi(d,Wt()),(ln&6)===0&&(xu=Wt()+500,_a()))}break;case 13:$l(function(){var x=jo(c,1);if(x!==null){var S=ti();Ps(x,c,1,S)}}),nv(c,1)}},Hd=function(c){if(c.tag===13){var d=jo(c,134217728);if(d!==null){var m=ti();Ps(d,c,134217728,m)}nv(c,134217728)}},bp=function(c){if(c.tag===13){var d=ja(c),m=jo(c,d);if(m!==null){var x=ti();Ps(m,c,d,x)}nv(c,d)}},Ar=function(){return mn},go=function(c,d){var m=mn;try{return mn=c,d()}finally{mn=m}},Ve=function(c,d,m){switch(d){case"input":if(Gr(c,m),d=m.name,m.type==="radio"&&d!=null){for(m=c;m.parentNode;)m=m.parentNode;for(m=m.querySelectorAll("input[name="+JSON.stringify(""+d)+'][type="radio"]'),d=0;d<m.length;d++){var x=m[d];if(x!==c&&x.form===c.form){var S=Fp(x);if(!S)throw Error(n(90));It(x),Gr(x,S)}}}break;case"textarea":Pt(c,m);break;case"select":d=m.value,d!=null&&on(c,!!m.multiple,d,!1)}},$c=Gy,Uc=$l;var nP={usingClientEntryPoint:!1,Events:[rf,ou,Fp,qs,vs,Gy]},vf={findFiberByHostInstance:Ol,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},rP={bundleType:vf.bundleType,version:vf.version,rendererPackageName:vf.rendererPackageName,rendererConfig:vf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:z.ReactCurrentDispatcher,findHostInstanceByFiber:function(c){return c=pn(c),c===null?null:c.stateNode},findFiberByHostInstance:vf.findFiberByHostInstance||eP,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _m=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_m.isDisabled&&_m.supportsFiber)try{Mi=_m.inject(rP),Jt=_m}catch{}}return xi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nP,xi.createPortal=function(c,d){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!iv(d))throw Error(n(200));return ZI(c,d,null,m)},xi.createRoot=function(c,d){if(!iv(c))throw Error(n(299));var m=!1,x="",S=b3;return d!=null&&(d.unstable_strictMode===!0&&(m=!0),d.identifierPrefix!==void 0&&(x=d.identifierPrefix),d.onRecoverableError!==void 0&&(S=d.onRecoverableError)),d=tv(c,1,!1,null,null,m,!1,x,S),c[Eo]=d.current,ef(c.nodeType===8?c.parentNode:c),new rv(d)},xi.findDOMNode=function(c){if(c==null)return null;if(c.nodeType===1)return c;var d=c._reactInternals;if(d===void 0)throw typeof c.render=="function"?Error(n(188)):(c=Object.keys(c).join(","),Error(n(268,c)));return c=pn(d),c=c===null?null:c.stateNode,c},xi.flushSync=function(c){return $l(c)},xi.hydrate=function(c,d,m){if(!bm(d))throw Error(n(200));return wm(null,c,d,!0,m)},xi.hydrateRoot=function(c,d,m){if(!iv(c))throw Error(n(405));var x=m!=null&&m.hydratedSources||null,S=!1,T="",A=b3;if(m!=null&&(m.unstable_strictMode===!0&&(S=!0),m.identifierPrefix!==void 0&&(T=m.identifierPrefix),m.onRecoverableError!==void 0&&(A=m.onRecoverableError)),d=v3(d,null,c,1,m??null,S,!1,T,A),c[Eo]=d.current,ef(c),x)for(c=0;c<x.length;c++)m=x[c],S=m._getVersion,S=S(m._source),d.mutableSourceEagerHydrationData==null?d.mutableSourceEagerHydrationData=[m,S]:d.mutableSourceEagerHydrationData.push(m,S);return new xm(d)},xi.render=function(c,d,m){if(!bm(d))throw Error(n(200));return wm(null,c,d,!1,m)},xi.unmountComponentAtNode=function(c){if(!bm(c))throw Error(n(40));return c._reactRootContainer?($l(function(){wm(null,null,c,!1,function(){c._reactRootContainer=null,c[Eo]=null})}),!0):!1},xi.unstable_batchedUpdates=Gy,xi.unstable_renderSubtreeIntoContainer=function(c,d,m,x){if(!bm(m))throw Error(n(200));if(c==null||c._reactInternals===void 0)throw Error(n(38));return wm(c,d,m,!1,x)},xi.version="18.3.1-next-f1338f8080-20240426",xi}var I3;function PC(){if(I3)return av.exports;I3=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),av.exports=hP(),av.exports}var P3;function pP(){if(P3)return Sm;P3=1;var e=PC();return Sm.createRoot=e.createRoot,Sm.hydrateRoot=e.hydrateRoot,Sm}var mP=pP();/**
 * react-router v7.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var RC=e=>{throw TypeError(e)},gP=(e,t,n)=>t.has(e)||RC("Cannot "+n),uv=(e,t,n)=>(gP(e,t,"read from private field"),n?n.call(e):t.get(e)),yP=(e,t,n)=>t.has(e)?RC("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),R3="popstate";function vP(e={}){function t(r,i){let{pathname:s,search:o,hash:a}=r.location;return dh("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Ya(i)}return bP(t,n,null,e)}function Vt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function or(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function xP(){return Math.random().toString(36).substring(2,10)}function O3(e,t){return{usr:e.state,key:e.key,idx:t}}function dh(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?sl(t):t,state:n,key:t&&t.key||r||xP()}}function Ya({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function sl(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function bP(e,t,n,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a="POP",l=null,u=f();u==null&&(u=0,o.replaceState({...o.state,idx:u},""));function f(){return(o.state||{idx:null}).idx}function h(){a="POP";let E=f(),C=E==null?null:E-u;u=E,l&&l({action:a,location:_.location,delta:C})}function g(E,C){a="PUSH";let P=dh(_.location,E,C);u=f()+1;let O=O3(P,u),z=_.createHref(P);try{o.pushState(O,"",z)}catch(B){if(B instanceof DOMException&&B.name==="DataCloneError")throw B;i.location.assign(z)}s&&l&&l({action:a,location:_.location,delta:1})}function y(E,C){a="REPLACE";let P=dh(_.location,E,C);u=f();let O=O3(P,u),z=_.createHref(P);o.replaceState(O,"",z),s&&l&&l({action:a,location:_.location,delta:0})}function b(E){return OC(E)}let _={get action(){return a},get location(){return e(i,o)},listen(E){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(R3,h),l=E,()=>{i.removeEventListener(R3,h),l=null}},createHref(E){return t(i,E)},createURL:b,encodeLocation(E){let C=b(E);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:g,replace:y,go(E){return o.go(E)}};return _}function OC(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Vt(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:Ya(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}var Uf,A3=class{constructor(e){if(yP(this,Uf,new Map),e)for(let[t,n]of e)this.set(t,n)}get(e){if(uv(this,Uf).has(e))return uv(this,Uf).get(e);if(e.defaultValue!==void 0)return e.defaultValue;throw new Error("No value found for context")}set(e,t){uv(this,Uf).set(e,t)}};Uf=new WeakMap;var wP=new Set(["lazy","caseSensitive","path","id","index","children"]);function _P(e){return wP.has(e)}var SP=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function EP(e){return SP.has(e)}function kP(e){return e.index===!0}function fh(e,t,n=[],r={},i=!1){return e.map((s,o)=>{let a=[...n,String(o)],l=typeof s.id=="string"?s.id:a.join("-");if(Vt(s.index!==!0||!s.children,"Cannot specify children on an index route"),Vt(i||!r[l],`Found a route id collision on id "${l}".  Route id's must be globally unique within Data Router usages`),kP(s)){let u={...s,...t(s),id:l};return r[l]=u,u}else{let u={...s,...t(s),id:l,children:void 0};return r[l]=u,s.children&&(u.children=fh(s.children,t,a,r,i)),u}})}function $a(e,t,n="/"){return Ng(e,t,n,!1)}function Ng(e,t,n,r){let i=typeof t=="string"?sl(t):t,s=ms(i.pathname||"/",n);if(s==null)return null;let o=AC(e);TP(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=FP(s);a=DP(o[l],u,r)}return a}function CP(e,t){let{route:n,pathname:r,params:i}=e;return{id:n.id,pathname:r,params:i,data:t[n.id],handle:n.handle}}function AC(e,t=[],n=[],r=""){let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Vt(l.relativePath.startsWith(r),`Absolute route path "${l.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),l.relativePath=l.relativePath.slice(r.length));let u=oo([r,l.relativePath]),f=n.concat(l);s.children&&s.children.length>0&&(Vt(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${u}".`),AC(s.children,t,f,u)),!(s.path==null&&!s.index)&&t.push({path:u,score:AP(u,s.index),routesMeta:f})};return e.forEach((s,o)=>{if(s.path===""||!s.path?.includes("?"))i(s,o);else for(let a of MC(s.path))i(s,o,a)}),t}function MC(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=MC(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function TP(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:MP(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var jP=/^:[\w-]+$/,NP=3,IP=2,PP=1,RP=10,OP=-2,M3=e=>e==="*";function AP(e,t){let n=e.split("/"),r=n.length;return n.some(M3)&&(r+=OP),t&&(r+=IP),n.filter(i=>!M3(i)).reduce((i,s)=>i+(jP.test(s)?NP:s===""?PP:RP),r)}function MP(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function DP(e,t,n=!1){let{routesMeta:r}=e,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,f=s==="/"?t:t.slice(s.length)||"/",h=Vg({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},f),g=l.route;if(!h&&u&&n&&!r[r.length-1].route.index&&(h=Vg({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},f)),!h)return null;Object.assign(i,h.params),o.push({params:i,pathname:oo([s,h.pathname]),pathnameBase:UP(oo([s,h.pathnameBase])),route:g}),h.pathnameBase!=="/"&&(s=oo([s,h.pathnameBase]))}return o}function Vg(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=LP(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,{paramName:f,isOptional:h},g)=>{if(f==="*"){let b=a[g]||"";o=s.slice(0,s.length-b.length).replace(/(.)\/+$/,"$1")}const y=a[g];return h&&!y?u[f]=void 0:u[f]=(y||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:e}}function LP(e,t=!1,n=!0){or(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function FP(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return or(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function ms(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function BP({basename:e,pathname:t}){return t==="/"?e:oo([e,t])}function zP(e,t="/"){let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?sl(e):e;return{pathname:n?n.startsWith("/")?n:$P(n,t):t,search:HP(r),hash:WP(i)}}function $P(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function dv(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function DC(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function j2(e){let t=DC(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function N2(e,t,n,r=!1){let i;typeof e=="string"?i=sl(e):(i={...e},Vt(!i.pathname||!i.pathname.includes("?"),dv("?","pathname","search",i)),Vt(!i.pathname||!i.pathname.includes("#"),dv("#","pathname","hash",i)),Vt(!i.search||!i.search.includes("#"),dv("#","search","hash",i)));let s=e===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let h=t.length-1;if(!r&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),h-=1;i.pathname=g.join("/")}a=h>=0?t[h]:"/"}let l=zP(i,a),u=o&&o!=="/"&&o.endsWith("/"),f=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||f)&&(l.pathname+="/"),l}var oo=e=>e.join("/").replace(/\/\/+/g,"/"),UP=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),HP=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,WP=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,Kg=class{constructor(e,t,n,r=!1){this.status=e,this.statusText=t||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function hh(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var LC=["POST","PUT","PATCH","DELETE"],qP=new Set(LC),QP=["GET",...LC],VP=new Set(QP),KP=new Set([301,302,303,307,308]),GP=new Set([307,308]),fv={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},YP={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},bf={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},XP=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,I2=e=>XP.test(e),JP=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),FC="remix-router-transitions",BC=Symbol("ResetLoaderData");function ZP(e){const t=e.window?e.window:typeof window<"u"?window:void 0,n=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u";Vt(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let r=e.hydrationRouteProperties||[],i=e.mapRouteProperties||JP,s={},o=fh(e.routes,i,void 0,s),a,l=e.basename||"/",u=e.dataStrategy||iR,f={unstable_middleware:!1,...e.future},h=null,g=new Set,y=null,b=null,_=null,E=e.hydrationData!=null,C=$a(o,e.history.location,l),P=!1,O=null,z;if(C==null&&!e.patchRoutesOnNavigation){let te=ls(404,{pathname:e.history.location.pathname}),{matches:me,route:_e}=V3(o);z=!0,C=me,O={[_e.id]:te}}else if(C&&!e.hydrationData&&qs(C,o,e.history.location.pathname).active&&(C=null),C)if(C.some(te=>te.route.lazy))z=!1;else if(!C.some(te=>te.route.loader))z=!0;else{let te=e.hydrationData?e.hydrationData.loaderData:null,me=e.hydrationData?e.hydrationData.errors:null;if(me){let _e=C.findIndex(Ae=>me[Ae.route.id]!==void 0);z=C.slice(0,_e+1).every(Ae=>!qx(Ae.route,te,me))}else z=C.every(_e=>!qx(_e.route,te,me))}else{z=!1,C=[];let te=qs(null,o,e.history.location.pathname);te.active&&te.matches&&(P=!0,C=te.matches)}let B,j={historyAction:e.history.action,location:e.history.location,matches:C,initialized:z,navigation:fv,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||O,fetchers:new Map,blockers:new Map},M="POP",U=!1,$,D=!1,ee=new Map,X=null,re=!1,Q=!1,q=new Set,V=new Map,ne=0,Z=-1,fe=new Map,F=new Set,G=new Map,ye=new Map,H=new Set,Oe=new Map,Ce,Te=null;function Ye(){if(h=e.history.listen(({action:te,location:me,delta:_e})=>{if(Ce){Ce(),Ce=void 0;return}or(Oe.size===0||_e!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Ae=Mn({currentLocation:j.location,nextLocation:me,historyAction:te});if(Ae&&_e!=null){let je=new Promise(Ke=>{Ce=Ke});e.history.go(_e*-1),Gn(Ae,{state:"blocked",location:me,proceed(){Gn(Ae,{state:"proceeding",proceed:void 0,reset:void 0,location:me}),je.then(()=>e.history.go(_e))},reset(){let Ke=new Map(j.blockers);Ke.set(Ae,bf),ct({blockers:Ke})}});return}return sn(te,me)}),n){mR(t,ee);let te=()=>gR(t,ee);t.addEventListener("pagehide",te),X=()=>t.removeEventListener("pagehide",te)}return j.initialized||sn("POP",j.location,{initialHydration:!0}),B}function qe(){h&&h(),X&&X(),g.clear(),$&&$.abort(),j.fetchers.forEach((te,me)=>vt(me)),j.blockers.forEach((te,me)=>Qe(me))}function Ne(te){return g.add(te),()=>g.delete(te)}function ct(te,me={}){te.matches&&(te.matches=te.matches.map(je=>{let Ke=s[je.route.id],it=je.route;return it.element!==Ke.element||it.errorElement!==Ke.errorElement||it.hydrateFallbackElement!==Ke.hydrateFallbackElement?{...je,route:Ke}:je})),j={...j,...te};let _e=[],Ae=[];j.fetchers.forEach((je,Ke)=>{je.state==="idle"&&(H.has(Ke)?_e.push(Ke):Ae.push(Ke))}),H.forEach(je=>{!j.fetchers.has(je)&&!V.has(je)&&_e.push(je)}),[...g].forEach(je=>je(j,{deletedFetchers:_e,viewTransitionOpts:me.viewTransitionOpts,flushSync:me.flushSync===!0})),_e.forEach(je=>vt(je)),Ae.forEach(je=>j.fetchers.delete(je))}function xn(te,me,{flushSync:_e}={}){let Ae=j.actionData!=null&&j.navigation.formMethod!=null&&ki(j.navigation.formMethod)&&j.navigation.state==="loading"&&te.state?._isRedirect!==!0,je;me.actionData?Object.keys(me.actionData).length>0?je=me.actionData:je=null:Ae?je=j.actionData:je=null;let Ke=me.loaderData?q3(j.loaderData,me.loaderData,me.matches||[],me.errors):j.loaderData,it=j.blockers;it.size>0&&(it=new Map(it),it.forEach((at,tt)=>it.set(tt,bf)));let Ze=re?!1:po(te,me.matches||j.matches),nt=U===!0||j.navigation.formMethod!=null&&ki(j.navigation.formMethod)&&te.state?._isRedirect!==!0;a&&(o=a,a=void 0),re||M==="POP"||(M==="PUSH"?e.history.push(te,te.state):M==="REPLACE"&&e.history.replace(te,te.state));let lt;if(M==="POP"){let at=ee.get(j.location.pathname);at&&at.has(te.pathname)?lt={currentLocation:j.location,nextLocation:te}:ee.has(te.pathname)&&(lt={currentLocation:te,nextLocation:j.location})}else if(D){let at=ee.get(j.location.pathname);at?at.add(te.pathname):(at=new Set([te.pathname]),ee.set(j.location.pathname,at)),lt={currentLocation:j.location,nextLocation:te}}ct({...me,actionData:je,loaderData:Ke,historyAction:M,location:te,initialized:!0,navigation:fv,revalidation:"idle",restoreScrollPosition:Ze,preventScrollReset:nt,blockers:it},{viewTransitionOpts:lt,flushSync:_e===!0}),M="POP",U=!1,D=!1,re=!1,Q=!1,Te?.resolve(),Te=null}async function It(te,me){if(typeof te=="number"){e.history.go(te);return}let _e=Wx(j.location,j.matches,l,te,me?.fromRouteId,me?.relative),{path:Ae,submission:je,error:Ke}=D3(!1,_e,me),it=j.location,Ze=dh(j.location,Ae,me&&me.state);Ze={...Ze,...e.history.encodeLocation(Ze)};let nt=me&&me.replace!=null?me.replace:void 0,lt="PUSH";nt===!0?lt="REPLACE":nt===!1||je!=null&&ki(je.formMethod)&&je.formAction===j.location.pathname+j.location.search&&(lt="REPLACE");let at=me&&"preventScrollReset"in me?me.preventScrollReset===!0:void 0,tt=(me&&me.flushSync)===!0,Rt=Mn({currentLocation:it,nextLocation:Ze,historyAction:lt});if(Rt){Gn(Rt,{state:"blocked",location:Ze,proceed(){Gn(Rt,{state:"proceeding",proceed:void 0,reset:void 0,location:Ze}),It(te,me)},reset(){let $t=new Map(j.blockers);$t.set(Rt,bf),ct({blockers:$t})}});return}await sn(lt,Ze,{submission:je,pendingError:Ke,preventScrollReset:at,replace:me&&me.replace,enableViewTransition:me&&me.viewTransition,flushSync:tt})}function En(){Te||(Te=yR()),Wn(),ct({revalidation:"loading"});let te=Te.promise;return j.navigation.state==="submitting"?te:j.navigation.state==="idle"?(sn(j.historyAction,j.location,{startUninterruptedRevalidation:!0}),te):(sn(M||j.historyAction,j.navigation.location,{overrideNavigation:j.navigation,enableViewTransition:D===!0}),te)}async function sn(te,me,_e){$&&$.abort(),$=null,M=te,re=(_e&&_e.startUninterruptedRevalidation)===!0,ys(j.location,j.matches),U=(_e&&_e.preventScrollReset)===!0,D=(_e&&_e.enableViewTransition)===!0;let Ae=a||o,je=_e&&_e.overrideNavigation,Ke=_e?.initialHydration&&j.matches&&j.matches.length>0&&!P?j.matches:$a(Ae,me,l),it=(_e&&_e.flushSync)===!0;if(Ke&&j.initialized&&!Q&&uR(j.location,me)&&!(_e&&_e.submission&&ki(_e.submission.formMethod))){xn(me,{matches:Ke},{flushSync:it});return}let Ze=qs(Ke,Ae,me.pathname);if(Ze.active&&Ze.matches&&(Ke=Ze.matches),!Ke){let{error:nr,notFoundMatches:an,route:pn}=Yi(me.pathname);xn(me,{matches:an,loaderData:{},errors:{[pn.id]:nr}},{flushSync:it});return}$=new AbortController;let nt=$u(e.history,me,$.signal,_e&&_e.submission),lt=new A3(e.unstable_getContext?await e.unstable_getContext():void 0),at;if(_e&&_e.pendingError)at=[ic(Ke).route.id,{type:"error",error:_e.pendingError}];else if(_e&&_e.submission&&ki(_e.submission.formMethod)){let nr=await yn(nt,me,_e.submission,Ke,lt,Ze.active,_e&&_e.initialHydration===!0,{replace:_e.replace,flushSync:it});if(nr.shortCircuited)return;if(nr.pendingActionResult){let[an,pn]=nr.pendingActionResult;if(Wi(pn)&&hh(pn.error)&&pn.error.status===404){$=null,xn(me,{matches:nr.matches,loaderData:{},errors:{[an]:pn.error}});return}}Ke=nr.matches||Ke,at=nr.pendingActionResult,je=hv(me,_e.submission),it=!1,Ze.active=!1,nt=$u(e.history,nt.url,nt.signal)}let{shortCircuited:tt,matches:Rt,loaderData:$t,errors:Dn}=await Pi(nt,me,Ke,lt,Ze.active,je,_e&&_e.submission,_e&&_e.fetcherSubmission,_e&&_e.replace,_e&&_e.initialHydration===!0,it,at);tt||($=null,xn(me,{matches:Rt||Ke,...Q3(at),loaderData:$t,errors:Dn}))}async function yn(te,me,_e,Ae,je,Ke,it,Ze={}){Wn();let nt=hR(me,_e);if(ct({navigation:nt},{flushSync:Ze.flushSync===!0}),Ke){let tt=await vs(Ae,me.pathname,te.signal);if(tt.type==="aborted")return{shortCircuited:!0};if(tt.type==="error"){let Rt=ic(tt.partialMatches).route.id;return{matches:tt.partialMatches,pendingActionResult:[Rt,{type:"error",error:tt.error}]}}else if(tt.matches)Ae=tt.matches;else{let{notFoundMatches:Rt,error:$t,route:Dn}=Yi(me.pathname);return{matches:Rt,pendingActionResult:[Dn.id,{type:"error",error:$t}]}}}let lt,at=Ig(Ae,me);if(!at.route.action&&!at.route.lazy)lt={type:"error",error:ls(405,{method:te.method,pathname:me.pathname,routeId:at.route.id})};else{let tt=Zu(i,s,te,Ae,at,it?[]:r,je),Rt=await Bt(te,tt,je,null);if(lt=Rt[at.route.id],!lt){for(let $t of Ae)if(Rt[$t.route.id]){lt=Rt[$t.route.id];break}}if(te.signal.aborted)return{shortCircuited:!0}}if(ac(lt)){let tt;return Ze&&Ze.replace!=null?tt=Ze.replace:tt=U3(lt.response.headers.get("Location"),new URL(te.url),l)===j.location.pathname+j.location.search,await pt(te,lt,!0,{submission:_e,replace:tt}),{shortCircuited:!0}}if(Wi(lt)){let tt=ic(Ae,at.route.id);return(Ze&&Ze.replace)!==!0&&(M="PUSH"),{matches:Ae,pendingActionResult:[tt.route.id,lt,at.route.id]}}return{matches:Ae,pendingActionResult:[at.route.id,lt]}}async function Pi(te,me,_e,Ae,je,Ke,it,Ze,nt,lt,at,tt){let Rt=Ke||hv(me,it),$t=it||Ze||G3(Rt),Dn=!re&&!lt;if(je){if(Dn){let qn=Gr(tt);ct({navigation:Rt,...qn!==void 0?{actionData:qn}:{}},{flushSync:at})}let qt=await vs(_e,me.pathname,te.signal);if(qt.type==="aborted")return{shortCircuited:!0};if(qt.type==="error"){let qn=ic(qt.partialMatches).route.id;return{matches:qt.partialMatches,loaderData:{},errors:{[qn]:qt.error}}}else if(qt.matches)_e=qt.matches;else{let{error:qn,notFoundMatches:Zr,route:Mi}=Yi(me.pathname);return{matches:Zr,loaderData:{},errors:{[Mi.id]:qn}}}}let nr=a||o,{dsMatches:an,revalidatingFetchers:pn}=L3(te,Ae,i,s,e.history,j,_e,$t,me,lt?[]:r,lt===!0,Q,q,H,G,F,nr,l,e.patchRoutesOnNavigation!=null,tt);if(Z=++ne,!e.dataStrategy&&!an.some(qt=>qt.shouldLoad)&&pn.length===0){let qt=tr();return xn(me,{matches:_e,loaderData:{},errors:tt&&Wi(tt[1])?{[tt[0]]:tt[1].error}:null,...Q3(tt),...qt?{fetchers:new Map(j.fetchers)}:{}},{flushSync:at}),{shortCircuited:!0}}if(Dn){let qt={};if(!je){qt.navigation=Rt;let qn=Gr(tt);qn!==void 0&&(qt.actionData=qn)}pn.length>0&&(qt.fetchers=Ri(pn)),ct(qt,{flushSync:at})}pn.forEach(qt=>{hn(qt.key),qt.controller&&V.set(qt.key,qt.controller)});let vr=()=>pn.forEach(qt=>hn(qt.key));$&&$.signal.addEventListener("abort",vr);let{loaderResults:xs,fetcherResults:Xr}=await Pt(an,pn,te,Ae);if(te.signal.aborted)return{shortCircuited:!0};$&&$.signal.removeEventListener("abort",vr),pn.forEach(qt=>V.delete(qt.key));let tn=Em(xs);if(tn)return await pt(te,tn.result,!0,{replace:nt}),{shortCircuited:!0};if(tn=Em(Xr),tn)return F.add(tn.key),await pt(te,tn.result,!0,{replace:nt}),{shortCircuited:!0};let{loaderData:Ai,errors:Wt}=W3(j,_e,xs,tt,pn,Xr);lt&&j.errors&&(Wt={...j.errors,...Wt});let Xi=tr(),Jr=Yr(Z),Ji=Xi||Jr||pn.length>0;return{matches:_e,loaderData:Ai,errors:Wt,...Ji?{fetchers:new Map(j.fetchers)}:{}}}function Gr(te){if(te&&!Wi(te[1]))return{[te[0]]:te[1].data};if(j.actionData)return Object.keys(j.actionData).length===0?null:j.actionData}function Ri(te){return te.forEach(me=>{let _e=j.fetchers.get(me.key),Ae=wf(void 0,_e?_e.data:void 0);j.fetchers.set(me.key,Ae)}),new Map(j.fetchers)}async function di(te,me,_e,Ae){hn(te);let je=(Ae&&Ae.flushSync)===!0,Ke=a||o,it=Wx(j.location,j.matches,l,_e,me,Ae?.relative),Ze=$a(Ke,it,l),nt=qs(Ze,Ke,it);if(nt.active&&nt.matches&&(Ze=nt.matches),!Ze){Pe(te,me,ls(404,{pathname:it}),{flushSync:je});return}let{path:lt,submission:at,error:tt}=D3(!0,it,Ae);if(tt){Pe(te,me,tt,{flushSync:je});return}let Rt=new A3(e.unstable_getContext?await e.unstable_getContext():void 0),$t=(Ae&&Ae.preventScrollReset)===!0;if(at&&ki(at.formMethod)){await wt(te,me,lt,Ze,Rt,nt.active,je,$t,at);return}G.set(te,{routeId:me,path:lt}),await on(te,me,lt,Ze,Rt,nt.active,je,$t,at)}async function wt(te,me,_e,Ae,je,Ke,it,Ze,nt){Wn(),G.delete(te);let lt=j.fetchers.get(te);Ee(te,pR(nt,lt),{flushSync:it});let at=new AbortController,tt=$u(e.history,_e,at.signal,nt);if(Ke){let Jt=await vs(Ae,new URL(tt.url).pathname,tt.signal,te);if(Jt.type==="aborted")return;if(Jt.type==="error"){Pe(te,me,Jt.error,{flushSync:it});return}else if(Jt.matches)Ae=Jt.matches;else{Pe(te,me,ls(404,{pathname:_e}),{flushSync:it});return}}let Rt=Ig(Ae,_e);if(!Rt.route.action&&!Rt.route.lazy){let Jt=ls(405,{method:nt.formMethod,pathname:_e,routeId:me});Pe(te,me,Jt,{flushSync:it});return}V.set(te,at);let $t=ne,Dn=Zu(i,s,tt,Ae,Rt,r,je),an=(await Bt(tt,Dn,je,te))[Rt.route.id];if(tt.signal.aborted){V.get(te)===at&&V.delete(te);return}if(H.has(te)){if(ac(an)||Wi(an)){Ee(te,Aa(void 0));return}}else{if(ac(an))if(V.delete(te),Z>$t){Ee(te,Aa(void 0));return}else return F.add(te),Ee(te,wf(nt)),pt(tt,an,!1,{fetcherSubmission:nt,preventScrollReset:Ze});if(Wi(an)){Pe(te,me,an.error);return}}let pn=j.navigation.location||j.location,vr=$u(e.history,pn,at.signal),xs=a||o,Xr=j.navigation.state!=="idle"?$a(xs,j.navigation.location,l):j.matches;Vt(Xr,"Didn't find any matches after fetcher action");let tn=++ne;fe.set(te,tn);let Ai=wf(nt,an.data);j.fetchers.set(te,Ai);let{dsMatches:Wt,revalidatingFetchers:Xi}=L3(vr,je,i,s,e.history,j,Xr,nt,pn,r,!1,Q,q,H,G,F,xs,l,e.patchRoutesOnNavigation!=null,[Rt.route.id,an]);Xi.filter(Jt=>Jt.key!==te).forEach(Jt=>{let mo=Jt.key,mt=j.fetchers.get(mo),Hc=wf(void 0,mt?mt.data:void 0);j.fetchers.set(mo,Hc),hn(mo),Jt.controller&&V.set(mo,Jt.controller)}),ct({fetchers:new Map(j.fetchers)});let Jr=()=>Xi.forEach(Jt=>hn(Jt.key));at.signal.addEventListener("abort",Jr);let{loaderResults:Ji,fetcherResults:qt}=await Pt(Wt,Xi,vr,je);if(at.signal.aborted)return;if(at.signal.removeEventListener("abort",Jr),fe.delete(te),V.delete(te),Xi.forEach(Jt=>V.delete(Jt.key)),j.fetchers.has(te)){let Jt=Aa(an.data);j.fetchers.set(te,Jt)}let qn=Em(Ji);if(qn)return pt(vr,qn.result,!1,{preventScrollReset:Ze});if(qn=Em(qt),qn)return F.add(qn.key),pt(vr,qn.result,!1,{preventScrollReset:Ze});let{loaderData:Zr,errors:Mi}=W3(j,Xr,Ji,void 0,Xi,qt);Yr(tn),j.navigation.state==="loading"&&tn>Z?(Vt(M,"Expected pending action"),$&&$.abort(),xn(j.navigation.location,{matches:Xr,loaderData:Zr,errors:Mi,fetchers:new Map(j.fetchers)})):(ct({errors:Mi,loaderData:q3(j.loaderData,Zr,Xr,Mi),fetchers:new Map(j.fetchers)}),Q=!1)}async function on(te,me,_e,Ae,je,Ke,it,Ze,nt){let lt=j.fetchers.get(te);Ee(te,wf(nt,lt?lt.data:void 0),{flushSync:it});let at=new AbortController,tt=$u(e.history,_e,at.signal);if(Ke){let pn=await vs(Ae,new URL(tt.url).pathname,tt.signal,te);if(pn.type==="aborted")return;if(pn.type==="error"){Pe(te,me,pn.error,{flushSync:it});return}else if(pn.matches)Ae=pn.matches;else{Pe(te,me,ls(404,{pathname:_e}),{flushSync:it});return}}let Rt=Ig(Ae,_e);V.set(te,at);let $t=ne,Dn=Zu(i,s,tt,Ae,Rt,r,je),an=(await Bt(tt,Dn,je,te))[Rt.route.id];if(V.get(te)===at&&V.delete(te),!tt.signal.aborted){if(H.has(te)){Ee(te,Aa(void 0));return}if(ac(an))if(Z>$t){Ee(te,Aa(void 0));return}else{F.add(te),await pt(tt,an,!1,{preventScrollReset:Ze});return}if(Wi(an)){Pe(te,me,an.error);return}Ee(te,Aa(an.data))}}async function pt(te,me,_e,{submission:Ae,fetcherSubmission:je,preventScrollReset:Ke,replace:it}={}){me.response.headers.has("X-Remix-Revalidate")&&(Q=!0);let Ze=me.response.headers.get("Location");Vt(Ze,"Expected a Location header on the redirect Response"),Ze=U3(Ze,new URL(te.url),l);let nt=dh(j.location,Ze,{_isRedirect:!0});if(n){let Dn=!1;if(me.response.headers.has("X-Remix-Reload-Document"))Dn=!0;else if(I2(Ze)){const nr=OC(Ze,!0);Dn=nr.origin!==t.location.origin||ms(nr.pathname,l)==null}if(Dn){it?t.location.replace(Ze):t.location.assign(Ze);return}}$=null;let lt=it===!0||me.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:at,formAction:tt,formEncType:Rt}=j.navigation;!Ae&&!je&&at&&tt&&Rt&&(Ae=G3(j.navigation));let $t=Ae||je;if(GP.has(me.response.status)&&$t&&ki($t.formMethod))await sn(lt,nt,{submission:{...$t,formAction:Ze},preventScrollReset:Ke||U,enableViewTransition:_e?D:void 0});else{let Dn=hv(nt,Ae);await sn(lt,nt,{overrideNavigation:Dn,fetcherSubmission:je,preventScrollReset:Ke||U,enableViewTransition:_e?D:void 0})}}async function Bt(te,me,_e,Ae){let je,Ke={};try{je=await sR(u,te,me,Ae,_e,!1)}catch(it){return me.filter(Ze=>Ze.shouldLoad).forEach(Ze=>{Ke[Ze.route.id]={type:"error",error:it}}),Ke}if(te.signal.aborted)return Ke;for(let[it,Ze]of Object.entries(je))if(dR(Ze)){let nt=Ze.result;Ke[it]={type:"redirect",response:lR(nt,te,it,me,l)}}else Ke[it]=await aR(Ze);return Ke}async function Pt(te,me,_e,Ae){let je=Bt(_e,te,Ae,null),Ke=Promise.all(me.map(async nt=>{if(nt.matches&&nt.match&&nt.request&&nt.controller){let at=(await Bt(nt.request,nt.matches,Ae,nt.key))[nt.match.route.id];return{[nt.key]:at}}else return Promise.resolve({[nt.key]:{type:"error",error:ls(404,{pathname:nt.path})}})})),it=await je,Ze=(await Ke).reduce((nt,lt)=>Object.assign(nt,lt),{});return{loaderResults:it,fetcherResults:Ze}}function Wn(){Q=!0,G.forEach((te,me)=>{V.has(me)&&q.add(me),hn(me)})}function Ee(te,me,_e={}){j.fetchers.set(te,me),ct({fetchers:new Map(j.fetchers)},{flushSync:(_e&&_e.flushSync)===!0})}function Pe(te,me,_e,Ae={}){let je=ic(j.matches,me);vt(te),ct({errors:{[je.route.id]:_e},fetchers:new Map(j.fetchers)},{flushSync:(Ae&&Ae.flushSync)===!0})}function ut(te){return ye.set(te,(ye.get(te)||0)+1),H.has(te)&&H.delete(te),j.fetchers.get(te)||YP}function vt(te){let me=j.fetchers.get(te);V.has(te)&&!(me&&me.state==="loading"&&fe.has(te))&&hn(te),G.delete(te),fe.delete(te),F.delete(te),H.delete(te),q.delete(te),j.fetchers.delete(te)}function zt(te){let me=(ye.get(te)||0)-1;me<=0?(ye.delete(te),H.add(te)):ye.set(te,me),ct({fetchers:new Map(j.fetchers)})}function hn(te){let me=V.get(te);me&&(me.abort(),V.delete(te))}function er(te){for(let me of te){let _e=ut(me),Ae=Aa(_e.data);j.fetchers.set(me,Ae)}}function tr(){let te=[],me=!1;for(let _e of F){let Ae=j.fetchers.get(_e);Vt(Ae,`Expected fetcher: ${_e}`),Ae.state==="loading"&&(F.delete(_e),te.push(_e),me=!0)}return er(te),me}function Yr(te){let me=[];for(let[_e,Ae]of fe)if(Ae<te){let je=j.fetchers.get(_e);Vt(je,`Expected fetcher: ${_e}`),je.state==="loading"&&(hn(_e),fe.delete(_e),me.push(_e))}return er(me),me.length>0}function yr(te,me){let _e=j.blockers.get(te)||bf;return Oe.get(te)!==me&&Oe.set(te,me),_e}function Qe(te){j.blockers.delete(te),Oe.delete(te)}function Gn(te,me){let _e=j.blockers.get(te)||bf;Vt(_e.state==="unblocked"&&me.state==="blocked"||_e.state==="blocked"&&me.state==="blocked"||_e.state==="blocked"&&me.state==="proceeding"||_e.state==="blocked"&&me.state==="unblocked"||_e.state==="proceeding"&&me.state==="unblocked",`Invalid blocker state transition: ${_e.state} -> ${me.state}`);let Ae=new Map(j.blockers);Ae.set(te,me),ct({blockers:Ae})}function Mn({currentLocation:te,nextLocation:me,historyAction:_e}){if(Oe.size===0)return;Oe.size>1&&or(!1,"A router only supports one blocker at a time");let Ae=Array.from(Oe.entries()),[je,Ke]=Ae[Ae.length-1],it=j.blockers.get(je);if(!(it&&it.state==="proceeding")&&Ke({currentLocation:te,nextLocation:me,historyAction:_e}))return je}function Yi(te){let me=ls(404,{pathname:te}),_e=a||o,{matches:Ae,route:je}=V3(_e);return{notFoundMatches:Ae,route:je,error:me}}function Ve(te,me,_e){if(y=te,_=me,b=_e||null,!E&&j.navigation===fv){E=!0;let Ae=po(j.location,j.matches);Ae!=null&&ct({restoreScrollPosition:Ae})}return()=>{y=null,_=null,b=null}}function Oi(te,me){return b&&b(te,me.map(Ae=>CP(Ae,j.loaderData)))||te.key}function ys(te,me){if(y&&_){let _e=Oi(te,me);y[_e]=_()}}function po(te,me){if(y){let _e=Oi(te,me),Ae=y[_e];if(typeof Ae=="number")return Ae}return null}function qs(te,me,_e){if(e.patchRoutesOnNavigation)if(te){if(Object.keys(te[0].params).length>0)return{active:!0,matches:Ng(me,_e,l,!0)}}else return{active:!0,matches:Ng(me,_e,l,!0)||[]};return{active:!1,matches:null}}async function vs(te,me,_e,Ae){if(!e.patchRoutesOnNavigation)return{type:"success",matches:te};let je=te;for(;;){let Ke=a==null,it=a||o,Ze=s;try{await e.patchRoutesOnNavigation({signal:_e,path:me,matches:je,fetcherKey:Ae,patch:(at,tt)=>{_e.aborted||F3(at,tt,it,Ze,i,!1)}})}catch(at){return{type:"error",error:at,partialMatches:je}}finally{Ke&&!_e.aborted&&(o=[...o])}if(_e.aborted)return{type:"aborted"};let nt=$a(it,me,l);if(nt)return{type:"success",matches:nt};let lt=Ng(it,me,l,!0);if(!lt||je.length===lt.length&&je.every((at,tt)=>at.route.id===lt[tt].route.id))return{type:"success",matches:null};je=lt}}function $c(te){s={},a=fh(te,i,void 0,s)}function Uc(te,me,_e=!1){let Ae=a==null;F3(te,me,a||o,s,i,_e),Ae&&(o=[...o],ct({}))}return B={get basename(){return l},get future(){return f},get state(){return j},get routes(){return o},get window(){return t},initialize:Ye,subscribe:Ne,enableScrollRestoration:Ve,navigate:It,fetch:di,revalidate:En,createHref:te=>e.history.createHref(te),encodeLocation:te=>e.history.encodeLocation(te),getFetcher:ut,deleteFetcher:zt,dispose:qe,getBlocker:yr,deleteBlocker:Qe,patchRoutes:Uc,_internalFetchControllers:V,_internalSetRoutes:$c,_internalSetStateDoNotUseOrYouWillBreakYourApp(te){ct(te)}},B}function eR(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function Wx(e,t,n,r,i,s){let o,a;if(i){o=[];for(let u of t)if(o.push(u),u.route.id===i){a=u;break}}else o=t,a=t[t.length-1];let l=N2(r||".",j2(o),ms(e.pathname,n)||e.pathname,s==="path");if(r==null&&(l.search=e.search,l.hash=e.hash),(r==null||r===""||r===".")&&a){let u=P2(l.search);if(a.route.index&&!u)l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index";else if(!a.route.index&&u){let f=new URLSearchParams(l.search),h=f.getAll("index");f.delete("index"),h.filter(y=>y).forEach(y=>f.append("index",y));let g=f.toString();l.search=g?`?${g}`:""}}return n!=="/"&&(l.pathname=BP({basename:n,pathname:l.pathname})),Ya(l)}function D3(e,t,n){if(!n||!eR(n))return{path:t};if(n.formMethod&&!fR(n.formMethod))return{path:t,error:ls(405,{method:n.formMethod})};let r=()=>({path:t,error:ls(400,{type:"invalid-body"})}),s=(n.formMethod||"get").toUpperCase(),o=qC(t);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!ki(s))return r();let h=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((g,[y,b])=>`${g}${y}=${b}
`,""):String(n.body);return{path:t,submission:{formMethod:s,formAction:o,formEncType:n.formEncType,formData:void 0,json:void 0,text:h}}}else if(n.formEncType==="application/json"){if(!ki(s))return r();try{let h=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:t,submission:{formMethod:s,formAction:o,formEncType:n.formEncType,formData:void 0,json:h,text:void 0}}}catch{return r()}}}Vt(typeof FormData=="function","FormData is not available in this environment");let a,l;if(n.formData)a=Vx(n.formData),l=n.formData;else if(n.body instanceof FormData)a=Vx(n.body),l=n.body;else if(n.body instanceof URLSearchParams)a=n.body,l=H3(a);else if(n.body==null)a=new URLSearchParams,l=new FormData;else try{a=new URLSearchParams(n.body),l=H3(a)}catch{return r()}let u={formMethod:s,formAction:o,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:l,json:void 0,text:void 0};if(ki(u.formMethod))return{path:t,submission:u};let f=sl(t);return e&&f.search&&P2(f.search)&&a.append("index",""),f.search=`?${a}`,{path:Ya(f),submission:u}}function L3(e,t,n,r,i,s,o,a,l,u,f,h,g,y,b,_,E,C,P,O){let z=O?Wi(O[1])?O[1].error:O[1].data:void 0,B=i.createURL(s.location),j=i.createURL(l),M;if(f&&s.errors){let re=Object.keys(s.errors)[0];M=o.findIndex(Q=>Q.route.id===re)}else if(O&&Wi(O[1])){let re=O[0];M=o.findIndex(Q=>Q.route.id===re)-1}let U=O?O[1].statusCode:void 0,$=U&&U>=400,D={currentUrl:B,currentParams:s.matches[0]?.params||{},nextUrl:j,nextParams:o[0].params,...a,actionResult:z,actionStatus:U},ee=o.map((re,Q)=>{let{route:q}=re,V=null;if(M!=null&&Q>M?V=!1:q.lazy?V=!0:q.loader==null?V=!1:f?V=qx(q,s.loaderData,s.errors):tR(s.loaderData,s.matches[Q],re)&&(V=!0),V!==null)return Qx(n,r,e,re,u,t,V);let ne=$?!1:h||B.pathname+B.search===j.pathname+j.search||B.search!==j.search||nR(s.matches[Q],re),Z={...D,defaultShouldRevalidate:ne},fe=Gg(re,Z);return Qx(n,r,e,re,u,t,fe,Z)}),X=[];return b.forEach((re,Q)=>{if(f||!o.some(ye=>ye.route.id===re.routeId)||y.has(Q))return;let q=s.fetchers.get(Q),V=q&&q.state!=="idle"&&q.data===void 0,ne=$a(E,re.path,C);if(!ne){if(P&&V)return;X.push({key:Q,routeId:re.routeId,path:re.path,matches:null,match:null,request:null,controller:null});return}if(_.has(Q))return;let Z=Ig(ne,re.path),fe=new AbortController,F=$u(i,re.path,fe.signal),G=null;if(g.has(Q))g.delete(Q),G=Zu(n,r,F,ne,Z,u,t);else if(V)h&&(G=Zu(n,r,F,ne,Z,u,t));else{let ye={...D,defaultShouldRevalidate:$?!1:h};Gg(Z,ye)&&(G=Zu(n,r,F,ne,Z,u,t,ye))}G&&X.push({key:Q,routeId:re.routeId,path:re.path,matches:G,match:Z,request:F,controller:fe})}),{dsMatches:ee,revalidatingFetchers:X}}function qx(e,t,n){if(e.lazy)return!0;if(!e.loader)return!1;let r=t!=null&&e.id in t,i=n!=null&&n[e.id]!==void 0;return!r&&i?!1:typeof e.loader=="function"&&e.loader.hydrate===!0?!0:!r&&!i}function tR(e,t,n){let r=!t||n.route.id!==t.route.id,i=!e.hasOwnProperty(n.route.id);return r||i}function nR(e,t){let n=e.route.path;return e.pathname!==t.pathname||n!=null&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function Gg(e,t){if(e.route.shouldRevalidate){let n=e.route.shouldRevalidate(t);if(typeof n=="boolean")return n}return t.defaultShouldRevalidate}function F3(e,t,n,r,i,s){let o;if(e){let u=r[e];Vt(u,`No route found to patch children into: routeId = ${e}`),u.children||(u.children=[]),o=u.children}else o=n;let a=[],l=[];if(t.forEach(u=>{let f=o.find(h=>zC(u,h));f?l.push({existingRoute:f,newRoute:u}):a.push(u)}),a.length>0){let u=fh(a,i,[e||"_","patch",String(o?.length||"0")],r);o.push(...u)}if(s&&l.length>0)for(let u=0;u<l.length;u++){let{existingRoute:f,newRoute:h}=l[u],g=f,[y]=fh([h],i,[],{},!0);Object.assign(g,{element:y.element?y.element:g.element,errorElement:y.errorElement?y.errorElement:g.errorElement,hydrateFallbackElement:y.hydrateFallbackElement?y.hydrateFallbackElement:g.hydrateFallbackElement})}}function zC(e,t){return"id"in e&&"id"in t&&e.id===t.id?!0:e.index===t.index&&e.path===t.path&&e.caseSensitive===t.caseSensitive?(!e.children||e.children.length===0)&&(!t.children||t.children.length===0)?!0:e.children.every((n,r)=>t.children?.some(i=>zC(n,i))):!1}var B3=new WeakMap,$C=({key:e,route:t,manifest:n,mapRouteProperties:r})=>{let i=n[t.id];if(Vt(i,"No route found in manifest"),!i.lazy||typeof i.lazy!="object")return;let s=i.lazy[e];if(!s)return;let o=B3.get(i);o||(o={},B3.set(i,o));let a=o[e];if(a)return a;let l=(async()=>{let u=_P(e),h=i[e]!==void 0&&e!=="hasErrorBoundary";if(u)or(!u,"Route property "+e+" is not a supported lazy route property. This property will be ignored."),o[e]=Promise.resolve();else if(h)or(!1,`Route "${i.id}" has a static property "${e}" defined. The lazy property will be ignored.`);else{let g=await s();g!=null&&(Object.assign(i,{[e]:g}),Object.assign(i,r(i)))}typeof i.lazy=="object"&&(i.lazy[e]=void 0,Object.values(i.lazy).every(g=>g===void 0)&&(i.lazy=void 0))})();return o[e]=l,l},z3=new WeakMap;function rR(e,t,n,r,i){let s=n[e.id];if(Vt(s,"No route found in manifest"),!e.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof e.lazy=="function"){let f=z3.get(s);if(f)return{lazyRoutePromise:f,lazyHandlerPromise:f};let h=(async()=>{Vt(typeof e.lazy=="function","No lazy route function found");let g=await e.lazy(),y={};for(let b in g){let _=g[b];if(_===void 0)continue;let E=EP(b),P=s[b]!==void 0&&b!=="hasErrorBoundary";E?or(!E,"Route property "+b+" is not a supported property to be returned from a lazy route function. This property will be ignored."):P?or(!P,`Route "${s.id}" has a static property "${b}" defined but its lazy function is also returning a value for this property. The lazy route property "${b}" will be ignored.`):y[b]=_}Object.assign(s,y),Object.assign(s,{...r(s),lazy:void 0})})();return z3.set(s,h),h.catch(()=>{}),{lazyRoutePromise:h,lazyHandlerPromise:h}}let o=Object.keys(e.lazy),a=[],l;for(let f of o){if(i&&i.includes(f))continue;let h=$C({key:f,route:e,manifest:n,mapRouteProperties:r});h&&(a.push(h),f===t&&(l=h))}let u=a.length>0?Promise.all(a).then(()=>{}):void 0;return u?.catch(()=>{}),l?.catch(()=>{}),{lazyRoutePromise:u,lazyHandlerPromise:l}}async function $3(e){let t=e.matches.filter(i=>i.shouldLoad),n={};return(await Promise.all(t.map(i=>i.resolve()))).forEach((i,s)=>{n[t[s].route.id]=i}),n}async function iR(e){return e.matches.some(t=>t.route.unstable_middleware)?UC(e,!1,()=>$3(e),(t,n)=>({[n]:{type:"error",result:t}})):$3(e)}async function UC(e,t,n,r){let{matches:i,request:s,params:o,context:a}=e,l={handlerResult:void 0};try{let u=i.flatMap(h=>h.route.unstable_middleware?h.route.unstable_middleware.map(g=>[h.route.id,g]):[]),f=await HC({request:s,params:o,context:a},u,t,l,n);return t?f:l.handlerResult}catch(u){if(!l.middlewareError)throw u;let f=await r(l.middlewareError.error,l.middlewareError.routeId);return l.handlerResult?Object.assign(l.handlerResult,f):f}}async function HC(e,t,n,r,i,s=0){let{request:o}=e;if(o.signal.aborted)throw o.signal.reason?o.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${o.method} ${o.url}`);let a=t[s];if(!a)return r.handlerResult=await i(),r.handlerResult;let[l,u]=a,f=!1,h,g=async()=>{if(f)throw new Error("You may only call `next()` once per middleware");f=!0,await HC(e,t,n,r,i,s+1)};try{let y=await u({request:e.request,params:e.params,context:e.context},g);return f?y===void 0?h:y:g()}catch(y){throw r.middlewareError?r.middlewareError.error!==y&&(r.middlewareError={routeId:l,error:y}):r.middlewareError={routeId:l,error:y},y}}function WC(e,t,n,r,i){let s=$C({key:"unstable_middleware",route:r.route,manifest:t,mapRouteProperties:e}),o=rR(r.route,ki(n.method)?"action":"loader",t,e,i);return{middleware:s,route:o.lazyRoutePromise,handler:o.lazyHandlerPromise}}function Qx(e,t,n,r,i,s,o,a=null){let l=!1,u=WC(e,t,n,r,i);return{...r,_lazyPromises:u,shouldLoad:o,unstable_shouldRevalidateArgs:a,unstable_shouldCallHandler(f){return l=!0,a?typeof f=="boolean"?Gg(r,{...a,defaultShouldRevalidate:f}):Gg(r,a):o},resolve(f){return l||o||f&&!ki(n.method)&&(r.route.lazy||r.route.loader)?oR({request:n,match:r,lazyHandlerPromise:u?.handler,lazyRoutePromise:u?.route,handlerOverride:f,scopedContext:s}):Promise.resolve({type:"data",result:void 0})}}}function Zu(e,t,n,r,i,s,o,a=null){return r.map(l=>l.route.id!==i.route.id?{...l,shouldLoad:!1,unstable_shouldRevalidateArgs:a,unstable_shouldCallHandler:()=>!1,_lazyPromises:WC(e,t,n,l,s),resolve:()=>Promise.resolve({type:"data",result:void 0})}:Qx(e,t,n,l,s,o,!0,a))}async function sR(e,t,n,r,i,s){n.some(u=>u._lazyPromises?.middleware)&&await Promise.all(n.map(u=>u._lazyPromises?.middleware));let o={request:t,params:n[0].params,context:i,matches:n},l=await e({...o,fetcherKey:r,unstable_runClientMiddleware:u=>{let f=o;return UC(f,!1,()=>u({...f,fetcherKey:r,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}}),(h,g)=>({[g]:{type:"error",result:h}}))}});try{await Promise.all(n.flatMap(u=>[u._lazyPromises?.handler,u._lazyPromises?.route]))}catch{}return l}async function oR({request:e,match:t,lazyHandlerPromise:n,lazyRoutePromise:r,handlerOverride:i,scopedContext:s}){let o,a,l=ki(e.method),u=l?"action":"loader",f=h=>{let g,y=new Promise((E,C)=>g=C);a=()=>g(),e.signal.addEventListener("abort",a);let b=E=>typeof h!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${u}" [routeId: ${t.route.id}]`)):h({request:e,params:t.params,context:s},...E!==void 0?[E]:[]),_=(async()=>{try{return{type:"data",result:await(i?i(C=>b(C)):b())}}catch(E){return{type:"error",result:E}}})();return Promise.race([_,y])};try{let h=l?t.route.action:t.route.loader;if(n||r)if(h){let g,[y]=await Promise.all([f(h).catch(b=>{g=b}),n,r]);if(g!==void 0)throw g;o=y}else{await n;let g=l?t.route.action:t.route.loader;if(g)[o]=await Promise.all([f(g),r]);else if(u==="action"){let y=new URL(e.url),b=y.pathname+y.search;throw ls(405,{method:e.method,pathname:b,routeId:t.route.id})}else return{type:"data",result:void 0}}else if(h)o=await f(h);else{let g=new URL(e.url),y=g.pathname+g.search;throw ls(404,{pathname:y})}}catch(h){return{type:"error",result:h}}finally{a&&e.signal.removeEventListener("abort",a)}return o}async function aR(e){let{result:t,type:n}=e;if(QC(t)){let r;try{let i=t.headers.get("Content-Type");i&&/\bapplication\/json\b/.test(i)?t.body==null?r=null:r=await t.json():r=await t.text()}catch(i){return{type:"error",error:i}}return n==="error"?{type:"error",error:new Kg(t.status,t.statusText,r),statusCode:t.status,headers:t.headers}:{type:"data",data:r,statusCode:t.status,headers:t.headers}}return n==="error"?K3(t)?t.data instanceof Error?{type:"error",error:t.data,statusCode:t.init?.status,headers:t.init?.headers?new Headers(t.init.headers):void 0}:{type:"error",error:new Kg(t.init?.status||500,void 0,t.data),statusCode:hh(t)?t.status:void 0,headers:t.init?.headers?new Headers(t.init.headers):void 0}:{type:"error",error:t,statusCode:hh(t)?t.status:void 0}:K3(t)?{type:"data",data:t.data,statusCode:t.init?.status,headers:t.init?.headers?new Headers(t.init.headers):void 0}:{type:"data",data:t}}function lR(e,t,n,r,i){let s=e.headers.get("Location");if(Vt(s,"Redirects returned/thrown from loaders/actions must have a Location header"),!I2(s)){let o=r.slice(0,r.findIndex(a=>a.route.id===n)+1);s=Wx(new URL(t.url),o,i,s),e.headers.set("Location",s)}return e}function U3(e,t,n){if(I2(e)){let r=e,i=r.startsWith("//")?new URL(t.protocol+r):new URL(r),s=ms(i.pathname,n)!=null;if(i.origin===t.origin&&s)return i.pathname+i.search+i.hash}return e}function $u(e,t,n,r){let i=e.createURL(qC(t)).toString(),s={signal:n};if(r&&ki(r.formMethod)){let{formMethod:o,formEncType:a}=r;s.method=o.toUpperCase(),a==="application/json"?(s.headers=new Headers({"Content-Type":a}),s.body=JSON.stringify(r.json)):a==="text/plain"?s.body=r.text:a==="application/x-www-form-urlencoded"&&r.formData?s.body=Vx(r.formData):s.body=r.formData}return new Request(i,s)}function Vx(e){let t=new URLSearchParams;for(let[n,r]of e.entries())t.append(n,typeof r=="string"?r:r.name);return t}function H3(e){let t=new FormData;for(let[n,r]of e.entries())t.append(n,r);return t}function cR(e,t,n,r=!1,i=!1){let s={},o=null,a,l=!1,u={},f=n&&Wi(n[1])?n[1].error:void 0;return e.forEach(h=>{if(!(h.route.id in t))return;let g=h.route.id,y=t[g];if(Vt(!ac(y),"Cannot handle redirect results in processLoaderData"),Wi(y)){let b=y.error;if(f!==void 0&&(b=f,f=void 0),o=o||{},i)o[g]=b;else{let _=ic(e,g);o[_.route.id]==null&&(o[_.route.id]=b)}r||(s[g]=BC),l||(l=!0,a=hh(y.error)?y.error.status:500),y.headers&&(u[g]=y.headers)}else s[g]=y.data,y.statusCode&&y.statusCode!==200&&!l&&(a=y.statusCode),y.headers&&(u[g]=y.headers)}),f!==void 0&&n&&(o={[n[0]]:f},n[2]&&(s[n[2]]=void 0)),{loaderData:s,errors:o,statusCode:a||200,loaderHeaders:u}}function W3(e,t,n,r,i,s){let{loaderData:o,errors:a}=cR(t,n,r);return i.filter(l=>!l.matches||l.matches.some(u=>u.shouldLoad)).forEach(l=>{let{key:u,match:f,controller:h}=l,g=s[u];if(Vt(g,"Did not find corresponding fetcher result"),!(h&&h.signal.aborted))if(Wi(g)){let y=ic(e.matches,f?.route.id);a&&a[y.route.id]||(a={...a,[y.route.id]:g.error}),e.fetchers.delete(u)}else if(ac(g))Vt(!1,"Unhandled fetcher revalidation redirect");else{let y=Aa(g.data);e.fetchers.set(u,y)}}),{loaderData:o,errors:a}}function q3(e,t,n,r){let i=Object.entries(t).filter(([,s])=>s!==BC).reduce((s,[o,a])=>(s[o]=a,s),{});for(let s of n){let o=s.route.id;if(!t.hasOwnProperty(o)&&e.hasOwnProperty(o)&&s.route.loader&&(i[o]=e[o]),r&&r.hasOwnProperty(o))break}return i}function Q3(e){return e?Wi(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function ic(e,t){return(t?e.slice(0,e.findIndex(r=>r.route.id===t)+1):[...e]).reverse().find(r=>r.route.hasErrorBoundary===!0)||e[0]}function V3(e){let t=e.length===1?e[0]:e.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function ls(e,{pathname:t,routeId:n,method:r,type:i,message:s}={}){let o="Unknown Server Error",a="Unknown @remix-run/router error";return e===400?(o="Bad Request",r&&t&&n?a=`You made a ${r} request to "${t}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:i==="invalid-body"&&(a="Unable to encode submission body")):e===403?(o="Forbidden",a=`Route "${n}" does not match URL "${t}"`):e===404?(o="Not Found",a=`No route matches URL "${t}"`):e===405&&(o="Method Not Allowed",r&&t&&n?a=`You made a ${r.toUpperCase()} request to "${t}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:r&&(a=`Invalid request method "${r.toUpperCase()}"`)),new Kg(e||500,o,new Error(a),!0)}function Em(e){let t=Object.entries(e);for(let n=t.length-1;n>=0;n--){let[r,i]=t[n];if(ac(i))return{key:r,result:i}}}function qC(e){let t=typeof e=="string"?sl(e):e;return Ya({...t,hash:""})}function uR(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function dR(e){return QC(e.result)&&KP.has(e.result.status)}function Wi(e){return e.type==="error"}function ac(e){return(e&&e.type)==="redirect"}function K3(e){return typeof e=="object"&&e!=null&&"type"in e&&"data"in e&&"init"in e&&e.type==="DataWithResponseInit"}function QC(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function fR(e){return VP.has(e.toUpperCase())}function ki(e){return qP.has(e.toUpperCase())}function P2(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function Ig(e,t){let n=typeof t=="string"?sl(t).search:t.search;if(e[e.length-1].route.index&&P2(n||""))return e[e.length-1];let r=DC(e);return r[r.length-1]}function G3(e){let{formMethod:t,formAction:n,formEncType:r,text:i,formData:s,json:o}=e;if(!(!t||!n||!r)){if(i!=null)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:t,formAction:n,formEncType:r,formData:s,json:void 0,text:void 0};if(o!==void 0)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}}}function hv(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function hR(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function wf(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function pR(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function Aa(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function mR(e,t){try{let n=e.sessionStorage.getItem(FC);if(n){let r=JSON.parse(n);for(let[i,s]of Object.entries(r||{}))s&&Array.isArray(s)&&t.set(i,new Set(s||[]))}}catch{}}function gR(e,t){if(t.size>0){let n={};for(let[r,i]of t)n[r]=[...i];try{e.sessionStorage.setItem(FC,JSON.stringify(n))}catch(r){or(!1,`Failed to save applied view transitions in sessionStorage (${r}).`)}}}function yR(){let e,t,n=new Promise((r,i)=>{e=async s=>{r(s);try{await n}catch{}},t=async s=>{i(s);try{await n}catch{}}});return{promise:n,resolve:e,reject:t}}var jc=I.createContext(null);jc.displayName="DataRouter";var Dh=I.createContext(null);Dh.displayName="DataRouterState";I.createContext(!1);var R2=I.createContext({isTransitioning:!1});R2.displayName="ViewTransition";var VC=I.createContext(new Map);VC.displayName="Fetchers";var vR=I.createContext(null);vR.displayName="Await";var uo=I.createContext(null);uo.displayName="Navigation";var z0=I.createContext(null);z0.displayName="Location";var Us=I.createContext({outlet:null,matches:[],isDataRoute:!1});Us.displayName="Route";var O2=I.createContext(null);O2.displayName="RouteError";function xR(e,{relative:t}={}){Vt(Lh(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=I.useContext(uo),{hash:i,pathname:s,search:o}=Fh(e,{relative:t}),a=s;return n!=="/"&&(a=s==="/"?n:oo([n,s])),r.createHref({pathname:a,search:o,hash:i})}function Lh(){return I.useContext(z0)!=null}function fo(){return Vt(Lh(),"useLocation() may be used only in the context of a <Router> component."),I.useContext(z0).location}var KC="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function GC(e){I.useContext(uo).static||I.useLayoutEffect(e)}function $0(){let{isDataRoute:e}=I.useContext(Us);return e?OR():bR()}function bR(){Vt(Lh(),"useNavigate() may be used only in the context of a <Router> component.");let e=I.useContext(jc),{basename:t,navigator:n}=I.useContext(uo),{matches:r}=I.useContext(Us),{pathname:i}=fo(),s=JSON.stringify(j2(r)),o=I.useRef(!1);return GC(()=>{o.current=!0}),I.useCallback((l,u={})=>{if(or(o.current,KC),!o.current)return;if(typeof l=="number"){n.go(l);return}let f=N2(l,JSON.parse(s),i,u.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:oo([t,f.pathname])),(u.replace?n.replace:n.push)(f,u.state,u)},[t,n,s,i,e])}var wR=I.createContext(null);function _R(e){let t=I.useContext(Us).outlet;return t&&I.createElement(wR.Provider,{value:e},t)}function YC(){let{matches:e}=I.useContext(Us),t=e[e.length-1];return t?t.params:{}}function Fh(e,{relative:t}={}){let{matches:n}=I.useContext(Us),{pathname:r}=fo(),i=JSON.stringify(j2(n));return I.useMemo(()=>N2(e,JSON.parse(i),r,t==="path"),[e,i,r,t])}function SR(e,t,n,r){Vt(Lh(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=I.useContext(uo),{matches:s}=I.useContext(Us),o=s[s.length-1],a=o?o.params:{},l=o?o.pathname:"/",u=o?o.pathnameBase:"/",f=o&&o.route;{let C=f&&f.path||"";XC(l,!f||C.endsWith("*")||C.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${l}" (under <Route path="${C}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${C}"> to <Route path="${C==="/"?"*":`${C}/*`}">.`)}let h=fo(),g;g=h;let y=g.pathname||"/",b=y;if(u!=="/"){let C=u.replace(/^\//,"").split("/");b="/"+y.replace(/^\//,"").split("/").slice(C.length).join("/")}let _=$a(e,{pathname:b});return or(f||_!=null,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),or(_==null||_[_.length-1].route.element!==void 0||_[_.length-1].route.Component!==void 0||_[_.length-1].route.lazy!==void 0,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),jR(_&&_.map(C=>Object.assign({},C,{params:Object.assign({},a,C.params),pathname:oo([u,i.encodeLocation?i.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?u:oo([u,i.encodeLocation?i.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),s,n,r)}function ER(){let e=D2(),t=hh(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=I.createElement(I.Fragment,null,I.createElement("p",null,"💿 Hey developer 👋"),I.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",I.createElement("code",{style:s},"ErrorBoundary")," or"," ",I.createElement("code",{style:s},"errorElement")," prop on your route.")),I.createElement(I.Fragment,null,I.createElement("h2",null,"Unexpected Application Error!"),I.createElement("h3",{style:{fontStyle:"italic"}},t),n?I.createElement("pre",{style:i},n):null,o)}var kR=I.createElement(ER,null),CR=class extends I.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?I.createElement(Us.Provider,{value:this.props.routeContext},I.createElement(O2.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function TR({routeContext:e,match:t,children:n}){let r=I.useContext(jc);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),I.createElement(Us.Provider,{value:e},n)}function jR(e,t=[],n=null,r=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let i=e,s=n?.errors;if(s!=null){let l=i.findIndex(u=>u.route.id&&s?.[u.route.id]!==void 0);Vt(l>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,l+1))}let o=!1,a=-1;if(n)for(let l=0;l<i.length;l++){let u=i[l];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(a=l),u.route.id){let{loaderData:f,errors:h}=n,g=u.route.loader&&!f.hasOwnProperty(u.route.id)&&(!h||h[u.route.id]===void 0);if(u.route.lazy||g){o=!0,a>=0?i=i.slice(0,a+1):i=[i[0]];break}}}return i.reduceRight((l,u,f)=>{let h,g=!1,y=null,b=null;n&&(h=s&&u.route.id?s[u.route.id]:void 0,y=u.route.errorElement||kR,o&&(a<0&&f===0?(XC("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),g=!0,b=null):a===f&&(g=!0,b=u.route.hydrateFallbackElement||null)));let _=t.concat(i.slice(0,f+1)),E=()=>{let C;return h?C=y:g?C=b:u.route.Component?C=I.createElement(u.route.Component,null):u.route.element?C=u.route.element:C=l,I.createElement(TR,{match:u,routeContext:{outlet:l,matches:_,isDataRoute:n!=null},children:C})};return n&&(u.route.ErrorBoundary||u.route.errorElement||f===0)?I.createElement(CR,{location:n.location,revalidation:n.revalidation,component:y,error:h,children:E(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):E()},null)}function A2(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function NR(e){let t=I.useContext(jc);return Vt(t,A2(e)),t}function IR(e){let t=I.useContext(Dh);return Vt(t,A2(e)),t}function PR(e){let t=I.useContext(Us);return Vt(t,A2(e)),t}function M2(e){let t=PR(e),n=t.matches[t.matches.length-1];return Vt(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function RR(){return M2("useRouteId")}function D2(){let e=I.useContext(O2),t=IR("useRouteError"),n=M2("useRouteError");return e!==void 0?e:t.errors?.[n]}function OR(){let{router:e}=NR("useNavigate"),t=M2("useNavigate"),n=I.useRef(!1);return GC(()=>{n.current=!0}),I.useCallback(async(i,s={})=>{or(n.current,KC),n.current&&(typeof i=="number"?e.navigate(i):await e.navigate(i,{fromRouteId:t,...s}))},[e,t])}var Y3={};function XC(e,t,n){!t&&!Y3[e]&&(Y3[e]=!0,or(!1,n))}var X3={};function J3(e,t){!e&&!X3[t]&&(X3[t]=!0,console.warn(t))}function AR(e){let t={hasErrorBoundary:e.hasErrorBoundary||e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&(e.element&&or(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(t,{element:I.createElement(e.Component),Component:void 0})),e.HydrateFallback&&(e.hydrateFallbackElement&&or(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(t,{hydrateFallbackElement:I.createElement(e.HydrateFallback),HydrateFallback:void 0})),e.ErrorBoundary&&(e.errorElement&&or(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(t,{errorElement:I.createElement(e.ErrorBoundary),ErrorBoundary:void 0})),t}var MR=["HydrateFallback","hydrateFallbackElement"],DR=class{constructor(){this.status="pending",this.promise=new Promise((t,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",t(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function LR({router:e,flushSync:t}){let[n,r]=I.useState(e.state),[i,s]=I.useState(),[o,a]=I.useState({isTransitioning:!1}),[l,u]=I.useState(),[f,h]=I.useState(),[g,y]=I.useState(),b=I.useRef(new Map),_=I.useCallback((O,{deletedFetchers:z,flushSync:B,viewTransitionOpts:j})=>{O.fetchers.forEach((U,$)=>{U.data!==void 0&&b.current.set($,U.data)}),z.forEach(U=>b.current.delete(U)),J3(B===!1||t!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let M=e.window!=null&&e.window.document!=null&&typeof e.window.document.startViewTransition=="function";if(J3(j==null||M,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!j||!M){t&&B?t(()=>r(O)):I.startTransition(()=>r(O));return}if(t&&B){t(()=>{f&&(l&&l.resolve(),f.skipTransition()),a({isTransitioning:!0,flushSync:!0,currentLocation:j.currentLocation,nextLocation:j.nextLocation})});let U=e.window.document.startViewTransition(()=>{t(()=>r(O))});U.finished.finally(()=>{t(()=>{u(void 0),h(void 0),s(void 0),a({isTransitioning:!1})})}),t(()=>h(U));return}f?(l&&l.resolve(),f.skipTransition(),y({state:O,currentLocation:j.currentLocation,nextLocation:j.nextLocation})):(s(O),a({isTransitioning:!0,flushSync:!1,currentLocation:j.currentLocation,nextLocation:j.nextLocation}))},[e.window,t,f,l]);I.useLayoutEffect(()=>e.subscribe(_),[e,_]),I.useEffect(()=>{o.isTransitioning&&!o.flushSync&&u(new DR)},[o]),I.useEffect(()=>{if(l&&i&&e.window){let O=i,z=l.promise,B=e.window.document.startViewTransition(async()=>{I.startTransition(()=>r(O)),await z});B.finished.finally(()=>{u(void 0),h(void 0),s(void 0),a({isTransitioning:!1})}),h(B)}},[i,l,e.window]),I.useEffect(()=>{l&&i&&n.location.key===i.location.key&&l.resolve()},[l,f,n.location,i]),I.useEffect(()=>{!o.isTransitioning&&g&&(s(g.state),a({isTransitioning:!0,flushSync:!1,currentLocation:g.currentLocation,nextLocation:g.nextLocation}),y(void 0))},[o.isTransitioning,g]);let E=I.useMemo(()=>({createHref:e.createHref,encodeLocation:e.encodeLocation,go:O=>e.navigate(O),push:(O,z,B)=>e.navigate(O,{state:z,preventScrollReset:B?.preventScrollReset}),replace:(O,z,B)=>e.navigate(O,{replace:!0,state:z,preventScrollReset:B?.preventScrollReset})}),[e]),C=e.basename||"/",P=I.useMemo(()=>({router:e,navigator:E,static:!1,basename:C}),[e,E,C]);return I.createElement(I.Fragment,null,I.createElement(jc.Provider,{value:P},I.createElement(Dh.Provider,{value:n},I.createElement(VC.Provider,{value:b.current},I.createElement(R2.Provider,{value:o},I.createElement(zR,{basename:C,location:n.location,navigationType:n.historyAction,navigator:E},I.createElement(FR,{routes:e.routes,future:e.future,state:n})))))),null)}var FR=I.memo(BR);function BR({routes:e,future:t,state:n}){return SR(e,void 0,n,t)}function L2(e){return _R(e.context)}function zR({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:i,static:s=!1}){Vt(!Lh(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=e.replace(/^\/*/,"/"),a=I.useMemo(()=>({basename:o,navigator:i,static:s,future:{}}),[o,i,s]);typeof n=="string"&&(n=sl(n));let{pathname:l="/",search:u="",hash:f="",state:h=null,key:g="default"}=n,y=I.useMemo(()=>{let b=ms(l,o);return b==null?null:{location:{pathname:b,search:u,hash:f,state:h,key:g},navigationType:r}},[o,l,u,f,h,g,r]);return or(y!=null,`<Router basename="${o}"> is not able to match the URL "${l}${u}${f}" because it does not start with the basename, so the <Router> won't render anything.`),y==null?null:I.createElement(uo.Provider,{value:a},I.createElement(z0.Provider,{children:t,value:y}))}var Pg="get",Rg="application/x-www-form-urlencoded";function U0(e){return e!=null&&typeof e.tagName=="string"}function $R(e){return U0(e)&&e.tagName.toLowerCase()==="button"}function UR(e){return U0(e)&&e.tagName.toLowerCase()==="form"}function HR(e){return U0(e)&&e.tagName.toLowerCase()==="input"}function WR(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function qR(e,t){return e.button===0&&(!t||t==="_self")&&!WR(e)}var km=null;function QR(){if(km===null)try{new FormData(document.createElement("form"),0),km=!1}catch{km=!0}return km}var VR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function pv(e){return e!=null&&!VR.has(e)?(or(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Rg}"`),null):e}function KR(e,t){let n,r,i,s,o;if(UR(e)){let a=e.getAttribute("action");r=a?ms(a,t):null,n=e.getAttribute("method")||Pg,i=pv(e.getAttribute("enctype"))||Rg,s=new FormData(e)}else if($R(e)||HR(e)&&(e.type==="submit"||e.type==="image")){let a=e.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=e.getAttribute("formaction")||a.getAttribute("action");if(r=l?ms(l,t):null,n=e.getAttribute("formmethod")||a.getAttribute("method")||Pg,i=pv(e.getAttribute("formenctype"))||pv(a.getAttribute("enctype"))||Rg,s=new FormData(a,e),!QR()){let{name:u,type:f,value:h}=e;if(f==="image"){let g=u?`${u}.`:"";s.append(`${g}x`,"0"),s.append(`${g}y`,"0")}else u&&s.append(u,h)}}else{if(U0(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Pg,r=null,i=Rg,o=e}return s&&i==="text/plain"&&(o=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function F2(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function GR(e,t,n){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname=`_root.${n}`:t&&ms(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function YR(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function XR(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function JR(e,t,n){let r=await Promise.all(e.map(async i=>{let s=t.routes[i.route.id];if(s){let o=await YR(s,n);return o.links?o.links():[]}return[]}));return nO(r.flat(1).filter(XR).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function Z3(e,t,n,r,i,s){let o=(l,u)=>n[u]?l.route.id!==n[u].route.id:!0,a=(l,u)=>n[u].pathname!==l.pathname||n[u].route.path?.endsWith("*")&&n[u].params["*"]!==l.params["*"];return s==="assets"?t.filter((l,u)=>o(l,u)||a(l,u)):s==="data"?t.filter((l,u)=>{let f=r.routes[l.route.id];if(!f||!f.hasLoader)return!1;if(o(l,u)||a(l,u))return!0;if(l.route.shouldRevalidate){let h=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof h=="boolean")return h}return!0}):[]}function ZR(e,t,{includeHydrateFallback:n}={}){return eO(e.map(r=>{let i=t.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function eO(e){return[...new Set(e)]}function tO(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function nO(e,t){let n=new Set;return new Set(t),e.reduce((r,i)=>{let s=JSON.stringify(tO(i));return n.has(s)||(n.add(s),r.push({key:s,link:i})),r},[])}function JC(){let e=I.useContext(jc);return F2(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function rO(){let e=I.useContext(Dh);return F2(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var B2=I.createContext(void 0);B2.displayName="FrameworkContext";function ZC(){let e=I.useContext(B2);return F2(e,"You must render this element inside a <HydratedRouter> element"),e}function iO(e,t){let n=I.useContext(B2),[r,i]=I.useState(!1),[s,o]=I.useState(!1),{onFocus:a,onBlur:l,onMouseEnter:u,onMouseLeave:f,onTouchStart:h}=t,g=I.useRef(null);I.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let _=C=>{C.forEach(P=>{o(P.isIntersecting)})},E=new IntersectionObserver(_,{threshold:.5});return g.current&&E.observe(g.current),()=>{E.disconnect()}}},[e]),I.useEffect(()=>{if(r){let _=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(_)}}},[r]);let y=()=>{i(!0)},b=()=>{i(!1),o(!1)};return n?e!=="intent"?[s,g,{}]:[s,g,{onFocus:_f(a,y),onBlur:_f(l,b),onMouseEnter:_f(u,y),onMouseLeave:_f(f,b),onTouchStart:_f(h,y)}]:[!1,g,{}]}function _f(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function sO({page:e,...t}){let{router:n}=JC(),r=I.useMemo(()=>$a(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?I.createElement(aO,{page:e,matches:r,...t}):null}function oO(e){let{manifest:t,routeModules:n}=ZC(),[r,i]=I.useState([]);return I.useEffect(()=>{let s=!1;return JR(e,t,n).then(o=>{s||i(o)}),()=>{s=!0}},[e,t,n]),r}function aO({page:e,matches:t,...n}){let r=fo(),{manifest:i,routeModules:s}=ZC(),{basename:o}=JC(),{loaderData:a,matches:l}=rO(),u=I.useMemo(()=>Z3(e,t,l,i,r,"data"),[e,t,l,i,r]),f=I.useMemo(()=>Z3(e,t,l,i,r,"assets"),[e,t,l,i,r]),h=I.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let b=new Set,_=!1;if(t.forEach(C=>{let P=i.routes[C.route.id];!P||!P.hasLoader||(!u.some(O=>O.route.id===C.route.id)&&C.route.id in a&&s[C.route.id]?.shouldRevalidate||P.hasClientLoader?_=!0:b.add(C.route.id))}),b.size===0)return[];let E=GR(e,o,"data");return _&&b.size>0&&E.searchParams.set("_routes",t.filter(C=>b.has(C.route.id)).map(C=>C.route.id).join(",")),[E.pathname+E.search]},[o,a,r,i,u,t,e,s]),g=I.useMemo(()=>ZR(f,i),[f,i]),y=oO(f);return I.createElement(I.Fragment,null,h.map(b=>I.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...n})),g.map(b=>I.createElement("link",{key:b,rel:"modulepreload",href:b,...n})),y.map(({key:b,link:_})=>I.createElement("link",{key:b,..._})))}function lO(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var e7=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{e7&&(window.__reactRouterVersion="7.7.1")}catch{}function cO(e,t){return ZP({basename:t?.basename,unstable_getContext:t?.unstable_getContext,future:t?.future,history:vP({window:t?.window}),hydrationData:uO(),routes:e,mapRouteProperties:AR,hydrationRouteProperties:MR,dataStrategy:t?.dataStrategy,patchRoutesOnNavigation:t?.patchRoutesOnNavigation,window:t?.window}).initialize()}function uO(){let e=window?.__staticRouterHydrationData;return e&&e.errors&&(e={...e,errors:dO(e.errors)}),e}function dO(e){if(!e)return null;let t=Object.entries(e),n={};for(let[r,i]of t)if(i&&i.__type==="RouteErrorResponse")n[r]=new Kg(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let o=new s(i.message);o.stack="",n[r]=o}catch{}}if(n[r]==null){let s=new Error(i.message);s.stack="",n[r]=s}}else n[r]=i;return n}var t7=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,li=I.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:f,viewTransition:h,...g},y){let{basename:b}=I.useContext(uo),_=typeof u=="string"&&t7.test(u),E,C=!1;if(typeof u=="string"&&_&&(E=u,e7))try{let $=new URL(window.location.href),D=u.startsWith("//")?new URL($.protocol+u):new URL(u),ee=ms(D.pathname,b);D.origin===$.origin&&ee!=null?u=ee+D.search+D.hash:C=!0}catch{or(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let P=xR(u,{relative:i}),[O,z,B]=iO(r,g),j=pO(u,{replace:o,state:a,target:l,preventScrollReset:f,relative:i,viewTransition:h});function M($){t&&t($),$.defaultPrevented||j($)}let U=I.createElement("a",{...g,...B,href:E||P,onClick:C||s?t:M,ref:lO(y,z),target:l,"data-discover":!_&&n==="render"?"true":void 0});return O&&!_?I.createElement(I.Fragment,null,U,I.createElement(sO,{page:P})):U});li.displayName="Link";var ol=I.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:i=!1,style:s,to:o,viewTransition:a,children:l,...u},f){let h=Fh(o,{relative:u.relative}),g=fo(),y=I.useContext(Dh),{navigator:b,basename:_}=I.useContext(uo),E=y!=null&&xO(h)&&a===!0,C=b.encodeLocation?b.encodeLocation(h).pathname:h.pathname,P=g.pathname,O=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;n||(P=P.toLowerCase(),O=O?O.toLowerCase():null,C=C.toLowerCase()),O&&_&&(O=ms(O,_)||O);const z=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let B=P===C||!i&&P.startsWith(C)&&P.charAt(z)==="/",j=O!=null&&(O===C||!i&&O.startsWith(C)&&O.charAt(C.length)==="/"),M={isActive:B,isPending:j,isTransitioning:E},U=B?t:void 0,$;typeof r=="function"?$=r(M):$=[r,B?"active":null,j?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let D=typeof s=="function"?s(M):s;return I.createElement(li,{...u,"aria-current":U,className:$,ref:f,style:D,to:o,viewTransition:a},typeof l=="function"?l(M):l)});ol.displayName="NavLink";var fO=I.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:i,state:s,method:o=Pg,action:a,onSubmit:l,relative:u,preventScrollReset:f,viewTransition:h,...g},y)=>{let b=yO(),_=vO(a,{relative:u}),E=o.toLowerCase()==="get"?"get":"post",C=typeof a=="string"&&t7.test(a),P=O=>{if(l&&l(O),O.defaultPrevented)return;O.preventDefault();let z=O.nativeEvent.submitter,B=z?.getAttribute("formmethod")||o;b(z||O.currentTarget,{fetcherKey:t,method:B,navigate:n,replace:i,state:s,relative:u,preventScrollReset:f,viewTransition:h})};return I.createElement("form",{ref:y,method:E,action:_,onSubmit:r?l:P,...g,"data-discover":!C&&e==="render"?"true":void 0})});fO.displayName="Form";function hO(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function n7(e){let t=I.useContext(jc);return Vt(t,hO(e)),t}function pO(e,{target:t,replace:n,state:r,preventScrollReset:i,relative:s,viewTransition:o}={}){let a=$0(),l=fo(),u=Fh(e,{relative:s});return I.useCallback(f=>{if(qR(f,t)){f.preventDefault();let h=n!==void 0?n:Ya(l)===Ya(u);a(e,{replace:h,state:r,preventScrollReset:i,relative:s,viewTransition:o})}},[l,a,u,n,r,t,e,i,s,o])}var mO=0,gO=()=>`__${String(++mO)}__`;function yO(){let{router:e}=n7("useSubmit"),{basename:t}=I.useContext(uo),n=RR();return I.useCallback(async(r,i={})=>{let{action:s,method:o,encType:a,formData:l,body:u}=KR(r,t);if(i.navigate===!1){let f=i.fetcherKey||gO();await e.fetch(f,n,i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:u,formMethod:i.method||o,formEncType:i.encType||a,flushSync:i.flushSync})}else await e.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:u,formMethod:i.method||o,formEncType:i.encType||a,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,t,n])}function vO(e,{relative:t}={}){let{basename:n}=I.useContext(uo),r=I.useContext(Us);Vt(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...Fh(e||".",{relative:t})},o=fo();if(e==null){s.search=o.search;let a=new URLSearchParams(s.search),l=a.getAll("index");if(l.some(f=>f==="")){a.delete("index"),l.filter(h=>h).forEach(h=>a.append("index",h));let f=a.toString();s.search=f?`?${f}`:""}}return(!e||e===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:oo([n,s.pathname])),Ya(s)}function xO(e,{relative:t}={}){let n=I.useContext(R2);Vt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=n7("useViewTransitionState"),i=Fh(e,{relative:t});if(!n.isTransitioning)return!1;let s=ms(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=ms(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Vg(i.pathname,o)!=null||Vg(i.pathname,s)!=null}var r7=PC();const Cm=Ni(r7);function bO(e){return I.createElement(LR,{flushSync:r7.flushSync,...e})}var wd=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},xc=typeof window>"u"||"Deno"in globalThis;function ri(){}function wO(e,t){return typeof e=="function"?e(t):e}function Kx(e){return typeof e=="number"&&e>=0&&e!==1/0}function i7(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Qa(e,t){return typeof e=="function"?e(t):e}function cs(e,t){return typeof e=="function"?e(t):e}function e5(e,t){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:o,stale:a}=e;if(o){if(r){if(t.queryHash!==z2(o,t.options))return!1}else if(!ph(t.queryKey,o))return!1}if(n!=="all"){const l=t.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&t.isStale()!==a||i&&i!==t.state.fetchStatus||s&&!s(t))}function t5(e,t){const{exact:n,status:r,predicate:i,mutationKey:s}=e;if(s){if(!t.options.mutationKey)return!1;if(n){if(bc(t.options.mutationKey)!==bc(s))return!1}else if(!ph(t.options.mutationKey,s))return!1}return!(r&&t.state.status!==r||i&&!i(t))}function z2(e,t){return(t?.queryKeyHashFn||bc)(e)}function bc(e){return JSON.stringify(e,(t,n)=>Gx(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function ph(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>ph(e[n],t[n])):!1}function s7(e,t){if(e===t)return e;const n=n5(e)&&n5(t);if(n||Gx(e)&&Gx(t)){const r=n?e:Object.keys(e),i=r.length,s=n?t:Object.keys(t),o=s.length,a=n?[]:{},l=new Set(r);let u=0;for(let f=0;f<o;f++){const h=n?f:s[f];(!n&&l.has(h)||n)&&e[h]===void 0&&t[h]===void 0?(a[h]=void 0,u++):(a[h]=s7(e[h],t[h]),a[h]===e[h]&&e[h]!==void 0&&u++)}return i===o&&u===i?e:a}return t}function Yg(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function n5(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Gx(e){if(!r5(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!r5(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function r5(e){return Object.prototype.toString.call(e)==="[object Object]"}function _O(e){return new Promise(t=>{setTimeout(t,e)})}function Yx(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?s7(e,t):t}function SO(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function EO(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var $2=Symbol();function o7(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===$2?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function a7(e,t){return typeof e=="function"?e(...t):!!e}var kO=class extends wd{#t;#e;#n;constructor(){super(),this.#n=e=>{if(!xc&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#e||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(e){this.#n=e,this.#e?.(),this.#e=e(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(e){this.#t!==e&&(this.#t=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#t=="boolean"?this.#t:globalThis.document?.visibilityState!=="hidden"}},U2=new kO,CO=class extends wd{#t=!0;#e;#n;constructor(){super(),this.#n=e=>{if(!xc&&window.addEventListener){const t=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#e||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(e){this.#n=e,this.#e?.(),this.#e=e(this.setOnline.bind(this))}setOnline(e){this.#t!==e&&(this.#t=e,this.listeners.forEach(n=>{n(e)}))}isOnline(){return this.#t}},Xg=new CO;function Xx(){let e,t;const n=new Promise((i,s)=>{e=i,t=s});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),e(i)},n.reject=i=>{r({status:"rejected",reason:i}),t(i)},n}function TO(e){return Math.min(1e3*2**e,3e4)}function l7(e){return(e??"online")==="online"?Xg.isOnline():!0}var c7=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function mv(e){return e instanceof c7}function u7(e){let t=!1,n=0,r=!1,i;const s=Xx(),o=_=>{r||(g(new c7(_)),e.abort?.())},a=()=>{t=!0},l=()=>{t=!1},u=()=>U2.isFocused()&&(e.networkMode==="always"||Xg.isOnline())&&e.canRun(),f=()=>l7(e.networkMode)&&e.canRun(),h=_=>{r||(r=!0,e.onSuccess?.(_),i?.(),s.resolve(_))},g=_=>{r||(r=!0,e.onError?.(_),i?.(),s.reject(_))},y=()=>new Promise(_=>{i=E=>{(r||u())&&_(E)},e.onPause?.()}).then(()=>{i=void 0,r||e.onContinue?.()}),b=()=>{if(r)return;let _;const E=n===0?e.initialPromise:void 0;try{_=E??e.fn()}catch(C){_=Promise.reject(C)}Promise.resolve(_).then(h).catch(C=>{if(r)return;const P=e.retry??(xc?0:3),O=e.retryDelay??TO,z=typeof O=="function"?O(n,C):O,B=P===!0||typeof P=="number"&&n<P||typeof P=="function"&&P(n,C);if(t||!B){g(C);return}n++,e.onFail?.(n,C),_O(z).then(()=>u()?void 0:y()).then(()=>{t?g(C):b()})})};return{promise:s,cancel:o,continue:()=>(i?.(),s),cancelRetry:a,continueRetry:l,canStart:f,start:()=>(f()?b():y().then(b),s)}}var jO=e=>setTimeout(e,0);function NO(){let e=[],t=0,n=a=>{a()},r=a=>{a()},i=jO;const s=a=>{t?e.push(a):i(()=>{n(a)})},o=()=>{const a=e;e=[],a.length&&i(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;t++;try{l=a()}finally{t--,t||o()}return l},batchCalls:a=>(...l)=>{s(()=>{a(...l)})},schedule:s,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{i=a}}}var hr=NO(),d7=class{#t;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Kx(this.gcTime)&&(this.#t=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(xc?1/0:300*1e3))}clearGcTimeout(){this.#t&&(clearTimeout(this.#t),this.#t=void 0)}},IO=class extends d7{#t;#e;#n;#r;#i;#o;#a;constructor(e){super(),this.#a=!1,this.#o=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#r=e.client,this.#n=this.#r.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#t=PO(this.options),this.state=e.state??this.#t,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#i?.promise}setOptions(e){this.options={...this.#o,...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(e,t){const n=Yx(this.state.data,e,this.options);return this.#s({data:n,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),n}setState(e,t){this.#s({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#i?.promise;return this.#i?.cancel(e),t?t.then(ri).catch(ri):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#t)}isActive(){return this.observers.some(e=>cs(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===$2||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Qa(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!i7(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#i?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#i?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#i&&(this.#a?this.#i.cancel({revert:!0}):this.#i.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#s({type:"invalidate"})}fetch(e,t){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#i)return this.#i.continueRetry(),this.#i.promise}if(e&&this.setOptions(e),!this.options.queryFn){const l=this.observers.find(u=>u.options.queryFn);l&&this.setOptions(l.options)}const n=new AbortController,r=l=>{Object.defineProperty(l,"signal",{enumerable:!0,get:()=>(this.#a=!0,n.signal)})},i=()=>{const l=o7(this.options,t),f=(()=>{const h={client:this.#r,queryKey:this.queryKey,meta:this.meta};return r(h),h})();return this.#a=!1,this.options.persister?this.options.persister(l,f,this):l(f)},o=(()=>{const l={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#r,state:this.state,fetchFn:i};return r(l),l})();this.options.behavior?.onFetch(o,this),this.#e=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==o.fetchOptions?.meta)&&this.#s({type:"fetch",meta:o.fetchOptions?.meta});const a=l=>{mv(l)&&l.silent||this.#s({type:"error",error:l}),mv(l)||(this.#n.config.onError?.(l,this),this.#n.config.onSettled?.(this.state.data,l,this)),this.scheduleGc()};return this.#i=u7({initialPromise:t?.initialPromise,fn:o.fetchFn,abort:n.abort.bind(n),onSuccess:l=>{if(l===void 0){a(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(l)}catch(u){a(u);return}this.#n.config.onSuccess?.(l,this),this.#n.config.onSettled?.(l,this.state.error,this),this.scheduleGc()},onError:a,onFail:(l,u)=>{this.#s({type:"failed",failureCount:l,error:u})},onPause:()=>{this.#s({type:"pause"})},onContinue:()=>{this.#s({type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0}),this.#i.start()}#s(e){const t=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...f7(n.data,this.options),fetchMeta:e.meta??null};case"success":return this.#e=void 0,{...n,data:e.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const r=e.error;return mv(r)&&r.revert&&this.#e?{...this.#e,fetchStatus:"idle"}:{...n,error:r,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:r,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=t(this.state),hr.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:e})})}};function f7(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:l7(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function PO(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var RO=class extends wd{constructor(e={}){super(),this.config=e,this.#t=new Map}#t;build(e,t,n){const r=t.queryKey,i=t.queryHash??z2(r,t);let s=this.get(i);return s||(s=new IO({client:e,queryKey:r,queryHash:i,options:e.defaultQueryOptions(t),state:n,defaultOptions:e.getQueryDefaults(r)}),this.add(s)),s}add(e){this.#t.has(e.queryHash)||(this.#t.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#t.get(e.queryHash);t&&(e.destroy(),t===e&&this.#t.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){hr.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#t.get(e)}getAll(){return[...this.#t.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(n=>e5(t,n))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(n=>e5(e,n)):t}notify(e){hr.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){hr.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){hr.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},OO=class extends d7{#t;#e;#n;constructor(e){super(),this.mutationId=e.mutationId,this.#e=e.mutationCache,this.#t=[],this.state=e.state||h7(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#e.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(t=>t!==e),this.scheduleGc(),this.#e.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#e.remove(this))}continue(){return this.#n?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#r({type:"continue"})};this.#n=u7({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(i,s)=>{this.#r({type:"failed",failureCount:i,error:s})},onPause:()=>{this.#r({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#e.canRun(this)});const n=this.state.status==="pending",r=!this.#n.canStart();try{if(n)t();else{this.#r({type:"pending",variables:e,isPaused:r}),await this.#e.config.onMutate?.(e,this);const s=await this.options.onMutate?.(e);s!==this.state.context&&this.#r({type:"pending",context:s,variables:e,isPaused:r})}const i=await this.#n.start();return await this.#e.config.onSuccess?.(i,e,this.state.context,this),await this.options.onSuccess?.(i,e,this.state.context),await this.#e.config.onSettled?.(i,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(i,null,e,this.state.context),this.#r({type:"success",data:i}),i}catch(i){try{throw await this.#e.config.onError?.(i,e,this.state.context,this),await this.options.onError?.(i,e,this.state.context),await this.#e.config.onSettled?.(void 0,i,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,i,e,this.state.context),i}finally{this.#r({type:"error",error:i})}}finally{this.#e.runNext(this)}}#r(e){const t=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),hr.batch(()=>{this.#t.forEach(n=>{n.onMutationUpdate(e)}),this.#e.notify({mutation:this,type:"updated",action:e})})}};function h7(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var AO=class extends wd{constructor(e={}){super(),this.config=e,this.#t=new Set,this.#e=new Map,this.#n=0}#t;#e;#n;build(e,t,n){const r=new OO({mutationCache:this,mutationId:++this.#n,options:e.defaultMutationOptions(t),state:n});return this.add(r),r}add(e){this.#t.add(e);const t=Tm(e);if(typeof t=="string"){const n=this.#e.get(t);n?n.push(e):this.#e.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#t.delete(e)){const t=Tm(e);if(typeof t=="string"){const n=this.#e.get(t);if(n)if(n.length>1){const r=n.indexOf(e);r!==-1&&n.splice(r,1)}else n[0]===e&&this.#e.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=Tm(e);if(typeof t=="string"){const r=this.#e.get(t)?.find(i=>i.state.status==="pending");return!r||r===e}else return!0}runNext(e){const t=Tm(e);return typeof t=="string"?this.#e.get(t)?.find(r=>r!==e&&r.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){hr.batch(()=>{this.#t.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#t.clear(),this.#e.clear()})}getAll(){return Array.from(this.#t)}find(e){const t={exact:!0,...e};return this.getAll().find(n=>t5(t,n))}findAll(e={}){return this.getAll().filter(t=>t5(e,t))}notify(e){hr.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return hr.batch(()=>Promise.all(e.map(t=>t.continue().catch(ri))))}};function Tm(e){return e.options.scope?.id}function i5(e){return{onFetch:(t,n)=>{const r=t.options,i=t.fetchOptions?.meta?.fetchMore?.direction,s=t.state.data?.pages||[],o=t.state.data?.pageParams||[];let a={pages:[],pageParams:[]},l=0;const u=async()=>{let f=!1;const h=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(t.signal.aborted?f=!0:t.signal.addEventListener("abort",()=>{f=!0}),t.signal)})},g=o7(t.options,t.fetchOptions),y=async(b,_,E)=>{if(f)return Promise.reject();if(_==null&&b.pages.length)return Promise.resolve(b);const P=(()=>{const j={client:t.client,queryKey:t.queryKey,pageParam:_,direction:E?"backward":"forward",meta:t.options.meta};return h(j),j})(),O=await g(P),{maxPages:z}=t.options,B=E?EO:SO;return{pages:B(b.pages,O,z),pageParams:B(b.pageParams,_,z)}};if(i&&s.length){const b=i==="backward",_=b?MO:s5,E={pages:s,pageParams:o},C=_(r,E);a=await y(E,C,b)}else{const b=e??s.length;do{const _=l===0?o[0]??r.initialPageParam:s5(r,a);if(l>0&&_==null)break;a=await y(a,_),l++}while(l<b)}return a};t.options.persister?t.fetchFn=()=>t.options.persister?.(u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n):t.fetchFn=u}}}function s5(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function MO(e,{pages:t,pageParams:n}){return t.length>0?e.getPreviousPageParam?.(t[0],t,n[0],n):void 0}var DO=class{#t;#e;#n;#r;#i;#o;#a;#s;constructor(e={}){this.#t=e.queryCache||new RO,this.#e=e.mutationCache||new AO,this.#n=e.defaultOptions||{},this.#r=new Map,this.#i=new Map,this.#o=0}mount(){this.#o++,this.#o===1&&(this.#a=U2.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#t.onFocus())}),this.#s=Xg.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#t.onOnline())}))}unmount(){this.#o--,this.#o===0&&(this.#a?.(),this.#a=void 0,this.#s?.(),this.#s=void 0)}isFetching(e){return this.#t.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#e.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#t.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=this.#t.build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(Qa(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return this.#t.findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),s=this.#t.get(r.queryHash)?.state.data,o=wO(t,s);if(o!==void 0)return this.#t.build(this,r).setData(o,{...n,manual:!0})}setQueriesData(e,t,n){return hr.batch(()=>this.#t.findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#t.get(t.queryHash)?.state}removeQueries(e){const t=this.#t;hr.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=this.#t;return hr.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=hr.batch(()=>this.#t.findAll(e).map(i=>i.cancel(n)));return Promise.all(r).then(ri).catch(ri)}invalidateQueries(e,t={}){return hr.batch(()=>(this.#t.findAll(e).forEach(n=>{n.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=hr.batch(()=>this.#t.findAll(e).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let s=i.fetch(void 0,n);return n.throwOnError||(s=s.catch(ri)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(ri)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=this.#t.build(this,t);return n.isStaleByTime(Qa(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(ri).catch(ri)}fetchInfiniteQuery(e){return e.behavior=i5(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(ri).catch(ri)}ensureInfiniteQueryData(e){return e.behavior=i5(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Xg.isOnline()?this.#e.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#t}getMutationCache(){return this.#e}getDefaultOptions(){return this.#n}setDefaultOptions(e){this.#n=e}setQueryDefaults(e,t){this.#r.set(bc(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#r.values()],n={};return t.forEach(r=>{ph(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){this.#i.set(bc(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#i.values()],n={};return t.forEach(r=>{ph(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#n.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=z2(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===$2&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#n.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#t.clear(),this.#e.clear()}},LO=class extends wd{constructor(e,t){super(),this.options=t,this.#t=e,this.#s=null,this.#a=Xx(),this.options.experimental_prefetchInRender||this.#a.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(t)}#t;#e=void 0;#n=void 0;#r=void 0;#i;#o;#a;#s;#m;#f;#h;#c;#u;#l;#p=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#e.addObserver(this),o5(this.#e,this.options)?this.#d():this.updateResult(),this.#x())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Jx(this.#e,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Jx(this.#e,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#b(),this.#w(),this.#e.removeObserver(this)}setOptions(e){const t=this.options,n=this.#e;if(this.options=this.#t.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof cs(this.options.enabled,this.#e)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#_(),this.#e.setOptions(this.options),t._defaulted&&!Yg(this.options,t)&&this.#t.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#e,observer:this});const r=this.hasListeners();r&&a5(this.#e,n,this.options,t)&&this.#d(),this.updateResult(),r&&(this.#e!==n||cs(this.options.enabled,this.#e)!==cs(t.enabled,this.#e)||Qa(this.options.staleTime,this.#e)!==Qa(t.staleTime,this.#e))&&this.#g();const i=this.#y();r&&(this.#e!==n||cs(this.options.enabled,this.#e)!==cs(t.enabled,this.#e)||i!==this.#l)&&this.#v(i)}getOptimisticResult(e){const t=this.#t.getQueryCache().build(this.#t,e),n=this.createResult(t,e);return BO(this,n)&&(this.#r=n,this.#o=this.options,this.#i=this.#e.state),n}getCurrentResult(){return this.#r}trackResult(e,t){return new Proxy(e,{get:(n,r)=>(this.trackProp(r),t?.(r),Reflect.get(n,r))})}trackProp(e){this.#p.add(e)}getCurrentQuery(){return this.#e}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=this.#t.defaultQueryOptions(e),n=this.#t.getQueryCache().build(this.#t,t);return n.fetch().then(()=>this.createResult(n,t))}fetch(e){return this.#d({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#r))}#d(e){this.#_();let t=this.#e.fetch(this.options,e);return e?.throwOnError||(t=t.catch(ri)),t}#g(){this.#b();const e=Qa(this.options.staleTime,this.#e);if(xc||this.#r.isStale||!Kx(e))return;const n=i7(this.#r.dataUpdatedAt,e)+1;this.#c=setTimeout(()=>{this.#r.isStale||this.updateResult()},n)}#y(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#e):this.options.refetchInterval)??!1}#v(e){this.#w(),this.#l=e,!(xc||cs(this.options.enabled,this.#e)===!1||!Kx(this.#l)||this.#l===0)&&(this.#u=setInterval(()=>{(this.options.refetchIntervalInBackground||U2.isFocused())&&this.#d()},this.#l))}#x(){this.#g(),this.#v(this.#y())}#b(){this.#c&&(clearTimeout(this.#c),this.#c=void 0)}#w(){this.#u&&(clearInterval(this.#u),this.#u=void 0)}createResult(e,t){const n=this.#e,r=this.options,i=this.#r,s=this.#i,o=this.#o,l=e!==n?e.state:this.#n,{state:u}=e;let f={...u},h=!1,g;if(t._optimisticResults){const U=this.hasListeners(),$=!U&&o5(e,t),D=U&&a5(e,n,t,r);($||D)&&(f={...f,...f7(u.data,e.options)}),t._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:y,errorUpdatedAt:b,status:_}=f;g=f.data;let E=!1;if(t.placeholderData!==void 0&&g===void 0&&_==="pending"){let U;i?.isPlaceholderData&&t.placeholderData===o?.placeholderData?(U=i.data,E=!0):U=typeof t.placeholderData=="function"?t.placeholderData(this.#h?.state.data,this.#h):t.placeholderData,U!==void 0&&(_="success",g=Yx(i?.data,U,t),h=!0)}if(t.select&&g!==void 0&&!E)if(i&&g===s?.data&&t.select===this.#m)g=this.#f;else try{this.#m=t.select,g=t.select(g),g=Yx(i?.data,g,t),this.#f=g,this.#s=null}catch(U){this.#s=U}this.#s&&(y=this.#s,g=this.#f,b=Date.now(),_="error");const C=f.fetchStatus==="fetching",P=_==="pending",O=_==="error",z=P&&C,B=g!==void 0,M={status:_,fetchStatus:f.fetchStatus,isPending:P,isSuccess:_==="success",isError:O,isInitialLoading:z,isLoading:z,data:g,dataUpdatedAt:f.dataUpdatedAt,error:y,errorUpdatedAt:b,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>l.dataUpdateCount||f.errorUpdateCount>l.errorUpdateCount,isFetching:C,isRefetching:C&&!P,isLoadingError:O&&!B,isPaused:f.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:O&&B,isStale:H2(e,t),refetch:this.refetch,promise:this.#a,isEnabled:cs(t.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const U=ee=>{M.status==="error"?ee.reject(M.error):M.data!==void 0&&ee.resolve(M.data)},$=()=>{const ee=this.#a=M.promise=Xx();U(ee)},D=this.#a;switch(D.status){case"pending":e.queryHash===n.queryHash&&U(D);break;case"fulfilled":(M.status==="error"||M.data!==D.value)&&$();break;case"rejected":(M.status!=="error"||M.error!==D.reason)&&$();break}}return M}updateResult(){const e=this.#r,t=this.createResult(this.#e,this.options);if(this.#i=this.#e.state,this.#o=this.options,this.#i.data!==void 0&&(this.#h=this.#e),Yg(t,e))return;this.#r=t;const n=()=>{if(!e)return!0;const{notifyOnChangeProps:r}=this.options,i=typeof r=="function"?r():r;if(i==="all"||!i&&!this.#p.size)return!0;const s=new Set(i??this.#p);return this.options.throwOnError&&s.add("error"),Object.keys(this.#r).some(o=>{const a=o;return this.#r[a]!==e[a]&&s.has(a)})};this.#S({listeners:n()})}#_(){const e=this.#t.getQueryCache().build(this.#t,this.options);if(e===this.#e)return;const t=this.#e;this.#e=e,this.#n=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#x()}#S(e){hr.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(this.#r)}),this.#t.getQueryCache().notify({query:this.#e,type:"observerResultsUpdated"})})}};function FO(e,t){return cs(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function o5(e,t){return FO(e,t)||e.state.data!==void 0&&Jx(e,t,t.refetchOnMount)}function Jx(e,t,n){if(cs(t.enabled,e)!==!1&&Qa(t.staleTime,e)!=="static"){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&H2(e,t)}return!1}function a5(e,t,n,r){return(e!==t||cs(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&H2(e,n)}function H2(e,t){return cs(t.enabled,e)!==!1&&e.isStaleByTime(Qa(t.staleTime,e))}function BO(e,t){return!Yg(e.getCurrentResult(),t)}var zO=class extends wd{#t;#e=void 0;#n;#r;constructor(t,n){super(),this.#t=t,this.setOptions(n),this.bindMethods(),this.#i()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){const n=this.options;this.options=this.#t.defaultMutationOptions(t),Yg(this.options,n)||this.#t.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),n?.mutationKey&&this.options.mutationKey&&bc(n.mutationKey)!==bc(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(t){this.#i(),this.#o(t)}getCurrentResult(){return this.#e}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#i(),this.#o()}mutate(t,n){return this.#r=n,this.#n?.removeObserver(this),this.#n=this.#t.getMutationCache().build(this.#t,this.options),this.#n.addObserver(this),this.#n.execute(t)}#i(){const t=this.#n?.state??h7();this.#e={...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset}}#o(t){hr.batch(()=>{if(this.#r&&this.hasListeners()){const n=this.#e.variables,r=this.#e.context;t?.type==="success"?(this.#r.onSuccess?.(t.data,n,r),this.#r.onSettled?.(t.data,null,n,r)):t?.type==="error"&&(this.#r.onError?.(t.error,n,r),this.#r.onSettled?.(void 0,t.error,n,r))}this.listeners.forEach(n=>{n(this.#e)})})}},p7=I.createContext(void 0),Gi=e=>{const t=I.useContext(p7);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},$O=({client:e,children:t})=>(I.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),p.jsx(p7.Provider,{value:e,children:t})),m7=I.createContext(!1),UO=()=>I.useContext(m7);m7.Provider;function HO(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var WO=I.createContext(HO()),qO=()=>I.useContext(WO),QO=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},VO=e=>{I.useEffect(()=>{e.clearReset()},[e])},KO=({result:e,errorResetBoundary:t,throwOnError:n,query:r,suspense:i})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(i&&e.data===void 0||a7(n,[e.error,r])),GO=e=>{if(e.suspense){const t=r=>r==="static"?r:Math.max(r??1e3,1e3),n=e.staleTime;e.staleTime=typeof n=="function"?(...r)=>t(n(...r)):t(n),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},YO=(e,t)=>e.isLoading&&e.isFetching&&!t,XO=(e,t)=>e?.suspense&&t.isPending,l5=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function JO(e,t,n){const r=UO(),i=qO(),s=Gi(),o=s.defaultQueryOptions(e);s.getDefaultOptions().queries?._experimental_beforeQuery?.(o),o._optimisticResults=r?"isRestoring":"optimistic",GO(o),QO(o,i),VO(i);const a=!s.getQueryCache().get(o.queryHash),[l]=I.useState(()=>new t(s,o)),u=l.getOptimisticResult(o),f=!r&&e.subscribed!==!1;if(I.useSyncExternalStore(I.useCallback(h=>{const g=f?l.subscribe(hr.batchCalls(h)):ri;return l.updateResult(),g},[l,f]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),I.useEffect(()=>{l.setOptions(o)},[o,l]),XO(o,u))throw l5(o,l,i);if(KO({result:u,errorResetBoundary:i,throwOnError:o.throwOnError,query:s.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw u.error;return s.getDefaultOptions().queries?._experimental_afterQuery?.(o,u),o.experimental_prefetchInRender&&!xc&&YO(u,r)&&(a?l5(o,l,i):s.getQueryCache().get(o.queryHash)?.promise)?.catch(ri).finally(()=>{l.updateResult()}),o.notifyOnChangeProps?u:l.trackResult(u)}function Hs(e,t){return JO(e,LO)}function al(e,t){const n=Gi(),[r]=I.useState(()=>new zO(n,e));I.useEffect(()=>{r.setOptions(e)},[r,e]);const i=I.useSyncExternalStore(I.useCallback(o=>r.subscribe(hr.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),s=I.useCallback((o,a)=>{r.mutate(o,a).catch(ri)},[r]);if(i.error&&a7(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:s,mutateAsync:i.mutate}}var gv={},yv={},vv={},c5;function ZO(){return c5||(c5=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=function(){for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];if(typeof window<"u"){var a;typeof window.gtag>"u"&&(window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)}),(a=window).gtag.apply(a,s)}},n=t;e.default=n}(vv)),vv}var xv={},u5;function eA(){return u5||(u5=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var t=/^(a|an|and|as|at|but|by|en|for|if|in|nor|of|on|or|per|the|to|vs?\.?|via)$/i;function n(a){return a.toString().trim().replace(/[A-Za-z0-9\u00C0-\u00FF]+[^\s-]*/g,function(l,u,f){return u>0&&u+l.length!==f.length&&l.search(t)>-1&&f.charAt(u-2)!==":"&&(f.charAt(u+l.length)!=="-"||f.charAt(u-1)==="-")&&f.charAt(u-1).search(/[^\s-]/)<0?l.toLowerCase():l.substr(1).search(/[A-Z]|\../)>-1?l:l.charAt(0).toUpperCase()+l.substr(1)})}function r(a){return typeof a=="string"&&a.indexOf("@")!==-1}var i="REDACTED (Potential Email Address)";function s(a){return r(a)?(console.warn("This arg looks like an email address, redacting."),i):a}function o(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,f=a||"";return l&&(f=n(a)),u&&(f=s(f)),f}}(xv)),xv}var d5;function tA(){return d5||(d5=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.GA4=void 0;var t=o(ZO()),n=o(eA()),r=["eventCategory","eventAction","eventLabel","eventValue","hitType"],i=["title","location"],s=["page","hitType"];function o(Q){return Q&&Q.__esModule?Q:{default:Q}}function a(Q,q){if(Q==null)return{};var V=l(Q,q),ne,Z;if(Object.getOwnPropertySymbols){var fe=Object.getOwnPropertySymbols(Q);for(Z=0;Z<fe.length;Z++)ne=fe[Z],!(q.indexOf(ne)>=0)&&Object.prototype.propertyIsEnumerable.call(Q,ne)&&(V[ne]=Q[ne])}return V}function l(Q,q){if(Q==null)return{};var V={},ne=Object.keys(Q),Z,fe;for(fe=0;fe<ne.length;fe++)Z=ne[fe],!(q.indexOf(Z)>=0)&&(V[Z]=Q[Z]);return V}function u(Q){"@babel/helpers - typeof";return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(q){return typeof q}:function(q){return q&&typeof Symbol=="function"&&q.constructor===Symbol&&q!==Symbol.prototype?"symbol":typeof q},u(Q)}function f(Q){return y(Q)||g(Q)||P(Q)||h()}function h(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function g(Q){if(typeof Symbol<"u"&&Q[Symbol.iterator]!=null||Q["@@iterator"]!=null)return Array.from(Q)}function y(Q){if(Array.isArray(Q))return O(Q)}function b(Q,q){var V=Object.keys(Q);if(Object.getOwnPropertySymbols){var ne=Object.getOwnPropertySymbols(Q);q&&(ne=ne.filter(function(Z){return Object.getOwnPropertyDescriptor(Q,Z).enumerable})),V.push.apply(V,ne)}return V}function _(Q){for(var q=1;q<arguments.length;q++){var V=arguments[q]!=null?arguments[q]:{};q%2?b(Object(V),!0).forEach(function(ne){$(Q,ne,V[ne])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Q,Object.getOwnPropertyDescriptors(V)):b(Object(V)).forEach(function(ne){Object.defineProperty(Q,ne,Object.getOwnPropertyDescriptor(V,ne))})}return Q}function E(Q,q){return B(Q)||z(Q,q)||P(Q,q)||C()}function C(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function P(Q,q){if(Q){if(typeof Q=="string")return O(Q,q);var V=Object.prototype.toString.call(Q).slice(8,-1);if(V==="Object"&&Q.constructor&&(V=Q.constructor.name),V==="Map"||V==="Set")return Array.from(Q);if(V==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(V))return O(Q,q)}}function O(Q,q){(q==null||q>Q.length)&&(q=Q.length);for(var V=0,ne=new Array(q);V<q;V++)ne[V]=Q[V];return ne}function z(Q,q){var V=Q==null?null:typeof Symbol<"u"&&Q[Symbol.iterator]||Q["@@iterator"];if(V!=null){var ne,Z,fe,F,G=[],ye=!0,H=!1;try{if(fe=(V=V.call(Q)).next,q!==0)for(;!(ye=(ne=fe.call(V)).done)&&(G.push(ne.value),G.length!==q);ye=!0);}catch(Oe){H=!0,Z=Oe}finally{try{if(!ye&&V.return!=null&&(F=V.return(),Object(F)!==F))return}finally{if(H)throw Z}}return G}}function B(Q){if(Array.isArray(Q))return Q}function j(Q,q){if(!(Q instanceof q))throw new TypeError("Cannot call a class as a function")}function M(Q,q){for(var V=0;V<q.length;V++){var ne=q[V];ne.enumerable=ne.enumerable||!1,ne.configurable=!0,"value"in ne&&(ne.writable=!0),Object.defineProperty(Q,D(ne.key),ne)}}function U(Q,q,V){return q&&M(Q.prototype,q),Object.defineProperty(Q,"prototype",{writable:!1}),Q}function $(Q,q,V){return q=D(q),q in Q?Object.defineProperty(Q,q,{value:V,enumerable:!0,configurable:!0,writable:!0}):Q[q]=V,Q}function D(Q){var q=ee(Q,"string");return u(q)==="symbol"?q:String(q)}function ee(Q,q){if(u(Q)!=="object"||Q===null)return Q;var V=Q[Symbol.toPrimitive];if(V!==void 0){var ne=V.call(Q,q);if(u(ne)!=="object")return ne;throw new TypeError("@@toPrimitive must return a primitive value.")}return(q==="string"?String:Number)(Q)}var X=function(){function Q(){var q=this;j(this,Q),$(this,"reset",function(){q.isInitialized=!1,q._testMode=!1,q._currentMeasurementId,q._hasLoadedGA=!1,q._isQueuing=!1,q._queueGtag=[]}),$(this,"_gtag",function(){for(var V=arguments.length,ne=new Array(V),Z=0;Z<V;Z++)ne[Z]=arguments[Z];q._testMode||q._isQueuing?q._queueGtag.push(ne):t.default.apply(void 0,ne)}),$(this,"_loadGA",function(V,ne){var Z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"https://www.googletagmanager.com/gtag/js";if(!(typeof window>"u"||typeof document>"u")&&!q._hasLoadedGA){var fe=document.createElement("script");fe.async=!0,fe.src="".concat(Z,"?id=").concat(V),ne&&fe.setAttribute("nonce",ne),document.body.appendChild(fe),window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)},q._hasLoadedGA=!0}}),$(this,"_toGtagOptions",function(V){if(V){var ne={cookieUpdate:"cookie_update",cookieExpires:"cookie_expires",cookieDomain:"cookie_domain",cookieFlags:"cookie_flags",userId:"user_id",clientId:"client_id",anonymizeIp:"anonymize_ip",contentGroup1:"content_group1",contentGroup2:"content_group2",contentGroup3:"content_group3",contentGroup4:"content_group4",contentGroup5:"content_group5",allowAdFeatures:"allow_google_signals",allowAdPersonalizationSignals:"allow_ad_personalization_signals",nonInteraction:"non_interaction",page:"page_path",hitCallback:"event_callback"},Z=Object.entries(V).reduce(function(fe,F){var G=E(F,2),ye=G[0],H=G[1];return ne[ye]?fe[ne[ye]]=H:fe[ye]=H,fe},{});return Z}}),$(this,"initialize",function(V){var ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!V)throw new Error("Require GA_MEASUREMENT_ID");var Z=typeof V=="string"?[{trackingId:V}]:V;q._currentMeasurementId=Z[0].trackingId;var fe=ne.gaOptions,F=ne.gtagOptions,G=ne.nonce,ye=ne.testMode,H=ye===void 0?!1:ye,Oe=ne.gtagUrl;if(q._testMode=H,H||q._loadGA(q._currentMeasurementId,G,Oe),q.isInitialized||(q._gtag("js",new Date),Z.forEach(function(Ye){var qe=_(_(_({},q._toGtagOptions(_(_({},fe),Ye.gaOptions))),F),Ye.gtagOptions);Object.keys(qe).length?q._gtag("config",Ye.trackingId,qe):q._gtag("config",Ye.trackingId)})),q.isInitialized=!0,!H){var Ce=f(q._queueGtag);for(q._queueGtag=[],q._isQueuing=!1;Ce.length;){var Te=Ce.shift();q._gtag.apply(q,f(Te)),Te[0]==="get"&&(q._isQueuing=!0)}}}),$(this,"set",function(V){if(!V){console.warn("`fieldsObject` is required in .set()");return}if(u(V)!=="object"){console.warn("Expected `fieldsObject` arg to be an Object");return}Object.keys(V).length===0&&console.warn("empty `fieldsObject` given to .set()"),q._gaCommand("set",V)}),$(this,"_gaCommandSendEvent",function(V,ne,Z,fe,F){q._gtag("event",ne,_(_({event_category:V,event_label:Z,value:fe},F&&{non_interaction:F.nonInteraction}),q._toGtagOptions(F)))}),$(this,"_gaCommandSendEventParameters",function(){for(var V=arguments.length,ne=new Array(V),Z=0;Z<V;Z++)ne[Z]=arguments[Z];if(typeof ne[0]=="string")q._gaCommandSendEvent.apply(q,f(ne.slice(1)));else{var fe=ne[0],F=fe.eventCategory,G=fe.eventAction,ye=fe.eventLabel,H=fe.eventValue;fe.hitType;var Oe=a(fe,r);q._gaCommandSendEvent(F,G,ye,H,Oe)}}),$(this,"_gaCommandSendTiming",function(V,ne,Z,fe){q._gtag("event","timing_complete",{name:ne,value:Z,event_category:V,event_label:fe})}),$(this,"_gaCommandSendPageview",function(V,ne){if(ne&&Object.keys(ne).length){var Z=q._toGtagOptions(ne),fe=Z.title,F=Z.location,G=a(Z,i);q._gtag("event","page_view",_(_(_(_({},V&&{page_path:V}),fe&&{page_title:fe}),F&&{page_location:F}),G))}else V?q._gtag("event","page_view",{page_path:V}):q._gtag("event","page_view")}),$(this,"_gaCommandSendPageviewParameters",function(){for(var V=arguments.length,ne=new Array(V),Z=0;Z<V;Z++)ne[Z]=arguments[Z];if(typeof ne[0]=="string")q._gaCommandSendPageview.apply(q,f(ne.slice(1)));else{var fe=ne[0],F=fe.page;fe.hitType;var G=a(fe,s);q._gaCommandSendPageview(F,G)}}),$(this,"_gaCommandSend",function(){for(var V=arguments.length,ne=new Array(V),Z=0;Z<V;Z++)ne[Z]=arguments[Z];var fe=typeof ne[0]=="string"?ne[0]:ne[0].hitType;switch(fe){case"event":q._gaCommandSendEventParameters.apply(q,ne);break;case"pageview":q._gaCommandSendPageviewParameters.apply(q,ne);break;case"timing":q._gaCommandSendTiming.apply(q,f(ne.slice(1)));break;case"screenview":case"transaction":case"item":case"social":case"exception":console.warn("Unsupported send command: ".concat(fe));break;default:console.warn("Send command doesn't exist: ".concat(fe))}}),$(this,"_gaCommandSet",function(){for(var V=arguments.length,ne=new Array(V),Z=0;Z<V;Z++)ne[Z]=arguments[Z];typeof ne[0]=="string"&&(ne[0]=$({},ne[0],ne[1])),q._gtag("set",q._toGtagOptions(ne[0]))}),$(this,"_gaCommand",function(V){for(var ne=arguments.length,Z=new Array(ne>1?ne-1:0),fe=1;fe<ne;fe++)Z[fe-1]=arguments[fe];switch(V){case"send":q._gaCommandSend.apply(q,Z);break;case"set":q._gaCommandSet.apply(q,Z);break;default:console.warn("Command doesn't exist: ".concat(V))}}),$(this,"ga",function(){for(var V=arguments.length,ne=new Array(V),Z=0;Z<V;Z++)ne[Z]=arguments[Z];if(typeof ne[0]=="string")q._gaCommand.apply(q,ne);else{var fe=ne[0];q._gtag("get",q._currentMeasurementId,"client_id",function(F){q._isQueuing=!1;var G=q._queueGtag;for(fe({get:function(Oe){return Oe==="clientId"?F:Oe==="trackingId"?q._currentMeasurementId:Oe==="apiVersion"?"1":void 0}});G.length;){var ye=G.shift();q._gtag.apply(q,f(ye))}}),q._isQueuing=!0}return q.ga}),$(this,"event",function(V,ne){if(typeof V=="string")q._gtag("event",V,q._toGtagOptions(ne));else{var Z=V.action,fe=V.category,F=V.label,G=V.value,ye=V.nonInteraction,H=V.transport;if(!fe||!Z){console.warn("args.category AND args.action are required in event()");return}var Oe={hitType:"event",eventCategory:(0,n.default)(fe),eventAction:(0,n.default)(Z)};F&&(Oe.eventLabel=(0,n.default)(F)),typeof G<"u"&&(typeof G!="number"?console.warn("Expected `args.value` arg to be a Number."):Oe.eventValue=G),typeof ye<"u"&&(typeof ye!="boolean"?console.warn("`args.nonInteraction` must be a boolean."):Oe.nonInteraction=ye),typeof H<"u"&&(typeof H!="string"?console.warn("`args.transport` must be a string."):(["beacon","xhr","image"].indexOf(H)===-1&&console.warn("`args.transport` must be either one of these values: `beacon`, `xhr` or `image`"),Oe.transport=H)),q._gaCommand("send",Oe)}}),$(this,"send",function(V){q._gaCommand("send",V)}),this.reset()}return U(Q,[{key:"gtag",value:function(){this._gtag.apply(this,arguments)}}]),Q}();e.GA4=X;var re=new X;e.default=re}(yv)),yv}var f5;function nA(){return f5||(f5=1,function(e){function t(a){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},t(a)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.ReactGAImplementation=void 0;var n=i(tA());function r(a){if(typeof WeakMap!="function")return null;var l=new WeakMap,u=new WeakMap;return(r=function(h){return h?u:l})(a)}function i(a,l){if(a&&a.__esModule)return a;if(a===null||t(a)!=="object"&&typeof a!="function")return{default:a};var u=r(l);if(u&&u.has(a))return u.get(a);var f={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var g in a)if(g!=="default"&&Object.prototype.hasOwnProperty.call(a,g)){var y=h?Object.getOwnPropertyDescriptor(a,g):null;y&&(y.get||y.set)?Object.defineProperty(f,g,y):f[g]=a[g]}return f.default=a,u&&u.set(a,f),f}var s=n.GA4;e.ReactGAImplementation=s;var o=n.default;e.default=o}(gv)),gv}var rA=nA();const iA=Ni(rA);function sA(e){try{(function(t,n,r,i,s,o,a){n.getElementById("clarity-script")||(t[r]=t[r]||function(){(t[r].q=t[r].q||[]).push(arguments)},o=n.createElement(i),o.async=1,o.src="https://www.clarity.ms/tag/"+s+"?ref=npm",o.id="clarity-script",a=n.getElementsByTagName(i)[0],a.parentNode.insertBefore(o,a))})(window,document,"clarity","script",e);return}catch{return}}const oA={init(e){sA(e)},setTag(e,t){window.clarity("set",e,t)},identify(e,t,n,r){window.clarity("identify",e,t,n,r)},consent(e=!0){window.clarity("consent",e)},upgrade(e){window.clarity("upgrade",e)},event(e){window.clarity("event",e)}},Mt=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,dc="8.55.0",en=globalThis;function H0(e,t,n){const r=n||en,i=r.__SENTRY__=r.__SENTRY__||{},s=i[dc]=i[dc]||{};return s[e]||(s[e]=t())}const ll=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,aA="Sentry Logger ",Zx=["debug","info","warn","error","log","assert","trace"],Jg={};function cl(e){if(!("console"in en))return e();const t=en.console,n={},r=Object.keys(Jg);r.forEach(i=>{const s=Jg[i];n[i]=t[i],t[i]=s});try{return e()}finally{r.forEach(i=>{t[i]=n[i]})}}function lA(){let e=!1;const t={enable:()=>{e=!0},disable:()=>{e=!1},isEnabled:()=>e};return ll?Zx.forEach(n=>{t[n]=(...r)=>{e&&cl(()=>{en.console[n](`${aA}[${n}]:`,...r)})}}):Zx.forEach(n=>{t[n]=()=>{}}),t}const Ge=H0("logger",lA),g7=50,wc="?",h5=/\(error: (.*)\)/,p5=/captureMessage|captureException/;function y7(...e){const t=e.sort((n,r)=>n[0]-r[0]).map(n=>n[1]);return(n,r=0,i=0)=>{const s=[],o=n.split(`
`);for(let a=r;a<o.length;a++){const l=o[a];if(l.length>1024)continue;const u=h5.test(l)?l.replace(h5,"$1"):l;if(!u.match(/\S*Error: /)){for(const f of t){const h=f(u);if(h){s.push(h);break}}if(s.length>=g7+i)break}}return uA(s.slice(i))}}function cA(e){return Array.isArray(e)?y7(...e):e}function uA(e){if(!e.length)return[];const t=Array.from(e);return/sentryWrapped/.test(jm(t).function||"")&&t.pop(),t.reverse(),p5.test(jm(t).function||"")&&(t.pop(),p5.test(jm(t).function||"")&&t.pop()),t.slice(0,g7).map(n=>({...n,filename:n.filename||jm(t).filename,function:n.function||wc}))}function jm(e){return e[e.length-1]||{}}const bv="<anonymous>";function Yo(e){try{return!e||typeof e!="function"?bv:e.name||bv}catch{return bv}}function m5(e){const t=e.exception;if(t){const n=[];try{return t.values.forEach(r=>{r.stacktrace.frames&&n.push(...r.stacktrace.frames)}),n}catch{return}}}const Og={},g5={};function ul(e,t){Og[e]=Og[e]||[],Og[e].push(t)}function dl(e,t){if(!g5[e]){g5[e]=!0;try{t()}catch(n){ll&&Ge.error(`Error while instrumenting ${e}`,n)}}}function ps(e,t){const n=e&&Og[e];if(n)for(const r of n)try{r(t)}catch(i){ll&&Ge.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${Yo(r)}
Error:`,i)}}let wv=null;function v7(e){const t="error";ul(t,e),dl(t,dA)}function dA(){wv=en.onerror,en.onerror=function(e,t,n,r,i){return ps("error",{column:r,error:i,line:n,msg:e,url:t}),wv?wv.apply(this,arguments):!1},en.onerror.__SENTRY_INSTRUMENTED__=!0}let _v=null;function x7(e){const t="unhandledrejection";ul(t,e),dl(t,fA)}function fA(){_v=en.onunhandledrejection,en.onunhandledrejection=function(e){return ps("unhandledrejection",e),_v?_v.apply(this,arguments):!0},en.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}function Nc(){return W2(en),en}function W2(e){const t=e.__SENTRY__=e.__SENTRY__||{};return t.version=t.version||dc,t[dc]=t[dc]||{}}const b7=Object.prototype.toString;function q2(e){switch(b7.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return Xo(e,Error)}}function _d(e,t){return b7.call(e)===`[object ${t}]`}function w7(e){return _d(e,"ErrorEvent")}function y5(e){return _d(e,"DOMError")}function hA(e){return _d(e,"DOMException")}function Ko(e){return _d(e,"String")}function Q2(e){return typeof e=="object"&&e!==null&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function V2(e){return e===null||Q2(e)||typeof e!="object"&&typeof e!="function"}function od(e){return _d(e,"Object")}function W0(e){return typeof Event<"u"&&Xo(e,Event)}function pA(e){return typeof Element<"u"&&Xo(e,Element)}function mA(e){return _d(e,"RegExp")}function q0(e){return!!(e&&e.then&&typeof e.then=="function")}function gA(e){return od(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function Xo(e,t){try{return e instanceof t}catch{return!1}}function _7(e){return!!(typeof e=="object"&&e!==null&&(e.__isVue||e._isVue))}const ed=en,yA=80;function Jo(e,t={}){if(!e)return"<unknown>";try{let n=e;const r=5,i=[];let s=0,o=0;const a=" > ",l=a.length;let u;const f=Array.isArray(t)?t:t.keyAttrs,h=!Array.isArray(t)&&t.maxStringLength||yA;for(;n&&s++<r&&(u=vA(n,f),!(u==="html"||s>1&&o+i.length*l+u.length>=h));)i.push(u),o+=u.length,n=n.parentNode;return i.reverse().join(a)}catch{return"<unknown>"}}function vA(e,t){const n=e,r=[];if(!n||!n.tagName)return"";if(ed.HTMLElement&&n instanceof HTMLElement&&n.dataset){if(n.dataset.sentryComponent)return n.dataset.sentryComponent;if(n.dataset.sentryElement)return n.dataset.sentryElement}r.push(n.tagName.toLowerCase());const i=t&&t.length?t.filter(o=>n.getAttribute(o)).map(o=>[o,n.getAttribute(o)]):null;if(i&&i.length)i.forEach(o=>{r.push(`[${o[0]}="${o[1]}"]`)});else{n.id&&r.push(`#${n.id}`);const o=n.className;if(o&&Ko(o)){const a=o.split(/\s+/);for(const l of a)r.push(`.${l}`)}}const s=["aria-label","type","name","title","alt"];for(const o of s){const a=n.getAttribute(o);a&&r.push(`[${o}="${a}"]`)}return r.join("")}function S7(){try{return ed.document.location.href}catch{return""}}function xA(e){return ed.document&&ed.document.querySelector?ed.document.querySelector(e):null}function E7(e){if(!ed.HTMLElement)return null;let t=e;const n=5;for(let r=0;r<n;r++){if(!t)return null;if(t instanceof HTMLElement){if(t.dataset.sentryComponent)return t.dataset.sentryComponent;if(t.dataset.sentryElement)return t.dataset.sentryElement}t=t.parentNode}return null}function td(e,t=0){return typeof e!="string"||t===0||e.length<=t?e:`${e.slice(0,t)}...`}function v5(e,t){if(!Array.isArray(e))return"";const n=[];for(let r=0;r<e.length;r++){const i=e[r];try{_7(i)?n.push("[VueViewModel]"):n.push(String(i))}catch{n.push("[value cannot be serialized]")}}return n.join(t)}function bA(e,t,n=!1){return Ko(e)?mA(t)?t.test(e):Ko(t)?n?e===t:e.includes(t):!1:!1}function Va(e,t=[],n=!1){return t.some(r=>bA(e,r,n))}function ji(e,t,n){if(!(t in e))return;const r=e[t],i=n(r);typeof i=="function"&&k7(i,r);try{e[t]=i}catch{ll&&Ge.log(`Failed to replace method "${t}" in object`,e)}}function gs(e,t,n){try{Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}catch{ll&&Ge.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function k7(e,t){try{const n=t.prototype||{};e.prototype=t.prototype=n,gs(e,"__sentry_original__",t)}catch{}}function K2(e){return e.__sentry_original__}function C7(e){if(q2(e))return{message:e.message,name:e.name,stack:e.stack,...b5(e)};if(W0(e)){const t={type:e.type,target:x5(e.target),currentTarget:x5(e.currentTarget),...b5(e)};return typeof CustomEvent<"u"&&Xo(e,CustomEvent)&&(t.detail=e.detail),t}else return e}function x5(e){try{return pA(e)?Jo(e):Object.prototype.toString.call(e)}catch{return"<unknown>"}}function b5(e){if(typeof e=="object"&&e!==null){const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}else return{}}function wA(e,t=40){const n=Object.keys(C7(e));n.sort();const r=n[0];if(!r)return"[object has no keys]";if(r.length>=t)return td(r,t);for(let i=n.length;i>0;i--){const s=n.slice(0,i).join(", ");if(!(s.length>t))return i===n.length?s:td(s,t)}return""}function pr(e){return eb(e,new Map)}function eb(e,t){if(_A(e)){const n=t.get(e);if(n!==void 0)return n;const r={};t.set(e,r);for(const i of Object.getOwnPropertyNames(e))typeof e[i]<"u"&&(r[i]=eb(e[i],t));return r}if(Array.isArray(e)){const n=t.get(e);if(n!==void 0)return n;const r=[];return t.set(e,r),e.forEach(i=>{r.push(eb(i,t))}),r}return e}function _A(e){if(!od(e))return!1;try{const t=Object.getPrototypeOf(e).constructor.name;return!t||t==="Object"}catch{return!0}}const T7=1e3;function Bh(){return Date.now()/T7}function SA(){const{performance:e}=en;if(!e||!e.now)return Bh;const t=Date.now()-e.now(),n=e.timeOrigin==null?t:e.timeOrigin;return()=>(n+e.now())/T7}const ai=SA(),ci=(()=>{const{performance:e}=en;if(!e||!e.now)return;const t=3600*1e3,n=e.now(),r=Date.now(),i=e.timeOrigin?Math.abs(e.timeOrigin+n-r):t,s=i<t,o=e.timing&&e.timing.navigationStart,l=typeof o=="number"?Math.abs(o+n-r):t,u=l<t;return s||u?i<=l?e.timeOrigin:o:r})();function Qi(){const e=en,t=e.crypto||e.msCrypto;let n=()=>Math.random()*16;try{if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,"");t&&t.getRandomValues&&(n=()=>{const r=new Uint8Array(1);return t.getRandomValues(r),r[0]})}catch{}return("10000000100040008000"+1e11).replace(/[018]/g,r=>(r^(n()&15)>>r/4).toString(16))}function j7(e){return e.exception&&e.exception.values?e.exception.values[0]:void 0}function Da(e){const{message:t,event_id:n}=e;if(t)return t;const r=j7(e);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}function tb(e,t,n){const r=e.exception=e.exception||{},i=r.values=r.values||[],s=i[0]=i[0]||{};s.value||(s.value=t||""),s.type||(s.type="Error")}function ad(e,t){const n=j7(e);if(!n)return;const r={type:"generic",handled:!0},i=n.mechanism;if(n.mechanism={...r,...i,...t},t&&"data"in t){const s={...i&&i.data,...t.data};n.mechanism.data=s}}function w5(e){if(EA(e))return!0;try{gs(e,"__sentry_captured__",!0)}catch{}return!1}function EA(e){try{return e.__sentry_captured__}catch{}}var Fo;(function(e){e[e.PENDING=0]="PENDING";const n=1;e[e.RESOLVED=n]="RESOLVED";const r=2;e[e.REJECTED=r]="REJECTED"})(Fo||(Fo={}));function Zo(e){return new us(t=>{t(e)})}function Zg(e){return new us((t,n)=>{n(e)})}class us{constructor(t){us.prototype.__init.call(this),us.prototype.__init2.call(this),us.prototype.__init3.call(this),us.prototype.__init4.call(this),this._state=Fo.PENDING,this._handlers=[];try{t(this._resolve,this._reject)}catch(n){this._reject(n)}}then(t,n){return new us((r,i)=>{this._handlers.push([!1,s=>{if(!t)r(s);else try{r(t(s))}catch(o){i(o)}},s=>{if(!n)i(s);else try{r(n(s))}catch(o){i(o)}}]),this._executeHandlers()})}catch(t){return this.then(n=>n,t)}finally(t){return new us((n,r)=>{let i,s;return this.then(o=>{s=!1,i=o,t&&t()},o=>{s=!0,i=o,t&&t()}).then(()=>{if(s){r(i);return}n(i)})})}__init(){this._resolve=t=>{this._setResult(Fo.RESOLVED,t)}}__init2(){this._reject=t=>{this._setResult(Fo.REJECTED,t)}}__init3(){this._setResult=(t,n)=>{if(this._state===Fo.PENDING){if(q0(n)){n.then(this._resolve,this._reject);return}this._state=t,this._value=n,this._executeHandlers()}}}__init4(){this._executeHandlers=()=>{if(this._state===Fo.PENDING)return;const t=this._handlers.slice();this._handlers=[],t.forEach(n=>{n[0]||(this._state===Fo.RESOLVED&&n[1](this._value),this._state===Fo.REJECTED&&n[2](this._value),n[0]=!0)})}}}function kA(e){const t=ai(),n={sid:Qi(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>TA(n)};return e&&ld(n,e),n}function ld(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),!e.did&&!t.did&&(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||ai(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=t.sid.length===32?t.sid:Qi()),t.init!==void 0&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),typeof t.started=="number"&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if(typeof t.duration=="number")e.duration=t.duration;else{const n=e.timestamp-e.started;e.duration=n>=0?n:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),typeof t.errors=="number"&&(e.errors=t.errors),t.status&&(e.status=t.status)}function CA(e,t){let n={};e.status==="ok"&&(n={status:"exited"}),ld(e,n)}function TA(e){return pr({sid:`${e.sid}`,init:e.init,started:new Date(e.started*1e3).toISOString(),timestamp:new Date(e.timestamp*1e3).toISOString(),status:e.status,errors:e.errors,did:typeof e.did=="number"||typeof e.did=="string"?`${e.did}`:void 0,duration:e.duration,abnormal_mechanism:e.abnormal_mechanism,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}})}function Xa(){return Qi()}function Ja(){return Qi().substring(16)}function Q0(e,t,n=2){if(!t||typeof t!="object"||n<=0)return t;if(e&&t&&Object.keys(t).length===0)return e;const r={...e};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=Q0(r[i],t[i],n-1));return r}const nb="_sentrySpan";function mh(e,t){t?gs(e,nb,t):delete e[nb]}function e0(e){return e[nb]}const jA=100;class G2{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:Xa(),spanId:Ja()}}clone(){const t=new G2;return t._breadcrumbs=[...this._breadcrumbs],t._tags={...this._tags},t._extra={...this._extra},t._contexts={...this._contexts},this._contexts.flags&&(t._contexts.flags={values:[...this._contexts.flags.values]}),t._user=this._user,t._level=this._level,t._session=this._session,t._transactionName=this._transactionName,t._fingerprint=this._fingerprint,t._eventProcessors=[...this._eventProcessors],t._requestSession=this._requestSession,t._attachments=[...this._attachments],t._sdkProcessingMetadata={...this._sdkProcessingMetadata},t._propagationContext={...this._propagationContext},t._client=this._client,t._lastEventId=this._lastEventId,mh(t,e0(this)),t}setClient(t){this._client=t}setLastEventId(t){this._lastEventId=t}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&ld(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(t){return this._requestSession=t,this}setTags(t){return this._tags={...this._tags,...t},this._notifyScopeListeners(),this}setTag(t,n){return this._tags={...this._tags,[t]:n},this._notifyScopeListeners(),this}setExtras(t){return this._extra={...this._extra,...t},this._notifyScopeListeners(),this}setExtra(t,n){return this._extra={...this._extra,[t]:n},this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,n){return n===null?delete this._contexts[t]:this._contexts[t]=n,this._notifyScopeListeners(),this}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;const n=typeof t=="function"?t(this):t,[r,i]=n instanceof Za?[n.getScopeData(),n.getRequestSession()]:od(n)?[t,t.requestSession]:[],{tags:s,extra:o,user:a,contexts:l,level:u,fingerprint:f=[],propagationContext:h}=r||{};return this._tags={...this._tags,...s},this._extra={...this._extra,...o},this._contexts={...this._contexts,...l},a&&Object.keys(a).length&&(this._user=a),u&&(this._level=u),f.length&&(this._fingerprint=f),h&&(this._propagationContext=h),i&&(this._requestSession=i),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._session=void 0,mh(this,void 0),this._attachments=[],this.setPropagationContext({traceId:Xa()}),this._notifyScopeListeners(),this}addBreadcrumb(t,n){const r=typeof n=="number"?n:jA;if(r<=0)return this;const i={timestamp:Bh(),...t};return this._breadcrumbs.push(i),this._breadcrumbs.length>r&&(this._breadcrumbs=this._breadcrumbs.slice(-r),this._client&&this._client.recordDroppedEvent("buffer_overflow","log_item")),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:e0(this)}}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata=Q0(this._sdkProcessingMetadata,t,2),this}setPropagationContext(t){return this._propagationContext={spanId:Ja(),...t},this}getPropagationContext(){return this._propagationContext}captureException(t,n){const r=n&&n.event_id?n.event_id:Qi();if(!this._client)return Ge.warn("No client configured on scope - will not capture exception!"),r;const i=new Error("Sentry syntheticException");return this._client.captureException(t,{originalException:t,syntheticException:i,...n,event_id:r},this),r}captureMessage(t,n,r){const i=r&&r.event_id?r.event_id:Qi();if(!this._client)return Ge.warn("No client configured on scope - will not capture message!"),i;const s=new Error(t);return this._client.captureMessage(t,n,{originalException:t,syntheticException:s,...r,event_id:i},this),i}captureEvent(t,n){const r=n&&n.event_id?n.event_id:Qi();return this._client?(this._client.captureEvent(t,{...n,event_id:r},this),r):(Ge.warn("No client configured on scope - will not capture event!"),r)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(t=>{t(this)}),this._notifyingListeners=!1)}}const Za=G2;function NA(){return H0("defaultCurrentScope",()=>new Za)}function IA(){return H0("defaultIsolationScope",()=>new Za)}class PA{constructor(t,n){let r;t?r=t:r=new Za;let i;n?i=n:i=new Za,this._stack=[{scope:r}],this._isolationScope=i}withScope(t){const n=this._pushScope();let r;try{r=t(n)}catch(i){throw this._popScope(),i}return q0(r)?r.then(i=>(this._popScope(),i),i=>{throw this._popScope(),i}):(this._popScope(),r)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const t=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:t}),t}_popScope(){return this._stack.length<=1?!1:!!this._stack.pop()}}function cd(){const e=Nc(),t=W2(e);return t.stack=t.stack||new PA(NA(),IA())}function RA(e){return cd().withScope(e)}function OA(e,t){const n=cd();return n.withScope(()=>(n.getStackTop().scope=e,t(e)))}function _5(e){return cd().withScope(()=>e(cd().getIsolationScope()))}function AA(){return{withIsolationScope:_5,withScope:RA,withSetScope:OA,withSetIsolationScope:(e,t)=>_5(t),getCurrentScope:()=>cd().getScope(),getIsolationScope:()=>cd().getIsolationScope()}}function Sd(e){const t=W2(e);return t.acs?t.acs:AA()}function Pn(){const e=Nc();return Sd(e).getCurrentScope()}function Ws(){const e=Nc();return Sd(e).getIsolationScope()}function MA(){return H0("globalScope",()=>new Za)}function Y2(...e){const t=Nc(),n=Sd(t);if(e.length===2){const[r,i]=e;return r?n.withSetScope(r,i):n.withScope(i)}return n.withScope(e[0])}function Xt(){return Pn().getClient()}function DA(e){const t=e.getPropagationContext(),{traceId:n,spanId:r,parentSpanId:i}=t;return pr({trace_id:n,span_id:r,parent_span_id:i})}const LA="_sentryMetrics";function rb(e){const t=e[LA];if(!t)return;const n={};for(const[,[r,i]]of t)(n[r]||(n[r]=[])).push(pr(i));return n}const io="sentry.source",N7="sentry.sample_rate",_c="sentry.op",Tr="sentry.origin",ib="sentry.idle_span_finish_reason",V0="sentry.measurement_unit",K0="sentry.measurement_value",S5="sentry.custom_span_name",FA="sentry.profile_id",X2="sentry.exclusive_time",BA=0,I7=1,Er=2;function zA(e){if(e<400&&e>=100)return{code:I7};if(e>=400&&e<500)switch(e){case 401:return{code:Er,message:"unauthenticated"};case 403:return{code:Er,message:"permission_denied"};case 404:return{code:Er,message:"not_found"};case 409:return{code:Er,message:"already_exists"};case 413:return{code:Er,message:"failed_precondition"};case 429:return{code:Er,message:"resource_exhausted"};case 499:return{code:Er,message:"cancelled"};default:return{code:Er,message:"invalid_argument"}}if(e>=500&&e<600)switch(e){case 501:return{code:Er,message:"unimplemented"};case 503:return{code:Er,message:"unavailable"};case 504:return{code:Er,message:"deadline_exceeded"};default:return{code:Er,message:"internal_error"}}return{code:Er,message:"unknown_error"}}function P7(e,t){e.setAttribute("http.response.status_code",t);const n=zA(t);n.message!=="unknown_error"&&e.setStatus(n)}const J2="sentry-",$A=/^sentry-/,UA=8192;function R7(e){const t=WA(e);if(!t)return;const n=Object.entries(t).reduce((r,[i,s])=>{if(i.match($A)){const o=i.slice(J2.length);r[o]=s}return r},{});if(Object.keys(n).length>0)return n}function HA(e){if(!e)return;const t=Object.entries(e).reduce((n,[r,i])=>(i&&(n[`${J2}${r}`]=i),n),{});return qA(t)}function WA(e){if(!(!e||!Ko(e)&&!Array.isArray(e)))return Array.isArray(e)?e.reduce((t,n)=>{const r=E5(n);return Object.entries(r).forEach(([i,s])=>{t[i]=s}),t},{}):E5(e)}function E5(e){return e.split(",").map(t=>t.split("=").map(n=>decodeURIComponent(n.trim()))).reduce((t,[n,r])=>(n&&r&&(t[n]=r),t),{})}function qA(e){if(Object.keys(e).length!==0)return Object.entries(e).reduce((t,[n,r],i)=>{const s=`${encodeURIComponent(n)}=${encodeURIComponent(r)}`,o=i===0?s:`${t},${s}`;return o.length>UA?(ll&&Ge.warn(`Not adding key: ${n} with val: ${r} to baggage header due to exceeding baggage size limits.`),t):o},"")}const O7=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function QA(e){if(!e)return;const t=e.match(O7);if(!t)return;let n;return t[3]==="1"?n=!0:t[3]==="0"&&(n=!1),{traceId:t[1],parentSampled:n,parentSpanId:t[2]}}function VA(e,t){const n=QA(e),r=R7(t);if(!n||!n.traceId)return{traceId:Xa(),spanId:Ja()};const{traceId:i,parentSpanId:s,parentSampled:o}=n,a=Ja();return{traceId:i,parentSpanId:s,spanId:a,sampled:o,dsc:r||{}}}function A7(e=Xa(),t=Ja(),n){let r="";return n!==void 0&&(r=n?"-1":"-0"),`${e}-${t}${r}`}const M7=0,D7=1;let k5=!1;function KA(e){const{spanId:t,traceId:n}=e.spanContext(),{data:r,op:i,parent_span_id:s,status:o,origin:a}=fn(e);return pr({parent_span_id:s,span_id:t,trace_id:n,data:r,op:i,status:o,origin:a})}function GA(e){const{spanId:t,traceId:n,isRemote:r}=e.spanContext(),i=r?t:fn(e).parent_span_id,s=r?Ja():t;return pr({parent_span_id:i,span_id:s,trace_id:n})}function YA(e){const{traceId:t,spanId:n}=e.spanContext(),r=Ic(e);return A7(t,n,r)}function fc(e){return typeof e=="number"?C5(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?C5(e.getTime()):ai()}function C5(e){return e>9999999999?e/1e3:e}function fn(e){if(JA(e))return e.getSpanJSON();try{const{spanId:t,traceId:n}=e.spanContext();if(XA(e)){const{attributes:r,startTime:i,name:s,endTime:o,parentSpanId:a,status:l}=e;return pr({span_id:t,trace_id:n,data:r,description:s,parent_span_id:a,start_timestamp:fc(i),timestamp:fc(o)||void 0,status:L7(l),op:r[_c],origin:r[Tr],_metrics_summary:rb(e)})}return{span_id:t,trace_id:n}}catch{return{}}}function XA(e){const t=e;return!!t.attributes&&!!t.startTime&&!!t.name&&!!t.endTime&&!!t.status}function JA(e){return typeof e.getSpanJSON=="function"}function Ic(e){const{traceFlags:t}=e.spanContext();return t===D7}function L7(e){if(!(!e||e.code===BA))return e.code===I7?"ok":e.message||"unknown_error"}const hc="_sentryChildSpans",sb="_sentryRootSpan";function F7(e,t){const n=e[sb]||e;gs(t,sb,n),e[hc]?e[hc].add(t):gs(e,hc,new Set([t]))}function ZA(e,t){e[hc]&&e[hc].delete(t)}function Ag(e){const t=new Set;function n(r){if(!t.has(r)&&Ic(r)){t.add(r);const i=r[hc]?Array.from(r[hc]):[];for(const s of i)n(s)}}return n(e),Array.from(t)}function Rr(e){return e[sb]||e}function jr(){const e=Nc(),t=Sd(e);return t.getActiveSpan?t.getActiveSpan():e0(Pn())}function B7(){k5||(cl(()=>{console.warn("[Sentry] Deprecation warning: Returning null from `beforeSendSpan` will be disallowed from SDK version 9.0.0 onwards. The callback will only support mutating spans. To drop certain spans, configure the respective integrations directly.")}),k5=!0)}let T5=!1;function eM(){T5||(T5=!0,v7(ob),x7(ob))}function ob(){const e=jr(),t=e&&Rr(e);if(t){const n="internal_error";Mt&&Ge.log(`[Tracing] Root span: ${n} -> Global error occurred`),t.setStatus({code:Er,message:n})}}ob.tag="sentry_tracingErrorCallback";const z7="_sentryScope",$7="_sentryIsolationScope";function tM(e,t,n){e&&(gs(e,$7,n),gs(e,z7,t))}function j5(e){return{scope:e[z7],isolationScope:e[$7]}}function el(e){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;const t=Xt(),n=e||t&&t.getOptions();return!!n&&(n.enableTracing||"tracesSampleRate"in n||"tracesSampler"in n)}class Ed{constructor(t={}){this._traceId=t.traceId||Xa(),this._spanId=t.spanId||Ja()}spanContext(){return{spanId:this._spanId,traceId:this._traceId,traceFlags:M7}}end(t){}setAttribute(t,n){return this}setAttributes(t){return this}setStatus(t){return this}updateName(t){return this}isRecording(){return!1}addEvent(t,n,r){return this}addLink(t){return this}addLinks(t){return this}recordException(t,n){}}const Z2="production",U7="_frozenDsc";function N5(e,t){gs(e,U7,t)}function H7(e,t){const n=t.getOptions(),{publicKey:r}=t.getDsn()||{},i=pr({environment:n.environment||Z2,release:n.release,public_key:r,trace_id:e});return t.emit("createDsc",i),i}function W7(e,t){const n=t.getPropagationContext();return n.dsc||H7(n.traceId,e)}function Pc(e){const t=Xt();if(!t)return{};const n=Rr(e),r=n[U7];if(r)return r;const i=n.spanContext().traceState,s=i&&i.get("sentry.dsc"),o=s&&R7(s);if(o)return o;const a=H7(e.spanContext().traceId,t),l=fn(n),u=l.data||{},f=u[N7];f!=null&&(a.sample_rate=`${f}`);const h=u[io],g=l.description;return h!=="url"&&g&&(a.transaction=g),el()&&(a.sampled=String(Ic(n))),t.emit("createDsc",a,n),a}function nM(e){if(!Mt)return;const{description:t="< unknown name >",op:n="< unknown op >",parent_span_id:r}=fn(e),{spanId:i}=e.spanContext(),s=Ic(e),o=Rr(e),a=o===e,l=`[Tracing] Starting ${s?"sampled":"unsampled"} ${a?"root ":""}span`,u=[`op: ${n}`,`name: ${t}`,`ID: ${i}`];if(r&&u.push(`parent ID: ${r}`),!a){const{op:f,description:h}=fn(o);u.push(`root ID: ${o.spanContext().spanId}`),f&&u.push(`root op: ${f}`),h&&u.push(`root description: ${h}`)}Ge.log(`${l}
  ${u.join(`
  `)}`)}function rM(e){if(!Mt)return;const{description:t="< unknown name >",op:n="< unknown op >"}=fn(e),{spanId:r}=e.spanContext(),s=Rr(e)===e,o=`[Tracing] Finishing "${n}" ${s?"root ":""}span "${t}" with ID ${r}`;Ge.log(o)}function t0(e){if(typeof e=="boolean")return Number(e);const t=typeof e=="string"?parseFloat(e):e;if(typeof t!="number"||isNaN(t)||t<0||t>1){Mt&&Ge.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(e)} of type ${JSON.stringify(typeof e)}.`);return}return t}function iM(e,t){if(!el(e))return[!1];const n=Ws().getScopeData().sdkProcessingMetadata.normalizedRequest,r={...t,normalizedRequest:t.normalizedRequest||n};let i;typeof e.tracesSampler=="function"?i=e.tracesSampler(r):r.parentSampled!==void 0?i=r.parentSampled:typeof e.tracesSampleRate<"u"?i=e.tracesSampleRate:i=1;const s=t0(i);return s===void 0?(Mt&&Ge.warn("[Tracing] Discarding transaction because of invalid sample rate."),[!1]):s?Math.random()<s?[!0,s]:(Mt&&Ge.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(i)})`),[!1,s]):(Mt&&Ge.log(`[Tracing] Discarding transaction because ${typeof e.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),[!1,s])}const sM=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function oM(e){return e==="http"||e==="https"}function zh(e,t=!1){const{host:n,path:r,pass:i,port:s,projectId:o,protocol:a,publicKey:l}=e;return`${a}://${l}${t&&i?`:${i}`:""}@${n}${s?`:${s}`:""}/${r&&`${r}/`}${o}`}function aM(e){const t=sM.exec(e);if(!t){cl(()=>{console.error(`Invalid Sentry Dsn: ${e}`)});return}const[n,r,i="",s="",o="",a=""]=t.slice(1);let l="",u=a;const f=u.split("/");if(f.length>1&&(l=f.slice(0,-1).join("/"),u=f.pop()),u){const h=u.match(/^\d+/);h&&(u=h[0])}return q7({host:s,pass:i,path:l,projectId:u,port:o,protocol:n,publicKey:r})}function q7(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function lM(e){if(!ll)return!0;const{port:t,projectId:n,protocol:r}=e;return["protocol","publicKey","host","projectId"].find(o=>e[o]?!1:(Ge.error(`Invalid Sentry Dsn: ${o} missing`),!0))?!1:n.match(/^\d+$/)?oM(r)?t&&isNaN(parseInt(t,10))?(Ge.error(`Invalid Sentry Dsn: Invalid port ${t}`),!1):!0:(Ge.error(`Invalid Sentry Dsn: Invalid protocol ${r}`),!1):(Ge.error(`Invalid Sentry Dsn: Invalid projectId ${n}`),!1)}function cM(e){const t=typeof e=="string"?aM(e):q7(e);if(!(!t||!lM(t)))return t}function uM(){const e=typeof WeakSet=="function",t=e?new WeakSet:[];function n(i){if(e)return t.has(i)?!0:(t.add(i),!1);for(let s=0;s<t.length;s++)if(t[s]===i)return!0;return t.push(i),!1}function r(i){if(e)t.delete(i);else for(let s=0;s<t.length;s++)if(t[s]===i){t.splice(s,1);break}}return[n,r]}function As(e,t=100,n=1/0){try{return ab("",e,t,n)}catch(r){return{ERROR:`**non-serializable** (${r})`}}}function Q7(e,t=3,n=100*1024){const r=As(e,t);return pM(r)>n?Q7(e,t-1,n):r}function ab(e,t,n=1/0,r=1/0,i=uM()){const[s,o]=i;if(t==null||["boolean","string"].includes(typeof t)||typeof t=="number"&&Number.isFinite(t))return t;const a=dM(e,t);if(!a.startsWith("[object "))return a;if(t.__sentry_skip_normalization__)return t;const l=typeof t.__sentry_override_normalization_depth__=="number"?t.__sentry_override_normalization_depth__:n;if(l===0)return a.replace("object ","");if(s(t))return"[Circular ~]";const u=t;if(u&&typeof u.toJSON=="function")try{const y=u.toJSON();return ab("",y,l-1,r,i)}catch{}const f=Array.isArray(t)?[]:{};let h=0;const g=C7(t);for(const y in g){if(!Object.prototype.hasOwnProperty.call(g,y))continue;if(h>=r){f[y]="[MaxProperties ~]";break}const b=g[y];f[y]=ab(y,b,l-1,r,i),h++}return o(t),f}function dM(e,t){try{if(e==="domain"&&t&&typeof t=="object"&&t._events)return"[Domain]";if(e==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&t===global)return"[Global]";if(typeof window<"u"&&t===window)return"[Window]";if(typeof document<"u"&&t===document)return"[Document]";if(_7(t))return"[VueViewModel]";if(gA(t))return"[SyntheticEvent]";if(typeof t=="number"&&!Number.isFinite(t))return`[${t}]`;if(typeof t=="function")return`[Function: ${Yo(t)}]`;if(typeof t=="symbol")return`[${String(t)}]`;if(typeof t=="bigint")return`[BigInt: ${String(t)}]`;const n=fM(t);return/^HTML(\w*)Element$/.test(n)?`[HTMLElement: ${n}]`:`[object ${n}]`}catch(n){return`**non-serializable** (${n})`}}function fM(e){const t=Object.getPrototypeOf(e);return t?t.constructor.name:"null prototype"}function hM(e){return~-encodeURI(e).split(/%..|./).length}function pM(e){return hM(JSON.stringify(e))}function Rc(e,t=[]){return[e,t]}function mM(e,t){const[n,r]=e;return[n,[...r,t]]}function I5(e,t){const n=e[1];for(const r of n){const i=r[0].type;if(t(r,i))return!0}return!1}function lb(e){return en.__SENTRY__&&en.__SENTRY__.encodePolyfill?en.__SENTRY__.encodePolyfill(e):new TextEncoder().encode(e)}function gM(e){const[t,n]=e;let r=JSON.stringify(t);function i(s){typeof r=="string"?r=typeof s=="string"?r+s:[lb(r),s]:r.push(typeof s=="string"?lb(s):s)}for(const s of n){const[o,a]=s;if(i(`
${JSON.stringify(o)}
`),typeof a=="string"||a instanceof Uint8Array)i(a);else{let l;try{l=JSON.stringify(a)}catch{l=JSON.stringify(As(a))}i(l)}}return typeof r=="string"?r:yM(r)}function yM(e){const t=e.reduce((i,s)=>i+s.length,0),n=new Uint8Array(t);let r=0;for(const i of e)n.set(i,r),r+=i.length;return n}function vM(e){return[{type:"span"},e]}function xM(e){const t=typeof e.data=="string"?lb(e.data):e.data;return[pr({type:"attachment",length:t.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType}),t]}const bM={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"metric_bucket",raw_security:"security"};function P5(e){return bM[e]}function ew(e){if(!e||!e.sdk)return;const{name:t,version:n}=e.sdk;return{name:t,version:n}}function V7(e,t,n,r){const i=e.sdkProcessingMetadata&&e.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:e.event_id,sent_at:new Date().toISOString(),...t&&{sdk:t},...!!n&&r&&{dsn:zh(r)},...i&&{trace:pr({...i})}}}function wM(e,t){return t&&(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||t.name,e.sdk.version=e.sdk.version||t.version,e.sdk.integrations=[...e.sdk.integrations||[],...t.integrations||[]],e.sdk.packages=[...e.sdk.packages||[],...t.packages||[]]),e}function _M(e,t,n,r){const i=ew(n),s={sent_at:new Date().toISOString(),...i&&{sdk:i},...!!r&&t&&{dsn:zh(t)}},o="aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e.toJSON()];return Rc(s,[o])}function SM(e,t,n,r){const i=ew(n),s=e.type&&e.type!=="replay_event"?e.type:"event";wM(e,n&&n.sdk);const o=V7(e,i,r,t);return delete e.sdkProcessingMetadata,Rc(o,[[{type:s},e]])}function EM(e,t){function n(f){return!!f.trace_id&&!!f.public_key}const r=Pc(e[0]),i=t&&t.getDsn(),s=t&&t.getOptions().tunnel,o={sent_at:new Date().toISOString(),...n(r)&&{trace:r},...!!s&&i&&{dsn:zh(i)}},a=t&&t.getOptions().beforeSendSpan,l=a?f=>{const h=a(fn(f));return h||B7(),h}:f=>fn(f),u=[];for(const f of e){const h=l(f);h&&u.push(vM(h))}return Rc(o,u)}function kM(e,t,n,r=jr()){const i=r&&Rr(r);i&&(Mt&&Ge.log(`[Measurement] Setting measurement on root span: ${e} = ${t} ${n}`),i.addEvent(e,{[K0]:t,[V0]:n}))}function R5(e){if(!e||e.length===0)return;const t={};return e.forEach(n=>{const r=n.attributes||{},i=r[V0],s=r[K0];typeof i=="string"&&typeof s=="number"&&(t[n.name]={value:s,unit:i})}),t}const O5=1e3;class tw{constructor(t={}){this._traceId=t.traceId||Xa(),this._spanId=t.spanId||Ja(),this._startTime=t.startTimestamp||ai(),this._attributes={},this.setAttributes({[Tr]:"manual",[_c]:t.op,...t.attributes}),this._name=t.name,t.parentSpanId&&(this._parentSpanId=t.parentSpanId),"sampled"in t&&(this._sampled=t.sampled),t.endTimestamp&&(this._endTime=t.endTimestamp),this._events=[],this._isStandaloneSpan=t.isStandalone,this._endTime&&this._onSpanEnded()}addLink(t){return this}addLinks(t){return this}recordException(t,n){}spanContext(){const{_spanId:t,_traceId:n,_sampled:r}=this;return{spanId:t,traceId:n,traceFlags:r?D7:M7}}setAttribute(t,n){return n===void 0?delete this._attributes[t]:this._attributes[t]=n,this}setAttributes(t){return Object.keys(t).forEach(n=>this.setAttribute(n,t[n])),this}updateStartTime(t){this._startTime=fc(t)}setStatus(t){return this._status=t,this}updateName(t){return this._name=t,this.setAttribute(io,"custom"),this}end(t){this._endTime||(this._endTime=fc(t),rM(this),this._onSpanEnded())}getSpanJSON(){return pr({data:this._attributes,description:this._name,op:this._attributes[_c],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:L7(this._status),timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[Tr],_metrics_summary:rb(this),profile_id:this._attributes[FA],exclusive_time:this._attributes[X2],measurements:R5(this._events),is_segment:this._isStandaloneSpan&&Rr(this)===this||void 0,segment_id:this._isStandaloneSpan?Rr(this).spanContext().spanId:void 0})}isRecording(){return!this._endTime&&!!this._sampled}addEvent(t,n,r){Mt&&Ge.log("[Tracing] Adding an event to span:",t);const i=A5(n)?n:r||ai(),s=A5(n)?{}:n||{},o={name:t,time:fc(i),attributes:s};return this._events.push(o),this}isStandaloneSpan(){return!!this._isStandaloneSpan}_onSpanEnded(){const t=Xt();if(t&&t.emit("spanEnd",this),!(this._isStandaloneSpan||this===Rr(this)))return;if(this._isStandaloneSpan){this._sampled?TM(EM([this],t)):(Mt&&Ge.log("[Tracing] Discarding standalone span because its trace was not chosen to be sampled."),t&&t.recordDroppedEvent("sample_rate","span"));return}const r=this._convertSpanToTransaction();r&&(j5(this).scope||Pn()).captureEvent(r)}_convertSpanToTransaction(){if(!M5(fn(this)))return;this._name||(Mt&&Ge.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>");const{scope:t,isolationScope:n}=j5(this),i=(t||Pn()).getClient()||Xt();if(this._sampled!==!0){Mt&&Ge.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled."),i&&i.recordDroppedEvent("sample_rate","transaction");return}const o=Ag(this).filter(h=>h!==this&&!CM(h)).map(h=>fn(h)).filter(M5),a=this._attributes[io];delete this._attributes[S5],o.forEach(h=>{h.data&&delete h.data[S5]});const l={contexts:{trace:KA(this)},spans:o.length>O5?o.sort((h,g)=>h.start_timestamp-g.start_timestamp).slice(0,O5):o,start_timestamp:this._startTime,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{capturedSpanScope:t,capturedSpanIsolationScope:n,...pr({dynamicSamplingContext:Pc(this)})},_metrics_summary:rb(this),...a&&{transaction_info:{source:a}}},u=R5(this._events);return u&&Object.keys(u).length&&(Mt&&Ge.log("[Measurements] Adding measurements to transaction event",JSON.stringify(u,void 0,2)),l.measurements=u),l}}function A5(e){return e&&typeof e=="number"||e instanceof Date||Array.isArray(e)}function M5(e){return!!e.start_timestamp&&!!e.timestamp&&!!e.span_id&&!!e.trace_id}function CM(e){return e instanceof tw&&e.isStandaloneSpan()}function TM(e){const t=Xt();if(!t)return;const n=e[1];if(!n||n.length===0){t.recordDroppedEvent("before_send","span");return}t.sendEnvelope(e)}const K7="__SENTRY_SUPPRESS_TRACING__";function $h(e){const t=Y7();if(t.startInactiveSpan)return t.startInactiveSpan(e);const n=NM(e),{forceTransaction:r,parentSpan:i}=e;return(e.scope?o=>Y2(e.scope,o):i!==void 0?o=>G7(i,o):o=>o())(()=>{const o=Pn(),a=PM(o);return e.onlyIfParent&&!a?new Ed:jM({parentSpan:a,spanArguments:n,forceTransaction:r,scope:o})})}function G7(e,t){const n=Y7();return n.withActiveSpan?n.withActiveSpan(e,t):Y2(r=>(mh(r,e||void 0),t(r)))}function jM({parentSpan:e,spanArguments:t,forceTransaction:n,scope:r}){if(!el())return new Ed;const i=Ws();let s;if(e&&!n)s=IM(e,r,t),F7(e,s);else if(e){const o=Pc(e),{traceId:a,spanId:l}=e.spanContext(),u=Ic(e);s=D5({traceId:a,parentSpanId:l,...t},r,u),N5(s,o)}else{const{traceId:o,dsc:a,parentSpanId:l,sampled:u}={...i.getPropagationContext(),...r.getPropagationContext()};s=D5({traceId:o,parentSpanId:l,...t},r,u),a&&N5(s,a)}return nM(s),tM(s,r,i),s}function NM(e){const n={isStandalone:(e.experimental||{}).standalone,...e};if(e.startTime){const r={...n};return r.startTimestamp=fc(e.startTime),delete r.startTime,r}return n}function Y7(){const e=Nc();return Sd(e)}function D5(e,t,n){const r=Xt(),i=r&&r.getOptions()||{},{name:s="",attributes:o}=e,[a,l]=t.getScopeData().sdkProcessingMetadata[K7]?[!1]:iM(i,{name:s,parentSampled:n,attributes:o,transactionContext:{name:s,parentSampled:n}}),u=new tw({...e,attributes:{[io]:"custom",...e.attributes},sampled:a});return l!==void 0&&u.setAttribute(N7,l),r&&r.emit("spanStart",u),u}function IM(e,t,n){const{spanId:r,traceId:i}=e.spanContext(),s=t.getScopeData().sdkProcessingMetadata[K7]?!1:Ic(e),o=s?new tw({...n,parentSpanId:r,traceId:i,sampled:s}):new Ed({traceId:i});F7(e,o);const a=Xt();return a&&(a.emit("spanStart",o),n.endTimestamp&&a.emit("spanEnd",o)),o}function PM(e){const t=e0(e);if(!t)return;const n=Xt();return(n?n.getOptions():{}).parentSpanIsAlwaysRootSpan?Rr(t):t}const Mg={idleTimeout:1e3,finalTimeout:3e4,childSpanTimeout:15e3},RM="heartbeatFailed",OM="idleTimeout",AM="finalTimeout",MM="externalFinish";function X7(e,t={}){const n=new Map;let r=!1,i,s=MM,o=!t.disableAutoFinish;const a=[],{idleTimeout:l=Mg.idleTimeout,finalTimeout:u=Mg.finalTimeout,childSpanTimeout:f=Mg.childSpanTimeout,beforeSpanEnd:h}=t,g=Xt();if(!g||!el())return new Ed;const y=Pn(),b=jr(),_=DM(e);_.end=new Proxy(_.end,{apply(j,M,U){h&&h(_);const[$,...D]=U,ee=$||ai(),X=fc(ee),re=Ag(_).filter(Z=>Z!==_);if(!re.length)return B(X),Reflect.apply(j,M,[X,...D]);const Q=re.map(Z=>fn(Z).timestamp).filter(Z=>!!Z),q=Q.length?Math.max(...Q):void 0,V=fn(_).start_timestamp,ne=Math.min(V?V+u/1e3:1/0,Math.max(V||-1/0,Math.min(X,q||1/0)));return B(ne),Reflect.apply(j,M,[ne,...D])}});function E(){i&&(clearTimeout(i),i=void 0)}function C(j){E(),i=setTimeout(()=>{!r&&n.size===0&&o&&(s=OM,_.end(j))},l)}function P(j){i=setTimeout(()=>{!r&&o&&(s=RM,_.end(j))},f)}function O(j){E(),n.set(j,!0);const M=ai();P(M+f/1e3)}function z(j){if(n.has(j)&&n.delete(j),n.size===0){const M=ai();C(M+l/1e3)}}function B(j){r=!0,n.clear(),a.forEach(X=>X()),mh(y,b);const M=fn(_),{start_timestamp:U}=M;if(!U)return;(M.data||{})[ib]||_.setAttribute(ib,s),Ge.log(`[Tracing] Idle span "${M.op}" finished`);const D=Ag(_).filter(X=>X!==_);let ee=0;D.forEach(X=>{X.isRecording()&&(X.setStatus({code:Er,message:"cancelled"}),X.end(j),Mt&&Ge.log("[Tracing] Cancelling span since span ended early",JSON.stringify(X,void 0,2)));const re=fn(X),{timestamp:Q=0,start_timestamp:q=0}=re,V=q<=j,ne=(u+l)/1e3,Z=Q-q<=ne;if(Mt){const fe=JSON.stringify(X,void 0,2);V?Z||Ge.log("[Tracing] Discarding span since it finished after idle span final timeout",fe):Ge.log("[Tracing] Discarding span since it happened after idle span was finished",fe)}(!Z||!V)&&(ZA(_,X),ee++)}),ee>0&&_.setAttribute("sentry.idle_span_discarded_spans",ee)}return a.push(g.on("spanStart",j=>{if(r||j===_||fn(j).timestamp)return;Ag(_).includes(j)&&O(j.spanContext().spanId)})),a.push(g.on("spanEnd",j=>{r||z(j.spanContext().spanId)})),a.push(g.on("idleSpanEnableAutoFinish",j=>{j===_&&(o=!0,C(),n.size&&P())})),t.disableAutoFinish||C(),setTimeout(()=>{r||(_.setStatus({code:Er,message:"deadline_exceeded"}),s=AM,_.end())},u),_}function DM(e){const t=$h(e);return mh(Pn(),t),Mt&&Ge.log("[Tracing] Started span is an idle span"),t}function cb(e,t,n,r=0){return new us((i,s)=>{const o=e[r];if(t===null||typeof o!="function")i(t);else{const a=o({...t},n);Mt&&o.id&&a===null&&Ge.log(`Event processor "${o.id}" dropped event`),q0(a)?a.then(l=>cb(e,l,n,r+1).then(i)).then(null,s):cb(e,a,n,r+1).then(i).then(null,s)}})}let Nm,L5,Im;function LM(e){const t=en._sentryDebugIds;if(!t)return{};const n=Object.keys(t);return Im&&n.length===L5||(L5=n.length,Im=n.reduce((r,i)=>{Nm||(Nm={});const s=Nm[i];if(s)r[s[0]]=s[1];else{const o=e(i);for(let a=o.length-1;a>=0;a--){const l=o[a],u=l&&l.filename,f=t[i];if(u&&f){r[u]=f,Nm[i]=[u,f];break}}}return r},{})),Im}function FM(e,t){const{fingerprint:n,span:r,breadcrumbs:i,sdkProcessingMetadata:s}=t;BM(e,t),r&&UM(e,r),HM(e,n),zM(e,i),$M(e,s)}function F5(e,t){const{extra:n,tags:r,user:i,contexts:s,level:o,sdkProcessingMetadata:a,breadcrumbs:l,fingerprint:u,eventProcessors:f,attachments:h,propagationContext:g,transactionName:y,span:b}=t;Pm(e,"extra",n),Pm(e,"tags",r),Pm(e,"user",i),Pm(e,"contexts",s),e.sdkProcessingMetadata=Q0(e.sdkProcessingMetadata,a,2),o&&(e.level=o),y&&(e.transactionName=y),b&&(e.span=b),l.length&&(e.breadcrumbs=[...e.breadcrumbs,...l]),u.length&&(e.fingerprint=[...e.fingerprint,...u]),f.length&&(e.eventProcessors=[...e.eventProcessors,...f]),h.length&&(e.attachments=[...e.attachments,...h]),e.propagationContext={...e.propagationContext,...g}}function Pm(e,t,n){e[t]=Q0(e[t],n,1)}function BM(e,t){const{extra:n,tags:r,user:i,contexts:s,level:o,transactionName:a}=t,l=pr(n);l&&Object.keys(l).length&&(e.extra={...l,...e.extra});const u=pr(r);u&&Object.keys(u).length&&(e.tags={...u,...e.tags});const f=pr(i);f&&Object.keys(f).length&&(e.user={...f,...e.user});const h=pr(s);h&&Object.keys(h).length&&(e.contexts={...h,...e.contexts}),o&&(e.level=o),a&&e.type!=="transaction"&&(e.transaction=a)}function zM(e,t){const n=[...e.breadcrumbs||[],...t];e.breadcrumbs=n.length?n:void 0}function $M(e,t){e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...t}}function UM(e,t){e.contexts={trace:GA(t),...e.contexts},e.sdkProcessingMetadata={dynamicSamplingContext:Pc(t),...e.sdkProcessingMetadata};const n=Rr(t),r=fn(n).description;r&&!e.transaction&&e.type==="transaction"&&(e.transaction=r)}function HM(e,t){e.fingerprint=e.fingerprint?Array.isArray(e.fingerprint)?e.fingerprint:[e.fingerprint]:[],t&&(e.fingerprint=e.fingerprint.concat(t)),e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint}function J7(e,t,n,r,i,s){const{normalizeDepth:o=3,normalizeMaxBreadth:a=1e3}=e,l={...t,event_id:t.event_id||n.event_id||Qi(),timestamp:t.timestamp||Bh()},u=n.integrations||e.integrations.map(E=>E.name);WM(l,e),VM(l,u),i&&i.emit("applyFrameMetadata",t),t.type===void 0&&qM(l,e.stackParser);const f=GM(r,n.captureContext);n.mechanism&&ad(l,n.mechanism);const h=i?i.getEventProcessors():[],g=MA().getScopeData();if(s){const E=s.getScopeData();F5(g,E)}if(f){const E=f.getScopeData();F5(g,E)}const y=[...n.attachments||[],...g.attachments];y.length&&(n.attachments=y),FM(l,g);const b=[...h,...g.eventProcessors];return cb(b,l,n).then(E=>(E&&QM(E),typeof o=="number"&&o>0?KM(E,o,a):E))}function WM(e,t){const{environment:n,release:r,dist:i,maxValueLength:s=250}=t;e.environment=e.environment||n||Z2,!e.release&&r&&(e.release=r),!e.dist&&i&&(e.dist=i),e.message&&(e.message=td(e.message,s));const o=e.exception&&e.exception.values&&e.exception.values[0];o&&o.value&&(o.value=td(o.value,s));const a=e.request;a&&a.url&&(a.url=td(a.url,s))}function qM(e,t){const n=LM(t);try{e.exception.values.forEach(r=>{r.stacktrace.frames.forEach(i=>{n&&i.filename&&(i.debug_id=n[i.filename])})})}catch{}}function QM(e){const t={};try{e.exception.values.forEach(r=>{r.stacktrace.frames.forEach(i=>{i.debug_id&&(i.abs_path?t[i.abs_path]=i.debug_id:i.filename&&(t[i.filename]=i.debug_id),delete i.debug_id)})})}catch{}if(Object.keys(t).length===0)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];const n=e.debug_meta.images;Object.entries(t).forEach(([r,i])=>{n.push({type:"sourcemap",code_file:r,debug_id:i})})}function VM(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}function KM(e,t,n){if(!e)return null;const r={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map(i=>({...i,...i.data&&{data:As(i.data,t,n)}}))},...e.user&&{user:As(e.user,t,n)},...e.contexts&&{contexts:As(e.contexts,t,n)},...e.extra&&{extra:As(e.extra,t,n)}};return e.contexts&&e.contexts.trace&&r.contexts&&(r.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(r.contexts.trace.data=As(e.contexts.trace.data,t,n))),e.spans&&(r.spans=e.spans.map(i=>({...i,...i.data&&{data:As(i.data,t,n)}}))),e.contexts&&e.contexts.flags&&r.contexts&&(r.contexts.flags=As(e.contexts.flags,3,n)),r}function GM(e,t){if(!t)return e;const n=e?e.clone():new Za;return n.update(t),n}function YM(e){if(e)return XM(e)?{captureContext:e}:ZM(e)?{captureContext:e}:e}function XM(e){return e instanceof Za||typeof e=="function"}const JM=["user","level","extra","contexts","tags","fingerprint","requestSession","propagationContext"];function ZM(e){return Object.keys(e).some(t=>JM.includes(t))}function nw(e,t){return Pn().captureException(e,YM(t))}function Z7(e,t){return Pn().captureEvent(e,t)}function e8(e,t){Ws().setContext(e,t)}function eD(){const e=Xt();return!!e&&e.getOptions().enabled!==!1&&!!e.getTransport()}function tD(e){Ws().addEventProcessor(e)}function B5(e){const t=Xt(),n=Ws(),r=Pn(),{release:i,environment:s=Z2}=t&&t.getOptions()||{},{userAgent:o}=en.navigator||{},a=kA({release:i,environment:s,user:r.getUser()||n.getUser(),...o&&{userAgent:o},...e}),l=n.getSession();return l&&l.status==="ok"&&ld(l,{status:"exited"}),t8(),n.setSession(a),r.setSession(a),a}function t8(){const e=Ws(),t=Pn(),n=t.getSession()||e.getSession();n&&CA(n),n8(),e.setSession(),t.setSession()}function n8(){const e=Ws(),t=Pn(),n=Xt(),r=t.getSession()||e.getSession();r&&n&&n.captureSession(r)}function z5(e=!1){if(e){t8();return}n8()}const nD="7";function rD(e){const t=e.protocol?`${e.protocol}:`:"",n=e.port?`:${e.port}`:"";return`${t}//${e.host}${n}${e.path?`/${e.path}`:""}/api/`}function iD(e){return`${rD(e)}${e.projectId}/envelope/`}function sD(e,t){const n={sentry_version:nD};return e.publicKey&&(n.sentry_key=e.publicKey),t&&(n.sentry_client=`${t.name}/${t.version}`),new URLSearchParams(n).toString()}function oD(e,t,n){return t||`${iD(e)}?${sD(e,n)}`}const $5=[];function aD(e){const t={};return e.forEach(n=>{const{name:r}=n,i=t[r];i&&!i.isDefaultInstance&&n.isDefaultInstance||(t[r]=n)}),Object.values(t)}function lD(e){const t=e.defaultIntegrations||[],n=e.integrations;t.forEach(o=>{o.isDefaultInstance=!0});let r;if(Array.isArray(n))r=[...t,...n];else if(typeof n=="function"){const o=n(t);r=Array.isArray(o)?o:[o]}else r=t;const i=aD(r),s=i.findIndex(o=>o.name==="Debug");if(s>-1){const[o]=i.splice(s,1);i.push(o)}return i}function cD(e,t){const n={};return t.forEach(r=>{r&&r8(e,r,n)}),n}function U5(e,t){for(const n of t)n&&n.afterAllSetup&&n.afterAllSetup(e)}function r8(e,t,n){if(n[t.name]){Mt&&Ge.log(`Integration skipped because it was already installed: ${t.name}`);return}if(n[t.name]=t,$5.indexOf(t.name)===-1&&typeof t.setupOnce=="function"&&(t.setupOnce(),$5.push(t.name)),t.setup&&typeof t.setup=="function"&&t.setup(e),typeof t.preprocessEvent=="function"){const r=t.preprocessEvent.bind(t);e.on("preprocessEvent",(i,s)=>r(i,s,e))}if(typeof t.processEvent=="function"){const r=t.processEvent.bind(t),i=Object.assign((s,o)=>r(s,o,e),{id:t.name});e.addEventProcessor(i)}Mt&&Ge.log(`Integration installed: ${t.name}`)}function uD(e,t,n){const r=[{type:"client_report"},{timestamp:Bh(),discarded_events:e}];return Rc(t?{dsn:t}:{},[r])}class Ds extends Error{constructor(t,n="warn"){super(t),this.message=t,this.logLevel=n}}const H5="Not capturing exception because it's already been captured.";class dD{constructor(t){if(this._options=t,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],t.dsn?this._dsn=cM(t.dsn):Mt&&Ge.warn("No DSN provided, client will not send events."),this._dsn){const i=oD(this._dsn,t.tunnel,t._metadata?t._metadata.sdk:void 0);this._transport=t.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...t.transportOptions,url:i})}const r=["enableTracing","tracesSampleRate","tracesSampler"].find(i=>i in t&&t[i]==null);r&&cl(()=>{console.warn(`[Sentry] Deprecation warning: \`${r}\` is set to undefined, which leads to tracing being enabled. In v9, a value of \`undefined\` will result in tracing being disabled.`)})}captureException(t,n,r){const i=Qi();if(w5(t))return Mt&&Ge.log(H5),i;const s={event_id:i,...n};return this._process(this.eventFromException(t,s).then(o=>this._captureEvent(o,s,r))),s.event_id}captureMessage(t,n,r,i){const s={event_id:Qi(),...r},o=Q2(t)?t:String(t),a=V2(t)?this.eventFromMessage(o,n,s):this.eventFromException(t,s);return this._process(a.then(l=>this._captureEvent(l,s,i))),s.event_id}captureEvent(t,n,r){const i=Qi();if(n&&n.originalException&&w5(n.originalException))return Mt&&Ge.log(H5),i;const s={event_id:i,...n},a=(t.sdkProcessingMetadata||{}).capturedSpanScope;return this._process(this._captureEvent(t,s,a||r)),s.event_id}captureSession(t){typeof t.release!="string"?Mt&&Ge.warn("Discarded session because of missing or non-string release"):(this.sendSession(t),ld(t,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(t){const n=this._transport;return n?(this.emit("flush"),this._isClientDoneProcessing(t).then(r=>n.flush(t).then(i=>r&&i))):Zo(!0)}close(t){return this.flush(t).then(n=>(this.getOptions().enabled=!1,this.emit("close"),n))}getEventProcessors(){return this._eventProcessors}addEventProcessor(t){this._eventProcessors.push(t)}init(){(this._isEnabled()||this._options.integrations.some(({name:t})=>t.startsWith("Spotlight")))&&this._setupIntegrations()}getIntegrationByName(t){return this._integrations[t]}addIntegration(t){const n=this._integrations[t.name];r8(this,t,this._integrations),n||U5(this,[t])}sendEvent(t,n={}){this.emit("beforeSendEvent",t,n);let r=SM(t,this._dsn,this._options._metadata,this._options.tunnel);for(const s of n.attachments||[])r=mM(r,xM(s));const i=this.sendEnvelope(r);i&&i.then(s=>this.emit("afterSendEvent",t,s),null)}sendSession(t){const n=_M(t,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(n)}recordDroppedEvent(t,n,r){if(this._options.sendClientReports){const i=typeof r=="number"?r:1,s=`${t}:${n}`;Mt&&Ge.log(`Recording outcome: "${s}"${i>1?` (${i} times)`:""}`),this._outcomes[s]=(this._outcomes[s]||0)+i}}on(t,n){const r=this._hooks[t]=this._hooks[t]||[];return r.push(n),()=>{const i=r.indexOf(n);i>-1&&r.splice(i,1)}}emit(t,...n){const r=this._hooks[t];r&&r.forEach(i=>i(...n))}sendEnvelope(t){return this.emit("beforeEnvelope",t),this._isEnabled()&&this._transport?this._transport.send(t).then(null,n=>(Mt&&Ge.error("Error while sending envelope:",n),n)):(Mt&&Ge.error("Transport disabled"),Zo({}))}_setupIntegrations(){const{integrations:t}=this._options;this._integrations=cD(this,t),U5(this,t)}_updateSessionFromEvent(t,n){let r=n.level==="fatal",i=!1;const s=n.exception&&n.exception.values;if(s){i=!0;for(const l of s){const u=l.mechanism;if(u&&u.handled===!1){r=!0;break}}}const o=t.status==="ok";(o&&t.errors===0||o&&r)&&(ld(t,{...r&&{status:"crashed"},errors:t.errors||Number(i||r)}),this.captureSession(t))}_isClientDoneProcessing(t){return new us(n=>{let r=0;const i=1,s=setInterval(()=>{this._numProcessing==0?(clearInterval(s),n(!0)):(r+=i,t&&r>=t&&(clearInterval(s),n(!1)))},i)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(t,n,r=Pn(),i=Ws()){const s=this.getOptions(),o=Object.keys(this._integrations);return!n.integrations&&o.length>0&&(n.integrations=o),this.emit("preprocessEvent",t,n),t.type||i.setLastEventId(t.event_id||n.event_id),J7(s,t,n,r,this,i).then(a=>{if(a===null)return a;a.contexts={trace:DA(r),...a.contexts};const l=W7(this,r);return a.sdkProcessingMetadata={dynamicSamplingContext:l,...a.sdkProcessingMetadata},a})}_captureEvent(t,n={},r){return this._processEvent(t,n,r).then(i=>i.event_id,i=>{Mt&&(i instanceof Ds&&i.logLevel==="log"?Ge.log(i.message):Ge.warn(i))})}_processEvent(t,n,r){const i=this.getOptions(),{sampleRate:s}=i,o=s8(t),a=i8(t),l=t.type||"error",u=`before send for type \`${l}\``,f=typeof s>"u"?void 0:t0(s);if(a&&typeof f=="number"&&Math.random()>f)return this.recordDroppedEvent("sample_rate","error",t),Zg(new Ds(`Discarding event because it's not included in the random sample (sampling rate = ${s})`,"log"));const h=l==="replay_event"?"replay":l,y=(t.sdkProcessingMetadata||{}).capturedSpanIsolationScope;return this._prepareEvent(t,n,r,y).then(b=>{if(b===null)throw this.recordDroppedEvent("event_processor",h,t),new Ds("An event processor returned `null`, will not send event.","log");if(n.data&&n.data.__sentry__===!0)return b;const E=hD(this,i,b,n);return fD(E,u)}).then(b=>{if(b===null){if(this.recordDroppedEvent("before_send",h,t),o){const P=1+(t.spans||[]).length;this.recordDroppedEvent("before_send","span",P)}throw new Ds(`${u} returned \`null\`, will not send event.`,"log")}const _=r&&r.getSession();if(!o&&_&&this._updateSessionFromEvent(_,b),o){const C=b.sdkProcessingMetadata&&b.sdkProcessingMetadata.spanCountBeforeProcessing||0,P=b.spans?b.spans.length:0,O=C-P;O>0&&this.recordDroppedEvent("before_send","span",O)}const E=b.transaction_info;if(o&&E&&b.transaction!==t.transaction){const C="custom";b.transaction_info={...E,source:C}}return this.sendEvent(b,n),b}).then(null,b=>{throw b instanceof Ds?b:(this.captureException(b,{data:{__sentry__:!0},originalException:b}),new Ds(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${b}`))})}_process(t){this._numProcessing++,t.then(n=>(this._numProcessing--,n),n=>(this._numProcessing--,n))}_clearOutcomes(){const t=this._outcomes;return this._outcomes={},Object.entries(t).map(([n,r])=>{const[i,s]=n.split(":");return{reason:i,category:s,quantity:r}})}_flushOutcomes(){Mt&&Ge.log("Flushing outcomes...");const t=this._clearOutcomes();if(t.length===0){Mt&&Ge.log("No outcomes to send");return}if(!this._dsn){Mt&&Ge.log("No dsn provided, will not send outcomes");return}Mt&&Ge.log("Sending outcomes:",t);const n=uD(t,this._options.tunnel&&zh(this._dsn));this.sendEnvelope(n)}}function fD(e,t){const n=`${t} must return \`null\` or a valid event.`;if(q0(e))return e.then(r=>{if(!od(r)&&r!==null)throw new Ds(n);return r},r=>{throw new Ds(`${t} rejected with ${r}`)});if(!od(e)&&e!==null)throw new Ds(n);return e}function hD(e,t,n,r){const{beforeSend:i,beforeSendTransaction:s,beforeSendSpan:o}=t;if(i8(n)&&i)return i(n,r);if(s8(n)){if(n.spans&&o){const a=[];for(const l of n.spans){const u=o(l);u?a.push(u):(B7(),e.recordDroppedEvent("before_send","span"))}n.spans=a}if(s){if(n.spans){const a=n.spans.length;n.sdkProcessingMetadata={...n.sdkProcessingMetadata,spanCountBeforeProcessing:a}}return s(n,r)}}return n}function i8(e){return e.type===void 0}function s8(e){return e.type==="transaction"}function pD(e,t){t.debug===!0&&(Mt?Ge.enable():cl(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})),Pn().update(t.initialScope);const r=new e(t);return mD(r),r.init(),r}function mD(e){Pn().setClient(e)}function gD(e){const t=[];function n(){return e===void 0||t.length<e}function r(o){return t.splice(t.indexOf(o),1)[0]||Promise.resolve(void 0)}function i(o){if(!n())return Zg(new Ds("Not adding Promise because buffer limit was reached."));const a=o();return t.indexOf(a)===-1&&t.push(a),a.then(()=>r(a)).then(null,()=>r(a).then(null,()=>{})),a}function s(o){return new us((a,l)=>{let u=t.length;if(!u)return a(!0);const f=setTimeout(()=>{o&&o>0&&a(!1)},o);t.forEach(h=>{Zo(h).then(()=>{--u||(clearTimeout(f),a(!0))},l)})})}return{$:t,add:i,drain:s}}const yD=60*1e3;function vD(e,t=Date.now()){const n=parseInt(`${e}`,10);if(!isNaN(n))return n*1e3;const r=Date.parse(`${e}`);return isNaN(r)?yD:r-t}function xD(e,t){return e[t]||e.all||0}function o8(e,t,n=Date.now()){return xD(e,t)>n}function a8(e,{statusCode:t,headers:n},r=Date.now()){const i={...e},s=n&&n["x-sentry-rate-limits"],o=n&&n["retry-after"];if(s)for(const a of s.trim().split(",")){const[l,u,,,f]=a.split(":",5),h=parseInt(l,10),g=(isNaN(h)?60:h)*1e3;if(!u)i.all=r+g;else for(const y of u.split(";"))y==="metric_bucket"?(!f||f.split(";").includes("custom"))&&(i[y]=r+g):i[y]=r+g}else o?i.all=r+vD(o,r):t===429&&(i.all=r+60*1e3);return i}const bD=64;function wD(e,t,n=gD(e.bufferSize||bD)){let r={};const i=o=>n.drain(o);function s(o){const a=[];if(I5(o,(h,g)=>{const y=P5(g);if(o8(r,y)){const b=W5(h,g);e.recordDroppedEvent("ratelimit_backoff",y,b)}else a.push(h)}),a.length===0)return Zo({});const l=Rc(o[0],a),u=h=>{I5(l,(g,y)=>{const b=W5(g,y);e.recordDroppedEvent(h,P5(y),b)})},f=()=>t({body:gM(l)}).then(h=>(h.statusCode!==void 0&&(h.statusCode<200||h.statusCode>=300)&&Mt&&Ge.warn(`Sentry responded with status code ${h.statusCode} to sent event.`),r=a8(r,h),h),h=>{throw u("network_error"),h});return n.add(f).then(h=>h,h=>{if(h instanceof Ds)return Mt&&Ge.error("Skipped sending event because buffer is full."),u("queue_overflow"),Zo({});throw h})}return{send:s,flush:i}}function W5(e,t){if(!(t!=="event"&&t!=="transaction"))return Array.isArray(e)?e[1]:void 0}function _D(e,t){const n=t&&t.getDsn(),r=t&&t.getOptions().tunnel;return ED(e,n)||SD(e,r)}function SD(e,t){return t?q5(e)===q5(t):!1}function ED(e,t){return t?e.includes(t.host):!1}function q5(e){return e[e.length-1]==="/"?e.slice(0,-1):e}function l8(e,t,n=[t],r="npm"){const i=e._metadata||{};i.sdk||(i.sdk={name:`sentry.javascript.${t}`,packages:n.map(s=>({name:`${r}:@sentry/${s}`,version:dc})),version:dc}),e._metadata=i}function c8(e={}){const t=Xt();if(!eD()||!t)return{};const n=Nc(),r=Sd(n);if(r.getTraceData)return r.getTraceData(e);const i=Pn(),s=e.span||jr(),o=s?YA(s):kD(i),a=s?Pc(s):W7(t,i),l=HA(a);return O7.test(o)?{"sentry-trace":o,baggage:l}:(Ge.warn("Invalid sentry-trace data. Cannot generate trace data"),{})}function kD(e){const{traceId:t,sampled:n,spanId:r}=e.getPropagationContext();return A7(t,r,n)}const CD=100;function tl(e,t){const n=Xt(),r=Ws();if(!n)return;const{beforeBreadcrumb:i=null,maxBreadcrumbs:s=CD}=n.getOptions();if(s<=0)return;const a={timestamp:Bh(),...e},l=i?cl(()=>i(a,t)):a;l!==null&&(n.emit&&n.emit("beforeAddBreadcrumb",l,t),r.addBreadcrumb(l,s))}let Q5;const TD="FunctionToString",V5=new WeakMap,jD=()=>({name:TD,setupOnce(){Q5=Function.prototype.toString;try{Function.prototype.toString=function(...e){const t=K2(this),n=V5.has(Xt())&&t!==void 0?t:this;return Q5.apply(n,e)}}catch{}},setup(e){V5.set(e,!0)}}),ND=jD,ID=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,"undefined is not an object (evaluating 'a.L')",`can't redefine non-configurable property "solana"`,"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler",/^Non-Error promise rejection captured with value: Object Not Found Matching Id:\d+, MethodName:simulateEvent, ParamCount:\d+$/],PD="InboundFilters",RD=(e={})=>({name:PD,processEvent(t,n,r){const i=r.getOptions(),s=AD(e,i);return MD(t,s)?null:t}}),OD=RD;function AD(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...e.disableErrorDefaults?[]:ID],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[]],ignoreInternal:e.ignoreInternal!==void 0?e.ignoreInternal:!0}}function MD(e,t){return t.ignoreInternal&&$D(e)?(Mt&&Ge.warn(`Event dropped due to being internal Sentry Error.
Event: ${Da(e)}`),!0):DD(e,t.ignoreErrors)?(Mt&&Ge.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${Da(e)}`),!0):HD(e)?(Mt&&Ge.warn(`Event dropped due to not having an error message, error type or stacktrace.
Event: ${Da(e)}`),!0):LD(e,t.ignoreTransactions)?(Mt&&Ge.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${Da(e)}`),!0):FD(e,t.denyUrls)?(Mt&&Ge.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${Da(e)}.
Url: ${n0(e)}`),!0):BD(e,t.allowUrls)?!1:(Mt&&Ge.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${Da(e)}.
Url: ${n0(e)}`),!0)}function DD(e,t){return e.type||!t||!t.length?!1:zD(e).some(n=>Va(n,t))}function LD(e,t){if(e.type!=="transaction"||!t||!t.length)return!1;const n=e.transaction;return n?Va(n,t):!1}function FD(e,t){if(!t||!t.length)return!1;const n=n0(e);return n?Va(n,t):!1}function BD(e,t){if(!t||!t.length)return!0;const n=n0(e);return n?Va(n,t):!0}function zD(e){const t=[];e.message&&t.push(e.message);let n;try{n=e.exception.values[e.exception.values.length-1]}catch{}return n&&n.value&&(t.push(n.value),n.type&&t.push(`${n.type}: ${n.value}`)),t}function $D(e){try{return e.exception.values[0].type==="SentryError"}catch{}return!1}function UD(e=[]){for(let t=e.length-1;t>=0;t--){const n=e[t];if(n&&n.filename!=="<anonymous>"&&n.filename!=="[native code]")return n.filename||null}return null}function n0(e){try{let t;try{t=e.exception.values[0].stacktrace.frames}catch{}return t?UD(t):null}catch{return Mt&&Ge.error(`Cannot extract url for event ${Da(e)}`),null}}function HD(e){return e.type||!e.exception||!e.exception.values||e.exception.values.length===0?!1:!e.message&&!e.exception.values.some(t=>t.stacktrace||t.type&&t.type!=="Error"||t.value)}function WD(e,t,n=250,r,i,s,o){if(!s.exception||!s.exception.values||!o||!Xo(o.originalException,Error))return;const a=s.exception.values.length>0?s.exception.values[s.exception.values.length-1]:void 0;a&&(s.exception.values=qD(ub(e,t,i,o.originalException,r,s.exception.values,a,0),n))}function ub(e,t,n,r,i,s,o,a){if(s.length>=n+1)return s;let l=[...s];if(Xo(r[i],Error)){K5(o,a);const u=e(t,r[i]),f=l.length;G5(u,i,f,a),l=ub(e,t,n,r[i],i,[u,...l],u,f)}return Array.isArray(r.errors)&&r.errors.forEach((u,f)=>{if(Xo(u,Error)){K5(o,a);const h=e(t,u),g=l.length;G5(h,`errors[${f}]`,g,a),l=ub(e,t,n,u,i,[h,...l],h,g)}}),l}function K5(e,t){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,...e.type==="AggregateError"&&{is_exception_group:!0},exception_id:t}}function G5(e,t,n,r){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,type:"chained",source:t,exception_id:n,parent_id:r}}function qD(e,t){return e.map(n=>(n.value&&(n.value=td(n.value,t)),n))}function pc(e){if(!e)return{};const t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};const n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:n,hash:r,relative:t[5]+n+r}}function QD(e){const t="console";ul(t,e),dl(t,VD)}function VD(){"console"in en&&Zx.forEach(function(e){e in en.console&&ji(en.console,e,function(t){return Jg[e]=t,function(...n){ps("console",{args:n,level:e});const i=Jg[e];i&&i.apply(en.console,n)}})})}function u8(e){return e==="warn"?"warning":["fatal","error","warning","log","info","debug"].includes(e)?e:"log"}const KD="Dedupe",GD=()=>{let e;return{name:KD,processEvent(t){if(t.type)return t;try{if(XD(t,e))return Mt&&Ge.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return e=t}}},YD=GD;function XD(e,t){return t?!!(JD(e,t)||ZD(e,t)):!1}function JD(e,t){const n=e.message,r=t.message;return!(!n&&!r||n&&!r||!n&&r||n!==r||!f8(e,t)||!d8(e,t))}function ZD(e,t){const n=Y5(t),r=Y5(e);return!(!n||!r||n.type!==r.type||n.value!==r.value||!f8(e,t)||!d8(e,t))}function d8(e,t){let n=m5(e),r=m5(t);if(!n&&!r)return!0;if(n&&!r||!n&&r||(n=n,r=r,r.length!==n.length))return!1;for(let i=0;i<r.length;i++){const s=r[i],o=n[i];if(s.filename!==o.filename||s.lineno!==o.lineno||s.colno!==o.colno||s.function!==o.function)return!1}return!0}function f8(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;n=n,r=r;try{return n.join("")===r.join("")}catch{return!1}}function Y5(e){return e.exception&&e.exception.values&&e.exception.values[0]}function eL(e,t,n,r,i="auto.http.browser"){if(!e.fetchData)return;const s=el()&&t(e.fetchData.url);if(e.endTimestamp&&s){const g=e.fetchData.__span;if(!g)return;const y=r[g];y&&(rL(y,e),delete r[g]);return}const{method:o,url:a}=e.fetchData,l=nL(a),u=l?pc(l).host:void 0,f=!!jr(),h=s&&f?$h({name:`${o} ${a}`,attributes:{url:a,type:"fetch","http.method":o,"http.url":l,"server.address":u,[Tr]:i,[_c]:"http.client"}}):new Ed;if(e.fetchData.__span=h.spanContext().spanId,r[h.spanContext().spanId]=h,n(e.fetchData.url)){const g=e.args[0],y=e.args[1]||{},b=tL(g,y,el()&&f?h:void 0);b&&(e.args[1]=y,y.headers=b)}return h}function tL(e,t,n){const r=c8({span:n}),i=r["sentry-trace"],s=r.baggage;if(!i)return;const o=t.headers||(iL(e)?e.headers:void 0);if(o)if(sL(o)){const a=new Headers(o);if(a.set("sentry-trace",i),s){const l=a.get("baggage");if(l){const u=Rm(l);a.set("baggage",u?`${u},${s}`:s)}else a.set("baggage",s)}return a}else if(Array.isArray(o)){const a=[...o.filter(l=>!(Array.isArray(l)&&l[0]==="sentry-trace")).map(l=>{if(Array.isArray(l)&&l[0]==="baggage"&&typeof l[1]=="string"){const[u,f,...h]=l;return[u,Rm(f),...h]}else return l}),["sentry-trace",i]];return s&&a.push(["baggage",s]),a}else{const a="baggage"in o?o.baggage:void 0;let l=[];return Array.isArray(a)?l=a.map(u=>typeof u=="string"?Rm(u):u).filter(u=>u===""):a&&l.push(Rm(a)),s&&l.push(s),{...o,"sentry-trace":i,baggage:l.length>0?l.join(","):void 0}}else return{...r}}function nL(e){try{return new URL(e).href}catch{return}}function rL(e,t){if(t.response){P7(e,t.response.status);const n=t.response&&t.response.headers&&t.response.headers.get("content-length");if(n){const r=parseInt(n);r>0&&e.setAttribute("http.response_content_length",r)}}else t.error&&e.setStatus({code:Er,message:"internal_error"});e.end()}function Rm(e){return e.split(",").filter(t=>!t.split("=")[0].startsWith(J2)).join(",")}function iL(e){return typeof Request<"u"&&Xo(e,Request)}function sL(e){return typeof Headers<"u"&&Xo(e,Headers)}function h8(e){if(e!==void 0)return e>=400&&e<500?"warning":e>=500?"error":void 0}const db=en;function p8(){if(!("fetch"in db))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}function fb(e){return e&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function oL(){if(typeof EdgeRuntime=="string")return!0;if(!p8())return!1;if(fb(db.fetch))return!0;let e=!1;const t=db.document;if(t&&typeof t.createElement=="function")try{const n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(e=fb(n.contentWindow.fetch)),t.head.removeChild(n)}catch(n){ll&&Ge.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return e}function m8(e,t){const n="fetch";ul(n,e),dl(n,()=>g8(void 0,t))}function aL(e){const t="fetch-body-resolved";ul(t,e),dl(t,()=>g8(cL))}function g8(e,t=!1){t&&!oL()||ji(en,"fetch",function(n){return function(...r){const i=new Error,{method:s,url:o}=uL(r),a={args:r,fetchData:{method:s,url:o},startTimestamp:ai()*1e3,virtualError:i};return e||ps("fetch",{...a}),n.apply(en,r).then(async l=>(e?e(l):ps("fetch",{...a,endTimestamp:ai()*1e3,response:l}),l),l=>{throw ps("fetch",{...a,endTimestamp:ai()*1e3,error:l}),q2(l)&&l.stack===void 0&&(l.stack=i.stack,gs(l,"framesToPop",1)),l})}})}async function lL(e,t){if(e&&e.body){const n=e.body,r=n.getReader(),i=setTimeout(()=>{n.cancel().then(null,()=>{})},90*1e3);let s=!0;for(;s;){let o;try{o=setTimeout(()=>{n.cancel().then(null,()=>{})},5e3);const{done:a}=await r.read();clearTimeout(o),a&&(t(),s=!1)}catch{s=!1}finally{clearTimeout(o)}}clearTimeout(i),r.releaseLock(),n.cancel().then(null,()=>{})}}function cL(e){let t;try{t=e.clone()}catch{return}lL(t,()=>{ps("fetch-body-resolved",{endTimestamp:ai()*1e3,response:e})})}function hb(e,t){return!!e&&typeof e=="object"&&!!e[t]}function X5(e){return typeof e=="string"?e:e?hb(e,"url")?e.url:e.toString?e.toString():"":""}function uL(e){if(e.length===0)return{method:"GET",url:""};if(e.length===2){const[n,r]=e;return{url:X5(n),method:hb(r,"method")?String(r.method).toUpperCase():"GET"}}const t=e[0];return{url:X5(t),method:hb(t,"method")?String(t.method).toUpperCase():"GET"}}function dL(){return typeof __SENTRY_BROWSER_BUNDLE__<"u"&&!!__SENTRY_BROWSER_BUNDLE__}function fL(){return"npm"}function hL(){return!dL()&&Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]"}function J5(){return typeof window<"u"&&(!hL()||pL())}function pL(){const e=en.process;return!!e&&e.type==="renderer"}const Om=en;function mL(){const e=Om.chrome,t=e&&e.app&&e.app.runtime,n="history"in Om&&!!Om.history.pushState&&!!Om.history.replaceState;return!t&&n}function gL(e,t){return e??t()}function Dg(e){let t,n=e[0],r=1;for(;r<e.length;){const i=e[r],s=e[r+1];if(r+=2,(i==="optionalAccess"||i==="optionalCall")&&n==null)return;i==="access"||i==="optionalAccess"?(t=n,n=s(n)):(i==="call"||i==="optionalCall")&&(n=s((...o)=>n.call(t,...o)),t=void 0)}return n}const Nt=en;let pb=0;function y8(){return pb>0}function yL(){pb++,setTimeout(()=>{pb--})}function ud(e,t={}){function n(i){return typeof i=="function"}if(!n(e))return e;try{const i=e.__sentry_wrapped__;if(i)return typeof i=="function"?i:e;if(K2(e))return e}catch{return e}const r=function(...i){try{const s=i.map(o=>ud(o,t));return e.apply(this,s)}catch(s){throw yL(),Y2(o=>{o.addEventProcessor(a=>(t.mechanism&&(tb(a,void 0),ad(a,t.mechanism)),a.extra={...a.extra,arguments:i},a)),nw(s)}),s}};try{for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}catch{}k7(r,e),gs(e,"__sentry_wrapped__",r);try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get(){return e.name}})}catch{}return r}const lo=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function rw(e,t){const n=iw(e,t),r={type:_L(t),value:SL(t)};return n.length&&(r.stacktrace={frames:n}),r.type===void 0&&r.value===""&&(r.value="Unrecoverable error caught"),r}function vL(e,t,n,r){const i=Xt(),s=i&&i.getOptions().normalizeDepth,o=jL(t),a={__serialized__:Q7(t,s)};if(o)return{exception:{values:[rw(e,o)]},extra:a};const l={exception:{values:[{type:W0(t)?t.constructor.name:r?"UnhandledRejection":"Error",value:CL(t,{isUnhandledRejection:r})}]},extra:a};if(n){const u=iw(e,n);u.length&&(l.exception.values[0].stacktrace={frames:u})}return l}function Sv(e,t){return{exception:{values:[rw(e,t)]}}}function iw(e,t){const n=t.stacktrace||t.stack||"",r=bL(t),i=wL(t);try{return e(n,r,i)}catch{}return[]}const xL=/Minified React error #\d+;/i;function bL(e){return e&&xL.test(e.message)?1:0}function wL(e){return typeof e.framesToPop=="number"?e.framesToPop:0}function v8(e){return typeof WebAssembly<"u"&&typeof WebAssembly.Exception<"u"?e instanceof WebAssembly.Exception:!1}function _L(e){const t=e&&e.name;return!t&&v8(e)?e.message&&Array.isArray(e.message)&&e.message.length==2?e.message[0]:"WebAssembly.Exception":t}function SL(e){const t=e&&e.message;return t?t.error&&typeof t.error.message=="string"?t.error.message:v8(e)&&Array.isArray(e.message)&&e.message.length==2?e.message[1]:t:"No error message"}function EL(e,t,n,r){const i=n&&n.syntheticException||void 0,s=sw(e,t,i,r);return ad(s),s.level="error",n&&n.event_id&&(s.event_id=n.event_id),Zo(s)}function kL(e,t,n="info",r,i){const s=r&&r.syntheticException||void 0,o=mb(e,t,s,i);return o.level=n,r&&r.event_id&&(o.event_id=r.event_id),Zo(o)}function sw(e,t,n,r,i){let s;if(w7(t)&&t.error)return Sv(e,t.error);if(y5(t)||hA(t)){const o=t;if("stack"in t)s=Sv(e,t);else{const a=o.name||(y5(o)?"DOMError":"DOMException"),l=o.message?`${a}: ${o.message}`:a;s=mb(e,l,n,r),tb(s,l)}return"code"in o&&(s.tags={...s.tags,"DOMException.code":`${o.code}`}),s}return q2(t)?Sv(e,t):od(t)||W0(t)?(s=vL(e,t,n,i),ad(s,{synthetic:!0}),s):(s=mb(e,t,n,r),tb(s,`${t}`),ad(s,{synthetic:!0}),s)}function mb(e,t,n,r){const i={};if(r&&n){const s=iw(e,n);s.length&&(i.exception={values:[{value:t,stacktrace:{frames:s}}]}),ad(i,{synthetic:!0})}if(Q2(t)){const{__sentry_template_string__:s,__sentry_template_values__:o}=t;return i.logentry={message:s,params:o},i}return i.message=t,i}function CL(e,{isUnhandledRejection:t}){const n=wA(e),r=t?"promise rejection":"exception";return w7(e)?`Event \`ErrorEvent\` captured as ${r} with message \`${e.message}\``:W0(e)?`Event \`${TL(e)}\` (type=${e.type}) captured as ${r}`:`Object captured as ${r} with keys: ${n}`}function TL(e){try{const t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch{}}function jL(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)){const n=e[t];if(n instanceof Error)return n}}function NL(e,{metadata:t,tunnel:n,dsn:r}){const i={event_id:e.event_id,sent_at:new Date().toISOString(),...t&&t.sdk&&{sdk:{name:t.sdk.name,version:t.sdk.version}},...!!n&&!!r&&{dsn:zh(r)}},s=IL(e);return Rc(i,[s])}function IL(e){return[{type:"user_report"},e]}class PL extends dD{constructor(t){const n={parentSpanIsAlwaysRootSpan:!0,...t},r=Nt.SENTRY_SDK_SOURCE||fL();l8(n,"browser",["browser"],r),super(n),n.sendClientReports&&Nt.document&&Nt.document.addEventListener("visibilitychange",()=>{Nt.document.visibilityState==="hidden"&&this._flushOutcomes()})}eventFromException(t,n){return EL(this._options.stackParser,t,n,this._options.attachStacktrace)}eventFromMessage(t,n="info",r){return kL(this._options.stackParser,t,n,r,this._options.attachStacktrace)}captureUserFeedback(t){if(!this._isEnabled()){lo&&Ge.warn("SDK not enabled, will not capture user feedback.");return}const n=NL(t,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this.sendEnvelope(n)}_prepareEvent(t,n,r){return t.platform=t.platform||"javascript",super._prepareEvent(t,n,r)}}const ow=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,RL=(e,t)=>e>t[1]?"poor":e>t[0]?"needs-improvement":"good",kd=(e,t,n,r)=>{let i,s;return o=>{t.value>=0&&(o||r)&&(s=t.value-(i||0),(s||i===void 0)&&(i=t.value,t.delta=s,t.rating=RL(t.value,n),e(t)))}},gt=en,OL=()=>`v4-${Date.now()}-${Math.floor(Math.random()*(9e12-1))+1e12}`,Uh=(e=!0)=>{const t=gt.performance&&gt.performance.getEntriesByType&&gt.performance.getEntriesByType("navigation")[0];if(!e||t&&t.responseStart>0&&t.responseStart<performance.now())return t},Hh=()=>{const e=Uh();return e&&e.activationStart||0},Cd=(e,t)=>{const n=Uh();let r="navigate";return n&&(gt.document&&gt.document.prerendering||Hh()>0?r="prerender":gt.document&&gt.document.wasDiscarded?r="restore":n.type&&(r=n.type.replace(/_/g,"-"))),{name:e,value:typeof t>"u"?-1:t,rating:"good",delta:0,entries:[],id:OL(),navigationType:r}},Oc=(e,t,n)=>{try{if(PerformanceObserver.supportedEntryTypes.includes(e)){const r=new PerformanceObserver(i=>{Promise.resolve().then(()=>{t(i.getEntries())})});return r.observe(Object.assign({type:e,buffered:!0},n||{})),r}}catch{}},Td=e=>{const t=n=>{(n.type==="pagehide"||gt.document&&gt.document.visibilityState==="hidden")&&e(n)};gt.document&&(addEventListener("visibilitychange",t,!0),addEventListener("pagehide",t,!0))},G0=e=>{let t=!1;return()=>{t||(e(),t=!0)}};let Yf=-1;const AL=()=>gt.document.visibilityState==="hidden"&&!gt.document.prerendering?0:1/0,r0=e=>{gt.document.visibilityState==="hidden"&&Yf>-1&&(Yf=e.type==="visibilitychange"?e.timeStamp:0,DL())},ML=()=>{addEventListener("visibilitychange",r0,!0),addEventListener("prerenderingchange",r0,!0)},DL=()=>{removeEventListener("visibilitychange",r0,!0),removeEventListener("prerenderingchange",r0,!0)},Y0=()=>(gt.document&&Yf<0&&(Yf=AL(),ML()),{get firstHiddenTime(){return Yf}}),Wh=e=>{gt.document&&gt.document.prerendering?addEventListener("prerenderingchange",()=>e(),!0):e()},LL=[1800,3e3],FL=(e,t={})=>{Wh(()=>{const n=Y0(),r=Cd("FCP");let i;const o=Oc("paint",a=>{a.forEach(l=>{l.name==="first-contentful-paint"&&(o.disconnect(),l.startTime<n.firstHiddenTime&&(r.value=Math.max(l.startTime-Hh(),0),r.entries.push(l),i(!0)))})});o&&(i=kd(e,r,LL,t.reportAllChanges))})},BL=[.1,.25],zL=(e,t={})=>{FL(G0(()=>{const n=Cd("CLS",0);let r,i=0,s=[];const o=l=>{l.forEach(u=>{if(!u.hadRecentInput){const f=s[0],h=s[s.length-1];i&&f&&h&&u.startTime-h.startTime<1e3&&u.startTime-f.startTime<5e3?(i+=u.value,s.push(u)):(i=u.value,s=[u])}}),i>n.value&&(n.value=i,n.entries=s,r())},a=Oc("layout-shift",o);a&&(r=kd(e,n,BL,t.reportAllChanges),Td(()=>{o(a.takeRecords()),r(!0)}),setTimeout(r,0))}))},$L=[100,300],UL=(e,t={})=>{Wh(()=>{const n=Y0(),r=Cd("FID");let i;const s=l=>{l.startTime<n.firstHiddenTime&&(r.value=l.processingStart-l.startTime,r.entries.push(l),i(!0))},o=l=>{l.forEach(s)},a=Oc("first-input",o);i=kd(e,r,$L,t.reportAllChanges),a&&Td(G0(()=>{o(a.takeRecords()),a.disconnect()}))})};let x8=0,Ev=1/0,Am=0;const HL=e=>{e.forEach(t=>{t.interactionId&&(Ev=Math.min(Ev,t.interactionId),Am=Math.max(Am,t.interactionId),x8=Am?(Am-Ev)/7+1:0)})};let gb;const WL=()=>gb?x8:performance.interactionCount||0,qL=()=>{"interactionCount"in performance||gb||(gb=Oc("event",HL,{type:"event",buffered:!0,durationThreshold:0}))},Bo=[],kv=new Map,QL=40;let VL=0;const KL=()=>WL()-VL,GL=()=>{const e=Math.min(Bo.length-1,Math.floor(KL()/50));return Bo[e]},Cv=10,YL=[],XL=e=>{if(YL.forEach(r=>r(e)),!(e.interactionId||e.entryType==="first-input"))return;const t=Bo[Bo.length-1],n=kv.get(e.interactionId);if(n||Bo.length<Cv||t&&e.duration>t.latency){if(n)e.duration>n.latency?(n.entries=[e],n.latency=e.duration):e.duration===n.latency&&e.startTime===(n.entries[0]&&n.entries[0].startTime)&&n.entries.push(e);else{const r={id:e.interactionId,latency:e.duration,entries:[e]};kv.set(r.id,r),Bo.push(r)}Bo.sort((r,i)=>i.latency-r.latency),Bo.length>Cv&&Bo.splice(Cv).forEach(r=>kv.delete(r.id))}},b8=e=>{const t=gt.requestIdleCallback||gt.setTimeout;let n=-1;return e=G0(e),gt.document&&gt.document.visibilityState==="hidden"?e():(n=t(e),Td(e)),n},JL=[200,500],ZL=(e,t={})=>{"PerformanceEventTiming"in gt&&"interactionId"in PerformanceEventTiming.prototype&&Wh(()=>{qL();const n=Cd("INP");let r;const i=o=>{b8(()=>{o.forEach(XL);const a=GL();a&&a.latency!==n.value&&(n.value=a.latency,n.entries=a.entries,r())})},s=Oc("event",i,{durationThreshold:t.durationThreshold!=null?t.durationThreshold:QL});r=kd(e,n,JL,t.reportAllChanges),s&&(s.observe({type:"first-input",buffered:!0}),Td(()=>{i(s.takeRecords()),r(!0)}))})},eF=[2500,4e3],Z5={},tF=(e,t={})=>{Wh(()=>{const n=Y0(),r=Cd("LCP");let i;const s=a=>{t.reportAllChanges||(a=a.slice(-1)),a.forEach(l=>{l.startTime<n.firstHiddenTime&&(r.value=Math.max(l.startTime-Hh(),0),r.entries=[l],i())})},o=Oc("largest-contentful-paint",s);if(o){i=kd(e,r,eF,t.reportAllChanges);const a=G0(()=>{Z5[r.id]||(s(o.takeRecords()),o.disconnect(),Z5[r.id]=!0,i(!0))});["keydown","click"].forEach(l=>{gt.document&&addEventListener(l,()=>b8(a),{once:!0,capture:!0})}),Td(a)}})},nF=[800,1800],yb=e=>{gt.document&&gt.document.prerendering?Wh(()=>yb(e)):gt.document&&gt.document.readyState!=="complete"?addEventListener("load",()=>yb(e),!0):setTimeout(e,0)},rF=(e,t={})=>{const n=Cd("TTFB"),r=kd(e,n,nF,t.reportAllChanges);yb(()=>{const i=Uh();i&&(n.value=Math.max(i.responseStart-Hh(),0),n.entries=[i],r(!0))})},Xf={},i0={};let w8,_8,S8,E8,k8;function aw(e,t=!1){return qh("cls",e,sF,w8,t)}function C8(e,t=!1){return qh("lcp",e,aF,S8,t)}function T8(e){return qh("fid",e,oF,_8)}function iF(e){return qh("ttfb",e,lF,E8)}function j8(e){return qh("inp",e,cF,k8)}function dd(e,t){return N8(e,t),i0[e]||(uF(e),i0[e]=!0),I8(e,t)}function jd(e,t){const n=Xf[e];if(!(!n||!n.length))for(const r of n)try{r(t)}catch(i){ow&&Ge.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${Yo(r)}
Error:`,i)}}function sF(){return zL(e=>{jd("cls",{metric:e}),w8=e},{reportAllChanges:!0})}function oF(){return UL(e=>{jd("fid",{metric:e}),_8=e})}function aF(){return tF(e=>{jd("lcp",{metric:e}),S8=e},{reportAllChanges:!0})}function lF(){return rF(e=>{jd("ttfb",{metric:e}),E8=e})}function cF(){return ZL(e=>{jd("inp",{metric:e}),k8=e})}function qh(e,t,n,r,i=!1){N8(e,t);let s;return i0[e]||(s=n(),i0[e]=!0),r&&t({metric:r}),I8(e,t,i?s:void 0)}function uF(e){const t={};e==="event"&&(t.durationThreshold=0),Oc(e,n=>{jd(e,{entries:n})},t)}function N8(e,t){Xf[e]=Xf[e]||[],Xf[e].push(t)}function I8(e,t,n){return()=>{n&&n();const r=Xf[e];if(!r)return;const i=r.indexOf(t);i!==-1&&r.splice(i,1)}}function dF(e){return"duration"in e}function Tv(e){return typeof e=="number"&&isFinite(e)}function ea(e,t,n,{...r}){const i=fn(e).start_timestamp;return i&&i>t&&typeof e.updateStartTime=="function"&&e.updateStartTime(t),G7(e,()=>{const s=$h({startTime:t,...r});return s&&s.end(n),s})}function P8(e){const t=Xt();if(!t)return;const{name:n,transaction:r,attributes:i,startTime:s}=e,{release:o,environment:a}=t.getOptions(),l=t.getIntegrationByName("Replay"),u=l&&l.getReplayId(),f=Pn(),h=f.getUser(),g=h!==void 0?h.email||h.id||h.ip_address:void 0;let y;try{y=f.getScopeData().contexts.profile.profile_id}catch{}const b={release:o,environment:a,user:g||void 0,profile_id:y||void 0,replay_id:u||void 0,transaction:r,"user_agent.original":gt.navigator&&gt.navigator.userAgent,...i};return $h({name:n,attributes:b,startTime:s,experimental:{standalone:!0}})}function lw(){return gt&&gt.addEventListener&&gt.performance}function Jn(e){return e/1e3}function R8(e){let t="unknown",n="unknown",r="";for(const i of e){if(i==="/"){[t,n]=e.split("/");break}if(!isNaN(Number(i))){t=r==="h"?"http":r,n=e.split(r)[1];break}r+=i}return r===e&&(t=r),{name:t,version:n}}function fF(){let e=0,t,n;if(!pF())return;let r=!1;function i(){r||(r=!0,n&&hF(e,t,n),s())}const s=aw(({metric:o})=>{const a=o.entries[o.entries.length-1];a&&(e=o.value,t=a)},!0);Td(()=>{i()}),setTimeout(()=>{const o=Xt();if(!o)return;const a=o.on("startNavigationSpan",()=>{i(),a&&a()}),l=jr(),u=l&&Rr(l),f=u&&fn(u);f&&f.op==="pageload"&&(n=u.spanContext().spanId)},0)}function hF(e,t,n){ow&&Ge.log(`Sending CLS span (${e})`);const r=Jn((ci||0)+(t&&t.startTime||0)),i=Pn().getScopeData().transactionName,s=t?Jo(t.sources[0]&&t.sources[0].node):"Layout shift",o=pr({[Tr]:"auto.http.browser.cls",[_c]:"ui.webvital.cls",[X2]:t&&t.duration||0,"sentry.pageload.span_id":n}),a=P8({name:s,transaction:i,attributes:o,startTime:r});a&&(a.addEvent("cls",{[V0]:"",[K0]:e}),a.end(r))}function pF(){try{return PerformanceObserver.supportedEntryTypes.includes("layout-shift")}catch{return!1}}const mF=2147483647;let e4=0,Pr={},Ei,Jf;function gF({recordClsStandaloneSpans:e}){const t=lw();if(t&&ci){t.mark&&gt.performance.mark("sentry-tracing-init");const n=_F(),r=wF(),i=SF(),s=e?fF():bF();return()=>{n(),r(),i(),s&&s()}}return()=>{}}function yF(){dd("longtask",({entries:e})=>{const t=jr();if(!t)return;const{op:n,start_timestamp:r}=fn(t);for(const i of e){const s=Jn(ci+i.startTime),o=Jn(i.duration);n==="navigation"&&r&&s<r||ea(t,s,s+o,{name:"Main UI thread blocked",op:"ui.long-task",attributes:{[Tr]:"auto.ui.browser.metrics"}})}})}function vF(){new PerformanceObserver(t=>{const n=jr();if(n)for(const r of t.getEntries()){if(!r.scripts[0])continue;const i=Jn(ci+r.startTime),{start_timestamp:s,op:o}=fn(n);if(o==="navigation"&&s&&i<s)continue;const a=Jn(r.duration),l={[Tr]:"auto.ui.browser.metrics"},u=r.scripts[0],{invoker:f,invokerType:h,sourceURL:g,sourceFunctionName:y,sourceCharPosition:b}=u;l["browser.script.invoker"]=f,l["browser.script.invoker_type"]=h,g&&(l["code.filepath"]=g),y&&(l["code.function"]=y),b!==-1&&(l["browser.script.source_char_position"]=b),ea(n,i,i+a,{name:"Main UI thread blocked",op:"ui.long-animation-frame",attributes:l})}}).observe({type:"long-animation-frame",buffered:!0})}function xF(){dd("event",({entries:e})=>{const t=jr();if(t){for(const n of e)if(n.name==="click"){const r=Jn(ci+n.startTime),i=Jn(n.duration),s={name:Jo(n.target),op:`ui.interaction.${n.name}`,startTime:r,attributes:{[Tr]:"auto.ui.browser.metrics"}},o=E7(n.target);o&&(s.attributes["ui.component_name"]=o),ea(t,r,r+i,s)}}})}function bF(){return aw(({metric:e})=>{const t=e.entries[e.entries.length-1];t&&(Pr.cls={value:e.value,unit:""},Jf=t)},!0)}function wF(){return C8(({metric:e})=>{const t=e.entries[e.entries.length-1];t&&(Pr.lcp={value:e.value,unit:"millisecond"},Ei=t)},!0)}function _F(){return T8(({metric:e})=>{const t=e.entries[e.entries.length-1];if(!t)return;const n=Jn(ci),r=Jn(t.startTime);Pr.fid={value:e.value,unit:"millisecond"},Pr["mark.fid"]={value:n+r,unit:"second"}})}function SF(){return iF(({metric:e})=>{e.entries[e.entries.length-1]&&(Pr.ttfb={value:e.value,unit:"millisecond"})})}function EF(e,t){const n=lw();if(!n||!n.getEntries||!ci)return;const r=Jn(ci),i=n.getEntries(),{op:s,start_timestamp:o}=fn(e);if(i.slice(e4).forEach(a=>{const l=Jn(a.startTime),u=Jn(Math.max(0,a.duration));if(!(s==="navigation"&&o&&r+l<o))switch(a.entryType){case"navigation":{CF(e,a,r);break}case"mark":case"paint":case"measure":{kF(e,a,l,u,r);const f=Y0(),h=a.startTime<f.firstHiddenTime;a.name==="first-paint"&&h&&(Pr.fp={value:a.startTime,unit:"millisecond"}),a.name==="first-contentful-paint"&&h&&(Pr.fcp={value:a.startTime,unit:"millisecond"});break}case"resource":{NF(e,a,a.name,l,u,r);break}}}),e4=Math.max(i.length-1,0),IF(e),s==="pageload"){RF(Pr);const a=Pr["mark.fid"];a&&Pr.fid&&(ea(e,a.value,a.value+Jn(Pr.fid.value),{name:"first input delay",op:"ui.action",attributes:{[Tr]:"auto.ui.browser.metrics"}}),delete Pr["mark.fid"]),(!("fcp"in Pr)||!t.recordClsOnPageloadSpan)&&delete Pr.cls,Object.entries(Pr).forEach(([l,u])=>{kM(l,u.value,u.unit)}),e.setAttribute("performance.timeOrigin",r),e.setAttribute("performance.activationStart",Hh()),PF(e)}Ei=void 0,Jf=void 0,Pr={}}function kF(e,t,n,r,i){const s=Uh(!1),o=Jn(s?s.requestStart:0),a=i+Math.max(n,o),l=i+n,u=l+r,f={[Tr]:"auto.resource.browser.metrics"};return a!==l&&(f["sentry.browser.measure_happened_before_request"]=!0,f["sentry.browser.measure_start_time"]=a),ea(e,a,u,{name:t.name,op:t.entryType,attributes:f}),a}function CF(e,t,n){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(r=>{Mm(e,t,r,n)}),Mm(e,t,"secureConnection",n,"TLS/SSL"),Mm(e,t,"fetch",n,"cache"),Mm(e,t,"domainLookup",n,"DNS"),jF(e,t,n)}function Mm(e,t,n,r,i=n){const s=TF(n),o=t[s],a=t[`${n}Start`];!a||!o||ea(e,r+Jn(a),r+Jn(o),{op:`browser.${i}`,name:t.name,attributes:{[Tr]:"auto.ui.browser.metrics"}})}function TF(e){return e==="secureConnection"?"connectEnd":e==="fetch"?"domainLookupStart":`${e}End`}function jF(e,t,n){const r=n+Jn(t.requestStart),i=n+Jn(t.responseEnd),s=n+Jn(t.responseStart);t.responseEnd&&(ea(e,r,i,{op:"browser.request",name:t.name,attributes:{[Tr]:"auto.ui.browser.metrics"}}),ea(e,s,i,{op:"browser.response",name:t.name,attributes:{[Tr]:"auto.ui.browser.metrics"}}))}function NF(e,t,n,r,i,s){if(t.initiatorType==="xmlhttprequest"||t.initiatorType==="fetch")return;const o=pc(n),a={[Tr]:"auto.resource.browser.metrics"};jv(a,t,"transferSize","http.response_transfer_size"),jv(a,t,"encodedBodySize","http.response_content_length"),jv(a,t,"decodedBodySize","http.decoded_response_content_length");const l=t.deliveryType;l!=null&&(a["http.response_delivery_type"]=l);const u=t.renderBlockingStatus;u&&(a["resource.render_blocking_status"]=u),o.protocol&&(a["url.scheme"]=o.protocol.split(":").pop()),o.host&&(a["server.address"]=o.host),a["url.same_origin"]=n.includes(gt.location.origin);const{name:f,version:h}=R8(t.nextHopProtocol);a["network.protocol.name"]=f,a["network.protocol.version"]=h;const g=s+r,y=g+i;ea(e,g,y,{name:n.replace(gt.location.origin,""),op:t.initiatorType?`resource.${t.initiatorType}`:"resource.other",attributes:a})}function IF(e){const t=gt.navigator;if(!t)return;const n=t.connection;n&&(n.effectiveType&&e.setAttribute("effectiveConnectionType",n.effectiveType),n.type&&e.setAttribute("connectionType",n.type),Tv(n.rtt)&&(Pr["connection.rtt"]={value:n.rtt,unit:"millisecond"})),Tv(t.deviceMemory)&&e.setAttribute("deviceMemory",`${t.deviceMemory} GB`),Tv(t.hardwareConcurrency)&&e.setAttribute("hardwareConcurrency",String(t.hardwareConcurrency))}function PF(e){Ei&&(Ei.element&&e.setAttribute("lcp.element",Jo(Ei.element)),Ei.id&&e.setAttribute("lcp.id",Ei.id),Ei.url&&e.setAttribute("lcp.url",Ei.url.trim().slice(0,200)),Ei.loadTime!=null&&e.setAttribute("lcp.loadTime",Ei.loadTime),Ei.renderTime!=null&&e.setAttribute("lcp.renderTime",Ei.renderTime),e.setAttribute("lcp.size",Ei.size)),Jf&&Jf.sources&&Jf.sources.forEach((t,n)=>e.setAttribute(`cls.source.${n+1}`,Jo(t.node)))}function jv(e,t,n,r){const i=t[n];i!=null&&i<mF&&(e[r]=i)}function RF(e){const t=Uh(!1);if(!t)return;const{responseStart:n,requestStart:r}=t;r<=n&&(e["ttfb.requestTime"]={value:n-r,unit:"millisecond"})}const OF=1e3;let t4,vb,xb;function O8(e){ul("dom",e),dl("dom",AF)}function AF(){if(!gt.document)return;const e=ps.bind(null,"dom"),t=n4(e,!0);gt.document.addEventListener("click",t,!1),gt.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(n=>{const i=gt[n],s=i&&i.prototype;!s||!s.hasOwnProperty||!s.hasOwnProperty("addEventListener")||(ji(s,"addEventListener",function(o){return function(a,l,u){if(a==="click"||a=="keypress")try{const f=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},h=f[a]=f[a]||{refCount:0};if(!h.handler){const g=n4(e);h.handler=g,o.call(this,a,g,u)}h.refCount++}catch{}return o.call(this,a,l,u)}}),ji(s,"removeEventListener",function(o){return function(a,l,u){if(a==="click"||a=="keypress")try{const f=this.__sentry_instrumentation_handlers__||{},h=f[a];h&&(h.refCount--,h.refCount<=0&&(o.call(this,a,h.handler,u),h.handler=void 0,delete f[a]),Object.keys(f).length===0&&delete this.__sentry_instrumentation_handlers__)}catch{}return o.call(this,a,l,u)}}))})}function MF(e){if(e.type!==vb)return!1;try{if(!e.target||e.target._sentryId!==xb)return!1}catch{}return!0}function DF(e,t){return e!=="keypress"?!1:!t||!t.tagName?!0:!(t.tagName==="INPUT"||t.tagName==="TEXTAREA"||t.isContentEditable)}function n4(e,t=!1){return n=>{if(!n||n._sentryCaptured)return;const r=LF(n);if(DF(n.type,r))return;gs(n,"_sentryCaptured",!0),r&&!r._sentryId&&gs(r,"_sentryId",Qi());const i=n.type==="keypress"?"input":n.type;MF(n)||(e({event:n,name:i,global:t}),vb=n.type,xb=r?r._sentryId:void 0),clearTimeout(t4),t4=gt.setTimeout(()=>{xb=void 0,vb=void 0},OF)}}function LF(e){try{return e.target}catch{return null}}let Dm;function X0(e){const t="history";ul(t,e),dl(t,FF)}function FF(){if(!mL())return;const e=gt.onpopstate;gt.onpopstate=function(...n){const r=gt.location.href,i=Dm;if(Dm=r,ps("history",{from:i,to:r}),e)try{return e.apply(this,n)}catch{}};function t(n){return function(...r){const i=r.length>2?r[2]:void 0;if(i){const s=Dm,o=String(i);Dm=o,ps("history",{from:s,to:o})}return n.apply(this,r)}}ji(gt.history,"pushState",t),ji(gt.history,"replaceState",t)}const Lg={};function A8(e){const t=Lg[e];if(t)return t;let n=gt[e];if(fb(n))return Lg[e]=n.bind(gt);const r=gt.document;if(r&&typeof r.createElement=="function")try{const i=r.createElement("iframe");i.hidden=!0,r.head.appendChild(i);const s=i.contentWindow;s&&s[e]&&(n=s[e]),r.head.removeChild(i)}catch(i){ow&&Ge.warn(`Could not create sandbox iframe for ${e} check, bailing to window.${e}: `,i)}return n&&(Lg[e]=n.bind(gt))}function r4(e){Lg[e]=void 0}function fd(...e){return A8("setTimeout")(...e)}const lc="__sentry_xhr_v3__";function M8(e){ul("xhr",e),dl("xhr",BF)}function BF(){if(!gt.XMLHttpRequest)return;const e=XMLHttpRequest.prototype;e.open=new Proxy(e.open,{apply(t,n,r){const i=new Error,s=ai()*1e3,o=Ko(r[0])?r[0].toUpperCase():void 0,a=zF(r[1]);if(!o||!a)return t.apply(n,r);n[lc]={method:o,url:a,request_headers:{}},o==="POST"&&a.match(/sentry_key/)&&(n.__sentry_own_request__=!0);const l=()=>{const u=n[lc];if(u&&n.readyState===4){try{u.status_code=n.status}catch{}const f={endTimestamp:ai()*1e3,startTimestamp:s,xhr:n,virtualError:i};ps("xhr",f)}};return"onreadystatechange"in n&&typeof n.onreadystatechange=="function"?n.onreadystatechange=new Proxy(n.onreadystatechange,{apply(u,f,h){return l(),u.apply(f,h)}}):n.addEventListener("readystatechange",l),n.setRequestHeader=new Proxy(n.setRequestHeader,{apply(u,f,h){const[g,y]=h,b=f[lc];return b&&Ko(g)&&Ko(y)&&(b.request_headers[g.toLowerCase()]=y),u.apply(f,h)}}),t.apply(n,r)}}),e.send=new Proxy(e.send,{apply(t,n,r){const i=n[lc];if(!i)return t.apply(n,r);r[0]!==void 0&&(i.body=r[0]);const s={startTimestamp:ai()*1e3,xhr:n};return ps("xhr",s),t.apply(n,r)}})}function zF(e){if(Ko(e))return e;try{return e.toString()}catch{}}const Nv=[],Fg=new Map;function $F(){if(lw()&&ci){const t=UF();return()=>{t()}}return()=>{}}const i4={click:"click",pointerdown:"click",pointerup:"click",mousedown:"click",mouseup:"click",touchstart:"click",touchend:"click",mouseover:"hover",mouseout:"hover",mouseenter:"hover",mouseleave:"hover",pointerover:"hover",pointerout:"hover",pointerenter:"hover",pointerleave:"hover",dragstart:"drag",dragend:"drag",drag:"drag",dragenter:"drag",dragleave:"drag",dragover:"drag",drop:"drag",keydown:"press",keyup:"press",keypress:"press",input:"press"};function UF(){return j8(({metric:e})=>{if(e.value==null)return;const t=e.entries.find(b=>b.duration===e.value&&i4[b.name]);if(!t)return;const{interactionId:n}=t,r=i4[t.name],i=Jn(ci+t.startTime),s=Jn(e.value),o=jr(),a=o?Rr(o):void 0,u=(n!=null?Fg.get(n):void 0)||a,f=u?fn(u).description:Pn().getScopeData().transactionName,h=Jo(t.target),g=pr({[Tr]:"auto.http.browser.inp",[_c]:`ui.interaction.${r}`,[X2]:t.duration}),y=P8({name:h,transaction:f,attributes:g,startTime:i});y&&(y.addEvent("inp",{[V0]:"millisecond",[K0]:e.value}),y.end(i+s))})}function HF(e){const t=({entries:n})=>{const r=jr(),i=r&&Rr(r);n.forEach(s=>{if(!dF(s)||!i)return;const o=s.interactionId;if(o!=null&&!Fg.has(o)){if(Nv.length>10){const a=Nv.shift();Fg.delete(a)}Nv.push(o),Fg.set(o,i)}})};dd("event",t),dd("first-input",t)}function WF(e,t=A8("fetch")){let n=0,r=0;function i(s){const o=s.body.length;n+=o,r++;const a={body:s.body,method:"POST",referrerPolicy:"origin",headers:e.headers,keepalive:n<=6e4&&r<15,...e.fetchOptions};if(!t)return r4("fetch"),Zg("No fetch implementation available");try{return t(e.url,a).then(l=>(n-=o,r--,{statusCode:l.status,headers:{"x-sentry-rate-limits":l.headers.get("X-Sentry-Rate-Limits"),"retry-after":l.headers.get("Retry-After")}}))}catch(l){return r4("fetch"),n-=o,r--,Zg(l)}}return wD(e,i)}const qF=30,QF=50;function bb(e,t,n,r){const i={filename:e,function:t==="<anonymous>"?wc:t,in_app:!0};return n!==void 0&&(i.lineno=n),r!==void 0&&(i.colno=r),i}const VF=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,KF=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,GF=/\((\S*)(?::(\d+))(?::(\d+))\)/,YF=e=>{const t=VF.exec(e);if(t){const[,r,i,s]=t;return bb(r,wc,+i,+s)}const n=KF.exec(e);if(n){if(n[2]&&n[2].indexOf("eval")===0){const o=GF.exec(n[2]);o&&(n[2]=o[1],n[3]=o[2],n[4]=o[3])}const[i,s]=D8(n[1]||wc,n[2]);return bb(s,i,n[3]?+n[3]:void 0,n[4]?+n[4]:void 0)}},XF=[qF,YF],JF=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,ZF=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,eB=e=>{const t=JF.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){const s=ZF.exec(t[3]);s&&(t[1]=t[1]||"eval",t[3]=s[1],t[4]=s[2],t[5]="")}let r=t[3],i=t[1]||wc;return[i,r]=D8(i,r),bb(r,i,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}},tB=[QF,eB],nB=[XF,tB],rB=y7(...nB),D8=(e,t)=>{const n=e.indexOf("safari-extension")!==-1,r=e.indexOf("safari-web-extension")!==-1;return n||r?[e.indexOf("@")!==-1?e.split("@")[0]:wc,n?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]},Lm=1024,iB="Breadcrumbs",sB=(e={})=>{const t={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e};return{name:iB,setup(n){t.console&&QD(cB(n)),t.dom&&O8(lB(n,t.dom)),t.xhr&&M8(uB(n)),t.fetch&&m8(dB(n)),t.history&&X0(fB(n)),t.sentry&&n.on("beforeSendEvent",aB(n))}}},oB=sB;function aB(e){return function(n){Xt()===e&&tl({category:`sentry.${n.type==="transaction"?"transaction":"event"}`,event_id:n.event_id,level:n.level,message:Da(n)},{event:n})}}function lB(e,t){return function(r){if(Xt()!==e)return;let i,s,o=typeof t=="object"?t.serializeAttribute:void 0,a=typeof t=="object"&&typeof t.maxStringLength=="number"?t.maxStringLength:void 0;a&&a>Lm&&(lo&&Ge.warn(`\`dom.maxStringLength\` cannot exceed ${Lm}, but a value of ${a} was configured. Sentry will use ${Lm} instead.`),a=Lm),typeof o=="string"&&(o=[o]);try{const u=r.event,f=hB(u)?u.target:u;i=Jo(f,{keyAttrs:o,maxStringLength:a}),s=E7(f)}catch{i="<unknown>"}if(i.length===0)return;const l={category:`ui.${r.name}`,message:i};s&&(l.data={"ui.component_name":s}),tl(l,{event:r.event,name:r.name,global:r.global})}}function cB(e){return function(n){if(Xt()!==e)return;const r={category:"console",data:{arguments:n.args,logger:"console"},level:u8(n.level),message:v5(n.args," ")};if(n.level==="assert")if(n.args[0]===!1)r.message=`Assertion failed: ${v5(n.args.slice(1)," ")||"console.assert"}`,r.data.arguments=n.args.slice(1);else return;tl(r,{input:n.args,level:n.level})}}function uB(e){return function(n){if(Xt()!==e)return;const{startTimestamp:r,endTimestamp:i}=n,s=n.xhr[lc];if(!r||!i||!s)return;const{method:o,url:a,status_code:l,body:u}=s,f={method:o,url:a,status_code:l},h={xhr:n.xhr,input:u,startTimestamp:r,endTimestamp:i},g=h8(l);tl({category:"xhr",data:f,type:"http",level:g},h)}}function dB(e){return function(n){if(Xt()!==e)return;const{startTimestamp:r,endTimestamp:i}=n;if(i&&!(n.fetchData.url.match(/sentry_key/)&&n.fetchData.method==="POST"))if(n.error){const s=n.fetchData,o={data:n.error,input:n.args,startTimestamp:r,endTimestamp:i};tl({category:"fetch",data:s,level:"error",type:"http"},o)}else{const s=n.response,o={...n.fetchData,status_code:s&&s.status},a={input:n.args,response:s,startTimestamp:r,endTimestamp:i},l=h8(o.status_code);tl({category:"fetch",data:o,type:"http",level:l},a)}}}function fB(e){return function(n){if(Xt()!==e)return;let r=n.from,i=n.to;const s=pc(Nt.location.href);let o=r?pc(r):void 0;const a=pc(i);(!o||!o.path)&&(o=s),s.protocol===a.protocol&&s.host===a.host&&(i=a.relative),s.protocol===o.protocol&&s.host===o.host&&(r=o.relative),tl({category:"navigation",data:{from:r,to:i}})}}function hB(e){return!!e&&!!e.target}const pB=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],mB="BrowserApiErrors",gB=(e={})=>{const t={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...e};return{name:mB,setupOnce(){t.setTimeout&&ji(Nt,"setTimeout",s4),t.setInterval&&ji(Nt,"setInterval",s4),t.requestAnimationFrame&&ji(Nt,"requestAnimationFrame",vB),t.XMLHttpRequest&&"XMLHttpRequest"in Nt&&ji(XMLHttpRequest.prototype,"send",xB);const n=t.eventTarget;n&&(Array.isArray(n)?n:pB).forEach(bB)}}},yB=gB;function s4(e){return function(...t){const n=t[0];return t[0]=ud(n,{mechanism:{data:{function:Yo(e)},handled:!1,type:"instrument"}}),e.apply(this,t)}}function vB(e){return function(t){return e.apply(this,[ud(t,{mechanism:{data:{function:"requestAnimationFrame",handler:Yo(e)},handled:!1,type:"instrument"}})])}}function xB(e){return function(...t){const n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(i=>{i in n&&typeof n[i]=="function"&&ji(n,i,function(s){const o={mechanism:{data:{function:i,handler:Yo(s)},handled:!1,type:"instrument"}},a=K2(s);return a&&(o.mechanism.data.handler=Yo(a)),ud(s,o)})}),e.apply(this,t)}}function bB(e){const n=Nt[e],r=n&&n.prototype;!r||!r.hasOwnProperty||!r.hasOwnProperty("addEventListener")||(ji(r,"addEventListener",function(i){return function(s,o,a){try{wB(o)&&(o.handleEvent=ud(o.handleEvent,{mechanism:{data:{function:"handleEvent",handler:Yo(o),target:e},handled:!1,type:"instrument"}}))}catch{}return i.apply(this,[s,ud(o,{mechanism:{data:{function:"addEventListener",handler:Yo(o),target:e},handled:!1,type:"instrument"}}),a])}}),ji(r,"removeEventListener",function(i){return function(s,o,a){try{const l=o.__sentry_wrapped__;l&&i.call(this,s,l,a)}catch{}return i.call(this,s,o,a)}}))}function wB(e){return typeof e.handleEvent=="function"}const _B=()=>({name:"BrowserSession",setupOnce(){if(typeof Nt.document>"u"){lo&&Ge.warn("Using the `browserSessionIntegration` in non-browser environments is not supported.");return}B5({ignoreDuration:!0}),z5(),X0(({from:e,to:t})=>{e!==void 0&&e!==t&&(B5({ignoreDuration:!0}),z5())})}}),SB="GlobalHandlers",EB=(e={})=>{const t={onerror:!0,onunhandledrejection:!0,...e};return{name:SB,setupOnce(){Error.stackTraceLimit=50},setup(n){t.onerror&&(CB(n),o4("onerror")),t.onunhandledrejection&&(TB(n),o4("onunhandledrejection"))}}},kB=EB;function CB(e){v7(t=>{const{stackParser:n,attachStacktrace:r}=L8();if(Xt()!==e||y8())return;const{msg:i,url:s,line:o,column:a,error:l}=t,u=IB(sw(n,l||i,void 0,r,!1),s,o,a);u.level="error",Z7(u,{originalException:l,mechanism:{handled:!1,type:"onerror"}})})}function TB(e){x7(t=>{const{stackParser:n,attachStacktrace:r}=L8();if(Xt()!==e||y8())return;const i=jB(t),s=V2(i)?NB(i):sw(n,i,void 0,r,!0);s.level="error",Z7(s,{originalException:i,mechanism:{handled:!1,type:"onunhandledrejection"}})})}function jB(e){if(V2(e))return e;try{if("reason"in e)return e.reason;if("detail"in e&&"reason"in e.detail)return e.detail.reason}catch{}return e}function NB(e){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(e)}`}]}}}function IB(e,t,n,r){const i=e.exception=e.exception||{},s=i.values=i.values||[],o=s[0]=s[0]||{},a=o.stacktrace=o.stacktrace||{},l=a.frames=a.frames||[],u=r,f=n,h=Ko(t)&&t.length>0?t:S7();return l.length===0&&l.push({colno:u,filename:h,function:wc,in_app:!0,lineno:f}),e}function o4(e){lo&&Ge.log(`Global Handler attached: ${e}`)}function L8(){const e=Xt();return e&&e.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}const PB=()=>({name:"HttpContext",preprocessEvent(e){if(!Nt.navigator&&!Nt.location&&!Nt.document)return;const t=e.request&&e.request.url||Nt.location&&Nt.location.href,{referrer:n}=Nt.document||{},{userAgent:r}=Nt.navigator||{},i={...e.request&&e.request.headers,...n&&{Referer:n},...r&&{"User-Agent":r}},s={...e.request,...t&&{url:t},headers:i};e.request=s}}),RB="cause",OB=5,AB="LinkedErrors",MB=(e={})=>{const t=e.limit||OB,n=e.key||RB;return{name:AB,preprocessEvent(r,i,s){const o=s.getOptions();WD(rw,o.stackParser,o.maxValueLength,n,t,r,i)}}},DB=MB;function LB(e){const t=[OD(),ND(),yB(),oB(),kB(),DB(),YD(),PB()];return e.autoSessionTracking!==!1&&t.push(_B()),t}function FB(e={}){const t={defaultIntegrations:LB(e),release:typeof __SENTRY_RELEASE__=="string"?__SENTRY_RELEASE__:Nt.SENTRY_RELEASE&&Nt.SENTRY_RELEASE.id?Nt.SENTRY_RELEASE.id:void 0,autoSessionTracking:!0,sendClientReports:!0};return e.defaultIntegrations==null&&delete e.defaultIntegrations,{...t,...e}}function BB(){const e=typeof Nt.window<"u"&&Nt;if(!e)return!1;const t=e.chrome?"chrome":"browser",n=e[t],r=n&&n.runtime&&n.runtime.id,i=Nt.location&&Nt.location.href||"",s=["chrome-extension:","moz-extension:","ms-browser-extension:","safari-web-extension:"],o=!!r&&Nt===Nt.top&&s.some(l=>i.startsWith(`${l}//`)),a=typeof e.nw<"u";return!!r&&!o&&!a}function zB(e={}){const t=FB(e);if(!t.skipBrowserExtensionCheck&&BB()){cl(()=>{console.error("[Sentry] You cannot run Sentry this way in a browser extension, check: https://docs.sentry.io/platforms/javascript/best-practices/browser-extensions/")});return}lo&&(p8()||Ge.warn("No Fetch API detected. The Sentry SDK requires a Fetch API compatible environment to send events. Please add a Fetch API polyfill."));const n={...t,stackParser:cA(t.stackParser||rB),integrations:lD(t),transport:t.transport||WF};return pD(PL,n)}const Nn=en,cw="sentryReplaySession",$B="replay_event",uw="Unable to send Replay",UB=3e5,HB=9e5,WB=5e3,qB=5500,QB=6e4,VB=5e3,KB=3,a4=15e4,Fm=5e3,GB=3e3,YB=300,dw=2e7,XB=4999,JB=15e3,l4=36e5;function wb(e,t){return e??t()}function gh(e){let t,n=e[0],r=1;for(;r<e.length;){const i=e[r],s=e[r+1];if(r+=2,(i==="optionalAccess"||i==="optionalCall")&&n==null)return;i==="access"||i==="optionalAccess"?(t=n,n=s(n)):(i==="call"||i==="optionalCall")&&(n=s((...o)=>n.call(t,...o)),t=void 0)}return n}var fr;(function(e){e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment"})(fr||(fr={}));function ZB(e){return e.nodeType===e.ELEMENT_NODE}function Zf(e){const t=gh([e,"optionalAccess",n=>n.host]);return gh([t,"optionalAccess",n=>n.shadowRoot])===e}function eh(e){return Object.prototype.toString.call(e)==="[object ShadowRoot]"}function ez(e){return e.includes(" background-clip: text;")&&!e.includes(" -webkit-background-clip: text;")&&(e=e.replace(/\sbackground-clip:\s*text;/g," -webkit-background-clip: text; background-clip: text;")),e}function tz(e){const{cssText:t}=e;if(t.split('"').length<3)return t;const n=["@import",`url(${JSON.stringify(e.href)})`];return e.layerName===""?n.push("layer"):e.layerName&&n.push(`layer(${e.layerName})`),e.supportsText&&n.push(`supports(${e.supportsText})`),e.media.length&&n.push(e.media.mediaText),n.join(" ")+";"}function s0(e){try{const t=e.rules||e.cssRules;return t?ez(Array.from(t,F8).join("")):null}catch{return null}}function nz(e){let t="";for(let n=0;n<e.style.length;n++){const r=e.style,i=r[n],s=r.getPropertyPriority(i);t+=`${i}:${r.getPropertyValue(i)}${s?" !important":""};`}return`${e.selectorText} { ${t} }`}function F8(e){let t;if(iz(e))try{t=s0(e.styleSheet)||tz(e)}catch{}else if(sz(e)){let n=e.cssText;const r=e.selectorText.includes(":"),i=typeof e.style.all=="string"&&e.style.all;if(i&&(n=nz(e)),r&&(n=rz(n)),r||i)return n}return t||e.cssText}function rz(e){const t=/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm;return e.replace(t,"$1\\$2")}function iz(e){return"styleSheet"in e}function sz(e){return"selectorText"in e}class B8{constructor(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}getId(t){if(!t)return-1;const n=gh([this,"access",r=>r.getMeta,"call",r=>r(t),"optionalAccess",r=>r.id]);return wb(n,()=>-1)}getNode(t){return this.idNodeMap.get(t)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(t){return this.nodeMetaMap.get(t)||null}removeNodeFromMap(t){const n=this.getId(t);this.idNodeMap.delete(n),t.childNodes&&t.childNodes.forEach(r=>this.removeNodeFromMap(r))}has(t){return this.idNodeMap.has(t)}hasNode(t){return this.nodeMetaMap.has(t)}add(t,n){const r=n.id;this.idNodeMap.set(r,t),this.nodeMetaMap.set(t,n)}replace(t,n){const r=this.getNode(t);if(r){const i=this.nodeMetaMap.get(r);i&&this.nodeMetaMap.set(n,i)}this.idNodeMap.set(t,n)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}}function oz(){return new B8}function J0({maskInputOptions:e,tagName:t,type:n}){return t==="OPTION"&&(t="SELECT"),!!(e[t.toLowerCase()]||n&&e[n]||n==="password"||t==="INPUT"&&!n&&e.text)}function yh({isMasked:e,element:t,value:n,maskInputFn:r}){let i=n||"";return e?(r&&(i=r(i,t)),"*".repeat(i.length)):i}function hd(e){return e.toLowerCase()}function _b(e){return e.toUpperCase()}const c4="__rrweb_original__";function az(e){const t=e.getContext("2d");if(!t)return!0;const n=50;for(let r=0;r<e.width;r+=n)for(let i=0;i<e.height;i+=n){const s=t.getImageData,o=c4 in s?s[c4]:s;if(new Uint32Array(o.call(t,r,i,Math.min(n,e.width-r),Math.min(n,e.height-i)).data.buffer).some(l=>l!==0))return!1}return!0}function fw(e){const t=e.type;return e.hasAttribute("data-rr-is-password")?"password":t?hd(t):null}function o0(e,t,n){return t==="INPUT"&&(n==="radio"||n==="checkbox")?e.getAttribute("value")||"":e.value}function z8(e,t){let n;try{n=new URL(e,wb(t,()=>window.location.href))}catch{return null}const r=/\.([0-9a-z]+)(?:$)/i,i=n.pathname.match(r);return wb(gh([i,"optionalAccess",s=>s[1]]),()=>null)}const u4={};function $8(e){const t=u4[e];if(t)return t;const n=window.document;let r=window[e];if(n&&typeof n.createElement=="function")try{const i=n.createElement("iframe");i.hidden=!0,n.head.appendChild(i);const s=i.contentWindow;s&&s[e]&&(r=s[e]),n.head.removeChild(i)}catch{}return u4[e]=r.bind(window)}function Sb(...e){return $8("setTimeout")(...e)}function U8(...e){return $8("clearTimeout")(...e)}function H8(e){try{return e.contentDocument}catch{}}let lz=1;const cz=new RegExp("[^a-z0-9-_:]"),vh=-2;function hw(){return lz++}function uz(e){if(e instanceof HTMLFormElement)return"form";const t=hd(e.tagName);return cz.test(t)?"div":t}function dz(e){let t="";return e.indexOf("//")>-1?t=e.split("/").slice(0,3).join("/"):t=e.split("/")[0],t=t.split("?")[0],t}let wu,d4;const fz=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,hz=/^(?:[a-z+]+:)?\/\//i,pz=/^www\..*/i,mz=/^(data:)([^,]*),(.*)/i;function a0(e,t){return(e||"").replace(fz,(n,r,i,s,o,a)=>{const l=i||o||a,u=r||s||"";if(!l)return n;if(hz.test(l)||pz.test(l))return`url(${u}${l}${u})`;if(mz.test(l))return`url(${u}${l}${u})`;if(l[0]==="/")return`url(${u}${dz(t)+l}${u})`;const f=t.split("/"),h=l.split("/");f.pop();for(const g of h)g!=="."&&(g===".."?f.pop():f.push(g));return`url(${u}${f.join("/")}${u})`})}const gz=/^[^ \t\n\r\u000c]+/,yz=/^[, \t\n\r\u000c]+/;function vz(e,t){if(t.trim()==="")return t;let n=0;function r(s){let o;const a=s.exec(t.substring(n));return a?(o=a[0],n+=o.length,o):""}const i=[];for(;r(yz),!(n>=t.length);){let s=r(gz);if(s.slice(-1)===",")s=Ku(e,s.substring(0,s.length-1)),i.push(s);else{let o="";s=Ku(e,s);let a=!1;for(;;){const l=t.charAt(n);if(l===""){i.push((s+o).trim());break}else if(a)l===")"&&(a=!1);else if(l===","){n+=1,i.push((s+o).trim());break}else l==="("&&(a=!0);o+=l,n+=1}}}return i.join(", ")}const f4=new WeakMap;function Ku(e,t){return!t||t.trim()===""?t:Z0(e,t)}function xz(e){return!!(e.tagName==="svg"||e.ownerSVGElement)}function Z0(e,t){let n=f4.get(e);if(n||(n=e.createElement("a"),f4.set(e,n)),!t)t="";else if(t.startsWith("blob:")||t.startsWith("data:"))return t;return n.setAttribute("href",t),n.href}function W8(e,t,n,r,i,s){return r&&(n==="src"||n==="href"&&!(t==="use"&&r[0]==="#")||n==="xlink:href"&&r[0]!=="#"||n==="background"&&(t==="table"||t==="td"||t==="th")?Ku(e,r):n==="srcset"?vz(e,r):n==="style"?a0(r,Z0(e)):t==="object"&&n==="data"?Ku(e,r):typeof s=="function"?s(n,r,i):r)}function q8(e,t,n){return(e==="video"||e==="audio")&&t==="autoplay"}function bz(e,t,n,r){try{if(r&&e.matches(r))return!1;if(typeof t=="string"){if(e.classList.contains(t))return!0}else for(let i=e.classList.length;i--;){const s=e.classList[i];if(t.test(s))return!0}if(n)return e.matches(n)}catch{}return!1}function wz(e,t){for(let n=e.classList.length;n--;){const r=e.classList[n];if(t.test(r))return!0}return!1}function cc(e,t,n=1/0,r=0){return!e||e.nodeType!==e.ELEMENT_NODE||r>n?-1:t(e)?r:cc(e.parentNode,t,n,r+1)}function Gu(e,t){return n=>{const r=n;if(r===null)return!1;try{if(e){if(typeof e=="string"){if(r.matches(`.${e}`))return!0}else if(wz(r,e))return!0}return!!(t&&r.matches(t))}catch{return!1}}}function pd(e,t,n,r,i,s){try{const o=e.nodeType===e.ELEMENT_NODE?e:e.parentElement;if(o===null)return!1;if(o.tagName==="INPUT"){const u=o.getAttribute("autocomplete");if(["current-password","new-password","cc-number","cc-exp","cc-exp-month","cc-exp-year","cc-csc"].includes(u))return!0}let a=-1,l=-1;if(s){if(l=cc(o,Gu(r,i)),l<0)return!0;a=cc(o,Gu(t,n),l>=0?l:1/0)}else{if(a=cc(o,Gu(t,n)),a<0)return!1;l=cc(o,Gu(r,i),a>=0?a:1/0)}return a>=0?l>=0?a<=l:!0:l>=0?!1:!!s}catch{}return!!s}function _z(e,t,n){const r=e.contentWindow;if(!r)return;let i=!1,s;try{s=r.document.readyState}catch{return}if(s!=="complete"){const a=Sb(()=>{i||(t(),i=!0)},n);e.addEventListener("load",()=>{U8(a),i=!0,t()});return}const o="about:blank";if(r.location.href!==o||e.src===o||e.src==="")return Sb(t,0),e.addEventListener("load",t);e.addEventListener("load",t)}function Sz(e,t,n){let r=!1,i;try{i=e.sheet}catch{return}if(i)return;const s=Sb(()=>{r||(t(),r=!0)},n);e.addEventListener("load",()=>{U8(s),r=!0,t()})}function Ez(e,t){const{doc:n,mirror:r,blockClass:i,blockSelector:s,unblockSelector:o,maskAllText:a,maskAttributeFn:l,maskTextClass:u,unmaskTextClass:f,maskTextSelector:h,unmaskTextSelector:g,inlineStylesheet:y,maskInputOptions:b={},maskTextFn:_,maskInputFn:E,dataURLOptions:C={},inlineImages:P,recordCanvas:O,keepIframeSrcFn:z,newlyAddedElement:B=!1}=t,j=kz(n,r);switch(e.nodeType){case e.DOCUMENT_NODE:return e.compatMode!=="CSS1Compat"?{type:fr.Document,childNodes:[],compatMode:e.compatMode}:{type:fr.Document,childNodes:[]};case e.DOCUMENT_TYPE_NODE:return{type:fr.DocumentType,name:e.name,publicId:e.publicId,systemId:e.systemId,rootId:j};case e.ELEMENT_NODE:return Tz(e,{doc:n,blockClass:i,blockSelector:s,unblockSelector:o,inlineStylesheet:y,maskAttributeFn:l,maskInputOptions:b,maskInputFn:E,dataURLOptions:C,inlineImages:P,recordCanvas:O,keepIframeSrcFn:z,newlyAddedElement:B,rootId:j,maskTextClass:u,unmaskTextClass:f,maskTextSelector:h,unmaskTextSelector:g});case e.TEXT_NODE:return Cz(e,{doc:n,maskAllText:a,maskTextClass:u,unmaskTextClass:f,maskTextSelector:h,unmaskTextSelector:g,maskTextFn:_,maskInputOptions:b,maskInputFn:E,rootId:j});case e.CDATA_SECTION_NODE:return{type:fr.CDATA,textContent:"",rootId:j};case e.COMMENT_NODE:return{type:fr.Comment,textContent:e.textContent||"",rootId:j};default:return!1}}function kz(e,t){if(!t.hasNode(e))return;const n=t.getId(e);return n===1?void 0:n}function Cz(e,t){const{maskAllText:n,maskTextClass:r,unmaskTextClass:i,maskTextSelector:s,unmaskTextSelector:o,maskTextFn:a,maskInputOptions:l,maskInputFn:u,rootId:f}=t,h=e.parentNode&&e.parentNode.tagName;let g=e.textContent;const y=h==="STYLE"?!0:void 0,b=h==="SCRIPT"?!0:void 0,_=h==="TEXTAREA"?!0:void 0;if(y&&g){try{e.nextSibling||e.previousSibling||gh([e,"access",C=>C.parentNode,"access",C=>C.sheet,"optionalAccess",C=>C.cssRules])&&(g=s0(e.parentNode.sheet))}catch(C){console.warn(`Cannot get CSS styles from text's parentNode. Error: ${C}`,e)}g=a0(g,Z0(t.doc))}b&&(g="SCRIPT_PLACEHOLDER");const E=pd(e,r,s,i,o,n);if(!y&&!b&&!_&&g&&E&&(g=a?a(g,e.parentElement):g.replace(/[\S]/g,"*")),_&&g&&(l.textarea||E)&&(g=u?u(g,e.parentNode):g.replace(/[\S]/g,"*")),h==="OPTION"&&g){const C=J0({type:null,tagName:h,maskInputOptions:l});g=yh({isMasked:pd(e,r,s,i,o,C),element:e,value:g,maskInputFn:u})}return{type:fr.Text,textContent:g||"",isStyle:y,rootId:f}}function Tz(e,t){const{doc:n,blockClass:r,blockSelector:i,unblockSelector:s,inlineStylesheet:o,maskInputOptions:a={},maskAttributeFn:l,maskInputFn:u,dataURLOptions:f={},inlineImages:h,recordCanvas:g,keepIframeSrcFn:y,newlyAddedElement:b=!1,rootId:_,maskTextClass:E,unmaskTextClass:C,maskTextSelector:P,unmaskTextSelector:O}=t,z=bz(e,r,i,s),B=uz(e);let j={};const M=e.attributes.length;for(let $=0;$<M;$++){const D=e.attributes[$];D.name&&!q8(B,D.name,D.value)&&(j[D.name]=W8(n,B,hd(D.name),D.value,e,l))}if(B==="link"&&o){const $=Array.from(n.styleSheets).find(ee=>ee.href===e.href);let D=null;$&&(D=s0($)),D&&(j.rel=null,j.href=null,j.crossorigin=null,j._cssText=a0(D,$.href))}if(B==="style"&&e.sheet&&!(e.innerText||e.textContent||"").trim().length){const $=s0(e.sheet);$&&(j._cssText=a0($,Z0(n)))}if(B==="input"||B==="textarea"||B==="select"||B==="option"){const $=e,D=fw($),ee=o0($,_b(B),D),X=$.checked;if(D!=="submit"&&D!=="button"&&ee){const re=pd($,E,P,C,O,J0({type:D,tagName:_b(B),maskInputOptions:a}));j.value=yh({isMasked:re,element:$,value:ee,maskInputFn:u})}X&&(j.checked=X)}if(B==="option"&&(e.selected&&!a.select?j.selected=!0:delete j.selected),B==="canvas"&&g){if(e.__context==="2d")az(e)||(j.rr_dataURL=e.toDataURL(f.type,f.quality));else if(!("__context"in e)){const $=e.toDataURL(f.type,f.quality),D=n.createElement("canvas");D.width=e.width,D.height=e.height;const ee=D.toDataURL(f.type,f.quality);$!==ee&&(j.rr_dataURL=$)}}if(B==="img"&&h){wu||(wu=n.createElement("canvas"),d4=wu.getContext("2d"));const $=e,D=$.currentSrc||$.getAttribute("src")||"<unknown-src>",ee=$.crossOrigin,X=()=>{$.removeEventListener("load",X);try{wu.width=$.naturalWidth,wu.height=$.naturalHeight,d4.drawImage($,0,0),j.rr_dataURL=wu.toDataURL(f.type,f.quality)}catch(re){if($.crossOrigin!=="anonymous"){$.crossOrigin="anonymous",$.complete&&$.naturalWidth!==0?X():$.addEventListener("load",X);return}else console.warn(`Cannot inline img src=${D}! Error: ${re}`)}$.crossOrigin==="anonymous"&&(ee?j.crossOrigin=ee:$.removeAttribute("crossorigin"))};$.complete&&$.naturalWidth!==0?X():$.addEventListener("load",X)}if((B==="audio"||B==="video")&&(j.rr_mediaState=e.paused?"paused":"played",j.rr_mediaCurrentTime=e.currentTime),b||(e.scrollLeft&&(j.rr_scrollLeft=e.scrollLeft),e.scrollTop&&(j.rr_scrollTop=e.scrollTop)),z){const{width:$,height:D}=e.getBoundingClientRect();j={class:j.class,rr_width:`${$}px`,rr_height:`${D}px`}}B==="iframe"&&!y(j.src)&&(!z&&!H8(e)&&(j.rr_src=j.src),delete j.src);let U;try{customElements.get(B)&&(U=!0)}catch{}return{type:fr.Element,tagName:B,attributes:j,childNodes:[],isSVG:xz(e)||void 0,needBlock:z,rootId:_,isCustom:U}}function Cn(e){return e==null?"":e.toLowerCase()}function jz(e,t){if(t.comment&&e.type===fr.Comment)return!0;if(e.type===fr.Element){if(t.script&&(e.tagName==="script"||e.tagName==="link"&&(e.attributes.rel==="preload"||e.attributes.rel==="modulepreload")||e.tagName==="link"&&e.attributes.rel==="prefetch"&&typeof e.attributes.href=="string"&&z8(e.attributes.href)==="js"))return!0;if(t.headFavicon&&(e.tagName==="link"&&e.attributes.rel==="shortcut icon"||e.tagName==="meta"&&(Cn(e.attributes.name).match(/^msapplication-tile(image|color)$/)||Cn(e.attributes.name)==="application-name"||Cn(e.attributes.rel)==="icon"||Cn(e.attributes.rel)==="apple-touch-icon"||Cn(e.attributes.rel)==="shortcut icon")))return!0;if(e.tagName==="meta"){if(t.headMetaDescKeywords&&Cn(e.attributes.name).match(/^description|keywords$/))return!0;if(t.headMetaSocial&&(Cn(e.attributes.property).match(/^(og|twitter|fb):/)||Cn(e.attributes.name).match(/^(og|twitter):/)||Cn(e.attributes.name)==="pinterest"))return!0;if(t.headMetaRobots&&(Cn(e.attributes.name)==="robots"||Cn(e.attributes.name)==="googlebot"||Cn(e.attributes.name)==="bingbot"))return!0;if(t.headMetaHttpEquiv&&e.attributes["http-equiv"]!==void 0)return!0;if(t.headMetaAuthorship&&(Cn(e.attributes.name)==="author"||Cn(e.attributes.name)==="generator"||Cn(e.attributes.name)==="framework"||Cn(e.attributes.name)==="publisher"||Cn(e.attributes.name)==="progid"||Cn(e.attributes.property).match(/^article:/)||Cn(e.attributes.property).match(/^product:/)))return!0;if(t.headMetaVerification&&(Cn(e.attributes.name)==="google-site-verification"||Cn(e.attributes.name)==="yandex-verification"||Cn(e.attributes.name)==="csrf-token"||Cn(e.attributes.name)==="p:domain_verify"||Cn(e.attributes.name)==="verify-v1"||Cn(e.attributes.name)==="verification"||Cn(e.attributes.name)==="shopify-checkout-api-token"))return!0}}return!1}function Yu(e,t){const{doc:n,mirror:r,blockClass:i,blockSelector:s,unblockSelector:o,maskAllText:a,maskTextClass:l,unmaskTextClass:u,maskTextSelector:f,unmaskTextSelector:h,skipChild:g=!1,inlineStylesheet:y=!0,maskInputOptions:b={},maskAttributeFn:_,maskTextFn:E,maskInputFn:C,slimDOMOptions:P,dataURLOptions:O={},inlineImages:z=!1,recordCanvas:B=!1,onSerialize:j,onIframeLoad:M,iframeLoadTimeout:U=5e3,onStylesheetLoad:$,stylesheetLoadTimeout:D=5e3,keepIframeSrcFn:ee=()=>!1,newlyAddedElement:X=!1}=t;let{preserveWhiteSpace:re=!0}=t;const Q=Ez(e,{doc:n,mirror:r,blockClass:i,blockSelector:s,maskAllText:a,unblockSelector:o,maskTextClass:l,unmaskTextClass:u,maskTextSelector:f,unmaskTextSelector:h,inlineStylesheet:y,maskInputOptions:b,maskAttributeFn:_,maskTextFn:E,maskInputFn:C,dataURLOptions:O,inlineImages:z,recordCanvas:B,keepIframeSrcFn:ee,newlyAddedElement:X});if(!Q)return console.warn(e,"not serialized"),null;let q;r.hasNode(e)?q=r.getId(e):jz(Q,P)||!re&&Q.type===fr.Text&&!Q.isStyle&&!Q.textContent.replace(/^\s+|\s+$/gm,"").length?q=vh:q=hw();const V=Object.assign(Q,{id:q});if(r.add(e,V),q===vh)return null;j&&j(e);let ne=!g;if(V.type===fr.Element){ne=ne&&!V.needBlock,delete V.needBlock;const Z=e.shadowRoot;Z&&eh(Z)&&(V.isShadowHost=!0)}if((V.type===fr.Document||V.type===fr.Element)&&ne){P.headWhitespace&&V.type===fr.Element&&V.tagName==="head"&&(re=!1);const Z={doc:n,mirror:r,blockClass:i,blockSelector:s,maskAllText:a,unblockSelector:o,maskTextClass:l,unmaskTextClass:u,maskTextSelector:f,unmaskTextSelector:h,skipChild:g,inlineStylesheet:y,maskInputOptions:b,maskAttributeFn:_,maskTextFn:E,maskInputFn:C,slimDOMOptions:P,dataURLOptions:O,inlineImages:z,recordCanvas:B,preserveWhiteSpace:re,onSerialize:j,onIframeLoad:M,iframeLoadTimeout:U,onStylesheetLoad:$,stylesheetLoadTimeout:D,keepIframeSrcFn:ee};for(const fe of Array.from(e.childNodes)){const F=Yu(fe,Z);F&&V.childNodes.push(F)}if(ZB(e)&&e.shadowRoot)for(const fe of Array.from(e.shadowRoot.childNodes)){const F=Yu(fe,Z);F&&(eh(e.shadowRoot)&&(F.isShadow=!0),V.childNodes.push(F))}}return e.parentNode&&Zf(e.parentNode)&&eh(e.parentNode)&&(V.isShadow=!0),V.type===fr.Element&&V.tagName==="iframe"&&_z(e,()=>{const Z=H8(e);if(Z&&M){const fe=Yu(Z,{doc:Z,mirror:r,blockClass:i,blockSelector:s,unblockSelector:o,maskAllText:a,maskTextClass:l,unmaskTextClass:u,maskTextSelector:f,unmaskTextSelector:h,skipChild:!1,inlineStylesheet:y,maskInputOptions:b,maskAttributeFn:_,maskTextFn:E,maskInputFn:C,slimDOMOptions:P,dataURLOptions:O,inlineImages:z,recordCanvas:B,preserveWhiteSpace:re,onSerialize:j,onIframeLoad:M,iframeLoadTimeout:U,onStylesheetLoad:$,stylesheetLoadTimeout:D,keepIframeSrcFn:ee});fe&&M(e,fe)}},U),V.type===fr.Element&&V.tagName==="link"&&typeof V.attributes.rel=="string"&&(V.attributes.rel==="stylesheet"||V.attributes.rel==="preload"&&typeof V.attributes.href=="string"&&z8(V.attributes.href)==="css")&&Sz(e,()=>{if($){const Z=Yu(e,{doc:n,mirror:r,blockClass:i,blockSelector:s,unblockSelector:o,maskAllText:a,maskTextClass:l,unmaskTextClass:u,maskTextSelector:f,unmaskTextSelector:h,skipChild:!1,inlineStylesheet:y,maskInputOptions:b,maskAttributeFn:_,maskTextFn:E,maskInputFn:C,slimDOMOptions:P,dataURLOptions:O,inlineImages:z,recordCanvas:B,preserveWhiteSpace:re,onSerialize:j,onIframeLoad:M,iframeLoadTimeout:U,onStylesheetLoad:$,stylesheetLoadTimeout:D,keepIframeSrcFn:ee});Z&&$(e,Z)}},D),V}function Nz(e,t){const{mirror:n=new B8,blockClass:r="rr-block",blockSelector:i=null,unblockSelector:s=null,maskAllText:o=!1,maskTextClass:a="rr-mask",unmaskTextClass:l=null,maskTextSelector:u=null,unmaskTextSelector:f=null,inlineStylesheet:h=!0,inlineImages:g=!1,recordCanvas:y=!1,maskAllInputs:b=!1,maskAttributeFn:_,maskTextFn:E,maskInputFn:C,slimDOM:P=!1,dataURLOptions:O,preserveWhiteSpace:z,onSerialize:B,onIframeLoad:j,iframeLoadTimeout:M,onStylesheetLoad:U,stylesheetLoadTimeout:$,keepIframeSrcFn:D=()=>!1}=t||{};return Yu(e,{doc:e,mirror:n,blockClass:r,blockSelector:i,unblockSelector:s,maskAllText:o,maskTextClass:a,unmaskTextClass:l,maskTextSelector:u,unmaskTextSelector:f,skipChild:!1,inlineStylesheet:h,maskInputOptions:b===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0}:b===!1?{}:b,maskAttributeFn:_,maskTextFn:E,maskInputFn:C,slimDOMOptions:P===!0||P==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:P==="all",headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:P===!1?{}:P,dataURLOptions:O,inlineImages:g,recordCanvas:y,preserveWhiteSpace:z,onSerialize:B,onIframeLoad:j,iframeLoadTimeout:M,onStylesheetLoad:U,stylesheetLoadTimeout:$,keepIframeSrcFn:D,newlyAddedElement:!1})}function La(e){let t,n=e[0],r=1;for(;r<e.length;){const i=e[r],s=e[r+1];if(r+=2,(i==="optionalAccess"||i==="optionalCall")&&n==null)return;i==="access"||i==="optionalAccess"?(t=n,n=s(n)):(i==="call"||i==="optionalCall")&&(n=s((...o)=>n.call(t,...o)),t=void 0)}return n}function si(e,t,n=document){const r={capture:!0,passive:!0};return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t,r)}const Uu=`Please stop import mirror directly. Instead of that,\r
now you can use replayer.getMirror() to access the mirror instance of a replayer,\r
or you can use record.mirror to access the mirror instance during recording.`;let h4={map:{},getId(){return console.error(Uu),-1},getNode(){return console.error(Uu),null},removeNodeFromMap(){console.error(Uu)},has(){return console.error(Uu),!1},reset(){console.error(Uu)}};typeof window<"u"&&window.Proxy&&window.Reflect&&(h4=new Proxy(h4,{get(e,t,n){return t==="map"&&console.error(Uu),Reflect.get(e,t,n)}}));function xh(e,t,n={}){let r=null,i=0;return function(...s){const o=Date.now();!i&&n.leading===!1&&(i=o);const a=t-(o-i),l=this;a<=0||a>t?(r&&(Dz(r),r=null),i=o,e.apply(l,s)):!r&&n.trailing!==!1&&(r=e1(()=>{i=n.leading===!1?0:Date.now(),r=null,e.apply(l,s)},a))}}function Q8(e,t,n,r,i=window){const s=i.Object.getOwnPropertyDescriptor(e,t);return i.Object.defineProperty(e,t,r?n:{set(o){e1(()=>{n.set.call(this,o)},0),s&&s.set&&s.set.call(this,o)}}),()=>Q8(e,t,s||{},!0)}function pw(e,t,n){try{if(!(t in e))return()=>{};const r=e[t],i=n(r);return typeof i=="function"&&(i.prototype=i.prototype||{},Object.defineProperties(i,{__rrweb_original__:{enumerable:!1,value:r}})),e[t]=i,()=>{e[t]=r}}catch{return()=>{}}}let l0=Date.now;/[1-9][0-9]{12}/.test(Date.now().toString())||(l0=()=>new Date().getTime());function V8(e){const t=e.document;return{left:t.scrollingElement?t.scrollingElement.scrollLeft:e.pageXOffset!==void 0?e.pageXOffset:La([t,"optionalAccess",n=>n.documentElement,"access",n=>n.scrollLeft])||La([t,"optionalAccess",n=>n.body,"optionalAccess",n=>n.parentElement,"optionalAccess",n=>n.scrollLeft])||La([t,"optionalAccess",n=>n.body,"optionalAccess",n=>n.scrollLeft])||0,top:t.scrollingElement?t.scrollingElement.scrollTop:e.pageYOffset!==void 0?e.pageYOffset:La([t,"optionalAccess",n=>n.documentElement,"access",n=>n.scrollTop])||La([t,"optionalAccess",n=>n.body,"optionalAccess",n=>n.parentElement,"optionalAccess",n=>n.scrollTop])||La([t,"optionalAccess",n=>n.body,"optionalAccess",n=>n.scrollTop])||0}}function K8(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function G8(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function Y8(e){return e?e.nodeType===e.ELEMENT_NODE?e:e.parentElement:null}function qi(e,t,n,r,i){if(!e)return!1;const s=Y8(e);if(!s)return!1;const o=Gu(t,n);if(!i){const u=r&&s.matches(r);return o(s)&&!u}const a=cc(s,o);let l=-1;return a<0?!1:(r&&(l=cc(s,Gu(null,r))),a>-1&&l<0?!0:a<l)}function Iz(e,t){return t.getId(e)!==-1}function Iv(e,t){return t.getId(e)===vh}function X8(e,t){if(Zf(e))return!1;const n=t.getId(e);return t.has(n)?e.parentNode&&e.parentNode.nodeType===e.DOCUMENT_NODE?!1:e.parentNode?X8(e.parentNode,t):!0:!0}function Eb(e){return!!e.changedTouches}function Pz(e=window){"NodeList"in e&&!e.NodeList.prototype.forEach&&(e.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in e&&!e.DOMTokenList.prototype.forEach&&(e.DOMTokenList.prototype.forEach=Array.prototype.forEach),Node.prototype.contains||(Node.prototype.contains=(...t)=>{let n=t[0];if(!(0 in t))throw new TypeError("1 argument is required");do if(this===n)return!0;while(n=n&&n.parentNode);return!1})}function J8(e,t){return!!(e.nodeName==="IFRAME"&&t.getMeta(e))}function Z8(e,t){return!!(e.nodeName==="LINK"&&e.nodeType===e.ELEMENT_NODE&&e.getAttribute&&e.getAttribute("rel")==="stylesheet"&&t.getMeta(e))}function kb(e){return!!La([e,"optionalAccess",t=>t.shadowRoot])}class Rz{constructor(){this.id=1,this.styleIDMap=new WeakMap,this.idStyleMap=new Map}getId(t){return gL(this.styleIDMap.get(t),()=>-1)}has(t){return this.styleIDMap.has(t)}add(t,n){if(this.has(t))return this.getId(t);let r;return n===void 0?r=this.id++:r=n,this.styleIDMap.set(t,r),this.idStyleMap.set(r,t),r}getStyle(t){return this.idStyleMap.get(t)||null}reset(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}generateId(){return this.id++}}function e9(e){let t=null;return La([e,"access",n=>n.getRootNode,"optionalCall",n=>n(),"optionalAccess",n=>n.nodeType])===Node.DOCUMENT_FRAGMENT_NODE&&e.getRootNode().host&&(t=e.getRootNode().host),t}function Oz(e){let t=e,n;for(;n=e9(t);)t=n;return t}function Az(e){const t=e.ownerDocument;if(!t)return!1;const n=Oz(e);return t.contains(n)}function t9(e){const t=e.ownerDocument;return t?t.contains(e)||Az(e):!1}const p4={};function mw(e){const t=p4[e];if(t)return t;const n=window.document;let r=window[e];if(n&&typeof n.createElement=="function")try{const i=n.createElement("iframe");i.hidden=!0,n.head.appendChild(i);const s=i.contentWindow;s&&s[e]&&(r=s[e]),n.head.removeChild(i)}catch{}return p4[e]=r.bind(window)}function Mz(...e){return mw("requestAnimationFrame")(...e)}function e1(...e){return mw("setTimeout")(...e)}function Dz(...e){return mw("clearTimeout")(...e)}var Ut=(e=>(e[e.DomContentLoaded=0]="DomContentLoaded",e[e.Load=1]="Load",e[e.FullSnapshot=2]="FullSnapshot",e[e.IncrementalSnapshot=3]="IncrementalSnapshot",e[e.Meta=4]="Meta",e[e.Custom=5]="Custom",e[e.Plugin=6]="Plugin",e))(Ut||{}),Et=(e=>(e[e.Mutation=0]="Mutation",e[e.MouseMove=1]="MouseMove",e[e.MouseInteraction=2]="MouseInteraction",e[e.Scroll=3]="Scroll",e[e.ViewportResize=4]="ViewportResize",e[e.Input=5]="Input",e[e.TouchMove=6]="TouchMove",e[e.MediaInteraction=7]="MediaInteraction",e[e.StyleSheetRule=8]="StyleSheetRule",e[e.CanvasMutation=9]="CanvasMutation",e[e.Font=10]="Font",e[e.Log=11]="Log",e[e.Drag=12]="Drag",e[e.StyleDeclaration=13]="StyleDeclaration",e[e.Selection=14]="Selection",e[e.AdoptedStyleSheet=15]="AdoptedStyleSheet",e[e.CustomElement=16]="CustomElement",e))(Et||{}),ni=(e=>(e[e.MouseUp=0]="MouseUp",e[e.MouseDown=1]="MouseDown",e[e.Click=2]="Click",e[e.ContextMenu=3]="ContextMenu",e[e.DblClick=4]="DblClick",e[e.Focus=5]="Focus",e[e.Blur=6]="Blur",e[e.TouchStart=7]="TouchStart",e[e.TouchMove_Departed=8]="TouchMove_Departed",e[e.TouchEnd=9]="TouchEnd",e[e.TouchCancel=10]="TouchCancel",e))(ni||{}),Ao=(e=>(e[e.Mouse=0]="Mouse",e[e.Pen=1]="Pen",e[e.Touch=2]="Touch",e))(Ao||{}),m4;(function(e){e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment"})(m4||(m4={}));var g4;(function(e){e[e.PLACEHOLDER=0]="PLACEHOLDER",e[e.ELEMENT_NODE=1]="ELEMENT_NODE",e[e.ATTRIBUTE_NODE=2]="ATTRIBUTE_NODE",e[e.TEXT_NODE=3]="TEXT_NODE",e[e.CDATA_SECTION_NODE=4]="CDATA_SECTION_NODE",e[e.ENTITY_REFERENCE_NODE=5]="ENTITY_REFERENCE_NODE",e[e.ENTITY_NODE=6]="ENTITY_NODE",e[e.PROCESSING_INSTRUCTION_NODE=7]="PROCESSING_INSTRUCTION_NODE",e[e.COMMENT_NODE=8]="COMMENT_NODE",e[e.DOCUMENT_NODE=9]="DOCUMENT_NODE",e[e.DOCUMENT_TYPE_NODE=10]="DOCUMENT_TYPE_NODE",e[e.DOCUMENT_FRAGMENT_NODE=11]="DOCUMENT_FRAGMENT_NODE"})(g4||(g4={}));function gw(e){try{return e.contentDocument}catch{}}function Lz(e){try{return e.contentWindow}catch{}}function Fz(e){let t,n=e[0],r=1;for(;r<e.length;){const i=e[r],s=e[r+1];if(r+=2,(i==="optionalAccess"||i==="optionalCall")&&n==null)return;i==="access"||i==="optionalAccess"?(t=n,n=s(n)):(i==="call"||i==="optionalCall")&&(n=s((...o)=>n.call(t,...o)),t=void 0)}return n}function y4(e){return"__ln"in e}class Bz{constructor(){this.length=0,this.head=null,this.tail=null}get(t){if(t>=this.length)throw new Error("Position outside of list range");let n=this.head;for(let r=0;r<t;r++)n=Fz([n,"optionalAccess",i=>i.next])||null;return n}addNode(t){const n={value:t,previous:null,next:null};if(t.__ln=n,t.previousSibling&&y4(t.previousSibling)){const r=t.previousSibling.__ln.next;n.next=r,n.previous=t.previousSibling.__ln,t.previousSibling.__ln.next=n,r&&(r.previous=n)}else if(t.nextSibling&&y4(t.nextSibling)&&t.nextSibling.__ln.previous){const r=t.nextSibling.__ln.previous;n.previous=r,n.next=t.nextSibling.__ln,t.nextSibling.__ln.previous=n,r&&(r.next=n)}else this.head&&(this.head.previous=n),n.next=this.head,this.head=n;n.next===null&&(this.tail=n),this.length++}removeNode(t){const n=t.__ln;this.head&&(n.previous?(n.previous.next=n.next,n.next?n.next.previous=n.previous:this.tail=n.previous):(this.head=n.next,this.head?this.head.previous=null:this.tail=null),t.__ln&&delete t.__ln,this.length--)}}const v4=(e,t)=>`${e}@${t}`;class zz{constructor(){this.frozen=!1,this.locked=!1,this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.mapRemoves=[],this.movedMap={},this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.processMutations=t=>{t.forEach(this.processMutation),this.emit()},this.emit=()=>{if(this.frozen||this.locked)return;const t=[],n=new Set,r=new Bz,i=l=>{let u=l,f=vh;for(;f===vh;)u=u&&u.nextSibling,f=u&&this.mirror.getId(u);return f},s=l=>{if(!l.parentNode||!t9(l))return;const u=Zf(l.parentNode)?this.mirror.getId(e9(l)):this.mirror.getId(l.parentNode),f=i(l);if(u===-1||f===-1)return r.addNode(l);const h=Yu(l,{doc:this.doc,mirror:this.mirror,blockClass:this.blockClass,blockSelector:this.blockSelector,maskAllText:this.maskAllText,unblockSelector:this.unblockSelector,maskTextClass:this.maskTextClass,unmaskTextClass:this.unmaskTextClass,maskTextSelector:this.maskTextSelector,unmaskTextSelector:this.unmaskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:this.inlineStylesheet,maskInputOptions:this.maskInputOptions,maskAttributeFn:this.maskAttributeFn,maskTextFn:this.maskTextFn,maskInputFn:this.maskInputFn,slimDOMOptions:this.slimDOMOptions,dataURLOptions:this.dataURLOptions,recordCanvas:this.recordCanvas,inlineImages:this.inlineImages,onSerialize:g=>{J8(g,this.mirror)&&!qi(g,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&this.iframeManager.addIframe(g),Z8(g,this.mirror)&&this.stylesheetManager.trackLinkElement(g),kb(l)&&this.shadowDomManager.addShadowRoot(l.shadowRoot,this.doc)},onIframeLoad:(g,y)=>{qi(g,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(this.iframeManager.attachIframe(g,y),g.contentWindow&&this.canvasManager.addWindow(g.contentWindow),this.shadowDomManager.observeAttachShadow(g))},onStylesheetLoad:(g,y)=>{this.stylesheetManager.attachLinkElement(g,y)}});h&&(t.push({parentId:u,nextId:f,node:h}),n.add(h.id))};for(;this.mapRemoves.length;)this.mirror.removeNodeFromMap(this.mapRemoves.shift());for(const l of this.movedSet)x4(this.removes,l,this.mirror)&&!this.movedSet.has(l.parentNode)||s(l);for(const l of this.addedSet)!b4(this.droppedSet,l)&&!x4(this.removes,l,this.mirror)||b4(this.movedSet,l)?s(l):this.droppedSet.add(l);let o=null;for(;r.length;){let l=null;if(o){const u=this.mirror.getId(o.value.parentNode),f=i(o.value);u!==-1&&f!==-1&&(l=o)}if(!l){let u=r.tail;for(;u;){const f=u;if(u=u.previous,f){const h=this.mirror.getId(f.value.parentNode);if(i(f.value)===-1)continue;if(h!==-1){l=f;break}else{const y=f.value;if(y.parentNode&&y.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE){const b=y.parentNode.host;if(this.mirror.getId(b)!==-1){l=f;break}}}}}}if(!l){for(;r.head;)r.removeNode(r.head.value);break}o=l.previous,r.removeNode(l.value),s(l.value)}const a={texts:this.texts.map(l=>({id:this.mirror.getId(l.node),value:l.value})).filter(l=>!n.has(l.id)).filter(l=>this.mirror.has(l.id)),attributes:this.attributes.map(l=>{const{attributes:u}=l;if(typeof u.style=="string"){const f=JSON.stringify(l.styleDiff),h=JSON.stringify(l._unchangedStyles);f.length<u.style.length&&(f+h).split("var(").length===u.style.split("var(").length&&(u.style=l.styleDiff)}return{id:this.mirror.getId(l.node),attributes:u}}).filter(l=>!n.has(l.id)).filter(l=>this.mirror.has(l.id)),removes:this.removes,adds:t};!a.texts.length&&!a.attributes.length&&!a.removes.length&&!a.adds.length||(this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.movedMap={},this.mutationCb(a))},this.processMutation=t=>{if(!Iv(t.target,this.mirror))switch(t.type){case"characterData":{const n=t.target.textContent;!qi(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&n!==t.oldValue&&this.texts.push({value:pd(t.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,this.maskAllText)&&n?this.maskTextFn?this.maskTextFn(n,Y8(t.target)):n.replace(/[\S]/g,"*"):n,node:t.target});break}case"attributes":{const n=t.target;let r=t.attributeName,i=t.target.getAttribute(r);if(r==="value"){const o=fw(n),a=n.tagName;i=o0(n,a,o);const l=J0({maskInputOptions:this.maskInputOptions,tagName:a,type:o}),u=pd(t.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,l);i=yh({isMasked:u,element:n,value:i,maskInputFn:this.maskInputFn})}if(qi(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||i===t.oldValue)return;let s=this.attributeMap.get(t.target);if(n.tagName==="IFRAME"&&r==="src"&&!this.keepIframeSrcFn(i))if(!gw(n))r="rr_src";else return;if(s||(s={node:t.target,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(s),this.attributeMap.set(t.target,s)),r==="type"&&n.tagName==="INPUT"&&(t.oldValue||"").toLowerCase()==="password"&&n.setAttribute("data-rr-is-password","true"),!q8(n.tagName,r)&&(s.attributes[r]=W8(this.doc,hd(n.tagName),hd(r),i,n,this.maskAttributeFn),r==="style")){if(!this.unattachedDoc)try{this.unattachedDoc=document.implementation.createHTMLDocument()}catch{this.unattachedDoc=this.doc}const o=this.unattachedDoc.createElement("span");t.oldValue&&o.setAttribute("style",t.oldValue);for(const a of Array.from(n.style)){const l=n.style.getPropertyValue(a),u=n.style.getPropertyPriority(a);l!==o.style.getPropertyValue(a)||u!==o.style.getPropertyPriority(a)?u===""?s.styleDiff[a]=l:s.styleDiff[a]=[l,u]:s._unchangedStyles[a]=[l,u]}for(const a of Array.from(o.style))n.style.getPropertyValue(a)===""&&(s.styleDiff[a]=!1)}break}case"childList":{if(qi(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!0))return;t.addedNodes.forEach(n=>this.genAdds(n,t.target)),t.removedNodes.forEach(n=>{const r=this.mirror.getId(n),i=Zf(t.target)?this.mirror.getId(t.target.host):this.mirror.getId(t.target);qi(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||Iv(n,this.mirror)||!Iz(n,this.mirror)||(this.addedSet.has(n)?(Cb(this.addedSet,n),this.droppedSet.add(n)):this.addedSet.has(t.target)&&r===-1||X8(t.target,this.mirror)||(this.movedSet.has(n)&&this.movedMap[v4(r,i)]?Cb(this.movedSet,n):this.removes.push({parentId:i,id:r,isShadow:Zf(t.target)&&eh(t.target)?!0:void 0})),this.mapRemoves.push(n))});break}}},this.genAdds=(t,n)=>{if(!this.processedNodeManager.inOtherBuffer(t,this)&&!(this.addedSet.has(t)||this.movedSet.has(t))){if(this.mirror.hasNode(t)){if(Iv(t,this.mirror))return;this.movedSet.add(t);let r=null;n&&this.mirror.hasNode(n)&&(r=this.mirror.getId(n)),r&&r!==-1&&(this.movedMap[v4(this.mirror.getId(t),r)]=!0)}else this.addedSet.add(t),this.droppedSet.delete(t);qi(t,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(t.childNodes.forEach(r=>this.genAdds(r)),kb(t)&&t.shadowRoot.childNodes.forEach(r=>{this.processedNodeManager.add(r,this),this.genAdds(r,t)}))}}}init(t){["mutationCb","blockClass","blockSelector","unblockSelector","maskAllText","maskTextClass","unmaskTextClass","maskTextSelector","unmaskTextSelector","inlineStylesheet","maskInputOptions","maskAttributeFn","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager"].forEach(n=>{this[n]=t[n]})}freeze(){this.frozen=!0,this.canvasManager.freeze()}unfreeze(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}isFrozen(){return this.frozen}lock(){this.locked=!0,this.canvasManager.lock()}unlock(){this.locked=!1,this.canvasManager.unlock(),this.emit()}reset(){this.shadowDomManager.reset(),this.canvasManager.reset()}}function Cb(e,t){e.delete(t),t.childNodes.forEach(n=>Cb(e,n))}function x4(e,t,n){return e.length===0?!1:$z(e,t,n)}function $z(e,t,n){let r=t.parentNode;for(;r;){const i=n.getId(r);if(e.some(s=>s.id===i))return!0;r=r.parentNode}return!1}function b4(e,t){return e.size===0?!1:n9(e,t)}function n9(e,t){const{parentNode:n}=t;return n?e.has(n)?!0:n9(e,n):!1}let th;function Uz(e){th=e}function Hz(){th=void 0}const nn=e=>th?(...n)=>{try{return e(...n)}catch(r){if(th&&th(r)===!0)return()=>{};throw r}}:e;function Ls(e){let t,n=e[0],r=1;for(;r<e.length;){const i=e[r],s=e[r+1];if(r+=2,(i==="optionalAccess"||i==="optionalCall")&&n==null)return;i==="access"||i==="optionalAccess"?(t=n,n=s(n)):(i==="call"||i==="optionalCall")&&(n=s((...o)=>n.call(t,...o)),t=void 0)}return n}const Xu=[];function Qh(e){try{if("composedPath"in e){const t=e.composedPath();if(t.length)return t[0]}else if("path"in e&&e.path.length)return e.path[0]}catch{}return e&&e.target}function r9(e,t){const n=new zz;Xu.push(n),n.init(e);let r=window.MutationObserver||window.__rrMutationObserver;const i=Ls([window,"optionalAccess",o=>o.Zone,"optionalAccess",o=>o.__symbol__,"optionalCall",o=>o("MutationObserver")]);i&&window[i]&&(r=window[i]);const s=new r(nn(o=>{e.onMutation&&e.onMutation(o)===!1||n.processMutations.bind(n)(o)}));return s.observe(t,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),s}function Wz({mousemoveCb:e,sampling:t,doc:n,mirror:r}){if(t.mousemove===!1)return()=>{};const i=typeof t.mousemove=="number"?t.mousemove:50,s=typeof t.mousemoveCallback=="number"?t.mousemoveCallback:500;let o=[],a;const l=xh(nn(h=>{const g=Date.now()-a;e(o.map(y=>(y.timeOffset-=g,y)),h),o=[],a=null}),s),u=nn(xh(nn(h=>{const g=Qh(h),{clientX:y,clientY:b}=Eb(h)?h.changedTouches[0]:h;a||(a=l0()),o.push({x:y,y:b,id:r.getId(g),timeOffset:l0()-a}),l(typeof DragEvent<"u"&&h instanceof DragEvent?Et.Drag:h instanceof MouseEvent?Et.MouseMove:Et.TouchMove)}),i,{trailing:!1})),f=[si("mousemove",u,n),si("touchmove",u,n),si("drag",u,n)];return nn(()=>{f.forEach(h=>h())})}function qz({mouseInteractionCb:e,doc:t,mirror:n,blockClass:r,blockSelector:i,unblockSelector:s,sampling:o}){if(o.mouseInteraction===!1)return()=>{};const a=o.mouseInteraction===!0||o.mouseInteraction===void 0?{}:o.mouseInteraction,l=[];let u=null;const f=h=>g=>{const y=Qh(g);if(qi(y,r,i,s,!0))return;let b=null,_=h;if("pointerType"in g){switch(g.pointerType){case"mouse":b=Ao.Mouse;break;case"touch":b=Ao.Touch;break;case"pen":b=Ao.Pen;break}b===Ao.Touch?ni[h]===ni.MouseDown?_="TouchStart":ni[h]===ni.MouseUp&&(_="TouchEnd"):Ao.Pen}else Eb(g)&&(b=Ao.Touch);b!==null?(u=b,(_.startsWith("Touch")&&b===Ao.Touch||_.startsWith("Mouse")&&b===Ao.Mouse)&&(b=null)):ni[h]===ni.Click&&(b=u,u=null);const E=Eb(g)?g.changedTouches[0]:g;if(!E)return;const C=n.getId(y),{clientX:P,clientY:O}=E;nn(e)({type:ni[_],id:C,x:P,y:O,...b!==null&&{pointerType:b}})};return Object.keys(ni).filter(h=>Number.isNaN(Number(h))&&!h.endsWith("_Departed")&&a[h]!==!1).forEach(h=>{let g=hd(h);const y=f(h);if(window.PointerEvent)switch(ni[h]){case ni.MouseDown:case ni.MouseUp:g=g.replace("mouse","pointer");break;case ni.TouchStart:case ni.TouchEnd:return}l.push(si(g,y,t))}),nn(()=>{l.forEach(h=>h())})}function i9({scrollCb:e,doc:t,mirror:n,blockClass:r,blockSelector:i,unblockSelector:s,sampling:o}){const a=nn(xh(nn(l=>{const u=Qh(l);if(!u||qi(u,r,i,s,!0))return;const f=n.getId(u);if(u===t&&t.defaultView){const h=V8(t.defaultView);e({id:f,x:h.left,y:h.top})}else e({id:f,x:u.scrollLeft,y:u.scrollTop})}),o.scroll||100));return si("scroll",a,t)}function Qz({viewportResizeCb:e},{win:t}){let n=-1,r=-1;const i=nn(xh(nn(()=>{const s=K8(),o=G8();(n!==s||r!==o)&&(e({width:Number(o),height:Number(s)}),n=s,r=o)}),200));return si("resize",i,t)}const Vz=["INPUT","TEXTAREA","SELECT"],w4=new WeakMap;function Kz({inputCb:e,doc:t,mirror:n,blockClass:r,blockSelector:i,unblockSelector:s,ignoreClass:o,ignoreSelector:a,maskInputOptions:l,maskInputFn:u,sampling:f,userTriggeredOnInput:h,maskTextClass:g,unmaskTextClass:y,maskTextSelector:b,unmaskTextSelector:_}){function E(M){let U=Qh(M);const $=M.isTrusted,D=U&&_b(U.tagName);if(D==="OPTION"&&(U=U.parentElement),!U||!D||Vz.indexOf(D)<0||qi(U,r,i,s,!0))return;const ee=U;if(ee.classList.contains(o)||a&&ee.matches(a))return;const X=fw(U);let re=o0(ee,D,X),Q=!1;const q=J0({maskInputOptions:l,tagName:D,type:X}),V=pd(U,g,b,y,_,q);(X==="radio"||X==="checkbox")&&(Q=U.checked),re=yh({isMasked:V,element:U,value:re,maskInputFn:u}),C(U,h?{text:re,isChecked:Q,userTriggered:$}:{text:re,isChecked:Q});const ne=U.name;X==="radio"&&ne&&Q&&t.querySelectorAll(`input[type="radio"][name="${ne}"]`).forEach(Z=>{if(Z!==U){const fe=yh({isMasked:V,element:Z,value:o0(Z,D,X),maskInputFn:u});C(Z,h?{text:fe,isChecked:!Q,userTriggered:!1}:{text:fe,isChecked:!Q})}})}function C(M,U){const $=w4.get(M);if(!$||$.text!==U.text||$.isChecked!==U.isChecked){w4.set(M,U);const D=n.getId(M);nn(e)({...U,id:D})}}const O=(f.input==="last"?["change"]:["input","change"]).map(M=>si(M,nn(E),t)),z=t.defaultView;if(!z)return()=>{O.forEach(M=>M())};const B=z.Object.getOwnPropertyDescriptor(z.HTMLInputElement.prototype,"value"),j=[[z.HTMLInputElement.prototype,"value"],[z.HTMLInputElement.prototype,"checked"],[z.HTMLSelectElement.prototype,"value"],[z.HTMLTextAreaElement.prototype,"value"],[z.HTMLSelectElement.prototype,"selectedIndex"],[z.HTMLOptionElement.prototype,"selected"]];return B&&B.set&&O.push(...j.map(M=>Q8(M[0],M[1],{set(){nn(E)({target:this,isTrusted:!1})}},!1,z))),nn(()=>{O.forEach(M=>M())})}function c0(e){const t=[];function n(r,i){if(Bm("CSSGroupingRule")&&r.parentRule instanceof CSSGroupingRule||Bm("CSSMediaRule")&&r.parentRule instanceof CSSMediaRule||Bm("CSSSupportsRule")&&r.parentRule instanceof CSSSupportsRule||Bm("CSSConditionRule")&&r.parentRule instanceof CSSConditionRule){const o=Array.from(r.parentRule.cssRules).indexOf(r);i.unshift(o)}else if(r.parentStyleSheet){const o=Array.from(r.parentStyleSheet.cssRules).indexOf(r);i.unshift(o)}return i}return n(e,t)}function Fa(e,t,n){let r,i;return e?(e.ownerNode?r=t.getId(e.ownerNode):i=n.getId(e),{styleId:i,id:r}):{}}function Gz({styleSheetRuleCb:e,mirror:t,stylesheetManager:n},{win:r}){if(!r.CSSStyleSheet||!r.CSSStyleSheet.prototype)return()=>{};const i=r.CSSStyleSheet.prototype.insertRule;r.CSSStyleSheet.prototype.insertRule=new Proxy(i,{apply:nn((f,h,g)=>{const[y,b]=g,{id:_,styleId:E}=Fa(h,t,n.styleMirror);return(_&&_!==-1||E&&E!==-1)&&e({id:_,styleId:E,adds:[{rule:y,index:b}]}),f.apply(h,g)})});const s=r.CSSStyleSheet.prototype.deleteRule;r.CSSStyleSheet.prototype.deleteRule=new Proxy(s,{apply:nn((f,h,g)=>{const[y]=g,{id:b,styleId:_}=Fa(h,t,n.styleMirror);return(b&&b!==-1||_&&_!==-1)&&e({id:b,styleId:_,removes:[{index:y}]}),f.apply(h,g)})});let o;r.CSSStyleSheet.prototype.replace&&(o=r.CSSStyleSheet.prototype.replace,r.CSSStyleSheet.prototype.replace=new Proxy(o,{apply:nn((f,h,g)=>{const[y]=g,{id:b,styleId:_}=Fa(h,t,n.styleMirror);return(b&&b!==-1||_&&_!==-1)&&e({id:b,styleId:_,replace:y}),f.apply(h,g)})}));let a;r.CSSStyleSheet.prototype.replaceSync&&(a=r.CSSStyleSheet.prototype.replaceSync,r.CSSStyleSheet.prototype.replaceSync=new Proxy(a,{apply:nn((f,h,g)=>{const[y]=g,{id:b,styleId:_}=Fa(h,t,n.styleMirror);return(b&&b!==-1||_&&_!==-1)&&e({id:b,styleId:_,replaceSync:y}),f.apply(h,g)})}));const l={};zm("CSSGroupingRule")?l.CSSGroupingRule=r.CSSGroupingRule:(zm("CSSMediaRule")&&(l.CSSMediaRule=r.CSSMediaRule),zm("CSSConditionRule")&&(l.CSSConditionRule=r.CSSConditionRule),zm("CSSSupportsRule")&&(l.CSSSupportsRule=r.CSSSupportsRule));const u={};return Object.entries(l).forEach(([f,h])=>{u[f]={insertRule:h.prototype.insertRule,deleteRule:h.prototype.deleteRule},h.prototype.insertRule=new Proxy(u[f].insertRule,{apply:nn((g,y,b)=>{const[_,E]=b,{id:C,styleId:P}=Fa(y.parentStyleSheet,t,n.styleMirror);return(C&&C!==-1||P&&P!==-1)&&e({id:C,styleId:P,adds:[{rule:_,index:[...c0(y),E||0]}]}),g.apply(y,b)})}),h.prototype.deleteRule=new Proxy(u[f].deleteRule,{apply:nn((g,y,b)=>{const[_]=b,{id:E,styleId:C}=Fa(y.parentStyleSheet,t,n.styleMirror);return(E&&E!==-1||C&&C!==-1)&&e({id:E,styleId:C,removes:[{index:[...c0(y),_]}]}),g.apply(y,b)})})}),nn(()=>{r.CSSStyleSheet.prototype.insertRule=i,r.CSSStyleSheet.prototype.deleteRule=s,o&&(r.CSSStyleSheet.prototype.replace=o),a&&(r.CSSStyleSheet.prototype.replaceSync=a),Object.entries(l).forEach(([f,h])=>{h.prototype.insertRule=u[f].insertRule,h.prototype.deleteRule=u[f].deleteRule})})}function s9({mirror:e,stylesheetManager:t},n){let r=null;n.nodeName==="#document"?r=e.getId(n):r=e.getId(n.host);const i=n.nodeName==="#document"?Ls([n,"access",o=>o.defaultView,"optionalAccess",o=>o.Document]):Ls([n,"access",o=>o.ownerDocument,"optionalAccess",o=>o.defaultView,"optionalAccess",o=>o.ShadowRoot]),s=Ls([i,"optionalAccess",o=>o.prototype])?Object.getOwnPropertyDescriptor(Ls([i,"optionalAccess",o=>o.prototype]),"adoptedStyleSheets"):void 0;return r===null||r===-1||!i||!s?()=>{}:(Object.defineProperty(n,"adoptedStyleSheets",{configurable:s.configurable,enumerable:s.enumerable,get(){return Ls([s,"access",o=>o.get,"optionalAccess",o=>o.call,"call",o=>o(this)])},set(o){const a=Ls([s,"access",l=>l.set,"optionalAccess",l=>l.call,"call",l=>l(this,o)]);if(r!==null&&r!==-1)try{t.adoptStyleSheets(o,r)}catch{}return a}}),nn(()=>{Object.defineProperty(n,"adoptedStyleSheets",{configurable:s.configurable,enumerable:s.enumerable,get:s.get,set:s.set})}))}function Yz({styleDeclarationCb:e,mirror:t,ignoreCSSAttributes:n,stylesheetManager:r},{win:i}){const s=i.CSSStyleDeclaration.prototype.setProperty;i.CSSStyleDeclaration.prototype.setProperty=new Proxy(s,{apply:nn((a,l,u)=>{const[f,h,g]=u;if(n.has(f))return s.apply(l,[f,h,g]);const{id:y,styleId:b}=Fa(Ls([l,"access",_=>_.parentRule,"optionalAccess",_=>_.parentStyleSheet]),t,r.styleMirror);return(y&&y!==-1||b&&b!==-1)&&e({id:y,styleId:b,set:{property:f,value:h,priority:g},index:c0(l.parentRule)}),a.apply(l,u)})});const o=i.CSSStyleDeclaration.prototype.removeProperty;return i.CSSStyleDeclaration.prototype.removeProperty=new Proxy(o,{apply:nn((a,l,u)=>{const[f]=u;if(n.has(f))return o.apply(l,[f]);const{id:h,styleId:g}=Fa(Ls([l,"access",y=>y.parentRule,"optionalAccess",y=>y.parentStyleSheet]),t,r.styleMirror);return(h&&h!==-1||g&&g!==-1)&&e({id:h,styleId:g,remove:{property:f},index:c0(l.parentRule)}),a.apply(l,u)})}),nn(()=>{i.CSSStyleDeclaration.prototype.setProperty=s,i.CSSStyleDeclaration.prototype.removeProperty=o})}function Xz({mediaInteractionCb:e,blockClass:t,blockSelector:n,unblockSelector:r,mirror:i,sampling:s,doc:o}){const a=nn(u=>xh(nn(f=>{const h=Qh(f);if(!h||qi(h,t,n,r,!0))return;const{currentTime:g,volume:y,muted:b,playbackRate:_}=h;e({type:u,id:i.getId(h),currentTime:g,volume:y,muted:b,playbackRate:_})}),s.media||500)),l=[si("play",a(0),o),si("pause",a(1),o),si("seeked",a(2),o),si("volumechange",a(3),o),si("ratechange",a(4),o)];return nn(()=>{l.forEach(u=>u())})}function Jz({fontCb:e,doc:t}){const n=t.defaultView;if(!n)return()=>{};const r=[],i=new WeakMap,s=n.FontFace;n.FontFace=function(l,u,f){const h=new s(l,u,f);return i.set(h,{family:l,buffer:typeof u!="string",descriptors:f,fontSource:typeof u=="string"?u:JSON.stringify(Array.from(new Uint8Array(u)))}),h};const o=pw(t.fonts,"add",function(a){return function(l){return e1(nn(()=>{const u=i.get(l);u&&(e(u),i.delete(l))}),0),a.apply(this,[l])}});return r.push(()=>{n.FontFace=s}),r.push(o),nn(()=>{r.forEach(a=>a())})}function Zz(e){const{doc:t,mirror:n,blockClass:r,blockSelector:i,unblockSelector:s,selectionCb:o}=e;let a=!0;const l=nn(()=>{const u=t.getSelection();if(!u||a&&Ls([u,"optionalAccess",g=>g.isCollapsed]))return;a=u.isCollapsed||!1;const f=[],h=u.rangeCount||0;for(let g=0;g<h;g++){const y=u.getRangeAt(g),{startContainer:b,startOffset:_,endContainer:E,endOffset:C}=y;qi(b,r,i,s,!0)||qi(E,r,i,s,!0)||f.push({start:n.getId(b),startOffset:_,end:n.getId(E),endOffset:C})}o({ranges:f})});return l(),si("selectionchange",l)}function e$({doc:e,customElementCb:t}){const n=e.defaultView;return!n||!n.customElements?()=>{}:pw(n.customElements,"define",function(i){return function(s,o,a){try{t({define:{name:s}})}catch{}return i.apply(this,[s,o,a])}})}function t$(e,t={}){const n=e.doc.defaultView;if(!n)return()=>{};let r;e.recordDOM&&(r=r9(e,e.doc));const i=Wz(e),s=qz(e),o=i9(e),a=Qz(e,{win:n}),l=Kz(e),u=Xz(e);let f=()=>{},h=()=>{},g=()=>{},y=()=>{};e.recordDOM&&(f=Gz(e,{win:n}),h=s9(e,e.doc),g=Yz(e,{win:n}),e.collectFonts&&(y=Jz(e)));const b=Zz(e),_=e$(e),E=[];for(const C of e.plugins)E.push(C.observer(C.callback,n,C.options));return nn(()=>{Xu.forEach(C=>C.reset()),Ls([r,"optionalAccess",C=>C.disconnect,"call",C=>C()]),i(),s(),o(),a(),l(),u(),f(),h(),g(),y(),b(),_(),E.forEach(C=>C())})}function Bm(e){return typeof window[e]<"u"}function zm(e){return!!(typeof window[e]<"u"&&window[e].prototype&&"insertRule"in window[e].prototype&&"deleteRule"in window[e].prototype)}class Tb{constructor(t){this.generateIdFn=t,this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap}getId(t,n,r,i){const s=r||this.getIdToRemoteIdMap(t),o=i||this.getRemoteIdToIdMap(t);let a=s.get(n);return a||(a=this.generateIdFn(),s.set(n,a),o.set(a,n)),a}getIds(t,n){const r=this.getIdToRemoteIdMap(t),i=this.getRemoteIdToIdMap(t);return n.map(s=>this.getId(t,s,r,i))}getRemoteId(t,n,r){const i=r||this.getRemoteIdToIdMap(t);if(typeof n!="number")return n;const s=i.get(n);return s||-1}getRemoteIds(t,n){const r=this.getRemoteIdToIdMap(t);return n.map(i=>this.getRemoteId(t,i,r))}reset(t){if(!t){this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap;return}this.iframeIdToRemoteIdMap.delete(t),this.iframeRemoteIdToIdMap.delete(t)}getIdToRemoteIdMap(t){let n=this.iframeIdToRemoteIdMap.get(t);return n||(n=new Map,this.iframeIdToRemoteIdMap.set(t,n)),n}getRemoteIdToIdMap(t){let n=this.iframeRemoteIdToIdMap.get(t);return n||(n=new Map,this.iframeRemoteIdToIdMap.set(t,n)),n}}function _4(e){let t,n=e[0],r=1;for(;r<e.length;){const i=e[r],s=e[r+1];if(r+=2,(i==="optionalAccess"||i==="optionalCall")&&n==null)return;i==="access"||i==="optionalAccess"?(t=n,n=s(n)):(i==="call"||i==="optionalCall")&&(n=s((...o)=>n.call(t,...o)),t=void 0)}return n}class n${constructor(){this.crossOriginIframeMirror=new Tb(hw),this.crossOriginIframeRootIdMap=new WeakMap}addIframe(){}addLoadListener(){}attachIframe(){}}class r${constructor(t){this.iframes=new WeakMap,this.crossOriginIframeMap=new WeakMap,this.crossOriginIframeMirror=new Tb(hw),this.crossOriginIframeRootIdMap=new WeakMap,this.mutationCb=t.mutationCb,this.wrappedEmit=t.wrappedEmit,this.stylesheetManager=t.stylesheetManager,this.recordCrossOriginIframes=t.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new Tb(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=t.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}addIframe(t){this.iframes.set(t,!0),t.contentWindow&&this.crossOriginIframeMap.set(t.contentWindow,t)}addLoadListener(t){this.loadListener=t}attachIframe(t,n){this.mutationCb({adds:[{parentId:this.mirror.getId(t),nextId:null,node:n}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),_4([this,"access",i=>i.loadListener,"optionalCall",i=>i(t)]);const r=gw(t);r&&r.adoptedStyleSheets&&r.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(r.adoptedStyleSheets,this.mirror.getId(r))}handleMessage(t){const n=t;if(n.data.type!=="rrweb"||n.origin!==n.data.origin||!t.source)return;const i=this.crossOriginIframeMap.get(t.source);if(!i)return;const s=this.transformCrossOriginEvent(i,n.data.event);s&&this.wrappedEmit(s,n.data.isCheckout)}transformCrossOriginEvent(t,n){switch(n.type){case Ut.FullSnapshot:{this.crossOriginIframeMirror.reset(t),this.crossOriginIframeStyleMirror.reset(t),this.replaceIdOnNode(n.data.node,t);const r=n.data.node.id;return this.crossOriginIframeRootIdMap.set(t,r),this.patchRootIdOnNode(n.data.node,r),{timestamp:n.timestamp,type:Ut.IncrementalSnapshot,data:{source:Et.Mutation,adds:[{parentId:this.mirror.getId(t),nextId:null,node:n.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}}}case Ut.Meta:case Ut.Load:case Ut.DomContentLoaded:return!1;case Ut.Plugin:return n;case Ut.Custom:return this.replaceIds(n.data.payload,t,["id","parentId","previousId","nextId"]),n;case Ut.IncrementalSnapshot:switch(n.data.source){case Et.Mutation:return n.data.adds.forEach(r=>{this.replaceIds(r,t,["parentId","nextId","previousId"]),this.replaceIdOnNode(r.node,t);const i=this.crossOriginIframeRootIdMap.get(t);i&&this.patchRootIdOnNode(r.node,i)}),n.data.removes.forEach(r=>{this.replaceIds(r,t,["parentId","id"])}),n.data.attributes.forEach(r=>{this.replaceIds(r,t,["id"])}),n.data.texts.forEach(r=>{this.replaceIds(r,t,["id"])}),n;case Et.Drag:case Et.TouchMove:case Et.MouseMove:return n.data.positions.forEach(r=>{this.replaceIds(r,t,["id"])}),n;case Et.ViewportResize:return!1;case Et.MediaInteraction:case Et.MouseInteraction:case Et.Scroll:case Et.CanvasMutation:case Et.Input:return this.replaceIds(n.data,t,["id"]),n;case Et.StyleSheetRule:case Et.StyleDeclaration:return this.replaceIds(n.data,t,["id"]),this.replaceStyleIds(n.data,t,["styleId"]),n;case Et.Font:return n;case Et.Selection:return n.data.ranges.forEach(r=>{this.replaceIds(r,t,["start","end"])}),n;case Et.AdoptedStyleSheet:return this.replaceIds(n.data,t,["id"]),this.replaceStyleIds(n.data,t,["styleIds"]),_4([n,"access",r=>r.data,"access",r=>r.styles,"optionalAccess",r=>r.forEach,"call",r=>r(i=>{this.replaceStyleIds(i,t,["styleId"])})]),n}}return!1}replace(t,n,r,i){for(const s of i)!Array.isArray(n[s])&&typeof n[s]!="number"||(Array.isArray(n[s])?n[s]=t.getIds(r,n[s]):n[s]=t.getId(r,n[s]));return n}replaceIds(t,n,r){return this.replace(this.crossOriginIframeMirror,t,n,r)}replaceStyleIds(t,n,r){return this.replace(this.crossOriginIframeStyleMirror,t,n,r)}replaceIdOnNode(t,n){this.replaceIds(t,n,["id","rootId"]),"childNodes"in t&&t.childNodes.forEach(r=>{this.replaceIdOnNode(r,n)})}patchRootIdOnNode(t,n){t.type!==fr.Document&&!t.rootId&&(t.rootId=n),"childNodes"in t&&t.childNodes.forEach(r=>{this.patchRootIdOnNode(r,n)})}}class i${init(){}addShadowRoot(){}observeAttachShadow(){}reset(){}}class s${constructor(t){this.shadowDoms=new WeakSet,this.restoreHandlers=[],this.mutationCb=t.mutationCb,this.scrollCb=t.scrollCb,this.bypassOptions=t.bypassOptions,this.mirror=t.mirror,this.init()}init(){this.reset(),this.patchAttachShadow(Element,document)}addShadowRoot(t,n){if(!eh(t)||this.shadowDoms.has(t))return;this.shadowDoms.add(t),this.bypassOptions.canvasManager.addShadowRoot(t);const r=r9({...this.bypassOptions,doc:n,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this},t);this.restoreHandlers.push(()=>r.disconnect()),this.restoreHandlers.push(i9({...this.bypassOptions,scrollCb:this.scrollCb,doc:t,mirror:this.mirror})),e1(()=>{t.adoptedStyleSheets&&t.adoptedStyleSheets.length>0&&this.bypassOptions.stylesheetManager.adoptStyleSheets(t.adoptedStyleSheets,this.mirror.getId(t.host)),this.restoreHandlers.push(s9({mirror:this.mirror,stylesheetManager:this.bypassOptions.stylesheetManager},t))},0)}observeAttachShadow(t){const n=gw(t),r=Lz(t);!n||!r||this.patchAttachShadow(r.Element,n)}patchAttachShadow(t,n){const r=this;this.restoreHandlers.push(pw(t.prototype,"attachShadow",function(i){return function(s){const o=i.call(this,s);return this.shadowRoot&&t9(this)&&r.addShadowRoot(this.shadowRoot,n),o}}))}reset(){this.restoreHandlers.forEach(t=>{try{t()}catch{}}),this.restoreHandlers=[],this.shadowDoms=new WeakSet,this.bypassOptions.canvasManager.resetShadowRoots()}}class S4{reset(){}freeze(){}unfreeze(){}lock(){}unlock(){}snapshot(){}addWindow(){}addShadowRoot(){}resetShadowRoots(){}}class o${constructor(t){this.trackedLinkElements=new WeakSet,this.styleMirror=new Rz,this.mutationCb=t.mutationCb,this.adoptedStyleSheetCb=t.adoptedStyleSheetCb}attachLinkElement(t,n){"_cssText"in n.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:n.id,attributes:n.attributes}]}),this.trackLinkElement(t)}trackLinkElement(t){this.trackedLinkElements.has(t)||(this.trackedLinkElements.add(t),this.trackStylesheetInLinkElement(t))}adoptStyleSheets(t,n){if(t.length===0)return;const r={id:n,styleIds:[]},i=[];for(const s of t){let o;this.styleMirror.has(s)?o=this.styleMirror.getId(s):(o=this.styleMirror.add(s),i.push({styleId:o,rules:Array.from(s.rules||CSSRule,(a,l)=>({rule:F8(a),index:l}))})),r.styleIds.push(o)}i.length>0&&(r.styles=i),this.adoptedStyleSheetCb(r)}reset(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet}trackStylesheetInLinkElement(t){}}class a${constructor(){this.nodeMap=new WeakMap,this.active=!1}inOtherBuffer(t,n){const r=this.nodeMap.get(t);return r&&Array.from(r).some(i=>i!==n)}add(t,n){this.active||(this.active=!0,Mz(()=>{this.nodeMap=new WeakMap,this.active=!1})),this.nodeMap.set(t,(this.nodeMap.get(t)||new Set).add(n))}destroy(){}}let Vn,u0;try{if(Array.from([1],e=>e*2)[0]!==2){const e=document.createElement("iframe");document.body.appendChild(e),Array.from=Dg([e,"access",t=>t.contentWindow,"optionalAccess",t=>t.Array,"access",t=>t.from])||Array.from,document.body.removeChild(e)}}catch(e){console.debug("Unable to override Array.from",e)}const Rs=oz();function Go(e={}){const{emit:t,checkoutEveryNms:n,checkoutEveryNth:r,blockClass:i="rr-block",blockSelector:s=null,unblockSelector:o=null,ignoreClass:a="rr-ignore",ignoreSelector:l=null,maskAllText:u=!1,maskTextClass:f="rr-mask",unmaskTextClass:h=null,maskTextSelector:g=null,unmaskTextSelector:y=null,inlineStylesheet:b=!0,maskAllInputs:_,maskInputOptions:E,slimDOMOptions:C,maskAttributeFn:P,maskInputFn:O,maskTextFn:z,maxCanvasSize:B=null,packFn:j,sampling:M={},dataURLOptions:U={},mousemoveWait:$,recordDOM:D=!0,recordCanvas:ee=!1,recordCrossOriginIframes:X=!1,recordAfter:re=e.recordAfter==="DOMContentLoaded"?e.recordAfter:"load",userTriggeredOnInput:Q=!1,collectFonts:q=!1,inlineImages:V=!1,plugins:ne,keepIframeSrcFn:Z=()=>!1,ignoreCSSAttributes:fe=new Set([]),errorHandler:F,onMutation:G,getCanvasManager:ye}=e;Uz(F);const H=X?window.parent===window:!0;let Oe=!1;if(!H)try{window.parent.document&&(Oe=!1)}catch{Oe=!0}if(H&&!t)throw new Error("emit function is required");if(!H&&!Oe)return()=>{};$!==void 0&&M.mousemove===void 0&&(M.mousemove=$),Rs.reset();const Ce=_===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,radio:!0,checkbox:!0}:E!==void 0?E:{},Te=C===!0||C==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:C==="all",headMetaDescKeywords:C==="all"}:C||{};Pz();let Ye,qe=0;const Ne=wt=>{for(const on of ne||[])on.eventProcessor&&(wt=on.eventProcessor(wt));return j&&!Oe&&(wt=j(wt)),wt};Vn=(wt,on)=>{const pt=wt;if(pt.timestamp=l0(),Dg([Xu,"access",Bt=>Bt[0],"optionalAccess",Bt=>Bt.isFrozen,"call",Bt=>Bt()])&&pt.type!==Ut.FullSnapshot&&!(pt.type===Ut.IncrementalSnapshot&&pt.data.source===Et.Mutation)&&Xu.forEach(Bt=>Bt.unfreeze()),H)Dg([t,"optionalCall",Bt=>Bt(Ne(pt),on)]);else if(Oe){const Bt={type:"rrweb",event:Ne(pt),origin:window.location.origin,isCheckout:on};window.parent.postMessage(Bt,"*")}if(pt.type===Ut.FullSnapshot)Ye=pt,qe=0;else if(pt.type===Ut.IncrementalSnapshot){if(pt.data.source===Et.Mutation&&pt.data.isAttachIframe)return;qe++;const Bt=r&&qe>=r,Pt=n&&Ye&&pt.timestamp-Ye.timestamp>n;(Bt||Pt)&&di(!0)}};const ct=wt=>{Vn({type:Ut.IncrementalSnapshot,data:{source:Et.Mutation,...wt}})},xn=wt=>Vn({type:Ut.IncrementalSnapshot,data:{source:Et.Scroll,...wt}}),It=wt=>Vn({type:Ut.IncrementalSnapshot,data:{source:Et.CanvasMutation,...wt}}),En=wt=>Vn({type:Ut.IncrementalSnapshot,data:{source:Et.AdoptedStyleSheet,...wt}}),sn=new o$({mutationCb:ct,adoptedStyleSheetCb:En}),yn=typeof __RRWEB_EXCLUDE_IFRAME__=="boolean"&&__RRWEB_EXCLUDE_IFRAME__?new n$:new r$({mirror:Rs,mutationCb:ct,stylesheetManager:sn,recordCrossOriginIframes:X,wrappedEmit:Vn});for(const wt of ne||[])wt.getMirror&&wt.getMirror({nodeMirror:Rs,crossOriginIframeMirror:yn.crossOriginIframeMirror,crossOriginIframeStyleMirror:yn.crossOriginIframeStyleMirror});const Pi=new a$,Gr=c$(ye,{mirror:Rs,win:window,mutationCb:wt=>Vn({type:Ut.IncrementalSnapshot,data:{source:Et.CanvasMutation,...wt}}),recordCanvas:ee,blockClass:i,blockSelector:s,unblockSelector:o,maxCanvasSize:B,sampling:M.canvas,dataURLOptions:U,errorHandler:F}),Ri=typeof __RRWEB_EXCLUDE_SHADOW_DOM__=="boolean"&&__RRWEB_EXCLUDE_SHADOW_DOM__?new i$:new s$({mutationCb:ct,scrollCb:xn,bypassOptions:{onMutation:G,blockClass:i,blockSelector:s,unblockSelector:o,maskAllText:u,maskTextClass:f,unmaskTextClass:h,maskTextSelector:g,unmaskTextSelector:y,inlineStylesheet:b,maskInputOptions:Ce,dataURLOptions:U,maskAttributeFn:P,maskTextFn:z,maskInputFn:O,recordCanvas:ee,inlineImages:V,sampling:M,slimDOMOptions:Te,iframeManager:yn,stylesheetManager:sn,canvasManager:Gr,keepIframeSrcFn:Z,processedNodeManager:Pi},mirror:Rs}),di=(wt=!1)=>{if(!D)return;Vn({type:Ut.Meta,data:{href:window.location.href,width:G8(),height:K8()}},wt),sn.reset(),Ri.init(),Xu.forEach(pt=>pt.lock());const on=Nz(document,{mirror:Rs,blockClass:i,blockSelector:s,unblockSelector:o,maskAllText:u,maskTextClass:f,unmaskTextClass:h,maskTextSelector:g,unmaskTextSelector:y,inlineStylesheet:b,maskAllInputs:Ce,maskAttributeFn:P,maskInputFn:O,maskTextFn:z,slimDOM:Te,dataURLOptions:U,recordCanvas:ee,inlineImages:V,onSerialize:pt=>{J8(pt,Rs)&&yn.addIframe(pt),Z8(pt,Rs)&&sn.trackLinkElement(pt),kb(pt)&&Ri.addShadowRoot(pt.shadowRoot,document)},onIframeLoad:(pt,Bt)=>{yn.attachIframe(pt,Bt),pt.contentWindow&&Gr.addWindow(pt.contentWindow),Ri.observeAttachShadow(pt)},onStylesheetLoad:(pt,Bt)=>{sn.attachLinkElement(pt,Bt)},keepIframeSrcFn:Z});if(!on)return console.warn("Failed to snapshot the document");Vn({type:Ut.FullSnapshot,data:{node:on,initialOffset:V8(window)}}),Xu.forEach(pt=>pt.unlock()),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&sn.adoptStyleSheets(document.adoptedStyleSheets,Rs.getId(document))};u0=di;try{const wt=[],on=Bt=>nn(t$)({onMutation:G,mutationCb:ct,mousemoveCb:(Pt,Wn)=>Vn({type:Ut.IncrementalSnapshot,data:{source:Wn,positions:Pt}}),mouseInteractionCb:Pt=>Vn({type:Ut.IncrementalSnapshot,data:{source:Et.MouseInteraction,...Pt}}),scrollCb:xn,viewportResizeCb:Pt=>Vn({type:Ut.IncrementalSnapshot,data:{source:Et.ViewportResize,...Pt}}),inputCb:Pt=>Vn({type:Ut.IncrementalSnapshot,data:{source:Et.Input,...Pt}}),mediaInteractionCb:Pt=>Vn({type:Ut.IncrementalSnapshot,data:{source:Et.MediaInteraction,...Pt}}),styleSheetRuleCb:Pt=>Vn({type:Ut.IncrementalSnapshot,data:{source:Et.StyleSheetRule,...Pt}}),styleDeclarationCb:Pt=>Vn({type:Ut.IncrementalSnapshot,data:{source:Et.StyleDeclaration,...Pt}}),canvasMutationCb:It,fontCb:Pt=>Vn({type:Ut.IncrementalSnapshot,data:{source:Et.Font,...Pt}}),selectionCb:Pt=>{Vn({type:Ut.IncrementalSnapshot,data:{source:Et.Selection,...Pt}})},customElementCb:Pt=>{Vn({type:Ut.IncrementalSnapshot,data:{source:Et.CustomElement,...Pt}})},blockClass:i,ignoreClass:a,ignoreSelector:l,maskAllText:u,maskTextClass:f,unmaskTextClass:h,maskTextSelector:g,unmaskTextSelector:y,maskInputOptions:Ce,inlineStylesheet:b,sampling:M,recordDOM:D,recordCanvas:ee,inlineImages:V,userTriggeredOnInput:Q,collectFonts:q,doc:Bt,maskAttributeFn:P,maskInputFn:O,maskTextFn:z,keepIframeSrcFn:Z,blockSelector:s,unblockSelector:o,slimDOMOptions:Te,dataURLOptions:U,mirror:Rs,iframeManager:yn,stylesheetManager:sn,shadowDomManager:Ri,processedNodeManager:Pi,canvasManager:Gr,ignoreCSSAttributes:fe,plugins:Dg([ne,"optionalAccess",Pt=>Pt.filter,"call",Pt=>Pt(Wn=>Wn.observer),"optionalAccess",Pt=>Pt.map,"call",Pt=>Pt(Wn=>({observer:Wn.observer,options:Wn.options,callback:Ee=>Vn({type:Ut.Plugin,data:{plugin:Wn.name,payload:Ee}})}))])||[]},{});yn.addLoadListener(Bt=>{try{wt.push(on(Bt.contentDocument))}catch(Pt){console.warn(Pt)}});const pt=()=>{di(),wt.push(on(document))};return document.readyState==="interactive"||document.readyState==="complete"?pt():(wt.push(si("DOMContentLoaded",()=>{Vn({type:Ut.DomContentLoaded,data:{}}),re==="DOMContentLoaded"&&pt()})),wt.push(si("load",()=>{Vn({type:Ut.Load,data:{}}),re==="load"&&pt()},window))),()=>{wt.forEach(Bt=>Bt()),Pi.destroy(),u0=void 0,Hz()}}catch(wt){console.warn(wt)}}function l$(e){if(!u0)throw new Error("please take full snapshot after start recording");u0(e)}Go.mirror=Rs;Go.takeFullSnapshot=l$;function c$(e,t){try{return e?e(t):new S4}catch{return console.warn("Unable to initialize CanvasManager"),new S4}}const u$=3,d$=5;function yw(e){return e>9999999999?e:e*1e3}function Pv(e){return e>9999999999?e/1e3:e}function Vh(e,t){t.category!=="sentry.transaction"&&(["ui.click","ui.input"].includes(t.category)?e.triggerUserActivity():e.checkAndHandleExpiredSession(),e.addUpdate(()=>(e.throttledAddEvent({type:Ut.Custom,timestamp:(t.timestamp||0)*1e3,data:{tag:"breadcrumb",payload:As(t,10,1e3)}}),t.category==="console")))}const f$="button,a";function o9(e){return e.closest(f$)||e}function a9(e){const t=l9(e);return!t||!(t instanceof Element)?t:o9(t)}function l9(e){return h$(e)?e.target:e}function h$(e){return typeof e=="object"&&!!e&&"target"in e}let Ba;function p$(e){return Ba||(Ba=[],m$()),Ba.push(e),()=>{const t=Ba?Ba.indexOf(e):-1;t>-1&&Ba.splice(t,1)}}function m$(){ji(Nn,"open",function(e){return function(...t){if(Ba)try{Ba.forEach(n=>n())}catch{}return e.apply(Nn,t)}})}const g$=new Set([Et.Mutation,Et.StyleSheetRule,Et.StyleDeclaration,Et.AdoptedStyleSheet,Et.CanvasMutation,Et.Selection,Et.MediaInteraction]);function y$(e,t,n){e.handleClick(t,n)}class v${constructor(t,n,r=Vh){this._lastMutation=0,this._lastScroll=0,this._clicks=[],this._timeout=n.timeout/1e3,this._threshold=n.threshold/1e3,this._scrollTimeout=n.scrollTimeout/1e3,this._replay=t,this._ignoreSelector=n.ignoreSelector,this._addBreadcrumbEvent=r}addListeners(){const t=p$(()=>{this._lastMutation=E4()});this._teardown=()=>{t(),this._clicks=[],this._lastMutation=0,this._lastScroll=0}}removeListeners(){this._teardown&&this._teardown(),this._checkClickTimeout&&clearTimeout(this._checkClickTimeout)}handleClick(t,n){if(b$(n,this._ignoreSelector)||!w$(t))return;const r={timestamp:Pv(t.timestamp),clickBreadcrumb:t,clickCount:0,node:n};this._clicks.some(i=>i.node===r.node&&Math.abs(i.timestamp-r.timestamp)<1)||(this._clicks.push(r),this._clicks.length===1&&this._scheduleCheckClicks())}registerMutation(t=Date.now()){this._lastMutation=Pv(t)}registerScroll(t=Date.now()){this._lastScroll=Pv(t)}registerClick(t){const n=o9(t);this._handleMultiClick(n)}_handleMultiClick(t){this._getClicks(t).forEach(n=>{n.clickCount++})}_getClicks(t){return this._clicks.filter(n=>n.node===t)}_checkClicks(){const t=[],n=E4();this._clicks.forEach(r=>{!r.mutationAfter&&this._lastMutation&&(r.mutationAfter=r.timestamp<=this._lastMutation?this._lastMutation-r.timestamp:void 0),!r.scrollAfter&&this._lastScroll&&(r.scrollAfter=r.timestamp<=this._lastScroll?this._lastScroll-r.timestamp:void 0),r.timestamp+this._timeout<=n&&t.push(r)});for(const r of t){const i=this._clicks.indexOf(r);i>-1&&(this._generateBreadcrumbs(r),this._clicks.splice(i,1))}this._clicks.length&&this._scheduleCheckClicks()}_generateBreadcrumbs(t){const n=this._replay,r=t.scrollAfter&&t.scrollAfter<=this._scrollTimeout,i=t.mutationAfter&&t.mutationAfter<=this._threshold,s=!r&&!i,{clickCount:o,clickBreadcrumb:a}=t;if(s){const l=Math.min(t.mutationAfter||this._timeout,this._timeout)*1e3,u=l<this._timeout*1e3?"mutation":"timeout",f={type:"default",message:a.message,timestamp:a.timestamp,category:"ui.slowClickDetected",data:{...a.data,url:Nn.location.href,route:n.getCurrentRoute(),timeAfterClickMs:l,endReason:u,clickCount:o||1}};this._addBreadcrumbEvent(n,f);return}if(o>1){const l={type:"default",message:a.message,timestamp:a.timestamp,category:"ui.multiClick",data:{...a.data,url:Nn.location.href,route:n.getCurrentRoute(),clickCount:o,metric:!0}};this._addBreadcrumbEvent(n,l)}}_scheduleCheckClicks(){this._checkClickTimeout&&clearTimeout(this._checkClickTimeout),this._checkClickTimeout=fd(()=>this._checkClicks(),1e3)}}const x$=["A","BUTTON","INPUT"];function b$(e,t){return!!(!x$.includes(e.tagName)||e.tagName==="INPUT"&&!["submit","button"].includes(e.getAttribute("type")||"")||e.tagName==="A"&&(e.hasAttribute("download")||e.hasAttribute("target")&&e.getAttribute("target")!=="_self")||t&&e.matches(t))}function w$(e){return!!(e.data&&typeof e.data.nodeId=="number"&&e.timestamp)}function E4(){return Date.now()/1e3}function _$(e,t){try{if(!S$(t))return;const{source:n}=t.data;if(g$.has(n)&&e.registerMutation(t.timestamp),n===Et.Scroll&&e.registerScroll(t.timestamp),E$(t)){const{type:r,id:i}=t.data,s=Go.mirror.getNode(i);s instanceof HTMLElement&&r===ni.Click&&e.registerClick(s)}}catch{}}function S$(e){return e.type===u$}function E$(e){return e.data.source===Et.MouseInteraction}function so(e){return{timestamp:Date.now()/1e3,type:"default",...e}}var d0;(function(e){e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment"})(d0||(d0={}));const k$=new Set(["id","class","aria-label","role","name","alt","title","data-test-id","data-testid","disabled","aria-disabled","data-sentry-component"]);function C$(e){const t={};!e["data-sentry-component"]&&e["data-sentry-element"]&&(e["data-sentry-component"]=e["data-sentry-element"]);for(const n in e)if(k$.has(n)){let r=n;(n==="data-testid"||n==="data-test-id")&&(r="testId"),t[r]=e[n]}return t}const T$=e=>t=>{if(!e.isEnabled())return;const n=j$(t);if(!n)return;const r=t.name==="click",i=r?t.event:void 0;r&&e.clickDetector&&i&&i.target&&!i.altKey&&!i.metaKey&&!i.ctrlKey&&!i.shiftKey&&y$(e.clickDetector,n,a9(t.event)),Vh(e,n)};function c9(e,t){const n=Go.mirror.getId(e),r=n&&Go.mirror.getNode(n),i=r&&Go.mirror.getMeta(r),s=i&&I$(i)?i:null;return{message:t,data:s?{nodeId:n,node:{id:n,tagName:s.tagName,textContent:Array.from(s.childNodes).map(o=>o.type===d0.Text&&o.textContent).filter(Boolean).map(o=>o.trim()).join(""),attributes:C$(s.attributes)}}:{}}}function j$(e){const{target:t,message:n}=N$(e);return so({category:`ui.${e.name}`,...c9(t,n)})}function N$(e){const t=e.name==="click";let n,r=null;try{r=t?a9(e.event):l9(e.event),n=Jo(r,{maxStringLength:200})||"<unknown>"}catch{n="<unknown>"}return{target:r,message:n}}function I$(e){return e.type===d0.Element}function P$(e,t){if(!e.isEnabled())return;e.updateUserActivity();const n=R$(t);n&&Vh(e,n)}function R$(e){const{metaKey:t,shiftKey:n,ctrlKey:r,altKey:i,key:s,target:o}=e;if(!o||O$(o)||!s)return null;const a=t||r||i,l=s.length===1;if(!a&&l)return null;const u=Jo(o,{maxStringLength:200})||"<unknown>",f=c9(o,u);return so({category:"ui.keyDown",message:u,data:{...f.data,metaKey:t,shiftKey:n,ctrlKey:r,altKey:i,key:s}})}function O$(e){return e.tagName==="INPUT"||e.tagName==="TEXTAREA"||e.isContentEditable}const A$={resource:B$,paint:L$,navigation:F$};function $m(e,t){return({metric:n})=>void t.replayPerformanceEntries.push(e(n))}function M$(e){return e.map(D$).filter(Boolean)}function D$(e){const t=A$[e.entryType];return t?t(e):null}function md(e){return((ci||Nn.performance.timeOrigin)+e)/1e3}function L$(e){const{duration:t,entryType:n,name:r,startTime:i}=e,s=md(i);return{type:n,name:r,start:s,end:s+t,data:void 0}}function F$(e){const{entryType:t,name:n,decodedBodySize:r,duration:i,domComplete:s,encodedBodySize:o,domContentLoadedEventStart:a,domContentLoadedEventEnd:l,domInteractive:u,loadEventStart:f,loadEventEnd:h,redirectCount:g,startTime:y,transferSize:b,type:_}=e;return i===0?null:{type:`${t}.${_}`,start:md(y),end:md(s),name:n,data:{size:b,decodedBodySize:r,encodedBodySize:o,duration:i,domInteractive:u,domContentLoadedEventStart:a,domContentLoadedEventEnd:l,loadEventStart:f,loadEventEnd:h,domComplete:s,redirectCount:g}}}function B$(e){const{entryType:t,initiatorType:n,name:r,responseEnd:i,startTime:s,decodedBodySize:o,encodedBodySize:a,responseStatus:l,transferSize:u}=e;return["fetch","xmlhttprequest"].includes(n)?null:{type:`${t}.${n}`,start:md(s),end:md(i),name:r,data:{size:u,statusCode:l,decodedBodySize:o,encodedBodySize:a}}}function z$(e){const t=e.entries[e.entries.length-1],n=t&&t.element?[t.element]:void 0;return t1(e,"largest-contentful-paint",n)}function $$(e){return e.sources!==void 0}function U$(e){const t=[],n=[];for(const r of e.entries)if($$(r)){const i=[];for(const s of r.sources)if(s.node){n.push(s.node);const o=Go.mirror.getId(s.node);o&&i.push(o)}t.push({value:r.value,nodeIds:i.length?i:void 0})}return t1(e,"cumulative-layout-shift",n,t)}function H$(e){const t=e.entries[e.entries.length-1],n=t&&t.target?[t.target]:void 0;return t1(e,"first-input-delay",n)}function W$(e){const t=e.entries[e.entries.length-1],n=t&&t.target?[t.target]:void 0;return t1(e,"interaction-to-next-paint",n)}function t1(e,t,n,r){const i=e.value,s=e.rating,o=md(i);return{type:"web-vital",name:t,start:o,end:o,data:{value:i,size:i,rating:s,nodeIds:n?n.map(a=>Go.mirror.getId(a)):void 0,attributions:r}}}function q$(e){function t(i){e.performanceEntries.includes(i)||e.performanceEntries.push(i)}function n({entries:i}){i.forEach(t)}const r=[];return["navigation","paint","resource"].forEach(i=>{r.push(dd(i,n))}),r.push(C8($m(z$,e)),aw($m(U$,e)),T8($m(H$,e)),j8($m(W$,e))),()=>{r.forEach(i=>i())}}const yt=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Q$='var t=Uint8Array,n=Uint16Array,r=Int32Array,e=new t([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),i=new t([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),a=new t([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),s=function(t,e){for(var i=new n(31),a=0;a<31;++a)i[a]=e+=1<<t[a-1];var s=new r(i[30]);for(a=1;a<30;++a)for(var o=i[a];o<i[a+1];++o)s[o]=o-i[a]<<5|a;return{b:i,r:s}},o=s(e,2),f=o.b,h=o.r;f[28]=258,h[258]=28;for(var l=s(i,0).r,u=new n(32768),c=0;c<32768;++c){var v=(43690&c)>>1|(21845&c)<<1;v=(61680&(v=(52428&v)>>2|(13107&v)<<2))>>4|(3855&v)<<4,u[c]=((65280&v)>>8|(255&v)<<8)>>1}var d=function(t,r,e){for(var i=t.length,a=0,s=new n(r);a<i;++a)t[a]&&++s[t[a]-1];var o,f=new n(r);for(a=1;a<r;++a)f[a]=f[a-1]+s[a-1]<<1;if(e){o=new n(1<<r);var h=15-r;for(a=0;a<i;++a)if(t[a])for(var l=a<<4|t[a],c=r-t[a],v=f[t[a]-1]++<<c,d=v|(1<<c)-1;v<=d;++v)o[u[v]>>h]=l}else for(o=new n(i),a=0;a<i;++a)t[a]&&(o[a]=u[f[t[a]-1]++]>>15-t[a]);return o},g=new t(288);for(c=0;c<144;++c)g[c]=8;for(c=144;c<256;++c)g[c]=9;for(c=256;c<280;++c)g[c]=7;for(c=280;c<288;++c)g[c]=8;var w=new t(32);for(c=0;c<32;++c)w[c]=5;var p=d(g,9,0),y=d(w,5,0),m=function(t){return(t+7)/8|0},b=function(n,r,e){return(null==e||e>n.length)&&(e=n.length),new t(n.subarray(r,e))},M=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],E=function(t,n,r){var e=new Error(n||M[t]);if(e.code=t,Error.captureStackTrace&&Error.captureStackTrace(e,E),!r)throw e;return e},z=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8},_=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8,t[e+2]|=r>>16},x=function(r,e){for(var i=[],a=0;a<r.length;++a)r[a]&&i.push({s:a,f:r[a]});var s=i.length,o=i.slice();if(!s)return{t:F,l:0};if(1==s){var f=new t(i[0].s+1);return f[i[0].s]=1,{t:f,l:1}}i.sort((function(t,n){return t.f-n.f})),i.push({s:-1,f:25001});var h=i[0],l=i[1],u=0,c=1,v=2;for(i[0]={s:-1,f:h.f+l.f,l:h,r:l};c!=s-1;)h=i[i[u].f<i[v].f?u++:v++],l=i[u!=c&&i[u].f<i[v].f?u++:v++],i[c++]={s:-1,f:h.f+l.f,l:h,r:l};var d=o[0].s;for(a=1;a<s;++a)o[a].s>d&&(d=o[a].s);var g=new n(d+1),w=A(i[c-1],g,0);if(w>e){a=0;var p=0,y=w-e,m=1<<y;for(o.sort((function(t,n){return g[n.s]-g[t.s]||t.f-n.f}));a<s;++a){var b=o[a].s;if(!(g[b]>e))break;p+=m-(1<<w-g[b]),g[b]=e}for(p>>=y;p>0;){var M=o[a].s;g[M]<e?p-=1<<e-g[M]++-1:++a}for(;a>=0&&p;--a){var E=o[a].s;g[E]==e&&(--g[E],++p)}w=e}return{t:new t(g),l:w}},A=function(t,n,r){return-1==t.s?Math.max(A(t.l,n,r+1),A(t.r,n,r+1)):n[t.s]=r},D=function(t){for(var r=t.length;r&&!t[--r];);for(var e=new n(++r),i=0,a=t[0],s=1,o=function(t){e[i++]=t},f=1;f<=r;++f)if(t[f]==a&&f!=r)++s;else{if(!a&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(a),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(a);s=1,a=t[f]}return{c:e.subarray(0,i),n:r}},T=function(t,n){for(var r=0,e=0;e<n.length;++e)r+=t[e]*n[e];return r},k=function(t,n,r){var e=r.length,i=m(n+2);t[i]=255&e,t[i+1]=e>>8,t[i+2]=255^t[i],t[i+3]=255^t[i+1];for(var a=0;a<e;++a)t[i+a+4]=r[a];return 8*(i+4+e)},U=function(t,r,s,o,f,h,l,u,c,v,m){z(r,m++,s),++f[256];for(var b=x(f,15),M=b.t,E=b.l,A=x(h,15),U=A.t,C=A.l,F=D(M),I=F.c,S=F.n,L=D(U),O=L.c,j=L.n,q=new n(19),B=0;B<I.length;++B)++q[31&I[B]];for(B=0;B<O.length;++B)++q[31&O[B]];for(var G=x(q,7),H=G.t,J=G.l,K=19;K>4&&!H[a[K-1]];--K);var N,P,Q,R,V=v+5<<3,W=T(f,g)+T(h,w)+l,X=T(f,M)+T(h,U)+l+14+3*K+T(q,H)+2*q[16]+3*q[17]+7*q[18];if(c>=0&&V<=W&&V<=X)return k(r,m,t.subarray(c,c+v));if(z(r,m,1+(X<W)),m+=2,X<W){N=d(M,E,0),P=M,Q=d(U,C,0),R=U;var Y=d(H,J,0);z(r,m,S-257),z(r,m+5,j-1),z(r,m+10,K-4),m+=14;for(B=0;B<K;++B)z(r,m+3*B,H[a[B]]);m+=3*K;for(var Z=[I,O],$=0;$<2;++$){var tt=Z[$];for(B=0;B<tt.length;++B){var nt=31&tt[B];z(r,m,Y[nt]),m+=H[nt],nt>15&&(z(r,m,tt[B]>>5&127),m+=tt[B]>>12)}}}else N=p,P=g,Q=y,R=w;for(B=0;B<u;++B){var rt=o[B];if(rt>255){_(r,m,N[(nt=rt>>18&31)+257]),m+=P[nt+257],nt>7&&(z(r,m,rt>>23&31),m+=e[nt]);var et=31&rt;_(r,m,Q[et]),m+=R[et],et>3&&(_(r,m,rt>>5&8191),m+=i[et])}else _(r,m,N[rt]),m+=P[rt]}return _(r,m,N[256]),m+P[256]},C=new r([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),F=new t(0),I=function(){for(var t=new Int32Array(256),n=0;n<256;++n){for(var r=n,e=9;--e;)r=(1&r&&-306674912)^r>>>1;t[n]=r}return t}(),S=function(){var t=-1;return{p:function(n){for(var r=t,e=0;e<n.length;++e)r=I[255&r^n[e]]^r>>>8;t=r},d:function(){return~t}}},L=function(){var t=1,n=0;return{p:function(r){for(var e=t,i=n,a=0|r.length,s=0;s!=a;){for(var o=Math.min(s+2655,a);s<o;++s)i+=e+=r[s];e=(65535&e)+15*(e>>16),i=(65535&i)+15*(i>>16)}t=e,n=i},d:function(){return(255&(t%=65521))<<24|(65280&t)<<8|(255&(n%=65521))<<8|n>>8}}},O=function(a,s,o,f,u){if(!u&&(u={l:1},s.dictionary)){var c=s.dictionary.subarray(-32768),v=new t(c.length+a.length);v.set(c),v.set(a,c.length),a=v,u.w=c.length}return function(a,s,o,f,u,c){var v=c.z||a.length,d=new t(f+v+5*(1+Math.ceil(v/7e3))+u),g=d.subarray(f,d.length-u),w=c.l,p=7&(c.r||0);if(s){p&&(g[0]=c.r>>3);for(var y=C[s-1],M=y>>13,E=8191&y,z=(1<<o)-1,_=c.p||new n(32768),x=c.h||new n(z+1),A=Math.ceil(o/3),D=2*A,T=function(t){return(a[t]^a[t+1]<<A^a[t+2]<<D)&z},F=new r(25e3),I=new n(288),S=new n(32),L=0,O=0,j=c.i||0,q=0,B=c.w||0,G=0;j+2<v;++j){var H=T(j),J=32767&j,K=x[H];if(_[J]=K,x[H]=J,B<=j){var N=v-j;if((L>7e3||q>24576)&&(N>423||!w)){p=U(a,g,0,F,I,S,O,q,G,j-G,p),q=L=O=0,G=j;for(var P=0;P<286;++P)I[P]=0;for(P=0;P<30;++P)S[P]=0}var Q=2,R=0,V=E,W=J-K&32767;if(N>2&&H==T(j-W))for(var X=Math.min(M,N)-1,Y=Math.min(32767,j),Z=Math.min(258,N);W<=Y&&--V&&J!=K;){if(a[j+Q]==a[j+Q-W]){for(var $=0;$<Z&&a[j+$]==a[j+$-W];++$);if($>Q){if(Q=$,R=W,$>X)break;var tt=Math.min(W,$-2),nt=0;for(P=0;P<tt;++P){var rt=j-W+P&32767,et=rt-_[rt]&32767;et>nt&&(nt=et,K=rt)}}}W+=(J=K)-(K=_[J])&32767}if(R){F[q++]=268435456|h[Q]<<18|l[R];var it=31&h[Q],at=31&l[R];O+=e[it]+i[at],++I[257+it],++S[at],B=j+Q,++L}else F[q++]=a[j],++I[a[j]]}}for(j=Math.max(j,B);j<v;++j)F[q++]=a[j],++I[a[j]];p=U(a,g,w,F,I,S,O,q,G,j-G,p),w||(c.r=7&p|g[p/8|0]<<3,p-=7,c.h=x,c.p=_,c.i=j,c.w=B)}else{for(j=c.w||0;j<v+w;j+=65535){var st=j+65535;st>=v&&(g[p/8|0]=w,st=v),p=k(g,p+1,a.subarray(j,st))}c.i=v}return b(d,0,f+m(p)+u)}(a,null==s.level?6:s.level,null==s.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(a.length)))):12+s.mem,o,f,u)},j=function(t,n,r){for(;r;++n)t[n]=r,r>>>=8},q=function(t,n){var r=n.filename;if(t[0]=31,t[1]=139,t[2]=8,t[8]=n.level<2?4:9==n.level?2:0,t[9]=3,0!=n.mtime&&j(t,4,Math.floor(new Date(n.mtime||Date.now())/1e3)),r){t[3]=8;for(var e=0;e<=r.length;++e)t[e+10]=r.charCodeAt(e)}},B=function(t){return 10+(t.filename?t.filename.length+1:0)},G=function(){function n(n,r){if("function"==typeof n&&(r=n,n={}),this.ondata=r,this.o=n||{},this.s={l:0,i:32768,w:32768,z:32768},this.b=new t(98304),this.o.dictionary){var e=this.o.dictionary.subarray(-32768);this.b.set(e,32768-e.length),this.s.i=32768-e.length}}return n.prototype.p=function(t,n){this.ondata(O(t,this.o,0,0,this.s),n)},n.prototype.push=function(n,r){this.ondata||E(5),this.s.l&&E(4);var e=n.length+this.s.z;if(e>this.b.length){if(e>2*this.b.length-32768){var i=new t(-32768&e);i.set(this.b.subarray(0,this.s.z)),this.b=i}var a=this.b.length-this.s.z;a&&(this.b.set(n.subarray(0,a),this.s.z),this.s.z=this.b.length,this.p(this.b,!1)),this.b.set(this.b.subarray(-32768)),this.b.set(n.subarray(a),32768),this.s.z=n.length-a+32768,this.s.i=32766,this.s.w=32768}else this.b.set(n,this.s.z),this.s.z+=n.length;this.s.l=1&r,(this.s.z>this.s.w+8191||r)&&(this.p(this.b,r||!1),this.s.w=this.s.i,this.s.i-=2)},n}();var H=function(){function t(t,n){this.c=L(),this.v=1,G.call(this,t,n)}return t.prototype.push=function(t,n){this.c.p(t),G.prototype.push.call(this,t,n)},t.prototype.p=function(t,n){var r=O(t,this.o,this.v&&(this.o.dictionary?6:2),n&&4,this.s);this.v&&(function(t,n){var r=n.level,e=0==r?0:r<6?1:9==r?3:2;if(t[0]=120,t[1]=e<<6|(n.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,n.dictionary){var i=L();i.p(n.dictionary),j(t,2,i.d())}}(r,this.o),this.v=0),n&&j(r,r.length-4,this.c.d()),this.ondata(r,n)},t}(),J="undefined"!=typeof TextEncoder&&new TextEncoder,K="undefined"!=typeof TextDecoder&&new TextDecoder;try{K.decode(F,{stream:!0})}catch(t){}var N=function(){function t(t){this.ondata=t}return t.prototype.push=function(t,n){this.ondata||E(5),this.d&&E(4),this.ondata(P(t),this.d=n||!1)},t}();function P(n,r){if(J)return J.encode(n);for(var e=n.length,i=new t(n.length+(n.length>>1)),a=0,s=function(t){i[a++]=t},o=0;o<e;++o){if(a+5>i.length){var f=new t(a+8+(e-o<<1));f.set(i),i=f}var h=n.charCodeAt(o);h<128||r?s(h):h<2048?(s(192|h>>6),s(128|63&h)):h>55295&&h<57344?(s(240|(h=65536+(1047552&h)|1023&n.charCodeAt(++o))>>18),s(128|h>>12&63),s(128|h>>6&63),s(128|63&h)):(s(224|h>>12),s(128|h>>6&63),s(128|63&h))}return b(i,0,a)}function Q(t){return function(t,n){n||(n={});var r=S(),e=t.length;r.p(t);var i=O(t,n,B(n),8),a=i.length;return q(i,n),j(i,a-8,r.d()),j(i,a-4,e),i}(P(t))}const R=new class{constructor(){this._init()}clear(){this._init()}addEvent(t){if(!t)throw new Error("Adding invalid event");const n=this._hasEvents?",":"";this.stream.push(n+t),this._hasEvents=!0}finish(){this.stream.push("]",!0);const t=function(t){let n=0;for(const r of t)n+=r.length;const r=new Uint8Array(n);for(let n=0,e=0,i=t.length;n<i;n++){const i=t[n];r.set(i,e),e+=i.length}return r}(this._deflatedData);return this._init(),t}_init(){this._hasEvents=!1,this._deflatedData=[],this.deflate=new H,this.deflate.ondata=(t,n)=>{this._deflatedData.push(t)},this.stream=new N(((t,n)=>{this.deflate.push(t,n)})),this.stream.push("[")}},V={clear:()=>{R.clear()},addEvent:t=>R.addEvent(t),finish:()=>R.finish(),compress:t=>Q(t)};addEventListener("message",(function(t){const n=t.data.method,r=t.data.id,e=t.data.arg;if(n in V&&"function"==typeof V[n])try{const t=V[n](e);postMessage({id:r,method:n,success:!0,response:t})}catch(t){postMessage({id:r,method:n,success:!1,response:t.message}),console.error(t)}})),postMessage({id:void 0,method:"init",success:!0,response:void 0});';function V$(){const e=new Blob([Q$]);return URL.createObjectURL(e)}const k4=["info","warn","error","log"],Bg="[Replay] ";function Rv(e,t="info"){tl({category:"console",data:{logger:"replay"},level:t,message:`${Bg}${e}`},{level:t})}function K$(){let e=!1,t=!1;const n={exception:()=>{},infoTick:()=>{},setConfig:r=>{e=r.captureExceptions,t=r.traceInternals}};return yt?(k4.forEach(r=>{n[r]=(...i)=>{Ge[r](Bg,...i),t&&Rv(i.join(""),u8(r))}}),n.exception=(r,...i)=>{i.length&&n.error&&n.error(...i),Ge.error(Bg,r),e?nw(r):t&&Rv(r,"error")},n.infoTick=(...r)=>{Ge.info(Bg,...r),t&&setTimeout(()=>Rv(r[0]),0)}):k4.forEach(r=>{n[r]=()=>{}}),n}const bt=K$();class vw extends Error{constructor(){super(`Event buffer exceeded maximum size of ${dw}.`)}}class u9{constructor(){this.events=[],this._totalSize=0,this.hasCheckout=!1,this.waitForCheckout=!1}get hasEvents(){return this.events.length>0}get type(){return"sync"}destroy(){this.events=[]}async addEvent(t){const n=JSON.stringify(t).length;if(this._totalSize+=n,this._totalSize>dw)throw new vw;this.events.push(t)}finish(){return new Promise(t=>{const n=this.events;this.clear(),t(JSON.stringify(n))})}clear(){this.events=[],this._totalSize=0,this.hasCheckout=!1}getEarliestTimestamp(){const t=this.events.map(n=>n.timestamp).sort()[0];return t?yw(t):null}}class G${constructor(t){this._worker=t,this._id=0}ensureReady(){return this._ensureReadyPromise?this._ensureReadyPromise:(this._ensureReadyPromise=new Promise((t,n)=>{this._worker.addEventListener("message",({data:r})=>{r.success?t():n()},{once:!0}),this._worker.addEventListener("error",r=>{n(r)},{once:!0})}),this._ensureReadyPromise)}destroy(){yt&&bt.info("Destroying compression worker"),this._worker.terminate()}postMessage(t,n){const r=this._getAndIncrementId();return new Promise((i,s)=>{const o=({data:a})=>{const l=a;if(l.method===t&&l.id===r){if(this._worker.removeEventListener("message",o),!l.success){yt&&bt.error("Error in compression worker: ",l.response),s(new Error("Error in compression worker"));return}i(l.response)}};this._worker.addEventListener("message",o),this._worker.postMessage({id:r,method:t,arg:n})})}_getAndIncrementId(){return this._id++}}class Y${constructor(t){this._worker=new G$(t),this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this.waitForCheckout=!1}get hasEvents(){return!!this._earliestTimestamp}get type(){return"worker"}ensureReady(){return this._worker.ensureReady()}destroy(){this._worker.destroy()}addEvent(t){const n=yw(t.timestamp);(!this._earliestTimestamp||n<this._earliestTimestamp)&&(this._earliestTimestamp=n);const r=JSON.stringify(t);return this._totalSize+=r.length,this._totalSize>dw?Promise.reject(new vw):this._sendEventToWorker(r)}finish(){return this._finishRequest()}clear(){this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this._worker.postMessage("clear").then(null,t=>{yt&&bt.exception(t,'Sending "clear" message to worker failed',t)})}getEarliestTimestamp(){return this._earliestTimestamp}_sendEventToWorker(t){return this._worker.postMessage("addEvent",t)}async _finishRequest(){const t=await this._worker.postMessage("finish");return this._earliestTimestamp=null,this._totalSize=0,t}}class X${constructor(t){this._fallback=new u9,this._compression=new Y$(t),this._used=this._fallback,this._ensureWorkerIsLoadedPromise=this._ensureWorkerIsLoaded()}get waitForCheckout(){return this._used.waitForCheckout}get type(){return this._used.type}get hasEvents(){return this._used.hasEvents}get hasCheckout(){return this._used.hasCheckout}set hasCheckout(t){this._used.hasCheckout=t}set waitForCheckout(t){this._used.waitForCheckout=t}destroy(){this._fallback.destroy(),this._compression.destroy()}clear(){return this._used.clear()}getEarliestTimestamp(){return this._used.getEarliestTimestamp()}addEvent(t){return this._used.addEvent(t)}async finish(){return await this.ensureWorkerIsLoaded(),this._used.finish()}ensureWorkerIsLoaded(){return this._ensureWorkerIsLoadedPromise}async _ensureWorkerIsLoaded(){try{await this._compression.ensureReady()}catch(t){yt&&bt.exception(t,"Failed to load the compression worker, falling back to simple buffer");return}await this._switchToCompressionWorker()}async _switchToCompressionWorker(){const{events:t,hasCheckout:n,waitForCheckout:r}=this._fallback,i=[];for(const s of t)i.push(this._compression.addEvent(s));this._compression.hasCheckout=n,this._compression.waitForCheckout=r,this._used=this._compression;try{await Promise.all(i),this._fallback.clear()}catch(s){yt&&bt.exception(s,"Failed to add events when switching buffers.")}}}function J$({useCompression:e,workerUrl:t}){if(e&&window.Worker){const n=Z$(t);if(n)return n}return yt&&bt.info("Using simple buffer"),new u9}function Z$(e){try{const t=e||eU();if(!t)return;yt&&bt.info(`Using compression worker${e?` from ${e}`:""}`);const n=new Worker(t);return new X$(n)}catch(t){yt&&bt.exception(t,"Failed to create compression worker")}}function eU(){return typeof __SENTRY_EXCLUDE_REPLAY_WORKER__>"u"||!__SENTRY_EXCLUDE_REPLAY_WORKER__?V$():""}function xw(){try{return"sessionStorage"in Nn&&!!Nn.sessionStorage}catch{return!1}}function tU(e){nU(),e.session=void 0}function nU(){if(xw())try{Nn.sessionStorage.removeItem(cw)}catch{}}function d9(e){return e===void 0?!1:Math.random()<e}function f9(e){const t=Date.now(),n=e.id||Qi(),r=e.started||t,i=e.lastActivity||t,s=e.segmentId||0,o=e.sampled,a=e.previousSessionId;return{id:n,started:r,lastActivity:i,segmentId:s,sampled:o,previousSessionId:a}}function bw(e){if(xw())try{Nn.sessionStorage.setItem(cw,JSON.stringify(e))}catch{}}function rU(e,t){return d9(e)?"session":t?"buffer":!1}function C4({sessionSampleRate:e,allowBuffering:t,stickySession:n=!1},{previousSessionId:r}={}){const i=rU(e,t),s=f9({sampled:i,previousSessionId:r});return n&&bw(s),s}function iU(){if(!xw())return null;try{const e=Nn.sessionStorage.getItem(cw);if(!e)return null;const t=JSON.parse(e);return yt&&bt.infoTick("Loading existing session"),f9(t)}catch{return null}}function jb(e,t,n=+new Date){return e===null||t===void 0||t<0?!0:t===0?!1:e+t<=n}function h9(e,{maxReplayDuration:t,sessionIdleExpire:n,targetTime:r=Date.now()}){return jb(e.started,t,r)||jb(e.lastActivity,n,r)}function p9(e,{sessionIdleExpire:t,maxReplayDuration:n}){return!(!h9(e,{sessionIdleExpire:t,maxReplayDuration:n})||e.sampled==="buffer"&&e.segmentId===0)}function Ov({sessionIdleExpire:e,maxReplayDuration:t,previousSessionId:n},r){const i=r.stickySession&&iU();return i?p9(i,{sessionIdleExpire:e,maxReplayDuration:t})?(yt&&bt.infoTick("Session in sessionStorage is expired, creating new one..."),C4(r,{previousSessionId:i.id})):i:(yt&&bt.infoTick("Creating new session"),C4(r,{previousSessionId:n}))}function sU(e){return e.type===Ut.Custom}function ww(e,t,n){return g9(e,t)?(m9(e,t,n),!0):!1}function oU(e,t,n){return g9(e,t)?m9(e,t,n):Promise.resolve(null)}async function m9(e,t,n){const{eventBuffer:r}=e;if(!r||r.waitForCheckout&&!n)return null;const i=e.recordingMode==="buffer";try{n&&i&&r.clear(),n&&(r.hasCheckout=!0,r.waitForCheckout=!1);const s=e.getOptions(),o=aU(t,s.beforeAddRecordingEvent);return o?await r.addEvent(o):void 0}catch(s){const o=s&&s instanceof vw,a=o?"addEventSizeExceeded":"addEvent";if(o&&i)return r.clear(),r.waitForCheckout=!0,null;e.handleException(s),await e.stop({reason:a});const l=Xt();l&&l.recordDroppedEvent("internal_sdk_error","replay")}}function g9(e,t){if(!e.eventBuffer||e.isPaused()||!e.isEnabled())return!1;const n=yw(t.timestamp);return n+e.timeouts.sessionIdlePause<Date.now()?!1:n>e.getContext().initialTimestamp+e.getOptions().maxReplayDuration?(yt&&bt.infoTick(`Skipping event with timestamp ${n} because it is after maxReplayDuration`),!1):!0}function aU(e,t){try{if(typeof t=="function"&&sU(e))return t(e)}catch(n){return yt&&bt.exception(n,"An error occurred in the `beforeAddRecordingEvent` callback, skipping the event..."),null}return e}function _w(e){return!e.type}function Nb(e){return e.type==="transaction"}function lU(e){return e.type==="replay_event"}function T4(e){return e.type==="feedback"}function cU(e){return(t,n)=>{if(!e.isEnabled()||!_w(t)&&!Nb(t))return;const r=n&&n.statusCode;if(!(!r||r<200||r>=300)){if(Nb(t)){uU(e,t);return}dU(e,t)}}}function uU(e,t){const n=e.getContext();t.contexts&&t.contexts.trace&&t.contexts.trace.trace_id&&n.traceIds.size<100&&n.traceIds.add(t.contexts.trace.trace_id)}function dU(e,t){const n=e.getContext();if(t.event_id&&n.errorIds.size<100&&n.errorIds.add(t.event_id),e.recordingMode!=="buffer"||!t.tags||!t.tags.replayId)return;const{beforeErrorSampling:r}=e.getOptions();typeof r=="function"&&!r(t)||fd(async()=>{try{await e.sendBufferedReplayOrFlush()}catch(i){e.handleException(i)}})}function fU(e){return t=>{!e.isEnabled()||!_w(t)||hU(e,t)}}function hU(e,t){const n=t.exception&&t.exception.values&&t.exception.values[0]&&t.exception.values[0].value;if(typeof n=="string"&&(n.match(/(reactjs\.org\/docs\/error-decoder\.html\?invariant=|react\.dev\/errors\/)(418|419|422|423|425)/)||n.match(/(does not match server-rendered HTML|Hydration failed because)/i))){const r=so({category:"replay.hydrate-error",data:{url:S7()}});Vh(e,r)}}function pU(e){const t=Xt();t&&t.on("beforeAddBreadcrumb",n=>mU(e,n))}function mU(e,t){if(!e.isEnabled()||!y9(t))return;const n=gU(t);n&&Vh(e,n)}function gU(e){return!y9(e)||["fetch","xhr","sentry.event","sentry.transaction"].includes(e.category)||e.category.startsWith("ui.")?null:e.category==="console"?yU(e):so(e)}function yU(e){const t=e.data&&e.data.arguments;if(!Array.isArray(t)||t.length===0)return so(e);let n=!1;const r=t.map(i=>{if(!i)return i;if(typeof i=="string")return i.length>Fm?(n=!0,`${i.slice(0,Fm)}…`):i;if(typeof i=="object")try{const s=As(i,7);return JSON.stringify(s).length>Fm?(n=!0,`${JSON.stringify(s,null,2).slice(0,Fm)}…`):s}catch{}return i});return so({...e,data:{...e.data,arguments:r,...n?{_meta:{warnings:["CONSOLE_ARG_TRUNCATED"]}}:{}}})}function y9(e){return!!e.category}function vU(e,t){return e.type||!e.exception||!e.exception.values||!e.exception.values.length?!1:!!(t.originalException&&t.originalException.__rrweb__)}function v9(){const e=Pn().getPropagationContext().dsc;e&&delete e.replay_id;const t=jr();if(t){const n=Pc(t);delete n.replay_id}}function xU(e,t){e.triggerUserActivity(),e.addUpdate(()=>t.timestamp?(e.throttledAddEvent({type:Ut.Custom,timestamp:t.timestamp*1e3,data:{tag:"breadcrumb",payload:{timestamp:t.timestamp,type:"default",category:"sentry.feedback",data:{feedbackId:t.event_id}}}}),!1):!0)}function bU(e,t){return e.recordingMode!=="buffer"||t.message===uw||!t.exception||t.type?!1:d9(e.getOptions().errorSampleRate)}function wU(e){return Object.assign((t,n)=>!e.isEnabled()||e.isPaused()?t:lU(t)?(delete t.breadcrumbs,t):!_w(t)&&!Nb(t)&&!T4(t)?t:e.checkAndHandleExpiredSession()?T4(t)?(e.flush(),t.contexts.feedback.replay_id=e.getSessionId(),xU(e,t),t):vU(t,n)&&!e.getOptions()._experiments.captureExceptions?(yt&&bt.log("Ignoring error from rrweb internals",t),null):((bU(e,t)||e.recordingMode==="session")&&(t.tags={...t.tags,replayId:e.getSessionId()}),t):(v9(),t),{id:"Replay"})}function n1(e,t){return t.map(({type:n,start:r,end:i,name:s,data:o})=>{const a=e.throttledAddEvent({type:Ut.Custom,timestamp:r,data:{tag:"performanceSpan",payload:{op:n,description:s,startTimestamp:r,endTimestamp:i,data:o}}});return typeof a=="string"?Promise.resolve(null):a})}function _U(e){const{from:t,to:n}=e,r=Date.now()/1e3;return{type:"navigation.push",start:r,end:r,name:n,data:{previous:t}}}function SU(e){return t=>{if(!e.isEnabled())return;const n=_U(t);n!==null&&(e.getContext().urls.push(n.name),e.triggerUserActivity(),e.addUpdate(()=>(n1(e,[n]),!1)))}}function EU(e,t){return yt&&e.getOptions()._experiments.traceInternals?!1:_D(t,Xt())}function x9(e,t){e.isEnabled()&&t!==null&&(EU(e,t.name)||e.addUpdate(()=>(n1(e,[t]),!0)))}function r1(e){if(!e)return;const t=new TextEncoder;try{if(typeof e=="string")return t.encode(e).length;if(e instanceof URLSearchParams)return t.encode(e.toString()).length;if(e instanceof FormData){const n=S9(e);return t.encode(n).length}if(e instanceof Blob)return e.size;if(e instanceof ArrayBuffer)return e.byteLength}catch{}}function b9(e){if(!e)return;const t=parseInt(e,10);return isNaN(t)?void 0:t}function w9(e){try{if(typeof e=="string")return[e];if(e instanceof URLSearchParams)return[e.toString()];if(e instanceof FormData)return[S9(e)];if(!e)return[void 0]}catch(t){return yt&&bt.exception(t,"Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return yt&&bt.info("Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}function f0(e,t){if(!e)return{headers:{},size:void 0,_meta:{warnings:[t]}};const n={...e._meta},r=n.warnings||[];return n.warnings=[...r,t],e._meta=n,e}function _9(e,t){if(!t)return null;const{startTimestamp:n,endTimestamp:r,url:i,method:s,statusCode:o,request:a,response:l}=t;return{type:e,start:n/1e3,end:r/1e3,name:i,data:pr({method:s,statusCode:o,request:a,response:l})}}function bh(e){return{headers:{},size:e,_meta:{warnings:["URL_SKIPPED"]}}}function Ka(e,t,n){if(!t&&Object.keys(e).length===0)return;if(!t)return{headers:e};if(!n)return{headers:e,size:t};const r={headers:e,size:t},{body:i,warnings:s}=kU(n);return r.body=i,s&&s.length>0&&(r._meta={warnings:s}),r}function Ib(e,t){return Object.entries(e).reduce((n,[r,i])=>{const s=r.toLowerCase();return t.includes(s)&&e[r]&&(n[s]=i),n},{})}function S9(e){return new URLSearchParams(e).toString()}function kU(e){if(!e||typeof e!="string")return{body:e};const t=e.length>a4,n=CU(e);if(t){const r=e.slice(0,a4);return n?{body:r,warnings:["MAYBE_JSON_TRUNCATED"]}:{body:`${r}…`,warnings:["TEXT_TRUNCATED"]}}if(n)try{return{body:JSON.parse(e)}}catch{}return{body:e}}function CU(e){const t=e[0],n=e[e.length-1];return t==="["&&n==="]"||t==="{"&&n==="}"}function h0(e,t){const n=TU(e);return Va(n,t)}function TU(e,t=Nn.document.baseURI){if(e.startsWith("http://")||e.startsWith("https://")||e.startsWith(Nn.location.origin))return e;const n=new URL(e,t);if(n.origin!==new URL(t).origin)return e;const r=n.href;return!e.endsWith("/")&&r.endsWith("/")?r.slice(0,-1):r}async function jU(e,t,n){try{const r=await IU(e,t,n),i=_9("resource.fetch",r);x9(n.replay,i)}catch(r){yt&&bt.exception(r,"Failed to capture fetch breadcrumb")}}function NU(e,t){const{input:n,response:r}=t,i=n?E9(n):void 0,s=r1(i),o=r?b9(r.headers.get("content-length")):void 0;s!==void 0&&(e.data.request_body_size=s),o!==void 0&&(e.data.response_body_size=o)}async function IU(e,t,n){const r=Date.now(),{startTimestamp:i=r,endTimestamp:s=r}=t,{url:o,method:a,status_code:l=0,request_body_size:u,response_body_size:f}=e.data,h=h0(o,n.networkDetailAllowUrls)&&!h0(o,n.networkDetailDenyUrls),g=h?PU(n,t.input,u):bh(u),y=await RU(h,n,t.response,f);return{startTimestamp:i,endTimestamp:s,url:o,method:a,statusCode:l,request:g,response:y}}function PU({networkCaptureBodies:e,networkRequestHeaders:t},n,r){const i=n?MU(n,t):{};if(!e)return Ka(i,r,void 0);const s=E9(n),[o,a]=w9(s),l=Ka(i,r,o);return a?f0(l,a):l}async function RU(e,{networkCaptureBodies:t,networkResponseHeaders:n},r,i){if(!e&&i!==void 0)return bh(i);const s=r?k9(r.headers,n):{};if(!r||!t&&i!==void 0)return Ka(s,i,void 0);const[o,a]=await AU(r),l=OU(o,{networkCaptureBodies:t,responseBodySize:i,captureDetails:e,headers:s});return a?f0(l,a):l}function OU(e,{networkCaptureBodies:t,responseBodySize:n,captureDetails:r,headers:i}){try{const s=e&&e.length&&n===void 0?r1(e):n;return r?t?Ka(i,s,e):Ka(i,s,void 0):bh(s)}catch(s){return yt&&bt.exception(s,"Failed to serialize response body"),Ka(i,n,void 0)}}async function AU(e){const t=DU(e);if(!t)return[void 0,"BODY_PARSE_ERROR"];try{return[await LU(t)]}catch(n){return n instanceof Error&&n.message.indexOf("Timeout")>-1?(yt&&bt.warn("Parsing text body from response timed out"),[void 0,"BODY_PARSE_TIMEOUT"]):(yt&&bt.exception(n,"Failed to get text body from response"),[void 0,"BODY_PARSE_ERROR"])}}function E9(e=[]){if(!(e.length!==2||typeof e[1]!="object"))return e[1].body}function k9(e,t){const n={};return t.forEach(r=>{e.get(r)&&(n[r]=e.get(r))}),n}function MU(e,t){return e.length===1&&typeof e[0]!="string"?j4(e[0],t):e.length===2?j4(e[1],t):{}}function j4(e,t){if(!e)return{};const n=e.headers;return n?n instanceof Headers?k9(n,t):Array.isArray(n)?{}:Ib(n,t):{}}function DU(e){try{return e.clone()}catch(t){yt&&bt.exception(t,"Failed to clone response body")}}function LU(e){return new Promise((t,n)=>{const r=fd(()=>n(new Error("Timeout while trying to read response body")),500);FU(e).then(i=>t(i),i=>n(i)).finally(()=>clearTimeout(r))})}async function FU(e){return await e.text()}async function BU(e,t,n){try{const r=$U(e,t,n),i=_9("resource.xhr",r);x9(n.replay,i)}catch(r){yt&&bt.exception(r,"Failed to capture xhr breadcrumb")}}function zU(e,t){const{xhr:n,input:r}=t;if(!n)return;const i=r1(r),s=n.getResponseHeader("content-length")?b9(n.getResponseHeader("content-length")):qU(n.response,n.responseType);i!==void 0&&(e.data.request_body_size=i),s!==void 0&&(e.data.response_body_size=s)}function $U(e,t,n){const r=Date.now(),{startTimestamp:i=r,endTimestamp:s=r,input:o,xhr:a}=t,{url:l,method:u,status_code:f=0,request_body_size:h,response_body_size:g}=e.data;if(!l)return null;if(!a||!h0(l,n.networkDetailAllowUrls)||h0(l,n.networkDetailDenyUrls)){const j=bh(h),M=bh(g);return{startTimestamp:i,endTimestamp:s,url:l,method:u,statusCode:f,request:j,response:M}}const y=a[lc],b=y?Ib(y.request_headers,n.networkRequestHeaders):{},_=Ib(UU(a),n.networkResponseHeaders),[E,C]=n.networkCaptureBodies?w9(o):[void 0],[P,O]=n.networkCaptureBodies?HU(a):[void 0],z=Ka(b,h,E),B=Ka(_,g,P);return{startTimestamp:i,endTimestamp:s,url:l,method:u,statusCode:f,request:C?f0(z,C):z,response:O?f0(B,O):B}}function UU(e){const t=e.getAllResponseHeaders();return t?t.split(`\r
`).reduce((n,r)=>{const[i,s]=r.split(": ");return s&&(n[i.toLowerCase()]=s),n},{}):{}}function HU(e){const t=[];try{return[e.responseText]}catch(n){t.push(n)}try{return WU(e.response,e.responseType)}catch(n){t.push(n)}return yt&&bt.warn("Failed to get xhr response body",...t),[void 0]}function WU(e,t){try{if(typeof e=="string")return[e];if(e instanceof Document)return[e.body.outerHTML];if(t==="json"&&e&&typeof e=="object")return[JSON.stringify(e)];if(!e)return[void 0]}catch(n){return yt&&bt.exception(n,"Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return yt&&bt.info("Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}function qU(e,t){try{const n=t==="json"&&e&&typeof e=="object"?JSON.stringify(e):e;return r1(n)}catch{return}}function QU(e){const t=Xt();try{const{networkDetailAllowUrls:n,networkDetailDenyUrls:r,networkCaptureBodies:i,networkRequestHeaders:s,networkResponseHeaders:o}=e.getOptions(),a={replay:e,networkDetailAllowUrls:n,networkDetailDenyUrls:r,networkCaptureBodies:i,networkRequestHeaders:s,networkResponseHeaders:o};t&&t.on("beforeAddBreadcrumb",(l,u)=>VU(a,l,u))}catch{}}function VU(e,t,n){if(t.data)try{KU(t)&&YU(n)&&(zU(t,n),BU(t,n,e)),GU(t)&&XU(n)&&(NU(t,n),jU(t,n,e))}catch(r){yt&&bt.exception(r,"Error when enriching network breadcrumb")}}function KU(e){return e.category==="xhr"}function GU(e){return e.category==="fetch"}function YU(e){return e&&e.xhr}function XU(e){return e&&e.response}function JU(e){const t=Xt();O8(T$(e)),X0(SU(e)),pU(e),QU(e);const n=wU(e);tD(n),t&&(t.on("beforeSendEvent",fU(e)),t.on("afterSendEvent",cU(e)),t.on("createDsc",r=>{const i=e.getSessionId();i&&e.isEnabled()&&e.recordingMode==="session"&&e.checkAndHandleExpiredSession()&&(r.replay_id=i)}),t.on("spanStart",r=>{e.lastActiveSpan=r}),t.on("spanEnd",r=>{e.lastActiveSpan=r}),t.on("beforeSendFeedback",(r,i)=>{const s=e.getSessionId();i&&i.includeReplay&&e.isEnabled()&&s&&r.contexts&&r.contexts.feedback&&(r.contexts.feedback.replay_id=s)}))}async function ZU(e){try{return Promise.all(n1(e,[eH(Nn.performance.memory)]))}catch{return[]}}function eH(e){const{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:r}=e,i=Date.now()/1e3;return{type:"memory",name:"memory",start:i,end:i,data:{memory:{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:r}}}}function tH(e,t,n){let r,i,s;const o=n&&n.maxWait?Math.max(n.maxWait,t):0;function a(){return l(),r=e(),r}function l(){i!==void 0&&clearTimeout(i),s!==void 0&&clearTimeout(s),i=s=void 0}function u(){return i!==void 0||s!==void 0?a():r}function f(){return i&&clearTimeout(i),i=fd(a,t),o&&s===void 0&&(s=fd(a,o)),r}return f.cancel=l,f.flush=u,f}const ql=en.navigator;function nH(){return/iPhone|iPad|iPod/i.test(ql&&ql.userAgent||"")||/Macintosh/i.test(ql&&ql.userAgent||"")&&ql&&ql.maxTouchPoints&&ql.maxTouchPoints>1?{sampling:{mousemove:!1}}:{}}function rH(e){let t=!1;return(n,r)=>{if(!e.checkAndHandleExpiredSession()){yt&&bt.warn("Received replay event after session expired.");return}const i=r||!t;t=!0,e.clickDetector&&_$(e.clickDetector,n),e.addUpdate(()=>{if(e.recordingMode==="buffer"&&i&&e.setInitialState(),!ww(e,n,i))return!0;if(!i)return!1;const s=e.session;if(sH(e,i),e.recordingMode==="buffer"&&s&&e.eventBuffer){const o=e.eventBuffer.getEarliestTimestamp();o&&(yt&&bt.info(`Updating session start time to earliest event in buffer to ${new Date(o)}`),s.started=o,e.getOptions().stickySession&&bw(s))}return s&&s.previousSessionId||e.recordingMode==="session"&&e.flush(),!0})}}function iH(e){const t=e.getOptions();return{type:Ut.Custom,timestamp:Date.now(),data:{tag:"options",payload:{shouldRecordCanvas:e.isRecordingCanvas(),sessionSampleRate:t.sessionSampleRate,errorSampleRate:t.errorSampleRate,useCompressionOption:t.useCompression,blockAllMedia:t.blockAllMedia,maskAllText:t.maskAllText,maskAllInputs:t.maskAllInputs,useCompression:e.eventBuffer?e.eventBuffer.type==="worker":!1,networkDetailHasUrls:t.networkDetailAllowUrls.length>0,networkCaptureBodies:t.networkCaptureBodies,networkRequestHasHeaders:t.networkRequestHeaders.length>0,networkResponseHasHeaders:t.networkResponseHeaders.length>0}}}}function sH(e,t){!t||!e.session||e.session.segmentId!==0||ww(e,iH(e),!1)}function oH(e,t,n,r){return Rc(V7(e,ew(e),r,n),[[{type:"replay_event"},e],[{type:"replay_recording",length:typeof t=="string"?new TextEncoder().encode(t).length:t.length},t]])}function aH({recordingData:e,headers:t}){let n;const r=`${JSON.stringify(t)}
`;if(typeof e=="string")n=`${r}${e}`;else{const s=new TextEncoder().encode(r);n=new Uint8Array(s.length+e.length),n.set(s),n.set(e,s.length)}return n}async function lH({client:e,scope:t,replayId:n,event:r}){const i=typeof e._integrations=="object"&&e._integrations!==null&&!Array.isArray(e._integrations)?Object.keys(e._integrations):void 0,s={event_id:n,integrations:i};e.emit("preprocessEvent",r,s);const o=await J7(e.getOptions(),r,s,t,e,Ws());if(!o)return null;o.platform=o.platform||"javascript";const a=e.getSdkMetadata(),{name:l,version:u}=a&&a.sdk||{};return o.sdk={...o.sdk,name:l||"sentry.javascript.unknown",version:u||"0.0.0"},o}async function cH({recordingData:e,replayId:t,segmentId:n,eventContext:r,timestamp:i,session:s}){const o=aH({recordingData:e,headers:{segment_id:n}}),{urls:a,errorIds:l,traceIds:u,initialTimestamp:f}=r,h=Xt(),g=Pn(),y=h&&h.getTransport(),b=h&&h.getDsn();if(!h||!y||!b||!s.sampled)return Zo({});const _={type:$B,replay_start_timestamp:f/1e3,timestamp:i/1e3,error_ids:l,trace_ids:u,urls:a,replay_id:t,segment_id:n,replay_type:s.sampled},E=await lH({scope:g,client:h,replayId:t,event:_});if(!E)return h.recordDroppedEvent("event_processor","replay",_),yt&&bt.info("An event processor returned `null`, will not send event."),Zo({});delete E.sdkProcessingMetadata;const C=oH(E,o,b,h.getOptions().tunnel);let P;try{P=await y.send(C)}catch(z){const B=new Error(uw);try{B.cause=z}catch{}throw B}if(typeof P.statusCode=="number"&&(P.statusCode<200||P.statusCode>=300))throw new C9(P.statusCode);const O=a8({},P);if(o8(O,"replay"))throw new Sw(O);return P}class C9 extends Error{constructor(t){super(`Transport returned status code ${t}`)}}class Sw extends Error{constructor(t){super("Rate limit hit"),this.rateLimits=t}}async function T9(e,t={count:0,interval:VB}){const{recordingData:n,onError:r}=e;if(n.length)try{return await cH(e),!0}catch(i){if(i instanceof C9||i instanceof Sw)throw i;if(e8("Replays",{_retryCount:t.count}),r&&r(i),t.count>=KB){const s=new Error(`${uw} - max retries exceeded`);try{s.cause=i}catch{}throw s}return t.interval*=++t.count,new Promise((s,o)=>{fd(async()=>{try{await T9(e,t),s(!0)}catch(a){o(a)}},t.interval)})}}const j9="__THROTTLED",uH="__SKIPPED";function dH(e,t,n){const r=new Map,i=a=>{const l=a-n;r.forEach((u,f)=>{f<l&&r.delete(f)})},s=()=>[...r.values()].reduce((a,l)=>a+l,0);let o=!1;return(...a)=>{const l=Math.floor(Date.now()/1e3);if(i(l),s()>=t){const f=o;return o=!0,f?uH:j9}o=!1;const u=r.get(l)||0;return r.set(l,u+1),e(...a)}}class za{constructor({options:t,recordingOptions:n}){za.prototype.__init.call(this),za.prototype.__init2.call(this),za.prototype.__init3.call(this),za.prototype.__init4.call(this),za.prototype.__init5.call(this),za.prototype.__init6.call(this),this.eventBuffer=null,this.performanceEntries=[],this.replayPerformanceEntries=[],this.recordingMode="session",this.timeouts={sessionIdlePause:UB,sessionIdleExpire:HB},this._lastActivity=Date.now(),this._isEnabled=!1,this._isPaused=!1,this._requiresManualStart=!1,this._hasInitializedCoreListeners=!1,this._context={errorIds:new Set,traceIds:new Set,urls:[],initialTimestamp:Date.now(),initialUrl:""},this._recordingOptions=n,this._options=t,this._debouncedFlush=tH(()=>this._flush(),this._options.flushMinDelay,{maxWait:this._options.flushMaxDelay}),this._throttledAddEvent=dH((o,a)=>oU(this,o,a),300,5);const{slowClickTimeout:r,slowClickIgnoreSelectors:i}=this.getOptions(),s=r?{threshold:Math.min(GB,r),timeout:r,scrollTimeout:YB,ignoreSelector:i?i.join(","):""}:void 0;if(s&&(this.clickDetector=new v$(this,s)),yt){const o=t._experiments;bt.setConfig({captureExceptions:!!o.captureExceptions,traceInternals:!!o.traceInternals})}}getContext(){return this._context}isEnabled(){return this._isEnabled}isPaused(){return this._isPaused}isRecordingCanvas(){return!!this._canvas}getOptions(){return this._options}handleException(t){yt&&bt.exception(t),this._options.onError&&this._options.onError(t)}initializeSampling(t){const{errorSampleRate:n,sessionSampleRate:r}=this._options,i=n<=0&&r<=0;if(this._requiresManualStart=i,!i){if(this._initializeSessionForSampling(t),!this.session){yt&&bt.exception(new Error("Unable to initialize and create session"));return}this.session.sampled!==!1&&(this.recordingMode=this.session.sampled==="buffer"&&this.session.segmentId===0?"buffer":"session",yt&&bt.infoTick(`Starting replay in ${this.recordingMode} mode`),this._initializeRecording())}}start(){if(this._isEnabled&&this.recordingMode==="session"){yt&&bt.info("Recording is already in progress");return}if(this._isEnabled&&this.recordingMode==="buffer"){yt&&bt.info("Buffering is in progress, call `flush()` to save the replay");return}yt&&bt.infoTick("Starting replay in session mode"),this._updateUserActivity();const t=Ov({maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire},{stickySession:this._options.stickySession,sessionSampleRate:1,allowBuffering:!1});this.session=t,this._initializeRecording()}startBuffering(){if(this._isEnabled){yt&&bt.info("Buffering is in progress, call `flush()` to save the replay");return}yt&&bt.infoTick("Starting replay in buffer mode");const t=Ov({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration},{stickySession:this._options.stickySession,sessionSampleRate:0,allowBuffering:!0});this.session=t,this.recordingMode="buffer",this._initializeRecording()}startRecording(){try{const t=this._canvas;this._stopRecording=Go({...this._recordingOptions,...this.recordingMode==="buffer"?{checkoutEveryNms:QB}:this._options._experiments.continuousCheckout&&{checkoutEveryNms:Math.max(36e4,this._options._experiments.continuousCheckout)},emit:rH(this),...nH(),onMutation:this._onMutationHandler,...t?{recordCanvas:t.recordCanvas,getCanvasManager:t.getCanvasManager,sampling:t.sampling,dataURLOptions:t.dataURLOptions}:{}})}catch(t){this.handleException(t)}}stopRecording(){try{return this._stopRecording&&(this._stopRecording(),this._stopRecording=void 0),!0}catch(t){return this.handleException(t),!1}}async stop({forceFlush:t=!1,reason:n}={}){if(this._isEnabled){this._isEnabled=!1;try{yt&&bt.info(`Stopping Replay${n?` triggered by ${n}`:""}`),v9(),this._removeListeners(),this.stopRecording(),this._debouncedFlush.cancel(),t&&await this._flush({force:!0}),this.eventBuffer&&this.eventBuffer.destroy(),this.eventBuffer=null,tU(this)}catch(r){this.handleException(r)}}}pause(){this._isPaused||(this._isPaused=!0,this.stopRecording(),yt&&bt.info("Pausing replay"))}resume(){!this._isPaused||!this._checkSession()||(this._isPaused=!1,this.startRecording(),yt&&bt.info("Resuming replay"))}async sendBufferedReplayOrFlush({continueRecording:t=!0}={}){if(this.recordingMode==="session")return this.flushImmediate();const n=Date.now();yt&&bt.info("Converting buffer to session"),await this.flushImmediate();const r=this.stopRecording();!t||!r||this.recordingMode!=="session"&&(this.recordingMode="session",this.session&&(this._updateUserActivity(n),this._updateSessionActivity(n),this._maybeSaveSession()),this.startRecording())}addUpdate(t){const n=t();this.recordingMode!=="buffer"&&n!==!0&&this._debouncedFlush()}triggerUserActivity(){if(this._updateUserActivity(),!this._stopRecording){if(!this._checkSession())return;this.resume();return}this.checkAndHandleExpiredSession(),this._updateSessionActivity()}updateUserActivity(){this._updateUserActivity(),this._updateSessionActivity()}conditionalFlush(){return this.recordingMode==="buffer"?Promise.resolve():this.flushImmediate()}flush(){return this._debouncedFlush()}flushImmediate(){return this._debouncedFlush(),this._debouncedFlush.flush()}cancelFlush(){this._debouncedFlush.cancel()}getSessionId(){return this.session&&this.session.id}checkAndHandleExpiredSession(){if(this._lastActivity&&jb(this._lastActivity,this.timeouts.sessionIdlePause)&&this.session&&this.session.sampled==="session"){this.pause();return}return!!this._checkSession()}setInitialState(){const t=`${Nn.location.pathname}${Nn.location.hash}${Nn.location.search}`,n=`${Nn.location.origin}${t}`;this.performanceEntries=[],this.replayPerformanceEntries=[],this._clearContext(),this._context.initialUrl=n,this._context.initialTimestamp=Date.now(),this._context.urls.push(n)}throttledAddEvent(t,n){const r=this._throttledAddEvent(t,n);if(r===j9){const i=so({category:"replay.throttled"});this.addUpdate(()=>!ww(this,{type:d$,timestamp:i.timestamp||0,data:{tag:"breadcrumb",payload:i,metric:!0}}))}return r}getCurrentRoute(){const t=this.lastActiveSpan||jr(),n=t&&Rr(t),i=(n&&fn(n).data||{})[io];if(!(!n||!i||!["route","custom"].includes(i)))return fn(n).description}_initializeRecording(){this.setInitialState(),this._updateSessionActivity(),this.eventBuffer=J$({useCompression:this._options.useCompression,workerUrl:this._options.workerUrl}),this._removeListeners(),this._addListeners(),this._isEnabled=!0,this._isPaused=!1,this.startRecording()}_initializeSessionForSampling(t){const n=this._options.errorSampleRate>0,r=Ov({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,previousSessionId:t},{stickySession:this._options.stickySession,sessionSampleRate:this._options.sessionSampleRate,allowBuffering:n});this.session=r}_checkSession(){if(!this.session)return!1;const t=this.session;return p9(t,{sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration})?(this._refreshSession(t),!1):!0}async _refreshSession(t){this._isEnabled&&(await this.stop({reason:"refresh session"}),this.initializeSampling(t.id))}_addListeners(){try{Nn.document.addEventListener("visibilitychange",this._handleVisibilityChange),Nn.addEventListener("blur",this._handleWindowBlur),Nn.addEventListener("focus",this._handleWindowFocus),Nn.addEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.addListeners(),this._hasInitializedCoreListeners||(JU(this),this._hasInitializedCoreListeners=!0)}catch(t){this.handleException(t)}this._performanceCleanupCallback=q$(this)}_removeListeners(){try{Nn.document.removeEventListener("visibilitychange",this._handleVisibilityChange),Nn.removeEventListener("blur",this._handleWindowBlur),Nn.removeEventListener("focus",this._handleWindowFocus),Nn.removeEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.removeListeners(),this._performanceCleanupCallback&&this._performanceCleanupCallback()}catch(t){this.handleException(t)}}__init(){this._handleVisibilityChange=()=>{Nn.document.visibilityState==="visible"?this._doChangeToForegroundTasks():this._doChangeToBackgroundTasks()}}__init2(){this._handleWindowBlur=()=>{const t=so({category:"ui.blur"});this._doChangeToBackgroundTasks(t)}}__init3(){this._handleWindowFocus=()=>{const t=so({category:"ui.focus"});this._doChangeToForegroundTasks(t)}}__init4(){this._handleKeyboardEvent=t=>{P$(this,t)}}_doChangeToBackgroundTasks(t){!this.session||h9(this.session,{maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire})||(t&&this._createCustomBreadcrumb(t),this.conditionalFlush())}_doChangeToForegroundTasks(t){if(!this.session)return;if(!this.checkAndHandleExpiredSession()){yt&&bt.info("Document has become active, but session has expired");return}t&&this._createCustomBreadcrumb(t)}_updateUserActivity(t=Date.now()){this._lastActivity=t}_updateSessionActivity(t=Date.now()){this.session&&(this.session.lastActivity=t,this._maybeSaveSession())}_createCustomBreadcrumb(t){this.addUpdate(()=>{this.throttledAddEvent({type:Ut.Custom,timestamp:t.timestamp||0,data:{tag:"breadcrumb",payload:t}})})}_addPerformanceEntries(){let t=M$(this.performanceEntries).concat(this.replayPerformanceEntries);if(this.performanceEntries=[],this.replayPerformanceEntries=[],this._requiresManualStart){const n=this._context.initialTimestamp/1e3;t=t.filter(r=>r.start>=n)}return Promise.all(n1(this,t))}_clearContext(){this._context.errorIds.clear(),this._context.traceIds.clear(),this._context.urls=[]}_updateInitialTimestampFromEventBuffer(){const{session:t,eventBuffer:n}=this;if(!t||!n||this._requiresManualStart||t.segmentId)return;const r=n.getEarliestTimestamp();r&&r<this._context.initialTimestamp&&(this._context.initialTimestamp=r)}_popEventContext(){const t={initialTimestamp:this._context.initialTimestamp,initialUrl:this._context.initialUrl,errorIds:Array.from(this._context.errorIds),traceIds:Array.from(this._context.traceIds),urls:this._context.urls};return this._clearContext(),t}async _runFlush(){const t=this.getSessionId();if(!this.session||!this.eventBuffer||!t){yt&&bt.error("No session or eventBuffer found to flush.");return}if(await this._addPerformanceEntries(),!(!this.eventBuffer||!this.eventBuffer.hasEvents)&&(await ZU(this),!!this.eventBuffer&&t===this.getSessionId()))try{this._updateInitialTimestampFromEventBuffer();const n=Date.now();if(n-this._context.initialTimestamp>this._options.maxReplayDuration+3e4)throw new Error("Session is too long, not sending replay");const r=this._popEventContext(),i=this.session.segmentId++;this._maybeSaveSession();const s=await this.eventBuffer.finish();await T9({replayId:t,recordingData:s,segmentId:i,eventContext:r,session:this.session,timestamp:n,onError:o=>this.handleException(o)})}catch(n){this.handleException(n),this.stop({reason:"sendReplay"});const r=Xt();if(r){const i=n instanceof Sw?"ratelimit_backoff":"send_error";r.recordDroppedEvent(i,"replay")}}}__init5(){this._flush=async({force:t=!1}={})=>{if(!this._isEnabled&&!t)return;if(!this.checkAndHandleExpiredSession()){yt&&bt.error("Attempting to finish replay event after session expired.");return}if(!this.session)return;const n=this.session.started,i=Date.now()-n;this._debouncedFlush.cancel();const s=i<this._options.minReplayDuration,o=i>this._options.maxReplayDuration+5e3;if(s||o){yt&&bt.info(`Session duration (${Math.floor(i/1e3)}s) is too ${s?"short":"long"}, not sending replay.`),s&&this._debouncedFlush();return}const a=this.eventBuffer;a&&this.session.segmentId===0&&!a.hasCheckout&&yt&&bt.info("Flushing initial segment without checkout.");const l=!!this._flushLock;this._flushLock||(this._flushLock=this._runFlush());try{await this._flushLock}catch(u){this.handleException(u)}finally{this._flushLock=void 0,l&&this._debouncedFlush()}}}_maybeSaveSession(){this.session&&this._options.stickySession&&bw(this.session)}__init6(){this._onMutationHandler=t=>{const n=t.length,r=this._options.mutationLimit,i=this._options.mutationBreadcrumbLimit,s=r&&n>r;if(n>i||s){const o=so({category:"replay.mutations",data:{count:n,limit:s}});this._createCustomBreadcrumb(o)}return s?(this.stop({reason:"mutationLimit",forceFlush:this.recordingMode==="session"}),!1):!0}}}function Sf(e,t){return[...e,...t].join(",")}function fH({mask:e,unmask:t,block:n,unblock:r,ignore:i}){const s=["base","iframe[srcdoc]:not([src])"],o=Sf(e,[".sentry-mask","[data-sentry-mask]"]),a=Sf(t,[]);return{maskTextSelector:o,unmaskTextSelector:a,blockSelector:Sf(n,[".sentry-block","[data-sentry-block]",...s]),unblockSelector:Sf(r,[]),ignoreSelector:Sf(i,[".sentry-ignore","[data-sentry-ignore]",'input[type="file"]'])}}function hH({el:e,key:t,maskAttributes:n,maskAllText:r,privacyOptions:i,value:s}){return!r||i.unmaskTextSelector&&e.matches(i.unmaskTextSelector)?s:n.includes(t)||t==="value"&&e.tagName==="INPUT"&&["submit","button"].includes(e.getAttribute("type")||"")?s.replace(/[\S]/g,"*"):s}const N4='img,image,svg,video,object,picture,embed,map,audio,link[rel="icon"],link[rel="apple-touch-icon"]',pH=["content-length","content-type","accept"];let I4=!1;const mH=e=>new i1(e);class i1{static __initStatic(){this.id="Replay"}constructor({flushMinDelay:t=WB,flushMaxDelay:n=qB,minReplayDuration:r=XB,maxReplayDuration:i=l4,stickySession:s=!0,useCompression:o=!0,workerUrl:a,_experiments:l={},maskAllText:u=!0,maskAllInputs:f=!0,blockAllMedia:h=!0,mutationBreadcrumbLimit:g=750,mutationLimit:y=1e4,slowClickTimeout:b=7e3,slowClickIgnoreSelectors:_=[],networkDetailAllowUrls:E=[],networkDetailDenyUrls:C=[],networkCaptureBodies:P=!0,networkRequestHeaders:O=[],networkResponseHeaders:z=[],mask:B=[],maskAttributes:j=["title","placeholder"],unmask:M=[],block:U=[],unblock:$=[],ignore:D=[],maskFn:ee,beforeAddRecordingEvent:X,beforeErrorSampling:re,onError:Q}={}){this.name=i1.id;const q=fH({mask:B,unmask:M,block:U,unblock:$,ignore:D});if(this._recordingOptions={maskAllInputs:f,maskAllText:u,maskInputOptions:{password:!0},maskTextFn:ee,maskInputFn:ee,maskAttributeFn:(V,ne,Z)=>hH({maskAttributes:j,maskAllText:u,privacyOptions:q,key:V,value:ne,el:Z}),...q,slimDOMOptions:"all",inlineStylesheet:!0,inlineImages:!1,collectFonts:!0,errorHandler:V=>{try{V.__rrweb__=!0}catch{}}},this._initialOptions={flushMinDelay:t,flushMaxDelay:n,minReplayDuration:Math.min(r,JB),maxReplayDuration:Math.min(i,l4),stickySession:s,useCompression:o,workerUrl:a,blockAllMedia:h,maskAllInputs:f,maskAllText:u,mutationBreadcrumbLimit:g,mutationLimit:y,slowClickTimeout:b,slowClickIgnoreSelectors:_,networkDetailAllowUrls:E,networkDetailDenyUrls:C,networkCaptureBodies:P,networkRequestHeaders:P4(O),networkResponseHeaders:P4(z),beforeAddRecordingEvent:X,beforeErrorSampling:re,onError:Q,_experiments:l},this._initialOptions.blockAllMedia&&(this._recordingOptions.blockSelector=this._recordingOptions.blockSelector?`${this._recordingOptions.blockSelector},${N4}`:N4),this._isInitialized&&J5())throw new Error("Multiple Sentry Session Replay instances are not supported");this._isInitialized=!0}get _isInitialized(){return I4}set _isInitialized(t){I4=t}afterAllSetup(t){!J5()||this._replay||(this._setup(t),this._initialize(t))}start(){this._replay&&this._replay.start()}startBuffering(){this._replay&&this._replay.startBuffering()}stop(){return this._replay?this._replay.stop({forceFlush:this._replay.recordingMode==="session"}):Promise.resolve()}flush(t){return this._replay?this._replay.isEnabled()?this._replay.sendBufferedReplayOrFlush(t):(this._replay.start(),Promise.resolve()):Promise.resolve()}getReplayId(){if(!(!this._replay||!this._replay.isEnabled()))return this._replay.getSessionId()}getRecordingMode(){if(!(!this._replay||!this._replay.isEnabled()))return this._replay.recordingMode}_initialize(t){this._replay&&(this._maybeLoadFromReplayCanvasIntegration(t),this._replay.initializeSampling())}_setup(t){const n=gH(this._initialOptions,t);this._replay=new za({options:n,recordingOptions:this._recordingOptions})}_maybeLoadFromReplayCanvasIntegration(t){try{const n=t.getIntegrationByName("ReplayCanvas");if(!n)return;this._replay._canvas=n.getOptions()}catch{}}}i1.__initStatic();function gH(e,t){const n=t.getOptions(),r={sessionSampleRate:0,errorSampleRate:0,...pr(e)},i=t0(n.replaysSessionSampleRate),s=t0(n.replaysOnErrorSampleRate);return i==null&&s==null&&cl(()=>{console.warn("Replay is disabled because neither `replaysSessionSampleRate` nor `replaysOnErrorSampleRate` are set.")}),i!=null&&(r.sessionSampleRate=i),s!=null&&(r.errorSampleRate=s),r}function P4(e){return[...pH,...e.map(t=>t.toLowerCase())]}const R4=new WeakMap,Av=new Map,zg={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0,trackFetchStreamPerformance:!1};function yH(e,t){const{traceFetch:n,traceXHR:r,trackFetchStreamPerformance:i,shouldCreateSpanForRequest:s,enableHTTPTimings:o,tracePropagationTargets:a}={traceFetch:zg.traceFetch,traceXHR:zg.traceXHR,trackFetchStreamPerformance:zg.trackFetchStreamPerformance,...t},l=typeof s=="function"?s:h=>!0,u=h=>bH(h,a),f={};n&&(e.addEventProcessor(h=>(h.type==="transaction"&&h.spans&&h.spans.forEach(g=>{if(g.op==="http.client"){const y=Av.get(g.span_id);y&&(g.timestamp=y/1e3,Av.delete(g.span_id))}}),h)),i&&aL(h=>{if(h.response){const g=R4.get(h.response);g&&h.endTimestamp&&Av.set(g,h.endTimestamp)}}),m8(h=>{const g=eL(h,l,u,f);if(h.response&&h.fetchData.__span&&R4.set(h.response,h.fetchData.__span),g){const y=N9(h.fetchData.url),b=y?pc(y).host:void 0;g.setAttributes({"http.url":y,"server.address":b})}o&&g&&O4(g)})),r&&M8(h=>{const g=wH(h,l,u,f);o&&g&&O4(g)})}function vH(e){return e.entryType==="resource"&&"initiatorType"in e&&typeof e.nextHopProtocol=="string"&&(e.initiatorType==="fetch"||e.initiatorType==="xmlhttprequest")}function O4(e){const{url:t}=fn(e).data||{};if(!t||typeof t!="string")return;const n=dd("resource",({entries:r})=>{r.forEach(i=>{vH(i)&&i.name.endsWith(t)&&(xH(i).forEach(o=>e.setAttribute(...o)),setTimeout(n))})})}function eo(e=0){return((ci||performance.timeOrigin)+e)/1e3}function xH(e){const{name:t,version:n}=R8(e.nextHopProtocol),r=[];return r.push(["network.protocol.version",n],["network.protocol.name",t]),ci?[...r,["http.request.redirect_start",eo(e.redirectStart)],["http.request.fetch_start",eo(e.fetchStart)],["http.request.domain_lookup_start",eo(e.domainLookupStart)],["http.request.domain_lookup_end",eo(e.domainLookupEnd)],["http.request.connect_start",eo(e.connectStart)],["http.request.secure_connection_start",eo(e.secureConnectionStart)],["http.request.connection_end",eo(e.connectEnd)],["http.request.request_start",eo(e.requestStart)],["http.request.response_start",eo(e.responseStart)],["http.request.response_end",eo(e.responseEnd)]]:r}function bH(e,t){const n=Nt.location&&Nt.location.href;if(n){let r,i;try{r=new URL(e,n),i=new URL(n).origin}catch{return!1}const s=r.origin===i;return t?Va(r.toString(),t)||s&&Va(r.pathname,t):s}else{const r=!!e.match(/^\/(?!\/)/);return t?Va(e,t):r}}function wH(e,t,n,r){const i=e.xhr,s=i&&i[lc];if(!i||i.__sentry_own_request__||!s)return;const o=el()&&t(s.url);if(e.endTimestamp&&o){const h=i.__sentry_xhr_span_id__;if(!h)return;const g=r[h];g&&s.status_code!==void 0&&(P7(g,s.status_code),g.end(),delete r[h]);return}const a=N9(s.url),l=a?pc(a).host:void 0,u=!!jr(),f=o&&u?$h({name:`${s.method} ${s.url}`,attributes:{type:"xhr","http.method":s.method,"http.url":a,url:s.url,"server.address":l,[Tr]:"auto.http.browser",[_c]:"http.client"}}):new Ed;return i.__sentry_xhr_span_id__=f.spanContext().spanId,r[i.__sentry_xhr_span_id__]=f,n(s.url)&&_H(i,el()&&u?f:void 0),f}function _H(e,t){const{"sentry-trace":n,baggage:r}=c8({span:t});n&&SH(e,n,r)}function SH(e,t,n){try{e.setRequestHeader("sentry-trace",t),n&&e.setRequestHeader("baggage",n)}catch{}}function N9(e){try{return new URL(e,Nt.location.origin).href}catch{return}}function EH(){Nt&&Nt.document?Nt.document.addEventListener("visibilitychange",()=>{const e=jr();if(!e)return;const t=Rr(e);if(Nt.document.hidden&&t){const n="cancelled",{op:r,status:i}=fn(t);lo&&Ge.log(`[Tracing] Transaction: ${n} -> since tab moved to the background, op: ${r}`),i||t.setStatus({code:Er,message:n}),t.setAttribute("sentry.cancellation_reason","document.hidden"),t.end()}}):lo&&Ge.warn("[Tracing] Could not set up background tab detection due to lack of global document")}const kH="BrowserTracing",CH={...Mg,instrumentNavigation:!0,instrumentPageLoad:!0,markBackgroundSpan:!0,enableLongTask:!0,enableLongAnimationFrame:!0,enableInp:!0,_experiments:{},...zg},TH=(e={})=>{eM();const{enableInp:t,enableLongTask:n,enableLongAnimationFrame:r,_experiments:{enableInteractions:i,enableStandaloneClsSpans:s},beforeStartSpan:o,idleTimeout:a,finalTimeout:l,childSpanTimeout:u,markBackgroundSpan:f,traceFetch:h,traceXHR:g,trackFetchStreamPerformance:y,shouldCreateSpanForRequest:b,enableHTTPTimings:_,instrumentPageLoad:E,instrumentNavigation:C}={...CH,...e},P=gF({recordClsStandaloneSpans:s||!1});t&&$F(),r&&en.PerformanceObserver&&PerformanceObserver.supportedEntryTypes&&PerformanceObserver.supportedEntryTypes.includes("long-animation-frame")?vF():n&&yF(),i&&xF();const O={name:void 0,source:void 0};function z(B,j){const M=j.op==="pageload",U=o?o(j):j,$=U.attributes||{};j.name!==U.name&&($[io]="custom",U.attributes=$),O.name=U.name,O.source=$[io];const D=X7(U,{idleTimeout:a,finalTimeout:l,childSpanTimeout:u,disableAutoFinish:M,beforeSpanEnd:X=>{P(),EF(X,{recordClsOnPageloadSpan:!s})}});function ee(){["interactive","complete"].includes(Nt.document.readyState)&&B.emit("idleSpanEnableAutoFinish",D)}return M&&Nt.document&&(Nt.document.addEventListener("readystatechange",()=>{ee()}),ee()),D}return{name:kH,afterAllSetup(B){let j,M=Nt.location&&Nt.location.href;function U(){j&&!fn(j).timestamp&&(lo&&Ge.log(`[Tracing] Finishing current active span with op: ${fn(j).op}`),j.end())}B.on("startNavigationSpan",$=>{Xt()===B&&(U(),j=z(B,{op:"navigation",...$}))}),B.on("startPageLoadSpan",($,D={})=>{if(Xt()!==B)return;U();const ee=D.sentryTrace||A4("sentry-trace"),X=D.baggage||A4("baggage"),re=VA(ee,X);Pn().setPropagationContext(re),j=z(B,{op:"pageload",...$})}),B.on("spanEnd",$=>{const D=fn($).op;if($!==Rr($)||D!=="navigation"&&D!=="pageload")return;const ee=Pn(),X=ee.getPropagationContext();ee.setPropagationContext({...X,sampled:X.sampled!==void 0?X.sampled:Ic($),dsc:X.dsc||Pc($)})}),Nt.location&&(E&&jH(B,{name:Nt.location.pathname,startTime:ci?ci/1e3:void 0,attributes:{[io]:"url",[Tr]:"auto.pageload.browser"}}),C&&X0(({to:$,from:D})=>{if(D===void 0&&M&&M.indexOf($)!==-1){M=void 0;return}D!==$&&(M=void 0,NH(B,{name:Nt.location.pathname,attributes:{[io]:"url",[Tr]:"auto.navigation.browser"}}))})),f&&EH(),i&&IH(a,l,u,O),t&&HF(),yH(B,{traceFetch:h,traceXHR:g,trackFetchStreamPerformance:y,tracePropagationTargets:B.getOptions().tracePropagationTargets,shouldCreateSpanForRequest:b,enableHTTPTimings:_})}}};function jH(e,t,n){e.emit("startPageLoadSpan",t,n),Pn().setTransactionName(t.name);const r=jr();return(r&&fn(r).op)==="pageload"?r:void 0}function NH(e,t){Ws().setPropagationContext({traceId:Xa()}),Pn().setPropagationContext({traceId:Xa()}),e.emit("startNavigationSpan",t),Pn().setTransactionName(t.name);const n=jr();return(n&&fn(n).op)==="navigation"?n:void 0}function A4(e){const t=xA(`meta[name=${e}]`);return t?t.getAttribute("content"):void 0}function IH(e,t,n,r){let i;const s=()=>{const o="ui.action.click",a=jr(),l=a&&Rr(a);if(l){const u=fn(l).op;if(["navigation","pageload"].includes(u)){lo&&Ge.warn(`[Tracing] Did not create ${o} span because a pageload or navigation span is in progress.`);return}}if(i&&(i.setAttribute(ib,"interactionInterrupted"),i.end(),i=void 0),!r.name){lo&&Ge.warn(`[Tracing] Did not create ${o} transaction because _latestRouteName is missing.`);return}i=X7({name:r.name,op:o,attributes:{[io]:r.source||"url"}},{idleTimeout:e,finalTimeout:t,childSpanTimeout:n})};Nt.document&&addEventListener("click",s,{once:!1,capture:!0})}function PH(e){const t={...e};return l8(t,"react"),e8("react",{version:I.version}),zB(t)}const RH={initialize(){PH({dsn:"https://e9f254e66aacba9bfb5a6901063e0009@o4508692782907392.ingest.us.sentry.io/4508782708326400",integrations:[TH(),mH()],tracesSampleRate:1,tracePropagationTargets:[/^https:\/\/www.allcll\.kr/,/^https:\/\/allcll\.kr/],replaysSessionSampleRate:.01,replaysOnErrorSampleRate:1})}};var Mv={exports:{}},Dv,M4;function OH(){if(M4)return Dv;M4=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Dv=e,Dv}var Lv,D4;function AH(){if(D4)return Lv;D4=1;var e=OH();function t(){}function n(){}return n.resetWarningCache=t,Lv=function(){function r(o,a,l,u,f,h){if(h!==e){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}r.isRequired=r;function i(){return r}var s={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:t};return s.PropTypes=s,s},Lv}var L4;function MH(){return L4||(L4=1,Mv.exports=AH()()),Mv.exports}var DH=MH();const Ft=Ni(DH);var Fv,F4;function LH(){if(F4)return Fv;F4=1;function e(a){return a&&typeof a=="object"&&"default"in a?a.default:a}var t=B0(),n=e(t);function r(a,l,u){return l in a?Object.defineProperty(a,l,{value:u,enumerable:!0,configurable:!0,writable:!0}):a[l]=u,a}function i(a,l){a.prototype=Object.create(l.prototype),a.prototype.constructor=a,a.__proto__=l}var s=!!(typeof window<"u"&&window.document&&window.document.createElement);function o(a,l,u){if(typeof a!="function")throw new Error("Expected reducePropsToState to be a function.");if(typeof l!="function")throw new Error("Expected handleStateChangeOnClient to be a function.");if(typeof u<"u"&&typeof u!="function")throw new Error("Expected mapStateOnServer to either be undefined or a function.");function f(h){return h.displayName||h.name||"Component"}return function(g){if(typeof g!="function")throw new Error("Expected WrappedComponent to be a React component.");var y=[],b;function _(){b=a(y.map(function(C){return C.props})),E.canUseDOM?l(b):u&&(b=u(b))}var E=function(C){i(P,C);function P(){return C.apply(this,arguments)||this}P.peek=function(){return b},P.rewind=function(){if(P.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var B=b;return b=void 0,y=[],B};var O=P.prototype;return O.UNSAFE_componentWillMount=function(){y.push(this),_()},O.componentDidUpdate=function(){_()},O.componentWillUnmount=function(){var B=y.indexOf(this);y.splice(B,1),_()},O.render=function(){return n.createElement(g,this.props)},P}(t.PureComponent);return r(E,"displayName","SideEffect("+f(g)+")"),r(E,"canUseDOM",s),E}}return Fv=o,Fv}var FH=LH();const BH=Ni(FH);var Bv,B4;function zH(){if(B4)return Bv;B4=1;var e=typeof Element<"u",t=typeof Map=="function",n=typeof Set=="function",r=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function i(s,o){if(s===o)return!0;if(s&&o&&typeof s=="object"&&typeof o=="object"){if(s.constructor!==o.constructor)return!1;var a,l,u;if(Array.isArray(s)){if(a=s.length,a!=o.length)return!1;for(l=a;l--!==0;)if(!i(s[l],o[l]))return!1;return!0}var f;if(t&&s instanceof Map&&o instanceof Map){if(s.size!==o.size)return!1;for(f=s.entries();!(l=f.next()).done;)if(!o.has(l.value[0]))return!1;for(f=s.entries();!(l=f.next()).done;)if(!i(l.value[1],o.get(l.value[0])))return!1;return!0}if(n&&s instanceof Set&&o instanceof Set){if(s.size!==o.size)return!1;for(f=s.entries();!(l=f.next()).done;)if(!o.has(l.value[0]))return!1;return!0}if(r&&ArrayBuffer.isView(s)&&ArrayBuffer.isView(o)){if(a=s.length,a!=o.length)return!1;for(l=a;l--!==0;)if(s[l]!==o[l])return!1;return!0}if(s.constructor===RegExp)return s.source===o.source&&s.flags===o.flags;if(s.valueOf!==Object.prototype.valueOf&&typeof s.valueOf=="function"&&typeof o.valueOf=="function")return s.valueOf()===o.valueOf();if(s.toString!==Object.prototype.toString&&typeof s.toString=="function"&&typeof o.toString=="function")return s.toString()===o.toString();if(u=Object.keys(s),a=u.length,a!==Object.keys(o).length)return!1;for(l=a;l--!==0;)if(!Object.prototype.hasOwnProperty.call(o,u[l]))return!1;if(e&&s instanceof Element)return!1;for(l=a;l--!==0;)if(!((u[l]==="_owner"||u[l]==="__v"||u[l]==="__o")&&s.$$typeof)&&!i(s[u[l]],o[u[l]]))return!1;return!0}return s!==s&&o!==o}return Bv=function(o,a){try{return i(o,a)}catch(l){if((l.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw l}},Bv}var $H=zH();const UH=Ni($H);/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var zv,z4;function HH(){if(z4)return zv;z4=1;var e=Object.getOwnPropertySymbols,t=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable;function r(s){if(s==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(s)}function i(){try{if(!Object.assign)return!1;var s=new String("abc");if(s[5]="de",Object.getOwnPropertyNames(s)[0]==="5")return!1;for(var o={},a=0;a<10;a++)o["_"+String.fromCharCode(a)]=a;var l=Object.getOwnPropertyNames(o).map(function(f){return o[f]});if(l.join("")!=="0123456789")return!1;var u={};return"abcdefghijklmnopqrst".split("").forEach(function(f){u[f]=f}),Object.keys(Object.assign({},u)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}return zv=i()?Object.assign:function(s,o){for(var a,l=r(s),u,f=1;f<arguments.length;f++){a=Object(arguments[f]);for(var h in a)t.call(a,h)&&(l[h]=a[h]);if(e){u=e(a);for(var g=0;g<u.length;g++)n.call(a,u[g])&&(l[u[g]]=a[u[g]])}}return l},zv}var WH=HH();const qH=Ni(WH);var mc={BODY:"bodyAttributes",HTML:"htmlAttributes",TITLE:"titleAttributes"},jt={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"};Object.keys(jt).map(function(e){return jt[e]});var Bn={CHARSET:"charset",CSS_TEXT:"cssText",HREF:"href",HTTPEQUIV:"http-equiv",INNER_HTML:"innerHTML",ITEM_PROP:"itemprop",NAME:"name",PROPERTY:"property",REL:"rel",SRC:"src",TARGET:"target"},p0={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},wh={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate"},QH=Object.keys(p0).reduce(function(e,t){return e[p0[t]]=t,e},{}),VH=[jt.NOSCRIPT,jt.SCRIPT,jt.STYLE],Fs="data-react-helmet",KH=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},GH=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},YH=function(){function e(t,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},XH=function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},$4=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n},JH=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e},Pb=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return n===!1?String(t):String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},ZH=function(t){var n=nd(t,jt.TITLE),r=nd(t,wh.TITLE_TEMPLATE);if(r&&n)return r.replace(/%s/g,function(){return Array.isArray(n)?n.join(""):n});var i=nd(t,wh.DEFAULT_TITLE);return n||i||void 0},eW=function(t){return nd(t,wh.ON_CHANGE_CLIENT_STATE)||function(){}},$v=function(t,n){return n.filter(function(r){return typeof r[t]<"u"}).map(function(r){return r[t]}).reduce(function(r,i){return _i({},r,i)},{})},tW=function(t,n){return n.filter(function(r){return typeof r[jt.BASE]<"u"}).map(function(r){return r[jt.BASE]}).reverse().reduce(function(r,i){if(!r.length)for(var s=Object.keys(i),o=0;o<s.length;o++){var a=s[o],l=a.toLowerCase();if(t.indexOf(l)!==-1&&i[l])return r.concat(i)}return r},[])},Ef=function(t,n,r){var i={};return r.filter(function(s){return Array.isArray(s[t])?!0:(typeof s[t]<"u"&&sW("Helmet: "+t+' should be of type "Array". Instead found type "'+KH(s[t])+'"'),!1)}).map(function(s){return s[t]}).reverse().reduce(function(s,o){var a={};o.filter(function(g){for(var y=void 0,b=Object.keys(g),_=0;_<b.length;_++){var E=b[_],C=E.toLowerCase();n.indexOf(C)!==-1&&!(y===Bn.REL&&g[y].toLowerCase()==="canonical")&&!(C===Bn.REL&&g[C].toLowerCase()==="stylesheet")&&(y=C),n.indexOf(E)!==-1&&(E===Bn.INNER_HTML||E===Bn.CSS_TEXT||E===Bn.ITEM_PROP)&&(y=E)}if(!y||!g[y])return!1;var P=g[y].toLowerCase();return i[y]||(i[y]={}),a[y]||(a[y]={}),i[y][P]?!1:(a[y][P]=!0,!0)}).reverse().forEach(function(g){return s.push(g)});for(var l=Object.keys(a),u=0;u<l.length;u++){var f=l[u],h=qH({},i[f],a[f]);i[f]=h}return s},[]).reverse()},nd=function(t,n){for(var r=t.length-1;r>=0;r--){var i=t[r];if(i.hasOwnProperty(n))return i[n]}return null},nW=function(t){return{baseTag:tW([Bn.HREF,Bn.TARGET],t),bodyAttributes:$v(mc.BODY,t),defer:nd(t,wh.DEFER),encode:nd(t,wh.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:$v(mc.HTML,t),linkTags:Ef(jt.LINK,[Bn.REL,Bn.HREF],t),metaTags:Ef(jt.META,[Bn.NAME,Bn.CHARSET,Bn.HTTPEQUIV,Bn.PROPERTY,Bn.ITEM_PROP],t),noscriptTags:Ef(jt.NOSCRIPT,[Bn.INNER_HTML],t),onChangeClientState:eW(t),scriptTags:Ef(jt.SCRIPT,[Bn.SRC,Bn.INNER_HTML],t),styleTags:Ef(jt.STYLE,[Bn.CSS_TEXT],t),title:ZH(t),titleAttributes:$v(mc.TITLE,t)}},Rb=function(){var e=Date.now();return function(t){var n=Date.now();n-e>16?(e=n,t(n)):setTimeout(function(){Rb(t)},0)}}(),U4=function(t){return clearTimeout(t)},rW=typeof window<"u"?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||Rb:global.requestAnimationFrame||Rb,iW=typeof window<"u"?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||U4:global.cancelAnimationFrame||U4,sW=function(t){return console&&typeof console.warn=="function"&&console.warn(t)},kf=null,oW=function(t){kf&&iW(kf),t.defer?kf=rW(function(){H4(t,function(){kf=null})}):(H4(t),kf=null)},H4=function(t,n){var r=t.baseTag,i=t.bodyAttributes,s=t.htmlAttributes,o=t.linkTags,a=t.metaTags,l=t.noscriptTags,u=t.onChangeClientState,f=t.scriptTags,h=t.styleTags,g=t.title,y=t.titleAttributes;Ob(jt.BODY,i),Ob(jt.HTML,s),aW(g,y);var b={baseTag:_u(jt.BASE,r),linkTags:_u(jt.LINK,o),metaTags:_u(jt.META,a),noscriptTags:_u(jt.NOSCRIPT,l),scriptTags:_u(jt.SCRIPT,f),styleTags:_u(jt.STYLE,h)},_={},E={};Object.keys(b).forEach(function(C){var P=b[C],O=P.newTags,z=P.oldTags;O.length&&(_[C]=O),z.length&&(E[C]=b[C].oldTags)}),n&&n(),u(t,_,E)},I9=function(t){return Array.isArray(t)?t.join(""):t},aW=function(t,n){typeof t<"u"&&document.title!==t&&(document.title=I9(t)),Ob(jt.TITLE,n)},Ob=function(t,n){var r=document.getElementsByTagName(t)[0];if(r){for(var i=r.getAttribute(Fs),s=i?i.split(","):[],o=[].concat(s),a=Object.keys(n),l=0;l<a.length;l++){var u=a[l],f=n[u]||"";r.getAttribute(u)!==f&&r.setAttribute(u,f),s.indexOf(u)===-1&&s.push(u);var h=o.indexOf(u);h!==-1&&o.splice(h,1)}for(var g=o.length-1;g>=0;g--)r.removeAttribute(o[g]);s.length===o.length?r.removeAttribute(Fs):r.getAttribute(Fs)!==a.join(",")&&r.setAttribute(Fs,a.join(","))}},_u=function(t,n){var r=document.head||document.querySelector(jt.HEAD),i=r.querySelectorAll(t+"["+Fs+"]"),s=Array.prototype.slice.call(i),o=[],a=void 0;return n&&n.length&&n.forEach(function(l){var u=document.createElement(t);for(var f in l)if(l.hasOwnProperty(f))if(f===Bn.INNER_HTML)u.innerHTML=l.innerHTML;else if(f===Bn.CSS_TEXT)u.styleSheet?u.styleSheet.cssText=l.cssText:u.appendChild(document.createTextNode(l.cssText));else{var h=typeof l[f]>"u"?"":l[f];u.setAttribute(f,h)}u.setAttribute(Fs,"true"),s.some(function(g,y){return a=y,u.isEqualNode(g)})?s.splice(a,1):o.push(u)}),s.forEach(function(l){return l.parentNode.removeChild(l)}),o.forEach(function(l){return r.appendChild(l)}),{oldTags:s,newTags:o}},P9=function(t){return Object.keys(t).reduce(function(n,r){var i=typeof t[r]<"u"?r+'="'+t[r]+'"':""+r;return n?n+" "+i:i},"")},lW=function(t,n,r,i){var s=P9(r),o=I9(n);return s?"<"+t+" "+Fs+'="true" '+s+">"+Pb(o,i)+"</"+t+">":"<"+t+" "+Fs+'="true">'+Pb(o,i)+"</"+t+">"},cW=function(t,n,r){return n.reduce(function(i,s){var o=Object.keys(s).filter(function(u){return!(u===Bn.INNER_HTML||u===Bn.CSS_TEXT)}).reduce(function(u,f){var h=typeof s[f]>"u"?f:f+'="'+Pb(s[f],r)+'"';return u?u+" "+h:h},""),a=s.innerHTML||s.cssText||"",l=VH.indexOf(t)===-1;return i+"<"+t+" "+Fs+'="true" '+o+(l?"/>":">"+a+"</"+t+">")},"")},R9=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(t).reduce(function(r,i){return r[p0[i]||i]=t[i],r},n)},uW=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(t).reduce(function(r,i){return r[QH[i]||i]=t[i],r},n)},dW=function(t,n,r){var i,s=(i={key:n},i[Fs]=!0,i),o=R9(r,s);return[wn.createElement(jt.TITLE,o,n)]},fW=function(t,n){return n.map(function(r,i){var s,o=(s={key:i},s[Fs]=!0,s);return Object.keys(r).forEach(function(a){var l=p0[a]||a;if(l===Bn.INNER_HTML||l===Bn.CSS_TEXT){var u=r.innerHTML||r.cssText;o.dangerouslySetInnerHTML={__html:u}}else o[l]=r[a]}),wn.createElement(t,o)})},Ro=function(t,n,r){switch(t){case jt.TITLE:return{toComponent:function(){return dW(t,n.title,n.titleAttributes)},toString:function(){return lW(t,n.title,n.titleAttributes,r)}};case mc.BODY:case mc.HTML:return{toComponent:function(){return R9(n)},toString:function(){return P9(n)}};default:return{toComponent:function(){return fW(t,n)},toString:function(){return cW(t,n,r)}}}},O9=function(t){var n=t.baseTag,r=t.bodyAttributes,i=t.encode,s=t.htmlAttributes,o=t.linkTags,a=t.metaTags,l=t.noscriptTags,u=t.scriptTags,f=t.styleTags,h=t.title,g=h===void 0?"":h,y=t.titleAttributes;return{base:Ro(jt.BASE,n,i),bodyAttributes:Ro(mc.BODY,r,i),htmlAttributes:Ro(mc.HTML,s,i),link:Ro(jt.LINK,o,i),meta:Ro(jt.META,a,i),noscript:Ro(jt.NOSCRIPT,l,i),script:Ro(jt.SCRIPT,u,i),style:Ro(jt.STYLE,f,i),title:Ro(jt.TITLE,{title:g,titleAttributes:y},i)}},hW=function(t){var n,r;return r=n=function(i){XH(s,i);function s(){return GH(this,s),JH(this,i.apply(this,arguments))}return s.prototype.shouldComponentUpdate=function(a){return!UH(this.props,a)},s.prototype.mapNestedChildrenToProps=function(a,l){if(!l)return null;switch(a.type){case jt.SCRIPT:case jt.NOSCRIPT:return{innerHTML:l};case jt.STYLE:return{cssText:l}}throw new Error("<"+a.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},s.prototype.flattenArrayTypeChildren=function(a){var l,u=a.child,f=a.arrayTypeChildren,h=a.newChildProps,g=a.nestedChildren;return _i({},f,(l={},l[u.type]=[].concat(f[u.type]||[],[_i({},h,this.mapNestedChildrenToProps(u,g))]),l))},s.prototype.mapObjectTypeChildren=function(a){var l,u,f=a.child,h=a.newProps,g=a.newChildProps,y=a.nestedChildren;switch(f.type){case jt.TITLE:return _i({},h,(l={},l[f.type]=y,l.titleAttributes=_i({},g),l));case jt.BODY:return _i({},h,{bodyAttributes:_i({},g)});case jt.HTML:return _i({},h,{htmlAttributes:_i({},g)})}return _i({},h,(u={},u[f.type]=_i({},g),u))},s.prototype.mapArrayTypeChildrenToProps=function(a,l){var u=_i({},l);return Object.keys(a).forEach(function(f){var h;u=_i({},u,(h={},h[f]=a[f],h))}),u},s.prototype.warnOnInvalidChildren=function(a,l){return!0},s.prototype.mapChildrenToProps=function(a,l){var u=this,f={};return wn.Children.forEach(a,function(h){if(!(!h||!h.props)){var g=h.props,y=g.children,b=$4(g,["children"]),_=uW(b);switch(u.warnOnInvalidChildren(h,y),h.type){case jt.LINK:case jt.META:case jt.NOSCRIPT:case jt.SCRIPT:case jt.STYLE:f=u.flattenArrayTypeChildren({child:h,arrayTypeChildren:f,newChildProps:_,nestedChildren:y});break;default:l=u.mapObjectTypeChildren({child:h,newProps:l,newChildProps:_,nestedChildren:y});break}}}),l=this.mapArrayTypeChildrenToProps(f,l),l},s.prototype.render=function(){var a=this.props,l=a.children,u=$4(a,["children"]),f=_i({},u);return l&&(f=this.mapChildrenToProps(l,f)),wn.createElement(t,f)},YH(s,null,[{key:"canUseDOM",set:function(a){t.canUseDOM=a}}]),s}(wn.Component),n.propTypes={base:Ft.object,bodyAttributes:Ft.object,children:Ft.oneOfType([Ft.arrayOf(Ft.node),Ft.node]),defaultTitle:Ft.string,defer:Ft.bool,encodeSpecialCharacters:Ft.bool,htmlAttributes:Ft.object,link:Ft.arrayOf(Ft.object),meta:Ft.arrayOf(Ft.object),noscript:Ft.arrayOf(Ft.object),onChangeClientState:Ft.func,script:Ft.arrayOf(Ft.object),style:Ft.arrayOf(Ft.object),title:Ft.string,titleAttributes:Ft.object,titleTemplate:Ft.string},n.defaultProps={defer:!0,encodeSpecialCharacters:!0},n.peek=t.peek,n.rewind=function(){var i=t.rewind();return i||(i=O9({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),i},r},pW=function(){return null},mW=BH(nW,oW,O9)(pW),gr=hW(mW);gr.renderStatic=gr.rewind;const A9=e=>I.createElement("svg",{width:240,height:240,viewBox:"0 0 240 240",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},I.createElement("path",{d:"M35.0767 27.9936C36.2709 9.99373 56.1517 -0.303892 71.5425 9.10587L213.791 96.0756C231.278 106.768 228.18 133.047 208.685 139.378L169.934 151.963L186.77 185.839C193.06 198.497 187.616 213.848 174.755 219.712L148.361 231.747C136.289 237.252 122.02 232.368 115.853 220.621L96.5356 183.827L61.2319 205.402C44.6261 215.55 23.4817 202.753 24.77 183.334L35.0767 27.9936Z",fill:"#047CFE"}),I.createElement("ellipse",{cx:81.7143,cy:99.4285,rx:9.71429,ry:13.7143,fill:"white"}),I.createElement("path",{d:"M144 99.4285C144 107.003 139.651 113.143 134.286 113.143C128.921 113.143 124.571 107.003 124.571 99.4285C124.571 91.8543 128.921 85.7142 134.286 85.7142C139.651 85.7142 144 91.8543 144 99.4285Z",fill:"white"}),I.createElement("path",{d:"M86.7687 125.246C88.6759 123.021 92.0636 122.863 94.1695 124.901L99.9237 130.47C104.528 134.926 111.74 135.226 116.699 131.169L123.261 125.8C125.281 124.147 128.239 124.354 130.009 126.272V126.272C131.991 128.419 131.682 131.81 129.344 133.563L122.999 138.322C122.524 138.678 122.024 138.999 121.502 139.281L118.258 141.039C112.227 144.305 104.944 144.254 98.9601 140.903L95.3516 138.883C94.6427 138.486 93.973 138.022 93.3515 137.499L87.3544 132.449C85.1919 130.628 84.9288 127.393 86.7687 125.246V125.246Z",fill:"white"})),gW=e=>I.createElement("svg",{id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",width:"100%",viewBox:"740 350 700 190",enableBackground:"new 0 0 1506 862",xmlSpace:"preserve",...e},I.createElement("path",{fill:"#017AFF",opacity:1,stroke:"none",d:" M766.615112,463.466736 C775.870483,435.054810 785.533081,407.176788 793.924072,378.921143 C799.456543,360.291321 821.375366,357.141083 832.881592,364.663513 C838.142395,368.102875 840.908264,372.891174 842.764648,378.570496 C853.528076,411.499817 864.314026,444.421814 875.109436,477.340668 C878.939270,489.019165 882.817444,500.681793 886.885071,512.991760 C873.401611,512.991760 860.604980,513.082825 847.814941,512.834106 C846.683838,512.812195 845.029419,510.751434 844.583618,509.333893 C842.385803,502.345581 840.389465,495.286346 838.588135,488.184601 C837.875916,485.376556 836.496521,484.498810 833.699890,484.534851 C823.536499,484.665802 813.369263,484.669006 803.205994,484.533264 C800.346008,484.495056 799.085388,485.557281 798.384705,488.289246 C796.564392,495.386353 794.554382,502.439484 792.396301,509.441223 C791.983948,510.779236 790.565674,512.800781 789.581299,512.818420 C776.821838,513.046875 764.056885,512.969788 750.549133,512.969788 C756.023682,496.088989 761.252869,479.964600 766.615112,463.466736 M816.931274,421.410614 C814.112549,431.575104 811.293823,441.739594 808.392944,452.200287 C815.599854,452.200287 821.902649,452.200287 828.658752,452.200287 C825.389221,440.483582 822.289490,429.375366 818.869080,417.118134 C817.911804,419.080017 817.519409,419.884216 816.931274,421.410614 z"}),I.createElement("path",{fill:"#017AFF",opacity:1,stroke:"none",d:" M897.499634,440.999878 C897.503479,420.519745 897.488831,400.539612 897.519775,380.559540 C897.531799,372.795044 900.376282,366.496521 907.660461,363.030640 C915.127136,359.477966 922.528442,359.846069 929.464539,364.563080 C935.259399,368.503876 937.055176,374.335907 937.048035,381.039062 C937.015198,411.841675 937.034424,442.644379 937.040466,473.447052 C937.041748,480.073792 937.052368,480.081238 943.492004,480.087067 C954.814026,480.097321 966.136658,480.028900 977.457947,480.122711 C987.208801,480.203491 993.256531,486.339630 993.423340,496.088531 C993.591736,505.931396 987.323730,512.874146 977.673828,512.951233 C959.526672,513.096191 941.377319,512.994263 923.229065,512.925903 C921.079651,512.917786 918.917908,512.564026 916.785522,512.222961 C904.801392,510.306244 898.913025,504.603821 898.202148,492.417206 C897.427734,479.139282 897.678284,465.801117 897.506409,452.488892 C897.459106,448.826477 897.499329,445.162903 897.499634,440.999878 z"}),I.createElement("path",{fill:"#017AFF",opacity:1,stroke:"none",d:" M1040.002319,513.009888 C1032.386597,512.472046 1025.194824,512.401672 1018.174561,511.268555 C1010.726318,510.066406 1006.177002,504.925751 1004.404785,497.720428 C1003.459595,493.877228 1002.968811,489.824890 1002.956421,485.864838 C1002.846130,450.709564 1002.826050,415.553650 1002.916931,380.398285 C1002.954224,365.950378 1016.559753,356.896027 1030.130249,362.060669 C1038.365479,365.194824 1042.187012,370.979767 1042.201660,380.770782 C1042.247070,411.094543 1042.204346,441.418396 1042.235718,471.742188 C1042.245239,480.981537 1041.247803,480.051331 1050.482178,480.082153 C1061.312012,480.118286 1072.142578,480.025299 1082.971680,480.121033 C1092.570557,480.205902 1098.845581,486.620514 1098.907471,496.184052 C1098.970459,505.922485 1092.541992,512.866394 1082.988037,512.962402 C1068.827148,513.104797 1054.663940,513.006042 1040.002319,513.009888 z"}),I.createElement("path",{fill:"#017AFF",opacity:1,stroke:"none",d:" M1105.599854,424.091034 C1105.678223,419.273590 1105.675537,414.939514 1105.848022,410.612366 C1106.679688,389.750092 1118.775146,372.818024 1138.406616,365.732941 C1156.549072,359.185303 1175.012329,358.583527 1193.188843,365.323273 C1198.110229,367.148071 1202.772949,370.721100 1206.466431,374.543121 C1211.164673,379.404846 1211.106934,386.678192 1207.716797,392.221375 C1204.392090,397.657684 1197.251099,400.903137 1190.883667,399.580627 C1188.301636,399.044403 1185.815430,397.977692 1183.339355,397.013916 C1175.530396,393.974335 1167.541260,392.816956 1159.379639,395.154175 C1150.777954,397.617371 1145.223511,403.980804 1145.017212,412.911163 C1144.628296,429.729340 1144.585449,446.570526 1145.007446,463.386902 C1145.269531,473.829987 1153.125732,481.281250 1163.625244,482.137146 C1171.722046,482.797241 1179.477173,481.553802 1186.986572,478.140991 C1190.366577,476.604889 1194.360962,475.323792 1197.962524,475.572998 C1209.802612,476.392456 1216.308594,490.454346 1208.927490,499.752319 C1205.559448,503.994965 1200.648315,507.757538 1195.646484,509.828613 C1174.556763,518.560974 1153.221802,518.122009 1132.727783,508.061493 C1115.403931,499.557190 1106.508057,484.852997 1105.894775,465.561035 C1105.460938,451.910522 1105.674927,438.239471 1105.599854,424.091034 z"}),I.createElement("path",{fill:"#017AFF",opacity:1,stroke:"none",d:" M1320.434326,500.172791 C1317.639038,509.503052 1313.229980,512.955139 1304.061890,512.987305 C1286.908081,513.047424 1269.753784,513.003906 1252.599731,512.992737 C1251.268433,512.991882 1249.933105,512.956604 1248.606323,512.853210 C1231.926514,511.553131 1225.143188,504.528259 1225.061279,487.516205 C1224.887939,451.543427 1224.944946,415.569183 1225.023804,379.595795 C1225.048584,368.329468 1233.036743,360.816620 1244.539917,360.809937 C1256.112671,360.803192 1264.062378,368.157135 1264.114258,379.536163 C1264.256104,410.679382 1264.172607,441.823578 1264.180786,472.967407 C1264.182617,480.081787 1264.187012,480.085663 1271.141602,480.088776 C1281.967041,480.093628 1292.792480,480.061768 1303.617798,480.102203 C1315.913452,480.148132 1322.019409,487.278107 1320.434326,500.172791 z"}),I.createElement("path",{fill:"#017AFF",opacity:1,stroke:"none",d:" M1378.000000,513.014893 C1368.192139,512.765503 1358.816406,513.130859 1349.593384,512.112854 C1337.746338,510.805237 1332.660767,505.204010 1330.947388,493.507568 C1330.538574,490.717987 1330.280029,487.878601 1330.276367,485.061737 C1330.230103,450.432434 1330.286133,415.802979 1330.212158,381.173767 C1330.194580,372.958893 1332.967651,366.428131 1340.685059,362.882050 C1348.394409,359.339600 1355.924683,359.980255 1362.863892,365.047699 C1368.391602,369.084473 1369.760742,374.936981 1369.757690,381.368835 C1369.743286,412.002502 1369.751465,442.636139 1369.756226,473.269806 C1369.757324,480.076080 1369.766113,480.079834 1376.503418,480.083557 C1387.658081,480.089752 1398.813110,480.033844 1409.967285,480.110382 C1420.152832,480.180267 1426.172729,486.207733 1426.218872,496.197205 C1426.266479,506.515289 1420.200684,512.875610 1409.966064,512.983093 C1399.478394,513.093262 1388.988770,513.012207 1378.000000,513.014893 z"})),yW=e=>I.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},I.createElement("path",{d:"M4 11.5L3.515 11.621C3.08232 11.7292 2.69821 11.9788 2.4237 12.3303C2.1492 12.6818 2.00007 13.115 2 13.561V15.438C2.00007 15.884 2.1492 16.3172 2.4237 16.6687C2.69821 17.0202 3.08232 17.2698 3.515 17.378L5.255 17.813C5.34342 17.835 5.43569 17.8366 5.52481 17.8177C5.61393 17.7987 5.69757 17.7597 5.76937 17.7036C5.84118 17.6475 5.89926 17.5758 5.93922 17.4939C5.97918 17.412 5.99997 17.3221 6 17.231V11.768C6.00001 11.6768 5.97921 11.5868 5.93919 11.5048C5.89918 11.4228 5.84099 11.351 5.76907 11.2949C5.69714 11.2388 5.61337 11.1998 5.52412 11.1809C5.43486 11.1621 5.34248 11.1638 5.254 11.186L4 11.5ZM4 11.5V11C4 8.87827 4.84285 6.84344 6.34315 5.34315C7.84344 3.84285 9.87827 3 12 3C14.1217 3 16.1566 3.84285 17.6569 5.34315C19.1571 6.84344 20 8.87827 20 11V11.5M20 11.5L20.485 11.621C20.9177 11.7292 21.3018 11.9788 21.5763 12.3303C21.8508 12.6818 21.9999 13.115 22 13.561V15.438C21.9999 15.884 21.8508 16.3172 21.5763 16.6687C21.3018 17.0202 20.9177 17.2698 20.485 17.378L20 17.5M20 11.5L18.745 11.186C18.6566 11.164 18.5643 11.1624 18.4752 11.1813C18.3861 11.2003 18.3024 11.2393 18.2306 11.2954C18.1588 11.3515 18.1007 11.4232 18.0608 11.5051C18.0208 11.587 18 11.6769 18 11.768V17.231C18 17.3221 18.0208 17.412 18.0608 17.4939C18.1007 17.5758 18.1588 17.6475 18.2306 17.7036C18.3024 17.7597 18.3861 17.7987 18.4752 17.8177C18.5643 17.8366 18.6566 17.835 18.745 17.813L20 17.5M20 17.5V18.5C20 19.0304 19.7893 19.5391 19.4142 19.9142C19.0391 20.2893 18.5304 20.5 18 20.5H15M15 20.5C15 20.1022 14.842 19.7206 14.5607 19.4393C14.2794 19.158 13.8978 19 13.5 19H10.5C10.1022 19 9.72064 19.158 9.43934 19.4393C9.15804 19.7206 9 20.1022 9 20.5C9 20.8978 9.15804 21.2794 9.43934 21.5607C9.72064 21.842 10.1022 22 10.5 22H13.5C13.8978 22 14.2794 21.842 14.5607 21.5607C14.842 21.2794 15 20.8978 15 20.5Z",stroke:"#6B7280",strokeWidth:1.5})),vW=e=>I.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},I.createElement("path",{d:"M12 3C9.61306 3 7.32388 3.94821 5.63605 5.63604C3.94822 7.32387 3.00001 9.61305 3.00001 12C3.00001 14.397 3.93501 16.573 5.46301 18.186L5.96701 18.718L4.70001 21H12C13.1819 21 14.3522 20.7672 15.4442 20.3149C16.5361 19.8626 17.5282 19.1997 18.364 18.364C19.1997 17.5282 19.8626 16.5361 20.3149 15.4442C20.7672 14.3522 21 13.1819 21 12C21 10.8181 20.7672 9.64778 20.3149 8.55585C19.8626 7.46392 19.1997 6.47177 18.364 5.63604C17.5282 4.80031 16.5361 4.13738 15.4442 3.68508C14.3522 3.23279 13.1819 3 12 3ZM1.00001 12C1.00001 5.925 5.92501 1 12 1C18.075 1 23 5.925 23 12C23 18.075 18.075 23 12 23H1.30001L3.52001 19.006C1.88821 17.0363 0.996743 14.5578 1.00001 12ZM12 7.5C11.5864 7.4999 11.1829 7.62803 10.8452 7.86676C10.5074 8.10549 10.2519 8.44307 10.114 8.833L9.78001 9.776L7.89501 9.11L8.22801 8.167C8.43446 7.58155 8.77432 7.05216 9.22069 6.62073C9.66706 6.1893 10.2077 5.86765 10.7998 5.68124C11.392 5.49483 12.0194 5.44876 12.6324 5.54668C13.2454 5.64461 13.8272 5.88383 14.3318 6.24544C14.8364 6.60704 15.25 7.08111 15.5397 7.63013C15.8295 8.17915 15.9875 8.78806 16.0013 9.4087C16.0151 10.0293 15.8843 10.6447 15.6192 11.206C15.3541 11.7674 14.962 12.2593 14.474 12.643C14.043 12.983 13.657 13.309 13.378 13.652C13.104 13.99 13 14.262 13 14.5V15.75H11V14.5C11 13.633 11.39 12.927 11.826 12.39C12.258 11.86 12.8 11.416 13.236 11.072C13.5628 10.8149 13.8014 10.4624 13.9185 10.0634C14.0357 9.66449 14.0256 9.23894 13.8896 8.846C13.7536 8.45305 13.4986 8.11226 13.1599 7.87102C12.8212 7.62978 12.4158 7.50009 12 7.5ZM11 16.75H13.004V18.754H11V16.75Z",fill:"#6B7280"})),M9=[{title:"시간표",path:"/timetable",end:!1},{title:"관심과목",path:"/wishes",end:!0},{title:"올클연습",path:"/simulation",end:!1},{title:"실시간",path:"/live",end:!1}],xW=[{icon:p.jsx(yW,{className:"w-4 h-4"}),title:"오류 및 제안",path:"https://forms.gle/bCDTVujEHunnvHe88"},{icon:p.jsx(vW,{className:"w-4 h-4"}),title:"공지 채팅방",path:"https://open.kakao.com/o/g3MztXfh"}];function Ew(){return p.jsx("header",{className:"bg-white shadow-sm z-50 sticky top-0",children:p.jsxs("div",{className:"container flex items-center justify-between mx-auto max-w-7xl px-4 md:px-16",children:[p.jsxs("div",{className:"flex items-center space-x-4 py-4",children:[p.jsxs(li,{to:"/",className:"flex items-center gap-1 space-x-2","aria-label":"메인 페이지",children:[p.jsx("h1",{className:"hidden",children:"ALLCLL"}),p.jsx(A9,{className:"w-6 h-6 m-0"}),p.jsx(gW,{className:"h-5 hidden sm:inline-block"})]}),p.jsx("ul",{className:"flex space-x-4 text-sm sm:text-base",children:M9.map(({title:e,path:t,end:n})=>p.jsx("li",{className:"font-bold",children:p.jsx(ol,{to:t,end:n,className:({isActive:r})=>r?"text-blue-500 font-semibold":"text-gray-500",children:e})},t))})]}),p.jsx("div",{className:"items-center space-x-2 hidden sm:flex",children:xW.map(({icon:e,title:t,path:n})=>p.jsx("a",{className:"p-2 rounded-md hover:bg-gray-100",target:"_blank",href:n,"aria-label":t,title:t,children:e},n))})]})})}const kw=e=>I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:36,height:36,viewBox:"0 0 36 36",...e},I.createElement("g",{transform:"matrix(1,0,0,-1,0,72)"},I.createElement("g",null,I.createElement("path",{d:"M18,36Q22.9219,36.0703125,27,38.39062Q31.0781,40.78125,33.6094,45Q36,49.2891,36,54Q36,58.710899999999995,33.6094,63Q31.0781,67.2188,27,69.6094Q22.9219,71.9297,18,72Q13.0781,71.9297,9,69.6094Q4.92188,67.2188,2.39062,63Q0,58.710899999999995,0,54Q0,49.2891,2.39062,45Q4.92188,40.78125,9,38.39062Q13.0781,36.0703125,18,36ZM18,63Q19.5469,62.8594,19.6875,61.3125L19.6875,53.4375Q19.5469,51.8906,18,51.75Q16.4531,51.8906,16.3125,53.4375L16.3125,61.3125Q16.4531,62.8594,18,63ZM15.75,47.25Q15.75,48.2344,16.3828,48.8672Q17.0156,49.5,18,49.5Q18.9844,49.5,19.6172,48.8672Q20.25,48.2344,20.25,47.25Q20.25,46.2656,19.6172,45.63281Q18.9844,45,18,45Q17.0156,45,16.3828,45.63281Q15.75,46.2656,15.75,47.25Z",fill:"#9CA3AF",fillOpacity:1,style:{mixBlendMode:"passthrough"}})))),s1=e=>I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:10,height:10,viewBox:"0. 0. 11 11",...e},I.createElement("g",{transform:"matrix(1,0,0,-1,0,20)"},I.createElement("path",{d:"M9.71875,18.28125Q10,18.59375,10,19Q10,19.40625,9.71875,19.71875Q9.40625,20,9,20Q8.59375,20,8.28125,19.71875L5,16.40625L1.71875,19.71875Q1.40625,20,1,20Q0.59375,20,0.28125,19.71875Q0,19.40625,0,19Q0,18.59375,0.28125,18.28125L3.59375,15L0.28125,11.71875Q0,11.40625,0,11Q0,10.59375,0.28125,10.28125Q0.59375,10,1,10Q1.40625,10,1.71875,10.28125L5,13.59375L8.28125,10.28125Q8.59375,10,9,10Q9.40625,10,9.71875,10.28125Q10,10.59375,10,11Q10,11.40625,9.71875,11.71875L6.40625,15L9.71875,18.28125Z",fill:"#9CA3AF",fillOpacity:1,style:{mixBlendMode:"passthrough"}}))),W4=e=>{let t;const n=new Set,r=(u,f)=>{const h=typeof u=="function"?u(t):u;if(!Object.is(h,t)){const g=t;t=f??(typeof h!="object"||h===null)?h:Object.assign({},t,h),n.forEach(y=>y(t,g))}},i=()=>t,a={setState:r,getState:i,getInitialState:()=>l,subscribe:u=>(n.add(u),()=>n.delete(u))},l=t=e(r,i,a);return a},bW=e=>e?W4(e):W4,wW=e=>e;function _W(e,t=wW){const n=wn.useSyncExternalStore(e.subscribe,()=>t(e.getState()),()=>t(e.getInitialState()));return wn.useDebugValue(n),n}const q4=e=>{const t=bW(e),n=r=>_W(t,r);return Object.assign(n,t),n},Or=e=>e?q4(e):q4,m0=Or(e=>({banner:null,onClose:void 0,setBanner:(t,n)=>e({banner:t,onClose:n}),closeBanner:()=>e({banner:null})}));function D9(){const e=m0(n=>n.banner),t=m0(n=>n.closeBanner);return p.jsx("div",{children:e&&p.jsx(SW,{deleteBanner:t,children:e})})}function SW({children:e,deleteBanner:t}){return p.jsxs("div",{className:"flex items-center justify-between bg-blue-100 px-4 py-2 gap-2",children:[p.jsx(kw,{className:"w-4 h-4"}),p.jsx("div",{className:"flex-auto text-xs",children:e}),p.jsx("button",{className:"p-1 rounded-full hover:bg-blue-200",onClick:t,"aria-label":"알림 닫기",children:p.jsx(s1,{className:""})})]})}function g0(){return g0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},g0.apply(null,arguments)}function Cw(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Ab(e,t){return Ab=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Ab(e,t)}function Tw(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Ab(e,t)}function EW(e,t){return e.classList?!!t&&e.classList.contains(t):(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")!==-1}function kW(e,t){e.classList?e.classList.add(t):EW(e,t)||(typeof e.className=="string"?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}function Q4(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function CW(e,t){e.classList?e.classList.remove(t):typeof e.className=="string"?e.className=Q4(e.className,t):e.setAttribute("class",Q4(e.className&&e.className.baseVal||"",t))}const V4={disabled:!1},y0=wn.createContext(null);var L9=function(t){return t.scrollTop},Hf="unmounted",Zl="exited",ec="entering",Hu="entered",Mb="exiting",na=function(e){Tw(t,e);function t(r,i){var s;s=e.call(this,r,i)||this;var o=i,a=o&&!o.isMounting?r.enter:r.appear,l;return s.appearStatus=null,r.in?a?(l=Zl,s.appearStatus=ec):l=Hu:r.unmountOnExit||r.mountOnEnter?l=Hf:l=Zl,s.state={status:l},s.nextCallback=null,s}t.getDerivedStateFromProps=function(i,s){var o=i.in;return o&&s.status===Hf?{status:Zl}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var s=null;if(i!==this.props){var o=this.state.status;this.props.in?o!==ec&&o!==Hu&&(s=ec):(o===ec||o===Hu)&&(s=Mb)}this.updateStatus(!1,s)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,s,o,a;return s=o=a=i,i!=null&&typeof i!="number"&&(s=i.exit,o=i.enter,a=i.appear!==void 0?i.appear:o),{exit:s,enter:o,appear:a}},n.updateStatus=function(i,s){if(i===void 0&&(i=!1),s!==null)if(this.cancelNextCallback(),s===ec){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:Cm.findDOMNode(this);o&&L9(o)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Zl&&this.setState({status:Hf})},n.performEnter=function(i){var s=this,o=this.props.enter,a=this.context?this.context.isMounting:i,l=this.props.nodeRef?[a]:[Cm.findDOMNode(this),a],u=l[0],f=l[1],h=this.getTimeouts(),g=a?h.appear:h.enter;if(!i&&!o||V4.disabled){this.safeSetState({status:Hu},function(){s.props.onEntered(u)});return}this.props.onEnter(u,f),this.safeSetState({status:ec},function(){s.props.onEntering(u,f),s.onTransitionEnd(g,function(){s.safeSetState({status:Hu},function(){s.props.onEntered(u,f)})})})},n.performExit=function(){var i=this,s=this.props.exit,o=this.getTimeouts(),a=this.props.nodeRef?void 0:Cm.findDOMNode(this);if(!s||V4.disabled){this.safeSetState({status:Zl},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:Mb},function(){i.props.onExiting(a),i.onTransitionEnd(o.exit,function(){i.safeSetState({status:Zl},function(){i.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,s){s=this.setNextCallback(s),this.setState(i,s)},n.setNextCallback=function(i){var s=this,o=!0;return this.nextCallback=function(a){o&&(o=!1,s.nextCallback=null,i(a))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},n.onTransitionEnd=function(i,s){this.setNextCallback(s);var o=this.props.nodeRef?this.props.nodeRef.current:Cm.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!o||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],u=l[0],f=l[1];this.props.addEndListener(u,f)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===Hf)return null;var s=this.props,o=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var a=Cw(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return wn.createElement(y0.Provider,{value:null},typeof o=="function"?o(i,a):wn.cloneElement(wn.Children.only(o),a))},t}(wn.Component);na.contextType=y0;na.propTypes={};function Su(){}na.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Su,onEntering:Su,onEntered:Su,onExit:Su,onExiting:Su,onExited:Su};na.UNMOUNTED=Hf;na.EXITED=Zl;na.ENTERING=ec;na.ENTERED=Hu;na.EXITING=Mb;var TW=function(t,n){return t&&n&&n.split(" ").forEach(function(r){return kW(t,r)})},Uv=function(t,n){return t&&n&&n.split(" ").forEach(function(r){return CW(t,r)})},Kh=function(e){Tw(t,e);function t(){for(var r,i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s))||this,r.appliedClasses={appear:{},enter:{},exit:{}},r.onEnter=function(a,l){var u=r.resolveArguments(a,l),f=u[0],h=u[1];r.removeClasses(f,"exit"),r.addClass(f,h?"appear":"enter","base"),r.props.onEnter&&r.props.onEnter(a,l)},r.onEntering=function(a,l){var u=r.resolveArguments(a,l),f=u[0],h=u[1],g=h?"appear":"enter";r.addClass(f,g,"active"),r.props.onEntering&&r.props.onEntering(a,l)},r.onEntered=function(a,l){var u=r.resolveArguments(a,l),f=u[0],h=u[1],g=h?"appear":"enter";r.removeClasses(f,g),r.addClass(f,g,"done"),r.props.onEntered&&r.props.onEntered(a,l)},r.onExit=function(a){var l=r.resolveArguments(a),u=l[0];r.removeClasses(u,"appear"),r.removeClasses(u,"enter"),r.addClass(u,"exit","base"),r.props.onExit&&r.props.onExit(a)},r.onExiting=function(a){var l=r.resolveArguments(a),u=l[0];r.addClass(u,"exit","active"),r.props.onExiting&&r.props.onExiting(a)},r.onExited=function(a){var l=r.resolveArguments(a),u=l[0];r.removeClasses(u,"exit"),r.addClass(u,"exit","done"),r.props.onExited&&r.props.onExited(a)},r.resolveArguments=function(a,l){return r.props.nodeRef?[r.props.nodeRef.current,a]:[a,l]},r.getClassNames=function(a){var l=r.props.classNames,u=typeof l=="string",f=u&&l?l+"-":"",h=u?""+f+a:l[a],g=u?h+"-active":l[a+"Active"],y=u?h+"-done":l[a+"Done"];return{baseClassName:h,activeClassName:g,doneClassName:y}},r}var n=t.prototype;return n.addClass=function(i,s,o){var a=this.getClassNames(s)[o+"ClassName"],l=this.getClassNames("enter"),u=l.doneClassName;s==="appear"&&o==="done"&&u&&(a+=" "+u),o==="active"&&i&&L9(i),a&&(this.appliedClasses[s][o]=a,TW(i,a))},n.removeClasses=function(i,s){var o=this.appliedClasses[s],a=o.base,l=o.active,u=o.done;this.appliedClasses[s]={},a&&Uv(i,a),l&&Uv(i,l),u&&Uv(i,u)},n.render=function(){var i=this.props;i.classNames;var s=Cw(i,["classNames"]);return wn.createElement(na,g0({},s,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(wn.Component);Kh.defaultProps={classNames:""};Kh.propTypes={};function jW(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jw(e,t){var n=function(s){return t&&I.isValidElement(s)?t(s):s},r=Object.create(null);return e&&I.Children.map(e,function(i){return i}).forEach(function(i){r[i.key]=n(i)}),r}function NW(e,t){e=e||{},t=t||{};function n(f){return f in t?t[f]:e[f]}var r=Object.create(null),i=[];for(var s in e)s in t?i.length&&(r[s]=i,i=[]):i.push(s);var o,a={};for(var l in t){if(r[l])for(o=0;o<r[l].length;o++){var u=r[l][o];a[r[l][o]]=n(u)}a[l]=n(l)}for(o=0;o<i.length;o++)a[i[o]]=n(i[o]);return a}function uc(e,t,n){return n[t]!=null?n[t]:e.props[t]}function IW(e,t){return jw(e.children,function(n){return I.cloneElement(n,{onExited:t.bind(null,n),in:!0,appear:uc(n,"appear",e),enter:uc(n,"enter",e),exit:uc(n,"exit",e)})})}function PW(e,t,n){var r=jw(e.children),i=NW(t,r);return Object.keys(i).forEach(function(s){var o=i[s];if(I.isValidElement(o)){var a=s in t,l=s in r,u=t[s],f=I.isValidElement(u)&&!u.props.in;l&&(!a||f)?i[s]=I.cloneElement(o,{onExited:n.bind(null,o),in:!0,exit:uc(o,"exit",e),enter:uc(o,"enter",e)}):!l&&a&&!f?i[s]=I.cloneElement(o,{in:!1}):l&&a&&I.isValidElement(u)&&(i[s]=I.cloneElement(o,{onExited:n.bind(null,o),in:u.props.in,exit:uc(o,"exit",e),enter:uc(o,"enter",e)}))}}),i}var RW=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},OW={component:"div",childFactory:function(t){return t}},o1=function(e){Tw(t,e);function t(r,i){var s;s=e.call(this,r,i)||this;var o=s.handleExited.bind(jW(s));return s.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},s}var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(i,s){var o=s.children,a=s.handleExited,l=s.firstRender;return{children:l?IW(i,a):PW(i,o,a),firstRender:!1}},n.handleExited=function(i,s){var o=jw(this.props.children);i.key in o||(i.props.onExited&&i.props.onExited(s),this.mounted&&this.setState(function(a){var l=g0({},a.children);return delete l[i.key],{children:l}}))},n.render=function(){var i=this.props,s=i.component,o=i.childFactory,a=Cw(i,["component","childFactory"]),l=this.state.contextValue,u=RW(this.state.children).map(o);return delete a.appear,delete a.enter,delete a.exit,s===null?wn.createElement(y0.Provider,{value:l},u):wn.createElement(y0.Provider,{value:l},wn.createElement(s,a,u))},t}(wn.Component);o1.propTypes={};o1.defaultProps=OW;const v0=Or(e=>({isActivated:!1,messages:[],addToast:(t,n)=>e(r=>({messages:[...r.messages,{message:t,tag:n}]})),clearToast:t=>e(n=>(typeof t=="number"?n.messages=[...n.messages.slice(0,t),...n.messages.slice(t+1)]:n.messages=n.messages.filter(r=>r.tag!==t),{messages:n.messages}))})),Nw=e=>I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:17,height:17,viewBox:"-0.1 -1.2 11.985078811645508 17",...e},I.createElement("g",{transform:"matrix(1,0,0,-1,0,27.999998092651367)"},I.createElement("path",{d:"M5.99254,27.999999046325684Q5.61809,27.999999046325684,5.37737,27.753899046325685Q5.13664,27.507799046325683,5.13664,27.124999046325684L5.13664,26.605499046325683Q3.63883,26.277299046325684,2.70269,25.10159904632568Q1.73981,23.925779046325683,1.71306,22.312499046325684L1.71306,21.792969046325684Q1.68632,19.824219046325684,0.429221,18.320309046325683L0.215247,18.074219046325684Q-0.13246,17.664059046325683,0.0815138,17.144529046325683Q0.322234,16.652339046325682,0.857169,16.624999046325684L11.1279,16.624999046325684Q11.6628,16.652339046325682,11.9036,17.144529046325683Q12.1175,17.664059046325683,11.7698,18.074219046325684L11.5826,18.320309046325683Q10.2988,19.796869046325682,10.272,21.792969046325684L10.272,22.312499046325684Q10.2453,23.925779046325683,9.28239,25.10159904632568Q8.34625,26.277299046325684,6.84843,26.605499046325683L6.84843,27.124999046325684Q6.84843,27.507799046325683,6.60771,27.753899046325685Q6.36699,27.999999046325684,5.99254,27.999999046325684ZM7.19614,14.519530046325684Q7.70433,15.039059046325683,7.70433,15.749999046325684L5.99254,15.749999046325684L4.28075,15.749999046325684Q4.28075,15.039059046325683,4.78894,14.519530046325684Q5.29713,13.999999046325684,5.99254,13.999999046325684Q6.68796,13.999999046325684,7.19614,14.519530046325684Z",fill:"#007AFF",fillOpacity:1,style:{mixBlendMode:"passthrough"}})));function Iw(){const e=v0(n=>n.messages),t=v0(n=>n.clearToast);return p.jsx("div",{className:"fixed top-2 right-2 z-100 max-w-screen",children:p.jsx(o1,{className:"flex gap-2 flex-col-reverse",children:e.slice(-3).map((n,r)=>p.jsx(Kh,{timeout:300,classNames:"toast",children:p.jsx(AW,{toast:n,closeToast:()=>t(r)})},`${r} : ${n}`))})})}function AW({toast:e,closeToast:t}){return p.jsxs("div",{className:"flex justify-between items-center gap-2 p-4 ml-2 bg-white text-black rounded-lg shadow-md",children:[p.jsx(Nw,{className:"w-4 h-4"}),p.jsx("span",{className:"flex-1 text-sm font-bold truncate max-w-72",children:e.message}),p.jsx("button",{"aria-label":"닫기",onClick:t,className:"p-2 rounded-full hover:bg-blue-100",children:p.jsx(s1,{})})]})}const MW=e=>I.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},I.createElement("g",{clipPath:"url(#clip0_3195_1180)"},I.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 3.66667C7.3975 3.66667 3.66667 7.3975 3.66667 12C3.66667 16.6025 7.3975 20.3333 12 20.3333C16.6025 20.3333 20.3333 16.6025 20.3333 12C20.3333 7.3975 16.6025 3.66667 12 3.66667ZM2 12C2 6.47708 6.47708 2 12 2C17.5229 2 22 6.47708 22 12C22 17.5229 17.5229 22 12 22C6.47708 22 2 17.5229 2 12Z",fill:"#9CA3AF"}),I.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.9929 20.9465C9.91235 20.8424 9.91235 19.9154 9.9929 18.1657C9.12985 18.1957 8.58443 18.1359 8.35665 17.9861C8.0154 17.7615 7.67332 17.0695 7.3704 16.5815C7.06749 16.0936 6.39415 16.0165 6.12249 15.9074C5.85082 15.7986 5.78249 15.354 6.87124 15.6899C7.95999 16.0261 8.0129 16.942 8.35665 17.1557C8.7004 17.3699 9.52165 17.2765 9.89374 17.1049C10.2658 16.9332 10.2383 16.2949 10.305 16.042C10.3887 15.8057 10.0929 15.7532 10.0867 15.7515C9.7229 15.7515 7.81415 15.3361 7.28957 13.4878C6.7654 11.639 7.44082 10.4307 7.80124 9.91155C8.04124 9.56488 8.01999 8.82682 7.73749 7.69738C8.76415 7.56571 9.55624 7.88877 10.1137 8.66655C10.1146 8.67071 10.8454 8.23196 12 8.23196C13.1546 8.23196 13.5646 8.58946 13.8808 8.66655C14.1971 8.74363 14.45 7.30571 16.4029 7.69738C15.995 8.49863 15.6537 9.49988 15.9142 9.91155C16.175 10.3228 17.1975 11.6311 16.5696 13.4878C16.1504 14.7253 15.3269 15.4799 14.0992 15.7515C13.9586 15.7965 13.8883 15.869 13.8883 15.969C13.8883 16.119 14.0783 16.1353 14.3525 16.8382C14.5358 17.3065 14.5492 18.6447 14.3925 20.8528C13.9961 20.9536 13.6878 21.0214 13.4675 21.0561C13.0771 21.1174 12.6529 21.152 12.2362 21.1649C11.8196 21.1782 11.675 21.177 11.0987 21.1232C10.7266 21.0892 10.3571 21.0302 9.9929 20.9465Z",fill:"#9CA3AF"}))),DW=e=>I.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},I.createElement("path",{d:"M7.8 2H16.2C19.4 2 22 4.6 22 7.8V16.2C22 17.7383 21.3889 19.2135 20.3012 20.3012C19.2135 21.3889 17.7383 22 16.2 22H7.8C4.6 22 2 19.4 2 16.2V7.8C2 6.26174 2.61107 4.78649 3.69878 3.69878C4.78649 2.61107 6.26174 2 7.8 2ZM7.6 4C6.64522 4 5.72955 4.37928 5.05442 5.05442C4.37928 5.72955 4 6.64522 4 7.6V16.4C4 18.39 5.61 20 7.6 20H16.4C17.3548 20 18.2705 19.6207 18.9456 18.9456C19.6207 18.2705 20 17.3548 20 16.4V7.6C20 5.61 18.39 4 16.4 4H7.6ZM17.25 5.5C17.5815 5.5 17.8995 5.6317 18.1339 5.86612C18.3683 6.10054 18.5 6.41848 18.5 6.75C18.5 7.08152 18.3683 7.39946 18.1339 7.63388C17.8995 7.8683 17.5815 8 17.25 8C16.9185 8 16.6005 7.8683 16.3661 7.63388C16.1317 7.39946 16 7.08152 16 6.75C16 6.41848 16.1317 6.10054 16.3661 5.86612C16.6005 5.6317 16.9185 5.5 17.25 5.5ZM12 7C13.3261 7 14.5979 7.52678 15.5355 8.46447C16.4732 9.40215 17 10.6739 17 12C17 13.3261 16.4732 14.5979 15.5355 15.5355C14.5979 16.4732 13.3261 17 12 17C10.6739 17 9.40215 16.4732 8.46447 15.5355C7.52678 14.5979 7 13.3261 7 12C7 10.6739 7.52678 9.40215 8.46447 8.46447C9.40215 7.52678 10.6739 7 12 7ZM12 9C11.2044 9 10.4413 9.31607 9.87868 9.87868C9.31607 10.4413 9 11.2044 9 12C9 12.7956 9.31607 13.5587 9.87868 14.1213C10.4413 14.6839 11.2044 15 12 15C12.7956 15 13.5587 14.6839 14.1213 14.1213C14.6839 13.5587 15 12.7956 15 12C15 11.2044 14.6839 10.4413 14.1213 9.87868C13.5587 9.31607 12.7956 9 12 9Z",fill:"#9CA3AF"})),LW=e=>I.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},I.createElement("path",{d:"M5.679 18.123C3.093 16.566 1.5 14.112 1.5 11.405C1.501 6.701 6.249 3 12.001 3C17.753 3 22.501 6.701 22.501 11.405C22.501 16.109 17.753 19.81 12.001 19.81C11.559 19.81 11.1197 19.7883 10.683 19.745L6.918 22.203C6.303 22.529 5.961 22.628 5.433 22.269C4.813 21.845 4.837 21.377 5.051 20.709L5.679 18.123ZM3.5 11.405C3.5 13.537 4.918 15.528 7.281 16.725L7.987 17.084L7.801 17.854L7.4 19.502L10.2 17.672L10.565 17.718C11.039 17.7793 11.5173 17.81 12 17.81C16.741 17.81 20.5 14.88 20.5 11.405C20.5 7.93 16.742 5 12.001 5C7.26 5 3.5 7.93 3.5 11.405ZM17.908 11.059L19.422 13.214C19.4577 13.2648 19.483 13.322 19.4965 13.3826C19.51 13.4431 19.5115 13.5057 19.5008 13.5668C19.4901 13.6279 19.4675 13.6863 19.4342 13.7387C19.401 13.791 19.3578 13.8363 19.307 13.872C19.2562 13.9077 19.199 13.933 19.1384 13.9465C19.0779 13.96 19.0153 13.9615 18.9542 13.9508C18.8931 13.9401 18.8347 13.9175 18.7823 13.8842C18.73 13.851 18.6847 13.8078 18.649 13.757L17.221 11.724L16.794 12.137V13.5C16.794 13.6252 16.7443 13.7452 16.6558 13.8338C16.5672 13.9223 16.4472 13.972 16.322 13.972C16.1968 13.972 16.0768 13.9223 15.9882 13.8338C15.8997 13.7452 15.85 13.6252 15.85 13.5V12.061C15.8334 11.9879 15.8334 11.9121 15.85 11.839V9.282C15.85 9.15682 15.8997 9.03676 15.9882 8.94825C16.0768 8.85973 16.1968 8.81 16.322 8.81C16.4472 8.81 16.5672 8.85973 16.6558 8.94825C16.7443 9.03676 16.794 9.15682 16.794 9.282V10.824L18.722 8.958C18.8128 8.87613 18.9319 8.83271 19.0541 8.83689C19.1763 8.84107 19.2922 8.89252 19.3772 8.98041C19.4622 9.06829 19.5098 9.18575 19.51 9.30804C19.5101 9.43033 19.4628 9.54791 19.378 9.636L17.908 11.059ZM14.95 12.984C15.0752 12.984 15.1952 13.0337 15.2838 13.1222C15.3723 13.2108 15.422 13.3308 15.422 13.456C15.422 13.5812 15.3723 13.7012 15.2838 13.7898C15.1952 13.8783 15.0752 13.928 14.95 13.928H13.018C12.956 13.9281 12.8946 13.916 12.8374 13.8923C12.7801 13.8686 12.7281 13.8339 12.6843 13.79C12.6405 13.7461 12.6059 13.694 12.5823 13.6367C12.5587 13.5794 12.5467 13.518 12.547 13.456V9.297C12.5441 9.23325 12.5541 9.16958 12.5765 9.10981C12.5988 9.05005 12.6331 8.99544 12.6772 8.9493C12.7212 8.90315 12.7742 8.86641 12.8329 8.84132C12.8915 8.81622 12.9547 8.80328 13.0185 8.80328C13.0823 8.80328 13.1455 8.81622 13.2041 8.84132C13.2628 8.86641 13.3158 8.90315 13.3598 8.9493C13.4039 8.99544 13.4382 9.05005 13.4605 9.10981C13.4829 9.16958 13.4929 9.23325 13.49 9.297V12.984H14.95ZM9.093 11.893H10.427L9.789 10.185L9.093 11.893ZM11.616 12.38L11.961 13.305C11.9848 13.3635 11.9967 13.4262 11.9958 13.4893C11.995 13.5525 11.9815 13.6148 11.9561 13.6727C11.9308 13.7305 11.8941 13.7827 11.8482 13.8261C11.8023 13.8694 11.7481 13.9032 11.689 13.9253C11.6298 13.9474 11.5668 13.9574 11.5037 13.9546C11.4406 13.9519 11.3787 13.9366 11.3216 13.9095C11.2645 13.8825 11.2135 13.8442 11.1715 13.7971C11.1295 13.7499 11.0973 13.6948 11.077 13.635L10.779 12.836H8.709L8.377 13.649C8.35356 13.7064 8.31904 13.7586 8.27543 13.8026C8.23181 13.8467 8.17994 13.8817 8.12279 13.9057C8.06563 13.9297 8.00431 13.9422 7.94232 13.9425C7.88033 13.9428 7.81889 13.9309 7.7615 13.9075C7.70411 13.8841 7.6519 13.8495 7.60785 13.8059C7.56381 13.7623 7.52878 13.7104 7.50478 13.6533C7.48077 13.5961 7.46826 13.5348 7.46796 13.4728C7.46765 13.4108 7.47956 13.3494 7.503 13.292L9.165 9.217C9.21605 9.08531 9.30573 8.97215 9.42227 8.89237C9.53882 8.81259 9.67677 8.76994 9.818 8.77C9.95833 8.7758 10.0936 8.8243 10.2056 8.90899C10.3176 8.99369 10.4012 9.11057 10.445 9.244L11.491 12.044C11.5723 12.1308 11.6177 12.2451 11.618 12.364L11.616 12.38ZM8.294 9.302C8.294 9.562 8.084 9.774 7.823 9.774H6.683V13.51C6.683 13.6353 6.63322 13.7555 6.54461 13.8441C6.456 13.9327 6.33581 13.9825 6.2105 13.9825C6.08518 13.9825 5.965 13.9327 5.87639 13.8441C5.78778 13.7555 5.738 13.6353 5.738 13.51V9.774H4.578C4.45282 9.774 4.33276 9.72427 4.24425 9.63575C4.15573 9.54724 4.106 9.42718 4.106 9.302C4.106 9.17682 4.15573 9.05676 4.24425 8.96825C4.33276 8.87973 4.45282 8.83 4.578 8.83H7.823C8.083 8.83 8.294 9.041 8.294 9.302Z",fill:"#9CA3AF"})),FW=[{title:"고객지원",children:[{title:"ALLCLL 소개",href:"/about"},{title:"자주 묻는 질문",href:"/faq"},{title:"오류 및 제안",href:"https://forms.gle/bCDTVujEHunnvHe88"},{title:"allcllclla@google.com"}]}],BW=[{icon:p.jsx(MW,{className:"w-8 h-8 m-2"}),title:"올클 github",href:"https://github.com/allcll"},{icon:p.jsx(LW,{className:"w-8 h-8 m-2"}),title:"올클 오픈채팅",href:"https://open.kakao.com/o/g3MztXfh"},{icon:p.jsx(DW,{className:"w-8 h-8 m-2"}),title:"올클 instagram",href:"https://www.instagram.com/sejong_allcll"}];function Pw(){return p.jsxs("footer",{className:"bg-white text-center text-sm text-gray-500",children:[p.jsxs("div",{className:"mx-auto max-w-7xl px-4 md:px-16 py-12 grid md:grid-cols-3 gap-6 text-center md:text-left",children:[p.jsxs("div",{className:"mx-auto md:mx-0",children:[p.jsxs("div",{className:"flex items-center mb-2 h-fit justify-center md:justify-start",children:[p.jsx("img",{src:"/ci.svg",className:"w-6 h-6 mr-2",alt:"ci"}),p.jsx("img",{src:"/logo-name.svg",alt:"logo",className:"h-5"})]}),p.jsx("ul",{className:"flex items-center",children:BW.map(({icon:e,title:t,href:n})=>p.jsx("li",{children:p.jsx("a",{href:n,className:"h-fit rounded-md hover:bg-gray-200","aria-label":t,title:t,children:e})},t))})]}),p.jsxs("div",{children:[p.jsx("h3",{className:"font-bold mb-4",children:"서비스"}),p.jsx("ul",{children:M9.map(({title:e,path:t,end:n})=>p.jsx("li",{className:"mb-1",children:p.jsx(ol,{to:t,end:n,className:"hover:text-blue-500 hover:underline hover:font-bold",children:e})},e))})]}),FW.map((e,t)=>p.jsxs("div",{className:"mb-4",children:[p.jsx("h3",{className:"font-bold mb-4",children:e.title}),p.jsx("ul",{children:e.children.map((n,r)=>p.jsx("li",{className:"mb-1",children:n.href?n.href.startsWith("http")?p.jsx("a",{className:"hover:text-blue-500 hover:underline hover:font-bold",href:n.href,target:"_blank",children:n.title}):p.jsx(li,{to:n.href,className:"hover:text-blue-500 hover:underline hover:font-bold",children:n.title}):p.jsx("p",{children:n.title})},r))})]},t))]}),p.jsx("p",{className:"pb-12",children:"© 2025 ALLCLL. All rights reserved."})]})}const zW=1.5*1e3,F9=5,ii=Or(e=>({needCount:0,alwaysReload:!1,forceReloadNumber:0,errorCount:0,isError:!1,isPending:!0,addNeedCount:()=>e(t=>({needCount:t.needCount+1})),deleteNeedCount:()=>e(t=>({needCount:Math.max(0,t.needCount-1)})),setAlwaysReload:t=>e({alwaysReload:t}),setForceReload:()=>e(t=>({forceReloadNumber:t.forceReloadNumber+1,errorCount:0,isError:!1})),setError:()=>e(({errorCount:t,isPending:n})=>({errorCount:t+1,isError:t+1>=F9,isPending:n||t>1})),resetError:()=>e({errorCount:0,isError:!1,isPending:!1})}));function $W(){return p.jsxs(p.Fragment,{children:["알림이 울리지 않나요?  ",p.jsx(li,{to:"/faq#0",className:"text-blue-500 underline hover:text-blue-600",children:"문제 해결하기"})]})}const UW=()=>/Mobi|Android/i.test(navigator.userAgent),rd=Or(e=>({isAlarmActivated:!0,isToastActivated:!1,saveSettings:t=>{e(({...n})=>{const r={...n,settings:t};return localStorage.setItem("AlarmSettings",JSON.stringify(r)),t})},getSettings:()=>{const t=localStorage.getItem("AlarmSettings");if(t){const r=JSON.parse(t);return e(r),r}const n={isAlarmActivated:!0,isToastActivated:UW()};return e(n),n}}));let K4=!1;function Rw(){return"Notification"in window}function Db(){return Notification.permission==="granted"}function G4(e){if(!Rw()){alert("해당 브라우저는 알림을 받을 수 없는 브라우저입니다. 다른 브라우저를 이용해주세요");return}if(!Db()){Notification.requestPermission().then(t=>{e&&e(t)});return}e&&e(Notification.permission)}function x0(e,t){rd.getState().isAlarmActivated&&navigator.serviceWorker.ready.then(function(s){s.showNotification(e,{badge:"/ci.svg",tag:t}).then()});const r=v0.getState().addToast;rd.getState().isToastActivated&&r(e,t)}function Y4(e){navigator.serviceWorker.ready.then(function(n){n.getNotifications({tag:e}).then(function(r){r.forEach(function(i){i.close()})})});const t=v0.getState().clearToast;t(e)}function HW(e,t,n){const{alwaysReload:r}=ii.getState();if(!(!Rw()||!e||!t||!r)){for(const i of t)if(e.some(o=>o.subjectId===i.subjectId&&o.seatCount===0&&i.seatCount>0)){const o=WW(n,i.subjectId);if(o){x0(`${o.subjectCode}-${o.classCode} ${o.subjectName} 여석이 생겼습니다`);return}x0("unknown subject의 여석이 생겼습니다")}}}function WW(e,t){return(e.getQueryData(["wishlist"])?.baskets??[]).find(r=>r.subjectId===t)}let Um=null,X4=1;function Hv(e){const t="global-notification_"+X4,n="global-notification_"+ ++X4;Um&&(clearTimeout(Um),Y4(t),Um=null),x0(e,n),Um=setTimeout(()=>Y4(n),3e3)}const qW=1e3*60*60*24;function J4(e){const t="alarm-check",n=localStorage.getItem(t);n&&Date.now()-Number(n)<100*qW||setTimeout(()=>{e($W(),()=>{localStorage.setItem(t,Date.now().toString())})},5e3)}function QW(){const e=ii(s=>s.alwaysReload),t=ii(s=>s.setAlwaysReload),n=m0(s=>s.setBanner),r=Rw()&&Db()&&e;return I.useEffect(()=>{K4||(G4(s=>{if(s!=="granted"){t(!1);return}Hv("알림 기능이 활성화되었습니다. 여석이 생기면 이렇게 알림을 보내드려요"),J4(n),t(!0)}),K4=!0)},[]),{isAlarm:r,changeAlarm:()=>{if(r){Db()&&Hv("알림 기능이 비활성화되었습니다"),t(!1);return}G4(s=>{s==="granted"?(Hv("알림 기능이 활성화되었습니다"),J4(n),t(!0)):alert(s==="default"?"알림 권한을 허용해야 알림을 받을 수 있습니다":"알림 권한이 없습니다. 브라우저의 알림 권한을 확인해주세요.")})}}}const a1="";async function l1(e,t){return await fetch(a1+e,{credentials:"include",...t})}async function ra(e,t){const n=await fetch(a1+e,{credentials:"include",...t,headers:{"Content-Type":"application/json",...t?.headers}});if(!n.ok)throw new Error(await n.text());return await n.json()}async function VW(e,t,n){const r=await fetch(a1+e,{method:"DELETE",credentials:"include",headers:{"Content-Type":"application/json"},body:t?JSON.stringify(t):void 0,...n});if(!r.ok)throw new Error(await r.text());return r.status===204?null:await r.json()}function KW(e,t){return new EventSource(a1+e,{withCredentials:!0,...t})}async function Ow(e,t){const n=await fetch(e,{credentials:"include",...t});if(!n.ok)throw new Error(await n.text());return await n.json()}var B9=(e=>(e.IDLE="idle",e.LIVE="live",e))(B9||{});const GW=3e3;let Hm=null;const Wf=Or(e=>({lastUpdate:new Date,sseState:"live",updated:()=>{e({lastUpdate:new Date,sseState:"live"}),Hm&&clearInterval(Hm),Hm=setTimeout(()=>{e({sseState:"idle"}),Hm=null},GW)}}));var c1=(e=>(e.NON_MAJOR="nonMajorSeats",e.MAJOR="majorSeats",e.PINNED="pinSeats",e))(c1||{});let Wm=!1;const YW=()=>{const e=Gi(),t=ii(l=>l.needCount),n=ii(l=>l.alwaysReload),r=ii(l=>l.forceReloadNumber),i=ii(l=>l.errorCount),s=ii(l=>l.setError),o=ii(l=>l.resetError),a=ii(l=>l.isError);I.useEffect(()=>{const l=n||t>0;Wm||!l||i>=F9||(Wm=!0,XW(e,o).then(()=>{o(),Wm=!1}).catch(()=>{Wm=!1,i===0?s():setTimeout(s,zW)}))},[n,t,e,s,r,o,i]),I.useEffect(()=>{a&&x0("알림이 중지되었습니다. 다시 연결해주세요.")},[a])},XW=(e,t)=>new Promise((n,r)=>{const i=KW("/api/connect");return i.addEventListener("nonMajorSeats",s=>{const o=JSON.parse(s.data);if(!o)return;const a=o.seatResponses??[];e.setQueryData(["nonMajorSeats"],(l=[])=>Z4(l,a)),Wf.getState().updated()}),i.addEventListener("majorSeats",s=>{const o=JSON.parse(s.data);if(!o)return;const a=o.seatResponses??[];e.setQueryData(["majorSeats"],(l=[])=>Z4(l,a)),Wf.getState().updated()}),i.addEventListener("pinSeats",s=>{const o=JSON.parse(s.data);if(!o)return;const a=o.seatResponses??[];e.setQueryData(["pinSeats"],(l=[])=>{const u=JW(l,a);return HW(l,u,e),u}),Wf.getState().updated()}),i.onopen=()=>{t(),Wf.getState().updated()},i.onerror=s=>{i.close(),r(new Error("SSE connection error: "+(s.type??"Unknown error")))},()=>{i.close(),n("SSE connection closed")}}),Aw=e=>{const t=Gi(),n=ii(l=>l.addNeedCount),r=ii(l=>l.deleteNeedCount),i=ii(l=>l.isPending),s=ii(l=>l.isError),o=ii(l=>l.setForceReload);return I.useEffect(()=>{const l=()=>{document.visibilityState==="visible"?n():r()};return n(),document.addEventListener("visibilitychange",l),()=>{r(),document.removeEventListener("visibilitychange",l)}},[n,r]),{...Hs({queryKey:[e],queryFn:()=>Promise.resolve(t.getQueryData([e])??[])}),isPending:i,isError:s,refetch:o}};function Z4(e,t){const n=[];for(const r of t){const i=e.find(o=>o.subjectId===r.subjectId);!i||i.seatCount!==r.seatCount||i.queryTime!==r.queryTime?n.push(r):n.push(i)}return n}function JW(e,t){const n=new Set;[...e,...t].forEach(i=>{n.add(i.subjectId)});const r=[];return n.forEach(i=>{const s=e.find(l=>l.subjectId===i),o=t.find(l=>l.subjectId===i);o&&(!s||s.queryTime!==o.queryTime||s.seatCount!==o.seatCount)?r.push(o):s&&r.push(s)}),r}const e6={idx:-1,key:""};function Mw(){const e=fo(),t=I.useRef(e6);I.useEffect(()=>{const r=window.history.state;(!r||r.idx>=t.current.idx)&&window.scrollTo(0,0),t.current=r??e6},[e.pathname]),YW();const n=rd(r=>r.getSettings);I.useEffect(()=>{n()},[])}function t6(){return Mw(),p.jsxs(p.Fragment,{children:[p.jsx(gr,{children:p.jsx("title",{children:"ALLCLL"})}),p.jsx(Iw,{}),p.jsx(Ew,{}),p.jsx(D9,{}),p.jsx(L2,{}),p.jsx(Pw,{})]})}function ZW(e){const t=Hs({queryKey:["serviceSemester"],queryFn:eq,staleTime:1/0,select:r=>r?{...r,services:r.services.map(tq)}:null});if(!e||!t.data)return t;const n=t.data.services.find(r=>r.id===e);return{...t,data:{code:t.data.code,semester:t.data.semester,service:n}}}const eq=async()=>nq,tq=e=>{const t=new Date,n=new Date(e.startDate),r=new Date(e.endDate);n.setHours(0,0,0,0),r.setHours(23,59,59,999);const i=n<=t&&t<=r;return{id:e.id,startDate:n,endDate:r,withinPeriod:i,startDateStr:e.startDate,endDateStr:e.endDate,message:e.message}},nq={code:"FALL_25",semester:"2025-2",services:[{id:"timetable",startDate:"2025-07-18",endDate:"2025-12-31",message:null},{id:"baskets",startDate:"2025-07-18",endDate:"2025-12-31",message:null},{id:"simulation",startDate:"2025-07-18",endDate:"2025-12-31",message:null},{id:"live",startDate:"2025-08-11",endDate:"2025-09-30",message:null},{id:"preSeat",startDate:"2025-08-16",endDate:"2025-09-30",message:null}]},rq=e=>I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:17.971202850341797,height:16.003124237060547,viewBox:"0 0 17.971202850341797 16.003124237060547",...e},I.createElement("g",{transform:"matrix(1,0,0,-1,0,32.006248474121094)"},I.createElement("path",{d:"M17.9688,24.003124237060547Q17.9376,23.596874237060547,17.6568,23.315624237060547Q17.3761,23.034374237060547,16.9705,23.003124237060547L15.9723,23.003124237060547L16.0035,18.003124237060547Q15.9723,17.878124237060547,15.9723,17.753124237060547L15.9723,17.253124237060547Q15.9723,16.721874237060547,15.5979,16.378124237060547Q15.2548,16.003124237060547,14.7244,16.003124237060547L14.2253,16.003124237060547Q14.1629,16.003124237060547,14.1317,16.003124237060547Q14.0693,16.003124237060547,14.0069,16.003124237060547L12.9775,16.003124237060547L12.2288,16.003124237060547Q11.6984,16.003124237060547,11.3553,16.378124237060547Q10.9809,16.721874237060547,10.9809,17.253124237060547L10.9809,18.003124237060547L10.9809,20.003124237060547Q10.9809,20.440624237060547,10.7002,20.721874237060547Q10.4194,21.003124237060547,9.98267,21.003124237060547L7.98614,21.003124237060547Q7.54939,21.003124237060547,7.26863,20.721874237060547Q6.98787,20.440624237060547,6.98787,20.003124237060547L6.98787,18.003124237060547L6.98787,17.253124237060547Q6.98787,16.721874237060547,6.61352,16.378124237060547Q6.27036,16.003124237060547,5.74003,16.003124237060547L4.99133,16.003124237060547L3.99307,16.003124237060547Q3.96187,16.003124237060547,3.93068,16.003124237060547Q3.89948,16.003124237060547,3.86828,16.003124237060547Q3.80589,16.003124237060547,3.7435,16.003124237060547L3.24437,16.003124237060547Q2.71404,16.003124237060547,2.37088,16.378124237060547Q1.99653,16.721874237060547,1.99653,17.253124237060547L1.99653,20.753124237060547Q1.99653,20.784374237060547,1.99653,20.846874237060547L1.99653,23.003124237060547L0.998267,23.003124237060547Q0.561525,23.034374237060547,0.280763,23.315624237060547Q0,23.596874237060547,0,24.034374237060547Q0,24.440624237060547,0.311958,24.784374237060547L8.29809,31.753124237060547Q8.64125,32.034324237060545,8.9844,32.00312423706055Q9.35875,32.00312423706055,9.63952,31.78442423706055L17.6257,24.753124237060547Q18,24.440624237060547,17.9688,24.003124237060547Z",fill:"#FFFFFF",fillOpacity:1,style:{mixBlendMode:"passthrough"}})));function iq({data:e}){const t=e.service?.endDate&&e.service.endDate<new Date;return p.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-100 px-4",children:p.jsxs("main",{className:"text-center",children:[p.jsx("h1",{className:"text-3xl mb-4 font-bold text-gray-900",children:t?"수강신청 고생 많으셨습니다":"서비스 준비중입니다"}),p.jsxs("p",{className:"text-gray-600 mt-2",children:["현재는 서비스를 이용할 수 없습니다",p.jsx("br",{}),"다음 수강신청 기간에 더 나은 서비스로 찾아뵙겠습니다."]}),p.jsxs("div",{className:"mt-6 bg-white shadow-lg rounded-lg p-6 w-full max-w-md",children:[t?p.jsxs(p.Fragment,{children:[p.jsxs("h2",{className:"text-lg font-semibold text-gray-900",children:[e.semester," 수강신청이 종료되었습니다"]}),p.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"수강 신청 기간 동안 고생 많으셨습니다"}),p.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"자세한 일정은 추후 공지 예정입니다"})]}):p.jsxs(p.Fragment,{children:[p.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"다음 서비스 기간 안내"}),p.jsxs("p",{className:"text-gray-600 mt-1",children:[e.semester," 수강신청"]}),p.jsxs("p",{className:"text-gray-500 text-sm mt-1",children:[e.service?.startDateStr," ~ ",e.service?.endDateStr]})]}),p.jsx("hr",{className:"my-4 border-gray-200"}),p.jsx("h3",{className:"text-md font-semibold text-gray-900",children:"문의"}),p.jsx("p",{className:"text-gray-600 flex items-center justify-center gap-2 mt-2",children:"allcllclla@google.com"}),p.jsx("a",{className:"text-gray-600 flex items-center justify-center gap-2 mt-1 hover:text-blue-500 hover:underline",href:"https://forms.gle/bCDTVujEHunnvHe88",target:"_blank",children:"오류 및 제안"}),p.jsx("a",{className:"text-gray-600 flex items-center justify-center gap-2 mt-1 hover:text-blue-500 hover:underline",href:"https://open.kakao.com/o/g3MztXfh",target:"_blank",children:"오픈 채팅"})]}),p.jsx("div",{className:"flex flex-col items-center justify-center",children:p.jsxs(li,{to:"/",className:"flex items-center gap-2 mt-6 px-6 py-3 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 cursor-pointer",children:[p.jsx(rq,{className:"w-4 h-4"}),"메인 페이지로 이동"]})})]})})}function z9({serviceId:e,children:t}){const{data:n,error:r}=ZW(e);return r&&console.error("Semester service error:",r),!n||!("service"in n)||!n.service||n.service.withinPeriod?t:p.jsx(iq,{data:n})}function Wv({serviceId:e}){return Mw(),p.jsxs(p.Fragment,{children:[p.jsx(Iw,{}),p.jsx(Ew,{}),p.jsxs(z9,{serviceId:e,children:[p.jsx(D9,{}),p.jsx(L2,{})]}),p.jsx(Pw,{})]})}const sq=[{name:"수강 및 변동신청",children:[{name:"수강신청 및 기타",children:[{name:"수강신청",path:"/simulation"},{name:"수강신청 결과",path:"/simulation/logs"},{name:"수강신청 관리",path:"/simulation/admin"},{name:"관심과목 담기",path:"#"},{name:"강의시간표/수업계획서 조회",path:"#"},{name:"등록이력조회/고지서출력",path:"#"},{name:"학적변동신청(휴학,복학등)",path:"#"}]}]}];function oq(){const[e,t]=I.useState(!0),[n]=I.useState(/Android|iPhone/i.test(navigator.userAgent)),r=()=>{t(i=>!i)};return p.jsx("aside",{className:(e?"relative z-10":"relative bg-blue-50 z-10")+(!e||n?" w-[20px] min-w-[20px] h-[calc(100vh-60px)]":" w-[230px] min-w-[230px]"),children:e?p.jsxs("div",{className:n?"absolute w-[300px] min-w-[300px] h-full bg-white shadow-gray-800 shadow-md":"bg-white",children:[p.jsxs("div",{className:"h-12 bg-blue-500 text-white text-lg font-semibold flex items-center justify-between px-4",children:[p.jsx("span",{children:"학부생학사정보"}),p.jsx("button",{className:"text-white hover:text-gray-200 cursor-pointer",onClick:r,children:"<"})]}),p.jsx("ul",{className:"flex flex-col text-sm",children:sq.map((i,s)=>p.jsx(aq,{menu:i},s))})]}):p.jsx("div",{children:p.jsx("button",{className:"w-full h-12 bg-blue-500 text-white text-lg font-semibold text-center cursor-pointer hover:text-gray-200",onClick:r,children:">"})})})}const $9=!0;function aq({menu:e}){const[t,n]=I.useState($9);return p.jsxs("li",{children:[p.jsxs("button",{className:"px-4 py-2 h-12 flex items-center justify-between w-full border-b border-neutral-300 cursor-pointer hover:bg-gray-100 "+(t?"font-semibold":"font-normal"),onClick:()=>n(r=>!r),children:[e.name,e.children&&p.jsx("span",{className:"ml-auto text-gray-500",children:t?"▲":"▼"})]}),t&&e.children&&p.jsx("ul",{className:"",children:e.children.map((r,i)=>p.jsx(lq,{menu:r},i))})]})}function lq({menu:e}){const[t,n]=I.useState($9);return p.jsxs("li",{className:"",children:[p.jsxs("button",{className:"px-4 py-2 h-10 flex items-center gap-4 w-full border-b border-neutral-300 cursor-pointer hover:bg-gray-100 "+(t?"font-semibold":"font-normal"),onClick:()=>n(r=>!r),children:[p.jsx("span",{children:t?"-":"+"}),p.jsx("span",{children:e.name})]}),t&&e.children&&p.jsx("ul",{className:"ml-1 pl-4 bg-neutral-100 font-semibold",children:e.children.map((r,i)=>p.jsx(cq,{menu:r},i))})]})}function cq({menu:e}){return p.jsx("li",{children:e.path==="#"?p.jsx("div",{className:"block px-2 py-2 text-xs text-gray-400 cursor-not-allowed",children:e.name}):p.jsx(ol,{to:e.path??"#",className:({isActive:t})=>`block px-2 py-2 text-xs cursor-pointer hover:bg-blue-500 hover:text-white ${t?"bg-blue-500 text-white":""}`,end:!0,children:e.name})})}const b0=Or(e=>({tabs:[],setTab:t=>{e(({tabs:n})=>{const r=n.findIndex(i=>i.urlPath===t.urlPath);return r!==-1?n[r]=t:n.push(t),{tabs:[...n]}})},deleteTab:(t,n)=>{e(({tabs:r})=>{const i=r.filter(l=>l.urlPath!==t&&l.realUrl!==t),s=i.length?[...i]:[uq],o=window.location.pathname.replace(/\d+/,""),a=t===o?s[s.length-1]:null;return a&&n(a.realUrl,{replace:!0}),{tabs:s}})}})),Lb=[{title:"수강신청",urlPath:"/simulation"},{title:"수강신청 결과",urlPath:"/simulation/logs"},{title:"상세 결과",urlPath:"/simulation/logs/"},{title:"관심과목 담기",urlPath:"/simulation/interest"},{title:"수강신청 관리",urlPath:"/simulation/admin"}],uq={...Lb[0],realUrl:Lb[0].urlPath};function dq(){const e=$0(),t=fo(),n=b0(i=>i.tabs),r=b0(i=>i.setTab);I.useEffect(()=>{if(n.length===0){const i=n6(t);r(i),e(i.realUrl)}},[n]),I.useEffect(()=>{r(n6(t))},[t.pathname])}function n6(e){const t=e.pathname.replace(/\d+/,"");return{title:Lb.find(n=>n.urlPath===t)?.title||"알 수 없는 탭",urlPath:t,realUrl:e.pathname}}function fq(){const e=b0(r=>r.tabs),t=b0(r=>r.deleteTab),n=$0();return dq(),p.jsx("div",{className:"flex border-b border-neutral-300 bg-gray-100 text-sm h-12",children:e.map(r=>p.jsxs(ol,{to:r.realUrl,className:({isActive:i})=>"px-2.5 flex items-center gap-2.5 w-1/4 sm:w-1/8 border-r-1 border-r-neutral-300 cursor-pointer"+(i?" mb-[-1px] bg-white border-b-2 border-b-white border-t-4 border-t-blue-500 font-semibold text-blue-500":" text-gray-500 hover:bg-white"),end:!0,children:[p.jsx("span",{className:"flex-1 text-center overflow-hidden text-ellipsis text-nowrap",children:r.title}),p.jsx("button",{className:"w-4 text-gray-700 cursor-pointer",onClick:i=>{i.preventDefault(),i.stopPropagation(),t(r.urlPath,n)},children:"x"})]},r.urlPath))})}function hq(){return Mw(),p.jsxs(p.Fragment,{children:[p.jsx(Iw,{}),p.jsx(Ew,{}),p.jsx(z9,{serviceId:"simulation",children:p.jsx("div",{className:"w-full bg-white text-sm text-gray-800 font-sans",children:p.jsxs("div",{className:"flex",children:[p.jsx(oq,{}),p.jsxs("div",{className:"flex-auto min-w-0",children:[p.jsx(fq,{}),p.jsx("main",{className:"flex-1 p-4 space-y-4 mx-auto max-w-screen-2xl overflow-x-hidden",children:p.jsx(L2,{})})]})]})})}),p.jsx(Pw,{})]})}function Ac({bgColor:e,className:t,children:n}){const r=e??"even:bg-white ",i=t?` ${t}`:"";return p.jsx("section",{className:r,children:p.jsx("div",{className:`mx-auto max-w-7xl px-4 md:px-8 py-10 ${i}`,children:n})})}const U9=e=>I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:15.75,height:18,viewBox:"0 0 15.75 18",...e},I.createElement("defs",null,I.createElement("clipPath",{id:"master_svg0_85_3269"},I.createElement("rect",{x:0,y:0,width:15.75,height:18,rx:0}))),I.createElement("g",{clipPath:"url(#master_svg0_85_3269)"},I.createElement("g",{transform:"matrix(1,0,0,-1,0,32.2734375)"},I.createElement("g",null,I.createElement("path",{d:"M15.4336,22.07812875Q15.75,22.42968875,15.75,22.88671875Q15.75,23.34374875,15.4336,23.69530875L9.80859,29.32031875Q9.45703,29.63671875,9,29.63671875Q8.54297,29.63671875,8.19141,29.32031875Q7.875,28.96871875,7.875,28.51171875Q7.875,28.05471875,8.19141,27.70311875L11.918,24.01171875L1.125,24.01171875Q0.632812,24.01171875,0.316406,23.69530875Q0,23.37890875,0,22.88671875Q0,22.39452875,0.316406,22.07812875Q0.632812,21.76171875,1.125,21.76171875L11.918,21.76171875L8.19141,18.07030875Q7.875,17.71874875,7.875,17.26171875Q7.875,16.80468775,8.19141,16.45312475Q8.54297,16.13671875,9,16.13671875Q9.45703,16.13671875,9.80859,16.45312475L15.4336,22.07812875Z",fill:"#FFFFFF",fillOpacity:1,style:{mixBlendMode:"passthrough"}}))))),pq=e=>I.createElement("svg",{width:16,height:15,viewBox:"0 0 16 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},I.createElement("path",{d:"M15.4336 8.19531C15.6445 7.96094 15.75 7.69141 15.75 7.38672C15.75 7.08203 15.6445 6.8125 15.4336 6.57812L9.80859 0.953125C9.57422 0.742191 9.30469 0.636719 9 0.636719C8.69531 0.636719 8.42578 0.742191 8.19141 0.953125C7.98047 1.18752 7.875 1.45705 7.875 1.76172C7.875 2.06639 7.98047 2.33591 8.19141 2.57031L11.918 6.26172H1.125C0.796875 6.26172 0.527344 6.36719 0.316406 6.57812C0.105469 6.78906 0 7.05859 0 7.38672C0 7.71485 0.105469 7.98438 0.316406 8.19531C0.527344 8.40625 0.796875 8.51172 1.125 8.51172H11.918L8.19141 12.2031C7.98047 12.4375 7.875 12.707 7.875 13.0117C7.875 13.3164 7.98047 13.5859 8.19141 13.8203C8.42578 14.0312 8.69531 14.1367 9 14.1367C9.30469 14.1367 9.57422 14.0312 9.80859 13.8203L15.4336 8.19531Z",fill:"#007AFF"}));function mq(){return p.jsxs(Ac,{className:"flex flex-col md:flex-row items-center justify-between",bgColor:"bg-banner-skysoft",children:[p.jsxs("div",{className:"max-w-xl",children:[p.jsxs("div",{className:"flex flex-row gap-2 items-center",children:[p.jsx("img",{src:"/calendar.png",alt:"calendar",className:"w-10 h-10"}),p.jsxs("span",{className:"italic text-xs text-stone-500 ",children:["2025학년도 2학기 수강 신청 기간 ",p.jsx("br",{})," 8월 11일(월) ~ 8월 18일(월)"]})]}),p.jsx("h2",{className:"text-xl mt-10 sm:text-2xl md:text-4xl leading-snug font-bold mb-3 ",children:"2025학년도 2학기 수강신청,"}),p.jsxs("div",{className:"flex flex-row justify-start items-center text-xl sm:text-2xl md:text-4xl leading-snug font-bold mb-3",children:[p.jsx("img",{src:"/logo-name.svg",alt:"logo-name",className:"w-20 sm:w-32 md:w-40 lg:w-48 mr-2 animate-updown"}),"이 도와드립니다!"]}),p.jsx("p",{className:"text-gray-400 mt-4",children:"시간표 만들기부터 수강 신청 연습, 실시간 여석 확인까지 ALLCLL이 여러분과 함께합니다"}),p.jsxs("div",{className:"flex flex-col md:flex-row gap-4 ",children:[p.jsxs(li,{to:"/live",className:"bg-blue-500 hover:bg-blue-600 text-white rounded-md px-6 py-3 mt-6 flex items-center gap-2 w-fit",children:["실시간 여석 확인하기",p.jsx(U9,{className:"w-4 h-4"})]}),p.jsxs(li,{to:"/simulation",className:"bg-white hover:bg-gray-100 text-blue-500 rounded-md px-6 py-3 mt-6 flex items-center gap-2 w-fit",children:["수강 신청 연습하기",p.jsx(pq,{className:"w-4 h-4"})]})]})]}),p.jsx("img",{src:"/summer-banner.png",alt:"summer-banner",className:"w-90 hidden sm:block  mt-8 md:mt-4"})]})}const gq=e=>I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:15,height:15,viewBox:"0 0 15 15",...e},I.createElement("g",{transform:"matrix(1,0,0,-1,0,30)"},I.createElement("path",{d:"M10.3125,30Q9.69727,29.9707,9.43359,29.414099999999998Q9.22852,28.8574,9.63867,28.3887L10.8691,27.1875L5.88867,22.23633Q5.625,21.94336,5.625,21.5625Q5.625,21.18164,5.88867,20.88867Q6.18164,20.625,6.5625,20.625Q6.94336,20.625,7.23633,20.88867L12.1875,25.8691L13.3887,24.638669999999998Q13.8574,24.22852,14.4141,24.433590000000002Q14.9707,24.69727,15,25.3125L15,29.0625Q15,29.4727,14.7363,29.7363Q14.4727,30,14.0625,30L10.3125,30ZM2.34375,29.0625Q1.34766,29.0332,0.673828,28.3887Q0.0292969,27.7148,0,26.7188L0,17.34375Q0.0292969,16.34766,0.673828,15.673828Q1.34766,15.0292969,2.34375,15L11.7188,15Q12.7148,15.0292969,13.3887,15.673828Q14.0332,16.34766,14.0625,17.34375L14.0625,20.625Q14.0625,21.03516,13.7988,21.29883Q13.5352,21.5625,13.125,21.5625Q12.7148,21.5625,12.4512,21.29883Q12.1875,21.03516,12.1875,20.625L12.1875,17.34375Q12.1582,16.9043,11.7188,16.875L2.34375,16.875Q1.9043,16.9043,1.875,17.34375L1.875,26.7188Q1.9043,27.1582,2.34375,27.1875L5.625,27.1875Q6.03516,27.1875,6.29883,27.4512Q6.5625,27.7148,6.5625,28.125Q6.5625,28.5352,6.29883,28.7988Q6.03516,29.0625,5.625,29.0625L2.34375,29.0625Z",fill:"#007AFF",fillOpacity:1,style:{mixBlendMode:"passthrough"}})));function u1({title:e,subtitle:t,href:n,disabled:r=!1}){const i=!!n&&!r;return p.jsxs(p.Fragment,{children:[i?p.jsxs(li,{to:n,className:"flex items-center gap-2 hover:underline focus:underline",children:[p.jsx("h2",{className:"text-2xl font-semibold",children:e}),p.jsx(gq,{className:"w-4 h-4"})]}):p.jsx("h2",{className:"text-2xl font-semibold",children:e}),t&&p.jsx("h3",{className:"text-gray-500",children:t})]})}function w0({children:e,className:t,...n}){return p.jsx("div",{className:"bg-white p-3 rounded-md text-sm shadow-md shadow-gray-300 "+t,...n,children:e})}function H9(e,t){const n=kt(u=>u.options),[r,i]=I.useState({dragging:!1,startX:0,startY:0}),s=I.useCallback(u=>{u.stopPropagation();const{x:f,y:h}=qm(u,n);e&&e(f,h,f,h),i({startX:f,startY:h,dragging:!0})},[e]),o=u=>{u.stopPropagation();const{x:f,y:h}=qm(u,n);t&&t(r.startX,r.startY,f,h),i(g=>({...g,dragging:!1}))},a=u=>{u.stopPropagation();const{x:f,y:h}=qm(u,n);e&&e(r.startX,r.startY,f,h)},l=u=>{u.stopPropagation();const f=u.touches[0],{x:h,y:g}=qm(f,n);e&&e(r.startX,r.startY,h,g)};return I.useEffect(()=>{if(r.dragging)return document.addEventListener("mouseup",o),document.addEventListener("touchmove",l),document.addEventListener("mousemove",a),()=>{document.removeEventListener("mouseup",o),document.removeEventListener("touchmove",l),document.removeEventListener("mousemove",a)}},[r,e,t]),{dragging:r.dragging,onMouseDown:s}}const r6=6;function qm(e,t){const{tableX:n,tableY:r,width:i,height:s,cols:o,rows:a}=t,{pageX:l,pageY:u}=e,f=i/o||1,h=s/a||1,g=Math.floor((l-n)/f),y=Math.floor((u-r)/h*r6)/r6,b=Math.max(0,Math.min(o-1,g)),_=Math.max(0,Math.min(a,y));return{x:b,y:_}}const d1={subjectId:-1,subjectName:"",subjectCode:"",classCode:"",professorName:"",deptCd:"",manageDeptNm:"",studentYear:"",lesnTime:"",lesnRoom:"",tmNum:"",remark:null,curiTypeCdNm:"",curiLangNm:null,isDeleted:!0},yq=async()=>await ra("/api/subjects");function fl(){return Hs({queryKey:["subjects"],queryFn:yq,staleTime:1/0,select:e=>e.subjectResponses})}function vq(e){return new Promise(t=>setTimeout(t,e))}function xq(e,t=9){const n=t*60,r=new Date,i=new Date(e);return i.setMonth(i.getMonth()-n-r.getTimezoneOffset()),i}const Dw={timeTableId:-1,timeTableName:"새 시간표",semester:"",schedules:[]},bq=async()=>await ra("/api/timetables"),W9=()=>{const e=kt(r=>r.pickTimetable),t=kt(r=>r.currentTimetable);return Hs({queryKey:["timetableList"],queryFn:bq,select:r=>{const{timeTables:i}=r;if(!i.some(o=>o.timeTableId===t?.timeTableId)){e(i[i.length-1]);return}if(i.length<=0&&t.timeTableId!==-1){e({timeTableId:-1,timeTableName:"새 시간표",semester:""});return}return i},staleTime:1e3*60*5})};function f1(e){const{data:t}=fl();return Hs({queryKey:["timetableData",e],queryFn:async()=>!e||e<=0?{timetableId:-1,timetableName:"새 시간표",semester:"",schedules:[]}:await ra(`/api/timetables/${e}/schedules`),select:r=>kq(r,t),refetchOnWindowFocus:!1,staleTime:1e3*60*5})}function wq(){const e=Gi(),{currentTimetable:t,pickTimetable:n}=kt.getState();return al({mutationFn:async({timeTableId:r,timeTableName:i})=>await ra(`/api/timetables/${r}`,{method:"PATCH",body:JSON.stringify({timeTableName:i})}),onMutate:async({timeTableId:r})=>(await e.cancelQueries({queryKey:["timetableList",r]}),{timeTableId:r}),onSuccess:async(r,i,s)=>{const o=s?.timeTableId;t?.timeTableId===o&&n({timeTableId:r.timeTableId,timeTableName:r.timeTableName,semester:r.semester}),await e.invalidateQueries({queryKey:["timetableList"]}),await e.invalidateQueries({queryKey:["timetableList",o]})},onError:async(r,i,s)=>{console.error(`시간표 수정 실패 (id: ${s?.timeTableId})`,r),await e.invalidateQueries({queryKey:["timetableList"]}),await e.invalidateQueries({queryKey:["timetableList",s?.timeTableId]})}})}function q9(){const e=Gi(),t=kt(n=>n.pickTimetable);return al({mutationFn:async n=>await l1(`/api/timetables/${n}`,{method:"DELETE"}),onMutate:async n=>(await e.cancelQueries({queryKey:["timetableList"]}),await e.cancelQueries({queryKey:["timetableData",n]}),{timeTableId:n}),onError:async(n,r,i)=>{console.error(`시간표 삭제 실패 (id: ${i?.timeTableId})`,n),await e.invalidateQueries({queryKey:["timetableList",i?.timeTableId]}),await e.invalidateQueries({queryKey:["timetableList"]})},onSuccess:async(n,r,i)=>{const{timeTables:s}=e.getQueryData(["timetableList"]);if(s&&s.length>1&&i?.timeTableId){const o=s.filter(l=>l.timeTableId!==i.timeTableId),a=o[o.length-1];t({timeTableId:a.timeTableId,timeTableName:a.timeTableName,semester:a.semester})}else t({timeTableId:-1,timeTableName:"새 시간표",semester:""});await e.invalidateQueries({queryKey:["timetableList"]}),await e.invalidateQueries({queryKey:["timetableData",i?.timeTableId]})}})}function Q9(){const e=Gi();return al({mutationFn:async({timeTableName:t,semester:n})=>await ra("/api/timetables",{method:"POST",body:JSON.stringify({timeTableName:t,semester:n})}),onMutate:async({timeTableName:t,semester:n})=>{await e.cancelQueries({queryKey:["timetableList"]});const{timeTables:r}=e.getQueryData(["timetableList"])??{},i={timeTableId:-1,timeTableName:t,semester:n};if(r){const s=[...r,i];e.setQueryData(["timetableList"],{timeTables:s}),r.push(i)}return{previousTimetables:r}},onSuccess:async t=>{const{pickTimetable:n}=kt.getState();n({timeTableId:t.timeTableId,timeTableName:t.timeTableName,semester:t.semester}),await e.invalidateQueries({queryKey:["timetableList"]})},onError:async t=>{try{const n=JSON.parse(t.message);alert(n.message)}catch{alert("Error adding Timetable")}await e.invalidateQueries({queryKey:["timetableList"]})}})}function _q(e){const t=Gi(),n=kt(i=>i.changeScheduleData),{mutateAsync:r}=Q9();return al({mutationFn:async({schedule:i})=>{let s=e;if(!e||e<=0){const a=await r({timeTableName:"새 시간표",semester:"2025-2"});s=a.timeTableId,t.setQueryData(["timetableData",s],{timetableId:s,timetableName:a.timeTableName,semester:a.semester,schedules:[i]}),await vq(300)}return{schedule:await ra(`/api/timetables/${s}/schedules`,{method:"POST",body:JSON.stringify(i)}),targetTimetableId:s}},onMutate:async i=>{const s=t.getQueryData(["timetableData",e])??{...Dw};return e&&e>0&&(await t.cancelQueries({queryKey:["timetableData",e]}),t.setQueryData(["timetableData",e],{...s,schedules:[...s.schedules,i.schedule]}),n(new ui().toUiData(),dr.NONE)),{...i,prevTimetableSchedules:s}},onError:(i,s,o)=>{t.setQueryData(["timetableData",e],o?.prevTimetableSchedules),console.error(i)},onSuccess:async({schedule:i,targetTimetableId:s},o,a)=>{const l=t.getQueryData(["timetableData",s]);n(new ui().toUiData(),dr.NONE),t.setQueryData(["timetableData",s],{...l,schedules:l?.schedules.map(u=>u.scheduleId===a.schedule.scheduleId?i:u)})}})}function Sq(e){const t=Gi();return al({mutationFn:async({schedule:n})=>await ra(`/api/timetables/${e}/schedules/${n.scheduleId}`,{method:"PATCH",body:JSON.stringify(n)}),onMutate:async n=>{const r=t.getQueryData(["timetableData",e])??{...Dw};return await t.cancelQueries({queryKey:["timetableData",e]}),{...n,prevTimetableSchedules:r}},onError:(n,r,i)=>{t.setQueryData(["timetableData",e],i?.prevTimetableSchedules),console.error(n)},onSuccess:async(n,r,i)=>{if(!i?.prevTimetableSchedules){await t.invalidateQueries({queryKey:["timetableList"]}),await t.invalidateQueries({queryKey:["timetableData",e]});return}t.setQueryData(["timetableData",e],{...i.prevTimetableSchedules,schedules:i.prevTimetableSchedules.schedules.map(s=>s.scheduleId===n.scheduleId?{...s,...n}:s)})}})}function Eq(e){const t=Gi();return al({mutationFn:async({schedule:n})=>await VW(`/api/timetables/${e}/schedules/${n.scheduleId}`,{scheduleType:n.scheduleType}),onMutate:async n=>{const r=t.getQueryData(["timetableData",e])??{...Dw};return await t.cancelQueries({queryKey:["timetableData",e]}),{...n,prevTimetableSchedules:r}},onError:(n,r,i)=>{t.setQueryData(["timetableData",e],i?.prevTimetableSchedules),console.error(n)},onSuccess:async(n,{schedule:r},i)=>{if(console.log("스케줄 삭제 성공! timetableId:",e),!i?.prevTimetableSchedules){await t.invalidateQueries({queryKey:["timetableList"]}),await t.invalidateQueries({queryKey:["timetableData",e]});return}console.log("스케줄 삭제 성공! 이전 데이터 있음. timetableId:",e,i.prevTimetableSchedules),t.setQueryData(["timetableData",e],{...i.prevTimetableSchedules,schedules:i.prevTimetableSchedules.schedules.filter(s=>s.scheduleId!==r.scheduleId)}),await t.invalidateQueries({queryKey:["timetableData",e]})}})}function kq(e,t){if(!e||!t)return[];const{schedules:n}=e;return n.map(r=>new ui(r,t).toUiData())}function V9(e,t=9){const n=kt(a=>a.schedule),r=kt(a=>a.mode),i=["rose","amber","green","emerald","blue","violet"],s={};if(!e)return;let o=e;return(r===dr.EDIT||r===dr.VIEW)&&(o=e.map(a=>a.scheduleId===n.scheduleId?n:a)),o.forEach((a,l)=>{const u=a.isDeleted?"gray":i[l%i.length],{subjectName:f,professorName:h,location:g}=a;new Xh(a.timeSlots).toUiData(t).forEach(b=>{s[b.dayOfWeek]||(s[b.dayOfWeek]=[]),s[b.dayOfWeek].push({title:f,professor:h,location:g,schedule:a,color:u,...b})})}),Object.keys(s).forEach(a=>{s[a]=Cq(s[a])}),s}function Cq(e){const n=kt.getState().options.isMobile?8:16,r=o=>parseFloat(o.replace("px",""));return e.sort((o,a)=>{const l=r(o.height);return r(a.height)-l}).reduce((o,a)=>{const l=r(a.top),u=l+r(a.height),h=o.reduce((g,y)=>{const b=r(y.top),_=b+r(y.height);return b<=l&&l<_||b<u&&u<=_?Math.max(g,y.depth):g},-1)+1;return[...o,{...a,depth:h}]},[]).map(o=>{const a=n*o.depth;return{...o,left:`${a}px`,right:"0px",height:o.height,top:o.top}})}function Tq(e){const t=kt(i=>i.schedule),n=kt(i=>i.mode);if(!e)return[];const r=e.filter(i=>i.timeSlots===null||i.timeSlots.length===0);return n===dr.NONE||t.timeSlots.length>0?r.map(i=>({...i,selected:!1})):t.scheduleId<=0?[...r.map(i=>({...i,selected:!1})),{...t,selected:!0}]:r.map(i=>({...i,selected:i.scheduleId===t.scheduleId}))}const zs=Or((e,t)=>({type:null,openBottomSheet:(n,r)=>{e({type:n,props:r})},closeBottomSheet:n=>{const r=t().type;(!n||r===n)&&e({type:null,props:void 0})},resetBottomSheet:()=>{e({type:null})}})),qv=()=>new ui().toUiData();let Qv;function Vr(){const e=Gi(),t=kt(E=>E.changeScheduleData),r=kt(E=>E.currentTimetable)?.timeTableId??-1,i=zs(E=>E.openBottomSheet),s=zs(E=>E.closeBottomSheet),[,o]=I.useTransition(),{mutate:a}=_q(r),{mutate:l}=Sq(r),{mutate:u}=Eq(r);return{setOptimisticSchedule:E=>{o(()=>t(E,dr.NONE))},openScheduleModal:E=>{Qv=e.getQueryData(["timetableData",r]);let C;!E.scheduleId||E.scheduleId<=0?(C=dr.CREATE,E.scheduleType!=="official"&&i("edit")):E.scheduleType==="official"?(C=dr.VIEW,console.log(Qv),i("Info")):(C=dr.EDIT,i("edit")),t(E,C)},editSchedule:E=>{const C=kt.getState().schedule;let P=E instanceof Function?E(C):E;t(P)},saveSchedule:(E,C=!0)=>{const P=kt.getState().schedule,O=kt.getState().mode;if(E&&E.preventDefault(),!new Xh(P.timeSlots).validate()){alert("시작 시간이 종료 시간 보다 늦지 않아야 합니다.");return}const B=P.timeSlots.length!==0;if(P.scheduleType==="custom"&&!B){alert("요일을 선택해주세요!.");return}const M=new ui(P).toApiData();O===dr.CREATE?(M.scheduleId=Nq(Qv?.schedules??[]),a({schedule:M})):O===dr.EDIT&&(l({schedule:M}),t({...qv()},dr.NONE)),C&&s("edit")},deleteSchedule:E=>{const C=kt.getState().schedule;E&&E.preventDefault();const P=new ui(C).toApiData();u({schedule:P}),t({...qv()},dr.NONE),s()},cancelSchedule:(E,C=!0)=>{E&&E.preventDefault(),t({...qv()},dr.NONE),C&&s()}}}function Gh(){const e=kt(n=>n.mode),t=kt(n=>n.schedule);return{modalActionType:e,schedule:t}}function jq(){const{minTime:e}=kt(n=>n.options);return{getTimeslot:(n,r,i)=>{n>r&&([n,r]=[r,n]),i!==void 0&&r-n<i&&(r=n+i);const s=i6(e,n),o=i6(e,r);return{startTime:s,endTime:o}}}}function i6(e,t){const n=e+Math.floor(t),r=Math.floor((t-Math.floor(t))*60);return n<0?"00:00":n>23?"23:50":`${n.toString().padStart(2,"0")}:${r.toString().padStart(2,"0")}`}function Nq(e){let t=-Math.floor(Math.random()*1e6);for(;e.some(n=>n.scheduleId===t);)t=-Math.floor(Math.random()*1e6);return t}function K9({title:e,professor:t,location:n,color:r="blue",schedule:i,selected:s=!1,timeslotIndex:o,fixed:a=!1,...l}){const{text:u,bgLight:f,bg:h}=Iq(r),g=I.useRef(null),{openScheduleModal:y}=Vr(),b=kt(B=>B.schedule),_=s||b.scheduleId===i.scheduleId,E=(B,j,M,U)=>{if(!g.current||a)return;const $=M-B,D=(U-j)*_h;g.current.style.setProperty("transform",`translate(calc(100% * ${$}), ${D}px)`)},C=(B,j,M,U)=>{if(!g.current||a)return;i.scheduleType==="official"&&g.current.style.setProperty("transform","");const $={...i,timeSlots:i.timeSlots.map((D,ee)=>ee!==o?D:Wq(D,M-B,U-j))};y($),g.current.style.setProperty("transform","")},P=B=>{(B.key==="Enter"||B.key===" ")&&(B.preventDefault(),B.stopPropagation(),C(0,0,0,0))},{dragging:O,onMouseDown:z}=H9(E,C);return p.jsxs("div",{ref:g,className:`flex absolute ${f} rounded-l-xs cursor-pointer hover:z-20 focus:z-20 `+l.className,onMouseDown:z,onKeyDown:P,tabIndex:0,...l,children:[p.jsx("div",{className:`w-[2px] h-full sm:w-1 sm:rounded-xs  ${h}`}),p.jsxs("div",{className:"flex-auto sm:p-2 p-[1px] "+(_?"animate-pulse":"")+(O?"opacity-50":""),children:[p.jsx("h3",{className:`${u} font-semibold text-[9px] sm:text-sm`,children:e}),p.jsxs("p",{className:"sm:text-xs text-[7px] text-gray-500",children:[t," ",n]})]})]})}function Iq(e){switch(e){case"rose":return{text:"text-rose-500",bgLight:"bg-rose-50",bg:"bg-rose-500"};case"amber":return{text:"text-amber-500",bgLight:"bg-amber-50",bg:"bg-amber-500"};case"green":return{text:"text-green-500",bgLight:"bg-green-50",bg:"bg-green-500"};case"emerald":return{text:"text-emerald-500",bgLight:"bg-emerald-50",bg:"bg-emerald-500"};case"blue":return{text:"text-blue-500",bgLight:"bg-blue-50",bg:"bg-blue-500"};case"violet":return{text:"text-violet-500",bgLight:"bg-violet-50",bg:"bg-violet-500"};default:return{text:"text-gray-500",bgLight:"bg-gray-50",bg:"bg-gray-500"}}}function Pq({dayOfWeeks:e}){const t=kt(h=>h.schedule),n=kt(h=>h.options),{data:r}=fl();if(!r||t.scheduleId>0||!t.timeSlots||t.timeSlots.length<=0)return null;let i=parseInt(n.rowNames[0].replace("시",""));Number.isNaN(i)&&(i=9);const s=new ui(t,r).toUiData(),a=new Xh(s.timeSlots).toUiData(i).filter(({dayOfWeek:h})=>h===e);if(!a)return null;const{subjectName:l,professorName:u,location:f}=s;return a.map(({height:h,top:g,left:y,right:b},_)=>p.jsx(Rq,{timeslotIndex:_,title:l??"",professor:u??"",location:f??"",schedule:t,style:{height:h,top:g,left:y,right:b}},`wire-schedule-${e}-${_}`))}function Rq({title:e,professor:t,location:n,...r}){const{timeslotIndex:i,...s}=r;return p.jsx("div",{className:`flex absolute rounded-md z-20 
      border-violet-500 border-2 md:border-4
      ${r.className}`,style:{...r.style},...s,children:p.jsxs("div",{className:"flex-auto p-2 bg-violet-50  rounded-md animate-pulse",children:[p.jsx("h3",{className:"text-violet-500 font-semibold  text-[10px] sm:text-sm",children:e}),p.jsxs("p",{className:" sm:text-xs text-[8px]  text-gray-500",children:[t," ",n]})]})})}const Vv=()=>new ui().toUiData(),Oq=({dayOfWeeks:e,scheduleTimes:t})=>{const n=t,{setOptimisticSchedule:r,openScheduleModal:i}=Vr(),{getTimeslot:s}=jq(),o=(f,h,g,y)=>{const{startTime:b,endTime:_}=s(h,y,1);r({...Vv(),timeSlots:[{dayOfWeeks:e,startTime:b,endTime:_}]})},a=(f,h,g,y)=>{const{startTime:b,endTime:_}=s(h,y,1);i({...Vv(),timeSlots:[{dayOfWeeks:e,startTime:b,endTime:_}]})},l=f=>{(f.key==="Enter"||f.key===" ")&&i({...Vv()})},{onMouseDown:u}=H9(o,a);return p.jsxs("div",{className:"relative flex-auto px-[2px]",tabIndex:0,onMouseDown:u,onKeyDown:l,children:[p.jsx(Pq,{dayOfWeeks:e}),n.map(({title:f,professor:h,location:g,color:y,height:b,top:_,left:E,right:C,schedule:P},O)=>p.jsx(K9,{timeslotIndex:O,title:f,professor:h??"",location:g??"",schedule:P,color:y,style:{height:b,top:_,left:E,right:C}},"schedule-"+O))]})};function Aq(){const e=kt(r=>r.currentTimetable?.timeTableId),{data:t}=f1(e),n=t?.reduce((r,i)=>{if(i.scheduleType!=="official"||!i.tmNum)return r;const s=i.tmNum.split("/").map(o=>{const a=Number(o);return isNaN(a)?0:a});return r.map((o,a)=>o+(s[a]??0))},[0,0,0])??[0,0,0];return p.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500 bg-blue-50 rounded-md p-2 mt-3",children:[p.jsxs("span",{children:["총 학점: ",n[0]??0]}),p.jsxs("span",{children:["이론: ",n[1]??0]}),p.jsxs("span",{children:["실습: ",n[2]??0]})]})}const Yh=e=>I.createElement("svg",{width:23,height:23,viewBox:"0 0 23 23",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},I.createElement("path",{d:"M10.3669 11.3356L7.94579 9.04443C7.8086 8.9146 7.73766 8.75936 7.733 8.57871C7.72833 8.39807 7.79059 8.23915 7.9198 8.10198C8.049 7.9648 8.20424 7.89386 8.38551 7.88918C8.56678 7.88449 8.7257 7.94676 8.86225 8.07598L11.2834 10.3671L13.5745 7.94599C13.7043 7.80879 13.8596 7.73786 14.0402 7.73319C14.2209 7.72852 14.3798 7.79079 14.517 7.91999C14.6541 8.04919 14.7252 8.20458 14.7302 8.38616C14.7352 8.56774 14.6728 8.7265 14.5429 8.86244L12.2518 11.2836L14.6729 13.5747C14.8101 13.7045 14.8812 13.8599 14.8862 14.0409C14.8912 14.2218 14.8288 14.3806 14.6989 14.5171C14.5691 14.6537 14.4137 14.7248 14.2328 14.7304C14.0518 14.736 13.8931 14.6736 13.7565 14.5431L11.3354 12.252L9.04423 14.6731C8.9144 14.8103 8.75901 14.8814 8.57806 14.8864C8.39711 14.8914 8.23835 14.829 8.10178 14.6991C7.96521 14.5693 7.89428 14.414 7.88898 14.2334C7.88369 14.0528 7.94595 13.8939 8.07578 13.7567L10.3669 11.3356Z",fill:"#6B7280"}));function Mq(){const e=kt(r=>r.currentTimetable),{data:t}=f1(e?.timeTableId),n=Tq(t);return p.jsx("div",{className:"flex flex-col gap-2 mt-3",children:n.map(r=>p.jsx(Dq,{schedule:r,selected:r.selected},r.scheduleId))})}function Dq({schedule:e,selected:t}){const{openScheduleModal:n}=Vr(),r=()=>{n(e)};return p.jsxs("div",{className:"h-10 w-full p-4 flex justify-between items-center rounded border "+(t?"bg-blue-100 border-blue-500":"border-gray-200"),children:[p.jsxs("div",{className:"flex gap-5",children:[p.jsx("p",{children:e.subjectName}),p.jsx("p",{className:"text-stone-400",children:e.professorName})]}),p.jsx("button",{type:"button",onClick:r,className:"cursor-pointer",children:p.jsx(Yh,{className:"w-5 h-5"})})]},e.scheduleId)}const h1=["월","화","수","목","금","토","일"];function Lq(e){const t=kt(a=>a.schedule),n=kt(a=>a.setOptions),r=[...e??[],t],i=r.reduce((a,l)=>{let u=a;return l.timeSlots?(l.timeSlots.some(f=>f.dayOfWeeks==="토")&&(u=Math.max(u,6)),l.timeSlots.some(f=>f.dayOfWeeks==="일")&&(u=Math.max(u,7)),u):a},5),{minTime:s,maxTime:o}=r.reduce((a,l)=>(l.timeSlots.forEach(u=>{const f=parseInt(u.startTime.split(":")[0]),h=parseInt(u.endTime.split(":")[0]);isNaN(f)||isNaN(h)||(a.minTime=Math.min(a.minTime,f),a.maxTime=Math.max(a.maxTime,h))}),a),{minTime:9,maxTime:20});return I.useEffect(()=>{n({rowNames:Array.from({length:o-s+1},(a,l)=>`${s+l}`),minTime:s,maxTime:o,rows:o-s+1})},[s,o]),I.useEffect(()=>{n({colNames:h1.slice(0,i),cols:i})},[i]),{}}let Kv=null;const Fq=e=>{const t=kt(r=>r.setOptions),n=()=>{if(!e.current)return;const r=e.current.getBoundingClientRect();t({width:r.width,height:r.height,tableX:r.left+window.pageXOffset,tableY:r.top+window.pageYOffset}),Kv=null};I.useEffect(()=>{if(!e.current)return;const r=()=>{Kv||(Kv=setTimeout(n,300),t({isMobile:window.innerWidth<768}))};return r(),window.addEventListener("resize",r),()=>{window.removeEventListener("resize",r)}},[e])};function Bq(e){const t=I.useRef(!1),n=m0(r=>r.setBanner);I.useEffect(()=>{e?.some(i=>i.isDeleted)&&!t.current&&(t.current=!0,n("삭제된 과목이 있습니다! 삭제된 과목은 회색으로 표시됩니다"))},[e])}const _h=40;function zq(){const e=I.useRef(null),t=kt(n=>n.setOptions);return I.useEffect(()=>{t({containerRef:e?.current??null})},[e]),p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"bg-white",ref:e,children:[p.jsx(Hq,{children:p.jsx(Uq,{})}),p.jsx(Mq,{})]}),p.jsx(Aq,{})]})}const $q=h1.reduce((e,t)=>(e[t]=[],e),{});function Uq(){const e=kt(s=>s.currentTimetable),{colNames:t,minTime:n}=kt(s=>s.options),{data:r}=f1(e?.timeTableId),i=V9(r,n)??$q;return Bq(r),Lq(r),t.map(s=>p.jsx(Oq,{scheduleTimes:i[s]??[],dayOfWeeks:s},"day-schedule-"+s))}function Hq({rowHeight:e=_h,children:t}){const{colNames:n,rowNames:r}=kt(i=>i.options);return p.jsx(G9,{colNames:n,rowNames:r,rowHeight:e,children:t})}class ui{data;constructor(t,n){if(!t){this.data=this.#t();return}if(t.scheduleType==="official"&&!t.subjectName){this.data=this.#e(t,n);return}this.data=t,this.data.timeSlots||(this.data.timeSlots=[])}#t(){return{scheduleId:-1,scheduleType:"custom",subjectId:null,subjectName:"",professorName:"",location:"",tmNum:"",isDeleted:!1,timeSlots:[]}}#e(t,n){if(!n)throw new TypeError("Subjects must be provided for API to UI conversion");const r=n instanceof Array?n.find(i=>i.subjectId===t.subjectId):n;return{scheduleId:t.scheduleId,scheduleType:t.scheduleType,subjectId:t.subjectId,subjectName:r?.subjectName??"",professorName:r?.professorName??"",location:r?.lesnRoom??"",tmNum:r?.tmNum??"",isDeleted:r?.isDeleted??!1,timeSlots:new Xh(r?.lesnTime).toApiData()}}toApiData(){const t=this.data;return t.scheduleType==="official"?{scheduleId:t.scheduleId,scheduleType:"official",subjectId:t.subjectId??0,subjectName:null,professorName:null,location:null,timeSlots:[]}:{...t,scheduleType:"custom",subjectId:null}}toUiData(){return this.data}}class Xh{data;constructor(t){if(!t){this.data=[];return}if(typeof t=="string"){this.data=this.#e(t);return}if(Array.isArray(t)){this.data=t.map(n=>this.#t(n));return}this.data=[this.#t(t)]}#t(t){const[n,r]=t.startTime.split(":"),[i,s]=t.endTime.split(":");return{dayOfWeeks:t.dayOfWeeks,startHour:parseInt(n),startMinute:parseInt(r),endHour:parseInt(i),endMinute:parseInt(s)}}#e(t){const n=/([월화수목금토일]+)(\d{1,2}:\d{2})-(\d{1,2}:\d{2})/g,r=[];let i;for(;(i=n.exec(t))!==null;){const s=i[1],o=i[2],a=i[3],l=s.split("");for(const u of l)r.push(this.#t({dayOfWeeks:u,startTime:o,endTime:a}))}return r}validate(){return this.data.every(t=>{const{startHour:n,startMinute:r,endHour:i,endMinute:s}=t;return n<i||n===i&&r<s})}toApiData(){const t=n=>n.toString().padStart(2,"0");return this.data.map(n=>({dayOfWeeks:n.dayOfWeeks,startTime:`${t(n.startHour)}:${t(n.startMinute)}`,endTime:`${t(n.endHour)}:${t(n.endMinute)}`}))}toUiData(t){return this.data.map(({startHour:n,startMinute:r,endHour:i,endMinute:s,dayOfWeeks:o})=>{const a=(n*60+r)/60,l=(i*60+s)/60;return{dayOfWeek:o,depth:0,left:"0px",right:"0px",height:`${(l-a)*_h}px`,top:`${(a-t)*_h}px`}})}}function Wq(e,t,n){const{dayOfWeeks:r,startTime:i,endTime:s}=e,[o,a]=i.split(":").map(Number),[l,u]=s.split(":").map(Number),f=Math.min(24,o+a/60+n),h=Math.min(24,l+u/60+n),g=Math.floor(f),y=Math.round((f-g)*60),b=Math.floor(h),_=Math.round((h-b)*60),E=["월","화","수","목","금","토","일"],P=(E.indexOf(r)+t+E.length)%E.length;return{dayOfWeeks:E[P],startTime:`${g.toString().padStart(2,"0")}:${y.toString().padStart(2,"0")}`,endTime:`${b.toString().padStart(2,"0")}:${_.toString().padStart(2,"0")}`}}var dr=(e=>(e.NONE="none",e.CREATE="create",e.EDIT="edit",e.VIEW="view",e))(dr||{});const kt=Or(e=>({currentTimetable:{timeTableId:-1,timeTableName:"새 시간표",semester:""},options:{containerRef:null,timetableRef:null,colNames:h1.slice(0,5),rowNames:Array.from({length:12},(t,n)=>`${n+9}`),minTime:9,maxTime:20,tableX:0,tableY:0,width:0,height:0,cols:5,rows:11,isMobile:!1},mode:"none",schedule:new ui().toUiData(),pickTimetable:t=>{e(n=>({...n,currentTimetable:t}))},setOptions:t=>{e(n=>({...n,options:{...n.options,...t}}))},changeScheduleData:(t,n)=>{e(r=>({...r,mode:n??r.mode,schedule:{...r.schedule,...t}}))}}));function G9({rowHeight:e=_h,colNames:t,rowNames:n,children:r}){const i=I.useRef(null),{isMobile:s}=kt(l=>l.options);Fq(i);const{headerWidth:o,headerHeight:a}=s?{headerWidth:20,headerHeight:20}:{headerWidth:60,headerHeight:40};return p.jsxs("div",{className:"relative w-full bg-white",children:[p.jsxs("div",{className:"flex bg-gray-50 rounded-t-md",style:{height:`${a}px`},children:[p.jsx("div",{className:"flex items-center justify-center font-semibold text-gray-700",style:{width:`${o}px`}}),t.map((l,u)=>p.jsx("div",{className:"flex flex-auto items-center justify-center font-semibold text-gray-400 text-[10px] md:text-sm",children:l},"timetable-grid-header-"+u))]}),p.jsx("div",{className:"flex absolute inset-0",style:{top:`${a}px`,left:`${o}px`},children:t.map((l,u)=>p.jsx("div",{className:"flex-auto border-l border-gray-200 h-full"},"timetable-grid-col-"+u))}),n.map((l,u)=>p.jsx("div",{className:"border-b border-gray-200",style:{height:`${e}px`},children:p.jsx("span",{className:"flex items-center justify-center h-full text-gray-400 w-[20px] md:w-[60px] text-[10px] md:text-sm",children:l})},"timetable-grid-row-"+u)),p.jsx("div",{id:"timetable",ref:i,className:"absolute inset-0 flex z-10",style:{top:`${a}px`,left:`${o}px`},children:r})]})}const s6=["월","화","수","목","금"],qq=Array.from({length:5},(e,t)=>`${t+9}`),Qq=[{scheduleId:"1",scheduleType:"custom",subjectId:null,subjectName:"컴퓨터공학개론",professorName:"김교수",location:"센B209",tmNum:"3/1/0",isDeleted:!1,timeSlots:[{dayOfWeeks:"월",startTime:"09:00",endTime:"10:30"},{dayOfWeeks:"수",startTime:"09:00",endTime:"10:30"}]},{scheduleId:"2",scheduleType:"custom",subjectId:null,subjectName:"자료구조",professorName:"김교수",location:"센B209",tmNum:"3/1/0",isDeleted:!1,timeSlots:[{dayOfWeeks:"화",startTime:"11:00",endTime:"12:30"},{dayOfWeeks:"목",startTime:"11:00",endTime:"12:30"}]},{scheduleId:3,scheduleType:"custom",subjectId:null,subjectName:"운영체제",professorName:"김교수",location:"센B209",tmNum:"3/1/0",isDeleted:!1,timeSlots:[{dayOfWeeks:"수",startTime:"12:00",endTime:"13:30"},{dayOfWeeks:"금",startTime:"12:00",endTime:"13:30"}]}];function Vq(){const e=V9(Qq,9);return p.jsxs(Ac,{children:[p.jsx(u1,{title:"시간표",subtitle:"시간표 부터 전략적 세종대 수강신청 준비",href:"/timetable"}),p.jsx(w0,{className:"mt-6",children:p.jsx(G9,{colNames:s6,rowNames:qq,children:s6.map(t=>p.jsx(Kq,{data:e?e[t]:[]},t))})})]})}function Kq({data:e}){return e?p.jsx("div",{className:"relative flex-auto px-[2px]",children:e.map(({title:t,professor:n,location:r,color:i,height:s,top:o,left:a,right:l,schedule:u},f)=>p.jsx(K9,{timeslotIndex:f,title:t,professor:n??"",location:r??"",schedule:u,color:i,style:{height:s,top:o,left:a,right:l},selected:!1,fixed:!0},"schedule-"+f))}):p.jsx("div",{className:"relative flex-auto px-[2px]"})}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Jh(e){return e+.5|0}const Ha=(e,t,n)=>Math.max(Math.min(e,n),t);function qf(e){return Ha(Jh(e*2.55),0,255)}function Ga(e){return Ha(Jh(e*255),0,255)}function Ho(e){return Ha(Jh(e/2.55)/100,0,1)}function o6(e){return Ha(Jh(e*100),0,100)}const as={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Fb=[..."0123456789ABCDEF"],Gq=e=>Fb[e&15],Yq=e=>Fb[(e&240)>>4]+Fb[e&15],Qm=e=>(e&240)>>4===(e&15),Xq=e=>Qm(e.r)&&Qm(e.g)&&Qm(e.b)&&Qm(e.a);function Jq(e){var t=e.length,n;return e[0]==="#"&&(t===4||t===5?n={r:255&as[e[1]]*17,g:255&as[e[2]]*17,b:255&as[e[3]]*17,a:t===5?as[e[4]]*17:255}:(t===7||t===9)&&(n={r:as[e[1]]<<4|as[e[2]],g:as[e[3]]<<4|as[e[4]],b:as[e[5]]<<4|as[e[6]],a:t===9?as[e[7]]<<4|as[e[8]]:255})),n}const Zq=(e,t)=>e<255?t(e):"";function eQ(e){var t=Xq(e)?Gq:Yq;return e?"#"+t(e.r)+t(e.g)+t(e.b)+Zq(e.a,t):void 0}const tQ=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Y9(e,t,n){const r=t*Math.min(n,1-n),i=(s,o=(s+e/30)%12)=>n-r*Math.max(Math.min(o-3,9-o,1),-1);return[i(0),i(8),i(4)]}function nQ(e,t,n){const r=(i,s=(i+e/60)%6)=>n-n*t*Math.max(Math.min(s,4-s,1),0);return[r(5),r(3),r(1)]}function rQ(e,t,n){const r=Y9(e,1,.5);let i;for(t+n>1&&(i=1/(t+n),t*=i,n*=i),i=0;i<3;i++)r[i]*=1-t-n,r[i]+=t;return r}function iQ(e,t,n,r,i){return e===i?(t-n)/r+(t<n?6:0):t===i?(n-e)/r+2:(e-t)/r+4}function Lw(e){const n=e.r/255,r=e.g/255,i=e.b/255,s=Math.max(n,r,i),o=Math.min(n,r,i),a=(s+o)/2;let l,u,f;return s!==o&&(f=s-o,u=a>.5?f/(2-s-o):f/(s+o),l=iQ(n,r,i,f,s),l=l*60+.5),[l|0,u||0,a]}function Fw(e,t,n,r){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,r)).map(Ga)}function Bw(e,t,n){return Fw(Y9,e,t,n)}function sQ(e,t,n){return Fw(rQ,e,t,n)}function oQ(e,t,n){return Fw(nQ,e,t,n)}function X9(e){return(e%360+360)%360}function aQ(e){const t=tQ.exec(e);let n=255,r;if(!t)return;t[5]!==r&&(n=t[6]?qf(+t[5]):Ga(+t[5]));const i=X9(+t[2]),s=+t[3]/100,o=+t[4]/100;return t[1]==="hwb"?r=sQ(i,s,o):t[1]==="hsv"?r=oQ(i,s,o):r=Bw(i,s,o),{r:r[0],g:r[1],b:r[2],a:n}}function lQ(e,t){var n=Lw(e);n[0]=X9(n[0]+t),n=Bw(n),e.r=n[0],e.g=n[1],e.b=n[2]}function cQ(e){if(!e)return;const t=Lw(e),n=t[0],r=o6(t[1]),i=o6(t[2]);return e.a<255?`hsla(${n}, ${r}%, ${i}%, ${Ho(e.a)})`:`hsl(${n}, ${r}%, ${i}%)`}const a6={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},l6={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function uQ(){const e={},t=Object.keys(l6),n=Object.keys(a6);let r,i,s,o,a;for(r=0;r<t.length;r++){for(o=a=t[r],i=0;i<n.length;i++)s=n[i],a=a.replace(s,a6[s]);s=parseInt(l6[o],16),e[a]=[s>>16&255,s>>8&255,s&255]}return e}let Vm;function dQ(e){Vm||(Vm=uQ(),Vm.transparent=[0,0,0,0]);const t=Vm[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const fQ=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function hQ(e){const t=fQ.exec(e);let n=255,r,i,s;if(t){if(t[7]!==r){const o=+t[7];n=t[8]?qf(o):Ha(o*255,0,255)}return r=+t[1],i=+t[3],s=+t[5],r=255&(t[2]?qf(r):Ha(r,0,255)),i=255&(t[4]?qf(i):Ha(i,0,255)),s=255&(t[6]?qf(s):Ha(s,0,255)),{r,g:i,b:s,a:n}}}function pQ(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${Ho(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}const Gv=e=>e<=.0031308?e*12.92:Math.pow(e,1/2.4)*1.055-.055,Eu=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function mQ(e,t,n){const r=Eu(Ho(e.r)),i=Eu(Ho(e.g)),s=Eu(Ho(e.b));return{r:Ga(Gv(r+n*(Eu(Ho(t.r))-r))),g:Ga(Gv(i+n*(Eu(Ho(t.g))-i))),b:Ga(Gv(s+n*(Eu(Ho(t.b))-s))),a:e.a+n*(t.a-e.a)}}function Km(e,t,n){if(e){let r=Lw(e);r[t]=Math.max(0,Math.min(r[t]+r[t]*n,t===0?360:1)),r=Bw(r),e.r=r[0],e.g=r[1],e.b=r[2]}}function J9(e,t){return e&&Object.assign(t||{},e)}function c6(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=Ga(e[3]))):(t=J9(e,{r:0,g:0,b:0,a:1}),t.a=Ga(t.a)),t}function gQ(e){return e.charAt(0)==="r"?hQ(e):aQ(e)}class Sh{constructor(t){if(t instanceof Sh)return t;const n=typeof t;let r;n==="object"?r=c6(t):n==="string"&&(r=Jq(t)||dQ(t)||gQ(t)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var t=J9(this._rgb);return t&&(t.a=Ho(t.a)),t}set rgb(t){this._rgb=c6(t)}rgbString(){return this._valid?pQ(this._rgb):void 0}hexString(){return this._valid?eQ(this._rgb):void 0}hslString(){return this._valid?cQ(this._rgb):void 0}mix(t,n){if(t){const r=this.rgb,i=t.rgb;let s;const o=n===s?.5:n,a=2*o-1,l=r.a-i.a,u=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;s=1-u,r.r=255&u*r.r+s*i.r+.5,r.g=255&u*r.g+s*i.g+.5,r.b=255&u*r.b+s*i.b+.5,r.a=o*r.a+(1-o)*i.a,this.rgb=r}return this}interpolate(t,n){return t&&(this._rgb=mQ(this._rgb,t._rgb,n)),this}clone(){return new Sh(this.rgb)}alpha(t){return this._rgb.a=Ga(t),this}clearer(t){const n=this._rgb;return n.a*=1-t,this}greyscale(){const t=this._rgb,n=Jh(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=n,this}opaquer(t){const n=this._rgb;return n.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Km(this._rgb,2,t),this}darken(t){return Km(this._rgb,2,-t),this}saturate(t){return Km(this._rgb,1,t),this}desaturate(t){return Km(this._rgb,1,-t),this}rotate(t){return lQ(this._rgb,t),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Oo(){}const yQ=(()=>{let e=0;return()=>e++})();function Gt(e){return e==null}function zn(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function Yt(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}function Kn(e){return(typeof e=="number"||e instanceof Number)&&isFinite(+e)}function Hi(e,t){return Kn(e)?e:t}function Ct(e,t){return typeof e>"u"?t:e}const vQ=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100:+e/t,Z9=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100*t:+e;function In(e,t,n){if(e&&typeof e.call=="function")return e.apply(n,t)}function vn(e,t,n,r){let i,s,o;if(zn(e))for(s=e.length,i=0;i<s;i++)t.call(n,e[i],i);else if(Yt(e))for(o=Object.keys(e),s=o.length,i=0;i<s;i++)t.call(n,e[o[i]],o[i])}function _0(e,t){let n,r,i,s;if(!e||!t||e.length!==t.length)return!1;for(n=0,r=e.length;n<r;++n)if(i=e[n],s=t[n],i.datasetIndex!==s.datasetIndex||i.index!==s.index)return!1;return!0}function S0(e){if(zn(e))return e.map(S0);if(Yt(e)){const t=Object.create(null),n=Object.keys(e),r=n.length;let i=0;for(;i<r;++i)t[n[i]]=S0(e[n[i]]);return t}return e}function eT(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}function xQ(e,t,n,r){if(!eT(e))return;const i=t[e],s=n[e];Yt(i)&&Yt(s)?Eh(i,s,r):t[e]=S0(s)}function Eh(e,t,n){const r=zn(t)?t:[t],i=r.length;if(!Yt(e))return e;n=n||{};const s=n.merger||xQ;let o;for(let a=0;a<i;++a){if(o=r[a],!Yt(o))continue;const l=Object.keys(o);for(let u=0,f=l.length;u<f;++u)s(l[u],e,o,n)}return e}function nh(e,t){return Eh(e,t,{merger:bQ})}function bQ(e,t,n){if(!eT(e))return;const r=t[e],i=n[e];Yt(r)&&Yt(i)?nh(r,i):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=S0(i))}const u6={"":e=>e,x:e=>e.x,y:e=>e.y};function wQ(e){const t=e.split("."),n=[];let r="";for(const i of t)r+=i,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}function _Q(e){const t=wQ(e);return n=>{for(const r of t){if(r==="")break;n=n&&n[r]}return n}}function nl(e,t){return(u6[t]||(u6[t]=_Q(t)))(e)}function zw(e){return e.charAt(0).toUpperCase()+e.slice(1)}const kh=e=>typeof e<"u",rl=e=>typeof e=="function",d6=(e,t)=>{if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0};function SQ(e){return e.type==="mouseup"||e.type==="click"||e.type==="contextmenu"}const dn=Math.PI,An=2*dn,EQ=An+dn,E0=Number.POSITIVE_INFINITY,kQ=dn/180,Zn=dn/2,Ql=dn/4,f6=dn*2/3,Wa=Math.log10,ao=Math.sign;function rh(e,t,n){return Math.abs(e-t)<n}function h6(e){const t=Math.round(e);e=rh(e,t,e/1e3)?t:e;const n=Math.pow(10,Math.floor(Wa(e))),r=e/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function CQ(e){const t=[],n=Math.sqrt(e);let r;for(r=1;r<n;r++)e%r===0&&(t.push(r),t.push(e/r));return n===(n|0)&&t.push(n),t.sort((i,s)=>i-s).pop(),t}function TQ(e){return typeof e=="symbol"||typeof e=="object"&&e!==null&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}function Sc(e){return!TQ(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function jQ(e,t){const n=Math.round(e);return n-t<=e&&n+t>=e}function tT(e,t,n){let r,i,s;for(r=0,i=e.length;r<i;r++)s=e[r][n],isNaN(s)||(t.min=Math.min(t.min,s),t.max=Math.max(t.max,s))}function Bs(e){return e*(dn/180)}function $w(e){return e*(180/dn)}function p6(e){if(!Kn(e))return;let t=1,n=0;for(;Math.round(e*t)/t!==e;)t*=10,n++;return n}function nT(e,t){const n=t.x-e.x,r=t.y-e.y,i=Math.sqrt(n*n+r*r);let s=Math.atan2(r,n);return s<-.5*dn&&(s+=An),{angle:s,distance:i}}function Bb(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function NQ(e,t){return(e-t+EQ)%An-dn}function Hr(e){return(e%An+An)%An}function Ch(e,t,n,r){const i=Hr(e),s=Hr(t),o=Hr(n),a=Hr(s-i),l=Hr(o-i),u=Hr(i-s),f=Hr(i-o);return i===s||i===o||r&&s===o||a>l&&u<f}function Cr(e,t,n){return Math.max(t,Math.min(n,e))}function IQ(e){return Cr(e,-32768,32767)}function qo(e,t,n,r=1e-6){return e>=Math.min(t,n)-r&&e<=Math.max(t,n)+r}function Uw(e,t,n){n=n||(o=>e[o]<t);let r=e.length-1,i=0,s;for(;r-i>1;)s=i+r>>1,n(s)?i=s:r=s;return{lo:i,hi:r}}const Qo=(e,t,n,r)=>Uw(e,n,r?i=>{const s=e[i][t];return s<n||s===n&&e[i+1][t]===n}:i=>e[i][t]<n),PQ=(e,t,n)=>Uw(e,n,r=>e[r][t]>=n);function RQ(e,t,n){let r=0,i=e.length;for(;r<i&&e[r]<t;)r++;for(;i>r&&e[i-1]>n;)i--;return r>0||i<e.length?e.slice(r,i):e}const rT=["push","pop","shift","splice","unshift"];function OQ(e,t){if(e._chartjs){e._chartjs.listeners.push(t);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),rT.forEach(n=>{const r="_onData"+zw(n),i=e[n];Object.defineProperty(e,n,{configurable:!0,enumerable:!1,value(...s){const o=i.apply(this,s);return e._chartjs.listeners.forEach(a=>{typeof a[r]=="function"&&a[r](...s)}),o}})})}function m6(e,t){const n=e._chartjs;if(!n)return;const r=n.listeners,i=r.indexOf(t);i!==-1&&r.splice(i,1),!(r.length>0)&&(rT.forEach(s=>{delete e[s]}),delete e._chartjs)}function iT(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const sT=function(){return typeof window>"u"?function(e){return e()}:window.requestAnimationFrame}();function oT(e,t){let n=[],r=!1;return function(...i){n=i,r||(r=!0,sT.call(window,()=>{r=!1,e.apply(t,n)}))}}function AQ(e,t){let n;return function(...r){return t?(clearTimeout(n),n=setTimeout(e,t,r)):e.apply(this,r),t}}const Hw=e=>e==="start"?"left":e==="end"?"right":"center",Ur=(e,t,n)=>e==="start"?t:e==="end"?n:(t+n)/2,MQ=(e,t,n,r)=>e===(r?"left":"right")?n:e==="center"?(t+n)/2:t;function aT(e,t,n){const r=t.length;let i=0,s=r;if(e._sorted){const{iScale:o,vScale:a,_parsed:l}=e,u=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null,f=o.axis,{min:h,max:g,minDefined:y,maxDefined:b}=o.getUserBounds();if(y){if(i=Math.min(Qo(l,f,h).lo,n?r:Qo(t,f,o.getPixelForValue(h)).lo),u){const _=l.slice(0,i+1).reverse().findIndex(E=>!Gt(E[a.axis]));i-=Math.max(0,_)}i=Cr(i,0,r-1)}if(b){let _=Math.max(Qo(l,o.axis,g,!0).hi+1,n?0:Qo(t,f,o.getPixelForValue(g),!0).hi+1);if(u){const E=l.slice(_-1).findIndex(C=>!Gt(C[a.axis]));_+=Math.max(0,E)}s=Cr(_,i,r)-i}else s=r-i}return{start:i,count:s}}function lT(e){const{xScale:t,yScale:n,_scaleRanges:r}=e,i={xmin:t.min,xmax:t.max,ymin:n.min,ymax:n.max};if(!r)return e._scaleRanges=i,!0;const s=r.xmin!==t.min||r.xmax!==t.max||r.ymin!==n.min||r.ymax!==n.max;return Object.assign(r,i),s}const Gm=e=>e===0||e===1,g6=(e,t,n)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-t)*An/n)),y6=(e,t,n)=>Math.pow(2,-10*e)*Math.sin((e-t)*An/n)+1,ih={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*Zn)+1,easeOutSine:e=>Math.sin(e*Zn),easeInOutSine:e=>-.5*(Math.cos(dn*e)-1),easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>Gm(e)?e:e<.5?.5*Math.pow(2,10*(e*2-1)):.5*(-Math.pow(2,-10*(e*2-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>Gm(e)?e:g6(e,.075,.3),easeOutElastic:e=>Gm(e)?e:y6(e,.075,.3),easeInOutElastic(e){return Gm(e)?e:e<.5?.5*g6(e*2,.1125,.45):.5+.5*y6(e*2-1,.1125,.45)},easeInBack(e){return e*e*((1.70158+1)*e-1.70158)},easeOutBack(e){return(e-=1)*e*((1.70158+1)*e+1.70158)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:e=>1-ih.easeOutBounce(1-e),easeOutBounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:e=>e<.5?ih.easeInBounce(e*2)*.5:ih.easeOutBounce(e*2-1)*.5+.5};function Ww(e){if(e&&typeof e=="object"){const t=e.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function v6(e){return Ww(e)?e:new Sh(e)}function Yv(e){return Ww(e)?e:new Sh(e).saturate(.5).darken(.1).hexString()}const DQ=["x","y","borderWidth","radius","tension"],LQ=["color","borderColor","backgroundColor"];function FQ(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),e.set("animations",{colors:{type:"color",properties:LQ},numbers:{type:"number",properties:DQ}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function BQ(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const x6=new Map;function zQ(e,t){t=t||{};const n=e+JSON.stringify(t);let r=x6.get(n);return r||(r=new Intl.NumberFormat(e,t),x6.set(n,r)),r}function Zh(e,t,n){return zQ(t,n).format(e)}const cT={values(e){return zn(e)?e:""+e},numeric(e,t,n){if(e===0)return"0";const r=this.chart.options.locale;let i,s=e;if(n.length>1){const u=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(u<1e-4||u>1e15)&&(i="scientific"),s=$Q(e,n)}const o=Wa(Math.abs(s)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:i,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),Zh(e,r,l)},logarithmic(e,t,n){if(e===0)return"0";const r=n[t].significand||e/Math.pow(10,Math.floor(Wa(e)));return[1,2,3,5,10,15].includes(r)||t>.8*n.length?cT.numeric.call(this,e,t,n):""}};function $Q(e,t){let n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(n)>=1&&e!==Math.floor(e)&&(n=e-Math.floor(e)),n}var p1={formatters:cT};function UQ(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,n)=>n.lineWidth,tickColor:(t,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:p1.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const Ec=Object.create(null),zb=Object.create(null);function sh(e,t){if(!t)return e;const n=t.split(".");for(let r=0,i=n.length;r<i;++r){const s=n[r];e=e[s]||(e[s]=Object.create(null))}return e}function Xv(e,t,n){return typeof t=="string"?Eh(sh(e,t),n):Eh(sh(e,""),t)}class HQ{constructor(t,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,i)=>Yv(i.backgroundColor),this.hoverBorderColor=(r,i)=>Yv(i.borderColor),this.hoverColor=(r,i)=>Yv(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(n)}set(t,n){return Xv(this,t,n)}get(t){return sh(this,t)}describe(t,n){return Xv(zb,t,n)}override(t,n){return Xv(Ec,t,n)}route(t,n,r,i){const s=sh(this,t),o=sh(this,r),a="_"+n;Object.defineProperties(s,{[a]:{value:s[n],writable:!0},[n]:{enumerable:!0,get(){const l=this[a],u=o[i];return Yt(l)?Object.assign({},u,l):Ct(l,u)},set(l){this[a]=l}}})}apply(t){t.forEach(n=>n(this))}}var $n=new HQ({_scriptable:e=>!e.startsWith("on"),_indexable:e=>e!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[FQ,BQ,UQ]);function WQ(e){return!e||Gt(e.size)||Gt(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function k0(e,t,n,r,i){let s=t[i];return s||(s=t[i]=e.measureText(i).width,n.push(i)),s>r&&(r=s),r}function qQ(e,t,n,r){r=r||{};let i=r.data=r.data||{},s=r.garbageCollect=r.garbageCollect||[];r.font!==t&&(i=r.data={},s=r.garbageCollect=[],r.font=t),e.save(),e.font=t;let o=0;const a=n.length;let l,u,f,h,g;for(l=0;l<a;l++)if(h=n[l],h!=null&&!zn(h))o=k0(e,i,s,o,h);else if(zn(h))for(u=0,f=h.length;u<f;u++)g=h[u],g!=null&&!zn(g)&&(o=k0(e,i,s,o,g));e.restore();const y=s.length/2;if(y>n.length){for(l=0;l<y;l++)delete i[s[l]];s.splice(0,y)}return o}function Vl(e,t,n){const r=e.currentDevicePixelRatio,i=n!==0?Math.max(n/2,.5):0;return Math.round((t-i)*r)/r+i}function b6(e,t){!t&&!e||(t=t||e.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function $b(e,t,n,r){uT(e,t,n,r,null)}function uT(e,t,n,r,i){let s,o,a,l,u,f,h,g;const y=t.pointStyle,b=t.rotation,_=t.radius;let E=(b||0)*kQ;if(y&&typeof y=="object"&&(s=y.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){e.save(),e.translate(n,r),e.rotate(E),e.drawImage(y,-y.width/2,-y.height/2,y.width,y.height),e.restore();return}if(!(isNaN(_)||_<=0)){switch(e.beginPath(),y){default:i?e.ellipse(n,r,i/2,_,0,0,An):e.arc(n,r,_,0,An),e.closePath();break;case"triangle":f=i?i/2:_,e.moveTo(n+Math.sin(E)*f,r-Math.cos(E)*_),E+=f6,e.lineTo(n+Math.sin(E)*f,r-Math.cos(E)*_),E+=f6,e.lineTo(n+Math.sin(E)*f,r-Math.cos(E)*_),e.closePath();break;case"rectRounded":u=_*.516,l=_-u,o=Math.cos(E+Ql)*l,h=Math.cos(E+Ql)*(i?i/2-u:l),a=Math.sin(E+Ql)*l,g=Math.sin(E+Ql)*(i?i/2-u:l),e.arc(n-h,r-a,u,E-dn,E-Zn),e.arc(n+g,r-o,u,E-Zn,E),e.arc(n+h,r+a,u,E,E+Zn),e.arc(n-g,r+o,u,E+Zn,E+dn),e.closePath();break;case"rect":if(!b){l=Math.SQRT1_2*_,f=i?i/2:l,e.rect(n-f,r-l,2*f,2*l);break}E+=Ql;case"rectRot":h=Math.cos(E)*(i?i/2:_),o=Math.cos(E)*_,a=Math.sin(E)*_,g=Math.sin(E)*(i?i/2:_),e.moveTo(n-h,r-a),e.lineTo(n+g,r-o),e.lineTo(n+h,r+a),e.lineTo(n-g,r+o),e.closePath();break;case"crossRot":E+=Ql;case"cross":h=Math.cos(E)*(i?i/2:_),o=Math.cos(E)*_,a=Math.sin(E)*_,g=Math.sin(E)*(i?i/2:_),e.moveTo(n-h,r-a),e.lineTo(n+h,r+a),e.moveTo(n+g,r-o),e.lineTo(n-g,r+o);break;case"star":h=Math.cos(E)*(i?i/2:_),o=Math.cos(E)*_,a=Math.sin(E)*_,g=Math.sin(E)*(i?i/2:_),e.moveTo(n-h,r-a),e.lineTo(n+h,r+a),e.moveTo(n+g,r-o),e.lineTo(n-g,r+o),E+=Ql,h=Math.cos(E)*(i?i/2:_),o=Math.cos(E)*_,a=Math.sin(E)*_,g=Math.sin(E)*(i?i/2:_),e.moveTo(n-h,r-a),e.lineTo(n+h,r+a),e.moveTo(n+g,r-o),e.lineTo(n-g,r+o);break;case"line":o=i?i/2:Math.cos(E)*_,a=Math.sin(E)*_,e.moveTo(n-o,r-a),e.lineTo(n+o,r+a);break;case"dash":e.moveTo(n,r),e.lineTo(n+Math.cos(E)*(i?i/2:_),r+Math.sin(E)*_);break;case!1:e.closePath();break}e.fill(),t.borderWidth>0&&e.stroke()}}function Vo(e,t,n){return n=n||.5,!t||e&&e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n}function m1(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function g1(e){e.restore()}function QQ(e,t,n,r,i){if(!t)return e.lineTo(n.x,n.y);if(i==="middle"){const s=(t.x+n.x)/2;e.lineTo(s,t.y),e.lineTo(s,n.y)}else i==="after"!=!!r?e.lineTo(t.x,n.y):e.lineTo(n.x,t.y);e.lineTo(n.x,n.y)}function VQ(e,t,n,r){if(!t)return e.lineTo(n.x,n.y);e.bezierCurveTo(r?t.cp1x:t.cp2x,r?t.cp1y:t.cp2y,r?n.cp2x:n.cp1x,r?n.cp2y:n.cp1y,n.x,n.y)}function KQ(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),Gt(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}function GQ(e,t,n,r,i){if(i.strikethrough||i.underline){const s=e.measureText(r),o=t-s.actualBoundingBoxLeft,a=t+s.actualBoundingBoxRight,l=n-s.actualBoundingBoxAscent,u=n+s.actualBoundingBoxDescent,f=i.strikethrough?(l+u)/2:u;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=i.decorationWidth||2,e.moveTo(o,f),e.lineTo(a,f),e.stroke()}}function YQ(e,t){const n=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=n}function kc(e,t,n,r,i,s={}){const o=zn(t)?t:[t],a=s.strokeWidth>0&&s.strokeColor!=="";let l,u;for(e.save(),e.font=i.string,KQ(e,s),l=0;l<o.length;++l)u=o[l],s.backdrop&&YQ(e,s.backdrop),a&&(s.strokeColor&&(e.strokeStyle=s.strokeColor),Gt(s.strokeWidth)||(e.lineWidth=s.strokeWidth),e.strokeText(u,n,r,s.maxWidth)),e.fillText(u,n,r,s.maxWidth),GQ(e,n,r,u,s),r+=Number(i.lineHeight);e.restore()}function Th(e,t){const{x:n,y:r,w:i,h:s,radius:o}=t;e.arc(n+o.topLeft,r+o.topLeft,o.topLeft,1.5*dn,dn,!0),e.lineTo(n,r+s-o.bottomLeft),e.arc(n+o.bottomLeft,r+s-o.bottomLeft,o.bottomLeft,dn,Zn,!0),e.lineTo(n+i-o.bottomRight,r+s),e.arc(n+i-o.bottomRight,r+s-o.bottomRight,o.bottomRight,Zn,0,!0),e.lineTo(n+i,r+o.topRight),e.arc(n+i-o.topRight,r+o.topRight,o.topRight,0,-Zn,!0),e.lineTo(n+o.topLeft,r)}const XQ=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,JQ=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function ZQ(e,t){const n=(""+e).match(XQ);if(!n||n[1]==="normal")return t*1.2;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100;break}return t*e}const eV=e=>+e||0;function qw(e,t){const n={},r=Yt(t),i=r?Object.keys(t):t,s=Yt(e)?r?o=>Ct(e[o],e[t[o]]):o=>e[o]:()=>e;for(const o of i)n[o]=eV(s(o));return n}function dT(e){return qw(e,{top:"y",right:"x",bottom:"y",left:"x"})}function gc(e){return qw(e,["topLeft","topRight","bottomLeft","bottomRight"])}function Qr(e){const t=dT(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function mr(e,t){e=e||{},t=t||$n.font;let n=Ct(e.size,t.size);typeof n=="string"&&(n=parseInt(n,10));let r=Ct(e.style,t.style);r&&!(""+r).match(JQ)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const i={family:Ct(e.family,t.family),lineHeight:ZQ(Ct(e.lineHeight,t.lineHeight),n),size:n,style:r,weight:Ct(e.weight,t.weight),string:""};return i.string=WQ(i),i}function Qf(e,t,n,r){let i,s,o;for(i=0,s=e.length;i<s;++i)if(o=e[i],o!==void 0&&o!==void 0)return o}function tV(e,t,n){const{min:r,max:i}=e,s=Z9(t,(i-r)/2),o=(a,l)=>n&&a===0?0:a+l;return{min:o(r,-Math.abs(s)),max:o(i,s)}}function hl(e,t){return Object.assign(Object.create(e),t)}function Qw(e,t=[""],n,r,i=()=>e[0]){const s=n||e;typeof r>"u"&&(r=mT("_fallback",e));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:s,_fallback:r,_getTarget:i,override:a=>Qw([a,...e],t,s,r)};return new Proxy(o,{deleteProperty(a,l){return delete a[l],delete a._keys,delete e[0][l],!0},get(a,l){return hT(a,l,()=>cV(l,t,e,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(a,l){return _6(a).includes(l)},ownKeys(a){return _6(a)},set(a,l,u){const f=a._storage||(a._storage=i());return a[l]=f[l]=u,delete a._keys,!0}})}function gd(e,t,n,r){const i={_cacheable:!1,_proxy:e,_context:t,_subProxy:n,_stack:new Set,_descriptors:fT(e,r),setContext:s=>gd(e,s,n,r),override:s=>gd(e.override(s),t,n,r)};return new Proxy(i,{deleteProperty(s,o){return delete s[o],delete e[o],!0},get(s,o,a){return hT(s,o,()=>rV(s,o,a))},getOwnPropertyDescriptor(s,o){return s._descriptors.allKeys?Reflect.has(e,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,o)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(s,o){return Reflect.has(e,o)},ownKeys(){return Reflect.ownKeys(e)},set(s,o,a){return e[o]=a,delete s[o],!0}})}function fT(e,t={scriptable:!0,indexable:!0}){const{_scriptable:n=t.scriptable,_indexable:r=t.indexable,_allKeys:i=t.allKeys}=e;return{allKeys:i,scriptable:n,indexable:r,isScriptable:rl(n)?n:()=>n,isIndexable:rl(r)?r:()=>r}}const nV=(e,t)=>e?e+zw(t):t,Vw=(e,t)=>Yt(t)&&e!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function hT(e,t,n){if(Object.prototype.hasOwnProperty.call(e,t)||t==="constructor")return e[t];const r=n();return e[t]=r,r}function rV(e,t,n){const{_proxy:r,_context:i,_subProxy:s,_descriptors:o}=e;let a=r[t];return rl(a)&&o.isScriptable(t)&&(a=iV(t,a,e,n)),zn(a)&&a.length&&(a=sV(t,a,e,o.isIndexable)),Vw(t,a)&&(a=gd(a,i,s&&s[t],o)),a}function iV(e,t,n,r){const{_proxy:i,_context:s,_subProxy:o,_stack:a}=n;if(a.has(e))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+e);a.add(e);let l=t(s,o||r);return a.delete(e),Vw(e,l)&&(l=Kw(i._scopes,i,e,l)),l}function sV(e,t,n,r){const{_proxy:i,_context:s,_subProxy:o,_descriptors:a}=n;if(typeof s.index<"u"&&r(e))return t[s.index%t.length];if(Yt(t[0])){const l=t,u=i._scopes.filter(f=>f!==l);t=[];for(const f of l){const h=Kw(u,i,e,f);t.push(gd(h,s,o&&o[e],a))}}return t}function pT(e,t,n){return rl(e)?e(t,n):e}const oV=(e,t)=>e===!0?t:typeof e=="string"?nl(t,e):void 0;function aV(e,t,n,r,i){for(const s of t){const o=oV(n,s);if(o){e.add(o);const a=pT(o._fallback,n,i);if(typeof a<"u"&&a!==n&&a!==r)return a}else if(o===!1&&typeof r<"u"&&n!==r)return null}return!1}function Kw(e,t,n,r){const i=t._rootScopes,s=pT(t._fallback,n,r),o=[...e,...i],a=new Set;a.add(r);let l=w6(a,o,n,s||n,r);return l===null||typeof s<"u"&&s!==n&&(l=w6(a,o,s,l,r),l===null)?!1:Qw(Array.from(a),[""],i,s,()=>lV(t,n,r))}function w6(e,t,n,r,i){for(;n;)n=aV(e,t,n,r,i);return n}function lV(e,t,n){const r=e._getTarget();t in r||(r[t]={});const i=r[t];return zn(i)&&Yt(n)?n:i||{}}function cV(e,t,n,r){let i;for(const s of t)if(i=mT(nV(s,e),n),typeof i<"u")return Vw(e,i)?Kw(n,r,e,i):i}function mT(e,t){for(const n of t){if(!n)continue;const r=n[e];if(typeof r<"u")return r}}function _6(e){let t=e._keys;return t||(t=e._keys=uV(e._scopes)),t}function uV(e){const t=new Set;for(const n of e)for(const r of Object.keys(n).filter(i=>!i.startsWith("_")))t.add(r);return Array.from(t)}function gT(e,t,n,r){const{iScale:i}=e,{key:s="r"}=this._parsing,o=new Array(r);let a,l,u,f;for(a=0,l=r;a<l;++a)u=a+n,f=t[u],o[a]={r:i.parse(nl(f,s),u)};return o}const dV=Number.EPSILON||1e-14,yd=(e,t)=>t<e.length&&!e[t].skip&&e[t],yT=e=>e==="x"?"y":"x";function fV(e,t,n,r){const i=e.skip?t:e,s=t,o=n.skip?t:n,a=Bb(s,i),l=Bb(o,s);let u=a/(a+l),f=l/(a+l);u=isNaN(u)?0:u,f=isNaN(f)?0:f;const h=r*u,g=r*f;return{previous:{x:s.x-h*(o.x-i.x),y:s.y-h*(o.y-i.y)},next:{x:s.x+g*(o.x-i.x),y:s.y+g*(o.y-i.y)}}}function hV(e,t,n){const r=e.length;let i,s,o,a,l,u=yd(e,0);for(let f=0;f<r-1;++f)if(l=u,u=yd(e,f+1),!(!l||!u)){if(rh(t[f],0,dV)){n[f]=n[f+1]=0;continue}i=n[f]/t[f],s=n[f+1]/t[f],a=Math.pow(i,2)+Math.pow(s,2),!(a<=9)&&(o=3/Math.sqrt(a),n[f]=i*o*t[f],n[f+1]=s*o*t[f])}}function pV(e,t,n="x"){const r=yT(n),i=e.length;let s,o,a,l=yd(e,0);for(let u=0;u<i;++u){if(o=a,a=l,l=yd(e,u+1),!a)continue;const f=a[n],h=a[r];o&&(s=(f-o[n])/3,a[`cp1${n}`]=f-s,a[`cp1${r}`]=h-s*t[u]),l&&(s=(l[n]-f)/3,a[`cp2${n}`]=f+s,a[`cp2${r}`]=h+s*t[u])}}function mV(e,t="x"){const n=yT(t),r=e.length,i=Array(r).fill(0),s=Array(r);let o,a,l,u=yd(e,0);for(o=0;o<r;++o)if(a=l,l=u,u=yd(e,o+1),!!l){if(u){const f=u[t]-l[t];i[o]=f!==0?(u[n]-l[n])/f:0}s[o]=a?u?ao(i[o-1])!==ao(i[o])?0:(i[o-1]+i[o])/2:i[o-1]:i[o]}hV(e,i,s),pV(e,s,t)}function Ym(e,t,n){return Math.max(Math.min(e,n),t)}function gV(e,t){let n,r,i,s,o,a=Vo(e[0],t);for(n=0,r=e.length;n<r;++n)o=s,s=a,a=n<r-1&&Vo(e[n+1],t),s&&(i=e[n],o&&(i.cp1x=Ym(i.cp1x,t.left,t.right),i.cp1y=Ym(i.cp1y,t.top,t.bottom)),a&&(i.cp2x=Ym(i.cp2x,t.left,t.right),i.cp2y=Ym(i.cp2y,t.top,t.bottom)))}function yV(e,t,n,r,i){let s,o,a,l;if(t.spanGaps&&(e=e.filter(u=>!u.skip)),t.cubicInterpolationMode==="monotone")mV(e,i);else{let u=r?e[e.length-1]:e[0];for(s=0,o=e.length;s<o;++s)a=e[s],l=fV(u,a,e[Math.min(s+1,o-(r?0:1))%o],t.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,u=a}t.capBezierPoints&&gV(e,n)}function Gw(){return typeof window<"u"&&typeof document<"u"}function Yw(e){let t=e.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function C0(e,t,n){let r;return typeof e=="string"?(r=parseInt(e,10),e.indexOf("%")!==-1&&(r=r/100*t.parentNode[n])):r=e,r}const y1=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);function vV(e,t){return y1(e).getPropertyValue(t)}const xV=["top","right","bottom","left"];function yc(e,t,n){const r={};n=n?"-"+n:"";for(let i=0;i<4;i++){const s=xV[i];r[s]=parseFloat(e[t+"-"+s+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const bV=(e,t,n)=>(e>0||t>0)&&(!n||!n.shadowRoot);function wV(e,t){const n=e.touches,r=n&&n.length?n[0]:e,{offsetX:i,offsetY:s}=r;let o=!1,a,l;if(bV(i,s,e.target))a=i,l=s;else{const u=t.getBoundingClientRect();a=r.clientX-u.left,l=r.clientY-u.top,o=!0}return{x:a,y:l,box:o}}function tc(e,t){if("native"in e)return e;const{canvas:n,currentDevicePixelRatio:r}=t,i=y1(n),s=i.boxSizing==="border-box",o=yc(i,"padding"),a=yc(i,"border","width"),{x:l,y:u,box:f}=wV(e,n),h=o.left+(f&&a.left),g=o.top+(f&&a.top);let{width:y,height:b}=t;return s&&(y-=o.width+a.width,b-=o.height+a.height),{x:Math.round((l-h)/y*n.width/r),y:Math.round((u-g)/b*n.height/r)}}function _V(e,t,n){let r,i;if(t===void 0||n===void 0){const s=e&&Yw(e);if(!s)t=e.clientWidth,n=e.clientHeight;else{const o=s.getBoundingClientRect(),a=y1(s),l=yc(a,"border","width"),u=yc(a,"padding");t=o.width-u.width-l.width,n=o.height-u.height-l.height,r=C0(a.maxWidth,s,"clientWidth"),i=C0(a.maxHeight,s,"clientHeight")}}return{width:t,height:n,maxWidth:r||E0,maxHeight:i||E0}}const Xm=e=>Math.round(e*10)/10;function SV(e,t,n,r){const i=y1(e),s=yc(i,"margin"),o=C0(i.maxWidth,e,"clientWidth")||E0,a=C0(i.maxHeight,e,"clientHeight")||E0,l=_V(e,t,n);let{width:u,height:f}=l;if(i.boxSizing==="content-box"){const g=yc(i,"border","width"),y=yc(i,"padding");u-=y.width+g.width,f-=y.height+g.height}return u=Math.max(0,u-s.width),f=Math.max(0,r?u/r:f-s.height),u=Xm(Math.min(u,o,l.maxWidth)),f=Xm(Math.min(f,a,l.maxHeight)),u&&!f&&(f=Xm(u/2)),(t!==void 0||n!==void 0)&&r&&l.height&&f>l.height&&(f=l.height,u=Xm(Math.floor(f*r))),{width:u,height:f}}function S6(e,t,n){const r=t||1,i=Math.floor(e.height*r),s=Math.floor(e.width*r);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const o=e.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${e.height}px`,o.style.width=`${e.width}px`),e.currentDevicePixelRatio!==r||o.height!==i||o.width!==s?(e.currentDevicePixelRatio=r,o.height=i,o.width=s,e.ctx.setTransform(r,0,0,r,0,0),!0):!1}const EV=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};Gw()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return e}();function E6(e,t){const n=vV(e,t),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function nc(e,t,n,r){return{x:e.x+n*(t.x-e.x),y:e.y+n*(t.y-e.y)}}function kV(e,t,n,r){return{x:e.x+n*(t.x-e.x),y:r==="middle"?n<.5?e.y:t.y:r==="after"?n<1?e.y:t.y:n>0?t.y:e.y}}function CV(e,t,n,r){const i={x:e.cp2x,y:e.cp2y},s={x:t.cp1x,y:t.cp1y},o=nc(e,i,n),a=nc(i,s,n),l=nc(s,t,n),u=nc(o,a,n),f=nc(a,l,n);return nc(u,f,n)}const TV=function(e,t){return{x(n){return e+e+t-n},setWidth(n){t=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,r){return n-r},leftForLtr(n,r){return n-r}}},jV=function(){return{x(e){return e},setWidth(e){},textAlign(e){return e},xPlus(e,t){return e+t},leftForLtr(e,t){return e}}};function id(e,t,n){return e?TV(t,n):jV()}function vT(e,t){let n,r;(t==="ltr"||t==="rtl")&&(n=e.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=r)}function xT(e,t){t!==void 0&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function bT(e){return e==="angle"?{between:Ch,compare:NQ,normalize:Hr}:{between:qo,compare:(t,n)=>t-n,normalize:t=>t}}function k6({start:e,end:t,count:n,loop:r,style:i}){return{start:e%n,end:t%n,loop:r&&(t-e+1)%n===0,style:i}}function NV(e,t,n){const{property:r,start:i,end:s}=n,{between:o,normalize:a}=bT(r),l=t.length;let{start:u,end:f,loop:h}=e,g,y;if(h){for(u+=l,f+=l,g=0,y=l;g<y&&o(a(t[u%l][r]),i,s);++g)u--,f--;u%=l,f%=l}return f<u&&(f+=l),{start:u,end:f,loop:h,style:e.style}}function wT(e,t,n){if(!n)return[e];const{property:r,start:i,end:s}=n,o=t.length,{compare:a,between:l,normalize:u}=bT(r),{start:f,end:h,loop:g,style:y}=NV(e,t,n),b=[];let _=!1,E=null,C,P,O;const z=()=>l(i,O,C)&&a(i,O)!==0,B=()=>a(s,C)===0||l(s,O,C),j=()=>_||z(),M=()=>!_||B();for(let U=f,$=f;U<=h;++U)P=t[U%o],!P.skip&&(C=u(P[r]),C!==O&&(_=l(C,i,s),E===null&&j()&&(E=a(C,i)===0?U:$),E!==null&&M()&&(b.push(k6({start:E,end:U,loop:g,count:o,style:y})),E=null),$=U,O=C));return E!==null&&b.push(k6({start:E,end:h,loop:g,count:o,style:y})),b}function _T(e,t){const n=[],r=e.segments;for(let i=0;i<r.length;i++){const s=wT(r[i],e.points,t);s.length&&n.push(...s)}return n}function IV(e,t,n,r){let i=0,s=t-1;if(n&&!r)for(;i<t&&!e[i].skip;)i++;for(;i<t&&e[i].skip;)i++;for(i%=t,n&&(s+=i);s>i&&e[s%t].skip;)s--;return s%=t,{start:i,end:s}}function PV(e,t,n,r){const i=e.length,s=[];let o=t,a=e[t],l;for(l=t+1;l<=n;++l){const u=e[l%i];u.skip||u.stop?a.skip||(r=!1,s.push({start:t%i,end:(l-1)%i,loop:r}),t=o=u.stop?l:null):(o=l,a.skip&&(t=l)),a=u}return o!==null&&s.push({start:t%i,end:o%i,loop:r}),s}function RV(e,t){const n=e.points,r=e.options.spanGaps,i=n.length;if(!i)return[];const s=!!e._loop,{start:o,end:a}=IV(n,i,s,r);if(r===!0)return C6(e,[{start:o,end:a,loop:s}],n,t);const l=a<o?a+i:a,u=!!e._fullLoop&&o===0&&a===i-1;return C6(e,PV(n,o,l,u),n,t)}function C6(e,t,n,r){return!r||!r.setContext||!n?t:OV(e,t,n,r)}function OV(e,t,n,r){const i=e._chart.getContext(),s=T6(e.options),{_datasetIndex:o,options:{spanGaps:a}}=e,l=n.length,u=[];let f=s,h=t[0].start,g=h;function y(b,_,E,C){const P=a?-1:1;if(b!==_){for(b+=l;n[b%l].skip;)b-=P;for(;n[_%l].skip;)_+=P;b%l!==_%l&&(u.push({start:b%l,end:_%l,loop:E,style:C}),f=C,h=_%l)}}for(const b of t){h=a?h:b.start;let _=n[h%l],E;for(g=h+1;g<=b.end;g++){const C=n[g%l];E=T6(r.setContext(hl(i,{type:"segment",p0:_,p1:C,p0DataIndex:(g-1)%l,p1DataIndex:g%l,datasetIndex:o}))),AV(E,f)&&y(h,g-1,b.loop,f),_=C,f=E}h<g-1&&y(h,g-1,b.loop,f)}return u}function T6(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function AV(e,t){if(!t)return!1;const n=[],r=function(i,s){return Ww(s)?(n.includes(s)||n.push(s),n.indexOf(s)):s};return JSON.stringify(e,r)!==JSON.stringify(t,r)}function Jm(e,t,n){return e.options.clip?e[n]:t[n]}function MV(e,t){const{xScale:n,yScale:r}=e;return n&&r?{left:Jm(n,t,"left"),right:Jm(n,t,"right"),top:Jm(r,t,"top"),bottom:Jm(r,t,"bottom")}:t}function ST(e,t){const n=t._clip;if(n.disabled)return!1;const r=MV(t,e.chartArea);return{left:n.left===!1?0:r.left-(n.left===!0?0:n.left),right:n.right===!1?e.width:r.right+(n.right===!0?0:n.right),top:n.top===!1?0:r.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?e.height:r.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class DV{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,n,r,i){const s=n.listeners[i],o=n.duration;s.forEach(a=>a({chart:t,initial:n.initial,numSteps:o,currentStep:Math.min(r-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=sT.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let n=0;this._charts.forEach((r,i)=>{if(!r.running||!r.items.length)return;const s=r.items;let o=s.length-1,a=!1,l;for(;o>=0;--o)l=s[o],l._active?(l._total>r.duration&&(r.duration=l._total),l.tick(t),a=!0):(s[o]=s[s.length-1],s.pop());a&&(i.draw(),this._notify(i,r,t,"progress")),s.length||(r.running=!1,this._notify(i,r,t,"complete"),r.initial=!1),n+=s.length}),this._lastDate=t,n===0&&(this._running=!1)}_getAnims(t){const n=this._charts;let r=n.get(t);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(t,r)),r}listen(t,n,r){this._getAnims(t).listeners[n].push(r)}add(t,n){!n||!n.length||this._getAnims(t).items.push(...n)}has(t){return this._getAnims(t).items.length>0}start(t){const n=this._charts.get(t);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((r,i)=>Math.max(r,i._duration),0),this._refresh())}running(t){if(!this._running)return!1;const n=this._charts.get(t);return!(!n||!n.running||!n.items.length)}stop(t){const n=this._charts.get(t);if(!n||!n.items.length)return;const r=n.items;let i=r.length-1;for(;i>=0;--i)r[i].cancel();n.items=[],this._notify(t,n,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var Mo=new DV;const j6="transparent",LV={boolean(e,t,n){return n>.5?t:e},color(e,t,n){const r=v6(e||j6),i=r.valid&&v6(t||j6);return i&&i.valid?i.mix(r,n).hexString():t},number(e,t,n){return e+(t-e)*n}};class FV{constructor(t,n,r,i){const s=n[r];i=Qf([t.to,i,s,t.from]);const o=Qf([t.from,s,i]);this._active=!0,this._fn=t.fn||LV[t.type||typeof o],this._easing=ih[t.easing]||ih.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=n,this._prop=r,this._from=o,this._to=i,this._promises=void 0}active(){return this._active}update(t,n,r){if(this._active){this._notify(!1);const i=this._target[this._prop],s=r-this._start,o=this._duration-s;this._start=r,this._duration=Math.floor(Math.max(o,t.duration)),this._total+=s,this._loop=!!t.loop,this._to=Qf([t.to,n,i,t.from]),this._from=Qf([t.from,i,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const n=t-this._start,r=this._duration,i=this._prop,s=this._from,o=this._loop,a=this._to;let l;if(this._active=s!==a&&(o||n<r),!this._active){this._target[i]=a,this._notify(!0);return}if(n<0){this._target[i]=s;return}l=n/r%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[i]=this._fn(s,a,l)}wait(){const t=this._promises||(this._promises=[]);return new Promise((n,r)=>{t.push({res:n,rej:r})})}_notify(t){const n=t?"res":"rej",r=this._promises||[];for(let i=0;i<r.length;i++)r[i][n]()}}class ET{constructor(t,n){this._chart=t,this._properties=new Map,this.configure(n)}configure(t){if(!Yt(t))return;const n=Object.keys($n.animation),r=this._properties;Object.getOwnPropertyNames(t).forEach(i=>{const s=t[i];if(!Yt(s))return;const o={};for(const a of n)o[a]=s[a];(zn(s.properties)&&s.properties||[i]).forEach(a=>{(a===i||!r.has(a))&&r.set(a,o)})})}_animateOptions(t,n){const r=n.options,i=zV(t,r);if(!i)return[];const s=this._createAnimations(i,r);return r.$shared&&BV(t.options.$animations,r).then(()=>{t.options=r},()=>{}),s}_createAnimations(t,n){const r=this._properties,i=[],s=t.$animations||(t.$animations={}),o=Object.keys(n),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const u=o[l];if(u.charAt(0)==="$")continue;if(u==="options"){i.push(...this._animateOptions(t,n));continue}const f=n[u];let h=s[u];const g=r.get(u);if(h)if(g&&h.active()){h.update(g,f,a);continue}else h.cancel();if(!g||!g.duration){t[u]=f;continue}s[u]=h=new FV(g,t,u,f),i.push(h)}return i}update(t,n){if(this._properties.size===0){Object.assign(t,n);return}const r=this._createAnimations(t,n);if(r.length)return Mo.add(this._chart,r),!0}}function BV(e,t){const n=[],r=Object.keys(t);for(let i=0;i<r.length;i++){const s=e[r[i]];s&&s.active()&&n.push(s.wait())}return Promise.all(n)}function zV(e,t){if(!t)return;let n=e.options;if(!n){e.options=t;return}return n.$shared&&(e.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function N6(e,t){const n=e&&e.options||{},r=n.reverse,i=n.min===void 0?t:0,s=n.max===void 0?t:0;return{start:r?s:i,end:r?i:s}}function $V(e,t,n){if(n===!1)return!1;const r=N6(e,n),i=N6(t,n);return{top:i.end,right:r.end,bottom:i.start,left:r.start}}function UV(e){let t,n,r,i;return Yt(e)?(t=e.top,n=e.right,r=e.bottom,i=e.left):t=n=r=i=e,{top:t,right:n,bottom:r,left:i,disabled:e===!1}}function kT(e,t){const n=[],r=e._getSortedDatasetMetas(t);let i,s;for(i=0,s=r.length;i<s;++i)n.push(r[i].index);return n}function I6(e,t,n,r={}){const i=e.keys,s=r.mode==="single";let o,a,l,u;if(t===null)return;let f=!1;for(o=0,a=i.length;o<a;++o){if(l=+i[o],l===n){if(f=!0,r.all)continue;break}u=e.values[l],Kn(u)&&(s||t===0||ao(t)===ao(u))&&(t+=u)}return!f&&!r.all?0:t}function HV(e,t){const{iScale:n,vScale:r}=t,i=n.axis==="x"?"x":"y",s=r.axis==="x"?"x":"y",o=Object.keys(e),a=new Array(o.length);let l,u,f;for(l=0,u=o.length;l<u;++l)f=o[l],a[l]={[i]:f,[s]:e[f]};return a}function Jv(e,t){const n=e&&e.options.stacked;return n||n===void 0&&t.stack!==void 0}function WV(e,t,n){return`${e.id}.${t.id}.${n.stack||n.type}`}function qV(e){const{min:t,max:n,minDefined:r,maxDefined:i}=e.getUserBounds();return{min:r?t:Number.NEGATIVE_INFINITY,max:i?n:Number.POSITIVE_INFINITY}}function QV(e,t,n){const r=e[t]||(e[t]={});return r[n]||(r[n]={})}function P6(e,t,n,r){for(const i of t.getMatchingVisibleMetas(r).reverse()){const s=e[i.index];if(n&&s>0||!n&&s<0)return i.index}return null}function R6(e,t){const{chart:n,_cachedMeta:r}=e,i=n._stacks||(n._stacks={}),{iScale:s,vScale:o,index:a}=r,l=s.axis,u=o.axis,f=WV(s,o,r),h=t.length;let g;for(let y=0;y<h;++y){const b=t[y],{[l]:_,[u]:E}=b,C=b._stacks||(b._stacks={});g=C[u]=QV(i,f,_),g[a]=E,g._top=P6(g,o,!0,r.type),g._bottom=P6(g,o,!1,r.type);const P=g._visualValues||(g._visualValues={});P[a]=E}}function Zv(e,t){const n=e.scales;return Object.keys(n).filter(r=>n[r].axis===t).shift()}function VV(e,t){return hl(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function KV(e,t,n){return hl(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}function Cf(e,t){const n=e.controller.index,r=e.vScale&&e.vScale.axis;if(r){t=t||e._parsed;for(const i of t){const s=i._stacks;if(!s||s[r]===void 0||s[r][n]===void 0)return;delete s[r][n],s[r]._visualValues!==void 0&&s[r]._visualValues[n]!==void 0&&delete s[r]._visualValues[n]}}}const ex=e=>e==="reset"||e==="none",O6=(e,t)=>t?e:Object.assign({},e),GV=(e,t,n)=>e&&!t.hidden&&t._stacked&&{keys:kT(n,!0),values:null};class pl{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(t,n){this.chart=t,this._ctx=t.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=Jv(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Cf(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,n=this._cachedMeta,r=this.getDataset(),i=(h,g,y,b)=>h==="x"?g:h==="r"?b:y,s=n.xAxisID=Ct(r.xAxisID,Zv(t,"x")),o=n.yAxisID=Ct(r.yAxisID,Zv(t,"y")),a=n.rAxisID=Ct(r.rAxisID,Zv(t,"r")),l=n.indexAxis,u=n.iAxisID=i(l,s,o,a),f=n.vAxisID=i(l,o,s,a);n.xScale=this.getScaleForId(s),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(a),n.iScale=this.getScaleForId(u),n.vScale=this.getScaleForId(f)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const n=this._cachedMeta;return t===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&m6(this._data,this),t._stacked&&Cf(t)}_dataCheck(){const t=this.getDataset(),n=t.data||(t.data=[]),r=this._data;if(Yt(n)){const i=this._cachedMeta;this._data=HV(n,i)}else if(r!==n){if(r){m6(r,this);const i=this._cachedMeta;Cf(i),i._parsed=[]}n&&Object.isExtensible(n)&&OQ(n,this),this._syncList=[],this._data=n}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const n=this._cachedMeta,r=this.getDataset();let i=!1;this._dataCheck();const s=n._stacked;n._stacked=Jv(n.vScale,n),n.stack!==r.stack&&(i=!0,Cf(n),n.stack=r.stack),this._resyncElements(t),(i||s!==n._stacked)&&(R6(this,n._parsed),n._stacked=Jv(n.vScale,n))}configure(){const t=this.chart.config,n=t.datasetScopeKeys(this._type),r=t.getOptionScopes(this.getDataset(),n,!0);this.options=t.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,n){const{_cachedMeta:r,_data:i}=this,{iScale:s,_stacked:o}=r,a=s.axis;let l=t===0&&n===i.length?!0:r._sorted,u=t>0&&r._parsed[t-1],f,h,g;if(this._parsing===!1)r._parsed=i,r._sorted=!0,g=i;else{zn(i[t])?g=this.parseArrayData(r,i,t,n):Yt(i[t])?g=this.parseObjectData(r,i,t,n):g=this.parsePrimitiveData(r,i,t,n);const y=()=>h[a]===null||u&&h[a]<u[a];for(f=0;f<n;++f)r._parsed[f+t]=h=g[f],l&&(y()&&(l=!1),u=h);r._sorted=l}o&&R6(this,g)}parsePrimitiveData(t,n,r,i){const{iScale:s,vScale:o}=t,a=s.axis,l=o.axis,u=s.getLabels(),f=s===o,h=new Array(i);let g,y,b;for(g=0,y=i;g<y;++g)b=g+r,h[g]={[a]:f||s.parse(u[b],b),[l]:o.parse(n[b],b)};return h}parseArrayData(t,n,r,i){const{xScale:s,yScale:o}=t,a=new Array(i);let l,u,f,h;for(l=0,u=i;l<u;++l)f=l+r,h=n[f],a[l]={x:s.parse(h[0],f),y:o.parse(h[1],f)};return a}parseObjectData(t,n,r,i){const{xScale:s,yScale:o}=t,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,u=new Array(i);let f,h,g,y;for(f=0,h=i;f<h;++f)g=f+r,y=n[g],u[f]={x:s.parse(nl(y,a),g),y:o.parse(nl(y,l),g)};return u}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,n,r){const i=this.chart,s=this._cachedMeta,o=n[t.axis],a={keys:kT(i,!0),values:n._stacks[t.axis]._visualValues};return I6(a,o,s.index,{mode:r})}updateRangeFromParsed(t,n,r,i){const s=r[n.axis];let o=s===null?NaN:s;const a=i&&r._stacks[n.axis];i&&a&&(i.values=a,o=I6(i,s,this._cachedMeta.index)),t.min=Math.min(t.min,o),t.max=Math.max(t.max,o)}getMinMax(t,n){const r=this._cachedMeta,i=r._parsed,s=r._sorted&&t===r.iScale,o=i.length,a=this._getOtherScale(t),l=GV(n,r,this.chart),u={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:f,max:h}=qV(a);let g,y;function b(){y=i[g];const _=y[a.axis];return!Kn(y[t.axis])||f>_||h<_}for(g=0;g<o&&!(!b()&&(this.updateRangeFromParsed(u,t,y,l),s));++g);if(s){for(g=o-1;g>=0;--g)if(!b()){this.updateRangeFromParsed(u,t,y,l);break}}return u}getAllParsedValues(t){const n=this._cachedMeta._parsed,r=[];let i,s,o;for(i=0,s=n.length;i<s;++i)o=n[i][t.axis],Kn(o)&&r.push(o);return r}getMaxOverflow(){return!1}getLabelAndValue(t){const n=this._cachedMeta,r=n.iScale,i=n.vScale,s=this.getParsed(t);return{label:r?""+r.getLabelForValue(s[r.axis]):"",value:i?""+i.getLabelForValue(s[i.axis]):""}}_update(t){const n=this._cachedMeta;this.update(t||"default"),n._clip=UV(Ct(this.options.clip,$V(n.xScale,n.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,n=this.chart,r=this._cachedMeta,i=r.data||[],s=n.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||i.length-a,u=this.options.drawActiveElementsOnTop;let f;for(r.dataset&&r.dataset.draw(t,s,a,l),f=a;f<a+l;++f){const h=i[f];h.hidden||(h.active&&u?o.push(h):h.draw(t,s))}for(f=0;f<o.length;++f)o[f].draw(t,s)}getStyle(t,n){const r=n?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(t||0,r)}getContext(t,n,r){const i=this.getDataset();let s;if(t>=0&&t<this._cachedMeta.data.length){const o=this._cachedMeta.data[t];s=o.$context||(o.$context=KV(this.getContext(),t,o)),s.parsed=this.getParsed(t),s.raw=i.data[t],s.index=s.dataIndex=t}else s=this.$context||(this.$context=VV(this.chart.getContext(),this.index)),s.dataset=i,s.index=s.datasetIndex=this.index;return s.active=!!n,s.mode=r,s}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,n){return this._resolveElementOptions(this.dataElementType.id,n,t)}_resolveElementOptions(t,n="default",r){const i=n==="active",s=this._cachedDataOpts,o=t+"-"+n,a=s[o],l=this.enableOptionSharing&&kh(r);if(a)return O6(a,l);const u=this.chart.config,f=u.datasetElementScopeKeys(this._type,t),h=i?[`${t}Hover`,"hover",t,""]:[t,""],g=u.getOptionScopes(this.getDataset(),f),y=Object.keys($n.elements[t]),b=()=>this.getContext(r,i,n),_=u.resolveNamedOptions(g,y,b,h);return _.$shared&&(_.$shared=l,s[o]=Object.freeze(O6(_,l))),_}_resolveAnimations(t,n,r){const i=this.chart,s=this._cachedDataOpts,o=`animation-${n}`,a=s[o];if(a)return a;let l;if(i.options.animation!==!1){const f=this.chart.config,h=f.datasetAnimationScopeKeys(this._type,n),g=f.getOptionScopes(this.getDataset(),h);l=f.createResolver(g,this.getContext(t,r,n))}const u=new ET(i,l&&l.animations);return l&&l._cacheable&&(s[o]=Object.freeze(u)),u}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,n){return!n||ex(t)||this.chart._animationsDisabled}_getSharedOptions(t,n){const r=this.resolveDataElementOptions(t,n),i=this._sharedOptions,s=this.getSharedOptions(r),o=this.includeOptions(n,s)||s!==i;return this.updateSharedOptions(s,n,r),{sharedOptions:s,includeOptions:o}}updateElement(t,n,r,i){ex(i)?Object.assign(t,r):this._resolveAnimations(n,i).update(t,r)}updateSharedOptions(t,n,r){t&&!ex(n)&&this._resolveAnimations(void 0,n).update(t,r)}_setStyle(t,n,r,i){t.active=i;const s=this.getStyle(n,i);this._resolveAnimations(n,r,i).update(t,{options:!i&&this.getSharedOptions(s)||s})}removeHoverStyle(t,n,r){this._setStyle(t,r,"active",!1)}setHoverStyle(t,n,r){this._setStyle(t,r,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const n=this._data,r=this._cachedMeta.data;for(const[a,l,u]of this._syncList)this[a](l,u);this._syncList=[];const i=r.length,s=n.length,o=Math.min(s,i);o&&this.parse(0,o),s>i?this._insertElements(i,s-i,t):s<i&&this._removeElements(s,i-s)}_insertElements(t,n,r=!0){const i=this._cachedMeta,s=i.data,o=t+n;let a;const l=u=>{for(u.length+=n,a=u.length-1;a>=o;a--)u[a]=u[a-n]};for(l(s),a=t;a<o;++a)s[a]=new this.dataElementType;this._parsing&&l(i._parsed),this.parse(t,n),r&&this.updateElements(s,t,n,"reset")}updateElements(t,n,r,i){}_removeElements(t,n){const r=this._cachedMeta;if(this._parsing){const i=r._parsed.splice(t,n);r._stacked&&Cf(r,i)}r.data.splice(t,n)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[n,r,i]=t;this[n](r,i)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,n){n&&this._sync(["_removeElements",t,n]);const r=arguments.length-2;r&&this._sync(["_insertElements",t,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function YV(e,t){if(!e._cache.$bar){const n=e.getMatchingVisibleMetas(t);let r=[];for(let i=0,s=n.length;i<s;i++)r=r.concat(n[i].controller.getAllParsedValues(e));e._cache.$bar=iT(r.sort((i,s)=>i-s))}return e._cache.$bar}function XV(e){const t=e.iScale,n=YV(t,e.type);let r=t._length,i,s,o,a;const l=()=>{o===32767||o===-32768||(kh(a)&&(r=Math.min(r,Math.abs(o-a)||r)),a=o)};for(i=0,s=n.length;i<s;++i)o=t.getPixelForValue(n[i]),l();for(a=void 0,i=0,s=t.ticks.length;i<s;++i)o=t.getPixelForTick(i),l();return r}function JV(e,t,n,r){const i=n.barThickness;let s,o;return Gt(i)?(s=t.min*n.categoryPercentage,o=n.barPercentage):(s=i*r,o=1),{chunk:s/r,ratio:o,start:t.pixels[e]-s/2}}function ZV(e,t,n,r){const i=t.pixels,s=i[e];let o=e>0?i[e-1]:null,a=e<i.length-1?i[e+1]:null;const l=n.categoryPercentage;o===null&&(o=s-(a===null?t.end-t.start:a-s)),a===null&&(a=s+s-o);const u=s-(s-Math.min(o,a))/2*l;return{chunk:Math.abs(a-o)/2*l/r,ratio:n.barPercentage,start:u}}function eK(e,t,n,r){const i=n.parse(e[0],r),s=n.parse(e[1],r),o=Math.min(i,s),a=Math.max(i,s);let l=o,u=a;Math.abs(o)>Math.abs(a)&&(l=a,u=o),t[n.axis]=u,t._custom={barStart:l,barEnd:u,start:i,end:s,min:o,max:a}}function CT(e,t,n,r){return zn(e)?eK(e,t,n,r):t[n.axis]=n.parse(e,r),t}function A6(e,t,n,r){const i=e.iScale,s=e.vScale,o=i.getLabels(),a=i===s,l=[];let u,f,h,g;for(u=n,f=n+r;u<f;++u)g=t[u],h={},h[i.axis]=a||i.parse(o[u],u),l.push(CT(g,h,s,u));return l}function tx(e){return e&&e.barStart!==void 0&&e.barEnd!==void 0}function tK(e,t,n){return e!==0?ao(e):(t.isHorizontal()?1:-1)*(t.min>=n?1:-1)}function nK(e){let t,n,r,i,s;return e.horizontal?(t=e.base>e.x,n="left",r="right"):(t=e.base<e.y,n="bottom",r="top"),t?(i="end",s="start"):(i="start",s="end"),{start:n,end:r,reverse:t,top:i,bottom:s}}function rK(e,t,n,r){let i=t.borderSkipped;const s={};if(!i){e.borderSkipped=s;return}if(i===!0){e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:a,reverse:l,top:u,bottom:f}=nK(e);i==="middle"&&n&&(e.enableBorderRadius=!0,(n._top||0)===r?i=u:(n._bottom||0)===r?i=f:(s[M6(f,o,a,l)]=!0,i=u)),s[M6(i,o,a,l)]=!0,e.borderSkipped=s}function M6(e,t,n,r){return r?(e=iK(e,t,n),e=D6(e,n,t)):e=D6(e,t,n),e}function iK(e,t,n){return e===t?n:e===n?t:e}function D6(e,t,n){return e==="start"?t:e==="end"?n:e}function sK(e,{inflateAmount:t},n){e.inflateAmount=t==="auto"?n===1?.33:0:t}class TT extends pl{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(t,n,r,i){return A6(t,n,r,i)}parseArrayData(t,n,r,i){return A6(t,n,r,i)}parseObjectData(t,n,r,i){const{iScale:s,vScale:o}=t,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,u=s.axis==="x"?a:l,f=o.axis==="x"?a:l,h=[];let g,y,b,_;for(g=r,y=r+i;g<y;++g)_=n[g],b={},b[s.axis]=s.parse(nl(_,u),g),h.push(CT(nl(_,f),b,o,g));return h}updateRangeFromParsed(t,n,r,i){super.updateRangeFromParsed(t,n,r,i);const s=r._custom;s&&n===this._cachedMeta.vScale&&(t.min=Math.min(t.min,s.min),t.max=Math.max(t.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const n=this._cachedMeta,{iScale:r,vScale:i}=n,s=this.getParsed(t),o=s._custom,a=tx(o)?"["+o.start+", "+o.end+"]":""+i.getLabelForValue(s[i.axis]);return{label:""+r.getLabelForValue(s[r.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,t)}updateElements(t,n,r,i){const s=i==="reset",{index:o,_cachedMeta:{vScale:a}}=this,l=a.getBasePixel(),u=a.isHorizontal(),f=this._getRuler(),{sharedOptions:h,includeOptions:g}=this._getSharedOptions(n,i);for(let y=n;y<n+r;y++){const b=this.getParsed(y),_=s||Gt(b[a.axis])?{base:l,head:l}:this._calculateBarValuePixels(y),E=this._calculateBarIndexPixels(y,f),C=(b._stacks||{})[a.axis],P={horizontal:u,base:_.base,enableBorderRadius:!C||tx(b._custom)||o===C._top||o===C._bottom,x:u?_.head:E.center,y:u?E.center:_.head,height:u?E.size:Math.abs(_.size),width:u?Math.abs(_.size):E.size};g&&(P.options=h||this.resolveDataElementOptions(y,t[y].active?"active":i));const O=P.options||t[y].options;rK(P,O,C,o),sK(P,O,f.ratio),this.updateElement(t[y],y,P,i)}}_getStacks(t,n){const{iScale:r}=this._cachedMeta,i=r.getMatchingVisibleMetas(this._type).filter(f=>f.controller.options.grouped),s=r.options.stacked,o=[],a=this._cachedMeta.controller.getParsed(n),l=a&&a[r.axis],u=f=>{const h=f._parsed.find(y=>y[r.axis]===l),g=h&&h[f.vScale.axis];if(Gt(g)||isNaN(g))return!0};for(const f of i)if(!(n!==void 0&&u(f))&&((s===!1||o.indexOf(f.stack)===-1||s===void 0&&f.stack===void 0)&&o.push(f.stack),f.index===t))break;return o.length||o.push(void 0),o}_getStackCount(t){return this._getStacks(void 0,t).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const t=this.chart.scales,n=this.chart.options.indexAxis;return Object.keys(t).filter(r=>t[r].axis===n).shift()}_getAxis(){const t={},n=this.getFirstScaleIdForIndexAxis();for(const r of this.chart.data.datasets)t[Ct(this.chart.options.indexAxis==="x"?r.xAxisID:r.yAxisID,n)]=!0;return Object.keys(t)}_getStackIndex(t,n,r){const i=this._getStacks(t,r),s=n!==void 0?i.indexOf(n):-1;return s===-1?i.length-1:s}_getRuler(){const t=this.options,n=this._cachedMeta,r=n.iScale,i=[];let s,o;for(s=0,o=n.data.length;s<o;++s)i.push(r.getPixelForValue(this.getParsed(s)[r.axis],s));const a=t.barThickness;return{min:a||XV(n),pixels:i,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:t.grouped,ratio:a?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:n,_stacked:r,index:i},options:{base:s,minBarLength:o}}=this,a=s||0,l=this.getParsed(t),u=l._custom,f=tx(u);let h=l[n.axis],g=0,y=r?this.applyStack(n,l,r):h,b,_;y!==h&&(g=y-h,y=h),f&&(h=u.barStart,y=u.barEnd-u.barStart,h!==0&&ao(h)!==ao(u.barEnd)&&(g=0),g+=h);const E=!Gt(s)&&!f?s:g;let C=n.getPixelForValue(E);if(this.chart.getDataVisibility(t)?b=n.getPixelForValue(g+y):b=C,_=b-C,Math.abs(_)<o){_=tK(_,n,a)*o,h===a&&(C-=_/2);const P=n.getPixelForDecimal(0),O=n.getPixelForDecimal(1),z=Math.min(P,O),B=Math.max(P,O);C=Math.max(Math.min(C,B),z),b=C+_,r&&!f&&(l._stacks[n.axis]._visualValues[i]=n.getValueForPixel(b)-n.getValueForPixel(C))}if(C===n.getPixelForValue(a)){const P=ao(_)*n.getLineWidthForValue(a)/2;C+=P,_-=P}return{size:_,base:C,head:b,center:b+_/2}}_calculateBarIndexPixels(t,n){const r=n.scale,i=this.options,s=i.skipNull,o=Ct(i.maxBarThickness,1/0);let a,l;const u=this._getAxisCount();if(n.grouped){const f=s?this._getStackCount(t):n.stackCount,h=i.barThickness==="flex"?ZV(t,n,i,f*u):JV(t,n,i,f*u),g=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,y=this._getAxis().indexOf(Ct(g,this.getFirstScaleIdForIndexAxis())),b=this._getStackIndex(this.index,this._cachedMeta.stack,s?t:void 0)+y;a=h.start+h.chunk*b+h.chunk/2,l=Math.min(o,h.chunk*h.ratio)}else a=r.getPixelForValue(this.getParsed(t)[r.axis],t),l=Math.min(o,n.min*n.ratio);return{base:a-l/2,head:a+l/2,center:a,size:l}}draw(){const t=this._cachedMeta,n=t.vScale,r=t.data,i=r.length;let s=0;for(;s<i;++s)this.getParsed(s)[n.axis]!==null&&!r[s].hidden&&r[s].draw(this._ctx)}}class oK extends pl{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,n,r,i){const s=super.parsePrimitiveData(t,n,r,i);for(let o=0;o<s.length;o++)s[o]._custom=this.resolveDataElementOptions(o+r).radius;return s}parseArrayData(t,n,r,i){const s=super.parseArrayData(t,n,r,i);for(let o=0;o<s.length;o++){const a=n[r+o];s[o]._custom=Ct(a[2],this.resolveDataElementOptions(o+r).radius)}return s}parseObjectData(t,n,r,i){const s=super.parseObjectData(t,n,r,i);for(let o=0;o<s.length;o++){const a=n[r+o];s[o]._custom=Ct(a&&a.r&&+a.r,this.resolveDataElementOptions(o+r).radius)}return s}getMaxOverflow(){const t=this._cachedMeta.data;let n=0;for(let r=t.length-1;r>=0;--r)n=Math.max(n,t[r].size(this.resolveDataElementOptions(r))/2);return n>0&&n}getLabelAndValue(t){const n=this._cachedMeta,r=this.chart.data.labels||[],{xScale:i,yScale:s}=n,o=this.getParsed(t),a=i.getLabelForValue(o.x),l=s.getLabelForValue(o.y),u=o._custom;return{label:r[t]||"",value:"("+a+", "+l+(u?", "+u:"")+")"}}update(t){const n=this._cachedMeta.data;this.updateElements(n,0,n.length,t)}updateElements(t,n,r,i){const s=i==="reset",{iScale:o,vScale:a}=this._cachedMeta,{sharedOptions:l,includeOptions:u}=this._getSharedOptions(n,i),f=o.axis,h=a.axis;for(let g=n;g<n+r;g++){const y=t[g],b=!s&&this.getParsed(g),_={},E=_[f]=s?o.getPixelForDecimal(.5):o.getPixelForValue(b[f]),C=_[h]=s?a.getBasePixel():a.getPixelForValue(b[h]);_.skip=isNaN(E)||isNaN(C),u&&(_.options=l||this.resolveDataElementOptions(g,y.active?"active":i),s&&(_.options.radius=0)),this.updateElement(y,g,_,i)}}resolveDataElementOptions(t,n){const r=this.getParsed(t);let i=super.resolveDataElementOptions(t,n);i.$shared&&(i=Object.assign({},i,{$shared:!1}));const s=i.radius;return n!=="active"&&(i.radius=0),i.radius+=Ct(r&&r._custom,s),i}}function aK(e,t,n){let r=1,i=1,s=0,o=0;if(t<An){const a=e,l=a+t,u=Math.cos(a),f=Math.sin(a),h=Math.cos(l),g=Math.sin(l),y=(O,z,B)=>Ch(O,a,l,!0)?1:Math.max(z,z*n,B,B*n),b=(O,z,B)=>Ch(O,a,l,!0)?-1:Math.min(z,z*n,B,B*n),_=y(0,u,h),E=y(Zn,f,g),C=b(dn,u,h),P=b(dn+Zn,f,g);r=(_-C)/2,i=(E-P)/2,s=-(_+C)/2,o=-(E+P)/2}return{ratioX:r,ratioY:i,offsetX:s,offsetY:o}}class v1 extends pl{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const n=t.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:r,color:i}}=t.legend.options;return n.labels.map((s,o)=>{const l=t.getDatasetMeta(0).controller.getStyle(o);return{text:s,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:i,lineWidth:l.borderWidth,pointStyle:r,hidden:!t.getDataVisibility(o),index:o}})}return[]}},onClick(t,n,r){r.chart.toggleDataVisibility(n.index),r.chart.update()}}}};constructor(t,n){super(t,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,n){const r=this.getDataset().data,i=this._cachedMeta;if(this._parsing===!1)i._parsed=r;else{let s=l=>+r[l];if(Yt(r[t])){const{key:l="value"}=this._parsing;s=u=>+nl(r[u],l)}let o,a;for(o=t,a=t+n;o<a;++o)i._parsed[o]=s(o)}}_getRotation(){return Bs(this.options.rotation-90)}_getCircumference(){return Bs(this.options.circumference)}_getRotationExtents(){let t=An,n=-An;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){const i=this.chart.getDatasetMeta(r).controller,s=i._getRotation(),o=i._getCircumference();t=Math.min(t,s),n=Math.max(n,s+o)}return{rotation:t,circumference:n-t}}update(t){const n=this.chart,{chartArea:r}=n,i=this._cachedMeta,s=i.data,o=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,a=Math.max((Math.min(r.width,r.height)-o)/2,0),l=Math.min(vQ(this.options.cutout,a),1),u=this._getRingWeight(this.index),{circumference:f,rotation:h}=this._getRotationExtents(),{ratioX:g,ratioY:y,offsetX:b,offsetY:_}=aK(h,f,l),E=(r.width-o)/g,C=(r.height-o)/y,P=Math.max(Math.min(E,C)/2,0),O=Z9(this.options.radius,P),z=Math.max(O*l,0),B=(O-z)/this._getVisibleDatasetWeightTotal();this.offsetX=b*O,this.offsetY=_*O,i.total=this.calculateTotal(),this.outerRadius=O-B*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-B*u,0),this.updateElements(s,0,s.length,t)}_circumference(t,n){const r=this.options,i=this._cachedMeta,s=this._getCircumference();return n&&r.animation.animateRotate||!this.chart.getDataVisibility(t)||i._parsed[t]===null||i.data[t].hidden?0:this.calculateCircumference(i._parsed[t]*s/An)}updateElements(t,n,r,i){const s=i==="reset",o=this.chart,a=o.chartArea,u=o.options.animation,f=(a.left+a.right)/2,h=(a.top+a.bottom)/2,g=s&&u.animateScale,y=g?0:this.innerRadius,b=g?0:this.outerRadius,{sharedOptions:_,includeOptions:E}=this._getSharedOptions(n,i);let C=this._getRotation(),P;for(P=0;P<n;++P)C+=this._circumference(P,s);for(P=n;P<n+r;++P){const O=this._circumference(P,s),z=t[P],B={x:f+this.offsetX,y:h+this.offsetY,startAngle:C,endAngle:C+O,circumference:O,outerRadius:b,innerRadius:y};E&&(B.options=_||this.resolveDataElementOptions(P,z.active?"active":i)),C+=O,this.updateElement(z,P,B,i)}}calculateTotal(){const t=this._cachedMeta,n=t.data;let r=0,i;for(i=0;i<n.length;i++){const s=t._parsed[i];s!==null&&!isNaN(s)&&this.chart.getDataVisibility(i)&&!n[i].hidden&&(r+=Math.abs(s))}return r}calculateCircumference(t){const n=this._cachedMeta.total;return n>0&&!isNaN(t)?An*(Math.abs(t)/n):0}getLabelAndValue(t){const n=this._cachedMeta,r=this.chart,i=r.data.labels||[],s=Zh(n._parsed[t],r.options.locale);return{label:i[t]||"",value:s}}getMaxBorderWidth(t){let n=0;const r=this.chart;let i,s,o,a,l;if(!t){for(i=0,s=r.data.datasets.length;i<s;++i)if(r.isDatasetVisible(i)){o=r.getDatasetMeta(i),t=o.data,a=o.controller;break}}if(!t)return 0;for(i=0,s=t.length;i<s;++i)l=a.resolveDataElementOptions(i),l.borderAlign!=="inner"&&(n=Math.max(n,l.borderWidth||0,l.hoverBorderWidth||0));return n}getMaxOffset(t){let n=0;for(let r=0,i=t.length;r<i;++r){const s=this.resolveDataElementOptions(r);n=Math.max(n,s.offset||0,s.hoverOffset||0)}return n}_getRingWeightOffset(t){let n=0;for(let r=0;r<t;++r)this.chart.isDatasetVisible(r)&&(n+=this._getRingWeight(r));return n}_getRingWeight(t){return Math.max(Ct(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class lK extends pl{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const n=this._cachedMeta,{dataset:r,data:i=[],_dataset:s}=n,o=this.chart._animationsDisabled;let{start:a,count:l}=aT(n,i,o);this._drawStart=a,this._drawCount=l,lT(n)&&(a=0,l=i.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!s._decimated,r.points=i;const u=this.resolveDatasetElementOptions(t);this.options.showLine||(u.borderWidth=0),u.segment=this.options.segment,this.updateElement(r,void 0,{animated:!o,options:u},t),this.updateElements(i,a,l,t)}updateElements(t,n,r,i){const s=i==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:u}=this._cachedMeta,{sharedOptions:f,includeOptions:h}=this._getSharedOptions(n,i),g=o.axis,y=a.axis,{spanGaps:b,segment:_}=this.options,E=Sc(b)?b:Number.POSITIVE_INFINITY,C=this.chart._animationsDisabled||s||i==="none",P=n+r,O=t.length;let z=n>0&&this.getParsed(n-1);for(let B=0;B<O;++B){const j=t[B],M=C?j:{};if(B<n||B>=P){M.skip=!0;continue}const U=this.getParsed(B),$=Gt(U[y]),D=M[g]=o.getPixelForValue(U[g],B),ee=M[y]=s||$?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,U,l):U[y],B);M.skip=isNaN(D)||isNaN(ee)||$,M.stop=B>0&&Math.abs(U[g]-z[g])>E,_&&(M.parsed=U,M.raw=u.data[B]),h&&(M.options=f||this.resolveDataElementOptions(B,j.active?"active":i)),C||this.updateElement(j,B,M,i),z=U}}getMaxOverflow(){const t=this._cachedMeta,n=t.dataset,r=n.options&&n.options.borderWidth||0,i=t.data||[];if(!i.length)return r;const s=i[0].size(this.resolveDataElementOptions(0)),o=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(r,s,o)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}class jT extends pl{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const n=t.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:r,color:i}}=t.legend.options;return n.labels.map((s,o)=>{const l=t.getDatasetMeta(0).controller.getStyle(o);return{text:s,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:i,lineWidth:l.borderWidth,pointStyle:r,hidden:!t.getDataVisibility(o),index:o}})}return[]}},onClick(t,n,r){r.chart.toggleDataVisibility(n.index),r.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(t,n){super(t,n),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const n=this._cachedMeta,r=this.chart,i=r.data.labels||[],s=Zh(n._parsed[t].r,r.options.locale);return{label:i[t]||"",value:s}}parseObjectData(t,n,r,i){return gT.bind(this)(t,n,r,i)}update(t){const n=this._cachedMeta.data;this._updateRadius(),this.updateElements(n,0,n.length,t)}getMinMax(){const t=this._cachedMeta,n={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach((r,i)=>{const s=this.getParsed(i).r;!isNaN(s)&&this.chart.getDataVisibility(i)&&(s<n.min&&(n.min=s),s>n.max&&(n.max=s))}),n}_updateRadius(){const t=this.chart,n=t.chartArea,r=t.options,i=Math.min(n.right-n.left,n.bottom-n.top),s=Math.max(i/2,0),o=Math.max(r.cutoutPercentage?s/100*r.cutoutPercentage:1,0),a=(s-o)/t.getVisibleDatasetCount();this.outerRadius=s-a*this.index,this.innerRadius=this.outerRadius-a}updateElements(t,n,r,i){const s=i==="reset",o=this.chart,l=o.options.animation,u=this._cachedMeta.rScale,f=u.xCenter,h=u.yCenter,g=u.getIndexAngle(0)-.5*dn;let y=g,b;const _=360/this.countVisibleElements();for(b=0;b<n;++b)y+=this._computeAngle(b,i,_);for(b=n;b<n+r;b++){const E=t[b];let C=y,P=y+this._computeAngle(b,i,_),O=o.getDataVisibility(b)?u.getDistanceFromCenterForValue(this.getParsed(b).r):0;y=P,s&&(l.animateScale&&(O=0),l.animateRotate&&(C=P=g));const z={x:f,y:h,innerRadius:0,outerRadius:O,startAngle:C,endAngle:P,options:this.resolveDataElementOptions(b,E.active?"active":i)};this.updateElement(E,b,z,i)}}countVisibleElements(){const t=this._cachedMeta;let n=0;return t.data.forEach((r,i)=>{!isNaN(this.getParsed(i).r)&&this.chart.getDataVisibility(i)&&n++}),n}_computeAngle(t,n,r){return this.chart.getDataVisibility(t)?Bs(this.resolveDataElementOptions(t,n).angle||r):0}}class cK extends v1{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}class NT extends pl{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(t){const n=this._cachedMeta.vScale,r=this.getParsed(t);return{label:n.getLabels()[t],value:""+n.getLabelForValue(r[n.axis])}}parseObjectData(t,n,r,i){return gT.bind(this)(t,n,r,i)}update(t){const n=this._cachedMeta,r=n.dataset,i=n.data||[],s=n.iScale.getLabels();if(r.points=i,t!=="resize"){const o=this.resolveDatasetElementOptions(t);this.options.showLine||(o.borderWidth=0);const a={_loop:!0,_fullLoop:s.length===i.length,options:o};this.updateElement(r,void 0,a,t)}this.updateElements(i,0,i.length,t)}updateElements(t,n,r,i){const s=this._cachedMeta.rScale,o=i==="reset";for(let a=n;a<n+r;a++){const l=t[a],u=this.resolveDataElementOptions(a,l.active?"active":i),f=s.getPointPositionForValue(a,this.getParsed(a).r),h=o?s.xCenter:f.x,g=o?s.yCenter:f.y,y={x:h,y:g,angle:f.angle,skip:isNaN(h)||isNaN(g),options:u};this.updateElement(l,a,y,i)}}}class uK extends pl{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(t){const n=this._cachedMeta,r=this.chart.data.labels||[],{xScale:i,yScale:s}=n,o=this.getParsed(t),a=i.getLabelForValue(o.x),l=s.getLabelForValue(o.y);return{label:r[t]||"",value:"("+a+", "+l+")"}}update(t){const n=this._cachedMeta,{data:r=[]}=n,i=this.chart._animationsDisabled;let{start:s,count:o}=aT(n,r,i);if(this._drawStart=s,this._drawCount=o,lT(n)&&(s=0,o=r.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:a,_dataset:l}=n;a._chart=this.chart,a._datasetIndex=this.index,a._decimated=!!l._decimated,a.points=r;const u=this.resolveDatasetElementOptions(t);u.segment=this.options.segment,this.updateElement(a,void 0,{animated:!i,options:u},t)}else this.datasetElementType&&(delete n.dataset,this.datasetElementType=!1);this.updateElements(r,s,o,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,n,r,i){const s=i==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:u}=this._cachedMeta,f=this.resolveDataElementOptions(n,i),h=this.getSharedOptions(f),g=this.includeOptions(i,h),y=o.axis,b=a.axis,{spanGaps:_,segment:E}=this.options,C=Sc(_)?_:Number.POSITIVE_INFINITY,P=this.chart._animationsDisabled||s||i==="none";let O=n>0&&this.getParsed(n-1);for(let z=n;z<n+r;++z){const B=t[z],j=this.getParsed(z),M=P?B:{},U=Gt(j[b]),$=M[y]=o.getPixelForValue(j[y],z),D=M[b]=s||U?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,j,l):j[b],z);M.skip=isNaN($)||isNaN(D)||U,M.stop=z>0&&Math.abs(j[y]-O[y])>C,E&&(M.parsed=j,M.raw=u.data[z]),g&&(M.options=h||this.resolveDataElementOptions(z,B.active?"active":i)),P||this.updateElement(B,z,M,i),O=j}this.updateSharedOptions(h,i,f)}getMaxOverflow(){const t=this._cachedMeta,n=t.data||[];if(!this.options.showLine){let a=0;for(let l=n.length-1;l>=0;--l)a=Math.max(a,n[l].size(this.resolveDataElementOptions(l))/2);return a>0&&a}const r=t.dataset,i=r.options&&r.options.borderWidth||0;if(!n.length)return i;const s=n[0].size(this.resolveDataElementOptions(0)),o=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(i,s,o)/2}}var dK=Object.freeze({__proto__:null,BarController:TT,BubbleController:oK,DoughnutController:v1,LineController:lK,PieController:cK,PolarAreaController:jT,RadarController:NT,ScatterController:uK});function Kl(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Xw{static override(t){Object.assign(Xw.prototype,t)}options;constructor(t){this.options=t||{}}init(){}formats(){return Kl()}parse(){return Kl()}format(){return Kl()}add(){return Kl()}diff(){return Kl()}startOf(){return Kl()}endOf(){return Kl()}}var fK={_date:Xw};function hK(e,t,n,r){const{controller:i,data:s,_sorted:o}=e,a=i._cachedMeta.iScale,l=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(a&&t===a.axis&&t!=="r"&&o&&s.length){const u=a._reversePixels?PQ:Qo;if(r){if(i._sharedOptions){const f=s[0],h=typeof f.getRange=="function"&&f.getRange(t);if(h){const g=u(s,t,n-h),y=u(s,t,n+h);return{lo:g.lo,hi:y.hi}}}}else{const f=u(s,t,n);if(l){const{vScale:h}=i._cachedMeta,{_parsed:g}=e,y=g.slice(0,f.lo+1).reverse().findIndex(_=>!Gt(_[h.axis]));f.lo-=Math.max(0,y);const b=g.slice(f.hi).findIndex(_=>!Gt(_[h.axis]));f.hi+=Math.max(0,b)}return f}}return{lo:0,hi:s.length-1}}function x1(e,t,n,r,i){const s=e.getSortedVisibleDatasetMetas(),o=n[t];for(let a=0,l=s.length;a<l;++a){const{index:u,data:f}=s[a],{lo:h,hi:g}=hK(s[a],t,o,i);for(let y=h;y<=g;++y){const b=f[y];b.skip||r(b,u,y)}}}function pK(e){const t=e.indexOf("x")!==-1,n=e.indexOf("y")!==-1;return function(r,i){const s=t?Math.abs(r.x-i.x):0,o=n?Math.abs(r.y-i.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(o,2))}}function nx(e,t,n,r,i){const s=[];return!i&&!e.isPointInArea(t)||x1(e,n,t,function(a,l,u){!i&&!Vo(a,e.chartArea,0)||a.inRange(t.x,t.y,r)&&s.push({element:a,datasetIndex:l,index:u})},!0),s}function mK(e,t,n,r){let i=[];function s(o,a,l){const{startAngle:u,endAngle:f}=o.getProps(["startAngle","endAngle"],r),{angle:h}=nT(o,{x:t.x,y:t.y});Ch(h,u,f)&&i.push({element:o,datasetIndex:a,index:l})}return x1(e,n,t,s),i}function gK(e,t,n,r,i,s){let o=[];const a=pK(n);let l=Number.POSITIVE_INFINITY;function u(f,h,g){const y=f.inRange(t.x,t.y,i);if(r&&!y)return;const b=f.getCenterPoint(i);if(!(!!s||e.isPointInArea(b))&&!y)return;const E=a(t,b);E<l?(o=[{element:f,datasetIndex:h,index:g}],l=E):E===l&&o.push({element:f,datasetIndex:h,index:g})}return x1(e,n,t,u),o}function rx(e,t,n,r,i,s){return!s&&!e.isPointInArea(t)?[]:n==="r"&&!r?mK(e,t,n,i):gK(e,t,n,r,i,s)}function L6(e,t,n,r,i){const s=[],o=n==="x"?"inXRange":"inYRange";let a=!1;return x1(e,n,t,(l,u,f)=>{l[o]&&l[o](t[n],i)&&(s.push({element:l,datasetIndex:u,index:f}),a=a||l.inRange(t.x,t.y,i))}),r&&!a?[]:s}var yK={modes:{index(e,t,n,r){const i=tc(t,e),s=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?nx(e,i,s,r,o):rx(e,i,s,!1,r,o),l=[];return a.length?(e.getSortedVisibleDatasetMetas().forEach(u=>{const f=a[0].index,h=u.data[f];h&&!h.skip&&l.push({element:h,datasetIndex:u.index,index:f})}),l):[]},dataset(e,t,n,r){const i=tc(t,e),s=n.axis||"xy",o=n.includeInvisible||!1;let a=n.intersect?nx(e,i,s,r,o):rx(e,i,s,!1,r,o);if(a.length>0){const l=a[0].datasetIndex,u=e.getDatasetMeta(l).data;a=[];for(let f=0;f<u.length;++f)a.push({element:u[f],datasetIndex:l,index:f})}return a},point(e,t,n,r){const i=tc(t,e),s=n.axis||"xy",o=n.includeInvisible||!1;return nx(e,i,s,r,o)},nearest(e,t,n,r){const i=tc(t,e),s=n.axis||"xy",o=n.includeInvisible||!1;return rx(e,i,s,n.intersect,r,o)},x(e,t,n,r){const i=tc(t,e);return L6(e,i,"x",n.intersect,r)},y(e,t,n,r){const i=tc(t,e);return L6(e,i,"y",n.intersect,r)}}};const IT=["left","top","right","bottom"];function Tf(e,t){return e.filter(n=>n.pos===t)}function F6(e,t){return e.filter(n=>IT.indexOf(n.pos)===-1&&n.box.axis===t)}function jf(e,t){return e.sort((n,r)=>{const i=t?r:n,s=t?n:r;return i.weight===s.weight?i.index-s.index:i.weight-s.weight})}function vK(e){const t=[];let n,r,i,s,o,a;for(n=0,r=(e||[]).length;n<r;++n)i=e[n],{position:s,options:{stack:o,stackWeight:a=1}}=i,t.push({index:n,box:i,pos:s,horizontal:i.isHorizontal(),weight:i.weight,stack:o&&s+o,stackWeight:a});return t}function xK(e){const t={};for(const n of e){const{stack:r,pos:i,stackWeight:s}=n;if(!r||!IT.includes(i))continue;const o=t[r]||(t[r]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=s}return t}function bK(e,t){const n=xK(e),{vBoxMaxWidth:r,hBoxMaxHeight:i}=t;let s,o,a;for(s=0,o=e.length;s<o;++s){a=e[s];const{fullSize:l}=a.box,u=n[a.stack],f=u&&a.stackWeight/u.weight;a.horizontal?(a.width=f?f*r:l&&t.availableWidth,a.height=i):(a.width=r,a.height=f?f*i:l&&t.availableHeight)}return n}function wK(e){const t=vK(e),n=jf(t.filter(u=>u.box.fullSize),!0),r=jf(Tf(t,"left"),!0),i=jf(Tf(t,"right")),s=jf(Tf(t,"top"),!0),o=jf(Tf(t,"bottom")),a=F6(t,"x"),l=F6(t,"y");return{fullSize:n,leftAndTop:r.concat(s),rightAndBottom:i.concat(l).concat(o).concat(a),chartArea:Tf(t,"chartArea"),vertical:r.concat(i).concat(l),horizontal:s.concat(o).concat(a)}}function B6(e,t,n,r){return Math.max(e[n],t[n])+Math.max(e[r],t[r])}function PT(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function _K(e,t,n,r){const{pos:i,box:s}=n,o=e.maxPadding;if(!Yt(i)){n.size&&(e[i]-=n.size);const h=r[n.stack]||{size:0,count:1};h.size=Math.max(h.size,n.horizontal?s.height:s.width),n.size=h.size/h.count,e[i]+=n.size}s.getPadding&&PT(o,s.getPadding());const a=Math.max(0,t.outerWidth-B6(o,e,"left","right")),l=Math.max(0,t.outerHeight-B6(o,e,"top","bottom")),u=a!==e.w,f=l!==e.h;return e.w=a,e.h=l,n.horizontal?{same:u,other:f}:{same:f,other:u}}function SK(e){const t=e.maxPadding;function n(r){const i=Math.max(t[r]-e[r],0);return e[r]+=i,i}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}function EK(e,t){const n=t.maxPadding;function r(i){const s={left:0,top:0,right:0,bottom:0};return i.forEach(o=>{s[o]=Math.max(t[o],n[o])}),s}return r(e?["left","right"]:["top","bottom"])}function Vf(e,t,n,r){const i=[];let s,o,a,l,u,f;for(s=0,o=e.length,u=0;s<o;++s){a=e[s],l=a.box,l.update(a.width||t.w,a.height||t.h,EK(a.horizontal,t));const{same:h,other:g}=_K(t,n,a,r);u|=h&&i.length,f=f||g,l.fullSize||i.push(a)}return u&&Vf(i,t,n,r)||f}function Zm(e,t,n,r,i){e.top=n,e.left=t,e.right=t+r,e.bottom=n+i,e.width=r,e.height=i}function z6(e,t,n,r){const i=n.padding;let{x:s,y:o}=t;for(const a of e){const l=a.box,u=r[a.stack]||{placed:0,weight:1},f=a.stackWeight/u.weight||1;if(a.horizontal){const h=t.w*f,g=u.size||l.height;kh(u.start)&&(o=u.start),l.fullSize?Zm(l,i.left,o,n.outerWidth-i.right-i.left,g):Zm(l,t.left+u.placed,o,h,g),u.start=o,u.placed+=h,o=l.bottom}else{const h=t.h*f,g=u.size||l.width;kh(u.start)&&(s=u.start),l.fullSize?Zm(l,s,i.top,g,n.outerHeight-i.bottom-i.top):Zm(l,s,t.top+u.placed,g,h),u.start=s,u.placed+=h,s=l.right}}t.x=s,t.y=o}var Wr={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(n){t.draw(n)}}]},e.boxes.push(t)},removeBox(e,t){const n=e.boxes?e.boxes.indexOf(t):-1;n!==-1&&e.boxes.splice(n,1)},configure(e,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},update(e,t,n,r){if(!e)return;const i=Qr(e.options.layout.padding),s=Math.max(t-i.width,0),o=Math.max(n-i.height,0),a=wK(e.boxes),l=a.vertical,u=a.horizontal;vn(e.boxes,_=>{typeof _.beforeLayout=="function"&&_.beforeLayout()});const f=l.reduce((_,E)=>E.box.options&&E.box.options.display===!1?_:_+1,0)||1,h=Object.freeze({outerWidth:t,outerHeight:n,padding:i,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/f,hBoxMaxHeight:o/2}),g=Object.assign({},i);PT(g,Qr(r));const y=Object.assign({maxPadding:g,w:s,h:o,x:i.left,y:i.top},i),b=bK(l.concat(u),h);Vf(a.fullSize,y,h,b),Vf(l,y,h,b),Vf(u,y,h,b)&&Vf(l,y,h,b),SK(y),z6(a.leftAndTop,y,h,b),y.x+=y.w,y.y+=y.h,z6(a.rightAndBottom,y,h,b),e.chartArea={left:y.left,top:y.top,right:y.left+y.w,bottom:y.top+y.h,height:y.h,width:y.w},vn(a.chartArea,_=>{const E=_.box;Object.assign(E,e.chartArea),E.update(y.w,y.h,{left:0,top:0,right:0,bottom:0})})}};class RT{acquireContext(t,n){}releaseContext(t){return!1}addEventListener(t,n,r){}removeEventListener(t,n,r){}getDevicePixelRatio(){return 1}getMaximumSize(t,n,r,i){return n=Math.max(0,n||t.width),r=r||t.height,{width:n,height:Math.max(0,i?Math.floor(n/i):r)}}isAttached(t){return!0}updateConfig(t){}}class kK extends RT{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const $g="$chartjs",CK={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},$6=e=>e===null||e==="";function TK(e,t){const n=e.style,r=e.getAttribute("height"),i=e.getAttribute("width");if(e[$g]={initial:{height:r,width:i,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",$6(i)){const s=E6(e,"width");s!==void 0&&(e.width=s)}if($6(r))if(e.style.height==="")e.height=e.width/(t||2);else{const s=E6(e,"height");s!==void 0&&(e.height=s)}return e}const OT=EV?{passive:!0}:!1;function jK(e,t,n){e&&e.addEventListener(t,n,OT)}function NK(e,t,n){e&&e.canvas&&e.canvas.removeEventListener(t,n,OT)}function IK(e,t){const n=CK[e.type]||e.type,{x:r,y:i}=tc(e,t);return{type:n,chart:t,native:e,x:r!==void 0?r:null,y:i!==void 0?i:null}}function T0(e,t){for(const n of e)if(n===t||n.contains(t))return!0}function PK(e,t,n){const r=e.canvas,i=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||T0(a.addedNodes,r),o=o&&!T0(a.removedNodes,r);o&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}function RK(e,t,n){const r=e.canvas,i=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||T0(a.removedNodes,r),o=o&&!T0(a.addedNodes,r);o&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}const jh=new Map;let U6=0;function AT(){const e=window.devicePixelRatio;e!==U6&&(U6=e,jh.forEach((t,n)=>{n.currentDevicePixelRatio!==e&&t()}))}function OK(e,t){jh.size||window.addEventListener("resize",AT),jh.set(e,t)}function AK(e){jh.delete(e),jh.size||window.removeEventListener("resize",AT)}function MK(e,t,n){const r=e.canvas,i=r&&Yw(r);if(!i)return;const s=oT((a,l)=>{const u=i.clientWidth;n(a,l),u<i.clientWidth&&n()},window),o=new ResizeObserver(a=>{const l=a[0],u=l.contentRect.width,f=l.contentRect.height;u===0&&f===0||s(u,f)});return o.observe(i),OK(e,s),o}function ix(e,t,n){n&&n.disconnect(),t==="resize"&&AK(e)}function DK(e,t,n){const r=e.canvas,i=oT(s=>{e.ctx!==null&&n(IK(s,e))},e);return jK(r,t,i),i}class LK extends RT{acquireContext(t,n){const r=t&&t.getContext&&t.getContext("2d");return r&&r.canvas===t?(TK(t,n),r):null}releaseContext(t){const n=t.canvas;if(!n[$g])return!1;const r=n[$g].initial;["height","width"].forEach(s=>{const o=r[s];Gt(o)?n.removeAttribute(s):n.setAttribute(s,o)});const i=r.style||{};return Object.keys(i).forEach(s=>{n.style[s]=i[s]}),n.width=n.width,delete n[$g],!0}addEventListener(t,n,r){this.removeEventListener(t,n);const i=t.$proxies||(t.$proxies={}),o={attach:PK,detach:RK,resize:MK}[n]||DK;i[n]=o(t,n,r)}removeEventListener(t,n){const r=t.$proxies||(t.$proxies={}),i=r[n];if(!i)return;({attach:ix,detach:ix,resize:ix}[n]||NK)(t,n,i),r[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,n,r,i){return SV(t,n,r,i)}isAttached(t){const n=t&&Yw(t);return!!(n&&n.isConnected)}}function FK(e){return!Gw()||typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas?kK:LK}let ia=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){const{x:n,y:r}=this.getProps(["x","y"],t);return{x:n,y:r}}hasValue(){return Sc(this.x)&&Sc(this.y)}getProps(t,n){const r=this.$animations;if(!n||!r)return this;const i={};return t.forEach(s=>{i[s]=r[s]&&r[s].active()?r[s]._to:this[s]}),i}};function BK(e,t){const n=e.options.ticks,r=zK(e),i=Math.min(n.maxTicksLimit||r,r),s=n.major.enabled?UK(t):[],o=s.length,a=s[0],l=s[o-1],u=[];if(o>i)return HK(t,u,s,o/i),u;const f=$K(s,t,i);if(o>0){let h,g;const y=o>1?Math.round((l-a)/(o-1)):null;for(eg(t,u,f,Gt(y)?0:a-y,a),h=0,g=o-1;h<g;h++)eg(t,u,f,s[h],s[h+1]);return eg(t,u,f,l,Gt(y)?t.length:l+y),u}return eg(t,u,f),u}function zK(e){const t=e.options.offset,n=e._tickSize(),r=e._length/n+(t?0:1),i=e._maxLength/n;return Math.floor(Math.min(r,i))}function $K(e,t,n){const r=WK(e),i=t.length/n;if(!r)return Math.max(i,1);const s=CQ(r);for(let o=0,a=s.length-1;o<a;o++){const l=s[o];if(l>i)return l}return Math.max(i,1)}function UK(e){const t=[];let n,r;for(n=0,r=e.length;n<r;n++)e[n].major&&t.push(n);return t}function HK(e,t,n,r){let i=0,s=n[0],o;for(r=Math.ceil(r),o=0;o<e.length;o++)o===s&&(t.push(e[o]),i++,s=n[i*r])}function eg(e,t,n,r,i){const s=Ct(r,0),o=Math.min(Ct(i,e.length),e.length);let a=0,l,u,f;for(n=Math.ceil(n),i&&(l=i-r,n=l/Math.floor(l/n)),f=s;f<0;)a++,f=Math.round(s+a*n);for(u=Math.max(s,0);u<o;u++)u===f&&(t.push(e[u]),a++,f=Math.round(s+a*n))}function WK(e){const t=e.length;let n,r;if(t<2)return!1;for(r=e[0],n=1;n<t;++n)if(e[n]-e[n-1]!==r)return!1;return r}const qK=e=>e==="left"?"right":e==="right"?"left":e,H6=(e,t,n)=>t==="top"||t==="left"?e[t]+n:e[t]-n,W6=(e,t)=>Math.min(t||e,e);function q6(e,t){const n=[],r=e.length/t,i=e.length;let s=0;for(;s<i;s+=r)n.push(e[Math.floor(s)]);return n}function QK(e,t,n){const r=e.ticks.length,i=Math.min(t,r-1),s=e._startPixel,o=e._endPixel,a=1e-6;let l=e.getPixelForTick(i),u;if(!(n&&(r===1?u=Math.max(l-s,o-l):t===0?u=(e.getPixelForTick(1)-l)/2:u=(l-e.getPixelForTick(i-1))/2,l+=i<t?u:-u,l<s-a||l>o+a)))return l}function VK(e,t){vn(e,n=>{const r=n.gc,i=r.length/2;let s;if(i>t){for(s=0;s<i;++s)delete n.data[r[s]];r.splice(0,i)}})}function Nf(e){return e.drawTicks?e.tickLength:0}function Q6(e,t){if(!e.display)return 0;const n=mr(e.font,t),r=Qr(e.padding);return(zn(e.text)?e.text.length:1)*n.lineHeight+r.height}function KK(e,t){return hl(e,{scale:t,type:"scale"})}function GK(e,t,n){return hl(e,{tick:n,index:t,type:"tick"})}function YK(e,t,n){let r=Hw(e);return(n&&t!=="right"||!n&&t==="right")&&(r=qK(r)),r}function XK(e,t,n,r){const{top:i,left:s,bottom:o,right:a,chart:l}=e,{chartArea:u,scales:f}=l;let h=0,g,y,b;const _=o-i,E=a-s;if(e.isHorizontal()){if(y=Ur(r,s,a),Yt(n)){const C=Object.keys(n)[0],P=n[C];b=f[C].getPixelForValue(P)+_-t}else n==="center"?b=(u.bottom+u.top)/2+_-t:b=H6(e,n,t);g=a-s}else{if(Yt(n)){const C=Object.keys(n)[0],P=n[C];y=f[C].getPixelForValue(P)-E+t}else n==="center"?y=(u.left+u.right)/2-E+t:y=H6(e,n,t);b=Ur(r,o,i),h=n==="left"?-Zn:Zn}return{titleX:y,titleY:b,maxWidth:g,rotation:h}}class Mc extends ia{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,n){return t}getUserBounds(){let{_userMin:t,_userMax:n,_suggestedMin:r,_suggestedMax:i}=this;return t=Hi(t,Number.POSITIVE_INFINITY),n=Hi(n,Number.NEGATIVE_INFINITY),r=Hi(r,Number.POSITIVE_INFINITY),i=Hi(i,Number.NEGATIVE_INFINITY),{min:Hi(t,r),max:Hi(n,i),minDefined:Kn(t),maxDefined:Kn(n)}}getMinMax(t){let{min:n,max:r,minDefined:i,maxDefined:s}=this.getUserBounds(),o;if(i&&s)return{min:n,max:r};const a=this.getMatchingVisibleMetas();for(let l=0,u=a.length;l<u;++l)o=a[l].controller.getMinMax(this,t),i||(n=Math.min(n,o.min)),s||(r=Math.max(r,o.max));return n=s&&n>r?r:n,r=i&&n>r?n:r,{min:Hi(n,Hi(r,n)),max:Hi(r,Hi(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){In(this.options.beforeUpdate,[this])}update(t,n,r){const{beginAtZero:i,grace:s,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=n,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=tV(this,s,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?q6(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=BK(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,n,r;this.isHorizontal()?(n=this.left,r=this.right):(n=this.top,r=this.bottom,t=!t),this._startPixel=n,this._endPixel=r,this._reversePixels=t,this._length=r-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){In(this.options.afterUpdate,[this])}beforeSetDimensions(){In(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){In(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),In(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){In(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const n=this.options.ticks;let r,i,s;for(r=0,i=t.length;r<i;r++)s=t[r],s.label=In(n.callback,[s.value,r,t],this)}afterTickToLabelConversion(){In(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){In(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,n=t.ticks,r=W6(this.ticks.length,t.ticks.maxTicksLimit),i=n.minRotation||0,s=n.maxRotation;let o=i,a,l,u;if(!this._isVisible()||!n.display||i>=s||r<=1||!this.isHorizontal()){this.labelRotation=i;return}const f=this._getLabelSizes(),h=f.widest.width,g=f.highest.height,y=Cr(this.chart.width-h,0,this.maxWidth);a=t.offset?this.maxWidth/r:y/(r-1),h+6>a&&(a=y/(r-(t.offset?.5:1)),l=this.maxHeight-Nf(t.grid)-n.padding-Q6(t.title,this.chart.options.font),u=Math.sqrt(h*h+g*g),o=$w(Math.min(Math.asin(Cr((f.highest.height+6)/a,-1,1)),Math.asin(Cr(l/u,-1,1))-Math.asin(Cr(g/u,-1,1)))),o=Math.max(i,Math.min(s,o))),this.labelRotation=o}afterCalculateLabelRotation(){In(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){In(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:n,options:{ticks:r,title:i,grid:s}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=Q6(i,n.options.font);if(a?(t.width=this.maxWidth,t.height=Nf(s)+l):(t.height=this.maxHeight,t.width=Nf(s)+l),r.display&&this.ticks.length){const{first:u,last:f,widest:h,highest:g}=this._getLabelSizes(),y=r.padding*2,b=Bs(this.labelRotation),_=Math.cos(b),E=Math.sin(b);if(a){const C=r.mirror?0:E*h.width+_*g.height;t.height=Math.min(this.maxHeight,t.height+C+y)}else{const C=r.mirror?0:_*h.width+E*g.height;t.width=Math.min(this.maxWidth,t.width+C+y)}this._calculatePadding(u,f,E,_)}}this._handleMargins(),a?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,n,r,i){const{ticks:{align:s,padding:o},position:a}=this.options,l=this.labelRotation!==0,u=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const f=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1);let g=0,y=0;l?u?(g=i*t.width,y=r*n.height):(g=r*t.height,y=i*n.width):s==="start"?y=n.width:s==="end"?g=t.width:s!=="inner"&&(g=t.width/2,y=n.width/2),this.paddingLeft=Math.max((g-f+o)*this.width/(this.width-f),0),this.paddingRight=Math.max((y-h+o)*this.width/(this.width-h),0)}else{let f=n.height/2,h=t.height/2;s==="start"?(f=0,h=t.height):s==="end"&&(f=n.height,h=0),this.paddingTop=f+o,this.paddingBottom=h+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){In(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:n}=this.options;return n==="top"||n==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let n,r;for(n=0,r=t.length;n<r;n++)Gt(t[n].label)&&(t.splice(n,1),r--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const n=this.options.ticks.sampleSize;let r=this.ticks;n<r.length&&(r=q6(r,n)),this._labelSizes=t=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,n,r){const{ctx:i,_longestTextCache:s}=this,o=[],a=[],l=Math.floor(n/W6(n,r));let u=0,f=0,h,g,y,b,_,E,C,P,O,z,B;for(h=0;h<n;h+=l){if(b=t[h].label,_=this._resolveTickFontOptions(h),i.font=E=_.string,C=s[E]=s[E]||{data:{},gc:[]},P=_.lineHeight,O=z=0,!Gt(b)&&!zn(b))O=k0(i,C.data,C.gc,O,b),z=P;else if(zn(b))for(g=0,y=b.length;g<y;++g)B=b[g],!Gt(B)&&!zn(B)&&(O=k0(i,C.data,C.gc,O,B),z+=P);o.push(O),a.push(z),u=Math.max(O,u),f=Math.max(z,f)}VK(s,n);const j=o.indexOf(u),M=a.indexOf(f),U=$=>({width:o[$]||0,height:a[$]||0});return{first:U(0),last:U(n-1),widest:U(j),highest:U(M),widths:o,heights:a}}getLabelForValue(t){return t}getPixelForValue(t,n){return NaN}getValueForPixel(t){}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const n=this._startPixel+t*this._length;return IQ(this._alignToPixels?Vl(this.chart,n,0):n)}getDecimalForPixel(t){const n=(t-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:n}=this;return t<0&&n<0?n:t>0&&n>0?t:0}getContext(t){const n=this.ticks||[];if(t>=0&&t<n.length){const r=n[t];return r.$context||(r.$context=GK(this.getContext(),t,r))}return this.$context||(this.$context=KK(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,n=Bs(this.labelRotation),r=Math.abs(Math.cos(n)),i=Math.abs(Math.sin(n)),s=this._getLabelSizes(),o=t.autoSkipPadding||0,a=s?s.widest.width+o:0,l=s?s.highest.height+o:0;return this.isHorizontal()?l*r>a*i?a/r:l/i:l*i<a*r?l/r:a/i}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const n=this.axis,r=this.chart,i=this.options,{grid:s,position:o,border:a}=i,l=s.offset,u=this.isHorizontal(),h=this.ticks.length+(l?1:0),g=Nf(s),y=[],b=a.setContext(this.getContext()),_=b.display?b.width:0,E=_/2,C=function(V){return Vl(r,V,_)};let P,O,z,B,j,M,U,$,D,ee,X,re;if(o==="top")P=C(this.bottom),M=this.bottom-g,$=P-E,ee=C(t.top)+E,re=t.bottom;else if(o==="bottom")P=C(this.top),ee=t.top,re=C(t.bottom)-E,M=P+E,$=this.top+g;else if(o==="left")P=C(this.right),j=this.right-g,U=P-E,D=C(t.left)+E,X=t.right;else if(o==="right")P=C(this.left),D=t.left,X=C(t.right)-E,j=P+E,U=this.left+g;else if(n==="x"){if(o==="center")P=C((t.top+t.bottom)/2+.5);else if(Yt(o)){const V=Object.keys(o)[0],ne=o[V];P=C(this.chart.scales[V].getPixelForValue(ne))}ee=t.top,re=t.bottom,M=P+E,$=M+g}else if(n==="y"){if(o==="center")P=C((t.left+t.right)/2);else if(Yt(o)){const V=Object.keys(o)[0],ne=o[V];P=C(this.chart.scales[V].getPixelForValue(ne))}j=P-E,U=j-g,D=t.left,X=t.right}const Q=Ct(i.ticks.maxTicksLimit,h),q=Math.max(1,Math.ceil(h/Q));for(O=0;O<h;O+=q){const V=this.getContext(O),ne=s.setContext(V),Z=a.setContext(V),fe=ne.lineWidth,F=ne.color,G=Z.dash||[],ye=Z.dashOffset,H=ne.tickWidth,Oe=ne.tickColor,Ce=ne.tickBorderDash||[],Te=ne.tickBorderDashOffset;z=QK(this,O,l),z!==void 0&&(B=Vl(r,z,fe),u?j=U=D=X=B:M=$=ee=re=B,y.push({tx1:j,ty1:M,tx2:U,ty2:$,x1:D,y1:ee,x2:X,y2:re,width:fe,color:F,borderDash:G,borderDashOffset:ye,tickWidth:H,tickColor:Oe,tickBorderDash:Ce,tickBorderDashOffset:Te}))}return this._ticksLength=h,this._borderValue=P,y}_computeLabelItems(t){const n=this.axis,r=this.options,{position:i,ticks:s}=r,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:u,padding:f,mirror:h}=s,g=Nf(r.grid),y=g+f,b=h?-f:y,_=-Bs(this.labelRotation),E=[];let C,P,O,z,B,j,M,U,$,D,ee,X,re="middle";if(i==="top")j=this.bottom-b,M=this._getXAxisLabelAlignment();else if(i==="bottom")j=this.top+b,M=this._getXAxisLabelAlignment();else if(i==="left"){const q=this._getYAxisLabelAlignment(g);M=q.textAlign,B=q.x}else if(i==="right"){const q=this._getYAxisLabelAlignment(g);M=q.textAlign,B=q.x}else if(n==="x"){if(i==="center")j=(t.top+t.bottom)/2+y;else if(Yt(i)){const q=Object.keys(i)[0],V=i[q];j=this.chart.scales[q].getPixelForValue(V)+y}M=this._getXAxisLabelAlignment()}else if(n==="y"){if(i==="center")B=(t.left+t.right)/2-y;else if(Yt(i)){const q=Object.keys(i)[0],V=i[q];B=this.chart.scales[q].getPixelForValue(V)}M=this._getYAxisLabelAlignment(g).textAlign}n==="y"&&(l==="start"?re="top":l==="end"&&(re="bottom"));const Q=this._getLabelSizes();for(C=0,P=a.length;C<P;++C){O=a[C],z=O.label;const q=s.setContext(this.getContext(C));U=this.getPixelForTick(C)+s.labelOffset,$=this._resolveTickFontOptions(C),D=$.lineHeight,ee=zn(z)?z.length:1;const V=ee/2,ne=q.color,Z=q.textStrokeColor,fe=q.textStrokeWidth;let F=M;o?(B=U,M==="inner"&&(C===P-1?F=this.options.reverse?"left":"right":C===0?F=this.options.reverse?"right":"left":F="center"),i==="top"?u==="near"||_!==0?X=-ee*D+D/2:u==="center"?X=-Q.highest.height/2-V*D+D:X=-Q.highest.height+D/2:u==="near"||_!==0?X=D/2:u==="center"?X=Q.highest.height/2-V*D:X=Q.highest.height-ee*D,h&&(X*=-1),_!==0&&!q.showLabelBackdrop&&(B+=D/2*Math.sin(_))):(j=U,X=(1-ee)*D/2);let G;if(q.showLabelBackdrop){const ye=Qr(q.backdropPadding),H=Q.heights[C],Oe=Q.widths[C];let Ce=X-ye.top,Te=0-ye.left;switch(re){case"middle":Ce-=H/2;break;case"bottom":Ce-=H;break}switch(M){case"center":Te-=Oe/2;break;case"right":Te-=Oe;break;case"inner":C===P-1?Te-=Oe:C>0&&(Te-=Oe/2);break}G={left:Te,top:Ce,width:Oe+ye.width,height:H+ye.height,color:q.backdropColor}}E.push({label:z,font:$,textOffset:X,options:{rotation:_,color:ne,strokeColor:Z,strokeWidth:fe,textAlign:F,textBaseline:re,translation:[B,j],backdrop:G}})}return E}_getXAxisLabelAlignment(){const{position:t,ticks:n}=this.options;if(-Bs(this.labelRotation))return t==="top"?"left":"right";let i="center";return n.align==="start"?i="left":n.align==="end"?i="right":n.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(t){const{position:n,ticks:{crossAlign:r,mirror:i,padding:s}}=this.options,o=this._getLabelSizes(),a=t+s,l=o.widest.width;let u,f;return n==="left"?i?(f=this.right+s,r==="near"?u="left":r==="center"?(u="center",f+=l/2):(u="right",f+=l)):(f=this.right-a,r==="near"?u="right":r==="center"?(u="center",f-=l/2):(u="left",f=this.left)):n==="right"?i?(f=this.left+s,r==="near"?u="right":r==="center"?(u="center",f-=l/2):(u="left",f-=l)):(f=this.left+a,r==="near"?u="left":r==="center"?(u="center",f+=l/2):(u="right",f=this.right)):u="right",{textAlign:u,x:f}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:n},left:r,top:i,width:s,height:o}=this;n&&(t.save(),t.fillStyle=n,t.fillRect(r,i,s,o),t.restore())}getLineWidthForValue(t){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const i=this.ticks.findIndex(s=>s.value===t);return i>=0?n.setContext(this.getContext(i)).lineWidth:0}drawGrid(t){const n=this.options.grid,r=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let s,o;const a=(l,u,f)=>{!f.width||!f.color||(r.save(),r.lineWidth=f.width,r.strokeStyle=f.color,r.setLineDash(f.borderDash||[]),r.lineDashOffset=f.borderDashOffset,r.beginPath(),r.moveTo(l.x,l.y),r.lineTo(u.x,u.y),r.stroke(),r.restore())};if(n.display)for(s=0,o=i.length;s<o;++s){const l=i[s];n.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:n,options:{border:r,grid:i}}=this,s=r.setContext(this.getContext()),o=r.display?s.width:0;if(!o)return;const a=i.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let u,f,h,g;this.isHorizontal()?(u=Vl(t,this.left,o)-o/2,f=Vl(t,this.right,a)+a/2,h=g=l):(h=Vl(t,this.top,o)-o/2,g=Vl(t,this.bottom,a)+a/2,u=f=l),n.save(),n.lineWidth=s.width,n.strokeStyle=s.color,n.beginPath(),n.moveTo(u,h),n.lineTo(f,g),n.stroke(),n.restore()}drawLabels(t){if(!this.options.ticks.display)return;const r=this.ctx,i=this._computeLabelArea();i&&m1(r,i);const s=this.getLabelItems(t);for(const o of s){const a=o.options,l=o.font,u=o.label,f=o.textOffset;kc(r,u,0,f,l,a)}i&&g1(r)}drawTitle(){const{ctx:t,options:{position:n,title:r,reverse:i}}=this;if(!r.display)return;const s=mr(r.font),o=Qr(r.padding),a=r.align;let l=s.lineHeight/2;n==="bottom"||n==="center"||Yt(n)?(l+=o.bottom,zn(r.text)&&(l+=s.lineHeight*(r.text.length-1))):l+=o.top;const{titleX:u,titleY:f,maxWidth:h,rotation:g}=XK(this,l,n,a);kc(t,r.text,0,0,s,{color:r.color,maxWidth:h,rotation:g,textAlign:YK(a,n,i),textBaseline:"middle",translation:[u,f]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,n=t.ticks&&t.ticks.z||0,r=Ct(t.grid&&t.grid.z,-1),i=Ct(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==Mc.prototype.draw?[{z:n,draw:s=>{this.draw(s)}}]:[{z:r,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:n,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(t){const n=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",i=[];let s,o;for(s=0,o=n.length;s<o;++s){const a=n[s];a[r]===this.id&&(!t||a.type===t)&&i.push(a)}return i}_resolveTickFontOptions(t){const n=this.options.ticks.setContext(this.getContext(t));return mr(n.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class tg{constructor(t,n,r){this.type=t,this.scope=n,this.override=r,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const n=Object.getPrototypeOf(t);let r;eG(n)&&(r=this.register(n));const i=this.items,s=t.id,o=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+t);return s in i||(i[s]=t,JK(t,o,r),this.override&&$n.override(t.id,t.overrides)),o}get(t){return this.items[t]}unregister(t){const n=this.items,r=t.id,i=this.scope;r in n&&delete n[r],i&&r in $n[i]&&(delete $n[i][r],this.override&&delete Ec[r])}}function JK(e,t,n){const r=Eh(Object.create(null),[n?$n.get(n):{},$n.get(t),e.defaults]);$n.set(t,r),e.defaultRoutes&&ZK(t,e.defaultRoutes),e.descriptors&&$n.describe(t,e.descriptors)}function ZK(e,t){Object.keys(t).forEach(n=>{const r=n.split("."),i=r.pop(),s=[e].concat(r).join("."),o=t[n].split("."),a=o.pop(),l=o.join(".");$n.route(s,i,l,a)})}function eG(e){return"id"in e&&"defaults"in e}class tG{constructor(){this.controllers=new tg(pl,"datasets",!0),this.elements=new tg(ia,"elements"),this.plugins=new tg(Object,"plugins"),this.scales=new tg(Mc,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,n,r){[...n].forEach(i=>{const s=r||this._getRegistryForType(i);r||s.isForType(i)||s===this.plugins&&i.id?this._exec(t,s,i):vn(i,o=>{const a=r||this._getRegistryForType(o);this._exec(t,a,o)})})}_exec(t,n,r){const i=zw(t);In(r["before"+i],[],r),n[t](r),In(r["after"+i],[],r)}_getRegistryForType(t){for(let n=0;n<this._typedRegistries.length;n++){const r=this._typedRegistries[n];if(r.isForType(t))return r}return this.plugins}_get(t,n,r){const i=n.get(t);if(i===void 0)throw new Error('"'+t+'" is not a registered '+r+".");return i}}var no=new tG;class nG{constructor(){this._init=[]}notify(t,n,r,i){n==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const s=i?this._descriptors(t).filter(i):this._descriptors(t),o=this._notify(s,t,n,r);return n==="afterDestroy"&&(this._notify(s,t,"stop"),this._notify(this._init,t,"uninstall")),o}_notify(t,n,r,i){i=i||{};for(const s of t){const o=s.plugin,a=o[r],l=[n,i,s.options];if(In(a,l,o)===!1&&i.cancelable)return!1}return!0}invalidate(){Gt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),n}_createDescriptors(t,n){const r=t&&t.config,i=Ct(r.options&&r.options.plugins,{}),s=rG(r);return i===!1&&!n?[]:sG(t,s,i,n)}_notifyStateChanges(t){const n=this._oldCache||[],r=this._cache,i=(s,o)=>s.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(i(n,r),t,"stop"),this._notify(i(r,n),t,"start")}}function rG(e){const t={},n=[],r=Object.keys(no.plugins.items);for(let s=0;s<r.length;s++)n.push(no.getPlugin(r[s]));const i=e.plugins||[];for(let s=0;s<i.length;s++){const o=i[s];n.indexOf(o)===-1&&(n.push(o),t[o.id]=!0)}return{plugins:n,localIds:t}}function iG(e,t){return!t&&e===!1?null:e===!0?{}:e}function sG(e,{plugins:t,localIds:n},r,i){const s=[],o=e.getContext();for(const a of t){const l=a.id,u=iG(r[l],i);u!==null&&s.push({plugin:a,options:oG(e.config,{plugin:a,local:n[l]},u,o)})}return s}function oG(e,{plugin:t,local:n},r,i){const s=e.pluginScopeKeys(t),o=e.getOptionScopes(r,s);return n&&t.defaults&&o.push(t.defaults),e.createResolver(o,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Ub(e,t){const n=$n.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||n.indexAxis||"x"}function aG(e,t){let n=e;return e==="_index_"?n=t:e==="_value_"&&(n=t==="x"?"y":"x"),n}function lG(e,t){return e===t?"_index_":"_value_"}function V6(e){if(e==="x"||e==="y"||e==="r")return e}function cG(e){if(e==="top"||e==="bottom")return"x";if(e==="left"||e==="right")return"y"}function Hb(e,...t){if(V6(e))return e;for(const n of t){const r=n.axis||cG(n.position)||e.length>1&&V6(e[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function K6(e,t,n){if(n[t+"AxisID"]===e)return{axis:t}}function uG(e,t){if(t.data&&t.data.datasets){const n=t.data.datasets.filter(r=>r.xAxisID===e||r.yAxisID===e);if(n.length)return K6(e,"x",n[0])||K6(e,"y",n[0])}return{}}function dG(e,t){const n=Ec[e.type]||{scales:{}},r=t.scales||{},i=Ub(e.type,t),s=Object.create(null);return Object.keys(r).forEach(o=>{const a=r[o];if(!Yt(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const l=Hb(o,a,uG(o,e),$n.scales[a.type]),u=lG(l,i),f=n.scales||{};s[o]=nh(Object.create(null),[{axis:l},a,f[l],f[u]])}),e.data.datasets.forEach(o=>{const a=o.type||e.type,l=o.indexAxis||Ub(a,t),f=(Ec[a]||{}).scales||{};Object.keys(f).forEach(h=>{const g=aG(h,l),y=o[g+"AxisID"]||g;s[y]=s[y]||Object.create(null),nh(s[y],[{axis:g},r[y],f[h]])})}),Object.keys(s).forEach(o=>{const a=s[o];nh(a,[$n.scales[a.type],$n.scale])}),s}function MT(e){const t=e.options||(e.options={});t.plugins=Ct(t.plugins,{}),t.scales=dG(e,t)}function DT(e){return e=e||{},e.datasets=e.datasets||[],e.labels=e.labels||[],e}function fG(e){return e=e||{},e.data=DT(e.data),MT(e),e}const G6=new Map,LT=new Set;function ng(e,t){let n=G6.get(e);return n||(n=t(),G6.set(e,n),LT.add(n)),n}const If=(e,t,n)=>{const r=nl(t,n);r!==void 0&&e.add(r)};class hG{constructor(t){this._config=fG(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=DT(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),MT(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return ng(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,n){return ng(`${t}.transition.${n}`,()=>[[`datasets.${t}.transitions.${n}`,`transitions.${n}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,n){return ng(`${t}-${n}`,()=>[[`datasets.${t}.elements.${n}`,`datasets.${t}`,`elements.${n}`,""]])}pluginScopeKeys(t){const n=t.id,r=this.type;return ng(`${r}-plugin-${n}`,()=>[[`plugins.${n}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,n){const r=this._scopeCache;let i=r.get(t);return(!i||n)&&(i=new Map,r.set(t,i)),i}getOptionScopes(t,n,r){const{options:i,type:s}=this,o=this._cachedScopes(t,r),a=o.get(n);if(a)return a;const l=new Set;n.forEach(f=>{t&&(l.add(t),f.forEach(h=>If(l,t,h))),f.forEach(h=>If(l,i,h)),f.forEach(h=>If(l,Ec[s]||{},h)),f.forEach(h=>If(l,$n,h)),f.forEach(h=>If(l,zb,h))});const u=Array.from(l);return u.length===0&&u.push(Object.create(null)),LT.has(n)&&o.set(n,u),u}chartOptionScopes(){const{options:t,type:n}=this;return[t,Ec[n]||{},$n.datasets[n]||{},{type:n},$n,zb]}resolveNamedOptions(t,n,r,i=[""]){const s={$shared:!0},{resolver:o,subPrefixes:a}=Y6(this._resolverCache,t,i);let l=o;if(mG(o,n)){s.$shared=!1,r=rl(r)?r():r;const u=this.createResolver(t,r,a);l=gd(o,r,u)}for(const u of n)s[u]=l[u];return s}createResolver(t,n,r=[""],i){const{resolver:s}=Y6(this._resolverCache,t,r);return Yt(n)?gd(s,n,void 0,i):s}}function Y6(e,t,n){let r=e.get(t);r||(r=new Map,e.set(t,r));const i=n.join();let s=r.get(i);return s||(s={resolver:Qw(t,n),subPrefixes:n.filter(a=>!a.toLowerCase().includes("hover"))},r.set(i,s)),s}const pG=e=>Yt(e)&&Object.getOwnPropertyNames(e).some(t=>rl(e[t]));function mG(e,t){const{isScriptable:n,isIndexable:r}=fT(e);for(const i of t){const s=n(i),o=r(i),a=(o||s)&&e[i];if(s&&(rl(a)||pG(a))||o&&zn(a))return!0}return!1}var gG="4.5.0";const yG=["top","bottom","left","right","chartArea"];function X6(e,t){return e==="top"||e==="bottom"||yG.indexOf(e)===-1&&t==="x"}function J6(e,t){return function(n,r){return n[e]===r[e]?n[t]-r[t]:n[e]-r[e]}}function Z6(e){const t=e.chart,n=t.options.animation;t.notifyPlugins("afterRender"),In(n&&n.onComplete,[e],t)}function vG(e){const t=e.chart,n=t.options.animation;In(n&&n.onProgress,[e],t)}function FT(e){return Gw()&&typeof e=="string"?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const Ug={},eE=e=>{const t=FT(e);return Object.values(Ug).filter(n=>n.canvas===t).pop()};function xG(e,t,n){const r=Object.keys(e);for(const i of r){const s=+i;if(s>=t){const o=e[i];delete e[i],(n>0||s>t)&&(e[s+n]=o)}}}function bG(e,t,n,r){return!n||e.type==="mouseout"?null:r?t:e}let sa=class{static defaults=$n;static instances=Ug;static overrides=Ec;static registry=no;static version=gG;static getChart=eE;static register(...t){no.add(...t),tE()}static unregister(...t){no.remove(...t),tE()}constructor(t,n){const r=this.config=new hG(n),i=FT(t),s=eE(i);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const o=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||FK(i)),this.platform.updateConfig(r);const a=this.platform.acquireContext(i,o.aspectRatio),l=a&&a.canvas,u=l&&l.height,f=l&&l.width;if(this.id=yQ(),this.ctx=a,this.canvas=l,this.width=f,this.height=u,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new nG,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=AQ(h=>this.update(h),o.resizeDelay||0),this._dataChanges=[],Ug[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}Mo.listen(this,"complete",Z6),Mo.listen(this,"progress",vG),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:n},width:r,height:i,_aspectRatio:s}=this;return Gt(t)?n&&s?s:i?r/i:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return no}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():S6(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return b6(this.canvas,this.ctx),this}stop(){return Mo.stop(this),this}resize(t,n){Mo.running(this)?this._resizeBeforeDraw={width:t,height:n}:this._resize(t,n)}_resize(t,n){const r=this.options,i=this.canvas,s=r.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(i,t,n,s),a=r.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,S6(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),In(r.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};vn(n,(r,i)=>{r.id=i})}buildOrUpdateScales(){const t=this.options,n=t.scales,r=this.scales,i=Object.keys(r).reduce((o,a)=>(o[a]=!1,o),{});let s=[];n&&(s=s.concat(Object.keys(n).map(o=>{const a=n[o],l=Hb(o,a),u=l==="r",f=l==="x";return{options:a,dposition:u?"chartArea":f?"bottom":"left",dtype:u?"radialLinear":f?"category":"linear"}}))),vn(s,o=>{const a=o.options,l=a.id,u=Hb(l,a),f=Ct(a.type,o.dtype);(a.position===void 0||X6(a.position,u)!==X6(o.dposition))&&(a.position=o.dposition),i[l]=!0;let h=null;if(l in r&&r[l].type===f)h=r[l];else{const g=no.getScale(f);h=new g({id:l,type:f,ctx:this.ctx,chart:this}),r[h.id]=h}h.init(a,t)}),vn(i,(o,a)=>{o||delete r[a]}),vn(r,o=>{Wr.configure(this,o,o.options),Wr.addBox(this,o)})}_updateMetasets(){const t=this._metasets,n=this.data.datasets.length,r=t.length;if(t.sort((i,s)=>i.index-s.index),r>n){for(let i=n;i<r;++i)this._destroyDatasetMeta(i);t.splice(n,r-n)}this._sortedMetasets=t.slice(0).sort(J6("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:n}}=this;t.length>n.length&&delete this._stacks,t.forEach((r,i)=>{n.filter(s=>s===r._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const t=[],n=this.data.datasets;let r,i;for(this._removeUnreferencedMetasets(),r=0,i=n.length;r<i;r++){const s=n[r];let o=this.getDatasetMeta(r);const a=s.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(r),o=this.getDatasetMeta(r)),o.type=a,o.indexAxis=s.indexAxis||Ub(a,this.options),o.order=s.order||0,o.index=r,o.label=""+s.label,o.visible=this.isDatasetVisible(r),o.controller)o.controller.updateIndex(r),o.controller.linkScales();else{const l=no.getController(a),{datasetElementType:u,dataElementType:f}=$n.datasets[a];Object.assign(l,{dataElementType:no.getElement(f),datasetElementType:u&&no.getElement(u)}),o.controller=new l(this,r),t.push(o.controller)}}return this._updateMetasets(),t}_resetElements(){vn(this.data.datasets,(t,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const n=this.config;n.update();const r=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let u=0,f=this.data.datasets.length;u<f;u++){const{controller:h}=this.getDatasetMeta(u),g=!i&&s.indexOf(h)===-1;h.buildOrUpdateElements(g),o=Math.max(+h.getMaxOverflow(),o)}o=this._minPadding=r.layout.autoPadding?o:0,this._updateLayout(o),i||vn(s,u=>{u.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(J6("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){vn(this.scales,t=>{Wr.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,n=new Set(Object.keys(this._listeners)),r=new Set(t.events);(!d6(n,r)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,n=this._getUniformDataChanges()||[];for(const{method:r,start:i,count:s}of n){const o=r==="_removeElements"?-s:s;xG(t,i,o)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const n=this.data.datasets.length,r=s=>new Set(t.filter(o=>o[0]===s).map((o,a)=>a+","+o.splice(1).join(","))),i=r(0);for(let s=1;s<n;s++)if(!d6(i,r(s)))return;return Array.from(i).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Wr.update(this,this.width,this.height,t);const n=this.chartArea,r=n.width<=0||n.height<=0;this._layers=[],vn(this.boxes,i=>{r&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,s)=>{i._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let n=0,r=this.data.datasets.length;n<r;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,r=this.data.datasets.length;n<r;++n)this._updateDataset(n,rl(t)?t({datasetIndex:n}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,n){const r=this.getDatasetMeta(t),i={meta:r,index:t,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(r.controller._update(n),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Mo.has(this)?this.attached&&!Mo.running(this)&&Mo.start(this):(this.draw(),Z6({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:r,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(t=0;t<n.length&&n[t].z<=0;++t)n[t].draw(this.chartArea);for(this._drawDatasets();t<n.length;++t)n[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const n=this._sortedMetasets,r=[];let i,s;for(i=0,s=n.length;i<s;++i){const o=n[i];(!t||o.visible)&&r.push(o)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let n=t.length-1;n>=0;--n)this._drawDataset(t[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const n=this.ctx,r={meta:t,index:t.index,cancelable:!0},i=ST(this,t);this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(i&&m1(n,i),t.controller.draw(),i&&g1(n),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(t){return Vo(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,n,r,i){const s=yK.modes[n];return typeof s=="function"?s(this,t,r,i):[]}getDatasetMeta(t){const n=this.data.datasets[t],r=this._metasets;let i=r.filter(s=>s&&s._dataset===n).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:t,_dataset:n,_parsed:[],_sorted:!1},r.push(i)),i}getContext(){return this.$context||(this.$context=hl(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const n=this.data.datasets[t];if(!n)return!1;const r=this.getDatasetMeta(t);return typeof r.hidden=="boolean"?!r.hidden:!n.hidden}setDatasetVisibility(t,n){const r=this.getDatasetMeta(t);r.hidden=!n}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,n,r){const i=r?"show":"hide",s=this.getDatasetMeta(t),o=s.controller._resolveAnimations(void 0,i);kh(n)?(s.data[n].hidden=!r,this.update()):(this.setDatasetVisibility(t,r),o.update(s,{visible:r}),this.update(a=>a.datasetIndex===t?i:void 0))}hide(t,n){this._updateVisibility(t,n,!1)}show(t,n){this._updateVisibility(t,n,!0)}_destroyDatasetMeta(t){const n=this._metasets[t];n&&n.controller&&n.controller._destroy(),delete this._metasets[t]}_stop(){let t,n;for(this.stop(),Mo.remove(this),t=0,n=this.data.datasets.length;t<n;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:n}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),b6(t,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete Ug[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,n=this.platform,r=(s,o)=>{n.addEventListener(this,s,o),t[s]=o},i=(s,o,a)=>{s.offsetX=o,s.offsetY=a,this._eventHandler(s)};vn(this.options.events,s=>r(s,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,n=this.platform,r=(l,u)=>{n.addEventListener(this,l,u),t[l]=u},i=(l,u)=>{t[l]&&(n.removeEventListener(this,l,u),delete t[l])},s=(l,u)=>{this.canvas&&this.resize(l,u)};let o;const a=()=>{i("attach",a),this.attached=!0,this.resize(),r("resize",s),r("detach",o)};o=()=>{this.attached=!1,i("resize",s),this._stop(),this._resize(0,0),r("attach",a)},n.isAttached(this.canvas)?a():o()}unbindEvents(){vn(this._listeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._listeners={},vn(this._responsiveListeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,n,r){const i=r?"set":"remove";let s,o,a,l;for(n==="dataset"&&(s=this.getDatasetMeta(t[0].datasetIndex),s.controller["_"+i+"DatasetHoverStyle"]()),a=0,l=t.length;a<l;++a){o=t[a];const u=o&&this.getDatasetMeta(o.datasetIndex).controller;u&&u[i+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const n=this._active||[],r=t.map(({datasetIndex:s,index:o})=>{const a=this.getDatasetMeta(s);if(!a)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:a.data[o],index:o}});!_0(r,n)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,n))}notifyPlugins(t,n,r){return this._plugins.notify(this,t,n,r)}isPluginEnabled(t){return this._plugins._cache.filter(n=>n.plugin.id===t).length===1}_updateHoverStyles(t,n,r){const i=this.options.hover,s=(l,u)=>l.filter(f=>!u.some(h=>f.datasetIndex===h.datasetIndex&&f.index===h.index)),o=s(n,t),a=r?t:s(t,n);o.length&&this.updateHoverStyle(o,i.mode,!1),a.length&&i.mode&&this.updateHoverStyle(a,i.mode,!0)}_eventHandler(t,n){const r={event:t,replay:n,cancelable:!0,inChartArea:this.isPointInArea(t)},i=o=>(o.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",r,i)===!1)return;const s=this._handleEvent(t,n,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,i),(s||r.changed)&&this.render(),this}_handleEvent(t,n,r){const{_active:i=[],options:s}=this,o=n,a=this._getActiveElements(t,i,r,o),l=SQ(t),u=bG(t,this._lastEvent,r,l);r&&(this._lastEvent=null,In(s.onHover,[t,a,this],this),l&&In(s.onClick,[t,a,this],this));const f=!_0(a,i);return(f||n)&&(this._active=a,this._updateHoverStyles(a,i,n)),this._lastEvent=u,f}_getActiveElements(t,n,r,i){if(t.type==="mouseout")return[];if(!r)return n;const s=this.options.hover;return this.getElementsAtEventForMode(t,s.mode,s,i)}};function tE(){return vn(sa.instances,e=>e._plugins.invalidate())}function wG(e,t,n){const{startAngle:r,x:i,y:s,outerRadius:o,innerRadius:a,options:l}=t,{borderWidth:u,borderJoinStyle:f}=l,h=Math.min(u/o,Hr(r-n));if(e.beginPath(),e.arc(i,s,o-u/2,r+h/2,n-h/2),a>0){const g=Math.min(u/a,Hr(r-n));e.arc(i,s,a+u/2,n-g/2,r+g/2,!0)}else{const g=Math.min(u/2,o*Hr(r-n));if(f==="round")e.arc(i,s,g,n-dn/2,r+dn/2,!0);else if(f==="bevel"){const y=2*g*g,b=-y*Math.cos(n+dn/2)+i,_=-y*Math.sin(n+dn/2)+s,E=y*Math.cos(r+dn/2)+i,C=y*Math.sin(r+dn/2)+s;e.lineTo(b,_),e.lineTo(E,C)}}e.closePath(),e.moveTo(0,0),e.rect(0,0,e.canvas.width,e.canvas.height),e.clip("evenodd")}function _G(e,t,n){const{startAngle:r,pixelMargin:i,x:s,y:o,outerRadius:a,innerRadius:l}=t;let u=i/a;e.beginPath(),e.arc(s,o,a,r-u,n+u),l>i?(u=i/l,e.arc(s,o,l,n+u,r-u,!0)):e.arc(s,o,i,n+Zn,r-Zn),e.closePath(),e.clip()}function SG(e){return qw(e,["outerStart","outerEnd","innerStart","innerEnd"])}function EG(e,t,n,r){const i=SG(e.options.borderRadius),s=(n-t)/2,o=Math.min(s,r*t/2),a=l=>{const u=(n-Math.min(s,l))*r/2;return Cr(l,0,Math.min(s,u))};return{outerStart:a(i.outerStart),outerEnd:a(i.outerEnd),innerStart:Cr(i.innerStart,0,o),innerEnd:Cr(i.innerEnd,0,o)}}function ku(e,t,n,r){return{x:n+e*Math.cos(t),y:r+e*Math.sin(t)}}function j0(e,t,n,r,i,s){const{x:o,y:a,startAngle:l,pixelMargin:u,innerRadius:f}=t,h=Math.max(t.outerRadius+r+n-u,0),g=f>0?f+r+n+u:0;let y=0;const b=i-l;if(r){const q=f>0?f-r:0,V=h>0?h-r:0,ne=(q+V)/2,Z=ne!==0?b*ne/(ne+r):b;y=(b-Z)/2}const _=Math.max(.001,b*h-n/dn)/h,E=(b-_)/2,C=l+E+y,P=i-E-y,{outerStart:O,outerEnd:z,innerStart:B,innerEnd:j}=EG(t,g,h,P-C),M=h-O,U=h-z,$=C+O/M,D=P-z/U,ee=g+B,X=g+j,re=C+B/ee,Q=P-j/X;if(e.beginPath(),s){const q=($+D)/2;if(e.arc(o,a,h,$,q),e.arc(o,a,h,q,D),z>0){const fe=ku(U,D,o,a);e.arc(fe.x,fe.y,z,D,P+Zn)}const V=ku(X,P,o,a);if(e.lineTo(V.x,V.y),j>0){const fe=ku(X,Q,o,a);e.arc(fe.x,fe.y,j,P+Zn,Q+Math.PI)}const ne=(P-j/g+(C+B/g))/2;if(e.arc(o,a,g,P-j/g,ne,!0),e.arc(o,a,g,ne,C+B/g,!0),B>0){const fe=ku(ee,re,o,a);e.arc(fe.x,fe.y,B,re+Math.PI,C-Zn)}const Z=ku(M,C,o,a);if(e.lineTo(Z.x,Z.y),O>0){const fe=ku(M,$,o,a);e.arc(fe.x,fe.y,O,C-Zn,$)}}else{e.moveTo(o,a);const q=Math.cos($)*h+o,V=Math.sin($)*h+a;e.lineTo(q,V);const ne=Math.cos(D)*h+o,Z=Math.sin(D)*h+a;e.lineTo(ne,Z)}e.closePath()}function kG(e,t,n,r,i){const{fullCircles:s,startAngle:o,circumference:a}=t;let l=t.endAngle;if(s){j0(e,t,n,r,l,i);for(let u=0;u<s;++u)e.fill();isNaN(a)||(l=o+(a%An||An))}return j0(e,t,n,r,l,i),e.fill(),l}function CG(e,t,n,r,i){const{fullCircles:s,startAngle:o,circumference:a,options:l}=t,{borderWidth:u,borderJoinStyle:f,borderDash:h,borderDashOffset:g,borderRadius:y}=l,b=l.borderAlign==="inner";if(!u)return;e.setLineDash(h||[]),e.lineDashOffset=g,b?(e.lineWidth=u*2,e.lineJoin=f||"round"):(e.lineWidth=u,e.lineJoin=f||"bevel");let _=t.endAngle;if(s){j0(e,t,n,r,_,i);for(let E=0;E<s;++E)e.stroke();isNaN(a)||(_=o+(a%An||An))}b&&_G(e,t,_),l.selfJoin&&_-o>=dn&&y===0&&f!=="miter"&&wG(e,t,_),s||(j0(e,t,n,r,_,i),e.stroke())}class Jw extends ia{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,n,r){const i=this.getProps(["x","y"],r),{angle:s,distance:o}=nT(i,{x:t,y:n}),{startAngle:a,endAngle:l,innerRadius:u,outerRadius:f,circumference:h}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),g=(this.options.spacing+this.options.borderWidth)/2,y=Ct(h,l-a),b=Ch(s,a,l)&&a!==l,_=y>=An||b,E=qo(o,u+g,f+g);return _&&E}getCenterPoint(t){const{x:n,y:r,startAngle:i,endAngle:s,innerRadius:o,outerRadius:a}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:l,spacing:u}=this.options,f=(i+s)/2,h=(o+a+u+l)/2;return{x:n+Math.cos(f)*h,y:r+Math.sin(f)*h}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:n,circumference:r}=this,i=(n.offset||0)/4,s=(n.spacing||0)/2,o=n.circular;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=r>An?Math.floor(r/An):0,r===0||this.innerRadius<0||this.outerRadius<0)return;t.save();const a=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(a)*i,Math.sin(a)*i);const l=1-Math.sin(Math.min(dn,r||0)),u=i*l;t.fillStyle=n.backgroundColor,t.strokeStyle=n.borderColor,kG(t,this,u,s,o),CG(t,this,u,s,o),t.restore()}}function BT(e,t,n=t){e.lineCap=Ct(n.borderCapStyle,t.borderCapStyle),e.setLineDash(Ct(n.borderDash,t.borderDash)),e.lineDashOffset=Ct(n.borderDashOffset,t.borderDashOffset),e.lineJoin=Ct(n.borderJoinStyle,t.borderJoinStyle),e.lineWidth=Ct(n.borderWidth,t.borderWidth),e.strokeStyle=Ct(n.borderColor,t.borderColor)}function TG(e,t,n){e.lineTo(n.x,n.y)}function jG(e){return e.stepped?QQ:e.tension||e.cubicInterpolationMode==="monotone"?VQ:TG}function zT(e,t,n={}){const r=e.length,{start:i=0,end:s=r-1}=n,{start:o,end:a}=t,l=Math.max(i,o),u=Math.min(s,a),f=i<o&&s<o||i>a&&s>a;return{count:r,start:l,loop:t.loop,ilen:u<l&&!f?r+u-l:u-l}}function NG(e,t,n,r){const{points:i,options:s}=t,{count:o,start:a,loop:l,ilen:u}=zT(i,n,r),f=jG(s);let{move:h=!0,reverse:g}=r||{},y,b,_;for(y=0;y<=u;++y)b=i[(a+(g?u-y:y))%o],!b.skip&&(h?(e.moveTo(b.x,b.y),h=!1):f(e,_,b,g,s.stepped),_=b);return l&&(b=i[(a+(g?u:0))%o],f(e,_,b,g,s.stepped)),!!l}function IG(e,t,n,r){const i=t.points,{count:s,start:o,ilen:a}=zT(i,n,r),{move:l=!0,reverse:u}=r||{};let f=0,h=0,g,y,b,_,E,C;const P=z=>(o+(u?a-z:z))%s,O=()=>{_!==E&&(e.lineTo(f,E),e.lineTo(f,_),e.lineTo(f,C))};for(l&&(y=i[P(0)],e.moveTo(y.x,y.y)),g=0;g<=a;++g){if(y=i[P(g)],y.skip)continue;const z=y.x,B=y.y,j=z|0;j===b?(B<_?_=B:B>E&&(E=B),f=(h*f+z)/++h):(O(),e.lineTo(z,B),b=j,h=0,_=E=B),C=B}O()}function Wb(e){const t=e.options,n=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!n?IG:NG}function PG(e){return e.stepped?kV:e.tension||e.cubicInterpolationMode==="monotone"?CV:nc}function RG(e,t,n,r){let i=t._path;i||(i=t._path=new Path2D,t.path(i,n,r)&&i.closePath()),BT(e,t.options),e.stroke(i)}function OG(e,t,n,r){const{segments:i,options:s}=t,o=Wb(t);for(const a of i)BT(e,s,a.style),e.beginPath(),o(e,t,a,{start:n,end:n+r-1})&&e.closePath(),e.stroke()}const AG=typeof Path2D=="function";function MG(e,t,n,r){AG&&!t.options.segment?RG(e,t,n,r):OG(e,t,n,r)}class Nd extends ia{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"};constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,n){const r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){const i=r.spanGaps?this._loop:this._fullLoop;yV(this._points,r,t,i,n),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=RV(this,this.options.segment))}first(){const t=this.segments,n=this.points;return t.length&&n[t[0].start]}last(){const t=this.segments,n=this.points,r=t.length;return r&&n[t[r-1].end]}interpolate(t,n){const r=this.options,i=t[n],s=this.points,o=_T(this,{property:n,start:i,end:i});if(!o.length)return;const a=[],l=PG(r);let u,f;for(u=0,f=o.length;u<f;++u){const{start:h,end:g}=o[u],y=s[h],b=s[g];if(y===b){a.push(y);continue}const _=Math.abs((i-y[n])/(b[n]-y[n])),E=l(y,b,_,r.stepped);E[n]=t[n],a.push(E)}return a.length===1?a[0]:a}pathSegment(t,n,r){return Wb(this)(t,this,n,r)}path(t,n,r){const i=this.segments,s=Wb(this);let o=this._loop;n=n||0,r=r||this.points.length-n;for(const a of i)o&=s(t,this,a,{start:n,end:n+r-1});return!!o}draw(t,n,r,i){const s=this.options||{};(this.points||[]).length&&s.borderWidth&&(t.save(),MG(t,this,r,i),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function nE(e,t,n,r){const i=e.options,{[n]:s}=e.getProps([n],r);return Math.abs(t-s)<i.radius+i.hitRadius}class Zw extends ia{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,n,r){const i=this.options,{x:s,y:o}=this.getProps(["x","y"],r);return Math.pow(t-s,2)+Math.pow(n-o,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(t,n){return nE(this,t,"x",n)}inYRange(t,n){return nE(this,t,"y",n)}getCenterPoint(t){const{x:n,y:r}=this.getProps(["x","y"],t);return{x:n,y:r}}size(t){t=t||this.options||{};let n=t.radius||0;n=Math.max(n,n&&t.hoverRadius||0);const r=n&&t.borderWidth||0;return(n+r)*2}draw(t,n){const r=this.options;this.skip||r.radius<.1||!Vo(this,n,this.size(r)/2)||(t.strokeStyle=r.borderColor,t.lineWidth=r.borderWidth,t.fillStyle=r.backgroundColor,$b(t,r,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}function $T(e,t){const{x:n,y:r,base:i,width:s,height:o}=e.getProps(["x","y","base","width","height"],t);let a,l,u,f,h;return e.horizontal?(h=o/2,a=Math.min(n,i),l=Math.max(n,i),u=r-h,f=r+h):(h=s/2,a=n-h,l=n+h,u=Math.min(r,i),f=Math.max(r,i)),{left:a,top:u,right:l,bottom:f}}function qa(e,t,n,r){return e?0:Cr(t,n,r)}function DG(e,t,n){const r=e.options.borderWidth,i=e.borderSkipped,s=dT(r);return{t:qa(i.top,s.top,0,n),r:qa(i.right,s.right,0,t),b:qa(i.bottom,s.bottom,0,n),l:qa(i.left,s.left,0,t)}}function LG(e,t,n){const{enableBorderRadius:r}=e.getProps(["enableBorderRadius"]),i=e.options.borderRadius,s=gc(i),o=Math.min(t,n),a=e.borderSkipped,l=r||Yt(i);return{topLeft:qa(!l||a.top||a.left,s.topLeft,0,o),topRight:qa(!l||a.top||a.right,s.topRight,0,o),bottomLeft:qa(!l||a.bottom||a.left,s.bottomLeft,0,o),bottomRight:qa(!l||a.bottom||a.right,s.bottomRight,0,o)}}function FG(e){const t=$T(e),n=t.right-t.left,r=t.bottom-t.top,i=DG(e,n/2,r/2),s=LG(e,n/2,r/2);return{outer:{x:t.left,y:t.top,w:n,h:r,radius:s},inner:{x:t.left+i.l,y:t.top+i.t,w:n-i.l-i.r,h:r-i.t-i.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,s.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(i.b,i.r))}}}}function sx(e,t,n,r){const i=t===null,s=n===null,a=e&&!(i&&s)&&$T(e,r);return a&&(i||qo(t,a.left,a.right))&&(s||qo(n,a.top,a.bottom))}function BG(e){return e.topLeft||e.topRight||e.bottomLeft||e.bottomRight}function zG(e,t){e.rect(t.x,t.y,t.w,t.h)}function ox(e,t,n={}){const r=e.x!==n.x?-t:0,i=e.y!==n.y?-t:0,s=(e.x+e.w!==n.x+n.w?t:0)-r,o=(e.y+e.h!==n.y+n.h?t:0)-i;return{x:e.x+r,y:e.y+i,w:e.w+s,h:e.h+o,radius:e.radius}}class ep extends ia{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:n,options:{borderColor:r,backgroundColor:i}}=this,{inner:s,outer:o}=FG(this),a=BG(o.radius)?Th:zG;t.save(),(o.w!==s.w||o.h!==s.h)&&(t.beginPath(),a(t,ox(o,n,s)),t.clip(),a(t,ox(s,-n,o)),t.fillStyle=r,t.fill("evenodd")),t.beginPath(),a(t,ox(s,n)),t.fillStyle=i,t.fill(),t.restore()}inRange(t,n,r){return sx(this,t,n,r)}inXRange(t,n){return sx(this,t,null,n)}inYRange(t,n){return sx(this,null,t,n)}getCenterPoint(t){const{x:n,y:r,base:i,horizontal:s}=this.getProps(["x","y","base","horizontal"],t);return{x:s?(n+i)/2:n,y:s?r:(r+i)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}var $G=Object.freeze({__proto__:null,ArcElement:Jw,BarElement:ep,LineElement:Nd,PointElement:Zw});const qb=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],rE=qb.map(e=>e.replace("rgb(","rgba(").replace(")",", 0.5)"));function UT(e){return qb[e%qb.length]}function HT(e){return rE[e%rE.length]}function UG(e,t){return e.borderColor=UT(t),e.backgroundColor=HT(t),++t}function HG(e,t){return e.backgroundColor=e.data.map(()=>UT(t++)),t}function WG(e,t){return e.backgroundColor=e.data.map(()=>HT(t++)),t}function qG(e){let t=0;return(n,r)=>{const i=e.getDatasetMeta(r).controller;i instanceof v1?t=HG(n,t):i instanceof jT?t=WG(n,t):i&&(t=UG(n,t))}}function iE(e){let t;for(t in e)if(e[t].borderColor||e[t].backgroundColor)return!0;return!1}function QG(e){return e&&(e.borderColor||e.backgroundColor)}function VG(){return $n.borderColor!=="rgba(0,0,0,0.1)"||$n.backgroundColor!=="rgba(0,0,0,0.1)"}var KG={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(e,t,n){if(!n.enabled)return;const{data:{datasets:r},options:i}=e.config,{elements:s}=i,o=iE(r)||QG(i)||s&&iE(s)||VG();if(!n.forceOverride&&o)return;const a=qG(e);r.forEach(a)}};function GG(e,t,n,r,i){const s=i.samples||r;if(s>=n)return e.slice(t,t+n);const o=[],a=(n-2)/(s-2);let l=0;const u=t+n-1;let f=t,h,g,y,b,_;for(o[l++]=e[f],h=0;h<s-2;h++){let E=0,C=0,P;const O=Math.floor((h+1)*a)+1+t,z=Math.min(Math.floor((h+2)*a)+1,n)+t,B=z-O;for(P=O;P<z;P++)E+=e[P].x,C+=e[P].y;E/=B,C/=B;const j=Math.floor(h*a)+1+t,M=Math.min(Math.floor((h+1)*a)+1,n)+t,{x:U,y:$}=e[f];for(y=b=-1,P=j;P<M;P++)b=.5*Math.abs((U-E)*(e[P].y-$)-(U-e[P].x)*(C-$)),b>y&&(y=b,g=e[P],_=P);o[l++]=g,f=_}return o[l++]=e[u],o}function YG(e,t,n,r){let i=0,s=0,o,a,l,u,f,h,g,y,b,_;const E=[],C=t+n-1,P=e[t].x,z=e[C].x-P;for(o=t;o<t+n;++o){a=e[o],l=(a.x-P)/z*r,u=a.y;const B=l|0;if(B===f)u<b?(b=u,h=o):u>_&&(_=u,g=o),i=(s*i+a.x)/++s;else{const j=o-1;if(!Gt(h)&&!Gt(g)){const M=Math.min(h,g),U=Math.max(h,g);M!==y&&M!==j&&E.push({...e[M],x:i}),U!==y&&U!==j&&E.push({...e[U],x:i})}o>0&&j!==y&&E.push(e[j]),E.push(a),f=B,s=0,b=_=u,h=g=y=o}}return E}function WT(e){if(e._decimated){const t=e._data;delete e._decimated,delete e._data,Object.defineProperty(e,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function sE(e){e.data.datasets.forEach(t=>{WT(t)})}function XG(e,t){const n=t.length;let r=0,i;const{iScale:s}=e,{min:o,max:a,minDefined:l,maxDefined:u}=s.getUserBounds();return l&&(r=Cr(Qo(t,s.axis,o).lo,0,n-1)),u?i=Cr(Qo(t,s.axis,a).hi+1,r,n)-r:i=n-r,{start:r,count:i}}var JG={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(e,t,n)=>{if(!n.enabled){sE(e);return}const r=e.width;e.data.datasets.forEach((i,s)=>{const{_data:o,indexAxis:a}=i,l=e.getDatasetMeta(s),u=o||i.data;if(Qf([a,e.options.indexAxis])==="y"||!l.controller.supportsDecimation)return;const f=e.scales[l.xAxisID];if(f.type!=="linear"&&f.type!=="time"||e.options.parsing)return;let{start:h,count:g}=XG(l,u);const y=n.threshold||4*r;if(g<=y){WT(i);return}Gt(o)&&(i._data=u,delete i.data,Object.defineProperty(i,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(_){this._data=_}}));let b;switch(n.algorithm){case"lttb":b=GG(u,h,g,r,n);break;case"min-max":b=YG(u,h,g,r);break;default:throw new Error(`Unsupported decimation algorithm '${n.algorithm}'`)}i._decimated=b})},destroy(e){sE(e)}};function ZG(e,t,n){const r=e.segments,i=e.points,s=t.points,o=[];for(const a of r){let{start:l,end:u}=a;u=b1(l,u,i);const f=Qb(n,i[l],i[u],a.loop);if(!t.segments){o.push({source:a,target:f,start:i[l],end:i[u]});continue}const h=_T(t,f);for(const g of h){const y=Qb(n,s[g.start],s[g.end],g.loop),b=wT(a,i,y);for(const _ of b)o.push({source:_,target:g,start:{[n]:oE(f,y,"start",Math.max)},end:{[n]:oE(f,y,"end",Math.min)}})}}return o}function Qb(e,t,n,r){if(r)return;let i=t[e],s=n[e];return e==="angle"&&(i=Hr(i),s=Hr(s)),{property:e,start:i,end:s}}function eY(e,t){const{x:n=null,y:r=null}=e||{},i=t.points,s=[];return t.segments.forEach(({start:o,end:a})=>{a=b1(o,a,i);const l=i[o],u=i[a];r!==null?(s.push({x:l.x,y:r}),s.push({x:u.x,y:r})):n!==null&&(s.push({x:n,y:l.y}),s.push({x:n,y:u.y}))}),s}function b1(e,t,n){for(;t>e;t--){const r=n[t];if(!isNaN(r.x)&&!isNaN(r.y))break}return t}function oE(e,t,n,r){return e&&t?r(e[n],t[n]):e?e[n]:t?t[n]:0}function qT(e,t){let n=[],r=!1;return zn(e)?(r=!0,n=e):n=eY(e,t),n.length?new Nd({points:n,options:{tension:0},_loop:r,_fullLoop:r}):null}function aE(e){return e&&e.fill!==!1}function tY(e,t,n){let i=e[t].fill;const s=[t];let o;if(!n)return i;for(;i!==!1&&s.indexOf(i)===-1;){if(!Kn(i))return i;if(o=e[i],!o)return!1;if(o.visible)return i;s.push(i),i=o.fill}return!1}function nY(e,t,n){const r=oY(e);if(Yt(r))return isNaN(r.value)?!1:r;let i=parseFloat(r);return Kn(i)&&Math.floor(i)===i?rY(r[0],t,i,n):["origin","start","end","stack","shape"].indexOf(r)>=0&&r}function rY(e,t,n,r){return(e==="-"||e==="+")&&(n=t+n),n===t||n<0||n>=r?!1:n}function iY(e,t){let n=null;return e==="start"?n=t.bottom:e==="end"?n=t.top:Yt(e)?n=t.getPixelForValue(e.value):t.getBasePixel&&(n=t.getBasePixel()),n}function sY(e,t,n){let r;return e==="start"?r=n:e==="end"?r=t.options.reverse?t.min:t.max:Yt(e)?r=e.value:r=t.getBaseValue(),r}function oY(e){const t=e.options,n=t.fill;let r=Ct(n&&n.target,n);return r===void 0&&(r=!!t.backgroundColor),r===!1||r===null?!1:r===!0?"origin":r}function aY(e){const{scale:t,index:n,line:r}=e,i=[],s=r.segments,o=r.points,a=lY(t,n);a.push(qT({x:null,y:t.bottom},r));for(let l=0;l<s.length;l++){const u=s[l];for(let f=u.start;f<=u.end;f++)cY(i,o[f],a)}return new Nd({points:i,options:{}})}function lY(e,t){const n=[],r=e.getMatchingVisibleMetas("line");for(let i=0;i<r.length;i++){const s=r[i];if(s.index===t)break;s.hidden||n.unshift(s.dataset)}return n}function cY(e,t,n){const r=[];for(let i=0;i<n.length;i++){const s=n[i],{first:o,last:a,point:l}=uY(s,t,"x");if(!(!l||o&&a)){if(o)r.unshift(l);else if(e.push(l),!a)break}}e.push(...r)}function uY(e,t,n){const r=e.interpolate(t,n);if(!r)return{};const i=r[n],s=e.segments,o=e.points;let a=!1,l=!1;for(let u=0;u<s.length;u++){const f=s[u],h=o[f.start][n],g=o[f.end][n];if(qo(i,h,g)){a=i===h,l=i===g;break}}return{first:a,last:l,point:r}}class QT{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,n,r){const{x:i,y:s,radius:o}=this;return n=n||{start:0,end:An},t.arc(i,s,o,n.end,n.start,!0),!r.bounds}interpolate(t){const{x:n,y:r,radius:i}=this,s=t.angle;return{x:n+Math.cos(s)*i,y:r+Math.sin(s)*i,angle:s}}}function dY(e){const{chart:t,fill:n,line:r}=e;if(Kn(n))return fY(t,n);if(n==="stack")return aY(e);if(n==="shape")return!0;const i=hY(e);return i instanceof QT?i:qT(i,r)}function fY(e,t){const n=e.getDatasetMeta(t);return n&&e.isDatasetVisible(t)?n.dataset:null}function hY(e){return(e.scale||{}).getPointPositionForValue?mY(e):pY(e)}function pY(e){const{scale:t={},fill:n}=e,r=iY(n,t);if(Kn(r)){const i=t.isHorizontal();return{x:i?r:null,y:i?null:r}}return null}function mY(e){const{scale:t,fill:n}=e,r=t.options,i=t.getLabels().length,s=r.reverse?t.max:t.min,o=sY(n,t,s),a=[];if(r.grid.circular){const l=t.getPointPositionForValue(0,s);return new QT({x:l.x,y:l.y,radius:t.getDistanceFromCenterForValue(o)})}for(let l=0;l<i;++l)a.push(t.getPointPositionForValue(l,o));return a}function ax(e,t,n){const r=dY(t),{chart:i,index:s,line:o,scale:a,axis:l}=t,u=o.options,f=u.fill,h=u.backgroundColor,{above:g=h,below:y=h}=f||{},b=i.getDatasetMeta(s),_=ST(i,b);r&&o.points.length&&(m1(e,n),gY(e,{line:o,target:r,above:g,below:y,area:n,scale:a,axis:l,clip:_}),g1(e))}function gY(e,t){const{line:n,target:r,above:i,below:s,area:o,scale:a,clip:l}=t,u=n._loop?"angle":t.axis;e.save();let f=s;s!==i&&(u==="x"?(lE(e,r,o.top),lx(e,{line:n,target:r,color:i,scale:a,property:u,clip:l}),e.restore(),e.save(),lE(e,r,o.bottom)):u==="y"&&(cE(e,r,o.left),lx(e,{line:n,target:r,color:s,scale:a,property:u,clip:l}),e.restore(),e.save(),cE(e,r,o.right),f=i)),lx(e,{line:n,target:r,color:f,scale:a,property:u,clip:l}),e.restore()}function lE(e,t,n){const{segments:r,points:i}=t;let s=!0,o=!1;e.beginPath();for(const a of r){const{start:l,end:u}=a,f=i[l],h=i[b1(l,u,i)];s?(e.moveTo(f.x,f.y),s=!1):(e.lineTo(f.x,n),e.lineTo(f.x,f.y)),o=!!t.pathSegment(e,a,{move:o}),o?e.closePath():e.lineTo(h.x,n)}e.lineTo(t.first().x,n),e.closePath(),e.clip()}function cE(e,t,n){const{segments:r,points:i}=t;let s=!0,o=!1;e.beginPath();for(const a of r){const{start:l,end:u}=a,f=i[l],h=i[b1(l,u,i)];s?(e.moveTo(f.x,f.y),s=!1):(e.lineTo(n,f.y),e.lineTo(f.x,f.y)),o=!!t.pathSegment(e,a,{move:o}),o?e.closePath():e.lineTo(n,h.y)}e.lineTo(n,t.first().y),e.closePath(),e.clip()}function lx(e,t){const{line:n,target:r,property:i,color:s,scale:o,clip:a}=t,l=ZG(n,r,i);for(const{source:u,target:f,start:h,end:g}of l){const{style:{backgroundColor:y=s}={}}=u,b=r!==!0;e.save(),e.fillStyle=y,yY(e,o,a,b&&Qb(i,h,g)),e.beginPath();const _=!!n.pathSegment(e,u);let E;if(b){_?e.closePath():uE(e,r,g,i);const C=!!r.pathSegment(e,f,{move:_,reverse:!0});E=_&&C,E||uE(e,r,h,i)}e.closePath(),e.fill(E?"evenodd":"nonzero"),e.restore()}}function yY(e,t,n,r){const i=t.chart.chartArea,{property:s,start:o,end:a}=r||{};if(s==="x"||s==="y"){let l,u,f,h;s==="x"?(l=o,u=i.top,f=a,h=i.bottom):(l=i.left,u=o,f=i.right,h=a),e.beginPath(),n&&(l=Math.max(l,n.left),f=Math.min(f,n.right),u=Math.max(u,n.top),h=Math.min(h,n.bottom)),e.rect(l,u,f-l,h-u),e.clip()}}function uE(e,t,n,r){const i=t.interpolate(n,r);i&&e.lineTo(i.x,i.y)}var VT={id:"filler",afterDatasetsUpdate(e,t,n){const r=(e.data.datasets||[]).length,i=[];let s,o,a,l;for(o=0;o<r;++o)s=e.getDatasetMeta(o),a=s.dataset,l=null,a&&a.options&&a instanceof Nd&&(l={visible:e.isDatasetVisible(o),index:o,fill:nY(a,o,r),chart:e,axis:s.controller.options.indexAxis,scale:s.vScale,line:a}),s.$filler=l,i.push(l);for(o=0;o<r;++o)l=i[o],!(!l||l.fill===!1)&&(l.fill=tY(i,o,n.propagate))},beforeDraw(e,t,n){const r=n.drawTime==="beforeDraw",i=e.getSortedVisibleDatasetMetas(),s=e.chartArea;for(let o=i.length-1;o>=0;--o){const a=i[o].$filler;a&&(a.line.updateControlPoints(s,a.axis),r&&a.fill&&ax(e.ctx,a,s))}},beforeDatasetsDraw(e,t,n){if(n.drawTime!=="beforeDatasetsDraw")return;const r=e.getSortedVisibleDatasetMetas();for(let i=r.length-1;i>=0;--i){const s=r[i].$filler;aE(s)&&ax(e.ctx,s,e.chartArea)}},beforeDatasetDraw(e,t,n){const r=t.meta.$filler;!aE(r)||n.drawTime!=="beforeDatasetDraw"||ax(e.ctx,r,e.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const dE=(e,t)=>{let{boxHeight:n=t,boxWidth:r=t}=e;return e.usePointStyle&&(n=Math.min(n,t),r=e.pointStyleWidth||Math.min(r,t)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(t,n)}},vY=(e,t)=>e!==null&&t!==null&&e.datasetIndex===t.datasetIndex&&e.index===t.index;class fE extends ia{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n,r){this.maxWidth=t,this.maxHeight=n,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let n=In(t.generateLabels,[this.chart],this)||[];t.filter&&(n=n.filter(r=>t.filter(r,this.chart.data))),t.sort&&(n=n.sort((r,i)=>t.sort(r,i,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:t,ctx:n}=this;if(!t.display){this.width=this.height=0;return}const r=t.labels,i=mr(r.font),s=i.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=dE(r,s);let u,f;n.font=i.string,this.isHorizontal()?(u=this.maxWidth,f=this._fitRows(o,s,a,l)+10):(f=this.maxHeight,u=this._fitCols(o,i,a,l)+10),this.width=Math.min(u,t.maxWidth||this.maxWidth),this.height=Math.min(f,t.maxHeight||this.maxHeight)}_fitRows(t,n,r,i){const{ctx:s,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],u=this.lineWidths=[0],f=i+a;let h=t;s.textAlign="left",s.textBaseline="middle";let g=-1,y=-f;return this.legendItems.forEach((b,_)=>{const E=r+n/2+s.measureText(b.text).width;(_===0||u[u.length-1]+E+2*a>o)&&(h+=f,u[u.length-(_>0?0:1)]=0,y+=f,g++),l[_]={left:0,top:y,row:g,width:E,height:i},u[u.length-1]+=E+a}),h}_fitCols(t,n,r,i){const{ctx:s,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],u=this.columnSizes=[],f=o-t;let h=a,g=0,y=0,b=0,_=0;return this.legendItems.forEach((E,C)=>{const{itemWidth:P,itemHeight:O}=xY(r,n,s,E,i);C>0&&y+O+2*a>f&&(h+=g+a,u.push({width:g,height:y}),b+=g+a,_++,g=y=0),l[C]={left:b,top:y,col:_,width:P,height:O},g=Math.max(g,P),y+=O+a}),h+=g,u.push({width:g,height:y}),h}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:r,labels:{padding:i},rtl:s}}=this,o=id(s,this.left,this.width);if(this.isHorizontal()){let a=0,l=Ur(r,this.left+i,this.right-this.lineWidths[a]);for(const u of n)a!==u.row&&(a=u.row,l=Ur(r,this.left+i,this.right-this.lineWidths[a])),u.top+=this.top+t+i,u.left=o.leftForLtr(o.x(l),u.width),l+=u.width+i}else{let a=0,l=Ur(r,this.top+t+i,this.bottom-this.columnSizes[a].height);for(const u of n)u.col!==a&&(a=u.col,l=Ur(r,this.top+t+i,this.bottom-this.columnSizes[a].height)),u.top=l,u.left+=this.left+i,u.left=o.leftForLtr(o.x(u.left),u.width),l+=u.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;m1(t,this),this._draw(),g1(t)}}_draw(){const{options:t,columnSizes:n,lineWidths:r,ctx:i}=this,{align:s,labels:o}=t,a=$n.color,l=id(t.rtl,this.left,this.width),u=mr(o.font),{padding:f}=o,h=u.size,g=h/2;let y;this.drawTitle(),i.textAlign=l.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=u.string;const{boxWidth:b,boxHeight:_,itemHeight:E}=dE(o,h),C=function(j,M,U){if(isNaN(b)||b<=0||isNaN(_)||_<0)return;i.save();const $=Ct(U.lineWidth,1);if(i.fillStyle=Ct(U.fillStyle,a),i.lineCap=Ct(U.lineCap,"butt"),i.lineDashOffset=Ct(U.lineDashOffset,0),i.lineJoin=Ct(U.lineJoin,"miter"),i.lineWidth=$,i.strokeStyle=Ct(U.strokeStyle,a),i.setLineDash(Ct(U.lineDash,[])),o.usePointStyle){const D={radius:_*Math.SQRT2/2,pointStyle:U.pointStyle,rotation:U.rotation,borderWidth:$},ee=l.xPlus(j,b/2),X=M+g;uT(i,D,ee,X,o.pointStyleWidth&&b)}else{const D=M+Math.max((h-_)/2,0),ee=l.leftForLtr(j,b),X=gc(U.borderRadius);i.beginPath(),Object.values(X).some(re=>re!==0)?Th(i,{x:ee,y:D,w:b,h:_,radius:X}):i.rect(ee,D,b,_),i.fill(),$!==0&&i.stroke()}i.restore()},P=function(j,M,U){kc(i,U.text,j,M+E/2,u,{strikethrough:U.hidden,textAlign:l.textAlign(U.textAlign)})},O=this.isHorizontal(),z=this._computeTitleHeight();O?y={x:Ur(s,this.left+f,this.right-r[0]),y:this.top+f+z,line:0}:y={x:this.left+f,y:Ur(s,this.top+z+f,this.bottom-n[0].height),line:0},vT(this.ctx,t.textDirection);const B=E+f;this.legendItems.forEach((j,M)=>{i.strokeStyle=j.fontColor,i.fillStyle=j.fontColor;const U=i.measureText(j.text).width,$=l.textAlign(j.textAlign||(j.textAlign=o.textAlign)),D=b+g+U;let ee=y.x,X=y.y;l.setWidth(this.width),O?M>0&&ee+D+f>this.right&&(X=y.y+=B,y.line++,ee=y.x=Ur(s,this.left+f,this.right-r[y.line])):M>0&&X+B>this.bottom&&(ee=y.x=ee+n[y.line].width+f,y.line++,X=y.y=Ur(s,this.top+z+f,this.bottom-n[y.line].height));const re=l.x(ee);if(C(re,X,j),ee=MQ($,ee+b+g,O?ee+D:this.right,t.rtl),P(l.x(ee),X,j),O)y.x+=D+f;else if(typeof j.text!="string"){const Q=u.lineHeight;y.y+=KT(j,Q)+f}else y.y+=B}),xT(this.ctx,t.textDirection)}drawTitle(){const t=this.options,n=t.title,r=mr(n.font),i=Qr(n.padding);if(!n.display)return;const s=id(t.rtl,this.left,this.width),o=this.ctx,a=n.position,l=r.size/2,u=i.top+l;let f,h=this.left,g=this.width;if(this.isHorizontal())g=Math.max(...this.lineWidths),f=this.top+u,h=Ur(t.align,h,this.right-g);else{const b=this.columnSizes.reduce((_,E)=>Math.max(_,E.height),0);f=u+Ur(t.align,this.top,this.bottom-b-t.labels.padding-this._computeTitleHeight())}const y=Ur(a,h,h+g);o.textAlign=s.textAlign(Hw(a)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=r.string,kc(o,n.text,y,f,r)}_computeTitleHeight(){const t=this.options.title,n=mr(t.font),r=Qr(t.padding);return t.display?n.lineHeight+r.height:0}_getLegendItemAt(t,n){let r,i,s;if(qo(t,this.left,this.right)&&qo(n,this.top,this.bottom)){for(s=this.legendHitBoxes,r=0;r<s.length;++r)if(i=s[r],qo(t,i.left,i.left+i.width)&&qo(n,i.top,i.top+i.height))return this.legendItems[r]}return null}handleEvent(t){const n=this.options;if(!_Y(t.type,n))return;const r=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const i=this._hoveredItem,s=vY(i,r);i&&!s&&In(n.onLeave,[t,i,this],this),this._hoveredItem=r,r&&!s&&In(n.onHover,[t,r,this],this)}else r&&In(n.onClick,[t,r,this],this)}}function xY(e,t,n,r,i){const s=bY(r,e,t,n),o=wY(i,r,t.lineHeight);return{itemWidth:s,itemHeight:o}}function bY(e,t,n,r){let i=e.text;return i&&typeof i!="string"&&(i=i.reduce((s,o)=>s.length>o.length?s:o)),t+n.size/2+r.measureText(i).width}function wY(e,t,n){let r=e;return typeof t.text!="string"&&(r=KT(t,n)),r}function KT(e,t){const n=e.text?e.text.length:0;return t*n}function _Y(e,t){return!!((e==="mousemove"||e==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(e==="click"||e==="mouseup"))}var Id={id:"legend",_element:fE,start(e,t,n){const r=e.legend=new fE({ctx:e.ctx,options:n,chart:e});Wr.configure(e,r,n),Wr.addBox(e,r)},stop(e){Wr.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,n){const r=e.legend;Wr.configure(e,r,n),r.options=n},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,n){const r=t.datasetIndex,i=n.chart;i.isDatasetVisible(r)?(i.hide(r),t.hidden=!0):(i.show(r),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:i,color:s,useBorderRadius:o,borderRadius:a}}=e.legend.options;return e._getSortedDatasetMetas().map(l=>{const u=l.controller.getStyle(n?0:void 0),f=Qr(u.borderWidth);return{text:t[l.index].label,fillStyle:u.backgroundColor,fontColor:s,hidden:!l.visible,lineCap:u.borderCapStyle,lineDash:u.borderDash,lineDashOffset:u.borderDashOffset,lineJoin:u.borderJoinStyle,lineWidth:(f.width+f.height)/4,strokeStyle:u.borderColor,pointStyle:r||u.pointStyle,rotation:u.rotation,textAlign:i||u.textAlign,borderRadius:o&&(a||u.borderRadius),datasetIndex:l.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class e_ extends ia{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n){const r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=n;const i=zn(r.text)?r.text.length:1;this._padding=Qr(r.padding);const s=i*mr(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:n,left:r,bottom:i,right:s,options:o}=this,a=o.align;let l=0,u,f,h;return this.isHorizontal()?(f=Ur(a,r,s),h=n+t,u=s-r):(o.position==="left"?(f=r+t,h=Ur(a,i,n),l=dn*-.5):(f=s-t,h=Ur(a,n,i),l=dn*.5),u=i-n),{titleX:f,titleY:h,maxWidth:u,rotation:l}}draw(){const t=this.ctx,n=this.options;if(!n.display)return;const r=mr(n.font),s=r.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:u}=this._drawArgs(s);kc(t,n.text,0,0,r,{color:n.color,maxWidth:l,rotation:u,textAlign:Hw(n.align),textBaseline:"middle",translation:[o,a]})}}function SY(e,t){const n=new e_({ctx:e.ctx,options:t,chart:e});Wr.configure(e,n,t),Wr.addBox(e,n),e.titleBlock=n}var GT={id:"title",_element:e_,start(e,t,n){SY(e,n)},stop(e){const t=e.titleBlock;Wr.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,n){const r=e.titleBlock;Wr.configure(e,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const rg=new WeakMap;var EY={id:"subtitle",start(e,t,n){const r=new e_({ctx:e.ctx,options:n,chart:e});Wr.configure(e,r,n),Wr.addBox(e,r),rg.set(e,r)},stop(e){Wr.removeBox(e,rg.get(e)),rg.delete(e)},beforeUpdate(e,t,n){const r=rg.get(e);Wr.configure(e,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Kf={average(e){if(!e.length)return!1;let t,n,r=new Set,i=0,s=0;for(t=0,n=e.length;t<n;++t){const a=e[t].element;if(a&&a.hasValue()){const l=a.tooltipPosition();r.add(l.x),i+=l.y,++s}}return s===0||r.size===0?!1:{x:[...r].reduce((a,l)=>a+l)/r.size,y:i/s}},nearest(e,t){if(!e.length)return!1;let n=t.x,r=t.y,i=Number.POSITIVE_INFINITY,s,o,a;for(s=0,o=e.length;s<o;++s){const l=e[s].element;if(l&&l.hasValue()){const u=l.getCenterPoint(),f=Bb(t,u);f<i&&(i=f,a=l)}}if(a){const l=a.tooltipPosition();n=l.x,r=l.y}return{x:n,y:r}}};function to(e,t){return t&&(zn(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function Do(e){return(typeof e=="string"||e instanceof String)&&e.indexOf(`
`)>-1?e.split(`
`):e}function kY(e,t){const{element:n,datasetIndex:r,index:i}=t,s=e.getDatasetMeta(r).controller,{label:o,value:a}=s.getLabelAndValue(i);return{chart:e,label:o,parsed:s.getParsed(i),raw:e.data.datasets[r].data[i],formattedValue:a,dataset:s.getDataset(),dataIndex:i,datasetIndex:r,element:n}}function hE(e,t){const n=e.chart.ctx,{body:r,footer:i,title:s}=e,{boxWidth:o,boxHeight:a}=t,l=mr(t.bodyFont),u=mr(t.titleFont),f=mr(t.footerFont),h=s.length,g=i.length,y=r.length,b=Qr(t.padding);let _=b.height,E=0,C=r.reduce((z,B)=>z+B.before.length+B.lines.length+B.after.length,0);if(C+=e.beforeBody.length+e.afterBody.length,h&&(_+=h*u.lineHeight+(h-1)*t.titleSpacing+t.titleMarginBottom),C){const z=t.displayColors?Math.max(a,l.lineHeight):l.lineHeight;_+=y*z+(C-y)*l.lineHeight+(C-1)*t.bodySpacing}g&&(_+=t.footerMarginTop+g*f.lineHeight+(g-1)*t.footerSpacing);let P=0;const O=function(z){E=Math.max(E,n.measureText(z).width+P)};return n.save(),n.font=u.string,vn(e.title,O),n.font=l.string,vn(e.beforeBody.concat(e.afterBody),O),P=t.displayColors?o+2+t.boxPadding:0,vn(r,z=>{vn(z.before,O),vn(z.lines,O),vn(z.after,O)}),P=0,n.font=f.string,vn(e.footer,O),n.restore(),E+=b.width,{width:E,height:_}}function CY(e,t){const{y:n,height:r}=t;return n<r/2?"top":n>e.height-r/2?"bottom":"center"}function TY(e,t,n,r){const{x:i,width:s}=r,o=n.caretSize+n.caretPadding;if(e==="left"&&i+s+o>t.width||e==="right"&&i-s-o<0)return!0}function jY(e,t,n,r){const{x:i,width:s}=n,{width:o,chartArea:{left:a,right:l}}=e;let u="center";return r==="center"?u=i<=(a+l)/2?"left":"right":i<=s/2?u="left":i>=o-s/2&&(u="right"),TY(u,e,t,n)&&(u="center"),u}function pE(e,t,n){const r=n.yAlign||t.yAlign||CY(e,n);return{xAlign:n.xAlign||t.xAlign||jY(e,t,n,r),yAlign:r}}function NY(e,t){let{x:n,width:r}=e;return t==="right"?n-=r:t==="center"&&(n-=r/2),n}function IY(e,t,n){let{y:r,height:i}=e;return t==="top"?r+=n:t==="bottom"?r-=i+n:r-=i/2,r}function mE(e,t,n,r){const{caretSize:i,caretPadding:s,cornerRadius:o}=e,{xAlign:a,yAlign:l}=n,u=i+s,{topLeft:f,topRight:h,bottomLeft:g,bottomRight:y}=gc(o);let b=NY(t,a);const _=IY(t,l,u);return l==="center"?a==="left"?b+=u:a==="right"&&(b-=u):a==="left"?b-=Math.max(f,g)+i:a==="right"&&(b+=Math.max(h,y)+i),{x:Cr(b,0,r.width-t.width),y:Cr(_,0,r.height-t.height)}}function ig(e,t,n){const r=Qr(n.padding);return t==="center"?e.x+e.width/2:t==="right"?e.x+e.width-r.right:e.x+r.left}function gE(e){return to([],Do(e))}function PY(e,t,n){return hl(e,{tooltip:t,tooltipItems:n,type:"tooltip"})}function yE(e,t){const n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?e.override(n):e}const YT={beforeTitle:Oo,title(e){if(e.length>0){const t=e[0],n=t.chart.data.labels,r=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(r>0&&t.dataIndex<r)return n[t.dataIndex]}return""},afterTitle:Oo,beforeBody:Oo,beforeLabel:Oo,label(e){if(this&&this.options&&this.options.mode==="dataset")return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const n=e.formattedValue;return Gt(n)||(t+=n),t},labelColor(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Oo,afterBody:Oo,beforeFooter:Oo,footer:Oo,afterFooter:Oo};function bi(e,t,n,r){const i=e[t].call(n,r);return typeof i>"u"?YT[t].call(n,r):i}let vE=class extends ia{static positioners=Kf;constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const n=this.chart,r=this.options.setContext(this.getContext()),i=r.enabled&&n.options.animation&&r.animations,s=new ET(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=PY(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,n){const{callbacks:r}=n,i=bi(r,"beforeTitle",this,t),s=bi(r,"title",this,t),o=bi(r,"afterTitle",this,t);let a=[];return a=to(a,Do(i)),a=to(a,Do(s)),a=to(a,Do(o)),a}getBeforeBody(t,n){return gE(bi(n.callbacks,"beforeBody",this,t))}getBody(t,n){const{callbacks:r}=n,i=[];return vn(t,s=>{const o={before:[],lines:[],after:[]},a=yE(r,s);to(o.before,Do(bi(a,"beforeLabel",this,s))),to(o.lines,bi(a,"label",this,s)),to(o.after,Do(bi(a,"afterLabel",this,s))),i.push(o)}),i}getAfterBody(t,n){return gE(bi(n.callbacks,"afterBody",this,t))}getFooter(t,n){const{callbacks:r}=n,i=bi(r,"beforeFooter",this,t),s=bi(r,"footer",this,t),o=bi(r,"afterFooter",this,t);let a=[];return a=to(a,Do(i)),a=to(a,Do(s)),a=to(a,Do(o)),a}_createItems(t){const n=this._active,r=this.chart.data,i=[],s=[],o=[];let a=[],l,u;for(l=0,u=n.length;l<u;++l)a.push(kY(this.chart,n[l]));return t.filter&&(a=a.filter((f,h,g)=>t.filter(f,h,g,r))),t.itemSort&&(a=a.sort((f,h)=>t.itemSort(f,h,r))),vn(a,f=>{const h=yE(t.callbacks,f);i.push(bi(h,"labelColor",this,f)),s.push(bi(h,"labelPointStyle",this,f)),o.push(bi(h,"labelTextColor",this,f))}),this.labelColors=i,this.labelPointStyles=s,this.labelTextColors=o,this.dataPoints=a,a}update(t,n){const r=this.options.setContext(this.getContext()),i=this._active;let s,o=[];if(!i.length)this.opacity!==0&&(s={opacity:0});else{const a=Kf[r.position].call(this,i,this._eventPosition);o=this._createItems(r),this.title=this.getTitle(o,r),this.beforeBody=this.getBeforeBody(o,r),this.body=this.getBody(o,r),this.afterBody=this.getAfterBody(o,r),this.footer=this.getFooter(o,r);const l=this._size=hE(this,r),u=Object.assign({},a,l),f=pE(this.chart,r,u),h=mE(r,u,f,this.chart);this.xAlign=f.xAlign,this.yAlign=f.yAlign,s={opacity:1,x:h.x,y:h.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,s&&this._resolveAnimations().update(this,s),t&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(t,n,r,i){const s=this.getCaretPosition(t,r,i);n.lineTo(s.x1,s.y1),n.lineTo(s.x2,s.y2),n.lineTo(s.x3,s.y3)}getCaretPosition(t,n,r){const{xAlign:i,yAlign:s}=this,{caretSize:o,cornerRadius:a}=r,{topLeft:l,topRight:u,bottomLeft:f,bottomRight:h}=gc(a),{x:g,y}=t,{width:b,height:_}=n;let E,C,P,O,z,B;return s==="center"?(z=y+_/2,i==="left"?(E=g,C=E-o,O=z+o,B=z-o):(E=g+b,C=E+o,O=z-o,B=z+o),P=E):(i==="left"?C=g+Math.max(l,f)+o:i==="right"?C=g+b-Math.max(u,h)-o:C=this.caretX,s==="top"?(O=y,z=O-o,E=C-o,P=C+o):(O=y+_,z=O+o,E=C+o,P=C-o),B=O),{x1:E,x2:C,x3:P,y1:O,y2:z,y3:B}}drawTitle(t,n,r){const i=this.title,s=i.length;let o,a,l;if(s){const u=id(r.rtl,this.x,this.width);for(t.x=ig(this,r.titleAlign,r),n.textAlign=u.textAlign(r.titleAlign),n.textBaseline="middle",o=mr(r.titleFont),a=r.titleSpacing,n.fillStyle=r.titleColor,n.font=o.string,l=0;l<s;++l)n.fillText(i[l],u.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+a,l+1===s&&(t.y+=r.titleMarginBottom-a)}}_drawColorBox(t,n,r,i,s){const o=this.labelColors[r],a=this.labelPointStyles[r],{boxHeight:l,boxWidth:u}=s,f=mr(s.bodyFont),h=ig(this,"left",s),g=i.x(h),y=l<f.lineHeight?(f.lineHeight-l)/2:0,b=n.y+y;if(s.usePointStyle){const _={radius:Math.min(u,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},E=i.leftForLtr(g,u)+u/2,C=b+l/2;t.strokeStyle=s.multiKeyBackground,t.fillStyle=s.multiKeyBackground,$b(t,_,E,C),t.strokeStyle=o.borderColor,t.fillStyle=o.backgroundColor,$b(t,_,E,C)}else{t.lineWidth=Yt(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,t.strokeStyle=o.borderColor,t.setLineDash(o.borderDash||[]),t.lineDashOffset=o.borderDashOffset||0;const _=i.leftForLtr(g,u),E=i.leftForLtr(i.xPlus(g,1),u-2),C=gc(o.borderRadius);Object.values(C).some(P=>P!==0)?(t.beginPath(),t.fillStyle=s.multiKeyBackground,Th(t,{x:_,y:b,w:u,h:l,radius:C}),t.fill(),t.stroke(),t.fillStyle=o.backgroundColor,t.beginPath(),Th(t,{x:E,y:b+1,w:u-2,h:l-2,radius:C}),t.fill()):(t.fillStyle=s.multiKeyBackground,t.fillRect(_,b,u,l),t.strokeRect(_,b,u,l),t.fillStyle=o.backgroundColor,t.fillRect(E,b+1,u-2,l-2))}t.fillStyle=this.labelTextColors[r]}drawBody(t,n,r){const{body:i}=this,{bodySpacing:s,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:u,boxPadding:f}=r,h=mr(r.bodyFont);let g=h.lineHeight,y=0;const b=id(r.rtl,this.x,this.width),_=function(U){n.fillText(U,b.x(t.x+y),t.y+g/2),t.y+=g+s},E=b.textAlign(o);let C,P,O,z,B,j,M;for(n.textAlign=o,n.textBaseline="middle",n.font=h.string,t.x=ig(this,E,r),n.fillStyle=r.bodyColor,vn(this.beforeBody,_),y=a&&E!=="right"?o==="center"?u/2+f:u+2+f:0,z=0,j=i.length;z<j;++z){for(C=i[z],P=this.labelTextColors[z],n.fillStyle=P,vn(C.before,_),O=C.lines,a&&O.length&&(this._drawColorBox(n,t,z,b,r),g=Math.max(h.lineHeight,l)),B=0,M=O.length;B<M;++B)_(O[B]),g=h.lineHeight;vn(C.after,_)}y=0,g=h.lineHeight,vn(this.afterBody,_),t.y-=s}drawFooter(t,n,r){const i=this.footer,s=i.length;let o,a;if(s){const l=id(r.rtl,this.x,this.width);for(t.x=ig(this,r.footerAlign,r),t.y+=r.footerMarginTop,n.textAlign=l.textAlign(r.footerAlign),n.textBaseline="middle",o=mr(r.footerFont),n.fillStyle=r.footerColor,n.font=o.string,a=0;a<s;++a)n.fillText(i[a],l.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+r.footerSpacing}}drawBackground(t,n,r,i){const{xAlign:s,yAlign:o}=this,{x:a,y:l}=t,{width:u,height:f}=r,{topLeft:h,topRight:g,bottomLeft:y,bottomRight:b}=gc(i.cornerRadius);n.fillStyle=i.backgroundColor,n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.beginPath(),n.moveTo(a+h,l),o==="top"&&this.drawCaret(t,n,r,i),n.lineTo(a+u-g,l),n.quadraticCurveTo(a+u,l,a+u,l+g),o==="center"&&s==="right"&&this.drawCaret(t,n,r,i),n.lineTo(a+u,l+f-b),n.quadraticCurveTo(a+u,l+f,a+u-b,l+f),o==="bottom"&&this.drawCaret(t,n,r,i),n.lineTo(a+y,l+f),n.quadraticCurveTo(a,l+f,a,l+f-y),o==="center"&&s==="left"&&this.drawCaret(t,n,r,i),n.lineTo(a,l+h),n.quadraticCurveTo(a,l,a+h,l),n.closePath(),n.fill(),i.borderWidth>0&&n.stroke()}_updateAnimationTarget(t){const n=this.chart,r=this.$animations,i=r&&r.x,s=r&&r.y;if(i||s){const o=Kf[t.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=hE(this,t),l=Object.assign({},o,this._size),u=pE(n,t,l),f=mE(t,l,u,n);(i._to!==f.x||s._to!==f.y)&&(this.xAlign=u.xAlign,this.yAlign=u.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,f))}}_willRender(){return!!this.opacity}draw(t){const n=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(n);const i={width:this.width,height:this.height},s={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const o=Qr(n.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&a&&(t.save(),t.globalAlpha=r,this.drawBackground(s,t,i,n),vT(t,n.textDirection),s.y+=o.top,this.drawTitle(s,t,n),this.drawBody(s,t,n),this.drawFooter(s,t,n),xT(t,n.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,n){const r=this._active,i=t.map(({datasetIndex:a,index:l})=>{const u=this.chart.getDatasetMeta(a);if(!u)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:u.data[l],index:l}}),s=!_0(r,i),o=this._positionChanged(i,n);(s||o)&&(this._active=i,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,n,r=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,s=this._active||[],o=this._getActiveElements(t,s,n,r),a=this._positionChanged(o,t),l=n||!_0(o,s)||a;return l&&(this._active=o,(i.enabled||i.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,n))),l}_getActiveElements(t,n,r,i){const s=this.options;if(t.type==="mouseout")return[];if(!i)return n.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const o=this.chart.getElementsAtEventForMode(t,s.mode,s,r);return s.reverse&&o.reverse(),o}_positionChanged(t,n){const{caretX:r,caretY:i,options:s}=this,o=Kf[s.position].call(this,t,n);return o!==!1&&(r!==o.x||i!==o.y)}};var Pd={id:"tooltip",_element:vE,positioners:Kf,afterInit(e,t,n){n&&(e.tooltip=new vE({chart:e,options:n}))},beforeUpdate(e,t,n){e.tooltip&&e.tooltip.initialize(n)},reset(e,t,n){e.tooltip&&e.tooltip.initialize(n)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const n={tooltip:t};if(e.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",n)}},afterEvent(e,t){if(e.tooltip){const n=t.replay;e.tooltip.handleEvent(t.event,n,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:YT},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>e!=="filter"&&e!=="itemSort"&&e!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},RY=Object.freeze({__proto__:null,Colors:KG,Decimation:JG,Filler:VT,Legend:Id,SubTitle:EY,Title:GT,Tooltip:Pd});const OY=(e,t,n,r)=>(typeof t=="string"?(n=e.push(t)-1,r.unshift({index:n,label:t})):isNaN(t)&&(n=null),n);function AY(e,t,n,r){const i=e.indexOf(t);if(i===-1)return OY(e,t,n,r);const s=e.lastIndexOf(t);return i!==s?n:i}const MY=(e,t)=>e===null?null:Cr(Math.round(e),0,t);function xE(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class tp extends Mc{static id="category";static defaults={ticks:{callback:xE}};constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const n=this._addedLabels;if(n.length){const r=this.getLabels();for(const{index:i,label:s}of n)r[i]===s&&r.splice(i,1);this._addedLabels=[]}super.init(t)}parse(t,n){if(Gt(t))return null;const r=this.getLabels();return n=isFinite(n)&&r[n]===t?n:AY(r,t,Ct(n,t),this._addedLabels),MY(n,r.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:r,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(r=0),n||(i=this.getLabels().length-1)),this.min=r,this.max=i}buildTicks(){const t=this.min,n=this.max,r=this.options.offset,i=[];let s=this.getLabels();s=t===0&&n===s.length-1?s:s.slice(t,n+1),this._valueRange=Math.max(s.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let o=t;o<=n;o++)i.push({value:o});return i}getLabelForValue(t){return xE.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}function DY(e,t){const n=[],{bounds:i,step:s,min:o,max:a,precision:l,count:u,maxTicks:f,maxDigits:h,includeBounds:g}=e,y=s||1,b=f-1,{min:_,max:E}=t,C=!Gt(o),P=!Gt(a),O=!Gt(u),z=(E-_)/(h+1);let B=h6((E-_)/b/y)*y,j,M,U,$;if(B<1e-14&&!C&&!P)return[{value:_},{value:E}];$=Math.ceil(E/B)-Math.floor(_/B),$>b&&(B=h6($*B/b/y)*y),Gt(l)||(j=Math.pow(10,l),B=Math.ceil(B*j)/j),i==="ticks"?(M=Math.floor(_/B)*B,U=Math.ceil(E/B)*B):(M=_,U=E),C&&P&&s&&jQ((a-o)/s,B/1e3)?($=Math.round(Math.min((a-o)/B,f)),B=(a-o)/$,M=o,U=a):O?(M=C?o:M,U=P?a:U,$=u-1,B=(U-M)/$):($=(U-M)/B,rh($,Math.round($),B/1e3)?$=Math.round($):$=Math.ceil($));const D=Math.max(p6(B),p6(M));j=Math.pow(10,Gt(l)?D:l),M=Math.round(M*j)/j,U=Math.round(U*j)/j;let ee=0;for(C&&(g&&M!==o?(n.push({value:o}),M<o&&ee++,rh(Math.round((M+ee*B)*j)/j,o,bE(o,z,e))&&ee++):M<o&&ee++);ee<$;++ee){const X=Math.round((M+ee*B)*j)/j;if(P&&X>a)break;n.push({value:X})}return P&&g&&U!==a?n.length&&rh(n[n.length-1].value,a,bE(a,z,e))?n[n.length-1].value=a:n.push({value:a}):(!P||U===a)&&n.push({value:U}),n}function bE(e,t,{horizontal:n,minRotation:r}){const i=Bs(r),s=(n?Math.sin(i):Math.cos(i))||.001,o=.75*t*(""+e).length;return Math.min(t/s,o)}class N0 extends Mc{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,n){return Gt(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:n,maxDefined:r}=this.getUserBounds();let{min:i,max:s}=this;const o=l=>i=n?i:l,a=l=>s=r?s:l;if(t){const l=ao(i),u=ao(s);l<0&&u<0?a(0):l>0&&u>0&&o(0)}if(i===s){let l=s===0?1:Math.abs(s*.05);a(s+l),t||o(i-l)}this.min=i,this.max=s}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:n,stepSize:r}=t,i;return r?(i=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),n=n||11),n&&(i=Math.min(n,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,n=t.ticks;let r=this.getTickLimit();r=Math.max(2,r);const i={maxTicks:r,bounds:t.bounds,min:t.min,max:t.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},s=this._range||this,o=DY(i,s);return t.bounds==="ticks"&&tT(o,this,"value"),t.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const t=this.ticks;let n=this.min,r=this.max;if(super.configure(),this.options.offset&&t.length){const i=(r-n)/Math.max(t.length-1,1)/2;n-=i,r+=i}this._startValue=n,this._endValue=r,this._valueRange=r-n}getLabelForValue(t){return Zh(t,this.chart.options.locale,this.options.ticks.format)}}class np extends N0{static id="linear";static defaults={ticks:{callback:p1.formatters.numeric}};determineDataLimits(){const{min:t,max:n}=this.getMinMax(!0);this.min=Kn(t)?t:0,this.max=Kn(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),n=t?this.width:this.height,r=Bs(this.options.ticks.minRotation),i=(t?Math.sin(r):Math.cos(r))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,s.lineHeight/i))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}const Nh=e=>Math.floor(Wa(e)),Gl=(e,t)=>Math.pow(10,Nh(e)+t);function wE(e){return e/Math.pow(10,Nh(e))===1}function _E(e,t,n){const r=Math.pow(10,n),i=Math.floor(e/r);return Math.ceil(t/r)-i}function LY(e,t){const n=t-e;let r=Nh(n);for(;_E(e,t,r)>10;)r++;for(;_E(e,t,r)<10;)r--;return Math.min(r,Nh(e))}function FY(e,{min:t,max:n}){t=Hi(e.min,t);const r=[],i=Nh(t);let s=LY(t,n),o=s<0?Math.pow(10,Math.abs(s)):1;const a=Math.pow(10,s),l=i>s?Math.pow(10,i):0,u=Math.round((t-l)*o)/o,f=Math.floor((t-l)/a/10)*a*10;let h=Math.floor((u-f)/Math.pow(10,s)),g=Hi(e.min,Math.round((l+f+h*Math.pow(10,s))*o)/o);for(;g<n;)r.push({value:g,major:wE(g),significand:h}),h>=10?h=h<15?15:20:h++,h>=20&&(s++,h=2,o=s>=0?1:o),g=Math.round((l+f+h*Math.pow(10,s))*o)/o;const y=Hi(e.max,g);return r.push({value:y,major:wE(y),significand:h}),r}class BY extends Mc{static id="logarithmic";static defaults={ticks:{callback:p1.formatters.logarithmic,major:{enabled:!0}}};constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,n){const r=N0.prototype.parse.apply(this,[t,n]);if(r===0){this._zero=!0;return}return Kn(r)&&r>0?r:null}determineDataLimits(){const{min:t,max:n}=this.getMinMax(!0);this.min=Kn(t)?Math.max(0,t):null,this.max=Kn(n)?Math.max(0,n):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Kn(this._userMin)&&(this.min=t===Gl(this.min,0)?Gl(this.min,-1):Gl(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:n}=this.getUserBounds();let r=this.min,i=this.max;const s=a=>r=t?r:a,o=a=>i=n?i:a;r===i&&(r<=0?(s(1),o(10)):(s(Gl(r,-1)),o(Gl(i,1)))),r<=0&&s(Gl(i,-1)),i<=0&&o(Gl(r,1)),this.min=r,this.max=i}buildTicks(){const t=this.options,n={min:this._userMin,max:this._userMax},r=FY(n,this);return t.bounds==="ticks"&&tT(r,this,"value"),t.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}getLabelForValue(t){return t===void 0?"0":Zh(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=Wa(t),this._valueRange=Wa(this.max)-Wa(t)}getPixelForValue(t){return(t===void 0||t===0)&&(t=this.min),t===null||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(Wa(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const n=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+n*this._valueRange)}}function Vb(e){const t=e.ticks;if(t.display&&e.display){const n=Qr(t.backdropPadding);return Ct(t.font&&t.font.size,$n.font.size)+n.height}return 0}function zY(e,t,n){return n=zn(n)?n:[n],{w:qQ(e,t.string,n),h:n.length*t.lineHeight}}function SE(e,t,n,r,i){return e===r||e===i?{start:t-n/2,end:t+n/2}:e<r||e>i?{start:t-n,end:t}:{start:t,end:t+n}}function $Y(e){const t={l:e.left+e._padding.left,r:e.right-e._padding.right,t:e.top+e._padding.top,b:e.bottom-e._padding.bottom},n=Object.assign({},t),r=[],i=[],s=e._pointLabels.length,o=e.options.pointLabels,a=o.centerPointLabels?dn/s:0;for(let l=0;l<s;l++){const u=o.setContext(e.getPointLabelContext(l));i[l]=u.padding;const f=e.getPointPosition(l,e.drawingArea+i[l],a),h=mr(u.font),g=zY(e.ctx,h,e._pointLabels[l]);r[l]=g;const y=Hr(e.getIndexAngle(l)+a),b=Math.round($w(y)),_=SE(b,f.x,g.w,0,180),E=SE(b,f.y,g.h,90,270);UY(n,t,y,_,E)}e.setCenterPoint(t.l-n.l,n.r-t.r,t.t-n.t,n.b-t.b),e._pointLabelItems=qY(e,r,i)}function UY(e,t,n,r,i){const s=Math.abs(Math.sin(n)),o=Math.abs(Math.cos(n));let a=0,l=0;r.start<t.l?(a=(t.l-r.start)/s,e.l=Math.min(e.l,t.l-a)):r.end>t.r&&(a=(r.end-t.r)/s,e.r=Math.max(e.r,t.r+a)),i.start<t.t?(l=(t.t-i.start)/o,e.t=Math.min(e.t,t.t-l)):i.end>t.b&&(l=(i.end-t.b)/o,e.b=Math.max(e.b,t.b+l))}function HY(e,t,n){const r=e.drawingArea,{extra:i,additionalAngle:s,padding:o,size:a}=n,l=e.getPointPosition(t,r+i+o,s),u=Math.round($w(Hr(l.angle+Zn))),f=KY(l.y,a.h,u),h=QY(u),g=VY(l.x,a.w,h);return{visible:!0,x:l.x,y:f,textAlign:h,left:g,top:f,right:g+a.w,bottom:f+a.h}}function WY(e,t){if(!t)return!0;const{left:n,top:r,right:i,bottom:s}=e;return!(Vo({x:n,y:r},t)||Vo({x:n,y:s},t)||Vo({x:i,y:r},t)||Vo({x:i,y:s},t))}function qY(e,t,n){const r=[],i=e._pointLabels.length,s=e.options,{centerPointLabels:o,display:a}=s.pointLabels,l={extra:Vb(s)/2,additionalAngle:o?dn/i:0};let u;for(let f=0;f<i;f++){l.padding=n[f],l.size=t[f];const h=HY(e,f,l);r.push(h),a==="auto"&&(h.visible=WY(h,u),h.visible&&(u=h))}return r}function QY(e){return e===0||e===180?"center":e<180?"left":"right"}function VY(e,t,n){return n==="right"?e-=t:n==="center"&&(e-=t/2),e}function KY(e,t,n){return n===90||n===270?e-=t/2:(n>270||n<90)&&(e-=t),e}function GY(e,t,n){const{left:r,top:i,right:s,bottom:o}=n,{backdropColor:a}=t;if(!Gt(a)){const l=gc(t.borderRadius),u=Qr(t.backdropPadding);e.fillStyle=a;const f=r-u.left,h=i-u.top,g=s-r+u.width,y=o-i+u.height;Object.values(l).some(b=>b!==0)?(e.beginPath(),Th(e,{x:f,y:h,w:g,h:y,radius:l}),e.fill()):e.fillRect(f,h,g,y)}}function YY(e,t){const{ctx:n,options:{pointLabels:r}}=e;for(let i=t-1;i>=0;i--){const s=e._pointLabelItems[i];if(!s.visible)continue;const o=r.setContext(e.getPointLabelContext(i));GY(n,o,s);const a=mr(o.font),{x:l,y:u,textAlign:f}=s;kc(n,e._pointLabels[i],l,u+a.lineHeight/2,a,{color:o.color,textAlign:f,textBaseline:"middle"})}}function XT(e,t,n,r){const{ctx:i}=e;if(n)i.arc(e.xCenter,e.yCenter,t,0,An);else{let s=e.getPointPosition(0,t);i.moveTo(s.x,s.y);for(let o=1;o<r;o++)s=e.getPointPosition(o,t),i.lineTo(s.x,s.y)}}function XY(e,t,n,r,i){const s=e.ctx,o=t.circular,{color:a,lineWidth:l}=t;!o&&!r||!a||!l||n<0||(s.save(),s.strokeStyle=a,s.lineWidth=l,s.setLineDash(i.dash||[]),s.lineDashOffset=i.dashOffset,s.beginPath(),XT(e,n,o,r),s.closePath(),s.stroke(),s.restore())}function JY(e,t,n){return hl(e,{label:n,index:t,type:"pointLabel"})}class JT extends N0{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:p1.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=Qr(Vb(this.options)/2),n=this.width=this.maxWidth-t.width,r=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+n/2+t.left),this.yCenter=Math.floor(this.top+r/2+t.top),this.drawingArea=Math.floor(Math.min(n,r)/2)}determineDataLimits(){const{min:t,max:n}=this.getMinMax(!1);this.min=Kn(t)&&!isNaN(t)?t:0,this.max=Kn(n)&&!isNaN(n)?n:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Vb(this.options))}generateTickLabels(t){N0.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((n,r)=>{const i=In(this.options.pointLabels.callback,[n,r],this);return i||i===0?i:""}).filter((n,r)=>this.chart.getDataVisibility(r))}fit(){const t=this.options;t.display&&t.pointLabels.display?$Y(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,n,r,i){this.xCenter+=Math.floor((t-n)/2),this.yCenter+=Math.floor((r-i)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,n,r,i))}getIndexAngle(t){const n=An/(this._pointLabels.length||1),r=this.options.startAngle||0;return Hr(t*n+Bs(r))}getDistanceFromCenterForValue(t){if(Gt(t))return NaN;const n=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*n:(t-this.min)*n}getValueForDistanceFromCenter(t){if(Gt(t))return NaN;const n=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-n:this.min+n}getPointLabelContext(t){const n=this._pointLabels||[];if(t>=0&&t<n.length){const r=n[t];return JY(this.getContext(),t,r)}}getPointPosition(t,n,r=0){const i=this.getIndexAngle(t)-Zn+r;return{x:Math.cos(i)*n+this.xCenter,y:Math.sin(i)*n+this.yCenter,angle:i}}getPointPositionForValue(t,n){return this.getPointPosition(t,this.getDistanceFromCenterForValue(n))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:n,top:r,right:i,bottom:s}=this._pointLabelItems[t];return{left:n,top:r,right:i,bottom:s}}drawBackground(){const{backgroundColor:t,grid:{circular:n}}=this.options;if(t){const r=this.ctx;r.save(),r.beginPath(),XT(this,this.getDistanceFromCenterForValue(this._endValue),n,this._pointLabels.length),r.closePath(),r.fillStyle=t,r.fill(),r.restore()}}drawGrid(){const t=this.ctx,n=this.options,{angleLines:r,grid:i,border:s}=n,o=this._pointLabels.length;let a,l,u;if(n.pointLabels.display&&YY(this,o),i.display&&this.ticks.forEach((f,h)=>{if(h!==0||h===0&&this.min<0){l=this.getDistanceFromCenterForValue(f.value);const g=this.getContext(h),y=i.setContext(g),b=s.setContext(g);XY(this,y,l,o,b)}}),r.display){for(t.save(),a=o-1;a>=0;a--){const f=r.setContext(this.getPointLabelContext(a)),{color:h,lineWidth:g}=f;!g||!h||(t.lineWidth=g,t.strokeStyle=h,t.setLineDash(f.borderDash),t.lineDashOffset=f.borderDashOffset,l=this.getDistanceFromCenterForValue(n.reverse?this.min:this.max),u=this.getPointPosition(a,l),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(u.x,u.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,n=this.options,r=n.ticks;if(!r.display)return;const i=this.getIndexAngle(0);let s,o;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(i),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((a,l)=>{if(l===0&&this.min>=0&&!n.reverse)return;const u=r.setContext(this.getContext(l)),f=mr(u.font);if(s=this.getDistanceFromCenterForValue(this.ticks[l].value),u.showLabelBackdrop){t.font=f.string,o=t.measureText(a.label).width,t.fillStyle=u.backdropColor;const h=Qr(u.backdropPadding);t.fillRect(-o/2-h.left,-s-f.size/2-h.top,o+h.width,f.size+h.height)}kc(t,a.label,0,-s,f,{color:u.color,strokeColor:u.textStrokeColor,strokeWidth:u.textStrokeWidth})}),t.restore()}drawTitle(){}}const w1={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Ci=Object.keys(w1);function EE(e,t){return e-t}function kE(e,t){if(Gt(t))return null;const n=e._adapter,{parser:r,round:i,isoWeekday:s}=e._parseOpts;let o=t;return typeof r=="function"&&(o=r(o)),Kn(o)||(o=typeof r=="string"?n.parse(o,r):n.parse(o)),o===null?null:(i&&(o=i==="week"&&(Sc(s)||s===!0)?n.startOf(o,"isoWeek",s):n.startOf(o,i)),+o)}function CE(e,t,n,r){const i=Ci.length;for(let s=Ci.indexOf(e);s<i-1;++s){const o=w1[Ci[s]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-t)/(a*o.size))<=r)return Ci[s]}return Ci[i-1]}function ZY(e,t,n,r,i){for(let s=Ci.length-1;s>=Ci.indexOf(n);s--){const o=Ci[s];if(w1[o].common&&e._adapter.diff(i,r,o)>=t-1)return o}return Ci[n?Ci.indexOf(n):0]}function eX(e){for(let t=Ci.indexOf(e)+1,n=Ci.length;t<n;++t)if(w1[Ci[t]].common)return Ci[t]}function TE(e,t,n){if(!n)e[t]=!0;else if(n.length){const{lo:r,hi:i}=Uw(n,t),s=n[r]>=t?n[r]:n[i];e[s]=!0}}function tX(e,t,n,r){const i=e._adapter,s=+i.startOf(t[0].value,r),o=t[t.length-1].value;let a,l;for(a=s;a<=o;a=+i.add(a,1,r))l=n[a],l>=0&&(t[l].major=!0);return t}function jE(e,t,n){const r=[],i={},s=t.length;let o,a;for(o=0;o<s;++o)a=t[o],i[a]=o,r.push({value:a,major:!1});return s===0||!n?r:tX(e,r,i,n)}class Kb extends Mc{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,n={}){const r=t.time||(t.time={}),i=this._adapter=new fK._date(t.adapters.date);i.init(n),nh(r.displayFormats,i.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(t),this._normalized=n.normalized}parse(t,n){return t===void 0?null:kE(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,n=this._adapter,r=t.time.unit||"day";let{min:i,max:s,minDefined:o,maxDefined:a}=this.getUserBounds();function l(u){!o&&!isNaN(u.min)&&(i=Math.min(i,u.min)),!a&&!isNaN(u.max)&&(s=Math.max(s,u.max))}(!o||!a)&&(l(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&l(this.getMinMax(!1))),i=Kn(i)&&!isNaN(i)?i:+n.startOf(Date.now(),r),s=Kn(s)&&!isNaN(s)?s:+n.endOf(Date.now(),r)+1,this.min=Math.min(i,s-1),this.max=Math.max(i+1,s)}_getLabelBounds(){const t=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return t.length&&(n=t[0],r=t[t.length-1]),{min:n,max:r}}buildTicks(){const t=this.options,n=t.time,r=t.ticks,i=r.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const s=this.min,o=this.max,a=RQ(i,s,o);return this._unit=n.unit||(r.autoSkip?CE(n.minUnit,this.min,this.max,this._getLabelCapacity(s)):ZY(this,a.length,n.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:eX(this._unit),this.initOffsets(i),t.reverse&&a.reverse(),jE(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let n=0,r=0,i,s;this.options.offset&&t.length&&(i=this.getDecimalForValue(t[0]),t.length===1?n=1-i:n=(this.getDecimalForValue(t[1])-i)/2,s=this.getDecimalForValue(t[t.length-1]),t.length===1?r=s:r=(s-this.getDecimalForValue(t[t.length-2]))/2);const o=t.length<3?.5:.25;n=Cr(n,0,o),r=Cr(r,0,o),this._offsets={start:n,end:r,factor:1/(n+1+r)}}_generate(){const t=this._adapter,n=this.min,r=this.max,i=this.options,s=i.time,o=s.unit||CE(s.minUnit,n,r,this._getLabelCapacity(n)),a=Ct(i.ticks.stepSize,1),l=o==="week"?s.isoWeekday:!1,u=Sc(l)||l===!0,f={};let h=n,g,y;if(u&&(h=+t.startOf(h,"isoWeek",l)),h=+t.startOf(h,u?"day":o),t.diff(r,n,o)>1e5*a)throw new Error(n+" and "+r+" are too far apart with stepSize of "+a+" "+o);const b=i.ticks.source==="data"&&this.getDataTimestamps();for(g=h,y=0;g<r;g=+t.add(g,a,o),y++)TE(f,g,b);return(g===r||i.bounds==="ticks"||y===1)&&TE(f,g,b),Object.keys(f).sort(EE).map(_=>+_)}getLabelForValue(t){const n=this._adapter,r=this.options.time;return r.tooltipFormat?n.format(t,r.tooltipFormat):n.format(t,r.displayFormats.datetime)}format(t,n){const i=this.options.time.displayFormats,s=this._unit,o=n||i[s];return this._adapter.format(t,o)}_tickFormatFunction(t,n,r,i){const s=this.options,o=s.ticks.callback;if(o)return In(o,[t,n,r],this);const a=s.time.displayFormats,l=this._unit,u=this._majorUnit,f=l&&a[l],h=u&&a[u],g=r[n],y=u&&h&&g&&g.major;return this._adapter.format(t,i||(y?h:f))}generateTickLabels(t){let n,r,i;for(n=0,r=t.length;n<r;++n)i=t[n],i.label=this._tickFormatFunction(i.value,n,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const n=this._offsets,r=this.getDecimalForValue(t);return this.getPixelForDecimal((n.start+r)*n.factor)}getValueForPixel(t){const n=this._offsets,r=this.getDecimalForPixel(t)/n.factor-n.end;return this.min+r*(this.max-this.min)}_getLabelSize(t){const n=this.options.ticks,r=this.ctx.measureText(t).width,i=Bs(this.isHorizontal()?n.maxRotation:n.minRotation),s=Math.cos(i),o=Math.sin(i),a=this._resolveTickFontOptions(0).size;return{w:r*s+a*o,h:r*o+a*s}}_getLabelCapacity(t){const n=this.options.time,r=n.displayFormats,i=r[n.unit]||r.millisecond,s=this._tickFormatFunction(t,0,jE(this,[t],this._majorUnit),i),o=this._getLabelSize(s),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let t=this._cache.data||[],n,r;if(t.length)return t;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(n=0,r=i.length;n<r;++n)t=t.concat(i[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let n,r;if(t.length)return t;const i=this.getLabels();for(n=0,r=i.length;n<r;++n)t.push(kE(this,i[n]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return iT(t.sort(EE))}}function sg(e,t,n){let r=0,i=e.length-1,s,o,a,l;n?(t>=e[r].pos&&t<=e[i].pos&&({lo:r,hi:i}=Qo(e,"pos",t)),{pos:s,time:a}=e[r],{pos:o,time:l}=e[i]):(t>=e[r].time&&t<=e[i].time&&({lo:r,hi:i}=Qo(e,"time",t)),{time:s,pos:a}=e[r],{time:o,pos:l}=e[i]);const u=o-s;return u?a+(l-a)*(t-s)/u:a}class nX extends Kb{static id="timeseries";static defaults=Kb.defaults;constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(t);this._minPos=sg(n,this.min),this._tableRange=sg(n,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:n,max:r}=this,i=[],s=[];let o,a,l,u,f;for(o=0,a=t.length;o<a;++o)u=t[o],u>=n&&u<=r&&i.push(u);if(i.length<2)return[{time:n,pos:0},{time:r,pos:1}];for(o=0,a=i.length;o<a;++o)f=i[o+1],l=i[o-1],u=i[o],Math.round((f+l)/2)!==u&&s.push({time:u,pos:o/(a-1)});return s}_generate(){const t=this.min,n=this.max;let r=super.getDataTimestamps();return(!r.includes(t)||!r.length)&&r.splice(0,0,t),(!r.includes(n)||r.length===1)&&r.push(n),r.sort((i,s)=>i-s)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const n=this.getDataTimestamps(),r=this.getLabelTimestamps();return n.length&&r.length?t=this.normalize(n.concat(r)):t=n.length?n:r,t=this._cache.all=t,t}getDecimalForValue(t){return(sg(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const n=this._offsets,r=this.getDecimalForPixel(t)/n.factor-n.end;return sg(this._table,r*this._tableRange+this._minPos,!0)}}var rX=Object.freeze({__proto__:null,CategoryScale:tp,LinearScale:np,LogarithmicScale:BY,RadialLinearScale:JT,TimeScale:Kb,TimeSeriesScale:nX});const iX=[dK,$G,RY,rX];sa.register(...iX);const ZT="label";function NE(e,t){typeof e=="function"?e(t):e&&(e.current=t)}function sX(e,t){const n=e.options;n&&t&&Object.assign(n,t)}function ej(e,t){e.labels=t}function tj(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ZT;const r=[];e.datasets=t.map(i=>{const s=e.datasets.find(o=>o[n]===i[n]);return!s||!i.data||r.includes(s)?{...i}:(r.push(s),Object.assign(s,i),s)})}function oX(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ZT;const n={labels:[],datasets:[]};return ej(n,e.labels),tj(n,e.datasets,t),n}function aX(e,t){const{height:n=150,width:r=300,redraw:i=!1,datasetIdKey:s,type:o,data:a,options:l,plugins:u=[],fallbackContent:f,updateMode:h,...g}=e,y=I.useRef(null),b=I.useRef(null),_=()=>{y.current&&(b.current=new sa(y.current,{type:o,data:oX(a,s),options:l&&{...l},plugins:u}),NE(t,b.current))},E=()=>{NE(t,null),b.current&&(b.current.destroy(),b.current=null)};return I.useEffect(()=>{!i&&b.current&&l&&sX(b.current,l)},[i,l]),I.useEffect(()=>{!i&&b.current&&ej(b.current.config.data,a.labels)},[i,a.labels]),I.useEffect(()=>{!i&&b.current&&a.datasets&&tj(b.current.config.data,a.datasets,s)},[i,a.datasets]),I.useEffect(()=>{b.current&&(i?(E(),setTimeout(_)):b.current.update(h))},[i,l,a.labels,a.datasets,h]),I.useEffect(()=>{b.current&&(E(),setTimeout(_))},[o]),I.useEffect(()=>(_(),()=>E()),[]),wn.createElement("canvas",{ref:y,role:"img",height:n,width:r,...g},f)}const nj=I.forwardRef(aX);function t_(e,t){return sa.register(t),I.forwardRef((n,r)=>wn.createElement(nj,{...n,ref:r,type:e}))}const lX=t_("bar",TT),cX=t_("radar",NT),rj=t_("doughnut",v1),vd={searchBtnSpeed:{mu:1.457,sigma:.7362},captchaSpeed:{mu:3.6415,sigma:.4057},totalSpeed:{mu:8.6367,sigma:.5422}};function ij(e,t,n){if(e<=0)return 0;const r=(Math.log(e)-Math.log(t))/n,i=1/(1+.2316419*Math.abs(r)),o=.3989423*Math.exp(-r*r/2)*i*(.3193815+i*(-.3565638+i*(1.781478+i*(-1.821256+i*1.330274))));return r>0?1-o:o}function _1(e,t=7.5,n=.3){const s=e>3e3?e/1e3:e,a=1-ij(s,t,n);return Math.max(Math.min(a*100,100),0)}function uX(e){const n=Math.min(Math.max(e,0),100)/100,i=-ij(n,.4,.1);return Math.round(i*5)}function dX(e,t){const n=(e-2*t)/(e-t);return Math.max(0,Math.round(n*100))}function fX(e){return _1(e,vd.searchBtnSpeed.mu,vd.searchBtnSpeed.sigma)}function hX(e){return _1(e,vd.captchaSpeed.mu,vd.captchaSpeed.sigma)}function pX(e){return Math.max(0,Math.min(e,100))}function mX(e){return _1(e,vd.totalSpeed.mu,vd.totalSpeed.sigma)}sa.register(JT,Zw,Nd,VT,Pd,Id);const gX={responsive:!0,scales:{r:{angleLines:{display:!0},suggestedMin:0,suggestedMax:100,ticks:{display:!1},pointLabels:{font:{size:14},color:"#4B5563"},grid:{color:"#E5E7EB"}}},plugins:{legend:{display:!1},tooltip:{enabled:!0}}};function yX(e){const{user_ability:t}=e,{searchBtnSpeed:n,totalSpeed:r,accuracy:i,captchaSpeed:s}=t,o=["신청 버튼 클릭 속도","전체 속도","정확도","매크로 인증 속도"],a=[n,r,i,s];return{labels:o,datasets:[{label:"평균",data:IE([1.776296,9.30268,93.58,3.843947]),backgroundColor:"rgba(5, 223, 114, 0.2)",borderColor:"rgba(5, 223, 114, 1)",borderWidth:2,pointBackgroundColor:"rgba(5, 223, 114, 1)"},{label:"내 능력",data:IE(a),backgroundColor:"rgb(0, 122, 255, 0.2)",borderColor:"rgba(0, 122, 255, 1)",borderWidth:2,pointBackgroundColor:"rgba(0, 122, 255, 1)"}]}}function IE(e){return[fX(e[0]),mX(e[1]),pX(e[2]),hX(e[3])]}function n_({result:e}){const t=yX(e),{searchBtnSpeed:n,totalSpeed:r,accuracy:i,captchaSpeed:s}=e.user_ability;return p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"h-90",children:p.jsx(cX,{data:t,className:"mx-auto",options:gX})}),p.jsxs("div",{className:"absolute bottom-6 right-6 bg-white shadow-lg rounded-lg px-4 py-3 text-xs text-gray-800",children:[p.jsx("div",{className:"font-bold text-sm mb-1",children:"내 능력"}),p.jsxs("ul",{className:"space-y-1",children:[p.jsxs("li",{className:"flex justify-between",children:[p.jsx("span",{children:"• 신청 버튼 클릭 속도 "})," ",p.jsxs("span",{children:[n.toFixed(2)," sec"]})]}),p.jsxs("li",{className:"flex justify-between",children:[p.jsx("span",{children:"• 총 소요 시간"})," ",p.jsxs("span",{children:[r.toFixed(2)," sec"]})]}),p.jsxs("li",{className:"flex justify-between",children:[p.jsx("span",{children:"• 정확도"})," ",p.jsxs("span",{children:[i.toFixed(2)," %"]})]}),p.jsxs("li",{className:"flex justify-between",children:[p.jsx("span",{children:"• 매크로 방지 코드 인증 속도"})," ",p.jsxs("span",{children:[s.toFixed(2)," sec"]})]})]})]})]})}function Gb(e,t){const n=e.getContext("2d");if(!n)return;n.clearRect(0,0,e.width,e.height);const r=n.createLinearGradient(0,0,e.width,0);r.addColorStop(0,"#4a4a4a"),r.addColorStop(1,"#bcbcbc"),n.fillStyle=r,n.fillRect(0,0,e.width,e.height),n.font="bold 32px Arial Black, Impact, sans-serif",n.fillStyle="black",n.textAlign="center",n.textBaseline="middle",n.fillText(t,e.width/2,e.height/2)}const vX={user_ability:{searchBtnSpeed:1.076296,totalSpeed:6.70268,accuracy:98.58,captchaSpeed:4.843947}};function xX(){const[e,t]=I.useState(vX);return p.jsxs(Ac,{children:[p.jsx(u1,{title:"세종대 수강신청 연습 (올클연습)",subtitle:"세종대 수강신청 연습 부터, 결과 분석까지 한 번에",href:"/simulation"}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-6",children:[p.jsxs(w0,{children:[p.jsx("h3",{className:"text-lg font-semibold",children:"수강 신청 연습"}),p.jsx("p",{className:"text-gray-600 mb-4",children:"실전처럼 연습하고, 수강 신청 성공률을 높여보세요!"}),p.jsx(wX,{setRadarData:t})]}),p.jsxs(w0,{className:"relative",children:[p.jsx("h3",{className:"text-lg font-semibold",children:"연습 결과 분석"}),p.jsx("p",{className:"text-gray-600 mb-4",children:"연습 결과를 분석하여 더 나은 전략을 세워보세요."}),p.jsx(n_,{result:e})]})]})]})}function PE(){return Math.floor(1e3+Math.random()*9e3).toString()}const bX=4;function wX({setRadarData:e}){const t=I.useRef(null),[n,r]=I.useState(),[i,s]=I.useState({message:"",color:"red"}),o=I.useRef(""),a=SX(e);function l(){o.current=PE(),r(""),s({message:"",color:"red"}),a.resetResult(),t.current&&Gb(t.current,o.current)}function u(){setTimeout(l,200)}function f(g){let y=g.target.value;if(a.updateResult(),/\D/.test(y)){s({message:"0~9까지의 숫자만 입력해주세요",color:"red"}),r(y.replace(/\D/g,""));return}if(y.length>bX){s({message:"4자리까지 입력 가능합니다",color:"red"});return}r(y),s({message:"",color:"red"})}I.useEffect(()=>{setTimeout(()=>{o.current=PE(),a.initResult(),t.current&&Gb(t.current,o.current)},100)},[]);function h(){n?.toString()===o.current?(s({message:"캡차가 성공적으로 입력되었습니다.",color:"green"}),a.endResult(!0),setTimeout(l,700)):(s({message:"캡차 입력이 잘못되었습니다.",color:"red"}),a.endResult(!1),setTimeout(l,700))}return p.jsxs("div",{className:"flex flex-col justify-center h-4/5",children:[p.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-4 p-4",children:[p.jsxs("div",{className:"flex flex-col",children:[p.jsxs("div",{className:"text-sm font-semibold flex flex-row items-center gap-2",children:[p.jsx("span",{className:"inline-block w-1.5 h-5 bg-blue-500 mr-2 "}),"생성된 코드",p.jsx(_X,{onClick:u,children:"재생성"})]}),p.jsx("div",{className:"flex items-center mt-1",children:p.jsx("canvas",{id:"captcha",width:"105",height:"50",ref:t})})]}),p.jsxs("div",{children:[p.jsxs("div",{className:"text-sm font-semibold  flex flex-row items-center",children:[p.jsx("span",{className:"inline-block w-1.5 h-5 bg-blue-500 mr-2 "}),"생성된 코드 입력"]}),p.jsx("input",{type:"text",value:n,onChange:g=>f(g),className:"mt-2 w-full border-1 border-gray-300 rounded px-2 py-1 text-sm focus:outline-none focus:ring focus:border-gray-800",placeholder:"코드를 입력하세요"}),p.jsx("span",{className:"pl-1 text-xs "+(i.color==="green"?"text-green-500":"text-red-500"),children:i.message})]})]}),p.jsx("div",{className:"flex justify-end p-4",children:p.jsx("button",{onClick:h,className:"px-4 py-2 bg-white hover:bg-blue-50 rounded-xs border cursor-pointer",children:"코드입력"})})]})}function _X({className:e,children:t,...n}){return p.jsx("button",{className:"px-2 py-1 bg-blue-500 text-white text-sm rounded-xs cursor-pointer hover:bg-blue-600 "+e,...n,children:t})}function SX(e){const t=I.useRef({tryCount:0,successCount:0,avgTime:0,startTime:-1});function n(){t.current.startTime=-1}function r(){t.current.startTime=Date.now()}function i(){t.current.startTime===-1&&(t.current.startTime=Date.now())}function s(o){const a=Date.now(),l=t.current.startTime===-1?4.843947:1+(a-t.current.startTime)/1e3;t.current.startTime=-1,t.current.tryCount+=1,t.current.avgTime=1+(l-t.current.avgTime)/t.current.tryCount,t.current.successCount+=o?1:0,e&&e(u=>({user_ability:{...u.user_ability,captchaSpeed:t.current.avgTime,accuracy:100*(t.current.successCount/t.current.tryCount)}}))}return{initResult:n,resetResult:r,updateResult:i,endResult:s}}function Rd(){return Hs({queryKey:["departments"],queryFn:EX,staleTime:1/0,select:e=>e.departments.sort((t,n)=>t.departmentName.localeCompare(n.departmentName))})}const EX=async()=>await ra("/api/departments"),kX=e=>{if(!e)return{universityDict:{},collegeDict:{}};const t={},n={};return e.forEach(r=>{const[i,s,o]=r.departmentName.split(" "),a=i.trim(),l=s?.trim(),u=o?.trim();l&&(t[a]||(t[a]=[]),t[a]=[...t[a],l],u||(n[l]=[l])),u&&(t[a]||(t[a]=[]),t[a]=[...t[a],u],n[l]||(n[l]=[]),n[l]=[...n[l],u])}),{universityDict:t,collegeDict:n}},CX=(e,t)=>{const n=e.split(" ").map(r=>r.trim());for(const r in t)if(n.some(i=>t[r].includes(i)))return r;return console.error("No university found",e),""},TX=(e,t)=>{const n=e.split(" ").map(r=>r.trim());for(const r in t)if(n.some(i=>r.includes(i)))return r;return console.error("No college found",e),""},S1={labels:["컴퓨터공학과","정보통신공학과","소프트웨어학과","기타"],datasets:[{data:[40,25,20,15]}]},rp=["#f97316","#3b82f6","#facc15","#22c55e","#60b6d4"];function RE(e){if(!e)return S1;const t={};return e.forEach(n=>{t[n.registerDepartment??""]||(t[n.registerDepartment??""]=0),t[n.registerDepartment??""]+=Number(n.eachCount)}),{labels:Object.keys(t).map(n=>n||"기타"),datasets:[{data:Object.values(t),backgroundColor:rp}]}}function jX(e,t){if(!t)return S1;const n={major:0,"non-major":0},r=e.split(" ").map(o=>o.trim()),i=o=>o.split(" ").map(l=>l.trim()).some(l=>r.includes(l));t.forEach(o=>{const a=i(o.registerDepartment??"")?"major":"non-major";n[a]+=Number(o.eachCount)});const s={major:"전공","non-major":"비전공"};return{labels:Object.keys(n).map(o=>s[o]),datasets:[{data:Object.values(n),backgroundColor:rp}]}}function NX(e,t){if(!e||!t)return S1;const n={};return e.forEach(r=>{const i=CX(r.registerDepartment??"",t);n[i]||(n[i]=0),n[i]+=Number(r.eachCount)}),{labels:Object.keys(n).map(r=>r||"기타"),datasets:[{data:Object.values(n),backgroundColor:rp}]}}function IX(e,t){if(!e||!t)return S1;const n={};return e.forEach(r=>{const i=TX(r.registerDepartment??"",t);n[i]||(n[i]=0),n[i]+=Number(r.eachCount)}),{labels:Object.keys(n).map(r=>r||"기타"),datasets:[{data:Object.values(n),backgroundColor:rp}]}}function PX(e){return e?e.reduce((t,n)=>t+Number(n.eachCount),0):-1}sa.register(ep,tp,np,Pd,Id);const RX={labels:["컴퓨터공학과","정보통신공학과","소프트웨어학과","기타"],datasets:[{data:[40,25,20,15],backgroundColor:rp}]};function OX(){return p.jsxs(Ac,{children:[p.jsx(u1,{title:"관심과목 분석",href:"/wishes"}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-6",children:[p.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[p.jsx("h2",{className:"text-lg font-semibold mb-2",children:"학과별 관심도"}),p.jsx("div",{className:"flex aligh-center justify-center max-h-96",children:p.jsx(rj,{data:RX})})]}),p.jsxs("div",{className:"bg-white p-6 shadow-md rounded-md",children:[p.jsx("h3",{className:"text-lg font-semibold",children:"대체 과목 추천"}),[{name:"데이터베이스개론",dept:"데이터베이스 시스템",status:"30명"},{name:"알고리즘분석",dept:"고급알고리즘",status:"14명"}].map((e,t)=>p.jsxs("div",{className:"mt-4 flex justify-between p-2 rounded-md border border-gray-200",children:[p.jsxs("div",{children:[p.jsx("p",{className:"font-semibold",children:e.name}),p.jsx("p",{className:"text-sm text-gray-500",children:e.dept})]}),p.jsx("span",{className:"text-yellow-500",children:e.status})]},"recommend-course-"+t))]})]})]})}const sj=e=>I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:17,height:17,viewBox:"-0.1 -1.2 11.985078811645508 17",...e},I.createElement("g",{transform:"matrix(1,0,0,-1,0,27.999998092651367)"},I.createElement("path",{d:"M5.99254,27.999999046325684Q5.61809,27.999999046325684,5.37737,27.753899046325685Q5.13664,27.507799046325683,5.13664,27.124999046325684L5.13664,26.605499046325683Q3.63883,26.277299046325684,2.70269,25.10159904632568Q1.73981,23.925779046325683,1.71306,22.312499046325684L1.71306,21.792969046325684Q1.68632,19.824219046325684,0.429221,18.320309046325683L0.215247,18.074219046325684Q-0.13246,17.664059046325683,0.0815138,17.144529046325683Q0.322234,16.652339046325682,0.857169,16.624999046325684L11.1279,16.624999046325684Q11.6628,16.652339046325682,11.9036,17.144529046325683Q12.1175,17.664059046325683,11.7698,18.074219046325684L11.5826,18.320309046325683Q10.2988,19.796869046325682,10.272,21.792969046325684L10.272,22.312499046325684Q10.2453,23.925779046325683,9.28239,25.10159904632568Q8.34625,26.277299046325684,6.84843,26.605499046325683L6.84843,27.124999046325684Q6.84843,27.507799046325683,6.60771,27.753899046325685Q6.36699,27.999999046325684,5.99254,27.999999046325684ZM7.19614,14.519530046325684Q7.70433,15.039059046325683,7.70433,15.749999046325684L5.99254,15.749999046325684L4.28075,15.749999046325684Q4.28075,15.039059046325683,4.78894,14.519530046325684Q5.29713,13.999999046325684,5.99254,13.999999046325684Q6.68796,13.999999046325684,7.19614,14.519530046325684Z",fill:"#9CA3AF",fillOpacity:1,style:{mixBlendMode:"passthrough"}}))),Od=({className:e,disabled:t=!1})=>t?p.jsx(sj,{className:e}):p.jsx(Nw,{className:e});var Hg={exports:{}},AX=Hg.exports,OE;function MX(){return OE||(OE=1,function(e,t){(function(n,r){e.exports=r()})(AX,function(){var n=function(v,w){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,N){k.__proto__=N}||function(k,N){for(var R in N)Object.prototype.hasOwnProperty.call(N,R)&&(k[R]=N[R])})(v,w)},r=function(){return(r=Object.assign||function(v){for(var w,k=1,N=arguments.length;k<N;k++)for(var R in w=arguments[k])Object.prototype.hasOwnProperty.call(w,R)&&(v[R]=w[R]);return v}).apply(this,arguments)};function i(v,w,k){for(var N,R=0,L=w.length;R<L;R++)!N&&R in w||((N=N||Array.prototype.slice.call(w,0,R))[R]=w[R]);return v.concat(N||Array.prototype.slice.call(w))}var s=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:$f,o=Object.keys,a=Array.isArray;function l(v,w){return typeof w!="object"||o(w).forEach(function(k){v[k]=w[k]}),v}typeof Promise>"u"||s.Promise||(s.Promise=Promise);var u=Object.getPrototypeOf,f={}.hasOwnProperty;function h(v,w){return f.call(v,w)}function g(v,w){typeof w=="function"&&(w=w(u(v))),(typeof Reflect>"u"?o:Reflect.ownKeys)(w).forEach(function(k){b(v,k,w[k])})}var y=Object.defineProperty;function b(v,w,k,N){y(v,w,l(k&&h(k,"get")&&typeof k.get=="function"?{get:k.get,set:k.set,configurable:!0}:{value:k,configurable:!0,writable:!0},N))}function _(v){return{from:function(w){return v.prototype=Object.create(w.prototype),b(v.prototype,"constructor",v),{extend:g.bind(null,v.prototype)}}}}var E=Object.getOwnPropertyDescriptor,C=[].slice;function P(v,w,k){return C.call(v,w,k)}function O(v,w){return w(v)}function z(v){if(!v)throw new Error("Assertion Failed")}function B(v){s.setImmediate?setImmediate(v):setTimeout(v,0)}function j(v,w){if(typeof w=="string"&&h(v,w))return v[w];if(!w)return v;if(typeof w!="string"){for(var k=[],N=0,R=w.length;N<R;++N){var L=j(v,w[N]);k.push(L)}return k}var W=w.indexOf(".");if(W!==-1){var Y=v[w.substr(0,W)];return Y==null?void 0:j(Y,w.substr(W+1))}}function M(v,w,k){if(v&&w!==void 0&&!("isFrozen"in Object&&Object.isFrozen(v)))if(typeof w!="string"&&"length"in w){z(typeof k!="string"&&"length"in k);for(var N=0,R=w.length;N<R;++N)M(v,w[N],k[N])}else{var L,W,Y=w.indexOf(".");Y!==-1?(L=w.substr(0,Y),(W=w.substr(Y+1))===""?k===void 0?a(v)&&!isNaN(parseInt(L))?v.splice(L,1):delete v[L]:v[L]=k:M(Y=!(Y=v[L])||!h(v,L)?v[L]={}:Y,W,k)):k===void 0?a(v)&&!isNaN(parseInt(w))?v.splice(w,1):delete v[w]:v[w]=k}}function U(v){var w,k={};for(w in v)h(v,w)&&(k[w]=v[w]);return k}var $=[].concat;function D(v){return $.apply([],v)}var Ee="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(D([8,16,32,64].map(function(v){return["Int","Uint","Float"].map(function(w){return w+v+"Array"})}))).filter(function(v){return s[v]}),ee=new Set(Ee.map(function(v){return s[v]})),X=null;function re(v){return X=new WeakMap,v=function w(k){if(!k||typeof k!="object")return k;var N=X.get(k);if(N)return N;if(a(k)){N=[],X.set(k,N);for(var R=0,L=k.length;R<L;++R)N.push(w(k[R]))}else if(ee.has(k.constructor))N=k;else{var W,Y=u(k);for(W in N=Y===Object.prototype?{}:Object.create(Y),X.set(k,N),k)h(k,W)&&(N[W]=w(k[W]))}return N}(v),X=null,v}var Q={}.toString;function q(v){return Q.call(v).slice(8,-1)}var V=typeof Symbol<"u"?Symbol.iterator:"@@iterator",ne=typeof V=="symbol"?function(v){var w;return v!=null&&(w=v[V])&&w.apply(v)}:function(){return null};function Z(v,w){return w=v.indexOf(w),0<=w&&v.splice(w,1),0<=w}var fe={};function F(v){var w,k,N,R;if(arguments.length===1){if(a(v))return v.slice();if(this===fe&&typeof v=="string")return[v];if(R=ne(v)){for(k=[];!(N=R.next()).done;)k.push(N.value);return k}if(v==null)return[v];if(typeof(w=v.length)!="number")return[v];for(k=new Array(w);w--;)k[w]=v[w];return k}for(w=arguments.length,k=new Array(w);w--;)k[w]=arguments[w];return k}var G=typeof Symbol<"u"?function(v){return v[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},Wn=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],hi=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(Wn),ye={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function H(v,w){this.name=v,this.message=w}function Oe(v,w){return v+". Errors: "+Object.keys(w).map(function(k){return w[k].toString()}).filter(function(k,N,R){return R.indexOf(k)===N}).join(`
`)}function Ce(v,w,k,N){this.failures=w,this.failedKeys=N,this.successCount=k,this.message=Oe(v,w)}function Te(v,w){this.name="BulkError",this.failures=Object.keys(w).map(function(k){return w[k]}),this.failuresByPos=w,this.message=Oe(v,this.failures)}_(H).from(Error).extend({toString:function(){return this.name+": "+this.message}}),_(Ce).from(H),_(Te).from(H);var Ye=hi.reduce(function(v,w){return v[w]=w+"Error",v},{}),qe=H,Ne=hi.reduce(function(v,w){var k=w+"Error";function N(R,L){this.name=k,R?typeof R=="string"?(this.message="".concat(R).concat(L?`
 `+L:""),this.inner=L||null):typeof R=="object"&&(this.message="".concat(R.name," ").concat(R.message),this.inner=R):(this.message=ye[w]||k,this.inner=null)}return _(N).from(qe),v[w]=N,v},{});Ne.Syntax=SyntaxError,Ne.Type=TypeError,Ne.Range=RangeError;var ct=Wn.reduce(function(v,w){return v[w+"Error"]=Ne[w],v},{}),xn=hi.reduce(function(v,w){return["Syntax","Type","Range"].indexOf(w)===-1&&(v[w+"Error"]=Ne[w]),v},{});function It(){}function En(v){return v}function sn(v,w){return v==null||v===En?w:function(k){return w(v(k))}}function yn(v,w){return function(){v.apply(this,arguments),w.apply(this,arguments)}}function Pi(v,w){return v===It?w:function(){var k=v.apply(this,arguments);k!==void 0&&(arguments[0]=k);var N=this.onsuccess,R=this.onerror;this.onsuccess=null,this.onerror=null;var L=w.apply(this,arguments);return N&&(this.onsuccess=this.onsuccess?yn(N,this.onsuccess):N),R&&(this.onerror=this.onerror?yn(R,this.onerror):R),L!==void 0?L:k}}function Gr(v,w){return v===It?w:function(){v.apply(this,arguments);var k=this.onsuccess,N=this.onerror;this.onsuccess=this.onerror=null,w.apply(this,arguments),k&&(this.onsuccess=this.onsuccess?yn(k,this.onsuccess):k),N&&(this.onerror=this.onerror?yn(N,this.onerror):N)}}function Ri(v,w){return v===It?w:function(k){var N=v.apply(this,arguments);l(k,N);var R=this.onsuccess,L=this.onerror;return this.onsuccess=null,this.onerror=null,k=w.apply(this,arguments),R&&(this.onsuccess=this.onsuccess?yn(R,this.onsuccess):R),L&&(this.onerror=this.onerror?yn(L,this.onerror):L),N===void 0?k===void 0?void 0:k:l(N,k)}}function di(v,w){return v===It?w:function(){return w.apply(this,arguments)!==!1&&v.apply(this,arguments)}}function wt(v,w){return v===It?w:function(){var k=v.apply(this,arguments);if(k&&typeof k.then=="function"){for(var N=this,R=arguments.length,L=new Array(R);R--;)L[R]=arguments[R];return k.then(function(){return w.apply(N,L)})}return w.apply(this,arguments)}}xn.ModifyError=Ce,xn.DexieError=H,xn.BulkError=Te;var on=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function pt(v){on=v}var Bt={},Pt=100,Ee=typeof Promise>"u"?[]:function(){var v=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[v,u(v),v];var w=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[w,u(w),v]}(),Wn=Ee[0],hi=Ee[1],Ee=Ee[2],hi=hi&&hi.then,Pe=Wn&&Wn.constructor,ut=!!Ee,vt=function(v,w){Gn.push([v,w]),hn&&(queueMicrotask(Uc),hn=!1)},zt=!0,hn=!0,er=[],tr=[],Yr=En,yr={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:It,pgp:!1,env:{},finalize:It},Qe=yr,Gn=[],Mn=0,Yi=[];function Ve(v){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var w=this._PSD=Qe;if(typeof v!="function"){if(v!==Bt)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&po(this,this._value))}this._state=null,this._value=null,++w.ref,function k(N,R){try{R(function(L){if(N._state===null){if(L===N)throw new TypeError("A promise cannot be resolved with itself.");var W=N._lib&&te();L&&typeof L.then=="function"?k(N,function(Y,se){L instanceof Ve?L._then(Y,se):L.then(Y,se)}):(N._state=!0,N._value=L,qs(N)),W&&me()}},po.bind(null,N))}catch(L){po(N,L)}}(this,v)}var Oi={get:function(){var v=Qe,w=lt;function k(N,R){var L=this,W=!v.global&&(v!==Qe||w!==lt),Y=W&&!$t(),se=new Ve(function(ae,de){vs(L,new ys(xs(N,v,W,Y),xs(R,v,W,Y),ae,de,v))});return this._consoleTask&&(se._consoleTask=this._consoleTask),se}return k.prototype=Bt,k},set:function(v){b(this,"then",v&&v.prototype===Bt?Oi:{get:function(){return v},set:Oi.set})}};function ys(v,w,k,N,R){this.onFulfilled=typeof v=="function"?v:null,this.onRejected=typeof w=="function"?w:null,this.resolve=k,this.reject=N,this.psd=R}function po(v,w){var k,N;tr.push(w),v._state===null&&(k=v._lib&&te(),w=Yr(w),v._state=!1,v._value=w,N=v,er.some(function(R){return R._value===N._value})||er.push(N),qs(v),k&&me())}function qs(v){var w=v._listeners;v._listeners=[];for(var k=0,N=w.length;k<N;++k)vs(v,w[k]);var R=v._PSD;--R.ref||R.finalize(),Mn===0&&(++Mn,vt(function(){--Mn==0&&_e()},[]))}function vs(v,w){if(v._state!==null){var k=v._state?w.onFulfilled:w.onRejected;if(k===null)return(v._state?w.resolve:w.reject)(v._value);++w.psd.ref,++Mn,vt($c,[k,v,w])}else v._listeners.push(w)}function $c(v,w,k){try{var N,R=w._value;!w._state&&tr.length&&(tr=[]),N=on&&w._consoleTask?w._consoleTask.run(function(){return v(R)}):v(R),w._state||tr.indexOf(R)!==-1||function(L){for(var W=er.length;W;)if(er[--W]._value===L._value)return er.splice(W,1)}(w),k.resolve(N)}catch(L){k.reject(L)}finally{--Mn==0&&_e(),--k.psd.ref||k.psd.finalize()}}function Uc(){vr(yr,function(){te()&&me()})}function te(){var v=zt;return hn=zt=!1,v}function me(){var v,w,k;do for(;0<Gn.length;)for(v=Gn,Gn=[],k=v.length,w=0;w<k;++w){var N=v[w];N[0].apply(null,N[1])}while(0<Gn.length);hn=zt=!0}function _e(){var v=er;er=[],v.forEach(function(N){N._PSD.onunhandled.call(null,N._value,N)});for(var w=Yi.slice(0),k=w.length;k;)w[--k]()}function Ae(v){return new Ve(Bt,!1,v)}function je(v,w){var k=Qe;return function(){var N=te(),R=Qe;try{return an(k,!0),v.apply(this,arguments)}catch(L){w&&w(L)}finally{an(R,!1),N&&me()}}}g(Ve.prototype,{then:Oi,_then:function(v,w){vs(this,new ys(null,null,v,w,Qe))},catch:function(v){if(arguments.length===1)return this.then(null,v);var w=v,k=arguments[1];return typeof w=="function"?this.then(null,function(N){return(N instanceof w?k:Ae)(N)}):this.then(null,function(N){return(N&&N.name===w?k:Ae)(N)})},finally:function(v){return this.then(function(w){return Ve.resolve(v()).then(function(){return w})},function(w){return Ve.resolve(v()).then(function(){return Ae(w)})})},timeout:function(v,w){var k=this;return v<1/0?new Ve(function(N,R){var L=setTimeout(function(){return R(new Ne.Timeout(w))},v);k.then(N,R).finally(clearTimeout.bind(null,L))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&b(Ve.prototype,Symbol.toStringTag,"Dexie.Promise"),yr.env=pn(),g(Ve,{all:function(){var v=F.apply(null,arguments).map(Dn);return new Ve(function(w,k){v.length===0&&w([]);var N=v.length;v.forEach(function(R,L){return Ve.resolve(R).then(function(W){v[L]=W,--N||w(v)},k)})})},resolve:function(v){return v instanceof Ve?v:v&&typeof v.then=="function"?new Ve(function(w,k){v.then(w,k)}):new Ve(Bt,!0,v)},reject:Ae,race:function(){var v=F.apply(null,arguments).map(Dn);return new Ve(function(w,k){v.map(function(N){return Ve.resolve(N).then(w,k)})})},PSD:{get:function(){return Qe},set:function(v){return Qe=v}},totalEchoes:{get:function(){return lt}},newPSD:tt,usePSD:vr,scheduler:{get:function(){return vt},set:function(v){vt=v}},rejectionMapper:{get:function(){return Yr},set:function(v){Yr=v}},follow:function(v,w){return new Ve(function(k,N){return tt(function(R,L){var W=Qe;W.unhandleds=[],W.onunhandled=L,W.finalize=yn(function(){var Y,se=this;Y=function(){se.unhandleds.length===0?R():L(se.unhandleds[0])},Yi.push(function ae(){Y(),Yi.splice(Yi.indexOf(ae),1)}),++Mn,vt(function(){--Mn==0&&_e()},[])},W.finalize),v()},w,k,N)})}}),Pe&&(Pe.allSettled&&b(Ve,"allSettled",function(){var v=F.apply(null,arguments).map(Dn);return new Ve(function(w){v.length===0&&w([]);var k=v.length,N=new Array(k);v.forEach(function(R,L){return Ve.resolve(R).then(function(W){return N[L]={status:"fulfilled",value:W}},function(W){return N[L]={status:"rejected",reason:W}}).then(function(){return--k||w(N)})})})}),Pe.any&&typeof AggregateError<"u"&&b(Ve,"any",function(){var v=F.apply(null,arguments).map(Dn);return new Ve(function(w,k){v.length===0&&k(new AggregateError([]));var N=v.length,R=new Array(N);v.forEach(function(L,W){return Ve.resolve(L).then(function(Y){return w(Y)},function(Y){R[W]=Y,--N||k(new AggregateError(R))})})})}),Pe.withResolvers&&(Ve.withResolvers=Pe.withResolvers));var Ke={awaits:0,echoes:0,id:0},it=0,Ze=[],nt=0,lt=0,at=0;function tt(v,w,k,N){var R=Qe,L=Object.create(R);return L.parent=R,L.ref=0,L.global=!1,L.id=++at,yr.env,L.env=ut?{Promise:Ve,PromiseProp:{value:Ve,configurable:!0,writable:!0},all:Ve.all,race:Ve.race,allSettled:Ve.allSettled,any:Ve.any,resolve:Ve.resolve,reject:Ve.reject}:{},w&&l(L,w),++R.ref,L.finalize=function(){--this.parent.ref||this.parent.finalize()},N=vr(L,v,k,N),L.ref===0&&L.finalize(),N}function Rt(){return Ke.id||(Ke.id=++it),++Ke.awaits,Ke.echoes+=Pt,Ke.id}function $t(){return!!Ke.awaits&&(--Ke.awaits==0&&(Ke.id=0),Ke.echoes=Ke.awaits*Pt,!0)}function Dn(v){return Ke.echoes&&v&&v.constructor===Pe?(Rt(),v.then(function(w){return $t(),w},function(w){return $t(),tn(w)})):v}function nr(){var v=Ze[Ze.length-1];Ze.pop(),an(v,!1)}function an(v,w){var k,N=Qe;(w?!Ke.echoes||nt++&&v===Qe:!nt||--nt&&v===Qe)||queueMicrotask(w?(function(R){++lt,Ke.echoes&&--Ke.echoes!=0||(Ke.echoes=Ke.awaits=Ke.id=0),Ze.push(Qe),an(R,!0)}).bind(null,v):nr),v!==Qe&&(Qe=v,N===yr&&(yr.env=pn()),ut&&(k=yr.env.Promise,w=v.env,(N.global||v.global)&&(Object.defineProperty(s,"Promise",w.PromiseProp),k.all=w.all,k.race=w.race,k.resolve=w.resolve,k.reject=w.reject,w.allSettled&&(k.allSettled=w.allSettled),w.any&&(k.any=w.any))))}function pn(){var v=s.Promise;return ut?{Promise:v,PromiseProp:Object.getOwnPropertyDescriptor(s,"Promise"),all:v.all,race:v.race,allSettled:v.allSettled,any:v.any,resolve:v.resolve,reject:v.reject}:{}}function vr(v,w,k,N,R){var L=Qe;try{return an(v,!0),w(k,N,R)}finally{an(L,!1)}}function xs(v,w,k,N){return typeof v!="function"?v:function(){var R=Qe;k&&Rt(),an(w,!0);try{return v.apply(this,arguments)}finally{an(R,!1),N&&queueMicrotask($t)}}}function Xr(v){Promise===Pe&&Ke.echoes===0?nt===0?v():enqueueNativeMicroTask(v):setTimeout(v,0)}(""+hi).indexOf("[native code]")===-1&&(Rt=$t=It);var tn=Ve.reject,Ai="￿",Wt="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Xi="String expected.",Jr=[],Ji="__dbnames",qt="readonly",qn="readwrite";function Zr(v,w){return v?w?function(){return v.apply(this,arguments)&&w.apply(this,arguments)}:v:w}var Mi={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Jt(v){return typeof v!="string"||/\./.test(v)?function(w){return w}:function(w){return w[v]===void 0&&v in w&&delete(w=re(w))[v],w}}function mo(){throw Ne.Type()}function mt(v,w){try{var k=Hc(v),N=Hc(w);if(k!==N)return k==="Array"?1:N==="Array"?-1:k==="binary"?1:N==="binary"?-1:k==="string"?1:N==="string"?-1:k==="Date"?1:N!=="Date"?NaN:-1;switch(k){case"number":case"Date":case"string":return w<v?1:v<w?-1:0;case"binary":return function(R,L){for(var W=R.length,Y=L.length,se=W<Y?W:Y,ae=0;ae<se;++ae)if(R[ae]!==L[ae])return R[ae]<L[ae]?-1:1;return W===Y?0:W<Y?-1:1}(vp(v),vp(w));case"Array":return function(R,L){for(var W=R.length,Y=L.length,se=W<Y?W:Y,ae=0;ae<se;++ae){var de=mt(R[ae],L[ae]);if(de!==0)return de}return W===Y?0:W<Y?-1:1}(v,w)}}catch{}return NaN}function Hc(v){var w=typeof v;return w!="object"?w:ArrayBuffer.isView(v)?"binary":(v=q(v),v==="ArrayBuffer"?"binary":v)}function vp(v){return v instanceof Uint8Array?v:ArrayBuffer.isView(v)?new Uint8Array(v.buffer,v.byteOffset,v.byteLength):new Uint8Array(v)}var xp=(gn.prototype._trans=function(v,w,k){var N=this._tx||Qe.trans,R=this.name,L=on&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(v==="readonly"?"read":"write"," ").concat(this.name));function W(ae,de,J){if(!J.schema[R])throw new Ne.NotFound("Table "+R+" not part of transaction");return w(J.idbtrans,J)}var Y=te();try{var se=N&&N.db._novip===this.db._novip?N===Qe.trans?N._promise(v,W,k):tt(function(){return N._promise(v,W,k)},{trans:N,transless:Qe.transless||Qe}):function ae(de,J,he,oe){if(de.idbdb&&(de._state.openComplete||Qe.letThrough||de._vip)){var ue=de._createTransaction(J,he,de._dbSchema);try{ue.create(),de._state.PR1398_maxLoop=3}catch(pe){return pe.name===Ye.InvalidState&&de.isOpen()&&0<--de._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),de.close({disableAutoOpen:!1}),de.open().then(function(){return ae(de,J,he,oe)})):tn(pe)}return ue._promise(J,function(pe,ce){return tt(function(){return Qe.trans=ue,oe(pe,ce,ue)})}).then(function(pe){if(J==="readwrite")try{ue.idbtrans.commit()}catch{}return J==="readonly"?pe:ue._completion.then(function(){return pe})})}if(de._state.openComplete)return tn(new Ne.DatabaseClosed(de._state.dbOpenError));if(!de._state.isBeingOpened){if(!de._state.autoOpen)return tn(new Ne.DatabaseClosed);de.open().catch(It)}return de._state.dbReadyPromise.then(function(){return ae(de,J,he,oe)})}(this.db,v,[this.name],W);return L&&(se._consoleTask=L,se=se.catch(function(ae){return console.trace(ae),tn(ae)})),se}finally{Y&&me()}},gn.prototype.get=function(v,w){var k=this;return v&&v.constructor===Object?this.where(v).first(w):v==null?tn(new Ne.Type("Invalid argument to Table.get()")):this._trans("readonly",function(N){return k.core.get({trans:N,key:v}).then(function(R){return k.hook.reading.fire(R)})}).then(w)},gn.prototype.where=function(v){if(typeof v=="string")return new this.db.WhereClause(this,v);if(a(v))return new this.db.WhereClause(this,"[".concat(v.join("+"),"]"));var w=o(v);if(w.length===1)return this.where(w[0]).equals(v[w[0]]);var k=this.schema.indexes.concat(this.schema.primKey).filter(function(Y){if(Y.compound&&w.every(function(ae){return 0<=Y.keyPath.indexOf(ae)})){for(var se=0;se<w.length;++se)if(w.indexOf(Y.keyPath[se])===-1)return!1;return!0}return!1}).sort(function(Y,se){return Y.keyPath.length-se.keyPath.length})[0];if(k&&this.db._maxKey!==Ai){var L=k.keyPath.slice(0,w.length);return this.where(L).equals(L.map(function(se){return v[se]}))}!k&&on&&console.warn("The query ".concat(JSON.stringify(v)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(w.join("+"),"]"));var N=this.schema.idxByName;function R(Y,se){return mt(Y,se)===0}var W=w.reduce(function(J,se){var ae=J[0],de=J[1],J=N[se],he=v[se];return[ae||J,ae||!J?Zr(de,J&&J.multi?function(oe){return oe=j(oe,se),a(oe)&&oe.some(function(ue){return R(he,ue)})}:function(oe){return R(he,j(oe,se))}):de]},[null,null]),L=W[0],W=W[1];return L?this.where(L.name).equals(v[L.keyPath]).filter(W):k?this.filter(W):this.where(w).equals("")},gn.prototype.filter=function(v){return this.toCollection().and(v)},gn.prototype.count=function(v){return this.toCollection().count(v)},gn.prototype.offset=function(v){return this.toCollection().offset(v)},gn.prototype.limit=function(v){return this.toCollection().limit(v)},gn.prototype.each=function(v){return this.toCollection().each(v)},gn.prototype.toArray=function(v){return this.toCollection().toArray(v)},gn.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},gn.prototype.orderBy=function(v){return new this.db.Collection(new this.db.WhereClause(this,a(v)?"[".concat(v.join("+"),"]"):v))},gn.prototype.reverse=function(){return this.toCollection().reverse()},gn.prototype.mapToClass=function(v){var w,k=this.db,N=this.name;function R(){return w!==null&&w.apply(this,arguments)||this}(this.schema.mappedClass=v).prototype instanceof mo&&(function(se,ae){if(typeof ae!="function"&&ae!==null)throw new TypeError("Class extends value "+String(ae)+" is not a constructor or null");function de(){this.constructor=se}n(se,ae),se.prototype=ae===null?Object.create(ae):(de.prototype=ae.prototype,new de)}(R,w=v),Object.defineProperty(R.prototype,"db",{get:function(){return k},enumerable:!1,configurable:!0}),R.prototype.table=function(){return N},v=R);for(var L=new Set,W=v.prototype;W;W=u(W))Object.getOwnPropertyNames(W).forEach(function(se){return L.add(se)});function Y(se){if(!se)return se;var ae,de=Object.create(v.prototype);for(ae in se)if(!L.has(ae))try{de[ae]=se[ae]}catch{}return de}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=Y,this.hook("reading",Y),v},gn.prototype.defineClass=function(){return this.mapToClass(function(v){l(this,v)})},gn.prototype.add=function(v,w){var k=this,N=this.schema.primKey,R=N.auto,L=N.keyPath,W=v;return L&&R&&(W=Jt(L)(v)),this._trans("readwrite",function(Y){return k.core.mutate({trans:Y,type:"add",keys:w!=null?[w]:null,values:[W]})}).then(function(Y){return Y.numFailures?Ve.reject(Y.failures[0]):Y.lastResult}).then(function(Y){if(L)try{M(v,L,Y)}catch{}return Y})},gn.prototype.update=function(v,w){return typeof v!="object"||a(v)?this.where(":id").equals(v).modify(w):(v=j(v,this.schema.primKey.keyPath),v===void 0?tn(new Ne.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(v).modify(w))},gn.prototype.put=function(v,w){var k=this,N=this.schema.primKey,R=N.auto,L=N.keyPath,W=v;return L&&R&&(W=Jt(L)(v)),this._trans("readwrite",function(Y){return k.core.mutate({trans:Y,type:"put",values:[W],keys:w!=null?[w]:null})}).then(function(Y){return Y.numFailures?Ve.reject(Y.failures[0]):Y.lastResult}).then(function(Y){if(L)try{M(v,L,Y)}catch{}return Y})},gn.prototype.delete=function(v){var w=this;return this._trans("readwrite",function(k){return w.core.mutate({trans:k,type:"delete",keys:[v]})}).then(function(k){return k.numFailures?Ve.reject(k.failures[0]):void 0})},gn.prototype.clear=function(){var v=this;return this._trans("readwrite",function(w){return v.core.mutate({trans:w,type:"deleteRange",range:Mi})}).then(function(w){return w.numFailures?Ve.reject(w.failures[0]):void 0})},gn.prototype.bulkGet=function(v){var w=this;return this._trans("readonly",function(k){return w.core.getMany({keys:v,trans:k}).then(function(N){return N.map(function(R){return w.hook.reading.fire(R)})})})},gn.prototype.bulkAdd=function(v,w,k){var N=this,R=Array.isArray(w)?w:void 0,L=(k=k||(R?void 0:w))?k.allKeys:void 0;return this._trans("readwrite",function(W){var ae=N.schema.primKey,Y=ae.auto,ae=ae.keyPath;if(ae&&R)throw new Ne.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(R&&R.length!==v.length)throw new Ne.InvalidArgument("Arguments objects and keys must have the same length");var se=v.length,ae=ae&&Y?v.map(Jt(ae)):v;return N.core.mutate({trans:W,type:"add",keys:R,values:ae,wantResults:L}).then(function(ue){var J=ue.numFailures,he=ue.results,oe=ue.lastResult,ue=ue.failures;if(J===0)return L?he:oe;throw new Te("".concat(N.name,".bulkAdd(): ").concat(J," of ").concat(se," operations failed"),ue)})})},gn.prototype.bulkPut=function(v,w,k){var N=this,R=Array.isArray(w)?w:void 0,L=(k=k||(R?void 0:w))?k.allKeys:void 0;return this._trans("readwrite",function(W){var ae=N.schema.primKey,Y=ae.auto,ae=ae.keyPath;if(ae&&R)throw new Ne.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(R&&R.length!==v.length)throw new Ne.InvalidArgument("Arguments objects and keys must have the same length");var se=v.length,ae=ae&&Y?v.map(Jt(ae)):v;return N.core.mutate({trans:W,type:"put",keys:R,values:ae,wantResults:L}).then(function(ue){var J=ue.numFailures,he=ue.results,oe=ue.lastResult,ue=ue.failures;if(J===0)return L?he:oe;throw new Te("".concat(N.name,".bulkPut(): ").concat(J," of ").concat(se," operations failed"),ue)})})},gn.prototype.bulkUpdate=function(v){var w=this,k=this.core,N=v.map(function(W){return W.key}),R=v.map(function(W){return W.changes}),L=[];return this._trans("readwrite",function(W){return k.getMany({trans:W,keys:N,cache:"clone"}).then(function(Y){var se=[],ae=[];v.forEach(function(J,he){var oe=J.key,ue=J.changes,pe=Y[he];if(pe){for(var ce=0,ve=Object.keys(ue);ce<ve.length;ce++){var we=ve[ce],Se=ue[we];if(we===w.schema.primKey.keyPath){if(mt(Se,oe)!==0)throw new Ne.Constraint("Cannot update primary key in bulkUpdate()")}else M(pe,we,Se)}L.push(he),se.push(oe),ae.push(pe)}});var de=se.length;return k.mutate({trans:W,type:"put",keys:se,values:ae,updates:{keys:N,changeSpecs:R}}).then(function(J){var he=J.numFailures,oe=J.failures;if(he===0)return de;for(var ue=0,pe=Object.keys(oe);ue<pe.length;ue++){var ce,ve=pe[ue],we=L[Number(ve)];we!=null&&(ce=oe[ve],delete oe[ve],oe[we]=ce)}throw new Te("".concat(w.name,".bulkUpdate(): ").concat(he," of ").concat(de," operations failed"),oe)})})})},gn.prototype.bulkDelete=function(v){var w=this,k=v.length;return this._trans("readwrite",function(N){return w.core.mutate({trans:N,type:"delete",keys:v})}).then(function(W){var R=W.numFailures,L=W.lastResult,W=W.failures;if(R===0)return L;throw new Te("".concat(w.name,".bulkDelete(): ").concat(R," of ").concat(k," operations failed"),W)})},gn);function gn(){}function Qs(v){function w(W,Y){if(Y){for(var se=arguments.length,ae=new Array(se-1);--se;)ae[se-1]=arguments[se];return k[W].subscribe.apply(null,ae),v}if(typeof W=="string")return k[W]}var k={};w.addEventType=L;for(var N=1,R=arguments.length;N<R;++N)L(arguments[N]);return w;function L(W,Y,se){if(typeof W!="object"){var ae;Y=Y||di;var de={subscribers:[],fire:se=se||It,subscribe:function(J){de.subscribers.indexOf(J)===-1&&(de.subscribers.push(J),de.fire=Y(de.fire,J))},unsubscribe:function(J){de.subscribers=de.subscribers.filter(function(he){return he!==J}),de.fire=de.subscribers.reduce(Y,se)}};return k[W]=w[W]=de}o(ae=W).forEach(function(J){var he=ae[J];if(a(he))L(J,ae[J][0],ae[J][1]);else{if(he!=="asap")throw new Ne.InvalidArgument("Invalid event config");var oe=L(J,En,function(){for(var ue=arguments.length,pe=new Array(ue);ue--;)pe[ue]=arguments[ue];oe.subscribers.forEach(function(ce){B(function(){ce.apply(null,pe)})})})}})}}function bs(v,w){return _(w).from({prototype:v}),w}function ws(v,w){return!(v.filter||v.algorithm||v.or)&&(w?v.justLimit:!v.replayFilter)}function zd(v,w){v.filter=Zr(v.filter,w)}function $d(v,w,k){var N=v.replayFilter;v.replayFilter=N?function(){return Zr(N(),w())}:w,v.justLimit=k&&!N}function la(v,w){if(v.isPrimKey)return w.primaryKey;var k=w.getIndexByKeyPath(v.index);if(!k)throw new Ne.Schema("KeyPath "+v.index+" on object store "+w.name+" is not indexed");return k}function Ud(v,w,k){var N=la(v,w.schema);return w.openCursor({trans:k,values:!v.keysOnly,reverse:v.dir==="prev",unique:!!v.unique,query:{index:N,range:v.range}})}function ca(v,w,k,N){var R=v.replayFilter?Zr(v.filter,v.replayFilter()):v.filter;if(v.or){var L={},W=function(Y,se,ae){var de,J;R&&!R(se,ae,function(he){return se.stop(he)},function(he){return se.fail(he)})||((J=""+(de=se.primaryKey))=="[object ArrayBuffer]"&&(J=""+new Uint8Array(de)),h(L,J)||(L[J]=!0,w(Y,se,ae)))};return Promise.all([v.or._iterate(W,k),ua(Ud(v,N,k),v.algorithm,W,!v.keysOnly&&v.valueMapper)])}return ua(Ud(v,N,k),Zr(v.algorithm,R),w,!v.keysOnly&&v.valueMapper)}function ua(v,w,k,N){var R=je(N?function(L,W,Y){return k(N(L),W,Y)}:k);return v.then(function(L){if(L)return L.start(function(){var W=function(){return L.continue()};w&&!w(L,function(Y){return W=Y},function(Y){L.stop(Y),W=It},function(Y){L.fail(Y),W=It})||R(L.value,L,function(Y){return W=Y}),W()})})}var vl=(Wc.prototype.execute=function(v){var w=this["@@propmod"];if(w.add!==void 0){var k=w.add;if(a(k))return i(i([],a(v)?v:[],!0),k).sort();if(typeof k=="number")return(Number(v)||0)+k;if(typeof k=="bigint")try{return BigInt(v)+k}catch{return BigInt(0)+k}throw new TypeError("Invalid term ".concat(k))}if(w.remove!==void 0){var N=w.remove;if(a(N))return a(v)?v.filter(function(R){return!N.includes(R)}).sort():[];if(typeof N=="number")return Number(v)-N;if(typeof N=="bigint")try{return BigInt(v)-N}catch{return BigInt(0)-N}throw new TypeError("Invalid subtrahend ".concat(N))}return k=(k=w.replacePrefix)===null||k===void 0?void 0:k[0],k&&typeof v=="string"&&v.startsWith(k)?w.replacePrefix[1]+v.substring(k.length):v},Wc);function Wc(v){this["@@propmod"]=v}var mn=(Zt.prototype._read=function(v,w){var k=this._ctx;return k.error?k.table._trans(null,tn.bind(null,k.error)):k.table._trans("readonly",v).then(w)},Zt.prototype._write=function(v){var w=this._ctx;return w.error?w.table._trans(null,tn.bind(null,w.error)):w.table._trans("readwrite",v,"locked")},Zt.prototype._addAlgorithm=function(v){var w=this._ctx;w.algorithm=Zr(w.algorithm,v)},Zt.prototype._iterate=function(v,w){return ca(this._ctx,v,w,this._ctx.table.core)},Zt.prototype.clone=function(v){var w=Object.create(this.constructor.prototype),k=Object.create(this._ctx);return v&&l(k,v),w._ctx=k,w},Zt.prototype.raw=function(){return this._ctx.valueMapper=null,this},Zt.prototype.each=function(v){var w=this._ctx;return this._read(function(k){return ca(w,v,k,w.table.core)})},Zt.prototype.count=function(v){var w=this;return this._read(function(k){var N=w._ctx,R=N.table.core;if(ws(N,!0))return R.count({trans:k,query:{index:la(N,R.schema),range:N.range}}).then(function(W){return Math.min(W,N.limit)});var L=0;return ca(N,function(){return++L,!1},k,R).then(function(){return L})}).then(v)},Zt.prototype.sortBy=function(v,w){var k=v.split(".").reverse(),N=k[0],R=k.length-1;function L(se,ae){return ae?L(se[k[ae]],ae-1):se[N]}var W=this._ctx.dir==="next"?1:-1;function Y(se,ae){return mt(L(se,R),L(ae,R))*W}return this.toArray(function(se){return se.sort(Y)}).then(w)},Zt.prototype.toArray=function(v){var w=this;return this._read(function(k){var N=w._ctx;if(N.dir==="next"&&ws(N,!0)&&0<N.limit){var R=N.valueMapper,L=la(N,N.table.core.schema);return N.table.core.query({trans:k,limit:N.limit,values:!0,query:{index:L,range:N.range}}).then(function(Y){return Y=Y.result,R?Y.map(R):Y})}var W=[];return ca(N,function(Y){return W.push(Y)},k,N.table.core).then(function(){return W})},v)},Zt.prototype.offset=function(v){var w=this._ctx;return v<=0||(w.offset+=v,ws(w)?$d(w,function(){var k=v;return function(N,R){return k===0||(k===1?--k:R(function(){N.advance(k),k=0}),!1)}}):$d(w,function(){var k=v;return function(){return--k<0}})),this},Zt.prototype.limit=function(v){return this._ctx.limit=Math.min(this._ctx.limit,v),$d(this._ctx,function(){var w=v;return function(k,N,R){return--w<=0&&N(R),0<=w}},!0),this},Zt.prototype.until=function(v,w){return zd(this._ctx,function(k,N,R){return!v(k.value)||(N(R),w)}),this},Zt.prototype.first=function(v){return this.limit(1).toArray(function(w){return w[0]}).then(v)},Zt.prototype.last=function(v){return this.reverse().first(v)},Zt.prototype.filter=function(v){var w;return zd(this._ctx,function(k){return v(k.value)}),(w=this._ctx).isMatch=Zr(w.isMatch,v),this},Zt.prototype.and=function(v){return this.filter(v)},Zt.prototype.or=function(v){return new this.db.WhereClause(this._ctx.table,v,this)},Zt.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},Zt.prototype.desc=function(){return this.reverse()},Zt.prototype.eachKey=function(v){var w=this._ctx;return w.keysOnly=!w.isMatch,this.each(function(k,N){v(N.key,N)})},Zt.prototype.eachUniqueKey=function(v){return this._ctx.unique="unique",this.eachKey(v)},Zt.prototype.eachPrimaryKey=function(v){var w=this._ctx;return w.keysOnly=!w.isMatch,this.each(function(k,N){v(N.primaryKey,N)})},Zt.prototype.keys=function(v){var w=this._ctx;w.keysOnly=!w.isMatch;var k=[];return this.each(function(N,R){k.push(R.key)}).then(function(){return k}).then(v)},Zt.prototype.primaryKeys=function(v){var w=this._ctx;if(w.dir==="next"&&ws(w,!0)&&0<w.limit)return this._read(function(N){var R=la(w,w.table.core.schema);return w.table.core.query({trans:N,values:!1,limit:w.limit,query:{index:R,range:w.range}})}).then(function(N){return N.result}).then(v);w.keysOnly=!w.isMatch;var k=[];return this.each(function(N,R){k.push(R.primaryKey)}).then(function(){return k}).then(v)},Zt.prototype.uniqueKeys=function(v){return this._ctx.unique="unique",this.keys(v)},Zt.prototype.firstKey=function(v){return this.limit(1).keys(function(w){return w[0]}).then(v)},Zt.prototype.lastKey=function(v){return this.reverse().firstKey(v)},Zt.prototype.distinct=function(){var v=this._ctx,v=v.index&&v.table.schema.idxByName[v.index];if(!v||!v.multi)return this;var w={};return zd(this._ctx,function(R){var N=R.primaryKey.toString(),R=h(w,N);return w[N]=!0,!R}),this},Zt.prototype.modify=function(v){var w=this,k=this._ctx;return this._write(function(N){var R,L,W;W=typeof v=="function"?v:(R=o(v),L=R.length,function(ce){for(var ve=!1,we=0;we<L;++we){var Se=R[we],ke=v[Se],De=j(ce,Se);ke instanceof vl?(M(ce,Se,ke.execute(De)),ve=!0):De!==ke&&(M(ce,Se,ke),ve=!0)}return ve});var Y=k.table.core,J=Y.schema.primaryKey,se=J.outbound,ae=J.extractKey,de=200,J=w.db._options.modifyChunkSize;J&&(de=typeof J=="object"?J[Y.name]||J["*"]||200:J);function he(ce,Se){var we=Se.failures,Se=Se.numFailures;ue+=ce-Se;for(var ke=0,De=o(we);ke<De.length;ke++){var Ue=De[ke];oe.push(we[Ue])}}var oe=[],ue=0,pe=[];return w.clone().primaryKeys().then(function(ce){function ve(Se){var ke=Math.min(de,ce.length-Se);return Y.getMany({trans:N,keys:ce.slice(Se,Se+ke),cache:"immutable"}).then(function(De){for(var Ue=[],Le=[],Be=se?[]:null,We=[],ze=0;ze<ke;++ze){var Xe=De[ze],St={value:re(Xe),primKey:ce[Se+ze]};W.call(St,St.value,St)!==!1&&(St.value==null?We.push(ce[Se+ze]):se||mt(ae(Xe),ae(St.value))===0?(Le.push(St.value),se&&Be.push(ce[Se+ze])):(We.push(ce[Se+ze]),Ue.push(St.value)))}return Promise.resolve(0<Ue.length&&Y.mutate({trans:N,type:"add",values:Ue}).then(function(Tt){for(var Dt in Tt.failures)We.splice(parseInt(Dt),1);he(Ue.length,Tt)})).then(function(){return(0<Le.length||we&&typeof v=="object")&&Y.mutate({trans:N,type:"put",keys:Be,values:Le,criteria:we,changeSpec:typeof v!="function"&&v,isAdditionalChunk:0<Se}).then(function(Tt){return he(Le.length,Tt)})}).then(function(){return(0<We.length||we&&v===qc)&&Y.mutate({trans:N,type:"delete",keys:We,criteria:we,isAdditionalChunk:0<Se}).then(function(Tt){return he(We.length,Tt)})}).then(function(){return ce.length>Se+ke&&ve(Se+de)})})}var we=ws(k)&&k.limit===1/0&&(typeof v!="function"||v===qc)&&{index:k.index,range:k.range};return ve(0).then(function(){if(0<oe.length)throw new Ce("Error modifying one or more objects",oe,ue,pe);return ce.length})})})},Zt.prototype.delete=function(){var v=this._ctx,w=v.range;return ws(v)&&(v.isPrimKey||w.type===3)?this._write(function(k){var N=v.table.core.schema.primaryKey,R=w;return v.table.core.count({trans:k,query:{index:N,range:R}}).then(function(L){return v.table.core.mutate({trans:k,type:"deleteRange",range:R}).then(function(W){var Y=W.failures;if(W.lastResult,W.results,W=W.numFailures,W)throw new Ce("Could not delete some values",Object.keys(Y).map(function(se){return Y[se]}),L-W);return L-W})})}):this.modify(qc)},Zt);function Zt(){}var qc=function(v,w){return w.value=null};function Hd(v,w){return v<w?-1:v===w?0:1}function bp(v,w){return w<v?-1:v===w?0:1}function Ar(v,w,k){return v=v instanceof Ss?new v.Collection(v):v,v._ctx.error=new(k||TypeError)(w),v}function go(v){return new v.Collection(v,function(){return _s("")}).limit(0)}function da(v,w,k,N){var R,L,W,Y,se,ae,de,J=k.length;if(!k.every(function(ue){return typeof ue=="string"}))return Ar(v,Xi);function he(ue){R=ue==="next"?function(ce){return ce.toUpperCase()}:function(ce){return ce.toLowerCase()},L=ue==="next"?function(ce){return ce.toLowerCase()}:function(ce){return ce.toUpperCase()},W=ue==="next"?Hd:bp;var pe=k.map(function(ce){return{lower:L(ce),upper:R(ce)}}).sort(function(ce,ve){return W(ce.lower,ve.lower)});Y=pe.map(function(ce){return ce.upper}),se=pe.map(function(ce){return ce.lower}),de=(ae=ue)==="next"?"":N}he("next"),v=new v.Collection(v,function(){return Di(Y[0],se[J-1]+N)}),v._ondirectionchange=function(ue){he(ue)};var oe=0;return v._addAlgorithm(function(ue,pe,ce){var ve=ue.key;if(typeof ve!="string")return!1;var we=L(ve);if(w(we,se,oe))return!0;for(var Se=null,ke=oe;ke<J;++ke){var De=function(Ue,Le,Be,We,ze,Xe){for(var St=Math.min(Ue.length,We.length),Tt=-1,Dt=0;Dt<St;++Dt){var Dr=Le[Dt];if(Dr!==We[Dt])return ze(Ue[Dt],Be[Dt])<0?Ue.substr(0,Dt)+Be[Dt]+Be.substr(Dt+1):ze(Ue[Dt],We[Dt])<0?Ue.substr(0,Dt)+We[Dt]+Be.substr(Dt+1):0<=Tt?Ue.substr(0,Tt)+Le[Tt]+Be.substr(Tt+1):null;ze(Ue[Dt],Dr)<0&&(Tt=Dt)}return St<We.length&&Xe==="next"?Ue+Be.substr(Ue.length):St<Ue.length&&Xe==="prev"?Ue.substr(0,Be.length):Tt<0?null:Ue.substr(0,Tt)+We[Tt]+Be.substr(Tt+1)}(ve,we,Y[ke],se[ke],W,ae);De===null&&Se===null?oe=ke+1:(Se===null||0<W(Se,De))&&(Se=De)}return pe(Se!==null?function(){ue.continue(Se+de)}:ce),!1}),v}function Di(v,w,k,N){return{type:2,lower:v,upper:w,lowerOpen:k,upperOpen:N}}function _s(v){return{type:1,lower:v,upper:v}}var Ss=(Object.defineProperty(_n.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),_n.prototype.between=function(v,w,k,N){k=k!==!1,N=N===!0;try{return 0<this._cmp(v,w)||this._cmp(v,w)===0&&(k||N)&&(!k||!N)?go(this):new this.Collection(this,function(){return Di(v,w,!k,!N)})}catch{return Ar(this,Wt)}},_n.prototype.equals=function(v){return v==null?Ar(this,Wt):new this.Collection(this,function(){return _s(v)})},_n.prototype.above=function(v){return v==null?Ar(this,Wt):new this.Collection(this,function(){return Di(v,void 0,!0)})},_n.prototype.aboveOrEqual=function(v){return v==null?Ar(this,Wt):new this.Collection(this,function(){return Di(v,void 0,!1)})},_n.prototype.below=function(v){return v==null?Ar(this,Wt):new this.Collection(this,function(){return Di(void 0,v,!1,!0)})},_n.prototype.belowOrEqual=function(v){return v==null?Ar(this,Wt):new this.Collection(this,function(){return Di(void 0,v)})},_n.prototype.startsWith=function(v){return typeof v!="string"?Ar(this,Xi):this.between(v,v+Ai,!0,!0)},_n.prototype.startsWithIgnoreCase=function(v){return v===""?this.startsWith(v):da(this,function(w,k){return w.indexOf(k[0])===0},[v],Ai)},_n.prototype.equalsIgnoreCase=function(v){return da(this,function(w,k){return w===k[0]},[v],"")},_n.prototype.anyOfIgnoreCase=function(){var v=F.apply(fe,arguments);return v.length===0?go(this):da(this,function(w,k){return k.indexOf(w)!==-1},v,"")},_n.prototype.startsWithAnyOfIgnoreCase=function(){var v=F.apply(fe,arguments);return v.length===0?go(this):da(this,function(w,k){return k.some(function(N){return w.indexOf(N)===0})},v,Ai)},_n.prototype.anyOf=function(){var v=this,w=F.apply(fe,arguments),k=this._cmp;try{w.sort(k)}catch{return Ar(this,Wt)}if(w.length===0)return go(this);var N=new this.Collection(this,function(){return Di(w[0],w[w.length-1])});N._ondirectionchange=function(L){k=L==="next"?v._ascending:v._descending,w.sort(k)};var R=0;return N._addAlgorithm(function(L,W,Y){for(var se=L.key;0<k(se,w[R]);)if(++R===w.length)return W(Y),!1;return k(se,w[R])===0||(W(function(){L.continue(w[R])}),!1)}),N},_n.prototype.notEqual=function(v){return this.inAnyRange([[-1/0,v],[v,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},_n.prototype.noneOf=function(){var v=F.apply(fe,arguments);if(v.length===0)return new this.Collection(this);try{v.sort(this._ascending)}catch{return Ar(this,Wt)}var w=v.reduce(function(k,N){return k?k.concat([[k[k.length-1][1],N]]):[[-1/0,N]]},null);return w.push([v[v.length-1],this.db._maxKey]),this.inAnyRange(w,{includeLowers:!1,includeUppers:!1})},_n.prototype.inAnyRange=function(ve,w){var k=this,N=this._cmp,R=this._ascending,L=this._descending,W=this._min,Y=this._max;if(ve.length===0)return go(this);if(!ve.every(function(we){return we[0]!==void 0&&we[1]!==void 0&&R(we[0],we[1])<=0}))return Ar(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",Ne.InvalidArgument);var se=!w||w.includeLowers!==!1,ae=w&&w.includeUppers===!0,de,J=R;function he(we,Se){return J(we[0],Se[0])}try{(de=ve.reduce(function(we,Se){for(var ke=0,De=we.length;ke<De;++ke){var Ue=we[ke];if(N(Se[0],Ue[1])<0&&0<N(Se[1],Ue[0])){Ue[0]=W(Ue[0],Se[0]),Ue[1]=Y(Ue[1],Se[1]);break}}return ke===De&&we.push(Se),we},[])).sort(he)}catch{return Ar(this,Wt)}var oe=0,ue=ae?function(we){return 0<R(we,de[oe][1])}:function(we){return 0<=R(we,de[oe][1])},pe=se?function(we){return 0<L(we,de[oe][0])}:function(we){return 0<=L(we,de[oe][0])},ce=ue,ve=new this.Collection(this,function(){return Di(de[0][0],de[de.length-1][1],!se,!ae)});return ve._ondirectionchange=function(we){J=we==="next"?(ce=ue,R):(ce=pe,L),de.sort(he)},ve._addAlgorithm(function(we,Se,ke){for(var De,Ue=we.key;ce(Ue);)if(++oe===de.length)return Se(ke),!1;return!ue(De=Ue)&&!pe(De)||(k._cmp(Ue,de[oe][1])===0||k._cmp(Ue,de[oe][0])===0||Se(function(){J===R?we.continue(de[oe][0]):we.continue(de[oe][1])}),!1)}),ve},_n.prototype.startsWithAnyOf=function(){var v=F.apply(fe,arguments);return v.every(function(w){return typeof w=="string"})?v.length===0?go(this):this.inAnyRange(v.map(function(w){return[w,w+Ai]})):Ar(this,"startsWithAnyOf() only works with strings")},_n);function _n(){}function Mr(v){return je(function(w){return Es(w),v(w.target.error),!1})}function Es(v){v.stopPropagation&&v.stopPropagation(),v.preventDefault&&v.preventDefault()}var fi="storagemutated",Wd="x-storagemutated-1",ks=Qs(null,fi),xl=(Zi.prototype._lock=function(){return z(!Qe.global),++this._reculock,this._reculock!==1||Qe.global||(Qe.lockOwnerFor=this),this},Zi.prototype._unlock=function(){if(z(!Qe.global),--this._reculock==0)for(Qe.global||(Qe.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var v=this._blockedFuncs.shift();try{vr(v[1],v[0])}catch{}}return this},Zi.prototype._locked=function(){return this._reculock&&Qe.lockOwnerFor!==this},Zi.prototype.create=function(v){var w=this;if(!this.mode)return this;var k=this.db.idbdb,N=this.db._state.dbOpenError;if(z(!this.idbtrans),!v&&!k)switch(N&&N.name){case"DatabaseClosedError":throw new Ne.DatabaseClosed(N);case"MissingAPIError":throw new Ne.MissingAPI(N.message,N);default:throw new Ne.OpenFailed(N)}if(!this.active)throw new Ne.TransactionInactive;return z(this._completion._state===null),(v=this.idbtrans=v||(this.db.core||k).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=je(function(R){Es(R),w._reject(v.error)}),v.onabort=je(function(R){Es(R),w.active&&w._reject(new Ne.Abort(v.error)),w.active=!1,w.on("abort").fire(R)}),v.oncomplete=je(function(){w.active=!1,w._resolve(),"mutatedParts"in v&&ks.storagemutated.fire(v.mutatedParts)}),this},Zi.prototype._promise=function(v,w,k){var N=this;if(v==="readwrite"&&this.mode!=="readwrite")return tn(new Ne.ReadOnly("Transaction is readonly"));if(!this.active)return tn(new Ne.TransactionInactive);if(this._locked())return new Ve(function(L,W){N._blockedFuncs.push([function(){N._promise(v,w,k).then(L,W)},Qe])});if(k)return tt(function(){var L=new Ve(function(W,Y){N._lock();var se=w(W,Y,N);se&&se.then&&se.then(W,Y)});return L.finally(function(){return N._unlock()}),L._lib=!0,L});var R=new Ve(function(L,W){var Y=w(L,W,N);Y&&Y.then&&Y.then(L,W)});return R._lib=!0,R},Zi.prototype._root=function(){return this.parent?this.parent._root():this},Zi.prototype.waitFor=function(v){var w,k=this._root(),N=Ve.resolve(v);k._waitingFor?k._waitingFor=k._waitingFor.then(function(){return N}):(k._waitingFor=N,k._waitingQueue=[],w=k.idbtrans.objectStore(k.storeNames[0]),function L(){for(++k._spinCount;k._waitingQueue.length;)k._waitingQueue.shift()();k._waitingFor&&(w.get(-1/0).onsuccess=L)}());var R=k._waitingFor;return new Ve(function(L,W){N.then(function(Y){return k._waitingQueue.push(je(L.bind(null,Y)))},function(Y){return k._waitingQueue.push(je(W.bind(null,Y)))}).finally(function(){k._waitingFor===R&&(k._waitingFor=null)})})},Zi.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new Ne.Abort))},Zi.prototype.table=function(v){var w=this._memoizedTables||(this._memoizedTables={});if(h(w,v))return w[v];var k=this.schema[v];if(!k)throw new Ne.NotFound("Table "+v+" not part of transaction");return k=new this.db.Table(v,k,this),k.core=this.db.core.table(v),w[v]=k},Zi);function Zi(){}function Qc(v,w,k,N,R,L,W){return{name:v,keyPath:w,unique:k,multi:N,auto:R,compound:L,src:(k&&!W?"&":"")+(N?"*":"")+(R?"++":"")+bl(w)}}function bl(v){return typeof v=="string"?v:v?"["+[].join.call(v,"+")+"]":""}function Vc(v,w,k){return{name:v,primKey:w,indexes:k,mappedClass:null,idxByName:(N=function(R){return[R.name,R]},k.reduce(function(R,L,W){return W=N(L,W),W&&(R[W[0]]=W[1]),R},{}))};var N}var wl=function(v){try{return v.only([[]]),wl=function(){return[[]]},[[]]}catch{return wl=function(){return Ai},Ai}};function yo(v){return v==null?function(){}:typeof v=="string"?(w=v).split(".").length===1?function(k){return k[w]}:function(k){return j(k,w)}:function(k){return j(k,v)};var w}function fa(v){return[].slice.call(v)}var ha=0;function Vs(v){return v==null?":id":typeof v=="string"?v:"[".concat(v.join("+"),"]")}function z1(v,w,se){function N(ce){if(ce.type===3)return null;if(ce.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var oe=ce.lower,ue=ce.upper,pe=ce.lowerOpen,ce=ce.upperOpen;return oe===void 0?ue===void 0?null:w.upperBound(ue,!!ce):ue===void 0?w.lowerBound(oe,!!pe):w.bound(oe,ue,!!pe,!!ce)}function R(he){var oe,ue=he.name;return{name:ue,schema:he,mutate:function(pe){var ce=pe.trans,ve=pe.type,we=pe.keys,Se=pe.values,ke=pe.range;return new Promise(function(De,Ue){De=je(De);var Le=ce.objectStore(ue),Be=Le.keyPath==null,We=ve==="put"||ve==="add";if(!We&&ve!=="delete"&&ve!=="deleteRange")throw new Error("Invalid operation type: "+ve);var ze,Xe=(we||Se||{length:1}).length;if(we&&Se&&we.length!==Se.length)throw new Error("Given keys array must have same length as given values array.");if(Xe===0)return De({numFailures:0,failures:{},results:[],lastResult:void 0});function St(Ln){++Dr,Es(Ln)}var Tt=[],Dt=[],Dr=0;if(ve==="deleteRange"){if(ke.type===4)return De({numFailures:Dr,failures:Dt,results:[],lastResult:void 0});ke.type===3?Tt.push(ze=Le.clear()):Tt.push(ze=Le.delete(N(ke)))}else{var Be=We?Be?[Se,we]:[Se,null]:[we,null],_t=Be[0],ar=Be[1];if(We)for(var lr=0;lr<Xe;++lr)Tt.push(ze=ar&&ar[lr]!==void 0?Le[ve](_t[lr],ar[lr]):Le[ve](_t[lr])),ze.onerror=St;else for(lr=0;lr<Xe;++lr)Tt.push(ze=Le[ve](_t[lr])),ze.onerror=St}function Pl(Ln){Ln=Ln.target.result,Tt.forEach(function(Cs,Rl){return Cs.error!=null&&(Dt[Rl]=Cs.error)}),De({numFailures:Dr,failures:Dt,results:ve==="delete"?we:Tt.map(function(Cs){return Cs.result}),lastResult:Ln})}ze.onerror=function(Ln){St(Ln),Pl(Ln)},ze.onsuccess=Pl})},getMany:function(pe){var ce=pe.trans,ve=pe.keys;return new Promise(function(we,Se){we=je(we);for(var ke,De=ce.objectStore(ue),Ue=ve.length,Le=new Array(Ue),Be=0,We=0,ze=function(Tt){Tt=Tt.target,Le[Tt._pos]=Tt.result,++We===Be&&we(Le)},Xe=Mr(Se),St=0;St<Ue;++St)ve[St]!=null&&((ke=De.get(ve[St]))._pos=St,ke.onsuccess=ze,ke.onerror=Xe,++Be);Be===0&&we(Le)})},get:function(pe){var ce=pe.trans,ve=pe.key;return new Promise(function(we,Se){we=je(we);var ke=ce.objectStore(ue).get(ve);ke.onsuccess=function(De){return we(De.target.result)},ke.onerror=Mr(Se)})},query:(oe=ae,function(pe){return new Promise(function(ce,ve){ce=je(ce);var we,Se,ke,Be=pe.trans,De=pe.values,Ue=pe.limit,ze=pe.query,Le=Ue===1/0?void 0:Ue,We=ze.index,ze=ze.range,Be=Be.objectStore(ue),We=We.isPrimaryKey?Be:Be.index(We.name),ze=N(ze);if(Ue===0)return ce({result:[]});oe?((Le=De?We.getAll(ze,Le):We.getAllKeys(ze,Le)).onsuccess=function(Xe){return ce({result:Xe.target.result})},Le.onerror=Mr(ve)):(we=0,Se=!De&&"openKeyCursor"in We?We.openKeyCursor(ze):We.openCursor(ze),ke=[],Se.onsuccess=function(Xe){var St=Se.result;return St?(ke.push(De?St.value:St.primaryKey),++we===Ue?ce({result:ke}):void St.continue()):ce({result:ke})},Se.onerror=Mr(ve))})}),openCursor:function(pe){var ce=pe.trans,ve=pe.values,we=pe.query,Se=pe.reverse,ke=pe.unique;return new Promise(function(De,Ue){De=je(De);var We=we.index,Le=we.range,Be=ce.objectStore(ue),Be=We.isPrimaryKey?Be:Be.index(We.name),We=Se?ke?"prevunique":"prev":ke?"nextunique":"next",ze=!ve&&"openKeyCursor"in Be?Be.openKeyCursor(N(Le),We):Be.openCursor(N(Le),We);ze.onerror=Mr(Ue),ze.onsuccess=je(function(Xe){var St,Tt,Dt,Dr,_t=ze.result;_t?(_t.___id=++ha,_t.done=!1,St=_t.continue.bind(_t),Tt=(Tt=_t.continuePrimaryKey)&&Tt.bind(_t),Dt=_t.advance.bind(_t),Dr=function(){throw new Error("Cursor not stopped")},_t.trans=ce,_t.stop=_t.continue=_t.continuePrimaryKey=_t.advance=function(){throw new Error("Cursor not started")},_t.fail=je(Ue),_t.next=function(){var ar=this,lr=1;return this.start(function(){return lr--?ar.continue():ar.stop()}).then(function(){return ar})},_t.start=function(ar){function lr(){if(ze.result)try{ar()}catch(Ln){_t.fail(Ln)}else _t.done=!0,_t.start=function(){throw new Error("Cursor behind last entry")},_t.stop()}var Pl=new Promise(function(Ln,Cs){Ln=je(Ln),ze.onerror=Mr(Cs),_t.fail=Cs,_t.stop=function(Rl){_t.stop=_t.continue=_t.continuePrimaryKey=_t.advance=Dr,Ln(Rl)}});return ze.onsuccess=je(function(Ln){ze.onsuccess=lr,lr()}),_t.continue=St,_t.continuePrimaryKey=Tt,_t.advance=Dt,lr(),Pl},De(_t)):De(null)},Ue)})},count:function(pe){var ce=pe.query,ve=pe.trans,we=ce.index,Se=ce.range;return new Promise(function(ke,De){var Ue=ve.objectStore(ue),Le=we.isPrimaryKey?Ue:Ue.index(we.name),Ue=N(Se),Le=Ue?Le.count(Ue):Le.count();Le.onsuccess=je(function(Be){return ke(Be.target.result)}),Le.onerror=Mr(De)})}}}var L,W,Y,de=(W=se,Y=fa((L=v).objectStoreNames),{schema:{name:L.name,tables:Y.map(function(he){return W.objectStore(he)}).map(function(he){var oe=he.keyPath,ce=he.autoIncrement,ue=a(oe),pe={},ce={name:he.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:oe==null,compound:ue,keyPath:oe,autoIncrement:ce,unique:!0,extractKey:yo(oe)},indexes:fa(he.indexNames).map(function(ve){return he.index(ve)}).map(function(ke){var we=ke.name,Se=ke.unique,De=ke.multiEntry,ke=ke.keyPath,De={name:we,compound:a(ke),keyPath:ke,unique:Se,multiEntry:De,extractKey:yo(ke)};return pe[Vs(ke)]=De}),getIndexByKeyPath:function(ve){return pe[Vs(ve)]}};return pe[":id"]=ce.primaryKey,oe!=null&&(pe[Vs(oe)]=ce.primaryKey),ce})},hasGetAll:0<Y.length&&"getAll"in W.objectStore(Y[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),se=de.schema,ae=de.hasGetAll,de=se.tables.map(R),J={};return de.forEach(function(he){return J[he.name]=he}),{stack:"dbcore",transaction:v.transaction.bind(v),table:function(he){if(!J[he])throw new Error("Table '".concat(he,"' not found"));return J[he]},MIN_KEY:-1/0,MAX_KEY:wl(w),schema:se}}function $1(v,w,k,N){var R=k.IDBKeyRange;return k.indexedDB,{dbcore:(N=z1(w,R,N),v.dbcore.reduce(function(L,W){return W=W.create,r(r({},L),W(L))},N))}}function pa(v,N){var k=N.db,N=$1(v._middlewares,k,v._deps,N);v.core=N.dbcore,v.tables.forEach(function(R){var L=R.name;v.core.schema.tables.some(function(W){return W.name===L})&&(R.core=v.core.table(L),v[L]instanceof v.Table&&(v[L].core=R.core))})}function vo(v,w,k,N){k.forEach(function(R){var L=N[R];w.forEach(function(W){var Y=function se(ae,de){return E(ae,de)||(ae=u(ae))&&se(ae,de)}(W,R);(!Y||"value"in Y&&Y.value===void 0)&&(W===v.Transaction.prototype||W instanceof v.Transaction?b(W,R,{get:function(){return this.table(R)},set:function(se){y(this,R,{value:se,writable:!0,configurable:!0,enumerable:!0})}}):W[R]=new v.Table(R,L))})})}function _l(v,w){w.forEach(function(k){for(var N in k)k[N]instanceof v.Table&&delete k[N]})}function wp(v,w){return v._cfg.version-w._cfg.version}function Ks(v,w,k,N){var R=v._dbSchema;k.objectStoreNames.contains("$meta")&&!R.$meta&&(R.$meta=Vc("$meta",bo("")[0],[]),v._storeNames.push("$meta"));var L=v._createTransaction("readwrite",v._storeNames,R);L.create(k),L._completion.catch(N);var W=L._reject.bind(L),Y=Qe.transless||Qe;tt(function(){return Qe.trans=L,Qe.transless=Y,w!==0?(pa(v,k),ae=w,((se=L).storeNames.includes("$meta")?se.table("$meta").get("version").then(function(de){return de??ae}):Ve.resolve(ae)).then(function(de){return he=de,oe=L,ue=k,pe=[],de=(J=v)._versions,ce=J._dbSchema=El(0,J.idbdb,ue),(de=de.filter(function(ve){return ve._cfg.version>=he})).length!==0?(de.forEach(function(ve){pe.push(function(){var we=ce,Se=ve._cfg.dbschema;xr(J,we,ue),xr(J,Se,ue),ce=J._dbSchema=Se;var ke=ma(we,Se);ke.add.forEach(function(We){Kc(ue,We[0],We[1].primKey,We[1].indexes)}),ke.change.forEach(function(We){if(We.recreate)throw new Ne.Upgrade("Not yet support for changing primary key");var ze=ue.objectStore(We.name);We.add.forEach(function(Xe){return xo(ze,Xe)}),We.change.forEach(function(Xe){ze.deleteIndex(Xe.name),xo(ze,Xe)}),We.del.forEach(function(Xe){return ze.deleteIndex(Xe)})});var De=ve._cfg.contentUpgrade;if(De&&ve._cfg.version>he){pa(J,ue),oe._memoizedTables={};var Ue=U(Se);ke.del.forEach(function(We){Ue[We]=we[We]}),_l(J,[J.Transaction.prototype]),vo(J,[J.Transaction.prototype],o(Ue),Ue),oe.schema=Ue;var Le,Be=G(De);return Be&&Rt(),ke=Ve.follow(function(){var We;(Le=De(oe))&&Be&&(We=$t.bind(null,null),Le.then(We,We))}),Le&&typeof Le.then=="function"?Ve.resolve(Le):ke.then(function(){return Le})}}),pe.push(function(we){var Se,ke,De=ve._cfg.dbschema;Se=De,ke=we,[].slice.call(ke.db.objectStoreNames).forEach(function(Ue){return Se[Ue]==null&&ke.db.deleteObjectStore(Ue)}),_l(J,[J.Transaction.prototype]),vo(J,[J.Transaction.prototype],J._storeNames,J._dbSchema),oe.schema=J._dbSchema}),pe.push(function(we){J.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(J.idbdb.version/10)===ve._cfg.version?(J.idbdb.deleteObjectStore("$meta"),delete J._dbSchema.$meta,J._storeNames=J._storeNames.filter(function(Se){return Se!=="$meta"})):we.objectStore("$meta").put(ve._cfg.version,"version"))})}),function ve(){return pe.length?Ve.resolve(pe.shift()(oe.idbtrans)).then(ve):Ve.resolve()}().then(function(){Sl(ce,ue)})):Ve.resolve();var J,he,oe,ue,pe,ce}).catch(W)):(o(R).forEach(function(de){Kc(k,de,R[de].primKey,R[de].indexes)}),pa(v,k),void Ve.follow(function(){return v.on.populate.fire(L)}).catch(W));var se,ae})}function qd(v,w){Sl(v._dbSchema,w),w.db.version%10!=0||w.objectStoreNames.contains("$meta")||w.db.createObjectStore("$meta").add(Math.ceil(w.db.version/10-1),"version");var k=El(0,v.idbdb,w);xr(v,v._dbSchema,w);for(var N=0,R=ma(k,v._dbSchema).change;N<R.length;N++){var L=function(W){if(W.change.length||W.recreate)return console.warn("Unable to patch indexes of table ".concat(W.name," because it has changes on the type of index or primary key.")),{value:void 0};var Y=w.objectStore(W.name);W.add.forEach(function(se){on&&console.debug("Dexie upgrade patch: Creating missing index ".concat(W.name,".").concat(se.src)),xo(Y,se)})}(R[N]);if(typeof L=="object")return L.value}}function ma(v,w){var k,N={del:[],add:[],change:[]};for(k in v)w[k]||N.del.push(k);for(k in w){var R=v[k],L=w[k];if(R){var W={name:k,def:L,recreate:!1,del:[],add:[],change:[]};if(""+(R.primKey.keyPath||"")!=""+(L.primKey.keyPath||"")||R.primKey.auto!==L.primKey.auto)W.recreate=!0,N.change.push(W);else{var Y=R.idxByName,se=L.idxByName,ae=void 0;for(ae in Y)se[ae]||W.del.push(ae);for(ae in se){var de=Y[ae],J=se[ae];de?de.src!==J.src&&W.change.push(J):W.add.push(J)}(0<W.del.length||0<W.add.length||0<W.change.length)&&N.change.push(W)}}else N.add.push([k,L])}return N}function Kc(v,w,k,N){var R=v.db.createObjectStore(w,k.keyPath?{keyPath:k.keyPath,autoIncrement:k.auto}:{autoIncrement:k.auto});return N.forEach(function(L){return xo(R,L)}),R}function Sl(v,w){o(v).forEach(function(k){w.db.objectStoreNames.contains(k)||(on&&console.debug("Dexie: Creating missing table",k),Kc(w,k,v[k].primKey,v[k].indexes))})}function xo(v,w){v.createIndex(w.name,w.keyPath,{unique:w.unique,multiEntry:w.multi})}function El(v,w,k){var N={};return P(w.objectStoreNames,0).forEach(function(R){for(var L=k.objectStore(R),W=Qc(bl(ae=L.keyPath),ae||"",!0,!1,!!L.autoIncrement,ae&&typeof ae!="string",!0),Y=[],se=0;se<L.indexNames.length;++se){var de=L.index(L.indexNames[se]),ae=de.keyPath,de=Qc(de.name,ae,!!de.unique,!!de.multiEntry,!1,ae&&typeof ae!="string",!1);Y.push(de)}N[R]=Vc(R,W,Y)}),N}function xr(v,w,k){for(var N=k.db.objectStoreNames,R=0;R<N.length;++R){var L=N[R],W=k.objectStore(L);v._hasGetAll="getAll"in W;for(var Y=0;Y<W.indexNames.length;++Y){var se=W.indexNames[Y],ae=W.index(se).keyPath,de=typeof ae=="string"?ae:"["+P(ae).join("+")+"]";!w[L]||(ae=w[L].idxByName[de])&&(ae.name=se,delete w[L].idxByName[de],w[L].idxByName[se]=ae)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&s.WorkerGlobalScope&&s instanceof s.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(v._hasGetAll=!1)}function bo(v){return v.split(",").map(function(w,k){var N=(w=w.trim()).replace(/([&*]|\+\+)/g,""),R=/^\[/.test(N)?N.match(/^\[(.*)\]$/)[1].split("+"):N;return Qc(N,R||null,/\&/.test(w),/\*/.test(w),/\+\+/.test(w),a(R),k===0)})}var Qd=(Gs.prototype._parseStoresSpec=function(v,w){o(v).forEach(function(k){if(v[k]!==null){var N=bo(v[k]),R=N.shift();if(R.unique=!0,R.multi)throw new Ne.Schema("Primary key cannot be multi-valued");N.forEach(function(L){if(L.auto)throw new Ne.Schema("Only primary key can be marked as autoIncrement (++)");if(!L.keyPath)throw new Ne.Schema("Index must have a name and cannot be an empty string")}),w[k]=Vc(k,R,N)}})},Gs.prototype.stores=function(k){var w=this.db;this._cfg.storesSource=this._cfg.storesSource?l(this._cfg.storesSource,k):k;var k=w._versions,N={},R={};return k.forEach(function(L){l(N,L._cfg.storesSource),R=L._cfg.dbschema={},L._parseStoresSpec(N,R)}),w._dbSchema=R,_l(w,[w._allTables,w,w.Transaction.prototype]),vo(w,[w._allTables,w,w.Transaction.prototype,this._cfg.tables],o(R),R),w._storeNames=o(R),this},Gs.prototype.upgrade=function(v){return this._cfg.contentUpgrade=wt(this._cfg.contentUpgrade||It,v),this},Gs);function Gs(){}function Vd(v,w){var k=v._dbNamesDB;return k||(k=v._dbNamesDB=new es(Ji,{addons:[],indexedDB:v,IDBKeyRange:w})).version(1).stores({dbnames:"name"}),k.table("dbnames")}function kl(v){return v&&typeof v.databases=="function"}function Cl(v){return tt(function(){return Qe.letThrough=!0,v()})}function wo(v){return!("from"in v)}var Yn=function(v,w){if(!this){var k=new Yn;return v&&"d"in v&&l(k,v),k}l(this,arguments.length?{d:1,from:v,to:1<arguments.length?w:v}:{d:0})};function ga(v,w,k){var N=mt(w,k);if(!isNaN(N)){if(0<N)throw RangeError();if(wo(v))return l(v,{from:w,to:k,d:1});var R=v.l,N=v.r;if(mt(k,v.from)<0)return R?ga(R,w,k):v.l={from:w,to:k,d:1,l:null,r:null},Yc(v);if(0<mt(w,v.to))return N?ga(N,w,k):v.r={from:w,to:k,d:1,l:null,r:null},Yc(v);mt(w,v.from)<0&&(v.from=w,v.l=null,v.d=N?N.d+1:1),0<mt(k,v.to)&&(v.to=k,v.r=null,v.d=v.l?v.l.d+1:1),k=!v.r,R&&!v.l&&Tl(v,R),N&&k&&Tl(v,N)}}function Tl(v,w){wo(w)||function k(N,se){var L=se.from,W=se.to,Y=se.l,se=se.r;ga(N,L,W),Y&&k(N,Y),se&&k(N,se)}(v,w)}function _p(v,w){var k=Gc(w),N=k.next();if(N.done)return!1;for(var R=N.value,L=Gc(v),W=L.next(R.from),Y=W.value;!N.done&&!W.done;){if(mt(Y.from,R.to)<=0&&0<=mt(Y.to,R.from))return!0;mt(R.from,Y.from)<0?R=(N=k.next(Y.from)).value:Y=(W=L.next(R.from)).value}return!1}function Gc(v){var w=wo(v)?null:{s:0,n:v};return{next:function(k){for(var N=0<arguments.length;w;)switch(w.s){case 0:if(w.s=1,N)for(;w.n.l&&mt(k,w.n.from)<0;)w={up:w,n:w.n.l,s:1};else for(;w.n.l;)w={up:w,n:w.n.l,s:1};case 1:if(w.s=2,!N||mt(k,w.n.to)<=0)return{value:w.n,done:!1};case 2:if(w.n.r){w.s=3,w={up:w,n:w.n.r,s:0};continue}case 3:w=w.up}return{done:!0}}}}function Yc(v){var w,k,N=(((w=v.r)===null||w===void 0?void 0:w.d)||0)-(((k=v.l)===null||k===void 0?void 0:k.d)||0),R=1<N?"r":N<-1?"l":"";R&&(w=R=="r"?"l":"r",k=r({},v),N=v[R],v.from=N.from,v.to=N.to,v[R]=N[R],k[R]=N[w],(v[w]=k).d=Sp(k)),v.d=Sp(v)}function Sp(k){var w=k.r,k=k.l;return(w?k?Math.max(w.d,k.d):w.d:k?k.d:0)+1}function Xc(v,w){return o(w).forEach(function(k){v[k]?Tl(v[k],w[k]):v[k]=function N(R){var L,W,Y={};for(L in R)h(R,L)&&(W=R[L],Y[L]=!W||typeof W!="object"||ee.has(W.constructor)?W:N(W));return Y}(w[k])}),v}function Kd(v,w){return v.all||w.all||Object.keys(v).some(function(k){return w[k]&&_p(w[k],v[k])})}g(Yn.prototype,((hi={add:function(v){return Tl(this,v),this},addKey:function(v){return ga(this,v,v),this},addKeys:function(v){var w=this;return v.forEach(function(k){return ga(w,k,k)}),this},hasKey:function(v){var w=Gc(this).next(v).value;return w&&mt(w.from,v)<=0&&0<=mt(w.to,v)}})[V]=function(){return Gc(this)},hi));var _o={},Gd={},Jc=!1;function Zc(v){Xc(Gd,v),Jc||(Jc=!0,setTimeout(function(){Jc=!1,Yd(Gd,!(Gd={}))},0))}function Yd(v,w){w===void 0&&(w=!1);var k=new Set;if(v.all)for(var N=0,R=Object.values(_o);N<R.length;N++)Ep(W=R[N],v,k,w);else for(var L in v){var W,Y=/^idb\:\/\/(.*)\/(.*)\//.exec(L);Y&&(L=Y[1],Y=Y[2],(W=_o["idb://".concat(L,"/").concat(Y)])&&Ep(W,v,k,w))}k.forEach(function(se){return se()})}function Ep(v,w,k,N){for(var R=[],L=0,W=Object.entries(v.queries.query);L<W.length;L++){for(var Y=W[L],se=Y[0],ae=[],de=0,J=Y[1];de<J.length;de++){var he=J[de];Kd(w,he.obsSet)?he.subscribers.forEach(function(ce){return k.add(ce)}):N&&ae.push(he)}N&&R.push([se,ae])}if(N)for(var oe=0,ue=R;oe<ue.length;oe++){var pe=ue[oe],se=pe[0],ae=pe[1];v.queries.query[se]=ae}}function U1(v){var w=v._state,k=v._deps.indexedDB;if(w.isBeingOpened||v.idbdb)return w.dbReadyPromise.then(function(){return w.dbOpenError?tn(w.dbOpenError):v});w.isBeingOpened=!0,w.dbOpenError=null,w.openComplete=!1;var N=w.openCanceller,R=Math.round(10*v.verno),L=!1;function W(){if(w.openCanceller!==N)throw new Ne.DatabaseClosed("db.open() was cancelled")}function Y(){return new Ve(function(he,oe){if(W(),!k)throw new Ne.MissingAPI;var ue=v.name,pe=w.autoSchema||!R?k.open(ue):k.open(ue,R);if(!pe)throw new Ne.MissingAPI;pe.onerror=Mr(oe),pe.onblocked=je(v._fireOnBlocked),pe.onupgradeneeded=je(function(ce){var ve;de=pe.transaction,w.autoSchema&&!v._options.allowEmptyDB?(pe.onerror=Es,de.abort(),pe.result.close(),(ve=k.deleteDatabase(ue)).onsuccess=ve.onerror=je(function(){oe(new Ne.NoSuchDatabase("Database ".concat(ue," doesnt exist")))})):(de.onerror=Mr(oe),ce=ce.oldVersion>Math.pow(2,62)?0:ce.oldVersion,J=ce<1,v.idbdb=pe.result,L&&qd(v,de),Ks(v,ce/10,de,oe))},oe),pe.onsuccess=je(function(){de=null;var ce,ve,we,Se,ke,De=v.idbdb=pe.result,Ue=P(De.objectStoreNames);if(0<Ue.length)try{var Le=De.transaction((Se=Ue).length===1?Se[0]:Se,"readonly");if(w.autoSchema)ve=De,we=Le,(ce=v).verno=ve.version/10,we=ce._dbSchema=El(0,ve,we),ce._storeNames=P(ve.objectStoreNames,0),vo(ce,[ce._allTables],o(we),we);else if(xr(v,v._dbSchema,Le),((ke=ma(El(0,(ke=v).idbdb,Le),ke._dbSchema)).add.length||ke.change.some(function(Be){return Be.add.length||Be.change.length}))&&!L)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),De.close(),R=De.version+1,L=!0,he(Y());pa(v,Le)}catch{}Jr.push(v),De.onversionchange=je(function(Be){w.vcFired=!0,v.on("versionchange").fire(Be)}),De.onclose=je(function(Be){v.on("close").fire(Be)}),J&&(ke=v._deps,Le=ue,De=ke.indexedDB,ke=ke.IDBKeyRange,kl(De)||Le===Ji||Vd(De,ke).put({name:Le}).catch(It)),he()},oe)}).catch(function(he){switch(he?.name){case"UnknownError":if(0<w.PR1398_maxLoop)return w.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),Y();break;case"VersionError":if(0<R)return R=0,Y()}return Ve.reject(he)})}var se,ae=w.dbReadyResolve,de=null,J=!1;return Ve.race([N,(typeof navigator>"u"?Ve.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(he){function oe(){return indexedDB.databases().finally(he)}se=setInterval(oe,100),oe()}).finally(function(){return clearInterval(se)}):Promise.resolve()).then(Y)]).then(function(){return W(),w.onReadyBeingFired=[],Ve.resolve(Cl(function(){return v.on.ready.fire(v.vip)})).then(function he(){if(0<w.onReadyBeingFired.length){var oe=w.onReadyBeingFired.reduce(wt,It);return w.onReadyBeingFired=[],Ve.resolve(Cl(function(){return oe(v.vip)})).then(he)}})}).finally(function(){w.openCanceller===N&&(w.onReadyBeingFired=null,w.isBeingOpened=!1)}).catch(function(he){w.dbOpenError=he;try{de&&de.abort()}catch{}return N===w.openCanceller&&v._close(),tn(he)}).finally(function(){w.openComplete=!0,ae()}).then(function(){var he;return J&&(he={},v.tables.forEach(function(oe){oe.schema.indexes.forEach(function(ue){ue.name&&(he["idb://".concat(v.name,"/").concat(oe.name,"/").concat(ue.name)]=new Yn(-1/0,[[[]]]))}),he["idb://".concat(v.name,"/").concat(oe.name,"/")]=he["idb://".concat(v.name,"/").concat(oe.name,"/:dels")]=new Yn(-1/0,[[[]]])}),ks(fi).fire(he),Yd(he,!0)),v})}function jl(v){function w(L){return v.next(L)}var k=R(w),N=R(function(L){return v.throw(L)});function R(L){return function(se){var Y=L(se),se=Y.value;return Y.done?se:se&&typeof se.then=="function"?se.then(k,N):a(se)?Promise.all(se).then(k,N):k(se)}}return R(w)()}function eu(v,w,k){for(var N=a(v)?v.slice():[v],R=0;R<k;++R)N.push(w);return N}var H1={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(v){return r(r({},v),{table:function(w){var k=v.table(w),N=k.schema,R={},L=[];function W(J,he,oe){var ue=Vs(J),pe=R[ue]=R[ue]||[],ce=J==null?0:typeof J=="string"?1:J.length,ve=0<he,ve=r(r({},oe),{name:ve?"".concat(ue,"(virtual-from:").concat(oe.name,")"):oe.name,lowLevelIndex:oe,isVirtual:ve,keyTail:he,keyLength:ce,extractKey:yo(J),unique:!ve&&oe.unique});return pe.push(ve),ve.isPrimaryKey||L.push(ve),1<ce&&W(ce===2?J[0]:J.slice(0,ce-1),he+1,oe),pe.sort(function(we,Se){return we.keyTail-Se.keyTail}),ve}w=W(N.primaryKey.keyPath,0,N.primaryKey),R[":id"]=[w];for(var Y=0,se=N.indexes;Y<se.length;Y++){var ae=se[Y];W(ae.keyPath,0,ae)}function de(J){var he,oe=J.query.index;return oe.isVirtual?r(r({},J),{query:{index:oe.lowLevelIndex,range:(he=J.query.range,oe=oe.keyTail,{type:he.type===1?2:he.type,lower:eu(he.lower,he.lowerOpen?v.MAX_KEY:v.MIN_KEY,oe),lowerOpen:!0,upper:eu(he.upper,he.upperOpen?v.MIN_KEY:v.MAX_KEY,oe),upperOpen:!0})}}):J}return r(r({},k),{schema:r(r({},N),{primaryKey:w,indexes:L,getIndexByKeyPath:function(J){return(J=R[Vs(J)])&&J[0]}}),count:function(J){return k.count(de(J))},query:function(J){return k.query(de(J))},openCursor:function(J){var he=J.query.index,oe=he.keyTail,ue=he.isVirtual,pe=he.keyLength;return ue?k.openCursor(de(J)).then(function(ve){return ve&&ce(ve)}):k.openCursor(J);function ce(ve){return Object.create(ve,{continue:{value:function(we){we!=null?ve.continue(eu(we,J.reverse?v.MAX_KEY:v.MIN_KEY,oe)):J.unique?ve.continue(ve.key.slice(0,pe).concat(J.reverse?v.MIN_KEY:v.MAX_KEY,oe)):ve.continue()}},continuePrimaryKey:{value:function(we,Se){ve.continuePrimaryKey(eu(we,v.MAX_KEY,oe),Se)}},primaryKey:{get:function(){return ve.primaryKey}},key:{get:function(){var we=ve.key;return pe===1?we[0]:we.slice(0,pe)}},value:{get:function(){return ve.value}}})}}})}})}};function Xd(v,w,k,N){return k=k||{},N=N||"",o(v).forEach(function(R){var L,W,Y;h(w,R)?(L=v[R],W=w[R],typeof L=="object"&&typeof W=="object"&&L&&W?(Y=q(L))!==q(W)?k[N+R]=w[R]:Y==="Object"?Xd(L,W,k,N+R+"."):L!==W&&(k[N+R]=w[R]):L!==W&&(k[N+R]=w[R])):k[N+R]=void 0}),o(w).forEach(function(R){h(v,R)||(k[N+R]=w[R])}),k}function tu(v,w){return w.type==="delete"?w.keys:w.keys||w.values.map(v.extractKey)}var W1={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(v){return r(r({},v),{table:function(w){var k=v.table(w),N=k.schema.primaryKey;return r(r({},k),{mutate:function(R){var L=Qe.trans,W=L.table(w).hook,Y=W.deleting,se=W.creating,ae=W.updating;switch(R.type){case"add":if(se.fire===It)break;return L._promise("readwrite",function(){return de(R)},!0);case"put":if(se.fire===It&&ae.fire===It)break;return L._promise("readwrite",function(){return de(R)},!0);case"delete":if(Y.fire===It)break;return L._promise("readwrite",function(){return de(R)},!0);case"deleteRange":if(Y.fire===It)break;return L._promise("readwrite",function(){return function J(he,oe,ue){return k.query({trans:he,values:!1,query:{index:N,range:oe},limit:ue}).then(function(pe){var ce=pe.result;return de({type:"delete",keys:ce,trans:he}).then(function(ve){return 0<ve.numFailures?Promise.reject(ve.failures[0]):ce.length<ue?{failures:[],numFailures:0,lastResult:void 0}:J(he,r(r({},oe),{lower:ce[ce.length-1],lowerOpen:!0}),ue)})})}(R.trans,R.range,1e4)},!0)}return k.mutate(R);function de(J){var he,oe,ue,pe=Qe.trans,ce=J.keys||tu(N,J);if(!ce)throw new Error("Keys missing");return(J=J.type==="add"||J.type==="put"?r(r({},J),{keys:ce}):r({},J)).type!=="delete"&&(J.values=i([],J.values)),J.keys&&(J.keys=i([],J.keys)),he=k,ue=ce,((oe=J).type==="add"?Promise.resolve([]):he.getMany({trans:oe.trans,keys:ue,cache:"immutable"})).then(function(ve){var we=ce.map(function(Se,ke){var De,Ue,Le,Be=ve[ke],We={onerror:null,onsuccess:null};return J.type==="delete"?Y.fire.call(We,Se,Be,pe):J.type==="add"||Be===void 0?(De=se.fire.call(We,Se,J.values[ke],pe),Se==null&&De!=null&&(J.keys[ke]=Se=De,N.outbound||M(J.values[ke],N.keyPath,Se))):(De=Xd(Be,J.values[ke]),(Ue=ae.fire.call(We,De,Se,Be,pe))&&(Le=J.values[ke],Object.keys(Ue).forEach(function(ze){h(Le,ze)?Le[ze]=Ue[ze]:M(Le,ze,Ue[ze])}))),We});return k.mutate(J).then(function(Se){for(var ke=Se.failures,De=Se.results,Ue=Se.numFailures,Se=Se.lastResult,Le=0;Le<ce.length;++Le){var Be=(De||ce)[Le],We=we[Le];Be==null?We.onerror&&We.onerror(ke[Le]):We.onsuccess&&We.onsuccess(J.type==="put"&&ve[Le]?J.values[Le]:Be)}return{failures:ke,results:De,numFailures:Ue,lastResult:Se}}).catch(function(Se){return we.forEach(function(ke){return ke.onerror&&ke.onerror(Se)}),Promise.reject(Se)})})}}})}})}};function kp(v,w,k){try{if(!w||w.keys.length<v.length)return null;for(var N=[],R=0,L=0;R<w.keys.length&&L<v.length;++R)mt(w.keys[R],v[L])===0&&(N.push(k?re(w.values[R]):w.values[R]),++L);return N.length===v.length?N:null}catch{return null}}var q1={stack:"dbcore",level:-1,create:function(v){return{table:function(w){var k=v.table(w);return r(r({},k),{getMany:function(N){if(!N.cache)return k.getMany(N);var R=kp(N.keys,N.trans._cache,N.cache==="clone");return R?Ve.resolve(R):k.getMany(N).then(function(L){return N.trans._cache={keys:N.keys,values:N.cache==="clone"?re(L):L},L})},mutate:function(N){return N.type!=="add"&&(N.trans._cache=null),k.mutate(N)}})}}}};function Cp(v,w){return v.trans.mode==="readonly"&&!!v.subscr&&!v.trans.explicit&&v.trans.db._options.cache!=="disabled"&&!w.schema.primaryKey.outbound}function Tp(v,w){switch(v){case"query":return w.values&&!w.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var Q1={stack:"dbcore",level:0,name:"Observability",create:function(v){var w=v.schema.name,k=new Yn(v.MIN_KEY,v.MAX_KEY);return r(r({},v),{transaction:function(N,R,L){if(Qe.subscr&&R!=="readonly")throw new Ne.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(Qe.querier));return v.transaction(N,R,L)},table:function(N){var R=v.table(N),L=R.schema,W=L.primaryKey,J=L.indexes,Y=W.extractKey,se=W.outbound,ae=W.autoIncrement&&J.filter(function(oe){return oe.compound&&oe.keyPath.includes(W.keyPath)}),de=r(r({},R),{mutate:function(oe){function ue(ze){return ze="idb://".concat(w,"/").concat(N,"/").concat(ze),Se[ze]||(Se[ze]=new Yn)}var pe,ce,ve,we=oe.trans,Se=oe.mutatedParts||(oe.mutatedParts={}),ke=ue(""),De=ue(":dels"),Ue=oe.type,We=oe.type==="deleteRange"?[oe.range]:oe.type==="delete"?[oe.keys]:oe.values.length<50?[tu(W,oe).filter(function(ze){return ze}),oe.values]:[],Le=We[0],Be=We[1],We=oe.trans._cache;return a(Le)?(ke.addKeys(Le),(We=Ue==="delete"||Le.length===Be.length?kp(Le,We):null)||De.addKeys(Le),(We||Be)&&(pe=ue,ce=We,ve=Be,L.indexes.forEach(function(ze){var Xe=pe(ze.name||"");function St(Dt){return Dt!=null?ze.extractKey(Dt):null}function Tt(Dt){return ze.multiEntry&&a(Dt)?Dt.forEach(function(Dr){return Xe.addKey(Dr)}):Xe.addKey(Dt)}(ce||ve).forEach(function(Dt,ar){var _t=ce&&St(ce[ar]),ar=ve&&St(ve[ar]);mt(_t,ar)!==0&&(_t!=null&&Tt(_t),ar!=null&&Tt(ar))})}))):Le?(Be={from:(Be=Le.lower)!==null&&Be!==void 0?Be:v.MIN_KEY,to:(Be=Le.upper)!==null&&Be!==void 0?Be:v.MAX_KEY},De.add(Be),ke.add(Be)):(ke.add(k),De.add(k),L.indexes.forEach(function(ze){return ue(ze.name).add(k)})),R.mutate(oe).then(function(ze){return!Le||oe.type!=="add"&&oe.type!=="put"||(ke.addKeys(ze.results),ae&&ae.forEach(function(Xe){for(var St=oe.values.map(function(_t){return Xe.extractKey(_t)}),Tt=Xe.keyPath.findIndex(function(_t){return _t===W.keyPath}),Dt=0,Dr=ze.results.length;Dt<Dr;++Dt)St[Dt][Tt]=ze.results[Dt];ue(Xe.name).addKeys(St)})),we.mutatedParts=Xc(we.mutatedParts||{},Se),ze})}}),J=function(ue){var pe=ue.query,ue=pe.index,pe=pe.range;return[ue,new Yn((ue=pe.lower)!==null&&ue!==void 0?ue:v.MIN_KEY,(pe=pe.upper)!==null&&pe!==void 0?pe:v.MAX_KEY)]},he={get:function(oe){return[W,new Yn(oe.key)]},getMany:function(oe){return[W,new Yn().addKeys(oe.keys)]},count:J,query:J,openCursor:J};return o(he).forEach(function(oe){de[oe]=function(ue){var pe=Qe.subscr,ce=!!pe,ve=Cp(Qe,R)&&Tp(oe,ue)?ue.obsSet={}:pe;if(ce){var we=function(Be){return Be="idb://".concat(w,"/").concat(N,"/").concat(Be),ve[Be]||(ve[Be]=new Yn)},Se=we(""),ke=we(":dels"),pe=he[oe](ue),ce=pe[0],pe=pe[1];if((oe==="query"&&ce.isPrimaryKey&&!ue.values?ke:we(ce.name||"")).add(pe),!ce.isPrimaryKey){if(oe!=="count"){var De=oe==="query"&&se&&ue.values&&R.query(r(r({},ue),{values:!1}));return R[oe].apply(this,arguments).then(function(Be){if(oe==="query"){if(se&&ue.values)return De.then(function(St){return St=St.result,Se.addKeys(St),Be});var We=ue.values?Be.result.map(Y):Be.result;(ue.values?Se:ke).addKeys(We)}else if(oe==="openCursor"){var ze=Be,Xe=ue.values;return ze&&Object.create(ze,{key:{get:function(){return ke.addKey(ze.primaryKey),ze.key}},primaryKey:{get:function(){var St=ze.primaryKey;return ke.addKey(St),St}},value:{get:function(){return Xe&&Se.addKey(ze.primaryKey),ze.value}}})}return Be})}ke.add(k)}}return R[oe].apply(this,arguments)}}),de}})}};function jp(v,w,k){if(k.numFailures===0)return w;if(w.type==="deleteRange")return null;var N=w.keys?w.keys.length:"values"in w&&w.values?w.values.length:1;return k.numFailures===N?null:(w=r({},w),a(w.keys)&&(w.keys=w.keys.filter(function(R,L){return!(L in k.failures)})),"values"in w&&a(w.values)&&(w.values=w.values.filter(function(R,L){return!(L in k.failures)})),w)}function Nl(v,w){return k=v,((N=w).lower===void 0||(N.lowerOpen?0<mt(k,N.lower):0<=mt(k,N.lower)))&&(v=v,(w=w).upper===void 0||(w.upperOpen?mt(v,w.upper)<0:mt(v,w.upper)<=0));var k,N}function ya(v,w,he,N,R,L){if(!he||he.length===0)return v;var W=w.query.index,Y=W.multiEntry,se=w.query.range,ae=N.schema.primaryKey.extractKey,de=W.extractKey,J=(W.lowLevelIndex||W).extractKey,he=he.reduce(function(oe,ue){var pe=oe,ce=[];if(ue.type==="add"||ue.type==="put")for(var ve=new Yn,we=ue.values.length-1;0<=we;--we){var Se,ke=ue.values[we],De=ae(ke);ve.hasKey(De)||(Se=de(ke),(Y&&a(Se)?Se.some(function(ze){return Nl(ze,se)}):Nl(Se,se))&&(ve.addKey(De),ce.push(ke)))}switch(ue.type){case"add":var Ue=new Yn().addKeys(w.values?oe.map(function(Xe){return ae(Xe)}):oe),pe=oe.concat(w.values?ce.filter(function(Xe){return Xe=ae(Xe),!Ue.hasKey(Xe)&&(Ue.addKey(Xe),!0)}):ce.map(function(Xe){return ae(Xe)}).filter(function(Xe){return!Ue.hasKey(Xe)&&(Ue.addKey(Xe),!0)}));break;case"put":var Le=new Yn().addKeys(ue.values.map(function(Xe){return ae(Xe)}));pe=oe.filter(function(Xe){return!Le.hasKey(w.values?ae(Xe):Xe)}).concat(w.values?ce:ce.map(function(Xe){return ae(Xe)}));break;case"delete":var Be=new Yn().addKeys(ue.keys);pe=oe.filter(function(Xe){return!Be.hasKey(w.values?ae(Xe):Xe)});break;case"deleteRange":var We=ue.range;pe=oe.filter(function(Xe){return!Nl(ae(Xe),We)})}return pe},v);return he===v?v:(he.sort(function(oe,ue){return mt(J(oe),J(ue))||mt(ae(oe),ae(ue))}),w.limit&&w.limit<1/0&&(he.length>w.limit?he.length=w.limit:v.length===w.limit&&he.length<w.limit&&(R.dirty=!0)),L?Object.freeze(he):he)}function Np(v,w){return mt(v.lower,w.lower)===0&&mt(v.upper,w.upper)===0&&!!v.lowerOpen==!!w.lowerOpen&&!!v.upperOpen==!!w.upperOpen}function Ip(v,w){return function(k,N,R,L){if(k===void 0)return N!==void 0?-1:0;if(N===void 0)return 1;if((N=mt(k,N))===0){if(R&&L)return 0;if(R)return 1;if(L)return-1}return N}(v.lower,w.lower,v.lowerOpen,w.lowerOpen)<=0&&0<=function(k,N,R,L){if(k===void 0)return N!==void 0?1:0;if(N===void 0)return-1;if((N=mt(k,N))===0){if(R&&L)return 0;if(R)return-1;if(L)return 1}return N}(v.upper,w.upper,v.upperOpen,w.upperOpen)}function Pp(v,w,k,N){v.subscribers.add(k),N.addEventListener("abort",function(){var R,L;v.subscribers.delete(k),v.subscribers.size===0&&(R=v,L=w,setTimeout(function(){R.subscribers.size===0&&Z(L,R)},3e3))})}var Rp={stack:"dbcore",level:0,name:"Cache",create:function(v){var w=v.schema.name;return r(r({},v),{transaction:function(k,N,R){var L,W,Y=v.transaction(k,N,R);return N==="readwrite"&&(W=(L=new AbortController).signal,R=function(se){return function(){if(L.abort(),N==="readwrite"){for(var ae=new Set,de=0,J=k;de<J.length;de++){var he=J[de],oe=_o["idb://".concat(w,"/").concat(he)];if(oe){var ue=v.table(he),pe=oe.optimisticOps.filter(function(Xe){return Xe.trans===Y});if(Y._explicit&&se&&Y.mutatedParts)for(var ce=0,ve=Object.values(oe.queries.query);ce<ve.length;ce++)for(var we=0,Se=(Ue=ve[ce]).slice();we<Se.length;we++)Kd((Le=Se[we]).obsSet,Y.mutatedParts)&&(Z(Ue,Le),Le.subscribers.forEach(function(Xe){return ae.add(Xe)}));else if(0<pe.length){oe.optimisticOps=oe.optimisticOps.filter(function(Xe){return Xe.trans!==Y});for(var ke=0,De=Object.values(oe.queries.query);ke<De.length;ke++)for(var Ue,Le,Be,We=0,ze=(Ue=De[ke]).slice();We<ze.length;We++)(Le=ze[We]).res!=null&&Y.mutatedParts&&(se&&!Le.dirty?(Be=Object.isFrozen(Le.res),Be=ya(Le.res,Le.req,pe,ue,Le,Be),Le.dirty?(Z(Ue,Le),Le.subscribers.forEach(function(Xe){return ae.add(Xe)})):Be!==Le.res&&(Le.res=Be,Le.promise=Ve.resolve({result:Be}))):(Le.dirty&&Z(Ue,Le),Le.subscribers.forEach(function(Xe){return ae.add(Xe)})))}}}ae.forEach(function(Xe){return Xe()})}}},Y.addEventListener("abort",R(!1),{signal:W}),Y.addEventListener("error",R(!1),{signal:W}),Y.addEventListener("complete",R(!0),{signal:W})),Y},table:function(k){var N=v.table(k),R=N.schema.primaryKey;return r(r({},N),{mutate:function(L){var W=Qe.trans;if(R.outbound||W.db._options.cache==="disabled"||W.explicit||W.idbtrans.mode!=="readwrite")return N.mutate(L);var Y=_o["idb://".concat(w,"/").concat(k)];return Y?(W=N.mutate(L),L.type!=="add"&&L.type!=="put"||!(50<=L.values.length||tu(R,L).some(function(se){return se==null}))?(Y.optimisticOps.push(L),L.mutatedParts&&Zc(L.mutatedParts),W.then(function(se){0<se.numFailures&&(Z(Y.optimisticOps,L),(se=jp(0,L,se))&&Y.optimisticOps.push(se),L.mutatedParts&&Zc(L.mutatedParts))}),W.catch(function(){Z(Y.optimisticOps,L),L.mutatedParts&&Zc(L.mutatedParts)})):W.then(function(se){var ae=jp(0,r(r({},L),{values:L.values.map(function(de,J){var he;return se.failures[J]?de:(de=(he=R.keyPath)!==null&&he!==void 0&&he.includes(".")?re(de):r({},de),M(de,R.keyPath,se.results[J]),de)})}),se);Y.optimisticOps.push(ae),queueMicrotask(function(){return L.mutatedParts&&Zc(L.mutatedParts)})}),W):N.mutate(L)},query:function(L){if(!Cp(Qe,N)||!Tp("query",L))return N.query(L);var W=((ae=Qe.trans)===null||ae===void 0?void 0:ae.db._options.cache)==="immutable",J=Qe,Y=J.requery,se=J.signal,ae=function(ue,pe,ce,ve){var we=_o["idb://".concat(ue,"/").concat(pe)];if(!we)return[];if(!(pe=we.queries[ce]))return[null,!1,we,null];var Se=pe[(ve.query?ve.query.index.name:null)||""];if(!Se)return[null,!1,we,null];switch(ce){case"query":var ke=Se.find(function(De){return De.req.limit===ve.limit&&De.req.values===ve.values&&Np(De.req.query.range,ve.query.range)});return ke?[ke,!0,we,Se]:[Se.find(function(De){return("limit"in De.req?De.req.limit:1/0)>=ve.limit&&(!ve.values||De.req.values)&&Ip(De.req.query.range,ve.query.range)}),!1,we,Se];case"count":return ke=Se.find(function(De){return Np(De.req.query.range,ve.query.range)}),[ke,!!ke,we,Se]}}(w,k,"query",L),de=ae[0],J=ae[1],he=ae[2],oe=ae[3];return de&&J?de.obsSet=L.obsSet:(J=N.query(L).then(function(ue){var pe=ue.result;if(de&&(de.res=pe),W){for(var ce=0,ve=pe.length;ce<ve;++ce)Object.freeze(pe[ce]);Object.freeze(pe)}else ue.result=re(pe);return ue}).catch(function(ue){return oe&&de&&Z(oe,de),Promise.reject(ue)}),de={obsSet:L.obsSet,promise:J,subscribers:new Set,type:"query",req:L,dirty:!1},oe?oe.push(de):(oe=[de],(he=he||(_o["idb://".concat(w,"/").concat(k)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[L.query.index.name||""]=oe)),Pp(de,oe,Y,se),de.promise.then(function(ue){return{result:ya(ue.result,L,he?.optimisticOps,N,de,W)}})}})}})}};function Il(v,w){return new Proxy(v,{get:function(k,N,R){return N==="db"?w:Reflect.get(k,N,R)}})}var es=(bn.prototype.version=function(v){if(isNaN(v)||v<.1)throw new Ne.Type("Given version is not a positive number");if(v=Math.round(10*v)/10,this.idbdb||this._state.isBeingOpened)throw new Ne.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,v);var w=this._versions,k=w.filter(function(N){return N._cfg.version===v})[0];return k||(k=new this.Version(v),w.push(k),w.sort(wp),k.stores({}),this._state.autoSchema=!1,k)},bn.prototype._whenReady=function(v){var w=this;return this.idbdb&&(this._state.openComplete||Qe.letThrough||this._vip)?v():new Ve(function(k,N){if(w._state.openComplete)return N(new Ne.DatabaseClosed(w._state.dbOpenError));if(!w._state.isBeingOpened){if(!w._state.autoOpen)return void N(new Ne.DatabaseClosed);w.open().catch(It)}w._state.dbReadyPromise.then(k,N)}).then(v)},bn.prototype.use=function(v){var w=v.stack,k=v.create,N=v.level,R=v.name;return R&&this.unuse({stack:w,name:R}),v=this._middlewares[w]||(this._middlewares[w]=[]),v.push({stack:w,create:k,level:N??10,name:R}),v.sort(function(L,W){return L.level-W.level}),this},bn.prototype.unuse=function(v){var w=v.stack,k=v.name,N=v.create;return w&&this._middlewares[w]&&(this._middlewares[w]=this._middlewares[w].filter(function(R){return N?R.create!==N:!!k&&R.name!==k})),this},bn.prototype.open=function(){var v=this;return vr(yr,function(){return U1(v)})},bn.prototype._close=function(){var v=this._state,w=Jr.indexOf(this);if(0<=w&&Jr.splice(w,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}v.isBeingOpened||(v.dbReadyPromise=new Ve(function(k){v.dbReadyResolve=k}),v.openCanceller=new Ve(function(k,N){v.cancelOpen=N}))},bn.prototype.close=function(k){var w=(k===void 0?{disableAutoOpen:!0}:k).disableAutoOpen,k=this._state;w?(k.isBeingOpened&&k.cancelOpen(new Ne.DatabaseClosed),this._close(),k.autoOpen=!1,k.dbOpenError=new Ne.DatabaseClosed):(this._close(),k.autoOpen=this._options.autoOpen||k.isBeingOpened,k.openComplete=!1,k.dbOpenError=null)},bn.prototype.delete=function(v){var w=this;v===void 0&&(v={disableAutoOpen:!0});var k=0<arguments.length&&typeof arguments[0]!="object",N=this._state;return new Ve(function(R,L){function W(){w.close(v);var Y=w._deps.indexedDB.deleteDatabase(w.name);Y.onsuccess=je(function(){var se,ae,de;se=w._deps,ae=w.name,de=se.indexedDB,se=se.IDBKeyRange,kl(de)||ae===Ji||Vd(de,se).delete(ae).catch(It),R()}),Y.onerror=Mr(L),Y.onblocked=w._fireOnBlocked}if(k)throw new Ne.InvalidArgument("Invalid closeOptions argument to db.delete()");N.isBeingOpened?N.dbReadyPromise.then(W):W()})},bn.prototype.backendDB=function(){return this.idbdb},bn.prototype.isOpen=function(){return this.idbdb!==null},bn.prototype.hasBeenClosed=function(){var v=this._state.dbOpenError;return v&&v.name==="DatabaseClosed"},bn.prototype.hasFailed=function(){return this._state.dbOpenError!==null},bn.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(bn.prototype,"tables",{get:function(){var v=this;return o(this._allTables).map(function(w){return v._allTables[w]})},enumerable:!1,configurable:!0}),bn.prototype.transaction=function(){var v=(function(w,k,N){var R=arguments.length;if(R<2)throw new Ne.InvalidArgument("Too few arguments");for(var L=new Array(R-1);--R;)L[R-1]=arguments[R];return N=L.pop(),[w,D(L),N]}).apply(this,arguments);return this._transaction.apply(this,v)},bn.prototype._transaction=function(v,w,k){var N=this,R=Qe.trans;R&&R.db===this&&v.indexOf("!")===-1||(R=null);var L,W,Y=v.indexOf("?")!==-1;v=v.replace("!","").replace("?","");try{if(W=w.map(function(ae){if(ae=ae instanceof N.Table?ae.name:ae,typeof ae!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return ae}),v=="r"||v===qt)L=qt;else{if(v!="rw"&&v!=qn)throw new Ne.InvalidArgument("Invalid transaction mode: "+v);L=qn}if(R){if(R.mode===qt&&L===qn){if(!Y)throw new Ne.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");R=null}R&&W.forEach(function(ae){if(R&&R.storeNames.indexOf(ae)===-1){if(!Y)throw new Ne.SubTransaction("Table "+ae+" not included in parent transaction.");R=null}}),Y&&R&&!R.active&&(R=null)}}catch(ae){return R?R._promise(null,function(de,J){J(ae)}):tn(ae)}var se=(function ae(de,J,he,oe,ue){return Ve.resolve().then(function(){var pe=Qe.transless||Qe,ce=de._createTransaction(J,he,de._dbSchema,oe);if(ce.explicit=!0,pe={trans:ce,transless:pe},oe)ce.idbtrans=oe.idbtrans;else try{ce.create(),ce.idbtrans._explicit=!0,de._state.PR1398_maxLoop=3}catch(Se){return Se.name===Ye.InvalidState&&de.isOpen()&&0<--de._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),de.close({disableAutoOpen:!1}),de.open().then(function(){return ae(de,J,he,null,ue)})):tn(Se)}var ve,we=G(ue);return we&&Rt(),pe=Ve.follow(function(){var Se;(ve=ue.call(ce,ce))&&(we?(Se=$t.bind(null,null),ve.then(Se,Se)):typeof ve.next=="function"&&typeof ve.throw=="function"&&(ve=jl(ve)))},pe),(ve&&typeof ve.then=="function"?Ve.resolve(ve).then(function(Se){return ce.active?Se:tn(new Ne.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):pe.then(function(){return ve})).then(function(Se){return oe&&ce._resolve(),ce._completion.then(function(){return Se})}).catch(function(Se){return ce._reject(Se),tn(Se)})})}).bind(null,this,L,W,R,k);return R?R._promise(L,se,"lock"):Qe.trans?vr(Qe.transless,function(){return N._whenReady(se)}):this._whenReady(se)},bn.prototype.table=function(v){if(!h(this._allTables,v))throw new Ne.InvalidTable("Table ".concat(v," does not exist"));return this._allTables[v]},bn);function bn(v,w){var k=this;this._middlewares={},this.verno=0;var N=bn.dependencies;this._options=w=r({addons:bn.addons,autoOpen:!0,indexedDB:N.indexedDB,IDBKeyRange:N.IDBKeyRange,cache:"cloned"},w),this._deps={indexedDB:w.indexedDB,IDBKeyRange:w.IDBKeyRange},N=w.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var R,L,W,Y,se,ae={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:It,dbReadyPromise:null,cancelOpen:It,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:w.autoOpen};ae.dbReadyPromise=new Ve(function(J){ae.dbReadyResolve=J}),ae.openCanceller=new Ve(function(J,he){ae.cancelOpen=he}),this._state=ae,this.name=v,this.on=Qs(this,"populate","blocked","versionchange","close",{ready:[wt,It]}),this.on.ready.subscribe=O(this.on.ready.subscribe,function(J){return function(he,oe){bn.vip(function(){var ue,pe=k._state;pe.openComplete?(pe.dbOpenError||Ve.resolve().then(he),oe&&J(he)):pe.onReadyBeingFired?(pe.onReadyBeingFired.push(he),oe&&J(he)):(J(he),ue=k,oe||J(function ce(){ue.on.ready.unsubscribe(he),ue.on.ready.unsubscribe(ce)}))})}}),this.Collection=(R=this,bs(mn.prototype,function(ve,ce){this.db=R;var oe=Mi,ue=null;if(ce)try{oe=ce()}catch(we){ue=we}var pe=ve._ctx,ce=pe.table,ve=ce.hook.reading.fire;this._ctx={table:ce,index:pe.index,isPrimKey:!pe.index||ce.schema.primKey.keyPath&&pe.index===ce.schema.primKey.name,range:oe,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:ue,or:pe.or,valueMapper:ve!==En?ve:null}})),this.Table=(L=this,bs(xp.prototype,function(J,he,oe){this.db=L,this._tx=oe,this.name=J,this.schema=he,this.hook=L._allTables[J]?L._allTables[J].hook:Qs(null,{creating:[Pi,It],reading:[sn,En],updating:[Ri,It],deleting:[Gr,It]})})),this.Transaction=(W=this,bs(xl.prototype,function(J,he,oe,ue,pe){var ce=this;this.db=W,this.mode=J,this.storeNames=he,this.schema=oe,this.chromeTransactionDurability=ue,this.idbtrans=null,this.on=Qs(this,"complete","error","abort"),this.parent=pe||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new Ve(function(ve,we){ce._resolve=ve,ce._reject=we}),this._completion.then(function(){ce.active=!1,ce.on.complete.fire()},function(ve){var we=ce.active;return ce.active=!1,ce.on.error.fire(ve),ce.parent?ce.parent._reject(ve):we&&ce.idbtrans&&ce.idbtrans.abort(),tn(ve)})})),this.Version=(Y=this,bs(Qd.prototype,function(J){this.db=Y,this._cfg={version:J,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(se=this,bs(Ss.prototype,function(J,he,oe){if(this.db=se,this._ctx={table:J,index:he===":id"?null:he,or:oe},this._cmp=this._ascending=mt,this._descending=function(ue,pe){return mt(pe,ue)},this._max=function(ue,pe){return 0<mt(ue,pe)?ue:pe},this._min=function(ue,pe){return mt(ue,pe)<0?ue:pe},this._IDBKeyRange=se._deps.IDBKeyRange,!this._IDBKeyRange)throw new Ne.MissingAPI})),this.on("versionchange",function(J){0<J.newVersion?console.warn("Another connection wants to upgrade database '".concat(k.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(k.name,"'. Closing db now to resume the delete request.")),k.close({disableAutoOpen:!1})}),this.on("blocked",function(J){!J.newVersion||J.newVersion<J.oldVersion?console.warn("Dexie.delete('".concat(k.name,"') was blocked")):console.warn("Upgrade '".concat(k.name,"' blocked by other connection holding version ").concat(J.oldVersion/10))}),this._maxKey=wl(w.IDBKeyRange),this._createTransaction=function(J,he,oe,ue){return new k.Transaction(J,he,oe,k._options.chromeTransactionDurability,ue)},this._fireOnBlocked=function(J){k.on("blocked").fire(J),Jr.filter(function(he){return he.name===k.name&&he!==k&&!he._state.vcFired}).map(function(he){return he.on("versionchange").fire(J)})},this.use(q1),this.use(Rp),this.use(Q1),this.use(H1),this.use(W1);var de=new Proxy(this,{get:function(J,he,oe){if(he==="_vip")return!0;if(he==="table")return function(pe){return Il(k.table(pe),de)};var ue=Reflect.get(J,he,oe);return ue instanceof xp?Il(ue,de):he==="tables"?ue.map(function(pe){return Il(pe,de)}):he==="_createTransaction"?function(){return Il(ue.apply(this,arguments),de)}:ue}});this.vip=de,N.forEach(function(J){return J(k)})}var nu,hi=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",V1=(ru.prototype.subscribe=function(v,w,k){return this._subscribe(v&&typeof v!="function"?v:{next:v,error:w,complete:k})},ru.prototype[hi]=function(){return this},ru);function ru(v){this._subscribe=v}try{nu={indexedDB:s.indexedDB||s.mozIndexedDB||s.webkitIndexedDB||s.msIndexedDB,IDBKeyRange:s.IDBKeyRange||s.webkitIDBKeyRange}}catch{nu={indexedDB:null,IDBKeyRange:null}}function Jd(v){var w,k=!1,N=new V1(function(R){var L=G(v),W,Y=!1,se={},ae={},de={get closed(){return Y},unsubscribe:function(){Y||(Y=!0,W&&W.abort(),J&&ks.storagemutated.unsubscribe(oe))}};R.start&&R.start(de);var J=!1,he=function(){return Xr(ue)},oe=function(pe){Xc(se,pe),Kd(ae,se)&&he()},ue=function(){var pe,ce,ve;!Y&&nu.indexedDB&&(se={},pe={},W&&W.abort(),W=new AbortController,ve=function(we){var Se=te();try{L&&Rt();var ke=tt(v,we);return ke=L?ke.finally($t):ke}finally{Se&&me()}}(ce={subscr:pe,signal:W.signal,requery:he,querier:v,trans:null}),Promise.resolve(ve).then(function(we){k=!0,w=we,Y||ce.signal.aborted||(se={},function(Se){for(var ke in Se)if(h(Se,ke))return;return 1}(ae=pe)||J||(ks(fi,oe),J=!0),Xr(function(){return!Y&&R.next&&R.next(we)}))},function(we){k=!1,["DatabaseClosedError","AbortError"].includes(we?.name)||Y||Xr(function(){Y||R.error&&R.error(we)})}))};return setTimeout(he,0),de});return N.hasValue=function(){return k},N.getValue=function(){return w},N}var Li=es;function So(v){var w=Fi;try{Fi=!0,ks.storagemutated.fire(v),Yd(v,!0)}finally{Fi=w}}g(Li,r(r({},xn),{delete:function(v){return new Li(v,{addons:[]}).delete()},exists:function(v){return new Li(v,{addons:[]}).open().then(function(w){return w.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(v){try{return w=Li.dependencies,k=w.indexedDB,w=w.IDBKeyRange,(kl(k)?Promise.resolve(k.databases()).then(function(N){return N.map(function(R){return R.name}).filter(function(R){return R!==Ji})}):Vd(k,w).toCollection().primaryKeys()).then(v)}catch{return tn(new Ne.MissingAPI)}var w,k},defineClass:function(){return function(v){l(this,v)}},ignoreTransaction:function(v){return Qe.trans?vr(Qe.transless,v):v()},vip:Cl,async:function(v){return function(){try{var w=jl(v.apply(this,arguments));return w&&typeof w.then=="function"?w:Ve.resolve(w)}catch(k){return tn(k)}}},spawn:function(v,w,k){try{var N=jl(v.apply(k,w||[]));return N&&typeof N.then=="function"?N:Ve.resolve(N)}catch(R){return tn(R)}},currentTransaction:{get:function(){return Qe.trans||null}},waitFor:function(v,w){return w=Ve.resolve(typeof v=="function"?Li.ignoreTransaction(v):v).timeout(w||6e4),Qe.trans?Qe.trans.waitFor(w):w},Promise:Ve,debug:{get:function(){return on},set:function(v){pt(v)}},derive:_,extend:l,props:g,override:O,Events:Qs,on:ks,liveQuery:Jd,extendObservabilitySet:Xc,getByKeyPath:j,setByKeyPath:M,delByKeyPath:function(v,w){typeof w=="string"?M(v,w,void 0):"length"in w&&[].map.call(w,function(k){M(v,k,void 0)})},shallowClone:U,deepClone:re,getObjectDiff:Xd,cmp:mt,asap:B,minKey:-1/0,addons:[],connections:Jr,errnames:Ye,dependencies:nu,cache:_o,semVer:"4.0.11",version:"4.0.11".split(".").map(function(v){return parseInt(v)}).reduce(function(v,w,k){return v+w/Math.pow(10,2*k)})})),Li.maxKey=wl(Li.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(ks(fi,function(v){Fi||(v=new CustomEvent(Wd,{detail:v}),Fi=!0,dispatchEvent(v),Fi=!1)}),addEventListener(Wd,function(v){v=v.detail,Fi||So(v)}));var va,Fi=!1,Op=function(){};return typeof BroadcastChannel<"u"&&((Op=function(){(va=new BroadcastChannel(Wd)).onmessage=function(v){return v.data&&So(v.data)}})(),typeof va.unref=="function"&&va.unref(),ks(fi,function(v){Fi||va.postMessage(v)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(v){if(!es.disableBfCache&&v.persisted){on&&console.debug("Dexie: handling persisted pagehide"),va?.close();for(var w=0,k=Jr;w<k.length;w++)k[w].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(v){!es.disableBfCache&&v.persisted&&(on&&console.debug("Dexie: handling persisted pageshow"),Op(),So({all:new Yn(-1/0,[[]])}))})),Ve.rejectionMapper=function(v,w){return!v||v instanceof H||v instanceof TypeError||v instanceof SyntaxError||!v.name||!ct[v.name]?v:(w=new ct[v.name](w||v.message,v),"stack"in v&&b(w,"stack",{get:function(){return this.inner.stack}}),w)},pt(on),r(es,Object.freeze({__proto__:null,Dexie:es,liveQuery:Jd,Entity:mo,cmp:mt,PropModification:vl,replacePrefix:function(v,w){return new vl({replacePrefix:[v,w]})},add:function(v){return new vl({add:v})},remove:function(v){return new vl({remove:v})},default:es,RangeSet:Yn,mergeRanges:Tl,rangesOverlap:_p}),{default:es}),es})}(Hg)),Hg.exports}var DX=MX();const Yb=Ni(DX),AE=Symbol.for("Dexie"),I0=globalThis[AE]||(globalThis[AE]=Yb);if(Yb.semVer!==I0.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${Yb.semVer} and ${I0.semVer}`);const{liveQuery:LX,mergeRanges:cde,rangesOverlap:ude,RangeSet:dde,cmp:fde,Entity:hde,PropModification:pde,replacePrefix:mde,add:gde,remove:yde}=I0;class FX extends I0{interested_snapshot;interested_subject;simulation_run;simulation_run_selections;simulation_run_events;constructor(){super("ALLCLL_Simulation"),this.version(1).stores({interested_snapshot:"++snapshot_id,user_id,created_at,simulated",interested_subject:"++interested_id,snapshot_id,subject_id",simulation_run:"++simulation_run_id,snapshot_id,user_id,department_name,success_subject_count,subject_count,accuracy,score,total_elapsed,started_at,ended_at",simulation_run_selections:"++run_selections_id,simulation_run_id,interested_id,selected_index,status,started_at,ended_at",simulation_run_events:"++event_id,simulation_section_id,event_type,timestamp"})}}const He=new FX;async function oj(){const e=await He.interested_snapshot.orderBy("created_at").last();if(!e)return null;const t=await He.interested_subject.where("snapshot_id").equals(e.snapshot_id).toArray();return{...e,subjects:t}}async function aj(e){const t=await He.interested_snapshot.get(e);if(!t)return null;const n=await He.interested_subject.where("snapshot_id").equals(e).toArray();return{...t,subjects:n}}async function BX(e){const t=await He.interested_snapshot.orderBy("created_at").last(),n=t&&!t.simulated?t.snapshot_id:await He.interested_snapshot.add({user_id:"Todo: user_id",created_at:Date.now(),simulated:!1});t&&!t.simulated&&(await He.interested_snapshot.update(t.snapshot_id,{created_at:Date.now()}),await He.interested_subject.where("snapshot_id").equals(t.snapshot_id).delete()),await He.interested_subject.bulkAdd(e.map(r=>({snapshot_id:n,subject_id:r})))}async function ME(e,t){const n=await He.interested_subject.where("snapshot_id").equals(e).filter(r=>r.subject_id===t).first();return n?n.interested_id:-1}async function zX(){const e=await Ih();if("errMsg"in e)throw new Error(e.errMsg);return e}const $X=["현대인의정신건강과자기발견","행복한가정만들기","창업과기업가정신1","취창업과진로설계","동서양의사상과윤리","세계사","생명과학의이해","현대과학으로의초대","우리차문화의이해","중급미술심리치료","과학사","성과문화","교양스키","교양배드민턴","생활일본어","영어듣기연습","영어읽기연습","English Listening","English Reading"],UX=(e,t,n)=>{const r=e.find(s=>s.subjectId===t);let i=40;return r?.departmentName==="대양휴머니티칼리지"&&($X.includes(r.subjectName)?i=4.6*3:i=4.6*4),console.log(n,i),n<i},E1=Or((e,t)=>({currentSubjectId:0,isCaptchaFailed:!1,subjectStatusMap:{},setCurrentSubjectId:n=>e({currentSubjectId:n}),setSubjectStatus:(n,r)=>e(i=>({subjectStatusMap:{...i.subjectStatusMap,[n]:r}})),getSubjectStatus:n=>t().subjectStatusMap[n],getIsCaptchaFailed:()=>t().isCaptchaFailed,setCaptchaFailed:n=>e({isCaptchaFailed:n})}));var sr=(e=>(e[e.SEARCH=0]="SEARCH",e[e.APPLY=1]="APPLY",e[e.CAPTCHA=2]="CAPTCHA",e[e.CANCEL_SUBMIT=3]="CANCEL_SUBMIT",e[e.SUBJECT_SUBMIT=4]="SUBJECT_SUBMIT",e[e.REFRESH=5]="REFRESH",e[e.SKIP_REFRESH=6]="SKIP_REFRESH",e))(sr||{}),un=(e=>(e[e.PROGRESS=0]="PROGRESS",e[e.SUCCESS=1]="SUCCESS",e[e.FAILED=2]="FAILED",e[e.DOUBLED=3]="DOUBLED",e[e.CAPTCHA_FAILED=4]="CAPTCHA_FAILED",e[e.NOT_ELIGIBLE=5]="NOT_ELIGIBLE",e[e.CANCELED=6]="CANCELED",e))(un||{}),lj=(e=>(e.SNAPSHOT_NOT_EXIST="SNAPSHOT_NOT_EXIST",e.ONGOING_SIMULATION_NOT_FOUND="ONGOING_SIMULATION_NOT_FOUND",e.SELECTION_NOT_FOUND="SELECTION_NOT_FOUND",e.SIMULATION_NOT_FOUND="SIMULATION_NOT_FOUND",e.MULTIPLE_SIMULATION_FOUND="MULTIPLE_SIMULATION_FOUND",e.SIMULATION_IS_NOT_FINISHED="SIMULATION_IS_NOT_FINISHED",e.MULTIPLE_SIMULATION_RUNNING="MULTIPLE_SIMULATION_RUNNING",e.UNKNOWN_ERROR="UNKNOWN_ERROR",e))(lj||{});const r_=300,HX=r_*1e3;function il(e){return{errMsg:e}}function cj(e){return e instanceof Error?il(e.message):il("UNKNOWN_ERROR")}async function Ih(){try{const e=await k1();if(!e)return{simulationId:-1};const t=await He.simulation_run_selections.filter(o=>C1(o,e.simulation_run_id)).toArray(),n=await He.interested_subject.where("snapshot_id").equals(e.snapshot_id).toArray();if(!n)return il("SNAPSHOT_NOT_EXIST");const r=n.filter(o=>t.some(a=>a.interested_id===o.interested_id)).map(o=>({subjectId:o.subject_id})),i=n.filter(o=>!t.some(a=>a.interested_id===o.interested_id)).map(o=>({subjectId:o.subject_id})),s=t.map(o=>{const a=n.find(l=>l.interested_id===o.interested_id);return a?{subjectId:a.subject_id,status:o.status}:{subjectId:-1,status:2}});return{simulationId:e.simulation_run_id,userStatus:{userPK:e.user_id,departmentCode:e.department_code,departmentName:e.department_name},searchEventAt:e.search_event_at,startedAt:e.started_at,nonRegisteredSubjects:i,registeredSubjects:r,subjectStatus:s}}catch(e){return cj(e)}}async function k1(){const e=await He.simulation_run.filter(t=>t.ended_at===-1).toArray();if(e&&e.length>1)throw new Error("MULTIPLE_SIMULATION_RUNNING");return e[0]??null}async function WX(e){const t=await He.simulation_run.where("simulation_run_id").equals(e).filter(n=>n.ended_at!==-1).toArray();if(!t.length)throw new Error("SIMULATION_NOT_FOUND");if(t.length>1)throw new Error("MULTIPLE_SIMULATION_FOUND");return t[0]}async function qX(e,t,n){const r=await Ih();if(r&&"errMsg"in r)return r;if(r.simulationId!==-1)return{simulationId:r.simulationId,isRunning:!0};const i=await oj();if(!i)return il("SNAPSHOT_NOT_EXIST");await He.interested_snapshot.update(i.snapshot_id,{simulated:!0});const s=i.subjects;return{simulationId:await He.simulation_run.add({snapshot_id:i.snapshot_id,user_id:e,department_code:t,department_name:n,success_subject_count:0,subject_count:s.length,accuracy:-1,score:-1,total_elapsed:-1,search_event_at:-1,started_at:Date.now(),ended_at:-1}),started_at:Date.now(),isRunning:!0}}async function Wo(e,t){const{eventType:n}=e;console.log("BUTTON EVENT",e);let r;try{if(r=await k1(),!r)throw new Error("ONGOING_SIMULATION_NOT_FOUND")}catch(u){return cj(u)}const i=r.simulation_run_id;if(n===0){const u=Date.now();return await He.simulation_run.update(i,{search_event_at:u}),{elapsed_time:u-r.started_at}}const{subjectId:s}=e;if(n===1){const u=await He.simulation_run_selections.filter(h=>h.simulation_run_id===r.simulation_run_id&&h.ended_at>=0).count(),f=await He.simulation_run_selections.add({simulation_run_id:r.simulation_run_id,interested_id:await ME(r.snapshot_id,s),selected_index:u+1,status:0,started_at:Date.now(),ended_at:-1});return await He.simulation_run_events.add({simulation_section_id:f,event_type:n,timestamp:Date.now()}),{}}const o=await He.simulation_run_selections.filter(u=>u.simulation_run_id===i).toArray(),a=o.filter(u=>u.ended_at===-1).sort((u,f)=>f.started_at-u.started_at)[0];if(!a)return il("SELECTION_NOT_FOUND");const l=Date.now();if(await He.simulation_run_events.add({simulation_section_id:a.run_selections_id,event_type:n,timestamp:l}),n===4){const u=await ME(r.snapshot_id,s);if(!await He.simulation_run_selections.filter(E=>E.simulation_run_id===i&&E.interested_id===u).last())return il("SELECTION_NOT_FOUND");const h=async E=>(await He.simulation_run_selections.update(a.run_selections_id,{status:E}),console.log("saved section",a.run_selections_id,E),{status:E});if(E1.getState().isCaptchaFailed)return await h(4);if(o.some(E=>E.interested_id===u&&E.ended_at>=0&&C1(E,i)))return await h(3);const b=Math.floor(l-r.started_at)/1e3;return UX(t,s,b)?await h(1):await h(2)}if(n===3&&await He.simulation_run_selections.update(a.run_selections_id,{status:6,ended_at:Date.now()}),n===5||n===6){await He.simulation_run_selections.update(a.run_selections_id,{ended_at:Date.now()});const u=await VX();return u&&await uj(),{finished:u}}return{}}async function vc(){await uj()}async function uj(){const e=await He.simulation_run.filter(l=>l.ended_at<=-1).last();if(!e)return;const t=await He.simulation_run_selections.filter(l=>l.simulation_run_id===e.simulation_run_id).toArray(),n=t.filter(l=>C1(l,e.simulation_run_id)).length,i=t.filter(l=>GX(l,e.simulation_run_id)).reduce((l,u)=>u.ended_at===-1?l+4600:l+(u.ended_at-u.started_at),0),s=Date.now()-e.started_at,o=dX(s/1e3,i/1e3),a=_1(s/1e3/n)+uX(o);await He.simulation_run.update(e.simulation_run_id,{ended_at:Date.now(),accuracy:o,score:Math.min(100,Math.max(0,a)),total_elapsed:s}),await KX(e)}async function QX({simulationId:e}){const t=await He.simulation_run.get(e);return t?t.ended_at===-1?il("SIMULATION_IS_NOT_FINISHED"):{accuracy:t.accuracy,score:t.score,total_elapsed:t.total_elapsed}:il("SIMULATION_NOT_FOUND")}async function VX(){let e;try{e=await k1()}catch{return!0}if(!e)return!0;const t=await He.simulation_run_selections.filter(n=>C1(n,e.simulation_run_id)).toArray();return e.subject_count<=t.length}async function KX(e){const t=e.simulation_run_id;return e.search_event_at<0?(await He.simulation_run_selections.where("simulation_run_id").equals(t).delete(),await He.simulation_run.delete(t),!0):(e.started_at+HX<Date.now()&&await He.simulation_run.update(t,{ended_at:Date.now()}),!1)}const dj=(e,t)=>e.simulation_run_id===t,C1=(e,t)=>dj(e,t)&&[1,2].includes(e.status),GX=(e,t)=>dj(e,t)&&![1,2].includes(e.status);function Dc(e){return e>5?"text-green-500 bg-green-100":e>0?"text-yellow-500 bg-yellow-100":e==0?"text-red-500 bg-red-100":"text-gray-500 bg-gray-100"}function fj(e){return e>=100?"text-red-500 bg-red-100":e>=50?"text-yellow-500 bg-yellow-100":e>=0?"text-green-500 bg-green-100":"text-gray-500 bg-gray-100"}function YX(e){return XX(Xb(e))}function Xb(e){switch(e){case un.SUCCESS:return"green";case un.FAILED:return"red";case un.CAPTCHA_FAILED:return"orange";case un.PROGRESS:return"yellow";default:return"gray"}}function XX(e){switch(e){case"green":return"bg-green-100 text-green-500";case"red":return"bg-red-100 text-red-500";case"orange":return"bg-orange-100 text-orange-500";case"yellow":return"bg-yellow-100 text-yellow-500";default:return"bg-gray-100 text-gray-500"}}function JX(){return p.jsxs(Ac,{children:[p.jsx(u1,{title:"실시간 수강 여석 확인",subtitle:"이제 여석이 나올 때 까지, 편하게 기다리세요",href:"/live"}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-6",children:[p.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[p.jsx("h2",{className:"text-lg font-semibold mb-2",children:"여석 과목 알림"}),p.jsxs("p",{className:"text-gray-500",children:["등록된 알림 과목에 대해서, 여석이 생기면 ",p.jsx("span",{className:"text-blue-500 font-bold",children:"알림"}),"을 드려요"]}),p.jsx("div",{className:"flex flex-col gap-4 mt-4",children:[{name:"컴퓨터그래픽스",prof:"003281 | 최수미"},{name:"운영체제",prof:"004310 | LEE KANGWON"}].map(({name:e,prof:t})=>p.jsxs("div",{className:"bg-gray-50 shadow-sm rounded-lg p-4 w-full",children:[p.jsxs("div",{className:"flex justify-between mb-2",children:[p.jsx("h3",{className:"font-bold",children:e}),p.jsx(Od,{})]}),p.jsxs("div",{className:"flex justify-between",children:[p.jsx("p",{className:"text-sm text-gray-500",children:t}),p.jsx("p",{className:"text-sm text-red-500 font-bold",children:"여석: 0"})]})]},t))})]}),p.jsxs("div",{className:"bg-white p-6 shadow-md rounded-md",children:[p.jsx("h3",{className:"text-lg font-semibold",children:"여석 수 TOP 10"}),p.jsx("p",{className:"text-gray-500 mb-4",children:"여석이 많은 과목을 놓치지 마세요!"}),p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:"w-full bg-white rounded-lg text-sm",children:[p.jsx("thead",{children:p.jsxs("tr",{className:"bg-gray-50 z-10 text-nowrap",children:[p.jsx("th",{className:"px-4 py-2",children:"학수번호"}),p.jsx("th",{className:"px-4 py-2",children:"과목명"}),p.jsx("th",{className:"px-4 py-2",children:"교수명"}),p.jsx("th",{className:"px-4 py-2",children:"여석"})]})}),p.jsx("tbody",{children:[{id:"004310-004",name:"운영체제",prof:"이수정",seats:22},{id:"003281-001",name:"컴퓨터그래픽스",prof:"최수미",seats:15},{id:"004118-007",name:"디지털시스템",prof:"Rajendra Dhakal",seats:6},{id:"009912-006",name:"C프로그래밍및실습",prof:"김도년",seats:5},{id:"007330-001",name:"확률및통계",prof:"김해광",seats:4}].map(({id:e,name:t,prof:n,seats:r},i)=>p.jsxs("tr",{className:"border-t border-gray-200 text-black",children:[p.jsx("td",{className:"px-4 py-2 text-center",children:e}),p.jsx("td",{className:"px-4 py-2 text-center",children:t}),p.jsx("td",{className:"px-4 py-2 text-center",children:n}),p.jsx("td",{className:"px-4 py-2 text-center font-bold",children:p.jsx("p",{className:`px-3 py-1 rounded-full text-xs font-bold ${Dc(r)}`,children:r})})]},"live-non-major-"+i))})]})})]})]})]})}const ZX=e=>I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:36,height:36,viewBox:"0 0 36 36",...e},I.createElement("g",{transform:"matrix(1,0,0,-1,0,72)"},I.createElement("path",{d:"M18,72Q22.9219,71.9297,27,69.6094Q31.0781,67.2188,33.6094,63Q36,58.710899999999995,36,54Q36,49.2891,33.6094,45Q31.0781,40.78125,27,38.39062Q22.9219,36.0703125,18,36Q13.0781,36.0703125,9,38.39062Q4.92188,40.78125,2.39062,45Q0,49.2891,0,54Q0,58.710899999999995,2.39062,63Q4.92188,67.2188,9,69.6094Q13.0781,71.9297,18,72ZM16.3125,63.5625L16.3125,54L16.3125,63.5625L16.3125,54Q16.3125,53.085899999999995,17.0859,52.5938L23.8359,48.0938Q25.1719,47.3203,26.1562,48.5859Q26.9297,49.9219,25.6641,50.9062L19.6875,54.914100000000005L19.6875,63.5625Q19.5469,65.1094,18,65.25Q16.4531,65.1094,16.3125,63.5625Z",fill:"#007AFF",fillOpacity:1,style:{mixBlendMode:"passthrough"}}))),eJ=e=>I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:36,height:36,viewBox:"0 0 36 36",...e},I.createElement("g",{transform:"matrix(1,0,0,-1,0,72)"},I.createElement("path",{d:"M25.8047,42.96094L7.03125,61.8047L25.8047,42.96094L7.03125,61.8047Q4.57031,58.4297,4.5,54Q4.64062,48.2344,8.4375,44.4375Q12.2344,40.64062,18,40.5Q22.4297,40.57031,25.8047,42.96094ZM29.0391,46.1953Q31.4297,49.5703,31.5,54Q31.3594,59.7656,27.5625,63.5625Q23.7656,67.3594,18,67.5Q13.5703,67.4297,10.1953,64.9688L29.0391,46.1953ZM0,54Q0.0703125,58.9219,2.39062,63Q4.78125,67.0781,9,69.6094Q13.2891,72,18,72Q22.7109,72,27,69.6094Q31.2188,67.0781,33.6094,63Q35.9297,58.9219,36,54Q35.9297,49.0781,33.6094,45Q32.4141,42.96094,30.7617,41.30859Q29.1094,39.65625,27,38.39062Q22.7109,36,18,36Q13.2891,36,9,38.39062Q4.78125,40.92188,2.39062,45Q0.0703125,49.0781,0,54Z",fill:"#007AFF",fillOpacity:1,style:{mixBlendMode:"passthrough"}}))),hj=e=>I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:33.75,height:36,viewBox:"0 0 33.75 36",...e},I.createElement("defs",null,I.createElement("clipPath",{id:"master_svg0_85_3284"},I.createElement("rect",{x:0,y:0,width:33.75,height:36,rx:0}))),I.createElement("g",{clipPath:"url(#master_svg0_85_3284)"},I.createElement("g",{transform:"matrix(1,0,0,-1,0,69.046875)"},I.createElement("g",null,I.createElement("path",{d:"M6.25781,54.000037500000005Q7.10156,56.3906375,8.92969,58.2187375Q12.375,61.5234375,16.875,61.5234375Q21.375,61.5234375,24.8203,58.2187375L26.0156,57.0234375L23.625,57.0234375Q22.6406,57.0234375,22.0078,56.3906375Q21.375,55.7578375,21.375,54.7734375Q21.375,53.7890375,22.0078,53.1562375Q22.6406,52.5234375,23.625,52.5234375L31.5,52.5234375Q32.4844,52.5234375,33.1172,53.1562375Q33.75,53.7890375,33.75,54.7734375L33.75,62.6484375Q33.75,63.6328375,33.1172,64.2656375Q32.4844,64.8984375,31.5,64.8984375Q30.5156,64.8984375,29.8828,64.2656375Q29.25,63.6328375,29.25,62.6484375L29.25,60.187537500000005L27.9844,61.3828375Q24.8906,64.4765375,20.8828,65.5312375Q16.875,66.5156375,12.8672,65.5312375Q8.85938,64.4765375,5.76562,61.3828375Q3.16406,58.7812375,2.03906,55.546837499999995Q1.75781,54.6328375,2.10938,53.7890375Q2.53125,53.0156375,3.375,52.6640375Q4.28906,52.3828375,5.13281,52.734337499999995Q5.90625,53.1562375,6.25781,54.000037500000005ZM1.61719,47.9531375Q1.05469,47.7422375,0.632812,47.3203375Q0.210938,46.8984375,0.0703125,46.3359375Q0.0703125,46.2656375,0,46.1250375Q0,45.9140375,0,45.7734375L0,37.8984375Q0,36.9140575,0.632812,36.2812475Q1.26562,35.6484375,2.25,35.6484375Q3.23438,35.6484375,3.86719,36.2812475Q4.5,36.9140575,4.5,37.8984375L4.5,40.3593775L5.76562,39.1640575Q8.85938,36.0703175,12.8672,35.0156255Q16.875,34.0312495,20.8828,35.0156255Q24.8906,36.0703175,27.9844,39.1640575Q30.5859,41.7656275,31.7109,45.0000375Q31.9922,45.9140375,31.6406,46.7578375Q31.2188,47.5312375,30.375,47.8828375Q29.4609,48.1640375,28.6172,47.8125375Q27.8438,47.3906375,27.4922,46.5468375Q26.6484,44.2265575,24.8203,42.3281275Q21.375,39.0234375,16.875,39.0234375Q12.375,39.0234375,8.92969,42.3281275L7.73438,43.5234375L10.125,43.5234375Q11.1094,43.5234375,11.7422,44.1562475Q12.375,44.7890375,12.375,45.7734375Q12.375,46.7578375,11.7422,47.3906375Q11.1094,48.0234375,10.125,48.0234375L2.25,48.0234375Q2.10938,48.0234375,1.96875,48.0234375Q1.75781,47.9531375,1.61719,47.9531375Z",fill:"#007AFF",fillOpacity:1,style:{mixBlendMode:"passthrough"}})))));function tJ(){return p.jsxs(Ac,{className:"text-center",children:[p.jsx("h2",{className:"text-2xl font-semibold",children:"우리가 겪는 어려움"}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mt-6",children:[{icon:p.jsx(ZX,{className:"w-6 h-6"}),title:"6학점밖에 못 들었던 수강 신청 날...",text:"원하는 강의를 신청하지 못해 졸업이 늦춰질까 걱정했던 순간들"},{icon:p.jsx(eJ,{className:"w-6 h-6"}),title:"원하던 강의는 전부 마감...",text:"꿈꾸던 학과로의 전과, 미리 수강하려고 했지만 수강신청의 벽은 높았습니다"},{icon:p.jsx(hj,{className:"w-6 h-6"}),title:"하루 종일 화면을 보며 여석을 기다렸던 시간들...",text:"수강신청 버튼만 수백 번, 그래도 원하는 강의는 잡지 못했습니다"}].map(({icon:e,title:t,text:n},r)=>p.jsxs("div",{className:"flex flex-col gap-4 p-6 rounded-md bg-gray-50 text-left",children:[e,p.jsx("h3",{className:"font-extrabold",children:t}),p.jsx("p",{className:"text-xs text-gray-500",children:n})]},"pain-point-"+r))}),p.jsxs("div",{className:"text-gray-900 mt-16",children:[p.jsx("p",{children:"그래서 우리는 올클을 만들었습니다."}),p.jsx("p",{children:"같은 고민을 했던 우리이기에, 진짜 도움이 되는 서비스를 만들고 싶었습니다. "})]})]})}const nJ=e=>I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:24,height:24,viewBox:"0 0 24 24",...e},I.createElement("g",{transform:"matrix(1,0,0,-1,0,48)"},I.createElement("path",{d:"M18.7031,30Q17.9062,31.35938,16.5469,32.15625Q15.1875,33,13.5,33L10.5,33Q8.8125,33,7.45312,32.15625Q6.09375,31.35938,5.29688,30Q6.5625,28.59375,8.25,27.79688Q9.98438,27,12,27Q14.0156,27,15.75,27.79688Q17.4375,28.59375,18.7031,30ZM0,36Q0.046875,39.2812,1.59375,42Q3.1875,44.7188,6,46.4062Q8.85938,48,12,48Q15.1406,48,18,46.4062Q20.8125,44.7188,22.4062,42Q23.9531,39.2812,24,36Q23.9531,32.71875,22.4062,30Q20.8125,27.28125,18,25.59375Q15.1406,24,12,24Q8.85938,24,6,25.59375Q3.1875,27.28125,1.59375,30Q0.046875,32.71875,0,36ZM12,35.25Q13.9219,35.2969,14.9062,36.9375Q15.8438,38.625,14.9062,40.3125Q13.9219,41.9531,12,42Q10.0781,41.9531,9.09375,40.3125Q8.15625,38.625,9.09375,36.9375Q10.0781,35.2969,12,35.25Z",fill:"#007AFF",fillOpacity:1,style:{mixBlendMode:"passthrough"}})));function rJ(){return p.jsxs(Ac,{className:"text-center",children:[p.jsx("h2",{className:"text-2xl font-semibold",children:"올클을 써보신 분들의 한마디!"}),p.jsxs("div",{className:"overflow-hidden mt-6 relative",children:[p.jsx("div",{className:"absolute top-0 left-0 w-12 h-full bg-gradient-to-r from-gray-50 to-transparent z-10"}),p.jsxs("div",{className:"animate-marquee flex gap-6 flex-nowrap w-fit",children:[DE.map((e,t)=>p.jsx(LE,{...e},"feedback-left-"+t)),DE.map((e,t)=>p.jsx(LE,{...e},"feedback-right-"+t))]}),p.jsx("div",{className:"absolute top-0 right-0 w-12 h-full bg-gradient-to-l from-gray-50 to-transparent z-10"})]})]})}const DE=[{name:"김O수",department:"컴퓨터공학과 2학년",review:"대체과목 추천 덕분에 금방 대체 과목을 찾아서 너무 편했어요!"},{name:"김O민",department:"컴퓨터공학과 4학년",review:"실시간으로 관심도를 볼 수 있어서 수강신청 전략을 세울 수 있었어요!"},{name:"김O환",department:"컴퓨터공학과 3학년",review:"수강신청이 이렇게 편해질 수 있다니 놀랍네요!"}];function LE({name:e,department:t,review:n}){return p.jsxs("div",{className:"w-screen md:w-xs flex flex-col gap-4 p-6 rounded-md bg-white text-left text-sm",children:[p.jsxs("div",{className:"flex gap-4 items-center",children:[p.jsx(nJ,{className:"w-6 h-6"}),p.jsxs("div",{children:[p.jsx("p",{className:"font-bold",children:e}),p.jsx("p",{className:"text-xs text-gray-500",children:t})]})]}),p.jsxs("p",{className:"text-gray-950",children:['"',n,'"']})]})}function iJ(){return p.jsxs("div",{className:"min-h-screen bg-gray-50",children:[p.jsx(mq,{}),p.jsx(Vq,{}),p.jsx(OX,{}),p.jsx(xX,{}),p.jsx(JX,{}),p.jsx(tJ,{}),p.jsx(rJ,{})]})}const sJ=[{title:"실시간",path:"/live",end:!0},{title:"전체 학년 여석",path:"/live/preSeat",end:!1}],pj=()=>p.jsx("nav",{className:"mb-4",children:p.jsx("div",{className:"border-b border-gray-200",children:p.jsx("ul",{className:"flex space-x-4 px-4 py-2",children:sJ.map(({title:e,path:t,end:n})=>p.jsx("li",{className:"font-bold",children:p.jsx(ol,{to:t,end:n,className:({isActive:r})=>r?"text-blue-500":"text-gray-700",children:e})},t))})})});function ip({children:e}){return p.jsx("div",{className:"bg-white shadow-sm rounded-lg p-4 mb-4",children:e})}function T1({col:e,row:t}){return p.jsx(p.Fragment,{children:Array.from({length:t}).map((n,r)=>p.jsx("tr",{className:"animate-pulse border-t border-gray-200 h-10",children:Array.from({length:e}).map((i,s)=>p.jsx("td",{className:"bg-gray-300",colSpan:-1},`skeleton-td-${s}-${r}`))},"skeleton-row-"+r))})}function sp({icon:e,title:t,description:n,children:r}){return p.jsx("div",{className:"flex flex-col items-center justify-center w-full bg-gray-50 rounded-md",children:p.jsxs("div",{className:"flex flex-col items-center justify-center gap-2 p-12",children:[p.jsx("div",{children:e}),p.jsx("div",{className:"text-gray-600",children:t}),p.jsx("div",{className:"text-xs text-gray-500",children:n}),r]})})}const oJ=e=>I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:12.68359375,height:12.25,viewBox:"0 0 12.68359375 12.25",...e},I.createElement("g",{transform:"matrix(1,0,0,-1,0,24.5)"},I.createElement("g",null,I.createElement("path",{d:"M9.67675,21L8.30998,21L9.67675,21L8.30998,21Q7.92728,21,7.68126,20.753909999999998Q7.43524,20.50781,7.43524,20.125Q7.43524,19.74219,7.68126,19.49609Q7.92728,19.25,8.30998,19.25L11.8089,19.25Q12.1916,19.25,12.4376,19.49609Q12.6837,19.74219,12.6837,20.125L12.6837,23.625Q12.6837,24.0078,12.4376,24.2539Q12.1916,24.5,11.8089,24.5Q11.4262,24.5,11.1802,24.2539Q10.9342,24.0078,10.9342,23.625L10.9342,22.23047L10.4421,22.6953Q9.23938,23.898400000000002,7.68126,24.3086Q6.12314,24.6914,4.56502,24.3086Q3.0069,23.898400000000002,1.80414,22.6953Q0.60138,21.49219,0.191348,19.93359Q-0.191348,18.375,0.191348,16.81641Q0.60138,15.25781,1.80414,14.05469Q3.0069,12.851562,4.56502,12.441406Q6.12314,12.058594,7.68126,12.441406Q9.23938,12.851562,10.4421,14.05469Q10.7155,14.30078,10.7155,14.65625Q10.7155,15.01172,10.4421,15.28516Q10.1961,15.53125,9.84076,15.53125Q9.4854,15.53125,9.21205,15.28516Q7.87261,14,6.12314,14Q4.37367,14,3.03424,15.28516Q1.74947,16.625,1.74947,18.375Q1.74947,20.125,3.03424,21.464840000000002Q4.37367,22.75,6.12314,22.75Q7.87261,22.75,9.21205,21.464840000000002L9.67675,21Z",fill:"#FFFFFF",fillOpacity:1,style:{mixBlendMode:"passthrough"}}))));function mj({onReload:e}){return p.jsx(sp,{title:"알림 과목을 불러올 수 없습니다",description:"네트워크 연결을 확인해주세요",icon:p.jsx(kw,{className:"w-7 h-7"}),children:p.jsxs("button",{className:"mt-4 flex items-center gap-2 bg-blue-500 text-white px-4 py-2 rounded cursor-pointer hover:bg-blue-600",onClick:e,children:[p.jsx(oJ,{className:"w-3 h-3"}),"새로고침"]})})}const i_=e=>I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:36,height:36,viewBox:"0 0 36 36",...e},I.createElement("defs",null,I.createElement("clipPath",{id:"master_svg0_106_2202"},I.createElement("rect",{x:0,y:0,width:36,height:36,rx:0}))),I.createElement("g",{clipPath:"url(#master_svg0_106_2202)"},I.createElement("g",{transform:"matrix(1,0,0,-1,0,69.046875)"},I.createElement("g",null,I.createElement("path",{d:"M2.25,66.0234375Q3.23438,66.0234375,3.86719,65.3906375Q4.5,64.7578375,4.5,63.7734375L4.5,40.1484375Q4.57031,39.0937475,5.625,39.0234375L33.75,39.0234375Q34.7344,39.0234375,35.3672,38.3906275Q36,37.7578175,36,36.7734375Q36,35.7890575,35.3672,35.1562495Q34.7344,34.5234375,33.75,34.5234375L5.625,34.5234375Q3.23438,34.59375,1.61719,36.1406275Q0.0703125,37.7578175,0,40.1484375L0,63.7734375Q0,64.7578375,0.632812,65.3906375Q1.26562,66.0234375,2.25,66.0234375ZM9,59.2734375Q9,60.2578375,9.63281,60.8906375Q10.2656,61.5234375,11.25,61.5234375L24.75,61.5234375Q25.7344,61.5234375,26.3672,60.8906375Q27,60.2578375,27,59.2734375Q27,58.2890375,26.3672,57.6562375Q25.7344,57.0234375,24.75,57.0234375L11.25,57.0234375Q10.2656,57.0234375,9.63281,57.6562375Q9,58.2890375,9,59.2734375ZM11.25,54.7734375L20.25,54.7734375L11.25,54.7734375L20.25,54.7734375Q21.2344,54.7734375,21.8672,54.1406375Q22.5,53.5078375,22.5,52.5234375Q22.5,51.5390375,21.8672,50.9062375Q21.2344,50.2734375,20.25,50.2734375L11.25,50.2734375Q10.2656,50.2734375,9.63281,50.9062375Q9,51.5390375,9,52.5234375Q9,53.5078375,9.63281,54.1406375Q10.2656,54.7734375,11.25,54.7734375ZM11.25,48.0234375L29.25,48.0234375L11.25,48.0234375L29.25,48.0234375Q30.2344,48.0234375,30.8672,47.3906375Q31.5,46.7578375,31.5,45.7734375Q31.5,44.7890375,30.8672,44.1562475Q30.2344,43.5234375,29.25,43.5234375L11.25,43.5234375Q10.2656,43.5234375,9.63281,44.1562475Q9,44.7890375,9,45.7734375Q9,46.7578375,9.63281,47.3906375Q10.2656,48.0234375,11.25,48.0234375Z",fill:"#9CA3AF",fillOpacity:1,style:{mixBlendMode:"passthrough"}})))));function aJ(){return p.jsx(sp,{title:"현재 여석이 있는 TOP 10 과목이 없습니다",description:"잠시 후 다시 확인해주세요",icon:p.jsx(i_,{className:"w-7 h-7"})})}function lJ(){return p.jsx(sp,{title:"여석 알림 서비스가 종료되었습니다",description:"추후 과목 전체 여석을 공개할 예정입니다. 여석 공개 시, 공지 채팅방을 통해 알려드립니다",icon:p.jsx(sj,{className:"w-7 h-7"}),children:p.jsx("div",{className:"flex justify-center",children:p.jsx("a",{className:"bg-gray-50 rounded-full px-4 py-2 text-sm border border-gray-200 hover:shadow-md cursor-pointer",href:"https://open.kakao.com/o/g3MztXfh",children:"공지 채팅방 바로가기"})})})}let Pf=null,Cu=0;const cx=Or(e=>{const t=()=>{Pf||(Pf=setInterval(()=>{e(r=>({tick:r.tick+1}))},1e3))},n=()=>{Pf&&clearInterval(Pf),Pf=null};return{tick:0,addRefCount:()=>{Cu===0&&t(),Cu=Cu+1},removeRefCount:()=>{Cu<=1&&n(),Cu=Math.max(0,Cu-1)}}}),gj=e=>{const t=cx(i=>i.tick),n=cx(i=>i.addRefCount),r=cx(i=>i.removeRefCount);I.useEffect(()=>(n(),()=>{r()}),[]),I.useEffect(()=>{},[t])};function cJ(e){const{data:t}=fl(),{data:n,...r}=Aw(e);return{data:n?.map(s=>{const{subjectId:o,seatCount:a,queryTime:l}=s,u=t?.find(b=>b.subjectId===o)||d1,{subjectName:f,subjectCode:h,classCode:g,professorName:y}=u;return{...u,code:`${h}-${g}`,name:f,professor:y,seat:a,queryTime:l}}),...r}}function s_(e){if(!e)return"검색 중";const t=new Date,n=new Date(e),r=t.getTime()-n.getTime(),i=Math.floor(r/1e3),s=Math.floor(i/60),o=Math.floor(s/60),a=Math.floor(o/24),l=Math.floor(a/30),u=Math.floor(l/12);return u>0?`${u}년 전`:l>0?`${l}개월 전`:a>0?`${a}일 전`:o>0?`${o}시간 전`:s>0?`${s}분 전`:i>0?`${i}초 전`:"방금 전"}function uJ(e,t){let n;try{n=e()}catch{return}return{getItem:i=>{var s;const o=l=>l===null?null:JSON.parse(l,void 0),a=(s=n.getItem(i))!=null?s:null;return a instanceof Promise?a.then(o):o(a)},setItem:(i,s)=>n.setItem(i,JSON.stringify(s,void 0)),removeItem:i=>n.removeItem(i)}}const Jb=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(r){return Jb(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return Jb(r)(n)}}}},dJ=(e,t)=>(n,r,i)=>{let s={storage:uJ(()=>localStorage),partialize:_=>_,version:0,merge:(_,E)=>({...E,..._}),...t},o=!1;const a=new Set,l=new Set;let u=s.storage;if(!u)return e((..._)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),n(..._)},r,i);const f=()=>{const _=s.partialize({...r()});return u.setItem(s.name,{state:_,version:s.version})},h=i.setState;i.setState=(_,E)=>{h(_,E),f()};const g=e((..._)=>{n(..._),f()},r,i);i.getInitialState=()=>g;let y;const b=()=>{var _,E;if(!u)return;o=!1,a.forEach(P=>{var O;return P((O=r())!=null?O:g)});const C=((E=s.onRehydrateStorage)==null?void 0:E.call(s,(_=r())!=null?_:g))||void 0;return Jb(u.getItem.bind(u))(s.name).then(P=>{if(P)if(typeof P.version=="number"&&P.version!==s.version){if(s.migrate){const O=s.migrate(P.state,P.version);return O instanceof Promise?O.then(z=>[!0,z]):[!0,O]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,P.state];return[!1,void 0]}).then(P=>{var O;const[z,B]=P;if(y=s.merge(B,(O=r())!=null?O:g),n(y,!0),z)return f()}).then(()=>{C?.(y,void 0),y=r(),o=!0,l.forEach(P=>P(y))}).catch(P=>{C?.(void 0,P)})};return i.persist={setOptions:_=>{s={...s,..._},_.storage&&(u=_.storage)},clearStorage:()=>{u?.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>b(),hasHydrated:()=>o,onHydrate:_=>(a.add(_),()=>{a.delete(_)}),onFinishHydration:_=>(l.add(_),()=>{l.delete(_)})},s.skipHydration||b(),y||g},fJ=dJ,FE=[{title:"과목코드",visible:!0,key:"code"},{title:"과목명",visible:!0,key:"name"},{title:"담당교수",visible:!0,key:"professor"},{title:"여석",visible:!0,key:"seat"},{title:"최근갱신",visible:!0,key:"queryTime"},{title:"학과명",visible:!1,key:"manageDeptNm"},{title:"수강학년",visible:!1,key:"studentYear"},{title:"수업시간",visible:!1,key:"lesnTime"},{title:"수업실",visible:!1,key:"lesnRoom"},{title:"학점",visible:!1,key:"tmNum"},{title:"비고",visible:!1,key:"remark"},{title:"수업유형",visible:!1,key:"curiTypeCdNm"},{title:"수업언어",visible:!1,key:"curiLangNm"}],BE=Or()(fJ(e=>({tableTitles:FE,setTableTitles:t=>e({tableTitles:t}),resetTableTitles:()=>e({tableTitles:FE})}),{name:"live-table-head-store"}));function o_(){return p.jsxs("div",{className:"flex justify-end items-center mt-2 text-xs text-gray-500",children:[p.jsxs("span",{className:"flex items-center gap-2",children:[p.jsx("span",{className:"block w-4 h-4 rounded bg-green-100 ml-1","aria-label":"초록색 "}),"영어로 진행되는 과목"]}),p.jsxs("span",{className:"flex items-center gap-2 ml-4",children:[p.jsx("span",{className:"block w-4 h-4 rounded bg-gray-100 ml-1","aria-label":"회색 "}),"삭제된 과목"]})]})}function ml({children:e,onClose:t,preventAutoFocus:n}){const r=I.useRef(null);I.useEffect(()=>(document.body.style.overflow="hidden",n||r.current?.focus(),()=>{document.body.style.overflow=""}),[n]);const i=s=>{s.stopPropagation(),t()};return p.jsxs("div",{className:"flex items-center justify-center fixed inset-0 w-full h-full z-40",role:"none",ref:r,tabIndex:-1,onClick:i,children:[p.jsx("div",{className:"fixed inset-0 justify-center opacity-30 bg-gray-300 border-b-2 border-gray-400"}),p.jsx("div",{className:"flex items-center justify-center",tabIndex:-1,children:p.jsx("div",{className:"w-[95%] sm:w-fit z-50 bg-white max-h-[90vh] border border-gray-200 overflow-y-auto",role:"dialog",tabIndex:-1,onClick:s=>s.stopPropagation(),children:e})})]})}const hJ=e=>I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",...e},I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})),pJ=e=>I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",...e},I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.477 0-8.268-2.943-9.542-7a9.957 9.957 0 012.043-3.36m3.237-2.347A9.956 9.956 0 0112 5c4.478 0 8.268 2.943 9.542 7a9.954 9.954 0 01-4.043 5.132M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3l18 18"}));function mJ({initialItems:e,onChange:t}){const[n,r]=I.useState(e),i=I.useRef(null),s=I.useRef([]),[o,a]=I.useState(null),l=I.useRef(null),[u,f]=I.useState(null),[h,g]=I.useState(null);I.useEffect(()=>{t?.(n)},[n,t]),I.useEffect(()=>{if(o){const j=n.findIndex(M=>M.title===o);j!==-1&&s.current[j]?.focus(),a(null)}},[n,o]),I.useEffect(()=>{const j=()=>requestAnimationFrame(_),M=new ResizeObserver(j);return i.current&&M.observe(i.current),window.addEventListener("scroll",j,!0),window.addEventListener("resize",j),j(),()=>{M.disconnect(),window.removeEventListener("scroll",j,!0),window.removeEventListener("resize",j)}},[]);function y(j){r(M=>{const U=[...M];return U[j]={...U[j],visible:!U[j].visible},U})}const b=I.useRef([]);function _(){const j=i.current;if(!j)return;const M=Array.from(j.children);b.current=M.map(U=>{const $=U.getBoundingClientRect();return $.top+$.height/2})}function E(j,M){if(j.key==="ArrowUp"||j.key==="ArrowDown"){j.preventDefault(),j.stopPropagation();const U=M;let $;if(j.key==="ArrowUp"){if(U===0)return;$=U-1}else{if(U===n.length-1)return;$=U+1}const D=n[U].title;r(ee=>{const X=[...ee],[re]=X.splice(U,1);return X.splice($,0,re),X}),a(D)}}function C(j,M){if(!i.current)return;const U=j.target.closest(".draggable-item");if(!U)return;j.target.setPointerCapture(j.pointerId);const $=U.getBoundingClientRect(),D=i.current.getBoundingClientRect();l.current={currentIndex:M,height:$.height,offsetY:j.clientY-$.top,containerRect:D},f({item:n[M],initialIndex:M}),g({width:$.width,left:$.left,top:$.top,position:"fixed",zIndex:50,pointerEvents:"none",transition:"none"}),window.addEventListener("pointermove",P),window.addEventListener("pointerup",O,{once:!0})}function P(j){if(l.current===null)return;const{height:M,offsetY:U,containerRect:$}=l.current;let D=j.clientY-U;D=Math.max($.top,D),D=Math.min($.bottom-M,D),g(V=>({...V||{},top:D})),_();const ee=j.clientY;let re=b.current.findIndex(V=>ee<V);re===-1&&(re=n.length);const Q=l.current.currentIndex;let q=Math.max(0,Math.min(n.length-1,re>Q?re-1:re));q!==Q&&(l.current.currentIndex=q,r(V=>{const ne=[...V],[Z]=ne.splice(Q,1);return ne.splice(q,0,Z),ne}))}function O(){window.removeEventListener("pointermove",P),l.current=null,f(null),g(null)}const z=I.useMemo(()=>u?n.findIndex(j=>j.title===u.item.title):-1,[n,u]);function B(j){if(!u||!l.current||z===-1)return"";const M=z,U=l.current.currentIndex,$=l.current.height;if(j===M)return"";if(M<U){if(j>M&&j<=U)return`translateY(-${$}px)`}else if(j>=U&&j<M)return`translateY(${$}px)`;return""}return p.jsxs(p.Fragment,{children:[p.jsx("ul",{ref:i,className:"bg-white divide-y divide-gray-100 relative",children:n.map((j,M)=>p.jsxs("li",{ref:U=>{s.current[M]=U},className:"draggable-item flex items-center gap-2 rounded-md px-2 transition-transform duration-1000",tabIndex:0,onKeyDown:U=>E(U,M),style:{transform:B(M),opacity:z===M?.4:1},children:[p.jsx("button",{className:"p-1 text-gray-500 hover:text-gray-700 cursor-grab",onPointerDown:U=>C(U,M),"aria-label":`Drag ${j.title}`,title:"드래그 시작",children:"⠿"}),p.jsxs("div",{className:"flex items-center justify-between flex-auto",children:[p.jsx("span",{className:"font-medium",children:j.title}),p.jsx("button",{className:"p-1 text-gray-500 hover:text-gray-700 cursor-pointer","aria-label":j.visible?"숨기기":"보이기",title:j.visible?"숨기기":"보이기",onClick:()=>y(M),children:j.visible?p.jsx(hJ,{className:"w-4 h-4"}):p.jsx(pJ,{className:"w-4 h-4"})})]})]},j.title))}),h&&u&&p.jsx("div",{style:h,className:"bg-blue-50 rounded-md shadow-lg w-full max-w-lg m-auto px-2",children:p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("span",{className:"p-1 text-gray-700",children:"⠿"}),p.jsx("span",{className:"font-medium",children:u.item.title})]})}),p.jsx("div",{className:"mt-4 text-sm text-gray-500",children:"Tip: 항목을 선택한 뒤 ↑/↓ 로 키보드 이동도 가능합니다."})]})}function op({title:e,onClose:t}){return p.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-gray-200 ",children:[p.jsx("h2",{className:"font-semibold sm:text-lg text-sm text-gray-900",children:e}),p.jsx("button",{className:"w-5 h-5 text-gray-500 hover:text-gray-700 cursor-pointer",onClick:t,title:"창닫기",tabIndex:-1,children:p.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-full h-full",children:[p.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),p.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})}function yj({enabled:e=!0,onClose:t}){I.useEffect(()=>{if(!e)return;const n=i=>{i.key==="Escape"&&t&&t()},r=i=>{i.preventDefault(),t&&t()};return window.addEventListener("keydown",n),window.addEventListener("popstate",r),()=>{window.removeEventListener("keydown",n),window.removeEventListener("popstate",r)}},[])}const gJ=({title:e="교양과목"})=>{const[t,n]=I.useState(!1),r=BE(s=>s.setTableTitles),i=BE(s=>s.tableTitles);return p.jsxs(ip,{children:[t&&p.jsx(bJ,{initialItems:i,onChange:r,onClose:()=>n(!1)}),p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("div",{className:"flex items-center gap-2 mb-4",children:p.jsxs("h2",{className:"font-bold text-lg",children:[e," 실시간"]})}),p.jsx("button",{className:"p-3 rounded-full hover:bg-blue-100",onClick:()=>n(!0),children:p.jsx(i_,{className:"w-4 h-4 text-gray-600 hover:text-blue-500 transition-colors"})})]}),p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:"w-full bg-white rounded-lg text-sm",children:[p.jsx("thead",{children:p.jsx("tr",{className:"bg-gray-50 sticky top-0 z-10 text-nowrap",children:i.filter(s=>s.visible).map(({title:s})=>p.jsx("th",{className:"px-4 py-2",children:s},s))})}),p.jsx("tbody",{children:p.jsx(yJ,{tableTitles:i})})]})}),p.jsx(o_,{})]})};function yJ({tableTitles:e}){const{data:t,isError:n,isPending:r,refetch:i}=cJ(c1.NON_MAJOR),s=e.filter(l=>l.visible),o=new Date>xq("2025-08-18T17:00:00"),a=Wf(l=>l.sseState);return n?p.jsx("tr",{children:p.jsx("td",{colSpan:s.length,children:p.jsx(mj,{onReload:i})})}):r||!t?p.jsx(T1,{row:5,col:s.length}):a===B9.IDLE&&o?p.jsx("tr",{children:p.jsx("td",{colSpan:s.length,className:"text-center",children:p.jsx(lJ,{})})}):t.length?p.jsx(o1,{component:null,children:t.map(l=>p.jsx(Kh,{timeout:500,classNames:"row-change",children:p.jsx(vJ,{subject:l,HeadTitles:s},l.code)},l.code))}):p.jsx("tr",{children:p.jsx("td",{colSpan:s.length,className:"text-center",children:p.jsx(aJ,{})})})}function vJ({subject:e,HeadTitles:t}){const n=I.useRef(e.seat),[r,i]=I.useState(!1),s=e.isDeleted,o=e.curiLangNm==="영어",a=r?"bg-blue-50":s?"bg-gray-100":o?"bg-green-50":"";return I.useEffect(()=>{if(n.current!==e.seat){i(!0);const l=setTimeout(()=>i(!1),1e3);return n.current=e.seat,()=>clearTimeout(l)}},[e.seat]),p.jsx("tr",{className:`border-t border-gray-200 text-black transition-colors duration-500 text-nowrap ${a}`,children:t.map(({key:l})=>{switch(l){case"seat":return p.jsx("td",{className:"px-4 py-2 text-center",children:p.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-bold "+Dc(e.seat??-1),children:e[l]})},l);case"queryTime":return p.jsx(xJ,{queryTime:e.queryTime},l);default:return p.jsx("td",{className:"px-4 py-2 text-center",children:e[l]},l)}})})}function xJ({queryTime:e}){return gj(),p.jsx("td",{className:"px-4 py-2 text-center text-xs",children:p.jsx("span",{className:"px-3 py-1 rounded-full text-gray-500",children:s_(e)})})}function bJ({initialItems:e,onChange:t,onClose:n}){return yj({enabled:!0,onClose:n}),p.jsxs(ml,{onClose:n,children:[p.jsx(op,{title:"테이블 설정",onClose:n}),p.jsx("div",{className:"p-4",children:p.jsx(mJ,{initialItems:e,onChange:t})})]})}const wJ=e=>I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:16,height:16,viewBox:"0 0 16 16",...e},I.createElement("g",{transform:"matrix(1,0,0,-1,0,32)"},I.createElement("path",{d:"M8,16Q10.1875,16.03125,12,17.0625Q13.8125,18.125,14.9375,20Q16,21.90625,16,24Q16,26.0938,14.9375,28Q13.8125,29.875,12,30.9375Q10.1875,31.9688,8,32Q5.8125,31.9688,4,30.9375Q2.1875,29.875,1.0625,28Q0,26.0938,0,24Q0,21.90625,1.0625,20Q2.1875,18.125,4,17.0625Q5.8125,16.03125,8,16ZM5.3125,26.8438Q5.5,27.375,5.9375,27.6875Q6.375,28,6.96875,28L8.78125,28Q9.625,27.9688,10.1875,27.4062Q10.7188,26.875,10.75,26.0312Q10.7188,24.90625,9.75,24.3125L8.75,23.75Q8.6875,23.0625,8,23Q7.3125,23.0625,7.25,23.75L7.25,24.15625Q7.25,24.59375,7.625,24.8125L9,25.625Q9.25,25.75,9.25,26.0312Q9.21875,26.4688,8.78125,26.5L6.96875,26.5Q6.78125,26.5,6.71875,26.3438L6.71875,26.2812Q6.40625,25.65625,5.75,25.84375Q5.125,26.125,5.28125,26.7812L5.3125,26.8438ZM7,21Q7,21.4375,7.28125,21.71875Q7.5625,22,8,22Q8.4375,22,8.71875,21.71875Q9,21.4375,9,21Q9,20.5625,8.71875,20.28125Q8.4375,20,8,20Q7.5625,20,7.28125,20.28125Q7,20.5625,7,21Z",fill:"#9CA3AF",fillOpacity:1,style:{mixBlendMode:"passthrough"}})));function _J({children:e}){return p.jsx("div",{className:"relative inline-block",children:p.jsxs("span",{className:"group inline-block",children:[p.jsx(wJ,{className:"w-4 h-4"}),p.jsx("span",{className:"absolute bottom-full mb-2 left-1/2 transform -translate-x-1/2 opacity-0 group-hover:opacity-100 transition-opacity duration-300 bg-gray-900 text-white p-3 rounded w-64 text-center pointer-events-none",children:e})]})})}function SJ({isOpen:e,close:t}){const n=rd(o=>o.isAlarmActivated),r=rd(o=>o.isToastActivated),i=rd(o=>o.saveSettings);function s(){i({isAlarmActivated:n,isToastActivated:r}),t()}return yj({enabled:e,onClose:s}),e?p.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center backdrop-contrast-50",onClick:s,children:p.jsxs("div",{className:"bg-white p-4 rounded-lg w-96 shadow-lg",onClick:o=>o.stopPropagation(),children:[p.jsxs("div",{className:"flex justify-between items-center mb-4",children:[p.jsx("h2",{className:"font-bold text-lg",children:"알림 설정"}),p.jsx("button",{"aria-label":"close",onClick:s,className:"rounded-full p-2 hover:bg-blue-100",children:p.jsx(s1,{})})]}),p.jsxs("div",{children:[p.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[p.jsx("input",{type:"checkbox",checked:n,onChange:o=>i({isAlarmActivated:o.target.checked})}),p.jsx("span",{className:"flex items-center space-x-2",children:p.jsx("span",{children:"브라우저 알림"})})]}),p.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[p.jsx("input",{type:"checkbox",checked:r,onChange:o=>i({isToastActivated:o.target.checked})}),p.jsx("span",{className:"flex items-center space-x-2",children:p.jsx("span",{children:"토스트 알림"})})]})]})]})}):null}const vj=e=>I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",...e},I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"4px",d:"M4 20L20 4M4 4l16 16"})),zE=5;function j1(){return Hs({queryKey:["pinnedSubjects"],queryFn:EJ,select:e=>e.subjects})}const xj=()=>{const e=Gi();return al({mutationFn:kJ,onMutate:async t=>{await e.cancelQueries({queryKey:["pinnedSubjects"]});const n=e.getQueryData(["pinnedSubjects"])?.subjects??[];if(n&&n.length>=zE)throw new Error(JSON.stringify({message:`알림 과목은 최대 ${zE}개까지만 가능합니다.`}));if(n){const r={...n[0],subjectId:t};e.setQueryData(["pinnedSubjects"],{subjects:[...n,r]}),n.push(r)}return{previousUsers:n}},onSuccess:()=>{e.invalidateQueries({queryKey:["pinnedSubjects"]}).then()},onError:t=>{try{const n=JSON.parse(t.message);alert(n.message)}catch{alert("Error adding pinned subject")}}})},a_=()=>{const e=Gi();return al({mutationFn:CJ,onMutate:async t=>{await e.cancelQueries({queryKey:["pinnedSubjects"]});const n=e.getQueryData(["pinnedSubjects"]);if(n){const r=n.subjects.filter(i=>i.subjectId!==t);e.setQueryData(["pinnedSubjects"],{subjects:r})}return{previousData:n}},onSettled:()=>{console.log("pin removed onSettled"),e.invalidateQueries({queryKey:["pinnedSubjects"]}).then()},onError:t=>{console.error("Error removing pinned subject:",t)}})},EJ=async()=>await ra("/api/pins"),kJ=async e=>{const t=await l1(`/api/pin?subjectId=${e}`,{method:"POST"});if(!t.ok)throw new Error(await t.text())},CJ=async e=>{const t=await l1(`/api/pin/${e}`,{method:"DELETE"});if(!t.ok)throw new Error(await t.text())};function TJ({subject:e,seats:t,queryTime:n,disableSeat:r=!1}){const{mutate:i}=a_(),s=()=>{i(e.subjectId)};return p.jsxs("div",{className:"bg-gray-50 shadow-sm rounded-lg p-4 border border-gray-200 hover:shadow-md",children:[p.jsxs("div",{className:"flex justify-between",children:[p.jsx("h3",{className:"font-bold",children:e.subjectName}),p.jsx("button",{className:"p-2 rounded-full hover:bg-blue-100","aria-label":"알림 과목 제거",onClick:s,children:p.jsx(vj,{className:"text-gray-400 w-3 h-3"})})]}),p.jsxs("div",{className:"mb-2 text-xs text-gray-500",children:[p.jsx("p",{children:e.departmentName}),p.jsxs("p",{children:[e.subjectCode,"-",e.classCode," | ",e.professorName]})]}),!r&&p.jsxs("div",{className:"flex justify-between items-baseline",children:[p.jsxs("p",{className:`px-2 py-1 rounded-full text-xs font-bold ${Dc(t)}`,children:["여석: ",t<0?"???":t]}),p.jsx(jJ,{queryTime:n})]})]})}function jJ({queryTime:e}){return gj(),p.jsx("p",{className:"text-xs text-gray-500",children:s_(e)})}const ds=Or(e=>({searchKeyword:"",isAlarmWish:!1,isSearchOpen:!1,selectedDepartment:"",setSearchKeyword:t=>e(()=>({searchKeyword:t})),toggleAlarmWish:()=>e(t=>({isAlarmWish:!t.isAlarmWish})),setIsSearchOpen:t=>e(()=>({isSearchOpen:t})),setSelectedDepartment:t=>e(()=>({selectedDepartment:t}))}));function bj(){const e=ds(t=>t.setIsSearchOpen);return p.jsx("div",{className:"p-2 rounded-full flex items-center justify-center",children:p.jsx("button",{className:"bg-gray-50 rounded-full px-4 py-2 text-sm border border-gray-200 hover:shadow-md cursor-pointer","aria-label":"여석 알림 과목 추가",title:"여석 알림 과목 추가",onClick:()=>e(!0),children:"+ 알림 과목 등록"})})}function NJ(){return p.jsx(sp,{title:"등록된 알림 과목이 없습니다",description:"관심있는 과목을 알림 과목으로 등록해보세요. 여석이 생길 시 알림을 보내드려요.",icon:p.jsx(Od,{className:"w-7 h-7",disabled:!0}),children:p.jsx(bj,{})})}const IJ=1e3,PJ=60*IJ,RJ={subjectId:-1,seat:-1};function OJ(){return Hs({queryKey:["preRealSeats"],queryFn:AJ,staleTime:10*PJ,select:e=>e?.preSeats??null})}async function AJ(){return await Ow("/preSeats.json")}function wj(e,t,n,r){if(!e||!t)return e||t;const i=e.sort((u,f)=>u.subjectId-f.subjectId),s=t.sort((u,f)=>u.subjectId-f.subjectId),o=[];let a=0,l=0;for(;a<i.length&&l<s.length;)i[a].subjectId===s[l].subjectId?o.push({...i[a++],...s[l++]}):i[a].subjectId<s[l].subjectId?o.push({...r,...i[a++]}):o.push({...n,...s[l++]});for(;a<i.length;)o.push({...r,...i[a++]});for(;l<s.length;)o.push({...n,...s[l++]});return o}function N1(e,t){const{data:n}=OJ();return I.useMemo(()=>!e||!n?.length?e:wj(e,n,t??d1,RJ),[e,n,t])}const Ad={...d1,departmentCode:"",departmentName:"",totalCount:-1},MJ=async()=>await Ow("/baskets.json");function oa(){const{data:e,isPending:t,isLoading:n}=fl(),r=Hs({queryKey:["wishlist"],queryFn:MJ,staleTime:1/0,select:i=>DJ(i,e)});return{...r,isPending:r.isPending||t,isLoading:r.isLoading||n}}const DJ=(e,t)=>!e||!t?[]:wj(t,e.baskets,d1,Ad).map(r=>({...r,departmentCode:r.deptCd,departmentName:r.manageDeptNm}));function LJ(e){const{data:t}=oa();return t?.filter(n=>e.includes(n.subjectId))??[]}const FJ=e=>I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:17,height:17,viewBox:"0 0 17 14.5",...e},I.createElement("g",{transform:"matrix(1,0,0,-1,0,28.015625)"},I.createElement("path",{d:"M1.0474,27.8750125Q0.538991,28.2031125,0.137615,27.7656125Q-0.183486,27.246112500000002,0.244648,26.8359125L16.0856,14.1484375Q16.594,13.8203125,16.9954,14.2578125Q17.3165,14.7773435,16.8884,15.1875025L14.4801,17.1289025Q14.4801,17.1562525,14.4801,17.1562525Q14.6942,17.6757825,14.3463,18.0859325L14.159,18.3320325Q12.8746,19.8085925,12.8479,21.8046925L12.8479,22.324222499999998Q12.8211,23.9375025,11.8578,25.1133125Q10.9213,26.2890125,9.42278,26.6172125L9.42278,27.1367125Q9.42278,27.519512499999998,9.18196,27.7656125Q8.94113,28.0117125,8.56651,28.0117125Q8.1919,28.0117125,7.95107,27.7656125Q7.71025,27.519512499999998,7.71025,27.1367125L7.71025,26.6172125Q5.94419,26.207012499999998,4.98089,24.7031125L1.0474,27.8750125ZM10.8677,16.6367225L4.28517,21.9414025L10.8677,16.6367225L4.28517,21.9414025L4.28517,21.8046925Q4.25841,19.8085925,3.00077,18.3046925L2.7867,18.0859325Q2.43884,17.6757825,2.65291,17.1562525Q2.89373,16.6640625,3.4289,16.6367225L10.8677,16.6367225ZM9.77064,14.5312505Q10.2791,15.0507825,10.2791,15.7617225L8.56651,15.7617225L6.85398,15.7617225Q6.85398,15.0507825,7.36239,14.5312505Q7.8708,14.01171884,8.56651,14.01171884Q9.26223,14.01171884,9.77064,14.5312505Z",fill:"#9CA3AF",fillOpacity:1,style:{mixBlendMode:"passthrough"}}))),BJ=e=>I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:13.836064338684082,height:14,viewBox:"-1 -1 15.5 16.5",...e},I.createElement("g",{transform:"matrix(1,0,0,-1,0,28)"},I.createElement("path",{d:"M13.8033,23.433590000000002Q13.918,23.05078,13.6311,22.777340000000002L12.3689,21.68359Q12.4262,21.35547,12.4262,21Q12.4262,20.64453,12.3689,20.31641L13.6311,19.22266Q13.918,18.94922,13.8033,18.56641Q13.6025,18.07422,13.3443,17.60938L13.2008,17.39062Q12.9139,16.95312,12.5697,16.54297Q12.2828,16.24219,11.8811,16.35156L10.2746,16.84375Q9.70082,16.40625,9.01229,16.16016L8.66803,14.574219Q8.55328,14.191406,8.12295,14.109375Q7.54918,14,6.91803,14Q6.28688,14,5.68443,14.109375Q5.28279,14.191406,5.16803,14.574219L4.82377,16.16016Q4.13525,16.40625,3.56148,16.84375L1.95492,16.35156Q1.55328,16.24219,1.26639,16.54297Q0.893443,16.95312,0.635246,17.39062L0.491803,17.60938Q0.233607,18.07422,0.0327869,18.53906Q-0.0819672,18.94922,0.204918,19.22266L1.46721,20.28906Q1.40984,20.64453,1.40984,21Q1.40984,21.35547,1.46721,21.68359L0.204918,22.777340000000002Q-0.0819672,23.05078,0.0327869,23.433590000000002Q0.233607,23.92578,0.491803,24.3906L0.635246,24.6094Q0.893443,25.0469,1.26639,25.457Q1.55328,25.7578,1.95492,25.648400000000002L3.56148,25.1562Q4.13525,25.5937,4.82377,25.8672L5.16803,27.425800000000002Q5.28279,27.8086,5.71311,27.8906Q6.28688,28,6.91803,28Q7.54918,28,8.15164,27.8906Q8.55328,27.8086,8.66803,27.425800000000002L9.01229,25.8672Q9.70082,25.5937,10.2746,25.1562L11.8811,25.648400000000002Q12.2828,25.7578,12.5697,25.457Q12.9426,25.0469,13.2295,24.6094L13.3443,24.3906Q13.6025,23.92578,13.8033,23.433590000000002ZM6.91803,18.8125Q8.20902,18.83984,8.89754,19.90625Q9.52869,21,8.89754,22.09375Q8.20902,23.160159999999998,6.91803,23.1875Q5.62705,23.160159999999998,4.93852,22.09375Q4.30738,21,4.93852,19.90625Q5.62705,18.83984,6.91803,18.8125Z",fill:"#9CA3AF",fillOpacity:1,style:{mixBlendMode:"passthrough"}}))),zJ=()=>{const[e,t]=I.useState(!1),{isAlarm:n,changeAlarm:r}=QW(),{isError:i,refetch:s}=Aw(c1.PINNED);return p.jsxs(p.Fragment,{children:[p.jsx(SJ,{isOpen:e,close:()=>t(!1)}),p.jsxs("div",{children:[p.jsxs("div",{className:"flex justify-between align-top",children:[p.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[p.jsx("h2",{className:"font-bold text-lg",children:"여석 과목 알림"}),p.jsx(_J,{children:p.jsxs("p",{className:"text-sm",children:["여석이 생기면 알림을 보내드려요 ",p.jsx("br",{}),p.jsx("span",{className:"text-red-500",children:"* 탭을 닫으면 알림이 울리지 않아요"})]})})]}),p.jsxs("div",{className:"flex gap-1 items-center",children:[i&&p.jsx("button",{className:"p-2 rounded-full hover:bg-blue-100","aria-label":"알림 재연결",title:"알림 재연결",onClick:s,children:p.jsx(hj,{className:"w-5 h-5"})}),p.jsx("button",{className:"p-2 rounded-full hover:bg-blue-100","aria-label":"알림 설정",title:"알림 설정",onClick:()=>t(!0),children:p.jsx(BJ,{className:"w-5 h-5"})}),p.jsx("button",{className:"p-2 rounded-full hover:bg-blue-100","aria-label":n?"알림 끄기":"알림 켜기",title:n?"알림 끄기":"알림 켜기",onClick:r,children:n?p.jsx(Nw,{className:"w-5 h-5"}):p.jsx(FJ,{className:"w-5 h-5"})})]})]}),p.jsx($J,{})]})]})};function $J(){const{data:e,isPending:t,isError:n,refetch:r}=j1(),{data:i}=Aw(c1.PINNED),s=LJ(e?.map(l=>l.subjectId)??[]),o=l=>i?.find(f=>f.subjectId===l)?.seatCount??-1,a=l=>i?.find(f=>f.subjectId===l)?.queryTime??"";return t?p.jsx("div",{className:"animate-pulse grid grid-cols-1 md:grid-cols-3 gap-4",children:[0,0,0].map((l,u)=>p.jsx("div",{className:"bg-gray-300 shadow-sm rounded-lg p-4 h-24"},"skeleton-card-"+u))}):n?p.jsx(mj,{onReload:r}):!s||s.length===0?p.jsx(NJ,{}):p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.map(l=>p.jsx(TJ,{subject:l,seats:o(l.subjectId),queryTime:a(l.subjectId)},`${l.subjectId}_${l.subjectCode}_${l.professorName}`)),s.length<5?p.jsx(bj,{}):p.jsx(UJ,{})]})}function UJ(){return p.jsx("div",{className:"p-2 rounded-full flex items-center justify-center",children:p.jsx("p",{className:"bg-gray-50 rounded-full px-4 py-2 text-sm border border-gray-200",children:"알림 과목은 최대 5개까지 등록할 수 있어요."})})}const ap=e=>I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:16,height:16,viewBox:"0 0 16 16",...e},I.createElement("g",{transform:"matrix(1,0,0,-1,0,32)"},I.createElement("path",{d:"M13,25.5Q12.9688,23.3125,11.75,21.65625L15.7188,17.71875Q16,17.40625,16,17Q16,16.59375,15.7188,16.28125Q15.4062,16,15,16Q14.5938,16,14.2812,16.28125L10.3438,20.25Q8.6875,19.03125,6.5,19Q3.75,19.0625,1.90625,20.90625Q0.0625,22.75,0,25.5Q0.0625,28.25,1.90625,30.0938Q3.75,31.9375,6.5,32Q9.25,31.9375,11.0938,30.0938Q12.9375,28.25,13,25.5ZM6.5,21Q7.71875,21,8.75,21.59375Q9.78125,22.1875,10.4062,23.25Q11,24.3125,11,25.5Q11,26.6875,10.4062,27.75Q9.78125,28.8125,8.75,29.4062Q7.71875,30,6.5,30Q5.28125,30,4.25,29.4062Q3.21875,28.8125,2.59375,27.75Q2,26.6875,2,25.5Q2,24.3125,2.59375,23.25Q3.21875,22.1875,4.25,21.59375Q5.28125,21,6.5,21Z",fill:"#9CA3AF",fillOpacity:1,style:{mixBlendMode:"passthrough"}})));function Lc({onDelete:e,...t}){return p.jsxs("div",{className:"relative flex items-center w-full",children:[p.jsx(ap,{className:"absolute left-3 top-3 text-gray-500"}),p.jsx("input",{type:"text",className:"pl-10 pr-6 py-2 rounded-md w-full bg-white border border-gray-400 "+(t.className??""),...t}),p.jsx("button",{className:"absolute right-2 top-0 bottom-0 cursor-pointer","aria-label":"입력 내용 삭제",onClick:e,children:p.jsx(s1,{className:"w-3 h-3"})})]})}function lp({id:e,className:t,value:n,defaultValue:r="전체",...i}){const{data:s}=Rd(),o=[{departmentName:r,departmentCode:""},...s??[]],a=e??"department-filter";return p.jsxs(p.Fragment,{children:[p.jsx("label",{htmlFor:a,className:"hidden",children:"학과"}),p.jsx("select",{id:a,className:"pl-2 pr-4 py-2 rounded-md bg-white border border-gray-400 "+t,value:n,...i,children:o.map(({departmentName:l,departmentCode:u})=>p.jsx("option",{value:u,children:l},u))})]})}let Ti;function _j(){return Ti||(Ti=JSON.parse(localStorage.getItem("departmentRank")??"{}"),Ti)}function HJ(){Ti&&localStorage.setItem("departmentRank",JSON.stringify(Ti))}function I1(e){Ti||(Ti=_j()),Ti[e]===void 0?Ti[e]=0:Ti[e]+=1,HJ()}function Sj(){return Ti||(Ti=_j()),Object.entries(Ti).sort(([,e],[,t])=>t-e)}function cp(e){const t=I.useMemo(()=>{const r=Sj();return new Map(r.map(([i,s],o)=>[i,o]))},[]),n=I.useMemo(()=>{if(e)return WJ(e)},[e]);return I.useMemo(()=>{if(!n)return;const r=o=>{const a=t.get(o);return a===void 0?5:a};return n.map(o=>{const l=(5-r(o.departmentCode))*250+o.rank*100-Number(o.classCode);return{...o,searchScore:l}}).sort((o,a)=>a.searchScore-o.searchScore).map(({searchScore:o,...a})=>a)},[t,n])}function WJ(e){const t=new Map;for(const n of e){const r=`${n.subjectCode}-${n.departmentCode}`,i=t.get(r);i?(i.sum+=n.totalCount,i.count+=1):t.set(r,{sum:n.totalCount,count:1})}return e.map(n=>{const r=`${n.subjectCode}-${n.departmentCode}`,i=t.get(r),s=i.sum/i.count;return{...n,rank:s}})}const qJ=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Mh(async()=>{const{default:r}=await Promise.resolve().then(()=>Md);return{default:r}},[]).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class l_ extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class QJ extends l_{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class $E extends l_{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class UE extends l_{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Zb;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Zb||(Zb={}));var VJ=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(f){try{u(r.next(f))}catch(h){o(h)}}function l(f){try{u(r.throw(f))}catch(h){o(h)}}function u(f){f.done?s(f.value):i(f.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};class KJ{constructor(t,{headers:n={},customFetch:r,region:i=Zb.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=qJ(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return VJ(this,void 0,void 0,function*(){try{const{headers:i,method:s,body:o}=n;let a={},{region:l}=n;l||(l=this.region);const u=new URL(`${this.url}/${t}`);l&&l!=="any"&&(a["x-region"]=l,u.searchParams.set("forceFunctionRegion",l));let f;o&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",f=o):typeof o=="string"?(a["Content-Type"]="text/plain",f=o):typeof FormData<"u"&&o instanceof FormData?f=o:(a["Content-Type"]="application/json",f=JSON.stringify(o)));const h=yield this.fetch(u.toString(),{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),i),body:f}).catch(_=>{throw new QJ(_)}),g=h.headers.get("x-relay-error");if(g&&g==="true")throw new $E(h);if(!h.ok)throw new UE(h);let y=((r=h.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),b;return y==="application/json"?b=yield h.json():y==="application/octet-stream"?b=yield h.blob():y==="text/event-stream"?b=h:y==="multipart/form-data"?b=yield h.formData():b=yield h.text(),{data:b,error:null,response:h}}catch(i){return{data:null,error:i,response:i instanceof UE||i instanceof $E?i.context:void 0}}})}}var Sr={},Tu={},ju={},Nu={},Iu={},Pu={},GJ=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},xd=GJ();const YJ=xd.fetch,Ej=xd.fetch.bind(xd),kj=xd.Headers,XJ=xd.Request,JJ=xd.Response,Md=Object.freeze(Object.defineProperty({__proto__:null,Headers:kj,Request:XJ,Response:JJ,default:Ej,fetch:YJ},Symbol.toStringTag,{value:"Module"})),ZJ=aP(Md);var og={},HE;function Cj(){if(HE)return og;HE=1,Object.defineProperty(og,"__esModule",{value:!0});class e extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return og.default=e,og}var WE;function Tj(){if(WE)return Pu;WE=1;var e=Pu&&Pu.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Pu,"__esModule",{value:!0});const t=e(ZJ),n=e(Cj());class r{constructor(s){this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=s.headers,this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=s.shouldThrowOnError,this.signal=s.signal,this.isMaybeSingle=s.isMaybeSingle,s.fetch?this.fetch=s.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,o){return this.headers=Object.assign({},this.headers),this.headers[s]=o,this}then(s,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const a=this.fetch;let l=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var f,h,g;let y=null,b=null,_=null,E=u.status,C=u.statusText;if(u.ok){if(this.method!=="HEAD"){const B=await u.text();B===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?b=B:b=JSON.parse(B))}const O=(f=this.headers.Prefer)===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),z=(h=u.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");O&&z&&z.length>1&&(_=parseInt(z[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(b)&&(b.length>1?(y={code:"PGRST116",details:`Results contain ${b.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},b=null,_=null,E=406,C="Not Acceptable"):b.length===1?b=b[0]:b=null)}else{const O=await u.text();try{y=JSON.parse(O),Array.isArray(y)&&u.status===404&&(b=[],y=null,E=200,C="OK")}catch{u.status===404&&O===""?(E=204,C="No Content"):y={message:O}}if(y&&this.isMaybeSingle&&(!((g=y?.details)===null||g===void 0)&&g.includes("0 rows"))&&(y=null,E=200,C="OK"),y&&this.shouldThrowOnError)throw new n.default(y)}return{error:y,data:b,count:_,status:E,statusText:C}});return this.shouldThrowOnError||(l=l.catch(u=>{var f,h,g;return{error:{message:`${(f=u?.name)!==null&&f!==void 0?f:"FetchError"}: ${u?.message}`,details:`${(h=u?.stack)!==null&&h!==void 0?h:""}`,hint:"",code:`${(g=u?.code)!==null&&g!==void 0?g:""}`},data:null,count:null,status:0,statusText:""}})),l.then(s,o)}returns(){return this}overrideTypes(){return this}}return Pu.default=r,Pu}var qE;function jj(){if(qE)return Iu;qE=1;var e=Iu&&Iu.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Iu,"__esModule",{value:!0});const t=e(Tj());class n extends t.default{select(i){let s=!1;const o=(i??"*").split("").map(a=>/\s/.test(a)&&!s?"":(a==='"'&&(s=!s),a)).join("");return this.url.searchParams.set("select",o),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(i,{ascending:s=!0,nullsFirst:o,foreignTable:a,referencedTable:l=a}={}){const u=l?`${l}.order`:"order",f=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${f?`${f},`:""}${i}.${s?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:s,referencedTable:o=s}={}){const a=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(a,`${i}`),this}range(i,s,{foreignTable:o,referencedTable:a=o}={}){const l=typeof a>"u"?"offset":`${a}.offset`,u=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${i}`),this.url.searchParams.set(u,`${s-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:i=!1,verbose:s=!1,settings:o=!1,buffers:a=!1,wal:l=!1,format:u="text"}={}){var f;const h=[i?"analyze":null,s?"verbose":null,o?"settings":null,a?"buffers":null,l?"wal":null].filter(Boolean).join("|"),g=(f=this.headers.Accept)!==null&&f!==void 0?f:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${u}; for="${g}"; options=${h};`,u==="json"?this:this}rollback(){var i;return((i=this.headers.Prefer)!==null&&i!==void 0?i:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return Iu.default=n,Iu}var QE;function c_(){if(QE)return Nu;QE=1;var e=Nu&&Nu.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Nu,"__esModule",{value:!0});const t=e(jj());class n extends t.default{eq(i,s){return this.url.searchParams.append(i,`eq.${s}`),this}neq(i,s){return this.url.searchParams.append(i,`neq.${s}`),this}gt(i,s){return this.url.searchParams.append(i,`gt.${s}`),this}gte(i,s){return this.url.searchParams.append(i,`gte.${s}`),this}lt(i,s){return this.url.searchParams.append(i,`lt.${s}`),this}lte(i,s){return this.url.searchParams.append(i,`lte.${s}`),this}like(i,s){return this.url.searchParams.append(i,`like.${s}`),this}likeAllOf(i,s){return this.url.searchParams.append(i,`like(all).{${s.join(",")}}`),this}likeAnyOf(i,s){return this.url.searchParams.append(i,`like(any).{${s.join(",")}}`),this}ilike(i,s){return this.url.searchParams.append(i,`ilike.${s}`),this}ilikeAllOf(i,s){return this.url.searchParams.append(i,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(i,s){return this.url.searchParams.append(i,`ilike(any).{${s.join(",")}}`),this}is(i,s){return this.url.searchParams.append(i,`is.${s}`),this}in(i,s){const o=Array.from(new Set(s)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(i,`in.(${o})`),this}contains(i,s){return typeof s=="string"?this.url.searchParams.append(i,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(i,`cs.{${s.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(s)}`),this}containedBy(i,s){return typeof s=="string"?this.url.searchParams.append(i,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(i,`cd.{${s.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(s)}`),this}rangeGt(i,s){return this.url.searchParams.append(i,`sr.${s}`),this}rangeGte(i,s){return this.url.searchParams.append(i,`nxl.${s}`),this}rangeLt(i,s){return this.url.searchParams.append(i,`sl.${s}`),this}rangeLte(i,s){return this.url.searchParams.append(i,`nxr.${s}`),this}rangeAdjacent(i,s){return this.url.searchParams.append(i,`adj.${s}`),this}overlaps(i,s){return typeof s=="string"?this.url.searchParams.append(i,`ov.${s}`):this.url.searchParams.append(i,`ov.{${s.join(",")}}`),this}textSearch(i,s,{config:o,type:a}={}){let l="";a==="plain"?l="pl":a==="phrase"?l="ph":a==="websearch"&&(l="w");const u=o===void 0?"":`(${o})`;return this.url.searchParams.append(i,`${l}fts${u}.${s}`),this}match(i){return Object.entries(i).forEach(([s,o])=>{this.url.searchParams.append(s,`eq.${o}`)}),this}not(i,s,o){return this.url.searchParams.append(i,`not.${s}.${o}`),this}or(i,{foreignTable:s,referencedTable:o=s}={}){const a=o?`${o}.or`:"or";return this.url.searchParams.append(a,`(${i})`),this}filter(i,s,o){return this.url.searchParams.append(i,`${s}.${o}`),this}}return Nu.default=n,Nu}var VE;function Nj(){if(VE)return ju;VE=1;var e=ju&&ju.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ju,"__esModule",{value:!0});const t=e(c_());class n{constructor(i,{headers:s={},schema:o,fetch:a}){this.url=i,this.headers=s,this.schema=o,this.fetch=a}select(i,{head:s=!1,count:o}={}){const a=s?"HEAD":"GET";let l=!1;const u=(i??"*").split("").map(f=>/\s/.test(f)&&!l?"":(f==='"'&&(l=!l),f)).join("");return this.url.searchParams.set("select",u),o&&(this.headers.Prefer=`count=${o}`),new t.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(i,{count:s,defaultToNull:o=!0}={}){const a="POST",l=[];if(this.headers.Prefer&&l.push(this.headers.Prefer),s&&l.push(`count=${s}`),o||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(i)){const u=i.reduce((f,h)=>f.concat(Object.keys(h)),[]);if(u.length>0){const f=[...new Set(u)].map(h=>`"${h}"`);this.url.searchParams.set("columns",f.join(","))}}return new t.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}upsert(i,{onConflict:s,ignoreDuplicates:o=!1,count:a,defaultToNull:l=!0}={}){const u="POST",f=[`resolution=${o?"ignore":"merge"}-duplicates`];if(s!==void 0&&this.url.searchParams.set("on_conflict",s),this.headers.Prefer&&f.push(this.headers.Prefer),a&&f.push(`count=${a}`),l||f.push("missing=default"),this.headers.Prefer=f.join(","),Array.isArray(i)){const h=i.reduce((g,y)=>g.concat(Object.keys(y)),[]);if(h.length>0){const g=[...new Set(h)].map(y=>`"${y}"`);this.url.searchParams.set("columns",g.join(","))}}return new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}update(i,{count:s}={}){const o="PATCH",a=[];return this.headers.Prefer&&a.push(this.headers.Prefer),s&&a.push(`count=${s}`),this.headers.Prefer=a.join(","),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}delete({count:i}={}){const s="DELETE",o=[];return i&&o.push(`count=${i}`),this.headers.Prefer&&o.unshift(this.headers.Prefer),this.headers.Prefer=o.join(","),new t.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return ju.default=n,ju}var Rf={},Of={},KE;function eZ(){return KE||(KE=1,Object.defineProperty(Of,"__esModule",{value:!0}),Of.version=void 0,Of.version="0.0.0-automated"),Of}var GE;function tZ(){if(GE)return Rf;GE=1,Object.defineProperty(Rf,"__esModule",{value:!0}),Rf.DEFAULT_HEADERS=void 0;const e=eZ();return Rf.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${e.version}`},Rf}var YE;function nZ(){if(YE)return Tu;YE=1;var e=Tu&&Tu.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(Tu,"__esModule",{value:!0});const t=e(Nj()),n=e(c_()),r=tZ();class i{constructor(o,{headers:a={},schema:l,fetch:u}={}){this.url=o,this.headers=Object.assign(Object.assign({},r.DEFAULT_HEADERS),a),this.schemaName=l,this.fetch=u}from(o){const a=new URL(`${this.url}/${o}`);return new t.default(a,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new i(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,a={},{head:l=!1,get:u=!1,count:f}={}){let h;const g=new URL(`${this.url}/rpc/${o}`);let y;l||u?(h=l?"HEAD":"GET",Object.entries(a).filter(([_,E])=>E!==void 0).map(([_,E])=>[_,Array.isArray(E)?`{${E.join(",")}}`:`${E}`]).forEach(([_,E])=>{g.searchParams.append(_,E)})):(h="POST",y=a);const b=Object.assign({},this.headers);return f&&(b.Prefer=`count=${f}`),new n.default({method:h,url:g,headers:b,schema:this.schemaName,body:y,fetch:this.fetch,allowEmpty:!1})}}return Tu.default=i,Tu}var XE;function rZ(){if(XE)return Sr;XE=1;var e=Sr&&Sr.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(Sr,"__esModule",{value:!0}),Sr.PostgrestError=Sr.PostgrestBuilder=Sr.PostgrestTransformBuilder=Sr.PostgrestFilterBuilder=Sr.PostgrestQueryBuilder=Sr.PostgrestClient=void 0;const t=e(nZ());Sr.PostgrestClient=t.default;const n=e(Nj());Sr.PostgrestQueryBuilder=n.default;const r=e(c_());Sr.PostgrestFilterBuilder=r.default;const i=e(jj());Sr.PostgrestTransformBuilder=i.default;const s=e(Tj());Sr.PostgrestBuilder=s.default;const o=e(Cj());return Sr.PostgrestError=o.default,Sr.default={PostgrestClient:t.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:s.default,PostgrestError:o.default},Sr}var iZ=rZ();const sZ=Ni(iZ),{PostgrestClient:oZ,PostgrestQueryBuilder:vde,PostgrestFilterBuilder:xde,PostgrestTransformBuilder:bde,PostgrestBuilder:wde,PostgrestError:_de}=sZ;function aZ(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const lZ=aZ(),cZ="2.11.15",uZ=`realtime-js/${cZ}`,dZ="1.0.0",Ij=1e4,fZ=1e3;var oh;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(oh||(oh={}));var $r;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})($r||($r={}));var Ms;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Ms||(Ms={}));var e2;(function(e){e.websocket="websocket"})(e2||(e2={}));var sc;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(sc||(sc={}));class hZ{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const i=n.getUint8(1),s=n.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(t.slice(o,o+i));o=o+i;const l=r.decode(t.slice(o,o+s));o=o+s;const u=JSON.parse(r.decode(t.slice(o,t.byteLength)));return{ref:null,topic:a,event:l,payload:u}}}class Pj{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Tn;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Tn||(Tn={}));const JE=(e,t,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((s,o)=>(s[o]=pZ(o,e,t,i),s),{})},pZ=(e,t,n,r)=>{const i=t.find(a=>a.name===e),s=i?.type,o=n[e];return s&&!r.includes(s)?Rj(s,o):t2(o)},Rj=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return vZ(t,n)}switch(e){case Tn.bool:return mZ(t);case Tn.float4:case Tn.float8:case Tn.int2:case Tn.int4:case Tn.int8:case Tn.numeric:case Tn.oid:return gZ(t);case Tn.json:case Tn.jsonb:return yZ(t);case Tn.timestamp:return xZ(t);case Tn.abstime:case Tn.date:case Tn.daterange:case Tn.int4range:case Tn.int8range:case Tn.money:case Tn.reltime:case Tn.text:case Tn.time:case Tn.timestamptz:case Tn.timetz:case Tn.tsrange:case Tn.tstzrange:return t2(t);default:return t2(t)}},t2=e=>e,mZ=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},gZ=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},yZ=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},vZ=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let s;const o=e.slice(1,n);try{s=JSON.parse("["+o+"]")}catch{s=o?o.split(","):[]}return s.map(a=>Rj(t,a))}return e},xZ=e=>typeof e=="string"?e.replace(" ","T"):e,Oj=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class ux{constructor(t,n,r={},i=Ij){this.channel=t,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var ZE;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(ZE||(ZE={}));class ah{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ah.syncState(this.state,i,s,o),this.pendingDiffs.forEach(l=>{this.state=ah.syncDiff(this.state,l,s,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},i=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=ah.syncDiff(this.state,i,s,o),a())}),this.onJoin((i,s,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:o})}),this.onLeave((i,s,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,i){const s=this.cloneDeep(t),o=this.transformState(n),a={},l={};return this.map(s,(u,f)=>{o[u]||(l[u]=f)}),this.map(o,(u,f)=>{const h=s[u];if(h){const g=f.map(E=>E.presence_ref),y=h.map(E=>E.presence_ref),b=f.filter(E=>y.indexOf(E.presence_ref)<0),_=h.filter(E=>g.indexOf(E.presence_ref)<0);b.length>0&&(a[u]=b),_.length>0&&(l[u]=_)}else a[u]=f}),this.syncDiff(s,{joins:a,leaves:l},r,i)}static syncDiff(t,n,r,i){const{joins:s,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(s,(a,l)=>{var u;const f=(u=t[a])!==null&&u!==void 0?u:[];if(t[a]=this.cloneDeep(l),f.length>0){const h=t[a].map(y=>y.presence_ref),g=f.filter(y=>h.indexOf(y.presence_ref)<0);t[a].unshift(...g)}r(a,f,l)}),this.map(o,(a,l)=>{let u=t[a];if(!u)return;const f=l.map(h=>h.presence_ref);u=u.filter(h=>f.indexOf(h.presence_ref)<0),t[a]=u,i(a,u,l),u.length===0&&delete t[a]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const i=t[r];return"metas"in i?n[r]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):n[r]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var ek;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(ek||(ek={}));var tk;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(tk||(tk={}));var zo;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(zo||(zo={}));class u_{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=$r.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new ux(this,Ms.join,this.params,this.timeout),this.rejoinTimer=new Pj(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=$r.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=$r.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=$r.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=$r.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ms.reply,{},(i,s)=>{this._trigger(this._replyEventName(s),i)}),this.presence=new ah(this),this.broadcastEndpointURL=Oj(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,i;if(this.socket.isConnected()||this.socket.connect(),this.state==$r.closed){const{config:{broadcast:s,presence:o,private:a}}=this.params;this._onError(f=>t?.(zo.CHANNEL_ERROR,f)),this._onClose(()=>t?.(zo.CLOSED));const l={},u={broadcast:s,presence:o,postgres_changes:(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(f=>f.filter))!==null&&i!==void 0?i:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},l)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:f})=>{var h;if(this.socket.setAuth(),f===void 0){t?.(zo.SUBSCRIBED);return}else{const g=this.bindings.postgres_changes,y=(h=g?.length)!==null&&h!==void 0?h:0,b=[];for(let _=0;_<y;_++){const E=g[_],{filter:{event:C,schema:P,table:O,filter:z}}=E,B=f&&f[_];if(B&&B.event===C&&B.schema===P&&B.table===O&&B.filter===z)b.push(Object.assign(Object.assign({},E),{id:B.id}));else{this.unsubscribe(),this.state=$r.errored,t?.(zo.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=b,t&&t(zo.SUBSCRIBED);return}}).receive("error",f=>{this.state=$r.errored,t?.(zo.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{t?.(zo.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this._on(t,n,r)}async send(t,n={}){var r,i;if(!this._canPush()&&t.type==="broadcast"){const{event:s,payload:o}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var o,a,l;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&s("ok"),u.receive("ok",()=>s("ok")),u.receive("error",()=>s("error")),u.receive("timeout",()=>s("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=$r.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ms.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new ux(this,Ms.leave,{},t),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,n,r){const i=new AbortController,s=setTimeout(()=>i.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(s),o}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new ux(this,t,n,r);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var i,s;const o=t.toLocaleLowerCase(),{close:a,error:l,leave:u,join:f}=Ms;if(r&&[a,l,u,f].indexOf(o)>=0&&r!==this._joinRef())return;let g=this._onMessage(o,n,r);if(n&&!g)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(y=>{var b,_,E;return((b=y.filter)===null||b===void 0?void 0:b.event)==="*"||((E=(_=y.filter)===null||_===void 0?void 0:_.event)===null||E===void 0?void 0:E.toLocaleLowerCase())===o}).map(y=>y.callback(g,r)):(s=this.bindings[o])===null||s===void 0||s.filter(y=>{var b,_,E,C,P,O;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in y){const z=y.id,B=(b=y.filter)===null||b===void 0?void 0:b.event;return z&&((_=n.ids)===null||_===void 0?void 0:_.includes(z))&&(B==="*"||B?.toLocaleLowerCase()===((E=n.data)===null||E===void 0?void 0:E.type.toLocaleLowerCase()))}else{const z=(P=(C=y?.filter)===null||C===void 0?void 0:C.event)===null||P===void 0?void 0:P.toLocaleLowerCase();return z==="*"||z===((O=n?.event)===null||O===void 0?void 0:O.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===o}).map(y=>{if(typeof g=="object"&&"ids"in g){const b=g.data,{schema:_,table:E,commit_timestamp:C,type:P,errors:O}=b;g=Object.assign(Object.assign({},{schema:_,table:E,commit_timestamp:C,eventType:P,new:{},old:{},errors:O}),this._getPayloadRecords(b))}y.callback(g,r)})}_isClosed(){return this.state===$r.closed}_isJoined(){return this.state===$r.joined}_isJoining(){return this.state===$r.joining}_isLeaving(){return this.state===$r.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const i=t.toLocaleLowerCase(),s={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===r&&u_.isEqual(i.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Ms.close,{},t)}_onError(t){this._on(Ms.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=$r.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=JE(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=JE(t.columns,t.old_record)),n}}const nk=()=>{},bZ=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class wZ{constructor(t,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Ij,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=nk,this.ref=0,this.logger=nk,this.conn=null,this.sendBuffer=[],this.serializer=new hZ,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=s=>{let o;return s?o=s:typeof fetch>"u"?o=(...a)=>Mh(async()=>{const{default:l}=await Promise.resolve().then(()=>Md);return{default:l}},void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${t}/${e2.websocket}`,this.httpEndpoint=Oj(t),n?.transport?this.transport=n.transport:this.transport=null,n?.params&&(this.params=n.params),n?.timeout&&(this.timeout=n.timeout),n?.logger&&(this.logger=n.logger),(n?.logLevel||n?.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),n?.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const i=(r=n?.params)===null||r===void 0?void 0:r.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=n?.reconnectAfterMs?n.reconnectAfterMs:s=>[1e3,2e3,5e3,1e4][s-1]||1e4,this.encode=n?.encode?n.encode:(s,o)=>o(JSON.stringify(s)),this.decode=n?.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Pj(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n?.fetch),n?.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=n?.worker||!1,this.workerUrl=n?.workerUrl}this.accessToken=n?.accessToken||null}connect(){if(!this.conn){if(this.transport||(this.transport=lZ),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:dZ}))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case oh.connecting:return sc.Connecting;case oh.open:return sc.Open;case oh.closing:return sc.Closing;default:return sc.Closed}}isConnected(){return this.connectionState()===sc.Open}channel(t,n={config:{}}){const r=`realtime:${t}`,i=this.getChannels().find(s=>s.topic===r);if(i)return i;{const s=new u_(`realtime:${t}`,n,this);return this.channels.push(s),s}}push(t){const{topic:n,event:r,payload:i,ref:s}=t,o=()=>{this.encode(t,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${r} (${s})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let n=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const i={access_token:n,version:uZ};n&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(Ms.access_token,{access_token:n})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(fZ,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:r,event:i,payload:s,ref:o}=n;r==="phoenix"&&i==="phx_reply"&&this.heartbeatCallback(n.payload.status=="ok"?"ok":"error"),o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${s.status||""} ${r} ${i} ${o&&"("+o+")"||""}`,s),Array.from(this.channels).filter(a=>a._isMember(r)).forEach(a=>a._trigger(i,s,o)),this.stateChangeCallbacks.message.forEach(a=>a(n))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(t=>t())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",`${t}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Ms.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${r}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([bZ],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class d_ extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function kr(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class _Z extends d_{constructor(t,n,r){super(t),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class n2 extends d_{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var SZ=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(f){try{u(r.next(f))}catch(h){o(h)}}function l(f){try{u(r.throw(f))}catch(h){o(h)}}function u(f){f.done?s(f.value):i(f.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};const Aj=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Mh(async()=>{const{default:r}=await Promise.resolve().then(()=>Md);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},EZ=()=>SZ(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Mh(()=>Promise.resolve().then(()=>Md),void 0)).Response:Response}),r2=e=>{if(Array.isArray(e))return e.map(n=>r2(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));t[i]=r2(r)}),t},kZ=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var Fc=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(f){try{u(r.next(f))}catch(h){o(h)}}function l(f){try{u(r.throw(f))}catch(h){o(h)}}function u(f){f.done?s(f.value):i(f.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};const dx=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),CZ=(e,t,n)=>Fc(void 0,void 0,void 0,function*(){const r=yield EZ();e instanceof r&&!n?.noResolveJson?e.json().then(i=>{const s=e.status||500,o=i?.statusCode||s+"";t(new _Z(dx(i),s,o))}).catch(i=>{t(new n2(dx(i),i))}):t(new n2(dx(e),e))}),TZ=(e,t,n,r)=>{const i={method:e,headers:t?.headers||{}};return e==="GET"||!r?i:(kZ(r)?(i.headers=Object.assign({"Content-Type":"application/json"},t?.headers),i.body=JSON.stringify(r)):i.body=r,Object.assign(Object.assign({},i),n))};function up(e,t,n,r,i,s){return Fc(this,void 0,void 0,function*(){return new Promise((o,a)=>{e(n,TZ(t,r,i,s)).then(l=>{if(!l.ok)throw l;return r?.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>CZ(l,a,r))})})}function P0(e,t,n,r){return Fc(this,void 0,void 0,function*(){return up(e,"GET",t,n,r)})}function $o(e,t,n,r,i){return Fc(this,void 0,void 0,function*(){return up(e,"POST",t,r,i,n)})}function i2(e,t,n,r,i){return Fc(this,void 0,void 0,function*(){return up(e,"PUT",t,r,i,n)})}function jZ(e,t,n,r){return Fc(this,void 0,void 0,function*(){return up(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function Mj(e,t,n,r,i){return Fc(this,void 0,void 0,function*(){return up(e,"DELETE",t,r,i,n)})}var wi=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(f){try{u(r.next(f))}catch(h){o(h)}}function l(f){try{u(r.throw(f))}catch(h){o(h)}}function u(f){f.done?s(f.value):i(f.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};const NZ={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},rk={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class IZ{constructor(t,n={},r,i){this.url=t,this.headers=n,this.bucketId=r,this.fetch=Aj(i)}uploadOrUpdate(t,n,r,i){return wi(this,void 0,void 0,function*(){try{let s;const o=Object.assign(Object.assign({},rk),i);let a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(s=new FormData,s.append("cacheControl",o.cacheControl),l&&s.append("metadata",this.encodeMetadata(l)),s.append("",r)):typeof FormData<"u"&&r instanceof FormData?(s=r,s.append("cacheControl",o.cacheControl),l&&s.append("metadata",this.encodeMetadata(l))):(s=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),i?.headers&&(a=Object.assign(Object.assign({},a),i.headers));const u=this._removeEmptyFolders(n),f=this._getFinalPath(u),h=yield(t=="PUT"?i2:$o)(this.fetch,`${this.url}/object/${f}`,s,Object.assign({headers:a},o?.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:h.Id,fullPath:h.Key},error:null}}catch(s){if(kr(s))return{data:null,error:s};throw s}})}upload(t,n,r){return wi(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,i){return wi(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(t),o=this._getFinalPath(s),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",n);try{let l;const u=Object.assign({upsert:rk.upsert},i),f=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl)):(l=r,f["cache-control"]=`max-age=${u.cacheControl}`,f["content-type"]=u.contentType);const h=yield i2(this.fetch,a.toString(),l,{headers:f});return{data:{path:s,fullPath:h.Key},error:null}}catch(l){if(kr(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,n){return wi(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const i=Object.assign({},this.headers);n?.upsert&&(i["x-upsert"]="true");const s=yield $o(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),o=new URL(this.url+s.url),a=o.searchParams.get("token");if(!a)throw new d_("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:a},error:null}}catch(r){if(kr(r))return{data:null,error:r};throw r}})}update(t,n,r){return wi(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return wi(this,void 0,void 0,function*(){try{return{data:yield $o(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(kr(i))return{data:null,error:i};throw i}})}copy(t,n,r){return wi(this,void 0,void 0,function*(){try{return{data:{path:(yield $o(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(kr(i))return{data:null,error:i};throw i}})}createSignedUrl(t,n,r){return wi(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),s=yield $o(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r?.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r?.download?`&download=${r.download===!0?"":r.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${o}`)},{data:s,error:null}}catch(i){if(kr(i))return{data:null,error:i};throw i}})}createSignedUrls(t,n,r){return wi(this,void 0,void 0,function*(){try{const i=yield $o(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),s=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${s}`):null})),error:null}}catch(i){if(kr(i))return{data:null,error:i};throw i}})}download(t,n){return wi(this,void 0,void 0,function*(){const i=typeof n?.transform<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString(n?.transform||{}),o=s?`?${s}`:"";try{const a=this._getFinalPath(t);return{data:yield(yield P0(this.fetch,`${this.url}/${i}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(kr(a))return{data:null,error:a};throw a}})}info(t){return wi(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield P0(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:r2(r),error:null}}catch(r){if(kr(r))return{data:null,error:r};throw r}})}exists(t){return wi(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield jZ(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(kr(r)&&r instanceof n2){const i=r.originalError;if([400,404].includes(i?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),i=[],s=n?.download?`download=${n.download===!0?"":n.download}`:"";s!==""&&i.push(s);const a=typeof n?.transform<"u"?"render/image":"object",l=this.transformOptsToQueryString(n?.transform||{});l!==""&&i.push(l);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${u}`)}}}remove(t){return wi(this,void 0,void 0,function*(){try{return{data:yield Mj(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(kr(n))return{data:null,error:n};throw n}})}list(t,n,r){return wi(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},NZ),n),{prefix:t||""});return{data:yield $o(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(kr(i))return{data:null,error:i};throw i}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const PZ="2.10.4",RZ={"X-Client-Info":`storage-js/${PZ}`};var Ru=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(f){try{u(r.next(f))}catch(h){o(h)}}function l(f){try{u(r.throw(f))}catch(h){o(h)}}function u(f){f.done?s(f.value):i(f.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};class OZ{constructor(t,n={},r,i){const s=new URL(t);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href,this.headers=Object.assign(Object.assign({},RZ),n),this.fetch=Aj(r)}listBuckets(){return Ru(this,void 0,void 0,function*(){try{return{data:yield P0(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(kr(t))return{data:null,error:t};throw t}})}getBucket(t){return Ru(this,void 0,void 0,function*(){try{return{data:yield P0(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(kr(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return Ru(this,void 0,void 0,function*(){try{return{data:yield $o(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(kr(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return Ru(this,void 0,void 0,function*(){try{return{data:yield i2(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(kr(r))return{data:null,error:r};throw r}})}emptyBucket(t){return Ru(this,void 0,void 0,function*(){try{return{data:yield $o(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(kr(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Ru(this,void 0,void 0,function*(){try{return{data:yield Mj(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(kr(n))return{data:null,error:n};throw n}})}}class AZ extends OZ{constructor(t,n={},r,i){super(t,n,r,i)}from(t){return new IZ(this.url,this.headers,t,this.fetch)}}const MZ="2.53.0";let Gf="";typeof Deno<"u"?Gf="deno":typeof document<"u"?Gf="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Gf="react-native":Gf="node";const DZ={"X-Client-Info":`supabase-js-${Gf}/${MZ}`},LZ={headers:DZ},FZ={schema:"public"},BZ={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},zZ={};var $Z=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(f){try{u(r.next(f))}catch(h){o(h)}}function l(f){try{u(r.throw(f))}catch(h){o(h)}}function u(f){f.done?s(f.value):i(f.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};const UZ=e=>{let t;return e?t=e:typeof fetch>"u"?t=Ej:t=fetch,(...n)=>t(...n)},HZ=()=>typeof Headers>"u"?kj:Headers,WZ=(e,t,n)=>{const r=UZ(n),i=HZ();return(s,o)=>$Z(void 0,void 0,void 0,function*(){var a;const l=(a=yield t())!==null&&a!==void 0?a:e;let u=new i(o?.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(s,Object.assign(Object.assign({},o),{headers:u}))})};var qZ=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(f){try{u(r.next(f))}catch(h){o(h)}}function l(f){try{u(r.throw(f))}catch(h){o(h)}}function u(f){f.done?s(f.value):i(f.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};function QZ(e){return e.endsWith("/")?e:e+"/"}function VZ(e,t){var n,r;const{db:i,auth:s,realtime:o,global:a}=e,{db:l,auth:u,realtime:f,global:h}=t,g={db:Object.assign(Object.assign({},l),i),auth:Object.assign(Object.assign({},u),s),realtime:Object.assign(Object.assign({},f),o),storage:{},global:Object.assign(Object.assign(Object.assign({},h),a),{headers:Object.assign(Object.assign({},(n=h?.headers)!==null&&n!==void 0?n:{}),(r=a?.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>qZ(this,void 0,void 0,function*(){return""})};return e.accessToken?g.accessToken=e.accessToken:delete g.accessToken,g}const Dj="2.71.1",Wu=30*1e3,s2=3,fx=s2*Wu,KZ="http://localhost:9999",GZ="supabase.auth.token",YZ={"X-Client-Info":`gotrue-js/${Dj}`},o2="X-Supabase-Api-Version",Lj={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},XZ=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,JZ=600*1e3;class f_ extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function At(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class ZZ extends f_{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function eee(e){return At(e)&&e.name==="AuthApiError"}class Fj extends f_{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class gl extends f_{constructor(t,n,r,i){super(t,r,i),this.name=n,this.status=r}}class Ma extends gl{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function tee(e){return At(e)&&e.name==="AuthSessionMissingError"}class ag extends gl{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class lg extends gl{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class cg extends gl{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function nee(e){return At(e)&&e.name==="AuthImplicitGrantRedirectError"}class ik extends gl{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class a2 extends gl{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function hx(e){return At(e)&&e.name==="AuthRetryableFetchError"}class sk extends gl{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class l2 extends gl{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const R0="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),ok=` 	
\r=`.split(""),ree=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<ok.length;t+=1)e[ok[t].charCodeAt(0)]=-2;for(let t=0;t<R0.length;t+=1)e[R0[t].charCodeAt(0)]=t;return e})();function ak(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(R0[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(R0[r]),t.queuedBits-=6}}function Bj(e,t,n){const r=ree[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function lk(e){const t=[],n=o=>{t.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=o=>{oee(o,r,n)};for(let o=0;o<e.length;o+=1)Bj(e.charCodeAt(o),i,s);return t.join("")}function iee(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function see(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}iee(r,t)}}function oee(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if((e>>7-r&1)===0){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function aee(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)Bj(e.charCodeAt(i),n,r);return new Uint8Array(t)}function lee(e){const t=[];return see(e,n=>t.push(n)),new Uint8Array(t)}function cee(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};return e.forEach(i=>ak(i,n,r)),ak(null,n,r),t.join("")}function uee(e){return Math.round(Date.now()/1e3)+e}function dee(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Os=()=>typeof window<"u"&&typeof document<"u",Yl={tested:!1,writable:!1},zj=()=>{if(!Os())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Yl.tested)return Yl.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Yl.tested=!0,Yl.writable=!0}catch{Yl.tested=!0,Yl.writable=!1}return Yl.writable};function fee(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,s)=>{t[s]=i})}catch{}return n.searchParams.forEach((r,i)=>{t[i]=r}),t}const $j=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Mh(async()=>{const{default:r}=await Promise.resolve().then(()=>Md);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},hee=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",qu=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Xl=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Ra=async(e,t)=>{await e.removeItem(t)};class P1{constructor(){this.promise=new P1.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}P1.promiseConstructor=Promise;function px(e){const t=e.split(".");if(t.length!==3)throw new l2("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!XZ.test(t[r]))throw new l2("JWT not in base64url format");return{header:JSON.parse(lk(t[0])),payload:JSON.parse(lk(t[1])),signature:aee(t[2]),raw:{header:t[0],payload:t[1]}}}async function pee(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function mee(e,t){return new Promise((r,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const o=await e(s);if(!t(s,null,o)){r(o);return}}catch(o){if(!t(s,o)){i(o);return}}})()})}function gee(e){return("0"+e.toString(16)).substr(-2)}function yee(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let s=0;s<56;s++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,gee).join("")}async function vee(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function xee(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await vee(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ou(e,t,n=!1){const r=yee();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await qu(e,`${t}-code-verifier`,i);const s=await xee(r);return[s,r===s?"plain":"s256"]}const bee=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function wee(e){const t=e.headers.get(o2);if(!t||!t.match(bee))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function _ee(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function See(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Eee=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Au(e){if(!Eee.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function mx(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function ck(e){return JSON.parse(JSON.stringify(e))}var kee=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const rc=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Cee=[502,503,504];async function uk(e){var t;if(!hee(e))throw new a2(rc(e),0);if(Cee.includes(e.status))throw new a2(rc(e),e.status);let n;try{n=await e.json()}catch(s){throw new Fj(rc(s),s)}let r;const i=wee(e);if(i&&i.getTime()>=Lj["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new sk(rc(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new Ma}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((s,o)=>s&&typeof o=="string",!0))throw new sk(rc(n),e.status,n.weak_password.reasons);throw new ZZ(rc(n),e.status||500,r)}const Tee=(e,t,n,r)=>{const i={method:e,headers:t?.headers||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function Qt(e,t,n,r){var i;const s=Object.assign({},r?.headers);s[o2]||(s[o2]=Lj["2024-01-01"].name),r?.jwt&&(s.Authorization=`Bearer ${r.jwt}`);const o=(i=r?.query)!==null&&i!==void 0?i:{};r?.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await jee(e,t,n+a,{headers:s,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(l):{data:Object.assign({},l),error:null}}async function jee(e,t,n,r,i,s){const o=Tee(t,r,i,s);let a;try{a=await e(n,Object.assign({},o))}catch(l){throw console.error(l),new a2(rc(l),0)}if(a.ok||await uk(a),r?.noResolveJson)return a;try{return await a.json()}catch(l){await uk(l)}}function Lo(e){var t;let n=null;Ree(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=uee(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function dk(e){const t=Lo(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Ua(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Nee(e){return{data:e,error:null}}function Iee(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s}=e,o=kee(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function Pee(e){return e}function Ree(e){return e.access_token&&e.refresh_token&&e.expires_in}const gx=["global","local","others"];var Oee=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};class Aee{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=$j(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n=gx[0]){if(gx.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${gx.join(", ")}`);try{return await Qt(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(At(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await Qt(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Ua})}catch(r){if(At(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=Oee(t,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r?.newEmail,delete i.newEmail),await Qt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:Iee,redirectTo:n?.redirectTo})}catch(n){if(At(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await Qt(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Ua})}catch(n){if(At(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,i,s,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},f=await Qt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(s=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:Pee});if(f.error)throw f.error;const h=await f.json(),g=(o=f.headers.get("x-total-count"))!==null&&o!==void 0?o:0,y=(l=(a=f.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return y.length>0&&(y.forEach(b=>{const _=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),E=JSON.parse(b.split(";")[1].split("=")[1]);u[`${E}Page`]=_}),u.total=parseInt(g)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(At(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Au(t);try{return await Qt(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Ua})}catch(n){if(At(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Au(t);try{return await Qt(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Ua})}catch(r){if(At(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){Au(t);try{return await Qt(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Ua})}catch(r){if(At(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){Au(t.userId);try{const{data:n,error:r}=await Qt(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(At(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Au(t.userId),Au(t.id);try{return{data:await Qt(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(At(n))return{data:null,error:n};throw n}}}function fk(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function Mee(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Mu={debug:!!(globalThis&&zj()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Uj extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Dee extends Uj{}async function Lee(e,t,n){Mu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Mu.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){Mu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await n()}finally{Mu.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw Mu.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Dee(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Mu.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}Mee();const Fee={url:KZ,storageKey:GZ,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:YZ,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function hk(e,t,n){return await n()}const Du={};class Ph{constructor(t){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ph.nextInstanceID,Ph.nextInstanceID+=1,this.instanceID>0&&Os()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},Fee),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new Aee({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=$j(i.fetch),this.lock=i.lock||hk,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:Os()&&(!((n=globalThis?.navigator)===null||n===void 0)&&n.locks)?this.lock=Lee:this.lock=hk,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:zj()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=fk(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=fk(this.memoryStorage)),Os()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}get jwks(){var t,n;return(n=(t=Du[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){Du[this.storageKey]=Object.assign(Object.assign({},Du[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=Du[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Du[this.storageKey]=Object.assign(Object.assign({},Du[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Dj}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=fee(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Os()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:s}=await this._getSessionFromURL(n,r);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),nee(s)){const l=(t=s.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:o,redirectType:a}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return At(n)?{error:n}:{error:new Fj("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,i;try{const s=await Qt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t?.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=t?.options)===null||i===void 0?void 0:i.captchaToken}},xform:Lo}),{data:o,error:a}=s;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if(At(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(t){var n,r,i;try{let s;if("email"in t){const{email:f,password:h,options:g}=t;let y=null,b=null;this.flowType==="pkce"&&([y,b]=await Ou(this.storage,this.storageKey)),s=await Qt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:g?.emailRedirectTo,body:{email:f,password:h,data:(n=g?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:g?.captchaToken},code_challenge:y,code_challenge_method:b},xform:Lo})}else if("phone"in t){const{phone:f,password:h,options:g}=t;s=await Qt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:f,password:h,data:(r=g?.data)!==null&&r!==void 0?r:{},channel:(i=g?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:g?.captchaToken}},xform:Lo})}else throw new lg("You must provide either an email or phone number and a password");const{data:o,error:a}=s;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if(At(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(t){try{let n;if("email"in t){const{email:s,password:o,options:a}=t;n=await Qt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:o,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:dk})}else if("phone"in t){const{phone:s,password:o,options:a}=t;n=await Qt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:o,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:dk})}else throw new lg("You must provide either an email or phone number and a password");const{data:r,error:i}=n;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new ag}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(At(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,i,s;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;if(n==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(t){var n,r,i,s,o,a,l,u,f,h,g,y;let b,_;if("message"in t)b=t.message,_=t.signature;else{const{chain:E,wallet:C,statement:P,options:O}=t;let z;if(Os())if(typeof C=="object")z=C;else{const j=window;if("solana"in j&&typeof j.solana=="object"&&("signIn"in j.solana&&typeof j.solana.signIn=="function"||"signMessage"in j.solana&&typeof j.solana.signMessage=="function"))z=j.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof C!="object"||!O?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");z=C}const B=new URL((n=O?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in z&&z.signIn){const j=await z.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},O?.signInWithSolana),{version:"1",domain:B.host,uri:B.href}),P?{statement:P}:null));let M;if(Array.isArray(j)&&j[0]&&typeof j[0]=="object")M=j[0];else if(j&&typeof j=="object"&&"signedMessage"in j&&"signature"in j)M=j;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in M&&"signature"in M&&(typeof M.signedMessage=="string"||M.signedMessage instanceof Uint8Array)&&M.signature instanceof Uint8Array)b=typeof M.signedMessage=="string"?M.signedMessage:new TextDecoder().decode(M.signedMessage),_=M.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in z)||typeof z.signMessage!="function"||!("publicKey"in z)||typeof z!="object"||!z.publicKey||!("toBase58"in z.publicKey)||typeof z.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");b=[`${B.host} wants you to sign in with your Solana account:`,z.publicKey.toBase58(),...P?["",P,""]:[""],"Version: 1",`URI: ${B.href}`,`Issued At: ${(i=(r=O?.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=O?.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${O.signInWithSolana.notBefore}`]:[],...!((o=O?.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${O.signInWithSolana.expirationTime}`]:[],...!((a=O?.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${O.signInWithSolana.chainId}`]:[],...!((l=O?.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${O.signInWithSolana.nonce}`]:[],...!((u=O?.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${O.signInWithSolana.requestId}`]:[],...!((h=(f=O?.signInWithSolana)===null||f===void 0?void 0:f.resources)===null||h===void 0)&&h.length?["Resources",...O.signInWithSolana.resources.map(M=>`- ${M}`)]:[]].join(`
`);const j=await z.signMessage(new TextEncoder().encode(b),"utf8");if(!j||!(j instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");_=j}}try{const{data:E,error:C}=await Qt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:b,signature:cee(_)},!((g=t.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(y=t.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:Lo});if(C)throw C;return!E||!E.session||!E.user?{data:{user:null,session:null},error:new ag}:(E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("SIGNED_IN",E.session)),{data:Object.assign({},E),error:C})}catch(E){if(At(E))return{data:{user:null,session:null},error:E};throw E}}async _exchangeCodeForSession(t){const n=await Xl(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:s,error:o}=await Qt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:Lo});if(await Ra(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new ag}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:o})}catch(s){if(At(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(t){try{const{options:n,provider:r,token:i,access_token:s,nonce:o}=t,a=await Qt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:s,nonce:o,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:Lo}),{data:l,error:u}=a;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new ag}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(n){if(At(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,i,s,o;try{if("email"in t){const{email:a,options:l}=t;let u=null,f=null;this.flowType==="pkce"&&([u,f]=await Ou(this.storage,this.storageKey));const{error:h}=await Qt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l?.data)!==null&&n!==void 0?n:{},create_user:(r=l?.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},code_challenge:u,code_challenge_method:f},redirectTo:l?.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:a,options:l}=t,{data:u,error:f}=await Qt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(i=l?.data)!==null&&i!==void 0?i:{},create_user:(s=l?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},channel:(o=l?.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u?.message_id},error:f}}throw new lg("You must provide either an email or phone number.")}catch(a){if(At(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(t){var n,r;try{let i,s;"options"in t&&(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo,s=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await Qt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:Lo});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l?.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(At(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var n,r,i;try{let s=null,o=null;return this.flowType==="pkce"&&([s,o]=await Ou(this.storage,this.storageKey)),await Qt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=t?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:o}),headers:this.headers,xform:Nee})}catch(s){if(At(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new Ma;const{error:i}=await Qt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(At(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:i,options:s}=t,{error:o}=await Qt(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:s?.captchaToken}},redirectTo:s?.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:r,type:i,options:s}=t,{data:o,error:a}=await Qt(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:s?.captchaToken}}});return{data:{user:null,session:null,messageId:o?.message_id},error:a}}throw new lg("You must provide either an email or phone number and a type")}catch(n){if(At(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Xl(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<fx:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const o=await Xl(this.userStorage,this.storageKey+"-user");o?.user?t.user=o.user:t.user=mx()}if(this.storage.isServer&&t.user){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,u,f)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,f))})}return{data:{session:t},error:null}}const{session:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Qt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Ua}):await this._useSession(async n=>{var r,i,s;const{data:o,error:a}=n;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ma}:await Qt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:Ua})})}catch(n){if(At(n))return tee(n)&&(await this._removeSession(),await Ra(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:i,error:s}=r;if(s)throw s;if(!i.session)throw new Ma;const o=i.session;let a=null,l=null;this.flowType==="pkce"&&t.email!=null&&([a,l]=await Ou(this.storage,this.storageKey));const{data:u,error:f}=await Qt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Ua});if(f)throw f;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(At(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Ma;const n=Date.now()/1e3;let r=n,i=!0,s=null;const{payload:o}=px(t.access_token);if(o.exp&&(r=o.exp,i=r<=n),i){const{session:a,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};s=a}else{const{data:a,error:l}=await this._getUser(t.access_token);if(l)throw l;s={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(n){if(At(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:o,error:a}=n;if(a)throw a;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!t?.refresh_token)throw new Ma;const{session:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(At(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!Os())throw new cg("No browser detected.");if(t.error||t.error_description||t.error_code)throw new cg(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new ik("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new cg("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new ik("No code detected.");const{data:P,error:O}=await this._exchangeCodeForSession(t.code);if(O)throw O;const z=new URL(window.location.href);return z.searchParams.delete("code"),window.history.replaceState(window.history.state,"",z.toString()),{data:{session:P.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:s,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=t;if(!s||!a||!o||!u)throw new cg("No session defined in URL");const f=Math.round(Date.now()/1e3),h=parseInt(a);let g=f+h;l&&(g=parseInt(l));const y=g-f;y*1e3<=Wu&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${h}s`);const b=g-h;f-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,g,f):f-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,g,f);const{data:_,error:E}=await this._getUser(s);if(E)throw E;const C={provider_token:r,provider_refresh_token:i,access_token:s,expires_in:h,expires_at:g,refresh_token:o,token_type:u,user:_.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:C,redirectType:t.type},error:null}}catch(r){if(At(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Xl(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{error:s};const o=(r=i.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,t);if(a&&!(eee(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return t!=="others"&&(await this._removeSession(),await Ra(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=dee(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,i;try{const{data:{session:s},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}})}async resetPasswordForEmail(t,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await Ou(this.storage,this.storageKey,!0));try{return await Qt(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(s){if(At(s))return{data:null,error:s};throw s}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(At(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:i}=await this._useSession(async s=>{var o,a,l,u,f;const{data:h,error:g}=s;if(g)throw g;const y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await Qt(this.fetch,"GET",y,{headers:this.headers,jwt:(f=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&f!==void 0?f:void 0})});if(i)throw i;return Os()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r?.url),{data:{provider:t.provider,url:r?.url},error:null}}catch(r){if(At(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,i;const{data:s,error:o}=n;if(o)throw o;return await Qt(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(r=s.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(At(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await mee(async i=>(i>0&&await pee(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await Qt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Lo})),(i,s)=>{const o=200*Math.pow(2,i);return s&&hx(s)&&Date.now()+o-r<Wu})}catch(r){if(this._debug(n,"error",r),At(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),Os()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await Xl(this.storage,this.storageKey);if(i&&this.userStorage){let o=await Xl(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await qu(this.userStorage,this.storageKey+"-user",o)),i.user=(t=o?.user)!==null&&t!==void 0?t:mx()}else if(i&&!i.user&&!i.user){const o=await Xl(this.storage,this.storageKey+"-user");o&&o?.user?(i.user=o.user,await Ra(this.storage,this.storageKey+"-user"),await qu(this.storage,this.storageKey,i)):i.user=mx()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const s=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<fx;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${fx}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),hx(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(i.access_token);!a&&o?.user?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new Ma;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new P1;const{data:s,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!s.session)throw new Ma;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const a={session:s.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(s){if(this._debug(i,"error",s),At(s)){const o={session:null,error:s};return hx(s)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,n,r=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const s=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,n)}catch(l){s.push(l)}});if(await Promise.all(o),s.length>0){for(let a=0;a<s.length;a+=1)console.error(s[a]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await qu(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const s=ck(i);await qu(this.storage,this.storageKey,s)}else{const i=ck(n);await qu(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await Ra(this.storage,this.storageKey),await Ra(this.storage,this.storageKey+"-code-verifier"),await Ra(this.storage,this.storageKey+"-user"),this.userStorage&&await Ra(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Os()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Wu);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-t)/Wu);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Wu}ms, refresh threshold is ${s2} ticks`),i<=s2&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Uj)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Os()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r?.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[s,o]=await Ou(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(a.toString())}if(r?.queryParams){const s=new URLSearchParams(r.queryParams);i.push(s.toString())}return r?.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;return s?{data:null,error:s}:await Qt(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(At(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,i;const{data:s,error:o}=n;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:l,error:u}=await Qt(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=s?.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((i=l?.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(At(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{data:null,error:s};const{data:o,error:a}=await Qt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(n){if(At(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;return s?{data:null,error:s}:await Qt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(At(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=t?.factors||[],i=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),s=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:i,phone:s},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:i},error:s}=t;if(s)return{data:null,error:s};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=px(i.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((r=(n=i.user.factors)===null||n===void 0?void 0:n.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const f=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:f},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(a=>a.kid===t);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(a=>a.kid===t),r&&this.jwks_cached_at+JZ>i)return r;const{data:s,error:o}=await Qt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,r=s.keys.find(a=>a.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:y,error:b}=await this.getSession();if(b||!y.session)return{data:null,error:b};r=y.session.access_token}const{header:i,payload:s,signature:o,raw:{header:a,payload:l}}=px(r);n?.allowExpired||_ee(s.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!u){const{error:y}=await this.getUser(r);if(y)throw y;return{data:{claims:s,header:i,signature:o},error:null}}const f=See(i.alg),h=await crypto.subtle.importKey("jwk",u,f,!0,["verify"]);if(!await crypto.subtle.verify(f,h,o,lee(`${a}.${l}`)))throw new l2("Invalid JWT signature");return{data:{claims:s,header:i,signature:o},error:null}}catch(r){if(At(r))return{data:null,error:r};throw r}}}Ph.nextInstanceID=0;const Bee=Ph;class zee extends Bee{constructor(t){super(t)}}var $ee=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(f){try{u(r.next(f))}catch(h){o(h)}}function l(f){try{u(r.throw(f))}catch(h){o(h)}}function u(f){f.done?s(f.value):i(f.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};class Uee{constructor(t,n,r){var i,s,o;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const a=QZ(t),l=new URL(a);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const u=`sb-${l.hostname.split(".")[0]}-auth-token`,f={db:FZ,realtime:zZ,auth:Object.assign(Object.assign({},BZ),{storageKey:u}),global:LZ},h=VZ(r??{},f);this.storageKey=(i=h.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=h.global.headers)!==null&&s!==void 0?s:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(g,y)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(y)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=h.auth)!==null&&o!==void 0?o:{},this.headers,h.global.fetch),this.fetch=WZ(n,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new oZ(new URL("rest/v1",l).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),this.storage=new AZ(this.storageUrl.href,this.headers,this.fetch,r?.storage),h.accessToken||this._listenForAuthEvents()}get functions(){return new KJ(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return $ee(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,storageKey:s,flowType:o,lock:a,debug:l},u,f){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new zee({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),u),storageKey:s,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,flowType:o,lock:a,debug:l,fetch:f,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new wZ(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r?.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Hee=(e,t,n)=>new Uee(e,t,n);function Wee(){if(typeof window<"u"||typeof process>"u"||process.version===void 0||process.version===null)return!1;const e=process.version.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}Wee()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");function pk(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var Lu=[..."각힣".normalize("NFD")].map(e=>e.charCodeAt(0)),mk=44032,qee=55203,yx=28,gk=21,c2={"":"",ㄱ:"ㄱ",ㄲ:"ㄲ",ㄳ:"ㄱㅅ",ㄴ:"ㄴ",ㄵ:"ㄴㅈ",ㄶ:"ㄴㅎ",ㄷ:"ㄷ",ㄸ:"ㄸ",ㄹ:"ㄹ",ㄺ:"ㄹㄱ",ㄻ:"ㄹㅁ",ㄼ:"ㄹㅂ",ㄽ:"ㄹㅅ",ㄾ:"ㄹㅌ",ㄿ:"ㄹㅍ",ㅀ:"ㄹㅎ",ㅁ:"ㅁ",ㅂ:"ㅂ",ㅃ:"ㅃ",ㅄ:"ㅂㅅ",ㅅ:"ㅅ",ㅆ:"ㅆ",ㅇ:"ㅇ",ㅈ:"ㅈ",ㅉ:"ㅉ",ㅊ:"ㅊ",ㅋ:"ㅋ",ㅌ:"ㅌ",ㅍ:"ㅍ",ㅎ:"ㅎ"},u2={ㅏ:"ㅏ",ㅐ:"ㅐ",ㅑ:"ㅑ",ㅒ:"ㅒ",ㅓ:"ㅓ",ㅔ:"ㅔ",ㅕ:"ㅕ",ㅖ:"ㅖ",ㅗ:"ㅗ",ㅘ:"ㅗㅏ",ㅙ:"ㅗㅐ",ㅚ:"ㅗㅣ",ㅛ:"ㅛ",ㅜ:"ㅜ",ㅝ:"ㅜㅓ",ㅞ:"ㅜㅔ",ㅟ:"ㅜㅣ",ㅠ:"ㅠ",ㅡ:"ㅡ",ㅢ:"ㅡㅣ",ㅣ:"ㅣ"},Qee=["ㄱ","ㄲ","ㄴ","ㄷ","ㄸ","ㄹ","ㅁ","ㅂ","ㅃ","ㅅ","ㅆ","ㅇ","ㅈ","ㅉ","ㅊ","ㅋ","ㅌ","ㅍ","ㅎ"],Vee=Object.values(u2),Kee=["","ㄱ","ㄲ","ㄳ","ㄴ","ㄵ","ㄶ","ㄷ","ㄹ","ㄺ","ㄻ","ㄼ","ㄽ","ㄾ","ㄿ","ㅀ","ㅁ","ㅂ","ㅄ","ㅅ","ㅆ","ㅇ","ㅈ","ㅊ","ㅋ","ㅌ","ㅍ","ㅎ"].map(e=>c2[e]);function Gee(e){const t=e.charCodeAt(0);if(!(mk<=t&&t<=qee))return;const r=t-mk,i=r%yx,s=(r-i)/yx%gk,o=Math.floor((r-i)/yx/gk);return{choseong:Qee[o],jungseong:Vee[s],jongseong:Kee[i]}}function Yee(e){const t=[];for(const n of e){const r=Gee(n);if(r!=null){t.push([...r.choseong,...r.jungseong,...r.jongseong]);continue}if(pk(c2,n)){const i=c2[n];t.push([...i]);continue}if(pk(u2,n)){const i=u2[n];t.push([...i]);continue}t.push([n])}return t}function Cc(e){return Yee(e).reduce((t,n)=>`${t}${n.join("")}`,"")}var O0={START_CHOSEONG:Lu[0],START_JUNGSEONG:Lu[1],START_JONGSEONG:Lu[2],END_CHOSEONG:Lu[3],END_JUNGSEONG:Lu[4],END_JONGSEONG:Lu[5]};new RegExp(`[^\\u${O0.START_CHOSEONG.toString(16)}-\\u${O0.END_CHOSEONG.toString(16)}ㄱ-ㅎ\\s]+`,"ug");new RegExp(`[\\u${O0.START_CHOSEONG.toString(16)}-\\u${O0.END_CHOSEONG.toString(16)}]`,"g");const Xee=Hee("https://jvbtsubxzytnjnzxmtbg.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imp2YnRzdWJ4enl0bmpuenhtdGJnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQyMzMyMzgsImV4cCI6MjA2OTgwOTIzOH0.uUpg4kO7-uLmswUo8Dp_-WZwKw_xKqxRrpGmM2tN02I"),Jee=30*1e3,Zee=10*1e3,ete=60*1e3,tte=5,ug="searchLoggingData",nte="searches_prod_2",Ot={timer:null,commitDelay:Jee,data:[],loadLoggingData(){if(Ot.data.length>0)return Ot.data;const e=localStorage.getItem(ug);return e&&(Ot.data=JSON.parse(e)),Ot.data},updateLoggingData(e,t,n){const r=!t||isNaN(Number(t))?-1:Number(t),s={search:e===void 0&&Ot.data.length>0?Ot.data[Ot.data.length-1].search:e??"",dprt_cd:r,target:n,created_at:Date.now()};if((a=>{if(Ot.data.length===0)return!1;const l=Ot.data[Ot.data.length-1];return l.target<0&&(vx(l.search,a.search)||vx(a.search,l.search))})(s)){const a=Ot.data[Ot.data.length-1];a.target=n,a.created_at=Date.now(),vx(s.search,a.search)&&(a.search=s.search),s.dprt_cd>=0&&(a.dprt_cd=s.dprt_cd)}else Ot.data.push(s);localStorage.setItem(ug,JSON.stringify(Ot.data)),Ot.submitDelayCommit()},reconcileLoggingData(){Ot.data=Ot.data.filter(e=>!(e.search&&e.dprt_cd<0&&e.target<0)),Ot.data=Ot.data.filter((e,t)=>!(t>0&&e.search===Ot.data[t-1].search&&e.dprt_cd===Ot.data[t-1].dprt_cd&&e.target===-1)),localStorage.setItem(ug,JSON.stringify(Ot.data))},submitDelayCommit(){if(Ot.timer&&(clearTimeout(Ot.timer),Ot.timer=null),Ot.data.length>tte){const e=Ot.data.map(r=>r.created_at),t=e.slice(1).map((r,i)=>r-e[i]),n=t.reduce((r,i)=>r+i,0)/t.length;Ot.commitDelay=Math.min(ete,Math.max(Zee,n+10*1e3))}Ot.timer=setTimeout(()=>{Ot.timer=null,Ot.commitLoggingData()},Ot.commitDelay)},commitLoggingData(){Ot.reconcileLoggingData();const e=Ot.data.length;if(e===0)return;const t=Ot.data.map(({search:n,dprt_cd:r,target:i})=>({search:n,dprt_cd:r,target:i}));Xee.from(nte).insert(t).then(({error:n})=>{n?console.error("Error committing search logging data:",n):(Ot.data=Ot.data.slice(e),localStorage.setItem(ug,JSON.stringify(Ot.data)))})}};function vx(e,t){const n=Cc(e).toLowerCase(),r=Cc(t).toLowerCase();return n.includes(r)}function dp(){I.useEffect(()=>{Ot.loadLoggingData()},[]);function e(r,i){Ot.updateLoggingData(r,i,-1)}function t(r,i,s){Ot.updateLoggingData(r,i,s)}function n(r){Ot.updateLoggingData(void 0,void 0,r)}return{onSearchChange:e,selectTarget:t,selectTargetOnly:n}}function Hj({subject:e,className:t,onClick:n,...r}){const{data:i}=j1(),{mutate:s}=a_(),{mutate:o}=xj(),{selectTargetOnly:a}=dp(),l=i?.some(h=>h.subjectId===e.subjectId),u=l?"알림 과목 해제":"알림 과목 등록",f=h=>{if(a(e.subjectId),I1(e.deptCd),n&&n(h),!l){o(e.subjectId);return}s(e.subjectId)};return p.jsx("button",{className:"cursor-pointer "+(t??""),title:u,"aria-label":u,onClick:f,...r,children:p.jsx(Od,{disabled:!l})})}function rte({subject:e,seats:t,queryTime:n,disableSeat:r=!1,className:i,isLive:s=!1}){const o=e.isDeleted,a=e.curiLangNm==="영어";return p.jsxs("div",{className:"bg-gray-50 shadow-sm rounded-lg p-4 "+i,children:[p.jsxs("div",{className:"flex justify-between",children:[p.jsx("h3",{className:"font-bold",children:e.subjectName}),p.jsx(Hj,{subject:e})]}),p.jsxs("div",{className:"mb-2 text-xs text-gray-500",children:[p.jsx("p",{children:e.departmentName}),p.jsxs("p",{children:[e.subjectCode,"-",e.classCode," | ",e.professorName]})]}),!r&&p.jsxs("div",{className:"flex justify-between items-baseline",children:[p.jsxs("p",{className:`text-sm px-2 py-1 rounded-full font-bold ${Dc(t)}`,children:["여석: ",t<0?"???":t]}),!s&&p.jsx("p",{className:"text-xs text-gray-500",children:s_(n)}),o&&p.jsx("p",{className:"text-xs text-gray-500",children:"폐강"}),a&&p.jsx("p",{className:"text-xs text-gray-500",children:"영어"})]})]})}const xx=45;function R1(e,t="ref",n=".load-more-trigger"){const[r,i]=I.useState(xx),s=I.useRef(null),o=I.useRef(null);return I.useEffect(()=>{i(xx)},[e]),I.useEffect(()=>{const a=new IntersectionObserver(l=>{l.forEach(u=>{u.isIntersecting&&i(f=>f+xx)})},{root:null,rootMargin:"0px",threshold:.5});return o.current=a,t==="ref"&&s.current?a.observe(s.current):t==="selector"&&document.querySelectorAll(n).forEach(u=>a.observe(u)),()=>{a.disconnect()}},[e,t,n]),{visibleRows:r,...t==="ref"?{loadMoreRef:s}:{}}}function h_({subjects:e,isPending:t=!1,className:n="",isLive:r=!1}){return p.jsx("div",{className:"flex flex-col gap-2 "+n,children:p.jsx(ite,{subjects:e,isPending:t,isLive:r})})}function ite({subjects:e,isPending:t=!1,isLive:n=!1}){const{visibleRows:r,loadMoreRef:i}=R1(e),s=e?e.slice(0,r):[];return t||!e?p.jsx("div",{className:"animate-pulse grid grid-cols-1 md:grid-cols-3 gap-4",children:[0,0,0].map((o,a)=>p.jsx("div",{className:"bg-gray-300 shadow-sm rounded-lg p-4 h-24"},"skeleton-card-"+a))}):e.length?p.jsxs(p.Fragment,{children:[s.map(o=>p.jsx(rte,{subject:o,seats:"seat"in o?o.seat??-1:-1,disableSeat:!("seat"in o),className:"bg-white",isLive:n},o.subjectId)),p.jsx("div",{ref:i,className:"load-more-trigger opacity-0",children:"불러오는 중"})]}):p.jsx("div",{className:"text-center py-4",children:p.jsxs("div",{className:"flex flex-col items-center",children:[p.jsx(ap,{className:"w-12 h-12"}),p.jsx("p",{className:"text-gray-500 font-bold mt-4",children:"검색된 과목이 없습니다."}),p.jsx("p",{className:"text-gray-400 text-xs mt-1",children:"다른 검색어로 다시 시도해보세요."})]})})}function ste(e,t){if(!e.lesnTime)return!0;const n=RegExp(/^([가-힣]+)/).exec(e.lesnTime);if(!n)return!1;if(t.includes("전체")||t.length===0)return!0;const r=n[1].split("");return t.some(i=>r.includes(i))}function ote(e,t){const n=Number(e.studentYear);return!n||t.includes("전체")||t.length===0?!0:t.includes(n)}function ate(e,t){return!t||t===""||t===e.deptCd}function lte(e,t,n){if(!t)return!0;const r=e.professorName?Cc(e.professorName).toLowerCase():"",i=e.subjectName.replace(/[^\w\sㄱ-ㅎㅏ-ㅣ가-힣]/g,"").replace(/\s+/g,""),s=Cc(i).toLowerCase(),a=(e.subjectCode+e.classCode).toLowerCase().includes(n);return r.includes(t)||s.includes(t)||a}function Dd({subjects:e,searchKeywords:t,selectedDays:n,selectedDepartment:r,selectedGrades:i,isFavorite:s,isPinned:o,pickedFavorites:a=()=>!1}){const{onSearchChange:l}=dp(),{data:u}=j1();if(!e||e.length===0)return[];l(t,r);const f=_=>u?.some(({subjectId:E})=>E===_),h=t.replace(/[^\w\sㄱ-ㅎㅏ-ㅣ가-힣]/g,"").replace(/\s+/g,""),g=Cc(h).toLowerCase(),b=(_=>_.replace(/[-\s]/g,"").toLowerCase())(t);return e.filter(_=>{const E=ate(_,r),C=i?ote(_,i):!0,P=n?ste(_,n):!0,O=lte(_,g,b),z=!s||a(_.subjectId),B=!o||f(_.subjectId);return E&&C&&P&&O&&z&&B})}const cte={enter:"sidebar-transition-enter",enterActive:"sidebar-transition-enter-active",exit:"sidebar-transition-exit",exitActive:"sidebar-transition-exit-active"},ute=({isOpen:e,onClose:t})=>{const[n,r]=I.useState(""),[i,s]=I.useState(""),{data:o,isPending:a}=oa(),l=cp(o),u=I.useDeferredValue(Dd({subjects:l??[],searchKeywords:n,selectedDepartment:i}));return p.jsx(p.Fragment,{children:p.jsx(Kh,{in:e,timeout:100,classNames:cte,unmountOnExit:!0,children:p.jsxs("div",{className:"flex flex-col w-92 flex-auto bg-gray-50 shadow-lg z-10",children:[p.jsxs("div",{className:"flex justify-between items-center py-2 pl-4 pr-2 bg-white border-b border-gray-200",children:[p.jsx("h2",{className:"text-md font-bold",children:"알림 설정"}),p.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 hover:bg-gray-100 p-2 rounded-full transition-colors",children:p.jsx(vj,{className:"w-3 h-3"})})]}),p.jsxs("div",{className:"flex-1 p-4",children:[p.jsxs("div",{className:"flex flex-col gap-2 mb-4",children:[p.jsx(Lc,{placeholder:"과목명 교수명 검색",onChange:f=>r(f.target.value),onDelete:()=>r("")}),p.jsx(lp,{className:"flex-auto",value:i,onChange:f=>s(f.target.value)})]}),p.jsx(h_,{className:"flex flex-full overflow-auto max-h-screen",subjects:u,isPending:a})]})]})})})};function dte(){const e=I.useRef(null),t=I.useRef(null),n=I.useRef({touchStart:{sheetY:0,touchY:0},touchMove:{prevTouchY:0,movingDirection:"none"},isContentAreaTouched:!1});I.useEffect(()=>{const s=()=>{const{touchMove:u,isContentAreaTouched:f}=n.current;return!f||e.current.getBoundingClientRect().y!==oc?!0:u.movingDirection==="down"?t.current.scrollTop<=0:!1},o=u=>{const{touchStart:f}=n.current;f.sheetY=e.current.getBoundingClientRect().y,f.touchY=u.touches[0].clientY},a=u=>{const{touchStart:f,touchMove:h}=n.current,g=u.touches[0];if(h.prevTouchY===void 0&&(h.prevTouchY=f.touchY),h.prevTouchY===0&&(h.prevTouchY=f.touchY),h.prevTouchY<g.clientY&&(h.movingDirection="down"),h.prevTouchY>g.clientY&&(h.movingDirection="up"),s()){u.stopPropagation();const y=g.clientY-f.touchY;let b=f.sheetY+y;b<=oc&&(b=oc),b>=dg&&(b=dg),e.current.style.setProperty("transform",`translateY(${b}px)`)}else document.body.style.overflowY="hidden"},l=()=>{const{touchMove:u}=n.current;e.current.getBoundingClientRect().y!==oc&&(u.movingDirection==="down"&&e.current.style.setProperty("transform",`translateY(${dg}px)`),u.movingDirection==="up"&&e.current.style.setProperty("transform",`translateY(${oc}px)`)),n.current={touchStart:{sheetY:0,touchY:0},touchMove:{prevTouchY:0,movingDirection:"none"},isContentAreaTouched:!1}};e.current.addEventListener("touchstart",o),e.current.addEventListener("touchmove",a),e.current.addEventListener("touchend",l)},[]);const r=()=>{e.current&&e.current.style.setProperty("transform","translateY(400px)")},i=()=>{e.current&&e.current.style.setProperty("transform",`translateY(${dg}px)`)};return I.useEffect(()=>{const s=()=>{n.current.isContentAreaTouched=!0};t.current.addEventListener("touchstart",s);const o=window.getComputedStyle(document.body).overflow;return document.body.style.overflow="hidden",()=>{document.body.style.overflow=o}},[]),{sheet:e,content:t,expandToMax:r,collapseToMin:i}}function fte(){const{cancelSchedule:e}=Vr(),t=$0(),n=()=>{t("/timetable"),e()};I.useEffect(()=>(window.addEventListener("popstate",n),()=>{window.removeEventListener("popstate",n)}),[])}const oc=0,dg=window.innerHeight-300,hte=window.innerHeight-oc;function fp({children:e}){const{sheet:t,content:n,expandToMax:r,collapseToMin:i}=dte(),{type:s,resetBottomSheet:o}=zs(),{cancelSchedule:a}=Vr();function l(){a(),o()}return fte(),p.jsxs("div",{className:"fixed inset-0 z-[200]",children:[s&&p.jsx("div",{className:"absolute inset-0 bg-black/5 bg-opacity-80",role:"presentation",onClick:l}),p.jsxs("div",{ref:t,className:"fixed rounded-t-xl bottom-0 left-0 w-full transition-transform bg-white duration-300 z-200",style:{height:`${hte}px`,transform:`translateY(${oc}px)`},children:[p.jsx("div",{className:"w-full flex justify-center py-2 h-7 shrink-0",children:p.jsx("button",{className:"w-20 h-2 cursor-pointer bg-gray-300 rounded-full","aria-label":"닫기",onClick:a})}),p.jsx("div",{ref:n,className:"flex-1 overflow-y-auto ",children:typeof e=="function"?e({expandToMax:r,collapseToMin:i}):e})]})]})}const Wj=e=>I.createElement("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},I.createElement("path",{d:"M7.33335 8.66659H4.00001C3.81112 8.66659 3.6529 8.60259 3.52535 8.47459C3.39779 8.34659 3.33379 8.18837 3.33335 7.99992C3.3329 7.81148 3.3969 7.65325 3.52535 7.52525C3.65379 7.39725 3.81201 7.33325 4.00001 7.33325H7.33335V3.99992C7.33335 3.81103 7.39735 3.65281 7.52535 3.52525C7.65335 3.3977 7.81157 3.3337 8.00001 3.33325C8.18846 3.33281 8.3469 3.39681 8.47535 3.52525C8.60379 3.6537 8.66757 3.81192 8.66668 3.99992V7.33325H12C12.1889 7.33325 12.3473 7.39725 12.4753 7.52525C12.6033 7.65325 12.6671 7.81148 12.6667 7.99992C12.6662 8.18837 12.6022 8.34681 12.4747 8.47525C12.3471 8.6037 12.1889 8.66748 12 8.66659H8.66668V11.9999C8.66668 12.1888 8.60268 12.3473 8.47468 12.4753C8.34668 12.6033 8.18846 12.667 8.00001 12.6666C7.81157 12.6661 7.65335 12.6021 7.52535 12.4746C7.39735 12.347 7.33335 12.1888 7.33335 11.9999V8.66659Z",fill:"#9CA3AF"}));function hp({title:e,headerType:t,onClose:n,onClick:r}){return p.jsx("header",{className:"w-full px-5 flex items-center justify-between mb-2",children:t==="add"?p.jsxs("div",{className:"w-full h-8 flex items-center  justify-between ",children:[p.jsx(bx,{headerType:"add",onClick:r}),e&&p.jsx("h3",{className:"text-sm font-semibold",children:e}),p.jsx(bx,{headerType:"close",onClick:n})]}):p.jsx(p.Fragment,{children:p.jsxs("div",{className:"relative w-full flex items-center justify-center h-6",children:[p.jsx("h3",{className:"text-sm font-semibold",children:e}),p.jsx("div",{className:"absolute right-0",children:p.jsx(bx,{headerType:"close",onClick:n})})]})})})}function bx({headerType:e,onClick:t}){const n=e==="close"?Yh:Wj;return p.jsx("button",{className:"w-6 h-6 cursor-pointer flex items-center justify-center bg-gray-100 rounded-full",onClick:t,children:p.jsx(n,{})})}function pte({onCloseSearch:e}){const[t,n]=I.useState(""),[r,i]=I.useState(""),s=zs(g=>g.openBottomSheet),o=zs(g=>g.closeBottomSheet),a=ds(g=>g.isSearchOpen),{data:l,isPending:u}=oa(),f=cp(l),h=I.useDeferredValue(Dd({subjects:f??[],searchKeywords:t,selectedDepartment:r}));return I.useEffect(()=>{a?s("search"):o()},[a]),p.jsx(fp,{children:({expandToMax:g})=>p.jsxs(p.Fragment,{children:[p.jsx(hp,{title:"알림과목검색",headerType:"close",onClose:()=>e(),onClick:g}),p.jsxs("div",{className:"sticky py-3 px-2 top-0 bg-white z-10 flex flex-col gap-2 mb-4 flex-auto",children:[p.jsx(Lc,{placeholder:"과목명 교수명 검색",onChange:y=>n(y.target.value),onDelete:()=>n("")}),p.jsx(lp,{className:"flex-auto",value:r,onChange:y=>i(y.target.value)})]}),p.jsx("div",{className:"max-h-[70vh] min-h-0 px-2 overflow-y-auto touch-auto flex flex-col",children:p.jsx(h_,{className:"flex flex-full overflow-auto max-h-screen",subjects:h,isPending:u})})]})})}function p_(){const[e,t]=I.useState(!1);return I.useEffect(()=>{const n=()=>{t(window.innerWidth<=768)};return n(),window.addEventListener("resize",n),()=>{window.removeEventListener("resize",n)}},[]),e}function pp(e){const{hasSeats:t}=e??{};return{isPreSeatAvailable:!1}}function mte(){const e=ds(i=>i.isSearchOpen),t=ds(i=>i.setIsSearchOpen),n=p_(),{isPreSeatAvailable:r}=pp();return p.jsxs(p.Fragment,{children:[p.jsx(gr,{children:p.jsx("title",{children:"ALLCLL | 실시간 수강 여석"})}),p.jsxs("div",{className:"flex justify-between overflow-hidden",children:[p.jsxs("div",{className:"max-w-screen-xl mx-auto p-4 mb-8 container",children:[r&&p.jsx(pj,{}),p.jsxs(p.Fragment,{children:[p.jsxs("p",{className:"text-xs font-bold text-gray-500 mb-4",children:["아직 기능이 안정적이지 않을 수 있습니다. 오류 발생 시 ",p.jsx("a",{href:"https://forms.gle/bCDTVujEHunnvHe88",target:"_blank",className:"text-blue-500 underline hover:text-blue-600",children:"문의사항"}),"으로 연락주세요."]}),p.jsx(ip,{children:p.jsx(zJ,{})}),p.jsx("div",{className:"grid grid-cols-1 gap-x-4 mb-4",children:p.jsx(gJ,{title:"교양과목"})})]})]}),!n&&p.jsx(ute,{isOpen:e,onClose:()=>t(!1)})]}),n&&e&&p.jsx(pte,{onCloseSearch:()=>t(!1)})]})}function gte(){const[e,t]=I.useState(!1);return p.jsxs(p.Fragment,{children:[p.jsx(gr,{children:p.jsx("title",{children:"ALLCLL | 소개"})}),p.jsxs("div",{className:"mx-auto flex flex-col justify-center bg-blue-100 h-max",children:[p.jsx("iframe",{src:"https://resilient-may-c73.notion.site/ebd/1f2acf7c316280939afed2657259c817",width:"100%",height:e?"1000":"0",onLoad:()=>t(!0),children:"로드 중…"}),!e&&p.jsx("div",{className:"w-4xl mx-auto h-screen flex justify-center items-center text-3xl",children:"로딩 중..."})]})]})}function yte(){const[e,t]=I.useState(!1);return p.jsxs(p.Fragment,{children:[p.jsx(gr,{children:p.jsx("title",{children:"ALLCLL | 오류 및 제보"})}),p.jsxs("div",{className:"mx-auto flex justify-center bg-blue-100 pt-4",children:[p.jsx("iframe",{src:"https://docs.google.com/forms/d/e/1FAIpQLSdk7MxNYVyzPyJLecQdJU5wGSgdE7rUWtRfcrPBY2ioKbtW2Q/viewform?embedded=true",width:"640",height:e?"1100":"0",onLoad:()=>t(!0),children:"로드 중…"}),!e&&p.jsx("div",{className:"w-4xl h-screen flex items-center text-3xl",children:"로딩 중..."})]})]})}function yk(e,t){const n=String(e);if(typeof t!="string")throw new TypeError("Expected character");let r=0,i=n.indexOf(t);for(;i!==-1;)r++,i=n.indexOf(t,i+t.length);return r}const oi=yl(/[A-Za-z]/),qr=yl(/[\dA-Za-z]/),vte=yl(/[#-'*+\--9=?A-Z^-~]/);function A0(e){return e!==null&&(e<32||e===127)}const d2=yl(/\d/),xte=yl(/[\dA-Fa-f]/),bte=yl(/[!-/:-@[-`{-~]/);function ht(e){return e!==null&&e<-2}function Sn(e){return e!==null&&(e<0||e===32)}function Kt(e){return e===-2||e===-1||e===32}const O1=yl(new RegExp("\\p{P}|\\p{S}","u")),Tc=yl(/\s/);function yl(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function wte(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}const A1=function(e){if(e==null)return kte;if(typeof e=="function")return M1(e);if(typeof e=="object")return Array.isArray(e)?_te(e):Ste(e);if(typeof e=="string")return Ete(e);throw new Error("Expected function, string, or object as test")};function _te(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=A1(e[n]);return M1(r);function r(...i){let s=-1;for(;++s<t.length;)if(t[s].apply(this,i))return!0;return!1}}function Ste(e){const t=e;return M1(n);function n(r){const i=r;let s;for(s in e)if(i[s]!==t[s])return!1;return!0}}function Ete(e){return M1(t);function t(n){return n&&n.type===e}}function M1(e){return t;function t(n,r,i){return!!(Cte(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function kte(){return!0}function Cte(e){return e!==null&&typeof e=="object"&&"type"in e}const qj=[],Tte=!0,f2=!1,jte="skip";function Qj(e,t,n,r){let i;typeof t=="function"&&typeof n!="function"?(r=n,n=t):i=t;const s=A1(i),o=r?-1:1;a(e,void 0,[])();function a(l,u,f){const h=l&&typeof l=="object"?l:{};if(typeof h.type=="string"){const y=typeof h.tagName=="string"?h.tagName:typeof h.name=="string"?h.name:void 0;Object.defineProperty(g,"name",{value:"node ("+(l.type+(y?"<"+y+">":""))+")"})}return g;function g(){let y=qj,b,_,E;if((!t||s(l,u,f[f.length-1]||void 0))&&(y=Nte(n(l,f)),y[0]===f2))return y;if("children"in l&&l.children){const C=l;if(C.children&&y[0]!==jte)for(_=(r?C.children.length:-1)+o,E=f.concat(C);_>-1&&_<C.children.length;){const P=C.children[_];if(b=a(P,_,E)(),b[0]===f2)return b;_=typeof b[1]=="number"?b[1]:_+o}}return y}}}function Nte(e){return Array.isArray(e)?e:typeof e=="number"?[Tte,e]:e==null?qj:[e]}function Ite(e,t,n){const i=A1((n||{}).ignore||[]),s=Pte(t);let o=-1;for(;++o<s.length;)Qj(e,"text",a);function a(u,f){let h=-1,g;for(;++h<f.length;){const y=f[h],b=g?g.children:void 0;if(i(y,b?b.indexOf(y):void 0,g))return;g=y}if(g)return l(u,f)}function l(u,f){const h=f[f.length-1],g=s[o][0],y=s[o][1];let b=0;const E=h.children.indexOf(u);let C=!1,P=[];g.lastIndex=0;let O=g.exec(u.value);for(;O;){const z=O.index,B={index:O.index,input:O.input,stack:[...f,u]};let j=y(...O,B);if(typeof j=="string"&&(j=j.length>0?{type:"text",value:j}:void 0),j===!1?g.lastIndex=z+1:(b!==z&&P.push({type:"text",value:u.value.slice(b,z)}),Array.isArray(j)?P.push(...j):j&&P.push(j),b=z+O[0].length,C=!0),!g.global)break;O=g.exec(u.value)}return C?(b<u.value.length&&P.push({type:"text",value:u.value.slice(b)}),h.children.splice(E,1,...P)):P=[u],E+P.length}}function Pte(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!e[0]||Array.isArray(e[0])?e:[e];let r=-1;for(;++r<n.length;){const i=n[r];t.push([Rte(i[0]),Ote(i[1])])}return t}function Rte(e){return typeof e=="string"?new RegExp(wte(e),"g"):e}function Ote(e){return typeof e=="function"?e:function(){return e}}const wx="phrasing",_x=["autolink","link","image","label"];function Ate(){return{transforms:[$te],enter:{literalAutolink:Dte,literalAutolinkEmail:Sx,literalAutolinkHttp:Sx,literalAutolinkWww:Sx},exit:{literalAutolink:zte,literalAutolinkEmail:Bte,literalAutolinkHttp:Lte,literalAutolinkWww:Fte}}}function Mte(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:wx,notInConstruct:_x},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:wx,notInConstruct:_x},{character:":",before:"[ps]",after:"\\/",inConstruct:wx,notInConstruct:_x}]}}function Dte(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function Sx(e){this.config.enter.autolinkProtocol.call(this,e)}function Lte(e){this.config.exit.autolinkProtocol.call(this,e)}function Fte(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function Bte(e){this.config.exit.autolinkEmail.call(this,e)}function zte(e){this.exit(e)}function $te(e){Ite(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,Ute],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),Hte]],{ignore:["link","linkReference"]})}function Ute(e,t,n,r,i){let s="";if(!Vj(i)||(/^w/i.test(t)&&(n=t+n,t="",s="http://"),!Wte(n)))return!1;const o=qte(n+r);if(!o[0])return!1;const a={type:"link",title:null,url:s+t+o[0],children:[{type:"text",value:t+o[0]}]};return o[1]?[a,{type:"text",value:o[1]}]:a}function Hte(e,t,n,r){return!Vj(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function Wte(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function qte(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],r=n.indexOf(")");const i=yk(e,"(");let s=yk(e,")");for(;r!==-1&&i>s;)e+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),s++;return[e,n]}function Vj(e,t){const n=e.input.charCodeAt(e.index-1);return(e.index===0||Tc(n)||O1(n))&&(!t||n!==47)}function $s(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}Kj.peek=ene;function Qte(){this.buffer()}function Vte(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function Kte(){this.buffer()}function Gte(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function Yte(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=$s(this.sliceSerialize(e)).toLowerCase(),n.label=t}function Xte(e){this.exit(e)}function Jte(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=$s(this.sliceSerialize(e)).toLowerCase(),n.label=t}function Zte(e){this.exit(e)}function ene(){return"["}function Kj(e,t,n,r){const i=n.createTracker(r);let s=i.move("[^");const o=n.enter("footnoteReference"),a=n.enter("reference");return s+=i.move(n.safe(n.associationId(e),{after:"]",before:s})),a(),o(),s+=i.move("]"),s}function tne(){return{enter:{gfmFootnoteCallString:Qte,gfmFootnoteCall:Vte,gfmFootnoteDefinitionLabelString:Kte,gfmFootnoteDefinition:Gte},exit:{gfmFootnoteCallString:Yte,gfmFootnoteCall:Xte,gfmFootnoteDefinitionLabelString:Jte,gfmFootnoteDefinition:Zte}}}function nne(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:n,footnoteReference:Kj},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,i,s,o){const a=s.createTracker(o);let l=a.move("[^");const u=s.enter("footnoteDefinition"),f=s.enter("label");return l+=a.move(s.safe(s.associationId(r),{before:l,after:"]"})),f(),l+=a.move("]:"),r.children&&r.children.length>0&&(a.shift(4),l+=a.move((t?`
`:" ")+s.indentLines(s.containerFlow(r,a.current()),t?Gj:rne))),u(),l}}function rne(e,t,n){return t===0?e:Gj(e,t,n)}function Gj(e,t,n){return(n?"":"    ")+e}const ine=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];Yj.peek=cne;function sne(){return{canContainEols:["delete"],enter:{strikethrough:ane},exit:{strikethrough:lne}}}function one(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:ine}],handlers:{delete:Yj}}}function ane(e){this.enter({type:"delete",children:[]},e)}function lne(e){this.exit(e)}function Yj(e,t,n,r){const i=n.createTracker(r),s=n.enter("strikethrough");let o=i.move("~~");return o+=n.containerPhrasing(e,{...i.current(),before:o,after:"~"}),o+=i.move("~~"),s(),o}function cne(){return"~"}function une(e){return e.length}function dne(e,t){const n=t||{},r=(n.align||[]).concat(),i=n.stringLength||une,s=[],o=[],a=[],l=[];let u=0,f=-1;for(;++f<e.length;){const _=[],E=[];let C=-1;for(e[f].length>u&&(u=e[f].length);++C<e[f].length;){const P=fne(e[f][C]);if(n.alignDelimiters!==!1){const O=i(P);E[C]=O,(l[C]===void 0||O>l[C])&&(l[C]=O)}_.push(P)}o[f]=_,a[f]=E}let h=-1;if(typeof r=="object"&&"length"in r)for(;++h<u;)s[h]=vk(r[h]);else{const _=vk(r);for(;++h<u;)s[h]=_}h=-1;const g=[],y=[];for(;++h<u;){const _=s[h];let E="",C="";_===99?(E=":",C=":"):_===108?E=":":_===114&&(C=":");let P=n.alignDelimiters===!1?1:Math.max(1,l[h]-E.length-C.length);const O=E+"-".repeat(P)+C;n.alignDelimiters!==!1&&(P=E.length+P+C.length,P>l[h]&&(l[h]=P),y[h]=P),g[h]=O}o.splice(1,0,g),a.splice(1,0,y),f=-1;const b=[];for(;++f<o.length;){const _=o[f],E=a[f];h=-1;const C=[];for(;++h<u;){const P=_[h]||"";let O="",z="";if(n.alignDelimiters!==!1){const B=l[h]-(E[h]||0),j=s[h];j===114?O=" ".repeat(B):j===99?B%2?(O=" ".repeat(B/2+.5),z=" ".repeat(B/2-.5)):(O=" ".repeat(B/2),z=O):z=" ".repeat(B)}n.delimiterStart!==!1&&!h&&C.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&P==="")&&(n.delimiterStart!==!1||h)&&C.push(" "),n.alignDelimiters!==!1&&C.push(O),C.push(P),n.alignDelimiters!==!1&&C.push(z),n.padding!==!1&&C.push(" "),(n.delimiterEnd!==!1||h!==u-1)&&C.push("|")}b.push(n.delimiterEnd===!1?C.join("").replace(/ +$/,""):C.join(""))}return b.join(`
`)}function fne(e){return e==null?"":String(e)}function vk(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}function hne(e,t,n,r){const i=n.enter("blockquote"),s=n.createTracker(r);s.move("> "),s.shift(2);const o=n.indentLines(n.containerFlow(e,s.current()),pne);return i(),o}function pne(e,t,n){return">"+(n?"":" ")+e}function mne(e,t){return xk(e,t.inConstruct,!0)&&!xk(e,t.notInConstruct,!1)}function xk(e,t,n){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return n;let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function bk(e,t,n,r){let i=-1;for(;++i<n.unsafe.length;)if(n.unsafe[i].character===`
`&&mne(n.stack,n.unsafe[i]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function gne(e,t){const n=String(e);let r=n.indexOf(t),i=r,s=0,o=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===i?++s>o&&(o=s):s=1,i=r+t.length,r=n.indexOf(t,i);return o}function yne(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function vne(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function xne(e,t,n,r){const i=vne(n),s=e.value||"",o=i==="`"?"GraveAccent":"Tilde";if(yne(e,n)){const h=n.enter("codeIndented"),g=n.indentLines(s,bne);return h(),g}const a=n.createTracker(r),l=i.repeat(Math.max(gne(s,i)+1,3)),u=n.enter("codeFenced");let f=a.move(l);if(e.lang){const h=n.enter(`codeFencedLang${o}`);f+=a.move(n.safe(e.lang,{before:f,after:" ",encode:["`"],...a.current()})),h()}if(e.lang&&e.meta){const h=n.enter(`codeFencedMeta${o}`);f+=a.move(" "),f+=a.move(n.safe(e.meta,{before:f,after:`
`,encode:["`"],...a.current()})),h()}return f+=a.move(`
`),s&&(f+=a.move(s+`
`)),f+=a.move(l),u(),f}function bne(e,t,n){return(n?"":"    ")+e}function m_(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function wne(e,t,n,r){const i=m_(n),s=i==='"'?"Quote":"Apostrophe",o=n.enter("definition");let a=n.enter("label");const l=n.createTracker(r);let u=l.move("[");return u+=l.move(n.safe(n.associationId(e),{before:u,after:"]",...l.current()})),u+=l.move("]: "),a(),!e.url||/[\0- \u007F]/.test(e.url)?(a=n.enter("destinationLiteral"),u+=l.move("<"),u+=l.move(n.safe(e.url,{before:u,after:">",...l.current()})),u+=l.move(">")):(a=n.enter("destinationRaw"),u+=l.move(n.safe(e.url,{before:u,after:e.title?" ":`
`,...l.current()}))),a(),e.title&&(a=n.enter(`title${s}`),u+=l.move(" "+i),u+=l.move(n.safe(e.title,{before:u,after:i,...l.current()})),u+=l.move(i),a()),o(),u}function _ne(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function Rh(e){return"&#x"+e.toString(16).toUpperCase()+";"}function bd(e){if(e===null||Sn(e)||Tc(e))return 1;if(O1(e))return 2}function M0(e,t,n){const r=bd(e),i=bd(t);return r===void 0?i===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}Xj.peek=Sne;function Xj(e,t,n,r){const i=_ne(n),s=n.enter("emphasis"),o=n.createTracker(r),a=o.move(i);let l=o.move(n.containerPhrasing(e,{after:i,before:a,...o.current()}));const u=l.charCodeAt(0),f=M0(r.before.charCodeAt(r.before.length-1),u,i);f.inside&&(l=Rh(u)+l.slice(1));const h=l.charCodeAt(l.length-1),g=M0(r.after.charCodeAt(0),h,i);g.inside&&(l=l.slice(0,-1)+Rh(h));const y=o.move(i);return s(),n.attentionEncodeSurroundingInfo={after:g.outside,before:f.outside},a+l+y}function Sne(e,t,n){return n.options.emphasis||"*"}function g_(e,t,n,r){let i,s,o;typeof t=="function"&&typeof n!="function"?(s=void 0,o=t,i=n):(s=t,o=n,i=r),Qj(e,s,a,i);function a(l,u){const f=u[u.length-1],h=f?f.children.indexOf(l):void 0;return o(l,h,f)}}const Ene={};function y_(e,t){const n=Ene,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return Jj(e,r,i)}function Jj(e,t,n){if(kne(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return wk(e.children,t,n)}return Array.isArray(e)?wk(e,t,n):""}function wk(e,t,n){const r=[];let i=-1;for(;++i<e.length;)r[i]=Jj(e[i],t,n);return r.join("")}function kne(e){return!!(e&&typeof e=="object")}function Cne(e,t){let n=!1;return g_(e,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,f2}),!!((!e.depth||e.depth<3)&&y_(e)&&(t.options.setext||n))}function Tne(e,t,n,r){const i=Math.max(Math.min(6,e.depth||1),1),s=n.createTracker(r);if(Cne(e,n)){const f=n.enter("headingSetext"),h=n.enter("phrasing"),g=n.containerPhrasing(e,{...s.current(),before:`
`,after:`
`});return h(),f(),g+`
`+(i===1?"=":"-").repeat(g.length-(Math.max(g.lastIndexOf("\r"),g.lastIndexOf(`
`))+1))}const o="#".repeat(i),a=n.enter("headingAtx"),l=n.enter("phrasing");s.move(o+" ");let u=n.containerPhrasing(e,{before:"# ",after:`
`,...s.current()});return/^[\t ]/.test(u)&&(u=Rh(u.charCodeAt(0))+u.slice(1)),u=u?o+" "+u:o,n.options.closeAtx&&(u+=" "+o),l(),a(),u}Zj.peek=jne;function Zj(e){return e.value||""}function jne(){return"<"}eN.peek=Nne;function eN(e,t,n,r){const i=m_(n),s=i==='"'?"Quote":"Apostrophe",o=n.enter("image");let a=n.enter("label");const l=n.createTracker(r);let u=l.move("![");return u+=l.move(n.safe(e.alt,{before:u,after:"]",...l.current()})),u+=l.move("]("),a(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(a=n.enter("destinationLiteral"),u+=l.move("<"),u+=l.move(n.safe(e.url,{before:u,after:">",...l.current()})),u+=l.move(">")):(a=n.enter("destinationRaw"),u+=l.move(n.safe(e.url,{before:u,after:e.title?" ":")",...l.current()}))),a(),e.title&&(a=n.enter(`title${s}`),u+=l.move(" "+i),u+=l.move(n.safe(e.title,{before:u,after:i,...l.current()})),u+=l.move(i),a()),u+=l.move(")"),o(),u}function Nne(){return"!"}tN.peek=Ine;function tN(e,t,n,r){const i=e.referenceType,s=n.enter("imageReference");let o=n.enter("label");const a=n.createTracker(r);let l=a.move("![");const u=n.safe(e.alt,{before:l,after:"]",...a.current()});l+=a.move(u+"]["),o();const f=n.stack;n.stack=[],o=n.enter("reference");const h=n.safe(n.associationId(e),{before:l,after:"]",...a.current()});return o(),n.stack=f,s(),i==="full"||!u||u!==h?l+=a.move(h+"]"):i==="shortcut"?l=l.slice(0,-1):l+=a.move("]"),l}function Ine(){return"!"}nN.peek=Pne;function nN(e,t,n){let r=e.value||"",i="`",s=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++s<n.unsafe.length;){const o=n.unsafe[s],a=n.compilePattern(o);let l;if(o.atBreak)for(;l=a.exec(r);){let u=l.index;r.charCodeAt(u)===10&&r.charCodeAt(u-1)===13&&u--,r=r.slice(0,u)+" "+r.slice(l.index+1)}}return i+r+i}function Pne(){return"`"}function rN(e,t){const n=y_(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}iN.peek=Rne;function iN(e,t,n,r){const i=m_(n),s=i==='"'?"Quote":"Apostrophe",o=n.createTracker(r);let a,l;if(rN(e,n)){const f=n.stack;n.stack=[],a=n.enter("autolink");let h=o.move("<");return h+=o.move(n.containerPhrasing(e,{before:h,after:">",...o.current()})),h+=o.move(">"),a(),n.stack=f,h}a=n.enter("link"),l=n.enter("label");let u=o.move("[");return u+=o.move(n.containerPhrasing(e,{before:u,after:"](",...o.current()})),u+=o.move("]("),l(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(l=n.enter("destinationLiteral"),u+=o.move("<"),u+=o.move(n.safe(e.url,{before:u,after:">",...o.current()})),u+=o.move(">")):(l=n.enter("destinationRaw"),u+=o.move(n.safe(e.url,{before:u,after:e.title?" ":")",...o.current()}))),l(),e.title&&(l=n.enter(`title${s}`),u+=o.move(" "+i),u+=o.move(n.safe(e.title,{before:u,after:i,...o.current()})),u+=o.move(i),l()),u+=o.move(")"),a(),u}function Rne(e,t,n){return rN(e,n)?"<":"["}sN.peek=One;function sN(e,t,n,r){const i=e.referenceType,s=n.enter("linkReference");let o=n.enter("label");const a=n.createTracker(r);let l=a.move("[");const u=n.containerPhrasing(e,{before:l,after:"]",...a.current()});l+=a.move(u+"]["),o();const f=n.stack;n.stack=[],o=n.enter("reference");const h=n.safe(n.associationId(e),{before:l,after:"]",...a.current()});return o(),n.stack=f,s(),i==="full"||!u||u!==h?l+=a.move(h+"]"):i==="shortcut"?l=l.slice(0,-1):l+=a.move("]"),l}function One(){return"["}function v_(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function Ane(e){const t=v_(e),n=e.options.bulletOther;if(!n)return t==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}function Mne(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function oN(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function Dne(e,t,n,r){const i=n.enter("list"),s=n.bulletCurrent;let o=e.ordered?Mne(n):v_(n);const a=e.ordered?o==="."?")":".":Ane(n);let l=t&&n.bulletLastUsed?o===n.bulletLastUsed:!1;if(!e.ordered){const f=e.children?e.children[0]:void 0;if((o==="*"||o==="-")&&f&&(!f.children||!f.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(l=!0),oN(n)===o&&f){let h=-1;for(;++h<e.children.length;){const g=e.children[h];if(g&&g.type==="listItem"&&g.children&&g.children[0]&&g.children[0].type==="thematicBreak"){l=!0;break}}}}l&&(o=a),n.bulletCurrent=o;const u=n.containerFlow(e,r);return n.bulletLastUsed=o,n.bulletCurrent=s,i(),u}function Lne(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function Fne(e,t,n,r){const i=Lne(n);let s=n.bulletCurrent||v_(n);t&&t.type==="list"&&t.ordered&&(s=(typeof t.start=="number"&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+s);let o=s.length+1;(i==="tab"||i==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(o=Math.ceil(o/4)*4);const a=n.createTracker(r);a.move(s+" ".repeat(o-s.length)),a.shift(o);const l=n.enter("listItem"),u=n.indentLines(n.containerFlow(e,a.current()),f);return l(),u;function f(h,g,y){return g?(y?"":" ".repeat(o))+h:(y?s:s+" ".repeat(o-s.length))+h}}function Bne(e,t,n,r){const i=n.enter("paragraph"),s=n.enter("phrasing"),o=n.containerPhrasing(e,r);return s(),i(),o}const zne=A1(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function $ne(e,t,n,r){return(e.children.some(function(o){return zne(o)})?n.containerPhrasing:n.containerFlow).call(n,e,r)}function Une(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}aN.peek=Hne;function aN(e,t,n,r){const i=Une(n),s=n.enter("strong"),o=n.createTracker(r),a=o.move(i+i);let l=o.move(n.containerPhrasing(e,{after:i,before:a,...o.current()}));const u=l.charCodeAt(0),f=M0(r.before.charCodeAt(r.before.length-1),u,i);f.inside&&(l=Rh(u)+l.slice(1));const h=l.charCodeAt(l.length-1),g=M0(r.after.charCodeAt(0),h,i);g.inside&&(l=l.slice(0,-1)+Rh(h));const y=o.move(i+i);return s(),n.attentionEncodeSurroundingInfo={after:g.outside,before:f.outside},a+l+y}function Hne(e,t,n){return n.options.strong||"*"}function Wne(e,t,n,r){return n.safe(e.value,r)}function qne(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function Qne(e,t,n){const r=(oN(n)+(n.options.ruleSpaces?" ":"")).repeat(qne(n));return n.options.ruleSpaces?r.slice(0,-1):r}const lN={blockquote:hne,break:bk,code:xne,definition:wne,emphasis:Xj,hardBreak:bk,heading:Tne,html:Zj,image:eN,imageReference:tN,inlineCode:nN,link:iN,linkReference:sN,list:Dne,listItem:Fne,paragraph:Bne,root:$ne,strong:aN,text:Wne,thematicBreak:Qne},_k=document.createElement("i");function x_(e){const t="&"+e+";";_k.innerHTML=t;const n=_k.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function cN(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"�":String.fromCodePoint(n)}const Vne=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function Kne(e){return e.replace(Vne,Gne)}function Gne(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),s=i===120||i===88;return cN(n.slice(s?2:1),s?16:10)}return x_(n)||e}function Yne(){return{enter:{table:Xne,tableData:Sk,tableHeader:Sk,tableRow:Zne},exit:{codeText:ere,table:Jne,tableData:Ex,tableHeader:Ex,tableRow:Ex}}}function Xne(e){const t=e._align;this.enter({type:"table",align:t.map(function(n){return n==="none"?null:n}),children:[]},e),this.data.inTable=!0}function Jne(e){this.exit(e),this.data.inTable=void 0}function Zne(e){this.enter({type:"tableRow",children:[]},e)}function Ex(e){this.exit(e)}function Sk(e){this.enter({type:"tableCell",children:[]},e)}function ere(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,tre));const n=this.stack[this.stack.length-1];n.type,n.value=t,this.exit(e)}function tre(e,t){return t==="|"?t:e}function nre(e){const t=e||{},n=t.tableCellPadding,r=t.tablePipeAlign,i=t.stringLength,s=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:g,table:o,tableCell:l,tableRow:a}};function o(y,b,_,E){return u(f(y,_,E),y.align)}function a(y,b,_,E){const C=h(y,_,E),P=u([C]);return P.slice(0,P.indexOf(`
`))}function l(y,b,_,E){const C=_.enter("tableCell"),P=_.enter("phrasing"),O=_.containerPhrasing(y,{...E,before:s,after:s});return P(),C(),O}function u(y,b){return dne(y,{align:b,alignDelimiters:r,padding:n,stringLength:i})}function f(y,b,_){const E=y.children;let C=-1;const P=[],O=b.enter("table");for(;++C<E.length;)P[C]=h(E[C],b,_);return O(),P}function h(y,b,_){const E=y.children;let C=-1;const P=[],O=b.enter("tableRow");for(;++C<E.length;)P[C]=l(E[C],y,b,_);return O(),P}function g(y,b,_){let E=lN.inlineCode(y,b,_);return _.stack.includes("tableCell")&&(E=E.replace(/\|/g,"\\$&")),E}}function rre(){return{exit:{taskListCheckValueChecked:Ek,taskListCheckValueUnchecked:Ek,paragraph:sre}}}function ire(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:ore}}}function Ek(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function sre(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const i=t.children;let s=-1,o;for(;++s<i.length;){const a=i[s];if(a.type==="paragraph"){o=a;break}}o===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(e)}function ore(e,t,n,r){const i=e.children[0],s=typeof e.checked=="boolean"&&i&&i.type==="paragraph",o="["+(e.checked?"x":" ")+"] ",a=n.createTracker(r);s&&a.move(o);let l=lN.listItem(e,t,n,{...r,...a.current()});return s&&(l=l.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,u)),l;function u(f){return f+o}}function are(){return[Ate(),tne(),sne(),Yne(),rre()]}function lre(e){return{extensions:[Mte(),nne(e),one(),nre(e),ire()]}}function Vi(e,t,n,r){const i=e.length;let s=0,o;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(t,n),e.splice(...o);else for(n&&e.splice(t,n);s<r.length;)o=r.slice(s,s+1e4),o.unshift(t,0),e.splice(...o),s+=1e4,t+=1e4}function fs(e,t){return e.length>0?(Vi(e,e.length,0,t),e):t}const kk={}.hasOwnProperty;function uN(e){const t={};let n=-1;for(;++n<e.length;)cre(t,e[n]);return t}function cre(e,t){let n;for(n in t){const i=(kk.call(e,n)?e[n]:void 0)||(e[n]={}),s=t[n];let o;if(s)for(o in s){kk.call(i,o)||(i[o]=[]);const a=s[o];ure(i[o],Array.isArray(a)?a:a?[a]:[])}}}function ure(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);Vi(e,0,0,r)}const dre={tokenize:yre,partial:!0},dN={tokenize:vre,partial:!0},fN={tokenize:xre,partial:!0},hN={tokenize:bre,partial:!0},fre={tokenize:wre,partial:!0},pN={name:"wwwAutolink",tokenize:mre,previous:gN},mN={name:"protocolAutolink",tokenize:gre,previous:yN},aa={name:"emailAutolink",tokenize:pre,previous:vN},ho={};function hre(){return{text:ho}}let Jl=48;for(;Jl<123;)ho[Jl]=aa,Jl++,Jl===58?Jl=65:Jl===91&&(Jl=97);ho[43]=aa;ho[45]=aa;ho[46]=aa;ho[95]=aa;ho[72]=[aa,mN];ho[104]=[aa,mN];ho[87]=[aa,pN];ho[119]=[aa,pN];function pre(e,t,n){const r=this;let i,s;return o;function o(h){return!h2(h)||!vN.call(r,r.previous)||b_(r.events)?n(h):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),a(h))}function a(h){return h2(h)?(e.consume(h),a):h===64?(e.consume(h),l):n(h)}function l(h){return h===46?e.check(fre,f,u)(h):h===45||h===95||qr(h)?(s=!0,e.consume(h),l):f(h)}function u(h){return e.consume(h),i=!0,l}function f(h){return s&&i&&oi(r.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(h)):n(h)}}function mre(e,t,n){const r=this;return i;function i(o){return o!==87&&o!==119||!gN.call(r,r.previous)||b_(r.events)?n(o):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(dre,e.attempt(dN,e.attempt(fN,s),n),n)(o))}function s(o){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(o)}}function gre(e,t,n){const r=this;let i="",s=!1;return o;function o(h){return(h===72||h===104)&&yN.call(r,r.previous)&&!b_(r.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),i+=String.fromCodePoint(h),e.consume(h),a):n(h)}function a(h){if(oi(h)&&i.length<5)return i+=String.fromCodePoint(h),e.consume(h),a;if(h===58){const g=i.toLowerCase();if(g==="http"||g==="https")return e.consume(h),l}return n(h)}function l(h){return h===47?(e.consume(h),s?u:(s=!0,l)):n(h)}function u(h){return h===null||A0(h)||Sn(h)||Tc(h)||O1(h)?n(h):e.attempt(dN,e.attempt(fN,f),n)(h)}function f(h){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(h)}}function yre(e,t,n){let r=0;return i;function i(o){return(o===87||o===119)&&r<3?(r++,e.consume(o),i):o===46&&r===3?(e.consume(o),s):n(o)}function s(o){return o===null?n(o):t(o)}}function vre(e,t,n){let r,i,s;return o;function o(u){return u===46||u===95?e.check(hN,l,a)(u):u===null||Sn(u)||Tc(u)||u!==45&&O1(u)?l(u):(s=!0,e.consume(u),o)}function a(u){return u===95?r=!0:(i=r,r=void 0),e.consume(u),o}function l(u){return i||r||!s?n(u):t(u)}}function xre(e,t){let n=0,r=0;return i;function i(o){return o===40?(n++,e.consume(o),i):o===41&&r<n?s(o):o===33||o===34||o===38||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===60||o===63||o===93||o===95||o===126?e.check(hN,t,s)(o):o===null||Sn(o)||Tc(o)?t(o):(e.consume(o),i)}function s(o){return o===41&&r++,e.consume(o),i}}function bre(e,t,n){return r;function r(a){return a===33||a===34||a===39||a===41||a===42||a===44||a===46||a===58||a===59||a===63||a===95||a===126?(e.consume(a),r):a===38?(e.consume(a),s):a===93?(e.consume(a),i):a===60||a===null||Sn(a)||Tc(a)?t(a):n(a)}function i(a){return a===null||a===40||a===91||Sn(a)||Tc(a)?t(a):r(a)}function s(a){return oi(a)?o(a):n(a)}function o(a){return a===59?(e.consume(a),r):oi(a)?(e.consume(a),o):n(a)}}function wre(e,t,n){return r;function r(s){return e.consume(s),i}function i(s){return qr(s)?n(s):t(s)}}function gN(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||Sn(e)}function yN(e){return!oi(e)}function vN(e){return!(e===47||h2(e))}function h2(e){return e===43||e===45||e===46||e===95||qr(e)}function b_(e){let t=e.length,n=!1;for(;t--;){const r=e[t][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}function Ld(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const s=e.charCodeAt(n);let o="";if(s===37&&qr(e.charCodeAt(n+1))&&qr(e.charCodeAt(n+2)))i=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(o=String.fromCharCode(s));else if(s>55295&&s<57344){const a=e.charCodeAt(n+1);s<56320&&a>56319&&a<57344?(o=String.fromCharCode(s,a),i=1):o="�"}else o=String.fromCharCode(s);o&&(t.push(e.slice(r,n),encodeURIComponent(o)),r=n+i+1,o=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function D1(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const s=e[i].resolveAll;s&&!r.includes(s)&&(t=s(t,n),r.push(s))}return t}const p2={name:"attention",resolveAll:_re,tokenize:Sre};function _re(e,t){let n=-1,r,i,s,o,a,l,u,f;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;l=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const h={...e[r][1].end},g={...e[n][1].start};Ck(h,-l),Ck(g,l),o={type:l>1?"strongSequence":"emphasisSequence",start:h,end:{...e[r][1].end}},a={type:l>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:g},s={type:l>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},i={type:l>1?"strong":"emphasis",start:{...o.start},end:{...a.end}},e[r][1].end={...o.start},e[n][1].start={...a.end},u=[],e[r][1].end.offset-e[r][1].start.offset&&(u=fs(u,[["enter",e[r][1],t],["exit",e[r][1],t]])),u=fs(u,[["enter",i,t],["enter",o,t],["exit",o,t],["enter",s,t]]),u=fs(u,D1(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),u=fs(u,[["exit",s,t],["enter",a,t],["exit",a,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(f=2,u=fs(u,[["enter",e[n][1],t],["exit",e[n][1],t]])):f=0,Vi(e,r-1,n-r+3,u),n=r+u.length-f-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function Sre(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=bd(r);let s;return o;function o(l){return s=l,e.enter("attentionSequence"),a(l)}function a(l){if(l===s)return e.consume(l),a;const u=e.exit("attentionSequence"),f=bd(l),h=!f||f===2&&i||n.includes(l),g=!i||i===2&&f||n.includes(r);return u._open=!!(s===42?h:h&&(i||!g)),u._close=!!(s===42?g:g&&(f||!h)),t(l)}}function Ck(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const Ere={name:"autolink",tokenize:kre};function kre(e,t,n){let r=0;return i;function i(y){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(y),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),s}function s(y){return oi(y)?(e.consume(y),o):y===64?n(y):u(y)}function o(y){return y===43||y===45||y===46||qr(y)?(r=1,a(y)):u(y)}function a(y){return y===58?(e.consume(y),r=0,l):(y===43||y===45||y===46||qr(y))&&r++<32?(e.consume(y),a):(r=0,u(y))}function l(y){return y===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(y),e.exit("autolinkMarker"),e.exit("autolink"),t):y===null||y===32||y===60||A0(y)?n(y):(e.consume(y),l)}function u(y){return y===64?(e.consume(y),f):vte(y)?(e.consume(y),u):n(y)}function f(y){return qr(y)?h(y):n(y)}function h(y){return y===46?(e.consume(y),r=0,f):y===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(y),e.exit("autolinkMarker"),e.exit("autolink"),t):g(y)}function g(y){if((y===45||qr(y))&&r++<63){const b=y===45?g:h;return e.consume(y),b}return n(y)}}function rn(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let s=0;return o;function o(l){return Kt(l)?(e.enter(n),a(l)):t(l)}function a(l){return Kt(l)&&s++<i?(e.consume(l),a):(e.exit(n),t(l))}}const mp={partial:!0,tokenize:Cre};function Cre(e,t,n){return r;function r(s){return Kt(s)?rn(e,i,"linePrefix")(s):i(s)}function i(s){return s===null||ht(s)?t(s):n(s)}}const xN={continuation:{tokenize:jre},exit:Nre,name:"blockQuote",tokenize:Tre};function Tre(e,t,n){const r=this;return i;function i(o){if(o===62){const a=r.containerState;return a.open||(e.enter("blockQuote",{_container:!0}),a.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(o),e.exit("blockQuoteMarker"),s}return n(o)}function s(o){return Kt(o)?(e.enter("blockQuotePrefixWhitespace"),e.consume(o),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(o))}}function jre(e,t,n){const r=this;return i;function i(o){return Kt(o)?rn(e,s,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):s(o)}function s(o){return e.attempt(xN,t,n)(o)}}function Nre(e){e.exit("blockQuote")}const bN={name:"characterEscape",tokenize:Ire};function Ire(e,t,n){return r;function r(s){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(s),e.exit("escapeMarker"),i}function i(s){return bte(s)?(e.enter("characterEscapeValue"),e.consume(s),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(s)}}const wN={name:"characterReference",tokenize:Pre};function Pre(e,t,n){const r=this;let i=0,s,o;return a;function a(h){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(h),e.exit("characterReferenceMarker"),l}function l(h){return h===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(h),e.exit("characterReferenceMarkerNumeric"),u):(e.enter("characterReferenceValue"),s=31,o=qr,f(h))}function u(h){return h===88||h===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(h),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),s=6,o=xte,f):(e.enter("characterReferenceValue"),s=7,o=d2,f(h))}function f(h){if(h===59&&i){const g=e.exit("characterReferenceValue");return o===qr&&!x_(r.sliceSerialize(g))?n(h):(e.enter("characterReferenceMarker"),e.consume(h),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return o(h)&&i++<s?(e.consume(h),f):n(h)}}const Tk={partial:!0,tokenize:Ore},jk={concrete:!0,name:"codeFenced",tokenize:Rre};function Rre(e,t,n){const r=this,i={partial:!0,tokenize:B};let s=0,o=0,a;return l;function l(j){return u(j)}function u(j){const M=r.events[r.events.length-1];return s=M&&M[1].type==="linePrefix"?M[2].sliceSerialize(M[1],!0).length:0,a=j,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),f(j)}function f(j){return j===a?(o++,e.consume(j),f):o<3?n(j):(e.exit("codeFencedFenceSequence"),Kt(j)?rn(e,h,"whitespace")(j):h(j))}function h(j){return j===null||ht(j)?(e.exit("codeFencedFence"),r.interrupt?t(j):e.check(Tk,_,z)(j)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),g(j))}function g(j){return j===null||ht(j)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),h(j)):Kt(j)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),rn(e,y,"whitespace")(j)):j===96&&j===a?n(j):(e.consume(j),g)}function y(j){return j===null||ht(j)?h(j):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),b(j))}function b(j){return j===null||ht(j)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),h(j)):j===96&&j===a?n(j):(e.consume(j),b)}function _(j){return e.attempt(i,z,E)(j)}function E(j){return e.enter("lineEnding"),e.consume(j),e.exit("lineEnding"),C}function C(j){return s>0&&Kt(j)?rn(e,P,"linePrefix",s+1)(j):P(j)}function P(j){return j===null||ht(j)?e.check(Tk,_,z)(j):(e.enter("codeFlowValue"),O(j))}function O(j){return j===null||ht(j)?(e.exit("codeFlowValue"),P(j)):(e.consume(j),O)}function z(j){return e.exit("codeFenced"),t(j)}function B(j,M,U){let $=0;return D;function D(q){return j.enter("lineEnding"),j.consume(q),j.exit("lineEnding"),ee}function ee(q){return j.enter("codeFencedFence"),Kt(q)?rn(j,X,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(q):X(q)}function X(q){return q===a?(j.enter("codeFencedFenceSequence"),re(q)):U(q)}function re(q){return q===a?($++,j.consume(q),re):$>=o?(j.exit("codeFencedFenceSequence"),Kt(q)?rn(j,Q,"whitespace")(q):Q(q)):U(q)}function Q(q){return q===null||ht(q)?(j.exit("codeFencedFence"),M(q)):U(q)}}}function Ore(e,t,n){const r=this;return i;function i(o){return o===null?n(o):(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),s)}function s(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}const kx={name:"codeIndented",tokenize:Mre},Are={partial:!0,tokenize:Dre};function Mre(e,t,n){const r=this;return i;function i(u){return e.enter("codeIndented"),rn(e,s,"linePrefix",5)(u)}function s(u){const f=r.events[r.events.length-1];return f&&f[1].type==="linePrefix"&&f[2].sliceSerialize(f[1],!0).length>=4?o(u):n(u)}function o(u){return u===null?l(u):ht(u)?e.attempt(Are,o,l)(u):(e.enter("codeFlowValue"),a(u))}function a(u){return u===null||ht(u)?(e.exit("codeFlowValue"),o(u)):(e.consume(u),a)}function l(u){return e.exit("codeIndented"),t(u)}}function Dre(e,t,n){const r=this;return i;function i(o){return r.parser.lazy[r.now().line]?n(o):ht(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),i):rn(e,s,"linePrefix",5)(o)}function s(o){const a=r.events[r.events.length-1];return a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?t(o):ht(o)?i(o):n(o)}}const Lre={name:"codeText",previous:Bre,resolve:Fre,tokenize:zre};function Fre(e){let t=e.length-4,n=3,r,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(i=r):(r===t||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function Bre(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function zre(e,t,n){let r=0,i,s;return o;function o(h){return e.enter("codeText"),e.enter("codeTextSequence"),a(h)}function a(h){return h===96?(e.consume(h),r++,a):(e.exit("codeTextSequence"),l(h))}function l(h){return h===null?n(h):h===32?(e.enter("space"),e.consume(h),e.exit("space"),l):h===96?(s=e.enter("codeTextSequence"),i=0,f(h)):ht(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),l):(e.enter("codeTextData"),u(h))}function u(h){return h===null||h===32||h===96||ht(h)?(e.exit("codeTextData"),l(h)):(e.consume(h),u)}function f(h){return h===96?(e.consume(h),i++,f):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(h)):(s.type="codeTextData",u(h))}}class $re{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const i=n||0;this.setCursor(Math.trunc(t));const s=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&Af(this.left,r),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),Af(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),Af(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);Af(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);Af(this.left,n.reverse())}}}function Af(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function _N(e){const t={};let n=-1,r,i,s,o,a,l,u;const f=new $re(e);for(;++n<f.length;){for(;n in t;)n=t[n];if(r=f.get(n),n&&r[1].type==="chunkFlow"&&f.get(n-1)[1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,s=0,s<l.length&&l[s][1].type==="lineEndingBlank"&&(s+=2),s<l.length&&l[s][1].type==="content"))for(;++s<l.length&&l[s][1].type!=="content";)l[s][1].type==="chunkText"&&(l[s][1]._isInFirstContentOfListItem=!0,s++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,Ure(f,n)),n=t[n],u=!0);else if(r[1]._container){for(s=n,i=void 0;s--;)if(o=f.get(s),o[1].type==="lineEnding"||o[1].type==="lineEndingBlank")o[0]==="enter"&&(i&&(f.get(i)[1].type="lineEndingBlank"),o[1].type="lineEnding",i=s);else if(!(o[1].type==="linePrefix"||o[1].type==="listItemIndent"))break;i&&(r[1].end={...f.get(i)[1].start},a=f.slice(i,n),a.unshift(r),f.splice(i,n-i+1,a))}}return Vi(e,0,Number.POSITIVE_INFINITY,f.slice(0)),!u}function Ure(e,t){const n=e.get(t)[1],r=e.get(t)[2];let i=t-1;const s=[];let o=n._tokenizer;o||(o=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(o._contentTypeTextTrailing=!0));const a=o.events,l=[],u={};let f,h,g=-1,y=n,b=0,_=0;const E=[_];for(;y;){for(;e.get(++i)[1]!==y;);s.push(i),y._tokenizer||(f=r.sliceStream(y),y.next||f.push(null),h&&o.defineSkip(y.start),y._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(f),y._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),h=y,y=y.next}for(y=n;++g<a.length;)a[g][0]==="exit"&&a[g-1][0]==="enter"&&a[g][1].type===a[g-1][1].type&&a[g][1].start.line!==a[g][1].end.line&&(_=g+1,E.push(_),y._tokenizer=void 0,y.previous=void 0,y=y.next);for(o.events=[],y?(y._tokenizer=void 0,y.previous=void 0):E.pop(),g=E.length;g--;){const C=a.slice(E[g],E[g+1]),P=s.pop();l.push([P,P+C.length-1]),e.splice(P,2,C)}for(l.reverse(),g=-1;++g<l.length;)u[b+l[g][0]]=b+l[g][1],b+=l[g][1]-l[g][0]-1;return u}const Hre={resolve:qre,tokenize:Qre},Wre={partial:!0,tokenize:Vre};function qre(e){return _N(e),e}function Qre(e,t){let n;return r;function r(a){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(a)}function i(a){return a===null?s(a):ht(a)?e.check(Wre,o,s)(a):(e.consume(a),i)}function s(a){return e.exit("chunkContent"),e.exit("content"),t(a)}function o(a){return e.consume(a),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function Vre(e,t,n){const r=this;return i;function i(o){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),rn(e,s,"linePrefix")}function s(o){if(o===null||ht(o))return n(o);const a=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?t(o):e.interrupt(r.parser.constructs.flow,n,t)(o)}}function SN(e,t,n,r,i,s,o,a,l){const u=l||Number.POSITIVE_INFINITY;let f=0;return h;function h(C){return C===60?(e.enter(r),e.enter(i),e.enter(s),e.consume(C),e.exit(s),g):C===null||C===32||C===41||A0(C)?n(C):(e.enter(r),e.enter(o),e.enter(a),e.enter("chunkString",{contentType:"string"}),_(C))}function g(C){return C===62?(e.enter(s),e.consume(C),e.exit(s),e.exit(i),e.exit(r),t):(e.enter(a),e.enter("chunkString",{contentType:"string"}),y(C))}function y(C){return C===62?(e.exit("chunkString"),e.exit(a),g(C)):C===null||C===60||ht(C)?n(C):(e.consume(C),C===92?b:y)}function b(C){return C===60||C===62||C===92?(e.consume(C),y):y(C)}function _(C){return!f&&(C===null||C===41||Sn(C))?(e.exit("chunkString"),e.exit(a),e.exit(o),e.exit(r),t(C)):f<u&&C===40?(e.consume(C),f++,_):C===41?(e.consume(C),f--,_):C===null||C===32||C===40||A0(C)?n(C):(e.consume(C),C===92?E:_)}function E(C){return C===40||C===41||C===92?(e.consume(C),_):_(C)}}function EN(e,t,n,r,i,s){const o=this;let a=0,l;return u;function u(y){return e.enter(r),e.enter(i),e.consume(y),e.exit(i),e.enter(s),f}function f(y){return a>999||y===null||y===91||y===93&&!l||y===94&&!a&&"_hiddenFootnoteSupport"in o.parser.constructs?n(y):y===93?(e.exit(s),e.enter(i),e.consume(y),e.exit(i),e.exit(r),t):ht(y)?(e.enter("lineEnding"),e.consume(y),e.exit("lineEnding"),f):(e.enter("chunkString",{contentType:"string"}),h(y))}function h(y){return y===null||y===91||y===93||ht(y)||a++>999?(e.exit("chunkString"),f(y)):(e.consume(y),l||(l=!Kt(y)),y===92?g:h)}function g(y){return y===91||y===92||y===93?(e.consume(y),a++,h):h(y)}}function kN(e,t,n,r,i,s){let o;return a;function a(g){return g===34||g===39||g===40?(e.enter(r),e.enter(i),e.consume(g),e.exit(i),o=g===40?41:g,l):n(g)}function l(g){return g===o?(e.enter(i),e.consume(g),e.exit(i),e.exit(r),t):(e.enter(s),u(g))}function u(g){return g===o?(e.exit(s),l(o)):g===null?n(g):ht(g)?(e.enter("lineEnding"),e.consume(g),e.exit("lineEnding"),rn(e,u,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),f(g))}function f(g){return g===o||g===null||ht(g)?(e.exit("chunkString"),u(g)):(e.consume(g),g===92?h:f)}function h(g){return g===o||g===92?(e.consume(g),f):f(g)}}function lh(e,t){let n;return r;function r(i){return ht(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):Kt(i)?rn(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}const Kre={name:"definition",tokenize:Yre},Gre={partial:!0,tokenize:Xre};function Yre(e,t,n){const r=this;let i;return s;function s(y){return e.enter("definition"),o(y)}function o(y){return EN.call(r,e,a,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(y)}function a(y){return i=$s(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),y===58?(e.enter("definitionMarker"),e.consume(y),e.exit("definitionMarker"),l):n(y)}function l(y){return Sn(y)?lh(e,u)(y):u(y)}function u(y){return SN(e,f,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(y)}function f(y){return e.attempt(Gre,h,h)(y)}function h(y){return Kt(y)?rn(e,g,"whitespace")(y):g(y)}function g(y){return y===null||ht(y)?(e.exit("definition"),r.parser.defined.push(i),t(y)):n(y)}}function Xre(e,t,n){return r;function r(a){return Sn(a)?lh(e,i)(a):n(a)}function i(a){return kN(e,s,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(a)}function s(a){return Kt(a)?rn(e,o,"whitespace")(a):o(a)}function o(a){return a===null||ht(a)?t(a):n(a)}}const Jre={name:"hardBreakEscape",tokenize:Zre};function Zre(e,t,n){return r;function r(s){return e.enter("hardBreakEscape"),e.consume(s),i}function i(s){return ht(s)?(e.exit("hardBreakEscape"),t(s)):n(s)}}const eie={name:"headingAtx",resolve:tie,tokenize:nie};function tie(e,t){let n=e.length-2,r=3,i,s;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},s={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},Vi(e,r,n-r+1,[["enter",i,t],["enter",s,t],["exit",s,t],["exit",i,t]])),e}function nie(e,t,n){let r=0;return i;function i(f){return e.enter("atxHeading"),s(f)}function s(f){return e.enter("atxHeadingSequence"),o(f)}function o(f){return f===35&&r++<6?(e.consume(f),o):f===null||Sn(f)?(e.exit("atxHeadingSequence"),a(f)):n(f)}function a(f){return f===35?(e.enter("atxHeadingSequence"),l(f)):f===null||ht(f)?(e.exit("atxHeading"),t(f)):Kt(f)?rn(e,a,"whitespace")(f):(e.enter("atxHeadingText"),u(f))}function l(f){return f===35?(e.consume(f),l):(e.exit("atxHeadingSequence"),a(f))}function u(f){return f===null||f===35||Sn(f)?(e.exit("atxHeadingText"),a(f)):(e.consume(f),u)}}const rie=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Nk=["pre","script","style","textarea"],iie={concrete:!0,name:"htmlFlow",resolveTo:aie,tokenize:lie},sie={partial:!0,tokenize:uie},oie={partial:!0,tokenize:cie};function aie(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function lie(e,t,n){const r=this;let i,s,o,a,l;return u;function u(H){return f(H)}function f(H){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(H),h}function h(H){return H===33?(e.consume(H),g):H===47?(e.consume(H),s=!0,_):H===63?(e.consume(H),i=3,r.interrupt?t:F):oi(H)?(e.consume(H),o=String.fromCharCode(H),E):n(H)}function g(H){return H===45?(e.consume(H),i=2,y):H===91?(e.consume(H),i=5,a=0,b):oi(H)?(e.consume(H),i=4,r.interrupt?t:F):n(H)}function y(H){return H===45?(e.consume(H),r.interrupt?t:F):n(H)}function b(H){const Oe="CDATA[";return H===Oe.charCodeAt(a++)?(e.consume(H),a===Oe.length?r.interrupt?t:X:b):n(H)}function _(H){return oi(H)?(e.consume(H),o=String.fromCharCode(H),E):n(H)}function E(H){if(H===null||H===47||H===62||Sn(H)){const Oe=H===47,Ce=o.toLowerCase();return!Oe&&!s&&Nk.includes(Ce)?(i=1,r.interrupt?t(H):X(H)):rie.includes(o.toLowerCase())?(i=6,Oe?(e.consume(H),C):r.interrupt?t(H):X(H)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(H):s?P(H):O(H))}return H===45||qr(H)?(e.consume(H),o+=String.fromCharCode(H),E):n(H)}function C(H){return H===62?(e.consume(H),r.interrupt?t:X):n(H)}function P(H){return Kt(H)?(e.consume(H),P):D(H)}function O(H){return H===47?(e.consume(H),D):H===58||H===95||oi(H)?(e.consume(H),z):Kt(H)?(e.consume(H),O):D(H)}function z(H){return H===45||H===46||H===58||H===95||qr(H)?(e.consume(H),z):B(H)}function B(H){return H===61?(e.consume(H),j):Kt(H)?(e.consume(H),B):O(H)}function j(H){return H===null||H===60||H===61||H===62||H===96?n(H):H===34||H===39?(e.consume(H),l=H,M):Kt(H)?(e.consume(H),j):U(H)}function M(H){return H===l?(e.consume(H),l=null,$):H===null||ht(H)?n(H):(e.consume(H),M)}function U(H){return H===null||H===34||H===39||H===47||H===60||H===61||H===62||H===96||Sn(H)?B(H):(e.consume(H),U)}function $(H){return H===47||H===62||Kt(H)?O(H):n(H)}function D(H){return H===62?(e.consume(H),ee):n(H)}function ee(H){return H===null||ht(H)?X(H):Kt(H)?(e.consume(H),ee):n(H)}function X(H){return H===45&&i===2?(e.consume(H),V):H===60&&i===1?(e.consume(H),ne):H===62&&i===4?(e.consume(H),G):H===63&&i===3?(e.consume(H),F):H===93&&i===5?(e.consume(H),fe):ht(H)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(sie,ye,re)(H)):H===null||ht(H)?(e.exit("htmlFlowData"),re(H)):(e.consume(H),X)}function re(H){return e.check(oie,Q,ye)(H)}function Q(H){return e.enter("lineEnding"),e.consume(H),e.exit("lineEnding"),q}function q(H){return H===null||ht(H)?re(H):(e.enter("htmlFlowData"),X(H))}function V(H){return H===45?(e.consume(H),F):X(H)}function ne(H){return H===47?(e.consume(H),o="",Z):X(H)}function Z(H){if(H===62){const Oe=o.toLowerCase();return Nk.includes(Oe)?(e.consume(H),G):X(H)}return oi(H)&&o.length<8?(e.consume(H),o+=String.fromCharCode(H),Z):X(H)}function fe(H){return H===93?(e.consume(H),F):X(H)}function F(H){return H===62?(e.consume(H),G):H===45&&i===2?(e.consume(H),F):X(H)}function G(H){return H===null||ht(H)?(e.exit("htmlFlowData"),ye(H)):(e.consume(H),G)}function ye(H){return e.exit("htmlFlow"),t(H)}}function cie(e,t,n){const r=this;return i;function i(o){return ht(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),s):n(o)}function s(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}function uie(e,t,n){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(mp,t,n)}}const die={name:"htmlText",tokenize:fie};function fie(e,t,n){const r=this;let i,s,o;return a;function a(F){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(F),l}function l(F){return F===33?(e.consume(F),u):F===47?(e.consume(F),B):F===63?(e.consume(F),O):oi(F)?(e.consume(F),U):n(F)}function u(F){return F===45?(e.consume(F),f):F===91?(e.consume(F),s=0,b):oi(F)?(e.consume(F),P):n(F)}function f(F){return F===45?(e.consume(F),y):n(F)}function h(F){return F===null?n(F):F===45?(e.consume(F),g):ht(F)?(o=h,ne(F)):(e.consume(F),h)}function g(F){return F===45?(e.consume(F),y):h(F)}function y(F){return F===62?V(F):F===45?g(F):h(F)}function b(F){const G="CDATA[";return F===G.charCodeAt(s++)?(e.consume(F),s===G.length?_:b):n(F)}function _(F){return F===null?n(F):F===93?(e.consume(F),E):ht(F)?(o=_,ne(F)):(e.consume(F),_)}function E(F){return F===93?(e.consume(F),C):_(F)}function C(F){return F===62?V(F):F===93?(e.consume(F),C):_(F)}function P(F){return F===null||F===62?V(F):ht(F)?(o=P,ne(F)):(e.consume(F),P)}function O(F){return F===null?n(F):F===63?(e.consume(F),z):ht(F)?(o=O,ne(F)):(e.consume(F),O)}function z(F){return F===62?V(F):O(F)}function B(F){return oi(F)?(e.consume(F),j):n(F)}function j(F){return F===45||qr(F)?(e.consume(F),j):M(F)}function M(F){return ht(F)?(o=M,ne(F)):Kt(F)?(e.consume(F),M):V(F)}function U(F){return F===45||qr(F)?(e.consume(F),U):F===47||F===62||Sn(F)?$(F):n(F)}function $(F){return F===47?(e.consume(F),V):F===58||F===95||oi(F)?(e.consume(F),D):ht(F)?(o=$,ne(F)):Kt(F)?(e.consume(F),$):V(F)}function D(F){return F===45||F===46||F===58||F===95||qr(F)?(e.consume(F),D):ee(F)}function ee(F){return F===61?(e.consume(F),X):ht(F)?(o=ee,ne(F)):Kt(F)?(e.consume(F),ee):$(F)}function X(F){return F===null||F===60||F===61||F===62||F===96?n(F):F===34||F===39?(e.consume(F),i=F,re):ht(F)?(o=X,ne(F)):Kt(F)?(e.consume(F),X):(e.consume(F),Q)}function re(F){return F===i?(e.consume(F),i=void 0,q):F===null?n(F):ht(F)?(o=re,ne(F)):(e.consume(F),re)}function Q(F){return F===null||F===34||F===39||F===60||F===61||F===96?n(F):F===47||F===62||Sn(F)?$(F):(e.consume(F),Q)}function q(F){return F===47||F===62||Sn(F)?$(F):n(F)}function V(F){return F===62?(e.consume(F),e.exit("htmlTextData"),e.exit("htmlText"),t):n(F)}function ne(F){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(F),e.exit("lineEnding"),Z}function Z(F){return Kt(F)?rn(e,fe,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(F):fe(F)}function fe(F){return e.enter("htmlTextData"),o(F)}}const w_={name:"labelEnd",resolveAll:gie,resolveTo:yie,tokenize:vie},hie={tokenize:xie},pie={tokenize:bie},mie={tokenize:wie};function gie(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",t+=i}}return e.length!==n.length&&Vi(e,0,e.length,n),e}function yie(e,t){let n=e.length,r=0,i,s,o,a;for(;n--;)if(i=e[n][1],s){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(o){if(e[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(s=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(o=n);const l={type:e[s][1].type==="labelLink"?"link":"image",start:{...e[s][1].start},end:{...e[e.length-1][1].end}},u={type:"label",start:{...e[s][1].start},end:{...e[o][1].end}},f={type:"labelText",start:{...e[s+r+2][1].end},end:{...e[o-2][1].start}};return a=[["enter",l,t],["enter",u,t]],a=fs(a,e.slice(s+1,s+r+3)),a=fs(a,[["enter",f,t]]),a=fs(a,D1(t.parser.constructs.insideSpan.null,e.slice(s+r+4,o-3),t)),a=fs(a,[["exit",f,t],e[o-2],e[o-1],["exit",u,t]]),a=fs(a,e.slice(o+1)),a=fs(a,[["exit",l,t]]),Vi(e,s,e.length,a),e}function vie(e,t,n){const r=this;let i=r.events.length,s,o;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){s=r.events[i][1];break}return a;function a(g){return s?s._inactive?h(g):(o=r.parser.defined.includes($s(r.sliceSerialize({start:s.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(g),e.exit("labelMarker"),e.exit("labelEnd"),l):n(g)}function l(g){return g===40?e.attempt(hie,f,o?f:h)(g):g===91?e.attempt(pie,f,o?u:h)(g):o?f(g):h(g)}function u(g){return e.attempt(mie,f,h)(g)}function f(g){return t(g)}function h(g){return s._balanced=!0,n(g)}}function xie(e,t,n){return r;function r(h){return e.enter("resource"),e.enter("resourceMarker"),e.consume(h),e.exit("resourceMarker"),i}function i(h){return Sn(h)?lh(e,s)(h):s(h)}function s(h){return h===41?f(h):SN(e,o,a,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(h)}function o(h){return Sn(h)?lh(e,l)(h):f(h)}function a(h){return n(h)}function l(h){return h===34||h===39||h===40?kN(e,u,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(h):f(h)}function u(h){return Sn(h)?lh(e,f)(h):f(h)}function f(h){return h===41?(e.enter("resourceMarker"),e.consume(h),e.exit("resourceMarker"),e.exit("resource"),t):n(h)}}function bie(e,t,n){const r=this;return i;function i(a){return EN.call(r,e,s,o,"reference","referenceMarker","referenceString")(a)}function s(a){return r.parser.defined.includes($s(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(a):n(a)}function o(a){return n(a)}}function wie(e,t,n){return r;function r(s){return e.enter("reference"),e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),i}function i(s){return s===93?(e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),e.exit("reference"),t):n(s)}}const _ie={name:"labelStartImage",resolveAll:w_.resolveAll,tokenize:Sie};function Sie(e,t,n){const r=this;return i;function i(a){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(a),e.exit("labelImageMarker"),s}function s(a){return a===91?(e.enter("labelMarker"),e.consume(a),e.exit("labelMarker"),e.exit("labelImage"),o):n(a)}function o(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):t(a)}}const Eie={name:"labelStartLink",resolveAll:w_.resolveAll,tokenize:kie};function kie(e,t,n){const r=this;return i;function i(o){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelLink"),s}function s(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):t(o)}}const Cx={name:"lineEnding",tokenize:Cie};function Cie(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),rn(e,t,"linePrefix")}}const Wg={name:"thematicBreak",tokenize:Tie};function Tie(e,t,n){let r=0,i;return s;function s(u){return e.enter("thematicBreak"),o(u)}function o(u){return i=u,a(u)}function a(u){return u===i?(e.enter("thematicBreakSequence"),l(u)):r>=3&&(u===null||ht(u))?(e.exit("thematicBreak"),t(u)):n(u)}function l(u){return u===i?(e.consume(u),r++,l):(e.exit("thematicBreakSequence"),Kt(u)?rn(e,a,"whitespace")(u):a(u))}}const Si={continuation:{tokenize:Pie},exit:Oie,name:"list",tokenize:Iie},jie={partial:!0,tokenize:Aie},Nie={partial:!0,tokenize:Rie};function Iie(e,t,n){const r=this,i=r.events[r.events.length-1];let s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,o=0;return a;function a(y){const b=r.containerState.type||(y===42||y===43||y===45?"listUnordered":"listOrdered");if(b==="listUnordered"?!r.containerState.marker||y===r.containerState.marker:d2(y)){if(r.containerState.type||(r.containerState.type=b,e.enter(b,{_container:!0})),b==="listUnordered")return e.enter("listItemPrefix"),y===42||y===45?e.check(Wg,n,u)(y):u(y);if(!r.interrupt||y===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),l(y)}return n(y)}function l(y){return d2(y)&&++o<10?(e.consume(y),l):(!r.interrupt||o<2)&&(r.containerState.marker?y===r.containerState.marker:y===41||y===46)?(e.exit("listItemValue"),u(y)):n(y)}function u(y){return e.enter("listItemMarker"),e.consume(y),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||y,e.check(mp,r.interrupt?n:f,e.attempt(jie,g,h))}function f(y){return r.containerState.initialBlankLine=!0,s++,g(y)}function h(y){return Kt(y)?(e.enter("listItemPrefixWhitespace"),e.consume(y),e.exit("listItemPrefixWhitespace"),g):n(y)}function g(y){return r.containerState.size=s+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(y)}}function Pie(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(mp,i,s);function i(a){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,rn(e,t,"listItemIndent",r.containerState.size+1)(a)}function s(a){return r.containerState.furtherBlankLines||!Kt(a)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(a)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(Nie,t,o)(a))}function o(a){return r.containerState._closeFlow=!0,r.interrupt=void 0,rn(e,e.attempt(Si,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a)}}function Rie(e,t,n){const r=this;return rn(e,i,"listItemIndent",r.containerState.size+1);function i(s){const o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?t(s):n(s)}}function Oie(e){e.exit(this.containerState.type)}function Aie(e,t,n){const r=this;return rn(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(s){const o=r.events[r.events.length-1];return!Kt(s)&&o&&o[1].type==="listItemPrefixWhitespace"?t(s):n(s)}}const Ik={name:"setextUnderline",resolveTo:Mie,tokenize:Die};function Mie(e,t){let n=e.length,r,i,s;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(i=n)}else e[n][1].type==="content"&&e.splice(n,1),!s&&e[n][1].type==="definition"&&(s=n);const o={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[i][1].type="setextHeadingText",s?(e.splice(i,0,["enter",o,t]),e.splice(s+1,0,["exit",e[r][1],t]),e[r][1].end={...e[s][1].end}):e[r][1]=o,e.push(["exit",o,t]),e}function Die(e,t,n){const r=this;let i;return s;function s(u){let f=r.events.length,h;for(;f--;)if(r.events[f][1].type!=="lineEnding"&&r.events[f][1].type!=="linePrefix"&&r.events[f][1].type!=="content"){h=r.events[f][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||h)?(e.enter("setextHeadingLine"),i=u,o(u)):n(u)}function o(u){return e.enter("setextHeadingLineSequence"),a(u)}function a(u){return u===i?(e.consume(u),a):(e.exit("setextHeadingLineSequence"),Kt(u)?rn(e,l,"lineSuffix")(u):l(u))}function l(u){return u===null||ht(u)?(e.exit("setextHeadingLine"),t(u)):n(u)}}const Lie={tokenize:qie,partial:!0};function Fie(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:Uie,continuation:{tokenize:Hie},exit:Wie}},text:{91:{name:"gfmFootnoteCall",tokenize:$ie},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:Bie,resolveTo:zie}}}}function Bie(e,t,n){const r=this;let i=r.events.length;const s=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o;for(;i--;){const l=r.events[i][1];if(l.type==="labelImage"){o=l;break}if(l.type==="gfmFootnoteCall"||l.type==="labelLink"||l.type==="label"||l.type==="image"||l.type==="link")break}return a;function a(l){if(!o||!o._balanced)return n(l);const u=$s(r.sliceSerialize({start:o.end,end:r.now()}));return u.codePointAt(0)!==94||!s.includes(u.slice(1))?n(l):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(l),e.exit("gfmFootnoteCallLabelMarker"),t(l))}}function zie(e,t){let n=e.length;for(;n--;)if(e[n][1].type==="labelImage"&&e[n][0]==="enter"){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const s={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},e[e.length-1][1].start)},o={type:"chunkString",contentType:"string",start:Object.assign({},s.start),end:Object.assign({},s.end)},a=[e[n+1],e[n+2],["enter",r,t],e[n+3],e[n+4],["enter",i,t],["exit",i,t],["enter",s,t],["enter",o,t],["exit",o,t],["exit",s,t],e[e.length-2],e[e.length-1],["exit",r,t]];return e.splice(n,e.length-n+1,...a),e}function $ie(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s=0,o;return a;function a(h){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(h),e.exit("gfmFootnoteCallLabelMarker"),l}function l(h){return h!==94?n(h):(e.enter("gfmFootnoteCallMarker"),e.consume(h),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",u)}function u(h){if(s>999||h===93&&!o||h===null||h===91||Sn(h))return n(h);if(h===93){e.exit("chunkString");const g=e.exit("gfmFootnoteCallString");return i.includes($s(r.sliceSerialize(g)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(h),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(h)}return Sn(h)||(o=!0),s++,e.consume(h),h===92?f:u}function f(h){return h===91||h===92||h===93?(e.consume(h),s++,u):u(h)}}function Uie(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s,o=0,a;return l;function l(b){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(b),e.exit("gfmFootnoteDefinitionLabelMarker"),u}function u(b){return b===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(b),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",f):n(b)}function f(b){if(o>999||b===93&&!a||b===null||b===91||Sn(b))return n(b);if(b===93){e.exit("chunkString");const _=e.exit("gfmFootnoteDefinitionLabelString");return s=$s(r.sliceSerialize(_)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(b),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),g}return Sn(b)||(a=!0),o++,e.consume(b),b===92?h:f}function h(b){return b===91||b===92||b===93?(e.consume(b),o++,f):f(b)}function g(b){return b===58?(e.enter("definitionMarker"),e.consume(b),e.exit("definitionMarker"),i.includes(s)||i.push(s),rn(e,y,"gfmFootnoteDefinitionWhitespace")):n(b)}function y(b){return t(b)}}function Hie(e,t,n){return e.check(mp,t,e.attempt(Lie,t,n))}function Wie(e){e.exit("gfmFootnoteDefinition")}function qie(e,t,n){const r=this;return rn(e,i,"gfmFootnoteDefinitionIndent",5);function i(s){const o=r.events[r.events.length-1];return o&&o[1].type==="gfmFootnoteDefinitionIndent"&&o[2].sliceSerialize(o[1],!0).length===4?t(s):n(s)}}function Qie(e){let n=(e||{}).singleTilde;const r={name:"strikethrough",tokenize:s,resolveAll:i};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function i(o,a){let l=-1;for(;++l<o.length;)if(o[l][0]==="enter"&&o[l][1].type==="strikethroughSequenceTemporary"&&o[l][1]._close){let u=l;for(;u--;)if(o[u][0]==="exit"&&o[u][1].type==="strikethroughSequenceTemporary"&&o[u][1]._open&&o[l][1].end.offset-o[l][1].start.offset===o[u][1].end.offset-o[u][1].start.offset){o[l][1].type="strikethroughSequence",o[u][1].type="strikethroughSequence";const f={type:"strikethrough",start:Object.assign({},o[u][1].start),end:Object.assign({},o[l][1].end)},h={type:"strikethroughText",start:Object.assign({},o[u][1].end),end:Object.assign({},o[l][1].start)},g=[["enter",f,a],["enter",o[u][1],a],["exit",o[u][1],a],["enter",h,a]],y=a.parser.constructs.insideSpan.null;y&&Vi(g,g.length,0,D1(y,o.slice(u+1,l),a)),Vi(g,g.length,0,[["exit",h,a],["enter",o[l][1],a],["exit",o[l][1],a],["exit",f,a]]),Vi(o,u-1,l-u+3,g),l=u+g.length-2;break}}for(l=-1;++l<o.length;)o[l][1].type==="strikethroughSequenceTemporary"&&(o[l][1].type="data");return o}function s(o,a,l){const u=this.previous,f=this.events;let h=0;return g;function g(b){return u===126&&f[f.length-1][1].type!=="characterEscape"?l(b):(o.enter("strikethroughSequenceTemporary"),y(b))}function y(b){const _=bd(u);if(b===126)return h>1?l(b):(o.consume(b),h++,y);if(h<2&&!n)return l(b);const E=o.exit("strikethroughSequenceTemporary"),C=bd(b);return E._open=!C||C===2&&!!_,E._close=!_||_===2&&!!C,a(b)}}}class Vie{constructor(){this.map=[]}add(t,n,r){Kie(this,t,n,r)}consume(t){if(this.map.sort(function(s,o){return s[0]-o[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(t.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),t.length=this.map[n][0];r.push(t.slice()),t.length=0;let i=r.pop();for(;i;){for(const s of i)t.push(s);i=r.pop()}this.map.length=0}}function Kie(e,t,n,r){let i=0;if(!(n===0&&r.length===0)){for(;i<e.map.length;){if(e.map[i][0]===t){e.map[i][1]+=n,e.map[i][2].push(...r);return}i+=1}e.map.push([t,n,r])}}function Gie(e,t){let n=!1;const r=[];for(;t<e.length;){const i=e[t];if(n){if(i[0]==="enter")i[1].type==="tableContent"&&r.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const s=r.length-1;r[s]=r[s]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(n=!0);t+=1}return r}function Yie(){return{flow:{null:{name:"table",tokenize:Xie,resolveAll:Jie}}}}function Xie(e,t,n){const r=this;let i=0,s=0,o;return a;function a(D){let ee=r.events.length-1;for(;ee>-1;){const Q=r.events[ee][1].type;if(Q==="lineEnding"||Q==="linePrefix")ee--;else break}const X=ee>-1?r.events[ee][1].type:null,re=X==="tableHead"||X==="tableRow"?j:l;return re===j&&r.parser.lazy[r.now().line]?n(D):re(D)}function l(D){return e.enter("tableHead"),e.enter("tableRow"),u(D)}function u(D){return D===124||(o=!0,s+=1),f(D)}function f(D){return D===null?n(D):ht(D)?s>1?(s=0,r.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(D),e.exit("lineEnding"),y):n(D):Kt(D)?rn(e,f,"whitespace")(D):(s+=1,o&&(o=!1,i+=1),D===124?(e.enter("tableCellDivider"),e.consume(D),e.exit("tableCellDivider"),o=!0,f):(e.enter("data"),h(D)))}function h(D){return D===null||D===124||Sn(D)?(e.exit("data"),f(D)):(e.consume(D),D===92?g:h)}function g(D){return D===92||D===124?(e.consume(D),h):h(D)}function y(D){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(D):(e.enter("tableDelimiterRow"),o=!1,Kt(D)?rn(e,b,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(D):b(D))}function b(D){return D===45||D===58?E(D):D===124?(o=!0,e.enter("tableCellDivider"),e.consume(D),e.exit("tableCellDivider"),_):B(D)}function _(D){return Kt(D)?rn(e,E,"whitespace")(D):E(D)}function E(D){return D===58?(s+=1,o=!0,e.enter("tableDelimiterMarker"),e.consume(D),e.exit("tableDelimiterMarker"),C):D===45?(s+=1,C(D)):D===null||ht(D)?z(D):B(D)}function C(D){return D===45?(e.enter("tableDelimiterFiller"),P(D)):B(D)}function P(D){return D===45?(e.consume(D),P):D===58?(o=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(D),e.exit("tableDelimiterMarker"),O):(e.exit("tableDelimiterFiller"),O(D))}function O(D){return Kt(D)?rn(e,z,"whitespace")(D):z(D)}function z(D){return D===124?b(D):D===null||ht(D)?!o||i!==s?B(D):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(D)):B(D)}function B(D){return n(D)}function j(D){return e.enter("tableRow"),M(D)}function M(D){return D===124?(e.enter("tableCellDivider"),e.consume(D),e.exit("tableCellDivider"),M):D===null||ht(D)?(e.exit("tableRow"),t(D)):Kt(D)?rn(e,M,"whitespace")(D):(e.enter("data"),U(D))}function U(D){return D===null||D===124||Sn(D)?(e.exit("data"),M(D)):(e.consume(D),D===92?$:U)}function $(D){return D===92||D===124?(e.consume(D),U):U(D)}}function Jie(e,t){let n=-1,r=!0,i=0,s=[0,0,0,0],o=[0,0,0,0],a=!1,l=0,u,f,h;const g=new Vie;for(;++n<e.length;){const y=e[n],b=y[1];y[0]==="enter"?b.type==="tableHead"?(a=!1,l!==0&&(Pk(g,t,l,u,f),f=void 0,l=0),u={type:"table",start:Object.assign({},b.start),end:Object.assign({},b.end)},g.add(n,0,[["enter",u,t]])):b.type==="tableRow"||b.type==="tableDelimiterRow"?(r=!0,h=void 0,s=[0,0,0,0],o=[0,n+1,0,0],a&&(a=!1,f={type:"tableBody",start:Object.assign({},b.start),end:Object.assign({},b.end)},g.add(n,0,[["enter",f,t]])),i=b.type==="tableDelimiterRow"?2:f?3:1):i&&(b.type==="data"||b.type==="tableDelimiterMarker"||b.type==="tableDelimiterFiller")?(r=!1,o[2]===0&&(s[1]!==0&&(o[0]=o[1],h=fg(g,t,s,i,void 0,h),s=[0,0,0,0]),o[2]=n)):b.type==="tableCellDivider"&&(r?r=!1:(s[1]!==0&&(o[0]=o[1],h=fg(g,t,s,i,void 0,h)),s=o,o=[s[1],n,0,0])):b.type==="tableHead"?(a=!0,l=n):b.type==="tableRow"||b.type==="tableDelimiterRow"?(l=n,s[1]!==0?(o[0]=o[1],h=fg(g,t,s,i,n,h)):o[1]!==0&&(h=fg(g,t,o,i,n,h)),i=0):i&&(b.type==="data"||b.type==="tableDelimiterMarker"||b.type==="tableDelimiterFiller")&&(o[3]=n)}for(l!==0&&Pk(g,t,l,u,f),g.consume(t.events),n=-1;++n<t.events.length;){const y=t.events[n];y[0]==="enter"&&y[1].type==="table"&&(y[1]._align=Gie(t.events,n))}return e}function fg(e,t,n,r,i,s){const o=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",a="tableContent";n[0]!==0&&(s.end=Object.assign({},Qu(t.events,n[0])),e.add(n[0],0,[["exit",s,t]]));const l=Qu(t.events,n[1]);if(s={type:o,start:Object.assign({},l),end:Object.assign({},l)},e.add(n[1],0,[["enter",s,t]]),n[2]!==0){const u=Qu(t.events,n[2]),f=Qu(t.events,n[3]),h={type:a,start:Object.assign({},u),end:Object.assign({},f)};if(e.add(n[2],0,[["enter",h,t]]),r!==2){const g=t.events[n[2]],y=t.events[n[3]];if(g[1].end=Object.assign({},y[1].end),g[1].type="chunkText",g[1].contentType="text",n[3]>n[2]+1){const b=n[2]+1,_=n[3]-n[2]-1;e.add(b,_,[])}}e.add(n[3]+1,0,[["exit",h,t]])}return i!==void 0&&(s.end=Object.assign({},Qu(t.events,i)),e.add(i,0,[["exit",s,t]]),s=void 0),s}function Pk(e,t,n,r,i){const s=[],o=Qu(t.events,n);i&&(i.end=Object.assign({},o),s.push(["exit",i,t])),r.end=Object.assign({},o),s.push(["exit",r,t]),e.add(n+1,0,s)}function Qu(e,t){const n=e[t],r=n[0]==="enter"?"start":"end";return n[1][r]}const Zie={name:"tasklistCheck",tokenize:tse};function ese(){return{text:{91:Zie}}}function tse(e,t,n){const r=this;return i;function i(l){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(l):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(l),e.exit("taskListCheckMarker"),s)}function s(l){return Sn(l)?(e.enter("taskListCheckValueUnchecked"),e.consume(l),e.exit("taskListCheckValueUnchecked"),o):l===88||l===120?(e.enter("taskListCheckValueChecked"),e.consume(l),e.exit("taskListCheckValueChecked"),o):n(l)}function o(l){return l===93?(e.enter("taskListCheckMarker"),e.consume(l),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),a):n(l)}function a(l){return ht(l)?t(l):Kt(l)?e.check({tokenize:nse},t,n)(l):n(l)}}function nse(e,t,n){return rn(e,r,"whitespace");function r(i){return i===null?n(i):t(i)}}function rse(e){return uN([hre(),Fie(),Qie(e),Yie(),ese()])}const ise={};function sse(e){const t=this,n=e||ise,r=t.data(),i=r.micromarkExtensions||(r.micromarkExtensions=[]),s=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),o=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);i.push(rse(n)),s.push(are()),o.push(lre(n))}function ose(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const ase=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,lse=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,cse={};function Rk(e,t){return(cse.jsx?lse:ase).test(e)}const use=/[ \t\n\f\r]/g;function dse(e){return typeof e=="object"?e.type==="text"?Ok(e.value):!1:Ok(e)}function Ok(e){return e.replace(use,"")===""}class gp{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}}gp.prototype.normal={};gp.prototype.property={};gp.prototype.space=void 0;function CN(e,t){const n={},r={};for(const i of e)Object.assign(n,i.property),Object.assign(r,i.normal);return new gp(n,r,t)}function m2(e){return e.toLowerCase()}class Ii{constructor(t,n){this.attribute=n,this.property=t}}Ii.prototype.attribute="";Ii.prototype.booleanish=!1;Ii.prototype.boolean=!1;Ii.prototype.commaOrSpaceSeparated=!1;Ii.prototype.commaSeparated=!1;Ii.prototype.defined=!1;Ii.prototype.mustUseProperty=!1;Ii.prototype.number=!1;Ii.prototype.overloadedBoolean=!1;Ii.prototype.property="";Ii.prototype.spaceSeparated=!1;Ii.prototype.space=void 0;let fse=0;const Lt=Bc(),ir=Bc(),g2=Bc(),Fe=Bc(),jn=Bc(),sd=Bc(),Ui=Bc();function Bc(){return 2**++fse}const y2=Object.freeze(Object.defineProperty({__proto__:null,boolean:Lt,booleanish:ir,commaOrSpaceSeparated:Ui,commaSeparated:sd,number:Fe,overloadedBoolean:g2,spaceSeparated:jn},Symbol.toStringTag,{value:"Module"})),Tx=Object.keys(y2);class __ extends Ii{constructor(t,n,r,i){let s=-1;if(super(t,n),Ak(this,"space",i),typeof r=="number")for(;++s<Tx.length;){const o=Tx[s];Ak(this,Tx[s],(r&y2[o])===y2[o])}}}__.prototype.defined=!0;function Ak(e,t,n){n&&(e[t]=n)}function Fd(e){const t={},n={};for(const[r,i]of Object.entries(e.properties)){const s=new __(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(s.mustUseProperty=!0),t[r]=s,n[m2(r)]=r,n[m2(s.attribute)]=r}return new gp(t,n,e.space)}const TN=Fd({properties:{ariaActiveDescendant:null,ariaAtomic:ir,ariaAutoComplete:null,ariaBusy:ir,ariaChecked:ir,ariaColCount:Fe,ariaColIndex:Fe,ariaColSpan:Fe,ariaControls:jn,ariaCurrent:null,ariaDescribedBy:jn,ariaDetails:null,ariaDisabled:ir,ariaDropEffect:jn,ariaErrorMessage:null,ariaExpanded:ir,ariaFlowTo:jn,ariaGrabbed:ir,ariaHasPopup:null,ariaHidden:ir,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:jn,ariaLevel:Fe,ariaLive:null,ariaModal:ir,ariaMultiLine:ir,ariaMultiSelectable:ir,ariaOrientation:null,ariaOwns:jn,ariaPlaceholder:null,ariaPosInSet:Fe,ariaPressed:ir,ariaReadOnly:ir,ariaRelevant:null,ariaRequired:ir,ariaRoleDescription:jn,ariaRowCount:Fe,ariaRowIndex:Fe,ariaRowSpan:Fe,ariaSelected:ir,ariaSetSize:Fe,ariaSort:null,ariaValueMax:Fe,ariaValueMin:Fe,ariaValueNow:Fe,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function jN(e,t){return t in e?e[t]:t}function NN(e,t){return jN(e,t.toLowerCase())}const hse=Fd({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:sd,acceptCharset:jn,accessKey:jn,action:null,allow:null,allowFullScreen:Lt,allowPaymentRequest:Lt,allowUserMedia:Lt,alt:null,as:null,async:Lt,autoCapitalize:null,autoComplete:jn,autoFocus:Lt,autoPlay:Lt,blocking:jn,capture:null,charSet:null,checked:Lt,cite:null,className:jn,cols:Fe,colSpan:null,content:null,contentEditable:ir,controls:Lt,controlsList:jn,coords:Fe|sd,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Lt,defer:Lt,dir:null,dirName:null,disabled:Lt,download:g2,draggable:ir,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Lt,formTarget:null,headers:jn,height:Fe,hidden:g2,high:Fe,href:null,hrefLang:null,htmlFor:jn,httpEquiv:jn,id:null,imageSizes:null,imageSrcSet:null,inert:Lt,inputMode:null,integrity:null,is:null,isMap:Lt,itemId:null,itemProp:jn,itemRef:jn,itemScope:Lt,itemType:jn,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Lt,low:Fe,manifest:null,max:null,maxLength:Fe,media:null,method:null,min:null,minLength:Fe,multiple:Lt,muted:Lt,name:null,nonce:null,noModule:Lt,noValidate:Lt,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Lt,optimum:Fe,pattern:null,ping:jn,placeholder:null,playsInline:Lt,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Lt,referrerPolicy:null,rel:jn,required:Lt,reversed:Lt,rows:Fe,rowSpan:Fe,sandbox:jn,scope:null,scoped:Lt,seamless:Lt,selected:Lt,shadowRootClonable:Lt,shadowRootDelegatesFocus:Lt,shadowRootMode:null,shape:null,size:Fe,sizes:null,slot:null,span:Fe,spellCheck:ir,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Fe,step:null,style:null,tabIndex:Fe,target:null,title:null,translate:null,type:null,typeMustMatch:Lt,useMap:null,value:ir,width:Fe,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:jn,axis:null,background:null,bgColor:null,border:Fe,borderColor:null,bottomMargin:Fe,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Lt,declare:Lt,event:null,face:null,frame:null,frameBorder:null,hSpace:Fe,leftMargin:Fe,link:null,longDesc:null,lowSrc:null,marginHeight:Fe,marginWidth:Fe,noResize:Lt,noHref:Lt,noShade:Lt,noWrap:Lt,object:null,profile:null,prompt:null,rev:null,rightMargin:Fe,rules:null,scheme:null,scrolling:ir,standby:null,summary:null,text:null,topMargin:Fe,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Fe,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Lt,disableRemotePlayback:Lt,prefix:null,property:null,results:Fe,security:null,unselectable:null},space:"html",transform:NN}),pse=Fd({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Ui,accentHeight:Fe,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Fe,amplitude:Fe,arabicForm:null,ascent:Fe,attributeName:null,attributeType:null,azimuth:Fe,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Fe,by:null,calcMode:null,capHeight:Fe,className:jn,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Fe,diffuseConstant:Fe,direction:null,display:null,dur:null,divisor:Fe,dominantBaseline:null,download:Lt,dx:null,dy:null,edgeMode:null,editable:null,elevation:Fe,enableBackground:null,end:null,event:null,exponent:Fe,externalResourcesRequired:null,fill:null,fillOpacity:Fe,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:sd,g2:sd,glyphName:sd,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Fe,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Fe,horizOriginX:Fe,horizOriginY:Fe,id:null,ideographic:Fe,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Fe,k:Fe,k1:Fe,k2:Fe,k3:Fe,k4:Fe,kernelMatrix:Ui,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Fe,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Fe,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Fe,overlineThickness:Fe,paintOrder:null,panose1:null,path:null,pathLength:Fe,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:jn,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Fe,pointsAtY:Fe,pointsAtZ:Fe,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Ui,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Ui,rev:Ui,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Ui,requiredFeatures:Ui,requiredFonts:Ui,requiredFormats:Ui,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Fe,specularExponent:Fe,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Fe,strikethroughThickness:Fe,string:null,stroke:null,strokeDashArray:Ui,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Fe,strokeOpacity:Fe,strokeWidth:null,style:null,surfaceScale:Fe,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Ui,tabIndex:Fe,tableValues:null,target:null,targetX:Fe,targetY:Fe,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Ui,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Fe,underlineThickness:Fe,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Fe,values:null,vAlphabetic:Fe,vMathematical:Fe,vectorEffect:null,vHanging:Fe,vIdeographic:Fe,version:null,vertAdvY:Fe,vertOriginX:Fe,vertOriginY:Fe,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Fe,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:jN}),IN=Fd({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),PN=Fd({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:NN}),RN=Fd({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),mse={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},gse=/[A-Z]/g,Mk=/-[a-z]/g,yse=/^data[-\w.:]+$/i;function vse(e,t){const n=m2(t);let r=t,i=Ii;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&yse.test(t)){if(t.charAt(4)==="-"){const s=t.slice(5).replace(Mk,bse);r="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=t.slice(4);if(!Mk.test(s)){let o=s.replace(gse,xse);o.charAt(0)!=="-"&&(o="-"+o),t="data"+o}}i=__}return new i(r,t)}function xse(e){return"-"+e.toLowerCase()}function bse(e){return e.charAt(1).toUpperCase()}const wse=CN([TN,hse,IN,PN,RN],"html"),S_=CN([TN,pse,IN,PN,RN],"svg");function _se(e){return e.join(" ").trim()}var Fu={},jx,Dk;function Sse(){if(Dk)return jx;Dk=1;var e=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,t=/\n/g,n=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,i=/^:\s*/,s=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,o=/^[;\s]*/,a=/^\s+|\s+$/g,l=`
`,u="/",f="*",h="",g="comment",y="declaration";jx=function(_,E){if(typeof _!="string")throw new TypeError("First argument must be a string");if(!_)return[];E=E||{};var C=1,P=1;function O(re){var Q=re.match(t);Q&&(C+=Q.length);var q=re.lastIndexOf(l);P=~q?re.length-q:P+re.length}function z(){var re={line:C,column:P};return function(Q){return Q.position=new B(re),U(),Q}}function B(re){this.start=re,this.end={line:C,column:P},this.source=E.source}B.prototype.content=_;function j(re){var Q=new Error(E.source+":"+C+":"+P+": "+re);if(Q.reason=re,Q.filename=E.source,Q.line=C,Q.column=P,Q.source=_,!E.silent)throw Q}function M(re){var Q=re.exec(_);if(Q){var q=Q[0];return O(q),_=_.slice(q.length),Q}}function U(){M(n)}function $(re){var Q;for(re=re||[];Q=D();)Q!==!1&&re.push(Q);return re}function D(){var re=z();if(!(u!=_.charAt(0)||f!=_.charAt(1))){for(var Q=2;h!=_.charAt(Q)&&(f!=_.charAt(Q)||u!=_.charAt(Q+1));)++Q;if(Q+=2,h===_.charAt(Q-1))return j("End of comment missing");var q=_.slice(2,Q-2);return P+=2,O(q),_=_.slice(Q),P+=2,re({type:g,comment:q})}}function ee(){var re=z(),Q=M(r);if(Q){if(D(),!M(i))return j("property missing ':'");var q=M(s),V=re({type:y,property:b(Q[0].replace(e,h)),value:q?b(q[0].replace(e,h)):h});return M(o),V}}function X(){var re=[];$(re);for(var Q;Q=ee();)Q!==!1&&(re.push(Q),$(re));return re}return U(),X()};function b(_){return _?_.replace(a,h):h}return jx}var Lk;function Ese(){if(Lk)return Fu;Lk=1;var e=Fu&&Fu.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Fu,"__esModule",{value:!0}),Fu.default=n;var t=e(Sse());function n(r,i){var s=null;if(!r||typeof r!="string")return s;var o=(0,t.default)(r),a=typeof i=="function";return o.forEach(function(l){if(l.type==="declaration"){var u=l.property,f=l.value;a?i(u,f,l):f&&(s=s||{},s[u]=f)}}),s}return Fu}var Mf={},Fk;function kse(){if(Fk)return Mf;Fk=1,Object.defineProperty(Mf,"__esModule",{value:!0}),Mf.camelCase=void 0;var e=/^--[a-zA-Z0-9_-]+$/,t=/-([a-z])/g,n=/^[^-]+$/,r=/^-(webkit|moz|ms|o|khtml)-/,i=/^-(ms)-/,s=function(u){return!u||n.test(u)||e.test(u)},o=function(u,f){return f.toUpperCase()},a=function(u,f){return"".concat(f,"-")},l=function(u,f){return f===void 0&&(f={}),s(u)?u:(u=u.toLowerCase(),f.reactCompat?u=u.replace(i,a):u=u.replace(r,a),u.replace(t,o))};return Mf.camelCase=l,Mf}var Df,Bk;function Cse(){if(Bk)return Df;Bk=1;var e=Df&&Df.__importDefault||function(i){return i&&i.__esModule?i:{default:i}},t=e(Ese()),n=kse();function r(i,s){var o={};return!i||typeof i!="string"||(0,t.default)(i,function(a,l){a&&l&&(o[(0,n.camelCase)(a,s)]=l)}),o}return r.default=r,Df=r,Df}var Tse=Cse();const jse=Ni(Tse),ON=AN("end"),E_=AN("start");function AN(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function Nse(e){const t=E_(e),n=ON(e);if(t&&n)return{start:t,end:n}}function ch(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?zk(e.position):"start"in e||"end"in e?zk(e):"line"in e||"column"in e?v2(e):""}function v2(e){return $k(e&&e.line)+":"+$k(e&&e.column)}function zk(e){return v2(e&&e.start)+"-"+v2(e&&e.end)}function $k(e){return e&&typeof e=="number"?e:1}class Kr extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",s={},o=!1;if(n&&("line"in n&&"column"in n?s={place:n}:"start"in n&&"end"in n?s={place:n}:"type"in n?s={ancestors:[n],place:n.position}:s={...n}),typeof t=="string"?i=t:!s.cause&&t&&(o=!0,i=t.message,s.cause=t),!s.ruleId&&!s.source&&typeof r=="string"){const l=r.indexOf(":");l===-1?s.ruleId=r:(s.source=r.slice(0,l),s.ruleId=r.slice(l+1))}if(!s.place&&s.ancestors&&s.ancestors){const l=s.ancestors[s.ancestors.length-1];l&&(s.place=l.position)}const a=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=a?a.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=a?a.line:void 0,this.name=ch(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=o&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Kr.prototype.file="";Kr.prototype.name="";Kr.prototype.reason="";Kr.prototype.message="";Kr.prototype.stack="";Kr.prototype.column=void 0;Kr.prototype.line=void 0;Kr.prototype.ancestors=void 0;Kr.prototype.cause=void 0;Kr.prototype.fatal=void 0;Kr.prototype.place=void 0;Kr.prototype.ruleId=void 0;Kr.prototype.source=void 0;const k_={}.hasOwnProperty,Ise=new Map,Pse=/[A-Z]/g,Rse=new Set(["table","tbody","thead","tfoot","tr"]),Ose=new Set(["td","th"]),MN="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function Ase(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=Use(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=$se(n,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?S_:wse,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},s=DN(i,e,void 0);return s&&typeof s!="string"?s:i.create(e,i.Fragment,{children:s||void 0},void 0)}function DN(e,t,n){if(t.type==="element")return Mse(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return Dse(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return Fse(e,t,n);if(t.type==="mdxjsEsm")return Lse(e,t);if(t.type==="root")return Bse(e,t,n);if(t.type==="text")return zse(e,t)}function Mse(e,t,n){const r=e.schema;let i=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=S_,e.schema=i),e.ancestors.push(t);const s=FN(e,t.tagName,!1),o=Hse(e,t);let a=T_(e,t);return Rse.has(t.tagName)&&(a=a.filter(function(l){return typeof l=="string"?!dse(l):!0})),LN(e,o,s,t),C_(o,a),e.ancestors.pop(),e.schema=r,e.create(t,s,o,n)}function Dse(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}Oh(e,t.position)}function Lse(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);Oh(e,t.position)}function Fse(e,t,n){const r=e.schema;let i=r;t.name==="svg"&&r.space==="html"&&(i=S_,e.schema=i),e.ancestors.push(t);const s=t.name===null?e.Fragment:FN(e,t.name,!0),o=Wse(e,t),a=T_(e,t);return LN(e,o,s,t),C_(o,a),e.ancestors.pop(),e.schema=r,e.create(t,s,o,n)}function Bse(e,t,n){const r={};return C_(r,T_(e,t)),e.create(t,e.Fragment,r,n)}function zse(e,t){return t.value}function LN(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function C_(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function $se(e,t,n){return r;function r(i,s,o,a){const u=Array.isArray(o.children)?n:t;return a?u(s,o,a):u(s,o)}}function Use(e,t){return n;function n(r,i,s,o){const a=Array.isArray(s.children),l=E_(r);return t(i,s,o,a,{columnNumber:l?l.column-1:void 0,fileName:e,lineNumber:l?l.line:void 0},void 0)}}function Hse(e,t){const n={};let r,i;for(i in t.properties)if(i!=="children"&&k_.call(t.properties,i)){const s=qse(e,i,t.properties[i]);if(s){const[o,a]=s;e.tableCellAlignToStyle&&o==="align"&&typeof a=="string"&&Ose.has(t.tagName)?r=a:n[o]=a}}if(r){const s=n.style||(n.style={});s[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function Wse(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const s=r.data.estree.body[0];s.type;const o=s.expression;o.type;const a=o.properties[0];a.type,Object.assign(n,e.evaluater.evaluateExpression(a.argument))}else Oh(e,t.position);else{const i=r.name;let s;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const a=r.value.data.estree.body[0];a.type,s=e.evaluater.evaluateExpression(a.expression)}else Oh(e,t.position);else s=r.value===null?!0:r.value;n[i]=s}return n}function T_(e,t){const n=[];let r=-1;const i=e.passKeys?new Map:Ise;for(;++r<t.children.length;){const s=t.children[r];let o;if(e.passKeys){const l=s.type==="element"?s.tagName:s.type==="mdxJsxFlowElement"||s.type==="mdxJsxTextElement"?s.name:void 0;if(l){const u=i.get(l)||0;o=l+"-"+u,i.set(l,u+1)}}const a=DN(e,s,o);a!==void 0&&n.push(a)}return n}function qse(e,t,n){const r=vse(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?ose(n):_se(n)),r.property==="style"){let i=typeof n=="object"?n:Qse(e,String(n));return e.stylePropertyNameCase==="css"&&(i=Vse(i)),["style",i]}return[e.elementAttributeNameCase==="react"&&r.space?mse[r.property]||r.property:r.attribute,n]}}function Qse(e,t){try{return jse(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,i=new Kr("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=e.filePath||void 0,i.url=MN+"#cannot-parse-style-attribute",i}}function FN(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const i=t.split(".");let s=-1,o;for(;++s<i.length;){const a=Rk(i[s])?{type:"Identifier",name:i[s]}:{type:"Literal",value:i[s]};o=o?{type:"MemberExpression",object:o,property:a,computed:!!(s&&a.type==="Literal"),optional:!1}:a}r=o}else r=Rk(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const i=r.value;return k_.call(e.components,i)?e.components[i]:i}if(e.evaluater)return e.evaluater.evaluateExpression(r);Oh(e)}function Oh(e,t){const n=new Kr("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=MN+"#cannot-handle-mdx-estrees-without-createevaluater",n}function Vse(e){const t={};let n;for(n in e)k_.call(e,n)&&(t[Kse(n)]=e[n]);return t}function Kse(e){let t=e.replace(Pse,Gse);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function Gse(e){return"-"+e.toLowerCase()}const Nx={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},Yse={tokenize:Xse};function Xse(e){const t=e.attempt(this.parser.constructs.contentInitial,r,i);let n;return t;function r(a){if(a===null){e.consume(a);return}return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),rn(e,t,"linePrefix")}function i(a){return e.enter("paragraph"),s(a)}function s(a){const l=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,o(a)}function o(a){if(a===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(a);return}return ht(a)?(e.consume(a),e.exit("chunkText"),s):(e.consume(a),o)}}const Jse={tokenize:Zse},Uk={tokenize:eoe};function Zse(e){const t=this,n=[];let r=0,i,s,o;return a;function a(O){if(r<n.length){const z=n[r];return t.containerState=z[1],e.attempt(z[0].continuation,l,u)(O)}return u(O)}function l(O){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&P();const z=t.events.length;let B=z,j;for(;B--;)if(t.events[B][0]==="exit"&&t.events[B][1].type==="chunkFlow"){j=t.events[B][1].end;break}C(r);let M=z;for(;M<t.events.length;)t.events[M][1].end={...j},M++;return Vi(t.events,B+1,0,t.events.slice(z)),t.events.length=M,u(O)}return a(O)}function u(O){if(r===n.length){if(!i)return g(O);if(i.currentConstruct&&i.currentConstruct.concrete)return b(O);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(Uk,f,h)(O)}function f(O){return i&&P(),C(r),g(O)}function h(O){return t.parser.lazy[t.now().line]=r!==n.length,o=t.now().offset,b(O)}function g(O){return t.containerState={},e.attempt(Uk,y,b)(O)}function y(O){return r++,n.push([t.currentConstruct,t.containerState]),g(O)}function b(O){if(O===null){i&&P(),C(0),e.consume(O);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:s}),_(O)}function _(O){if(O===null){E(e.exit("chunkFlow"),!0),C(0),e.consume(O);return}return ht(O)?(e.consume(O),E(e.exit("chunkFlow")),r=0,t.interrupt=void 0,a):(e.consume(O),_)}function E(O,z){const B=t.sliceStream(O);if(z&&B.push(null),O.previous=s,s&&(s.next=O),s=O,i.defineSkip(O.start),i.write(B),t.parser.lazy[O.start.line]){let j=i.events.length;for(;j--;)if(i.events[j][1].start.offset<o&&(!i.events[j][1].end||i.events[j][1].end.offset>o))return;const M=t.events.length;let U=M,$,D;for(;U--;)if(t.events[U][0]==="exit"&&t.events[U][1].type==="chunkFlow"){if($){D=t.events[U][1].end;break}$=!0}for(C(r),j=M;j<t.events.length;)t.events[j][1].end={...D},j++;Vi(t.events,U+1,0,t.events.slice(M)),t.events.length=j}}function C(O){let z=n.length;for(;z-- >O;){const B=n[z];t.containerState=B[1],B[0].exit.call(t,e)}n.length=O}function P(){i.write([null]),s=void 0,i=void 0,t.containerState._closeFlow=void 0}}function eoe(e,t,n){return rn(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}const toe={tokenize:noe};function noe(e){const t=this,n=e.attempt(mp,r,e.attempt(this.parser.constructs.flowInitial,i,rn(e,e.attempt(this.parser.constructs.flow,i,e.attempt(Hre,i)),"linePrefix")));return n;function r(s){if(s===null){e.consume(s);return}return e.enter("lineEndingBlank"),e.consume(s),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function i(s){if(s===null){e.consume(s);return}return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const roe={resolveAll:zN()},ioe=BN("string"),soe=BN("text");function BN(e){return{resolveAll:zN(e==="text"?ooe:void 0),tokenize:t};function t(n){const r=this,i=this.parser.constructs[e],s=n.attempt(i,o,a);return o;function o(f){return u(f)?s(f):a(f)}function a(f){if(f===null){n.consume(f);return}return n.enter("data"),n.consume(f),l}function l(f){return u(f)?(n.exit("data"),s(f)):(n.consume(f),l)}function u(f){if(f===null)return!0;const h=i[f];let g=-1;if(h)for(;++g<h.length;){const y=h[g];if(!y.previous||y.previous.call(r,r.previous))return!0}return!1}}}function zN(e){return t;function t(n,r){let i=-1,s;for(;++i<=n.length;)s===void 0?n[i]&&n[i][1].type==="data"&&(s=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==s+2&&(n[s][1].end=n[i-1][1].end,n.splice(s+2,i-s-2),i=s+2),s=void 0);return e?e(n,r):n}}function ooe(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],i=t.sliceStream(r);let s=i.length,o=-1,a=0,l;for(;s--;){const u=i[s];if(typeof u=="string"){for(o=u.length;u.charCodeAt(o-1)===32;)a++,o--;if(o)break;o=-1}else if(u===-2)l=!0,a++;else if(u!==-1){s++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(a=0),a){const u={type:n===e.length||l||a<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:s?o:r.start._bufferIndex+o,_index:r.start._index+s,line:r.end.line,column:r.end.column-a,offset:r.end.offset-a},end:{...r.end}};r.end={...u.start},r.start.offset===r.end.offset?Object.assign(r,u):(e.splice(n,0,["enter",u,t],["exit",u,t]),n+=2)}n++}return e}const aoe={42:Si,43:Si,45:Si,48:Si,49:Si,50:Si,51:Si,52:Si,53:Si,54:Si,55:Si,56:Si,57:Si,62:xN},loe={91:Kre},coe={[-2]:kx,[-1]:kx,32:kx},uoe={35:eie,42:Wg,45:[Ik,Wg],60:iie,61:Ik,95:Wg,96:jk,126:jk},doe={38:wN,92:bN},foe={[-5]:Cx,[-4]:Cx,[-3]:Cx,33:_ie,38:wN,42:p2,60:[Ere,die],91:Eie,92:[Jre,bN],93:w_,95:p2,96:Lre},hoe={null:[p2,roe]},poe={null:[42,95]},moe={null:[]},goe=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:poe,contentInitial:loe,disable:moe,document:aoe,flow:uoe,flowInitial:coe,insideSpan:hoe,string:doe,text:foe},Symbol.toStringTag,{value:"Module"}));function yoe(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},s=[];let o=[],a=[];const l={attempt:M(B),check:M(j),consume:P,enter:O,exit:z,interrupt:M(j,{interrupt:!0})},u={code:null,containerState:{},defineSkip:_,events:[],now:b,parser:e,previous:null,sliceSerialize:g,sliceStream:y,write:h};let f=t.tokenize.call(u,l);return t.resolveAll&&s.push(t),u;function h(ee){return o=fs(o,ee),E(),o[o.length-1]!==null?[]:(U(t,0),u.events=D1(s,u.events,u),u.events)}function g(ee,X){return xoe(y(ee),X)}function y(ee){return voe(o,ee)}function b(){const{_bufferIndex:ee,_index:X,line:re,column:Q,offset:q}=r;return{_bufferIndex:ee,_index:X,line:re,column:Q,offset:q}}function _(ee){i[ee.line]=ee.column,D()}function E(){let ee;for(;r._index<o.length;){const X=o[r._index];if(typeof X=="string")for(ee=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===ee&&r._bufferIndex<X.length;)C(X.charCodeAt(r._bufferIndex));else C(X)}}function C(ee){f=f(ee)}function P(ee){ht(ee)?(r.line++,r.column=1,r.offset+=ee===-3?2:1,D()):ee!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),u.previous=ee}function O(ee,X){const re=X||{};return re.type=ee,re.start=b(),u.events.push(["enter",re,u]),a.push(re),re}function z(ee){const X=a.pop();return X.end=b(),u.events.push(["exit",X,u]),X}function B(ee,X){U(ee,X.from)}function j(ee,X){X.restore()}function M(ee,X){return re;function re(Q,q,V){let ne,Z,fe,F;return Array.isArray(Q)?ye(Q):"tokenize"in Q?ye([Q]):G(Q);function G(Te){return Ye;function Ye(qe){const Ne=qe!==null&&Te[qe],ct=qe!==null&&Te.null,xn=[...Array.isArray(Ne)?Ne:Ne?[Ne]:[],...Array.isArray(ct)?ct:ct?[ct]:[]];return ye(xn)(qe)}}function ye(Te){return ne=Te,Z=0,Te.length===0?V:H(Te[Z])}function H(Te){return Ye;function Ye(qe){return F=$(),fe=Te,Te.partial||(u.currentConstruct=Te),Te.name&&u.parser.constructs.disable.null.includes(Te.name)?Ce():Te.tokenize.call(X?Object.assign(Object.create(u),X):u,l,Oe,Ce)(qe)}}function Oe(Te){return ee(fe,F),q}function Ce(Te){return F.restore(),++Z<ne.length?H(ne[Z]):V}}}function U(ee,X){ee.resolveAll&&!s.includes(ee)&&s.push(ee),ee.resolve&&Vi(u.events,X,u.events.length-X,ee.resolve(u.events.slice(X),u)),ee.resolveTo&&(u.events=ee.resolveTo(u.events,u))}function $(){const ee=b(),X=u.previous,re=u.currentConstruct,Q=u.events.length,q=Array.from(a);return{from:Q,restore:V};function V(){r=ee,u.previous=X,u.currentConstruct=re,u.events.length=Q,a=q,D()}}function D(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function voe(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,s=t.end._bufferIndex;let o;if(n===i)o=[e[n].slice(r,s)];else{if(o=e.slice(n,i),r>-1){const a=o[0];typeof a=="string"?o[0]=a.slice(r):o.shift()}s>0&&o.push(e[i].slice(0,s))}return o}function xoe(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const s=e[n];let o;if(typeof s=="string")o=s;else switch(s){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=t?" ":"	";break}case-1:{if(!t&&i)continue;o=" ";break}default:o=String.fromCharCode(s)}i=s===-2,r.push(o)}return r.join("")}function boe(e){const r={constructs:uN([goe,...(e||{}).extensions||[]]),content:i(Yse),defined:[],document:i(Jse),flow:i(toe),lazy:{},string:i(ioe),text:i(soe)};return r;function i(s){return o;function o(a){return yoe(r,s,a)}}}function woe(e){for(;!_N(e););return e}const Hk=/[\0\t\n\r]/g;function _oe(){let e=1,t="",n=!0,r;return i;function i(s,o,a){const l=[];let u,f,h,g,y;for(s=t+(typeof s=="string"?s.toString():new TextDecoder(o||void 0).decode(s)),h=0,t="",n&&(s.charCodeAt(0)===65279&&h++,n=void 0);h<s.length;){if(Hk.lastIndex=h,u=Hk.exec(s),g=u&&u.index!==void 0?u.index:s.length,y=s.charCodeAt(g),!u){t=s.slice(h);break}if(y===10&&h===g&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),h<g&&(l.push(s.slice(h,g)),e+=g-h),y){case 0:{l.push(65533),e++;break}case 9:{for(f=Math.ceil(e/4)*4,l.push(-2);e++<f;)l.push(-1);break}case 10:{l.push(-4),e=1;break}default:r=!0,e=1}h=g+1}return a&&(r&&l.push(-5),t&&l.push(t),l.push(null)),l}}const $N={}.hasOwnProperty;function Soe(e,t,n){return typeof t!="string"&&(n=t,t=void 0),Eoe(n)(woe(boe(n).document().write(_oe()(e,t,!0))))}function Eoe(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(di),autolinkProtocol:$,autolinkEmail:$,atxHeading:s(yn),blockQuote:s(ct),characterEscape:$,characterReference:$,codeFenced:s(xn),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:s(xn,o),codeText:s(It,o),codeTextData:$,data:$,codeFlowValue:$,definition:s(En),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:s(sn),hardBreakEscape:s(Pi),hardBreakTrailing:s(Pi),htmlFlow:s(Gr,o),htmlFlowData:$,htmlText:s(Gr,o),htmlTextData:$,image:s(Ri),label:o,link:s(di),listItem:s(on),listItemValue:g,listOrdered:s(wt,h),listUnordered:s(wt),paragraph:s(pt),reference:H,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:s(yn),strong:s(Bt),thematicBreak:s(Wn)},exit:{atxHeading:l(),atxHeadingSequence:B,autolink:l(),autolinkEmail:Ne,autolinkProtocol:qe,blockQuote:l(),characterEscapeValue:D,characterReferenceMarkerHexadecimal:Ce,characterReferenceMarkerNumeric:Ce,characterReferenceValue:Te,characterReference:Ye,codeFenced:l(E),codeFencedFence:_,codeFencedFenceInfo:y,codeFencedFenceMeta:b,codeFlowValue:D,codeIndented:l(C),codeText:l(q),codeTextData:D,data:D,definition:l(),definitionDestinationString:z,definitionLabelString:P,definitionTitleString:O,emphasis:l(),hardBreakEscape:l(X),hardBreakTrailing:l(X),htmlFlow:l(re),htmlFlowData:D,htmlText:l(Q),htmlTextData:D,image:l(ne),label:fe,labelText:Z,lineEnding:ee,link:l(V),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:Oe,resourceDestinationString:F,resourceTitleString:G,resource:ye,setextHeading:l(U),setextHeadingLineSequence:M,setextHeadingText:j,strong:l(),thematicBreak:l()}};UN(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(Ee){let Pe={type:"root",children:[]};const ut={stack:[Pe],tokenStack:[],config:t,enter:a,exit:u,buffer:o,resume:f,data:n},vt=[];let zt=-1;for(;++zt<Ee.length;)if(Ee[zt][1].type==="listOrdered"||Ee[zt][1].type==="listUnordered")if(Ee[zt][0]==="enter")vt.push(zt);else{const hn=vt.pop();zt=i(Ee,hn,zt)}for(zt=-1;++zt<Ee.length;){const hn=t[Ee[zt][0]];$N.call(hn,Ee[zt][1].type)&&hn[Ee[zt][1].type].call(Object.assign({sliceSerialize:Ee[zt][2].sliceSerialize},ut),Ee[zt][1])}if(ut.tokenStack.length>0){const hn=ut.tokenStack[ut.tokenStack.length-1];(hn[1]||Wk).call(ut,void 0,hn[0])}for(Pe.position={start:Oa(Ee.length>0?Ee[0][1].start:{line:1,column:1,offset:0}),end:Oa(Ee.length>0?Ee[Ee.length-2][1].end:{line:1,column:1,offset:0})},zt=-1;++zt<t.transforms.length;)Pe=t.transforms[zt](Pe)||Pe;return Pe}function i(Ee,Pe,ut){let vt=Pe-1,zt=-1,hn=!1,er,tr,Yr,yr;for(;++vt<=ut;){const Qe=Ee[vt];switch(Qe[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Qe[0]==="enter"?zt++:zt--,yr=void 0;break}case"lineEndingBlank":{Qe[0]==="enter"&&(er&&!yr&&!zt&&!Yr&&(Yr=vt),yr=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:yr=void 0}if(!zt&&Qe[0]==="enter"&&Qe[1].type==="listItemPrefix"||zt===-1&&Qe[0]==="exit"&&(Qe[1].type==="listUnordered"||Qe[1].type==="listOrdered")){if(er){let Gn=vt;for(tr=void 0;Gn--;){const Mn=Ee[Gn];if(Mn[1].type==="lineEnding"||Mn[1].type==="lineEndingBlank"){if(Mn[0]==="exit")continue;tr&&(Ee[tr][1].type="lineEndingBlank",hn=!0),Mn[1].type="lineEnding",tr=Gn}else if(!(Mn[1].type==="linePrefix"||Mn[1].type==="blockQuotePrefix"||Mn[1].type==="blockQuotePrefixWhitespace"||Mn[1].type==="blockQuoteMarker"||Mn[1].type==="listItemIndent"))break}Yr&&(!tr||Yr<tr)&&(er._spread=!0),er.end=Object.assign({},tr?Ee[tr][1].start:Qe[1].end),Ee.splice(tr||vt,0,["exit",er,Qe[2]]),vt++,ut++}if(Qe[1].type==="listItemPrefix"){const Gn={type:"listItem",_spread:!1,start:Object.assign({},Qe[1].start),end:void 0};er=Gn,Ee.splice(vt,0,["enter",Gn,Qe[2]]),vt++,ut++,Yr=void 0,yr=!0}}}return Ee[Pe][1]._spread=hn,ut}function s(Ee,Pe){return ut;function ut(vt){a.call(this,Ee(vt),vt),Pe&&Pe.call(this,vt)}}function o(){this.stack.push({type:"fragment",children:[]})}function a(Ee,Pe,ut){this.stack[this.stack.length-1].children.push(Ee),this.stack.push(Ee),this.tokenStack.push([Pe,ut||void 0]),Ee.position={start:Oa(Pe.start),end:void 0}}function l(Ee){return Pe;function Pe(ut){Ee&&Ee.call(this,ut),u.call(this,ut)}}function u(Ee,Pe){const ut=this.stack.pop(),vt=this.tokenStack.pop();if(vt)vt[0].type!==Ee.type&&(Pe?Pe.call(this,Ee,vt[0]):(vt[1]||Wk).call(this,Ee,vt[0]));else throw new Error("Cannot close `"+Ee.type+"` ("+ch({start:Ee.start,end:Ee.end})+"): it’s not open");ut.position.end=Oa(Ee.end)}function f(){return y_(this.stack.pop())}function h(){this.data.expectingFirstListItemValue=!0}function g(Ee){if(this.data.expectingFirstListItemValue){const Pe=this.stack[this.stack.length-2];Pe.start=Number.parseInt(this.sliceSerialize(Ee),10),this.data.expectingFirstListItemValue=void 0}}function y(){const Ee=this.resume(),Pe=this.stack[this.stack.length-1];Pe.lang=Ee}function b(){const Ee=this.resume(),Pe=this.stack[this.stack.length-1];Pe.meta=Ee}function _(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function E(){const Ee=this.resume(),Pe=this.stack[this.stack.length-1];Pe.value=Ee.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function C(){const Ee=this.resume(),Pe=this.stack[this.stack.length-1];Pe.value=Ee.replace(/(\r?\n|\r)$/g,"")}function P(Ee){const Pe=this.resume(),ut=this.stack[this.stack.length-1];ut.label=Pe,ut.identifier=$s(this.sliceSerialize(Ee)).toLowerCase()}function O(){const Ee=this.resume(),Pe=this.stack[this.stack.length-1];Pe.title=Ee}function z(){const Ee=this.resume(),Pe=this.stack[this.stack.length-1];Pe.url=Ee}function B(Ee){const Pe=this.stack[this.stack.length-1];if(!Pe.depth){const ut=this.sliceSerialize(Ee).length;Pe.depth=ut}}function j(){this.data.setextHeadingSlurpLineEnding=!0}function M(Ee){const Pe=this.stack[this.stack.length-1];Pe.depth=this.sliceSerialize(Ee).codePointAt(0)===61?1:2}function U(){this.data.setextHeadingSlurpLineEnding=void 0}function $(Ee){const ut=this.stack[this.stack.length-1].children;let vt=ut[ut.length-1];(!vt||vt.type!=="text")&&(vt=Pt(),vt.position={start:Oa(Ee.start),end:void 0},ut.push(vt)),this.stack.push(vt)}function D(Ee){const Pe=this.stack.pop();Pe.value+=this.sliceSerialize(Ee),Pe.position.end=Oa(Ee.end)}function ee(Ee){const Pe=this.stack[this.stack.length-1];if(this.data.atHardBreak){const ut=Pe.children[Pe.children.length-1];ut.position.end=Oa(Ee.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(Pe.type)&&($.call(this,Ee),D.call(this,Ee))}function X(){this.data.atHardBreak=!0}function re(){const Ee=this.resume(),Pe=this.stack[this.stack.length-1];Pe.value=Ee}function Q(){const Ee=this.resume(),Pe=this.stack[this.stack.length-1];Pe.value=Ee}function q(){const Ee=this.resume(),Pe=this.stack[this.stack.length-1];Pe.value=Ee}function V(){const Ee=this.stack[this.stack.length-1];if(this.data.inReference){const Pe=this.data.referenceType||"shortcut";Ee.type+="Reference",Ee.referenceType=Pe,delete Ee.url,delete Ee.title}else delete Ee.identifier,delete Ee.label;this.data.referenceType=void 0}function ne(){const Ee=this.stack[this.stack.length-1];if(this.data.inReference){const Pe=this.data.referenceType||"shortcut";Ee.type+="Reference",Ee.referenceType=Pe,delete Ee.url,delete Ee.title}else delete Ee.identifier,delete Ee.label;this.data.referenceType=void 0}function Z(Ee){const Pe=this.sliceSerialize(Ee),ut=this.stack[this.stack.length-2];ut.label=Kne(Pe),ut.identifier=$s(Pe).toLowerCase()}function fe(){const Ee=this.stack[this.stack.length-1],Pe=this.resume(),ut=this.stack[this.stack.length-1];if(this.data.inReference=!0,ut.type==="link"){const vt=Ee.children;ut.children=vt}else ut.alt=Pe}function F(){const Ee=this.resume(),Pe=this.stack[this.stack.length-1];Pe.url=Ee}function G(){const Ee=this.resume(),Pe=this.stack[this.stack.length-1];Pe.title=Ee}function ye(){this.data.inReference=void 0}function H(){this.data.referenceType="collapsed"}function Oe(Ee){const Pe=this.resume(),ut=this.stack[this.stack.length-1];ut.label=Pe,ut.identifier=$s(this.sliceSerialize(Ee)).toLowerCase(),this.data.referenceType="full"}function Ce(Ee){this.data.characterReferenceType=Ee.type}function Te(Ee){const Pe=this.sliceSerialize(Ee),ut=this.data.characterReferenceType;let vt;ut?(vt=cN(Pe,ut==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):vt=x_(Pe);const zt=this.stack[this.stack.length-1];zt.value+=vt}function Ye(Ee){const Pe=this.stack.pop();Pe.position.end=Oa(Ee.end)}function qe(Ee){D.call(this,Ee);const Pe=this.stack[this.stack.length-1];Pe.url=this.sliceSerialize(Ee)}function Ne(Ee){D.call(this,Ee);const Pe=this.stack[this.stack.length-1];Pe.url="mailto:"+this.sliceSerialize(Ee)}function ct(){return{type:"blockquote",children:[]}}function xn(){return{type:"code",lang:null,meta:null,value:""}}function It(){return{type:"inlineCode",value:""}}function En(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function sn(){return{type:"emphasis",children:[]}}function yn(){return{type:"heading",depth:0,children:[]}}function Pi(){return{type:"break"}}function Gr(){return{type:"html",value:""}}function Ri(){return{type:"image",title:null,url:"",alt:null}}function di(){return{type:"link",title:null,url:"",children:[]}}function wt(Ee){return{type:"list",ordered:Ee.type==="listOrdered",start:null,spread:Ee._spread,children:[]}}function on(Ee){return{type:"listItem",spread:Ee._spread,checked:null,children:[]}}function pt(){return{type:"paragraph",children:[]}}function Bt(){return{type:"strong",children:[]}}function Pt(){return{type:"text",value:""}}function Wn(){return{type:"thematicBreak"}}}function Oa(e){return{line:e.line,column:e.column,offset:e.offset}}function UN(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?UN(e,r):koe(e,r)}}function koe(e,t){let n;for(n in t)if($N.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function Wk(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+ch({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+ch({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+ch({start:t.start,end:t.end})+") is still open")}function Coe(e){const t=this;t.parser=n;function n(r){return Soe(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function Toe(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function joe(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function Noe(e,t){const n=t.value?t.value+`
`:"",r={};t.lang&&(r.className=["language-"+t.lang]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(i.data={meta:t.meta}),e.patch(t,i),i=e.applyData(t,i),i={type:"element",tagName:"pre",properties:{},children:[i]},e.patch(t,i),i}function Ioe(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Poe(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Roe(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),i=Ld(r.toLowerCase()),s=e.footnoteOrder.indexOf(r);let o,a=e.footnoteCounts.get(r);a===void 0?(a=0,e.footnoteOrder.push(r),o=e.footnoteOrder.length):o=s+1,a+=1,e.footnoteCounts.set(r,a);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(a>1?"-"+a:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};e.patch(t,l);const u={type:"element",tagName:"sup",properties:{},children:[l]};return e.patch(t,u),e.applyData(t,u)}function Ooe(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Aoe(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function HN(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const i=e.all(t),s=i[0];s&&s.type==="text"?s.value="["+s.value:i.unshift({type:"text",value:"["});const o=i[i.length-1];return o&&o.type==="text"?o.value+=r:i.push({type:"text",value:r}),i}function Moe(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return HN(e,t);const i={src:Ld(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,s),e.applyData(t,s)}function Doe(e,t){const n={src:Ld(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function Loe(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function Foe(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return HN(e,t);const i={href:Ld(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,s),e.applyData(t,s)}function Boe(e,t){const n={href:Ld(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function zoe(e,t,n){const r=e.all(t),i=n?$oe(n):WN(t),s={},o=[];if(typeof t.checked=="boolean"){const f=r[0];let h;f&&f.type==="element"&&f.tagName==="p"?h=f:(h={type:"element",tagName:"p",properties:{},children:[]},r.unshift(h)),h.children.length>0&&h.children.unshift({type:"text",value:" "}),h.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let a=-1;for(;++a<r.length;){const f=r[a];(i||a!==0||f.type!=="element"||f.tagName!=="p")&&o.push({type:"text",value:`
`}),f.type==="element"&&f.tagName==="p"&&!i?o.push(...f.children):o.push(f)}const l=r[r.length-1];l&&(i||l.type!=="element"||l.tagName!=="p")&&o.push({type:"text",value:`
`});const u={type:"element",tagName:"li",properties:s,children:o};return e.patch(t,u),e.applyData(t,u)}function $oe(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=WN(n[r])}return t}function WN(e){const t=e.spread;return t??e.children.length>1}function Uoe(e,t){const n={},r=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++i<r.length;){const o=r[i];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const s={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,s),e.applyData(t,s)}function Hoe(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Woe(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function qoe(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Qoe(e,t){const n=e.all(t),r=n.shift(),i=[];if(r){const o={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],o),i.push(o)}if(n.length>0){const o={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},a=E_(t.children[1]),l=ON(t.children[t.children.length-1]);a&&l&&(o.position={start:a,end:l}),i.push(o)}const s={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,s),e.applyData(t,s)}function Voe(e,t,n){const r=n?n.children:void 0,s=(r?r.indexOf(t):1)===0?"th":"td",o=n&&n.type==="table"?n.align:void 0,a=o?o.length:t.children.length;let l=-1;const u=[];for(;++l<a;){const h=t.children[l],g={},y=o?o[l]:void 0;y&&(g.align=y);let b={type:"element",tagName:s,properties:g,children:[]};h&&(b.children=e.all(h),e.patch(h,b),b=e.applyData(h,b)),u.push(b)}const f={type:"element",tagName:"tr",properties:{},children:e.wrap(u,!0)};return e.patch(t,f),e.applyData(t,f)}function Koe(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const qk=9,Qk=32;function Goe(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),i=0;const s=[];for(;r;)s.push(Vk(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return s.push(Vk(t.slice(i),i>0,!1)),s.join("")}function Vk(e,t,n){let r=0,i=e.length;if(t){let s=e.codePointAt(r);for(;s===qk||s===Qk;)r++,s=e.codePointAt(r)}if(n){let s=e.codePointAt(i-1);for(;s===qk||s===Qk;)i--,s=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function Yoe(e,t){const n={type:"text",value:Goe(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function Xoe(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const Joe={blockquote:Toe,break:joe,code:Noe,delete:Ioe,emphasis:Poe,footnoteReference:Roe,heading:Ooe,html:Aoe,imageReference:Moe,image:Doe,inlineCode:Loe,linkReference:Foe,link:Boe,listItem:zoe,list:Uoe,paragraph:Hoe,root:Woe,strong:qoe,table:Qoe,tableCell:Koe,tableRow:Voe,text:Yoe,thematicBreak:Xoe,toml:hg,yaml:hg,definition:hg,footnoteDefinition:hg};function hg(){}const qN=-1,L1=0,uh=1,D0=2,j_=3,N_=4,I_=5,P_=6,QN=7,VN=8,Kk=typeof self=="object"?self:globalThis,Zoe=(e,t)=>{const n=(i,s)=>(e.set(s,i),i),r=i=>{if(e.has(i))return e.get(i);const[s,o]=t[i];switch(s){case L1:case qN:return n(o,i);case uh:{const a=n([],i);for(const l of o)a.push(r(l));return a}case D0:{const a=n({},i);for(const[l,u]of o)a[r(l)]=r(u);return a}case j_:return n(new Date(o),i);case N_:{const{source:a,flags:l}=o;return n(new RegExp(a,l),i)}case I_:{const a=n(new Map,i);for(const[l,u]of o)a.set(r(l),r(u));return a}case P_:{const a=n(new Set,i);for(const l of o)a.add(r(l));return a}case QN:{const{name:a,message:l}=o;return n(new Kk[a](l),i)}case VN:return n(BigInt(o),i);case"BigInt":return n(Object(BigInt(o)),i);case"ArrayBuffer":return n(new Uint8Array(o).buffer,o);case"DataView":{const{buffer:a}=new Uint8Array(o);return n(new DataView(a),o)}}return n(new Kk[s](o),i)};return r},Gk=e=>Zoe(new Map,e)(0),Bu="",{toString:eae}={},{keys:tae}=Object,Lf=e=>{const t=typeof e;if(t!=="object"||!e)return[L1,t];const n=eae.call(e).slice(8,-1);switch(n){case"Array":return[uh,Bu];case"Object":return[D0,Bu];case"Date":return[j_,Bu];case"RegExp":return[N_,Bu];case"Map":return[I_,Bu];case"Set":return[P_,Bu];case"DataView":return[uh,n]}return n.includes("Array")?[uh,n]:n.includes("Error")?[QN,n]:[D0,n]},pg=([e,t])=>e===L1&&(t==="function"||t==="symbol"),nae=(e,t,n,r)=>{const i=(o,a)=>{const l=r.push(o)-1;return n.set(a,l),l},s=o=>{if(n.has(o))return n.get(o);let[a,l]=Lf(o);switch(a){case L1:{let f=o;switch(l){case"bigint":a=VN,f=o.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+l);f=null;break;case"undefined":return i([qN],o)}return i([a,f],o)}case uh:{if(l){let g=o;return l==="DataView"?g=new Uint8Array(o.buffer):l==="ArrayBuffer"&&(g=new Uint8Array(o)),i([l,[...g]],o)}const f=[],h=i([a,f],o);for(const g of o)f.push(s(g));return h}case D0:{if(l)switch(l){case"BigInt":return i([l,o.toString()],o);case"Boolean":case"Number":case"String":return i([l,o.valueOf()],o)}if(t&&"toJSON"in o)return s(o.toJSON());const f=[],h=i([a,f],o);for(const g of tae(o))(e||!pg(Lf(o[g])))&&f.push([s(g),s(o[g])]);return h}case j_:return i([a,o.toISOString()],o);case N_:{const{source:f,flags:h}=o;return i([a,{source:f,flags:h}],o)}case I_:{const f=[],h=i([a,f],o);for(const[g,y]of o)(e||!(pg(Lf(g))||pg(Lf(y))))&&f.push([s(g),s(y)]);return h}case P_:{const f=[],h=i([a,f],o);for(const g of o)(e||!pg(Lf(g)))&&f.push(s(g));return h}}const{message:u}=o;return i([a,{name:l,message:u}],o)};return s},Yk=(e,{json:t,lossy:n}={})=>{const r=[];return nae(!(t||n),!!t,new Map,r)(e),r},L0=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?Gk(Yk(e,t)):structuredClone(e):(e,t)=>Gk(Yk(e,t));function rae(e,t){const n=[{type:"text",value:"↩"}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function iae(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function sae(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||rae,r=e.options.footnoteBackLabel||iae,i=e.options.footnoteLabel||"Footnotes",s=e.options.footnoteLabelTagName||"h2",o=e.options.footnoteLabelProperties||{className:["sr-only"]},a=[];let l=-1;for(;++l<e.footnoteOrder.length;){const u=e.footnoteById.get(e.footnoteOrder[l]);if(!u)continue;const f=e.all(u),h=String(u.identifier).toUpperCase(),g=Ld(h.toLowerCase());let y=0;const b=[],_=e.footnoteCounts.get(h);for(;_!==void 0&&++y<=_;){b.length>0&&b.push({type:"text",value:" "});let P=typeof n=="string"?n:n(l,y);typeof P=="string"&&(P={type:"text",value:P}),b.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+g+(y>1?"-"+y:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(l,y),className:["data-footnote-backref"]},children:Array.isArray(P)?P:[P]})}const E=f[f.length-1];if(E&&E.type==="element"&&E.tagName==="p"){const P=E.children[E.children.length-1];P&&P.type==="text"?P.value+=" ":E.children.push({type:"text",value:" "}),E.children.push(...b)}else f.push(...b);const C={type:"element",tagName:"li",properties:{id:t+"fn-"+g},children:e.wrap(f,!0)};e.patch(u,C),a.push(C)}if(a.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:s,properties:{...L0(o),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(a,!0)},{type:"text",value:`
`}]}}const x2={}.hasOwnProperty,oae={};function aae(e,t){const n=t||oae,r=new Map,i=new Map,s=new Map,o={...Joe,...n.handlers},a={all:u,applyData:cae,definitionById:r,footnoteById:i,footnoteCounts:s,footnoteOrder:[],handlers:o,one:l,options:n,patch:lae,wrap:dae};return g_(e,function(f){if(f.type==="definition"||f.type==="footnoteDefinition"){const h=f.type==="definition"?r:i,g=String(f.identifier).toUpperCase();h.has(g)||h.set(g,f)}}),a;function l(f,h){const g=f.type,y=a.handlers[g];if(x2.call(a.handlers,g)&&y)return y(a,f,h);if(a.options.passThrough&&a.options.passThrough.includes(g)){if("children"in f){const{children:_,...E}=f,C=L0(E);return C.children=a.all(f),C}return L0(f)}return(a.options.unknownHandler||uae)(a,f,h)}function u(f){const h=[];if("children"in f){const g=f.children;let y=-1;for(;++y<g.length;){const b=a.one(g[y],f);if(b){if(y&&g[y-1].type==="break"&&(!Array.isArray(b)&&b.type==="text"&&(b.value=Xk(b.value)),!Array.isArray(b)&&b.type==="element")){const _=b.children[0];_&&_.type==="text"&&(_.value=Xk(_.value))}Array.isArray(b)?h.push(...b):h.push(b)}}}return h}}function lae(e,t){e.position&&(t.position=Nse(e))}function cae(e,t){let n=t;if(e&&e.data){const r=e.data.hName,i=e.data.hChildren,s=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const o="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:o}}n.type==="element"&&s&&Object.assign(n.properties,L0(s)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function uae(e,t){const n=t.data||{},r="value"in t&&!(x2.call(n,"hProperties")||x2.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function dae(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function Xk(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function Jk(e,t){const n=aae(e,t),r=n.one(e,void 0),i=sae(n),s=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&s.children.push({type:"text",value:`
`},i),s}function fae(e,t){return e&&"run"in e?async function(n,r){const i=Jk(n,{file:r,...t});await e.run(i,r)}:function(n,r){return Jk(n,{file:r,...e||t})}}function Zk(e){if(e)throw e}var Ix,eC;function hae(){if(eC)return Ix;eC=1;var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,i=function(u){return typeof Array.isArray=="function"?Array.isArray(u):t.call(u)==="[object Array]"},s=function(u){if(!u||t.call(u)!=="[object Object]")return!1;var f=e.call(u,"constructor"),h=u.constructor&&u.constructor.prototype&&e.call(u.constructor.prototype,"isPrototypeOf");if(u.constructor&&!f&&!h)return!1;var g;for(g in u);return typeof g>"u"||e.call(u,g)},o=function(u,f){n&&f.name==="__proto__"?n(u,f.name,{enumerable:!0,configurable:!0,value:f.newValue,writable:!0}):u[f.name]=f.newValue},a=function(u,f){if(f==="__proto__")if(e.call(u,f)){if(r)return r(u,f).value}else return;return u[f]};return Ix=function l(){var u,f,h,g,y,b,_=arguments[0],E=1,C=arguments.length,P=!1;for(typeof _=="boolean"&&(P=_,_=arguments[1]||{},E=2),(_==null||typeof _!="object"&&typeof _!="function")&&(_={});E<C;++E)if(u=arguments[E],u!=null)for(f in u)h=a(_,f),g=a(u,f),_!==g&&(P&&g&&(s(g)||(y=i(g)))?(y?(y=!1,b=h&&i(h)?h:[]):b=h&&s(h)?h:{},o(_,{name:f,newValue:l(P,b,g)})):typeof g<"u"&&o(_,{name:f,newValue:g}));return _},Ix}var pae=hae();const Px=Ni(pae);function b2(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function mae(){const e=[],t={run:n,use:r};return t;function n(...i){let s=-1;const o=i.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);a(null,...i);function a(l,...u){const f=e[++s];let h=-1;if(l){o(l);return}for(;++h<i.length;)(u[h]===null||u[h]===void 0)&&(u[h]=i[h]);i=u,f?gae(f,a)(...u):o(null,...u)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function gae(e,t){let n;return r;function r(...o){const a=e.length>o.length;let l;a&&o.push(i);try{l=e.apply(this,o)}catch(u){const f=u;if(a&&n)throw f;return i(f)}a||(l&&l.then&&typeof l.then=="function"?l.then(s,i):l instanceof Error?i(l):s(l))}function i(o,...a){n||(n=!0,t(o,...a))}function s(o){i(null,o)}}const ro={basename:yae,dirname:vae,extname:xae,join:bae,sep:"/"};function yae(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');yp(e);let n=0,r=-1,i=e.length,s;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(s){n=i+1;break}}else r<0&&(s=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let o=-1,a=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(s){n=i+1;break}}else o<0&&(s=!0,o=i+1),a>-1&&(e.codePointAt(i)===t.codePointAt(a--)?a<0&&(r=i):(a=-1,r=o));return n===r?r=o:r<0&&(r=e.length),e.slice(n,r)}function vae(e){if(yp(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function xae(e){yp(e);let t=e.length,n=-1,r=0,i=-1,s=0,o;for(;t--;){const a=e.codePointAt(t);if(a===47){if(o){r=t+1;break}continue}n<0&&(o=!0,n=t+1),a===46?i<0?i=t:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||n<0||s===0||s===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function bae(...e){let t=-1,n;for(;++t<e.length;)yp(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":wae(n)}function wae(e){yp(e);const t=e.codePointAt(0)===47;let n=_ae(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function _ae(e,t){let n="",r=0,i=-1,s=0,o=-1,a,l;for(;++o<=e.length;){if(o<e.length)a=e.codePointAt(o);else{if(a===47)break;a=47}if(a===47){if(!(i===o-1||s===1))if(i!==o-1&&s===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),i=o,s=0;continue}}else if(n.length>0){n="",r=0,i=o,s=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,o):n=e.slice(i+1,o),r=o-i-1;i=o,s=0}else a===46&&s>-1?s++:s=-1}return n}function yp(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const Sae={cwd:Eae};function Eae(){return"/"}function w2(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function kae(e){if(typeof e=="string")e=new URL(e);else if(!w2(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return Cae(e)}function Cae(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const Rx=["history","path","basename","stem","extname","dirname"];class KN{constructor(t){let n;t?w2(t)?n={path:t}:typeof t=="string"||Tae(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":Sae.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<Rx.length;){const s=Rx[r];s in n&&n[s]!==void 0&&n[s]!==null&&(this[s]=s==="history"?[...n[s]]:n[s])}let i;for(i in n)Rx.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?ro.basename(this.path):void 0}set basename(t){Ax(t,"basename"),Ox(t,"basename"),this.path=ro.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?ro.dirname(this.path):void 0}set dirname(t){tC(this.basename,"dirname"),this.path=ro.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?ro.extname(this.path):void 0}set extname(t){if(Ox(t,"extname"),tC(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=ro.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){w2(t)&&(t=kae(t)),Ax(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?ro.basename(this.path,this.extname):void 0}set stem(t){Ax(t,"stem"),Ox(t,"stem"),this.path=ro.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=void 0,i}message(t,n,r){const i=new Kr(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function Ox(e,t){if(e&&e.includes(ro.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+ro.sep+"`")}function Ax(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function tC(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function Tae(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const jae=function(e){const r=this.constructor.prototype,i=r[e],s=function(){return i.apply(s,arguments)};return Object.setPrototypeOf(s,r),s},Nae={}.hasOwnProperty;class R_ extends jae{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=mae()}copy(){const t=new R_;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(Px(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(Lx("data",this.frozen),this.namespace[t]=n,this):Nae.call(this.namespace,t)&&this.namespace[t]||void 0:t?(Lx("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(t,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=mg(t),r=this.parser||this.Parser;return Mx("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),Mx("process",this.parser||this.Parser),Dx("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(s,o){const a=mg(t),l=r.parse(a);r.run(l,a,function(f,h,g){if(f||!h||!g)return u(f);const y=h,b=r.stringify(y,g);Rae(b)?g.value=b:g.result=b,u(f,g)});function u(f,h){f||!h?o(f):s?s(h):n(void 0,h)}}}processSync(t){let n=!1,r;return this.freeze(),Mx("processSync",this.parser||this.Parser),Dx("processSync",this.compiler||this.Compiler),this.process(t,i),rC("processSync","process",n),r;function i(s,o){n=!0,Zk(s),r=o}}run(t,n,r){nC(t),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?s(void 0,r):new Promise(s);function s(o,a){const l=mg(n);i.run(t,l,u);function u(f,h,g){const y=h||t;f?a(f):o?o(y):r(void 0,y,g)}}}runSync(t,n){let r=!1,i;return this.run(t,n,s),rC("runSync","run",r),i;function s(o,a){Zk(o),i=a,r=!0}}stringify(t,n){this.freeze();const r=mg(n),i=this.compiler||this.Compiler;return Dx("stringify",i),nC(t),i(t,r)}use(t,...n){const r=this.attachers,i=this.namespace;if(Lx("use",this.frozen),t!=null)if(typeof t=="function")l(t,n);else if(typeof t=="object")Array.isArray(t)?a(t):o(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function s(u){if(typeof u=="function")l(u,[]);else if(typeof u=="object")if(Array.isArray(u)){const[f,...h]=u;l(f,h)}else o(u);else throw new TypeError("Expected usable value, not `"+u+"`")}function o(u){if(!("plugins"in u)&&!("settings"in u))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");a(u.plugins),u.settings&&(i.settings=Px(!0,i.settings,u.settings))}function a(u){let f=-1;if(u!=null)if(Array.isArray(u))for(;++f<u.length;){const h=u[f];s(h)}else throw new TypeError("Expected a list of plugins, not `"+u+"`")}function l(u,f){let h=-1,g=-1;for(;++h<r.length;)if(r[h][0]===u){g=h;break}if(g===-1)r.push([u,...f]);else if(f.length>0){let[y,...b]=f;const _=r[g][1];b2(_)&&b2(y)&&(y=Px(!0,_,y)),r[g]=[u,y,...b]}}}}const Iae=new R_().freeze();function Mx(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function Dx(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function Lx(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function nC(e){if(!b2(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function rC(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function mg(e){return Pae(e)?e:new KN(e)}function Pae(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function Rae(e){return typeof e=="string"||Oae(e)}function Oae(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const Aae="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",iC=[],sC={allowDangerousHtml:!0},Mae=/^(https?|ircs?|mailto|xmpp)$/i,Dae=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function Lae(e){const t=Fae(e),n=Bae(e);return zae(t.runSync(t.parse(n),n),e)}function Fae(e){const t=e.rehypePlugins||iC,n=e.remarkPlugins||iC,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...sC}:sC;return Iae().use(Coe).use(n).use(fae,r).use(t)}function Bae(e){const t=e.children||"",n=new KN;return typeof t=="string"&&(n.value=t),n}function zae(e,t){const n=t.allowedElements,r=t.allowElement,i=t.components,s=t.disallowedElements,o=t.skipHtml,a=t.unwrapDisallowed,l=t.urlTransform||$ae;for(const f of Dae)Object.hasOwn(t,f.from)&&(""+f.from+(f.to?"use `"+f.to+"` instead":"remove it")+Aae+f.id,void 0);return g_(e,u),Ase(e,{Fragment:p.Fragment,components:i,ignoreInvalidStyle:!0,jsx:p.jsx,jsxs:p.jsxs,passKeys:!0,passNode:!0});function u(f,h,g){if(f.type==="raw"&&g&&typeof h=="number")return o?g.children.splice(h,1):g.children[h]={type:"text",value:f.value},h;if(f.type==="element"){let y;for(y in Nx)if(Object.hasOwn(Nx,y)&&Object.hasOwn(f.properties,y)){const b=f.properties[y],_=Nx[y];(_===null||_.includes(f.tagName))&&(f.properties[y]=l(String(b||""),y,f))}}if(f.type==="element"){let y=n?!n.includes(f.tagName):s?s.includes(f.tagName):!1;if(!y&&r&&typeof h=="number"&&(y=!r(f,h,g)),y&&g&&typeof h=="number")return a&&f.children?g.children.splice(h,1,...f.children):g.children.splice(h,1),h}}}function $ae(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),i=e.indexOf("/");return t===-1||i!==-1&&t>i||n!==-1&&t>n||r!==-1&&t>r||Mae.test(e.slice(0,t))?e:""}function Uae(){return Hs({queryKey:["faq"],queryFn:Hae,staleTime:1/0,select:e=>e.faq.map((t,n)=>({...t,id:n}))})}const Hae=async()=>await Ow("/faq.json"),_2=e=>I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:14,height:16,viewBox:"0 0 14 16",...e},I.createElement("defs",null,I.createElement("clipPath",{id:"master_svg0_137_3346"},I.createElement("rect",{x:0,y:0,width:14,height:16,rx:0}))),I.createElement("g",{clipPath:"url(#master_svg0_137_3346)"},I.createElement("g",{transform:"matrix(1,0,0,-1,0,26.6875)"},I.createElement("g",null,I.createElement("path",{d:"M6.28125,13.625Q6.59375,13.34375,7,13.34375Q7.40625,13.34375,7.71875,13.625L13.7188,19.625Q14,19.9375,14,20.34375Q14,20.75,13.7188,21.0625Q13.4062,21.34375,13,21.34375Q12.5938,21.34375,12.2812,21.0625L7,15.75L1.71875,21.0625Q1.40625,21.34375,1,21.34375Q0.59375,21.34375,0.28125,21.0625Q0,20.75,0,20.34375Q0,19.9375,0.28125,19.625L6.28125,13.625Z",fill:"#9CA3AF",fillOpacity:1,style:{mixBlendMode:"passthrough"}}))))),Wae={h2:e=>p.jsx("h2",{...e,className:"text-lg font-bold my-4"}),h3:e=>p.jsx("h3",{...e,className:"text-base font-bold my-4"}),a:e=>p.jsx("a",{...e,className:"text-blue-500 underline"})},qae=e=>I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:14,height:16,viewBox:"0 0 14 16",...e},I.createElement("defs",null,I.createElement("clipPath",{id:"master_svg0_137_3346"},I.createElement("rect",{x:0,y:0,width:14,height:16,rx:0}))),I.createElement("g",{clipPath:"url(#master_svg0_137_3346)"},I.createElement("g",{transform:"matrix(1,0,0,-1,0,26.6875)"},I.createElement("g",null,I.createElement("path",{d:"M6.28125,13.625Q6.59375,13.34375,7,13.34375Q7.40625,13.34375,7.71875,13.625L13.7188,19.625Q14,19.9375,14,20.34375Q14,20.75,13.7188,21.0625Q13.4062,21.34375,13,21.34375Q12.5938,21.34375,12.2812,21.0625L7,15.75L1.71875,21.0625Q1.40625,21.34375,1,21.34375Q0.59375,21.34375,0.28125,21.0625Q0,20.75,0,20.34375Q0,19.9375,0.28125,19.625L6.28125,13.625Z",fill:"#9CA3AF",fillOpacity:1,style:{mixBlendMode:"passthrough"}}))))),Qae=e=>I.createElement("svg",{width:10,height:6,viewBox:"0 0 10 6",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},I.createElement("path",{d:"M8.25973 0.605623C8.55264 0.312924 9.02745 0.312795 9.32028 0.605623C9.61297 0.898463 9.61293 1.37331 9.32028 1.66617L5.54098 5.44449C5.24809 5.73737 4.77332 5.73738 4.48043 5.44449L0.702114 1.66617C0.409291 1.37328 0.409254 0.898495 0.702114 0.605623C0.994986 0.312752 1.46976 0.312796 1.76266 0.605623L5.01071 3.85367L8.25973 0.605623Z",fill:"#047CFE"})),Vae=({className:e,selected:t=!1})=>t?p.jsx(Qae,{className:e}):p.jsx(qae,{className:e}),Kae=e=>I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:10,height:10,viewBox:"0. 0. 11 11",...e},I.createElement("g",{transform:"matrix(1,0,0,-1,0,20)"},I.createElement("path",{d:"M9.71875,18.28125Q10,18.59375,10,19Q10,19.40625,9.71875,19.71875Q9.40625,20,9,20Q8.59375,20,8.28125,19.71875L5,16.40625L1.71875,19.71875Q1.40625,20,1,20Q0.59375,20,0.28125,19.71875Q0,19.40625,0,19Q0,18.59375,0.28125,18.28125L3.59375,15L0.28125,11.71875Q0,11.40625,0,11Q0,10.59375,0.28125,10.28125Q0.59375,10,1,10Q1.40625,10,1.71875,10.28125L5,13.59375L8.28125,10.28125Q8.59375,10,9,10Q9.40625,10,9.71875,10.28125Q10,10.59375,10,11Q10,11.40625,9.71875,11.71875L6.40625,15L9.71875,18.28125Z",fill:"#9CA3AF",fillOpacity:1,style:{mixBlendMode:"passthrough"}}))),Gae=e=>I.createElement("svg",{width:12,height:13,viewBox:"0 0 12 13",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},I.createElement("path",{d:"M9.25946 2.20234C9.55235 1.90944 10.0271 1.90944 10.32 2.20234C10.6129 2.49523 10.6129 2.97 10.32 3.26288L7.07196 6.51093L10.32 9.75898C10.6129 10.0519 10.6129 10.5276 10.32 10.8205C10.0272 11.113 9.55228 11.1131 9.25946 10.8205L6.01044 7.57148L2.76337 10.8205C2.47049 11.1134 1.99474 11.1134 1.70184 10.8205C1.40895 10.5276 1.40896 10.0519 1.70184 9.75898L4.94989 6.51093L1.70184 3.26288C1.40922 2.97007 1.4093 2.4952 1.70184 2.20234C1.99474 1.90944 2.47047 1.90944 2.76337 2.20234L6.01044 5.44941L9.25946 2.20234Z",fill:"#047CFE"})),Yae=({className:e,selected:t=!1})=>t?p.jsx(Gae,{className:e}):p.jsx(Kae,{className:e});function Xae(e){return e?"bg-blue-100 text-blue-500 focus:outline-blue-500":"bg-gray-100 text-gray-700 focus:outline-gray-400"}function hs({label:e="Chip",selected:t,chipType:n,containerRef:r,onClick:i,...s}){return p.jsxs("button",{type:"button",ref:r,className:`items-center justify-center px-3 py-2 rounded-lg cursor-pointer text-sm gap-4 flex flex-row max-w-40 ${Xae(t)} 
     `,"aria-pressed":t,onClick:i,...s,children:[p.jsx("span",{className:"text-xs sm:text-sm truncate",children:e}),n==="select"&&p.jsx(Vae,{selected:t,className:"w-4 h-4 pointer-events-none"}),n==="cancel"&&p.jsx(Yae,{selected:t,className:"w-4 h-4 pointer-events-none"})]})}const Jae={all:"기타",timetable:"시간표",wishes:"관심과목",simulation:"올클연습",live:"실시간"};function Zae(e){return Array.from(new Set(e))}function ele(){const e=fo(),t=e.hash,n=t?parseInt(t.replace("#","")):null,[r,i]=I.useState(n),{data:s}=Uae(),[o,a]=I.useState(null),l=Zae(s?.map(g=>g.tag)??[]),u=o?s?.filter(g=>g.tag===o):s,f=g=>{i(r===g?null:g)};I.useEffect(()=>{if(e.hash){const g=parseInt(e.hash.replace("#",""));setTimeout(()=>{const y=document.getElementById("faq-container-"+g);y&&(y.scrollIntoView({behavior:"smooth"}),i(g))},300)}},[e.hash]);const h=g=>{a(y=>y===g?null:g)};return p.jsxs(p.Fragment,{children:[p.jsx(gr,{children:p.jsx("title",{children:"ALLCLL | 자주 묻는 질문"})}),p.jsxs("div",{className:"mx-auto max-w-7xl px-4 md:px-16 py-24",children:[p.jsx("h1",{className:"text-3xl font-bold mb-6",children:"자주 묻는 질문"}),p.jsx("div",{className:"flex flex-wrap gap-2 mb-6",children:l.length>0&&l.map((g,y)=>p.jsx(hs,{label:Jae[g]||g,onClick:()=>h(g),selected:o===g},"faq-chip-"+y))}),u&&u.map(g=>p.jsx(tle,{item:g,index:g.id,isOpen:r===g.id,toggleAnswer:f},g.id))]})]})}function tle({item:e,index:t,isOpen:n,toggleAnswer:r}){return p.jsxs("div",{id:"faq-container-"+t,className:"mb-4 rounded-md bg-white shadow-sm",children:[p.jsxs("button",{onClick:()=>r(t),className:"flex items-center justify-between rounded-md w-full text-left font-semibold text-md p-4 hover:bg-blue-50 focus:outline-none cursor-pointer "+(n?"text-blue-600 font-bold":""),children:[e.question,p.jsx(_2,{className:"w-4 h-4 transform transition-transform duration-150 "+(n?"rotate-180":"")})]}),n&&p.jsx("div",{className:"p-4 border-t border-gray-200 text-sm",children:p.jsx(Lae,{remarkPlugins:[sse],components:Wae,children:e.answer})})]},t)}const nle=e=>I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:16.508930206298828,height:16.008333206176758,viewBox:"0 0 16.508930206298828 16.008333206176758",...e},I.createElement("g",{transform:"matrix(1,0,0,-1,0,32.016666412353516)"},I.createElement("path",{d:"M8.25446,32.016633206176756Q8.72321,31.985433206176758,8.94196,31.579133206176756L11.067,27.172933206176758L15.8482,26.485433206176758Q16.317,26.391633206176756,16.4732,25.95416320617676Q16.5982,25.51666320617676,16.2857,25.20416320617676L12.817,21.76666320617676L13.6295,16.891666206176758Q13.692,16.454166206176758,13.317,16.141666206176758Q12.942,15.891666206176758,12.5357,16.110416206176758L8.25446,18.39166320617676L3.97321,16.110416206176758Q3.56696,15.891666206176758,3.19196,16.172916206176758Q2.81696,16.454166206176758,2.87946,16.891666206176758L3.69196,21.76666320617676L0.223214,25.20416320617676Q-0.0892857,25.51666320617676,0.0357143,25.95416320617676Q0.191964,26.391633206176756,0.660714,26.485433206176758L5.44196,27.172933206176758L7.56696,31.579133206176756Q7.78571,31.985433206176758,8.25446,32.016633206176756ZM8.25446,29.547933206176758L6.59821,26.172933206176758L8.25446,29.547933206176758L6.59821,26.172933206176758Q6.44196,25.82916320617676,6.03571,25.73541320617676L2.34821,25.20416320617676L5.03571,22.54791320617676Q5.28571,22.26666320617676,5.25446,21.89166320617676L4.59821,18.14166320617676L7.91071,19.89166320617676Q8.25446,20.07916320617676,8.59821,19.89166320617676L11.8795,18.14166320617676L11.2545,21.89166320617676Q11.192,22.26666320617676,11.4732,22.54791320617676L14.1607,25.20416320617676L10.4732,25.73541320617676Q10.067,25.82916320617676,9.91071,26.172933206176758L8.25446,29.547933206176758Z",fill:"#9CA3AF",fillOpacity:1,style:{mixBlendMode:"passthrough"}}))),rle=e=>I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:16.505903244018555,height:16.001562118530273,viewBox:"0 0 16.505903244018555 16.001562118530273",...e},I.createElement("g",{transform:"matrix(1,0,0,-1,0,32.00312423706055)"},I.createElement("path",{d:"M9.15,31.440662118530273Q8.86875,31.971862118530275,8.24375,32.00316211853027Q7.65,31.971862118530275,7.3375,31.440662118530273L5.3375,27.315662118530273L0.8375,26.628162118530273Q0.24375,26.534362118530275,0.05625,25.97187211853027Q-0.13125,25.37812211853027,0.30625,24.94062211853027L3.55625,21.72187211853027L2.775,17.159372118530275Q2.7125,16.565625118530274,3.18125,16.190625118530274Q3.68125,15.846875118530274,4.24375,16.128125118530274L8.24375,18.253122118530275L12.275,16.128125118530274Q12.8062,15.846875118530274,13.3062,16.190625118530274Q13.8062,16.565625118530274,13.7125,17.159372118530275L12.9625,21.72187211853027L16.2125,24.94062211853027Q16.6187,25.37812211853027,16.4625,25.97187211853027Q16.2437,26.534362118530275,15.65,26.628162118530273L11.15,27.315662118530273L9.15,31.440662118530273Z",fill:"#FACC15",fillOpacity:1,style:{mixBlendMode:"passthrough"}})));function GN({disabled:e}){return e?p.jsx(nle,{className:"w-4 h-4"}):p.jsx(rle,{className:"w-4 h-4"})}const S2=Or((e,t)=>({favorites:JSON.parse(localStorage.getItem("favorites")??"[]"),toggleFavorite:n=>{const r=t().favorites.includes(n);e(i=>{const s=r?i.favorites.filter(o=>o!==n):[...i.favorites,n];return localStorage.setItem("favorites",JSON.stringify(s)),{favorites:s}})},isFavorite:n=>t().favorites.includes(n)}));function YN({subject:e,className:t,onClick:n,...r}){const i=S2(f=>f.isFavorite),s=S2(f=>f.toggleFavorite),[o,a]=I.useState(i(e.subjectId)),l=o?"즐겨찾기에서 제거":"즐겨찾기에 추가",u=f=>{a(h=>!h),s(e.subjectId),n&&n(f)};return p.jsx("button",{className:"cursor-pointer "+(t??""),onClick:u,title:l,"aria-label":l,...r,children:p.jsx(GN,{disabled:!o})})}const Ju=[{name:"",key:""},{name:"학수번호",key:"subjectCode"},{name:"분반",key:"classCode"},{name:"개설 학과",key:"departmentName"},{name:"과목명",key:"subjectName"},{name:"교수명",key:"professorName"},{name:"관심",key:"totalCount"},{name:"여석",key:"seat"}];function XN({data:e,isPending:t=!1}){const n=e&&e[0]&&"seat"in e[0],{isPreSeatAvailable:r}=pp({hasSeats:n}),i=r?Ju:Ju.filter(s=>s.key!=="seat");return p.jsxs("table",{className:"w-full bg-white rounded-lg relative text-sm",children:[p.jsx("thead",{children:p.jsx("tr",{className:"bg-gray-50 sticky top-0 z-10 text-nowrap",children:i.map(({name:s})=>p.jsx("th",{className:"px-4 py-2",children:s},"table-header-name-"+s))})}),p.jsx("tbody",{children:p.jsx(ile,{data:e,isPending:t})})]})}function ile({data:e,isPending:t=!1}){const{visibleRows:n}=R1(e??[],"selector"),r=e?e.slice(0,n):[],i=e&&e[0]&&"seat"in e[0],{isPreSeatAvailable:s}=pp({hasSeats:i}),o=s?Ju:Ju.filter(a=>a.key!=="seat");return t||!e?p.jsx(T1,{row:5,col:Ju.length}):e.length?p.jsxs(p.Fragment,{children:[r.map(a=>p.jsx(sle,{data:a,tableHeaders:o},`${a.subjectCode} ${a.subjectId} ${a.professorName}`)),p.jsx("tr",{className:"load-more-trigger"})]}):p.jsx(JN,{col:Ju.length})}function JN({col:e}){return p.jsx("tr",{children:p.jsx("td",{colSpan:e,className:"text-center py-4",children:p.jsxs("div",{className:"flex flex-col items-center",children:[p.jsx(ap,{className:"w-12 h-12"}),p.jsx("p",{className:"text-gray-500 font-bold mt-4",children:"검색된 과목이 없습니다."}),p.jsx("p",{className:"text-gray-400 text-xs mt-1",children:"다른 검색어로 다시 시도해보세요."})]})})})}const sle=({data:e,tableHeaders:t})=>{const n=e.curiLangNm==="영어",i=e.isDeleted?"bg-gray-100 hover:bg-gray-200":n?"bg-green-50 hover:bg-green-100":"bg-white hover:bg-gray-100";return p.jsxs("tr",{className:`border-t border-gray-200 text-black ${i}`,children:[p.jsx("td",{className:"px-4 py-2",children:p.jsx("div",{className:"flex items-center gap-2",children:p.jsx(YN,{subject:e})})}),p.jsx(ale,{data:e,tableHeaders:t})]})},ole=(e,t)=>e.data.subjectId===t.data.subjectId&&"seat"in e=="seat"in t,ale=I.memo(({data:e,tableHeaders:t})=>{const{selectTargetOnly:n}=dp();function r(){n(e.subjectId),I1(e.departmentCode)}return t.slice(1,10).map(({key:i})=>p.jsx("td",{className:"px-4 py-2 text-center",children:p.jsx(li,{to:`/wishes/${e.subjectId}`,onClick:r,children:p.jsx(lle,{data:e,headerType:i})})},i))},ole);function lle({data:e,headerType:t}){switch(t){case"":return p.jsx(p.Fragment,{children:"시간표"});case"totalCount":return p.jsx(cle,{wishCount:e.totalCount});case"seat":return p.jsx(ule,{seat:e.seat});default:return e[t]?.toString()}}function cle({wishCount:e}){const t=fj(e);return e>=0?p.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold ${t}`,children:e}):p.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-bold bg-gray-300",children:"-"})}function ule({seat:e}){return e>=0?p.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold ${Dc(e)}`,children:e}):p.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-bold bg-gray-300",children:"-"})}const Uo=Or(e=>({searchInput:"",selectedDepartment:"",isFavorite:!1,isPinned:!1,searchParams:{searchInput:"",selectedDepartment:"",isFavorite:!1},setSearchInput:t=>e(()=>({searchInput:t})),setSelectedDepartment:t=>e(()=>({selectedDepartment:t})),setToggleFavorite:()=>e(t=>({isFavorite:!t.isFavorite})),setTogglePinned:()=>e(t=>({isPinned:!t.isPinned})),setSearchParams:t=>e(()=>({searchParams:t}))}));function dle(){const e=Uo(u=>u.selectedDepartment),t=Uo(u=>u.searchInput),n=Uo(u=>u.isFavorite),r=Uo(u=>u.setSearchInput),i=Uo(u=>u.setSelectedDepartment),s=Uo(u=>u.setToggleFavorite),o=Uo(u=>u.setSearchParams);I.useEffect(()=>{o({searchInput:t,selectedDepartment:e,isFavorite:n})},[t,e,n]);const a=u=>{r(u.target.value)},l=u=>{i(u.target.value)};return p.jsxs("div",{className:"flex flex-wrap gap-2 mt-4 text-sm lg:flex-nowrap lg:flex-row lg:items-center lg:gap-y-0 lg:gap-x-2",children:[p.jsx(Lc,{type:"text",placeholder:"과목명, 교수명 또는 학수번호 및 분반 검색",className:"pl-10 pr-4 py-2 rounded-md w-full bg-white border border-gray-400",value:t,onDelete:()=>r(""),onChange:a}),p.jsx(lp,{value:e,style:{maxWidth:"calc(100vw - 64px)"},onChange:l}),p.jsx("div",{className:"flex items-center space-x-2",children:p.jsx("button",{className:"p-2 rounded-md flex gap-2 items-center border border-gray-400 bg-white hover:bg-gray-100",onClick:s,"aria-label":n?"즐겨찾기 필터 제거":"즐겨찾기 필터 추가",title:n?"즐겨찾기 필터 제거":"즐겨찾기 필터 추가",children:p.jsx(GN,{disabled:!n})})})]})}function fle(e=200){const[t,n]=I.useState(!1);return I.useEffect(()=>{const i=()=>n(window.scrollY>e);return i(),window.addEventListener("scroll",i,{passive:!0}),()=>window.removeEventListener("scroll",i)},[e]),{isVisible:t,scrollToTop:()=>{window.scrollTo({top:0,behavior:"smooth"})}}}function ZN({right:e="right-2 sm:right-10",bottom:t="bottom-4"}){const{isVisible:n,scrollToTop:r}=fle(200);return p.jsx("button",{"aria-label":"맨 위로 가기",className:`fixed ${t} ${e} z-50 w-12 h-12 rounded-full bg-blue-500 text-white shadow-lg 
                  flex justify-center items-center cursor-pointer transition-opacity duration-200
                  ${n?"opacity-100":"opacity-0 pointer-events-none"}`,onClick:r,children:p.jsx(U9,{className:"w-6 h-6 -rotate-90"})})}function hle(){const e=ds(t=>t.setIsSearchOpen);return p.jsxs(p.Fragment,{children:[p.jsx(gr,{children:p.jsx("title",{children:"ALLCLL | 관심과목 분석"})}),p.jsx("div",{className:"mx-auto max-w-7xl px-4 md:px-16 mb-8",children:p.jsxs("div",{className:"py-12 px-2",children:[p.jsx("h1",{className:"text-2xl font-bold",children:"관심과목 분석"}),p.jsxs("p",{className:"text-gray-500 mt-2",children:["올클은 세종대학교의 ",p.jsx("span",{className:"text-blue-500 font-bold",children:"실제 데이터"}),"를 보여드립니다. 관심과목을 선택하여 분석해보세요."]}),p.jsx("div",{className:"mt-4",children:p.jsxs(ol,{to:"/live",onClick:()=>e(!0),state:{openSearch:!0},className:"inline-flex items-center gap-2 rounded-md border border-blue-500 px-3 py-2 text-sm font-medium text-blue-500 hover:bg-blue-50",children:[p.jsx(Od,{}),"알림등록하러가기"]})}),p.jsx(dle,{}),p.jsx(o_,{}),p.jsx(ple,{}),p.jsx(ZN,{right:"right-2 sm:right-20"})]})})]})}function ple(){const e=Uo(a=>a.searchParams),t=S2(a=>a.isFavorite),n=Uo(a=>a.isPinned),{data:r,isPending:i}=oa(),s=cp(N1(r,Ad)),o=I.useDeferredValue(Dd({subjects:s??[],pickedFavorites:t,searchKeywords:e.searchInput,selectedDepartment:e.selectedDepartment,isFavorite:e.isFavorite,isPinned:n}));return p.jsx("div",{className:"bg-white mt-6 shadow-md rounded-lg overflow-x-auto",children:p.jsx(XN,{data:o,isPending:i})})}function mle({children:e}){return p.jsxs("div",{className:"relative max-h-screen overflow-hidden",children:[p.jsx("div",{style:{filter:"blur(4px"},children:e}),p.jsx("div",{className:"absolute top-0 left-0 w-full h-full flex justify-center items-center",children:p.jsx("p",{className:"text-xl font-bold text-gray-700",children:"추후 제공 예정"})})]})}sa.register(Jw,Pd,Id,ep,tp,np);var eI=(e=>(e.MAJOR="전공/비전공",e.UNIVERSITY="대학",e.DEPARTMENT="학과",e.COLLEGE="학부",e))(eI||{});function gle({data:e,majorName:t}){const[n,r]=I.useState("전공/비전공"),{data:i}=Rd(),s=kX(i),{doughnutData:o,totalCount:a}=yle(e,s,t,n);return p.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("h2",{className:"text-lg font-semibold",children:"관심과목 현황"}),p.jsx("label",{className:"hidden",htmlFor:"doughnut-select",children:"필터"}),p.jsx("select",{className:"border px-3 py-1 rounded-md",id:"doughnut-select",value:n,onChange:l=>r(l.target.value),children:Object.values(eI).map(l=>p.jsx("option",{value:l,children:l},l))})]}),a?p.jsx(rj,{data:o}):p.jsx("div",{className:"flex justify-center items-center h-48",children:p.jsx("p",{className:"text-center text-gray-500 font-semibold",children:"관심과목을 담은 사람이 없습니다."})})]})}function yle(e,t,n,r){let i;const{universityDict:s,collegeDict:o}=t;switch(r){case"전공/비전공":i=jX(n,e);break;case"대학":i=NX(e,s);break;case"학과":i=IX(e,o);break;case"학부":i=RE(e);break;default:i=RE(e);break}const a=PX(e);return{doughnutData:i,totalCount:a}}function vle(e){const{data:t}=oa(),n=N1(t,Ad);if(!n)return{isPending:!0};const r=n?.find(i=>i.subjectId===Number(e));return{isPending:!1,data:r,isLastSemesterWish:!r}}function xle(e,t=[]){const{data:n}=oa(),r=N1(n,Ad);return r?{isPending:!1,data:r.filter(s=>s.subjectCode===e&&!t.includes(s.subjectId))}:{isPending:!0}}class O_ extends RangeError{constructor(t){super(t),this.name="ParamsInvalidError"}}class ble extends Error{constructor(t){super(t),this.name="NotFoundError"}}function wle(e){return Hs({queryKey:["detail-registers",e],queryFn:()=>_le(e),staleTime:1/0,retry:Sle})}const _le=async e=>{const t=await l1(`/api/baskets/${e}`);if(!t.ok){const n=await t.text(),r=Ele(n);throw r?.status==="400 BAD_REQUEST"?new O_(r.code):new Error(await t.text())}return t.json()},Sle=(e,t)=>e>=3?!1:!(t instanceof O_),Ele=e=>{try{return JSON.parse(e)}catch{return null}};sa.register(Jw,Pd,Id,ep,tp,np);const kle={labels:["4학년","3학년","2학년","1학년"],datasets:[{data:[50,40,25,20],backgroundColor:"#60a5fa"}]};function Cle(){const e=YC(),{data:t,isPending:n,isLastSemesterWish:r}=vle(e.id??"-1"),{data:i,error:s}=wle(e.id??"-1"),{data:o}=xle(t?.subjectCode??"",t?.subjectId?[t.subjectId]:[]),a=t&&"seat"in t,{isPreSeatAvailable:l}=pp({hasSeats:a}),u=a?t.seat:-1,f=t??Ad,h=t?.curiLangNm==="영어",g=t?.isDeleted??!1;if(n||!f)return p.jsxs(p.Fragment,{children:[p.jsx(gr,{children:p.jsx("title",{children:"ALLCLL | 관심과목 분석 상세"})}),p.jsx("div",{className:"min-h-screen bg-gray-50 flex justify-center items-center",children:p.jsx("h1",{className:"text-2xl font-bold",children:"Loading..."})})]});if(s)throw s;return p.jsxs(p.Fragment,{children:[p.jsx(gr,{children:p.jsx("title",{children:"ALLCLL | 관심과목 분석 상세"})}),r&&p.jsx("p",{className:"bg-red-100 text-red-500 py-2 px-4 font-bold",children:"이번 학기의 데이터가 아닙니다. 수강 신청에 유의해주세요."}),p.jsx("div",{className:"min-h-screen bg-gray-50",children:p.jsx("div",{className:"p-6 max-w-5xl mx-auto",children:p.jsxs(ip,{children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx("h1",{className:"text-2xl font-bold",children:f.subjectName}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(YN,{subject:f,className:"p-2 border rounded border-gray-300 hover:bg-gray-100"}),p.jsx(Hj,{subject:f,className:"p-2 border rounded border-gray-300 hover:bg-gray-100"})]})]}),p.jsxs("p",{className:"text-gray-600",children:[f.subjectCode,"-",f.classCode," | ",f.departmentName," | ",f.professorName]}),p.jsxs("div",{className:"flex items-center gap-2 flex-wrap text-gray-600",children:[p.jsxs("span",{children:[f.studentYear,"학년"]}),p.jsx("span",{children:f.curiTypeCdNm}),p.jsxs("span",{children:[Number(f.tmNum.split("/")[0].trim()),"학점"]}),p.jsxs("span",{children:[" ","| ",f.lesnRoom," | ",f.lesnTime]}),l&&p.jsxs("p",{className:`text-sm px-2 py-1 rounded-full font-bold ${Dc(u)}`,children:["여석: ",u<0?"???":u]}),h&&p.jsx("span",{className:"bg-green-100 rounded px-2 py-1 text-green-500 text-xs font-semibold",children:"영어"}),g&&p.jsx("span",{className:"bg-red-100 rounded px-2 py-1 text-red-500 text-xs font-semibold",children:"폐강"})]}),p.jsx("p",{className:"text-sm text-gray-500",children:f.remark}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-6",children:[p.jsx(gle,{data:i?.eachDepartmentRegisters??[],majorName:f.departmentName}),p.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[p.jsxs("div",{className:"flex justify-between items-center mb-4",children:[p.jsx("h2",{className:"text-lg font-semibold",children:"관심과목 경쟁률 예상"}),p.jsxs("p",{className:`${fj(f.totalCount)} font-bold text-xl`,children:["총 ",f.totalCount,"명"]})]}),p.jsxs(mle,{children:[p.jsx("p",{className:"text-sm text-gray-500",children:"작년 대비 관심도 20% 증가 → 경쟁 치열할 가능성 높음"}),p.jsx("div",{className:"mt-4",children:p.jsx(lX,{data:kle})})]})]})]}),p.jsxs("div",{className:"mt-6 bg-white p-6 rounded-lg shadow-md",children:[p.jsx("h2",{className:"text-lg font-semibold",children:"대체과목 추천"}),p.jsx("p",{className:"text-gray-500 text-sm mb-4",children:"학수번호가 같은 과목을 알려드려요"}),p.jsx("div",{className:"overflow-x-auto",children:p.jsx(XN,{data:o??[]})})]})]})})})]})}const Vu=()=>{const e=D2();return I.useEffect(()=>{nw(e,{extra:{url:window.location.href,userAgent:navigator.userAgent}})},[e]),p.jsxs(p.Fragment,{children:[p.jsx(gr,{children:p.jsx("title",{children:"ALLCLL | 오류가 발생했습니다"})}),p.jsxs("div",{className:"flex flex-col items-center justify-center h-screen",children:[p.jsx("h1",{className:"text-4xl font-bold mb-4",children:"오류가 발생했습니다"}),p.jsx("p",{className:"text-lg mb-4",children:"문제가 발생했어요. 잠시 기다렸다 다시 시도해보세요"}),p.jsx(li,{to:"/",className:"text-blue-500",children:"홈으로 돌아가기"}),p.jsx("a",{href:"https://forms.gle/bCDTVujEHunnvHe88",target:"_blank",className:"text-blue-500",children:"문의하기"})]})]})},tI=()=>p.jsxs(p.Fragment,{children:[p.jsx(gr,{children:p.jsx("title",{children:"ALLCLL | 페이지를 찾을 수 없습니다"})}),p.jsxs("div",{className:"flex flex-col items-center justify-center h-screen",children:[p.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404 - 페이지를 찾을 수 없습니다"}),p.jsx("p",{className:"text-lg mb-4",children:"현재 페이지는 존재하지 않습니다"}),p.jsx(li,{to:"/",className:"text-blue-500",children:"홈으로 돌아가기"})]})]}),Tle=()=>{const e=D2();return e instanceof O_||e instanceof ble?p.jsx(tI,{}):p.jsx(Vu,{})},Ki=Or((e,t)=>({type:null,props:void 0,openModal:(n,r)=>{e({type:n,props:r})},closeModal:n=>{const r=t().type;(!n||r===n)&&e({type:null,props:void 0})}}));function zc(){const{data:e,isLoading:t}=fl(),{data:n,isLoading:r}=Rd(),i=t||r;return i||!e||!n?{data:[],isLoading:i}:{data:jle(e,n),isLoading:!1}}function jle(e,t){return e.map(n=>{const r=t.find(s=>s.departmentCode===n.deptCd)?.departmentName||"",i=r?r.split(" ").reverse()[0]:"";return{subjectId:n.subjectId??-1,subjectCode:n.subjectCode??"",classCode:n.classCode??"",departmentName:i,subjectName:n.subjectName??"",language:n.curiLangNm??"",subjectType:n.curiTypeCdNm??"",semester_at:n.studentYear?Number(n.studentYear):-1,lesn_time:n.lesnTime??"",professorName:n.professorName??"",lesn_room:n.lesnRoom??"",tm_num:n.tmNum??""}})}function Nle(){return Math.floor(1e3+Math.random()*9e3).toString()}const Ile=4;function Ple(){const e=I.useRef(null),[t,n]=I.useState(),[r,i]=I.useState(""),s=I.useRef(""),{data:o}=zc(),{closeModal:a,openModal:l}=Ki(),{currentSubjectId:u,setSubjectStatus:f,setCaptchaFailed:h}=E1();function g(){const E=Nle();s.current=E,setTimeout(()=>{e.current&&Gb(e.current,E)},100)}function y(E){let C=E.target.value;if(/[^0-9]/.test(C)){i("0~9까지의 숫자만 입력해주세요"),n(C.replace(/[^0-9]/g,""));return}C.length<=Ile?(n(C),i("")):i("4자리까지 입력 가능합니다")}I.useEffect(()=>{setTimeout(()=>{g()},100)},[]);function b(){Wo({eventType:sr.CAPTCHA,subjectId:u},o).then(()=>{t?.toString()===s.current?(f(u,un.PROGRESS),h(!1)):(f(u,un.PROGRESS),h(!0))}).then(()=>{a(),l("simulation")})}function _(){Wo({eventType:sr.CANCEL_SUBMIT,subjectId:u},o).then(()=>{a("captcha"),h(!1),f(u,un.PROGRESS)})}return p.jsx(ml,{onClose:()=>{},preventAutoFocus:!0,children:p.jsxs("div",{className:"sm:w-[500px] bg-white rounded shadow",children:[p.jsx(op,{title:"매크로방지 코드입력 (Arti-marco code input)",onClose:_}),p.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-4 p-4",children:[p.jsxs("div",{className:"flex flex-col",children:[p.jsxs("div",{className:"text-sm font-semibold flex flex-row items-center",children:[p.jsx("span",{className:"inline-block w-1.5 h-5 bg-blue-500 mr-2 "}),"생성된 코드",p.jsx("button",{onClick:g,className:"ml-2 px-2 py-1 bg-blue-500 text-white text-sm rounded-xs cursor-pointer hover:bg-blue-600",children:"재생성"})]}),p.jsx("div",{className:"flex items-center mt-1",children:p.jsx("canvas",{id:"captcha",width:"105",height:"50",ref:e})})]}),p.jsxs("div",{children:[p.jsxs("div",{className:"text-sm font-semibold  flex flex-row items-center",children:[p.jsx("span",{className:"inline-block w-1.5 h-5 bg-blue-500 mr-2 "}),"생성된 코드 입력"]}),p.jsx("input",{type:"text",value:t,onChange:E=>y(E),className:"mt-2 w-full border-1 border-gray-300 rounded px-2 py-1 text-sm focus:outline-none focus:ring focus:border-gray-800",placeholder:"코드를 입력하세요"}),p.jsx("span",{className:"pl-1 text-xs text-red-500 ",children:r})]})]}),p.jsx("p",{className:"text-sm text-gray-800 mt-10 p-4",children:"※ 코드가 표시되지 않는 경우 잠시 기다리거나 매크로 방지 코드 입력 창을 닫고 새로 열어 주세요."}),p.jsxs("div",{className:"flex justify-end border-t px-6 py-4 gap-3 bg-gray-100 text-xs",children:[p.jsx("button",{onClick:b,className:"px-4 py-2 bg-white hover:bg-blue-50 rounded-xs border cursor-pointer",children:"코드입력"}),p.jsx("button",{onClick:_,className:"px-4 py-2 bg-white hover:bg-blue-50 rounded-xs border cursor-pointer",children:"닫기"})]})]})})}const Rle=e=>I.createElement("svg",{width:50,height:50,viewBox:"0 0 50 50",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},I.createElement("circle",{cx:25,cy:25,r:25,fill:"#7890CE"}),I.createElement("path",{d:"M20.2339 29.5078L35.0317 17.4276C35.3809 17.1425 35.7883 17 36.2539 17C36.7196 17 37.127 17.1425 37.4762 17.4276C37.8254 17.7127 38 18.0515 38 18.4439C38 18.8364 37.8254 19.1747 37.4762 19.4588L21.4562 32.5724C21.107 32.8575 20.6995 33 20.2339 33C19.7683 33 19.3609 32.8575 19.0117 32.5724L11.5037 26.4432C11.1545 26.1581 10.9868 25.8198 11.0008 25.4283C11.0148 25.0368 11.1969 24.6981 11.5473 24.412C11.8977 24.126 12.3127 23.9835 12.7923 23.9844C13.2718 23.9854 13.6862 24.1279 14.0354 24.412L20.2339 29.5078Z",fill:"white"})),oC={simulationId:-1,simulatonSubjects:[],registeredSubjects:[],nonRegisteredSubjects:[],successedSubjects:[],failedSubjects:[],simulationStatus:"before",clickedTime:0},co=Or(e=>({currentSimulation:oC,subjectsStatus:[],setCurrentSimulation:t=>e(n=>({currentSimulation:{...n.currentSimulation,...t}})),resetSimulation:()=>e({currentSimulation:oC,subjectsStatus:[]})})),Ole=[{status:un.PROGRESS,topMessage:"선택한 과목을 수강신청 하시겠습니까?",description:"교과목명(CourseTitle):"},{status:un.SUCCESS,topMessage:"과목이 신청 되었습니다. 수강신청내역을 재조회 하시겠습니까?",description:"※ 취소를 선택하실 경우 [수강신청내역]이 갱신되지 않습니다. 취소를 선택하실 경우 수강신청 최종 완료 후 반드시 [수강신청내역] 재 조회를 눌러 신청 내역을 확인하세요. [수강신청내역]에 조회된 과목만이 정상적으로 수강신청된 과목입니다."},{status:un.FAILED,topMessage:"수강 여석이 없습니다!"},{status:un.DOUBLED,topMessage:"이미 수강신청 된 과목입니다!"},{status:un.CAPTCHA_FAILED,topMessage:"입력하신 코드가 일치하지 않습니다"},{status:un.NOT_ELIGIBLE,topMessage:"수강신청 대상 학과가 아닙니다"}],Ale=[un.PROGRESS,un.SUCCESS,un.FAILED,un.CAPTCHA_FAILED];function Mle({reloadSimulationStatus:e}){const{closeModal:t,openModal:n}=Ki(),{currentSubjectId:r,setSubjectStatus:i,subjectStatusMap:s}=E1(),{setCurrentSimulation:o}=co(),{data:a}=zc(),l=s[r],u=Ole.find(j=>j.status===l),f=u?.status??un.PROGRESS,h=[un.FAILED,un.DOUBLED,un.CAPTCHA_FAILED].includes(f),g=Ale.includes(f),y=I.useRef(null);if(!u)return null;y.current?.focus();const b=(j,M=!1)=>{if("errMsg"in j)throw alert(j.errMsg),M&&vc().then(()=>{n("result")}),new Error(j.errMsg)},_=j=>{console.error("예외 발생:",j),alert("예외 발생:"+j.toString())},E=async j=>{const M=await Wo({eventType:sr.SUBJECT_SUBMIT,subjectId:j},a);b(M),i(j,M.status),n("simulation")},C=async j=>{const M=await Wo({eventType:sr.REFRESH,subjectId:j},a);b(M),e(),M.finished&&(o({simulationStatus:"finish"}),console.log("시뮬레이션 완료"),n("result"))},P=async j=>{try{const M=await Wo({eventType:sr.SKIP_REFRESH,subjectId:j},a);"errMsg"in M?(alert(M.errMsg),await vc(),o({simulationStatus:"finish"}),n("result")):M.finished&&(o({simulationStatus:"finish"}),n("result"))}catch(M){console.error(M)}finally{t("simulation")}},O=async()=>{try{u.status===un.PROGRESS?await E(r):u?.status===un.SUCCESS?await C(r):h&&await P(r)}catch(j){_(j)}},z=async()=>{try{if(u?.status===un.SUCCESS){const j=await Wo({eventType:sr.SKIP_REFRESH,subjectId:r},a);"errMsg"in j?(alert(j.errMsg),await vc(),o({simulationStatus:"finish"}),n("result")):j.finished?(o({simulationStatus:"finish"}),n("result")):t("simulation")}else if(u?.status===un.PROGRESS){const j=await Wo({eventType:sr.CANCEL_SUBMIT,subjectId:r},a);b(j,!0)}}catch(j){_(j)}},B=()=>{g||t("simulation")};return p.jsx(ml,{onClose:()=>{},children:p.jsxs("div",{className:"flex sm:w-[450px] border-1 border-gray-800 flex-col justify-between overflow-hidden",children:[p.jsx(op,{title:"",onClose:B}),p.jsxs("div",{className:"px-6 pb-6 text-center ",children:[p.jsx("div",{className:"flex justify-center mb-4 py-5",children:p.jsx("div",{className:"w-10 h-10",children:p.jsx(Rle,{})})}),p.jsx("p",{className:"text-gray-700 text-base mb-4",children:u.topMessage}),u.description&&p.jsx("p",{className:"text-sm text-gray-700 whitespace-pre-line",children:u.description})]}),p.jsxs("div",{className:"flex justify-end  px-6 py-4 gap-3 bg-gray-100 text-xs",children:[u.status===un.PROGRESS||u.status===un.SUCCESS&&p.jsx("button",{onClick:z,className:"px-4 py-2 bg-white hover:bg-blue-50 rounded-xs border cursor-pointer",children:"취소"}),p.jsx("button",{onClick:O,className:"px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-xs cursor-pointer",children:"확인"})]})]})})}function aC(){const{closeModal:e}=Ki();return p.jsx(ml,{onClose:()=>e(),children:p.jsxs("div",{className:"p-6 w-80 bg-white rounded shadow",children:[p.jsx("p",{className:"text-sm text-gray-800 mb-4",children:"데이터 처리중 입니다."}),p.jsx("div",{className:"w-full h-4 bg-gray-200 rounded overflow-hidden",children:p.jsx("div",{className:"h-full bg-blue-400 bg-gradient-to-r from-blue-400 to-blue-600 animate-stripes"})})]})})}function Dle(e,t,n){var r,i;typeof e=="function"?(r=t||[],i=n):(r=[],i=t);var s=wn.useRef({hasResult:!1,result:i,error:null}),o=wn.useReducer(function(u){return u+1},0);o[0];var a=o[1],l=wn.useMemo(function(){var u=typeof e=="function"?e():e;if(!u||typeof u.subscribe!="function")throw e===u?new TypeError("Given argument to useObservable() was neither a valid observable nor a function."):new TypeError("Observable factory given to useObservable() did not return a valid observable.");if(!s.current.hasResult&&typeof window<"u"&&(typeof u.hasValue!="function"||u.hasValue()))if(typeof u.getValue=="function")s.current.result=u.getValue(),s.current.hasResult=!0;else{var f=u.subscribe(function(h){s.current.result=h,s.current.hasResult=!0});typeof f=="function"?f():f.unsubscribe()}return u},r);if(wn.useDebugValue(s.current.result),wn.useEffect(function(){var u=l.subscribe(function(f){var h=s.current;(h.error!==null||h.result!==f)&&(h.error=null,h.result=f,h.hasResult=!0,a())},function(f){var h=s.current;h.error!==f&&(h.error=f,a())});return typeof u=="function"?u:u.unsubscribe.bind(u)},r),s.current.error)throw s.current.error;return s.current.result}function Bd(e,t,n){return Dle(function(){return LX(e)},[],n)}const Ff=1/1e3;async function Lle(){return{snapshots:await He.simulation_run.filter(t=>t.ended_at!==-1).toArray()}}async function Fle(e){const t=await WX(e),n=await aj(t.snapshot_id);if(!t||!n)return null;const r=await He.simulation_run_selections.where("simulation_run_id").equals(t.simulation_run_id).toArray(),i=r.map(u=>u.run_selections_id),s=u=>{const f=n.subjects.find(h=>h.interested_id===u);return f?f.subject_id:-1},o=await He.simulation_run_events.filter(u=>i.includes(u.simulation_section_id)).toArray(),a=o.filter(u=>u.event_type===sr.CAPTCHA),l=r.reduce((u,f)=>{const h=a.find(g=>g.simulation_section_id===f.run_selections_id);return h?.timestamp?u+h.timestamp-f.started_at:u},0)/r.length;return{started_at:t.started_at,ended_at:t.ended_at,user_ability:{searchBtnSpeed:(t.search_event_at-t.started_at)/1e3,totalSpeed:t.total_elapsed/t.subject_count/1e3,accuracy:t.accuracy,captchaSpeed:l/1e3},timeline:r.map(u=>({interested_id:u.interested_id,subject_id:s(u.interested_id),started_at:u.started_at,ended_at:u.ended_at,status:u.status,events:o.filter(f=>f.simulation_section_id===u.run_selections_id).sort((f,h)=>f.timestamp-h.timestamp).map(f=>({event:f.event_type,timestamp:f.timestamp}))})),subject_results:r.sort((u,f)=>f.started_at-u.started_at).reduce((u,f)=>u.some(h=>h.interested_id===f.interested_id)?u:[...u,f],[]).map(u=>({interested_id:u.interested_id,subject_id:s(u.interested_id),selected_index:u.selected_index,ended_at:u.ended_at,status:u.status}))}}async function nI(){const e=await He.simulation_run.filter(E=>E.ended_at!==-1).toArray(),t=e.length;if(t===0)throw new Error("통계를 계산할 시뮬레이션 데이터가 없습니다.");const n=await He.simulation_run_selections.toArray(),r=await Promise.all(e.map(async E=>{const C=await He.simulation_run_selections.filter(M=>M.simulation_run_id===E.simulation_run_id).toArray(),P=C.map(M=>M.run_selections_id),O=await He.simulation_run_events.filter(M=>M.event_type===sr.CAPTCHA&&P.includes(M.simulation_section_id)).toArray(),z=(E.search_event_at-E.started_at)*Ff,B=O.reduce((M,U)=>{const $=C.find(D=>D.run_selections_id===U.simulation_section_id);return $?M+(U.timestamp-$.started_at):M},0)*Ff,j=C.reduce((M,U)=>U.ended_at>=0?M+(U.ended_at-U.started_at):M,0)*Ff;return{simulationRunId:E.simulation_run_id,accuracy:E.accuracy,subjectCount:E.subject_count,searchBtnTime:z,captchaTime:B+z,subjectTime:j+z,totalTime:E.total_elapsed*Ff}})),i=await He.interested_snapshot.filter(E=>E.simulated).last();if(!i)throw new Error("과목 스냅샷 데이터가 없습니다.");const o=(await He.interested_subject.filter(E=>E.snapshot_id===i.snapshot_id).toArray()).map(E=>{const C=n.filter($=>$.interested_id===E.interested_id),P=C.filter($=>$.status===un.SUCCESS).length,O=C.filter($=>$.status===un.FAILED).length,z=C.filter($=>$.status===un.DOUBLED).length,B=C.length,j=C.reduce(($,D)=>$+D.selected_index,0)/B||0,M=C.filter($=>$.ended_at>=0&&$.started_at>=0).map($=>($.ended_at-$.started_at)*Ff),U=Ble(M);return{subjectId:E.subject_id,successCount:P,failedCount:O,doubledCount:z,totalCount:B,avgCompletionTime:U,avgIndex:j}}),a=new Map;for(const E of n){const C=E.simulation_run_id,P=e.find(M=>M.simulation_run_id===C);if(!P)continue;const O=await aj(P.snapshot_id);if(!O)continue;const z=O.subjects.find(M=>M.interested_id===E.interested_id);if(!z)continue;const B=z.subject_id;a.has(B)||a.set(B,{subject_id:B,success_count:0,total_count:0,completion_time_sum:0});const j=a.get(B);j.total_count++,E.status===1&&(j.success_count++,j.completion_time_sum+=E.ended_at-E.started_at)}const l=Array.from(a.values()).map(E=>({subject_id:E.subject_id,success_count:E.success_count,total_count:E.total_count,success_rate:E.success_count/E.total_count,avg_completion_time:E.success_count>0?E.completion_time_sum/E.success_count/1e3:0})),u=n.reduce((E,C)=>(E[C.status]=(E[C.status]||0)+1,E),{}),f=n.length,h=Object.entries(u).map(([E,C])=>({status:Number(E),count:C,percentage:C/f})),g=e.map(E=>E.simulation_run_id),y=n.filter(E=>g.includes(E.simulation_run_id)).map(E=>E.run_selections_id),b=await He.simulation_run_events.filter(E=>y.includes(E.simulation_section_id)&&E.event_type===sr.CAPTCHA).toArray();let _=0;for(const E of b){const C=n.find(P=>P.run_selections_id===E.simulation_section_id);C&&(_+=E.timestamp-C.started_at)}return{total_users:t,avg_started_at:e.reduce((E,C)=>E+C.started_at,0)/t,avg_ended_at:e.reduce((E,C)=>E+C.ended_at,0)/t,avg_elapsed_time:e.reduce((E,C)=>E+(C.ended_at-C.started_at),0)/t/1e3,subject_success_rate:l,status_distribution:h,simulations:r,subjects:o}}function Ble(e){return e.length===0?0:e.reduce((t,n)=>t+n,0)/e.length}function zle({simulationId:e}){const{closeModal:t,openModal:n}=Ki(),[r,i]=I.useState(null),[s,o]=I.useState(),a=Bd(async()=>{try{return await nI()}catch(_){return{error:_.message}}});if(a&&"error"in a)return p.jsx("div",{className:"flex flex-col w-full items-center justify-center h-120 gap-3"});const{simulations:l}=a||{simulations:[]},u=a?{user_ability:{searchBtnSpeed:l.reduce((_,E)=>_+E.searchBtnTime,0)/l.length||0,totalSpeed:l.reduce((_,E)=>_+E.totalTime/E.subjectCount,0)/l.length||0,accuracy:l.reduce((_,E)=>_+E.accuracy,0)/l.length||0,captchaSpeed:l.reduce((_,E)=>_+(E.captchaTime-E.searchBtnTime)/E.subjectCount,0)/l.length||0}}:void 0;if(I.useEffect(()=>{async function _(){QX({simulationId:e}).then(E=>{"errMsg"in E?E.errMsg===lj.SIMULATION_NOT_FOUND?t():alert(E.errMsg):(i(E),o(e))})}_().then()},[]),!r)return p.jsx(aC,{});const{accuracy:f,score:h,total_elapsed:g}=r,y=h>=70,b=u?.user_ability?.searchBtnSpeed??0;return!u||!a?p.jsx(aC,{}):p.jsxs(ml,{onClose:()=>t(),children:[p.jsxs("div",{className:"w-[100%] sm:w-full max-w-md bg-white rounded-xl shadow-xl p-6 relative overflow-hidden",children:[y&&p.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[p.jsx("div",{className:"animate-float1 absolute top-6 left-6 w-3 h-3 bg-red-400 rounded-full"}),p.jsx("div",{className:"animate-float2 absolute top-16 right-10 w-2 h-2 bg-yellow-400 rounded-full"}),p.jsx("div",{className:"animate-float3 absolute bottom-20 left-12 w-2.5 h-2.5 bg-blue-400 rounded-full"}),p.jsx("div",{className:"animate-float4 absolute bottom-10 right-6 w-3 h-3 bg-pink-400 rounded-full"}),p.jsx("div",{className:"animate-float5 absolute top-1/2 left-1/2 w-2 h-2 bg-purple-400 rounded-full"})]}),p.jsxs("div",{className:"relative z-10 text-center",children:[p.jsxs("h2",{className:"text-xl font-bold text-gray-900",children:["수강 신청",p.jsx("span",{className:y?"text-blue-600":"text-red-500",children:y?" 성공!":" 실패"})]}),p.jsxs("span",{className:"text-sm text-gray-700 mt-1",children:["수강신청에 ",y?" 성공":" 실패","하셨어요"]}),p.jsxs("div",{className:"flex flex-col justify-center items-center",children:[p.jsx("div",{className:"m-2 flex justify-center",children:y?p.jsx("img",{src:"/ci.svg",alt:"축하 아이콘",className:"w-20 h-20"}):p.jsx("span",{className:"text-[50px]",children:"💥"})}),p.jsxs("div",{className:"flex flex-row justify-center gap-6 mt-6",children:[p.jsxs("div",{className:"flex flex-col items-center",children:[p.jsx("p",{className:"text-sm text-gray-800 mb-1",children:"점수"}),p.jsxs("p",{className:"text-xl text-blue-500 font-bold whitespace-nowrap",children:[h.toFixed(1),p.jsx("span",{className:"text-gray-600",children:"점"})]})]}),p.jsxs("div",{className:"flex flex-col items-center",children:[p.jsx("p",{className:"text-sm text-gray-800 mb-1",children:"소요 시간"}),p.jsxs("p",{className:"text-xl text-gray-600 font-bold whitespace-nowrap",children:[(g/1e3).toFixed(0),"초"]})]})]}),p.jsxs("div",{className:"flex flex-row justify-center gap-6 mt-6",children:[p.jsxs("div",{className:"flex flex-col items-center",children:[p.jsx("p",{className:"text-sm text-gray-800 mb-1",children:"평균 매크로 방지 입력 속도"}),p.jsxs("p",{className:"text-xl text-blue-500 font-bold whitespace-nowrap",children:[u?.user_ability.captchaSpeed.toFixed(2),p.jsx("span",{className:"text-gray-600",children:"초"})]})]}),p.jsxs("div",{className:"flex flex-col items-center",children:[p.jsx("p",{className:"text-sm text-gray-800 mb-1",children:"평균 신청 버튼 클릭 속도"}),p.jsxs("p",{className:"text-xl text-blue-500 font-bold whitespace-nowrap",children:[b<=0?0:b.toFixed(2),p.jsx("span",{className:"text-gray-600",children:"초"})]})]})]})]}),p.jsx("div",{className:"text-left text-sm text-gray-800 mt-4 mb-1",children:"정확도"}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("div",{className:"w-full h-3 bg-gray-200 rounded-full overflow-hidden",children:p.jsx("div",{className:"h-3 bg-indigo-400 rounded-full transition-all duration-300",style:{width:`${f}%`}})}),p.jsxs("p",{className:"text-xl text-gray-600 font-bold whitespace-nowrap",children:[f,"%"]})]}),p.jsxs("div",{className:"flex justify-center gap-3 mt-6",children:[p.jsx("button",{className:"px-4 py-2 border border-gray-400 text-gray-800 rounded-md hover:bg-gray-100 text-sm",onClick:()=>{t(),n("wish")},children:"다시 하기"}),p.jsx(ol,{to:`/simulation/logs/${s}`,end:!1,className:"px-4 py-2  bg-blue-500 text-white rounded-md hover:bg-blue-600 text-sm",onClick:()=>{t()},children:"내 능력 자세히 보기"})]})]})]}),p.jsx("style",{children:`
        @keyframes float1 {
          0% { transform: translateY(0); }
          50% { transform: translateY(-8px); }
          100% { transform: translateY(0); }
        }
        @keyframes float2 {
          0% { transform: translateY(0); }
          50% { transform: translateY(6px); }
          100% { transform: translateY(0); }
        }
        @keyframes float3 {
          0% { transform: translateY(0); }
          50% { transform: translateY(-6px); }
          100% { transform: translateY(0); }
        }
        @keyframes float4 {
          0% { transform: translateY(0); }
          50% { transform: translateY(4px); }
          100% { transform: translateY(0); }
        }
        @keyframes float5 {
          0% { transform: translateY(0); }
          50% { transform: translateY(-5px); }
          100% { transform: translateY(0); }
        }

        .animate-float1 { animation: float1 3s ease-in-out infinite; }
        .animate-float2 { animation: float2 4s ease-in-out infinite; }
        .animate-float3 { animation: float3 2.5s ease-in-out infinite; }
        .animate-float4 { animation: float4 3.5s ease-in-out infinite; }
        .animate-float5 { animation: float5 3s ease-in-out infinite; }
      `})]})}const $le=5;function E2(e,t){const n=new Set,r=[];for(const i of[...e].sort(()=>Math.random()-.5)){if(n.size>=t)break;n.has(i.subjectCode)||(n.add(i.subjectCode),r.push(i))}return r}function rI(e){const t=e.split(" ");return t.findIndex(r=>r.includes("대학"))!==-1?t.slice(1).join(" ").trim():e}function iI(e,t){const n=r=>r.replace(/(과|학부|전공)$/,"");return n(e)===n(t)}function Ule(e){return $le-e+1}const Hle=(e,t)=>{if(t==="")return sI(e);const n=rI(t),r=e.filter(f=>iI(f.departmentName,n)),i=e.filter(f=>f.departmentName==="대양휴머니티칼리지"),s=r.filter(f=>f.professorName!==null&&f.lesn_time!==null),o=E2(s,3),a=i.filter(f=>f.professorName!==null&&f.lesn_time!==null),l=E2(a,Ule(o.length+1)),u=[...o,...l];for(let f=u.length-1;f>0;f--){const h=Math.floor(Math.random()*(f+1));[u[f],u[h]]=[u[h],u[f]]}return u},k2=(e,t)=>e.find(n=>t===n.subjectId),sI=e=>E2(e,5),Wle=(e,t)=>{const n=rI(t);if(n==="")return sI(e);const r=e.filter(u=>iI(u.departmentName,n)),i=e.filter(u=>u.departmentName==="대양휴머니티칼리지"),s=u=>{const f=new Set;return u.filter(h=>f.has(h.subjectCode)?!1:(f.add(h.subjectCode),!0))},o=s(r).slice(0,3),a=5-o.length,l=s(i).slice(0,a);return[...o,...l]},qle=e=>{let t=0;const n=[];for(const r of e){const i=Number(r.tm_num.split("/")[0])||0;if(t+i>24)break;t+=i,n.push(r)}return n},Qle=e=>I.createElement("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},I.createElement("path",{d:"M8 16.3438C9.45833 16.3229 10.7917 15.9688 12 15.2812C13.2083 14.5729 14.1875 13.5938 14.9375 12.3438C15.6458 11.0729 16 9.73958 16 8.34375C16 6.94788 15.6458 5.61455 14.9375 4.34375C14.1875 3.09375 13.2083 2.11458 12 1.40625C10.7917 0.718717 9.45833 0.36455 8 0.34375C6.54167 0.36455 5.20833 0.718717 4 1.40625C2.79167 2.11458 1.8125 3.09375 1.0625 4.34375C0.354167 5.61455 0 6.94788 0 8.34375C0 9.73958 0.354167 11.0729 1.0625 12.3438C1.8125 13.5938 2.79167 14.5729 4 15.2812C5.20833 15.9688 6.54167 16.3229 8 16.3438ZM11.5312 6.875L7.53125 10.875C7.17708 11.1667 6.82292 11.1667 6.46875 10.875L4.46875 8.875C4.17708 8.52083 4.17708 8.16667 4.46875 7.8125C4.82292 7.52083 5.17708 7.52083 5.53125 7.8125L7 9.28125L10.4688 5.81256C10.8229 5.52083 11.1771 5.52083 11.5312 5.81256C11.8229 6.16669 11.8229 6.52083 11.5312 6.875Z",fill:"#22C55E"}));function Vle(){return p.jsxs("div",{className:"mt-6 text-sm text-gray-800 space-y-2",children:[p.jsxs("h2",{className:"text-left font-semibold mb-4",children:["수강신청 ",p.jsx("span",{className:"text-blue-500",children:"Tip!"})]}),["시작 시 우측 검색 버튼을 빠르게 눌러주세요.","인기 있는 과목을 먼저 잡으세요.","한 번 담은 과목을 또 담지 않도록 주의하세요!","모든 과목을 담은 즉시 종료됩니다."].map((e,t)=>p.jsxs("div",{className:"flex items-center sm:text-sm text-xs ",children:[p.jsx("span",{className:"text-blue-500 mr-2",children:p.jsx(Qle,{})}),p.jsx("span",{className:t===0?"font-semibold text-blue-500 animate-bounce":"",children:e})]},t))]})}function Kle({department:e,setDepartment:t}){const{data:n}=Rd();function r(i){const s=i.target.value,o=n?.find(a=>a.departmentCode===s)?.departmentName??"";t({departmentName:o,departmentCode:s})}return I.useEffect(()=>{if(!n)return;const s=Sj().filter(([l])=>l!=="9005");if(s.length<=0)return;const o=s[0][0],a=n.find(l=>l.departmentCode===o)?.departmentName??"";t({departmentName:a,departmentCode:o})},[n]),p.jsxs("div",{className:"flex flex-col gap-2",children:[p.jsx("h2",{className:"text-left font-semibold text-sm sm:text-md",children:"학과 검색"}),p.jsx(lp,{className:"cursor-pointer rounded-sm px-2 py-1 w-50 sm:w-120 bg-white mb-4",value:e.departmentCode,onChange:r})]})}const Gle=e=>I.createElement("svg",{width:12,height:12,viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},I.createElement("path",{d:"M4.50007 8.08504L2.76507 6.35004C2.67158 6.25655 2.54479 6.20403 2.41257 6.20403C2.28036 6.20403 2.15356 6.25655 2.06007 6.35004C1.96658 6.44353 1.91406 6.57033 1.91406 6.70254C1.91406 6.768 1.92696 6.83283 1.95201 6.89331C1.97706 6.95379 2.01378 7.00875 2.06007 7.05504L4.15007 9.14504C4.34507 9.34004 4.66007 9.34004 4.85507 9.14504L10.1451 3.85504C10.2386 3.76155 10.2911 3.63475 10.2911 3.50254C10.2911 3.37033 10.2386 3.24353 10.1451 3.15004C10.0516 3.05655 9.92479 3.00403 9.79257 3.00403C9.66036 3.00403 9.53356 3.05655 9.44007 3.15004L4.50007 8.08504Z",fill:"#047CFE"}));function A_({label:e="checkbox",...t}){return p.jsxs("label",{htmlFor:"checkbox-"+e,className:"flex flex-row items-center gap-3 text-md ",children:[p.jsxs("div",{className:"relative w-5 h-5",children:[p.jsx("input",{id:"checkbox-"+e,type:"checkbox",className:`
            appearance-none w-5 h-5 rounded-sm border cursor-pointer transition-colors
            ${t.checked?"bg-blue-50 border-blue-500":"bg-white border-gray-400"}
          `,...t}),t.checked&&p.jsx(Gle,{className:"absolute inset-0 m-auto w-4 h-4 pointer-events-none text-white"})]}),p.jsx("span",{className:t.checked?"text-blue-500":"text-gray-700",children:e})]})}function Yle({children:e,contentRef:t,className:n=""}){return p.jsx("div",{ref:t,className:`absolute top-full border border-gray-200 mt-2 left-0 z-20 bg-white rounded-lg flex flex-col shadow-lg p-2 w-auto gap-1 min-w-max ${n}`,role:"listbox",children:e})}const Xle=({elem:e,tabRefs:t,initialState:n})=>{const[r,i]=I.useState(n);return I.useEffect(()=>{const s=o=>{(Array.isArray(t)?t:[t]).some(u=>u.current&&u.current.contains(o.target))?i(!0):e.current&&!e.current.contains(o.target)&&i(!1)};return r?window.addEventListener("click",s):window.removeEventListener("click",s),()=>{window.removeEventListener("click",s)}},[r,e,t]),[r,i]};function M_({label:e,selected:t,children:n,className:r=""}){const i=I.useRef(null),s=I.useRef(null),[o,a]=Xle({elem:s,tabRefs:i,initialState:!1}),l=()=>{a(!o)};return p.jsxs("div",{className:"relative inline-block",children:[p.jsx(hs,{label:e,containerRef:i,chipType:"select",selected:t,onClick:l}),o&&p.jsx(Yle,{contentRef:s,className:r,children:n})]})}function D_({labelPrefix:e,selectedItems:t,handleChangeCheckbox:n,options:r,selected:i}){const s=l=>t.some(u=>u===l),o=l=>{const u=r.find(f=>f.id===l);return u?u.id===0?"전체":`${u.label}${e}`:e};let a;return t.length===0?a=e:t.length>1?a=`${o(t[0])} 외 ${t.length-1}개`:a=o(t[0]),p.jsx(M_,{label:a,selected:i,children:r.map(l=>p.jsx(A_,{label:o(l.id),checked:s(l.id),onChange:()=>n(l.id)},l.id))})}function Jle({selectedTimetable:e,onSelect:t,setSelectedTimetable:n,timetables:r}){const i=I.useRef(null),s=l=>{n(l),t(l.timeTableId)},o=r.map(l=>({id:l.timeTableId,label:l.timeTableName})),a=o.filter(l=>l.id===e.timeTableId).map(l=>l.id);return p.jsxs("div",{className:"flex flex-col gap-2",children:[p.jsx("h2",{className:"text-left font-semibold text-sm sm:text-md",children:"시간표를 선택해주세요."}),p.jsxs("div",{className:"relative inline-block max-w-sm",ref:i,children:[p.jsx(D_,{labelPrefix:"시간표 선택",selectedItems:a,selected:a.length>0,handleChangeCheckbox:()=>s,options:o}),p.jsx(li,{to:"/timetable",className:"px-6 py-2 hover:text-blue-500 text-gray-500 rounded-md",children:"새 시간표 추가"})]})]})}const Zle=e=>I.createElement("svg",{width:21,height:21,viewBox:"0 0 21 21",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},I.createElement("path",{d:"M3.578 6.48696C4.55072 4.80817 6.1004 3.5401 7.93848 2.91885C9.77657 2.29761 11.7778 2.36554 13.5695 3.10999C15.3613 3.85444 16.8214 5.22467 17.678 6.96555C18.5347 8.70644 18.7294 10.6993 18.2261 12.5731C17.7227 14.4469 16.5556 16.0739 14.9419 17.1512C13.3282 18.2285 11.378 18.6826 9.45441 18.4291C7.53082 18.1755 5.76494 17.2315 4.48557 15.7728C3.20621 14.3141 2.50055 12.4402 2.5 10.5",stroke:"black",strokeLinecap:"round",strokeLinejoin:"round"}),I.createElement("path",{d:"M7.5 6.5H3.5V2.5",stroke:"black",strokeLinecap:"round",strokeLinejoin:"round"}));function ece({subjects:e,handleRemakeSubjects:t,isLoadingLectures:n}){const r=e?.reduce((i,s)=>{if(!s.tm_num)return i;const o=s?.tm_num.split("/")[0]??"0",a=Number(o)||0;return i+a},0);return p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"flex flex-row justify-between items-center mb-4 w-full overflow-auto h-10",children:[p.jsx("h2",{className:"text-left font-semibold",children:"과목 리스트"}),t&&p.jsxs("button",{onClick:t,className:"flex hover:font-bold hover:text-blue-500 items-center gap-2 cursor-pointer",children:["랜덤과목 재생성",p.jsx(Zle,{})]}),p.jsxs("p",{children:["총 연습 학점: ",p.jsx("span",{className:"text-blue-500",children:r}),"학점"]})]}),p.jsx("div",{className:"max-h-[250px] max-w-[350px] overflow-x-auto overflow-y-auto sm:max-w-full",children:p.jsxs("table",{className:"min-w-full sm:text-sm text-xs text-left whitespace-nowrap border-t border-b border-gray-200",children:[p.jsx("thead",{className:"bg-gray-100 text-gray-700",children:p.jsxs("tr",{children:[p.jsx("th",{className:"px-4 py-2",children:"학수번호"}),p.jsx("th",{className:"px-4 py-2",children:"분반"}),p.jsx("th",{className:"px-4 py-2",children:"개설학과"}),p.jsx("th",{className:"px-4 py-2",children:"과목명"}),p.jsx("th",{className:"px-4 py-2",children:"교수명"})]})}),p.jsx("tbody",{children:n?p.jsx(T1,{col:5,row:8}):e?.map((i,s)=>p.jsxs("tr",{className:"border border-gray-200",children:[p.jsx("td",{className:"px-4 py-2",children:i?.subjectCode??""}),p.jsx("td",{className:"px-4 py-2",children:i?.classCode??""}),p.jsx("td",{className:"px-4 py-2",children:i?.departmentName??""}),p.jsx("td",{className:"px-4 py-2",children:i?.subjectName??""}),p.jsx("td",{className:"px-4 py-2",children:i?.professorName??""})]},i?.subjectId??s))})]})})]})}function tce(e){return e==="primary"?"bg-blue-500 text-white hover:bg-blue-600 focus:outline-blue-400":"bg-white text-gray-700 hover:bg-gray-100 border border-gray-600"}function lC({children:e,variants:t,className:n="",...r}){return p.jsx("button",{type:r.type,onClick:r.onClick,className:`px-6 py-2 cursor-pointer rounded-lg ${tce(t)} ${n}`,disabled:r.disabled,children:e})}const nce=({simulationSubjects:e,handleStartGame:t,setToggleTip:n})=>p.jsxs("div",{className:"flex justify-end gap-2 px-2 pb-2 sm:px-6 sm:pb-6",children:[p.jsx(lC,{variants:"primary",onClick:()=>n(!0),className:"font-semibold disabled:bg-gray-300 disabled:cursor-not-allowed",children:"팁 보기"}),p.jsx(lC,{variants:"primary",onClick:t,disabled:e.length===0,className:"font-semibold disabled:bg-gray-300 disabled:cursor-not-allowed",children:"시작하기"})]}),rce={departmentCode:"",departmentName:""};function ice({timetables:e,setIsModalOpen:t}){const n=co(D=>D.setCurrentSimulation),r=Ki(D=>D.closeModal),{data:i,isLoading:s}=zc(),o=kt(D=>D.currentTimetable),a=kt(D=>D.pickTimetable),[l,u]=I.useState([]),[f,h]=I.useState({...rce}),[g,y]=I.useState(o),[b,_]=I.useState("timetable"),[E,C]=I.useState(!1),{data:P,isLoading:O}=f1(g?.timeTableId),z=Bd(oj),B=()=>{u(Hle(i,f.departmentName))},j=async()=>{if(l.length===0){alert("과목 리스트가 비어있습니다. 게임을 시작할 수 없습니다.");return}try{r(),b!=="previous"&&await BX(l.map(X=>X.subjectId));const D=await qX("",f.departmentCode,f.departmentName);if("simulationId"in D&&"isRunning"in D&&D.simulationId!==-1&&D.isRunning!==void 0){const{simulationId:X,isRunning:re}=D;n({simulationId:X,simulationStatus:re?"start":"before",simulatonSubjects:l})}else console.error("시뮬레이션 시작 결과가 유효하지 않음",D)}catch(D){console.error("시뮬레이션 시작 중 오류 발생:",D)}},M=D=>{const ee=e.find(X=>X.timeTableId===D);if(!ee){console.error("해당하는 시간표를 찾을 수 없습니다:",D);return}y(ee),a(ee)},U=D=>{u([]),_(D)},$=D=>i.find(ee=>ee.subjectId===D);return I.useEffect(()=>{if(O||b!=="timetable"||!P||P.length===0)return;const ee=P.filter(re=>re.scheduleType!=="custom").map(re=>$(re.subjectId??0)).filter(re=>!!re),X=qle(ee);u(X)},[b,P,O]),I.useEffect(()=>{b==="random"&&u(Wle(i,f.departmentName))},[b,f]),I.useEffect(()=>{if(b!=="previous"||!z||z.snapshot_id<0||s)return;const ee=z.subjects.map(X=>X.subject_id).map(X=>$(X)).filter(X=>!!X);u(ee)},[b,z,s]),I.useEffect(()=>{z&&z.snapshot_id>=0?_("previous"):e.length>0?_("timetable"):_("random")},[z,e]),p.jsx(ml,{onClose:()=>t(!1),children:p.jsxs("div",{className:"flex flex-col w-full overflow-y-auto max-h-[90vh] max-w-[900px] sm:min-w-[600px]",children:[p.jsx(op,{title:"수강 신청 연습을 시작하시겠습니까?",onClose:()=>t(!1)}),p.jsxs("div",{className:"flex flex-col gap-2 p-2 sm:p-6",children:[p.jsx("h2",{className:"text-left font-semibold text-sm sm:text-md",children:"어떤 과목으로 진행하시겠습니까?"}),p.jsxs("div",{className:"flex gap-2 py-2",children:[z&&p.jsx(hs,{label:"기존 과목",selected:b==="previous",onClick:()=>U("previous")}),p.jsx(hs,{label:"시간표 과목",selected:b==="timetable",onClick:()=>U("timetable")}),p.jsx(hs,{label:"랜덤 과목",selected:b==="random",onClick:()=>U("random")})]}),b==="timetable"&&p.jsx(Jle,{timetables:e,selectedTimetable:g,onSelect:M,setSelectedTimetable:y}),b==="random"&&p.jsx(Kle,{department:f,setDepartment:h}),p.jsx(ece,{isLoadingLectures:s,subjects:l,handleRemakeSubjects:b==="random"?B:void 0}),E&&p.jsx(Vle,{})]}),p.jsx(nce,{simulationSubjects:l,handleStartGame:j,setToggleTip:C})]})})}function sce(e,t,n,r,i,s){const o=Math.floor((e+t)/n);let a=r,l=0;for(let u=0;u<=o;u++){const f=u*n;let h=i,g=s;f>4&&(h=48,g=33),a+=h,l+=g}return Math.max(Math.round(a-l),0)}function oce(){const[e,t]=I.useState(0),[n,r]=I.useState(0),[i,s]=I.useState(1),[o,a]=I.useState(0),l=I.useRef(null),{closeModal:u}=Ki(),{currentSimulation:f,setCurrentSimulation:h}=co(),g=.2,y=98,b=79;I.useEffect(()=>{let E=Math.floor(f.clickedTime/.2)*100+124;const C=E/b*g;for(let P=0;P<=Math.floor(f.clickedTime/g);P++)E+=P*y;r(E),t(Math.ceil(C))},[]),I.useEffect(()=>(l.current=setInterval(()=>{a(C=>{const P=C+1,O=sce(P,f.clickedTime,g,i,y,b);return s(O),P});const E=Math.floor((e+f.clickedTime)/.2)*b;n<0?r(0):r(C=>C-E),t(C=>{const P=Math.max(C-1,0);return P===0&&l.current&&(clearInterval(l.current),u()),P})},1e3),()=>{l.current&&clearInterval(l.current)}),[e]);const _=()=>{h({simulationStatus:"before"}),u()};return p.jsx(ml,{onClose:()=>u(),children:p.jsxs("div",{className:"sm:w-full max-w-md bg-white rounded-sm shadow-xl p-6 text-center space-y-6",children:[p.jsxs("h2",{className:"text-lg md:text-xl font-semibold text-gray-800",children:["서비스 ",p.jsx("span",{className:"text-blue-600 font-bold",children:"접속대기 중"}),"입니다."]}),p.jsxs("div",{className:"text-sm md:text-base text-gray-600",children:["예상대기시간: ",p.jsx("span",{className:"text-blue-600 font-bold text-xl",children:e}),"초"]}),p.jsx("div",{className:"w-full h-2 bg-gray-200 rounded-full overflow-hidden",children:p.jsx("div",{className:"h-full bg-blue-500 transition-all duration-300",style:{width:`${o/(e+o)*100}%`}})}),p.jsxs("div",{className:"text-gray-700 text-sm md:text-base leading-relaxed",children:["고객님 앞에 ",p.jsx("span",{className:"text-green-600 font-bold text-xl",children:n<0?0:n}),"명, 뒤에 ",p.jsx("span",{className:"text-green-600 font-bold text-xl",children:i}),"명의 대기자가 있습니다. ",p.jsx("br",{}),"현재 접속 사용자가 많아 대기 중이며, 잠시만 기다리시면 서비스로 자동 접속 됩니다."]}),p.jsxs("button",{className:"inline-flex items-center justify-center border-2 border-gray-400 text-gray-800 px-2 py-1 hover:bg-gray-100",onClick:_,children:[p.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),"중지"]}),p.jsx("p",{className:"text-xs md:text-sm text-gray-500",children:"재 접속하시면 대기시간이 더 길어집니다."})]})})}function F0(){return p.jsx("tbody",{children:p.jsx("tr",{children:p.jsx("td",{colSpan:13,className:"text-gray-500 py-4",children:p.jsx("div",{className:"min-h-[160px] flex items-center justify-center ",children:p.jsx("p",{className:"bg-stone-100 px-15 py-1 border",children:"조회된 내역이 없습니다."})})})})})}const ace=({index:e,subject:t,isRegisteredTable:n,onClickSubject:r})=>p.jsxs("tr",{className:"hover:bg-gray-50 text-nowrap",children:[p.jsx("td",{className:"border bg-blue-100 px-2 py-1 border-gray-200",children:e+1}),p.jsx("td",{className:"border py-1 border-gray-200",children:p.jsx("button",{className:"bg-blue-500 cursor-pointer text-white text-xs px-3 py-0.5 rounded-xs",disabled:!!n,onClick:()=>r(t.subjectId),children:n?"삭제":"신청"})}),p.jsx("td",{className:"border px-2 py-1 border-gray-200",children:t.subjectCode}),p.jsx("td",{className:"border px-2 py-1 border-gray-200",children:t.classCode}),p.jsx("td",{className:"border px-2 py-1 border-gray-200 text-left",children:t.departmentName}),p.jsx("td",{className:"border px-2 py-1 border-gray-200 text-left",children:t.subjectName}),p.jsx("td",{className:"border px-2 py-1 border-gray-200",children:p.jsx("button",{className:"bg-gray-700 text-xs text-white rounded-xs px-2 py-0.5",children:"수업계획서"})}),p.jsx("td",{className:"border py-1 border-gray-200",children:t.language||"-"}),p.jsx("td",{className:"border  py-1 border-gray-200",children:t.tm_num?t.tm_num.split("/").map((i,s)=>s===0?parseFloat(i).toFixed(1):i).join("/"):"-"}),p.jsx("td",{className:"border px-2 py-1 border-gray-200",children:t.subjectType}),p.jsx("td",{className:"border px-2 py-1 border-gray-200",children:t.semester_at===-1?"":t.semester_at}),p.jsx("td",{className:"border px-2 py-1 border-gray-200",children:t.lesn_time||"-"}),p.jsx("td",{className:"border py-1 border-gray-200",children:p.jsx("button",{className:"bg-gray-700 text-white text-xs px-2 py-0.5 rounded-xs",children:"수강인원"})})]}),cC=({isRegisteredTable:e})=>{const{currentSimulation:t}=co(),{openModal:n}=Ki(),{setCurrentSubjectId:r}=E1(),{data:i}=zc(),s=l=>{Wo({eventType:sr.APPLY,subjectId:l},i).then(u=>{"errMsg"in u&&alert(u.errMsg)}).catch(u=>{console.error("예외 발생:",u)}),r(l),n("captcha")},o=t.nonRegisteredSubjects.concat(t.failedSubjects),a=e?t.successedSubjects:o;return a.length>0?a.map((l,u)=>p.jsx("tbody",{className:"min-h-[300px] border-gray-100",children:p.jsx(ace,{index:u,subject:l,isRegisteredTable:e,onClickSubject:s})},l.subjectId)):p.jsx(F0,{})},lce=e=>I.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},I.createElement("path",{d:"M9.5 16C7.68333 16 6.146 15.3707 4.888 14.112C3.63 12.8533 3.00067 11.316 3 9.5C2.99933 7.684 3.62867 6.14667 4.888 4.888C6.14733 3.62933 7.68467 3 9.5 3C11.3153 3 12.853 3.62933 14.113 4.888C15.373 6.14667 16.002 7.684 16 9.5C16 10.2333 15.8833 10.925 15.65 11.575C15.4167 12.225 15.1 12.8 14.7 13.3L20.3 18.9C20.4833 19.0833 20.575 19.3167 20.575 19.6C20.575 19.8833 20.4833 20.1167 20.3 20.3C20.1167 20.4833 19.8833 20.575 19.6 20.575C19.3167 20.575 19.0833 20.4833 18.9 20.3L13.3 14.7C12.8 15.1 12.225 15.4167 11.575 15.65C10.925 15.8833 10.2333 16 9.5 16ZM9.5 14C10.75 14 11.8127 13.5627 12.688 12.688C13.5633 11.8133 14.0007 10.7507 14 9.5C13.9993 8.24933 13.562 7.187 12.688 6.313C11.814 5.439 10.7513 5.00133 9.5 5C8.24867 4.99867 7.18633 5.43633 6.313 6.313C5.43967 7.18967 5.002 8.252 5 9.5C4.998 10.748 5.43567 11.8107 6.313 12.688C7.19033 13.5653 8.25267 14.0027 9.5 14Z",fill:"white"}));function oI(){const{setCurrentSimulation:e,currentSimulation:t}=co(),{openModal:n}=Ki(),{data:r}=zc(),i=(a,l,u)=>{const f=a.map(h=>k2(r,h.subjectId)).filter(h=>h!==void 0);e({simulationId:u,[l]:f}),t.simulationStatus==="progress"&&n("waiting")};function s(a,l,u){if(l==="successedSubjects"){const f=u.filter(h=>h.status===1).map(h=>h.subjectId);return a.filter(h=>f.includes(h.subjectId))}else{const f=u.filter(h=>h.status===2).map(h=>h.subjectId);return a.filter(h=>f.includes(h.subjectId))}}return{reloadSimulationStatus:()=>{zX().then(a=>{if(!(!a||a.simulationId===-1)&&(e({simulationId:a.simulationId}),a?.nonRegisteredSubjects&&i(a.nonRegisteredSubjects,"nonRegisteredSubjects",a.simulationId),a?.registeredSubjects)){const l=s(a.registeredSubjects,"successedSubjects",a.subjectStatus),u=s(a.registeredSubjects,"failedSubejcts",a.subjectStatus);i(l,"successedSubjects",a.simulationId),i(u,"failedSubjects",a.simulationId),i(a.registeredSubjects,"registeredSubjects",a.simulationId)}}).catch(a=>{console.log(a)})}}}function cce(){const{setCurrentSimulation:e,currentSimulation:t,resetSimulation:n}=co(),{openModal:r}=Ki(),i=Bd(Ih),{reloadSimulationStatus:s}=oI(),{data:o}=zc(),l=(i&&"simulationId"in i?i.simulationId:-1)!==-1,u=i&&"userStatus"in i?i.userStatus?.departmentName:-1,f=()=>{e({simulationStatus:"before"}),r("tutorial"),n()},h=()=>{Ih().then(b=>{b&&"simulationId"in b&&b.simulationId!==-1&&s()})},g=async()=>{h(),Wo({eventType:sr.SEARCH},o).then(b=>{if("errMsg"in b)alert("시뮬레이션이 존재하지 않습니다. 학과 검색을 먼저 진행해주세요!");else{const _=b.elapsed_time/1e3;e({simulationStatus:"progress",clickedTime:_>10?5:_}),r("waiting")}}).catch(b=>{console.error("예외 발생:",b)})},y=async()=>{try{await vc(),e({simulationStatus:"finish"}),r("result")}catch(b){console.error(b),alert("데이터베이스 삭제에 실패했습니다.")}};return p.jsx("section",{className:"border p-2 text-xs",children:p.jsxs("div",{className:"flex flex-col gap-1 sm:gap-4",children:[p.jsxs("div",{className:"flex flex-col sm:flex-row gap-1 sm:gap-8",children:[p.jsx("div",{className:"flex justify-end items-center sm:justify-start gap-2",children:p.jsx(zu,{id:"organization-type",label:"조직 분류",className:"w-48",disabled:!0,children:p.jsx("option",{})})}),p.jsx("div",{className:"flex justify-end items-center sm:justify-start gap-2",children:p.jsx(zu,{id:"semester-type",label:"년도/학기",className:"w-48",disabled:!0,children:p.jsx("option",{})})})]}),p.jsx("div",{className:"flex flex-col justify-between sm:flex-row gap-1 sm:gap-8",children:p.jsxs("div",{className:"flex flex-col sm:items-end sm:flex-row gap-2 ",children:[p.jsx("div",{className:"flex items-center justify-end sm:justify-start gap-2",children:p.jsx(zu,{id:"my-major-department",label:"주전공(교직)",className:"w-48",disabled:!0,children:p.jsx("option",{children:"컴퓨터공학전공"})})}),p.jsx("div",{className:"flex items-center justify-end sm:justify-start gap-2",children:p.jsx(zu,{id:"my-sub-department",label:"복수전공(교직)",className:"w-48",disabled:!0,children:p.jsx("option",{children:"없음"})})})]})}),p.jsxs("div",{className:"flex flex-col sm:flex-col md:flex-row justify-between gap-2",children:[p.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[p.jsx("div",{className:"flex justify-end items-center sm:justify-start gap-2",children:p.jsx(zu,{id:"search-division",label:"검색구분",className:"w-48",disabled:!0,children:p.jsx("option",{children:"주전공검색"})})}),p.jsxs("div",{className:"flex justify-end items-center sm:justify-start gap-1",children:[p.jsx("label",{htmlFor:"search-major",className:"font-bold",children:"주전공"}),p.jsxs("div",{className:"flex flex-col sm:flex-row gap-1",children:[p.jsx("select",{id:"search-major",className:"border-gray-300  text-gray-400 border px-2 py-1 w-48 sm:w-30 disabled:bg-gray-100 cursor-not-allowed",disabled:!0,children:p.jsx("option",{children:"학부"})}),p.jsx(zu,{id:"search-department",label:"학과 이름",className:"w-40 lg:w-90",value:u,disabled:!0,hideLabel:!0})]})]})]}),p.jsxs("div",{className:"flex flex-row justify-between gap-2",children:[p.jsx("div",{className:"flex flex-row ",children:l?p.jsx("button",{onClick:y,className:"px-3 py-2 bg-white border border-gray-700 cursor-pointer rounded flex flex-row gap-1",children:"연습 중지"}):p.jsx("button",{className:"px-3 py-2 bg-blue-500 cursor-pointer rounded flex flex-row gap-1 text-white",onClick:f,children:"재시작"})}),p.jsxs("button",{onClick:g,className:`relative px-3 py-2 rounded flex flex-row items-center gap-1 text-white ${l?"bg-gradient-animation cursor-pointer":"bg-gray-400 cursor-not-allowed"}`,disabled:!l,children:[t.simulationStatus==="start"&&p.jsx(A9,{className:"absolute -top-20 right-8 w-15 h-15 animate-bounce rotate-170"}),p.jsx(lce,{className:"w-5 h-4"}),"검색"]})]})]})]})})}function zu({label:e,hideLabel:t=!1,children:n,id:r,className:i,...s}){const o=r||"muted-select-"+e;return p.jsxs(p.Fragment,{children:[p.jsx("label",{htmlFor:o,className:t?"hidden":"font-bold",children:e}),p.jsx("select",{id:o,className:"px-2 py-1 text-gray-400 border border-gray-300 disabled:bg-gray-100 cursor-not-allowed "+i,...s,children:n})]})}function uce(){const[e,t]=I.useState("00:00"),n=Ki(l=>l.openModal),r=co(l=>l.currentSimulation),i=co(l=>l.setCurrentSimulation),s=I.useRef(null),o=l=>{const u=Math.floor(l%3600/60),f=l%60;t(`${u.toString().padStart(2,"0")}:${f.toString().padStart(2,"0")}`)},a=async()=>{try{await vc(),i({simulationStatus:"finish"}),n("result")}catch(l){console.error(l),alert("시뮬레이션 강제 종료에 실패했습니다.")}};return I.useEffect(()=>((async()=>{if(r.simulationStatus==="finish"){t("00:00");return}try{const u=await k1();if(!(u?.started_at&&u.simulation_run_id===r.simulationId))return;const h=u.started_at;s.current=setInterval(()=>{const g=Date.now(),y=Math.floor((g-h)/1e3);if(y>=r_){clearInterval(s.current),alert("5분 경과로 시뮬레이션이 강제 종료되었습니다."),a().then();return}o(y),r.simulationStatus==="finish"&&(clearInterval(s.current),t("00:00"))},1e3)}catch(u){console.error(u)}})().then(),()=>{s.current&&(clearInterval(s.current),s.current=null)}),[r.simulationStatus,r.simulationId]),p.jsx("p",{className:"font-semibold text-xl text-blue-500",children:e})}var Fx,uC;function dce(){return uC||(uC=1,Fx=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var r,i,s;if(Array.isArray(t)){if(r=t.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(s=Object.keys(t),r=s.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,s[i]))return!1;for(i=r;i--!==0;){var o=s[i];if(!e(t[o],n[o]))return!1}return!0}return t!==t&&n!==n}),Fx}var fce=dce();const hce=Ni(fce);var gg={exports:{}},Bx,dC;function pce(){if(dC)return Bx;dC=1;var e;/**
* @link https://github.com/gajus/sister for the canonical source repository
* @license https://github.com/gajus/sister/blob/master/LICENSE BSD 3-Clause
*/return e=function(){var t={},n={};return t.on=function(r,i){var s={name:r,handler:i};return n[r]=n[r]||[],n[r].unshift(s),s},t.off=function(r){var i=n[r.name].indexOf(r);i!==-1&&n[r.name].splice(i,1)},t.trigger=function(r,i){var s=n[r],o;if(s)for(o=s.length;o--;)s[o].handler(i)},t},Bx=e,Bx}var yg={exports:{}},zx,fC;function mce(){if(fC)return zx;fC=1,zx=function(i,s,o){var a=document.head||document.getElementsByTagName("head")[0],l=document.createElement("script");typeof s=="function"&&(o=s,s={}),s=s||{},o=o||function(){},l.type=s.type||"text/javascript",l.charset=s.charset||"utf8",l.async="async"in s?!!s.async:!0,l.src=i,s.attrs&&e(l,s.attrs),s.text&&(l.text=""+s.text);var u="onload"in l?t:n;u(l,o),l.onload||t(l,o),a.appendChild(l)};function e(r,i){for(var s in i)r.setAttribute(s,i[s])}function t(r,i){r.onload=function(){this.onerror=this.onload=null,i(null,r)},r.onerror=function(){this.onerror=this.onload=null,i(new Error("Failed to load "+this.src),r)}}function n(r,i){r.onreadystatechange=function(){this.readyState!="complete"&&this.readyState!="loaded"||(this.onreadystatechange=null,i(null,r))}}return zx}var hC;function gce(){return hC||(hC=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=mce(),r=i(n);function i(s){return s&&s.__esModule?s:{default:s}}t.default=function(s){var o=new Promise(function(a){if(window.YT&&window.YT.Player&&window.YT.Player instanceof Function){a(window.YT);return}else{var l=window.location.protocol==="http:"?"http:":"https:";(0,r.default)(l+"//www.youtube.com/iframe_api",function(f){f&&s.trigger("error",f)})}var u=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=function(){u&&u(),a(window.YT)}});return o},e.exports=t.default}(yg,yg.exports)),yg.exports}var vg={exports:{}},xg={exports:{}},bg={exports:{}},$x,pC;function yce(){if(pC)return $x;pC=1;var e=1e3,t=e*60,n=t*60,r=n*24,i=r*365.25;$x=function(u,f){f=f||{};var h=typeof u;if(h==="string"&&u.length>0)return s(u);if(h==="number"&&isNaN(u)===!1)return f.long?a(u):o(u);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(u))};function s(u){if(u=String(u),!(u.length>100)){var f=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(u);if(f){var h=parseFloat(f[1]),g=(f[2]||"ms").toLowerCase();switch(g){case"years":case"year":case"yrs":case"yr":case"y":return h*i;case"days":case"day":case"d":return h*r;case"hours":case"hour":case"hrs":case"hr":case"h":return h*n;case"minutes":case"minute":case"mins":case"min":case"m":return h*t;case"seconds":case"second":case"secs":case"sec":case"s":return h*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return h;default:return}}}}function o(u){return u>=r?Math.round(u/r)+"d":u>=n?Math.round(u/n)+"h":u>=t?Math.round(u/t)+"m":u>=e?Math.round(u/e)+"s":u+"ms"}function a(u){return l(u,r,"day")||l(u,n,"hour")||l(u,t,"minute")||l(u,e,"second")||u+" ms"}function l(u,f,h){if(!(u<f))return u<f*1.5?Math.floor(u/f)+" "+h:Math.ceil(u/f)+" "+h+"s"}return $x}var mC;function vce(){return mC||(mC=1,function(e,t){t=e.exports=i.debug=i.default=i,t.coerce=l,t.disable=o,t.enable=s,t.enabled=a,t.humanize=yce(),t.names=[],t.skips=[],t.formatters={};var n;function r(u){var f=0,h;for(h in u)f=(f<<5)-f+u.charCodeAt(h),f|=0;return t.colors[Math.abs(f)%t.colors.length]}function i(u){function f(){if(f.enabled){var h=f,g=+new Date,y=g-(n||g);h.diff=y,h.prev=n,h.curr=g,n=g;for(var b=new Array(arguments.length),_=0;_<b.length;_++)b[_]=arguments[_];b[0]=t.coerce(b[0]),typeof b[0]!="string"&&b.unshift("%O");var E=0;b[0]=b[0].replace(/%([a-zA-Z%])/g,function(P,O){if(P==="%%")return P;E++;var z=t.formatters[O];if(typeof z=="function"){var B=b[E];P=z.call(h,B),b.splice(E,1),E--}return P}),t.formatArgs.call(h,b);var C=f.log||t.log||console.log.bind(console);C.apply(h,b)}}return f.namespace=u,f.enabled=t.enabled(u),f.useColors=t.useColors(),f.color=r(u),typeof t.init=="function"&&t.init(f),f}function s(u){t.save(u),t.names=[],t.skips=[];for(var f=(typeof u=="string"?u:"").split(/[\s,]+/),h=f.length,g=0;g<h;g++)f[g]&&(u=f[g].replace(/\*/g,".*?"),u[0]==="-"?t.skips.push(new RegExp("^"+u.substr(1)+"$")):t.names.push(new RegExp("^"+u+"$")))}function o(){t.enable("")}function a(u){var f,h;for(f=0,h=t.skips.length;f<h;f++)if(t.skips[f].test(u))return!1;for(f=0,h=t.names.length;f<h;f++)if(t.names[f].test(u))return!0;return!1}function l(u){return u instanceof Error?u.stack||u.message:u}}(bg,bg.exports)),bg.exports}var gC;function xce(){return gC||(gC=1,function(e,t){var n={};t=e.exports=vce(),t.log=s,t.formatArgs=i,t.save=o,t.load=a,t.useColors=r,t.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:l(),t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"];function r(){return typeof window<"u"&&window.process&&window.process.type==="renderer"?!0:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}t.formatters.j=function(u){try{return JSON.stringify(u)}catch(f){return"[UnexpectedJSONParseError]: "+f.message}};function i(u){var f=this.useColors;if(u[0]=(f?"%c":"")+this.namespace+(f?" %c":" ")+u[0]+(f?"%c ":" ")+"+"+t.humanize(this.diff),!!f){var h="color: "+this.color;u.splice(1,0,h,"color: inherit");var g=0,y=0;u[0].replace(/%[a-zA-Z%]/g,function(b){b!=="%%"&&(g++,b==="%c"&&(y=g))}),u.splice(y,0,h)}}function s(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function o(u){try{u==null?t.storage.removeItem("debug"):t.storage.debug=u}catch{}}function a(){var u;try{u=t.storage.debug}catch{}return!u&&typeof process<"u"&&"env"in process&&(u=n.DEBUG),u}t.enable(a());function l(){try{return window.localStorage}catch{}}}(xg,xg.exports)),xg.exports}var wg={exports:{}},yC;function bce(){return yC||(yC=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=["cueVideoById","loadVideoById","cueVideoByUrl","loadVideoByUrl","playVideo","pauseVideo","stopVideo","getVideoLoadedFraction","cuePlaylist","loadPlaylist","nextVideo","previousVideo","playVideoAt","setShuffle","setLoop","getPlaylist","getPlaylistIndex","setOption","mute","unMute","isMuted","setVolume","getVolume","seekTo","getPlayerState","getPlaybackRate","setPlaybackRate","getAvailablePlaybackRates","getPlaybackQuality","setPlaybackQuality","getAvailableQualityLevels","getCurrentTime","getDuration","removeEventListener","getVideoUrl","getVideoEmbedCode","getOptions","getOption","addEventListener","destroy","setSize","getIframe"],e.exports=t.default}(wg,wg.exports)),wg.exports}var _g={exports:{}},vC;function wce(){return vC||(vC=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=["ready","stateChange","playbackQualityChange","playbackRateChange","error","apiChange","volumeChange"],e.exports=t.default}(_g,_g.exports)),_g.exports}var Sg={exports:{}},Eg={exports:{}},xC;function _ce(){return xC||(xC=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default={BUFFERING:3,ENDED:0,PAUSED:2,PLAYING:1,UNSTARTED:-1,VIDEO_CUED:5},e.exports=t.default}(Eg,Eg.exports)),Eg.exports}var bC;function Sce(){return bC||(bC=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=_ce(),r=i(n);function i(s){return s&&s.__esModule?s:{default:s}}t.default={pauseVideo:{acceptableStates:[r.default.ENDED,r.default.PAUSED],stateChangeRequired:!1},playVideo:{acceptableStates:[r.default.ENDED,r.default.PLAYING],stateChangeRequired:!1},seekTo:{acceptableStates:[r.default.ENDED,r.default.PLAYING,r.default.PAUSED],stateChangeRequired:!0,timeout:3e3}},e.exports=t.default}(Sg,Sg.exports)),Sg.exports}var wC;function Ece(){return wC||(wC=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=xce(),r=f(n),i=bce(),s=f(i),o=wce(),a=f(o),l=Sce(),u=f(l);function f(y){return y&&y.__esModule?y:{default:y}}var h=(0,r.default)("youtube-player"),g={};g.proxyEvents=function(y){var b={},_=function(M){var U="on"+M.slice(0,1).toUpperCase()+M.slice(1);b[U]=function($){h('event "%s"',U,$),y.trigger(M,$)}},E=!0,C=!1,P=void 0;try{for(var O=a.default[Symbol.iterator](),z;!(E=(z=O.next()).done);E=!0){var B=z.value;_(B)}}catch(j){C=!0,P=j}finally{try{!E&&O.return&&O.return()}finally{if(C)throw P}}return b},g.promisifyPlayer=function(y){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,_={},E=function(U){b&&u.default[U]?_[U]=function(){for(var $=arguments.length,D=Array($),ee=0;ee<$;ee++)D[ee]=arguments[ee];return y.then(function(X){var re=u.default[U],Q=X.getPlayerState(),q=X[U].apply(X,D);return re.stateChangeRequired||Array.isArray(re.acceptableStates)&&re.acceptableStates.indexOf(Q)===-1?new Promise(function(V){var ne=function Z(){var fe=X.getPlayerState(),F=void 0;typeof re.timeout=="number"&&(F=setTimeout(function(){X.removeEventListener("onStateChange",Z),V()},re.timeout)),Array.isArray(re.acceptableStates)&&re.acceptableStates.indexOf(fe)!==-1&&(X.removeEventListener("onStateChange",Z),clearTimeout(F),V())};X.addEventListener("onStateChange",ne)}).then(function(){return q}):q})}:_[U]=function(){for(var $=arguments.length,D=Array($),ee=0;ee<$;ee++)D[ee]=arguments[ee];return y.then(function(X){return X[U].apply(X,D)})}},C=!0,P=!1,O=void 0;try{for(var z=s.default[Symbol.iterator](),B;!(C=(B=z.next()).done);C=!0){var j=B.value;E(j)}}catch(M){P=!0,O=M}finally{try{!C&&z.return&&z.return()}finally{if(P)throw O}}return _},t.default=g,e.exports=t.default}(vg,vg.exports)),vg.exports}var _C;function kce(){return _C||(_C=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h},r=pce(),i=u(r),s=gce(),o=u(s),a=Ece(),l=u(a);function u(h){return h&&h.__esModule?h:{default:h}}var f=void 0;t.default=function(h){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,b=(0,i.default)();if(f||(f=(0,o.default)(b)),g.events)throw new Error("Event handlers cannot be overwritten.");if(typeof h=="string"&&!document.getElementById(h))throw new Error('Element "'+h+'" does not exist.');g.events=l.default.proxyEvents(b);var _=new Promise(function(C){if((typeof h>"u"?"undefined":n(h))==="object"&&h.playVideo instanceof Function){var P=h;C(P)}else f.then(function(O){var z=new O.Player(h,g);return b.on("ready",function(){C(z)}),null})}),E=l.default.promisifyPlayer(_,y);return E.on=b.on,E.off=b.off,E},e.exports=t.default}(gg,gg.exports)),gg.exports}var Cce=kce();const Tce=Ni(Cce);var jce=Object.defineProperty,Nce=Object.defineProperties,Ice=Object.getOwnPropertyDescriptors,SC=Object.getOwnPropertySymbols,Pce=Object.prototype.hasOwnProperty,Rce=Object.prototype.propertyIsEnumerable,EC=(e,t,n)=>t in e?jce(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,C2=(e,t)=>{for(var n in t||(t={}))Pce.call(t,n)&&EC(e,n,t[n]);if(SC)for(var n of SC(t))Rce.call(t,n)&&EC(e,n,t[n]);return e},T2=(e,t)=>Nce(e,Ice(t)),Oce=(e,t,n)=>new Promise((r,i)=>{var s=l=>{try{a(n.next(l))}catch(u){i(u)}},o=l=>{try{a(n.throw(l))}catch(u){i(u)}},a=l=>l.done?r(l.value):Promise.resolve(l.value).then(s,o);a((n=n.apply(e,t)).next())});function Ace(e,t){var n,r;if(e.videoId!==t.videoId)return!0;const i=((n=e.opts)==null?void 0:n.playerVars)||{},s=((r=t.opts)==null?void 0:r.playerVars)||{};return i.start!==s.start||i.end!==s.end}function kC(e={}){return T2(C2({},e),{height:0,width:0,playerVars:T2(C2({},e.playerVars),{autoplay:0,start:0,end:0})})}function Mce(e,t){return e.videoId!==t.videoId||!hce(kC(e.opts),kC(t.opts))}function Dce(e,t){var n,r,i,s;return e.id!==t.id||e.className!==t.className||((n=e.opts)==null?void 0:n.width)!==((r=t.opts)==null?void 0:r.width)||((i=e.opts)==null?void 0:i.height)!==((s=t.opts)==null?void 0:s.height)||e.iframeClassName!==t.iframeClassName||e.title!==t.title}var Lce={videoId:"",id:"",className:"",iframeClassName:"",style:{},title:"",loading:void 0,opts:{},onReady:()=>{},onError:()=>{},onPlay:()=>{},onPause:()=>{},onEnd:()=>{},onStateChange:()=>{},onPlaybackRateChange:()=>{},onPlaybackQualityChange:()=>{}},Fce={videoId:Ft.string,id:Ft.string,className:Ft.string,iframeClassName:Ft.string,style:Ft.object,title:Ft.string,loading:Ft.oneOf(["lazy","eager"]),opts:Ft.objectOf(Ft.any),onReady:Ft.func,onError:Ft.func,onPlay:Ft.func,onPause:Ft.func,onEnd:Ft.func,onStateChange:Ft.func,onPlaybackRateChange:Ft.func,onPlaybackQualityChange:Ft.func},qg=class extends wn.Component{constructor(e){super(e),this.destroyPlayerPromise=void 0,this.onPlayerReady=t=>{var n,r;return(r=(n=this.props).onReady)==null?void 0:r.call(n,t)},this.onPlayerError=t=>{var n,r;return(r=(n=this.props).onError)==null?void 0:r.call(n,t)},this.onPlayerStateChange=t=>{var n,r,i,s,o,a,l,u;switch((r=(n=this.props).onStateChange)==null||r.call(n,t),t.data){case qg.PlayerState.ENDED:(s=(i=this.props).onEnd)==null||s.call(i,t);break;case qg.PlayerState.PLAYING:(a=(o=this.props).onPlay)==null||a.call(o,t);break;case qg.PlayerState.PAUSED:(u=(l=this.props).onPause)==null||u.call(l,t);break}},this.onPlayerPlaybackRateChange=t=>{var n,r;return(r=(n=this.props).onPlaybackRateChange)==null?void 0:r.call(n,t)},this.onPlayerPlaybackQualityChange=t=>{var n,r;return(r=(n=this.props).onPlaybackQualityChange)==null?void 0:r.call(n,t)},this.destroyPlayer=()=>this.internalPlayer?(this.destroyPlayerPromise=this.internalPlayer.destroy().then(()=>this.destroyPlayerPromise=void 0),this.destroyPlayerPromise):Promise.resolve(),this.createPlayer=()=>{if(typeof document>"u")return;if(this.destroyPlayerPromise){this.destroyPlayerPromise.then(this.createPlayer);return}const t=T2(C2({},this.props.opts),{videoId:this.props.videoId});this.internalPlayer=Tce(this.container,t),this.internalPlayer.on("ready",this.onPlayerReady),this.internalPlayer.on("error",this.onPlayerError),this.internalPlayer.on("stateChange",this.onPlayerStateChange),this.internalPlayer.on("playbackRateChange",this.onPlayerPlaybackRateChange),this.internalPlayer.on("playbackQualityChange",this.onPlayerPlaybackQualityChange),(this.props.title||this.props.loading)&&this.internalPlayer.getIframe().then(n=>{this.props.title&&n.setAttribute("title",this.props.title),this.props.loading&&n.setAttribute("loading",this.props.loading)})},this.resetPlayer=()=>this.destroyPlayer().then(this.createPlayer),this.updatePlayer=()=>{var t;(t=this.internalPlayer)==null||t.getIframe().then(n=>{this.props.id?n.setAttribute("id",this.props.id):n.removeAttribute("id"),this.props.iframeClassName?n.setAttribute("class",this.props.iframeClassName):n.removeAttribute("class"),this.props.opts&&this.props.opts.width?n.setAttribute("width",this.props.opts.width.toString()):n.removeAttribute("width"),this.props.opts&&this.props.opts.height?n.setAttribute("height",this.props.opts.height.toString()):n.removeAttribute("height"),this.props.title?n.setAttribute("title",this.props.title):n.setAttribute("title","YouTube video player"),this.props.loading?n.setAttribute("loading",this.props.loading):n.removeAttribute("loading")})},this.getInternalPlayer=()=>this.internalPlayer,this.updateVideo=()=>{var t,n,r,i;if(typeof this.props.videoId>"u"||this.props.videoId===null){(t=this.internalPlayer)==null||t.stopVideo();return}let s=!1;const o={videoId:this.props.videoId};if((n=this.props.opts)!=null&&n.playerVars&&(s=this.props.opts.playerVars.autoplay===1,"start"in this.props.opts.playerVars&&(o.startSeconds=this.props.opts.playerVars.start),"end"in this.props.opts.playerVars&&(o.endSeconds=this.props.opts.playerVars.end)),s){(r=this.internalPlayer)==null||r.loadVideoById(o);return}(i=this.internalPlayer)==null||i.cueVideoById(o)},this.refContainer=t=>{this.container=t},this.container=null,this.internalPlayer=null}componentDidMount(){this.createPlayer()}componentDidUpdate(e){return Oce(this,null,function*(){Dce(e,this.props)&&this.updatePlayer(),Mce(e,this.props)&&(yield this.resetPlayer()),Ace(e,this.props)&&this.updateVideo()})}componentWillUnmount(){this.destroyPlayer()}render(){return wn.createElement("div",{className:this.props.className,style:this.props.style},wn.createElement("div",{id:this.props.id,className:this.props.iframeClassName,ref:this.refContainer}))}},F1=qg;F1.propTypes=Fce;F1.defaultProps=Lce;F1.PlayerState={UNSTARTED:-1,ENDED:0,PLAYING:1,PAUSED:2,BUFFERING:3,CUED:5};var Bce=F1;const Ux=[{id:1,videoId:"BTNgos01s1o",title:"1단계: 연습 과목 선택"},{id:2,videoId:"yYq-sXZmS9I",title:"2단계: 연습 시작 방법"},{id:3,videoId:"mEi-n2kEs94",title:"3단계: 연습 종료"},{id:4,videoId:"xmD5YuZtJv4",title:"4단계: 내 연습 결과 분석"}];function aI(){const e=localStorage.getItem("visitedTutorial");if(!e)return!0;const t=new Date,n=new Date(e);return(t.getTime()-n.getTime())/(1e3*60*60*24)>=7}function zce(){const[e,t]=I.useState(0),[n,r]=I.useState(!1),{closeModal:i,openModal:s}=Ki(),a=p_()?{width:"250",height:"141"}:{width:"600",height:"338"},l=aI();l||s("wish");const u=()=>{t(_=>_===0?Ux.length-1:_-1)},f=()=>{t(_=>_===Ux.length-1?0:_+1)},h=()=>{if(!n)return;const _=new Date().toISOString();localStorage.setItem("visitedTutorial",_),r(!0)},g=Ux[e],y=()=>{i(),h()},b=()=>{h(),i(),s("wish")};return l&&p.jsxs(ml,{onClose:i,children:[p.jsx(op,{title:"올클연습 소개",onClose:y}),p.jsxs("div",{className:"w-full flex flex-col p-4",children:[p.jsx("div",{className:"mx-auto",style:{width:a.width+"px",height:a.height+"px"},children:p.jsx(Bce,{videoId:g.videoId,opts:{width:a.width,height:a.height,playerVars:{autoplay:1,mute:1,playlist:g.videoId}},onEnd:f})}),p.jsxs("div",{className:"mt-4 flex flex-col justify-center items-center gap-2",children:[p.jsxs("div",{className:"flex justify-center items-center gap-5",children:[p.jsx("button",{className:"cursor-pointer w-5 h-5","aria-label":"이전 튜토리얼",onClick:u,children:e!==0&&p.jsx(_2,{className:"w-5 h-5 transform rotate-90"})}),p.jsx("h2",{className:"text-gray-700 text-xl font-semibold",children:g.title}),p.jsx("button",{className:"cursor-pointer","aria-label":"이전 튜토리얼",onClick:f,children:e<3&&p.jsx(_2,{className:"w-5 h-5 transform -rotate-90"})})]}),p.jsx("p",{className:"text-gray-500 text-sm",children:"올클연습은 실제 수강신청과 유사한 환경에서 연습할 수 있는 기능입니다."}),p.jsx("p",{className:"text-gray-500 text-sm",children:"각 영상을 통해 연습 과목 선택, 연습 시작 방법, 연습 종료 및 결과 분석 방법을 배울 수 있습니다."}),p.jsxs("div",{className:"flex flex-row w-full gap-4 mt-4 justify-end",children:[p.jsx(A_,{label:"일주일 동안 보지 않기",checked:n,onChange:()=>r(!n)}),p.jsx("button",{onClick:b,className:"px-4 cursor-pointer text-white py-2 bg-blue-500 hover:bg-blue-600 rounded-md",children:"튜토리얼 건너뛰기"})]})]})]})]})}const $ce=["순번","신청","학수번호","분반","개설학과","교과목명","수업계획서","강의언어","학점/이론/실습","이수","학년","시간표","인원보기"];function CC(){return p.jsx("thead",{className:"bg-gray-100",children:p.jsx("tr",{className:"text-nowrap",children:$ce.map(e=>p.jsx("th",{className:"border border-gray-300 px-2 py-1",children:e},e))})})}function Uce(){const{type:e,openModal:t,closeModal:n}=Ki(),r=co(b=>b.currentSimulation),i=co(b=>b.setCurrentSimulation),{reloadSimulationStatus:s}=oI(),{data:o=[]}=W9(),a=aI(),l=Ki(b=>b.type),u=async()=>{try{await vc(),i({simulationStatus:"finish"}),alert("5분 경과로 시뮬레이션이 강제 종료되었습니다."),t("result")}catch(b){console.error(b),alert("시뮬레이션 강제 종료에 실패했습니다.")}},f=()=>{Ih().then(b=>{if(b&&"simulationId"in b&&b.simulationId!==-1){const _=b.startedAt;if(!_)return;const E=Date.now();Math.floor((E-_)/1e3)>r_?u().then():s()}else r.simulationStatus==="before"&&t("tutorial")})};I.useEffect(()=>{f()},[r.simulationStatus]);const h=r.successedSubjects.reduce((b,_)=>{const E=_.tm_num.split("/")[0];return b+parseInt(E,10)},0),g=()=>{switch(e){case"tutorial":return p.jsx(zce,{});case"waiting":return p.jsx(oce,{});case"captcha":return p.jsx(Ple,{});case"wish":return p.jsx(ice,{timetables:o,setIsModalOpen:()=>n()});case"simulation":return p.jsx(Mle,{reloadSimulationStatus:s});case"result":return p.jsx(zle,{simulationId:r.simulationId});default:return null}},y=()=>{localStorage.removeItem("visitedTutorial")};return p.jsxs(p.Fragment,{children:[p.jsx(gr,{children:p.jsx("title",{children:"ALLCLL | 올클연습 - 세종대 수강신청 연습"})}),g(),p.jsxs("div",{className:"flex justify-between gap-5",children:[p.jsxs("div",{className:"flex gap-5",children:[p.jsx("h1",{className:"font-bold text-lg",children:"수강신청 연습"}),p.jsx(uce,{})]}),!a&&p.jsx("button",{className:"text-gray-600 hover:text-blue-500 cursor-pointer",onClick:y,children:"튜토리얼 활성화"})]}),p.jsx(cce,{}),p.jsxs("section",{className:"mt-4 ",children:[p.jsx("div",{className:"font-semibold pl-2 mb-2 border-l-4 border-blue-500",children:"수강 대상 교과목"}),p.jsx("div",{className:"overflow-x-auto min-h-[300px] border-gray-300",children:p.jsxs("table",{className:"w-full border border-gray-300 border-t-3 text-xs border-t-black text-center",children:[p.jsx(CC,{}),r.simulationStatus==="progress"&&l!=="waiting"?p.jsx(cC,{isRegisteredTable:!1}):p.jsx(F0,{})]})})]}),p.jsxs("section",{className:"mt-4",children:[p.jsxs("div",{className:"w-full flex flex-col sm:flex-row sm:items-center justify-start gap-2 mb-2",children:[p.jsx("div",{className:"flex flex-col sm:flex-row items-baseline gap-2",children:p.jsx("span",{className:"font-semibold pl-2 border-l-4 border-blue-500",children:"수강 신청 내역"})}),p.jsxs("div",{className:"flex flex-row gap-2",children:[p.jsx("button",{className:"text-xs w-14 bg-blue-500 text-white px-2 py-0.5 rounded-xs cursor-pointer",onClick:s,children:"재조회"}),p.jsxs("div",{className:"text-xs font-bold text-black",children:["수강 가능 학점: 18 /",p.jsxs("span",{className:"text-blue-500",children:["신청 과목수: ",r.registeredSubjects.length," / 신청 학점수: ",h]})]})]})]}),p.jsx("div",{className:"overflow-x-auto min-h-[300px] border-gray-300",children:p.jsxs("table",{className:"w-full border border-gray-300 border-t-3 text-xs border-t-black text-center",children:[p.jsx(CC,{}),r.simulationStatus==="progress"&&l!=="waiting"?p.jsx(cC,{isRegisteredTable:!0}):p.jsx(F0,{})]})})]})]})}sa.register(tp,np,ep,Zw,Nd,GT,Pd,Id);function Hce({result:e}){const[t,n]=I.useState(!0),r=t?e.simulations.filter(g=>g.totalTime<=80&&g.searchBtnTime>0):e.simulations,i=r.map((g,y)=>`시뮬레이션 ${y+1}`),s=r.map(g=>g.searchBtnTime),o=r.map(g=>g.captchaTime-g.searchBtnTime),a=r.map(g=>g.subjectTime-g.captchaTime),l=r.map(g=>g.totalTime-g.subjectTime),u=r&&r.length<50?16:8,f={labels:i,datasets:[{type:"bar",label:"검색 버튼 시간",data:s,barThickness:u,backgroundColor:"rgba(75, 192, 192, 0.7)",stack:"Stack 0"},{type:"bar",label:"매크로 방지 인증 속도",data:o,barThickness:u,backgroundColor:"rgba(255, 99, 132, 0.7)",stack:"Stack 0"},{type:"bar",label:"과목 신청 시간",data:a,barThickness:u,backgroundColor:"rgba(54, 162, 235, 0.7)",stack:"Stack 0"},{type:"bar",label:"나머지 시간",data:l,barThickness:u,backgroundColor:"rgba(153, 102, 255, 0.7)",stack:"Stack 0"},{type:"line",label:"검색 완료",data:s,borderColor:"rgba(75, 192, 192, 1)",borderWidth:2,pointRadius:4,pointBackgroundColor:"rgba(75, 192, 192, 1)",fill:!1,tension:.1},{type:"line",label:"매크로 완료",data:o,borderColor:"rgba(255, 99, 132, 1)",borderWidth:2,pointRadius:4,pointBackgroundColor:"rgba(255, 99, 132, 1)",fill:!1,tension:.1},{type:"line",label:"과목 신청 완료",data:a,borderColor:"rgba(54, 162, 235, 1)",borderWidth:2,pointRadius:4,pointBackgroundColor:"rgba(54, 162, 235, 1)",fill:!1,tension:.1},{type:"line",label:"총 소요 시간",data:l,borderColor:"rgba(153, 102, 255, 1)",borderWidth:2,pointRadius:4,pointBackgroundColor:"rgba(153, 102, 255, 1)",fill:!1,tension:.1}]},h={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"},tooltip:{callbacks:{label:function(g){const y=g.dataset.label||"",b=g.parsed.y;return`${y}: ${b.toFixed(2)}초`}}}},scales:{x:{title:{display:!0,text:"시뮬레이션"}},y:{stacked:!0,title:{display:!0,text:"시간 (초)"},ticks:{callback:function(g){return(Sc(g)?g.toFixed(1):g)+"초"}}}}};return p.jsxs("div",{className:"w-full h-96 p-4 box-border",children:[p.jsxs("div",{className:"flex justify-between items-center mb-4",children:[p.jsx("div",{}),p.jsxs("div",{className:"text-lg font-semibold",children:[p.jsx("input",{id:"normal-data",type:"checkbox",className:"cursor-pointer",onChange:g=>n(g.target.checked),checked:t}),p.jsx("label",{htmlFor:"normal-data",className:"text-sm pl-2 cursor-pointer",children:"이상치 제거"})]})]}),p.jsx("div",{className:"h-full pb-6 overflow-x-auto",children:p.jsx(nj,{type:"bar",data:f,options:h})})]})}function Wce({result:e}){const{data:t}=oa(),n=I.useMemo(()=>qce(t,e.subjects),[t,e]);return p.jsxs("table",{className:"min-w-full text-sm text-center text-nowrap",children:[p.jsx("thead",{className:"bg-gray-100 text-gray-600",children:p.jsxs("tr",{children:[p.jsx("th",{className:"py-2 px-2",children:"학수번호"}),p.jsx("th",{className:"py-2 px-2",children:"과목명"}),p.jsx("th",{className:"py-2 px-2",children:"교수명"}),p.jsx("th",{className:"py-2 px-2",children:"순위"}),p.jsx("th",{className:"py-2 px-2",children:"관심시간"}),p.jsx("th",{className:"py-2 px-2",children:"성공/실패"})]})}),p.jsx("tbody",{className:"text-gray-700",children:n.map(r=>p.jsxs("tr",{className:"border-t border-gray-200",children:[p.jsx("td",{className:"py-2 px-1",children:r.subjectCode+"-"+r.classCode}),p.jsx("td",{className:"py-2 px-1",children:r.subjectName}),p.jsx("td",{className:"py-2 px-1",children:r.professorName}),p.jsx("td",{className:"py-2 px-1",children:r.avgIndex}),p.jsx("td",{className:"py-2 px-1",children:r.avgCompletionTime.toFixed(2)+" sec"}),p.jsxs("td",{className:"py-2 px-2",children:[p.jsx("span",{className:"px-1 py-0.5 rounded-full text-xs font-bold text-green-500",children:r.successCount}),"/",p.jsx("span",{className:"px-1 py-0.5 rounded-full text-xs font-bold text-red-500",children:r.failedCount}),"/",p.jsx("span",{className:"px-1 py-0.5 rounded-full text-xs font-bold text-gray-500",children:r.doubledCount}),"/",p.jsx("span",{className:"px-1 py-0.5 rounded-full text-xs font-bold text-black",children:r.totalCount})]})]},r.subjectId))})]})}function qce(e,t){if(!t||!e)return[];const n=r=>e.find(i=>i.subjectId===r);return t.map(r=>{const i=n(r.subjectId);return{...r,subjectName:i?.subjectName||"",departmentName:i?.departmentName||"",departmentCode:i?.departmentCode||"",subjectCode:i?.subjectCode||"",classCode:i?.classCode||"",professorName:i?.professorName||null}})}function Qce(){const e=Bd(async()=>{try{return await nI()}catch(r){return{error:r.message}}});if(e&&"error"in e)return p.jsxs("div",{className:"flex flex-col w-full items-center justify-center h-120 gap-3",children:[p.jsx(kw,{className:"h-12 w-12"}),p.jsx("div",{className:"text-center text-gray-500",children:e.error}),p.jsx(li,{to:"/simulation",className:"bg-blue-500 text-white px-4 py-2 rounded-md hover:bg-blue-600 cursor-pointer",children:"수강 연습 시작하기"})]});const{simulations:t}=e||{simulations:[]},n=e?{user_ability:{searchBtnSpeed:t.reduce((r,i)=>r+i.searchBtnTime,0)/t.length||0,totalSpeed:t.reduce((r,i)=>r+i.totalTime/i.subjectCount,0)/t.length||0,accuracy:t.reduce((r,i)=>r+i.accuracy,0)/t.length||0,captchaSpeed:t.reduce((r,i)=>r+(i.captchaTime-i.searchBtnTime)/i.subjectCount,0)/t.length||0}}:void 0;return!n||!e?p.jsxs("div",{className:"flex flex-col w-full items-center justify-center h-120",children:[p.jsx("div",{className:"animate-spin h-16 w-16 mx-auto my-10",children:p.jsxs("svg",{className:"h-16 w-16 fill-transparent",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[p.jsx("circle",{className:"opacity-25 stroke-blue-500",cx:"12",cy:"12",r:"10",strokeWidth:"4"}),p.jsx("path",{className:"opacity-75 fill-blue-500",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2.93 6.243A8.001 8.001 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3.93-1.695z"})]})}),p.jsxs("div",{className:"text-center text-gray-500 my-10",children:["수강 연습 데이터 분석 중입니다... ",p.jsx("br",{}),"잠시만 기다려주세요"]})]}):p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"flex gap-3 flex-wrap",children:[p.jsx("div",{className:"relative flex-1 min-w-[240px]",children:p.jsx(n_,{result:n})}),p.jsx("div",{className:"flex-1 min-w-[240px] overflow-x-auto",children:p.jsx(Wce,{result:e})})]}),p.jsx("div",{children:p.jsx(Hce,{result:e})})]})}const Vce=e=>I.createElement("svg",{width:26,height:26,viewBox:"0 0 26 26",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},I.createElement("path",{d:"M5.54964 1.99315C5.50209 1.17248 6.41035 0.64822 7.09733 1.0996L20.3806 9.83538C21.12 10.3219 20.9092 11.4586 20.0444 11.6476L15.7086 12.5948L21.1016 21.9358C21.3775 22.4141 21.2138 23.0258 20.7356 23.3019L17.8077 24.9923C17.3295 25.2684 16.7179 25.1043 16.4417 24.6263L11.0764 15.3334L8.21097 18.4797C7.61486 19.134 6.52521 18.7482 6.47343 17.8647L5.54964 1.99315Z",fill:"#0756FF"}));function Kce(){return p.jsxs(p.Fragment,{children:[p.jsx("h1",{className:"text-2xl font-bold mb-2",children:"모의 수강 신청 로그"}),p.jsx("p",{className:"text-gray-500 mb-4",children:"수강 연습 결과를 상세히 분석해보세요."}),p.jsx(Gce,{})]})}function Gce(){const e=Bd(Lle),t=e?e.snapshots:[],n=e===void 0,r=e===null;return n?p.jsx("div",{className:"flex justify-center items-center h-64",children:p.jsx("span",{className:"text-gray-500",children:"로딩 중..."})}):r?p.jsx("div",{className:"flex justify-center items-center h-64",children:p.jsx("span",{className:"text-red-500",children:"오류가 발생했습니다"})}):t.length?t.map(i=>p.jsxs(li,{to:`/simulation/logs/${i.simulation_run_id}`,className:"flex items-center justify-between bg-white p-3 rounded-md text-sm shadow-md shadow-gray-300 mb-2 hover:bg-gray-100",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("p",{className:"hidden",children:"id"}),p.jsx("span",{className:"font-bold",children:i.simulation_run_id}),p.jsx("p",{className:"hidden",children:"학과"}),p.jsx("span",{children:i.department_name?i.department_name.split(" ")[i.department_name.split(" ").length-1]:"학과 정보 없음"})]}),p.jsxs("div",{className:"flex items-center text-center",children:[p.jsxs("div",{className:"",children:[p.jsx("p",{className:"text-xs",children:"정확도 "}),p.jsxs("span",{className:"text-sm font-bold",children:[i.accuracy,"%"]})]}),p.jsxs("div",{className:"flex items-center justify-end gap-1 w-20",children:[p.jsx("p",{className:"hidden",children:"점수"}),p.jsx(Vce,{className:"w-4 h-4"}),p.jsx("span",{className:"font-bold",children:i.score.toFixed(3)})]})]})]},"simulation-log-"+i.simulation_run_id)):p.jsx("div",{className:"flex justify-center items-center",children:p.jsx("span",{className:"text-gray-500",children:"로그가 없습니다"})})}function Yce(){return p.jsxs(p.Fragment,{children:[p.jsx(gr,{children:p.jsx("title",{children:"ALLCLL | 올클연습 - 결과 분석"})}),p.jsxs("section",{className:"max-w-7xl mx-auto",children:[p.jsx("h1",{className:"text-2xl font-bold mb-2",children:"수강신청 결과"}),p.jsx("p",{className:"text-gray-500 mb-4",children:"수강연습 결과를 분석 후, 부족한 부분을 알려 드려요."}),p.jsx("div",{className:"bg-white p-3 rounded-md text-sm shadow-md shadow-gray-300",children:p.jsx(Qce,{})})]}),p.jsx("section",{className:"max-w-3xl mx-auto mt-12",children:p.jsx(Kce,{})})]})}const Ah=32,TC=200;function Xce({result:e}){const t=sue(e),n=(e.ended_at-e.started_at)/1e3,r=Array.from({length:Math.floor(n)+5},(i,s)=>s+1);return p.jsxs("div",{className:"relative",children:[p.jsxs("div",{className:"relative overflow-x-auto overflow-y-hidden",children:[p.jsx("div",{className:"absolute top-0 flex h-full",style:{left:`${TC}px`},children:r.map(i=>p.jsx("div",{className:"border-r border-gray-200 relative",style:{width:`${Ah}px`},children:p.jsx("span",{className:"absolute bottom-0 text-xs text-gray-400 left-1/2 -translate-x-1/2",children:i})},i))}),t.map((i,s)=>p.jsxs("div",{className:"flex items-center",style:{width:`${Ah*r.length}px`},children:[p.jsxs("div",{className:"py-2 text-sm md:sticky left-0 right-0 z-10 bg-white",style:{width:`${TC}px`},children:[p.jsx("div",{className:`font-semibold ${rue(i.color)}`,children:i.name}),p.jsx("span",{className:`text-xs ${nue(i.color)}`,children:i.code})]}),p.jsx("div",{className:"flex-1 relative h-8",children:p.jsx(Jce,{timelines:i.timelines})})]},"timeline-row-"+s))]}),p.jsx("div",{className:"pointer-events-none absolute inset-y-4 left-0 md:left-[200px] w-3 bg-gradient-to-r from-white to-transparent"}),p.jsx("div",{className:"pointer-events-none absolute inset-y-4 right-0 w-3 bg-gradient-to-l from-white to-transparent"})]})}function Jce({timelines:e}){return e.map((t,n)=>{const r=t.start*Ah-12,i=t.duration*Ah+24;return p.jsx("div",{className:`absolute top-1 h-6 rounded-full px-3 ${eue(t.color)}`,style:{left:`${r}px`,width:`${i}px`},children:t.events.map((s,o)=>p.jsx(Zce,{event:s,startAt:t.start,color:t.color},"timeline-dot-"+o))},"timeline-bar-"+n)})}function Zce({event:e,startAt:t,color:n}){const r=(e.start-t)*Ah+6;return p.jsxs("div",{className:"absolute top-1.5",style:{left:`${r}px`},children:[p.jsx("div",{className:`w-3 h-3 bg-white border-2 rounded-full ${tue(n)}`}),p.jsx("div",{className:"relative group cursor-pointer z-10",children:p.jsxs("div",{className:"absolute w-30 -top-10 left-1/2 -translate-x-1/2 bg-black text-white text-xs px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition",children:[iue(e.event),p.jsx("br",{}),(e.duration+t).toFixed(2)," sec"]})})]})}function eue(e){switch(e){case"green":return"bg-green-100 border-green-500 text-green-700";case"red":return"bg-red-100 border-red-500 text-red-700";case"orange":return"bg-orange-100 border-orange-500 text-orange-700";case"yellow":return"bg-yellow-100 border-yellow-500 text-yellow-700";default:return"bg-gray-100 border-gray-500 text-gray-700"}}function tue(e){switch(e){case"green":return"border-green-500 text-green-500";case"red":return"border-red-500 text-red-500";case"orange":return"border-orange-500 text-orange-500";case"yellow":return"border-yellow-500 text-yellow-500";default:return"border-gray-500 text-gray-500"}}function nue(e){switch(e){case"green":return"text-green-500";case"red":return"text-red-500";case"orange":return"text-orange-500";case"yellow":return"text-yellow-500";default:return"text-gray-500"}}function rue(e){switch(e){case"green":return"text-green-600";case"red":return"text-red-600";case"orange":return"text-orange-600";case"yellow":return"text-yellow-600";default:return"text-gray-600"}}function iue(e){switch(e){case sr.SEARCH:return"검색 버튼 클릭";case sr.APPLY:return"신청 버튼 클릭";case sr.CAPTCHA:return"코드 입력 버튼 클릭";case sr.SUBJECT_SUBMIT:return"수강 신청 버튼 클릭";case sr.SKIP_REFRESH:return"재조회 취소";case sr.REFRESH:return"재조회 버튼 클릭";case sr.CANCEL_SUBMIT:return"수강 신청 취소"}}function sue(e){const{timeline:t,started_at:n,subject_results:r}=e;return r.map(i=>({name:i.subjectInfo?.subjectName,code:i.subjectInfo?.subjectCode+"-"+i.subjectInfo?.classCode,color:Xb(i.status),timelines:t.filter(s=>s.subject_id===i.subject_id).map(s=>({color:Xb(s.status),start:(s.started_at-n)/1e3,duration:(s.ended_at-s.started_at)/1e3,events:s.events.reduce((o,a,l)=>[...o,{event:a.event,duration:l==0?0:(a.timestamp-s.events[l-1].timestamp)/1e3,start:(a.timestamp-n)/1e3}],[])}))}))}function oue({result:e}){const{subject_results:t,started_at:n}=e;return p.jsxs("table",{className:"min-w-full text-sm text-center text-nowrap",children:[p.jsx("thead",{className:"bg-gray-100 text-gray-600",children:p.jsxs("tr",{children:[p.jsx("th",{className:"py-2 px-2",children:"학수번호"}),p.jsx("th",{className:"py-2 px-2",children:"과목명"}),p.jsx("th",{className:"py-2 px-2",children:"교수명"}),p.jsx("th",{className:"py-2 px-2",children:"순위"}),p.jsx("th",{className:"py-2 px-2",children:"관심시간"}),p.jsx("th",{className:"py-2 px-2",children:"성공/실패"})]})}),p.jsx("tbody",{className:"text-gray-700",children:t.map(r=>p.jsxs("tr",{className:"border-t border-gray-200",children:[p.jsx("td",{className:"py-2 px-1",children:r.subjectInfo?.subjectCode+"-"+r.subjectInfo?.classCode}),p.jsx("td",{className:"py-2 px-1",children:r.subjectInfo?.subjectName}),p.jsx("td",{className:"py-2 px-1",children:r.subjectInfo?.professorName}),p.jsx("td",{className:"py-2 px-1",children:r.selected_index}),p.jsx("td",{className:"py-2 px-1",children:((r.ended_at-n)/1e3).toFixed(2)+" sec"}),p.jsx("td",{className:"py-2 px-2",children:p.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs ${YX(r.status)}`,children:r.status===un.SUCCESS?"성공":"실패"})})]},"subject-detail-row-"+r.subject_id))})]})}function aue(){const{runId:e}=YC(),{data:t}=zc(),n=Bd(()=>Fle(Number(e))),r=I.useMemo(()=>lue(t,n),[t,n]);return p.jsxs(p.Fragment,{children:[p.jsx(gr,{children:p.jsx("title",{children:"ALLCLL | 올클연습 - 결과 분석 상세"})}),p.jsx("h1",{className:"text-2xl font-bold mb-6",children:"모의 수강 신청 로그"}),p.jsxs("section",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[p.jsxs("div",{className:"relative bg-white p-6 rounded-2xl shadow-sm",children:[p.jsx("h2",{className:"text-lg font-semibold mb-4",children:"사용자 능력 분석"}),r?p.jsx(n_,{result:r}):p.jsx("div",{className:"text-center text-gray-500",children:"데이터를 불러오는 중입니다..."})]}),p.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm overflow-x-auto",children:[p.jsx("h2",{className:"text-lg font-semibold mb-4 min-w-[240px] overflow-x-auto",children:"과목 별 분석"}),r?p.jsx(oue,{result:r}):p.jsx("div",{className:"text-center text-gray-500",children:"데이터를 불러오는 중입니다..."})]})]}),p.jsxs("section",{className:"bg-white p-6 rounded-2xl shadow-sm",children:[p.jsx("div",{className:"flex items-start justify-between mb-4",children:p.jsx("h2",{className:"text-lg font-semibold mb-4",children:"내 모의 수강 신청 별 TimeLine"})}),r?p.jsx(Xce,{result:r}):p.jsx("div",{className:"text-center text-gray-500",children:"데이터를 불러오는 중입니다..."})]})]})}function lue(e,t){if(!(!t||!e))return{...t,timeline:t.timeline.map(n=>({...n,subjectInfo:k2(e,n.subject_id)})),subject_results:t.subject_results.map(n=>({...n,subjectInfo:k2(e,n.subject_id)}))}}const cue=["interested_snapshot","interested_subject","simulation_run","simulation_run_selections","simulation_run_events"];async function uue(){B1();const e={interested_snapshot:await He.interested_snapshot.toArray(),interested_subject:await He.interested_subject.toArray(),simulation_run:await He.simulation_run.toArray(),simulation_run_selections:await He.simulation_run_selections.toArray(),simulation_run_events:await He.simulation_run_events.toArray()},t=new Blob([JSON.stringify(e)],{type:"application/json"}),n=URL.createObjectURL(t),r=document.createElement("a");r.href=n,r.download="db-backup.json",r.click(),URL.revokeObjectURL(n)}async function due(){B1();const e=await He.simulation_run.filter(f=>f.ended_at===-1).last();if(!e)throw new Error("진행중인 시뮬레이션이 없습니다.");const t=await He.simulation_run_selections.where("simulation_run_id").equals(e.simulation_run_id).toArray(),n=t.map(f=>f.run_selections_id),r=await He.simulation_run_events.filter(f=>n.includes(f.simulation_section_id)).toArray(),i=await He.interested_snapshot.where("snapshot_id").equals(e.snapshot_id).toArray(),s=await He.interested_subject.where("snapshot_id").equals(e.snapshot_id).toArray(),o={simulation_run:[e],simulation_run_selections:t,simulation_run_events:r,interested_snapshot:i,interested_subject:s},a=new Blob([JSON.stringify(o)],{type:"application/json"}),l=URL.createObjectURL(a),u=document.createElement("a");u.href=l,u.download="ongoing-simulation.json",u.click(),URL.revokeObjectURL(l)}async function fue(e){B1();const t=await e.text(),n=JSON.parse(t);await He.transaction("rw",He.interested_snapshot,He.interested_subject,async()=>{await He.interested_snapshot.clear(),await He.interested_subject.clear(),await He.interested_snapshot.bulkAdd(n.interested_snapshot||[]),await He.interested_subject.bulkAdd(n.interested_subject||[])}),await He.transaction("rw",He.simulation_run,He.simulation_run_selections,He.simulation_run_events,async()=>{await He.simulation_run.clear(),await He.simulation_run_selections.clear(),await He.simulation_run_events.clear(),await He.simulation_run.bulkAdd(n.simulation_run||[]),await He.simulation_run_selections.bulkAdd(n.simulation_run_selections||[]),await He.simulation_run_events.bulkAdd(n.simulation_run_events||[])})}async function hue(){B1(),await He.transaction("rw",He.interested_snapshot,He.interested_subject,async()=>{await He.interested_snapshot.clear(),await He.interested_subject.clear()}),await He.transaction("rw",He.simulation_run,He.simulation_run_selections,He.simulation_run_events,async()=>{await He.simulation_run.clear(),await He.simulation_run_selections.clear(),await He.simulation_run_events.clear()})}function B1(){const e=He.tables.map(n=>n.name).sort(),t=[...cue].sort();if(JSON.stringify(e)!==JSON.stringify(t))throw new Error(`DB 스키마가 예상과 다릅니다: ${e.join(", ")}`)}const pue=()=>{const[e,t]=I.useState(null),n=l=>{l.target.files&&t(l.target.files[0])},r=async()=>{try{await uue(),alert("Backup completed successfully.")}catch(l){console.error(l),alert("Failed to backup the database.")}},i=async()=>{try{await due(),alert("Backup completed successfully.")}catch(l){console.error(l),alert(l)}},s=async()=>{if(e)try{await fue(e),alert("Restore completed successfully.")}catch(l){console.error(l),alert("Failed to restore the database.")}else alert("Please select a file to restore.")},o=async()=>{try{await hue(),alert("Database cleared successfully."),window.location.href="/simulation"}catch(l){console.error(l),alert("Failed to delete the database.")}},a=async()=>{try{await vc(),window.location.href="/simulation"}catch(l){console.error(l),alert("Failed to delete the database.")}};return p.jsxs(p.Fragment,{children:[p.jsx(gr,{children:p.jsx("title",{children:"ALLCLL | 올클연습 - 데이터 베이스 관리"})}),p.jsxs("div",{className:"max-w-4xl min-h-screen mx-auto p-8 space-y-6",children:[p.jsx("h2",{className:"text-2xl font-semibold text-center text-gray-900",children:"데이터베이스 관리"}),p.jsxs("div",{className:"flex justify-center gap-5",children:[p.jsx("button",{onClick:i,className:"bg-slate-200 cursor-pointer text-gray-800 px-6 py-3 rounded-md shadow-md hover:bg-slate-400 hover:text-white transition-colors",children:"진행중인 시뮬레이션 내보내기"}),p.jsx("button",{onClick:a,className:"w-full md:w-auto bg-blue-600 cursor-pointer text-white px-6 py-3 rounded-md shadow-md hover:bg-blue-700 transition-colors",children:"시뮬레이션 중지"})]}),p.jsxs("div",{className:"flex justify-center gap-5",children:[p.jsx("button",{onClick:r,className:"bg-gray-100 cursor-pointer text-gray-800 px-6 py-3 rounded-md shadow-md hover:bg-gray-400 hover:text-white transition-colors",children:"전체 데이터베이스 내보내기"}),p.jsx("button",{onClick:o,className:"bg-red-600  cursor-pointer text-white px-6 py-3 rounded-md shadow-md hover:bg-red-700 hover:text-white transition-colors",children:"데이터 초기화"})]}),p.jsxs("div",{className:"flex items-center space-x-4 justify-center",children:[p.jsx("input",{type:"file",accept:".json",onChange:n,className:"block w-full md:w-80 cursor-pointer text-sm text-gray-700 py-2 px-3 border border-gray-300 rounded-md shadow-sm focus:ring-2 focus:ring-blue-500"}),p.jsx("button",{onClick:s,className:"bg-white cursor-pointer text-gray-800 px-6 py-3 rounded-md shadow-md hover:bg-gray-400 hover:text-white transition-colors",children:"데이터베이스 불러오기"})]})]})]})},mue=()=>p.jsxs(p.Fragment,{children:[p.jsx(gr,{children:p.jsx("title",{children:"ALLCLL | 올클연습 - 관심 과목"})}),p.jsx("section",{className:"border p-2 text-xs",children:p.jsxs("div",{className:"flex flex-col gap-4",children:[p.jsx("div",{className:"flex gap-8 h-10"}),p.jsxs("div",{className:"flex justify-between",children:[p.jsxs("div",{className:"flex gap-4",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("span",{className:"font-bold",children:"검색구분"}),p.jsx("select",{className:"border-gray-300 border px-2 py-1 w-48 disabled:bg-gray-100",disabled:!0,children:p.jsx("option",{children:"주전공검색"})})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("span",{className:"font-bold",children:"주전공검색"}),p.jsx("select",{className:"border-gray-300 border px-2 py-1 w-48 disabled:bg-gray-100",disabled:!0,children:p.jsx("option",{children:"학부"})}),p.jsx("select",{className:"cursor-pointer border px-2 py-1 w-120 border-gray-300 bg-white",onChange:()=>{},children:p.jsx("option",{value:"none",children:"전체 학과"})})]})]}),p.jsx("button",{className:"px-4 py-2 rounded text-white bg-gray-700 hover:bg-gray-800 cursor-pointer",children:"검색"})]})]})}),p.jsxs("section",{className:"grid grid-cols-2 gap-5 ",children:[p.jsxs("div",{children:[p.jsx("div",{className:"font-semibold pl-2 mb-2 border-l-4 border-blue-500",children:"관심과목 대상 교과목"}),p.jsx("div",{className:"overflow-x-scroll min-h-[1000px] border-gray-300",children:p.jsxs("table",{className:"min-w-[1200px] text-center border border-gray-300 border-t-3 border-t-black text-xs",children:[p.jsx("thead",{className:"bg-gray-100",children:p.jsx("tr",{children:["순번","신청","학수번호","분반","개설학과","교과목명","수업계획서","강의언어","학점/이론/실습","이수","학년","시간표","인원보기"].map((e,t)=>p.jsx("th",{className:"border border-gray-300 px-2 py-1 ",children:e},t))})}),p.jsx("tbody",{children:p.jsx(F0,{})})]})})]}),p.jsx("div",{children:p.jsxs("div",{className:"overflow-x-auto min-h-[1000px] border-gray-300",children:[p.jsxs("div",{className:"flex flex-row gap-3 items-center pl-2 mb-2 border-l-4 border-blue-500",children:[p.jsx("p",{className:"font-semibold",children:"관심과목 내역"}),p.jsx("button",{className:"text-xs bg-blue-500 text-white px-2 py-0.5 rounded-xs cursor-pointer",children:"재조회"}),p.jsx("button",{className:"text-xs bg-gray-700 text-white px-2 py-0.5 rounded-xs cursor-pointer",children:"관심과목 목록"}),p.jsx("button",{className:"text-xs bg-gray-700 text-white px-2 py-0.5 rounded-xs cursor-pointer",children:"예상시간표"})]}),p.jsxs("div",{className:"flex gap-4 w-full mb-2",children:[p.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[p.jsx("span",{className:"font-semibold whitespace-nowrap",children:"등록 가능 학점"}),p.jsx("input",{type:"text",disabled:!0,value:"24",className:"w-full px-4 py-1 border border-gray-300 rounded bg-white-100 text-center"})]}),p.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[p.jsx("span",{className:"font-semibold whitespace-nowrap",children:"등록과목수:"}),p.jsx("input",{type:"text",disabled:!0,value:"",className:"w-full px-4 py-1 border border-gray-300 rounded bg-white-100 text-center"})]}),p.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[p.jsx("span",{className:"font-semibold whitespace-nowrap",children:"등록학점:"}),p.jsx("input",{type:"text",disabled:!0,value:"",className:"w-full px-4 py-1 border border-gray-300 rounded bg-white-100 text-center"})]})]}),p.jsxs("table",{className:"min-w-[1200px] text-center border border-gray-300 border-t-3 border-t-black text-xs",children:[p.jsx("thead",{className:"bg-gray-100",children:p.jsx("tr",{children:["순번","삭제","폐강여부","재수강","학수번호","분반","개설학과","교과목명","수업계획서","강의언어","학점/이론/실습","이수","학년","시간표","인원보기"].map((e,t)=>p.jsx("th",{className:"border border-gray-300 px-2 py-1",children:e},t))})}),p.jsx("tbody",{children:p.jsx("tr",{children:p.jsx("td",{colSpan:13,className:"text-gray-400 py-4",children:p.jsx("div",{className:"min-h-[500px] flex items-center justify-center ",children:p.jsx("p",{className:"bg-stone-100 px-4 py-1 border",children:"조회된 내역이 없습니다."})})})})})]})]})})]})]}),gue=({timetables:e,onSelect:t,onEdit:n,onDelete:r,openCreateModal:i})=>{const s=I.useRef(null),o=kt(h=>h.currentTimetable),a=kt(h=>h.pickTimetable),l=h=>{a(h),t(h.timeTableId)},u=h=>{n&&n("",h)},f=h=>{r&&r(h)};return p.jsx("div",{className:"relative inline-block w-full max-w-sm",ref:s,children:p.jsx(p.Fragment,{children:p.jsxs(M_,{label:o?.timeTableName??"새 시간표",selected:o?.timeTableId>-1,className:"gap-4 max-w-20 max-h-80 overflow-y-auto",children:[e.length===0&&p.jsx("div",{children:" 새로운 시간표를 추가해주세요."}),e.length!==0&&e.map(h=>p.jsxs("div",{className:"flex gap-5",children:[p.jsx(A_,{label:h.timeTableName,checked:o.timeTableId===h.timeTableId,onChange:()=>l(h)},h.timeTableId),o.timeTableId===h.timeTableId&&p.jsxs("div",{className:"flex gap-4 text-sm",children:[p.jsx("button",{className:"text-stone-500 text-sm hover:text-stone-600 font-medium cursor-pointer",onClick:()=>u(h.timeTableId),children:"수정"}),p.jsx("button",{className:"text-red-500  text-sm  hover:text-red-600 font-medium cursor-pointer",onClick:()=>f(h.timeTableId),children:"삭제"})]})]},h.timeTableName+h.timeTableId)),p.jsx("button",{className:"flex justify-center text-gray-500 text-sm hover:font-bold",onClick:i,children:"+ 시간표 추가하기"})]})})})},yue=e=>I.createElement("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},I.createElement("path",{d:"M7.18066 10.5625C7.88416 10.5629 8.47281 11.0824 8.63086 11.7812H14.625C14.8321 11.7812 15 11.9491 15 12.1562C15 12.3634 14.8321 12.5312 14.625 12.5312H8.63086C8.47281 13.2301 7.88416 13.7496 7.18066 13.75C6.47688 13.75 5.88776 13.2303 5.72949 12.5312H1.375C1.16789 12.5312 1 12.3634 1 12.1562C1 11.9491 1.16789 11.7812 1.375 11.7812H5.72949C5.88776 11.0822 6.47688 10.5625 7.18066 10.5625ZM7.18066 11.2812C6.72774 11.2812 6.36035 11.673 6.36035 12.1562C6.36035 12.6395 6.72774 13.0312 7.18066 13.0312C7.63324 13.0308 8 12.6392 8 12.1562C8 11.6733 7.63324 11.2817 7.18066 11.2812ZM11.7197 6.40625C12.4233 6.40647 13.0117 6.92611 13.1699 7.625H14.625C14.8321 7.625 15 7.79289 15 8C15 8.20711 14.8321 8.375 14.625 8.375H13.1699C13.0117 9.0739 12.4233 9.59353 11.7197 9.59375C11.0161 9.59356 10.4277 9.07393 10.2695 8.375H1.375C1.16789 8.375 1 8.20711 1 8C1 7.79289 1.16789 7.625 1.375 7.625H10.2695C10.4277 6.92608 11.0161 6.40644 11.7197 6.40625ZM11.7197 7.125C11.267 7.12523 10.9004 7.51689 10.9004 8C10.9004 8.48311 11.267 8.87477 11.7197 8.875C12.1724 8.87474 12.54 8.48309 12.54 8C12.54 7.51691 12.1724 7.12526 11.7197 7.125ZM5.07129 2.25C5.77489 2.2502 6.36337 2.76981 6.52148 3.46875H14.625C14.8321 3.46875 15 3.63664 15 3.84375C15 4.05086 14.8321 4.21875 14.625 4.21875H6.52148C6.36337 4.91769 5.77489 5.43729 5.07129 5.4375C4.36758 5.43737 3.77832 4.9178 3.62012 4.21875H1.375C1.16789 4.21875 1 4.05086 1 3.84375C1 3.63664 1.16789 3.46875 1.375 3.46875H3.62012C3.77832 2.7697 4.36758 2.25013 5.07129 2.25ZM5.07129 2.96875C4.61849 2.9689 4.25098 3.36059 4.25098 3.84375C4.25098 4.32691 4.61849 4.7186 5.07129 4.71875C5.52402 4.71852 5.89062 4.32686 5.89062 3.84375C5.89062 3.36064 5.52402 2.96898 5.07129 2.96875Z",fill:"#9CA3AF"}));function vue(){const{openScheduleModal:e}=Vr(),t=new ui().toUiData();return p.jsxs("div",{className:"flex flex-col gap-2 pt-5 w-full items-center justify-center",children:[p.jsx(ap,{className:"w-7 h-7"}),p.jsx("p",{className:"text-md text-gray-500",children:"검색 결과가 없습니다."}),p.jsx("span",{className:"text-xs text-gray-400",children:"찾으시는 과목이 없으신가요? 과목을 직접 등록해주세요."}),p.jsx("button",{className:"bg-blue-500 text-white text-sm px-4 py-1 rounded-lg  hover:bg-blue-500 cursor-pointer justify-center items-center",onClick:()=>e(t),children:"등록하기"})]})}function lI({subjects:e,expandToMax:t,isPending:n=!1}){const{visibleRows:r,loadMoreRef:i}=R1(e,"ref"),s=I.useRef(null),o=kt(f=>f.schedule.subjectId),{openScheduleModal:a,cancelSchedule:l}=Vr();if(n||!e)return p.jsx("div",{className:"w-full h-10"});if(!e.length)return p.jsx(vue,{});const u=f=>{if(o===f.subjectId){l(void 0,!1);return}const h=new ui({...new ui().toApiData(),scheduleType:"official",subjectId:f.subjectId??-1},f);a(h.toUiData()),console.log("official",o);const b=new Xh(f.lesnTime).toUiData(9)[0]?.top;t&&(t(),setTimeout(()=>{if(b){const _=parseFloat(b);window.scrollTo({top:_,behavior:"smooth"})}},400))};return p.jsxs("div",{className:"flex flex-col gap-2",children:[e.slice(0,r).map(f=>{const h=o===f.subjectId;return p.jsx(xue,{subject:f,isActive:h,onClick:()=>u(f),forwardedRef:h?s:void 0},f.subjectId)}),r<e.length&&p.jsx("div",{ref:i,className:"load-more-trigger w-full h-10"})]})}function xue({isActive:e,subject:t,onClick:n,forwardedRef:r}){const i=e?"text-blue-500 bg-blue-50":"text-gray-700 bg-white hover:bg-gray-50",{saveSchedule:s}=Vr(),{selectTargetOnly:o}=dp(),a=l=>{s(l,!1),o(t.subjectId),I1(t.deptCd)};return p.jsxs("div",{className:`border border-gray-200 rounded-lg p-3 sm:p-4 gap-2 sm:gap-3 flex flex-col cursor-pointer ${i}`,onClick:n,ref:r,children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("h3",{className:"text-sm sm:text-lg font-semibold",children:t.subjectName}),p.jsx("span",{className:"text-xs sm:text-sm text-gray-500",children:t.professorName})]}),p.jsx("span",{className:"text-xs sm:text-sm text-gray-500",children:t.lesnTime}),p.jsx("span",{className:"text-xs sm:text-sm text-gray-500",children:t.lesnRoom}),p.jsxs("span",{className:"text-xs sm:text-sm text-gray-500",children:[t.studentYear,"학년/",t.manageDeptNm]}),p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsxs("div",{className:`w-fit rounded-xl flex items-center text-xs sm:text-sm text-gray-500 ${e?"":"bg-gray-100 px-2 py-0.5 sm:px-2.5 sm:py-0.5"}`,children:[t.tmNum[0],"학점"]}),e&&p.jsx("button",{onClick:a,className:"bg-blue-500 border-none cursor-pointer rounded-xl px-2 py-0.5 sm:px-2.5 sm:py-1 text-white text-xs sm:text-sm hover:bg-blue-600",children:"추가하기"})]})]})}const jC={selectedDepartment:"",selectedGrades:[],isMajor:void 0,selectedDays:[],selectedTimeRange:{startHour:"9",startMinute:"00",endHour:"10",endMinute:"00"}},ta=Or((e,t)=>({...jC,setFilterSchedule:(n,r)=>e(i=>({...i,[n]:r})),resetFilterSchedule:()=>e(jC),getFilterSchedule:()=>{const n=t(),{setFilterSchedule:r,resetFilterSchedule:i,getFilterSchedule:s,...o}=n;return o}}));function bue({onCloseSearch:e}){const[t,n]=I.useState(""),{data:r=[],isPending:i}=fl(),{openScheduleModal:s,cancelSchedule:o}=Vr(),{selectedDays:a,selectedDepartment:l,selectedGrades:u}=ta(),f=I.useDeferredValue(Dd({subjects:r,searchKeywords:t,selectedDays:a,selectedDepartment:l,selectedGrades:u})),h=new ui().toUiData();return p.jsx(fp,{children:({expandToMax:g})=>p.jsxs(p.Fragment,{children:[p.jsx(hp,{title:"과목검색",headerType:"add",onClose:o,onClick:()=>s(h)}),p.jsxs("div",{className:"sticky px-2 top-0 bg-white z-10 flex items-center gap-2 py-3",children:[p.jsx(Lc,{type:"text",placeholder:"과목명 및 교수명 검색",value:t,onChange:y=>n(y.target.value),onDelete:()=>n(""),className:"pl-10 pr-6 py-2 rounded-md w-full bg-white border border-gray-400 text-[16px]"}),p.jsx("button",{className:"w-20 justify-center flex cursor-pointer",onClick:()=>e("filter"),children:p.jsx(yue,{className:"w-6 h-6"})})]}),p.jsx("div",{className:"max-h-[70vh] min-h-0 px-2 overflow-y-auto touch-auto flex flex-col",children:p.jsx(lI,{expandToMax:g,subjects:f,isPending:i})})]})})}const kg=[1,2,3,4],Cg=["월","화","수","목","금"];function wue(){const{data:e}=Rd(),{openBottomSheet:t,closeBottomSheet:n}=zs(),{selectedDepartment:r,selectedGrades:i,selectedDays:s,setFilterSchedule:o,resetFilterSchedule:a}=ta(),l=(r.length||i.length||s.length)>0;function u(h,g){return h.includes(g)?h.filter(y=>y!==g):[...h,g]}const f=()=>{n("filter"),t("search")};return p.jsxs(fp,{children:[p.jsx(hp,{headerType:"close",title:"필터링",onClose:()=>{n("filter"),t("search")}}),p.jsxs("section",{className:"w-full flex flex-col px-4 gap-5",children:[p.jsxs("div",{className:"w-full  h-15 flex gap-2 flex-col justify-center mt-2",children:[p.jsx("label",{className:"text-xs text-gray-500",children:"학과"}),p.jsx("div",{className:"w-full flex flex-col gap-2 justify-center",children:p.jsxs("select",{className:"cursor-pointer border border-gray-300 rounded-sm px-2 py-1 w-full bg-white text-sm",value:r,onChange:h=>o("selectedDepartment",h.target.value),children:[p.jsx("option",{value:"",children:"전체"}),e?.map(h=>p.jsx("option",{value:h.departmentCode,children:h.departmentName},h.departmentCode))]})})]}),p.jsxs("div",{className:"w-full h-15 flex gap-2 flex-col justify-center",children:[p.jsx("label",{className:"text-xs text-gray-500",children:"학년"}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx(hs,{label:"전체",selected:i.length===kg.length,onClick:()=>{const h=i.length===kg.length;o("selectedGrades",h?[]:kg)}}),kg.map(h=>p.jsx(hs,{label:`${h}학년`,selected:i.includes(h),onClick:()=>o("selectedGrades",u(i,h))}))]})]}),p.jsxs("div",{className:"w-full h-15 flex gap-2 flex-col justify-center",children:[p.jsx("label",{className:"text-xs text-gray-500",children:"요일"}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx(hs,{label:"전체",selected:s.length===Cg.length,onClick:()=>{const h=s.length===Cg.length;o("selectedDays",h?[]:Cg)}}),Cg.map(h=>p.jsx(hs,{label:h,selected:s.includes(h),onClick:()=>o("selectedDays",u(s,h))},h))]})]}),p.jsxs("div",{className:"flex justify-end items-center gap-3 mt-5",children:[l&&p.jsx("button",{className:"text-xs text-blue-500 hover:text-blue-600 hover:underline cursor-pointer",onClick:a,children:"필터 초기화"}),p.jsx("button",{onClick:f,type:"submit",className:"bg-blue-500 font-semibold text-xs w-15 text-white rounded px-4 py-2 cursor-pointer ",children:"저장"})]})]})]})}function cI({label:e,required:t,id:n,...r}){return p.jsxs("div",{className:"h-12 w-full flex flex-col",children:[e&&p.jsx("label",{htmlFor:n,className:`text-xs  text-gray-400 after:ml-0.5 ${t?'after:content-["*"] after:text-red-500':""}`,children:e}),p.jsx("input",{id:n,required:t,...r,className:"text-[16px] placeholder:text-gray-400 placeholder:text-sm w-full m-2 bg-transparent focus:outline-none border-b border-gray-200 focus:border-blue-500 focus:border-b-2"})]})}const Tg=Array.from({length:24},(e,t)=>`${t}`),jg=["00","10","20","30","40","50"];function _ue({timeRange:e,onChange:t,day:n}){const r=(i,s)=>{if(n){t(i,s,n);return}t(i,s)};return p.jsx("div",{className:" w-full h-3 flex gap-2 flex-col justify-center",children:p.jsxs("div",{className:"relative w-full flex gap-2 flex-wrap",children:[p.jsx("select",{name:"startHour",value:e.startHour??Tg[8],onChange:i=>r("startHour",i.target.value),className:"bg-gray-100 px-3 py-2 rounded-md text-xs text-gray-600 w-fit",children:Tg.map(i=>p.jsx("option",{value:i,children:i},i))}),p.jsx("select",{name:"startMinute",value:e.startMinute??jg[0],onChange:i=>r("startMinute",i.target.value),className:"bg-gray-100 px-3 py-2 rounded-md text-xs text-gray-600 w-fit",children:jg.map(i=>p.jsx("option",{value:i,children:i},i))}),p.jsx("span",{className:"text-gray-400 text-sm mx-1",children:"~"}),p.jsx("select",{name:"endHour",value:e.endHour??Tg[9],onChange:i=>r("endHour",i.target.value),className:"bg-gray-100 px-3 py-2 rounded-md text-xs text-gray-600 w-fit",children:Tg.map(i=>p.jsx("option",{value:i,children:i},i))}),p.jsx("select",{name:"endMinute",value:e.endMinute??jg[0],onChange:i=>r("endMinute",i.target.value),className:"bg-gray-100 px-3 py-2 rounded-md text-xs text-gray-600 w-fit",children:jg.map(i=>p.jsx("option",{value:i,children:i},i))})]})})}function uI(){const{schedule:e,modalActionType:t}=Gh(),{editSchedule:n,saveSchedule:r,deleteSchedule:i,cancelSchedule:s}=Vr(),o=zs(_=>_.openBottomSheet),a=kt(_=>_.options.isMobile),l=[{id:"subjectName",name:"과목명",value:e?.subjectName??""},{id:"professorName",name:"교수명",value:e?.professorName??""},{id:"location",name:"장소",value:e?.location??""}],u=(_,E)=>{const[C,P]=_.split(":"),[O,z]=E.split(":");return{startHour:C,startMinute:P,endHour:O,endMinute:z}},f=_=>{const E=e.timeSlots.find(C=>C.dayOfWeeks===_);n(E?C=>({...C,timeSlots:C.timeSlots.filter(P=>P.dayOfWeeks!==_)}):C=>({...C,timeSlots:[...C.timeSlots,{dayOfWeeks:_,startTime:"",endTime:""}]}))},h=(_,E,C)=>{const P=z=>{let[B,j]=z.split(":").map(Number);return isNaN(B)&&(B=9),isNaN(j)&&(j=0),[B.toString(),j.toString().padStart(2,"0")]},O=z=>{const[B,j]=P(z);return`${B}:${j}`};n(z=>{const B=z.timeSlots.map(j=>{if(console.log(j),j.dayOfWeeks!==C)return j;const[M,U]=P(j.startTime),[$,D]=P(j.endTime);let ee=j.startTime,X=j.endTime;return _==="startHour"&&(ee=`${E}:${U}`),_==="startMinute"&&(ee=`${M}:${E}`),_==="endHour"&&(X=`${E}:${D}`),_==="endMinute"&&(X=`${$}:${E}`),{...j,startTime:O(ee),endTime:O(X)}});return{...z,timeSlots:B}})},g=_=>{r(_)},y=_=>{i(_)},b=()=>{s(),o("search")};return p.jsxs("form",{onSubmit:g,className:"flex flex-col gap-5",children:[l.map(({id:_,name:E,value:C})=>p.jsx("div",{className:"flex gap-6",children:p.jsx(cI,{id:_,placeholder:`${E}을 입력해주세요`,value:C,label:E,onChange:P=>n(O=>({...O,[_]:P.target.value})),required:!0})},"text-field"+_)),p.jsx("div",{className:"flex gap-2 flex-row",children:p.jsxs("div",{className:"flex gap-2 items-center",children:[p.jsx("p",{className:"text-gray-400 text-xs",children:"요일"}),h1.map(_=>p.jsx(hs,{label:_,selected:e.timeSlots.some(E=>E.dayOfWeeks===_),onClick:()=>f(_)},_))]})}),e.timeSlots.map(_=>p.jsxs("div",{className:"flex gap-2 ",children:[p.jsx("p",{className:"text-xs text-gray-400",children:_.dayOfWeeks}),p.jsx(_ue,{day:_.dayOfWeeks,timeRange:u(_.startTime,_.endTime),onChange:h})]},_.dayOfWeeks)),p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("div",{children:a&&p.jsx("button",{type:"button",className:"text-xs text-blue-500 hover:text-blue-600 hover:underline cursor-pointer",onClick:b,children:"+ 과목 일정 추가"})}),p.jsxs("div",{className:"flex justify-end gap-3",children:[(t===dr.EDIT||t===dr.VIEW)&&p.jsx("button",{type:"button",onClick:y,className:"text-xs text-white bg-red-500 hover:bg-red-600 w-15 rounded-lg px-4 py-2 cursor-pointer ",children:"삭제"}),p.jsx("button",{type:"submit",className:"text-xs text-white bg-blue-500 hover:bg-blue-600 w-15 rounded-lg px-4 py-2 cursor-pointer ",children:"저장"})]})]})]})}function Sue(){const{modalActionType:e}=Gh(),{cancelSchedule:t}=Vr(),n=i=>{t(i)},r=e===dr.CREATE?"생성":"수정";return p.jsxs(fp,{children:[p.jsx(hp,{title:`커스텀 일정 ${r}`,headerType:"close",onClose:n}),p.jsx("div",{className:"flex flex-col py-5 px-5 gap-5 overflow-y-auto max-h-[70vh]",children:p.jsx(uI,{})})]})}function Eue(){const{modalActionType:e}=Gh(),{cancelSchedule:t}=Vr(),n=e===dr.CREATE?"생성":"수정",r=i=>{i.key==="Escape"&&t(i)};return I.useEffect(()=>(document.addEventListener("keydown",r),()=>{document.removeEventListener("keydown",r)}),[]),p.jsx("div",{className:"fixed inset-0 z-50  hidden md:flex items-center justify-center  bg-black/10",onClick:t,children:p.jsxs("div",{className:"bg-white flex border border-gray-200 rounded-xl flex-col gap-2 w-[90%] max-w-md p-8 shadow-xl relative",onClick:i=>i.stopPropagation(),role:"dialog","aria-modal":"true",children:[p.jsxs("div",{className:"flex w-full justify-between",children:[p.jsxs("h3",{className:"font-semibold",children:["커스텀 일정 ",n]}),p.jsx("button",{className:"w-6 h-6 cursor-pointer flex items-center justify-center bg-gray-100 rounded-full",onClick:t,children:p.jsx(Yh,{})})]}),p.jsx(uI,{})]})})}function kue(){const{data:e}=Rd(),[t,n]=I.useState(""),[r,i]=I.useState("전공"),s=I.useMemo(()=>[{departmentName:"전체학과",departmentCode:""},...e??[]],[e]);function o(g){const y=s.find(_=>_.departmentCode===g);if(!y)return"학과가 없습니다.";const b=y.departmentName.split(" ");return b[b.length-1]}const[a,l]=I.useState(s),{selectedDepartment:u,setFilterSchedule:f}=ta(),h=u===""?"전체학과":o(u);return I.useEffect(()=>{const g=s.filter(y=>r==="교양"?y.departmentCode==="9005":r==="전공"?y.departmentCode!=="9005":!0).filter(y=>{const b=t?.replace(/[^\w\sㄱ-ㅎㅏ-ㅣ가-힣]/g,""),_=Cc(b).toLowerCase(),E=y.departmentName.replace(/[^\w\sㄱ-ㅎㅏ-ㅣ가-힣]/g,"");return Cc(E).toLowerCase().includes(_)});l(g)},[e,t,r]),p.jsx(p.Fragment,{children:p.jsx(M_,{label:h,className:"max-h-120 overflow-y-auto",selected:u.length!==0,children:p.jsxs("div",{className:"flex flex-col h-80",children:[p.jsxs("div",{className:"shrink-0 gap-2 flex px-2 py-2 bg-white",children:[p.jsxs("select",{value:r,className:"border border-gray-300 rounded-md px-2 py-1 text-sm text-gray-700 bg-white",onChange:g=>{const y=g.target.value;i(y),f("selectedDepartment","")},children:[p.jsx("option",{value:"전공",children:"전공"}),p.jsx("option",{value:"교양",children:"교양"})]}),p.jsx(Lc,{type:"text",placeholder:"학과 검색",onDelete:()=>{n("")},value:t,onChange:g=>{n(g.target.value)}})]}),p.jsxs("div",{className:"overflow-y-auto flex-1 px-2 py-2",children:[(r==="전공"||r==="교양")&&p.jsx(Cue,{departments:a})," "]})]})})})}function Cue({departments:e}){const t="전체학과",{setFilterSchedule:n}=ta(),r=i=>{n("selectedDepartment",i||"")};return p.jsx(p.Fragment,{children:e?.map(i=>p.jsx("div",{role:"option","aria-selected":t===i.departmentName,className:`flex items-center gap-1 px-2 py-2 rounded cursor-pointer text-sm ${t===i.departmentName?"bg-blue-50 text-blue-500 font-medium":"hover:bg-gray-50 text-gray-700"}`,onClick:()=>r(i.departmentCode),children:i.departmentName},i.departmentCode))})}const Bf=[{id:0,label:"전체"},{id:1,label:1},{id:2,label:2},{id:3,label:3},{id:4,label:4}];function Tue(){const{selectedGrades:e,setFilterSchedule:t}=ta(),n=o=>Bf.find(a=>a.id===o)?.label??"전체",r=()=>{const o=e.length===Bf.length;t("selectedGrades",o?[]:Bf.map(a=>a.label))},i=o=>{const a=n(o);if(o===0){r();return}const l=e.includes(a);if(l){t("selectedGrades",e.filter(u=>u!==a));return}l||t("selectedGrades",[...e,a])},s=Bf.filter(o=>e.includes(o.label)).map(o=>o.id);return p.jsx(D_,{labelPrefix:"학년",selectedItems:s,handleChangeCheckbox:i,options:Bf,selected:e.length!==0})}const zf=[{id:0,label:"전체"},{id:1,label:"월"},{id:2,label:"화"},{id:3,label:"수"},{id:4,label:"목"},{id:5,label:"금"}];function jue(){const{selectedDays:e,setFilterSchedule:t}=ta(),n=o=>zf.find(a=>a.id===o)?.label??"전체",r=()=>{const o=e.length===zf.length;t("selectedDays",o?[]:zf.map(a=>a.label))},i=o=>{const a=n(o);if(o===0){r();return}const l=e.includes(a);if(l){t("selectedDays",e.filter(u=>u!==a));return}l||t("selectedDays",[...e,a])},s=zf.filter(o=>e.includes(o.label)).map(o=>o.id);return p.jsx(D_,{labelPrefix:"요일",selectedItems:s,handleChangeCheckbox:i,options:zf,selected:e.length!==0})}const Nue=e=>I.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},I.createElement("path",{d:"M3 4H17L12 10.5V20L8 16V10.5L3 4Z",stroke:"#047CFE",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),I.createElement("path",{d:"M16 15L22 21",stroke:"#047CFE",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),I.createElement("path",{d:"M16 21L22 15",stroke:"#047CFE",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}));function Iue(){const e=ta(o=>o.resetFilterSchedule),{selectedDepartment:t,selectedGrades:n,selectedDays:r}=ta();if(!(t.length||n.length||r.length))return null;const s=()=>{e()};return p.jsx(hs,{label:p.jsx(Nue,{className:"w-4 h-4"}),selected:!0,onClick:s})}const Pue=new ui().toUiData();function Rue(){const{data:e,isPending:t}=oa(),n=cp(e)??[],[r,i]=I.useState(""),{openScheduleModal:s}=Vr(),{selectedDays:o,selectedDepartment:a,selectedGrades:l}=ta(),u=I.useDeferredValue(Dd({subjects:n,searchKeywords:r,selectedDays:o,selectedDepartment:a,selectedGrades:l}));return p.jsxs("div",{className:"w-full h-screen md:basis-1/3 p-4 md:border-t-0 flex flex-col gap-3 bg-white shadow-md rounded-lg",children:[p.jsx(Lc,{type:"text",value:r,placeholder:"과목명 검색",onDelete:()=>i(""),onChange:f=>i(f.target.value)}),p.jsxs("div",{className:"flex flex-wrap gap-3 w-full",children:[p.jsx(Iue,{}),p.jsx(kue,{}),p.jsx(Tue,{}),p.jsx(jue,{})]}),p.jsx("button",{type:"button",className:"text-blue-500 cursor-pointer text-sm",onClick:()=>s(Pue),children:"+ 커스텀 일정 생성"}),p.jsx("div",{className:"flex flex-col h-full overflow-hidden",children:p.jsx("div",{className:"overflow-y-auto flex-grow",children:p.jsx(lI,{subjects:u,isPending:t})})})]})}function Oue({onClose:e,type:t}){const[n,r]=I.useState(""),i=kt(h=>h.currentTimetable),{mutate:s}=wq(),{mutate:o}=q9(),{mutate:a}=Q9(),l=()=>{t==="edit"&&i&&(o(i.timeTableId),e())},u=h=>{if(h.preventDefault(),i&&t==="edit"){s({timeTableId:i.timeTableId,timeTableName:n}),e();return}t==="create"&&(a({timeTableName:n,semester:"2025-2"}),e())},f=h=>{h.key==="Escape"&&e()};return I.useEffect(()=>(window.addEventListener("keydown",f),()=>{window.removeEventListener("keydown",f)}),[]),p.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/10",onClick:e,children:p.jsxs("div",{className:"bg-white flex border border-gray-200 rounded-xl flex-col gap-2 w-[90%] max-w-md p-8 shadow-xl relative",onClick:h=>h.stopPropagation(),children:[p.jsxs("div",{className:"flex w-full justify-between",children:[p.jsxs("h3",{className:"font-semibold",children:["시간표 ",t==="create"?"생성":"수정"]}),p.jsx("button",{className:"w-6 h-6 cursor-pointer flex items-center justify-center bg-gray-100 rounded-full",onClick:e,children:p.jsx(Yh,{})})]}),p.jsxs("form",{onSubmit:u,className:"flex flex-col gap-3",children:[p.jsx(hs,{label:"2025학년-2학기",selected:!1}),p.jsx(cI,{id:"timetableName",required:!0,placeholder:"시간표 이름을 입력해주세요.",value:n,onChange:h=>r(h.target.value)},"timetableName"),p.jsxs("div",{className:"flex  justify-end gap-3",children:[p.jsx("button",{type:"submit",className:"text-blue-500 text-sm w-15 rounded px-4 py-2 cursor-pointer",children:"저장"}),i&&t==="edit"&&p.jsx("button",{type:"button",onClick:l,className:"text-red-500 text-sm w-15 rounded px-3 py-2 cursor-pointer",children:"삭제"})]})]})]})})}const dI=e=>I.createElement("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},I.createElement("path",{d:"M8.5 4.6665C8.5 4.5339 8.44732 4.40672 8.35355 4.31295C8.25979 4.21918 8.13261 4.1665 8 4.1665C7.86739 4.1665 7.74022 4.21918 7.64645 4.31295C7.55268 4.40672 7.5 4.5339 7.5 4.6665V7.99984C7.49996 8.08461 7.52148 8.168 7.56253 8.24217C7.60358 8.31634 7.66282 8.37885 7.73467 8.42384L9.73467 9.67384C9.84712 9.74421 9.98292 9.76703 10.1122 9.73727C10.1762 9.72254 10.2367 9.69534 10.2902 9.65723C10.3437 9.61912 10.3892 9.57085 10.424 9.51517C10.4588 9.45949 10.4824 9.39749 10.4933 9.33272C10.5041 9.26794 10.5022 9.20165 10.4874 9.13764C10.4727 9.07363 10.4455 9.01315 10.4074 8.95965C10.3693 8.90615 10.321 8.86068 10.2653 8.82584L8.5 7.7225V4.6665Z",fill:"#D1D5DB"}),I.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.99996 2.1665C6.45286 2.1665 4.96913 2.78109 3.87517 3.87505C2.78121 4.96901 2.16663 6.45274 2.16663 7.99984C2.16663 9.54693 2.78121 11.0307 3.87517 12.1246C4.96913 13.2186 6.45286 13.8332 7.99996 13.8332C9.54706 13.8332 11.0308 13.2186 12.1248 12.1246C13.2187 11.0307 13.8333 9.54693 13.8333 7.99984C13.8333 6.45274 13.2187 4.96901 12.1248 3.87505C11.0308 2.78109 9.54706 2.1665 7.99996 2.1665ZM3.16663 7.99984C3.16663 7.36512 3.29164 6.73661 3.53454 6.1502C3.77744 5.56379 4.13346 5.03097 4.58228 4.58215C5.03109 4.13334 5.56392 3.77732 6.15032 3.53442C6.73673 3.29152 7.36524 3.1665 7.99996 3.1665C8.63468 3.1665 9.26319 3.29152 9.8496 3.53442C10.436 3.77732 10.9688 4.13334 11.4176 4.58215C11.8665 5.03097 12.2225 5.56379 12.4654 6.1502C12.7083 6.73661 12.8333 7.36512 12.8333 7.99984C12.8333 9.28172 12.3241 10.5111 11.4176 11.4175C10.5112 12.3239 9.28184 12.8332 7.99996 12.8332C6.71808 12.8332 5.4887 12.3239 4.58228 11.4175C3.67585 10.5111 3.16663 9.28172 3.16663 7.99984Z",fill:"#D1D5DB"})),fI=e=>I.createElement("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},I.createElement("path",{d:"M13.7069 6.79266L8.70688 1.79266C8.51936 1.60527 8.26511 1.5 8.00001 1.5C7.7349 1.5 7.48065 1.60527 7.29313 1.79266L2.29313 6.79266C2.19982 6.88528 2.12586 6.99552 2.07553 7.11698C2.02521 7.23844 1.99954 7.36869 2.00001 7.50016V13.5002C2.00001 13.6328 2.05268 13.7599 2.14645 13.8537C2.24022 13.9475 2.3674 14.0002 2.50001 14.0002H6.50001C6.63261 14.0002 6.75979 13.9475 6.85356 13.8537C6.94733 13.7599 7.00001 13.6328 7.00001 13.5002V10.0002H9.00001V13.5002C9.00001 13.6328 9.05268 13.7599 9.14645 13.8537C9.24022 13.9475 9.3674 14.0002 9.50001 14.0002H13.5C13.6326 14.0002 13.7598 13.9475 13.8536 13.8537C13.9473 13.7599 14 13.6328 14 13.5002V7.50016C14.0005 7.36869 13.9748 7.23844 13.9245 7.11698C13.8742 6.99552 13.8002 6.88528 13.7069 6.79266ZM13 13.0002H10V9.50016C10 9.36755 9.94733 9.24038 9.85356 9.14661C9.75979 9.05284 9.63261 9.00016 9.50001 9.00016H6.50001C6.3674 9.00016 6.24022 9.05284 6.14645 9.14661C6.05268 9.24038 6.00001 9.36755 6.00001 9.50016V13.0002H3.00001V7.50016L8.00001 2.50016L13 7.50016V13.0002Z",fill:"#D1D5DB"}));function Aue(){const{schedule:e}=Gh(),{deleteSchedule:t,cancelSchedule:n}=Vr(),{data:r}=fl(),i=a=>{confirm("해당 과목을 삭제하시겠습니까?")&&t(a)},s=a=>{a.key==="Escape"&&n(a)};I.useEffect(()=>(window.addEventListener("keydown",s),()=>{window.removeEventListener("keydown",s)}),[]);const o=r?.find(a=>a.subjectId===e.subjectId);return p.jsx("div",{className:"fixed inset-0 z-50  hidden md:flex items-center justify-center  bg-black/10",children:p.jsxs("div",{className:"bg-white flex flex-col border border-gray-200 rounded-xl gap-2 w-[90%] max-w-md p-8 shadow-xl relative",onClick:a=>a.stopPropagation(),role:"dialog","aria-modal":"true",children:[p.jsxs("div",{className:"flex w-full justify-between",children:[p.jsx("h3",{className:"font-semibold text-lg",children:e.subjectName}),p.jsx("button",{className:"w-6 h-6 cursor-pointer flex items-center justify-center bg-gray-100 rounded-full",onClick:n,children:p.jsx(Yh,{})})]}),p.jsxs("div",{className:"flex flex-col gap-1 px-2 py-3 text-gray-500 text-sm",children:[p.jsx("p",{className:"text-sm text-gray-500",children:e.professorName??"교수 정보 없음"}),p.jsxs("div",{className:"flex items-center gap-1",children:[p.jsx(dI,{className:"w-4 h-4 text-gray-400"}),p.jsx("span",{className:"text-gray-500 text-sm",children:o?.lesnTime})]}),p.jsxs("div",{className:"flex items-center gap-1",children:[p.jsx(fI,{className:"w-4 h-4 text-gray-400"}),p.jsx("span",{className:"text-gray-500 text-sm",children:o?.lesnRoom??"장소 정보 없음"})]}),p.jsxs("div",{className:"flex items-center gap-1",children:[p.jsx("span",{className:"text-gray-500 text-sm",children:o?.manageDeptNm}),p.jsxs("span",{className:"text-gray-500 text-sm",children:[" ",o?.studentYear+"학년"]}),p.jsx("span",{className:"text-blue-500 text-sm",children:o?.tmNum[0]+"학점"})]}),p.jsxs("div",{className:"flex items-center gap-1",children:[p.jsxs("span",{className:"text-gray-500 text-sm font-bold",children:[o?.curiTypeCdNm," "]}),p.jsx("span",{className:"text-gray-500 text-sm",children:o?.remark??""})]})]}),p.jsx("div",{className:"px-4 py-4",children:p.jsx("button",{onClick:i,className:"text-sm text-red-500 cursor-pointer font-medium ml-auto block",children:"삭제"})})]})})}function Mue(){const{schedule:e}=Gh(),{deleteSchedule:t,cancelSchedule:n}=Vr(),{data:r}=fl(),i=o=>{confirm("해당 과목을 삭제하시겠습니까?")&&t(o)},s=r?.find(o=>o.subjectId===e.subjectId);return p.jsxs(fp,{children:[p.jsx(hp,{headerType:"close",onClose:n}),p.jsx("div",{className:"w-full flex items-center gap-2 border-b border-gray-200 p-2 h-12",children:p.jsx("h3",{className:"font-semibold text-md",children:e.subjectName})}),p.jsxs("div",{className:"flex flex-col gap-1 px-2 py-3 text-gray-500 text-sm",children:[p.jsx("p",{className:"text-sm text-gray-500",children:e.professorName??"교수 정보 없음"}),p.jsxs("div",{className:"flex items-center gap-1",children:[p.jsx(dI,{className:"w-4 h-4 text-gray-400"}),p.jsx("span",{className:"text-gray-500 text-sm",children:s?.lesnTime})]}),p.jsxs("div",{className:"flex items-center gap-1",children:[p.jsx(fI,{className:"w-4 h-4 text-gray-400"}),p.jsx("span",{className:"text-gray-500 text-sm",children:s?.lesnRoom??"장소 정보 없음"})]}),p.jsxs("div",{className:"flex items-center gap-1",children:[p.jsx("span",{className:"text-gray-500 text-sm",children:s?.manageDeptNm}),p.jsxs("span",{className:"text-gray-500 text-sm",children:[" ",s?.studentYear+"학년"]}),p.jsx("span",{className:"text-blue-500 text-sm",children:s?.tmNum[0]+"학점"})]}),p.jsxs("div",{className:"flex items-center gap-1",children:[p.jsxs("span",{className:"text-gray-500 text-sm font-bold",children:[s?.curiTypeCdNm??""," "]}),p.jsx("span",{className:"text-gray-500 text-sm",children:s?.remark??""})]})]}),p.jsx("div",{className:"px-4 py-4",children:p.jsx("button",{onClick:i,className:"text-sm text-red-500 cursor-pointer font-medium ml-auto block",children:"삭제"})})]})}var Hx={exports:{}},NC;function Due(){return NC||(NC=1,function(e){(function(t){var n=O(),r=z(),i=B(),s=j(),o={imagePlaceholder:void 0,cacheBust:!1},a={toSvg:l,toPng:f,toJpeg:h,toBlob:g,toPixelData:u,impl:{fontFaces:i,images:s,util:n,inliner:r,options:{}}};e.exports=a;function l(M,U){return U=U||{},y(U),Promise.resolve(M).then(function(D){return _(D,U.filter,!0)}).then(E).then(C).then($).then(function(D){return P(D,U.width||n.width(M),U.height||n.height(M))});function $(D){return U.bgcolor&&(D.style.backgroundColor=U.bgcolor),U.width&&(D.style.width=U.width+"px"),U.height&&(D.style.height=U.height+"px"),U.style&&Object.keys(U.style).forEach(function(ee){D.style[ee]=U.style[ee]}),D}}function u(M,U){return b(M,U||{}).then(function($){return $.getContext("2d").getImageData(0,0,n.width(M),n.height(M)).data})}function f(M,U){return b(M,U||{}).then(function($){return $.toDataURL()})}function h(M,U){return U=U||{},b(M,U).then(function($){return $.toDataURL("image/jpeg",U.quality||1)})}function g(M,U){return b(M,U||{}).then(n.canvasToBlob)}function y(M){typeof M.imagePlaceholder>"u"?a.impl.options.imagePlaceholder=o.imagePlaceholder:a.impl.options.imagePlaceholder=M.imagePlaceholder,typeof M.cacheBust>"u"?a.impl.options.cacheBust=o.cacheBust:a.impl.options.cacheBust=M.cacheBust}function b(M,U){return l(M,U).then(n.makeImage).then(n.delay(100)).then(function(D){var ee=$(M);return ee.getContext("2d").drawImage(D,0,0),ee});function $(D){var ee=document.createElement("canvas");if(ee.width=U.width||n.width(D),ee.height=U.height||n.height(D),U.bgcolor){var X=ee.getContext("2d");X.fillStyle=U.bgcolor,X.fillRect(0,0,ee.width,ee.height)}return ee}}function _(M,U,$){if(!$&&U&&!U(M))return Promise.resolve();return Promise.resolve(M).then(D).then(function(re){return ee(M,re,U)}).then(function(re){return X(M,re)});function D(re){return re instanceof HTMLCanvasElement?n.makeImage(re.toDataURL()):re.cloneNode(!1)}function ee(re,Q,q){var V=re.childNodes;if(V.length===0)return Promise.resolve(Q);return ne(Q,n.asArray(V),q).then(function(){return Q});function ne(Z,fe,F){var G=Promise.resolve();return fe.forEach(function(ye){G=G.then(function(){return _(ye,F)}).then(function(H){H&&Z.appendChild(H)})}),G}}function X(re,Q){if(!(Q instanceof Element))return Q;return Promise.resolve().then(q).then(V).then(ne).then(Z).then(function(){return Q});function q(){fe(window.getComputedStyle(re),Q.style);function fe(F,G){F.cssText?G.cssText=F.cssText:ye(F,G);function ye(H,Oe){n.asArray(H).forEach(function(Ce){Oe.setProperty(Ce,H.getPropertyValue(Ce),H.getPropertyPriority(Ce))})}}}function V(){[":before",":after"].forEach(function(F){fe(F)});function fe(F){var G=window.getComputedStyle(re,F),ye=G.getPropertyValue("content");if(ye===""||ye==="none")return;var H=n.uid();Q.className=Q.className+" "+H;var Oe=document.createElement("style");Oe.appendChild(Ce(H,F,G)),Q.appendChild(Oe);function Ce(Te,Ye,qe){var Ne="."+Te+":"+Ye,ct=qe.cssText?xn(qe):It(qe);return document.createTextNode(Ne+"{"+ct+"}");function xn(En){var sn=En.getPropertyValue("content");return En.cssText+" content: "+sn+";"}function It(En){return n.asArray(En).map(sn).join("; ")+";";function sn(yn){return yn+": "+En.getPropertyValue(yn)+(En.getPropertyPriority(yn)?" !important":"")}}}}}function ne(){re instanceof HTMLTextAreaElement&&(Q.innerHTML=re.value),re instanceof HTMLInputElement&&Q.setAttribute("value",re.value)}function Z(){Q instanceof SVGElement&&(Q.setAttribute("xmlns","http://www.w3.org/2000/svg"),Q instanceof SVGRectElement&&["width","height"].forEach(function(fe){var F=Q.getAttribute(fe);F&&Q.style.setProperty(fe,F)}))}}}function E(M){return i.resolveAll().then(function(U){var $=document.createElement("style");return M.appendChild($),$.appendChild(document.createTextNode(U)),M})}function C(M){return s.inlineAll(M).then(function(){return M})}function P(M,U,$){return Promise.resolve(M).then(function(D){return D.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),new XMLSerializer().serializeToString(D)}).then(n.escapeXhtml).then(function(D){return'<foreignObject x="0" y="0" width="100%" height="100%">'+D+"</foreignObject>"}).then(function(D){return'<svg xmlns="http://www.w3.org/2000/svg" width="'+U+'" height="'+$+'">'+D+"</svg>"}).then(function(D){return"data:image/svg+xml;charset=utf-8,"+D})}function O(){return{escape:Z,parseExtension:U,mimeType:$,dataAsUrl:ne,isDataUrl:D,canvasToBlob:X,resolveUrl:re,getAndEncode:V,uid:Q(),delay:fe,asArray:F,escapeXhtml:G,makeImage:q,width:ye,height:H};function M(){var Ce="application/font-woff",Te="image/jpeg";return{woff:Ce,woff2:Ce,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:Te,jpeg:Te,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml"}}function U(Ce){var Te=/\.([^\.\/]*?)$/g.exec(Ce);return Te?Te[1]:""}function $(Ce){var Te=U(Ce).toLowerCase();return M()[Te]||""}function D(Ce){return Ce.search(/^(data:)/)!==-1}function ee(Ce){return new Promise(function(Te){for(var Ye=window.atob(Ce.toDataURL().split(",")[1]),qe=Ye.length,Ne=new Uint8Array(qe),ct=0;ct<qe;ct++)Ne[ct]=Ye.charCodeAt(ct);Te(new Blob([Ne],{type:"image/png"}))})}function X(Ce){return Ce.toBlob?new Promise(function(Te){Ce.toBlob(Te)}):ee(Ce)}function re(Ce,Te){var Ye=document.implementation.createHTMLDocument(),qe=Ye.createElement("base");Ye.head.appendChild(qe);var Ne=Ye.createElement("a");return Ye.body.appendChild(Ne),qe.href=Te,Ne.href=Ce,Ne.href}function Q(){var Ce=0;return function(){return"u"+Te()+Ce++;function Te(){return("0000"+(Math.random()*Math.pow(36,4)<<0).toString(36)).slice(-4)}}}function q(Ce){return new Promise(function(Te,Ye){var qe=new Image;qe.onload=function(){Te(qe)},qe.onerror=Ye,qe.src=Ce})}function V(Ce){var Te=3e4;return a.impl.options.cacheBust&&(Ce+=(/\?/.test(Ce)?"&":"?")+new Date().getTime()),new Promise(function(Ye){var qe=new XMLHttpRequest;qe.onreadystatechange=xn,qe.ontimeout=It,qe.responseType="blob",qe.timeout=Te,qe.open("GET",Ce,!0),qe.send();var Ne;if(a.impl.options.imagePlaceholder){var ct=a.impl.options.imagePlaceholder.split(/,/);ct&&ct[1]&&(Ne=ct[1])}function xn(){if(qe.readyState===4){if(qe.status!==200){Ne?Ye(Ne):En("cannot fetch resource: "+Ce+", status: "+qe.status);return}var sn=new FileReader;sn.onloadend=function(){var yn=sn.result.split(/,/)[1];Ye(yn)},sn.readAsDataURL(qe.response)}}function It(){Ne?Ye(Ne):En("timeout of "+Te+"ms occured while fetching resource: "+Ce)}function En(sn){console.error(sn),Ye("")}})}function ne(Ce,Te){return"data:"+Te+";base64,"+Ce}function Z(Ce){return Ce.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1")}function fe(Ce){return function(Te){return new Promise(function(Ye){setTimeout(function(){Ye(Te)},Ce)})}}function F(Ce){for(var Te=[],Ye=Ce.length,qe=0;qe<Ye;qe++)Te.push(Ce[qe]);return Te}function G(Ce){return Ce.replace(/#/g,"%23").replace(/\n/g,"%0A")}function ye(Ce){var Te=Oe(Ce,"border-left-width"),Ye=Oe(Ce,"border-right-width");return Ce.scrollWidth+Te+Ye}function H(Ce){var Te=Oe(Ce,"border-top-width"),Ye=Oe(Ce,"border-bottom-width");return Ce.scrollHeight+Te+Ye}function Oe(Ce,Te){var Ye=window.getComputedStyle(Ce).getPropertyValue(Te);return parseFloat(Ye.replace("px",""))}}function z(){var M=/url\(['"]?([^'"]+?)['"]?\)/g;return{inlineAll:ee,shouldProcess:U,impl:{readUrls:$,inline:D}};function U(X){return X.search(M)!==-1}function $(X){for(var re=[],Q;(Q=M.exec(X))!==null;)re.push(Q[1]);return re.filter(function(q){return!n.isDataUrl(q)})}function D(X,re,Q,q){return Promise.resolve(re).then(function(ne){return Q?n.resolveUrl(ne,Q):ne}).then(q||n.getAndEncode).then(function(ne){return n.dataAsUrl(ne,n.mimeType(re))}).then(function(ne){return X.replace(V(re),"$1"+ne+"$3")});function V(ne){return new RegExp(`(url\\(['"]?)(`+n.escape(ne)+`)(['"]?\\))`,"g")}}function ee(X,re,Q){if(q())return Promise.resolve(X);return Promise.resolve(X).then($).then(function(V){var ne=Promise.resolve(X);return V.forEach(function(Z){ne=ne.then(function(fe){return D(fe,Z,re,Q)})}),ne});function q(){return!U(X)}}}function B(){return{resolveAll:M,impl:{readAll:U}};function M(){return U().then(function($){return Promise.all($.map(function(D){return D.resolve()}))}).then(function($){return $.join(`
`)})}function U(){return Promise.resolve(n.asArray(document.styleSheets)).then(D).then($).then(function(X){return X.map(ee)});function $(X){return X.filter(function(re){return re.type===CSSRule.FONT_FACE_RULE}).filter(function(re){return r.shouldProcess(re.style.getPropertyValue("src"))})}function D(X){var re=[];return X.forEach(function(Q){try{n.asArray(Q.cssRules||[]).forEach(re.push.bind(re))}catch(q){console.log("Error while reading CSS rules from "+Q.href,q.toString())}}),re}function ee(X){return{resolve:function(){var Q=(X.parentStyleSheet||{}).href;return r.inlineAll(X.cssText,Q)},src:function(){return X.style.getPropertyValue("src")}}}}}function j(){return{inlineAll:U,impl:{newImage:M}};function M($){return{inline:D};function D(ee){return n.isDataUrl($.src)?Promise.resolve():Promise.resolve($.src).then(ee||n.getAndEncode).then(function(X){return n.dataAsUrl(X,n.mimeType($.src))}).then(function(X){return new Promise(function(re,Q){$.onload=re,$.onerror=Q,$.src=X})})}}function U($){if(!($ instanceof Element))return Promise.resolve($);return D($).then(function(){return $ instanceof HTMLImageElement?M($).inline():Promise.all(n.asArray($.childNodes).map(function(ee){return U(ee)}))});function D(ee){var X=ee.style.getPropertyValue("background");return X?r.inlineAll(X).then(function(re){ee.style.setProperty("background",re,ee.style.getPropertyPriority("background"))}).then(function(){return ee}):Promise.resolve(ee)}}}})()}(Hx)),Hx.exports}var Lue=Due();const Fue=Ni(Lue);var Qg={exports:{}},Bue=Qg.exports,IC;function zue(){return IC||(IC=1,function(e,t){(function(n,r){r()})(Bue,function(){function n(u,f){return typeof f>"u"?f={autoBom:!1}:typeof f!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),f={autoBom:!f}),f.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(u.type)?new Blob(["\uFEFF",u],{type:u.type}):u}function r(u,f,h){var g=new XMLHttpRequest;g.open("GET",u),g.responseType="blob",g.onload=function(){l(g.response,f,h)},g.onerror=function(){console.error("could not download file")},g.send()}function i(u){var f=new XMLHttpRequest;f.open("HEAD",u,!1);try{f.send()}catch{}return 200<=f.status&&299>=f.status}function s(u){try{u.dispatchEvent(new MouseEvent("click"))}catch{var f=document.createEvent("MouseEvents");f.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),u.dispatchEvent(f)}}var o=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof $f=="object"&&$f.global===$f?$f:void 0,a=o.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),l=o.saveAs||(typeof window!="object"||window!==o?function(){}:"download"in HTMLAnchorElement.prototype&&!a?function(u,f,h){var g=o.URL||o.webkitURL,y=document.createElement("a");f=f||u.name||"download",y.download=f,y.rel="noopener",typeof u=="string"?(y.href=u,y.origin===location.origin?s(y):i(y.href)?r(u,f,h):s(y,y.target="_blank")):(y.href=g.createObjectURL(u),setTimeout(function(){g.revokeObjectURL(y.href)},4e4),setTimeout(function(){s(y)},0))}:"msSaveOrOpenBlob"in navigator?function(u,f,h){if(f=f||u.name||"download",typeof u!="string")navigator.msSaveOrOpenBlob(n(u,h),f);else if(i(u))r(u,f,h);else{var g=document.createElement("a");g.href=u,g.target="_blank",setTimeout(function(){s(g)})}}:function(u,f,h,g){if(g=g||open("","_blank"),g&&(g.document.title=g.document.body.innerText="downloading..."),typeof u=="string")return r(u,f,h);var y=u.type==="application/octet-stream",b=/constructor/i.test(o.HTMLElement)||o.safari,_=/CriOS\/[\d]+/.test(navigator.userAgent);if((_||y&&b||a)&&typeof FileReader<"u"){var E=new FileReader;E.onloadend=function(){var O=E.result;O=_?O:O.replace(/^data:[^;]*;/,"data:attachment/file;"),g?g.location.href=O:location=O,g=null},E.readAsDataURL(u)}else{var C=o.URL||o.webkitURL,P=C.createObjectURL(u);g?g.location=P:location.href=P,g=null,setTimeout(function(){C.revokeObjectURL(P)},4e4)}});o.saveAs=l.saveAs=l,e.exports=l})}(Qg)),Qg.exports}var $ue=zue();function Uue(e,t="image.png"){if(!e){console.error("Image reference is not set");return}Fue.toBlob(e).then(n=>$ue.saveAs(n,t)).catch(n=>{console.error("Error saving image:",n)})}const Hue=e=>I.createElement("svg",{width:31,height:31,viewBox:"0 0 31 31",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},I.createElement("path",{d:"M14.2084 16.7918H7.75005C7.38407 16.7918 7.07752 16.6678 6.83038 16.4198C6.58324 16.1718 6.45924 15.8653 6.45838 15.5002C6.45752 15.1351 6.58152 14.8285 6.83038 14.5805C7.07924 14.3325 7.3858 14.2085 7.75005 14.2085H14.2084V7.75017C14.2084 7.38419 14.3324 7.07764 14.5804 6.8305C14.8284 6.58336 15.1349 6.45936 15.5 6.4585C15.8652 6.45764 16.1721 6.58164 16.421 6.8305C16.6699 7.07936 16.7934 7.38592 16.7917 7.75017V14.2085H23.25C23.616 14.2085 23.923 14.3325 24.171 14.5805C24.419 14.8285 24.5426 15.1351 24.5417 15.5002C24.5409 15.8653 24.4169 16.1723 24.1697 16.4211C23.9226 16.67 23.616 16.7936 23.25 16.7918H16.7917V23.2502C16.7917 23.6161 16.6677 23.9231 16.4197 24.1711C16.1717 24.4191 15.8652 24.5427 15.5 24.5418C15.1349 24.541 14.8284 24.417 14.5804 24.1698C14.3324 23.9227 14.2084 23.6161 14.2084 23.2502V16.7918Z",fill:"white"})),Wue=e=>I.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},I.createElement("path",{d:"M10 12.9791C9.8889 12.9791 9.78473 12.9619 9.68751 12.9274C9.59029 12.893 9.50001 12.8338 9.41668 12.7499L6.41668 9.74992C6.25001 9.58325 6.17001 9.38881 6.17668 9.16659C6.18334 8.94437 6.26334 8.74992 6.41668 8.58325C6.58334 8.41659 6.7814 8.32992 7.01084 8.32325C7.24029 8.31659 7.43807 8.39631 7.60418 8.56242L9.16668 10.1249V4.16659C9.16668 3.93048 9.24668 3.7327 9.40668 3.57325C9.56668 3.41381 9.76445 3.33381 10 3.33325C10.2356 3.3327 10.4336 3.4127 10.5942 3.57325C10.7547 3.73381 10.8345 3.93159 10.8333 4.16659V10.1249L12.3958 8.56242C12.5625 8.39575 12.7606 8.31575 12.99 8.32242C13.2195 8.32909 13.4172 8.41603 13.5833 8.58325C13.7361 8.74992 13.8161 8.94437 13.8233 9.16659C13.8306 9.38881 13.7506 9.58325 13.5833 9.74992L10.5833 12.7499C10.5 12.8333 10.4097 12.8924 10.3125 12.9274C10.2153 12.9624 10.1111 12.9796 10 12.9791ZM5.00001 16.6666C4.54168 16.6666 4.14945 16.5035 3.82334 16.1774C3.49723 15.8513 3.3339 15.4588 3.33334 14.9999V13.3333C3.33334 13.0971 3.41334 12.8994 3.57334 12.7399C3.73334 12.5805 3.93112 12.5005 4.16668 12.4999C4.40223 12.4994 4.60029 12.5794 4.76084 12.7399C4.9214 12.9005 5.00112 13.0983 5.00001 13.3333V14.9999H15V13.3333C15 13.0971 15.08 12.8994 15.24 12.7399C15.4 12.5805 15.5978 12.5005 15.8333 12.4999C16.0689 12.4994 16.267 12.5794 16.4275 12.7399C16.5881 12.9005 16.6678 13.0983 16.6667 13.3333V14.9999C16.6667 15.4583 16.5036 15.8508 16.1775 16.1774C15.8514 16.5041 15.4589 16.6671 15 16.6666H5.00001Z",fill:"#9CA3AF"}));function que(){const[e,t]=I.useState(null),n=zs(o=>o.type),r=zs(o=>o.closeBottomSheet),i=zs(o=>o.openBottomSheet),s=o=>{r("search"),i(o)};return p.jsxs("div",{className:"w-full p-4 ",children:[p.jsx(gr,{children:p.jsx("title",{children:"ALLCLL | 시간표"})}),p.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[p.jsx("div",{className:"md:col-span-2 w-full h-full",children:p.jsxs(w0,{className:"px-2 relative overflow-hidden",children:[p.jsx(Que,{setIsOpenModal:t}),p.jsx(zq,{})]})}),p.jsxs("div",{className:"md:col-span-1 w-full",children:[p.jsx("div",{className:"hidden md:block",children:p.jsx(Rue,{})}),p.jsxs("div",{className:"md:hidden",children:[n==="search"&&p.jsx(bue,{onCloseSearch:s}),n==="filter"&&p.jsx(wue,{}),n==="edit"&&p.jsx(Sue,{}),n==="Info"&&p.jsx(Mue,{})]})]}),n==="edit"&&p.jsx(Eue,{}),n==="Info"&&p.jsx(Aue,{})]}),e&&p.jsx(Oue,{type:e,onClose:()=>t(null)}),n===null&&p.jsx("button",{className:"fixed bottom-4 right-4 z-50 w-15 h-15 rounded-full bg-blue-500 flex justify-center items-center shadow-lg md:hidden",onClick:()=>i("search"),children:p.jsx(Hue,{className:"w-10 h-10 cursor-pointer"})})]})}function Que({setIsOpenModal:e}){const{mutate:t}=q9(),{data:n=[]}=W9(),r=kt(y=>y.options.isMobile),i=kt(y=>y.pickTimetable),s=zs(y=>y.openBottomSheet),{openScheduleModal:o}=Vr(),a=y=>{const b=n.find(_=>_.timeTableId===y);b&&i(b)},l=()=>{e("edit")},u=y=>{t(y)},f=()=>{const y=kt.getState()?.currentTimetable?.timeTableName,b=kt.getState().options.containerRef;Uue(b,y?y+".png":"시간표.png")},h=()=>{e("create")},g=()=>{o(new ui().toUiData())};return p.jsxs("header",{className:"flex pb-2 justify-between items-center",children:[p.jsx(gue,{timetables:n,onSelect:a,onEdit:l,onDelete:u,openCreateModal:h}),p.jsxs("div",{className:"flex items-center gap-1",children:[p.jsx("button",{className:"rounded-md hover:bg-gray-100 p-1 h-fit cursor-pointer",onClick:f,title:"시간표 이미지 저장",children:p.jsx(Wue,{className:"w-5 h-5"})}),p.jsx("button",{className:"rounded-md hover:bg-gray-100 p-1 h-fit cursor-pointer",onClick:g,title:"커스텀 일정 생성",children:p.jsx(Wj,{className:"w-5 h-5"})}),r&&p.jsx("button",{className:"rounded-md hover:bg-gray-100 p-2 h-fit cursor-pointer",onClick:()=>s("search"),title:"과목 검색",children:p.jsx(ap,{className:"w-3 h-3"})})]})]})}function Vue({titles:e,subjects:t,isPending:n=!1}){return p.jsxs("table",{className:"w-full bg-white rounded-lg relative text-sm",children:[p.jsx("thead",{children:p.jsx("tr",{className:"bg-gray-50 text-nowrap",children:e.map(({title:r})=>p.jsx("th",{className:"px-4 py-2",children:r},r))})}),p.jsx("tbody",{children:p.jsx(Kue,{titles:e,subjects:t,isPending:n})})]})}function Kue({titles:e,subjects:t,isPending:n=!1}){const{visibleRows:r}=R1(t??[],"selector"),i=(t??[]).filter(o=>!o.isDeleted),s=i?i.slice(0,r):[];return n||!i?p.jsx(T1,{row:5,col:e.length}):i.length?p.jsxs(p.Fragment,{children:[s.map(o=>p.jsx(Gue,{subject:o},`${o.subjectCode} ${o.subjectId} ${o.professorName}`)),p.jsx("tr",{className:"load-more-trigger"})]}):p.jsx(JN,{col:e.length})}function Gue({subject:e}){const t=e.curiLangNm==="영어",r=e.isDeleted?"bg-gray-100 hover:bg-gray-200":t?"bg-green-50 hover:bg-green-100":"bg-white hover:bg-gray-100",{data:i}=j1(),{mutate:s}=a_(),{mutate:o}=xj(),{selectTargetOnly:a}=dp(),l=i?.some(f=>f.subjectId===e.subjectId),u=()=>{if(!l){o(e.subjectId);return}s(e.subjectId),a(e.subjectId),I1(e.deptCd)};return p.jsxs("tr",{className:`border-t border-gray-200 text-black ${r}`,children:[p.jsx("td",{className:"px-4 py-2 text-center",children:p.jsx("button",{className:"cursor-pointer","aria-label":l?"알림 과목 해제":"알림 과목 등록",onClick:u,children:p.jsx(Od,{disabled:!l})})}),p.jsxs("td",{className:"px-2 py-2 text-center",children:[e.subjectCode,"-",e.classCode]}),p.jsx("td",{className:"px-2 py-2 text-center",children:e.departmentName}),p.jsx("td",{className:"px-2 py-2 text-center",children:e.subjectName}),p.jsx("td",{className:"px-2 py-2 text-center",children:e.professorName}),e.seat!==void 0?p.jsx("td",{className:"px-2 py-2 text-center",children:e.seat>=0?p.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold ${Dc(e.seat)}`,children:e.seat}):p.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-bold bg-gray-300",children:"-"})}):null]})}function Yue(e){const{data:t,isPending:n}=oa(),r=N1(t,Ad),i=r&&r[0]&&"seat"in r[0],s=I.useMemo(()=>i?[...e,{title:"여석",key:"seat"}]:e,[r,e]);return{data:r,titles:s,isPending:n,hasRealSeats:i}}function Xue({title:e}){const n=e||"수강여석";return p.jsx(sp,{title:`${n} 서비스가 현재 종료되었습니다.`,description:"서비스가 다시 제공될 예정입니다.",icon:p.jsx(i_,{className:"w-7 h-7"})})}const Jue=[{title:"알림",key:"pin"},{title:"학수번호",key:"code"},{title:"개설학과",key:"departmentName"},{title:"과목명",key:"name"},{title:"담당교수",key:"professor"}],Zue=({search:e,isMobile:t})=>{const{data:n,titles:r,isPending:i,hasRealSeats:s}=Yue(Jue),{isPreSeatAvailable:o}=pp({hasSeats:s}),a=cp(n),l=I.useDeferredValue(Dd({subjects:a??[],searchKeywords:e.searchKeyword,selectedDays:[],selectedDepartment:e.selectedDepartment,selectedGrades:[],isPinned:e.isAlarmWish}));return p.jsx(p.Fragment,{children:p.jsx(ip,{children:o?p.jsx(p.Fragment,{children:t?p.jsx(h_,{subjects:l,isPending:i,isLive:!0}):p.jsx(Vue,{titles:r,subjects:l,isPending:i})}):p.jsx("div",{className:"flex justify-center w-full h-96",children:p.jsx(Xue,{title:"전체 학년 여석"})})})})},ede=()=>{const e=p_(),t=ds(i=>i.setIsSearchOpen),[n,r]=I.useState({searchKeyword:"",isAlarmWish:!1,selectedDepartment:""});return I.useEffect(()=>{e&&t(!0)},[]),p.jsxs(p.Fragment,{children:[p.jsx(gr,{children:p.jsx("title",{children:"ALLCLL | 전체 여석"})}),p.jsx("div",{className:"max-w-screen-xl mx-auto mb-8",children:p.jsxs("div",{className:"container p-4 mx-auto",children:[p.jsx(pj,{}),p.jsx("p",{className:"text-xs font-bold text-gray-500 mb-4",children:"전체 학년 수강신청 전, 전체 학년의 여석을 보여줍니다."}),p.jsx("div",{className:"pb-2",children:p.jsxs(ip,{children:[p.jsx(tde,{setSearch:r}),p.jsx(o_,{})]})}),p.jsx(Zue,{search:n,isMobile:e}),p.jsx(ZN,{right:"right-2 sm:right-10"})]})})]})};function tde({setSearch:e}){const t=ds(a=>a.searchKeyword),n=ds(a=>a.setSearchKeyword),r=ds(a=>a.isAlarmWish),i=ds(a=>a.toggleAlarmWish),s=ds(a=>a.selectedDepartment),o=ds(a=>a.setSelectedDepartment);return I.useEffect(()=>{if(!e)return;const a=setTimeout(()=>{e({searchKeyword:t,isAlarmWish:r,selectedDepartment:s})},100);return()=>{clearTimeout(a)}},[t,e,s]),I.useEffect(()=>{e({searchKeyword:t,isAlarmWish:r,selectedDepartment:s})},[r,s]),p.jsxs("div",{className:"flex flex-col md:flex-row md:items-center space-y-2 md:space-y-0 md:space-x-4 text-sm",children:[p.jsx("label",{className:"hidden",htmlFor:"searchOption",children:"검색 옵션"}),p.jsx(Lc,{type:"text",placeholder:"과목명, 교수명 또는 학수번호 및 분반 검색",value:t,onDelete:()=>n(""),onChange:a=>n(a.target.value)}),p.jsx(lp,{value:s,onChange:a=>o(a.target.value)}),p.jsxs("button",{className:"px-4 py-2 rounded-md flex gap-2 items-center text-nowrap border border-gray-400 hover:bg-white cursor-pointer",onClick:i,children:[p.jsx(Od,{disabled:!r}),"알림과목"]})]})}const nde=cO([{path:"/",element:p.jsx(t6,{}),errorElement:p.jsx(Vu,{}),children:[{path:"/",element:p.jsx(iJ,{})},{path:"survey",element:p.jsx(yte,{})},{path:"about",element:p.jsx(gte,{})},{path:"faq",element:p.jsx(ele,{})}]},{path:"wishes",element:p.jsx(Wv,{serviceId:"baskets"}),errorElement:p.jsx(Tle,{}),children:[{path:"",element:p.jsx(hle,{})},{path:":id",element:p.jsx(Cle,{})}]},{path:"live",element:p.jsx(Wv,{serviceId:"live"}),errorElement:p.jsx(Vu,{}),children:[{path:"",element:p.jsx(mte,{})}]},{path:"live/preSeat",element:p.jsx(Wv,{serviceId:"preSeat"}),errorElement:p.jsx(Vu,{}),children:[{path:"",element:p.jsx(ede,{})}]},{path:"simulation",element:p.jsx(hq,{}),errorElement:p.jsx(Vu,{}),children:[{path:"",element:p.jsx(Uce,{})},{path:"logs",element:p.jsx(Yce,{})},{path:"logs/:runId",element:p.jsx(aue,{})},{path:"admin",element:p.jsx(pue,{})},{path:"wishlist",element:p.jsx(mue,{})}]},{path:"timetable",element:p.jsx(t6,{}),errorElement:p.jsx(Vu,{}),children:[{path:"",element:p.jsx(que,{})}]},{path:"*",element:p.jsx(tI,{})}]),hI=new DO;oA.init("rqww72xge1"),RH.initialize(),iA.initialize("G-YY1G1HPVMF");window.__TANSTACK_QUERY_CLIENT__=hI;rde();function rde(){mP.createRoot(document.getElementById("root")).render(p.jsx(I.StrictMode,{children:p.jsx($O,{client:hI,children:p.jsx(bO,{router:nde})})})),"serviceWorker"in navigator&&navigator.serviceWorker.register("/serviceWorker.js").then(function(e){console.log("Service Worker registered with scope:",e.scope)}).catch(function(e){console.log("Service Worker registration failed:",e)})}
//# sourceMappingURL=index-B2Jshy2y.js.map
