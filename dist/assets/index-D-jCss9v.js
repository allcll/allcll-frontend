try{let e=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},t=new e.Error().stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="fdda5155-7b64-4a42-a721-0b8759c67d25",e._sentryDebugIdIdentifier="sentry-dbid-fdda5155-7b64-4a42-a721-0b8759c67d25")}catch{}function TR(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}{let e=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};e.SENTRY_RELEASE={id:"50af81f35c17638b3591415b8d130d6e71b6f534"}}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();const jR="modulepreload",IR=function(e){return"/"+e},f5={},dp=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){let c=function(f){return Promise.all(f.map(p=>Promise.resolve(p).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};var o=c;document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=a?.nonce||a?.getAttribute("nonce");i=c(n.map(f=>{if(f=IR(f),f in f5)return;f5[f]=!0;const p=f.endsWith(".css"),g=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${g}`))return;const y=document.createElement("link");if(y.rel=p?"stylesheet":jR,p||(y.as="script"),y.crossOrigin="",y.href=f,l&&y.setAttribute("nonce",l),document.head.appendChild(y),p)return new Promise((b,_)=>{y.addEventListener("load",b),y.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${f}`)))})}))}function s(a){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a}return i.then(a=>{for(const l of a||[])l.status==="rejected"&&s(l.reason);return t().catch(s)})};var ph=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Vi(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function NR(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var n=function r(){var i=!1;try{i=this instanceof r}catch{}return i?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var Mv={exports:{}},Qf={},Av={exports:{}},Vt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h5;function PR(){if(h5)return Vt;h5=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),p=Symbol.iterator;function g(G){return G===null||typeof G!="object"?null:(G=p&&G[p]||G["@@iterator"],typeof G=="function"?G:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,_={};function C(G,ye,H){this.props=G,this.context=ye,this.refs=_,this.updater=H||y}C.prototype.isReactComponent={},C.prototype.setState=function(G,ye){if(typeof G!="object"&&typeof G!="function"&&G!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,G,ye,"setState")},C.prototype.forceUpdate=function(G){this.updater.enqueueForceUpdate(this,G,"forceUpdate")};function k(){}k.prototype=C.prototype;function P(G,ye,H){this.props=G,this.context=ye,this.refs=_,this.updater=H||y}var O=P.prototype=new k;O.constructor=P,b(O,C.prototype),O.isPureReactComponent=!0;var $=Array.isArray,B=Object.prototype.hasOwnProperty,j={current:null},M={key:!0,ref:!0,__self:!0,__source:!0};function U(G,ye,H){var Me,Ee={},Te=null,Ye=null;if(ye!=null)for(Me in ye.ref!==void 0&&(Ye=ye.ref),ye.key!==void 0&&(Te=""+ye.key),ye)B.call(ye,Me)&&!M.hasOwnProperty(Me)&&(Ee[Me]=ye[Me]);var Ve=arguments.length-2;if(Ve===1)Ee.children=H;else if(1<Ve){for(var Ie=Array(Ve),ut=0;ut<Ve;ut++)Ie[ut]=arguments[ut+2];Ee.children=Ie}if(G&&G.defaultProps)for(Me in Ve=G.defaultProps,Ve)Ee[Me]===void 0&&(Ee[Me]=Ve[Me]);return{$$typeof:e,type:G,key:Te,ref:Ye,props:Ee,_owner:j.current}}function z(G,ye){return{$$typeof:e,type:G.type,key:ye,ref:G.ref,props:G.props,_owner:G._owner}}function D(G){return typeof G=="object"&&G!==null&&G.$$typeof===e}function ee(G){var ye={"=":"=0",":":"=2"};return"$"+G.replace(/[=:]/g,function(H){return ye[H]})}var J=/\/+/g;function re(G,ye){return typeof G=="object"&&G!==null&&G.key!=null?ee(""+G.key):ye.toString(36)}function q(G,ye,H,Me,Ee){var Te=typeof G;(Te==="undefined"||Te==="boolean")&&(G=null);var Ye=!1;if(G===null)Ye=!0;else switch(Te){case"string":case"number":Ye=!0;break;case"object":switch(G.$$typeof){case e:case t:Ye=!0}}if(Ye)return Ye=G,Ee=Ee(Ye),G=Me===""?"."+re(Ye,0):Me,$(Ee)?(H="",G!=null&&(H=G.replace(J,"$&/")+"/"),q(Ee,ye,H,"",function(ut){return ut})):Ee!=null&&(D(Ee)&&(Ee=z(Ee,H+(!Ee.key||Ye&&Ye.key===Ee.key?"":(""+Ee.key).replace(J,"$&/")+"/")+G)),ye.push(Ee)),1;if(Ye=0,Me=Me===""?".":Me+":",$(G))for(var Ve=0;Ve<G.length;Ve++){Te=G[Ve];var Ie=Me+re(Te,Ve);Ye+=q(Te,ye,H,Ie,Ee)}else if(Ie=g(G),typeof Ie=="function")for(G=Ie.call(G),Ve=0;!(Te=G.next()).done;)Te=Te.value,Ie=Me+re(Te,Ve++),Ye+=q(Te,ye,H,Ie,Ee);else if(Te==="object")throw ye=String(G),Error("Objects are not valid as a React child (found: "+(ye==="[object Object]"?"object with keys {"+Object.keys(G).join(", ")+"}":ye)+"). If you meant to render a collection of children, use an array instead.");return Ye}function V(G,ye,H){if(G==null)return G;var Me=[],Ee=0;return q(G,Me,"","",function(Te){return ye.call(H,Te,Ee++)}),Me}function Q(G){if(G._status===-1){var ye=G._result;ye=ye(),ye.then(function(H){(G._status===0||G._status===-1)&&(G._status=1,G._result=H)},function(H){(G._status===0||G._status===-1)&&(G._status=2,G._result=H)}),G._status===-1&&(G._status=0,G._result=ye)}if(G._status===1)return G._result.default;throw G._result}var ne={current:null},Z={transition:null},fe={ReactCurrentDispatcher:ne,ReactCurrentBatchConfig:Z,ReactCurrentOwner:j};function F(){throw Error("act(...) is not supported in production builds of React.")}return Vt.Children={map:V,forEach:function(G,ye,H){V(G,function(){ye.apply(this,arguments)},H)},count:function(G){var ye=0;return V(G,function(){ye++}),ye},toArray:function(G){return V(G,function(ye){return ye})||[]},only:function(G){if(!D(G))throw Error("React.Children.only expected to receive a single React element child.");return G}},Vt.Component=C,Vt.Fragment=n,Vt.Profiler=i,Vt.PureComponent=P,Vt.StrictMode=r,Vt.Suspense=l,Vt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fe,Vt.act=F,Vt.cloneElement=function(G,ye,H){if(G==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+G+".");var Me=b({},G.props),Ee=G.key,Te=G.ref,Ye=G._owner;if(ye!=null){if(ye.ref!==void 0&&(Te=ye.ref,Ye=j.current),ye.key!==void 0&&(Ee=""+ye.key),G.type&&G.type.defaultProps)var Ve=G.type.defaultProps;for(Ie in ye)B.call(ye,Ie)&&!M.hasOwnProperty(Ie)&&(Me[Ie]=ye[Ie]===void 0&&Ve!==void 0?Ve[Ie]:ye[Ie])}var Ie=arguments.length-2;if(Ie===1)Me.children=H;else if(1<Ie){Ve=Array(Ie);for(var ut=0;ut<Ie;ut++)Ve[ut]=arguments[ut+2];Me.children=Ve}return{$$typeof:e,type:G.type,key:Ee,ref:Te,props:Me,_owner:Ye}},Vt.createContext=function(G){return G={$$typeof:o,_currentValue:G,_currentValue2:G,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},G.Provider={$$typeof:s,_context:G},G.Consumer=G},Vt.createElement=U,Vt.createFactory=function(G){var ye=U.bind(null,G);return ye.type=G,ye},Vt.createRef=function(){return{current:null}},Vt.forwardRef=function(G){return{$$typeof:a,render:G}},Vt.isValidElement=D,Vt.lazy=function(G){return{$$typeof:f,_payload:{_status:-1,_result:G},_init:Q}},Vt.memo=function(G,ye){return{$$typeof:c,type:G,compare:ye===void 0?null:ye}},Vt.startTransition=function(G){var ye=Z.transition;Z.transition={};try{G()}finally{Z.transition=ye}},Vt.unstable_act=F,Vt.useCallback=function(G,ye){return ne.current.useCallback(G,ye)},Vt.useContext=function(G){return ne.current.useContext(G)},Vt.useDebugValue=function(){},Vt.useDeferredValue=function(G){return ne.current.useDeferredValue(G)},Vt.useEffect=function(G,ye){return ne.current.useEffect(G,ye)},Vt.useId=function(){return ne.current.useId()},Vt.useImperativeHandle=function(G,ye,H){return ne.current.useImperativeHandle(G,ye,H)},Vt.useInsertionEffect=function(G,ye){return ne.current.useInsertionEffect(G,ye)},Vt.useLayoutEffect=function(G,ye){return ne.current.useLayoutEffect(G,ye)},Vt.useMemo=function(G,ye){return ne.current.useMemo(G,ye)},Vt.useReducer=function(G,ye,H){return ne.current.useReducer(G,ye,H)},Vt.useRef=function(G){return ne.current.useRef(G)},Vt.useState=function(G){return ne.current.useState(G)},Vt.useSyncExternalStore=function(G,ye,H){return ne.current.useSyncExternalStore(G,ye,H)},Vt.useTransition=function(){return ne.current.useTransition()},Vt.version="18.3.1",Vt}var p5;function cy(){return p5||(p5=1,Av.exports=PR()),Av.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m5;function RR(){if(m5)return Qf;m5=1;var e=cy(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function o(a,l,c){var f,p={},g=null,y=null;c!==void 0&&(g=""+c),l.key!==void 0&&(g=""+l.key),l.ref!==void 0&&(y=l.ref);for(f in l)r.call(l,f)&&!s.hasOwnProperty(f)&&(p[f]=l[f]);if(a&&a.defaultProps)for(f in l=a.defaultProps,l)p[f]===void 0&&(p[f]=l[f]);return{$$typeof:t,type:a,key:g,ref:y,props:p,_owner:i.current}}return Qf.Fragment=n,Qf.jsx=o,Qf.jsxs=o,Qf}var g5;function OR(){return g5||(g5=1,Mv.exports=RR()),Mv.exports}var h=OR(),I=cy();const Sn=Vi(I),MR=TR({__proto__:null,default:Sn},[I]);var qm={},Dv={exports:{}},Pi={},Lv={exports:{}},Fv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y5;function AR(){return y5||(y5=1,function(e){function t(Z,fe){var F=Z.length;Z.push(fe);e:for(;0<F;){var G=F-1>>>1,ye=Z[G];if(0<i(ye,fe))Z[G]=fe,Z[F]=ye,F=G;else break e}}function n(Z){return Z.length===0?null:Z[0]}function r(Z){if(Z.length===0)return null;var fe=Z[0],F=Z.pop();if(F!==fe){Z[0]=F;e:for(var G=0,ye=Z.length,H=ye>>>1;G<H;){var Me=2*(G+1)-1,Ee=Z[Me],Te=Me+1,Ye=Z[Te];if(0>i(Ee,F))Te<ye&&0>i(Ye,Ee)?(Z[G]=Ye,Z[Te]=F,G=Te):(Z[G]=Ee,Z[Me]=F,G=Me);else if(Te<ye&&0>i(Ye,F))Z[G]=Ye,Z[Te]=F,G=Te;else break e}}return fe}function i(Z,fe){var F=Z.sortIndex-fe.sortIndex;return F!==0?F:Z.id-fe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],c=[],f=1,p=null,g=3,y=!1,b=!1,_=!1,C=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function O(Z){for(var fe=n(c);fe!==null;){if(fe.callback===null)r(c);else if(fe.startTime<=Z)r(c),fe.sortIndex=fe.expirationTime,t(l,fe);else break;fe=n(c)}}function $(Z){if(_=!1,O(Z),!b)if(n(l)!==null)b=!0,Q(B);else{var fe=n(c);fe!==null&&ne($,fe.startTime-Z)}}function B(Z,fe){b=!1,_&&(_=!1,k(U),U=-1),y=!0;var F=g;try{for(O(fe),p=n(l);p!==null&&(!(p.expirationTime>fe)||Z&&!ee());){var G=p.callback;if(typeof G=="function"){p.callback=null,g=p.priorityLevel;var ye=G(p.expirationTime<=fe);fe=e.unstable_now(),typeof ye=="function"?p.callback=ye:p===n(l)&&r(l),O(fe)}else r(l);p=n(l)}if(p!==null)var H=!0;else{var Me=n(c);Me!==null&&ne($,Me.startTime-fe),H=!1}return H}finally{p=null,g=F,y=!1}}var j=!1,M=null,U=-1,z=5,D=-1;function ee(){return!(e.unstable_now()-D<z)}function J(){if(M!==null){var Z=e.unstable_now();D=Z;var fe=!0;try{fe=M(!0,Z)}finally{fe?re():(j=!1,M=null)}}else j=!1}var re;if(typeof P=="function")re=function(){P(J)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,V=q.port2;q.port1.onmessage=J,re=function(){V.postMessage(null)}}else re=function(){C(J,0)};function Q(Z){M=Z,j||(j=!0,re())}function ne(Z,fe){U=C(function(){Z(e.unstable_now())},fe)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Z){Z.callback=null},e.unstable_continueExecution=function(){b||y||(b=!0,Q(B))},e.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<Z?Math.floor(1e3/Z):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(Z){switch(g){case 1:case 2:case 3:var fe=3;break;default:fe=g}var F=g;g=fe;try{return Z()}finally{g=F}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(Z,fe){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var F=g;g=Z;try{return fe()}finally{g=F}},e.unstable_scheduleCallback=function(Z,fe,F){var G=e.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?G+F:G):F=G,Z){case 1:var ye=-1;break;case 2:ye=250;break;case 5:ye=1073741823;break;case 4:ye=1e4;break;default:ye=5e3}return ye=F+ye,Z={id:f++,callback:fe,priorityLevel:Z,startTime:F,expirationTime:ye,sortIndex:-1},F>G?(Z.sortIndex=F,t(c,Z),n(l)===null&&Z===n(c)&&(_?(k(U),U=-1):_=!0,ne($,F-G))):(Z.sortIndex=ye,t(l,Z),b||y||(b=!0,Q(B))),Z},e.unstable_shouldYield=ee,e.unstable_wrapCallback=function(Z){var fe=g;return function(){var F=g;g=fe;try{return Z.apply(this,arguments)}finally{g=F}}}}(Fv)),Fv}var v5;function DR(){return v5||(v5=1,Lv.exports=AR()),Lv.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x5;function LR(){if(x5)return Pi;x5=1;var e=cy(),t=DR();function n(u){for(var d="https://reactjs.org/docs/error-decoder.html?invariant="+u,m=1;m<arguments.length;m++)d+="&args[]="+encodeURIComponent(arguments[m]);return"Minified React error #"+u+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function s(u,d){o(u,d),o(u+"Capture",d)}function o(u,d){for(i[u]=d,u=0;u<d.length;u++)r.add(d[u])}var a=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),l=Object.prototype.hasOwnProperty,c=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function g(u){return l.call(p,u)?!0:l.call(f,u)?!1:c.test(u)?p[u]=!0:(f[u]=!0,!1)}function y(u,d,m,x){if(m!==null&&m.type===0)return!1;switch(typeof d){case"function":case"symbol":return!0;case"boolean":return x?!1:m!==null?!m.acceptsBooleans:(u=u.toLowerCase().slice(0,5),u!=="data-"&&u!=="aria-");default:return!1}}function b(u,d,m,x){if(d===null||typeof d>"u"||y(u,d,m,x))return!0;if(x)return!1;if(m!==null)switch(m.type){case 3:return!d;case 4:return d===!1;case 5:return isNaN(d);case 6:return isNaN(d)||1>d}return!1}function _(u,d,m,x,S,T,A){this.acceptsBooleans=d===2||d===3||d===4,this.attributeName=x,this.attributeNamespace=S,this.mustUseProperty=m,this.propertyName=u,this.type=d,this.sanitizeURL=T,this.removeEmptyString=A}var C={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(u){C[u]=new _(u,0,!1,u,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(u){var d=u[0];C[d]=new _(d,1,!1,u[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(u){C[u]=new _(u,2,!1,u.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(u){C[u]=new _(u,2,!1,u,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(u){C[u]=new _(u,3,!1,u.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(u){C[u]=new _(u,3,!0,u,null,!1,!1)}),["capture","download"].forEach(function(u){C[u]=new _(u,4,!1,u,null,!1,!1)}),["cols","rows","size","span"].forEach(function(u){C[u]=new _(u,6,!1,u,null,!1,!1)}),["rowSpan","start"].forEach(function(u){C[u]=new _(u,5,!1,u.toLowerCase(),null,!1,!1)});var k=/[\-:]([a-z])/g;function P(u){return u[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(u){var d=u.replace(k,P);C[d]=new _(d,1,!1,u,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(u){var d=u.replace(k,P);C[d]=new _(d,1,!1,u,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(u){var d=u.replace(k,P);C[d]=new _(d,1,!1,u,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(u){C[u]=new _(u,1,!1,u.toLowerCase(),null,!1,!1)}),C.xlinkHref=new _("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(u){C[u]=new _(u,1,!1,u.toLowerCase(),null,!0,!0)});function O(u,d,m,x){var S=C.hasOwnProperty(d)?C[d]:null;(S!==null?S.type!==0:x||!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(b(d,m,S,x)&&(m=null),x||S===null?g(d)&&(m===null?u.removeAttribute(d):u.setAttribute(d,""+m)):S.mustUseProperty?u[S.propertyName]=m===null?S.type===3?!1:"":m:(d=S.attributeName,x=S.attributeNamespace,m===null?u.removeAttribute(d):(S=S.type,m=S===3||S===4&&m===!0?"":""+m,x?u.setAttributeNS(x,d,m):u.setAttribute(d,m))))}var $=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,B=Symbol.for("react.element"),j=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),U=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),D=Symbol.for("react.provider"),ee=Symbol.for("react.context"),J=Symbol.for("react.forward_ref"),re=Symbol.for("react.suspense"),q=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),Q=Symbol.for("react.lazy"),ne=Symbol.for("react.offscreen"),Z=Symbol.iterator;function fe(u){return u===null||typeof u!="object"?null:(u=Z&&u[Z]||u["@@iterator"],typeof u=="function"?u:null)}var F=Object.assign,G;function ye(u){if(G===void 0)try{throw Error()}catch(m){var d=m.stack.trim().match(/\n( *(at )?)/);G=d&&d[1]||""}return`
`+G+u}var H=!1;function Me(u,d){if(!u||H)return"";H=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(d)if(d=function(){throw Error()},Object.defineProperty(d.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(d,[])}catch(be){var x=be}Reflect.construct(u,[],d)}else{try{d.call()}catch(be){x=be}u.call(d.prototype)}else{try{throw Error()}catch(be){x=be}u()}}catch(be){if(be&&x&&typeof be.stack=="string"){for(var S=be.stack.split(`
`),T=x.stack.split(`
`),A=S.length-1,K=T.length-1;1<=A&&0<=K&&S[A]!==T[K];)K--;for(;1<=A&&0<=K;A--,K--)if(S[A]!==T[K]){if(A!==1||K!==1)do if(A--,K--,0>K||S[A]!==T[K]){var ie=`
`+S[A].replace(" at new "," at ");return u.displayName&&ie.includes("<anonymous>")&&(ie=ie.replace("<anonymous>",u.displayName)),ie}while(1<=A&&0<=K);break}}}finally{H=!1,Error.prepareStackTrace=m}return(u=u?u.displayName||u.name:"")?ye(u):""}function Ee(u){switch(u.tag){case 5:return ye(u.type);case 16:return ye("Lazy");case 13:return ye("Suspense");case 19:return ye("SuspenseList");case 0:case 2:case 15:return u=Me(u.type,!1),u;case 11:return u=Me(u.type.render,!1),u;case 1:return u=Me(u.type,!0),u;default:return""}}function Te(u){if(u==null)return null;if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u;switch(u){case M:return"Fragment";case j:return"Portal";case z:return"Profiler";case U:return"StrictMode";case re:return"Suspense";case q:return"SuspenseList"}if(typeof u=="object")switch(u.$$typeof){case ee:return(u.displayName||"Context")+".Consumer";case D:return(u._context.displayName||"Context")+".Provider";case J:var d=u.render;return u=u.displayName,u||(u=d.displayName||d.name||"",u=u!==""?"ForwardRef("+u+")":"ForwardRef"),u;case V:return d=u.displayName||null,d!==null?d:Te(u.type)||"Memo";case Q:d=u._payload,u=u._init;try{return Te(u(d))}catch{}}return null}function Ye(u){var d=u.type;switch(u.tag){case 24:return"Cache";case 9:return(d.displayName||"Context")+".Consumer";case 10:return(d._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return u=d.render,u=u.displayName||u.name||"",d.displayName||(u!==""?"ForwardRef("+u+")":"ForwardRef");case 7:return"Fragment";case 5:return d;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Te(d);case 8:return d===U?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof d=="function")return d.displayName||d.name||null;if(typeof d=="string")return d}return null}function Ve(u){switch(typeof u){case"boolean":case"number":case"string":case"undefined":return u;case"object":return u;default:return""}}function Ie(u){var d=u.type;return(u=u.nodeName)&&u.toLowerCase()==="input"&&(d==="checkbox"||d==="radio")}function ut(u){var d=Ie(u)?"checked":"value",m=Object.getOwnPropertyDescriptor(u.constructor.prototype,d),x=""+u[d];if(!u.hasOwnProperty(d)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var S=m.get,T=m.set;return Object.defineProperty(u,d,{configurable:!0,get:function(){return S.call(this)},set:function(A){x=""+A,T.call(this,A)}}),Object.defineProperty(u,d,{enumerable:m.enumerable}),{getValue:function(){return x},setValue:function(A){x=""+A},stopTracking:function(){u._valueTracker=null,delete u[d]}}}}function Cn(u){u._valueTracker||(u._valueTracker=ut(u))}function Nt(u){if(!u)return!1;var d=u._valueTracker;if(!d)return!0;var m=d.getValue(),x="";return u&&(x=Ie(u)?u.checked?"true":"false":u.value),u=x,u!==m?(d.setValue(u),!0):!1}function jn(u){if(u=u||(typeof document<"u"?document:void 0),typeof u>"u")return null;try{return u.activeElement||u.body}catch{return u.body}}function ln(u,d){var m=d.checked;return F({},d,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:m??u._wrapperState.initialChecked})}function wn(u,d){var m=d.defaultValue==null?"":d.defaultValue,x=d.checked!=null?d.checked:d.defaultChecked;m=Ve(d.value!=null?d.value:m),u._wrapperState={initialChecked:x,initialValue:m,controlled:d.type==="checkbox"||d.type==="radio"?d.checked!=null:d.value!=null}}function Qi(u,d){d=d.checked,d!=null&&O(u,"checked",d,!1)}function li(u,d){Qi(u,d);var m=Ve(d.value),x=d.type;if(m!=null)x==="number"?(m===0&&u.value===""||u.value!=m)&&(u.value=""+m):u.value!==""+m&&(u.value=""+m);else if(x==="submit"||x==="reset"){u.removeAttribute("value");return}d.hasOwnProperty("value")?Si(u,d.type,m):d.hasOwnProperty("defaultValue")&&Si(u,d.type,Ve(d.defaultValue)),d.checked==null&&d.defaultChecked!=null&&(u.defaultChecked=!!d.defaultChecked)}function Ki(u,d,m){if(d.hasOwnProperty("value")||d.hasOwnProperty("defaultValue")){var x=d.type;if(!(x!=="submit"&&x!=="reset"||d.value!==void 0&&d.value!==null))return;d=""+u._wrapperState.initialValue,m||d===u.value||(u.value=d),u.defaultValue=d}m=u.name,m!==""&&(u.name=""),u.defaultChecked=!!u._wrapperState.initialChecked,m!==""&&(u.name=m)}function Si(u,d,m){(d!=="number"||jn(u.ownerDocument)!==u)&&(m==null?u.defaultValue=""+u._wrapperState.initialValue:u.defaultValue!==""+m&&(u.defaultValue=""+m))}var wt=Array.isArray;function un(u,d,m,x){if(u=u.options,d){d={};for(var S=0;S<m.length;S++)d["$"+m[S]]=!0;for(m=0;m<u.length;m++)S=d.hasOwnProperty("$"+u[m].value),u[m].selected!==S&&(u[m].selected=S),S&&x&&(u[m].defaultSelected=!0)}else{for(m=""+Ve(m),d=null,S=0;S<u.length;S++){if(u[S].value===m){u[S].selected=!0,x&&(u[S].defaultSelected=!0);return}d!==null||u[S].disabled||(d=u[S])}d!==null&&(d.selected=!0)}}function pt(u,d){if(d.dangerouslySetInnerHTML!=null)throw Error(n(91));return F({},d,{value:void 0,defaultValue:void 0,children:""+u._wrapperState.initialValue})}function zt(u,d){var m=d.value;if(m==null){if(m=d.children,d=d.defaultValue,m!=null){if(d!=null)throw Error(n(92));if(wt(m)){if(1<m.length)throw Error(n(93));m=m[0]}d=m}d==null&&(d=""),m=d}u._wrapperState={initialValue:Ve(m)}}function Pt(u,d){var m=Ve(d.value),x=Ve(d.defaultValue);m!=null&&(m=""+m,m!==u.value&&(u.value=m),d.defaultValue==null&&u.defaultValue!==m&&(u.defaultValue=m)),x!=null&&(u.defaultValue=""+x)}function Zn(u){var d=u.textContent;d===u._wrapperState.initialValue&&d!==""&&d!==null&&(u.value=d)}function Ce(u){switch(u){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Re(u,d){return u==null||u==="http://www.w3.org/1999/xhtml"?Ce(d):u==="http://www.w3.org/2000/svg"&&d==="foreignObject"?"http://www.w3.org/1999/xhtml":u}var ct,vt=function(u){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(d,m,x,S){MSApp.execUnsafeLocalFunction(function(){return u(d,m,x,S)})}:u}(function(u,d){if(u.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in u)u.innerHTML=d;else{for(ct=ct||document.createElement("div"),ct.innerHTML="<svg>"+d.valueOf().toString()+"</svg>",d=ct.firstChild;u.firstChild;)u.removeChild(u.firstChild);for(;d.firstChild;)u.appendChild(d.firstChild)}});function Ut(u,d){if(d){var m=u.firstChild;if(m&&m===u.lastChild&&m.nodeType===3){m.nodeValue=d;return}}u.textContent=d}var yn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fr=["Webkit","ms","Moz","O"];Object.keys(yn).forEach(function(u){fr.forEach(function(d){d=d+u.charAt(0).toUpperCase()+u.substring(1),yn[d]=yn[u]})});function hr(u,d,m){return d==null||typeof d=="boolean"||d===""?"":m||typeof d!="number"||d===0||yn.hasOwnProperty(u)&&yn[u]?(""+d).trim():d+"px"}function ui(u,d){u=u.style;for(var m in d)if(d.hasOwnProperty(m)){var x=m.indexOf("--")===0,S=hr(m,d[m],x);m==="float"&&(m="cssFloat"),x?u.setProperty(m,S):u[m]=S}}var jr=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function qe(u,d){if(d){if(jr[u]&&(d.children!=null||d.dangerouslySetInnerHTML!=null))throw Error(n(137,u));if(d.dangerouslySetInnerHTML!=null){if(d.children!=null)throw Error(n(60));if(typeof d.dangerouslySetInnerHTML!="object"||!("__html"in d.dangerouslySetInnerHTML))throw Error(n(61))}if(d.style!=null&&typeof d.style!="object")throw Error(n(62))}}function sr(u,d){if(u.indexOf("-")===-1)return typeof d.is=="string";switch(u){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zn=null;function hs(u){return u=u.target||u.srcElement||window,u.correspondingUseElement&&(u=u.correspondingUseElement),u.nodeType===3?u.parentNode:u}var Qe=null,Gi=null,Ms=null;function Ro(u){if(u=Rf(u)){if(typeof Qe!="function")throw Error(n(280));var d=u.stateNode;d&&(d=am(d),Qe(u.stateNode,u.type,d))}}function co(u){Gi?Ms?Ms.push(u):Ms=[u]:Gi=u}function As(){if(Gi){var u=Gi,d=Ms;if(Ms=Gi=null,Ro(u),d)for(u=0;u<d.length;u++)Ro(d[u])}}function fc(u,d){return u(d)}function hc(){}var te=!1;function me(u,d,m){if(te)return u(d,m);te=!0;try{return fc(u,d,m)}finally{te=!1,(Gi!==null||Ms!==null)&&(hc(),As())}}function _e(u,d){var m=u.stateNode;if(m===null)return null;var x=am(m);if(x===null)return null;m=x[d];e:switch(d){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(x=!x.disabled)||(u=u.type,x=!(u==="button"||u==="input"||u==="select"||u==="textarea")),u=!x;break e;default:u=!1}if(u)return null;if(m&&typeof m!="function")throw Error(n(231,d,typeof m));return m}var Ae=!1;if(a)try{var je={};Object.defineProperty(je,"passive",{get:function(){Ae=!0}}),window.addEventListener("test",je,je),window.removeEventListener("test",je,je)}catch{Ae=!1}function Ke(u,d,m,x,S,T,A,K,ie){var be=Array.prototype.slice.call(arguments,3);try{d.apply(m,be)}catch(Oe){this.onError(Oe)}}var it=!1,Ze=null,nt=!1,lt=null,at={onError:function(u){it=!0,Ze=u}};function tt(u,d,m,x,S,T,A,K,ie){it=!1,Ze=null,Ke.apply(at,arguments)}function Rt(u,d,m,x,S,T,A,K,ie){if(tt.apply(this,arguments),it){if(it){var be=Ze;it=!1,Ze=null}else throw Error(n(198));nt||(nt=!0,lt=be)}}function Ht(u){var d=u,m=u;if(u.alternate)for(;d.return;)d=d.return;else{u=d;do d=u,(d.flags&4098)!==0&&(m=d.return),u=d.return;while(u)}return d.tag===3?m:null}function $n(u){if(u.tag===13){var d=u.memoizedState;if(d===null&&(u=u.alternate,u!==null&&(d=u.memoizedState)),d!==null)return d.dehydrated}return null}function pr(u){if(Ht(u)!==u)throw Error(n(188))}function cn(u){var d=u.alternate;if(!d){if(d=Ht(u),d===null)throw Error(n(188));return d!==u?null:u}for(var m=u,x=d;;){var S=m.return;if(S===null)break;var T=S.alternate;if(T===null){if(x=S.return,x!==null){m=x;continue}break}if(S.child===T.child){for(T=S.child;T;){if(T===m)return pr(S),u;if(T===x)return pr(S),d;T=T.sibling}throw Error(n(188))}if(m.return!==x.return)m=S,x=T;else{for(var A=!1,K=S.child;K;){if(K===m){A=!0,m=S,x=T;break}if(K===x){A=!0,x=S,m=T;break}K=K.sibling}if(!A){for(K=T.child;K;){if(K===m){A=!0,m=T,x=S;break}if(K===x){A=!0,x=T,m=S;break}K=K.sibling}if(!A)throw Error(n(189))}}if(m.alternate!==x)throw Error(n(190))}if(m.tag!==3)throw Error(n(188));return m.stateNode.current===m?u:d}function vn(u){return u=cn(u),u!==null?Ir(u):null}function Ir(u){if(u.tag===5||u.tag===6)return u;for(u=u.child;u!==null;){var d=Ir(u);if(d!==null)return d;u=u.sibling}return null}var Ds=t.unstable_scheduleCallback,ci=t.unstable_cancelCallback,sn=t.unstable_shouldYield,Yi=t.unstable_requestPaint,Qt=t.unstable_now,ps=t.unstable_getCurrentPriorityLevel,di=t.unstable_ImmediatePriority,ms=t.unstable_UserBlockingPriority,Kt=t.unstable_NormalPriority,er=t.unstable_LowPriority,fi=t.unstable_IdlePriority,Xi=null,tn=null;function Oo(u){if(tn&&typeof tn.onCommitFiberRoot=="function")try{tn.onCommitFiberRoot(Xi,u,void 0,(u.current.flags&128)===128)}catch{}}var mt=Math.clz32?Math.clz32:Up,pc=Math.log,$p=Math.LN2;function Up(u){return u>>>=0,u===0?32:31-(pc(u)/$p|0)|0}var bn=64,fo=4194304;function Ls(u){switch(u&-u){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return u&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return u}}function Fs(u,d){var m=u.pendingLanes;if(m===0)return 0;var x=0,S=u.suspendedLanes,T=u.pingedLanes,A=m&268435455;if(A!==0){var K=A&~S;K!==0?x=Ls(K):(T&=A,T!==0&&(x=Ls(T)))}else A=m&~S,A!==0?x=Ls(A):T!==0&&(x=Ls(T));if(x===0)return 0;if(d!==0&&d!==x&&(d&S)===0&&(S=x&-x,T=d&-d,S>=T||S===16&&(T&4194240)!==0))return d;if((x&4)!==0&&(x|=m&16),d=u.entangledLanes,d!==0)for(u=u.entanglements,d&=x;0<d;)m=31-mt(d),S=1<<m,x|=u[m],d&=~S;return x}function mf(u,d){switch(u){case 1:case 2:case 4:return d+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gf(u,d){for(var m=u.suspendedLanes,x=u.pingedLanes,S=u.expirationTimes,T=u.pendingLanes;0<T;){var A=31-mt(T),K=1<<A,ie=S[A];ie===-1?((K&m)===0||(K&x)!==0)&&(S[A]=mf(K,d)):ie<=d&&(u.expiredLanes|=K),T&=~K}}function ka(u){return u=u.pendingLanes&-1073741825,u!==0?u:u&1073741824?1073741824:0}function yf(){var u=bn;return bn<<=1,(bn&4194240)===0&&(bn=64),u}function Ea(u){for(var d=[],m=0;31>m;m++)d.push(u);return d}function Ta(u,d,m){u.pendingLanes|=d,d!==536870912&&(u.suspendedLanes=0,u.pingedLanes=0),u=u.eventTimes,d=31-mt(d),u[d]=m}function Fl(u,d){var m=u.pendingLanes&~d;u.pendingLanes=d,u.suspendedLanes=0,u.pingedLanes=0,u.expiredLanes&=d,u.mutableReadLanes&=d,u.entangledLanes&=d,d=u.entanglements;var x=u.eventTimes;for(u=u.expirationTimes;0<m;){var S=31-mt(m),T=1<<S;d[S]=0,x[S]=-1,u[S]=-1,m&=~T}}function mc(u,d){var m=u.entangledLanes|=d;for(u=u.entanglements;m;){var x=31-mt(m),S=1<<x;S&d|u[x]&d&&(u[x]|=d),m&=~S}}var xn=0;function nn(u){return u&=-u,1<u?4<u?(u&268435455)!==0?16:536870912:4:1}var gc,vf,Hp,qr,Mo,ja=!1,Ji=[],Bs=null,zs=null,En=null,Qr=new Map,$s=new Map,Ci=[],xf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Us(u,d){switch(u){case"focusin":case"focusout":Bs=null;break;case"dragenter":case"dragleave":zs=null;break;case"mouseover":case"mouseout":En=null;break;case"pointerover":case"pointerout":Qr.delete(d.pointerId);break;case"gotpointercapture":case"lostpointercapture":$s.delete(d.pointerId)}}function Bl(u,d,m,x,S,T){return u===null||u.nativeEvent!==T?(u={blockedOn:d,domEventName:m,eventSystemFlags:x,nativeEvent:T,targetContainers:[S]},d!==null&&(d=Rf(d),d!==null&&vf(d)),u):(u.eventSystemFlags|=x,d=u.targetContainers,S!==null&&d.indexOf(S)===-1&&d.push(S),u)}function gs(u,d,m,x,S){switch(d){case"focusin":return Bs=Bl(Bs,u,d,m,x,S),!0;case"dragenter":return zs=Bl(zs,u,d,m,x,S),!0;case"mouseover":return En=Bl(En,u,d,m,x,S),!0;case"pointerover":var T=S.pointerId;return Qr.set(T,Bl(Qr.get(T)||null,u,d,m,x,S)),!0;case"gotpointercapture":return T=S.pointerId,$s.set(T,Bl($s.get(T)||null,u,d,m,x,S)),!0}return!1}function yc(u){var d=Zl(u.target);if(d!==null){var m=Ht(d);if(m!==null){if(d=m.tag,d===13){if(d=$n(m),d!==null){u.blockedOn=d,Mo(u.priority,function(){Hp(m)});return}}else if(d===3&&m.stateNode.current.memoizedState.isDehydrated){u.blockedOn=m.tag===3?m.stateNode.containerInfo:null;return}}}u.blockedOn=null}function zl(u){if(u.blockedOn!==null)return!1;for(var d=u.targetContainers;0<d.length;){var m=Ul(u.domEventName,u.eventSystemFlags,d[0],u.nativeEvent);if(m===null){m=u.nativeEvent;var x=new m.constructor(m.type,m);zn=x,m.target.dispatchEvent(x),zn=null}else return d=Rf(m),d!==null&&vf(d),u.blockedOn=m,!1;d.shift()}return!0}function vc(u,d,m){zl(u)&&m.delete(d)}function $l(){ja=!1,Bs!==null&&zl(Bs)&&(Bs=null),zs!==null&&zl(zs)&&(zs=null),En!==null&&zl(En)&&(En=null),Qr.forEach(vc),$s.forEach(vc)}function Ao(u,d){u.blockedOn===d&&(u.blockedOn=null,ja||(ja=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,$l)))}function Ia(u){function d(S){return Ao(S,u)}if(0<Ji.length){Ao(Ji[0],u);for(var m=1;m<Ji.length;m++){var x=Ji[m];x.blockedOn===u&&(x.blockedOn=null)}}for(Bs!==null&&Ao(Bs,u),zs!==null&&Ao(zs,u),En!==null&&Ao(En,u),Qr.forEach(d),$s.forEach(d),m=0;m<Ci.length;m++)x=Ci[m],x.blockedOn===u&&(x.blockedOn=null);for(;0<Ci.length&&(m=Ci[0],m.blockedOn===null);)yc(m),m.blockedOn===null&&Ci.shift()}var Na=$.ReactCurrentBatchConfig,ho=!0;function m1(u,d,m,x){var S=xn,T=Na.transition;Na.transition=null;try{xn=1,Pa(u,d,m,x)}finally{xn=S,Na.transition=T}}function g1(u,d,m,x){var S=xn,T=Na.transition;Na.transition=null;try{xn=4,Pa(u,d,m,x)}finally{xn=S,Na.transition=T}}function Pa(u,d,m,x){if(ho){var S=Ul(u,d,m,x);if(S===null)C1(u,d,x,Do,m),Us(u,x);else if(gs(S,u,d,m,x))x.stopPropagation();else if(Us(u,x),d&4&&-1<xf.indexOf(u)){for(;S!==null;){var T=Rf(S);if(T!==null&&gc(T),T=Ul(u,d,m,x),T===null&&C1(u,d,x,Do,m),T===S)break;S=T}S!==null&&x.stopPropagation()}else C1(u,d,x,null,m)}}var Do=null;function Ul(u,d,m,x){if(Do=null,u=hs(x),u=Zl(u),u!==null)if(d=Ht(u),d===null)u=null;else if(m=d.tag,m===13){if(u=$n(d),u!==null)return u;u=null}else if(m===3){if(d.stateNode.current.memoizedState.isDehydrated)return d.tag===3?d.stateNode.containerInfo:null;u=null}else d!==u&&(u=null);return Do=u,null}function Wp(u){switch(u){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ps()){case di:return 1;case ms:return 4;case Kt:case er:return 16;case fi:return 536870912;default:return 16}default:return 16}}var po=null,bf=null,Ra=null;function xc(){if(Ra)return Ra;var u,d=bf,m=d.length,x,S="value"in po?po.value:po.textContent,T=S.length;for(u=0;u<m&&d[u]===S[u];u++);var A=m-u;for(x=1;x<=A&&d[m-x]===S[T-x];x++);return Ra=S.slice(u,1<x?1-x:void 0)}function Hl(u){var d=u.keyCode;return"charCode"in u?(u=u.charCode,u===0&&d===13&&(u=13)):u=d,u===10&&(u=13),32<=u||u===13?u:0}function Lo(){return!0}function Wl(){return!1}function Nr(u){function d(m,x,S,T,A){this._reactName=m,this._targetInst=S,this.type=x,this.nativeEvent=T,this.target=A,this.currentTarget=null;for(var K in u)u.hasOwnProperty(K)&&(m=u[K],this[K]=m?m(T):T[K]);return this.isDefaultPrevented=(T.defaultPrevented!=null?T.defaultPrevented:T.returnValue===!1)?Lo:Wl,this.isPropagationStopped=Wl,this}return F(d.prototype,{preventDefault:function(){this.defaultPrevented=!0;var m=this.nativeEvent;m&&(m.preventDefault?m.preventDefault():typeof m.returnValue!="unknown"&&(m.returnValue=!1),this.isDefaultPrevented=Lo)},stopPropagation:function(){var m=this.nativeEvent;m&&(m.stopPropagation?m.stopPropagation():typeof m.cancelBubble!="unknown"&&(m.cancelBubble=!0),this.isPropagationStopped=Lo)},persist:function(){},isPersistent:Lo}),d}var Fo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(u){return u.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wf=Nr(Fo),mo=F({},Fo,{view:0,detail:0}),_f=Nr(mo),Vl,ql,Bo,or=F({},mo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Kl,button:0,buttons:0,relatedTarget:function(u){return u.relatedTarget===void 0?u.fromElement===u.srcElement?u.toElement:u.fromElement:u.relatedTarget},movementX:function(u){return"movementX"in u?u.movementX:(u!==Bo&&(Bo&&u.type==="mousemove"?(Vl=u.screenX-Bo.screenX,ql=u.screenY-Bo.screenY):ql=Vl=0,Bo=u),Vl)},movementY:function(u){return"movementY"in u?u.movementY:ql}}),Oa=Nr(or),Ql=F({},or,{dataTransfer:0}),Vp=Nr(Ql),bc=F({},mo,{relatedTarget:0}),wc=Nr(bc),qp=F({},Fo,{animationName:0,elapsedTime:0,pseudoElement:0}),_c=Nr(qp),Sf=F({},Fo,{clipboardData:function(u){return"clipboardData"in u?u.clipboardData:window.clipboardData}}),zo=Nr(Sf),Cf=F({},Fo,{data:0}),Sc=Nr(Cf),Cc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Qp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function y1(u){var d=this.nativeEvent;return d.getModifierState?d.getModifierState(u):(u=Qp[u])?!!d[u]:!1}function Kl(){return y1}var kc=F({},mo,{key:function(u){if(u.key){var d=Cc[u.key]||u.key;if(d!=="Unidentified")return d}return u.type==="keypress"?(u=Hl(u),u===13?"Enter":String.fromCharCode(u)):u.type==="keydown"||u.type==="keyup"?kf[u.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Kl,charCode:function(u){return u.type==="keypress"?Hl(u):0},keyCode:function(u){return u.type==="keydown"||u.type==="keyup"?u.keyCode:0},which:function(u){return u.type==="keypress"?Hl(u):u.type==="keydown"||u.type==="keyup"?u.keyCode:0}}),v1=Nr(kc),Ef=F({},or,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ec=Nr(Ef),x1=F({},mo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Kl}),Kp=Nr(x1),b1=F({},Fo,{propertyName:0,elapsedTime:0,pseudoElement:0}),Gp=Nr(b1),Yp=F({},or,{deltaX:function(u){return"deltaX"in u?u.deltaX:"wheelDeltaX"in u?-u.wheelDeltaX:0},deltaY:function(u){return"deltaY"in u?u.deltaY:"wheelDeltaY"in u?-u.wheelDeltaY:"wheelDelta"in u?-u.wheelDelta:0},deltaZ:0,deltaMode:0}),w1=Nr(Yp),Xp=[9,13,27,32],Gl=a&&"CompositionEvent"in window,Ma=null;a&&"documentMode"in document&&(Ma=document.documentMode);var Jp=a&&"TextEvent"in window&&!Ma,Zp=a&&(!Gl||Ma&&8<Ma&&11>=Ma),em=" ",tm=!1;function Yl(u,d){switch(u){case"keyup":return Xp.indexOf(d.keyCode)!==-1;case"keydown":return d.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ys(u){return u=u.detail,typeof u=="object"&&"data"in u?u.data:null}var kn=!1;function Tc(u,d){switch(u){case"compositionend":return ys(d);case"keypress":return d.which!==32?null:(tm=!0,em);case"textInput":return u=d.data,u===em&&tm?null:u;default:return null}}function ki(u,d){if(kn)return u==="compositionend"||!Gl&&Yl(u,d)?(u=xc(),Ra=bf=po=null,kn=!1,u):null;switch(u){case"paste":return null;case"keypress":if(!(d.ctrlKey||d.altKey||d.metaKey)||d.ctrlKey&&d.altKey){if(d.char&&1<d.char.length)return d.char;if(d.which)return String.fromCharCode(d.which)}return null;case"compositionend":return Zp&&d.locale!=="ko"?null:d.data;default:return null}}var _1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jc(u){var d=u&&u.nodeName&&u.nodeName.toLowerCase();return d==="input"?!!_1[u.type]:d==="textarea"}function Tf(u,d,m,x){co(x),d=im(d,"onChange"),0<d.length&&(m=new wf("onChange","change",null,m,x),u.push({event:m,listeners:d}))}var Zi=null,$o=null;function Aa(u){jS(u,0)}function es(u){var d=Pc(u);if(Nt(d))return u}function nm(u,d){if(u==="change")return d}var v=!1;if(a){var w;if(a){var E="oninput"in document;if(!E){var N=document.createElement("div");N.setAttribute("oninput","return;"),E=typeof N.oninput=="function"}w=E}else w=!1;v=w&&(!document.documentMode||9<document.documentMode)}function R(){Zi&&(Zi.detachEvent("onpropertychange",L),$o=Zi=null)}function L(u){if(u.propertyName==="value"&&es($o)){var d=[];Tf(d,$o,u,hs(u)),me(Aa,d)}}function W(u,d,m){u==="focusin"?(R(),Zi=d,$o=m,Zi.attachEvent("onpropertychange",L)):u==="focusout"&&R()}function Y(u){if(u==="selectionchange"||u==="keyup"||u==="keydown")return es($o)}function se(u,d){if(u==="click")return es(d)}function ae(u,d){if(u==="input"||u==="change")return es(d)}function de(u,d){return u===d&&(u!==0||1/u===1/d)||u!==u&&d!==d}var X=typeof Object.is=="function"?Object.is:de;function he(u,d){if(X(u,d))return!0;if(typeof u!="object"||u===null||typeof d!="object"||d===null)return!1;var m=Object.keys(u),x=Object.keys(d);if(m.length!==x.length)return!1;for(x=0;x<m.length;x++){var S=m[x];if(!l.call(d,S)||!X(u[S],d[S]))return!1}return!0}function oe(u){for(;u&&u.firstChild;)u=u.firstChild;return u}function ce(u,d){var m=oe(u);u=0;for(var x;m;){if(m.nodeType===3){if(x=u+m.textContent.length,u<=d&&x>=d)return{node:m,offset:d-u};u=x}e:{for(;m;){if(m.nextSibling){m=m.nextSibling;break e}m=m.parentNode}m=void 0}m=oe(m)}}function pe(u,d){return u&&d?u===d?!0:u&&u.nodeType===3?!1:d&&d.nodeType===3?pe(u,d.parentNode):"contains"in u?u.contains(d):u.compareDocumentPosition?!!(u.compareDocumentPosition(d)&16):!1:!1}function ue(){for(var u=window,d=jn();d instanceof u.HTMLIFrameElement;){try{var m=typeof d.contentWindow.location.href=="string"}catch{m=!1}if(m)u=d.contentWindow;else break;d=jn(u.document)}return d}function ve(u){var d=u&&u.nodeName&&u.nodeName.toLowerCase();return d&&(d==="input"&&(u.type==="text"||u.type==="search"||u.type==="tel"||u.type==="url"||u.type==="password")||d==="textarea"||u.contentEditable==="true")}function we(u){var d=ue(),m=u.focusedElem,x=u.selectionRange;if(d!==m&&m&&m.ownerDocument&&pe(m.ownerDocument.documentElement,m)){if(x!==null&&ve(m)){if(d=x.start,u=x.end,u===void 0&&(u=d),"selectionStart"in m)m.selectionStart=d,m.selectionEnd=Math.min(u,m.value.length);else if(u=(d=m.ownerDocument||document)&&d.defaultView||window,u.getSelection){u=u.getSelection();var S=m.textContent.length,T=Math.min(x.start,S);x=x.end===void 0?T:Math.min(x.end,S),!u.extend&&T>x&&(S=x,x=T,T=S),S=ce(m,T);var A=ce(m,x);S&&A&&(u.rangeCount!==1||u.anchorNode!==S.node||u.anchorOffset!==S.offset||u.focusNode!==A.node||u.focusOffset!==A.offset)&&(d=d.createRange(),d.setStart(S.node,S.offset),u.removeAllRanges(),T>x?(u.addRange(d),u.extend(A.node,A.offset)):(d.setEnd(A.node,A.offset),u.addRange(d)))}}for(d=[],u=m;u=u.parentNode;)u.nodeType===1&&d.push({element:u,left:u.scrollLeft,top:u.scrollTop});for(typeof m.focus=="function"&&m.focus(),m=0;m<d.length;m++)u=d[m],u.element.scrollLeft=u.left,u.element.scrollTop=u.top}}var Se=a&&"documentMode"in document&&11>=document.documentMode,ke=null,Le=null,He=null,Fe=!1;function ze(u,d,m){var x=m.window===m?m.document:m.nodeType===9?m:m.ownerDocument;Fe||ke==null||ke!==jn(x)||(x=ke,"selectionStart"in x&&ve(x)?x={start:x.selectionStart,end:x.selectionEnd}:(x=(x.ownerDocument&&x.ownerDocument.defaultView||window).getSelection(),x={anchorNode:x.anchorNode,anchorOffset:x.anchorOffset,focusNode:x.focusNode,focusOffset:x.focusOffset}),He&&he(He,x)||(He=x,x=im(Le,"onSelect"),0<x.length&&(d=new wf("onSelect","select",null,d,m),u.push({event:d,listeners:x}),d.target=ke)))}function We(u,d){var m={};return m[u.toLowerCase()]=d.toLowerCase(),m["Webkit"+u]="webkit"+d,m["Moz"+u]="moz"+d,m}var $e={animationend:We("Animation","AnimationEnd"),animationiteration:We("Animation","AnimationIteration"),animationstart:We("Animation","AnimationStart"),transitionend:We("Transition","TransitionEnd")},Xe={},St={};a&&(St=document.createElement("div").style,"AnimationEvent"in window||(delete $e.animationend.animation,delete $e.animationiteration.animation,delete $e.animationstart.animation),"TransitionEvent"in window||delete $e.transitionend.transition);function Tt(u){if(Xe[u])return Xe[u];if(!$e[u])return u;var d=$e[u],m;for(m in d)if(d.hasOwnProperty(m)&&m in St)return Xe[u]=d[m];return u}var Lt=Tt("animationend"),Kr=Tt("animationiteration"),_t=Tt("animationstart"),xr=Tt("transitionend"),br=new Map,Xl="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Un(u,d){br.set(u,d),s(d,[u])}for(var Hs=0;Hs<Xl.length;Hs++){var Jl=Xl[Hs],DP=Jl.toLowerCase(),LP=Jl[0].toUpperCase()+Jl.slice(1);Un(DP,"on"+LP)}Un(Lt,"onAnimationEnd"),Un(Kr,"onAnimationIteration"),Un(_t,"onAnimationStart"),Un("dblclick","onDoubleClick"),Un("focusin","onFocus"),Un("focusout","onBlur"),Un(xr,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),FP=new Set("cancel close invalid load scroll toggle".split(" ").concat(jf));function TS(u,d,m){var x=u.type||"unknown-event";u.currentTarget=m,Rt(x,d,void 0,u),u.currentTarget=null}function jS(u,d){d=(d&4)!==0;for(var m=0;m<u.length;m++){var x=u[m],S=x.event;x=x.listeners;e:{var T=void 0;if(d)for(var A=x.length-1;0<=A;A--){var K=x[A],ie=K.instance,be=K.currentTarget;if(K=K.listener,ie!==T&&S.isPropagationStopped())break e;TS(S,K,be),T=ie}else for(A=0;A<x.length;A++){if(K=x[A],ie=K.instance,be=K.currentTarget,K=K.listener,ie!==T&&S.isPropagationStopped())break e;TS(S,K,be),T=ie}}}if(nt)throw u=lt,nt=!1,lt=null,u}function Ln(u,d){var m=d[N1];m===void 0&&(m=d[N1]=new Set);var x=u+"__bubble";m.has(x)||(IS(d,u,2,!1),m.add(x))}function S1(u,d,m){var x=0;d&&(x|=4),IS(m,u,x,d)}var rm="_reactListening"+Math.random().toString(36).slice(2);function If(u){if(!u[rm]){u[rm]=!0,r.forEach(function(m){m!=="selectionchange"&&(FP.has(m)||S1(m,!1,u),S1(m,!0,u))});var d=u.nodeType===9?u:u.ownerDocument;d===null||d[rm]||(d[rm]=!0,S1("selectionchange",!1,d))}}function IS(u,d,m,x){switch(Wp(d)){case 1:var S=m1;break;case 4:S=g1;break;default:S=Pa}m=S.bind(null,d,m,u),S=void 0,!Ae||d!=="touchstart"&&d!=="touchmove"&&d!=="wheel"||(S=!0),x?S!==void 0?u.addEventListener(d,m,{capture:!0,passive:S}):u.addEventListener(d,m,!0):S!==void 0?u.addEventListener(d,m,{passive:S}):u.addEventListener(d,m,!1)}function C1(u,d,m,x,S){var T=x;if((d&1)===0&&(d&2)===0&&x!==null)e:for(;;){if(x===null)return;var A=x.tag;if(A===3||A===4){var K=x.stateNode.containerInfo;if(K===S||K.nodeType===8&&K.parentNode===S)break;if(A===4)for(A=x.return;A!==null;){var ie=A.tag;if((ie===3||ie===4)&&(ie=A.stateNode.containerInfo,ie===S||ie.nodeType===8&&ie.parentNode===S))return;A=A.return}for(;K!==null;){if(A=Zl(K),A===null)return;if(ie=A.tag,ie===5||ie===6){x=T=A;continue e}K=K.parentNode}}x=x.return}me(function(){var be=T,Oe=hs(m),De=[];e:{var Ne=br.get(u);if(Ne!==void 0){var Je=wf,rt=u;switch(u){case"keypress":if(Hl(m)===0)break e;case"keydown":case"keyup":Je=v1;break;case"focusin":rt="focus",Je=wc;break;case"focusout":rt="blur",Je=wc;break;case"beforeblur":case"afterblur":Je=wc;break;case"click":if(m.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Je=Oa;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Je=Vp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Je=Kp;break;case Lt:case Kr:case _t:Je=_c;break;case xr:Je=Gp;break;case"scroll":Je=_f;break;case"wheel":Je=w1;break;case"copy":case"cut":case"paste":Je=zo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Je=Ec}var st=(d&4)!==0,ar=!st&&u==="scroll",ge=st?Ne!==null?Ne+"Capture":null:Ne;st=[];for(var le=be,xe;le!==null;){xe=le;var Ue=xe.stateNode;if(xe.tag===5&&Ue!==null&&(xe=Ue,ge!==null&&(Ue=_e(le,ge),Ue!=null&&st.push(Nf(le,Ue,xe)))),ar)break;le=le.return}0<st.length&&(Ne=new Je(Ne,rt,null,m,Oe),De.push({event:Ne,listeners:st}))}}if((d&7)===0){e:{if(Ne=u==="mouseover"||u==="pointerover",Je=u==="mouseout"||u==="pointerout",Ne&&m!==zn&&(rt=m.relatedTarget||m.fromElement)&&(Zl(rt)||rt[Uo]))break e;if((Je||Ne)&&(Ne=Oe.window===Oe?Oe:(Ne=Oe.ownerDocument)?Ne.defaultView||Ne.parentWindow:window,Je?(rt=m.relatedTarget||m.toElement,Je=be,rt=rt?Zl(rt):null,rt!==null&&(ar=Ht(rt),rt!==ar||rt.tag!==5&&rt.tag!==6)&&(rt=null)):(Je=null,rt=be),Je!==rt)){if(st=Oa,Ue="onMouseLeave",ge="onMouseEnter",le="mouse",(u==="pointerout"||u==="pointerover")&&(st=Ec,Ue="onPointerLeave",ge="onPointerEnter",le="pointer"),ar=Je==null?Ne:Pc(Je),xe=rt==null?Ne:Pc(rt),Ne=new st(Ue,le+"leave",Je,m,Oe),Ne.target=ar,Ne.relatedTarget=xe,Ue=null,Zl(Oe)===be&&(st=new st(ge,le+"enter",rt,m,Oe),st.target=xe,st.relatedTarget=ar,Ue=st),ar=Ue,Je&&rt)t:{for(st=Je,ge=rt,le=0,xe=st;xe;xe=Ic(xe))le++;for(xe=0,Ue=ge;Ue;Ue=Ic(Ue))xe++;for(;0<le-xe;)st=Ic(st),le--;for(;0<xe-le;)ge=Ic(ge),xe--;for(;le--;){if(st===ge||ge!==null&&st===ge.alternate)break t;st=Ic(st),ge=Ic(ge)}st=null}else st=null;Je!==null&&NS(De,Ne,Je,st,!1),rt!==null&&ar!==null&&NS(De,ar,rt,st,!0)}}e:{if(Ne=be?Pc(be):window,Je=Ne.nodeName&&Ne.nodeName.toLowerCase(),Je==="select"||Je==="input"&&Ne.type==="file")var ot=nm;else if(jc(Ne))if(v)ot=ae;else{ot=Y;var dt=W}else(Je=Ne.nodeName)&&Je.toLowerCase()==="input"&&(Ne.type==="checkbox"||Ne.type==="radio")&&(ot=se);if(ot&&(ot=ot(u,be))){Tf(De,ot,m,Oe);break e}dt&&dt(u,Ne,be),u==="focusout"&&(dt=Ne._wrapperState)&&dt.controlled&&Ne.type==="number"&&Si(Ne,"number",Ne.value)}switch(dt=be?Pc(be):window,u){case"focusin":(jc(dt)||dt.contentEditable==="true")&&(ke=dt,Le=be,He=null);break;case"focusout":He=Le=ke=null;break;case"mousedown":Fe=!0;break;case"contextmenu":case"mouseup":case"dragend":Fe=!1,ze(De,m,Oe);break;case"selectionchange":if(Se)break;case"keydown":case"keyup":ze(De,m,Oe)}var ft;if(Gl)e:{switch(u){case"compositionstart":var xt="onCompositionStart";break e;case"compositionend":xt="onCompositionEnd";break e;case"compositionupdate":xt="onCompositionUpdate";break e}xt=void 0}else kn?Yl(u,m)&&(xt="onCompositionEnd"):u==="keydown"&&m.keyCode===229&&(xt="onCompositionStart");xt&&(Zp&&m.locale!=="ko"&&(kn||xt!=="onCompositionStart"?xt==="onCompositionEnd"&&kn&&(ft=xc()):(po=Oe,bf="value"in po?po.value:po.textContent,kn=!0)),dt=im(be,xt),0<dt.length&&(xt=new Sc(xt,u,null,m,Oe),De.push({event:xt,listeners:dt}),ft?xt.data=ft:(ft=ys(m),ft!==null&&(xt.data=ft)))),(ft=Jp?Tc(u,m):ki(u,m))&&(be=im(be,"onBeforeInput"),0<be.length&&(Oe=new Sc("onBeforeInput","beforeinput",null,m,Oe),De.push({event:Oe,listeners:be}),Oe.data=ft))}jS(De,d)})}function Nf(u,d,m){return{instance:u,listener:d,currentTarget:m}}function im(u,d){for(var m=d+"Capture",x=[];u!==null;){var S=u,T=S.stateNode;S.tag===5&&T!==null&&(S=T,T=_e(u,m),T!=null&&x.unshift(Nf(u,T,S)),T=_e(u,d),T!=null&&x.push(Nf(u,T,S))),u=u.return}return x}function Ic(u){if(u===null)return null;do u=u.return;while(u&&u.tag!==5);return u||null}function NS(u,d,m,x,S){for(var T=d._reactName,A=[];m!==null&&m!==x;){var K=m,ie=K.alternate,be=K.stateNode;if(ie!==null&&ie===x)break;K.tag===5&&be!==null&&(K=be,S?(ie=_e(m,T),ie!=null&&A.unshift(Nf(m,ie,K))):S||(ie=_e(m,T),ie!=null&&A.push(Nf(m,ie,K)))),m=m.return}A.length!==0&&u.push({event:d,listeners:A})}var BP=/\r\n?/g,zP=/\u0000|\uFFFD/g;function PS(u){return(typeof u=="string"?u:""+u).replace(BP,`
`).replace(zP,"")}function sm(u,d,m){if(d=PS(d),PS(u)!==d&&m)throw Error(n(425))}function om(){}var k1=null,E1=null;function T1(u,d){return u==="textarea"||u==="noscript"||typeof d.children=="string"||typeof d.children=="number"||typeof d.dangerouslySetInnerHTML=="object"&&d.dangerouslySetInnerHTML!==null&&d.dangerouslySetInnerHTML.__html!=null}var j1=typeof setTimeout=="function"?setTimeout:void 0,$P=typeof clearTimeout=="function"?clearTimeout:void 0,RS=typeof Promise=="function"?Promise:void 0,UP=typeof queueMicrotask=="function"?queueMicrotask:typeof RS<"u"?function(u){return RS.resolve(null).then(u).catch(HP)}:j1;function HP(u){setTimeout(function(){throw u})}function I1(u,d){var m=d,x=0;do{var S=m.nextSibling;if(u.removeChild(m),S&&S.nodeType===8)if(m=S.data,m==="/$"){if(x===0){u.removeChild(S),Ia(d);return}x--}else m!=="$"&&m!=="$?"&&m!=="$!"||x++;m=S}while(m);Ia(d)}function Da(u){for(;u!=null;u=u.nextSibling){var d=u.nodeType;if(d===1||d===3)break;if(d===8){if(d=u.data,d==="$"||d==="$!"||d==="$?")break;if(d==="/$")return null}}return u}function OS(u){u=u.previousSibling;for(var d=0;u;){if(u.nodeType===8){var m=u.data;if(m==="$"||m==="$!"||m==="$?"){if(d===0)return u;d--}else m==="/$"&&d++}u=u.previousSibling}return null}var Nc=Math.random().toString(36).slice(2),go="__reactFiber$"+Nc,Pf="__reactProps$"+Nc,Uo="__reactContainer$"+Nc,N1="__reactEvents$"+Nc,WP="__reactListeners$"+Nc,VP="__reactHandles$"+Nc;function Zl(u){var d=u[go];if(d)return d;for(var m=u.parentNode;m;){if(d=m[Uo]||m[go]){if(m=d.alternate,d.child!==null||m!==null&&m.child!==null)for(u=OS(u);u!==null;){if(m=u[go])return m;u=OS(u)}return d}u=m,m=u.parentNode}return null}function Rf(u){return u=u[go]||u[Uo],!u||u.tag!==5&&u.tag!==6&&u.tag!==13&&u.tag!==3?null:u}function Pc(u){if(u.tag===5||u.tag===6)return u.stateNode;throw Error(n(33))}function am(u){return u[Pf]||null}var P1=[],Rc=-1;function La(u){return{current:u}}function Fn(u){0>Rc||(u.current=P1[Rc],P1[Rc]=null,Rc--)}function In(u,d){Rc++,P1[Rc]=u.current,u.current=d}var Fa={},Gr=La(Fa),Ei=La(!1),eu=Fa;function Oc(u,d){var m=u.type.contextTypes;if(!m)return Fa;var x=u.stateNode;if(x&&x.__reactInternalMemoizedUnmaskedChildContext===d)return x.__reactInternalMemoizedMaskedChildContext;var S={},T;for(T in m)S[T]=d[T];return x&&(u=u.stateNode,u.__reactInternalMemoizedUnmaskedChildContext=d,u.__reactInternalMemoizedMaskedChildContext=S),S}function Ti(u){return u=u.childContextTypes,u!=null}function lm(){Fn(Ei),Fn(Gr)}function MS(u,d,m){if(Gr.current!==Fa)throw Error(n(168));In(Gr,d),In(Ei,m)}function AS(u,d,m){var x=u.stateNode;if(d=d.childContextTypes,typeof x.getChildContext!="function")return m;x=x.getChildContext();for(var S in x)if(!(S in d))throw Error(n(108,Ye(u)||"Unknown",S));return F({},m,x)}function um(u){return u=(u=u.stateNode)&&u.__reactInternalMemoizedMergedChildContext||Fa,eu=Gr.current,In(Gr,u),In(Ei,Ei.current),!0}function DS(u,d,m){var x=u.stateNode;if(!x)throw Error(n(169));m?(u=AS(u,d,eu),x.__reactInternalMemoizedMergedChildContext=u,Fn(Ei),Fn(Gr),In(Gr,u)):Fn(Ei),In(Ei,m)}var Ho=null,cm=!1,R1=!1;function LS(u){Ho===null?Ho=[u]:Ho.push(u)}function qP(u){cm=!0,LS(u)}function Ba(){if(!R1&&Ho!==null){R1=!0;var u=0,d=xn;try{var m=Ho;for(xn=1;u<m.length;u++){var x=m[u];do x=x(!0);while(x!==null)}Ho=null,cm=!1}catch(S){throw Ho!==null&&(Ho=Ho.slice(u+1)),Ds(di,Ba),S}finally{xn=d,R1=!1}}return null}var Mc=[],Ac=0,dm=null,fm=0,vs=[],xs=0,tu=null,Wo=1,Vo="";function nu(u,d){Mc[Ac++]=fm,Mc[Ac++]=dm,dm=u,fm=d}function FS(u,d,m){vs[xs++]=Wo,vs[xs++]=Vo,vs[xs++]=tu,tu=u;var x=Wo;u=Vo;var S=32-mt(x)-1;x&=~(1<<S),m+=1;var T=32-mt(d)+S;if(30<T){var A=S-S%5;T=(x&(1<<A)-1).toString(32),x>>=A,S-=A,Wo=1<<32-mt(d)+S|m<<S|x,Vo=T+u}else Wo=1<<T|m<<S|x,Vo=u}function O1(u){u.return!==null&&(nu(u,1),FS(u,1,0))}function M1(u){for(;u===dm;)dm=Mc[--Ac],Mc[Ac]=null,fm=Mc[--Ac],Mc[Ac]=null;for(;u===tu;)tu=vs[--xs],vs[xs]=null,Vo=vs[--xs],vs[xs]=null,Wo=vs[--xs],vs[xs]=null}var ts=null,ns=null,Hn=!1,Ws=null;function BS(u,d){var m=Ss(5,null,null,0);m.elementType="DELETED",m.stateNode=d,m.return=u,d=u.deletions,d===null?(u.deletions=[m],u.flags|=16):d.push(m)}function zS(u,d){switch(u.tag){case 5:var m=u.type;return d=d.nodeType!==1||m.toLowerCase()!==d.nodeName.toLowerCase()?null:d,d!==null?(u.stateNode=d,ts=u,ns=Da(d.firstChild),!0):!1;case 6:return d=u.pendingProps===""||d.nodeType!==3?null:d,d!==null?(u.stateNode=d,ts=u,ns=null,!0):!1;case 13:return d=d.nodeType!==8?null:d,d!==null?(m=tu!==null?{id:Wo,overflow:Vo}:null,u.memoizedState={dehydrated:d,treeContext:m,retryLane:1073741824},m=Ss(18,null,null,0),m.stateNode=d,m.return=u,u.child=m,ts=u,ns=null,!0):!1;default:return!1}}function A1(u){return(u.mode&1)!==0&&(u.flags&128)===0}function D1(u){if(Hn){var d=ns;if(d){var m=d;if(!zS(u,d)){if(A1(u))throw Error(n(418));d=Da(m.nextSibling);var x=ts;d&&zS(u,d)?BS(x,m):(u.flags=u.flags&-4097|2,Hn=!1,ts=u)}}else{if(A1(u))throw Error(n(418));u.flags=u.flags&-4097|2,Hn=!1,ts=u}}}function $S(u){for(u=u.return;u!==null&&u.tag!==5&&u.tag!==3&&u.tag!==13;)u=u.return;ts=u}function hm(u){if(u!==ts)return!1;if(!Hn)return $S(u),Hn=!0,!1;var d;if((d=u.tag!==3)&&!(d=u.tag!==5)&&(d=u.type,d=d!=="head"&&d!=="body"&&!T1(u.type,u.memoizedProps)),d&&(d=ns)){if(A1(u))throw US(),Error(n(418));for(;d;)BS(u,d),d=Da(d.nextSibling)}if($S(u),u.tag===13){if(u=u.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(n(317));e:{for(u=u.nextSibling,d=0;u;){if(u.nodeType===8){var m=u.data;if(m==="/$"){if(d===0){ns=Da(u.nextSibling);break e}d--}else m!=="$"&&m!=="$!"&&m!=="$?"||d++}u=u.nextSibling}ns=null}}else ns=ts?Da(u.stateNode.nextSibling):null;return!0}function US(){for(var u=ns;u;)u=Da(u.nextSibling)}function Dc(){ns=ts=null,Hn=!1}function L1(u){Ws===null?Ws=[u]:Ws.push(u)}var QP=$.ReactCurrentBatchConfig;function Of(u,d,m){if(u=m.ref,u!==null&&typeof u!="function"&&typeof u!="object"){if(m._owner){if(m=m._owner,m){if(m.tag!==1)throw Error(n(309));var x=m.stateNode}if(!x)throw Error(n(147,u));var S=x,T=""+u;return d!==null&&d.ref!==null&&typeof d.ref=="function"&&d.ref._stringRef===T?d.ref:(d=function(A){var K=S.refs;A===null?delete K[T]:K[T]=A},d._stringRef=T,d)}if(typeof u!="string")throw Error(n(284));if(!m._owner)throw Error(n(290,u))}return u}function pm(u,d){throw u=Object.prototype.toString.call(d),Error(n(31,u==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":u))}function HS(u){var d=u._init;return d(u._payload)}function WS(u){function d(ge,le){if(u){var xe=ge.deletions;xe===null?(ge.deletions=[le],ge.flags|=16):xe.push(le)}}function m(ge,le){if(!u)return null;for(;le!==null;)d(ge,le),le=le.sibling;return null}function x(ge,le){for(ge=new Map;le!==null;)le.key!==null?ge.set(le.key,le):ge.set(le.index,le),le=le.sibling;return ge}function S(ge,le){return ge=Qa(ge,le),ge.index=0,ge.sibling=null,ge}function T(ge,le,xe){return ge.index=xe,u?(xe=ge.alternate,xe!==null?(xe=xe.index,xe<le?(ge.flags|=2,le):xe):(ge.flags|=2,le)):(ge.flags|=1048576,le)}function A(ge){return u&&ge.alternate===null&&(ge.flags|=2),ge}function K(ge,le,xe,Ue){return le===null||le.tag!==6?(le=jv(xe,ge.mode,Ue),le.return=ge,le):(le=S(le,xe),le.return=ge,le)}function ie(ge,le,xe,Ue){var ot=xe.type;return ot===M?Oe(ge,le,xe.props.children,Ue,xe.key):le!==null&&(le.elementType===ot||typeof ot=="object"&&ot!==null&&ot.$$typeof===Q&&HS(ot)===le.type)?(Ue=S(le,xe.props),Ue.ref=Of(ge,le,xe),Ue.return=ge,Ue):(Ue=Fm(xe.type,xe.key,xe.props,null,ge.mode,Ue),Ue.ref=Of(ge,le,xe),Ue.return=ge,Ue)}function be(ge,le,xe,Ue){return le===null||le.tag!==4||le.stateNode.containerInfo!==xe.containerInfo||le.stateNode.implementation!==xe.implementation?(le=Iv(xe,ge.mode,Ue),le.return=ge,le):(le=S(le,xe.children||[]),le.return=ge,le)}function Oe(ge,le,xe,Ue,ot){return le===null||le.tag!==7?(le=cu(xe,ge.mode,Ue,ot),le.return=ge,le):(le=S(le,xe),le.return=ge,le)}function De(ge,le,xe){if(typeof le=="string"&&le!==""||typeof le=="number")return le=jv(""+le,ge.mode,xe),le.return=ge,le;if(typeof le=="object"&&le!==null){switch(le.$$typeof){case B:return xe=Fm(le.type,le.key,le.props,null,ge.mode,xe),xe.ref=Of(ge,null,le),xe.return=ge,xe;case j:return le=Iv(le,ge.mode,xe),le.return=ge,le;case Q:var Ue=le._init;return De(ge,Ue(le._payload),xe)}if(wt(le)||fe(le))return le=cu(le,ge.mode,xe,null),le.return=ge,le;pm(ge,le)}return null}function Ne(ge,le,xe,Ue){var ot=le!==null?le.key:null;if(typeof xe=="string"&&xe!==""||typeof xe=="number")return ot!==null?null:K(ge,le,""+xe,Ue);if(typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case B:return xe.key===ot?ie(ge,le,xe,Ue):null;case j:return xe.key===ot?be(ge,le,xe,Ue):null;case Q:return ot=xe._init,Ne(ge,le,ot(xe._payload),Ue)}if(wt(xe)||fe(xe))return ot!==null?null:Oe(ge,le,xe,Ue,null);pm(ge,xe)}return null}function Je(ge,le,xe,Ue,ot){if(typeof Ue=="string"&&Ue!==""||typeof Ue=="number")return ge=ge.get(xe)||null,K(le,ge,""+Ue,ot);if(typeof Ue=="object"&&Ue!==null){switch(Ue.$$typeof){case B:return ge=ge.get(Ue.key===null?xe:Ue.key)||null,ie(le,ge,Ue,ot);case j:return ge=ge.get(Ue.key===null?xe:Ue.key)||null,be(le,ge,Ue,ot);case Q:var dt=Ue._init;return Je(ge,le,xe,dt(Ue._payload),ot)}if(wt(Ue)||fe(Ue))return ge=ge.get(xe)||null,Oe(le,ge,Ue,ot,null);pm(le,Ue)}return null}function rt(ge,le,xe,Ue){for(var ot=null,dt=null,ft=le,xt=le=0,Or=null;ft!==null&&xt<xe.length;xt++){ft.index>xt?(Or=ft,ft=null):Or=ft.sibling;var fn=Ne(ge,ft,xe[xt],Ue);if(fn===null){ft===null&&(ft=Or);break}u&&ft&&fn.alternate===null&&d(ge,ft),le=T(fn,le,xt),dt===null?ot=fn:dt.sibling=fn,dt=fn,ft=Or}if(xt===xe.length)return m(ge,ft),Hn&&nu(ge,xt),ot;if(ft===null){for(;xt<xe.length;xt++)ft=De(ge,xe[xt],Ue),ft!==null&&(le=T(ft,le,xt),dt===null?ot=ft:dt.sibling=ft,dt=ft);return Hn&&nu(ge,xt),ot}for(ft=x(ge,ft);xt<xe.length;xt++)Or=Je(ft,ge,xt,xe[xt],Ue),Or!==null&&(u&&Or.alternate!==null&&ft.delete(Or.key===null?xt:Or.key),le=T(Or,le,xt),dt===null?ot=Or:dt.sibling=Or,dt=Or);return u&&ft.forEach(function(Ka){return d(ge,Ka)}),Hn&&nu(ge,xt),ot}function st(ge,le,xe,Ue){var ot=fe(xe);if(typeof ot!="function")throw Error(n(150));if(xe=ot.call(xe),xe==null)throw Error(n(151));for(var dt=ot=null,ft=le,xt=le=0,Or=null,fn=xe.next();ft!==null&&!fn.done;xt++,fn=xe.next()){ft.index>xt?(Or=ft,ft=null):Or=ft.sibling;var Ka=Ne(ge,ft,fn.value,Ue);if(Ka===null){ft===null&&(ft=Or);break}u&&ft&&Ka.alternate===null&&d(ge,ft),le=T(Ka,le,xt),dt===null?ot=Ka:dt.sibling=Ka,dt=Ka,ft=Or}if(fn.done)return m(ge,ft),Hn&&nu(ge,xt),ot;if(ft===null){for(;!fn.done;xt++,fn=xe.next())fn=De(ge,fn.value,Ue),fn!==null&&(le=T(fn,le,xt),dt===null?ot=fn:dt.sibling=fn,dt=fn);return Hn&&nu(ge,xt),ot}for(ft=x(ge,ft);!fn.done;xt++,fn=xe.next())fn=Je(ft,ge,xt,fn.value,Ue),fn!==null&&(u&&fn.alternate!==null&&ft.delete(fn.key===null?xt:fn.key),le=T(fn,le,xt),dt===null?ot=fn:dt.sibling=fn,dt=fn);return u&&ft.forEach(function(ER){return d(ge,ER)}),Hn&&nu(ge,xt),ot}function ar(ge,le,xe,Ue){if(typeof xe=="object"&&xe!==null&&xe.type===M&&xe.key===null&&(xe=xe.props.children),typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case B:e:{for(var ot=xe.key,dt=le;dt!==null;){if(dt.key===ot){if(ot=xe.type,ot===M){if(dt.tag===7){m(ge,dt.sibling),le=S(dt,xe.props.children),le.return=ge,ge=le;break e}}else if(dt.elementType===ot||typeof ot=="object"&&ot!==null&&ot.$$typeof===Q&&HS(ot)===dt.type){m(ge,dt.sibling),le=S(dt,xe.props),le.ref=Of(ge,dt,xe),le.return=ge,ge=le;break e}m(ge,dt);break}else d(ge,dt);dt=dt.sibling}xe.type===M?(le=cu(xe.props.children,ge.mode,Ue,xe.key),le.return=ge,ge=le):(Ue=Fm(xe.type,xe.key,xe.props,null,ge.mode,Ue),Ue.ref=Of(ge,le,xe),Ue.return=ge,ge=Ue)}return A(ge);case j:e:{for(dt=xe.key;le!==null;){if(le.key===dt)if(le.tag===4&&le.stateNode.containerInfo===xe.containerInfo&&le.stateNode.implementation===xe.implementation){m(ge,le.sibling),le=S(le,xe.children||[]),le.return=ge,ge=le;break e}else{m(ge,le);break}else d(ge,le);le=le.sibling}le=Iv(xe,ge.mode,Ue),le.return=ge,ge=le}return A(ge);case Q:return dt=xe._init,ar(ge,le,dt(xe._payload),Ue)}if(wt(xe))return rt(ge,le,xe,Ue);if(fe(xe))return st(ge,le,xe,Ue);pm(ge,xe)}return typeof xe=="string"&&xe!==""||typeof xe=="number"?(xe=""+xe,le!==null&&le.tag===6?(m(ge,le.sibling),le=S(le,xe),le.return=ge,ge=le):(m(ge,le),le=jv(xe,ge.mode,Ue),le.return=ge,ge=le),A(ge)):m(ge,le)}return ar}var Lc=WS(!0),VS=WS(!1),mm=La(null),gm=null,Fc=null,F1=null;function B1(){F1=Fc=gm=null}function z1(u){var d=mm.current;Fn(mm),u._currentValue=d}function $1(u,d,m){for(;u!==null;){var x=u.alternate;if((u.childLanes&d)!==d?(u.childLanes|=d,x!==null&&(x.childLanes|=d)):x!==null&&(x.childLanes&d)!==d&&(x.childLanes|=d),u===m)break;u=u.return}}function Bc(u,d){gm=u,F1=Fc=null,u=u.dependencies,u!==null&&u.firstContext!==null&&((u.lanes&d)!==0&&(ji=!0),u.firstContext=null)}function bs(u){var d=u._currentValue;if(F1!==u)if(u={context:u,memoizedValue:d,next:null},Fc===null){if(gm===null)throw Error(n(308));Fc=u,gm.dependencies={lanes:0,firstContext:u}}else Fc=Fc.next=u;return d}var ru=null;function U1(u){ru===null?ru=[u]:ru.push(u)}function qS(u,d,m,x){var S=d.interleaved;return S===null?(m.next=m,U1(d)):(m.next=S.next,S.next=m),d.interleaved=m,qo(u,x)}function qo(u,d){u.lanes|=d;var m=u.alternate;for(m!==null&&(m.lanes|=d),m=u,u=u.return;u!==null;)u.childLanes|=d,m=u.alternate,m!==null&&(m.childLanes|=d),m=u,u=u.return;return m.tag===3?m.stateNode:null}var za=!1;function H1(u){u.updateQueue={baseState:u.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function QS(u,d){u=u.updateQueue,d.updateQueue===u&&(d.updateQueue={baseState:u.baseState,firstBaseUpdate:u.firstBaseUpdate,lastBaseUpdate:u.lastBaseUpdate,shared:u.shared,effects:u.effects})}function Qo(u,d){return{eventTime:u,lane:d,tag:0,payload:null,callback:null,next:null}}function $a(u,d,m){var x=u.updateQueue;if(x===null)return null;if(x=x.shared,(dn&2)!==0){var S=x.pending;return S===null?d.next=d:(d.next=S.next,S.next=d),x.pending=d,qo(u,m)}return S=x.interleaved,S===null?(d.next=d,U1(x)):(d.next=S.next,S.next=d),x.interleaved=d,qo(u,m)}function ym(u,d,m){if(d=d.updateQueue,d!==null&&(d=d.shared,(m&4194240)!==0)){var x=d.lanes;x&=u.pendingLanes,m|=x,d.lanes=m,mc(u,m)}}function KS(u,d){var m=u.updateQueue,x=u.alternate;if(x!==null&&(x=x.updateQueue,m===x)){var S=null,T=null;if(m=m.firstBaseUpdate,m!==null){do{var A={eventTime:m.eventTime,lane:m.lane,tag:m.tag,payload:m.payload,callback:m.callback,next:null};T===null?S=T=A:T=T.next=A,m=m.next}while(m!==null);T===null?S=T=d:T=T.next=d}else S=T=d;m={baseState:x.baseState,firstBaseUpdate:S,lastBaseUpdate:T,shared:x.shared,effects:x.effects},u.updateQueue=m;return}u=m.lastBaseUpdate,u===null?m.firstBaseUpdate=d:u.next=d,m.lastBaseUpdate=d}function vm(u,d,m,x){var S=u.updateQueue;za=!1;var T=S.firstBaseUpdate,A=S.lastBaseUpdate,K=S.shared.pending;if(K!==null){S.shared.pending=null;var ie=K,be=ie.next;ie.next=null,A===null?T=be:A.next=be,A=ie;var Oe=u.alternate;Oe!==null&&(Oe=Oe.updateQueue,K=Oe.lastBaseUpdate,K!==A&&(K===null?Oe.firstBaseUpdate=be:K.next=be,Oe.lastBaseUpdate=ie))}if(T!==null){var De=S.baseState;A=0,Oe=be=ie=null,K=T;do{var Ne=K.lane,Je=K.eventTime;if((x&Ne)===Ne){Oe!==null&&(Oe=Oe.next={eventTime:Je,lane:0,tag:K.tag,payload:K.payload,callback:K.callback,next:null});e:{var rt=u,st=K;switch(Ne=d,Je=m,st.tag){case 1:if(rt=st.payload,typeof rt=="function"){De=rt.call(Je,De,Ne);break e}De=rt;break e;case 3:rt.flags=rt.flags&-65537|128;case 0:if(rt=st.payload,Ne=typeof rt=="function"?rt.call(Je,De,Ne):rt,Ne==null)break e;De=F({},De,Ne);break e;case 2:za=!0}}K.callback!==null&&K.lane!==0&&(u.flags|=64,Ne=S.effects,Ne===null?S.effects=[K]:Ne.push(K))}else Je={eventTime:Je,lane:Ne,tag:K.tag,payload:K.payload,callback:K.callback,next:null},Oe===null?(be=Oe=Je,ie=De):Oe=Oe.next=Je,A|=Ne;if(K=K.next,K===null){if(K=S.shared.pending,K===null)break;Ne=K,K=Ne.next,Ne.next=null,S.lastBaseUpdate=Ne,S.shared.pending=null}}while(!0);if(Oe===null&&(ie=De),S.baseState=ie,S.firstBaseUpdate=be,S.lastBaseUpdate=Oe,d=S.shared.interleaved,d!==null){S=d;do A|=S.lane,S=S.next;while(S!==d)}else T===null&&(S.shared.lanes=0);ou|=A,u.lanes=A,u.memoizedState=De}}function GS(u,d,m){if(u=d.effects,d.effects=null,u!==null)for(d=0;d<u.length;d++){var x=u[d],S=x.callback;if(S!==null){if(x.callback=null,x=m,typeof S!="function")throw Error(n(191,S));S.call(x)}}}var Mf={},yo=La(Mf),Af=La(Mf),Df=La(Mf);function iu(u){if(u===Mf)throw Error(n(174));return u}function W1(u,d){switch(In(Df,d),In(Af,u),In(yo,Mf),u=d.nodeType,u){case 9:case 11:d=(d=d.documentElement)?d.namespaceURI:Re(null,"");break;default:u=u===8?d.parentNode:d,d=u.namespaceURI||null,u=u.tagName,d=Re(d,u)}Fn(yo),In(yo,d)}function zc(){Fn(yo),Fn(Af),Fn(Df)}function YS(u){iu(Df.current);var d=iu(yo.current),m=Re(d,u.type);d!==m&&(In(Af,u),In(yo,m))}function V1(u){Af.current===u&&(Fn(yo),Fn(Af))}var Qn=La(0);function xm(u){for(var d=u;d!==null;){if(d.tag===13){var m=d.memoizedState;if(m!==null&&(m=m.dehydrated,m===null||m.data==="$?"||m.data==="$!"))return d}else if(d.tag===19&&d.memoizedProps.revealOrder!==void 0){if((d.flags&128)!==0)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===u)break;for(;d.sibling===null;){if(d.return===null||d.return===u)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}var q1=[];function Q1(){for(var u=0;u<q1.length;u++)q1[u]._workInProgressVersionPrimary=null;q1.length=0}var bm=$.ReactCurrentDispatcher,K1=$.ReactCurrentBatchConfig,su=0,Kn=null,wr=null,Pr=null,wm=!1,Lf=!1,Ff=0,KP=0;function Yr(){throw Error(n(321))}function G1(u,d){if(d===null)return!1;for(var m=0;m<d.length&&m<u.length;m++)if(!X(u[m],d[m]))return!1;return!0}function Y1(u,d,m,x,S,T){if(su=T,Kn=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,bm.current=u===null||u.memoizedState===null?JP:ZP,u=m(x,S),Lf){T=0;do{if(Lf=!1,Ff=0,25<=T)throw Error(n(301));T+=1,Pr=wr=null,d.updateQueue=null,bm.current=eR,u=m(x,S)}while(Lf)}if(bm.current=Cm,d=wr!==null&&wr.next!==null,su=0,Pr=wr=Kn=null,wm=!1,d)throw Error(n(300));return u}function X1(){var u=Ff!==0;return Ff=0,u}function vo(){var u={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pr===null?Kn.memoizedState=Pr=u:Pr=Pr.next=u,Pr}function ws(){if(wr===null){var u=Kn.alternate;u=u!==null?u.memoizedState:null}else u=wr.next;var d=Pr===null?Kn.memoizedState:Pr.next;if(d!==null)Pr=d,wr=u;else{if(u===null)throw Error(n(310));wr=u,u={memoizedState:wr.memoizedState,baseState:wr.baseState,baseQueue:wr.baseQueue,queue:wr.queue,next:null},Pr===null?Kn.memoizedState=Pr=u:Pr=Pr.next=u}return Pr}function Bf(u,d){return typeof d=="function"?d(u):d}function J1(u){var d=ws(),m=d.queue;if(m===null)throw Error(n(311));m.lastRenderedReducer=u;var x=wr,S=x.baseQueue,T=m.pending;if(T!==null){if(S!==null){var A=S.next;S.next=T.next,T.next=A}x.baseQueue=S=T,m.pending=null}if(S!==null){T=S.next,x=x.baseState;var K=A=null,ie=null,be=T;do{var Oe=be.lane;if((su&Oe)===Oe)ie!==null&&(ie=ie.next={lane:0,action:be.action,hasEagerState:be.hasEagerState,eagerState:be.eagerState,next:null}),x=be.hasEagerState?be.eagerState:u(x,be.action);else{var De={lane:Oe,action:be.action,hasEagerState:be.hasEagerState,eagerState:be.eagerState,next:null};ie===null?(K=ie=De,A=x):ie=ie.next=De,Kn.lanes|=Oe,ou|=Oe}be=be.next}while(be!==null&&be!==T);ie===null?A=x:ie.next=K,X(x,d.memoizedState)||(ji=!0),d.memoizedState=x,d.baseState=A,d.baseQueue=ie,m.lastRenderedState=x}if(u=m.interleaved,u!==null){S=u;do T=S.lane,Kn.lanes|=T,ou|=T,S=S.next;while(S!==u)}else S===null&&(m.lanes=0);return[d.memoizedState,m.dispatch]}function Z1(u){var d=ws(),m=d.queue;if(m===null)throw Error(n(311));m.lastRenderedReducer=u;var x=m.dispatch,S=m.pending,T=d.memoizedState;if(S!==null){m.pending=null;var A=S=S.next;do T=u(T,A.action),A=A.next;while(A!==S);X(T,d.memoizedState)||(ji=!0),d.memoizedState=T,d.baseQueue===null&&(d.baseState=T),m.lastRenderedState=T}return[T,x]}function XS(){}function JS(u,d){var m=Kn,x=ws(),S=d(),T=!X(x.memoizedState,S);if(T&&(x.memoizedState=S,ji=!0),x=x.queue,ev(t3.bind(null,m,x,u),[u]),x.getSnapshot!==d||T||Pr!==null&&Pr.memoizedState.tag&1){if(m.flags|=2048,zf(9,e3.bind(null,m,x,S,d),void 0,null),Rr===null)throw Error(n(349));(su&30)!==0||ZS(m,d,S)}return S}function ZS(u,d,m){u.flags|=16384,u={getSnapshot:d,value:m},d=Kn.updateQueue,d===null?(d={lastEffect:null,stores:null},Kn.updateQueue=d,d.stores=[u]):(m=d.stores,m===null?d.stores=[u]:m.push(u))}function e3(u,d,m,x){d.value=m,d.getSnapshot=x,n3(d)&&r3(u)}function t3(u,d,m){return m(function(){n3(d)&&r3(u)})}function n3(u){var d=u.getSnapshot;u=u.value;try{var m=d();return!X(u,m)}catch{return!0}}function r3(u){var d=qo(u,1);d!==null&&Ks(d,u,1,-1)}function i3(u){var d=vo();return typeof u=="function"&&(u=u()),d.memoizedState=d.baseState=u,u={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Bf,lastRenderedState:u},d.queue=u,u=u.dispatch=XP.bind(null,Kn,u),[d.memoizedState,u]}function zf(u,d,m,x){return u={tag:u,create:d,destroy:m,deps:x,next:null},d=Kn.updateQueue,d===null?(d={lastEffect:null,stores:null},Kn.updateQueue=d,d.lastEffect=u.next=u):(m=d.lastEffect,m===null?d.lastEffect=u.next=u:(x=m.next,m.next=u,u.next=x,d.lastEffect=u)),u}function s3(){return ws().memoizedState}function _m(u,d,m,x){var S=vo();Kn.flags|=u,S.memoizedState=zf(1|d,m,void 0,x===void 0?null:x)}function Sm(u,d,m,x){var S=ws();x=x===void 0?null:x;var T=void 0;if(wr!==null){var A=wr.memoizedState;if(T=A.destroy,x!==null&&G1(x,A.deps)){S.memoizedState=zf(d,m,T,x);return}}Kn.flags|=u,S.memoizedState=zf(1|d,m,T,x)}function o3(u,d){return _m(8390656,8,u,d)}function ev(u,d){return Sm(2048,8,u,d)}function a3(u,d){return Sm(4,2,u,d)}function l3(u,d){return Sm(4,4,u,d)}function u3(u,d){if(typeof d=="function")return u=u(),d(u),function(){d(null)};if(d!=null)return u=u(),d.current=u,function(){d.current=null}}function c3(u,d,m){return m=m!=null?m.concat([u]):null,Sm(4,4,u3.bind(null,d,u),m)}function tv(){}function d3(u,d){var m=ws();d=d===void 0?null:d;var x=m.memoizedState;return x!==null&&d!==null&&G1(d,x[1])?x[0]:(m.memoizedState=[u,d],u)}function f3(u,d){var m=ws();d=d===void 0?null:d;var x=m.memoizedState;return x!==null&&d!==null&&G1(d,x[1])?x[0]:(u=u(),m.memoizedState=[u,d],u)}function h3(u,d,m){return(su&21)===0?(u.baseState&&(u.baseState=!1,ji=!0),u.memoizedState=m):(X(m,d)||(m=yf(),Kn.lanes|=m,ou|=m,u.baseState=!0),d)}function GP(u,d){var m=xn;xn=m!==0&&4>m?m:4,u(!0);var x=K1.transition;K1.transition={};try{u(!1),d()}finally{xn=m,K1.transition=x}}function p3(){return ws().memoizedState}function YP(u,d,m){var x=Va(u);if(m={lane:x,action:m,hasEagerState:!1,eagerState:null,next:null},m3(u))g3(d,m);else if(m=qS(u,d,m,x),m!==null){var S=pi();Ks(m,u,x,S),y3(m,d,x)}}function XP(u,d,m){var x=Va(u),S={lane:x,action:m,hasEagerState:!1,eagerState:null,next:null};if(m3(u))g3(d,S);else{var T=u.alternate;if(u.lanes===0&&(T===null||T.lanes===0)&&(T=d.lastRenderedReducer,T!==null))try{var A=d.lastRenderedState,K=T(A,m);if(S.hasEagerState=!0,S.eagerState=K,X(K,A)){var ie=d.interleaved;ie===null?(S.next=S,U1(d)):(S.next=ie.next,ie.next=S),d.interleaved=S;return}}catch{}finally{}m=qS(u,d,S,x),m!==null&&(S=pi(),Ks(m,u,x,S),y3(m,d,x))}}function m3(u){var d=u.alternate;return u===Kn||d!==null&&d===Kn}function g3(u,d){Lf=wm=!0;var m=u.pending;m===null?d.next=d:(d.next=m.next,m.next=d),u.pending=d}function y3(u,d,m){if((m&4194240)!==0){var x=d.lanes;x&=u.pendingLanes,m|=x,d.lanes=m,mc(u,m)}}var Cm={readContext:bs,useCallback:Yr,useContext:Yr,useEffect:Yr,useImperativeHandle:Yr,useInsertionEffect:Yr,useLayoutEffect:Yr,useMemo:Yr,useReducer:Yr,useRef:Yr,useState:Yr,useDebugValue:Yr,useDeferredValue:Yr,useTransition:Yr,useMutableSource:Yr,useSyncExternalStore:Yr,useId:Yr,unstable_isNewReconciler:!1},JP={readContext:bs,useCallback:function(u,d){return vo().memoizedState=[u,d===void 0?null:d],u},useContext:bs,useEffect:o3,useImperativeHandle:function(u,d,m){return m=m!=null?m.concat([u]):null,_m(4194308,4,u3.bind(null,d,u),m)},useLayoutEffect:function(u,d){return _m(4194308,4,u,d)},useInsertionEffect:function(u,d){return _m(4,2,u,d)},useMemo:function(u,d){var m=vo();return d=d===void 0?null:d,u=u(),m.memoizedState=[u,d],u},useReducer:function(u,d,m){var x=vo();return d=m!==void 0?m(d):d,x.memoizedState=x.baseState=d,u={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:u,lastRenderedState:d},x.queue=u,u=u.dispatch=YP.bind(null,Kn,u),[x.memoizedState,u]},useRef:function(u){var d=vo();return u={current:u},d.memoizedState=u},useState:i3,useDebugValue:tv,useDeferredValue:function(u){return vo().memoizedState=u},useTransition:function(){var u=i3(!1),d=u[0];return u=GP.bind(null,u[1]),vo().memoizedState=u,[d,u]},useMutableSource:function(){},useSyncExternalStore:function(u,d,m){var x=Kn,S=vo();if(Hn){if(m===void 0)throw Error(n(407));m=m()}else{if(m=d(),Rr===null)throw Error(n(349));(su&30)!==0||ZS(x,d,m)}S.memoizedState=m;var T={value:m,getSnapshot:d};return S.queue=T,o3(t3.bind(null,x,T,u),[u]),x.flags|=2048,zf(9,e3.bind(null,x,T,m,d),void 0,null),m},useId:function(){var u=vo(),d=Rr.identifierPrefix;if(Hn){var m=Vo,x=Wo;m=(x&~(1<<32-mt(x)-1)).toString(32)+m,d=":"+d+"R"+m,m=Ff++,0<m&&(d+="H"+m.toString(32)),d+=":"}else m=KP++,d=":"+d+"r"+m.toString(32)+":";return u.memoizedState=d},unstable_isNewReconciler:!1},ZP={readContext:bs,useCallback:d3,useContext:bs,useEffect:ev,useImperativeHandle:c3,useInsertionEffect:a3,useLayoutEffect:l3,useMemo:f3,useReducer:J1,useRef:s3,useState:function(){return J1(Bf)},useDebugValue:tv,useDeferredValue:function(u){var d=ws();return h3(d,wr.memoizedState,u)},useTransition:function(){var u=J1(Bf)[0],d=ws().memoizedState;return[u,d]},useMutableSource:XS,useSyncExternalStore:JS,useId:p3,unstable_isNewReconciler:!1},eR={readContext:bs,useCallback:d3,useContext:bs,useEffect:ev,useImperativeHandle:c3,useInsertionEffect:a3,useLayoutEffect:l3,useMemo:f3,useReducer:Z1,useRef:s3,useState:function(){return Z1(Bf)},useDebugValue:tv,useDeferredValue:function(u){var d=ws();return wr===null?d.memoizedState=u:h3(d,wr.memoizedState,u)},useTransition:function(){var u=Z1(Bf)[0],d=ws().memoizedState;return[u,d]},useMutableSource:XS,useSyncExternalStore:JS,useId:p3,unstable_isNewReconciler:!1};function Vs(u,d){if(u&&u.defaultProps){d=F({},d),u=u.defaultProps;for(var m in u)d[m]===void 0&&(d[m]=u[m]);return d}return d}function nv(u,d,m,x){d=u.memoizedState,m=m(x,d),m=m==null?d:F({},d,m),u.memoizedState=m,u.lanes===0&&(u.updateQueue.baseState=m)}var km={isMounted:function(u){return(u=u._reactInternals)?Ht(u)===u:!1},enqueueSetState:function(u,d,m){u=u._reactInternals;var x=pi(),S=Va(u),T=Qo(x,S);T.payload=d,m!=null&&(T.callback=m),d=$a(u,T,S),d!==null&&(Ks(d,u,S,x),ym(d,u,S))},enqueueReplaceState:function(u,d,m){u=u._reactInternals;var x=pi(),S=Va(u),T=Qo(x,S);T.tag=1,T.payload=d,m!=null&&(T.callback=m),d=$a(u,T,S),d!==null&&(Ks(d,u,S,x),ym(d,u,S))},enqueueForceUpdate:function(u,d){u=u._reactInternals;var m=pi(),x=Va(u),S=Qo(m,x);S.tag=2,d!=null&&(S.callback=d),d=$a(u,S,x),d!==null&&(Ks(d,u,x,m),ym(d,u,x))}};function v3(u,d,m,x,S,T,A){return u=u.stateNode,typeof u.shouldComponentUpdate=="function"?u.shouldComponentUpdate(x,T,A):d.prototype&&d.prototype.isPureReactComponent?!he(m,x)||!he(S,T):!0}function x3(u,d,m){var x=!1,S=Fa,T=d.contextType;return typeof T=="object"&&T!==null?T=bs(T):(S=Ti(d)?eu:Gr.current,x=d.contextTypes,T=(x=x!=null)?Oc(u,S):Fa),d=new d(m,T),u.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=km,u.stateNode=d,d._reactInternals=u,x&&(u=u.stateNode,u.__reactInternalMemoizedUnmaskedChildContext=S,u.__reactInternalMemoizedMaskedChildContext=T),d}function b3(u,d,m,x){u=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(m,x),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(m,x),d.state!==u&&km.enqueueReplaceState(d,d.state,null)}function rv(u,d,m,x){var S=u.stateNode;S.props=m,S.state=u.memoizedState,S.refs={},H1(u);var T=d.contextType;typeof T=="object"&&T!==null?S.context=bs(T):(T=Ti(d)?eu:Gr.current,S.context=Oc(u,T)),S.state=u.memoizedState,T=d.getDerivedStateFromProps,typeof T=="function"&&(nv(u,d,T,m),S.state=u.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof S.getSnapshotBeforeUpdate=="function"||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(d=S.state,typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount(),d!==S.state&&km.enqueueReplaceState(S,S.state,null),vm(u,m,S,x),S.state=u.memoizedState),typeof S.componentDidMount=="function"&&(u.flags|=4194308)}function $c(u,d){try{var m="",x=d;do m+=Ee(x),x=x.return;while(x);var S=m}catch(T){S=`
Error generating stack: `+T.message+`
`+T.stack}return{value:u,source:d,stack:S,digest:null}}function iv(u,d,m){return{value:u,source:null,stack:m??null,digest:d??null}}function sv(u,d){try{console.error(d.value)}catch(m){setTimeout(function(){throw m})}}var tR=typeof WeakMap=="function"?WeakMap:Map;function w3(u,d,m){m=Qo(-1,m),m.tag=3,m.payload={element:null};var x=d.value;return m.callback=function(){Rm||(Rm=!0,bv=x),sv(u,d)},m}function _3(u,d,m){m=Qo(-1,m),m.tag=3;var x=u.type.getDerivedStateFromError;if(typeof x=="function"){var S=d.value;m.payload=function(){return x(S)},m.callback=function(){sv(u,d)}}var T=u.stateNode;return T!==null&&typeof T.componentDidCatch=="function"&&(m.callback=function(){sv(u,d),typeof x!="function"&&(Ha===null?Ha=new Set([this]):Ha.add(this));var A=d.stack;this.componentDidCatch(d.value,{componentStack:A!==null?A:""})}),m}function S3(u,d,m){var x=u.pingCache;if(x===null){x=u.pingCache=new tR;var S=new Set;x.set(d,S)}else S=x.get(d),S===void 0&&(S=new Set,x.set(d,S));S.has(m)||(S.add(m),u=mR.bind(null,u,d,m),d.then(u,u))}function C3(u){do{var d;if((d=u.tag===13)&&(d=u.memoizedState,d=d!==null?d.dehydrated!==null:!0),d)return u;u=u.return}while(u!==null);return null}function k3(u,d,m,x,S){return(u.mode&1)===0?(u===d?u.flags|=65536:(u.flags|=128,m.flags|=131072,m.flags&=-52805,m.tag===1&&(m.alternate===null?m.tag=17:(d=Qo(-1,1),d.tag=2,$a(m,d,1))),m.lanes|=1),u):(u.flags|=65536,u.lanes=S,u)}var nR=$.ReactCurrentOwner,ji=!1;function hi(u,d,m,x){d.child=u===null?VS(d,null,m,x):Lc(d,u.child,m,x)}function E3(u,d,m,x,S){m=m.render;var T=d.ref;return Bc(d,S),x=Y1(u,d,m,x,T,S),m=X1(),u!==null&&!ji?(d.updateQueue=u.updateQueue,d.flags&=-2053,u.lanes&=~S,Ko(u,d,S)):(Hn&&m&&O1(d),d.flags|=1,hi(u,d,x,S),d.child)}function T3(u,d,m,x,S){if(u===null){var T=m.type;return typeof T=="function"&&!Tv(T)&&T.defaultProps===void 0&&m.compare===null&&m.defaultProps===void 0?(d.tag=15,d.type=T,j3(u,d,T,x,S)):(u=Fm(m.type,null,x,d,d.mode,S),u.ref=d.ref,u.return=d,d.child=u)}if(T=u.child,(u.lanes&S)===0){var A=T.memoizedProps;if(m=m.compare,m=m!==null?m:he,m(A,x)&&u.ref===d.ref)return Ko(u,d,S)}return d.flags|=1,u=Qa(T,x),u.ref=d.ref,u.return=d,d.child=u}function j3(u,d,m,x,S){if(u!==null){var T=u.memoizedProps;if(he(T,x)&&u.ref===d.ref)if(ji=!1,d.pendingProps=x=T,(u.lanes&S)!==0)(u.flags&131072)!==0&&(ji=!0);else return d.lanes=u.lanes,Ko(u,d,S)}return ov(u,d,m,x,S)}function I3(u,d,m){var x=d.pendingProps,S=x.children,T=u!==null?u.memoizedState:null;if(x.mode==="hidden")if((d.mode&1)===0)d.memoizedState={baseLanes:0,cachePool:null,transitions:null},In(Hc,rs),rs|=m;else{if((m&1073741824)===0)return u=T!==null?T.baseLanes|m:m,d.lanes=d.childLanes=1073741824,d.memoizedState={baseLanes:u,cachePool:null,transitions:null},d.updateQueue=null,In(Hc,rs),rs|=u,null;d.memoizedState={baseLanes:0,cachePool:null,transitions:null},x=T!==null?T.baseLanes:m,In(Hc,rs),rs|=x}else T!==null?(x=T.baseLanes|m,d.memoizedState=null):x=m,In(Hc,rs),rs|=x;return hi(u,d,S,m),d.child}function N3(u,d){var m=d.ref;(u===null&&m!==null||u!==null&&u.ref!==m)&&(d.flags|=512,d.flags|=2097152)}function ov(u,d,m,x,S){var T=Ti(m)?eu:Gr.current;return T=Oc(d,T),Bc(d,S),m=Y1(u,d,m,x,T,S),x=X1(),u!==null&&!ji?(d.updateQueue=u.updateQueue,d.flags&=-2053,u.lanes&=~S,Ko(u,d,S)):(Hn&&x&&O1(d),d.flags|=1,hi(u,d,m,S),d.child)}function P3(u,d,m,x,S){if(Ti(m)){var T=!0;um(d)}else T=!1;if(Bc(d,S),d.stateNode===null)Tm(u,d),x3(d,m,x),rv(d,m,x,S),x=!0;else if(u===null){var A=d.stateNode,K=d.memoizedProps;A.props=K;var ie=A.context,be=m.contextType;typeof be=="object"&&be!==null?be=bs(be):(be=Ti(m)?eu:Gr.current,be=Oc(d,be));var Oe=m.getDerivedStateFromProps,De=typeof Oe=="function"||typeof A.getSnapshotBeforeUpdate=="function";De||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(K!==x||ie!==be)&&b3(d,A,x,be),za=!1;var Ne=d.memoizedState;A.state=Ne,vm(d,x,A,S),ie=d.memoizedState,K!==x||Ne!==ie||Ei.current||za?(typeof Oe=="function"&&(nv(d,m,Oe,x),ie=d.memoizedState),(K=za||v3(d,m,K,x,Ne,ie,be))?(De||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount()),typeof A.componentDidMount=="function"&&(d.flags|=4194308)):(typeof A.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=x,d.memoizedState=ie),A.props=x,A.state=ie,A.context=be,x=K):(typeof A.componentDidMount=="function"&&(d.flags|=4194308),x=!1)}else{A=d.stateNode,QS(u,d),K=d.memoizedProps,be=d.type===d.elementType?K:Vs(d.type,K),A.props=be,De=d.pendingProps,Ne=A.context,ie=m.contextType,typeof ie=="object"&&ie!==null?ie=bs(ie):(ie=Ti(m)?eu:Gr.current,ie=Oc(d,ie));var Je=m.getDerivedStateFromProps;(Oe=typeof Je=="function"||typeof A.getSnapshotBeforeUpdate=="function")||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(K!==De||Ne!==ie)&&b3(d,A,x,ie),za=!1,Ne=d.memoizedState,A.state=Ne,vm(d,x,A,S);var rt=d.memoizedState;K!==De||Ne!==rt||Ei.current||za?(typeof Je=="function"&&(nv(d,m,Je,x),rt=d.memoizedState),(be=za||v3(d,m,be,x,Ne,rt,ie)||!1)?(Oe||typeof A.UNSAFE_componentWillUpdate!="function"&&typeof A.componentWillUpdate!="function"||(typeof A.componentWillUpdate=="function"&&A.componentWillUpdate(x,rt,ie),typeof A.UNSAFE_componentWillUpdate=="function"&&A.UNSAFE_componentWillUpdate(x,rt,ie)),typeof A.componentDidUpdate=="function"&&(d.flags|=4),typeof A.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof A.componentDidUpdate!="function"||K===u.memoizedProps&&Ne===u.memoizedState||(d.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||K===u.memoizedProps&&Ne===u.memoizedState||(d.flags|=1024),d.memoizedProps=x,d.memoizedState=rt),A.props=x,A.state=rt,A.context=ie,x=be):(typeof A.componentDidUpdate!="function"||K===u.memoizedProps&&Ne===u.memoizedState||(d.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||K===u.memoizedProps&&Ne===u.memoizedState||(d.flags|=1024),x=!1)}return av(u,d,m,x,T,S)}function av(u,d,m,x,S,T){N3(u,d);var A=(d.flags&128)!==0;if(!x&&!A)return S&&DS(d,m,!1),Ko(u,d,T);x=d.stateNode,nR.current=d;var K=A&&typeof m.getDerivedStateFromError!="function"?null:x.render();return d.flags|=1,u!==null&&A?(d.child=Lc(d,u.child,null,T),d.child=Lc(d,null,K,T)):hi(u,d,K,T),d.memoizedState=x.state,S&&DS(d,m,!0),d.child}function R3(u){var d=u.stateNode;d.pendingContext?MS(u,d.pendingContext,d.pendingContext!==d.context):d.context&&MS(u,d.context,!1),W1(u,d.containerInfo)}function O3(u,d,m,x,S){return Dc(),L1(S),d.flags|=256,hi(u,d,m,x),d.child}var lv={dehydrated:null,treeContext:null,retryLane:0};function uv(u){return{baseLanes:u,cachePool:null,transitions:null}}function M3(u,d,m){var x=d.pendingProps,S=Qn.current,T=!1,A=(d.flags&128)!==0,K;if((K=A)||(K=u!==null&&u.memoizedState===null?!1:(S&2)!==0),K?(T=!0,d.flags&=-129):(u===null||u.memoizedState!==null)&&(S|=1),In(Qn,S&1),u===null)return D1(d),u=d.memoizedState,u!==null&&(u=u.dehydrated,u!==null)?((d.mode&1)===0?d.lanes=1:u.data==="$!"?d.lanes=8:d.lanes=1073741824,null):(A=x.children,u=x.fallback,T?(x=d.mode,T=d.child,A={mode:"hidden",children:A},(x&1)===0&&T!==null?(T.childLanes=0,T.pendingProps=A):T=Bm(A,x,0,null),u=cu(u,x,m,null),T.return=d,u.return=d,T.sibling=u,d.child=T,d.child.memoizedState=uv(m),d.memoizedState=lv,u):cv(d,A));if(S=u.memoizedState,S!==null&&(K=S.dehydrated,K!==null))return rR(u,d,A,x,K,S,m);if(T){T=x.fallback,A=d.mode,S=u.child,K=S.sibling;var ie={mode:"hidden",children:x.children};return(A&1)===0&&d.child!==S?(x=d.child,x.childLanes=0,x.pendingProps=ie,d.deletions=null):(x=Qa(S,ie),x.subtreeFlags=S.subtreeFlags&14680064),K!==null?T=Qa(K,T):(T=cu(T,A,m,null),T.flags|=2),T.return=d,x.return=d,x.sibling=T,d.child=x,x=T,T=d.child,A=u.child.memoizedState,A=A===null?uv(m):{baseLanes:A.baseLanes|m,cachePool:null,transitions:A.transitions},T.memoizedState=A,T.childLanes=u.childLanes&~m,d.memoizedState=lv,x}return T=u.child,u=T.sibling,x=Qa(T,{mode:"visible",children:x.children}),(d.mode&1)===0&&(x.lanes=m),x.return=d,x.sibling=null,u!==null&&(m=d.deletions,m===null?(d.deletions=[u],d.flags|=16):m.push(u)),d.child=x,d.memoizedState=null,x}function cv(u,d){return d=Bm({mode:"visible",children:d},u.mode,0,null),d.return=u,u.child=d}function Em(u,d,m,x){return x!==null&&L1(x),Lc(d,u.child,null,m),u=cv(d,d.pendingProps.children),u.flags|=2,d.memoizedState=null,u}function rR(u,d,m,x,S,T,A){if(m)return d.flags&256?(d.flags&=-257,x=iv(Error(n(422))),Em(u,d,A,x)):d.memoizedState!==null?(d.child=u.child,d.flags|=128,null):(T=x.fallback,S=d.mode,x=Bm({mode:"visible",children:x.children},S,0,null),T=cu(T,S,A,null),T.flags|=2,x.return=d,T.return=d,x.sibling=T,d.child=x,(d.mode&1)!==0&&Lc(d,u.child,null,A),d.child.memoizedState=uv(A),d.memoizedState=lv,T);if((d.mode&1)===0)return Em(u,d,A,null);if(S.data==="$!"){if(x=S.nextSibling&&S.nextSibling.dataset,x)var K=x.dgst;return x=K,T=Error(n(419)),x=iv(T,x,void 0),Em(u,d,A,x)}if(K=(A&u.childLanes)!==0,ji||K){if(x=Rr,x!==null){switch(A&-A){case 4:S=2;break;case 16:S=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:S=32;break;case 536870912:S=268435456;break;default:S=0}S=(S&(x.suspendedLanes|A))!==0?0:S,S!==0&&S!==T.retryLane&&(T.retryLane=S,qo(u,S),Ks(x,u,S,-1))}return Ev(),x=iv(Error(n(421))),Em(u,d,A,x)}return S.data==="$?"?(d.flags|=128,d.child=u.child,d=gR.bind(null,u),S._reactRetry=d,null):(u=T.treeContext,ns=Da(S.nextSibling),ts=d,Hn=!0,Ws=null,u!==null&&(vs[xs++]=Wo,vs[xs++]=Vo,vs[xs++]=tu,Wo=u.id,Vo=u.overflow,tu=d),d=cv(d,x.children),d.flags|=4096,d)}function A3(u,d,m){u.lanes|=d;var x=u.alternate;x!==null&&(x.lanes|=d),$1(u.return,d,m)}function dv(u,d,m,x,S){var T=u.memoizedState;T===null?u.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:x,tail:m,tailMode:S}:(T.isBackwards=d,T.rendering=null,T.renderingStartTime=0,T.last=x,T.tail=m,T.tailMode=S)}function D3(u,d,m){var x=d.pendingProps,S=x.revealOrder,T=x.tail;if(hi(u,d,x.children,m),x=Qn.current,(x&2)!==0)x=x&1|2,d.flags|=128;else{if(u!==null&&(u.flags&128)!==0)e:for(u=d.child;u!==null;){if(u.tag===13)u.memoizedState!==null&&A3(u,m,d);else if(u.tag===19)A3(u,m,d);else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===d)break e;for(;u.sibling===null;){if(u.return===null||u.return===d)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}x&=1}if(In(Qn,x),(d.mode&1)===0)d.memoizedState=null;else switch(S){case"forwards":for(m=d.child,S=null;m!==null;)u=m.alternate,u!==null&&xm(u)===null&&(S=m),m=m.sibling;m=S,m===null?(S=d.child,d.child=null):(S=m.sibling,m.sibling=null),dv(d,!1,S,m,T);break;case"backwards":for(m=null,S=d.child,d.child=null;S!==null;){if(u=S.alternate,u!==null&&xm(u)===null){d.child=S;break}u=S.sibling,S.sibling=m,m=S,S=u}dv(d,!0,m,null,T);break;case"together":dv(d,!1,null,null,void 0);break;default:d.memoizedState=null}return d.child}function Tm(u,d){(d.mode&1)===0&&u!==null&&(u.alternate=null,d.alternate=null,d.flags|=2)}function Ko(u,d,m){if(u!==null&&(d.dependencies=u.dependencies),ou|=d.lanes,(m&d.childLanes)===0)return null;if(u!==null&&d.child!==u.child)throw Error(n(153));if(d.child!==null){for(u=d.child,m=Qa(u,u.pendingProps),d.child=m,m.return=d;u.sibling!==null;)u=u.sibling,m=m.sibling=Qa(u,u.pendingProps),m.return=d;m.sibling=null}return d.child}function iR(u,d,m){switch(d.tag){case 3:R3(d),Dc();break;case 5:YS(d);break;case 1:Ti(d.type)&&um(d);break;case 4:W1(d,d.stateNode.containerInfo);break;case 10:var x=d.type._context,S=d.memoizedProps.value;In(mm,x._currentValue),x._currentValue=S;break;case 13:if(x=d.memoizedState,x!==null)return x.dehydrated!==null?(In(Qn,Qn.current&1),d.flags|=128,null):(m&d.child.childLanes)!==0?M3(u,d,m):(In(Qn,Qn.current&1),u=Ko(u,d,m),u!==null?u.sibling:null);In(Qn,Qn.current&1);break;case 19:if(x=(m&d.childLanes)!==0,(u.flags&128)!==0){if(x)return D3(u,d,m);d.flags|=128}if(S=d.memoizedState,S!==null&&(S.rendering=null,S.tail=null,S.lastEffect=null),In(Qn,Qn.current),x)break;return null;case 22:case 23:return d.lanes=0,I3(u,d,m)}return Ko(u,d,m)}var L3,fv,F3,B3;L3=function(u,d){for(var m=d.child;m!==null;){if(m.tag===5||m.tag===6)u.appendChild(m.stateNode);else if(m.tag!==4&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===d)break;for(;m.sibling===null;){if(m.return===null||m.return===d)return;m=m.return}m.sibling.return=m.return,m=m.sibling}},fv=function(){},F3=function(u,d,m,x){var S=u.memoizedProps;if(S!==x){u=d.stateNode,iu(yo.current);var T=null;switch(m){case"input":S=ln(u,S),x=ln(u,x),T=[];break;case"select":S=F({},S,{value:void 0}),x=F({},x,{value:void 0}),T=[];break;case"textarea":S=pt(u,S),x=pt(u,x),T=[];break;default:typeof S.onClick!="function"&&typeof x.onClick=="function"&&(u.onclick=om)}qe(m,x);var A;m=null;for(be in S)if(!x.hasOwnProperty(be)&&S.hasOwnProperty(be)&&S[be]!=null)if(be==="style"){var K=S[be];for(A in K)K.hasOwnProperty(A)&&(m||(m={}),m[A]="")}else be!=="dangerouslySetInnerHTML"&&be!=="children"&&be!=="suppressContentEditableWarning"&&be!=="suppressHydrationWarning"&&be!=="autoFocus"&&(i.hasOwnProperty(be)?T||(T=[]):(T=T||[]).push(be,null));for(be in x){var ie=x[be];if(K=S?.[be],x.hasOwnProperty(be)&&ie!==K&&(ie!=null||K!=null))if(be==="style")if(K){for(A in K)!K.hasOwnProperty(A)||ie&&ie.hasOwnProperty(A)||(m||(m={}),m[A]="");for(A in ie)ie.hasOwnProperty(A)&&K[A]!==ie[A]&&(m||(m={}),m[A]=ie[A])}else m||(T||(T=[]),T.push(be,m)),m=ie;else be==="dangerouslySetInnerHTML"?(ie=ie?ie.__html:void 0,K=K?K.__html:void 0,ie!=null&&K!==ie&&(T=T||[]).push(be,ie)):be==="children"?typeof ie!="string"&&typeof ie!="number"||(T=T||[]).push(be,""+ie):be!=="suppressContentEditableWarning"&&be!=="suppressHydrationWarning"&&(i.hasOwnProperty(be)?(ie!=null&&be==="onScroll"&&Ln("scroll",u),T||K===ie||(T=[])):(T=T||[]).push(be,ie))}m&&(T=T||[]).push("style",m);var be=T;(d.updateQueue=be)&&(d.flags|=4)}},B3=function(u,d,m,x){m!==x&&(d.flags|=4)};function $f(u,d){if(!Hn)switch(u.tailMode){case"hidden":d=u.tail;for(var m=null;d!==null;)d.alternate!==null&&(m=d),d=d.sibling;m===null?u.tail=null:m.sibling=null;break;case"collapsed":m=u.tail;for(var x=null;m!==null;)m.alternate!==null&&(x=m),m=m.sibling;x===null?d||u.tail===null?u.tail=null:u.tail.sibling=null:x.sibling=null}}function Xr(u){var d=u.alternate!==null&&u.alternate.child===u.child,m=0,x=0;if(d)for(var S=u.child;S!==null;)m|=S.lanes|S.childLanes,x|=S.subtreeFlags&14680064,x|=S.flags&14680064,S.return=u,S=S.sibling;else for(S=u.child;S!==null;)m|=S.lanes|S.childLanes,x|=S.subtreeFlags,x|=S.flags,S.return=u,S=S.sibling;return u.subtreeFlags|=x,u.childLanes=m,d}function sR(u,d,m){var x=d.pendingProps;switch(M1(d),d.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xr(d),null;case 1:return Ti(d.type)&&lm(),Xr(d),null;case 3:return x=d.stateNode,zc(),Fn(Ei),Fn(Gr),Q1(),x.pendingContext&&(x.context=x.pendingContext,x.pendingContext=null),(u===null||u.child===null)&&(hm(d)?d.flags|=4:u===null||u.memoizedState.isDehydrated&&(d.flags&256)===0||(d.flags|=1024,Ws!==null&&(Sv(Ws),Ws=null))),fv(u,d),Xr(d),null;case 5:V1(d);var S=iu(Df.current);if(m=d.type,u!==null&&d.stateNode!=null)F3(u,d,m,x,S),u.ref!==d.ref&&(d.flags|=512,d.flags|=2097152);else{if(!x){if(d.stateNode===null)throw Error(n(166));return Xr(d),null}if(u=iu(yo.current),hm(d)){x=d.stateNode,m=d.type;var T=d.memoizedProps;switch(x[go]=d,x[Pf]=T,u=(d.mode&1)!==0,m){case"dialog":Ln("cancel",x),Ln("close",x);break;case"iframe":case"object":case"embed":Ln("load",x);break;case"video":case"audio":for(S=0;S<jf.length;S++)Ln(jf[S],x);break;case"source":Ln("error",x);break;case"img":case"image":case"link":Ln("error",x),Ln("load",x);break;case"details":Ln("toggle",x);break;case"input":wn(x,T),Ln("invalid",x);break;case"select":x._wrapperState={wasMultiple:!!T.multiple},Ln("invalid",x);break;case"textarea":zt(x,T),Ln("invalid",x)}qe(m,T),S=null;for(var A in T)if(T.hasOwnProperty(A)){var K=T[A];A==="children"?typeof K=="string"?x.textContent!==K&&(T.suppressHydrationWarning!==!0&&sm(x.textContent,K,u),S=["children",K]):typeof K=="number"&&x.textContent!==""+K&&(T.suppressHydrationWarning!==!0&&sm(x.textContent,K,u),S=["children",""+K]):i.hasOwnProperty(A)&&K!=null&&A==="onScroll"&&Ln("scroll",x)}switch(m){case"input":Cn(x),Ki(x,T,!0);break;case"textarea":Cn(x),Zn(x);break;case"select":case"option":break;default:typeof T.onClick=="function"&&(x.onclick=om)}x=S,d.updateQueue=x,x!==null&&(d.flags|=4)}else{A=S.nodeType===9?S:S.ownerDocument,u==="http://www.w3.org/1999/xhtml"&&(u=Ce(m)),u==="http://www.w3.org/1999/xhtml"?m==="script"?(u=A.createElement("div"),u.innerHTML="<script><\/script>",u=u.removeChild(u.firstChild)):typeof x.is=="string"?u=A.createElement(m,{is:x.is}):(u=A.createElement(m),m==="select"&&(A=u,x.multiple?A.multiple=!0:x.size&&(A.size=x.size))):u=A.createElementNS(u,m),u[go]=d,u[Pf]=x,L3(u,d,!1,!1),d.stateNode=u;e:{switch(A=sr(m,x),m){case"dialog":Ln("cancel",u),Ln("close",u),S=x;break;case"iframe":case"object":case"embed":Ln("load",u),S=x;break;case"video":case"audio":for(S=0;S<jf.length;S++)Ln(jf[S],u);S=x;break;case"source":Ln("error",u),S=x;break;case"img":case"image":case"link":Ln("error",u),Ln("load",u),S=x;break;case"details":Ln("toggle",u),S=x;break;case"input":wn(u,x),S=ln(u,x),Ln("invalid",u);break;case"option":S=x;break;case"select":u._wrapperState={wasMultiple:!!x.multiple},S=F({},x,{value:void 0}),Ln("invalid",u);break;case"textarea":zt(u,x),S=pt(u,x),Ln("invalid",u);break;default:S=x}qe(m,S),K=S;for(T in K)if(K.hasOwnProperty(T)){var ie=K[T];T==="style"?ui(u,ie):T==="dangerouslySetInnerHTML"?(ie=ie?ie.__html:void 0,ie!=null&&vt(u,ie)):T==="children"?typeof ie=="string"?(m!=="textarea"||ie!=="")&&Ut(u,ie):typeof ie=="number"&&Ut(u,""+ie):T!=="suppressContentEditableWarning"&&T!=="suppressHydrationWarning"&&T!=="autoFocus"&&(i.hasOwnProperty(T)?ie!=null&&T==="onScroll"&&Ln("scroll",u):ie!=null&&O(u,T,ie,A))}switch(m){case"input":Cn(u),Ki(u,x,!1);break;case"textarea":Cn(u),Zn(u);break;case"option":x.value!=null&&u.setAttribute("value",""+Ve(x.value));break;case"select":u.multiple=!!x.multiple,T=x.value,T!=null?un(u,!!x.multiple,T,!1):x.defaultValue!=null&&un(u,!!x.multiple,x.defaultValue,!0);break;default:typeof S.onClick=="function"&&(u.onclick=om)}switch(m){case"button":case"input":case"select":case"textarea":x=!!x.autoFocus;break e;case"img":x=!0;break e;default:x=!1}}x&&(d.flags|=4)}d.ref!==null&&(d.flags|=512,d.flags|=2097152)}return Xr(d),null;case 6:if(u&&d.stateNode!=null)B3(u,d,u.memoizedProps,x);else{if(typeof x!="string"&&d.stateNode===null)throw Error(n(166));if(m=iu(Df.current),iu(yo.current),hm(d)){if(x=d.stateNode,m=d.memoizedProps,x[go]=d,(T=x.nodeValue!==m)&&(u=ts,u!==null))switch(u.tag){case 3:sm(x.nodeValue,m,(u.mode&1)!==0);break;case 5:u.memoizedProps.suppressHydrationWarning!==!0&&sm(x.nodeValue,m,(u.mode&1)!==0)}T&&(d.flags|=4)}else x=(m.nodeType===9?m:m.ownerDocument).createTextNode(x),x[go]=d,d.stateNode=x}return Xr(d),null;case 13:if(Fn(Qn),x=d.memoizedState,u===null||u.memoizedState!==null&&u.memoizedState.dehydrated!==null){if(Hn&&ns!==null&&(d.mode&1)!==0&&(d.flags&128)===0)US(),Dc(),d.flags|=98560,T=!1;else if(T=hm(d),x!==null&&x.dehydrated!==null){if(u===null){if(!T)throw Error(n(318));if(T=d.memoizedState,T=T!==null?T.dehydrated:null,!T)throw Error(n(317));T[go]=d}else Dc(),(d.flags&128)===0&&(d.memoizedState=null),d.flags|=4;Xr(d),T=!1}else Ws!==null&&(Sv(Ws),Ws=null),T=!0;if(!T)return d.flags&65536?d:null}return(d.flags&128)!==0?(d.lanes=m,d):(x=x!==null,x!==(u!==null&&u.memoizedState!==null)&&x&&(d.child.flags|=8192,(d.mode&1)!==0&&(u===null||(Qn.current&1)!==0?_r===0&&(_r=3):Ev())),d.updateQueue!==null&&(d.flags|=4),Xr(d),null);case 4:return zc(),fv(u,d),u===null&&If(d.stateNode.containerInfo),Xr(d),null;case 10:return z1(d.type._context),Xr(d),null;case 17:return Ti(d.type)&&lm(),Xr(d),null;case 19:if(Fn(Qn),T=d.memoizedState,T===null)return Xr(d),null;if(x=(d.flags&128)!==0,A=T.rendering,A===null)if(x)$f(T,!1);else{if(_r!==0||u!==null&&(u.flags&128)!==0)for(u=d.child;u!==null;){if(A=xm(u),A!==null){for(d.flags|=128,$f(T,!1),x=A.updateQueue,x!==null&&(d.updateQueue=x,d.flags|=4),d.subtreeFlags=0,x=m,m=d.child;m!==null;)T=m,u=x,T.flags&=14680066,A=T.alternate,A===null?(T.childLanes=0,T.lanes=u,T.child=null,T.subtreeFlags=0,T.memoizedProps=null,T.memoizedState=null,T.updateQueue=null,T.dependencies=null,T.stateNode=null):(T.childLanes=A.childLanes,T.lanes=A.lanes,T.child=A.child,T.subtreeFlags=0,T.deletions=null,T.memoizedProps=A.memoizedProps,T.memoizedState=A.memoizedState,T.updateQueue=A.updateQueue,T.type=A.type,u=A.dependencies,T.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext}),m=m.sibling;return In(Qn,Qn.current&1|2),d.child}u=u.sibling}T.tail!==null&&Qt()>Wc&&(d.flags|=128,x=!0,$f(T,!1),d.lanes=4194304)}else{if(!x)if(u=xm(A),u!==null){if(d.flags|=128,x=!0,m=u.updateQueue,m!==null&&(d.updateQueue=m,d.flags|=4),$f(T,!0),T.tail===null&&T.tailMode==="hidden"&&!A.alternate&&!Hn)return Xr(d),null}else 2*Qt()-T.renderingStartTime>Wc&&m!==1073741824&&(d.flags|=128,x=!0,$f(T,!1),d.lanes=4194304);T.isBackwards?(A.sibling=d.child,d.child=A):(m=T.last,m!==null?m.sibling=A:d.child=A,T.last=A)}return T.tail!==null?(d=T.tail,T.rendering=d,T.tail=d.sibling,T.renderingStartTime=Qt(),d.sibling=null,m=Qn.current,In(Qn,x?m&1|2:m&1),d):(Xr(d),null);case 22:case 23:return kv(),x=d.memoizedState!==null,u!==null&&u.memoizedState!==null!==x&&(d.flags|=8192),x&&(d.mode&1)!==0?(rs&1073741824)!==0&&(Xr(d),d.subtreeFlags&6&&(d.flags|=8192)):Xr(d),null;case 24:return null;case 25:return null}throw Error(n(156,d.tag))}function oR(u,d){switch(M1(d),d.tag){case 1:return Ti(d.type)&&lm(),u=d.flags,u&65536?(d.flags=u&-65537|128,d):null;case 3:return zc(),Fn(Ei),Fn(Gr),Q1(),u=d.flags,(u&65536)!==0&&(u&128)===0?(d.flags=u&-65537|128,d):null;case 5:return V1(d),null;case 13:if(Fn(Qn),u=d.memoizedState,u!==null&&u.dehydrated!==null){if(d.alternate===null)throw Error(n(340));Dc()}return u=d.flags,u&65536?(d.flags=u&-65537|128,d):null;case 19:return Fn(Qn),null;case 4:return zc(),null;case 10:return z1(d.type._context),null;case 22:case 23:return kv(),null;case 24:return null;default:return null}}var jm=!1,Jr=!1,aR=typeof WeakSet=="function"?WeakSet:Set,et=null;function Uc(u,d){var m=u.ref;if(m!==null)if(typeof m=="function")try{m(null)}catch(x){tr(u,d,x)}else m.current=null}function hv(u,d,m){try{m()}catch(x){tr(u,d,x)}}var z3=!1;function lR(u,d){if(k1=ho,u=ue(),ve(u)){if("selectionStart"in u)var m={start:u.selectionStart,end:u.selectionEnd};else e:{m=(m=u.ownerDocument)&&m.defaultView||window;var x=m.getSelection&&m.getSelection();if(x&&x.rangeCount!==0){m=x.anchorNode;var S=x.anchorOffset,T=x.focusNode;x=x.focusOffset;try{m.nodeType,T.nodeType}catch{m=null;break e}var A=0,K=-1,ie=-1,be=0,Oe=0,De=u,Ne=null;t:for(;;){for(var Je;De!==m||S!==0&&De.nodeType!==3||(K=A+S),De!==T||x!==0&&De.nodeType!==3||(ie=A+x),De.nodeType===3&&(A+=De.nodeValue.length),(Je=De.firstChild)!==null;)Ne=De,De=Je;for(;;){if(De===u)break t;if(Ne===m&&++be===S&&(K=A),Ne===T&&++Oe===x&&(ie=A),(Je=De.nextSibling)!==null)break;De=Ne,Ne=De.parentNode}De=Je}m=K===-1||ie===-1?null:{start:K,end:ie}}else m=null}m=m||{start:0,end:0}}else m=null;for(E1={focusedElem:u,selectionRange:m},ho=!1,et=d;et!==null;)if(d=et,u=d.child,(d.subtreeFlags&1028)!==0&&u!==null)u.return=d,et=u;else for(;et!==null;){d=et;try{var rt=d.alternate;if((d.flags&1024)!==0)switch(d.tag){case 0:case 11:case 15:break;case 1:if(rt!==null){var st=rt.memoizedProps,ar=rt.memoizedState,ge=d.stateNode,le=ge.getSnapshotBeforeUpdate(d.elementType===d.type?st:Vs(d.type,st),ar);ge.__reactInternalSnapshotBeforeUpdate=le}break;case 3:var xe=d.stateNode.containerInfo;xe.nodeType===1?xe.textContent="":xe.nodeType===9&&xe.documentElement&&xe.removeChild(xe.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(Ue){tr(d,d.return,Ue)}if(u=d.sibling,u!==null){u.return=d.return,et=u;break}et=d.return}return rt=z3,z3=!1,rt}function Uf(u,d,m){var x=d.updateQueue;if(x=x!==null?x.lastEffect:null,x!==null){var S=x=x.next;do{if((S.tag&u)===u){var T=S.destroy;S.destroy=void 0,T!==void 0&&hv(d,m,T)}S=S.next}while(S!==x)}}function Im(u,d){if(d=d.updateQueue,d=d!==null?d.lastEffect:null,d!==null){var m=d=d.next;do{if((m.tag&u)===u){var x=m.create;m.destroy=x()}m=m.next}while(m!==d)}}function pv(u){var d=u.ref;if(d!==null){var m=u.stateNode;switch(u.tag){case 5:u=m;break;default:u=m}typeof d=="function"?d(u):d.current=u}}function $3(u){var d=u.alternate;d!==null&&(u.alternate=null,$3(d)),u.child=null,u.deletions=null,u.sibling=null,u.tag===5&&(d=u.stateNode,d!==null&&(delete d[go],delete d[Pf],delete d[N1],delete d[WP],delete d[VP])),u.stateNode=null,u.return=null,u.dependencies=null,u.memoizedProps=null,u.memoizedState=null,u.pendingProps=null,u.stateNode=null,u.updateQueue=null}function U3(u){return u.tag===5||u.tag===3||u.tag===4}function H3(u){e:for(;;){for(;u.sibling===null;){if(u.return===null||U3(u.return))return null;u=u.return}for(u.sibling.return=u.return,u=u.sibling;u.tag!==5&&u.tag!==6&&u.tag!==18;){if(u.flags&2||u.child===null||u.tag===4)continue e;u.child.return=u,u=u.child}if(!(u.flags&2))return u.stateNode}}function mv(u,d,m){var x=u.tag;if(x===5||x===6)u=u.stateNode,d?m.nodeType===8?m.parentNode.insertBefore(u,d):m.insertBefore(u,d):(m.nodeType===8?(d=m.parentNode,d.insertBefore(u,m)):(d=m,d.appendChild(u)),m=m._reactRootContainer,m!=null||d.onclick!==null||(d.onclick=om));else if(x!==4&&(u=u.child,u!==null))for(mv(u,d,m),u=u.sibling;u!==null;)mv(u,d,m),u=u.sibling}function gv(u,d,m){var x=u.tag;if(x===5||x===6)u=u.stateNode,d?m.insertBefore(u,d):m.appendChild(u);else if(x!==4&&(u=u.child,u!==null))for(gv(u,d,m),u=u.sibling;u!==null;)gv(u,d,m),u=u.sibling}var $r=null,qs=!1;function Ua(u,d,m){for(m=m.child;m!==null;)W3(u,d,m),m=m.sibling}function W3(u,d,m){if(tn&&typeof tn.onCommitFiberUnmount=="function")try{tn.onCommitFiberUnmount(Xi,m)}catch{}switch(m.tag){case 5:Jr||Uc(m,d);case 6:var x=$r,S=qs;$r=null,Ua(u,d,m),$r=x,qs=S,$r!==null&&(qs?(u=$r,m=m.stateNode,u.nodeType===8?u.parentNode.removeChild(m):u.removeChild(m)):$r.removeChild(m.stateNode));break;case 18:$r!==null&&(qs?(u=$r,m=m.stateNode,u.nodeType===8?I1(u.parentNode,m):u.nodeType===1&&I1(u,m),Ia(u)):I1($r,m.stateNode));break;case 4:x=$r,S=qs,$r=m.stateNode.containerInfo,qs=!0,Ua(u,d,m),$r=x,qs=S;break;case 0:case 11:case 14:case 15:if(!Jr&&(x=m.updateQueue,x!==null&&(x=x.lastEffect,x!==null))){S=x=x.next;do{var T=S,A=T.destroy;T=T.tag,A!==void 0&&((T&2)!==0||(T&4)!==0)&&hv(m,d,A),S=S.next}while(S!==x)}Ua(u,d,m);break;case 1:if(!Jr&&(Uc(m,d),x=m.stateNode,typeof x.componentWillUnmount=="function"))try{x.props=m.memoizedProps,x.state=m.memoizedState,x.componentWillUnmount()}catch(K){tr(m,d,K)}Ua(u,d,m);break;case 21:Ua(u,d,m);break;case 22:m.mode&1?(Jr=(x=Jr)||m.memoizedState!==null,Ua(u,d,m),Jr=x):Ua(u,d,m);break;default:Ua(u,d,m)}}function V3(u){var d=u.updateQueue;if(d!==null){u.updateQueue=null;var m=u.stateNode;m===null&&(m=u.stateNode=new aR),d.forEach(function(x){var S=yR.bind(null,u,x);m.has(x)||(m.add(x),x.then(S,S))})}}function Qs(u,d){var m=d.deletions;if(m!==null)for(var x=0;x<m.length;x++){var S=m[x];try{var T=u,A=d,K=A;e:for(;K!==null;){switch(K.tag){case 5:$r=K.stateNode,qs=!1;break e;case 3:$r=K.stateNode.containerInfo,qs=!0;break e;case 4:$r=K.stateNode.containerInfo,qs=!0;break e}K=K.return}if($r===null)throw Error(n(160));W3(T,A,S),$r=null,qs=!1;var ie=S.alternate;ie!==null&&(ie.return=null),S.return=null}catch(be){tr(S,d,be)}}if(d.subtreeFlags&12854)for(d=d.child;d!==null;)q3(d,u),d=d.sibling}function q3(u,d){var m=u.alternate,x=u.flags;switch(u.tag){case 0:case 11:case 14:case 15:if(Qs(d,u),xo(u),x&4){try{Uf(3,u,u.return),Im(3,u)}catch(st){tr(u,u.return,st)}try{Uf(5,u,u.return)}catch(st){tr(u,u.return,st)}}break;case 1:Qs(d,u),xo(u),x&512&&m!==null&&Uc(m,m.return);break;case 5:if(Qs(d,u),xo(u),x&512&&m!==null&&Uc(m,m.return),u.flags&32){var S=u.stateNode;try{Ut(S,"")}catch(st){tr(u,u.return,st)}}if(x&4&&(S=u.stateNode,S!=null)){var T=u.memoizedProps,A=m!==null?m.memoizedProps:T,K=u.type,ie=u.updateQueue;if(u.updateQueue=null,ie!==null)try{K==="input"&&T.type==="radio"&&T.name!=null&&Qi(S,T),sr(K,A);var be=sr(K,T);for(A=0;A<ie.length;A+=2){var Oe=ie[A],De=ie[A+1];Oe==="style"?ui(S,De):Oe==="dangerouslySetInnerHTML"?vt(S,De):Oe==="children"?Ut(S,De):O(S,Oe,De,be)}switch(K){case"input":li(S,T);break;case"textarea":Pt(S,T);break;case"select":var Ne=S._wrapperState.wasMultiple;S._wrapperState.wasMultiple=!!T.multiple;var Je=T.value;Je!=null?un(S,!!T.multiple,Je,!1):Ne!==!!T.multiple&&(T.defaultValue!=null?un(S,!!T.multiple,T.defaultValue,!0):un(S,!!T.multiple,T.multiple?[]:"",!1))}S[Pf]=T}catch(st){tr(u,u.return,st)}}break;case 6:if(Qs(d,u),xo(u),x&4){if(u.stateNode===null)throw Error(n(162));S=u.stateNode,T=u.memoizedProps;try{S.nodeValue=T}catch(st){tr(u,u.return,st)}}break;case 3:if(Qs(d,u),xo(u),x&4&&m!==null&&m.memoizedState.isDehydrated)try{Ia(d.containerInfo)}catch(st){tr(u,u.return,st)}break;case 4:Qs(d,u),xo(u);break;case 13:Qs(d,u),xo(u),S=u.child,S.flags&8192&&(T=S.memoizedState!==null,S.stateNode.isHidden=T,!T||S.alternate!==null&&S.alternate.memoizedState!==null||(xv=Qt())),x&4&&V3(u);break;case 22:if(Oe=m!==null&&m.memoizedState!==null,u.mode&1?(Jr=(be=Jr)||Oe,Qs(d,u),Jr=be):Qs(d,u),xo(u),x&8192){if(be=u.memoizedState!==null,(u.stateNode.isHidden=be)&&!Oe&&(u.mode&1)!==0)for(et=u,Oe=u.child;Oe!==null;){for(De=et=Oe;et!==null;){switch(Ne=et,Je=Ne.child,Ne.tag){case 0:case 11:case 14:case 15:Uf(4,Ne,Ne.return);break;case 1:Uc(Ne,Ne.return);var rt=Ne.stateNode;if(typeof rt.componentWillUnmount=="function"){x=Ne,m=Ne.return;try{d=x,rt.props=d.memoizedProps,rt.state=d.memoizedState,rt.componentWillUnmount()}catch(st){tr(x,m,st)}}break;case 5:Uc(Ne,Ne.return);break;case 22:if(Ne.memoizedState!==null){G3(De);continue}}Je!==null?(Je.return=Ne,et=Je):G3(De)}Oe=Oe.sibling}e:for(Oe=null,De=u;;){if(De.tag===5){if(Oe===null){Oe=De;try{S=De.stateNode,be?(T=S.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none"):(K=De.stateNode,ie=De.memoizedProps.style,A=ie!=null&&ie.hasOwnProperty("display")?ie.display:null,K.style.display=hr("display",A))}catch(st){tr(u,u.return,st)}}}else if(De.tag===6){if(Oe===null)try{De.stateNode.nodeValue=be?"":De.memoizedProps}catch(st){tr(u,u.return,st)}}else if((De.tag!==22&&De.tag!==23||De.memoizedState===null||De===u)&&De.child!==null){De.child.return=De,De=De.child;continue}if(De===u)break e;for(;De.sibling===null;){if(De.return===null||De.return===u)break e;Oe===De&&(Oe=null),De=De.return}Oe===De&&(Oe=null),De.sibling.return=De.return,De=De.sibling}}break;case 19:Qs(d,u),xo(u),x&4&&V3(u);break;case 21:break;default:Qs(d,u),xo(u)}}function xo(u){var d=u.flags;if(d&2){try{e:{for(var m=u.return;m!==null;){if(U3(m)){var x=m;break e}m=m.return}throw Error(n(160))}switch(x.tag){case 5:var S=x.stateNode;x.flags&32&&(Ut(S,""),x.flags&=-33);var T=H3(u);gv(u,T,S);break;case 3:case 4:var A=x.stateNode.containerInfo,K=H3(u);mv(u,K,A);break;default:throw Error(n(161))}}catch(ie){tr(u,u.return,ie)}u.flags&=-3}d&4096&&(u.flags&=-4097)}function uR(u,d,m){et=u,Q3(u)}function Q3(u,d,m){for(var x=(u.mode&1)!==0;et!==null;){var S=et,T=S.child;if(S.tag===22&&x){var A=S.memoizedState!==null||jm;if(!A){var K=S.alternate,ie=K!==null&&K.memoizedState!==null||Jr;K=jm;var be=Jr;if(jm=A,(Jr=ie)&&!be)for(et=S;et!==null;)A=et,ie=A.child,A.tag===22&&A.memoizedState!==null?Y3(S):ie!==null?(ie.return=A,et=ie):Y3(S);for(;T!==null;)et=T,Q3(T),T=T.sibling;et=S,jm=K,Jr=be}K3(u)}else(S.subtreeFlags&8772)!==0&&T!==null?(T.return=S,et=T):K3(u)}}function K3(u){for(;et!==null;){var d=et;if((d.flags&8772)!==0){var m=d.alternate;try{if((d.flags&8772)!==0)switch(d.tag){case 0:case 11:case 15:Jr||Im(5,d);break;case 1:var x=d.stateNode;if(d.flags&4&&!Jr)if(m===null)x.componentDidMount();else{var S=d.elementType===d.type?m.memoizedProps:Vs(d.type,m.memoizedProps);x.componentDidUpdate(S,m.memoizedState,x.__reactInternalSnapshotBeforeUpdate)}var T=d.updateQueue;T!==null&&GS(d,T,x);break;case 3:var A=d.updateQueue;if(A!==null){if(m=null,d.child!==null)switch(d.child.tag){case 5:m=d.child.stateNode;break;case 1:m=d.child.stateNode}GS(d,A,m)}break;case 5:var K=d.stateNode;if(m===null&&d.flags&4){m=K;var ie=d.memoizedProps;switch(d.type){case"button":case"input":case"select":case"textarea":ie.autoFocus&&m.focus();break;case"img":ie.src&&(m.src=ie.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(d.memoizedState===null){var be=d.alternate;if(be!==null){var Oe=be.memoizedState;if(Oe!==null){var De=Oe.dehydrated;De!==null&&Ia(De)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Jr||d.flags&512&&pv(d)}catch(Ne){tr(d,d.return,Ne)}}if(d===u){et=null;break}if(m=d.sibling,m!==null){m.return=d.return,et=m;break}et=d.return}}function G3(u){for(;et!==null;){var d=et;if(d===u){et=null;break}var m=d.sibling;if(m!==null){m.return=d.return,et=m;break}et=d.return}}function Y3(u){for(;et!==null;){var d=et;try{switch(d.tag){case 0:case 11:case 15:var m=d.return;try{Im(4,d)}catch(ie){tr(d,m,ie)}break;case 1:var x=d.stateNode;if(typeof x.componentDidMount=="function"){var S=d.return;try{x.componentDidMount()}catch(ie){tr(d,S,ie)}}var T=d.return;try{pv(d)}catch(ie){tr(d,T,ie)}break;case 5:var A=d.return;try{pv(d)}catch(ie){tr(d,A,ie)}}}catch(ie){tr(d,d.return,ie)}if(d===u){et=null;break}var K=d.sibling;if(K!==null){K.return=d.return,et=K;break}et=d.return}}var cR=Math.ceil,Nm=$.ReactCurrentDispatcher,yv=$.ReactCurrentOwner,_s=$.ReactCurrentBatchConfig,dn=0,Rr=null,mr=null,Ur=0,rs=0,Hc=La(0),_r=0,Hf=null,ou=0,Pm=0,vv=0,Wf=null,Ii=null,xv=0,Wc=1/0,Go=null,Rm=!1,bv=null,Ha=null,Om=!1,Wa=null,Mm=0,Vf=0,wv=null,Am=-1,Dm=0;function pi(){return(dn&6)!==0?Qt():Am!==-1?Am:Am=Qt()}function Va(u){return(u.mode&1)===0?1:(dn&2)!==0&&Ur!==0?Ur&-Ur:QP.transition!==null?(Dm===0&&(Dm=yf()),Dm):(u=xn,u!==0||(u=window.event,u=u===void 0?16:Wp(u.type)),u)}function Ks(u,d,m,x){if(50<Vf)throw Vf=0,wv=null,Error(n(185));Ta(u,m,x),((dn&2)===0||u!==Rr)&&(u===Rr&&((dn&2)===0&&(Pm|=m),_r===4&&qa(u,Ur)),Ni(u,x),m===1&&dn===0&&(d.mode&1)===0&&(Wc=Qt()+500,cm&&Ba()))}function Ni(u,d){var m=u.callbackNode;gf(u,d);var x=Fs(u,u===Rr?Ur:0);if(x===0)m!==null&&ci(m),u.callbackNode=null,u.callbackPriority=0;else if(d=x&-x,u.callbackPriority!==d){if(m!=null&&ci(m),d===1)u.tag===0?qP(J3.bind(null,u)):LS(J3.bind(null,u)),UP(function(){(dn&6)===0&&Ba()}),m=null;else{switch(nn(x)){case 1:m=di;break;case 4:m=ms;break;case 16:m=Kt;break;case 536870912:m=fi;break;default:m=Kt}m=o5(m,X3.bind(null,u))}u.callbackPriority=d,u.callbackNode=m}}function X3(u,d){if(Am=-1,Dm=0,(dn&6)!==0)throw Error(n(327));var m=u.callbackNode;if(Vc()&&u.callbackNode!==m)return null;var x=Fs(u,u===Rr?Ur:0);if(x===0)return null;if((x&30)!==0||(x&u.expiredLanes)!==0||d)d=Lm(u,x);else{d=x;var S=dn;dn|=2;var T=e5();(Rr!==u||Ur!==d)&&(Go=null,Wc=Qt()+500,lu(u,d));do try{hR();break}catch(K){Z3(u,K)}while(!0);B1(),Nm.current=T,dn=S,mr!==null?d=0:(Rr=null,Ur=0,d=_r)}if(d!==0){if(d===2&&(S=ka(u),S!==0&&(x=S,d=_v(u,S))),d===1)throw m=Hf,lu(u,0),qa(u,x),Ni(u,Qt()),m;if(d===6)qa(u,x);else{if(S=u.current.alternate,(x&30)===0&&!dR(S)&&(d=Lm(u,x),d===2&&(T=ka(u),T!==0&&(x=T,d=_v(u,T))),d===1))throw m=Hf,lu(u,0),qa(u,x),Ni(u,Qt()),m;switch(u.finishedWork=S,u.finishedLanes=x,d){case 0:case 1:throw Error(n(345));case 2:uu(u,Ii,Go);break;case 3:if(qa(u,x),(x&130023424)===x&&(d=xv+500-Qt(),10<d)){if(Fs(u,0)!==0)break;if(S=u.suspendedLanes,(S&x)!==x){pi(),u.pingedLanes|=u.suspendedLanes&S;break}u.timeoutHandle=j1(uu.bind(null,u,Ii,Go),d);break}uu(u,Ii,Go);break;case 4:if(qa(u,x),(x&4194240)===x)break;for(d=u.eventTimes,S=-1;0<x;){var A=31-mt(x);T=1<<A,A=d[A],A>S&&(S=A),x&=~T}if(x=S,x=Qt()-x,x=(120>x?120:480>x?480:1080>x?1080:1920>x?1920:3e3>x?3e3:4320>x?4320:1960*cR(x/1960))-x,10<x){u.timeoutHandle=j1(uu.bind(null,u,Ii,Go),x);break}uu(u,Ii,Go);break;case 5:uu(u,Ii,Go);break;default:throw Error(n(329))}}}return Ni(u,Qt()),u.callbackNode===m?X3.bind(null,u):null}function _v(u,d){var m=Wf;return u.current.memoizedState.isDehydrated&&(lu(u,d).flags|=256),u=Lm(u,d),u!==2&&(d=Ii,Ii=m,d!==null&&Sv(d)),u}function Sv(u){Ii===null?Ii=u:Ii.push.apply(Ii,u)}function dR(u){for(var d=u;;){if(d.flags&16384){var m=d.updateQueue;if(m!==null&&(m=m.stores,m!==null))for(var x=0;x<m.length;x++){var S=m[x],T=S.getSnapshot;S=S.value;try{if(!X(T(),S))return!1}catch{return!1}}}if(m=d.child,d.subtreeFlags&16384&&m!==null)m.return=d,d=m;else{if(d===u)break;for(;d.sibling===null;){if(d.return===null||d.return===u)return!0;d=d.return}d.sibling.return=d.return,d=d.sibling}}return!0}function qa(u,d){for(d&=~vv,d&=~Pm,u.suspendedLanes|=d,u.pingedLanes&=~d,u=u.expirationTimes;0<d;){var m=31-mt(d),x=1<<m;u[m]=-1,d&=~x}}function J3(u){if((dn&6)!==0)throw Error(n(327));Vc();var d=Fs(u,0);if((d&1)===0)return Ni(u,Qt()),null;var m=Lm(u,d);if(u.tag!==0&&m===2){var x=ka(u);x!==0&&(d=x,m=_v(u,x))}if(m===1)throw m=Hf,lu(u,0),qa(u,d),Ni(u,Qt()),m;if(m===6)throw Error(n(345));return u.finishedWork=u.current.alternate,u.finishedLanes=d,uu(u,Ii,Go),Ni(u,Qt()),null}function Cv(u,d){var m=dn;dn|=1;try{return u(d)}finally{dn=m,dn===0&&(Wc=Qt()+500,cm&&Ba())}}function au(u){Wa!==null&&Wa.tag===0&&(dn&6)===0&&Vc();var d=dn;dn|=1;var m=_s.transition,x=xn;try{if(_s.transition=null,xn=1,u)return u()}finally{xn=x,_s.transition=m,dn=d,(dn&6)===0&&Ba()}}function kv(){rs=Hc.current,Fn(Hc)}function lu(u,d){u.finishedWork=null,u.finishedLanes=0;var m=u.timeoutHandle;if(m!==-1&&(u.timeoutHandle=-1,$P(m)),mr!==null)for(m=mr.return;m!==null;){var x=m;switch(M1(x),x.tag){case 1:x=x.type.childContextTypes,x!=null&&lm();break;case 3:zc(),Fn(Ei),Fn(Gr),Q1();break;case 5:V1(x);break;case 4:zc();break;case 13:Fn(Qn);break;case 19:Fn(Qn);break;case 10:z1(x.type._context);break;case 22:case 23:kv()}m=m.return}if(Rr=u,mr=u=Qa(u.current,null),Ur=rs=d,_r=0,Hf=null,vv=Pm=ou=0,Ii=Wf=null,ru!==null){for(d=0;d<ru.length;d++)if(m=ru[d],x=m.interleaved,x!==null){m.interleaved=null;var S=x.next,T=m.pending;if(T!==null){var A=T.next;T.next=S,x.next=A}m.pending=x}ru=null}return u}function Z3(u,d){do{var m=mr;try{if(B1(),bm.current=Cm,wm){for(var x=Kn.memoizedState;x!==null;){var S=x.queue;S!==null&&(S.pending=null),x=x.next}wm=!1}if(su=0,Pr=wr=Kn=null,Lf=!1,Ff=0,yv.current=null,m===null||m.return===null){_r=1,Hf=d,mr=null;break}e:{var T=u,A=m.return,K=m,ie=d;if(d=Ur,K.flags|=32768,ie!==null&&typeof ie=="object"&&typeof ie.then=="function"){var be=ie,Oe=K,De=Oe.tag;if((Oe.mode&1)===0&&(De===0||De===11||De===15)){var Ne=Oe.alternate;Ne?(Oe.updateQueue=Ne.updateQueue,Oe.memoizedState=Ne.memoizedState,Oe.lanes=Ne.lanes):(Oe.updateQueue=null,Oe.memoizedState=null)}var Je=C3(A);if(Je!==null){Je.flags&=-257,k3(Je,A,K,T,d),Je.mode&1&&S3(T,be,d),d=Je,ie=be;var rt=d.updateQueue;if(rt===null){var st=new Set;st.add(ie),d.updateQueue=st}else rt.add(ie);break e}else{if((d&1)===0){S3(T,be,d),Ev();break e}ie=Error(n(426))}}else if(Hn&&K.mode&1){var ar=C3(A);if(ar!==null){(ar.flags&65536)===0&&(ar.flags|=256),k3(ar,A,K,T,d),L1($c(ie,K));break e}}T=ie=$c(ie,K),_r!==4&&(_r=2),Wf===null?Wf=[T]:Wf.push(T),T=A;do{switch(T.tag){case 3:T.flags|=65536,d&=-d,T.lanes|=d;var ge=w3(T,ie,d);KS(T,ge);break e;case 1:K=ie;var le=T.type,xe=T.stateNode;if((T.flags&128)===0&&(typeof le.getDerivedStateFromError=="function"||xe!==null&&typeof xe.componentDidCatch=="function"&&(Ha===null||!Ha.has(xe)))){T.flags|=65536,d&=-d,T.lanes|=d;var Ue=_3(T,K,d);KS(T,Ue);break e}}T=T.return}while(T!==null)}n5(m)}catch(ot){d=ot,mr===m&&m!==null&&(mr=m=m.return);continue}break}while(!0)}function e5(){var u=Nm.current;return Nm.current=Cm,u===null?Cm:u}function Ev(){(_r===0||_r===3||_r===2)&&(_r=4),Rr===null||(ou&268435455)===0&&(Pm&268435455)===0||qa(Rr,Ur)}function Lm(u,d){var m=dn;dn|=2;var x=e5();(Rr!==u||Ur!==d)&&(Go=null,lu(u,d));do try{fR();break}catch(S){Z3(u,S)}while(!0);if(B1(),dn=m,Nm.current=x,mr!==null)throw Error(n(261));return Rr=null,Ur=0,_r}function fR(){for(;mr!==null;)t5(mr)}function hR(){for(;mr!==null&&!sn();)t5(mr)}function t5(u){var d=s5(u.alternate,u,rs);u.memoizedProps=u.pendingProps,d===null?n5(u):mr=d,yv.current=null}function n5(u){var d=u;do{var m=d.alternate;if(u=d.return,(d.flags&32768)===0){if(m=sR(m,d,rs),m!==null){mr=m;return}}else{if(m=oR(m,d),m!==null){m.flags&=32767,mr=m;return}if(u!==null)u.flags|=32768,u.subtreeFlags=0,u.deletions=null;else{_r=6,mr=null;return}}if(d=d.sibling,d!==null){mr=d;return}mr=d=u}while(d!==null);_r===0&&(_r=5)}function uu(u,d,m){var x=xn,S=_s.transition;try{_s.transition=null,xn=1,pR(u,d,m,x)}finally{_s.transition=S,xn=x}return null}function pR(u,d,m,x){do Vc();while(Wa!==null);if((dn&6)!==0)throw Error(n(327));m=u.finishedWork;var S=u.finishedLanes;if(m===null)return null;if(u.finishedWork=null,u.finishedLanes=0,m===u.current)throw Error(n(177));u.callbackNode=null,u.callbackPriority=0;var T=m.lanes|m.childLanes;if(Fl(u,T),u===Rr&&(mr=Rr=null,Ur=0),(m.subtreeFlags&2064)===0&&(m.flags&2064)===0||Om||(Om=!0,o5(Kt,function(){return Vc(),null})),T=(m.flags&15990)!==0,(m.subtreeFlags&15990)!==0||T){T=_s.transition,_s.transition=null;var A=xn;xn=1;var K=dn;dn|=4,yv.current=null,lR(u,m),q3(m,u),we(E1),ho=!!k1,E1=k1=null,u.current=m,uR(m),Yi(),dn=K,xn=A,_s.transition=T}else u.current=m;if(Om&&(Om=!1,Wa=u,Mm=S),T=u.pendingLanes,T===0&&(Ha=null),Oo(m.stateNode),Ni(u,Qt()),d!==null)for(x=u.onRecoverableError,m=0;m<d.length;m++)S=d[m],x(S.value,{componentStack:S.stack,digest:S.digest});if(Rm)throw Rm=!1,u=bv,bv=null,u;return(Mm&1)!==0&&u.tag!==0&&Vc(),T=u.pendingLanes,(T&1)!==0?u===wv?Vf++:(Vf=0,wv=u):Vf=0,Ba(),null}function Vc(){if(Wa!==null){var u=nn(Mm),d=_s.transition,m=xn;try{if(_s.transition=null,xn=16>u?16:u,Wa===null)var x=!1;else{if(u=Wa,Wa=null,Mm=0,(dn&6)!==0)throw Error(n(331));var S=dn;for(dn|=4,et=u.current;et!==null;){var T=et,A=T.child;if((et.flags&16)!==0){var K=T.deletions;if(K!==null){for(var ie=0;ie<K.length;ie++){var be=K[ie];for(et=be;et!==null;){var Oe=et;switch(Oe.tag){case 0:case 11:case 15:Uf(8,Oe,T)}var De=Oe.child;if(De!==null)De.return=Oe,et=De;else for(;et!==null;){Oe=et;var Ne=Oe.sibling,Je=Oe.return;if($3(Oe),Oe===be){et=null;break}if(Ne!==null){Ne.return=Je,et=Ne;break}et=Je}}}var rt=T.alternate;if(rt!==null){var st=rt.child;if(st!==null){rt.child=null;do{var ar=st.sibling;st.sibling=null,st=ar}while(st!==null)}}et=T}}if((T.subtreeFlags&2064)!==0&&A!==null)A.return=T,et=A;else e:for(;et!==null;){if(T=et,(T.flags&2048)!==0)switch(T.tag){case 0:case 11:case 15:Uf(9,T,T.return)}var ge=T.sibling;if(ge!==null){ge.return=T.return,et=ge;break e}et=T.return}}var le=u.current;for(et=le;et!==null;){A=et;var xe=A.child;if((A.subtreeFlags&2064)!==0&&xe!==null)xe.return=A,et=xe;else e:for(A=le;et!==null;){if(K=et,(K.flags&2048)!==0)try{switch(K.tag){case 0:case 11:case 15:Im(9,K)}}catch(ot){tr(K,K.return,ot)}if(K===A){et=null;break e}var Ue=K.sibling;if(Ue!==null){Ue.return=K.return,et=Ue;break e}et=K.return}}if(dn=S,Ba(),tn&&typeof tn.onPostCommitFiberRoot=="function")try{tn.onPostCommitFiberRoot(Xi,u)}catch{}x=!0}return x}finally{xn=m,_s.transition=d}}return!1}function r5(u,d,m){d=$c(m,d),d=w3(u,d,1),u=$a(u,d,1),d=pi(),u!==null&&(Ta(u,1,d),Ni(u,d))}function tr(u,d,m){if(u.tag===3)r5(u,u,m);else for(;d!==null;){if(d.tag===3){r5(d,u,m);break}else if(d.tag===1){var x=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof x.componentDidCatch=="function"&&(Ha===null||!Ha.has(x))){u=$c(m,u),u=_3(d,u,1),d=$a(d,u,1),u=pi(),d!==null&&(Ta(d,1,u),Ni(d,u));break}}d=d.return}}function mR(u,d,m){var x=u.pingCache;x!==null&&x.delete(d),d=pi(),u.pingedLanes|=u.suspendedLanes&m,Rr===u&&(Ur&m)===m&&(_r===4||_r===3&&(Ur&130023424)===Ur&&500>Qt()-xv?lu(u,0):vv|=m),Ni(u,d)}function i5(u,d){d===0&&((u.mode&1)===0?d=1:(d=fo,fo<<=1,(fo&130023424)===0&&(fo=4194304)));var m=pi();u=qo(u,d),u!==null&&(Ta(u,d,m),Ni(u,m))}function gR(u){var d=u.memoizedState,m=0;d!==null&&(m=d.retryLane),i5(u,m)}function yR(u,d){var m=0;switch(u.tag){case 13:var x=u.stateNode,S=u.memoizedState;S!==null&&(m=S.retryLane);break;case 19:x=u.stateNode;break;default:throw Error(n(314))}x!==null&&x.delete(d),i5(u,m)}var s5;s5=function(u,d,m){if(u!==null)if(u.memoizedProps!==d.pendingProps||Ei.current)ji=!0;else{if((u.lanes&m)===0&&(d.flags&128)===0)return ji=!1,iR(u,d,m);ji=(u.flags&131072)!==0}else ji=!1,Hn&&(d.flags&1048576)!==0&&FS(d,fm,d.index);switch(d.lanes=0,d.tag){case 2:var x=d.type;Tm(u,d),u=d.pendingProps;var S=Oc(d,Gr.current);Bc(d,m),S=Y1(null,d,x,u,S,m);var T=X1();return d.flags|=1,typeof S=="object"&&S!==null&&typeof S.render=="function"&&S.$$typeof===void 0?(d.tag=1,d.memoizedState=null,d.updateQueue=null,Ti(x)?(T=!0,um(d)):T=!1,d.memoizedState=S.state!==null&&S.state!==void 0?S.state:null,H1(d),S.updater=km,d.stateNode=S,S._reactInternals=d,rv(d,x,u,m),d=av(null,d,x,!0,T,m)):(d.tag=0,Hn&&T&&O1(d),hi(null,d,S,m),d=d.child),d;case 16:x=d.elementType;e:{switch(Tm(u,d),u=d.pendingProps,S=x._init,x=S(x._payload),d.type=x,S=d.tag=xR(x),u=Vs(x,u),S){case 0:d=ov(null,d,x,u,m);break e;case 1:d=P3(null,d,x,u,m);break e;case 11:d=E3(null,d,x,u,m);break e;case 14:d=T3(null,d,x,Vs(x.type,u),m);break e}throw Error(n(306,x,""))}return d;case 0:return x=d.type,S=d.pendingProps,S=d.elementType===x?S:Vs(x,S),ov(u,d,x,S,m);case 1:return x=d.type,S=d.pendingProps,S=d.elementType===x?S:Vs(x,S),P3(u,d,x,S,m);case 3:e:{if(R3(d),u===null)throw Error(n(387));x=d.pendingProps,T=d.memoizedState,S=T.element,QS(u,d),vm(d,x,null,m);var A=d.memoizedState;if(x=A.element,T.isDehydrated)if(T={element:x,isDehydrated:!1,cache:A.cache,pendingSuspenseBoundaries:A.pendingSuspenseBoundaries,transitions:A.transitions},d.updateQueue.baseState=T,d.memoizedState=T,d.flags&256){S=$c(Error(n(423)),d),d=O3(u,d,x,m,S);break e}else if(x!==S){S=$c(Error(n(424)),d),d=O3(u,d,x,m,S);break e}else for(ns=Da(d.stateNode.containerInfo.firstChild),ts=d,Hn=!0,Ws=null,m=VS(d,null,x,m),d.child=m;m;)m.flags=m.flags&-3|4096,m=m.sibling;else{if(Dc(),x===S){d=Ko(u,d,m);break e}hi(u,d,x,m)}d=d.child}return d;case 5:return YS(d),u===null&&D1(d),x=d.type,S=d.pendingProps,T=u!==null?u.memoizedProps:null,A=S.children,T1(x,S)?A=null:T!==null&&T1(x,T)&&(d.flags|=32),N3(u,d),hi(u,d,A,m),d.child;case 6:return u===null&&D1(d),null;case 13:return M3(u,d,m);case 4:return W1(d,d.stateNode.containerInfo),x=d.pendingProps,u===null?d.child=Lc(d,null,x,m):hi(u,d,x,m),d.child;case 11:return x=d.type,S=d.pendingProps,S=d.elementType===x?S:Vs(x,S),E3(u,d,x,S,m);case 7:return hi(u,d,d.pendingProps,m),d.child;case 8:return hi(u,d,d.pendingProps.children,m),d.child;case 12:return hi(u,d,d.pendingProps.children,m),d.child;case 10:e:{if(x=d.type._context,S=d.pendingProps,T=d.memoizedProps,A=S.value,In(mm,x._currentValue),x._currentValue=A,T!==null)if(X(T.value,A)){if(T.children===S.children&&!Ei.current){d=Ko(u,d,m);break e}}else for(T=d.child,T!==null&&(T.return=d);T!==null;){var K=T.dependencies;if(K!==null){A=T.child;for(var ie=K.firstContext;ie!==null;){if(ie.context===x){if(T.tag===1){ie=Qo(-1,m&-m),ie.tag=2;var be=T.updateQueue;if(be!==null){be=be.shared;var Oe=be.pending;Oe===null?ie.next=ie:(ie.next=Oe.next,Oe.next=ie),be.pending=ie}}T.lanes|=m,ie=T.alternate,ie!==null&&(ie.lanes|=m),$1(T.return,m,d),K.lanes|=m;break}ie=ie.next}}else if(T.tag===10)A=T.type===d.type?null:T.child;else if(T.tag===18){if(A=T.return,A===null)throw Error(n(341));A.lanes|=m,K=A.alternate,K!==null&&(K.lanes|=m),$1(A,m,d),A=T.sibling}else A=T.child;if(A!==null)A.return=T;else for(A=T;A!==null;){if(A===d){A=null;break}if(T=A.sibling,T!==null){T.return=A.return,A=T;break}A=A.return}T=A}hi(u,d,S.children,m),d=d.child}return d;case 9:return S=d.type,x=d.pendingProps.children,Bc(d,m),S=bs(S),x=x(S),d.flags|=1,hi(u,d,x,m),d.child;case 14:return x=d.type,S=Vs(x,d.pendingProps),S=Vs(x.type,S),T3(u,d,x,S,m);case 15:return j3(u,d,d.type,d.pendingProps,m);case 17:return x=d.type,S=d.pendingProps,S=d.elementType===x?S:Vs(x,S),Tm(u,d),d.tag=1,Ti(x)?(u=!0,um(d)):u=!1,Bc(d,m),x3(d,x,S),rv(d,x,S,m),av(null,d,x,!0,u,m);case 19:return D3(u,d,m);case 22:return I3(u,d,m)}throw Error(n(156,d.tag))};function o5(u,d){return Ds(u,d)}function vR(u,d,m,x){this.tag=u,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=x,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ss(u,d,m,x){return new vR(u,d,m,x)}function Tv(u){return u=u.prototype,!(!u||!u.isReactComponent)}function xR(u){if(typeof u=="function")return Tv(u)?1:0;if(u!=null){if(u=u.$$typeof,u===J)return 11;if(u===V)return 14}return 2}function Qa(u,d){var m=u.alternate;return m===null?(m=Ss(u.tag,d,u.key,u.mode),m.elementType=u.elementType,m.type=u.type,m.stateNode=u.stateNode,m.alternate=u,u.alternate=m):(m.pendingProps=d,m.type=u.type,m.flags=0,m.subtreeFlags=0,m.deletions=null),m.flags=u.flags&14680064,m.childLanes=u.childLanes,m.lanes=u.lanes,m.child=u.child,m.memoizedProps=u.memoizedProps,m.memoizedState=u.memoizedState,m.updateQueue=u.updateQueue,d=u.dependencies,m.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},m.sibling=u.sibling,m.index=u.index,m.ref=u.ref,m}function Fm(u,d,m,x,S,T){var A=2;if(x=u,typeof u=="function")Tv(u)&&(A=1);else if(typeof u=="string")A=5;else e:switch(u){case M:return cu(m.children,S,T,d);case U:A=8,S|=8;break;case z:return u=Ss(12,m,d,S|2),u.elementType=z,u.lanes=T,u;case re:return u=Ss(13,m,d,S),u.elementType=re,u.lanes=T,u;case q:return u=Ss(19,m,d,S),u.elementType=q,u.lanes=T,u;case ne:return Bm(m,S,T,d);default:if(typeof u=="object"&&u!==null)switch(u.$$typeof){case D:A=10;break e;case ee:A=9;break e;case J:A=11;break e;case V:A=14;break e;case Q:A=16,x=null;break e}throw Error(n(130,u==null?u:typeof u,""))}return d=Ss(A,m,d,S),d.elementType=u,d.type=x,d.lanes=T,d}function cu(u,d,m,x){return u=Ss(7,u,x,d),u.lanes=m,u}function Bm(u,d,m,x){return u=Ss(22,u,x,d),u.elementType=ne,u.lanes=m,u.stateNode={isHidden:!1},u}function jv(u,d,m){return u=Ss(6,u,null,d),u.lanes=m,u}function Iv(u,d,m){return d=Ss(4,u.children!==null?u.children:[],u.key,d),d.lanes=m,d.stateNode={containerInfo:u.containerInfo,pendingChildren:null,implementation:u.implementation},d}function bR(u,d,m,x,S){this.tag=d,this.containerInfo=u,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ea(0),this.expirationTimes=Ea(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ea(0),this.identifierPrefix=x,this.onRecoverableError=S,this.mutableSourceEagerHydrationData=null}function Nv(u,d,m,x,S,T,A,K,ie){return u=new bR(u,d,m,K,ie),d===1?(d=1,T===!0&&(d|=8)):d=0,T=Ss(3,null,null,d),u.current=T,T.stateNode=u,T.memoizedState={element:x,isDehydrated:m,cache:null,transitions:null,pendingSuspenseBoundaries:null},H1(T),u}function wR(u,d,m){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:j,key:x==null?null:""+x,children:u,containerInfo:d,implementation:m}}function a5(u){if(!u)return Fa;u=u._reactInternals;e:{if(Ht(u)!==u||u.tag!==1)throw Error(n(170));var d=u;do{switch(d.tag){case 3:d=d.stateNode.context;break e;case 1:if(Ti(d.type)){d=d.stateNode.__reactInternalMemoizedMergedChildContext;break e}}d=d.return}while(d!==null);throw Error(n(171))}if(u.tag===1){var m=u.type;if(Ti(m))return AS(u,m,d)}return d}function l5(u,d,m,x,S,T,A,K,ie){return u=Nv(m,x,!0,u,S,T,A,K,ie),u.context=a5(null),m=u.current,x=pi(),S=Va(m),T=Qo(x,S),T.callback=d??null,$a(m,T,S),u.current.lanes=S,Ta(u,S,x),Ni(u,x),u}function zm(u,d,m,x){var S=d.current,T=pi(),A=Va(S);return m=a5(m),d.context===null?d.context=m:d.pendingContext=m,d=Qo(T,A),d.payload={element:u},x=x===void 0?null:x,x!==null&&(d.callback=x),u=$a(S,d,A),u!==null&&(Ks(u,S,A,T),ym(u,S,A)),A}function $m(u){if(u=u.current,!u.child)return null;switch(u.child.tag){case 5:return u.child.stateNode;default:return u.child.stateNode}}function u5(u,d){if(u=u.memoizedState,u!==null&&u.dehydrated!==null){var m=u.retryLane;u.retryLane=m!==0&&m<d?m:d}}function Pv(u,d){u5(u,d),(u=u.alternate)&&u5(u,d)}function _R(){return null}var c5=typeof reportError=="function"?reportError:function(u){console.error(u)};function Rv(u){this._internalRoot=u}Um.prototype.render=Rv.prototype.render=function(u){var d=this._internalRoot;if(d===null)throw Error(n(409));zm(u,d,null,null)},Um.prototype.unmount=Rv.prototype.unmount=function(){var u=this._internalRoot;if(u!==null){this._internalRoot=null;var d=u.containerInfo;au(function(){zm(null,u,null,null)}),d[Uo]=null}};function Um(u){this._internalRoot=u}Um.prototype.unstable_scheduleHydration=function(u){if(u){var d=qr();u={blockedOn:null,target:u,priority:d};for(var m=0;m<Ci.length&&d!==0&&d<Ci[m].priority;m++);Ci.splice(m,0,u),m===0&&yc(u)}};function Ov(u){return!(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)}function Hm(u){return!(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11&&(u.nodeType!==8||u.nodeValue!==" react-mount-point-unstable "))}function d5(){}function SR(u,d,m,x,S){if(S){if(typeof x=="function"){var T=x;x=function(){var be=$m(A);T.call(be)}}var A=l5(d,x,u,0,null,!1,!1,"",d5);return u._reactRootContainer=A,u[Uo]=A.current,If(u.nodeType===8?u.parentNode:u),au(),A}for(;S=u.lastChild;)u.removeChild(S);if(typeof x=="function"){var K=x;x=function(){var be=$m(ie);K.call(be)}}var ie=Nv(u,0,!1,null,null,!1,!1,"",d5);return u._reactRootContainer=ie,u[Uo]=ie.current,If(u.nodeType===8?u.parentNode:u),au(function(){zm(d,ie,m,x)}),ie}function Wm(u,d,m,x,S){var T=m._reactRootContainer;if(T){var A=T;if(typeof S=="function"){var K=S;S=function(){var ie=$m(A);K.call(ie)}}zm(d,A,u,S)}else A=SR(m,d,u,S,x);return $m(A)}gc=function(u){switch(u.tag){case 3:var d=u.stateNode;if(d.current.memoizedState.isDehydrated){var m=Ls(d.pendingLanes);m!==0&&(mc(d,m|1),Ni(d,Qt()),(dn&6)===0&&(Wc=Qt()+500,Ba()))}break;case 13:au(function(){var x=qo(u,1);if(x!==null){var S=pi();Ks(x,u,1,S)}}),Pv(u,1)}},vf=function(u){if(u.tag===13){var d=qo(u,134217728);if(d!==null){var m=pi();Ks(d,u,134217728,m)}Pv(u,134217728)}},Hp=function(u){if(u.tag===13){var d=Va(u),m=qo(u,d);if(m!==null){var x=pi();Ks(m,u,d,x)}Pv(u,d)}},qr=function(){return xn},Mo=function(u,d){var m=xn;try{return xn=u,d()}finally{xn=m}},Qe=function(u,d,m){switch(d){case"input":if(li(u,m),d=m.name,m.type==="radio"&&d!=null){for(m=u;m.parentNode;)m=m.parentNode;for(m=m.querySelectorAll("input[name="+JSON.stringify(""+d)+'][type="radio"]'),d=0;d<m.length;d++){var x=m[d];if(x!==u&&x.form===u.form){var S=am(x);if(!S)throw Error(n(90));Nt(x),li(x,S)}}}break;case"textarea":Pt(u,m);break;case"select":d=m.value,d!=null&&un(u,!!m.multiple,d,!1)}},fc=Cv,hc=au;var CR={usingClientEntryPoint:!1,Events:[Rf,Pc,am,co,As,Cv]},qf={findFiberByHostInstance:Zl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},kR={bundleType:qf.bundleType,version:qf.version,rendererPackageName:qf.rendererPackageName,rendererConfig:qf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$.ReactCurrentDispatcher,findHostInstanceByFiber:function(u){return u=vn(u),u===null?null:u.stateNode},findFiberByHostInstance:qf.findFiberByHostInstance||_R,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vm.isDisabled&&Vm.supportsFiber)try{Xi=Vm.inject(kR),tn=Vm}catch{}}return Pi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=CR,Pi.createPortal=function(u,d){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ov(d))throw Error(n(200));return wR(u,d,null,m)},Pi.createRoot=function(u,d){if(!Ov(u))throw Error(n(299));var m=!1,x="",S=c5;return d!=null&&(d.unstable_strictMode===!0&&(m=!0),d.identifierPrefix!==void 0&&(x=d.identifierPrefix),d.onRecoverableError!==void 0&&(S=d.onRecoverableError)),d=Nv(u,1,!1,null,null,m,!1,x,S),u[Uo]=d.current,If(u.nodeType===8?u.parentNode:u),new Rv(d)},Pi.findDOMNode=function(u){if(u==null)return null;if(u.nodeType===1)return u;var d=u._reactInternals;if(d===void 0)throw typeof u.render=="function"?Error(n(188)):(u=Object.keys(u).join(","),Error(n(268,u)));return u=vn(d),u=u===null?null:u.stateNode,u},Pi.flushSync=function(u){return au(u)},Pi.hydrate=function(u,d,m){if(!Hm(d))throw Error(n(200));return Wm(null,u,d,!0,m)},Pi.hydrateRoot=function(u,d,m){if(!Ov(u))throw Error(n(405));var x=m!=null&&m.hydratedSources||null,S=!1,T="",A=c5;if(m!=null&&(m.unstable_strictMode===!0&&(S=!0),m.identifierPrefix!==void 0&&(T=m.identifierPrefix),m.onRecoverableError!==void 0&&(A=m.onRecoverableError)),d=l5(d,null,u,1,m??null,S,!1,T,A),u[Uo]=d.current,If(u),x)for(u=0;u<x.length;u++)m=x[u],S=m._getVersion,S=S(m._source),d.mutableSourceEagerHydrationData==null?d.mutableSourceEagerHydrationData=[m,S]:d.mutableSourceEagerHydrationData.push(m,S);return new Um(d)},Pi.render=function(u,d,m){if(!Hm(d))throw Error(n(200));return Wm(null,u,d,!1,m)},Pi.unmountComponentAtNode=function(u){if(!Hm(u))throw Error(n(40));return u._reactRootContainer?(au(function(){Wm(null,null,u,!1,function(){u._reactRootContainer=null,u[Uo]=null})}),!0):!1},Pi.unstable_batchedUpdates=Cv,Pi.unstable_renderSubtreeIntoContainer=function(u,d,m,x){if(!Hm(m))throw Error(n(200));if(u==null||u._reactInternals===void 0)throw Error(n(38));return Wm(u,d,m,!1,x)},Pi.version="18.3.1-next-f1338f8080-20240426",Pi}var b5;function P8(){if(b5)return Dv.exports;b5=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Dv.exports=LR(),Dv.exports}var w5;function FR(){if(w5)return qm;w5=1;var e=P8();return qm.createRoot=e.createRoot,qm.hydrateRoot=e.hydrateRoot,qm}var BR=FR();/**
 * react-router v7.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var R8=e=>{throw TypeError(e)},zR=(e,t,n)=>t.has(e)||R8("Cannot "+n),Bv=(e,t,n)=>(zR(e,t,"read from private field"),n?n.call(e):t.get(e)),$R=(e,t,n)=>t.has(e)?R8("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),_5="popstate";function UR(e={}){function t(r,i){let{pathname:s,search:o,hash:a}=r.location;return Bh("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:ml(i)}return WR(t,n,null,e)}function Yt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function dr(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function HR(){return Math.random().toString(36).substring(2,10)}function S5(e,t){return{usr:e.state,key:e.key,idx:t}}function Bh(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Tl(t):t,state:n,key:t&&t.key||r||HR()}}function ml({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Tl(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function WR(e,t,n,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a="POP",l=null,c=f();c==null&&(c=0,o.replaceState({...o.state,idx:c},""));function f(){return(o.state||{idx:null}).idx}function p(){a="POP";let C=f(),k=C==null?null:C-c;c=C,l&&l({action:a,location:_.location,delta:k})}function g(C,k){a="PUSH";let P=Bh(_.location,C,k);c=f()+1;let O=S5(P,c),$=_.createHref(P);try{o.pushState(O,"",$)}catch(B){if(B instanceof DOMException&&B.name==="DataCloneError")throw B;i.location.assign($)}s&&l&&l({action:a,location:_.location,delta:1})}function y(C,k){a="REPLACE";let P=Bh(_.location,C,k);c=f();let O=S5(P,c),$=_.createHref(P);o.replaceState(O,"",$),s&&l&&l({action:a,location:_.location,delta:0})}function b(C){return O8(C)}let _={get action(){return a},get location(){return e(i,o)},listen(C){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(_5,p),l=C,()=>{i.removeEventListener(_5,p),l=null}},createHref(C){return t(i,C)},createURL:b,encodeLocation(C){let k=b(C);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:g,replace:y,go(C){return o.go(C)}};return _}function O8(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Yt(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:ml(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}var mh,C5=class{constructor(e){if($R(this,mh,new Map),e)for(let[t,n]of e)this.set(t,n)}get(e){if(Bv(this,mh).has(e))return Bv(this,mh).get(e);if(e.defaultValue!==void 0)return e.defaultValue;throw new Error("No value found for context")}set(e,t){Bv(this,mh).set(e,t)}};mh=new WeakMap;var VR=new Set(["lazy","caseSensitive","path","id","index","children"]);function qR(e){return VR.has(e)}var QR=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function KR(e){return QR.has(e)}function GR(e){return e.index===!0}function zh(e,t,n=[],r={},i=!1){return e.map((s,o)=>{let a=[...n,String(o)],l=typeof s.id=="string"?s.id:a.join("-");if(Yt(s.index!==!0||!s.children,"Cannot specify children on an index route"),Yt(i||!r[l],`Found a route id collision on id "${l}".  Route id's must be globally unique within Data Router usages`),GR(s)){let c={...s,...t(s),id:l};return r[l]=c,c}else{let c={...s,...t(s),id:l,children:void 0};return r[l]=c,s.children&&(c.children=zh(s.children,t,a,r,i)),c}})}function il(e,t,n="/"){return Xg(e,t,n,!1)}function Xg(e,t,n,r){let i=typeof t=="string"?Tl(t):t,s=Ps(i.pathname||"/",n);if(s==null)return null;let o=M8(e);XR(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=lO(s);a=oO(o[l],c,r)}return a}function YR(e,t){let{route:n,pathname:r,params:i}=e;return{id:n.id,pathname:r,params:i,data:t[n.id],handle:n.handle}}function M8(e,t=[],n=[],r=""){let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Yt(l.relativePath.startsWith(r),`Absolute route path "${l.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),l.relativePath=l.relativePath.slice(r.length));let c=Eo([r,l.relativePath]),f=n.concat(l);s.children&&s.children.length>0&&(Yt(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${c}".`),M8(s.children,t,f,c)),!(s.path==null&&!s.index)&&t.push({path:c,score:iO(c,s.index),routesMeta:f})};return e.forEach((s,o)=>{if(s.path===""||!s.path?.includes("?"))i(s,o);else for(let a of A8(s.path))i(s,o,a)}),t}function A8(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=A8(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function XR(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:sO(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var JR=/^:[\w-]+$/,ZR=3,eO=2,tO=1,nO=10,rO=-2,k5=e=>e==="*";function iO(e,t){let n=e.split("/"),r=n.length;return n.some(k5)&&(r+=rO),t&&(r+=eO),n.filter(i=>!k5(i)).reduce((i,s)=>i+(JR.test(s)?ZR:s===""?tO:nO),r)}function sO(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function oO(e,t,n=!1){let{routesMeta:r}=e,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,f=s==="/"?t:t.slice(s.length)||"/",p=g0({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},f),g=l.route;if(!p&&c&&n&&!r[r.length-1].route.index&&(p=g0({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},f)),!p)return null;Object.assign(i,p.params),o.push({params:i,pathname:Eo([s,p.pathname]),pathnameBase:fO(Eo([s,p.pathnameBase])),route:g}),p.pathnameBase!=="/"&&(s=Eo([s,p.pathnameBase]))}return o}function g0(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=aO(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,{paramName:f,isOptional:p},g)=>{if(f==="*"){let b=a[g]||"";o=s.slice(0,s.length-b.length).replace(/(.)\/+$/,"$1")}const y=a[g];return p&&!y?c[f]=void 0:c[f]=(y||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:e}}function aO(e,t=!1,n=!0){dr(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function lO(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return dr(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Ps(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function uO({basename:e,pathname:t}){return t==="/"?e:Eo([e,t])}function cO(e,t="/"){let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?Tl(e):e;return{pathname:n?n.startsWith("/")?n:dO(n,t):t,search:hO(r),hash:pO(i)}}function dO(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function zv(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function D8(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function c2(e){let t=D8(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function d2(e,t,n,r=!1){let i;typeof e=="string"?i=Tl(e):(i={...e},Yt(!i.pathname||!i.pathname.includes("?"),zv("?","pathname","search",i)),Yt(!i.pathname||!i.pathname.includes("#"),zv("#","pathname","hash",i)),Yt(!i.search||!i.search.includes("#"),zv("#","search","hash",i)));let s=e===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let p=t.length-1;if(!r&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),p-=1;i.pathname=g.join("/")}a=p>=0?t[p]:"/"}let l=cO(i,a),c=o&&o!=="/"&&o.endsWith("/"),f=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||f)&&(l.pathname+="/"),l}var Eo=e=>e.join("/").replace(/\/\/+/g,"/"),fO=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),hO=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,pO=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,mO=(e,t=302)=>{let n=t;typeof n=="number"?n={status:n}:typeof n.status>"u"&&(n.status=302);let r=new Headers(n.headers);return r.set("Location",e),new Response(null,{...n,headers:r})},y0=class{constructor(e,t,n,r=!1){this.status=e,this.statusText=t||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function $h(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var L8=["POST","PUT","PATCH","DELETE"],gO=new Set(L8),yO=["GET",...L8],vO=new Set(yO),xO=new Set([301,302,303,307,308]),bO=new Set([307,308]),$v={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},wO={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Kf={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},_O=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,f2=e=>_O.test(e),SO=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),F8="remix-router-transitions",B8=Symbol("ResetLoaderData");function CO(e){const t=e.window?e.window:typeof window<"u"?window:void 0,n=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u";Yt(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let r=e.hydrationRouteProperties||[],i=e.mapRouteProperties||SO,s={},o=zh(e.routes,i,void 0,s),a,l=e.basename||"/",c=e.dataStrategy||IO,f={unstable_middleware:!1,...e.future},p=null,g=new Set,y=null,b=null,_=null,C=e.hydrationData!=null,k=il(o,e.history.location,l),P=!1,O=null,$;if(k==null&&!e.patchRoutesOnNavigation){let te=ks(404,{pathname:e.history.location.pathname}),{matches:me,route:_e}=L5(o);$=!0,k=me,O={[_e.id]:te}}else if(k&&!e.hydrationData&&co(k,o,e.history.location.pathname).active&&(k=null),k)if(k.some(te=>te.route.lazy))$=!1;else if(!k.some(te=>te.route.loader))$=!0;else{let te=e.hydrationData?e.hydrationData.loaderData:null,me=e.hydrationData?e.hydrationData.errors:null;if(me){let _e=k.findIndex(Ae=>me[Ae.route.id]!==void 0);$=k.slice(0,_e+1).every(Ae=>!bb(Ae.route,te,me))}else $=k.every(_e=>!bb(_e.route,te,me))}else{$=!1,k=[];let te=co(null,o,e.history.location.pathname);te.active&&te.matches&&(P=!0,k=te.matches)}let B,j={historyAction:e.history.action,location:e.history.location,matches:k,initialized:$,navigation:$v,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||O,fetchers:new Map,blockers:new Map},M="POP",U=!1,z,D=!1,ee=new Map,J=null,re=!1,q=!1,V=new Set,Q=new Map,ne=0,Z=-1,fe=new Map,F=new Set,G=new Map,ye=new Map,H=new Set,Me=new Map,Ee,Te=null;function Ye(){if(p=e.history.listen(({action:te,location:me,delta:_e})=>{if(Ee){Ee(),Ee=void 0;return}dr(Me.size===0||_e!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Ae=zn({currentLocation:j.location,nextLocation:me,historyAction:te});if(Ae&&_e!=null){let je=new Promise(Ke=>{Ee=Ke});e.history.go(_e*-1),sr(Ae,{state:"blocked",location:me,proceed(){sr(Ae,{state:"proceeding",proceed:void 0,reset:void 0,location:me}),je.then(()=>e.history.go(_e))},reset(){let Ke=new Map(j.blockers);Ke.set(Ae,Kf),ut({blockers:Ke})}});return}return ln(te,me)}),n){zO(t,ee);let te=()=>$O(t,ee);t.addEventListener("pagehide",te),J=()=>t.removeEventListener("pagehide",te)}return j.initialized||ln("POP",j.location,{initialHydration:!0}),B}function Ve(){p&&p(),J&&J(),g.clear(),z&&z.abort(),j.fetchers.forEach((te,me)=>vt(me)),j.blockers.forEach((te,me)=>qe(me))}function Ie(te){return g.add(te),()=>g.delete(te)}function ut(te,me={}){te.matches&&(te.matches=te.matches.map(je=>{let Ke=s[je.route.id],it=je.route;return it.element!==Ke.element||it.errorElement!==Ke.errorElement||it.hydrateFallbackElement!==Ke.hydrateFallbackElement?{...je,route:Ke}:je})),j={...j,...te};let _e=[],Ae=[];j.fetchers.forEach((je,Ke)=>{je.state==="idle"&&(H.has(Ke)?_e.push(Ke):Ae.push(Ke))}),H.forEach(je=>{!j.fetchers.has(je)&&!Q.has(je)&&_e.push(je)}),[...g].forEach(je=>je(j,{deletedFetchers:_e,viewTransitionOpts:me.viewTransitionOpts,flushSync:me.flushSync===!0})),_e.forEach(je=>vt(je)),Ae.forEach(je=>j.fetchers.delete(je))}function Cn(te,me,{flushSync:_e}={}){let Ae=j.actionData!=null&&j.navigation.formMethod!=null&&Li(j.navigation.formMethod)&&j.navigation.state==="loading"&&te.state?._isRedirect!==!0,je;me.actionData?Object.keys(me.actionData).length>0?je=me.actionData:je=null:Ae?je=j.actionData:je=null;let Ke=me.loaderData?A5(j.loaderData,me.loaderData,me.matches||[],me.errors):j.loaderData,it=j.blockers;it.size>0&&(it=new Map(it),it.forEach((at,tt)=>it.set(tt,Kf)));let Ze=re?!1:Ro(te,me.matches||j.matches),nt=U===!0||j.navigation.formMethod!=null&&Li(j.navigation.formMethod)&&te.state?._isRedirect!==!0;a&&(o=a,a=void 0),re||M==="POP"||(M==="PUSH"?e.history.push(te,te.state):M==="REPLACE"&&e.history.replace(te,te.state));let lt;if(M==="POP"){let at=ee.get(j.location.pathname);at&&at.has(te.pathname)?lt={currentLocation:j.location,nextLocation:te}:ee.has(te.pathname)&&(lt={currentLocation:te,nextLocation:j.location})}else if(D){let at=ee.get(j.location.pathname);at?at.add(te.pathname):(at=new Set([te.pathname]),ee.set(j.location.pathname,at)),lt={currentLocation:j.location,nextLocation:te}}ut({...me,actionData:je,loaderData:Ke,historyAction:M,location:te,initialized:!0,navigation:$v,revalidation:"idle",restoreScrollPosition:Ze,preventScrollReset:nt,blockers:it},{viewTransitionOpts:lt,flushSync:_e===!0}),M="POP",U=!1,D=!1,re=!1,q=!1,Te?.resolve(),Te=null}async function Nt(te,me){if(typeof te=="number"){e.history.go(te);return}let _e=xb(j.location,j.matches,l,te,me?.fromRouteId,me?.relative),{path:Ae,submission:je,error:Ke}=E5(!1,_e,me),it=j.location,Ze=Bh(j.location,Ae,me&&me.state);Ze={...Ze,...e.history.encodeLocation(Ze)};let nt=me&&me.replace!=null?me.replace:void 0,lt="PUSH";nt===!0?lt="REPLACE":nt===!1||je!=null&&Li(je.formMethod)&&je.formAction===j.location.pathname+j.location.search&&(lt="REPLACE");let at=me&&"preventScrollReset"in me?me.preventScrollReset===!0:void 0,tt=(me&&me.flushSync)===!0,Rt=zn({currentLocation:it,nextLocation:Ze,historyAction:lt});if(Rt){sr(Rt,{state:"blocked",location:Ze,proceed(){sr(Rt,{state:"proceeding",proceed:void 0,reset:void 0,location:Ze}),Nt(te,me)},reset(){let Ht=new Map(j.blockers);Ht.set(Rt,Kf),ut({blockers:Ht})}});return}await ln(lt,Ze,{submission:je,pendingError:Ke,preventScrollReset:at,replace:me&&me.replace,enableViewTransition:me&&me.viewTransition,flushSync:tt})}function jn(){Te||(Te=UO()),Zn(),ut({revalidation:"loading"});let te=Te.promise;return j.navigation.state==="submitting"?te:j.navigation.state==="idle"?(ln(j.historyAction,j.location,{startUninterruptedRevalidation:!0}),te):(ln(M||j.historyAction,j.navigation.location,{overrideNavigation:j.navigation,enableViewTransition:D===!0}),te)}async function ln(te,me,_e){z&&z.abort(),z=null,M=te,re=(_e&&_e.startUninterruptedRevalidation)===!0,Ms(j.location,j.matches),U=(_e&&_e.preventScrollReset)===!0,D=(_e&&_e.enableViewTransition)===!0;let Ae=a||o,je=_e&&_e.overrideNavigation,Ke=_e?.initialHydration&&j.matches&&j.matches.length>0&&!P?j.matches:il(Ae,me,l),it=(_e&&_e.flushSync)===!0;if(Ke&&j.initialized&&!q&&AO(j.location,me)&&!(_e&&_e.submission&&Li(_e.submission.formMethod))){Cn(me,{matches:Ke},{flushSync:it});return}let Ze=co(Ke,Ae,me.pathname);if(Ze.active&&Ze.matches&&(Ke=Ze.matches),!Ke){let{error:pr,notFoundMatches:cn,route:vn}=hs(me.pathname);Cn(me,{matches:cn,loaderData:{},errors:{[vn.id]:pr}},{flushSync:it});return}z=new AbortController;let nt=pd(e.history,me,z.signal,_e&&_e.submission),lt=new C5(e.unstable_getContext?await e.unstable_getContext():void 0),at;if(_e&&_e.pendingError)at=[Cu(Ke).route.id,{type:"error",error:_e.pendingError}];else if(_e&&_e.submission&&Li(_e.submission.formMethod)){let pr=await wn(nt,me,_e.submission,Ke,lt,Ze.active,_e&&_e.initialHydration===!0,{replace:_e.replace,flushSync:it});if(pr.shortCircuited)return;if(pr.pendingActionResult){let[cn,vn]=pr.pendingActionResult;if(os(vn)&&$h(vn.error)&&vn.error.status===404){z=null,Cn(me,{matches:pr.matches,loaderData:{},errors:{[cn]:vn.error}});return}}Ke=pr.matches||Ke,at=pr.pendingActionResult,je=Uv(me,_e.submission),it=!1,Ze.active=!1,nt=pd(e.history,nt.url,nt.signal)}let{shortCircuited:tt,matches:Rt,loaderData:Ht,errors:$n}=await Qi(nt,me,Ke,lt,Ze.active,je,_e&&_e.submission,_e&&_e.fetcherSubmission,_e&&_e.replace,_e&&_e.initialHydration===!0,it,at);tt||(z=null,Cn(me,{matches:Rt||Ke,...D5(at),loaderData:Ht,errors:$n}))}async function wn(te,me,_e,Ae,je,Ke,it,Ze={}){Zn();let nt=FO(me,_e);if(ut({navigation:nt},{flushSync:Ze.flushSync===!0}),Ke){let tt=await As(Ae,me.pathname,te.signal);if(tt.type==="aborted")return{shortCircuited:!0};if(tt.type==="error"){let Rt=Cu(tt.partialMatches).route.id;return{matches:tt.partialMatches,pendingActionResult:[Rt,{type:"error",error:tt.error}]}}else if(tt.matches)Ae=tt.matches;else{let{notFoundMatches:Rt,error:Ht,route:$n}=hs(me.pathname);return{matches:Rt,pendingActionResult:[$n.id,{type:"error",error:Ht}]}}}let lt,at=Jg(Ae,me);if(!at.route.action&&!at.route.lazy)lt={type:"error",error:ks(405,{method:te.method,pathname:me.pathname,routeId:at.route.id})};else{let tt=Ed(i,s,te,Ae,at,it?[]:r,je),Rt=await zt(te,tt,je,null);if(lt=Rt[at.route.id],!lt){for(let Ht of Ae)if(Rt[Ht.route.id]){lt=Rt[Ht.route.id];break}}if(te.signal.aborted)return{shortCircuited:!0}}if(ju(lt)){let tt;return Ze&&Ze.replace!=null?tt=Ze.replace:tt=R5(lt.response.headers.get("Location"),new URL(te.url),l)===j.location.pathname+j.location.search,await pt(te,lt,!0,{submission:_e,replace:tt}),{shortCircuited:!0}}if(os(lt)){let tt=Cu(Ae,at.route.id);return(Ze&&Ze.replace)!==!0&&(M="PUSH"),{matches:Ae,pendingActionResult:[tt.route.id,lt,at.route.id]}}return{matches:Ae,pendingActionResult:[at.route.id,lt]}}async function Qi(te,me,_e,Ae,je,Ke,it,Ze,nt,lt,at,tt){let Rt=Ke||Uv(me,it),Ht=it||Ze||B5(Rt),$n=!re&&!lt;if(je){if($n){let er=li(tt);ut({navigation:Rt,...er!==void 0?{actionData:er}:{}},{flushSync:at})}let Kt=await As(_e,me.pathname,te.signal);if(Kt.type==="aborted")return{shortCircuited:!0};if(Kt.type==="error"){let er=Cu(Kt.partialMatches).route.id;return{matches:Kt.partialMatches,loaderData:{},errors:{[er]:Kt.error}}}else if(Kt.matches)_e=Kt.matches;else{let{error:er,notFoundMatches:fi,route:Xi}=hs(me.pathname);return{matches:fi,loaderData:{},errors:{[Xi.id]:er}}}}let pr=a||o,{dsMatches:cn,revalidatingFetchers:vn}=T5(te,Ae,i,s,e.history,j,_e,Ht,me,lt?[]:r,lt===!0,q,V,H,G,F,pr,l,e.patchRoutesOnNavigation!=null,tt);if(Z=++ne,!e.dataStrategy&&!cn.some(Kt=>Kt.shouldLoad)&&vn.length===0){let Kt=hr();return Cn(me,{matches:_e,loaderData:{},errors:tt&&os(tt[1])?{[tt[0]]:tt[1].error}:null,...D5(tt),...Kt?{fetchers:new Map(j.fetchers)}:{}},{flushSync:at}),{shortCircuited:!0}}if($n){let Kt={};if(!je){Kt.navigation=Rt;let er=li(tt);er!==void 0&&(Kt.actionData=er)}vn.length>0&&(Kt.fetchers=Ki(vn)),ut(Kt,{flushSync:at})}vn.forEach(Kt=>{yn(Kt.key),Kt.controller&&Q.set(Kt.key,Kt.controller)});let Ir=()=>vn.forEach(Kt=>yn(Kt.key));z&&z.signal.addEventListener("abort",Ir);let{loaderResults:Ds,fetcherResults:ci}=await Pt(cn,vn,te,Ae);if(te.signal.aborted)return{shortCircuited:!0};z&&z.signal.removeEventListener("abort",Ir),vn.forEach(Kt=>Q.delete(Kt.key));let sn=Qm(Ds);if(sn)return await pt(te,sn.result,!0,{replace:nt}),{shortCircuited:!0};if(sn=Qm(ci),sn)return F.add(sn.key),await pt(te,sn.result,!0,{replace:nt}),{shortCircuited:!0};let{loaderData:Yi,errors:Qt}=M5(j,_e,Ds,tt,vn,ci);lt&&j.errors&&(Qt={...j.errors,...Qt});let ps=hr(),di=ui(Z),ms=ps||di||vn.length>0;return{matches:_e,loaderData:Yi,errors:Qt,...ms?{fetchers:new Map(j.fetchers)}:{}}}function li(te){if(te&&!os(te[1]))return{[te[0]]:te[1].data};if(j.actionData)return Object.keys(j.actionData).length===0?null:j.actionData}function Ki(te){return te.forEach(me=>{let _e=j.fetchers.get(me.key),Ae=Gf(void 0,_e?_e.data:void 0);j.fetchers.set(me.key,Ae)}),new Map(j.fetchers)}async function Si(te,me,_e,Ae){yn(te);let je=(Ae&&Ae.flushSync)===!0,Ke=a||o,it=xb(j.location,j.matches,l,_e,me,Ae?.relative),Ze=il(Ke,it,l),nt=co(Ze,Ke,it);if(nt.active&&nt.matches&&(Ze=nt.matches),!Ze){Re(te,me,ks(404,{pathname:it}),{flushSync:je});return}let{path:lt,submission:at,error:tt}=E5(!0,it,Ae);if(tt){Re(te,me,tt,{flushSync:je});return}let Rt=new C5(e.unstable_getContext?await e.unstable_getContext():void 0),Ht=(Ae&&Ae.preventScrollReset)===!0;if(at&&Li(at.formMethod)){await wt(te,me,lt,Ze,Rt,nt.active,je,Ht,at);return}G.set(te,{routeId:me,path:lt}),await un(te,me,lt,Ze,Rt,nt.active,je,Ht,at)}async function wt(te,me,_e,Ae,je,Ke,it,Ze,nt){Zn(),G.delete(te);let lt=j.fetchers.get(te);Ce(te,BO(nt,lt),{flushSync:it});let at=new AbortController,tt=pd(e.history,_e,at.signal,nt);if(Ke){let tn=await As(Ae,new URL(tt.url).pathname,tt.signal,te);if(tn.type==="aborted")return;if(tn.type==="error"){Re(te,me,tn.error,{flushSync:it});return}else if(tn.matches)Ae=tn.matches;else{Re(te,me,ks(404,{pathname:_e}),{flushSync:it});return}}let Rt=Jg(Ae,_e);if(!Rt.route.action&&!Rt.route.lazy){let tn=ks(405,{method:nt.formMethod,pathname:_e,routeId:me});Re(te,me,tn,{flushSync:it});return}Q.set(te,at);let Ht=ne,$n=Ed(i,s,tt,Ae,Rt,r,je),cn=(await zt(tt,$n,je,te))[Rt.route.id];if(tt.signal.aborted){Q.get(te)===at&&Q.delete(te);return}if(H.has(te)){if(ju(cn)||os(cn)){Ce(te,Xa(void 0));return}}else{if(ju(cn))if(Q.delete(te),Z>Ht){Ce(te,Xa(void 0));return}else return F.add(te),Ce(te,Gf(nt)),pt(tt,cn,!1,{fetcherSubmission:nt,preventScrollReset:Ze});if(os(cn)){Re(te,me,cn.error);return}}let vn=j.navigation.location||j.location,Ir=pd(e.history,vn,at.signal),Ds=a||o,ci=j.navigation.state!=="idle"?il(Ds,j.navigation.location,l):j.matches;Yt(ci,"Didn't find any matches after fetcher action");let sn=++ne;fe.set(te,sn);let Yi=Gf(nt,cn.data);j.fetchers.set(te,Yi);let{dsMatches:Qt,revalidatingFetchers:ps}=T5(Ir,je,i,s,e.history,j,ci,nt,vn,r,!1,q,V,H,G,F,Ds,l,e.patchRoutesOnNavigation!=null,[Rt.route.id,cn]);ps.filter(tn=>tn.key!==te).forEach(tn=>{let Oo=tn.key,mt=j.fetchers.get(Oo),pc=Gf(void 0,mt?mt.data:void 0);j.fetchers.set(Oo,pc),yn(Oo),tn.controller&&Q.set(Oo,tn.controller)}),ut({fetchers:new Map(j.fetchers)});let di=()=>ps.forEach(tn=>yn(tn.key));at.signal.addEventListener("abort",di);let{loaderResults:ms,fetcherResults:Kt}=await Pt(Qt,ps,Ir,je);if(at.signal.aborted)return;if(at.signal.removeEventListener("abort",di),fe.delete(te),Q.delete(te),ps.forEach(tn=>Q.delete(tn.key)),j.fetchers.has(te)){let tn=Xa(cn.data);j.fetchers.set(te,tn)}let er=Qm(ms);if(er)return pt(Ir,er.result,!1,{preventScrollReset:Ze});if(er=Qm(Kt),er)return F.add(er.key),pt(Ir,er.result,!1,{preventScrollReset:Ze});let{loaderData:fi,errors:Xi}=M5(j,ci,ms,void 0,ps,Kt);ui(sn),j.navigation.state==="loading"&&sn>Z?(Yt(M,"Expected pending action"),z&&z.abort(),Cn(j.navigation.location,{matches:ci,loaderData:fi,errors:Xi,fetchers:new Map(j.fetchers)})):(ut({errors:Xi,loaderData:A5(j.loaderData,fi,ci,Xi),fetchers:new Map(j.fetchers)}),q=!1)}async function un(te,me,_e,Ae,je,Ke,it,Ze,nt){let lt=j.fetchers.get(te);Ce(te,Gf(nt,lt?lt.data:void 0),{flushSync:it});let at=new AbortController,tt=pd(e.history,_e,at.signal);if(Ke){let vn=await As(Ae,new URL(tt.url).pathname,tt.signal,te);if(vn.type==="aborted")return;if(vn.type==="error"){Re(te,me,vn.error,{flushSync:it});return}else if(vn.matches)Ae=vn.matches;else{Re(te,me,ks(404,{pathname:_e}),{flushSync:it});return}}let Rt=Jg(Ae,_e);Q.set(te,at);let Ht=ne,$n=Ed(i,s,tt,Ae,Rt,r,je),cn=(await zt(tt,$n,je,te))[Rt.route.id];if(Q.get(te)===at&&Q.delete(te),!tt.signal.aborted){if(H.has(te)){Ce(te,Xa(void 0));return}if(ju(cn))if(Z>Ht){Ce(te,Xa(void 0));return}else{F.add(te),await pt(tt,cn,!1,{preventScrollReset:Ze});return}if(os(cn)){Re(te,me,cn.error);return}Ce(te,Xa(cn.data))}}async function pt(te,me,_e,{submission:Ae,fetcherSubmission:je,preventScrollReset:Ke,replace:it}={}){me.response.headers.has("X-Remix-Revalidate")&&(q=!0);let Ze=me.response.headers.get("Location");Yt(Ze,"Expected a Location header on the redirect Response"),Ze=R5(Ze,new URL(te.url),l);let nt=Bh(j.location,Ze,{_isRedirect:!0});if(n){let $n=!1;if(me.response.headers.has("X-Remix-Reload-Document"))$n=!0;else if(f2(Ze)){const pr=O8(Ze,!0);$n=pr.origin!==t.location.origin||Ps(pr.pathname,l)==null}if($n){it?t.location.replace(Ze):t.location.assign(Ze);return}}z=null;let lt=it===!0||me.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:at,formAction:tt,formEncType:Rt}=j.navigation;!Ae&&!je&&at&&tt&&Rt&&(Ae=B5(j.navigation));let Ht=Ae||je;if(bO.has(me.response.status)&&Ht&&Li(Ht.formMethod))await ln(lt,nt,{submission:{...Ht,formAction:Ze},preventScrollReset:Ke||U,enableViewTransition:_e?D:void 0});else{let $n=Uv(nt,Ae);await ln(lt,nt,{overrideNavigation:$n,fetcherSubmission:je,preventScrollReset:Ke||U,enableViewTransition:_e?D:void 0})}}async function zt(te,me,_e,Ae){let je,Ke={};try{je=await NO(c,te,me,Ae,_e,!1)}catch(it){return me.filter(Ze=>Ze.shouldLoad).forEach(Ze=>{Ke[Ze.route.id]={type:"error",error:it}}),Ke}if(te.signal.aborted)return Ke;for(let[it,Ze]of Object.entries(je))if(DO(Ze)){let nt=Ze.result;Ke[it]={type:"redirect",response:OO(nt,te,it,me,l)}}else Ke[it]=await RO(Ze);return Ke}async function Pt(te,me,_e,Ae){let je=zt(_e,te,Ae,null),Ke=Promise.all(me.map(async nt=>{if(nt.matches&&nt.match&&nt.request&&nt.controller){let at=(await zt(nt.request,nt.matches,Ae,nt.key))[nt.match.route.id];return{[nt.key]:at}}else return Promise.resolve({[nt.key]:{type:"error",error:ks(404,{pathname:nt.path})}})})),it=await je,Ze=(await Ke).reduce((nt,lt)=>Object.assign(nt,lt),{});return{loaderResults:it,fetcherResults:Ze}}function Zn(){q=!0,G.forEach((te,me)=>{Q.has(me)&&V.add(me),yn(me)})}function Ce(te,me,_e={}){j.fetchers.set(te,me),ut({fetchers:new Map(j.fetchers)},{flushSync:(_e&&_e.flushSync)===!0})}function Re(te,me,_e,Ae={}){let je=Cu(j.matches,me);vt(te),ut({errors:{[je.route.id]:_e},fetchers:new Map(j.fetchers)},{flushSync:(Ae&&Ae.flushSync)===!0})}function ct(te){return ye.set(te,(ye.get(te)||0)+1),H.has(te)&&H.delete(te),j.fetchers.get(te)||wO}function vt(te){let me=j.fetchers.get(te);Q.has(te)&&!(me&&me.state==="loading"&&fe.has(te))&&yn(te),G.delete(te),fe.delete(te),F.delete(te),H.delete(te),V.delete(te),j.fetchers.delete(te)}function Ut(te){let me=(ye.get(te)||0)-1;me<=0?(ye.delete(te),H.add(te)):ye.set(te,me),ut({fetchers:new Map(j.fetchers)})}function yn(te){let me=Q.get(te);me&&(me.abort(),Q.delete(te))}function fr(te){for(let me of te){let _e=ct(me),Ae=Xa(_e.data);j.fetchers.set(me,Ae)}}function hr(){let te=[],me=!1;for(let _e of F){let Ae=j.fetchers.get(_e);Yt(Ae,`Expected fetcher: ${_e}`),Ae.state==="loading"&&(F.delete(_e),te.push(_e),me=!0)}return fr(te),me}function ui(te){let me=[];for(let[_e,Ae]of fe)if(Ae<te){let je=j.fetchers.get(_e);Yt(je,`Expected fetcher: ${_e}`),je.state==="loading"&&(yn(_e),fe.delete(_e),me.push(_e))}return fr(me),me.length>0}function jr(te,me){let _e=j.blockers.get(te)||Kf;return Me.get(te)!==me&&Me.set(te,me),_e}function qe(te){j.blockers.delete(te),Me.delete(te)}function sr(te,me){let _e=j.blockers.get(te)||Kf;Yt(_e.state==="unblocked"&&me.state==="blocked"||_e.state==="blocked"&&me.state==="blocked"||_e.state==="blocked"&&me.state==="proceeding"||_e.state==="blocked"&&me.state==="unblocked"||_e.state==="proceeding"&&me.state==="unblocked",`Invalid blocker state transition: ${_e.state} -> ${me.state}`);let Ae=new Map(j.blockers);Ae.set(te,me),ut({blockers:Ae})}function zn({currentLocation:te,nextLocation:me,historyAction:_e}){if(Me.size===0)return;Me.size>1&&dr(!1,"A router only supports one blocker at a time");let Ae=Array.from(Me.entries()),[je,Ke]=Ae[Ae.length-1],it=j.blockers.get(je);if(!(it&&it.state==="proceeding")&&Ke({currentLocation:te,nextLocation:me,historyAction:_e}))return je}function hs(te){let me=ks(404,{pathname:te}),_e=a||o,{matches:Ae,route:je}=L5(_e);return{notFoundMatches:Ae,route:je,error:me}}function Qe(te,me,_e){if(y=te,_=me,b=_e||null,!C&&j.navigation===$v){C=!0;let Ae=Ro(j.location,j.matches);Ae!=null&&ut({restoreScrollPosition:Ae})}return()=>{y=null,_=null,b=null}}function Gi(te,me){return b&&b(te,me.map(Ae=>YR(Ae,j.loaderData)))||te.key}function Ms(te,me){if(y&&_){let _e=Gi(te,me);y[_e]=_()}}function Ro(te,me){if(y){let _e=Gi(te,me),Ae=y[_e];if(typeof Ae=="number")return Ae}return null}function co(te,me,_e){if(e.patchRoutesOnNavigation)if(te){if(Object.keys(te[0].params).length>0)return{active:!0,matches:Xg(me,_e,l,!0)}}else return{active:!0,matches:Xg(me,_e,l,!0)||[]};return{active:!1,matches:null}}async function As(te,me,_e,Ae){if(!e.patchRoutesOnNavigation)return{type:"success",matches:te};let je=te;for(;;){let Ke=a==null,it=a||o,Ze=s;try{await e.patchRoutesOnNavigation({signal:_e,path:me,matches:je,fetcherKey:Ae,patch:(at,tt)=>{_e.aborted||j5(at,tt,it,Ze,i,!1)}})}catch(at){return{type:"error",error:at,partialMatches:je}}finally{Ke&&!_e.aborted&&(o=[...o])}if(_e.aborted)return{type:"aborted"};let nt=il(it,me,l);if(nt)return{type:"success",matches:nt};let lt=Xg(it,me,l,!0);if(!lt||je.length===lt.length&&je.every((at,tt)=>at.route.id===lt[tt].route.id))return{type:"success",matches:null};je=lt}}function fc(te){s={},a=zh(te,i,void 0,s)}function hc(te,me,_e=!1){let Ae=a==null;j5(te,me,a||o,s,i,_e),Ae&&(o=[...o],ut({}))}return B={get basename(){return l},get future(){return f},get state(){return j},get routes(){return o},get window(){return t},initialize:Ye,subscribe:Ie,enableScrollRestoration:Qe,navigate:Nt,fetch:Si,revalidate:jn,createHref:te=>e.history.createHref(te),encodeLocation:te=>e.history.encodeLocation(te),getFetcher:ct,deleteFetcher:Ut,dispose:Ve,getBlocker:jr,deleteBlocker:qe,patchRoutes:hc,_internalFetchControllers:Q,_internalSetRoutes:fc,_internalSetStateDoNotUseOrYouWillBreakYourApp(te){ut(te)}},B}function kO(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function xb(e,t,n,r,i,s){let o,a;if(i){o=[];for(let c of t)if(o.push(c),c.route.id===i){a=c;break}}else o=t,a=t[t.length-1];let l=d2(r||".",c2(o),Ps(e.pathname,n)||e.pathname,s==="path");if(r==null&&(l.search=e.search,l.hash=e.hash),(r==null||r===""||r===".")&&a){let c=h2(l.search);if(a.route.index&&!c)l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index";else if(!a.route.index&&c){let f=new URLSearchParams(l.search),p=f.getAll("index");f.delete("index"),p.filter(y=>y).forEach(y=>f.append("index",y));let g=f.toString();l.search=g?`?${g}`:""}}return n!=="/"&&(l.pathname=uO({basename:n,pathname:l.pathname})),ml(l)}function E5(e,t,n){if(!n||!kO(n))return{path:t};if(n.formMethod&&!LO(n.formMethod))return{path:t,error:ks(405,{method:n.formMethod})};let r=()=>({path:t,error:ks(400,{type:"invalid-body"})}),s=(n.formMethod||"get").toUpperCase(),o=V8(t);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!Li(s))return r();let p=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((g,[y,b])=>`${g}${y}=${b}
`,""):String(n.body);return{path:t,submission:{formMethod:s,formAction:o,formEncType:n.formEncType,formData:void 0,json:void 0,text:p}}}else if(n.formEncType==="application/json"){if(!Li(s))return r();try{let p=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:t,submission:{formMethod:s,formAction:o,formEncType:n.formEncType,formData:void 0,json:p,text:void 0}}}catch{return r()}}}Yt(typeof FormData=="function","FormData is not available in this environment");let a,l;if(n.formData)a=_b(n.formData),l=n.formData;else if(n.body instanceof FormData)a=_b(n.body),l=n.body;else if(n.body instanceof URLSearchParams)a=n.body,l=O5(a);else if(n.body==null)a=new URLSearchParams,l=new FormData;else try{a=new URLSearchParams(n.body),l=O5(a)}catch{return r()}let c={formMethod:s,formAction:o,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:l,json:void 0,text:void 0};if(Li(c.formMethod))return{path:t,submission:c};let f=Tl(t);return e&&f.search&&h2(f.search)&&a.append("index",""),f.search=`?${a}`,{path:ml(f),submission:c}}function T5(e,t,n,r,i,s,o,a,l,c,f,p,g,y,b,_,C,k,P,O){let $=O?os(O[1])?O[1].error:O[1].data:void 0,B=i.createURL(s.location),j=i.createURL(l),M;if(f&&s.errors){let re=Object.keys(s.errors)[0];M=o.findIndex(q=>q.route.id===re)}else if(O&&os(O[1])){let re=O[0];M=o.findIndex(q=>q.route.id===re)-1}let U=O?O[1].statusCode:void 0,z=U&&U>=400,D={currentUrl:B,currentParams:s.matches[0]?.params||{},nextUrl:j,nextParams:o[0].params,...a,actionResult:$,actionStatus:U},ee=o.map((re,q)=>{let{route:V}=re,Q=null;if(M!=null&&q>M?Q=!1:V.lazy?Q=!0:V.loader==null?Q=!1:f?Q=bb(V,s.loaderData,s.errors):EO(s.loaderData,s.matches[q],re)&&(Q=!0),Q!==null)return wb(n,r,e,re,c,t,Q);let ne=z?!1:p||B.pathname+B.search===j.pathname+j.search||B.search!==j.search||TO(s.matches[q],re),Z={...D,defaultShouldRevalidate:ne},fe=v0(re,Z);return wb(n,r,e,re,c,t,fe,Z)}),J=[];return b.forEach((re,q)=>{if(f||!o.some(ye=>ye.route.id===re.routeId)||y.has(q))return;let V=s.fetchers.get(q),Q=V&&V.state!=="idle"&&V.data===void 0,ne=il(C,re.path,k);if(!ne){if(P&&Q)return;J.push({key:q,routeId:re.routeId,path:re.path,matches:null,match:null,request:null,controller:null});return}if(_.has(q))return;let Z=Jg(ne,re.path),fe=new AbortController,F=pd(i,re.path,fe.signal),G=null;if(g.has(q))g.delete(q),G=Ed(n,r,F,ne,Z,c,t);else if(Q)p&&(G=Ed(n,r,F,ne,Z,c,t));else{let ye={...D,defaultShouldRevalidate:z?!1:p};v0(Z,ye)&&(G=Ed(n,r,F,ne,Z,c,t,ye))}G&&J.push({key:q,routeId:re.routeId,path:re.path,matches:G,match:Z,request:F,controller:fe})}),{dsMatches:ee,revalidatingFetchers:J}}function bb(e,t,n){if(e.lazy)return!0;if(!e.loader)return!1;let r=t!=null&&e.id in t,i=n!=null&&n[e.id]!==void 0;return!r&&i?!1:typeof e.loader=="function"&&e.loader.hydrate===!0?!0:!r&&!i}function EO(e,t,n){let r=!t||n.route.id!==t.route.id,i=!e.hasOwnProperty(n.route.id);return r||i}function TO(e,t){let n=e.route.path;return e.pathname!==t.pathname||n!=null&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function v0(e,t){if(e.route.shouldRevalidate){let n=e.route.shouldRevalidate(t);if(typeof n=="boolean")return n}return t.defaultShouldRevalidate}function j5(e,t,n,r,i,s){let o;if(e){let c=r[e];Yt(c,`No route found to patch children into: routeId = ${e}`),c.children||(c.children=[]),o=c.children}else o=n;let a=[],l=[];if(t.forEach(c=>{let f=o.find(p=>z8(c,p));f?l.push({existingRoute:f,newRoute:c}):a.push(c)}),a.length>0){let c=zh(a,i,[e||"_","patch",String(o?.length||"0")],r);o.push(...c)}if(s&&l.length>0)for(let c=0;c<l.length;c++){let{existingRoute:f,newRoute:p}=l[c],g=f,[y]=zh([p],i,[],{},!0);Object.assign(g,{element:y.element?y.element:g.element,errorElement:y.errorElement?y.errorElement:g.errorElement,hydrateFallbackElement:y.hydrateFallbackElement?y.hydrateFallbackElement:g.hydrateFallbackElement})}}function z8(e,t){return"id"in e&&"id"in t&&e.id===t.id?!0:e.index===t.index&&e.path===t.path&&e.caseSensitive===t.caseSensitive?(!e.children||e.children.length===0)&&(!t.children||t.children.length===0)?!0:e.children.every((n,r)=>t.children?.some(i=>z8(n,i))):!1}var I5=new WeakMap,$8=({key:e,route:t,manifest:n,mapRouteProperties:r})=>{let i=n[t.id];if(Yt(i,"No route found in manifest"),!i.lazy||typeof i.lazy!="object")return;let s=i.lazy[e];if(!s)return;let o=I5.get(i);o||(o={},I5.set(i,o));let a=o[e];if(a)return a;let l=(async()=>{let c=qR(e),p=i[e]!==void 0&&e!=="hasErrorBoundary";if(c)dr(!c,"Route property "+e+" is not a supported lazy route property. This property will be ignored."),o[e]=Promise.resolve();else if(p)dr(!1,`Route "${i.id}" has a static property "${e}" defined. The lazy property will be ignored.`);else{let g=await s();g!=null&&(Object.assign(i,{[e]:g}),Object.assign(i,r(i)))}typeof i.lazy=="object"&&(i.lazy[e]=void 0,Object.values(i.lazy).every(g=>g===void 0)&&(i.lazy=void 0))})();return o[e]=l,l},N5=new WeakMap;function jO(e,t,n,r,i){let s=n[e.id];if(Yt(s,"No route found in manifest"),!e.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof e.lazy=="function"){let f=N5.get(s);if(f)return{lazyRoutePromise:f,lazyHandlerPromise:f};let p=(async()=>{Yt(typeof e.lazy=="function","No lazy route function found");let g=await e.lazy(),y={};for(let b in g){let _=g[b];if(_===void 0)continue;let C=KR(b),P=s[b]!==void 0&&b!=="hasErrorBoundary";C?dr(!C,"Route property "+b+" is not a supported property to be returned from a lazy route function. This property will be ignored."):P?dr(!P,`Route "${s.id}" has a static property "${b}" defined but its lazy function is also returning a value for this property. The lazy route property "${b}" will be ignored.`):y[b]=_}Object.assign(s,y),Object.assign(s,{...r(s),lazy:void 0})})();return N5.set(s,p),p.catch(()=>{}),{lazyRoutePromise:p,lazyHandlerPromise:p}}let o=Object.keys(e.lazy),a=[],l;for(let f of o){if(i&&i.includes(f))continue;let p=$8({key:f,route:e,manifest:n,mapRouteProperties:r});p&&(a.push(p),f===t&&(l=p))}let c=a.length>0?Promise.all(a).then(()=>{}):void 0;return c?.catch(()=>{}),l?.catch(()=>{}),{lazyRoutePromise:c,lazyHandlerPromise:l}}async function P5(e){let t=e.matches.filter(i=>i.shouldLoad),n={};return(await Promise.all(t.map(i=>i.resolve()))).forEach((i,s)=>{n[t[s].route.id]=i}),n}async function IO(e){return e.matches.some(t=>t.route.unstable_middleware)?U8(e,!1,()=>P5(e),(t,n)=>({[n]:{type:"error",result:t}})):P5(e)}async function U8(e,t,n,r){let{matches:i,request:s,params:o,context:a}=e,l={handlerResult:void 0};try{let c=i.flatMap(p=>p.route.unstable_middleware?p.route.unstable_middleware.map(g=>[p.route.id,g]):[]),f=await H8({request:s,params:o,context:a},c,t,l,n);return t?f:l.handlerResult}catch(c){if(!l.middlewareError)throw c;let f=await r(l.middlewareError.error,l.middlewareError.routeId);return l.handlerResult?Object.assign(l.handlerResult,f):f}}async function H8(e,t,n,r,i,s=0){let{request:o}=e;if(o.signal.aborted)throw o.signal.reason?o.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${o.method} ${o.url}`);let a=t[s];if(!a)return r.handlerResult=await i(),r.handlerResult;let[l,c]=a,f=!1,p,g=async()=>{if(f)throw new Error("You may only call `next()` once per middleware");f=!0,await H8(e,t,n,r,i,s+1)};try{let y=await c({request:e.request,params:e.params,context:e.context},g);return f?y===void 0?p:y:g()}catch(y){throw r.middlewareError?r.middlewareError.error!==y&&(r.middlewareError={routeId:l,error:y}):r.middlewareError={routeId:l,error:y},y}}function W8(e,t,n,r,i){let s=$8({key:"unstable_middleware",route:r.route,manifest:t,mapRouteProperties:e}),o=jO(r.route,Li(n.method)?"action":"loader",t,e,i);return{middleware:s,route:o.lazyRoutePromise,handler:o.lazyHandlerPromise}}function wb(e,t,n,r,i,s,o,a=null){let l=!1,c=W8(e,t,n,r,i);return{...r,_lazyPromises:c,shouldLoad:o,unstable_shouldRevalidateArgs:a,unstable_shouldCallHandler(f){return l=!0,a?typeof f=="boolean"?v0(r,{...a,defaultShouldRevalidate:f}):v0(r,a):o},resolve(f){return l||o||f&&!Li(n.method)&&(r.route.lazy||r.route.loader)?PO({request:n,match:r,lazyHandlerPromise:c?.handler,lazyRoutePromise:c?.route,handlerOverride:f,scopedContext:s}):Promise.resolve({type:"data",result:void 0})}}}function Ed(e,t,n,r,i,s,o,a=null){return r.map(l=>l.route.id!==i.route.id?{...l,shouldLoad:!1,unstable_shouldRevalidateArgs:a,unstable_shouldCallHandler:()=>!1,_lazyPromises:W8(e,t,n,l,s),resolve:()=>Promise.resolve({type:"data",result:void 0})}:wb(e,t,n,l,s,o,!0,a))}async function NO(e,t,n,r,i,s){n.some(c=>c._lazyPromises?.middleware)&&await Promise.all(n.map(c=>c._lazyPromises?.middleware));let o={request:t,params:n[0].params,context:i,matches:n},l=await e({...o,fetcherKey:r,unstable_runClientMiddleware:c=>{let f=o;return U8(f,!1,()=>c({...f,fetcherKey:r,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}}),(p,g)=>({[g]:{type:"error",result:p}}))}});try{await Promise.all(n.flatMap(c=>[c._lazyPromises?.handler,c._lazyPromises?.route]))}catch{}return l}async function PO({request:e,match:t,lazyHandlerPromise:n,lazyRoutePromise:r,handlerOverride:i,scopedContext:s}){let o,a,l=Li(e.method),c=l?"action":"loader",f=p=>{let g,y=new Promise((C,k)=>g=k);a=()=>g(),e.signal.addEventListener("abort",a);let b=C=>typeof p!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${c}" [routeId: ${t.route.id}]`)):p({request:e,params:t.params,context:s},...C!==void 0?[C]:[]),_=(async()=>{try{return{type:"data",result:await(i?i(k=>b(k)):b())}}catch(C){return{type:"error",result:C}}})();return Promise.race([_,y])};try{let p=l?t.route.action:t.route.loader;if(n||r)if(p){let g,[y]=await Promise.all([f(p).catch(b=>{g=b}),n,r]);if(g!==void 0)throw g;o=y}else{await n;let g=l?t.route.action:t.route.loader;if(g)[o]=await Promise.all([f(g),r]);else if(c==="action"){let y=new URL(e.url),b=y.pathname+y.search;throw ks(405,{method:e.method,pathname:b,routeId:t.route.id})}else return{type:"data",result:void 0}}else if(p)o=await f(p);else{let g=new URL(e.url),y=g.pathname+g.search;throw ks(404,{pathname:y})}}catch(p){return{type:"error",result:p}}finally{a&&e.signal.removeEventListener("abort",a)}return o}async function RO(e){let{result:t,type:n}=e;if(q8(t)){let r;try{let i=t.headers.get("Content-Type");i&&/\bapplication\/json\b/.test(i)?t.body==null?r=null:r=await t.json():r=await t.text()}catch(i){return{type:"error",error:i}}return n==="error"?{type:"error",error:new y0(t.status,t.statusText,r),statusCode:t.status,headers:t.headers}:{type:"data",data:r,statusCode:t.status,headers:t.headers}}return n==="error"?F5(t)?t.data instanceof Error?{type:"error",error:t.data,statusCode:t.init?.status,headers:t.init?.headers?new Headers(t.init.headers):void 0}:{type:"error",error:new y0(t.init?.status||500,void 0,t.data),statusCode:$h(t)?t.status:void 0,headers:t.init?.headers?new Headers(t.init.headers):void 0}:{type:"error",error:t,statusCode:$h(t)?t.status:void 0}:F5(t)?{type:"data",data:t.data,statusCode:t.init?.status,headers:t.init?.headers?new Headers(t.init.headers):void 0}:{type:"data",data:t}}function OO(e,t,n,r,i){let s=e.headers.get("Location");if(Yt(s,"Redirects returned/thrown from loaders/actions must have a Location header"),!f2(s)){let o=r.slice(0,r.findIndex(a=>a.route.id===n)+1);s=xb(new URL(t.url),o,i,s),e.headers.set("Location",s)}return e}function R5(e,t,n){if(f2(e)){let r=e,i=r.startsWith("//")?new URL(t.protocol+r):new URL(r),s=Ps(i.pathname,n)!=null;if(i.origin===t.origin&&s)return i.pathname+i.search+i.hash}return e}function pd(e,t,n,r){let i=e.createURL(V8(t)).toString(),s={signal:n};if(r&&Li(r.formMethod)){let{formMethod:o,formEncType:a}=r;s.method=o.toUpperCase(),a==="application/json"?(s.headers=new Headers({"Content-Type":a}),s.body=JSON.stringify(r.json)):a==="text/plain"?s.body=r.text:a==="application/x-www-form-urlencoded"&&r.formData?s.body=_b(r.formData):s.body=r.formData}return new Request(i,s)}function _b(e){let t=new URLSearchParams;for(let[n,r]of e.entries())t.append(n,typeof r=="string"?r:r.name);return t}function O5(e){let t=new FormData;for(let[n,r]of e.entries())t.append(n,r);return t}function MO(e,t,n,r=!1,i=!1){let s={},o=null,a,l=!1,c={},f=n&&os(n[1])?n[1].error:void 0;return e.forEach(p=>{if(!(p.route.id in t))return;let g=p.route.id,y=t[g];if(Yt(!ju(y),"Cannot handle redirect results in processLoaderData"),os(y)){let b=y.error;if(f!==void 0&&(b=f,f=void 0),o=o||{},i)o[g]=b;else{let _=Cu(e,g);o[_.route.id]==null&&(o[_.route.id]=b)}r||(s[g]=B8),l||(l=!0,a=$h(y.error)?y.error.status:500),y.headers&&(c[g]=y.headers)}else s[g]=y.data,y.statusCode&&y.statusCode!==200&&!l&&(a=y.statusCode),y.headers&&(c[g]=y.headers)}),f!==void 0&&n&&(o={[n[0]]:f},n[2]&&(s[n[2]]=void 0)),{loaderData:s,errors:o,statusCode:a||200,loaderHeaders:c}}function M5(e,t,n,r,i,s){let{loaderData:o,errors:a}=MO(t,n,r);return i.filter(l=>!l.matches||l.matches.some(c=>c.shouldLoad)).forEach(l=>{let{key:c,match:f,controller:p}=l,g=s[c];if(Yt(g,"Did not find corresponding fetcher result"),!(p&&p.signal.aborted))if(os(g)){let y=Cu(e.matches,f?.route.id);a&&a[y.route.id]||(a={...a,[y.route.id]:g.error}),e.fetchers.delete(c)}else if(ju(g))Yt(!1,"Unhandled fetcher revalidation redirect");else{let y=Xa(g.data);e.fetchers.set(c,y)}}),{loaderData:o,errors:a}}function A5(e,t,n,r){let i=Object.entries(t).filter(([,s])=>s!==B8).reduce((s,[o,a])=>(s[o]=a,s),{});for(let s of n){let o=s.route.id;if(!t.hasOwnProperty(o)&&e.hasOwnProperty(o)&&s.route.loader&&(i[o]=e[o]),r&&r.hasOwnProperty(o))break}return i}function D5(e){return e?os(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function Cu(e,t){return(t?e.slice(0,e.findIndex(r=>r.route.id===t)+1):[...e]).reverse().find(r=>r.route.hasErrorBoundary===!0)||e[0]}function L5(e){let t=e.length===1?e[0]:e.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function ks(e,{pathname:t,routeId:n,method:r,type:i,message:s}={}){let o="Unknown Server Error",a="Unknown @remix-run/router error";return e===400?(o="Bad Request",r&&t&&n?a=`You made a ${r} request to "${t}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:i==="invalid-body"&&(a="Unable to encode submission body")):e===403?(o="Forbidden",a=`Route "${n}" does not match URL "${t}"`):e===404?(o="Not Found",a=`No route matches URL "${t}"`):e===405&&(o="Method Not Allowed",r&&t&&n?a=`You made a ${r.toUpperCase()} request to "${t}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:r&&(a=`Invalid request method "${r.toUpperCase()}"`)),new y0(e||500,o,new Error(a),!0)}function Qm(e){let t=Object.entries(e);for(let n=t.length-1;n>=0;n--){let[r,i]=t[n];if(ju(i))return{key:r,result:i}}}function V8(e){let t=typeof e=="string"?Tl(e):e;return ml({...t,hash:""})}function AO(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function DO(e){return q8(e.result)&&xO.has(e.result.status)}function os(e){return e.type==="error"}function ju(e){return(e&&e.type)==="redirect"}function F5(e){return typeof e=="object"&&e!=null&&"type"in e&&"data"in e&&"init"in e&&e.type==="DataWithResponseInit"}function q8(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function LO(e){return vO.has(e.toUpperCase())}function Li(e){return gO.has(e.toUpperCase())}function h2(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function Jg(e,t){let n=typeof t=="string"?Tl(t).search:t.search;if(e[e.length-1].route.index&&h2(n||""))return e[e.length-1];let r=D8(e);return r[r.length-1]}function B5(e){let{formMethod:t,formAction:n,formEncType:r,text:i,formData:s,json:o}=e;if(!(!t||!n||!r)){if(i!=null)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:t,formAction:n,formEncType:r,formData:s,json:void 0,text:void 0};if(o!==void 0)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}}}function Uv(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function FO(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function Gf(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function BO(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function Xa(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function zO(e,t){try{let n=e.sessionStorage.getItem(F8);if(n){let r=JSON.parse(n);for(let[i,s]of Object.entries(r||{}))s&&Array.isArray(s)&&t.set(i,new Set(s||[]))}}catch{}}function $O(e,t){if(t.size>0){let n={};for(let[r,i]of t)n[r]=[...i];try{e.sessionStorage.setItem(F8,JSON.stringify(n))}catch(r){dr(!1,`Failed to save applied view transitions in sessionStorage (${r}).`)}}}function UO(){let e,t,n=new Promise((r,i)=>{e=async s=>{r(s);try{await n}catch{}},t=async s=>{i(s);try{await n}catch{}}});return{promise:n,resolve:e,reject:t}}var Xu=I.createContext(null);Xu.displayName="DataRouter";var fp=I.createContext(null);fp.displayName="DataRouterState";I.createContext(!1);var p2=I.createContext({isTransitioning:!1});p2.displayName="ViewTransition";var Q8=I.createContext(new Map);Q8.displayName="Fetchers";var HO=I.createContext(null);HO.displayName="Await";var No=I.createContext(null);No.displayName="Navigation";var dy=I.createContext(null);dy.displayName="Location";var oo=I.createContext({outlet:null,matches:[],isDataRoute:!1});oo.displayName="Route";var m2=I.createContext(null);m2.displayName="RouteError";function WO(e,{relative:t}={}){Yt(hp(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=I.useContext(No),{hash:i,pathname:s,search:o}=pp(e,{relative:t}),a=s;return n!=="/"&&(a=s==="/"?n:Eo([n,s])),r.createHref({pathname:a,search:o,hash:i})}function hp(){return I.useContext(dy)!=null}function ao(){return Yt(hp(),"useLocation() may be used only in the context of a <Router> component."),I.useContext(dy).location}var K8="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function G8(e){I.useContext(No).static||I.useLayoutEffect(e)}function fy(){let{isDataRoute:e}=I.useContext(oo);return e?iM():VO()}function VO(){Yt(hp(),"useNavigate() may be used only in the context of a <Router> component.");let e=I.useContext(Xu),{basename:t,navigator:n}=I.useContext(No),{matches:r}=I.useContext(oo),{pathname:i}=ao(),s=JSON.stringify(c2(r)),o=I.useRef(!1);return G8(()=>{o.current=!0}),I.useCallback((l,c={})=>{if(dr(o.current,K8),!o.current)return;if(typeof l=="number"){n.go(l);return}let f=d2(l,JSON.parse(s),i,c.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Eo([t,f.pathname])),(c.replace?n.replace:n.push)(f,c.state,c)},[t,n,s,i,e])}var qO=I.createContext(null);function QO(e){let t=I.useContext(oo).outlet;return t&&I.createElement(qO.Provider,{value:e},t)}function Y8(){let{matches:e}=I.useContext(oo),t=e[e.length-1];return t?t.params:{}}function pp(e,{relative:t}={}){let{matches:n}=I.useContext(oo),{pathname:r}=ao(),i=JSON.stringify(c2(n));return I.useMemo(()=>d2(e,JSON.parse(i),r,t==="path"),[e,i,r,t])}function KO(e,t,n,r){Yt(hp(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=I.useContext(No),{matches:s}=I.useContext(oo),o=s[s.length-1],a=o?o.params:{},l=o?o.pathname:"/",c=o?o.pathnameBase:"/",f=o&&o.route;{let k=f&&f.path||"";X8(l,!f||k.endsWith("*")||k.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${l}" (under <Route path="${k}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${k}"> to <Route path="${k==="/"?"*":`${k}/*`}">.`)}let p=ao(),g;g=p;let y=g.pathname||"/",b=y;if(c!=="/"){let k=c.replace(/^\//,"").split("/");b="/"+y.replace(/^\//,"").split("/").slice(k.length).join("/")}let _=il(e,{pathname:b});return dr(f||_!=null,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),dr(_==null||_[_.length-1].route.element!==void 0||_[_.length-1].route.Component!==void 0||_[_.length-1].route.lazy!==void 0,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),ZO(_&&_.map(k=>Object.assign({},k,{params:Object.assign({},a,k.params),pathname:Eo([c,i.encodeLocation?i.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?c:Eo([c,i.encodeLocation?i.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),s,n,r)}function GO(){let e=v2(),t=$h(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=I.createElement(I.Fragment,null,I.createElement("p",null," Hey developer "),I.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",I.createElement("code",{style:s},"ErrorBoundary")," or"," ",I.createElement("code",{style:s},"errorElement")," prop on your route.")),I.createElement(I.Fragment,null,I.createElement("h2",null,"Unexpected Application Error!"),I.createElement("h3",{style:{fontStyle:"italic"}},t),n?I.createElement("pre",{style:i},n):null,o)}var YO=I.createElement(GO,null),XO=class extends I.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?I.createElement(oo.Provider,{value:this.props.routeContext},I.createElement(m2.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function JO({routeContext:e,match:t,children:n}){let r=I.useContext(Xu);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),I.createElement(oo.Provider,{value:e},n)}function ZO(e,t=[],n=null,r=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let i=e,s=n?.errors;if(s!=null){let l=i.findIndex(c=>c.route.id&&s?.[c.route.id]!==void 0);Yt(l>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,l+1))}let o=!1,a=-1;if(n)for(let l=0;l<i.length;l++){let c=i[l];if((c.route.HydrateFallback||c.route.hydrateFallbackElement)&&(a=l),c.route.id){let{loaderData:f,errors:p}=n,g=c.route.loader&&!f.hasOwnProperty(c.route.id)&&(!p||p[c.route.id]===void 0);if(c.route.lazy||g){o=!0,a>=0?i=i.slice(0,a+1):i=[i[0]];break}}}return i.reduceRight((l,c,f)=>{let p,g=!1,y=null,b=null;n&&(p=s&&c.route.id?s[c.route.id]:void 0,y=c.route.errorElement||YO,o&&(a<0&&f===0?(X8("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),g=!0,b=null):a===f&&(g=!0,b=c.route.hydrateFallbackElement||null)));let _=t.concat(i.slice(0,f+1)),C=()=>{let k;return p?k=y:g?k=b:c.route.Component?k=I.createElement(c.route.Component,null):c.route.element?k=c.route.element:k=l,I.createElement(JO,{match:c,routeContext:{outlet:l,matches:_,isDataRoute:n!=null},children:k})};return n&&(c.route.ErrorBoundary||c.route.errorElement||f===0)?I.createElement(XO,{location:n.location,revalidation:n.revalidation,component:y,error:p,children:C(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):C()},null)}function g2(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function eM(e){let t=I.useContext(Xu);return Yt(t,g2(e)),t}function tM(e){let t=I.useContext(fp);return Yt(t,g2(e)),t}function nM(e){let t=I.useContext(oo);return Yt(t,g2(e)),t}function y2(e){let t=nM(e),n=t.matches[t.matches.length-1];return Yt(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function rM(){return y2("useRouteId")}function v2(){let e=I.useContext(m2),t=tM("useRouteError"),n=y2("useRouteError");return e!==void 0?e:t.errors?.[n]}function iM(){let{router:e}=eM("useNavigate"),t=y2("useNavigate"),n=I.useRef(!1);return G8(()=>{n.current=!0}),I.useCallback(async(i,s={})=>{dr(n.current,K8),n.current&&(typeof i=="number"?e.navigate(i):await e.navigate(i,{fromRouteId:t,...s}))},[e,t])}var z5={};function X8(e,t,n){!t&&!z5[e]&&(z5[e]=!0,dr(!1,n))}var $5={};function U5(e,t){!e&&!$5[t]&&($5[t]=!0,console.warn(t))}function sM(e){let t={hasErrorBoundary:e.hasErrorBoundary||e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&(e.element&&dr(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(t,{element:I.createElement(e.Component),Component:void 0})),e.HydrateFallback&&(e.hydrateFallbackElement&&dr(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(t,{hydrateFallbackElement:I.createElement(e.HydrateFallback),HydrateFallback:void 0})),e.ErrorBoundary&&(e.errorElement&&dr(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(t,{errorElement:I.createElement(e.ErrorBoundary),ErrorBoundary:void 0})),t}var oM=["HydrateFallback","hydrateFallbackElement"],aM=class{constructor(){this.status="pending",this.promise=new Promise((t,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",t(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function lM({router:e,flushSync:t}){let[n,r]=I.useState(e.state),[i,s]=I.useState(),[o,a]=I.useState({isTransitioning:!1}),[l,c]=I.useState(),[f,p]=I.useState(),[g,y]=I.useState(),b=I.useRef(new Map),_=I.useCallback((O,{deletedFetchers:$,flushSync:B,viewTransitionOpts:j})=>{O.fetchers.forEach((U,z)=>{U.data!==void 0&&b.current.set(z,U.data)}),$.forEach(U=>b.current.delete(U)),U5(B===!1||t!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let M=e.window!=null&&e.window.document!=null&&typeof e.window.document.startViewTransition=="function";if(U5(j==null||M,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!j||!M){t&&B?t(()=>r(O)):I.startTransition(()=>r(O));return}if(t&&B){t(()=>{f&&(l&&l.resolve(),f.skipTransition()),a({isTransitioning:!0,flushSync:!0,currentLocation:j.currentLocation,nextLocation:j.nextLocation})});let U=e.window.document.startViewTransition(()=>{t(()=>r(O))});U.finished.finally(()=>{t(()=>{c(void 0),p(void 0),s(void 0),a({isTransitioning:!1})})}),t(()=>p(U));return}f?(l&&l.resolve(),f.skipTransition(),y({state:O,currentLocation:j.currentLocation,nextLocation:j.nextLocation})):(s(O),a({isTransitioning:!0,flushSync:!1,currentLocation:j.currentLocation,nextLocation:j.nextLocation}))},[e.window,t,f,l]);I.useLayoutEffect(()=>e.subscribe(_),[e,_]),I.useEffect(()=>{o.isTransitioning&&!o.flushSync&&c(new aM)},[o]),I.useEffect(()=>{if(l&&i&&e.window){let O=i,$=l.promise,B=e.window.document.startViewTransition(async()=>{I.startTransition(()=>r(O)),await $});B.finished.finally(()=>{c(void 0),p(void 0),s(void 0),a({isTransitioning:!1})}),p(B)}},[i,l,e.window]),I.useEffect(()=>{l&&i&&n.location.key===i.location.key&&l.resolve()},[l,f,n.location,i]),I.useEffect(()=>{!o.isTransitioning&&g&&(s(g.state),a({isTransitioning:!0,flushSync:!1,currentLocation:g.currentLocation,nextLocation:g.nextLocation}),y(void 0))},[o.isTransitioning,g]);let C=I.useMemo(()=>({createHref:e.createHref,encodeLocation:e.encodeLocation,go:O=>e.navigate(O),push:(O,$,B)=>e.navigate(O,{state:$,preventScrollReset:B?.preventScrollReset}),replace:(O,$,B)=>e.navigate(O,{replace:!0,state:$,preventScrollReset:B?.preventScrollReset})}),[e]),k=e.basename||"/",P=I.useMemo(()=>({router:e,navigator:C,static:!1,basename:k}),[e,C,k]);return I.createElement(I.Fragment,null,I.createElement(Xu.Provider,{value:P},I.createElement(fp.Provider,{value:n},I.createElement(Q8.Provider,{value:b.current},I.createElement(p2.Provider,{value:o},I.createElement(dM,{basename:k,location:n.location,navigationType:n.historyAction,navigator:C},I.createElement(uM,{routes:e.routes,future:e.future,state:n})))))),null)}var uM=I.memo(cM);function cM({routes:e,future:t,state:n}){return KO(e,void 0,n,t)}function x2(e){return QO(e.context)}function dM({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:i,static:s=!1}){Yt(!hp(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=e.replace(/^\/*/,"/"),a=I.useMemo(()=>({basename:o,navigator:i,static:s,future:{}}),[o,i,s]);typeof n=="string"&&(n=Tl(n));let{pathname:l="/",search:c="",hash:f="",state:p=null,key:g="default"}=n,y=I.useMemo(()=>{let b=Ps(l,o);return b==null?null:{location:{pathname:b,search:c,hash:f,state:p,key:g},navigationType:r}},[o,l,c,f,p,g,r]);return dr(y!=null,`<Router basename="${o}"> is not able to match the URL "${l}${c}${f}" because it does not start with the basename, so the <Router> won't render anything.`),y==null?null:I.createElement(No.Provider,{value:a},I.createElement(dy.Provider,{children:t,value:y}))}var Zg="get",e0="application/x-www-form-urlencoded";function hy(e){return e!=null&&typeof e.tagName=="string"}function fM(e){return hy(e)&&e.tagName.toLowerCase()==="button"}function hM(e){return hy(e)&&e.tagName.toLowerCase()==="form"}function pM(e){return hy(e)&&e.tagName.toLowerCase()==="input"}function mM(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function gM(e,t){return e.button===0&&(!t||t==="_self")&&!mM(e)}function Sb(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function yM(e,t){let n=Sb(e);return t&&t.forEach((r,i)=>{n.has(i)||t.getAll(i).forEach(s=>{n.append(i,s)})}),n}var Km=null;function vM(){if(Km===null)try{new FormData(document.createElement("form"),0),Km=!1}catch{Km=!0}return Km}var xM=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Hv(e){return e!=null&&!xM.has(e)?(dr(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${e0}"`),null):e}function bM(e,t){let n,r,i,s,o;if(hM(e)){let a=e.getAttribute("action");r=a?Ps(a,t):null,n=e.getAttribute("method")||Zg,i=Hv(e.getAttribute("enctype"))||e0,s=new FormData(e)}else if(fM(e)||pM(e)&&(e.type==="submit"||e.type==="image")){let a=e.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=e.getAttribute("formaction")||a.getAttribute("action");if(r=l?Ps(l,t):null,n=e.getAttribute("formmethod")||a.getAttribute("method")||Zg,i=Hv(e.getAttribute("formenctype"))||Hv(a.getAttribute("enctype"))||e0,s=new FormData(a,e),!vM()){let{name:c,type:f,value:p}=e;if(f==="image"){let g=c?`${c}.`:"";s.append(`${g}x`,"0"),s.append(`${g}y`,"0")}else c&&s.append(c,p)}}else{if(hy(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Zg,r=null,i=e0,o=e}return s&&i==="text/plain"&&(o=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function b2(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function wM(e,t,n){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname=`_root.${n}`:t&&Ps(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function _M(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function SM(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function CM(e,t,n){let r=await Promise.all(e.map(async i=>{let s=t.routes[i.route.id];if(s){let o=await _M(s,n);return o.links?o.links():[]}return[]}));return jM(r.flat(1).filter(SM).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function H5(e,t,n,r,i,s){let o=(l,c)=>n[c]?l.route.id!==n[c].route.id:!0,a=(l,c)=>n[c].pathname!==l.pathname||n[c].route.path?.endsWith("*")&&n[c].params["*"]!==l.params["*"];return s==="assets"?t.filter((l,c)=>o(l,c)||a(l,c)):s==="data"?t.filter((l,c)=>{let f=r.routes[l.route.id];if(!f||!f.hasLoader)return!1;if(o(l,c)||a(l,c))return!0;if(l.route.shouldRevalidate){let p=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function kM(e,t,{includeHydrateFallback:n}={}){return EM(e.map(r=>{let i=t.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function EM(e){return[...new Set(e)]}function TM(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function jM(e,t){let n=new Set;return new Set(t),e.reduce((r,i)=>{let s=JSON.stringify(TM(i));return n.has(s)||(n.add(s),r.push({key:s,link:i})),r},[])}function J8(){let e=I.useContext(Xu);return b2(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function IM(){let e=I.useContext(fp);return b2(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var w2=I.createContext(void 0);w2.displayName="FrameworkContext";function Z8(){let e=I.useContext(w2);return b2(e,"You must render this element inside a <HydratedRouter> element"),e}function NM(e,t){let n=I.useContext(w2),[r,i]=I.useState(!1),[s,o]=I.useState(!1),{onFocus:a,onBlur:l,onMouseEnter:c,onMouseLeave:f,onTouchStart:p}=t,g=I.useRef(null);I.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let _=k=>{k.forEach(P=>{o(P.isIntersecting)})},C=new IntersectionObserver(_,{threshold:.5});return g.current&&C.observe(g.current),()=>{C.disconnect()}}},[e]),I.useEffect(()=>{if(r){let _=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(_)}}},[r]);let y=()=>{i(!0)},b=()=>{i(!1),o(!1)};return n?e!=="intent"?[s,g,{}]:[s,g,{onFocus:Yf(a,y),onBlur:Yf(l,b),onMouseEnter:Yf(c,y),onMouseLeave:Yf(f,b),onTouchStart:Yf(p,y)}]:[!1,g,{}]}function Yf(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function PM({page:e,...t}){let{router:n}=J8(),r=I.useMemo(()=>il(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?I.createElement(OM,{page:e,matches:r,...t}):null}function RM(e){let{manifest:t,routeModules:n}=Z8(),[r,i]=I.useState([]);return I.useEffect(()=>{let s=!1;return CM(e,t,n).then(o=>{s||i(o)}),()=>{s=!0}},[e,t,n]),r}function OM({page:e,matches:t,...n}){let r=ao(),{manifest:i,routeModules:s}=Z8(),{basename:o}=J8(),{loaderData:a,matches:l}=IM(),c=I.useMemo(()=>H5(e,t,l,i,r,"data"),[e,t,l,i,r]),f=I.useMemo(()=>H5(e,t,l,i,r,"assets"),[e,t,l,i,r]),p=I.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let b=new Set,_=!1;if(t.forEach(k=>{let P=i.routes[k.route.id];!P||!P.hasLoader||(!c.some(O=>O.route.id===k.route.id)&&k.route.id in a&&s[k.route.id]?.shouldRevalidate||P.hasClientLoader?_=!0:b.add(k.route.id))}),b.size===0)return[];let C=wM(e,o,"data");return _&&b.size>0&&C.searchParams.set("_routes",t.filter(k=>b.has(k.route.id)).map(k=>k.route.id).join(",")),[C.pathname+C.search]},[o,a,r,i,c,t,e,s]),g=I.useMemo(()=>kM(f,i),[f,i]),y=RM(f);return I.createElement(I.Fragment,null,p.map(b=>I.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...n})),g.map(b=>I.createElement("link",{key:b,rel:"modulepreload",href:b,...n})),y.map(({key:b,link:_})=>I.createElement("link",{key:b,..._})))}function MM(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var e7=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{e7&&(window.__reactRouterVersion="7.7.1")}catch{}function AM(e,t){return CO({basename:t?.basename,unstable_getContext:t?.unstable_getContext,future:t?.future,history:UR({window:t?.window}),hydrationData:DM(),routes:e,mapRouteProperties:sM,hydrationRouteProperties:oM,dataStrategy:t?.dataStrategy,patchRoutesOnNavigation:t?.patchRoutesOnNavigation,window:t?.window}).initialize()}function DM(){let e=window?.__staticRouterHydrationData;return e&&e.errors&&(e={...e,errors:LM(e.errors)}),e}function LM(e){if(!e)return null;let t=Object.entries(e),n={};for(let[r,i]of t)if(i&&i.__type==="RouteErrorResponse")n[r]=new y0(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let o=new s(i.message);o.stack="",n[r]=o}catch{}}if(n[r]==null){let s=new Error(i.message);s.stack="",n[r]=s}}else n[r]=i;return n}var t7=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ii=I.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:i,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:f,viewTransition:p,...g},y){let{basename:b}=I.useContext(No),_=typeof c=="string"&&t7.test(c),C,k=!1;if(typeof c=="string"&&_&&(C=c,e7))try{let z=new URL(window.location.href),D=c.startsWith("//")?new URL(z.protocol+c):new URL(c),ee=Ps(D.pathname,b);D.origin===z.origin&&ee!=null?c=ee+D.search+D.hash:k=!0}catch{dr(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let P=WO(c,{relative:i}),[O,$,B]=NM(r,g),j=zM(c,{replace:o,state:a,target:l,preventScrollReset:f,relative:i,viewTransition:p});function M(z){t&&t(z),z.defaultPrevented||j(z)}let U=I.createElement("a",{...g,...B,href:C||P,onClick:k||s?t:M,ref:MM(y,$),target:l,"data-discover":!_&&n==="render"?"true":void 0});return O&&!_?I.createElement(I.Fragment,null,U,I.createElement(PM,{page:P})):U});ii.displayName="Link";var Ju=I.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:i=!1,style:s,to:o,viewTransition:a,children:l,...c},f){let p=pp(o,{relative:c.relative}),g=ao(),y=I.useContext(fp),{navigator:b,basename:_}=I.useContext(No),C=y!=null&&qM(p)&&a===!0,k=b.encodeLocation?b.encodeLocation(p).pathname:p.pathname,P=g.pathname,O=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;n||(P=P.toLowerCase(),O=O?O.toLowerCase():null,k=k.toLowerCase()),O&&_&&(O=Ps(O,_)||O);const $=k!=="/"&&k.endsWith("/")?k.length-1:k.length;let B=P===k||!i&&P.startsWith(k)&&P.charAt($)==="/",j=O!=null&&(O===k||!i&&O.startsWith(k)&&O.charAt(k.length)==="/"),M={isActive:B,isPending:j,isTransitioning:C},U=B?t:void 0,z;typeof r=="function"?z=r(M):z=[r,B?"active":null,j?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let D=typeof s=="function"?s(M):s;return I.createElement(ii,{...c,"aria-current":U,className:z,ref:f,style:D,to:o,viewTransition:a},typeof l=="function"?l(M):l)});Ju.displayName="NavLink";var FM=I.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:i,state:s,method:o=Zg,action:a,onSubmit:l,relative:c,preventScrollReset:f,viewTransition:p,...g},y)=>{let b=WM(),_=VM(a,{relative:c}),C=o.toLowerCase()==="get"?"get":"post",k=typeof a=="string"&&t7.test(a),P=O=>{if(l&&l(O),O.defaultPrevented)return;O.preventDefault();let $=O.nativeEvent.submitter,B=$?.getAttribute("formmethod")||o;b($||O.currentTarget,{fetcherKey:t,method:B,navigate:n,replace:i,state:s,relative:c,preventScrollReset:f,viewTransition:p})};return I.createElement("form",{ref:y,method:C,action:_,onSubmit:r?l:P,...g,"data-discover":!k&&e==="render"?"true":void 0})});FM.displayName="Form";function BM(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function n7(e){let t=I.useContext(Xu);return Yt(t,BM(e)),t}function zM(e,{target:t,replace:n,state:r,preventScrollReset:i,relative:s,viewTransition:o}={}){let a=fy(),l=ao(),c=pp(e,{relative:s});return I.useCallback(f=>{if(gM(f,t)){f.preventDefault();let p=n!==void 0?n:ml(l)===ml(c);a(e,{replace:p,state:r,preventScrollReset:i,relative:s,viewTransition:o})}},[l,a,c,n,r,t,e,i,s,o])}function $M(e){dr(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=I.useRef(Sb(e)),n=I.useRef(!1),r=ao(),i=I.useMemo(()=>yM(r.search,n.current?null:t.current),[r.search]),s=fy(),o=I.useCallback((a,l)=>{const c=Sb(typeof a=="function"?a(new URLSearchParams(i)):a);n.current=!0,s("?"+c,l)},[s,i]);return[i,o]}var UM=0,HM=()=>`__${String(++UM)}__`;function WM(){let{router:e}=n7("useSubmit"),{basename:t}=I.useContext(No),n=rM();return I.useCallback(async(r,i={})=>{let{action:s,method:o,encType:a,formData:l,body:c}=bM(r,t);if(i.navigate===!1){let f=i.fetcherKey||HM();await e.fetch(f,n,i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||o,formEncType:i.encType||a,flushSync:i.flushSync})}else await e.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||o,formEncType:i.encType||a,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,t,n])}function VM(e,{relative:t}={}){let{basename:n}=I.useContext(No),r=I.useContext(oo);Yt(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...pp(e||".",{relative:t})},o=ao();if(e==null){s.search=o.search;let a=new URLSearchParams(s.search),l=a.getAll("index");if(l.some(f=>f==="")){a.delete("index"),l.filter(p=>p).forEach(p=>a.append("index",p));let f=a.toString();s.search=f?`?${f}`:""}}return(!e||e===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:Eo([n,s.pathname])),ml(s)}function qM(e,{relative:t}={}){let n=I.useContext(p2);Yt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=n7("useViewTransitionState"),i=pp(e,{relative:t});if(!n.isTransitioning)return!1;let s=Ps(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=Ps(n.nextLocation.pathname,r)||n.nextLocation.pathname;return g0(i.pathname,o)!=null||g0(i.pathname,s)!=null}var py=P8();const Gm=Vi(py);function QM(e){return I.createElement(lM,{flushSync:py.flushSync,...e})}var Xd=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},$u=typeof window>"u"||"Deno"in globalThis;function gi(){}function KM(e,t){return typeof e=="function"?e(t):e}function Cb(e){return typeof e=="number"&&e>=0&&e!==1/0}function r7(e,t){return Math.max(e+(t||0)-Date.now(),0)}function cl(e,t){return typeof e=="function"?e(t):e}function Ts(e,t){return typeof e=="function"?e(t):e}function W5(e,t){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:o,stale:a}=e;if(o){if(r){if(t.queryHash!==_2(o,t.options))return!1}else if(!Uh(t.queryKey,o))return!1}if(n!=="all"){const l=t.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&t.isStale()!==a||i&&i!==t.state.fetchStatus||s&&!s(t))}function V5(e,t){const{exact:n,status:r,predicate:i,mutationKey:s}=e;if(s){if(!t.options.mutationKey)return!1;if(n){if(Uu(t.options.mutationKey)!==Uu(s))return!1}else if(!Uh(t.options.mutationKey,s))return!1}return!(r&&t.state.status!==r||i&&!i(t))}function _2(e,t){return(t?.queryKeyHashFn||Uu)(e)}function Uu(e){return JSON.stringify(e,(t,n)=>kb(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function Uh(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>Uh(e[n],t[n])):!1}function i7(e,t){if(e===t)return e;const n=q5(e)&&q5(t);if(n||kb(e)&&kb(t)){const r=n?e:Object.keys(e),i=r.length,s=n?t:Object.keys(t),o=s.length,a=n?[]:{},l=new Set(r);let c=0;for(let f=0;f<o;f++){const p=n?f:s[f];(!n&&l.has(p)||n)&&e[p]===void 0&&t[p]===void 0?(a[p]=void 0,c++):(a[p]=i7(e[p],t[p]),a[p]===e[p]&&e[p]!==void 0&&c++)}return i===o&&c===i?e:a}return t}function x0(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function q5(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function kb(e){if(!Q5(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!Q5(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Q5(e){return Object.prototype.toString.call(e)==="[object Object]"}function GM(e){return new Promise(t=>{setTimeout(t,e)})}function Eb(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?i7(e,t):t}function YM(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function XM(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var S2=Symbol();function s7(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===S2?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function o7(e,t){return typeof e=="function"?e(...t):!!e}var JM=class extends Xd{#t;#e;#n;constructor(){super(),this.#n=e=>{if(!$u&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#e||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(e){this.#n=e,this.#e?.(),this.#e=e(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(e){this.#t!==e&&(this.#t=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#t=="boolean"?this.#t:globalThis.document?.visibilityState!=="hidden"}},C2=new JM,ZM=class extends Xd{#t=!0;#e;#n;constructor(){super(),this.#n=e=>{if(!$u&&window.addEventListener){const t=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#e||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(e){this.#n=e,this.#e?.(),this.#e=e(this.setOnline.bind(this))}setOnline(e){this.#t!==e&&(this.#t=e,this.listeners.forEach(n=>{n(e)}))}isOnline(){return this.#t}},b0=new ZM;function Tb(){let e,t;const n=new Promise((i,s)=>{e=i,t=s});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),e(i)},n.reject=i=>{r({status:"rejected",reason:i}),t(i)},n}function eA(e){return Math.min(1e3*2**e,3e4)}function a7(e){return(e??"online")==="online"?b0.isOnline():!0}var l7=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function Wv(e){return e instanceof l7}function u7(e){let t=!1,n=0,r=!1,i;const s=Tb(),o=_=>{r||(g(new l7(_)),e.abort?.())},a=()=>{t=!0},l=()=>{t=!1},c=()=>C2.isFocused()&&(e.networkMode==="always"||b0.isOnline())&&e.canRun(),f=()=>a7(e.networkMode)&&e.canRun(),p=_=>{r||(r=!0,e.onSuccess?.(_),i?.(),s.resolve(_))},g=_=>{r||(r=!0,e.onError?.(_),i?.(),s.reject(_))},y=()=>new Promise(_=>{i=C=>{(r||c())&&_(C)},e.onPause?.()}).then(()=>{i=void 0,r||e.onContinue?.()}),b=()=>{if(r)return;let _;const C=n===0?e.initialPromise:void 0;try{_=C??e.fn()}catch(k){_=Promise.reject(k)}Promise.resolve(_).then(p).catch(k=>{if(r)return;const P=e.retry??($u?0:3),O=e.retryDelay??eA,$=typeof O=="function"?O(n,k):O,B=P===!0||typeof P=="number"&&n<P||typeof P=="function"&&P(n,k);if(t||!B){g(k);return}n++,e.onFail?.(n,k),GM($).then(()=>c()?void 0:y()).then(()=>{t?g(k):b()})})};return{promise:s,cancel:o,continue:()=>(i?.(),s),cancelRetry:a,continueRetry:l,canStart:f,start:()=>(f()?b():y().then(b),s)}}var tA=e=>setTimeout(e,0);function nA(){let e=[],t=0,n=a=>{a()},r=a=>{a()},i=tA;const s=a=>{t?e.push(a):i(()=>{n(a)})},o=()=>{const a=e;e=[],a.length&&i(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;t++;try{l=a()}finally{t--,t||o()}return l},batchCalls:a=>(...l)=>{s(()=>{a(...l)})},schedule:s,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{i=a}}}var Cr=nA(),c7=class{#t;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Cb(this.gcTime)&&(this.#t=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??($u?1/0:300*1e3))}clearGcTimeout(){this.#t&&(clearTimeout(this.#t),this.#t=void 0)}},rA=class extends c7{#t;#e;#n;#r;#i;#o;#a;constructor(e){super(),this.#a=!1,this.#o=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#r=e.client,this.#n=this.#r.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#t=iA(this.options),this.state=e.state??this.#t,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#i?.promise}setOptions(e){this.options={...this.#o,...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(e,t){const n=Eb(this.state.data,e,this.options);return this.#s({data:n,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),n}setState(e,t){this.#s({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#i?.promise;return this.#i?.cancel(e),t?t.then(gi).catch(gi):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#t)}isActive(){return this.observers.some(e=>Ts(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===S2||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>cl(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!r7(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#i?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#i?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#i&&(this.#a?this.#i.cancel({revert:!0}):this.#i.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#s({type:"invalidate"})}fetch(e,t){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#i)return this.#i.continueRetry(),this.#i.promise}if(e&&this.setOptions(e),!this.options.queryFn){const l=this.observers.find(c=>c.options.queryFn);l&&this.setOptions(l.options)}const n=new AbortController,r=l=>{Object.defineProperty(l,"signal",{enumerable:!0,get:()=>(this.#a=!0,n.signal)})},i=()=>{const l=s7(this.options,t),f=(()=>{const p={client:this.#r,queryKey:this.queryKey,meta:this.meta};return r(p),p})();return this.#a=!1,this.options.persister?this.options.persister(l,f,this):l(f)},o=(()=>{const l={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#r,state:this.state,fetchFn:i};return r(l),l})();this.options.behavior?.onFetch(o,this),this.#e=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==o.fetchOptions?.meta)&&this.#s({type:"fetch",meta:o.fetchOptions?.meta});const a=l=>{Wv(l)&&l.silent||this.#s({type:"error",error:l}),Wv(l)||(this.#n.config.onError?.(l,this),this.#n.config.onSettled?.(this.state.data,l,this)),this.scheduleGc()};return this.#i=u7({initialPromise:t?.initialPromise,fn:o.fetchFn,abort:n.abort.bind(n),onSuccess:l=>{if(l===void 0){a(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(l)}catch(c){a(c);return}this.#n.config.onSuccess?.(l,this),this.#n.config.onSettled?.(l,this.state.error,this),this.scheduleGc()},onError:a,onFail:(l,c)=>{this.#s({type:"failed",failureCount:l,error:c})},onPause:()=>{this.#s({type:"pause"})},onContinue:()=>{this.#s({type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0}),this.#i.start()}#s(e){const t=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...d7(n.data,this.options),fetchMeta:e.meta??null};case"success":return this.#e=void 0,{...n,data:e.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const r=e.error;return Wv(r)&&r.revert&&this.#e?{...this.#e,fetchStatus:"idle"}:{...n,error:r,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:r,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=t(this.state),Cr.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:e})})}};function d7(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:a7(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function iA(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var sA=class extends Xd{constructor(e={}){super(),this.config=e,this.#t=new Map}#t;build(e,t,n){const r=t.queryKey,i=t.queryHash??_2(r,t);let s=this.get(i);return s||(s=new rA({client:e,queryKey:r,queryHash:i,options:e.defaultQueryOptions(t),state:n,defaultOptions:e.getQueryDefaults(r)}),this.add(s)),s}add(e){this.#t.has(e.queryHash)||(this.#t.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#t.get(e.queryHash);t&&(e.destroy(),t===e&&this.#t.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Cr.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#t.get(e)}getAll(){return[...this.#t.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(n=>W5(t,n))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(n=>W5(e,n)):t}notify(e){Cr.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){Cr.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Cr.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},oA=class extends c7{#t;#e;#n;constructor(e){super(),this.mutationId=e.mutationId,this.#e=e.mutationCache,this.#t=[],this.state=e.state||f7(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#e.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(t=>t!==e),this.scheduleGc(),this.#e.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#e.remove(this))}continue(){return this.#n?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#r({type:"continue"})};this.#n=u7({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(i,s)=>{this.#r({type:"failed",failureCount:i,error:s})},onPause:()=>{this.#r({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#e.canRun(this)});const n=this.state.status==="pending",r=!this.#n.canStart();try{if(n)t();else{this.#r({type:"pending",variables:e,isPaused:r}),await this.#e.config.onMutate?.(e,this);const s=await this.options.onMutate?.(e);s!==this.state.context&&this.#r({type:"pending",context:s,variables:e,isPaused:r})}const i=await this.#n.start();return await this.#e.config.onSuccess?.(i,e,this.state.context,this),await this.options.onSuccess?.(i,e,this.state.context),await this.#e.config.onSettled?.(i,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(i,null,e,this.state.context),this.#r({type:"success",data:i}),i}catch(i){try{throw await this.#e.config.onError?.(i,e,this.state.context,this),await this.options.onError?.(i,e,this.state.context),await this.#e.config.onSettled?.(void 0,i,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,i,e,this.state.context),i}finally{this.#r({type:"error",error:i})}}finally{this.#e.runNext(this)}}#r(e){const t=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),Cr.batch(()=>{this.#t.forEach(n=>{n.onMutationUpdate(e)}),this.#e.notify({mutation:this,type:"updated",action:e})})}};function f7(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var aA=class extends Xd{constructor(e={}){super(),this.config=e,this.#t=new Set,this.#e=new Map,this.#n=0}#t;#e;#n;build(e,t,n){const r=new oA({mutationCache:this,mutationId:++this.#n,options:e.defaultMutationOptions(t),state:n});return this.add(r),r}add(e){this.#t.add(e);const t=Ym(e);if(typeof t=="string"){const n=this.#e.get(t);n?n.push(e):this.#e.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#t.delete(e)){const t=Ym(e);if(typeof t=="string"){const n=this.#e.get(t);if(n)if(n.length>1){const r=n.indexOf(e);r!==-1&&n.splice(r,1)}else n[0]===e&&this.#e.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=Ym(e);if(typeof t=="string"){const r=this.#e.get(t)?.find(i=>i.state.status==="pending");return!r||r===e}else return!0}runNext(e){const t=Ym(e);return typeof t=="string"?this.#e.get(t)?.find(r=>r!==e&&r.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){Cr.batch(()=>{this.#t.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#t.clear(),this.#e.clear()})}getAll(){return Array.from(this.#t)}find(e){const t={exact:!0,...e};return this.getAll().find(n=>V5(t,n))}findAll(e={}){return this.getAll().filter(t=>V5(e,t))}notify(e){Cr.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return Cr.batch(()=>Promise.all(e.map(t=>t.continue().catch(gi))))}};function Ym(e){return e.options.scope?.id}function K5(e){return{onFetch:(t,n)=>{const r=t.options,i=t.fetchOptions?.meta?.fetchMore?.direction,s=t.state.data?.pages||[],o=t.state.data?.pageParams||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let f=!1;const p=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(t.signal.aborted?f=!0:t.signal.addEventListener("abort",()=>{f=!0}),t.signal)})},g=s7(t.options,t.fetchOptions),y=async(b,_,C)=>{if(f)return Promise.reject();if(_==null&&b.pages.length)return Promise.resolve(b);const P=(()=>{const j={client:t.client,queryKey:t.queryKey,pageParam:_,direction:C?"backward":"forward",meta:t.options.meta};return p(j),j})(),O=await g(P),{maxPages:$}=t.options,B=C?XM:YM;return{pages:B(b.pages,O,$),pageParams:B(b.pageParams,_,$)}};if(i&&s.length){const b=i==="backward",_=b?lA:G5,C={pages:s,pageParams:o},k=_(r,C);a=await y(C,k,b)}else{const b=e??s.length;do{const _=l===0?o[0]??r.initialPageParam:G5(r,a);if(l>0&&_==null)break;a=await y(a,_),l++}while(l<b)}return a};t.options.persister?t.fetchFn=()=>t.options.persister?.(c,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n):t.fetchFn=c}}}function G5(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function lA(e,{pages:t,pageParams:n}){return t.length>0?e.getPreviousPageParam?.(t[0],t,n[0],n):void 0}var uA=class{#t;#e;#n;#r;#i;#o;#a;#s;constructor(e={}){this.#t=e.queryCache||new sA,this.#e=e.mutationCache||new aA,this.#n=e.defaultOptions||{},this.#r=new Map,this.#i=new Map,this.#o=0}mount(){this.#o++,this.#o===1&&(this.#a=C2.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#t.onFocus())}),this.#s=b0.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#t.onOnline())}))}unmount(){this.#o--,this.#o===0&&(this.#a?.(),this.#a=void 0,this.#s?.(),this.#s=void 0)}isFetching(e){return this.#t.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#e.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#t.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=this.#t.build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(cl(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return this.#t.findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),s=this.#t.get(r.queryHash)?.state.data,o=KM(t,s);if(o!==void 0)return this.#t.build(this,r).setData(o,{...n,manual:!0})}setQueriesData(e,t,n){return Cr.batch(()=>this.#t.findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#t.get(t.queryHash)?.state}removeQueries(e){const t=this.#t;Cr.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=this.#t;return Cr.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=Cr.batch(()=>this.#t.findAll(e).map(i=>i.cancel(n)));return Promise.all(r).then(gi).catch(gi)}invalidateQueries(e,t={}){return Cr.batch(()=>(this.#t.findAll(e).forEach(n=>{n.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=Cr.batch(()=>this.#t.findAll(e).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let s=i.fetch(void 0,n);return n.throwOnError||(s=s.catch(gi)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(gi)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=this.#t.build(this,t);return n.isStaleByTime(cl(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(gi).catch(gi)}fetchInfiniteQuery(e){return e.behavior=K5(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(gi).catch(gi)}ensureInfiniteQueryData(e){return e.behavior=K5(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return b0.isOnline()?this.#e.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#t}getMutationCache(){return this.#e}getDefaultOptions(){return this.#n}setDefaultOptions(e){this.#n=e}setQueryDefaults(e,t){this.#r.set(Uu(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#r.values()],n={};return t.forEach(r=>{Uh(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){this.#i.set(Uu(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#i.values()],n={};return t.forEach(r=>{Uh(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#n.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=_2(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===S2&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#n.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#t.clear(),this.#e.clear()}},cA=class extends Xd{constructor(e,t){super(),this.options=t,this.#t=e,this.#s=null,this.#a=Tb(),this.options.experimental_prefetchInRender||this.#a.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(t)}#t;#e=void 0;#n=void 0;#r=void 0;#i;#o;#a;#s;#m;#f;#h;#u;#c;#l;#p=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#e.addObserver(this),Y5(this.#e,this.options)?this.#d():this.updateResult(),this.#x())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return jb(this.#e,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return jb(this.#e,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#b(),this.#w(),this.#e.removeObserver(this)}setOptions(e){const t=this.options,n=this.#e;if(this.options=this.#t.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Ts(this.options.enabled,this.#e)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#_(),this.#e.setOptions(this.options),t._defaulted&&!x0(this.options,t)&&this.#t.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#e,observer:this});const r=this.hasListeners();r&&X5(this.#e,n,this.options,t)&&this.#d(),this.updateResult(),r&&(this.#e!==n||Ts(this.options.enabled,this.#e)!==Ts(t.enabled,this.#e)||cl(this.options.staleTime,this.#e)!==cl(t.staleTime,this.#e))&&this.#g();const i=this.#y();r&&(this.#e!==n||Ts(this.options.enabled,this.#e)!==Ts(t.enabled,this.#e)||i!==this.#l)&&this.#v(i)}getOptimisticResult(e){const t=this.#t.getQueryCache().build(this.#t,e),n=this.createResult(t,e);return fA(this,n)&&(this.#r=n,this.#o=this.options,this.#i=this.#e.state),n}getCurrentResult(){return this.#r}trackResult(e,t){return new Proxy(e,{get:(n,r)=>(this.trackProp(r),t?.(r),Reflect.get(n,r))})}trackProp(e){this.#p.add(e)}getCurrentQuery(){return this.#e}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=this.#t.defaultQueryOptions(e),n=this.#t.getQueryCache().build(this.#t,t);return n.fetch().then(()=>this.createResult(n,t))}fetch(e){return this.#d({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#r))}#d(e){this.#_();let t=this.#e.fetch(this.options,e);return e?.throwOnError||(t=t.catch(gi)),t}#g(){this.#b();const e=cl(this.options.staleTime,this.#e);if($u||this.#r.isStale||!Cb(e))return;const n=r7(this.#r.dataUpdatedAt,e)+1;this.#u=setTimeout(()=>{this.#r.isStale||this.updateResult()},n)}#y(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#e):this.options.refetchInterval)??!1}#v(e){this.#w(),this.#l=e,!($u||Ts(this.options.enabled,this.#e)===!1||!Cb(this.#l)||this.#l===0)&&(this.#c=setInterval(()=>{(this.options.refetchIntervalInBackground||C2.isFocused())&&this.#d()},this.#l))}#x(){this.#g(),this.#v(this.#y())}#b(){this.#u&&(clearTimeout(this.#u),this.#u=void 0)}#w(){this.#c&&(clearInterval(this.#c),this.#c=void 0)}createResult(e,t){const n=this.#e,r=this.options,i=this.#r,s=this.#i,o=this.#o,l=e!==n?e.state:this.#n,{state:c}=e;let f={...c},p=!1,g;if(t._optimisticResults){const U=this.hasListeners(),z=!U&&Y5(e,t),D=U&&X5(e,n,t,r);(z||D)&&(f={...f,...d7(c.data,e.options)}),t._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:y,errorUpdatedAt:b,status:_}=f;g=f.data;let C=!1;if(t.placeholderData!==void 0&&g===void 0&&_==="pending"){let U;i?.isPlaceholderData&&t.placeholderData===o?.placeholderData?(U=i.data,C=!0):U=typeof t.placeholderData=="function"?t.placeholderData(this.#h?.state.data,this.#h):t.placeholderData,U!==void 0&&(_="success",g=Eb(i?.data,U,t),p=!0)}if(t.select&&g!==void 0&&!C)if(i&&g===s?.data&&t.select===this.#m)g=this.#f;else try{this.#m=t.select,g=t.select(g),g=Eb(i?.data,g,t),this.#f=g,this.#s=null}catch(U){this.#s=U}this.#s&&(y=this.#s,g=this.#f,b=Date.now(),_="error");const k=f.fetchStatus==="fetching",P=_==="pending",O=_==="error",$=P&&k,B=g!==void 0,M={status:_,fetchStatus:f.fetchStatus,isPending:P,isSuccess:_==="success",isError:O,isInitialLoading:$,isLoading:$,data:g,dataUpdatedAt:f.dataUpdatedAt,error:y,errorUpdatedAt:b,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>l.dataUpdateCount||f.errorUpdateCount>l.errorUpdateCount,isFetching:k,isRefetching:k&&!P,isLoadingError:O&&!B,isPaused:f.fetchStatus==="paused",isPlaceholderData:p,isRefetchError:O&&B,isStale:k2(e,t),refetch:this.refetch,promise:this.#a,isEnabled:Ts(t.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const U=ee=>{M.status==="error"?ee.reject(M.error):M.data!==void 0&&ee.resolve(M.data)},z=()=>{const ee=this.#a=M.promise=Tb();U(ee)},D=this.#a;switch(D.status){case"pending":e.queryHash===n.queryHash&&U(D);break;case"fulfilled":(M.status==="error"||M.data!==D.value)&&z();break;case"rejected":(M.status!=="error"||M.error!==D.reason)&&z();break}}return M}updateResult(){const e=this.#r,t=this.createResult(this.#e,this.options);if(this.#i=this.#e.state,this.#o=this.options,this.#i.data!==void 0&&(this.#h=this.#e),x0(t,e))return;this.#r=t;const n=()=>{if(!e)return!0;const{notifyOnChangeProps:r}=this.options,i=typeof r=="function"?r():r;if(i==="all"||!i&&!this.#p.size)return!0;const s=new Set(i??this.#p);return this.options.throwOnError&&s.add("error"),Object.keys(this.#r).some(o=>{const a=o;return this.#r[a]!==e[a]&&s.has(a)})};this.#S({listeners:n()})}#_(){const e=this.#t.getQueryCache().build(this.#t,this.options);if(e===this.#e)return;const t=this.#e;this.#e=e,this.#n=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#x()}#S(e){Cr.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(this.#r)}),this.#t.getQueryCache().notify({query:this.#e,type:"observerResultsUpdated"})})}};function dA(e,t){return Ts(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Y5(e,t){return dA(e,t)||e.state.data!==void 0&&jb(e,t,t.refetchOnMount)}function jb(e,t,n){if(Ts(t.enabled,e)!==!1&&cl(t.staleTime,e)!=="static"){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&k2(e,t)}return!1}function X5(e,t,n,r){return(e!==t||Ts(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&k2(e,n)}function k2(e,t){return Ts(t.enabled,e)!==!1&&e.isStaleByTime(cl(t.staleTime,e))}function fA(e,t){return!x0(e.getCurrentResult(),t)}var hA=class extends Xd{#t;#e=void 0;#n;#r;constructor(t,n){super(),this.#t=t,this.setOptions(n),this.bindMethods(),this.#i()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){const n=this.options;this.options=this.#t.defaultMutationOptions(t),x0(this.options,n)||this.#t.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),n?.mutationKey&&this.options.mutationKey&&Uu(n.mutationKey)!==Uu(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(t){this.#i(),this.#o(t)}getCurrentResult(){return this.#e}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#i(),this.#o()}mutate(t,n){return this.#r=n,this.#n?.removeObserver(this),this.#n=this.#t.getMutationCache().build(this.#t,this.options),this.#n.addObserver(this),this.#n.execute(t)}#i(){const t=this.#n?.state??f7();this.#e={...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset}}#o(t){Cr.batch(()=>{if(this.#r&&this.hasListeners()){const n=this.#e.variables,r=this.#e.context;t?.type==="success"?(this.#r.onSuccess?.(t.data,n,r),this.#r.onSettled?.(t.data,null,n,r)):t?.type==="error"&&(this.#r.onError?.(t.error,n,r),this.#r.onSettled?.(void 0,t.error,n,r))}this.listeners.forEach(n=>{n(this.#e)})})}},h7=I.createContext(void 0),ds=e=>{const t=I.useContext(h7);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},pA=({client:e,children:t})=>(I.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),h.jsx(h7.Provider,{value:e,children:t})),p7=I.createContext(!1),mA=()=>I.useContext(p7);p7.Provider;function gA(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var yA=I.createContext(gA()),vA=()=>I.useContext(yA),xA=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},bA=e=>{I.useEffect(()=>{e.clearReset()},[e])},wA=({result:e,errorResetBoundary:t,throwOnError:n,query:r,suspense:i})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(i&&e.data===void 0||o7(n,[e.error,r])),_A=e=>{if(e.suspense){const t=r=>r==="static"?r:Math.max(r??1e3,1e3),n=e.staleTime;e.staleTime=typeof n=="function"?(...r)=>t(n(...r)):t(n),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},SA=(e,t)=>e.isLoading&&e.isFetching&&!t,CA=(e,t)=>e?.suspense&&t.isPending,J5=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function kA(e,t,n){const r=mA(),i=vA(),s=ds(),o=s.defaultQueryOptions(e);s.getDefaultOptions().queries?._experimental_beforeQuery?.(o),o._optimisticResults=r?"isRestoring":"optimistic",_A(o),xA(o,i),bA(i);const a=!s.getQueryCache().get(o.queryHash),[l]=I.useState(()=>new t(s,o)),c=l.getOptimisticResult(o),f=!r&&e.subscribed!==!1;if(I.useSyncExternalStore(I.useCallback(p=>{const g=f?l.subscribe(Cr.batchCalls(p)):gi;return l.updateResult(),g},[l,f]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),I.useEffect(()=>{l.setOptions(o)},[o,l]),CA(o,c))throw J5(o,l,i);if(wA({result:c,errorResetBoundary:i,throwOnError:o.throwOnError,query:s.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw c.error;return s.getDefaultOptions().queries?._experimental_afterQuery?.(o,c),o.experimental_prefetchInRender&&!$u&&SA(c,r)&&(a?J5(o,l,i):s.getQueryCache().get(o.queryHash)?.promise)?.catch(gi).finally(()=>{l.updateResult()}),o.notifyOnChangeProps?c:l.trackResult(c)}function lo(e,t){return kA(e,cA)}function jl(e,t){const n=ds(),[r]=I.useState(()=>new hA(n,e));I.useEffect(()=>{r.setOptions(e)},[r,e]);const i=I.useSyncExternalStore(I.useCallback(o=>r.subscribe(Cr.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),s=I.useCallback((o,a)=>{r.mutate(o,a).catch(gi)},[r]);if(i.error&&o7(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:s,mutateAsync:i.mutate}}var Vv={},qv={},Qv={},Z5;function EA(){return Z5||(Z5=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=function(){for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];if(typeof window<"u"){var a;typeof window.gtag>"u"&&(window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)}),(a=window).gtag.apply(a,s)}},n=t;e.default=n}(Qv)),Qv}var Kv={},eC;function TA(){return eC||(eC=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var t=/^(a|an|and|as|at|but|by|en|for|if|in|nor|of|on|or|per|the|to|vs?\.?|via)$/i;function n(a){return a.toString().trim().replace(/[A-Za-z0-9\u00C0-\u00FF]+[^\s-]*/g,function(l,c,f){return c>0&&c+l.length!==f.length&&l.search(t)>-1&&f.charAt(c-2)!==":"&&(f.charAt(c+l.length)!=="-"||f.charAt(c-1)==="-")&&f.charAt(c-1).search(/[^\s-]/)<0?l.toLowerCase():l.substr(1).search(/[A-Z]|\../)>-1?l:l.charAt(0).toUpperCase()+l.substr(1)})}function r(a){return typeof a=="string"&&a.indexOf("@")!==-1}var i="REDACTED (Potential Email Address)";function s(a){return r(a)?(console.warn("This arg looks like an email address, redacting."),i):a}function o(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,f=a||"";return l&&(f=n(a)),c&&(f=s(f)),f}}(Kv)),Kv}var tC;function jA(){return tC||(tC=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.GA4=void 0;var t=o(EA()),n=o(TA()),r=["eventCategory","eventAction","eventLabel","eventValue","hitType"],i=["title","location"],s=["page","hitType"];function o(q){return q&&q.__esModule?q:{default:q}}function a(q,V){if(q==null)return{};var Q=l(q,V),ne,Z;if(Object.getOwnPropertySymbols){var fe=Object.getOwnPropertySymbols(q);for(Z=0;Z<fe.length;Z++)ne=fe[Z],!(V.indexOf(ne)>=0)&&Object.prototype.propertyIsEnumerable.call(q,ne)&&(Q[ne]=q[ne])}return Q}function l(q,V){if(q==null)return{};var Q={},ne=Object.keys(q),Z,fe;for(fe=0;fe<ne.length;fe++)Z=ne[fe],!(V.indexOf(Z)>=0)&&(Q[Z]=q[Z]);return Q}function c(q){"@babel/helpers - typeof";return c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(V){return typeof V}:function(V){return V&&typeof Symbol=="function"&&V.constructor===Symbol&&V!==Symbol.prototype?"symbol":typeof V},c(q)}function f(q){return y(q)||g(q)||P(q)||p()}function p(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function g(q){if(typeof Symbol<"u"&&q[Symbol.iterator]!=null||q["@@iterator"]!=null)return Array.from(q)}function y(q){if(Array.isArray(q))return O(q)}function b(q,V){var Q=Object.keys(q);if(Object.getOwnPropertySymbols){var ne=Object.getOwnPropertySymbols(q);V&&(ne=ne.filter(function(Z){return Object.getOwnPropertyDescriptor(q,Z).enumerable})),Q.push.apply(Q,ne)}return Q}function _(q){for(var V=1;V<arguments.length;V++){var Q=arguments[V]!=null?arguments[V]:{};V%2?b(Object(Q),!0).forEach(function(ne){z(q,ne,Q[ne])}):Object.getOwnPropertyDescriptors?Object.defineProperties(q,Object.getOwnPropertyDescriptors(Q)):b(Object(Q)).forEach(function(ne){Object.defineProperty(q,ne,Object.getOwnPropertyDescriptor(Q,ne))})}return q}function C(q,V){return B(q)||$(q,V)||P(q,V)||k()}function k(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function P(q,V){if(q){if(typeof q=="string")return O(q,V);var Q=Object.prototype.toString.call(q).slice(8,-1);if(Q==="Object"&&q.constructor&&(Q=q.constructor.name),Q==="Map"||Q==="Set")return Array.from(q);if(Q==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Q))return O(q,V)}}function O(q,V){(V==null||V>q.length)&&(V=q.length);for(var Q=0,ne=new Array(V);Q<V;Q++)ne[Q]=q[Q];return ne}function $(q,V){var Q=q==null?null:typeof Symbol<"u"&&q[Symbol.iterator]||q["@@iterator"];if(Q!=null){var ne,Z,fe,F,G=[],ye=!0,H=!1;try{if(fe=(Q=Q.call(q)).next,V!==0)for(;!(ye=(ne=fe.call(Q)).done)&&(G.push(ne.value),G.length!==V);ye=!0);}catch(Me){H=!0,Z=Me}finally{try{if(!ye&&Q.return!=null&&(F=Q.return(),Object(F)!==F))return}finally{if(H)throw Z}}return G}}function B(q){if(Array.isArray(q))return q}function j(q,V){if(!(q instanceof V))throw new TypeError("Cannot call a class as a function")}function M(q,V){for(var Q=0;Q<V.length;Q++){var ne=V[Q];ne.enumerable=ne.enumerable||!1,ne.configurable=!0,"value"in ne&&(ne.writable=!0),Object.defineProperty(q,D(ne.key),ne)}}function U(q,V,Q){return V&&M(q.prototype,V),Object.defineProperty(q,"prototype",{writable:!1}),q}function z(q,V,Q){return V=D(V),V in q?Object.defineProperty(q,V,{value:Q,enumerable:!0,configurable:!0,writable:!0}):q[V]=Q,q}function D(q){var V=ee(q,"string");return c(V)==="symbol"?V:String(V)}function ee(q,V){if(c(q)!=="object"||q===null)return q;var Q=q[Symbol.toPrimitive];if(Q!==void 0){var ne=Q.call(q,V);if(c(ne)!=="object")return ne;throw new TypeError("@@toPrimitive must return a primitive value.")}return(V==="string"?String:Number)(q)}var J=function(){function q(){var V=this;j(this,q),z(this,"reset",function(){V.isInitialized=!1,V._testMode=!1,V._currentMeasurementId,V._hasLoadedGA=!1,V._isQueuing=!1,V._queueGtag=[]}),z(this,"_gtag",function(){for(var Q=arguments.length,ne=new Array(Q),Z=0;Z<Q;Z++)ne[Z]=arguments[Z];V._testMode||V._isQueuing?V._queueGtag.push(ne):t.default.apply(void 0,ne)}),z(this,"_loadGA",function(Q,ne){var Z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"https://www.googletagmanager.com/gtag/js";if(!(typeof window>"u"||typeof document>"u")&&!V._hasLoadedGA){var fe=document.createElement("script");fe.async=!0,fe.src="".concat(Z,"?id=").concat(Q),ne&&fe.setAttribute("nonce",ne),document.body.appendChild(fe),window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)},V._hasLoadedGA=!0}}),z(this,"_toGtagOptions",function(Q){if(Q){var ne={cookieUpdate:"cookie_update",cookieExpires:"cookie_expires",cookieDomain:"cookie_domain",cookieFlags:"cookie_flags",userId:"user_id",clientId:"client_id",anonymizeIp:"anonymize_ip",contentGroup1:"content_group1",contentGroup2:"content_group2",contentGroup3:"content_group3",contentGroup4:"content_group4",contentGroup5:"content_group5",allowAdFeatures:"allow_google_signals",allowAdPersonalizationSignals:"allow_ad_personalization_signals",nonInteraction:"non_interaction",page:"page_path",hitCallback:"event_callback"},Z=Object.entries(Q).reduce(function(fe,F){var G=C(F,2),ye=G[0],H=G[1];return ne[ye]?fe[ne[ye]]=H:fe[ye]=H,fe},{});return Z}}),z(this,"initialize",function(Q){var ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!Q)throw new Error("Require GA_MEASUREMENT_ID");var Z=typeof Q=="string"?[{trackingId:Q}]:Q;V._currentMeasurementId=Z[0].trackingId;var fe=ne.gaOptions,F=ne.gtagOptions,G=ne.nonce,ye=ne.testMode,H=ye===void 0?!1:ye,Me=ne.gtagUrl;if(V._testMode=H,H||V._loadGA(V._currentMeasurementId,G,Me),V.isInitialized||(V._gtag("js",new Date),Z.forEach(function(Ye){var Ve=_(_(_({},V._toGtagOptions(_(_({},fe),Ye.gaOptions))),F),Ye.gtagOptions);Object.keys(Ve).length?V._gtag("config",Ye.trackingId,Ve):V._gtag("config",Ye.trackingId)})),V.isInitialized=!0,!H){var Ee=f(V._queueGtag);for(V._queueGtag=[],V._isQueuing=!1;Ee.length;){var Te=Ee.shift();V._gtag.apply(V,f(Te)),Te[0]==="get"&&(V._isQueuing=!0)}}}),z(this,"set",function(Q){if(!Q){console.warn("`fieldsObject` is required in .set()");return}if(c(Q)!=="object"){console.warn("Expected `fieldsObject` arg to be an Object");return}Object.keys(Q).length===0&&console.warn("empty `fieldsObject` given to .set()"),V._gaCommand("set",Q)}),z(this,"_gaCommandSendEvent",function(Q,ne,Z,fe,F){V._gtag("event",ne,_(_({event_category:Q,event_label:Z,value:fe},F&&{non_interaction:F.nonInteraction}),V._toGtagOptions(F)))}),z(this,"_gaCommandSendEventParameters",function(){for(var Q=arguments.length,ne=new Array(Q),Z=0;Z<Q;Z++)ne[Z]=arguments[Z];if(typeof ne[0]=="string")V._gaCommandSendEvent.apply(V,f(ne.slice(1)));else{var fe=ne[0],F=fe.eventCategory,G=fe.eventAction,ye=fe.eventLabel,H=fe.eventValue;fe.hitType;var Me=a(fe,r);V._gaCommandSendEvent(F,G,ye,H,Me)}}),z(this,"_gaCommandSendTiming",function(Q,ne,Z,fe){V._gtag("event","timing_complete",{name:ne,value:Z,event_category:Q,event_label:fe})}),z(this,"_gaCommandSendPageview",function(Q,ne){if(ne&&Object.keys(ne).length){var Z=V._toGtagOptions(ne),fe=Z.title,F=Z.location,G=a(Z,i);V._gtag("event","page_view",_(_(_(_({},Q&&{page_path:Q}),fe&&{page_title:fe}),F&&{page_location:F}),G))}else Q?V._gtag("event","page_view",{page_path:Q}):V._gtag("event","page_view")}),z(this,"_gaCommandSendPageviewParameters",function(){for(var Q=arguments.length,ne=new Array(Q),Z=0;Z<Q;Z++)ne[Z]=arguments[Z];if(typeof ne[0]=="string")V._gaCommandSendPageview.apply(V,f(ne.slice(1)));else{var fe=ne[0],F=fe.page;fe.hitType;var G=a(fe,s);V._gaCommandSendPageview(F,G)}}),z(this,"_gaCommandSend",function(){for(var Q=arguments.length,ne=new Array(Q),Z=0;Z<Q;Z++)ne[Z]=arguments[Z];var fe=typeof ne[0]=="string"?ne[0]:ne[0].hitType;switch(fe){case"event":V._gaCommandSendEventParameters.apply(V,ne);break;case"pageview":V._gaCommandSendPageviewParameters.apply(V,ne);break;case"timing":V._gaCommandSendTiming.apply(V,f(ne.slice(1)));break;case"screenview":case"transaction":case"item":case"social":case"exception":console.warn("Unsupported send command: ".concat(fe));break;default:console.warn("Send command doesn't exist: ".concat(fe))}}),z(this,"_gaCommandSet",function(){for(var Q=arguments.length,ne=new Array(Q),Z=0;Z<Q;Z++)ne[Z]=arguments[Z];typeof ne[0]=="string"&&(ne[0]=z({},ne[0],ne[1])),V._gtag("set",V._toGtagOptions(ne[0]))}),z(this,"_gaCommand",function(Q){for(var ne=arguments.length,Z=new Array(ne>1?ne-1:0),fe=1;fe<ne;fe++)Z[fe-1]=arguments[fe];switch(Q){case"send":V._gaCommandSend.apply(V,Z);break;case"set":V._gaCommandSet.apply(V,Z);break;default:console.warn("Command doesn't exist: ".concat(Q))}}),z(this,"ga",function(){for(var Q=arguments.length,ne=new Array(Q),Z=0;Z<Q;Z++)ne[Z]=arguments[Z];if(typeof ne[0]=="string")V._gaCommand.apply(V,ne);else{var fe=ne[0];V._gtag("get",V._currentMeasurementId,"client_id",function(F){V._isQueuing=!1;var G=V._queueGtag;for(fe({get:function(Me){return Me==="clientId"?F:Me==="trackingId"?V._currentMeasurementId:Me==="apiVersion"?"1":void 0}});G.length;){var ye=G.shift();V._gtag.apply(V,f(ye))}}),V._isQueuing=!0}return V.ga}),z(this,"event",function(Q,ne){if(typeof Q=="string")V._gtag("event",Q,V._toGtagOptions(ne));else{var Z=Q.action,fe=Q.category,F=Q.label,G=Q.value,ye=Q.nonInteraction,H=Q.transport;if(!fe||!Z){console.warn("args.category AND args.action are required in event()");return}var Me={hitType:"event",eventCategory:(0,n.default)(fe),eventAction:(0,n.default)(Z)};F&&(Me.eventLabel=(0,n.default)(F)),typeof G<"u"&&(typeof G!="number"?console.warn("Expected `args.value` arg to be a Number."):Me.eventValue=G),typeof ye<"u"&&(typeof ye!="boolean"?console.warn("`args.nonInteraction` must be a boolean."):Me.nonInteraction=ye),typeof H<"u"&&(typeof H!="string"?console.warn("`args.transport` must be a string."):(["beacon","xhr","image"].indexOf(H)===-1&&console.warn("`args.transport` must be either one of these values: `beacon`, `xhr` or `image`"),Me.transport=H)),V._gaCommand("send",Me)}}),z(this,"send",function(Q){V._gaCommand("send",Q)}),this.reset()}return U(q,[{key:"gtag",value:function(){this._gtag.apply(this,arguments)}}]),q}();e.GA4=J;var re=new J;e.default=re}(qv)),qv}var nC;function IA(){return nC||(nC=1,function(e){function t(a){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},t(a)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.ReactGAImplementation=void 0;var n=i(jA());function r(a){if(typeof WeakMap!="function")return null;var l=new WeakMap,c=new WeakMap;return(r=function(p){return p?c:l})(a)}function i(a,l){if(a&&a.__esModule)return a;if(a===null||t(a)!=="object"&&typeof a!="function")return{default:a};var c=r(l);if(c&&c.has(a))return c.get(a);var f={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var g in a)if(g!=="default"&&Object.prototype.hasOwnProperty.call(a,g)){var y=p?Object.getOwnPropertyDescriptor(a,g):null;y&&(y.get||y.set)?Object.defineProperty(f,g,y):f[g]=a[g]}return f.default=a,c&&c.set(a,f),f}var s=n.GA4;e.ReactGAImplementation=s;var o=n.default;e.default=o}(Vv)),Vv}var NA=IA();const PA=Vi(NA);function RA(e){try{(function(t,n,r,i,s,o,a){n.getElementById("clarity-script")||(t[r]=t[r]||function(){(t[r].q=t[r].q||[]).push(arguments)},o=n.createElement(i),o.async=1,o.src="https://www.clarity.ms/tag/"+s+"?ref=npm",o.id="clarity-script",a=n.getElementsByTagName(i)[0],a.parentNode.insertBefore(o,a))})(window,document,"clarity","script",e);return}catch{return}}const OA={init(e){RA(e)},setTag(e,t){window.clarity("set",e,t)},identify(e,t,n,r){window.clarity("identify",e,t,n,r)},consent(e=!0){window.clarity("consent",e)},upgrade(e){window.clarity("upgrade",e)},event(e){window.clarity("event",e)}},At=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Ou="8.55.0",rn=globalThis;function my(e,t,n){const r=n||rn,i=r.__SENTRY__=r.__SENTRY__||{},s=i[Ou]=i[Ou]||{};return s[e]||(s[e]=t())}const Il=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,MA="Sentry Logger ",Ib=["debug","info","warn","error","log","assert","trace"],w0={};function Nl(e){if(!("console"in rn))return e();const t=rn.console,n={},r=Object.keys(w0);r.forEach(i=>{const s=w0[i];n[i]=t[i],t[i]=s});try{return e()}finally{r.forEach(i=>{t[i]=n[i]})}}function AA(){let e=!1;const t={enable:()=>{e=!0},disable:()=>{e=!1},isEnabled:()=>e};return Il?Ib.forEach(n=>{t[n]=(...r)=>{e&&Nl(()=>{rn.console[n](`${MA}[${n}]:`,...r)})}}):Ib.forEach(n=>{t[n]=()=>{}}),t}const Ge=my("logger",AA),m7=50,Hu="?",rC=/\(error: (.*)\)/,iC=/captureMessage|captureException/;function g7(...e){const t=e.sort((n,r)=>n[0]-r[0]).map(n=>n[1]);return(n,r=0,i=0)=>{const s=[],o=n.split(`
`);for(let a=r;a<o.length;a++){const l=o[a];if(l.length>1024)continue;const c=rC.test(l)?l.replace(rC,"$1"):l;if(!c.match(/\S*Error: /)){for(const f of t){const p=f(c);if(p){s.push(p);break}}if(s.length>=m7+i)break}}return LA(s.slice(i))}}function DA(e){return Array.isArray(e)?g7(...e):e}function LA(e){if(!e.length)return[];const t=Array.from(e);return/sentryWrapped/.test(Xm(t).function||"")&&t.pop(),t.reverse(),iC.test(Xm(t).function||"")&&(t.pop(),iC.test(Xm(t).function||"")&&t.pop()),t.slice(0,m7).map(n=>({...n,filename:n.filename||Xm(t).filename,function:n.function||Hu}))}function Xm(e){return e[e.length-1]||{}}const Gv="<anonymous>";function pa(e){try{return!e||typeof e!="function"?Gv:e.name||Gv}catch{return Gv}}function sC(e){const t=e.exception;if(t){const n=[];try{return t.values.forEach(r=>{r.stacktrace.frames&&n.push(...r.stacktrace.frames)}),n}catch{return}}}const t0={},oC={};function Pl(e,t){t0[e]=t0[e]||[],t0[e].push(t)}function Rl(e,t){if(!oC[e]){oC[e]=!0;try{t()}catch(n){Il&&Ge.error(`Error while instrumenting ${e}`,n)}}}function Ns(e,t){const n=e&&t0[e];if(n)for(const r of n)try{r(t)}catch(i){Il&&Ge.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${pa(r)}
Error:`,i)}}let Yv=null;function y7(e){const t="error";Pl(t,e),Rl(t,FA)}function FA(){Yv=rn.onerror,rn.onerror=function(e,t,n,r,i){return Ns("error",{column:r,error:i,line:n,msg:e,url:t}),Yv?Yv.apply(this,arguments):!1},rn.onerror.__SENTRY_INSTRUMENTED__=!0}let Xv=null;function v7(e){const t="unhandledrejection";Pl(t,e),Rl(t,BA)}function BA(){Xv=rn.onunhandledrejection,rn.onunhandledrejection=function(e){return Ns("unhandledrejection",e),Xv?Xv.apply(this,arguments):!0},rn.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}function Zu(){return E2(rn),rn}function E2(e){const t=e.__SENTRY__=e.__SENTRY__||{};return t.version=t.version||Ou,t[Ou]=t[Ou]||{}}const x7=Object.prototype.toString;function T2(e){switch(x7.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return ma(e,Error)}}function Jd(e,t){return x7.call(e)===`[object ${t}]`}function b7(e){return Jd(e,"ErrorEvent")}function aC(e){return Jd(e,"DOMError")}function zA(e){return Jd(e,"DOMException")}function da(e){return Jd(e,"String")}function j2(e){return typeof e=="object"&&e!==null&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function I2(e){return e===null||j2(e)||typeof e!="object"&&typeof e!="function"}function Md(e){return Jd(e,"Object")}function gy(e){return typeof Event<"u"&&ma(e,Event)}function $A(e){return typeof Element<"u"&&ma(e,Element)}function UA(e){return Jd(e,"RegExp")}function yy(e){return!!(e&&e.then&&typeof e.then=="function")}function HA(e){return Md(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function ma(e,t){try{return e instanceof t}catch{return!1}}function w7(e){return!!(typeof e=="object"&&e!==null&&(e.__isVue||e._isVue))}const Td=rn,WA=80;function ga(e,t={}){if(!e)return"<unknown>";try{let n=e;const r=5,i=[];let s=0,o=0;const a=" > ",l=a.length;let c;const f=Array.isArray(t)?t:t.keyAttrs,p=!Array.isArray(t)&&t.maxStringLength||WA;for(;n&&s++<r&&(c=VA(n,f),!(c==="html"||s>1&&o+i.length*l+c.length>=p));)i.push(c),o+=c.length,n=n.parentNode;return i.reverse().join(a)}catch{return"<unknown>"}}function VA(e,t){const n=e,r=[];if(!n||!n.tagName)return"";if(Td.HTMLElement&&n instanceof HTMLElement&&n.dataset){if(n.dataset.sentryComponent)return n.dataset.sentryComponent;if(n.dataset.sentryElement)return n.dataset.sentryElement}r.push(n.tagName.toLowerCase());const i=t&&t.length?t.filter(o=>n.getAttribute(o)).map(o=>[o,n.getAttribute(o)]):null;if(i&&i.length)i.forEach(o=>{r.push(`[${o[0]}="${o[1]}"]`)});else{n.id&&r.push(`#${n.id}`);const o=n.className;if(o&&da(o)){const a=o.split(/\s+/);for(const l of a)r.push(`.${l}`)}}const s=["aria-label","type","name","title","alt"];for(const o of s){const a=n.getAttribute(o);a&&r.push(`[${o}="${a}"]`)}return r.join("")}function _7(){try{return Td.document.location.href}catch{return""}}function qA(e){return Td.document&&Td.document.querySelector?Td.document.querySelector(e):null}function S7(e){if(!Td.HTMLElement)return null;let t=e;const n=5;for(let r=0;r<n;r++){if(!t)return null;if(t instanceof HTMLElement){if(t.dataset.sentryComponent)return t.dataset.sentryComponent;if(t.dataset.sentryElement)return t.dataset.sentryElement}t=t.parentNode}return null}function jd(e,t=0){return typeof e!="string"||t===0||e.length<=t?e:`${e.slice(0,t)}...`}function lC(e,t){if(!Array.isArray(e))return"";const n=[];for(let r=0;r<e.length;r++){const i=e[r];try{w7(i)?n.push("[VueViewModel]"):n.push(String(i))}catch{n.push("[value cannot be serialized]")}}return n.join(t)}function QA(e,t,n=!1){return da(e)?UA(t)?t.test(e):da(t)?n?e===t:e.includes(t):!1:!1}function dl(e,t=[],n=!1){return t.some(r=>QA(e,r,n))}function zi(e,t,n){if(!(t in e))return;const r=e[t],i=n(r);typeof i=="function"&&C7(i,r);try{e[t]=i}catch{Il&&Ge.log(`Failed to replace method "${t}" in object`,e)}}function Rs(e,t,n){try{Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}catch{Il&&Ge.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function C7(e,t){try{const n=t.prototype||{};e.prototype=t.prototype=n,Rs(e,"__sentry_original__",t)}catch{}}function N2(e){return e.__sentry_original__}function k7(e){if(T2(e))return{message:e.message,name:e.name,stack:e.stack,...cC(e)};if(gy(e)){const t={type:e.type,target:uC(e.target),currentTarget:uC(e.currentTarget),...cC(e)};return typeof CustomEvent<"u"&&ma(e,CustomEvent)&&(t.detail=e.detail),t}else return e}function uC(e){try{return $A(e)?ga(e):Object.prototype.toString.call(e)}catch{return"<unknown>"}}function cC(e){if(typeof e=="object"&&e!==null){const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}else return{}}function KA(e,t=40){const n=Object.keys(k7(e));n.sort();const r=n[0];if(!r)return"[object has no keys]";if(r.length>=t)return jd(r,t);for(let i=n.length;i>0;i--){const s=n.slice(0,i).join(", ");if(!(s.length>t))return i===n.length?s:jd(s,t)}return""}function kr(e){return Nb(e,new Map)}function Nb(e,t){if(GA(e)){const n=t.get(e);if(n!==void 0)return n;const r={};t.set(e,r);for(const i of Object.getOwnPropertyNames(e))typeof e[i]<"u"&&(r[i]=Nb(e[i],t));return r}if(Array.isArray(e)){const n=t.get(e);if(n!==void 0)return n;const r=[];return t.set(e,r),e.forEach(i=>{r.push(Nb(i,t))}),r}return e}function GA(e){if(!Md(e))return!1;try{const t=Object.getPrototypeOf(e).constructor.name;return!t||t==="Object"}catch{return!0}}const E7=1e3;function mp(){return Date.now()/E7}function YA(){const{performance:e}=rn;if(!e||!e.now)return mp;const t=Date.now()-e.now(),n=e.timeOrigin==null?t:e.timeOrigin;return()=>(n+e.now())/E7}const bi=YA(),wi=(()=>{const{performance:e}=rn;if(!e||!e.now)return;const t=3600*1e3,n=e.now(),r=Date.now(),i=e.timeOrigin?Math.abs(e.timeOrigin+n-r):t,s=i<t,o=e.timing&&e.timing.navigationStart,l=typeof o=="number"?Math.abs(o+n-r):t,c=l<t;return s||c?i<=l?e.timeOrigin:o:r})();function ls(){const e=rn,t=e.crypto||e.msCrypto;let n=()=>Math.random()*16;try{if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,"");t&&t.getRandomValues&&(n=()=>{const r=new Uint8Array(1);return t.getRandomValues(r),r[0]})}catch{}return("10000000100040008000"+1e11).replace(/[018]/g,r=>(r^(n()&15)>>r/4).toString(16))}function T7(e){return e.exception&&e.exception.values?e.exception.values[0]:void 0}function Za(e){const{message:t,event_id:n}=e;if(t)return t;const r=T7(e);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}function Pb(e,t,n){const r=e.exception=e.exception||{},i=r.values=r.values||[],s=i[0]=i[0]||{};s.value||(s.value=t||""),s.type||(s.type="Error")}function Ad(e,t){const n=T7(e);if(!n)return;const r={type:"generic",handled:!0},i=n.mechanism;if(n.mechanism={...r,...i,...t},t&&"data"in t){const s={...i&&i.data,...t.data};n.mechanism.data=s}}function dC(e){if(XA(e))return!0;try{Rs(e,"__sentry_captured__",!0)}catch{}return!1}function XA(e){try{return e.__sentry_captured__}catch{}}var na;(function(e){e[e.PENDING=0]="PENDING";const n=1;e[e.RESOLVED=n]="RESOLVED";const r=2;e[e.REJECTED=r]="REJECTED"})(na||(na={}));function ya(e){return new js(t=>{t(e)})}function _0(e){return new js((t,n)=>{n(e)})}class js{constructor(t){js.prototype.__init.call(this),js.prototype.__init2.call(this),js.prototype.__init3.call(this),js.prototype.__init4.call(this),this._state=na.PENDING,this._handlers=[];try{t(this._resolve,this._reject)}catch(n){this._reject(n)}}then(t,n){return new js((r,i)=>{this._handlers.push([!1,s=>{if(!t)r(s);else try{r(t(s))}catch(o){i(o)}},s=>{if(!n)i(s);else try{r(n(s))}catch(o){i(o)}}]),this._executeHandlers()})}catch(t){return this.then(n=>n,t)}finally(t){return new js((n,r)=>{let i,s;return this.then(o=>{s=!1,i=o,t&&t()},o=>{s=!0,i=o,t&&t()}).then(()=>{if(s){r(i);return}n(i)})})}__init(){this._resolve=t=>{this._setResult(na.RESOLVED,t)}}__init2(){this._reject=t=>{this._setResult(na.REJECTED,t)}}__init3(){this._setResult=(t,n)=>{if(this._state===na.PENDING){if(yy(n)){n.then(this._resolve,this._reject);return}this._state=t,this._value=n,this._executeHandlers()}}}__init4(){this._executeHandlers=()=>{if(this._state===na.PENDING)return;const t=this._handlers.slice();this._handlers=[],t.forEach(n=>{n[0]||(this._state===na.RESOLVED&&n[1](this._value),this._state===na.REJECTED&&n[2](this._value),n[0]=!0)})}}}function JA(e){const t=bi(),n={sid:ls(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>eD(n)};return e&&Dd(n,e),n}function Dd(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),!e.did&&!t.did&&(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||bi(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=t.sid.length===32?t.sid:ls()),t.init!==void 0&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),typeof t.started=="number"&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if(typeof t.duration=="number")e.duration=t.duration;else{const n=e.timestamp-e.started;e.duration=n>=0?n:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),typeof t.errors=="number"&&(e.errors=t.errors),t.status&&(e.status=t.status)}function ZA(e,t){let n={};e.status==="ok"&&(n={status:"exited"}),Dd(e,n)}function eD(e){return kr({sid:`${e.sid}`,init:e.init,started:new Date(e.started*1e3).toISOString(),timestamp:new Date(e.timestamp*1e3).toISOString(),status:e.status,errors:e.errors,did:typeof e.did=="number"||typeof e.did=="string"?`${e.did}`:void 0,duration:e.duration,abnormal_mechanism:e.abnormal_mechanism,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}})}function gl(){return ls()}function yl(){return ls().substring(16)}function vy(e,t,n=2){if(!t||typeof t!="object"||n<=0)return t;if(e&&t&&Object.keys(t).length===0)return e;const r={...e};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=vy(r[i],t[i],n-1));return r}const Rb="_sentrySpan";function Hh(e,t){t?Rs(e,Rb,t):delete e[Rb]}function S0(e){return e[Rb]}const tD=100;class P2{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:gl(),spanId:yl()}}clone(){const t=new P2;return t._breadcrumbs=[...this._breadcrumbs],t._tags={...this._tags},t._extra={...this._extra},t._contexts={...this._contexts},this._contexts.flags&&(t._contexts.flags={values:[...this._contexts.flags.values]}),t._user=this._user,t._level=this._level,t._session=this._session,t._transactionName=this._transactionName,t._fingerprint=this._fingerprint,t._eventProcessors=[...this._eventProcessors],t._requestSession=this._requestSession,t._attachments=[...this._attachments],t._sdkProcessingMetadata={...this._sdkProcessingMetadata},t._propagationContext={...this._propagationContext},t._client=this._client,t._lastEventId=this._lastEventId,Hh(t,S0(this)),t}setClient(t){this._client=t}setLastEventId(t){this._lastEventId=t}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&Dd(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(t){return this._requestSession=t,this}setTags(t){return this._tags={...this._tags,...t},this._notifyScopeListeners(),this}setTag(t,n){return this._tags={...this._tags,[t]:n},this._notifyScopeListeners(),this}setExtras(t){return this._extra={...this._extra,...t},this._notifyScopeListeners(),this}setExtra(t,n){return this._extra={...this._extra,[t]:n},this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,n){return n===null?delete this._contexts[t]:this._contexts[t]=n,this._notifyScopeListeners(),this}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;const n=typeof t=="function"?t(this):t,[r,i]=n instanceof vl?[n.getScopeData(),n.getRequestSession()]:Md(n)?[t,t.requestSession]:[],{tags:s,extra:o,user:a,contexts:l,level:c,fingerprint:f=[],propagationContext:p}=r||{};return this._tags={...this._tags,...s},this._extra={...this._extra,...o},this._contexts={...this._contexts,...l},a&&Object.keys(a).length&&(this._user=a),c&&(this._level=c),f.length&&(this._fingerprint=f),p&&(this._propagationContext=p),i&&(this._requestSession=i),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._session=void 0,Hh(this,void 0),this._attachments=[],this.setPropagationContext({traceId:gl()}),this._notifyScopeListeners(),this}addBreadcrumb(t,n){const r=typeof n=="number"?n:tD;if(r<=0)return this;const i={timestamp:mp(),...t};return this._breadcrumbs.push(i),this._breadcrumbs.length>r&&(this._breadcrumbs=this._breadcrumbs.slice(-r),this._client&&this._client.recordDroppedEvent("buffer_overflow","log_item")),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:S0(this)}}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata=vy(this._sdkProcessingMetadata,t,2),this}setPropagationContext(t){return this._propagationContext={spanId:yl(),...t},this}getPropagationContext(){return this._propagationContext}captureException(t,n){const r=n&&n.event_id?n.event_id:ls();if(!this._client)return Ge.warn("No client configured on scope - will not capture exception!"),r;const i=new Error("Sentry syntheticException");return this._client.captureException(t,{originalException:t,syntheticException:i,...n,event_id:r},this),r}captureMessage(t,n,r){const i=r&&r.event_id?r.event_id:ls();if(!this._client)return Ge.warn("No client configured on scope - will not capture message!"),i;const s=new Error(t);return this._client.captureMessage(t,n,{originalException:t,syntheticException:s,...r,event_id:i},this),i}captureEvent(t,n){const r=n&&n.event_id?n.event_id:ls();return this._client?(this._client.captureEvent(t,{...n,event_id:r},this),r):(Ge.warn("No client configured on scope - will not capture event!"),r)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(t=>{t(this)}),this._notifyingListeners=!1)}}const vl=P2;function nD(){return my("defaultCurrentScope",()=>new vl)}function rD(){return my("defaultIsolationScope",()=>new vl)}class iD{constructor(t,n){let r;t?r=t:r=new vl;let i;n?i=n:i=new vl,this._stack=[{scope:r}],this._isolationScope=i}withScope(t){const n=this._pushScope();let r;try{r=t(n)}catch(i){throw this._popScope(),i}return yy(r)?r.then(i=>(this._popScope(),i),i=>{throw this._popScope(),i}):(this._popScope(),r)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const t=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:t}),t}_popScope(){return this._stack.length<=1?!1:!!this._stack.pop()}}function Ld(){const e=Zu(),t=E2(e);return t.stack=t.stack||new iD(nD(),rD())}function sD(e){return Ld().withScope(e)}function oD(e,t){const n=Ld();return n.withScope(()=>(n.getStackTop().scope=e,t(e)))}function fC(e){return Ld().withScope(()=>e(Ld().getIsolationScope()))}function aD(){return{withIsolationScope:fC,withScope:sD,withSetScope:oD,withSetIsolationScope:(e,t)=>fC(t),getCurrentScope:()=>Ld().getScope(),getIsolationScope:()=>Ld().getIsolationScope()}}function Zd(e){const t=E2(e);return t.acs?t.acs:aD()}function Dn(){const e=Zu();return Zd(e).getCurrentScope()}function uo(){const e=Zu();return Zd(e).getIsolationScope()}function lD(){return my("globalScope",()=>new vl)}function R2(...e){const t=Zu(),n=Zd(t);if(e.length===2){const[r,i]=e;return r?n.withSetScope(r,i):n.withScope(i)}return n.withScope(e[0])}function en(){return Dn().getClient()}function uD(e){const t=e.getPropagationContext(),{traceId:n,spanId:r,parentSpanId:i}=t;return kr({trace_id:n,span_id:r,parent_span_id:i})}const cD="_sentryMetrics";function Ob(e){const t=e[cD];if(!t)return;const n={};for(const[,[r,i]]of t)(n[r]||(n[r]=[])).push(kr(i));return n}const Co="sentry.source",j7="sentry.sample_rate",Wu="sentry.op",Fr="sentry.origin",Mb="sentry.idle_span_finish_reason",xy="sentry.measurement_unit",by="sentry.measurement_value",hC="sentry.custom_span_name",dD="sentry.profile_id",O2="sentry.exclusive_time",fD=0,I7=1,Ar=2;function hD(e){if(e<400&&e>=100)return{code:I7};if(e>=400&&e<500)switch(e){case 401:return{code:Ar,message:"unauthenticated"};case 403:return{code:Ar,message:"permission_denied"};case 404:return{code:Ar,message:"not_found"};case 409:return{code:Ar,message:"already_exists"};case 413:return{code:Ar,message:"failed_precondition"};case 429:return{code:Ar,message:"resource_exhausted"};case 499:return{code:Ar,message:"cancelled"};default:return{code:Ar,message:"invalid_argument"}}if(e>=500&&e<600)switch(e){case 501:return{code:Ar,message:"unimplemented"};case 503:return{code:Ar,message:"unavailable"};case 504:return{code:Ar,message:"deadline_exceeded"};default:return{code:Ar,message:"internal_error"}}return{code:Ar,message:"unknown_error"}}function N7(e,t){e.setAttribute("http.response.status_code",t);const n=hD(t);n.message!=="unknown_error"&&e.setStatus(n)}const M2="sentry-",pD=/^sentry-/,mD=8192;function P7(e){const t=yD(e);if(!t)return;const n=Object.entries(t).reduce((r,[i,s])=>{if(i.match(pD)){const o=i.slice(M2.length);r[o]=s}return r},{});if(Object.keys(n).length>0)return n}function gD(e){if(!e)return;const t=Object.entries(e).reduce((n,[r,i])=>(i&&(n[`${M2}${r}`]=i),n),{});return vD(t)}function yD(e){if(!(!e||!da(e)&&!Array.isArray(e)))return Array.isArray(e)?e.reduce((t,n)=>{const r=pC(n);return Object.entries(r).forEach(([i,s])=>{t[i]=s}),t},{}):pC(e)}function pC(e){return e.split(",").map(t=>t.split("=").map(n=>decodeURIComponent(n.trim()))).reduce((t,[n,r])=>(n&&r&&(t[n]=r),t),{})}function vD(e){if(Object.keys(e).length!==0)return Object.entries(e).reduce((t,[n,r],i)=>{const s=`${encodeURIComponent(n)}=${encodeURIComponent(r)}`,o=i===0?s:`${t},${s}`;return o.length>mD?(Il&&Ge.warn(`Not adding key: ${n} with val: ${r} to baggage header due to exceeding baggage size limits.`),t):o},"")}const R7=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function xD(e){if(!e)return;const t=e.match(R7);if(!t)return;let n;return t[3]==="1"?n=!0:t[3]==="0"&&(n=!1),{traceId:t[1],parentSampled:n,parentSpanId:t[2]}}function bD(e,t){const n=xD(e),r=P7(t);if(!n||!n.traceId)return{traceId:gl(),spanId:yl()};const{traceId:i,parentSpanId:s,parentSampled:o}=n,a=yl();return{traceId:i,parentSpanId:s,spanId:a,sampled:o,dsc:r||{}}}function O7(e=gl(),t=yl(),n){let r="";return n!==void 0&&(r=n?"-1":"-0"),`${e}-${t}${r}`}const M7=0,A7=1;let mC=!1;function wD(e){const{spanId:t,traceId:n}=e.spanContext(),{data:r,op:i,parent_span_id:s,status:o,origin:a}=gn(e);return kr({parent_span_id:s,span_id:t,trace_id:n,data:r,op:i,status:o,origin:a})}function _D(e){const{spanId:t,traceId:n,isRemote:r}=e.spanContext(),i=r?t:gn(e).parent_span_id,s=r?yl():t;return kr({parent_span_id:i,span_id:s,trace_id:n})}function SD(e){const{traceId:t,spanId:n}=e.spanContext(),r=ec(e);return O7(t,n,r)}function Mu(e){return typeof e=="number"?gC(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?gC(e.getTime()):bi()}function gC(e){return e>9999999999?e/1e3:e}function gn(e){if(kD(e))return e.getSpanJSON();try{const{spanId:t,traceId:n}=e.spanContext();if(CD(e)){const{attributes:r,startTime:i,name:s,endTime:o,parentSpanId:a,status:l}=e;return kr({span_id:t,trace_id:n,data:r,description:s,parent_span_id:a,start_timestamp:Mu(i),timestamp:Mu(o)||void 0,status:D7(l),op:r[Wu],origin:r[Fr],_metrics_summary:Ob(e)})}return{span_id:t,trace_id:n}}catch{return{}}}function CD(e){const t=e;return!!t.attributes&&!!t.startTime&&!!t.name&&!!t.endTime&&!!t.status}function kD(e){return typeof e.getSpanJSON=="function"}function ec(e){const{traceFlags:t}=e.spanContext();return t===A7}function D7(e){if(!(!e||e.code===fD))return e.code===I7?"ok":e.message||"unknown_error"}const Au="_sentryChildSpans",Ab="_sentryRootSpan";function L7(e,t){const n=e[Ab]||e;Rs(t,Ab,n),e[Au]?e[Au].add(t):Rs(e,Au,new Set([t]))}function ED(e,t){e[Au]&&e[Au].delete(t)}function n0(e){const t=new Set;function n(r){if(!t.has(r)&&ec(r)){t.add(r);const i=r[Au]?Array.from(r[Au]):[];for(const s of i)n(s)}}return n(e),Array.from(t)}function Wr(e){return e[Ab]||e}function zr(){const e=Zu(),t=Zd(e);return t.getActiveSpan?t.getActiveSpan():S0(Dn())}function F7(){mC||(Nl(()=>{console.warn("[Sentry] Deprecation warning: Returning null from `beforeSendSpan` will be disallowed from SDK version 9.0.0 onwards. The callback will only support mutating spans. To drop certain spans, configure the respective integrations directly.")}),mC=!0)}let yC=!1;function TD(){yC||(yC=!0,y7(Db),v7(Db))}function Db(){const e=zr(),t=e&&Wr(e);if(t){const n="internal_error";At&&Ge.log(`[Tracing] Root span: ${n} -> Global error occurred`),t.setStatus({code:Ar,message:n})}}Db.tag="sentry_tracingErrorCallback";const B7="_sentryScope",z7="_sentryIsolationScope";function jD(e,t,n){e&&(Rs(e,z7,n),Rs(e,B7,t))}function vC(e){return{scope:e[B7],isolationScope:e[z7]}}function xl(e){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;const t=en(),n=e||t&&t.getOptions();return!!n&&(n.enableTracing||"tracesSampleRate"in n||"tracesSampler"in n)}class ef{constructor(t={}){this._traceId=t.traceId||gl(),this._spanId=t.spanId||yl()}spanContext(){return{spanId:this._spanId,traceId:this._traceId,traceFlags:M7}}end(t){}setAttribute(t,n){return this}setAttributes(t){return this}setStatus(t){return this}updateName(t){return this}isRecording(){return!1}addEvent(t,n,r){return this}addLink(t){return this}addLinks(t){return this}recordException(t,n){}}const A2="production",$7="_frozenDsc";function xC(e,t){Rs(e,$7,t)}function U7(e,t){const n=t.getOptions(),{publicKey:r}=t.getDsn()||{},i=kr({environment:n.environment||A2,release:n.release,public_key:r,trace_id:e});return t.emit("createDsc",i),i}function H7(e,t){const n=t.getPropagationContext();return n.dsc||U7(n.traceId,e)}function tc(e){const t=en();if(!t)return{};const n=Wr(e),r=n[$7];if(r)return r;const i=n.spanContext().traceState,s=i&&i.get("sentry.dsc"),o=s&&P7(s);if(o)return o;const a=U7(e.spanContext().traceId,t),l=gn(n),c=l.data||{},f=c[j7];f!=null&&(a.sample_rate=`${f}`);const p=c[Co],g=l.description;return p!=="url"&&g&&(a.transaction=g),xl()&&(a.sampled=String(ec(n))),t.emit("createDsc",a,n),a}function ID(e){if(!At)return;const{description:t="< unknown name >",op:n="< unknown op >",parent_span_id:r}=gn(e),{spanId:i}=e.spanContext(),s=ec(e),o=Wr(e),a=o===e,l=`[Tracing] Starting ${s?"sampled":"unsampled"} ${a?"root ":""}span`,c=[`op: ${n}`,`name: ${t}`,`ID: ${i}`];if(r&&c.push(`parent ID: ${r}`),!a){const{op:f,description:p}=gn(o);c.push(`root ID: ${o.spanContext().spanId}`),f&&c.push(`root op: ${f}`),p&&c.push(`root description: ${p}`)}Ge.log(`${l}
  ${c.join(`
  `)}`)}function ND(e){if(!At)return;const{description:t="< unknown name >",op:n="< unknown op >"}=gn(e),{spanId:r}=e.spanContext(),s=Wr(e)===e,o=`[Tracing] Finishing "${n}" ${s?"root ":""}span "${t}" with ID ${r}`;Ge.log(o)}function C0(e){if(typeof e=="boolean")return Number(e);const t=typeof e=="string"?parseFloat(e):e;if(typeof t!="number"||isNaN(t)||t<0||t>1){At&&Ge.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(e)} of type ${JSON.stringify(typeof e)}.`);return}return t}function PD(e,t){if(!xl(e))return[!1];const n=uo().getScopeData().sdkProcessingMetadata.normalizedRequest,r={...t,normalizedRequest:t.normalizedRequest||n};let i;typeof e.tracesSampler=="function"?i=e.tracesSampler(r):r.parentSampled!==void 0?i=r.parentSampled:typeof e.tracesSampleRate<"u"?i=e.tracesSampleRate:i=1;const s=C0(i);return s===void 0?(At&&Ge.warn("[Tracing] Discarding transaction because of invalid sample rate."),[!1]):s?Math.random()<s?[!0,s]:(At&&Ge.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(i)})`),[!1,s]):(At&&Ge.log(`[Tracing] Discarding transaction because ${typeof e.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),[!1,s])}const RD=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function OD(e){return e==="http"||e==="https"}function gp(e,t=!1){const{host:n,path:r,pass:i,port:s,projectId:o,protocol:a,publicKey:l}=e;return`${a}://${l}${t&&i?`:${i}`:""}@${n}${s?`:${s}`:""}/${r&&`${r}/`}${o}`}function MD(e){const t=RD.exec(e);if(!t){Nl(()=>{console.error(`Invalid Sentry Dsn: ${e}`)});return}const[n,r,i="",s="",o="",a=""]=t.slice(1);let l="",c=a;const f=c.split("/");if(f.length>1&&(l=f.slice(0,-1).join("/"),c=f.pop()),c){const p=c.match(/^\d+/);p&&(c=p[0])}return W7({host:s,pass:i,path:l,projectId:c,port:o,protocol:n,publicKey:r})}function W7(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function AD(e){if(!Il)return!0;const{port:t,projectId:n,protocol:r}=e;return["protocol","publicKey","host","projectId"].find(o=>e[o]?!1:(Ge.error(`Invalid Sentry Dsn: ${o} missing`),!0))?!1:n.match(/^\d+$/)?OD(r)?t&&isNaN(parseInt(t,10))?(Ge.error(`Invalid Sentry Dsn: Invalid port ${t}`),!1):!0:(Ge.error(`Invalid Sentry Dsn: Invalid protocol ${r}`),!1):(Ge.error(`Invalid Sentry Dsn: Invalid projectId ${n}`),!1)}function DD(e){const t=typeof e=="string"?MD(e):W7(e);if(!(!t||!AD(t)))return t}function LD(){const e=typeof WeakSet=="function",t=e?new WeakSet:[];function n(i){if(e)return t.has(i)?!0:(t.add(i),!1);for(let s=0;s<t.length;s++)if(t[s]===i)return!0;return t.push(i),!1}function r(i){if(e)t.delete(i);else for(let s=0;s<t.length;s++)if(t[s]===i){t.splice(s,1);break}}return[n,r]}function Xs(e,t=100,n=1/0){try{return Lb("",e,t,n)}catch(r){return{ERROR:`**non-serializable** (${r})`}}}function V7(e,t=3,n=100*1024){const r=Xs(e,t);return $D(r)>n?V7(e,t-1,n):r}function Lb(e,t,n=1/0,r=1/0,i=LD()){const[s,o]=i;if(t==null||["boolean","string"].includes(typeof t)||typeof t=="number"&&Number.isFinite(t))return t;const a=FD(e,t);if(!a.startsWith("[object "))return a;if(t.__sentry_skip_normalization__)return t;const l=typeof t.__sentry_override_normalization_depth__=="number"?t.__sentry_override_normalization_depth__:n;if(l===0)return a.replace("object ","");if(s(t))return"[Circular ~]";const c=t;if(c&&typeof c.toJSON=="function")try{const y=c.toJSON();return Lb("",y,l-1,r,i)}catch{}const f=Array.isArray(t)?[]:{};let p=0;const g=k7(t);for(const y in g){if(!Object.prototype.hasOwnProperty.call(g,y))continue;if(p>=r){f[y]="[MaxProperties ~]";break}const b=g[y];f[y]=Lb(y,b,l-1,r,i),p++}return o(t),f}function FD(e,t){try{if(e==="domain"&&t&&typeof t=="object"&&t._events)return"[Domain]";if(e==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&t===global)return"[Global]";if(typeof window<"u"&&t===window)return"[Window]";if(typeof document<"u"&&t===document)return"[Document]";if(w7(t))return"[VueViewModel]";if(HA(t))return"[SyntheticEvent]";if(typeof t=="number"&&!Number.isFinite(t))return`[${t}]`;if(typeof t=="function")return`[Function: ${pa(t)}]`;if(typeof t=="symbol")return`[${String(t)}]`;if(typeof t=="bigint")return`[BigInt: ${String(t)}]`;const n=BD(t);return/^HTML(\w*)Element$/.test(n)?`[HTMLElement: ${n}]`:`[object ${n}]`}catch(n){return`**non-serializable** (${n})`}}function BD(e){const t=Object.getPrototypeOf(e);return t?t.constructor.name:"null prototype"}function zD(e){return~-encodeURI(e).split(/%..|./).length}function $D(e){return zD(JSON.stringify(e))}function nc(e,t=[]){return[e,t]}function UD(e,t){const[n,r]=e;return[n,[...r,t]]}function bC(e,t){const n=e[1];for(const r of n){const i=r[0].type;if(t(r,i))return!0}return!1}function Fb(e){return rn.__SENTRY__&&rn.__SENTRY__.encodePolyfill?rn.__SENTRY__.encodePolyfill(e):new TextEncoder().encode(e)}function HD(e){const[t,n]=e;let r=JSON.stringify(t);function i(s){typeof r=="string"?r=typeof s=="string"?r+s:[Fb(r),s]:r.push(typeof s=="string"?Fb(s):s)}for(const s of n){const[o,a]=s;if(i(`
${JSON.stringify(o)}
`),typeof a=="string"||a instanceof Uint8Array)i(a);else{let l;try{l=JSON.stringify(a)}catch{l=JSON.stringify(Xs(a))}i(l)}}return typeof r=="string"?r:WD(r)}function WD(e){const t=e.reduce((i,s)=>i+s.length,0),n=new Uint8Array(t);let r=0;for(const i of e)n.set(i,r),r+=i.length;return n}function VD(e){return[{type:"span"},e]}function qD(e){const t=typeof e.data=="string"?Fb(e.data):e.data;return[kr({type:"attachment",length:t.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType}),t]}const QD={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"metric_bucket",raw_security:"security"};function wC(e){return QD[e]}function D2(e){if(!e||!e.sdk)return;const{name:t,version:n}=e.sdk;return{name:t,version:n}}function q7(e,t,n,r){const i=e.sdkProcessingMetadata&&e.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:e.event_id,sent_at:new Date().toISOString(),...t&&{sdk:t},...!!n&&r&&{dsn:gp(r)},...i&&{trace:kr({...i})}}}function KD(e,t){return t&&(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||t.name,e.sdk.version=e.sdk.version||t.version,e.sdk.integrations=[...e.sdk.integrations||[],...t.integrations||[]],e.sdk.packages=[...e.sdk.packages||[],...t.packages||[]]),e}function GD(e,t,n,r){const i=D2(n),s={sent_at:new Date().toISOString(),...i&&{sdk:i},...!!r&&t&&{dsn:gp(t)}},o="aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e.toJSON()];return nc(s,[o])}function YD(e,t,n,r){const i=D2(n),s=e.type&&e.type!=="replay_event"?e.type:"event";KD(e,n&&n.sdk);const o=q7(e,i,r,t);return delete e.sdkProcessingMetadata,nc(o,[[{type:s},e]])}function XD(e,t){function n(f){return!!f.trace_id&&!!f.public_key}const r=tc(e[0]),i=t&&t.getDsn(),s=t&&t.getOptions().tunnel,o={sent_at:new Date().toISOString(),...n(r)&&{trace:r},...!!s&&i&&{dsn:gp(i)}},a=t&&t.getOptions().beforeSendSpan,l=a?f=>{const p=a(gn(f));return p||F7(),p}:f=>gn(f),c=[];for(const f of e){const p=l(f);p&&c.push(VD(p))}return nc(o,c)}function JD(e,t,n,r=zr()){const i=r&&Wr(r);i&&(At&&Ge.log(`[Measurement] Setting measurement on root span: ${e} = ${t} ${n}`),i.addEvent(e,{[by]:t,[xy]:n}))}function _C(e){if(!e||e.length===0)return;const t={};return e.forEach(n=>{const r=n.attributes||{},i=r[xy],s=r[by];typeof i=="string"&&typeof s=="number"&&(t[n.name]={value:s,unit:i})}),t}const SC=1e3;class L2{constructor(t={}){this._traceId=t.traceId||gl(),this._spanId=t.spanId||yl(),this._startTime=t.startTimestamp||bi(),this._attributes={},this.setAttributes({[Fr]:"manual",[Wu]:t.op,...t.attributes}),this._name=t.name,t.parentSpanId&&(this._parentSpanId=t.parentSpanId),"sampled"in t&&(this._sampled=t.sampled),t.endTimestamp&&(this._endTime=t.endTimestamp),this._events=[],this._isStandaloneSpan=t.isStandalone,this._endTime&&this._onSpanEnded()}addLink(t){return this}addLinks(t){return this}recordException(t,n){}spanContext(){const{_spanId:t,_traceId:n,_sampled:r}=this;return{spanId:t,traceId:n,traceFlags:r?A7:M7}}setAttribute(t,n){return n===void 0?delete this._attributes[t]:this._attributes[t]=n,this}setAttributes(t){return Object.keys(t).forEach(n=>this.setAttribute(n,t[n])),this}updateStartTime(t){this._startTime=Mu(t)}setStatus(t){return this._status=t,this}updateName(t){return this._name=t,this.setAttribute(Co,"custom"),this}end(t){this._endTime||(this._endTime=Mu(t),ND(this),this._onSpanEnded())}getSpanJSON(){return kr({data:this._attributes,description:this._name,op:this._attributes[Wu],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:D7(this._status),timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[Fr],_metrics_summary:Ob(this),profile_id:this._attributes[dD],exclusive_time:this._attributes[O2],measurements:_C(this._events),is_segment:this._isStandaloneSpan&&Wr(this)===this||void 0,segment_id:this._isStandaloneSpan?Wr(this).spanContext().spanId:void 0})}isRecording(){return!this._endTime&&!!this._sampled}addEvent(t,n,r){At&&Ge.log("[Tracing] Adding an event to span:",t);const i=CC(n)?n:r||bi(),s=CC(n)?{}:n||{},o={name:t,time:Mu(i),attributes:s};return this._events.push(o),this}isStandaloneSpan(){return!!this._isStandaloneSpan}_onSpanEnded(){const t=en();if(t&&t.emit("spanEnd",this),!(this._isStandaloneSpan||this===Wr(this)))return;if(this._isStandaloneSpan){this._sampled?eL(XD([this],t)):(At&&Ge.log("[Tracing] Discarding standalone span because its trace was not chosen to be sampled."),t&&t.recordDroppedEvent("sample_rate","span"));return}const r=this._convertSpanToTransaction();r&&(vC(this).scope||Dn()).captureEvent(r)}_convertSpanToTransaction(){if(!kC(gn(this)))return;this._name||(At&&Ge.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>");const{scope:t,isolationScope:n}=vC(this),i=(t||Dn()).getClient()||en();if(this._sampled!==!0){At&&Ge.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled."),i&&i.recordDroppedEvent("sample_rate","transaction");return}const o=n0(this).filter(p=>p!==this&&!ZD(p)).map(p=>gn(p)).filter(kC),a=this._attributes[Co];delete this._attributes[hC],o.forEach(p=>{p.data&&delete p.data[hC]});const l={contexts:{trace:wD(this)},spans:o.length>SC?o.sort((p,g)=>p.start_timestamp-g.start_timestamp).slice(0,SC):o,start_timestamp:this._startTime,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{capturedSpanScope:t,capturedSpanIsolationScope:n,...kr({dynamicSamplingContext:tc(this)})},_metrics_summary:Ob(this),...a&&{transaction_info:{source:a}}},c=_C(this._events);return c&&Object.keys(c).length&&(At&&Ge.log("[Measurements] Adding measurements to transaction event",JSON.stringify(c,void 0,2)),l.measurements=c),l}}function CC(e){return e&&typeof e=="number"||e instanceof Date||Array.isArray(e)}function kC(e){return!!e.start_timestamp&&!!e.timestamp&&!!e.span_id&&!!e.trace_id}function ZD(e){return e instanceof L2&&e.isStandaloneSpan()}function eL(e){const t=en();if(!t)return;const n=e[1];if(!n||n.length===0){t.recordDroppedEvent("before_send","span");return}t.sendEnvelope(e)}const Q7="__SENTRY_SUPPRESS_TRACING__";function yp(e){const t=G7();if(t.startInactiveSpan)return t.startInactiveSpan(e);const n=nL(e),{forceTransaction:r,parentSpan:i}=e;return(e.scope?o=>R2(e.scope,o):i!==void 0?o=>K7(i,o):o=>o())(()=>{const o=Dn(),a=iL(o);return e.onlyIfParent&&!a?new ef:tL({parentSpan:a,spanArguments:n,forceTransaction:r,scope:o})})}function K7(e,t){const n=G7();return n.withActiveSpan?n.withActiveSpan(e,t):R2(r=>(Hh(r,e||void 0),t(r)))}function tL({parentSpan:e,spanArguments:t,forceTransaction:n,scope:r}){if(!xl())return new ef;const i=uo();let s;if(e&&!n)s=rL(e,r,t),L7(e,s);else if(e){const o=tc(e),{traceId:a,spanId:l}=e.spanContext(),c=ec(e);s=EC({traceId:a,parentSpanId:l,...t},r,c),xC(s,o)}else{const{traceId:o,dsc:a,parentSpanId:l,sampled:c}={...i.getPropagationContext(),...r.getPropagationContext()};s=EC({traceId:o,parentSpanId:l,...t},r,c),a&&xC(s,a)}return ID(s),jD(s,r,i),s}function nL(e){const n={isStandalone:(e.experimental||{}).standalone,...e};if(e.startTime){const r={...n};return r.startTimestamp=Mu(e.startTime),delete r.startTime,r}return n}function G7(){const e=Zu();return Zd(e)}function EC(e,t,n){const r=en(),i=r&&r.getOptions()||{},{name:s="",attributes:o}=e,[a,l]=t.getScopeData().sdkProcessingMetadata[Q7]?[!1]:PD(i,{name:s,parentSampled:n,attributes:o,transactionContext:{name:s,parentSampled:n}}),c=new L2({...e,attributes:{[Co]:"custom",...e.attributes},sampled:a});return l!==void 0&&c.setAttribute(j7,l),r&&r.emit("spanStart",c),c}function rL(e,t,n){const{spanId:r,traceId:i}=e.spanContext(),s=t.getScopeData().sdkProcessingMetadata[Q7]?!1:ec(e),o=s?new L2({...n,parentSpanId:r,traceId:i,sampled:s}):new ef({traceId:i});L7(e,o);const a=en();return a&&(a.emit("spanStart",o),n.endTimestamp&&a.emit("spanEnd",o)),o}function iL(e){const t=S0(e);if(!t)return;const n=en();return(n?n.getOptions():{}).parentSpanIsAlwaysRootSpan?Wr(t):t}const r0={idleTimeout:1e3,finalTimeout:3e4,childSpanTimeout:15e3},sL="heartbeatFailed",oL="idleTimeout",aL="finalTimeout",lL="externalFinish";function Y7(e,t={}){const n=new Map;let r=!1,i,s=lL,o=!t.disableAutoFinish;const a=[],{idleTimeout:l=r0.idleTimeout,finalTimeout:c=r0.finalTimeout,childSpanTimeout:f=r0.childSpanTimeout,beforeSpanEnd:p}=t,g=en();if(!g||!xl())return new ef;const y=Dn(),b=zr(),_=uL(e);_.end=new Proxy(_.end,{apply(j,M,U){p&&p(_);const[z,...D]=U,ee=z||bi(),J=Mu(ee),re=n0(_).filter(Z=>Z!==_);if(!re.length)return B(J),Reflect.apply(j,M,[J,...D]);const q=re.map(Z=>gn(Z).timestamp).filter(Z=>!!Z),V=q.length?Math.max(...q):void 0,Q=gn(_).start_timestamp,ne=Math.min(Q?Q+c/1e3:1/0,Math.max(Q||-1/0,Math.min(J,V||1/0)));return B(ne),Reflect.apply(j,M,[ne,...D])}});function C(){i&&(clearTimeout(i),i=void 0)}function k(j){C(),i=setTimeout(()=>{!r&&n.size===0&&o&&(s=oL,_.end(j))},l)}function P(j){i=setTimeout(()=>{!r&&o&&(s=sL,_.end(j))},f)}function O(j){C(),n.set(j,!0);const M=bi();P(M+f/1e3)}function $(j){if(n.has(j)&&n.delete(j),n.size===0){const M=bi();k(M+l/1e3)}}function B(j){r=!0,n.clear(),a.forEach(J=>J()),Hh(y,b);const M=gn(_),{start_timestamp:U}=M;if(!U)return;(M.data||{})[Mb]||_.setAttribute(Mb,s),Ge.log(`[Tracing] Idle span "${M.op}" finished`);const D=n0(_).filter(J=>J!==_);let ee=0;D.forEach(J=>{J.isRecording()&&(J.setStatus({code:Ar,message:"cancelled"}),J.end(j),At&&Ge.log("[Tracing] Cancelling span since span ended early",JSON.stringify(J,void 0,2)));const re=gn(J),{timestamp:q=0,start_timestamp:V=0}=re,Q=V<=j,ne=(c+l)/1e3,Z=q-V<=ne;if(At){const fe=JSON.stringify(J,void 0,2);Q?Z||Ge.log("[Tracing] Discarding span since it finished after idle span final timeout",fe):Ge.log("[Tracing] Discarding span since it happened after idle span was finished",fe)}(!Z||!Q)&&(ED(_,J),ee++)}),ee>0&&_.setAttribute("sentry.idle_span_discarded_spans",ee)}return a.push(g.on("spanStart",j=>{if(r||j===_||gn(j).timestamp)return;n0(_).includes(j)&&O(j.spanContext().spanId)})),a.push(g.on("spanEnd",j=>{r||$(j.spanContext().spanId)})),a.push(g.on("idleSpanEnableAutoFinish",j=>{j===_&&(o=!0,k(),n.size&&P())})),t.disableAutoFinish||k(),setTimeout(()=>{r||(_.setStatus({code:Ar,message:"deadline_exceeded"}),s=aL,_.end())},c),_}function uL(e){const t=yp(e);return Hh(Dn(),t),At&&Ge.log("[Tracing] Started span is an idle span"),t}function Bb(e,t,n,r=0){return new js((i,s)=>{const o=e[r];if(t===null||typeof o!="function")i(t);else{const a=o({...t},n);At&&o.id&&a===null&&Ge.log(`Event processor "${o.id}" dropped event`),yy(a)?a.then(l=>Bb(e,l,n,r+1).then(i)).then(null,s):Bb(e,a,n,r+1).then(i).then(null,s)}})}let Jm,TC,Zm;function cL(e){const t=rn._sentryDebugIds;if(!t)return{};const n=Object.keys(t);return Zm&&n.length===TC||(TC=n.length,Zm=n.reduce((r,i)=>{Jm||(Jm={});const s=Jm[i];if(s)r[s[0]]=s[1];else{const o=e(i);for(let a=o.length-1;a>=0;a--){const l=o[a],c=l&&l.filename,f=t[i];if(c&&f){r[c]=f,Jm[i]=[c,f];break}}}return r},{})),Zm}function dL(e,t){const{fingerprint:n,span:r,breadcrumbs:i,sdkProcessingMetadata:s}=t;fL(e,t),r&&mL(e,r),gL(e,n),hL(e,i),pL(e,s)}function jC(e,t){const{extra:n,tags:r,user:i,contexts:s,level:o,sdkProcessingMetadata:a,breadcrumbs:l,fingerprint:c,eventProcessors:f,attachments:p,propagationContext:g,transactionName:y,span:b}=t;eg(e,"extra",n),eg(e,"tags",r),eg(e,"user",i),eg(e,"contexts",s),e.sdkProcessingMetadata=vy(e.sdkProcessingMetadata,a,2),o&&(e.level=o),y&&(e.transactionName=y),b&&(e.span=b),l.length&&(e.breadcrumbs=[...e.breadcrumbs,...l]),c.length&&(e.fingerprint=[...e.fingerprint,...c]),f.length&&(e.eventProcessors=[...e.eventProcessors,...f]),p.length&&(e.attachments=[...e.attachments,...p]),e.propagationContext={...e.propagationContext,...g}}function eg(e,t,n){e[t]=vy(e[t],n,1)}function fL(e,t){const{extra:n,tags:r,user:i,contexts:s,level:o,transactionName:a}=t,l=kr(n);l&&Object.keys(l).length&&(e.extra={...l,...e.extra});const c=kr(r);c&&Object.keys(c).length&&(e.tags={...c,...e.tags});const f=kr(i);f&&Object.keys(f).length&&(e.user={...f,...e.user});const p=kr(s);p&&Object.keys(p).length&&(e.contexts={...p,...e.contexts}),o&&(e.level=o),a&&e.type!=="transaction"&&(e.transaction=a)}function hL(e,t){const n=[...e.breadcrumbs||[],...t];e.breadcrumbs=n.length?n:void 0}function pL(e,t){e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...t}}function mL(e,t){e.contexts={trace:_D(t),...e.contexts},e.sdkProcessingMetadata={dynamicSamplingContext:tc(t),...e.sdkProcessingMetadata};const n=Wr(t),r=gn(n).description;r&&!e.transaction&&e.type==="transaction"&&(e.transaction=r)}function gL(e,t){e.fingerprint=e.fingerprint?Array.isArray(e.fingerprint)?e.fingerprint:[e.fingerprint]:[],t&&(e.fingerprint=e.fingerprint.concat(t)),e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint}function X7(e,t,n,r,i,s){const{normalizeDepth:o=3,normalizeMaxBreadth:a=1e3}=e,l={...t,event_id:t.event_id||n.event_id||ls(),timestamp:t.timestamp||mp()},c=n.integrations||e.integrations.map(C=>C.name);yL(l,e),bL(l,c),i&&i.emit("applyFrameMetadata",t),t.type===void 0&&vL(l,e.stackParser);const f=_L(r,n.captureContext);n.mechanism&&Ad(l,n.mechanism);const p=i?i.getEventProcessors():[],g=lD().getScopeData();if(s){const C=s.getScopeData();jC(g,C)}if(f){const C=f.getScopeData();jC(g,C)}const y=[...n.attachments||[],...g.attachments];y.length&&(n.attachments=y),dL(l,g);const b=[...p,...g.eventProcessors];return Bb(b,l,n).then(C=>(C&&xL(C),typeof o=="number"&&o>0?wL(C,o,a):C))}function yL(e,t){const{environment:n,release:r,dist:i,maxValueLength:s=250}=t;e.environment=e.environment||n||A2,!e.release&&r&&(e.release=r),!e.dist&&i&&(e.dist=i),e.message&&(e.message=jd(e.message,s));const o=e.exception&&e.exception.values&&e.exception.values[0];o&&o.value&&(o.value=jd(o.value,s));const a=e.request;a&&a.url&&(a.url=jd(a.url,s))}function vL(e,t){const n=cL(t);try{e.exception.values.forEach(r=>{r.stacktrace.frames.forEach(i=>{n&&i.filename&&(i.debug_id=n[i.filename])})})}catch{}}function xL(e){const t={};try{e.exception.values.forEach(r=>{r.stacktrace.frames.forEach(i=>{i.debug_id&&(i.abs_path?t[i.abs_path]=i.debug_id:i.filename&&(t[i.filename]=i.debug_id),delete i.debug_id)})})}catch{}if(Object.keys(t).length===0)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];const n=e.debug_meta.images;Object.entries(t).forEach(([r,i])=>{n.push({type:"sourcemap",code_file:r,debug_id:i})})}function bL(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}function wL(e,t,n){if(!e)return null;const r={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map(i=>({...i,...i.data&&{data:Xs(i.data,t,n)}}))},...e.user&&{user:Xs(e.user,t,n)},...e.contexts&&{contexts:Xs(e.contexts,t,n)},...e.extra&&{extra:Xs(e.extra,t,n)}};return e.contexts&&e.contexts.trace&&r.contexts&&(r.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(r.contexts.trace.data=Xs(e.contexts.trace.data,t,n))),e.spans&&(r.spans=e.spans.map(i=>({...i,...i.data&&{data:Xs(i.data,t,n)}}))),e.contexts&&e.contexts.flags&&r.contexts&&(r.contexts.flags=Xs(e.contexts.flags,3,n)),r}function _L(e,t){if(!t)return e;const n=e?e.clone():new vl;return n.update(t),n}function SL(e){if(e)return CL(e)?{captureContext:e}:EL(e)?{captureContext:e}:e}function CL(e){return e instanceof vl||typeof e=="function"}const kL=["user","level","extra","contexts","tags","fingerprint","requestSession","propagationContext"];function EL(e){return Object.keys(e).some(t=>kL.includes(t))}function F2(e,t){return Dn().captureException(e,SL(t))}function J7(e,t){return Dn().captureEvent(e,t)}function Z7(e,t){uo().setContext(e,t)}function TL(){const e=en();return!!e&&e.getOptions().enabled!==!1&&!!e.getTransport()}function jL(e){uo().addEventProcessor(e)}function IC(e){const t=en(),n=uo(),r=Dn(),{release:i,environment:s=A2}=t&&t.getOptions()||{},{userAgent:o}=rn.navigator||{},a=JA({release:i,environment:s,user:r.getUser()||n.getUser(),...o&&{userAgent:o},...e}),l=n.getSession();return l&&l.status==="ok"&&Dd(l,{status:"exited"}),eT(),n.setSession(a),r.setSession(a),a}function eT(){const e=uo(),t=Dn(),n=t.getSession()||e.getSession();n&&ZA(n),tT(),e.setSession(),t.setSession()}function tT(){const e=uo(),t=Dn(),n=en(),r=t.getSession()||e.getSession();r&&n&&n.captureSession(r)}function NC(e=!1){if(e){eT();return}tT()}const IL="7";function NL(e){const t=e.protocol?`${e.protocol}:`:"",n=e.port?`:${e.port}`:"";return`${t}//${e.host}${n}${e.path?`/${e.path}`:""}/api/`}function PL(e){return`${NL(e)}${e.projectId}/envelope/`}function RL(e,t){const n={sentry_version:IL};return e.publicKey&&(n.sentry_key=e.publicKey),t&&(n.sentry_client=`${t.name}/${t.version}`),new URLSearchParams(n).toString()}function OL(e,t,n){return t||`${PL(e)}?${RL(e,n)}`}const PC=[];function ML(e){const t={};return e.forEach(n=>{const{name:r}=n,i=t[r];i&&!i.isDefaultInstance&&n.isDefaultInstance||(t[r]=n)}),Object.values(t)}function AL(e){const t=e.defaultIntegrations||[],n=e.integrations;t.forEach(o=>{o.isDefaultInstance=!0});let r;if(Array.isArray(n))r=[...t,...n];else if(typeof n=="function"){const o=n(t);r=Array.isArray(o)?o:[o]}else r=t;const i=ML(r),s=i.findIndex(o=>o.name==="Debug");if(s>-1){const[o]=i.splice(s,1);i.push(o)}return i}function DL(e,t){const n={};return t.forEach(r=>{r&&nT(e,r,n)}),n}function RC(e,t){for(const n of t)n&&n.afterAllSetup&&n.afterAllSetup(e)}function nT(e,t,n){if(n[t.name]){At&&Ge.log(`Integration skipped because it was already installed: ${t.name}`);return}if(n[t.name]=t,PC.indexOf(t.name)===-1&&typeof t.setupOnce=="function"&&(t.setupOnce(),PC.push(t.name)),t.setup&&typeof t.setup=="function"&&t.setup(e),typeof t.preprocessEvent=="function"){const r=t.preprocessEvent.bind(t);e.on("preprocessEvent",(i,s)=>r(i,s,e))}if(typeof t.processEvent=="function"){const r=t.processEvent.bind(t),i=Object.assign((s,o)=>r(s,o,e),{id:t.name});e.addEventProcessor(i)}At&&Ge.log(`Integration installed: ${t.name}`)}function LL(e,t,n){const r=[{type:"client_report"},{timestamp:mp(),discarded_events:e}];return nc(t?{dsn:t}:{},[r])}class Zs extends Error{constructor(t,n="warn"){super(t),this.message=t,this.logLevel=n}}const OC="Not capturing exception because it's already been captured.";class FL{constructor(t){if(this._options=t,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],t.dsn?this._dsn=DD(t.dsn):At&&Ge.warn("No DSN provided, client will not send events."),this._dsn){const i=OL(this._dsn,t.tunnel,t._metadata?t._metadata.sdk:void 0);this._transport=t.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...t.transportOptions,url:i})}const r=["enableTracing","tracesSampleRate","tracesSampler"].find(i=>i in t&&t[i]==null);r&&Nl(()=>{console.warn(`[Sentry] Deprecation warning: \`${r}\` is set to undefined, which leads to tracing being enabled. In v9, a value of \`undefined\` will result in tracing being disabled.`)})}captureException(t,n,r){const i=ls();if(dC(t))return At&&Ge.log(OC),i;const s={event_id:i,...n};return this._process(this.eventFromException(t,s).then(o=>this._captureEvent(o,s,r))),s.event_id}captureMessage(t,n,r,i){const s={event_id:ls(),...r},o=j2(t)?t:String(t),a=I2(t)?this.eventFromMessage(o,n,s):this.eventFromException(t,s);return this._process(a.then(l=>this._captureEvent(l,s,i))),s.event_id}captureEvent(t,n,r){const i=ls();if(n&&n.originalException&&dC(n.originalException))return At&&Ge.log(OC),i;const s={event_id:i,...n},a=(t.sdkProcessingMetadata||{}).capturedSpanScope;return this._process(this._captureEvent(t,s,a||r)),s.event_id}captureSession(t){typeof t.release!="string"?At&&Ge.warn("Discarded session because of missing or non-string release"):(this.sendSession(t),Dd(t,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(t){const n=this._transport;return n?(this.emit("flush"),this._isClientDoneProcessing(t).then(r=>n.flush(t).then(i=>r&&i))):ya(!0)}close(t){return this.flush(t).then(n=>(this.getOptions().enabled=!1,this.emit("close"),n))}getEventProcessors(){return this._eventProcessors}addEventProcessor(t){this._eventProcessors.push(t)}init(){(this._isEnabled()||this._options.integrations.some(({name:t})=>t.startsWith("Spotlight")))&&this._setupIntegrations()}getIntegrationByName(t){return this._integrations[t]}addIntegration(t){const n=this._integrations[t.name];nT(this,t,this._integrations),n||RC(this,[t])}sendEvent(t,n={}){this.emit("beforeSendEvent",t,n);let r=YD(t,this._dsn,this._options._metadata,this._options.tunnel);for(const s of n.attachments||[])r=UD(r,qD(s));const i=this.sendEnvelope(r);i&&i.then(s=>this.emit("afterSendEvent",t,s),null)}sendSession(t){const n=GD(t,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(n)}recordDroppedEvent(t,n,r){if(this._options.sendClientReports){const i=typeof r=="number"?r:1,s=`${t}:${n}`;At&&Ge.log(`Recording outcome: "${s}"${i>1?` (${i} times)`:""}`),this._outcomes[s]=(this._outcomes[s]||0)+i}}on(t,n){const r=this._hooks[t]=this._hooks[t]||[];return r.push(n),()=>{const i=r.indexOf(n);i>-1&&r.splice(i,1)}}emit(t,...n){const r=this._hooks[t];r&&r.forEach(i=>i(...n))}sendEnvelope(t){return this.emit("beforeEnvelope",t),this._isEnabled()&&this._transport?this._transport.send(t).then(null,n=>(At&&Ge.error("Error while sending envelope:",n),n)):(At&&Ge.error("Transport disabled"),ya({}))}_setupIntegrations(){const{integrations:t}=this._options;this._integrations=DL(this,t),RC(this,t)}_updateSessionFromEvent(t,n){let r=n.level==="fatal",i=!1;const s=n.exception&&n.exception.values;if(s){i=!0;for(const l of s){const c=l.mechanism;if(c&&c.handled===!1){r=!0;break}}}const o=t.status==="ok";(o&&t.errors===0||o&&r)&&(Dd(t,{...r&&{status:"crashed"},errors:t.errors||Number(i||r)}),this.captureSession(t))}_isClientDoneProcessing(t){return new js(n=>{let r=0;const i=1,s=setInterval(()=>{this._numProcessing==0?(clearInterval(s),n(!0)):(r+=i,t&&r>=t&&(clearInterval(s),n(!1)))},i)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(t,n,r=Dn(),i=uo()){const s=this.getOptions(),o=Object.keys(this._integrations);return!n.integrations&&o.length>0&&(n.integrations=o),this.emit("preprocessEvent",t,n),t.type||i.setLastEventId(t.event_id||n.event_id),X7(s,t,n,r,this,i).then(a=>{if(a===null)return a;a.contexts={trace:uD(r),...a.contexts};const l=H7(this,r);return a.sdkProcessingMetadata={dynamicSamplingContext:l,...a.sdkProcessingMetadata},a})}_captureEvent(t,n={},r){return this._processEvent(t,n,r).then(i=>i.event_id,i=>{At&&(i instanceof Zs&&i.logLevel==="log"?Ge.log(i.message):Ge.warn(i))})}_processEvent(t,n,r){const i=this.getOptions(),{sampleRate:s}=i,o=iT(t),a=rT(t),l=t.type||"error",c=`before send for type \`${l}\``,f=typeof s>"u"?void 0:C0(s);if(a&&typeof f=="number"&&Math.random()>f)return this.recordDroppedEvent("sample_rate","error",t),_0(new Zs(`Discarding event because it's not included in the random sample (sampling rate = ${s})`,"log"));const p=l==="replay_event"?"replay":l,y=(t.sdkProcessingMetadata||{}).capturedSpanIsolationScope;return this._prepareEvent(t,n,r,y).then(b=>{if(b===null)throw this.recordDroppedEvent("event_processor",p,t),new Zs("An event processor returned `null`, will not send event.","log");if(n.data&&n.data.__sentry__===!0)return b;const C=zL(this,i,b,n);return BL(C,c)}).then(b=>{if(b===null){if(this.recordDroppedEvent("before_send",p,t),o){const P=1+(t.spans||[]).length;this.recordDroppedEvent("before_send","span",P)}throw new Zs(`${c} returned \`null\`, will not send event.`,"log")}const _=r&&r.getSession();if(!o&&_&&this._updateSessionFromEvent(_,b),o){const k=b.sdkProcessingMetadata&&b.sdkProcessingMetadata.spanCountBeforeProcessing||0,P=b.spans?b.spans.length:0,O=k-P;O>0&&this.recordDroppedEvent("before_send","span",O)}const C=b.transaction_info;if(o&&C&&b.transaction!==t.transaction){const k="custom";b.transaction_info={...C,source:k}}return this.sendEvent(b,n),b}).then(null,b=>{throw b instanceof Zs?b:(this.captureException(b,{data:{__sentry__:!0},originalException:b}),new Zs(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${b}`))})}_process(t){this._numProcessing++,t.then(n=>(this._numProcessing--,n),n=>(this._numProcessing--,n))}_clearOutcomes(){const t=this._outcomes;return this._outcomes={},Object.entries(t).map(([n,r])=>{const[i,s]=n.split(":");return{reason:i,category:s,quantity:r}})}_flushOutcomes(){At&&Ge.log("Flushing outcomes...");const t=this._clearOutcomes();if(t.length===0){At&&Ge.log("No outcomes to send");return}if(!this._dsn){At&&Ge.log("No dsn provided, will not send outcomes");return}At&&Ge.log("Sending outcomes:",t);const n=LL(t,this._options.tunnel&&gp(this._dsn));this.sendEnvelope(n)}}function BL(e,t){const n=`${t} must return \`null\` or a valid event.`;if(yy(e))return e.then(r=>{if(!Md(r)&&r!==null)throw new Zs(n);return r},r=>{throw new Zs(`${t} rejected with ${r}`)});if(!Md(e)&&e!==null)throw new Zs(n);return e}function zL(e,t,n,r){const{beforeSend:i,beforeSendTransaction:s,beforeSendSpan:o}=t;if(rT(n)&&i)return i(n,r);if(iT(n)){if(n.spans&&o){const a=[];for(const l of n.spans){const c=o(l);c?a.push(c):(F7(),e.recordDroppedEvent("before_send","span"))}n.spans=a}if(s){if(n.spans){const a=n.spans.length;n.sdkProcessingMetadata={...n.sdkProcessingMetadata,spanCountBeforeProcessing:a}}return s(n,r)}}return n}function rT(e){return e.type===void 0}function iT(e){return e.type==="transaction"}function $L(e,t){t.debug===!0&&(At?Ge.enable():Nl(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})),Dn().update(t.initialScope);const r=new e(t);return UL(r),r.init(),r}function UL(e){Dn().setClient(e)}function HL(e){const t=[];function n(){return e===void 0||t.length<e}function r(o){return t.splice(t.indexOf(o),1)[0]||Promise.resolve(void 0)}function i(o){if(!n())return _0(new Zs("Not adding Promise because buffer limit was reached."));const a=o();return t.indexOf(a)===-1&&t.push(a),a.then(()=>r(a)).then(null,()=>r(a).then(null,()=>{})),a}function s(o){return new js((a,l)=>{let c=t.length;if(!c)return a(!0);const f=setTimeout(()=>{o&&o>0&&a(!1)},o);t.forEach(p=>{ya(p).then(()=>{--c||(clearTimeout(f),a(!0))},l)})})}return{$:t,add:i,drain:s}}const WL=60*1e3;function VL(e,t=Date.now()){const n=parseInt(`${e}`,10);if(!isNaN(n))return n*1e3;const r=Date.parse(`${e}`);return isNaN(r)?WL:r-t}function qL(e,t){return e[t]||e.all||0}function sT(e,t,n=Date.now()){return qL(e,t)>n}function oT(e,{statusCode:t,headers:n},r=Date.now()){const i={...e},s=n&&n["x-sentry-rate-limits"],o=n&&n["retry-after"];if(s)for(const a of s.trim().split(",")){const[l,c,,,f]=a.split(":",5),p=parseInt(l,10),g=(isNaN(p)?60:p)*1e3;if(!c)i.all=r+g;else for(const y of c.split(";"))y==="metric_bucket"?(!f||f.split(";").includes("custom"))&&(i[y]=r+g):i[y]=r+g}else o?i.all=r+VL(o,r):t===429&&(i.all=r+60*1e3);return i}const QL=64;function KL(e,t,n=HL(e.bufferSize||QL)){let r={};const i=o=>n.drain(o);function s(o){const a=[];if(bC(o,(p,g)=>{const y=wC(g);if(sT(r,y)){const b=MC(p,g);e.recordDroppedEvent("ratelimit_backoff",y,b)}else a.push(p)}),a.length===0)return ya({});const l=nc(o[0],a),c=p=>{bC(l,(g,y)=>{const b=MC(g,y);e.recordDroppedEvent(p,wC(y),b)})},f=()=>t({body:HD(l)}).then(p=>(p.statusCode!==void 0&&(p.statusCode<200||p.statusCode>=300)&&At&&Ge.warn(`Sentry responded with status code ${p.statusCode} to sent event.`),r=oT(r,p),p),p=>{throw c("network_error"),p});return n.add(f).then(p=>p,p=>{if(p instanceof Zs)return At&&Ge.error("Skipped sending event because buffer is full."),c("queue_overflow"),ya({});throw p})}return{send:s,flush:i}}function MC(e,t){if(!(t!=="event"&&t!=="transaction"))return Array.isArray(e)?e[1]:void 0}function GL(e,t){const n=t&&t.getDsn(),r=t&&t.getOptions().tunnel;return XL(e,n)||YL(e,r)}function YL(e,t){return t?AC(e)===AC(t):!1}function XL(e,t){return t?e.includes(t.host):!1}function AC(e){return e[e.length-1]==="/"?e.slice(0,-1):e}function aT(e,t,n=[t],r="npm"){const i=e._metadata||{};i.sdk||(i.sdk={name:`sentry.javascript.${t}`,packages:n.map(s=>({name:`${r}:@sentry/${s}`,version:Ou})),version:Ou}),e._metadata=i}function lT(e={}){const t=en();if(!TL()||!t)return{};const n=Zu(),r=Zd(n);if(r.getTraceData)return r.getTraceData(e);const i=Dn(),s=e.span||zr(),o=s?SD(s):JL(i),a=s?tc(s):H7(t,i),l=gD(a);return R7.test(o)?{"sentry-trace":o,baggage:l}:(Ge.warn("Invalid sentry-trace data. Cannot generate trace data"),{})}function JL(e){const{traceId:t,sampled:n,spanId:r}=e.getPropagationContext();return O7(t,r,n)}const ZL=100;function bl(e,t){const n=en(),r=uo();if(!n)return;const{beforeBreadcrumb:i=null,maxBreadcrumbs:s=ZL}=n.getOptions();if(s<=0)return;const a={timestamp:mp(),...e},l=i?Nl(()=>i(a,t)):a;l!==null&&(n.emit&&n.emit("beforeAddBreadcrumb",l,t),r.addBreadcrumb(l,s))}let DC;const eF="FunctionToString",LC=new WeakMap,tF=()=>({name:eF,setupOnce(){DC=Function.prototype.toString;try{Function.prototype.toString=function(...e){const t=N2(this),n=LC.has(en())&&t!==void 0?t:this;return DC.apply(n,e)}}catch{}},setup(e){LC.set(e,!0)}}),nF=tF,rF=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,"undefined is not an object (evaluating 'a.L')",`can't redefine non-configurable property "solana"`,"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler",/^Non-Error promise rejection captured with value: Object Not Found Matching Id:\d+, MethodName:simulateEvent, ParamCount:\d+$/],iF="InboundFilters",sF=(e={})=>({name:iF,processEvent(t,n,r){const i=r.getOptions(),s=aF(e,i);return lF(t,s)?null:t}}),oF=sF;function aF(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...e.disableErrorDefaults?[]:rF],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[]],ignoreInternal:e.ignoreInternal!==void 0?e.ignoreInternal:!0}}function lF(e,t){return t.ignoreInternal&&pF(e)?(At&&Ge.warn(`Event dropped due to being internal Sentry Error.
Event: ${Za(e)}`),!0):uF(e,t.ignoreErrors)?(At&&Ge.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${Za(e)}`),!0):gF(e)?(At&&Ge.warn(`Event dropped due to not having an error message, error type or stacktrace.
Event: ${Za(e)}`),!0):cF(e,t.ignoreTransactions)?(At&&Ge.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${Za(e)}`),!0):dF(e,t.denyUrls)?(At&&Ge.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${Za(e)}.
Url: ${k0(e)}`),!0):fF(e,t.allowUrls)?!1:(At&&Ge.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${Za(e)}.
Url: ${k0(e)}`),!0)}function uF(e,t){return e.type||!t||!t.length?!1:hF(e).some(n=>dl(n,t))}function cF(e,t){if(e.type!=="transaction"||!t||!t.length)return!1;const n=e.transaction;return n?dl(n,t):!1}function dF(e,t){if(!t||!t.length)return!1;const n=k0(e);return n?dl(n,t):!1}function fF(e,t){if(!t||!t.length)return!0;const n=k0(e);return n?dl(n,t):!0}function hF(e){const t=[];e.message&&t.push(e.message);let n;try{n=e.exception.values[e.exception.values.length-1]}catch{}return n&&n.value&&(t.push(n.value),n.type&&t.push(`${n.type}: ${n.value}`)),t}function pF(e){try{return e.exception.values[0].type==="SentryError"}catch{}return!1}function mF(e=[]){for(let t=e.length-1;t>=0;t--){const n=e[t];if(n&&n.filename!=="<anonymous>"&&n.filename!=="[native code]")return n.filename||null}return null}function k0(e){try{let t;try{t=e.exception.values[0].stacktrace.frames}catch{}return t?mF(t):null}catch{return At&&Ge.error(`Cannot extract url for event ${Za(e)}`),null}}function gF(e){return e.type||!e.exception||!e.exception.values||e.exception.values.length===0?!1:!e.message&&!e.exception.values.some(t=>t.stacktrace||t.type&&t.type!=="Error"||t.value)}function yF(e,t,n=250,r,i,s,o){if(!s.exception||!s.exception.values||!o||!ma(o.originalException,Error))return;const a=s.exception.values.length>0?s.exception.values[s.exception.values.length-1]:void 0;a&&(s.exception.values=vF(zb(e,t,i,o.originalException,r,s.exception.values,a,0),n))}function zb(e,t,n,r,i,s,o,a){if(s.length>=n+1)return s;let l=[...s];if(ma(r[i],Error)){FC(o,a);const c=e(t,r[i]),f=l.length;BC(c,i,f,a),l=zb(e,t,n,r[i],i,[c,...l],c,f)}return Array.isArray(r.errors)&&r.errors.forEach((c,f)=>{if(ma(c,Error)){FC(o,a);const p=e(t,c),g=l.length;BC(p,`errors[${f}]`,g,a),l=zb(e,t,n,c,i,[p,...l],p,g)}}),l}function FC(e,t){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,...e.type==="AggregateError"&&{is_exception_group:!0},exception_id:t}}function BC(e,t,n,r){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,type:"chained",source:t,exception_id:n,parent_id:r}}function vF(e,t){return e.map(n=>(n.value&&(n.value=jd(n.value,t)),n))}function Du(e){if(!e)return{};const t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};const n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:n,hash:r,relative:t[5]+n+r}}function xF(e){const t="console";Pl(t,e),Rl(t,bF)}function bF(){"console"in rn&&Ib.forEach(function(e){e in rn.console&&zi(rn.console,e,function(t){return w0[e]=t,function(...n){Ns("console",{args:n,level:e});const i=w0[e];i&&i.apply(rn.console,n)}})})}function uT(e){return e==="warn"?"warning":["fatal","error","warning","log","info","debug"].includes(e)?e:"log"}const wF="Dedupe",_F=()=>{let e;return{name:wF,processEvent(t){if(t.type)return t;try{if(CF(t,e))return At&&Ge.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return e=t}}},SF=_F;function CF(e,t){return t?!!(kF(e,t)||EF(e,t)):!1}function kF(e,t){const n=e.message,r=t.message;return!(!n&&!r||n&&!r||!n&&r||n!==r||!dT(e,t)||!cT(e,t))}function EF(e,t){const n=zC(t),r=zC(e);return!(!n||!r||n.type!==r.type||n.value!==r.value||!dT(e,t)||!cT(e,t))}function cT(e,t){let n=sC(e),r=sC(t);if(!n&&!r)return!0;if(n&&!r||!n&&r||(n=n,r=r,r.length!==n.length))return!1;for(let i=0;i<r.length;i++){const s=r[i],o=n[i];if(s.filename!==o.filename||s.lineno!==o.lineno||s.colno!==o.colno||s.function!==o.function)return!1}return!0}function dT(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;n=n,r=r;try{return n.join("")===r.join("")}catch{return!1}}function zC(e){return e.exception&&e.exception.values&&e.exception.values[0]}function TF(e,t,n,r,i="auto.http.browser"){if(!e.fetchData)return;const s=xl()&&t(e.fetchData.url);if(e.endTimestamp&&s){const g=e.fetchData.__span;if(!g)return;const y=r[g];y&&(NF(y,e),delete r[g]);return}const{method:o,url:a}=e.fetchData,l=IF(a),c=l?Du(l).host:void 0,f=!!zr(),p=s&&f?yp({name:`${o} ${a}`,attributes:{url:a,type:"fetch","http.method":o,"http.url":l,"server.address":c,[Fr]:i,[Wu]:"http.client"}}):new ef;if(e.fetchData.__span=p.spanContext().spanId,r[p.spanContext().spanId]=p,n(e.fetchData.url)){const g=e.args[0],y=e.args[1]||{},b=jF(g,y,xl()&&f?p:void 0);b&&(e.args[1]=y,y.headers=b)}return p}function jF(e,t,n){const r=lT({span:n}),i=r["sentry-trace"],s=r.baggage;if(!i)return;const o=t.headers||(PF(e)?e.headers:void 0);if(o)if(RF(o)){const a=new Headers(o);if(a.set("sentry-trace",i),s){const l=a.get("baggage");if(l){const c=tg(l);a.set("baggage",c?`${c},${s}`:s)}else a.set("baggage",s)}return a}else if(Array.isArray(o)){const a=[...o.filter(l=>!(Array.isArray(l)&&l[0]==="sentry-trace")).map(l=>{if(Array.isArray(l)&&l[0]==="baggage"&&typeof l[1]=="string"){const[c,f,...p]=l;return[c,tg(f),...p]}else return l}),["sentry-trace",i]];return s&&a.push(["baggage",s]),a}else{const a="baggage"in o?o.baggage:void 0;let l=[];return Array.isArray(a)?l=a.map(c=>typeof c=="string"?tg(c):c).filter(c=>c===""):a&&l.push(tg(a)),s&&l.push(s),{...o,"sentry-trace":i,baggage:l.length>0?l.join(","):void 0}}else return{...r}}function IF(e){try{return new URL(e).href}catch{return}}function NF(e,t){if(t.response){N7(e,t.response.status);const n=t.response&&t.response.headers&&t.response.headers.get("content-length");if(n){const r=parseInt(n);r>0&&e.setAttribute("http.response_content_length",r)}}else t.error&&e.setStatus({code:Ar,message:"internal_error"});e.end()}function tg(e){return e.split(",").filter(t=>!t.split("=")[0].startsWith(M2)).join(",")}function PF(e){return typeof Request<"u"&&ma(e,Request)}function RF(e){return typeof Headers<"u"&&ma(e,Headers)}function fT(e){if(e!==void 0)return e>=400&&e<500?"warning":e>=500?"error":void 0}const $b=rn;function hT(){if(!("fetch"in $b))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}function Ub(e){return e&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function OF(){if(typeof EdgeRuntime=="string")return!0;if(!hT())return!1;if(Ub($b.fetch))return!0;let e=!1;const t=$b.document;if(t&&typeof t.createElement=="function")try{const n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(e=Ub(n.contentWindow.fetch)),t.head.removeChild(n)}catch(n){Il&&Ge.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return e}function pT(e,t){const n="fetch";Pl(n,e),Rl(n,()=>mT(void 0,t))}function MF(e){const t="fetch-body-resolved";Pl(t,e),Rl(t,()=>mT(DF))}function mT(e,t=!1){t&&!OF()||zi(rn,"fetch",function(n){return function(...r){const i=new Error,{method:s,url:o}=LF(r),a={args:r,fetchData:{method:s,url:o},startTimestamp:bi()*1e3,virtualError:i};return e||Ns("fetch",{...a}),n.apply(rn,r).then(async l=>(e?e(l):Ns("fetch",{...a,endTimestamp:bi()*1e3,response:l}),l),l=>{throw Ns("fetch",{...a,endTimestamp:bi()*1e3,error:l}),T2(l)&&l.stack===void 0&&(l.stack=i.stack,Rs(l,"framesToPop",1)),l})}})}async function AF(e,t){if(e&&e.body){const n=e.body,r=n.getReader(),i=setTimeout(()=>{n.cancel().then(null,()=>{})},90*1e3);let s=!0;for(;s;){let o;try{o=setTimeout(()=>{n.cancel().then(null,()=>{})},5e3);const{done:a}=await r.read();clearTimeout(o),a&&(t(),s=!1)}catch{s=!1}finally{clearTimeout(o)}}clearTimeout(i),r.releaseLock(),n.cancel().then(null,()=>{})}}function DF(e){let t;try{t=e.clone()}catch{return}AF(t,()=>{Ns("fetch-body-resolved",{endTimestamp:bi()*1e3,response:e})})}function Hb(e,t){return!!e&&typeof e=="object"&&!!e[t]}function $C(e){return typeof e=="string"?e:e?Hb(e,"url")?e.url:e.toString?e.toString():"":""}function LF(e){if(e.length===0)return{method:"GET",url:""};if(e.length===2){const[n,r]=e;return{url:$C(n),method:Hb(r,"method")?String(r.method).toUpperCase():"GET"}}const t=e[0];return{url:$C(t),method:Hb(t,"method")?String(t.method).toUpperCase():"GET"}}function FF(){return typeof __SENTRY_BROWSER_BUNDLE__<"u"&&!!__SENTRY_BROWSER_BUNDLE__}function BF(){return"npm"}function zF(){return!FF()&&Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]"}function UC(){return typeof window<"u"&&(!zF()||$F())}function $F(){const e=rn.process;return!!e&&e.type==="renderer"}const ng=rn;function UF(){const e=ng.chrome,t=e&&e.app&&e.app.runtime,n="history"in ng&&!!ng.history.pushState&&!!ng.history.replaceState;return!t&&n}function HF(e,t){return e??t()}function i0(e){let t,n=e[0],r=1;for(;r<e.length;){const i=e[r],s=e[r+1];if(r+=2,(i==="optionalAccess"||i==="optionalCall")&&n==null)return;i==="access"||i==="optionalAccess"?(t=n,n=s(n)):(i==="call"||i==="optionalCall")&&(n=s((...o)=>n.call(t,...o)),t=void 0)}return n}const It=rn;let Wb=0;function gT(){return Wb>0}function WF(){Wb++,setTimeout(()=>{Wb--})}function Fd(e,t={}){function n(i){return typeof i=="function"}if(!n(e))return e;try{const i=e.__sentry_wrapped__;if(i)return typeof i=="function"?i:e;if(N2(e))return e}catch{return e}const r=function(...i){try{const s=i.map(o=>Fd(o,t));return e.apply(this,s)}catch(s){throw WF(),R2(o=>{o.addEventProcessor(a=>(t.mechanism&&(Pb(a,void 0),Ad(a,t.mechanism)),a.extra={...a.extra,arguments:i},a)),F2(s)}),s}};try{for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}catch{}C7(r,e),Rs(e,"__sentry_wrapped__",r);try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get(){return e.name}})}catch{}return r}const Io=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function B2(e,t){const n=z2(e,t),r={type:GF(t),value:YF(t)};return n.length&&(r.stacktrace={frames:n}),r.type===void 0&&r.value===""&&(r.value="Unrecoverable error caught"),r}function VF(e,t,n,r){const i=en(),s=i&&i.getOptions().normalizeDepth,o=tB(t),a={__serialized__:V7(t,s)};if(o)return{exception:{values:[B2(e,o)]},extra:a};const l={exception:{values:[{type:gy(t)?t.constructor.name:r?"UnhandledRejection":"Error",value:ZF(t,{isUnhandledRejection:r})}]},extra:a};if(n){const c=z2(e,n);c.length&&(l.exception.values[0].stacktrace={frames:c})}return l}function Jv(e,t){return{exception:{values:[B2(e,t)]}}}function z2(e,t){const n=t.stacktrace||t.stack||"",r=QF(t),i=KF(t);try{return e(n,r,i)}catch{}return[]}const qF=/Minified React error #\d+;/i;function QF(e){return e&&qF.test(e.message)?1:0}function KF(e){return typeof e.framesToPop=="number"?e.framesToPop:0}function yT(e){return typeof WebAssembly<"u"&&typeof WebAssembly.Exception<"u"?e instanceof WebAssembly.Exception:!1}function GF(e){const t=e&&e.name;return!t&&yT(e)?e.message&&Array.isArray(e.message)&&e.message.length==2?e.message[0]:"WebAssembly.Exception":t}function YF(e){const t=e&&e.message;return t?t.error&&typeof t.error.message=="string"?t.error.message:yT(e)&&Array.isArray(e.message)&&e.message.length==2?e.message[1]:t:"No error message"}function XF(e,t,n,r){const i=n&&n.syntheticException||void 0,s=$2(e,t,i,r);return Ad(s),s.level="error",n&&n.event_id&&(s.event_id=n.event_id),ya(s)}function JF(e,t,n="info",r,i){const s=r&&r.syntheticException||void 0,o=Vb(e,t,s,i);return o.level=n,r&&r.event_id&&(o.event_id=r.event_id),ya(o)}function $2(e,t,n,r,i){let s;if(b7(t)&&t.error)return Jv(e,t.error);if(aC(t)||zA(t)){const o=t;if("stack"in t)s=Jv(e,t);else{const a=o.name||(aC(o)?"DOMError":"DOMException"),l=o.message?`${a}: ${o.message}`:a;s=Vb(e,l,n,r),Pb(s,l)}return"code"in o&&(s.tags={...s.tags,"DOMException.code":`${o.code}`}),s}return T2(t)?Jv(e,t):Md(t)||gy(t)?(s=VF(e,t,n,i),Ad(s,{synthetic:!0}),s):(s=Vb(e,t,n,r),Pb(s,`${t}`),Ad(s,{synthetic:!0}),s)}function Vb(e,t,n,r){const i={};if(r&&n){const s=z2(e,n);s.length&&(i.exception={values:[{value:t,stacktrace:{frames:s}}]}),Ad(i,{synthetic:!0})}if(j2(t)){const{__sentry_template_string__:s,__sentry_template_values__:o}=t;return i.logentry={message:s,params:o},i}return i.message=t,i}function ZF(e,{isUnhandledRejection:t}){const n=KA(e),r=t?"promise rejection":"exception";return b7(e)?`Event \`ErrorEvent\` captured as ${r} with message \`${e.message}\``:gy(e)?`Event \`${eB(e)}\` (type=${e.type}) captured as ${r}`:`Object captured as ${r} with keys: ${n}`}function eB(e){try{const t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch{}}function tB(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)){const n=e[t];if(n instanceof Error)return n}}function nB(e,{metadata:t,tunnel:n,dsn:r}){const i={event_id:e.event_id,sent_at:new Date().toISOString(),...t&&t.sdk&&{sdk:{name:t.sdk.name,version:t.sdk.version}},...!!n&&!!r&&{dsn:gp(r)}},s=rB(e);return nc(i,[s])}function rB(e){return[{type:"user_report"},e]}class iB extends FL{constructor(t){const n={parentSpanIsAlwaysRootSpan:!0,...t},r=It.SENTRY_SDK_SOURCE||BF();aT(n,"browser",["browser"],r),super(n),n.sendClientReports&&It.document&&It.document.addEventListener("visibilitychange",()=>{It.document.visibilityState==="hidden"&&this._flushOutcomes()})}eventFromException(t,n){return XF(this._options.stackParser,t,n,this._options.attachStacktrace)}eventFromMessage(t,n="info",r){return JF(this._options.stackParser,t,n,r,this._options.attachStacktrace)}captureUserFeedback(t){if(!this._isEnabled()){Io&&Ge.warn("SDK not enabled, will not capture user feedback.");return}const n=nB(t,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this.sendEnvelope(n)}_prepareEvent(t,n,r){return t.platform=t.platform||"javascript",super._prepareEvent(t,n,r)}}const U2=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,sB=(e,t)=>e>t[1]?"poor":e>t[0]?"needs-improvement":"good",tf=(e,t,n,r)=>{let i,s;return o=>{t.value>=0&&(o||r)&&(s=t.value-(i||0),(s||i===void 0)&&(i=t.value,t.delta=s,t.rating=sB(t.value,n),e(t)))}},gt=rn,oB=()=>`v4-${Date.now()}-${Math.floor(Math.random()*(9e12-1))+1e12}`,vp=(e=!0)=>{const t=gt.performance&&gt.performance.getEntriesByType&&gt.performance.getEntriesByType("navigation")[0];if(!e||t&&t.responseStart>0&&t.responseStart<performance.now())return t},xp=()=>{const e=vp();return e&&e.activationStart||0},nf=(e,t)=>{const n=vp();let r="navigate";return n&&(gt.document&&gt.document.prerendering||xp()>0?r="prerender":gt.document&&gt.document.wasDiscarded?r="restore":n.type&&(r=n.type.replace(/_/g,"-"))),{name:e,value:typeof t>"u"?-1:t,rating:"good",delta:0,entries:[],id:oB(),navigationType:r}},rc=(e,t,n)=>{try{if(PerformanceObserver.supportedEntryTypes.includes(e)){const r=new PerformanceObserver(i=>{Promise.resolve().then(()=>{t(i.getEntries())})});return r.observe(Object.assign({type:e,buffered:!0},n||{})),r}}catch{}},rf=e=>{const t=n=>{(n.type==="pagehide"||gt.document&&gt.document.visibilityState==="hidden")&&e(n)};gt.document&&(addEventListener("visibilitychange",t,!0),addEventListener("pagehide",t,!0))},wy=e=>{let t=!1;return()=>{t||(e(),t=!0)}};let Ch=-1;const aB=()=>gt.document.visibilityState==="hidden"&&!gt.document.prerendering?0:1/0,E0=e=>{gt.document.visibilityState==="hidden"&&Ch>-1&&(Ch=e.type==="visibilitychange"?e.timeStamp:0,uB())},lB=()=>{addEventListener("visibilitychange",E0,!0),addEventListener("prerenderingchange",E0,!0)},uB=()=>{removeEventListener("visibilitychange",E0,!0),removeEventListener("prerenderingchange",E0,!0)},_y=()=>(gt.document&&Ch<0&&(Ch=aB(),lB()),{get firstHiddenTime(){return Ch}}),bp=e=>{gt.document&&gt.document.prerendering?addEventListener("prerenderingchange",()=>e(),!0):e()},cB=[1800,3e3],dB=(e,t={})=>{bp(()=>{const n=_y(),r=nf("FCP");let i;const o=rc("paint",a=>{a.forEach(l=>{l.name==="first-contentful-paint"&&(o.disconnect(),l.startTime<n.firstHiddenTime&&(r.value=Math.max(l.startTime-xp(),0),r.entries.push(l),i(!0)))})});o&&(i=tf(e,r,cB,t.reportAllChanges))})},fB=[.1,.25],hB=(e,t={})=>{dB(wy(()=>{const n=nf("CLS",0);let r,i=0,s=[];const o=l=>{l.forEach(c=>{if(!c.hadRecentInput){const f=s[0],p=s[s.length-1];i&&f&&p&&c.startTime-p.startTime<1e3&&c.startTime-f.startTime<5e3?(i+=c.value,s.push(c)):(i=c.value,s=[c])}}),i>n.value&&(n.value=i,n.entries=s,r())},a=rc("layout-shift",o);a&&(r=tf(e,n,fB,t.reportAllChanges),rf(()=>{o(a.takeRecords()),r(!0)}),setTimeout(r,0))}))},pB=[100,300],mB=(e,t={})=>{bp(()=>{const n=_y(),r=nf("FID");let i;const s=l=>{l.startTime<n.firstHiddenTime&&(r.value=l.processingStart-l.startTime,r.entries.push(l),i(!0))},o=l=>{l.forEach(s)},a=rc("first-input",o);i=tf(e,r,pB,t.reportAllChanges),a&&rf(wy(()=>{o(a.takeRecords()),a.disconnect()}))})};let vT=0,Zv=1/0,rg=0;const gB=e=>{e.forEach(t=>{t.interactionId&&(Zv=Math.min(Zv,t.interactionId),rg=Math.max(rg,t.interactionId),vT=rg?(rg-Zv)/7+1:0)})};let qb;const yB=()=>qb?vT:performance.interactionCount||0,vB=()=>{"interactionCount"in performance||qb||(qb=rc("event",gB,{type:"event",buffered:!0,durationThreshold:0}))},ra=[],ex=new Map,xB=40;let bB=0;const wB=()=>yB()-bB,_B=()=>{const e=Math.min(ra.length-1,Math.floor(wB()/50));return ra[e]},tx=10,SB=[],CB=e=>{if(SB.forEach(r=>r(e)),!(e.interactionId||e.entryType==="first-input"))return;const t=ra[ra.length-1],n=ex.get(e.interactionId);if(n||ra.length<tx||t&&e.duration>t.latency){if(n)e.duration>n.latency?(n.entries=[e],n.latency=e.duration):e.duration===n.latency&&e.startTime===(n.entries[0]&&n.entries[0].startTime)&&n.entries.push(e);else{const r={id:e.interactionId,latency:e.duration,entries:[e]};ex.set(r.id,r),ra.push(r)}ra.sort((r,i)=>i.latency-r.latency),ra.length>tx&&ra.splice(tx).forEach(r=>ex.delete(r.id))}},xT=e=>{const t=gt.requestIdleCallback||gt.setTimeout;let n=-1;return e=wy(e),gt.document&&gt.document.visibilityState==="hidden"?e():(n=t(e),rf(e)),n},kB=[200,500],EB=(e,t={})=>{"PerformanceEventTiming"in gt&&"interactionId"in PerformanceEventTiming.prototype&&bp(()=>{vB();const n=nf("INP");let r;const i=o=>{xT(()=>{o.forEach(CB);const a=_B();a&&a.latency!==n.value&&(n.value=a.latency,n.entries=a.entries,r())})},s=rc("event",i,{durationThreshold:t.durationThreshold!=null?t.durationThreshold:xB});r=tf(e,n,kB,t.reportAllChanges),s&&(s.observe({type:"first-input",buffered:!0}),rf(()=>{i(s.takeRecords()),r(!0)}))})},TB=[2500,4e3],HC={},jB=(e,t={})=>{bp(()=>{const n=_y(),r=nf("LCP");let i;const s=a=>{t.reportAllChanges||(a=a.slice(-1)),a.forEach(l=>{l.startTime<n.firstHiddenTime&&(r.value=Math.max(l.startTime-xp(),0),r.entries=[l],i())})},o=rc("largest-contentful-paint",s);if(o){i=tf(e,r,TB,t.reportAllChanges);const a=wy(()=>{HC[r.id]||(s(o.takeRecords()),o.disconnect(),HC[r.id]=!0,i(!0))});["keydown","click"].forEach(l=>{gt.document&&addEventListener(l,()=>xT(a),{once:!0,capture:!0})}),rf(a)}})},IB=[800,1800],Qb=e=>{gt.document&&gt.document.prerendering?bp(()=>Qb(e)):gt.document&&gt.document.readyState!=="complete"?addEventListener("load",()=>Qb(e),!0):setTimeout(e,0)},NB=(e,t={})=>{const n=nf("TTFB"),r=tf(e,n,IB,t.reportAllChanges);Qb(()=>{const i=vp();i&&(n.value=Math.max(i.responseStart-xp(),0),n.entries=[i],r(!0))})},kh={},T0={};let bT,wT,_T,ST,CT;function H2(e,t=!1){return wp("cls",e,RB,bT,t)}function kT(e,t=!1){return wp("lcp",e,MB,_T,t)}function ET(e){return wp("fid",e,OB,wT)}function PB(e){return wp("ttfb",e,AB,ST)}function TT(e){return wp("inp",e,DB,CT)}function Bd(e,t){return jT(e,t),T0[e]||(LB(e),T0[e]=!0),IT(e,t)}function sf(e,t){const n=kh[e];if(!(!n||!n.length))for(const r of n)try{r(t)}catch(i){U2&&Ge.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${pa(r)}
Error:`,i)}}function RB(){return hB(e=>{sf("cls",{metric:e}),bT=e},{reportAllChanges:!0})}function OB(){return mB(e=>{sf("fid",{metric:e}),wT=e})}function MB(){return jB(e=>{sf("lcp",{metric:e}),_T=e},{reportAllChanges:!0})}function AB(){return NB(e=>{sf("ttfb",{metric:e}),ST=e})}function DB(){return EB(e=>{sf("inp",{metric:e}),CT=e})}function wp(e,t,n,r,i=!1){jT(e,t);let s;return T0[e]||(s=n(),T0[e]=!0),r&&t({metric:r}),IT(e,t,i?s:void 0)}function LB(e){const t={};e==="event"&&(t.durationThreshold=0),rc(e,n=>{sf(e,{entries:n})},t)}function jT(e,t){kh[e]=kh[e]||[],kh[e].push(t)}function IT(e,t,n){return()=>{n&&n();const r=kh[e];if(!r)return;const i=r.indexOf(t);i!==-1&&r.splice(i,1)}}function FB(e){return"duration"in e}function nx(e){return typeof e=="number"&&isFinite(e)}function va(e,t,n,{...r}){const i=gn(e).start_timestamp;return i&&i>t&&typeof e.updateStartTime=="function"&&e.updateStartTime(t),K7(e,()=>{const s=yp({startTime:t,...r});return s&&s.end(n),s})}function NT(e){const t=en();if(!t)return;const{name:n,transaction:r,attributes:i,startTime:s}=e,{release:o,environment:a}=t.getOptions(),l=t.getIntegrationByName("Replay"),c=l&&l.getReplayId(),f=Dn(),p=f.getUser(),g=p!==void 0?p.email||p.id||p.ip_address:void 0;let y;try{y=f.getScopeData().contexts.profile.profile_id}catch{}const b={release:o,environment:a,user:g||void 0,profile_id:y||void 0,replay_id:c||void 0,transaction:r,"user_agent.original":gt.navigator&&gt.navigator.userAgent,...i};return yp({name:n,attributes:b,startTime:s,experimental:{standalone:!0}})}function W2(){return gt&&gt.addEventListener&&gt.performance}function ur(e){return e/1e3}function PT(e){let t="unknown",n="unknown",r="";for(const i of e){if(i==="/"){[t,n]=e.split("/");break}if(!isNaN(Number(i))){t=r==="h"?"http":r,n=e.split(r)[1];break}r+=i}return r===e&&(t=r),{name:t,version:n}}function BB(){let e=0,t,n;if(!$B())return;let r=!1;function i(){r||(r=!0,n&&zB(e,t,n),s())}const s=H2(({metric:o})=>{const a=o.entries[o.entries.length-1];a&&(e=o.value,t=a)},!0);rf(()=>{i()}),setTimeout(()=>{const o=en();if(!o)return;const a=o.on("startNavigationSpan",()=>{i(),a&&a()}),l=zr(),c=l&&Wr(l),f=c&&gn(c);f&&f.op==="pageload"&&(n=c.spanContext().spanId)},0)}function zB(e,t,n){U2&&Ge.log(`Sending CLS span (${e})`);const r=ur((wi||0)+(t&&t.startTime||0)),i=Dn().getScopeData().transactionName,s=t?ga(t.sources[0]&&t.sources[0].node):"Layout shift",o=kr({[Fr]:"auto.http.browser.cls",[Wu]:"ui.webvital.cls",[O2]:t&&t.duration||0,"sentry.pageload.span_id":n}),a=NT({name:s,transaction:i,attributes:o,startTime:r});a&&(a.addEvent("cls",{[xy]:"",[by]:e}),a.end(r))}function $B(){try{return PerformanceObserver.supportedEntryTypes.includes("layout-shift")}catch{return!1}}const UB=2147483647;let WC=0,Hr={},Di,Eh;function HB({recordClsStandaloneSpans:e}){const t=W2();if(t&&wi){t.mark&&gt.performance.mark("sentry-tracing-init");const n=GB(),r=KB(),i=YB(),s=e?BB():QB();return()=>{n(),r(),i(),s&&s()}}return()=>{}}function WB(){Bd("longtask",({entries:e})=>{const t=zr();if(!t)return;const{op:n,start_timestamp:r}=gn(t);for(const i of e){const s=ur(wi+i.startTime),o=ur(i.duration);n==="navigation"&&r&&s<r||va(t,s,s+o,{name:"Main UI thread blocked",op:"ui.long-task",attributes:{[Fr]:"auto.ui.browser.metrics"}})}})}function VB(){new PerformanceObserver(t=>{const n=zr();if(n)for(const r of t.getEntries()){if(!r.scripts[0])continue;const i=ur(wi+r.startTime),{start_timestamp:s,op:o}=gn(n);if(o==="navigation"&&s&&i<s)continue;const a=ur(r.duration),l={[Fr]:"auto.ui.browser.metrics"},c=r.scripts[0],{invoker:f,invokerType:p,sourceURL:g,sourceFunctionName:y,sourceCharPosition:b}=c;l["browser.script.invoker"]=f,l["browser.script.invoker_type"]=p,g&&(l["code.filepath"]=g),y&&(l["code.function"]=y),b!==-1&&(l["browser.script.source_char_position"]=b),va(n,i,i+a,{name:"Main UI thread blocked",op:"ui.long-animation-frame",attributes:l})}}).observe({type:"long-animation-frame",buffered:!0})}function qB(){Bd("event",({entries:e})=>{const t=zr();if(t){for(const n of e)if(n.name==="click"){const r=ur(wi+n.startTime),i=ur(n.duration),s={name:ga(n.target),op:`ui.interaction.${n.name}`,startTime:r,attributes:{[Fr]:"auto.ui.browser.metrics"}},o=S7(n.target);o&&(s.attributes["ui.component_name"]=o),va(t,r,r+i,s)}}})}function QB(){return H2(({metric:e})=>{const t=e.entries[e.entries.length-1];t&&(Hr.cls={value:e.value,unit:""},Eh=t)},!0)}function KB(){return kT(({metric:e})=>{const t=e.entries[e.entries.length-1];t&&(Hr.lcp={value:e.value,unit:"millisecond"},Di=t)},!0)}function GB(){return ET(({metric:e})=>{const t=e.entries[e.entries.length-1];if(!t)return;const n=ur(wi),r=ur(t.startTime);Hr.fid={value:e.value,unit:"millisecond"},Hr["mark.fid"]={value:n+r,unit:"second"}})}function YB(){return PB(({metric:e})=>{e.entries[e.entries.length-1]&&(Hr.ttfb={value:e.value,unit:"millisecond"})})}function XB(e,t){const n=W2();if(!n||!n.getEntries||!wi)return;const r=ur(wi),i=n.getEntries(),{op:s,start_timestamp:o}=gn(e);if(i.slice(WC).forEach(a=>{const l=ur(a.startTime),c=ur(Math.max(0,a.duration));if(!(s==="navigation"&&o&&r+l<o))switch(a.entryType){case"navigation":{ZB(e,a,r);break}case"mark":case"paint":case"measure":{JB(e,a,l,c,r);const f=_y(),p=a.startTime<f.firstHiddenTime;a.name==="first-paint"&&p&&(Hr.fp={value:a.startTime,unit:"millisecond"}),a.name==="first-contentful-paint"&&p&&(Hr.fcp={value:a.startTime,unit:"millisecond"});break}case"resource":{nz(e,a,a.name,l,c,r);break}}}),WC=Math.max(i.length-1,0),rz(e),s==="pageload"){sz(Hr);const a=Hr["mark.fid"];a&&Hr.fid&&(va(e,a.value,a.value+ur(Hr.fid.value),{name:"first input delay",op:"ui.action",attributes:{[Fr]:"auto.ui.browser.metrics"}}),delete Hr["mark.fid"]),(!("fcp"in Hr)||!t.recordClsOnPageloadSpan)&&delete Hr.cls,Object.entries(Hr).forEach(([l,c])=>{JD(l,c.value,c.unit)}),e.setAttribute("performance.timeOrigin",r),e.setAttribute("performance.activationStart",xp()),iz(e)}Di=void 0,Eh=void 0,Hr={}}function JB(e,t,n,r,i){const s=vp(!1),o=ur(s?s.requestStart:0),a=i+Math.max(n,o),l=i+n,c=l+r,f={[Fr]:"auto.resource.browser.metrics"};return a!==l&&(f["sentry.browser.measure_happened_before_request"]=!0,f["sentry.browser.measure_start_time"]=a),va(e,a,c,{name:t.name,op:t.entryType,attributes:f}),a}function ZB(e,t,n){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(r=>{ig(e,t,r,n)}),ig(e,t,"secureConnection",n,"TLS/SSL"),ig(e,t,"fetch",n,"cache"),ig(e,t,"domainLookup",n,"DNS"),tz(e,t,n)}function ig(e,t,n,r,i=n){const s=ez(n),o=t[s],a=t[`${n}Start`];!a||!o||va(e,r+ur(a),r+ur(o),{op:`browser.${i}`,name:t.name,attributes:{[Fr]:"auto.ui.browser.metrics"}})}function ez(e){return e==="secureConnection"?"connectEnd":e==="fetch"?"domainLookupStart":`${e}End`}function tz(e,t,n){const r=n+ur(t.requestStart),i=n+ur(t.responseEnd),s=n+ur(t.responseStart);t.responseEnd&&(va(e,r,i,{op:"browser.request",name:t.name,attributes:{[Fr]:"auto.ui.browser.metrics"}}),va(e,s,i,{op:"browser.response",name:t.name,attributes:{[Fr]:"auto.ui.browser.metrics"}}))}function nz(e,t,n,r,i,s){if(t.initiatorType==="xmlhttprequest"||t.initiatorType==="fetch")return;const o=Du(n),a={[Fr]:"auto.resource.browser.metrics"};rx(a,t,"transferSize","http.response_transfer_size"),rx(a,t,"encodedBodySize","http.response_content_length"),rx(a,t,"decodedBodySize","http.decoded_response_content_length");const l=t.deliveryType;l!=null&&(a["http.response_delivery_type"]=l);const c=t.renderBlockingStatus;c&&(a["resource.render_blocking_status"]=c),o.protocol&&(a["url.scheme"]=o.protocol.split(":").pop()),o.host&&(a["server.address"]=o.host),a["url.same_origin"]=n.includes(gt.location.origin);const{name:f,version:p}=PT(t.nextHopProtocol);a["network.protocol.name"]=f,a["network.protocol.version"]=p;const g=s+r,y=g+i;va(e,g,y,{name:n.replace(gt.location.origin,""),op:t.initiatorType?`resource.${t.initiatorType}`:"resource.other",attributes:a})}function rz(e){const t=gt.navigator;if(!t)return;const n=t.connection;n&&(n.effectiveType&&e.setAttribute("effectiveConnectionType",n.effectiveType),n.type&&e.setAttribute("connectionType",n.type),nx(n.rtt)&&(Hr["connection.rtt"]={value:n.rtt,unit:"millisecond"})),nx(t.deviceMemory)&&e.setAttribute("deviceMemory",`${t.deviceMemory} GB`),nx(t.hardwareConcurrency)&&e.setAttribute("hardwareConcurrency",String(t.hardwareConcurrency))}function iz(e){Di&&(Di.element&&e.setAttribute("lcp.element",ga(Di.element)),Di.id&&e.setAttribute("lcp.id",Di.id),Di.url&&e.setAttribute("lcp.url",Di.url.trim().slice(0,200)),Di.loadTime!=null&&e.setAttribute("lcp.loadTime",Di.loadTime),Di.renderTime!=null&&e.setAttribute("lcp.renderTime",Di.renderTime),e.setAttribute("lcp.size",Di.size)),Eh&&Eh.sources&&Eh.sources.forEach((t,n)=>e.setAttribute(`cls.source.${n+1}`,ga(t.node)))}function rx(e,t,n,r){const i=t[n];i!=null&&i<UB&&(e[r]=i)}function sz(e){const t=vp(!1);if(!t)return;const{responseStart:n,requestStart:r}=t;r<=n&&(e["ttfb.requestTime"]={value:n-r,unit:"millisecond"})}const oz=1e3;let VC,Kb,Gb;function RT(e){Pl("dom",e),Rl("dom",az)}function az(){if(!gt.document)return;const e=Ns.bind(null,"dom"),t=qC(e,!0);gt.document.addEventListener("click",t,!1),gt.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(n=>{const i=gt[n],s=i&&i.prototype;!s||!s.hasOwnProperty||!s.hasOwnProperty("addEventListener")||(zi(s,"addEventListener",function(o){return function(a,l,c){if(a==="click"||a=="keypress")try{const f=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},p=f[a]=f[a]||{refCount:0};if(!p.handler){const g=qC(e);p.handler=g,o.call(this,a,g,c)}p.refCount++}catch{}return o.call(this,a,l,c)}}),zi(s,"removeEventListener",function(o){return function(a,l,c){if(a==="click"||a=="keypress")try{const f=this.__sentry_instrumentation_handlers__||{},p=f[a];p&&(p.refCount--,p.refCount<=0&&(o.call(this,a,p.handler,c),p.handler=void 0,delete f[a]),Object.keys(f).length===0&&delete this.__sentry_instrumentation_handlers__)}catch{}return o.call(this,a,l,c)}}))})}function lz(e){if(e.type!==Kb)return!1;try{if(!e.target||e.target._sentryId!==Gb)return!1}catch{}return!0}function uz(e,t){return e!=="keypress"?!1:!t||!t.tagName?!0:!(t.tagName==="INPUT"||t.tagName==="TEXTAREA"||t.isContentEditable)}function qC(e,t=!1){return n=>{if(!n||n._sentryCaptured)return;const r=cz(n);if(uz(n.type,r))return;Rs(n,"_sentryCaptured",!0),r&&!r._sentryId&&Rs(r,"_sentryId",ls());const i=n.type==="keypress"?"input":n.type;lz(n)||(e({event:n,name:i,global:t}),Kb=n.type,Gb=r?r._sentryId:void 0),clearTimeout(VC),VC=gt.setTimeout(()=>{Gb=void 0,Kb=void 0},oz)}}function cz(e){try{return e.target}catch{return null}}let sg;function Sy(e){const t="history";Pl(t,e),Rl(t,dz)}function dz(){if(!UF())return;const e=gt.onpopstate;gt.onpopstate=function(...n){const r=gt.location.href,i=sg;if(sg=r,Ns("history",{from:i,to:r}),e)try{return e.apply(this,n)}catch{}};function t(n){return function(...r){const i=r.length>2?r[2]:void 0;if(i){const s=sg,o=String(i);sg=o,Ns("history",{from:s,to:o})}return n.apply(this,r)}}zi(gt.history,"pushState",t),zi(gt.history,"replaceState",t)}const s0={};function OT(e){const t=s0[e];if(t)return t;let n=gt[e];if(Ub(n))return s0[e]=n.bind(gt);const r=gt.document;if(r&&typeof r.createElement=="function")try{const i=r.createElement("iframe");i.hidden=!0,r.head.appendChild(i);const s=i.contentWindow;s&&s[e]&&(n=s[e]),r.head.removeChild(i)}catch(i){U2&&Ge.warn(`Could not create sandbox iframe for ${e} check, bailing to window.${e}: `,i)}return n&&(s0[e]=n.bind(gt))}function QC(e){s0[e]=void 0}function zd(...e){return OT("setTimeout")(...e)}const Iu="__sentry_xhr_v3__";function MT(e){Pl("xhr",e),Rl("xhr",fz)}function fz(){if(!gt.XMLHttpRequest)return;const e=XMLHttpRequest.prototype;e.open=new Proxy(e.open,{apply(t,n,r){const i=new Error,s=bi()*1e3,o=da(r[0])?r[0].toUpperCase():void 0,a=hz(r[1]);if(!o||!a)return t.apply(n,r);n[Iu]={method:o,url:a,request_headers:{}},o==="POST"&&a.match(/sentry_key/)&&(n.__sentry_own_request__=!0);const l=()=>{const c=n[Iu];if(c&&n.readyState===4){try{c.status_code=n.status}catch{}const f={endTimestamp:bi()*1e3,startTimestamp:s,xhr:n,virtualError:i};Ns("xhr",f)}};return"onreadystatechange"in n&&typeof n.onreadystatechange=="function"?n.onreadystatechange=new Proxy(n.onreadystatechange,{apply(c,f,p){return l(),c.apply(f,p)}}):n.addEventListener("readystatechange",l),n.setRequestHeader=new Proxy(n.setRequestHeader,{apply(c,f,p){const[g,y]=p,b=f[Iu];return b&&da(g)&&da(y)&&(b.request_headers[g.toLowerCase()]=y),c.apply(f,p)}}),t.apply(n,r)}}),e.send=new Proxy(e.send,{apply(t,n,r){const i=n[Iu];if(!i)return t.apply(n,r);r[0]!==void 0&&(i.body=r[0]);const s={startTimestamp:bi()*1e3,xhr:n};return Ns("xhr",s),t.apply(n,r)}})}function hz(e){if(da(e))return e;try{return e.toString()}catch{}}const ix=[],o0=new Map;function pz(){if(W2()&&wi){const t=mz();return()=>{t()}}return()=>{}}const KC={click:"click",pointerdown:"click",pointerup:"click",mousedown:"click",mouseup:"click",touchstart:"click",touchend:"click",mouseover:"hover",mouseout:"hover",mouseenter:"hover",mouseleave:"hover",pointerover:"hover",pointerout:"hover",pointerenter:"hover",pointerleave:"hover",dragstart:"drag",dragend:"drag",drag:"drag",dragenter:"drag",dragleave:"drag",dragover:"drag",drop:"drag",keydown:"press",keyup:"press",keypress:"press",input:"press"};function mz(){return TT(({metric:e})=>{if(e.value==null)return;const t=e.entries.find(b=>b.duration===e.value&&KC[b.name]);if(!t)return;const{interactionId:n}=t,r=KC[t.name],i=ur(wi+t.startTime),s=ur(e.value),o=zr(),a=o?Wr(o):void 0,c=(n!=null?o0.get(n):void 0)||a,f=c?gn(c).description:Dn().getScopeData().transactionName,p=ga(t.target),g=kr({[Fr]:"auto.http.browser.inp",[Wu]:`ui.interaction.${r}`,[O2]:t.duration}),y=NT({name:p,transaction:f,attributes:g,startTime:i});y&&(y.addEvent("inp",{[xy]:"millisecond",[by]:e.value}),y.end(i+s))})}function gz(e){const t=({entries:n})=>{const r=zr(),i=r&&Wr(r);n.forEach(s=>{if(!FB(s)||!i)return;const o=s.interactionId;if(o!=null&&!o0.has(o)){if(ix.length>10){const a=ix.shift();o0.delete(a)}ix.push(o),o0.set(o,i)}})};Bd("event",t),Bd("first-input",t)}function yz(e,t=OT("fetch")){let n=0,r=0;function i(s){const o=s.body.length;n+=o,r++;const a={body:s.body,method:"POST",referrerPolicy:"origin",headers:e.headers,keepalive:n<=6e4&&r<15,...e.fetchOptions};if(!t)return QC("fetch"),_0("No fetch implementation available");try{return t(e.url,a).then(l=>(n-=o,r--,{statusCode:l.status,headers:{"x-sentry-rate-limits":l.headers.get("X-Sentry-Rate-Limits"),"retry-after":l.headers.get("Retry-After")}}))}catch(l){return QC("fetch"),n-=o,r--,_0(l)}}return KL(e,i)}const vz=30,xz=50;function Yb(e,t,n,r){const i={filename:e,function:t==="<anonymous>"?Hu:t,in_app:!0};return n!==void 0&&(i.lineno=n),r!==void 0&&(i.colno=r),i}const bz=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,wz=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,_z=/\((\S*)(?::(\d+))(?::(\d+))\)/,Sz=e=>{const t=bz.exec(e);if(t){const[,r,i,s]=t;return Yb(r,Hu,+i,+s)}const n=wz.exec(e);if(n){if(n[2]&&n[2].indexOf("eval")===0){const o=_z.exec(n[2]);o&&(n[2]=o[1],n[3]=o[2],n[4]=o[3])}const[i,s]=AT(n[1]||Hu,n[2]);return Yb(s,i,n[3]?+n[3]:void 0,n[4]?+n[4]:void 0)}},Cz=[vz,Sz],kz=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,Ez=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,Tz=e=>{const t=kz.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){const s=Ez.exec(t[3]);s&&(t[1]=t[1]||"eval",t[3]=s[1],t[4]=s[2],t[5]="")}let r=t[3],i=t[1]||Hu;return[i,r]=AT(i,r),Yb(r,i,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}},jz=[xz,Tz],Iz=[Cz,jz],Nz=g7(...Iz),AT=(e,t)=>{const n=e.indexOf("safari-extension")!==-1,r=e.indexOf("safari-web-extension")!==-1;return n||r?[e.indexOf("@")!==-1?e.split("@")[0]:Hu,n?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]},og=1024,Pz="Breadcrumbs",Rz=(e={})=>{const t={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e};return{name:Pz,setup(n){t.console&&xF(Dz(n)),t.dom&&RT(Az(n,t.dom)),t.xhr&&MT(Lz(n)),t.fetch&&pT(Fz(n)),t.history&&Sy(Bz(n)),t.sentry&&n.on("beforeSendEvent",Mz(n))}}},Oz=Rz;function Mz(e){return function(n){en()===e&&bl({category:`sentry.${n.type==="transaction"?"transaction":"event"}`,event_id:n.event_id,level:n.level,message:Za(n)},{event:n})}}function Az(e,t){return function(r){if(en()!==e)return;let i,s,o=typeof t=="object"?t.serializeAttribute:void 0,a=typeof t=="object"&&typeof t.maxStringLength=="number"?t.maxStringLength:void 0;a&&a>og&&(Io&&Ge.warn(`\`dom.maxStringLength\` cannot exceed ${og}, but a value of ${a} was configured. Sentry will use ${og} instead.`),a=og),typeof o=="string"&&(o=[o]);try{const c=r.event,f=zz(c)?c.target:c;i=ga(f,{keyAttrs:o,maxStringLength:a}),s=S7(f)}catch{i="<unknown>"}if(i.length===0)return;const l={category:`ui.${r.name}`,message:i};s&&(l.data={"ui.component_name":s}),bl(l,{event:r.event,name:r.name,global:r.global})}}function Dz(e){return function(n){if(en()!==e)return;const r={category:"console",data:{arguments:n.args,logger:"console"},level:uT(n.level),message:lC(n.args," ")};if(n.level==="assert")if(n.args[0]===!1)r.message=`Assertion failed: ${lC(n.args.slice(1)," ")||"console.assert"}`,r.data.arguments=n.args.slice(1);else return;bl(r,{input:n.args,level:n.level})}}function Lz(e){return function(n){if(en()!==e)return;const{startTimestamp:r,endTimestamp:i}=n,s=n.xhr[Iu];if(!r||!i||!s)return;const{method:o,url:a,status_code:l,body:c}=s,f={method:o,url:a,status_code:l},p={xhr:n.xhr,input:c,startTimestamp:r,endTimestamp:i},g=fT(l);bl({category:"xhr",data:f,type:"http",level:g},p)}}function Fz(e){return function(n){if(en()!==e)return;const{startTimestamp:r,endTimestamp:i}=n;if(i&&!(n.fetchData.url.match(/sentry_key/)&&n.fetchData.method==="POST"))if(n.error){const s=n.fetchData,o={data:n.error,input:n.args,startTimestamp:r,endTimestamp:i};bl({category:"fetch",data:s,level:"error",type:"http"},o)}else{const s=n.response,o={...n.fetchData,status_code:s&&s.status},a={input:n.args,response:s,startTimestamp:r,endTimestamp:i},l=fT(o.status_code);bl({category:"fetch",data:o,type:"http",level:l},a)}}}function Bz(e){return function(n){if(en()!==e)return;let r=n.from,i=n.to;const s=Du(It.location.href);let o=r?Du(r):void 0;const a=Du(i);(!o||!o.path)&&(o=s),s.protocol===a.protocol&&s.host===a.host&&(i=a.relative),s.protocol===o.protocol&&s.host===o.host&&(r=o.relative),bl({category:"navigation",data:{from:r,to:i}})}}function zz(e){return!!e&&!!e.target}const $z=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],Uz="BrowserApiErrors",Hz=(e={})=>{const t={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...e};return{name:Uz,setupOnce(){t.setTimeout&&zi(It,"setTimeout",GC),t.setInterval&&zi(It,"setInterval",GC),t.requestAnimationFrame&&zi(It,"requestAnimationFrame",Vz),t.XMLHttpRequest&&"XMLHttpRequest"in It&&zi(XMLHttpRequest.prototype,"send",qz);const n=t.eventTarget;n&&(Array.isArray(n)?n:$z).forEach(Qz)}}},Wz=Hz;function GC(e){return function(...t){const n=t[0];return t[0]=Fd(n,{mechanism:{data:{function:pa(e)},handled:!1,type:"instrument"}}),e.apply(this,t)}}function Vz(e){return function(t){return e.apply(this,[Fd(t,{mechanism:{data:{function:"requestAnimationFrame",handler:pa(e)},handled:!1,type:"instrument"}})])}}function qz(e){return function(...t){const n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(i=>{i in n&&typeof n[i]=="function"&&zi(n,i,function(s){const o={mechanism:{data:{function:i,handler:pa(s)},handled:!1,type:"instrument"}},a=N2(s);return a&&(o.mechanism.data.handler=pa(a)),Fd(s,o)})}),e.apply(this,t)}}function Qz(e){const n=It[e],r=n&&n.prototype;!r||!r.hasOwnProperty||!r.hasOwnProperty("addEventListener")||(zi(r,"addEventListener",function(i){return function(s,o,a){try{Kz(o)&&(o.handleEvent=Fd(o.handleEvent,{mechanism:{data:{function:"handleEvent",handler:pa(o),target:e},handled:!1,type:"instrument"}}))}catch{}return i.apply(this,[s,Fd(o,{mechanism:{data:{function:"addEventListener",handler:pa(o),target:e},handled:!1,type:"instrument"}}),a])}}),zi(r,"removeEventListener",function(i){return function(s,o,a){try{const l=o.__sentry_wrapped__;l&&i.call(this,s,l,a)}catch{}return i.call(this,s,o,a)}}))}function Kz(e){return typeof e.handleEvent=="function"}const Gz=()=>({name:"BrowserSession",setupOnce(){if(typeof It.document>"u"){Io&&Ge.warn("Using the `browserSessionIntegration` in non-browser environments is not supported.");return}IC({ignoreDuration:!0}),NC(),Sy(({from:e,to:t})=>{e!==void 0&&e!==t&&(IC({ignoreDuration:!0}),NC())})}}),Yz="GlobalHandlers",Xz=(e={})=>{const t={onerror:!0,onunhandledrejection:!0,...e};return{name:Yz,setupOnce(){Error.stackTraceLimit=50},setup(n){t.onerror&&(Zz(n),YC("onerror")),t.onunhandledrejection&&(e$(n),YC("onunhandledrejection"))}}},Jz=Xz;function Zz(e){y7(t=>{const{stackParser:n,attachStacktrace:r}=DT();if(en()!==e||gT())return;const{msg:i,url:s,line:o,column:a,error:l}=t,c=r$($2(n,l||i,void 0,r,!1),s,o,a);c.level="error",J7(c,{originalException:l,mechanism:{handled:!1,type:"onerror"}})})}function e$(e){v7(t=>{const{stackParser:n,attachStacktrace:r}=DT();if(en()!==e||gT())return;const i=t$(t),s=I2(i)?n$(i):$2(n,i,void 0,r,!0);s.level="error",J7(s,{originalException:i,mechanism:{handled:!1,type:"onunhandledrejection"}})})}function t$(e){if(I2(e))return e;try{if("reason"in e)return e.reason;if("detail"in e&&"reason"in e.detail)return e.detail.reason}catch{}return e}function n$(e){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(e)}`}]}}}function r$(e,t,n,r){const i=e.exception=e.exception||{},s=i.values=i.values||[],o=s[0]=s[0]||{},a=o.stacktrace=o.stacktrace||{},l=a.frames=a.frames||[],c=r,f=n,p=da(t)&&t.length>0?t:_7();return l.length===0&&l.push({colno:c,filename:p,function:Hu,in_app:!0,lineno:f}),e}function YC(e){Io&&Ge.log(`Global Handler attached: ${e}`)}function DT(){const e=en();return e&&e.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}const i$=()=>({name:"HttpContext",preprocessEvent(e){if(!It.navigator&&!It.location&&!It.document)return;const t=e.request&&e.request.url||It.location&&It.location.href,{referrer:n}=It.document||{},{userAgent:r}=It.navigator||{},i={...e.request&&e.request.headers,...n&&{Referer:n},...r&&{"User-Agent":r}},s={...e.request,...t&&{url:t},headers:i};e.request=s}}),s$="cause",o$=5,a$="LinkedErrors",l$=(e={})=>{const t=e.limit||o$,n=e.key||s$;return{name:a$,preprocessEvent(r,i,s){const o=s.getOptions();yF(B2,o.stackParser,o.maxValueLength,n,t,r,i)}}},u$=l$;function c$(e){const t=[oF(),nF(),Wz(),Oz(),Jz(),u$(),SF(),i$()];return e.autoSessionTracking!==!1&&t.push(Gz()),t}function d$(e={}){const t={defaultIntegrations:c$(e),release:typeof __SENTRY_RELEASE__=="string"?__SENTRY_RELEASE__:It.SENTRY_RELEASE&&It.SENTRY_RELEASE.id?It.SENTRY_RELEASE.id:void 0,autoSessionTracking:!0,sendClientReports:!0};return e.defaultIntegrations==null&&delete e.defaultIntegrations,{...t,...e}}function f$(){const e=typeof It.window<"u"&&It;if(!e)return!1;const t=e.chrome?"chrome":"browser",n=e[t],r=n&&n.runtime&&n.runtime.id,i=It.location&&It.location.href||"",s=["chrome-extension:","moz-extension:","ms-browser-extension:","safari-web-extension:"],o=!!r&&It===It.top&&s.some(l=>i.startsWith(`${l}//`)),a=typeof e.nw<"u";return!!r&&!o&&!a}function h$(e={}){const t=d$(e);if(!t.skipBrowserExtensionCheck&&f$()){Nl(()=>{console.error("[Sentry] You cannot run Sentry this way in a browser extension, check: https://docs.sentry.io/platforms/javascript/best-practices/browser-extensions/")});return}Io&&(hT()||Ge.warn("No Fetch API detected. The Sentry SDK requires a Fetch API compatible environment to send events. Please add a Fetch API polyfill."));const n={...t,stackParser:DA(t.stackParser||Nz),integrations:AL(t),transport:t.transport||yz};return $L(iB,n)}const On=rn,V2="sentryReplaySession",p$="replay_event",q2="Unable to send Replay",m$=3e5,g$=9e5,y$=5e3,v$=5500,x$=6e4,b$=5e3,w$=3,XC=15e4,ag=5e3,_$=3e3,S$=300,Q2=2e7,C$=4999,k$=15e3,JC=36e5;function Xb(e,t){return e??t()}function Wh(e){let t,n=e[0],r=1;for(;r<e.length;){const i=e[r],s=e[r+1];if(r+=2,(i==="optionalAccess"||i==="optionalCall")&&n==null)return;i==="access"||i==="optionalAccess"?(t=n,n=s(n)):(i==="call"||i==="optionalCall")&&(n=s((...o)=>n.call(t,...o)),t=void 0)}return n}var Sr;(function(e){e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment"})(Sr||(Sr={}));function E$(e){return e.nodeType===e.ELEMENT_NODE}function Th(e){const t=Wh([e,"optionalAccess",n=>n.host]);return Wh([t,"optionalAccess",n=>n.shadowRoot])===e}function jh(e){return Object.prototype.toString.call(e)==="[object ShadowRoot]"}function T$(e){return e.includes(" background-clip: text;")&&!e.includes(" -webkit-background-clip: text;")&&(e=e.replace(/\sbackground-clip:\s*text;/g," -webkit-background-clip: text; background-clip: text;")),e}function j$(e){const{cssText:t}=e;if(t.split('"').length<3)return t;const n=["@import",`url(${JSON.stringify(e.href)})`];return e.layerName===""?n.push("layer"):e.layerName&&n.push(`layer(${e.layerName})`),e.supportsText&&n.push(`supports(${e.supportsText})`),e.media.length&&n.push(e.media.mediaText),n.join(" ")+";"}function j0(e){try{const t=e.rules||e.cssRules;return t?T$(Array.from(t,LT).join("")):null}catch{return null}}function I$(e){let t="";for(let n=0;n<e.style.length;n++){const r=e.style,i=r[n],s=r.getPropertyPriority(i);t+=`${i}:${r.getPropertyValue(i)}${s?" !important":""};`}return`${e.selectorText} { ${t} }`}function LT(e){let t;if(P$(e))try{t=j0(e.styleSheet)||j$(e)}catch{}else if(R$(e)){let n=e.cssText;const r=e.selectorText.includes(":"),i=typeof e.style.all=="string"&&e.style.all;if(i&&(n=I$(e)),r&&(n=N$(n)),r||i)return n}return t||e.cssText}function N$(e){const t=/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm;return e.replace(t,"$1\\$2")}function P$(e){return"styleSheet"in e}function R$(e){return"selectorText"in e}class FT{constructor(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}getId(t){if(!t)return-1;const n=Wh([this,"access",r=>r.getMeta,"call",r=>r(t),"optionalAccess",r=>r.id]);return Xb(n,()=>-1)}getNode(t){return this.idNodeMap.get(t)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(t){return this.nodeMetaMap.get(t)||null}removeNodeFromMap(t){const n=this.getId(t);this.idNodeMap.delete(n),t.childNodes&&t.childNodes.forEach(r=>this.removeNodeFromMap(r))}has(t){return this.idNodeMap.has(t)}hasNode(t){return this.nodeMetaMap.has(t)}add(t,n){const r=n.id;this.idNodeMap.set(r,t),this.nodeMetaMap.set(t,n)}replace(t,n){const r=this.getNode(t);if(r){const i=this.nodeMetaMap.get(r);i&&this.nodeMetaMap.set(n,i)}this.idNodeMap.set(t,n)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}}function O$(){return new FT}function Cy({maskInputOptions:e,tagName:t,type:n}){return t==="OPTION"&&(t="SELECT"),!!(e[t.toLowerCase()]||n&&e[n]||n==="password"||t==="INPUT"&&!n&&e.text)}function Vh({isMasked:e,element:t,value:n,maskInputFn:r}){let i=n||"";return e?(r&&(i=r(i,t)),"*".repeat(i.length)):i}function $d(e){return e.toLowerCase()}function Jb(e){return e.toUpperCase()}const ZC="__rrweb_original__";function M$(e){const t=e.getContext("2d");if(!t)return!0;const n=50;for(let r=0;r<e.width;r+=n)for(let i=0;i<e.height;i+=n){const s=t.getImageData,o=ZC in s?s[ZC]:s;if(new Uint32Array(o.call(t,r,i,Math.min(n,e.width-r),Math.min(n,e.height-i)).data.buffer).some(l=>l!==0))return!1}return!0}function K2(e){const t=e.type;return e.hasAttribute("data-rr-is-password")?"password":t?$d(t):null}function I0(e,t,n){return t==="INPUT"&&(n==="radio"||n==="checkbox")?e.getAttribute("value")||"":e.value}function BT(e,t){let n;try{n=new URL(e,Xb(t,()=>window.location.href))}catch{return null}const r=/\.([0-9a-z]+)(?:$)/i,i=n.pathname.match(r);return Xb(Wh([i,"optionalAccess",s=>s[1]]),()=>null)}const e4={};function zT(e){const t=e4[e];if(t)return t;const n=window.document;let r=window[e];if(n&&typeof n.createElement=="function")try{const i=n.createElement("iframe");i.hidden=!0,n.head.appendChild(i);const s=i.contentWindow;s&&s[e]&&(r=s[e]),n.head.removeChild(i)}catch{}return e4[e]=r.bind(window)}function Zb(...e){return zT("setTimeout")(...e)}function $T(...e){return zT("clearTimeout")(...e)}function UT(e){try{return e.contentDocument}catch{}}let A$=1;const D$=new RegExp("[^a-z0-9-_:]"),qh=-2;function G2(){return A$++}function L$(e){if(e instanceof HTMLFormElement)return"form";const t=$d(e.tagName);return D$.test(t)?"div":t}function F$(e){let t="";return e.indexOf("//")>-1?t=e.split("/").slice(0,3).join("/"):t=e.split("/")[0],t=t.split("?")[0],t}let qc,t4;const B$=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,z$=/^(?:[a-z+]+:)?\/\//i,$$=/^www\..*/i,U$=/^(data:)([^,]*),(.*)/i;function N0(e,t){return(e||"").replace(B$,(n,r,i,s,o,a)=>{const l=i||o||a,c=r||s||"";if(!l)return n;if(z$.test(l)||$$.test(l))return`url(${c}${l}${c})`;if(U$.test(l))return`url(${c}${l}${c})`;if(l[0]==="/")return`url(${c}${F$(t)+l}${c})`;const f=t.split("/"),p=l.split("/");f.pop();for(const g of p)g!=="."&&(g===".."?f.pop():f.push(g));return`url(${c}${f.join("/")}${c})`})}const H$=/^[^ \t\n\r\u000c]+/,W$=/^[, \t\n\r\u000c]+/;function V$(e,t){if(t.trim()==="")return t;let n=0;function r(s){let o;const a=s.exec(t.substring(n));return a?(o=a[0],n+=o.length,o):""}const i=[];for(;r(W$),!(n>=t.length);){let s=r(H$);if(s.slice(-1)===",")s=wd(e,s.substring(0,s.length-1)),i.push(s);else{let o="";s=wd(e,s);let a=!1;for(;;){const l=t.charAt(n);if(l===""){i.push((s+o).trim());break}else if(a)l===")"&&(a=!1);else if(l===","){n+=1,i.push((s+o).trim());break}else l==="("&&(a=!0);o+=l,n+=1}}}return i.join(", ")}const n4=new WeakMap;function wd(e,t){return!t||t.trim()===""?t:ky(e,t)}function q$(e){return!!(e.tagName==="svg"||e.ownerSVGElement)}function ky(e,t){let n=n4.get(e);if(n||(n=e.createElement("a"),n4.set(e,n)),!t)t="";else if(t.startsWith("blob:")||t.startsWith("data:"))return t;return n.setAttribute("href",t),n.href}function HT(e,t,n,r,i,s){return r&&(n==="src"||n==="href"&&!(t==="use"&&r[0]==="#")||n==="xlink:href"&&r[0]!=="#"||n==="background"&&(t==="table"||t==="td"||t==="th")?wd(e,r):n==="srcset"?V$(e,r):n==="style"?N0(r,ky(e)):t==="object"&&n==="data"?wd(e,r):typeof s=="function"?s(n,r,i):r)}function WT(e,t,n){return(e==="video"||e==="audio")&&t==="autoplay"}function Q$(e,t,n,r){try{if(r&&e.matches(r))return!1;if(typeof t=="string"){if(e.classList.contains(t))return!0}else for(let i=e.classList.length;i--;){const s=e.classList[i];if(t.test(s))return!0}if(n)return e.matches(n)}catch{}return!1}function K$(e,t){for(let n=e.classList.length;n--;){const r=e.classList[n];if(t.test(r))return!0}return!1}function Nu(e,t,n=1/0,r=0){return!e||e.nodeType!==e.ELEMENT_NODE||r>n?-1:t(e)?r:Nu(e.parentNode,t,n,r+1)}function _d(e,t){return n=>{const r=n;if(r===null)return!1;try{if(e){if(typeof e=="string"){if(r.matches(`.${e}`))return!0}else if(K$(r,e))return!0}return!!(t&&r.matches(t))}catch{return!1}}}function Ud(e,t,n,r,i,s){try{const o=e.nodeType===e.ELEMENT_NODE?e:e.parentElement;if(o===null)return!1;if(o.tagName==="INPUT"){const c=o.getAttribute("autocomplete");if(["current-password","new-password","cc-number","cc-exp","cc-exp-month","cc-exp-year","cc-csc"].includes(c))return!0}let a=-1,l=-1;if(s){if(l=Nu(o,_d(r,i)),l<0)return!0;a=Nu(o,_d(t,n),l>=0?l:1/0)}else{if(a=Nu(o,_d(t,n)),a<0)return!1;l=Nu(o,_d(r,i),a>=0?a:1/0)}return a>=0?l>=0?a<=l:!0:l>=0?!1:!!s}catch{}return!!s}function G$(e,t,n){const r=e.contentWindow;if(!r)return;let i=!1,s;try{s=r.document.readyState}catch{return}if(s!=="complete"){const a=Zb(()=>{i||(t(),i=!0)},n);e.addEventListener("load",()=>{$T(a),i=!0,t()});return}const o="about:blank";if(r.location.href!==o||e.src===o||e.src==="")return Zb(t,0),e.addEventListener("load",t);e.addEventListener("load",t)}function Y$(e,t,n){let r=!1,i;try{i=e.sheet}catch{return}if(i)return;const s=Zb(()=>{r||(t(),r=!0)},n);e.addEventListener("load",()=>{$T(s),r=!0,t()})}function X$(e,t){const{doc:n,mirror:r,blockClass:i,blockSelector:s,unblockSelector:o,maskAllText:a,maskAttributeFn:l,maskTextClass:c,unmaskTextClass:f,maskTextSelector:p,unmaskTextSelector:g,inlineStylesheet:y,maskInputOptions:b={},maskTextFn:_,maskInputFn:C,dataURLOptions:k={},inlineImages:P,recordCanvas:O,keepIframeSrcFn:$,newlyAddedElement:B=!1}=t,j=J$(n,r);switch(e.nodeType){case e.DOCUMENT_NODE:return e.compatMode!=="CSS1Compat"?{type:Sr.Document,childNodes:[],compatMode:e.compatMode}:{type:Sr.Document,childNodes:[]};case e.DOCUMENT_TYPE_NODE:return{type:Sr.DocumentType,name:e.name,publicId:e.publicId,systemId:e.systemId,rootId:j};case e.ELEMENT_NODE:return eU(e,{doc:n,blockClass:i,blockSelector:s,unblockSelector:o,inlineStylesheet:y,maskAttributeFn:l,maskInputOptions:b,maskInputFn:C,dataURLOptions:k,inlineImages:P,recordCanvas:O,keepIframeSrcFn:$,newlyAddedElement:B,rootId:j,maskTextClass:c,unmaskTextClass:f,maskTextSelector:p,unmaskTextSelector:g});case e.TEXT_NODE:return Z$(e,{doc:n,maskAllText:a,maskTextClass:c,unmaskTextClass:f,maskTextSelector:p,unmaskTextSelector:g,maskTextFn:_,maskInputOptions:b,maskInputFn:C,rootId:j});case e.CDATA_SECTION_NODE:return{type:Sr.CDATA,textContent:"",rootId:j};case e.COMMENT_NODE:return{type:Sr.Comment,textContent:e.textContent||"",rootId:j};default:return!1}}function J$(e,t){if(!t.hasNode(e))return;const n=t.getId(e);return n===1?void 0:n}function Z$(e,t){const{maskAllText:n,maskTextClass:r,unmaskTextClass:i,maskTextSelector:s,unmaskTextSelector:o,maskTextFn:a,maskInputOptions:l,maskInputFn:c,rootId:f}=t,p=e.parentNode&&e.parentNode.tagName;let g=e.textContent;const y=p==="STYLE"?!0:void 0,b=p==="SCRIPT"?!0:void 0,_=p==="TEXTAREA"?!0:void 0;if(y&&g){try{e.nextSibling||e.previousSibling||Wh([e,"access",k=>k.parentNode,"access",k=>k.sheet,"optionalAccess",k=>k.cssRules])&&(g=j0(e.parentNode.sheet))}catch(k){console.warn(`Cannot get CSS styles from text's parentNode. Error: ${k}`,e)}g=N0(g,ky(t.doc))}b&&(g="SCRIPT_PLACEHOLDER");const C=Ud(e,r,s,i,o,n);if(!y&&!b&&!_&&g&&C&&(g=a?a(g,e.parentElement):g.replace(/[\S]/g,"*")),_&&g&&(l.textarea||C)&&(g=c?c(g,e.parentNode):g.replace(/[\S]/g,"*")),p==="OPTION"&&g){const k=Cy({type:null,tagName:p,maskInputOptions:l});g=Vh({isMasked:Ud(e,r,s,i,o,k),element:e,value:g,maskInputFn:c})}return{type:Sr.Text,textContent:g||"",isStyle:y,rootId:f}}function eU(e,t){const{doc:n,blockClass:r,blockSelector:i,unblockSelector:s,inlineStylesheet:o,maskInputOptions:a={},maskAttributeFn:l,maskInputFn:c,dataURLOptions:f={},inlineImages:p,recordCanvas:g,keepIframeSrcFn:y,newlyAddedElement:b=!1,rootId:_,maskTextClass:C,unmaskTextClass:k,maskTextSelector:P,unmaskTextSelector:O}=t,$=Q$(e,r,i,s),B=L$(e);let j={};const M=e.attributes.length;for(let z=0;z<M;z++){const D=e.attributes[z];D.name&&!WT(B,D.name,D.value)&&(j[D.name]=HT(n,B,$d(D.name),D.value,e,l))}if(B==="link"&&o){const z=Array.from(n.styleSheets).find(ee=>ee.href===e.href);let D=null;z&&(D=j0(z)),D&&(j.rel=null,j.href=null,j.crossorigin=null,j._cssText=N0(D,z.href))}if(B==="style"&&e.sheet&&!(e.innerText||e.textContent||"").trim().length){const z=j0(e.sheet);z&&(j._cssText=N0(z,ky(n)))}if(B==="input"||B==="textarea"||B==="select"||B==="option"){const z=e,D=K2(z),ee=I0(z,Jb(B),D),J=z.checked;if(D!=="submit"&&D!=="button"&&ee){const re=Ud(z,C,P,k,O,Cy({type:D,tagName:Jb(B),maskInputOptions:a}));j.value=Vh({isMasked:re,element:z,value:ee,maskInputFn:c})}J&&(j.checked=J)}if(B==="option"&&(e.selected&&!a.select?j.selected=!0:delete j.selected),B==="canvas"&&g){if(e.__context==="2d")M$(e)||(j.rr_dataURL=e.toDataURL(f.type,f.quality));else if(!("__context"in e)){const z=e.toDataURL(f.type,f.quality),D=n.createElement("canvas");D.width=e.width,D.height=e.height;const ee=D.toDataURL(f.type,f.quality);z!==ee&&(j.rr_dataURL=z)}}if(B==="img"&&p){qc||(qc=n.createElement("canvas"),t4=qc.getContext("2d"));const z=e,D=z.currentSrc||z.getAttribute("src")||"<unknown-src>",ee=z.crossOrigin,J=()=>{z.removeEventListener("load",J);try{qc.width=z.naturalWidth,qc.height=z.naturalHeight,t4.drawImage(z,0,0),j.rr_dataURL=qc.toDataURL(f.type,f.quality)}catch(re){if(z.crossOrigin!=="anonymous"){z.crossOrigin="anonymous",z.complete&&z.naturalWidth!==0?J():z.addEventListener("load",J);return}else console.warn(`Cannot inline img src=${D}! Error: ${re}`)}z.crossOrigin==="anonymous"&&(ee?j.crossOrigin=ee:z.removeAttribute("crossorigin"))};z.complete&&z.naturalWidth!==0?J():z.addEventListener("load",J)}if((B==="audio"||B==="video")&&(j.rr_mediaState=e.paused?"paused":"played",j.rr_mediaCurrentTime=e.currentTime),b||(e.scrollLeft&&(j.rr_scrollLeft=e.scrollLeft),e.scrollTop&&(j.rr_scrollTop=e.scrollTop)),$){const{width:z,height:D}=e.getBoundingClientRect();j={class:j.class,rr_width:`${z}px`,rr_height:`${D}px`}}B==="iframe"&&!y(j.src)&&(!$&&!UT(e)&&(j.rr_src=j.src),delete j.src);let U;try{customElements.get(B)&&(U=!0)}catch{}return{type:Sr.Element,tagName:B,attributes:j,childNodes:[],isSVG:q$(e)||void 0,needBlock:$,rootId:_,isCustom:U}}function Nn(e){return e==null?"":e.toLowerCase()}function tU(e,t){if(t.comment&&e.type===Sr.Comment)return!0;if(e.type===Sr.Element){if(t.script&&(e.tagName==="script"||e.tagName==="link"&&(e.attributes.rel==="preload"||e.attributes.rel==="modulepreload")||e.tagName==="link"&&e.attributes.rel==="prefetch"&&typeof e.attributes.href=="string"&&BT(e.attributes.href)==="js"))return!0;if(t.headFavicon&&(e.tagName==="link"&&e.attributes.rel==="shortcut icon"||e.tagName==="meta"&&(Nn(e.attributes.name).match(/^msapplication-tile(image|color)$/)||Nn(e.attributes.name)==="application-name"||Nn(e.attributes.rel)==="icon"||Nn(e.attributes.rel)==="apple-touch-icon"||Nn(e.attributes.rel)==="shortcut icon")))return!0;if(e.tagName==="meta"){if(t.headMetaDescKeywords&&Nn(e.attributes.name).match(/^description|keywords$/))return!0;if(t.headMetaSocial&&(Nn(e.attributes.property).match(/^(og|twitter|fb):/)||Nn(e.attributes.name).match(/^(og|twitter):/)||Nn(e.attributes.name)==="pinterest"))return!0;if(t.headMetaRobots&&(Nn(e.attributes.name)==="robots"||Nn(e.attributes.name)==="googlebot"||Nn(e.attributes.name)==="bingbot"))return!0;if(t.headMetaHttpEquiv&&e.attributes["http-equiv"]!==void 0)return!0;if(t.headMetaAuthorship&&(Nn(e.attributes.name)==="author"||Nn(e.attributes.name)==="generator"||Nn(e.attributes.name)==="framework"||Nn(e.attributes.name)==="publisher"||Nn(e.attributes.name)==="progid"||Nn(e.attributes.property).match(/^article:/)||Nn(e.attributes.property).match(/^product:/)))return!0;if(t.headMetaVerification&&(Nn(e.attributes.name)==="google-site-verification"||Nn(e.attributes.name)==="yandex-verification"||Nn(e.attributes.name)==="csrf-token"||Nn(e.attributes.name)==="p:domain_verify"||Nn(e.attributes.name)==="verify-v1"||Nn(e.attributes.name)==="verification"||Nn(e.attributes.name)==="shopify-checkout-api-token"))return!0}}return!1}function Sd(e,t){const{doc:n,mirror:r,blockClass:i,blockSelector:s,unblockSelector:o,maskAllText:a,maskTextClass:l,unmaskTextClass:c,maskTextSelector:f,unmaskTextSelector:p,skipChild:g=!1,inlineStylesheet:y=!0,maskInputOptions:b={},maskAttributeFn:_,maskTextFn:C,maskInputFn:k,slimDOMOptions:P,dataURLOptions:O={},inlineImages:$=!1,recordCanvas:B=!1,onSerialize:j,onIframeLoad:M,iframeLoadTimeout:U=5e3,onStylesheetLoad:z,stylesheetLoadTimeout:D=5e3,keepIframeSrcFn:ee=()=>!1,newlyAddedElement:J=!1}=t;let{preserveWhiteSpace:re=!0}=t;const q=X$(e,{doc:n,mirror:r,blockClass:i,blockSelector:s,maskAllText:a,unblockSelector:o,maskTextClass:l,unmaskTextClass:c,maskTextSelector:f,unmaskTextSelector:p,inlineStylesheet:y,maskInputOptions:b,maskAttributeFn:_,maskTextFn:C,maskInputFn:k,dataURLOptions:O,inlineImages:$,recordCanvas:B,keepIframeSrcFn:ee,newlyAddedElement:J});if(!q)return console.warn(e,"not serialized"),null;let V;r.hasNode(e)?V=r.getId(e):tU(q,P)||!re&&q.type===Sr.Text&&!q.isStyle&&!q.textContent.replace(/^\s+|\s+$/gm,"").length?V=qh:V=G2();const Q=Object.assign(q,{id:V});if(r.add(e,Q),V===qh)return null;j&&j(e);let ne=!g;if(Q.type===Sr.Element){ne=ne&&!Q.needBlock,delete Q.needBlock;const Z=e.shadowRoot;Z&&jh(Z)&&(Q.isShadowHost=!0)}if((Q.type===Sr.Document||Q.type===Sr.Element)&&ne){P.headWhitespace&&Q.type===Sr.Element&&Q.tagName==="head"&&(re=!1);const Z={doc:n,mirror:r,blockClass:i,blockSelector:s,maskAllText:a,unblockSelector:o,maskTextClass:l,unmaskTextClass:c,maskTextSelector:f,unmaskTextSelector:p,skipChild:g,inlineStylesheet:y,maskInputOptions:b,maskAttributeFn:_,maskTextFn:C,maskInputFn:k,slimDOMOptions:P,dataURLOptions:O,inlineImages:$,recordCanvas:B,preserveWhiteSpace:re,onSerialize:j,onIframeLoad:M,iframeLoadTimeout:U,onStylesheetLoad:z,stylesheetLoadTimeout:D,keepIframeSrcFn:ee};for(const fe of Array.from(e.childNodes)){const F=Sd(fe,Z);F&&Q.childNodes.push(F)}if(E$(e)&&e.shadowRoot)for(const fe of Array.from(e.shadowRoot.childNodes)){const F=Sd(fe,Z);F&&(jh(e.shadowRoot)&&(F.isShadow=!0),Q.childNodes.push(F))}}return e.parentNode&&Th(e.parentNode)&&jh(e.parentNode)&&(Q.isShadow=!0),Q.type===Sr.Element&&Q.tagName==="iframe"&&G$(e,()=>{const Z=UT(e);if(Z&&M){const fe=Sd(Z,{doc:Z,mirror:r,blockClass:i,blockSelector:s,unblockSelector:o,maskAllText:a,maskTextClass:l,unmaskTextClass:c,maskTextSelector:f,unmaskTextSelector:p,skipChild:!1,inlineStylesheet:y,maskInputOptions:b,maskAttributeFn:_,maskTextFn:C,maskInputFn:k,slimDOMOptions:P,dataURLOptions:O,inlineImages:$,recordCanvas:B,preserveWhiteSpace:re,onSerialize:j,onIframeLoad:M,iframeLoadTimeout:U,onStylesheetLoad:z,stylesheetLoadTimeout:D,keepIframeSrcFn:ee});fe&&M(e,fe)}},U),Q.type===Sr.Element&&Q.tagName==="link"&&typeof Q.attributes.rel=="string"&&(Q.attributes.rel==="stylesheet"||Q.attributes.rel==="preload"&&typeof Q.attributes.href=="string"&&BT(Q.attributes.href)==="css")&&Y$(e,()=>{if(z){const Z=Sd(e,{doc:n,mirror:r,blockClass:i,blockSelector:s,unblockSelector:o,maskAllText:a,maskTextClass:l,unmaskTextClass:c,maskTextSelector:f,unmaskTextSelector:p,skipChild:!1,inlineStylesheet:y,maskInputOptions:b,maskAttributeFn:_,maskTextFn:C,maskInputFn:k,slimDOMOptions:P,dataURLOptions:O,inlineImages:$,recordCanvas:B,preserveWhiteSpace:re,onSerialize:j,onIframeLoad:M,iframeLoadTimeout:U,onStylesheetLoad:z,stylesheetLoadTimeout:D,keepIframeSrcFn:ee});Z&&z(e,Z)}},D),Q}function nU(e,t){const{mirror:n=new FT,blockClass:r="rr-block",blockSelector:i=null,unblockSelector:s=null,maskAllText:o=!1,maskTextClass:a="rr-mask",unmaskTextClass:l=null,maskTextSelector:c=null,unmaskTextSelector:f=null,inlineStylesheet:p=!0,inlineImages:g=!1,recordCanvas:y=!1,maskAllInputs:b=!1,maskAttributeFn:_,maskTextFn:C,maskInputFn:k,slimDOM:P=!1,dataURLOptions:O,preserveWhiteSpace:$,onSerialize:B,onIframeLoad:j,iframeLoadTimeout:M,onStylesheetLoad:U,stylesheetLoadTimeout:z,keepIframeSrcFn:D=()=>!1}=t||{};return Sd(e,{doc:e,mirror:n,blockClass:r,blockSelector:i,unblockSelector:s,maskAllText:o,maskTextClass:a,unmaskTextClass:l,maskTextSelector:c,unmaskTextSelector:f,skipChild:!1,inlineStylesheet:p,maskInputOptions:b===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0}:b===!1?{}:b,maskAttributeFn:_,maskTextFn:C,maskInputFn:k,slimDOMOptions:P===!0||P==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:P==="all",headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:P===!1?{}:P,dataURLOptions:O,inlineImages:g,recordCanvas:y,preserveWhiteSpace:$,onSerialize:B,onIframeLoad:j,iframeLoadTimeout:M,onStylesheetLoad:U,stylesheetLoadTimeout:z,keepIframeSrcFn:D,newlyAddedElement:!1})}function el(e){let t,n=e[0],r=1;for(;r<e.length;){const i=e[r],s=e[r+1];if(r+=2,(i==="optionalAccess"||i==="optionalCall")&&n==null)return;i==="access"||i==="optionalAccess"?(t=n,n=s(n)):(i==="call"||i==="optionalCall")&&(n=s((...o)=>n.call(t,...o)),t=void 0)}return n}function vi(e,t,n=document){const r={capture:!0,passive:!0};return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t,r)}const md=`Please stop import mirror directly. Instead of that,\r
now you can use replayer.getMirror() to access the mirror instance of a replayer,\r
or you can use record.mirror to access the mirror instance during recording.`;let r4={map:{},getId(){return console.error(md),-1},getNode(){return console.error(md),null},removeNodeFromMap(){console.error(md)},has(){return console.error(md),!1},reset(){console.error(md)}};typeof window<"u"&&window.Proxy&&window.Reflect&&(r4=new Proxy(r4,{get(e,t,n){return t==="map"&&console.error(md),Reflect.get(e,t,n)}}));function Qh(e,t,n={}){let r=null,i=0;return function(...s){const o=Date.now();!i&&n.leading===!1&&(i=o);const a=t-(o-i),l=this;a<=0||a>t?(r&&(uU(r),r=null),i=o,e.apply(l,s)):!r&&n.trailing!==!1&&(r=Ey(()=>{i=n.leading===!1?0:Date.now(),r=null,e.apply(l,s)},a))}}function VT(e,t,n,r,i=window){const s=i.Object.getOwnPropertyDescriptor(e,t);return i.Object.defineProperty(e,t,r?n:{set(o){Ey(()=>{n.set.call(this,o)},0),s&&s.set&&s.set.call(this,o)}}),()=>VT(e,t,s||{},!0)}function Y2(e,t,n){try{if(!(t in e))return()=>{};const r=e[t],i=n(r);return typeof i=="function"&&(i.prototype=i.prototype||{},Object.defineProperties(i,{__rrweb_original__:{enumerable:!1,value:r}})),e[t]=i,()=>{e[t]=r}}catch{return()=>{}}}let P0=Date.now;/[1-9][0-9]{12}/.test(Date.now().toString())||(P0=()=>new Date().getTime());function qT(e){const t=e.document;return{left:t.scrollingElement?t.scrollingElement.scrollLeft:e.pageXOffset!==void 0?e.pageXOffset:el([t,"optionalAccess",n=>n.documentElement,"access",n=>n.scrollLeft])||el([t,"optionalAccess",n=>n.body,"optionalAccess",n=>n.parentElement,"optionalAccess",n=>n.scrollLeft])||el([t,"optionalAccess",n=>n.body,"optionalAccess",n=>n.scrollLeft])||0,top:t.scrollingElement?t.scrollingElement.scrollTop:e.pageYOffset!==void 0?e.pageYOffset:el([t,"optionalAccess",n=>n.documentElement,"access",n=>n.scrollTop])||el([t,"optionalAccess",n=>n.body,"optionalAccess",n=>n.parentElement,"optionalAccess",n=>n.scrollTop])||el([t,"optionalAccess",n=>n.body,"optionalAccess",n=>n.scrollTop])||0}}function QT(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function KT(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function GT(e){return e?e.nodeType===e.ELEMENT_NODE?e:e.parentElement:null}function as(e,t,n,r,i){if(!e)return!1;const s=GT(e);if(!s)return!1;const o=_d(t,n);if(!i){const c=r&&s.matches(r);return o(s)&&!c}const a=Nu(s,o);let l=-1;return a<0?!1:(r&&(l=Nu(s,_d(null,r))),a>-1&&l<0?!0:a<l)}function rU(e,t){return t.getId(e)!==-1}function sx(e,t){return t.getId(e)===qh}function YT(e,t){if(Th(e))return!1;const n=t.getId(e);return t.has(n)?e.parentNode&&e.parentNode.nodeType===e.DOCUMENT_NODE?!1:e.parentNode?YT(e.parentNode,t):!0:!0}function ew(e){return!!e.changedTouches}function iU(e=window){"NodeList"in e&&!e.NodeList.prototype.forEach&&(e.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in e&&!e.DOMTokenList.prototype.forEach&&(e.DOMTokenList.prototype.forEach=Array.prototype.forEach),Node.prototype.contains||(Node.prototype.contains=(...t)=>{let n=t[0];if(!(0 in t))throw new TypeError("1 argument is required");do if(this===n)return!0;while(n=n&&n.parentNode);return!1})}function XT(e,t){return!!(e.nodeName==="IFRAME"&&t.getMeta(e))}function JT(e,t){return!!(e.nodeName==="LINK"&&e.nodeType===e.ELEMENT_NODE&&e.getAttribute&&e.getAttribute("rel")==="stylesheet"&&t.getMeta(e))}function tw(e){return!!el([e,"optionalAccess",t=>t.shadowRoot])}class sU{constructor(){this.id=1,this.styleIDMap=new WeakMap,this.idStyleMap=new Map}getId(t){return HF(this.styleIDMap.get(t),()=>-1)}has(t){return this.styleIDMap.has(t)}add(t,n){if(this.has(t))return this.getId(t);let r;return n===void 0?r=this.id++:r=n,this.styleIDMap.set(t,r),this.idStyleMap.set(r,t),r}getStyle(t){return this.idStyleMap.get(t)||null}reset(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}generateId(){return this.id++}}function ZT(e){let t=null;return el([e,"access",n=>n.getRootNode,"optionalCall",n=>n(),"optionalAccess",n=>n.nodeType])===Node.DOCUMENT_FRAGMENT_NODE&&e.getRootNode().host&&(t=e.getRootNode().host),t}function oU(e){let t=e,n;for(;n=ZT(t);)t=n;return t}function aU(e){const t=e.ownerDocument;if(!t)return!1;const n=oU(e);return t.contains(n)}function e9(e){const t=e.ownerDocument;return t?t.contains(e)||aU(e):!1}const i4={};function X2(e){const t=i4[e];if(t)return t;const n=window.document;let r=window[e];if(n&&typeof n.createElement=="function")try{const i=n.createElement("iframe");i.hidden=!0,n.head.appendChild(i);const s=i.contentWindow;s&&s[e]&&(r=s[e]),n.head.removeChild(i)}catch{}return i4[e]=r.bind(window)}function lU(...e){return X2("requestAnimationFrame")(...e)}function Ey(...e){return X2("setTimeout")(...e)}function uU(...e){return X2("clearTimeout")(...e)}var Wt=(e=>(e[e.DomContentLoaded=0]="DomContentLoaded",e[e.Load=1]="Load",e[e.FullSnapshot=2]="FullSnapshot",e[e.IncrementalSnapshot=3]="IncrementalSnapshot",e[e.Meta=4]="Meta",e[e.Custom=5]="Custom",e[e.Plugin=6]="Plugin",e))(Wt||{}),Ct=(e=>(e[e.Mutation=0]="Mutation",e[e.MouseMove=1]="MouseMove",e[e.MouseInteraction=2]="MouseInteraction",e[e.Scroll=3]="Scroll",e[e.ViewportResize=4]="ViewportResize",e[e.Input=5]="Input",e[e.TouchMove=6]="TouchMove",e[e.MediaInteraction=7]="MediaInteraction",e[e.StyleSheetRule=8]="StyleSheetRule",e[e.CanvasMutation=9]="CanvasMutation",e[e.Font=10]="Font",e[e.Log=11]="Log",e[e.Drag=12]="Drag",e[e.StyleDeclaration=13]="StyleDeclaration",e[e.Selection=14]="Selection",e[e.AdoptedStyleSheet=15]="AdoptedStyleSheet",e[e.CustomElement=16]="CustomElement",e))(Ct||{}),mi=(e=>(e[e.MouseUp=0]="MouseUp",e[e.MouseDown=1]="MouseDown",e[e.Click=2]="Click",e[e.ContextMenu=3]="ContextMenu",e[e.DblClick=4]="DblClick",e[e.Focus=5]="Focus",e[e.Blur=6]="Blur",e[e.TouchStart=7]="TouchStart",e[e.TouchMove_Departed=8]="TouchMove_Departed",e[e.TouchEnd=9]="TouchEnd",e[e.TouchCancel=10]="TouchCancel",e))(mi||{}),Jo=(e=>(e[e.Mouse=0]="Mouse",e[e.Pen=1]="Pen",e[e.Touch=2]="Touch",e))(Jo||{}),s4;(function(e){e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment"})(s4||(s4={}));var o4;(function(e){e[e.PLACEHOLDER=0]="PLACEHOLDER",e[e.ELEMENT_NODE=1]="ELEMENT_NODE",e[e.ATTRIBUTE_NODE=2]="ATTRIBUTE_NODE",e[e.TEXT_NODE=3]="TEXT_NODE",e[e.CDATA_SECTION_NODE=4]="CDATA_SECTION_NODE",e[e.ENTITY_REFERENCE_NODE=5]="ENTITY_REFERENCE_NODE",e[e.ENTITY_NODE=6]="ENTITY_NODE",e[e.PROCESSING_INSTRUCTION_NODE=7]="PROCESSING_INSTRUCTION_NODE",e[e.COMMENT_NODE=8]="COMMENT_NODE",e[e.DOCUMENT_NODE=9]="DOCUMENT_NODE",e[e.DOCUMENT_TYPE_NODE=10]="DOCUMENT_TYPE_NODE",e[e.DOCUMENT_FRAGMENT_NODE=11]="DOCUMENT_FRAGMENT_NODE"})(o4||(o4={}));function J2(e){try{return e.contentDocument}catch{}}function cU(e){try{return e.contentWindow}catch{}}function dU(e){let t,n=e[0],r=1;for(;r<e.length;){const i=e[r],s=e[r+1];if(r+=2,(i==="optionalAccess"||i==="optionalCall")&&n==null)return;i==="access"||i==="optionalAccess"?(t=n,n=s(n)):(i==="call"||i==="optionalCall")&&(n=s((...o)=>n.call(t,...o)),t=void 0)}return n}function a4(e){return"__ln"in e}class fU{constructor(){this.length=0,this.head=null,this.tail=null}get(t){if(t>=this.length)throw new Error("Position outside of list range");let n=this.head;for(let r=0;r<t;r++)n=dU([n,"optionalAccess",i=>i.next])||null;return n}addNode(t){const n={value:t,previous:null,next:null};if(t.__ln=n,t.previousSibling&&a4(t.previousSibling)){const r=t.previousSibling.__ln.next;n.next=r,n.previous=t.previousSibling.__ln,t.previousSibling.__ln.next=n,r&&(r.previous=n)}else if(t.nextSibling&&a4(t.nextSibling)&&t.nextSibling.__ln.previous){const r=t.nextSibling.__ln.previous;n.previous=r,n.next=t.nextSibling.__ln,t.nextSibling.__ln.previous=n,r&&(r.next=n)}else this.head&&(this.head.previous=n),n.next=this.head,this.head=n;n.next===null&&(this.tail=n),this.length++}removeNode(t){const n=t.__ln;this.head&&(n.previous?(n.previous.next=n.next,n.next?n.next.previous=n.previous:this.tail=n.previous):(this.head=n.next,this.head?this.head.previous=null:this.tail=null),t.__ln&&delete t.__ln,this.length--)}}const l4=(e,t)=>`${e}@${t}`;class hU{constructor(){this.frozen=!1,this.locked=!1,this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.mapRemoves=[],this.movedMap={},this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.processMutations=t=>{t.forEach(this.processMutation),this.emit()},this.emit=()=>{if(this.frozen||this.locked)return;const t=[],n=new Set,r=new fU,i=l=>{let c=l,f=qh;for(;f===qh;)c=c&&c.nextSibling,f=c&&this.mirror.getId(c);return f},s=l=>{if(!l.parentNode||!e9(l))return;const c=Th(l.parentNode)?this.mirror.getId(ZT(l)):this.mirror.getId(l.parentNode),f=i(l);if(c===-1||f===-1)return r.addNode(l);const p=Sd(l,{doc:this.doc,mirror:this.mirror,blockClass:this.blockClass,blockSelector:this.blockSelector,maskAllText:this.maskAllText,unblockSelector:this.unblockSelector,maskTextClass:this.maskTextClass,unmaskTextClass:this.unmaskTextClass,maskTextSelector:this.maskTextSelector,unmaskTextSelector:this.unmaskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:this.inlineStylesheet,maskInputOptions:this.maskInputOptions,maskAttributeFn:this.maskAttributeFn,maskTextFn:this.maskTextFn,maskInputFn:this.maskInputFn,slimDOMOptions:this.slimDOMOptions,dataURLOptions:this.dataURLOptions,recordCanvas:this.recordCanvas,inlineImages:this.inlineImages,onSerialize:g=>{XT(g,this.mirror)&&!as(g,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&this.iframeManager.addIframe(g),JT(g,this.mirror)&&this.stylesheetManager.trackLinkElement(g),tw(l)&&this.shadowDomManager.addShadowRoot(l.shadowRoot,this.doc)},onIframeLoad:(g,y)=>{as(g,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(this.iframeManager.attachIframe(g,y),g.contentWindow&&this.canvasManager.addWindow(g.contentWindow),this.shadowDomManager.observeAttachShadow(g))},onStylesheetLoad:(g,y)=>{this.stylesheetManager.attachLinkElement(g,y)}});p&&(t.push({parentId:c,nextId:f,node:p}),n.add(p.id))};for(;this.mapRemoves.length;)this.mirror.removeNodeFromMap(this.mapRemoves.shift());for(const l of this.movedSet)u4(this.removes,l,this.mirror)&&!this.movedSet.has(l.parentNode)||s(l);for(const l of this.addedSet)!c4(this.droppedSet,l)&&!u4(this.removes,l,this.mirror)||c4(this.movedSet,l)?s(l):this.droppedSet.add(l);let o=null;for(;r.length;){let l=null;if(o){const c=this.mirror.getId(o.value.parentNode),f=i(o.value);c!==-1&&f!==-1&&(l=o)}if(!l){let c=r.tail;for(;c;){const f=c;if(c=c.previous,f){const p=this.mirror.getId(f.value.parentNode);if(i(f.value)===-1)continue;if(p!==-1){l=f;break}else{const y=f.value;if(y.parentNode&&y.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE){const b=y.parentNode.host;if(this.mirror.getId(b)!==-1){l=f;break}}}}}}if(!l){for(;r.head;)r.removeNode(r.head.value);break}o=l.previous,r.removeNode(l.value),s(l.value)}const a={texts:this.texts.map(l=>({id:this.mirror.getId(l.node),value:l.value})).filter(l=>!n.has(l.id)).filter(l=>this.mirror.has(l.id)),attributes:this.attributes.map(l=>{const{attributes:c}=l;if(typeof c.style=="string"){const f=JSON.stringify(l.styleDiff),p=JSON.stringify(l._unchangedStyles);f.length<c.style.length&&(f+p).split("var(").length===c.style.split("var(").length&&(c.style=l.styleDiff)}return{id:this.mirror.getId(l.node),attributes:c}}).filter(l=>!n.has(l.id)).filter(l=>this.mirror.has(l.id)),removes:this.removes,adds:t};!a.texts.length&&!a.attributes.length&&!a.removes.length&&!a.adds.length||(this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.movedMap={},this.mutationCb(a))},this.processMutation=t=>{if(!sx(t.target,this.mirror))switch(t.type){case"characterData":{const n=t.target.textContent;!as(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&n!==t.oldValue&&this.texts.push({value:Ud(t.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,this.maskAllText)&&n?this.maskTextFn?this.maskTextFn(n,GT(t.target)):n.replace(/[\S]/g,"*"):n,node:t.target});break}case"attributes":{const n=t.target;let r=t.attributeName,i=t.target.getAttribute(r);if(r==="value"){const o=K2(n),a=n.tagName;i=I0(n,a,o);const l=Cy({maskInputOptions:this.maskInputOptions,tagName:a,type:o}),c=Ud(t.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,l);i=Vh({isMasked:c,element:n,value:i,maskInputFn:this.maskInputFn})}if(as(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||i===t.oldValue)return;let s=this.attributeMap.get(t.target);if(n.tagName==="IFRAME"&&r==="src"&&!this.keepIframeSrcFn(i))if(!J2(n))r="rr_src";else return;if(s||(s={node:t.target,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(s),this.attributeMap.set(t.target,s)),r==="type"&&n.tagName==="INPUT"&&(t.oldValue||"").toLowerCase()==="password"&&n.setAttribute("data-rr-is-password","true"),!WT(n.tagName,r)&&(s.attributes[r]=HT(this.doc,$d(n.tagName),$d(r),i,n,this.maskAttributeFn),r==="style")){if(!this.unattachedDoc)try{this.unattachedDoc=document.implementation.createHTMLDocument()}catch{this.unattachedDoc=this.doc}const o=this.unattachedDoc.createElement("span");t.oldValue&&o.setAttribute("style",t.oldValue);for(const a of Array.from(n.style)){const l=n.style.getPropertyValue(a),c=n.style.getPropertyPriority(a);l!==o.style.getPropertyValue(a)||c!==o.style.getPropertyPriority(a)?c===""?s.styleDiff[a]=l:s.styleDiff[a]=[l,c]:s._unchangedStyles[a]=[l,c]}for(const a of Array.from(o.style))n.style.getPropertyValue(a)===""&&(s.styleDiff[a]=!1)}break}case"childList":{if(as(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!0))return;t.addedNodes.forEach(n=>this.genAdds(n,t.target)),t.removedNodes.forEach(n=>{const r=this.mirror.getId(n),i=Th(t.target)?this.mirror.getId(t.target.host):this.mirror.getId(t.target);as(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||sx(n,this.mirror)||!rU(n,this.mirror)||(this.addedSet.has(n)?(nw(this.addedSet,n),this.droppedSet.add(n)):this.addedSet.has(t.target)&&r===-1||YT(t.target,this.mirror)||(this.movedSet.has(n)&&this.movedMap[l4(r,i)]?nw(this.movedSet,n):this.removes.push({parentId:i,id:r,isShadow:Th(t.target)&&jh(t.target)?!0:void 0})),this.mapRemoves.push(n))});break}}},this.genAdds=(t,n)=>{if(!this.processedNodeManager.inOtherBuffer(t,this)&&!(this.addedSet.has(t)||this.movedSet.has(t))){if(this.mirror.hasNode(t)){if(sx(t,this.mirror))return;this.movedSet.add(t);let r=null;n&&this.mirror.hasNode(n)&&(r=this.mirror.getId(n)),r&&r!==-1&&(this.movedMap[l4(this.mirror.getId(t),r)]=!0)}else this.addedSet.add(t),this.droppedSet.delete(t);as(t,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(t.childNodes.forEach(r=>this.genAdds(r)),tw(t)&&t.shadowRoot.childNodes.forEach(r=>{this.processedNodeManager.add(r,this),this.genAdds(r,t)}))}}}init(t){["mutationCb","blockClass","blockSelector","unblockSelector","maskAllText","maskTextClass","unmaskTextClass","maskTextSelector","unmaskTextSelector","inlineStylesheet","maskInputOptions","maskAttributeFn","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager"].forEach(n=>{this[n]=t[n]})}freeze(){this.frozen=!0,this.canvasManager.freeze()}unfreeze(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}isFrozen(){return this.frozen}lock(){this.locked=!0,this.canvasManager.lock()}unlock(){this.locked=!1,this.canvasManager.unlock(),this.emit()}reset(){this.shadowDomManager.reset(),this.canvasManager.reset()}}function nw(e,t){e.delete(t),t.childNodes.forEach(n=>nw(e,n))}function u4(e,t,n){return e.length===0?!1:pU(e,t,n)}function pU(e,t,n){let r=t.parentNode;for(;r;){const i=n.getId(r);if(e.some(s=>s.id===i))return!0;r=r.parentNode}return!1}function c4(e,t){return e.size===0?!1:t9(e,t)}function t9(e,t){const{parentNode:n}=t;return n?e.has(n)?!0:t9(e,n):!1}let Ih;function mU(e){Ih=e}function gU(){Ih=void 0}const on=e=>Ih?(...n)=>{try{return e(...n)}catch(r){if(Ih&&Ih(r)===!0)return()=>{};throw r}}:e;function eo(e){let t,n=e[0],r=1;for(;r<e.length;){const i=e[r],s=e[r+1];if(r+=2,(i==="optionalAccess"||i==="optionalCall")&&n==null)return;i==="access"||i==="optionalAccess"?(t=n,n=s(n)):(i==="call"||i==="optionalCall")&&(n=s((...o)=>n.call(t,...o)),t=void 0)}return n}const Cd=[];function _p(e){try{if("composedPath"in e){const t=e.composedPath();if(t.length)return t[0]}else if("path"in e&&e.path.length)return e.path[0]}catch{}return e&&e.target}function n9(e,t){const n=new hU;Cd.push(n),n.init(e);let r=window.MutationObserver||window.__rrMutationObserver;const i=eo([window,"optionalAccess",o=>o.Zone,"optionalAccess",o=>o.__symbol__,"optionalCall",o=>o("MutationObserver")]);i&&window[i]&&(r=window[i]);const s=new r(on(o=>{e.onMutation&&e.onMutation(o)===!1||n.processMutations.bind(n)(o)}));return s.observe(t,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),s}function yU({mousemoveCb:e,sampling:t,doc:n,mirror:r}){if(t.mousemove===!1)return()=>{};const i=typeof t.mousemove=="number"?t.mousemove:50,s=typeof t.mousemoveCallback=="number"?t.mousemoveCallback:500;let o=[],a;const l=Qh(on(p=>{const g=Date.now()-a;e(o.map(y=>(y.timeOffset-=g,y)),p),o=[],a=null}),s),c=on(Qh(on(p=>{const g=_p(p),{clientX:y,clientY:b}=ew(p)?p.changedTouches[0]:p;a||(a=P0()),o.push({x:y,y:b,id:r.getId(g),timeOffset:P0()-a}),l(typeof DragEvent<"u"&&p instanceof DragEvent?Ct.Drag:p instanceof MouseEvent?Ct.MouseMove:Ct.TouchMove)}),i,{trailing:!1})),f=[vi("mousemove",c,n),vi("touchmove",c,n),vi("drag",c,n)];return on(()=>{f.forEach(p=>p())})}function vU({mouseInteractionCb:e,doc:t,mirror:n,blockClass:r,blockSelector:i,unblockSelector:s,sampling:o}){if(o.mouseInteraction===!1)return()=>{};const a=o.mouseInteraction===!0||o.mouseInteraction===void 0?{}:o.mouseInteraction,l=[];let c=null;const f=p=>g=>{const y=_p(g);if(as(y,r,i,s,!0))return;let b=null,_=p;if("pointerType"in g){switch(g.pointerType){case"mouse":b=Jo.Mouse;break;case"touch":b=Jo.Touch;break;case"pen":b=Jo.Pen;break}b===Jo.Touch?mi[p]===mi.MouseDown?_="TouchStart":mi[p]===mi.MouseUp&&(_="TouchEnd"):Jo.Pen}else ew(g)&&(b=Jo.Touch);b!==null?(c=b,(_.startsWith("Touch")&&b===Jo.Touch||_.startsWith("Mouse")&&b===Jo.Mouse)&&(b=null)):mi[p]===mi.Click&&(b=c,c=null);const C=ew(g)?g.changedTouches[0]:g;if(!C)return;const k=n.getId(y),{clientX:P,clientY:O}=C;on(e)({type:mi[_],id:k,x:P,y:O,...b!==null&&{pointerType:b}})};return Object.keys(mi).filter(p=>Number.isNaN(Number(p))&&!p.endsWith("_Departed")&&a[p]!==!1).forEach(p=>{let g=$d(p);const y=f(p);if(window.PointerEvent)switch(mi[p]){case mi.MouseDown:case mi.MouseUp:g=g.replace("mouse","pointer");break;case mi.TouchStart:case mi.TouchEnd:return}l.push(vi(g,y,t))}),on(()=>{l.forEach(p=>p())})}function r9({scrollCb:e,doc:t,mirror:n,blockClass:r,blockSelector:i,unblockSelector:s,sampling:o}){const a=on(Qh(on(l=>{const c=_p(l);if(!c||as(c,r,i,s,!0))return;const f=n.getId(c);if(c===t&&t.defaultView){const p=qT(t.defaultView);e({id:f,x:p.left,y:p.top})}else e({id:f,x:c.scrollLeft,y:c.scrollTop})}),o.scroll||100));return vi("scroll",a,t)}function xU({viewportResizeCb:e},{win:t}){let n=-1,r=-1;const i=on(Qh(on(()=>{const s=QT(),o=KT();(n!==s||r!==o)&&(e({width:Number(o),height:Number(s)}),n=s,r=o)}),200));return vi("resize",i,t)}const bU=["INPUT","TEXTAREA","SELECT"],d4=new WeakMap;function wU({inputCb:e,doc:t,mirror:n,blockClass:r,blockSelector:i,unblockSelector:s,ignoreClass:o,ignoreSelector:a,maskInputOptions:l,maskInputFn:c,sampling:f,userTriggeredOnInput:p,maskTextClass:g,unmaskTextClass:y,maskTextSelector:b,unmaskTextSelector:_}){function C(M){let U=_p(M);const z=M.isTrusted,D=U&&Jb(U.tagName);if(D==="OPTION"&&(U=U.parentElement),!U||!D||bU.indexOf(D)<0||as(U,r,i,s,!0))return;const ee=U;if(ee.classList.contains(o)||a&&ee.matches(a))return;const J=K2(U);let re=I0(ee,D,J),q=!1;const V=Cy({maskInputOptions:l,tagName:D,type:J}),Q=Ud(U,g,b,y,_,V);(J==="radio"||J==="checkbox")&&(q=U.checked),re=Vh({isMasked:Q,element:U,value:re,maskInputFn:c}),k(U,p?{text:re,isChecked:q,userTriggered:z}:{text:re,isChecked:q});const ne=U.name;J==="radio"&&ne&&q&&t.querySelectorAll(`input[type="radio"][name="${ne}"]`).forEach(Z=>{if(Z!==U){const fe=Vh({isMasked:Q,element:Z,value:I0(Z,D,J),maskInputFn:c});k(Z,p?{text:fe,isChecked:!q,userTriggered:!1}:{text:fe,isChecked:!q})}})}function k(M,U){const z=d4.get(M);if(!z||z.text!==U.text||z.isChecked!==U.isChecked){d4.set(M,U);const D=n.getId(M);on(e)({...U,id:D})}}const O=(f.input==="last"?["change"]:["input","change"]).map(M=>vi(M,on(C),t)),$=t.defaultView;if(!$)return()=>{O.forEach(M=>M())};const B=$.Object.getOwnPropertyDescriptor($.HTMLInputElement.prototype,"value"),j=[[$.HTMLInputElement.prototype,"value"],[$.HTMLInputElement.prototype,"checked"],[$.HTMLSelectElement.prototype,"value"],[$.HTMLTextAreaElement.prototype,"value"],[$.HTMLSelectElement.prototype,"selectedIndex"],[$.HTMLOptionElement.prototype,"selected"]];return B&&B.set&&O.push(...j.map(M=>VT(M[0],M[1],{set(){on(C)({target:this,isTrusted:!1})}},!1,$))),on(()=>{O.forEach(M=>M())})}function R0(e){const t=[];function n(r,i){if(lg("CSSGroupingRule")&&r.parentRule instanceof CSSGroupingRule||lg("CSSMediaRule")&&r.parentRule instanceof CSSMediaRule||lg("CSSSupportsRule")&&r.parentRule instanceof CSSSupportsRule||lg("CSSConditionRule")&&r.parentRule instanceof CSSConditionRule){const o=Array.from(r.parentRule.cssRules).indexOf(r);i.unshift(o)}else if(r.parentStyleSheet){const o=Array.from(r.parentStyleSheet.cssRules).indexOf(r);i.unshift(o)}return i}return n(e,t)}function tl(e,t,n){let r,i;return e?(e.ownerNode?r=t.getId(e.ownerNode):i=n.getId(e),{styleId:i,id:r}):{}}function _U({styleSheetRuleCb:e,mirror:t,stylesheetManager:n},{win:r}){if(!r.CSSStyleSheet||!r.CSSStyleSheet.prototype)return()=>{};const i=r.CSSStyleSheet.prototype.insertRule;r.CSSStyleSheet.prototype.insertRule=new Proxy(i,{apply:on((f,p,g)=>{const[y,b]=g,{id:_,styleId:C}=tl(p,t,n.styleMirror);return(_&&_!==-1||C&&C!==-1)&&e({id:_,styleId:C,adds:[{rule:y,index:b}]}),f.apply(p,g)})});const s=r.CSSStyleSheet.prototype.deleteRule;r.CSSStyleSheet.prototype.deleteRule=new Proxy(s,{apply:on((f,p,g)=>{const[y]=g,{id:b,styleId:_}=tl(p,t,n.styleMirror);return(b&&b!==-1||_&&_!==-1)&&e({id:b,styleId:_,removes:[{index:y}]}),f.apply(p,g)})});let o;r.CSSStyleSheet.prototype.replace&&(o=r.CSSStyleSheet.prototype.replace,r.CSSStyleSheet.prototype.replace=new Proxy(o,{apply:on((f,p,g)=>{const[y]=g,{id:b,styleId:_}=tl(p,t,n.styleMirror);return(b&&b!==-1||_&&_!==-1)&&e({id:b,styleId:_,replace:y}),f.apply(p,g)})}));let a;r.CSSStyleSheet.prototype.replaceSync&&(a=r.CSSStyleSheet.prototype.replaceSync,r.CSSStyleSheet.prototype.replaceSync=new Proxy(a,{apply:on((f,p,g)=>{const[y]=g,{id:b,styleId:_}=tl(p,t,n.styleMirror);return(b&&b!==-1||_&&_!==-1)&&e({id:b,styleId:_,replaceSync:y}),f.apply(p,g)})}));const l={};ug("CSSGroupingRule")?l.CSSGroupingRule=r.CSSGroupingRule:(ug("CSSMediaRule")&&(l.CSSMediaRule=r.CSSMediaRule),ug("CSSConditionRule")&&(l.CSSConditionRule=r.CSSConditionRule),ug("CSSSupportsRule")&&(l.CSSSupportsRule=r.CSSSupportsRule));const c={};return Object.entries(l).forEach(([f,p])=>{c[f]={insertRule:p.prototype.insertRule,deleteRule:p.prototype.deleteRule},p.prototype.insertRule=new Proxy(c[f].insertRule,{apply:on((g,y,b)=>{const[_,C]=b,{id:k,styleId:P}=tl(y.parentStyleSheet,t,n.styleMirror);return(k&&k!==-1||P&&P!==-1)&&e({id:k,styleId:P,adds:[{rule:_,index:[...R0(y),C||0]}]}),g.apply(y,b)})}),p.prototype.deleteRule=new Proxy(c[f].deleteRule,{apply:on((g,y,b)=>{const[_]=b,{id:C,styleId:k}=tl(y.parentStyleSheet,t,n.styleMirror);return(C&&C!==-1||k&&k!==-1)&&e({id:C,styleId:k,removes:[{index:[...R0(y),_]}]}),g.apply(y,b)})})}),on(()=>{r.CSSStyleSheet.prototype.insertRule=i,r.CSSStyleSheet.prototype.deleteRule=s,o&&(r.CSSStyleSheet.prototype.replace=o),a&&(r.CSSStyleSheet.prototype.replaceSync=a),Object.entries(l).forEach(([f,p])=>{p.prototype.insertRule=c[f].insertRule,p.prototype.deleteRule=c[f].deleteRule})})}function i9({mirror:e,stylesheetManager:t},n){let r=null;n.nodeName==="#document"?r=e.getId(n):r=e.getId(n.host);const i=n.nodeName==="#document"?eo([n,"access",o=>o.defaultView,"optionalAccess",o=>o.Document]):eo([n,"access",o=>o.ownerDocument,"optionalAccess",o=>o.defaultView,"optionalAccess",o=>o.ShadowRoot]),s=eo([i,"optionalAccess",o=>o.prototype])?Object.getOwnPropertyDescriptor(eo([i,"optionalAccess",o=>o.prototype]),"adoptedStyleSheets"):void 0;return r===null||r===-1||!i||!s?()=>{}:(Object.defineProperty(n,"adoptedStyleSheets",{configurable:s.configurable,enumerable:s.enumerable,get(){return eo([s,"access",o=>o.get,"optionalAccess",o=>o.call,"call",o=>o(this)])},set(o){const a=eo([s,"access",l=>l.set,"optionalAccess",l=>l.call,"call",l=>l(this,o)]);if(r!==null&&r!==-1)try{t.adoptStyleSheets(o,r)}catch{}return a}}),on(()=>{Object.defineProperty(n,"adoptedStyleSheets",{configurable:s.configurable,enumerable:s.enumerable,get:s.get,set:s.set})}))}function SU({styleDeclarationCb:e,mirror:t,ignoreCSSAttributes:n,stylesheetManager:r},{win:i}){const s=i.CSSStyleDeclaration.prototype.setProperty;i.CSSStyleDeclaration.prototype.setProperty=new Proxy(s,{apply:on((a,l,c)=>{const[f,p,g]=c;if(n.has(f))return s.apply(l,[f,p,g]);const{id:y,styleId:b}=tl(eo([l,"access",_=>_.parentRule,"optionalAccess",_=>_.parentStyleSheet]),t,r.styleMirror);return(y&&y!==-1||b&&b!==-1)&&e({id:y,styleId:b,set:{property:f,value:p,priority:g},index:R0(l.parentRule)}),a.apply(l,c)})});const o=i.CSSStyleDeclaration.prototype.removeProperty;return i.CSSStyleDeclaration.prototype.removeProperty=new Proxy(o,{apply:on((a,l,c)=>{const[f]=c;if(n.has(f))return o.apply(l,[f]);const{id:p,styleId:g}=tl(eo([l,"access",y=>y.parentRule,"optionalAccess",y=>y.parentStyleSheet]),t,r.styleMirror);return(p&&p!==-1||g&&g!==-1)&&e({id:p,styleId:g,remove:{property:f},index:R0(l.parentRule)}),a.apply(l,c)})}),on(()=>{i.CSSStyleDeclaration.prototype.setProperty=s,i.CSSStyleDeclaration.prototype.removeProperty=o})}function CU({mediaInteractionCb:e,blockClass:t,blockSelector:n,unblockSelector:r,mirror:i,sampling:s,doc:o}){const a=on(c=>Qh(on(f=>{const p=_p(f);if(!p||as(p,t,n,r,!0))return;const{currentTime:g,volume:y,muted:b,playbackRate:_}=p;e({type:c,id:i.getId(p),currentTime:g,volume:y,muted:b,playbackRate:_})}),s.media||500)),l=[vi("play",a(0),o),vi("pause",a(1),o),vi("seeked",a(2),o),vi("volumechange",a(3),o),vi("ratechange",a(4),o)];return on(()=>{l.forEach(c=>c())})}function kU({fontCb:e,doc:t}){const n=t.defaultView;if(!n)return()=>{};const r=[],i=new WeakMap,s=n.FontFace;n.FontFace=function(l,c,f){const p=new s(l,c,f);return i.set(p,{family:l,buffer:typeof c!="string",descriptors:f,fontSource:typeof c=="string"?c:JSON.stringify(Array.from(new Uint8Array(c)))}),p};const o=Y2(t.fonts,"add",function(a){return function(l){return Ey(on(()=>{const c=i.get(l);c&&(e(c),i.delete(l))}),0),a.apply(this,[l])}});return r.push(()=>{n.FontFace=s}),r.push(o),on(()=>{r.forEach(a=>a())})}function EU(e){const{doc:t,mirror:n,blockClass:r,blockSelector:i,unblockSelector:s,selectionCb:o}=e;let a=!0;const l=on(()=>{const c=t.getSelection();if(!c||a&&eo([c,"optionalAccess",g=>g.isCollapsed]))return;a=c.isCollapsed||!1;const f=[],p=c.rangeCount||0;for(let g=0;g<p;g++){const y=c.getRangeAt(g),{startContainer:b,startOffset:_,endContainer:C,endOffset:k}=y;as(b,r,i,s,!0)||as(C,r,i,s,!0)||f.push({start:n.getId(b),startOffset:_,end:n.getId(C),endOffset:k})}o({ranges:f})});return l(),vi("selectionchange",l)}function TU({doc:e,customElementCb:t}){const n=e.defaultView;return!n||!n.customElements?()=>{}:Y2(n.customElements,"define",function(i){return function(s,o,a){try{t({define:{name:s}})}catch{}return i.apply(this,[s,o,a])}})}function jU(e,t={}){const n=e.doc.defaultView;if(!n)return()=>{};let r;e.recordDOM&&(r=n9(e,e.doc));const i=yU(e),s=vU(e),o=r9(e),a=xU(e,{win:n}),l=wU(e),c=CU(e);let f=()=>{},p=()=>{},g=()=>{},y=()=>{};e.recordDOM&&(f=_U(e,{win:n}),p=i9(e,e.doc),g=SU(e,{win:n}),e.collectFonts&&(y=kU(e)));const b=EU(e),_=TU(e),C=[];for(const k of e.plugins)C.push(k.observer(k.callback,n,k.options));return on(()=>{Cd.forEach(k=>k.reset()),eo([r,"optionalAccess",k=>k.disconnect,"call",k=>k()]),i(),s(),o(),a(),l(),c(),f(),p(),g(),y(),b(),_(),C.forEach(k=>k())})}function lg(e){return typeof window[e]<"u"}function ug(e){return!!(typeof window[e]<"u"&&window[e].prototype&&"insertRule"in window[e].prototype&&"deleteRule"in window[e].prototype)}class rw{constructor(t){this.generateIdFn=t,this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap}getId(t,n,r,i){const s=r||this.getIdToRemoteIdMap(t),o=i||this.getRemoteIdToIdMap(t);let a=s.get(n);return a||(a=this.generateIdFn(),s.set(n,a),o.set(a,n)),a}getIds(t,n){const r=this.getIdToRemoteIdMap(t),i=this.getRemoteIdToIdMap(t);return n.map(s=>this.getId(t,s,r,i))}getRemoteId(t,n,r){const i=r||this.getRemoteIdToIdMap(t);if(typeof n!="number")return n;const s=i.get(n);return s||-1}getRemoteIds(t,n){const r=this.getRemoteIdToIdMap(t);return n.map(i=>this.getRemoteId(t,i,r))}reset(t){if(!t){this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap;return}this.iframeIdToRemoteIdMap.delete(t),this.iframeRemoteIdToIdMap.delete(t)}getIdToRemoteIdMap(t){let n=this.iframeIdToRemoteIdMap.get(t);return n||(n=new Map,this.iframeIdToRemoteIdMap.set(t,n)),n}getRemoteIdToIdMap(t){let n=this.iframeRemoteIdToIdMap.get(t);return n||(n=new Map,this.iframeRemoteIdToIdMap.set(t,n)),n}}function f4(e){let t,n=e[0],r=1;for(;r<e.length;){const i=e[r],s=e[r+1];if(r+=2,(i==="optionalAccess"||i==="optionalCall")&&n==null)return;i==="access"||i==="optionalAccess"?(t=n,n=s(n)):(i==="call"||i==="optionalCall")&&(n=s((...o)=>n.call(t,...o)),t=void 0)}return n}class IU{constructor(){this.crossOriginIframeMirror=new rw(G2),this.crossOriginIframeRootIdMap=new WeakMap}addIframe(){}addLoadListener(){}attachIframe(){}}class NU{constructor(t){this.iframes=new WeakMap,this.crossOriginIframeMap=new WeakMap,this.crossOriginIframeMirror=new rw(G2),this.crossOriginIframeRootIdMap=new WeakMap,this.mutationCb=t.mutationCb,this.wrappedEmit=t.wrappedEmit,this.stylesheetManager=t.stylesheetManager,this.recordCrossOriginIframes=t.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new rw(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=t.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}addIframe(t){this.iframes.set(t,!0),t.contentWindow&&this.crossOriginIframeMap.set(t.contentWindow,t)}addLoadListener(t){this.loadListener=t}attachIframe(t,n){this.mutationCb({adds:[{parentId:this.mirror.getId(t),nextId:null,node:n}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),f4([this,"access",i=>i.loadListener,"optionalCall",i=>i(t)]);const r=J2(t);r&&r.adoptedStyleSheets&&r.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(r.adoptedStyleSheets,this.mirror.getId(r))}handleMessage(t){const n=t;if(n.data.type!=="rrweb"||n.origin!==n.data.origin||!t.source)return;const i=this.crossOriginIframeMap.get(t.source);if(!i)return;const s=this.transformCrossOriginEvent(i,n.data.event);s&&this.wrappedEmit(s,n.data.isCheckout)}transformCrossOriginEvent(t,n){switch(n.type){case Wt.FullSnapshot:{this.crossOriginIframeMirror.reset(t),this.crossOriginIframeStyleMirror.reset(t),this.replaceIdOnNode(n.data.node,t);const r=n.data.node.id;return this.crossOriginIframeRootIdMap.set(t,r),this.patchRootIdOnNode(n.data.node,r),{timestamp:n.timestamp,type:Wt.IncrementalSnapshot,data:{source:Ct.Mutation,adds:[{parentId:this.mirror.getId(t),nextId:null,node:n.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}}}case Wt.Meta:case Wt.Load:case Wt.DomContentLoaded:return!1;case Wt.Plugin:return n;case Wt.Custom:return this.replaceIds(n.data.payload,t,["id","parentId","previousId","nextId"]),n;case Wt.IncrementalSnapshot:switch(n.data.source){case Ct.Mutation:return n.data.adds.forEach(r=>{this.replaceIds(r,t,["parentId","nextId","previousId"]),this.replaceIdOnNode(r.node,t);const i=this.crossOriginIframeRootIdMap.get(t);i&&this.patchRootIdOnNode(r.node,i)}),n.data.removes.forEach(r=>{this.replaceIds(r,t,["parentId","id"])}),n.data.attributes.forEach(r=>{this.replaceIds(r,t,["id"])}),n.data.texts.forEach(r=>{this.replaceIds(r,t,["id"])}),n;case Ct.Drag:case Ct.TouchMove:case Ct.MouseMove:return n.data.positions.forEach(r=>{this.replaceIds(r,t,["id"])}),n;case Ct.ViewportResize:return!1;case Ct.MediaInteraction:case Ct.MouseInteraction:case Ct.Scroll:case Ct.CanvasMutation:case Ct.Input:return this.replaceIds(n.data,t,["id"]),n;case Ct.StyleSheetRule:case Ct.StyleDeclaration:return this.replaceIds(n.data,t,["id"]),this.replaceStyleIds(n.data,t,["styleId"]),n;case Ct.Font:return n;case Ct.Selection:return n.data.ranges.forEach(r=>{this.replaceIds(r,t,["start","end"])}),n;case Ct.AdoptedStyleSheet:return this.replaceIds(n.data,t,["id"]),this.replaceStyleIds(n.data,t,["styleIds"]),f4([n,"access",r=>r.data,"access",r=>r.styles,"optionalAccess",r=>r.forEach,"call",r=>r(i=>{this.replaceStyleIds(i,t,["styleId"])})]),n}}return!1}replace(t,n,r,i){for(const s of i)!Array.isArray(n[s])&&typeof n[s]!="number"||(Array.isArray(n[s])?n[s]=t.getIds(r,n[s]):n[s]=t.getId(r,n[s]));return n}replaceIds(t,n,r){return this.replace(this.crossOriginIframeMirror,t,n,r)}replaceStyleIds(t,n,r){return this.replace(this.crossOriginIframeStyleMirror,t,n,r)}replaceIdOnNode(t,n){this.replaceIds(t,n,["id","rootId"]),"childNodes"in t&&t.childNodes.forEach(r=>{this.replaceIdOnNode(r,n)})}patchRootIdOnNode(t,n){t.type!==Sr.Document&&!t.rootId&&(t.rootId=n),"childNodes"in t&&t.childNodes.forEach(r=>{this.patchRootIdOnNode(r,n)})}}class PU{init(){}addShadowRoot(){}observeAttachShadow(){}reset(){}}class RU{constructor(t){this.shadowDoms=new WeakSet,this.restoreHandlers=[],this.mutationCb=t.mutationCb,this.scrollCb=t.scrollCb,this.bypassOptions=t.bypassOptions,this.mirror=t.mirror,this.init()}init(){this.reset(),this.patchAttachShadow(Element,document)}addShadowRoot(t,n){if(!jh(t)||this.shadowDoms.has(t))return;this.shadowDoms.add(t),this.bypassOptions.canvasManager.addShadowRoot(t);const r=n9({...this.bypassOptions,doc:n,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this},t);this.restoreHandlers.push(()=>r.disconnect()),this.restoreHandlers.push(r9({...this.bypassOptions,scrollCb:this.scrollCb,doc:t,mirror:this.mirror})),Ey(()=>{t.adoptedStyleSheets&&t.adoptedStyleSheets.length>0&&this.bypassOptions.stylesheetManager.adoptStyleSheets(t.adoptedStyleSheets,this.mirror.getId(t.host)),this.restoreHandlers.push(i9({mirror:this.mirror,stylesheetManager:this.bypassOptions.stylesheetManager},t))},0)}observeAttachShadow(t){const n=J2(t),r=cU(t);!n||!r||this.patchAttachShadow(r.Element,n)}patchAttachShadow(t,n){const r=this;this.restoreHandlers.push(Y2(t.prototype,"attachShadow",function(i){return function(s){const o=i.call(this,s);return this.shadowRoot&&e9(this)&&r.addShadowRoot(this.shadowRoot,n),o}}))}reset(){this.restoreHandlers.forEach(t=>{try{t()}catch{}}),this.restoreHandlers=[],this.shadowDoms=new WeakSet,this.bypassOptions.canvasManager.resetShadowRoots()}}class h4{reset(){}freeze(){}unfreeze(){}lock(){}unlock(){}snapshot(){}addWindow(){}addShadowRoot(){}resetShadowRoots(){}}class OU{constructor(t){this.trackedLinkElements=new WeakSet,this.styleMirror=new sU,this.mutationCb=t.mutationCb,this.adoptedStyleSheetCb=t.adoptedStyleSheetCb}attachLinkElement(t,n){"_cssText"in n.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:n.id,attributes:n.attributes}]}),this.trackLinkElement(t)}trackLinkElement(t){this.trackedLinkElements.has(t)||(this.trackedLinkElements.add(t),this.trackStylesheetInLinkElement(t))}adoptStyleSheets(t,n){if(t.length===0)return;const r={id:n,styleIds:[]},i=[];for(const s of t){let o;this.styleMirror.has(s)?o=this.styleMirror.getId(s):(o=this.styleMirror.add(s),i.push({styleId:o,rules:Array.from(s.rules||CSSRule,(a,l)=>({rule:LT(a),index:l}))})),r.styleIds.push(o)}i.length>0&&(r.styles=i),this.adoptedStyleSheetCb(r)}reset(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet}trackStylesheetInLinkElement(t){}}class MU{constructor(){this.nodeMap=new WeakMap,this.active=!1}inOtherBuffer(t,n){const r=this.nodeMap.get(t);return r&&Array.from(r).some(i=>i!==n)}add(t,n){this.active||(this.active=!0,lU(()=>{this.nodeMap=new WeakMap,this.active=!1})),this.nodeMap.set(t,(this.nodeMap.get(t)||new Set).add(n))}destroy(){}}let nr,O0;try{if(Array.from([1],e=>e*2)[0]!==2){const e=document.createElement("iframe");document.body.appendChild(e),Array.from=i0([e,"access",t=>t.contentWindow,"optionalAccess",t=>t.Array,"access",t=>t.from])||Array.from,document.body.removeChild(e)}}catch(e){console.debug("Unable to override Array.from",e)}const Gs=O$();function fa(e={}){const{emit:t,checkoutEveryNms:n,checkoutEveryNth:r,blockClass:i="rr-block",blockSelector:s=null,unblockSelector:o=null,ignoreClass:a="rr-ignore",ignoreSelector:l=null,maskAllText:c=!1,maskTextClass:f="rr-mask",unmaskTextClass:p=null,maskTextSelector:g=null,unmaskTextSelector:y=null,inlineStylesheet:b=!0,maskAllInputs:_,maskInputOptions:C,slimDOMOptions:k,maskAttributeFn:P,maskInputFn:O,maskTextFn:$,maxCanvasSize:B=null,packFn:j,sampling:M={},dataURLOptions:U={},mousemoveWait:z,recordDOM:D=!0,recordCanvas:ee=!1,recordCrossOriginIframes:J=!1,recordAfter:re=e.recordAfter==="DOMContentLoaded"?e.recordAfter:"load",userTriggeredOnInput:q=!1,collectFonts:V=!1,inlineImages:Q=!1,plugins:ne,keepIframeSrcFn:Z=()=>!1,ignoreCSSAttributes:fe=new Set([]),errorHandler:F,onMutation:G,getCanvasManager:ye}=e;mU(F);const H=J?window.parent===window:!0;let Me=!1;if(!H)try{window.parent.document&&(Me=!1)}catch{Me=!0}if(H&&!t)throw new Error("emit function is required");if(!H&&!Me)return()=>{};z!==void 0&&M.mousemove===void 0&&(M.mousemove=z),Gs.reset();const Ee=_===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,radio:!0,checkbox:!0}:C!==void 0?C:{},Te=k===!0||k==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:k==="all",headMetaDescKeywords:k==="all"}:k||{};iU();let Ye,Ve=0;const Ie=wt=>{for(const un of ne||[])un.eventProcessor&&(wt=un.eventProcessor(wt));return j&&!Me&&(wt=j(wt)),wt};nr=(wt,un)=>{const pt=wt;if(pt.timestamp=P0(),i0([Cd,"access",zt=>zt[0],"optionalAccess",zt=>zt.isFrozen,"call",zt=>zt()])&&pt.type!==Wt.FullSnapshot&&!(pt.type===Wt.IncrementalSnapshot&&pt.data.source===Ct.Mutation)&&Cd.forEach(zt=>zt.unfreeze()),H)i0([t,"optionalCall",zt=>zt(Ie(pt),un)]);else if(Me){const zt={type:"rrweb",event:Ie(pt),origin:window.location.origin,isCheckout:un};window.parent.postMessage(zt,"*")}if(pt.type===Wt.FullSnapshot)Ye=pt,Ve=0;else if(pt.type===Wt.IncrementalSnapshot){if(pt.data.source===Ct.Mutation&&pt.data.isAttachIframe)return;Ve++;const zt=r&&Ve>=r,Pt=n&&Ye&&pt.timestamp-Ye.timestamp>n;(zt||Pt)&&Si(!0)}};const ut=wt=>{nr({type:Wt.IncrementalSnapshot,data:{source:Ct.Mutation,...wt}})},Cn=wt=>nr({type:Wt.IncrementalSnapshot,data:{source:Ct.Scroll,...wt}}),Nt=wt=>nr({type:Wt.IncrementalSnapshot,data:{source:Ct.CanvasMutation,...wt}}),jn=wt=>nr({type:Wt.IncrementalSnapshot,data:{source:Ct.AdoptedStyleSheet,...wt}}),ln=new OU({mutationCb:ut,adoptedStyleSheetCb:jn}),wn=typeof __RRWEB_EXCLUDE_IFRAME__=="boolean"&&__RRWEB_EXCLUDE_IFRAME__?new IU:new NU({mirror:Gs,mutationCb:ut,stylesheetManager:ln,recordCrossOriginIframes:J,wrappedEmit:nr});for(const wt of ne||[])wt.getMirror&&wt.getMirror({nodeMirror:Gs,crossOriginIframeMirror:wn.crossOriginIframeMirror,crossOriginIframeStyleMirror:wn.crossOriginIframeStyleMirror});const Qi=new MU,li=DU(ye,{mirror:Gs,win:window,mutationCb:wt=>nr({type:Wt.IncrementalSnapshot,data:{source:Ct.CanvasMutation,...wt}}),recordCanvas:ee,blockClass:i,blockSelector:s,unblockSelector:o,maxCanvasSize:B,sampling:M.canvas,dataURLOptions:U,errorHandler:F}),Ki=typeof __RRWEB_EXCLUDE_SHADOW_DOM__=="boolean"&&__RRWEB_EXCLUDE_SHADOW_DOM__?new PU:new RU({mutationCb:ut,scrollCb:Cn,bypassOptions:{onMutation:G,blockClass:i,blockSelector:s,unblockSelector:o,maskAllText:c,maskTextClass:f,unmaskTextClass:p,maskTextSelector:g,unmaskTextSelector:y,inlineStylesheet:b,maskInputOptions:Ee,dataURLOptions:U,maskAttributeFn:P,maskTextFn:$,maskInputFn:O,recordCanvas:ee,inlineImages:Q,sampling:M,slimDOMOptions:Te,iframeManager:wn,stylesheetManager:ln,canvasManager:li,keepIframeSrcFn:Z,processedNodeManager:Qi},mirror:Gs}),Si=(wt=!1)=>{if(!D)return;nr({type:Wt.Meta,data:{href:window.location.href,width:KT(),height:QT()}},wt),ln.reset(),Ki.init(),Cd.forEach(pt=>pt.lock());const un=nU(document,{mirror:Gs,blockClass:i,blockSelector:s,unblockSelector:o,maskAllText:c,maskTextClass:f,unmaskTextClass:p,maskTextSelector:g,unmaskTextSelector:y,inlineStylesheet:b,maskAllInputs:Ee,maskAttributeFn:P,maskInputFn:O,maskTextFn:$,slimDOM:Te,dataURLOptions:U,recordCanvas:ee,inlineImages:Q,onSerialize:pt=>{XT(pt,Gs)&&wn.addIframe(pt),JT(pt,Gs)&&ln.trackLinkElement(pt),tw(pt)&&Ki.addShadowRoot(pt.shadowRoot,document)},onIframeLoad:(pt,zt)=>{wn.attachIframe(pt,zt),pt.contentWindow&&li.addWindow(pt.contentWindow),Ki.observeAttachShadow(pt)},onStylesheetLoad:(pt,zt)=>{ln.attachLinkElement(pt,zt)},keepIframeSrcFn:Z});if(!un)return console.warn("Failed to snapshot the document");nr({type:Wt.FullSnapshot,data:{node:un,initialOffset:qT(window)}}),Cd.forEach(pt=>pt.unlock()),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&ln.adoptStyleSheets(document.adoptedStyleSheets,Gs.getId(document))};O0=Si;try{const wt=[],un=zt=>on(jU)({onMutation:G,mutationCb:ut,mousemoveCb:(Pt,Zn)=>nr({type:Wt.IncrementalSnapshot,data:{source:Zn,positions:Pt}}),mouseInteractionCb:Pt=>nr({type:Wt.IncrementalSnapshot,data:{source:Ct.MouseInteraction,...Pt}}),scrollCb:Cn,viewportResizeCb:Pt=>nr({type:Wt.IncrementalSnapshot,data:{source:Ct.ViewportResize,...Pt}}),inputCb:Pt=>nr({type:Wt.IncrementalSnapshot,data:{source:Ct.Input,...Pt}}),mediaInteractionCb:Pt=>nr({type:Wt.IncrementalSnapshot,data:{source:Ct.MediaInteraction,...Pt}}),styleSheetRuleCb:Pt=>nr({type:Wt.IncrementalSnapshot,data:{source:Ct.StyleSheetRule,...Pt}}),styleDeclarationCb:Pt=>nr({type:Wt.IncrementalSnapshot,data:{source:Ct.StyleDeclaration,...Pt}}),canvasMutationCb:Nt,fontCb:Pt=>nr({type:Wt.IncrementalSnapshot,data:{source:Ct.Font,...Pt}}),selectionCb:Pt=>{nr({type:Wt.IncrementalSnapshot,data:{source:Ct.Selection,...Pt}})},customElementCb:Pt=>{nr({type:Wt.IncrementalSnapshot,data:{source:Ct.CustomElement,...Pt}})},blockClass:i,ignoreClass:a,ignoreSelector:l,maskAllText:c,maskTextClass:f,unmaskTextClass:p,maskTextSelector:g,unmaskTextSelector:y,maskInputOptions:Ee,inlineStylesheet:b,sampling:M,recordDOM:D,recordCanvas:ee,inlineImages:Q,userTriggeredOnInput:q,collectFonts:V,doc:zt,maskAttributeFn:P,maskInputFn:O,maskTextFn:$,keepIframeSrcFn:Z,blockSelector:s,unblockSelector:o,slimDOMOptions:Te,dataURLOptions:U,mirror:Gs,iframeManager:wn,stylesheetManager:ln,shadowDomManager:Ki,processedNodeManager:Qi,canvasManager:li,ignoreCSSAttributes:fe,plugins:i0([ne,"optionalAccess",Pt=>Pt.filter,"call",Pt=>Pt(Zn=>Zn.observer),"optionalAccess",Pt=>Pt.map,"call",Pt=>Pt(Zn=>({observer:Zn.observer,options:Zn.options,callback:Ce=>nr({type:Wt.Plugin,data:{plugin:Zn.name,payload:Ce}})}))])||[]},{});wn.addLoadListener(zt=>{try{wt.push(un(zt.contentDocument))}catch(Pt){console.warn(Pt)}});const pt=()=>{Si(),wt.push(un(document))};return document.readyState==="interactive"||document.readyState==="complete"?pt():(wt.push(vi("DOMContentLoaded",()=>{nr({type:Wt.DomContentLoaded,data:{}}),re==="DOMContentLoaded"&&pt()})),wt.push(vi("load",()=>{nr({type:Wt.Load,data:{}}),re==="load"&&pt()},window))),()=>{wt.forEach(zt=>zt()),Qi.destroy(),O0=void 0,gU()}}catch(wt){console.warn(wt)}}function AU(e){if(!O0)throw new Error("please take full snapshot after start recording");O0(e)}fa.mirror=Gs;fa.takeFullSnapshot=AU;function DU(e,t){try{return e?e(t):new h4}catch{return console.warn("Unable to initialize CanvasManager"),new h4}}const LU=3,FU=5;function Z2(e){return e>9999999999?e:e*1e3}function ox(e){return e>9999999999?e/1e3:e}function Sp(e,t){t.category!=="sentry.transaction"&&(["ui.click","ui.input"].includes(t.category)?e.triggerUserActivity():e.checkAndHandleExpiredSession(),e.addUpdate(()=>(e.throttledAddEvent({type:Wt.Custom,timestamp:(t.timestamp||0)*1e3,data:{tag:"breadcrumb",payload:Xs(t,10,1e3)}}),t.category==="console")))}const BU="button,a";function s9(e){return e.closest(BU)||e}function o9(e){const t=a9(e);return!t||!(t instanceof Element)?t:s9(t)}function a9(e){return zU(e)?e.target:e}function zU(e){return typeof e=="object"&&!!e&&"target"in e}let nl;function $U(e){return nl||(nl=[],UU()),nl.push(e),()=>{const t=nl?nl.indexOf(e):-1;t>-1&&nl.splice(t,1)}}function UU(){zi(On,"open",function(e){return function(...t){if(nl)try{nl.forEach(n=>n())}catch{}return e.apply(On,t)}})}const HU=new Set([Ct.Mutation,Ct.StyleSheetRule,Ct.StyleDeclaration,Ct.AdoptedStyleSheet,Ct.CanvasMutation,Ct.Selection,Ct.MediaInteraction]);function WU(e,t,n){e.handleClick(t,n)}class VU{constructor(t,n,r=Sp){this._lastMutation=0,this._lastScroll=0,this._clicks=[],this._timeout=n.timeout/1e3,this._threshold=n.threshold/1e3,this._scrollTimeout=n.scrollTimeout/1e3,this._replay=t,this._ignoreSelector=n.ignoreSelector,this._addBreadcrumbEvent=r}addListeners(){const t=$U(()=>{this._lastMutation=p4()});this._teardown=()=>{t(),this._clicks=[],this._lastMutation=0,this._lastScroll=0}}removeListeners(){this._teardown&&this._teardown(),this._checkClickTimeout&&clearTimeout(this._checkClickTimeout)}handleClick(t,n){if(QU(n,this._ignoreSelector)||!KU(t))return;const r={timestamp:ox(t.timestamp),clickBreadcrumb:t,clickCount:0,node:n};this._clicks.some(i=>i.node===r.node&&Math.abs(i.timestamp-r.timestamp)<1)||(this._clicks.push(r),this._clicks.length===1&&this._scheduleCheckClicks())}registerMutation(t=Date.now()){this._lastMutation=ox(t)}registerScroll(t=Date.now()){this._lastScroll=ox(t)}registerClick(t){const n=s9(t);this._handleMultiClick(n)}_handleMultiClick(t){this._getClicks(t).forEach(n=>{n.clickCount++})}_getClicks(t){return this._clicks.filter(n=>n.node===t)}_checkClicks(){const t=[],n=p4();this._clicks.forEach(r=>{!r.mutationAfter&&this._lastMutation&&(r.mutationAfter=r.timestamp<=this._lastMutation?this._lastMutation-r.timestamp:void 0),!r.scrollAfter&&this._lastScroll&&(r.scrollAfter=r.timestamp<=this._lastScroll?this._lastScroll-r.timestamp:void 0),r.timestamp+this._timeout<=n&&t.push(r)});for(const r of t){const i=this._clicks.indexOf(r);i>-1&&(this._generateBreadcrumbs(r),this._clicks.splice(i,1))}this._clicks.length&&this._scheduleCheckClicks()}_generateBreadcrumbs(t){const n=this._replay,r=t.scrollAfter&&t.scrollAfter<=this._scrollTimeout,i=t.mutationAfter&&t.mutationAfter<=this._threshold,s=!r&&!i,{clickCount:o,clickBreadcrumb:a}=t;if(s){const l=Math.min(t.mutationAfter||this._timeout,this._timeout)*1e3,c=l<this._timeout*1e3?"mutation":"timeout",f={type:"default",message:a.message,timestamp:a.timestamp,category:"ui.slowClickDetected",data:{...a.data,url:On.location.href,route:n.getCurrentRoute(),timeAfterClickMs:l,endReason:c,clickCount:o||1}};this._addBreadcrumbEvent(n,f);return}if(o>1){const l={type:"default",message:a.message,timestamp:a.timestamp,category:"ui.multiClick",data:{...a.data,url:On.location.href,route:n.getCurrentRoute(),clickCount:o,metric:!0}};this._addBreadcrumbEvent(n,l)}}_scheduleCheckClicks(){this._checkClickTimeout&&clearTimeout(this._checkClickTimeout),this._checkClickTimeout=zd(()=>this._checkClicks(),1e3)}}const qU=["A","BUTTON","INPUT"];function QU(e,t){return!!(!qU.includes(e.tagName)||e.tagName==="INPUT"&&!["submit","button"].includes(e.getAttribute("type")||"")||e.tagName==="A"&&(e.hasAttribute("download")||e.hasAttribute("target")&&e.getAttribute("target")!=="_self")||t&&e.matches(t))}function KU(e){return!!(e.data&&typeof e.data.nodeId=="number"&&e.timestamp)}function p4(){return Date.now()/1e3}function GU(e,t){try{if(!YU(t))return;const{source:n}=t.data;if(HU.has(n)&&e.registerMutation(t.timestamp),n===Ct.Scroll&&e.registerScroll(t.timestamp),XU(t)){const{type:r,id:i}=t.data,s=fa.mirror.getNode(i);s instanceof HTMLElement&&r===mi.Click&&e.registerClick(s)}}catch{}}function YU(e){return e.type===LU}function XU(e){return e.data.source===Ct.MouseInteraction}function ko(e){return{timestamp:Date.now()/1e3,type:"default",...e}}var M0;(function(e){e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment"})(M0||(M0={}));const JU=new Set(["id","class","aria-label","role","name","alt","title","data-test-id","data-testid","disabled","aria-disabled","data-sentry-component"]);function ZU(e){const t={};!e["data-sentry-component"]&&e["data-sentry-element"]&&(e["data-sentry-component"]=e["data-sentry-element"]);for(const n in e)if(JU.has(n)){let r=n;(n==="data-testid"||n==="data-test-id")&&(r="testId"),t[r]=e[n]}return t}const eH=e=>t=>{if(!e.isEnabled())return;const n=tH(t);if(!n)return;const r=t.name==="click",i=r?t.event:void 0;r&&e.clickDetector&&i&&i.target&&!i.altKey&&!i.metaKey&&!i.ctrlKey&&!i.shiftKey&&WU(e.clickDetector,n,o9(t.event)),Sp(e,n)};function l9(e,t){const n=fa.mirror.getId(e),r=n&&fa.mirror.getNode(n),i=r&&fa.mirror.getMeta(r),s=i&&rH(i)?i:null;return{message:t,data:s?{nodeId:n,node:{id:n,tagName:s.tagName,textContent:Array.from(s.childNodes).map(o=>o.type===M0.Text&&o.textContent).filter(Boolean).map(o=>o.trim()).join(""),attributes:ZU(s.attributes)}}:{}}}function tH(e){const{target:t,message:n}=nH(e);return ko({category:`ui.${e.name}`,...l9(t,n)})}function nH(e){const t=e.name==="click";let n,r=null;try{r=t?o9(e.event):a9(e.event),n=ga(r,{maxStringLength:200})||"<unknown>"}catch{n="<unknown>"}return{target:r,message:n}}function rH(e){return e.type===M0.Element}function iH(e,t){if(!e.isEnabled())return;e.updateUserActivity();const n=sH(t);n&&Sp(e,n)}function sH(e){const{metaKey:t,shiftKey:n,ctrlKey:r,altKey:i,key:s,target:o}=e;if(!o||oH(o)||!s)return null;const a=t||r||i,l=s.length===1;if(!a&&l)return null;const c=ga(o,{maxStringLength:200})||"<unknown>",f=l9(o,c);return ko({category:"ui.keyDown",message:c,data:{...f.data,metaKey:t,shiftKey:n,ctrlKey:r,altKey:i,key:s}})}function oH(e){return e.tagName==="INPUT"||e.tagName==="TEXTAREA"||e.isContentEditable}const aH={resource:fH,paint:cH,navigation:dH};function cg(e,t){return({metric:n})=>void t.replayPerformanceEntries.push(e(n))}function lH(e){return e.map(uH).filter(Boolean)}function uH(e){const t=aH[e.entryType];return t?t(e):null}function Hd(e){return((wi||On.performance.timeOrigin)+e)/1e3}function cH(e){const{duration:t,entryType:n,name:r,startTime:i}=e,s=Hd(i);return{type:n,name:r,start:s,end:s+t,data:void 0}}function dH(e){const{entryType:t,name:n,decodedBodySize:r,duration:i,domComplete:s,encodedBodySize:o,domContentLoadedEventStart:a,domContentLoadedEventEnd:l,domInteractive:c,loadEventStart:f,loadEventEnd:p,redirectCount:g,startTime:y,transferSize:b,type:_}=e;return i===0?null:{type:`${t}.${_}`,start:Hd(y),end:Hd(s),name:n,data:{size:b,decodedBodySize:r,encodedBodySize:o,duration:i,domInteractive:c,domContentLoadedEventStart:a,domContentLoadedEventEnd:l,loadEventStart:f,loadEventEnd:p,domComplete:s,redirectCount:g}}}function fH(e){const{entryType:t,initiatorType:n,name:r,responseEnd:i,startTime:s,decodedBodySize:o,encodedBodySize:a,responseStatus:l,transferSize:c}=e;return["fetch","xmlhttprequest"].includes(n)?null:{type:`${t}.${n}`,start:Hd(s),end:Hd(i),name:r,data:{size:c,statusCode:l,decodedBodySize:o,encodedBodySize:a}}}function hH(e){const t=e.entries[e.entries.length-1],n=t&&t.element?[t.element]:void 0;return Ty(e,"largest-contentful-paint",n)}function pH(e){return e.sources!==void 0}function mH(e){const t=[],n=[];for(const r of e.entries)if(pH(r)){const i=[];for(const s of r.sources)if(s.node){n.push(s.node);const o=fa.mirror.getId(s.node);o&&i.push(o)}t.push({value:r.value,nodeIds:i.length?i:void 0})}return Ty(e,"cumulative-layout-shift",n,t)}function gH(e){const t=e.entries[e.entries.length-1],n=t&&t.target?[t.target]:void 0;return Ty(e,"first-input-delay",n)}function yH(e){const t=e.entries[e.entries.length-1],n=t&&t.target?[t.target]:void 0;return Ty(e,"interaction-to-next-paint",n)}function Ty(e,t,n,r){const i=e.value,s=e.rating,o=Hd(i);return{type:"web-vital",name:t,start:o,end:o,data:{value:i,size:i,rating:s,nodeIds:n?n.map(a=>fa.mirror.getId(a)):void 0,attributions:r}}}function vH(e){function t(i){e.performanceEntries.includes(i)||e.performanceEntries.push(i)}function n({entries:i}){i.forEach(t)}const r=[];return["navigation","paint","resource"].forEach(i=>{r.push(Bd(i,n))}),r.push(kT(cg(hH,e)),H2(cg(mH,e)),ET(cg(gH,e)),TT(cg(yH,e))),()=>{r.forEach(i=>i())}}const yt=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,xH='var t=Uint8Array,n=Uint16Array,r=Int32Array,e=new t([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),i=new t([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),a=new t([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),s=function(t,e){for(var i=new n(31),a=0;a<31;++a)i[a]=e+=1<<t[a-1];var s=new r(i[30]);for(a=1;a<30;++a)for(var o=i[a];o<i[a+1];++o)s[o]=o-i[a]<<5|a;return{b:i,r:s}},o=s(e,2),f=o.b,h=o.r;f[28]=258,h[258]=28;for(var l=s(i,0).r,u=new n(32768),c=0;c<32768;++c){var v=(43690&c)>>1|(21845&c)<<1;v=(61680&(v=(52428&v)>>2|(13107&v)<<2))>>4|(3855&v)<<4,u[c]=((65280&v)>>8|(255&v)<<8)>>1}var d=function(t,r,e){for(var i=t.length,a=0,s=new n(r);a<i;++a)t[a]&&++s[t[a]-1];var o,f=new n(r);for(a=1;a<r;++a)f[a]=f[a-1]+s[a-1]<<1;if(e){o=new n(1<<r);var h=15-r;for(a=0;a<i;++a)if(t[a])for(var l=a<<4|t[a],c=r-t[a],v=f[t[a]-1]++<<c,d=v|(1<<c)-1;v<=d;++v)o[u[v]>>h]=l}else for(o=new n(i),a=0;a<i;++a)t[a]&&(o[a]=u[f[t[a]-1]++]>>15-t[a]);return o},g=new t(288);for(c=0;c<144;++c)g[c]=8;for(c=144;c<256;++c)g[c]=9;for(c=256;c<280;++c)g[c]=7;for(c=280;c<288;++c)g[c]=8;var w=new t(32);for(c=0;c<32;++c)w[c]=5;var p=d(g,9,0),y=d(w,5,0),m=function(t){return(t+7)/8|0},b=function(n,r,e){return(null==e||e>n.length)&&(e=n.length),new t(n.subarray(r,e))},M=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],E=function(t,n,r){var e=new Error(n||M[t]);if(e.code=t,Error.captureStackTrace&&Error.captureStackTrace(e,E),!r)throw e;return e},z=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8},_=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8,t[e+2]|=r>>16},x=function(r,e){for(var i=[],a=0;a<r.length;++a)r[a]&&i.push({s:a,f:r[a]});var s=i.length,o=i.slice();if(!s)return{t:F,l:0};if(1==s){var f=new t(i[0].s+1);return f[i[0].s]=1,{t:f,l:1}}i.sort((function(t,n){return t.f-n.f})),i.push({s:-1,f:25001});var h=i[0],l=i[1],u=0,c=1,v=2;for(i[0]={s:-1,f:h.f+l.f,l:h,r:l};c!=s-1;)h=i[i[u].f<i[v].f?u++:v++],l=i[u!=c&&i[u].f<i[v].f?u++:v++],i[c++]={s:-1,f:h.f+l.f,l:h,r:l};var d=o[0].s;for(a=1;a<s;++a)o[a].s>d&&(d=o[a].s);var g=new n(d+1),w=A(i[c-1],g,0);if(w>e){a=0;var p=0,y=w-e,m=1<<y;for(o.sort((function(t,n){return g[n.s]-g[t.s]||t.f-n.f}));a<s;++a){var b=o[a].s;if(!(g[b]>e))break;p+=m-(1<<w-g[b]),g[b]=e}for(p>>=y;p>0;){var M=o[a].s;g[M]<e?p-=1<<e-g[M]++-1:++a}for(;a>=0&&p;--a){var E=o[a].s;g[E]==e&&(--g[E],++p)}w=e}return{t:new t(g),l:w}},A=function(t,n,r){return-1==t.s?Math.max(A(t.l,n,r+1),A(t.r,n,r+1)):n[t.s]=r},D=function(t){for(var r=t.length;r&&!t[--r];);for(var e=new n(++r),i=0,a=t[0],s=1,o=function(t){e[i++]=t},f=1;f<=r;++f)if(t[f]==a&&f!=r)++s;else{if(!a&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(a),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(a);s=1,a=t[f]}return{c:e.subarray(0,i),n:r}},T=function(t,n){for(var r=0,e=0;e<n.length;++e)r+=t[e]*n[e];return r},k=function(t,n,r){var e=r.length,i=m(n+2);t[i]=255&e,t[i+1]=e>>8,t[i+2]=255^t[i],t[i+3]=255^t[i+1];for(var a=0;a<e;++a)t[i+a+4]=r[a];return 8*(i+4+e)},U=function(t,r,s,o,f,h,l,u,c,v,m){z(r,m++,s),++f[256];for(var b=x(f,15),M=b.t,E=b.l,A=x(h,15),U=A.t,C=A.l,F=D(M),I=F.c,S=F.n,L=D(U),O=L.c,j=L.n,q=new n(19),B=0;B<I.length;++B)++q[31&I[B]];for(B=0;B<O.length;++B)++q[31&O[B]];for(var G=x(q,7),H=G.t,J=G.l,K=19;K>4&&!H[a[K-1]];--K);var N,P,Q,R,V=v+5<<3,W=T(f,g)+T(h,w)+l,X=T(f,M)+T(h,U)+l+14+3*K+T(q,H)+2*q[16]+3*q[17]+7*q[18];if(c>=0&&V<=W&&V<=X)return k(r,m,t.subarray(c,c+v));if(z(r,m,1+(X<W)),m+=2,X<W){N=d(M,E,0),P=M,Q=d(U,C,0),R=U;var Y=d(H,J,0);z(r,m,S-257),z(r,m+5,j-1),z(r,m+10,K-4),m+=14;for(B=0;B<K;++B)z(r,m+3*B,H[a[B]]);m+=3*K;for(var Z=[I,O],$=0;$<2;++$){var tt=Z[$];for(B=0;B<tt.length;++B){var nt=31&tt[B];z(r,m,Y[nt]),m+=H[nt],nt>15&&(z(r,m,tt[B]>>5&127),m+=tt[B]>>12)}}}else N=p,P=g,Q=y,R=w;for(B=0;B<u;++B){var rt=o[B];if(rt>255){_(r,m,N[(nt=rt>>18&31)+257]),m+=P[nt+257],nt>7&&(z(r,m,rt>>23&31),m+=e[nt]);var et=31&rt;_(r,m,Q[et]),m+=R[et],et>3&&(_(r,m,rt>>5&8191),m+=i[et])}else _(r,m,N[rt]),m+=P[rt]}return _(r,m,N[256]),m+P[256]},C=new r([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),F=new t(0),I=function(){for(var t=new Int32Array(256),n=0;n<256;++n){for(var r=n,e=9;--e;)r=(1&r&&-306674912)^r>>>1;t[n]=r}return t}(),S=function(){var t=-1;return{p:function(n){for(var r=t,e=0;e<n.length;++e)r=I[255&r^n[e]]^r>>>8;t=r},d:function(){return~t}}},L=function(){var t=1,n=0;return{p:function(r){for(var e=t,i=n,a=0|r.length,s=0;s!=a;){for(var o=Math.min(s+2655,a);s<o;++s)i+=e+=r[s];e=(65535&e)+15*(e>>16),i=(65535&i)+15*(i>>16)}t=e,n=i},d:function(){return(255&(t%=65521))<<24|(65280&t)<<8|(255&(n%=65521))<<8|n>>8}}},O=function(a,s,o,f,u){if(!u&&(u={l:1},s.dictionary)){var c=s.dictionary.subarray(-32768),v=new t(c.length+a.length);v.set(c),v.set(a,c.length),a=v,u.w=c.length}return function(a,s,o,f,u,c){var v=c.z||a.length,d=new t(f+v+5*(1+Math.ceil(v/7e3))+u),g=d.subarray(f,d.length-u),w=c.l,p=7&(c.r||0);if(s){p&&(g[0]=c.r>>3);for(var y=C[s-1],M=y>>13,E=8191&y,z=(1<<o)-1,_=c.p||new n(32768),x=c.h||new n(z+1),A=Math.ceil(o/3),D=2*A,T=function(t){return(a[t]^a[t+1]<<A^a[t+2]<<D)&z},F=new r(25e3),I=new n(288),S=new n(32),L=0,O=0,j=c.i||0,q=0,B=c.w||0,G=0;j+2<v;++j){var H=T(j),J=32767&j,K=x[H];if(_[J]=K,x[H]=J,B<=j){var N=v-j;if((L>7e3||q>24576)&&(N>423||!w)){p=U(a,g,0,F,I,S,O,q,G,j-G,p),q=L=O=0,G=j;for(var P=0;P<286;++P)I[P]=0;for(P=0;P<30;++P)S[P]=0}var Q=2,R=0,V=E,W=J-K&32767;if(N>2&&H==T(j-W))for(var X=Math.min(M,N)-1,Y=Math.min(32767,j),Z=Math.min(258,N);W<=Y&&--V&&J!=K;){if(a[j+Q]==a[j+Q-W]){for(var $=0;$<Z&&a[j+$]==a[j+$-W];++$);if($>Q){if(Q=$,R=W,$>X)break;var tt=Math.min(W,$-2),nt=0;for(P=0;P<tt;++P){var rt=j-W+P&32767,et=rt-_[rt]&32767;et>nt&&(nt=et,K=rt)}}}W+=(J=K)-(K=_[J])&32767}if(R){F[q++]=268435456|h[Q]<<18|l[R];var it=31&h[Q],at=31&l[R];O+=e[it]+i[at],++I[257+it],++S[at],B=j+Q,++L}else F[q++]=a[j],++I[a[j]]}}for(j=Math.max(j,B);j<v;++j)F[q++]=a[j],++I[a[j]];p=U(a,g,w,F,I,S,O,q,G,j-G,p),w||(c.r=7&p|g[p/8|0]<<3,p-=7,c.h=x,c.p=_,c.i=j,c.w=B)}else{for(j=c.w||0;j<v+w;j+=65535){var st=j+65535;st>=v&&(g[p/8|0]=w,st=v),p=k(g,p+1,a.subarray(j,st))}c.i=v}return b(d,0,f+m(p)+u)}(a,null==s.level?6:s.level,null==s.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(a.length)))):12+s.mem,o,f,u)},j=function(t,n,r){for(;r;++n)t[n]=r,r>>>=8},q=function(t,n){var r=n.filename;if(t[0]=31,t[1]=139,t[2]=8,t[8]=n.level<2?4:9==n.level?2:0,t[9]=3,0!=n.mtime&&j(t,4,Math.floor(new Date(n.mtime||Date.now())/1e3)),r){t[3]=8;for(var e=0;e<=r.length;++e)t[e+10]=r.charCodeAt(e)}},B=function(t){return 10+(t.filename?t.filename.length+1:0)},G=function(){function n(n,r){if("function"==typeof n&&(r=n,n={}),this.ondata=r,this.o=n||{},this.s={l:0,i:32768,w:32768,z:32768},this.b=new t(98304),this.o.dictionary){var e=this.o.dictionary.subarray(-32768);this.b.set(e,32768-e.length),this.s.i=32768-e.length}}return n.prototype.p=function(t,n){this.ondata(O(t,this.o,0,0,this.s),n)},n.prototype.push=function(n,r){this.ondata||E(5),this.s.l&&E(4);var e=n.length+this.s.z;if(e>this.b.length){if(e>2*this.b.length-32768){var i=new t(-32768&e);i.set(this.b.subarray(0,this.s.z)),this.b=i}var a=this.b.length-this.s.z;a&&(this.b.set(n.subarray(0,a),this.s.z),this.s.z=this.b.length,this.p(this.b,!1)),this.b.set(this.b.subarray(-32768)),this.b.set(n.subarray(a),32768),this.s.z=n.length-a+32768,this.s.i=32766,this.s.w=32768}else this.b.set(n,this.s.z),this.s.z+=n.length;this.s.l=1&r,(this.s.z>this.s.w+8191||r)&&(this.p(this.b,r||!1),this.s.w=this.s.i,this.s.i-=2)},n}();var H=function(){function t(t,n){this.c=L(),this.v=1,G.call(this,t,n)}return t.prototype.push=function(t,n){this.c.p(t),G.prototype.push.call(this,t,n)},t.prototype.p=function(t,n){var r=O(t,this.o,this.v&&(this.o.dictionary?6:2),n&&4,this.s);this.v&&(function(t,n){var r=n.level,e=0==r?0:r<6?1:9==r?3:2;if(t[0]=120,t[1]=e<<6|(n.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,n.dictionary){var i=L();i.p(n.dictionary),j(t,2,i.d())}}(r,this.o),this.v=0),n&&j(r,r.length-4,this.c.d()),this.ondata(r,n)},t}(),J="undefined"!=typeof TextEncoder&&new TextEncoder,K="undefined"!=typeof TextDecoder&&new TextDecoder;try{K.decode(F,{stream:!0})}catch(t){}var N=function(){function t(t){this.ondata=t}return t.prototype.push=function(t,n){this.ondata||E(5),this.d&&E(4),this.ondata(P(t),this.d=n||!1)},t}();function P(n,r){if(J)return J.encode(n);for(var e=n.length,i=new t(n.length+(n.length>>1)),a=0,s=function(t){i[a++]=t},o=0;o<e;++o){if(a+5>i.length){var f=new t(a+8+(e-o<<1));f.set(i),i=f}var h=n.charCodeAt(o);h<128||r?s(h):h<2048?(s(192|h>>6),s(128|63&h)):h>55295&&h<57344?(s(240|(h=65536+(1047552&h)|1023&n.charCodeAt(++o))>>18),s(128|h>>12&63),s(128|h>>6&63),s(128|63&h)):(s(224|h>>12),s(128|h>>6&63),s(128|63&h))}return b(i,0,a)}function Q(t){return function(t,n){n||(n={});var r=S(),e=t.length;r.p(t);var i=O(t,n,B(n),8),a=i.length;return q(i,n),j(i,a-8,r.d()),j(i,a-4,e),i}(P(t))}const R=new class{constructor(){this._init()}clear(){this._init()}addEvent(t){if(!t)throw new Error("Adding invalid event");const n=this._hasEvents?",":"";this.stream.push(n+t),this._hasEvents=!0}finish(){this.stream.push("]",!0);const t=function(t){let n=0;for(const r of t)n+=r.length;const r=new Uint8Array(n);for(let n=0,e=0,i=t.length;n<i;n++){const i=t[n];r.set(i,e),e+=i.length}return r}(this._deflatedData);return this._init(),t}_init(){this._hasEvents=!1,this._deflatedData=[],this.deflate=new H,this.deflate.ondata=(t,n)=>{this._deflatedData.push(t)},this.stream=new N(((t,n)=>{this.deflate.push(t,n)})),this.stream.push("[")}},V={clear:()=>{R.clear()},addEvent:t=>R.addEvent(t),finish:()=>R.finish(),compress:t=>Q(t)};addEventListener("message",(function(t){const n=t.data.method,r=t.data.id,e=t.data.arg;if(n in V&&"function"==typeof V[n])try{const t=V[n](e);postMessage({id:r,method:n,success:!0,response:t})}catch(t){postMessage({id:r,method:n,success:!1,response:t.message}),console.error(t)}})),postMessage({id:void 0,method:"init",success:!0,response:void 0});';function bH(){const e=new Blob([xH]);return URL.createObjectURL(e)}const m4=["info","warn","error","log"],a0="[Replay] ";function ax(e,t="info"){bl({category:"console",data:{logger:"replay"},level:t,message:`${a0}${e}`},{level:t})}function wH(){let e=!1,t=!1;const n={exception:()=>{},infoTick:()=>{},setConfig:r=>{e=r.captureExceptions,t=r.traceInternals}};return yt?(m4.forEach(r=>{n[r]=(...i)=>{Ge[r](a0,...i),t&&ax(i.join(""),uT(r))}}),n.exception=(r,...i)=>{i.length&&n.error&&n.error(...i),Ge.error(a0,r),e?F2(r):t&&ax(r,"error")},n.infoTick=(...r)=>{Ge.info(a0,...r),t&&setTimeout(()=>ax(r[0]),0)}):m4.forEach(r=>{n[r]=()=>{}}),n}const bt=wH();class e_ extends Error{constructor(){super(`Event buffer exceeded maximum size of ${Q2}.`)}}class u9{constructor(){this.events=[],this._totalSize=0,this.hasCheckout=!1,this.waitForCheckout=!1}get hasEvents(){return this.events.length>0}get type(){return"sync"}destroy(){this.events=[]}async addEvent(t){const n=JSON.stringify(t).length;if(this._totalSize+=n,this._totalSize>Q2)throw new e_;this.events.push(t)}finish(){return new Promise(t=>{const n=this.events;this.clear(),t(JSON.stringify(n))})}clear(){this.events=[],this._totalSize=0,this.hasCheckout=!1}getEarliestTimestamp(){const t=this.events.map(n=>n.timestamp).sort()[0];return t?Z2(t):null}}class _H{constructor(t){this._worker=t,this._id=0}ensureReady(){return this._ensureReadyPromise?this._ensureReadyPromise:(this._ensureReadyPromise=new Promise((t,n)=>{this._worker.addEventListener("message",({data:r})=>{r.success?t():n()},{once:!0}),this._worker.addEventListener("error",r=>{n(r)},{once:!0})}),this._ensureReadyPromise)}destroy(){yt&&bt.info("Destroying compression worker"),this._worker.terminate()}postMessage(t,n){const r=this._getAndIncrementId();return new Promise((i,s)=>{const o=({data:a})=>{const l=a;if(l.method===t&&l.id===r){if(this._worker.removeEventListener("message",o),!l.success){yt&&bt.error("Error in compression worker: ",l.response),s(new Error("Error in compression worker"));return}i(l.response)}};this._worker.addEventListener("message",o),this._worker.postMessage({id:r,method:t,arg:n})})}_getAndIncrementId(){return this._id++}}class SH{constructor(t){this._worker=new _H(t),this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this.waitForCheckout=!1}get hasEvents(){return!!this._earliestTimestamp}get type(){return"worker"}ensureReady(){return this._worker.ensureReady()}destroy(){this._worker.destroy()}addEvent(t){const n=Z2(t.timestamp);(!this._earliestTimestamp||n<this._earliestTimestamp)&&(this._earliestTimestamp=n);const r=JSON.stringify(t);return this._totalSize+=r.length,this._totalSize>Q2?Promise.reject(new e_):this._sendEventToWorker(r)}finish(){return this._finishRequest()}clear(){this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this._worker.postMessage("clear").then(null,t=>{yt&&bt.exception(t,'Sending "clear" message to worker failed',t)})}getEarliestTimestamp(){return this._earliestTimestamp}_sendEventToWorker(t){return this._worker.postMessage("addEvent",t)}async _finishRequest(){const t=await this._worker.postMessage("finish");return this._earliestTimestamp=null,this._totalSize=0,t}}class CH{constructor(t){this._fallback=new u9,this._compression=new SH(t),this._used=this._fallback,this._ensureWorkerIsLoadedPromise=this._ensureWorkerIsLoaded()}get waitForCheckout(){return this._used.waitForCheckout}get type(){return this._used.type}get hasEvents(){return this._used.hasEvents}get hasCheckout(){return this._used.hasCheckout}set hasCheckout(t){this._used.hasCheckout=t}set waitForCheckout(t){this._used.waitForCheckout=t}destroy(){this._fallback.destroy(),this._compression.destroy()}clear(){return this._used.clear()}getEarliestTimestamp(){return this._used.getEarliestTimestamp()}addEvent(t){return this._used.addEvent(t)}async finish(){return await this.ensureWorkerIsLoaded(),this._used.finish()}ensureWorkerIsLoaded(){return this._ensureWorkerIsLoadedPromise}async _ensureWorkerIsLoaded(){try{await this._compression.ensureReady()}catch(t){yt&&bt.exception(t,"Failed to load the compression worker, falling back to simple buffer");return}await this._switchToCompressionWorker()}async _switchToCompressionWorker(){const{events:t,hasCheckout:n,waitForCheckout:r}=this._fallback,i=[];for(const s of t)i.push(this._compression.addEvent(s));this._compression.hasCheckout=n,this._compression.waitForCheckout=r,this._used=this._compression;try{await Promise.all(i),this._fallback.clear()}catch(s){yt&&bt.exception(s,"Failed to add events when switching buffers.")}}}function kH({useCompression:e,workerUrl:t}){if(e&&window.Worker){const n=EH(t);if(n)return n}return yt&&bt.info("Using simple buffer"),new u9}function EH(e){try{const t=e||TH();if(!t)return;yt&&bt.info(`Using compression worker${e?` from ${e}`:""}`);const n=new Worker(t);return new CH(n)}catch(t){yt&&bt.exception(t,"Failed to create compression worker")}}function TH(){return typeof __SENTRY_EXCLUDE_REPLAY_WORKER__>"u"||!__SENTRY_EXCLUDE_REPLAY_WORKER__?bH():""}function t_(){try{return"sessionStorage"in On&&!!On.sessionStorage}catch{return!1}}function jH(e){IH(),e.session=void 0}function IH(){if(t_())try{On.sessionStorage.removeItem(V2)}catch{}}function c9(e){return e===void 0?!1:Math.random()<e}function d9(e){const t=Date.now(),n=e.id||ls(),r=e.started||t,i=e.lastActivity||t,s=e.segmentId||0,o=e.sampled,a=e.previousSessionId;return{id:n,started:r,lastActivity:i,segmentId:s,sampled:o,previousSessionId:a}}function n_(e){if(t_())try{On.sessionStorage.setItem(V2,JSON.stringify(e))}catch{}}function NH(e,t){return c9(e)?"session":t?"buffer":!1}function g4({sessionSampleRate:e,allowBuffering:t,stickySession:n=!1},{previousSessionId:r}={}){const i=NH(e,t),s=d9({sampled:i,previousSessionId:r});return n&&n_(s),s}function PH(){if(!t_())return null;try{const e=On.sessionStorage.getItem(V2);if(!e)return null;const t=JSON.parse(e);return yt&&bt.infoTick("Loading existing session"),d9(t)}catch{return null}}function iw(e,t,n=+new Date){return e===null||t===void 0||t<0?!0:t===0?!1:e+t<=n}function f9(e,{maxReplayDuration:t,sessionIdleExpire:n,targetTime:r=Date.now()}){return iw(e.started,t,r)||iw(e.lastActivity,n,r)}function h9(e,{sessionIdleExpire:t,maxReplayDuration:n}){return!(!f9(e,{sessionIdleExpire:t,maxReplayDuration:n})||e.sampled==="buffer"&&e.segmentId===0)}function lx({sessionIdleExpire:e,maxReplayDuration:t,previousSessionId:n},r){const i=r.stickySession&&PH();return i?h9(i,{sessionIdleExpire:e,maxReplayDuration:t})?(yt&&bt.infoTick("Session in sessionStorage is expired, creating new one..."),g4(r,{previousSessionId:i.id})):i:(yt&&bt.infoTick("Creating new session"),g4(r,{previousSessionId:n}))}function RH(e){return e.type===Wt.Custom}function r_(e,t,n){return m9(e,t)?(p9(e,t,n),!0):!1}function OH(e,t,n){return m9(e,t)?p9(e,t,n):Promise.resolve(null)}async function p9(e,t,n){const{eventBuffer:r}=e;if(!r||r.waitForCheckout&&!n)return null;const i=e.recordingMode==="buffer";try{n&&i&&r.clear(),n&&(r.hasCheckout=!0,r.waitForCheckout=!1);const s=e.getOptions(),o=MH(t,s.beforeAddRecordingEvent);return o?await r.addEvent(o):void 0}catch(s){const o=s&&s instanceof e_,a=o?"addEventSizeExceeded":"addEvent";if(o&&i)return r.clear(),r.waitForCheckout=!0,null;e.handleException(s),await e.stop({reason:a});const l=en();l&&l.recordDroppedEvent("internal_sdk_error","replay")}}function m9(e,t){if(!e.eventBuffer||e.isPaused()||!e.isEnabled())return!1;const n=Z2(t.timestamp);return n+e.timeouts.sessionIdlePause<Date.now()?!1:n>e.getContext().initialTimestamp+e.getOptions().maxReplayDuration?(yt&&bt.infoTick(`Skipping event with timestamp ${n} because it is after maxReplayDuration`),!1):!0}function MH(e,t){try{if(typeof t=="function"&&RH(e))return t(e)}catch(n){return yt&&bt.exception(n,"An error occurred in the `beforeAddRecordingEvent` callback, skipping the event..."),null}return e}function i_(e){return!e.type}function sw(e){return e.type==="transaction"}function AH(e){return e.type==="replay_event"}function y4(e){return e.type==="feedback"}function DH(e){return(t,n)=>{if(!e.isEnabled()||!i_(t)&&!sw(t))return;const r=n&&n.statusCode;if(!(!r||r<200||r>=300)){if(sw(t)){LH(e,t);return}FH(e,t)}}}function LH(e,t){const n=e.getContext();t.contexts&&t.contexts.trace&&t.contexts.trace.trace_id&&n.traceIds.size<100&&n.traceIds.add(t.contexts.trace.trace_id)}function FH(e,t){const n=e.getContext();if(t.event_id&&n.errorIds.size<100&&n.errorIds.add(t.event_id),e.recordingMode!=="buffer"||!t.tags||!t.tags.replayId)return;const{beforeErrorSampling:r}=e.getOptions();typeof r=="function"&&!r(t)||zd(async()=>{try{await e.sendBufferedReplayOrFlush()}catch(i){e.handleException(i)}})}function BH(e){return t=>{!e.isEnabled()||!i_(t)||zH(e,t)}}function zH(e,t){const n=t.exception&&t.exception.values&&t.exception.values[0]&&t.exception.values[0].value;if(typeof n=="string"&&(n.match(/(reactjs\.org\/docs\/error-decoder\.html\?invariant=|react\.dev\/errors\/)(418|419|422|423|425)/)||n.match(/(does not match server-rendered HTML|Hydration failed because)/i))){const r=ko({category:"replay.hydrate-error",data:{url:_7()}});Sp(e,r)}}function $H(e){const t=en();t&&t.on("beforeAddBreadcrumb",n=>UH(e,n))}function UH(e,t){if(!e.isEnabled()||!g9(t))return;const n=HH(t);n&&Sp(e,n)}function HH(e){return!g9(e)||["fetch","xhr","sentry.event","sentry.transaction"].includes(e.category)||e.category.startsWith("ui.")?null:e.category==="console"?WH(e):ko(e)}function WH(e){const t=e.data&&e.data.arguments;if(!Array.isArray(t)||t.length===0)return ko(e);let n=!1;const r=t.map(i=>{if(!i)return i;if(typeof i=="string")return i.length>ag?(n=!0,`${i.slice(0,ag)}`):i;if(typeof i=="object")try{const s=Xs(i,7);return JSON.stringify(s).length>ag?(n=!0,`${JSON.stringify(s,null,2).slice(0,ag)}`):s}catch{}return i});return ko({...e,data:{...e.data,arguments:r,...n?{_meta:{warnings:["CONSOLE_ARG_TRUNCATED"]}}:{}}})}function g9(e){return!!e.category}function VH(e,t){return e.type||!e.exception||!e.exception.values||!e.exception.values.length?!1:!!(t.originalException&&t.originalException.__rrweb__)}function y9(){const e=Dn().getPropagationContext().dsc;e&&delete e.replay_id;const t=zr();if(t){const n=tc(t);delete n.replay_id}}function qH(e,t){e.triggerUserActivity(),e.addUpdate(()=>t.timestamp?(e.throttledAddEvent({type:Wt.Custom,timestamp:t.timestamp*1e3,data:{tag:"breadcrumb",payload:{timestamp:t.timestamp,type:"default",category:"sentry.feedback",data:{feedbackId:t.event_id}}}}),!1):!0)}function QH(e,t){return e.recordingMode!=="buffer"||t.message===q2||!t.exception||t.type?!1:c9(e.getOptions().errorSampleRate)}function KH(e){return Object.assign((t,n)=>!e.isEnabled()||e.isPaused()?t:AH(t)?(delete t.breadcrumbs,t):!i_(t)&&!sw(t)&&!y4(t)?t:e.checkAndHandleExpiredSession()?y4(t)?(e.flush(),t.contexts.feedback.replay_id=e.getSessionId(),qH(e,t),t):VH(t,n)&&!e.getOptions()._experiments.captureExceptions?(yt&&bt.log("Ignoring error from rrweb internals",t),null):((QH(e,t)||e.recordingMode==="session")&&(t.tags={...t.tags,replayId:e.getSessionId()}),t):(y9(),t),{id:"Replay"})}function jy(e,t){return t.map(({type:n,start:r,end:i,name:s,data:o})=>{const a=e.throttledAddEvent({type:Wt.Custom,timestamp:r,data:{tag:"performanceSpan",payload:{op:n,description:s,startTimestamp:r,endTimestamp:i,data:o}}});return typeof a=="string"?Promise.resolve(null):a})}function GH(e){const{from:t,to:n}=e,r=Date.now()/1e3;return{type:"navigation.push",start:r,end:r,name:n,data:{previous:t}}}function YH(e){return t=>{if(!e.isEnabled())return;const n=GH(t);n!==null&&(e.getContext().urls.push(n.name),e.triggerUserActivity(),e.addUpdate(()=>(jy(e,[n]),!1)))}}function XH(e,t){return yt&&e.getOptions()._experiments.traceInternals?!1:GL(t,en())}function v9(e,t){e.isEnabled()&&t!==null&&(XH(e,t.name)||e.addUpdate(()=>(jy(e,[t]),!0)))}function Iy(e){if(!e)return;const t=new TextEncoder;try{if(typeof e=="string")return t.encode(e).length;if(e instanceof URLSearchParams)return t.encode(e.toString()).length;if(e instanceof FormData){const n=_9(e);return t.encode(n).length}if(e instanceof Blob)return e.size;if(e instanceof ArrayBuffer)return e.byteLength}catch{}}function x9(e){if(!e)return;const t=parseInt(e,10);return isNaN(t)?void 0:t}function b9(e){try{if(typeof e=="string")return[e];if(e instanceof URLSearchParams)return[e.toString()];if(e instanceof FormData)return[_9(e)];if(!e)return[void 0]}catch(t){return yt&&bt.exception(t,"Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return yt&&bt.info("Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}function A0(e,t){if(!e)return{headers:{},size:void 0,_meta:{warnings:[t]}};const n={...e._meta},r=n.warnings||[];return n.warnings=[...r,t],e._meta=n,e}function w9(e,t){if(!t)return null;const{startTimestamp:n,endTimestamp:r,url:i,method:s,statusCode:o,request:a,response:l}=t;return{type:e,start:n/1e3,end:r/1e3,name:i,data:kr({method:s,statusCode:o,request:a,response:l})}}function Kh(e){return{headers:{},size:e,_meta:{warnings:["URL_SKIPPED"]}}}function fl(e,t,n){if(!t&&Object.keys(e).length===0)return;if(!t)return{headers:e};if(!n)return{headers:e,size:t};const r={headers:e,size:t},{body:i,warnings:s}=JH(n);return r.body=i,s&&s.length>0&&(r._meta={warnings:s}),r}function ow(e,t){return Object.entries(e).reduce((n,[r,i])=>{const s=r.toLowerCase();return t.includes(s)&&e[r]&&(n[s]=i),n},{})}function _9(e){return new URLSearchParams(e).toString()}function JH(e){if(!e||typeof e!="string")return{body:e};const t=e.length>XC,n=ZH(e);if(t){const r=e.slice(0,XC);return n?{body:r,warnings:["MAYBE_JSON_TRUNCATED"]}:{body:`${r}`,warnings:["TEXT_TRUNCATED"]}}if(n)try{return{body:JSON.parse(e)}}catch{}return{body:e}}function ZH(e){const t=e[0],n=e[e.length-1];return t==="["&&n==="]"||t==="{"&&n==="}"}function D0(e,t){const n=eW(e);return dl(n,t)}function eW(e,t=On.document.baseURI){if(e.startsWith("http://")||e.startsWith("https://")||e.startsWith(On.location.origin))return e;const n=new URL(e,t);if(n.origin!==new URL(t).origin)return e;const r=n.href;return!e.endsWith("/")&&r.endsWith("/")?r.slice(0,-1):r}async function tW(e,t,n){try{const r=await rW(e,t,n),i=w9("resource.fetch",r);v9(n.replay,i)}catch(r){yt&&bt.exception(r,"Failed to capture fetch breadcrumb")}}function nW(e,t){const{input:n,response:r}=t,i=n?S9(n):void 0,s=Iy(i),o=r?x9(r.headers.get("content-length")):void 0;s!==void 0&&(e.data.request_body_size=s),o!==void 0&&(e.data.response_body_size=o)}async function rW(e,t,n){const r=Date.now(),{startTimestamp:i=r,endTimestamp:s=r}=t,{url:o,method:a,status_code:l=0,request_body_size:c,response_body_size:f}=e.data,p=D0(o,n.networkDetailAllowUrls)&&!D0(o,n.networkDetailDenyUrls),g=p?iW(n,t.input,c):Kh(c),y=await sW(p,n,t.response,f);return{startTimestamp:i,endTimestamp:s,url:o,method:a,statusCode:l,request:g,response:y}}function iW({networkCaptureBodies:e,networkRequestHeaders:t},n,r){const i=n?lW(n,t):{};if(!e)return fl(i,r,void 0);const s=S9(n),[o,a]=b9(s),l=fl(i,r,o);return a?A0(l,a):l}async function sW(e,{networkCaptureBodies:t,networkResponseHeaders:n},r,i){if(!e&&i!==void 0)return Kh(i);const s=r?C9(r.headers,n):{};if(!r||!t&&i!==void 0)return fl(s,i,void 0);const[o,a]=await aW(r),l=oW(o,{networkCaptureBodies:t,responseBodySize:i,captureDetails:e,headers:s});return a?A0(l,a):l}function oW(e,{networkCaptureBodies:t,responseBodySize:n,captureDetails:r,headers:i}){try{const s=e&&e.length&&n===void 0?Iy(e):n;return r?t?fl(i,s,e):fl(i,s,void 0):Kh(s)}catch(s){return yt&&bt.exception(s,"Failed to serialize response body"),fl(i,n,void 0)}}async function aW(e){const t=uW(e);if(!t)return[void 0,"BODY_PARSE_ERROR"];try{return[await cW(t)]}catch(n){return n instanceof Error&&n.message.indexOf("Timeout")>-1?(yt&&bt.warn("Parsing text body from response timed out"),[void 0,"BODY_PARSE_TIMEOUT"]):(yt&&bt.exception(n,"Failed to get text body from response"),[void 0,"BODY_PARSE_ERROR"])}}function S9(e=[]){if(!(e.length!==2||typeof e[1]!="object"))return e[1].body}function C9(e,t){const n={};return t.forEach(r=>{e.get(r)&&(n[r]=e.get(r))}),n}function lW(e,t){return e.length===1&&typeof e[0]!="string"?v4(e[0],t):e.length===2?v4(e[1],t):{}}function v4(e,t){if(!e)return{};const n=e.headers;return n?n instanceof Headers?C9(n,t):Array.isArray(n)?{}:ow(n,t):{}}function uW(e){try{return e.clone()}catch(t){yt&&bt.exception(t,"Failed to clone response body")}}function cW(e){return new Promise((t,n)=>{const r=zd(()=>n(new Error("Timeout while trying to read response body")),500);dW(e).then(i=>t(i),i=>n(i)).finally(()=>clearTimeout(r))})}async function dW(e){return await e.text()}async function fW(e,t,n){try{const r=pW(e,t,n),i=w9("resource.xhr",r);v9(n.replay,i)}catch(r){yt&&bt.exception(r,"Failed to capture xhr breadcrumb")}}function hW(e,t){const{xhr:n,input:r}=t;if(!n)return;const i=Iy(r),s=n.getResponseHeader("content-length")?x9(n.getResponseHeader("content-length")):vW(n.response,n.responseType);i!==void 0&&(e.data.request_body_size=i),s!==void 0&&(e.data.response_body_size=s)}function pW(e,t,n){const r=Date.now(),{startTimestamp:i=r,endTimestamp:s=r,input:o,xhr:a}=t,{url:l,method:c,status_code:f=0,request_body_size:p,response_body_size:g}=e.data;if(!l)return null;if(!a||!D0(l,n.networkDetailAllowUrls)||D0(l,n.networkDetailDenyUrls)){const j=Kh(p),M=Kh(g);return{startTimestamp:i,endTimestamp:s,url:l,method:c,statusCode:f,request:j,response:M}}const y=a[Iu],b=y?ow(y.request_headers,n.networkRequestHeaders):{},_=ow(mW(a),n.networkResponseHeaders),[C,k]=n.networkCaptureBodies?b9(o):[void 0],[P,O]=n.networkCaptureBodies?gW(a):[void 0],$=fl(b,p,C),B=fl(_,g,P);return{startTimestamp:i,endTimestamp:s,url:l,method:c,statusCode:f,request:k?A0($,k):$,response:O?A0(B,O):B}}function mW(e){const t=e.getAllResponseHeaders();return t?t.split(`\r
`).reduce((n,r)=>{const[i,s]=r.split(": ");return s&&(n[i.toLowerCase()]=s),n},{}):{}}function gW(e){const t=[];try{return[e.responseText]}catch(n){t.push(n)}try{return yW(e.response,e.responseType)}catch(n){t.push(n)}return yt&&bt.warn("Failed to get xhr response body",...t),[void 0]}function yW(e,t){try{if(typeof e=="string")return[e];if(e instanceof Document)return[e.body.outerHTML];if(t==="json"&&e&&typeof e=="object")return[JSON.stringify(e)];if(!e)return[void 0]}catch(n){return yt&&bt.exception(n,"Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return yt&&bt.info("Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}function vW(e,t){try{const n=t==="json"&&e&&typeof e=="object"?JSON.stringify(e):e;return Iy(n)}catch{return}}function xW(e){const t=en();try{const{networkDetailAllowUrls:n,networkDetailDenyUrls:r,networkCaptureBodies:i,networkRequestHeaders:s,networkResponseHeaders:o}=e.getOptions(),a={replay:e,networkDetailAllowUrls:n,networkDetailDenyUrls:r,networkCaptureBodies:i,networkRequestHeaders:s,networkResponseHeaders:o};t&&t.on("beforeAddBreadcrumb",(l,c)=>bW(a,l,c))}catch{}}function bW(e,t,n){if(t.data)try{wW(t)&&SW(n)&&(hW(t,n),fW(t,n,e)),_W(t)&&CW(n)&&(nW(t,n),tW(t,n,e))}catch(r){yt&&bt.exception(r,"Error when enriching network breadcrumb")}}function wW(e){return e.category==="xhr"}function _W(e){return e.category==="fetch"}function SW(e){return e&&e.xhr}function CW(e){return e&&e.response}function kW(e){const t=en();RT(eH(e)),Sy(YH(e)),$H(e),xW(e);const n=KH(e);jL(n),t&&(t.on("beforeSendEvent",BH(e)),t.on("afterSendEvent",DH(e)),t.on("createDsc",r=>{const i=e.getSessionId();i&&e.isEnabled()&&e.recordingMode==="session"&&e.checkAndHandleExpiredSession()&&(r.replay_id=i)}),t.on("spanStart",r=>{e.lastActiveSpan=r}),t.on("spanEnd",r=>{e.lastActiveSpan=r}),t.on("beforeSendFeedback",(r,i)=>{const s=e.getSessionId();i&&i.includeReplay&&e.isEnabled()&&s&&r.contexts&&r.contexts.feedback&&(r.contexts.feedback.replay_id=s)}))}async function EW(e){try{return Promise.all(jy(e,[TW(On.performance.memory)]))}catch{return[]}}function TW(e){const{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:r}=e,i=Date.now()/1e3;return{type:"memory",name:"memory",start:i,end:i,data:{memory:{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:r}}}}function jW(e,t,n){let r,i,s;const o=n&&n.maxWait?Math.max(n.maxWait,t):0;function a(){return l(),r=e(),r}function l(){i!==void 0&&clearTimeout(i),s!==void 0&&clearTimeout(s),i=s=void 0}function c(){return i!==void 0||s!==void 0?a():r}function f(){return i&&clearTimeout(i),i=zd(a,t),o&&s===void 0&&(s=zd(a,o)),r}return f.cancel=l,f.flush=c,f}const du=rn.navigator;function IW(){return/iPhone|iPad|iPod/i.test(du&&du.userAgent||"")||/Macintosh/i.test(du&&du.userAgent||"")&&du&&du.maxTouchPoints&&du.maxTouchPoints>1?{sampling:{mousemove:!1}}:{}}function NW(e){let t=!1;return(n,r)=>{if(!e.checkAndHandleExpiredSession()){yt&&bt.warn("Received replay event after session expired.");return}const i=r||!t;t=!0,e.clickDetector&&GU(e.clickDetector,n),e.addUpdate(()=>{if(e.recordingMode==="buffer"&&i&&e.setInitialState(),!r_(e,n,i))return!0;if(!i)return!1;const s=e.session;if(RW(e,i),e.recordingMode==="buffer"&&s&&e.eventBuffer){const o=e.eventBuffer.getEarliestTimestamp();o&&(yt&&bt.info(`Updating session start time to earliest event in buffer to ${new Date(o)}`),s.started=o,e.getOptions().stickySession&&n_(s))}return s&&s.previousSessionId||e.recordingMode==="session"&&e.flush(),!0})}}function PW(e){const t=e.getOptions();return{type:Wt.Custom,timestamp:Date.now(),data:{tag:"options",payload:{shouldRecordCanvas:e.isRecordingCanvas(),sessionSampleRate:t.sessionSampleRate,errorSampleRate:t.errorSampleRate,useCompressionOption:t.useCompression,blockAllMedia:t.blockAllMedia,maskAllText:t.maskAllText,maskAllInputs:t.maskAllInputs,useCompression:e.eventBuffer?e.eventBuffer.type==="worker":!1,networkDetailHasUrls:t.networkDetailAllowUrls.length>0,networkCaptureBodies:t.networkCaptureBodies,networkRequestHasHeaders:t.networkRequestHeaders.length>0,networkResponseHasHeaders:t.networkResponseHeaders.length>0}}}}function RW(e,t){!t||!e.session||e.session.segmentId!==0||r_(e,PW(e),!1)}function OW(e,t,n,r){return nc(q7(e,D2(e),r,n),[[{type:"replay_event"},e],[{type:"replay_recording",length:typeof t=="string"?new TextEncoder().encode(t).length:t.length},t]])}function MW({recordingData:e,headers:t}){let n;const r=`${JSON.stringify(t)}
`;if(typeof e=="string")n=`${r}${e}`;else{const s=new TextEncoder().encode(r);n=new Uint8Array(s.length+e.length),n.set(s),n.set(e,s.length)}return n}async function AW({client:e,scope:t,replayId:n,event:r}){const i=typeof e._integrations=="object"&&e._integrations!==null&&!Array.isArray(e._integrations)?Object.keys(e._integrations):void 0,s={event_id:n,integrations:i};e.emit("preprocessEvent",r,s);const o=await X7(e.getOptions(),r,s,t,e,uo());if(!o)return null;o.platform=o.platform||"javascript";const a=e.getSdkMetadata(),{name:l,version:c}=a&&a.sdk||{};return o.sdk={...o.sdk,name:l||"sentry.javascript.unknown",version:c||"0.0.0"},o}async function DW({recordingData:e,replayId:t,segmentId:n,eventContext:r,timestamp:i,session:s}){const o=MW({recordingData:e,headers:{segment_id:n}}),{urls:a,errorIds:l,traceIds:c,initialTimestamp:f}=r,p=en(),g=Dn(),y=p&&p.getTransport(),b=p&&p.getDsn();if(!p||!y||!b||!s.sampled)return ya({});const _={type:p$,replay_start_timestamp:f/1e3,timestamp:i/1e3,error_ids:l,trace_ids:c,urls:a,replay_id:t,segment_id:n,replay_type:s.sampled},C=await AW({scope:g,client:p,replayId:t,event:_});if(!C)return p.recordDroppedEvent("event_processor","replay",_),yt&&bt.info("An event processor returned `null`, will not send event."),ya({});delete C.sdkProcessingMetadata;const k=OW(C,o,b,p.getOptions().tunnel);let P;try{P=await y.send(k)}catch($){const B=new Error(q2);try{B.cause=$}catch{}throw B}if(typeof P.statusCode=="number"&&(P.statusCode<200||P.statusCode>=300))throw new k9(P.statusCode);const O=oT({},P);if(sT(O,"replay"))throw new s_(O);return P}class k9 extends Error{constructor(t){super(`Transport returned status code ${t}`)}}class s_ extends Error{constructor(t){super("Rate limit hit"),this.rateLimits=t}}async function E9(e,t={count:0,interval:b$}){const{recordingData:n,onError:r}=e;if(n.length)try{return await DW(e),!0}catch(i){if(i instanceof k9||i instanceof s_)throw i;if(Z7("Replays",{_retryCount:t.count}),r&&r(i),t.count>=w$){const s=new Error(`${q2} - max retries exceeded`);try{s.cause=i}catch{}throw s}return t.interval*=++t.count,new Promise((s,o)=>{zd(async()=>{try{await E9(e,t),s(!0)}catch(a){o(a)}},t.interval)})}}const T9="__THROTTLED",LW="__SKIPPED";function FW(e,t,n){const r=new Map,i=a=>{const l=a-n;r.forEach((c,f)=>{f<l&&r.delete(f)})},s=()=>[...r.values()].reduce((a,l)=>a+l,0);let o=!1;return(...a)=>{const l=Math.floor(Date.now()/1e3);if(i(l),s()>=t){const f=o;return o=!0,f?LW:T9}o=!1;const c=r.get(l)||0;return r.set(l,c+1),e(...a)}}class rl{constructor({options:t,recordingOptions:n}){rl.prototype.__init.call(this),rl.prototype.__init2.call(this),rl.prototype.__init3.call(this),rl.prototype.__init4.call(this),rl.prototype.__init5.call(this),rl.prototype.__init6.call(this),this.eventBuffer=null,this.performanceEntries=[],this.replayPerformanceEntries=[],this.recordingMode="session",this.timeouts={sessionIdlePause:m$,sessionIdleExpire:g$},this._lastActivity=Date.now(),this._isEnabled=!1,this._isPaused=!1,this._requiresManualStart=!1,this._hasInitializedCoreListeners=!1,this._context={errorIds:new Set,traceIds:new Set,urls:[],initialTimestamp:Date.now(),initialUrl:""},this._recordingOptions=n,this._options=t,this._debouncedFlush=jW(()=>this._flush(),this._options.flushMinDelay,{maxWait:this._options.flushMaxDelay}),this._throttledAddEvent=FW((o,a)=>OH(this,o,a),300,5);const{slowClickTimeout:r,slowClickIgnoreSelectors:i}=this.getOptions(),s=r?{threshold:Math.min(_$,r),timeout:r,scrollTimeout:S$,ignoreSelector:i?i.join(","):""}:void 0;if(s&&(this.clickDetector=new VU(this,s)),yt){const o=t._experiments;bt.setConfig({captureExceptions:!!o.captureExceptions,traceInternals:!!o.traceInternals})}}getContext(){return this._context}isEnabled(){return this._isEnabled}isPaused(){return this._isPaused}isRecordingCanvas(){return!!this._canvas}getOptions(){return this._options}handleException(t){yt&&bt.exception(t),this._options.onError&&this._options.onError(t)}initializeSampling(t){const{errorSampleRate:n,sessionSampleRate:r}=this._options,i=n<=0&&r<=0;if(this._requiresManualStart=i,!i){if(this._initializeSessionForSampling(t),!this.session){yt&&bt.exception(new Error("Unable to initialize and create session"));return}this.session.sampled!==!1&&(this.recordingMode=this.session.sampled==="buffer"&&this.session.segmentId===0?"buffer":"session",yt&&bt.infoTick(`Starting replay in ${this.recordingMode} mode`),this._initializeRecording())}}start(){if(this._isEnabled&&this.recordingMode==="session"){yt&&bt.info("Recording is already in progress");return}if(this._isEnabled&&this.recordingMode==="buffer"){yt&&bt.info("Buffering is in progress, call `flush()` to save the replay");return}yt&&bt.infoTick("Starting replay in session mode"),this._updateUserActivity();const t=lx({maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire},{stickySession:this._options.stickySession,sessionSampleRate:1,allowBuffering:!1});this.session=t,this._initializeRecording()}startBuffering(){if(this._isEnabled){yt&&bt.info("Buffering is in progress, call `flush()` to save the replay");return}yt&&bt.infoTick("Starting replay in buffer mode");const t=lx({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration},{stickySession:this._options.stickySession,sessionSampleRate:0,allowBuffering:!0});this.session=t,this.recordingMode="buffer",this._initializeRecording()}startRecording(){try{const t=this._canvas;this._stopRecording=fa({...this._recordingOptions,...this.recordingMode==="buffer"?{checkoutEveryNms:x$}:this._options._experiments.continuousCheckout&&{checkoutEveryNms:Math.max(36e4,this._options._experiments.continuousCheckout)},emit:NW(this),...IW(),onMutation:this._onMutationHandler,...t?{recordCanvas:t.recordCanvas,getCanvasManager:t.getCanvasManager,sampling:t.sampling,dataURLOptions:t.dataURLOptions}:{}})}catch(t){this.handleException(t)}}stopRecording(){try{return this._stopRecording&&(this._stopRecording(),this._stopRecording=void 0),!0}catch(t){return this.handleException(t),!1}}async stop({forceFlush:t=!1,reason:n}={}){if(this._isEnabled){this._isEnabled=!1;try{yt&&bt.info(`Stopping Replay${n?` triggered by ${n}`:""}`),y9(),this._removeListeners(),this.stopRecording(),this._debouncedFlush.cancel(),t&&await this._flush({force:!0}),this.eventBuffer&&this.eventBuffer.destroy(),this.eventBuffer=null,jH(this)}catch(r){this.handleException(r)}}}pause(){this._isPaused||(this._isPaused=!0,this.stopRecording(),yt&&bt.info("Pausing replay"))}resume(){!this._isPaused||!this._checkSession()||(this._isPaused=!1,this.startRecording(),yt&&bt.info("Resuming replay"))}async sendBufferedReplayOrFlush({continueRecording:t=!0}={}){if(this.recordingMode==="session")return this.flushImmediate();const n=Date.now();yt&&bt.info("Converting buffer to session"),await this.flushImmediate();const r=this.stopRecording();!t||!r||this.recordingMode!=="session"&&(this.recordingMode="session",this.session&&(this._updateUserActivity(n),this._updateSessionActivity(n),this._maybeSaveSession()),this.startRecording())}addUpdate(t){const n=t();this.recordingMode!=="buffer"&&n!==!0&&this._debouncedFlush()}triggerUserActivity(){if(this._updateUserActivity(),!this._stopRecording){if(!this._checkSession())return;this.resume();return}this.checkAndHandleExpiredSession(),this._updateSessionActivity()}updateUserActivity(){this._updateUserActivity(),this._updateSessionActivity()}conditionalFlush(){return this.recordingMode==="buffer"?Promise.resolve():this.flushImmediate()}flush(){return this._debouncedFlush()}flushImmediate(){return this._debouncedFlush(),this._debouncedFlush.flush()}cancelFlush(){this._debouncedFlush.cancel()}getSessionId(){return this.session&&this.session.id}checkAndHandleExpiredSession(){if(this._lastActivity&&iw(this._lastActivity,this.timeouts.sessionIdlePause)&&this.session&&this.session.sampled==="session"){this.pause();return}return!!this._checkSession()}setInitialState(){const t=`${On.location.pathname}${On.location.hash}${On.location.search}`,n=`${On.location.origin}${t}`;this.performanceEntries=[],this.replayPerformanceEntries=[],this._clearContext(),this._context.initialUrl=n,this._context.initialTimestamp=Date.now(),this._context.urls.push(n)}throttledAddEvent(t,n){const r=this._throttledAddEvent(t,n);if(r===T9){const i=ko({category:"replay.throttled"});this.addUpdate(()=>!r_(this,{type:FU,timestamp:i.timestamp||0,data:{tag:"breadcrumb",payload:i,metric:!0}}))}return r}getCurrentRoute(){const t=this.lastActiveSpan||zr(),n=t&&Wr(t),i=(n&&gn(n).data||{})[Co];if(!(!n||!i||!["route","custom"].includes(i)))return gn(n).description}_initializeRecording(){this.setInitialState(),this._updateSessionActivity(),this.eventBuffer=kH({useCompression:this._options.useCompression,workerUrl:this._options.workerUrl}),this._removeListeners(),this._addListeners(),this._isEnabled=!0,this._isPaused=!1,this.startRecording()}_initializeSessionForSampling(t){const n=this._options.errorSampleRate>0,r=lx({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,previousSessionId:t},{stickySession:this._options.stickySession,sessionSampleRate:this._options.sessionSampleRate,allowBuffering:n});this.session=r}_checkSession(){if(!this.session)return!1;const t=this.session;return h9(t,{sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration})?(this._refreshSession(t),!1):!0}async _refreshSession(t){this._isEnabled&&(await this.stop({reason:"refresh session"}),this.initializeSampling(t.id))}_addListeners(){try{On.document.addEventListener("visibilitychange",this._handleVisibilityChange),On.addEventListener("blur",this._handleWindowBlur),On.addEventListener("focus",this._handleWindowFocus),On.addEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.addListeners(),this._hasInitializedCoreListeners||(kW(this),this._hasInitializedCoreListeners=!0)}catch(t){this.handleException(t)}this._performanceCleanupCallback=vH(this)}_removeListeners(){try{On.document.removeEventListener("visibilitychange",this._handleVisibilityChange),On.removeEventListener("blur",this._handleWindowBlur),On.removeEventListener("focus",this._handleWindowFocus),On.removeEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.removeListeners(),this._performanceCleanupCallback&&this._performanceCleanupCallback()}catch(t){this.handleException(t)}}__init(){this._handleVisibilityChange=()=>{On.document.visibilityState==="visible"?this._doChangeToForegroundTasks():this._doChangeToBackgroundTasks()}}__init2(){this._handleWindowBlur=()=>{const t=ko({category:"ui.blur"});this._doChangeToBackgroundTasks(t)}}__init3(){this._handleWindowFocus=()=>{const t=ko({category:"ui.focus"});this._doChangeToForegroundTasks(t)}}__init4(){this._handleKeyboardEvent=t=>{iH(this,t)}}_doChangeToBackgroundTasks(t){!this.session||f9(this.session,{maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire})||(t&&this._createCustomBreadcrumb(t),this.conditionalFlush())}_doChangeToForegroundTasks(t){if(!this.session)return;if(!this.checkAndHandleExpiredSession()){yt&&bt.info("Document has become active, but session has expired");return}t&&this._createCustomBreadcrumb(t)}_updateUserActivity(t=Date.now()){this._lastActivity=t}_updateSessionActivity(t=Date.now()){this.session&&(this.session.lastActivity=t,this._maybeSaveSession())}_createCustomBreadcrumb(t){this.addUpdate(()=>{this.throttledAddEvent({type:Wt.Custom,timestamp:t.timestamp||0,data:{tag:"breadcrumb",payload:t}})})}_addPerformanceEntries(){let t=lH(this.performanceEntries).concat(this.replayPerformanceEntries);if(this.performanceEntries=[],this.replayPerformanceEntries=[],this._requiresManualStart){const n=this._context.initialTimestamp/1e3;t=t.filter(r=>r.start>=n)}return Promise.all(jy(this,t))}_clearContext(){this._context.errorIds.clear(),this._context.traceIds.clear(),this._context.urls=[]}_updateInitialTimestampFromEventBuffer(){const{session:t,eventBuffer:n}=this;if(!t||!n||this._requiresManualStart||t.segmentId)return;const r=n.getEarliestTimestamp();r&&r<this._context.initialTimestamp&&(this._context.initialTimestamp=r)}_popEventContext(){const t={initialTimestamp:this._context.initialTimestamp,initialUrl:this._context.initialUrl,errorIds:Array.from(this._context.errorIds),traceIds:Array.from(this._context.traceIds),urls:this._context.urls};return this._clearContext(),t}async _runFlush(){const t=this.getSessionId();if(!this.session||!this.eventBuffer||!t){yt&&bt.error("No session or eventBuffer found to flush.");return}if(await this._addPerformanceEntries(),!(!this.eventBuffer||!this.eventBuffer.hasEvents)&&(await EW(this),!!this.eventBuffer&&t===this.getSessionId()))try{this._updateInitialTimestampFromEventBuffer();const n=Date.now();if(n-this._context.initialTimestamp>this._options.maxReplayDuration+3e4)throw new Error("Session is too long, not sending replay");const r=this._popEventContext(),i=this.session.segmentId++;this._maybeSaveSession();const s=await this.eventBuffer.finish();await E9({replayId:t,recordingData:s,segmentId:i,eventContext:r,session:this.session,timestamp:n,onError:o=>this.handleException(o)})}catch(n){this.handleException(n),this.stop({reason:"sendReplay"});const r=en();if(r){const i=n instanceof s_?"ratelimit_backoff":"send_error";r.recordDroppedEvent(i,"replay")}}}__init5(){this._flush=async({force:t=!1}={})=>{if(!this._isEnabled&&!t)return;if(!this.checkAndHandleExpiredSession()){yt&&bt.error("Attempting to finish replay event after session expired.");return}if(!this.session)return;const n=this.session.started,i=Date.now()-n;this._debouncedFlush.cancel();const s=i<this._options.minReplayDuration,o=i>this._options.maxReplayDuration+5e3;if(s||o){yt&&bt.info(`Session duration (${Math.floor(i/1e3)}s) is too ${s?"short":"long"}, not sending replay.`),s&&this._debouncedFlush();return}const a=this.eventBuffer;a&&this.session.segmentId===0&&!a.hasCheckout&&yt&&bt.info("Flushing initial segment without checkout.");const l=!!this._flushLock;this._flushLock||(this._flushLock=this._runFlush());try{await this._flushLock}catch(c){this.handleException(c)}finally{this._flushLock=void 0,l&&this._debouncedFlush()}}}_maybeSaveSession(){this.session&&this._options.stickySession&&n_(this.session)}__init6(){this._onMutationHandler=t=>{const n=t.length,r=this._options.mutationLimit,i=this._options.mutationBreadcrumbLimit,s=r&&n>r;if(n>i||s){const o=ko({category:"replay.mutations",data:{count:n,limit:s}});this._createCustomBreadcrumb(o)}return s?(this.stop({reason:"mutationLimit",forceFlush:this.recordingMode==="session"}),!1):!0}}}function Xf(e,t){return[...e,...t].join(",")}function BW({mask:e,unmask:t,block:n,unblock:r,ignore:i}){const s=["base","iframe[srcdoc]:not([src])"],o=Xf(e,[".sentry-mask","[data-sentry-mask]"]),a=Xf(t,[]);return{maskTextSelector:o,unmaskTextSelector:a,blockSelector:Xf(n,[".sentry-block","[data-sentry-block]",...s]),unblockSelector:Xf(r,[]),ignoreSelector:Xf(i,[".sentry-ignore","[data-sentry-ignore]",'input[type="file"]'])}}function zW({el:e,key:t,maskAttributes:n,maskAllText:r,privacyOptions:i,value:s}){return!r||i.unmaskTextSelector&&e.matches(i.unmaskTextSelector)?s:n.includes(t)||t==="value"&&e.tagName==="INPUT"&&["submit","button"].includes(e.getAttribute("type")||"")?s.replace(/[\S]/g,"*"):s}const x4='img,image,svg,video,object,picture,embed,map,audio,link[rel="icon"],link[rel="apple-touch-icon"]',$W=["content-length","content-type","accept"];let b4=!1;const UW=e=>new Ny(e);class Ny{static __initStatic(){this.id="Replay"}constructor({flushMinDelay:t=y$,flushMaxDelay:n=v$,minReplayDuration:r=C$,maxReplayDuration:i=JC,stickySession:s=!0,useCompression:o=!0,workerUrl:a,_experiments:l={},maskAllText:c=!0,maskAllInputs:f=!0,blockAllMedia:p=!0,mutationBreadcrumbLimit:g=750,mutationLimit:y=1e4,slowClickTimeout:b=7e3,slowClickIgnoreSelectors:_=[],networkDetailAllowUrls:C=[],networkDetailDenyUrls:k=[],networkCaptureBodies:P=!0,networkRequestHeaders:O=[],networkResponseHeaders:$=[],mask:B=[],maskAttributes:j=["title","placeholder"],unmask:M=[],block:U=[],unblock:z=[],ignore:D=[],maskFn:ee,beforeAddRecordingEvent:J,beforeErrorSampling:re,onError:q}={}){this.name=Ny.id;const V=BW({mask:B,unmask:M,block:U,unblock:z,ignore:D});if(this._recordingOptions={maskAllInputs:f,maskAllText:c,maskInputOptions:{password:!0},maskTextFn:ee,maskInputFn:ee,maskAttributeFn:(Q,ne,Z)=>zW({maskAttributes:j,maskAllText:c,privacyOptions:V,key:Q,value:ne,el:Z}),...V,slimDOMOptions:"all",inlineStylesheet:!0,inlineImages:!1,collectFonts:!0,errorHandler:Q=>{try{Q.__rrweb__=!0}catch{}}},this._initialOptions={flushMinDelay:t,flushMaxDelay:n,minReplayDuration:Math.min(r,k$),maxReplayDuration:Math.min(i,JC),stickySession:s,useCompression:o,workerUrl:a,blockAllMedia:p,maskAllInputs:f,maskAllText:c,mutationBreadcrumbLimit:g,mutationLimit:y,slowClickTimeout:b,slowClickIgnoreSelectors:_,networkDetailAllowUrls:C,networkDetailDenyUrls:k,networkCaptureBodies:P,networkRequestHeaders:w4(O),networkResponseHeaders:w4($),beforeAddRecordingEvent:J,beforeErrorSampling:re,onError:q,_experiments:l},this._initialOptions.blockAllMedia&&(this._recordingOptions.blockSelector=this._recordingOptions.blockSelector?`${this._recordingOptions.blockSelector},${x4}`:x4),this._isInitialized&&UC())throw new Error("Multiple Sentry Session Replay instances are not supported");this._isInitialized=!0}get _isInitialized(){return b4}set _isInitialized(t){b4=t}afterAllSetup(t){!UC()||this._replay||(this._setup(t),this._initialize(t))}start(){this._replay&&this._replay.start()}startBuffering(){this._replay&&this._replay.startBuffering()}stop(){return this._replay?this._replay.stop({forceFlush:this._replay.recordingMode==="session"}):Promise.resolve()}flush(t){return this._replay?this._replay.isEnabled()?this._replay.sendBufferedReplayOrFlush(t):(this._replay.start(),Promise.resolve()):Promise.resolve()}getReplayId(){if(!(!this._replay||!this._replay.isEnabled()))return this._replay.getSessionId()}getRecordingMode(){if(!(!this._replay||!this._replay.isEnabled()))return this._replay.recordingMode}_initialize(t){this._replay&&(this._maybeLoadFromReplayCanvasIntegration(t),this._replay.initializeSampling())}_setup(t){const n=HW(this._initialOptions,t);this._replay=new rl({options:n,recordingOptions:this._recordingOptions})}_maybeLoadFromReplayCanvasIntegration(t){try{const n=t.getIntegrationByName("ReplayCanvas");if(!n)return;this._replay._canvas=n.getOptions()}catch{}}}Ny.__initStatic();function HW(e,t){const n=t.getOptions(),r={sessionSampleRate:0,errorSampleRate:0,...kr(e)},i=C0(n.replaysSessionSampleRate),s=C0(n.replaysOnErrorSampleRate);return i==null&&s==null&&Nl(()=>{console.warn("Replay is disabled because neither `replaysSessionSampleRate` nor `replaysOnErrorSampleRate` are set.")}),i!=null&&(r.sessionSampleRate=i),s!=null&&(r.errorSampleRate=s),r}function w4(e){return[...$W,...e.map(t=>t.toLowerCase())]}const _4=new WeakMap,ux=new Map,l0={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0,trackFetchStreamPerformance:!1};function WW(e,t){const{traceFetch:n,traceXHR:r,trackFetchStreamPerformance:i,shouldCreateSpanForRequest:s,enableHTTPTimings:o,tracePropagationTargets:a}={traceFetch:l0.traceFetch,traceXHR:l0.traceXHR,trackFetchStreamPerformance:l0.trackFetchStreamPerformance,...t},l=typeof s=="function"?s:p=>!0,c=p=>QW(p,a),f={};n&&(e.addEventProcessor(p=>(p.type==="transaction"&&p.spans&&p.spans.forEach(g=>{if(g.op==="http.client"){const y=ux.get(g.span_id);y&&(g.timestamp=y/1e3,ux.delete(g.span_id))}}),p)),i&&MF(p=>{if(p.response){const g=_4.get(p.response);g&&p.endTimestamp&&ux.set(g,p.endTimestamp)}}),pT(p=>{const g=TF(p,l,c,f);if(p.response&&p.fetchData.__span&&_4.set(p.response,p.fetchData.__span),g){const y=j9(p.fetchData.url),b=y?Du(y).host:void 0;g.setAttributes({"http.url":y,"server.address":b})}o&&g&&S4(g)})),r&&MT(p=>{const g=KW(p,l,c,f);o&&g&&S4(g)})}function VW(e){return e.entryType==="resource"&&"initiatorType"in e&&typeof e.nextHopProtocol=="string"&&(e.initiatorType==="fetch"||e.initiatorType==="xmlhttprequest")}function S4(e){const{url:t}=gn(e).data||{};if(!t||typeof t!="string")return;const n=Bd("resource",({entries:r})=>{r.forEach(i=>{VW(i)&&i.name.endsWith(t)&&(qW(i).forEach(o=>e.setAttribute(...o)),setTimeout(n))})})}function bo(e=0){return((wi||performance.timeOrigin)+e)/1e3}function qW(e){const{name:t,version:n}=PT(e.nextHopProtocol),r=[];return r.push(["network.protocol.version",n],["network.protocol.name",t]),wi?[...r,["http.request.redirect_start",bo(e.redirectStart)],["http.request.fetch_start",bo(e.fetchStart)],["http.request.domain_lookup_start",bo(e.domainLookupStart)],["http.request.domain_lookup_end",bo(e.domainLookupEnd)],["http.request.connect_start",bo(e.connectStart)],["http.request.secure_connection_start",bo(e.secureConnectionStart)],["http.request.connection_end",bo(e.connectEnd)],["http.request.request_start",bo(e.requestStart)],["http.request.response_start",bo(e.responseStart)],["http.request.response_end",bo(e.responseEnd)]]:r}function QW(e,t){const n=It.location&&It.location.href;if(n){let r,i;try{r=new URL(e,n),i=new URL(n).origin}catch{return!1}const s=r.origin===i;return t?dl(r.toString(),t)||s&&dl(r.pathname,t):s}else{const r=!!e.match(/^\/(?!\/)/);return t?dl(e,t):r}}function KW(e,t,n,r){const i=e.xhr,s=i&&i[Iu];if(!i||i.__sentry_own_request__||!s)return;const o=xl()&&t(s.url);if(e.endTimestamp&&o){const p=i.__sentry_xhr_span_id__;if(!p)return;const g=r[p];g&&s.status_code!==void 0&&(N7(g,s.status_code),g.end(),delete r[p]);return}const a=j9(s.url),l=a?Du(a).host:void 0,c=!!zr(),f=o&&c?yp({name:`${s.method} ${s.url}`,attributes:{type:"xhr","http.method":s.method,"http.url":a,url:s.url,"server.address":l,[Fr]:"auto.http.browser",[Wu]:"http.client"}}):new ef;return i.__sentry_xhr_span_id__=f.spanContext().spanId,r[i.__sentry_xhr_span_id__]=f,n(s.url)&&GW(i,xl()&&c?f:void 0),f}function GW(e,t){const{"sentry-trace":n,baggage:r}=lT({span:t});n&&YW(e,n,r)}function YW(e,t,n){try{e.setRequestHeader("sentry-trace",t),n&&e.setRequestHeader("baggage",n)}catch{}}function j9(e){try{return new URL(e,It.location.origin).href}catch{return}}function XW(){It&&It.document?It.document.addEventListener("visibilitychange",()=>{const e=zr();if(!e)return;const t=Wr(e);if(It.document.hidden&&t){const n="cancelled",{op:r,status:i}=gn(t);Io&&Ge.log(`[Tracing] Transaction: ${n} -> since tab moved to the background, op: ${r}`),i||t.setStatus({code:Ar,message:n}),t.setAttribute("sentry.cancellation_reason","document.hidden"),t.end()}}):Io&&Ge.warn("[Tracing] Could not set up background tab detection due to lack of global document")}const JW="BrowserTracing",ZW={...r0,instrumentNavigation:!0,instrumentPageLoad:!0,markBackgroundSpan:!0,enableLongTask:!0,enableLongAnimationFrame:!0,enableInp:!0,_experiments:{},...l0},eV=(e={})=>{TD();const{enableInp:t,enableLongTask:n,enableLongAnimationFrame:r,_experiments:{enableInteractions:i,enableStandaloneClsSpans:s},beforeStartSpan:o,idleTimeout:a,finalTimeout:l,childSpanTimeout:c,markBackgroundSpan:f,traceFetch:p,traceXHR:g,trackFetchStreamPerformance:y,shouldCreateSpanForRequest:b,enableHTTPTimings:_,instrumentPageLoad:C,instrumentNavigation:k}={...ZW,...e},P=HB({recordClsStandaloneSpans:s||!1});t&&pz(),r&&rn.PerformanceObserver&&PerformanceObserver.supportedEntryTypes&&PerformanceObserver.supportedEntryTypes.includes("long-animation-frame")?VB():n&&WB(),i&&qB();const O={name:void 0,source:void 0};function $(B,j){const M=j.op==="pageload",U=o?o(j):j,z=U.attributes||{};j.name!==U.name&&(z[Co]="custom",U.attributes=z),O.name=U.name,O.source=z[Co];const D=Y7(U,{idleTimeout:a,finalTimeout:l,childSpanTimeout:c,disableAutoFinish:M,beforeSpanEnd:J=>{P(),XB(J,{recordClsOnPageloadSpan:!s})}});function ee(){["interactive","complete"].includes(It.document.readyState)&&B.emit("idleSpanEnableAutoFinish",D)}return M&&It.document&&(It.document.addEventListener("readystatechange",()=>{ee()}),ee()),D}return{name:JW,afterAllSetup(B){let j,M=It.location&&It.location.href;function U(){j&&!gn(j).timestamp&&(Io&&Ge.log(`[Tracing] Finishing current active span with op: ${gn(j).op}`),j.end())}B.on("startNavigationSpan",z=>{en()===B&&(U(),j=$(B,{op:"navigation",...z}))}),B.on("startPageLoadSpan",(z,D={})=>{if(en()!==B)return;U();const ee=D.sentryTrace||C4("sentry-trace"),J=D.baggage||C4("baggage"),re=bD(ee,J);Dn().setPropagationContext(re),j=$(B,{op:"pageload",...z})}),B.on("spanEnd",z=>{const D=gn(z).op;if(z!==Wr(z)||D!=="navigation"&&D!=="pageload")return;const ee=Dn(),J=ee.getPropagationContext();ee.setPropagationContext({...J,sampled:J.sampled!==void 0?J.sampled:ec(z),dsc:J.dsc||tc(z)})}),It.location&&(C&&tV(B,{name:It.location.pathname,startTime:wi?wi/1e3:void 0,attributes:{[Co]:"url",[Fr]:"auto.pageload.browser"}}),k&&Sy(({to:z,from:D})=>{if(D===void 0&&M&&M.indexOf(z)!==-1){M=void 0;return}D!==z&&(M=void 0,nV(B,{name:It.location.pathname,attributes:{[Co]:"url",[Fr]:"auto.navigation.browser"}}))})),f&&XW(),i&&rV(a,l,c,O),t&&gz(),WW(B,{traceFetch:p,traceXHR:g,trackFetchStreamPerformance:y,tracePropagationTargets:B.getOptions().tracePropagationTargets,shouldCreateSpanForRequest:b,enableHTTPTimings:_})}}};function tV(e,t,n){e.emit("startPageLoadSpan",t,n),Dn().setTransactionName(t.name);const r=zr();return(r&&gn(r).op)==="pageload"?r:void 0}function nV(e,t){uo().setPropagationContext({traceId:gl()}),Dn().setPropagationContext({traceId:gl()}),e.emit("startNavigationSpan",t),Dn().setTransactionName(t.name);const n=zr();return(n&&gn(n).op)==="navigation"?n:void 0}function C4(e){const t=qA(`meta[name=${e}]`);return t?t.getAttribute("content"):void 0}function rV(e,t,n,r){let i;const s=()=>{const o="ui.action.click",a=zr(),l=a&&Wr(a);if(l){const c=gn(l).op;if(["navigation","pageload"].includes(c)){Io&&Ge.warn(`[Tracing] Did not create ${o} span because a pageload or navigation span is in progress.`);return}}if(i&&(i.setAttribute(Mb,"interactionInterrupted"),i.end(),i=void 0),!r.name){Io&&Ge.warn(`[Tracing] Did not create ${o} transaction because _latestRouteName is missing.`);return}i=Y7({name:r.name,op:o,attributes:{[Co]:r.source||"url"}},{idleTimeout:e,finalTimeout:t,childSpanTimeout:n})};It.document&&addEventListener("click",s,{once:!1,capture:!0})}function iV(e){const t={...e};return aT(t,"react"),Z7("react",{version:I.version}),h$(t)}const sV={initialize(){iV({dsn:"https://e9f254e66aacba9bfb5a6901063e0009@o4508692782907392.ingest.us.sentry.io/4508782708326400",integrations:[eV(),UW()],tracesSampleRate:1,tracePropagationTargets:[/^https:\/\/www.allcll\.kr/,/^https:\/\/allcll\.kr/],replaysSessionSampleRate:.01,replaysOnErrorSampleRate:1})}};var cx={exports:{}},dx,k4;function oV(){if(k4)return dx;k4=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return dx=e,dx}var fx,E4;function aV(){if(E4)return fx;E4=1;var e=oV();function t(){}function n(){}return n.resetWarningCache=t,fx=function(){function r(o,a,l,c,f,p){if(p!==e){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}r.isRequired=r;function i(){return r}var s={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:t};return s.PropTypes=s,s},fx}var T4;function lV(){return T4||(T4=1,cx.exports=aV()()),cx.exports}var uV=lV();const Bt=Vi(uV);var hx,j4;function cV(){if(j4)return hx;j4=1;function e(a){return a&&typeof a=="object"&&"default"in a?a.default:a}var t=cy(),n=e(t);function r(a,l,c){return l in a?Object.defineProperty(a,l,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[l]=c,a}function i(a,l){a.prototype=Object.create(l.prototype),a.prototype.constructor=a,a.__proto__=l}var s=!!(typeof window<"u"&&window.document&&window.document.createElement);function o(a,l,c){if(typeof a!="function")throw new Error("Expected reducePropsToState to be a function.");if(typeof l!="function")throw new Error("Expected handleStateChangeOnClient to be a function.");if(typeof c<"u"&&typeof c!="function")throw new Error("Expected mapStateOnServer to either be undefined or a function.");function f(p){return p.displayName||p.name||"Component"}return function(g){if(typeof g!="function")throw new Error("Expected WrappedComponent to be a React component.");var y=[],b;function _(){b=a(y.map(function(k){return k.props})),C.canUseDOM?l(b):c&&(b=c(b))}var C=function(k){i(P,k);function P(){return k.apply(this,arguments)||this}P.peek=function(){return b},P.rewind=function(){if(P.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var B=b;return b=void 0,y=[],B};var O=P.prototype;return O.UNSAFE_componentWillMount=function(){y.push(this),_()},O.componentDidUpdate=function(){_()},O.componentWillUnmount=function(){var B=y.indexOf(this);y.splice(B,1),_()},O.render=function(){return n.createElement(g,this.props)},P}(t.PureComponent);return r(C,"displayName","SideEffect("+f(g)+")"),r(C,"canUseDOM",s),C}}return hx=o,hx}var dV=cV();const fV=Vi(dV);var px,I4;function hV(){if(I4)return px;I4=1;var e=typeof Element<"u",t=typeof Map=="function",n=typeof Set=="function",r=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function i(s,o){if(s===o)return!0;if(s&&o&&typeof s=="object"&&typeof o=="object"){if(s.constructor!==o.constructor)return!1;var a,l,c;if(Array.isArray(s)){if(a=s.length,a!=o.length)return!1;for(l=a;l--!==0;)if(!i(s[l],o[l]))return!1;return!0}var f;if(t&&s instanceof Map&&o instanceof Map){if(s.size!==o.size)return!1;for(f=s.entries();!(l=f.next()).done;)if(!o.has(l.value[0]))return!1;for(f=s.entries();!(l=f.next()).done;)if(!i(l.value[1],o.get(l.value[0])))return!1;return!0}if(n&&s instanceof Set&&o instanceof Set){if(s.size!==o.size)return!1;for(f=s.entries();!(l=f.next()).done;)if(!o.has(l.value[0]))return!1;return!0}if(r&&ArrayBuffer.isView(s)&&ArrayBuffer.isView(o)){if(a=s.length,a!=o.length)return!1;for(l=a;l--!==0;)if(s[l]!==o[l])return!1;return!0}if(s.constructor===RegExp)return s.source===o.source&&s.flags===o.flags;if(s.valueOf!==Object.prototype.valueOf&&typeof s.valueOf=="function"&&typeof o.valueOf=="function")return s.valueOf()===o.valueOf();if(s.toString!==Object.prototype.toString&&typeof s.toString=="function"&&typeof o.toString=="function")return s.toString()===o.toString();if(c=Object.keys(s),a=c.length,a!==Object.keys(o).length)return!1;for(l=a;l--!==0;)if(!Object.prototype.hasOwnProperty.call(o,c[l]))return!1;if(e&&s instanceof Element)return!1;for(l=a;l--!==0;)if(!((c[l]==="_owner"||c[l]==="__v"||c[l]==="__o")&&s.$$typeof)&&!i(s[c[l]],o[c[l]]))return!1;return!0}return s!==s&&o!==o}return px=function(o,a){try{return i(o,a)}catch(l){if((l.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw l}},px}var pV=hV();const mV=Vi(pV);/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var mx,N4;function gV(){if(N4)return mx;N4=1;var e=Object.getOwnPropertySymbols,t=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable;function r(s){if(s==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(s)}function i(){try{if(!Object.assign)return!1;var s=new String("abc");if(s[5]="de",Object.getOwnPropertyNames(s)[0]==="5")return!1;for(var o={},a=0;a<10;a++)o["_"+String.fromCharCode(a)]=a;var l=Object.getOwnPropertyNames(o).map(function(f){return o[f]});if(l.join("")!=="0123456789")return!1;var c={};return"abcdefghijklmnopqrst".split("").forEach(function(f){c[f]=f}),Object.keys(Object.assign({},c)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}return mx=i()?Object.assign:function(s,o){for(var a,l=r(s),c,f=1;f<arguments.length;f++){a=Object(arguments[f]);for(var p in a)t.call(a,p)&&(l[p]=a[p]);if(e){c=e(a);for(var g=0;g<c.length;g++)n.call(a,c[g])&&(l[c[g]]=a[c[g]])}}return l},mx}var yV=gV();const vV=Vi(yV);var Lu={BODY:"bodyAttributes",HTML:"htmlAttributes",TITLE:"titleAttributes"},jt={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"};Object.keys(jt).map(function(e){return jt[e]});var Wn={CHARSET:"charset",CSS_TEXT:"cssText",HREF:"href",HTTPEQUIV:"http-equiv",INNER_HTML:"innerHTML",ITEM_PROP:"itemprop",NAME:"name",PROPERTY:"property",REL:"rel",SRC:"src",TARGET:"target"},L0={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},Gh={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate"},xV=Object.keys(L0).reduce(function(e,t){return e[L0[t]]=t,e},{}),bV=[jt.NOSCRIPT,jt.SCRIPT,jt.STYLE],no="data-react-helmet",wV=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_V=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},SV=function(){function e(t,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Mi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},CV=function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},P4=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n},kV=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e},aw=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return n===!1?String(t):String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},EV=function(t){var n=Id(t,jt.TITLE),r=Id(t,Gh.TITLE_TEMPLATE);if(r&&n)return r.replace(/%s/g,function(){return Array.isArray(n)?n.join(""):n});var i=Id(t,Gh.DEFAULT_TITLE);return n||i||void 0},TV=function(t){return Id(t,Gh.ON_CHANGE_CLIENT_STATE)||function(){}},gx=function(t,n){return n.filter(function(r){return typeof r[t]<"u"}).map(function(r){return r[t]}).reduce(function(r,i){return Mi({},r,i)},{})},jV=function(t,n){return n.filter(function(r){return typeof r[jt.BASE]<"u"}).map(function(r){return r[jt.BASE]}).reverse().reduce(function(r,i){if(!r.length)for(var s=Object.keys(i),o=0;o<s.length;o++){var a=s[o],l=a.toLowerCase();if(t.indexOf(l)!==-1&&i[l])return r.concat(i)}return r},[])},Jf=function(t,n,r){var i={};return r.filter(function(s){return Array.isArray(s[t])?!0:(typeof s[t]<"u"&&RV("Helmet: "+t+' should be of type "Array". Instead found type "'+wV(s[t])+'"'),!1)}).map(function(s){return s[t]}).reverse().reduce(function(s,o){var a={};o.filter(function(g){for(var y=void 0,b=Object.keys(g),_=0;_<b.length;_++){var C=b[_],k=C.toLowerCase();n.indexOf(k)!==-1&&!(y===Wn.REL&&g[y].toLowerCase()==="canonical")&&!(k===Wn.REL&&g[k].toLowerCase()==="stylesheet")&&(y=k),n.indexOf(C)!==-1&&(C===Wn.INNER_HTML||C===Wn.CSS_TEXT||C===Wn.ITEM_PROP)&&(y=C)}if(!y||!g[y])return!1;var P=g[y].toLowerCase();return i[y]||(i[y]={}),a[y]||(a[y]={}),i[y][P]?!1:(a[y][P]=!0,!0)}).reverse().forEach(function(g){return s.push(g)});for(var l=Object.keys(a),c=0;c<l.length;c++){var f=l[c],p=vV({},i[f],a[f]);i[f]=p}return s},[]).reverse()},Id=function(t,n){for(var r=t.length-1;r>=0;r--){var i=t[r];if(i.hasOwnProperty(n))return i[n]}return null},IV=function(t){return{baseTag:jV([Wn.HREF,Wn.TARGET],t),bodyAttributes:gx(Lu.BODY,t),defer:Id(t,Gh.DEFER),encode:Id(t,Gh.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:gx(Lu.HTML,t),linkTags:Jf(jt.LINK,[Wn.REL,Wn.HREF],t),metaTags:Jf(jt.META,[Wn.NAME,Wn.CHARSET,Wn.HTTPEQUIV,Wn.PROPERTY,Wn.ITEM_PROP],t),noscriptTags:Jf(jt.NOSCRIPT,[Wn.INNER_HTML],t),onChangeClientState:TV(t),scriptTags:Jf(jt.SCRIPT,[Wn.SRC,Wn.INNER_HTML],t),styleTags:Jf(jt.STYLE,[Wn.CSS_TEXT],t),title:EV(t),titleAttributes:gx(Lu.TITLE,t)}},lw=function(){var e=Date.now();return function(t){var n=Date.now();n-e>16?(e=n,t(n)):setTimeout(function(){lw(t)},0)}}(),R4=function(t){return clearTimeout(t)},NV=typeof window<"u"?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||lw:global.requestAnimationFrame||lw,PV=typeof window<"u"?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||R4:global.cancelAnimationFrame||R4,RV=function(t){return console&&typeof console.warn=="function"&&console.warn(t)},Zf=null,OV=function(t){Zf&&PV(Zf),t.defer?Zf=NV(function(){O4(t,function(){Zf=null})}):(O4(t),Zf=null)},O4=function(t,n){var r=t.baseTag,i=t.bodyAttributes,s=t.htmlAttributes,o=t.linkTags,a=t.metaTags,l=t.noscriptTags,c=t.onChangeClientState,f=t.scriptTags,p=t.styleTags,g=t.title,y=t.titleAttributes;uw(jt.BODY,i),uw(jt.HTML,s),MV(g,y);var b={baseTag:Qc(jt.BASE,r),linkTags:Qc(jt.LINK,o),metaTags:Qc(jt.META,a),noscriptTags:Qc(jt.NOSCRIPT,l),scriptTags:Qc(jt.SCRIPT,f),styleTags:Qc(jt.STYLE,p)},_={},C={};Object.keys(b).forEach(function(k){var P=b[k],O=P.newTags,$=P.oldTags;O.length&&(_[k]=O),$.length&&(C[k]=b[k].oldTags)}),n&&n(),c(t,_,C)},I9=function(t){return Array.isArray(t)?t.join(""):t},MV=function(t,n){typeof t<"u"&&document.title!==t&&(document.title=I9(t)),uw(jt.TITLE,n)},uw=function(t,n){var r=document.getElementsByTagName(t)[0];if(r){for(var i=r.getAttribute(no),s=i?i.split(","):[],o=[].concat(s),a=Object.keys(n),l=0;l<a.length;l++){var c=a[l],f=n[c]||"";r.getAttribute(c)!==f&&r.setAttribute(c,f),s.indexOf(c)===-1&&s.push(c);var p=o.indexOf(c);p!==-1&&o.splice(p,1)}for(var g=o.length-1;g>=0;g--)r.removeAttribute(o[g]);s.length===o.length?r.removeAttribute(no):r.getAttribute(no)!==a.join(",")&&r.setAttribute(no,a.join(","))}},Qc=function(t,n){var r=document.head||document.querySelector(jt.HEAD),i=r.querySelectorAll(t+"["+no+"]"),s=Array.prototype.slice.call(i),o=[],a=void 0;return n&&n.length&&n.forEach(function(l){var c=document.createElement(t);for(var f in l)if(l.hasOwnProperty(f))if(f===Wn.INNER_HTML)c.innerHTML=l.innerHTML;else if(f===Wn.CSS_TEXT)c.styleSheet?c.styleSheet.cssText=l.cssText:c.appendChild(document.createTextNode(l.cssText));else{var p=typeof l[f]>"u"?"":l[f];c.setAttribute(f,p)}c.setAttribute(no,"true"),s.some(function(g,y){return a=y,c.isEqualNode(g)})?s.splice(a,1):o.push(c)}),s.forEach(function(l){return l.parentNode.removeChild(l)}),o.forEach(function(l){return r.appendChild(l)}),{oldTags:s,newTags:o}},N9=function(t){return Object.keys(t).reduce(function(n,r){var i=typeof t[r]<"u"?r+'="'+t[r]+'"':""+r;return n?n+" "+i:i},"")},AV=function(t,n,r,i){var s=N9(r),o=I9(n);return s?"<"+t+" "+no+'="true" '+s+">"+aw(o,i)+"</"+t+">":"<"+t+" "+no+'="true">'+aw(o,i)+"</"+t+">"},DV=function(t,n,r){return n.reduce(function(i,s){var o=Object.keys(s).filter(function(c){return!(c===Wn.INNER_HTML||c===Wn.CSS_TEXT)}).reduce(function(c,f){var p=typeof s[f]>"u"?f:f+'="'+aw(s[f],r)+'"';return c?c+" "+p:p},""),a=s.innerHTML||s.cssText||"",l=bV.indexOf(t)===-1;return i+"<"+t+" "+no+'="true" '+o+(l?"/>":">"+a+"</"+t+">")},"")},P9=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(t).reduce(function(r,i){return r[L0[i]||i]=t[i],r},n)},LV=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(t).reduce(function(r,i){return r[xV[i]||i]=t[i],r},n)},FV=function(t,n,r){var i,s=(i={key:n},i[no]=!0,i),o=P9(r,s);return[Sn.createElement(jt.TITLE,o,n)]},BV=function(t,n){return n.map(function(r,i){var s,o=(s={key:i},s[no]=!0,s);return Object.keys(r).forEach(function(a){var l=L0[a]||a;if(l===Wn.INNER_HTML||l===Wn.CSS_TEXT){var c=r.innerHTML||r.cssText;o.dangerouslySetInnerHTML={__html:c}}else o[l]=r[a]}),Sn.createElement(t,o)})},Yo=function(t,n,r){switch(t){case jt.TITLE:return{toComponent:function(){return FV(t,n.title,n.titleAttributes)},toString:function(){return AV(t,n.title,n.titleAttributes,r)}};case Lu.BODY:case Lu.HTML:return{toComponent:function(){return P9(n)},toString:function(){return N9(n)}};default:return{toComponent:function(){return BV(t,n)},toString:function(){return DV(t,n,r)}}}},R9=function(t){var n=t.baseTag,r=t.bodyAttributes,i=t.encode,s=t.htmlAttributes,o=t.linkTags,a=t.metaTags,l=t.noscriptTags,c=t.scriptTags,f=t.styleTags,p=t.title,g=p===void 0?"":p,y=t.titleAttributes;return{base:Yo(jt.BASE,n,i),bodyAttributes:Yo(Lu.BODY,r,i),htmlAttributes:Yo(Lu.HTML,s,i),link:Yo(jt.LINK,o,i),meta:Yo(jt.META,a,i),noscript:Yo(jt.NOSCRIPT,l,i),script:Yo(jt.SCRIPT,c,i),style:Yo(jt.STYLE,f,i),title:Yo(jt.TITLE,{title:g,titleAttributes:y},i)}},zV=function(t){var n,r;return r=n=function(i){CV(s,i);function s(){return _V(this,s),kV(this,i.apply(this,arguments))}return s.prototype.shouldComponentUpdate=function(a){return!mV(this.props,a)},s.prototype.mapNestedChildrenToProps=function(a,l){if(!l)return null;switch(a.type){case jt.SCRIPT:case jt.NOSCRIPT:return{innerHTML:l};case jt.STYLE:return{cssText:l}}throw new Error("<"+a.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},s.prototype.flattenArrayTypeChildren=function(a){var l,c=a.child,f=a.arrayTypeChildren,p=a.newChildProps,g=a.nestedChildren;return Mi({},f,(l={},l[c.type]=[].concat(f[c.type]||[],[Mi({},p,this.mapNestedChildrenToProps(c,g))]),l))},s.prototype.mapObjectTypeChildren=function(a){var l,c,f=a.child,p=a.newProps,g=a.newChildProps,y=a.nestedChildren;switch(f.type){case jt.TITLE:return Mi({},p,(l={},l[f.type]=y,l.titleAttributes=Mi({},g),l));case jt.BODY:return Mi({},p,{bodyAttributes:Mi({},g)});case jt.HTML:return Mi({},p,{htmlAttributes:Mi({},g)})}return Mi({},p,(c={},c[f.type]=Mi({},g),c))},s.prototype.mapArrayTypeChildrenToProps=function(a,l){var c=Mi({},l);return Object.keys(a).forEach(function(f){var p;c=Mi({},c,(p={},p[f]=a[f],p))}),c},s.prototype.warnOnInvalidChildren=function(a,l){return!0},s.prototype.mapChildrenToProps=function(a,l){var c=this,f={};return Sn.Children.forEach(a,function(p){if(!(!p||!p.props)){var g=p.props,y=g.children,b=P4(g,["children"]),_=LV(b);switch(c.warnOnInvalidChildren(p,y),p.type){case jt.LINK:case jt.META:case jt.NOSCRIPT:case jt.SCRIPT:case jt.STYLE:f=c.flattenArrayTypeChildren({child:p,arrayTypeChildren:f,newChildProps:_,nestedChildren:y});break;default:l=c.mapObjectTypeChildren({child:p,newProps:l,newChildProps:_,nestedChildren:y});break}}}),l=this.mapArrayTypeChildrenToProps(f,l),l},s.prototype.render=function(){var a=this.props,l=a.children,c=P4(a,["children"]),f=Mi({},c);return l&&(f=this.mapChildrenToProps(l,f)),Sn.createElement(t,f)},SV(s,null,[{key:"canUseDOM",set:function(a){t.canUseDOM=a}}]),s}(Sn.Component),n.propTypes={base:Bt.object,bodyAttributes:Bt.object,children:Bt.oneOfType([Bt.arrayOf(Bt.node),Bt.node]),defaultTitle:Bt.string,defer:Bt.bool,encodeSpecialCharacters:Bt.bool,htmlAttributes:Bt.object,link:Bt.arrayOf(Bt.object),meta:Bt.arrayOf(Bt.object),noscript:Bt.arrayOf(Bt.object),onChangeClientState:Bt.func,script:Bt.arrayOf(Bt.object),style:Bt.arrayOf(Bt.object),title:Bt.string,titleAttributes:Bt.object,titleTemplate:Bt.string},n.defaultProps={defer:!0,encodeSpecialCharacters:!0},n.peek=t.peek,n.rewind=function(){var i=t.rewind();return i||(i=R9({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),i},r},$V=function(){return null},UV=fV(IV,OV,R9)($V),Vr=zV(UV);Vr.renderStatic=Vr.rewind;const O9=e=>I.createElement("svg",{width:240,height:240,viewBox:"0 0 240 240",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},I.createElement("path",{d:"M35.0767 27.9936C36.2709 9.99373 56.1517 -0.303892 71.5425 9.10587L213.791 96.0756C231.278 106.768 228.18 133.047 208.685 139.378L169.934 151.963L186.77 185.839C193.06 198.497 187.616 213.848 174.755 219.712L148.361 231.747C136.289 237.252 122.02 232.368 115.853 220.621L96.5356 183.827L61.2319 205.402C44.6261 215.55 23.4817 202.753 24.77 183.334L35.0767 27.9936Z",fill:"#047CFE"}),I.createElement("ellipse",{cx:81.7143,cy:99.4285,rx:9.71429,ry:13.7143,fill:"white"}),I.createElement("path",{d:"M144 99.4285C144 107.003 139.651 113.143 134.286 113.143C128.921 113.143 124.571 107.003 124.571 99.4285C124.571 91.8543 128.921 85.7142 134.286 85.7142C139.651 85.7142 144 91.8543 144 99.4285Z",fill:"white"}),I.createElement("path",{d:"M86.7687 125.246C88.6759 123.021 92.0636 122.863 94.1695 124.901L99.9237 130.47C104.528 134.926 111.74 135.226 116.699 131.169L123.261 125.8C125.281 124.147 128.239 124.354 130.009 126.272V126.272C131.991 128.419 131.682 131.81 129.344 133.563L122.999 138.322C122.524 138.678 122.024 138.999 121.502 139.281L118.258 141.039C112.227 144.305 104.944 144.254 98.9601 140.903L95.3516 138.883C94.6427 138.486 93.973 138.022 93.3515 137.499L87.3544 132.449C85.1919 130.628 84.9288 127.393 86.7687 125.246V125.246Z",fill:"white"})),HV=e=>I.createElement("svg",{id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",width:"100%",viewBox:"740 350 700 190",enableBackground:"new 0 0 1506 862",xmlSpace:"preserve",...e},I.createElement("path",{fill:"#017AFF",opacity:1,stroke:"none",d:" M766.615112,463.466736 C775.870483,435.054810 785.533081,407.176788 793.924072,378.921143 C799.456543,360.291321 821.375366,357.141083 832.881592,364.663513 C838.142395,368.102875 840.908264,372.891174 842.764648,378.570496 C853.528076,411.499817 864.314026,444.421814 875.109436,477.340668 C878.939270,489.019165 882.817444,500.681793 886.885071,512.991760 C873.401611,512.991760 860.604980,513.082825 847.814941,512.834106 C846.683838,512.812195 845.029419,510.751434 844.583618,509.333893 C842.385803,502.345581 840.389465,495.286346 838.588135,488.184601 C837.875916,485.376556 836.496521,484.498810 833.699890,484.534851 C823.536499,484.665802 813.369263,484.669006 803.205994,484.533264 C800.346008,484.495056 799.085388,485.557281 798.384705,488.289246 C796.564392,495.386353 794.554382,502.439484 792.396301,509.441223 C791.983948,510.779236 790.565674,512.800781 789.581299,512.818420 C776.821838,513.046875 764.056885,512.969788 750.549133,512.969788 C756.023682,496.088989 761.252869,479.964600 766.615112,463.466736 M816.931274,421.410614 C814.112549,431.575104 811.293823,441.739594 808.392944,452.200287 C815.599854,452.200287 821.902649,452.200287 828.658752,452.200287 C825.389221,440.483582 822.289490,429.375366 818.869080,417.118134 C817.911804,419.080017 817.519409,419.884216 816.931274,421.410614 z"}),I.createElement("path",{fill:"#017AFF",opacity:1,stroke:"none",d:" M897.499634,440.999878 C897.503479,420.519745 897.488831,400.539612 897.519775,380.559540 C897.531799,372.795044 900.376282,366.496521 907.660461,363.030640 C915.127136,359.477966 922.528442,359.846069 929.464539,364.563080 C935.259399,368.503876 937.055176,374.335907 937.048035,381.039062 C937.015198,411.841675 937.034424,442.644379 937.040466,473.447052 C937.041748,480.073792 937.052368,480.081238 943.492004,480.087067 C954.814026,480.097321 966.136658,480.028900 977.457947,480.122711 C987.208801,480.203491 993.256531,486.339630 993.423340,496.088531 C993.591736,505.931396 987.323730,512.874146 977.673828,512.951233 C959.526672,513.096191 941.377319,512.994263 923.229065,512.925903 C921.079651,512.917786 918.917908,512.564026 916.785522,512.222961 C904.801392,510.306244 898.913025,504.603821 898.202148,492.417206 C897.427734,479.139282 897.678284,465.801117 897.506409,452.488892 C897.459106,448.826477 897.499329,445.162903 897.499634,440.999878 z"}),I.createElement("path",{fill:"#017AFF",opacity:1,stroke:"none",d:" M1040.002319,513.009888 C1032.386597,512.472046 1025.194824,512.401672 1018.174561,511.268555 C1010.726318,510.066406 1006.177002,504.925751 1004.404785,497.720428 C1003.459595,493.877228 1002.968811,489.824890 1002.956421,485.864838 C1002.846130,450.709564 1002.826050,415.553650 1002.916931,380.398285 C1002.954224,365.950378 1016.559753,356.896027 1030.130249,362.060669 C1038.365479,365.194824 1042.187012,370.979767 1042.201660,380.770782 C1042.247070,411.094543 1042.204346,441.418396 1042.235718,471.742188 C1042.245239,480.981537 1041.247803,480.051331 1050.482178,480.082153 C1061.312012,480.118286 1072.142578,480.025299 1082.971680,480.121033 C1092.570557,480.205902 1098.845581,486.620514 1098.907471,496.184052 C1098.970459,505.922485 1092.541992,512.866394 1082.988037,512.962402 C1068.827148,513.104797 1054.663940,513.006042 1040.002319,513.009888 z"}),I.createElement("path",{fill:"#017AFF",opacity:1,stroke:"none",d:" M1105.599854,424.091034 C1105.678223,419.273590 1105.675537,414.939514 1105.848022,410.612366 C1106.679688,389.750092 1118.775146,372.818024 1138.406616,365.732941 C1156.549072,359.185303 1175.012329,358.583527 1193.188843,365.323273 C1198.110229,367.148071 1202.772949,370.721100 1206.466431,374.543121 C1211.164673,379.404846 1211.106934,386.678192 1207.716797,392.221375 C1204.392090,397.657684 1197.251099,400.903137 1190.883667,399.580627 C1188.301636,399.044403 1185.815430,397.977692 1183.339355,397.013916 C1175.530396,393.974335 1167.541260,392.816956 1159.379639,395.154175 C1150.777954,397.617371 1145.223511,403.980804 1145.017212,412.911163 C1144.628296,429.729340 1144.585449,446.570526 1145.007446,463.386902 C1145.269531,473.829987 1153.125732,481.281250 1163.625244,482.137146 C1171.722046,482.797241 1179.477173,481.553802 1186.986572,478.140991 C1190.366577,476.604889 1194.360962,475.323792 1197.962524,475.572998 C1209.802612,476.392456 1216.308594,490.454346 1208.927490,499.752319 C1205.559448,503.994965 1200.648315,507.757538 1195.646484,509.828613 C1174.556763,518.560974 1153.221802,518.122009 1132.727783,508.061493 C1115.403931,499.557190 1106.508057,484.852997 1105.894775,465.561035 C1105.460938,451.910522 1105.674927,438.239471 1105.599854,424.091034 z"}),I.createElement("path",{fill:"#017AFF",opacity:1,stroke:"none",d:" M1320.434326,500.172791 C1317.639038,509.503052 1313.229980,512.955139 1304.061890,512.987305 C1286.908081,513.047424 1269.753784,513.003906 1252.599731,512.992737 C1251.268433,512.991882 1249.933105,512.956604 1248.606323,512.853210 C1231.926514,511.553131 1225.143188,504.528259 1225.061279,487.516205 C1224.887939,451.543427 1224.944946,415.569183 1225.023804,379.595795 C1225.048584,368.329468 1233.036743,360.816620 1244.539917,360.809937 C1256.112671,360.803192 1264.062378,368.157135 1264.114258,379.536163 C1264.256104,410.679382 1264.172607,441.823578 1264.180786,472.967407 C1264.182617,480.081787 1264.187012,480.085663 1271.141602,480.088776 C1281.967041,480.093628 1292.792480,480.061768 1303.617798,480.102203 C1315.913452,480.148132 1322.019409,487.278107 1320.434326,500.172791 z"}),I.createElement("path",{fill:"#017AFF",opacity:1,stroke:"none",d:" M1378.000000,513.014893 C1368.192139,512.765503 1358.816406,513.130859 1349.593384,512.112854 C1337.746338,510.805237 1332.660767,505.204010 1330.947388,493.507568 C1330.538574,490.717987 1330.280029,487.878601 1330.276367,485.061737 C1330.230103,450.432434 1330.286133,415.802979 1330.212158,381.173767 C1330.194580,372.958893 1332.967651,366.428131 1340.685059,362.882050 C1348.394409,359.339600 1355.924683,359.980255 1362.863892,365.047699 C1368.391602,369.084473 1369.760742,374.936981 1369.757690,381.368835 C1369.743286,412.002502 1369.751465,442.636139 1369.756226,473.269806 C1369.757324,480.076080 1369.766113,480.079834 1376.503418,480.083557 C1387.658081,480.089752 1398.813110,480.033844 1409.967285,480.110382 C1420.152832,480.180267 1426.172729,486.207733 1426.218872,496.197205 C1426.266479,506.515289 1420.200684,512.875610 1409.966064,512.983093 C1399.478394,513.093262 1388.988770,513.012207 1378.000000,513.014893 z"})),WV=e=>I.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},I.createElement("path",{d:"M4 11.5L3.515 11.621C3.08232 11.7292 2.69821 11.9788 2.4237 12.3303C2.1492 12.6818 2.00007 13.115 2 13.561V15.438C2.00007 15.884 2.1492 16.3172 2.4237 16.6687C2.69821 17.0202 3.08232 17.2698 3.515 17.378L5.255 17.813C5.34342 17.835 5.43569 17.8366 5.52481 17.8177C5.61393 17.7987 5.69757 17.7597 5.76937 17.7036C5.84118 17.6475 5.89926 17.5758 5.93922 17.4939C5.97918 17.412 5.99997 17.3221 6 17.231V11.768C6.00001 11.6768 5.97921 11.5868 5.93919 11.5048C5.89918 11.4228 5.84099 11.351 5.76907 11.2949C5.69714 11.2388 5.61337 11.1998 5.52412 11.1809C5.43486 11.1621 5.34248 11.1638 5.254 11.186L4 11.5ZM4 11.5V11C4 8.87827 4.84285 6.84344 6.34315 5.34315C7.84344 3.84285 9.87827 3 12 3C14.1217 3 16.1566 3.84285 17.6569 5.34315C19.1571 6.84344 20 8.87827 20 11V11.5M20 11.5L20.485 11.621C20.9177 11.7292 21.3018 11.9788 21.5763 12.3303C21.8508 12.6818 21.9999 13.115 22 13.561V15.438C21.9999 15.884 21.8508 16.3172 21.5763 16.6687C21.3018 17.0202 20.9177 17.2698 20.485 17.378L20 17.5M20 11.5L18.745 11.186C18.6566 11.164 18.5643 11.1624 18.4752 11.1813C18.3861 11.2003 18.3024 11.2393 18.2306 11.2954C18.1588 11.3515 18.1007 11.4232 18.0608 11.5051C18.0208 11.587 18 11.6769 18 11.768V17.231C18 17.3221 18.0208 17.412 18.0608 17.4939C18.1007 17.5758 18.1588 17.6475 18.2306 17.7036C18.3024 17.7597 18.3861 17.7987 18.4752 17.8177C18.5643 17.8366 18.6566 17.835 18.745 17.813L20 17.5M20 17.5V18.5C20 19.0304 19.7893 19.5391 19.4142 19.9142C19.0391 20.2893 18.5304 20.5 18 20.5H15M15 20.5C15 20.1022 14.842 19.7206 14.5607 19.4393C14.2794 19.158 13.8978 19 13.5 19H10.5C10.1022 19 9.72064 19.158 9.43934 19.4393C9.15804 19.7206 9 20.1022 9 20.5C9 20.8978 9.15804 21.2794 9.43934 21.5607C9.72064 21.842 10.1022 22 10.5 22H13.5C13.8978 22 14.2794 21.842 14.5607 21.5607C14.842 21.2794 15 20.8978 15 20.5Z",stroke:"#6B7280",strokeWidth:1.5})),VV=e=>I.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},I.createElement("path",{d:"M12 3C9.61306 3 7.32388 3.94821 5.63605 5.63604C3.94822 7.32387 3.00001 9.61305 3.00001 12C3.00001 14.397 3.93501 16.573 5.46301 18.186L5.96701 18.718L4.70001 21H12C13.1819 21 14.3522 20.7672 15.4442 20.3149C16.5361 19.8626 17.5282 19.1997 18.364 18.364C19.1997 17.5282 19.8626 16.5361 20.3149 15.4442C20.7672 14.3522 21 13.1819 21 12C21 10.8181 20.7672 9.64778 20.3149 8.55585C19.8626 7.46392 19.1997 6.47177 18.364 5.63604C17.5282 4.80031 16.5361 4.13738 15.4442 3.68508C14.3522 3.23279 13.1819 3 12 3ZM1.00001 12C1.00001 5.925 5.92501 1 12 1C18.075 1 23 5.925 23 12C23 18.075 18.075 23 12 23H1.30001L3.52001 19.006C1.88821 17.0363 0.996743 14.5578 1.00001 12ZM12 7.5C11.5864 7.4999 11.1829 7.62803 10.8452 7.86676C10.5074 8.10549 10.2519 8.44307 10.114 8.833L9.78001 9.776L7.89501 9.11L8.22801 8.167C8.43446 7.58155 8.77432 7.05216 9.22069 6.62073C9.66706 6.1893 10.2077 5.86765 10.7998 5.68124C11.392 5.49483 12.0194 5.44876 12.6324 5.54668C13.2454 5.64461 13.8272 5.88383 14.3318 6.24544C14.8364 6.60704 15.25 7.08111 15.5397 7.63013C15.8295 8.17915 15.9875 8.78806 16.0013 9.4087C16.0151 10.0293 15.8843 10.6447 15.6192 11.206C15.3541 11.7674 14.962 12.2593 14.474 12.643C14.043 12.983 13.657 13.309 13.378 13.652C13.104 13.99 13 14.262 13 14.5V15.75H11V14.5C11 13.633 11.39 12.927 11.826 12.39C12.258 11.86 12.8 11.416 13.236 11.072C13.5628 10.8149 13.8014 10.4624 13.9185 10.0634C14.0357 9.66449 14.0256 9.23894 13.8896 8.846C13.7536 8.45305 13.4986 8.11226 13.1599 7.87102C12.8212 7.62978 12.4158 7.50009 12 7.5ZM11 16.75H13.004V18.754H11V16.75Z",fill:"#6B7280"})),M9=[{title:"",path:"/timetable",end:!1},{title:"",path:"/wishes",end:!0},{title:"",path:"/simulation",end:!1},{title:"",path:"/live",end:!1}],qV=[{icon:h.jsx(WV,{className:"w-4 h-4"}),title:"  ",path:"https://forms.gle/bCDTVujEHunnvHe88"},{icon:h.jsx(VV,{className:"w-4 h-4"}),title:" ",path:"https://open.kakao.com/o/g3MztXfh"}];function o_(){return h.jsx("header",{className:"bg-white shadow-sm z-50 sticky top-0",children:h.jsxs("div",{className:"container flex items-center justify-between mx-auto max-w-7xl px-4 md:px-16",children:[h.jsxs("div",{className:"flex items-center space-x-4 py-4",children:[h.jsxs(ii,{to:"/",className:"flex items-center gap-1 space-x-2","aria-label":" ",children:[h.jsx("h1",{className:"hidden",children:"ALLCLL"}),h.jsx(O9,{className:"w-6 h-6 m-0"}),h.jsx(HV,{className:"h-5 hidden sm:inline-block"})]}),h.jsx("ul",{className:"flex space-x-4 text-sm sm:text-base",children:M9.map(({title:e,path:t,end:n})=>h.jsx("li",{className:"font-bold",children:h.jsx(Ju,{to:t,end:n,className:({isActive:r})=>r?"text-blue-500 font-semibold":"text-gray-500",children:e})},t))})]}),h.jsx("div",{className:"items-center space-x-2 hidden sm:flex",children:qV.map(({icon:e,title:t,path:n})=>h.jsx("a",{className:"p-2 rounded-md hover:bg-gray-100",target:"_blank",href:n,"aria-label":t,title:t,children:e},n))})]})})}const M4=e=>{let t;const n=new Set,r=(c,f)=>{const p=typeof c=="function"?c(t):c;if(!Object.is(p,t)){const g=t;t=f??(typeof p!="object"||p===null)?p:Object.assign({},t,p),n.forEach(y=>y(t,g))}},i=()=>t,a={setState:r,getState:i,getInitialState:()=>l,subscribe:c=>(n.add(c),()=>n.delete(c))},l=t=e(r,i,a);return a},QV=e=>e?M4(e):M4,KV=e=>e;function GV(e,t=KV){const n=Sn.useSyncExternalStore(e.subscribe,()=>t(e.getState()),()=>t(e.getInitialState()));return Sn.useDebugValue(n),n}const A4=e=>{const t=QV(e),n=r=>GV(t,r);return Object.assign(n,t),n},oi=e=>e?A4(e):A4,F0=oi(e=>({banner:null,onClose:void 0,setBanner:(t,n)=>e({banner:t,onClose:n}),closeBanner:()=>e({banner:null})}));function Fu({variant:e,children:t}){const n=YV(e);return h.jsx("div",{className:`${n} px-2 py-1 text-xs rounded-full inline-flex`,children:t})}function YV(e){switch(e){case"success":return"bg-green-100 text-green-700 ";case"warning":return"bg-yellow-100 text-yellow-700 ";case"danger":return"bg-secondary-100 text-secondary-700 ";case"default":return"bg-gray-100 text-gray-700 ";default:return""}}const XV=e=>I.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},I.createElement("path",{d:"M10 7V11M10 14V14.01M1 10C1 11.1819 1.23279 12.3522 1.68508 13.4442C2.13738 14.5361 2.80031 15.5282 3.63604 16.364C4.47177 17.1997 5.46392 17.8626 6.55585 18.3149C7.64778 18.7672 8.8181 19 10 19C11.1819 19 12.3522 18.7672 13.4442 18.3149C14.5361 17.8626 15.5282 17.1997 16.364 16.364C17.1997 15.5282 17.8626 14.5361 18.3149 13.4442C18.7672 12.3522 19 11.1819 19 10C19 8.8181 18.7672 7.64778 18.3149 6.55585C17.8626 5.46392 17.1997 4.47177 16.364 3.63604C15.5282 2.80031 14.5361 2.13738 13.4442 1.68508C12.3522 1.23279 11.1819 1 10 1C8.8181 1 7.64778 1.23279 6.55585 1.68508C5.46392 2.13738 4.47177 2.80031 3.63604 3.63604C2.80031 4.47177 2.13738 5.46392 1.68508 6.55585C1.23279 7.64778 1 8.8181 1 10Z",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})),B0=e=>I.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},I.createElement("path",{d:"M18 6L6 18M6 6L18 18",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}));function Tr({icon:e,variant:t="plain",label:n,className:r="",...i}){const a=`flex flex-row items-center justify-center gap-1 cursor-pointer rounded-md  ${JV(t)} ${r}`;return h.jsx("button",{type:"button","aria-label":n,className:a,...i,children:e&&h.jsx("span",{children:e})})}function JV(e){switch(e){case"contain":return"px-2 py-2 border border-gray-400 hover:bg-gray-100";case"plain":return"bg-transparent text-gray-700";default:return""}}function ZV({children:e}){return h.jsx("div",{className:"mr-3 flex-shrink-0 flex items-center justify-center",children:e})}function eq({children:e}){return h.jsx("div",{className:"flex-1",children:e})}function tq({children:e}){return h.jsx("div",{className:"ml-3 flex-shrink-0 flex items-center justify-center",children:e})}function nq({tag:e="div",withPadding:t,left:n,center:r,right:i,className:s,...o}){const a=e,l=r?"justify-start":"justify-between";return h.jsxs(a,{className:`flex items-center w-full ${l} ${t?"px-4 py-3":""} ${s??""}`,...o,children:[n,r,i]})}function A9({left:e,center:t,right:n,className:r,withPadding:i}){return h.jsx(nq,{className:r,withPadding:i,left:h.jsx(ZV,{children:e}),center:t?h.jsx(eq,{children:t}):null,right:h.jsx(tq,{children:n})})}function rq({variant:e="info",children:t,deleteBanner:n}){const r=iq(e);return h.jsx(A9,{withPadding:!0,className:`${r} items-center`,left:h.jsx(XV,{className:"text-gray-500 w-4 h-4"}),center:h.jsx("span",{className:"text-xs",children:t}),right:h.jsx(Tr,{label:" ",variant:"plain",icon:h.jsx(B0,{className:"text-gray-500 w-5 h-5"}),onClick:n,className:"rounded-full"})})}function iq(e){switch(e){case"warning":return"bg-secondary-100";case"info":return"bg-blue-100";default:return"bg-gray-100"}}function D4(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function sq(...e){return t=>{let n=!1;const r=e.map(i=>{const s=D4(i,t);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():D4(e[i],null)}}}}var oq=Symbol.for("react.lazy"),z0=MR[" use ".trim().toString()];function aq(e){return typeof e=="object"&&e!==null&&"then"in e}function D9(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===oq&&"_payload"in e&&aq(e._payload)}function lq(e){const t=cq(e),n=I.forwardRef((r,i)=>{let{children:s,...o}=r;D9(s)&&typeof z0=="function"&&(s=z0(s._payload));const a=I.Children.toArray(s),l=a.find(fq);if(l){const c=l.props.children,f=a.map(p=>p===l?I.Children.count(c)>1?I.Children.only(null):I.isValidElement(c)?c.props.children:null:p);return h.jsx(t,{...o,ref:i,children:I.isValidElement(c)?I.cloneElement(c,void 0,f):null})}return h.jsx(t,{...o,ref:i,children:s})});return n.displayName=`${e}.Slot`,n}var uq=lq("Slot");function cq(e){const t=I.forwardRef((n,r)=>{let{children:i,...s}=n;if(D9(i)&&typeof z0=="function"&&(i=z0(i._payload)),I.isValidElement(i)){const o=pq(i),a=hq(s,i.props);return i.type!==I.Fragment&&(a.ref=r?sq(r,o):o),I.cloneElement(i,a)}return I.Children.count(i)>1?I.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var dq=Symbol("radix.slottable");function fq(e){return I.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===dq}function hq(e,t){const n={...t};for(const r in t){const i=e[r],s=t[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{const l=s(...a);return i(...a),l}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...e,...n}}function pq(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}const $0={pressable:"transition-colors duration-300 ease-out active:scale-[0.97]",hoverable:"transition-colors duration-200 ease-out"};function Dt({variant:e,size:t,children:n,disabled:r,textColor:i,asChild:s,...o}){const a=s?uq:"button",l=e==="circle"?"":`flex flex-row gap-1 items-center justify-center cursor-pointer disabled:cursor-not-allowed ${$0.hoverable} ${$0.pressable}`,c=i?L4(e,i):L4(e,"primary"),f=e==="circle"?"":gq(t),p=`${l} ${c} ${f}`.trim();return h.jsx(a,{className:p,disabled:r,...o,children:n})}function mq(e){switch(e){case"primary":return"bg-transparent text-primary-500 hover:text-primary-600";case"secondary":return"bg-transparent text-secondary-500 hover:text-secondary-600";case"gray":return"bg-transparent text-gray-700 hover:text-gray-800";default:return""}}function L4(e,t){switch(e){case"primary":return"bg-primary-500 text-white hover:bg-primary-600 rounded-md px-4 py-2 disabled:bg-gray-100 disabled:text-gray-300";case"secondary":return"bg-gray-100  hover:bg-gray-300 rounded-md px-4 py-2 disabled:text-white";case"outlined":return"bg-transparent border border-gray-700 hover:bg-gray-100 rounded-md px-4 py-2 disabled:border-gray-200  disabled:text-gray-400";case"danger":return"bg-secondary-500 text-white hover:bg-secondary-600 rounded-md px-4 py-2 disabled:bg-gray-100";case"ghost":return"bg-gray-50 border border-gray-200 text-gray-700 hover:bg-gray-200 rounded-full px-4 py-2";case"circle":return"px-2 py-2 bg-primary-500 text-white hover:bg-primary-600 rounded-full shadow-md ";case"text":return`${mq(t)} px-0 py-2  disabled:text-gray-400`;default:return""}}function gq(e){switch(e){case"small":return"text-sm px-2";case"medium":return"text-sm";case"large":return"text-md";default:return""}}function yq({children:e}){return h.jsx("div",{className:"flex flex-col space-y-3 text-gray-600 text-sm",children:e})}function vq({children:e}){return h.jsx("div",{className:"flex flex-col items-start justify-between mb-3",children:e})}function xq({children:e,size:t,variant:n,className:r}){const i=bq(t||"medium"),s=wq(n);return h.jsx("div",{className:`card rounded-lg ${i} ${s} ${r||""}`,children:e})}const Yn=Object.assign(xq,{Header:vq,Content:yq});function bq(e){switch(e){case"small":return"px-4 py-4 text-sm";case"medium":return"p-4 text-base";case"large":return"px-10 py-4 text-lg";default:return""}}function wq(e="elevated"){switch(e){case"elevated":return"bg-white shadow-md";case"outlined":return"bg-white border border-gray-200";case"filled":return"bg-gray-50 shadow-sm rounded-lg p-4 border border-gray-200 hover:shadow-md";default:return""}}const _q=e=>I.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},I.createElement("path",{d:"M5 12L10 17L20 7",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}));function Py({label:e,...t}){const n=I.useId(),r=e?`checkbox-${e}`:`checkbox-${n}`,i=`w-5 h-5 rounded-sm border flex-shrink-0 appearance-none flex items-center justify-center
    ${Sq(!!t.checked)}`,s=o=>{o.key==="Enter"&&(o.preventDefault(),o.currentTarget.click()),t.onKeyDown?.(o)};return h.jsxs("label",{htmlFor:r,className:"flex flex-row items-center gap-3 text-sm md:text-base cursor-pointer select-none",children:[h.jsxs("div",{className:"relative w-5 h-5",children:[h.jsx("input",{id:r,type:"checkbox","aria-checked":t.checked,"aria-label":e?void 0:"toggle checkbox",className:i,onKeyDown:s,...t}),t.checked&&h.jsx(_q,{className:"text-blue-500 w-4 h-4 absolute inset-0 m-auto pointer-events-none"})]}),e&&h.jsx("span",{className:`${t.checked?"text-blue-500":"text-gray-600"}`,children:e})]})}Py.layout="flex";function Sq(e){return e?`
      bg-blue-50
      border-blue-500
    `:`
      bg-white
      border-gray-400
      hover:bg-gray-50
    `}const F4=e=>I.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},I.createElement("path",{d:"M6 9L12 15L18 9",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})),Cq=({className:e,selected:t=!1})=>{const n=t?e+" text-blue-500":e+" text-gray-400";return t?h.jsx(F4,{className:n}):h.jsx(F4,{className:n})},kq=({className:e,selected:t=!1})=>{const n=t?e+" text-blue-500":e+" text-gray-400";return t?h.jsx(B0,{className:n}):h.jsx(B0,{className:n})};function Xn({label:e="Chip",selected:t,variant:n="none",containerRef:r,onClick:i,isChipOpen:s,...o}){return h.jsxs("button",{type:"button",ref:r,className:`flex flex-row justify-center items-center cursor-pointer gap-4 transition-colors duration-300 ease-out active:scale-[0.97] ${Tq(n)} ${Eq(t,n)}`,"aria-pressed":t,onClick:i,...o,children:[h.jsx("span",{className:"text-xs sm:text-sm",children:e}),n==="select"&&h.jsx(Cq,{"aria-hidden":"true",selected:t,className:`w-5 h-5 pointer-events-none transition-transform text-blue-500 duration-200 ${s?"rotate-180":"rotate-0"}`}),n==="cancel"&&h.jsx(kq,{"aria-hidden":"true",selected:t,className:"pointer-events-none w-4 h-4"})]})}Xn.layout="grid";function Eq(e,t){return e?`
      bg-primary-100
      text-primary-500
      hover:bg-primary-200
      focus:outline-primary-500
    `:t==="none"?`
      bg-transparent
      text-gray-700
      border border-gray-200
      hover:bg-gray-100
      focus:outline-gray-400
    `:`
    bg-gray-100
    text-gray-700
    hover:bg-gray-200
    focus:outline-gray-400
  `}function Tq(e){return e==="cancel"?"rounded-full text-xs py-1.5 px-4":"rounded-lg text-sm py-2 px-4"}function jq({children:e}){return h.jsx("h2",{id:"dialog-title",className:"font-semibold",children:e})}function L9({children:e,onClose:t}){return h.jsxs("div",{className:"w-full px-4 sm:px-6 py-4 sm:py-4 border-b border-gray-100 flex flex-row justify-between",children:[e,h.jsx("button",{type:"button","aria-label":"",className:"w-6 h-6 cursor-pointer flex items-center justify-center bg-gray-100 rounded-full",onClick:t,children:h.jsx(B0,{className:"text-gray-600 w-3 h-3"})})]})}function F9({children:e,onClose:t}){const n=I.useRef(null),r=i=>{i.stopPropagation(),t()};return h.jsx("div",{className:"fixed inset-0 flex items-center bg-transparent justify-center z-50",role:"none",ref:n,onClick:r,children:e})}function B9({children:e,width:t,height:n}){const r=Iq(t,n);return h.jsx("div",{className:`flex flex-col justify-center item bg-white min-w-80 max-w-[90%] rounded-lg sm:${r}`,onClick:i=>i.stopPropagation(),children:e})}function Iq(e,t){const n=e?`w-${e}`:"max-w-[90%]",r=t?`h-${t}`:"auto";return`${n} ${r}`}function Nq({children:e}){return h.jsx("div",{className:"flex flex-col px-6 sm:py-4 py-4 gap-2 max-h-150 overflow-y-auto",children:e})}function Pq({children:e}){return h.jsx("div",{className:"py-3 px-8 border-t border-gray-100 flex justify-end gap-2",children:e})}function Rq({children:e,isOpen:t=!0,title:n,onClose:r}){const i=I.useRef(null),s=I.useId();return I.useEffect(()=>{const o=i.current;o&&(t?o.showModal():o.close())},[t]),I.useEffect(()=>{const o=a=>{a.key==="Escape"&&r()};return window.addEventListener("keydown",o),()=>window.removeEventListener("keydown",o)},[r]),py.createPortal(h.jsx("dialog",{ref:i,role:"dialog","aria-labelledby":s,onCancel:o=>{o.preventDefault(),r()},children:h.jsx(F9,{onClose:r,children:h.jsxs(B9,{children:[h.jsx(L9,{onClose:r,children:h.jsx(Jn.Title,{id:s,children:n})}),e]})})}),document.body)}const Jn=Object.assign(Rq,{Title:jq,Header:L9,Overlay:F9,Content:Nq,Contents:B9,Footer:Pq});function cw({className:e="",leftIcon:t,rightIcon:n,...r}){const i=I.useRef(null),s=t?"pl-10":"pl-3",o=n?"pr-10":"pr-3";return h.jsxs("div",{className:"relative flex items-center w-full",children:[t&&h.jsx("div",{children:t}),h.jsx("input",{ref:i,type:"text",className:`py-2 border rounded-md border-gray-400 py-2 px-3 focus:outline-none focus:ring-0 focus:border-primary-500 ${s} ${o} ${e}`,...r}),n&&h.jsx("div",{children:n})]})}const Br=({id:e,required:t,children:n,className:r="",...i})=>{const s=`text-sm sm:text-base text-text-200 after:ml-0.5 ${t?'after:content-["*"] after:text-red-500':""}`;return h.jsx("label",{htmlFor:e,className:`${s} ${r}`,...i,children:n})};function Oq({label:e,selected:t}){const{isOpen:n,triggerRef:r,open:i,close:s}=$9(),o=()=>{n?s():i()};return h.jsx(Xn,{type:"button",label:e,isChipOpen:n,variant:"select",selected:t??!1,onClick:o,containerRef:r})}const Mq=({elem:e,tabRefs:t,isOpen:n,open:r,close:i})=>{I.useEffect(()=>{const s=o=>{(Array.isArray(t)?t:[t]).some(c=>c.current&&c.current.contains(o.target))?r():e.current&&!e.current.contains(o.target)&&i()};return n?window.addEventListener("click",s):window.removeEventListener("click",s),()=>{window.removeEventListener("click",s)}},[n,e,t])};function Aq({children:e}){const{isOpen:t,close:n,open:r,triggerRef:i}=$9(),s=I.useRef(null);if(Mq({elem:s,tabRefs:i,isOpen:t,open:r,close:n}),!t||!i.current)return null;const o=i.current.getBoundingClientRect();return py.createPortal(h.jsx("div",{ref:s,className:`
        fixed rounded-md bg-white shadow-lg border border-gray-200 px-4 py-4
        transition-all duration-150 ease-out
        ${t?"opacity-100 translate-y-0 scale-100 pointer-events-auto":"opacity-0 -translate-y-1 scale-95 pointer-events-none"}
      `,style:{zIndex:120,top:o.bottom+8,left:o.left},onMouseDown:a=>a.stopPropagation(),onClick:a=>a.stopPropagation(),children:e}),document.body)}const z9=I.createContext(null);function Dq({children:e}){const[t,n]=I.useState(null);return h.jsx(z9.Provider,{value:{openId:t,setOpenId:n},children:e})}function Lq(){const e=I.useContext(z9);if(!e)throw new Error("PopoverGroup  PopoverGroupContext.Provider   .");return e}const $9=()=>{const e=I.useContext(U9);if(!e)throw new Error("Popover Component PopoverContext.Provider   .");return e},U9=I.createContext(null),Fq=({children:e})=>{const t=I.useId(),{openId:n,setOpenId:r}=Lq(),i=I.useRef(null),s=n===t,o=()=>r(t),a=()=>r(null),l=()=>r(s?null:t);return h.jsx(U9.Provider,{value:{id:t,isOpen:n===t,open:o,close:a,toggle:l,triggerRef:i},children:e})},Nd=Object.assign(Fq,{Trigger:Oq,Content:Aq});function Pe({as:e,direction:t="flex-row",justify:n="justify-start",align:r="items-stretch",gap:i="gap-2",className:s,children:o,...a}){const l=e||"div",c=`flex ${t} ${n} ${r} ${i}`+(s?` ${s}`:"");return h.jsx(l,{className:c,...a,children:o})}function H9({label:e,isError:t,errorMessage:n,required:r,id:i,size:s="medium",className:o="",...a}){return h.jsxs(Pe,{direction:"flex-col",gap:"gap-2",className:o,children:[e&&h.jsx(Br,{required:r,id:i,children:e}),h.jsx("input",{id:i,type:"text","aria-invalid":t,required:r,...a,className:`rounded-md w-full bg-white border border-gray-300 py-2 px-3 focus:outline-none focus:ring-0 focus:border-primary-500 ${Bq(s)}`}),t&&h.jsx("span",{className:"text-secondary-500 text-xs",children:n})]})}function Bq(e){switch(e){case"small":return"text-sm py-1";case"medium":return"text-base py-1";case"large":return"text-lg py-1";default:return""}}const zq=e=>I.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},I.createElement("path",{d:"M12 16V16.01M12 13C12.4498 13.0014 12.8868 12.8511 13.2407 12.5734C13.5945 12.2958 13.8444 11.907 13.95 11.4698C14.0557 11.0327 14.0109 10.5726 13.8229 10.1641C13.6349 9.75549 13.3147 9.42219 12.914 9.21801C12.5162 9.01422 12.0611 8.95103 11.6228 9.03873C11.1845 9.12642 10.7888 9.35984 10.5 9.70101M3 12C3 13.1819 3.23279 14.3522 3.68508 15.4442C4.13738 16.5361 4.80031 17.5282 5.63604 18.364C6.47177 19.1997 7.46392 19.8626 8.55585 20.3149C9.64778 20.7672 10.8181 21 12 21C13.1819 21 14.3522 20.7672 15.4442 20.3149C16.5361 19.8626 17.5282 19.1997 18.364 18.364C19.1997 17.5282 19.8626 16.5361 20.3149 15.4442C20.7672 14.3522 21 13.1819 21 12C21 9.61305 20.0518 7.32387 18.364 5.63604C16.6761 3.94821 14.3869 3 12 3C9.61305 3 7.32387 3.94821 5.63604 5.63604C3.94821 7.32387 3 9.61305 3 12Z",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}));function $q({children:e}){return h.jsx("div",{className:"relative inline-block",children:h.jsxs("div",{className:"group inline-block",children:[h.jsx(Tr,{label:"Tooltip",variant:"plain",icon:h.jsx(zq,{className:"w-6 h-6 text-gray-400 background-gray-200"})}),h.jsx("span",{className:"absolute bottom-full mb-2 left-1/2 transform -translate-x-1/2 opacity-0 group-hover:opacity-100 transition-opacity duration-300 bg-gray-900 text-white p-3 rounded w-64 text-center pointer-events-none",children:e})]})})}function qt({level:e=1,size:t,as:n,className:r,children:i,...s}){const o=n??`h${e}`,a=t??Uq(e);return h.jsx(o,{className:`${r??""} ${Hq(a)} text-text-200`,...s,children:i})}function Uq(e){return{1:"xxl",2:"xl",3:"lg",4:"md",5:"sm"}[e]}function Hq(e){return{xxl:"text-lg font-semibold md:text-xl",xl:"text-base md:text-lg font-semibold",lg:"text-base font-semibold",md:"text-sm font-semibold",sm:"text-xs font-semibold",xs:"text-[11px] font-semibold"}[e]}function Gn({className:e,children:t,...n}){return h.jsx("p",{className:`text-gray-500 text-sm leading-relaxed ${e??""}`,...n,children:t})}function Ol({columns:e,gap:t="gap-0",className:n,children:r,...i}){const s=["grid",t],o=e.base??2;s.push(`grid-cols-${o}`),e.base&&s.push(`grid-cols-${e.base}`),e.sm&&s.push(`sm:grid-cols-${e.sm}`),e.md&&s.push(`md:grid-cols-${e.md}`),e.lg&&s.push(`lg:grid-cols-${e.lg}`),e.xl&&s.push(`xl:grid-cols-${e.xl}`);const a=s.join(" ")+(n?` ${n}`:"");return h.jsx("div",{className:a,...i,children:r})}function Wq({selected:e=!1,onSelect:t,left:n,right:r}){const i=o=>{(o.key==="Enter"||o.key===" ")&&(o.preventDefault(),t?.())},s=`flex px-2 py-2 rounded-sm cursor-pointer text-sm ${$0.pressable} ${$0.hoverable}`;return h.jsx("div",{role:"option","aria-selected":e,tabIndex:0,onClick:t,onKeyDown:i,className:`${s} ${Vq(e)}`,children:h.jsx(A9,{left:h.jsx("div",{className:"flex items-center",children:n}),right:e?r:null})})}function Vq(e){return e?"bg-blue-50 text-blue-500 font-medium hover:bg-blue-100":"hover:bg-gray-50 text-gray-700"}function W9(){const e=F0(n=>n.banner),t=F0(n=>n.closeBanner);return e&&h.jsx(rq,{deleteBanner:t,children:e})}function U0(){return U0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},U0.apply(null,arguments)}function a_(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function dw(e,t){return dw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},dw(e,t)}function l_(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,dw(e,t)}function qq(e,t){return e.classList?!!t&&e.classList.contains(t):(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")!==-1}function Qq(e,t){e.classList?e.classList.add(t):qq(e,t)||(typeof e.className=="string"?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}function B4(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function Kq(e,t){e.classList?e.classList.remove(t):typeof e.className=="string"?e.className=B4(e.className,t):e.setAttribute("class",B4(e.className&&e.className.baseVal||"",t))}const z4={disabled:!1},H0=Sn.createContext(null);var V9=function(t){return t.scrollTop},gh="unmounted",xu="exited",bu="entering",gd="entered",fw="exiting",xa=function(e){l_(t,e);function t(r,i){var s;s=e.call(this,r,i)||this;var o=i,a=o&&!o.isMounting?r.enter:r.appear,l;return s.appearStatus=null,r.in?a?(l=xu,s.appearStatus=bu):l=gd:r.unmountOnExit||r.mountOnEnter?l=gh:l=xu,s.state={status:l},s.nextCallback=null,s}t.getDerivedStateFromProps=function(i,s){var o=i.in;return o&&s.status===gh?{status:xu}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var s=null;if(i!==this.props){var o=this.state.status;this.props.in?o!==bu&&o!==gd&&(s=bu):(o===bu||o===gd)&&(s=fw)}this.updateStatus(!1,s)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,s,o,a;return s=o=a=i,i!=null&&typeof i!="number"&&(s=i.exit,o=i.enter,a=i.appear!==void 0?i.appear:o),{exit:s,enter:o,appear:a}},n.updateStatus=function(i,s){if(i===void 0&&(i=!1),s!==null)if(this.cancelNextCallback(),s===bu){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:Gm.findDOMNode(this);o&&V9(o)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===xu&&this.setState({status:gh})},n.performEnter=function(i){var s=this,o=this.props.enter,a=this.context?this.context.isMounting:i,l=this.props.nodeRef?[a]:[Gm.findDOMNode(this),a],c=l[0],f=l[1],p=this.getTimeouts(),g=a?p.appear:p.enter;if(!i&&!o||z4.disabled){this.safeSetState({status:gd},function(){s.props.onEntered(c)});return}this.props.onEnter(c,f),this.safeSetState({status:bu},function(){s.props.onEntering(c,f),s.onTransitionEnd(g,function(){s.safeSetState({status:gd},function(){s.props.onEntered(c,f)})})})},n.performExit=function(){var i=this,s=this.props.exit,o=this.getTimeouts(),a=this.props.nodeRef?void 0:Gm.findDOMNode(this);if(!s||z4.disabled){this.safeSetState({status:xu},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:fw},function(){i.props.onExiting(a),i.onTransitionEnd(o.exit,function(){i.safeSetState({status:xu},function(){i.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,s){s=this.setNextCallback(s),this.setState(i,s)},n.setNextCallback=function(i){var s=this,o=!0;return this.nextCallback=function(a){o&&(o=!1,s.nextCallback=null,i(a))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},n.onTransitionEnd=function(i,s){this.setNextCallback(s);var o=this.props.nodeRef?this.props.nodeRef.current:Gm.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!o||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],c=l[0],f=l[1];this.props.addEndListener(c,f)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===gh)return null;var s=this.props,o=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var a=a_(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Sn.createElement(H0.Provider,{value:null},typeof o=="function"?o(i,a):Sn.cloneElement(Sn.Children.only(o),a))},t}(Sn.Component);xa.contextType=H0;xa.propTypes={};function Kc(){}xa.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Kc,onEntering:Kc,onEntered:Kc,onExit:Kc,onExiting:Kc,onExited:Kc};xa.UNMOUNTED=gh;xa.EXITED=xu;xa.ENTERING=bu;xa.ENTERED=gd;xa.EXITING=fw;var Gq=function(t,n){return t&&n&&n.split(" ").forEach(function(r){return Qq(t,r)})},yx=function(t,n){return t&&n&&n.split(" ").forEach(function(r){return Kq(t,r)})},Cp=function(e){l_(t,e);function t(){for(var r,i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s))||this,r.appliedClasses={appear:{},enter:{},exit:{}},r.onEnter=function(a,l){var c=r.resolveArguments(a,l),f=c[0],p=c[1];r.removeClasses(f,"exit"),r.addClass(f,p?"appear":"enter","base"),r.props.onEnter&&r.props.onEnter(a,l)},r.onEntering=function(a,l){var c=r.resolveArguments(a,l),f=c[0],p=c[1],g=p?"appear":"enter";r.addClass(f,g,"active"),r.props.onEntering&&r.props.onEntering(a,l)},r.onEntered=function(a,l){var c=r.resolveArguments(a,l),f=c[0],p=c[1],g=p?"appear":"enter";r.removeClasses(f,g),r.addClass(f,g,"done"),r.props.onEntered&&r.props.onEntered(a,l)},r.onExit=function(a){var l=r.resolveArguments(a),c=l[0];r.removeClasses(c,"appear"),r.removeClasses(c,"enter"),r.addClass(c,"exit","base"),r.props.onExit&&r.props.onExit(a)},r.onExiting=function(a){var l=r.resolveArguments(a),c=l[0];r.addClass(c,"exit","active"),r.props.onExiting&&r.props.onExiting(a)},r.onExited=function(a){var l=r.resolveArguments(a),c=l[0];r.removeClasses(c,"exit"),r.addClass(c,"exit","done"),r.props.onExited&&r.props.onExited(a)},r.resolveArguments=function(a,l){return r.props.nodeRef?[r.props.nodeRef.current,a]:[a,l]},r.getClassNames=function(a){var l=r.props.classNames,c=typeof l=="string",f=c&&l?l+"-":"",p=c?""+f+a:l[a],g=c?p+"-active":l[a+"Active"],y=c?p+"-done":l[a+"Done"];return{baseClassName:p,activeClassName:g,doneClassName:y}},r}var n=t.prototype;return n.addClass=function(i,s,o){var a=this.getClassNames(s)[o+"ClassName"],l=this.getClassNames("enter"),c=l.doneClassName;s==="appear"&&o==="done"&&c&&(a+=" "+c),o==="active"&&i&&V9(i),a&&(this.appliedClasses[s][o]=a,Gq(i,a))},n.removeClasses=function(i,s){var o=this.appliedClasses[s],a=o.base,l=o.active,c=o.done;this.appliedClasses[s]={},a&&yx(i,a),l&&yx(i,l),c&&yx(i,c)},n.render=function(){var i=this.props;i.classNames;var s=a_(i,["classNames"]);return Sn.createElement(xa,U0({},s,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(Sn.Component);Cp.defaultProps={classNames:""};Cp.propTypes={};function Yq(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u_(e,t){var n=function(s){return t&&I.isValidElement(s)?t(s):s},r=Object.create(null);return e&&I.Children.map(e,function(i){return i}).forEach(function(i){r[i.key]=n(i)}),r}function Xq(e,t){e=e||{},t=t||{};function n(f){return f in t?t[f]:e[f]}var r=Object.create(null),i=[];for(var s in e)s in t?i.length&&(r[s]=i,i=[]):i.push(s);var o,a={};for(var l in t){if(r[l])for(o=0;o<r[l].length;o++){var c=r[l][o];a[r[l][o]]=n(c)}a[l]=n(l)}for(o=0;o<i.length;o++)a[i[o]]=n(i[o]);return a}function Pu(e,t,n){return n[t]!=null?n[t]:e.props[t]}function Jq(e,t){return u_(e.children,function(n){return I.cloneElement(n,{onExited:t.bind(null,n),in:!0,appear:Pu(n,"appear",e),enter:Pu(n,"enter",e),exit:Pu(n,"exit",e)})})}function Zq(e,t,n){var r=u_(e.children),i=Xq(t,r);return Object.keys(i).forEach(function(s){var o=i[s];if(I.isValidElement(o)){var a=s in t,l=s in r,c=t[s],f=I.isValidElement(c)&&!c.props.in;l&&(!a||f)?i[s]=I.cloneElement(o,{onExited:n.bind(null,o),in:!0,exit:Pu(o,"exit",e),enter:Pu(o,"enter",e)}):!l&&a&&!f?i[s]=I.cloneElement(o,{in:!1}):l&&a&&I.isValidElement(c)&&(i[s]=I.cloneElement(o,{onExited:n.bind(null,o),in:c.props.in,exit:Pu(o,"exit",e),enter:Pu(o,"enter",e)}))}}),i}var eQ=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},tQ={component:"div",childFactory:function(t){return t}},Ry=function(e){l_(t,e);function t(r,i){var s;s=e.call(this,r,i)||this;var o=s.handleExited.bind(Yq(s));return s.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},s}var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(i,s){var o=s.children,a=s.handleExited,l=s.firstRender;return{children:l?Jq(i,a):Zq(i,o,a),firstRender:!1}},n.handleExited=function(i,s){var o=u_(this.props.children);i.key in o||(i.props.onExited&&i.props.onExited(s),this.mounted&&this.setState(function(a){var l=U0({},a.children);return delete l[i.key],{children:l}}))},n.render=function(){var i=this.props,s=i.component,o=i.childFactory,a=a_(i,["component","childFactory"]),l=this.state.contextValue,c=eQ(this.state.children).map(o);return delete a.appear,delete a.enter,delete a.exit,s===null?Sn.createElement(H0.Provider,{value:l},c):Sn.createElement(H0.Provider,{value:l},Sn.createElement(s,a,c))},t}(Sn.Component);Ry.propTypes={};Ry.defaultProps=tQ;const q9=e=>I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:10,height:10,viewBox:"0. 0. 11 11",...e},I.createElement("g",{transform:"matrix(1,0,0,-1,0,20)"},I.createElement("path",{d:"M9.71875,18.28125Q10,18.59375,10,19Q10,19.40625,9.71875,19.71875Q9.40625,20,9,20Q8.59375,20,8.28125,19.71875L5,16.40625L1.71875,19.71875Q1.40625,20,1,20Q0.59375,20,0.28125,19.71875Q0,19.40625,0,19Q0,18.59375,0.28125,18.28125L3.59375,15L0.28125,11.71875Q0,11.40625,0,11Q0,10.59375,0.28125,10.28125Q0.59375,10,1,10Q1.40625,10,1.71875,10.28125L5,13.59375L8.28125,10.28125Q8.59375,10,9,10Q9.40625,10,9.71875,10.28125Q10,10.59375,10,11Q10,11.40625,9.71875,11.71875L6.40625,15L9.71875,18.28125Z",fill:"#9CA3AF",fillOpacity:1,style:{mixBlendMode:"passthrough"}}))),c_=e=>I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:17,height:17,viewBox:"-0.1 -1.2 11.985078811645508 17",...e},I.createElement("g",{transform:"matrix(1,0,0,-1,0,27.999998092651367)"},I.createElement("path",{d:"M5.99254,27.999999046325684Q5.61809,27.999999046325684,5.37737,27.753899046325685Q5.13664,27.507799046325683,5.13664,27.124999046325684L5.13664,26.605499046325683Q3.63883,26.277299046325684,2.70269,25.10159904632568Q1.73981,23.925779046325683,1.71306,22.312499046325684L1.71306,21.792969046325684Q1.68632,19.824219046325684,0.429221,18.320309046325683L0.215247,18.074219046325684Q-0.13246,17.664059046325683,0.0815138,17.144529046325683Q0.322234,16.652339046325682,0.857169,16.624999046325684L11.1279,16.624999046325684Q11.6628,16.652339046325682,11.9036,17.144529046325683Q12.1175,17.664059046325683,11.7698,18.074219046325684L11.5826,18.320309046325683Q10.2988,19.796869046325682,10.272,21.792969046325684L10.272,22.312499046325684Q10.2453,23.925779046325683,9.28239,25.10159904632568Q8.34625,26.277299046325684,6.84843,26.605499046325683L6.84843,27.124999046325684Q6.84843,27.507799046325683,6.60771,27.753899046325685Q6.36699,27.999999046325684,5.99254,27.999999046325684ZM7.19614,14.519530046325684Q7.70433,15.039059046325683,7.70433,15.749999046325684L5.99254,15.749999046325684L4.28075,15.749999046325684Q4.28075,15.039059046325683,4.78894,14.519530046325684Q5.29713,13.999999046325684,5.99254,13.999999046325684Q6.68796,13.999999046325684,7.19614,14.519530046325684Z",fill:"currentColor",fillOpacity:1,style:{mixBlendMode:"passthrough"}}))),W0=oi(e=>({isActivated:!1,messages:[],addToast:(t,n)=>e(r=>({messages:[...r.messages,{message:t,tag:n}]})),clearToast:t=>e(n=>(typeof t=="number"?n.messages=[...n.messages.slice(0,t),...n.messages.slice(t+1)]:n.messages=n.messages.filter(r=>r.tag!==t),{messages:n.messages}))}));function d_(){const e=W0(n=>n.messages),t=W0(n=>n.clearToast);return h.jsx("div",{className:"fixed top-2 right-2 z-100 max-w-screen",children:h.jsx(Ry,{className:"flex gap-2 flex-col-reverse",children:e.slice(-3).map((n,r)=>h.jsx(Cp,{timeout:300,classNames:"toast",children:h.jsx(nQ,{toast:n,closeToast:()=>t(r)})},`${r} : ${n}`))})})}function nQ({toast:e,closeToast:t}){return h.jsxs("div",{className:"flex justify-between items-center gap-2 p-4 ml-2 bg-white text-black rounded-lg shadow-md",children:[h.jsx(c_,{className:"w-4 h-4 text-blue-500"}),h.jsx("span",{className:"flex-1 text-sm font-bold truncate max-w-72",children:e.message}),h.jsx("button",{"aria-label":"",onClick:t,className:"p-2 rounded-full hover:bg-blue-100",children:h.jsx(q9,{})})]})}const rQ=e=>I.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},I.createElement("g",{clipPath:"url(#clip0_3195_1180)"},I.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 3.66667C7.3975 3.66667 3.66667 7.3975 3.66667 12C3.66667 16.6025 7.3975 20.3333 12 20.3333C16.6025 20.3333 20.3333 16.6025 20.3333 12C20.3333 7.3975 16.6025 3.66667 12 3.66667ZM2 12C2 6.47708 6.47708 2 12 2C17.5229 2 22 6.47708 22 12C22 17.5229 17.5229 22 12 22C6.47708 22 2 17.5229 2 12Z",fill:"#9CA3AF"}),I.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.9929 20.9465C9.91235 20.8424 9.91235 19.9154 9.9929 18.1657C9.12985 18.1957 8.58443 18.1359 8.35665 17.9861C8.0154 17.7615 7.67332 17.0695 7.3704 16.5815C7.06749 16.0936 6.39415 16.0165 6.12249 15.9074C5.85082 15.7986 5.78249 15.354 6.87124 15.6899C7.95999 16.0261 8.0129 16.942 8.35665 17.1557C8.7004 17.3699 9.52165 17.2765 9.89374 17.1049C10.2658 16.9332 10.2383 16.2949 10.305 16.042C10.3887 15.8057 10.0929 15.7532 10.0867 15.7515C9.7229 15.7515 7.81415 15.3361 7.28957 13.4878C6.7654 11.639 7.44082 10.4307 7.80124 9.91155C8.04124 9.56488 8.01999 8.82682 7.73749 7.69738C8.76415 7.56571 9.55624 7.88877 10.1137 8.66655C10.1146 8.67071 10.8454 8.23196 12 8.23196C13.1546 8.23196 13.5646 8.58946 13.8808 8.66655C14.1971 8.74363 14.45 7.30571 16.4029 7.69738C15.995 8.49863 15.6537 9.49988 15.9142 9.91155C16.175 10.3228 17.1975 11.6311 16.5696 13.4878C16.1504 14.7253 15.3269 15.4799 14.0992 15.7515C13.9586 15.7965 13.8883 15.869 13.8883 15.969C13.8883 16.119 14.0783 16.1353 14.3525 16.8382C14.5358 17.3065 14.5492 18.6447 14.3925 20.8528C13.9961 20.9536 13.6878 21.0214 13.4675 21.0561C13.0771 21.1174 12.6529 21.152 12.2362 21.1649C11.8196 21.1782 11.675 21.177 11.0987 21.1232C10.7266 21.0892 10.3571 21.0302 9.9929 20.9465Z",fill:"#9CA3AF"}))),iQ=e=>I.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},I.createElement("path",{d:"M7.8 2H16.2C19.4 2 22 4.6 22 7.8V16.2C22 17.7383 21.3889 19.2135 20.3012 20.3012C19.2135 21.3889 17.7383 22 16.2 22H7.8C4.6 22 2 19.4 2 16.2V7.8C2 6.26174 2.61107 4.78649 3.69878 3.69878C4.78649 2.61107 6.26174 2 7.8 2ZM7.6 4C6.64522 4 5.72955 4.37928 5.05442 5.05442C4.37928 5.72955 4 6.64522 4 7.6V16.4C4 18.39 5.61 20 7.6 20H16.4C17.3548 20 18.2705 19.6207 18.9456 18.9456C19.6207 18.2705 20 17.3548 20 16.4V7.6C20 5.61 18.39 4 16.4 4H7.6ZM17.25 5.5C17.5815 5.5 17.8995 5.6317 18.1339 5.86612C18.3683 6.10054 18.5 6.41848 18.5 6.75C18.5 7.08152 18.3683 7.39946 18.1339 7.63388C17.8995 7.8683 17.5815 8 17.25 8C16.9185 8 16.6005 7.8683 16.3661 7.63388C16.1317 7.39946 16 7.08152 16 6.75C16 6.41848 16.1317 6.10054 16.3661 5.86612C16.6005 5.6317 16.9185 5.5 17.25 5.5ZM12 7C13.3261 7 14.5979 7.52678 15.5355 8.46447C16.4732 9.40215 17 10.6739 17 12C17 13.3261 16.4732 14.5979 15.5355 15.5355C14.5979 16.4732 13.3261 17 12 17C10.6739 17 9.40215 16.4732 8.46447 15.5355C7.52678 14.5979 7 13.3261 7 12C7 10.6739 7.52678 9.40215 8.46447 8.46447C9.40215 7.52678 10.6739 7 12 7ZM12 9C11.2044 9 10.4413 9.31607 9.87868 9.87868C9.31607 10.4413 9 11.2044 9 12C9 12.7956 9.31607 13.5587 9.87868 14.1213C10.4413 14.6839 11.2044 15 12 15C12.7956 15 13.5587 14.6839 14.1213 14.1213C14.6839 13.5587 15 12.7956 15 12C15 11.2044 14.6839 10.4413 14.1213 9.87868C13.5587 9.31607 12.7956 9 12 9Z",fill:"#9CA3AF"})),sQ=e=>I.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},I.createElement("path",{d:"M5.679 18.123C3.093 16.566 1.5 14.112 1.5 11.405C1.501 6.701 6.249 3 12.001 3C17.753 3 22.501 6.701 22.501 11.405C22.501 16.109 17.753 19.81 12.001 19.81C11.559 19.81 11.1197 19.7883 10.683 19.745L6.918 22.203C6.303 22.529 5.961 22.628 5.433 22.269C4.813 21.845 4.837 21.377 5.051 20.709L5.679 18.123ZM3.5 11.405C3.5 13.537 4.918 15.528 7.281 16.725L7.987 17.084L7.801 17.854L7.4 19.502L10.2 17.672L10.565 17.718C11.039 17.7793 11.5173 17.81 12 17.81C16.741 17.81 20.5 14.88 20.5 11.405C20.5 7.93 16.742 5 12.001 5C7.26 5 3.5 7.93 3.5 11.405ZM17.908 11.059L19.422 13.214C19.4577 13.2648 19.483 13.322 19.4965 13.3826C19.51 13.4431 19.5115 13.5057 19.5008 13.5668C19.4901 13.6279 19.4675 13.6863 19.4342 13.7387C19.401 13.791 19.3578 13.8363 19.307 13.872C19.2562 13.9077 19.199 13.933 19.1384 13.9465C19.0779 13.96 19.0153 13.9615 18.9542 13.9508C18.8931 13.9401 18.8347 13.9175 18.7823 13.8842C18.73 13.851 18.6847 13.8078 18.649 13.757L17.221 11.724L16.794 12.137V13.5C16.794 13.6252 16.7443 13.7452 16.6558 13.8338C16.5672 13.9223 16.4472 13.972 16.322 13.972C16.1968 13.972 16.0768 13.9223 15.9882 13.8338C15.8997 13.7452 15.85 13.6252 15.85 13.5V12.061C15.8334 11.9879 15.8334 11.9121 15.85 11.839V9.282C15.85 9.15682 15.8997 9.03676 15.9882 8.94825C16.0768 8.85973 16.1968 8.81 16.322 8.81C16.4472 8.81 16.5672 8.85973 16.6558 8.94825C16.7443 9.03676 16.794 9.15682 16.794 9.282V10.824L18.722 8.958C18.8128 8.87613 18.9319 8.83271 19.0541 8.83689C19.1763 8.84107 19.2922 8.89252 19.3772 8.98041C19.4622 9.06829 19.5098 9.18575 19.51 9.30804C19.5101 9.43033 19.4628 9.54791 19.378 9.636L17.908 11.059ZM14.95 12.984C15.0752 12.984 15.1952 13.0337 15.2838 13.1222C15.3723 13.2108 15.422 13.3308 15.422 13.456C15.422 13.5812 15.3723 13.7012 15.2838 13.7898C15.1952 13.8783 15.0752 13.928 14.95 13.928H13.018C12.956 13.9281 12.8946 13.916 12.8374 13.8923C12.7801 13.8686 12.7281 13.8339 12.6843 13.79C12.6405 13.7461 12.6059 13.694 12.5823 13.6367C12.5587 13.5794 12.5467 13.518 12.547 13.456V9.297C12.5441 9.23325 12.5541 9.16958 12.5765 9.10981C12.5988 9.05005 12.6331 8.99544 12.6772 8.9493C12.7212 8.90315 12.7742 8.86641 12.8329 8.84132C12.8915 8.81622 12.9547 8.80328 13.0185 8.80328C13.0823 8.80328 13.1455 8.81622 13.2041 8.84132C13.2628 8.86641 13.3158 8.90315 13.3598 8.9493C13.4039 8.99544 13.4382 9.05005 13.4605 9.10981C13.4829 9.16958 13.4929 9.23325 13.49 9.297V12.984H14.95ZM9.093 11.893H10.427L9.789 10.185L9.093 11.893ZM11.616 12.38L11.961 13.305C11.9848 13.3635 11.9967 13.4262 11.9958 13.4893C11.995 13.5525 11.9815 13.6148 11.9561 13.6727C11.9308 13.7305 11.8941 13.7827 11.8482 13.8261C11.8023 13.8694 11.7481 13.9032 11.689 13.9253C11.6298 13.9474 11.5668 13.9574 11.5037 13.9546C11.4406 13.9519 11.3787 13.9366 11.3216 13.9095C11.2645 13.8825 11.2135 13.8442 11.1715 13.7971C11.1295 13.7499 11.0973 13.6948 11.077 13.635L10.779 12.836H8.709L8.377 13.649C8.35356 13.7064 8.31904 13.7586 8.27543 13.8026C8.23181 13.8467 8.17994 13.8817 8.12279 13.9057C8.06563 13.9297 8.00431 13.9422 7.94232 13.9425C7.88033 13.9428 7.81889 13.9309 7.7615 13.9075C7.70411 13.8841 7.6519 13.8495 7.60785 13.8059C7.56381 13.7623 7.52878 13.7104 7.50478 13.6533C7.48077 13.5961 7.46826 13.5348 7.46796 13.4728C7.46765 13.4108 7.47956 13.3494 7.503 13.292L9.165 9.217C9.21605 9.08531 9.30573 8.97215 9.42227 8.89237C9.53882 8.81259 9.67677 8.76994 9.818 8.77C9.95833 8.7758 10.0936 8.8243 10.2056 8.90899C10.3176 8.99369 10.4012 9.11057 10.445 9.244L11.491 12.044C11.5723 12.1308 11.6177 12.2451 11.618 12.364L11.616 12.38ZM8.294 9.302C8.294 9.562 8.084 9.774 7.823 9.774H6.683V13.51C6.683 13.6353 6.63322 13.7555 6.54461 13.8441C6.456 13.9327 6.33581 13.9825 6.2105 13.9825C6.08518 13.9825 5.965 13.9327 5.87639 13.8441C5.78778 13.7555 5.738 13.6353 5.738 13.51V9.774H4.578C4.45282 9.774 4.33276 9.72427 4.24425 9.63575C4.15573 9.54724 4.106 9.42718 4.106 9.302C4.106 9.17682 4.15573 9.05676 4.24425 8.96825C4.33276 8.87973 4.45282 8.83 4.578 8.83H7.823C8.083 8.83 8.294 9.041 8.294 9.302Z",fill:"#9CA3AF"})),oQ=[{title:"",children:[{title:"ALLCLL ",href:"/about"},{title:"  ",href:"/faq"},{title:"  ",href:"https://forms.gle/bCDTVujEHunnvHe88"},{title:"allcllclla@google.com"}]}],aQ=[{icon:h.jsx(rQ,{className:"w-8 h-8 m-2"}),title:" github",href:"https://github.com/allcll"},{icon:h.jsx(sQ,{className:"w-8 h-8 m-2"}),title:" ",href:"https://open.kakao.com/o/g3MztXfh"},{icon:h.jsx(iQ,{className:"w-8 h-8 m-2"}),title:" instagram",href:"https://www.instagram.com/sejong_allcll"}];function f_(){return h.jsxs("footer",{className:"bg-white text-center text-sm text-gray-500",children:[h.jsxs("div",{className:"mx-auto max-w-7xl px-4 md:px-16 py-12 grid md:grid-cols-3 gap-6 text-center md:text-left",children:[h.jsxs("div",{className:"mx-auto md:mx-0",children:[h.jsxs("div",{className:"flex items-center mb-2 h-fit justify-center md:justify-start",children:[h.jsx("img",{src:"/ci.svg",className:"w-6 h-6 mr-2",alt:"ci"}),h.jsx("img",{src:"/logo-name.svg",alt:"logo",className:"h-5"})]}),h.jsx("ul",{className:"flex items-center",children:aQ.map(({icon:e,title:t,href:n})=>h.jsx("li",{children:h.jsx("a",{href:n,className:"h-fit rounded-md hover:bg-gray-200","aria-label":t,title:t,children:e})},t))})]}),h.jsxs("div",{children:[h.jsx("h3",{className:"font-bold mb-4",children:""}),h.jsx("ul",{children:M9.map(({title:e,path:t,end:n})=>h.jsx("li",{className:"mb-1",children:h.jsx(Ju,{to:t,end:n,className:"hover:text-blue-500 hover:underline hover:font-bold",children:e})},e))})]}),oQ.map((e,t)=>h.jsxs("div",{className:"mb-4",children:[h.jsx("h3",{className:"font-bold mb-4",children:e.title}),h.jsx("ul",{children:e.children.map((n,r)=>h.jsx("li",{className:"mb-1",children:n.href?n.href.startsWith("http")?h.jsx("a",{className:"hover:text-blue-500 hover:underline hover:font-bold",href:n.href,target:"_blank",children:n.title}):h.jsx(ii,{to:n.href,className:"hover:text-blue-500 hover:underline hover:font-bold",children:n.title}):h.jsx("p",{children:n.title})},r))})]},t))]}),h.jsx("p",{className:"pb-12",children:" 2025 ALLCLL. All rights reserved."})]})}const lQ=1.5*1e3,Q9=5,yi=oi(e=>({needCount:0,alwaysReload:!1,forceReloadNumber:0,errorCount:0,isError:!1,isPending:!0,addNeedCount:()=>e(t=>({needCount:t.needCount+1})),deleteNeedCount:()=>e(t=>({needCount:Math.max(0,t.needCount-1)})),setAlwaysReload:t=>e({alwaysReload:t}),setForceReload:()=>e(t=>({forceReloadNumber:t.forceReloadNumber+1,errorCount:0,isError:!1})),setError:()=>e(({errorCount:t,isPending:n})=>({errorCount:t+1,isError:t+1>=Q9,isPending:n||t>1})),resetError:()=>e({errorCount:0,isError:!1,isPending:!1})}));function uQ(e,t){let n;try{n=e()}catch{return}return{getItem:i=>{var s;const o=l=>l===null?null:JSON.parse(l,void 0),a=(s=n.getItem(i))!=null?s:null;return a instanceof Promise?a.then(o):o(a)},setItem:(i,s)=>n.setItem(i,JSON.stringify(s,void 0)),removeItem:i=>n.removeItem(i)}}const hw=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(r){return hw(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return hw(r)(n)}}}},cQ=(e,t)=>(n,r,i)=>{let s={storage:uQ(()=>localStorage),partialize:_=>_,version:0,merge:(_,C)=>({...C,..._}),...t},o=!1;const a=new Set,l=new Set;let c=s.storage;if(!c)return e((..._)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),n(..._)},r,i);const f=()=>{const _=s.partialize({...r()});return c.setItem(s.name,{state:_,version:s.version})},p=i.setState;i.setState=(_,C)=>{p(_,C),f()};const g=e((..._)=>{n(..._),f()},r,i);i.getInitialState=()=>g;let y;const b=()=>{var _,C;if(!c)return;o=!1,a.forEach(P=>{var O;return P((O=r())!=null?O:g)});const k=((C=s.onRehydrateStorage)==null?void 0:C.call(s,(_=r())!=null?_:g))||void 0;return hw(c.getItem.bind(c))(s.name).then(P=>{if(P)if(typeof P.version=="number"&&P.version!==s.version){if(s.migrate){const O=s.migrate(P.state,P.version);return O instanceof Promise?O.then($=>[!0,$]):[!0,O]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,P.state];return[!1,void 0]}).then(P=>{var O;const[$,B]=P;if(y=s.merge(B,(O=r())!=null?O:g),n(y,!0),$)return f()}).then(()=>{k?.(y,void 0),y=r(),o=!0,l.forEach(P=>P(y))}).catch(P=>{k?.(void 0,P)})};return i.persist={setOptions:_=>{s={...s,..._},_.storage&&(c=_.storage)},clearStorage:()=>{c?.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>b(),hasHydrated:()=>o,onHydrate:_=>(a.add(_),()=>{a.delete(_)}),onFinishHydration:_=>(l.add(_),()=>{l.delete(_)})},s.skipHydration||b(),y||g},K9=cQ,dQ=()=>{if(!(typeof window>"u"||typeof navigator>"u"))return navigator.vibrate||navigator.webkitVibrate||navigator.mozVibrate||navigator.msVibrate},eh=dQ(),h_={canNotify(){return!!eh},isGranted(){return this.canNotify()},requestPermission(e){this.isGranted()?e?.("granted"):e?.("denied")},getDeniedMessage(){return this.canNotify()?[]:["     ."]},show(e,t){const n=Yh(ol.VIBRATE);eh&&n&&eh.call(navigator,[200])},close(e){eh&&eh.call(navigator,0)}};var $i=(e=>(e[e.NONE=0]="NONE",e[e.BROWSER=1]="BROWSER",e[e.TOAST=2]="TOAST",e[e.BOTH=3]="BOTH",e))($i||{}),ol=(e=>(e[e.NONE=0]="NONE",e[e.VIBRATE=1]="VIBRATE",e[e.SOUND=2]="SOUND",e[e.ALL=3]="ALL",e))(ol||{});const fQ=()=>/Mobi|Android/i.test(navigator.userAgent),$4=()=>{const e="Notification"in window,t=fQ();return 1*Number(e)+2*Number(t)},U4=()=>{const e=h_.canNotify();return 1*Number(e)+2},To=oi()(K9(e=>({alarmType:$4(),subAlarmType:U4(),saveSettings:t=>e(n=>({...n,...t})),resetSettings:()=>e(()=>({alarmType:$4(),subAlarmType:U4()}))}),{name:"AlarmSettings",partialize:e=>({alarmType:e.alarmType,subAlarmType:e.subAlarmType})}));function pw(e){return!!(To.getState().alarmType&e)}function Yh(e){return!!(To.getState().subAlarmType&e)}const wl=oi(e=>({isOpen:!1,isPermitted:!1,open:()=>e({isOpen:!0}),close:()=>e({isOpen:!1}),setPermitted:t=>e({isPermitted:t})}));function hQ(){return h.jsxs(h.Fragment,{children:["  ? ",h.jsx(ii,{to:"/faq#0",className:"text-blue-500 underline hover:text-blue-600",children:" "})]})}const dg=()=>Notification??window.Notification,Es={canNotify(){return"Notification"in window||!!dg()},isGranted(){return Es.canNotify()&&dg().permission==="granted"},requestPermission(e){const t=dg();if(!Es.canNotify()){alert("      .   ");return}if(!Es.isGranted()){t.requestPermission().then(n=>{e&&e(n),wl.getState().setPermitted(n==="granted")});return}e&&e(t.permission)},getDeniedMessage(){return Es.canNotify()?Es.isGranted()?[]:["   .    "]:["     "]},show(e,t){const n=Es.canNotify(),r=pw($i.BROWSER),i=F0.getState().setBanner,s=dg();n&&r&&s.permission==="granted"&&(mQ(i),navigator.serviceWorker.ready.then(function(o){o.showNotification(e,{badge:"/ci.svg",tag:t}).then()}))},close(e){!Es.canNotify()||!Es.isGranted()||navigator.serviceWorker.ready.then(function(t){t.getNotifications({tag:e}).then(function(n){n.forEach(function(r){r.close()})})})}},pQ=1e3*60*60*24;function mQ(e){const t="alarm-check",n=localStorage.getItem(t);n&&Date.now()-Number(n)<100*pQ||setTimeout(()=>{e(hQ(),()=>{localStorage.setItem(t,Date.now().toString())})},5e3)}const mw={canNotify(){return!0},isGranted(){return!0},requestPermission(e){},getDeniedMessage(){return[]},show(e,t){const n=W0.getState().addToast;n&&n(e,t)},close(e){const t=W0.getState().clearToast;t(e)}},gQ="/notification.mp3";let to=null;const yQ=()=>{typeof Audio<"u"&&!to&&(to=new Audio(gQ),to.preload="auto",to.volume=1,to.load())};yQ();const vQ={canNotify(){return typeof Audio<"u"},isGranted(){return this.canNotify()},requestPermission(e){this.isGranted()?e?.("granted"):e?.("denied")},getDeniedMessage(){return this.canNotify()?[]:["     ."]},show(e,t){this.canNotify()&&to&&(to.currentTime=0,to.play().catch(n=>{console.warn("Failed to play notification sound:",n)}))},close(e){to&&(to.pause(),to.currentTime=0)}},Oy="";async function My(e,t){return await fetch(Oy+e,{credentials:"include",...t})}async function ba(e,t){const n=await fetch(Oy+e,{credentials:"include",...t,headers:{"Content-Type":"application/json",...t?.headers}});if(!n.ok)throw new Error(await n.text());return await n.json()}async function xQ(e,t,n){const r=await fetch(Oy+e,{method:"DELETE",credentials:"include",headers:{"Content-Type":"application/json"},body:t?JSON.stringify(t):void 0,...n});if(!r.ok)throw new Error(await r.text());return r.status===204?null:await r.json()}function bQ(e,t){return new EventSource(Oy+e,{withCredentials:!0,...t})}async function p_(e,t){const n=await fetch(e,{credentials:"include",...t});if(!n.ok)throw new Error(await n.text());return await n.json()}const wQ=async()=>await ba("/api/subjects"),Ay={subjectId:-1,subjectName:"",subjectCode:"",classCode:"",professorName:"",deptCd:"",manageDeptNm:"",studentYear:"",lesnTime:"",lesnRoom:"",tmNum:"",remark:null,curiTypeCdNm:"",curiLangNm:null,isDeleted:!0};function Os(){return lo({queryKey:["subjects"],queryFn:wQ,staleTime:1/0,select:e=>e.subjectResponses})}function _Q(e){return e.getQueryData(["subjects"])?.subjectResponses??[]}let H4=!1;function Gc(){const e=[],t=pw($i.BROWSER),n=pw($i.TOAST),r=Yh(ol.VIBRATE),i=Yh(ol.SOUND);return t&&e.push(Es),n&&e.push(mw),r&&e.push(h_),i&&e.push(vQ),e}const us={canNotify(){return Gc().every(e=>e.canNotify())},isGranted(){const e=Gc().every(t=>t.isGranted());return wl.getState().setPermitted(e),e},requestPermission(e){us.isGranted()||(Gc().forEach(t=>t.requestPermission(e)),wl.getState().open())},getDeniedMessage(){return Gc().flatMap(e=>e.getDeniedMessage())},show(e,t){To.getState().alarmType!==$i.NONE&&Gc().forEach(r=>r.show(e,t))},close(e){Gc().forEach(t=>t.close(e))}};function SQ(e,t,n){const{alwaysReload:r}=yi.getState();if(!(!e||!t||!r)){for(const i of t)if(e.some(o=>o.subjectId===i.subjectId&&o.seatCount===0&&i.seatCount>0)){const o=CQ(n,i.subjectId);if(!o){us.show("unknown subject  ");return}us.show(`${o.subjectCode}-${o.classCode} ${o.subjectName}  `)}}}function CQ(e,t){return _Q(e).find(r=>r.subjectId===t)}let fg=null,W4=1;function V4(e){const t="global-notification_"+W4,n="global-notification_"+ ++W4;fg&&(clearTimeout(fg),us.close(t),fg=null),us.show(e,n),fg=setTimeout(()=>us.close(n),3e3)}function kQ(){const e=yi(i=>i.alwaysReload),t=yi(i=>i.setAlwaysReload),n=e;return I.useEffect(()=>{H4||(us.isGranted()&&(V4("  .     "),t(!0)),H4=!0)},[]),{isAlarm:n,changeAlarm:()=>{if(!n){if(To.getState().alarmType===$i.NONE){if(!confirm("   ?"))return;To.getState().resetSettings()}us.requestPermission()}const i=n?"  ":"  ";t(!n),V4(i)}}}var m_=(e=>(e.IDLE="idle",e.LIVE="live",e))(m_||{});const EQ=3e3;let hg=null;const kd=oi(e=>({lastUpdate:new Date,sseState:"live",updated:()=>{e({lastUpdate:new Date,sseState:"live"}),hg&&clearInterval(hg),hg=setTimeout(()=>{e({sseState:"idle"}),hg=null},EQ)}}));function q4(e,t){const n=[];for(const r of t){const i=e.find(o=>o.subjectId===r.subjectId);!i||i.seatCount!==r.seatCount||i.queryTime!==r.queryTime?n.push(r):n.push(i)}return n}function TQ(e,t){const n=new Set;[...e,...t].forEach(i=>{n.add(i.subjectId)});const r=[];return n.forEach(i=>{const s=e.find(l=>l.subjectId===i),o=t.find(l=>l.subjectId===i);o&&(!s||s.queryTime!==o.queryTime||s.seatCount!==o.seatCount)?r.push(o):s&&r.push(s)}),r}var Dy=(e=>(e.NON_MAJOR="nonMajorSeats",e.MAJOR="majorSeats",e.PINNED="pinSeats",e))(Dy||{});let pg=!1;const jQ=()=>{const e=ds(),t=yi(l=>l.needCount),n=yi(l=>l.alwaysReload),r=yi(l=>l.forceReloadNumber),i=yi(l=>l.errorCount),s=yi(l=>l.setError),o=yi(l=>l.resetError),a=yi(l=>l.isError);I.useEffect(()=>{const l=n||t>0;pg||!l||i>=Q9||(pg=!0,IQ(e,o).then(()=>{o(),pg=!1}).catch(()=>{pg=!1,i===0?s():setTimeout(s,lQ)}))},[n,t,e,s,r,o,i]),I.useEffect(()=>{a&&us.show(" .  .")},[a])},IQ=(e,t)=>new Promise((n,r)=>{const i=bQ("/api/connect");return i.addEventListener("nonMajorSeats",s=>{const o=JSON.parse(s.data);if(!o)return;const a=o.seatResponses??[];e.setQueryData(["nonMajorSeats"],(l=[])=>q4(l,a)),kd.getState().updated()}),i.addEventListener("majorSeats",s=>{const o=JSON.parse(s.data);if(!o)return;const a=o.seatResponses??[];e.setQueryData(["majorSeats"],(l=[])=>q4(l,a)),kd.getState().updated()}),i.addEventListener("pinSeats",s=>{const o=JSON.parse(s.data);if(!o)return;const a=o.seatResponses??[];e.setQueryData(["pinSeats"],(l=[])=>{const c=TQ(l,a);return SQ(l,c,e),c}),kd.getState().updated()}),i.onopen=()=>{t(),kd.getState().updated()},i.onerror=s=>{i.close(),r(new Error("SSE connection error: "+(s.type??"Unknown error")))},()=>{i.close(),n("SSE connection closed")}}),g_=e=>{const t=ds(),n=yi(l=>l.addNeedCount),r=yi(l=>l.deleteNeedCount),i=yi(l=>l.isPending),s=yi(l=>l.isError),o=yi(l=>l.setForceReload);return I.useEffect(()=>{const l=()=>{document.visibilityState==="visible"?n():r()};return n(),document.addEventListener("visibilitychange",l),()=>{r(),document.removeEventListener("visibilitychange",l)}},[n,r]),{...lo({queryKey:[e],queryFn:()=>Promise.resolve(t.getQueryData([e])??[])}),isPending:i,isError:s,refetch:o}},Q4={idx:-1,key:""};function y_(){const e=ao(),t=I.useRef(Q4);I.useEffect(()=>{const n=window.history.state;(!n||n.idx>=t.current.idx)&&window.scrollTo(0,0),t.current=n??Q4},[e.pathname]),jQ()}function K4(){return y_(),h.jsxs(h.Fragment,{children:[h.jsx(Vr,{children:h.jsx("title",{children:"ALLCLL"})}),h.jsx(d_,{}),h.jsx(o_,{}),h.jsx(W9,{}),h.jsx(x2,{}),h.jsx(f_,{})]})}const NQ=async()=>v_,Vu=["2025-2","2025-WINTER"],v_={code:"WINTER-2025",semester:"2025-WINTER",services:[{id:"timetable",startDate:"2025-07-18",endDate:"2099-12-31",message:null},{id:"baskets",startDate:"2025-07-18",endDate:"2099-12-31",message:null},{id:"simulation",startDate:"2025-07-18",endDate:"2099-12-31",message:null},{id:"live",startDate:"2025-12-01",endDate:"2025-12-31",message:null},{id:"preSeat",startDate:"2025-08-16",endDate:"2025-09-30",message:null}]};function x_(e){const t=lo({queryKey:["serviceSemester"],queryFn:NQ,staleTime:1/0,select:r=>r?{...r,services:r.services.map(PQ)}:null});if(!e||!t.data)return t;const n=t.data.services.find(r=>r.id===e);return{...t,data:{code:t.data.code,semester:t.data.semester,service:n}}}const PQ=e=>{const t=new Date,n=new Date(e.startDate),r=new Date(e.endDate);n.setHours(0,0,0,0),r.setHours(23,59,59,999);const i=n<=t&&t<=r;return{id:e.id,startDate:n,endDate:r,withinPeriod:i,startDateStr:e.startDate,endDateStr:e.endDate,message:e.message}},RQ=e=>I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:17.971202850341797,height:16.003124237060547,viewBox:"0 0 17.971202850341797 16.003124237060547",...e},I.createElement("g",{transform:"matrix(1,0,0,-1,0,32.006248474121094)"},I.createElement("path",{d:"M17.9688,24.003124237060547Q17.9376,23.596874237060547,17.6568,23.315624237060547Q17.3761,23.034374237060547,16.9705,23.003124237060547L15.9723,23.003124237060547L16.0035,18.003124237060547Q15.9723,17.878124237060547,15.9723,17.753124237060547L15.9723,17.253124237060547Q15.9723,16.721874237060547,15.5979,16.378124237060547Q15.2548,16.003124237060547,14.7244,16.003124237060547L14.2253,16.003124237060547Q14.1629,16.003124237060547,14.1317,16.003124237060547Q14.0693,16.003124237060547,14.0069,16.003124237060547L12.9775,16.003124237060547L12.2288,16.003124237060547Q11.6984,16.003124237060547,11.3553,16.378124237060547Q10.9809,16.721874237060547,10.9809,17.253124237060547L10.9809,18.003124237060547L10.9809,20.003124237060547Q10.9809,20.440624237060547,10.7002,20.721874237060547Q10.4194,21.003124237060547,9.98267,21.003124237060547L7.98614,21.003124237060547Q7.54939,21.003124237060547,7.26863,20.721874237060547Q6.98787,20.440624237060547,6.98787,20.003124237060547L6.98787,18.003124237060547L6.98787,17.253124237060547Q6.98787,16.721874237060547,6.61352,16.378124237060547Q6.27036,16.003124237060547,5.74003,16.003124237060547L4.99133,16.003124237060547L3.99307,16.003124237060547Q3.96187,16.003124237060547,3.93068,16.003124237060547Q3.89948,16.003124237060547,3.86828,16.003124237060547Q3.80589,16.003124237060547,3.7435,16.003124237060547L3.24437,16.003124237060547Q2.71404,16.003124237060547,2.37088,16.378124237060547Q1.99653,16.721874237060547,1.99653,17.253124237060547L1.99653,20.753124237060547Q1.99653,20.784374237060547,1.99653,20.846874237060547L1.99653,23.003124237060547L0.998267,23.003124237060547Q0.561525,23.034374237060547,0.280763,23.315624237060547Q0,23.596874237060547,0,24.034374237060547Q0,24.440624237060547,0.311958,24.784374237060547L8.29809,31.753124237060547Q8.64125,32.034324237060545,8.9844,32.00312423706055Q9.35875,32.00312423706055,9.63952,31.78442423706055L17.6257,24.753124237060547Q18,24.440624237060547,17.9688,24.003124237060547Z",fill:"#FFFFFF",fillOpacity:1,style:{mixBlendMode:"passthrough"}})));function OQ({data:e}){const t=e.service?.endDate&&e.service.endDate<new Date;return h.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-100 px-4",children:h.jsxs("main",{className:"text-center",children:[h.jsx(qt,{level:1,children:t?"  .":" ."}),h.jsxs(Gn,{children:["    .",h.jsx("br",{}),"      ."]}),h.jsxs(Yn,{className:"mt-2",children:[t?h.jsxs(h.Fragment,{children:[h.jsxs(qt,{level:2,children:[e.semester,"  ."]}),h.jsxs(Gn,{children:["     .",h.jsx("br",{})]}),h.jsx(Gn,{children:"    ."})]}):h.jsxs(h.Fragment,{children:[h.jsx(qt,{level:2,children:"   "}),h.jsx(Gn,{children:""}),h.jsxs(Gn,{children:[e.service?.startDateStr," ~ ",e.service?.endDateStr]})]}),h.jsx("hr",{className:"my-4 border-gray-200"}),h.jsx(qt,{level:3,children:""}),h.jsx(Gn,{className:"flex items-center justify-center gap-2 mt-2",children:"allcllclla@google.com"}),h.jsx(Dt,{variant:"text",size:"medium",textColor:"primary",asChild:!0,children:h.jsx("a",{href:"https://forms.gle/bCDTVujEHunnvHe88",target:"_blank",children:"  "})}),h.jsx(Dt,{variant:"text",size:"medium",textColor:"primary",asChild:!0,children:h.jsx("a",{href:"https://open.kakao.com/o/g3MztXfh",target:"_blank",children:" "})})]}),h.jsx(Pe,{className:"mt-6",justify:"justify-center",children:h.jsx(Dt,{variant:"primary",size:"medium",asChild:!0,children:h.jsxs(ii,{to:"/",children:[h.jsx(RQ,{className:"w-4 h-4"}),"  "]})})})]})})}function G9({serviceId:e,children:t}){const{data:n,error:r}=x_(e);return r&&console.error("Semester service error:",r),!n||!("service"in n)||!n.service||n.service.withinPeriod?t:h.jsx(OQ,{data:n})}function G4({serviceId:e}){return y_(),h.jsxs(h.Fragment,{children:[h.jsx(d_,{}),h.jsx(o_,{}),h.jsxs(G9,{serviceId:e,children:[h.jsx(W9,{}),h.jsx(x2,{})]}),h.jsx(f_,{})]})}const MQ=[{name:"  ",children:[{name:"  ",children:[{name:"",path:"/simulation"},{name:" ",path:"/simulation/logs"},{name:" ",path:"/simulation/admin"},{name:" ",path:"#"},{name:"/ ",path:"#"},{name:"/",path:"#"},{name:"(,)",path:"#"}]}]}],gw=[{title:"",urlPath:"/simulation"},{title:" ",urlPath:"/simulation/logs"},{title:" ",urlPath:"/simulation/logs/"},{title:" ",urlPath:"/simulation/interest"},{title:" ",urlPath:"/simulation/admin"}];({...gw[0],realUrl:gw[0].urlPath});function Y9({className:e,essential:t,disabled:n,children:r}){const s=(t?"relative inline-block w-autobefore:content-[''] before:absolute before:top-0 before:left-0 before:w-0 before:h-0 before:z-5 "+(n?"before:border-t-[8px] before:border-t-gray-400 before:border-r-[8px] before:border-r-transparent ":"before:border-t-[8px] before:border-t-red-500 before:border-r-[8px] before:border-r-transparent "):"")+e;return h.jsx("div",{className:s,children:r})}function AQ({type:e="text",className:t="",essential:n=!1,disabled:r=!1,...i}){return h.jsx(Y9,{className:t,essential:n,disabled:r,children:h.jsx("input",{type:e,className:"relative border-1 border-gray-300 px-2 text-xs w-max h-6 focus:outline-none focus:rounded focus:ring focus:border-gray-800 disabled:bg-gray-100 disabled:cursor-not-allowed ",disabled:r,...i})})}function DQ({variant:e="primary",size:t="md",className:n="",children:r,...i}){const s="flex flex-row gap-1 cursor-pointer rounded",o=LQ(e),a=FQ(t),l=`${s} ${o} ${a} ${n}`.trim();return h.jsx("button",{className:l,...i,children:r})}function LQ(e){switch(e){case"primary":return"bg-blue-500 text-white hover:bg-blue-600";case"secondary":return"bg-gray-500 text-white hover:bg-gray-600";case"dark":return"bg-gray-700 text-white hover:bg-gray-900";case"cancel":return"bg-white border border-gray-700 hover:bg-gray-100";case"danger":return"bg-red-500 text-white hover:bg-red-600";default:return""}}function FQ(e){switch(e){case"sm":return"px-2 py-0.5 text-xs rounded-xs";case"md":return"px-3 py-2 text-sm";case"lg":return"px-4 py-3 text-base";default:return""}}function BQ({className:e="",essential:t=!1,children:n,...r}){const i="px-2 h-6 text-gray-400 text-xs border border-gray-300 disabled:bg-gray-100 disabled:cursor-not-allowed "+e;return h.jsx(Y9,{className:e,essential:t,disabled:r.disabled??!1,children:h.jsx("select",{className:i,...r,children:n})})}function zQ({children:e,onBackdropClick:t,preventAutoFocus:n,noBorder:r}){const i=I.useRef(null),s=r?"":"border-[3px] border-slate-800 ";I.useEffect(()=>(document.body.style.overflow="hidden",n||i.current?.focus(),()=>{document.body.style.overflow=""}),[n]);const o=a=>{a.stopPropagation(),t&&t()};return h.jsxs("div",{className:"flex items-center justify-center fixed inset-0 w-full h-full z-100",role:"none",ref:i,tabIndex:-1,onClick:o,children:[h.jsx("div",{className:"fixed inset-0 justify-center opacity-30 bg-gray-300 border-b-2 border-gray-400"}),h.jsx("div",{className:"fixed inset-x-0 top-16 bottom-0 flex items-center justify-center",tabIndex:-1,children:h.jsx("div",{className:s,children:h.jsx("div",{className:"w-[95%] sm:w-fit bg-white max-h-[90%] overflow-y-auto",role:"dialog",tabIndex:-1,onClick:a=>a.stopPropagation(),children:e})})})]})}const X9=e=>I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",...e},I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2px",d:"M4 20L20 4M4 4l16 16"}));function $Q({title:e,onClose:t=()=>{}}){return h.jsxs("div",{className:"flex justify-between items-center p-3 border-b border-gray-200 ",children:[h.jsx("h2",{className:"font-semibold sm:text-lg text-sm text-gray-900",children:e}),h.jsx("button",{className:"w-5 h-5 text-gray-500 hover:text-gray-700 cursor-pointer",onClick:t,title:"",tabIndex:-1,children:h.jsx(X9,{className:"w-full h-full"})})]})}function UQ({variant:e="primary",className:t="",children:n,...r}){const i="px-4 h-6 text-xs flex items-center gap-1 rounded-xs cursor-pointer",s=HQ(e),o=`${i} ${s} ${t}`.trim();return h.jsx("button",{className:o,...r,children:n})}function HQ(e){switch(e){case"primary":return"bg-blue-500 text-white hover:bg-blue-600";case"secondary":return"bg-gray-500 text-white hover:bg-gray-600";case"cancel":return"bg-white border border-gray-700 hover:bg-blue-50 hover:border-blue-500";case"danger":return"bg-red-500 text-white hover:bg-red-600";default:return""}}function WQ({children:e,className:t="",...n}){const r="flex justify-end gap-4 w-full border-3 border-white "+t;return h.jsx("div",{className:r,...n,children:e})}const VQ=Object.assign(zQ,{Header:$Q,Button:UQ,ButtonContainer:WQ});function qQ({columns:e}){return h.jsx("thead",{className:"bg-gray-100",children:h.jsx("tr",{className:"text-nowrap",children:e.map(t=>h.jsx("th",{className:"border border-gray-300 px-2 py-1",children:t.header},String(t.header)))})})}function QQ({columns:e,data:t,keyInfo:n}){return h.jsx("tbody",{children:t.map((r,i)=>{const s=typeof n=="function"?n(r):r[n];return h.jsx("tr",{children:e.map(o=>h.jsx("td",{className:"border border-gray-300 px-2 py-1",children:o.cell(r,i)},`cell-${s}-${o.header}`))},`row-${s}`)})})}function KQ(){return h.jsx("tbody",{children:h.jsx("tr",{children:h.jsx("td",{colSpan:99,className:"text-gray-500 py-4",children:h.jsx("div",{className:"min-h-[160px] flex items-center justify-center ",children:h.jsx("p",{className:"bg-gray-100 px-15 py-1 border",children:"  ."})})})})})}function GQ({columns:e,data:t,className:n="w-full border border-gray-300 border-t-3 border-t-black text-center text-xs text-nowrap",keyInfo:r,emptyComponent:i=h.jsx(KQ,{})}){const s=t&&t.length>0;return h.jsx("div",{className:"overflow-x-auto min-h-[300px] border-gray-300",children:h.jsxs("table",{className:n,children:[h.jsx(qQ,{columns:e}),s?h.jsx(QQ,{columns:e,data:t,keyInfo:r}):i]})})}function YQ({children:e,className:t=""}){const r=`font-semibold pl-2 border-l-4 border-blue-500 ${t}`.trim();return h.jsx("div",{className:r,children:e})}const J9=I.createContext(null);function XQ(){const e=I.useContext(J9);if(!e)throw new Error("useTabsContext must be used within a TabsProvider");return e}function JQ({tabList:e,initialTabs:t=[],children:n}){const[r,i]=I.useState(t),s=fy(),o=ao();I.useEffect(()=>{if(r.length===0){const f=a(o);l(f),s(f.realUrl)}},[r]),I.useEffect(()=>{l(a(o))},[o.pathname]);function a(f){const p=f.pathname.replace(/\d+/,"");return{title:e.find(g=>g.urlPath===p)?.title||"   ",urlPath:p,realUrl:f.pathname}}const l=f=>{i(p=>{const g=p.findIndex(b=>b.urlPath===f.urlPath);if(g===-1)return[...p,f];const y=[...p];return y[g]=f,y})},c=f=>{i(p=>{const g=p.find(b=>b.urlPath===f);if(!g)return p;const y=p.filter(b=>b.urlPath!==f);if(window.location.pathname.includes(g.realUrl)){const b=y[y.length-1];s(b?b.realUrl:"/")}return y})};return h.jsx(J9.Provider,{value:{tabs:r,setTab:l,deleteTab:c},children:n})}function ZQ({tab:e,onDelete:t}){return h.jsxs(Ju,{to:e.realUrl,className:({isActive:n})=>"group px-2.5 flex items-center gap-2.5 w-1/4 sm:w-1/8 border-r-1 border-r-neutral-300 cursor-pointer focus:outline-none"+(n?" mb-[-1px] bg-white border-b-2 border-b-white border-t-4 border-t-blue-500 font-semibold text-blue-500":" text-gray-500 hover:bg-white"),end:!0,children:[h.jsx("span",{className:"flex-1 text-center overflow-hidden text-ellipsis text-nowrap rounded-xs group-focus:outline-black group-focus:outline-2",children:e.title}),h.jsx("button",{tabIndex:-1,"aria-label":" ",className:"w-4 text-gray-700 hover:text-blue-500 cursor-pointer",onClick:n=>{n.preventDefault(),n.stopPropagation(),t(e.urlPath)},children:h.jsx(X9,{className:"w-3 h-3"})})]})}function eK(){const{tabs:e,deleteTab:t}=XQ();return h.jsx("div",{className:"flex border-b border-neutral-300 bg-gray-100 text-sm h-12",children:e.map(n=>h.jsx(ZQ,{tab:n,onDelete:t},n.urlPath))})}function tK({tabList:e,initialTabs:t=[]}){return h.jsx(JQ,{tabList:e,initialTabs:t,children:h.jsx(eK,{})})}function nK({menu:e}){return h.jsx("li",{children:e.path==="#"?h.jsx("div",{className:"block px-2 py-2 text-xs text-gray-400 cursor-not-allowed",children:e.name}):h.jsx(Ju,{to:e.path??"#",className:({isActive:t})=>`block px-2 py-2 text-xs cursor-pointer hover:bg-blue-500 hover:text-white ${t?"bg-blue-500 text-white":""}`,end:!0,children:e.name})})}const rK=!0;function iK({menu:e}){const[t,n]=I.useState(rK);return h.jsxs("li",{className:"",children:[h.jsxs("button",{className:"px-4 py-2 h-10 flex items-center gap-4 w-full border-b border-neutral-300 cursor-pointer hover:bg-gray-100 "+(t?"font-semibold":"font-normal"),onClick:()=>n(r=>!r),children:[h.jsx("span",{children:t?"-":"+"}),h.jsx("span",{children:e.name})]}),t&&e.children&&h.jsx("ul",{className:"ml-1 pl-4 bg-neutral-100 font-semibold",children:e.children.map(r=>h.jsx(nK,{menu:r},r.name))})]})}const sK=!0;function oK({menu:e}){const[t,n]=I.useState(sK);return h.jsxs("li",{children:[h.jsxs("button",{className:"px-4 py-2 h-12 flex items-center justify-between w-full border-b border-neutral-300 cursor-pointer hover:bg-gray-100 "+(t?"font-semibold":"font-normal"),onClick:()=>n(r=>!r),children:[e.name,e.children&&h.jsx("span",{className:"ml-auto text-gray-500",children:t?"":""})]}),t&&e.children&&h.jsx("ul",{className:"",children:e.children.map(r=>h.jsx(iK,{menu:r},r.name))})]})}function aK({menus:e}){const[t,n]=I.useState(!0),[r]=I.useState(/Android|iPhone/i.test(navigator.userAgent)),i=()=>{n(s=>!s)};return h.jsx("aside",{className:(t?"relative z-10":"relative bg-blue-50 z-10")+(!t||r?" w-[20px] min-w-[20px] h-[calc(100vh-60px)]":" w-[230px] min-w-[230px]"),children:t?h.jsxs("div",{className:r?"absolute w-[300px] min-w-[300px] h-full bg-white shadow-gray-800 shadow-md":"bg-white",children:[h.jsxs("div",{className:"h-12 bg-blue-500 text-white text-lg font-semibold flex items-center justify-between px-4",children:[h.jsx("span",{children:""}),h.jsx("button",{className:"text-white hover:text-gray-200 cursor-pointer",onClick:i,children:"<"})]}),h.jsx("ul",{className:"flex flex-col text-sm",children:e.map(s=>h.jsx(oK,{menu:s},s.name))})]}):h.jsx("div",{children:h.jsx("button",{className:"w-full h-12 bg-blue-500 text-white text-lg font-semibold text-center cursor-pointer hover:text-gray-200",onClick:i,children:">"})})})}const pn={Input:AQ,Button:DQ,Select:BQ,Modal:VQ,SectionHeader:YQ,Tab:tK,AsideMenu:aK,DataTable:GQ};function lK(){return y_(),h.jsxs(h.Fragment,{children:[h.jsx(d_,{}),h.jsx(o_,{}),h.jsx(G9,{serviceId:"simulation",children:h.jsx("div",{className:"w-full bg-white text-sm text-gray-800 font-sans",children:h.jsxs("div",{className:"flex",children:[h.jsx(pn.AsideMenu,{menus:MQ}),h.jsxs("div",{className:"flex-auto min-w-0",children:[h.jsx(pn.Tab,{tabList:gw}),h.jsx("main",{className:"flex-1 p-4 space-y-4 mx-auto max-w-screen-2xl overflow-x-hidden",children:h.jsx(x2,{})})]})]})})}),h.jsx(f_,{})]})}function ic({bgColor:e,className:t,children:n}){const r=e??"even:bg-white ",i=t?` ${t}`:"";return h.jsx("section",{className:r,children:h.jsx("div",{className:`mx-auto max-w-7xl px-4 md:px-8 py-10 ${i}`,children:n})})}const Y4="",X4="2025",uK="12 1()",cK="12 3()";function dK(){return h.jsxs(ic,{className:"flex flex-col md:flex-row items-center justify-between",bgColor:"bg-banner-skysoft",children:[h.jsxs("div",{className:"max-w-xl",children:[h.jsxs("div",{className:"flex flex-row gap-2 items-center",children:[h.jsx("img",{src:"/calendar.png",alt:"calendar",className:"w-10 h-10"}),h.jsxs("span",{className:"italic text-xs text-stone-500 ",children:[X4," ",Y4,"    ",h.jsx("br",{})," ",uK," ~ ",cK]})]}),h.jsxs("h2",{className:"text-xl mt-10 sm:text-2xl md:text-4xl leading-snug font-bold mb-3 ",children:[X4," ",Y4," ,"]}),h.jsxs("div",{className:"flex flex-row justify-start items-center text-xl sm:text-2xl md:text-4xl leading-snug font-bold mb-3",children:[h.jsx("img",{src:"/logo-name.svg",alt:"logo-name",className:"w-20 sm:w-32 md:w-40 lg:w-48 mr-2 animate-updown"})," !"]}),h.jsx(Gn,{children:"    ,    ALLCLL  ."}),h.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mt-4",children:[h.jsx(Dt,{variant:"primary",size:"medium",asChild:!0,children:h.jsx(ii,{to:"/live",children:"  "})}),h.jsx(Dt,{variant:"outlined",size:"medium",asChild:!0,children:h.jsx(ii,{to:"/simulation",children:"  "})})]})]}),h.jsx("img",{src:"/summer-banner.png",alt:"summer-banner",className:"w-90 hidden sm:block  mt-8 md:mt-4"})]})}const fK=e=>I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:15,height:15,viewBox:"0 0 15 15",...e},I.createElement("g",{transform:"matrix(1,0,0,-1,0,30)"},I.createElement("path",{d:"M10.3125,30Q9.69727,29.9707,9.43359,29.414099999999998Q9.22852,28.8574,9.63867,28.3887L10.8691,27.1875L5.88867,22.23633Q5.625,21.94336,5.625,21.5625Q5.625,21.18164,5.88867,20.88867Q6.18164,20.625,6.5625,20.625Q6.94336,20.625,7.23633,20.88867L12.1875,25.8691L13.3887,24.638669999999998Q13.8574,24.22852,14.4141,24.433590000000002Q14.9707,24.69727,15,25.3125L15,29.0625Q15,29.4727,14.7363,29.7363Q14.4727,30,14.0625,30L10.3125,30ZM2.34375,29.0625Q1.34766,29.0332,0.673828,28.3887Q0.0292969,27.7148,0,26.7188L0,17.34375Q0.0292969,16.34766,0.673828,15.673828Q1.34766,15.0292969,2.34375,15L11.7188,15Q12.7148,15.0292969,13.3887,15.673828Q14.0332,16.34766,14.0625,17.34375L14.0625,20.625Q14.0625,21.03516,13.7988,21.29883Q13.5352,21.5625,13.125,21.5625Q12.7148,21.5625,12.4512,21.29883Q12.1875,21.03516,12.1875,20.625L12.1875,17.34375Q12.1582,16.9043,11.7188,16.875L2.34375,16.875Q1.9043,16.9043,1.875,17.34375L1.875,26.7188Q1.9043,27.1582,2.34375,27.1875L5.625,27.1875Q6.03516,27.1875,6.29883,27.4512Q6.5625,27.7148,6.5625,28.125Q6.5625,28.5352,6.29883,28.7988Q6.03516,29.0625,5.625,29.0625L2.34375,29.0625Z",fill:"#007AFF",fillOpacity:1,style:{mixBlendMode:"passthrough"}})));function Ly({title:e,subtitle:t,href:n,disabled:r=!1}){const i=!!n&&!r;return h.jsxs(h.Fragment,{children:[i?h.jsxs(ii,{to:n,className:"flex items-center gap-2 hover:underline focus:underline",children:[h.jsx(qt,{level:2,children:e}),h.jsx(fK,{className:"w-4 h-4"})]}):h.jsx(qt,{level:2,children:e}),t&&h.jsx(Gn,{children:t})]})}function Z9(e,t){const n=$t(c=>c.options),[r,i]=I.useState({dragging:!1,startX:0,startY:0}),s=I.useCallback(c=>{c.stopPropagation();const{x:f,y:p}=mg(c,n);e&&e(f,p,f,p),i({startX:f,startY:p,dragging:!0})},[e]),o=c=>{c.stopPropagation();const{x:f,y:p}=mg(c,n);t&&t(r.startX,r.startY,f,p),i(g=>({...g,dragging:!1}))},a=c=>{c.stopPropagation();const{x:f,y:p}=mg(c,n);e&&e(r.startX,r.startY,f,p)},l=c=>{c.stopPropagation();const f=c.touches[0],{x:p,y:g}=mg(f,n);e&&e(r.startX,r.startY,p,g)};return I.useEffect(()=>{if(r.dragging)return document.addEventListener("mouseup",o),document.addEventListener("touchmove",l),document.addEventListener("mousemove",a),()=>{document.removeEventListener("mouseup",o),document.removeEventListener("touchmove",l),document.removeEventListener("mousemove",a)}},[r,e,t]),{dragging:r.dragging,onMouseDown:s}}const J4=6;function mg(e,t){const{tableX:n,tableY:r,width:i,height:s,cols:o,rows:a}=t,{pageX:l,pageY:c}=e,f=i/o||1,p=s/a||1,g=Math.floor((l-n)/f),y=Math.floor((c-r)/p*J4)/J4,b=Math.max(0,Math.min(o-1,g)),_=Math.max(0,Math.min(a,y));return{x:b,y:_}}function hK(e){return new Promise(t=>setTimeout(t,e))}function ej(e,t=9){const n=t*60,r=new Date,i=new Date(e);return i.setMonth(i.getMonth()-n-r.getTimezoneOffset()),i}class Yc{time;constructor(t){switch(typeof t){case"string":const[r,i]=t.split(":").map(Number);this.time=r*60+i;break;case"object":const{hours:s,minutes:o}=t;this.time=s*60+o;break;case"number":this.time=t;break}if(Number.isNaN(this.time)||this.time<0||this.time>=1440)throw this.time=0,new Error("Invalid time value")}toObject(){const t=Math.floor(this.time/60),n=this.time%60;return{hours:t,minutes:n}}toString(){const{hours:t,minutes:n}=this.toObject(),r=t.toString().padStart(2,"0"),i=n.toString().padStart(2,"0");return`${r}:${i}`}compare(t){const n=this.time-t.time;return n===0?0:n>0?1:-1}}const b_={timeTableId:-1,timeTableName:" ",semester:"",schedules:[]},pK=async()=>await ba("/api/timetables"),tj=e=>lo({queryKey:["timetableList",e],queryFn:pK,select:t=>t.timeTables.filter(n=>n.semester===e),staleTime:1e3*60*5});function nj(e){const{data:t}=Os();return lo({queryKey:["timetableData",e],queryFn:async()=>!e||e<=0?{timetableId:-1,timetableName:" ",semester:"",schedules:[]}:await ba(`/api/timetables/${e}/schedules`),select:r=>xK(r,t),refetchOnWindowFocus:!1,staleTime:1e3*60*5})}function mK(){const e=ds(),{currentTimetable:t,pickTimetable:n}=$t.getState();return jl({mutationFn:async({timeTableId:r,timeTableName:i})=>await ba(`/api/timetables/${r}`,{method:"PATCH",body:JSON.stringify({timeTableName:i})}),onMutate:async({timeTableId:r})=>(await e.cancelQueries({queryKey:["timetableList",r]}),{timeTableId:r}),onSuccess:async(r,i,s)=>{const o=s?.timeTableId;t?.timeTableId===o&&n({timeTableId:r.timeTableId,timeTableName:r.timeTableName,semester:r.semester}),await e.invalidateQueries({queryKey:["timetableList"]}),await e.invalidateQueries({queryKey:["timetableList",o]})},onError:async(r,i,s)=>{console.error(`   (id: ${s?.timeTableId})`,r),await e.invalidateQueries({queryKey:["timetableList"]}),await e.invalidateQueries({queryKey:["timetableList",s?.timeTableId]})}})}function rj(){const e=ds();return jl({mutationFn:async t=>await My(`/api/timetables/${t}`,{method:"DELETE"}),onMutate:async t=>(await e.cancelQueries({queryKey:["timetableList"]}),await e.cancelQueries({queryKey:["timetableData",t]}),{timeTableId:t}),onError:async(t,n,r)=>{console.error(`   (id: ${r?.timeTableId})`,t),await e.invalidateQueries({queryKey:["timetableList",r?.timeTableId]}),await e.invalidateQueries({queryKey:["timetableList"]})},onSuccess:async(t,n,r)=>{await e.invalidateQueries({queryKey:["timetableList"]}),await e.invalidateQueries({queryKey:["timetableData",r?.timeTableId]})}})}function ij(){const e=ds();return jl({mutationFn:async({timeTableName:t,semester:n})=>await ba("/api/timetables",{method:"POST",body:JSON.stringify({timeTableName:t,semester:n})}),onSuccess:async t=>{const{pickTimetable:n}=$t.getState();n({timeTableId:t.timeTableId,timeTableName:t.timeTableName,semester:t.semester}),await e.invalidateQueries({queryKey:["timetableList"]})},onError:async t=>{try{const n=JSON.parse(t.message);alert(n.message)}catch{alert("Error adding Timetable")}await e.invalidateQueries({queryKey:["timetableList"]})}})}function gK(e){const t=ds(),n=$t(i=>i.changeScheduleData),{mutateAsync:r}=ij();return jl({mutationFn:async({schedule:i})=>{let s=e;if(!s||s<=0){const a=await r({timeTableName:" ",semester:Vu[0]});s=a.timeTableId,await hK(300),t.setQueryData(["timetableData",s],{timetableId:s,timetableName:a.timeTableName,semester:a.semester,schedules:[i]})}return{schedule:await ba(`/api/timetables/${s}/schedules`,{method:"POST",body:JSON.stringify(i)}),targetTimetableId:s}},onMutate:async i=>{if(!e||e<=0)return;const s=t.getQueryData(["timetableData",e])??{...b_};return e&&e>0&&(await t.cancelQueries({queryKey:["timetableData",e]}),t.setQueryData(["timetableData",e],{...s,schedules:[...s.schedules,i.schedule]}),n(new Hi().toUiData(),lr.NONE)),{...i,prevTimetableSchedules:s}},onError:(i,s,o)=>{t.setQueryData(["timetableData",e],o?.prevTimetableSchedules),console.error(i)},onSuccess:async({schedule:i,targetTimetableId:s},o,a)=>{const l=t.getQueryData(["timetableData",s]);n(new Hi().toUiData(),lr.NONE),t.setQueryData(["timetableData",s],{...l,schedules:l?.schedules.map(c=>c.scheduleId===a.schedule.scheduleId?i:c)})}})}function yK(e){const t=ds();return jl({mutationFn:async({schedule:n})=>await ba(`/api/timetables/${e}/schedules/${n.scheduleId}`,{method:"PATCH",body:JSON.stringify(n)}),onMutate:async n=>{const r=t.getQueryData(["timetableData",e])??{...b_};return await t.cancelQueries({queryKey:["timetableData",e]}),{...n,prevTimetableSchedules:r}},onError:(n,r,i)=>{t.setQueryData(["timetableData",e],i?.prevTimetableSchedules),console.error(n)},onSuccess:async(n,r,i)=>{if(!i?.prevTimetableSchedules){await t.invalidateQueries({queryKey:["timetableList"]}),await t.invalidateQueries({queryKey:["timetableData",e]});return}t.setQueryData(["timetableData",e],{...i.prevTimetableSchedules,schedules:i.prevTimetableSchedules.schedules.map(s=>s.scheduleId===n.scheduleId?{...s,...n}:s)})}})}function vK(e){const t=ds();return jl({mutationFn:async({schedule:n})=>await xQ(`/api/timetables/${e}/schedules/${n.scheduleId}`,{scheduleType:n.scheduleType}),onMutate:async n=>{const r=t.getQueryData(["timetableData",e])??{...b_};return await t.cancelQueries({queryKey:["timetableData",e]}),{...n,prevTimetableSchedules:r}},onError:(n,r,i)=>{t.setQueryData(["timetableData",e],i?.prevTimetableSchedules),console.error(n)},onSuccess:async(n,{schedule:r},i)=>{if(console.log("  ! timetableId:",e),!i?.prevTimetableSchedules){await t.invalidateQueries({queryKey:["timetableList"]}),await t.invalidateQueries({queryKey:["timetableData",e]});return}console.log("  !   . timetableId:",e,i.prevTimetableSchedules),t.setQueryData(["timetableData",e],{...i.prevTimetableSchedules,schedules:i.prevTimetableSchedules.schedules.filter(s=>s.scheduleId!==r.scheduleId)}),await t.invalidateQueries({queryKey:["timetableData",e]})}})}function xK(e,t){if(!e||!t)return[];const{schedules:n}=e;return n.map(r=>new Hi(r,t).toUiData())}function sj(e,t=9){const n=$t(a=>a.schedule),r=$t(a=>a.mode),i=["rose","amber","green","emerald","blue","violet"],s={};if(!e)return;let o=e;return(r===lr.EDIT||r===lr.VIEW)&&(o=e.map(a=>a.scheduleId===n.scheduleId?n:a)),o.forEach((a,l)=>{const c=a.isDeleted?"gray":i[l%i.length],{subjectName:f,professorName:p,location:g}=a;new of(a.timeSlots).toUiData(t).forEach(b=>{s[b.dayOfWeek]||(s[b.dayOfWeek]=[]),s[b.dayOfWeek].push({title:f,professor:p,location:g,schedule:a,color:c,...b})})}),Object.keys(s).forEach(a=>{s[a]=bK(s[a])}),s}function bK(e){const n=$t.getState().options.isMobile?8:16,r=o=>Number.parseFloat(o.replace("px",""));return e.sort((o,a)=>{const l=r(o.height);return r(a.height)-l}).reduce((o,a)=>{const l=r(a.top),c=l+r(a.height),p=o.reduce((g,y)=>{const b=r(y.top),_=b+r(y.height);return b<=l&&l<_||b<c&&c<=_?Math.max(g,y.depth):g},-1)+1;return[...o,{...a,depth:p}]},[]).map(o=>{const a=n*o.depth;return{...o,left:`${a}px`,right:"0px",height:o.height,top:o.top}})}function wK(e){const t=$t(i=>i.schedule),n=$t(i=>i.mode);if(!e)return[];const r=e.filter(i=>i.timeSlots===null||i.timeSlots.length===0);return n===lr.NONE||t.timeSlots.length>0?r.map(i=>({...i,selected:!1})):t.scheduleId<=0?[...r.map(i=>({...i,selected:!1})),{...t,selected:!0}]:r.map(i=>({...i,selected:i.scheduleId===t.scheduleId}))}const Z4={search:{isOpen:!1},filter:{isOpen:!1},edit:{isOpen:!1},info:{isOpen:!1}},ha=oi(e=>({type:Z4,openBottomSheet:t=>e(n=>({type:{...n.type,[t]:{isOpen:!0}}})),closeBottomSheet:t=>e(n=>({type:{...n.type,[t]:{isOpen:!1}}})),resetBottomSheet:()=>e({type:Z4})})),vx=()=>new Hi().toUiData();let xx;function _i(){const e=ds(),t=$t(C=>C.changeScheduleData),r=$t(C=>C.currentTimetable)?.timeTableId??-1,i=ha(C=>C.openBottomSheet),s=ha(C=>C.closeBottomSheet),[,o]=I.useTransition(),{mutate:a}=gK(r),{mutate:l}=yK(r),{mutate:c}=vK(r);return{setOptimisticSchedule:C=>{o(()=>t(C,lr.NONE))},openScheduleModal:C=>{xx=e.getQueryData(["timetableData",r]);let k;!C.scheduleId||C.scheduleId<=0?(k=lr.CREATE,C.scheduleType!=="official"&&i("edit")):C.scheduleType==="official"?(k=lr.VIEW,console.log(xx),i("info")):(k=lr.EDIT,i("edit")),t(C,k)},editSchedule:C=>{const k=$t.getState().schedule;let P=C instanceof Function?C(k):C;t(P)},saveSchedule:(C,k=!0)=>{const P=$t.getState().schedule,O=$t.getState().mode;if(C&&C.preventDefault(),!new of(P.timeSlots).validate()){alert("       .");return}const B=P.timeSlots.length!==0;if(P.scheduleType==="custom"&&!B){alert(" !.");return}const M=new Hi(P).toApiData();O===lr.CREATE?(M.scheduleId=SK(xx?.schedules??[]),a({schedule:M})):O===lr.EDIT&&(l({schedule:M}),t({...vx()},lr.NONE)),k&&s("edit")},deleteSchedule:C=>{const k=$t.getState().schedule;C&&C.preventDefault();const P=new Hi(k).toApiData();c({schedule:P}),t({...vx()},lr.NONE),s("edit")},cancelSchedule:(C,k=!0)=>{C&&C.preventDefault(),t({...vx()},lr.NONE),k&&s("edit")}}}function kp(){const e=$t(n=>n.mode),t=$t(n=>n.schedule);return{modalActionType:e,schedule:t}}function _K(){const{minTime:e}=$t(n=>n.options);return{getTimeslot:(n,r,i)=>{n>r&&([n,r]=[r,n]),i!==void 0&&r-n<i&&(r=n+i);const s=ek(e,n),o=ek(e,r);return{startTime:s,endTime:o}}}}function ek(e,t){const n=e+Math.floor(t),r=Math.floor((t-Math.floor(t))*60);return n<0?"00:00":n>23?"23:50":`${n.toString().padStart(2,"0")}:${r.toString().padStart(2,"0")}`}function SK(e){let t=-Math.floor(Math.random()*1e6);for(;e.some(n=>n.scheduleId===t);)t=-Math.floor(Math.random()*1e6);return t}function oj({title:e,professor:t,location:n,color:r="blue",schedule:i,selected:s=!1,timeslotIndex:o,fixed:a=!1,...l}){const{text:c,bgLight:f,bg:p}=CK(r),g=I.useRef(null),{openScheduleModal:y}=_i(),b=$t(B=>B.schedule),_=s||b.scheduleId===i.scheduleId,C=(B,j,M,U)=>{if(!g.current||a)return;const z=M-B,D=(U-j)*Xh;g.current.style.setProperty("transform",`translate(calc(100% * ${z}), ${D}px)`)},k=(B,j,M,U)=>{if(!g.current||a)return;i.scheduleType==="official"&&g.current.style.setProperty("transform","");const z={...i,timeSlots:i.timeSlots.map((D,ee)=>ee!==o?D:FK(D,M-B,U-j))};y(z),g.current.style.setProperty("transform","")},P=B=>{(B.key==="Enter"||B.key===" ")&&(B.preventDefault(),B.stopPropagation(),k(0,0,0,0))},{dragging:O,onMouseDown:$}=Z9(C,k);return h.jsxs("div",{ref:g,className:`flex absolute ${f} rounded-l-xs cursor-pointer hover:z-20 focus:z-20 `+l.className,onMouseDown:$,onKeyDown:P,tabIndex:0,...l,children:[h.jsx("div",{className:`w-[2px] h-full sm:w-1 sm:rounded-xs  ${p}`}),h.jsxs("div",{className:"flex-auto sm:p-2 p-[1px] "+(_?"animate-pulse":"")+(O?"opacity-50":""),children:[h.jsx("h3",{className:`${c} font-semibold text-[9px] sm:text-sm`,children:e}),h.jsxs("p",{className:"sm:text-xs text-[7px] text-gray-500",children:[t," ",n]})]})]})}function CK(e){switch(e){case"rose":return{text:"text-rose-500",bgLight:"bg-rose-50",bg:"bg-rose-500"};case"amber":return{text:"text-amber-500",bgLight:"bg-amber-50",bg:"bg-amber-500"};case"green":return{text:"text-green-500",bgLight:"bg-green-50",bg:"bg-green-500"};case"emerald":return{text:"text-emerald-500",bgLight:"bg-emerald-50",bg:"bg-emerald-500"};case"blue":return{text:"text-blue-500",bgLight:"bg-blue-50",bg:"bg-blue-500"};case"violet":return{text:"text-violet-500",bgLight:"bg-violet-50",bg:"bg-violet-500"};default:return{text:"text-gray-500",bgLight:"bg-gray-50",bg:"bg-gray-500"}}}function kK({dayOfWeeks:e}){const t=$t(p=>p.schedule),n=$t(p=>p.options),{data:r}=Os();if(!r||t.scheduleId>0||!t.timeSlots||t.timeSlots.length<=0)return null;let i=Number.parseInt(n.rowNames[0].replace("",""));Number.isNaN(i)&&(i=9);const s=new Hi(t,r).toUiData(),a=new of(s.timeSlots).toUiData(i).filter(({dayOfWeek:p})=>p===e);if(!a)return null;const{subjectName:l,professorName:c,location:f}=s;return a.map(({height:p,top:g,left:y,right:b},_)=>h.jsx(EK,{timeslotIndex:_,title:l??"",professor:c??"",location:f??"",schedule:t,style:{height:p,top:g,left:y,right:b}},`wire-schedule-${e}-${_}`))}function EK({title:e,professor:t,location:n,...r}){const{timeslotIndex:i,...s}=r;return h.jsx("div",{className:`flex absolute rounded-md z-20 
      border-violet-500 border-2 md:border-4
      ${r.className}`,style:{...r.style},...s,children:h.jsxs("div",{className:"flex-auto p-2 bg-violet-50  rounded-md animate-pulse",children:[h.jsx("h3",{className:"text-violet-500 font-semibold  text-[10px] sm:text-sm",children:e}),h.jsxs("p",{className:" sm:text-xs text-[8px]  text-gray-500",children:[t," ",n]})]})})}const bx=()=>new Hi().toUiData(),TK=({dayOfWeeks:e,scheduleTimes:t})=>{const n=t,{setOptimisticSchedule:r,openScheduleModal:i}=_i(),{getTimeslot:s}=_K(),o=(f,p,g,y)=>{const{startTime:b,endTime:_}=s(p,y,1);r({...bx(),timeSlots:[{dayOfWeeks:e,startTime:b,endTime:_}]})},a=(f,p,g,y)=>{const{startTime:b,endTime:_}=s(p,y,1);i({...bx(),timeSlots:[{dayOfWeeks:e,startTime:b,endTime:_}]})},l=f=>{(f.key==="Enter"||f.key===" ")&&i({...bx()})},{onMouseDown:c}=Z9(o,a);return h.jsxs("div",{className:"relative flex-auto px-[2px]",tabIndex:0,onMouseDown:c,onKeyDown:l,children:[h.jsx(kK,{dayOfWeeks:e}),n.map(({title:f,professor:p,location:g,color:y,height:b,top:_,left:C,right:k,schedule:P},O)=>h.jsx(oj,{timeslotIndex:O,title:f,professor:p??"",location:g??"",schedule:P,color:y,style:{height:b,top:_,left:C,right:k}},"schedule-"+O))]})};function jK({schedules:e}){const t=e?.reduce((n,r)=>{if(r.scheduleType!=="official"||!r.tmNum)return n;const i=r.tmNum.split("/").map(s=>{const o=Number(s);return Number.isNaN(o)?0:o});return n.map((s,o)=>s+(i[o]??0))},[0,0,0])??[0,0,0];return h.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500 bg-blue-50 rounded-md p-2 mt-3",children:[h.jsxs("span",{children:[" : ",t[0]??0]}),h.jsxs("span",{children:[": ",t[1]??0]}),h.jsxs("span",{children:[": ",t[2]??0]})]})}const aj=e=>I.createElement("svg",{width:23,height:23,viewBox:"0 0 23 23",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},I.createElement("path",{d:"M10.3669 11.3356L7.94579 9.04443C7.8086 8.9146 7.73766 8.75936 7.733 8.57871C7.72833 8.39807 7.79059 8.23915 7.9198 8.10198C8.049 7.9648 8.20424 7.89386 8.38551 7.88918C8.56678 7.88449 8.7257 7.94676 8.86225 8.07598L11.2834 10.3671L13.5745 7.94599C13.7043 7.80879 13.8596 7.73786 14.0402 7.73319C14.2209 7.72852 14.3798 7.79079 14.517 7.91999C14.6541 8.04919 14.7252 8.20458 14.7302 8.38616C14.7352 8.56774 14.6728 8.7265 14.5429 8.86244L12.2518 11.2836L14.6729 13.5747C14.8101 13.7045 14.8812 13.8599 14.8862 14.0409C14.8912 14.2218 14.8288 14.3806 14.6989 14.5171C14.5691 14.6537 14.4137 14.7248 14.2328 14.7304C14.0518 14.736 13.8931 14.6736 13.7565 14.5431L11.3354 12.252L9.04423 14.6731C8.9144 14.8103 8.75901 14.8814 8.57806 14.8864C8.39711 14.8914 8.23835 14.829 8.10178 14.6991C7.96521 14.5693 7.89428 14.414 7.88898 14.2334C7.88369 14.0528 7.94595 13.8939 8.07578 13.7567L10.3669 11.3356Z",fill:"#6B7280"}));function IK({schedules:e}){const t=wK(e);return h.jsx(Pe,{direction:"flex-col",gap:"gap-2",className:"mt-3",children:t.map(n=>h.jsx(NK,{schedule:n,selected:n.selected},n.scheduleId))})}function NK({schedule:e,selected:t}){const{openScheduleModal:n}=_i(),r=()=>{n(e)};return h.jsxs("div",{className:"h-10 w-full p-4 flex justify-between items-center rounded border "+(t?"bg-blue-100 border-blue-500":"border-gray-200"),children:[h.jsxs(Pe,{gap:"gap-5",children:[h.jsx("p",{children:e.subjectName}),h.jsx("p",{className:"text-stone-400",children:e.professorName})]}),h.jsx(Tr,{"aria-label":"delete",variant:"plain",label:"delete",icon:h.jsx(aj,{className:"w-5 h-5"}),onClick:r})]},e.scheduleId)}const Fy=["","","","","","",""];function PK(e){const t=$t(a=>a.schedule),n=$t(a=>a.setOptions),r=[...e??[],t],i=r.reduce((a,l)=>{let c=a;return l.timeSlots?(l.timeSlots.some(f=>f.dayOfWeeks==="")&&(c=Math.max(c,6)),l.timeSlots.some(f=>f.dayOfWeeks==="")&&(c=Math.max(c,7)),c):a},5),{minTime:s,maxTime:o}=r.reduce((a,l)=>(l.timeSlots.forEach(c=>{const f=Number.parseInt(c.startTime.split(":")[0]),p=Number.parseInt(c.endTime.split(":")[0]);Number.isNaN(f)||Number.isNaN(p)||(a.minTime=Math.min(a.minTime,f),a.maxTime=Math.max(a.maxTime,p))}),a),{minTime:9,maxTime:20});return I.useEffect(()=>{n({rowNames:Array.from({length:o-s+1},(a,l)=>`${s+l}`),minTime:s,maxTime:o,rows:o-s+1})},[s,o]),I.useEffect(()=>{n({colNames:Fy.slice(0,i),cols:i})},[i]),{}}let wx=null;const RK=e=>{const t=$t(r=>r.setOptions),n=()=>{if(!e.current)return;const r=e.current.getBoundingClientRect();t({width:r.width,height:r.height,tableX:r.left+window.pageXOffset,tableY:r.top+window.pageYOffset}),wx=null};I.useEffect(()=>{if(!e.current)return;const r=()=>{wx||(wx=setTimeout(n,300),t({isMobile:window.innerWidth<768}))};return r(),window.addEventListener("resize",r),()=>{window.removeEventListener("resize",r)}},[e])};function OK(e){const t=I.useRef(!1),n=F0(r=>r.setBanner);I.useEffect(()=>{e?.some(i=>i.isDeleted)&&!t.current&&(t.current=!0,n("  !    "))},[e])}const Xh=40;function MK({schedules:e}){const t=I.useRef(null),n=$t(r=>r.setOptions);return I.useEffect(()=>{n({containerRef:t?.current??null})},[t]),h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"bg-white",ref:t,children:[h.jsx(LK,{children:h.jsx(DK,{schedules:e})}),h.jsx(IK,{schedules:e})]}),h.jsx(jK,{schedules:e})]})}const AK=Fy.reduce((e,t)=>(e[t]=[],e),{});function DK({schedules:e}){const{colNames:t,minTime:n}=$t(i=>i.options),r=sj(e,n)??AK;return OK(e),PK(e),t.map(i=>h.jsx(TK,{scheduleTimes:r[i]??[],dayOfWeeks:i},"day-schedule-"+i))}function LK({rowHeight:e=Xh,children:t}){const{colNames:n,rowNames:r}=$t(i=>i.options);return h.jsx(lj,{colNames:n,rowNames:r,rowHeight:e,children:t})}class Hi{data;constructor(t,n){if(!t){this.data=this.#t();return}if(t.scheduleType==="official"&&!t.subjectName){this.data=this.#e(t,n);return}this.data=t,this.data.timeSlots||(this.data.timeSlots=[])}#t(){return{scheduleId:-1,scheduleType:"custom",subjectId:null,subjectName:"",professorName:"",location:"",tmNum:"",isDeleted:!1,timeSlots:[]}}#e(t,n){if(!n)throw new TypeError("Subjects must be provided for API to UI conversion");const r=n instanceof Array?n.find(i=>i.subjectId===t.subjectId):n;return{scheduleId:t.scheduleId,scheduleType:t.scheduleType,subjectId:t.subjectId,subjectName:r?.subjectName??"",professorName:r?.professorName??"",location:r?.lesnRoom??"",tmNum:r?.tmNum??"",isDeleted:r?.isDeleted??!1,timeSlots:new of(r?.lesnTime).toApiData()}}toApiData(){const t=this.data;return t.scheduleType==="official"?{scheduleId:t.scheduleId,scheduleType:"official",subjectId:t.subjectId??0,subjectName:null,professorName:null,location:null,timeSlots:[]}:{...t,scheduleType:"custom",subjectId:null}}toUiData(){return this.data}}class of{data;constructor(t){if(!t){this.data=[];return}if(typeof t=="string"){this.data=this.#e(t);return}if(Array.isArray(t)){this.data=t.map(n=>this.#t(n));return}this.data=[this.#t(t)]}#t(t){const[n,r]=t.startTime.split(":"),[i,s]=t.endTime.split(":");return{dayOfWeeks:t.dayOfWeeks,startHour:Number.parseInt(n),startMinute:Number.parseInt(r),endHour:Number.parseInt(i),endMinute:Number.parseInt(s)}}#e(t){const n=/([]+)(\d{1,2}:\d{2})-(\d{1,2}:\d{2})/g,r=[];let i;for(;(i=n.exec(t))!==null;){const s=i[1],o=i[2],a=i[3],l=s.split("");for(const c of l)r.push(this.#t({dayOfWeeks:c,startTime:o,endTime:a}))}return r}validate(){return this.data.every(t=>{const{startHour:n,startMinute:r,endHour:i,endMinute:s}=t;return n<i||n===i&&r<s})}toApiData(){const t=n=>n.toString().padStart(2,"0");return this.data.map(n=>({dayOfWeeks:n.dayOfWeeks,startTime:`${t(n.startHour)}:${t(n.startMinute)}`,endTime:`${t(n.endHour)}:${t(n.endMinute)}`}))}toUiData(t){return this.data.map(({startHour:n,startMinute:r,endHour:i,endMinute:s,dayOfWeeks:o})=>{const a=(n*60+r)/60,l=(i*60+s)/60;return{dayOfWeek:o,depth:0,left:"0px",right:"0px",height:`${(l-a)*Xh}px`,top:`${(a-t)*Xh}px`}})}}function FK(e,t,n){const{dayOfWeeks:r,startTime:i,endTime:s}=e,[o,a]=i.split(":").map(Number),[l,c]=s.split(":").map(Number),f=Math.min(24,o+a/60+n),p=Math.min(24,l+c/60+n),g=Math.floor(f),y=Math.round((f-g)*60),b=Math.floor(p),_=Math.round((p-b)*60),C=["","","","","","",""],P=(C.indexOf(r)+t+C.length)%C.length;return{dayOfWeeks:C[P],startTime:`${g.toString().padStart(2,"0")}:${y.toString().padStart(2,"0")}`,endTime:`${b.toString().padStart(2,"0")}:${_.toString().padStart(2,"0")}`}}var lr=(e=>(e.NONE="none",e.CREATE="create",e.EDIT="edit",e.VIEW="view",e))(lr||{});const $t=oi(e=>({currentTimetable:null,options:{containerRef:null,timetableRef:null,colNames:Fy.slice(0,5),rowNames:Array.from({length:12},(t,n)=>`${n+9}`),minTime:9,maxTime:20,tableX:0,tableY:0,width:0,height:0,cols:5,rows:11,isMobile:!1},mode:"none",schedule:new Hi().toUiData(),pickTimetable:t=>{e(n=>({...n,currentTimetable:t}))},setOptions:t=>{e(n=>({...n,options:{...n.options,...t}}))},changeScheduleData:(t,n)=>{e(r=>({...r,mode:n??r.mode,schedule:{...r.schedule,...t}}))}}));function lj({rowHeight:e=Xh,colNames:t,rowNames:n,children:r}){const i=I.useRef(null),{isMobile:s}=$t(l=>l.options);RK(i);const{headerWidth:o,headerHeight:a}=s?{headerWidth:20,headerHeight:20}:{headerWidth:60,headerHeight:40};return h.jsxs("div",{className:"relative w-full bg-white",children:[h.jsxs("div",{className:"flex bg-gray-50 rounded-t-md",style:{height:`${a}px`},children:[h.jsx("div",{className:"flex items-center justify-center font-semibold text-gray-700",style:{width:`${o}px`}}),t.map((l,c)=>h.jsx("div",{className:"flex flex-auto items-center justify-center font-semibold text-gray-400 text-[10px] md:text-sm",children:l},"timetable-grid-header-"+c))]}),h.jsx("div",{className:"flex absolute inset-0",style:{top:`${a}px`,left:`${o}px`},children:t.map((l,c)=>h.jsx("div",{className:"flex-auto border-l border-gray-200 h-full"},"timetable-grid-col-"+c))}),n.map((l,c)=>h.jsx("div",{className:"border-b border-gray-200",style:{height:`${e}px`},children:h.jsx("span",{className:"flex items-center justify-center h-full text-gray-400 w-[20px] md:w-[60px] text-[10px] md:text-sm",children:l})},"timetable-grid-row-"+c)),h.jsx("div",{id:"timetable",ref:i,className:"absolute inset-0 flex z-10",style:{top:`${a}px`,left:`${o}px`},children:r})]})}const tk=["","","","",""],BK=Array.from({length:5},(e,t)=>`${t+9}`),zK=[{scheduleId:"1",scheduleType:"custom",subjectId:null,subjectName:"",professorName:"",location:"B209",tmNum:"3/1/0",isDeleted:!1,timeSlots:[{dayOfWeeks:"",startTime:"09:00",endTime:"10:30"},{dayOfWeeks:"",startTime:"09:00",endTime:"10:30"}]},{scheduleId:"2",scheduleType:"custom",subjectId:null,subjectName:"",professorName:"",location:"B209",tmNum:"3/1/0",isDeleted:!1,timeSlots:[{dayOfWeeks:"",startTime:"11:00",endTime:"12:30"},{dayOfWeeks:"",startTime:"11:00",endTime:"12:30"}]},{scheduleId:3,scheduleType:"custom",subjectId:null,subjectName:"",professorName:"",location:"B209",tmNum:"3/1/0",isDeleted:!1,timeSlots:[{dayOfWeeks:"",startTime:"12:00",endTime:"13:30"},{dayOfWeeks:"",startTime:"12:00",endTime:"13:30"}]}];function $K(){const e=sj(zK,9);return h.jsxs(ic,{children:[h.jsx(Ly,{title:"",subtitle:"     ",href:"/timetable"}),h.jsx(Yn,{className:"mt-6",children:h.jsx(lj,{colNames:tk,rowNames:BK,children:tk.map(t=>h.jsx(UK,{data:e?e[t]:[]},t))})})]})}function UK({data:e}){return e?h.jsx("div",{className:"relative flex-auto px-[2px]",children:e.map(({title:t,professor:n,location:r,color:i,height:s,top:o,left:a,right:l,schedule:c},f)=>h.jsx(oj,{timeslotIndex:f,title:t,professor:n??"",location:r??"",schedule:c,color:i,style:{height:s,top:o,left:a,right:l},selected:!1,fixed:!0},"schedule-"+f))}):h.jsx("div",{className:"relative flex-auto px-[2px]"})}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Ep(e){return e+.5|0}const al=(e,t,n)=>Math.max(Math.min(e,n),t);function yh(e){return al(Ep(e*2.55),0,255)}function hl(e){return al(Ep(e*255),0,255)}function oa(e){return al(Ep(e/2.55)/100,0,1)}function nk(e){return al(Ep(e*100),0,100)}const Cs={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},yw=[..."0123456789ABCDEF"],HK=e=>yw[e&15],WK=e=>yw[(e&240)>>4]+yw[e&15],gg=e=>(e&240)>>4===(e&15),VK=e=>gg(e.r)&&gg(e.g)&&gg(e.b)&&gg(e.a);function qK(e){var t=e.length,n;return e[0]==="#"&&(t===4||t===5?n={r:255&Cs[e[1]]*17,g:255&Cs[e[2]]*17,b:255&Cs[e[3]]*17,a:t===5?Cs[e[4]]*17:255}:(t===7||t===9)&&(n={r:Cs[e[1]]<<4|Cs[e[2]],g:Cs[e[3]]<<4|Cs[e[4]],b:Cs[e[5]]<<4|Cs[e[6]],a:t===9?Cs[e[7]]<<4|Cs[e[8]]:255})),n}const QK=(e,t)=>e<255?t(e):"";function KK(e){var t=VK(e)?HK:WK;return e?"#"+t(e.r)+t(e.g)+t(e.b)+QK(e.a,t):void 0}const GK=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function uj(e,t,n){const r=t*Math.min(n,1-n),i=(s,o=(s+e/30)%12)=>n-r*Math.max(Math.min(o-3,9-o,1),-1);return[i(0),i(8),i(4)]}function YK(e,t,n){const r=(i,s=(i+e/60)%6)=>n-n*t*Math.max(Math.min(s,4-s,1),0);return[r(5),r(3),r(1)]}function XK(e,t,n){const r=uj(e,1,.5);let i;for(t+n>1&&(i=1/(t+n),t*=i,n*=i),i=0;i<3;i++)r[i]*=1-t-n,r[i]+=t;return r}function JK(e,t,n,r,i){return e===i?(t-n)/r+(t<n?6:0):t===i?(n-e)/r+2:(e-t)/r+4}function w_(e){const n=e.r/255,r=e.g/255,i=e.b/255,s=Math.max(n,r,i),o=Math.min(n,r,i),a=(s+o)/2;let l,c,f;return s!==o&&(f=s-o,c=a>.5?f/(2-s-o):f/(s+o),l=JK(n,r,i,f,s),l=l*60+.5),[l|0,c||0,a]}function __(e,t,n,r){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,r)).map(hl)}function S_(e,t,n){return __(uj,e,t,n)}function ZK(e,t,n){return __(XK,e,t,n)}function eG(e,t,n){return __(YK,e,t,n)}function cj(e){return(e%360+360)%360}function tG(e){const t=GK.exec(e);let n=255,r;if(!t)return;t[5]!==r&&(n=t[6]?yh(+t[5]):hl(+t[5]));const i=cj(+t[2]),s=+t[3]/100,o=+t[4]/100;return t[1]==="hwb"?r=ZK(i,s,o):t[1]==="hsv"?r=eG(i,s,o):r=S_(i,s,o),{r:r[0],g:r[1],b:r[2],a:n}}function nG(e,t){var n=w_(e);n[0]=cj(n[0]+t),n=S_(n),e.r=n[0],e.g=n[1],e.b=n[2]}function rG(e){if(!e)return;const t=w_(e),n=t[0],r=nk(t[1]),i=nk(t[2]);return e.a<255?`hsla(${n}, ${r}%, ${i}%, ${oa(e.a)})`:`hsl(${n}, ${r}%, ${i}%)`}const rk={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},ik={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function iG(){const e={},t=Object.keys(ik),n=Object.keys(rk);let r,i,s,o,a;for(r=0;r<t.length;r++){for(o=a=t[r],i=0;i<n.length;i++)s=n[i],a=a.replace(s,rk[s]);s=parseInt(ik[o],16),e[a]=[s>>16&255,s>>8&255,s&255]}return e}let yg;function sG(e){yg||(yg=iG(),yg.transparent=[0,0,0,0]);const t=yg[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const oG=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function aG(e){const t=oG.exec(e);let n=255,r,i,s;if(t){if(t[7]!==r){const o=+t[7];n=t[8]?yh(o):al(o*255,0,255)}return r=+t[1],i=+t[3],s=+t[5],r=255&(t[2]?yh(r):al(r,0,255)),i=255&(t[4]?yh(i):al(i,0,255)),s=255&(t[6]?yh(s):al(s,0,255)),{r,g:i,b:s,a:n}}}function lG(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${oa(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}const _x=e=>e<=.0031308?e*12.92:Math.pow(e,1/2.4)*1.055-.055,Xc=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function uG(e,t,n){const r=Xc(oa(e.r)),i=Xc(oa(e.g)),s=Xc(oa(e.b));return{r:hl(_x(r+n*(Xc(oa(t.r))-r))),g:hl(_x(i+n*(Xc(oa(t.g))-i))),b:hl(_x(s+n*(Xc(oa(t.b))-s))),a:e.a+n*(t.a-e.a)}}function vg(e,t,n){if(e){let r=w_(e);r[t]=Math.max(0,Math.min(r[t]+r[t]*n,t===0?360:1)),r=S_(r),e.r=r[0],e.g=r[1],e.b=r[2]}}function dj(e,t){return e&&Object.assign(t||{},e)}function sk(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=hl(e[3]))):(t=dj(e,{r:0,g:0,b:0,a:1}),t.a=hl(t.a)),t}function cG(e){return e.charAt(0)==="r"?aG(e):tG(e)}class Jh{constructor(t){if(t instanceof Jh)return t;const n=typeof t;let r;n==="object"?r=sk(t):n==="string"&&(r=qK(t)||sG(t)||cG(t)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var t=dj(this._rgb);return t&&(t.a=oa(t.a)),t}set rgb(t){this._rgb=sk(t)}rgbString(){return this._valid?lG(this._rgb):void 0}hexString(){return this._valid?KK(this._rgb):void 0}hslString(){return this._valid?rG(this._rgb):void 0}mix(t,n){if(t){const r=this.rgb,i=t.rgb;let s;const o=n===s?.5:n,a=2*o-1,l=r.a-i.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;s=1-c,r.r=255&c*r.r+s*i.r+.5,r.g=255&c*r.g+s*i.g+.5,r.b=255&c*r.b+s*i.b+.5,r.a=o*r.a+(1-o)*i.a,this.rgb=r}return this}interpolate(t,n){return t&&(this._rgb=uG(this._rgb,t._rgb,n)),this}clone(){return new Jh(this.rgb)}alpha(t){return this._rgb.a=hl(t),this}clearer(t){const n=this._rgb;return n.a*=1-t,this}greyscale(){const t=this._rgb,n=Ep(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=n,this}opaquer(t){const n=this._rgb;return n.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return vg(this._rgb,2,t),this}darken(t){return vg(this._rgb,2,-t),this}saturate(t){return vg(this._rgb,1,t),this}desaturate(t){return vg(this._rgb,1,-t),this}rotate(t){return nG(this._rgb,t),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Xo(){}const dG=(()=>{let e=0;return()=>e++})();function Jt(e){return e==null}function Vn(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function Zt(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}function ir(e){return(typeof e=="number"||e instanceof Number)&&isFinite(+e)}function ss(e,t){return ir(e)?e:t}function Et(e,t){return typeof e>"u"?t:e}const fG=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100:+e/t,fj=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100*t:+e;function Mn(e,t,n){if(e&&typeof e.call=="function")return e.apply(n,t)}function _n(e,t,n,r){let i,s,o;if(Vn(e))for(s=e.length,i=0;i<s;i++)t.call(n,e[i],i);else if(Zt(e))for(o=Object.keys(e),s=o.length,i=0;i<s;i++)t.call(n,e[o[i]],o[i])}function V0(e,t){let n,r,i,s;if(!e||!t||e.length!==t.length)return!1;for(n=0,r=e.length;n<r;++n)if(i=e[n],s=t[n],i.datasetIndex!==s.datasetIndex||i.index!==s.index)return!1;return!0}function q0(e){if(Vn(e))return e.map(q0);if(Zt(e)){const t=Object.create(null),n=Object.keys(e),r=n.length;let i=0;for(;i<r;++i)t[n[i]]=q0(e[n[i]]);return t}return e}function hj(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}function hG(e,t,n,r){if(!hj(e))return;const i=t[e],s=n[e];Zt(i)&&Zt(s)?Zh(i,s,r):t[e]=q0(s)}function Zh(e,t,n){const r=Vn(t)?t:[t],i=r.length;if(!Zt(e))return e;n=n||{};const s=n.merger||hG;let o;for(let a=0;a<i;++a){if(o=r[a],!Zt(o))continue;const l=Object.keys(o);for(let c=0,f=l.length;c<f;++c)s(l[c],e,o,n)}return e}function Nh(e,t){return Zh(e,t,{merger:pG})}function pG(e,t,n){if(!hj(e))return;const r=t[e],i=n[e];Zt(r)&&Zt(i)?Nh(r,i):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=q0(i))}const ok={"":e=>e,x:e=>e.x,y:e=>e.y};function mG(e){const t=e.split("."),n=[];let r="";for(const i of t)r+=i,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}function gG(e){const t=mG(e);return n=>{for(const r of t){if(r==="")break;n=n&&n[r]}return n}}function _l(e,t){return(ok[t]||(ok[t]=gG(t)))(e)}function C_(e){return e.charAt(0).toUpperCase()+e.slice(1)}const ep=e=>typeof e<"u",Sl=e=>typeof e=="function",ak=(e,t)=>{if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0};function yG(e){return e.type==="mouseup"||e.type==="click"||e.type==="contextmenu"}const mn=Math.PI,Bn=2*mn,vG=Bn+mn,Q0=Number.POSITIVE_INFINITY,xG=mn/180,cr=mn/2,fu=mn/4,lk=mn*2/3,ll=Math.log10,jo=Math.sign;function Ph(e,t,n){return Math.abs(e-t)<n}function uk(e){const t=Math.round(e);e=Ph(e,t,e/1e3)?t:e;const n=Math.pow(10,Math.floor(ll(e))),r=e/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function bG(e){const t=[],n=Math.sqrt(e);let r;for(r=1;r<n;r++)e%r===0&&(t.push(r),t.push(e/r));return n===(n|0)&&t.push(n),t.sort((i,s)=>i-s).pop(),t}function wG(e){return typeof e=="symbol"||typeof e=="object"&&e!==null&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}function qu(e){return!wG(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function _G(e,t){const n=Math.round(e);return n-t<=e&&n+t>=e}function pj(e,t,n){let r,i,s;for(r=0,i=e.length;r<i;r++)s=e[r][n],isNaN(s)||(t.min=Math.min(t.min,s),t.max=Math.max(t.max,s))}function ro(e){return e*(mn/180)}function k_(e){return e*(180/mn)}function ck(e){if(!ir(e))return;let t=1,n=0;for(;Math.round(e*t)/t!==e;)t*=10,n++;return n}function mj(e,t){const n=t.x-e.x,r=t.y-e.y,i=Math.sqrt(n*n+r*r);let s=Math.atan2(r,n);return s<-.5*mn&&(s+=Bn),{angle:s,distance:i}}function vw(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function SG(e,t){return(e-t+vG)%Bn-mn}function ti(e){return(e%Bn+Bn)%Bn}function tp(e,t,n,r){const i=ti(e),s=ti(t),o=ti(n),a=ti(s-i),l=ti(o-i),c=ti(i-s),f=ti(i-o);return i===s||i===o||r&&s===o||a>l&&c<f}function Lr(e,t,n){return Math.max(t,Math.min(n,e))}function CG(e){return Lr(e,-32768,32767)}function la(e,t,n,r=1e-6){return e>=Math.min(t,n)-r&&e<=Math.max(t,n)+r}function E_(e,t,n){n=n||(o=>e[o]<t);let r=e.length-1,i=0,s;for(;r-i>1;)s=i+r>>1,n(s)?i=s:r=s;return{lo:i,hi:r}}const ua=(e,t,n,r)=>E_(e,n,r?i=>{const s=e[i][t];return s<n||s===n&&e[i+1][t]===n}:i=>e[i][t]<n),kG=(e,t,n)=>E_(e,n,r=>e[r][t]>=n);function EG(e,t,n){let r=0,i=e.length;for(;r<i&&e[r]<t;)r++;for(;i>r&&e[i-1]>n;)i--;return r>0||i<e.length?e.slice(r,i):e}const gj=["push","pop","shift","splice","unshift"];function TG(e,t){if(e._chartjs){e._chartjs.listeners.push(t);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),gj.forEach(n=>{const r="_onData"+C_(n),i=e[n];Object.defineProperty(e,n,{configurable:!0,enumerable:!1,value(...s){const o=i.apply(this,s);return e._chartjs.listeners.forEach(a=>{typeof a[r]=="function"&&a[r](...s)}),o}})})}function dk(e,t){const n=e._chartjs;if(!n)return;const r=n.listeners,i=r.indexOf(t);i!==-1&&r.splice(i,1),!(r.length>0)&&(gj.forEach(s=>{delete e[s]}),delete e._chartjs)}function yj(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const vj=function(){return typeof window>"u"?function(e){return e()}:window.requestAnimationFrame}();function xj(e,t){let n=[],r=!1;return function(...i){n=i,r||(r=!0,vj.call(window,()=>{r=!1,e.apply(t,n)}))}}function jG(e,t){let n;return function(...r){return t?(clearTimeout(n),n=setTimeout(e,t,r)):e.apply(this,r),t}}const T_=e=>e==="start"?"left":e==="end"?"right":"center",ei=(e,t,n)=>e==="start"?t:e==="end"?n:(t+n)/2,IG=(e,t,n,r)=>e===(r?"left":"right")?n:e==="center"?(t+n)/2:t;function bj(e,t,n){const r=t.length;let i=0,s=r;if(e._sorted){const{iScale:o,vScale:a,_parsed:l}=e,c=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null,f=o.axis,{min:p,max:g,minDefined:y,maxDefined:b}=o.getUserBounds();if(y){if(i=Math.min(ua(l,f,p).lo,n?r:ua(t,f,o.getPixelForValue(p)).lo),c){const _=l.slice(0,i+1).reverse().findIndex(C=>!Jt(C[a.axis]));i-=Math.max(0,_)}i=Lr(i,0,r-1)}if(b){let _=Math.max(ua(l,o.axis,g,!0).hi+1,n?0:ua(t,f,o.getPixelForValue(g),!0).hi+1);if(c){const C=l.slice(_-1).findIndex(k=>!Jt(k[a.axis]));_+=Math.max(0,C)}s=Lr(_,i,r)-i}else s=r-i}return{start:i,count:s}}function wj(e){const{xScale:t,yScale:n,_scaleRanges:r}=e,i={xmin:t.min,xmax:t.max,ymin:n.min,ymax:n.max};if(!r)return e._scaleRanges=i,!0;const s=r.xmin!==t.min||r.xmax!==t.max||r.ymin!==n.min||r.ymax!==n.max;return Object.assign(r,i),s}const xg=e=>e===0||e===1,fk=(e,t,n)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-t)*Bn/n)),hk=(e,t,n)=>Math.pow(2,-10*e)*Math.sin((e-t)*Bn/n)+1,Rh={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*cr)+1,easeOutSine:e=>Math.sin(e*cr),easeInOutSine:e=>-.5*(Math.cos(mn*e)-1),easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>xg(e)?e:e<.5?.5*Math.pow(2,10*(e*2-1)):.5*(-Math.pow(2,-10*(e*2-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>xg(e)?e:fk(e,.075,.3),easeOutElastic:e=>xg(e)?e:hk(e,.075,.3),easeInOutElastic(e){return xg(e)?e:e<.5?.5*fk(e*2,.1125,.45):.5+.5*hk(e*2-1,.1125,.45)},easeInBack(e){return e*e*((1.70158+1)*e-1.70158)},easeOutBack(e){return(e-=1)*e*((1.70158+1)*e+1.70158)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:e=>1-Rh.easeOutBounce(1-e),easeOutBounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:e=>e<.5?Rh.easeInBounce(e*2)*.5:Rh.easeOutBounce(e*2-1)*.5+.5};function j_(e){if(e&&typeof e=="object"){const t=e.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function pk(e){return j_(e)?e:new Jh(e)}function Sx(e){return j_(e)?e:new Jh(e).saturate(.5).darken(.1).hexString()}const NG=["x","y","borderWidth","radius","tension"],PG=["color","borderColor","backgroundColor"];function RG(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),e.set("animations",{colors:{type:"color",properties:PG},numbers:{type:"number",properties:NG}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function OG(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const mk=new Map;function MG(e,t){t=t||{};const n=e+JSON.stringify(t);let r=mk.get(n);return r||(r=new Intl.NumberFormat(e,t),mk.set(n,r)),r}function Tp(e,t,n){return MG(t,n).format(e)}const _j={values(e){return Vn(e)?e:""+e},numeric(e,t,n){if(e===0)return"0";const r=this.chart.options.locale;let i,s=e;if(n.length>1){const c=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(c<1e-4||c>1e15)&&(i="scientific"),s=AG(e,n)}const o=ll(Math.abs(s)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:i,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),Tp(e,r,l)},logarithmic(e,t,n){if(e===0)return"0";const r=n[t].significand||e/Math.pow(10,Math.floor(ll(e)));return[1,2,3,5,10,15].includes(r)||t>.8*n.length?_j.numeric.call(this,e,t,n):""}};function AG(e,t){let n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(n)>=1&&e!==Math.floor(e)&&(n=e-Math.floor(e)),n}var By={formatters:_j};function DG(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,n)=>n.lineWidth,tickColor:(t,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:By.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const Qu=Object.create(null),xw=Object.create(null);function Oh(e,t){if(!t)return e;const n=t.split(".");for(let r=0,i=n.length;r<i;++r){const s=n[r];e=e[s]||(e[s]=Object.create(null))}return e}function Cx(e,t,n){return typeof t=="string"?Zh(Oh(e,t),n):Zh(Oh(e,""),t)}class LG{constructor(t,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,i)=>Sx(i.backgroundColor),this.hoverBorderColor=(r,i)=>Sx(i.borderColor),this.hoverColor=(r,i)=>Sx(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(n)}set(t,n){return Cx(this,t,n)}get(t){return Oh(this,t)}describe(t,n){return Cx(xw,t,n)}override(t,n){return Cx(Qu,t,n)}route(t,n,r,i){const s=Oh(this,t),o=Oh(this,r),a="_"+n;Object.defineProperties(s,{[a]:{value:s[n],writable:!0},[n]:{enumerable:!0,get(){const l=this[a],c=o[i];return Zt(l)?Object.assign({},c,l):Et(l,c)},set(l){this[a]=l}}})}apply(t){t.forEach(n=>n(this))}}var qn=new LG({_scriptable:e=>!e.startsWith("on"),_indexable:e=>e!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[RG,OG,DG]);function FG(e){return!e||Jt(e.size)||Jt(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function K0(e,t,n,r,i){let s=t[i];return s||(s=t[i]=e.measureText(i).width,n.push(i)),s>r&&(r=s),r}function BG(e,t,n,r){r=r||{};let i=r.data=r.data||{},s=r.garbageCollect=r.garbageCollect||[];r.font!==t&&(i=r.data={},s=r.garbageCollect=[],r.font=t),e.save(),e.font=t;let o=0;const a=n.length;let l,c,f,p,g;for(l=0;l<a;l++)if(p=n[l],p!=null&&!Vn(p))o=K0(e,i,s,o,p);else if(Vn(p))for(c=0,f=p.length;c<f;c++)g=p[c],g!=null&&!Vn(g)&&(o=K0(e,i,s,o,g));e.restore();const y=s.length/2;if(y>n.length){for(l=0;l<y;l++)delete i[s[l]];s.splice(0,y)}return o}function hu(e,t,n){const r=e.currentDevicePixelRatio,i=n!==0?Math.max(n/2,.5):0;return Math.round((t-i)*r)/r+i}function gk(e,t){!t&&!e||(t=t||e.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function bw(e,t,n,r){Sj(e,t,n,r,null)}function Sj(e,t,n,r,i){let s,o,a,l,c,f,p,g;const y=t.pointStyle,b=t.rotation,_=t.radius;let C=(b||0)*xG;if(y&&typeof y=="object"&&(s=y.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){e.save(),e.translate(n,r),e.rotate(C),e.drawImage(y,-y.width/2,-y.height/2,y.width,y.height),e.restore();return}if(!(isNaN(_)||_<=0)){switch(e.beginPath(),y){default:i?e.ellipse(n,r,i/2,_,0,0,Bn):e.arc(n,r,_,0,Bn),e.closePath();break;case"triangle":f=i?i/2:_,e.moveTo(n+Math.sin(C)*f,r-Math.cos(C)*_),C+=lk,e.lineTo(n+Math.sin(C)*f,r-Math.cos(C)*_),C+=lk,e.lineTo(n+Math.sin(C)*f,r-Math.cos(C)*_),e.closePath();break;case"rectRounded":c=_*.516,l=_-c,o=Math.cos(C+fu)*l,p=Math.cos(C+fu)*(i?i/2-c:l),a=Math.sin(C+fu)*l,g=Math.sin(C+fu)*(i?i/2-c:l),e.arc(n-p,r-a,c,C-mn,C-cr),e.arc(n+g,r-o,c,C-cr,C),e.arc(n+p,r+a,c,C,C+cr),e.arc(n-g,r+o,c,C+cr,C+mn),e.closePath();break;case"rect":if(!b){l=Math.SQRT1_2*_,f=i?i/2:l,e.rect(n-f,r-l,2*f,2*l);break}C+=fu;case"rectRot":p=Math.cos(C)*(i?i/2:_),o=Math.cos(C)*_,a=Math.sin(C)*_,g=Math.sin(C)*(i?i/2:_),e.moveTo(n-p,r-a),e.lineTo(n+g,r-o),e.lineTo(n+p,r+a),e.lineTo(n-g,r+o),e.closePath();break;case"crossRot":C+=fu;case"cross":p=Math.cos(C)*(i?i/2:_),o=Math.cos(C)*_,a=Math.sin(C)*_,g=Math.sin(C)*(i?i/2:_),e.moveTo(n-p,r-a),e.lineTo(n+p,r+a),e.moveTo(n+g,r-o),e.lineTo(n-g,r+o);break;case"star":p=Math.cos(C)*(i?i/2:_),o=Math.cos(C)*_,a=Math.sin(C)*_,g=Math.sin(C)*(i?i/2:_),e.moveTo(n-p,r-a),e.lineTo(n+p,r+a),e.moveTo(n+g,r-o),e.lineTo(n-g,r+o),C+=fu,p=Math.cos(C)*(i?i/2:_),o=Math.cos(C)*_,a=Math.sin(C)*_,g=Math.sin(C)*(i?i/2:_),e.moveTo(n-p,r-a),e.lineTo(n+p,r+a),e.moveTo(n+g,r-o),e.lineTo(n-g,r+o);break;case"line":o=i?i/2:Math.cos(C)*_,a=Math.sin(C)*_,e.moveTo(n-o,r-a),e.lineTo(n+o,r+a);break;case"dash":e.moveTo(n,r),e.lineTo(n+Math.cos(C)*(i?i/2:_),r+Math.sin(C)*_);break;case!1:e.closePath();break}e.fill(),t.borderWidth>0&&e.stroke()}}function ca(e,t,n){return n=n||.5,!t||e&&e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n}function zy(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function $y(e){e.restore()}function zG(e,t,n,r,i){if(!t)return e.lineTo(n.x,n.y);if(i==="middle"){const s=(t.x+n.x)/2;e.lineTo(s,t.y),e.lineTo(s,n.y)}else i==="after"!=!!r?e.lineTo(t.x,n.y):e.lineTo(n.x,t.y);e.lineTo(n.x,n.y)}function $G(e,t,n,r){if(!t)return e.lineTo(n.x,n.y);e.bezierCurveTo(r?t.cp1x:t.cp2x,r?t.cp1y:t.cp2y,r?n.cp2x:n.cp1x,r?n.cp2y:n.cp1y,n.x,n.y)}function UG(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),Jt(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}function HG(e,t,n,r,i){if(i.strikethrough||i.underline){const s=e.measureText(r),o=t-s.actualBoundingBoxLeft,a=t+s.actualBoundingBoxRight,l=n-s.actualBoundingBoxAscent,c=n+s.actualBoundingBoxDescent,f=i.strikethrough?(l+c)/2:c;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=i.decorationWidth||2,e.moveTo(o,f),e.lineTo(a,f),e.stroke()}}function WG(e,t){const n=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=n}function Ku(e,t,n,r,i,s={}){const o=Vn(t)?t:[t],a=s.strokeWidth>0&&s.strokeColor!=="";let l,c;for(e.save(),e.font=i.string,UG(e,s),l=0;l<o.length;++l)c=o[l],s.backdrop&&WG(e,s.backdrop),a&&(s.strokeColor&&(e.strokeStyle=s.strokeColor),Jt(s.strokeWidth)||(e.lineWidth=s.strokeWidth),e.strokeText(c,n,r,s.maxWidth)),e.fillText(c,n,r,s.maxWidth),HG(e,n,r,c,s),r+=Number(i.lineHeight);e.restore()}function np(e,t){const{x:n,y:r,w:i,h:s,radius:o}=t;e.arc(n+o.topLeft,r+o.topLeft,o.topLeft,1.5*mn,mn,!0),e.lineTo(n,r+s-o.bottomLeft),e.arc(n+o.bottomLeft,r+s-o.bottomLeft,o.bottomLeft,mn,cr,!0),e.lineTo(n+i-o.bottomRight,r+s),e.arc(n+i-o.bottomRight,r+s-o.bottomRight,o.bottomRight,cr,0,!0),e.lineTo(n+i,r+o.topRight),e.arc(n+i-o.topRight,r+o.topRight,o.topRight,0,-cr,!0),e.lineTo(n+o.topLeft,r)}const VG=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,qG=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function QG(e,t){const n=(""+e).match(VG);if(!n||n[1]==="normal")return t*1.2;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100;break}return t*e}const KG=e=>+e||0;function I_(e,t){const n={},r=Zt(t),i=r?Object.keys(t):t,s=Zt(e)?r?o=>Et(e[o],e[t[o]]):o=>e[o]:()=>e;for(const o of i)n[o]=KG(s(o));return n}function Cj(e){return I_(e,{top:"y",right:"x",bottom:"y",left:"x"})}function Bu(e){return I_(e,["topLeft","topRight","bottomLeft","bottomRight"])}function si(e){const t=Cj(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function Er(e,t){e=e||{},t=t||qn.font;let n=Et(e.size,t.size);typeof n=="string"&&(n=parseInt(n,10));let r=Et(e.style,t.style);r&&!(""+r).match(qG)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const i={family:Et(e.family,t.family),lineHeight:QG(Et(e.lineHeight,t.lineHeight),n),size:n,style:r,weight:Et(e.weight,t.weight),string:""};return i.string=FG(i),i}function vh(e,t,n,r){let i,s,o;for(i=0,s=e.length;i<s;++i)if(o=e[i],o!==void 0&&o!==void 0)return o}function GG(e,t,n){const{min:r,max:i}=e,s=fj(t,(i-r)/2),o=(a,l)=>n&&a===0?0:a+l;return{min:o(r,-Math.abs(s)),max:o(i,s)}}function Ml(e,t){return Object.assign(Object.create(e),t)}function N_(e,t=[""],n,r,i=()=>e[0]){const s=n||e;typeof r>"u"&&(r=jj("_fallback",e));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:s,_fallback:r,_getTarget:i,override:a=>N_([a,...e],t,s,r)};return new Proxy(o,{deleteProperty(a,l){return delete a[l],delete a._keys,delete e[0][l],!0},get(a,l){return Ej(a,l,()=>rY(l,t,e,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(a,l){return vk(a).includes(l)},ownKeys(a){return vk(a)},set(a,l,c){const f=a._storage||(a._storage=i());return a[l]=f[l]=c,delete a._keys,!0}})}function Wd(e,t,n,r){const i={_cacheable:!1,_proxy:e,_context:t,_subProxy:n,_stack:new Set,_descriptors:kj(e,r),setContext:s=>Wd(e,s,n,r),override:s=>Wd(e.override(s),t,n,r)};return new Proxy(i,{deleteProperty(s,o){return delete s[o],delete e[o],!0},get(s,o,a){return Ej(s,o,()=>XG(s,o,a))},getOwnPropertyDescriptor(s,o){return s._descriptors.allKeys?Reflect.has(e,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,o)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(s,o){return Reflect.has(e,o)},ownKeys(){return Reflect.ownKeys(e)},set(s,o,a){return e[o]=a,delete s[o],!0}})}function kj(e,t={scriptable:!0,indexable:!0}){const{_scriptable:n=t.scriptable,_indexable:r=t.indexable,_allKeys:i=t.allKeys}=e;return{allKeys:i,scriptable:n,indexable:r,isScriptable:Sl(n)?n:()=>n,isIndexable:Sl(r)?r:()=>r}}const YG=(e,t)=>e?e+C_(t):t,P_=(e,t)=>Zt(t)&&e!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function Ej(e,t,n){if(Object.prototype.hasOwnProperty.call(e,t)||t==="constructor")return e[t];const r=n();return e[t]=r,r}function XG(e,t,n){const{_proxy:r,_context:i,_subProxy:s,_descriptors:o}=e;let a=r[t];return Sl(a)&&o.isScriptable(t)&&(a=JG(t,a,e,n)),Vn(a)&&a.length&&(a=ZG(t,a,e,o.isIndexable)),P_(t,a)&&(a=Wd(a,i,s&&s[t],o)),a}function JG(e,t,n,r){const{_proxy:i,_context:s,_subProxy:o,_stack:a}=n;if(a.has(e))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+e);a.add(e);let l=t(s,o||r);return a.delete(e),P_(e,l)&&(l=R_(i._scopes,i,e,l)),l}function ZG(e,t,n,r){const{_proxy:i,_context:s,_subProxy:o,_descriptors:a}=n;if(typeof s.index<"u"&&r(e))return t[s.index%t.length];if(Zt(t[0])){const l=t,c=i._scopes.filter(f=>f!==l);t=[];for(const f of l){const p=R_(c,i,e,f);t.push(Wd(p,s,o&&o[e],a))}}return t}function Tj(e,t,n){return Sl(e)?e(t,n):e}const eY=(e,t)=>e===!0?t:typeof e=="string"?_l(t,e):void 0;function tY(e,t,n,r,i){for(const s of t){const o=eY(n,s);if(o){e.add(o);const a=Tj(o._fallback,n,i);if(typeof a<"u"&&a!==n&&a!==r)return a}else if(o===!1&&typeof r<"u"&&n!==r)return null}return!1}function R_(e,t,n,r){const i=t._rootScopes,s=Tj(t._fallback,n,r),o=[...e,...i],a=new Set;a.add(r);let l=yk(a,o,n,s||n,r);return l===null||typeof s<"u"&&s!==n&&(l=yk(a,o,s,l,r),l===null)?!1:N_(Array.from(a),[""],i,s,()=>nY(t,n,r))}function yk(e,t,n,r,i){for(;n;)n=tY(e,t,n,r,i);return n}function nY(e,t,n){const r=e._getTarget();t in r||(r[t]={});const i=r[t];return Vn(i)&&Zt(n)?n:i||{}}function rY(e,t,n,r){let i;for(const s of t)if(i=jj(YG(s,e),n),typeof i<"u")return P_(e,i)?R_(n,r,e,i):i}function jj(e,t){for(const n of t){if(!n)continue;const r=n[e];if(typeof r<"u")return r}}function vk(e){let t=e._keys;return t||(t=e._keys=iY(e._scopes)),t}function iY(e){const t=new Set;for(const n of e)for(const r of Object.keys(n).filter(i=>!i.startsWith("_")))t.add(r);return Array.from(t)}function Ij(e,t,n,r){const{iScale:i}=e,{key:s="r"}=this._parsing,o=new Array(r);let a,l,c,f;for(a=0,l=r;a<l;++a)c=a+n,f=t[c],o[a]={r:i.parse(_l(f,s),c)};return o}const sY=Number.EPSILON||1e-14,Vd=(e,t)=>t<e.length&&!e[t].skip&&e[t],Nj=e=>e==="x"?"y":"x";function oY(e,t,n,r){const i=e.skip?t:e,s=t,o=n.skip?t:n,a=vw(s,i),l=vw(o,s);let c=a/(a+l),f=l/(a+l);c=isNaN(c)?0:c,f=isNaN(f)?0:f;const p=r*c,g=r*f;return{previous:{x:s.x-p*(o.x-i.x),y:s.y-p*(o.y-i.y)},next:{x:s.x+g*(o.x-i.x),y:s.y+g*(o.y-i.y)}}}function aY(e,t,n){const r=e.length;let i,s,o,a,l,c=Vd(e,0);for(let f=0;f<r-1;++f)if(l=c,c=Vd(e,f+1),!(!l||!c)){if(Ph(t[f],0,sY)){n[f]=n[f+1]=0;continue}i=n[f]/t[f],s=n[f+1]/t[f],a=Math.pow(i,2)+Math.pow(s,2),!(a<=9)&&(o=3/Math.sqrt(a),n[f]=i*o*t[f],n[f+1]=s*o*t[f])}}function lY(e,t,n="x"){const r=Nj(n),i=e.length;let s,o,a,l=Vd(e,0);for(let c=0;c<i;++c){if(o=a,a=l,l=Vd(e,c+1),!a)continue;const f=a[n],p=a[r];o&&(s=(f-o[n])/3,a[`cp1${n}`]=f-s,a[`cp1${r}`]=p-s*t[c]),l&&(s=(l[n]-f)/3,a[`cp2${n}`]=f+s,a[`cp2${r}`]=p+s*t[c])}}function uY(e,t="x"){const n=Nj(t),r=e.length,i=Array(r).fill(0),s=Array(r);let o,a,l,c=Vd(e,0);for(o=0;o<r;++o)if(a=l,l=c,c=Vd(e,o+1),!!l){if(c){const f=c[t]-l[t];i[o]=f!==0?(c[n]-l[n])/f:0}s[o]=a?c?jo(i[o-1])!==jo(i[o])?0:(i[o-1]+i[o])/2:i[o-1]:i[o]}aY(e,i,s),lY(e,s,t)}function bg(e,t,n){return Math.max(Math.min(e,n),t)}function cY(e,t){let n,r,i,s,o,a=ca(e[0],t);for(n=0,r=e.length;n<r;++n)o=s,s=a,a=n<r-1&&ca(e[n+1],t),s&&(i=e[n],o&&(i.cp1x=bg(i.cp1x,t.left,t.right),i.cp1y=bg(i.cp1y,t.top,t.bottom)),a&&(i.cp2x=bg(i.cp2x,t.left,t.right),i.cp2y=bg(i.cp2y,t.top,t.bottom)))}function dY(e,t,n,r,i){let s,o,a,l;if(t.spanGaps&&(e=e.filter(c=>!c.skip)),t.cubicInterpolationMode==="monotone")uY(e,i);else{let c=r?e[e.length-1]:e[0];for(s=0,o=e.length;s<o;++s)a=e[s],l=oY(c,a,e[Math.min(s+1,o-(r?0:1))%o],t.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,c=a}t.capBezierPoints&&cY(e,n)}function O_(){return typeof window<"u"&&typeof document<"u"}function M_(e){let t=e.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function G0(e,t,n){let r;return typeof e=="string"?(r=parseInt(e,10),e.indexOf("%")!==-1&&(r=r/100*t.parentNode[n])):r=e,r}const Uy=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);function fY(e,t){return Uy(e).getPropertyValue(t)}const hY=["top","right","bottom","left"];function zu(e,t,n){const r={};n=n?"-"+n:"";for(let i=0;i<4;i++){const s=hY[i];r[s]=parseFloat(e[t+"-"+s+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const pY=(e,t,n)=>(e>0||t>0)&&(!n||!n.shadowRoot);function mY(e,t){const n=e.touches,r=n&&n.length?n[0]:e,{offsetX:i,offsetY:s}=r;let o=!1,a,l;if(pY(i,s,e.target))a=i,l=s;else{const c=t.getBoundingClientRect();a=r.clientX-c.left,l=r.clientY-c.top,o=!0}return{x:a,y:l,box:o}}function wu(e,t){if("native"in e)return e;const{canvas:n,currentDevicePixelRatio:r}=t,i=Uy(n),s=i.boxSizing==="border-box",o=zu(i,"padding"),a=zu(i,"border","width"),{x:l,y:c,box:f}=mY(e,n),p=o.left+(f&&a.left),g=o.top+(f&&a.top);let{width:y,height:b}=t;return s&&(y-=o.width+a.width,b-=o.height+a.height),{x:Math.round((l-p)/y*n.width/r),y:Math.round((c-g)/b*n.height/r)}}function gY(e,t,n){let r,i;if(t===void 0||n===void 0){const s=e&&M_(e);if(!s)t=e.clientWidth,n=e.clientHeight;else{const o=s.getBoundingClientRect(),a=Uy(s),l=zu(a,"border","width"),c=zu(a,"padding");t=o.width-c.width-l.width,n=o.height-c.height-l.height,r=G0(a.maxWidth,s,"clientWidth"),i=G0(a.maxHeight,s,"clientHeight")}}return{width:t,height:n,maxWidth:r||Q0,maxHeight:i||Q0}}const wg=e=>Math.round(e*10)/10;function yY(e,t,n,r){const i=Uy(e),s=zu(i,"margin"),o=G0(i.maxWidth,e,"clientWidth")||Q0,a=G0(i.maxHeight,e,"clientHeight")||Q0,l=gY(e,t,n);let{width:c,height:f}=l;if(i.boxSizing==="content-box"){const g=zu(i,"border","width"),y=zu(i,"padding");c-=y.width+g.width,f-=y.height+g.height}return c=Math.max(0,c-s.width),f=Math.max(0,r?c/r:f-s.height),c=wg(Math.min(c,o,l.maxWidth)),f=wg(Math.min(f,a,l.maxHeight)),c&&!f&&(f=wg(c/2)),(t!==void 0||n!==void 0)&&r&&l.height&&f>l.height&&(f=l.height,c=wg(Math.floor(f*r))),{width:c,height:f}}function xk(e,t,n){const r=t||1,i=Math.floor(e.height*r),s=Math.floor(e.width*r);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const o=e.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${e.height}px`,o.style.width=`${e.width}px`),e.currentDevicePixelRatio!==r||o.height!==i||o.width!==s?(e.currentDevicePixelRatio=r,o.height=i,o.width=s,e.ctx.setTransform(r,0,0,r,0,0),!0):!1}const vY=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};O_()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return e}();function bk(e,t){const n=fY(e,t),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function _u(e,t,n,r){return{x:e.x+n*(t.x-e.x),y:e.y+n*(t.y-e.y)}}function xY(e,t,n,r){return{x:e.x+n*(t.x-e.x),y:r==="middle"?n<.5?e.y:t.y:r==="after"?n<1?e.y:t.y:n>0?t.y:e.y}}function bY(e,t,n,r){const i={x:e.cp2x,y:e.cp2y},s={x:t.cp1x,y:t.cp1y},o=_u(e,i,n),a=_u(i,s,n),l=_u(s,t,n),c=_u(o,a,n),f=_u(a,l,n);return _u(c,f,n)}const wY=function(e,t){return{x(n){return e+e+t-n},setWidth(n){t=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,r){return n-r},leftForLtr(n,r){return n-r}}},_Y=function(){return{x(e){return e},setWidth(e){},textAlign(e){return e},xPlus(e,t){return e+t},leftForLtr(e,t){return e}}};function Pd(e,t,n){return e?wY(t,n):_Y()}function Pj(e,t){let n,r;(t==="ltr"||t==="rtl")&&(n=e.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=r)}function Rj(e,t){t!==void 0&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function Oj(e){return e==="angle"?{between:tp,compare:SG,normalize:ti}:{between:la,compare:(t,n)=>t-n,normalize:t=>t}}function wk({start:e,end:t,count:n,loop:r,style:i}){return{start:e%n,end:t%n,loop:r&&(t-e+1)%n===0,style:i}}function SY(e,t,n){const{property:r,start:i,end:s}=n,{between:o,normalize:a}=Oj(r),l=t.length;let{start:c,end:f,loop:p}=e,g,y;if(p){for(c+=l,f+=l,g=0,y=l;g<y&&o(a(t[c%l][r]),i,s);++g)c--,f--;c%=l,f%=l}return f<c&&(f+=l),{start:c,end:f,loop:p,style:e.style}}function Mj(e,t,n){if(!n)return[e];const{property:r,start:i,end:s}=n,o=t.length,{compare:a,between:l,normalize:c}=Oj(r),{start:f,end:p,loop:g,style:y}=SY(e,t,n),b=[];let _=!1,C=null,k,P,O;const $=()=>l(i,O,k)&&a(i,O)!==0,B=()=>a(s,k)===0||l(s,O,k),j=()=>_||$(),M=()=>!_||B();for(let U=f,z=f;U<=p;++U)P=t[U%o],!P.skip&&(k=c(P[r]),k!==O&&(_=l(k,i,s),C===null&&j()&&(C=a(k,i)===0?U:z),C!==null&&M()&&(b.push(wk({start:C,end:U,loop:g,count:o,style:y})),C=null),z=U,O=k));return C!==null&&b.push(wk({start:C,end:p,loop:g,count:o,style:y})),b}function Aj(e,t){const n=[],r=e.segments;for(let i=0;i<r.length;i++){const s=Mj(r[i],e.points,t);s.length&&n.push(...s)}return n}function CY(e,t,n,r){let i=0,s=t-1;if(n&&!r)for(;i<t&&!e[i].skip;)i++;for(;i<t&&e[i].skip;)i++;for(i%=t,n&&(s+=i);s>i&&e[s%t].skip;)s--;return s%=t,{start:i,end:s}}function kY(e,t,n,r){const i=e.length,s=[];let o=t,a=e[t],l;for(l=t+1;l<=n;++l){const c=e[l%i];c.skip||c.stop?a.skip||(r=!1,s.push({start:t%i,end:(l-1)%i,loop:r}),t=o=c.stop?l:null):(o=l,a.skip&&(t=l)),a=c}return o!==null&&s.push({start:t%i,end:o%i,loop:r}),s}function EY(e,t){const n=e.points,r=e.options.spanGaps,i=n.length;if(!i)return[];const s=!!e._loop,{start:o,end:a}=CY(n,i,s,r);if(r===!0)return _k(e,[{start:o,end:a,loop:s}],n,t);const l=a<o?a+i:a,c=!!e._fullLoop&&o===0&&a===i-1;return _k(e,kY(n,o,l,c),n,t)}function _k(e,t,n,r){return!r||!r.setContext||!n?t:TY(e,t,n,r)}function TY(e,t,n,r){const i=e._chart.getContext(),s=Sk(e.options),{_datasetIndex:o,options:{spanGaps:a}}=e,l=n.length,c=[];let f=s,p=t[0].start,g=p;function y(b,_,C,k){const P=a?-1:1;if(b!==_){for(b+=l;n[b%l].skip;)b-=P;for(;n[_%l].skip;)_+=P;b%l!==_%l&&(c.push({start:b%l,end:_%l,loop:C,style:k}),f=k,p=_%l)}}for(const b of t){p=a?p:b.start;let _=n[p%l],C;for(g=p+1;g<=b.end;g++){const k=n[g%l];C=Sk(r.setContext(Ml(i,{type:"segment",p0:_,p1:k,p0DataIndex:(g-1)%l,p1DataIndex:g%l,datasetIndex:o}))),jY(C,f)&&y(p,g-1,b.loop,f),_=k,f=C}p<g-1&&y(p,g-1,b.loop,f)}return c}function Sk(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function jY(e,t){if(!t)return!1;const n=[],r=function(i,s){return j_(s)?(n.includes(s)||n.push(s),n.indexOf(s)):s};return JSON.stringify(e,r)!==JSON.stringify(t,r)}function _g(e,t,n){return e.options.clip?e[n]:t[n]}function IY(e,t){const{xScale:n,yScale:r}=e;return n&&r?{left:_g(n,t,"left"),right:_g(n,t,"right"),top:_g(r,t,"top"),bottom:_g(r,t,"bottom")}:t}function Dj(e,t){const n=t._clip;if(n.disabled)return!1;const r=IY(t,e.chartArea);return{left:n.left===!1?0:r.left-(n.left===!0?0:n.left),right:n.right===!1?e.width:r.right+(n.right===!0?0:n.right),top:n.top===!1?0:r.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?e.height:r.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class NY{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,n,r,i){const s=n.listeners[i],o=n.duration;s.forEach(a=>a({chart:t,initial:n.initial,numSteps:o,currentStep:Math.min(r-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=vj.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let n=0;this._charts.forEach((r,i)=>{if(!r.running||!r.items.length)return;const s=r.items;let o=s.length-1,a=!1,l;for(;o>=0;--o)l=s[o],l._active?(l._total>r.duration&&(r.duration=l._total),l.tick(t),a=!0):(s[o]=s[s.length-1],s.pop());a&&(i.draw(),this._notify(i,r,t,"progress")),s.length||(r.running=!1,this._notify(i,r,t,"complete"),r.initial=!1),n+=s.length}),this._lastDate=t,n===0&&(this._running=!1)}_getAnims(t){const n=this._charts;let r=n.get(t);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(t,r)),r}listen(t,n,r){this._getAnims(t).listeners[n].push(r)}add(t,n){!n||!n.length||this._getAnims(t).items.push(...n)}has(t){return this._getAnims(t).items.length>0}start(t){const n=this._charts.get(t);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((r,i)=>Math.max(r,i._duration),0),this._refresh())}running(t){if(!this._running)return!1;const n=this._charts.get(t);return!(!n||!n.running||!n.items.length)}stop(t){const n=this._charts.get(t);if(!n||!n.items.length)return;const r=n.items;let i=r.length-1;for(;i>=0;--i)r[i].cancel();n.items=[],this._notify(t,n,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var Zo=new NY;const Ck="transparent",PY={boolean(e,t,n){return n>.5?t:e},color(e,t,n){const r=pk(e||Ck),i=r.valid&&pk(t||Ck);return i&&i.valid?i.mix(r,n).hexString():t},number(e,t,n){return e+(t-e)*n}};class RY{constructor(t,n,r,i){const s=n[r];i=vh([t.to,i,s,t.from]);const o=vh([t.from,s,i]);this._active=!0,this._fn=t.fn||PY[t.type||typeof o],this._easing=Rh[t.easing]||Rh.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=n,this._prop=r,this._from=o,this._to=i,this._promises=void 0}active(){return this._active}update(t,n,r){if(this._active){this._notify(!1);const i=this._target[this._prop],s=r-this._start,o=this._duration-s;this._start=r,this._duration=Math.floor(Math.max(o,t.duration)),this._total+=s,this._loop=!!t.loop,this._to=vh([t.to,n,i,t.from]),this._from=vh([t.from,i,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const n=t-this._start,r=this._duration,i=this._prop,s=this._from,o=this._loop,a=this._to;let l;if(this._active=s!==a&&(o||n<r),!this._active){this._target[i]=a,this._notify(!0);return}if(n<0){this._target[i]=s;return}l=n/r%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[i]=this._fn(s,a,l)}wait(){const t=this._promises||(this._promises=[]);return new Promise((n,r)=>{t.push({res:n,rej:r})})}_notify(t){const n=t?"res":"rej",r=this._promises||[];for(let i=0;i<r.length;i++)r[i][n]()}}class Lj{constructor(t,n){this._chart=t,this._properties=new Map,this.configure(n)}configure(t){if(!Zt(t))return;const n=Object.keys(qn.animation),r=this._properties;Object.getOwnPropertyNames(t).forEach(i=>{const s=t[i];if(!Zt(s))return;const o={};for(const a of n)o[a]=s[a];(Vn(s.properties)&&s.properties||[i]).forEach(a=>{(a===i||!r.has(a))&&r.set(a,o)})})}_animateOptions(t,n){const r=n.options,i=MY(t,r);if(!i)return[];const s=this._createAnimations(i,r);return r.$shared&&OY(t.options.$animations,r).then(()=>{t.options=r},()=>{}),s}_createAnimations(t,n){const r=this._properties,i=[],s=t.$animations||(t.$animations={}),o=Object.keys(n),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const c=o[l];if(c.charAt(0)==="$")continue;if(c==="options"){i.push(...this._animateOptions(t,n));continue}const f=n[c];let p=s[c];const g=r.get(c);if(p)if(g&&p.active()){p.update(g,f,a);continue}else p.cancel();if(!g||!g.duration){t[c]=f;continue}s[c]=p=new RY(g,t,c,f),i.push(p)}return i}update(t,n){if(this._properties.size===0){Object.assign(t,n);return}const r=this._createAnimations(t,n);if(r.length)return Zo.add(this._chart,r),!0}}function OY(e,t){const n=[],r=Object.keys(t);for(let i=0;i<r.length;i++){const s=e[r[i]];s&&s.active()&&n.push(s.wait())}return Promise.all(n)}function MY(e,t){if(!t)return;let n=e.options;if(!n){e.options=t;return}return n.$shared&&(e.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function kk(e,t){const n=e&&e.options||{},r=n.reverse,i=n.min===void 0?t:0,s=n.max===void 0?t:0;return{start:r?s:i,end:r?i:s}}function AY(e,t,n){if(n===!1)return!1;const r=kk(e,n),i=kk(t,n);return{top:i.end,right:r.end,bottom:i.start,left:r.start}}function DY(e){let t,n,r,i;return Zt(e)?(t=e.top,n=e.right,r=e.bottom,i=e.left):t=n=r=i=e,{top:t,right:n,bottom:r,left:i,disabled:e===!1}}function Fj(e,t){const n=[],r=e._getSortedDatasetMetas(t);let i,s;for(i=0,s=r.length;i<s;++i)n.push(r[i].index);return n}function Ek(e,t,n,r={}){const i=e.keys,s=r.mode==="single";let o,a,l,c;if(t===null)return;let f=!1;for(o=0,a=i.length;o<a;++o){if(l=+i[o],l===n){if(f=!0,r.all)continue;break}c=e.values[l],ir(c)&&(s||t===0||jo(t)===jo(c))&&(t+=c)}return!f&&!r.all?0:t}function LY(e,t){const{iScale:n,vScale:r}=t,i=n.axis==="x"?"x":"y",s=r.axis==="x"?"x":"y",o=Object.keys(e),a=new Array(o.length);let l,c,f;for(l=0,c=o.length;l<c;++l)f=o[l],a[l]={[i]:f,[s]:e[f]};return a}function kx(e,t){const n=e&&e.options.stacked;return n||n===void 0&&t.stack!==void 0}function FY(e,t,n){return`${e.id}.${t.id}.${n.stack||n.type}`}function BY(e){const{min:t,max:n,minDefined:r,maxDefined:i}=e.getUserBounds();return{min:r?t:Number.NEGATIVE_INFINITY,max:i?n:Number.POSITIVE_INFINITY}}function zY(e,t,n){const r=e[t]||(e[t]={});return r[n]||(r[n]={})}function Tk(e,t,n,r){for(const i of t.getMatchingVisibleMetas(r).reverse()){const s=e[i.index];if(n&&s>0||!n&&s<0)return i.index}return null}function jk(e,t){const{chart:n,_cachedMeta:r}=e,i=n._stacks||(n._stacks={}),{iScale:s,vScale:o,index:a}=r,l=s.axis,c=o.axis,f=FY(s,o,r),p=t.length;let g;for(let y=0;y<p;++y){const b=t[y],{[l]:_,[c]:C}=b,k=b._stacks||(b._stacks={});g=k[c]=zY(i,f,_),g[a]=C,g._top=Tk(g,o,!0,r.type),g._bottom=Tk(g,o,!1,r.type);const P=g._visualValues||(g._visualValues={});P[a]=C}}function Ex(e,t){const n=e.scales;return Object.keys(n).filter(r=>n[r].axis===t).shift()}function $Y(e,t){return Ml(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function UY(e,t,n){return Ml(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}function th(e,t){const n=e.controller.index,r=e.vScale&&e.vScale.axis;if(r){t=t||e._parsed;for(const i of t){const s=i._stacks;if(!s||s[r]===void 0||s[r][n]===void 0)return;delete s[r][n],s[r]._visualValues!==void 0&&s[r]._visualValues[n]!==void 0&&delete s[r]._visualValues[n]}}}const Tx=e=>e==="reset"||e==="none",Ik=(e,t)=>t?e:Object.assign({},e),HY=(e,t,n)=>e&&!t.hidden&&t._stacked&&{keys:Fj(n,!0),values:null};class Al{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(t,n){this.chart=t,this._ctx=t.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=kx(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&th(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,n=this._cachedMeta,r=this.getDataset(),i=(p,g,y,b)=>p==="x"?g:p==="r"?b:y,s=n.xAxisID=Et(r.xAxisID,Ex(t,"x")),o=n.yAxisID=Et(r.yAxisID,Ex(t,"y")),a=n.rAxisID=Et(r.rAxisID,Ex(t,"r")),l=n.indexAxis,c=n.iAxisID=i(l,s,o,a),f=n.vAxisID=i(l,o,s,a);n.xScale=this.getScaleForId(s),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(a),n.iScale=this.getScaleForId(c),n.vScale=this.getScaleForId(f)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const n=this._cachedMeta;return t===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&dk(this._data,this),t._stacked&&th(t)}_dataCheck(){const t=this.getDataset(),n=t.data||(t.data=[]),r=this._data;if(Zt(n)){const i=this._cachedMeta;this._data=LY(n,i)}else if(r!==n){if(r){dk(r,this);const i=this._cachedMeta;th(i),i._parsed=[]}n&&Object.isExtensible(n)&&TG(n,this),this._syncList=[],this._data=n}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const n=this._cachedMeta,r=this.getDataset();let i=!1;this._dataCheck();const s=n._stacked;n._stacked=kx(n.vScale,n),n.stack!==r.stack&&(i=!0,th(n),n.stack=r.stack),this._resyncElements(t),(i||s!==n._stacked)&&(jk(this,n._parsed),n._stacked=kx(n.vScale,n))}configure(){const t=this.chart.config,n=t.datasetScopeKeys(this._type),r=t.getOptionScopes(this.getDataset(),n,!0);this.options=t.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,n){const{_cachedMeta:r,_data:i}=this,{iScale:s,_stacked:o}=r,a=s.axis;let l=t===0&&n===i.length?!0:r._sorted,c=t>0&&r._parsed[t-1],f,p,g;if(this._parsing===!1)r._parsed=i,r._sorted=!0,g=i;else{Vn(i[t])?g=this.parseArrayData(r,i,t,n):Zt(i[t])?g=this.parseObjectData(r,i,t,n):g=this.parsePrimitiveData(r,i,t,n);const y=()=>p[a]===null||c&&p[a]<c[a];for(f=0;f<n;++f)r._parsed[f+t]=p=g[f],l&&(y()&&(l=!1),c=p);r._sorted=l}o&&jk(this,g)}parsePrimitiveData(t,n,r,i){const{iScale:s,vScale:o}=t,a=s.axis,l=o.axis,c=s.getLabels(),f=s===o,p=new Array(i);let g,y,b;for(g=0,y=i;g<y;++g)b=g+r,p[g]={[a]:f||s.parse(c[b],b),[l]:o.parse(n[b],b)};return p}parseArrayData(t,n,r,i){const{xScale:s,yScale:o}=t,a=new Array(i);let l,c,f,p;for(l=0,c=i;l<c;++l)f=l+r,p=n[f],a[l]={x:s.parse(p[0],f),y:o.parse(p[1],f)};return a}parseObjectData(t,n,r,i){const{xScale:s,yScale:o}=t,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=new Array(i);let f,p,g,y;for(f=0,p=i;f<p;++f)g=f+r,y=n[g],c[f]={x:s.parse(_l(y,a),g),y:o.parse(_l(y,l),g)};return c}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,n,r){const i=this.chart,s=this._cachedMeta,o=n[t.axis],a={keys:Fj(i,!0),values:n._stacks[t.axis]._visualValues};return Ek(a,o,s.index,{mode:r})}updateRangeFromParsed(t,n,r,i){const s=r[n.axis];let o=s===null?NaN:s;const a=i&&r._stacks[n.axis];i&&a&&(i.values=a,o=Ek(i,s,this._cachedMeta.index)),t.min=Math.min(t.min,o),t.max=Math.max(t.max,o)}getMinMax(t,n){const r=this._cachedMeta,i=r._parsed,s=r._sorted&&t===r.iScale,o=i.length,a=this._getOtherScale(t),l=HY(n,r,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:f,max:p}=BY(a);let g,y;function b(){y=i[g];const _=y[a.axis];return!ir(y[t.axis])||f>_||p<_}for(g=0;g<o&&!(!b()&&(this.updateRangeFromParsed(c,t,y,l),s));++g);if(s){for(g=o-1;g>=0;--g)if(!b()){this.updateRangeFromParsed(c,t,y,l);break}}return c}getAllParsedValues(t){const n=this._cachedMeta._parsed,r=[];let i,s,o;for(i=0,s=n.length;i<s;++i)o=n[i][t.axis],ir(o)&&r.push(o);return r}getMaxOverflow(){return!1}getLabelAndValue(t){const n=this._cachedMeta,r=n.iScale,i=n.vScale,s=this.getParsed(t);return{label:r?""+r.getLabelForValue(s[r.axis]):"",value:i?""+i.getLabelForValue(s[i.axis]):""}}_update(t){const n=this._cachedMeta;this.update(t||"default"),n._clip=DY(Et(this.options.clip,AY(n.xScale,n.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,n=this.chart,r=this._cachedMeta,i=r.data||[],s=n.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||i.length-a,c=this.options.drawActiveElementsOnTop;let f;for(r.dataset&&r.dataset.draw(t,s,a,l),f=a;f<a+l;++f){const p=i[f];p.hidden||(p.active&&c?o.push(p):p.draw(t,s))}for(f=0;f<o.length;++f)o[f].draw(t,s)}getStyle(t,n){const r=n?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(t||0,r)}getContext(t,n,r){const i=this.getDataset();let s;if(t>=0&&t<this._cachedMeta.data.length){const o=this._cachedMeta.data[t];s=o.$context||(o.$context=UY(this.getContext(),t,o)),s.parsed=this.getParsed(t),s.raw=i.data[t],s.index=s.dataIndex=t}else s=this.$context||(this.$context=$Y(this.chart.getContext(),this.index)),s.dataset=i,s.index=s.datasetIndex=this.index;return s.active=!!n,s.mode=r,s}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,n){return this._resolveElementOptions(this.dataElementType.id,n,t)}_resolveElementOptions(t,n="default",r){const i=n==="active",s=this._cachedDataOpts,o=t+"-"+n,a=s[o],l=this.enableOptionSharing&&ep(r);if(a)return Ik(a,l);const c=this.chart.config,f=c.datasetElementScopeKeys(this._type,t),p=i?[`${t}Hover`,"hover",t,""]:[t,""],g=c.getOptionScopes(this.getDataset(),f),y=Object.keys(qn.elements[t]),b=()=>this.getContext(r,i,n),_=c.resolveNamedOptions(g,y,b,p);return _.$shared&&(_.$shared=l,s[o]=Object.freeze(Ik(_,l))),_}_resolveAnimations(t,n,r){const i=this.chart,s=this._cachedDataOpts,o=`animation-${n}`,a=s[o];if(a)return a;let l;if(i.options.animation!==!1){const f=this.chart.config,p=f.datasetAnimationScopeKeys(this._type,n),g=f.getOptionScopes(this.getDataset(),p);l=f.createResolver(g,this.getContext(t,r,n))}const c=new Lj(i,l&&l.animations);return l&&l._cacheable&&(s[o]=Object.freeze(c)),c}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,n){return!n||Tx(t)||this.chart._animationsDisabled}_getSharedOptions(t,n){const r=this.resolveDataElementOptions(t,n),i=this._sharedOptions,s=this.getSharedOptions(r),o=this.includeOptions(n,s)||s!==i;return this.updateSharedOptions(s,n,r),{sharedOptions:s,includeOptions:o}}updateElement(t,n,r,i){Tx(i)?Object.assign(t,r):this._resolveAnimations(n,i).update(t,r)}updateSharedOptions(t,n,r){t&&!Tx(n)&&this._resolveAnimations(void 0,n).update(t,r)}_setStyle(t,n,r,i){t.active=i;const s=this.getStyle(n,i);this._resolveAnimations(n,r,i).update(t,{options:!i&&this.getSharedOptions(s)||s})}removeHoverStyle(t,n,r){this._setStyle(t,r,"active",!1)}setHoverStyle(t,n,r){this._setStyle(t,r,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const n=this._data,r=this._cachedMeta.data;for(const[a,l,c]of this._syncList)this[a](l,c);this._syncList=[];const i=r.length,s=n.length,o=Math.min(s,i);o&&this.parse(0,o),s>i?this._insertElements(i,s-i,t):s<i&&this._removeElements(s,i-s)}_insertElements(t,n,r=!0){const i=this._cachedMeta,s=i.data,o=t+n;let a;const l=c=>{for(c.length+=n,a=c.length-1;a>=o;a--)c[a]=c[a-n]};for(l(s),a=t;a<o;++a)s[a]=new this.dataElementType;this._parsing&&l(i._parsed),this.parse(t,n),r&&this.updateElements(s,t,n,"reset")}updateElements(t,n,r,i){}_removeElements(t,n){const r=this._cachedMeta;if(this._parsing){const i=r._parsed.splice(t,n);r._stacked&&th(r,i)}r.data.splice(t,n)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[n,r,i]=t;this[n](r,i)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,n){n&&this._sync(["_removeElements",t,n]);const r=arguments.length-2;r&&this._sync(["_insertElements",t,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function WY(e,t){if(!e._cache.$bar){const n=e.getMatchingVisibleMetas(t);let r=[];for(let i=0,s=n.length;i<s;i++)r=r.concat(n[i].controller.getAllParsedValues(e));e._cache.$bar=yj(r.sort((i,s)=>i-s))}return e._cache.$bar}function VY(e){const t=e.iScale,n=WY(t,e.type);let r=t._length,i,s,o,a;const l=()=>{o===32767||o===-32768||(ep(a)&&(r=Math.min(r,Math.abs(o-a)||r)),a=o)};for(i=0,s=n.length;i<s;++i)o=t.getPixelForValue(n[i]),l();for(a=void 0,i=0,s=t.ticks.length;i<s;++i)o=t.getPixelForTick(i),l();return r}function qY(e,t,n,r){const i=n.barThickness;let s,o;return Jt(i)?(s=t.min*n.categoryPercentage,o=n.barPercentage):(s=i*r,o=1),{chunk:s/r,ratio:o,start:t.pixels[e]-s/2}}function QY(e,t,n,r){const i=t.pixels,s=i[e];let o=e>0?i[e-1]:null,a=e<i.length-1?i[e+1]:null;const l=n.categoryPercentage;o===null&&(o=s-(a===null?t.end-t.start:a-s)),a===null&&(a=s+s-o);const c=s-(s-Math.min(o,a))/2*l;return{chunk:Math.abs(a-o)/2*l/r,ratio:n.barPercentage,start:c}}function KY(e,t,n,r){const i=n.parse(e[0],r),s=n.parse(e[1],r),o=Math.min(i,s),a=Math.max(i,s);let l=o,c=a;Math.abs(o)>Math.abs(a)&&(l=a,c=o),t[n.axis]=c,t._custom={barStart:l,barEnd:c,start:i,end:s,min:o,max:a}}function Bj(e,t,n,r){return Vn(e)?KY(e,t,n,r):t[n.axis]=n.parse(e,r),t}function Nk(e,t,n,r){const i=e.iScale,s=e.vScale,o=i.getLabels(),a=i===s,l=[];let c,f,p,g;for(c=n,f=n+r;c<f;++c)g=t[c],p={},p[i.axis]=a||i.parse(o[c],c),l.push(Bj(g,p,s,c));return l}function jx(e){return e&&e.barStart!==void 0&&e.barEnd!==void 0}function GY(e,t,n){return e!==0?jo(e):(t.isHorizontal()?1:-1)*(t.min>=n?1:-1)}function YY(e){let t,n,r,i,s;return e.horizontal?(t=e.base>e.x,n="left",r="right"):(t=e.base<e.y,n="bottom",r="top"),t?(i="end",s="start"):(i="start",s="end"),{start:n,end:r,reverse:t,top:i,bottom:s}}function XY(e,t,n,r){let i=t.borderSkipped;const s={};if(!i){e.borderSkipped=s;return}if(i===!0){e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:a,reverse:l,top:c,bottom:f}=YY(e);i==="middle"&&n&&(e.enableBorderRadius=!0,(n._top||0)===r?i=c:(n._bottom||0)===r?i=f:(s[Pk(f,o,a,l)]=!0,i=c)),s[Pk(i,o,a,l)]=!0,e.borderSkipped=s}function Pk(e,t,n,r){return r?(e=JY(e,t,n),e=Rk(e,n,t)):e=Rk(e,t,n),e}function JY(e,t,n){return e===t?n:e===n?t:e}function Rk(e,t,n){return e==="start"?t:e==="end"?n:e}function ZY(e,{inflateAmount:t},n){e.inflateAmount=t==="auto"?n===1?.33:0:t}class zj extends Al{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(t,n,r,i){return Nk(t,n,r,i)}parseArrayData(t,n,r,i){return Nk(t,n,r,i)}parseObjectData(t,n,r,i){const{iScale:s,vScale:o}=t,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=s.axis==="x"?a:l,f=o.axis==="x"?a:l,p=[];let g,y,b,_;for(g=r,y=r+i;g<y;++g)_=n[g],b={},b[s.axis]=s.parse(_l(_,c),g),p.push(Bj(_l(_,f),b,o,g));return p}updateRangeFromParsed(t,n,r,i){super.updateRangeFromParsed(t,n,r,i);const s=r._custom;s&&n===this._cachedMeta.vScale&&(t.min=Math.min(t.min,s.min),t.max=Math.max(t.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const n=this._cachedMeta,{iScale:r,vScale:i}=n,s=this.getParsed(t),o=s._custom,a=jx(o)?"["+o.start+", "+o.end+"]":""+i.getLabelForValue(s[i.axis]);return{label:""+r.getLabelForValue(s[r.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,t)}updateElements(t,n,r,i){const s=i==="reset",{index:o,_cachedMeta:{vScale:a}}=this,l=a.getBasePixel(),c=a.isHorizontal(),f=this._getRuler(),{sharedOptions:p,includeOptions:g}=this._getSharedOptions(n,i);for(let y=n;y<n+r;y++){const b=this.getParsed(y),_=s||Jt(b[a.axis])?{base:l,head:l}:this._calculateBarValuePixels(y),C=this._calculateBarIndexPixels(y,f),k=(b._stacks||{})[a.axis],P={horizontal:c,base:_.base,enableBorderRadius:!k||jx(b._custom)||o===k._top||o===k._bottom,x:c?_.head:C.center,y:c?C.center:_.head,height:c?C.size:Math.abs(_.size),width:c?Math.abs(_.size):C.size};g&&(P.options=p||this.resolveDataElementOptions(y,t[y].active?"active":i));const O=P.options||t[y].options;XY(P,O,k,o),ZY(P,O,f.ratio),this.updateElement(t[y],y,P,i)}}_getStacks(t,n){const{iScale:r}=this._cachedMeta,i=r.getMatchingVisibleMetas(this._type).filter(f=>f.controller.options.grouped),s=r.options.stacked,o=[],a=this._cachedMeta.controller.getParsed(n),l=a&&a[r.axis],c=f=>{const p=f._parsed.find(y=>y[r.axis]===l),g=p&&p[f.vScale.axis];if(Jt(g)||isNaN(g))return!0};for(const f of i)if(!(n!==void 0&&c(f))&&((s===!1||o.indexOf(f.stack)===-1||s===void 0&&f.stack===void 0)&&o.push(f.stack),f.index===t))break;return o.length||o.push(void 0),o}_getStackCount(t){return this._getStacks(void 0,t).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const t=this.chart.scales,n=this.chart.options.indexAxis;return Object.keys(t).filter(r=>t[r].axis===n).shift()}_getAxis(){const t={},n=this.getFirstScaleIdForIndexAxis();for(const r of this.chart.data.datasets)t[Et(this.chart.options.indexAxis==="x"?r.xAxisID:r.yAxisID,n)]=!0;return Object.keys(t)}_getStackIndex(t,n,r){const i=this._getStacks(t,r),s=n!==void 0?i.indexOf(n):-1;return s===-1?i.length-1:s}_getRuler(){const t=this.options,n=this._cachedMeta,r=n.iScale,i=[];let s,o;for(s=0,o=n.data.length;s<o;++s)i.push(r.getPixelForValue(this.getParsed(s)[r.axis],s));const a=t.barThickness;return{min:a||VY(n),pixels:i,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:t.grouped,ratio:a?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:n,_stacked:r,index:i},options:{base:s,minBarLength:o}}=this,a=s||0,l=this.getParsed(t),c=l._custom,f=jx(c);let p=l[n.axis],g=0,y=r?this.applyStack(n,l,r):p,b,_;y!==p&&(g=y-p,y=p),f&&(p=c.barStart,y=c.barEnd-c.barStart,p!==0&&jo(p)!==jo(c.barEnd)&&(g=0),g+=p);const C=!Jt(s)&&!f?s:g;let k=n.getPixelForValue(C);if(this.chart.getDataVisibility(t)?b=n.getPixelForValue(g+y):b=k,_=b-k,Math.abs(_)<o){_=GY(_,n,a)*o,p===a&&(k-=_/2);const P=n.getPixelForDecimal(0),O=n.getPixelForDecimal(1),$=Math.min(P,O),B=Math.max(P,O);k=Math.max(Math.min(k,B),$),b=k+_,r&&!f&&(l._stacks[n.axis]._visualValues[i]=n.getValueForPixel(b)-n.getValueForPixel(k))}if(k===n.getPixelForValue(a)){const P=jo(_)*n.getLineWidthForValue(a)/2;k+=P,_-=P}return{size:_,base:k,head:b,center:b+_/2}}_calculateBarIndexPixels(t,n){const r=n.scale,i=this.options,s=i.skipNull,o=Et(i.maxBarThickness,1/0);let a,l;const c=this._getAxisCount();if(n.grouped){const f=s?this._getStackCount(t):n.stackCount,p=i.barThickness==="flex"?QY(t,n,i,f*c):qY(t,n,i,f*c),g=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,y=this._getAxis().indexOf(Et(g,this.getFirstScaleIdForIndexAxis())),b=this._getStackIndex(this.index,this._cachedMeta.stack,s?t:void 0)+y;a=p.start+p.chunk*b+p.chunk/2,l=Math.min(o,p.chunk*p.ratio)}else a=r.getPixelForValue(this.getParsed(t)[r.axis],t),l=Math.min(o,n.min*n.ratio);return{base:a-l/2,head:a+l/2,center:a,size:l}}draw(){const t=this._cachedMeta,n=t.vScale,r=t.data,i=r.length;let s=0;for(;s<i;++s)this.getParsed(s)[n.axis]!==null&&!r[s].hidden&&r[s].draw(this._ctx)}}class eX extends Al{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,n,r,i){const s=super.parsePrimitiveData(t,n,r,i);for(let o=0;o<s.length;o++)s[o]._custom=this.resolveDataElementOptions(o+r).radius;return s}parseArrayData(t,n,r,i){const s=super.parseArrayData(t,n,r,i);for(let o=0;o<s.length;o++){const a=n[r+o];s[o]._custom=Et(a[2],this.resolveDataElementOptions(o+r).radius)}return s}parseObjectData(t,n,r,i){const s=super.parseObjectData(t,n,r,i);for(let o=0;o<s.length;o++){const a=n[r+o];s[o]._custom=Et(a&&a.r&&+a.r,this.resolveDataElementOptions(o+r).radius)}return s}getMaxOverflow(){const t=this._cachedMeta.data;let n=0;for(let r=t.length-1;r>=0;--r)n=Math.max(n,t[r].size(this.resolveDataElementOptions(r))/2);return n>0&&n}getLabelAndValue(t){const n=this._cachedMeta,r=this.chart.data.labels||[],{xScale:i,yScale:s}=n,o=this.getParsed(t),a=i.getLabelForValue(o.x),l=s.getLabelForValue(o.y),c=o._custom;return{label:r[t]||"",value:"("+a+", "+l+(c?", "+c:"")+")"}}update(t){const n=this._cachedMeta.data;this.updateElements(n,0,n.length,t)}updateElements(t,n,r,i){const s=i==="reset",{iScale:o,vScale:a}=this._cachedMeta,{sharedOptions:l,includeOptions:c}=this._getSharedOptions(n,i),f=o.axis,p=a.axis;for(let g=n;g<n+r;g++){const y=t[g],b=!s&&this.getParsed(g),_={},C=_[f]=s?o.getPixelForDecimal(.5):o.getPixelForValue(b[f]),k=_[p]=s?a.getBasePixel():a.getPixelForValue(b[p]);_.skip=isNaN(C)||isNaN(k),c&&(_.options=l||this.resolveDataElementOptions(g,y.active?"active":i),s&&(_.options.radius=0)),this.updateElement(y,g,_,i)}}resolveDataElementOptions(t,n){const r=this.getParsed(t);let i=super.resolveDataElementOptions(t,n);i.$shared&&(i=Object.assign({},i,{$shared:!1}));const s=i.radius;return n!=="active"&&(i.radius=0),i.radius+=Et(r&&r._custom,s),i}}function tX(e,t,n){let r=1,i=1,s=0,o=0;if(t<Bn){const a=e,l=a+t,c=Math.cos(a),f=Math.sin(a),p=Math.cos(l),g=Math.sin(l),y=(O,$,B)=>tp(O,a,l,!0)?1:Math.max($,$*n,B,B*n),b=(O,$,B)=>tp(O,a,l,!0)?-1:Math.min($,$*n,B,B*n),_=y(0,c,p),C=y(cr,f,g),k=b(mn,c,p),P=b(mn+cr,f,g);r=(_-k)/2,i=(C-P)/2,s=-(_+k)/2,o=-(C+P)/2}return{ratioX:r,ratioY:i,offsetX:s,offsetY:o}}class Hy extends Al{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const n=t.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:r,color:i}}=t.legend.options;return n.labels.map((s,o)=>{const l=t.getDatasetMeta(0).controller.getStyle(o);return{text:s,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:i,lineWidth:l.borderWidth,pointStyle:r,hidden:!t.getDataVisibility(o),index:o}})}return[]}},onClick(t,n,r){r.chart.toggleDataVisibility(n.index),r.chart.update()}}}};constructor(t,n){super(t,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,n){const r=this.getDataset().data,i=this._cachedMeta;if(this._parsing===!1)i._parsed=r;else{let s=l=>+r[l];if(Zt(r[t])){const{key:l="value"}=this._parsing;s=c=>+_l(r[c],l)}let o,a;for(o=t,a=t+n;o<a;++o)i._parsed[o]=s(o)}}_getRotation(){return ro(this.options.rotation-90)}_getCircumference(){return ro(this.options.circumference)}_getRotationExtents(){let t=Bn,n=-Bn;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){const i=this.chart.getDatasetMeta(r).controller,s=i._getRotation(),o=i._getCircumference();t=Math.min(t,s),n=Math.max(n,s+o)}return{rotation:t,circumference:n-t}}update(t){const n=this.chart,{chartArea:r}=n,i=this._cachedMeta,s=i.data,o=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,a=Math.max((Math.min(r.width,r.height)-o)/2,0),l=Math.min(fG(this.options.cutout,a),1),c=this._getRingWeight(this.index),{circumference:f,rotation:p}=this._getRotationExtents(),{ratioX:g,ratioY:y,offsetX:b,offsetY:_}=tX(p,f,l),C=(r.width-o)/g,k=(r.height-o)/y,P=Math.max(Math.min(C,k)/2,0),O=fj(this.options.radius,P),$=Math.max(O*l,0),B=(O-$)/this._getVisibleDatasetWeightTotal();this.offsetX=b*O,this.offsetY=_*O,i.total=this.calculateTotal(),this.outerRadius=O-B*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-B*c,0),this.updateElements(s,0,s.length,t)}_circumference(t,n){const r=this.options,i=this._cachedMeta,s=this._getCircumference();return n&&r.animation.animateRotate||!this.chart.getDataVisibility(t)||i._parsed[t]===null||i.data[t].hidden?0:this.calculateCircumference(i._parsed[t]*s/Bn)}updateElements(t,n,r,i){const s=i==="reset",o=this.chart,a=o.chartArea,c=o.options.animation,f=(a.left+a.right)/2,p=(a.top+a.bottom)/2,g=s&&c.animateScale,y=g?0:this.innerRadius,b=g?0:this.outerRadius,{sharedOptions:_,includeOptions:C}=this._getSharedOptions(n,i);let k=this._getRotation(),P;for(P=0;P<n;++P)k+=this._circumference(P,s);for(P=n;P<n+r;++P){const O=this._circumference(P,s),$=t[P],B={x:f+this.offsetX,y:p+this.offsetY,startAngle:k,endAngle:k+O,circumference:O,outerRadius:b,innerRadius:y};C&&(B.options=_||this.resolveDataElementOptions(P,$.active?"active":i)),k+=O,this.updateElement($,P,B,i)}}calculateTotal(){const t=this._cachedMeta,n=t.data;let r=0,i;for(i=0;i<n.length;i++){const s=t._parsed[i];s!==null&&!isNaN(s)&&this.chart.getDataVisibility(i)&&!n[i].hidden&&(r+=Math.abs(s))}return r}calculateCircumference(t){const n=this._cachedMeta.total;return n>0&&!isNaN(t)?Bn*(Math.abs(t)/n):0}getLabelAndValue(t){const n=this._cachedMeta,r=this.chart,i=r.data.labels||[],s=Tp(n._parsed[t],r.options.locale);return{label:i[t]||"",value:s}}getMaxBorderWidth(t){let n=0;const r=this.chart;let i,s,o,a,l;if(!t){for(i=0,s=r.data.datasets.length;i<s;++i)if(r.isDatasetVisible(i)){o=r.getDatasetMeta(i),t=o.data,a=o.controller;break}}if(!t)return 0;for(i=0,s=t.length;i<s;++i)l=a.resolveDataElementOptions(i),l.borderAlign!=="inner"&&(n=Math.max(n,l.borderWidth||0,l.hoverBorderWidth||0));return n}getMaxOffset(t){let n=0;for(let r=0,i=t.length;r<i;++r){const s=this.resolveDataElementOptions(r);n=Math.max(n,s.offset||0,s.hoverOffset||0)}return n}_getRingWeightOffset(t){let n=0;for(let r=0;r<t;++r)this.chart.isDatasetVisible(r)&&(n+=this._getRingWeight(r));return n}_getRingWeight(t){return Math.max(Et(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class nX extends Al{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const n=this._cachedMeta,{dataset:r,data:i=[],_dataset:s}=n,o=this.chart._animationsDisabled;let{start:a,count:l}=bj(n,i,o);this._drawStart=a,this._drawCount=l,wj(n)&&(a=0,l=i.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!s._decimated,r.points=i;const c=this.resolveDatasetElementOptions(t);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(r,void 0,{animated:!o,options:c},t),this.updateElements(i,a,l,t)}updateElements(t,n,r,i){const s=i==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,{sharedOptions:f,includeOptions:p}=this._getSharedOptions(n,i),g=o.axis,y=a.axis,{spanGaps:b,segment:_}=this.options,C=qu(b)?b:Number.POSITIVE_INFINITY,k=this.chart._animationsDisabled||s||i==="none",P=n+r,O=t.length;let $=n>0&&this.getParsed(n-1);for(let B=0;B<O;++B){const j=t[B],M=k?j:{};if(B<n||B>=P){M.skip=!0;continue}const U=this.getParsed(B),z=Jt(U[y]),D=M[g]=o.getPixelForValue(U[g],B),ee=M[y]=s||z?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,U,l):U[y],B);M.skip=isNaN(D)||isNaN(ee)||z,M.stop=B>0&&Math.abs(U[g]-$[g])>C,_&&(M.parsed=U,M.raw=c.data[B]),p&&(M.options=f||this.resolveDataElementOptions(B,j.active?"active":i)),k||this.updateElement(j,B,M,i),$=U}}getMaxOverflow(){const t=this._cachedMeta,n=t.dataset,r=n.options&&n.options.borderWidth||0,i=t.data||[];if(!i.length)return r;const s=i[0].size(this.resolveDataElementOptions(0)),o=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(r,s,o)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}class $j extends Al{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const n=t.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:r,color:i}}=t.legend.options;return n.labels.map((s,o)=>{const l=t.getDatasetMeta(0).controller.getStyle(o);return{text:s,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:i,lineWidth:l.borderWidth,pointStyle:r,hidden:!t.getDataVisibility(o),index:o}})}return[]}},onClick(t,n,r){r.chart.toggleDataVisibility(n.index),r.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(t,n){super(t,n),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const n=this._cachedMeta,r=this.chart,i=r.data.labels||[],s=Tp(n._parsed[t].r,r.options.locale);return{label:i[t]||"",value:s}}parseObjectData(t,n,r,i){return Ij.bind(this)(t,n,r,i)}update(t){const n=this._cachedMeta.data;this._updateRadius(),this.updateElements(n,0,n.length,t)}getMinMax(){const t=this._cachedMeta,n={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach((r,i)=>{const s=this.getParsed(i).r;!isNaN(s)&&this.chart.getDataVisibility(i)&&(s<n.min&&(n.min=s),s>n.max&&(n.max=s))}),n}_updateRadius(){const t=this.chart,n=t.chartArea,r=t.options,i=Math.min(n.right-n.left,n.bottom-n.top),s=Math.max(i/2,0),o=Math.max(r.cutoutPercentage?s/100*r.cutoutPercentage:1,0),a=(s-o)/t.getVisibleDatasetCount();this.outerRadius=s-a*this.index,this.innerRadius=this.outerRadius-a}updateElements(t,n,r,i){const s=i==="reset",o=this.chart,l=o.options.animation,c=this._cachedMeta.rScale,f=c.xCenter,p=c.yCenter,g=c.getIndexAngle(0)-.5*mn;let y=g,b;const _=360/this.countVisibleElements();for(b=0;b<n;++b)y+=this._computeAngle(b,i,_);for(b=n;b<n+r;b++){const C=t[b];let k=y,P=y+this._computeAngle(b,i,_),O=o.getDataVisibility(b)?c.getDistanceFromCenterForValue(this.getParsed(b).r):0;y=P,s&&(l.animateScale&&(O=0),l.animateRotate&&(k=P=g));const $={x:f,y:p,innerRadius:0,outerRadius:O,startAngle:k,endAngle:P,options:this.resolveDataElementOptions(b,C.active?"active":i)};this.updateElement(C,b,$,i)}}countVisibleElements(){const t=this._cachedMeta;let n=0;return t.data.forEach((r,i)=>{!isNaN(this.getParsed(i).r)&&this.chart.getDataVisibility(i)&&n++}),n}_computeAngle(t,n,r){return this.chart.getDataVisibility(t)?ro(this.resolveDataElementOptions(t,n).angle||r):0}}class rX extends Hy{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}class Uj extends Al{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(t){const n=this._cachedMeta.vScale,r=this.getParsed(t);return{label:n.getLabels()[t],value:""+n.getLabelForValue(r[n.axis])}}parseObjectData(t,n,r,i){return Ij.bind(this)(t,n,r,i)}update(t){const n=this._cachedMeta,r=n.dataset,i=n.data||[],s=n.iScale.getLabels();if(r.points=i,t!=="resize"){const o=this.resolveDatasetElementOptions(t);this.options.showLine||(o.borderWidth=0);const a={_loop:!0,_fullLoop:s.length===i.length,options:o};this.updateElement(r,void 0,a,t)}this.updateElements(i,0,i.length,t)}updateElements(t,n,r,i){const s=this._cachedMeta.rScale,o=i==="reset";for(let a=n;a<n+r;a++){const l=t[a],c=this.resolveDataElementOptions(a,l.active?"active":i),f=s.getPointPositionForValue(a,this.getParsed(a).r),p=o?s.xCenter:f.x,g=o?s.yCenter:f.y,y={x:p,y:g,angle:f.angle,skip:isNaN(p)||isNaN(g),options:c};this.updateElement(l,a,y,i)}}}class iX extends Al{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(t){const n=this._cachedMeta,r=this.chart.data.labels||[],{xScale:i,yScale:s}=n,o=this.getParsed(t),a=i.getLabelForValue(o.x),l=s.getLabelForValue(o.y);return{label:r[t]||"",value:"("+a+", "+l+")"}}update(t){const n=this._cachedMeta,{data:r=[]}=n,i=this.chart._animationsDisabled;let{start:s,count:o}=bj(n,r,i);if(this._drawStart=s,this._drawCount=o,wj(n)&&(s=0,o=r.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:a,_dataset:l}=n;a._chart=this.chart,a._datasetIndex=this.index,a._decimated=!!l._decimated,a.points=r;const c=this.resolveDatasetElementOptions(t);c.segment=this.options.segment,this.updateElement(a,void 0,{animated:!i,options:c},t)}else this.datasetElementType&&(delete n.dataset,this.datasetElementType=!1);this.updateElements(r,s,o,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,n,r,i){const s=i==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,f=this.resolveDataElementOptions(n,i),p=this.getSharedOptions(f),g=this.includeOptions(i,p),y=o.axis,b=a.axis,{spanGaps:_,segment:C}=this.options,k=qu(_)?_:Number.POSITIVE_INFINITY,P=this.chart._animationsDisabled||s||i==="none";let O=n>0&&this.getParsed(n-1);for(let $=n;$<n+r;++$){const B=t[$],j=this.getParsed($),M=P?B:{},U=Jt(j[b]),z=M[y]=o.getPixelForValue(j[y],$),D=M[b]=s||U?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,j,l):j[b],$);M.skip=isNaN(z)||isNaN(D)||U,M.stop=$>0&&Math.abs(j[y]-O[y])>k,C&&(M.parsed=j,M.raw=c.data[$]),g&&(M.options=p||this.resolveDataElementOptions($,B.active?"active":i)),P||this.updateElement(B,$,M,i),O=j}this.updateSharedOptions(p,i,f)}getMaxOverflow(){const t=this._cachedMeta,n=t.data||[];if(!this.options.showLine){let a=0;for(let l=n.length-1;l>=0;--l)a=Math.max(a,n[l].size(this.resolveDataElementOptions(l))/2);return a>0&&a}const r=t.dataset,i=r.options&&r.options.borderWidth||0;if(!n.length)return i;const s=n[0].size(this.resolveDataElementOptions(0)),o=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(i,s,o)/2}}var sX=Object.freeze({__proto__:null,BarController:zj,BubbleController:eX,DoughnutController:Hy,LineController:nX,PieController:rX,PolarAreaController:$j,RadarController:Uj,ScatterController:iX});function pu(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class A_{static override(t){Object.assign(A_.prototype,t)}options;constructor(t){this.options=t||{}}init(){}formats(){return pu()}parse(){return pu()}format(){return pu()}add(){return pu()}diff(){return pu()}startOf(){return pu()}endOf(){return pu()}}var oX={_date:A_};function aX(e,t,n,r){const{controller:i,data:s,_sorted:o}=e,a=i._cachedMeta.iScale,l=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(a&&t===a.axis&&t!=="r"&&o&&s.length){const c=a._reversePixels?kG:ua;if(r){if(i._sharedOptions){const f=s[0],p=typeof f.getRange=="function"&&f.getRange(t);if(p){const g=c(s,t,n-p),y=c(s,t,n+p);return{lo:g.lo,hi:y.hi}}}}else{const f=c(s,t,n);if(l){const{vScale:p}=i._cachedMeta,{_parsed:g}=e,y=g.slice(0,f.lo+1).reverse().findIndex(_=>!Jt(_[p.axis]));f.lo-=Math.max(0,y);const b=g.slice(f.hi).findIndex(_=>!Jt(_[p.axis]));f.hi+=Math.max(0,b)}return f}}return{lo:0,hi:s.length-1}}function Wy(e,t,n,r,i){const s=e.getSortedVisibleDatasetMetas(),o=n[t];for(let a=0,l=s.length;a<l;++a){const{index:c,data:f}=s[a],{lo:p,hi:g}=aX(s[a],t,o,i);for(let y=p;y<=g;++y){const b=f[y];b.skip||r(b,c,y)}}}function lX(e){const t=e.indexOf("x")!==-1,n=e.indexOf("y")!==-1;return function(r,i){const s=t?Math.abs(r.x-i.x):0,o=n?Math.abs(r.y-i.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(o,2))}}function Ix(e,t,n,r,i){const s=[];return!i&&!e.isPointInArea(t)||Wy(e,n,t,function(a,l,c){!i&&!ca(a,e.chartArea,0)||a.inRange(t.x,t.y,r)&&s.push({element:a,datasetIndex:l,index:c})},!0),s}function uX(e,t,n,r){let i=[];function s(o,a,l){const{startAngle:c,endAngle:f}=o.getProps(["startAngle","endAngle"],r),{angle:p}=mj(o,{x:t.x,y:t.y});tp(p,c,f)&&i.push({element:o,datasetIndex:a,index:l})}return Wy(e,n,t,s),i}function cX(e,t,n,r,i,s){let o=[];const a=lX(n);let l=Number.POSITIVE_INFINITY;function c(f,p,g){const y=f.inRange(t.x,t.y,i);if(r&&!y)return;const b=f.getCenterPoint(i);if(!(!!s||e.isPointInArea(b))&&!y)return;const C=a(t,b);C<l?(o=[{element:f,datasetIndex:p,index:g}],l=C):C===l&&o.push({element:f,datasetIndex:p,index:g})}return Wy(e,n,t,c),o}function Nx(e,t,n,r,i,s){return!s&&!e.isPointInArea(t)?[]:n==="r"&&!r?uX(e,t,n,i):cX(e,t,n,r,i,s)}function Ok(e,t,n,r,i){const s=[],o=n==="x"?"inXRange":"inYRange";let a=!1;return Wy(e,n,t,(l,c,f)=>{l[o]&&l[o](t[n],i)&&(s.push({element:l,datasetIndex:c,index:f}),a=a||l.inRange(t.x,t.y,i))}),r&&!a?[]:s}var dX={modes:{index(e,t,n,r){const i=wu(t,e),s=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?Ix(e,i,s,r,o):Nx(e,i,s,!1,r,o),l=[];return a.length?(e.getSortedVisibleDatasetMetas().forEach(c=>{const f=a[0].index,p=c.data[f];p&&!p.skip&&l.push({element:p,datasetIndex:c.index,index:f})}),l):[]},dataset(e,t,n,r){const i=wu(t,e),s=n.axis||"xy",o=n.includeInvisible||!1;let a=n.intersect?Ix(e,i,s,r,o):Nx(e,i,s,!1,r,o);if(a.length>0){const l=a[0].datasetIndex,c=e.getDatasetMeta(l).data;a=[];for(let f=0;f<c.length;++f)a.push({element:c[f],datasetIndex:l,index:f})}return a},point(e,t,n,r){const i=wu(t,e),s=n.axis||"xy",o=n.includeInvisible||!1;return Ix(e,i,s,r,o)},nearest(e,t,n,r){const i=wu(t,e),s=n.axis||"xy",o=n.includeInvisible||!1;return Nx(e,i,s,n.intersect,r,o)},x(e,t,n,r){const i=wu(t,e);return Ok(e,i,"x",n.intersect,r)},y(e,t,n,r){const i=wu(t,e);return Ok(e,i,"y",n.intersect,r)}}};const Hj=["left","top","right","bottom"];function nh(e,t){return e.filter(n=>n.pos===t)}function Mk(e,t){return e.filter(n=>Hj.indexOf(n.pos)===-1&&n.box.axis===t)}function rh(e,t){return e.sort((n,r)=>{const i=t?r:n,s=t?n:r;return i.weight===s.weight?i.index-s.index:i.weight-s.weight})}function fX(e){const t=[];let n,r,i,s,o,a;for(n=0,r=(e||[]).length;n<r;++n)i=e[n],{position:s,options:{stack:o,stackWeight:a=1}}=i,t.push({index:n,box:i,pos:s,horizontal:i.isHorizontal(),weight:i.weight,stack:o&&s+o,stackWeight:a});return t}function hX(e){const t={};for(const n of e){const{stack:r,pos:i,stackWeight:s}=n;if(!r||!Hj.includes(i))continue;const o=t[r]||(t[r]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=s}return t}function pX(e,t){const n=hX(e),{vBoxMaxWidth:r,hBoxMaxHeight:i}=t;let s,o,a;for(s=0,o=e.length;s<o;++s){a=e[s];const{fullSize:l}=a.box,c=n[a.stack],f=c&&a.stackWeight/c.weight;a.horizontal?(a.width=f?f*r:l&&t.availableWidth,a.height=i):(a.width=r,a.height=f?f*i:l&&t.availableHeight)}return n}function mX(e){const t=fX(e),n=rh(t.filter(c=>c.box.fullSize),!0),r=rh(nh(t,"left"),!0),i=rh(nh(t,"right")),s=rh(nh(t,"top"),!0),o=rh(nh(t,"bottom")),a=Mk(t,"x"),l=Mk(t,"y");return{fullSize:n,leftAndTop:r.concat(s),rightAndBottom:i.concat(l).concat(o).concat(a),chartArea:nh(t,"chartArea"),vertical:r.concat(i).concat(l),horizontal:s.concat(o).concat(a)}}function Ak(e,t,n,r){return Math.max(e[n],t[n])+Math.max(e[r],t[r])}function Wj(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function gX(e,t,n,r){const{pos:i,box:s}=n,o=e.maxPadding;if(!Zt(i)){n.size&&(e[i]-=n.size);const p=r[n.stack]||{size:0,count:1};p.size=Math.max(p.size,n.horizontal?s.height:s.width),n.size=p.size/p.count,e[i]+=n.size}s.getPadding&&Wj(o,s.getPadding());const a=Math.max(0,t.outerWidth-Ak(o,e,"left","right")),l=Math.max(0,t.outerHeight-Ak(o,e,"top","bottom")),c=a!==e.w,f=l!==e.h;return e.w=a,e.h=l,n.horizontal?{same:c,other:f}:{same:f,other:c}}function yX(e){const t=e.maxPadding;function n(r){const i=Math.max(t[r]-e[r],0);return e[r]+=i,i}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}function vX(e,t){const n=t.maxPadding;function r(i){const s={left:0,top:0,right:0,bottom:0};return i.forEach(o=>{s[o]=Math.max(t[o],n[o])}),s}return r(e?["left","right"]:["top","bottom"])}function xh(e,t,n,r){const i=[];let s,o,a,l,c,f;for(s=0,o=e.length,c=0;s<o;++s){a=e[s],l=a.box,l.update(a.width||t.w,a.height||t.h,vX(a.horizontal,t));const{same:p,other:g}=gX(t,n,a,r);c|=p&&i.length,f=f||g,l.fullSize||i.push(a)}return c&&xh(i,t,n,r)||f}function Sg(e,t,n,r,i){e.top=n,e.left=t,e.right=t+r,e.bottom=n+i,e.width=r,e.height=i}function Dk(e,t,n,r){const i=n.padding;let{x:s,y:o}=t;for(const a of e){const l=a.box,c=r[a.stack]||{placed:0,weight:1},f=a.stackWeight/c.weight||1;if(a.horizontal){const p=t.w*f,g=c.size||l.height;ep(c.start)&&(o=c.start),l.fullSize?Sg(l,i.left,o,n.outerWidth-i.right-i.left,g):Sg(l,t.left+c.placed,o,p,g),c.start=o,c.placed+=p,o=l.bottom}else{const p=t.h*f,g=c.size||l.width;ep(c.start)&&(s=c.start),l.fullSize?Sg(l,s,i.top,g,n.outerHeight-i.bottom-i.top):Sg(l,s,t.top+c.placed,g,p),c.start=s,c.placed+=p,s=l.right}}t.x=s,t.y=o}var ni={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(n){t.draw(n)}}]},e.boxes.push(t)},removeBox(e,t){const n=e.boxes?e.boxes.indexOf(t):-1;n!==-1&&e.boxes.splice(n,1)},configure(e,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},update(e,t,n,r){if(!e)return;const i=si(e.options.layout.padding),s=Math.max(t-i.width,0),o=Math.max(n-i.height,0),a=mX(e.boxes),l=a.vertical,c=a.horizontal;_n(e.boxes,_=>{typeof _.beforeLayout=="function"&&_.beforeLayout()});const f=l.reduce((_,C)=>C.box.options&&C.box.options.display===!1?_:_+1,0)||1,p=Object.freeze({outerWidth:t,outerHeight:n,padding:i,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/f,hBoxMaxHeight:o/2}),g=Object.assign({},i);Wj(g,si(r));const y=Object.assign({maxPadding:g,w:s,h:o,x:i.left,y:i.top},i),b=pX(l.concat(c),p);xh(a.fullSize,y,p,b),xh(l,y,p,b),xh(c,y,p,b)&&xh(l,y,p,b),yX(y),Dk(a.leftAndTop,y,p,b),y.x+=y.w,y.y+=y.h,Dk(a.rightAndBottom,y,p,b),e.chartArea={left:y.left,top:y.top,right:y.left+y.w,bottom:y.top+y.h,height:y.h,width:y.w},_n(a.chartArea,_=>{const C=_.box;Object.assign(C,e.chartArea),C.update(y.w,y.h,{left:0,top:0,right:0,bottom:0})})}};class Vj{acquireContext(t,n){}releaseContext(t){return!1}addEventListener(t,n,r){}removeEventListener(t,n,r){}getDevicePixelRatio(){return 1}getMaximumSize(t,n,r,i){return n=Math.max(0,n||t.width),r=r||t.height,{width:n,height:Math.max(0,i?Math.floor(n/i):r)}}isAttached(t){return!0}updateConfig(t){}}class xX extends Vj{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const u0="$chartjs",bX={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Lk=e=>e===null||e==="";function wX(e,t){const n=e.style,r=e.getAttribute("height"),i=e.getAttribute("width");if(e[u0]={initial:{height:r,width:i,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",Lk(i)){const s=bk(e,"width");s!==void 0&&(e.width=s)}if(Lk(r))if(e.style.height==="")e.height=e.width/(t||2);else{const s=bk(e,"height");s!==void 0&&(e.height=s)}return e}const qj=vY?{passive:!0}:!1;function _X(e,t,n){e&&e.addEventListener(t,n,qj)}function SX(e,t,n){e&&e.canvas&&e.canvas.removeEventListener(t,n,qj)}function CX(e,t){const n=bX[e.type]||e.type,{x:r,y:i}=wu(e,t);return{type:n,chart:t,native:e,x:r!==void 0?r:null,y:i!==void 0?i:null}}function Y0(e,t){for(const n of e)if(n===t||n.contains(t))return!0}function kX(e,t,n){const r=e.canvas,i=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||Y0(a.addedNodes,r),o=o&&!Y0(a.removedNodes,r);o&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}function EX(e,t,n){const r=e.canvas,i=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||Y0(a.removedNodes,r),o=o&&!Y0(a.addedNodes,r);o&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}const rp=new Map;let Fk=0;function Qj(){const e=window.devicePixelRatio;e!==Fk&&(Fk=e,rp.forEach((t,n)=>{n.currentDevicePixelRatio!==e&&t()}))}function TX(e,t){rp.size||window.addEventListener("resize",Qj),rp.set(e,t)}function jX(e){rp.delete(e),rp.size||window.removeEventListener("resize",Qj)}function IX(e,t,n){const r=e.canvas,i=r&&M_(r);if(!i)return;const s=xj((a,l)=>{const c=i.clientWidth;n(a,l),c<i.clientWidth&&n()},window),o=new ResizeObserver(a=>{const l=a[0],c=l.contentRect.width,f=l.contentRect.height;c===0&&f===0||s(c,f)});return o.observe(i),TX(e,s),o}function Px(e,t,n){n&&n.disconnect(),t==="resize"&&jX(e)}function NX(e,t,n){const r=e.canvas,i=xj(s=>{e.ctx!==null&&n(CX(s,e))},e);return _X(r,t,i),i}class PX extends Vj{acquireContext(t,n){const r=t&&t.getContext&&t.getContext("2d");return r&&r.canvas===t?(wX(t,n),r):null}releaseContext(t){const n=t.canvas;if(!n[u0])return!1;const r=n[u0].initial;["height","width"].forEach(s=>{const o=r[s];Jt(o)?n.removeAttribute(s):n.setAttribute(s,o)});const i=r.style||{};return Object.keys(i).forEach(s=>{n.style[s]=i[s]}),n.width=n.width,delete n[u0],!0}addEventListener(t,n,r){this.removeEventListener(t,n);const i=t.$proxies||(t.$proxies={}),o={attach:kX,detach:EX,resize:IX}[n]||NX;i[n]=o(t,n,r)}removeEventListener(t,n){const r=t.$proxies||(t.$proxies={}),i=r[n];if(!i)return;({attach:Px,detach:Px,resize:Px}[n]||SX)(t,n,i),r[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,n,r,i){return yY(t,n,r,i)}isAttached(t){const n=t&&M_(t);return!!(n&&n.isConnected)}}function RX(e){return!O_()||typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas?xX:PX}let wa=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){const{x:n,y:r}=this.getProps(["x","y"],t);return{x:n,y:r}}hasValue(){return qu(this.x)&&qu(this.y)}getProps(t,n){const r=this.$animations;if(!n||!r)return this;const i={};return t.forEach(s=>{i[s]=r[s]&&r[s].active()?r[s]._to:this[s]}),i}};function OX(e,t){const n=e.options.ticks,r=MX(e),i=Math.min(n.maxTicksLimit||r,r),s=n.major.enabled?DX(t):[],o=s.length,a=s[0],l=s[o-1],c=[];if(o>i)return LX(t,c,s,o/i),c;const f=AX(s,t,i);if(o>0){let p,g;const y=o>1?Math.round((l-a)/(o-1)):null;for(Cg(t,c,f,Jt(y)?0:a-y,a),p=0,g=o-1;p<g;p++)Cg(t,c,f,s[p],s[p+1]);return Cg(t,c,f,l,Jt(y)?t.length:l+y),c}return Cg(t,c,f),c}function MX(e){const t=e.options.offset,n=e._tickSize(),r=e._length/n+(t?0:1),i=e._maxLength/n;return Math.floor(Math.min(r,i))}function AX(e,t,n){const r=FX(e),i=t.length/n;if(!r)return Math.max(i,1);const s=bG(r);for(let o=0,a=s.length-1;o<a;o++){const l=s[o];if(l>i)return l}return Math.max(i,1)}function DX(e){const t=[];let n,r;for(n=0,r=e.length;n<r;n++)e[n].major&&t.push(n);return t}function LX(e,t,n,r){let i=0,s=n[0],o;for(r=Math.ceil(r),o=0;o<e.length;o++)o===s&&(t.push(e[o]),i++,s=n[i*r])}function Cg(e,t,n,r,i){const s=Et(r,0),o=Math.min(Et(i,e.length),e.length);let a=0,l,c,f;for(n=Math.ceil(n),i&&(l=i-r,n=l/Math.floor(l/n)),f=s;f<0;)a++,f=Math.round(s+a*n);for(c=Math.max(s,0);c<o;c++)c===f&&(t.push(e[c]),a++,f=Math.round(s+a*n))}function FX(e){const t=e.length;let n,r;if(t<2)return!1;for(r=e[0],n=1;n<t;++n)if(e[n]-e[n-1]!==r)return!1;return r}const BX=e=>e==="left"?"right":e==="right"?"left":e,Bk=(e,t,n)=>t==="top"||t==="left"?e[t]+n:e[t]-n,zk=(e,t)=>Math.min(t||e,e);function $k(e,t){const n=[],r=e.length/t,i=e.length;let s=0;for(;s<i;s+=r)n.push(e[Math.floor(s)]);return n}function zX(e,t,n){const r=e.ticks.length,i=Math.min(t,r-1),s=e._startPixel,o=e._endPixel,a=1e-6;let l=e.getPixelForTick(i),c;if(!(n&&(r===1?c=Math.max(l-s,o-l):t===0?c=(e.getPixelForTick(1)-l)/2:c=(l-e.getPixelForTick(i-1))/2,l+=i<t?c:-c,l<s-a||l>o+a)))return l}function $X(e,t){_n(e,n=>{const r=n.gc,i=r.length/2;let s;if(i>t){for(s=0;s<i;++s)delete n.data[r[s]];r.splice(0,i)}})}function ih(e){return e.drawTicks?e.tickLength:0}function Uk(e,t){if(!e.display)return 0;const n=Er(e.font,t),r=si(e.padding);return(Vn(e.text)?e.text.length:1)*n.lineHeight+r.height}function UX(e,t){return Ml(e,{scale:t,type:"scale"})}function HX(e,t,n){return Ml(e,{tick:n,index:t,type:"tick"})}function WX(e,t,n){let r=T_(e);return(n&&t!=="right"||!n&&t==="right")&&(r=BX(r)),r}function VX(e,t,n,r){const{top:i,left:s,bottom:o,right:a,chart:l}=e,{chartArea:c,scales:f}=l;let p=0,g,y,b;const _=o-i,C=a-s;if(e.isHorizontal()){if(y=ei(r,s,a),Zt(n)){const k=Object.keys(n)[0],P=n[k];b=f[k].getPixelForValue(P)+_-t}else n==="center"?b=(c.bottom+c.top)/2+_-t:b=Bk(e,n,t);g=a-s}else{if(Zt(n)){const k=Object.keys(n)[0],P=n[k];y=f[k].getPixelForValue(P)-C+t}else n==="center"?y=(c.left+c.right)/2-C+t:y=Bk(e,n,t);b=ei(r,o,i),p=n==="left"?-cr:cr}return{titleX:y,titleY:b,maxWidth:g,rotation:p}}class sc extends wa{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,n){return t}getUserBounds(){let{_userMin:t,_userMax:n,_suggestedMin:r,_suggestedMax:i}=this;return t=ss(t,Number.POSITIVE_INFINITY),n=ss(n,Number.NEGATIVE_INFINITY),r=ss(r,Number.POSITIVE_INFINITY),i=ss(i,Number.NEGATIVE_INFINITY),{min:ss(t,r),max:ss(n,i),minDefined:ir(t),maxDefined:ir(n)}}getMinMax(t){let{min:n,max:r,minDefined:i,maxDefined:s}=this.getUserBounds(),o;if(i&&s)return{min:n,max:r};const a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)o=a[l].controller.getMinMax(this,t),i||(n=Math.min(n,o.min)),s||(r=Math.max(r,o.max));return n=s&&n>r?r:n,r=i&&n>r?n:r,{min:ss(n,ss(r,n)),max:ss(r,ss(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Mn(this.options.beforeUpdate,[this])}update(t,n,r){const{beginAtZero:i,grace:s,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=n,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=GG(this,s,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?$k(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=OX(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,n,r;this.isHorizontal()?(n=this.left,r=this.right):(n=this.top,r=this.bottom,t=!t),this._startPixel=n,this._endPixel=r,this._reversePixels=t,this._length=r-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Mn(this.options.afterUpdate,[this])}beforeSetDimensions(){Mn(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Mn(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),Mn(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Mn(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const n=this.options.ticks;let r,i,s;for(r=0,i=t.length;r<i;r++)s=t[r],s.label=Mn(n.callback,[s.value,r,t],this)}afterTickToLabelConversion(){Mn(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Mn(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,n=t.ticks,r=zk(this.ticks.length,t.ticks.maxTicksLimit),i=n.minRotation||0,s=n.maxRotation;let o=i,a,l,c;if(!this._isVisible()||!n.display||i>=s||r<=1||!this.isHorizontal()){this.labelRotation=i;return}const f=this._getLabelSizes(),p=f.widest.width,g=f.highest.height,y=Lr(this.chart.width-p,0,this.maxWidth);a=t.offset?this.maxWidth/r:y/(r-1),p+6>a&&(a=y/(r-(t.offset?.5:1)),l=this.maxHeight-ih(t.grid)-n.padding-Uk(t.title,this.chart.options.font),c=Math.sqrt(p*p+g*g),o=k_(Math.min(Math.asin(Lr((f.highest.height+6)/a,-1,1)),Math.asin(Lr(l/c,-1,1))-Math.asin(Lr(g/c,-1,1)))),o=Math.max(i,Math.min(s,o))),this.labelRotation=o}afterCalculateLabelRotation(){Mn(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Mn(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:n,options:{ticks:r,title:i,grid:s}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=Uk(i,n.options.font);if(a?(t.width=this.maxWidth,t.height=ih(s)+l):(t.height=this.maxHeight,t.width=ih(s)+l),r.display&&this.ticks.length){const{first:c,last:f,widest:p,highest:g}=this._getLabelSizes(),y=r.padding*2,b=ro(this.labelRotation),_=Math.cos(b),C=Math.sin(b);if(a){const k=r.mirror?0:C*p.width+_*g.height;t.height=Math.min(this.maxHeight,t.height+k+y)}else{const k=r.mirror?0:_*p.width+C*g.height;t.width=Math.min(this.maxWidth,t.width+k+y)}this._calculatePadding(c,f,C,_)}}this._handleMargins(),a?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,n,r,i){const{ticks:{align:s,padding:o},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const f=this.getPixelForTick(0)-this.left,p=this.right-this.getPixelForTick(this.ticks.length-1);let g=0,y=0;l?c?(g=i*t.width,y=r*n.height):(g=r*t.height,y=i*n.width):s==="start"?y=n.width:s==="end"?g=t.width:s!=="inner"&&(g=t.width/2,y=n.width/2),this.paddingLeft=Math.max((g-f+o)*this.width/(this.width-f),0),this.paddingRight=Math.max((y-p+o)*this.width/(this.width-p),0)}else{let f=n.height/2,p=t.height/2;s==="start"?(f=0,p=t.height):s==="end"&&(f=n.height,p=0),this.paddingTop=f+o,this.paddingBottom=p+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Mn(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:n}=this.options;return n==="top"||n==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let n,r;for(n=0,r=t.length;n<r;n++)Jt(t[n].label)&&(t.splice(n,1),r--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const n=this.options.ticks.sampleSize;let r=this.ticks;n<r.length&&(r=$k(r,n)),this._labelSizes=t=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,n,r){const{ctx:i,_longestTextCache:s}=this,o=[],a=[],l=Math.floor(n/zk(n,r));let c=0,f=0,p,g,y,b,_,C,k,P,O,$,B;for(p=0;p<n;p+=l){if(b=t[p].label,_=this._resolveTickFontOptions(p),i.font=C=_.string,k=s[C]=s[C]||{data:{},gc:[]},P=_.lineHeight,O=$=0,!Jt(b)&&!Vn(b))O=K0(i,k.data,k.gc,O,b),$=P;else if(Vn(b))for(g=0,y=b.length;g<y;++g)B=b[g],!Jt(B)&&!Vn(B)&&(O=K0(i,k.data,k.gc,O,B),$+=P);o.push(O),a.push($),c=Math.max(O,c),f=Math.max($,f)}$X(s,n);const j=o.indexOf(c),M=a.indexOf(f),U=z=>({width:o[z]||0,height:a[z]||0});return{first:U(0),last:U(n-1),widest:U(j),highest:U(M),widths:o,heights:a}}getLabelForValue(t){return t}getPixelForValue(t,n){return NaN}getValueForPixel(t){}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const n=this._startPixel+t*this._length;return CG(this._alignToPixels?hu(this.chart,n,0):n)}getDecimalForPixel(t){const n=(t-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:n}=this;return t<0&&n<0?n:t>0&&n>0?t:0}getContext(t){const n=this.ticks||[];if(t>=0&&t<n.length){const r=n[t];return r.$context||(r.$context=HX(this.getContext(),t,r))}return this.$context||(this.$context=UX(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,n=ro(this.labelRotation),r=Math.abs(Math.cos(n)),i=Math.abs(Math.sin(n)),s=this._getLabelSizes(),o=t.autoSkipPadding||0,a=s?s.widest.width+o:0,l=s?s.highest.height+o:0;return this.isHorizontal()?l*r>a*i?a/r:l/i:l*i<a*r?l/r:a/i}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const n=this.axis,r=this.chart,i=this.options,{grid:s,position:o,border:a}=i,l=s.offset,c=this.isHorizontal(),p=this.ticks.length+(l?1:0),g=ih(s),y=[],b=a.setContext(this.getContext()),_=b.display?b.width:0,C=_/2,k=function(Q){return hu(r,Q,_)};let P,O,$,B,j,M,U,z,D,ee,J,re;if(o==="top")P=k(this.bottom),M=this.bottom-g,z=P-C,ee=k(t.top)+C,re=t.bottom;else if(o==="bottom")P=k(this.top),ee=t.top,re=k(t.bottom)-C,M=P+C,z=this.top+g;else if(o==="left")P=k(this.right),j=this.right-g,U=P-C,D=k(t.left)+C,J=t.right;else if(o==="right")P=k(this.left),D=t.left,J=k(t.right)-C,j=P+C,U=this.left+g;else if(n==="x"){if(o==="center")P=k((t.top+t.bottom)/2+.5);else if(Zt(o)){const Q=Object.keys(o)[0],ne=o[Q];P=k(this.chart.scales[Q].getPixelForValue(ne))}ee=t.top,re=t.bottom,M=P+C,z=M+g}else if(n==="y"){if(o==="center")P=k((t.left+t.right)/2);else if(Zt(o)){const Q=Object.keys(o)[0],ne=o[Q];P=k(this.chart.scales[Q].getPixelForValue(ne))}j=P-C,U=j-g,D=t.left,J=t.right}const q=Et(i.ticks.maxTicksLimit,p),V=Math.max(1,Math.ceil(p/q));for(O=0;O<p;O+=V){const Q=this.getContext(O),ne=s.setContext(Q),Z=a.setContext(Q),fe=ne.lineWidth,F=ne.color,G=Z.dash||[],ye=Z.dashOffset,H=ne.tickWidth,Me=ne.tickColor,Ee=ne.tickBorderDash||[],Te=ne.tickBorderDashOffset;$=zX(this,O,l),$!==void 0&&(B=hu(r,$,fe),c?j=U=D=J=B:M=z=ee=re=B,y.push({tx1:j,ty1:M,tx2:U,ty2:z,x1:D,y1:ee,x2:J,y2:re,width:fe,color:F,borderDash:G,borderDashOffset:ye,tickWidth:H,tickColor:Me,tickBorderDash:Ee,tickBorderDashOffset:Te}))}return this._ticksLength=p,this._borderValue=P,y}_computeLabelItems(t){const n=this.axis,r=this.options,{position:i,ticks:s}=r,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:f,mirror:p}=s,g=ih(r.grid),y=g+f,b=p?-f:y,_=-ro(this.labelRotation),C=[];let k,P,O,$,B,j,M,U,z,D,ee,J,re="middle";if(i==="top")j=this.bottom-b,M=this._getXAxisLabelAlignment();else if(i==="bottom")j=this.top+b,M=this._getXAxisLabelAlignment();else if(i==="left"){const V=this._getYAxisLabelAlignment(g);M=V.textAlign,B=V.x}else if(i==="right"){const V=this._getYAxisLabelAlignment(g);M=V.textAlign,B=V.x}else if(n==="x"){if(i==="center")j=(t.top+t.bottom)/2+y;else if(Zt(i)){const V=Object.keys(i)[0],Q=i[V];j=this.chart.scales[V].getPixelForValue(Q)+y}M=this._getXAxisLabelAlignment()}else if(n==="y"){if(i==="center")B=(t.left+t.right)/2-y;else if(Zt(i)){const V=Object.keys(i)[0],Q=i[V];B=this.chart.scales[V].getPixelForValue(Q)}M=this._getYAxisLabelAlignment(g).textAlign}n==="y"&&(l==="start"?re="top":l==="end"&&(re="bottom"));const q=this._getLabelSizes();for(k=0,P=a.length;k<P;++k){O=a[k],$=O.label;const V=s.setContext(this.getContext(k));U=this.getPixelForTick(k)+s.labelOffset,z=this._resolveTickFontOptions(k),D=z.lineHeight,ee=Vn($)?$.length:1;const Q=ee/2,ne=V.color,Z=V.textStrokeColor,fe=V.textStrokeWidth;let F=M;o?(B=U,M==="inner"&&(k===P-1?F=this.options.reverse?"left":"right":k===0?F=this.options.reverse?"right":"left":F="center"),i==="top"?c==="near"||_!==0?J=-ee*D+D/2:c==="center"?J=-q.highest.height/2-Q*D+D:J=-q.highest.height+D/2:c==="near"||_!==0?J=D/2:c==="center"?J=q.highest.height/2-Q*D:J=q.highest.height-ee*D,p&&(J*=-1),_!==0&&!V.showLabelBackdrop&&(B+=D/2*Math.sin(_))):(j=U,J=(1-ee)*D/2);let G;if(V.showLabelBackdrop){const ye=si(V.backdropPadding),H=q.heights[k],Me=q.widths[k];let Ee=J-ye.top,Te=0-ye.left;switch(re){case"middle":Ee-=H/2;break;case"bottom":Ee-=H;break}switch(M){case"center":Te-=Me/2;break;case"right":Te-=Me;break;case"inner":k===P-1?Te-=Me:k>0&&(Te-=Me/2);break}G={left:Te,top:Ee,width:Me+ye.width,height:H+ye.height,color:V.backdropColor}}C.push({label:$,font:z,textOffset:J,options:{rotation:_,color:ne,strokeColor:Z,strokeWidth:fe,textAlign:F,textBaseline:re,translation:[B,j],backdrop:G}})}return C}_getXAxisLabelAlignment(){const{position:t,ticks:n}=this.options;if(-ro(this.labelRotation))return t==="top"?"left":"right";let i="center";return n.align==="start"?i="left":n.align==="end"?i="right":n.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(t){const{position:n,ticks:{crossAlign:r,mirror:i,padding:s}}=this.options,o=this._getLabelSizes(),a=t+s,l=o.widest.width;let c,f;return n==="left"?i?(f=this.right+s,r==="near"?c="left":r==="center"?(c="center",f+=l/2):(c="right",f+=l)):(f=this.right-a,r==="near"?c="right":r==="center"?(c="center",f-=l/2):(c="left",f=this.left)):n==="right"?i?(f=this.left+s,r==="near"?c="right":r==="center"?(c="center",f-=l/2):(c="left",f-=l)):(f=this.left+a,r==="near"?c="left":r==="center"?(c="center",f+=l/2):(c="right",f=this.right)):c="right",{textAlign:c,x:f}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:n},left:r,top:i,width:s,height:o}=this;n&&(t.save(),t.fillStyle=n,t.fillRect(r,i,s,o),t.restore())}getLineWidthForValue(t){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const i=this.ticks.findIndex(s=>s.value===t);return i>=0?n.setContext(this.getContext(i)).lineWidth:0}drawGrid(t){const n=this.options.grid,r=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let s,o;const a=(l,c,f)=>{!f.width||!f.color||(r.save(),r.lineWidth=f.width,r.strokeStyle=f.color,r.setLineDash(f.borderDash||[]),r.lineDashOffset=f.borderDashOffset,r.beginPath(),r.moveTo(l.x,l.y),r.lineTo(c.x,c.y),r.stroke(),r.restore())};if(n.display)for(s=0,o=i.length;s<o;++s){const l=i[s];n.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:n,options:{border:r,grid:i}}=this,s=r.setContext(this.getContext()),o=r.display?s.width:0;if(!o)return;const a=i.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,f,p,g;this.isHorizontal()?(c=hu(t,this.left,o)-o/2,f=hu(t,this.right,a)+a/2,p=g=l):(p=hu(t,this.top,o)-o/2,g=hu(t,this.bottom,a)+a/2,c=f=l),n.save(),n.lineWidth=s.width,n.strokeStyle=s.color,n.beginPath(),n.moveTo(c,p),n.lineTo(f,g),n.stroke(),n.restore()}drawLabels(t){if(!this.options.ticks.display)return;const r=this.ctx,i=this._computeLabelArea();i&&zy(r,i);const s=this.getLabelItems(t);for(const o of s){const a=o.options,l=o.font,c=o.label,f=o.textOffset;Ku(r,c,0,f,l,a)}i&&$y(r)}drawTitle(){const{ctx:t,options:{position:n,title:r,reverse:i}}=this;if(!r.display)return;const s=Er(r.font),o=si(r.padding),a=r.align;let l=s.lineHeight/2;n==="bottom"||n==="center"||Zt(n)?(l+=o.bottom,Vn(r.text)&&(l+=s.lineHeight*(r.text.length-1))):l+=o.top;const{titleX:c,titleY:f,maxWidth:p,rotation:g}=VX(this,l,n,a);Ku(t,r.text,0,0,s,{color:r.color,maxWidth:p,rotation:g,textAlign:WX(a,n,i),textBaseline:"middle",translation:[c,f]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,n=t.ticks&&t.ticks.z||0,r=Et(t.grid&&t.grid.z,-1),i=Et(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==sc.prototype.draw?[{z:n,draw:s=>{this.draw(s)}}]:[{z:r,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:n,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(t){const n=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",i=[];let s,o;for(s=0,o=n.length;s<o;++s){const a=n[s];a[r]===this.id&&(!t||a.type===t)&&i.push(a)}return i}_resolveTickFontOptions(t){const n=this.options.ticks.setContext(this.getContext(t));return Er(n.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class kg{constructor(t,n,r){this.type=t,this.scope=n,this.override=r,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const n=Object.getPrototypeOf(t);let r;KX(n)&&(r=this.register(n));const i=this.items,s=t.id,o=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+t);return s in i||(i[s]=t,qX(t,o,r),this.override&&qn.override(t.id,t.overrides)),o}get(t){return this.items[t]}unregister(t){const n=this.items,r=t.id,i=this.scope;r in n&&delete n[r],i&&r in qn[i]&&(delete qn[i][r],this.override&&delete Qu[r])}}function qX(e,t,n){const r=Zh(Object.create(null),[n?qn.get(n):{},qn.get(t),e.defaults]);qn.set(t,r),e.defaultRoutes&&QX(t,e.defaultRoutes),e.descriptors&&qn.describe(t,e.descriptors)}function QX(e,t){Object.keys(t).forEach(n=>{const r=n.split("."),i=r.pop(),s=[e].concat(r).join("."),o=t[n].split("."),a=o.pop(),l=o.join(".");qn.route(s,i,l,a)})}function KX(e){return"id"in e&&"defaults"in e}class GX{constructor(){this.controllers=new kg(Al,"datasets",!0),this.elements=new kg(wa,"elements"),this.plugins=new kg(Object,"plugins"),this.scales=new kg(sc,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,n,r){[...n].forEach(i=>{const s=r||this._getRegistryForType(i);r||s.isForType(i)||s===this.plugins&&i.id?this._exec(t,s,i):_n(i,o=>{const a=r||this._getRegistryForType(o);this._exec(t,a,o)})})}_exec(t,n,r){const i=C_(t);Mn(r["before"+i],[],r),n[t](r),Mn(r["after"+i],[],r)}_getRegistryForType(t){for(let n=0;n<this._typedRegistries.length;n++){const r=this._typedRegistries[n];if(r.isForType(t))return r}return this.plugins}_get(t,n,r){const i=n.get(t);if(i===void 0)throw new Error('"'+t+'" is not a registered '+r+".");return i}}var _o=new GX;class YX{constructor(){this._init=[]}notify(t,n,r,i){n==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const s=i?this._descriptors(t).filter(i):this._descriptors(t),o=this._notify(s,t,n,r);return n==="afterDestroy"&&(this._notify(s,t,"stop"),this._notify(this._init,t,"uninstall")),o}_notify(t,n,r,i){i=i||{};for(const s of t){const o=s.plugin,a=o[r],l=[n,i,s.options];if(Mn(a,l,o)===!1&&i.cancelable)return!1}return!0}invalidate(){Jt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),n}_createDescriptors(t,n){const r=t&&t.config,i=Et(r.options&&r.options.plugins,{}),s=XX(r);return i===!1&&!n?[]:ZX(t,s,i,n)}_notifyStateChanges(t){const n=this._oldCache||[],r=this._cache,i=(s,o)=>s.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(i(n,r),t,"stop"),this._notify(i(r,n),t,"start")}}function XX(e){const t={},n=[],r=Object.keys(_o.plugins.items);for(let s=0;s<r.length;s++)n.push(_o.getPlugin(r[s]));const i=e.plugins||[];for(let s=0;s<i.length;s++){const o=i[s];n.indexOf(o)===-1&&(n.push(o),t[o.id]=!0)}return{plugins:n,localIds:t}}function JX(e,t){return!t&&e===!1?null:e===!0?{}:e}function ZX(e,{plugins:t,localIds:n},r,i){const s=[],o=e.getContext();for(const a of t){const l=a.id,c=JX(r[l],i);c!==null&&s.push({plugin:a,options:eJ(e.config,{plugin:a,local:n[l]},c,o)})}return s}function eJ(e,{plugin:t,local:n},r,i){const s=e.pluginScopeKeys(t),o=e.getOptionScopes(r,s);return n&&t.defaults&&o.push(t.defaults),e.createResolver(o,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function ww(e,t){const n=qn.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||n.indexAxis||"x"}function tJ(e,t){let n=e;return e==="_index_"?n=t:e==="_value_"&&(n=t==="x"?"y":"x"),n}function nJ(e,t){return e===t?"_index_":"_value_"}function Hk(e){if(e==="x"||e==="y"||e==="r")return e}function rJ(e){if(e==="top"||e==="bottom")return"x";if(e==="left"||e==="right")return"y"}function _w(e,...t){if(Hk(e))return e;for(const n of t){const r=n.axis||rJ(n.position)||e.length>1&&Hk(e[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function Wk(e,t,n){if(n[t+"AxisID"]===e)return{axis:t}}function iJ(e,t){if(t.data&&t.data.datasets){const n=t.data.datasets.filter(r=>r.xAxisID===e||r.yAxisID===e);if(n.length)return Wk(e,"x",n[0])||Wk(e,"y",n[0])}return{}}function sJ(e,t){const n=Qu[e.type]||{scales:{}},r=t.scales||{},i=ww(e.type,t),s=Object.create(null);return Object.keys(r).forEach(o=>{const a=r[o];if(!Zt(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const l=_w(o,a,iJ(o,e),qn.scales[a.type]),c=nJ(l,i),f=n.scales||{};s[o]=Nh(Object.create(null),[{axis:l},a,f[l],f[c]])}),e.data.datasets.forEach(o=>{const a=o.type||e.type,l=o.indexAxis||ww(a,t),f=(Qu[a]||{}).scales||{};Object.keys(f).forEach(p=>{const g=tJ(p,l),y=o[g+"AxisID"]||g;s[y]=s[y]||Object.create(null),Nh(s[y],[{axis:g},r[y],f[p]])})}),Object.keys(s).forEach(o=>{const a=s[o];Nh(a,[qn.scales[a.type],qn.scale])}),s}function Kj(e){const t=e.options||(e.options={});t.plugins=Et(t.plugins,{}),t.scales=sJ(e,t)}function Gj(e){return e=e||{},e.datasets=e.datasets||[],e.labels=e.labels||[],e}function oJ(e){return e=e||{},e.data=Gj(e.data),Kj(e),e}const Vk=new Map,Yj=new Set;function Eg(e,t){let n=Vk.get(e);return n||(n=t(),Vk.set(e,n),Yj.add(n)),n}const sh=(e,t,n)=>{const r=_l(t,n);r!==void 0&&e.add(r)};class aJ{constructor(t){this._config=oJ(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=Gj(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),Kj(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Eg(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,n){return Eg(`${t}.transition.${n}`,()=>[[`datasets.${t}.transitions.${n}`,`transitions.${n}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,n){return Eg(`${t}-${n}`,()=>[[`datasets.${t}.elements.${n}`,`datasets.${t}`,`elements.${n}`,""]])}pluginScopeKeys(t){const n=t.id,r=this.type;return Eg(`${r}-plugin-${n}`,()=>[[`plugins.${n}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,n){const r=this._scopeCache;let i=r.get(t);return(!i||n)&&(i=new Map,r.set(t,i)),i}getOptionScopes(t,n,r){const{options:i,type:s}=this,o=this._cachedScopes(t,r),a=o.get(n);if(a)return a;const l=new Set;n.forEach(f=>{t&&(l.add(t),f.forEach(p=>sh(l,t,p))),f.forEach(p=>sh(l,i,p)),f.forEach(p=>sh(l,Qu[s]||{},p)),f.forEach(p=>sh(l,qn,p)),f.forEach(p=>sh(l,xw,p))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),Yj.has(n)&&o.set(n,c),c}chartOptionScopes(){const{options:t,type:n}=this;return[t,Qu[n]||{},qn.datasets[n]||{},{type:n},qn,xw]}resolveNamedOptions(t,n,r,i=[""]){const s={$shared:!0},{resolver:o,subPrefixes:a}=qk(this._resolverCache,t,i);let l=o;if(uJ(o,n)){s.$shared=!1,r=Sl(r)?r():r;const c=this.createResolver(t,r,a);l=Wd(o,r,c)}for(const c of n)s[c]=l[c];return s}createResolver(t,n,r=[""],i){const{resolver:s}=qk(this._resolverCache,t,r);return Zt(n)?Wd(s,n,void 0,i):s}}function qk(e,t,n){let r=e.get(t);r||(r=new Map,e.set(t,r));const i=n.join();let s=r.get(i);return s||(s={resolver:N_(t,n),subPrefixes:n.filter(a=>!a.toLowerCase().includes("hover"))},r.set(i,s)),s}const lJ=e=>Zt(e)&&Object.getOwnPropertyNames(e).some(t=>Sl(e[t]));function uJ(e,t){const{isScriptable:n,isIndexable:r}=kj(e);for(const i of t){const s=n(i),o=r(i),a=(o||s)&&e[i];if(s&&(Sl(a)||lJ(a))||o&&Vn(a))return!0}return!1}var cJ="4.5.0";const dJ=["top","bottom","left","right","chartArea"];function Qk(e,t){return e==="top"||e==="bottom"||dJ.indexOf(e)===-1&&t==="x"}function Kk(e,t){return function(n,r){return n[e]===r[e]?n[t]-r[t]:n[e]-r[e]}}function Gk(e){const t=e.chart,n=t.options.animation;t.notifyPlugins("afterRender"),Mn(n&&n.onComplete,[e],t)}function fJ(e){const t=e.chart,n=t.options.animation;Mn(n&&n.onProgress,[e],t)}function Xj(e){return O_()&&typeof e=="string"?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const c0={},Yk=e=>{const t=Xj(e);return Object.values(c0).filter(n=>n.canvas===t).pop()};function hJ(e,t,n){const r=Object.keys(e);for(const i of r){const s=+i;if(s>=t){const o=e[i];delete e[i],(n>0||s>t)&&(e[s+n]=o)}}}function pJ(e,t,n,r){return!n||e.type==="mouseout"?null:r?t:e}let _a=class{static defaults=qn;static instances=c0;static overrides=Qu;static registry=_o;static version=cJ;static getChart=Yk;static register(...t){_o.add(...t),Xk()}static unregister(...t){_o.remove(...t),Xk()}constructor(t,n){const r=this.config=new aJ(n),i=Xj(t),s=Yk(i);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const o=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||RX(i)),this.platform.updateConfig(r);const a=this.platform.acquireContext(i,o.aspectRatio),l=a&&a.canvas,c=l&&l.height,f=l&&l.width;if(this.id=dG(),this.ctx=a,this.canvas=l,this.width=f,this.height=c,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new YX,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=jG(p=>this.update(p),o.resizeDelay||0),this._dataChanges=[],c0[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}Zo.listen(this,"complete",Gk),Zo.listen(this,"progress",fJ),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:n},width:r,height:i,_aspectRatio:s}=this;return Jt(t)?n&&s?s:i?r/i:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return _o}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():xk(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return gk(this.canvas,this.ctx),this}stop(){return Zo.stop(this),this}resize(t,n){Zo.running(this)?this._resizeBeforeDraw={width:t,height:n}:this._resize(t,n)}_resize(t,n){const r=this.options,i=this.canvas,s=r.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(i,t,n,s),a=r.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,xk(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),Mn(r.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};_n(n,(r,i)=>{r.id=i})}buildOrUpdateScales(){const t=this.options,n=t.scales,r=this.scales,i=Object.keys(r).reduce((o,a)=>(o[a]=!1,o),{});let s=[];n&&(s=s.concat(Object.keys(n).map(o=>{const a=n[o],l=_w(o,a),c=l==="r",f=l==="x";return{options:a,dposition:c?"chartArea":f?"bottom":"left",dtype:c?"radialLinear":f?"category":"linear"}}))),_n(s,o=>{const a=o.options,l=a.id,c=_w(l,a),f=Et(a.type,o.dtype);(a.position===void 0||Qk(a.position,c)!==Qk(o.dposition))&&(a.position=o.dposition),i[l]=!0;let p=null;if(l in r&&r[l].type===f)p=r[l];else{const g=_o.getScale(f);p=new g({id:l,type:f,ctx:this.ctx,chart:this}),r[p.id]=p}p.init(a,t)}),_n(i,(o,a)=>{o||delete r[a]}),_n(r,o=>{ni.configure(this,o,o.options),ni.addBox(this,o)})}_updateMetasets(){const t=this._metasets,n=this.data.datasets.length,r=t.length;if(t.sort((i,s)=>i.index-s.index),r>n){for(let i=n;i<r;++i)this._destroyDatasetMeta(i);t.splice(n,r-n)}this._sortedMetasets=t.slice(0).sort(Kk("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:n}}=this;t.length>n.length&&delete this._stacks,t.forEach((r,i)=>{n.filter(s=>s===r._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const t=[],n=this.data.datasets;let r,i;for(this._removeUnreferencedMetasets(),r=0,i=n.length;r<i;r++){const s=n[r];let o=this.getDatasetMeta(r);const a=s.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(r),o=this.getDatasetMeta(r)),o.type=a,o.indexAxis=s.indexAxis||ww(a,this.options),o.order=s.order||0,o.index=r,o.label=""+s.label,o.visible=this.isDatasetVisible(r),o.controller)o.controller.updateIndex(r),o.controller.linkScales();else{const l=_o.getController(a),{datasetElementType:c,dataElementType:f}=qn.datasets[a];Object.assign(l,{dataElementType:_o.getElement(f),datasetElementType:c&&_o.getElement(c)}),o.controller=new l(this,r),t.push(o.controller)}}return this._updateMetasets(),t}_resetElements(){_n(this.data.datasets,(t,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const n=this.config;n.update();const r=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let c=0,f=this.data.datasets.length;c<f;c++){const{controller:p}=this.getDatasetMeta(c),g=!i&&s.indexOf(p)===-1;p.buildOrUpdateElements(g),o=Math.max(+p.getMaxOverflow(),o)}o=this._minPadding=r.layout.autoPadding?o:0,this._updateLayout(o),i||_n(s,c=>{c.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(Kk("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){_n(this.scales,t=>{ni.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,n=new Set(Object.keys(this._listeners)),r=new Set(t.events);(!ak(n,r)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,n=this._getUniformDataChanges()||[];for(const{method:r,start:i,count:s}of n){const o=r==="_removeElements"?-s:s;hJ(t,i,o)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const n=this.data.datasets.length,r=s=>new Set(t.filter(o=>o[0]===s).map((o,a)=>a+","+o.splice(1).join(","))),i=r(0);for(let s=1;s<n;s++)if(!ak(i,r(s)))return;return Array.from(i).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;ni.update(this,this.width,this.height,t);const n=this.chartArea,r=n.width<=0||n.height<=0;this._layers=[],_n(this.boxes,i=>{r&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,s)=>{i._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let n=0,r=this.data.datasets.length;n<r;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,r=this.data.datasets.length;n<r;++n)this._updateDataset(n,Sl(t)?t({datasetIndex:n}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,n){const r=this.getDatasetMeta(t),i={meta:r,index:t,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(r.controller._update(n),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Zo.has(this)?this.attached&&!Zo.running(this)&&Zo.start(this):(this.draw(),Gk({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:r,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(t=0;t<n.length&&n[t].z<=0;++t)n[t].draw(this.chartArea);for(this._drawDatasets();t<n.length;++t)n[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const n=this._sortedMetasets,r=[];let i,s;for(i=0,s=n.length;i<s;++i){const o=n[i];(!t||o.visible)&&r.push(o)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let n=t.length-1;n>=0;--n)this._drawDataset(t[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const n=this.ctx,r={meta:t,index:t.index,cancelable:!0},i=Dj(this,t);this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(i&&zy(n,i),t.controller.draw(),i&&$y(n),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(t){return ca(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,n,r,i){const s=dX.modes[n];return typeof s=="function"?s(this,t,r,i):[]}getDatasetMeta(t){const n=this.data.datasets[t],r=this._metasets;let i=r.filter(s=>s&&s._dataset===n).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:t,_dataset:n,_parsed:[],_sorted:!1},r.push(i)),i}getContext(){return this.$context||(this.$context=Ml(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const n=this.data.datasets[t];if(!n)return!1;const r=this.getDatasetMeta(t);return typeof r.hidden=="boolean"?!r.hidden:!n.hidden}setDatasetVisibility(t,n){const r=this.getDatasetMeta(t);r.hidden=!n}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,n,r){const i=r?"show":"hide",s=this.getDatasetMeta(t),o=s.controller._resolveAnimations(void 0,i);ep(n)?(s.data[n].hidden=!r,this.update()):(this.setDatasetVisibility(t,r),o.update(s,{visible:r}),this.update(a=>a.datasetIndex===t?i:void 0))}hide(t,n){this._updateVisibility(t,n,!1)}show(t,n){this._updateVisibility(t,n,!0)}_destroyDatasetMeta(t){const n=this._metasets[t];n&&n.controller&&n.controller._destroy(),delete this._metasets[t]}_stop(){let t,n;for(this.stop(),Zo.remove(this),t=0,n=this.data.datasets.length;t<n;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:n}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),gk(t,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete c0[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,n=this.platform,r=(s,o)=>{n.addEventListener(this,s,o),t[s]=o},i=(s,o,a)=>{s.offsetX=o,s.offsetY=a,this._eventHandler(s)};_n(this.options.events,s=>r(s,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,n=this.platform,r=(l,c)=>{n.addEventListener(this,l,c),t[l]=c},i=(l,c)=>{t[l]&&(n.removeEventListener(this,l,c),delete t[l])},s=(l,c)=>{this.canvas&&this.resize(l,c)};let o;const a=()=>{i("attach",a),this.attached=!0,this.resize(),r("resize",s),r("detach",o)};o=()=>{this.attached=!1,i("resize",s),this._stop(),this._resize(0,0),r("attach",a)},n.isAttached(this.canvas)?a():o()}unbindEvents(){_n(this._listeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._listeners={},_n(this._responsiveListeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,n,r){const i=r?"set":"remove";let s,o,a,l;for(n==="dataset"&&(s=this.getDatasetMeta(t[0].datasetIndex),s.controller["_"+i+"DatasetHoverStyle"]()),a=0,l=t.length;a<l;++a){o=t[a];const c=o&&this.getDatasetMeta(o.datasetIndex).controller;c&&c[i+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const n=this._active||[],r=t.map(({datasetIndex:s,index:o})=>{const a=this.getDatasetMeta(s);if(!a)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:a.data[o],index:o}});!V0(r,n)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,n))}notifyPlugins(t,n,r){return this._plugins.notify(this,t,n,r)}isPluginEnabled(t){return this._plugins._cache.filter(n=>n.plugin.id===t).length===1}_updateHoverStyles(t,n,r){const i=this.options.hover,s=(l,c)=>l.filter(f=>!c.some(p=>f.datasetIndex===p.datasetIndex&&f.index===p.index)),o=s(n,t),a=r?t:s(t,n);o.length&&this.updateHoverStyle(o,i.mode,!1),a.length&&i.mode&&this.updateHoverStyle(a,i.mode,!0)}_eventHandler(t,n){const r={event:t,replay:n,cancelable:!0,inChartArea:this.isPointInArea(t)},i=o=>(o.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",r,i)===!1)return;const s=this._handleEvent(t,n,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,i),(s||r.changed)&&this.render(),this}_handleEvent(t,n,r){const{_active:i=[],options:s}=this,o=n,a=this._getActiveElements(t,i,r,o),l=yG(t),c=pJ(t,this._lastEvent,r,l);r&&(this._lastEvent=null,Mn(s.onHover,[t,a,this],this),l&&Mn(s.onClick,[t,a,this],this));const f=!V0(a,i);return(f||n)&&(this._active=a,this._updateHoverStyles(a,i,n)),this._lastEvent=c,f}_getActiveElements(t,n,r,i){if(t.type==="mouseout")return[];if(!r)return n;const s=this.options.hover;return this.getElementsAtEventForMode(t,s.mode,s,i)}};function Xk(){return _n(_a.instances,e=>e._plugins.invalidate())}function mJ(e,t,n){const{startAngle:r,x:i,y:s,outerRadius:o,innerRadius:a,options:l}=t,{borderWidth:c,borderJoinStyle:f}=l,p=Math.min(c/o,ti(r-n));if(e.beginPath(),e.arc(i,s,o-c/2,r+p/2,n-p/2),a>0){const g=Math.min(c/a,ti(r-n));e.arc(i,s,a+c/2,n-g/2,r+g/2,!0)}else{const g=Math.min(c/2,o*ti(r-n));if(f==="round")e.arc(i,s,g,n-mn/2,r+mn/2,!0);else if(f==="bevel"){const y=2*g*g,b=-y*Math.cos(n+mn/2)+i,_=-y*Math.sin(n+mn/2)+s,C=y*Math.cos(r+mn/2)+i,k=y*Math.sin(r+mn/2)+s;e.lineTo(b,_),e.lineTo(C,k)}}e.closePath(),e.moveTo(0,0),e.rect(0,0,e.canvas.width,e.canvas.height),e.clip("evenodd")}function gJ(e,t,n){const{startAngle:r,pixelMargin:i,x:s,y:o,outerRadius:a,innerRadius:l}=t;let c=i/a;e.beginPath(),e.arc(s,o,a,r-c,n+c),l>i?(c=i/l,e.arc(s,o,l,n+c,r-c,!0)):e.arc(s,o,i,n+cr,r-cr),e.closePath(),e.clip()}function yJ(e){return I_(e,["outerStart","outerEnd","innerStart","innerEnd"])}function vJ(e,t,n,r){const i=yJ(e.options.borderRadius),s=(n-t)/2,o=Math.min(s,r*t/2),a=l=>{const c=(n-Math.min(s,l))*r/2;return Lr(l,0,Math.min(s,c))};return{outerStart:a(i.outerStart),outerEnd:a(i.outerEnd),innerStart:Lr(i.innerStart,0,o),innerEnd:Lr(i.innerEnd,0,o)}}function Jc(e,t,n,r){return{x:n+e*Math.cos(t),y:r+e*Math.sin(t)}}function X0(e,t,n,r,i,s){const{x:o,y:a,startAngle:l,pixelMargin:c,innerRadius:f}=t,p=Math.max(t.outerRadius+r+n-c,0),g=f>0?f+r+n+c:0;let y=0;const b=i-l;if(r){const V=f>0?f-r:0,Q=p>0?p-r:0,ne=(V+Q)/2,Z=ne!==0?b*ne/(ne+r):b;y=(b-Z)/2}const _=Math.max(.001,b*p-n/mn)/p,C=(b-_)/2,k=l+C+y,P=i-C-y,{outerStart:O,outerEnd:$,innerStart:B,innerEnd:j}=vJ(t,g,p,P-k),M=p-O,U=p-$,z=k+O/M,D=P-$/U,ee=g+B,J=g+j,re=k+B/ee,q=P-j/J;if(e.beginPath(),s){const V=(z+D)/2;if(e.arc(o,a,p,z,V),e.arc(o,a,p,V,D),$>0){const fe=Jc(U,D,o,a);e.arc(fe.x,fe.y,$,D,P+cr)}const Q=Jc(J,P,o,a);if(e.lineTo(Q.x,Q.y),j>0){const fe=Jc(J,q,o,a);e.arc(fe.x,fe.y,j,P+cr,q+Math.PI)}const ne=(P-j/g+(k+B/g))/2;if(e.arc(o,a,g,P-j/g,ne,!0),e.arc(o,a,g,ne,k+B/g,!0),B>0){const fe=Jc(ee,re,o,a);e.arc(fe.x,fe.y,B,re+Math.PI,k-cr)}const Z=Jc(M,k,o,a);if(e.lineTo(Z.x,Z.y),O>0){const fe=Jc(M,z,o,a);e.arc(fe.x,fe.y,O,k-cr,z)}}else{e.moveTo(o,a);const V=Math.cos(z)*p+o,Q=Math.sin(z)*p+a;e.lineTo(V,Q);const ne=Math.cos(D)*p+o,Z=Math.sin(D)*p+a;e.lineTo(ne,Z)}e.closePath()}function xJ(e,t,n,r,i){const{fullCircles:s,startAngle:o,circumference:a}=t;let l=t.endAngle;if(s){X0(e,t,n,r,l,i);for(let c=0;c<s;++c)e.fill();isNaN(a)||(l=o+(a%Bn||Bn))}return X0(e,t,n,r,l,i),e.fill(),l}function bJ(e,t,n,r,i){const{fullCircles:s,startAngle:o,circumference:a,options:l}=t,{borderWidth:c,borderJoinStyle:f,borderDash:p,borderDashOffset:g,borderRadius:y}=l,b=l.borderAlign==="inner";if(!c)return;e.setLineDash(p||[]),e.lineDashOffset=g,b?(e.lineWidth=c*2,e.lineJoin=f||"round"):(e.lineWidth=c,e.lineJoin=f||"bevel");let _=t.endAngle;if(s){X0(e,t,n,r,_,i);for(let C=0;C<s;++C)e.stroke();isNaN(a)||(_=o+(a%Bn||Bn))}b&&gJ(e,t,_),l.selfJoin&&_-o>=mn&&y===0&&f!=="miter"&&mJ(e,t,_),s||(X0(e,t,n,r,_,i),e.stroke())}class D_ extends wa{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,n,r){const i=this.getProps(["x","y"],r),{angle:s,distance:o}=mj(i,{x:t,y:n}),{startAngle:a,endAngle:l,innerRadius:c,outerRadius:f,circumference:p}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),g=(this.options.spacing+this.options.borderWidth)/2,y=Et(p,l-a),b=tp(s,a,l)&&a!==l,_=y>=Bn||b,C=la(o,c+g,f+g);return _&&C}getCenterPoint(t){const{x:n,y:r,startAngle:i,endAngle:s,innerRadius:o,outerRadius:a}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:l,spacing:c}=this.options,f=(i+s)/2,p=(o+a+c+l)/2;return{x:n+Math.cos(f)*p,y:r+Math.sin(f)*p}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:n,circumference:r}=this,i=(n.offset||0)/4,s=(n.spacing||0)/2,o=n.circular;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=r>Bn?Math.floor(r/Bn):0,r===0||this.innerRadius<0||this.outerRadius<0)return;t.save();const a=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(a)*i,Math.sin(a)*i);const l=1-Math.sin(Math.min(mn,r||0)),c=i*l;t.fillStyle=n.backgroundColor,t.strokeStyle=n.borderColor,xJ(t,this,c,s,o),bJ(t,this,c,s,o),t.restore()}}function Jj(e,t,n=t){e.lineCap=Et(n.borderCapStyle,t.borderCapStyle),e.setLineDash(Et(n.borderDash,t.borderDash)),e.lineDashOffset=Et(n.borderDashOffset,t.borderDashOffset),e.lineJoin=Et(n.borderJoinStyle,t.borderJoinStyle),e.lineWidth=Et(n.borderWidth,t.borderWidth),e.strokeStyle=Et(n.borderColor,t.borderColor)}function wJ(e,t,n){e.lineTo(n.x,n.y)}function _J(e){return e.stepped?zG:e.tension||e.cubicInterpolationMode==="monotone"?$G:wJ}function Zj(e,t,n={}){const r=e.length,{start:i=0,end:s=r-1}=n,{start:o,end:a}=t,l=Math.max(i,o),c=Math.min(s,a),f=i<o&&s<o||i>a&&s>a;return{count:r,start:l,loop:t.loop,ilen:c<l&&!f?r+c-l:c-l}}function SJ(e,t,n,r){const{points:i,options:s}=t,{count:o,start:a,loop:l,ilen:c}=Zj(i,n,r),f=_J(s);let{move:p=!0,reverse:g}=r||{},y,b,_;for(y=0;y<=c;++y)b=i[(a+(g?c-y:y))%o],!b.skip&&(p?(e.moveTo(b.x,b.y),p=!1):f(e,_,b,g,s.stepped),_=b);return l&&(b=i[(a+(g?c:0))%o],f(e,_,b,g,s.stepped)),!!l}function CJ(e,t,n,r){const i=t.points,{count:s,start:o,ilen:a}=Zj(i,n,r),{move:l=!0,reverse:c}=r||{};let f=0,p=0,g,y,b,_,C,k;const P=$=>(o+(c?a-$:$))%s,O=()=>{_!==C&&(e.lineTo(f,C),e.lineTo(f,_),e.lineTo(f,k))};for(l&&(y=i[P(0)],e.moveTo(y.x,y.y)),g=0;g<=a;++g){if(y=i[P(g)],y.skip)continue;const $=y.x,B=y.y,j=$|0;j===b?(B<_?_=B:B>C&&(C=B),f=(p*f+$)/++p):(O(),e.lineTo($,B),b=j,p=0,_=C=B),k=B}O()}function Sw(e){const t=e.options,n=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!n?CJ:SJ}function kJ(e){return e.stepped?xY:e.tension||e.cubicInterpolationMode==="monotone"?bY:_u}function EJ(e,t,n,r){let i=t._path;i||(i=t._path=new Path2D,t.path(i,n,r)&&i.closePath()),Jj(e,t.options),e.stroke(i)}function TJ(e,t,n,r){const{segments:i,options:s}=t,o=Sw(t);for(const a of i)Jj(e,s,a.style),e.beginPath(),o(e,t,a,{start:n,end:n+r-1})&&e.closePath(),e.stroke()}const jJ=typeof Path2D=="function";function IJ(e,t,n,r){jJ&&!t.options.segment?EJ(e,t,n,r):TJ(e,t,n,r)}class af extends wa{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"};constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,n){const r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){const i=r.spanGaps?this._loop:this._fullLoop;dY(this._points,r,t,i,n),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=EY(this,this.options.segment))}first(){const t=this.segments,n=this.points;return t.length&&n[t[0].start]}last(){const t=this.segments,n=this.points,r=t.length;return r&&n[t[r-1].end]}interpolate(t,n){const r=this.options,i=t[n],s=this.points,o=Aj(this,{property:n,start:i,end:i});if(!o.length)return;const a=[],l=kJ(r);let c,f;for(c=0,f=o.length;c<f;++c){const{start:p,end:g}=o[c],y=s[p],b=s[g];if(y===b){a.push(y);continue}const _=Math.abs((i-y[n])/(b[n]-y[n])),C=l(y,b,_,r.stepped);C[n]=t[n],a.push(C)}return a.length===1?a[0]:a}pathSegment(t,n,r){return Sw(this)(t,this,n,r)}path(t,n,r){const i=this.segments,s=Sw(this);let o=this._loop;n=n||0,r=r||this.points.length-n;for(const a of i)o&=s(t,this,a,{start:n,end:n+r-1});return!!o}draw(t,n,r,i){const s=this.options||{};(this.points||[]).length&&s.borderWidth&&(t.save(),IJ(t,this,r,i),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function Jk(e,t,n,r){const i=e.options,{[n]:s}=e.getProps([n],r);return Math.abs(t-s)<i.radius+i.hitRadius}class L_ extends wa{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,n,r){const i=this.options,{x:s,y:o}=this.getProps(["x","y"],r);return Math.pow(t-s,2)+Math.pow(n-o,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(t,n){return Jk(this,t,"x",n)}inYRange(t,n){return Jk(this,t,"y",n)}getCenterPoint(t){const{x:n,y:r}=this.getProps(["x","y"],t);return{x:n,y:r}}size(t){t=t||this.options||{};let n=t.radius||0;n=Math.max(n,n&&t.hoverRadius||0);const r=n&&t.borderWidth||0;return(n+r)*2}draw(t,n){const r=this.options;this.skip||r.radius<.1||!ca(this,n,this.size(r)/2)||(t.strokeStyle=r.borderColor,t.lineWidth=r.borderWidth,t.fillStyle=r.backgroundColor,bw(t,r,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}function eI(e,t){const{x:n,y:r,base:i,width:s,height:o}=e.getProps(["x","y","base","width","height"],t);let a,l,c,f,p;return e.horizontal?(p=o/2,a=Math.min(n,i),l=Math.max(n,i),c=r-p,f=r+p):(p=s/2,a=n-p,l=n+p,c=Math.min(r,i),f=Math.max(r,i)),{left:a,top:c,right:l,bottom:f}}function ul(e,t,n,r){return e?0:Lr(t,n,r)}function NJ(e,t,n){const r=e.options.borderWidth,i=e.borderSkipped,s=Cj(r);return{t:ul(i.top,s.top,0,n),r:ul(i.right,s.right,0,t),b:ul(i.bottom,s.bottom,0,n),l:ul(i.left,s.left,0,t)}}function PJ(e,t,n){const{enableBorderRadius:r}=e.getProps(["enableBorderRadius"]),i=e.options.borderRadius,s=Bu(i),o=Math.min(t,n),a=e.borderSkipped,l=r||Zt(i);return{topLeft:ul(!l||a.top||a.left,s.topLeft,0,o),topRight:ul(!l||a.top||a.right,s.topRight,0,o),bottomLeft:ul(!l||a.bottom||a.left,s.bottomLeft,0,o),bottomRight:ul(!l||a.bottom||a.right,s.bottomRight,0,o)}}function RJ(e){const t=eI(e),n=t.right-t.left,r=t.bottom-t.top,i=NJ(e,n/2,r/2),s=PJ(e,n/2,r/2);return{outer:{x:t.left,y:t.top,w:n,h:r,radius:s},inner:{x:t.left+i.l,y:t.top+i.t,w:n-i.l-i.r,h:r-i.t-i.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,s.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(i.b,i.r))}}}}function Rx(e,t,n,r){const i=t===null,s=n===null,a=e&&!(i&&s)&&eI(e,r);return a&&(i||la(t,a.left,a.right))&&(s||la(n,a.top,a.bottom))}function OJ(e){return e.topLeft||e.topRight||e.bottomLeft||e.bottomRight}function MJ(e,t){e.rect(t.x,t.y,t.w,t.h)}function Ox(e,t,n={}){const r=e.x!==n.x?-t:0,i=e.y!==n.y?-t:0,s=(e.x+e.w!==n.x+n.w?t:0)-r,o=(e.y+e.h!==n.y+n.h?t:0)-i;return{x:e.x+r,y:e.y+i,w:e.w+s,h:e.h+o,radius:e.radius}}class jp extends wa{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:n,options:{borderColor:r,backgroundColor:i}}=this,{inner:s,outer:o}=RJ(this),a=OJ(o.radius)?np:MJ;t.save(),(o.w!==s.w||o.h!==s.h)&&(t.beginPath(),a(t,Ox(o,n,s)),t.clip(),a(t,Ox(s,-n,o)),t.fillStyle=r,t.fill("evenodd")),t.beginPath(),a(t,Ox(s,n)),t.fillStyle=i,t.fill(),t.restore()}inRange(t,n,r){return Rx(this,t,n,r)}inXRange(t,n){return Rx(this,t,null,n)}inYRange(t,n){return Rx(this,null,t,n)}getCenterPoint(t){const{x:n,y:r,base:i,horizontal:s}=this.getProps(["x","y","base","horizontal"],t);return{x:s?(n+i)/2:n,y:s?r:(r+i)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}var AJ=Object.freeze({__proto__:null,ArcElement:D_,BarElement:jp,LineElement:af,PointElement:L_});const Cw=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],Zk=Cw.map(e=>e.replace("rgb(","rgba(").replace(")",", 0.5)"));function tI(e){return Cw[e%Cw.length]}function nI(e){return Zk[e%Zk.length]}function DJ(e,t){return e.borderColor=tI(t),e.backgroundColor=nI(t),++t}function LJ(e,t){return e.backgroundColor=e.data.map(()=>tI(t++)),t}function FJ(e,t){return e.backgroundColor=e.data.map(()=>nI(t++)),t}function BJ(e){let t=0;return(n,r)=>{const i=e.getDatasetMeta(r).controller;i instanceof Hy?t=LJ(n,t):i instanceof $j?t=FJ(n,t):i&&(t=DJ(n,t))}}function eE(e){let t;for(t in e)if(e[t].borderColor||e[t].backgroundColor)return!0;return!1}function zJ(e){return e&&(e.borderColor||e.backgroundColor)}function $J(){return qn.borderColor!=="rgba(0,0,0,0.1)"||qn.backgroundColor!=="rgba(0,0,0,0.1)"}var UJ={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(e,t,n){if(!n.enabled)return;const{data:{datasets:r},options:i}=e.config,{elements:s}=i,o=eE(r)||zJ(i)||s&&eE(s)||$J();if(!n.forceOverride&&o)return;const a=BJ(e);r.forEach(a)}};function HJ(e,t,n,r,i){const s=i.samples||r;if(s>=n)return e.slice(t,t+n);const o=[],a=(n-2)/(s-2);let l=0;const c=t+n-1;let f=t,p,g,y,b,_;for(o[l++]=e[f],p=0;p<s-2;p++){let C=0,k=0,P;const O=Math.floor((p+1)*a)+1+t,$=Math.min(Math.floor((p+2)*a)+1,n)+t,B=$-O;for(P=O;P<$;P++)C+=e[P].x,k+=e[P].y;C/=B,k/=B;const j=Math.floor(p*a)+1+t,M=Math.min(Math.floor((p+1)*a)+1,n)+t,{x:U,y:z}=e[f];for(y=b=-1,P=j;P<M;P++)b=.5*Math.abs((U-C)*(e[P].y-z)-(U-e[P].x)*(k-z)),b>y&&(y=b,g=e[P],_=P);o[l++]=g,f=_}return o[l++]=e[c],o}function WJ(e,t,n,r){let i=0,s=0,o,a,l,c,f,p,g,y,b,_;const C=[],k=t+n-1,P=e[t].x,$=e[k].x-P;for(o=t;o<t+n;++o){a=e[o],l=(a.x-P)/$*r,c=a.y;const B=l|0;if(B===f)c<b?(b=c,p=o):c>_&&(_=c,g=o),i=(s*i+a.x)/++s;else{const j=o-1;if(!Jt(p)&&!Jt(g)){const M=Math.min(p,g),U=Math.max(p,g);M!==y&&M!==j&&C.push({...e[M],x:i}),U!==y&&U!==j&&C.push({...e[U],x:i})}o>0&&j!==y&&C.push(e[j]),C.push(a),f=B,s=0,b=_=c,p=g=y=o}}return C}function rI(e){if(e._decimated){const t=e._data;delete e._decimated,delete e._data,Object.defineProperty(e,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function tE(e){e.data.datasets.forEach(t=>{rI(t)})}function VJ(e,t){const n=t.length;let r=0,i;const{iScale:s}=e,{min:o,max:a,minDefined:l,maxDefined:c}=s.getUserBounds();return l&&(r=Lr(ua(t,s.axis,o).lo,0,n-1)),c?i=Lr(ua(t,s.axis,a).hi+1,r,n)-r:i=n-r,{start:r,count:i}}var qJ={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(e,t,n)=>{if(!n.enabled){tE(e);return}const r=e.width;e.data.datasets.forEach((i,s)=>{const{_data:o,indexAxis:a}=i,l=e.getDatasetMeta(s),c=o||i.data;if(vh([a,e.options.indexAxis])==="y"||!l.controller.supportsDecimation)return;const f=e.scales[l.xAxisID];if(f.type!=="linear"&&f.type!=="time"||e.options.parsing)return;let{start:p,count:g}=VJ(l,c);const y=n.threshold||4*r;if(g<=y){rI(i);return}Jt(o)&&(i._data=c,delete i.data,Object.defineProperty(i,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(_){this._data=_}}));let b;switch(n.algorithm){case"lttb":b=HJ(c,p,g,r,n);break;case"min-max":b=WJ(c,p,g,r);break;default:throw new Error(`Unsupported decimation algorithm '${n.algorithm}'`)}i._decimated=b})},destroy(e){tE(e)}};function QJ(e,t,n){const r=e.segments,i=e.points,s=t.points,o=[];for(const a of r){let{start:l,end:c}=a;c=Vy(l,c,i);const f=kw(n,i[l],i[c],a.loop);if(!t.segments){o.push({source:a,target:f,start:i[l],end:i[c]});continue}const p=Aj(t,f);for(const g of p){const y=kw(n,s[g.start],s[g.end],g.loop),b=Mj(a,i,y);for(const _ of b)o.push({source:_,target:g,start:{[n]:nE(f,y,"start",Math.max)},end:{[n]:nE(f,y,"end",Math.min)}})}}return o}function kw(e,t,n,r){if(r)return;let i=t[e],s=n[e];return e==="angle"&&(i=ti(i),s=ti(s)),{property:e,start:i,end:s}}function KJ(e,t){const{x:n=null,y:r=null}=e||{},i=t.points,s=[];return t.segments.forEach(({start:o,end:a})=>{a=Vy(o,a,i);const l=i[o],c=i[a];r!==null?(s.push({x:l.x,y:r}),s.push({x:c.x,y:r})):n!==null&&(s.push({x:n,y:l.y}),s.push({x:n,y:c.y}))}),s}function Vy(e,t,n){for(;t>e;t--){const r=n[t];if(!isNaN(r.x)&&!isNaN(r.y))break}return t}function nE(e,t,n,r){return e&&t?r(e[n],t[n]):e?e[n]:t?t[n]:0}function iI(e,t){let n=[],r=!1;return Vn(e)?(r=!0,n=e):n=KJ(e,t),n.length?new af({points:n,options:{tension:0},_loop:r,_fullLoop:r}):null}function rE(e){return e&&e.fill!==!1}function GJ(e,t,n){let i=e[t].fill;const s=[t];let o;if(!n)return i;for(;i!==!1&&s.indexOf(i)===-1;){if(!ir(i))return i;if(o=e[i],!o)return!1;if(o.visible)return i;s.push(i),i=o.fill}return!1}function YJ(e,t,n){const r=eZ(e);if(Zt(r))return isNaN(r.value)?!1:r;let i=parseFloat(r);return ir(i)&&Math.floor(i)===i?XJ(r[0],t,i,n):["origin","start","end","stack","shape"].indexOf(r)>=0&&r}function XJ(e,t,n,r){return(e==="-"||e==="+")&&(n=t+n),n===t||n<0||n>=r?!1:n}function JJ(e,t){let n=null;return e==="start"?n=t.bottom:e==="end"?n=t.top:Zt(e)?n=t.getPixelForValue(e.value):t.getBasePixel&&(n=t.getBasePixel()),n}function ZJ(e,t,n){let r;return e==="start"?r=n:e==="end"?r=t.options.reverse?t.min:t.max:Zt(e)?r=e.value:r=t.getBaseValue(),r}function eZ(e){const t=e.options,n=t.fill;let r=Et(n&&n.target,n);return r===void 0&&(r=!!t.backgroundColor),r===!1||r===null?!1:r===!0?"origin":r}function tZ(e){const{scale:t,index:n,line:r}=e,i=[],s=r.segments,o=r.points,a=nZ(t,n);a.push(iI({x:null,y:t.bottom},r));for(let l=0;l<s.length;l++){const c=s[l];for(let f=c.start;f<=c.end;f++)rZ(i,o[f],a)}return new af({points:i,options:{}})}function nZ(e,t){const n=[],r=e.getMatchingVisibleMetas("line");for(let i=0;i<r.length;i++){const s=r[i];if(s.index===t)break;s.hidden||n.unshift(s.dataset)}return n}function rZ(e,t,n){const r=[];for(let i=0;i<n.length;i++){const s=n[i],{first:o,last:a,point:l}=iZ(s,t,"x");if(!(!l||o&&a)){if(o)r.unshift(l);else if(e.push(l),!a)break}}e.push(...r)}function iZ(e,t,n){const r=e.interpolate(t,n);if(!r)return{};const i=r[n],s=e.segments,o=e.points;let a=!1,l=!1;for(let c=0;c<s.length;c++){const f=s[c],p=o[f.start][n],g=o[f.end][n];if(la(i,p,g)){a=i===p,l=i===g;break}}return{first:a,last:l,point:r}}class sI{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,n,r){const{x:i,y:s,radius:o}=this;return n=n||{start:0,end:Bn},t.arc(i,s,o,n.end,n.start,!0),!r.bounds}interpolate(t){const{x:n,y:r,radius:i}=this,s=t.angle;return{x:n+Math.cos(s)*i,y:r+Math.sin(s)*i,angle:s}}}function sZ(e){const{chart:t,fill:n,line:r}=e;if(ir(n))return oZ(t,n);if(n==="stack")return tZ(e);if(n==="shape")return!0;const i=aZ(e);return i instanceof sI?i:iI(i,r)}function oZ(e,t){const n=e.getDatasetMeta(t);return n&&e.isDatasetVisible(t)?n.dataset:null}function aZ(e){return(e.scale||{}).getPointPositionForValue?uZ(e):lZ(e)}function lZ(e){const{scale:t={},fill:n}=e,r=JJ(n,t);if(ir(r)){const i=t.isHorizontal();return{x:i?r:null,y:i?null:r}}return null}function uZ(e){const{scale:t,fill:n}=e,r=t.options,i=t.getLabels().length,s=r.reverse?t.max:t.min,o=ZJ(n,t,s),a=[];if(r.grid.circular){const l=t.getPointPositionForValue(0,s);return new sI({x:l.x,y:l.y,radius:t.getDistanceFromCenterForValue(o)})}for(let l=0;l<i;++l)a.push(t.getPointPositionForValue(l,o));return a}function Mx(e,t,n){const r=sZ(t),{chart:i,index:s,line:o,scale:a,axis:l}=t,c=o.options,f=c.fill,p=c.backgroundColor,{above:g=p,below:y=p}=f||{},b=i.getDatasetMeta(s),_=Dj(i,b);r&&o.points.length&&(zy(e,n),cZ(e,{line:o,target:r,above:g,below:y,area:n,scale:a,axis:l,clip:_}),$y(e))}function cZ(e,t){const{line:n,target:r,above:i,below:s,area:o,scale:a,clip:l}=t,c=n._loop?"angle":t.axis;e.save();let f=s;s!==i&&(c==="x"?(iE(e,r,o.top),Ax(e,{line:n,target:r,color:i,scale:a,property:c,clip:l}),e.restore(),e.save(),iE(e,r,o.bottom)):c==="y"&&(sE(e,r,o.left),Ax(e,{line:n,target:r,color:s,scale:a,property:c,clip:l}),e.restore(),e.save(),sE(e,r,o.right),f=i)),Ax(e,{line:n,target:r,color:f,scale:a,property:c,clip:l}),e.restore()}function iE(e,t,n){const{segments:r,points:i}=t;let s=!0,o=!1;e.beginPath();for(const a of r){const{start:l,end:c}=a,f=i[l],p=i[Vy(l,c,i)];s?(e.moveTo(f.x,f.y),s=!1):(e.lineTo(f.x,n),e.lineTo(f.x,f.y)),o=!!t.pathSegment(e,a,{move:o}),o?e.closePath():e.lineTo(p.x,n)}e.lineTo(t.first().x,n),e.closePath(),e.clip()}function sE(e,t,n){const{segments:r,points:i}=t;let s=!0,o=!1;e.beginPath();for(const a of r){const{start:l,end:c}=a,f=i[l],p=i[Vy(l,c,i)];s?(e.moveTo(f.x,f.y),s=!1):(e.lineTo(n,f.y),e.lineTo(f.x,f.y)),o=!!t.pathSegment(e,a,{move:o}),o?e.closePath():e.lineTo(n,p.y)}e.lineTo(n,t.first().y),e.closePath(),e.clip()}function Ax(e,t){const{line:n,target:r,property:i,color:s,scale:o,clip:a}=t,l=QJ(n,r,i);for(const{source:c,target:f,start:p,end:g}of l){const{style:{backgroundColor:y=s}={}}=c,b=r!==!0;e.save(),e.fillStyle=y,dZ(e,o,a,b&&kw(i,p,g)),e.beginPath();const _=!!n.pathSegment(e,c);let C;if(b){_?e.closePath():oE(e,r,g,i);const k=!!r.pathSegment(e,f,{move:_,reverse:!0});C=_&&k,C||oE(e,r,p,i)}e.closePath(),e.fill(C?"evenodd":"nonzero"),e.restore()}}function dZ(e,t,n,r){const i=t.chart.chartArea,{property:s,start:o,end:a}=r||{};if(s==="x"||s==="y"){let l,c,f,p;s==="x"?(l=o,c=i.top,f=a,p=i.bottom):(l=i.left,c=o,f=i.right,p=a),e.beginPath(),n&&(l=Math.max(l,n.left),f=Math.min(f,n.right),c=Math.max(c,n.top),p=Math.min(p,n.bottom)),e.rect(l,c,f-l,p-c),e.clip()}}function oE(e,t,n,r){const i=t.interpolate(n,r);i&&e.lineTo(i.x,i.y)}var oI={id:"filler",afterDatasetsUpdate(e,t,n){const r=(e.data.datasets||[]).length,i=[];let s,o,a,l;for(o=0;o<r;++o)s=e.getDatasetMeta(o),a=s.dataset,l=null,a&&a.options&&a instanceof af&&(l={visible:e.isDatasetVisible(o),index:o,fill:YJ(a,o,r),chart:e,axis:s.controller.options.indexAxis,scale:s.vScale,line:a}),s.$filler=l,i.push(l);for(o=0;o<r;++o)l=i[o],!(!l||l.fill===!1)&&(l.fill=GJ(i,o,n.propagate))},beforeDraw(e,t,n){const r=n.drawTime==="beforeDraw",i=e.getSortedVisibleDatasetMetas(),s=e.chartArea;for(let o=i.length-1;o>=0;--o){const a=i[o].$filler;a&&(a.line.updateControlPoints(s,a.axis),r&&a.fill&&Mx(e.ctx,a,s))}},beforeDatasetsDraw(e,t,n){if(n.drawTime!=="beforeDatasetsDraw")return;const r=e.getSortedVisibleDatasetMetas();for(let i=r.length-1;i>=0;--i){const s=r[i].$filler;rE(s)&&Mx(e.ctx,s,e.chartArea)}},beforeDatasetDraw(e,t,n){const r=t.meta.$filler;!rE(r)||n.drawTime!=="beforeDatasetDraw"||Mx(e.ctx,r,e.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const aE=(e,t)=>{let{boxHeight:n=t,boxWidth:r=t}=e;return e.usePointStyle&&(n=Math.min(n,t),r=e.pointStyleWidth||Math.min(r,t)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(t,n)}},fZ=(e,t)=>e!==null&&t!==null&&e.datasetIndex===t.datasetIndex&&e.index===t.index;class lE extends wa{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n,r){this.maxWidth=t,this.maxHeight=n,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let n=Mn(t.generateLabels,[this.chart],this)||[];t.filter&&(n=n.filter(r=>t.filter(r,this.chart.data))),t.sort&&(n=n.sort((r,i)=>t.sort(r,i,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:t,ctx:n}=this;if(!t.display){this.width=this.height=0;return}const r=t.labels,i=Er(r.font),s=i.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=aE(r,s);let c,f;n.font=i.string,this.isHorizontal()?(c=this.maxWidth,f=this._fitRows(o,s,a,l)+10):(f=this.maxHeight,c=this._fitCols(o,i,a,l)+10),this.width=Math.min(c,t.maxWidth||this.maxWidth),this.height=Math.min(f,t.maxHeight||this.maxHeight)}_fitRows(t,n,r,i){const{ctx:s,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],f=i+a;let p=t;s.textAlign="left",s.textBaseline="middle";let g=-1,y=-f;return this.legendItems.forEach((b,_)=>{const C=r+n/2+s.measureText(b.text).width;(_===0||c[c.length-1]+C+2*a>o)&&(p+=f,c[c.length-(_>0?0:1)]=0,y+=f,g++),l[_]={left:0,top:y,row:g,width:C,height:i},c[c.length-1]+=C+a}),p}_fitCols(t,n,r,i){const{ctx:s,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],f=o-t;let p=a,g=0,y=0,b=0,_=0;return this.legendItems.forEach((C,k)=>{const{itemWidth:P,itemHeight:O}=hZ(r,n,s,C,i);k>0&&y+O+2*a>f&&(p+=g+a,c.push({width:g,height:y}),b+=g+a,_++,g=y=0),l[k]={left:b,top:y,col:_,width:P,height:O},g=Math.max(g,P),y+=O+a}),p+=g,c.push({width:g,height:y}),p}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:r,labels:{padding:i},rtl:s}}=this,o=Pd(s,this.left,this.width);if(this.isHorizontal()){let a=0,l=ei(r,this.left+i,this.right-this.lineWidths[a]);for(const c of n)a!==c.row&&(a=c.row,l=ei(r,this.left+i,this.right-this.lineWidths[a])),c.top+=this.top+t+i,c.left=o.leftForLtr(o.x(l),c.width),l+=c.width+i}else{let a=0,l=ei(r,this.top+t+i,this.bottom-this.columnSizes[a].height);for(const c of n)c.col!==a&&(a=c.col,l=ei(r,this.top+t+i,this.bottom-this.columnSizes[a].height)),c.top=l,c.left+=this.left+i,c.left=o.leftForLtr(o.x(c.left),c.width),l+=c.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;zy(t,this),this._draw(),$y(t)}}_draw(){const{options:t,columnSizes:n,lineWidths:r,ctx:i}=this,{align:s,labels:o}=t,a=qn.color,l=Pd(t.rtl,this.left,this.width),c=Er(o.font),{padding:f}=o,p=c.size,g=p/2;let y;this.drawTitle(),i.textAlign=l.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=c.string;const{boxWidth:b,boxHeight:_,itemHeight:C}=aE(o,p),k=function(j,M,U){if(isNaN(b)||b<=0||isNaN(_)||_<0)return;i.save();const z=Et(U.lineWidth,1);if(i.fillStyle=Et(U.fillStyle,a),i.lineCap=Et(U.lineCap,"butt"),i.lineDashOffset=Et(U.lineDashOffset,0),i.lineJoin=Et(U.lineJoin,"miter"),i.lineWidth=z,i.strokeStyle=Et(U.strokeStyle,a),i.setLineDash(Et(U.lineDash,[])),o.usePointStyle){const D={radius:_*Math.SQRT2/2,pointStyle:U.pointStyle,rotation:U.rotation,borderWidth:z},ee=l.xPlus(j,b/2),J=M+g;Sj(i,D,ee,J,o.pointStyleWidth&&b)}else{const D=M+Math.max((p-_)/2,0),ee=l.leftForLtr(j,b),J=Bu(U.borderRadius);i.beginPath(),Object.values(J).some(re=>re!==0)?np(i,{x:ee,y:D,w:b,h:_,radius:J}):i.rect(ee,D,b,_),i.fill(),z!==0&&i.stroke()}i.restore()},P=function(j,M,U){Ku(i,U.text,j,M+C/2,c,{strikethrough:U.hidden,textAlign:l.textAlign(U.textAlign)})},O=this.isHorizontal(),$=this._computeTitleHeight();O?y={x:ei(s,this.left+f,this.right-r[0]),y:this.top+f+$,line:0}:y={x:this.left+f,y:ei(s,this.top+$+f,this.bottom-n[0].height),line:0},Pj(this.ctx,t.textDirection);const B=C+f;this.legendItems.forEach((j,M)=>{i.strokeStyle=j.fontColor,i.fillStyle=j.fontColor;const U=i.measureText(j.text).width,z=l.textAlign(j.textAlign||(j.textAlign=o.textAlign)),D=b+g+U;let ee=y.x,J=y.y;l.setWidth(this.width),O?M>0&&ee+D+f>this.right&&(J=y.y+=B,y.line++,ee=y.x=ei(s,this.left+f,this.right-r[y.line])):M>0&&J+B>this.bottom&&(ee=y.x=ee+n[y.line].width+f,y.line++,J=y.y=ei(s,this.top+$+f,this.bottom-n[y.line].height));const re=l.x(ee);if(k(re,J,j),ee=IG(z,ee+b+g,O?ee+D:this.right,t.rtl),P(l.x(ee),J,j),O)y.x+=D+f;else if(typeof j.text!="string"){const q=c.lineHeight;y.y+=aI(j,q)+f}else y.y+=B}),Rj(this.ctx,t.textDirection)}drawTitle(){const t=this.options,n=t.title,r=Er(n.font),i=si(n.padding);if(!n.display)return;const s=Pd(t.rtl,this.left,this.width),o=this.ctx,a=n.position,l=r.size/2,c=i.top+l;let f,p=this.left,g=this.width;if(this.isHorizontal())g=Math.max(...this.lineWidths),f=this.top+c,p=ei(t.align,p,this.right-g);else{const b=this.columnSizes.reduce((_,C)=>Math.max(_,C.height),0);f=c+ei(t.align,this.top,this.bottom-b-t.labels.padding-this._computeTitleHeight())}const y=ei(a,p,p+g);o.textAlign=s.textAlign(T_(a)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=r.string,Ku(o,n.text,y,f,r)}_computeTitleHeight(){const t=this.options.title,n=Er(t.font),r=si(t.padding);return t.display?n.lineHeight+r.height:0}_getLegendItemAt(t,n){let r,i,s;if(la(t,this.left,this.right)&&la(n,this.top,this.bottom)){for(s=this.legendHitBoxes,r=0;r<s.length;++r)if(i=s[r],la(t,i.left,i.left+i.width)&&la(n,i.top,i.top+i.height))return this.legendItems[r]}return null}handleEvent(t){const n=this.options;if(!gZ(t.type,n))return;const r=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const i=this._hoveredItem,s=fZ(i,r);i&&!s&&Mn(n.onLeave,[t,i,this],this),this._hoveredItem=r,r&&!s&&Mn(n.onHover,[t,r,this],this)}else r&&Mn(n.onClick,[t,r,this],this)}}function hZ(e,t,n,r,i){const s=pZ(r,e,t,n),o=mZ(i,r,t.lineHeight);return{itemWidth:s,itemHeight:o}}function pZ(e,t,n,r){let i=e.text;return i&&typeof i!="string"&&(i=i.reduce((s,o)=>s.length>o.length?s:o)),t+n.size/2+r.measureText(i).width}function mZ(e,t,n){let r=e;return typeof t.text!="string"&&(r=aI(t,n)),r}function aI(e,t){const n=e.text?e.text.length:0;return t*n}function gZ(e,t){return!!((e==="mousemove"||e==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(e==="click"||e==="mouseup"))}var lf={id:"legend",_element:lE,start(e,t,n){const r=e.legend=new lE({ctx:e.ctx,options:n,chart:e});ni.configure(e,r,n),ni.addBox(e,r)},stop(e){ni.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,n){const r=e.legend;ni.configure(e,r,n),r.options=n},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,n){const r=t.datasetIndex,i=n.chart;i.isDatasetVisible(r)?(i.hide(r),t.hidden=!0):(i.show(r),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:i,color:s,useBorderRadius:o,borderRadius:a}}=e.legend.options;return e._getSortedDatasetMetas().map(l=>{const c=l.controller.getStyle(n?0:void 0),f=si(c.borderWidth);return{text:t[l.index].label,fillStyle:c.backgroundColor,fontColor:s,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(f.width+f.height)/4,strokeStyle:c.borderColor,pointStyle:r||c.pointStyle,rotation:c.rotation,textAlign:i||c.textAlign,borderRadius:o&&(a||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class F_ extends wa{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n){const r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=n;const i=Vn(r.text)?r.text.length:1;this._padding=si(r.padding);const s=i*Er(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:n,left:r,bottom:i,right:s,options:o}=this,a=o.align;let l=0,c,f,p;return this.isHorizontal()?(f=ei(a,r,s),p=n+t,c=s-r):(o.position==="left"?(f=r+t,p=ei(a,i,n),l=mn*-.5):(f=s-t,p=ei(a,n,i),l=mn*.5),c=i-n),{titleX:f,titleY:p,maxWidth:c,rotation:l}}draw(){const t=this.ctx,n=this.options;if(!n.display)return;const r=Er(n.font),s=r.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:c}=this._drawArgs(s);Ku(t,n.text,0,0,r,{color:n.color,maxWidth:l,rotation:c,textAlign:T_(n.align),textBaseline:"middle",translation:[o,a]})}}function yZ(e,t){const n=new F_({ctx:e.ctx,options:t,chart:e});ni.configure(e,n,t),ni.addBox(e,n),e.titleBlock=n}var lI={id:"title",_element:F_,start(e,t,n){yZ(e,n)},stop(e){const t=e.titleBlock;ni.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,n){const r=e.titleBlock;ni.configure(e,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Tg=new WeakMap;var vZ={id:"subtitle",start(e,t,n){const r=new F_({ctx:e.ctx,options:n,chart:e});ni.configure(e,r,n),ni.addBox(e,r),Tg.set(e,r)},stop(e){ni.removeBox(e,Tg.get(e)),Tg.delete(e)},beforeUpdate(e,t,n){const r=Tg.get(e);ni.configure(e,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const bh={average(e){if(!e.length)return!1;let t,n,r=new Set,i=0,s=0;for(t=0,n=e.length;t<n;++t){const a=e[t].element;if(a&&a.hasValue()){const l=a.tooltipPosition();r.add(l.x),i+=l.y,++s}}return s===0||r.size===0?!1:{x:[...r].reduce((a,l)=>a+l)/r.size,y:i/s}},nearest(e,t){if(!e.length)return!1;let n=t.x,r=t.y,i=Number.POSITIVE_INFINITY,s,o,a;for(s=0,o=e.length;s<o;++s){const l=e[s].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),f=vw(t,c);f<i&&(i=f,a=l)}}if(a){const l=a.tooltipPosition();n=l.x,r=l.y}return{x:n,y:r}}};function wo(e,t){return t&&(Vn(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function ea(e){return(typeof e=="string"||e instanceof String)&&e.indexOf(`
`)>-1?e.split(`
`):e}function xZ(e,t){const{element:n,datasetIndex:r,index:i}=t,s=e.getDatasetMeta(r).controller,{label:o,value:a}=s.getLabelAndValue(i);return{chart:e,label:o,parsed:s.getParsed(i),raw:e.data.datasets[r].data[i],formattedValue:a,dataset:s.getDataset(),dataIndex:i,datasetIndex:r,element:n}}function uE(e,t){const n=e.chart.ctx,{body:r,footer:i,title:s}=e,{boxWidth:o,boxHeight:a}=t,l=Er(t.bodyFont),c=Er(t.titleFont),f=Er(t.footerFont),p=s.length,g=i.length,y=r.length,b=si(t.padding);let _=b.height,C=0,k=r.reduce(($,B)=>$+B.before.length+B.lines.length+B.after.length,0);if(k+=e.beforeBody.length+e.afterBody.length,p&&(_+=p*c.lineHeight+(p-1)*t.titleSpacing+t.titleMarginBottom),k){const $=t.displayColors?Math.max(a,l.lineHeight):l.lineHeight;_+=y*$+(k-y)*l.lineHeight+(k-1)*t.bodySpacing}g&&(_+=t.footerMarginTop+g*f.lineHeight+(g-1)*t.footerSpacing);let P=0;const O=function($){C=Math.max(C,n.measureText($).width+P)};return n.save(),n.font=c.string,_n(e.title,O),n.font=l.string,_n(e.beforeBody.concat(e.afterBody),O),P=t.displayColors?o+2+t.boxPadding:0,_n(r,$=>{_n($.before,O),_n($.lines,O),_n($.after,O)}),P=0,n.font=f.string,_n(e.footer,O),n.restore(),C+=b.width,{width:C,height:_}}function bZ(e,t){const{y:n,height:r}=t;return n<r/2?"top":n>e.height-r/2?"bottom":"center"}function wZ(e,t,n,r){const{x:i,width:s}=r,o=n.caretSize+n.caretPadding;if(e==="left"&&i+s+o>t.width||e==="right"&&i-s-o<0)return!0}function _Z(e,t,n,r){const{x:i,width:s}=n,{width:o,chartArea:{left:a,right:l}}=e;let c="center";return r==="center"?c=i<=(a+l)/2?"left":"right":i<=s/2?c="left":i>=o-s/2&&(c="right"),wZ(c,e,t,n)&&(c="center"),c}function cE(e,t,n){const r=n.yAlign||t.yAlign||bZ(e,n);return{xAlign:n.xAlign||t.xAlign||_Z(e,t,n,r),yAlign:r}}function SZ(e,t){let{x:n,width:r}=e;return t==="right"?n-=r:t==="center"&&(n-=r/2),n}function CZ(e,t,n){let{y:r,height:i}=e;return t==="top"?r+=n:t==="bottom"?r-=i+n:r-=i/2,r}function dE(e,t,n,r){const{caretSize:i,caretPadding:s,cornerRadius:o}=e,{xAlign:a,yAlign:l}=n,c=i+s,{topLeft:f,topRight:p,bottomLeft:g,bottomRight:y}=Bu(o);let b=SZ(t,a);const _=CZ(t,l,c);return l==="center"?a==="left"?b+=c:a==="right"&&(b-=c):a==="left"?b-=Math.max(f,g)+i:a==="right"&&(b+=Math.max(p,y)+i),{x:Lr(b,0,r.width-t.width),y:Lr(_,0,r.height-t.height)}}function jg(e,t,n){const r=si(n.padding);return t==="center"?e.x+e.width/2:t==="right"?e.x+e.width-r.right:e.x+r.left}function fE(e){return wo([],ea(e))}function kZ(e,t,n){return Ml(e,{tooltip:t,tooltipItems:n,type:"tooltip"})}function hE(e,t){const n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?e.override(n):e}const uI={beforeTitle:Xo,title(e){if(e.length>0){const t=e[0],n=t.chart.data.labels,r=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(r>0&&t.dataIndex<r)return n[t.dataIndex]}return""},afterTitle:Xo,beforeBody:Xo,beforeLabel:Xo,label(e){if(this&&this.options&&this.options.mode==="dataset")return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const n=e.formattedValue;return Jt(n)||(t+=n),t},labelColor(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Xo,afterBody:Xo,beforeFooter:Xo,footer:Xo,afterFooter:Xo};function Ri(e,t,n,r){const i=e[t].call(n,r);return typeof i>"u"?uI[t].call(n,r):i}class pE extends wa{static positioners=bh;constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const n=this.chart,r=this.options.setContext(this.getContext()),i=r.enabled&&n.options.animation&&r.animations,s=new Lj(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=kZ(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,n){const{callbacks:r}=n,i=Ri(r,"beforeTitle",this,t),s=Ri(r,"title",this,t),o=Ri(r,"afterTitle",this,t);let a=[];return a=wo(a,ea(i)),a=wo(a,ea(s)),a=wo(a,ea(o)),a}getBeforeBody(t,n){return fE(Ri(n.callbacks,"beforeBody",this,t))}getBody(t,n){const{callbacks:r}=n,i=[];return _n(t,s=>{const o={before:[],lines:[],after:[]},a=hE(r,s);wo(o.before,ea(Ri(a,"beforeLabel",this,s))),wo(o.lines,Ri(a,"label",this,s)),wo(o.after,ea(Ri(a,"afterLabel",this,s))),i.push(o)}),i}getAfterBody(t,n){return fE(Ri(n.callbacks,"afterBody",this,t))}getFooter(t,n){const{callbacks:r}=n,i=Ri(r,"beforeFooter",this,t),s=Ri(r,"footer",this,t),o=Ri(r,"afterFooter",this,t);let a=[];return a=wo(a,ea(i)),a=wo(a,ea(s)),a=wo(a,ea(o)),a}_createItems(t){const n=this._active,r=this.chart.data,i=[],s=[],o=[];let a=[],l,c;for(l=0,c=n.length;l<c;++l)a.push(xZ(this.chart,n[l]));return t.filter&&(a=a.filter((f,p,g)=>t.filter(f,p,g,r))),t.itemSort&&(a=a.sort((f,p)=>t.itemSort(f,p,r))),_n(a,f=>{const p=hE(t.callbacks,f);i.push(Ri(p,"labelColor",this,f)),s.push(Ri(p,"labelPointStyle",this,f)),o.push(Ri(p,"labelTextColor",this,f))}),this.labelColors=i,this.labelPointStyles=s,this.labelTextColors=o,this.dataPoints=a,a}update(t,n){const r=this.options.setContext(this.getContext()),i=this._active;let s,o=[];if(!i.length)this.opacity!==0&&(s={opacity:0});else{const a=bh[r.position].call(this,i,this._eventPosition);o=this._createItems(r),this.title=this.getTitle(o,r),this.beforeBody=this.getBeforeBody(o,r),this.body=this.getBody(o,r),this.afterBody=this.getAfterBody(o,r),this.footer=this.getFooter(o,r);const l=this._size=uE(this,r),c=Object.assign({},a,l),f=cE(this.chart,r,c),p=dE(r,c,f,this.chart);this.xAlign=f.xAlign,this.yAlign=f.yAlign,s={opacity:1,x:p.x,y:p.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,s&&this._resolveAnimations().update(this,s),t&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(t,n,r,i){const s=this.getCaretPosition(t,r,i);n.lineTo(s.x1,s.y1),n.lineTo(s.x2,s.y2),n.lineTo(s.x3,s.y3)}getCaretPosition(t,n,r){const{xAlign:i,yAlign:s}=this,{caretSize:o,cornerRadius:a}=r,{topLeft:l,topRight:c,bottomLeft:f,bottomRight:p}=Bu(a),{x:g,y}=t,{width:b,height:_}=n;let C,k,P,O,$,B;return s==="center"?($=y+_/2,i==="left"?(C=g,k=C-o,O=$+o,B=$-o):(C=g+b,k=C+o,O=$-o,B=$+o),P=C):(i==="left"?k=g+Math.max(l,f)+o:i==="right"?k=g+b-Math.max(c,p)-o:k=this.caretX,s==="top"?(O=y,$=O-o,C=k-o,P=k+o):(O=y+_,$=O+o,C=k+o,P=k-o),B=O),{x1:C,x2:k,x3:P,y1:O,y2:$,y3:B}}drawTitle(t,n,r){const i=this.title,s=i.length;let o,a,l;if(s){const c=Pd(r.rtl,this.x,this.width);for(t.x=jg(this,r.titleAlign,r),n.textAlign=c.textAlign(r.titleAlign),n.textBaseline="middle",o=Er(r.titleFont),a=r.titleSpacing,n.fillStyle=r.titleColor,n.font=o.string,l=0;l<s;++l)n.fillText(i[l],c.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+a,l+1===s&&(t.y+=r.titleMarginBottom-a)}}_drawColorBox(t,n,r,i,s){const o=this.labelColors[r],a=this.labelPointStyles[r],{boxHeight:l,boxWidth:c}=s,f=Er(s.bodyFont),p=jg(this,"left",s),g=i.x(p),y=l<f.lineHeight?(f.lineHeight-l)/2:0,b=n.y+y;if(s.usePointStyle){const _={radius:Math.min(c,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},C=i.leftForLtr(g,c)+c/2,k=b+l/2;t.strokeStyle=s.multiKeyBackground,t.fillStyle=s.multiKeyBackground,bw(t,_,C,k),t.strokeStyle=o.borderColor,t.fillStyle=o.backgroundColor,bw(t,_,C,k)}else{t.lineWidth=Zt(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,t.strokeStyle=o.borderColor,t.setLineDash(o.borderDash||[]),t.lineDashOffset=o.borderDashOffset||0;const _=i.leftForLtr(g,c),C=i.leftForLtr(i.xPlus(g,1),c-2),k=Bu(o.borderRadius);Object.values(k).some(P=>P!==0)?(t.beginPath(),t.fillStyle=s.multiKeyBackground,np(t,{x:_,y:b,w:c,h:l,radius:k}),t.fill(),t.stroke(),t.fillStyle=o.backgroundColor,t.beginPath(),np(t,{x:C,y:b+1,w:c-2,h:l-2,radius:k}),t.fill()):(t.fillStyle=s.multiKeyBackground,t.fillRect(_,b,c,l),t.strokeRect(_,b,c,l),t.fillStyle=o.backgroundColor,t.fillRect(C,b+1,c-2,l-2))}t.fillStyle=this.labelTextColors[r]}drawBody(t,n,r){const{body:i}=this,{bodySpacing:s,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:c,boxPadding:f}=r,p=Er(r.bodyFont);let g=p.lineHeight,y=0;const b=Pd(r.rtl,this.x,this.width),_=function(U){n.fillText(U,b.x(t.x+y),t.y+g/2),t.y+=g+s},C=b.textAlign(o);let k,P,O,$,B,j,M;for(n.textAlign=o,n.textBaseline="middle",n.font=p.string,t.x=jg(this,C,r),n.fillStyle=r.bodyColor,_n(this.beforeBody,_),y=a&&C!=="right"?o==="center"?c/2+f:c+2+f:0,$=0,j=i.length;$<j;++$){for(k=i[$],P=this.labelTextColors[$],n.fillStyle=P,_n(k.before,_),O=k.lines,a&&O.length&&(this._drawColorBox(n,t,$,b,r),g=Math.max(p.lineHeight,l)),B=0,M=O.length;B<M;++B)_(O[B]),g=p.lineHeight;_n(k.after,_)}y=0,g=p.lineHeight,_n(this.afterBody,_),t.y-=s}drawFooter(t,n,r){const i=this.footer,s=i.length;let o,a;if(s){const l=Pd(r.rtl,this.x,this.width);for(t.x=jg(this,r.footerAlign,r),t.y+=r.footerMarginTop,n.textAlign=l.textAlign(r.footerAlign),n.textBaseline="middle",o=Er(r.footerFont),n.fillStyle=r.footerColor,n.font=o.string,a=0;a<s;++a)n.fillText(i[a],l.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+r.footerSpacing}}drawBackground(t,n,r,i){const{xAlign:s,yAlign:o}=this,{x:a,y:l}=t,{width:c,height:f}=r,{topLeft:p,topRight:g,bottomLeft:y,bottomRight:b}=Bu(i.cornerRadius);n.fillStyle=i.backgroundColor,n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.beginPath(),n.moveTo(a+p,l),o==="top"&&this.drawCaret(t,n,r,i),n.lineTo(a+c-g,l),n.quadraticCurveTo(a+c,l,a+c,l+g),o==="center"&&s==="right"&&this.drawCaret(t,n,r,i),n.lineTo(a+c,l+f-b),n.quadraticCurveTo(a+c,l+f,a+c-b,l+f),o==="bottom"&&this.drawCaret(t,n,r,i),n.lineTo(a+y,l+f),n.quadraticCurveTo(a,l+f,a,l+f-y),o==="center"&&s==="left"&&this.drawCaret(t,n,r,i),n.lineTo(a,l+p),n.quadraticCurveTo(a,l,a+p,l),n.closePath(),n.fill(),i.borderWidth>0&&n.stroke()}_updateAnimationTarget(t){const n=this.chart,r=this.$animations,i=r&&r.x,s=r&&r.y;if(i||s){const o=bh[t.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=uE(this,t),l=Object.assign({},o,this._size),c=cE(n,t,l),f=dE(t,l,c,n);(i._to!==f.x||s._to!==f.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,f))}}_willRender(){return!!this.opacity}draw(t){const n=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(n);const i={width:this.width,height:this.height},s={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const o=si(n.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&a&&(t.save(),t.globalAlpha=r,this.drawBackground(s,t,i,n),Pj(t,n.textDirection),s.y+=o.top,this.drawTitle(s,t,n),this.drawBody(s,t,n),this.drawFooter(s,t,n),Rj(t,n.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,n){const r=this._active,i=t.map(({datasetIndex:a,index:l})=>{const c=this.chart.getDatasetMeta(a);if(!c)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:c.data[l],index:l}}),s=!V0(r,i),o=this._positionChanged(i,n);(s||o)&&(this._active=i,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,n,r=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,s=this._active||[],o=this._getActiveElements(t,s,n,r),a=this._positionChanged(o,t),l=n||!V0(o,s)||a;return l&&(this._active=o,(i.enabled||i.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,n))),l}_getActiveElements(t,n,r,i){const s=this.options;if(t.type==="mouseout")return[];if(!i)return n.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const o=this.chart.getElementsAtEventForMode(t,s.mode,s,r);return s.reverse&&o.reverse(),o}_positionChanged(t,n){const{caretX:r,caretY:i,options:s}=this,o=bh[s.position].call(this,t,n);return o!==!1&&(r!==o.x||i!==o.y)}}var uf={id:"tooltip",_element:pE,positioners:bh,afterInit(e,t,n){n&&(e.tooltip=new pE({chart:e,options:n}))},beforeUpdate(e,t,n){e.tooltip&&e.tooltip.initialize(n)},reset(e,t,n){e.tooltip&&e.tooltip.initialize(n)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const n={tooltip:t};if(e.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",n)}},afterEvent(e,t){if(e.tooltip){const n=t.replay;e.tooltip.handleEvent(t.event,n,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:uI},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>e!=="filter"&&e!=="itemSort"&&e!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},EZ=Object.freeze({__proto__:null,Colors:UJ,Decimation:qJ,Filler:oI,Legend:lf,SubTitle:vZ,Title:lI,Tooltip:uf});const TZ=(e,t,n,r)=>(typeof t=="string"?(n=e.push(t)-1,r.unshift({index:n,label:t})):isNaN(t)&&(n=null),n);function jZ(e,t,n,r){const i=e.indexOf(t);if(i===-1)return TZ(e,t,n,r);const s=e.lastIndexOf(t);return i!==s?n:i}const IZ=(e,t)=>e===null?null:Lr(Math.round(e),0,t);function mE(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class Ip extends sc{static id="category";static defaults={ticks:{callback:mE}};constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const n=this._addedLabels;if(n.length){const r=this.getLabels();for(const{index:i,label:s}of n)r[i]===s&&r.splice(i,1);this._addedLabels=[]}super.init(t)}parse(t,n){if(Jt(t))return null;const r=this.getLabels();return n=isFinite(n)&&r[n]===t?n:jZ(r,t,Et(n,t),this._addedLabels),IZ(n,r.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:r,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(r=0),n||(i=this.getLabels().length-1)),this.min=r,this.max=i}buildTicks(){const t=this.min,n=this.max,r=this.options.offset,i=[];let s=this.getLabels();s=t===0&&n===s.length-1?s:s.slice(t,n+1),this._valueRange=Math.max(s.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let o=t;o<=n;o++)i.push({value:o});return i}getLabelForValue(t){return mE.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}function NZ(e,t){const n=[],{bounds:i,step:s,min:o,max:a,precision:l,count:c,maxTicks:f,maxDigits:p,includeBounds:g}=e,y=s||1,b=f-1,{min:_,max:C}=t,k=!Jt(o),P=!Jt(a),O=!Jt(c),$=(C-_)/(p+1);let B=uk((C-_)/b/y)*y,j,M,U,z;if(B<1e-14&&!k&&!P)return[{value:_},{value:C}];z=Math.ceil(C/B)-Math.floor(_/B),z>b&&(B=uk(z*B/b/y)*y),Jt(l)||(j=Math.pow(10,l),B=Math.ceil(B*j)/j),i==="ticks"?(M=Math.floor(_/B)*B,U=Math.ceil(C/B)*B):(M=_,U=C),k&&P&&s&&_G((a-o)/s,B/1e3)?(z=Math.round(Math.min((a-o)/B,f)),B=(a-o)/z,M=o,U=a):O?(M=k?o:M,U=P?a:U,z=c-1,B=(U-M)/z):(z=(U-M)/B,Ph(z,Math.round(z),B/1e3)?z=Math.round(z):z=Math.ceil(z));const D=Math.max(ck(B),ck(M));j=Math.pow(10,Jt(l)?D:l),M=Math.round(M*j)/j,U=Math.round(U*j)/j;let ee=0;for(k&&(g&&M!==o?(n.push({value:o}),M<o&&ee++,Ph(Math.round((M+ee*B)*j)/j,o,gE(o,$,e))&&ee++):M<o&&ee++);ee<z;++ee){const J=Math.round((M+ee*B)*j)/j;if(P&&J>a)break;n.push({value:J})}return P&&g&&U!==a?n.length&&Ph(n[n.length-1].value,a,gE(a,$,e))?n[n.length-1].value=a:n.push({value:a}):(!P||U===a)&&n.push({value:U}),n}function gE(e,t,{horizontal:n,minRotation:r}){const i=ro(r),s=(n?Math.sin(i):Math.cos(i))||.001,o=.75*t*(""+e).length;return Math.min(t/s,o)}class J0 extends sc{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,n){return Jt(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:n,maxDefined:r}=this.getUserBounds();let{min:i,max:s}=this;const o=l=>i=n?i:l,a=l=>s=r?s:l;if(t){const l=jo(i),c=jo(s);l<0&&c<0?a(0):l>0&&c>0&&o(0)}if(i===s){let l=s===0?1:Math.abs(s*.05);a(s+l),t||o(i-l)}this.min=i,this.max=s}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:n,stepSize:r}=t,i;return r?(i=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),n=n||11),n&&(i=Math.min(n,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,n=t.ticks;let r=this.getTickLimit();r=Math.max(2,r);const i={maxTicks:r,bounds:t.bounds,min:t.min,max:t.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},s=this._range||this,o=NZ(i,s);return t.bounds==="ticks"&&pj(o,this,"value"),t.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const t=this.ticks;let n=this.min,r=this.max;if(super.configure(),this.options.offset&&t.length){const i=(r-n)/Math.max(t.length-1,1)/2;n-=i,r+=i}this._startValue=n,this._endValue=r,this._valueRange=r-n}getLabelForValue(t){return Tp(t,this.chart.options.locale,this.options.ticks.format)}}class Np extends J0{static id="linear";static defaults={ticks:{callback:By.formatters.numeric}};determineDataLimits(){const{min:t,max:n}=this.getMinMax(!0);this.min=ir(t)?t:0,this.max=ir(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),n=t?this.width:this.height,r=ro(this.options.ticks.minRotation),i=(t?Math.sin(r):Math.cos(r))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,s.lineHeight/i))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}const ip=e=>Math.floor(ll(e)),mu=(e,t)=>Math.pow(10,ip(e)+t);function yE(e){return e/Math.pow(10,ip(e))===1}function vE(e,t,n){const r=Math.pow(10,n),i=Math.floor(e/r);return Math.ceil(t/r)-i}function PZ(e,t){const n=t-e;let r=ip(n);for(;vE(e,t,r)>10;)r++;for(;vE(e,t,r)<10;)r--;return Math.min(r,ip(e))}function RZ(e,{min:t,max:n}){t=ss(e.min,t);const r=[],i=ip(t);let s=PZ(t,n),o=s<0?Math.pow(10,Math.abs(s)):1;const a=Math.pow(10,s),l=i>s?Math.pow(10,i):0,c=Math.round((t-l)*o)/o,f=Math.floor((t-l)/a/10)*a*10;let p=Math.floor((c-f)/Math.pow(10,s)),g=ss(e.min,Math.round((l+f+p*Math.pow(10,s))*o)/o);for(;g<n;)r.push({value:g,major:yE(g),significand:p}),p>=10?p=p<15?15:20:p++,p>=20&&(s++,p=2,o=s>=0?1:o),g=Math.round((l+f+p*Math.pow(10,s))*o)/o;const y=ss(e.max,g);return r.push({value:y,major:yE(y),significand:p}),r}class OZ extends sc{static id="logarithmic";static defaults={ticks:{callback:By.formatters.logarithmic,major:{enabled:!0}}};constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,n){const r=J0.prototype.parse.apply(this,[t,n]);if(r===0){this._zero=!0;return}return ir(r)&&r>0?r:null}determineDataLimits(){const{min:t,max:n}=this.getMinMax(!0);this.min=ir(t)?Math.max(0,t):null,this.max=ir(n)?Math.max(0,n):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!ir(this._userMin)&&(this.min=t===mu(this.min,0)?mu(this.min,-1):mu(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:n}=this.getUserBounds();let r=this.min,i=this.max;const s=a=>r=t?r:a,o=a=>i=n?i:a;r===i&&(r<=0?(s(1),o(10)):(s(mu(r,-1)),o(mu(i,1)))),r<=0&&s(mu(i,-1)),i<=0&&o(mu(r,1)),this.min=r,this.max=i}buildTicks(){const t=this.options,n={min:this._userMin,max:this._userMax},r=RZ(n,this);return t.bounds==="ticks"&&pj(r,this,"value"),t.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}getLabelForValue(t){return t===void 0?"0":Tp(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=ll(t),this._valueRange=ll(this.max)-ll(t)}getPixelForValue(t){return(t===void 0||t===0)&&(t=this.min),t===null||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(ll(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const n=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+n*this._valueRange)}}function Ew(e){const t=e.ticks;if(t.display&&e.display){const n=si(t.backdropPadding);return Et(t.font&&t.font.size,qn.font.size)+n.height}return 0}function MZ(e,t,n){return n=Vn(n)?n:[n],{w:BG(e,t.string,n),h:n.length*t.lineHeight}}function xE(e,t,n,r,i){return e===r||e===i?{start:t-n/2,end:t+n/2}:e<r||e>i?{start:t-n,end:t}:{start:t,end:t+n}}function AZ(e){const t={l:e.left+e._padding.left,r:e.right-e._padding.right,t:e.top+e._padding.top,b:e.bottom-e._padding.bottom},n=Object.assign({},t),r=[],i=[],s=e._pointLabels.length,o=e.options.pointLabels,a=o.centerPointLabels?mn/s:0;for(let l=0;l<s;l++){const c=o.setContext(e.getPointLabelContext(l));i[l]=c.padding;const f=e.getPointPosition(l,e.drawingArea+i[l],a),p=Er(c.font),g=MZ(e.ctx,p,e._pointLabels[l]);r[l]=g;const y=ti(e.getIndexAngle(l)+a),b=Math.round(k_(y)),_=xE(b,f.x,g.w,0,180),C=xE(b,f.y,g.h,90,270);DZ(n,t,y,_,C)}e.setCenterPoint(t.l-n.l,n.r-t.r,t.t-n.t,n.b-t.b),e._pointLabelItems=BZ(e,r,i)}function DZ(e,t,n,r,i){const s=Math.abs(Math.sin(n)),o=Math.abs(Math.cos(n));let a=0,l=0;r.start<t.l?(a=(t.l-r.start)/s,e.l=Math.min(e.l,t.l-a)):r.end>t.r&&(a=(r.end-t.r)/s,e.r=Math.max(e.r,t.r+a)),i.start<t.t?(l=(t.t-i.start)/o,e.t=Math.min(e.t,t.t-l)):i.end>t.b&&(l=(i.end-t.b)/o,e.b=Math.max(e.b,t.b+l))}function LZ(e,t,n){const r=e.drawingArea,{extra:i,additionalAngle:s,padding:o,size:a}=n,l=e.getPointPosition(t,r+i+o,s),c=Math.round(k_(ti(l.angle+cr))),f=UZ(l.y,a.h,c),p=zZ(c),g=$Z(l.x,a.w,p);return{visible:!0,x:l.x,y:f,textAlign:p,left:g,top:f,right:g+a.w,bottom:f+a.h}}function FZ(e,t){if(!t)return!0;const{left:n,top:r,right:i,bottom:s}=e;return!(ca({x:n,y:r},t)||ca({x:n,y:s},t)||ca({x:i,y:r},t)||ca({x:i,y:s},t))}function BZ(e,t,n){const r=[],i=e._pointLabels.length,s=e.options,{centerPointLabels:o,display:a}=s.pointLabels,l={extra:Ew(s)/2,additionalAngle:o?mn/i:0};let c;for(let f=0;f<i;f++){l.padding=n[f],l.size=t[f];const p=LZ(e,f,l);r.push(p),a==="auto"&&(p.visible=FZ(p,c),p.visible&&(c=p))}return r}function zZ(e){return e===0||e===180?"center":e<180?"left":"right"}function $Z(e,t,n){return n==="right"?e-=t:n==="center"&&(e-=t/2),e}function UZ(e,t,n){return n===90||n===270?e-=t/2:(n>270||n<90)&&(e-=t),e}function HZ(e,t,n){const{left:r,top:i,right:s,bottom:o}=n,{backdropColor:a}=t;if(!Jt(a)){const l=Bu(t.borderRadius),c=si(t.backdropPadding);e.fillStyle=a;const f=r-c.left,p=i-c.top,g=s-r+c.width,y=o-i+c.height;Object.values(l).some(b=>b!==0)?(e.beginPath(),np(e,{x:f,y:p,w:g,h:y,radius:l}),e.fill()):e.fillRect(f,p,g,y)}}function WZ(e,t){const{ctx:n,options:{pointLabels:r}}=e;for(let i=t-1;i>=0;i--){const s=e._pointLabelItems[i];if(!s.visible)continue;const o=r.setContext(e.getPointLabelContext(i));HZ(n,o,s);const a=Er(o.font),{x:l,y:c,textAlign:f}=s;Ku(n,e._pointLabels[i],l,c+a.lineHeight/2,a,{color:o.color,textAlign:f,textBaseline:"middle"})}}function cI(e,t,n,r){const{ctx:i}=e;if(n)i.arc(e.xCenter,e.yCenter,t,0,Bn);else{let s=e.getPointPosition(0,t);i.moveTo(s.x,s.y);for(let o=1;o<r;o++)s=e.getPointPosition(o,t),i.lineTo(s.x,s.y)}}function VZ(e,t,n,r,i){const s=e.ctx,o=t.circular,{color:a,lineWidth:l}=t;!o&&!r||!a||!l||n<0||(s.save(),s.strokeStyle=a,s.lineWidth=l,s.setLineDash(i.dash||[]),s.lineDashOffset=i.dashOffset,s.beginPath(),cI(e,n,o,r),s.closePath(),s.stroke(),s.restore())}function qZ(e,t,n){return Ml(e,{label:n,index:t,type:"pointLabel"})}class dI extends J0{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:By.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=si(Ew(this.options)/2),n=this.width=this.maxWidth-t.width,r=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+n/2+t.left),this.yCenter=Math.floor(this.top+r/2+t.top),this.drawingArea=Math.floor(Math.min(n,r)/2)}determineDataLimits(){const{min:t,max:n}=this.getMinMax(!1);this.min=ir(t)&&!isNaN(t)?t:0,this.max=ir(n)&&!isNaN(n)?n:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Ew(this.options))}generateTickLabels(t){J0.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((n,r)=>{const i=Mn(this.options.pointLabels.callback,[n,r],this);return i||i===0?i:""}).filter((n,r)=>this.chart.getDataVisibility(r))}fit(){const t=this.options;t.display&&t.pointLabels.display?AZ(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,n,r,i){this.xCenter+=Math.floor((t-n)/2),this.yCenter+=Math.floor((r-i)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,n,r,i))}getIndexAngle(t){const n=Bn/(this._pointLabels.length||1),r=this.options.startAngle||0;return ti(t*n+ro(r))}getDistanceFromCenterForValue(t){if(Jt(t))return NaN;const n=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*n:(t-this.min)*n}getValueForDistanceFromCenter(t){if(Jt(t))return NaN;const n=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-n:this.min+n}getPointLabelContext(t){const n=this._pointLabels||[];if(t>=0&&t<n.length){const r=n[t];return qZ(this.getContext(),t,r)}}getPointPosition(t,n,r=0){const i=this.getIndexAngle(t)-cr+r;return{x:Math.cos(i)*n+this.xCenter,y:Math.sin(i)*n+this.yCenter,angle:i}}getPointPositionForValue(t,n){return this.getPointPosition(t,this.getDistanceFromCenterForValue(n))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:n,top:r,right:i,bottom:s}=this._pointLabelItems[t];return{left:n,top:r,right:i,bottom:s}}drawBackground(){const{backgroundColor:t,grid:{circular:n}}=this.options;if(t){const r=this.ctx;r.save(),r.beginPath(),cI(this,this.getDistanceFromCenterForValue(this._endValue),n,this._pointLabels.length),r.closePath(),r.fillStyle=t,r.fill(),r.restore()}}drawGrid(){const t=this.ctx,n=this.options,{angleLines:r,grid:i,border:s}=n,o=this._pointLabels.length;let a,l,c;if(n.pointLabels.display&&WZ(this,o),i.display&&this.ticks.forEach((f,p)=>{if(p!==0||p===0&&this.min<0){l=this.getDistanceFromCenterForValue(f.value);const g=this.getContext(p),y=i.setContext(g),b=s.setContext(g);VZ(this,y,l,o,b)}}),r.display){for(t.save(),a=o-1;a>=0;a--){const f=r.setContext(this.getPointLabelContext(a)),{color:p,lineWidth:g}=f;!g||!p||(t.lineWidth=g,t.strokeStyle=p,t.setLineDash(f.borderDash),t.lineDashOffset=f.borderDashOffset,l=this.getDistanceFromCenterForValue(n.reverse?this.min:this.max),c=this.getPointPosition(a,l),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(c.x,c.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,n=this.options,r=n.ticks;if(!r.display)return;const i=this.getIndexAngle(0);let s,o;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(i),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((a,l)=>{if(l===0&&this.min>=0&&!n.reverse)return;const c=r.setContext(this.getContext(l)),f=Er(c.font);if(s=this.getDistanceFromCenterForValue(this.ticks[l].value),c.showLabelBackdrop){t.font=f.string,o=t.measureText(a.label).width,t.fillStyle=c.backdropColor;const p=si(c.backdropPadding);t.fillRect(-o/2-p.left,-s-f.size/2-p.top,o+p.width,f.size+p.height)}Ku(t,a.label,0,-s,f,{color:c.color,strokeColor:c.textStrokeColor,strokeWidth:c.textStrokeWidth})}),t.restore()}drawTitle(){}}const qy={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Fi=Object.keys(qy);function bE(e,t){return e-t}function wE(e,t){if(Jt(t))return null;const n=e._adapter,{parser:r,round:i,isoWeekday:s}=e._parseOpts;let o=t;return typeof r=="function"&&(o=r(o)),ir(o)||(o=typeof r=="string"?n.parse(o,r):n.parse(o)),o===null?null:(i&&(o=i==="week"&&(qu(s)||s===!0)?n.startOf(o,"isoWeek",s):n.startOf(o,i)),+o)}function _E(e,t,n,r){const i=Fi.length;for(let s=Fi.indexOf(e);s<i-1;++s){const o=qy[Fi[s]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-t)/(a*o.size))<=r)return Fi[s]}return Fi[i-1]}function QZ(e,t,n,r,i){for(let s=Fi.length-1;s>=Fi.indexOf(n);s--){const o=Fi[s];if(qy[o].common&&e._adapter.diff(i,r,o)>=t-1)return o}return Fi[n?Fi.indexOf(n):0]}function KZ(e){for(let t=Fi.indexOf(e)+1,n=Fi.length;t<n;++t)if(qy[Fi[t]].common)return Fi[t]}function SE(e,t,n){if(!n)e[t]=!0;else if(n.length){const{lo:r,hi:i}=E_(n,t),s=n[r]>=t?n[r]:n[i];e[s]=!0}}function GZ(e,t,n,r){const i=e._adapter,s=+i.startOf(t[0].value,r),o=t[t.length-1].value;let a,l;for(a=s;a<=o;a=+i.add(a,1,r))l=n[a],l>=0&&(t[l].major=!0);return t}function CE(e,t,n){const r=[],i={},s=t.length;let o,a;for(o=0;o<s;++o)a=t[o],i[a]=o,r.push({value:a,major:!1});return s===0||!n?r:GZ(e,r,i,n)}class Tw extends sc{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,n={}){const r=t.time||(t.time={}),i=this._adapter=new oX._date(t.adapters.date);i.init(n),Nh(r.displayFormats,i.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(t),this._normalized=n.normalized}parse(t,n){return t===void 0?null:wE(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,n=this._adapter,r=t.time.unit||"day";let{min:i,max:s,minDefined:o,maxDefined:a}=this.getUserBounds();function l(c){!o&&!isNaN(c.min)&&(i=Math.min(i,c.min)),!a&&!isNaN(c.max)&&(s=Math.max(s,c.max))}(!o||!a)&&(l(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&l(this.getMinMax(!1))),i=ir(i)&&!isNaN(i)?i:+n.startOf(Date.now(),r),s=ir(s)&&!isNaN(s)?s:+n.endOf(Date.now(),r)+1,this.min=Math.min(i,s-1),this.max=Math.max(i+1,s)}_getLabelBounds(){const t=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return t.length&&(n=t[0],r=t[t.length-1]),{min:n,max:r}}buildTicks(){const t=this.options,n=t.time,r=t.ticks,i=r.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const s=this.min,o=this.max,a=EG(i,s,o);return this._unit=n.unit||(r.autoSkip?_E(n.minUnit,this.min,this.max,this._getLabelCapacity(s)):QZ(this,a.length,n.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:KZ(this._unit),this.initOffsets(i),t.reverse&&a.reverse(),CE(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let n=0,r=0,i,s;this.options.offset&&t.length&&(i=this.getDecimalForValue(t[0]),t.length===1?n=1-i:n=(this.getDecimalForValue(t[1])-i)/2,s=this.getDecimalForValue(t[t.length-1]),t.length===1?r=s:r=(s-this.getDecimalForValue(t[t.length-2]))/2);const o=t.length<3?.5:.25;n=Lr(n,0,o),r=Lr(r,0,o),this._offsets={start:n,end:r,factor:1/(n+1+r)}}_generate(){const t=this._adapter,n=this.min,r=this.max,i=this.options,s=i.time,o=s.unit||_E(s.minUnit,n,r,this._getLabelCapacity(n)),a=Et(i.ticks.stepSize,1),l=o==="week"?s.isoWeekday:!1,c=qu(l)||l===!0,f={};let p=n,g,y;if(c&&(p=+t.startOf(p,"isoWeek",l)),p=+t.startOf(p,c?"day":o),t.diff(r,n,o)>1e5*a)throw new Error(n+" and "+r+" are too far apart with stepSize of "+a+" "+o);const b=i.ticks.source==="data"&&this.getDataTimestamps();for(g=p,y=0;g<r;g=+t.add(g,a,o),y++)SE(f,g,b);return(g===r||i.bounds==="ticks"||y===1)&&SE(f,g,b),Object.keys(f).sort(bE).map(_=>+_)}getLabelForValue(t){const n=this._adapter,r=this.options.time;return r.tooltipFormat?n.format(t,r.tooltipFormat):n.format(t,r.displayFormats.datetime)}format(t,n){const i=this.options.time.displayFormats,s=this._unit,o=n||i[s];return this._adapter.format(t,o)}_tickFormatFunction(t,n,r,i){const s=this.options,o=s.ticks.callback;if(o)return Mn(o,[t,n,r],this);const a=s.time.displayFormats,l=this._unit,c=this._majorUnit,f=l&&a[l],p=c&&a[c],g=r[n],y=c&&p&&g&&g.major;return this._adapter.format(t,i||(y?p:f))}generateTickLabels(t){let n,r,i;for(n=0,r=t.length;n<r;++n)i=t[n],i.label=this._tickFormatFunction(i.value,n,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const n=this._offsets,r=this.getDecimalForValue(t);return this.getPixelForDecimal((n.start+r)*n.factor)}getValueForPixel(t){const n=this._offsets,r=this.getDecimalForPixel(t)/n.factor-n.end;return this.min+r*(this.max-this.min)}_getLabelSize(t){const n=this.options.ticks,r=this.ctx.measureText(t).width,i=ro(this.isHorizontal()?n.maxRotation:n.minRotation),s=Math.cos(i),o=Math.sin(i),a=this._resolveTickFontOptions(0).size;return{w:r*s+a*o,h:r*o+a*s}}_getLabelCapacity(t){const n=this.options.time,r=n.displayFormats,i=r[n.unit]||r.millisecond,s=this._tickFormatFunction(t,0,CE(this,[t],this._majorUnit),i),o=this._getLabelSize(s),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let t=this._cache.data||[],n,r;if(t.length)return t;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(n=0,r=i.length;n<r;++n)t=t.concat(i[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let n,r;if(t.length)return t;const i=this.getLabels();for(n=0,r=i.length;n<r;++n)t.push(wE(this,i[n]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return yj(t.sort(bE))}}function Ig(e,t,n){let r=0,i=e.length-1,s,o,a,l;n?(t>=e[r].pos&&t<=e[i].pos&&({lo:r,hi:i}=ua(e,"pos",t)),{pos:s,time:a}=e[r],{pos:o,time:l}=e[i]):(t>=e[r].time&&t<=e[i].time&&({lo:r,hi:i}=ua(e,"time",t)),{time:s,pos:a}=e[r],{time:o,pos:l}=e[i]);const c=o-s;return c?a+(l-a)*(t-s)/c:a}class YZ extends Tw{static id="timeseries";static defaults=Tw.defaults;constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(t);this._minPos=Ig(n,this.min),this._tableRange=Ig(n,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:n,max:r}=this,i=[],s=[];let o,a,l,c,f;for(o=0,a=t.length;o<a;++o)c=t[o],c>=n&&c<=r&&i.push(c);if(i.length<2)return[{time:n,pos:0},{time:r,pos:1}];for(o=0,a=i.length;o<a;++o)f=i[o+1],l=i[o-1],c=i[o],Math.round((f+l)/2)!==c&&s.push({time:c,pos:o/(a-1)});return s}_generate(){const t=this.min,n=this.max;let r=super.getDataTimestamps();return(!r.includes(t)||!r.length)&&r.splice(0,0,t),(!r.includes(n)||r.length===1)&&r.push(n),r.sort((i,s)=>i-s)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const n=this.getDataTimestamps(),r=this.getLabelTimestamps();return n.length&&r.length?t=this.normalize(n.concat(r)):t=n.length?n:r,t=this._cache.all=t,t}getDecimalForValue(t){return(Ig(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const n=this._offsets,r=this.getDecimalForPixel(t)/n.factor-n.end;return Ig(this._table,r*this._tableRange+this._minPos,!0)}}var XZ=Object.freeze({__proto__:null,CategoryScale:Ip,LinearScale:Np,LogarithmicScale:OZ,RadialLinearScale:dI,TimeScale:Tw,TimeSeriesScale:YZ});const JZ=[sX,AJ,EZ,XZ];_a.register(...JZ);const fI="label";function kE(e,t){typeof e=="function"?e(t):e&&(e.current=t)}function ZZ(e,t){const n=e.options;n&&t&&Object.assign(n,t)}function hI(e,t){e.labels=t}function pI(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:fI;const r=[];e.datasets=t.map(i=>{const s=e.datasets.find(o=>o[n]===i[n]);return!s||!i.data||r.includes(s)?{...i}:(r.push(s),Object.assign(s,i),s)})}function eee(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:fI;const n={labels:[],datasets:[]};return hI(n,e.labels),pI(n,e.datasets,t),n}function tee(e,t){const{height:n=150,width:r=300,redraw:i=!1,datasetIdKey:s,type:o,data:a,options:l,plugins:c=[],fallbackContent:f,updateMode:p,...g}=e,y=I.useRef(null),b=I.useRef(null),_=()=>{y.current&&(b.current=new _a(y.current,{type:o,data:eee(a,s),options:l&&{...l},plugins:c}),kE(t,b.current))},C=()=>{kE(t,null),b.current&&(b.current.destroy(),b.current=null)};return I.useEffect(()=>{!i&&b.current&&l&&ZZ(b.current,l)},[i,l]),I.useEffect(()=>{!i&&b.current&&hI(b.current.config.data,a.labels)},[i,a.labels]),I.useEffect(()=>{!i&&b.current&&a.datasets&&pI(b.current.config.data,a.datasets,s)},[i,a.datasets]),I.useEffect(()=>{b.current&&(i?(C(),setTimeout(_)):b.current.update(p))},[i,l,a.labels,a.datasets,p]),I.useEffect(()=>{b.current&&(C(),setTimeout(_))},[o]),I.useEffect(()=>(_(),()=>C()),[]),Sn.createElement("canvas",{ref:y,role:"img",height:n,width:r,...g},f)}const mI=I.forwardRef(tee);function B_(e,t){return _a.register(t),I.forwardRef((n,r)=>Sn.createElement(mI,{...n,ref:r,type:e}))}const nee=B_("bar",zj),ree=B_("radar",Uj),gI=B_("doughnut",Hy),qd={searchBtnSpeed:{mu:1.457,sigma:.7362},captchaSpeed:{mu:3.6415,sigma:.4057},totalSpeed:{mu:8.6367,sigma:.5422}};function yI(e,t,n){if(e<=0)return 0;const r=(Math.log(e)-Math.log(t))/n,i=1/(1+.2316419*Math.abs(r)),o=.3989423*Math.exp(-r*r/2)*i*(.3193815+i*(-.3565638+i*(1.781478+i*(-1.821256+i*1.330274))));return r>0?1-o:o}function Qy(e,t=7.5,n=.3){const s=e>3e3?e/1e3:e,a=1-yI(s,t,n);return Math.max(Math.min(a*100,100),0)}function iee(e){const n=Math.min(Math.max(e,0),100)/100,i=-yI(n,.4,.1);return Math.round(i*5)}function see(e,t){const n=(e-2*t)/(e-t);return Math.max(0,Math.round(n*100))}function oee(e){return Qy(e,qd.searchBtnSpeed.mu,qd.searchBtnSpeed.sigma)}function aee(e){return Qy(e,qd.captchaSpeed.mu,qd.captchaSpeed.sigma)}function lee(e){return Math.max(0,Math.min(e,100))}function uee(e){return Qy(e,qd.totalSpeed.mu,qd.totalSpeed.sigma)}_a.register(dI,L_,af,oI,uf,lf);const cee={responsive:!0,scales:{r:{angleLines:{display:!0},suggestedMin:0,suggestedMax:100,ticks:{display:!1},pointLabels:{font:{size:14},color:"#4B5563"},grid:{color:"#E5E7EB"}}},plugins:{legend:{display:!1},tooltip:{enabled:!0}}};function dee(e){const{user_ability:t}=e,{searchBtnSpeed:n,totalSpeed:r,accuracy:i,captchaSpeed:s}=t,o=["   "," ","","  "],a=[n,r,i,s];return{labels:o,datasets:[{label:"",data:EE([1.776296,9.30268,93.58,3.843947]),backgroundColor:"rgba(5, 223, 114, 0.2)",borderColor:"rgba(5, 223, 114, 1)",borderWidth:2,pointBackgroundColor:"rgba(5, 223, 114, 1)"},{label:" ",data:EE(a),backgroundColor:"rgb(0, 122, 255, 0.2)",borderColor:"rgba(0, 122, 255, 1)",borderWidth:2,pointBackgroundColor:"rgba(0, 122, 255, 1)"}]}}function EE(e){return[oee(e[0]),uee(e[1]),lee(e[2]),aee(e[3])]}function z_({result:e}){const t=dee(e),{searchBtnSpeed:n,totalSpeed:r,accuracy:i,captchaSpeed:s}=e.user_ability;return h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"h-90",children:h.jsx(ree,{data:t,className:"mx-auto",options:cee})}),h.jsxs("div",{className:"absolute bottom-6 right-6 bg-white shadow-lg rounded-lg px-4 py-3 text-xs text-gray-800",children:[h.jsx("div",{className:"font-bold text-sm mb-1",children:" "}),h.jsxs("ul",{className:"space-y-1",children:[h.jsxs("li",{className:"flex justify-between",children:[h.jsx("span",{children:"    "})," ",h.jsxs("span",{children:[n.toFixed(2)," sec"]})]}),h.jsxs("li",{className:"flex justify-between",children:[h.jsx("span",{children:"   "})," ",h.jsxs("span",{children:[r.toFixed(2)," sec"]})]}),h.jsxs("li",{className:"flex justify-between",children:[h.jsx("span",{children:" "})," ",h.jsxs("span",{children:[i.toFixed(2)," %"]})]}),h.jsxs("li",{className:"flex justify-between",children:[h.jsx("span",{children:"     "})," ",h.jsxs("span",{children:[s.toFixed(2)," sec"]})]})]})]})]})}function jw(e,t){const n=e.getContext("2d");if(!n)return;n.clearRect(0,0,e.width,e.height);const r=n.createLinearGradient(0,0,e.width,0);r.addColorStop(0,"#4a4a4a"),r.addColorStop(1,"#bcbcbc"),n.fillStyle=r,n.fillRect(0,0,e.width,e.height),n.font="bold 32px Arial Black, Impact, sans-serif",n.fillStyle="black",n.textAlign="center",n.textBaseline="middle",n.fillText(t,e.width/2,e.height/2)}const fee={user_ability:{searchBtnSpeed:1.076296,totalSpeed:6.70268,accuracy:98.58,captchaSpeed:4.843947}};function hee(){const[e,t]=I.useState(fee);return h.jsxs(ic,{children:[h.jsx(Ly,{title:"   ()",subtitle:"   ,    ",href:"/simulation"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-6",children:[h.jsxs(Yn,{children:[h.jsx(qt,{level:3,children:"  "}),h.jsx(Gn,{children:"       ."}),h.jsx(mee,{setRadarData:t})]}),h.jsxs(Yn,{className:"relative",children:[h.jsx(qt,{level:3,children:"  "}),h.jsx(Gn,{children:"      ."}),h.jsx(z_,{result:e})]})]})]})}function TE(){return Math.floor(1e3+Math.random()*9e3).toString()}const pee=4;function mee({setRadarData:e}){const t=I.useRef(null),[n,r]=I.useState(),[i,s]=I.useState({message:"",color:"red"}),o=I.useRef(""),a=yee(e);function l(){o.current=TE(),r(""),s({message:"",color:"red"}),a.resetResult(),t.current&&jw(t.current,o.current)}function c(){setTimeout(l,200)}function f(g){let y=g.target.value;if(a.updateResult(),/\D/.test(y)){s({message:"0~9  ",color:"red"}),r(y.replace(/\D/g,""));return}if(y.length>pee){s({message:"4  ",color:"red"});return}r(y),s({message:"",color:"red"})}I.useEffect(()=>{setTimeout(()=>{o.current=TE(),a.initResult(),t.current&&jw(t.current,o.current)},100)},[]);function p(){n?.toString()===o.current?(s({message:"  .",color:"green"}),a.endResult(!0),setTimeout(l,700)):(s({message:"  .",color:"red"}),a.endResult(!1),setTimeout(l,700))}return h.jsxs("div",{className:"flex flex-col justify-center h-4/5",children:[h.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-4 p-4",children:[h.jsxs("div",{className:"flex flex-col",children:[h.jsxs("div",{className:"text-sm font-semibold flex flex-row items-center gap-2",children:[h.jsx("span",{className:"inline-block w-1.5 h-5 bg-blue-500 mr-2 "})," ",h.jsx(gee,{onClick:c,children:""})]}),h.jsx("div",{className:"flex items-center mt-1",children:h.jsx("canvas",{id:"captcha",width:"105",height:"50",ref:t})})]}),h.jsxs("div",{children:[h.jsxs("div",{className:"text-sm font-semibold  flex flex-row items-center",children:[h.jsx("span",{className:"inline-block w-1.5 h-5 bg-blue-500 mr-2 "}),"  "]}),h.jsx(pn.Input,{value:n,className:"mt-2 w-full",onChange:g=>f(g),placeholder:" ",essential:!0}),h.jsx("span",{className:"pl-1 text-xs "+(i.color==="green"?"text-green-500":"text-red-500"),children:i.message})]})]}),h.jsx("div",{className:"flex justify-end p-4",children:h.jsx("button",{onClick:p,className:"px-4 py-2 bg-white hover:bg-blue-50 rounded-xs border cursor-pointer",children:""})})]})}function gee({className:e,children:t,...n}){return h.jsx("button",{className:"px-2 py-1 bg-blue-500 text-white text-sm rounded-xs cursor-pointer hover:bg-blue-600 "+e,...n,children:t})}function yee(e){const t=I.useRef({tryCount:0,successCount:0,avgTime:0,startTime:-1});function n(){t.current.startTime=-1}function r(){t.current.startTime=Date.now()}function i(){t.current.startTime===-1&&(t.current.startTime=Date.now())}function s(o){const a=Date.now(),l=t.current.startTime===-1?4.843947:1+(a-t.current.startTime)/1e3;t.current.startTime=-1,t.current.tryCount+=1,t.current.avgTime=1+(l-t.current.avgTime)/t.current.tryCount,t.current.successCount+=o?1:0,e&&e(c=>({user_ability:{...c.user_ability,captchaSpeed:t.current.avgTime,accuracy:100*(t.current.successCount/t.current.tryCount)}}))}return{initResult:n,resetResult:r,updateResult:i,endResult:s}}function oc(){return lo({queryKey:["departments"],queryFn:vee,staleTime:1/0,select:e=>e.departments.sort((t,n)=>t.departmentName.localeCompare(n.departmentName))})}const vee=async()=>await ba("/api/departments"),xee=e=>{if(!e)return{universityDict:{},collegeDict:{}};const t={},n={};return e.forEach(r=>{const[i,s,o]=r.departmentName.split(" "),a=i.trim(),l=s?.trim(),c=o?.trim();l&&(t[a]||(t[a]=[]),t[a]=[...t[a],l],c||(n[l]=[l])),c&&(t[a]||(t[a]=[]),t[a]=[...t[a],c],n[l]||(n[l]=[]),n[l]=[...n[l],c])}),{universityDict:t,collegeDict:n}},bee=(e,t)=>{const n=e.split(" ").map(r=>r.trim());for(const r in t)if(n.some(i=>t[r].includes(i)))return r;return console.error("No university found",e),""},wee=(e,t)=>{const n=e.split(" ").map(r=>r.trim());for(const r in t)if(n.some(i=>r.includes(i)))return r;return console.error("No college found",e),""},Ky={labels:["","","",""],datasets:[{data:[40,25,20,15]}]},Pp=["#f97316","#3b82f6","#facc15","#22c55e","#60b6d4"];function jE(e){if(!e)return Ky;const t={};return e.forEach(n=>{t[n.registerDepartment??""]||(t[n.registerDepartment??""]=0),t[n.registerDepartment??""]+=Number(n.eachCount)}),{labels:Object.keys(t).map(n=>n||""),datasets:[{data:Object.values(t),backgroundColor:Pp}]}}function _ee(e,t){if(!t)return Ky;const n={major:0,"non-major":0},r=e.split(" ").map(o=>o.trim()),i=o=>o.split(" ").map(l=>l.trim()).some(l=>r.includes(l));t.forEach(o=>{const a=i(o.registerDepartment??"")?"major":"non-major";n[a]+=Number(o.eachCount)});const s={major:"","non-major":""};return{labels:Object.keys(n).map(o=>s[o]),datasets:[{data:Object.values(n),backgroundColor:Pp}]}}function See(e,t){if(!e||!t)return Ky;const n={};return e.forEach(r=>{const i=bee(r.registerDepartment??"",t);n[i]||(n[i]=0),n[i]+=Number(r.eachCount)}),{labels:Object.keys(n).map(r=>r||""),datasets:[{data:Object.values(n),backgroundColor:Pp}]}}function Cee(e,t){if(!e||!t)return Ky;const n={};return e.forEach(r=>{const i=wee(r.registerDepartment??"",t);n[i]||(n[i]=0),n[i]+=Number(r.eachCount)}),{labels:Object.keys(n).map(r=>r||""),datasets:[{data:Object.values(n),backgroundColor:Pp}]}}function kee(e){return e?e.reduce((t,n)=>t+Number(n.eachCount),0):-1}var d0={exports:{}},Eee=d0.exports,IE;function Tee(){return IE||(IE=1,function(e,t){(function(n,r){e.exports=r()})(Eee,function(){var n=function(v,w){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,N){E.__proto__=N}||function(E,N){for(var R in N)Object.prototype.hasOwnProperty.call(N,R)&&(E[R]=N[R])})(v,w)},r=function(){return(r=Object.assign||function(v){for(var w,E=1,N=arguments.length;E<N;E++)for(var R in w=arguments[E])Object.prototype.hasOwnProperty.call(w,R)&&(v[R]=w[R]);return v}).apply(this,arguments)};function i(v,w,E){for(var N,R=0,L=w.length;R<L;R++)!N&&R in w||((N=N||Array.prototype.slice.call(w,0,R))[R]=w[R]);return v.concat(N||Array.prototype.slice.call(w))}var s=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:ph,o=Object.keys,a=Array.isArray;function l(v,w){return typeof w!="object"||o(w).forEach(function(E){v[E]=w[E]}),v}typeof Promise>"u"||s.Promise||(s.Promise=Promise);var c=Object.getPrototypeOf,f={}.hasOwnProperty;function p(v,w){return f.call(v,w)}function g(v,w){typeof w=="function"&&(w=w(c(v))),(typeof Reflect>"u"?o:Reflect.ownKeys)(w).forEach(function(E){b(v,E,w[E])})}var y=Object.defineProperty;function b(v,w,E,N){y(v,w,l(E&&p(E,"get")&&typeof E.get=="function"?{get:E.get,set:E.set,configurable:!0}:{value:E,configurable:!0,writable:!0},N))}function _(v){return{from:function(w){return v.prototype=Object.create(w.prototype),b(v.prototype,"constructor",v),{extend:g.bind(null,v.prototype)}}}}var C=Object.getOwnPropertyDescriptor,k=[].slice;function P(v,w,E){return k.call(v,w,E)}function O(v,w){return w(v)}function $(v){if(!v)throw new Error("Assertion Failed")}function B(v){s.setImmediate?setImmediate(v):setTimeout(v,0)}function j(v,w){if(typeof w=="string"&&p(v,w))return v[w];if(!w)return v;if(typeof w!="string"){for(var E=[],N=0,R=w.length;N<R;++N){var L=j(v,w[N]);E.push(L)}return E}var W=w.indexOf(".");if(W!==-1){var Y=v[w.substr(0,W)];return Y==null?void 0:j(Y,w.substr(W+1))}}function M(v,w,E){if(v&&w!==void 0&&!("isFrozen"in Object&&Object.isFrozen(v)))if(typeof w!="string"&&"length"in w){$(typeof E!="string"&&"length"in E);for(var N=0,R=w.length;N<R;++N)M(v,w[N],E[N])}else{var L,W,Y=w.indexOf(".");Y!==-1?(L=w.substr(0,Y),(W=w.substr(Y+1))===""?E===void 0?a(v)&&!isNaN(parseInt(L))?v.splice(L,1):delete v[L]:v[L]=E:M(Y=!(Y=v[L])||!p(v,L)?v[L]={}:Y,W,E)):E===void 0?a(v)&&!isNaN(parseInt(w))?v.splice(w,1):delete v[w]:v[w]=E}}function U(v){var w,E={};for(w in v)p(v,w)&&(E[w]=v[w]);return E}var z=[].concat;function D(v){return z.apply([],v)}var Ce="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(D([8,16,32,64].map(function(v){return["Int","Uint","Float"].map(function(w){return w+v+"Array"})}))).filter(function(v){return s[v]}),ee=new Set(Ce.map(function(v){return s[v]})),J=null;function re(v){return J=new WeakMap,v=function w(E){if(!E||typeof E!="object")return E;var N=J.get(E);if(N)return N;if(a(E)){N=[],J.set(E,N);for(var R=0,L=E.length;R<L;++R)N.push(w(E[R]))}else if(ee.has(E.constructor))N=E;else{var W,Y=c(E);for(W in N=Y===Object.prototype?{}:Object.create(Y),J.set(E,N),E)p(E,W)&&(N[W]=w(E[W]))}return N}(v),J=null,v}var q={}.toString;function V(v){return q.call(v).slice(8,-1)}var Q=typeof Symbol<"u"?Symbol.iterator:"@@iterator",ne=typeof Q=="symbol"?function(v){var w;return v!=null&&(w=v[Q])&&w.apply(v)}:function(){return null};function Z(v,w){return w=v.indexOf(w),0<=w&&v.splice(w,1),0<=w}var fe={};function F(v){var w,E,N,R;if(arguments.length===1){if(a(v))return v.slice();if(this===fe&&typeof v=="string")return[v];if(R=ne(v)){for(E=[];!(N=R.next()).done;)E.push(N.value);return E}if(v==null)return[v];if(typeof(w=v.length)!="number")return[v];for(E=new Array(w);w--;)E[w]=v[w];return E}for(w=arguments.length,E=new Array(w);w--;)E[w]=arguments[w];return E}var G=typeof Symbol<"u"?function(v){return v[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},Zn=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],ki=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(Zn),ye={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function H(v,w){this.name=v,this.message=w}function Me(v,w){return v+". Errors: "+Object.keys(w).map(function(E){return w[E].toString()}).filter(function(E,N,R){return R.indexOf(E)===N}).join(`
`)}function Ee(v,w,E,N){this.failures=w,this.failedKeys=N,this.successCount=E,this.message=Me(v,w)}function Te(v,w){this.name="BulkError",this.failures=Object.keys(w).map(function(E){return w[E]}),this.failuresByPos=w,this.message=Me(v,this.failures)}_(H).from(Error).extend({toString:function(){return this.name+": "+this.message}}),_(Ee).from(H),_(Te).from(H);var Ye=ki.reduce(function(v,w){return v[w]=w+"Error",v},{}),Ve=H,Ie=ki.reduce(function(v,w){var E=w+"Error";function N(R,L){this.name=E,R?typeof R=="string"?(this.message="".concat(R).concat(L?`
 `+L:""),this.inner=L||null):typeof R=="object"&&(this.message="".concat(R.name," ").concat(R.message),this.inner=R):(this.message=ye[w]||E,this.inner=null)}return _(N).from(Ve),v[w]=N,v},{});Ie.Syntax=SyntaxError,Ie.Type=TypeError,Ie.Range=RangeError;var ut=Zn.reduce(function(v,w){return v[w+"Error"]=Ie[w],v},{}),Cn=ki.reduce(function(v,w){return["Syntax","Type","Range"].indexOf(w)===-1&&(v[w+"Error"]=Ie[w]),v},{});function Nt(){}function jn(v){return v}function ln(v,w){return v==null||v===jn?w:function(E){return w(v(E))}}function wn(v,w){return function(){v.apply(this,arguments),w.apply(this,arguments)}}function Qi(v,w){return v===Nt?w:function(){var E=v.apply(this,arguments);E!==void 0&&(arguments[0]=E);var N=this.onsuccess,R=this.onerror;this.onsuccess=null,this.onerror=null;var L=w.apply(this,arguments);return N&&(this.onsuccess=this.onsuccess?wn(N,this.onsuccess):N),R&&(this.onerror=this.onerror?wn(R,this.onerror):R),L!==void 0?L:E}}function li(v,w){return v===Nt?w:function(){v.apply(this,arguments);var E=this.onsuccess,N=this.onerror;this.onsuccess=this.onerror=null,w.apply(this,arguments),E&&(this.onsuccess=this.onsuccess?wn(E,this.onsuccess):E),N&&(this.onerror=this.onerror?wn(N,this.onerror):N)}}function Ki(v,w){return v===Nt?w:function(E){var N=v.apply(this,arguments);l(E,N);var R=this.onsuccess,L=this.onerror;return this.onsuccess=null,this.onerror=null,E=w.apply(this,arguments),R&&(this.onsuccess=this.onsuccess?wn(R,this.onsuccess):R),L&&(this.onerror=this.onerror?wn(L,this.onerror):L),N===void 0?E===void 0?void 0:E:l(N,E)}}function Si(v,w){return v===Nt?w:function(){return w.apply(this,arguments)!==!1&&v.apply(this,arguments)}}function wt(v,w){return v===Nt?w:function(){var E=v.apply(this,arguments);if(E&&typeof E.then=="function"){for(var N=this,R=arguments.length,L=new Array(R);R--;)L[R]=arguments[R];return E.then(function(){return w.apply(N,L)})}return w.apply(this,arguments)}}Cn.ModifyError=Ee,Cn.DexieError=H,Cn.BulkError=Te;var un=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function pt(v){un=v}var zt={},Pt=100,Ce=typeof Promise>"u"?[]:function(){var v=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[v,c(v),v];var w=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[w,c(w),v]}(),Zn=Ce[0],ki=Ce[1],Ce=Ce[2],ki=ki&&ki.then,Re=Zn&&Zn.constructor,ct=!!Ce,vt=function(v,w){sr.push([v,w]),yn&&(queueMicrotask(hc),yn=!1)},Ut=!0,yn=!0,fr=[],hr=[],ui=jn,jr={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:Nt,pgp:!1,env:{},finalize:Nt},qe=jr,sr=[],zn=0,hs=[];function Qe(v){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var w=this._PSD=qe;if(typeof v!="function"){if(v!==zt)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&Ro(this,this._value))}this._state=null,this._value=null,++w.ref,function E(N,R){try{R(function(L){if(N._state===null){if(L===N)throw new TypeError("A promise cannot be resolved with itself.");var W=N._lib&&te();L&&typeof L.then=="function"?E(N,function(Y,se){L instanceof Qe?L._then(Y,se):L.then(Y,se)}):(N._state=!0,N._value=L,co(N)),W&&me()}},Ro.bind(null,N))}catch(L){Ro(N,L)}}(this,v)}var Gi={get:function(){var v=qe,w=lt;function E(N,R){var L=this,W=!v.global&&(v!==qe||w!==lt),Y=W&&!Ht(),se=new Qe(function(ae,de){As(L,new Ms(Ds(N,v,W,Y),Ds(R,v,W,Y),ae,de,v))});return this._consoleTask&&(se._consoleTask=this._consoleTask),se}return E.prototype=zt,E},set:function(v){b(this,"then",v&&v.prototype===zt?Gi:{get:function(){return v},set:Gi.set})}};function Ms(v,w,E,N,R){this.onFulfilled=typeof v=="function"?v:null,this.onRejected=typeof w=="function"?w:null,this.resolve=E,this.reject=N,this.psd=R}function Ro(v,w){var E,N;hr.push(w),v._state===null&&(E=v._lib&&te(),w=ui(w),v._state=!1,v._value=w,N=v,fr.some(function(R){return R._value===N._value})||fr.push(N),co(v),E&&me())}function co(v){var w=v._listeners;v._listeners=[];for(var E=0,N=w.length;E<N;++E)As(v,w[E]);var R=v._PSD;--R.ref||R.finalize(),zn===0&&(++zn,vt(function(){--zn==0&&_e()},[]))}function As(v,w){if(v._state!==null){var E=v._state?w.onFulfilled:w.onRejected;if(E===null)return(v._state?w.resolve:w.reject)(v._value);++w.psd.ref,++zn,vt(fc,[E,v,w])}else v._listeners.push(w)}function fc(v,w,E){try{var N,R=w._value;!w._state&&hr.length&&(hr=[]),N=un&&w._consoleTask?w._consoleTask.run(function(){return v(R)}):v(R),w._state||hr.indexOf(R)!==-1||function(L){for(var W=fr.length;W;)if(fr[--W]._value===L._value)return fr.splice(W,1)}(w),E.resolve(N)}catch(L){E.reject(L)}finally{--zn==0&&_e(),--E.psd.ref||E.psd.finalize()}}function hc(){Ir(jr,function(){te()&&me()})}function te(){var v=Ut;return yn=Ut=!1,v}function me(){var v,w,E;do for(;0<sr.length;)for(v=sr,sr=[],E=v.length,w=0;w<E;++w){var N=v[w];N[0].apply(null,N[1])}while(0<sr.length);yn=Ut=!0}function _e(){var v=fr;fr=[],v.forEach(function(N){N._PSD.onunhandled.call(null,N._value,N)});for(var w=hs.slice(0),E=w.length;E;)w[--E]()}function Ae(v){return new Qe(zt,!1,v)}function je(v,w){var E=qe;return function(){var N=te(),R=qe;try{return cn(E,!0),v.apply(this,arguments)}catch(L){w&&w(L)}finally{cn(R,!1),N&&me()}}}g(Qe.prototype,{then:Gi,_then:function(v,w){As(this,new Ms(null,null,v,w,qe))},catch:function(v){if(arguments.length===1)return this.then(null,v);var w=v,E=arguments[1];return typeof w=="function"?this.then(null,function(N){return(N instanceof w?E:Ae)(N)}):this.then(null,function(N){return(N&&N.name===w?E:Ae)(N)})},finally:function(v){return this.then(function(w){return Qe.resolve(v()).then(function(){return w})},function(w){return Qe.resolve(v()).then(function(){return Ae(w)})})},timeout:function(v,w){var E=this;return v<1/0?new Qe(function(N,R){var L=setTimeout(function(){return R(new Ie.Timeout(w))},v);E.then(N,R).finally(clearTimeout.bind(null,L))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&b(Qe.prototype,Symbol.toStringTag,"Dexie.Promise"),jr.env=vn(),g(Qe,{all:function(){var v=F.apply(null,arguments).map($n);return new Qe(function(w,E){v.length===0&&w([]);var N=v.length;v.forEach(function(R,L){return Qe.resolve(R).then(function(W){v[L]=W,--N||w(v)},E)})})},resolve:function(v){return v instanceof Qe?v:v&&typeof v.then=="function"?new Qe(function(w,E){v.then(w,E)}):new Qe(zt,!0,v)},reject:Ae,race:function(){var v=F.apply(null,arguments).map($n);return new Qe(function(w,E){v.map(function(N){return Qe.resolve(N).then(w,E)})})},PSD:{get:function(){return qe},set:function(v){return qe=v}},totalEchoes:{get:function(){return lt}},newPSD:tt,usePSD:Ir,scheduler:{get:function(){return vt},set:function(v){vt=v}},rejectionMapper:{get:function(){return ui},set:function(v){ui=v}},follow:function(v,w){return new Qe(function(E,N){return tt(function(R,L){var W=qe;W.unhandleds=[],W.onunhandled=L,W.finalize=wn(function(){var Y,se=this;Y=function(){se.unhandleds.length===0?R():L(se.unhandleds[0])},hs.push(function ae(){Y(),hs.splice(hs.indexOf(ae),1)}),++zn,vt(function(){--zn==0&&_e()},[])},W.finalize),v()},w,E,N)})}}),Re&&(Re.allSettled&&b(Qe,"allSettled",function(){var v=F.apply(null,arguments).map($n);return new Qe(function(w){v.length===0&&w([]);var E=v.length,N=new Array(E);v.forEach(function(R,L){return Qe.resolve(R).then(function(W){return N[L]={status:"fulfilled",value:W}},function(W){return N[L]={status:"rejected",reason:W}}).then(function(){return--E||w(N)})})})}),Re.any&&typeof AggregateError<"u"&&b(Qe,"any",function(){var v=F.apply(null,arguments).map($n);return new Qe(function(w,E){v.length===0&&E(new AggregateError([]));var N=v.length,R=new Array(N);v.forEach(function(L,W){return Qe.resolve(L).then(function(Y){return w(Y)},function(Y){R[W]=Y,--N||E(new AggregateError(R))})})})}),Re.withResolvers&&(Qe.withResolvers=Re.withResolvers));var Ke={awaits:0,echoes:0,id:0},it=0,Ze=[],nt=0,lt=0,at=0;function tt(v,w,E,N){var R=qe,L=Object.create(R);return L.parent=R,L.ref=0,L.global=!1,L.id=++at,jr.env,L.env=ct?{Promise:Qe,PromiseProp:{value:Qe,configurable:!0,writable:!0},all:Qe.all,race:Qe.race,allSettled:Qe.allSettled,any:Qe.any,resolve:Qe.resolve,reject:Qe.reject}:{},w&&l(L,w),++R.ref,L.finalize=function(){--this.parent.ref||this.parent.finalize()},N=Ir(L,v,E,N),L.ref===0&&L.finalize(),N}function Rt(){return Ke.id||(Ke.id=++it),++Ke.awaits,Ke.echoes+=Pt,Ke.id}function Ht(){return!!Ke.awaits&&(--Ke.awaits==0&&(Ke.id=0),Ke.echoes=Ke.awaits*Pt,!0)}function $n(v){return Ke.echoes&&v&&v.constructor===Re?(Rt(),v.then(function(w){return Ht(),w},function(w){return Ht(),sn(w)})):v}function pr(){var v=Ze[Ze.length-1];Ze.pop(),cn(v,!1)}function cn(v,w){var E,N=qe;(w?!Ke.echoes||nt++&&v===qe:!nt||--nt&&v===qe)||queueMicrotask(w?(function(R){++lt,Ke.echoes&&--Ke.echoes!=0||(Ke.echoes=Ke.awaits=Ke.id=0),Ze.push(qe),cn(R,!0)}).bind(null,v):pr),v!==qe&&(qe=v,N===jr&&(jr.env=vn()),ct&&(E=jr.env.Promise,w=v.env,(N.global||v.global)&&(Object.defineProperty(s,"Promise",w.PromiseProp),E.all=w.all,E.race=w.race,E.resolve=w.resolve,E.reject=w.reject,w.allSettled&&(E.allSettled=w.allSettled),w.any&&(E.any=w.any))))}function vn(){var v=s.Promise;return ct?{Promise:v,PromiseProp:Object.getOwnPropertyDescriptor(s,"Promise"),all:v.all,race:v.race,allSettled:v.allSettled,any:v.any,resolve:v.resolve,reject:v.reject}:{}}function Ir(v,w,E,N,R){var L=qe;try{return cn(v,!0),w(E,N,R)}finally{cn(L,!1)}}function Ds(v,w,E,N){return typeof v!="function"?v:function(){var R=qe;E&&Rt(),cn(w,!0);try{return v.apply(this,arguments)}finally{cn(R,!1),N&&queueMicrotask(Ht)}}}function ci(v){Promise===Re&&Ke.echoes===0?nt===0?v():enqueueNativeMicroTask(v):setTimeout(v,0)}(""+ki).indexOf("[native code]")===-1&&(Rt=Ht=Nt);var sn=Qe.reject,Yi="",Qt="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",ps="String expected.",di=[],ms="__dbnames",Kt="readonly",er="readwrite";function fi(v,w){return v?w?function(){return v.apply(this,arguments)&&w.apply(this,arguments)}:v:w}var Xi={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function tn(v){return typeof v!="string"||/\./.test(v)?function(w){return w}:function(w){return w[v]===void 0&&v in w&&delete(w=re(w))[v],w}}function Oo(){throw Ie.Type()}function mt(v,w){try{var E=pc(v),N=pc(w);if(E!==N)return E==="Array"?1:N==="Array"?-1:E==="binary"?1:N==="binary"?-1:E==="string"?1:N==="string"?-1:E==="Date"?1:N!=="Date"?NaN:-1;switch(E){case"number":case"Date":case"string":return w<v?1:v<w?-1:0;case"binary":return function(R,L){for(var W=R.length,Y=L.length,se=W<Y?W:Y,ae=0;ae<se;++ae)if(R[ae]!==L[ae])return R[ae]<L[ae]?-1:1;return W===Y?0:W<Y?-1:1}($p(v),$p(w));case"Array":return function(R,L){for(var W=R.length,Y=L.length,se=W<Y?W:Y,ae=0;ae<se;++ae){var de=mt(R[ae],L[ae]);if(de!==0)return de}return W===Y?0:W<Y?-1:1}(v,w)}}catch{}return NaN}function pc(v){var w=typeof v;return w!="object"?w:ArrayBuffer.isView(v)?"binary":(v=V(v),v==="ArrayBuffer"?"binary":v)}function $p(v){return v instanceof Uint8Array?v:ArrayBuffer.isView(v)?new Uint8Array(v.buffer,v.byteOffset,v.byteLength):new Uint8Array(v)}var Up=(bn.prototype._trans=function(v,w,E){var N=this._tx||qe.trans,R=this.name,L=un&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(v==="readonly"?"read":"write"," ").concat(this.name));function W(ae,de,X){if(!X.schema[R])throw new Ie.NotFound("Table "+R+" not part of transaction");return w(X.idbtrans,X)}var Y=te();try{var se=N&&N.db._novip===this.db._novip?N===qe.trans?N._promise(v,W,E):tt(function(){return N._promise(v,W,E)},{trans:N,transless:qe.transless||qe}):function ae(de,X,he,oe){if(de.idbdb&&(de._state.openComplete||qe.letThrough||de._vip)){var ce=de._createTransaction(X,he,de._dbSchema);try{ce.create(),de._state.PR1398_maxLoop=3}catch(pe){return pe.name===Ye.InvalidState&&de.isOpen()&&0<--de._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),de.close({disableAutoOpen:!1}),de.open().then(function(){return ae(de,X,he,oe)})):sn(pe)}return ce._promise(X,function(pe,ue){return tt(function(){return qe.trans=ce,oe(pe,ue,ce)})}).then(function(pe){if(X==="readwrite")try{ce.idbtrans.commit()}catch{}return X==="readonly"?pe:ce._completion.then(function(){return pe})})}if(de._state.openComplete)return sn(new Ie.DatabaseClosed(de._state.dbOpenError));if(!de._state.isBeingOpened){if(!de._state.autoOpen)return sn(new Ie.DatabaseClosed);de.open().catch(Nt)}return de._state.dbReadyPromise.then(function(){return ae(de,X,he,oe)})}(this.db,v,[this.name],W);return L&&(se._consoleTask=L,se=se.catch(function(ae){return console.trace(ae),sn(ae)})),se}finally{Y&&me()}},bn.prototype.get=function(v,w){var E=this;return v&&v.constructor===Object?this.where(v).first(w):v==null?sn(new Ie.Type("Invalid argument to Table.get()")):this._trans("readonly",function(N){return E.core.get({trans:N,key:v}).then(function(R){return E.hook.reading.fire(R)})}).then(w)},bn.prototype.where=function(v){if(typeof v=="string")return new this.db.WhereClause(this,v);if(a(v))return new this.db.WhereClause(this,"[".concat(v.join("+"),"]"));var w=o(v);if(w.length===1)return this.where(w[0]).equals(v[w[0]]);var E=this.schema.indexes.concat(this.schema.primKey).filter(function(Y){if(Y.compound&&w.every(function(ae){return 0<=Y.keyPath.indexOf(ae)})){for(var se=0;se<w.length;++se)if(w.indexOf(Y.keyPath[se])===-1)return!1;return!0}return!1}).sort(function(Y,se){return Y.keyPath.length-se.keyPath.length})[0];if(E&&this.db._maxKey!==Yi){var L=E.keyPath.slice(0,w.length);return this.where(L).equals(L.map(function(se){return v[se]}))}!E&&un&&console.warn("The query ".concat(JSON.stringify(v)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(w.join("+"),"]"));var N=this.schema.idxByName;function R(Y,se){return mt(Y,se)===0}var W=w.reduce(function(X,se){var ae=X[0],de=X[1],X=N[se],he=v[se];return[ae||X,ae||!X?fi(de,X&&X.multi?function(oe){return oe=j(oe,se),a(oe)&&oe.some(function(ce){return R(he,ce)})}:function(oe){return R(he,j(oe,se))}):de]},[null,null]),L=W[0],W=W[1];return L?this.where(L.name).equals(v[L.keyPath]).filter(W):E?this.filter(W):this.where(w).equals("")},bn.prototype.filter=function(v){return this.toCollection().and(v)},bn.prototype.count=function(v){return this.toCollection().count(v)},bn.prototype.offset=function(v){return this.toCollection().offset(v)},bn.prototype.limit=function(v){return this.toCollection().limit(v)},bn.prototype.each=function(v){return this.toCollection().each(v)},bn.prototype.toArray=function(v){return this.toCollection().toArray(v)},bn.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},bn.prototype.orderBy=function(v){return new this.db.Collection(new this.db.WhereClause(this,a(v)?"[".concat(v.join("+"),"]"):v))},bn.prototype.reverse=function(){return this.toCollection().reverse()},bn.prototype.mapToClass=function(v){var w,E=this.db,N=this.name;function R(){return w!==null&&w.apply(this,arguments)||this}(this.schema.mappedClass=v).prototype instanceof Oo&&(function(se,ae){if(typeof ae!="function"&&ae!==null)throw new TypeError("Class extends value "+String(ae)+" is not a constructor or null");function de(){this.constructor=se}n(se,ae),se.prototype=ae===null?Object.create(ae):(de.prototype=ae.prototype,new de)}(R,w=v),Object.defineProperty(R.prototype,"db",{get:function(){return E},enumerable:!1,configurable:!0}),R.prototype.table=function(){return N},v=R);for(var L=new Set,W=v.prototype;W;W=c(W))Object.getOwnPropertyNames(W).forEach(function(se){return L.add(se)});function Y(se){if(!se)return se;var ae,de=Object.create(v.prototype);for(ae in se)if(!L.has(ae))try{de[ae]=se[ae]}catch{}return de}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=Y,this.hook("reading",Y),v},bn.prototype.defineClass=function(){return this.mapToClass(function(v){l(this,v)})},bn.prototype.add=function(v,w){var E=this,N=this.schema.primKey,R=N.auto,L=N.keyPath,W=v;return L&&R&&(W=tn(L)(v)),this._trans("readwrite",function(Y){return E.core.mutate({trans:Y,type:"add",keys:w!=null?[w]:null,values:[W]})}).then(function(Y){return Y.numFailures?Qe.reject(Y.failures[0]):Y.lastResult}).then(function(Y){if(L)try{M(v,L,Y)}catch{}return Y})},bn.prototype.update=function(v,w){return typeof v!="object"||a(v)?this.where(":id").equals(v).modify(w):(v=j(v,this.schema.primKey.keyPath),v===void 0?sn(new Ie.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(v).modify(w))},bn.prototype.put=function(v,w){var E=this,N=this.schema.primKey,R=N.auto,L=N.keyPath,W=v;return L&&R&&(W=tn(L)(v)),this._trans("readwrite",function(Y){return E.core.mutate({trans:Y,type:"put",values:[W],keys:w!=null?[w]:null})}).then(function(Y){return Y.numFailures?Qe.reject(Y.failures[0]):Y.lastResult}).then(function(Y){if(L)try{M(v,L,Y)}catch{}return Y})},bn.prototype.delete=function(v){var w=this;return this._trans("readwrite",function(E){return w.core.mutate({trans:E,type:"delete",keys:[v]})}).then(function(E){return E.numFailures?Qe.reject(E.failures[0]):void 0})},bn.prototype.clear=function(){var v=this;return this._trans("readwrite",function(w){return v.core.mutate({trans:w,type:"deleteRange",range:Xi})}).then(function(w){return w.numFailures?Qe.reject(w.failures[0]):void 0})},bn.prototype.bulkGet=function(v){var w=this;return this._trans("readonly",function(E){return w.core.getMany({keys:v,trans:E}).then(function(N){return N.map(function(R){return w.hook.reading.fire(R)})})})},bn.prototype.bulkAdd=function(v,w,E){var N=this,R=Array.isArray(w)?w:void 0,L=(E=E||(R?void 0:w))?E.allKeys:void 0;return this._trans("readwrite",function(W){var ae=N.schema.primKey,Y=ae.auto,ae=ae.keyPath;if(ae&&R)throw new Ie.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(R&&R.length!==v.length)throw new Ie.InvalidArgument("Arguments objects and keys must have the same length");var se=v.length,ae=ae&&Y?v.map(tn(ae)):v;return N.core.mutate({trans:W,type:"add",keys:R,values:ae,wantResults:L}).then(function(ce){var X=ce.numFailures,he=ce.results,oe=ce.lastResult,ce=ce.failures;if(X===0)return L?he:oe;throw new Te("".concat(N.name,".bulkAdd(): ").concat(X," of ").concat(se," operations failed"),ce)})})},bn.prototype.bulkPut=function(v,w,E){var N=this,R=Array.isArray(w)?w:void 0,L=(E=E||(R?void 0:w))?E.allKeys:void 0;return this._trans("readwrite",function(W){var ae=N.schema.primKey,Y=ae.auto,ae=ae.keyPath;if(ae&&R)throw new Ie.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(R&&R.length!==v.length)throw new Ie.InvalidArgument("Arguments objects and keys must have the same length");var se=v.length,ae=ae&&Y?v.map(tn(ae)):v;return N.core.mutate({trans:W,type:"put",keys:R,values:ae,wantResults:L}).then(function(ce){var X=ce.numFailures,he=ce.results,oe=ce.lastResult,ce=ce.failures;if(X===0)return L?he:oe;throw new Te("".concat(N.name,".bulkPut(): ").concat(X," of ").concat(se," operations failed"),ce)})})},bn.prototype.bulkUpdate=function(v){var w=this,E=this.core,N=v.map(function(W){return W.key}),R=v.map(function(W){return W.changes}),L=[];return this._trans("readwrite",function(W){return E.getMany({trans:W,keys:N,cache:"clone"}).then(function(Y){var se=[],ae=[];v.forEach(function(X,he){var oe=X.key,ce=X.changes,pe=Y[he];if(pe){for(var ue=0,ve=Object.keys(ce);ue<ve.length;ue++){var we=ve[ue],Se=ce[we];if(we===w.schema.primKey.keyPath){if(mt(Se,oe)!==0)throw new Ie.Constraint("Cannot update primary key in bulkUpdate()")}else M(pe,we,Se)}L.push(he),se.push(oe),ae.push(pe)}});var de=se.length;return E.mutate({trans:W,type:"put",keys:se,values:ae,updates:{keys:N,changeSpecs:R}}).then(function(X){var he=X.numFailures,oe=X.failures;if(he===0)return de;for(var ce=0,pe=Object.keys(oe);ce<pe.length;ce++){var ue,ve=pe[ce],we=L[Number(ve)];we!=null&&(ue=oe[ve],delete oe[ve],oe[we]=ue)}throw new Te("".concat(w.name,".bulkUpdate(): ").concat(he," of ").concat(de," operations failed"),oe)})})})},bn.prototype.bulkDelete=function(v){var w=this,E=v.length;return this._trans("readwrite",function(N){return w.core.mutate({trans:N,type:"delete",keys:v})}).then(function(W){var R=W.numFailures,L=W.lastResult,W=W.failures;if(R===0)return L;throw new Te("".concat(w.name,".bulkDelete(): ").concat(R," of ").concat(E," operations failed"),W)})},bn);function bn(){}function fo(v){function w(W,Y){if(Y){for(var se=arguments.length,ae=new Array(se-1);--se;)ae[se-1]=arguments[se];return E[W].subscribe.apply(null,ae),v}if(typeof W=="string")return E[W]}var E={};w.addEventType=L;for(var N=1,R=arguments.length;N<R;++N)L(arguments[N]);return w;function L(W,Y,se){if(typeof W!="object"){var ae;Y=Y||Si;var de={subscribers:[],fire:se=se||Nt,subscribe:function(X){de.subscribers.indexOf(X)===-1&&(de.subscribers.push(X),de.fire=Y(de.fire,X))},unsubscribe:function(X){de.subscribers=de.subscribers.filter(function(he){return he!==X}),de.fire=de.subscribers.reduce(Y,se)}};return E[W]=w[W]=de}o(ae=W).forEach(function(X){var he=ae[X];if(a(he))L(X,ae[X][0],ae[X][1]);else{if(he!=="asap")throw new Ie.InvalidArgument("Invalid event config");var oe=L(X,jn,function(){for(var ce=arguments.length,pe=new Array(ce);ce--;)pe[ce]=arguments[ce];oe.subscribers.forEach(function(ue){B(function(){ue.apply(null,pe)})})})}})}}function Ls(v,w){return _(w).from({prototype:v}),w}function Fs(v,w){return!(v.filter||v.algorithm||v.or)&&(w?v.justLimit:!v.replayFilter)}function mf(v,w){v.filter=fi(v.filter,w)}function gf(v,w,E){var N=v.replayFilter;v.replayFilter=N?function(){return fi(N(),w())}:w,v.justLimit=E&&!N}function ka(v,w){if(v.isPrimKey)return w.primaryKey;var E=w.getIndexByKeyPath(v.index);if(!E)throw new Ie.Schema("KeyPath "+v.index+" on object store "+w.name+" is not indexed");return E}function yf(v,w,E){var N=ka(v,w.schema);return w.openCursor({trans:E,values:!v.keysOnly,reverse:v.dir==="prev",unique:!!v.unique,query:{index:N,range:v.range}})}function Ea(v,w,E,N){var R=v.replayFilter?fi(v.filter,v.replayFilter()):v.filter;if(v.or){var L={},W=function(Y,se,ae){var de,X;R&&!R(se,ae,function(he){return se.stop(he)},function(he){return se.fail(he)})||((X=""+(de=se.primaryKey))=="[object ArrayBuffer]"&&(X=""+new Uint8Array(de)),p(L,X)||(L[X]=!0,w(Y,se,ae)))};return Promise.all([v.or._iterate(W,E),Ta(yf(v,N,E),v.algorithm,W,!v.keysOnly&&v.valueMapper)])}return Ta(yf(v,N,E),fi(v.algorithm,R),w,!v.keysOnly&&v.valueMapper)}function Ta(v,w,E,N){var R=je(N?function(L,W,Y){return E(N(L),W,Y)}:E);return v.then(function(L){if(L)return L.start(function(){var W=function(){return L.continue()};w&&!w(L,function(Y){return W=Y},function(Y){L.stop(Y),W=Nt},function(Y){L.fail(Y),W=Nt})||R(L.value,L,function(Y){return W=Y}),W()})})}var Fl=(mc.prototype.execute=function(v){var w=this["@@propmod"];if(w.add!==void 0){var E=w.add;if(a(E))return i(i([],a(v)?v:[],!0),E).sort();if(typeof E=="number")return(Number(v)||0)+E;if(typeof E=="bigint")try{return BigInt(v)+E}catch{return BigInt(0)+E}throw new TypeError("Invalid term ".concat(E))}if(w.remove!==void 0){var N=w.remove;if(a(N))return a(v)?v.filter(function(R){return!N.includes(R)}).sort():[];if(typeof N=="number")return Number(v)-N;if(typeof N=="bigint")try{return BigInt(v)-N}catch{return BigInt(0)-N}throw new TypeError("Invalid subtrahend ".concat(N))}return E=(E=w.replacePrefix)===null||E===void 0?void 0:E[0],E&&typeof v=="string"&&v.startsWith(E)?w.replacePrefix[1]+v.substring(E.length):v},mc);function mc(v){this["@@propmod"]=v}var xn=(nn.prototype._read=function(v,w){var E=this._ctx;return E.error?E.table._trans(null,sn.bind(null,E.error)):E.table._trans("readonly",v).then(w)},nn.prototype._write=function(v){var w=this._ctx;return w.error?w.table._trans(null,sn.bind(null,w.error)):w.table._trans("readwrite",v,"locked")},nn.prototype._addAlgorithm=function(v){var w=this._ctx;w.algorithm=fi(w.algorithm,v)},nn.prototype._iterate=function(v,w){return Ea(this._ctx,v,w,this._ctx.table.core)},nn.prototype.clone=function(v){var w=Object.create(this.constructor.prototype),E=Object.create(this._ctx);return v&&l(E,v),w._ctx=E,w},nn.prototype.raw=function(){return this._ctx.valueMapper=null,this},nn.prototype.each=function(v){var w=this._ctx;return this._read(function(E){return Ea(w,v,E,w.table.core)})},nn.prototype.count=function(v){var w=this;return this._read(function(E){var N=w._ctx,R=N.table.core;if(Fs(N,!0))return R.count({trans:E,query:{index:ka(N,R.schema),range:N.range}}).then(function(W){return Math.min(W,N.limit)});var L=0;return Ea(N,function(){return++L,!1},E,R).then(function(){return L})}).then(v)},nn.prototype.sortBy=function(v,w){var E=v.split(".").reverse(),N=E[0],R=E.length-1;function L(se,ae){return ae?L(se[E[ae]],ae-1):se[N]}var W=this._ctx.dir==="next"?1:-1;function Y(se,ae){return mt(L(se,R),L(ae,R))*W}return this.toArray(function(se){return se.sort(Y)}).then(w)},nn.prototype.toArray=function(v){var w=this;return this._read(function(E){var N=w._ctx;if(N.dir==="next"&&Fs(N,!0)&&0<N.limit){var R=N.valueMapper,L=ka(N,N.table.core.schema);return N.table.core.query({trans:E,limit:N.limit,values:!0,query:{index:L,range:N.range}}).then(function(Y){return Y=Y.result,R?Y.map(R):Y})}var W=[];return Ea(N,function(Y){return W.push(Y)},E,N.table.core).then(function(){return W})},v)},nn.prototype.offset=function(v){var w=this._ctx;return v<=0||(w.offset+=v,Fs(w)?gf(w,function(){var E=v;return function(N,R){return E===0||(E===1?--E:R(function(){N.advance(E),E=0}),!1)}}):gf(w,function(){var E=v;return function(){return--E<0}})),this},nn.prototype.limit=function(v){return this._ctx.limit=Math.min(this._ctx.limit,v),gf(this._ctx,function(){var w=v;return function(E,N,R){return--w<=0&&N(R),0<=w}},!0),this},nn.prototype.until=function(v,w){return mf(this._ctx,function(E,N,R){return!v(E.value)||(N(R),w)}),this},nn.prototype.first=function(v){return this.limit(1).toArray(function(w){return w[0]}).then(v)},nn.prototype.last=function(v){return this.reverse().first(v)},nn.prototype.filter=function(v){var w;return mf(this._ctx,function(E){return v(E.value)}),(w=this._ctx).isMatch=fi(w.isMatch,v),this},nn.prototype.and=function(v){return this.filter(v)},nn.prototype.or=function(v){return new this.db.WhereClause(this._ctx.table,v,this)},nn.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},nn.prototype.desc=function(){return this.reverse()},nn.prototype.eachKey=function(v){var w=this._ctx;return w.keysOnly=!w.isMatch,this.each(function(E,N){v(N.key,N)})},nn.prototype.eachUniqueKey=function(v){return this._ctx.unique="unique",this.eachKey(v)},nn.prototype.eachPrimaryKey=function(v){var w=this._ctx;return w.keysOnly=!w.isMatch,this.each(function(E,N){v(N.primaryKey,N)})},nn.prototype.keys=function(v){var w=this._ctx;w.keysOnly=!w.isMatch;var E=[];return this.each(function(N,R){E.push(R.key)}).then(function(){return E}).then(v)},nn.prototype.primaryKeys=function(v){var w=this._ctx;if(w.dir==="next"&&Fs(w,!0)&&0<w.limit)return this._read(function(N){var R=ka(w,w.table.core.schema);return w.table.core.query({trans:N,values:!1,limit:w.limit,query:{index:R,range:w.range}})}).then(function(N){return N.result}).then(v);w.keysOnly=!w.isMatch;var E=[];return this.each(function(N,R){E.push(R.primaryKey)}).then(function(){return E}).then(v)},nn.prototype.uniqueKeys=function(v){return this._ctx.unique="unique",this.keys(v)},nn.prototype.firstKey=function(v){return this.limit(1).keys(function(w){return w[0]}).then(v)},nn.prototype.lastKey=function(v){return this.reverse().firstKey(v)},nn.prototype.distinct=function(){var v=this._ctx,v=v.index&&v.table.schema.idxByName[v.index];if(!v||!v.multi)return this;var w={};return mf(this._ctx,function(R){var N=R.primaryKey.toString(),R=p(w,N);return w[N]=!0,!R}),this},nn.prototype.modify=function(v){var w=this,E=this._ctx;return this._write(function(N){var R,L,W;W=typeof v=="function"?v:(R=o(v),L=R.length,function(ue){for(var ve=!1,we=0;we<L;++we){var Se=R[we],ke=v[Se],Le=j(ue,Se);ke instanceof Fl?(M(ue,Se,ke.execute(Le)),ve=!0):Le!==ke&&(M(ue,Se,ke),ve=!0)}return ve});var Y=E.table.core,X=Y.schema.primaryKey,se=X.outbound,ae=X.extractKey,de=200,X=w.db._options.modifyChunkSize;X&&(de=typeof X=="object"?X[Y.name]||X["*"]||200:X);function he(ue,Se){var we=Se.failures,Se=Se.numFailures;ce+=ue-Se;for(var ke=0,Le=o(we);ke<Le.length;ke++){var He=Le[ke];oe.push(we[He])}}var oe=[],ce=0,pe=[];return w.clone().primaryKeys().then(function(ue){function ve(Se){var ke=Math.min(de,ue.length-Se);return Y.getMany({trans:N,keys:ue.slice(Se,Se+ke),cache:"immutable"}).then(function(Le){for(var He=[],Fe=[],ze=se?[]:null,We=[],$e=0;$e<ke;++$e){var Xe=Le[$e],St={value:re(Xe),primKey:ue[Se+$e]};W.call(St,St.value,St)!==!1&&(St.value==null?We.push(ue[Se+$e]):se||mt(ae(Xe),ae(St.value))===0?(Fe.push(St.value),se&&ze.push(ue[Se+$e])):(We.push(ue[Se+$e]),He.push(St.value)))}return Promise.resolve(0<He.length&&Y.mutate({trans:N,type:"add",values:He}).then(function(Tt){for(var Lt in Tt.failures)We.splice(parseInt(Lt),1);he(He.length,Tt)})).then(function(){return(0<Fe.length||we&&typeof v=="object")&&Y.mutate({trans:N,type:"put",keys:ze,values:Fe,criteria:we,changeSpec:typeof v!="function"&&v,isAdditionalChunk:0<Se}).then(function(Tt){return he(Fe.length,Tt)})}).then(function(){return(0<We.length||we&&v===gc)&&Y.mutate({trans:N,type:"delete",keys:We,criteria:we,isAdditionalChunk:0<Se}).then(function(Tt){return he(We.length,Tt)})}).then(function(){return ue.length>Se+ke&&ve(Se+de)})})}var we=Fs(E)&&E.limit===1/0&&(typeof v!="function"||v===gc)&&{index:E.index,range:E.range};return ve(0).then(function(){if(0<oe.length)throw new Ee("Error modifying one or more objects",oe,ce,pe);return ue.length})})})},nn.prototype.delete=function(){var v=this._ctx,w=v.range;return Fs(v)&&(v.isPrimKey||w.type===3)?this._write(function(E){var N=v.table.core.schema.primaryKey,R=w;return v.table.core.count({trans:E,query:{index:N,range:R}}).then(function(L){return v.table.core.mutate({trans:E,type:"deleteRange",range:R}).then(function(W){var Y=W.failures;if(W.lastResult,W.results,W=W.numFailures,W)throw new Ee("Could not delete some values",Object.keys(Y).map(function(se){return Y[se]}),L-W);return L-W})})}):this.modify(gc)},nn);function nn(){}var gc=function(v,w){return w.value=null};function vf(v,w){return v<w?-1:v===w?0:1}function Hp(v,w){return w<v?-1:v===w?0:1}function qr(v,w,E){return v=v instanceof zs?new v.Collection(v):v,v._ctx.error=new(E||TypeError)(w),v}function Mo(v){return new v.Collection(v,function(){return Bs("")}).limit(0)}function ja(v,w,E,N){var R,L,W,Y,se,ae,de,X=E.length;if(!E.every(function(ce){return typeof ce=="string"}))return qr(v,ps);function he(ce){R=ce==="next"?function(ue){return ue.toUpperCase()}:function(ue){return ue.toLowerCase()},L=ce==="next"?function(ue){return ue.toLowerCase()}:function(ue){return ue.toUpperCase()},W=ce==="next"?vf:Hp;var pe=E.map(function(ue){return{lower:L(ue),upper:R(ue)}}).sort(function(ue,ve){return W(ue.lower,ve.lower)});Y=pe.map(function(ue){return ue.upper}),se=pe.map(function(ue){return ue.lower}),de=(ae=ce)==="next"?"":N}he("next"),v=new v.Collection(v,function(){return Ji(Y[0],se[X-1]+N)}),v._ondirectionchange=function(ce){he(ce)};var oe=0;return v._addAlgorithm(function(ce,pe,ue){var ve=ce.key;if(typeof ve!="string")return!1;var we=L(ve);if(w(we,se,oe))return!0;for(var Se=null,ke=oe;ke<X;++ke){var Le=function(He,Fe,ze,We,$e,Xe){for(var St=Math.min(He.length,We.length),Tt=-1,Lt=0;Lt<St;++Lt){var Kr=Fe[Lt];if(Kr!==We[Lt])return $e(He[Lt],ze[Lt])<0?He.substr(0,Lt)+ze[Lt]+ze.substr(Lt+1):$e(He[Lt],We[Lt])<0?He.substr(0,Lt)+We[Lt]+ze.substr(Lt+1):0<=Tt?He.substr(0,Tt)+Fe[Tt]+ze.substr(Tt+1):null;$e(He[Lt],Kr)<0&&(Tt=Lt)}return St<We.length&&Xe==="next"?He+ze.substr(He.length):St<He.length&&Xe==="prev"?He.substr(0,ze.length):Tt<0?null:He.substr(0,Tt)+We[Tt]+ze.substr(Tt+1)}(ve,we,Y[ke],se[ke],W,ae);Le===null&&Se===null?oe=ke+1:(Se===null||0<W(Se,Le))&&(Se=Le)}return pe(Se!==null?function(){ce.continue(Se+de)}:ue),!1}),v}function Ji(v,w,E,N){return{type:2,lower:v,upper:w,lowerOpen:E,upperOpen:N}}function Bs(v){return{type:1,lower:v,upper:v}}var zs=(Object.defineProperty(En.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),En.prototype.between=function(v,w,E,N){E=E!==!1,N=N===!0;try{return 0<this._cmp(v,w)||this._cmp(v,w)===0&&(E||N)&&(!E||!N)?Mo(this):new this.Collection(this,function(){return Ji(v,w,!E,!N)})}catch{return qr(this,Qt)}},En.prototype.equals=function(v){return v==null?qr(this,Qt):new this.Collection(this,function(){return Bs(v)})},En.prototype.above=function(v){return v==null?qr(this,Qt):new this.Collection(this,function(){return Ji(v,void 0,!0)})},En.prototype.aboveOrEqual=function(v){return v==null?qr(this,Qt):new this.Collection(this,function(){return Ji(v,void 0,!1)})},En.prototype.below=function(v){return v==null?qr(this,Qt):new this.Collection(this,function(){return Ji(void 0,v,!1,!0)})},En.prototype.belowOrEqual=function(v){return v==null?qr(this,Qt):new this.Collection(this,function(){return Ji(void 0,v)})},En.prototype.startsWith=function(v){return typeof v!="string"?qr(this,ps):this.between(v,v+Yi,!0,!0)},En.prototype.startsWithIgnoreCase=function(v){return v===""?this.startsWith(v):ja(this,function(w,E){return w.indexOf(E[0])===0},[v],Yi)},En.prototype.equalsIgnoreCase=function(v){return ja(this,function(w,E){return w===E[0]},[v],"")},En.prototype.anyOfIgnoreCase=function(){var v=F.apply(fe,arguments);return v.length===0?Mo(this):ja(this,function(w,E){return E.indexOf(w)!==-1},v,"")},En.prototype.startsWithAnyOfIgnoreCase=function(){var v=F.apply(fe,arguments);return v.length===0?Mo(this):ja(this,function(w,E){return E.some(function(N){return w.indexOf(N)===0})},v,Yi)},En.prototype.anyOf=function(){var v=this,w=F.apply(fe,arguments),E=this._cmp;try{w.sort(E)}catch{return qr(this,Qt)}if(w.length===0)return Mo(this);var N=new this.Collection(this,function(){return Ji(w[0],w[w.length-1])});N._ondirectionchange=function(L){E=L==="next"?v._ascending:v._descending,w.sort(E)};var R=0;return N._addAlgorithm(function(L,W,Y){for(var se=L.key;0<E(se,w[R]);)if(++R===w.length)return W(Y),!1;return E(se,w[R])===0||(W(function(){L.continue(w[R])}),!1)}),N},En.prototype.notEqual=function(v){return this.inAnyRange([[-1/0,v],[v,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},En.prototype.noneOf=function(){var v=F.apply(fe,arguments);if(v.length===0)return new this.Collection(this);try{v.sort(this._ascending)}catch{return qr(this,Qt)}var w=v.reduce(function(E,N){return E?E.concat([[E[E.length-1][1],N]]):[[-1/0,N]]},null);return w.push([v[v.length-1],this.db._maxKey]),this.inAnyRange(w,{includeLowers:!1,includeUppers:!1})},En.prototype.inAnyRange=function(ve,w){var E=this,N=this._cmp,R=this._ascending,L=this._descending,W=this._min,Y=this._max;if(ve.length===0)return Mo(this);if(!ve.every(function(we){return we[0]!==void 0&&we[1]!==void 0&&R(we[0],we[1])<=0}))return qr(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",Ie.InvalidArgument);var se=!w||w.includeLowers!==!1,ae=w&&w.includeUppers===!0,de,X=R;function he(we,Se){return X(we[0],Se[0])}try{(de=ve.reduce(function(we,Se){for(var ke=0,Le=we.length;ke<Le;++ke){var He=we[ke];if(N(Se[0],He[1])<0&&0<N(Se[1],He[0])){He[0]=W(He[0],Se[0]),He[1]=Y(He[1],Se[1]);break}}return ke===Le&&we.push(Se),we},[])).sort(he)}catch{return qr(this,Qt)}var oe=0,ce=ae?function(we){return 0<R(we,de[oe][1])}:function(we){return 0<=R(we,de[oe][1])},pe=se?function(we){return 0<L(we,de[oe][0])}:function(we){return 0<=L(we,de[oe][0])},ue=ce,ve=new this.Collection(this,function(){return Ji(de[0][0],de[de.length-1][1],!se,!ae)});return ve._ondirectionchange=function(we){X=we==="next"?(ue=ce,R):(ue=pe,L),de.sort(he)},ve._addAlgorithm(function(we,Se,ke){for(var Le,He=we.key;ue(He);)if(++oe===de.length)return Se(ke),!1;return!ce(Le=He)&&!pe(Le)||(E._cmp(He,de[oe][1])===0||E._cmp(He,de[oe][0])===0||Se(function(){X===R?we.continue(de[oe][0]):we.continue(de[oe][1])}),!1)}),ve},En.prototype.startsWithAnyOf=function(){var v=F.apply(fe,arguments);return v.every(function(w){return typeof w=="string"})?v.length===0?Mo(this):this.inAnyRange(v.map(function(w){return[w,w+Yi]})):qr(this,"startsWithAnyOf() only works with strings")},En);function En(){}function Qr(v){return je(function(w){return $s(w),v(w.target.error),!1})}function $s(v){v.stopPropagation&&v.stopPropagation(),v.preventDefault&&v.preventDefault()}var Ci="storagemutated",xf="x-storagemutated-1",Us=fo(null,Ci),Bl=(gs.prototype._lock=function(){return $(!qe.global),++this._reculock,this._reculock!==1||qe.global||(qe.lockOwnerFor=this),this},gs.prototype._unlock=function(){if($(!qe.global),--this._reculock==0)for(qe.global||(qe.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var v=this._blockedFuncs.shift();try{Ir(v[1],v[0])}catch{}}return this},gs.prototype._locked=function(){return this._reculock&&qe.lockOwnerFor!==this},gs.prototype.create=function(v){var w=this;if(!this.mode)return this;var E=this.db.idbdb,N=this.db._state.dbOpenError;if($(!this.idbtrans),!v&&!E)switch(N&&N.name){case"DatabaseClosedError":throw new Ie.DatabaseClosed(N);case"MissingAPIError":throw new Ie.MissingAPI(N.message,N);default:throw new Ie.OpenFailed(N)}if(!this.active)throw new Ie.TransactionInactive;return $(this._completion._state===null),(v=this.idbtrans=v||(this.db.core||E).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=je(function(R){$s(R),w._reject(v.error)}),v.onabort=je(function(R){$s(R),w.active&&w._reject(new Ie.Abort(v.error)),w.active=!1,w.on("abort").fire(R)}),v.oncomplete=je(function(){w.active=!1,w._resolve(),"mutatedParts"in v&&Us.storagemutated.fire(v.mutatedParts)}),this},gs.prototype._promise=function(v,w,E){var N=this;if(v==="readwrite"&&this.mode!=="readwrite")return sn(new Ie.ReadOnly("Transaction is readonly"));if(!this.active)return sn(new Ie.TransactionInactive);if(this._locked())return new Qe(function(L,W){N._blockedFuncs.push([function(){N._promise(v,w,E).then(L,W)},qe])});if(E)return tt(function(){var L=new Qe(function(W,Y){N._lock();var se=w(W,Y,N);se&&se.then&&se.then(W,Y)});return L.finally(function(){return N._unlock()}),L._lib=!0,L});var R=new Qe(function(L,W){var Y=w(L,W,N);Y&&Y.then&&Y.then(L,W)});return R._lib=!0,R},gs.prototype._root=function(){return this.parent?this.parent._root():this},gs.prototype.waitFor=function(v){var w,E=this._root(),N=Qe.resolve(v);E._waitingFor?E._waitingFor=E._waitingFor.then(function(){return N}):(E._waitingFor=N,E._waitingQueue=[],w=E.idbtrans.objectStore(E.storeNames[0]),function L(){for(++E._spinCount;E._waitingQueue.length;)E._waitingQueue.shift()();E._waitingFor&&(w.get(-1/0).onsuccess=L)}());var R=E._waitingFor;return new Qe(function(L,W){N.then(function(Y){return E._waitingQueue.push(je(L.bind(null,Y)))},function(Y){return E._waitingQueue.push(je(W.bind(null,Y)))}).finally(function(){E._waitingFor===R&&(E._waitingFor=null)})})},gs.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new Ie.Abort))},gs.prototype.table=function(v){var w=this._memoizedTables||(this._memoizedTables={});if(p(w,v))return w[v];var E=this.schema[v];if(!E)throw new Ie.NotFound("Table "+v+" not part of transaction");return E=new this.db.Table(v,E,this),E.core=this.db.core.table(v),w[v]=E},gs);function gs(){}function yc(v,w,E,N,R,L,W){return{name:v,keyPath:w,unique:E,multi:N,auto:R,compound:L,src:(E&&!W?"&":"")+(N?"*":"")+(R?"++":"")+zl(w)}}function zl(v){return typeof v=="string"?v:v?"["+[].join.call(v,"+")+"]":""}function vc(v,w,E){return{name:v,primKey:w,indexes:E,mappedClass:null,idxByName:(N=function(R){return[R.name,R]},E.reduce(function(R,L,W){return W=N(L,W),W&&(R[W[0]]=W[1]),R},{}))};var N}var $l=function(v){try{return v.only([[]]),$l=function(){return[[]]},[[]]}catch{return $l=function(){return Yi},Yi}};function Ao(v){return v==null?function(){}:typeof v=="string"?(w=v).split(".").length===1?function(E){return E[w]}:function(E){return j(E,w)}:function(E){return j(E,v)};var w}function Ia(v){return[].slice.call(v)}var Na=0;function ho(v){return v==null?":id":typeof v=="string"?v:"[".concat(v.join("+"),"]")}function m1(v,w,se){function N(ue){if(ue.type===3)return null;if(ue.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var oe=ue.lower,ce=ue.upper,pe=ue.lowerOpen,ue=ue.upperOpen;return oe===void 0?ce===void 0?null:w.upperBound(ce,!!ue):ce===void 0?w.lowerBound(oe,!!pe):w.bound(oe,ce,!!pe,!!ue)}function R(he){var oe,ce=he.name;return{name:ce,schema:he,mutate:function(pe){var ue=pe.trans,ve=pe.type,we=pe.keys,Se=pe.values,ke=pe.range;return new Promise(function(Le,He){Le=je(Le);var Fe=ue.objectStore(ce),ze=Fe.keyPath==null,We=ve==="put"||ve==="add";if(!We&&ve!=="delete"&&ve!=="deleteRange")throw new Error("Invalid operation type: "+ve);var $e,Xe=(we||Se||{length:1}).length;if(we&&Se&&we.length!==Se.length)throw new Error("Given keys array must have same length as given values array.");if(Xe===0)return Le({numFailures:0,failures:{},results:[],lastResult:void 0});function St(Un){++Kr,$s(Un)}var Tt=[],Lt=[],Kr=0;if(ve==="deleteRange"){if(ke.type===4)return Le({numFailures:Kr,failures:Lt,results:[],lastResult:void 0});ke.type===3?Tt.push($e=Fe.clear()):Tt.push($e=Fe.delete(N(ke)))}else{var ze=We?ze?[Se,we]:[Se,null]:[we,null],_t=ze[0],xr=ze[1];if(We)for(var br=0;br<Xe;++br)Tt.push($e=xr&&xr[br]!==void 0?Fe[ve](_t[br],xr[br]):Fe[ve](_t[br])),$e.onerror=St;else for(br=0;br<Xe;++br)Tt.push($e=Fe[ve](_t[br])),$e.onerror=St}function Xl(Un){Un=Un.target.result,Tt.forEach(function(Hs,Jl){return Hs.error!=null&&(Lt[Jl]=Hs.error)}),Le({numFailures:Kr,failures:Lt,results:ve==="delete"?we:Tt.map(function(Hs){return Hs.result}),lastResult:Un})}$e.onerror=function(Un){St(Un),Xl(Un)},$e.onsuccess=Xl})},getMany:function(pe){var ue=pe.trans,ve=pe.keys;return new Promise(function(we,Se){we=je(we);for(var ke,Le=ue.objectStore(ce),He=ve.length,Fe=new Array(He),ze=0,We=0,$e=function(Tt){Tt=Tt.target,Fe[Tt._pos]=Tt.result,++We===ze&&we(Fe)},Xe=Qr(Se),St=0;St<He;++St)ve[St]!=null&&((ke=Le.get(ve[St]))._pos=St,ke.onsuccess=$e,ke.onerror=Xe,++ze);ze===0&&we(Fe)})},get:function(pe){var ue=pe.trans,ve=pe.key;return new Promise(function(we,Se){we=je(we);var ke=ue.objectStore(ce).get(ve);ke.onsuccess=function(Le){return we(Le.target.result)},ke.onerror=Qr(Se)})},query:(oe=ae,function(pe){return new Promise(function(ue,ve){ue=je(ue);var we,Se,ke,ze=pe.trans,Le=pe.values,He=pe.limit,$e=pe.query,Fe=He===1/0?void 0:He,We=$e.index,$e=$e.range,ze=ze.objectStore(ce),We=We.isPrimaryKey?ze:ze.index(We.name),$e=N($e);if(He===0)return ue({result:[]});oe?((Fe=Le?We.getAll($e,Fe):We.getAllKeys($e,Fe)).onsuccess=function(Xe){return ue({result:Xe.target.result})},Fe.onerror=Qr(ve)):(we=0,Se=!Le&&"openKeyCursor"in We?We.openKeyCursor($e):We.openCursor($e),ke=[],Se.onsuccess=function(Xe){var St=Se.result;return St?(ke.push(Le?St.value:St.primaryKey),++we===He?ue({result:ke}):void St.continue()):ue({result:ke})},Se.onerror=Qr(ve))})}),openCursor:function(pe){var ue=pe.trans,ve=pe.values,we=pe.query,Se=pe.reverse,ke=pe.unique;return new Promise(function(Le,He){Le=je(Le);var We=we.index,Fe=we.range,ze=ue.objectStore(ce),ze=We.isPrimaryKey?ze:ze.index(We.name),We=Se?ke?"prevunique":"prev":ke?"nextunique":"next",$e=!ve&&"openKeyCursor"in ze?ze.openKeyCursor(N(Fe),We):ze.openCursor(N(Fe),We);$e.onerror=Qr(He),$e.onsuccess=je(function(Xe){var St,Tt,Lt,Kr,_t=$e.result;_t?(_t.___id=++Na,_t.done=!1,St=_t.continue.bind(_t),Tt=(Tt=_t.continuePrimaryKey)&&Tt.bind(_t),Lt=_t.advance.bind(_t),Kr=function(){throw new Error("Cursor not stopped")},_t.trans=ue,_t.stop=_t.continue=_t.continuePrimaryKey=_t.advance=function(){throw new Error("Cursor not started")},_t.fail=je(He),_t.next=function(){var xr=this,br=1;return this.start(function(){return br--?xr.continue():xr.stop()}).then(function(){return xr})},_t.start=function(xr){function br(){if($e.result)try{xr()}catch(Un){_t.fail(Un)}else _t.done=!0,_t.start=function(){throw new Error("Cursor behind last entry")},_t.stop()}var Xl=new Promise(function(Un,Hs){Un=je(Un),$e.onerror=Qr(Hs),_t.fail=Hs,_t.stop=function(Jl){_t.stop=_t.continue=_t.continuePrimaryKey=_t.advance=Kr,Un(Jl)}});return $e.onsuccess=je(function(Un){$e.onsuccess=br,br()}),_t.continue=St,_t.continuePrimaryKey=Tt,_t.advance=Lt,br(),Xl},Le(_t)):Le(null)},He)})},count:function(pe){var ue=pe.query,ve=pe.trans,we=ue.index,Se=ue.range;return new Promise(function(ke,Le){var He=ve.objectStore(ce),Fe=we.isPrimaryKey?He:He.index(we.name),He=N(Se),Fe=He?Fe.count(He):Fe.count();Fe.onsuccess=je(function(ze){return ke(ze.target.result)}),Fe.onerror=Qr(Le)})}}}var L,W,Y,de=(W=se,Y=Ia((L=v).objectStoreNames),{schema:{name:L.name,tables:Y.map(function(he){return W.objectStore(he)}).map(function(he){var oe=he.keyPath,ue=he.autoIncrement,ce=a(oe),pe={},ue={name:he.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:oe==null,compound:ce,keyPath:oe,autoIncrement:ue,unique:!0,extractKey:Ao(oe)},indexes:Ia(he.indexNames).map(function(ve){return he.index(ve)}).map(function(ke){var we=ke.name,Se=ke.unique,Le=ke.multiEntry,ke=ke.keyPath,Le={name:we,compound:a(ke),keyPath:ke,unique:Se,multiEntry:Le,extractKey:Ao(ke)};return pe[ho(ke)]=Le}),getIndexByKeyPath:function(ve){return pe[ho(ve)]}};return pe[":id"]=ue.primaryKey,oe!=null&&(pe[ho(oe)]=ue.primaryKey),ue})},hasGetAll:0<Y.length&&"getAll"in W.objectStore(Y[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),se=de.schema,ae=de.hasGetAll,de=se.tables.map(R),X={};return de.forEach(function(he){return X[he.name]=he}),{stack:"dbcore",transaction:v.transaction.bind(v),table:function(he){if(!X[he])throw new Error("Table '".concat(he,"' not found"));return X[he]},MIN_KEY:-1/0,MAX_KEY:$l(w),schema:se}}function g1(v,w,E,N){var R=E.IDBKeyRange;return E.indexedDB,{dbcore:(N=m1(w,R,N),v.dbcore.reduce(function(L,W){return W=W.create,r(r({},L),W(L))},N))}}function Pa(v,N){var E=N.db,N=g1(v._middlewares,E,v._deps,N);v.core=N.dbcore,v.tables.forEach(function(R){var L=R.name;v.core.schema.tables.some(function(W){return W.name===L})&&(R.core=v.core.table(L),v[L]instanceof v.Table&&(v[L].core=R.core))})}function Do(v,w,E,N){E.forEach(function(R){var L=N[R];w.forEach(function(W){var Y=function se(ae,de){return C(ae,de)||(ae=c(ae))&&se(ae,de)}(W,R);(!Y||"value"in Y&&Y.value===void 0)&&(W===v.Transaction.prototype||W instanceof v.Transaction?b(W,R,{get:function(){return this.table(R)},set:function(se){y(this,R,{value:se,writable:!0,configurable:!0,enumerable:!0})}}):W[R]=new v.Table(R,L))})})}function Ul(v,w){w.forEach(function(E){for(var N in E)E[N]instanceof v.Table&&delete E[N]})}function Wp(v,w){return v._cfg.version-w._cfg.version}function po(v,w,E,N){var R=v._dbSchema;E.objectStoreNames.contains("$meta")&&!R.$meta&&(R.$meta=vc("$meta",Fo("")[0],[]),v._storeNames.push("$meta"));var L=v._createTransaction("readwrite",v._storeNames,R);L.create(E),L._completion.catch(N);var W=L._reject.bind(L),Y=qe.transless||qe;tt(function(){return qe.trans=L,qe.transless=Y,w!==0?(Pa(v,E),ae=w,((se=L).storeNames.includes("$meta")?se.table("$meta").get("version").then(function(de){return de??ae}):Qe.resolve(ae)).then(function(de){return he=de,oe=L,ce=E,pe=[],de=(X=v)._versions,ue=X._dbSchema=Wl(0,X.idbdb,ce),(de=de.filter(function(ve){return ve._cfg.version>=he})).length!==0?(de.forEach(function(ve){pe.push(function(){var we=ue,Se=ve._cfg.dbschema;Nr(X,we,ce),Nr(X,Se,ce),ue=X._dbSchema=Se;var ke=Ra(we,Se);ke.add.forEach(function(We){xc(ce,We[0],We[1].primKey,We[1].indexes)}),ke.change.forEach(function(We){if(We.recreate)throw new Ie.Upgrade("Not yet support for changing primary key");var $e=ce.objectStore(We.name);We.add.forEach(function(Xe){return Lo($e,Xe)}),We.change.forEach(function(Xe){$e.deleteIndex(Xe.name),Lo($e,Xe)}),We.del.forEach(function(Xe){return $e.deleteIndex(Xe)})});var Le=ve._cfg.contentUpgrade;if(Le&&ve._cfg.version>he){Pa(X,ce),oe._memoizedTables={};var He=U(Se);ke.del.forEach(function(We){He[We]=we[We]}),Ul(X,[X.Transaction.prototype]),Do(X,[X.Transaction.prototype],o(He),He),oe.schema=He;var Fe,ze=G(Le);return ze&&Rt(),ke=Qe.follow(function(){var We;(Fe=Le(oe))&&ze&&(We=Ht.bind(null,null),Fe.then(We,We))}),Fe&&typeof Fe.then=="function"?Qe.resolve(Fe):ke.then(function(){return Fe})}}),pe.push(function(we){var Se,ke,Le=ve._cfg.dbschema;Se=Le,ke=we,[].slice.call(ke.db.objectStoreNames).forEach(function(He){return Se[He]==null&&ke.db.deleteObjectStore(He)}),Ul(X,[X.Transaction.prototype]),Do(X,[X.Transaction.prototype],X._storeNames,X._dbSchema),oe.schema=X._dbSchema}),pe.push(function(we){X.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(X.idbdb.version/10)===ve._cfg.version?(X.idbdb.deleteObjectStore("$meta"),delete X._dbSchema.$meta,X._storeNames=X._storeNames.filter(function(Se){return Se!=="$meta"})):we.objectStore("$meta").put(ve._cfg.version,"version"))})}),function ve(){return pe.length?Qe.resolve(pe.shift()(oe.idbtrans)).then(ve):Qe.resolve()}().then(function(){Hl(ue,ce)})):Qe.resolve();var X,he,oe,ce,pe,ue}).catch(W)):(o(R).forEach(function(de){xc(E,de,R[de].primKey,R[de].indexes)}),Pa(v,E),void Qe.follow(function(){return v.on.populate.fire(L)}).catch(W));var se,ae})}function bf(v,w){Hl(v._dbSchema,w),w.db.version%10!=0||w.objectStoreNames.contains("$meta")||w.db.createObjectStore("$meta").add(Math.ceil(w.db.version/10-1),"version");var E=Wl(0,v.idbdb,w);Nr(v,v._dbSchema,w);for(var N=0,R=Ra(E,v._dbSchema).change;N<R.length;N++){var L=function(W){if(W.change.length||W.recreate)return console.warn("Unable to patch indexes of table ".concat(W.name," because it has changes on the type of index or primary key.")),{value:void 0};var Y=w.objectStore(W.name);W.add.forEach(function(se){un&&console.debug("Dexie upgrade patch: Creating missing index ".concat(W.name,".").concat(se.src)),Lo(Y,se)})}(R[N]);if(typeof L=="object")return L.value}}function Ra(v,w){var E,N={del:[],add:[],change:[]};for(E in v)w[E]||N.del.push(E);for(E in w){var R=v[E],L=w[E];if(R){var W={name:E,def:L,recreate:!1,del:[],add:[],change:[]};if(""+(R.primKey.keyPath||"")!=""+(L.primKey.keyPath||"")||R.primKey.auto!==L.primKey.auto)W.recreate=!0,N.change.push(W);else{var Y=R.idxByName,se=L.idxByName,ae=void 0;for(ae in Y)se[ae]||W.del.push(ae);for(ae in se){var de=Y[ae],X=se[ae];de?de.src!==X.src&&W.change.push(X):W.add.push(X)}(0<W.del.length||0<W.add.length||0<W.change.length)&&N.change.push(W)}}else N.add.push([E,L])}return N}function xc(v,w,E,N){var R=v.db.createObjectStore(w,E.keyPath?{keyPath:E.keyPath,autoIncrement:E.auto}:{autoIncrement:E.auto});return N.forEach(function(L){return Lo(R,L)}),R}function Hl(v,w){o(v).forEach(function(E){w.db.objectStoreNames.contains(E)||(un&&console.debug("Dexie: Creating missing table",E),xc(w,E,v[E].primKey,v[E].indexes))})}function Lo(v,w){v.createIndex(w.name,w.keyPath,{unique:w.unique,multiEntry:w.multi})}function Wl(v,w,E){var N={};return P(w.objectStoreNames,0).forEach(function(R){for(var L=E.objectStore(R),W=yc(zl(ae=L.keyPath),ae||"",!0,!1,!!L.autoIncrement,ae&&typeof ae!="string",!0),Y=[],se=0;se<L.indexNames.length;++se){var de=L.index(L.indexNames[se]),ae=de.keyPath,de=yc(de.name,ae,!!de.unique,!!de.multiEntry,!1,ae&&typeof ae!="string",!1);Y.push(de)}N[R]=vc(R,W,Y)}),N}function Nr(v,w,E){for(var N=E.db.objectStoreNames,R=0;R<N.length;++R){var L=N[R],W=E.objectStore(L);v._hasGetAll="getAll"in W;for(var Y=0;Y<W.indexNames.length;++Y){var se=W.indexNames[Y],ae=W.index(se).keyPath,de=typeof ae=="string"?ae:"["+P(ae).join("+")+"]";!w[L]||(ae=w[L].idxByName[de])&&(ae.name=se,delete w[L].idxByName[de],w[L].idxByName[se]=ae)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&s.WorkerGlobalScope&&s instanceof s.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(v._hasGetAll=!1)}function Fo(v){return v.split(",").map(function(w,E){var N=(w=w.trim()).replace(/([&*]|\+\+)/g,""),R=/^\[/.test(N)?N.match(/^\[(.*)\]$/)[1].split("+"):N;return yc(N,R||null,/\&/.test(w),/\*/.test(w),/\+\+/.test(w),a(R),E===0)})}var wf=(mo.prototype._parseStoresSpec=function(v,w){o(v).forEach(function(E){if(v[E]!==null){var N=Fo(v[E]),R=N.shift();if(R.unique=!0,R.multi)throw new Ie.Schema("Primary key cannot be multi-valued");N.forEach(function(L){if(L.auto)throw new Ie.Schema("Only primary key can be marked as autoIncrement (++)");if(!L.keyPath)throw new Ie.Schema("Index must have a name and cannot be an empty string")}),w[E]=vc(E,R,N)}})},mo.prototype.stores=function(E){var w=this.db;this._cfg.storesSource=this._cfg.storesSource?l(this._cfg.storesSource,E):E;var E=w._versions,N={},R={};return E.forEach(function(L){l(N,L._cfg.storesSource),R=L._cfg.dbschema={},L._parseStoresSpec(N,R)}),w._dbSchema=R,Ul(w,[w._allTables,w,w.Transaction.prototype]),Do(w,[w._allTables,w,w.Transaction.prototype,this._cfg.tables],o(R),R),w._storeNames=o(R),this},mo.prototype.upgrade=function(v){return this._cfg.contentUpgrade=wt(this._cfg.contentUpgrade||Nt,v),this},mo);function mo(){}function _f(v,w){var E=v._dbNamesDB;return E||(E=v._dbNamesDB=new ys(ms,{addons:[],indexedDB:v,IDBKeyRange:w})).version(1).stores({dbnames:"name"}),E.table("dbnames")}function Vl(v){return v&&typeof v.databases=="function"}function ql(v){return tt(function(){return qe.letThrough=!0,v()})}function Bo(v){return!("from"in v)}var or=function(v,w){if(!this){var E=new or;return v&&"d"in v&&l(E,v),E}l(this,arguments.length?{d:1,from:v,to:1<arguments.length?w:v}:{d:0})};function Oa(v,w,E){var N=mt(w,E);if(!isNaN(N)){if(0<N)throw RangeError();if(Bo(v))return l(v,{from:w,to:E,d:1});var R=v.l,N=v.r;if(mt(E,v.from)<0)return R?Oa(R,w,E):v.l={from:w,to:E,d:1,l:null,r:null},wc(v);if(0<mt(w,v.to))return N?Oa(N,w,E):v.r={from:w,to:E,d:1,l:null,r:null},wc(v);mt(w,v.from)<0&&(v.from=w,v.l=null,v.d=N?N.d+1:1),0<mt(E,v.to)&&(v.to=E,v.r=null,v.d=v.l?v.l.d+1:1),E=!v.r,R&&!v.l&&Ql(v,R),N&&E&&Ql(v,N)}}function Ql(v,w){Bo(w)||function E(N,se){var L=se.from,W=se.to,Y=se.l,se=se.r;Oa(N,L,W),Y&&E(N,Y),se&&E(N,se)}(v,w)}function Vp(v,w){var E=bc(w),N=E.next();if(N.done)return!1;for(var R=N.value,L=bc(v),W=L.next(R.from),Y=W.value;!N.done&&!W.done;){if(mt(Y.from,R.to)<=0&&0<=mt(Y.to,R.from))return!0;mt(R.from,Y.from)<0?R=(N=E.next(Y.from)).value:Y=(W=L.next(R.from)).value}return!1}function bc(v){var w=Bo(v)?null:{s:0,n:v};return{next:function(E){for(var N=0<arguments.length;w;)switch(w.s){case 0:if(w.s=1,N)for(;w.n.l&&mt(E,w.n.from)<0;)w={up:w,n:w.n.l,s:1};else for(;w.n.l;)w={up:w,n:w.n.l,s:1};case 1:if(w.s=2,!N||mt(E,w.n.to)<=0)return{value:w.n,done:!1};case 2:if(w.n.r){w.s=3,w={up:w,n:w.n.r,s:0};continue}case 3:w=w.up}return{done:!0}}}}function wc(v){var w,E,N=(((w=v.r)===null||w===void 0?void 0:w.d)||0)-(((E=v.l)===null||E===void 0?void 0:E.d)||0),R=1<N?"r":N<-1?"l":"";R&&(w=R=="r"?"l":"r",E=r({},v),N=v[R],v.from=N.from,v.to=N.to,v[R]=N[R],E[R]=N[w],(v[w]=E).d=qp(E)),v.d=qp(v)}function qp(E){var w=E.r,E=E.l;return(w?E?Math.max(w.d,E.d):w.d:E?E.d:0)+1}function _c(v,w){return o(w).forEach(function(E){v[E]?Ql(v[E],w[E]):v[E]=function N(R){var L,W,Y={};for(L in R)p(R,L)&&(W=R[L],Y[L]=!W||typeof W!="object"||ee.has(W.constructor)?W:N(W));return Y}(w[E])}),v}function Sf(v,w){return v.all||w.all||Object.keys(v).some(function(E){return w[E]&&Vp(w[E],v[E])})}g(or.prototype,((ki={add:function(v){return Ql(this,v),this},addKey:function(v){return Oa(this,v,v),this},addKeys:function(v){var w=this;return v.forEach(function(E){return Oa(w,E,E)}),this},hasKey:function(v){var w=bc(this).next(v).value;return w&&mt(w.from,v)<=0&&0<=mt(w.to,v)}})[Q]=function(){return bc(this)},ki));var zo={},Cf={},Sc=!1;function Cc(v){_c(Cf,v),Sc||(Sc=!0,setTimeout(function(){Sc=!1,kf(Cf,!(Cf={}))},0))}function kf(v,w){w===void 0&&(w=!1);var E=new Set;if(v.all)for(var N=0,R=Object.values(zo);N<R.length;N++)Qp(W=R[N],v,E,w);else for(var L in v){var W,Y=/^idb\:\/\/(.*)\/(.*)\//.exec(L);Y&&(L=Y[1],Y=Y[2],(W=zo["idb://".concat(L,"/").concat(Y)])&&Qp(W,v,E,w))}E.forEach(function(se){return se()})}function Qp(v,w,E,N){for(var R=[],L=0,W=Object.entries(v.queries.query);L<W.length;L++){for(var Y=W[L],se=Y[0],ae=[],de=0,X=Y[1];de<X.length;de++){var he=X[de];Sf(w,he.obsSet)?he.subscribers.forEach(function(ue){return E.add(ue)}):N&&ae.push(he)}N&&R.push([se,ae])}if(N)for(var oe=0,ce=R;oe<ce.length;oe++){var pe=ce[oe],se=pe[0],ae=pe[1];v.queries.query[se]=ae}}function y1(v){var w=v._state,E=v._deps.indexedDB;if(w.isBeingOpened||v.idbdb)return w.dbReadyPromise.then(function(){return w.dbOpenError?sn(w.dbOpenError):v});w.isBeingOpened=!0,w.dbOpenError=null,w.openComplete=!1;var N=w.openCanceller,R=Math.round(10*v.verno),L=!1;function W(){if(w.openCanceller!==N)throw new Ie.DatabaseClosed("db.open() was cancelled")}function Y(){return new Qe(function(he,oe){if(W(),!E)throw new Ie.MissingAPI;var ce=v.name,pe=w.autoSchema||!R?E.open(ce):E.open(ce,R);if(!pe)throw new Ie.MissingAPI;pe.onerror=Qr(oe),pe.onblocked=je(v._fireOnBlocked),pe.onupgradeneeded=je(function(ue){var ve;de=pe.transaction,w.autoSchema&&!v._options.allowEmptyDB?(pe.onerror=$s,de.abort(),pe.result.close(),(ve=E.deleteDatabase(ce)).onsuccess=ve.onerror=je(function(){oe(new Ie.NoSuchDatabase("Database ".concat(ce," doesnt exist")))})):(de.onerror=Qr(oe),ue=ue.oldVersion>Math.pow(2,62)?0:ue.oldVersion,X=ue<1,v.idbdb=pe.result,L&&bf(v,de),po(v,ue/10,de,oe))},oe),pe.onsuccess=je(function(){de=null;var ue,ve,we,Se,ke,Le=v.idbdb=pe.result,He=P(Le.objectStoreNames);if(0<He.length)try{var Fe=Le.transaction((Se=He).length===1?Se[0]:Se,"readonly");if(w.autoSchema)ve=Le,we=Fe,(ue=v).verno=ve.version/10,we=ue._dbSchema=Wl(0,ve,we),ue._storeNames=P(ve.objectStoreNames,0),Do(ue,[ue._allTables],o(we),we);else if(Nr(v,v._dbSchema,Fe),((ke=Ra(Wl(0,(ke=v).idbdb,Fe),ke._dbSchema)).add.length||ke.change.some(function(ze){return ze.add.length||ze.change.length}))&&!L)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),Le.close(),R=Le.version+1,L=!0,he(Y());Pa(v,Fe)}catch{}di.push(v),Le.onversionchange=je(function(ze){w.vcFired=!0,v.on("versionchange").fire(ze)}),Le.onclose=je(function(ze){v.on("close").fire(ze)}),X&&(ke=v._deps,Fe=ce,Le=ke.indexedDB,ke=ke.IDBKeyRange,Vl(Le)||Fe===ms||_f(Le,ke).put({name:Fe}).catch(Nt)),he()},oe)}).catch(function(he){switch(he?.name){case"UnknownError":if(0<w.PR1398_maxLoop)return w.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),Y();break;case"VersionError":if(0<R)return R=0,Y()}return Qe.reject(he)})}var se,ae=w.dbReadyResolve,de=null,X=!1;return Qe.race([N,(typeof navigator>"u"?Qe.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(he){function oe(){return indexedDB.databases().finally(he)}se=setInterval(oe,100),oe()}).finally(function(){return clearInterval(se)}):Promise.resolve()).then(Y)]).then(function(){return W(),w.onReadyBeingFired=[],Qe.resolve(ql(function(){return v.on.ready.fire(v.vip)})).then(function he(){if(0<w.onReadyBeingFired.length){var oe=w.onReadyBeingFired.reduce(wt,Nt);return w.onReadyBeingFired=[],Qe.resolve(ql(function(){return oe(v.vip)})).then(he)}})}).finally(function(){w.openCanceller===N&&(w.onReadyBeingFired=null,w.isBeingOpened=!1)}).catch(function(he){w.dbOpenError=he;try{de&&de.abort()}catch{}return N===w.openCanceller&&v._close(),sn(he)}).finally(function(){w.openComplete=!0,ae()}).then(function(){var he;return X&&(he={},v.tables.forEach(function(oe){oe.schema.indexes.forEach(function(ce){ce.name&&(he["idb://".concat(v.name,"/").concat(oe.name,"/").concat(ce.name)]=new or(-1/0,[[[]]]))}),he["idb://".concat(v.name,"/").concat(oe.name,"/")]=he["idb://".concat(v.name,"/").concat(oe.name,"/:dels")]=new or(-1/0,[[[]]])}),Us(Ci).fire(he),kf(he,!0)),v})}function Kl(v){function w(L){return v.next(L)}var E=R(w),N=R(function(L){return v.throw(L)});function R(L){return function(se){var Y=L(se),se=Y.value;return Y.done?se:se&&typeof se.then=="function"?se.then(E,N):a(se)?Promise.all(se).then(E,N):E(se)}}return R(w)()}function kc(v,w,E){for(var N=a(v)?v.slice():[v],R=0;R<E;++R)N.push(w);return N}var v1={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(v){return r(r({},v),{table:function(w){var E=v.table(w),N=E.schema,R={},L=[];function W(X,he,oe){var ce=ho(X),pe=R[ce]=R[ce]||[],ue=X==null?0:typeof X=="string"?1:X.length,ve=0<he,ve=r(r({},oe),{name:ve?"".concat(ce,"(virtual-from:").concat(oe.name,")"):oe.name,lowLevelIndex:oe,isVirtual:ve,keyTail:he,keyLength:ue,extractKey:Ao(X),unique:!ve&&oe.unique});return pe.push(ve),ve.isPrimaryKey||L.push(ve),1<ue&&W(ue===2?X[0]:X.slice(0,ue-1),he+1,oe),pe.sort(function(we,Se){return we.keyTail-Se.keyTail}),ve}w=W(N.primaryKey.keyPath,0,N.primaryKey),R[":id"]=[w];for(var Y=0,se=N.indexes;Y<se.length;Y++){var ae=se[Y];W(ae.keyPath,0,ae)}function de(X){var he,oe=X.query.index;return oe.isVirtual?r(r({},X),{query:{index:oe.lowLevelIndex,range:(he=X.query.range,oe=oe.keyTail,{type:he.type===1?2:he.type,lower:kc(he.lower,he.lowerOpen?v.MAX_KEY:v.MIN_KEY,oe),lowerOpen:!0,upper:kc(he.upper,he.upperOpen?v.MIN_KEY:v.MAX_KEY,oe),upperOpen:!0})}}):X}return r(r({},E),{schema:r(r({},N),{primaryKey:w,indexes:L,getIndexByKeyPath:function(X){return(X=R[ho(X)])&&X[0]}}),count:function(X){return E.count(de(X))},query:function(X){return E.query(de(X))},openCursor:function(X){var he=X.query.index,oe=he.keyTail,ce=he.isVirtual,pe=he.keyLength;return ce?E.openCursor(de(X)).then(function(ve){return ve&&ue(ve)}):E.openCursor(X);function ue(ve){return Object.create(ve,{continue:{value:function(we){we!=null?ve.continue(kc(we,X.reverse?v.MAX_KEY:v.MIN_KEY,oe)):X.unique?ve.continue(ve.key.slice(0,pe).concat(X.reverse?v.MIN_KEY:v.MAX_KEY,oe)):ve.continue()}},continuePrimaryKey:{value:function(we,Se){ve.continuePrimaryKey(kc(we,v.MAX_KEY,oe),Se)}},primaryKey:{get:function(){return ve.primaryKey}},key:{get:function(){var we=ve.key;return pe===1?we[0]:we.slice(0,pe)}},value:{get:function(){return ve.value}}})}}})}})}};function Ef(v,w,E,N){return E=E||{},N=N||"",o(v).forEach(function(R){var L,W,Y;p(w,R)?(L=v[R],W=w[R],typeof L=="object"&&typeof W=="object"&&L&&W?(Y=V(L))!==V(W)?E[N+R]=w[R]:Y==="Object"?Ef(L,W,E,N+R+"."):L!==W&&(E[N+R]=w[R]):L!==W&&(E[N+R]=w[R])):E[N+R]=void 0}),o(w).forEach(function(R){p(v,R)||(E[N+R]=w[R])}),E}function Ec(v,w){return w.type==="delete"?w.keys:w.keys||w.values.map(v.extractKey)}var x1={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(v){return r(r({},v),{table:function(w){var E=v.table(w),N=E.schema.primaryKey;return r(r({},E),{mutate:function(R){var L=qe.trans,W=L.table(w).hook,Y=W.deleting,se=W.creating,ae=W.updating;switch(R.type){case"add":if(se.fire===Nt)break;return L._promise("readwrite",function(){return de(R)},!0);case"put":if(se.fire===Nt&&ae.fire===Nt)break;return L._promise("readwrite",function(){return de(R)},!0);case"delete":if(Y.fire===Nt)break;return L._promise("readwrite",function(){return de(R)},!0);case"deleteRange":if(Y.fire===Nt)break;return L._promise("readwrite",function(){return function X(he,oe,ce){return E.query({trans:he,values:!1,query:{index:N,range:oe},limit:ce}).then(function(pe){var ue=pe.result;return de({type:"delete",keys:ue,trans:he}).then(function(ve){return 0<ve.numFailures?Promise.reject(ve.failures[0]):ue.length<ce?{failures:[],numFailures:0,lastResult:void 0}:X(he,r(r({},oe),{lower:ue[ue.length-1],lowerOpen:!0}),ce)})})}(R.trans,R.range,1e4)},!0)}return E.mutate(R);function de(X){var he,oe,ce,pe=qe.trans,ue=X.keys||Ec(N,X);if(!ue)throw new Error("Keys missing");return(X=X.type==="add"||X.type==="put"?r(r({},X),{keys:ue}):r({},X)).type!=="delete"&&(X.values=i([],X.values)),X.keys&&(X.keys=i([],X.keys)),he=E,ce=ue,((oe=X).type==="add"?Promise.resolve([]):he.getMany({trans:oe.trans,keys:ce,cache:"immutable"})).then(function(ve){var we=ue.map(function(Se,ke){var Le,He,Fe,ze=ve[ke],We={onerror:null,onsuccess:null};return X.type==="delete"?Y.fire.call(We,Se,ze,pe):X.type==="add"||ze===void 0?(Le=se.fire.call(We,Se,X.values[ke],pe),Se==null&&Le!=null&&(X.keys[ke]=Se=Le,N.outbound||M(X.values[ke],N.keyPath,Se))):(Le=Ef(ze,X.values[ke]),(He=ae.fire.call(We,Le,Se,ze,pe))&&(Fe=X.values[ke],Object.keys(He).forEach(function($e){p(Fe,$e)?Fe[$e]=He[$e]:M(Fe,$e,He[$e])}))),We});return E.mutate(X).then(function(Se){for(var ke=Se.failures,Le=Se.results,He=Se.numFailures,Se=Se.lastResult,Fe=0;Fe<ue.length;++Fe){var ze=(Le||ue)[Fe],We=we[Fe];ze==null?We.onerror&&We.onerror(ke[Fe]):We.onsuccess&&We.onsuccess(X.type==="put"&&ve[Fe]?X.values[Fe]:ze)}return{failures:ke,results:Le,numFailures:He,lastResult:Se}}).catch(function(Se){return we.forEach(function(ke){return ke.onerror&&ke.onerror(Se)}),Promise.reject(Se)})})}}})}})}};function Kp(v,w,E){try{if(!w||w.keys.length<v.length)return null;for(var N=[],R=0,L=0;R<w.keys.length&&L<v.length;++R)mt(w.keys[R],v[L])===0&&(N.push(E?re(w.values[R]):w.values[R]),++L);return N.length===v.length?N:null}catch{return null}}var b1={stack:"dbcore",level:-1,create:function(v){return{table:function(w){var E=v.table(w);return r(r({},E),{getMany:function(N){if(!N.cache)return E.getMany(N);var R=Kp(N.keys,N.trans._cache,N.cache==="clone");return R?Qe.resolve(R):E.getMany(N).then(function(L){return N.trans._cache={keys:N.keys,values:N.cache==="clone"?re(L):L},L})},mutate:function(N){return N.type!=="add"&&(N.trans._cache=null),E.mutate(N)}})}}}};function Gp(v,w){return v.trans.mode==="readonly"&&!!v.subscr&&!v.trans.explicit&&v.trans.db._options.cache!=="disabled"&&!w.schema.primaryKey.outbound}function Yp(v,w){switch(v){case"query":return w.values&&!w.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var w1={stack:"dbcore",level:0,name:"Observability",create:function(v){var w=v.schema.name,E=new or(v.MIN_KEY,v.MAX_KEY);return r(r({},v),{transaction:function(N,R,L){if(qe.subscr&&R!=="readonly")throw new Ie.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(qe.querier));return v.transaction(N,R,L)},table:function(N){var R=v.table(N),L=R.schema,W=L.primaryKey,X=L.indexes,Y=W.extractKey,se=W.outbound,ae=W.autoIncrement&&X.filter(function(oe){return oe.compound&&oe.keyPath.includes(W.keyPath)}),de=r(r({},R),{mutate:function(oe){function ce($e){return $e="idb://".concat(w,"/").concat(N,"/").concat($e),Se[$e]||(Se[$e]=new or)}var pe,ue,ve,we=oe.trans,Se=oe.mutatedParts||(oe.mutatedParts={}),ke=ce(""),Le=ce(":dels"),He=oe.type,We=oe.type==="deleteRange"?[oe.range]:oe.type==="delete"?[oe.keys]:oe.values.length<50?[Ec(W,oe).filter(function($e){return $e}),oe.values]:[],Fe=We[0],ze=We[1],We=oe.trans._cache;return a(Fe)?(ke.addKeys(Fe),(We=He==="delete"||Fe.length===ze.length?Kp(Fe,We):null)||Le.addKeys(Fe),(We||ze)&&(pe=ce,ue=We,ve=ze,L.indexes.forEach(function($e){var Xe=pe($e.name||"");function St(Lt){return Lt!=null?$e.extractKey(Lt):null}function Tt(Lt){return $e.multiEntry&&a(Lt)?Lt.forEach(function(Kr){return Xe.addKey(Kr)}):Xe.addKey(Lt)}(ue||ve).forEach(function(Lt,xr){var _t=ue&&St(ue[xr]),xr=ve&&St(ve[xr]);mt(_t,xr)!==0&&(_t!=null&&Tt(_t),xr!=null&&Tt(xr))})}))):Fe?(ze={from:(ze=Fe.lower)!==null&&ze!==void 0?ze:v.MIN_KEY,to:(ze=Fe.upper)!==null&&ze!==void 0?ze:v.MAX_KEY},Le.add(ze),ke.add(ze)):(ke.add(E),Le.add(E),L.indexes.forEach(function($e){return ce($e.name).add(E)})),R.mutate(oe).then(function($e){return!Fe||oe.type!=="add"&&oe.type!=="put"||(ke.addKeys($e.results),ae&&ae.forEach(function(Xe){for(var St=oe.values.map(function(_t){return Xe.extractKey(_t)}),Tt=Xe.keyPath.findIndex(function(_t){return _t===W.keyPath}),Lt=0,Kr=$e.results.length;Lt<Kr;++Lt)St[Lt][Tt]=$e.results[Lt];ce(Xe.name).addKeys(St)})),we.mutatedParts=_c(we.mutatedParts||{},Se),$e})}}),X=function(ce){var pe=ce.query,ce=pe.index,pe=pe.range;return[ce,new or((ce=pe.lower)!==null&&ce!==void 0?ce:v.MIN_KEY,(pe=pe.upper)!==null&&pe!==void 0?pe:v.MAX_KEY)]},he={get:function(oe){return[W,new or(oe.key)]},getMany:function(oe){return[W,new or().addKeys(oe.keys)]},count:X,query:X,openCursor:X};return o(he).forEach(function(oe){de[oe]=function(ce){var pe=qe.subscr,ue=!!pe,ve=Gp(qe,R)&&Yp(oe,ce)?ce.obsSet={}:pe;if(ue){var we=function(ze){return ze="idb://".concat(w,"/").concat(N,"/").concat(ze),ve[ze]||(ve[ze]=new or)},Se=we(""),ke=we(":dels"),pe=he[oe](ce),ue=pe[0],pe=pe[1];if((oe==="query"&&ue.isPrimaryKey&&!ce.values?ke:we(ue.name||"")).add(pe),!ue.isPrimaryKey){if(oe!=="count"){var Le=oe==="query"&&se&&ce.values&&R.query(r(r({},ce),{values:!1}));return R[oe].apply(this,arguments).then(function(ze){if(oe==="query"){if(se&&ce.values)return Le.then(function(St){return St=St.result,Se.addKeys(St),ze});var We=ce.values?ze.result.map(Y):ze.result;(ce.values?Se:ke).addKeys(We)}else if(oe==="openCursor"){var $e=ze,Xe=ce.values;return $e&&Object.create($e,{key:{get:function(){return ke.addKey($e.primaryKey),$e.key}},primaryKey:{get:function(){var St=$e.primaryKey;return ke.addKey(St),St}},value:{get:function(){return Xe&&Se.addKey($e.primaryKey),$e.value}}})}return ze})}ke.add(E)}}return R[oe].apply(this,arguments)}}),de}})}};function Xp(v,w,E){if(E.numFailures===0)return w;if(w.type==="deleteRange")return null;var N=w.keys?w.keys.length:"values"in w&&w.values?w.values.length:1;return E.numFailures===N?null:(w=r({},w),a(w.keys)&&(w.keys=w.keys.filter(function(R,L){return!(L in E.failures)})),"values"in w&&a(w.values)&&(w.values=w.values.filter(function(R,L){return!(L in E.failures)})),w)}function Gl(v,w){return E=v,((N=w).lower===void 0||(N.lowerOpen?0<mt(E,N.lower):0<=mt(E,N.lower)))&&(v=v,(w=w).upper===void 0||(w.upperOpen?mt(v,w.upper)<0:mt(v,w.upper)<=0));var E,N}function Ma(v,w,he,N,R,L){if(!he||he.length===0)return v;var W=w.query.index,Y=W.multiEntry,se=w.query.range,ae=N.schema.primaryKey.extractKey,de=W.extractKey,X=(W.lowLevelIndex||W).extractKey,he=he.reduce(function(oe,ce){var pe=oe,ue=[];if(ce.type==="add"||ce.type==="put")for(var ve=new or,we=ce.values.length-1;0<=we;--we){var Se,ke=ce.values[we],Le=ae(ke);ve.hasKey(Le)||(Se=de(ke),(Y&&a(Se)?Se.some(function($e){return Gl($e,se)}):Gl(Se,se))&&(ve.addKey(Le),ue.push(ke)))}switch(ce.type){case"add":var He=new or().addKeys(w.values?oe.map(function(Xe){return ae(Xe)}):oe),pe=oe.concat(w.values?ue.filter(function(Xe){return Xe=ae(Xe),!He.hasKey(Xe)&&(He.addKey(Xe),!0)}):ue.map(function(Xe){return ae(Xe)}).filter(function(Xe){return!He.hasKey(Xe)&&(He.addKey(Xe),!0)}));break;case"put":var Fe=new or().addKeys(ce.values.map(function(Xe){return ae(Xe)}));pe=oe.filter(function(Xe){return!Fe.hasKey(w.values?ae(Xe):Xe)}).concat(w.values?ue:ue.map(function(Xe){return ae(Xe)}));break;case"delete":var ze=new or().addKeys(ce.keys);pe=oe.filter(function(Xe){return!ze.hasKey(w.values?ae(Xe):Xe)});break;case"deleteRange":var We=ce.range;pe=oe.filter(function(Xe){return!Gl(ae(Xe),We)})}return pe},v);return he===v?v:(he.sort(function(oe,ce){return mt(X(oe),X(ce))||mt(ae(oe),ae(ce))}),w.limit&&w.limit<1/0&&(he.length>w.limit?he.length=w.limit:v.length===w.limit&&he.length<w.limit&&(R.dirty=!0)),L?Object.freeze(he):he)}function Jp(v,w){return mt(v.lower,w.lower)===0&&mt(v.upper,w.upper)===0&&!!v.lowerOpen==!!w.lowerOpen&&!!v.upperOpen==!!w.upperOpen}function Zp(v,w){return function(E,N,R,L){if(E===void 0)return N!==void 0?-1:0;if(N===void 0)return 1;if((N=mt(E,N))===0){if(R&&L)return 0;if(R)return 1;if(L)return-1}return N}(v.lower,w.lower,v.lowerOpen,w.lowerOpen)<=0&&0<=function(E,N,R,L){if(E===void 0)return N!==void 0?1:0;if(N===void 0)return-1;if((N=mt(E,N))===0){if(R&&L)return 0;if(R)return-1;if(L)return 1}return N}(v.upper,w.upper,v.upperOpen,w.upperOpen)}function em(v,w,E,N){v.subscribers.add(E),N.addEventListener("abort",function(){var R,L;v.subscribers.delete(E),v.subscribers.size===0&&(R=v,L=w,setTimeout(function(){R.subscribers.size===0&&Z(L,R)},3e3))})}var tm={stack:"dbcore",level:0,name:"Cache",create:function(v){var w=v.schema.name;return r(r({},v),{transaction:function(E,N,R){var L,W,Y=v.transaction(E,N,R);return N==="readwrite"&&(W=(L=new AbortController).signal,R=function(se){return function(){if(L.abort(),N==="readwrite"){for(var ae=new Set,de=0,X=E;de<X.length;de++){var he=X[de],oe=zo["idb://".concat(w,"/").concat(he)];if(oe){var ce=v.table(he),pe=oe.optimisticOps.filter(function(Xe){return Xe.trans===Y});if(Y._explicit&&se&&Y.mutatedParts)for(var ue=0,ve=Object.values(oe.queries.query);ue<ve.length;ue++)for(var we=0,Se=(He=ve[ue]).slice();we<Se.length;we++)Sf((Fe=Se[we]).obsSet,Y.mutatedParts)&&(Z(He,Fe),Fe.subscribers.forEach(function(Xe){return ae.add(Xe)}));else if(0<pe.length){oe.optimisticOps=oe.optimisticOps.filter(function(Xe){return Xe.trans!==Y});for(var ke=0,Le=Object.values(oe.queries.query);ke<Le.length;ke++)for(var He,Fe,ze,We=0,$e=(He=Le[ke]).slice();We<$e.length;We++)(Fe=$e[We]).res!=null&&Y.mutatedParts&&(se&&!Fe.dirty?(ze=Object.isFrozen(Fe.res),ze=Ma(Fe.res,Fe.req,pe,ce,Fe,ze),Fe.dirty?(Z(He,Fe),Fe.subscribers.forEach(function(Xe){return ae.add(Xe)})):ze!==Fe.res&&(Fe.res=ze,Fe.promise=Qe.resolve({result:ze}))):(Fe.dirty&&Z(He,Fe),Fe.subscribers.forEach(function(Xe){return ae.add(Xe)})))}}}ae.forEach(function(Xe){return Xe()})}}},Y.addEventListener("abort",R(!1),{signal:W}),Y.addEventListener("error",R(!1),{signal:W}),Y.addEventListener("complete",R(!0),{signal:W})),Y},table:function(E){var N=v.table(E),R=N.schema.primaryKey;return r(r({},N),{mutate:function(L){var W=qe.trans;if(R.outbound||W.db._options.cache==="disabled"||W.explicit||W.idbtrans.mode!=="readwrite")return N.mutate(L);var Y=zo["idb://".concat(w,"/").concat(E)];return Y?(W=N.mutate(L),L.type!=="add"&&L.type!=="put"||!(50<=L.values.length||Ec(R,L).some(function(se){return se==null}))?(Y.optimisticOps.push(L),L.mutatedParts&&Cc(L.mutatedParts),W.then(function(se){0<se.numFailures&&(Z(Y.optimisticOps,L),(se=Xp(0,L,se))&&Y.optimisticOps.push(se),L.mutatedParts&&Cc(L.mutatedParts))}),W.catch(function(){Z(Y.optimisticOps,L),L.mutatedParts&&Cc(L.mutatedParts)})):W.then(function(se){var ae=Xp(0,r(r({},L),{values:L.values.map(function(de,X){var he;return se.failures[X]?de:(de=(he=R.keyPath)!==null&&he!==void 0&&he.includes(".")?re(de):r({},de),M(de,R.keyPath,se.results[X]),de)})}),se);Y.optimisticOps.push(ae),queueMicrotask(function(){return L.mutatedParts&&Cc(L.mutatedParts)})}),W):N.mutate(L)},query:function(L){if(!Gp(qe,N)||!Yp("query",L))return N.query(L);var W=((ae=qe.trans)===null||ae===void 0?void 0:ae.db._options.cache)==="immutable",X=qe,Y=X.requery,se=X.signal,ae=function(ce,pe,ue,ve){var we=zo["idb://".concat(ce,"/").concat(pe)];if(!we)return[];if(!(pe=we.queries[ue]))return[null,!1,we,null];var Se=pe[(ve.query?ve.query.index.name:null)||""];if(!Se)return[null,!1,we,null];switch(ue){case"query":var ke=Se.find(function(Le){return Le.req.limit===ve.limit&&Le.req.values===ve.values&&Jp(Le.req.query.range,ve.query.range)});return ke?[ke,!0,we,Se]:[Se.find(function(Le){return("limit"in Le.req?Le.req.limit:1/0)>=ve.limit&&(!ve.values||Le.req.values)&&Zp(Le.req.query.range,ve.query.range)}),!1,we,Se];case"count":return ke=Se.find(function(Le){return Jp(Le.req.query.range,ve.query.range)}),[ke,!!ke,we,Se]}}(w,E,"query",L),de=ae[0],X=ae[1],he=ae[2],oe=ae[3];return de&&X?de.obsSet=L.obsSet:(X=N.query(L).then(function(ce){var pe=ce.result;if(de&&(de.res=pe),W){for(var ue=0,ve=pe.length;ue<ve;++ue)Object.freeze(pe[ue]);Object.freeze(pe)}else ce.result=re(pe);return ce}).catch(function(ce){return oe&&de&&Z(oe,de),Promise.reject(ce)}),de={obsSet:L.obsSet,promise:X,subscribers:new Set,type:"query",req:L,dirty:!1},oe?oe.push(de):(oe=[de],(he=he||(zo["idb://".concat(w,"/").concat(E)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[L.query.index.name||""]=oe)),em(de,oe,Y,se),de.promise.then(function(ce){return{result:Ma(ce.result,L,he?.optimisticOps,N,de,W)}})}})}})}};function Yl(v,w){return new Proxy(v,{get:function(E,N,R){return N==="db"?w:Reflect.get(E,N,R)}})}var ys=(kn.prototype.version=function(v){if(isNaN(v)||v<.1)throw new Ie.Type("Given version is not a positive number");if(v=Math.round(10*v)/10,this.idbdb||this._state.isBeingOpened)throw new Ie.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,v);var w=this._versions,E=w.filter(function(N){return N._cfg.version===v})[0];return E||(E=new this.Version(v),w.push(E),w.sort(Wp),E.stores({}),this._state.autoSchema=!1,E)},kn.prototype._whenReady=function(v){var w=this;return this.idbdb&&(this._state.openComplete||qe.letThrough||this._vip)?v():new Qe(function(E,N){if(w._state.openComplete)return N(new Ie.DatabaseClosed(w._state.dbOpenError));if(!w._state.isBeingOpened){if(!w._state.autoOpen)return void N(new Ie.DatabaseClosed);w.open().catch(Nt)}w._state.dbReadyPromise.then(E,N)}).then(v)},kn.prototype.use=function(v){var w=v.stack,E=v.create,N=v.level,R=v.name;return R&&this.unuse({stack:w,name:R}),v=this._middlewares[w]||(this._middlewares[w]=[]),v.push({stack:w,create:E,level:N??10,name:R}),v.sort(function(L,W){return L.level-W.level}),this},kn.prototype.unuse=function(v){var w=v.stack,E=v.name,N=v.create;return w&&this._middlewares[w]&&(this._middlewares[w]=this._middlewares[w].filter(function(R){return N?R.create!==N:!!E&&R.name!==E})),this},kn.prototype.open=function(){var v=this;return Ir(jr,function(){return y1(v)})},kn.prototype._close=function(){var v=this._state,w=di.indexOf(this);if(0<=w&&di.splice(w,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}v.isBeingOpened||(v.dbReadyPromise=new Qe(function(E){v.dbReadyResolve=E}),v.openCanceller=new Qe(function(E,N){v.cancelOpen=N}))},kn.prototype.close=function(E){var w=(E===void 0?{disableAutoOpen:!0}:E).disableAutoOpen,E=this._state;w?(E.isBeingOpened&&E.cancelOpen(new Ie.DatabaseClosed),this._close(),E.autoOpen=!1,E.dbOpenError=new Ie.DatabaseClosed):(this._close(),E.autoOpen=this._options.autoOpen||E.isBeingOpened,E.openComplete=!1,E.dbOpenError=null)},kn.prototype.delete=function(v){var w=this;v===void 0&&(v={disableAutoOpen:!0});var E=0<arguments.length&&typeof arguments[0]!="object",N=this._state;return new Qe(function(R,L){function W(){w.close(v);var Y=w._deps.indexedDB.deleteDatabase(w.name);Y.onsuccess=je(function(){var se,ae,de;se=w._deps,ae=w.name,de=se.indexedDB,se=se.IDBKeyRange,Vl(de)||ae===ms||_f(de,se).delete(ae).catch(Nt),R()}),Y.onerror=Qr(L),Y.onblocked=w._fireOnBlocked}if(E)throw new Ie.InvalidArgument("Invalid closeOptions argument to db.delete()");N.isBeingOpened?N.dbReadyPromise.then(W):W()})},kn.prototype.backendDB=function(){return this.idbdb},kn.prototype.isOpen=function(){return this.idbdb!==null},kn.prototype.hasBeenClosed=function(){var v=this._state.dbOpenError;return v&&v.name==="DatabaseClosed"},kn.prototype.hasFailed=function(){return this._state.dbOpenError!==null},kn.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(kn.prototype,"tables",{get:function(){var v=this;return o(this._allTables).map(function(w){return v._allTables[w]})},enumerable:!1,configurable:!0}),kn.prototype.transaction=function(){var v=(function(w,E,N){var R=arguments.length;if(R<2)throw new Ie.InvalidArgument("Too few arguments");for(var L=new Array(R-1);--R;)L[R-1]=arguments[R];return N=L.pop(),[w,D(L),N]}).apply(this,arguments);return this._transaction.apply(this,v)},kn.prototype._transaction=function(v,w,E){var N=this,R=qe.trans;R&&R.db===this&&v.indexOf("!")===-1||(R=null);var L,W,Y=v.indexOf("?")!==-1;v=v.replace("!","").replace("?","");try{if(W=w.map(function(ae){if(ae=ae instanceof N.Table?ae.name:ae,typeof ae!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return ae}),v=="r"||v===Kt)L=Kt;else{if(v!="rw"&&v!=er)throw new Ie.InvalidArgument("Invalid transaction mode: "+v);L=er}if(R){if(R.mode===Kt&&L===er){if(!Y)throw new Ie.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");R=null}R&&W.forEach(function(ae){if(R&&R.storeNames.indexOf(ae)===-1){if(!Y)throw new Ie.SubTransaction("Table "+ae+" not included in parent transaction.");R=null}}),Y&&R&&!R.active&&(R=null)}}catch(ae){return R?R._promise(null,function(de,X){X(ae)}):sn(ae)}var se=(function ae(de,X,he,oe,ce){return Qe.resolve().then(function(){var pe=qe.transless||qe,ue=de._createTransaction(X,he,de._dbSchema,oe);if(ue.explicit=!0,pe={trans:ue,transless:pe},oe)ue.idbtrans=oe.idbtrans;else try{ue.create(),ue.idbtrans._explicit=!0,de._state.PR1398_maxLoop=3}catch(Se){return Se.name===Ye.InvalidState&&de.isOpen()&&0<--de._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),de.close({disableAutoOpen:!1}),de.open().then(function(){return ae(de,X,he,null,ce)})):sn(Se)}var ve,we=G(ce);return we&&Rt(),pe=Qe.follow(function(){var Se;(ve=ce.call(ue,ue))&&(we?(Se=Ht.bind(null,null),ve.then(Se,Se)):typeof ve.next=="function"&&typeof ve.throw=="function"&&(ve=Kl(ve)))},pe),(ve&&typeof ve.then=="function"?Qe.resolve(ve).then(function(Se){return ue.active?Se:sn(new Ie.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):pe.then(function(){return ve})).then(function(Se){return oe&&ue._resolve(),ue._completion.then(function(){return Se})}).catch(function(Se){return ue._reject(Se),sn(Se)})})}).bind(null,this,L,W,R,E);return R?R._promise(L,se,"lock"):qe.trans?Ir(qe.transless,function(){return N._whenReady(se)}):this._whenReady(se)},kn.prototype.table=function(v){if(!p(this._allTables,v))throw new Ie.InvalidTable("Table ".concat(v," does not exist"));return this._allTables[v]},kn);function kn(v,w){var E=this;this._middlewares={},this.verno=0;var N=kn.dependencies;this._options=w=r({addons:kn.addons,autoOpen:!0,indexedDB:N.indexedDB,IDBKeyRange:N.IDBKeyRange,cache:"cloned"},w),this._deps={indexedDB:w.indexedDB,IDBKeyRange:w.IDBKeyRange},N=w.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var R,L,W,Y,se,ae={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:Nt,dbReadyPromise:null,cancelOpen:Nt,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:w.autoOpen};ae.dbReadyPromise=new Qe(function(X){ae.dbReadyResolve=X}),ae.openCanceller=new Qe(function(X,he){ae.cancelOpen=he}),this._state=ae,this.name=v,this.on=fo(this,"populate","blocked","versionchange","close",{ready:[wt,Nt]}),this.on.ready.subscribe=O(this.on.ready.subscribe,function(X){return function(he,oe){kn.vip(function(){var ce,pe=E._state;pe.openComplete?(pe.dbOpenError||Qe.resolve().then(he),oe&&X(he)):pe.onReadyBeingFired?(pe.onReadyBeingFired.push(he),oe&&X(he)):(X(he),ce=E,oe||X(function ue(){ce.on.ready.unsubscribe(he),ce.on.ready.unsubscribe(ue)}))})}}),this.Collection=(R=this,Ls(xn.prototype,function(ve,ue){this.db=R;var oe=Xi,ce=null;if(ue)try{oe=ue()}catch(we){ce=we}var pe=ve._ctx,ue=pe.table,ve=ue.hook.reading.fire;this._ctx={table:ue,index:pe.index,isPrimKey:!pe.index||ue.schema.primKey.keyPath&&pe.index===ue.schema.primKey.name,range:oe,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:ce,or:pe.or,valueMapper:ve!==jn?ve:null}})),this.Table=(L=this,Ls(Up.prototype,function(X,he,oe){this.db=L,this._tx=oe,this.name=X,this.schema=he,this.hook=L._allTables[X]?L._allTables[X].hook:fo(null,{creating:[Qi,Nt],reading:[ln,jn],updating:[Ki,Nt],deleting:[li,Nt]})})),this.Transaction=(W=this,Ls(Bl.prototype,function(X,he,oe,ce,pe){var ue=this;this.db=W,this.mode=X,this.storeNames=he,this.schema=oe,this.chromeTransactionDurability=ce,this.idbtrans=null,this.on=fo(this,"complete","error","abort"),this.parent=pe||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new Qe(function(ve,we){ue._resolve=ve,ue._reject=we}),this._completion.then(function(){ue.active=!1,ue.on.complete.fire()},function(ve){var we=ue.active;return ue.active=!1,ue.on.error.fire(ve),ue.parent?ue.parent._reject(ve):we&&ue.idbtrans&&ue.idbtrans.abort(),sn(ve)})})),this.Version=(Y=this,Ls(wf.prototype,function(X){this.db=Y,this._cfg={version:X,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(se=this,Ls(zs.prototype,function(X,he,oe){if(this.db=se,this._ctx={table:X,index:he===":id"?null:he,or:oe},this._cmp=this._ascending=mt,this._descending=function(ce,pe){return mt(pe,ce)},this._max=function(ce,pe){return 0<mt(ce,pe)?ce:pe},this._min=function(ce,pe){return mt(ce,pe)<0?ce:pe},this._IDBKeyRange=se._deps.IDBKeyRange,!this._IDBKeyRange)throw new Ie.MissingAPI})),this.on("versionchange",function(X){0<X.newVersion?console.warn("Another connection wants to upgrade database '".concat(E.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(E.name,"'. Closing db now to resume the delete request.")),E.close({disableAutoOpen:!1})}),this.on("blocked",function(X){!X.newVersion||X.newVersion<X.oldVersion?console.warn("Dexie.delete('".concat(E.name,"') was blocked")):console.warn("Upgrade '".concat(E.name,"' blocked by other connection holding version ").concat(X.oldVersion/10))}),this._maxKey=$l(w.IDBKeyRange),this._createTransaction=function(X,he,oe,ce){return new E.Transaction(X,he,oe,E._options.chromeTransactionDurability,ce)},this._fireOnBlocked=function(X){E.on("blocked").fire(X),di.filter(function(he){return he.name===E.name&&he!==E&&!he._state.vcFired}).map(function(he){return he.on("versionchange").fire(X)})},this.use(b1),this.use(tm),this.use(w1),this.use(v1),this.use(x1);var de=new Proxy(this,{get:function(X,he,oe){if(he==="_vip")return!0;if(he==="table")return function(pe){return Yl(E.table(pe),de)};var ce=Reflect.get(X,he,oe);return ce instanceof Up?Yl(ce,de):he==="tables"?ce.map(function(pe){return Yl(pe,de)}):he==="_createTransaction"?function(){return Yl(ce.apply(this,arguments),de)}:ce}});this.vip=de,N.forEach(function(X){return X(E)})}var Tc,ki=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",_1=(jc.prototype.subscribe=function(v,w,E){return this._subscribe(v&&typeof v!="function"?v:{next:v,error:w,complete:E})},jc.prototype[ki]=function(){return this},jc);function jc(v){this._subscribe=v}try{Tc={indexedDB:s.indexedDB||s.mozIndexedDB||s.webkitIndexedDB||s.msIndexedDB,IDBKeyRange:s.IDBKeyRange||s.webkitIDBKeyRange}}catch{Tc={indexedDB:null,IDBKeyRange:null}}function Tf(v){var w,E=!1,N=new _1(function(R){var L=G(v),W,Y=!1,se={},ae={},de={get closed(){return Y},unsubscribe:function(){Y||(Y=!0,W&&W.abort(),X&&Us.storagemutated.unsubscribe(oe))}};R.start&&R.start(de);var X=!1,he=function(){return ci(ce)},oe=function(pe){_c(se,pe),Sf(ae,se)&&he()},ce=function(){var pe,ue,ve;!Y&&Tc.indexedDB&&(se={},pe={},W&&W.abort(),W=new AbortController,ve=function(we){var Se=te();try{L&&Rt();var ke=tt(v,we);return ke=L?ke.finally(Ht):ke}finally{Se&&me()}}(ue={subscr:pe,signal:W.signal,requery:he,querier:v,trans:null}),Promise.resolve(ve).then(function(we){E=!0,w=we,Y||ue.signal.aborted||(se={},function(Se){for(var ke in Se)if(p(Se,ke))return;return 1}(ae=pe)||X||(Us(Ci,oe),X=!0),ci(function(){return!Y&&R.next&&R.next(we)}))},function(we){E=!1,["DatabaseClosedError","AbortError"].includes(we?.name)||Y||ci(function(){Y||R.error&&R.error(we)})}))};return setTimeout(he,0),de});return N.hasValue=function(){return E},N.getValue=function(){return w},N}var Zi=ys;function $o(v){var w=es;try{es=!0,Us.storagemutated.fire(v),kf(v,!0)}finally{es=w}}g(Zi,r(r({},Cn),{delete:function(v){return new Zi(v,{addons:[]}).delete()},exists:function(v){return new Zi(v,{addons:[]}).open().then(function(w){return w.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(v){try{return w=Zi.dependencies,E=w.indexedDB,w=w.IDBKeyRange,(Vl(E)?Promise.resolve(E.databases()).then(function(N){return N.map(function(R){return R.name}).filter(function(R){return R!==ms})}):_f(E,w).toCollection().primaryKeys()).then(v)}catch{return sn(new Ie.MissingAPI)}var w,E},defineClass:function(){return function(v){l(this,v)}},ignoreTransaction:function(v){return qe.trans?Ir(qe.transless,v):v()},vip:ql,async:function(v){return function(){try{var w=Kl(v.apply(this,arguments));return w&&typeof w.then=="function"?w:Qe.resolve(w)}catch(E){return sn(E)}}},spawn:function(v,w,E){try{var N=Kl(v.apply(E,w||[]));return N&&typeof N.then=="function"?N:Qe.resolve(N)}catch(R){return sn(R)}},currentTransaction:{get:function(){return qe.trans||null}},waitFor:function(v,w){return w=Qe.resolve(typeof v=="function"?Zi.ignoreTransaction(v):v).timeout(w||6e4),qe.trans?qe.trans.waitFor(w):w},Promise:Qe,debug:{get:function(){return un},set:function(v){pt(v)}},derive:_,extend:l,props:g,override:O,Events:fo,on:Us,liveQuery:Tf,extendObservabilitySet:_c,getByKeyPath:j,setByKeyPath:M,delByKeyPath:function(v,w){typeof w=="string"?M(v,w,void 0):"length"in w&&[].map.call(w,function(E){M(v,E,void 0)})},shallowClone:U,deepClone:re,getObjectDiff:Ef,cmp:mt,asap:B,minKey:-1/0,addons:[],connections:di,errnames:Ye,dependencies:Tc,cache:zo,semVer:"4.0.11",version:"4.0.11".split(".").map(function(v){return parseInt(v)}).reduce(function(v,w,E){return v+w/Math.pow(10,2*E)})})),Zi.maxKey=$l(Zi.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(Us(Ci,function(v){es||(v=new CustomEvent(xf,{detail:v}),es=!0,dispatchEvent(v),es=!1)}),addEventListener(xf,function(v){v=v.detail,es||$o(v)}));var Aa,es=!1,nm=function(){};return typeof BroadcastChannel<"u"&&((nm=function(){(Aa=new BroadcastChannel(xf)).onmessage=function(v){return v.data&&$o(v.data)}})(),typeof Aa.unref=="function"&&Aa.unref(),Us(Ci,function(v){es||Aa.postMessage(v)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(v){if(!ys.disableBfCache&&v.persisted){un&&console.debug("Dexie: handling persisted pagehide"),Aa?.close();for(var w=0,E=di;w<E.length;w++)E[w].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(v){!ys.disableBfCache&&v.persisted&&(un&&console.debug("Dexie: handling persisted pageshow"),nm(),$o({all:new or(-1/0,[[]])}))})),Qe.rejectionMapper=function(v,w){return!v||v instanceof H||v instanceof TypeError||v instanceof SyntaxError||!v.name||!ut[v.name]?v:(w=new ut[v.name](w||v.message,v),"stack"in v&&b(w,"stack",{get:function(){return this.inner.stack}}),w)},pt(un),r(ys,Object.freeze({__proto__:null,Dexie:ys,liveQuery:Tf,Entity:Oo,cmp:mt,PropModification:Fl,replacePrefix:function(v,w){return new Fl({replacePrefix:[v,w]})},add:function(v){return new Fl({add:v})},remove:function(v){return new Fl({remove:v})},default:ys,RangeSet:or,mergeRanges:Ql,rangesOverlap:Vp}),{default:ys}),ys})}(d0)),d0.exports}var jee=Tee();const Iw=Vi(jee),NE=Symbol.for("Dexie"),Z0=globalThis[NE]||(globalThis[NE]=Iw);if(Iw.semVer!==Z0.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${Iw.semVer} and ${Z0.semVer}`);const{liveQuery:Iee,mergeRanges:Upe,rangesOverlap:Hpe,RangeSet:Wpe,cmp:Vpe,Entity:qpe,PropModification:Qpe,replacePrefix:Kpe,add:Gpe,remove:Ype}=Z0;class Nee extends Z0{interested_snapshot;interested_subject;simulation_run;simulation_run_selections;simulation_run_events;constructor(){super("ALLCLL_Simulation"),this.version(1).stores({interested_snapshot:"++snapshot_id,user_id,created_at,simulated",interested_subject:"++interested_id,snapshot_id,subject_id",simulation_run:"++simulation_run_id,snapshot_id,user_id,department_name,success_subject_count,subject_count,accuracy,score,total_elapsed,started_at,ended_at",simulation_run_selections:"++run_selections_id,simulation_run_id,interested_id,selected_index,status,started_at,ended_at",simulation_run_events:"++event_id,simulation_section_id,event_type,timestamp"})}}const kt=new Nee;async function vI(){const e=await kt.interested_snapshot.orderBy("created_at").last();if(!e)return null;const t=await kt.interested_subject.where("snapshot_id").equals(e.snapshot_id).toArray();return{...e,subjects:t}}async function xI(e){const t=await kt.interested_snapshot.get(e);if(!t)return null;const n=await kt.interested_subject.where("snapshot_id").equals(e).toArray();return{...t,subjects:n}}async function Pee(e){const t=await kt.interested_snapshot.orderBy("created_at").last(),n=t&&!t.simulated?t.snapshot_id:await kt.interested_snapshot.add({user_id:"Todo: user_id",created_at:Date.now(),simulated:!1});t&&!t.simulated&&(await kt.interested_snapshot.update(t.snapshot_id,{created_at:Date.now()}),await kt.interested_subject.where("snapshot_id").equals(t.snapshot_id).delete()),await kt.interested_subject.bulkAdd(e.map(r=>({snapshot_id:n,subject_id:r})))}async function PE(e,t){const n=await kt.interested_subject.where("snapshot_id").equals(e).filter(r=>r.subject_id===t).first();return n?n.interested_id:-1}async function Ree(){const e=await sp();if("errMsg"in e)throw new Error(e.errMsg);return e}const Oee=["","","1","","","","","","","","","","","","","","","English Listening","English Reading"],Mee=(e,t,n)=>{const r=e.find(s=>s.subjectId===t);let i=40;return r?.departmentName===""&&(Oee.includes(r.subjectName)?i=4.6*3:i=4.6*4),console.log(n,i),n<i},Gy=oi(e=>({currentSubjectId:0,isCaptchaFailed:!1,subjectStatusMap:{},setCurrentSubjectId:t=>e({currentSubjectId:t}),setSubjectStatus:(t,n)=>e(r=>({subjectStatusMap:{...r.subjectStatusMap,[t]:n}})),setCaptchaFailed:t=>e({isCaptchaFailed:t})}));var yr=(e=>(e[e.SEARCH=0]="SEARCH",e[e.APPLY=1]="APPLY",e[e.CAPTCHA=2]="CAPTCHA",e[e.CANCEL_SUBMIT=3]="CANCEL_SUBMIT",e[e.SUBJECT_SUBMIT=4]="SUBJECT_SUBMIT",e[e.REFRESH=5]="REFRESH",e[e.SKIP_REFRESH=6]="SKIP_REFRESH",e))(yr||{}),hn=(e=>(e[e.PROGRESS=0]="PROGRESS",e[e.SUCCESS=1]="SUCCESS",e[e.FAILED=2]="FAILED",e[e.DOUBLED=3]="DOUBLED",e[e.CAPTCHA_FAILED=4]="CAPTCHA_FAILED",e[e.NOT_ELIGIBLE=5]="NOT_ELIGIBLE",e[e.CANCELED=6]="CANCELED",e))(hn||{}),bI=(e=>(e.SNAPSHOT_NOT_EXIST="SNAPSHOT_NOT_EXIST",e.ONGOING_SIMULATION_NOT_FOUND="ONGOING_SIMULATION_NOT_FOUND",e.SELECTION_NOT_FOUND="SELECTION_NOT_FOUND",e.SIMULATION_NOT_FOUND="SIMULATION_NOT_FOUND",e.MULTIPLE_SIMULATION_FOUND="MULTIPLE_SIMULATION_FOUND",e.SIMULATION_IS_NOT_FINISHED="SIMULATION_IS_NOT_FINISHED",e.MULTIPLE_SIMULATION_RUNNING="MULTIPLE_SIMULATION_RUNNING",e.UNKNOWN_ERROR="UNKNOWN_ERROR",e))(bI||{});const $_=300,Aee=$_*1e3;function Cl(e){return{errMsg:e}}function wI(e){return e instanceof Error?Cl(e.message):Cl("UNKNOWN_ERROR")}async function sp(){try{const e=await Yy();if(!e)return{simulationId:-1};const t=await kt.simulation_run_selections.filter(a=>Xy(a,e.simulation_run_id)).toArray(),n=await kt.interested_subject.where("snapshot_id").equals(e.snapshot_id).toArray();if(!n)return Cl("SNAPSHOT_NOT_EXIST");const r=t.filter(a=>a.status===1),i=n.filter(a=>r.some(l=>l.interested_id===a.interested_id)).map(a=>({subjectId:a.subject_id})),s=n.filter(a=>!r.some(l=>l.interested_id===a.interested_id)).map(a=>({subjectId:a.subject_id})),o=t.map(a=>{const l=n.find(c=>c.interested_id===a.interested_id);return l?{subjectId:l.subject_id,status:a.status}:{subjectId:-1,status:2}});return{simulationId:e.simulation_run_id,userStatus:{userPK:e.user_id,departmentCode:e.department_code,departmentName:e.department_name},searchEventAt:e.search_event_at,startedAt:e.started_at,nonRegisteredSubjects:s,registeredSubjects:i,subjectStatus:o}}catch(e){return wI(e)}}async function Yy(){const e=await kt.simulation_run.filter(t=>t.ended_at===-1).toArray();if(e&&e.length>1)throw new Error("MULTIPLE_SIMULATION_RUNNING");return e[0]??null}async function Dee(e){const t=await kt.simulation_run.where("simulation_run_id").equals(e).filter(n=>n.ended_at!==-1).toArray();if(!t.length)throw new Error("SIMULATION_NOT_FOUND");if(t.length>1)throw new Error("MULTIPLE_SIMULATION_FOUND");return t[0]}async function Lee(e,t,n){const r=await sp();if(r&&"errMsg"in r)return r;if(r.simulationId!==-1)return{simulationId:r.simulationId,isRunning:!0};const i=await vI();if(!i)return Cl("SNAPSHOT_NOT_EXIST");await kt.interested_snapshot.update(i.snapshot_id,{simulated:!0});const s=i.subjects;return{simulationId:await kt.simulation_run.add({snapshot_id:i.snapshot_id,user_id:e,department_code:t,department_name:n,success_subject_count:0,subject_count:s.length,accuracy:-1,score:-1,total_elapsed:-1,search_event_at:-1,started_at:Date.now(),ended_at:-1}),started_at:Date.now(),isRunning:!0}}async function aa(e,t){const{eventType:n}=e;console.log("BUTTON EVENT",e);let r;try{if(r=await Yy(),!r)throw new Error("ONGOING_SIMULATION_NOT_FOUND")}catch(c){return wI(c)}const i=r.simulation_run_id;if(n===0){const c=Date.now();return await kt.simulation_run.update(i,{search_event_at:c}),{elapsed_time:c-r.started_at}}const{subjectId:s}=e;if(n===1){const c=await kt.simulation_run_selections.filter(p=>p.simulation_run_id===r.simulation_run_id&&p.ended_at>=0).count(),f=await kt.simulation_run_selections.add({simulation_run_id:r.simulation_run_id,interested_id:await PE(r.snapshot_id,s),selected_index:c+1,status:0,started_at:Date.now(),ended_at:-1});return await kt.simulation_run_events.add({simulation_section_id:f,event_type:n,timestamp:Date.now()}),{}}const o=await kt.simulation_run_selections.filter(c=>c.simulation_run_id===i).toArray(),a=o.filter(c=>c.ended_at===-1).sort((c,f)=>f.started_at-c.started_at)[0];if(!a)return Cl("SELECTION_NOT_FOUND");const l=Date.now();if(await kt.simulation_run_events.add({simulation_section_id:a.run_selections_id,event_type:n,timestamp:l}),n===4){const c=await PE(r.snapshot_id,s);if(!await kt.simulation_run_selections.filter(k=>k.simulation_run_id===i&&k.interested_id===c).last())return Cl("SELECTION_NOT_FOUND");const p=async k=>(await kt.simulation_run_selections.update(a.run_selections_id,{status:k}),console.log("saved section",a.run_selections_id,k),{status:k});if(Gy.getState().isCaptchaFailed)return await p(4);if(o.some(k=>k.interested_id===c&&k.status===2))return await p(3),{status:2};if(o.some(k=>k.interested_id===c&&k.ended_at>=0&&Xy(k,i)))return await p(3);const _=Math.floor(l-r.started_at)/1e3;return Mee(t,s,_)?await p(1):await p(2)}if(n===3&&await kt.simulation_run_selections.update(a.run_selections_id,{status:6,ended_at:Date.now()}),n===5||n===6){await kt.simulation_run_selections.update(a.run_selections_id,{ended_at:Date.now()});const c=await Bee();return c&&await _I(),{finished:c}}return{}}async function Rd(){await _I()}async function _I(){const e=await kt.simulation_run.filter(l=>l.ended_at<=-1).last();if(!e)return;const t=await kt.simulation_run_selections.filter(l=>l.simulation_run_id===e.simulation_run_id).toArray(),n=t.filter(l=>Xy(l,e.simulation_run_id)).length,i=t.filter(l=>$ee(l,e.simulation_run_id)).reduce((l,c)=>c.ended_at===-1?l+4600:l+(c.ended_at-c.started_at),0),s=Date.now()-e.started_at,o=see(s/1e3,i/1e3),a=Qy(s/1e3/n)+iee(o);await kt.simulation_run.update(e.simulation_run_id,{ended_at:Date.now(),accuracy:o,score:Math.min(100,Math.max(0,a)),total_elapsed:s}),await zee(e)}async function Fee({simulationId:e}){const t=await kt.simulation_run.get(e);return t?t.ended_at===-1?Cl("SIMULATION_IS_NOT_FINISHED"):{accuracy:t.accuracy,score:t.score,total_elapsed:t.total_elapsed}:Cl("SIMULATION_NOT_FOUND")}async function Bee(){let e;try{e=await Yy()}catch{return!0}if(!e)return!0;const t=await kt.simulation_run_selections.filter(n=>Xy(n,e.simulation_run_id)).toArray();return e.subject_count<=t.length}async function zee(e){const t=e.simulation_run_id;return e.search_event_at<0?(await kt.simulation_run_selections.where("simulation_run_id").equals(t).delete(),await kt.simulation_run.delete(t),!0):(e.started_at+Aee<Date.now()&&await kt.simulation_run.update(t,{ended_at:Date.now()}),!1)}const SI=(e,t)=>e.simulation_run_id===t,Xy=(e,t)=>SI(e,t)&&[1,2].includes(e.status),$ee=(e,t)=>SI(e,t)&&![1,2].includes(e.status);function Jy(e){return e>5?"text-green-500 bg-green-100":e>0?"text-yellow-500 bg-yellow-100":e==0?"text-red-500 bg-red-100":"text-gray-500 bg-gray-100"}function Uee(e){return e>=100?"text-red-500 bg-red-100":e>=50?"text-yellow-500 bg-yellow-100":e>=0?"text-green-500 bg-green-100":"text-gray-500 bg-gray-100"}function Hee(e){return Wee(Nw(e))}function Nw(e){switch(e){case hn.SUCCESS:return"green";case hn.FAILED:return"red";case hn.CAPTCHA_FAILED:return"orange";case hn.PROGRESS:return"yellow";default:return"gray"}}function Wee(e){switch(e){case"green":return"bg-green-100 text-green-500";case"red":return"bg-red-100 text-red-500";case"orange":return"bg-orange-100 text-orange-500";case"yellow":return"bg-yellow-100 text-yellow-500";default:return"bg-gray-100 text-gray-500"}}function CI(e){return e==null?"default":e>5?"success":e>0?"warning":e==0?"danger":"default"}function Vee(e){return e==null?"default":e>=100?"danger":e>=50?"warning":e>=0?"success":"default"}function kI({wishCount:e,formatter:t=n=>n}){const n=e!=null&&e>=0,r=Vee(e),i=n?e:"-";return h.jsx(Fu,{variant:r,children:t(i)})}_a.register(jp,Ip,Np,uf,lf);const qee={labels:["","","",""],datasets:[{data:[40,25,20,15],backgroundColor:Pp}]};function Qee(){return h.jsxs(ic,{children:[h.jsx(Ly,{title:" ",href:"/wishes"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-6",children:[h.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[h.jsx(qt,{level:3,children:" "}),h.jsx("div",{className:"flex align-center justify-center max-h-96",children:h.jsx(gI,{data:qee})})]}),h.jsxs("div",{className:"bg-white p-6 shadow-md rounded-md",children:[h.jsx(qt,{level:3,children:"  "}),[{name:"",dept:" ",status:30},{name:"",dept:"",status:14}].map((e,t)=>h.jsxs("div",{className:"mt-4 flex justify-between p-2 rounded-md border border-gray-200",children:[h.jsxs("div",{children:[h.jsx(qt,{level:4,children:e.name}),h.jsx("p",{className:"text-sm text-gray-500",children:e.dept})]}),h.jsx("span",{children:h.jsx(kI,{wishCount:e.status,formatter:n=>`: ${n}`})})]},"recommend-course-"+t))]})]})]})}function Pw({seat:e,formatter:t=n=>n}){const n=e!=null&&e>=0,r=CI(e),i=n?e:"-";return h.jsx(Fu,{variant:r,children:t(i)})}const kl=({className:e,disabled:t=!1})=>{const n=t?"text-gray-400 ":"text-blue-500 ";return h.jsx(c_,{className:n+e})};function Kee(){return h.jsxs(ic,{children:[h.jsx(Ly,{title:"   ",subtitle:"    ,  ",href:"/live"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-6",children:[h.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[h.jsx(qt,{level:3,children:"  "}),h.jsxs(Gn,{children:["   ,   ",h.jsx("span",{className:"text-blue-500 font-bold",children:""})," "]}),h.jsx("div",{className:"flex flex-col gap-4 mt-4",children:[{name:"",prof:"003281 | "},{name:"",prof:"004310 | LEE KANGWON"}].map(({name:e,prof:t})=>h.jsxs("div",{className:"bg-gray-50 shadow-sm rounded-lg p-4 w-full",children:[h.jsxs(Pe,{justify:"justify-between",className:"mb-2",children:[h.jsx(qt,{level:4,children:e}),h.jsx(kl,{})]}),h.jsxs(Pe,{justify:"justify-between",children:[h.jsx("p",{className:"text-sm text-gray-500",children:t}),h.jsx(Pw,{seat:0,formatter:n=>`: ${n}`})]})]},t))})]}),h.jsxs("div",{className:"bg-white p-6 shadow-md rounded-md",children:[h.jsx(qt,{level:3,children:"  TOP 10"}),h.jsx(Gn,{children:"    !"}),h.jsx("div",{className:"overflow-x-auto",children:h.jsxs("table",{className:"w-full bg-white rounded-lg text-sm",children:[h.jsx("thead",{children:h.jsxs("tr",{className:"bg-gray-50 z-10 text-nowrap",children:[h.jsx("th",{className:"px-4 py-2",children:""}),h.jsx("th",{className:"px-4 py-2",children:""}),h.jsx("th",{className:"px-4 py-2",children:""}),h.jsx("th",{className:"px-4 py-2",children:""})]})}),h.jsx("tbody",{children:[{id:"004310-004",name:"",prof:"",seats:22},{id:"003281-001",name:"",prof:"",seats:15},{id:"004118-007",name:"",prof:"Rajendra Dhakal",seats:6},{id:"009912-006",name:"C",prof:"",seats:5},{id:"007330-001",name:"",prof:"",seats:4}].map(({id:e,name:t,prof:n,seats:r},i)=>h.jsxs("tr",{className:"border-t border-gray-200 text-black",children:[h.jsx("td",{className:"px-4 py-2 text-center",children:e}),h.jsx("td",{className:"px-4 py-2 text-center",children:t}),h.jsx("td",{className:"px-4 py-2 text-center",children:n}),h.jsx("td",{className:"px-4 py-2 text-center",children:h.jsx(Pw,{seat:r})})]},"live-non-major-"+i))})]})})]})]})]})}const Gee=e=>I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:36,height:36,viewBox:"0 0 36 36",...e},I.createElement("g",{transform:"matrix(1,0,0,-1,0,72)"},I.createElement("path",{d:"M18,72Q22.9219,71.9297,27,69.6094Q31.0781,67.2188,33.6094,63Q36,58.710899999999995,36,54Q36,49.2891,33.6094,45Q31.0781,40.78125,27,38.39062Q22.9219,36.0703125,18,36Q13.0781,36.0703125,9,38.39062Q4.92188,40.78125,2.39062,45Q0,49.2891,0,54Q0,58.710899999999995,2.39062,63Q4.92188,67.2188,9,69.6094Q13.0781,71.9297,18,72ZM16.3125,63.5625L16.3125,54L16.3125,63.5625L16.3125,54Q16.3125,53.085899999999995,17.0859,52.5938L23.8359,48.0938Q25.1719,47.3203,26.1562,48.5859Q26.9297,49.9219,25.6641,50.9062L19.6875,54.914100000000005L19.6875,63.5625Q19.5469,65.1094,18,65.25Q16.4531,65.1094,16.3125,63.5625Z",fill:"#007AFF",fillOpacity:1,style:{mixBlendMode:"passthrough"}}))),Yee=e=>I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:36,height:36,viewBox:"0 0 36 36",...e},I.createElement("g",{transform:"matrix(1,0,0,-1,0,72)"},I.createElement("path",{d:"M25.8047,42.96094L7.03125,61.8047L25.8047,42.96094L7.03125,61.8047Q4.57031,58.4297,4.5,54Q4.64062,48.2344,8.4375,44.4375Q12.2344,40.64062,18,40.5Q22.4297,40.57031,25.8047,42.96094ZM29.0391,46.1953Q31.4297,49.5703,31.5,54Q31.3594,59.7656,27.5625,63.5625Q23.7656,67.3594,18,67.5Q13.5703,67.4297,10.1953,64.9688L29.0391,46.1953ZM0,54Q0.0703125,58.9219,2.39062,63Q4.78125,67.0781,9,69.6094Q13.2891,72,18,72Q22.7109,72,27,69.6094Q31.2188,67.0781,33.6094,63Q35.9297,58.9219,36,54Q35.9297,49.0781,33.6094,45Q32.4141,42.96094,30.7617,41.30859Q29.1094,39.65625,27,38.39062Q22.7109,36,18,36Q13.2891,36,9,38.39062Q4.78125,40.92188,2.39062,45Q0.0703125,49.0781,0,54Z",fill:"#007AFF",fillOpacity:1,style:{mixBlendMode:"passthrough"}}))),EI=e=>I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:33.75,height:36,viewBox:"0 0 33.75 36",...e},I.createElement("defs",null,I.createElement("clipPath",{id:"master_svg0_85_3284"},I.createElement("rect",{x:0,y:0,width:33.75,height:36,rx:0}))),I.createElement("g",{clipPath:"url(#master_svg0_85_3284)"},I.createElement("g",{transform:"matrix(1,0,0,-1,0,69.046875)"},I.createElement("g",null,I.createElement("path",{d:"M6.25781,54.000037500000005Q7.10156,56.3906375,8.92969,58.2187375Q12.375,61.5234375,16.875,61.5234375Q21.375,61.5234375,24.8203,58.2187375L26.0156,57.0234375L23.625,57.0234375Q22.6406,57.0234375,22.0078,56.3906375Q21.375,55.7578375,21.375,54.7734375Q21.375,53.7890375,22.0078,53.1562375Q22.6406,52.5234375,23.625,52.5234375L31.5,52.5234375Q32.4844,52.5234375,33.1172,53.1562375Q33.75,53.7890375,33.75,54.7734375L33.75,62.6484375Q33.75,63.6328375,33.1172,64.2656375Q32.4844,64.8984375,31.5,64.8984375Q30.5156,64.8984375,29.8828,64.2656375Q29.25,63.6328375,29.25,62.6484375L29.25,60.187537500000005L27.9844,61.3828375Q24.8906,64.4765375,20.8828,65.5312375Q16.875,66.5156375,12.8672,65.5312375Q8.85938,64.4765375,5.76562,61.3828375Q3.16406,58.7812375,2.03906,55.546837499999995Q1.75781,54.6328375,2.10938,53.7890375Q2.53125,53.0156375,3.375,52.6640375Q4.28906,52.3828375,5.13281,52.734337499999995Q5.90625,53.1562375,6.25781,54.000037500000005ZM1.61719,47.9531375Q1.05469,47.7422375,0.632812,47.3203375Q0.210938,46.8984375,0.0703125,46.3359375Q0.0703125,46.2656375,0,46.1250375Q0,45.9140375,0,45.7734375L0,37.8984375Q0,36.9140575,0.632812,36.2812475Q1.26562,35.6484375,2.25,35.6484375Q3.23438,35.6484375,3.86719,36.2812475Q4.5,36.9140575,4.5,37.8984375L4.5,40.3593775L5.76562,39.1640575Q8.85938,36.0703175,12.8672,35.0156255Q16.875,34.0312495,20.8828,35.0156255Q24.8906,36.0703175,27.9844,39.1640575Q30.5859,41.7656275,31.7109,45.0000375Q31.9922,45.9140375,31.6406,46.7578375Q31.2188,47.5312375,30.375,47.8828375Q29.4609,48.1640375,28.6172,47.8125375Q27.8438,47.3906375,27.4922,46.5468375Q26.6484,44.2265575,24.8203,42.3281275Q21.375,39.0234375,16.875,39.0234375Q12.375,39.0234375,8.92969,42.3281275L7.73438,43.5234375L10.125,43.5234375Q11.1094,43.5234375,11.7422,44.1562475Q12.375,44.7890375,12.375,45.7734375Q12.375,46.7578375,11.7422,47.3906375Q11.1094,48.0234375,10.125,48.0234375L2.25,48.0234375Q2.10938,48.0234375,1.96875,48.0234375Q1.75781,47.9531375,1.61719,47.9531375Z",fill:"#007AFF",fillOpacity:1,style:{mixBlendMode:"passthrough"}})))));function Xee(){return h.jsxs(ic,{className:"text-center",children:[h.jsx(qt,{level:2,children:"  "}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mt-6",children:[{icon:h.jsx(Gee,{className:"w-6 h-6"}),title:"6     ...",text:"       "},{icon:h.jsx(Yee,{className:"w-6 h-6"}),title:"   ...",text:"  ,      "},{icon:h.jsx(EI,{className:"w-6 h-6"}),title:"      ...",text:"   ,     "}].map(({icon:e,title:t,text:n},r)=>h.jsxs("div",{className:"flex flex-col gap-4 p-6 rounded-md bg-gray-50 text-left",children:[e,h.jsx(qt,{level:3,className:"font-extrabold",children:t}),h.jsx(Gn,{children:n})]},"pain-point-"+r))}),h.jsxs("div",{className:"text-gray-900 mt-16",children:[h.jsx("p",{children:"   ."}),h.jsx("p",{children:"   ,      . "})]})]})}const Jee=e=>I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:24,height:24,viewBox:"0 0 24 24",...e},I.createElement("g",{transform:"matrix(1,0,0,-1,0,48)"},I.createElement("path",{d:"M18.7031,30Q17.9062,31.35938,16.5469,32.15625Q15.1875,33,13.5,33L10.5,33Q8.8125,33,7.45312,32.15625Q6.09375,31.35938,5.29688,30Q6.5625,28.59375,8.25,27.79688Q9.98438,27,12,27Q14.0156,27,15.75,27.79688Q17.4375,28.59375,18.7031,30ZM0,36Q0.046875,39.2812,1.59375,42Q3.1875,44.7188,6,46.4062Q8.85938,48,12,48Q15.1406,48,18,46.4062Q20.8125,44.7188,22.4062,42Q23.9531,39.2812,24,36Q23.9531,32.71875,22.4062,30Q20.8125,27.28125,18,25.59375Q15.1406,24,12,24Q8.85938,24,6,25.59375Q3.1875,27.28125,1.59375,30Q0.046875,32.71875,0,36ZM12,35.25Q13.9219,35.2969,14.9062,36.9375Q15.8438,38.625,14.9062,40.3125Q13.9219,41.9531,12,42Q10.0781,41.9531,9.09375,40.3125Q8.15625,38.625,9.09375,36.9375Q10.0781,35.2969,12,35.25Z",fill:"#007AFF",fillOpacity:1,style:{mixBlendMode:"passthrough"}})));function Zee(){return h.jsxs(ic,{className:"text-center",children:[h.jsx(qt,{level:2,children:"   !"}),h.jsxs("div",{className:"overflow-hidden mt-6 relative",children:[h.jsx("div",{className:"absolute top-0 left-0 w-12 h-full bg-gradient-to-r from-gray-50 to-transparent z-10"}),h.jsxs("div",{className:"animate-marquee flex gap-6 flex-nowrap w-fit",children:[RE.map((e,t)=>h.jsx(OE,{...e},"feedback-left-"+t)),RE.map((e,t)=>h.jsx(OE,{...e},"feedback-right-"+t))]}),h.jsx("div",{className:"absolute top-0 right-0 w-12 h-full bg-gradient-to-l from-gray-50 to-transparent z-10"})]})]})}const RE=[{name:"O",department:" 2",review:"        !"},{name:"O",department:" 4",review:"         !"},{name:"O",department:" 3",review:"     !"}];function OE({name:e,department:t,review:n}){return h.jsxs("div",{className:"w-screen md:w-xs flex flex-col gap-4 p-6 rounded-md bg-white text-left text-sm",children:[h.jsxs("div",{className:"flex gap-4 items-center",children:[h.jsx(Jee,{className:"w-6 h-6"}),h.jsxs("div",{children:[h.jsx("p",{className:"font-bold",children:e}),h.jsx("p",{className:"text-xs text-gray-500",children:t})]})]}),h.jsxs("p",{className:"text-gray-950",children:['"',n,'"']})]})}function ete(){return h.jsxs("div",{className:"min-h-screen bg-gray-50",children:[h.jsx(dK,{}),h.jsx($K,{}),h.jsx(Qee,{}),h.jsx(hee,{}),h.jsx(Kee,{}),h.jsx(Xee,{}),h.jsx(Zee,{})]})}function fs(){const[e,t]=I.useState(!1);return I.useEffect(()=>{const n=()=>{t(window.innerWidth<=768)};return n(),window.addEventListener("resize",n),()=>{window.removeEventListener("resize",n)}},[]),e}const tte=e=>I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:13.836064338684082,height:14,viewBox:"-1 -1 15.5 16.5",...e},I.createElement("g",{transform:"matrix(1,0,0,-1,0,28)"},I.createElement("path",{d:"M13.8033,23.433590000000002Q13.918,23.05078,13.6311,22.777340000000002L12.3689,21.68359Q12.4262,21.35547,12.4262,21Q12.4262,20.64453,12.3689,20.31641L13.6311,19.22266Q13.918,18.94922,13.8033,18.56641Q13.6025,18.07422,13.3443,17.60938L13.2008,17.39062Q12.9139,16.95312,12.5697,16.54297Q12.2828,16.24219,11.8811,16.35156L10.2746,16.84375Q9.70082,16.40625,9.01229,16.16016L8.66803,14.574219Q8.55328,14.191406,8.12295,14.109375Q7.54918,14,6.91803,14Q6.28688,14,5.68443,14.109375Q5.28279,14.191406,5.16803,14.574219L4.82377,16.16016Q4.13525,16.40625,3.56148,16.84375L1.95492,16.35156Q1.55328,16.24219,1.26639,16.54297Q0.893443,16.95312,0.635246,17.39062L0.491803,17.60938Q0.233607,18.07422,0.0327869,18.53906Q-0.0819672,18.94922,0.204918,19.22266L1.46721,20.28906Q1.40984,20.64453,1.40984,21Q1.40984,21.35547,1.46721,21.68359L0.204918,22.777340000000002Q-0.0819672,23.05078,0.0327869,23.433590000000002Q0.233607,23.92578,0.491803,24.3906L0.635246,24.6094Q0.893443,25.0469,1.26639,25.457Q1.55328,25.7578,1.95492,25.648400000000002L3.56148,25.1562Q4.13525,25.5937,4.82377,25.8672L5.16803,27.425800000000002Q5.28279,27.8086,5.71311,27.8906Q6.28688,28,6.91803,28Q7.54918,28,8.15164,27.8906Q8.55328,27.8086,8.66803,27.425800000000002L9.01229,25.8672Q9.70082,25.5937,10.2746,25.1562L11.8811,25.648400000000002Q12.2828,25.7578,12.5697,25.457Q12.9426,25.0469,13.2295,24.6094L13.3443,24.3906Q13.6025,23.92578,13.8033,23.433590000000002ZM6.91803,18.8125Q8.20902,18.83984,8.89754,19.90625Q9.52869,21,8.89754,22.09375Q8.20902,23.160159999999998,6.91803,23.1875Q5.62705,23.160159999999998,4.93852,22.09375Q4.30738,21,4.93852,19.90625Q5.62705,18.83984,6.91803,18.8125Z",fill:"#9CA3AF",fillOpacity:1,style:{mixBlendMode:"passthrough"}})));function ME({children:e,checked:t,onChange:n,...r}){return h.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[h.jsx("input",{type:"checkbox",className:"sr-only peer",checked:t,onChange:n,...r}),h.jsx("div",{className:"w-12 h-6 rounded-full transition-colors duration-150 bg-gray-300 peer-checked:bg-blue-500 peer-disabled:bg-gray-200"}),h.jsx("div",{className:"absolute top-1 left-1 w-4 h-4 bg-white rounded-full shadow-md transform transition-transform duration-150 peer-checked:translate-x-6"}),e]})}function TI({enabled:e=!0,onClose:t}){I.useEffect(()=>{if(!e)return;const n=i=>{i.key==="Escape"&&t&&t()},r=i=>{i.preventDefault(),t&&t()};return window.addEventListener("keydown",n),window.addEventListener("popstate",r),()=>{window.removeEventListener("keydown",n),window.removeEventListener("popstate",r)}},[])}const nte=[{title:" ",value:$i.NONE,disabled:()=>!1},{title:" ",value:$i.BROWSER,disabled:()=>!Es.canNotify()},{title:" ",value:$i.TOAST,disabled:()=>!mw.canNotify()},{title:" +  ",value:$i.BOTH,disabled:()=>!Es.canNotify()||!mw.canNotify()}];function rte({isOpen:e,close:t}){const n=wl(s=>s.isPermitted),r=()=>{us.show("  ","test-alarm")},i=()=>{us.requestPermission(),t()};return TI({enabled:e,onClose:i}),e?h.jsx(Jn,{title:"",onClose:i,isOpen:e,children:h.jsxs(Jn.Content,{children:[h.jsx(ite,{}),h.jsx(ste,{}),h.jsx("div",{className:"mt-4 flex justify-end",children:h.jsx(Dt,{variant:"outlined",size:"medium",onClick:r,disabled:!n,children:""})})]})}):null}function ite(){const e=To(s=>s.alarmType),t=To(s=>s.saveSettings),n=wl(s=>s.isPermitted),r=Es.canNotify(),i=s=>{t({alarmType:Number(s.target.value)})};return h.jsxs("div",{className:"mb-4",children:[h.jsx("label",{className:"block mb-2 font-bold text-md",htmlFor:"alarm-type-select",children:" "}),h.jsx("select",{id:"alarm-type-select",className:"w-full mb-2 p-2 border border-gray-300 rounded",value:e,onChange:i,children:nte.map(s=>h.jsx("option",{className:"disabled:text-gray-500",value:s.value,disabled:s.disabled(),children:s.title},s.value))}),(e===$i.BROWSER||e===$i.BOTH)&&!n&&h.jsx("p",{className:"pl-2 pb-2 text-sm text-red-600",children:"  ."}),e===$i.TOAST&&h.jsx("p",{className:"pl-2 pb-2 text-sm text-red-600",children:"      ."}),!r&&h.jsx("p",{className:"pl-2 pb-2 text-xs text-gray-600",children:"     ."})]})}function ste(){const t=To(f=>f.alarmType)===$i.NONE,n=Yh(ol.SOUND),r=Yh(ol.VIBRATE),i=h_.canNotify(),s=To(f=>f.subAlarmType),o=To(f=>f.saveSettings),a=t,l=t||!i,c=f=>{const p=f.target.id==="select-sound"?ol.SOUND:ol.VIBRATE,g=f.target.checked?s|p:s&~p;o({subAlarmType:g})};return h.jsxs("div",{children:[h.jsx("h3",{className:"block mb-2 font-bold text-md",children:"  "}),h.jsxs("div",{className:"flex flex-col gap-2",children:[h.jsxs("label",{className:"my-1 flex items-center justify-between",htmlFor:"select-sound",children:[h.jsx("span",{className:a?"text-gray-300":"",children:""}),h.jsx(ME,{id:"select-sound",name:"sound",checked:n,onChange:c,disabled:a})]}),h.jsxs("label",{className:"my-1 flex items-center justify-between",htmlFor:"select-vibrate",children:[h.jsx("span",{className:l?"text-gray-300":"",children:""}),h.jsx(ME,{id:"select-vibrate",name:"vibrate",checked:r,onChange:c,disabled:l})]}),!i&&h.jsx("p",{className:"pl-2 pb-2 text-sm text-red-600",children:"     ."})]})]})}const ote=e=>I.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},I.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 3C7.88696 2.99977 8.74883 3.29435 9.4501 3.83741C10.1514 4.38047 10.6523 5.14121 10.874 6H19V8H10.874C10.6283 8.94049 10.0486 9.75939 9.24333 10.3038C8.43802 10.8482 7.46209 11.0809 6.49778 10.9584C5.53346 10.836 4.64669 10.3667 4.00303 9.63828C3.35937 8.90985 3.00284 7.97206 3 7C3 5.93913 3.42143 4.92172 4.17157 4.17157C4.92172 3.42143 5.93913 3 7 3ZM7 9C7.53043 9 8.03914 8.78929 8.41421 8.41421C8.78929 8.03914 9 7.53043 9 7C9 6.46957 8.78929 5.96086 8.41421 5.58579C8.03914 5.21071 7.53043 5 7 5C6.46957 5 5.96086 5.21071 5.58579 5.58579C5.21071 5.96086 5 6.46957 5 7C5 7.53043 5.21071 8.03914 5.58579 8.41421C5.96086 8.78929 6.46957 9 7 9ZM17 20C16.113 20.0002 15.2512 19.7056 14.5499 19.1626C13.8486 18.6195 13.3477 17.8588 13.126 17H5V15H13.126C13.3717 14.0595 13.9514 13.2406 14.7567 12.6962C15.562 12.1518 16.5379 11.9191 17.5022 12.0416C18.4665 12.164 19.3533 12.6333 19.997 13.3617C20.6406 14.0901 20.9972 15.0279 21 16C21 17.0609 20.5786 18.0783 19.8284 18.8284C19.0783 19.5786 18.0609 20 17 20ZM17 18C17.5304 18 18.0391 17.7893 18.4142 17.4142C18.7893 17.0391 19 16.5304 19 16C19 15.4696 18.7893 14.9609 18.4142 14.5858C18.0391 14.2107 17.5304 14 17 14C16.4696 14 15.9609 14.2107 15.5858 14.5858C15.2107 14.9609 15 15.4696 15 16C15 16.5304 15.2107 17.0391 15.5858 17.4142C15.9609 17.7893 16.4696 18 17 18Z",fill:"currentColor"})),ate=()=>{if(typeof navigator>"u")return"chrome";const e=navigator.userAgent.toLowerCase();return e.includes("firefox")?"firefox":e.includes("edg")?"edge":e.includes("safari")&&!e.includes("chrome")?"safari":"chrome"},lte=()=>{if(typeof navigator>"u")return"macos";const e=navigator.platform.toLowerCase(),t=navigator.userAgent.toLowerCase();return e.startsWith("mac")||t.includes("mac os x")?"macos":e.startsWith("win")?"windows":/android|iphone|ipad|ipod/.test(t)?"mobile":"macos"};function ute(){const e=wl(s=>s.isOpen),t=wl(s=>s.close),[n,r]=I.useState(0),i=1;return I.useEffect(()=>{e||r(0)},[e]),h.jsx(Jn,{title:"  ",onClose:t,isOpen:e,children:h.jsxs("div",{className:"p-4 text-sm text-gray-700 w-lg max-w-full",children:[n===0&&h.jsx(cte,{}),n===1&&h.jsx(dte,{}),h.jsxs("div",{className:"flex justify-between items-center mt-6",children:[h.jsxs("span",{className:"text-xs text-gray-500",children:[n+1," / ",i+1]}),h.jsxs("div",{className:"flex justify-end gap-2",children:[n>0&&h.jsx("button",{className:"px-4 py-2 bg-gray-200 rounded hover:bg-gray-300",onClick:()=>r(n-1),children:""}),n<i&&h.jsx("button",{className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",onClick:()=>r(n+1),children:""}),n===i&&h.jsx("button",{className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",onClick:t,children:""})]})]})]})})}function cte(){const[e,t]=I.useState(ate());return h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"font-bold text-base text-gray-800",children:"1:    "}),h.jsx("p",{className:"mt-1",children:" 'ALLCLL'    ."})]}),h.jsxs("div",{className:"flex border-b border-gray-500",children:[h.jsx(Ru,{name:"Chrome",id:"chrome",selected:e,onClick:t}),h.jsx(Ru,{name:"Firefox",id:"firefox",selected:e,onClick:t}),h.jsx(Ru,{name:"Safari",id:"safari",selected:e,onClick:t}),h.jsx(Ru,{name:"Edge",id:"edge",selected:e,onClick:t})]}),h.jsxs("div",{className:"p-2 bg-gray-50 rounded-md h-64 overflow-y-auto",children:[e==="chrome"&&h.jsx(fte,{}),e==="firefox"&&h.jsx(pte,{}),e==="safari"&&h.jsx(mte,{}),e==="edge"&&h.jsx(hte,{})]})]})}function dte(){const[e,t]=I.useState(lte());return h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"font-bold text-base text-gray-800",children:"2: OS    "}),h.jsx("p",{className:"mt-1",children:"  OS   ."})]}),h.jsxs("div",{className:"flex border-b border-gray-500",children:[h.jsx(Ru,{name:"macOS",id:"macos",selected:e,onClick:t}),h.jsx(Ru,{name:"Windows",id:"windows",selected:e,onClick:t}),h.jsx(Ru,{name:"",id:"mobile",selected:e,onClick:t})]}),h.jsxs("div",{className:"p-2 bg-gray-50 rounded-md h-64 overflow-y-auto",children:[e==="macos"&&h.jsx(gte,{}),e==="windows"&&h.jsx(yte,{}),e==="mobile"&&h.jsx(vte,{})]})]})}const Ru=({name:e,id:t,selected:n,onClick:r})=>h.jsx("button",{className:`px-4 py-2 text-sm ${n===t?"border-b-2 border-blue-500 text-blue-600 font-semibold":"text-gray-500 font-medium"}`,onClick:()=>r(t),children:e}),Gu=({title:e,children:t})=>h.jsxs("div",{className:"space-y-1",children:[h.jsx("h4",{className:"font-semibold text-gray-800",children:e}),h.jsx("div",{className:"pl-2 space-y-1 text-gray-600",children:t})]}),fte=()=>h.jsxs("div",{className:"space-y-3",children:[h.jsx(Gu,{title:" 1:   ()",children:h.jsxs("ol",{className:"list-decimal list-inside",children:[h.jsxs("li",{children:["    (",h.jsx(ote,{className:"inline-block w-4 h-4"}),")  ."]}),h.jsx("li",{children:"  ''    '' ."})]})}),h.jsx(Gu,{title:" 2:   ",children:h.jsxs("ol",{className:"list-decimal list-inside",children:[h.jsx("li",{children:"   3()  > '' ."}),h.jsx("li",{children:"'  ' > ' ' > '' ."}),h.jsx("li",{children:"'  '  ''   'allcll.com' ."})]})})]}),hte=()=>h.jsxs("div",{className:"space-y-3",children:[h.jsx(Gu,{title:" 1:   ()",children:h.jsxs("ol",{className:"list-decimal list-inside",children:[h.jsx("li",{children:"  ()  ."}),h.jsx("li",{children:"'   '  '' '' ."})]})}),h.jsx(Gu,{title:" 2:   ",children:h.jsxs("ol",{className:"list-decimal list-inside",children:[h.jsx("li",{children:"   3()  > '' ."}),h.jsx("li",{children:"'   ' > '' ."}),h.jsx("li",{children:"''  ''   'allcll.com' ."})]})})]}),pte=()=>h.jsxs("div",{className:"space-y-3",children:[h.jsx(Gu,{title:" 1:   ()",children:h.jsxs("ol",{className:"list-decimal list-inside",children:[h.jsx("li",{children:"  ()  ."}),h.jsx("li",{children:"' '  '' ."})]})}),h.jsx(Gu,{title:" 2:   ",children:h.jsxs("ol",{className:"list-decimal list-inside",children:[h.jsx("li",{children:"   3()  > '' ."}),h.jsx("li",{children:"'  '  ''  ."}),h.jsx("li",{children:"''  '...'  ."}),h.jsx("li",{children:"'allcll.com'   ''  '  ' ."})]})})]}),mte=()=>h.jsx("div",{className:"space-y-3",children:h.jsx(Gu,{title:"Safari  ",children:h.jsxs("ol",{className:"list-decimal list-inside",children:[h.jsx("li",{children:"    'Safari' > '...' ( '...') ."}),h.jsx("li",{children:"''  ."}),h.jsx("li",{children:"  '' ."}),h.jsx("li",{children:" 'allcll.com'   '' ."})]})})}),gte=()=>h.jsx("div",{className:"space-y-2",children:h.jsxs("ol",{className:"list-decimal list-inside pl-2 mt-2 space-y-1",children:[h.jsx("li",{children:"    ()   ' ' ."}),h.jsx("li",{children:"  '' ."}),h.jsx("li",{children:"    (Chrome, Safari )  ."}),h.jsx("li",{children:"' '  ."})]})}),yte=()=>h.jsx("div",{className:"space-y-2",children:h.jsxs("ol",{className:"list-decimal list-inside pl-2 mt-2 space-y-1",children:[h.jsx("li",{children:"''  '' ."}),h.jsx("li",{children:"''   ''  ."}),h.jsx("li",{children:"'     '   ."}),h.jsx("li",{children:"        ."})]})}),vte=()=>h.jsxs("div",{className:"pl-2 mt-2 space-y-2",children:[h.jsx("p",{children:"  PC        .  iOS Safari     ."}),h.jsx("p",{className:"font-medium",children:"       ' '   ."})]}),xte=e=>I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:17,height:17,viewBox:"0 0 17 14.5",...e},I.createElement("g",{transform:"matrix(1,0,0,-1,0,28.015625)"},I.createElement("path",{d:"M1.0474,27.8750125Q0.538991,28.2031125,0.137615,27.7656125Q-0.183486,27.246112500000002,0.244648,26.8359125L16.0856,14.1484375Q16.594,13.8203125,16.9954,14.2578125Q17.3165,14.7773435,16.8884,15.1875025L14.4801,17.1289025Q14.4801,17.1562525,14.4801,17.1562525Q14.6942,17.6757825,14.3463,18.0859325L14.159,18.3320325Q12.8746,19.8085925,12.8479,21.8046925L12.8479,22.324222499999998Q12.8211,23.9375025,11.8578,25.1133125Q10.9213,26.2890125,9.42278,26.6172125L9.42278,27.1367125Q9.42278,27.519512499999998,9.18196,27.7656125Q8.94113,28.0117125,8.56651,28.0117125Q8.1919,28.0117125,7.95107,27.7656125Q7.71025,27.519512499999998,7.71025,27.1367125L7.71025,26.6172125Q5.94419,26.207012499999998,4.98089,24.7031125L1.0474,27.8750125ZM10.8677,16.6367225L4.28517,21.9414025L10.8677,16.6367225L4.28517,21.9414025L4.28517,21.8046925Q4.25841,19.8085925,3.00077,18.3046925L2.7867,18.0859325Q2.43884,17.6757825,2.65291,17.1562525Q2.89373,16.6640625,3.4289,16.6367225L10.8677,16.6367225ZM9.77064,14.5312505Q10.2791,15.0507825,10.2791,15.7617225L8.56651,15.7617225L6.85398,15.7617225Q6.85398,15.0507825,7.36239,14.5312505Q7.8708,14.01171884,8.56651,14.01171884Q9.26223,14.01171884,9.77064,14.5312505Z",fill:"#9CA3AF",fillOpacity:1,style:{mixBlendMode:"passthrough"}})));function bte({isAlarm:e}){const t=kd(s=>s.sseState),n=wl(s=>s.isPermitted),r=t===m_.LIVE,i=r?us.getDeniedMessage():[...us.getDeniedMessage(),"  "];return e?n&&r?h.jsx(kl,{className:"w-5 h-5 text-primary-500"}):h.jsxs(h.Fragment,{children:[h.jsx(kl,{className:"w-5 h-5 text-secondary-500 animate-pulse"}),i.length>0&&h.jsx("span",{className:"absolute left-full -bottom-2 transform -translate-x-full translate-y-full opacity-0 group-hover:opacity-100 transition-opacity duration-300 bg-gray-900 text-white text-sm p-2 rounded w-64 h-fit text-center pointer-events-none",children:i.map((s,o)=>h.jsx("p",{className:"pt-1 first:pt-0",children:s},"tooltip-line-"+o))})]}):h.jsx(xte,{className:"w-5 h-5"})}const wte=async()=>await ba("/api/pins"),_te=async e=>{const t=await My(`/api/pin?subjectId=${e}`,{method:"POST"});if(!t.ok)throw new Error(await t.text())},Ste=async e=>{const t=await My(`/api/pin/${e}`,{method:"DELETE"});if(!t.ok)throw new Error(await t.text())},AE=5;function Zy(){return lo({queryKey:["pinnedSubjects"],queryFn:wte,select:e=>e.subjects})}const jI=()=>{const e=ds();return jl({mutationFn:_te,onMutate:async t=>{await e.cancelQueries({queryKey:["pinnedSubjects"]});const n=e.getQueryData(["pinnedSubjects"])?.subjects??[];if(n&&n.length>=AE)throw new Error(JSON.stringify({message:`   ${AE} .`}));if(n){const r={...n[0],subjectId:t};e.setQueryData(["pinnedSubjects"],{subjects:[...n,r]}),n.push(r)}return{previousUsers:n}},onSuccess:()=>{e.invalidateQueries({queryKey:["pinnedSubjects"]}).then()},onError:t=>{try{const n=JSON.parse(t.message);alert(n.message)}catch{alert("Error adding pinned subject")}}})},U_=()=>{const e=ds();return jl({mutationFn:Ste,onMutate:async t=>{await e.cancelQueries({queryKey:["pinnedSubjects"]});const n=e.getQueryData(["pinnedSubjects"]);if(n){const r=n.subjects.filter(i=>i.subjectId!==t);e.setQueryData(["pinnedSubjects"],{subjects:r})}return{previousData:n}},onSettled:()=>{console.log("pin removed onSettled"),e.invalidateQueries({queryKey:["pinnedSubjects"]}).then()},onError:t=>{console.error("Error removing pinned subject:",t)}})},Cte=1e3,kte=60*Cte,Ete={subjectId:-1,seat:-1};function Tte(){return lo({queryKey:["preRealSeats"],queryFn:jte,staleTime:10*kte,select:e=>e?.preSeats??null})}async function jte(){return await p_("/pre-seats.json?date=20250904")}function II(e,t,n,r){if(!e||!t)return e||t;const i=e.sort((c,f)=>c.subjectId-f.subjectId),s=t.sort((c,f)=>c.subjectId-f.subjectId),o=[];let a=0,l=0;for(;a<i.length&&l<s.length;)i[a].subjectId===s[l].subjectId?o.push({...i[a++],...s[l++]}):i[a].subjectId<s[l].subjectId?o.push({...r,...i[a++]}):o.push({...n,...s[l++]});for(;a<i.length;)o.push({...r,...i[a++]});for(;l<s.length;)o.push({...n,...s[l++]});return o}function e1(e,t){const{data:n}=Tte();return I.useMemo(()=>!e||!n?.length?e:II(e,n,t??Ay,Ete),[e,n,t])}class H_ extends RangeError{constructor(t){super(t),this.name="ParamsInvalidError"}}class Ite extends Error{constructor(t){super(t),this.name="NotFoundError"}}const Nte=async()=>await p_("/baskets.json"),Pte=async e=>{const t=await My(`/api/baskets/${e}`);if(!t.ok){const n=await t.text(),r=Rte(n);throw r?.status==="400 BAD_REQUEST"?new H_(r.code):new Error(await t.text())}return t.json()},Rte=e=>{try{return JSON.parse(e)}catch{return null}},ac={...Ay,departmentCode:"",departmentName:"",totalCount:-1};function Sa(){const{data:e,isPending:t,isLoading:n}=Os(),r=lo({queryKey:["wishlist"],queryFn:Nte,staleTime:1/0,select:i=>Ote(i,e)});return{...r,isPending:r.isPending||t,isLoading:r.isLoading||n}}const Ote=(e,t)=>t?!e||e.baskets?.length?t:II(t,e.baskets,Ay,ac).map(r=>({...r,departmentCode:r.deptCd,departmentName:r.manageDeptNm})):[];function Mte(e){const{data:t}=Sa();return t?.filter(n=>e.includes(n.subjectId))??[]}const NI=e=>I.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},I.createElement("path",{d:"M18 6L6 18M6 6L18 18",stroke:"#354052",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}));let oh=null,Zc=0;const Dx=oi(e=>{const t=()=>{oh||(oh=setInterval(()=>{e(r=>({tick:r.tick+1}))},1e3))},n=()=>{oh&&clearInterval(oh),oh=null};return{tick:0,addRefCount:()=>{Zc===0&&t(),Zc=Zc+1},removeRefCount:()=>{Zc<=1&&n(),Zc=Math.max(0,Zc-1)}}}),PI=e=>{const t=Dx(i=>i.tick),n=Dx(i=>i.addRefCount),r=Dx(i=>i.removeRefCount);I.useEffect(()=>(n(),()=>{r()}),[]),I.useEffect(()=>{},[t])};function W_(e){if(!e)return" ";const t=new Date,n=new Date(e),r=t.getTime()-n.getTime(),i=Math.floor(r/1e3),s=Math.floor(i/60),o=Math.floor(s/60),a=Math.floor(o/24),l=Math.floor(a/30),c=Math.floor(l/12);return c>0?`${c} `:l>0?`${l} `:a>0?`${a} `:o>0?`${o} `:s>0?`${s} `:i>0?`${i} `:" "}function Ate({subject:e,seats:t,queryTime:n,disableSeat:r=!1}){const{mutate:i}=U_(),s=()=>{i(e.subjectId)};return h.jsxs(Yn,{variant:"filled",children:[h.jsxs(Pe,{justify:"justify-between",children:[h.jsx(qt,{level:3,children:e.subjectName}),h.jsx(Tr,{variant:"plain","aria-label":"  ",icon:h.jsx(NI,{className:"text-gray-400 w-3 h-3"}),onClick:s})]}),h.jsxs("div",{className:"mb-2 text-xs text-gray-500",children:[h.jsx("p",{children:e.departmentName}),h.jsxs("p",{children:[e.subjectCode,"-",e.classCode," | ",e.professorName]})]}),!r&&h.jsxs(Pe,{justify:"justify-between",children:[h.jsx(Lte,{seats:t}),h.jsx(Dte,{queryTime:n})]})]})}function Dte({queryTime:e}){return PI(),h.jsx("p",{className:"text-xs text-gray-500",children:W_(e)})}function Lte({seats:e}){const t=e!=null&&e>=0,n=CI(e),r=t?e:"???";return h.jsxs(Fu,{variant:n,children:[": ",r]})}const Rw=oi(e=>({isSearchOpen:!1,setIsSearchOpen:t=>e(()=>({isSearchOpen:t}))}));function RI(){const e=Rw(t=>t.setIsSearchOpen);return h.jsx(Pe,{justify:"justify-center",align:"items-center",children:h.jsx(Dt,{variant:"ghost",size:"medium",onClick:()=>e(!0),children:"+   "})})}function t1({icon:e,title:t,description:n,children:r}){return h.jsx("div",{className:"flex flex-col items-center justify-center w-full bg-gray-50 rounded-md",children:h.jsxs("div",{className:"flex flex-col items-center justify-center gap-2 p-12",children:[h.jsx("div",{children:e}),h.jsx("div",{className:"text-gray-600",children:t}),h.jsx("div",{className:"text-xs text-gray-500",children:n}),r]})})}const OI=e=>I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:36,height:36,viewBox:"0 0 36 36",...e},I.createElement("g",{transform:"matrix(1,0,0,-1,0,72)"},I.createElement("g",null,I.createElement("path",{d:"M18,36Q22.9219,36.0703125,27,38.39062Q31.0781,40.78125,33.6094,45Q36,49.2891,36,54Q36,58.710899999999995,33.6094,63Q31.0781,67.2188,27,69.6094Q22.9219,71.9297,18,72Q13.0781,71.9297,9,69.6094Q4.92188,67.2188,2.39062,63Q0,58.710899999999995,0,54Q0,49.2891,2.39062,45Q4.92188,40.78125,9,38.39062Q13.0781,36.0703125,18,36ZM18,63Q19.5469,62.8594,19.6875,61.3125L19.6875,53.4375Q19.5469,51.8906,18,51.75Q16.4531,51.8906,16.3125,53.4375L16.3125,61.3125Q16.4531,62.8594,18,63ZM15.75,47.25Q15.75,48.2344,16.3828,48.8672Q17.0156,49.5,18,49.5Q18.9844,49.5,19.6172,48.8672Q20.25,48.2344,20.25,47.25Q20.25,46.2656,19.6172,45.63281Q18.9844,45,18,45Q17.0156,45,16.3828,45.63281Q15.75,46.2656,15.75,47.25Z",fill:"#9CA3AF",fillOpacity:1,style:{mixBlendMode:"passthrough"}})))),Fte=e=>I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:12.68359375,height:12.25,viewBox:"0 0 12.68359375 12.25",...e},I.createElement("g",{transform:"matrix(1,0,0,-1,0,24.5)"},I.createElement("g",null,I.createElement("path",{d:"M9.67675,21L8.30998,21L9.67675,21L8.30998,21Q7.92728,21,7.68126,20.753909999999998Q7.43524,20.50781,7.43524,20.125Q7.43524,19.74219,7.68126,19.49609Q7.92728,19.25,8.30998,19.25L11.8089,19.25Q12.1916,19.25,12.4376,19.49609Q12.6837,19.74219,12.6837,20.125L12.6837,23.625Q12.6837,24.0078,12.4376,24.2539Q12.1916,24.5,11.8089,24.5Q11.4262,24.5,11.1802,24.2539Q10.9342,24.0078,10.9342,23.625L10.9342,22.23047L10.4421,22.6953Q9.23938,23.898400000000002,7.68126,24.3086Q6.12314,24.6914,4.56502,24.3086Q3.0069,23.898400000000002,1.80414,22.6953Q0.60138,21.49219,0.191348,19.93359Q-0.191348,18.375,0.191348,16.81641Q0.60138,15.25781,1.80414,14.05469Q3.0069,12.851562,4.56502,12.441406Q6.12314,12.058594,7.68126,12.441406Q9.23938,12.851562,10.4421,14.05469Q10.7155,14.30078,10.7155,14.65625Q10.7155,15.01172,10.4421,15.28516Q10.1961,15.53125,9.84076,15.53125Q9.4854,15.53125,9.21205,15.28516Q7.87261,14,6.12314,14Q4.37367,14,3.03424,15.28516Q1.74947,16.625,1.74947,18.375Q1.74947,20.125,3.03424,21.464840000000002Q4.37367,22.75,6.12314,22.75Q7.87261,22.75,9.21205,21.464840000000002L9.67675,21Z",fill:"#FFFFFF",fillOpacity:1,style:{mixBlendMode:"passthrough"}}))));function MI({onReload:e}){return h.jsx(t1,{title:"    ",description:"  ",icon:h.jsx(OI,{className:"w-7 h-7"}),children:h.jsxs("button",{className:"mt-4 flex items-center gap-2 bg-blue-500 text-white px-4 py-2 rounded cursor-pointer hover:bg-blue-600",onClick:e,children:[h.jsx(Fte,{className:"w-3 h-3"}),""]})})}function Bte(){return h.jsx(t1,{title:"   ",description:"    .     .",icon:h.jsx(kl,{className:"w-7 h-7",disabled:!0}),children:h.jsx(RI,{})})}function zte(){return h.jsx(Pe,{justify:"justify-center",align:"items-center",children:h.jsx(Dt,{variant:"ghost",size:"medium",disabled:!0,children:"   5   ."})})}function $te(){const{data:e,isPending:t,isError:n,refetch:r}=Zy(),{data:i}=g_(Dy.PINNED),s=Mte(e?.map(l=>l.subjectId)??[]),o=l=>i?.find(f=>f.subjectId===l)?.seatCount??-1,a=l=>i?.find(f=>f.subjectId===l)?.queryTime??"";return t?h.jsx(Ute,{}):n?h.jsx(MI,{onReload:r}):!s||s.length===0?h.jsx(Bte,{}):h.jsxs(Ol,{columns:{base:1,md:3},gap:"gap-4",children:[s.map(l=>h.jsx(Ate,{subject:l,seats:o(l.subjectId),queryTime:a(l.subjectId)},`${l.subjectId}_${l.subjectCode}_${l.professorName}`)),s.length<5?h.jsx(RI,{}):h.jsx(zte,{})]})}function Ute(){return h.jsx("div",{className:"animate-pulse grid grid-cols-1 md:grid-cols-3 gap-4",children:[0,0,0].map((e,t)=>h.jsx("div",{className:"bg-gray-300 shadow-sm rounded-lg p-4 h-24"},"skeleton-card-"+t))})}const Hte=()=>{const[e,t]=I.useState(!1);return h.jsxs(Yn,{children:[h.jsx(rte,{isOpen:e,close:()=>t(!1)}),h.jsx(ute,{}),h.jsx(Wte,{setIsAlarmSettingOpen:t}),h.jsx($te,{})]})};function Wte({setIsAlarmSettingOpen:e}){const{isAlarm:t,changeAlarm:n}=kQ(),{isError:r,refetch:i}=g_(Dy.PINNED);return h.jsxs(Pe,{direction:"flex-row",justify:"justify-between",align:"align-top",className:"mb-4",children:[h.jsxs(Pe,{align:"items-center",justify:"justify-center",gap:"gap-2",children:[h.jsx(qt,{level:3,children:"  "}),h.jsx($q,{children:h.jsxs("p",{className:"text-sm",children:["    ",h.jsx("br",{}),h.jsx("span",{className:"text-red-500",children:"*     "})]})})]}),h.jsxs(Pe,{align:"items-center",gap:"gap-1",children:[r&&h.jsx(Tr,{icon:h.jsx(EI,{className:"w-5 h-5"}),"aria-label":" ",label:" ",onClick:i}),h.jsx(Tr,{icon:h.jsx(tte,{className:"w-5 h-5"}),"aria-label":" ",label:" ",onClick:()=>e(!0)}),h.jsx(Tr,{icon:h.jsx(bte,{isAlarm:t}),"aria-label":t?" ":" ",label:t?" ":" ",onClick:n})]})]})}const Vte=e=>I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:15.75,height:18,viewBox:"0 0 15.75 18",...e},I.createElement("defs",null,I.createElement("clipPath",{id:"master_svg0_85_3269"},I.createElement("rect",{x:0,y:0,width:15.75,height:18,rx:0}))),I.createElement("g",{clipPath:"url(#master_svg0_85_3269)"},I.createElement("g",{transform:"matrix(1,0,0,-1,0,32.2734375)"},I.createElement("g",null,I.createElement("path",{d:"M15.4336,22.07812875Q15.75,22.42968875,15.75,22.88671875Q15.75,23.34374875,15.4336,23.69530875L9.80859,29.32031875Q9.45703,29.63671875,9,29.63671875Q8.54297,29.63671875,8.19141,29.32031875Q7.875,28.96871875,7.875,28.51171875Q7.875,28.05471875,8.19141,27.70311875L11.918,24.01171875L1.125,24.01171875Q0.632812,24.01171875,0.316406,23.69530875Q0,23.37890875,0,22.88671875Q0,22.39452875,0.316406,22.07812875Q0.632812,21.76171875,1.125,21.76171875L11.918,21.76171875L8.19141,18.07030875Q7.875,17.71874875,7.875,17.26171875Q7.875,16.80468775,8.19141,16.45312475Q8.54297,16.13671875,9,16.13671875Q9.45703,16.13671875,9.80859,16.45312475L15.4336,22.07812875Z",fill:"#FFFFFF",fillOpacity:1,style:{mixBlendMode:"passthrough"}})))));function qte(e=200){const[t,n]=I.useState(!1);return I.useEffect(()=>{const i=()=>n(window.scrollY>e);return i(),window.addEventListener("scroll",i,{passive:!0}),()=>window.removeEventListener("scroll",i)},[e]),{isVisible:t,scrollToTop:()=>{window.scrollTo({top:0,behavior:"smooth"})}}}function AI({right:e="right-2 sm:right-10",bottom:t="bottom-4"}){const{isVisible:n,scrollToTop:r}=qte(200);return h.jsx("button",{"aria-label":"  ",className:`fixed ${t} ${e} z-50 w-12 h-12 rounded-full bg-blue-500 text-white shadow-lg 
                  flex justify-center items-center cursor-pointer transition-opacity duration-200
                  ${n?"opacity-100":"opacity-0 pointer-events-none"}`,onClick:r,children:h.jsx(Vte,{className:"w-6 h-6 -rotate-90"})})}const El={keywords:"",department:"",grades:[],credits:[],categories:[],seatRange:null,wishRange:null,time:[],days:[],classroom:[],note:[],language:[],alarmOnly:!1,favoriteOnly:!1},V_=()=>oi(e=>({filters:{...El},setFilter:(t,n)=>e(r=>({filters:{...r.filters,[t]:n}})),resetFilters:()=>e({filters:El})})),io=V_(),yd=V_(),wh=V_();function q_(){return h.jsxs("div",{className:"flex justify-end items-center mt-2 text-xs text-gray-500",children:[h.jsxs("span",{className:"flex items-center gap-2",children:[h.jsx("span",{className:"block w-4 h-4 rounded bg-green-100 ml-1","aria-label":" "}),"  "]}),h.jsxs("span",{className:"flex items-center gap-2 ml-4",children:[h.jsx("span",{className:"block w-4 h-4 rounded bg-gray-100 ml-1","aria-label":" "})," "]})]})}function DI(e){const{data:t,isPending:n}=Sa(),r=e1(t,ac),i=r&&r[0]&&"seat"in r[0],s=I.useMemo(()=>i?[...e,{title:"",key:"seat"}]:e,[r,e]);return{data:r,titles:s,isPending:n,hasRealSeats:i}}let Bi;function LI(){return Bi||(Bi=JSON.parse(localStorage.getItem("departmentRank")??"{}"),Bi)}function Qte(){Bi&&localStorage.setItem("departmentRank",JSON.stringify(Bi))}function n1(e){Bi||(Bi=LI()),Bi[e]===void 0?Bi[e]=0:Bi[e]+=1,Qte()}function FI(){return Bi||(Bi=LI()),Object.entries(Bi).sort(([,e],[,t])=>t-e)}function Rp(e){const t=I.useMemo(()=>{const r=FI();return new Map(r.map(([i,s],o)=>[i,o]))},[]),n=I.useMemo(()=>{if(e)return Kte(e)},[e]);return I.useMemo(()=>{if(!n)return;const r=o=>{const a=t.get(o);return a===void 0?5:a};return n.map(o=>{const l=(5-r(o.departmentCode??o.deptCd))*250+o.rank*100-Number(o.classCode);return{...o,searchScore:l}}).sort((o,a)=>a.searchScore-o.searchScore).map(({searchScore:o,...a})=>a)},[t,n])}function Kte(e){const t=new Map;for(const n of e){const r=`${n.subjectCode}-${n.departmentCode}`,i=t.get(r);i?(i.sum+=n.totalCount??0,i.count+=1):t.set(r,{sum:n.totalCount??0,count:1})}return e.map(n=>{const r=`${n.subjectCode}-${n.departmentCode}`,i=t.get(r),s=i.sum/i.count;return{...n,rank:s}})}const Gte=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>dp(async()=>{const{default:r}=await Promise.resolve().then(()=>cf);return{default:r}},[]).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class Q_ extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class Yte extends Q_{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class DE extends Q_{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class LE extends Q_{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Ow;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Ow||(Ow={}));var Xte=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(f){try{c(r.next(f))}catch(p){o(p)}}function l(f){try{c(r.throw(f))}catch(p){o(p)}}function c(f){f.done?s(f.value):i(f.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};class Jte{constructor(t,{headers:n={},customFetch:r,region:i=Ow.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=Gte(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return Xte(this,void 0,void 0,function*(){try{const{headers:i,method:s,body:o}=n;let a={},{region:l}=n;l||(l=this.region);const c=new URL(`${this.url}/${t}`);l&&l!=="any"&&(a["x-region"]=l,c.searchParams.set("forceFunctionRegion",l));let f;o&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",f=o):typeof o=="string"?(a["Content-Type"]="text/plain",f=o):typeof FormData<"u"&&o instanceof FormData?f=o:(a["Content-Type"]="application/json",f=JSON.stringify(o)));const p=yield this.fetch(c.toString(),{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),i),body:f}).catch(_=>{throw new Yte(_)}),g=p.headers.get("x-relay-error");if(g&&g==="true")throw new DE(p);if(!p.ok)throw new LE(p);let y=((r=p.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),b;return y==="application/json"?b=yield p.json():y==="application/octet-stream"?b=yield p.blob():y==="text/event-stream"?b=p:y==="multipart/form-data"?b=yield p.formData():b=yield p.text(),{data:b,error:null,response:p}}catch(i){return{data:null,error:i,response:i instanceof LE||i instanceof DE?i.context:void 0}}})}}var Mr={},ed={},td={},nd={},rd={},id={},Zte=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Qd=Zte();const ene=Qd.fetch,BI=Qd.fetch.bind(Qd),zI=Qd.Headers,tne=Qd.Request,nne=Qd.Response,cf=Object.freeze(Object.defineProperty({__proto__:null,Headers:zI,Request:tne,Response:nne,default:BI,fetch:ene},Symbol.toStringTag,{value:"Module"})),rne=NR(cf);var Ng={},FE;function $I(){if(FE)return Ng;FE=1,Object.defineProperty(Ng,"__esModule",{value:!0});class e extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return Ng.default=e,Ng}var BE;function UI(){if(BE)return id;BE=1;var e=id&&id.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(id,"__esModule",{value:!0});const t=e(rne),n=e($I());class r{constructor(s){this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=s.headers,this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=s.shouldThrowOnError,this.signal=s.signal,this.isMaybeSingle=s.isMaybeSingle,s.fetch?this.fetch=s.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,o){return this.headers=Object.assign({},this.headers),this.headers[s]=o,this}then(s,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const a=this.fetch;let l=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{var f,p,g;let y=null,b=null,_=null,C=c.status,k=c.statusText;if(c.ok){if(this.method!=="HEAD"){const B=await c.text();B===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?b=B:b=JSON.parse(B))}const O=(f=this.headers.Prefer)===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),$=(p=c.headers.get("content-range"))===null||p===void 0?void 0:p.split("/");O&&$&&$.length>1&&(_=parseInt($[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(b)&&(b.length>1?(y={code:"PGRST116",details:`Results contain ${b.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},b=null,_=null,C=406,k="Not Acceptable"):b.length===1?b=b[0]:b=null)}else{const O=await c.text();try{y=JSON.parse(O),Array.isArray(y)&&c.status===404&&(b=[],y=null,C=200,k="OK")}catch{c.status===404&&O===""?(C=204,k="No Content"):y={message:O}}if(y&&this.isMaybeSingle&&(!((g=y?.details)===null||g===void 0)&&g.includes("0 rows"))&&(y=null,C=200,k="OK"),y&&this.shouldThrowOnError)throw new n.default(y)}return{error:y,data:b,count:_,status:C,statusText:k}});return this.shouldThrowOnError||(l=l.catch(c=>{var f,p,g;return{error:{message:`${(f=c?.name)!==null&&f!==void 0?f:"FetchError"}: ${c?.message}`,details:`${(p=c?.stack)!==null&&p!==void 0?p:""}`,hint:"",code:`${(g=c?.code)!==null&&g!==void 0?g:""}`},data:null,count:null,status:0,statusText:""}})),l.then(s,o)}returns(){return this}overrideTypes(){return this}}return id.default=r,id}var zE;function HI(){if(zE)return rd;zE=1;var e=rd&&rd.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(rd,"__esModule",{value:!0});const t=e(UI());class n extends t.default{select(i){let s=!1;const o=(i??"*").split("").map(a=>/\s/.test(a)&&!s?"":(a==='"'&&(s=!s),a)).join("");return this.url.searchParams.set("select",o),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(i,{ascending:s=!0,nullsFirst:o,foreignTable:a,referencedTable:l=a}={}){const c=l?`${l}.order`:"order",f=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${f?`${f},`:""}${i}.${s?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:s,referencedTable:o=s}={}){const a=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(a,`${i}`),this}range(i,s,{foreignTable:o,referencedTable:a=o}={}){const l=typeof a>"u"?"offset":`${a}.offset`,c=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${i}`),this.url.searchParams.set(c,`${s-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:i=!1,verbose:s=!1,settings:o=!1,buffers:a=!1,wal:l=!1,format:c="text"}={}){var f;const p=[i?"analyze":null,s?"verbose":null,o?"settings":null,a?"buffers":null,l?"wal":null].filter(Boolean).join("|"),g=(f=this.headers.Accept)!==null&&f!==void 0?f:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${c}; for="${g}"; options=${p};`,c==="json"?this:this}rollback(){var i;return((i=this.headers.Prefer)!==null&&i!==void 0?i:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return rd.default=n,rd}var $E;function K_(){if($E)return nd;$E=1;var e=nd&&nd.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(nd,"__esModule",{value:!0});const t=e(HI());class n extends t.default{eq(i,s){return this.url.searchParams.append(i,`eq.${s}`),this}neq(i,s){return this.url.searchParams.append(i,`neq.${s}`),this}gt(i,s){return this.url.searchParams.append(i,`gt.${s}`),this}gte(i,s){return this.url.searchParams.append(i,`gte.${s}`),this}lt(i,s){return this.url.searchParams.append(i,`lt.${s}`),this}lte(i,s){return this.url.searchParams.append(i,`lte.${s}`),this}like(i,s){return this.url.searchParams.append(i,`like.${s}`),this}likeAllOf(i,s){return this.url.searchParams.append(i,`like(all).{${s.join(",")}}`),this}likeAnyOf(i,s){return this.url.searchParams.append(i,`like(any).{${s.join(",")}}`),this}ilike(i,s){return this.url.searchParams.append(i,`ilike.${s}`),this}ilikeAllOf(i,s){return this.url.searchParams.append(i,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(i,s){return this.url.searchParams.append(i,`ilike(any).{${s.join(",")}}`),this}is(i,s){return this.url.searchParams.append(i,`is.${s}`),this}in(i,s){const o=Array.from(new Set(s)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(i,`in.(${o})`),this}contains(i,s){return typeof s=="string"?this.url.searchParams.append(i,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(i,`cs.{${s.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(s)}`),this}containedBy(i,s){return typeof s=="string"?this.url.searchParams.append(i,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(i,`cd.{${s.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(s)}`),this}rangeGt(i,s){return this.url.searchParams.append(i,`sr.${s}`),this}rangeGte(i,s){return this.url.searchParams.append(i,`nxl.${s}`),this}rangeLt(i,s){return this.url.searchParams.append(i,`sl.${s}`),this}rangeLte(i,s){return this.url.searchParams.append(i,`nxr.${s}`),this}rangeAdjacent(i,s){return this.url.searchParams.append(i,`adj.${s}`),this}overlaps(i,s){return typeof s=="string"?this.url.searchParams.append(i,`ov.${s}`):this.url.searchParams.append(i,`ov.{${s.join(",")}}`),this}textSearch(i,s,{config:o,type:a}={}){let l="";a==="plain"?l="pl":a==="phrase"?l="ph":a==="websearch"&&(l="w");const c=o===void 0?"":`(${o})`;return this.url.searchParams.append(i,`${l}fts${c}.${s}`),this}match(i){return Object.entries(i).forEach(([s,o])=>{this.url.searchParams.append(s,`eq.${o}`)}),this}not(i,s,o){return this.url.searchParams.append(i,`not.${s}.${o}`),this}or(i,{foreignTable:s,referencedTable:o=s}={}){const a=o?`${o}.or`:"or";return this.url.searchParams.append(a,`(${i})`),this}filter(i,s,o){return this.url.searchParams.append(i,`${s}.${o}`),this}}return nd.default=n,nd}var UE;function WI(){if(UE)return td;UE=1;var e=td&&td.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(td,"__esModule",{value:!0});const t=e(K_());class n{constructor(i,{headers:s={},schema:o,fetch:a}){this.url=i,this.headers=s,this.schema=o,this.fetch=a}select(i,{head:s=!1,count:o}={}){const a=s?"HEAD":"GET";let l=!1;const c=(i??"*").split("").map(f=>/\s/.test(f)&&!l?"":(f==='"'&&(l=!l),f)).join("");return this.url.searchParams.set("select",c),o&&(this.headers.Prefer=`count=${o}`),new t.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(i,{count:s,defaultToNull:o=!0}={}){const a="POST",l=[];if(this.headers.Prefer&&l.push(this.headers.Prefer),s&&l.push(`count=${s}`),o||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(i)){const c=i.reduce((f,p)=>f.concat(Object.keys(p)),[]);if(c.length>0){const f=[...new Set(c)].map(p=>`"${p}"`);this.url.searchParams.set("columns",f.join(","))}}return new t.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}upsert(i,{onConflict:s,ignoreDuplicates:o=!1,count:a,defaultToNull:l=!0}={}){const c="POST",f=[`resolution=${o?"ignore":"merge"}-duplicates`];if(s!==void 0&&this.url.searchParams.set("on_conflict",s),this.headers.Prefer&&f.push(this.headers.Prefer),a&&f.push(`count=${a}`),l||f.push("missing=default"),this.headers.Prefer=f.join(","),Array.isArray(i)){const p=i.reduce((g,y)=>g.concat(Object.keys(y)),[]);if(p.length>0){const g=[...new Set(p)].map(y=>`"${y}"`);this.url.searchParams.set("columns",g.join(","))}}return new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}update(i,{count:s}={}){const o="PATCH",a=[];return this.headers.Prefer&&a.push(this.headers.Prefer),s&&a.push(`count=${s}`),this.headers.Prefer=a.join(","),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}delete({count:i}={}){const s="DELETE",o=[];return i&&o.push(`count=${i}`),this.headers.Prefer&&o.unshift(this.headers.Prefer),this.headers.Prefer=o.join(","),new t.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return td.default=n,td}var ah={},lh={},HE;function ine(){return HE||(HE=1,Object.defineProperty(lh,"__esModule",{value:!0}),lh.version=void 0,lh.version="0.0.0-automated"),lh}var WE;function sne(){if(WE)return ah;WE=1,Object.defineProperty(ah,"__esModule",{value:!0}),ah.DEFAULT_HEADERS=void 0;const e=ine();return ah.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${e.version}`},ah}var VE;function one(){if(VE)return ed;VE=1;var e=ed&&ed.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(ed,"__esModule",{value:!0});const t=e(WI()),n=e(K_()),r=sne();class i{constructor(o,{headers:a={},schema:l,fetch:c}={}){this.url=o,this.headers=Object.assign(Object.assign({},r.DEFAULT_HEADERS),a),this.schemaName=l,this.fetch=c}from(o){const a=new URL(`${this.url}/${o}`);return new t.default(a,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new i(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,a={},{head:l=!1,get:c=!1,count:f}={}){let p;const g=new URL(`${this.url}/rpc/${o}`);let y;l||c?(p=l?"HEAD":"GET",Object.entries(a).filter(([_,C])=>C!==void 0).map(([_,C])=>[_,Array.isArray(C)?`{${C.join(",")}}`:`${C}`]).forEach(([_,C])=>{g.searchParams.append(_,C)})):(p="POST",y=a);const b=Object.assign({},this.headers);return f&&(b.Prefer=`count=${f}`),new n.default({method:p,url:g,headers:b,schema:this.schemaName,body:y,fetch:this.fetch,allowEmpty:!1})}}return ed.default=i,ed}var qE;function ane(){if(qE)return Mr;qE=1;var e=Mr&&Mr.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(Mr,"__esModule",{value:!0}),Mr.PostgrestError=Mr.PostgrestBuilder=Mr.PostgrestTransformBuilder=Mr.PostgrestFilterBuilder=Mr.PostgrestQueryBuilder=Mr.PostgrestClient=void 0;const t=e(one());Mr.PostgrestClient=t.default;const n=e(WI());Mr.PostgrestQueryBuilder=n.default;const r=e(K_());Mr.PostgrestFilterBuilder=r.default;const i=e(HI());Mr.PostgrestTransformBuilder=i.default;const s=e(UI());Mr.PostgrestBuilder=s.default;const o=e($I());return Mr.PostgrestError=o.default,Mr.default={PostgrestClient:t.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:s.default,PostgrestError:o.default},Mr}var lne=ane();const une=Vi(lne),{PostgrestClient:cne,PostgrestQueryBuilder:Xpe,PostgrestFilterBuilder:Jpe,PostgrestTransformBuilder:Zpe,PostgrestBuilder:eme,PostgrestError:tme}=une;function dne(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const fne=dne(),hne="2.11.15",pne=`realtime-js/${hne}`,mne="1.0.0",VI=1e4,gne=1e3;var Mh;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Mh||(Mh={}));var Zr;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Zr||(Zr={}));var Js;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Js||(Js={}));var Mw;(function(e){e.websocket="websocket"})(Mw||(Mw={}));var ku;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(ku||(ku={}));class yne{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const i=n.getUint8(1),s=n.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(t.slice(o,o+i));o=o+i;const l=r.decode(t.slice(o,o+s));o=o+s;const c=JSON.parse(r.decode(t.slice(o,t.byteLength)));return{ref:null,topic:a,event:l,payload:c}}}class qI{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Pn;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Pn||(Pn={}));const QE=(e,t,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((s,o)=>(s[o]=vne(o,e,t,i),s),{})},vne=(e,t,n,r)=>{const i=t.find(a=>a.name===e),s=i?.type,o=n[e];return s&&!r.includes(s)?QI(s,o):Aw(o)},QI=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return _ne(t,n)}switch(e){case Pn.bool:return xne(t);case Pn.float4:case Pn.float8:case Pn.int2:case Pn.int4:case Pn.int8:case Pn.numeric:case Pn.oid:return bne(t);case Pn.json:case Pn.jsonb:return wne(t);case Pn.timestamp:return Sne(t);case Pn.abstime:case Pn.date:case Pn.daterange:case Pn.int4range:case Pn.int8range:case Pn.money:case Pn.reltime:case Pn.text:case Pn.time:case Pn.timestamptz:case Pn.timetz:case Pn.tsrange:case Pn.tstzrange:return Aw(t);default:return Aw(t)}},Aw=e=>e,xne=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},bne=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},wne=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},_ne=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let s;const o=e.slice(1,n);try{s=JSON.parse("["+o+"]")}catch{s=o?o.split(","):[]}return s.map(a=>QI(t,a))}return e},Sne=e=>typeof e=="string"?e.replace(" ","T"):e,KI=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Lx{constructor(t,n,r={},i=VI){this.channel=t,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var KE;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(KE||(KE={}));class Ah{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ah.syncState(this.state,i,s,o),this.pendingDiffs.forEach(l=>{this.state=Ah.syncDiff(this.state,l,s,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},i=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Ah.syncDiff(this.state,i,s,o),a())}),this.onJoin((i,s,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:o})}),this.onLeave((i,s,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,i){const s=this.cloneDeep(t),o=this.transformState(n),a={},l={};return this.map(s,(c,f)=>{o[c]||(l[c]=f)}),this.map(o,(c,f)=>{const p=s[c];if(p){const g=f.map(C=>C.presence_ref),y=p.map(C=>C.presence_ref),b=f.filter(C=>y.indexOf(C.presence_ref)<0),_=p.filter(C=>g.indexOf(C.presence_ref)<0);b.length>0&&(a[c]=b),_.length>0&&(l[c]=_)}else a[c]=f}),this.syncDiff(s,{joins:a,leaves:l},r,i)}static syncDiff(t,n,r,i){const{joins:s,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(s,(a,l)=>{var c;const f=(c=t[a])!==null&&c!==void 0?c:[];if(t[a]=this.cloneDeep(l),f.length>0){const p=t[a].map(y=>y.presence_ref),g=f.filter(y=>p.indexOf(y.presence_ref)<0);t[a].unshift(...g)}r(a,f,l)}),this.map(o,(a,l)=>{let c=t[a];if(!c)return;const f=l.map(p=>p.presence_ref);c=c.filter(p=>f.indexOf(p.presence_ref)<0),t[a]=c,i(a,c,l),c.length===0&&delete t[a]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const i=t[r];return"metas"in i?n[r]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):n[r]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var GE;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(GE||(GE={}));var YE;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(YE||(YE={}));var ia;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(ia||(ia={}));class G_{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=Zr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Lx(this,Js.join,this.params,this.timeout),this.rejoinTimer=new qI(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Zr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Zr.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Zr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Zr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Js.reply,{},(i,s)=>{this._trigger(this._replyEventName(s),i)}),this.presence=new Ah(this),this.broadcastEndpointURL=KI(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Zr.closed){const{config:{broadcast:s,presence:o,private:a}}=this.params;this._onError(f=>t?.(ia.CHANNEL_ERROR,f)),this._onClose(()=>t?.(ia.CLOSED));const l={},c={broadcast:s,presence:o,postgres_changes:(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(f=>f.filter))!==null&&i!==void 0?i:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},l)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:f})=>{var p;if(this.socket.setAuth(),f===void 0){t?.(ia.SUBSCRIBED);return}else{const g=this.bindings.postgres_changes,y=(p=g?.length)!==null&&p!==void 0?p:0,b=[];for(let _=0;_<y;_++){const C=g[_],{filter:{event:k,schema:P,table:O,filter:$}}=C,B=f&&f[_];if(B&&B.event===k&&B.schema===P&&B.table===O&&B.filter===$)b.push(Object.assign(Object.assign({},C),{id:B.id}));else{this.unsubscribe(),this.state=Zr.errored,t?.(ia.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=b,t&&t(ia.SUBSCRIBED);return}}).receive("error",f=>{this.state=Zr.errored,t?.(ia.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{t?.(ia.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this._on(t,n,r)}async send(t,n={}){var r,i;if(!this._canPush()&&t.type==="broadcast"){const{event:s,payload:o}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=c.body)===null||i===void 0?void 0:i.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var o,a,l;const c=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&s("ok"),c.receive("ok",()=>s("ok")),c.receive("error",()=>s("error")),c.receive("timeout",()=>s("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Zr.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Js.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new Lx(this,Js.leave,{},t),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,n,r){const i=new AbortController,s=setTimeout(()=>i.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(s),o}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Lx(this,t,n,r);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var i,s;const o=t.toLocaleLowerCase(),{close:a,error:l,leave:c,join:f}=Js;if(r&&[a,l,c,f].indexOf(o)>=0&&r!==this._joinRef())return;let g=this._onMessage(o,n,r);if(n&&!g)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(y=>{var b,_,C;return((b=y.filter)===null||b===void 0?void 0:b.event)==="*"||((C=(_=y.filter)===null||_===void 0?void 0:_.event)===null||C===void 0?void 0:C.toLocaleLowerCase())===o}).map(y=>y.callback(g,r)):(s=this.bindings[o])===null||s===void 0||s.filter(y=>{var b,_,C,k,P,O;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in y){const $=y.id,B=(b=y.filter)===null||b===void 0?void 0:b.event;return $&&((_=n.ids)===null||_===void 0?void 0:_.includes($))&&(B==="*"||B?.toLocaleLowerCase()===((C=n.data)===null||C===void 0?void 0:C.type.toLocaleLowerCase()))}else{const $=(P=(k=y?.filter)===null||k===void 0?void 0:k.event)===null||P===void 0?void 0:P.toLocaleLowerCase();return $==="*"||$===((O=n?.event)===null||O===void 0?void 0:O.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===o}).map(y=>{if(typeof g=="object"&&"ids"in g){const b=g.data,{schema:_,table:C,commit_timestamp:k,type:P,errors:O}=b;g=Object.assign(Object.assign({},{schema:_,table:C,commit_timestamp:k,eventType:P,new:{},old:{},errors:O}),this._getPayloadRecords(b))}y.callback(g,r)})}_isClosed(){return this.state===Zr.closed}_isJoined(){return this.state===Zr.joined}_isJoining(){return this.state===Zr.joining}_isLeaving(){return this.state===Zr.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const i=t.toLocaleLowerCase(),s={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===r&&G_.isEqual(i.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Js.close,{},t)}_onError(t){this._on(Js.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Zr.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=QE(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=QE(t.columns,t.old_record)),n}}const XE=()=>{},Cne=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class kne{constructor(t,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=VI,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=XE,this.ref=0,this.logger=XE,this.conn=null,this.sendBuffer=[],this.serializer=new yne,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=s=>{let o;return s?o=s:typeof fetch>"u"?o=(...a)=>dp(async()=>{const{default:l}=await Promise.resolve().then(()=>cf);return{default:l}},void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${t}/${Mw.websocket}`,this.httpEndpoint=KI(t),n?.transport?this.transport=n.transport:this.transport=null,n?.params&&(this.params=n.params),n?.timeout&&(this.timeout=n.timeout),n?.logger&&(this.logger=n.logger),(n?.logLevel||n?.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),n?.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const i=(r=n?.params)===null||r===void 0?void 0:r.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=n?.reconnectAfterMs?n.reconnectAfterMs:s=>[1e3,2e3,5e3,1e4][s-1]||1e4,this.encode=n?.encode?n.encode:(s,o)=>o(JSON.stringify(s)),this.decode=n?.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new qI(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n?.fetch),n?.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=n?.worker||!1,this.workerUrl=n?.workerUrl}this.accessToken=n?.accessToken||null}connect(){if(!this.conn){if(this.transport||(this.transport=fne),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:mne}))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Mh.connecting:return ku.Connecting;case Mh.open:return ku.Open;case Mh.closing:return ku.Closing;default:return ku.Closed}}isConnected(){return this.connectionState()===ku.Open}channel(t,n={config:{}}){const r=`realtime:${t}`,i=this.getChannels().find(s=>s.topic===r);if(i)return i;{const s=new G_(`realtime:${t}`,n,this);return this.channels.push(s),s}}push(t){const{topic:n,event:r,payload:i,ref:s}=t,o=()=>{this.encode(t,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${r} (${s})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let n=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const i={access_token:n,version:pne};n&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(Js.access_token,{access_token:n})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(gne,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:r,event:i,payload:s,ref:o}=n;r==="phoenix"&&i==="phx_reply"&&this.heartbeatCallback(n.payload.status=="ok"?"ok":"error"),o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${s.status||""} ${r} ${i} ${o&&"("+o+")"||""}`,s),Array.from(this.channels).filter(a=>a._isMember(r)).forEach(a=>a._trigger(i,s,o)),this.stateChangeCallbacks.message.forEach(a=>a(n))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(t=>t())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",`${t}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Js.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${r}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([Cne],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class Y_ extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Dr(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class Ene extends Y_{constructor(t,n,r){super(t),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Dw extends Y_{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var Tne=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(f){try{c(r.next(f))}catch(p){o(p)}}function l(f){try{c(r.throw(f))}catch(p){o(p)}}function c(f){f.done?s(f.value):i(f.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};const GI=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>dp(async()=>{const{default:r}=await Promise.resolve().then(()=>cf);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},jne=()=>Tne(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield dp(()=>Promise.resolve().then(()=>cf),void 0)).Response:Response}),Lw=e=>{if(Array.isArray(e))return e.map(n=>Lw(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));t[i]=Lw(r)}),t},Ine=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var lc=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(f){try{c(r.next(f))}catch(p){o(p)}}function l(f){try{c(r.throw(f))}catch(p){o(p)}}function c(f){f.done?s(f.value):i(f.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};const Fx=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Nne=(e,t,n)=>lc(void 0,void 0,void 0,function*(){const r=yield jne();e instanceof r&&!n?.noResolveJson?e.json().then(i=>{const s=e.status||500,o=i?.statusCode||s+"";t(new Ene(Fx(i),s,o))}).catch(i=>{t(new Dw(Fx(i),i))}):t(new Dw(Fx(e),e))}),Pne=(e,t,n,r)=>{const i={method:e,headers:t?.headers||{}};return e==="GET"||!r?i:(Ine(r)?(i.headers=Object.assign({"Content-Type":"application/json"},t?.headers),i.body=JSON.stringify(r)):i.body=r,Object.assign(Object.assign({},i),n))};function Op(e,t,n,r,i,s){return lc(this,void 0,void 0,function*(){return new Promise((o,a)=>{e(n,Pne(t,r,i,s)).then(l=>{if(!l.ok)throw l;return r?.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>Nne(l,a,r))})})}function ey(e,t,n,r){return lc(this,void 0,void 0,function*(){return Op(e,"GET",t,n,r)})}function sa(e,t,n,r,i){return lc(this,void 0,void 0,function*(){return Op(e,"POST",t,r,i,n)})}function Fw(e,t,n,r,i){return lc(this,void 0,void 0,function*(){return Op(e,"PUT",t,r,i,n)})}function Rne(e,t,n,r){return lc(this,void 0,void 0,function*(){return Op(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function YI(e,t,n,r,i){return lc(this,void 0,void 0,function*(){return Op(e,"DELETE",t,r,i,n)})}var Oi=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(f){try{c(r.next(f))}catch(p){o(p)}}function l(f){try{c(r.throw(f))}catch(p){o(p)}}function c(f){f.done?s(f.value):i(f.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};const One={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},JE={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Mne{constructor(t,n={},r,i){this.url=t,this.headers=n,this.bucketId=r,this.fetch=GI(i)}uploadOrUpdate(t,n,r,i){return Oi(this,void 0,void 0,function*(){try{let s;const o=Object.assign(Object.assign({},JE),i);let a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(s=new FormData,s.append("cacheControl",o.cacheControl),l&&s.append("metadata",this.encodeMetadata(l)),s.append("",r)):typeof FormData<"u"&&r instanceof FormData?(s=r,s.append("cacheControl",o.cacheControl),l&&s.append("metadata",this.encodeMetadata(l))):(s=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),i?.headers&&(a=Object.assign(Object.assign({},a),i.headers));const c=this._removeEmptyFolders(n),f=this._getFinalPath(c),p=yield(t=="PUT"?Fw:sa)(this.fetch,`${this.url}/object/${f}`,s,Object.assign({headers:a},o?.duplex?{duplex:o.duplex}:{}));return{data:{path:c,id:p.Id,fullPath:p.Key},error:null}}catch(s){if(Dr(s))return{data:null,error:s};throw s}})}upload(t,n,r){return Oi(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,i){return Oi(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(t),o=this._getFinalPath(s),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",n);try{let l;const c=Object.assign({upsert:JE.upsert},i),f=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl)):(l=r,f["cache-control"]=`max-age=${c.cacheControl}`,f["content-type"]=c.contentType);const p=yield Fw(this.fetch,a.toString(),l,{headers:f});return{data:{path:s,fullPath:p.Key},error:null}}catch(l){if(Dr(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,n){return Oi(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const i=Object.assign({},this.headers);n?.upsert&&(i["x-upsert"]="true");const s=yield sa(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),o=new URL(this.url+s.url),a=o.searchParams.get("token");if(!a)throw new Y_("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:a},error:null}}catch(r){if(Dr(r))return{data:null,error:r};throw r}})}update(t,n,r){return Oi(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return Oi(this,void 0,void 0,function*(){try{return{data:yield sa(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(Dr(i))return{data:null,error:i};throw i}})}copy(t,n,r){return Oi(this,void 0,void 0,function*(){try{return{data:{path:(yield sa(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(Dr(i))return{data:null,error:i};throw i}})}createSignedUrl(t,n,r){return Oi(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),s=yield sa(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r?.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r?.download?`&download=${r.download===!0?"":r.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${o}`)},{data:s,error:null}}catch(i){if(Dr(i))return{data:null,error:i};throw i}})}createSignedUrls(t,n,r){return Oi(this,void 0,void 0,function*(){try{const i=yield sa(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),s=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${s}`):null})),error:null}}catch(i){if(Dr(i))return{data:null,error:i};throw i}})}download(t,n){return Oi(this,void 0,void 0,function*(){const i=typeof n?.transform<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString(n?.transform||{}),o=s?`?${s}`:"";try{const a=this._getFinalPath(t);return{data:yield(yield ey(this.fetch,`${this.url}/${i}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(Dr(a))return{data:null,error:a};throw a}})}info(t){return Oi(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield ey(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Lw(r),error:null}}catch(r){if(Dr(r))return{data:null,error:r};throw r}})}exists(t){return Oi(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield Rne(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(Dr(r)&&r instanceof Dw){const i=r.originalError;if([400,404].includes(i?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),i=[],s=n?.download?`download=${n.download===!0?"":n.download}`:"";s!==""&&i.push(s);const a=typeof n?.transform<"u"?"render/image":"object",l=this.transformOptsToQueryString(n?.transform||{});l!==""&&i.push(l);let c=i.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${c}`)}}}remove(t){return Oi(this,void 0,void 0,function*(){try{return{data:yield YI(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(Dr(n))return{data:null,error:n};throw n}})}list(t,n,r){return Oi(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},One),n),{prefix:t||""});return{data:yield sa(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(Dr(i))return{data:null,error:i};throw i}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const Ane="2.10.4",Dne={"X-Client-Info":`storage-js/${Ane}`};var sd=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(f){try{c(r.next(f))}catch(p){o(p)}}function l(f){try{c(r.throw(f))}catch(p){o(p)}}function c(f){f.done?s(f.value):i(f.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};class Lne{constructor(t,n={},r,i){const s=new URL(t);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href,this.headers=Object.assign(Object.assign({},Dne),n),this.fetch=GI(r)}listBuckets(){return sd(this,void 0,void 0,function*(){try{return{data:yield ey(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Dr(t))return{data:null,error:t};throw t}})}getBucket(t){return sd(this,void 0,void 0,function*(){try{return{data:yield ey(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(Dr(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return sd(this,void 0,void 0,function*(){try{return{data:yield sa(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Dr(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return sd(this,void 0,void 0,function*(){try{return{data:yield Fw(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Dr(r))return{data:null,error:r};throw r}})}emptyBucket(t){return sd(this,void 0,void 0,function*(){try{return{data:yield sa(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(Dr(n))return{data:null,error:n};throw n}})}deleteBucket(t){return sd(this,void 0,void 0,function*(){try{return{data:yield YI(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(Dr(n))return{data:null,error:n};throw n}})}}class Fne extends Lne{constructor(t,n={},r,i){super(t,n,r,i)}from(t){return new Mne(this.url,this.headers,t,this.fetch)}}const Bne="2.53.0";let _h="";typeof Deno<"u"?_h="deno":typeof document<"u"?_h="web":typeof navigator<"u"&&navigator.product==="ReactNative"?_h="react-native":_h="node";const zne={"X-Client-Info":`supabase-js-${_h}/${Bne}`},$ne={headers:zne},Une={schema:"public"},Hne={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Wne={};var Vne=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(f){try{c(r.next(f))}catch(p){o(p)}}function l(f){try{c(r.throw(f))}catch(p){o(p)}}function c(f){f.done?s(f.value):i(f.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};const qne=e=>{let t;return e?t=e:typeof fetch>"u"?t=BI:t=fetch,(...n)=>t(...n)},Qne=()=>typeof Headers>"u"?zI:Headers,Kne=(e,t,n)=>{const r=qne(n),i=Qne();return(s,o)=>Vne(void 0,void 0,void 0,function*(){var a;const l=(a=yield t())!==null&&a!==void 0?a:e;let c=new i(o?.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),r(s,Object.assign(Object.assign({},o),{headers:c}))})};var Gne=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(f){try{c(r.next(f))}catch(p){o(p)}}function l(f){try{c(r.throw(f))}catch(p){o(p)}}function c(f){f.done?s(f.value):i(f.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};function Yne(e){return e.endsWith("/")?e:e+"/"}function Xne(e,t){var n,r;const{db:i,auth:s,realtime:o,global:a}=e,{db:l,auth:c,realtime:f,global:p}=t,g={db:Object.assign(Object.assign({},l),i),auth:Object.assign(Object.assign({},c),s),realtime:Object.assign(Object.assign({},f),o),storage:{},global:Object.assign(Object.assign(Object.assign({},p),a),{headers:Object.assign(Object.assign({},(n=p?.headers)!==null&&n!==void 0?n:{}),(r=a?.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>Gne(this,void 0,void 0,function*(){return""})};return e.accessToken?g.accessToken=e.accessToken:delete g.accessToken,g}const XI="2.71.1",vd=30*1e3,Bw=3,Bx=Bw*vd,Jne="http://localhost:9999",Zne="supabase.auth.token",ere={"X-Client-Info":`gotrue-js/${XI}`},zw="X-Supabase-Api-Version",JI={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},tre=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,nre=600*1e3;class X_ extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function Mt(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class rre extends X_{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function ire(e){return Mt(e)&&e.name==="AuthApiError"}class ZI extends X_{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Dl extends X_{constructor(t,n,r,i){super(t,r,i),this.name=n,this.status=r}}class Ja extends Dl{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function sre(e){return Mt(e)&&e.name==="AuthSessionMissingError"}class Pg extends Dl{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Rg extends Dl{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Og extends Dl{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function ore(e){return Mt(e)&&e.name==="AuthImplicitGrantRedirectError"}class ZE extends Dl{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class $w extends Dl{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function zx(e){return Mt(e)&&e.name==="AuthRetryableFetchError"}class e6 extends Dl{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Uw extends Dl{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const ty="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),t6=` 	
\r=`.split(""),are=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<t6.length;t+=1)e[t6[t].charCodeAt(0)]=-2;for(let t=0;t<ty.length;t+=1)e[ty[t].charCodeAt(0)]=t;return e})();function n6(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(ty[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(ty[r]),t.queuedBits-=6}}function eN(e,t,n){const r=are[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function r6(e){const t=[],n=o=>{t.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=o=>{cre(o,r,n)};for(let o=0;o<e.length;o+=1)eN(e.charCodeAt(o),i,s);return t.join("")}function lre(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function ure(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}lre(r,t)}}function cre(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if((e>>7-r&1)===0){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function dre(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)eN(e.charCodeAt(i),n,r);return new Uint8Array(t)}function fre(e){const t=[];return ure(e,n=>t.push(n)),new Uint8Array(t)}function hre(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};return e.forEach(i=>n6(i,n,r)),n6(null,n,r),t.join("")}function pre(e){return Math.round(Date.now()/1e3)+e}function mre(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Ys=()=>typeof window<"u"&&typeof document<"u",gu={tested:!1,writable:!1},tN=()=>{if(!Ys())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(gu.tested)return gu.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),gu.tested=!0,gu.writable=!0}catch{gu.tested=!0,gu.writable=!1}return gu.writable};function gre(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,s)=>{t[s]=i})}catch{}return n.searchParams.forEach((r,i)=>{t[i]=r}),t}const nN=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>dp(async()=>{const{default:r}=await Promise.resolve().then(()=>cf);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},yre=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",xd=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},yu=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Ga=async(e,t)=>{await e.removeItem(t)};class r1{constructor(){this.promise=new r1.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}r1.promiseConstructor=Promise;function $x(e){const t=e.split(".");if(t.length!==3)throw new Uw("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!tre.test(t[r]))throw new Uw("JWT not in base64url format");return{header:JSON.parse(r6(t[0])),payload:JSON.parse(r6(t[1])),signature:dre(t[2]),raw:{header:t[0],payload:t[1]}}}async function vre(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function xre(e,t){return new Promise((r,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const o=await e(s);if(!t(s,null,o)){r(o);return}}catch(o){if(!t(s,o)){i(o);return}}})()})}function bre(e){return("0"+e.toString(16)).substr(-2)}function wre(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let s=0;s<56;s++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,bre).join("")}async function _re(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function Sre(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await _re(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function od(e,t,n=!1){const r=wre();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await xd(e,`${t}-code-verifier`,i);const s=await Sre(r);return[s,r===s?"plain":"s256"]}const Cre=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function kre(e){const t=e.headers.get(zw);if(!t||!t.match(Cre))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Ere(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function Tre(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const jre=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ad(e){if(!jre.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Ux(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function i6(e){return JSON.parse(JSON.stringify(e))}var Ire=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const Su=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Nre=[502,503,504];async function s6(e){var t;if(!yre(e))throw new $w(Su(e),0);if(Nre.includes(e.status))throw new $w(Su(e),e.status);let n;try{n=await e.json()}catch(s){throw new ZI(Su(s),s)}let r;const i=kre(e);if(i&&i.getTime()>=JI["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new e6(Su(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new Ja}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((s,o)=>s&&typeof o=="string",!0))throw new e6(Su(n),e.status,n.weak_password.reasons);throw new rre(Su(n),e.status||500,r)}const Pre=(e,t,n,r)=>{const i={method:e,headers:t?.headers||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function Gt(e,t,n,r){var i;const s=Object.assign({},r?.headers);s[zw]||(s[zw]=JI["2024-01-01"].name),r?.jwt&&(s.Authorization=`Bearer ${r.jwt}`);const o=(i=r?.query)!==null&&i!==void 0?i:{};r?.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await Rre(e,t,n+a,{headers:s,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(l):{data:Object.assign({},l),error:null}}async function Rre(e,t,n,r,i,s){const o=Pre(t,r,i,s);let a;try{a=await e(n,Object.assign({},o))}catch(l){throw console.error(l),new $w(Su(l),0)}if(a.ok||await s6(a),r?.noResolveJson)return a;try{return await a.json()}catch(l){await s6(l)}}function ta(e){var t;let n=null;Dre(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=pre(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function o6(e){const t=ta(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function sl(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Ore(e){return{data:e,error:null}}function Mre(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s}=e,o=Ire(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function Are(e){return e}function Dre(e){return e.access_token&&e.refresh_token&&e.expires_in}const Hx=["global","local","others"];var Lre=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};class Fre{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=nN(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n=Hx[0]){if(Hx.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Hx.join(", ")}`);try{return await Gt(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Mt(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await Gt(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:sl})}catch(r){if(Mt(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=Lre(t,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r?.newEmail,delete i.newEmail),await Gt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:Mre,redirectTo:n?.redirectTo})}catch(n){if(Mt(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await Gt(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:sl})}catch(n){if(Mt(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,i,s,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},f=await Gt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(s=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:Are});if(f.error)throw f.error;const p=await f.json(),g=(o=f.headers.get("x-total-count"))!==null&&o!==void 0?o:0,y=(l=(a=f.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return y.length>0&&(y.forEach(b=>{const _=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(b.split(";")[1].split("=")[1]);c[`${C}Page`]=_}),c.total=parseInt(g)),{data:Object.assign(Object.assign({},p),c),error:null}}catch(c){if(Mt(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){ad(t);try{return await Gt(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:sl})}catch(n){if(Mt(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){ad(t);try{return await Gt(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:sl})}catch(r){if(Mt(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){ad(t);try{return await Gt(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:sl})}catch(r){if(Mt(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){ad(t.userId);try{const{data:n,error:r}=await Gt(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(Mt(n))return{data:null,error:n};throw n}}async _deleteFactor(t){ad(t.userId),ad(t.id);try{return{data:await Gt(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(Mt(n))return{data:null,error:n};throw n}}}function a6(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function Bre(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const ld={debug:!!(globalThis&&tN()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class rN extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class zre extends rN{}async function $re(e,t,n){ld.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),ld.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){ld.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await n()}finally{ld.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw ld.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new zre(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(ld.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}Bre();const Ure={url:Jne,storageKey:Zne,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:ere,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function l6(e,t,n){return await n()}const ud={};class op{constructor(t){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=op.nextInstanceID,op.nextInstanceID+=1,this.instanceID>0&&Ys()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},Ure),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new Fre({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=nN(i.fetch),this.lock=i.lock||l6,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:Ys()&&(!((n=globalThis?.navigator)===null||n===void 0)&&n.locks)?this.lock=$re:this.lock=l6,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:tN()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=a6(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=a6(this.memoryStorage)),Ys()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}get jwks(){var t,n;return(n=(t=ud[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){ud[this.storageKey]=Object.assign(Object.assign({},ud[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=ud[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){ud[this.storageKey]=Object.assign(Object.assign({},ud[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${XI}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=gre(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Ys()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:s}=await this._getSessionFromURL(n,r);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),ore(s)){const l=(t=s.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:o,redirectType:a}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Mt(n)?{error:n}:{error:new ZI("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,i;try{const s=await Gt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t?.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=t?.options)===null||i===void 0?void 0:i.captchaToken}},xform:ta}),{data:o,error:a}=s;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(Mt(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(t){var n,r,i;try{let s;if("email"in t){const{email:f,password:p,options:g}=t;let y=null,b=null;this.flowType==="pkce"&&([y,b]=await od(this.storage,this.storageKey)),s=await Gt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:g?.emailRedirectTo,body:{email:f,password:p,data:(n=g?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:g?.captchaToken},code_challenge:y,code_challenge_method:b},xform:ta})}else if("phone"in t){const{phone:f,password:p,options:g}=t;s=await Gt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:f,password:p,data:(r=g?.data)!==null&&r!==void 0?r:{},channel:(i=g?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:g?.captchaToken}},xform:ta})}else throw new Rg("You must provide either an email or phone number and a password");const{data:o,error:a}=s;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(Mt(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(t){try{let n;if("email"in t){const{email:s,password:o,options:a}=t;n=await Gt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:o,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:o6})}else if("phone"in t){const{phone:s,password:o,options:a}=t;n=await Gt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:o,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:o6})}else throw new Rg("You must provide either an email or phone number and a password");const{data:r,error:i}=n;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Pg}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(Mt(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,i,s;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;if(n==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(t){var n,r,i,s,o,a,l,c,f,p,g,y;let b,_;if("message"in t)b=t.message,_=t.signature;else{const{chain:C,wallet:k,statement:P,options:O}=t;let $;if(Ys())if(typeof k=="object")$=k;else{const j=window;if("solana"in j&&typeof j.solana=="object"&&("signIn"in j.solana&&typeof j.solana.signIn=="function"||"signMessage"in j.solana&&typeof j.solana.signMessage=="function"))$=j.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof k!="object"||!O?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");$=k}const B=new URL((n=O?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in $&&$.signIn){const j=await $.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},O?.signInWithSolana),{version:"1",domain:B.host,uri:B.href}),P?{statement:P}:null));let M;if(Array.isArray(j)&&j[0]&&typeof j[0]=="object")M=j[0];else if(j&&typeof j=="object"&&"signedMessage"in j&&"signature"in j)M=j;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in M&&"signature"in M&&(typeof M.signedMessage=="string"||M.signedMessage instanceof Uint8Array)&&M.signature instanceof Uint8Array)b=typeof M.signedMessage=="string"?M.signedMessage:new TextDecoder().decode(M.signedMessage),_=M.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in $)||typeof $.signMessage!="function"||!("publicKey"in $)||typeof $!="object"||!$.publicKey||!("toBase58"in $.publicKey)||typeof $.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");b=[`${B.host} wants you to sign in with your Solana account:`,$.publicKey.toBase58(),...P?["",P,""]:[""],"Version: 1",`URI: ${B.href}`,`Issued At: ${(i=(r=O?.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=O?.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${O.signInWithSolana.notBefore}`]:[],...!((o=O?.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${O.signInWithSolana.expirationTime}`]:[],...!((a=O?.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${O.signInWithSolana.chainId}`]:[],...!((l=O?.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${O.signInWithSolana.nonce}`]:[],...!((c=O?.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${O.signInWithSolana.requestId}`]:[],...!((p=(f=O?.signInWithSolana)===null||f===void 0?void 0:f.resources)===null||p===void 0)&&p.length?["Resources",...O.signInWithSolana.resources.map(M=>`- ${M}`)]:[]].join(`
`);const j=await $.signMessage(new TextEncoder().encode(b),"utf8");if(!j||!(j instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");_=j}}try{const{data:C,error:k}=await Gt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:b,signature:hre(_)},!((g=t.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(y=t.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:ta});if(k)throw k;return!C||!C.session||!C.user?{data:{user:null,session:null},error:new Pg}:(C.session&&(await this._saveSession(C.session),await this._notifyAllSubscribers("SIGNED_IN",C.session)),{data:Object.assign({},C),error:k})}catch(C){if(Mt(C))return{data:{user:null,session:null},error:C};throw C}}async _exchangeCodeForSession(t){const n=await yu(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:s,error:o}=await Gt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:ta});if(await Ga(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new Pg}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:o})}catch(s){if(Mt(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(t){try{const{options:n,provider:r,token:i,access_token:s,nonce:o}=t,a=await Gt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:s,nonce:o,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:ta}),{data:l,error:c}=a;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Pg}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(n){if(Mt(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,i,s,o;try{if("email"in t){const{email:a,options:l}=t;let c=null,f=null;this.flowType==="pkce"&&([c,f]=await od(this.storage,this.storageKey));const{error:p}=await Gt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l?.data)!==null&&n!==void 0?n:{},create_user:(r=l?.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},code_challenge:c,code_challenge_method:f},redirectTo:l?.emailRedirectTo});return{data:{user:null,session:null},error:p}}if("phone"in t){const{phone:a,options:l}=t,{data:c,error:f}=await Gt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(i=l?.data)!==null&&i!==void 0?i:{},create_user:(s=l?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},channel:(o=l?.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c?.message_id},error:f}}throw new Rg("You must provide either an email or phone number.")}catch(a){if(Mt(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(t){var n,r;try{let i,s;"options"in t&&(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo,s=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await Gt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:ta});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l?.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(Mt(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var n,r,i;try{let s=null,o=null;return this.flowType==="pkce"&&([s,o]=await od(this.storage,this.storageKey)),await Gt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=t?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:o}),headers:this.headers,xform:Ore})}catch(s){if(Mt(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new Ja;const{error:i}=await Gt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(Mt(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:i,options:s}=t,{error:o}=await Gt(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:s?.captchaToken}},redirectTo:s?.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:r,type:i,options:s}=t,{data:o,error:a}=await Gt(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:s?.captchaToken}}});return{data:{user:null,session:null,messageId:o?.message_id},error:a}}throw new Rg("You must provide either an email or phone number and a type")}catch(n){if(Mt(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await yu(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<Bx:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const o=await yu(this.userStorage,this.storageKey+"-user");o?.user?t.user=o.user:t.user=Ux()}if(this.storage.isServer&&t.user){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,c,f)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,f))})}return{data:{session:t},error:null}}const{session:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Gt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:sl}):await this._useSession(async n=>{var r,i,s;const{data:o,error:a}=n;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ja}:await Gt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:sl})})}catch(n){if(Mt(n))return sre(n)&&(await this._removeSession(),await Ga(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:i,error:s}=r;if(s)throw s;if(!i.session)throw new Ja;const o=i.session;let a=null,l=null;this.flowType==="pkce"&&t.email!=null&&([a,l]=await od(this.storage,this.storageKey));const{data:c,error:f}=await Gt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:sl});if(f)throw f;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(Mt(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Ja;const n=Date.now()/1e3;let r=n,i=!0,s=null;const{payload:o}=$x(t.access_token);if(o.exp&&(r=o.exp,i=r<=n),i){const{session:a,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};s=a}else{const{data:a,error:l}=await this._getUser(t.access_token);if(l)throw l;s={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(n){if(Mt(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:o,error:a}=n;if(a)throw a;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!t?.refresh_token)throw new Ja;const{session:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(Mt(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!Ys())throw new Og("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Og(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new ZE("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Og("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new ZE("No code detected.");const{data:P,error:O}=await this._exchangeCodeForSession(t.code);if(O)throw O;const $=new URL(window.location.href);return $.searchParams.delete("code"),window.history.replaceState(window.history.state,"",$.toString()),{data:{session:P.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:s,refresh_token:o,expires_in:a,expires_at:l,token_type:c}=t;if(!s||!a||!o||!c)throw new Og("No session defined in URL");const f=Math.round(Date.now()/1e3),p=parseInt(a);let g=f+p;l&&(g=parseInt(l));const y=g-f;y*1e3<=vd&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${p}s`);const b=g-p;f-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,g,f):f-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,g,f);const{data:_,error:C}=await this._getUser(s);if(C)throw C;const k={provider_token:r,provider_refresh_token:i,access_token:s,expires_in:p,expires_at:g,refresh_token:o,token_type:c,user:_.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:k,redirectType:t.type},error:null}}catch(r){if(Mt(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await yu(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{error:s};const o=(r=i.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,t);if(a&&!(ire(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return t!=="others"&&(await this._removeSession(),await Ga(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=mre(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,i;try{const{data:{session:s},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}})}async resetPasswordForEmail(t,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await od(this.storage,this.storageKey,!0));try{return await Gt(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(s){if(Mt(s))return{data:null,error:s};throw s}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(Mt(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:i}=await this._useSession(async s=>{var o,a,l,c,f;const{data:p,error:g}=s;if(g)throw g;const y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await Gt(this.fetch,"GET",y,{headers:this.headers,jwt:(f=(c=p.session)===null||c===void 0?void 0:c.access_token)!==null&&f!==void 0?f:void 0})});if(i)throw i;return Ys()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r?.url),{data:{provider:t.provider,url:r?.url},error:null}}catch(r){if(Mt(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,i;const{data:s,error:o}=n;if(o)throw o;return await Gt(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(r=s.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(Mt(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await xre(async i=>(i>0&&await vre(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await Gt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:ta})),(i,s)=>{const o=200*Math.pow(2,i);return s&&zx(s)&&Date.now()+o-r<vd})}catch(r){if(this._debug(n,"error",r),Mt(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),Ys()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await yu(this.storage,this.storageKey);if(i&&this.userStorage){let o=await yu(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await xd(this.userStorage,this.storageKey+"-user",o)),i.user=(t=o?.user)!==null&&t!==void 0?t:Ux()}else if(i&&!i.user&&!i.user){const o=await yu(this.storage,this.storageKey+"-user");o&&o?.user?(i.user=o.user,await Ga(this.storage,this.storageKey+"-user"),await xd(this.storage,this.storageKey,i)):i.user=Ux()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const s=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Bx;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${Bx}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),zx(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(i.access_token);!a&&o?.user?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new Ja;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new r1;const{data:s,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!s.session)throw new Ja;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const a={session:s.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(s){if(this._debug(i,"error",s),Mt(s)){const o={session:null,error:s};return zx(s)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,n,r=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const s=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,n)}catch(l){s.push(l)}});if(await Promise.all(o),s.length>0){for(let a=0;a<s.length;a+=1)console.error(s[a]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await xd(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const s=i6(i);await xd(this.storage,this.storageKey,s)}else{const i=i6(n);await xd(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await Ga(this.storage,this.storageKey),await Ga(this.storage,this.storageKey+"-code-verifier"),await Ga(this.storage,this.storageKey+"-user"),this.userStorage&&await Ga(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Ys()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),vd);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-t)/vd);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${vd}ms, refresh threshold is ${Bw} ticks`),i<=Bw&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof rN)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ys()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r?.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[s,o]=await od(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(a.toString())}if(r?.queryParams){const s=new URLSearchParams(r.queryParams);i.push(s.toString())}return r?.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;return s?{data:null,error:s}:await Gt(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Mt(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,i;const{data:s,error:o}=n;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:l,error:c}=await Gt(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=s?.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(t.factorType==="totp"&&(!((i=l?.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(Mt(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{data:null,error:s};const{data:o,error:a}=await Gt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(n){if(Mt(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;return s?{data:null,error:s}:await Gt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Mt(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=t?.factors||[],i=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),s=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:i,phone:s},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:i},error:s}=t;if(s)return{data:null,error:s};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=$x(i.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((r=(n=i.user.factors)===null||n===void 0?void 0:n.filter(p=>p.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const f=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:f},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(a=>a.kid===t);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(a=>a.kid===t),r&&this.jwks_cached_at+nre>i)return r;const{data:s,error:o}=await Gt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,r=s.keys.find(a=>a.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:y,error:b}=await this.getSession();if(b||!y.session)return{data:null,error:b};r=y.session.access_token}const{header:i,payload:s,signature:o,raw:{header:a,payload:l}}=$x(r);n?.allowExpired||Ere(s.exp);const c=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!c){const{error:y}=await this.getUser(r);if(y)throw y;return{data:{claims:s,header:i,signature:o},error:null}}const f=Tre(i.alg),p=await crypto.subtle.importKey("jwk",c,f,!0,["verify"]);if(!await crypto.subtle.verify(f,p,o,fre(`${a}.${l}`)))throw new Uw("Invalid JWT signature");return{data:{claims:s,header:i,signature:o},error:null}}catch(r){if(Mt(r))return{data:null,error:r};throw r}}}op.nextInstanceID=0;const Hre=op;class Wre extends Hre{constructor(t){super(t)}}var Vre=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(f){try{c(r.next(f))}catch(p){o(p)}}function l(f){try{c(r.throw(f))}catch(p){o(p)}}function c(f){f.done?s(f.value):i(f.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};class qre{constructor(t,n,r){var i,s,o;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const a=Yne(t),l=new URL(a);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,f={db:Une,realtime:Wne,auth:Object.assign(Object.assign({},Hne),{storageKey:c}),global:$ne},p=Xne(r??{},f);this.storageKey=(i=p.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=p.global.headers)!==null&&s!==void 0?s:{},p.accessToken?(this.accessToken=p.accessToken,this.auth=new Proxy({},{get:(g,y)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(y)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=p.auth)!==null&&o!==void 0?o:{},this.headers,p.global.fetch),this.fetch=Kne(n,this._getAccessToken.bind(this),p.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},p.realtime)),this.rest=new cne(new URL("rest/v1",l).href,{headers:this.headers,schema:p.db.schema,fetch:this.fetch}),this.storage=new Fne(this.storageUrl.href,this.headers,this.fetch,r?.storage),p.accessToken||this._listenForAuthEvents()}get functions(){return new Jte(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return Vre(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,storageKey:s,flowType:o,lock:a,debug:l},c,f){const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Wre({url:this.authUrl.href,headers:Object.assign(Object.assign({},p),c),storageKey:s,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,flowType:o,lock:a,debug:l,fetch:f,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new kne(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r?.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Qre=(e,t,n)=>new qre(e,t,n);function Kre(){if(typeof window<"u"||typeof process>"u"||process.version===void 0||process.version===null)return!1;const e=process.version.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}Kre()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");function u6(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var cd=[..."".normalize("NFD")].map(e=>e.charCodeAt(0)),c6=44032,Gre=55203,Wx=28,d6=21,Hw={"":"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Ww={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Yre=["","","","","","","","","","","","","","","","","","",""],Xre=Object.values(Ww),Jre=["","","","","","","","","","","","","","","","","","","","","","","","","","","",""].map(e=>Hw[e]);function Zre(e){const t=e.charCodeAt(0);if(!(c6<=t&&t<=Gre))return;const r=t-c6,i=r%Wx,s=(r-i)/Wx%d6,o=Math.floor((r-i)/Wx/d6);return{choseong:Yre[o],jungseong:Xre[s],jongseong:Jre[i]}}function eie(e){const t=[];for(const n of e){const r=Zre(n);if(r!=null){t.push([...r.choseong,...r.jungseong,...r.jongseong]);continue}if(u6(Hw,n)){const i=Hw[n];t.push([...i]);continue}if(u6(Ww,n)){const i=Ww[n];t.push([...i]);continue}t.push([n])}return t}function Kd(e){return eie(e).reduce((t,n)=>`${t}${n.join("")}`,"")}var ny={START_CHOSEONG:cd[0],START_JUNGSEONG:cd[1],START_JONGSEONG:cd[2],END_CHOSEONG:cd[3],END_JUNGSEONG:cd[4],END_JONGSEONG:cd[5]};new RegExp(`[^\\u${ny.START_CHOSEONG.toString(16)}-\\u${ny.END_CHOSEONG.toString(16)}-\\s]+`,"ug");new RegExp(`[\\u${ny.START_CHOSEONG.toString(16)}-\\u${ny.END_CHOSEONG.toString(16)}]`,"g");const tie=Qre("https://jvbtsubxzytnjnzxmtbg.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imp2YnRzdWJ4enl0bmpuenhtdGJnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQyMzMyMzgsImV4cCI6MjA2OTgwOTIzOH0.uUpg4kO7-uLmswUo8Dp_-WZwKw_xKqxRrpGmM2tN02I"),nie=30*1e3,rie=10*1e3,iie=60*1e3,sie=5,Mg="searchLoggingData",oie="searches_prod_2",Ot={timer:null,commitDelay:nie,data:[],loadLoggingData(){if(Ot.data.length>0)return Ot.data;const e=localStorage.getItem(Mg);return e&&(Ot.data=JSON.parse(e)),Ot.data},updateLoggingData(e,t,n){const r=!t||Number.isNaN(Number(t))?-1:Number(t),s={search:e===void 0&&Ot.data.length>0?Ot.data[Ot.data.length-1].search:e??"",dprt_cd:r,target:n,created_at:Date.now()};if((a=>{if(Ot.data.length===0)return!1;const l=Ot.data[Ot.data.length-1];return l.target<0&&(Vx(l.search,a.search)||Vx(a.search,l.search))})(s)){const a=Ot.data[Ot.data.length-1];a.target=n,a.created_at=Date.now(),Vx(s.search,a.search)&&(a.search=s.search),s.dprt_cd>=0&&(a.dprt_cd=s.dprt_cd)}else Ot.data.push(s);localStorage.setItem(Mg,JSON.stringify(Ot.data)),Ot.submitDelayCommit()},reconcileLoggingData(){Ot.data=Ot.data.filter(e=>!(e.search&&e.dprt_cd<0&&e.target<0)),Ot.data=Ot.data.filter((e,t)=>!(t>0&&e.search===Ot.data[t-1].search&&e.dprt_cd===Ot.data[t-1].dprt_cd&&e.target===-1)),localStorage.setItem(Mg,JSON.stringify(Ot.data))},submitDelayCommit(){if(Ot.timer&&(clearTimeout(Ot.timer),Ot.timer=null),Ot.data.length>sie){const e=Ot.data.map(r=>r.created_at),t=e.slice(1).map((r,i)=>r-e[i]),n=t.reduce((r,i)=>r+i,0)/t.length;Ot.commitDelay=Math.min(iie,Math.max(rie,n+10*1e3))}Ot.timer=setTimeout(()=>{Ot.timer=null,Ot.commitLoggingData()},Ot.commitDelay)},commitLoggingData(){Ot.reconcileLoggingData();const e=Ot.data.length;if(e===0)return;const t=Ot.data.map(({search:n,dprt_cd:r,target:i})=>({search:n,dprt_cd:r,target:i}));tie.from(oie).insert(t).then(({error:n})=>{n?console.error("Error committing search logging data:",n):(Ot.data=Ot.data.slice(e),localStorage.setItem(Mg,JSON.stringify(Ot.data)))})}};function Vx(e,t){const n=Kd(e).toLowerCase(),r=Kd(t).toLowerCase();return n.includes(r)}function Mp(){I.useEffect(()=>{Ot.loadLoggingData()},[]);function e(r,i){Ot.updateLoggingData(r,i,-1)}function t(r,i,s){Ot.updateLoggingData(r,i,s)}function n(r){Ot.updateLoggingData(void 0,void 0,r)}return{onSearchChange:e,selectTarget:t,selectTargetOnly:n}}const Vw=oi((e,t)=>({favorites:JSON.parse(localStorage.getItem("favorites")??"[]"),toggleFavorite:n=>{const r=t().favorites.includes(n);e(i=>{const s=r?i.favorites.filter(o=>o!==n):[...i.favorites,n];return localStorage.setItem("favorites",JSON.stringify(s)),{favorites:s}})},isFavorite:n=>t().favorites.includes(n)})),An={grades:[1,2,3,4],credits:[1,2,3],days:["","","","",""],remark:["","SHP",""],classRoom:["","","","","AI","()","","","","","","","","","","","","","","","",""],wishRange:[{min:10},{min:50},{min:100},{min:200}],seatRange:[{min:1},{max:2},{max:5},{max:10}]},aie={classRoom:[{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"AI",value:""},{label:"()",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""}]};function Ap(e){return lie(e.map(n=>n.curiTypeCdNm)).filter(n=>!!n)}function lie(e){return Array.from(new Set(e))}const Ui={keywords:"",department:"",grades:"",credits:"",classroom:"",seatRange:"",wishRange:" ",time:"",days:"",categories:" ",note:"",language:"",alarmOnly:"",favoriteOnly:""};function uie(e,t){if(t.length===0)return Ui[e];const n=t[0];return t.length===1?pl()[e]?.(n)??Ui[e]:`${pl()[e]?.(n)??Ui[e]}  ${t.length-1}`}function cie(e,t){if(t==null)return Ui[e];const n=t;return e==="seatRange"?` ${pl()[e]?.(n)??Ui[e]}`:e==="wishRange"?`  ${pl()[e]?.(n)??Ui[e]}`:pl()[e]?.(n)??Ui[e]}function f6(e,t,n){if(t==null)return"";const r=t,i=pl(n)[e]?.(r);return i?e==="seatRange"?` ${i}`:e==="wishRange"?` ${i}`:i:""}function pl(e){const t=n=>e?e.find(i=>i.departmentCode===n)?.departmentName||n:"";return{keywords:n=>typeof n=="string"?n:"",department:n=>t(n),grades:n=>p6(n,Ui.grades),credits:n=>p6(n,Ui.credits),classroom:die,seatRange:h6,wishRange:h6,time:fie,days:hie,categories:n=>n,note:n=>n,language:n=>n,alarmOnly:()=>Ui.alarmOnly,favoriteOnly:()=>Ui.favoriteOnly}}const die=e=>!e||typeof e!="string"?"":aie.classRoom.find(t=>t.value===e)?.label||e,h6=e=>{if(!e)return"";const{min:t,max:n}=e;return t!==void 0&&n!==void 0?`${t}  ~ ${n} `:t!==void 0?`${t} `:n!==void 0?`${n} `:""},fie=e=>`${e.day}${Ui.time} ${e.start}~${e.end}`,hie=e=>e+"",p6=(e,t)=>e+t;function iN(e,t){return e==="time"&&Array.isArray(t)?t.length===0||t.length===1&&t[0].day==="":Array.isArray(El[e])&&Array.isArray(t)?t.length===0:!t}function m6(e){return Array.isArray(e)?e.length>0:e!=null&&e!==""&&e!==!1}function J_(e,t){const n=[];for(const r in e){const i=e[r];if(r==="time"){const{day:s,type:o}=i;if(!s||!o)continue}r==="keywords"||r==="favoriteOnly"||r==="alarmOnly"||(Array.isArray(i)&&i.length>0&&i.forEach(s=>{m6(s)&&n.push({filterKey:r,values:s,label:f6(r,s,t)})}),!Array.isArray(i)&&m6(i)&&n.push({filterKey:r,values:i,label:i!==null?f6(r,i,t):""}))}return n}function pie(e){const{data:t}=Zy(),n=Vw(o=>o.isFavorite),r=mie(e,t,n),s=Object.keys(e).filter(o=>!iN(o,e[o]));return(o,a)=>s.every(l=>{const c=r[l];return c?c(o,a[l]):!0})}function mie(e,t,n){const r=o=>t?.some(({subjectId:a})=>a===o)??!0,i=oN(e.keywords),s=e.keywords.replace(/[-\s]/g,"").toLowerCase();return{keywords:o=>_ie(o,i,s),department:wie,grades:yie,credits:vie,categories:Eie,seatRange:xie,wishRange:bie,time:kie,days:gie,classroom:Sie,note:Cie,language:Tie,alarmOnly:o=>n(o.subjectId),favoriteOnly:o=>r(o.subjectId)}}function sN(e,t){if(!t)return!0;const{min:n,max:r}=t;return(n===void 0||e>=n)&&(r===void 0||e<=r)}function Z_(e,t){return!t.length||t.includes(e)}function oN(e){const t=e.replace(/[^\w---]/g,"");return Kd(t).toLowerCase()}function gie(e,t){if(!e.lesnTime||!t||t.length===0)return!0;const n=RegExp(/^([-]+)/).exec(e.lesnTime);if(!n)return!0;const r=n[1].split("");return t.some(i=>r.includes(i))}function yie(e,t){const n=Number(e.studentYear);return!n||t.includes("")||t.length===0?!0:t.includes(n)}function vie(e,t){const n=Number(e.tmNum.split("/")[0]);return!n||Number.isNaN(n)?!0:Z_(n,t)}function xie(e,t){const n=e;return"seat"in n?sN(n.seat??0,t):!0}function bie(e,t){return"totalCount"in e?sN(e.totalCount??0,t):!0}function wie(e,t){return!t||t===""||t===e.deptCd}function _ie(e,t,n){if(!t)return!0;const r=e.professorName?Kd(e.professorName).toLowerCase():"",i=oN(e.subjectName),o=(e.subjectCode+e.classCode).toLowerCase().includes(n);return r.includes(t)||i.includes(t)||o}function Sie(e,t){return t.length?e.lesnRoom?t.some(n=>new RegExp(`^${n}[\\w]`,"i").test(e.lesnRoom)):!1:!0}function Cie(e,t){return!t||t.length===0?!0:t.some(n=>{switch(n){case"":return e.remark?.includes("")??!1;case"SHP":return["SHP","Honor"].some(r=>e.remark?.includes(r)??!1);case"":return!e.remark||!["","SHP","Honor"].some(r=>e.remark?.includes(r)??!1)}})}function kie(e,t){if(!t||t.length===0||!e.lesnTime)return!0;const r=new of(e.lesnTime).toApiData().map(i=>({day:i.dayOfWeeks,start:new Yc(i.startTime),end:new Yc(i.endTime)}));return t.some(i=>{if(i.day==="")return!0;const s=r.filter(o=>o.day===i.day);if(i.type==="all"||!s.length)return!!s.length;if(i.type==="before"&&i.start){const o=new Yc(i.start);return s.some(a=>a.end.compare(o)<=0)}if(i.type==="after"&&i.start){const o=new Yc(i.start);return s.some(a=>o.compare(a.start)<=0)}if(i.type==="between"&&i.start&&i.end){const o=new Yc(i.start),a=new Yc(i.end);return s.some(l=>o.compare(l.start)<=0&&l.end.compare(a)<=0)}})}function Eie(e,t){return Z_(e.curiTypeCdNm,t)}function Tie(e,t){return Z_(e.curiLangNm??"",t)}function df(e,t){const n=pie(t),{onSearchChange:r}=Mp(),{keywords:i,department:s}=t;return!e||e.length===0?[]:(r(i,s),e.filter(o=>n(o,t)))}const aN="2025-09-05";function i1(e){const{hasSeats:t}=e??{},n=new Date>ej(`${aN}T10:00:00`);return{isPreSeatAvailable:!n}}function ap({col:e,row:t}){return h.jsx(h.Fragment,{children:Array.from({length:t}).map((n,r)=>h.jsx("tr",{className:"animate-pulse border-t border-gray-200 h-10",children:Array.from({length:e}).map((i,s)=>h.jsx("td",{className:"bg-gray-300",colSpan:-1},`skeleton-td-${s}-${r}`))},"skeleton-row-"+r))})}const qx=45;function s1(e,t="ref",n=".load-more-trigger"){const[r,i]=I.useState(qx),s=I.useRef(null),o=I.useRef(null);return I.useEffect(()=>{i(qx)},[e]),I.useEffect(()=>{const a=new IntersectionObserver(l=>{l.forEach(c=>{c.isIntersecting&&i(f=>f>=e.length?f:f+qx)})},{root:null,rootMargin:"0px",threshold:.5});return o.current=a,t==="ref"&&s.current?a.observe(s.current):t==="selector"&&document.querySelectorAll(n).forEach(c=>a.observe(c)),()=>{a.disconnect()}},[e,t,n]),{visibleRows:r,...t==="ref"?{loadMoreRef:s}:{}}}const o1=e=>I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:16,height:16,viewBox:"0 0 16 16",...e},I.createElement("g",{transform:"matrix(1,0,0,-1,0,32)"},I.createElement("path",{d:"M13,25.5Q12.9688,23.3125,11.75,21.65625L15.7188,17.71875Q16,17.40625,16,17Q16,16.59375,15.7188,16.28125Q15.4062,16,15,16Q14.5938,16,14.2812,16.28125L10.3438,20.25Q8.6875,19.03125,6.5,19Q3.75,19.0625,1.90625,20.90625Q0.0625,22.75,0,25.5Q0.0625,28.25,1.90625,30.0938Q3.75,31.9375,6.5,32Q9.25,31.9375,11.0938,30.0938Q12.9375,28.25,13,25.5ZM6.5,21Q7.71875,21,8.75,21.59375Q9.78125,22.1875,10.4062,23.25Q11,24.3125,11,25.5Q11,26.6875,10.4062,27.75Q9.78125,28.8125,8.75,29.4062Q7.71875,30,6.5,30Q5.28125,30,4.25,29.4062Q3.21875,28.8125,2.59375,27.75Q2,26.6875,2,25.5Q2,24.3125,2.59375,23.25Q3.21875,22.1875,4.25,21.59375Q5.28125,21,6.5,21Z",fill:"#9CA3AF",fillOpacity:1,style:{mixBlendMode:"passthrough"}})));function ry({title:e,description:t}){return h.jsxs(Pe,{direction:"flex-col",align:"items-center",gap:"gap-1",className:"mt-2",children:[h.jsx(o1,{className:"w-7 h-7"}),h.jsx("p",{className:"text-gray-500 font-medium",children:e}),t&&h.jsx("p",{className:"text-gray-400 text-xs",children:t})]})}function eS({col:e,title:t,description:n}){return h.jsx("tr",{children:h.jsx("td",{colSpan:e,className:"py-4 text-center",children:h.jsx(ry,{title:t,description:n})})})}function jie({titles:e,subjects:t,isPending:n=!1}){return h.jsxs("table",{className:"w-full bg-white rounded-lg relative text-sm",children:[h.jsx("thead",{children:h.jsx("tr",{className:"bg-gray-50 text-nowrap",children:e.map(({title:r})=>h.jsx("th",{className:"px-4 py-2",children:r},r))})}),h.jsx("tbody",{children:h.jsx(Iie,{titles:e,subjects:t,isPending:n})})]})}function Iie({titles:e,subjects:t,isPending:n=!1}){const{visibleRows:r}=s1(t??[],"selector"),i=(t??[]).filter(o=>!o.isDeleted),s=i?i.slice(0,r):[];return n||!i?h.jsx(ap,{row:5,col:e.length}):i.length?h.jsxs(h.Fragment,{children:[s.map(o=>h.jsx(Nie,{subject:o},`${o.subjectCode} ${o.subjectId} ${o.professorName}`)),h.jsx("tr",{className:"load-more-trigger"})]}):h.jsx(eS,{col:e.length,title:"  .",description:"   ."})}function Nie({subject:e}){const t=e.curiLangNm==="",r=e.isDeleted?"bg-gray-100 hover:bg-gray-200":t?"bg-green-50 hover:bg-green-100":"bg-white hover:bg-gray-100",{data:i}=Zy(),{mutate:s}=U_(),{mutate:o}=jI(),{selectTargetOnly:a}=Mp(),l=i?.some(f=>f.subjectId===e.subjectId),c=()=>{if(!l){o(e.subjectId);return}s(e.subjectId),a(e.subjectId),n1(e.deptCd)};return h.jsxs("tr",{className:`border-t border-gray-200 text-black ${r}`,children:[h.jsx("td",{className:"px-4 py-2 text-center",children:h.jsx("button",{className:"cursor-pointer","aria-label":l?"  ":"  ",onClick:c,children:h.jsx(kl,{disabled:!l})})}),h.jsxs("td",{className:"px-2 py-2 text-center",children:[e.subjectCode,"-",e.classCode]}),h.jsx("td",{className:"px-2 py-2 text-center",children:e.departmentName}),h.jsx("td",{className:"px-2 py-2 text-center",children:e.subjectName}),h.jsx("td",{className:"px-2 py-2 text-center",children:e.professorName}),e.seat!==void 0?h.jsx("td",{className:"px-2 py-2 text-center",children:e.seat>=0?h.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold ${Jy(e.seat)}`,children:e.seat}):h.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-bold bg-gray-300",children:"-"})}):null]})}function lN({subject:e,variant:t="contain",className:n,onClick:r,...i}){const{data:s}=Zy(),{mutate:o}=U_(),{mutate:a}=jI(),{selectTargetOnly:l}=Mp(),c=s?.some(g=>g.subjectId===e.subjectId),f=c?"  ":"  ",p=g=>{if(l(e.subjectId),n1(e.deptCd),r&&r(g),!c){a(e.subjectId);return}o(e.subjectId)};return h.jsx(Tr,{"aria-label":f,title:f,variant:t==="contain"?"contain":"plain",onClick:p,icon:h.jsx(kl,{disabled:!c}),className:n,...i})}function Pie({subject:e,seats:t,queryTime:n,disableSeat:r=!1,isLive:i=!1}){const s=e.isDeleted,o=e.curiLangNm==="",a=typeof e.tmNum=="string"&&Number(e.tmNum.split("/")[0])||0;return h.jsxs(Yn,{variant:"elevated",children:[h.jsxs(Pe,{justify:"justify-between",children:[h.jsx(qt,{level:3,children:e.subjectName}),h.jsx(lN,{subject:e,variant:"plain"})]}),h.jsxs(Pe,{className:"text-xs text-gray-500",direction:"flex-col",children:[h.jsx("p",{children:e.departmentName}),h.jsxs("p",{children:[e.subjectCode,"-",e.classCode," | ",e.professorName]})]}),h.jsxs("p",{className:"text-xs text-gray-500 mb-2",children:[e.studentYear," ",e.curiTypeCdNm," | ",a," | ",e.lesnTime]}),!r&&h.jsxs(Pe,{gap:"gap-2",align:"items-baseline",justify:"justify-between",children:[h.jsxs("p",{className:`text-sm px-2 py-1 rounded-full font-bold ${Jy(t)}`,children:[": ",t<0?"???":t]}),!i&&h.jsx(Fu,{variant:"default",children:W_(n)}),s&&h.jsx(Fu,{variant:"danger",children:""}),o&&h.jsx(Fu,{variant:"success",children:""})]})]})}function tS({subjects:e,isPending:t=!1,className:n="",isLive:r=!1}){return h.jsx(Pe,{direction:"flex-col",gap:"gap-2",className:n,children:h.jsx(Rie,{subjects:e,isPending:t,isLive:r})})}function Rie({subjects:e,isPending:t=!1,isLive:n=!1}){const{visibleRows:r,loadMoreRef:i}=s1(e),s=e?e.slice(0,r):[];return t||!e?h.jsx(Ol,{columns:{base:1,md:3},gap:"gap-4",className:"animate-pulse",children:[0,0,0].map((o,a)=>h.jsx("div",{className:"bg-gray-300 shadow-sm rounded-lg p-4 h-24"},"skeleton-card-"+a))}):e.length?h.jsxs(h.Fragment,{children:[s.map(o=>h.jsx(Pie,{subject:o,seats:"seat"in o?o.seat??-1:-1,disableSeat:!("seat"in o),className:"bg-white",isLive:n},o.subjectId)),h.jsx("div",{ref:i,className:"load-more-trigger opacity-0",children:" "})]}):h.jsxs(Pe,{direction:"flex-col",align:"items-center",gap:"gap-2",className:"text-center py-4",children:[h.jsx(o1,{className:"w-12 h-12"}),h.jsx("p",{className:"text-gray-500 font-bold mt-4",children:"  ."}),h.jsx("p",{className:"text-gray-400 text-xs mt-1",children:"   ."})]})}function uc({onDelete:e,...t}){const n=I.useRef(null);return h.jsx(cw,{leftIcon:h.jsx(Tr,{variant:"plain",icon:h.jsx(o1,{className:"w-5 h-5"}),className:"absolute left-3 top-3",onClick:r=>{r.preventDefault(),n.current?.focus()}}),rightIcon:h.jsx(Tr,{variant:"plain",icon:h.jsx(q9,{className:"w-5 h-5"}),"aria-label":"  ",className:"absolute right-3 top-4",onClick:()=>{e(),n.current?.focus()}}),...t})}const Qx=9;function f0({selectedValues:e,filterKey:t,setFilter:n,options:r,ItemComponent:i}){const s=pl(),o=i.layout??"grid",a=fs(),[l,c]=I.useState(!1),f=y=>{const _=e?.includes(y)?e?.filter(C=>C!==y):[...e??[],y];n(t,_??null)},p=()=>{n(t,null)},g=!l&&r.length>Qx?r.slice(0,Qx):r;return h.jsxs("div",{className:"relative inline-block w-full",children:[h.jsxs(Pe,{direction:"flex-col",gap:"gap-2",children:[h.jsx(Br,{children:Ui[t]}),o==="grid"?h.jsx(Ol,{columns:{md:3},gap:"gap-2",children:g.map(y=>h.jsx(i,{label:s[t]?.(y)??String(y),selected:e?.includes(y)??!1,onClick:()=>f(y)},String(y)))}):h.jsx(Pe,{direction:"flex-col",gap:"gap-2",className:"pr-4",children:g.map(y=>h.jsx(i,{label:s[t]?.(y)??String(y),selected:e?.includes(y)??!1,onClick:()=>f(y)},String(y)))})]}),r.length>Qx&&h.jsx(Dt,{variant:"text",size:"small",textColor:"gray",onClick:()=>c(y=>!y),children:l?"- ":"+ "}),!a&&h.jsx(Pe,{justify:"justify-end",children:h.jsx(Dt,{variant:"text",size:"small",textColor:"gray",disabled:e==null||e.length===0,onClick:()=>p(),children:""})})]})}function uN({label:e,selected:t,onClick:n}){return h.jsx(Py,{label:e,checked:t,onChange:n})}uN.layout="flex";function a1({label:e,selected:t,children:n,className:r=""}){return h.jsxs(Nd,{children:[h.jsx(Nd.Trigger,{selected:t,label:e}),h.jsx(Nd.Content,{children:h.jsx(Pe,{direction:"flex-col",gap:"gap-4",className:r,children:n})})]})}function rr({filterKey:e,selectedValues:t,options:n,setFilter:r,ItemComponent:i,className:s}){const o=fs(),a=uie(e,t),l=o?Xn:uN,c=h.jsx(f0,{filterKey:e,selectedValues:t,setFilter:(f,p)=>r(f,p),options:n,ItemComponent:i||l});return o?c:h.jsx(a1,{label:a,selected:t.length>0,className:s,children:c})}const Oie=e=>I.createElement("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},I.createElement("path",{d:"M9 14C10.1867 14 11.3467 13.6481 12.3334 12.9888C13.3201 12.3295 14.0892 11.3925 14.5433 10.2961C14.9974 9.19975 15.1162 7.99335 14.8847 6.82946C14.6532 5.66558 14.0818 4.59648 13.2426 3.75736C12.4035 2.91825 11.3344 2.3468 10.1705 2.11529C9.00666 1.88378 7.80026 2.0026 6.7039 2.45673C5.60754 2.91085 4.67047 3.67989 4.01118 4.66658C3.35189 5.65328 3 6.81331 3 8V11.1L1.2 9.3L0.5 10L3.5 13L6.5 10L5.8 9.3L4 11.1V8C4 7.0111 4.29324 6.0444 4.84265 5.22215C5.39206 4.39991 6.17295 3.75904 7.08658 3.38061C8.00021 3.00217 9.00555 2.90315 9.97545 3.09608C10.9454 3.289 11.8363 3.76521 12.5355 4.46447C13.2348 5.16373 13.711 6.05465 13.9039 7.02455C14.0969 7.99446 13.9978 8.99979 13.6194 9.91342C13.241 10.8271 12.6001 11.6079 11.7779 12.1574C10.9556 12.7068 9.98891 13 9 13V14Z",fill:"#047CFE"}));function Mie({selectedValue:e,filterKey:t,setFilter:n}){const[r,i]=I.useState({min:e?.min??0,max:e?.max??0}),s=(o,a)=>{const l={...r,[o]:a};i(l),n(t,l)};return h.jsxs("div",{className:"relative inline-block w-full space-y-2",children:[h.jsx(Br,{children:" "}),h.jsxs(Pe,{gap:"gap-2",children:[h.jsx(cw,{type:"text",placeholder:"",value:r.min,onChange:o=>{const a=o.target.value.replace(/[^\d]/g,"");s("min",a)},className:"w-full"}),h.jsx("span",{className:"flex items-center text-gray-400",children:"~"}),h.jsx(cw,{type:"text",placeholder:"",value:r.max,onChange:o=>{const a=o.target.value.replace(/[^\d]/g,"");s("max",a)},className:"w-full"})]})]})}function Aie({selectedValue:e,filterKey:t,setFilter:n,options:r,ItemComponent:i,isMinMax:s=!1}){const o=fs(),a=f=>{n(t,e===f?null:f)},l=()=>{n(t,null)},c=pl();return h.jsxs("div",{className:"relative inline-block",children:[h.jsxs(Pe,{direction:"flex-col",gap:"gap-2",children:[h.jsx(Br,{children:Ui[t]}),h.jsx(Ol,{columns:{md:3},gap:"gap-2",children:r.map(f=>h.jsx(i,{label:c[t]?.(f)??String(f),selected:e===f,onClick:()=>a(f)},String(f)))}),s&&h.jsx("div",{className:"mt-2",children:h.jsx(Mie,{selectedValue:e,filterKey:t,setFilter:(f,p)=>n(f,p),options:r})})]}),!o&&h.jsx(Pe,{justify:"justify-end",children:h.jsxs(Dt,{variant:"text",size:"small",textColor:"gray",onClick:()=>l(),children:[h.jsx(Oie,{className:"inline w-3 h-3 mr-1",stroke:"currentColor"}),""]})})]})}function Gd({filterKey:e,options:t,ItemComponent:n,selectedValue:r,setFilter:i,className:s,isMinMax:o}){const a=fs(),l=cie(e,r),c=h.jsx(Aie,{selectedValue:r,filterKey:e,setFilter:(f,p)=>i(f,p),options:t,ItemComponent:n,isMinMax:o});return a?c:h.jsx(a1,{label:l,selected:!!r,className:s,children:c})}const cN=e=>I.createElement("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},I.createElement("path",{d:"M7.18066 10.5625C7.88416 10.5629 8.47281 11.0824 8.63086 11.7812H14.625C14.8321 11.7812 15 11.9491 15 12.1562C15 12.3634 14.8321 12.5312 14.625 12.5312H8.63086C8.47281 13.2301 7.88416 13.7496 7.18066 13.75C6.47688 13.75 5.88776 13.2303 5.72949 12.5312H1.375C1.16789 12.5312 1 12.3634 1 12.1562C1 11.9491 1.16789 11.7812 1.375 11.7812H5.72949C5.88776 11.0822 6.47688 10.5625 7.18066 10.5625ZM7.18066 11.2812C6.72774 11.2812 6.36035 11.673 6.36035 12.1562C6.36035 12.6395 6.72774 13.0312 7.18066 13.0312C7.63324 13.0308 8 12.6392 8 12.1562C8 11.6733 7.63324 11.2817 7.18066 11.2812ZM11.7197 6.40625C12.4233 6.40647 13.0117 6.92611 13.1699 7.625H14.625C14.8321 7.625 15 7.79289 15 8C15 8.20711 14.8321 8.375 14.625 8.375H13.1699C13.0117 9.0739 12.4233 9.59353 11.7197 9.59375C11.0161 9.59356 10.4277 9.07393 10.2695 8.375H1.375C1.16789 8.375 1 8.20711 1 8C1 7.79289 1.16789 7.625 1.375 7.625H10.2695C10.4277 6.92608 11.0161 6.40644 11.7197 6.40625ZM11.7197 7.125C11.267 7.12523 10.9004 7.51689 10.9004 8C10.9004 8.48311 11.267 8.87477 11.7197 8.875C12.1724 8.87474 12.54 8.48309 12.54 8C12.54 7.51691 12.1724 7.12526 11.7197 7.125ZM5.07129 2.25C5.77489 2.2502 6.36337 2.76981 6.52148 3.46875H14.625C14.8321 3.46875 15 3.63664 15 3.84375C15 4.05086 14.8321 4.21875 14.625 4.21875H6.52148C6.36337 4.91769 5.77489 5.43729 5.07129 5.4375C4.36758 5.43737 3.77832 4.9178 3.62012 4.21875H1.375C1.16789 4.21875 1 4.05086 1 3.84375C1 3.63664 1.16789 3.46875 1.375 3.46875H3.62012C3.77832 2.7697 4.36758 2.25013 5.07129 2.25ZM5.07129 2.96875C4.61849 2.9689 4.25098 3.36059 4.25098 3.84375C4.25098 4.32691 4.61849 4.7186 5.07129 4.71875C5.52402 4.71852 5.89062 4.32686 5.89062 3.84375C5.89062 3.36064 5.52402 2.96898 5.07129 2.96875Z",fill:"#9CA3AF"}));function nS({handleOpenFilter:e}){return h.jsx(Tr,{"aria-label":" ",title:" ",label:" ",variant:"contain",icon:h.jsx(cN,{className:"w-4 h-4 "}),onClick:e})}function Die({alarmOnly:e,setFilter:t}){return h.jsxs(Dt,{variant:"outlined",size:"medium",onClick:()=>t("alarmOnly",!e),children:[h.jsx(kl,{disabled:!e}),""]})}function Lie({departments:e,category:t,setCategory:n,searchKeywords:r,setSearchKeywords:i}={}){const s=I.useMemo(()=>[{departmentName:"",departmentCode:""},...e??[]],[e]),o=I.useMemo(()=>s.filter(a=>t===""?a.departmentCode==="9005":t===""?a.departmentCode!=="9005":!0).filter(a=>{if(!r)return!0;const l=r.replace(/[^\w\s---]/g,""),c=Kd(l).toLowerCase(),f=a.departmentName.replace(/[^\w\s---]/g,"");return Kd(f).toLowerCase().includes(c)}),[s,t,r]);return{category:t,setCategory:n,searchKeywords:r,setSearchKeywords:i,departmentsList:s,filteredDepartments:o}}const dN=e=>I.createElement("svg",{width:12,height:12,viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},I.createElement("path",{d:"M4.50007 8.08504L2.76507 6.35004C2.67158 6.25655 2.54479 6.20403 2.41257 6.20403C2.28036 6.20403 2.15356 6.25655 2.06007 6.35004C1.96658 6.44353 1.91406 6.57033 1.91406 6.70254C1.91406 6.768 1.92696 6.83283 1.95201 6.89331C1.97706 6.95379 2.01378 7.00875 2.06007 7.05504L4.15007 9.14504C4.34507 9.34004 4.66007 9.34004 4.85507 9.14504L10.1451 3.85504C10.2386 3.76155 10.2911 3.63475 10.2911 3.50254C10.2911 3.37033 10.2386 3.24353 10.1451 3.15004C10.0516 3.05655 9.92479 3.00403 9.79257 3.00403C9.66036 3.00403 9.53356 3.05655 9.44007 3.15004L4.50007 8.08504Z",fill:"#047CFE"}));function rS({setFilter:e,selectedValue:t}){const{data:n}=oc(),[r,i]=I.useState(""),[s,o]=I.useState(""),{departmentsList:a,filteredDepartments:l}=Lie({category:s,setCategory:o,searchKeywords:r,setSearchKeywords:i,departments:n});return h.jsxs(a1,{label:qw(t,a),selected:!!t,children:[h.jsxs(Pe,{direction:"flex-col",className:"h-80 w-80 overflow-y-auto",children:[h.jsx(Br,{children:""}),h.jsxs(Pe,{className:"shrink-0 bg-white",gap:"gap-2",children:[h.jsxs("select",{value:s,className:"border border-gray-300 rounded-md text-sm text-gray-700 bg-white",onChange:c=>{const f=c.target.value;o(f),e("department","")},children:[h.jsx("option",{value:"",children:""}),h.jsx("option",{value:"",children:""})]}),h.jsx(uc,{type:"text",placeholder:" ",onDelete:()=>{i("")},value:r,onChange:c=>{i(c.target.value)},className:"w-full"})]}),h.jsx("div",{className:"overflow-y-auto flex-1 py-2 ",children:(s===""||s==="")&&h.jsx(Fie,{departments:l,setFilter:e,selectedValue:t})})]}),h.jsx(Pe,{justify:"justify-end",className:"w-full pt-1",children:h.jsx(Dt,{variant:"text",size:"small",textColor:"gray",disabled:!t,onClick:()=>e("department",""),children:""})})]})}function Fie({departments:e,setFilter:t,selectedValue:n}){const r=s=>{t("department",s||"")};return e?e.filter(s=>qw(n,e)===s.departmentName).length===0?h.jsx(ry,{title:"  .",description:"   ."}):h.jsx(h.Fragment,{children:e.map(s=>{const o=qw(n,e)===s.departmentName;return h.jsx(Wq,{selected:o,left:s.departmentName.split(" ").slice(-1)[0],right:o?h.jsx(dN,{className:"w-4 h-4 shrink-0"}):null,onSelect:()=>r(s.departmentCode)},s.departmentCode)})}):h.jsx(ry,{title:"  ."})}function qw(e,t){const n=t?.find(r=>r.departmentCode===e)?.departmentName;return n||" ."}function g6({className:e,onChange:t,...n}){return h.jsx("input",{type:"time",className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:outline-blue-500 "+e,placeholder:"HH:MM",step:600,onChange:r=>{r.target.value=Bie(r.target.value),console.log("Time changed:",r.target.value),t&&t(r)},...n})}function Bie(e){const[t,n]=e.split(":").map(Number);if(Number.isNaN(t)||Number.isNaN(n))return"00:00";const r=Math.round(n/10)%6*10,i=String(t).padStart(2,"0"),s=String(r).padStart(2,"0");return`${i}:${s}`}function Qw({items:e,onChange:t}){I.useEffect(()=>{if(e.length===0){t([{day:"",type:"all"}]);return}const i=$ie(e);i&&t(i)},[e]);const n=i=>s=>{const{name:o,value:a}=s.target,l=[...e];l[i]={...l[i],[o]:a},t(l)},r=i=>()=>{const s=e.filter((o,a)=>a!==i);t(s)};return h.jsxs(h.Fragment,{children:[h.jsxs(Pe,{direction:"flex-col",gap:"gap-2",children:[h.jsx(Br,{children:""}),e.map((i,s)=>h.jsx(zie,{item:i,onChange:n(s),onDelete:r(s)},`${i.day}-${i.type}-${i.start}-${i.end}`))]}),h.jsx(Dt,{variant:"text",size:"small",textColor:"gray",onClick:()=>t([...e,{day:"",type:"all"}]),children:" "})]})}function zie({item:e,onChange:t,onDelete:n}){const r=!!e.day,i=e.type!="all",s=e.type==="between";return h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsxs("select",{name:"day",value:e.day,onChange:t,className:"bg-gray-100 px-3 py-2 rounded-md text-xs text-gray-600 w-fit",children:[h.jsx("option",{value:"",children:""}),["","","","","","",""].map(o=>h.jsx("option",{value:o,children:o},o))]}),r&&h.jsxs("select",{name:"type",value:e.type,onChange:t,className:"bg-gray-100 px-3 py-2 rounded-md text-xs text-gray-600 w-fit",children:[h.jsx("option",{value:"all",children:""}),h.jsx("option",{value:"before",children:""}),h.jsx("option",{value:"after",children:""}),h.jsx("option",{value:"between",children:""})]}),i&&h.jsx(g6,{name:"start",value:e.start||"00:00",onChange:t}),s&&h.jsx(g6,{name:"end",value:e.end||"00:00",onChange:t}),h.jsx(Dt,{variant:"text",size:"small",textColor:"secondary",onClick:n,children:""})]})}function $ie(e){return e.some(n=>n.day===""?n.type!=="all"||n.start||n.end:n.type==="all"?n.start||n.end:n.type==="before"||n.type==="after"?!n.start||n.end:n.type==="between"?!n.start||!n.end:!1)?e.map(n=>n.day===""?{day:"",type:"all"}:n.type==="all"?{day:n.day,type:"all"}:n.type==="before"||n.type==="after"?{day:n.day,type:n.type,start:n.start||"00:00"}:n.type==="between"?{day:n.day,type:n.type,start:n.start||"00:00",end:n.end||"00:00"}:n):e}function fN({times:e,setFilter:t}){const n=(o,a)=>{t("time",a)},r=fs(),s=e.length===1&&e[0].type==="all"&&e[0].day===""?"":e.length===1?` ${e[0].day}`:e.length>1?` ${e[0].day}  ${e.length-1}`:"";return r?h.jsx(Qw,{items:e,onChange:o=>n("time",o)}):h.jsx(a1,{label:s,selected:e.length>0&&e[0].day!=="",className:"min-w-max",children:h.jsxs(Pe,{direction:"flex-col",gap:"gap-2",children:[h.jsx(Br,{children:" "}),h.jsx(Qw,{items:e,onChange:o=>n("time",o)})]})})}const Uie=e=>I.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},I.createElement("path",{d:"M3 4H17L12 10.5V20L8 16V10.5L3 4Z",stroke:"#047CFE",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),I.createElement("path",{d:"M16 15L22 21",stroke:"#047CFE",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),I.createElement("path",{d:"M16 21L22 15",stroke:"#047CFE",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}));function iS({filters:e,resetFilter:t}){return Object.keys(e).some(i=>!iN(i,e[i]))?h.jsx(Xn,{label:h.jsxs(Pe,{align:"items-center",gap:"gap-1",children:[h.jsx("span",{children:" "}),h.jsx(Uie,{className:"w-4 h-4"})]}),selected:!0,onClick:t}):null}function sS({filterStore:e,onClose:t}){const{classroom:n,note:r,categories:i,time:s}=e(b=>b.filters),o=oc(),a=e(b=>b.filters),l=e(b=>b.setFilter),c=e(b=>b.resetFilters),f=J_(a,o.data),{data:p}=Os(),g=Ap(p??[]).sort((b,_)=>b.localeCompare(_)).map(b=>b),y=(b,_)=>{const C=a[b];Array.isArray(C)?l(b,C.filter(k=>k!==_)):l(b,El[b])};return h.jsxs(Jn,{title:" ",onClose:t,isOpen:!0,children:[h.jsx(Jn.Content,{children:h.jsxs(Pe,{direction:"flex-col",gap:"gap-4",className:"w-130",children:[f.length>0&&h.jsx(Yn,{variant:"outlined",children:h.jsxs(Pe,{direction:"flex-col",gap:"gap-2",children:[h.jsx(Br,{children:" "}),h.jsx(Pe,{gap:"gap-2",direction:"flex-wrap",justify:"justify-start",className:"w-120",children:f.map(b=>h.jsx(Xn,{variant:"cancel",label:b.label,selected:!0,onClick:()=>y(b.filterKey,b.values)},`${b.filterKey}-${b.values}`))})]})}),h.jsx(Yn,{variant:"outlined",children:h.jsx(f0,{selectedValues:i,options:g,filterKey:"categories",setFilter:l,ItemComponent:Xn})}),h.jsx(Yn,{variant:"outlined",children:h.jsx(Qw,{items:s,onChange:b=>l("time",b)})}),h.jsx(Yn,{variant:"outlined",children:h.jsx(f0,{selectedValues:r,options:An.remark,filterKey:"note",setFilter:l,ItemComponent:Xn})}),h.jsx(Yn,{variant:"outlined",children:h.jsx(f0,{selectedValues:n,options:An.classRoom,filterKey:"classroom",setFilter:l,ItemComponent:Xn})})]})}),h.jsx(Jn.Footer,{children:h.jsx(Pe,{direction:"flex-col",gap:"gap-2",children:h.jsx(Pe,{justify:"justify-end",children:h.jsx(Dt,{variant:"primary",size:"medium",onClick:c,disabled:f.length===0,children:" "})})})})]})}function Hie(){const e=I.useRef(null),t=I.useRef(null),n=I.useRef({touchStart:{sheetY:0,touchY:0},touchMove:{prevTouchY:0,movingDirection:"none"},isContentAreaTouched:!1});I.useEffect(()=>{const s=()=>{const{touchMove:c,isContentAreaTouched:f}=n.current,p=e.current?.getBoundingClientRect().y;if(!p)return!1;if(!f||p!==Eu)return!0;const g=t.current,y=g.scrollTop<=0,b=g.scrollTop+g.clientHeight>=g.scrollHeight;return c.movingDirection==="down"&&y||c.movingDirection==="up"&&b,!1},o=c=>{const{touchStart:f}=n.current;f.sheetY=e.current.getBoundingClientRect().y,f.touchY=c.touches[0].clientY},a=c=>{const{touchStart:f,touchMove:p}=n.current,g=c.touches[0];if(p.prevTouchY===void 0&&(p.prevTouchY=f.touchY),p.prevTouchY===0&&(p.prevTouchY=f.touchY),p.prevTouchY<g.clientY&&(p.movingDirection="down"),p.prevTouchY>g.clientY&&(p.movingDirection="up"),s()){c.stopPropagation();const y=g.clientY-f.touchY;let b=f.sheetY+y;b<=Eu&&(b=Eu),b>=Ag&&(b=Ag),e.current.style.setProperty("transform",`translateY(${b}px)`)}else document.body.style.overflowY="hidden"},l=()=>{const{touchMove:c}=n.current;(e.current?.getBoundingClientRect().y??0)!==Eu&&(c.movingDirection==="down"&&e.current.style.setProperty("transform",`translateY(${Ag}px)`),c.movingDirection==="up"&&e.current.style.setProperty("transform",`translateY(${Eu}px)`)),n.current={touchStart:{sheetY:0,touchY:0},touchMove:{prevTouchY:0,movingDirection:"none"},isContentAreaTouched:!1}};return e.current.addEventListener("touchstart",o),e.current.addEventListener("touchmove",a),e.current.addEventListener("touchend",l),()=>{e.current?.removeEventListener("touchstart",o),e.current?.removeEventListener("touchmove",a),e.current?.removeEventListener("touchend",l)}},[]);const r=()=>{e.current&&e.current.style.setProperty("transform","translateY(400px)")},i=()=>{e.current&&e.current.style.setProperty("transform",`translateY(${Ag}px)`)};return I.useEffect(()=>{const s=()=>{n.current.isContentAreaTouched=!0};t.current.addEventListener("touchstart",s);const o=window.getComputedStyle(document.body).overflow;return document.body.style.overflow="hidden",()=>{document.body.style.overflow=o}},[]),{sheet:e,content:t,expandToMax:r,collapseToMin:i}}function Wie(){const{cancelSchedule:e}=_i(),t=fy(),n=()=>{t("/timetable"),e()};I.useEffect(()=>(window.addEventListener("popstate",n),()=>{window.removeEventListener("popstate",n)}),[])}const Eu=0,Ag=window.innerHeight-300,Vie=window.innerHeight-Eu;function Dp({children:e}){const{sheet:t,content:n,expandToMax:r,collapseToMin:i}=Hie(),{type:s,resetBottomSheet:o}=ha(),{cancelSchedule:a}=_i();function l(){a(),o()}return Wie(),h.jsxs("div",{className:"fixed inset-0 z-[200]",children:[s&&h.jsx("div",{className:"absolute inset-0 bg-black/5 bg-opacity-80",role:"presentation",onClick:l}),h.jsxs("div",{ref:t,className:"fixed rounded-t-xl bottom-0 left-0 w-full transition-transform bg-white duration-300 z-200",style:{height:`${Vie}px`,transform:`translateY(${Eu}px)`},children:[h.jsx("div",{className:"w-full flex justify-center py-2 h-7 shrink-0",children:h.jsx("button",{className:"w-20 h-2 cursor-pointer bg-gray-300 rounded-full","aria-label":"",onClick:a})}),h.jsx("div",{ref:n,className:"flex-1 overflow-y-auto ",children:typeof e=="function"?e({expandToMax:r,collapseToMin:i}):e})]})]})}const hN=e=>I.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},I.createElement("path",{d:"M12 5V19M5 12H19",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}));function Lp({title:e,headerType:t,onClose:n,onClick:r}){return h.jsx("header",{className:"w-full px-2 flex items-center justify-between mb-2",children:t==="add"?h.jsxs("div",{className:"w-full h-8 flex items-center  justify-between ",children:[h.jsx(Kx,{headerType:"add",onClick:r}),e&&h.jsx(qt,{level:3,children:e}),h.jsx(Kx,{headerType:"close",onClick:n})]}):h.jsx(h.Fragment,{children:h.jsxs("div",{className:"relative w-full flex items-center justify-center h-6",children:[h.jsx(qt,{level:3,children:e}),h.jsx("div",{className:"absolute right-0",children:h.jsx(Kx,{headerType:"close",onClick:n})})]})})})}function Kx({headerType:e,onClick:t}){const n=e==="close"?h.jsx(aj,{}):h.jsx(hN,{className:"text-gray-400",width:16,height:16});return h.jsx("button",{className:"w-6 h-6 cursor-pointer flex items-center justify-center bg-gray-100 rounded-full",onClick:t,children:n})}function l1({id:e,className:t,value:n,defaultValue:r="",...i}){const{data:s}=oc(),o=[{departmentName:r,departmentCode:""},...s??[]],a=e??"department-filter";return h.jsxs(h.Fragment,{children:[h.jsx(Br,{htmlFor:a,hidden:!0,children:""}),h.jsx("select",{id:a,className:"w-full p-2 rounded-md bg-white border border-gray-400 "+t,value:n,...i,children:o.map(({departmentName:l,departmentCode:c})=>h.jsx("option",{value:c,children:l},c))})]})}function oS({onCloseFiltering:e,filters:t,setFilter:n,resetFilter:r}){const i=()=>{e()},{data:s}=Os(),o=oc(),a=Ap(s??[]).sort((f,p)=>f.localeCompare(p)).map(f=>f),l=J_(t,o.data),c=(f,p)=>{const g=t[f];Array.isArray(g)?n(f,g.filter(y=>y!==p)):n(f,El[f])};return h.jsxs(Dp,{children:[h.jsx(Lp,{headerType:"close",title:"",onClose:()=>{e()}}),h.jsxs("div",{className:"w-full flex px-4 flex-col h-[85vh] gap-5 overflow-y-auto overscroll-contain",children:[h.jsx(Pe,{direction:"flex-wrap",gap:"gap-2",children:l.map(f=>h.jsx(Xn,{variant:"cancel",label:f.label,selected:!0,onClick:()=>c(f.filterKey,f.values)},`${f.filterKey}-${f.values}`))}),h.jsxs(Pe,{direction:"flex-col",justify:"justify-center",gap:"gap-8",className:"w-full",children:[h.jsx(l1,{className:"cursor-pointer border-gray-100 rounded-sm py-1 text-sm",value:t.department,onChange:f=>n("department",f.target.value)}),h.jsx(Gd,{filterKey:"wishRange",options:An.wishRange,selectedValue:t.wishRange??null,setFilter:n,ItemComponent:Xn}),h.jsx(Gd,{filterKey:"seatRange",options:An.seatRange,selectedValue:t.seatRange??null,setFilter:n,ItemComponent:Xn}),h.jsx(Pe,{direction:"flex-col",gap:"gap-2",children:h.jsx(fN,{times:t.time,setFilter:n})}),h.jsx(rr,{filterKey:"credits",options:An.credits,selectedValues:t.credits??[],setFilter:n}),h.jsx(rr,{filterKey:"grades",options:An.grades,selectedValues:t.grades??[],setFilter:n}),h.jsx(rr,{filterKey:"classroom",options:An.classRoom,selectedValues:t.classroom??[],setFilter:n}),h.jsx(rr,{filterKey:"note",options:An.remark,selectedValues:t.note??[],setFilter:n}),h.jsx(rr,{filterKey:"categories",options:a,selectedValues:t.categories??[],setFilter:n}),h.jsxs("div",{className:"sticky bottom-0 py-3 bg-white flex justify-end items-center gap-2 border-gray-200",children:[h.jsx(Dt,{variant:"outlined",size:"medium",onClick:r,disabled:l.length===0,children:" "}),h.jsx(Dt,{type:"submit",variant:"primary",size:"medium",onClick:i,children:""})]})]})]})]})}function qie(){const[e,t]=I.useState(!1),[n,r]=I.useState(!1),i=yd(b=>b.setFilter),{keywords:s,alarmOnly:o,time:a}=yd(b=>b.filters),l=yd(b=>b.filters),c=yd(b=>b.resetFilters),f=fs(),{data:p}=Os(),g=Ap(p??[]).sort((b,_)=>b.localeCompare(_)).map(b=>b),y=()=>{f?r(!0):t(!0)};return h.jsxs(Pe,{direction:"flex-wrap",gap:"gap-2",children:[h.jsx(Br,{className:"hidden",htmlFor:"searchOption",children:" "}),h.jsx(uc,{placeholder:",      ",value:s,className:"w-full",onDelete:()=>i("keywords",""),onChange:b=>i("keywords",b.target.value)}),e&&h.jsx(sS,{filterStore:yd,onClose:()=>t(!1)}),n&&h.jsx(oS,{onCloseFiltering:()=>r(!1),filters:l,setFilter:i,resetFilter:c}),h.jsxs(Pe,{align:"items-center",direction:"flex-wrap",gap:"gap-2",children:[h.jsxs(Pe,{direction:"flex-wrap",gap:"gap-2",className:"hidden md:flex",children:[h.jsx(rS,{selectedValue:l.department??"",setFilter:i}),h.jsx(fN,{times:a,setFilter:i}),h.jsx(rr,{filterKey:"credits",options:An.credits,selectedValues:l.credits??[],setFilter:i}),h.jsx(rr,{filterKey:"grades",options:An.grades,selectedValues:l.grades??[],setFilter:i}),l.classroom.length>0&&h.jsx(rr,{filterKey:"classroom",options:An.classRoom,selectedValues:l.classroom??[],setFilter:i,className:"min-w-max"}),h.jsx(rr,{filterKey:"note",options:An.remark,selectedValues:l.note??[],setFilter:i}),l.categories.length>0&&h.jsx(rr,{filterKey:"categories",options:g,selectedValues:l.categories??[],setFilter:i,className:"min-w-max"}),h.jsx(Gd,{filterKey:"wishRange",options:An.wishRange,selectedValue:l.wishRange??null,setFilter:i,ItemComponent:Xn}),h.jsx(Gd,{filterKey:"seatRange",options:An.seatRange,selectedValue:l.seatRange??null,setFilter:i,ItemComponent:Xn})]}),h.jsx(iS,{filters:l,resetFilter:c}),h.jsx(nS,{handleOpenFilter:y}),h.jsx(Die,{alarmOnly:o,setFilter:i})]})]})}const Qie=[{title:"",key:"pin"},{title:"",key:"code"},{title:"",key:"departmentName"},{title:"",key:"name"},{title:"",key:"professor"}];function Kie(){const e=yd(t=>t.filters);return h.jsxs(h.Fragment,{children:[h.jsx(Vr,{children:h.jsx("title",{children:"ALLCLL |  "})}),h.jsxs(Pe,{direction:"flex-col",className:"mb-4",children:[h.jsx(qt,{level:2,children:" "}),h.jsxs(Gn,{children:["   ,    .",h.jsx("br",{}),"  ",aN,", 11:00  ."]}),h.jsxs(Yn,{children:[h.jsx(qie,{}),h.jsx(q_,{})]}),h.jsx(Gie,{filters:e}),h.jsx(AI,{right:"right-2 sm:right-10"})]})]})}function Gie({filters:e}){const{data:t,titles:n,isPending:r}=DI(Qie),i=Rp(t),s=I.useDeferredValue(df(i??[],e)),o=fs();return h.jsx(Yn,{children:o?h.jsx(tS,{subjects:s,isPending:r,isLive:!0}):h.jsx(jie,{titles:n,subjects:s,isPending:r})})}const Yie={enter:"sidebar-transition-enter",enterActive:"sidebar-transition-enter-active",exit:"sidebar-transition-exit",exitActive:"sidebar-transition-exit-active"};function Xie({isOpen:e,onClose:t}){return h.jsx(Cp,{in:e,timeout:100,classNames:Yie,unmountOnExit:!0,children:h.jsxs(Pe,{direction:"flex-col",className:"w-92 flex-auto bg-gray-50 shadow-lg z-10",children:[h.jsxs("div",{className:"flex justify-between items-center py-2 pl-4 pr-2 bg-white border-b border-gray-200",children:[h.jsx(qt,{level:2,children:" "}),h.jsx(Tr,{"aria-label":"  ",icon:h.jsx(NI,{className:"w-4 h-4"}),onClick:t})]}),h.jsx(Jie,{})]})})}function Jie(){const[e,t]=I.useState(""),[n,r]=I.useState(""),{data:i,isPending:s}=Sa(),o=Rp(i),a=I.useDeferredValue(df(o??[],{...El,keywords:e,department:n}));return h.jsx(Pe,{direction:"flex-col",className:"flex-1 p-2",children:h.jsxs(Pe,{direction:"flex-col",className:"mb-4",gap:"gap-2",children:[h.jsx(uc,{placeholder:"  ",value:e,onChange:l=>t(l.target.value),onDelete:()=>t(""),className:"w-full"}),h.jsx(l1,{className:"flex-auto",value:n,onChange:l=>r(l.target.value)}),h.jsx(tS,{className:"flex flex-full overflow-auto max-h-screen",subjects:a,isPending:s})]})})}function Zie({onCloseSearch:e}){const[t,n]=I.useState(""),[r,i]=I.useState(""),{data:s,isPending:o}=Sa(),a=Rp(s),l=I.useDeferredValue(df(a??[],{...El,keywords:t,department:r}));return h.jsx(Dp,{children:({expandToMax:c})=>h.jsxs(h.Fragment,{children:[h.jsx(Lp,{title:"",headerType:"close",onClose:()=>e(),onClick:c}),h.jsxs("div",{className:"sticky py-3 px-2 top-0 bg-white z-10 flex flex-col gap-2 mb-4 flex-auto",children:[h.jsx(uc,{placeholder:"  ",onChange:f=>n(f.target.value),onDelete:()=>n(""),className:"w-full"}),h.jsx(l1,{className:"flex-auto",value:r,onChange:f=>i(f.target.value)})]}),h.jsx("div",{className:"max-h-[70vh] min-h-0 px-2 overflow-y-auto touch-auto flex flex-col",children:h.jsx(tS,{className:"flex flex-full overflow-auto max-h-screen",subjects:l,isPending:o})})]})})}const aS=e=>I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:36,height:36,viewBox:"0 0 36 36",...e},I.createElement("defs",null,I.createElement("clipPath",{id:"master_svg0_106_2202"},I.createElement("rect",{x:0,y:0,width:36,height:36,rx:0}))),I.createElement("g",{clipPath:"url(#master_svg0_106_2202)"},I.createElement("g",{transform:"matrix(1,0,0,-1,0,69.046875)"},I.createElement("g",null,I.createElement("path",{d:"M2.25,66.0234375Q3.23438,66.0234375,3.86719,65.3906375Q4.5,64.7578375,4.5,63.7734375L4.5,40.1484375Q4.57031,39.0937475,5.625,39.0234375L33.75,39.0234375Q34.7344,39.0234375,35.3672,38.3906275Q36,37.7578175,36,36.7734375Q36,35.7890575,35.3672,35.1562495Q34.7344,34.5234375,33.75,34.5234375L5.625,34.5234375Q3.23438,34.59375,1.61719,36.1406275Q0.0703125,37.7578175,0,40.1484375L0,63.7734375Q0,64.7578375,0.632812,65.3906375Q1.26562,66.0234375,2.25,66.0234375ZM9,59.2734375Q9,60.2578375,9.63281,60.8906375Q10.2656,61.5234375,11.25,61.5234375L24.75,61.5234375Q25.7344,61.5234375,26.3672,60.8906375Q27,60.2578375,27,59.2734375Q27,58.2890375,26.3672,57.6562375Q25.7344,57.0234375,24.75,57.0234375L11.25,57.0234375Q10.2656,57.0234375,9.63281,57.6562375Q9,58.2890375,9,59.2734375ZM11.25,54.7734375L20.25,54.7734375L11.25,54.7734375L20.25,54.7734375Q21.2344,54.7734375,21.8672,54.1406375Q22.5,53.5078375,22.5,52.5234375Q22.5,51.5390375,21.8672,50.9062375Q21.2344,50.2734375,20.25,50.2734375L11.25,50.2734375Q10.2656,50.2734375,9.63281,50.9062375Q9,51.5390375,9,52.5234375Q9,53.5078375,9.63281,54.1406375Q10.2656,54.7734375,11.25,54.7734375ZM11.25,48.0234375L29.25,48.0234375L11.25,48.0234375L29.25,48.0234375Q30.2344,48.0234375,30.8672,47.3906375Q31.5,46.7578375,31.5,45.7734375Q31.5,44.7890375,30.8672,44.1562475Q30.2344,43.5234375,29.25,43.5234375L11.25,43.5234375Q10.2656,43.5234375,9.63281,44.1562475Q9,44.7890375,9,45.7734375Q9,46.7578375,9.63281,47.3906375Q10.2656,48.0234375,11.25,48.0234375Z",fill:"#9CA3AF",fillOpacity:1,style:{mixBlendMode:"passthrough"}}))))),ese=e=>I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",...e},I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})),tse=e=>I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",...e},I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.477 0-8.268-2.943-9.542-7a9.957 9.957 0 012.043-3.36m3.237-2.347A9.956 9.956 0 0112 5c4.478 0 8.268 2.943 9.542 7a9.954 9.954 0 01-4.043 5.132M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3l18 18"}));function nse({initialItems:e,onChange:t}){const[n,r]=I.useState(e),i=I.useRef(null),s=I.useRef([]),[o,a]=I.useState(null),l=I.useRef(null),[c,f]=I.useState(null),[p,g]=I.useState(null);I.useEffect(()=>{t?.(n)},[n,t]),I.useEffect(()=>{if(o){const j=n.findIndex(M=>M.title===o);j!==-1&&s.current[j]?.focus(),a(null)}},[n,o]),I.useEffect(()=>{const j=()=>requestAnimationFrame(_),M=new ResizeObserver(j);return i.current&&M.observe(i.current),window.addEventListener("scroll",j,!0),window.addEventListener("resize",j),j(),()=>{M.disconnect(),window.removeEventListener("scroll",j,!0),window.removeEventListener("resize",j)}},[]);function y(j){r(M=>{const U=[...M];return U[j]={...U[j],visible:!U[j].visible},U})}const b=I.useRef([]);function _(){const j=i.current;if(!j)return;const M=Array.from(j.children);b.current=M.map(U=>{const z=U.getBoundingClientRect();return z.top+z.height/2})}function C(j,M){if(j.key==="ArrowUp"||j.key==="ArrowDown"){j.preventDefault(),j.stopPropagation();const U=M;let z;if(j.key==="ArrowUp"){if(U===0)return;z=U-1}else{if(U===n.length-1)return;z=U+1}const D=n[U].title;r(ee=>{const J=[...ee],[re]=J.splice(U,1);return J.splice(z,0,re),J}),a(D)}}function k(j,M){if(!i.current)return;const U=j.target.closest(".draggable-item");if(!U)return;j.target.setPointerCapture(j.pointerId);const z=U.getBoundingClientRect(),D=i.current.getBoundingClientRect();l.current={currentIndex:M,height:z.height,offsetY:j.clientY-z.top,containerRect:D},f({item:n[M],initialIndex:M}),g({width:z.width,left:z.left,top:z.top,position:"fixed",zIndex:50,pointerEvents:"none",transition:"none"}),window.addEventListener("pointermove",P),window.addEventListener("pointerup",O,{once:!0})}function P(j){if(l.current===null)return;const{height:M,offsetY:U,containerRect:z}=l.current;let D=j.clientY-U;D=Math.max(z.top,D),D=Math.min(z.bottom-M,D),g(Q=>({...Q||{},top:D})),_();const ee=j.clientY;let re=b.current.findIndex(Q=>ee<Q);re===-1&&(re=n.length);const q=l.current.currentIndex;let V=Math.max(0,Math.min(n.length-1,re>q?re-1:re));V!==q&&(l.current.currentIndex=V,r(Q=>{const ne=[...Q],[Z]=ne.splice(q,1);return ne.splice(V,0,Z),ne}))}function O(){window.removeEventListener("pointermove",P),l.current=null,f(null),g(null)}const $=I.useMemo(()=>c?n.findIndex(j=>j.title===c.item.title):-1,[n,c]);function B(j){if(!c||!l.current||$===-1)return"";const M=$,U=l.current.currentIndex,z=l.current.height;if(j===M)return"";if(M<U){if(j>M&&j<=U)return`translateY(-${z}px)`}else if(j>=U&&j<M)return`translateY(${z}px)`;return""}return h.jsxs(h.Fragment,{children:[h.jsx("ul",{ref:i,className:"bg-white divide-y divide-gray-100 relative",children:n.map((j,M)=>h.jsxs("li",{ref:U=>{s.current[M]=U},className:"draggable-item flex items-center gap-2 rounded-md px-2 transition-transform duration-1000",tabIndex:0,onKeyDown:U=>C(U,M),style:{transform:B(M),opacity:$===M?.4:1},children:[h.jsx("button",{className:"p-1 text-gray-500 hover:text-gray-700 cursor-grab",onPointerDown:U=>k(U,M),"aria-label":`Drag ${j.title}`,title:" ",children:""}),h.jsxs("div",{className:"flex items-center justify-between flex-auto",children:[h.jsx("span",{className:"font-medium",children:j.title}),h.jsx("button",{className:"p-1 text-gray-500 hover:text-gray-700 cursor-pointer","aria-label":j.visible?"":"",title:j.visible?"":"",onClick:()=>y(M),children:j.visible?h.jsx(ese,{className:"w-4 h-4"}):h.jsx(tse,{className:"w-4 h-4"})})]})]},j.title))}),p&&c&&h.jsx("div",{style:p,className:"bg-blue-50 rounded-md shadow-lg w-full max-w-lg m-auto px-2",children:h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("span",{className:"p-1 text-gray-700",children:""}),h.jsx("span",{className:"font-medium",children:c.item.title})]})}),h.jsx("div",{className:"mt-4 text-sm text-gray-500",children:"Tip:    /    ."})]})}function pN({initialItems:e,onChange:t,onClose:n}){return TI({enabled:!0,onClose:n}),h.jsx(Jn,{title:" ",onClose:n,isOpen:!0,children:h.jsx(Jn.Content,{children:h.jsx(nse,{initialItems:e,onChange:t})})})}function rse(e){const{data:t}=Os(),{data:n,...r}=g_(e);return{data:n?.map(s=>{const{subjectId:o,seatCount:a,queryTime:l}=s,c=t?.find(b=>b.subjectId===o)||Ay,{subjectName:f,subjectCode:p,classCode:g,professorName:y}=c;return{...c,code:`${p}-${g}`,name:f,professor:y,seat:a,queryTime:l}}),...r}}function ise(){return h.jsx(t1,{title:"   TOP 10  ",description:"   ",icon:h.jsx(aS,{className:"w-7 h-7"})})}function sse(){return h.jsx(t1,{title:"   ",description:"   .   .",icon:h.jsx(c_,{className:"w-7 h-7 text-gray-400"}),children:h.jsx(Pe,{justify:"justify-center",children:h.jsx("a",{className:"bg-gray-50 rounded-full px-4 py-2 text-sm border border-gray-200 hover:shadow-md cursor-pointer",href:"https://open.kakao.com/o/g3MztXfh",children:"  "})})})}const mN=(e,t)=>oi()(K9(n=>({tableTitles:t,setTableTitles:r=>n({tableTitles:r}),resetTableTitles:()=>n({tableTitles:t})}),{name:`${e}-table-head-store`})),ose=[{title:"",visible:!0,key:"code"},{title:"",visible:!0,key:"name"},{title:"",visible:!0,key:"professor"},{title:"",visible:!0,key:"seat"},{title:"",visible:!0,key:"queryTime"},{title:"",visible:!1,key:"manageDeptNm"},{title:"",visible:!1,key:"studentYear"},{title:"",visible:!1,key:"lesnTime"},{title:"",visible:!1,key:"lesnRoom"},{title:"",visible:!1,key:"tmNum"},{title:"",visible:!1,key:"remark"},{title:"",visible:!1,key:"curiTypeCdNm"},{title:"",visible:!1,key:"curiLangNm"}],y6=mN("live",ose),ase=({title:e=""})=>{const[t,n]=I.useState(!1),r=y6(s=>s.setTableTitles),i=y6(s=>s.tableTitles);return h.jsxs(Yn,{children:[t&&h.jsx(pN,{initialItems:i,onChange:r,onClose:()=>n(!1)}),h.jsxs(Pe,{justify:"justify-between",align:"items-center",className:"mb-2",children:[h.jsxs(qt,{level:3,children:[e," "]}),h.jsx(Tr,{label:" ",variant:"plain","aria-label":" ",icon:h.jsx(aS,{className:"w-4 h-4"}),onClick:()=>n(!0)})]}),h.jsx("div",{className:"overflow-x-auto",children:h.jsxs("table",{className:"w-full bg-white rounded-lg text-sm",children:[h.jsx("thead",{children:h.jsx("tr",{className:"bg-gray-50 sticky top-0 z-10 text-nowrap",children:i.filter(s=>s.visible).map(({title:s})=>h.jsx("th",{className:"px-4 py-2",children:s},s))})}),h.jsx("tbody",{children:h.jsx(lse,{tableTitles:i})})]})}),h.jsx(q_,{})]})};function lse({tableTitles:e}){const{data:t,isError:n,isPending:r,refetch:i}=rse(Dy.NON_MAJOR),s=e.filter(l=>l.visible),o=new Date>ej("2025-12-09T17:00:00"),a=kd(l=>l.sseState);return n?h.jsx("tr",{children:h.jsx("td",{colSpan:s.length,children:h.jsx(MI,{onReload:i})})}):r||!t?h.jsx(ap,{row:5,col:s.length}):a===m_.IDLE&&o?h.jsx("tr",{children:h.jsx("td",{colSpan:s.length,className:"text-center",children:h.jsx(sse,{})})}):t.length?h.jsx(Ry,{component:null,children:t.map(l=>h.jsx(Cp,{timeout:500,classNames:"row-change",children:h.jsx(use,{subject:l,HeadTitles:s},l.code)},l.code))}):h.jsx("tr",{children:h.jsx("td",{colSpan:s.length,className:"text-center",children:h.jsx(ise,{})})})}function use({subject:e,HeadTitles:t}){const n=I.useRef(e.seat),[r,i]=I.useState(!1),s=e.isDeleted,o=e.curiLangNm==="",a=r?"bg-blue-50":s?"bg-gray-100":o?"bg-green-50":"";return I.useEffect(()=>{if(n.current!==e.seat){i(!0);const l=setTimeout(()=>i(!1),1e3);return n.current=e.seat,()=>clearTimeout(l)}},[e.seat]),h.jsx("tr",{className:`border-t border-gray-200 text-black transition-colors duration-500 text-nowrap ${a}`,children:t.map(({key:l})=>{switch(l){case"seat":return h.jsx("td",{className:"px-4 py-2 text-center",children:h.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-bold "+Jy(e.seat??-1),children:e[l]})},l);case"queryTime":return h.jsx(cse,{queryTime:e.queryTime},l);default:return h.jsx("td",{className:"px-4 py-2 text-center",children:e[l]},l)}})})}function cse({queryTime:e}){return PI(),h.jsx("td",{className:"w-18 px-4 py-2 text-center text-xs",children:h.jsx("span",{className:"text-gray-500",children:W_(e)})})}function dse(){const e=Rw(s=>s.isSearchOpen),t=Rw(s=>s.setIsSearchOpen),n=fs(),{isPreSeatAvailable:r}=i1(),i=!r;return h.jsxs(h.Fragment,{children:[h.jsx(Vr,{children:h.jsx("title",{children:"ALLCLL |   "})}),h.jsxs(Pe,{className:"overflow-hidden min-h-screen",children:[h.jsxs(Pe,{direction:"flex-col",className:"max-w-screen-xl mx-auto p-4 mb-8 container",children:[h.jsxs(Pe,{direction:"flex-col",gap:"gap-0",children:[h.jsx(qt,{level:1,children:"  "}),h.jsxs(Gn,{children:["     .    ",h.jsx("a",{href:"https://forms.gle/bCDTVujEHunnvHe88",target:"_blank",className:"text-blue-500 underline hover:text-blue-600",children:""})]})]}),i&&h.jsx(Hte,{}),h.jsx(Ol,{columns:{base:1},gap:"gap-4",children:h.jsx(fse,{isPreSeatAvailable:r})})]}),h.jsx(hse,{isMobile:n,isOpen:e,onClose:()=>t(!1)})]})]})}function fse({isPreSeatAvailable:e}){return e?h.jsx(Kie,{}):h.jsx(ase,{title:""})}function hse({isMobile:e,isOpen:t,onClose:n}){return t?e?h.jsx(Zie,{onCloseSearch:n}):h.jsx(Xie,{isOpen:t,onClose:n}):null}function pse(){const[e,t]=I.useState(!1);return h.jsxs(h.Fragment,{children:[h.jsx(Vr,{children:h.jsx("title",{children:"ALLCLL | "})}),h.jsxs("div",{className:"mx-auto flex flex-col justify-center bg-blue-100 h-max",children:[h.jsx("iframe",{src:"https://resilient-may-c73.notion.site/ebd/1f2acf7c316280939afed2657259c817",width:"100%",height:e?"1000":"0",onLoad:()=>t(!0),children:" "}),!e&&h.jsx("div",{className:"w-4xl mx-auto h-screen flex justify-center items-center text-3xl",children:" ..."})]})]})}function mse(){const[e,t]=I.useState(!1);return h.jsxs(h.Fragment,{children:[h.jsx(Vr,{children:h.jsx("title",{children:"ALLCLL |   "})}),h.jsxs("div",{className:"mx-auto flex justify-center bg-blue-100 pt-4",children:[h.jsx("iframe",{src:"https://docs.google.com/forms/d/e/1FAIpQLSdk7MxNYVyzPyJLecQdJU5wGSgdE7rUWtRfcrPBY2ioKbtW2Q/viewform?embedded=true",width:"640",height:e?"1100":"0",onLoad:()=>t(!0),children:" "}),!e&&h.jsx("div",{className:"w-4xl h-screen flex items-center text-3xl",children:" ..."})]})]})}function v6(e,t){const n=String(e);if(typeof t!="string")throw new TypeError("Expected character");let r=0,i=n.indexOf(t);for(;i!==-1;)r++,i=n.indexOf(t,i+t.length);return r}const xi=Ll(/[A-Za-z]/),ri=Ll(/[\dA-Za-z]/),gse=Ll(/[#-'*+\--9=?A-Z^-~]/);function iy(e){return e!==null&&(e<32||e===127)}const Kw=Ll(/\d/),yse=Ll(/[\dA-Fa-f]/),vse=Ll(/[!-/:-@[-`{-~]/);function ht(e){return e!==null&&e<-2}function Tn(e){return e!==null&&(e<0||e===32)}function Xt(e){return e===-2||e===-1||e===32}const u1=Ll(new RegExp("\\p{P}|\\p{S}","u")),Yu=Ll(/\s/);function Ll(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function xse(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}const c1=function(e){if(e==null)return Sse;if(typeof e=="function")return d1(e);if(typeof e=="object")return Array.isArray(e)?bse(e):wse(e);if(typeof e=="string")return _se(e);throw new Error("Expected function, string, or object as test")};function bse(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=c1(e[n]);return d1(r);function r(...i){let s=-1;for(;++s<t.length;)if(t[s].apply(this,i))return!0;return!1}}function wse(e){const t=e;return d1(n);function n(r){const i=r;let s;for(s in e)if(i[s]!==t[s])return!1;return!0}}function _se(e){return d1(t);function t(n){return n&&n.type===e}}function d1(e){return t;function t(n,r,i){return!!(Cse(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function Sse(){return!0}function Cse(e){return e!==null&&typeof e=="object"&&"type"in e}const gN=[],kse=!0,Gw=!1,Ese="skip";function yN(e,t,n,r){let i;typeof t=="function"&&typeof n!="function"?(r=n,n=t):i=t;const s=c1(i),o=r?-1:1;a(e,void 0,[])();function a(l,c,f){const p=l&&typeof l=="object"?l:{};if(typeof p.type=="string"){const y=typeof p.tagName=="string"?p.tagName:typeof p.name=="string"?p.name:void 0;Object.defineProperty(g,"name",{value:"node ("+(l.type+(y?"<"+y+">":""))+")"})}return g;function g(){let y=gN,b,_,C;if((!t||s(l,c,f[f.length-1]||void 0))&&(y=Tse(n(l,f)),y[0]===Gw))return y;if("children"in l&&l.children){const k=l;if(k.children&&y[0]!==Ese)for(_=(r?k.children.length:-1)+o,C=f.concat(k);_>-1&&_<k.children.length;){const P=k.children[_];if(b=a(P,_,C)(),b[0]===Gw)return b;_=typeof b[1]=="number"?b[1]:_+o}}return y}}}function Tse(e){return Array.isArray(e)?e:typeof e=="number"?[kse,e]:e==null?gN:[e]}function jse(e,t,n){const i=c1((n||{}).ignore||[]),s=Ise(t);let o=-1;for(;++o<s.length;)yN(e,"text",a);function a(c,f){let p=-1,g;for(;++p<f.length;){const y=f[p],b=g?g.children:void 0;if(i(y,b?b.indexOf(y):void 0,g))return;g=y}if(g)return l(c,f)}function l(c,f){const p=f[f.length-1],g=s[o][0],y=s[o][1];let b=0;const C=p.children.indexOf(c);let k=!1,P=[];g.lastIndex=0;let O=g.exec(c.value);for(;O;){const $=O.index,B={index:O.index,input:O.input,stack:[...f,c]};let j=y(...O,B);if(typeof j=="string"&&(j=j.length>0?{type:"text",value:j}:void 0),j===!1?g.lastIndex=$+1:(b!==$&&P.push({type:"text",value:c.value.slice(b,$)}),Array.isArray(j)?P.push(...j):j&&P.push(j),b=$+O[0].length,k=!0),!g.global)break;O=g.exec(c.value)}return k?(b<c.value.length&&P.push({type:"text",value:c.value.slice(b)}),p.children.splice(C,1,...P)):P=[c],C+P.length}}function Ise(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!e[0]||Array.isArray(e[0])?e:[e];let r=-1;for(;++r<n.length;){const i=n[r];t.push([Nse(i[0]),Pse(i[1])])}return t}function Nse(e){return typeof e=="string"?new RegExp(xse(e),"g"):e}function Pse(e){return typeof e=="function"?e:function(){return e}}const Gx="phrasing",Yx=["autolink","link","image","label"];function Rse(){return{transforms:[Bse],enter:{literalAutolink:Mse,literalAutolinkEmail:Xx,literalAutolinkHttp:Xx,literalAutolinkWww:Xx},exit:{literalAutolink:Fse,literalAutolinkEmail:Lse,literalAutolinkHttp:Ase,literalAutolinkWww:Dse}}}function Ose(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:Gx,notInConstruct:Yx},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:Gx,notInConstruct:Yx},{character:":",before:"[ps]",after:"\\/",inConstruct:Gx,notInConstruct:Yx}]}}function Mse(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function Xx(e){this.config.enter.autolinkProtocol.call(this,e)}function Ase(e){this.config.exit.autolinkProtocol.call(this,e)}function Dse(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function Lse(e){this.config.exit.autolinkEmail.call(this,e)}function Fse(e){this.exit(e)}function Bse(e){jse(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,zse],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),$se]],{ignore:["link","linkReference"]})}function zse(e,t,n,r,i){let s="";if(!vN(i)||(/^w/i.test(t)&&(n=t+n,t="",s="http://"),!Use(n)))return!1;const o=Hse(n+r);if(!o[0])return!1;const a={type:"link",title:null,url:s+t+o[0],children:[{type:"text",value:t+o[0]}]};return o[1]?[a,{type:"text",value:o[1]}]:a}function $se(e,t,n,r){return!vN(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function Use(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function Hse(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],r=n.indexOf(")");const i=v6(e,"(");let s=v6(e,")");for(;r!==-1&&i>s;)e+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),s++;return[e,n]}function vN(e,t){const n=e.input.charCodeAt(e.index-1);return(e.index===0||Yu(n)||u1(n))&&(!t||n!==47)}function so(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}xN.peek=Jse;function Wse(){this.buffer()}function Vse(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function qse(){this.buffer()}function Qse(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function Kse(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=so(this.sliceSerialize(e)).toLowerCase(),n.label=t}function Gse(e){this.exit(e)}function Yse(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=so(this.sliceSerialize(e)).toLowerCase(),n.label=t}function Xse(e){this.exit(e)}function Jse(){return"["}function xN(e,t,n,r){const i=n.createTracker(r);let s=i.move("[^");const o=n.enter("footnoteReference"),a=n.enter("reference");return s+=i.move(n.safe(n.associationId(e),{after:"]",before:s})),a(),o(),s+=i.move("]"),s}function Zse(){return{enter:{gfmFootnoteCallString:Wse,gfmFootnoteCall:Vse,gfmFootnoteDefinitionLabelString:qse,gfmFootnoteDefinition:Qse},exit:{gfmFootnoteCallString:Kse,gfmFootnoteCall:Gse,gfmFootnoteDefinitionLabelString:Yse,gfmFootnoteDefinition:Xse}}}function eoe(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:n,footnoteReference:xN},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,i,s,o){const a=s.createTracker(o);let l=a.move("[^");const c=s.enter("footnoteDefinition"),f=s.enter("label");return l+=a.move(s.safe(s.associationId(r),{before:l,after:"]"})),f(),l+=a.move("]:"),r.children&&r.children.length>0&&(a.shift(4),l+=a.move((t?`
`:" ")+s.indentLines(s.containerFlow(r,a.current()),t?bN:toe))),c(),l}}function toe(e,t,n){return t===0?e:bN(e,t,n)}function bN(e,t,n){return(n?"":"    ")+e}const noe=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];wN.peek=aoe;function roe(){return{canContainEols:["delete"],enter:{strikethrough:soe},exit:{strikethrough:ooe}}}function ioe(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:noe}],handlers:{delete:wN}}}function soe(e){this.enter({type:"delete",children:[]},e)}function ooe(e){this.exit(e)}function wN(e,t,n,r){const i=n.createTracker(r),s=n.enter("strikethrough");let o=i.move("~~");return o+=n.containerPhrasing(e,{...i.current(),before:o,after:"~"}),o+=i.move("~~"),s(),o}function aoe(){return"~"}function loe(e){return e.length}function uoe(e,t){const n=t||{},r=(n.align||[]).concat(),i=n.stringLength||loe,s=[],o=[],a=[],l=[];let c=0,f=-1;for(;++f<e.length;){const _=[],C=[];let k=-1;for(e[f].length>c&&(c=e[f].length);++k<e[f].length;){const P=coe(e[f][k]);if(n.alignDelimiters!==!1){const O=i(P);C[k]=O,(l[k]===void 0||O>l[k])&&(l[k]=O)}_.push(P)}o[f]=_,a[f]=C}let p=-1;if(typeof r=="object"&&"length"in r)for(;++p<c;)s[p]=x6(r[p]);else{const _=x6(r);for(;++p<c;)s[p]=_}p=-1;const g=[],y=[];for(;++p<c;){const _=s[p];let C="",k="";_===99?(C=":",k=":"):_===108?C=":":_===114&&(k=":");let P=n.alignDelimiters===!1?1:Math.max(1,l[p]-C.length-k.length);const O=C+"-".repeat(P)+k;n.alignDelimiters!==!1&&(P=C.length+P+k.length,P>l[p]&&(l[p]=P),y[p]=P),g[p]=O}o.splice(1,0,g),a.splice(1,0,y),f=-1;const b=[];for(;++f<o.length;){const _=o[f],C=a[f];p=-1;const k=[];for(;++p<c;){const P=_[p]||"";let O="",$="";if(n.alignDelimiters!==!1){const B=l[p]-(C[p]||0),j=s[p];j===114?O=" ".repeat(B):j===99?B%2?(O=" ".repeat(B/2+.5),$=" ".repeat(B/2-.5)):(O=" ".repeat(B/2),$=O):$=" ".repeat(B)}n.delimiterStart!==!1&&!p&&k.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&P==="")&&(n.delimiterStart!==!1||p)&&k.push(" "),n.alignDelimiters!==!1&&k.push(O),k.push(P),n.alignDelimiters!==!1&&k.push($),n.padding!==!1&&k.push(" "),(n.delimiterEnd!==!1||p!==c-1)&&k.push("|")}b.push(n.delimiterEnd===!1?k.join("").replace(/ +$/,""):k.join(""))}return b.join(`
`)}function coe(e){return e==null?"":String(e)}function x6(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}function doe(e,t,n,r){const i=n.enter("blockquote"),s=n.createTracker(r);s.move("> "),s.shift(2);const o=n.indentLines(n.containerFlow(e,s.current()),foe);return i(),o}function foe(e,t,n){return">"+(n?"":" ")+e}function hoe(e,t){return b6(e,t.inConstruct,!0)&&!b6(e,t.notInConstruct,!1)}function b6(e,t,n){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return n;let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function w6(e,t,n,r){let i=-1;for(;++i<n.unsafe.length;)if(n.unsafe[i].character===`
`&&hoe(n.stack,n.unsafe[i]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function poe(e,t){const n=String(e);let r=n.indexOf(t),i=r,s=0,o=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===i?++s>o&&(o=s):s=1,i=r+t.length,r=n.indexOf(t,i);return o}function moe(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function goe(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function yoe(e,t,n,r){const i=goe(n),s=e.value||"",o=i==="`"?"GraveAccent":"Tilde";if(moe(e,n)){const p=n.enter("codeIndented"),g=n.indentLines(s,voe);return p(),g}const a=n.createTracker(r),l=i.repeat(Math.max(poe(s,i)+1,3)),c=n.enter("codeFenced");let f=a.move(l);if(e.lang){const p=n.enter(`codeFencedLang${o}`);f+=a.move(n.safe(e.lang,{before:f,after:" ",encode:["`"],...a.current()})),p()}if(e.lang&&e.meta){const p=n.enter(`codeFencedMeta${o}`);f+=a.move(" "),f+=a.move(n.safe(e.meta,{before:f,after:`
`,encode:["`"],...a.current()})),p()}return f+=a.move(`
`),s&&(f+=a.move(s+`
`)),f+=a.move(l),c(),f}function voe(e,t,n){return(n?"":"    ")+e}function lS(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function xoe(e,t,n,r){const i=lS(n),s=i==='"'?"Quote":"Apostrophe",o=n.enter("definition");let a=n.enter("label");const l=n.createTracker(r);let c=l.move("[");return c+=l.move(n.safe(n.associationId(e),{before:c,after:"]",...l.current()})),c+=l.move("]: "),a(),!e.url||/[\0- \u007F]/.test(e.url)?(a=n.enter("destinationLiteral"),c+=l.move("<"),c+=l.move(n.safe(e.url,{before:c,after:">",...l.current()})),c+=l.move(">")):(a=n.enter("destinationRaw"),c+=l.move(n.safe(e.url,{before:c,after:e.title?" ":`
`,...l.current()}))),a(),e.title&&(a=n.enter(`title${s}`),c+=l.move(" "+i),c+=l.move(n.safe(e.title,{before:c,after:i,...l.current()})),c+=l.move(i),a()),o(),c}function boe(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function lp(e){return"&#x"+e.toString(16).toUpperCase()+";"}function Yd(e){if(e===null||Tn(e)||Yu(e))return 1;if(u1(e))return 2}function sy(e,t,n){const r=Yd(e),i=Yd(t);return r===void 0?i===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}_N.peek=woe;function _N(e,t,n,r){const i=boe(n),s=n.enter("emphasis"),o=n.createTracker(r),a=o.move(i);let l=o.move(n.containerPhrasing(e,{after:i,before:a,...o.current()}));const c=l.charCodeAt(0),f=sy(r.before.charCodeAt(r.before.length-1),c,i);f.inside&&(l=lp(c)+l.slice(1));const p=l.charCodeAt(l.length-1),g=sy(r.after.charCodeAt(0),p,i);g.inside&&(l=l.slice(0,-1)+lp(p));const y=o.move(i);return s(),n.attentionEncodeSurroundingInfo={after:g.outside,before:f.outside},a+l+y}function woe(e,t,n){return n.options.emphasis||"*"}function uS(e,t,n,r){let i,s,o;typeof t=="function"&&typeof n!="function"?(s=void 0,o=t,i=n):(s=t,o=n,i=r),yN(e,s,a,i);function a(l,c){const f=c[c.length-1],p=f?f.children.indexOf(l):void 0;return o(l,p,f)}}const _oe={};function cS(e,t){const n=_oe,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return SN(e,r,i)}function SN(e,t,n){if(Soe(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return _6(e.children,t,n)}return Array.isArray(e)?_6(e,t,n):""}function _6(e,t,n){const r=[];let i=-1;for(;++i<e.length;)r[i]=SN(e[i],t,n);return r.join("")}function Soe(e){return!!(e&&typeof e=="object")}function Coe(e,t){let n=!1;return uS(e,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,Gw}),!!((!e.depth||e.depth<3)&&cS(e)&&(t.options.setext||n))}function koe(e,t,n,r){const i=Math.max(Math.min(6,e.depth||1),1),s=n.createTracker(r);if(Coe(e,n)){const f=n.enter("headingSetext"),p=n.enter("phrasing"),g=n.containerPhrasing(e,{...s.current(),before:`
`,after:`
`});return p(),f(),g+`
`+(i===1?"=":"-").repeat(g.length-(Math.max(g.lastIndexOf("\r"),g.lastIndexOf(`
`))+1))}const o="#".repeat(i),a=n.enter("headingAtx"),l=n.enter("phrasing");s.move(o+" ");let c=n.containerPhrasing(e,{before:"# ",after:`
`,...s.current()});return/^[\t ]/.test(c)&&(c=lp(c.charCodeAt(0))+c.slice(1)),c=c?o+" "+c:o,n.options.closeAtx&&(c+=" "+o),l(),a(),c}CN.peek=Eoe;function CN(e){return e.value||""}function Eoe(){return"<"}kN.peek=Toe;function kN(e,t,n,r){const i=lS(n),s=i==='"'?"Quote":"Apostrophe",o=n.enter("image");let a=n.enter("label");const l=n.createTracker(r);let c=l.move("![");return c+=l.move(n.safe(e.alt,{before:c,after:"]",...l.current()})),c+=l.move("]("),a(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(a=n.enter("destinationLiteral"),c+=l.move("<"),c+=l.move(n.safe(e.url,{before:c,after:">",...l.current()})),c+=l.move(">")):(a=n.enter("destinationRaw"),c+=l.move(n.safe(e.url,{before:c,after:e.title?" ":")",...l.current()}))),a(),e.title&&(a=n.enter(`title${s}`),c+=l.move(" "+i),c+=l.move(n.safe(e.title,{before:c,after:i,...l.current()})),c+=l.move(i),a()),c+=l.move(")"),o(),c}function Toe(){return"!"}EN.peek=joe;function EN(e,t,n,r){const i=e.referenceType,s=n.enter("imageReference");let o=n.enter("label");const a=n.createTracker(r);let l=a.move("![");const c=n.safe(e.alt,{before:l,after:"]",...a.current()});l+=a.move(c+"]["),o();const f=n.stack;n.stack=[],o=n.enter("reference");const p=n.safe(n.associationId(e),{before:l,after:"]",...a.current()});return o(),n.stack=f,s(),i==="full"||!c||c!==p?l+=a.move(p+"]"):i==="shortcut"?l=l.slice(0,-1):l+=a.move("]"),l}function joe(){return"!"}TN.peek=Ioe;function TN(e,t,n){let r=e.value||"",i="`",s=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++s<n.unsafe.length;){const o=n.unsafe[s],a=n.compilePattern(o);let l;if(o.atBreak)for(;l=a.exec(r);){let c=l.index;r.charCodeAt(c)===10&&r.charCodeAt(c-1)===13&&c--,r=r.slice(0,c)+" "+r.slice(l.index+1)}}return i+r+i}function Ioe(){return"`"}function jN(e,t){const n=cS(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}IN.peek=Noe;function IN(e,t,n,r){const i=lS(n),s=i==='"'?"Quote":"Apostrophe",o=n.createTracker(r);let a,l;if(jN(e,n)){const f=n.stack;n.stack=[],a=n.enter("autolink");let p=o.move("<");return p+=o.move(n.containerPhrasing(e,{before:p,after:">",...o.current()})),p+=o.move(">"),a(),n.stack=f,p}a=n.enter("link"),l=n.enter("label");let c=o.move("[");return c+=o.move(n.containerPhrasing(e,{before:c,after:"](",...o.current()})),c+=o.move("]("),l(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(l=n.enter("destinationLiteral"),c+=o.move("<"),c+=o.move(n.safe(e.url,{before:c,after:">",...o.current()})),c+=o.move(">")):(l=n.enter("destinationRaw"),c+=o.move(n.safe(e.url,{before:c,after:e.title?" ":")",...o.current()}))),l(),e.title&&(l=n.enter(`title${s}`),c+=o.move(" "+i),c+=o.move(n.safe(e.title,{before:c,after:i,...o.current()})),c+=o.move(i),l()),c+=o.move(")"),a(),c}function Noe(e,t,n){return jN(e,n)?"<":"["}NN.peek=Poe;function NN(e,t,n,r){const i=e.referenceType,s=n.enter("linkReference");let o=n.enter("label");const a=n.createTracker(r);let l=a.move("[");const c=n.containerPhrasing(e,{before:l,after:"]",...a.current()});l+=a.move(c+"]["),o();const f=n.stack;n.stack=[],o=n.enter("reference");const p=n.safe(n.associationId(e),{before:l,after:"]",...a.current()});return o(),n.stack=f,s(),i==="full"||!c||c!==p?l+=a.move(p+"]"):i==="shortcut"?l=l.slice(0,-1):l+=a.move("]"),l}function Poe(){return"["}function dS(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function Roe(e){const t=dS(e),n=e.options.bulletOther;if(!n)return t==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}function Ooe(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function PN(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function Moe(e,t,n,r){const i=n.enter("list"),s=n.bulletCurrent;let o=e.ordered?Ooe(n):dS(n);const a=e.ordered?o==="."?")":".":Roe(n);let l=t&&n.bulletLastUsed?o===n.bulletLastUsed:!1;if(!e.ordered){const f=e.children?e.children[0]:void 0;if((o==="*"||o==="-")&&f&&(!f.children||!f.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(l=!0),PN(n)===o&&f){let p=-1;for(;++p<e.children.length;){const g=e.children[p];if(g&&g.type==="listItem"&&g.children&&g.children[0]&&g.children[0].type==="thematicBreak"){l=!0;break}}}}l&&(o=a),n.bulletCurrent=o;const c=n.containerFlow(e,r);return n.bulletLastUsed=o,n.bulletCurrent=s,i(),c}function Aoe(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function Doe(e,t,n,r){const i=Aoe(n);let s=n.bulletCurrent||dS(n);t&&t.type==="list"&&t.ordered&&(s=(typeof t.start=="number"&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+s);let o=s.length+1;(i==="tab"||i==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(o=Math.ceil(o/4)*4);const a=n.createTracker(r);a.move(s+" ".repeat(o-s.length)),a.shift(o);const l=n.enter("listItem"),c=n.indentLines(n.containerFlow(e,a.current()),f);return l(),c;function f(p,g,y){return g?(y?"":" ".repeat(o))+p:(y?s:s+" ".repeat(o-s.length))+p}}function Loe(e,t,n,r){const i=n.enter("paragraph"),s=n.enter("phrasing"),o=n.containerPhrasing(e,r);return s(),i(),o}const Foe=c1(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function Boe(e,t,n,r){return(e.children.some(function(o){return Foe(o)})?n.containerPhrasing:n.containerFlow).call(n,e,r)}function zoe(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}RN.peek=$oe;function RN(e,t,n,r){const i=zoe(n),s=n.enter("strong"),o=n.createTracker(r),a=o.move(i+i);let l=o.move(n.containerPhrasing(e,{after:i,before:a,...o.current()}));const c=l.charCodeAt(0),f=sy(r.before.charCodeAt(r.before.length-1),c,i);f.inside&&(l=lp(c)+l.slice(1));const p=l.charCodeAt(l.length-1),g=sy(r.after.charCodeAt(0),p,i);g.inside&&(l=l.slice(0,-1)+lp(p));const y=o.move(i+i);return s(),n.attentionEncodeSurroundingInfo={after:g.outside,before:f.outside},a+l+y}function $oe(e,t,n){return n.options.strong||"*"}function Uoe(e,t,n,r){return n.safe(e.value,r)}function Hoe(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function Woe(e,t,n){const r=(PN(n)+(n.options.ruleSpaces?" ":"")).repeat(Hoe(n));return n.options.ruleSpaces?r.slice(0,-1):r}const ON={blockquote:doe,break:w6,code:yoe,definition:xoe,emphasis:_N,hardBreak:w6,heading:koe,html:CN,image:kN,imageReference:EN,inlineCode:TN,link:IN,linkReference:NN,list:Moe,listItem:Doe,paragraph:Loe,root:Boe,strong:RN,text:Uoe,thematicBreak:Woe},S6=document.createElement("i");function fS(e){const t="&"+e+";";S6.innerHTML=t;const n=S6.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function MN(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}const Voe=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function qoe(e){return e.replace(Voe,Qoe)}function Qoe(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),s=i===120||i===88;return MN(n.slice(s?2:1),s?16:10)}return fS(n)||e}function Koe(){return{enter:{table:Goe,tableData:C6,tableHeader:C6,tableRow:Xoe},exit:{codeText:Joe,table:Yoe,tableData:Jx,tableHeader:Jx,tableRow:Jx}}}function Goe(e){const t=e._align;this.enter({type:"table",align:t.map(function(n){return n==="none"?null:n}),children:[]},e),this.data.inTable=!0}function Yoe(e){this.exit(e),this.data.inTable=void 0}function Xoe(e){this.enter({type:"tableRow",children:[]},e)}function Jx(e){this.exit(e)}function C6(e){this.enter({type:"tableCell",children:[]},e)}function Joe(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,Zoe));const n=this.stack[this.stack.length-1];n.type,n.value=t,this.exit(e)}function Zoe(e,t){return t==="|"?t:e}function eae(e){const t=e||{},n=t.tableCellPadding,r=t.tablePipeAlign,i=t.stringLength,s=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:g,table:o,tableCell:l,tableRow:a}};function o(y,b,_,C){return c(f(y,_,C),y.align)}function a(y,b,_,C){const k=p(y,_,C),P=c([k]);return P.slice(0,P.indexOf(`
`))}function l(y,b,_,C){const k=_.enter("tableCell"),P=_.enter("phrasing"),O=_.containerPhrasing(y,{...C,before:s,after:s});return P(),k(),O}function c(y,b){return uoe(y,{align:b,alignDelimiters:r,padding:n,stringLength:i})}function f(y,b,_){const C=y.children;let k=-1;const P=[],O=b.enter("table");for(;++k<C.length;)P[k]=p(C[k],b,_);return O(),P}function p(y,b,_){const C=y.children;let k=-1;const P=[],O=b.enter("tableRow");for(;++k<C.length;)P[k]=l(C[k],y,b,_);return O(),P}function g(y,b,_){let C=ON.inlineCode(y,b,_);return _.stack.includes("tableCell")&&(C=C.replace(/\|/g,"\\$&")),C}}function tae(){return{exit:{taskListCheckValueChecked:k6,taskListCheckValueUnchecked:k6,paragraph:rae}}}function nae(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:iae}}}function k6(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function rae(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const i=t.children;let s=-1,o;for(;++s<i.length;){const a=i[s];if(a.type==="paragraph"){o=a;break}}o===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(e)}function iae(e,t,n,r){const i=e.children[0],s=typeof e.checked=="boolean"&&i&&i.type==="paragraph",o="["+(e.checked?"x":" ")+"] ",a=n.createTracker(r);s&&a.move(o);let l=ON.listItem(e,t,n,{...r,...a.current()});return s&&(l=l.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,c)),l;function c(f){return f+o}}function sae(){return[Rse(),Zse(),roe(),Koe(),tae()]}function oae(e){return{extensions:[Ose(),eoe(e),ioe(),eae(e),nae()]}}function cs(e,t,n,r){const i=e.length;let s=0,o;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(t,n),e.splice(...o);else for(n&&e.splice(t,n);s<r.length;)o=r.slice(s,s+1e4),o.unshift(t,0),e.splice(...o),s+=1e4,t+=1e4}function Is(e,t){return e.length>0?(cs(e,e.length,0,t),e):t}const E6={}.hasOwnProperty;function AN(e){const t={};let n=-1;for(;++n<e.length;)aae(t,e[n]);return t}function aae(e,t){let n;for(n in t){const i=(E6.call(e,n)?e[n]:void 0)||(e[n]={}),s=t[n];let o;if(s)for(o in s){E6.call(i,o)||(i[o]=[]);const a=s[o];lae(i[o],Array.isArray(a)?a:a?[a]:[])}}}function lae(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);cs(e,0,0,r)}const uae={tokenize:mae,partial:!0},DN={tokenize:gae,partial:!0},LN={tokenize:yae,partial:!0},FN={tokenize:vae,partial:!0},cae={tokenize:xae,partial:!0},BN={name:"wwwAutolink",tokenize:hae,previous:$N},zN={name:"protocolAutolink",tokenize:pae,previous:UN},Ca={name:"emailAutolink",tokenize:fae,previous:HN},Po={};function dae(){return{text:Po}}let vu=48;for(;vu<123;)Po[vu]=Ca,vu++,vu===58?vu=65:vu===91&&(vu=97);Po[43]=Ca;Po[45]=Ca;Po[46]=Ca;Po[95]=Ca;Po[72]=[Ca,zN];Po[104]=[Ca,zN];Po[87]=[Ca,BN];Po[119]=[Ca,BN];function fae(e,t,n){const r=this;let i,s;return o;function o(p){return!Yw(p)||!HN.call(r,r.previous)||hS(r.events)?n(p):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),a(p))}function a(p){return Yw(p)?(e.consume(p),a):p===64?(e.consume(p),l):n(p)}function l(p){return p===46?e.check(cae,f,c)(p):p===45||p===95||ri(p)?(s=!0,e.consume(p),l):f(p)}function c(p){return e.consume(p),i=!0,l}function f(p){return s&&i&&xi(r.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(p)):n(p)}}function hae(e,t,n){const r=this;return i;function i(o){return o!==87&&o!==119||!$N.call(r,r.previous)||hS(r.events)?n(o):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(uae,e.attempt(DN,e.attempt(LN,s),n),n)(o))}function s(o){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(o)}}function pae(e,t,n){const r=this;let i="",s=!1;return o;function o(p){return(p===72||p===104)&&UN.call(r,r.previous)&&!hS(r.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),i+=String.fromCodePoint(p),e.consume(p),a):n(p)}function a(p){if(xi(p)&&i.length<5)return i+=String.fromCodePoint(p),e.consume(p),a;if(p===58){const g=i.toLowerCase();if(g==="http"||g==="https")return e.consume(p),l}return n(p)}function l(p){return p===47?(e.consume(p),s?c:(s=!0,l)):n(p)}function c(p){return p===null||iy(p)||Tn(p)||Yu(p)||u1(p)?n(p):e.attempt(DN,e.attempt(LN,f),n)(p)}function f(p){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(p)}}function mae(e,t,n){let r=0;return i;function i(o){return(o===87||o===119)&&r<3?(r++,e.consume(o),i):o===46&&r===3?(e.consume(o),s):n(o)}function s(o){return o===null?n(o):t(o)}}function gae(e,t,n){let r,i,s;return o;function o(c){return c===46||c===95?e.check(FN,l,a)(c):c===null||Tn(c)||Yu(c)||c!==45&&u1(c)?l(c):(s=!0,e.consume(c),o)}function a(c){return c===95?r=!0:(i=r,r=void 0),e.consume(c),o}function l(c){return i||r||!s?n(c):t(c)}}function yae(e,t){let n=0,r=0;return i;function i(o){return o===40?(n++,e.consume(o),i):o===41&&r<n?s(o):o===33||o===34||o===38||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===60||o===63||o===93||o===95||o===126?e.check(FN,t,s)(o):o===null||Tn(o)||Yu(o)?t(o):(e.consume(o),i)}function s(o){return o===41&&r++,e.consume(o),i}}function vae(e,t,n){return r;function r(a){return a===33||a===34||a===39||a===41||a===42||a===44||a===46||a===58||a===59||a===63||a===95||a===126?(e.consume(a),r):a===38?(e.consume(a),s):a===93?(e.consume(a),i):a===60||a===null||Tn(a)||Yu(a)?t(a):n(a)}function i(a){return a===null||a===40||a===91||Tn(a)||Yu(a)?t(a):r(a)}function s(a){return xi(a)?o(a):n(a)}function o(a){return a===59?(e.consume(a),r):xi(a)?(e.consume(a),o):n(a)}}function xae(e,t,n){return r;function r(s){return e.consume(s),i}function i(s){return ri(s)?n(s):t(s)}}function $N(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||Tn(e)}function UN(e){return!xi(e)}function HN(e){return!(e===47||Yw(e))}function Yw(e){return e===43||e===45||e===46||e===95||ri(e)}function hS(e){let t=e.length,n=!1;for(;t--;){const r=e[t][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}function ff(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const s=e.charCodeAt(n);let o="";if(s===37&&ri(e.charCodeAt(n+1))&&ri(e.charCodeAt(n+2)))i=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(o=String.fromCharCode(s));else if(s>55295&&s<57344){const a=e.charCodeAt(n+1);s<56320&&a>56319&&a<57344?(o=String.fromCharCode(s,a),i=1):o=""}else o=String.fromCharCode(s);o&&(t.push(e.slice(r,n),encodeURIComponent(o)),r=n+i+1,o=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function f1(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const s=e[i].resolveAll;s&&!r.includes(s)&&(t=s(t,n),r.push(s))}return t}const Xw={name:"attention",resolveAll:bae,tokenize:wae};function bae(e,t){let n=-1,r,i,s,o,a,l,c,f;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;l=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const p={...e[r][1].end},g={...e[n][1].start};T6(p,-l),T6(g,l),o={type:l>1?"strongSequence":"emphasisSequence",start:p,end:{...e[r][1].end}},a={type:l>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:g},s={type:l>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},i={type:l>1?"strong":"emphasis",start:{...o.start},end:{...a.end}},e[r][1].end={...o.start},e[n][1].start={...a.end},c=[],e[r][1].end.offset-e[r][1].start.offset&&(c=Is(c,[["enter",e[r][1],t],["exit",e[r][1],t]])),c=Is(c,[["enter",i,t],["enter",o,t],["exit",o,t],["enter",s,t]]),c=Is(c,f1(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),c=Is(c,[["exit",s,t],["enter",a,t],["exit",a,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(f=2,c=Is(c,[["enter",e[n][1],t],["exit",e[n][1],t]])):f=0,cs(e,r-1,n-r+3,c),n=r+c.length-f-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function wae(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=Yd(r);let s;return o;function o(l){return s=l,e.enter("attentionSequence"),a(l)}function a(l){if(l===s)return e.consume(l),a;const c=e.exit("attentionSequence"),f=Yd(l),p=!f||f===2&&i||n.includes(l),g=!i||i===2&&f||n.includes(r);return c._open=!!(s===42?p:p&&(i||!g)),c._close=!!(s===42?g:g&&(f||!p)),t(l)}}function T6(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const _ae={name:"autolink",tokenize:Sae};function Sae(e,t,n){let r=0;return i;function i(y){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(y),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),s}function s(y){return xi(y)?(e.consume(y),o):y===64?n(y):c(y)}function o(y){return y===43||y===45||y===46||ri(y)?(r=1,a(y)):c(y)}function a(y){return y===58?(e.consume(y),r=0,l):(y===43||y===45||y===46||ri(y))&&r++<32?(e.consume(y),a):(r=0,c(y))}function l(y){return y===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(y),e.exit("autolinkMarker"),e.exit("autolink"),t):y===null||y===32||y===60||iy(y)?n(y):(e.consume(y),l)}function c(y){return y===64?(e.consume(y),f):gse(y)?(e.consume(y),c):n(y)}function f(y){return ri(y)?p(y):n(y)}function p(y){return y===46?(e.consume(y),r=0,f):y===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(y),e.exit("autolinkMarker"),e.exit("autolink"),t):g(y)}function g(y){if((y===45||ri(y))&&r++<63){const b=y===45?g:p;return e.consume(y),b}return n(y)}}function an(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let s=0;return o;function o(l){return Xt(l)?(e.enter(n),a(l)):t(l)}function a(l){return Xt(l)&&s++<i?(e.consume(l),a):(e.exit(n),t(l))}}const Fp={partial:!0,tokenize:Cae};function Cae(e,t,n){return r;function r(s){return Xt(s)?an(e,i,"linePrefix")(s):i(s)}function i(s){return s===null||ht(s)?t(s):n(s)}}const WN={continuation:{tokenize:Eae},exit:Tae,name:"blockQuote",tokenize:kae};function kae(e,t,n){const r=this;return i;function i(o){if(o===62){const a=r.containerState;return a.open||(e.enter("blockQuote",{_container:!0}),a.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(o),e.exit("blockQuoteMarker"),s}return n(o)}function s(o){return Xt(o)?(e.enter("blockQuotePrefixWhitespace"),e.consume(o),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(o))}}function Eae(e,t,n){const r=this;return i;function i(o){return Xt(o)?an(e,s,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):s(o)}function s(o){return e.attempt(WN,t,n)(o)}}function Tae(e){e.exit("blockQuote")}const VN={name:"characterEscape",tokenize:jae};function jae(e,t,n){return r;function r(s){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(s),e.exit("escapeMarker"),i}function i(s){return vse(s)?(e.enter("characterEscapeValue"),e.consume(s),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(s)}}const qN={name:"characterReference",tokenize:Iae};function Iae(e,t,n){const r=this;let i=0,s,o;return a;function a(p){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(p),e.exit("characterReferenceMarker"),l}function l(p){return p===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(p),e.exit("characterReferenceMarkerNumeric"),c):(e.enter("characterReferenceValue"),s=31,o=ri,f(p))}function c(p){return p===88||p===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(p),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),s=6,o=yse,f):(e.enter("characterReferenceValue"),s=7,o=Kw,f(p))}function f(p){if(p===59&&i){const g=e.exit("characterReferenceValue");return o===ri&&!fS(r.sliceSerialize(g))?n(p):(e.enter("characterReferenceMarker"),e.consume(p),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return o(p)&&i++<s?(e.consume(p),f):n(p)}}const j6={partial:!0,tokenize:Pae},I6={concrete:!0,name:"codeFenced",tokenize:Nae};function Nae(e,t,n){const r=this,i={partial:!0,tokenize:B};let s=0,o=0,a;return l;function l(j){return c(j)}function c(j){const M=r.events[r.events.length-1];return s=M&&M[1].type==="linePrefix"?M[2].sliceSerialize(M[1],!0).length:0,a=j,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),f(j)}function f(j){return j===a?(o++,e.consume(j),f):o<3?n(j):(e.exit("codeFencedFenceSequence"),Xt(j)?an(e,p,"whitespace")(j):p(j))}function p(j){return j===null||ht(j)?(e.exit("codeFencedFence"),r.interrupt?t(j):e.check(j6,_,$)(j)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),g(j))}function g(j){return j===null||ht(j)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),p(j)):Xt(j)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),an(e,y,"whitespace")(j)):j===96&&j===a?n(j):(e.consume(j),g)}function y(j){return j===null||ht(j)?p(j):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),b(j))}function b(j){return j===null||ht(j)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),p(j)):j===96&&j===a?n(j):(e.consume(j),b)}function _(j){return e.attempt(i,$,C)(j)}function C(j){return e.enter("lineEnding"),e.consume(j),e.exit("lineEnding"),k}function k(j){return s>0&&Xt(j)?an(e,P,"linePrefix",s+1)(j):P(j)}function P(j){return j===null||ht(j)?e.check(j6,_,$)(j):(e.enter("codeFlowValue"),O(j))}function O(j){return j===null||ht(j)?(e.exit("codeFlowValue"),P(j)):(e.consume(j),O)}function $(j){return e.exit("codeFenced"),t(j)}function B(j,M,U){let z=0;return D;function D(V){return j.enter("lineEnding"),j.consume(V),j.exit("lineEnding"),ee}function ee(V){return j.enter("codeFencedFence"),Xt(V)?an(j,J,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(V):J(V)}function J(V){return V===a?(j.enter("codeFencedFenceSequence"),re(V)):U(V)}function re(V){return V===a?(z++,j.consume(V),re):z>=o?(j.exit("codeFencedFenceSequence"),Xt(V)?an(j,q,"whitespace")(V):q(V)):U(V)}function q(V){return V===null||ht(V)?(j.exit("codeFencedFence"),M(V)):U(V)}}}function Pae(e,t,n){const r=this;return i;function i(o){return o===null?n(o):(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),s)}function s(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}const Zx={name:"codeIndented",tokenize:Oae},Rae={partial:!0,tokenize:Mae};function Oae(e,t,n){const r=this;return i;function i(c){return e.enter("codeIndented"),an(e,s,"linePrefix",5)(c)}function s(c){const f=r.events[r.events.length-1];return f&&f[1].type==="linePrefix"&&f[2].sliceSerialize(f[1],!0).length>=4?o(c):n(c)}function o(c){return c===null?l(c):ht(c)?e.attempt(Rae,o,l)(c):(e.enter("codeFlowValue"),a(c))}function a(c){return c===null||ht(c)?(e.exit("codeFlowValue"),o(c)):(e.consume(c),a)}function l(c){return e.exit("codeIndented"),t(c)}}function Mae(e,t,n){const r=this;return i;function i(o){return r.parser.lazy[r.now().line]?n(o):ht(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),i):an(e,s,"linePrefix",5)(o)}function s(o){const a=r.events[r.events.length-1];return a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?t(o):ht(o)?i(o):n(o)}}const Aae={name:"codeText",previous:Lae,resolve:Dae,tokenize:Fae};function Dae(e){let t=e.length-4,n=3,r,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(i=r):(r===t||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function Lae(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function Fae(e,t,n){let r=0,i,s;return o;function o(p){return e.enter("codeText"),e.enter("codeTextSequence"),a(p)}function a(p){return p===96?(e.consume(p),r++,a):(e.exit("codeTextSequence"),l(p))}function l(p){return p===null?n(p):p===32?(e.enter("space"),e.consume(p),e.exit("space"),l):p===96?(s=e.enter("codeTextSequence"),i=0,f(p)):ht(p)?(e.enter("lineEnding"),e.consume(p),e.exit("lineEnding"),l):(e.enter("codeTextData"),c(p))}function c(p){return p===null||p===32||p===96||ht(p)?(e.exit("codeTextData"),l(p)):(e.consume(p),c)}function f(p){return p===96?(e.consume(p),i++,f):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(p)):(s.type="codeTextData",c(p))}}class Bae{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const i=n||0;this.setCursor(Math.trunc(t));const s=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&uh(this.left,r),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),uh(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),uh(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);uh(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);uh(this.left,n.reverse())}}}function uh(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function QN(e){const t={};let n=-1,r,i,s,o,a,l,c;const f=new Bae(e);for(;++n<f.length;){for(;n in t;)n=t[n];if(r=f.get(n),n&&r[1].type==="chunkFlow"&&f.get(n-1)[1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,s=0,s<l.length&&l[s][1].type==="lineEndingBlank"&&(s+=2),s<l.length&&l[s][1].type==="content"))for(;++s<l.length&&l[s][1].type!=="content";)l[s][1].type==="chunkText"&&(l[s][1]._isInFirstContentOfListItem=!0,s++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,zae(f,n)),n=t[n],c=!0);else if(r[1]._container){for(s=n,i=void 0;s--;)if(o=f.get(s),o[1].type==="lineEnding"||o[1].type==="lineEndingBlank")o[0]==="enter"&&(i&&(f.get(i)[1].type="lineEndingBlank"),o[1].type="lineEnding",i=s);else if(!(o[1].type==="linePrefix"||o[1].type==="listItemIndent"))break;i&&(r[1].end={...f.get(i)[1].start},a=f.slice(i,n),a.unshift(r),f.splice(i,n-i+1,a))}}return cs(e,0,Number.POSITIVE_INFINITY,f.slice(0)),!c}function zae(e,t){const n=e.get(t)[1],r=e.get(t)[2];let i=t-1;const s=[];let o=n._tokenizer;o||(o=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(o._contentTypeTextTrailing=!0));const a=o.events,l=[],c={};let f,p,g=-1,y=n,b=0,_=0;const C=[_];for(;y;){for(;e.get(++i)[1]!==y;);s.push(i),y._tokenizer||(f=r.sliceStream(y),y.next||f.push(null),p&&o.defineSkip(y.start),y._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(f),y._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),p=y,y=y.next}for(y=n;++g<a.length;)a[g][0]==="exit"&&a[g-1][0]==="enter"&&a[g][1].type===a[g-1][1].type&&a[g][1].start.line!==a[g][1].end.line&&(_=g+1,C.push(_),y._tokenizer=void 0,y.previous=void 0,y=y.next);for(o.events=[],y?(y._tokenizer=void 0,y.previous=void 0):C.pop(),g=C.length;g--;){const k=a.slice(C[g],C[g+1]),P=s.pop();l.push([P,P+k.length-1]),e.splice(P,2,k)}for(l.reverse(),g=-1;++g<l.length;)c[b+l[g][0]]=b+l[g][1],b+=l[g][1]-l[g][0]-1;return c}const $ae={resolve:Hae,tokenize:Wae},Uae={partial:!0,tokenize:Vae};function Hae(e){return QN(e),e}function Wae(e,t){let n;return r;function r(a){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(a)}function i(a){return a===null?s(a):ht(a)?e.check(Uae,o,s)(a):(e.consume(a),i)}function s(a){return e.exit("chunkContent"),e.exit("content"),t(a)}function o(a){return e.consume(a),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function Vae(e,t,n){const r=this;return i;function i(o){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),an(e,s,"linePrefix")}function s(o){if(o===null||ht(o))return n(o);const a=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?t(o):e.interrupt(r.parser.constructs.flow,n,t)(o)}}function KN(e,t,n,r,i,s,o,a,l){const c=l||Number.POSITIVE_INFINITY;let f=0;return p;function p(k){return k===60?(e.enter(r),e.enter(i),e.enter(s),e.consume(k),e.exit(s),g):k===null||k===32||k===41||iy(k)?n(k):(e.enter(r),e.enter(o),e.enter(a),e.enter("chunkString",{contentType:"string"}),_(k))}function g(k){return k===62?(e.enter(s),e.consume(k),e.exit(s),e.exit(i),e.exit(r),t):(e.enter(a),e.enter("chunkString",{contentType:"string"}),y(k))}function y(k){return k===62?(e.exit("chunkString"),e.exit(a),g(k)):k===null||k===60||ht(k)?n(k):(e.consume(k),k===92?b:y)}function b(k){return k===60||k===62||k===92?(e.consume(k),y):y(k)}function _(k){return!f&&(k===null||k===41||Tn(k))?(e.exit("chunkString"),e.exit(a),e.exit(o),e.exit(r),t(k)):f<c&&k===40?(e.consume(k),f++,_):k===41?(e.consume(k),f--,_):k===null||k===32||k===40||iy(k)?n(k):(e.consume(k),k===92?C:_)}function C(k){return k===40||k===41||k===92?(e.consume(k),_):_(k)}}function GN(e,t,n,r,i,s){const o=this;let a=0,l;return c;function c(y){return e.enter(r),e.enter(i),e.consume(y),e.exit(i),e.enter(s),f}function f(y){return a>999||y===null||y===91||y===93&&!l||y===94&&!a&&"_hiddenFootnoteSupport"in o.parser.constructs?n(y):y===93?(e.exit(s),e.enter(i),e.consume(y),e.exit(i),e.exit(r),t):ht(y)?(e.enter("lineEnding"),e.consume(y),e.exit("lineEnding"),f):(e.enter("chunkString",{contentType:"string"}),p(y))}function p(y){return y===null||y===91||y===93||ht(y)||a++>999?(e.exit("chunkString"),f(y)):(e.consume(y),l||(l=!Xt(y)),y===92?g:p)}function g(y){return y===91||y===92||y===93?(e.consume(y),a++,p):p(y)}}function YN(e,t,n,r,i,s){let o;return a;function a(g){return g===34||g===39||g===40?(e.enter(r),e.enter(i),e.consume(g),e.exit(i),o=g===40?41:g,l):n(g)}function l(g){return g===o?(e.enter(i),e.consume(g),e.exit(i),e.exit(r),t):(e.enter(s),c(g))}function c(g){return g===o?(e.exit(s),l(o)):g===null?n(g):ht(g)?(e.enter("lineEnding"),e.consume(g),e.exit("lineEnding"),an(e,c,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),f(g))}function f(g){return g===o||g===null||ht(g)?(e.exit("chunkString"),c(g)):(e.consume(g),g===92?p:f)}function p(g){return g===o||g===92?(e.consume(g),f):f(g)}}function Dh(e,t){let n;return r;function r(i){return ht(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):Xt(i)?an(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}const qae={name:"definition",tokenize:Kae},Qae={partial:!0,tokenize:Gae};function Kae(e,t,n){const r=this;let i;return s;function s(y){return e.enter("definition"),o(y)}function o(y){return GN.call(r,e,a,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(y)}function a(y){return i=so(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),y===58?(e.enter("definitionMarker"),e.consume(y),e.exit("definitionMarker"),l):n(y)}function l(y){return Tn(y)?Dh(e,c)(y):c(y)}function c(y){return KN(e,f,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(y)}function f(y){return e.attempt(Qae,p,p)(y)}function p(y){return Xt(y)?an(e,g,"whitespace")(y):g(y)}function g(y){return y===null||ht(y)?(e.exit("definition"),r.parser.defined.push(i),t(y)):n(y)}}function Gae(e,t,n){return r;function r(a){return Tn(a)?Dh(e,i)(a):n(a)}function i(a){return YN(e,s,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(a)}function s(a){return Xt(a)?an(e,o,"whitespace")(a):o(a)}function o(a){return a===null||ht(a)?t(a):n(a)}}const Yae={name:"hardBreakEscape",tokenize:Xae};function Xae(e,t,n){return r;function r(s){return e.enter("hardBreakEscape"),e.consume(s),i}function i(s){return ht(s)?(e.exit("hardBreakEscape"),t(s)):n(s)}}const Jae={name:"headingAtx",resolve:Zae,tokenize:ele};function Zae(e,t){let n=e.length-2,r=3,i,s;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},s={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},cs(e,r,n-r+1,[["enter",i,t],["enter",s,t],["exit",s,t],["exit",i,t]])),e}function ele(e,t,n){let r=0;return i;function i(f){return e.enter("atxHeading"),s(f)}function s(f){return e.enter("atxHeadingSequence"),o(f)}function o(f){return f===35&&r++<6?(e.consume(f),o):f===null||Tn(f)?(e.exit("atxHeadingSequence"),a(f)):n(f)}function a(f){return f===35?(e.enter("atxHeadingSequence"),l(f)):f===null||ht(f)?(e.exit("atxHeading"),t(f)):Xt(f)?an(e,a,"whitespace")(f):(e.enter("atxHeadingText"),c(f))}function l(f){return f===35?(e.consume(f),l):(e.exit("atxHeadingSequence"),a(f))}function c(f){return f===null||f===35||Tn(f)?(e.exit("atxHeadingText"),a(f)):(e.consume(f),c)}}const tle=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],N6=["pre","script","style","textarea"],nle={concrete:!0,name:"htmlFlow",resolveTo:sle,tokenize:ole},rle={partial:!0,tokenize:lle},ile={partial:!0,tokenize:ale};function sle(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function ole(e,t,n){const r=this;let i,s,o,a,l;return c;function c(H){return f(H)}function f(H){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(H),p}function p(H){return H===33?(e.consume(H),g):H===47?(e.consume(H),s=!0,_):H===63?(e.consume(H),i=3,r.interrupt?t:F):xi(H)?(e.consume(H),o=String.fromCharCode(H),C):n(H)}function g(H){return H===45?(e.consume(H),i=2,y):H===91?(e.consume(H),i=5,a=0,b):xi(H)?(e.consume(H),i=4,r.interrupt?t:F):n(H)}function y(H){return H===45?(e.consume(H),r.interrupt?t:F):n(H)}function b(H){const Me="CDATA[";return H===Me.charCodeAt(a++)?(e.consume(H),a===Me.length?r.interrupt?t:J:b):n(H)}function _(H){return xi(H)?(e.consume(H),o=String.fromCharCode(H),C):n(H)}function C(H){if(H===null||H===47||H===62||Tn(H)){const Me=H===47,Ee=o.toLowerCase();return!Me&&!s&&N6.includes(Ee)?(i=1,r.interrupt?t(H):J(H)):tle.includes(o.toLowerCase())?(i=6,Me?(e.consume(H),k):r.interrupt?t(H):J(H)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(H):s?P(H):O(H))}return H===45||ri(H)?(e.consume(H),o+=String.fromCharCode(H),C):n(H)}function k(H){return H===62?(e.consume(H),r.interrupt?t:J):n(H)}function P(H){return Xt(H)?(e.consume(H),P):D(H)}function O(H){return H===47?(e.consume(H),D):H===58||H===95||xi(H)?(e.consume(H),$):Xt(H)?(e.consume(H),O):D(H)}function $(H){return H===45||H===46||H===58||H===95||ri(H)?(e.consume(H),$):B(H)}function B(H){return H===61?(e.consume(H),j):Xt(H)?(e.consume(H),B):O(H)}function j(H){return H===null||H===60||H===61||H===62||H===96?n(H):H===34||H===39?(e.consume(H),l=H,M):Xt(H)?(e.consume(H),j):U(H)}function M(H){return H===l?(e.consume(H),l=null,z):H===null||ht(H)?n(H):(e.consume(H),M)}function U(H){return H===null||H===34||H===39||H===47||H===60||H===61||H===62||H===96||Tn(H)?B(H):(e.consume(H),U)}function z(H){return H===47||H===62||Xt(H)?O(H):n(H)}function D(H){return H===62?(e.consume(H),ee):n(H)}function ee(H){return H===null||ht(H)?J(H):Xt(H)?(e.consume(H),ee):n(H)}function J(H){return H===45&&i===2?(e.consume(H),Q):H===60&&i===1?(e.consume(H),ne):H===62&&i===4?(e.consume(H),G):H===63&&i===3?(e.consume(H),F):H===93&&i===5?(e.consume(H),fe):ht(H)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(rle,ye,re)(H)):H===null||ht(H)?(e.exit("htmlFlowData"),re(H)):(e.consume(H),J)}function re(H){return e.check(ile,q,ye)(H)}function q(H){return e.enter("lineEnding"),e.consume(H),e.exit("lineEnding"),V}function V(H){return H===null||ht(H)?re(H):(e.enter("htmlFlowData"),J(H))}function Q(H){return H===45?(e.consume(H),F):J(H)}function ne(H){return H===47?(e.consume(H),o="",Z):J(H)}function Z(H){if(H===62){const Me=o.toLowerCase();return N6.includes(Me)?(e.consume(H),G):J(H)}return xi(H)&&o.length<8?(e.consume(H),o+=String.fromCharCode(H),Z):J(H)}function fe(H){return H===93?(e.consume(H),F):J(H)}function F(H){return H===62?(e.consume(H),G):H===45&&i===2?(e.consume(H),F):J(H)}function G(H){return H===null||ht(H)?(e.exit("htmlFlowData"),ye(H)):(e.consume(H),G)}function ye(H){return e.exit("htmlFlow"),t(H)}}function ale(e,t,n){const r=this;return i;function i(o){return ht(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),s):n(o)}function s(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}function lle(e,t,n){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(Fp,t,n)}}const ule={name:"htmlText",tokenize:cle};function cle(e,t,n){const r=this;let i,s,o;return a;function a(F){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(F),l}function l(F){return F===33?(e.consume(F),c):F===47?(e.consume(F),B):F===63?(e.consume(F),O):xi(F)?(e.consume(F),U):n(F)}function c(F){return F===45?(e.consume(F),f):F===91?(e.consume(F),s=0,b):xi(F)?(e.consume(F),P):n(F)}function f(F){return F===45?(e.consume(F),y):n(F)}function p(F){return F===null?n(F):F===45?(e.consume(F),g):ht(F)?(o=p,ne(F)):(e.consume(F),p)}function g(F){return F===45?(e.consume(F),y):p(F)}function y(F){return F===62?Q(F):F===45?g(F):p(F)}function b(F){const G="CDATA[";return F===G.charCodeAt(s++)?(e.consume(F),s===G.length?_:b):n(F)}function _(F){return F===null?n(F):F===93?(e.consume(F),C):ht(F)?(o=_,ne(F)):(e.consume(F),_)}function C(F){return F===93?(e.consume(F),k):_(F)}function k(F){return F===62?Q(F):F===93?(e.consume(F),k):_(F)}function P(F){return F===null||F===62?Q(F):ht(F)?(o=P,ne(F)):(e.consume(F),P)}function O(F){return F===null?n(F):F===63?(e.consume(F),$):ht(F)?(o=O,ne(F)):(e.consume(F),O)}function $(F){return F===62?Q(F):O(F)}function B(F){return xi(F)?(e.consume(F),j):n(F)}function j(F){return F===45||ri(F)?(e.consume(F),j):M(F)}function M(F){return ht(F)?(o=M,ne(F)):Xt(F)?(e.consume(F),M):Q(F)}function U(F){return F===45||ri(F)?(e.consume(F),U):F===47||F===62||Tn(F)?z(F):n(F)}function z(F){return F===47?(e.consume(F),Q):F===58||F===95||xi(F)?(e.consume(F),D):ht(F)?(o=z,ne(F)):Xt(F)?(e.consume(F),z):Q(F)}function D(F){return F===45||F===46||F===58||F===95||ri(F)?(e.consume(F),D):ee(F)}function ee(F){return F===61?(e.consume(F),J):ht(F)?(o=ee,ne(F)):Xt(F)?(e.consume(F),ee):z(F)}function J(F){return F===null||F===60||F===61||F===62||F===96?n(F):F===34||F===39?(e.consume(F),i=F,re):ht(F)?(o=J,ne(F)):Xt(F)?(e.consume(F),J):(e.consume(F),q)}function re(F){return F===i?(e.consume(F),i=void 0,V):F===null?n(F):ht(F)?(o=re,ne(F)):(e.consume(F),re)}function q(F){return F===null||F===34||F===39||F===60||F===61||F===96?n(F):F===47||F===62||Tn(F)?z(F):(e.consume(F),q)}function V(F){return F===47||F===62||Tn(F)?z(F):n(F)}function Q(F){return F===62?(e.consume(F),e.exit("htmlTextData"),e.exit("htmlText"),t):n(F)}function ne(F){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(F),e.exit("lineEnding"),Z}function Z(F){return Xt(F)?an(e,fe,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(F):fe(F)}function fe(F){return e.enter("htmlTextData"),o(F)}}const pS={name:"labelEnd",resolveAll:ple,resolveTo:mle,tokenize:gle},dle={tokenize:yle},fle={tokenize:vle},hle={tokenize:xle};function ple(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",t+=i}}return e.length!==n.length&&cs(e,0,e.length,n),e}function mle(e,t){let n=e.length,r=0,i,s,o,a;for(;n--;)if(i=e[n][1],s){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(o){if(e[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(s=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(o=n);const l={type:e[s][1].type==="labelLink"?"link":"image",start:{...e[s][1].start},end:{...e[e.length-1][1].end}},c={type:"label",start:{...e[s][1].start},end:{...e[o][1].end}},f={type:"labelText",start:{...e[s+r+2][1].end},end:{...e[o-2][1].start}};return a=[["enter",l,t],["enter",c,t]],a=Is(a,e.slice(s+1,s+r+3)),a=Is(a,[["enter",f,t]]),a=Is(a,f1(t.parser.constructs.insideSpan.null,e.slice(s+r+4,o-3),t)),a=Is(a,[["exit",f,t],e[o-2],e[o-1],["exit",c,t]]),a=Is(a,e.slice(o+1)),a=Is(a,[["exit",l,t]]),cs(e,s,e.length,a),e}function gle(e,t,n){const r=this;let i=r.events.length,s,o;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){s=r.events[i][1];break}return a;function a(g){return s?s._inactive?p(g):(o=r.parser.defined.includes(so(r.sliceSerialize({start:s.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(g),e.exit("labelMarker"),e.exit("labelEnd"),l):n(g)}function l(g){return g===40?e.attempt(dle,f,o?f:p)(g):g===91?e.attempt(fle,f,o?c:p)(g):o?f(g):p(g)}function c(g){return e.attempt(hle,f,p)(g)}function f(g){return t(g)}function p(g){return s._balanced=!0,n(g)}}function yle(e,t,n){return r;function r(p){return e.enter("resource"),e.enter("resourceMarker"),e.consume(p),e.exit("resourceMarker"),i}function i(p){return Tn(p)?Dh(e,s)(p):s(p)}function s(p){return p===41?f(p):KN(e,o,a,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(p)}function o(p){return Tn(p)?Dh(e,l)(p):f(p)}function a(p){return n(p)}function l(p){return p===34||p===39||p===40?YN(e,c,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(p):f(p)}function c(p){return Tn(p)?Dh(e,f)(p):f(p)}function f(p){return p===41?(e.enter("resourceMarker"),e.consume(p),e.exit("resourceMarker"),e.exit("resource"),t):n(p)}}function vle(e,t,n){const r=this;return i;function i(a){return GN.call(r,e,s,o,"reference","referenceMarker","referenceString")(a)}function s(a){return r.parser.defined.includes(so(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(a):n(a)}function o(a){return n(a)}}function xle(e,t,n){return r;function r(s){return e.enter("reference"),e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),i}function i(s){return s===93?(e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),e.exit("reference"),t):n(s)}}const ble={name:"labelStartImage",resolveAll:pS.resolveAll,tokenize:wle};function wle(e,t,n){const r=this;return i;function i(a){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(a),e.exit("labelImageMarker"),s}function s(a){return a===91?(e.enter("labelMarker"),e.consume(a),e.exit("labelMarker"),e.exit("labelImage"),o):n(a)}function o(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):t(a)}}const _le={name:"labelStartLink",resolveAll:pS.resolveAll,tokenize:Sle};function Sle(e,t,n){const r=this;return i;function i(o){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelLink"),s}function s(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):t(o)}}const eb={name:"lineEnding",tokenize:Cle};function Cle(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),an(e,t,"linePrefix")}}const h0={name:"thematicBreak",tokenize:kle};function kle(e,t,n){let r=0,i;return s;function s(c){return e.enter("thematicBreak"),o(c)}function o(c){return i=c,a(c)}function a(c){return c===i?(e.enter("thematicBreakSequence"),l(c)):r>=3&&(c===null||ht(c))?(e.exit("thematicBreak"),t(c)):n(c)}function l(c){return c===i?(e.consume(c),r++,l):(e.exit("thematicBreakSequence"),Xt(c)?an(e,a,"whitespace")(c):a(c))}}const Ai={continuation:{tokenize:Ile},exit:Ple,name:"list",tokenize:jle},Ele={partial:!0,tokenize:Rle},Tle={partial:!0,tokenize:Nle};function jle(e,t,n){const r=this,i=r.events[r.events.length-1];let s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,o=0;return a;function a(y){const b=r.containerState.type||(y===42||y===43||y===45?"listUnordered":"listOrdered");if(b==="listUnordered"?!r.containerState.marker||y===r.containerState.marker:Kw(y)){if(r.containerState.type||(r.containerState.type=b,e.enter(b,{_container:!0})),b==="listUnordered")return e.enter("listItemPrefix"),y===42||y===45?e.check(h0,n,c)(y):c(y);if(!r.interrupt||y===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),l(y)}return n(y)}function l(y){return Kw(y)&&++o<10?(e.consume(y),l):(!r.interrupt||o<2)&&(r.containerState.marker?y===r.containerState.marker:y===41||y===46)?(e.exit("listItemValue"),c(y)):n(y)}function c(y){return e.enter("listItemMarker"),e.consume(y),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||y,e.check(Fp,r.interrupt?n:f,e.attempt(Ele,g,p))}function f(y){return r.containerState.initialBlankLine=!0,s++,g(y)}function p(y){return Xt(y)?(e.enter("listItemPrefixWhitespace"),e.consume(y),e.exit("listItemPrefixWhitespace"),g):n(y)}function g(y){return r.containerState.size=s+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(y)}}function Ile(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(Fp,i,s);function i(a){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,an(e,t,"listItemIndent",r.containerState.size+1)(a)}function s(a){return r.containerState.furtherBlankLines||!Xt(a)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(a)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(Tle,t,o)(a))}function o(a){return r.containerState._closeFlow=!0,r.interrupt=void 0,an(e,e.attempt(Ai,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a)}}function Nle(e,t,n){const r=this;return an(e,i,"listItemIndent",r.containerState.size+1);function i(s){const o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?t(s):n(s)}}function Ple(e){e.exit(this.containerState.type)}function Rle(e,t,n){const r=this;return an(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(s){const o=r.events[r.events.length-1];return!Xt(s)&&o&&o[1].type==="listItemPrefixWhitespace"?t(s):n(s)}}const P6={name:"setextUnderline",resolveTo:Ole,tokenize:Mle};function Ole(e,t){let n=e.length,r,i,s;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(i=n)}else e[n][1].type==="content"&&e.splice(n,1),!s&&e[n][1].type==="definition"&&(s=n);const o={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[i][1].type="setextHeadingText",s?(e.splice(i,0,["enter",o,t]),e.splice(s+1,0,["exit",e[r][1],t]),e[r][1].end={...e[s][1].end}):e[r][1]=o,e.push(["exit",o,t]),e}function Mle(e,t,n){const r=this;let i;return s;function s(c){let f=r.events.length,p;for(;f--;)if(r.events[f][1].type!=="lineEnding"&&r.events[f][1].type!=="linePrefix"&&r.events[f][1].type!=="content"){p=r.events[f][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||p)?(e.enter("setextHeadingLine"),i=c,o(c)):n(c)}function o(c){return e.enter("setextHeadingLineSequence"),a(c)}function a(c){return c===i?(e.consume(c),a):(e.exit("setextHeadingLineSequence"),Xt(c)?an(e,l,"lineSuffix")(c):l(c))}function l(c){return c===null||ht(c)?(e.exit("setextHeadingLine"),t(c)):n(c)}}const Ale={tokenize:Hle,partial:!0};function Dle(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:zle,continuation:{tokenize:$le},exit:Ule}},text:{91:{name:"gfmFootnoteCall",tokenize:Ble},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:Lle,resolveTo:Fle}}}}function Lle(e,t,n){const r=this;let i=r.events.length;const s=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o;for(;i--;){const l=r.events[i][1];if(l.type==="labelImage"){o=l;break}if(l.type==="gfmFootnoteCall"||l.type==="labelLink"||l.type==="label"||l.type==="image"||l.type==="link")break}return a;function a(l){if(!o||!o._balanced)return n(l);const c=so(r.sliceSerialize({start:o.end,end:r.now()}));return c.codePointAt(0)!==94||!s.includes(c.slice(1))?n(l):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(l),e.exit("gfmFootnoteCallLabelMarker"),t(l))}}function Fle(e,t){let n=e.length;for(;n--;)if(e[n][1].type==="labelImage"&&e[n][0]==="enter"){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const s={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},e[e.length-1][1].start)},o={type:"chunkString",contentType:"string",start:Object.assign({},s.start),end:Object.assign({},s.end)},a=[e[n+1],e[n+2],["enter",r,t],e[n+3],e[n+4],["enter",i,t],["exit",i,t],["enter",s,t],["enter",o,t],["exit",o,t],["exit",s,t],e[e.length-2],e[e.length-1],["exit",r,t]];return e.splice(n,e.length-n+1,...a),e}function Ble(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s=0,o;return a;function a(p){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(p),e.exit("gfmFootnoteCallLabelMarker"),l}function l(p){return p!==94?n(p):(e.enter("gfmFootnoteCallMarker"),e.consume(p),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",c)}function c(p){if(s>999||p===93&&!o||p===null||p===91||Tn(p))return n(p);if(p===93){e.exit("chunkString");const g=e.exit("gfmFootnoteCallString");return i.includes(so(r.sliceSerialize(g)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(p),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(p)}return Tn(p)||(o=!0),s++,e.consume(p),p===92?f:c}function f(p){return p===91||p===92||p===93?(e.consume(p),s++,c):c(p)}}function zle(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s,o=0,a;return l;function l(b){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(b),e.exit("gfmFootnoteDefinitionLabelMarker"),c}function c(b){return b===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(b),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",f):n(b)}function f(b){if(o>999||b===93&&!a||b===null||b===91||Tn(b))return n(b);if(b===93){e.exit("chunkString");const _=e.exit("gfmFootnoteDefinitionLabelString");return s=so(r.sliceSerialize(_)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(b),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),g}return Tn(b)||(a=!0),o++,e.consume(b),b===92?p:f}function p(b){return b===91||b===92||b===93?(e.consume(b),o++,f):f(b)}function g(b){return b===58?(e.enter("definitionMarker"),e.consume(b),e.exit("definitionMarker"),i.includes(s)||i.push(s),an(e,y,"gfmFootnoteDefinitionWhitespace")):n(b)}function y(b){return t(b)}}function $le(e,t,n){return e.check(Fp,t,e.attempt(Ale,t,n))}function Ule(e){e.exit("gfmFootnoteDefinition")}function Hle(e,t,n){const r=this;return an(e,i,"gfmFootnoteDefinitionIndent",5);function i(s){const o=r.events[r.events.length-1];return o&&o[1].type==="gfmFootnoteDefinitionIndent"&&o[2].sliceSerialize(o[1],!0).length===4?t(s):n(s)}}function Wle(e){let n=(e||{}).singleTilde;const r={name:"strikethrough",tokenize:s,resolveAll:i};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function i(o,a){let l=-1;for(;++l<o.length;)if(o[l][0]==="enter"&&o[l][1].type==="strikethroughSequenceTemporary"&&o[l][1]._close){let c=l;for(;c--;)if(o[c][0]==="exit"&&o[c][1].type==="strikethroughSequenceTemporary"&&o[c][1]._open&&o[l][1].end.offset-o[l][1].start.offset===o[c][1].end.offset-o[c][1].start.offset){o[l][1].type="strikethroughSequence",o[c][1].type="strikethroughSequence";const f={type:"strikethrough",start:Object.assign({},o[c][1].start),end:Object.assign({},o[l][1].end)},p={type:"strikethroughText",start:Object.assign({},o[c][1].end),end:Object.assign({},o[l][1].start)},g=[["enter",f,a],["enter",o[c][1],a],["exit",o[c][1],a],["enter",p,a]],y=a.parser.constructs.insideSpan.null;y&&cs(g,g.length,0,f1(y,o.slice(c+1,l),a)),cs(g,g.length,0,[["exit",p,a],["enter",o[l][1],a],["exit",o[l][1],a],["exit",f,a]]),cs(o,c-1,l-c+3,g),l=c+g.length-2;break}}for(l=-1;++l<o.length;)o[l][1].type==="strikethroughSequenceTemporary"&&(o[l][1].type="data");return o}function s(o,a,l){const c=this.previous,f=this.events;let p=0;return g;function g(b){return c===126&&f[f.length-1][1].type!=="characterEscape"?l(b):(o.enter("strikethroughSequenceTemporary"),y(b))}function y(b){const _=Yd(c);if(b===126)return p>1?l(b):(o.consume(b),p++,y);if(p<2&&!n)return l(b);const C=o.exit("strikethroughSequenceTemporary"),k=Yd(b);return C._open=!k||k===2&&!!_,C._close=!_||_===2&&!!k,a(b)}}}class Vle{constructor(){this.map=[]}add(t,n,r){qle(this,t,n,r)}consume(t){if(this.map.sort(function(s,o){return s[0]-o[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(t.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),t.length=this.map[n][0];r.push(t.slice()),t.length=0;let i=r.pop();for(;i;){for(const s of i)t.push(s);i=r.pop()}this.map.length=0}}function qle(e,t,n,r){let i=0;if(!(n===0&&r.length===0)){for(;i<e.map.length;){if(e.map[i][0]===t){e.map[i][1]+=n,e.map[i][2].push(...r);return}i+=1}e.map.push([t,n,r])}}function Qle(e,t){let n=!1;const r=[];for(;t<e.length;){const i=e[t];if(n){if(i[0]==="enter")i[1].type==="tableContent"&&r.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const s=r.length-1;r[s]=r[s]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(n=!0);t+=1}return r}function Kle(){return{flow:{null:{name:"table",tokenize:Gle,resolveAll:Yle}}}}function Gle(e,t,n){const r=this;let i=0,s=0,o;return a;function a(D){let ee=r.events.length-1;for(;ee>-1;){const q=r.events[ee][1].type;if(q==="lineEnding"||q==="linePrefix")ee--;else break}const J=ee>-1?r.events[ee][1].type:null,re=J==="tableHead"||J==="tableRow"?j:l;return re===j&&r.parser.lazy[r.now().line]?n(D):re(D)}function l(D){return e.enter("tableHead"),e.enter("tableRow"),c(D)}function c(D){return D===124||(o=!0,s+=1),f(D)}function f(D){return D===null?n(D):ht(D)?s>1?(s=0,r.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(D),e.exit("lineEnding"),y):n(D):Xt(D)?an(e,f,"whitespace")(D):(s+=1,o&&(o=!1,i+=1),D===124?(e.enter("tableCellDivider"),e.consume(D),e.exit("tableCellDivider"),o=!0,f):(e.enter("data"),p(D)))}function p(D){return D===null||D===124||Tn(D)?(e.exit("data"),f(D)):(e.consume(D),D===92?g:p)}function g(D){return D===92||D===124?(e.consume(D),p):p(D)}function y(D){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(D):(e.enter("tableDelimiterRow"),o=!1,Xt(D)?an(e,b,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(D):b(D))}function b(D){return D===45||D===58?C(D):D===124?(o=!0,e.enter("tableCellDivider"),e.consume(D),e.exit("tableCellDivider"),_):B(D)}function _(D){return Xt(D)?an(e,C,"whitespace")(D):C(D)}function C(D){return D===58?(s+=1,o=!0,e.enter("tableDelimiterMarker"),e.consume(D),e.exit("tableDelimiterMarker"),k):D===45?(s+=1,k(D)):D===null||ht(D)?$(D):B(D)}function k(D){return D===45?(e.enter("tableDelimiterFiller"),P(D)):B(D)}function P(D){return D===45?(e.consume(D),P):D===58?(o=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(D),e.exit("tableDelimiterMarker"),O):(e.exit("tableDelimiterFiller"),O(D))}function O(D){return Xt(D)?an(e,$,"whitespace")(D):$(D)}function $(D){return D===124?b(D):D===null||ht(D)?!o||i!==s?B(D):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(D)):B(D)}function B(D){return n(D)}function j(D){return e.enter("tableRow"),M(D)}function M(D){return D===124?(e.enter("tableCellDivider"),e.consume(D),e.exit("tableCellDivider"),M):D===null||ht(D)?(e.exit("tableRow"),t(D)):Xt(D)?an(e,M,"whitespace")(D):(e.enter("data"),U(D))}function U(D){return D===null||D===124||Tn(D)?(e.exit("data"),M(D)):(e.consume(D),D===92?z:U)}function z(D){return D===92||D===124?(e.consume(D),U):U(D)}}function Yle(e,t){let n=-1,r=!0,i=0,s=[0,0,0,0],o=[0,0,0,0],a=!1,l=0,c,f,p;const g=new Vle;for(;++n<e.length;){const y=e[n],b=y[1];y[0]==="enter"?b.type==="tableHead"?(a=!1,l!==0&&(R6(g,t,l,c,f),f=void 0,l=0),c={type:"table",start:Object.assign({},b.start),end:Object.assign({},b.end)},g.add(n,0,[["enter",c,t]])):b.type==="tableRow"||b.type==="tableDelimiterRow"?(r=!0,p=void 0,s=[0,0,0,0],o=[0,n+1,0,0],a&&(a=!1,f={type:"tableBody",start:Object.assign({},b.start),end:Object.assign({},b.end)},g.add(n,0,[["enter",f,t]])),i=b.type==="tableDelimiterRow"?2:f?3:1):i&&(b.type==="data"||b.type==="tableDelimiterMarker"||b.type==="tableDelimiterFiller")?(r=!1,o[2]===0&&(s[1]!==0&&(o[0]=o[1],p=Dg(g,t,s,i,void 0,p),s=[0,0,0,0]),o[2]=n)):b.type==="tableCellDivider"&&(r?r=!1:(s[1]!==0&&(o[0]=o[1],p=Dg(g,t,s,i,void 0,p)),s=o,o=[s[1],n,0,0])):b.type==="tableHead"?(a=!0,l=n):b.type==="tableRow"||b.type==="tableDelimiterRow"?(l=n,s[1]!==0?(o[0]=o[1],p=Dg(g,t,s,i,n,p)):o[1]!==0&&(p=Dg(g,t,o,i,n,p)),i=0):i&&(b.type==="data"||b.type==="tableDelimiterMarker"||b.type==="tableDelimiterFiller")&&(o[3]=n)}for(l!==0&&R6(g,t,l,c,f),g.consume(t.events),n=-1;++n<t.events.length;){const y=t.events[n];y[0]==="enter"&&y[1].type==="table"&&(y[1]._align=Qle(t.events,n))}return e}function Dg(e,t,n,r,i,s){const o=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",a="tableContent";n[0]!==0&&(s.end=Object.assign({},bd(t.events,n[0])),e.add(n[0],0,[["exit",s,t]]));const l=bd(t.events,n[1]);if(s={type:o,start:Object.assign({},l),end:Object.assign({},l)},e.add(n[1],0,[["enter",s,t]]),n[2]!==0){const c=bd(t.events,n[2]),f=bd(t.events,n[3]),p={type:a,start:Object.assign({},c),end:Object.assign({},f)};if(e.add(n[2],0,[["enter",p,t]]),r!==2){const g=t.events[n[2]],y=t.events[n[3]];if(g[1].end=Object.assign({},y[1].end),g[1].type="chunkText",g[1].contentType="text",n[3]>n[2]+1){const b=n[2]+1,_=n[3]-n[2]-1;e.add(b,_,[])}}e.add(n[3]+1,0,[["exit",p,t]])}return i!==void 0&&(s.end=Object.assign({},bd(t.events,i)),e.add(i,0,[["exit",s,t]]),s=void 0),s}function R6(e,t,n,r,i){const s=[],o=bd(t.events,n);i&&(i.end=Object.assign({},o),s.push(["exit",i,t])),r.end=Object.assign({},o),s.push(["exit",r,t]),e.add(n+1,0,s)}function bd(e,t){const n=e[t],r=n[0]==="enter"?"start":"end";return n[1][r]}const Xle={name:"tasklistCheck",tokenize:Zle};function Jle(){return{text:{91:Xle}}}function Zle(e,t,n){const r=this;return i;function i(l){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(l):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(l),e.exit("taskListCheckMarker"),s)}function s(l){return Tn(l)?(e.enter("taskListCheckValueUnchecked"),e.consume(l),e.exit("taskListCheckValueUnchecked"),o):l===88||l===120?(e.enter("taskListCheckValueChecked"),e.consume(l),e.exit("taskListCheckValueChecked"),o):n(l)}function o(l){return l===93?(e.enter("taskListCheckMarker"),e.consume(l),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),a):n(l)}function a(l){return ht(l)?t(l):Xt(l)?e.check({tokenize:eue},t,n)(l):n(l)}}function eue(e,t,n){return an(e,r,"whitespace");function r(i){return i===null?n(i):t(i)}}function tue(e){return AN([dae(),Dle(),Wle(e),Kle(),Jle()])}const nue={};function rue(e){const t=this,n=e||nue,r=t.data(),i=r.micromarkExtensions||(r.micromarkExtensions=[]),s=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),o=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);i.push(tue(n)),s.push(sae()),o.push(oae(n))}function iue(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const sue=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,oue=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,aue={};function O6(e,t){return(aue.jsx?oue:sue).test(e)}const lue=/[ \t\n\f\r]/g;function uue(e){return typeof e=="object"?e.type==="text"?M6(e.value):!1:M6(e)}function M6(e){return e.replace(lue,"")===""}class Bp{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}}Bp.prototype.normal={};Bp.prototype.property={};Bp.prototype.space=void 0;function XN(e,t){const n={},r={};for(const i of e)Object.assign(n,i.property),Object.assign(r,i.normal);return new Bp(n,r,t)}function Jw(e){return e.toLowerCase()}class qi{constructor(t,n){this.attribute=n,this.property=t}}qi.prototype.attribute="";qi.prototype.booleanish=!1;qi.prototype.boolean=!1;qi.prototype.commaOrSpaceSeparated=!1;qi.prototype.commaSeparated=!1;qi.prototype.defined=!1;qi.prototype.mustUseProperty=!1;qi.prototype.number=!1;qi.prototype.overloadedBoolean=!1;qi.prototype.property="";qi.prototype.spaceSeparated=!1;qi.prototype.space=void 0;let cue=0;const Ft=cc(),gr=cc(),Zw=cc(),Be=cc(),Rn=cc(),Od=cc(),is=cc();function cc(){return 2**++cue}const e2=Object.freeze(Object.defineProperty({__proto__:null,boolean:Ft,booleanish:gr,commaOrSpaceSeparated:is,commaSeparated:Od,number:Be,overloadedBoolean:Zw,spaceSeparated:Rn},Symbol.toStringTag,{value:"Module"})),tb=Object.keys(e2);class mS extends qi{constructor(t,n,r,i){let s=-1;if(super(t,n),A6(this,"space",i),typeof r=="number")for(;++s<tb.length;){const o=tb[s];A6(this,tb[s],(r&e2[o])===e2[o])}}}mS.prototype.defined=!0;function A6(e,t,n){n&&(e[t]=n)}function hf(e){const t={},n={};for(const[r,i]of Object.entries(e.properties)){const s=new mS(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(s.mustUseProperty=!0),t[r]=s,n[Jw(r)]=r,n[Jw(s.attribute)]=r}return new Bp(t,n,e.space)}const JN=hf({properties:{ariaActiveDescendant:null,ariaAtomic:gr,ariaAutoComplete:null,ariaBusy:gr,ariaChecked:gr,ariaColCount:Be,ariaColIndex:Be,ariaColSpan:Be,ariaControls:Rn,ariaCurrent:null,ariaDescribedBy:Rn,ariaDetails:null,ariaDisabled:gr,ariaDropEffect:Rn,ariaErrorMessage:null,ariaExpanded:gr,ariaFlowTo:Rn,ariaGrabbed:gr,ariaHasPopup:null,ariaHidden:gr,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Rn,ariaLevel:Be,ariaLive:null,ariaModal:gr,ariaMultiLine:gr,ariaMultiSelectable:gr,ariaOrientation:null,ariaOwns:Rn,ariaPlaceholder:null,ariaPosInSet:Be,ariaPressed:gr,ariaReadOnly:gr,ariaRelevant:null,ariaRequired:gr,ariaRoleDescription:Rn,ariaRowCount:Be,ariaRowIndex:Be,ariaRowSpan:Be,ariaSelected:gr,ariaSetSize:Be,ariaSort:null,ariaValueMax:Be,ariaValueMin:Be,ariaValueNow:Be,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function ZN(e,t){return t in e?e[t]:t}function eP(e,t){return ZN(e,t.toLowerCase())}const due=hf({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Od,acceptCharset:Rn,accessKey:Rn,action:null,allow:null,allowFullScreen:Ft,allowPaymentRequest:Ft,allowUserMedia:Ft,alt:null,as:null,async:Ft,autoCapitalize:null,autoComplete:Rn,autoFocus:Ft,autoPlay:Ft,blocking:Rn,capture:null,charSet:null,checked:Ft,cite:null,className:Rn,cols:Be,colSpan:null,content:null,contentEditable:gr,controls:Ft,controlsList:Rn,coords:Be|Od,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Ft,defer:Ft,dir:null,dirName:null,disabled:Ft,download:Zw,draggable:gr,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Ft,formTarget:null,headers:Rn,height:Be,hidden:Zw,high:Be,href:null,hrefLang:null,htmlFor:Rn,httpEquiv:Rn,id:null,imageSizes:null,imageSrcSet:null,inert:Ft,inputMode:null,integrity:null,is:null,isMap:Ft,itemId:null,itemProp:Rn,itemRef:Rn,itemScope:Ft,itemType:Rn,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Ft,low:Be,manifest:null,max:null,maxLength:Be,media:null,method:null,min:null,minLength:Be,multiple:Ft,muted:Ft,name:null,nonce:null,noModule:Ft,noValidate:Ft,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Ft,optimum:Be,pattern:null,ping:Rn,placeholder:null,playsInline:Ft,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Ft,referrerPolicy:null,rel:Rn,required:Ft,reversed:Ft,rows:Be,rowSpan:Be,sandbox:Rn,scope:null,scoped:Ft,seamless:Ft,selected:Ft,shadowRootClonable:Ft,shadowRootDelegatesFocus:Ft,shadowRootMode:null,shape:null,size:Be,sizes:null,slot:null,span:Be,spellCheck:gr,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Be,step:null,style:null,tabIndex:Be,target:null,title:null,translate:null,type:null,typeMustMatch:Ft,useMap:null,value:gr,width:Be,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Rn,axis:null,background:null,bgColor:null,border:Be,borderColor:null,bottomMargin:Be,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Ft,declare:Ft,event:null,face:null,frame:null,frameBorder:null,hSpace:Be,leftMargin:Be,link:null,longDesc:null,lowSrc:null,marginHeight:Be,marginWidth:Be,noResize:Ft,noHref:Ft,noShade:Ft,noWrap:Ft,object:null,profile:null,prompt:null,rev:null,rightMargin:Be,rules:null,scheme:null,scrolling:gr,standby:null,summary:null,text:null,topMargin:Be,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Be,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Ft,disableRemotePlayback:Ft,prefix:null,property:null,results:Be,security:null,unselectable:null},space:"html",transform:eP}),fue=hf({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:is,accentHeight:Be,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Be,amplitude:Be,arabicForm:null,ascent:Be,attributeName:null,attributeType:null,azimuth:Be,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Be,by:null,calcMode:null,capHeight:Be,className:Rn,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Be,diffuseConstant:Be,direction:null,display:null,dur:null,divisor:Be,dominantBaseline:null,download:Ft,dx:null,dy:null,edgeMode:null,editable:null,elevation:Be,enableBackground:null,end:null,event:null,exponent:Be,externalResourcesRequired:null,fill:null,fillOpacity:Be,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Od,g2:Od,glyphName:Od,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Be,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Be,horizOriginX:Be,horizOriginY:Be,id:null,ideographic:Be,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Be,k:Be,k1:Be,k2:Be,k3:Be,k4:Be,kernelMatrix:is,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Be,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Be,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Be,overlineThickness:Be,paintOrder:null,panose1:null,path:null,pathLength:Be,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Rn,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Be,pointsAtY:Be,pointsAtZ:Be,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:is,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:is,rev:is,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:is,requiredFeatures:is,requiredFonts:is,requiredFormats:is,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Be,specularExponent:Be,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Be,strikethroughThickness:Be,string:null,stroke:null,strokeDashArray:is,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Be,strokeOpacity:Be,strokeWidth:null,style:null,surfaceScale:Be,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:is,tabIndex:Be,tableValues:null,target:null,targetX:Be,targetY:Be,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:is,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Be,underlineThickness:Be,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Be,values:null,vAlphabetic:Be,vMathematical:Be,vectorEffect:null,vHanging:Be,vIdeographic:Be,version:null,vertAdvY:Be,vertOriginX:Be,vertOriginY:Be,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Be,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:ZN}),tP=hf({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),nP=hf({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:eP}),rP=hf({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),hue={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},pue=/[A-Z]/g,D6=/-[a-z]/g,mue=/^data[-\w.:]+$/i;function gue(e,t){const n=Jw(t);let r=t,i=qi;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&mue.test(t)){if(t.charAt(4)==="-"){const s=t.slice(5).replace(D6,vue);r="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=t.slice(4);if(!D6.test(s)){let o=s.replace(pue,yue);o.charAt(0)!=="-"&&(o="-"+o),t="data"+o}}i=mS}return new i(r,t)}function yue(e){return"-"+e.toLowerCase()}function vue(e){return e.charAt(1).toUpperCase()}const xue=XN([JN,due,tP,nP,rP],"html"),gS=XN([JN,fue,tP,nP,rP],"svg");function bue(e){return e.join(" ").trim()}var dd={},nb,L6;function wue(){if(L6)return nb;L6=1;var e=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,t=/\n/g,n=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,i=/^:\s*/,s=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,o=/^[;\s]*/,a=/^\s+|\s+$/g,l=`
`,c="/",f="*",p="",g="comment",y="declaration";nb=function(_,C){if(typeof _!="string")throw new TypeError("First argument must be a string");if(!_)return[];C=C||{};var k=1,P=1;function O(re){var q=re.match(t);q&&(k+=q.length);var V=re.lastIndexOf(l);P=~V?re.length-V:P+re.length}function $(){var re={line:k,column:P};return function(q){return q.position=new B(re),U(),q}}function B(re){this.start=re,this.end={line:k,column:P},this.source=C.source}B.prototype.content=_;function j(re){var q=new Error(C.source+":"+k+":"+P+": "+re);if(q.reason=re,q.filename=C.source,q.line=k,q.column=P,q.source=_,!C.silent)throw q}function M(re){var q=re.exec(_);if(q){var V=q[0];return O(V),_=_.slice(V.length),q}}function U(){M(n)}function z(re){var q;for(re=re||[];q=D();)q!==!1&&re.push(q);return re}function D(){var re=$();if(!(c!=_.charAt(0)||f!=_.charAt(1))){for(var q=2;p!=_.charAt(q)&&(f!=_.charAt(q)||c!=_.charAt(q+1));)++q;if(q+=2,p===_.charAt(q-1))return j("End of comment missing");var V=_.slice(2,q-2);return P+=2,O(V),_=_.slice(q),P+=2,re({type:g,comment:V})}}function ee(){var re=$(),q=M(r);if(q){if(D(),!M(i))return j("property missing ':'");var V=M(s),Q=re({type:y,property:b(q[0].replace(e,p)),value:V?b(V[0].replace(e,p)):p});return M(o),Q}}function J(){var re=[];z(re);for(var q;q=ee();)q!==!1&&(re.push(q),z(re));return re}return U(),J()};function b(_){return _?_.replace(a,p):p}return nb}var F6;function _ue(){if(F6)return dd;F6=1;var e=dd&&dd.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(dd,"__esModule",{value:!0}),dd.default=n;var t=e(wue());function n(r,i){var s=null;if(!r||typeof r!="string")return s;var o=(0,t.default)(r),a=typeof i=="function";return o.forEach(function(l){if(l.type==="declaration"){var c=l.property,f=l.value;a?i(c,f,l):f&&(s=s||{},s[c]=f)}}),s}return dd}var ch={},B6;function Sue(){if(B6)return ch;B6=1,Object.defineProperty(ch,"__esModule",{value:!0}),ch.camelCase=void 0;var e=/^--[a-zA-Z0-9_-]+$/,t=/-([a-z])/g,n=/^[^-]+$/,r=/^-(webkit|moz|ms|o|khtml)-/,i=/^-(ms)-/,s=function(c){return!c||n.test(c)||e.test(c)},o=function(c,f){return f.toUpperCase()},a=function(c,f){return"".concat(f,"-")},l=function(c,f){return f===void 0&&(f={}),s(c)?c:(c=c.toLowerCase(),f.reactCompat?c=c.replace(i,a):c=c.replace(r,a),c.replace(t,o))};return ch.camelCase=l,ch}var dh,z6;function Cue(){if(z6)return dh;z6=1;var e=dh&&dh.__importDefault||function(i){return i&&i.__esModule?i:{default:i}},t=e(_ue()),n=Sue();function r(i,s){var o={};return!i||typeof i!="string"||(0,t.default)(i,function(a,l){a&&l&&(o[(0,n.camelCase)(a,s)]=l)}),o}return r.default=r,dh=r,dh}var kue=Cue();const Eue=Vi(kue),iP=sP("end"),yS=sP("start");function sP(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function Tue(e){const t=yS(e),n=iP(e);if(t&&n)return{start:t,end:n}}function Lh(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?$6(e.position):"start"in e||"end"in e?$6(e):"line"in e||"column"in e?t2(e):""}function t2(e){return U6(e&&e.line)+":"+U6(e&&e.column)}function $6(e){return t2(e&&e.start)+"-"+t2(e&&e.end)}function U6(e){return e&&typeof e=="number"?e:1}class ai extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",s={},o=!1;if(n&&("line"in n&&"column"in n?s={place:n}:"start"in n&&"end"in n?s={place:n}:"type"in n?s={ancestors:[n],place:n.position}:s={...n}),typeof t=="string"?i=t:!s.cause&&t&&(o=!0,i=t.message,s.cause=t),!s.ruleId&&!s.source&&typeof r=="string"){const l=r.indexOf(":");l===-1?s.ruleId=r:(s.source=r.slice(0,l),s.ruleId=r.slice(l+1))}if(!s.place&&s.ancestors&&s.ancestors){const l=s.ancestors[s.ancestors.length-1];l&&(s.place=l.position)}const a=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=a?a.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=a?a.line:void 0,this.name=Lh(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=o&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}ai.prototype.file="";ai.prototype.name="";ai.prototype.reason="";ai.prototype.message="";ai.prototype.stack="";ai.prototype.column=void 0;ai.prototype.line=void 0;ai.prototype.ancestors=void 0;ai.prototype.cause=void 0;ai.prototype.fatal=void 0;ai.prototype.place=void 0;ai.prototype.ruleId=void 0;ai.prototype.source=void 0;const vS={}.hasOwnProperty,jue=new Map,Iue=/[A-Z]/g,Nue=new Set(["table","tbody","thead","tfoot","tr"]),Pue=new Set(["td","th"]),oP="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function Rue(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=zue(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=Bue(n,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?gS:xue,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},s=aP(i,e,void 0);return s&&typeof s!="string"?s:i.create(e,i.Fragment,{children:s||void 0},void 0)}function aP(e,t,n){if(t.type==="element")return Oue(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return Mue(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return Due(e,t,n);if(t.type==="mdxjsEsm")return Aue(e,t);if(t.type==="root")return Lue(e,t,n);if(t.type==="text")return Fue(e,t)}function Oue(e,t,n){const r=e.schema;let i=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=gS,e.schema=i),e.ancestors.push(t);const s=uP(e,t.tagName,!1),o=$ue(e,t);let a=bS(e,t);return Nue.has(t.tagName)&&(a=a.filter(function(l){return typeof l=="string"?!uue(l):!0})),lP(e,o,s,t),xS(o,a),e.ancestors.pop(),e.schema=r,e.create(t,s,o,n)}function Mue(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}up(e,t.position)}function Aue(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);up(e,t.position)}function Due(e,t,n){const r=e.schema;let i=r;t.name==="svg"&&r.space==="html"&&(i=gS,e.schema=i),e.ancestors.push(t);const s=t.name===null?e.Fragment:uP(e,t.name,!0),o=Uue(e,t),a=bS(e,t);return lP(e,o,s,t),xS(o,a),e.ancestors.pop(),e.schema=r,e.create(t,s,o,n)}function Lue(e,t,n){const r={};return xS(r,bS(e,t)),e.create(t,e.Fragment,r,n)}function Fue(e,t){return t.value}function lP(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function xS(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function Bue(e,t,n){return r;function r(i,s,o,a){const c=Array.isArray(o.children)?n:t;return a?c(s,o,a):c(s,o)}}function zue(e,t){return n;function n(r,i,s,o){const a=Array.isArray(s.children),l=yS(r);return t(i,s,o,a,{columnNumber:l?l.column-1:void 0,fileName:e,lineNumber:l?l.line:void 0},void 0)}}function $ue(e,t){const n={};let r,i;for(i in t.properties)if(i!=="children"&&vS.call(t.properties,i)){const s=Hue(e,i,t.properties[i]);if(s){const[o,a]=s;e.tableCellAlignToStyle&&o==="align"&&typeof a=="string"&&Pue.has(t.tagName)?r=a:n[o]=a}}if(r){const s=n.style||(n.style={});s[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function Uue(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const s=r.data.estree.body[0];s.type;const o=s.expression;o.type;const a=o.properties[0];a.type,Object.assign(n,e.evaluater.evaluateExpression(a.argument))}else up(e,t.position);else{const i=r.name;let s;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const a=r.value.data.estree.body[0];a.type,s=e.evaluater.evaluateExpression(a.expression)}else up(e,t.position);else s=r.value===null?!0:r.value;n[i]=s}return n}function bS(e,t){const n=[];let r=-1;const i=e.passKeys?new Map:jue;for(;++r<t.children.length;){const s=t.children[r];let o;if(e.passKeys){const l=s.type==="element"?s.tagName:s.type==="mdxJsxFlowElement"||s.type==="mdxJsxTextElement"?s.name:void 0;if(l){const c=i.get(l)||0;o=l+"-"+c,i.set(l,c+1)}}const a=aP(e,s,o);a!==void 0&&n.push(a)}return n}function Hue(e,t,n){const r=gue(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?iue(n):bue(n)),r.property==="style"){let i=typeof n=="object"?n:Wue(e,String(n));return e.stylePropertyNameCase==="css"&&(i=Vue(i)),["style",i]}return[e.elementAttributeNameCase==="react"&&r.space?hue[r.property]||r.property:r.attribute,n]}}function Wue(e,t){try{return Eue(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,i=new ai("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=e.filePath||void 0,i.url=oP+"#cannot-parse-style-attribute",i}}function uP(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const i=t.split(".");let s=-1,o;for(;++s<i.length;){const a=O6(i[s])?{type:"Identifier",name:i[s]}:{type:"Literal",value:i[s]};o=o?{type:"MemberExpression",object:o,property:a,computed:!!(s&&a.type==="Literal"),optional:!1}:a}r=o}else r=O6(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const i=r.value;return vS.call(e.components,i)?e.components[i]:i}if(e.evaluater)return e.evaluater.evaluateExpression(r);up(e)}function up(e,t){const n=new ai("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=oP+"#cannot-handle-mdx-estrees-without-createevaluater",n}function Vue(e){const t={};let n;for(n in e)vS.call(e,n)&&(t[que(n)]=e[n]);return t}function que(e){let t=e.replace(Iue,Que);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function Que(e){return"-"+e.toLowerCase()}const rb={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},Kue={tokenize:Gue};function Gue(e){const t=e.attempt(this.parser.constructs.contentInitial,r,i);let n;return t;function r(a){if(a===null){e.consume(a);return}return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),an(e,t,"linePrefix")}function i(a){return e.enter("paragraph"),s(a)}function s(a){const l=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,o(a)}function o(a){if(a===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(a);return}return ht(a)?(e.consume(a),e.exit("chunkText"),s):(e.consume(a),o)}}const Yue={tokenize:Xue},H6={tokenize:Jue};function Xue(e){const t=this,n=[];let r=0,i,s,o;return a;function a(O){if(r<n.length){const $=n[r];return t.containerState=$[1],e.attempt($[0].continuation,l,c)(O)}return c(O)}function l(O){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&P();const $=t.events.length;let B=$,j;for(;B--;)if(t.events[B][0]==="exit"&&t.events[B][1].type==="chunkFlow"){j=t.events[B][1].end;break}k(r);let M=$;for(;M<t.events.length;)t.events[M][1].end={...j},M++;return cs(t.events,B+1,0,t.events.slice($)),t.events.length=M,c(O)}return a(O)}function c(O){if(r===n.length){if(!i)return g(O);if(i.currentConstruct&&i.currentConstruct.concrete)return b(O);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(H6,f,p)(O)}function f(O){return i&&P(),k(r),g(O)}function p(O){return t.parser.lazy[t.now().line]=r!==n.length,o=t.now().offset,b(O)}function g(O){return t.containerState={},e.attempt(H6,y,b)(O)}function y(O){return r++,n.push([t.currentConstruct,t.containerState]),g(O)}function b(O){if(O===null){i&&P(),k(0),e.consume(O);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:s}),_(O)}function _(O){if(O===null){C(e.exit("chunkFlow"),!0),k(0),e.consume(O);return}return ht(O)?(e.consume(O),C(e.exit("chunkFlow")),r=0,t.interrupt=void 0,a):(e.consume(O),_)}function C(O,$){const B=t.sliceStream(O);if($&&B.push(null),O.previous=s,s&&(s.next=O),s=O,i.defineSkip(O.start),i.write(B),t.parser.lazy[O.start.line]){let j=i.events.length;for(;j--;)if(i.events[j][1].start.offset<o&&(!i.events[j][1].end||i.events[j][1].end.offset>o))return;const M=t.events.length;let U=M,z,D;for(;U--;)if(t.events[U][0]==="exit"&&t.events[U][1].type==="chunkFlow"){if(z){D=t.events[U][1].end;break}z=!0}for(k(r),j=M;j<t.events.length;)t.events[j][1].end={...D},j++;cs(t.events,U+1,0,t.events.slice(M)),t.events.length=j}}function k(O){let $=n.length;for(;$-- >O;){const B=n[$];t.containerState=B[1],B[0].exit.call(t,e)}n.length=O}function P(){i.write([null]),s=void 0,i=void 0,t.containerState._closeFlow=void 0}}function Jue(e,t,n){return an(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}const Zue={tokenize:ece};function ece(e){const t=this,n=e.attempt(Fp,r,e.attempt(this.parser.constructs.flowInitial,i,an(e,e.attempt(this.parser.constructs.flow,i,e.attempt($ae,i)),"linePrefix")));return n;function r(s){if(s===null){e.consume(s);return}return e.enter("lineEndingBlank"),e.consume(s),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function i(s){if(s===null){e.consume(s);return}return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const tce={resolveAll:dP()},nce=cP("string"),rce=cP("text");function cP(e){return{resolveAll:dP(e==="text"?ice:void 0),tokenize:t};function t(n){const r=this,i=this.parser.constructs[e],s=n.attempt(i,o,a);return o;function o(f){return c(f)?s(f):a(f)}function a(f){if(f===null){n.consume(f);return}return n.enter("data"),n.consume(f),l}function l(f){return c(f)?(n.exit("data"),s(f)):(n.consume(f),l)}function c(f){if(f===null)return!0;const p=i[f];let g=-1;if(p)for(;++g<p.length;){const y=p[g];if(!y.previous||y.previous.call(r,r.previous))return!0}return!1}}}function dP(e){return t;function t(n,r){let i=-1,s;for(;++i<=n.length;)s===void 0?n[i]&&n[i][1].type==="data"&&(s=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==s+2&&(n[s][1].end=n[i-1][1].end,n.splice(s+2,i-s-2),i=s+2),s=void 0);return e?e(n,r):n}}function ice(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],i=t.sliceStream(r);let s=i.length,o=-1,a=0,l;for(;s--;){const c=i[s];if(typeof c=="string"){for(o=c.length;c.charCodeAt(o-1)===32;)a++,o--;if(o)break;o=-1}else if(c===-2)l=!0,a++;else if(c!==-1){s++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(a=0),a){const c={type:n===e.length||l||a<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:s?o:r.start._bufferIndex+o,_index:r.start._index+s,line:r.end.line,column:r.end.column-a,offset:r.end.offset-a},end:{...r.end}};r.end={...c.start},r.start.offset===r.end.offset?Object.assign(r,c):(e.splice(n,0,["enter",c,t],["exit",c,t]),n+=2)}n++}return e}const sce={42:Ai,43:Ai,45:Ai,48:Ai,49:Ai,50:Ai,51:Ai,52:Ai,53:Ai,54:Ai,55:Ai,56:Ai,57:Ai,62:WN},oce={91:qae},ace={[-2]:Zx,[-1]:Zx,32:Zx},lce={35:Jae,42:h0,45:[P6,h0],60:nle,61:P6,95:h0,96:I6,126:I6},uce={38:qN,92:VN},cce={[-5]:eb,[-4]:eb,[-3]:eb,33:ble,38:qN,42:Xw,60:[_ae,ule],91:_le,92:[Yae,VN],93:pS,95:Xw,96:Aae},dce={null:[Xw,tce]},fce={null:[42,95]},hce={null:[]},pce=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:fce,contentInitial:oce,disable:hce,document:sce,flow:lce,flowInitial:ace,insideSpan:dce,string:uce,text:cce},Symbol.toStringTag,{value:"Module"}));function mce(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},s=[];let o=[],a=[];const l={attempt:M(B),check:M(j),consume:P,enter:O,exit:$,interrupt:M(j,{interrupt:!0})},c={code:null,containerState:{},defineSkip:_,events:[],now:b,parser:e,previous:null,sliceSerialize:g,sliceStream:y,write:p};let f=t.tokenize.call(c,l);return t.resolveAll&&s.push(t),c;function p(ee){return o=Is(o,ee),C(),o[o.length-1]!==null?[]:(U(t,0),c.events=f1(s,c.events,c),c.events)}function g(ee,J){return yce(y(ee),J)}function y(ee){return gce(o,ee)}function b(){const{_bufferIndex:ee,_index:J,line:re,column:q,offset:V}=r;return{_bufferIndex:ee,_index:J,line:re,column:q,offset:V}}function _(ee){i[ee.line]=ee.column,D()}function C(){let ee;for(;r._index<o.length;){const J=o[r._index];if(typeof J=="string")for(ee=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===ee&&r._bufferIndex<J.length;)k(J.charCodeAt(r._bufferIndex));else k(J)}}function k(ee){f=f(ee)}function P(ee){ht(ee)?(r.line++,r.column=1,r.offset+=ee===-3?2:1,D()):ee!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),c.previous=ee}function O(ee,J){const re=J||{};return re.type=ee,re.start=b(),c.events.push(["enter",re,c]),a.push(re),re}function $(ee){const J=a.pop();return J.end=b(),c.events.push(["exit",J,c]),J}function B(ee,J){U(ee,J.from)}function j(ee,J){J.restore()}function M(ee,J){return re;function re(q,V,Q){let ne,Z,fe,F;return Array.isArray(q)?ye(q):"tokenize"in q?ye([q]):G(q);function G(Te){return Ye;function Ye(Ve){const Ie=Ve!==null&&Te[Ve],ut=Ve!==null&&Te.null,Cn=[...Array.isArray(Ie)?Ie:Ie?[Ie]:[],...Array.isArray(ut)?ut:ut?[ut]:[]];return ye(Cn)(Ve)}}function ye(Te){return ne=Te,Z=0,Te.length===0?Q:H(Te[Z])}function H(Te){return Ye;function Ye(Ve){return F=z(),fe=Te,Te.partial||(c.currentConstruct=Te),Te.name&&c.parser.constructs.disable.null.includes(Te.name)?Ee():Te.tokenize.call(J?Object.assign(Object.create(c),J):c,l,Me,Ee)(Ve)}}function Me(Te){return ee(fe,F),V}function Ee(Te){return F.restore(),++Z<ne.length?H(ne[Z]):Q}}}function U(ee,J){ee.resolveAll&&!s.includes(ee)&&s.push(ee),ee.resolve&&cs(c.events,J,c.events.length-J,ee.resolve(c.events.slice(J),c)),ee.resolveTo&&(c.events=ee.resolveTo(c.events,c))}function z(){const ee=b(),J=c.previous,re=c.currentConstruct,q=c.events.length,V=Array.from(a);return{from:q,restore:Q};function Q(){r=ee,c.previous=J,c.currentConstruct=re,c.events.length=q,a=V,D()}}function D(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function gce(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,s=t.end._bufferIndex;let o;if(n===i)o=[e[n].slice(r,s)];else{if(o=e.slice(n,i),r>-1){const a=o[0];typeof a=="string"?o[0]=a.slice(r):o.shift()}s>0&&o.push(e[i].slice(0,s))}return o}function yce(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const s=e[n];let o;if(typeof s=="string")o=s;else switch(s){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=t?" ":"	";break}case-1:{if(!t&&i)continue;o=" ";break}default:o=String.fromCharCode(s)}i=s===-2,r.push(o)}return r.join("")}function vce(e){const r={constructs:AN([pce,...(e||{}).extensions||[]]),content:i(Kue),defined:[],document:i(Yue),flow:i(Zue),lazy:{},string:i(nce),text:i(rce)};return r;function i(s){return o;function o(a){return mce(r,s,a)}}}function xce(e){for(;!QN(e););return e}const W6=/[\0\t\n\r]/g;function bce(){let e=1,t="",n=!0,r;return i;function i(s,o,a){const l=[];let c,f,p,g,y;for(s=t+(typeof s=="string"?s.toString():new TextDecoder(o||void 0).decode(s)),p=0,t="",n&&(s.charCodeAt(0)===65279&&p++,n=void 0);p<s.length;){if(W6.lastIndex=p,c=W6.exec(s),g=c&&c.index!==void 0?c.index:s.length,y=s.charCodeAt(g),!c){t=s.slice(p);break}if(y===10&&p===g&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),p<g&&(l.push(s.slice(p,g)),e+=g-p),y){case 0:{l.push(65533),e++;break}case 9:{for(f=Math.ceil(e/4)*4,l.push(-2);e++<f;)l.push(-1);break}case 10:{l.push(-4),e=1;break}default:r=!0,e=1}p=g+1}return a&&(r&&l.push(-5),t&&l.push(t),l.push(null)),l}}const fP={}.hasOwnProperty;function wce(e,t,n){return typeof t!="string"&&(n=t,t=void 0),_ce(n)(xce(vce(n).document().write(bce()(e,t,!0))))}function _ce(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(Si),autolinkProtocol:z,autolinkEmail:z,atxHeading:s(wn),blockQuote:s(ut),characterEscape:z,characterReference:z,codeFenced:s(Cn),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:s(Cn,o),codeText:s(Nt,o),codeTextData:z,data:z,codeFlowValue:z,definition:s(jn),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:s(ln),hardBreakEscape:s(Qi),hardBreakTrailing:s(Qi),htmlFlow:s(li,o),htmlFlowData:z,htmlText:s(li,o),htmlTextData:z,image:s(Ki),label:o,link:s(Si),listItem:s(un),listItemValue:g,listOrdered:s(wt,p),listUnordered:s(wt),paragraph:s(pt),reference:H,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:s(wn),strong:s(zt),thematicBreak:s(Zn)},exit:{atxHeading:l(),atxHeadingSequence:B,autolink:l(),autolinkEmail:Ie,autolinkProtocol:Ve,blockQuote:l(),characterEscapeValue:D,characterReferenceMarkerHexadecimal:Ee,characterReferenceMarkerNumeric:Ee,characterReferenceValue:Te,characterReference:Ye,codeFenced:l(C),codeFencedFence:_,codeFencedFenceInfo:y,codeFencedFenceMeta:b,codeFlowValue:D,codeIndented:l(k),codeText:l(V),codeTextData:D,data:D,definition:l(),definitionDestinationString:$,definitionLabelString:P,definitionTitleString:O,emphasis:l(),hardBreakEscape:l(J),hardBreakTrailing:l(J),htmlFlow:l(re),htmlFlowData:D,htmlText:l(q),htmlTextData:D,image:l(ne),label:fe,labelText:Z,lineEnding:ee,link:l(Q),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:Me,resourceDestinationString:F,resourceTitleString:G,resource:ye,setextHeading:l(U),setextHeadingLineSequence:M,setextHeadingText:j,strong:l(),thematicBreak:l()}};hP(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(Ce){let Re={type:"root",children:[]};const ct={stack:[Re],tokenStack:[],config:t,enter:a,exit:c,buffer:o,resume:f,data:n},vt=[];let Ut=-1;for(;++Ut<Ce.length;)if(Ce[Ut][1].type==="listOrdered"||Ce[Ut][1].type==="listUnordered")if(Ce[Ut][0]==="enter")vt.push(Ut);else{const yn=vt.pop();Ut=i(Ce,yn,Ut)}for(Ut=-1;++Ut<Ce.length;){const yn=t[Ce[Ut][0]];fP.call(yn,Ce[Ut][1].type)&&yn[Ce[Ut][1].type].call(Object.assign({sliceSerialize:Ce[Ut][2].sliceSerialize},ct),Ce[Ut][1])}if(ct.tokenStack.length>0){const yn=ct.tokenStack[ct.tokenStack.length-1];(yn[1]||V6).call(ct,void 0,yn[0])}for(Re.position={start:Ya(Ce.length>0?Ce[0][1].start:{line:1,column:1,offset:0}),end:Ya(Ce.length>0?Ce[Ce.length-2][1].end:{line:1,column:1,offset:0})},Ut=-1;++Ut<t.transforms.length;)Re=t.transforms[Ut](Re)||Re;return Re}function i(Ce,Re,ct){let vt=Re-1,Ut=-1,yn=!1,fr,hr,ui,jr;for(;++vt<=ct;){const qe=Ce[vt];switch(qe[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{qe[0]==="enter"?Ut++:Ut--,jr=void 0;break}case"lineEndingBlank":{qe[0]==="enter"&&(fr&&!jr&&!Ut&&!ui&&(ui=vt),jr=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:jr=void 0}if(!Ut&&qe[0]==="enter"&&qe[1].type==="listItemPrefix"||Ut===-1&&qe[0]==="exit"&&(qe[1].type==="listUnordered"||qe[1].type==="listOrdered")){if(fr){let sr=vt;for(hr=void 0;sr--;){const zn=Ce[sr];if(zn[1].type==="lineEnding"||zn[1].type==="lineEndingBlank"){if(zn[0]==="exit")continue;hr&&(Ce[hr][1].type="lineEndingBlank",yn=!0),zn[1].type="lineEnding",hr=sr}else if(!(zn[1].type==="linePrefix"||zn[1].type==="blockQuotePrefix"||zn[1].type==="blockQuotePrefixWhitespace"||zn[1].type==="blockQuoteMarker"||zn[1].type==="listItemIndent"))break}ui&&(!hr||ui<hr)&&(fr._spread=!0),fr.end=Object.assign({},hr?Ce[hr][1].start:qe[1].end),Ce.splice(hr||vt,0,["exit",fr,qe[2]]),vt++,ct++}if(qe[1].type==="listItemPrefix"){const sr={type:"listItem",_spread:!1,start:Object.assign({},qe[1].start),end:void 0};fr=sr,Ce.splice(vt,0,["enter",sr,qe[2]]),vt++,ct++,ui=void 0,jr=!0}}}return Ce[Re][1]._spread=yn,ct}function s(Ce,Re){return ct;function ct(vt){a.call(this,Ce(vt),vt),Re&&Re.call(this,vt)}}function o(){this.stack.push({type:"fragment",children:[]})}function a(Ce,Re,ct){this.stack[this.stack.length-1].children.push(Ce),this.stack.push(Ce),this.tokenStack.push([Re,ct||void 0]),Ce.position={start:Ya(Re.start),end:void 0}}function l(Ce){return Re;function Re(ct){Ce&&Ce.call(this,ct),c.call(this,ct)}}function c(Ce,Re){const ct=this.stack.pop(),vt=this.tokenStack.pop();if(vt)vt[0].type!==Ce.type&&(Re?Re.call(this,Ce,vt[0]):(vt[1]||V6).call(this,Ce,vt[0]));else throw new Error("Cannot close `"+Ce.type+"` ("+Lh({start:Ce.start,end:Ce.end})+"): its not open");ct.position.end=Ya(Ce.end)}function f(){return cS(this.stack.pop())}function p(){this.data.expectingFirstListItemValue=!0}function g(Ce){if(this.data.expectingFirstListItemValue){const Re=this.stack[this.stack.length-2];Re.start=Number.parseInt(this.sliceSerialize(Ce),10),this.data.expectingFirstListItemValue=void 0}}function y(){const Ce=this.resume(),Re=this.stack[this.stack.length-1];Re.lang=Ce}function b(){const Ce=this.resume(),Re=this.stack[this.stack.length-1];Re.meta=Ce}function _(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function C(){const Ce=this.resume(),Re=this.stack[this.stack.length-1];Re.value=Ce.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function k(){const Ce=this.resume(),Re=this.stack[this.stack.length-1];Re.value=Ce.replace(/(\r?\n|\r)$/g,"")}function P(Ce){const Re=this.resume(),ct=this.stack[this.stack.length-1];ct.label=Re,ct.identifier=so(this.sliceSerialize(Ce)).toLowerCase()}function O(){const Ce=this.resume(),Re=this.stack[this.stack.length-1];Re.title=Ce}function $(){const Ce=this.resume(),Re=this.stack[this.stack.length-1];Re.url=Ce}function B(Ce){const Re=this.stack[this.stack.length-1];if(!Re.depth){const ct=this.sliceSerialize(Ce).length;Re.depth=ct}}function j(){this.data.setextHeadingSlurpLineEnding=!0}function M(Ce){const Re=this.stack[this.stack.length-1];Re.depth=this.sliceSerialize(Ce).codePointAt(0)===61?1:2}function U(){this.data.setextHeadingSlurpLineEnding=void 0}function z(Ce){const ct=this.stack[this.stack.length-1].children;let vt=ct[ct.length-1];(!vt||vt.type!=="text")&&(vt=Pt(),vt.position={start:Ya(Ce.start),end:void 0},ct.push(vt)),this.stack.push(vt)}function D(Ce){const Re=this.stack.pop();Re.value+=this.sliceSerialize(Ce),Re.position.end=Ya(Ce.end)}function ee(Ce){const Re=this.stack[this.stack.length-1];if(this.data.atHardBreak){const ct=Re.children[Re.children.length-1];ct.position.end=Ya(Ce.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(Re.type)&&(z.call(this,Ce),D.call(this,Ce))}function J(){this.data.atHardBreak=!0}function re(){const Ce=this.resume(),Re=this.stack[this.stack.length-1];Re.value=Ce}function q(){const Ce=this.resume(),Re=this.stack[this.stack.length-1];Re.value=Ce}function V(){const Ce=this.resume(),Re=this.stack[this.stack.length-1];Re.value=Ce}function Q(){const Ce=this.stack[this.stack.length-1];if(this.data.inReference){const Re=this.data.referenceType||"shortcut";Ce.type+="Reference",Ce.referenceType=Re,delete Ce.url,delete Ce.title}else delete Ce.identifier,delete Ce.label;this.data.referenceType=void 0}function ne(){const Ce=this.stack[this.stack.length-1];if(this.data.inReference){const Re=this.data.referenceType||"shortcut";Ce.type+="Reference",Ce.referenceType=Re,delete Ce.url,delete Ce.title}else delete Ce.identifier,delete Ce.label;this.data.referenceType=void 0}function Z(Ce){const Re=this.sliceSerialize(Ce),ct=this.stack[this.stack.length-2];ct.label=qoe(Re),ct.identifier=so(Re).toLowerCase()}function fe(){const Ce=this.stack[this.stack.length-1],Re=this.resume(),ct=this.stack[this.stack.length-1];if(this.data.inReference=!0,ct.type==="link"){const vt=Ce.children;ct.children=vt}else ct.alt=Re}function F(){const Ce=this.resume(),Re=this.stack[this.stack.length-1];Re.url=Ce}function G(){const Ce=this.resume(),Re=this.stack[this.stack.length-1];Re.title=Ce}function ye(){this.data.inReference=void 0}function H(){this.data.referenceType="collapsed"}function Me(Ce){const Re=this.resume(),ct=this.stack[this.stack.length-1];ct.label=Re,ct.identifier=so(this.sliceSerialize(Ce)).toLowerCase(),this.data.referenceType="full"}function Ee(Ce){this.data.characterReferenceType=Ce.type}function Te(Ce){const Re=this.sliceSerialize(Ce),ct=this.data.characterReferenceType;let vt;ct?(vt=MN(Re,ct==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):vt=fS(Re);const Ut=this.stack[this.stack.length-1];Ut.value+=vt}function Ye(Ce){const Re=this.stack.pop();Re.position.end=Ya(Ce.end)}function Ve(Ce){D.call(this,Ce);const Re=this.stack[this.stack.length-1];Re.url=this.sliceSerialize(Ce)}function Ie(Ce){D.call(this,Ce);const Re=this.stack[this.stack.length-1];Re.url="mailto:"+this.sliceSerialize(Ce)}function ut(){return{type:"blockquote",children:[]}}function Cn(){return{type:"code",lang:null,meta:null,value:""}}function Nt(){return{type:"inlineCode",value:""}}function jn(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function ln(){return{type:"emphasis",children:[]}}function wn(){return{type:"heading",depth:0,children:[]}}function Qi(){return{type:"break"}}function li(){return{type:"html",value:""}}function Ki(){return{type:"image",title:null,url:"",alt:null}}function Si(){return{type:"link",title:null,url:"",children:[]}}function wt(Ce){return{type:"list",ordered:Ce.type==="listOrdered",start:null,spread:Ce._spread,children:[]}}function un(Ce){return{type:"listItem",spread:Ce._spread,checked:null,children:[]}}function pt(){return{type:"paragraph",children:[]}}function zt(){return{type:"strong",children:[]}}function Pt(){return{type:"text",value:""}}function Zn(){return{type:"thematicBreak"}}}function Ya(e){return{line:e.line,column:e.column,offset:e.offset}}function hP(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?hP(e,r):Sce(e,r)}}function Sce(e,t){let n;for(n in t)if(fP.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function V6(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Lh({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Lh({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Lh({start:t.start,end:t.end})+") is still open")}function Cce(e){const t=this;t.parser=n;function n(r){return wce(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function kce(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function Ece(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function Tce(e,t){const n=t.value?t.value+`
`:"",r={};t.lang&&(r.className=["language-"+t.lang]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(i.data={meta:t.meta}),e.patch(t,i),i=e.applyData(t,i),i={type:"element",tagName:"pre",properties:{},children:[i]},e.patch(t,i),i}function jce(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Ice(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Nce(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),i=ff(r.toLowerCase()),s=e.footnoteOrder.indexOf(r);let o,a=e.footnoteCounts.get(r);a===void 0?(a=0,e.footnoteOrder.push(r),o=e.footnoteOrder.length):o=s+1,a+=1,e.footnoteCounts.set(r,a);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(a>1?"-"+a:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};e.patch(t,l);const c={type:"element",tagName:"sup",properties:{},children:[l]};return e.patch(t,c),e.applyData(t,c)}function Pce(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Rce(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function pP(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const i=e.all(t),s=i[0];s&&s.type==="text"?s.value="["+s.value:i.unshift({type:"text",value:"["});const o=i[i.length-1];return o&&o.type==="text"?o.value+=r:i.push({type:"text",value:r}),i}function Oce(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return pP(e,t);const i={src:ff(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,s),e.applyData(t,s)}function Mce(e,t){const n={src:ff(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function Ace(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function Dce(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return pP(e,t);const i={href:ff(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,s),e.applyData(t,s)}function Lce(e,t){const n={href:ff(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function Fce(e,t,n){const r=e.all(t),i=n?Bce(n):mP(t),s={},o=[];if(typeof t.checked=="boolean"){const f=r[0];let p;f&&f.type==="element"&&f.tagName==="p"?p=f:(p={type:"element",tagName:"p",properties:{},children:[]},r.unshift(p)),p.children.length>0&&p.children.unshift({type:"text",value:" "}),p.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let a=-1;for(;++a<r.length;){const f=r[a];(i||a!==0||f.type!=="element"||f.tagName!=="p")&&o.push({type:"text",value:`
`}),f.type==="element"&&f.tagName==="p"&&!i?o.push(...f.children):o.push(f)}const l=r[r.length-1];l&&(i||l.type!=="element"||l.tagName!=="p")&&o.push({type:"text",value:`
`});const c={type:"element",tagName:"li",properties:s,children:o};return e.patch(t,c),e.applyData(t,c)}function Bce(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=mP(n[r])}return t}function mP(e){const t=e.spread;return t??e.children.length>1}function zce(e,t){const n={},r=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++i<r.length;){const o=r[i];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const s={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,s),e.applyData(t,s)}function $ce(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Uce(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function Hce(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Wce(e,t){const n=e.all(t),r=n.shift(),i=[];if(r){const o={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],o),i.push(o)}if(n.length>0){const o={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},a=yS(t.children[1]),l=iP(t.children[t.children.length-1]);a&&l&&(o.position={start:a,end:l}),i.push(o)}const s={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,s),e.applyData(t,s)}function Vce(e,t,n){const r=n?n.children:void 0,s=(r?r.indexOf(t):1)===0?"th":"td",o=n&&n.type==="table"?n.align:void 0,a=o?o.length:t.children.length;let l=-1;const c=[];for(;++l<a;){const p=t.children[l],g={},y=o?o[l]:void 0;y&&(g.align=y);let b={type:"element",tagName:s,properties:g,children:[]};p&&(b.children=e.all(p),e.patch(p,b),b=e.applyData(p,b)),c.push(b)}const f={type:"element",tagName:"tr",properties:{},children:e.wrap(c,!0)};return e.patch(t,f),e.applyData(t,f)}function qce(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const q6=9,Q6=32;function Qce(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),i=0;const s=[];for(;r;)s.push(K6(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return s.push(K6(t.slice(i),i>0,!1)),s.join("")}function K6(e,t,n){let r=0,i=e.length;if(t){let s=e.codePointAt(r);for(;s===q6||s===Q6;)r++,s=e.codePointAt(r)}if(n){let s=e.codePointAt(i-1);for(;s===q6||s===Q6;)i--,s=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function Kce(e,t){const n={type:"text",value:Qce(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function Gce(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const Yce={blockquote:kce,break:Ece,code:Tce,delete:jce,emphasis:Ice,footnoteReference:Nce,heading:Pce,html:Rce,imageReference:Oce,image:Mce,inlineCode:Ace,linkReference:Dce,link:Lce,listItem:Fce,list:zce,paragraph:$ce,root:Uce,strong:Hce,table:Wce,tableCell:qce,tableRow:Vce,text:Kce,thematicBreak:Gce,toml:Lg,yaml:Lg,definition:Lg,footnoteDefinition:Lg};function Lg(){}const gP=-1,h1=0,Fh=1,oy=2,wS=3,_S=4,SS=5,CS=6,yP=7,vP=8,G6=typeof self=="object"?self:globalThis,Xce=(e,t)=>{const n=(i,s)=>(e.set(s,i),i),r=i=>{if(e.has(i))return e.get(i);const[s,o]=t[i];switch(s){case h1:case gP:return n(o,i);case Fh:{const a=n([],i);for(const l of o)a.push(r(l));return a}case oy:{const a=n({},i);for(const[l,c]of o)a[r(l)]=r(c);return a}case wS:return n(new Date(o),i);case _S:{const{source:a,flags:l}=o;return n(new RegExp(a,l),i)}case SS:{const a=n(new Map,i);for(const[l,c]of o)a.set(r(l),r(c));return a}case CS:{const a=n(new Set,i);for(const l of o)a.add(r(l));return a}case yP:{const{name:a,message:l}=o;return n(new G6[a](l),i)}case vP:return n(BigInt(o),i);case"BigInt":return n(Object(BigInt(o)),i);case"ArrayBuffer":return n(new Uint8Array(o).buffer,o);case"DataView":{const{buffer:a}=new Uint8Array(o);return n(new DataView(a),o)}}return n(new G6[s](o),i)};return r},Y6=e=>Xce(new Map,e)(0),fd="",{toString:Jce}={},{keys:Zce}=Object,fh=e=>{const t=typeof e;if(t!=="object"||!e)return[h1,t];const n=Jce.call(e).slice(8,-1);switch(n){case"Array":return[Fh,fd];case"Object":return[oy,fd];case"Date":return[wS,fd];case"RegExp":return[_S,fd];case"Map":return[SS,fd];case"Set":return[CS,fd];case"DataView":return[Fh,n]}return n.includes("Array")?[Fh,n]:n.includes("Error")?[yP,n]:[oy,n]},Fg=([e,t])=>e===h1&&(t==="function"||t==="symbol"),ede=(e,t,n,r)=>{const i=(o,a)=>{const l=r.push(o)-1;return n.set(a,l),l},s=o=>{if(n.has(o))return n.get(o);let[a,l]=fh(o);switch(a){case h1:{let f=o;switch(l){case"bigint":a=vP,f=o.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+l);f=null;break;case"undefined":return i([gP],o)}return i([a,f],o)}case Fh:{if(l){let g=o;return l==="DataView"?g=new Uint8Array(o.buffer):l==="ArrayBuffer"&&(g=new Uint8Array(o)),i([l,[...g]],o)}const f=[],p=i([a,f],o);for(const g of o)f.push(s(g));return p}case oy:{if(l)switch(l){case"BigInt":return i([l,o.toString()],o);case"Boolean":case"Number":case"String":return i([l,o.valueOf()],o)}if(t&&"toJSON"in o)return s(o.toJSON());const f=[],p=i([a,f],o);for(const g of Zce(o))(e||!Fg(fh(o[g])))&&f.push([s(g),s(o[g])]);return p}case wS:return i([a,o.toISOString()],o);case _S:{const{source:f,flags:p}=o;return i([a,{source:f,flags:p}],o)}case SS:{const f=[],p=i([a,f],o);for(const[g,y]of o)(e||!(Fg(fh(g))||Fg(fh(y))))&&f.push([s(g),s(y)]);return p}case CS:{const f=[],p=i([a,f],o);for(const g of o)(e||!Fg(fh(g)))&&f.push(s(g));return p}}const{message:c}=o;return i([a,{name:l,message:c}],o)};return s},X6=(e,{json:t,lossy:n}={})=>{const r=[];return ede(!(t||n),!!t,new Map,r)(e),r},ay=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?Y6(X6(e,t)):structuredClone(e):(e,t)=>Y6(X6(e,t));function tde(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function nde(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function rde(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||tde,r=e.options.footnoteBackLabel||nde,i=e.options.footnoteLabel||"Footnotes",s=e.options.footnoteLabelTagName||"h2",o=e.options.footnoteLabelProperties||{className:["sr-only"]},a=[];let l=-1;for(;++l<e.footnoteOrder.length;){const c=e.footnoteById.get(e.footnoteOrder[l]);if(!c)continue;const f=e.all(c),p=String(c.identifier).toUpperCase(),g=ff(p.toLowerCase());let y=0;const b=[],_=e.footnoteCounts.get(p);for(;_!==void 0&&++y<=_;){b.length>0&&b.push({type:"text",value:" "});let P=typeof n=="string"?n:n(l,y);typeof P=="string"&&(P={type:"text",value:P}),b.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+g+(y>1?"-"+y:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(l,y),className:["data-footnote-backref"]},children:Array.isArray(P)?P:[P]})}const C=f[f.length-1];if(C&&C.type==="element"&&C.tagName==="p"){const P=C.children[C.children.length-1];P&&P.type==="text"?P.value+=" ":C.children.push({type:"text",value:" "}),C.children.push(...b)}else f.push(...b);const k={type:"element",tagName:"li",properties:{id:t+"fn-"+g},children:e.wrap(f,!0)};e.patch(c,k),a.push(k)}if(a.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:s,properties:{...ay(o),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(a,!0)},{type:"text",value:`
`}]}}const n2={}.hasOwnProperty,ide={};function sde(e,t){const n=t||ide,r=new Map,i=new Map,s=new Map,o={...Yce,...n.handlers},a={all:c,applyData:ade,definitionById:r,footnoteById:i,footnoteCounts:s,footnoteOrder:[],handlers:o,one:l,options:n,patch:ode,wrap:ude};return uS(e,function(f){if(f.type==="definition"||f.type==="footnoteDefinition"){const p=f.type==="definition"?r:i,g=String(f.identifier).toUpperCase();p.has(g)||p.set(g,f)}}),a;function l(f,p){const g=f.type,y=a.handlers[g];if(n2.call(a.handlers,g)&&y)return y(a,f,p);if(a.options.passThrough&&a.options.passThrough.includes(g)){if("children"in f){const{children:_,...C}=f,k=ay(C);return k.children=a.all(f),k}return ay(f)}return(a.options.unknownHandler||lde)(a,f,p)}function c(f){const p=[];if("children"in f){const g=f.children;let y=-1;for(;++y<g.length;){const b=a.one(g[y],f);if(b){if(y&&g[y-1].type==="break"&&(!Array.isArray(b)&&b.type==="text"&&(b.value=J6(b.value)),!Array.isArray(b)&&b.type==="element")){const _=b.children[0];_&&_.type==="text"&&(_.value=J6(_.value))}Array.isArray(b)?p.push(...b):p.push(b)}}}return p}}function ode(e,t){e.position&&(t.position=Tue(e))}function ade(e,t){let n=t;if(e&&e.data){const r=e.data.hName,i=e.data.hChildren,s=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const o="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:o}}n.type==="element"&&s&&Object.assign(n.properties,ay(s)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function lde(e,t){const n=t.data||{},r="value"in t&&!(n2.call(n,"hProperties")||n2.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function ude(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function J6(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function Z6(e,t){const n=sde(e,t),r=n.one(e,void 0),i=rde(n),s=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&s.children.push({type:"text",value:`
`},i),s}function cde(e,t){return e&&"run"in e?async function(n,r){const i=Z6(n,{file:r,...t});await e.run(i,r)}:function(n,r){return Z6(n,{file:r,...e||t})}}function e8(e){if(e)throw e}var ib,t8;function dde(){if(t8)return ib;t8=1;var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,i=function(c){return typeof Array.isArray=="function"?Array.isArray(c):t.call(c)==="[object Array]"},s=function(c){if(!c||t.call(c)!=="[object Object]")return!1;var f=e.call(c,"constructor"),p=c.constructor&&c.constructor.prototype&&e.call(c.constructor.prototype,"isPrototypeOf");if(c.constructor&&!f&&!p)return!1;var g;for(g in c);return typeof g>"u"||e.call(c,g)},o=function(c,f){n&&f.name==="__proto__"?n(c,f.name,{enumerable:!0,configurable:!0,value:f.newValue,writable:!0}):c[f.name]=f.newValue},a=function(c,f){if(f==="__proto__")if(e.call(c,f)){if(r)return r(c,f).value}else return;return c[f]};return ib=function l(){var c,f,p,g,y,b,_=arguments[0],C=1,k=arguments.length,P=!1;for(typeof _=="boolean"&&(P=_,_=arguments[1]||{},C=2),(_==null||typeof _!="object"&&typeof _!="function")&&(_={});C<k;++C)if(c=arguments[C],c!=null)for(f in c)p=a(_,f),g=a(c,f),_!==g&&(P&&g&&(s(g)||(y=i(g)))?(y?(y=!1,b=p&&i(p)?p:[]):b=p&&s(p)?p:{},o(_,{name:f,newValue:l(P,b,g)})):typeof g<"u"&&o(_,{name:f,newValue:g}));return _},ib}var fde=dde();const sb=Vi(fde);function r2(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function hde(){const e=[],t={run:n,use:r};return t;function n(...i){let s=-1;const o=i.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);a(null,...i);function a(l,...c){const f=e[++s];let p=-1;if(l){o(l);return}for(;++p<i.length;)(c[p]===null||c[p]===void 0)&&(c[p]=i[p]);i=c,f?pde(f,a)(...c):o(null,...c)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function pde(e,t){let n;return r;function r(...o){const a=e.length>o.length;let l;a&&o.push(i);try{l=e.apply(this,o)}catch(c){const f=c;if(a&&n)throw f;return i(f)}a||(l&&l.then&&typeof l.then=="function"?l.then(s,i):l instanceof Error?i(l):s(l))}function i(o,...a){n||(n=!0,t(o,...a))}function s(o){i(null,o)}}const So={basename:mde,dirname:gde,extname:yde,join:vde,sep:"/"};function mde(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');zp(e);let n=0,r=-1,i=e.length,s;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(s){n=i+1;break}}else r<0&&(s=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let o=-1,a=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(s){n=i+1;break}}else o<0&&(s=!0,o=i+1),a>-1&&(e.codePointAt(i)===t.codePointAt(a--)?a<0&&(r=i):(a=-1,r=o));return n===r?r=o:r<0&&(r=e.length),e.slice(n,r)}function gde(e){if(zp(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function yde(e){zp(e);let t=e.length,n=-1,r=0,i=-1,s=0,o;for(;t--;){const a=e.codePointAt(t);if(a===47){if(o){r=t+1;break}continue}n<0&&(o=!0,n=t+1),a===46?i<0?i=t:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||n<0||s===0||s===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function vde(...e){let t=-1,n;for(;++t<e.length;)zp(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":xde(n)}function xde(e){zp(e);const t=e.codePointAt(0)===47;let n=bde(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function bde(e,t){let n="",r=0,i=-1,s=0,o=-1,a,l;for(;++o<=e.length;){if(o<e.length)a=e.codePointAt(o);else{if(a===47)break;a=47}if(a===47){if(!(i===o-1||s===1))if(i!==o-1&&s===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),i=o,s=0;continue}}else if(n.length>0){n="",r=0,i=o,s=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,o):n=e.slice(i+1,o),r=o-i-1;i=o,s=0}else a===46&&s>-1?s++:s=-1}return n}function zp(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const wde={cwd:_de};function _de(){return"/"}function i2(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function Sde(e){if(typeof e=="string")e=new URL(e);else if(!i2(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return Cde(e)}function Cde(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const ob=["history","path","basename","stem","extname","dirname"];class xP{constructor(t){let n;t?i2(t)?n={path:t}:typeof t=="string"||kde(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":wde.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<ob.length;){const s=ob[r];s in n&&n[s]!==void 0&&n[s]!==null&&(this[s]=s==="history"?[...n[s]]:n[s])}let i;for(i in n)ob.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?So.basename(this.path):void 0}set basename(t){lb(t,"basename"),ab(t,"basename"),this.path=So.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?So.dirname(this.path):void 0}set dirname(t){n8(this.basename,"dirname"),this.path=So.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?So.extname(this.path):void 0}set extname(t){if(ab(t,"extname"),n8(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=So.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){i2(t)&&(t=Sde(t)),lb(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?So.basename(this.path,this.extname):void 0}set stem(t){lb(t,"stem"),ab(t,"stem"),this.path=So.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=void 0,i}message(t,n,r){const i=new ai(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function ab(e,t){if(e&&e.includes(So.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+So.sep+"`")}function lb(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function n8(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function kde(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const Ede=function(e){const r=this.constructor.prototype,i=r[e],s=function(){return i.apply(s,arguments)};return Object.setPrototypeOf(s,r),s},Tde={}.hasOwnProperty;class kS extends Ede{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=hde()}copy(){const t=new kS;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(sb(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(db("data",this.frozen),this.namespace[t]=n,this):Tde.call(this.namespace,t)&&this.namespace[t]||void 0:t?(db("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(t,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=Bg(t),r=this.parser||this.Parser;return ub("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),ub("process",this.parser||this.Parser),cb("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(s,o){const a=Bg(t),l=r.parse(a);r.run(l,a,function(f,p,g){if(f||!p||!g)return c(f);const y=p,b=r.stringify(y,g);Nde(b)?g.value=b:g.result=b,c(f,g)});function c(f,p){f||!p?o(f):s?s(p):n(void 0,p)}}}processSync(t){let n=!1,r;return this.freeze(),ub("processSync",this.parser||this.Parser),cb("processSync",this.compiler||this.Compiler),this.process(t,i),i8("processSync","process",n),r;function i(s,o){n=!0,e8(s),r=o}}run(t,n,r){r8(t),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?s(void 0,r):new Promise(s);function s(o,a){const l=Bg(n);i.run(t,l,c);function c(f,p,g){const y=p||t;f?a(f):o?o(y):r(void 0,y,g)}}}runSync(t,n){let r=!1,i;return this.run(t,n,s),i8("runSync","run",r),i;function s(o,a){e8(o),i=a,r=!0}}stringify(t,n){this.freeze();const r=Bg(n),i=this.compiler||this.Compiler;return cb("stringify",i),r8(t),i(t,r)}use(t,...n){const r=this.attachers,i=this.namespace;if(db("use",this.frozen),t!=null)if(typeof t=="function")l(t,n);else if(typeof t=="object")Array.isArray(t)?a(t):o(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function s(c){if(typeof c=="function")l(c,[]);else if(typeof c=="object")if(Array.isArray(c)){const[f,...p]=c;l(f,p)}else o(c);else throw new TypeError("Expected usable value, not `"+c+"`")}function o(c){if(!("plugins"in c)&&!("settings"in c))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");a(c.plugins),c.settings&&(i.settings=sb(!0,i.settings,c.settings))}function a(c){let f=-1;if(c!=null)if(Array.isArray(c))for(;++f<c.length;){const p=c[f];s(p)}else throw new TypeError("Expected a list of plugins, not `"+c+"`")}function l(c,f){let p=-1,g=-1;for(;++p<r.length;)if(r[p][0]===c){g=p;break}if(g===-1)r.push([c,...f]);else if(f.length>0){let[y,...b]=f;const _=r[g][1];r2(_)&&r2(y)&&(y=sb(!0,_,y)),r[g]=[c,y,...b]}}}}const jde=new kS().freeze();function ub(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function cb(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function db(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function r8(e){if(!r2(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function i8(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function Bg(e){return Ide(e)?e:new xP(e)}function Ide(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function Nde(e){return typeof e=="string"||Pde(e)}function Pde(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const Rde="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",s8=[],o8={allowDangerousHtml:!0},Ode=/^(https?|ircs?|mailto|xmpp)$/i,Mde=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function Ade(e){const t=Dde(e),n=Lde(e);return Fde(t.runSync(t.parse(n),n),e)}function Dde(e){const t=e.rehypePlugins||s8,n=e.remarkPlugins||s8,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...o8}:o8;return jde().use(Cce).use(n).use(cde,r).use(t)}function Lde(e){const t=e.children||"",n=new xP;return typeof t=="string"&&(n.value=t),n}function Fde(e,t){const n=t.allowedElements,r=t.allowElement,i=t.components,s=t.disallowedElements,o=t.skipHtml,a=t.unwrapDisallowed,l=t.urlTransform||Bde;for(const f of Mde)Object.hasOwn(t,f.from)&&(""+f.from+(f.to?"use `"+f.to+"` instead":"remove it")+Rde+f.id,void 0);return uS(e,c),Rue(e,{Fragment:h.Fragment,components:i,ignoreInvalidStyle:!0,jsx:h.jsx,jsxs:h.jsxs,passKeys:!0,passNode:!0});function c(f,p,g){if(f.type==="raw"&&g&&typeof p=="number")return o?g.children.splice(p,1):g.children[p]={type:"text",value:f.value},p;if(f.type==="element"){let y;for(y in rb)if(Object.hasOwn(rb,y)&&Object.hasOwn(f.properties,y)){const b=f.properties[y],_=rb[y];(_===null||_.includes(f.tagName))&&(f.properties[y]=l(String(b||""),y,f))}}if(f.type==="element"){let y=n?!n.includes(f.tagName):s?s.includes(f.tagName):!1;if(!y&&r&&typeof p=="number"&&(y=!r(f,p,g)),y&&g&&typeof p=="number")return a&&f.children?g.children.splice(p,1,...f.children):g.children.splice(p,1),p}}}function Bde(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),i=e.indexOf("/");return t===-1||i!==-1&&t>i||n!==-1&&t>n||r!==-1&&t>r||Ode.test(e.slice(0,t))?e:""}const zde=async()=>await p_("/faq.json");function $de(){return lo({queryKey:["faq"],queryFn:zde,staleTime:1/0,select:e=>e.faq.map((t,n)=>({...t,id:n}))})}const Ude=e=>I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:14,height:16,viewBox:"0 0 14 16",...e},I.createElement("defs",null,I.createElement("clipPath",{id:"master_svg0_137_3346"},I.createElement("rect",{x:0,y:0,width:14,height:16,rx:0}))),I.createElement("g",{clipPath:"url(#master_svg0_137_3346)"},I.createElement("g",{transform:"matrix(1,0,0,-1,0,26.6875)"},I.createElement("g",null,I.createElement("path",{d:"M6.28125,13.625Q6.59375,13.34375,7,13.34375Q7.40625,13.34375,7.71875,13.625L13.7188,19.625Q14,19.9375,14,20.34375Q14,20.75,13.7188,21.0625Q13.4062,21.34375,13,21.34375Q12.5938,21.34375,12.2812,21.0625L7,15.75L1.71875,21.0625Q1.40625,21.34375,1,21.34375Q0.59375,21.34375,0.28125,21.0625Q0,20.75,0,20.34375Q0,19.9375,0.28125,19.625L6.28125,13.625Z",fill:"#9CA3AF",fillOpacity:1,style:{mixBlendMode:"passthrough"}}))))),Hde={h2:e=>h.jsx("h2",{...e,className:"text-lg font-bold my-4"}),h3:e=>h.jsx("h3",{...e,className:"text-base font-bold my-4"}),a:e=>h.jsx("a",{...e,className:"text-blue-500 underline"})},Wde={all:"",timetable:"",wishes:"",simulation:"",live:""};function Vde(e){return Array.from(new Set(e))}function qde(){const e=ao(),t=e.hash,n=t?Number.parseInt(t.replace("#","")):null,[r,i]=I.useState(n),{data:s}=$de(),[o,a]=I.useState(null),l=Vde(s?.map(g=>g.tag)??[]),c=o?s?.filter(g=>g.tag===o):s,f=g=>{i(r===g?null:g)};I.useEffect(()=>{if(e.hash){const g=Number.parseInt(e.hash.replace("#",""));setTimeout(()=>{const y=document.getElementById("faq-container-"+g);y&&(y.scrollIntoView({behavior:"smooth"}),i(g))},300)}},[e.hash]);const p=g=>{a(y=>y===g?null:g)};return h.jsxs(h.Fragment,{children:[h.jsx(Vr,{children:h.jsx("title",{children:"ALLCLL |   "})}),h.jsx("div",{className:"mx-auto max-w-7xl px-4 md:px-16 py-24",children:h.jsxs(Pe,{direction:"flex-col",gap:"gap-4",children:[h.jsx(qt,{level:1,children:"  "}),h.jsx(Pe,{direction:"flex-wrap",gap:"gap-2",className:"mb-6",children:l.length>0&&l.map((g,y)=>h.jsx(Xn,{label:Wde[g]||g,onClick:()=>p(g),selected:o===g},"faq-chip-"+y))}),c&&c.map(g=>h.jsx(Qde,{item:g,index:g.id,isOpen:r===g.id,toggleAnswer:f},g.id))]})})]})}function Qde({item:e,index:t,isOpen:n,toggleAnswer:r}){return h.jsxs("div",{id:"faq-container-"+t,className:"mb-4 rounded-md bg-white shadow-sm",children:[h.jsxs("button",{onClick:()=>r(t),className:"flex items-center justify-between rounded-md w-full text-left font-semibold text-md p-4 hover:bg-blue-50 focus:outline-none cursor-pointer "+(n?"text-blue-600 font-bold":""),children:[e.question,h.jsx(Ude,{className:"w-4 h-4 transform transition-transform duration-150 "+(n?"rotate-180":"")})]}),n&&h.jsx("div",{className:"p-4 border-t border-gray-200 text-sm",children:h.jsx(Ade,{remarkPlugins:[rue],components:Hde,children:e.answer})})]},t)}const Kde=e=>I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:16.508930206298828,height:16.008333206176758,viewBox:"0 0 16.508930206298828 16.008333206176758",...e},I.createElement("g",{transform:"matrix(1,0,0,-1,0,32.016666412353516)"},I.createElement("path",{d:"M8.25446,32.016633206176756Q8.72321,31.985433206176758,8.94196,31.579133206176756L11.067,27.172933206176758L15.8482,26.485433206176758Q16.317,26.391633206176756,16.4732,25.95416320617676Q16.5982,25.51666320617676,16.2857,25.20416320617676L12.817,21.76666320617676L13.6295,16.891666206176758Q13.692,16.454166206176758,13.317,16.141666206176758Q12.942,15.891666206176758,12.5357,16.110416206176758L8.25446,18.39166320617676L3.97321,16.110416206176758Q3.56696,15.891666206176758,3.19196,16.172916206176758Q2.81696,16.454166206176758,2.87946,16.891666206176758L3.69196,21.76666320617676L0.223214,25.20416320617676Q-0.0892857,25.51666320617676,0.0357143,25.95416320617676Q0.191964,26.391633206176756,0.660714,26.485433206176758L5.44196,27.172933206176758L7.56696,31.579133206176756Q7.78571,31.985433206176758,8.25446,32.016633206176756ZM8.25446,29.547933206176758L6.59821,26.172933206176758L8.25446,29.547933206176758L6.59821,26.172933206176758Q6.44196,25.82916320617676,6.03571,25.73541320617676L2.34821,25.20416320617676L5.03571,22.54791320617676Q5.28571,22.26666320617676,5.25446,21.89166320617676L4.59821,18.14166320617676L7.91071,19.89166320617676Q8.25446,20.07916320617676,8.59821,19.89166320617676L11.8795,18.14166320617676L11.2545,21.89166320617676Q11.192,22.26666320617676,11.4732,22.54791320617676L14.1607,25.20416320617676L10.4732,25.73541320617676Q10.067,25.82916320617676,9.91071,26.172933206176758L8.25446,29.547933206176758Z",fill:"#9CA3AF",fillOpacity:1,style:{mixBlendMode:"passthrough"}}))),Gde=e=>I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:16.505903244018555,height:16.001562118530273,viewBox:"0 0 16.505903244018555 16.001562118530273",...e},I.createElement("g",{transform:"matrix(1,0,0,-1,0,32.00312423706055)"},I.createElement("path",{d:"M9.15,31.440662118530273Q8.86875,31.971862118530275,8.24375,32.00316211853027Q7.65,31.971862118530275,7.3375,31.440662118530273L5.3375,27.315662118530273L0.8375,26.628162118530273Q0.24375,26.534362118530275,0.05625,25.97187211853027Q-0.13125,25.37812211853027,0.30625,24.94062211853027L3.55625,21.72187211853027L2.775,17.159372118530275Q2.7125,16.565625118530274,3.18125,16.190625118530274Q3.68125,15.846875118530274,4.24375,16.128125118530274L8.24375,18.253122118530275L12.275,16.128125118530274Q12.8062,15.846875118530274,13.3062,16.190625118530274Q13.8062,16.565625118530274,13.7125,17.159372118530275L12.9625,21.72187211853027L16.2125,24.94062211853027Q16.6187,25.37812211853027,16.4625,25.97187211853027Q16.2437,26.534362118530275,15.65,26.628162118530273L11.15,27.315662118530273L9.15,31.440662118530273Z",fill:"#FACC15",fillOpacity:1,style:{mixBlendMode:"passthrough"}})));function bP({disabled:e}){return e?h.jsx(Kde,{className:"w-4 h-4"}):h.jsx(Gde,{className:"w-4 h-4"})}function wP({subject:e,variant:t="contain",className:n,onClick:r,...i}){const s=Vw(c=>c.isFavorite(e.subjectId)),o=Vw(c=>c.toggleFavorite),a=s?" ":" ",l=c=>{o(e.subjectId),r&&r(c)};return h.jsx(Tr,{variant:t,onClick:l,label:a,icon:h.jsx(bP,{disabled:!s}),"aria-label":a,className:n,...i})}const Yde=[{title:"",visible:!0,key:"subjectCode"},{title:"",visible:!0,key:"classCode"},{title:" ",visible:!0,key:"departmentName"},{title:"",visible:!0,key:"subjectName"},{title:"",visible:!0,key:"professorName"},{title:"",visible:!0,key:"totalCount"},{title:"",visible:!0,key:"seat"},{title:"",visible:!1,key:"studentYear"},{title:"",visible:!1,key:"lesnTime"},{title:"",visible:!1,key:"lesnRoom"},{title:"",visible:!1,key:"tmNum"},{title:"",visible:!1,key:"remark"},{title:"",visible:!1,key:"curiTypeCdNm"},{title:"",visible:!1,key:"curiLangNm"}],s2=mN("wishes",Yde);function Xde(e){const t=s2(o=>o.tableTitles),n=!!(e&&e[0]&&"seat"in e[0]),r=e&&e[0]&&"totalCount"in e[0],{isPreSeatAvailable:i}=i1({hasSeats:n});let s=[{title:"",visible:!0,key:""},...t.filter(o=>o.visible)];return r||(s=s.filter(o=>o.key!=="totalCount")),i||(s=s.filter(o=>o.key!=="seat")),s}function Jde(e,t=!0){const n=e.curiLangNm==="";return e.isDeleted?t?"bg-gray-100 hover:bg-gray-200":"bg-gray-100":n?t?"bg-green-50 hover:bg-green-100":"bg-green-50":t?"bg-white hover:bg-gray-100":"bg-white"}function _P({data:e,isPending:t=!1,placeholder:n}){const r=Xde(e);return h.jsxs("table",{className:"w-full bg-white rounded-lg relative text-sm",children:[h.jsx("thead",{children:h.jsx("tr",{className:"bg-gray-50 sticky top-0 z-10 text-nowrap",children:r.map(({title:i})=>h.jsx("th",{className:"px-4 py-2",children:i},"table-header-name-"+i))})}),h.jsx("tbody",{children:h.jsx(Zde,{headers:r,data:e,isPending:t,placeholder:n})})]})}function Zde({headers:e,data:t,isPending:n=!1,placeholder:r}){const{visibleRows:i}=s1(t??[],"selector"),s=t?t.slice(0,i):[];return n||!t?h.jsx(ap,{row:5,col:e.length}):t.length?h.jsxs(h.Fragment,{children:[s.map(o=>h.jsx(efe,{data:o,tableHeaders:e},`${o.subjectCode} ${o.subjectId} ${o.professorName}`)),h.jsx("tr",{className:"load-more-trigger"})]}):h.jsx(eS,{col:e.length,...r})}const efe=({data:e,tableHeaders:t})=>{const n=Jde(e,!0);return h.jsxs("tr",{className:`border-t border-gray-200 text-black ${n}`,children:[h.jsx("td",{className:"px-4 py-2",children:h.jsx(Pe,{align:"items-center",gap:"gap-2",children:h.jsx(wP,{subject:e,variant:"plain"})})}),h.jsx(nfe,{data:e,tableHeaders:t})]})},tfe=(e,t)=>e.data.subjectId===t.data.subjectId&&"seat"in e=="seat"in t&&e.tableHeaders===t.tableHeaders,nfe=I.memo(({data:e,tableHeaders:t})=>{const{selectTargetOnly:n}=Mp();function r(){n(e.subjectId),n1(e.departmentCode??e.deptCd)}return t.slice(1,20).map(({key:i})=>h.jsx("td",{className:"px-4 py-2 text-center",children:h.jsx(ii,{to:`/wishes/${e.subjectId}`,onClick:r,children:h.jsx(rfe,{data:e,headerType:i})})},i))},tfe);function rfe({data:e,headerType:t}){switch(t){case"":return h.jsx(h.Fragment,{children:""});case"totalCount":return h.jsx(kI,{wishCount:e.totalCount??-1});case"seat":return h.jsx(Pw,{seat:e.seat});default:return e[t]?.toString()}}function ife(){const[e,t]=I.useState(!1),[n,r]=I.useState(!1),i=wh(M=>M.filters),s=wh(M=>M.setFilter),o=wh(M=>M.resetFilters),{keywords:a,favoriteOnly:l}=i,c=s2(M=>M.tableTitles),f=s2(M=>M.setTableTitles),p=fs(),[g,y]=I.useState(!1),{data:b}=DI([]),_=Ap(b??[]).sort((M,U)=>M.localeCompare(U)).map(M=>M),C=J_(i),k=b&&"seat"in b,{isPreSeatAvailable:P}=i1({hasSeats:k}),O=b&&"totalCount"in b,$=()=>s("favoriteOnly",!l),B=()=>{p?y(!0):r(!0)},j=(M,U)=>{const z=i[M];Array.isArray(z)?s(M,z.filter(D=>D!==U)):s(M,El[M])};return h.jsxs("div",{className:"flex flex-wrap gap-2 mt-4 lg:flex-wrap lg:flex-row lg:items-center lg:gap-y-0 lg:gap-x-2",children:[e&&h.jsx(pN,{initialItems:c,onChange:f,onClose:()=>t(!1)}),n&&h.jsx(sS,{filterStore:wh,onClose:()=>r(!1)}),g&&h.jsx(oS,{onCloseFiltering:()=>y(!1),filters:i,setFilter:s,resetFilter:o}),h.jsx(uc,{type:"text",placeholder:",      ",value:a,onDelete:()=>s("keywords",""),onChange:M=>s("keywords",M.target.value),className:"w-full"}),h.jsxs("div",{className:"flex items-center flex-wrap mt-2 gap-2",children:[h.jsxs("div",{className:"hidden md:flex flex-wrap gap-2",children:[h.jsx(rS,{setFilter:s,selectedValue:i.department??""}),O&&h.jsx(Gd,{filterKey:"wishRange",options:An.wishRange,selectedValue:i.wishRange??null,setFilter:s,ItemComponent:Xn,isMinMax:!0}),P&&h.jsx(Gd,{filterKey:"seatRange",options:An.seatRange,selectedValue:i.seatRange??null,setFilter:s,ItemComponent:Xn,isMinMax:!0}),h.jsx(rr,{filterKey:"days",options:An.days,selectedValues:i.days??[],setFilter:s}),h.jsx(rr,{filterKey:"credits",options:An.credits,selectedValues:i.credits??[],setFilter:s}),h.jsx(rr,{filterKey:"grades",options:An.grades,selectedValues:i.grades??[],setFilter:s}),i.classroom.length>0&&h.jsx(rr,{filterKey:"classroom",options:An.classRoom,selectedValues:i.classroom??[],setFilter:s,className:"min-w-max"}),i.note.length>0&&h.jsx(rr,{filterKey:"note",options:An.remark,selectedValues:i.note??[],setFilter:s}),i.categories.length>0&&h.jsx(rr,{filterKey:"categories",options:_,selectedValues:i.categories??[],setFilter:s,className:"min-w-max"})]}),h.jsx(iS,{filters:i,resetFilter:o}),h.jsx(nS,{handleOpenFilter:B}),h.jsx(Tr,{variant:"contain",icon:h.jsx(bP,{disabled:!l}),"aria-label":l?"  ":"  ",label:l?"  ":"  ",onClick:$}),h.jsx(Tr,{variant:"contain",label:" ",icon:h.jsx(aS,{className:"w-5 h-5"}),onClick:()=>t(!0)}),h.jsx(Pe,{direction:"flex-wrap",gap:"gap-2",className:"w-fit md:hidden",children:C.map(M=>h.jsx(Xn,{variant:"cancel",label:M.label,selected:!0,onClick:()=>j(M.filterKey,M.values)},`${M.filterKey}-${M.values}`))})]})]})}function sfe(){return h.jsxs(Ju,{to:"/live",state:{openSearch:!0},className:"inline-flex items-center gap-2 rounded-md border border-blue-500 px-3 py-2 text-sm text-blue-500 hover:bg-blue-50",children:[h.jsx(kl,{}),""]})}function ofe(){return h.jsxs(h.Fragment,{children:[h.jsx(Vr,{children:h.jsx("title",{children:"ALLCLL |  "})}),h.jsxs("div",{className:"mx-auto max-w-7xl px-4 md:px-16 mb-8 min-h-screen",children:[h.jsx(qt,{level:1,className:"mt-2",children:" "}),h.jsxs(Gn,{children:["  ",h.jsx("span",{className:"text-blue-500 font-bold",children:" "})," .   ."]}),h.jsxs(Pe,{gap:"gap-4",direction:"flex-col",className:"mt-6",children:[h.jsxs(Yn,{children:[h.jsx(sfe,{}),h.jsx(ife,{}),h.jsx(q_,{})]}),h.jsx(Yn,{variant:"elevated",className:"mt-6 overflow-x-auto",children:h.jsx(afe,{})}),h.jsx(AI,{right:"right-2 sm:right-20"})]})]})]})}function afe(){const{data:e,isPending:t}=Sa(),n=Rp(e1(e,ac)),r=wh(o=>o.filters),i=I.useDeferredValue(df(n??[],r)),s={title:"  .",description:"   ."};return h.jsx(_P,{data:i,isPending:t,placeholder:s})}function lfe({children:e}){return h.jsxs("div",{className:"relative max-h-screen overflow-hidden",children:[h.jsx("div",{style:{filter:"blur(4px"},children:e}),h.jsx("div",{className:"absolute top-0 left-0 w-full h-full flex justify-center items-center",children:h.jsx("p",{className:"text-xl font-bold text-gray-700",children:"  "})})]})}_a.register(D_,uf,lf,jp,Ip,Np);const ufe={labels:["4","3","2","1"],datasets:[{data:[50,40,25,20],backgroundColor:"#60a5fa"}]};function cfe(){return h.jsxs(lfe,{children:[h.jsx("p",{className:"text-sm text-gray-500",children:"   20%      "}),h.jsx("div",{className:"mt-4",children:h.jsx(nee,{data:ufe})})]})}_a.register(D_,uf,lf,jp,Ip,Np);var SP=(e=>(e.MAJOR="/",e.UNIVERSITY="",e.DEPARTMENT="",e.COLLEGE="",e))(SP||{});function dfe({data:e,majorName:t}){const[n,r]=I.useState("/"),{data:i}=oc(),s=xee(i),{doughnutData:o,totalCount:a}=ffe(e,s,t,n);return h.jsxs(h.Fragment,{children:[h.jsxs(Pe,{justify:"justify-between",align:"items-center",children:[h.jsx(qt,{level:2,children:" "}),h.jsx(Br,{className:"hidden",htmlFor:"doughnut-select",children:""}),h.jsx("select",{className:"border px-3 py-1 rounded-md",id:"doughnut-select",value:n,onChange:l=>r(l.target.value),children:Object.values(SP).map(l=>h.jsx("option",{value:l,children:l},l))})]}),a?h.jsx(gI,{data:o}):h.jsx(Pe,{justify:"justify-center",align:"items-center",className:"h-48",children:h.jsx("p",{className:"text-center text-gray-500 font-semibold",children:"   ."})})]})}function ffe(e,t,n,r){let i;const{universityDict:s,collegeDict:o}=t;switch(r){case"/":i=_ee(n,e);break;case"":i=See(e,s);break;case"":i=Cee(e,o);break;case"":i=jE(e);break;default:i=jE(e);break}const a=kee(e);return{doughnutData:i,totalCount:a}}function hfe({wishes:e}){const t=e??ac,n=e&&"seat"in e,{isPreSeatAvailable:r}=i1({hasSeats:n}),i=n?e.seat:-1,s=e?.curiLangNm==="",o=e?.isDeleted??!1;return h.jsxs(h.Fragment,{children:[h.jsxs("p",{className:"text-gray-600",children:[t.subjectCode,"-",t.classCode," | ",t.departmentName," | ",t.professorName]}),h.jsxs(Pe,{gap:"gap-2",align:"items-center",direction:"flex-wrap",className:"text-gray-600 text-sm",children:[h.jsxs("span",{children:[t.studentYear,""]}),h.jsx("span",{children:t.curiTypeCdNm}),h.jsxs("span",{children:[Number(t.tmNum.split("/")[0].trim()),""]}),h.jsxs("span",{children:[" ","| ",t.lesnRoom," | ",t.lesnTime]}),r&&h.jsxs("p",{className:`text-sm px-2 py-1 rounded-full font-bold ${Jy(i??-1)}`,children:[": ",(i??-1)<0?"???":i]}),s&&h.jsx(a8,{variant:"success",children:""}),o&&h.jsx(a8,{variant:"danger",children:""})]}),h.jsx("p",{className:"text-sm text-gray-500",children:t.remark})]})}function a8({variant:e,children:t}){const n=pfe(e);return h.jsx("div",{className:`${n} rounded px-2 py-1 text-xs font-semibold`,children:t})}function pfe(e){switch(e){case"success":return"bg-green-100 text-green-500 ";case"warning":return"bg-yellow-100 text-yellow-500 ";case"danger":return"bg-red-100 text-red-500 ";case"default":return"bg-gray-100 text-gray-500 ";default:return""}}function CP(e){const{data:t}=Sa(),n=e1(t,ac);if(!n)return{isPending:!0};const r=n?.find(i=>i.subjectId===e);return{isPending:!1,data:r,isLastSemesterWish:!r}}function mfe(e){const{data:t}=Sa(),{data:n}=CP(e),r=e1(t,ac),i=n?.subjectCode??"";return r?{isPending:!1,data:r.filter(o=>o.subjectCode===i&&o.subjectId!==e)}:{isPending:!0}}function gfe(e){return lo({queryKey:["detail-registers",e],queryFn:()=>Pte(e),staleTime:1/0,retry:yfe})}const yfe=(e,t)=>e>=3?!1:!(t instanceof H_);function vfe(){const e=Y8(),t=Number(e.id??"-1"),{data:n,isPending:r,isLastSemesterWish:i}=CP(t),{data:s,error:o}=gfe(t),a=n??ac,l=n&&"totalCount"in n;if(r||!a)return h.jsxs(h.Fragment,{children:[h.jsx(Vr,{children:h.jsx("title",{children:"ALLCLL |   "})}),h.jsx("div",{className:"min-h-screen bg-gray-50 flex justify-center items-center",children:h.jsx("h1",{className:"text-2xl font-bold",children:"Loading..."})})]});if(o)throw o;return h.jsxs(h.Fragment,{children:[h.jsx(Vr,{children:h.jsx("title",{children:"ALLCLL |   "})}),i&&h.jsx("p",{className:"bg-red-100 text-red-500 py-2 px-4 font-bold",children:"   .   ."}),h.jsx("div",{className:"min-h-screen bg-gray-50",children:h.jsx("div",{className:"p-6 max-w-5xl mx-auto",children:h.jsxs(Yn,{children:[h.jsxs(Pe,{justify:"justify-between",align:"items-center",children:[h.jsx(qt,{level:1,children:a.subjectName}),h.jsxs(Pe,{gap:"gap-2",children:[h.jsx(wP,{subject:a}),h.jsx(lN,{subject:a})]})]}),h.jsx(hfe,{wishes:n}),h.jsxs(Ol,{columns:{md:2,base:1},gap:"gap-6",className:" mt-6",children:[h.jsx(Yn,{className:"p-6",children:h.jsx(dfe,{data:s?.eachDepartmentRegisters??[],majorName:a.departmentName??a.manageDeptNm})}),h.jsxs(Yn,{children:[h.jsxs(Pe,{gap:"gap-2",align:"items-center",className:"mb-4",children:[h.jsx(qt,{level:2,children:"  "}),l&&h.jsxs("p",{className:`${Uee(a.totalCount??-1)} font-bold text-xl`,children:[" ",a.totalCount,""]})]}),h.jsx(cfe,{})]})]}),h.jsxs(Yn,{children:[h.jsx(qt,{level:2,className:"mt-2",children:" "}),h.jsx(Gn,{children:"   "}),h.jsx("div",{className:"overflow-x-auto",children:h.jsx(xfe,{subjectId:t})})]})]})})})]})}function xfe({subjectId:e}){const{data:t}=mfe(e),n={title:"   ."};return h.jsx(_P,{data:t??[],placeholder:n})}const Sh=()=>{const e=v2();return I.useEffect(()=>{F2(e,{extra:{url:window.location.href,userAgent:navigator.userAgent}})},[e]),h.jsxs(h.Fragment,{children:[h.jsx(Vr,{children:h.jsx("title",{children:"ALLCLL |  "})}),h.jsxs("div",{className:"flex flex-col items-center justify-center h-screen",children:[h.jsx("h1",{className:"text-4xl font-bold mb-4",children:" "}),h.jsx("p",{className:"text-lg mb-4",children:" .    "}),h.jsx(ii,{to:"/",className:"text-blue-500",children:" "}),h.jsx("a",{href:"https://forms.gle/bCDTVujEHunnvHe88",target:"_blank",className:"text-blue-500",children:""})]})]})},kP=()=>h.jsxs(h.Fragment,{children:[h.jsx(Vr,{children:h.jsx("title",{children:"ALLCLL |    "})}),h.jsxs(Pe,{direction:"flex-col",align:"items-center",justify:"justify-center",gap:"gap-2",className:"h-screen",children:[h.jsx(qt,{level:1,children:"404 -    "}),h.jsx("p",{className:"text-lg mb-4",children:"   "}),h.jsx(ii,{to:"/",className:"text-blue-500",children:" "})]})]}),bfe=()=>{const e=v2();return e instanceof H_||e instanceof Ite?h.jsx(kP,{}):h.jsx(Sh,{})},vr=oi((e,t)=>({type:null,props:void 0,openModal:(n,r)=>{e({type:n,props:r})},closeModal:n=>{const r=t().type;(!n||r===n)&&e({type:null,props:void 0})}}));function dc(){const{data:e,isLoading:t}=Os(),{data:n,isLoading:r}=oc(),i=t||r;return i||!e||!n?{data:[],isLoading:i}:{data:wfe(e,n),isLoading:!1}}function wfe(e,t){return e.map(n=>{const r=t.find(s=>s.departmentCode===n.deptCd)?.departmentName||"",i=r?r.split(" ").reverse()[0]:"";return{subjectId:n.subjectId??-1,subjectCode:n.subjectCode??"",classCode:n.classCode??"",departmentName:i,subjectName:n.subjectName??"",language:n.curiLangNm??"",subjectType:n.curiTypeCdNm??"",semester_at:n.studentYear?Number(n.studentYear):-1,lesn_time:n.lesnTime??"",professorName:n.professorName??"",lesn_room:n.lesnRoom??"",tm_num:n.tmNum??""}})}function _fe(){return Math.floor(1e3+Math.random()*9e3).toString()}const Sfe=4;function Cfe(){const e=I.useRef(null),[t,n]=I.useState(),[r,i]=I.useState(""),s=I.useRef(""),{data:o}=dc(),a=vr(C=>C.openModal),l=vr(C=>C.closeModal),{currentSubjectId:c,setSubjectStatus:f,setCaptchaFailed:p}=Gy();function g(){const C=_fe();s.current=C,setTimeout(()=>{e.current&&jw(e.current,C)},100)}function y(C){let k=C.target.value;if(/[^0-9]/.test(k)){i("0~9  "),n(k.replace(/[^0-9]/g,""));return}k.length<=Sfe?(n(k),i("")):i("4  ")}I.useEffect(()=>{setTimeout(()=>{g()},100)},[]);function b(){aa({eventType:yr.CAPTCHA,subjectId:c},o).then(()=>{t?.toString()===s.current?(f(c,hn.PROGRESS),p(!1)):(f(c,hn.PROGRESS),p(!0))}).then(()=>{l(),a("simulation")})}function _(){aa({eventType:yr.CANCEL_SUBMIT,subjectId:c},o).then(()=>{l("captcha"),p(!1),f(c,hn.PROGRESS)})}return h.jsx(pn.Modal,{preventAutoFocus:!0,children:h.jsxs("div",{className:"sm:w-[500px]",children:[h.jsx(pn.Modal.Header,{title:"  (Arti-marco code input)",onClose:_}),h.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-4 p-4",children:[h.jsxs("div",{className:"flex flex-col",children:[h.jsxs("div",{className:"text-sm font-semibold flex flex-row items-center",children:[h.jsx("span",{className:"inline-block w-1.5 h-5 bg-blue-500 mr-2 "})," ",h.jsx("button",{onClick:g,className:"ml-2 px-2 py-1 bg-blue-500 text-white text-sm rounded-xs cursor-pointer hover:bg-blue-600",children:""})]}),h.jsx("div",{className:"flex items-center mt-1",children:h.jsx("canvas",{id:"captcha",width:"105",height:"50",ref:e})})]}),h.jsxs("div",{children:[h.jsxs("div",{className:"text-sm font-semibold flex flex-row items-center",children:[h.jsx("span",{className:"inline-block w-1.5 h-5 bg-blue-500 mr-2 "}),"  "]}),h.jsx(pn.Input,{value:t,onChange:C=>y(C),className:"mt-2 w-full",placeholder:" ",essential:!0}),h.jsx("span",{className:"pl-1 text-xs text-red-500 ",children:r})]})]}),h.jsx("p",{className:"text-sm text-gray-800 mt-10 p-4",children:"               ."}),h.jsxs(pn.Modal.ButtonContainer,{className:"px-6 py-2 bg-gray-100",children:[h.jsx(pn.Modal.Button,{variant:"cancel",onClick:b,children:""}),h.jsx(pn.Modal.Button,{variant:"cancel",onClick:_,children:""})]})]})})}const kfe=e=>I.createElement("svg",{width:50,height:50,viewBox:"0 0 50 50",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},I.createElement("circle",{cx:25,cy:25,r:25,fill:"#7890CE"}),I.createElement("path",{d:"M20.2339 29.5078L35.0317 17.4276C35.3809 17.1425 35.7883 17 36.2539 17C36.7196 17 37.127 17.1425 37.4762 17.4276C37.8254 17.7127 38 18.0515 38 18.4439C38 18.8364 37.8254 19.1747 37.4762 19.4588L21.4562 32.5724C21.107 32.8575 20.6995 33 20.2339 33C19.7683 33 19.3609 32.8575 19.0117 32.5724L11.5037 26.4432C11.1545 26.1581 10.9868 25.8198 11.0008 25.4283C11.0148 25.0368 11.1969 24.6981 11.5473 24.412C11.8977 24.126 12.3127 23.9835 12.7923 23.9844C13.2718 23.9854 13.6862 24.1279 14.0354 24.412L20.2339 29.5078Z",fill:"white"})),l8={simulationId:-1,registeredSubjects:[],nonRegisteredSubjects:[],simulationStatus:"before",clickedTime:0},Wi=oi(e=>({currentSimulation:l8,setCurrentSimulation:t=>e(n=>({currentSimulation:{...n.currentSimulation,...t}})),resetSimulation:()=>e({currentSimulation:l8})})),Efe=[{status:hn.PROGRESS,topMessage:"   ?",description:"(CourseTitle):"},{status:hn.SUCCESS,topMessage:"  .   ?",description:"    []  .         []      . []     ."},{status:hn.FAILED,topMessage:"  !"},{status:hn.DOUBLED,topMessage:"   !"},{status:hn.CAPTCHA_FAILED,topMessage:"   "},{status:hn.NOT_ELIGIBLE,topMessage:"   "}],Tfe=[hn.PROGRESS,hn.SUCCESS,hn.FAILED,hn.CAPTCHA_FAILED];function jfe({reloadSimulationStatus:e}){const t=vr(j=>j.openModal),n=vr(j=>j.closeModal),{currentSubjectId:r,setSubjectStatus:i,subjectStatusMap:s}=Gy(),o=Wi(j=>j.setCurrentSimulation),{data:a}=dc(),l=s[r],c=Efe.find(j=>j.status===l),f=c?.status??hn.PROGRESS,p=[hn.FAILED,hn.DOUBLED,hn.CAPTCHA_FAILED].includes(f),g=Tfe.includes(f),y=I.useRef(null);if(!c)return null;y.current?.focus();const b=(j,M=!1)=>{if("errMsg"in j)throw alert(j.errMsg),M&&Rd().then(()=>{t("result")}),new Error(j.errMsg)},_=j=>{console.error(" :",j),alert(" :"+j.toString())},C=async j=>{const M=await aa({eventType:yr.SUBJECT_SUBMIT,subjectId:j},a);b(M),i(j,M.status),t("simulation")},k=async j=>{const M=await aa({eventType:yr.REFRESH,subjectId:j},a);b(M),e(),M.finished&&(o({simulationStatus:"finish"}),console.log(" "),t("result"))},P=async j=>{try{const M=await aa({eventType:yr.SKIP_REFRESH,subjectId:j},a);"errMsg"in M?(alert(M.errMsg),await Rd(),o({simulationStatus:"finish"}),t("result")):M.finished&&(o({simulationStatus:"finish"}),t("result"))}catch(M){console.error(M)}finally{n("simulation")}},O=async()=>{try{c.status===hn.PROGRESS?await C(r):c?.status===hn.SUCCESS?await k(r):p&&await P(r)}catch(j){_(j)}},$=async()=>{try{if(c?.status===hn.SUCCESS){const j=await aa({eventType:yr.SKIP_REFRESH,subjectId:r},a);"errMsg"in j?(alert(j.errMsg),await Rd(),o({simulationStatus:"finish"}),t("result")):j.finished?(o({simulationStatus:"finish"}),t("result")):n("simulation")}else if(c?.status===hn.PROGRESS){const j=await aa({eventType:yr.CANCEL_SUBMIT,subjectId:r},a);b(j,!0)}}catch(j){_(j)}},B=()=>{g||n("simulation")};return h.jsx(pn.Modal,{children:h.jsxs("div",{className:"flex sm:w-[450px] border-1 border-gray-800 flex-col justify-between overflow-hidden",children:[h.jsx(pn.Modal.Header,{title:"",onClose:B}),h.jsxs("div",{className:"px-6 pb-6 text-center ",children:[h.jsx("div",{className:"flex justify-center mb-4 py-5",children:h.jsx("div",{className:"w-10 h-10",children:h.jsx(kfe,{})})}),h.jsx("p",{className:"text-gray-700 text-base mb-4",children:c.topMessage}),c.description&&h.jsx("p",{className:"text-sm text-gray-700 whitespace-pre-line",children:c.description})]}),h.jsxs(pn.Modal.ButtonContainer,{className:"px-6 py-2 bg-gray-100",children:[c.status===hn.PROGRESS||c.status===hn.SUCCESS&&h.jsx(pn.Modal.Button,{variant:"cancel",onClick:$,children:""}),h.jsx(pn.Modal.Button,{variant:"primary",onClick:O,children:""})]})]})})}function Ife(e,t,n){var r,i;typeof e=="function"?(r=t||[],i=n):(r=[],i=t);var s=Sn.useRef({hasResult:!1,result:i,error:null}),o=Sn.useReducer(function(c){return c+1},0);o[0];var a=o[1],l=Sn.useMemo(function(){var c=typeof e=="function"?e():e;if(!c||typeof c.subscribe!="function")throw e===c?new TypeError("Given argument to useObservable() was neither a valid observable nor a function."):new TypeError("Observable factory given to useObservable() did not return a valid observable.");if(!s.current.hasResult&&typeof window<"u"&&(typeof c.hasValue!="function"||c.hasValue()))if(typeof c.getValue=="function")s.current.result=c.getValue(),s.current.hasResult=!0;else{var f=c.subscribe(function(p){s.current.result=p,s.current.hasResult=!0});typeof f=="function"?f():f.unsubscribe()}return c},r);if(Sn.useDebugValue(s.current.result),Sn.useEffect(function(){var c=l.subscribe(function(f){var p=s.current;(p.error!==null||p.result!==f)&&(p.error=null,p.result=f,p.hasResult=!0,a())},function(f){var p=s.current;p.error!==f&&(p.error=f,a())});return typeof c=="function"?c:c.unsubscribe.bind(c)},r),s.current.error)throw s.current.error;return s.current.result}function pf(e,t,n){return Ife(function(){return Iee(e)},[],n)}function u8(){const e=vr(t=>t.closeModal);return h.jsx(pn.Modal,{onBackdropClick:()=>e(),noBorder:!0,children:h.jsxs("div",{className:"p-6 w-80 bg-white rounded shadow",children:[h.jsx("p",{className:"text-sm text-gray-800 mb-4",children:"  ."}),h.jsx("div",{className:"w-full h-4 bg-gray-200 rounded overflow-hidden",children:h.jsx("div",{className:"h-full bg-blue-400 bg-gradient-to-r from-blue-400 to-blue-600 animate-stripes"})})]})})}const hh=1/1e3;async function Nfe(){return{snapshots:(await kt.simulation_run.filter(n=>n.ended_at!==-1).toArray()).sort((n,r)=>r.simulation_run_id-n.simulation_run_id)}}async function Pfe(e){const t=await Dee(e),n=await xI(t.snapshot_id);if(!t||!n)return null;const r=await kt.simulation_run_selections.where("simulation_run_id").equals(t.simulation_run_id).toArray(),i=r.map(c=>c.run_selections_id),s=c=>{const f=n.subjects.find(p=>p.interested_id===c);return f?f.subject_id:-1},o=await kt.simulation_run_events.filter(c=>i.includes(c.simulation_section_id)).toArray(),a=o.filter(c=>c.event_type===yr.CAPTCHA),l=r.reduce((c,f)=>{const p=a.find(g=>g.simulation_section_id===f.run_selections_id);return p?.timestamp?c+p.timestamp-f.started_at:c},0)/r.length;return{started_at:t.started_at,ended_at:t.ended_at,user_ability:{searchBtnSpeed:(t.search_event_at-t.started_at)/1e3,totalSpeed:t.total_elapsed/t.subject_count/1e3,accuracy:t.accuracy,captchaSpeed:l/1e3},timeline:r.map(c=>({interested_id:c.interested_id,subject_id:s(c.interested_id),started_at:c.started_at,ended_at:c.ended_at,status:c.status,events:o.filter(f=>f.simulation_section_id===c.run_selections_id).sort((f,p)=>f.timestamp-p.timestamp).map(f=>({event:f.event_type,timestamp:f.timestamp}))})),subject_results:r.sort((c,f)=>f.started_at-c.started_at).reduce((c,f)=>c.some(p=>p.interested_id===f.interested_id)?c:[...c,f],[]).map(c=>({interested_id:c.interested_id,subject_id:s(c.interested_id),selected_index:c.selected_index,ended_at:c.ended_at,status:c.status}))}}async function EP(){const e=await kt.simulation_run.filter(C=>C.ended_at!==-1).toArray(),t=e.length;if(t===0)throw new Error("    .");const n=await kt.simulation_run_selections.toArray(),r=await Promise.all(e.map(async C=>{const k=await kt.simulation_run_selections.filter(M=>M.simulation_run_id===C.simulation_run_id).toArray(),P=k.map(M=>M.run_selections_id),O=await kt.simulation_run_events.filter(M=>M.event_type===yr.CAPTCHA&&P.includes(M.simulation_section_id)).toArray(),$=(C.search_event_at-C.started_at)*hh,B=O.reduce((M,U)=>{const z=k.find(D=>D.run_selections_id===U.simulation_section_id);return z?M+(U.timestamp-z.started_at):M},0)*hh,j=k.reduce((M,U)=>U.ended_at>=0?M+(U.ended_at-U.started_at):M,0)*hh;return{simulationRunId:C.simulation_run_id,accuracy:C.accuracy,subjectCount:C.subject_count,searchBtnTime:$,captchaTime:B+$,subjectTime:j+$,totalTime:C.total_elapsed*hh}})),i=await kt.interested_snapshot.filter(C=>C.simulated).last();if(!i)throw new Error("   .");const o=(await kt.interested_subject.filter(C=>C.snapshot_id===i.snapshot_id).toArray()).map(C=>{const k=n.filter(z=>z.interested_id===C.interested_id),P=k.filter(z=>z.status===hn.SUCCESS).length,O=k.filter(z=>z.status===hn.FAILED).length,$=k.filter(z=>z.status===hn.DOUBLED).length,B=k.length,j=k.reduce((z,D)=>z+D.selected_index,0)/B||0,M=k.filter(z=>z.ended_at>=0&&z.started_at>=0).map(z=>(z.ended_at-z.started_at)*hh),U=Rfe(M);return{subjectId:C.subject_id,successCount:P,failedCount:O,doubledCount:$,totalCount:B,avgCompletionTime:U,avgIndex:j}}),a=new Map;for(const C of n){const k=C.simulation_run_id,P=e.find(M=>M.simulation_run_id===k);if(!P)continue;const O=await xI(P.snapshot_id);if(!O)continue;const $=O.subjects.find(M=>M.interested_id===C.interested_id);if(!$)continue;const B=$.subject_id;a.has(B)||a.set(B,{subject_id:B,success_count:0,total_count:0,completion_time_sum:0});const j=a.get(B);j.total_count++,C.status===1&&(j.success_count++,j.completion_time_sum+=C.ended_at-C.started_at)}const l=Array.from(a.values()).map(C=>({subject_id:C.subject_id,success_count:C.success_count,total_count:C.total_count,success_rate:C.success_count/C.total_count,avg_completion_time:C.success_count>0?C.completion_time_sum/C.success_count/1e3:0})),c=n.reduce((C,k)=>(C[k.status]=(C[k.status]||0)+1,C),{}),f=n.length,p=Object.entries(c).map(([C,k])=>({status:Number(C),count:k,percentage:k/f})),g=e.map(C=>C.simulation_run_id),y=n.filter(C=>g.includes(C.simulation_run_id)).map(C=>C.run_selections_id),b=await kt.simulation_run_events.filter(C=>y.includes(C.simulation_section_id)&&C.event_type===yr.CAPTCHA).toArray();let _=0;for(const C of b){const k=n.find(P=>P.run_selections_id===C.simulation_section_id);k&&(_+=C.timestamp-k.started_at)}return{total_users:t,avg_started_at:e.reduce((C,k)=>C+k.started_at,0)/t,avg_ended_at:e.reduce((C,k)=>C+k.ended_at,0)/t,avg_elapsed_time:e.reduce((C,k)=>C+(k.ended_at-k.started_at),0)/t/1e3,subject_success_rate:l,status_distribution:p,simulations:r,subjects:o}}function Rfe(e){return e.length===0?0:e.reduce((t,n)=>t+n,0)/e.length}function Ofe({simulationId:e}){const t=vr(k=>k.type),n=vr(k=>k.openModal),r=vr(k=>k.closeModal),[i,s]=I.useState(null),[o,a]=I.useState(),l=t==="result",c=pf(async()=>{try{return await EP()}catch(k){return{error:k.message}}});if(c&&"error"in c)return h.jsx("div",{className:"flex flex-col w-full items-center justify-center h-120 gap-3"});const{simulations:f}=c||{simulations:[]},p=c?{user_ability:{searchBtnSpeed:f.reduce((k,P)=>k+P.searchBtnTime,0)/f.length||0,totalSpeed:f.reduce((k,P)=>k+P.totalTime/P.subjectCount,0)/f.length||0,accuracy:f.reduce((k,P)=>k+P.accuracy,0)/f.length||0,captchaSpeed:f.reduce((k,P)=>k+(P.captchaTime-P.searchBtnTime)/P.subjectCount,0)/f.length||0}}:void 0;if(I.useEffect(()=>{async function k(){Fee({simulationId:e}).then(P=>{"errMsg"in P?P.errMsg===bI.SIMULATION_NOT_FOUND?r():alert(P.errMsg):(s(P),a(e))})}k().then()},[]),!i)return h.jsx(u8,{});const{accuracy:g,score:y,total_elapsed:b}=i,_=y>=70,C=p?.user_ability?.searchBtnSpeed??0;return!p||!c?h.jsx(u8,{}):h.jsx(Jn,{title:"",onClose:r,isOpen:l,children:h.jsxs(Jn.Content,{children:[h.jsxs("div",{className:"w-full max-w-md bg-white rounded-xl shadow-xl p-6 relative overflow-hidden",children:[_&&h.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[h.jsx("div",{className:"animate-float1 absolute top-6 left-6 w-3 h-3 bg-red-400 rounded-full"}),h.jsx("div",{className:"animate-float2 absolute top-16 right-10 w-2 h-2 bg-yellow-400 rounded-full"}),h.jsx("div",{className:"animate-float3 absolute bottom-20 left-12 w-2.5 h-2.5 bg-blue-400 rounded-full"}),h.jsx("div",{className:"animate-float4 absolute bottom-10 right-6 w-3 h-3 bg-pink-400 rounded-full"}),h.jsx("div",{className:"animate-float5 absolute top-1/2 left-1/2 w-2 h-2 bg-purple-400 rounded-full"})]}),h.jsxs("div",{className:"relative z-10 text-center",children:[h.jsxs("h2",{className:"text-xl font-bold text-gray-900",children:[" ",h.jsx("span",{className:_?"text-blue-600":"text-red-500",children:_?" !":" "})]}),h.jsxs("span",{className:"text-sm text-gray-700 mt-1",children:[" ",_?" ":" ",""]}),h.jsxs("div",{className:"flex flex-col justify-center items-center",children:[h.jsx("div",{className:"m-2 flex justify-center",children:_?h.jsx("img",{src:"/ci.svg",alt:" ",className:"w-20 h-20"}):h.jsx("span",{className:"text-[50px]",children:""})}),h.jsxs("div",{className:"flex flex-row justify-center gap-6 mt-6",children:[h.jsxs("div",{className:"flex flex-col items-center",children:[h.jsx("p",{className:"text-sm text-gray-800 mb-1",children:""}),h.jsxs("p",{className:"text-xl text-blue-500 font-bold whitespace-nowrap",children:[y.toFixed(1),h.jsx("span",{className:"text-gray-600",children:""})]})]}),h.jsxs("div",{className:"flex flex-col items-center",children:[h.jsx("p",{className:"text-sm text-gray-800 mb-1",children:" "}),h.jsxs("p",{className:"text-xl text-gray-600 font-bold whitespace-nowrap",children:[(b/1e3).toFixed(0),""]})]})]}),h.jsxs("div",{className:"flex flex-row justify-center gap-6 mt-6",children:[h.jsxs("div",{className:"flex flex-col items-center",children:[h.jsx("p",{className:"text-sm text-gray-800 mb-1",children:"    "}),h.jsxs("p",{className:"text-xl text-blue-500 font-bold whitespace-nowrap",children:[p?.user_ability.captchaSpeed.toFixed(2),h.jsx("span",{className:"text-gray-600",children:""})]})]}),h.jsxs("div",{className:"flex flex-col items-center",children:[h.jsx("p",{className:"text-sm text-gray-800 mb-1",children:"    "}),h.jsxs("p",{className:"text-xl text-blue-500 font-bold whitespace-nowrap",children:[C<=0?0:C.toFixed(2),h.jsx("span",{className:"text-gray-600",children:""})]})]})]})]}),h.jsx("div",{className:"text-left text-sm text-gray-800 mt-4 mb-1",children:""}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("div",{className:"w-full h-3 bg-gray-200 rounded-full overflow-hidden",children:h.jsx("div",{className:"h-3 bg-indigo-400 rounded-full transition-all duration-300",style:{width:`${g}%`}})}),h.jsxs("p",{className:"text-xl text-gray-600 font-bold whitespace-nowrap",children:[g,"%"]})]}),h.jsxs("div",{className:"flex justify-center gap-3 mt-6",children:[h.jsx("button",{className:"px-4 py-2 border border-gray-400 text-gray-800 rounded-md hover:bg-gray-100 text-sm",onClick:()=>{r(),n("wish")},children:" "}),h.jsx(Ju,{to:`/simulation/logs/${o}`,end:!1,className:"px-4 py-2  bg-blue-500 text-white rounded-md hover:bg-blue-600 text-sm",onClick:()=>{r()},children:"   "})]})]})]}),h.jsx("style",{children:`
        @keyframes float1 {
          0% { transform: translateY(0); }
          50% { transform: translateY(-8px); }
          100% { transform: translateY(0); }
        }
        @keyframes float2 {
          0% { transform: translateY(0); }
          50% { transform: translateY(6px); }
          100% { transform: translateY(0); }
        }
        @keyframes float3 {
          0% { transform: translateY(0); }
          50% { transform: translateY(-6px); }
          100% { transform: translateY(0); }
        }
        @keyframes float4 {
          0% { transform: translateY(0); }
          50% { transform: translateY(4px); }
          100% { transform: translateY(0); }
        }
        @keyframes float5 {
          0% { transform: translateY(0); }
          50% { transform: translateY(-5px); }
          100% { transform: translateY(0); }
        }

        .animate-float1 { animation: float1 3s ease-in-out infinite; }
        .animate-float2 { animation: float2 4s ease-in-out infinite; }
        .animate-float3 { animation: float3 2.5s ease-in-out infinite; }
        .animate-float4 { animation: float4 3.5s ease-in-out infinite; }
        .animate-float5 { animation: float5 3s ease-in-out infinite; }
      `})]})})}function Mfe(){return h.jsxs("div",{className:"mt-6 text-sm text-gray-800 space-y-2",children:[h.jsx(qt,{level:4,children:" Tip!"}),["      .","    .","       !","    ."].map((e,t)=>h.jsxs(Pe,{className:"text-xs",children:[h.jsx("span",{className:"text-blue-500 mr-2",children:h.jsx(dN,{})}),h.jsx("span",{className:t===0?"font-semibold text-blue-500 animate-bounce":"text-gray-600",children:e})]},t))]})}function Afe({department:e,setDepartment:t}){const{data:n}=oc(),r=i=>{const s=i.target.value,o=n?.find(a=>a.departmentCode===s)?.departmentName??"";t({departmentName:o,departmentCode:s})};return I.useEffect(()=>{if(!n)return;const s=FI().filter(([l])=>l!=="9005");if(s.length<=0)return;const o=s[0][0],a=n.find(l=>l.departmentCode===o)?.departmentName??"";t({departmentName:a,departmentCode:o})},[n]),h.jsxs("div",{className:"flex flex-col gap-2",children:[h.jsx(Br,{children:" ."}),h.jsx(l1,{className:"cursor-pointer rounded-sm px-2 py-1 w-50 sm:w-120 bg-white mb-4",value:e.departmentCode,onChange:r})]})}function Dfe({selectedTimetable:e,onSelect:t,timetables:n}){const r=n.map(i=>({value:i.timeTableId,label:i.timeTableName}));return h.jsxs(Pe,{direction:"flex-col",gap:"gap-2",children:[h.jsx(Br,{children:" ."}),h.jsxs(Pe,{gap:"gap-2",children:[h.jsx(Ol,{columns:{sm:2,md:3},gap:"gap-2",className:"flex-1",children:r.map(i=>h.jsx(Xn,{label:i.label,selected:e.timeTableId===i.value,onClick:()=>t(i.value)},i.value))}),h.jsx(Dt,{variant:"text",size:"small",textColor:"gray",children:h.jsx(ii,{to:"/timetable",children:"+   "})})]})]})}const Lfe=5;function o2(e,t){const n=new Set,r=[];for(const i of[...e].sort(()=>Math.random()-.5)){if(n.size>=t)break;n.has(i.subjectCode)||(n.add(i.subjectCode),r.push(i))}return r}function TP(e){const t=e.split(" ");return t.findIndex(r=>r.includes(""))!==-1?t.slice(1).join(" ").trim():e}function jP(e,t){const n=r=>r.replace(/(||)$/,"");return n(e)===n(t)}function Ffe(e){return Lfe-e+1}const Bfe=(e,t)=>{if(t==="")return IP(e);const n=TP(t),r=e.filter(f=>jP(f.departmentName,n)),i=e.filter(f=>f.departmentName===""),s=r.filter(f=>f.professorName!==null&&f.lesn_time!==null),o=o2(s,3),a=i.filter(f=>f.professorName!==null&&f.lesn_time!==null),l=o2(a,Ffe(o.length+1)),c=[...o,...l];for(let f=c.length-1;f>0;f--){const p=Math.floor(Math.random()*(f+1));[c[f],c[p]]=[c[p],c[f]]}return c},a2=(e,t)=>e.find(n=>t===n.subjectId),IP=e=>o2(e,5),zfe=(e,t)=>{const n=TP(t);if(n==="")return IP(e);const r=e.filter(c=>jP(c.departmentName,n)),i=e.filter(c=>c.departmentName===""),s=c=>{const f=new Set;return c.filter(p=>f.has(p.subjectCode)?!1:(f.add(p.subjectCode),!0))},o=s(r).slice(0,3),a=5-o.length,l=s(i).slice(0,a);return[...o,...l]},$fe=e=>{let t=0;const n=[];for(const r of e){const i=Number(r.tm_num.split("/")[0])||0;if(t+i>24)break;t+=i,n.push(r)}return n};function Ufe({subjects:e,handleRemakeSubjects:t,isLoadingLectures:n}){const r=e?.reduce((i,s)=>{if(!s.tm_num)return i;const o=s?.tm_num.split("/")[0]??"0",a=Number(o)||0;return i+a},0);return h.jsxs(h.Fragment,{children:[h.jsxs(Pe,{direction:"flex-row",justify:"justify-between",align:"items-center",children:[h.jsxs(Pe,{align:"items-center",children:[h.jsx(Br,{children:" "}),t&&h.jsx(Dt,{onClick:t,size:"small",variant:"text",children:" "})]}),h.jsxs(Gn,{children:[h.jsx("span",{className:"text-blue-500",children:r})," "]})]}),h.jsx("div",{className:"overflow-x-auto overflow-y-auto sm:max-w-full",children:h.jsxs("table",{className:"min-w-full sm:text-sm text-xs text-left whitespace-nowrap border-t border-b border-gray-200",children:[h.jsx("thead",{className:"bg-gray-100 text-gray-700",children:h.jsxs("tr",{children:[h.jsx("th",{className:"px-4 py-2",children:""}),h.jsx("th",{className:"px-4 py-2",children:""}),h.jsx("th",{className:"px-4 py-2",children:""}),h.jsx("th",{className:"px-4 py-2",children:""}),h.jsx("th",{className:"px-4 py-2",children:""})]})}),h.jsx(Hfe,{subjects:e,isLoadingLectures:n})]})})]})}function Hfe({subjects:e,isLoadingLectures:t}){return t?h.jsx(ap,{col:5,row:8}):e.length===0?h.jsx(eS,{col:5,title:"  .",description:"       ."}):h.jsx("tbody",{children:t?h.jsx(ap,{col:5,row:8}):e.map((n,r)=>h.jsxs("tr",{className:"border border-gray-200",children:[h.jsx("td",{className:"px-4 py-2",children:n.subjectCode}),h.jsx("td",{className:"px-4 py-2",children:n.classCode}),h.jsx("td",{className:"px-4 py-2",children:n.departmentName}),h.jsx("td",{className:"px-4 py-2",children:n.subjectName}),h.jsx("td",{className:"px-4 py-2",children:n.professorName})]},n.subjectId??r))})}const Wfe=({simulationSubjects:e,handleStartGame:t,setToggleTip:n})=>h.jsxs("div",{className:"flex justify-end gap-2 px-2 pb-2 sm:px-6 sm:pb-6",children:[h.jsx(Dt,{variant:"primary",size:"medium",onClick:()=>n(!0),children:" "}),h.jsx(Dt,{variant:"outlined",size:"medium",onClick:t,disabled:e.length===0,children:""})]}),Vfe={departmentCode:"",departmentName:""};function qfe({timetables:e,setIsModalOpen:t}){const n=Wi(D=>D.setCurrentSimulation),r=vr(D=>D.closeModal),{data:i,isLoading:s}=dc(),o=$t(D=>D.currentTimetable),a=$t(D=>D.pickTimetable),[l,c]=I.useState([]),[f,p]=I.useState({...Vfe}),[g,y]=I.useState(o??{timeTableId:-1,timeTableName:"  ",semester:Vu[0]}),[b,_]=I.useState("timetable"),[C,k]=I.useState(!1),{data:P,isLoading:O}=nj(g?.timeTableId),$=pf(vI),B=()=>{c(Bfe(i,f.departmentName))},j=async()=>{if(l.length===0){alert("  .    .");return}try{r(),b!=="previous"&&await Pee(l.map(J=>J.subjectId));const D=await Lee("",f.departmentCode,f.departmentName);if("simulationId"in D&&"isRunning"in D&&D.simulationId!==-1&&D.isRunning!==void 0){const{simulationId:J,isRunning:re}=D;n({simulationId:J,simulationStatus:re?"start":"before"})}else console.error("    ",D)}catch(D){console.error("    :",D)}},M=D=>{const ee=e.find(J=>J.timeTableId===D)??{timeTableId:-1,timeTableName:"  ",semester:Vu[0]};if(!ee){console.error("    :",D);return}y(ee),a(ee)},U=D=>{c([]),_(D)},z=D=>i.find(ee=>ee.subjectId===D);return I.useEffect(()=>{if(O||b!=="timetable"||!P||P.length===0)return;const ee=P.filter(re=>re.scheduleType!=="custom").map(re=>z(re.subjectId??0)).filter(re=>!!re),J=$fe(ee);c(J)},[b,P,O,g]),I.useEffect(()=>{b==="random"&&c(zfe(i,f.departmentName))},[b,f]),I.useEffect(()=>{if(b!=="previous"||!$||$.snapshot_id<0||s)return;const ee=$.subjects.map(J=>J.subject_id).map(J=>z(J)).filter(J=>!!J);c(ee)},[b,$,s]),I.useEffect(()=>{$&&$.snapshot_id>=0?_("previous"):e.length>0?_("timetable"):_("random")},[$,e]),h.jsx(Jn,{title:"   ",onClose:()=>t(!1),children:h.jsxs("div",{className:"flex flex-col w-full overflow-y-auto max-h-[90vh] max-w-[900px] sm:min-w-[600px]",children:[h.jsxs("div",{className:"flex flex-col gap-2 p-2 sm:p-6",children:[h.jsx(Br,{children:"  ?"}),h.jsxs("div",{className:"flex gap-2 py-2",children:[$&&h.jsx(Xn,{label:" ",selected:b==="previous",onClick:()=>U("previous")}),h.jsx(Xn,{label:" ",selected:b==="timetable",onClick:()=>U("timetable")}),h.jsx(Xn,{label:" ",selected:b==="random",onClick:()=>U("random")})]}),b==="timetable"&&h.jsx(Dfe,{timetables:e,selectedTimetable:g,onSelect:M}),b==="random"&&h.jsx(Afe,{department:f,setDepartment:p}),h.jsx(Ufe,{isLoadingLectures:s,subjects:l,handleRemakeSubjects:b==="random"?B:void 0}),C&&h.jsx(Mfe,{})]}),h.jsx(Wfe,{simulationSubjects:l,handleStartGame:j,setToggleTip:k})]})})}function Qfe(e,t,n,r,i,s){const o=Math.floor((e+t)/n);let a=r,l=0;for(let c=0;c<=o;c++){const f=c*n;let p=i,g=s;f>4&&(p=48,g=33),a+=p,l+=g}return Math.max(Math.round(a-l),0)}function Kfe(){const[e,t]=I.useState(0),[n,r]=I.useState(0),[i,s]=I.useState(1),[o,a]=I.useState(0),l=I.useRef(null),c=vr(C=>C.closeModal),f=Wi(C=>C.currentSimulation),p=Wi(C=>C.setCurrentSimulation),g=.2,y=98,b=79;I.useEffect(()=>{let C=Math.floor(f.clickedTime/.2)*100+124;const k=C/b*g;for(let P=0;P<=Math.floor(f.clickedTime/g);P++)C+=P*y;r(C),t(Math.ceil(k))},[]),I.useEffect(()=>(l.current=setInterval(()=>{a(k=>{const P=k+1,O=Qfe(P,f.clickedTime,g,i,y,b);return s(O),P});const C=Math.floor((e+f.clickedTime)/.2)*b;n<0?r(0):r(k=>k-C),t(k=>{const P=Math.max(k-1,0);return P===0&&l.current&&(clearInterval(l.current),c()),P})},1e3),()=>{l.current&&clearInterval(l.current)}),[e]);const _=()=>{p({simulationStatus:"before"}),c()};return h.jsx(pn.Modal,{noBorder:!0,children:h.jsxs("div",{className:"sm:w-full max-w-md bg-white p-6 text-center space-y-6",children:[h.jsxs("h2",{className:"text-lg md:text-xl font-semibold text-gray-800",children:[" ",h.jsx("span",{className:"text-blue-600 font-bold",children:" "}),"."]}),h.jsxs("div",{className:"text-sm md:text-base text-gray-600",children:[": ",h.jsx("span",{className:"text-blue-600 font-bold text-xl",children:e}),""]}),h.jsx("div",{className:"w-full h-2 bg-gray-200 rounded-full overflow-hidden",children:h.jsx("div",{className:"h-full bg-blue-500 transition-all duration-300",style:{width:`${o/(e+o)*100}%`}})}),h.jsxs("div",{className:"text-gray-700 text-sm md:text-base leading-relaxed",children:["  ",h.jsx("span",{className:"text-green-600 font-bold text-xl",children:n<0?0:n}),",  ",h.jsx("span",{className:"text-green-600 font-bold text-xl",children:i}),"  . ",h.jsx("br",{}),"     ,      ."]}),h.jsxs("button",{className:"inline-flex items-center justify-center border-2 border-gray-400 text-gray-800 px-2 py-1 hover:bg-gray-100",onClick:_,children:[h.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),""]}),h.jsx("p",{className:"text-xs md:text-sm text-gray-500",children:"    ."})]})})}var fb,c8;function Gfe(){return c8||(c8=1,fb=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var r,i,s;if(Array.isArray(t)){if(r=t.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(s=Object.keys(t),r=s.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,s[i]))return!1;for(i=r;i--!==0;){var o=s[i];if(!e(t[o],n[o]))return!1}return!0}return t!==t&&n!==n}),fb}var Yfe=Gfe();const Xfe=Vi(Yfe);var zg={exports:{}},hb,d8;function Jfe(){if(d8)return hb;d8=1;var e;/**
* @link https://github.com/gajus/sister for the canonical source repository
* @license https://github.com/gajus/sister/blob/master/LICENSE BSD 3-Clause
*/return e=function(){var t={},n={};return t.on=function(r,i){var s={name:r,handler:i};return n[r]=n[r]||[],n[r].unshift(s),s},t.off=function(r){var i=n[r.name].indexOf(r);i!==-1&&n[r.name].splice(i,1)},t.trigger=function(r,i){var s=n[r],o;if(s)for(o=s.length;o--;)s[o].handler(i)},t},hb=e,hb}var $g={exports:{}},pb,f8;function Zfe(){if(f8)return pb;f8=1,pb=function(i,s,o){var a=document.head||document.getElementsByTagName("head")[0],l=document.createElement("script");typeof s=="function"&&(o=s,s={}),s=s||{},o=o||function(){},l.type=s.type||"text/javascript",l.charset=s.charset||"utf8",l.async="async"in s?!!s.async:!0,l.src=i,s.attrs&&e(l,s.attrs),s.text&&(l.text=""+s.text);var c="onload"in l?t:n;c(l,o),l.onload||t(l,o),a.appendChild(l)};function e(r,i){for(var s in i)r.setAttribute(s,i[s])}function t(r,i){r.onload=function(){this.onerror=this.onload=null,i(null,r)},r.onerror=function(){this.onerror=this.onload=null,i(new Error("Failed to load "+this.src),r)}}function n(r,i){r.onreadystatechange=function(){this.readyState!="complete"&&this.readyState!="loaded"||(this.onreadystatechange=null,i(null,r))}}return pb}var h8;function ehe(){return h8||(h8=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=Zfe(),r=i(n);function i(s){return s&&s.__esModule?s:{default:s}}t.default=function(s){var o=new Promise(function(a){if(window.YT&&window.YT.Player&&window.YT.Player instanceof Function){a(window.YT);return}else{var l=window.location.protocol==="http:"?"http:":"https:";(0,r.default)(l+"//www.youtube.com/iframe_api",function(f){f&&s.trigger("error",f)})}var c=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=function(){c&&c(),a(window.YT)}});return o},e.exports=t.default}($g,$g.exports)),$g.exports}var Ug={exports:{}},Hg={exports:{}},Wg={exports:{}},mb,p8;function the(){if(p8)return mb;p8=1;var e=1e3,t=e*60,n=t*60,r=n*24,i=r*365.25;mb=function(c,f){f=f||{};var p=typeof c;if(p==="string"&&c.length>0)return s(c);if(p==="number"&&isNaN(c)===!1)return f.long?a(c):o(c);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(c))};function s(c){if(c=String(c),!(c.length>100)){var f=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(c);if(f){var p=parseFloat(f[1]),g=(f[2]||"ms").toLowerCase();switch(g){case"years":case"year":case"yrs":case"yr":case"y":return p*i;case"days":case"day":case"d":return p*r;case"hours":case"hour":case"hrs":case"hr":case"h":return p*n;case"minutes":case"minute":case"mins":case"min":case"m":return p*t;case"seconds":case"second":case"secs":case"sec":case"s":return p*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return p;default:return}}}}function o(c){return c>=r?Math.round(c/r)+"d":c>=n?Math.round(c/n)+"h":c>=t?Math.round(c/t)+"m":c>=e?Math.round(c/e)+"s":c+"ms"}function a(c){return l(c,r,"day")||l(c,n,"hour")||l(c,t,"minute")||l(c,e,"second")||c+" ms"}function l(c,f,p){if(!(c<f))return c<f*1.5?Math.floor(c/f)+" "+p:Math.ceil(c/f)+" "+p+"s"}return mb}var m8;function nhe(){return m8||(m8=1,function(e,t){t=e.exports=i.debug=i.default=i,t.coerce=l,t.disable=o,t.enable=s,t.enabled=a,t.humanize=the(),t.names=[],t.skips=[],t.formatters={};var n;function r(c){var f=0,p;for(p in c)f=(f<<5)-f+c.charCodeAt(p),f|=0;return t.colors[Math.abs(f)%t.colors.length]}function i(c){function f(){if(f.enabled){var p=f,g=+new Date,y=g-(n||g);p.diff=y,p.prev=n,p.curr=g,n=g;for(var b=new Array(arguments.length),_=0;_<b.length;_++)b[_]=arguments[_];b[0]=t.coerce(b[0]),typeof b[0]!="string"&&b.unshift("%O");var C=0;b[0]=b[0].replace(/%([a-zA-Z%])/g,function(P,O){if(P==="%%")return P;C++;var $=t.formatters[O];if(typeof $=="function"){var B=b[C];P=$.call(p,B),b.splice(C,1),C--}return P}),t.formatArgs.call(p,b);var k=f.log||t.log||console.log.bind(console);k.apply(p,b)}}return f.namespace=c,f.enabled=t.enabled(c),f.useColors=t.useColors(),f.color=r(c),typeof t.init=="function"&&t.init(f),f}function s(c){t.save(c),t.names=[],t.skips=[];for(var f=(typeof c=="string"?c:"").split(/[\s,]+/),p=f.length,g=0;g<p;g++)f[g]&&(c=f[g].replace(/\*/g,".*?"),c[0]==="-"?t.skips.push(new RegExp("^"+c.substr(1)+"$")):t.names.push(new RegExp("^"+c+"$")))}function o(){t.enable("")}function a(c){var f,p;for(f=0,p=t.skips.length;f<p;f++)if(t.skips[f].test(c))return!1;for(f=0,p=t.names.length;f<p;f++)if(t.names[f].test(c))return!0;return!1}function l(c){return c instanceof Error?c.stack||c.message:c}}(Wg,Wg.exports)),Wg.exports}var g8;function rhe(){return g8||(g8=1,function(e,t){var n={};t=e.exports=nhe(),t.log=s,t.formatArgs=i,t.save=o,t.load=a,t.useColors=r,t.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:l(),t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"];function r(){return typeof window<"u"&&window.process&&window.process.type==="renderer"?!0:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}t.formatters.j=function(c){try{return JSON.stringify(c)}catch(f){return"[UnexpectedJSONParseError]: "+f.message}};function i(c){var f=this.useColors;if(c[0]=(f?"%c":"")+this.namespace+(f?" %c":" ")+c[0]+(f?"%c ":" ")+"+"+t.humanize(this.diff),!!f){var p="color: "+this.color;c.splice(1,0,p,"color: inherit");var g=0,y=0;c[0].replace(/%[a-zA-Z%]/g,function(b){b!=="%%"&&(g++,b==="%c"&&(y=g))}),c.splice(y,0,p)}}function s(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function o(c){try{c==null?t.storage.removeItem("debug"):t.storage.debug=c}catch{}}function a(){var c;try{c=t.storage.debug}catch{}return!c&&typeof process<"u"&&"env"in process&&(c=n.DEBUG),c}t.enable(a());function l(){try{return window.localStorage}catch{}}}(Hg,Hg.exports)),Hg.exports}var Vg={exports:{}},y8;function ihe(){return y8||(y8=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=["cueVideoById","loadVideoById","cueVideoByUrl","loadVideoByUrl","playVideo","pauseVideo","stopVideo","getVideoLoadedFraction","cuePlaylist","loadPlaylist","nextVideo","previousVideo","playVideoAt","setShuffle","setLoop","getPlaylist","getPlaylistIndex","setOption","mute","unMute","isMuted","setVolume","getVolume","seekTo","getPlayerState","getPlaybackRate","setPlaybackRate","getAvailablePlaybackRates","getPlaybackQuality","setPlaybackQuality","getAvailableQualityLevels","getCurrentTime","getDuration","removeEventListener","getVideoUrl","getVideoEmbedCode","getOptions","getOption","addEventListener","destroy","setSize","getIframe"],e.exports=t.default}(Vg,Vg.exports)),Vg.exports}var qg={exports:{}},v8;function she(){return v8||(v8=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=["ready","stateChange","playbackQualityChange","playbackRateChange","error","apiChange","volumeChange"],e.exports=t.default}(qg,qg.exports)),qg.exports}var Qg={exports:{}},Kg={exports:{}},x8;function ohe(){return x8||(x8=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default={BUFFERING:3,ENDED:0,PAUSED:2,PLAYING:1,UNSTARTED:-1,VIDEO_CUED:5},e.exports=t.default}(Kg,Kg.exports)),Kg.exports}var b8;function ahe(){return b8||(b8=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=ohe(),r=i(n);function i(s){return s&&s.__esModule?s:{default:s}}t.default={pauseVideo:{acceptableStates:[r.default.ENDED,r.default.PAUSED],stateChangeRequired:!1},playVideo:{acceptableStates:[r.default.ENDED,r.default.PLAYING],stateChangeRequired:!1},seekTo:{acceptableStates:[r.default.ENDED,r.default.PLAYING,r.default.PAUSED],stateChangeRequired:!0,timeout:3e3}},e.exports=t.default}(Qg,Qg.exports)),Qg.exports}var w8;function lhe(){return w8||(w8=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=rhe(),r=f(n),i=ihe(),s=f(i),o=she(),a=f(o),l=ahe(),c=f(l);function f(y){return y&&y.__esModule?y:{default:y}}var p=(0,r.default)("youtube-player"),g={};g.proxyEvents=function(y){var b={},_=function(M){var U="on"+M.slice(0,1).toUpperCase()+M.slice(1);b[U]=function(z){p('event "%s"',U,z),y.trigger(M,z)}},C=!0,k=!1,P=void 0;try{for(var O=a.default[Symbol.iterator](),$;!(C=($=O.next()).done);C=!0){var B=$.value;_(B)}}catch(j){k=!0,P=j}finally{try{!C&&O.return&&O.return()}finally{if(k)throw P}}return b},g.promisifyPlayer=function(y){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,_={},C=function(U){b&&c.default[U]?_[U]=function(){for(var z=arguments.length,D=Array(z),ee=0;ee<z;ee++)D[ee]=arguments[ee];return y.then(function(J){var re=c.default[U],q=J.getPlayerState(),V=J[U].apply(J,D);return re.stateChangeRequired||Array.isArray(re.acceptableStates)&&re.acceptableStates.indexOf(q)===-1?new Promise(function(Q){var ne=function Z(){var fe=J.getPlayerState(),F=void 0;typeof re.timeout=="number"&&(F=setTimeout(function(){J.removeEventListener("onStateChange",Z),Q()},re.timeout)),Array.isArray(re.acceptableStates)&&re.acceptableStates.indexOf(fe)!==-1&&(J.removeEventListener("onStateChange",Z),clearTimeout(F),Q())};J.addEventListener("onStateChange",ne)}).then(function(){return V}):V})}:_[U]=function(){for(var z=arguments.length,D=Array(z),ee=0;ee<z;ee++)D[ee]=arguments[ee];return y.then(function(J){return J[U].apply(J,D)})}},k=!0,P=!1,O=void 0;try{for(var $=s.default[Symbol.iterator](),B;!(k=(B=$.next()).done);k=!0){var j=B.value;C(j)}}catch(M){P=!0,O=M}finally{try{!k&&$.return&&$.return()}finally{if(P)throw O}}return _},t.default=g,e.exports=t.default}(Ug,Ug.exports)),Ug.exports}var _8;function uhe(){return _8||(_8=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},r=Jfe(),i=c(r),s=ehe(),o=c(s),a=lhe(),l=c(a);function c(p){return p&&p.__esModule?p:{default:p}}var f=void 0;t.default=function(p){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,b=(0,i.default)();if(f||(f=(0,o.default)(b)),g.events)throw new Error("Event handlers cannot be overwritten.");if(typeof p=="string"&&!document.getElementById(p))throw new Error('Element "'+p+'" does not exist.');g.events=l.default.proxyEvents(b);var _=new Promise(function(k){if((typeof p>"u"?"undefined":n(p))==="object"&&p.playVideo instanceof Function){var P=p;k(P)}else f.then(function(O){var $=new O.Player(p,g);return b.on("ready",function(){k($)}),null})}),C=l.default.promisifyPlayer(_,y);return C.on=b.on,C.off=b.off,C},e.exports=t.default}(zg,zg.exports)),zg.exports}var che=uhe();const dhe=Vi(che);var fhe=Object.defineProperty,hhe=Object.defineProperties,phe=Object.getOwnPropertyDescriptors,S8=Object.getOwnPropertySymbols,mhe=Object.prototype.hasOwnProperty,ghe=Object.prototype.propertyIsEnumerable,C8=(e,t,n)=>t in e?fhe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,l2=(e,t)=>{for(var n in t||(t={}))mhe.call(t,n)&&C8(e,n,t[n]);if(S8)for(var n of S8(t))ghe.call(t,n)&&C8(e,n,t[n]);return e},u2=(e,t)=>hhe(e,phe(t)),yhe=(e,t,n)=>new Promise((r,i)=>{var s=l=>{try{a(n.next(l))}catch(c){i(c)}},o=l=>{try{a(n.throw(l))}catch(c){i(c)}},a=l=>l.done?r(l.value):Promise.resolve(l.value).then(s,o);a((n=n.apply(e,t)).next())});function vhe(e,t){var n,r;if(e.videoId!==t.videoId)return!0;const i=((n=e.opts)==null?void 0:n.playerVars)||{},s=((r=t.opts)==null?void 0:r.playerVars)||{};return i.start!==s.start||i.end!==s.end}function k8(e={}){return u2(l2({},e),{height:0,width:0,playerVars:u2(l2({},e.playerVars),{autoplay:0,start:0,end:0})})}function xhe(e,t){return e.videoId!==t.videoId||!Xfe(k8(e.opts),k8(t.opts))}function bhe(e,t){var n,r,i,s;return e.id!==t.id||e.className!==t.className||((n=e.opts)==null?void 0:n.width)!==((r=t.opts)==null?void 0:r.width)||((i=e.opts)==null?void 0:i.height)!==((s=t.opts)==null?void 0:s.height)||e.iframeClassName!==t.iframeClassName||e.title!==t.title}var whe={videoId:"",id:"",className:"",iframeClassName:"",style:{},title:"",loading:void 0,opts:{},onReady:()=>{},onError:()=>{},onPlay:()=>{},onPause:()=>{},onEnd:()=>{},onStateChange:()=>{},onPlaybackRateChange:()=>{},onPlaybackQualityChange:()=>{}},_he={videoId:Bt.string,id:Bt.string,className:Bt.string,iframeClassName:Bt.string,style:Bt.object,title:Bt.string,loading:Bt.oneOf(["lazy","eager"]),opts:Bt.objectOf(Bt.any),onReady:Bt.func,onError:Bt.func,onPlay:Bt.func,onPause:Bt.func,onEnd:Bt.func,onStateChange:Bt.func,onPlaybackRateChange:Bt.func,onPlaybackQualityChange:Bt.func},p0=class extends Sn.Component{constructor(e){super(e),this.destroyPlayerPromise=void 0,this.onPlayerReady=t=>{var n,r;return(r=(n=this.props).onReady)==null?void 0:r.call(n,t)},this.onPlayerError=t=>{var n,r;return(r=(n=this.props).onError)==null?void 0:r.call(n,t)},this.onPlayerStateChange=t=>{var n,r,i,s,o,a,l,c;switch((r=(n=this.props).onStateChange)==null||r.call(n,t),t.data){case p0.PlayerState.ENDED:(s=(i=this.props).onEnd)==null||s.call(i,t);break;case p0.PlayerState.PLAYING:(a=(o=this.props).onPlay)==null||a.call(o,t);break;case p0.PlayerState.PAUSED:(c=(l=this.props).onPause)==null||c.call(l,t);break}},this.onPlayerPlaybackRateChange=t=>{var n,r;return(r=(n=this.props).onPlaybackRateChange)==null?void 0:r.call(n,t)},this.onPlayerPlaybackQualityChange=t=>{var n,r;return(r=(n=this.props).onPlaybackQualityChange)==null?void 0:r.call(n,t)},this.destroyPlayer=()=>this.internalPlayer?(this.destroyPlayerPromise=this.internalPlayer.destroy().then(()=>this.destroyPlayerPromise=void 0),this.destroyPlayerPromise):Promise.resolve(),this.createPlayer=()=>{if(typeof document>"u")return;if(this.destroyPlayerPromise){this.destroyPlayerPromise.then(this.createPlayer);return}const t=u2(l2({},this.props.opts),{videoId:this.props.videoId});this.internalPlayer=dhe(this.container,t),this.internalPlayer.on("ready",this.onPlayerReady),this.internalPlayer.on("error",this.onPlayerError),this.internalPlayer.on("stateChange",this.onPlayerStateChange),this.internalPlayer.on("playbackRateChange",this.onPlayerPlaybackRateChange),this.internalPlayer.on("playbackQualityChange",this.onPlayerPlaybackQualityChange),(this.props.title||this.props.loading)&&this.internalPlayer.getIframe().then(n=>{this.props.title&&n.setAttribute("title",this.props.title),this.props.loading&&n.setAttribute("loading",this.props.loading)})},this.resetPlayer=()=>this.destroyPlayer().then(this.createPlayer),this.updatePlayer=()=>{var t;(t=this.internalPlayer)==null||t.getIframe().then(n=>{this.props.id?n.setAttribute("id",this.props.id):n.removeAttribute("id"),this.props.iframeClassName?n.setAttribute("class",this.props.iframeClassName):n.removeAttribute("class"),this.props.opts&&this.props.opts.width?n.setAttribute("width",this.props.opts.width.toString()):n.removeAttribute("width"),this.props.opts&&this.props.opts.height?n.setAttribute("height",this.props.opts.height.toString()):n.removeAttribute("height"),this.props.title?n.setAttribute("title",this.props.title):n.setAttribute("title","YouTube video player"),this.props.loading?n.setAttribute("loading",this.props.loading):n.removeAttribute("loading")})},this.getInternalPlayer=()=>this.internalPlayer,this.updateVideo=()=>{var t,n,r,i;if(typeof this.props.videoId>"u"||this.props.videoId===null){(t=this.internalPlayer)==null||t.stopVideo();return}let s=!1;const o={videoId:this.props.videoId};if((n=this.props.opts)!=null&&n.playerVars&&(s=this.props.opts.playerVars.autoplay===1,"start"in this.props.opts.playerVars&&(o.startSeconds=this.props.opts.playerVars.start),"end"in this.props.opts.playerVars&&(o.endSeconds=this.props.opts.playerVars.end)),s){(r=this.internalPlayer)==null||r.loadVideoById(o);return}(i=this.internalPlayer)==null||i.cueVideoById(o)},this.refContainer=t=>{this.container=t},this.container=null,this.internalPlayer=null}componentDidMount(){this.createPlayer()}componentDidUpdate(e){return yhe(this,null,function*(){bhe(e,this.props)&&this.updatePlayer(),xhe(e,this.props)&&(yield this.resetPlayer()),vhe(e,this.props)&&this.updateVideo()})}componentWillUnmount(){this.destroyPlayer()}render(){return Sn.createElement("div",{className:this.props.className,style:this.props.style},Sn.createElement("div",{id:this.props.id,className:this.props.iframeClassName,ref:this.refContainer}))}},p1=p0;p1.propTypes=_he;p1.defaultProps=whe;p1.PlayerState={UNSTARTED:-1,ENDED:0,PLAYING:1,PAUSED:2,BUFFERING:3,CUED:5};var She=p1;const gb="visitedTutorial",ly={_visited:void 0,get(){if(this._visited===void 0&&(this._visited=localStorage.getItem(gb)),!this._visited)return!0;const e=Date.now(),t=new Date(this._visited).getTime();return(e-t)/(1e3*60*60*24)>=7},set(){const e=new Date().toISOString();this._visited=e,localStorage.setItem(gb,e)},reset(){this._visited=null,localStorage.removeItem(gb)}},E8=e=>I.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},I.createElement("path",{d:"M6 9L12 15L18 9",stroke:"#354052",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})),yb=[{id:1,videoId:"BTNgos01s1o",title:"1:   "},{id:2,videoId:"yYq-sXZmS9I",title:"2:   "},{id:3,videoId:"mEi-n2kEs94",title:"3:  "},{id:4,videoId:"xmD5YuZtJv4",title:"4:    "}];function Che(){const[e,t]=I.useState(0),[n,r]=I.useState(!1),i=vr(_=>_.openModal),s=vr(_=>_.closeModal),a=fs()?{width:"250",height:"141"}:{width:"600",height:"338"},l=ly.get();l||i("wish");const c=()=>{t(_=>_===0?yb.length-1:_-1)},f=()=>{t(_=>_===yb.length-1?0:_+1)},p=()=>{n&&(ly.set(),r(!0))},g=yb[e],y=()=>{s()},b=()=>{p(),s(),i("wish")};return h.jsx(Jn,{title:" ",onClose:y,isOpen:l,children:h.jsxs(Jn.Content,{children:[h.jsxs(Pe,{className:"w-full",direction:"flex-col",children:[h.jsx(Gn,{children:"        ."}),h.jsx("div",{className:"mx-auto",style:{width:a.width+"px",height:a.height+"px"},children:h.jsx(She,{videoId:g.videoId,opts:{width:a.width,height:a.height,playerVars:{autoplay:1,mute:1,playlist:g.videoId}},onEnd:f})})]}),h.jsxs("div",{className:"mt-4 flex flex-col justify-center items-center gap-2",children:[h.jsxs(Pe,{justify:"justify-center",align:"items-center",className:"gap-4",children:[h.jsx(Dt,{variant:"text",size:"medium","aria-label":" ",onClick:c,children:e!==0&&h.jsx(E8,{className:"w-5 h-5 transform rotate-90"})}),h.jsx(qt,{level:3,children:g.title}),h.jsx(Dt,{variant:"text",size:"medium","aria-label":" ",onClick:f,children:e<3&&h.jsx(E8,{className:"w-5 h-5 transform -rotate-90"})})]}),h.jsx(Gn,{children:"     ,   ,         ."}),h.jsxs(pn.Modal.ButtonContainer,{className:"mt-4",children:[h.jsx(Py,{label:"   ",checked:n,onChange:()=>r(!n)}),h.jsx(Dt,{variant:"primary",size:"medium",onClick:b,children:" "})]})]})]})})}function NP(e){if(!e)return"-";const t=e.split("/");return t[0]=Number.parseFloat(t[0]).toFixed(1),t.join("/")}function khe(e){return e===-1?"":e}const Ehe=[{header:"",cell:(e,t)=>t+1},{header:"",cell:e=>h.jsx(jhe,{subjectId:e.subjectId})},{header:"",cell:e=>e.subjectCode},{header:"",cell:e=>e.classCode},{header:"",cell:e=>h.jsx("div",{className:"text-left",children:e.departmentName})},{header:"",cell:e=>h.jsx("div",{className:"text-left",children:e.subjectName})},{header:"",cell:()=>h.jsx(pn.Button,{size:"sm",variant:"dark",children:""})},{header:"",cell:e=>e.language},{header:"//",cell:e=>NP(e.tm_num)},{header:"",cell:e=>e.subjectType},{header:"",cell:e=>khe(e.semester_at)},{header:"",cell:e=>e.lesn_time},{header:"",cell:()=>h.jsx(pn.Button,{size:"sm",variant:"dark",children:""})}],The=()=>{const e=Wi(r=>r.currentSimulation),t=vr(r=>r.type),n=e.simulationStatus==="progress"&&t!=="waiting"?e.nonRegisteredSubjects:[];return h.jsx(pn.DataTable,{columns:Ehe,data:n,keyInfo:"subjectId"})},jhe=({subjectId:e})=>{const t=vr(s=>s.openModal),n=Gy(s=>s.setCurrentSubjectId),{data:r}=dc(),i=s=>{aa({eventType:yr.APPLY,subjectId:s},r).then(o=>{"errMsg"in o&&alert(o.errMsg)}).catch(o=>{console.error(" :",o)}),n(s),t("captcha")};return h.jsx(pn.Button,{size:"sm",onClick:()=>i(e),children:""})},Ihe=[{header:"",cell:(e,t)=>t+1},{header:"",cell:()=>h.jsx(pn.Button,{size:"sm",children:""})},{header:"",cell:e=>e.subjectCode},{header:"",cell:e=>e.classCode},{header:"",cell:e=>h.jsx("div",{className:"text-left",children:e.departmentName})},{header:"",cell:e=>h.jsx("div",{className:"text-left",children:e.subjectName})},{header:"",cell:()=>h.jsx(pn.Button,{size:"sm",variant:"dark",children:""})},{header:"",cell:e=>e.language},{header:"//",cell:e=>NP(e.tm_num)},{header:"",cell:e=>e.subjectType},{header:"",cell:()=>"-"},{header:"",cell:e=>e.lesn_time},{header:"",cell:()=>h.jsx(pn.Button,{size:"sm",variant:"dark",children:""})}],Nhe=()=>{const e=Wi(r=>r.currentSimulation),t=vr(r=>r.type),n=e.simulationStatus==="progress"&&t!=="waiting"?e.registeredSubjects:[];return h.jsx(pn.DataTable,{columns:Ihe,data:n,keyInfo:"subjectId"})};function ES(){const e=Wi(o=>o.setCurrentSimulation),t=Wi(o=>o.currentSimulation),n=vr(o=>o.openModal),{data:r}=dc(),i=(o,a,l)=>{const c=o.map(f=>a2(r,f.subjectId)).filter(f=>f!==void 0);e({simulationId:l,[a]:c}),t.simulationStatus==="progress"&&n("waiting")};return{reloadSimulationStatus:()=>{Ree().then(o=>{!o||o.simulationId===-1||(e({simulationId:o.simulationId}),o?.nonRegisteredSubjects&&i(o.nonRegisteredSubjects,"nonRegisteredSubjects",o.simulationId),o?.registeredSubjects&&i(o.registeredSubjects,"registeredSubjects",o.simulationId))}).catch(o=>{console.log(o)})}}}const Phe=e=>I.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},I.createElement("path",{d:"M9.5 16C7.68333 16 6.146 15.3707 4.888 14.112C3.63 12.8533 3.00067 11.316 3 9.5C2.99933 7.684 3.62867 6.14667 4.888 4.888C6.14733 3.62933 7.68467 3 9.5 3C11.3153 3 12.853 3.62933 14.113 4.888C15.373 6.14667 16.002 7.684 16 9.5C16 10.2333 15.8833 10.925 15.65 11.575C15.4167 12.225 15.1 12.8 14.7 13.3L20.3 18.9C20.4833 19.0833 20.575 19.3167 20.575 19.6C20.575 19.8833 20.4833 20.1167 20.3 20.3C20.1167 20.4833 19.8833 20.575 19.6 20.575C19.3167 20.575 19.0833 20.4833 18.9 20.3L13.3 14.7C12.8 15.1 12.225 15.4167 11.575 15.65C10.925 15.8833 10.2333 16 9.5 16ZM9.5 14C10.75 14 11.8127 13.5627 12.688 12.688C13.5633 11.8133 14.0007 10.7507 14 9.5C13.9993 8.24933 13.562 7.187 12.688 6.313C11.814 5.439 10.7513 5.00133 9.5 5C8.24867 4.99867 7.18633 5.43633 6.313 6.313C5.43967 7.18967 5.002 8.252 5 9.5C4.998 10.748 5.43567 11.8107 6.313 12.688C7.19033 13.5653 8.25267 14.0027 9.5 14Z",fill:"white"}));function Rhe(){const{setCurrentSimulation:e,currentSimulation:t,resetSimulation:n}=Wi(),r=vr(b=>b.openModal),i=pf(sp),{reloadSimulationStatus:s}=ES(),{data:o}=dc(),l=(i&&"simulationId"in i?i.simulationId:-1)!==-1,c=i&&"userStatus"in i?i.userStatus?.departmentName:-1,f=()=>{e({simulationStatus:"before"}),r("tutorial"),n()},p=()=>{sp().then(b=>{b&&"simulationId"in b&&b.simulationId!==-1&&s()})},g=async()=>{p(),aa({eventType:yr.SEARCH},o).then(b=>{if("errMsg"in b)alert("  .    !");else{const _=b.elapsed_time/1e3;e({simulationStatus:"progress",clickedTime:_>10?5:_}),r("waiting")}}).catch(b=>{console.error(" :",b)})},y=async()=>{try{await Rd(),e({simulationStatus:"finish"}),r("result")}catch(b){console.error(b),alert("  .")}};return h.jsx("section",{className:"border p-2 text-xs",children:h.jsxs("div",{className:"flex flex-col gap-1 sm:gap-2",children:[h.jsxs("div",{className:"flex flex-col sm:flex-row gap-1 sm:gap-8",children:[h.jsx("div",{className:"flex justify-end items-center sm:justify-start gap-2",children:h.jsx(hd,{id:"organization-type",label:" ",className:"w-48",essential:!0,disabled:!0,children:h.jsx("option",{})})}),h.jsx("div",{className:"flex justify-end items-center sm:justify-start gap-2",children:h.jsx(hd,{id:"semester-type",label:"/",className:"w-48",essential:!0,disabled:!0,children:h.jsx("option",{})})})]}),h.jsx("div",{className:"flex flex-col justify-between sm:flex-row gap-1 sm:gap-8",children:h.jsxs("div",{className:"flex flex-col sm:items-end sm:flex-row gap-2 ",children:[h.jsx("div",{className:"flex items-center justify-end sm:justify-start gap-2",children:h.jsx(hd,{id:"my-major-department",label:"()",className:"w-48",disabled:!0,children:h.jsx("option",{children:""})})}),h.jsx("div",{className:"flex items-center justify-end sm:justify-start gap-2",children:h.jsx(hd,{id:"my-sub-department",label:"()",className:"w-48",disabled:!0,children:h.jsx("option",{children:""})})})]})}),h.jsxs("div",{className:"flex flex-col sm:flex-col md:flex-row justify-between gap-2",children:[h.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[h.jsx("div",{className:"flex justify-end items-center sm:justify-start gap-2",children:h.jsx(hd,{id:"search-division",label:"",className:"w-48",essential:!0,disabled:!0,children:h.jsx("option",{children:""})})}),h.jsxs("div",{className:"flex justify-end items-center sm:justify-start gap-1",children:[h.jsx("label",{htmlFor:"search-major",className:"font-bold",children:""}),h.jsxs("div",{className:"flex flex-col sm:flex-row gap-1",children:[h.jsx(pn.Select,{id:"search-major",className:"w-48 sm:w-30",essential:!0,disabled:!0,children:h.jsx("option",{children:""})}),h.jsx(hd,{id:"search-department",label:" ",className:"w-40 lg:w-90",value:c,disabled:!0,hideLabel:!0})]})]})]}),h.jsxs("div",{className:"flex flex-row justify-between gap-2",children:[h.jsx("div",{className:"flex flex-row ",children:l?h.jsx(pn.Button,{variant:"cancel",onClick:y,children:" "}):h.jsx(pn.Button,{variant:"primary",onClick:f,children:""})}),h.jsxs("button",{onClick:g,className:`relative px-3 py-2 rounded flex flex-row items-center gap-1 text-white ${l?"bg-gradient-animation cursor-pointer":"bg-gray-400 cursor-not-allowed"}`,disabled:!l,children:[t.simulationStatus==="start"&&h.jsx(O9,{className:"absolute -top-20 right-8 w-15 h-15 animate-bounce rotate-170"}),h.jsx(Phe,{className:"w-5 h-4"}),""]})]})]})]})})}function hd({label:e,hideLabel:t=!1,children:n,id:r,className:i,...s}){const o=r||"muted-select-"+e;return h.jsxs(h.Fragment,{children:[h.jsx("label",{htmlFor:o,className:t?"hidden":"font-bold",children:e}),h.jsx(pn.Select,{id:o,...s,className:i,children:n})]})}function Ohe(){const[e,t]=I.useState("00:00"),n=vr(l=>l.openModal),r=Wi(l=>l.currentSimulation),i=Wi(l=>l.setCurrentSimulation),s=I.useRef(null),o=l=>{const c=Math.floor(l%3600/60),f=l%60;t(`${c.toString().padStart(2,"0")}:${f.toString().padStart(2,"0")}`)},a=async()=>{try{await Rd(),i({simulationStatus:"finish"}),n("result")}catch(l){console.error(l),alert("   .")}};return I.useEffect(()=>((async()=>{if(r.simulationStatus==="finish"){t("00:00");return}try{const c=await Yy();if(!(c?.started_at&&c.simulation_run_id===r.simulationId))return;const p=c.started_at;s.current=setInterval(()=>{const g=Date.now(),y=Math.floor((g-p)/1e3);if(y>=$_){clearInterval(s.current),alert("5    ."),a().then();return}o(y),r.simulationStatus==="finish"&&(clearInterval(s.current),t("00:00"))},1e3)}catch(c){console.error(c)}})().then(),()=>{s.current&&(clearInterval(s.current),s.current=null)}),[r.simulationStatus,r.simulationId]),h.jsx("p",{className:"font-semibold text-xl text-blue-500",children:e})}function Mhe(){const e=vr(l=>l.openModal),t=Wi(l=>l.currentSimulation),n=Wi(l=>l.setCurrentSimulation),{reloadSimulationStatus:r}=ES(),i=ly.get(),s=async()=>{try{await Rd(),n({simulationStatus:"finish"}),alert("5    ."),e("result")}catch(l){console.error(l),alert("   .")}},o=()=>{sp().then(l=>{if(l&&"simulationId"in l&&l.simulationId!==-1){const c=l.startedAt;if(!c)return;const f=Date.now();Math.floor((f-c)/1e3)>$_?s().then():r()}else t.simulationStatus==="before"&&e("tutorial")})};I.useEffect(()=>{o()},[t.simulationStatus]);const a=t.registeredSubjects.reduce((l,c)=>{const f=c.tm_num.split("/")[0];return l+Number.parseInt(f,10)},0);return h.jsxs(h.Fragment,{children:[h.jsx(Vr,{children:h.jsx("title",{children:"ALLCLL |  -   "})}),h.jsx(Ahe,{}),h.jsxs("div",{className:"flex justify-between gap-5",children:[h.jsxs("div",{className:"flex gap-5",children:[h.jsx("h1",{className:"font-bold text-lg",children:" "}),h.jsx(Ohe,{})]}),!i&&h.jsx("button",{className:"text-gray-600 hover:text-blue-500 cursor-pointer",onClick:ly.reset,children:" "})]}),h.jsx(Rhe,{}),h.jsxs("section",{className:"mt-4 ",children:[h.jsx("div",{className:"mb-2",children:h.jsx(pn.SectionHeader,{children:"  "})}),h.jsx(The,{})]}),h.jsxs("section",{className:"mt-4",children:[h.jsxs("div",{className:"w-full flex flex-col sm:flex-row sm:items-center justify-start gap-2 mb-2",children:[h.jsx(pn.SectionHeader,{children:"  "}),h.jsxs("div",{className:"flex flex-row gap-2 items-center",children:[h.jsx(pn.Button,{size:"sm",onClick:r,children:""}),h.jsxs("span",{className:"text-xs font-bold text-black",children:["  : 18 /",h.jsxs("span",{className:"text-blue-500",children:[" : ",t.registeredSubjects.length," /  : ",a]})]})]})]}),h.jsx(Nhe,{})]})]})}function Ahe(){const e=Wi(o=>o.currentSimulation),{type:t,closeModal:n}=vr(),{reloadSimulationStatus:r}=ES(),{data:i}=x_("timetable"),{data:s=[]}=tj(i?.semester??Vu[0]);switch(t){case"tutorial":return h.jsx(Che,{});case"waiting":return h.jsx(Kfe,{});case"captcha":return h.jsx(Cfe,{});case"wish":return h.jsx(qfe,{timetables:s,setIsModalOpen:()=>n()});case"simulation":return h.jsx(jfe,{reloadSimulationStatus:r});case"result":return h.jsx(Ofe,{simulationId:e.simulationId});default:return null}}_a.register(Ip,Np,jp,L_,af,lI,uf,lf);function Dhe({result:e}){const[t,n]=I.useState(!0),r=t?e.simulations.filter(g=>g.totalTime<=80&&g.searchBtnTime>0):e.simulations,i=r.map((g,y)=>` ${y+1}`),s=r.map(g=>g.searchBtnTime),o=r.map(g=>g.captchaTime-g.searchBtnTime),a=r.map(g=>g.subjectTime-g.captchaTime),l=r.map(g=>g.totalTime-g.subjectTime),c=r&&r.length<50?16:8,f={labels:i,datasets:[{type:"bar",label:"  ",data:s,barThickness:c,backgroundColor:"rgba(75, 192, 192, 0.7)",stack:"Stack 0"},{type:"bar",label:"   ",data:o,barThickness:c,backgroundColor:"rgba(255, 99, 132, 0.7)",stack:"Stack 0"},{type:"bar",label:"  ",data:a,barThickness:c,backgroundColor:"rgba(54, 162, 235, 0.7)",stack:"Stack 0"},{type:"bar",label:" ",data:l,barThickness:c,backgroundColor:"rgba(153, 102, 255, 0.7)",stack:"Stack 0"},{type:"line",label:" ",data:s,borderColor:"rgba(75, 192, 192, 1)",borderWidth:2,pointRadius:4,pointBackgroundColor:"rgba(75, 192, 192, 1)",fill:!1,tension:.1},{type:"line",label:" ",data:o,borderColor:"rgba(255, 99, 132, 1)",borderWidth:2,pointRadius:4,pointBackgroundColor:"rgba(255, 99, 132, 1)",fill:!1,tension:.1},{type:"line",label:"  ",data:a,borderColor:"rgba(54, 162, 235, 1)",borderWidth:2,pointRadius:4,pointBackgroundColor:"rgba(54, 162, 235, 1)",fill:!1,tension:.1},{type:"line",label:"  ",data:l,borderColor:"rgba(153, 102, 255, 1)",borderWidth:2,pointRadius:4,pointBackgroundColor:"rgba(153, 102, 255, 1)",fill:!1,tension:.1}]},p={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"},tooltip:{callbacks:{label:function(g){const y=g.dataset.label||"",b=g.parsed.y;return`${y}: ${b.toFixed(2)}`}}}},scales:{x:{title:{display:!0,text:""}},y:{stacked:!0,title:{display:!0,text:" ()"},ticks:{callback:function(g){return(qu(g)?g.toFixed(1):g)+""}}}}};return h.jsxs("div",{className:"w-full h-96 p-4 box-border",children:[h.jsxs("div",{className:"flex justify-between items-center mb-4",children:[h.jsx("div",{}),h.jsxs("div",{className:"text-lg font-semibold",children:[h.jsx("input",{id:"normal-data",type:"checkbox",className:"cursor-pointer",onChange:g=>n(g.target.checked),checked:t}),h.jsx("label",{htmlFor:"normal-data",className:"text-sm pl-2 cursor-pointer",children:" "})]})]}),h.jsx("div",{className:"h-full pb-6 overflow-x-auto",children:h.jsx(mI,{type:"bar",data:f,options:p})})]})}function Lhe({result:e}){const{data:t}=Sa(),n=I.useMemo(()=>Fhe(t,e.subjects),[t,e]);return h.jsxs("table",{className:"min-w-full text-sm text-center text-nowrap",children:[h.jsx("thead",{className:"bg-gray-100 text-gray-600",children:h.jsxs("tr",{children:[h.jsx("th",{className:"py-2 px-2",children:""}),h.jsx("th",{className:"py-2 px-2",children:""}),h.jsx("th",{className:"py-2 px-2",children:""}),h.jsx("th",{className:"py-2 px-2",children:""}),h.jsx("th",{className:"py-2 px-2",children:""}),h.jsx("th",{className:"py-2 px-2",children:"/"})]})}),h.jsx("tbody",{className:"text-gray-700",children:n.map(r=>h.jsxs("tr",{className:"border-t border-gray-200",children:[h.jsx("td",{className:"py-2 px-1",children:r.subjectCode+"-"+r.classCode}),h.jsx("td",{className:"py-2 px-1",children:r.subjectName}),h.jsx("td",{className:"py-2 px-1",children:r.professorName}),h.jsx("td",{className:"py-2 px-1",children:r.avgIndex.toFixed(2)}),h.jsx("td",{className:"py-2 px-1",children:r.avgCompletionTime.toFixed(2)+" sec"}),h.jsxs("td",{className:"py-2 px-2",children:[h.jsx("span",{className:"px-1 py-0.5 rounded-full text-xs font-bold text-green-500",children:r.successCount}),"/",h.jsx("span",{className:"px-1 py-0.5 rounded-full text-xs font-bold text-red-500",children:r.failedCount}),"/",h.jsx("span",{className:"px-1 py-0.5 rounded-full text-xs font-bold text-gray-500",children:r.doubledCount}),"/",h.jsx("span",{className:"px-1 py-0.5 rounded-full text-xs font-bold text-black",children:r.totalCount})]})]},r.subjectId))})]})}function Fhe(e,t){if(!t||!e)return[];const n=r=>e.find(i=>i.subjectId===r);return t.map(r=>{const i=n(r.subjectId);return{...r,subjectName:i?.subjectName||"",departmentName:i?.departmentName||"",departmentCode:i?.departmentCode||"",subjectCode:i?.subjectCode||"",classCode:i?.classCode||"",professorName:i?.professorName||null}})}function Bhe(){const e=pf(async()=>{try{return await EP()}catch(r){return{error:r.message}}});if(e&&"error"in e)return h.jsxs("div",{className:"flex flex-col w-full items-center justify-center h-120 gap-3",children:[h.jsx(OI,{className:"h-12 w-12"}),h.jsx("div",{className:"text-center text-gray-500",children:e.error}),h.jsx(ii,{to:"/simulation",className:"bg-blue-500 text-white px-4 py-2 rounded-md hover:bg-blue-600 cursor-pointer",children:"  "})]});const{simulations:t}=e||{simulations:[]},n=e?{user_ability:{searchBtnSpeed:t.reduce((r,i)=>r+i.searchBtnTime,0)/t.length||0,totalSpeed:t.reduce((r,i)=>r+i.totalTime/i.subjectCount,0)/t.length||0,accuracy:t.reduce((r,i)=>r+i.accuracy,0)/t.length||0,captchaSpeed:t.reduce((r,i)=>r+(i.captchaTime-i.searchBtnTime)/i.subjectCount,0)/t.length||0}}:void 0;return!n||!e?h.jsxs("div",{className:"flex flex-col w-full items-center justify-center h-120",children:[h.jsx("div",{className:"animate-spin h-16 w-16 mx-auto my-10",children:h.jsxs("svg",{className:"h-16 w-16 fill-transparent",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[h.jsx("circle",{className:"opacity-25 stroke-blue-500",cx:"12",cy:"12",r:"10",strokeWidth:"4"}),h.jsx("path",{className:"opacity-75 fill-blue-500",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2.93 6.243A8.001 8.001 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3.93-1.695z"})]})}),h.jsxs("div",{className:"text-center text-gray-500 my-10",children:["    ... ",h.jsx("br",{})," "]})]}):h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"flex gap-3 flex-wrap",children:[h.jsx("div",{className:"relative flex-1 min-w-[240px]",children:h.jsx(z_,{result:n})}),h.jsx("div",{className:"flex-1 min-w-[240px] overflow-x-auto",children:h.jsx(Lhe,{result:e})})]}),h.jsx("div",{children:h.jsx(Dhe,{result:e})})]})}const zhe=e=>I.createElement("svg",{width:26,height:26,viewBox:"0 0 26 26",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},I.createElement("path",{d:"M5.54964 1.99315C5.50209 1.17248 6.41035 0.64822 7.09733 1.0996L20.3806 9.83538C21.12 10.3219 20.9092 11.4586 20.0444 11.6476L15.7086 12.5948L21.1016 21.9358C21.3775 22.4141 21.2138 23.0258 20.7356 23.3019L17.8077 24.9923C17.3295 25.2684 16.7179 25.1043 16.4417 24.6263L11.0764 15.3334L8.21097 18.4797C7.61486 19.134 6.52521 18.7482 6.47343 17.8647L5.54964 1.99315Z",fill:"#0756FF"}));function $he(){return h.jsxs(h.Fragment,{children:[h.jsx("h1",{className:"text-2xl font-bold mb-2",children:"   "}),h.jsx("p",{className:"text-gray-500 mb-4",children:"    ."}),h.jsx(Uhe,{})]})}function Uhe(){const e=pf(Nfe),t=e?e.snapshots:[],n=e===void 0,r=e===null;return n?h.jsx("div",{className:"flex justify-center items-center h-64",children:h.jsx("span",{className:"text-gray-500",children:" ..."})}):r?h.jsx("div",{className:"flex justify-center items-center h-64",children:h.jsx("span",{className:"text-red-500",children:" "})}):t.length?t.map(i=>h.jsxs(ii,{to:`/simulation/logs/${i.simulation_run_id}`,className:"flex items-center justify-between bg-white p-3 rounded-md text-sm shadow-md shadow-gray-300 mb-2 hover:bg-gray-100",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("p",{className:"hidden",children:"id"}),h.jsx("span",{className:"font-bold",children:i.simulation_run_id}),h.jsx("p",{className:"hidden",children:""}),h.jsx("span",{children:i.department_name?i.department_name.split(" ")[i.department_name.split(" ").length-1]:"  "})]}),h.jsxs("div",{className:"flex items-center text-center",children:[h.jsxs("div",{className:"",children:[h.jsx("p",{className:"text-xs",children:" "}),h.jsxs("span",{className:"text-sm font-bold",children:[i.accuracy,"%"]})]}),h.jsxs("div",{className:"flex items-center justify-end gap-1 w-20",children:[h.jsx("p",{className:"hidden",children:""}),h.jsx(zhe,{className:"w-4 h-4"}),h.jsx("span",{className:"font-bold",children:i.score.toFixed(3)})]})]})]},"simulation-log-"+i.simulation_run_id)):h.jsx("div",{className:"flex justify-center items-center",children:h.jsx("span",{className:"text-gray-500",children:" "})})}function Hhe(){return h.jsxs(h.Fragment,{children:[h.jsx(Vr,{children:h.jsx("title",{children:"ALLCLL |  -  "})}),h.jsxs("section",{className:"max-w-7xl mx-auto",children:[h.jsx("h1",{className:"text-2xl font-bold mb-2",children:" "}),h.jsx("p",{className:"text-gray-500 mb-4",children:"   ,    ."}),h.jsx("div",{className:"bg-white p-3 rounded-md text-sm shadow-md shadow-gray-300",children:h.jsx(Bhe,{})})]}),h.jsx("section",{className:"max-w-3xl mx-auto mt-12",children:h.jsx($he,{})})]})}const cp=32,T8=200;function Whe({result:e}){const t=Jhe(e),n=(e.ended_at-e.started_at)/1e3,r=Array.from({length:Math.floor(n)+5},(i,s)=>s+1);return h.jsxs("div",{className:"relative",children:[h.jsxs("div",{className:"relative overflow-x-auto overflow-y-hidden",children:[h.jsx("div",{className:"absolute top-0 flex h-full",style:{left:`${T8}px`},children:r.map(i=>h.jsx("div",{className:"border-r border-gray-200 relative",style:{width:`${cp}px`},children:h.jsx("span",{className:"absolute text-xs text-gray-400 bg-white bottom-0 right-0 translate-x-1/2",children:i})},i))}),t.map((i,s)=>h.jsxs("div",{className:"flex items-center",style:{width:`${cp*r.length}px`},children:[h.jsxs("div",{className:"py-2 text-sm md:sticky left-0 right-0 z-10 bg-white",style:{width:`${T8}px`},children:[h.jsx("div",{className:`font-semibold ${Yhe(i.color)}`,children:i.name}),h.jsx("span",{className:`text-xs ${Ghe(i.color)}`,children:i.code})]}),h.jsx("div",{className:"flex-1 relative h-8",children:h.jsx(Vhe,{timelines:i.timelines})})]},"timeline-row-"+s))]}),h.jsx("div",{className:"pointer-events-none absolute inset-y-4 left-0 md:left-[200px] w-3 bg-gradient-to-r from-white to-transparent"}),h.jsx("div",{className:"pointer-events-none absolute inset-y-4 right-0 w-3 bg-gradient-to-l from-white to-transparent"})]})}function Vhe({timelines:e}){return e.map((t,n)=>{const r=t.start*cp-12,i=t.duration*cp+24;return h.jsx("div",{className:`absolute top-1 h-6 rounded-full px-3 ${Qhe(t.color)}`,style:{left:`${r}px`,width:`${i}px`},children:t.events.map((s,o)=>h.jsx(qhe,{event:s,startAt:t.start,color:t.color,isTop:t.isTop},"timeline-dot-"+o))},"timeline-bar-"+n)})}function qhe({event:e,startAt:t,color:n,isTop:r}){const i=(e.start-t)*cp+6,s=Xhe(e.event),o=e.start,a=r?"top-4":"bottom-4";return h.jsxs("div",{className:"absolute top-1.5",style:{left:`${i}px`},children:[h.jsx("div",{className:`w-3 h-3 peer bg-white border-2 rounded-full hover:shadow cursor-pointer ${Khe(n)}`}),h.jsxs("div",{className:`absolute z-10 ${a} left-1/2 -translate-x-1/2 px-2 py-1 rounded bg-black text-white text-nowrap text-xs text-center opacity-0 peer-hover:opacity-100 transition-opacity duration-200`,children:[s,h.jsx("br",{}),o.toFixed(2)," sec"]})]})}function Qhe(e){switch(e){case"green":return"bg-green-100 border-green-500 text-green-700";case"red":return"bg-red-100 border-red-500 text-red-700";case"orange":return"bg-orange-100 border-orange-500 text-orange-700";case"yellow":return"bg-yellow-100 border-yellow-500 text-yellow-700";default:return"bg-gray-100 border-gray-500 text-gray-700"}}function Khe(e){switch(e){case"green":return"border-green-500 text-green-500 shadow-green-500";case"red":return"border-red-500 text-red-500 shadow-red-500";case"orange":return"border-orange-500 text-orange-500 shadow-orange-500";case"yellow":return"border-yellow-500 text-yellow-500 shadow-yellow-500";default:return"border-gray-500 text-gray-500 shadow-gray-500"}}function Ghe(e){switch(e){case"green":return"text-green-500";case"red":return"text-red-500";case"orange":return"text-orange-500";case"yellow":return"text-yellow-500";default:return"text-gray-500"}}function Yhe(e){switch(e){case"green":return"text-green-600";case"red":return"text-red-600";case"orange":return"text-orange-600";case"yellow":return"text-yellow-600";default:return"text-gray-600"}}function Xhe(e){switch(e){case yr.SEARCH:return"  ";case yr.APPLY:return"  ";case yr.CAPTCHA:return"   ";case yr.SUBJECT_SUBMIT:return"   ";case yr.SKIP_REFRESH:return" ";case yr.REFRESH:return"  ";case yr.CANCEL_SUBMIT:return"  "}}function Jhe(e){const{timeline:t,started_at:n,subject_results:r}=e;return r.map(i=>({name:i.subjectInfo?.subjectName,code:i.subjectInfo?.subjectCode+"-"+i.subjectInfo?.classCode,color:Nw(i.status),timelines:t.filter(s=>s.subject_id===i.subject_id).map(s=>({color:Nw(s.status),start:(s.started_at-n)/1e3,duration:(s.ended_at-s.started_at)/1e3,isTop:r[0].subject_id===s.subject_id,events:s.events.reduce((o,a,l)=>[...o,{event:a.event,duration:l==0?0:(a.timestamp-s.events[l-1].timestamp)/1e3,start:(a.timestamp-n)/1e3}],[])}))}))}function Zhe({result:e}){const{subject_results:t,started_at:n}=e;return h.jsxs("table",{className:"min-w-full text-sm text-center text-nowrap",children:[h.jsx("thead",{className:"bg-gray-100 text-gray-600",children:h.jsxs("tr",{children:[h.jsx("th",{className:"py-2 px-2",children:""}),h.jsx("th",{className:"py-2 px-2",children:""}),h.jsx("th",{className:"py-2 px-2",children:""}),h.jsx("th",{className:"py-2 px-2",children:""}),h.jsx("th",{className:"py-2 px-2",children:""}),h.jsx("th",{className:"py-2 px-2",children:"/"})]})}),h.jsx("tbody",{className:"text-gray-700",children:t.map(r=>h.jsxs("tr",{className:"border-t border-gray-200",children:[h.jsx("td",{className:"py-2 px-1",children:r.subjectInfo?.subjectCode+"-"+r.subjectInfo?.classCode}),h.jsx("td",{className:"py-2 px-1",children:r.subjectInfo?.subjectName}),h.jsx("td",{className:"py-2 px-1",children:r.subjectInfo?.professorName}),h.jsx("td",{className:"py-2 px-1",children:r.selected_index}),h.jsx("td",{className:"py-2 px-1",children:((r.ended_at-n)/1e3).toFixed(2)+" sec"}),h.jsx("td",{className:"py-2 px-2",children:h.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs ${Hee(r.status)}`,children:r.status===hn.SUCCESS?"":""})})]},"subject-detail-row-"+r.subject_id))})]})}function epe(){const{runId:e}=Y8(),{data:t}=dc(),n=pf(()=>Pfe(Number(e))),r=I.useMemo(()=>tpe(t,n),[t,n]);return h.jsxs(h.Fragment,{children:[h.jsx(Vr,{children:h.jsx("title",{children:"ALLCLL |  -   "})}),h.jsx("h1",{className:"text-2xl font-bold mb-6",children:"   "}),h.jsxs("section",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[h.jsxs("div",{className:"relative bg-white p-6 rounded-2xl shadow-sm",children:[h.jsx("h2",{className:"text-lg font-semibold mb-4",children:"  "}),r?h.jsx(z_,{result:r}):h.jsx("div",{className:"text-center text-gray-500",children:"  ..."})]}),h.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm overflow-x-auto",children:[h.jsx("h2",{className:"text-lg font-semibold mb-4 min-w-[240px] overflow-x-auto",children:"  "}),r?h.jsx(Zhe,{result:r}):h.jsx("div",{className:"text-center text-gray-500",children:"  ..."})]})]}),h.jsxs("section",{className:"bg-white p-6 rounded-2xl shadow-sm",children:[h.jsx("div",{className:"flex items-start justify-between mb-4",children:h.jsx("h2",{className:"text-lg font-semibold mb-4",children:"     TimeLine"})}),r?h.jsx(Whe,{result:r}):h.jsx("div",{className:"text-center text-gray-500",children:"  ..."})]})]})}function tpe(e,t){if(!(!t||!e))return{...t,timeline:t.timeline.map(n=>({...n,subjectInfo:a2(e,n.subject_id)})),subject_results:t.subject_results.map(n=>({...n,subjectInfo:a2(e,n.subject_id)}))}}function npe(){const[e,t]=I.useState(!1),n=io(a=>a.filters),r=io(a=>a.setFilter),i=io(a=>a.resetFilters),{data:s}=Os(),o=Ap(s??[]).sort((a,l)=>a.localeCompare(l)).map(a=>a);return h.jsxs(Pe,{direction:"flex-wrap",align:"items-center",gap:"gap-2",className:"w-full",children:[h.jsx(nS,{handleOpenFilter:()=>t(!0)}),h.jsx(rS,{setFilter:r,selectedValue:n.department}),h.jsx(rr,{filterKey:"days",options:An.days,selectedValues:n.days??[],setFilter:r}),h.jsx(rr,{filterKey:"credits",options:An.credits,selectedValues:n.credits??[],setFilter:r}),h.jsx(rr,{filterKey:"grades",options:An.grades,selectedValues:n.grades??[],setFilter:r}),n.note?.length>0&&h.jsx(rr,{filterKey:"note",options:An.remark,selectedValues:n.note??[],setFilter:r}),n.categories?.length>0&&h.jsx(rr,{filterKey:"categories",options:o,selectedValues:n.categories??[],setFilter:r}),n.classroom?.length>0&&h.jsx(rr,{filterKey:"classroom",options:An.classRoom,selectedValues:n.classroom??[],setFilter:r}),h.jsx(iS,{filters:n,resetFilter:i}),e&&h.jsx(sS,{filterStore:io,onClose:()=>t(!1)})]})}function rpe(){const{openScheduleModal:e}=_i(),t=new Hi().toUiData();return h.jsxs("div",{className:"flex flex-col items-center gap-3 pt-5",children:[h.jsx(ry,{title:"  .",description:"  ?   ."}),h.jsx(Dt,{variant:"primary",size:"medium",onClick:()=>e(t),children:""})]})}function ipe({isActive:e,subject:t,onClick:n,forwardedRef:r}){const i=e?"text-blue-500 bg-blue-50":"text-gray-700 bg-white hover:bg-gray-50",{saveSchedule:s}=_i(),{selectTargetOnly:o}=Mp(),a=l=>{s(l,!1),o(t.subjectId),n1(t.deptCd)};return h.jsx("button",{type:"button",className:`border border-gray-200 rounded-lg p-3 sm:p-4 gap-2 sm:gap-3 ${i} cursor-pointer w-full text-left`,onClick:n,ref:r,children:h.jsxs(Pe,{direction:"flex-col",children:[h.jsxs(Pe,{justify:"justify-between",align:"items-center",gap:"gap-2 ",children:[h.jsx(qt,{level:3,children:t.subjectName}),h.jsx("span",{className:"text-xs sm:text-sm text-gray-500",children:t.professorName})]}),h.jsxs(Pe,{direction:"flex-col",justify:"justify-start",align:"items-start",gap:"gap-2 ",children:[h.jsx("span",{className:"text-xs sm:text-sm text-gray-500",children:t.lesnTime}),h.jsx("span",{className:"text-xs sm:text-sm text-gray-500",children:t.lesnRoom}),h.jsxs("span",{className:"text-xs sm:text-sm text-gray-500",children:[t.studentYear,"/",t.manageDeptNm]})]}),h.jsxs(Pe,{justify:"justify-between",align:"items-center",children:[h.jsxs(Fu,{variant:"default",children:[t.tmNum[0],""]}),e&&h.jsx(Dt,{variant:"primary",size:"medium",onClick:a,children:""})]})]})})}const spe=({message:e})=>h.jsxs(Pe,{"flex-direction":"column","justify-content":"center","align-item":"center",style:{height:"100%"},children:[h.jsx(Gn,{children:e||" "}),h.jsx(Gn,{children:"  ."})]});function PP({subjects:e,expandToMax:t,isPending:n=!1}){const{visibleRows:r,loadMoreRef:i}=s1(e,"ref"),s=I.useRef(null),o=$t(f=>f.schedule.subjectId),{openScheduleModal:a,cancelSchedule:l}=_i();if(n)return h.jsx(spe,{message:"   ..."});if(!e.length)return h.jsx(rpe,{});const c=f=>{if(o===f.subjectId){l(void 0,!1);return}const p=new Hi({...new Hi().toApiData(),scheduleType:"official",subjectId:f.subjectId??-1},f);a(p.toUiData()),console.log("official",o);const b=new of(f.lesnTime).toUiData(9)[0]?.top;t&&(t(),setTimeout(()=>{if(b){const _=Number.parseFloat(b);window.scrollTo({top:_,behavior:"smooth"})}},400))};return h.jsxs(Pe,{direction:"flex-col",justify:"justify-end",gap:"gap-2",children:[e.slice(0,r).map(f=>{const p=o===f.subjectId;return h.jsx(ipe,{subject:f,isActive:p,onClick:()=>c(f),forwardedRef:p?s:void 0},f.subjectId)}),r<e.length&&h.jsx("div",{ref:i,className:"load-more-trigger w-full h-10"})]})}const ope=new Hi().toUiData();function ape(){const{openScheduleModal:e}=_i(),{data:t,isPending:n}=Sa(),r=Rp(t)??[],i=io(a=>a.filters),s=io(a=>a.setFilter),o=I.useDeferredValue(df(r,i));return h.jsx(Yn,{children:h.jsxs(Pe,{direction:"flex-col",gap:"gap-3",className:"w-full bg-white h-screen md:border-t-0",children:[h.jsx(uc,{type:"text",value:i.keywords,placeholder:" ",onDelete:()=>s("keywords",""),onChange:a=>s("keywords",a.target.value),className:"w-full"}),h.jsx(npe,{}),h.jsx(Dt,{variant:"text",size:"small",onClick:()=>e(ope),children:"+   "}),h.jsx(Pe,{direction:"flex-col",className:"h-full overflow-hidden overflow-y-auto",children:h.jsx(PP,{subjects:o,isPending:n})})]})})}function lpe({currentSemester:e}){const t="border-b-2 border-primary text-primary pb-2";return h.jsx(Pe,{gap:"gap-4",className:"border-b text-sm md:text-base border-gray-200",children:Vu.map(n=>{const r=e===n;return h.jsxs(ii,{to:`/timetable?semester=${n}`,className:r?t:"text-gray-500 pb-2",children:[n,""]},n)})})}var vb={exports:{}},j8;function upe(){return j8||(j8=1,function(e){(function(t){var n=O(),r=$(),i=B(),s=j(),o={imagePlaceholder:void 0,cacheBust:!1},a={toSvg:l,toPng:f,toJpeg:p,toBlob:g,toPixelData:c,impl:{fontFaces:i,images:s,util:n,inliner:r,options:{}}};e.exports=a;function l(M,U){return U=U||{},y(U),Promise.resolve(M).then(function(D){return _(D,U.filter,!0)}).then(C).then(k).then(z).then(function(D){return P(D,U.width||n.width(M),U.height||n.height(M))});function z(D){return U.bgcolor&&(D.style.backgroundColor=U.bgcolor),U.width&&(D.style.width=U.width+"px"),U.height&&(D.style.height=U.height+"px"),U.style&&Object.keys(U.style).forEach(function(ee){D.style[ee]=U.style[ee]}),D}}function c(M,U){return b(M,U||{}).then(function(z){return z.getContext("2d").getImageData(0,0,n.width(M),n.height(M)).data})}function f(M,U){return b(M,U||{}).then(function(z){return z.toDataURL()})}function p(M,U){return U=U||{},b(M,U).then(function(z){return z.toDataURL("image/jpeg",U.quality||1)})}function g(M,U){return b(M,U||{}).then(n.canvasToBlob)}function y(M){typeof M.imagePlaceholder>"u"?a.impl.options.imagePlaceholder=o.imagePlaceholder:a.impl.options.imagePlaceholder=M.imagePlaceholder,typeof M.cacheBust>"u"?a.impl.options.cacheBust=o.cacheBust:a.impl.options.cacheBust=M.cacheBust}function b(M,U){return l(M,U).then(n.makeImage).then(n.delay(100)).then(function(D){var ee=z(M);return ee.getContext("2d").drawImage(D,0,0),ee});function z(D){var ee=document.createElement("canvas");if(ee.width=U.width||n.width(D),ee.height=U.height||n.height(D),U.bgcolor){var J=ee.getContext("2d");J.fillStyle=U.bgcolor,J.fillRect(0,0,ee.width,ee.height)}return ee}}function _(M,U,z){if(!z&&U&&!U(M))return Promise.resolve();return Promise.resolve(M).then(D).then(function(re){return ee(M,re,U)}).then(function(re){return J(M,re)});function D(re){return re instanceof HTMLCanvasElement?n.makeImage(re.toDataURL()):re.cloneNode(!1)}function ee(re,q,V){var Q=re.childNodes;if(Q.length===0)return Promise.resolve(q);return ne(q,n.asArray(Q),V).then(function(){return q});function ne(Z,fe,F){var G=Promise.resolve();return fe.forEach(function(ye){G=G.then(function(){return _(ye,F)}).then(function(H){H&&Z.appendChild(H)})}),G}}function J(re,q){if(!(q instanceof Element))return q;return Promise.resolve().then(V).then(Q).then(ne).then(Z).then(function(){return q});function V(){fe(window.getComputedStyle(re),q.style);function fe(F,G){F.cssText?G.cssText=F.cssText:ye(F,G);function ye(H,Me){n.asArray(H).forEach(function(Ee){Me.setProperty(Ee,H.getPropertyValue(Ee),H.getPropertyPriority(Ee))})}}}function Q(){[":before",":after"].forEach(function(F){fe(F)});function fe(F){var G=window.getComputedStyle(re,F),ye=G.getPropertyValue("content");if(ye===""||ye==="none")return;var H=n.uid();q.className=q.className+" "+H;var Me=document.createElement("style");Me.appendChild(Ee(H,F,G)),q.appendChild(Me);function Ee(Te,Ye,Ve){var Ie="."+Te+":"+Ye,ut=Ve.cssText?Cn(Ve):Nt(Ve);return document.createTextNode(Ie+"{"+ut+"}");function Cn(jn){var ln=jn.getPropertyValue("content");return jn.cssText+" content: "+ln+";"}function Nt(jn){return n.asArray(jn).map(ln).join("; ")+";";function ln(wn){return wn+": "+jn.getPropertyValue(wn)+(jn.getPropertyPriority(wn)?" !important":"")}}}}}function ne(){re instanceof HTMLTextAreaElement&&(q.innerHTML=re.value),re instanceof HTMLInputElement&&q.setAttribute("value",re.value)}function Z(){q instanceof SVGElement&&(q.setAttribute("xmlns","http://www.w3.org/2000/svg"),q instanceof SVGRectElement&&["width","height"].forEach(function(fe){var F=q.getAttribute(fe);F&&q.style.setProperty(fe,F)}))}}}function C(M){return i.resolveAll().then(function(U){var z=document.createElement("style");return M.appendChild(z),z.appendChild(document.createTextNode(U)),M})}function k(M){return s.inlineAll(M).then(function(){return M})}function P(M,U,z){return Promise.resolve(M).then(function(D){return D.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),new XMLSerializer().serializeToString(D)}).then(n.escapeXhtml).then(function(D){return'<foreignObject x="0" y="0" width="100%" height="100%">'+D+"</foreignObject>"}).then(function(D){return'<svg xmlns="http://www.w3.org/2000/svg" width="'+U+'" height="'+z+'">'+D+"</svg>"}).then(function(D){return"data:image/svg+xml;charset=utf-8,"+D})}function O(){return{escape:Z,parseExtension:U,mimeType:z,dataAsUrl:ne,isDataUrl:D,canvasToBlob:J,resolveUrl:re,getAndEncode:Q,uid:q(),delay:fe,asArray:F,escapeXhtml:G,makeImage:V,width:ye,height:H};function M(){var Ee="application/font-woff",Te="image/jpeg";return{woff:Ee,woff2:Ee,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:Te,jpeg:Te,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml"}}function U(Ee){var Te=/\.([^\.\/]*?)$/g.exec(Ee);return Te?Te[1]:""}function z(Ee){var Te=U(Ee).toLowerCase();return M()[Te]||""}function D(Ee){return Ee.search(/^(data:)/)!==-1}function ee(Ee){return new Promise(function(Te){for(var Ye=window.atob(Ee.toDataURL().split(",")[1]),Ve=Ye.length,Ie=new Uint8Array(Ve),ut=0;ut<Ve;ut++)Ie[ut]=Ye.charCodeAt(ut);Te(new Blob([Ie],{type:"image/png"}))})}function J(Ee){return Ee.toBlob?new Promise(function(Te){Ee.toBlob(Te)}):ee(Ee)}function re(Ee,Te){var Ye=document.implementation.createHTMLDocument(),Ve=Ye.createElement("base");Ye.head.appendChild(Ve);var Ie=Ye.createElement("a");return Ye.body.appendChild(Ie),Ve.href=Te,Ie.href=Ee,Ie.href}function q(){var Ee=0;return function(){return"u"+Te()+Ee++;function Te(){return("0000"+(Math.random()*Math.pow(36,4)<<0).toString(36)).slice(-4)}}}function V(Ee){return new Promise(function(Te,Ye){var Ve=new Image;Ve.onload=function(){Te(Ve)},Ve.onerror=Ye,Ve.src=Ee})}function Q(Ee){var Te=3e4;return a.impl.options.cacheBust&&(Ee+=(/\?/.test(Ee)?"&":"?")+new Date().getTime()),new Promise(function(Ye){var Ve=new XMLHttpRequest;Ve.onreadystatechange=Cn,Ve.ontimeout=Nt,Ve.responseType="blob",Ve.timeout=Te,Ve.open("GET",Ee,!0),Ve.send();var Ie;if(a.impl.options.imagePlaceholder){var ut=a.impl.options.imagePlaceholder.split(/,/);ut&&ut[1]&&(Ie=ut[1])}function Cn(){if(Ve.readyState===4){if(Ve.status!==200){Ie?Ye(Ie):jn("cannot fetch resource: "+Ee+", status: "+Ve.status);return}var ln=new FileReader;ln.onloadend=function(){var wn=ln.result.split(/,/)[1];Ye(wn)},ln.readAsDataURL(Ve.response)}}function Nt(){Ie?Ye(Ie):jn("timeout of "+Te+"ms occured while fetching resource: "+Ee)}function jn(ln){console.error(ln),Ye("")}})}function ne(Ee,Te){return"data:"+Te+";base64,"+Ee}function Z(Ee){return Ee.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1")}function fe(Ee){return function(Te){return new Promise(function(Ye){setTimeout(function(){Ye(Te)},Ee)})}}function F(Ee){for(var Te=[],Ye=Ee.length,Ve=0;Ve<Ye;Ve++)Te.push(Ee[Ve]);return Te}function G(Ee){return Ee.replace(/#/g,"%23").replace(/\n/g,"%0A")}function ye(Ee){var Te=Me(Ee,"border-left-width"),Ye=Me(Ee,"border-right-width");return Ee.scrollWidth+Te+Ye}function H(Ee){var Te=Me(Ee,"border-top-width"),Ye=Me(Ee,"border-bottom-width");return Ee.scrollHeight+Te+Ye}function Me(Ee,Te){var Ye=window.getComputedStyle(Ee).getPropertyValue(Te);return parseFloat(Ye.replace("px",""))}}function $(){var M=/url\(['"]?([^'"]+?)['"]?\)/g;return{inlineAll:ee,shouldProcess:U,impl:{readUrls:z,inline:D}};function U(J){return J.search(M)!==-1}function z(J){for(var re=[],q;(q=M.exec(J))!==null;)re.push(q[1]);return re.filter(function(V){return!n.isDataUrl(V)})}function D(J,re,q,V){return Promise.resolve(re).then(function(ne){return q?n.resolveUrl(ne,q):ne}).then(V||n.getAndEncode).then(function(ne){return n.dataAsUrl(ne,n.mimeType(re))}).then(function(ne){return J.replace(Q(re),"$1"+ne+"$3")});function Q(ne){return new RegExp(`(url\\(['"]?)(`+n.escape(ne)+`)(['"]?\\))`,"g")}}function ee(J,re,q){if(V())return Promise.resolve(J);return Promise.resolve(J).then(z).then(function(Q){var ne=Promise.resolve(J);return Q.forEach(function(Z){ne=ne.then(function(fe){return D(fe,Z,re,q)})}),ne});function V(){return!U(J)}}}function B(){return{resolveAll:M,impl:{readAll:U}};function M(){return U().then(function(z){return Promise.all(z.map(function(D){return D.resolve()}))}).then(function(z){return z.join(`
`)})}function U(){return Promise.resolve(n.asArray(document.styleSheets)).then(D).then(z).then(function(J){return J.map(ee)});function z(J){return J.filter(function(re){return re.type===CSSRule.FONT_FACE_RULE}).filter(function(re){return r.shouldProcess(re.style.getPropertyValue("src"))})}function D(J){var re=[];return J.forEach(function(q){try{n.asArray(q.cssRules||[]).forEach(re.push.bind(re))}catch(V){console.log("Error while reading CSS rules from "+q.href,V.toString())}}),re}function ee(J){return{resolve:function(){var q=(J.parentStyleSheet||{}).href;return r.inlineAll(J.cssText,q)},src:function(){return J.style.getPropertyValue("src")}}}}}function j(){return{inlineAll:U,impl:{newImage:M}};function M(z){return{inline:D};function D(ee){return n.isDataUrl(z.src)?Promise.resolve():Promise.resolve(z.src).then(ee||n.getAndEncode).then(function(J){return n.dataAsUrl(J,n.mimeType(z.src))}).then(function(J){return new Promise(function(re,q){z.onload=re,z.onerror=q,z.src=J})})}}function U(z){if(!(z instanceof Element))return Promise.resolve(z);return D(z).then(function(){return z instanceof HTMLImageElement?M(z).inline():Promise.all(n.asArray(z.childNodes).map(function(ee){return U(ee)}))});function D(ee){var J=ee.style.getPropertyValue("background");return J?r.inlineAll(J).then(function(re){ee.style.setProperty("background",re,ee.style.getPropertyPriority("background"))}).then(function(){return ee}):Promise.resolve(ee)}}}})()}(vb)),vb.exports}var cpe=upe();const dpe=Vi(cpe);var m0={exports:{}},fpe=m0.exports,I8;function hpe(){return I8||(I8=1,function(e,t){(function(n,r){r()})(fpe,function(){function n(c,f){return typeof f>"u"?f={autoBom:!1}:typeof f!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),f={autoBom:!f}),f.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(c.type)?new Blob(["\uFEFF",c],{type:c.type}):c}function r(c,f,p){var g=new XMLHttpRequest;g.open("GET",c),g.responseType="blob",g.onload=function(){l(g.response,f,p)},g.onerror=function(){console.error("could not download file")},g.send()}function i(c){var f=new XMLHttpRequest;f.open("HEAD",c,!1);try{f.send()}catch{}return 200<=f.status&&299>=f.status}function s(c){try{c.dispatchEvent(new MouseEvent("click"))}catch{var f=document.createEvent("MouseEvents");f.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),c.dispatchEvent(f)}}var o=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof ph=="object"&&ph.global===ph?ph:void 0,a=o.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),l=o.saveAs||(typeof window!="object"||window!==o?function(){}:"download"in HTMLAnchorElement.prototype&&!a?function(c,f,p){var g=o.URL||o.webkitURL,y=document.createElement("a");f=f||c.name||"download",y.download=f,y.rel="noopener",typeof c=="string"?(y.href=c,y.origin===location.origin?s(y):i(y.href)?r(c,f,p):s(y,y.target="_blank")):(y.href=g.createObjectURL(c),setTimeout(function(){g.revokeObjectURL(y.href)},4e4),setTimeout(function(){s(y)},0))}:"msSaveOrOpenBlob"in navigator?function(c,f,p){if(f=f||c.name||"download",typeof c!="string")navigator.msSaveOrOpenBlob(n(c,p),f);else if(i(c))r(c,f,p);else{var g=document.createElement("a");g.href=c,g.target="_blank",setTimeout(function(){s(g)})}}:function(c,f,p,g){if(g=g||open("","_blank"),g&&(g.document.title=g.document.body.innerText="downloading..."),typeof c=="string")return r(c,f,p);var y=c.type==="application/octet-stream",b=/constructor/i.test(o.HTMLElement)||o.safari,_=/CriOS\/[\d]+/.test(navigator.userAgent);if((_||y&&b||a)&&typeof FileReader<"u"){var C=new FileReader;C.onloadend=function(){var O=C.result;O=_?O:O.replace(/^data:[^;]*;/,"data:attachment/file;"),g?g.location.href=O:location=O,g=null},C.readAsDataURL(c)}else{var k=o.URL||o.webkitURL,P=k.createObjectURL(c);g?g.location=P:location.href=P,g=null,setTimeout(function(){k.revokeObjectURL(P)},4e4)}});o.saveAs=l.saveAs=l,e.exports=l})}(m0)),m0.exports}var ppe=hpe();function mpe(e,t="image.png"){if(!e){console.error("Image reference is not set");return}dpe.toBlob(e).then(n=>ppe.saveAs(n,t)).catch(n=>{console.error("Error saving image:",n)})}const gpe=e=>I.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},I.createElement("path",{d:"M10 12.9791C9.8889 12.9791 9.78473 12.9619 9.68751 12.9274C9.59029 12.893 9.50001 12.8338 9.41668 12.7499L6.41668 9.74992C6.25001 9.58325 6.17001 9.38881 6.17668 9.16659C6.18334 8.94437 6.26334 8.74992 6.41668 8.58325C6.58334 8.41659 6.7814 8.32992 7.01084 8.32325C7.24029 8.31659 7.43807 8.39631 7.60418 8.56242L9.16668 10.1249V4.16659C9.16668 3.93048 9.24668 3.7327 9.40668 3.57325C9.56668 3.41381 9.76445 3.33381 10 3.33325C10.2356 3.3327 10.4336 3.4127 10.5942 3.57325C10.7547 3.73381 10.8345 3.93159 10.8333 4.16659V10.1249L12.3958 8.56242C12.5625 8.39575 12.7606 8.31575 12.99 8.32242C13.2195 8.32909 13.4172 8.41603 13.5833 8.58325C13.7361 8.74992 13.8161 8.94437 13.8233 9.16659C13.8306 9.38881 13.7506 9.58325 13.5833 9.74992L10.5833 12.7499C10.5 12.8333 10.4097 12.8924 10.3125 12.9274C10.2153 12.9624 10.1111 12.9796 10 12.9791ZM5.00001 16.6666C4.54168 16.6666 4.14945 16.5035 3.82334 16.1774C3.49723 15.8513 3.3339 15.4588 3.33334 14.9999V13.3333C3.33334 13.0971 3.41334 12.8994 3.57334 12.7399C3.73334 12.5805 3.93112 12.5005 4.16668 12.4999C4.40223 12.4994 4.60029 12.5794 4.76084 12.7399C4.9214 12.9005 5.00112 13.0983 5.00001 13.3333V14.9999H15V13.3333C15 13.0971 15.08 12.8994 15.24 12.7399C15.4 12.5805 15.5978 12.5005 15.8333 12.4999C16.0689 12.4994 16.267 12.5794 16.4275 12.7399C16.5881 12.9005 16.6678 13.0983 16.6667 13.3333V14.9999C16.6667 15.4583 16.5036 15.8508 16.1775 16.1774C15.8514 16.5041 15.4589 16.6671 15 16.6666H5.00001Z",fill:"#9CA3AF"}));function ype({setIsOpenModal:e,timetables:t}){const n=$t(o=>o.options.isMobile),r=ha(o=>o.openBottomSheet),i=()=>{const o=$t.getState()?.currentTimetable?.timeTableName,a=$t.getState().options.containerRef;mpe(a,o?o+".png":".png")},s=()=>{e("create")};return h.jsxs(Pe,{children:[h.jsx(Tr,{icon:h.jsx(gpe,{className:"w-5 h-5"}),variant:"plain",label:"  ",onClick:i}),n&&h.jsx(Tr,{icon:h.jsx(o1,{className:"w-5 h-5"}),variant:"plain",label:" ",onClick:()=>r("search")}),!n&&t&&t.length>=0&&h.jsx(Dt,{variant:"text",size:"medium",onClick:s,children:"+  "})]})}const vpe=({setIsOpenModal:e,openCreateModal:t,timetables:n,currentTimetable:r})=>{const i=$t(c=>c.pickTimetable),{mutate:s}=rj(),o=c=>{const f=n.find(p=>p.timeTableId===c.timeTableId);f&&i(f)},a=()=>{e("edit")},l=c=>{s(c)};return!r&&n.length===0?h.jsx(Dt,{variant:"primary",size:"medium",onClick:t,children:" "}):h.jsxs(Nd,{children:[h.jsx(Nd.Trigger,{label:r?r.timeTableName:" "}),h.jsx(Nd.Content,{children:h.jsxs(Pe,{direction:"flex-col",gap:"gap-4",children:[n.length===0&&h.jsx(Gn,{children:"  ."}),n.map(c=>h.jsxs(Pe,{gap:"gap-4",children:[h.jsx(Py,{label:c.timeTableName,checked:r?.timeTableId===c.timeTableId,onChange:()=>o(c)},c.timeTableId),r?.timeTableId===c.timeTableId&&h.jsxs(Pe,{gap:"gap-4",children:[h.jsx(Dt,{variant:"text",size:"small",onClick:a,children:""}),h.jsx(Dt,{variant:"text",size:"small",textColor:"secondary",onClick:()=>l(c.timeTableId),children:""})]})]},c.timeTableName+c.timeTableId)),r&&h.jsx(Dt,{variant:"text",size:"small",textColor:"gray",onClick:t,children:"+  "})]})})]})};function xpe({onClose:e,type:t}){const[n,r]=I.useState(""),[i,s]=I.useState(v_.semester),o=$t(b=>b.currentTimetable),{mutate:a}=mK(),{mutate:l}=rj(),{mutate:c}=ij(),f=()=>{t==="edit"&&o&&(l(o.timeTableId),e())},p=b=>{if(b.preventDefault(),o&&t==="edit"){a({timeTableId:o.timeTableId,timeTableName:n}),e();return}t==="create"&&(c({timeTableName:n,semester:i}),e())},g=b=>{b.key==="Escape"&&e()};I.useEffect(()=>(window.addEventListener("keydown",g),()=>{window.removeEventListener("keydown",g)}),[]);const y=b=>{if(t==="edit"){alert("   .");return}s(b)};return h.jsx(Jn,{title:`${t==="edit"?" ":" "}`,onClose:e,isOpen:!0,children:h.jsxs("form",{onSubmit:p,children:[h.jsxs(Jn.Content,{children:[h.jsx(Br,{children:" "}),h.jsx(Ol,{columns:{base:2},gap:"gap-2",children:Vu.map(b=>h.jsx(Xn,{label:b,selected:b===i,onClick:()=>y(b)},b))}),h.jsx(H9,{id:"timetableName",required:!0,size:"medium",placeholder:"  .",value:n,onChange:b=>r(b.target.value)},"timetableName")]}),h.jsxs(Jn.Footer,{children:[h.jsx(Dt,{type:"submit",variant:"primary",size:"medium",children:""}),o&&t==="edit"&&h.jsx(Dt,{type:"button",variant:"secondary",textColor:"secondary",size:"medium",onClick:f,children:""})]})]})})}const bpe=(e,t)=>{const n=$t(i=>i.currentTimetable),r=$t(i=>i.pickTimetable);return I.useEffect(()=>{r(t[0])},[e]),{currentSemester:e,currentTimetable:n}};function wpe({currentSemester:e}){const{data:t}=tj(e),{currentTimetable:n}=bpe(e,t??[]),r=$t(l=>l.pickTimetable),{data:i}=nj(n?.timeTableId),[s,o]=I.useState(null),a=()=>{o("create")};return I.useEffect(()=>{if(!t)return;!n&&t.length>0&&r(t[0]),t.find(c=>c.timeTableId===n?.timeTableId)||r(t[t.length-1])},[t]),h.jsxs(Yn,{className:"px-2 flex flex-col gap-2 relative overflow-hidden",children:[h.jsx("header",{children:h.jsxs(Pe,{align:"items-center",justify:"justify-between",gap:"gap-2",children:[h.jsx(vpe,{timetables:t??[],currentTimetable:n,setIsOpenModal:o,openCreateModal:a}),h.jsx(ype,{setIsOpenModal:o}),s&&h.jsx(xpe,{type:s,onClose:()=>o(null)})]})}),h.jsx(MK,{schedules:i??[]})]})}function _pe({onCloseSearch:e,onOpenFiltering:t}){const{data:n=[],isPending:r}=Os(),{openScheduleModal:i}=_i(),s=io(f=>f.filters),o=io(f=>f.setFilter),{keywords:a}=s,l=I.useDeferredValue(df(n,s)),c=new Hi().toUiData();return h.jsx(Dp,{children:({expandToMax:f})=>h.jsxs(h.Fragment,{children:[h.jsx(Lp,{title:"",headerType:"add",onClose:e,onClick:()=>i(c)}),h.jsxs("div",{className:"sticky px-2 top-0 bg-white z-10 flex items-center gap-2 py-3",children:[h.jsx(uc,{type:"text",placeholder:"   ",value:a,onChange:p=>o("keywords",p.target.value),onDelete:()=>o("keywords",""),className:"w-full"}),h.jsx(Tr,{"aria-label":"filter",variant:"plain",label:"filter",icon:h.jsx(cN,{className:"w-6 h-6"}),onClick:()=>t()})]}),h.jsx(Pe,{direction:"flex-col",className:"max-h-[70vh] min-h-0 px-2 overflow-y-auto touch-auto",children:h.jsx(PP,{expandToMax:f,subjects:l,isPending:r})})]})})}const Spe=(e,t)=>{const n=uy(e),r=uy(t);return{startHour:n.hour,startMinute:n.minute,endHour:r.hour,endMinute:r.minute}},Cpe={hour:"10",minute:"00"},uy=(e,t=Cpe)=>{if(!e)return t;let[n,r]=e.split(":").map(Number);return Number.isNaN(n)&&(n=Number(t.hour)),Number.isNaN(r)&&(r=Number(t.minute)),{hour:n.toString(),minute:r.toString().padStart(2,"0")}},N8=e=>{const{hour:t,minute:n}=e;return`${t}:${n}`};function kpe(e,t){return e.some(r=>r.dayOfWeeks===t)?e.filter(r=>r.dayOfWeeks!==t):[...e,{dayOfWeeks:t,startTime:"",endTime:""}]}function Epe(e,t,n){const r=uy(e.startTime),i=uy(e.endTime);let s=r,o=i;switch(t){case"startHour":s={...r,hour:n};break;case"startMinute":s={...r,minute:n};break;case"endHour":o={...i,hour:n};break;case"endMinute":o={...i,minute:n};break}return{...e,startTime:N8(s),endTime:N8(o)}}const Gg=Array.from({length:24},(e,t)=>`${t}`),Yg=["00","10","20","30","40","50"];function Tpe({timeRange:e,onChange:t,day:n}){const r=(i,s)=>{if(n){t(i,s,n);return}t(i,s)};return h.jsx("div",{className:" w-full h-3 flex gap-2 flex-col justify-center",children:h.jsxs("div",{className:"relative w-full flex gap-2 flex-wrap",children:[h.jsx("select",{name:"startHour",value:e.startHour??Gg[8],onChange:i=>r("startHour",i.target.value),className:"bg-gray-100 px-3 py-2 rounded-md text-xs text-gray-600 w-fit",children:Gg.map(i=>h.jsx("option",{value:i,children:i},i))}),h.jsx("select",{name:"startMinute",value:e.startMinute??Yg[0],onChange:i=>r("startMinute",i.target.value),className:"bg-gray-100 px-3 py-2 rounded-md text-xs text-gray-600 w-fit",children:Yg.map(i=>h.jsx("option",{value:i,children:i},i))}),h.jsx("span",{className:"text-gray-400 text-sm mx-1",children:"~"}),h.jsx("select",{name:"endHour",value:e.endHour??Gg[9],onChange:i=>r("endHour",i.target.value),className:"bg-gray-100 px-3 py-2 rounded-md text-xs text-gray-600 w-fit",children:Gg.map(i=>h.jsx("option",{value:i,children:i},i))}),h.jsx("select",{name:"endMinute",value:e.endMinute??Yg[0],onChange:i=>r("endMinute",i.target.value),className:"bg-gray-100 px-3 py-2 rounded-md text-xs text-gray-600 w-fit",children:Yg.map(i=>h.jsx("option",{value:i,children:i},i))})]})})}function RP(){const e=$t(o=>o.options.isMobile),{schedule:t}=kp(),{editSchedule:n}=_i(),r=[{id:"subjectName",name:"",value:t?.subjectName??""},{id:"professorName",name:"",value:t?.professorName??""},{id:"location",name:"",value:t?.location??""}],i=o=>{n(a=>({...a,timeSlots:kpe(a.timeSlots,o)}))},s=(o,a,l)=>{n(c=>{const f=c.timeSlots.map(p=>p.dayOfWeeks===l?Epe(p,o,a):p);return{...c,timeSlots:f}})};return h.jsxs(Pe,{direction:"flex-col",gap:e?"gap-4":"gap-5",children:[r.map(({id:o,name:a,value:l})=>h.jsx(H9,{size:"medium",id:o,placeholder:`${a} `,value:l,label:a,onChange:c=>n(f=>({...f,[o]:c.target.value})),required:!0},o)),h.jsxs(Pe,{gap:"gap-2",direction:"flex-col",children:[h.jsx(Br,{children:""}),h.jsx(Pe,{direction:"flex-wrap",children:Fy.map(o=>h.jsx(Xn,{label:o,selected:t.timeSlots.some(a=>a.dayOfWeeks===o),onClick:()=>i(o)},o))})]}),t.timeSlots.map(o=>h.jsxs(Pe,{direction:"flex-col",gap:"gap-4",children:[h.jsx(Br,{children:o.dayOfWeeks}),h.jsx(Tpe,{day:o.dayOfWeeks,timeRange:Spe(o.startTime,o.endTime),onChange:s})]},o.dayOfWeeks))]})}function jpe(){const{modalActionType:e}=kp(),t=e===lr.CREATE?"":"",{saveSchedule:n,deleteSchedule:r,cancelSchedule:i}=_i(),s=fs(),o=c=>{c.key==="Escape"&&i(c)};I.useEffect(()=>(document.addEventListener("keydown",o),()=>{document.removeEventListener("keydown",o)}),[]);const a=c=>{n(c)},l=c=>{r(c)};return h.jsx(Jn,{title:`  ${t}`,onClose:i,isOpen:!0,children:h.jsxs("form",{onSubmit:a,className:"flex flex-col gap-5",children:[h.jsx(Jn.Content,{children:h.jsx(RP,{})}),h.jsxs(Jn.Footer,{children:[(e===lr.EDIT||e===lr.VIEW)&&h.jsx(Dt,{variant:"secondary",size:s?"small":"medium",onClick:l,children:""}),h.jsx(Dt,{type:"submit",variant:"primary",size:s?"small":"medium",children:""})]})]})})}const OP=e=>I.createElement("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},I.createElement("path",{d:"M8.5 4.6665C8.5 4.5339 8.44732 4.40672 8.35355 4.31295C8.25979 4.21918 8.13261 4.1665 8 4.1665C7.86739 4.1665 7.74022 4.21918 7.64645 4.31295C7.55268 4.40672 7.5 4.5339 7.5 4.6665V7.99984C7.49996 8.08461 7.52148 8.168 7.56253 8.24217C7.60358 8.31634 7.66282 8.37885 7.73467 8.42384L9.73467 9.67384C9.84712 9.74421 9.98292 9.76703 10.1122 9.73727C10.1762 9.72254 10.2367 9.69534 10.2902 9.65723C10.3437 9.61912 10.3892 9.57085 10.424 9.51517C10.4588 9.45949 10.4824 9.39749 10.4933 9.33272C10.5041 9.26794 10.5022 9.20165 10.4874 9.13764C10.4727 9.07363 10.4455 9.01315 10.4074 8.95965C10.3693 8.90615 10.321 8.86068 10.2653 8.82584L8.5 7.7225V4.6665Z",fill:"#D1D5DB"}),I.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.99996 2.1665C6.45286 2.1665 4.96913 2.78109 3.87517 3.87505C2.78121 4.96901 2.16663 6.45274 2.16663 7.99984C2.16663 9.54693 2.78121 11.0307 3.87517 12.1246C4.96913 13.2186 6.45286 13.8332 7.99996 13.8332C9.54706 13.8332 11.0308 13.2186 12.1248 12.1246C13.2187 11.0307 13.8333 9.54693 13.8333 7.99984C13.8333 6.45274 13.2187 4.96901 12.1248 3.87505C11.0308 2.78109 9.54706 2.1665 7.99996 2.1665ZM3.16663 7.99984C3.16663 7.36512 3.29164 6.73661 3.53454 6.1502C3.77744 5.56379 4.13346 5.03097 4.58228 4.58215C5.03109 4.13334 5.56392 3.77732 6.15032 3.53442C6.73673 3.29152 7.36524 3.1665 7.99996 3.1665C8.63468 3.1665 9.26319 3.29152 9.8496 3.53442C10.436 3.77732 10.9688 4.13334 11.4176 4.58215C11.8665 5.03097 12.2225 5.56379 12.4654 6.1502C12.7083 6.73661 12.8333 7.36512 12.8333 7.99984C12.8333 9.28172 12.3241 10.5111 11.4176 11.4175C10.5112 12.3239 9.28184 12.8332 7.99996 12.8332C6.71808 12.8332 5.4887 12.3239 4.58228 11.4175C3.67585 10.5111 3.16663 9.28172 3.16663 7.99984Z",fill:"#D1D5DB"})),MP=e=>I.createElement("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},I.createElement("path",{d:"M13.7069 6.79266L8.70688 1.79266C8.51936 1.60527 8.26511 1.5 8.00001 1.5C7.7349 1.5 7.48065 1.60527 7.29313 1.79266L2.29313 6.79266C2.19982 6.88528 2.12586 6.99552 2.07553 7.11698C2.02521 7.23844 1.99954 7.36869 2.00001 7.50016V13.5002C2.00001 13.6328 2.05268 13.7599 2.14645 13.8537C2.24022 13.9475 2.3674 14.0002 2.50001 14.0002H6.50001C6.63261 14.0002 6.75979 13.9475 6.85356 13.8537C6.94733 13.7599 7.00001 13.6328 7.00001 13.5002V10.0002H9.00001V13.5002C9.00001 13.6328 9.05268 13.7599 9.14645 13.8537C9.24022 13.9475 9.3674 14.0002 9.50001 14.0002H13.5C13.6326 14.0002 13.7598 13.9475 13.8536 13.8537C13.9473 13.7599 14 13.6328 14 13.5002V7.50016C14.0005 7.36869 13.9748 7.23844 13.9245 7.11698C13.8742 6.99552 13.8002 6.88528 13.7069 6.79266ZM13 13.0002H10V9.50016C10 9.36755 9.94733 9.24038 9.85356 9.14661C9.75979 9.05284 9.63261 9.00016 9.50001 9.00016H6.50001C6.3674 9.00016 6.24022 9.05284 6.14645 9.14661C6.05268 9.24038 6.00001 9.36755 6.00001 9.50016V13.0002H3.00001V7.50016L8.00001 2.50016L13 7.50016V13.0002Z",fill:"#D1D5DB"}));function Ipe(){const{schedule:e}=kp(),{deleteSchedule:t}=_i(),n=ha(o=>o.closeBottomSheet),{data:r}=Os(),i=o=>{confirm("  ?")&&t(o)},s=r?.find(o=>o.subjectId===e.subjectId);return h.jsxs(Jn,{title:e.subjectName,onClose:()=>n("info"),isOpen:!0,children:[h.jsx(Jn.Content,{children:h.jsxs(Pe,{direction:"flex-col",gap:"gap-1",className:"w-80 text-sm text-gray-500",children:[h.jsx("p",{children:e.professorName??"  "}),h.jsxs(Pe,{align:"items-center",gap:"gap-2",children:[h.jsx(OP,{className:"w-4 h-4 text-gray-400"}),h.jsx("p",{children:s?.lesnTime})]}),h.jsxs(Pe,{align:"items-center",gap:"gap-2",children:[h.jsx(MP,{className:"w-4 h-4 text-gray-400"}),h.jsx("p",{children:s?.lesnRoom??"  "})]}),h.jsxs("p",{children:[s?.manageDeptNm," ",s?.studentYear+""," ",h.jsx("span",{className:"text-blue-500",children:s?.tmNum[0]+""})]})]})}),h.jsx(Jn.Footer,{children:h.jsx(Dt,{variant:"text",size:"medium",textColor:"secondary",onClick:i,children:""})})]})}function Npe(){const{modalActionType:e}=kp(),{cancelSchedule:t,deleteSchedule:n,saveSchedule:r}=_i(),i=l=>{t(l)},s=e===lr.CREATE?"":"",o=fs(),a=l=>{r(l)};return h.jsxs(Dp,{children:[h.jsx(Lp,{title:`  ${s}`,headerType:"close",onClose:i}),h.jsxs("form",{onSubmit:a,className:"flex flex-col gap-5",children:[h.jsx(Pe,{direction:"flex-col",className:"py-5 px-2 overflow-y-auto max-h-[80vh]",children:h.jsx(RP,{})}),h.jsxs(Pe,{justify:"justify-end",gap:o?"gap-2":"gap-4",className:"p-4",children:[(e===lr.EDIT||e===lr.VIEW)&&h.jsx(Dt,{variant:"secondary",size:o?"small":"medium",onClick:n,children:""}),h.jsx(Dt,{type:"submit",variant:"primary",size:o?"small":"medium",children:""})]})]})]})}function Ppe(){const{schedule:e}=kp(),{deleteSchedule:t,cancelSchedule:n}=_i(),{data:r}=Os(),i=o=>{confirm("  ?")&&t(o)},s=r?.find(o=>o.subjectId===e.subjectId);return h.jsxs(Dp,{children:[h.jsx(Lp,{headerType:"close",onClose:n}),h.jsxs(Pe,{direction:"flex-col",className:"px-2 py-3 w-full text-sm text-gray-500 gap-2",children:[h.jsx(qt,{level:3,children:e.subjectName}),h.jsx("p",{className:"text-sm text-gray-500",children:e.professorName??"  "}),h.jsxs(Pe,{align:"items-center",children:[h.jsx(OP,{className:"w-4 h-4 text-gray-400"}),h.jsx("span",{children:s?.lesnTime})]}),h.jsxs(Pe,{align:"items-center",children:[h.jsx(MP,{className:"w-4 h-4 text-gray-400"}),h.jsx("span",{children:s?.lesnRoom??"  "})]}),h.jsxs(Pe,{children:[h.jsx("span",{children:s?.manageDeptNm}),h.jsxs("span",{children:[" ",s?.studentYear+""]}),h.jsx("span",{className:"text-blue-500 text-sm",children:s?.tmNum[0]+""})]}),h.jsxs(Pe,{children:[h.jsxs("span",{children:[s?.curiTypeCdNm??""," "]}),h.jsx("span",{children:s?.remark??""})]}),h.jsx(Pe,{justify:"justify-end",className:"px-2",children:h.jsx(Dt,{variant:"text",size:"medium",textColor:"secondary",onClick:i,children:""})})]})]})}function Rpe(){return fs()?h.jsx(Ope,{}):h.jsx(Mpe,{})}function Ope(){const e=ha(f=>f.type),t=ha(f=>f.closeBottomSheet),n=ha(f=>f.openBottomSheet),r=()=>{t("search")},i=()=>{t("filter"),n("search")},s=()=>{n("search")},o=()=>{n("filter")},a=io(f=>f.filters),l=io(f=>f.setFilter),c=io(f=>f.resetFilters);return h.jsxs(h.Fragment,{children:[h.jsx(Tu,{when:e.search.isOpen,children:h.jsx(_pe,{onCloseSearch:r,onOpenFiltering:o})}),h.jsx(Tu,{when:e.filter.isOpen,children:h.jsx(oS,{onCloseFiltering:i,filters:a,setFilter:l,resetFilter:c})}),h.jsx(Tu,{when:e.edit.isOpen,children:h.jsx(Npe,{})}),h.jsx(Tu,{when:e.info.isOpen,children:h.jsx(Ppe,{})}),h.jsx(Tu,{when:!e.search.isOpen&&!e.filter.isOpen&&!e.edit.isOpen&&!e.info.isOpen,children:h.jsx("div",{className:"fixed bottom-4 right-4 z-5",children:h.jsx(Dt,{size:"small",variant:"circle",onClick:s,children:h.jsx(hN,{fill:"#ffffff",className:"w-6 h-6 cursor-pointer"})})})})]})}function Mpe(){const e=ha(t=>t.type);return h.jsxs(h.Fragment,{children:[h.jsx(Tu,{when:e.edit.isOpen,children:h.jsx(jpe,{})}),h.jsx(Tu,{when:e.info.isOpen,children:h.jsx(Ipe,{})})]})}function Tu({when:e,children:t}){return e?h.jsx(h.Fragment,{children:t}):null}function Ape(){const{data:e}=x_("timetable"),[t]=$M(),n=t.get("semester")??e?.semester??Vu[0];return h.jsxs("div",{className:"px-4 py-2",children:[h.jsx(Vr,{children:h.jsx("title",{children:"ALLCLL | "})}),h.jsxs("div",{className:"grid md:grid-cols-5 gap-4 mb-4",children:[h.jsx("div",{className:"md:col-span-3 w-full",children:h.jsxs(Pe,{direction:"flex-col",gap:"gap-2",children:[h.jsx(qt,{level:1,children:""}),h.jsx(lpe,{currentSemester:n}),h.jsx(wpe,{currentSemester:n})]})}),h.jsx("div",{className:"w-full md:col-span-2 hidden md:block",children:h.jsx(ape,{})})]}),h.jsx(Rpe,{})]})}const Dpe=AM([{path:"/",element:h.jsx(K4,{}),errorElement:h.jsx(Sh,{}),children:[{path:"/",element:h.jsx(ete,{})},{path:"survey",element:h.jsx(mse,{})},{path:"about",element:h.jsx(pse,{})},{path:"faq",element:h.jsx(qde,{})}]},{path:"wishes",element:h.jsx(G4,{serviceId:"baskets"}),errorElement:h.jsx(bfe,{}),children:[{path:"",element:h.jsx(ofe,{})},{path:":id",element:h.jsx(vfe,{})}]},{path:"live",element:h.jsx(G4,{serviceId:"live"}),errorElement:h.jsx(Sh,{}),children:[{path:"",element:h.jsx(dse,{})}]},{path:"simulation",element:h.jsx(lK,{}),errorElement:h.jsx(Sh,{}),children:[{path:"",element:h.jsx(Mhe,{})},{path:"logs",element:h.jsx(Hhe,{})},{path:"logs/:runId",element:h.jsx(epe,{})}]},{path:"timetable",element:h.jsx(K4,{}),errorElement:h.jsx(Sh,{}),loader:({request:e})=>{if(!new URL(e.url).searchParams.get("semester"))throw mO(`/timetable?semester=${v_.semester}`);return null},children:[{path:"",element:h.jsx(Ape,{})}]},{path:"*",element:h.jsx(kP,{})}]),AP=new uA;OA.init("rqww72xge1"),sV.initialize(),PA.initialize("G-YY1G1HPVMF");window.__TANSTACK_QUERY_CLIENT__=AP;Lpe();function Lpe(){BR.createRoot(document.getElementById("root")).render(h.jsx(I.StrictMode,{children:h.jsx(pA,{client:AP,children:h.jsx(Dq,{children:h.jsx(QM,{router:Dpe})})})})),"serviceWorker"in navigator&&navigator.serviceWorker.register("/serviceWorker.js").then(function(e){console.log("Service Worker registered with scope:",e.scope)}).catch(function(e){console.log("Service Worker registration failed:",e)})}
//# sourceMappingURL=index-D-jCss9v.js.map
