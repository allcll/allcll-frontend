try{let e=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},t=new e.Error().stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="0a4bb455-2afc-4666-aef6-d49dc621ff1b",e._sentryDebugIdIdentifier="sentry-dbid-0a4bb455-2afc-4666-aef6-d49dc621ff1b")}catch{}function ZO(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}{let e=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};e.SENTRY_RELEASE={id:"ec8d2f2eec23dbecbd5ec849dcd0a0874b0b575b"}}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Ch=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ds(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var sb={exports:{}},sh={},ob={exports:{}},Kt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M5;function eP(){if(M5)return Kt;M5=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),p=Symbol.iterator;function g(ee){return ee===null||typeof ee!="object"?null:(ee=p&&ee[p]||ee["@@iterator"],typeof ee=="function"?ee:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,_={};function S(ee,ge,V){this.props=ee,this.context=ge,this.refs=_,this.updater=V||y}S.prototype.isReactComponent={},S.prototype.setState=function(ee,ge){if(typeof ee!="object"&&typeof ee!="function"&&ee!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,ee,ge,"setState")},S.prototype.forceUpdate=function(ee){this.updater.enqueueForceUpdate(this,ee,"forceUpdate")};function C(){}C.prototype=S.prototype;function I(ee,ge,V){this.props=ee,this.context=ge,this.refs=_,this.updater=V||y}var A=I.prototype=new C;A.constructor=I,x(A,S.prototype),A.isPureReactComponent=!0;var z=Array.isArray,U=Object.prototype.hasOwnProperty,O={current:null},N={key:!0,ref:!0,__self:!0,__source:!0};function F(ee,ge,V){var Te,Ce={},ke=null,Ve=null;if(ge!=null)for(Te in ge.ref!==void 0&&(Ve=ge.ref),ge.key!==void 0&&(ke=""+ge.key),ge)U.call(ge,Te)&&!N.hasOwnProperty(Te)&&(Ce[Te]=ge[Te]);var Ue=arguments.length-2;if(Ue===1)Ce.children=V;else if(1<Ue){for(var mt=Array(Ue),De=0;De<Ue;De++)mt[De]=arguments[De+2];Ce.children=mt}if(ee&&ee.defaultProps)for(Te in Ue=ee.defaultProps,Ue)Ce[Te]===void 0&&(Ce[Te]=Ue[Te]);return{$$typeof:e,type:ee,key:ke,ref:Ve,props:Ce,_owner:O.current}}function $(ee,ge){return{$$typeof:e,type:ee.type,key:ge,ref:ee.ref,props:ee.props,_owner:ee._owner}}function L(ee){return typeof ee=="object"&&ee!==null&&ee.$$typeof===e}function Z(ee){var ge={"=":"=0",":":"=2"};return"$"+ee.replace(/[=:]/g,function(V){return ge[V]})}var Y=/\/+/g;function he(ee,ge){return typeof ee=="object"&&ee!==null&&ee.key!=null?Z(""+ee.key):ge.toString(36)}function G(ee,ge,V,Te,Ce){var ke=typeof ee;(ke==="undefined"||ke==="boolean")&&(ee=null);var Ve=!1;if(ee===null)Ve=!0;else switch(ke){case"string":case"number":Ve=!0;break;case"object":switch(ee.$$typeof){case e:case t:Ve=!0}}if(Ve)return Ve=ee,Ce=Ce(Ve),ee=Te===""?"."+he(Ve,0):Te,z(Ce)?(V="",ee!=null&&(V=ee.replace(Y,"$&/")+"/"),G(Ce,ge,V,"",function(De){return De})):Ce!=null&&(L(Ce)&&(Ce=$(Ce,V+(!Ce.key||Ve&&Ve.key===Ce.key?"":(""+Ce.key).replace(Y,"$&/")+"/")+ee)),ge.push(Ce)),1;if(Ve=0,Te=Te===""?".":Te+":",z(ee))for(var Ue=0;Ue<ee.length;Ue++){ke=ee[Ue];var mt=Te+he(ke,Ue);Ve+=G(ke,ge,V,mt,Ce)}else if(mt=g(ee),typeof mt=="function")for(ee=mt.call(ee),Ue=0;!(ke=ee.next()).done;)ke=ke.value,mt=Te+he(ke,Ue++),Ve+=G(ke,ge,V,mt,Ce);else if(ke==="object")throw ge=String(ee),Error("Objects are not valid as a React child (found: "+(ge==="[object Object]"?"object with keys {"+Object.keys(ee).join(", ")+"}":ge)+"). If you meant to render a collection of children, use an array instead.");return Ve}function W(ee,ge,V){if(ee==null)return ee;var Te=[],Ce=0;return G(ee,Te,"","",function(ke){return ge.call(V,ke,Ce++)}),Te}function Q(ee){if(ee._status===-1){var ge=ee._result;ge=ge(),ge.then(function(V){(ee._status===0||ee._status===-1)&&(ee._status=1,ee._result=V)},function(V){(ee._status===0||ee._status===-1)&&(ee._status=2,ee._result=V)}),ee._status===-1&&(ee._status=0,ee._result=ge)}if(ee._status===1)return ee._result.default;throw ee._result}var te={current:null},X={transition:null},fe={ReactCurrentDispatcher:te,ReactCurrentBatchConfig:X,ReactCurrentOwner:O};function B(){throw Error("act(...) is not supported in production builds of React.")}return Kt.Children={map:W,forEach:function(ee,ge,V){W(ee,function(){ge.apply(this,arguments)},V)},count:function(ee){var ge=0;return W(ee,function(){ge++}),ge},toArray:function(ee){return W(ee,function(ge){return ge})||[]},only:function(ee){if(!L(ee))throw Error("React.Children.only expected to receive a single React element child.");return ee}},Kt.Component=S,Kt.Fragment=n,Kt.Profiler=i,Kt.PureComponent=I,Kt.StrictMode=r,Kt.Suspense=l,Kt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fe,Kt.act=B,Kt.cloneElement=function(ee,ge,V){if(ee==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+ee+".");var Te=x({},ee.props),Ce=ee.key,ke=ee.ref,Ve=ee._owner;if(ge!=null){if(ge.ref!==void 0&&(ke=ge.ref,Ve=O.current),ge.key!==void 0&&(Ce=""+ge.key),ee.type&&ee.type.defaultProps)var Ue=ee.type.defaultProps;for(mt in ge)U.call(ge,mt)&&!N.hasOwnProperty(mt)&&(Te[mt]=ge[mt]===void 0&&Ue!==void 0?Ue[mt]:ge[mt])}var mt=arguments.length-2;if(mt===1)Te.children=V;else if(1<mt){Ue=Array(mt);for(var De=0;De<mt;De++)Ue[De]=arguments[De+2];Te.children=Ue}return{$$typeof:e,type:ee.type,key:Ce,ref:ke,props:Te,_owner:Ve}},Kt.createContext=function(ee){return ee={$$typeof:o,_currentValue:ee,_currentValue2:ee,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},ee.Provider={$$typeof:s,_context:ee},ee.Consumer=ee},Kt.createElement=F,Kt.createFactory=function(ee){var ge=F.bind(null,ee);return ge.type=ee,ge},Kt.createRef=function(){return{current:null}},Kt.forwardRef=function(ee){return{$$typeof:a,render:ee}},Kt.isValidElement=L,Kt.lazy=function(ee){return{$$typeof:f,_payload:{_status:-1,_result:ee},_init:Q}},Kt.memo=function(ee,ge){return{$$typeof:c,type:ee,compare:ge===void 0?null:ge}},Kt.startTransition=function(ee){var ge=X.transition;X.transition={};try{ee()}finally{X.transition=ge}},Kt.unstable_act=B,Kt.useCallback=function(ee,ge){return te.current.useCallback(ee,ge)},Kt.useContext=function(ee){return te.current.useContext(ee)},Kt.useDebugValue=function(){},Kt.useDeferredValue=function(ee){return te.current.useDeferredValue(ee)},Kt.useEffect=function(ee,ge){return te.current.useEffect(ee,ge)},Kt.useId=function(){return te.current.useId()},Kt.useImperativeHandle=function(ee,ge,V){return te.current.useImperativeHandle(ee,ge,V)},Kt.useInsertionEffect=function(ee,ge){return te.current.useInsertionEffect(ee,ge)},Kt.useLayoutEffect=function(ee,ge){return te.current.useLayoutEffect(ee,ge)},Kt.useMemo=function(ee,ge){return te.current.useMemo(ee,ge)},Kt.useReducer=function(ee,ge,V){return te.current.useReducer(ee,ge,V)},Kt.useRef=function(ee){return te.current.useRef(ee)},Kt.useState=function(ee){return te.current.useState(ee)},Kt.useSyncExternalStore=function(ee,ge,V){return te.current.useSyncExternalStore(ee,ge,V)},Kt.useTransition=function(){return te.current.useTransition()},Kt.version="18.3.1",Kt}var D5;function Ny(){return D5||(D5=1,ob.exports=eP()),ob.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L5;function tP(){if(L5)return sh;L5=1;var e=Ny(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function o(a,l,c){var f,p={},g=null,y=null;c!==void 0&&(g=""+c),l.key!==void 0&&(g=""+l.key),l.ref!==void 0&&(y=l.ref);for(f in l)r.call(l,f)&&!s.hasOwnProperty(f)&&(p[f]=l[f]);if(a&&a.defaultProps)for(f in l=a.defaultProps,l)p[f]===void 0&&(p[f]=l[f]);return{$$typeof:t,type:a,key:g,ref:y,props:p,_owner:i.current}}return sh.Fragment=n,sh.jsx=o,sh.jsxs=o,sh}var F5;function nP(){return F5||(F5=1,sb.exports=tP()),sb.exports}var h=nP(),R=Ny();const wn=ds(R),r8=ZO({__proto__:null,default:wn},[R]);var dg={},ab={exports:{}},Di={},lb={exports:{}},cb={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B5;function rP(){return B5||(B5=1,(function(e){function t(X,fe){var B=X.length;X.push(fe);e:for(;0<B;){var ee=B-1>>>1,ge=X[ee];if(0<i(ge,fe))X[ee]=fe,X[B]=ge,B=ee;else break e}}function n(X){return X.length===0?null:X[0]}function r(X){if(X.length===0)return null;var fe=X[0],B=X.pop();if(B!==fe){X[0]=B;e:for(var ee=0,ge=X.length,V=ge>>>1;ee<V;){var Te=2*(ee+1)-1,Ce=X[Te],ke=Te+1,Ve=X[ke];if(0>i(Ce,B))ke<ge&&0>i(Ve,Ce)?(X[ee]=Ve,X[ke]=B,ee=ke):(X[ee]=Ce,X[Te]=B,ee=Te);else if(ke<ge&&0>i(Ve,B))X[ee]=Ve,X[ke]=B,ee=ke;else break e}}return fe}function i(X,fe){var B=X.sortIndex-fe.sortIndex;return B!==0?B:X.id-fe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],c=[],f=1,p=null,g=3,y=!1,x=!1,_=!1,S=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(X){for(var fe=n(c);fe!==null;){if(fe.callback===null)r(c);else if(fe.startTime<=X)r(c),fe.sortIndex=fe.expirationTime,t(l,fe);else break;fe=n(c)}}function z(X){if(_=!1,A(X),!x)if(n(l)!==null)x=!0,Q(U);else{var fe=n(c);fe!==null&&te(z,fe.startTime-X)}}function U(X,fe){x=!1,_&&(_=!1,C(F),F=-1),y=!0;var B=g;try{for(A(fe),p=n(l);p!==null&&(!(p.expirationTime>fe)||X&&!Z());){var ee=p.callback;if(typeof ee=="function"){p.callback=null,g=p.priorityLevel;var ge=ee(p.expirationTime<=fe);fe=e.unstable_now(),typeof ge=="function"?p.callback=ge:p===n(l)&&r(l),A(fe)}else r(l);p=n(l)}if(p!==null)var V=!0;else{var Te=n(c);Te!==null&&te(z,Te.startTime-fe),V=!1}return V}finally{p=null,g=B,y=!1}}var O=!1,N=null,F=-1,$=5,L=-1;function Z(){return!(e.unstable_now()-L<$)}function Y(){if(N!==null){var X=e.unstable_now();L=X;var fe=!0;try{fe=N(!0,X)}finally{fe?he():(O=!1,N=null)}}else O=!1}var he;if(typeof I=="function")he=function(){I(Y)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,W=G.port2;G.port1.onmessage=Y,he=function(){W.postMessage(null)}}else he=function(){S(Y,0)};function Q(X){N=X,O||(O=!0,he())}function te(X,fe){F=S(function(){X(e.unstable_now())},fe)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(X){X.callback=null},e.unstable_continueExecution=function(){x||y||(x=!0,Q(U))},e.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<X?Math.floor(1e3/X):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(X){switch(g){case 1:case 2:case 3:var fe=3;break;default:fe=g}var B=g;g=fe;try{return X()}finally{g=B}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(X,fe){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var B=g;g=X;try{return fe()}finally{g=B}},e.unstable_scheduleCallback=function(X,fe,B){var ee=e.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?ee+B:ee):B=ee,X){case 1:var ge=-1;break;case 2:ge=250;break;case 5:ge=1073741823;break;case 4:ge=1e4;break;default:ge=5e3}return ge=B+ge,X={id:f++,callback:fe,priorityLevel:X,startTime:B,expirationTime:ge,sortIndex:-1},B>ee?(X.sortIndex=B,t(c,X),n(l)===null&&X===n(c)&&(_?(C(F),F=-1):_=!0,te(z,B-ee))):(X.sortIndex=ge,t(l,X),x||y||(x=!0,Q(U))),X},e.unstable_shouldYield=Z,e.unstable_wrapCallback=function(X){var fe=g;return function(){var B=g;g=fe;try{return X.apply(this,arguments)}finally{g=B}}}})(cb)),cb}var $5;function iP(){return $5||($5=1,lb.exports=rP()),lb.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var z5;function sP(){if(z5)return Di;z5=1;var e=Ny(),t=iP();function n(u){for(var d="https://reactjs.org/docs/error-decoder.html?invariant="+u,m=1;m<arguments.length;m++)d+="&args[]="+encodeURIComponent(arguments[m]);return"Minified React error #"+u+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function s(u,d){o(u,d),o(u+"Capture",d)}function o(u,d){for(i[u]=d,u=0;u<d.length;u++)r.add(d[u])}var a=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),l=Object.prototype.hasOwnProperty,c=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function g(u){return l.call(p,u)?!0:l.call(f,u)?!1:c.test(u)?p[u]=!0:(f[u]=!0,!1)}function y(u,d,m,b){if(m!==null&&m.type===0)return!1;switch(typeof d){case"function":case"symbol":return!0;case"boolean":return b?!1:m!==null?!m.acceptsBooleans:(u=u.toLowerCase().slice(0,5),u!=="data-"&&u!=="aria-");default:return!1}}function x(u,d,m,b){if(d===null||typeof d>"u"||y(u,d,m,b))return!0;if(b)return!1;if(m!==null)switch(m.type){case 3:return!d;case 4:return d===!1;case 5:return isNaN(d);case 6:return isNaN(d)||1>d}return!1}function _(u,d,m,b,E,T,D){this.acceptsBooleans=d===2||d===3||d===4,this.attributeName=b,this.attributeNamespace=E,this.mustUseProperty=m,this.propertyName=u,this.type=d,this.sanitizeURL=T,this.removeEmptyString=D}var S={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(u){S[u]=new _(u,0,!1,u,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(u){var d=u[0];S[d]=new _(d,1,!1,u[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(u){S[u]=new _(u,2,!1,u.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(u){S[u]=new _(u,2,!1,u,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(u){S[u]=new _(u,3,!1,u.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(u){S[u]=new _(u,3,!0,u,null,!1,!1)}),["capture","download"].forEach(function(u){S[u]=new _(u,4,!1,u,null,!1,!1)}),["cols","rows","size","span"].forEach(function(u){S[u]=new _(u,6,!1,u,null,!1,!1)}),["rowSpan","start"].forEach(function(u){S[u]=new _(u,5,!1,u.toLowerCase(),null,!1,!1)});var C=/[\-:]([a-z])/g;function I(u){return u[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(u){var d=u.replace(C,I);S[d]=new _(d,1,!1,u,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(u){var d=u.replace(C,I);S[d]=new _(d,1,!1,u,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(u){var d=u.replace(C,I);S[d]=new _(d,1,!1,u,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(u){S[u]=new _(u,1,!1,u.toLowerCase(),null,!1,!1)}),S.xlinkHref=new _("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(u){S[u]=new _(u,1,!1,u.toLowerCase(),null,!0,!0)});function A(u,d,m,b){var E=S.hasOwnProperty(d)?S[d]:null;(E!==null?E.type!==0:b||!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(x(d,m,E,b)&&(m=null),b||E===null?g(d)&&(m===null?u.removeAttribute(d):u.setAttribute(d,""+m)):E.mustUseProperty?u[E.propertyName]=m===null?E.type===3?!1:"":m:(d=E.attributeName,b=E.attributeNamespace,m===null?u.removeAttribute(d):(E=E.type,m=E===3||E===4&&m===!0?"":""+m,b?u.setAttributeNS(b,d,m):u.setAttribute(d,m))))}var z=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,U=Symbol.for("react.element"),O=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),F=Symbol.for("react.strict_mode"),$=Symbol.for("react.profiler"),L=Symbol.for("react.provider"),Z=Symbol.for("react.context"),Y=Symbol.for("react.forward_ref"),he=Symbol.for("react.suspense"),G=Symbol.for("react.suspense_list"),W=Symbol.for("react.memo"),Q=Symbol.for("react.lazy"),te=Symbol.for("react.offscreen"),X=Symbol.iterator;function fe(u){return u===null||typeof u!="object"?null:(u=X&&u[X]||u["@@iterator"],typeof u=="function"?u:null)}var B=Object.assign,ee;function ge(u){if(ee===void 0)try{throw Error()}catch(m){var d=m.stack.trim().match(/\n( *(at )?)/);ee=d&&d[1]||""}return`
`+ee+u}var V=!1;function Te(u,d){if(!u||V)return"";V=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(d)if(d=function(){throw Error()},Object.defineProperty(d.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(d,[])}catch(_e){var b=_e}Reflect.construct(u,[],d)}else{try{d.call()}catch(_e){b=_e}u.call(d.prototype)}else{try{throw Error()}catch(_e){b=_e}u()}}catch(_e){if(_e&&b&&typeof _e.stack=="string"){for(var E=_e.stack.split(`
`),T=b.stack.split(`
`),D=E.length-1,J=T.length-1;1<=D&&0<=J&&E[D]!==T[J];)J--;for(;1<=D&&0<=J;D--,J--)if(E[D]!==T[J]){if(D!==1||J!==1)do if(D--,J--,0>J||E[D]!==T[J]){var re=`
`+E[D].replace(" at new "," at ");return u.displayName&&re.includes("<anonymous>")&&(re=re.replace("<anonymous>",u.displayName)),re}while(1<=D&&0<=J);break}}}finally{V=!1,Error.prepareStackTrace=m}return(u=u?u.displayName||u.name:"")?ge(u):""}function Ce(u){switch(u.tag){case 5:return ge(u.type);case 16:return ge("Lazy");case 13:return ge("Suspense");case 19:return ge("SuspenseList");case 0:case 2:case 15:return u=Te(u.type,!1),u;case 11:return u=Te(u.type.render,!1),u;case 1:return u=Te(u.type,!0),u;default:return""}}function ke(u){if(u==null)return null;if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u;switch(u){case N:return"Fragment";case O:return"Portal";case $:return"Profiler";case F:return"StrictMode";case he:return"Suspense";case G:return"SuspenseList"}if(typeof u=="object")switch(u.$$typeof){case Z:return(u.displayName||"Context")+".Consumer";case L:return(u._context.displayName||"Context")+".Provider";case Y:var d=u.render;return u=u.displayName,u||(u=d.displayName||d.name||"",u=u!==""?"ForwardRef("+u+")":"ForwardRef"),u;case W:return d=u.displayName||null,d!==null?d:ke(u.type)||"Memo";case Q:d=u._payload,u=u._init;try{return ke(u(d))}catch{}}return null}function Ve(u){var d=u.type;switch(u.tag){case 24:return"Cache";case 9:return(d.displayName||"Context")+".Consumer";case 10:return(d._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return u=d.render,u=u.displayName||u.name||"",d.displayName||(u!==""?"ForwardRef("+u+")":"ForwardRef");case 7:return"Fragment";case 5:return d;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ke(d);case 8:return d===F?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof d=="function")return d.displayName||d.name||null;if(typeof d=="string")return d}return null}function Ue(u){switch(typeof u){case"boolean":case"number":case"string":case"undefined":return u;case"object":return u;default:return""}}function mt(u){var d=u.type;return(u=u.nodeName)&&u.toLowerCase()==="input"&&(d==="checkbox"||d==="radio")}function De(u){var d=mt(u)?"checked":"value",m=Object.getOwnPropertyDescriptor(u.constructor.prototype,d),b=""+u[d];if(!u.hasOwnProperty(d)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var E=m.get,T=m.set;return Object.defineProperty(u,d,{configurable:!0,get:function(){return E.call(this)},set:function(D){b=""+D,T.call(this,D)}}),Object.defineProperty(u,d,{enumerable:m.enumerable}),{getValue:function(){return b},setValue:function(D){b=""+D},stopTracking:function(){u._valueTracker=null,delete u[d]}}}}function lr(u){u._valueTracker||(u._valueTracker=De(u))}function dt(u){if(!u)return!1;var d=u._valueTracker;if(!d)return!0;var m=d.getValue(),b="";return u&&(b=mt(u)?u.checked?"true":"false":u.value),u=b,u!==m?(d.setValue(u),!0):!1}function gn(u){if(u=u||(typeof document<"u"?document:void 0),typeof u>"u")return null;try{return u.activeElement||u.body}catch{return u.body}}function _n(u,d){var m=d.checked;return B({},d,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:m??u._wrapperState.initialChecked})}function vn(u,d){var m=d.defaultValue==null?"":d.defaultValue,b=d.checked!=null?d.checked:d.defaultChecked;m=Ue(d.value!=null?d.value:m),u._wrapperState={initialChecked:b,initialValue:m,controlled:d.type==="checkbox"||d.type==="radio"?d.checked!=null:d.value!=null}}function wr(u,d){d=d.checked,d!=null&&A(u,"checked",d,!1)}function Ri(u,d){wr(u,d);var m=Ue(d.value),b=d.type;if(m!=null)b==="number"?(m===0&&u.value===""||u.value!=m)&&(u.value=""+m):u.value!==""+m&&(u.value=""+m);else if(b==="submit"||b==="reset"){u.removeAttribute("value");return}d.hasOwnProperty("value")?gi(u,d.type,m):d.hasOwnProperty("defaultValue")&&gi(u,d.type,Ue(d.defaultValue)),d.checked==null&&d.defaultChecked!=null&&(u.defaultChecked=!!d.defaultChecked)}function Gi(u,d,m){if(d.hasOwnProperty("value")||d.hasOwnProperty("defaultValue")){var b=d.type;if(!(b!=="submit"&&b!=="reset"||d.value!==void 0&&d.value!==null))return;d=""+u._wrapperState.initialValue,m||d===u.value||(u.value=d),u.defaultValue=d}m=u.name,m!==""&&(u.name=""),u.defaultChecked=!!u._wrapperState.initialChecked,m!==""&&(u.name=m)}function gi(u,d,m){(d!=="number"||gn(u.ownerDocument)!==u)&&(m==null?u.defaultValue=""+u._wrapperState.initialValue:u.defaultValue!==""+m&&(u.defaultValue=""+m))}var Tt=Array.isArray;function un(u,d,m,b){if(u=u.options,d){d={};for(var E=0;E<m.length;E++)d["$"+m[E]]=!0;for(m=0;m<u.length;m++)E=d.hasOwnProperty("$"+u[m].value),u[m].selected!==E&&(u[m].selected=E),E&&b&&(u[m].defaultSelected=!0)}else{for(m=""+Ue(m),d=null,E=0;E<u.length;E++){if(u[E].value===m){u[E].selected=!0,b&&(u[E].defaultSelected=!0);return}d!==null||u[E].disabled||(d=u[E])}d!==null&&(d.selected=!0)}}function jt(u,d){if(d.dangerouslySetInnerHTML!=null)throw Error(n(91));return B({},d,{value:void 0,defaultValue:void 0,children:""+u._wrapperState.initialValue})}function en(u,d){var m=d.value;if(m==null){if(m=d.children,d=d.defaultValue,m!=null){if(d!=null)throw Error(n(92));if(Tt(m)){if(1<m.length)throw Error(n(93));m=m[0]}d=m}d==null&&(d=""),m=d}u._wrapperState={initialValue:Ue(m)}}function Et(u,d){var m=Ue(d.value),b=Ue(d.defaultValue);m!=null&&(m=""+m,m!==u.value&&(u.value=m),d.defaultValue==null&&u.defaultValue!==m&&(u.defaultValue=m)),b!=null&&(u.defaultValue=""+b)}function Fn(u){var d=u.textContent;d===u._wrapperState.initialValue&&d!==""&&d!==null&&(u.value=d)}function Se(u){switch(u){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Me(u,d){return u==null||u==="http://www.w3.org/1999/xhtml"?Se(d):u==="http://www.w3.org/2000/svg"&&d==="foreignObject"?"http://www.w3.org/1999/xhtml":u}var ot,pt=(function(u){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(d,m,b,E){MSApp.execUnsafeLocalFunction(function(){return u(d,m,b,E)})}:u})(function(u,d){if(u.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in u)u.innerHTML=d;else{for(ot=ot||document.createElement("div"),ot.innerHTML="<svg>"+d.valueOf().toString()+"</svg>",d=ot.firstChild;u.firstChild;)u.removeChild(u.firstChild);for(;d.firstChild;)u.appendChild(d.firstChild)}});function zt(u,d){if(d){var m=u.firstChild;if(m&&m===u.lastChild&&m.nodeType===3){m.nodeValue=d;return}}u.textContent=d}var Bn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},cr=["Webkit","ms","Moz","O"];Object.keys(Bn).forEach(function(u){cr.forEach(function(d){d=d+u.charAt(0).toUpperCase()+u.substring(1),Bn[d]=Bn[u]})});function _r(u,d,m){return d==null||typeof d=="boolean"||d===""?"":m||typeof d!="number"||d===0||Bn.hasOwnProperty(u)&&Bn[u]?(""+d).trim():d+"px"}function er(u,d){u=u.style;for(var m in d)if(d.hasOwnProperty(m)){var b=m.indexOf("--")===0,E=_r(m,d[m],b);m==="float"&&(m="cssFloat"),b?u.setProperty(m,E):u[m]=E}}var Sr=B({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function qe(u,d){if(d){if(Sr[u]&&(d.children!=null||d.dangerouslySetInnerHTML!=null))throw Error(n(137,u));if(d.dangerouslySetInnerHTML!=null){if(d.children!=null)throw Error(n(60));if(typeof d.dangerouslySetInnerHTML!="object"||!("__html"in d.dangerouslySetInnerHTML))throw Error(n(61))}if(d.style!=null&&typeof d.style!="object")throw Error(n(62))}}function Er(u,d){if(u.indexOf("-")===-1)return typeof d.is=="string";switch(u){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qn=null;function Ds(u){return u=u.target||u.srcElement||window,u.correspondingUseElement&&(u=u.correspondingUseElement),u.nodeType===3?u.parentNode:u}var We=null,Yi=null,Ji=null;function Da(u){if(u=Wf(u)){if(typeof We!="function")throw Error(n(280));var d=u.stateNode;d&&(d=km(d),We(u.stateNode,u.type,d))}}function La(u){Yi?Ji?Ji.push(u):Ji=[u]:Yi=u}function Fa(){if(Yi){var u=Yi,d=Ji;if(Ji=Yi=null,Da(u),d)for(u=0;u<d.length;u++)Da(d[u])}}function ec(u,d){return u(d)}function Ho(){}var yi=!1;function ps(u,d,m){if(yi)return u(d,m);yi=!0;try{return ec(u,d,m)}finally{yi=!1,(Yi!==null||Ji!==null)&&(Ho(),Fa())}}function Ls(u,d){var m=u.stateNode;if(m===null)return null;var b=km(m);if(b===null)return null;m=b[d];e:switch(d){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(b=!b.disabled)||(u=u.type,b=!(u==="button"||u==="input"||u==="select"||u==="textarea")),u=!b;break e;default:u=!1}if(u)return null;if(m&&typeof m!="function")throw Error(n(231,d,typeof m));return m}var yo=!1;if(a)try{var K={};Object.defineProperty(K,"passive",{get:function(){yo=!0}}),window.addEventListener("test",K,K),window.removeEventListener("test",K,K)}catch{yo=!1}function ue(u,d,m,b,E,T,D,J,re){var _e=Array.prototype.slice.call(arguments,3);try{d.apply(m,_e)}catch(Pe){this.onError(Pe)}}var we=!1,Ie=null,Le=!1,nt=null,et={onError:function(u){we=!0,Ie=u}};function Je(u,d,m,b,E,T,D,J,re){we=!1,Ie=null,ue.apply(et,arguments)}function rt(u,d,m,b,E,T,D,J,re){if(Je.apply(this,arguments),we){if(we){var _e=Ie;we=!1,Ie=null}else throw Error(n(198));Le||(Le=!0,nt=_e)}}function Xe(u){var d=u,m=u;if(u.alternate)for(;d.return;)d=d.return;else{u=d;do d=u,(d.flags&4098)!==0&&(m=d.return),u=d.return;while(u)}return d.tag===3?m:null}function ft(u){if(u.tag===13){var d=u.memoizedState;if(d===null&&(u=u.alternate,u!==null&&(d=u.memoizedState)),d!==null)return d.dehydrated}return null}function lt(u){if(Xe(u)!==u)throw Error(n(188))}function Ot(u){var d=u.alternate;if(!d){if(d=Xe(u),d===null)throw Error(n(188));return d!==u?null:u}for(var m=u,b=d;;){var E=m.return;if(E===null)break;var T=E.alternate;if(T===null){if(b=E.return,b!==null){m=b;continue}break}if(E.child===T.child){for(T=E.child;T;){if(T===m)return lt(E),u;if(T===b)return lt(E),d;T=T.sibling}throw Error(n(188))}if(m.return!==b.return)m=E,b=T;else{for(var D=!1,J=E.child;J;){if(J===m){D=!0,m=E,b=T;break}if(J===b){D=!0,b=E,m=T;break}J=J.sibling}if(!D){for(J=T.child;J;){if(J===m){D=!0,m=T,b=E;break}if(J===b){D=!0,b=T,m=E;break}J=J.sibling}if(!D)throw Error(n(189))}}if(m.alternate!==b)throw Error(n(190))}if(m.tag!==3)throw Error(n(188));return m.stateNode.current===m?u:d}function qt(u){return u=Ot(u),u!==null?Sn(u):null}function Sn(u){if(u.tag===5||u.tag===6)return u;for(u=u.child;u!==null;){var d=Sn(u);if(d!==null)return d;u=u.sibling}return null}var $n=t.unstable_scheduleCallback,tr=t.unstable_cancelCallback,gt=t.unstable_shouldYield,nr=t.unstable_requestPaint,Ht=t.unstable_now,vo=t.unstable_getCurrentPriorityLevel,Cr=t.unstable_ImmediatePriority,Dr=t.unstable_UserBlockingPriority,ms=t.unstable_NormalPriority,Fs=t.unstable_LowPriority,Lr=t.unstable_IdlePriority,gs=null,mr=null;function Qt(u){if(mr&&typeof mr.onCommitFiberRoot=="function")try{mr.onCommitFiberRoot(gs,u,void 0,(u.current.flags&128)===128)}catch{}}var it=Math.clz32?Math.clz32:bn,Bs=Math.log,ys=Math.LN2;function bn(u){return u>>>=0,u===0?32:31-(Bs(u)/ys|0)|0}var vi=64,bo=4194304;function xo(u){switch(u&-u){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return u&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return u}}function tc(u,d){var m=u.pendingLanes;if(m===0)return 0;var b=0,E=u.suspendedLanes,T=u.pingedLanes,D=m&268435455;if(D!==0){var J=D&~E;J!==0?b=xo(J):(T&=D,T!==0&&(b=xo(T)))}else D=m&~E,D!==0?b=xo(D):T!==0&&(b=xo(T));if(b===0)return 0;if(d!==0&&d!==b&&(d&E)===0&&(E=b&-b,T=d&-d,E>=T||E===16&&(T&4194240)!==0))return d;if((b&4)!==0&&(b|=m&16),d=u.entangledLanes,d!==0)for(u=u.entanglements,d&=b;0<d;)m=31-it(d),E=1<<m,b|=u[m],d&=~E;return b}function En(u,d){switch(u){case 1:case 2:case 4:return d+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nc(u,d){for(var m=u.suspendedLanes,b=u.pingedLanes,E=u.expirationTimes,T=u.pendingLanes;0<T;){var D=31-it(T),J=1<<D,re=E[D];re===-1?((J&m)===0||(J&b)!==0)&&(E[D]=En(J,d)):re<=d&&(u.expiredLanes|=J),T&=~J}}function Wo(u){return u=u.pendingLanes&-1073741825,u!==0?u:u&1073741824?1073741824:0}function Vo(){var u=vi;return vi<<=1,(vi&4194240)===0&&(vi=64),u}function rc(u){for(var d=[],m=0;31>m;m++)d.push(u);return d}function qo(u,d,m){u.pendingLanes|=d,d!==536870912&&(u.suspendedLanes=0,u.pingedLanes=0),u=u.eventTimes,d=31-it(d),u[d]=m}function ku(u,d){var m=u.pendingLanes&~d;u.pendingLanes=d,u.suspendedLanes=0,u.pingedLanes=0,u.expiredLanes&=d,u.mutableReadLanes&=d,u.entangledLanes&=d,d=u.entanglements;var b=u.eventTimes;for(u=u.expirationTimes;0<m;){var E=31-it(m),T=1<<E;d[E]=0,b[E]=-1,u[E]=-1,m&=~T}}function Tu(u,d){var m=u.entangledLanes|=d;for(u=u.entanglements;m;){var b=31-it(m),E=1<<b;E&d|u[b]&d&&(u[b]|=d),m&=~E}}var an=0;function Ef(u){return u&=-u,1<u?4<u?(u&268435455)!==0?16:536870912:4:1}var om,tn,Cf,am,lm,Qr=!1,$s=[],Xi=null,Kr=null,zs=null,Ba=new Map,zn=new Map,kr=[],ic="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function $a(u,d){switch(u){case"focusin":case"focusout":Xi=null;break;case"dragenter":case"dragleave":Kr=null;break;case"mouseover":case"mouseout":zs=null;break;case"pointerover":case"pointerout":Ba.delete(d.pointerId);break;case"gotpointercapture":case"lostpointercapture":zn.delete(d.pointerId)}}function Qo(u,d,m,b,E,T){return u===null||u.nativeEvent!==T?(u={blockedOn:d,domEventName:m,eventSystemFlags:b,nativeEvent:T,targetContainers:[E]},d!==null&&(d=Wf(d),d!==null&&tn(d)),u):(u.eventSystemFlags|=b,d=u.targetContainers,E!==null&&d.indexOf(E)===-1&&d.push(E),u)}function wo(u,d,m,b,E){switch(d){case"focusin":return Xi=Qo(Xi,u,d,m,b,E),!0;case"dragenter":return Kr=Qo(Kr,u,d,m,b,E),!0;case"mouseover":return zs=Qo(zs,u,d,m,b,E),!0;case"pointerover":var T=E.pointerId;return Ba.set(T,Qo(Ba.get(T)||null,u,d,m,b,E)),!0;case"gotpointercapture":return T=E.pointerId,zn.set(T,Qo(zn.get(T)||null,u,d,m,b,E)),!0}return!1}function cm(u){var d=fc(u.target);if(d!==null){var m=Xe(d);if(m!==null){if(d=m.tag,d===13){if(d=ft(m),d!==null){u.blockedOn=d,lm(u.priority,function(){Cf(m)});return}}else if(d===3&&m.stateNode.current.memoizedState.isDehydrated){u.blockedOn=m.tag===3?m.stateNode.containerInfo:null;return}}}u.blockedOn=null}function bi(u){if(u.blockedOn!==null)return!1;for(var d=u.targetContainers;0<d.length;){var m=za(u.domEventName,u.eventSystemFlags,d[0],u.nativeEvent);if(m===null){m=u.nativeEvent;var b=new m.constructor(m.type,m);Qn=b,m.target.dispatchEvent(b),Qn=null}else return d=Wf(m),d!==null&&tn(d),u.blockedOn=m,!1;d.shift()}return!0}function ju(u,d,m){bi(u)&&m.delete(d)}function um(){Qr=!1,Xi!==null&&bi(Xi)&&(Xi=null),Kr!==null&&bi(Kr)&&(Kr=null),zs!==null&&bi(zs)&&(zs=null),Ba.forEach(ju),zn.forEach(ju)}function Ko(u,d){u.blockedOn===d&&(u.blockedOn=null,Qr||(Qr=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,um)))}function Us(u){function d(E){return Ko(E,u)}if(0<$s.length){Ko($s[0],u);for(var m=1;m<$s.length;m++){var b=$s[m];b.blockedOn===u&&(b.blockedOn=null)}}for(Xi!==null&&Ko(Xi,u),Kr!==null&&Ko(Kr,u),zs!==null&&Ko(zs,u),Ba.forEach(d),zn.forEach(d),m=0;m<kr.length;m++)b=kr[m],b.blockedOn===u&&(b.blockedOn=null);for(;0<kr.length&&(m=kr[0],m.blockedOn===null);)cm(m),m.blockedOn===null&&kr.shift()}var _o=z.ReactCurrentBatchConfig,sc=!0;function H1(u,d,m,b){var E=an,T=_o.transition;_o.transition=null;try{an=1,kf(u,d,m,b)}finally{an=E,_o.transition=T}}function oc(u,d,m,b){var E=an,T=_o.transition;_o.transition=null;try{an=4,kf(u,d,m,b)}finally{an=E,_o.transition=T}}function kf(u,d,m,b){if(sc){var E=za(u,d,m,b);if(E===null)G1(u,d,b,Iu,m),$a(u,b);else if(wo(E,u,d,m,b))b.stopPropagation();else if($a(u,b),d&4&&-1<ic.indexOf(u)){for(;E!==null;){var T=Wf(E);if(T!==null&&om(T),T=za(u,d,m,b),T===null&&G1(u,d,b,Iu,m),T===E)break;E=T}E!==null&&b.stopPropagation()}else G1(u,d,b,null,m)}}var Iu=null;function za(u,d,m,b){if(Iu=null,u=Ds(b),u=fc(u),u!==null)if(d=Xe(u),d===null)u=null;else if(m=d.tag,m===13){if(u=ft(d),u!==null)return u;u=null}else if(m===3){if(d.stateNode.current.memoizedState.isDehydrated)return d.tag===3?d.stateNode.containerInfo:null;u=null}else d!==u&&(u=null);return Iu=u,null}function ac(u){switch(u){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(vo()){case Cr:return 1;case Dr:return 4;case ms:case Fs:return 16;case Lr:return 536870912;default:return 16}default:return 16}}var vs=null,Tf=null,Ru=null;function dm(){if(Ru)return Ru;var u,d=Tf,m=d.length,b,E="value"in vs?vs.value:vs.textContent,T=E.length;for(u=0;u<m&&d[u]===E[u];u++);var D=m-u;for(b=1;b<=D&&d[m-b]===E[T-b];b++);return Ru=E.slice(u,1<b?1-b:void 0)}function Ua(u){var d=u.keyCode;return"charCode"in u?(u=u.charCode,u===0&&d===13&&(u=13)):u=d,u===10&&(u=13),32<=u||u===13?u:0}function Ha(){return!0}function jf(){return!1}function Fr(u){function d(m,b,E,T,D){this._reactName=m,this._targetInst=E,this.type=b,this.nativeEvent=T,this.target=D,this.currentTarget=null;for(var J in u)u.hasOwnProperty(J)&&(m=u[J],this[J]=m?m(T):T[J]);return this.isDefaultPrevented=(T.defaultPrevented!=null?T.defaultPrevented:T.returnValue===!1)?Ha:jf,this.isPropagationStopped=jf,this}return B(d.prototype,{preventDefault:function(){this.defaultPrevented=!0;var m=this.nativeEvent;m&&(m.preventDefault?m.preventDefault():typeof m.returnValue!="unknown"&&(m.returnValue=!1),this.isDefaultPrevented=Ha)},stopPropagation:function(){var m=this.nativeEvent;m&&(m.stopPropagation?m.stopPropagation():typeof m.cancelBubble!="unknown"&&(m.cancelBubble=!0),this.isPropagationStopped=Ha)},persist:function(){},isPersistent:Ha}),d}var Hs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(u){return u.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wa=Fr(Hs),Va=B({},Hs,{view:0,detail:0}),W1=Fr(Va),So,lc,Go,qa=B({},Va,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Du,button:0,buttons:0,relatedTarget:function(u){return u.relatedTarget===void 0?u.fromElement===u.srcElement?u.toElement:u.fromElement:u.relatedTarget},movementX:function(u){return"movementX"in u?u.movementX:(u!==Go&&(Go&&u.type==="mousemove"?(So=u.screenX-Go.screenX,lc=u.screenY-Go.screenY):lc=So=0,Go=u),So)},movementY:function(u){return"movementY"in u?u.movementY:lc}}),Nu=Fr(qa),Br=B({},qa,{dataTransfer:0}),cc=Fr(Br),uc=B({},Va,{relatedTarget:0}),Ou=Fr(uc),Pu=B({},Hs,{animationName:0,elapsedTime:0,pseudoElement:0}),fm=Fr(Pu),hm=B({},Hs,{clipboardData:function(u){return"clipboardData"in u?u.clipboardData:window.clipboardData}}),Au=Fr(hm),If=B({},Hs,{data:0}),Eo=Fr(If),Rf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Mu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Of(u){var d=this.nativeEvent;return d.getModifierState?d.getModifierState(u):(u=Mu[u])?!!d[u]:!1}function Du(){return Of}var V1=B({},Va,{key:function(u){if(u.key){var d=Rf[u.key]||u.key;if(d!=="Unidentified")return d}return u.type==="keypress"?(u=Ua(u),u===13?"Enter":String.fromCharCode(u)):u.type==="keydown"||u.type==="keyup"?Nf[u.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Du,charCode:function(u){return u.type==="keypress"?Ua(u):0},keyCode:function(u){return u.type==="keydown"||u.type==="keyup"?u.keyCode:0},which:function(u){return u.type==="keypress"?Ua(u):u.type==="keydown"||u.type==="keyup"?u.keyCode:0}}),Pf=Fr(V1),Lu=B({},qa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),pm=Fr(Lu),Af=B({},Va,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Du}),Mf=Fr(Af),q1=B({},Hs,{propertyName:0,elapsedTime:0,pseudoElement:0}),mm=Fr(q1),Q1=B({},qa,{deltaX:function(u){return"deltaX"in u?u.deltaX:"wheelDeltaX"in u?-u.wheelDeltaX:0},deltaY:function(u){return"deltaY"in u?u.deltaY:"wheelDeltaY"in u?-u.wheelDeltaY:"wheelDelta"in u?-u.wheelDelta:0},deltaZ:0,deltaMode:0}),gm=Fr(Q1),ym=[9,13,27,32],Df=a&&"CompositionEvent"in window,Qa=null;a&&"documentMode"in document&&(Qa=document.documentMode);var Lf=a&&"TextEvent"in window&&!Qa,Ff=a&&(!Df||Qa&&8<Qa&&11>=Qa),Bf=" ",vm=!1;function bm(u,d){switch(u){case"keyup":return ym.indexOf(d.keyCode)!==-1;case"keydown":return d.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xm(u){return u=u.detail,typeof u=="object"&&"data"in u?u.data:null}var Ws=!1;function Vs(u,d){switch(u){case"compositionend":return xm(d);case"keypress":return d.which!==32?null:(vm=!0,Bf);case"textInput":return u=d.data,u===Bf&&vm?null:u;default:return null}}function Kn(u,d){if(Ws)return u==="compositionend"||!Df&&bm(u,d)?(u=dm(),Ru=Tf=vs=null,Ws=!1,u):null;switch(u){case"paste":return null;case"keypress":if(!(d.ctrlKey||d.altKey||d.metaKey)||d.ctrlKey&&d.altKey){if(d.char&&1<d.char.length)return d.char;if(d.which)return String.fromCharCode(d.which)}return null;case"compositionend":return Ff&&d.locale!=="ko"?null:d.data;default:return null}}var Fu={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Yo(u){var d=u&&u.nodeName&&u.nodeName.toLowerCase();return d==="input"?!!Fu[u.type]:d==="textarea"}function wm(u,d,m,b){La(b),d=Sm(d,"onChange"),0<d.length&&(m=new Wa("onChange","change",null,m,b),u.push({event:m,listeners:d}))}var Jo=null,Ka=null;function Xo(u){JS(u,0)}function Ga(u){var d=Uu(u);if(dt(d))return u}function Ya(u,d){if(u==="change")return d}var qs=!1;if(a){var Bu;if(a){var v="oninput"in document;if(!v){var w=document.createElement("div");w.setAttribute("oninput","return;"),v=typeof w.oninput=="function"}Bu=v}else Bu=!1;qs=Bu&&(!document.documentMode||9<document.documentMode)}function k(){Jo&&(Jo.detachEvent("onpropertychange",j),Ka=Jo=null)}function j(u){if(u.propertyName==="value"&&Ga(Ka)){var d=[];wm(d,Ka,u,Ds(u)),ps(Xo,d)}}function P(u,d,m){u==="focusin"?(k(),Jo=d,Ka=m,Jo.attachEvent("onpropertychange",j)):u==="focusout"&&k()}function M(u){if(u==="selectionchange"||u==="keyup"||u==="keydown")return Ga(Ka)}function H(u,d){if(u==="click")return Ga(d)}function q(u,d){if(u==="input"||u==="change")return Ga(d)}function ae(u,d){return u===d&&(u!==0||1/u===1/d)||u!==u&&d!==d}var pe=typeof Object.is=="function"?Object.is:ae;function ie(u,d){if(pe(u,d))return!0;if(typeof u!="object"||u===null||typeof d!="object"||d===null)return!1;var m=Object.keys(u),b=Object.keys(d);if(m.length!==b.length)return!1;for(b=0;b<m.length;b++){var E=m[b];if(!l.call(d,E)||!pe(u[E],d[E]))return!1}return!0}function ne(u){for(;u&&u.firstChild;)u=u.firstChild;return u}function le(u,d){var m=ne(u);u=0;for(var b;m;){if(m.nodeType===3){if(b=u+m.textContent.length,u<=d&&b>=d)return{node:m,offset:d-u};u=b}e:{for(;m;){if(m.nextSibling){m=m.nextSibling;break e}m=m.parentNode}m=void 0}m=ne(m)}}function ce(u,d){return u&&d?u===d?!0:u&&u.nodeType===3?!1:d&&d.nodeType===3?ce(u,d.parentNode):"contains"in u?u.contains(d):u.compareDocumentPosition?!!(u.compareDocumentPosition(d)&16):!1:!1}function oe(){for(var u=window,d=gn();d instanceof u.HTMLIFrameElement;){try{var m=typeof d.contentWindow.location.href=="string"}catch{m=!1}if(m)u=d.contentWindow;else break;d=gn(u.document)}return d}function se(u){var d=u&&u.nodeName&&u.nodeName.toLowerCase();return d&&(d==="input"&&(u.type==="text"||u.type==="search"||u.type==="tel"||u.type==="url"||u.type==="password")||d==="textarea"||u.contentEditable==="true")}function ve(u){var d=oe(),m=u.focusedElem,b=u.selectionRange;if(d!==m&&m&&m.ownerDocument&&ce(m.ownerDocument.documentElement,m)){if(b!==null&&se(m)){if(d=b.start,u=b.end,u===void 0&&(u=d),"selectionStart"in m)m.selectionStart=d,m.selectionEnd=Math.min(u,m.value.length);else if(u=(d=m.ownerDocument||document)&&d.defaultView||window,u.getSelection){u=u.getSelection();var E=m.textContent.length,T=Math.min(b.start,E);b=b.end===void 0?T:Math.min(b.end,E),!u.extend&&T>b&&(E=b,b=T,T=E),E=le(m,T);var D=le(m,b);E&&D&&(u.rangeCount!==1||u.anchorNode!==E.node||u.anchorOffset!==E.offset||u.focusNode!==D.node||u.focusOffset!==D.offset)&&(d=d.createRange(),d.setStart(E.node,E.offset),u.removeAllRanges(),T>b?(u.addRange(d),u.extend(D.node,D.offset)):(d.setEnd(D.node,D.offset),u.addRange(d)))}}for(d=[],u=m;u=u.parentNode;)u.nodeType===1&&d.push({element:u,left:u.scrollLeft,top:u.scrollTop});for(typeof m.focus=="function"&&m.focus(),m=0;m<d.length;m++)u=d[m],u.element.scrollLeft=u.left,u.element.scrollTop=u.top}}var xe=a&&"documentMode"in document&&11>=document.documentMode,me=null,Ee=null,Re=null,ze=!1;function He(u,d,m){var b=m.window===m?m.document:m.nodeType===9?m:m.ownerDocument;ze||me==null||me!==gn(b)||(b=me,"selectionStart"in b&&se(b)?b={start:b.selectionStart,end:b.selectionEnd}:(b=(b.ownerDocument&&b.ownerDocument.defaultView||window).getSelection(),b={anchorNode:b.anchorNode,anchorOffset:b.anchorOffset,focusNode:b.focusNode,focusOffset:b.focusOffset}),Re&&ie(Re,b)||(Re=b,b=Sm(Ee,"onSelect"),0<b.length&&(d=new Wa("onSelect","select",null,d,m),u.push({event:d,listeners:b}),d.target=me)))}function Oe(u,d){var m={};return m[u.toLowerCase()]=d.toLowerCase(),m["Webkit"+u]="webkit"+d,m["Moz"+u]="moz"+d,m}var Ke={animationend:Oe("Animation","AnimationEnd"),animationiteration:Oe("Animation","AnimationIteration"),animationstart:Oe("Animation","AnimationStart"),transitionend:Oe("Transition","TransitionEnd")},Qe={},Fe={};a&&(Fe=document.createElement("div").style,"AnimationEvent"in window||(delete Ke.animationend.animation,delete Ke.animationiteration.animation,delete Ke.animationstart.animation),"TransitionEvent"in window||delete Ke.transitionend.transition);function Ye(u){if(Qe[u])return Qe[u];if(!Ke[u])return u;var d=Ke[u],m;for(m in d)if(d.hasOwnProperty(m)&&m in Fe)return Qe[u]=d[m];return u}var Yt=Ye("animationend"),sn=Ye("animationiteration"),ht=Ye("animationstart"),Dt=Ye("transitionend"),kn=new Map,xi="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function yn(u,d){kn.set(u,d),s(d,[u])}for(var Qs=0;Qs<xi.length;Qs++){var dc=xi[Qs],lO=dc.toLowerCase(),cO=dc[0].toUpperCase()+dc.slice(1);yn(lO,"on"+cO)}yn(Yt,"onAnimationEnd"),yn(sn,"onAnimationIteration"),yn(ht,"onAnimationStart"),yn("dblclick","onDoubleClick"),yn("focusin","onFocus"),yn("focusout","onBlur"),yn(Dt,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $f="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),uO=new Set("cancel close invalid load scroll toggle".split(" ").concat($f));function YS(u,d,m){var b=u.type||"unknown-event";u.currentTarget=m,rt(b,d,void 0,u),u.currentTarget=null}function JS(u,d){d=(d&4)!==0;for(var m=0;m<u.length;m++){var b=u[m],E=b.event;b=b.listeners;e:{var T=void 0;if(d)for(var D=b.length-1;0<=D;D--){var J=b[D],re=J.instance,_e=J.currentTarget;if(J=J.listener,re!==T&&E.isPropagationStopped())break e;YS(E,J,_e),T=re}else for(D=0;D<b.length;D++){if(J=b[D],re=J.instance,_e=J.currentTarget,J=J.listener,re!==T&&E.isPropagationStopped())break e;YS(E,J,_e),T=re}}}if(Le)throw u=nt,Le=!1,nt=null,u}function Mn(u,d){var m=d[tv];m===void 0&&(m=d[tv]=new Set);var b=u+"__bubble";m.has(b)||(XS(d,u,2,!1),m.add(b))}function K1(u,d,m){var b=0;d&&(b|=4),XS(m,u,b,d)}var _m="_reactListening"+Math.random().toString(36).slice(2);function zf(u){if(!u[_m]){u[_m]=!0,r.forEach(function(m){m!=="selectionchange"&&(uO.has(m)||K1(m,!1,u),K1(m,!0,u))});var d=u.nodeType===9?u:u.ownerDocument;d===null||d[_m]||(d[_m]=!0,K1("selectionchange",!1,d))}}function XS(u,d,m,b){switch(ac(d)){case 1:var E=H1;break;case 4:E=oc;break;default:E=kf}m=E.bind(null,d,m,u),E=void 0,!yo||d!=="touchstart"&&d!=="touchmove"&&d!=="wheel"||(E=!0),b?E!==void 0?u.addEventListener(d,m,{capture:!0,passive:E}):u.addEventListener(d,m,!0):E!==void 0?u.addEventListener(d,m,{passive:E}):u.addEventListener(d,m,!1)}function G1(u,d,m,b,E){var T=b;if((d&1)===0&&(d&2)===0&&b!==null)e:for(;;){if(b===null)return;var D=b.tag;if(D===3||D===4){var J=b.stateNode.containerInfo;if(J===E||J.nodeType===8&&J.parentNode===E)break;if(D===4)for(D=b.return;D!==null;){var re=D.tag;if((re===3||re===4)&&(re=D.stateNode.containerInfo,re===E||re.nodeType===8&&re.parentNode===E))return;D=D.return}for(;J!==null;){if(D=fc(J),D===null)return;if(re=D.tag,re===5||re===6){b=T=D;continue e}J=J.parentNode}}b=b.return}ps(function(){var _e=T,Pe=Ds(m),Ae=[];e:{var Ne=kn.get(u);if(Ne!==void 0){var Ze=Wa,st=u;switch(u){case"keypress":if(Ua(m)===0)break e;case"keydown":case"keyup":Ze=Pf;break;case"focusin":st="focus",Ze=Ou;break;case"focusout":st="blur",Ze=Ou;break;case"beforeblur":case"afterblur":Ze=Ou;break;case"click":if(m.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ze=Nu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ze=cc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ze=Mf;break;case Yt:case sn:case ht:Ze=fm;break;case Dt:Ze=mm;break;case"scroll":Ze=W1;break;case"wheel":Ze=gm;break;case"copy":case"cut":case"paste":Ze=Au;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ze=pm}var at=(d&4)!==0,ur=!at&&u==="scroll",ye=at?Ne!==null?Ne+"Capture":null:Ne;at=[];for(var de=_e,be;de!==null;){be=de;var $e=be.stateNode;if(be.tag===5&&$e!==null&&(be=$e,ye!==null&&($e=Ls(de,ye),$e!=null&&at.push(Uf(de,$e,be)))),ur)break;de=de.return}0<at.length&&(Ne=new Ze(Ne,st,null,m,Pe),Ae.push({event:Ne,listeners:at}))}}if((d&7)===0){e:{if(Ne=u==="mouseover"||u==="pointerover",Ze=u==="mouseout"||u==="pointerout",Ne&&m!==Qn&&(st=m.relatedTarget||m.fromElement)&&(fc(st)||st[Zo]))break e;if((Ze||Ne)&&(Ne=Pe.window===Pe?Pe:(Ne=Pe.ownerDocument)?Ne.defaultView||Ne.parentWindow:window,Ze?(st=m.relatedTarget||m.toElement,Ze=_e,st=st?fc(st):null,st!==null&&(ur=Xe(st),st!==ur||st.tag!==5&&st.tag!==6)&&(st=null)):(Ze=null,st=_e),Ze!==st)){if(at=Nu,$e="onMouseLeave",ye="onMouseEnter",de="mouse",(u==="pointerout"||u==="pointerover")&&(at=pm,$e="onPointerLeave",ye="onPointerEnter",de="pointer"),ur=Ze==null?Ne:Uu(Ze),be=st==null?Ne:Uu(st),Ne=new at($e,de+"leave",Ze,m,Pe),Ne.target=ur,Ne.relatedTarget=be,$e=null,fc(Pe)===_e&&(at=new at(ye,de+"enter",st,m,Pe),at.target=be,at.relatedTarget=ur,$e=at),ur=$e,Ze&&st)t:{for(at=Ze,ye=st,de=0,be=at;be;be=$u(be))de++;for(be=0,$e=ye;$e;$e=$u($e))be++;for(;0<de-be;)at=$u(at),de--;for(;0<be-de;)ye=$u(ye),be--;for(;de--;){if(at===ye||ye!==null&&at===ye.alternate)break t;at=$u(at),ye=$u(ye)}at=null}else at=null;Ze!==null&&ZS(Ae,Ne,Ze,at,!1),st!==null&&ur!==null&&ZS(Ae,ur,st,at,!0)}}e:{if(Ne=_e?Uu(_e):window,Ze=Ne.nodeName&&Ne.nodeName.toLowerCase(),Ze==="select"||Ze==="input"&&Ne.type==="file")var ct=Ya;else if(Yo(Ne))if(qs)ct=q;else{ct=M;var yt=P}else(Ze=Ne.nodeName)&&Ze.toLowerCase()==="input"&&(Ne.type==="checkbox"||Ne.type==="radio")&&(ct=H);if(ct&&(ct=ct(u,_e))){wm(Ae,ct,m,Pe);break e}yt&&yt(u,Ne,_e),u==="focusout"&&(yt=Ne._wrapperState)&&yt.controlled&&Ne.type==="number"&&gi(Ne,"number",Ne.value)}switch(yt=_e?Uu(_e):window,u){case"focusin":(Yo(yt)||yt.contentEditable==="true")&&(me=yt,Ee=_e,Re=null);break;case"focusout":Re=Ee=me=null;break;case"mousedown":ze=!0;break;case"contextmenu":case"mouseup":case"dragend":ze=!1,He(Ae,m,Pe);break;case"selectionchange":if(xe)break;case"keydown":case"keyup":He(Ae,m,Pe)}var vt;if(Df)e:{switch(u){case"compositionstart":var Ct="onCompositionStart";break e;case"compositionend":Ct="onCompositionEnd";break e;case"compositionupdate":Ct="onCompositionUpdate";break e}Ct=void 0}else Ws?bm(u,m)&&(Ct="onCompositionEnd"):u==="keydown"&&m.keyCode===229&&(Ct="onCompositionStart");Ct&&(Ff&&m.locale!=="ko"&&(Ws||Ct!=="onCompositionStart"?Ct==="onCompositionEnd"&&Ws&&(vt=dm()):(vs=Pe,Tf="value"in vs?vs.value:vs.textContent,Ws=!0)),yt=Sm(_e,Ct),0<yt.length&&(Ct=new Eo(Ct,u,null,m,Pe),Ae.push({event:Ct,listeners:yt}),vt?Ct.data=vt:(vt=xm(m),vt!==null&&(Ct.data=vt)))),(vt=Lf?Vs(u,m):Kn(u,m))&&(_e=Sm(_e,"onBeforeInput"),0<_e.length&&(Pe=new Eo("onBeforeInput","beforeinput",null,m,Pe),Ae.push({event:Pe,listeners:_e}),Pe.data=vt))}JS(Ae,d)})}function Uf(u,d,m){return{instance:u,listener:d,currentTarget:m}}function Sm(u,d){for(var m=d+"Capture",b=[];u!==null;){var E=u,T=E.stateNode;E.tag===5&&T!==null&&(E=T,T=Ls(u,m),T!=null&&b.unshift(Uf(u,T,E)),T=Ls(u,d),T!=null&&b.push(Uf(u,T,E))),u=u.return}return b}function $u(u){if(u===null)return null;do u=u.return;while(u&&u.tag!==5);return u||null}function ZS(u,d,m,b,E){for(var T=d._reactName,D=[];m!==null&&m!==b;){var J=m,re=J.alternate,_e=J.stateNode;if(re!==null&&re===b)break;J.tag===5&&_e!==null&&(J=_e,E?(re=Ls(m,T),re!=null&&D.unshift(Uf(m,re,J))):E||(re=Ls(m,T),re!=null&&D.push(Uf(m,re,J)))),m=m.return}D.length!==0&&u.push({event:d,listeners:D})}var dO=/\r\n?/g,fO=/\u0000|\uFFFD/g;function e3(u){return(typeof u=="string"?u:""+u).replace(dO,`
`).replace(fO,"")}function Em(u,d,m){if(d=e3(d),e3(u)!==d&&m)throw Error(n(425))}function Cm(){}var Y1=null,J1=null;function X1(u,d){return u==="textarea"||u==="noscript"||typeof d.children=="string"||typeof d.children=="number"||typeof d.dangerouslySetInnerHTML=="object"&&d.dangerouslySetInnerHTML!==null&&d.dangerouslySetInnerHTML.__html!=null}var Z1=typeof setTimeout=="function"?setTimeout:void 0,hO=typeof clearTimeout=="function"?clearTimeout:void 0,t3=typeof Promise=="function"?Promise:void 0,pO=typeof queueMicrotask=="function"?queueMicrotask:typeof t3<"u"?function(u){return t3.resolve(null).then(u).catch(mO)}:Z1;function mO(u){setTimeout(function(){throw u})}function ev(u,d){var m=d,b=0;do{var E=m.nextSibling;if(u.removeChild(m),E&&E.nodeType===8)if(m=E.data,m==="/$"){if(b===0){u.removeChild(E),Us(d);return}b--}else m!=="$"&&m!=="$?"&&m!=="$!"||b++;m=E}while(m);Us(d)}function Ja(u){for(;u!=null;u=u.nextSibling){var d=u.nodeType;if(d===1||d===3)break;if(d===8){if(d=u.data,d==="$"||d==="$!"||d==="$?")break;if(d==="/$")return null}}return u}function n3(u){u=u.previousSibling;for(var d=0;u;){if(u.nodeType===8){var m=u.data;if(m==="$"||m==="$!"||m==="$?"){if(d===0)return u;d--}else m==="/$"&&d++}u=u.previousSibling}return null}var zu=Math.random().toString(36).slice(2),Co="__reactFiber$"+zu,Hf="__reactProps$"+zu,Zo="__reactContainer$"+zu,tv="__reactEvents$"+zu,gO="__reactListeners$"+zu,yO="__reactHandles$"+zu;function fc(u){var d=u[Co];if(d)return d;for(var m=u.parentNode;m;){if(d=m[Zo]||m[Co]){if(m=d.alternate,d.child!==null||m!==null&&m.child!==null)for(u=n3(u);u!==null;){if(m=u[Co])return m;u=n3(u)}return d}u=m,m=u.parentNode}return null}function Wf(u){return u=u[Co]||u[Zo],!u||u.tag!==5&&u.tag!==6&&u.tag!==13&&u.tag!==3?null:u}function Uu(u){if(u.tag===5||u.tag===6)return u.stateNode;throw Error(n(33))}function km(u){return u[Hf]||null}var nv=[],Hu=-1;function Xa(u){return{current:u}}function Dn(u){0>Hu||(u.current=nv[Hu],nv[Hu]=null,Hu--)}function Tn(u,d){Hu++,nv[Hu]=u.current,u.current=d}var Za={},ii=Xa(Za),Ni=Xa(!1),hc=Za;function Wu(u,d){var m=u.type.contextTypes;if(!m)return Za;var b=u.stateNode;if(b&&b.__reactInternalMemoizedUnmaskedChildContext===d)return b.__reactInternalMemoizedMaskedChildContext;var E={},T;for(T in m)E[T]=d[T];return b&&(u=u.stateNode,u.__reactInternalMemoizedUnmaskedChildContext=d,u.__reactInternalMemoizedMaskedChildContext=E),E}function Oi(u){return u=u.childContextTypes,u!=null}function Tm(){Dn(Ni),Dn(ii)}function r3(u,d,m){if(ii.current!==Za)throw Error(n(168));Tn(ii,d),Tn(Ni,m)}function i3(u,d,m){var b=u.stateNode;if(d=d.childContextTypes,typeof b.getChildContext!="function")return m;b=b.getChildContext();for(var E in b)if(!(E in d))throw Error(n(108,Ve(u)||"Unknown",E));return B({},m,b)}function jm(u){return u=(u=u.stateNode)&&u.__reactInternalMemoizedMergedChildContext||Za,hc=ii.current,Tn(ii,u),Tn(Ni,Ni.current),!0}function s3(u,d,m){var b=u.stateNode;if(!b)throw Error(n(169));m?(u=i3(u,d,hc),b.__reactInternalMemoizedMergedChildContext=u,Dn(Ni),Dn(ii),Tn(ii,u)):Dn(Ni),Tn(Ni,m)}var ea=null,Im=!1,rv=!1;function o3(u){ea===null?ea=[u]:ea.push(u)}function vO(u){Im=!0,o3(u)}function el(){if(!rv&&ea!==null){rv=!0;var u=0,d=an;try{var m=ea;for(an=1;u<m.length;u++){var b=m[u];do b=b(!0);while(b!==null)}ea=null,Im=!1}catch(E){throw ea!==null&&(ea=ea.slice(u+1)),$n(Cr,el),E}finally{an=d,rv=!1}}return null}var Vu=[],qu=0,Rm=null,Nm=0,bs=[],xs=0,pc=null,ta=1,na="";function mc(u,d){Vu[qu++]=Nm,Vu[qu++]=Rm,Rm=u,Nm=d}function a3(u,d,m){bs[xs++]=ta,bs[xs++]=na,bs[xs++]=pc,pc=u;var b=ta;u=na;var E=32-it(b)-1;b&=~(1<<E),m+=1;var T=32-it(d)+E;if(30<T){var D=E-E%5;T=(b&(1<<D)-1).toString(32),b>>=D,E-=D,ta=1<<32-it(d)+E|m<<E|b,na=T+u}else ta=1<<T|m<<E|b,na=u}function iv(u){u.return!==null&&(mc(u,1),a3(u,1,0))}function sv(u){for(;u===Rm;)Rm=Vu[--qu],Vu[qu]=null,Nm=Vu[--qu],Vu[qu]=null;for(;u===pc;)pc=bs[--xs],bs[xs]=null,na=bs[--xs],bs[xs]=null,ta=bs[--xs],bs[xs]=null}var Zi=null,es=null,Un=!1,Ks=null;function l3(u,d){var m=Es(5,null,null,0);m.elementType="DELETED",m.stateNode=d,m.return=u,d=u.deletions,d===null?(u.deletions=[m],u.flags|=16):d.push(m)}function c3(u,d){switch(u.tag){case 5:var m=u.type;return d=d.nodeType!==1||m.toLowerCase()!==d.nodeName.toLowerCase()?null:d,d!==null?(u.stateNode=d,Zi=u,es=Ja(d.firstChild),!0):!1;case 6:return d=u.pendingProps===""||d.nodeType!==3?null:d,d!==null?(u.stateNode=d,Zi=u,es=null,!0):!1;case 13:return d=d.nodeType!==8?null:d,d!==null?(m=pc!==null?{id:ta,overflow:na}:null,u.memoizedState={dehydrated:d,treeContext:m,retryLane:1073741824},m=Es(18,null,null,0),m.stateNode=d,m.return=u,u.child=m,Zi=u,es=null,!0):!1;default:return!1}}function ov(u){return(u.mode&1)!==0&&(u.flags&128)===0}function av(u){if(Un){var d=es;if(d){var m=d;if(!c3(u,d)){if(ov(u))throw Error(n(418));d=Ja(m.nextSibling);var b=Zi;d&&c3(u,d)?l3(b,m):(u.flags=u.flags&-4097|2,Un=!1,Zi=u)}}else{if(ov(u))throw Error(n(418));u.flags=u.flags&-4097|2,Un=!1,Zi=u}}}function u3(u){for(u=u.return;u!==null&&u.tag!==5&&u.tag!==3&&u.tag!==13;)u=u.return;Zi=u}function Om(u){if(u!==Zi)return!1;if(!Un)return u3(u),Un=!0,!1;var d;if((d=u.tag!==3)&&!(d=u.tag!==5)&&(d=u.type,d=d!=="head"&&d!=="body"&&!X1(u.type,u.memoizedProps)),d&&(d=es)){if(ov(u))throw d3(),Error(n(418));for(;d;)l3(u,d),d=Ja(d.nextSibling)}if(u3(u),u.tag===13){if(u=u.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(n(317));e:{for(u=u.nextSibling,d=0;u;){if(u.nodeType===8){var m=u.data;if(m==="/$"){if(d===0){es=Ja(u.nextSibling);break e}d--}else m!=="$"&&m!=="$!"&&m!=="$?"||d++}u=u.nextSibling}es=null}}else es=Zi?Ja(u.stateNode.nextSibling):null;return!0}function d3(){for(var u=es;u;)u=Ja(u.nextSibling)}function Qu(){es=Zi=null,Un=!1}function lv(u){Ks===null?Ks=[u]:Ks.push(u)}var bO=z.ReactCurrentBatchConfig;function Vf(u,d,m){if(u=m.ref,u!==null&&typeof u!="function"&&typeof u!="object"){if(m._owner){if(m=m._owner,m){if(m.tag!==1)throw Error(n(309));var b=m.stateNode}if(!b)throw Error(n(147,u));var E=b,T=""+u;return d!==null&&d.ref!==null&&typeof d.ref=="function"&&d.ref._stringRef===T?d.ref:(d=function(D){var J=E.refs;D===null?delete J[T]:J[T]=D},d._stringRef=T,d)}if(typeof u!="string")throw Error(n(284));if(!m._owner)throw Error(n(290,u))}return u}function Pm(u,d){throw u=Object.prototype.toString.call(d),Error(n(31,u==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":u))}function f3(u){var d=u._init;return d(u._payload)}function h3(u){function d(ye,de){if(u){var be=ye.deletions;be===null?(ye.deletions=[de],ye.flags|=16):be.push(de)}}function m(ye,de){if(!u)return null;for(;de!==null;)d(ye,de),de=de.sibling;return null}function b(ye,de){for(ye=new Map;de!==null;)de.key!==null?ye.set(de.key,de):ye.set(de.index,de),de=de.sibling;return ye}function E(ye,de){return ye=ll(ye,de),ye.index=0,ye.sibling=null,ye}function T(ye,de,be){return ye.index=be,u?(be=ye.alternate,be!==null?(be=be.index,be<de?(ye.flags|=2,de):be):(ye.flags|=2,de)):(ye.flags|=1048576,de)}function D(ye){return u&&ye.alternate===null&&(ye.flags|=2),ye}function J(ye,de,be,$e){return de===null||de.tag!==6?(de=Zv(be,ye.mode,$e),de.return=ye,de):(de=E(de,be),de.return=ye,de)}function re(ye,de,be,$e){var ct=be.type;return ct===N?Pe(ye,de,be.props.children,$e,be.key):de!==null&&(de.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===Q&&f3(ct)===de.type)?($e=E(de,be.props),$e.ref=Vf(ye,de,be),$e.return=ye,$e):($e=rg(be.type,be.key,be.props,null,ye.mode,$e),$e.ref=Vf(ye,de,be),$e.return=ye,$e)}function _e(ye,de,be,$e){return de===null||de.tag!==4||de.stateNode.containerInfo!==be.containerInfo||de.stateNode.implementation!==be.implementation?(de=eb(be,ye.mode,$e),de.return=ye,de):(de=E(de,be.children||[]),de.return=ye,de)}function Pe(ye,de,be,$e,ct){return de===null||de.tag!==7?(de=Sc(be,ye.mode,$e,ct),de.return=ye,de):(de=E(de,be),de.return=ye,de)}function Ae(ye,de,be){if(typeof de=="string"&&de!==""||typeof de=="number")return de=Zv(""+de,ye.mode,be),de.return=ye,de;if(typeof de=="object"&&de!==null){switch(de.$$typeof){case U:return be=rg(de.type,de.key,de.props,null,ye.mode,be),be.ref=Vf(ye,null,de),be.return=ye,be;case O:return de=eb(de,ye.mode,be),de.return=ye,de;case Q:var $e=de._init;return Ae(ye,$e(de._payload),be)}if(Tt(de)||fe(de))return de=Sc(de,ye.mode,be,null),de.return=ye,de;Pm(ye,de)}return null}function Ne(ye,de,be,$e){var ct=de!==null?de.key:null;if(typeof be=="string"&&be!==""||typeof be=="number")return ct!==null?null:J(ye,de,""+be,$e);if(typeof be=="object"&&be!==null){switch(be.$$typeof){case U:return be.key===ct?re(ye,de,be,$e):null;case O:return be.key===ct?_e(ye,de,be,$e):null;case Q:return ct=be._init,Ne(ye,de,ct(be._payload),$e)}if(Tt(be)||fe(be))return ct!==null?null:Pe(ye,de,be,$e,null);Pm(ye,be)}return null}function Ze(ye,de,be,$e,ct){if(typeof $e=="string"&&$e!==""||typeof $e=="number")return ye=ye.get(be)||null,J(de,ye,""+$e,ct);if(typeof $e=="object"&&$e!==null){switch($e.$$typeof){case U:return ye=ye.get($e.key===null?be:$e.key)||null,re(de,ye,$e,ct);case O:return ye=ye.get($e.key===null?be:$e.key)||null,_e(de,ye,$e,ct);case Q:var yt=$e._init;return Ze(ye,de,be,yt($e._payload),ct)}if(Tt($e)||fe($e))return ye=ye.get(be)||null,Pe(de,ye,$e,ct,null);Pm(de,$e)}return null}function st(ye,de,be,$e){for(var ct=null,yt=null,vt=de,Ct=de=0,Ur=null;vt!==null&&Ct<be.length;Ct++){vt.index>Ct?(Ur=vt,vt=null):Ur=vt.sibling;var fn=Ne(ye,vt,be[Ct],$e);if(fn===null){vt===null&&(vt=Ur);break}u&&vt&&fn.alternate===null&&d(ye,vt),de=T(fn,de,Ct),yt===null?ct=fn:yt.sibling=fn,yt=fn,vt=Ur}if(Ct===be.length)return m(ye,vt),Un&&mc(ye,Ct),ct;if(vt===null){for(;Ct<be.length;Ct++)vt=Ae(ye,be[Ct],$e),vt!==null&&(de=T(vt,de,Ct),yt===null?ct=vt:yt.sibling=vt,yt=vt);return Un&&mc(ye,Ct),ct}for(vt=b(ye,vt);Ct<be.length;Ct++)Ur=Ze(vt,ye,Ct,be[Ct],$e),Ur!==null&&(u&&Ur.alternate!==null&&vt.delete(Ur.key===null?Ct:Ur.key),de=T(Ur,de,Ct),yt===null?ct=Ur:yt.sibling=Ur,yt=Ur);return u&&vt.forEach(function(cl){return d(ye,cl)}),Un&&mc(ye,Ct),ct}function at(ye,de,be,$e){var ct=fe(be);if(typeof ct!="function")throw Error(n(150));if(be=ct.call(be),be==null)throw Error(n(151));for(var yt=ct=null,vt=de,Ct=de=0,Ur=null,fn=be.next();vt!==null&&!fn.done;Ct++,fn=be.next()){vt.index>Ct?(Ur=vt,vt=null):Ur=vt.sibling;var cl=Ne(ye,vt,fn.value,$e);if(cl===null){vt===null&&(vt=Ur);break}u&&vt&&cl.alternate===null&&d(ye,vt),de=T(cl,de,Ct),yt===null?ct=cl:yt.sibling=cl,yt=cl,vt=Ur}if(fn.done)return m(ye,vt),Un&&mc(ye,Ct),ct;if(vt===null){for(;!fn.done;Ct++,fn=be.next())fn=Ae(ye,fn.value,$e),fn!==null&&(de=T(fn,de,Ct),yt===null?ct=fn:yt.sibling=fn,yt=fn);return Un&&mc(ye,Ct),ct}for(vt=b(ye,vt);!fn.done;Ct++,fn=be.next())fn=Ze(vt,ye,Ct,fn.value,$e),fn!==null&&(u&&fn.alternate!==null&&vt.delete(fn.key===null?Ct:fn.key),de=T(fn,de,Ct),yt===null?ct=fn:yt.sibling=fn,yt=fn);return u&&vt.forEach(function(XO){return d(ye,XO)}),Un&&mc(ye,Ct),ct}function ur(ye,de,be,$e){if(typeof be=="object"&&be!==null&&be.type===N&&be.key===null&&(be=be.props.children),typeof be=="object"&&be!==null){switch(be.$$typeof){case U:e:{for(var ct=be.key,yt=de;yt!==null;){if(yt.key===ct){if(ct=be.type,ct===N){if(yt.tag===7){m(ye,yt.sibling),de=E(yt,be.props.children),de.return=ye,ye=de;break e}}else if(yt.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===Q&&f3(ct)===yt.type){m(ye,yt.sibling),de=E(yt,be.props),de.ref=Vf(ye,yt,be),de.return=ye,ye=de;break e}m(ye,yt);break}else d(ye,yt);yt=yt.sibling}be.type===N?(de=Sc(be.props.children,ye.mode,$e,be.key),de.return=ye,ye=de):($e=rg(be.type,be.key,be.props,null,ye.mode,$e),$e.ref=Vf(ye,de,be),$e.return=ye,ye=$e)}return D(ye);case O:e:{for(yt=be.key;de!==null;){if(de.key===yt)if(de.tag===4&&de.stateNode.containerInfo===be.containerInfo&&de.stateNode.implementation===be.implementation){m(ye,de.sibling),de=E(de,be.children||[]),de.return=ye,ye=de;break e}else{m(ye,de);break}else d(ye,de);de=de.sibling}de=eb(be,ye.mode,$e),de.return=ye,ye=de}return D(ye);case Q:return yt=be._init,ur(ye,de,yt(be._payload),$e)}if(Tt(be))return st(ye,de,be,$e);if(fe(be))return at(ye,de,be,$e);Pm(ye,be)}return typeof be=="string"&&be!==""||typeof be=="number"?(be=""+be,de!==null&&de.tag===6?(m(ye,de.sibling),de=E(de,be),de.return=ye,ye=de):(m(ye,de),de=Zv(be,ye.mode,$e),de.return=ye,ye=de),D(ye)):m(ye,de)}return ur}var Ku=h3(!0),p3=h3(!1),Am=Xa(null),Mm=null,Gu=null,cv=null;function uv(){cv=Gu=Mm=null}function dv(u){var d=Am.current;Dn(Am),u._currentValue=d}function fv(u,d,m){for(;u!==null;){var b=u.alternate;if((u.childLanes&d)!==d?(u.childLanes|=d,b!==null&&(b.childLanes|=d)):b!==null&&(b.childLanes&d)!==d&&(b.childLanes|=d),u===m)break;u=u.return}}function Yu(u,d){Mm=u,cv=Gu=null,u=u.dependencies,u!==null&&u.firstContext!==null&&((u.lanes&d)!==0&&(Pi=!0),u.firstContext=null)}function ws(u){var d=u._currentValue;if(cv!==u)if(u={context:u,memoizedValue:d,next:null},Gu===null){if(Mm===null)throw Error(n(308));Gu=u,Mm.dependencies={lanes:0,firstContext:u}}else Gu=Gu.next=u;return d}var gc=null;function hv(u){gc===null?gc=[u]:gc.push(u)}function m3(u,d,m,b){var E=d.interleaved;return E===null?(m.next=m,hv(d)):(m.next=E.next,E.next=m),d.interleaved=m,ra(u,b)}function ra(u,d){u.lanes|=d;var m=u.alternate;for(m!==null&&(m.lanes|=d),m=u,u=u.return;u!==null;)u.childLanes|=d,m=u.alternate,m!==null&&(m.childLanes|=d),m=u,u=u.return;return m.tag===3?m.stateNode:null}var tl=!1;function pv(u){u.updateQueue={baseState:u.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function g3(u,d){u=u.updateQueue,d.updateQueue===u&&(d.updateQueue={baseState:u.baseState,firstBaseUpdate:u.firstBaseUpdate,lastBaseUpdate:u.lastBaseUpdate,shared:u.shared,effects:u.effects})}function ia(u,d){return{eventTime:u,lane:d,tag:0,payload:null,callback:null,next:null}}function nl(u,d,m){var b=u.updateQueue;if(b===null)return null;if(b=b.shared,(dn&2)!==0){var E=b.pending;return E===null?d.next=d:(d.next=E.next,E.next=d),b.pending=d,ra(u,m)}return E=b.interleaved,E===null?(d.next=d,hv(b)):(d.next=E.next,E.next=d),b.interleaved=d,ra(u,m)}function Dm(u,d,m){if(d=d.updateQueue,d!==null&&(d=d.shared,(m&4194240)!==0)){var b=d.lanes;b&=u.pendingLanes,m|=b,d.lanes=m,Tu(u,m)}}function y3(u,d){var m=u.updateQueue,b=u.alternate;if(b!==null&&(b=b.updateQueue,m===b)){var E=null,T=null;if(m=m.firstBaseUpdate,m!==null){do{var D={eventTime:m.eventTime,lane:m.lane,tag:m.tag,payload:m.payload,callback:m.callback,next:null};T===null?E=T=D:T=T.next=D,m=m.next}while(m!==null);T===null?E=T=d:T=T.next=d}else E=T=d;m={baseState:b.baseState,firstBaseUpdate:E,lastBaseUpdate:T,shared:b.shared,effects:b.effects},u.updateQueue=m;return}u=m.lastBaseUpdate,u===null?m.firstBaseUpdate=d:u.next=d,m.lastBaseUpdate=d}function Lm(u,d,m,b){var E=u.updateQueue;tl=!1;var T=E.firstBaseUpdate,D=E.lastBaseUpdate,J=E.shared.pending;if(J!==null){E.shared.pending=null;var re=J,_e=re.next;re.next=null,D===null?T=_e:D.next=_e,D=re;var Pe=u.alternate;Pe!==null&&(Pe=Pe.updateQueue,J=Pe.lastBaseUpdate,J!==D&&(J===null?Pe.firstBaseUpdate=_e:J.next=_e,Pe.lastBaseUpdate=re))}if(T!==null){var Ae=E.baseState;D=0,Pe=_e=re=null,J=T;do{var Ne=J.lane,Ze=J.eventTime;if((b&Ne)===Ne){Pe!==null&&(Pe=Pe.next={eventTime:Ze,lane:0,tag:J.tag,payload:J.payload,callback:J.callback,next:null});e:{var st=u,at=J;switch(Ne=d,Ze=m,at.tag){case 1:if(st=at.payload,typeof st=="function"){Ae=st.call(Ze,Ae,Ne);break e}Ae=st;break e;case 3:st.flags=st.flags&-65537|128;case 0:if(st=at.payload,Ne=typeof st=="function"?st.call(Ze,Ae,Ne):st,Ne==null)break e;Ae=B({},Ae,Ne);break e;case 2:tl=!0}}J.callback!==null&&J.lane!==0&&(u.flags|=64,Ne=E.effects,Ne===null?E.effects=[J]:Ne.push(J))}else Ze={eventTime:Ze,lane:Ne,tag:J.tag,payload:J.payload,callback:J.callback,next:null},Pe===null?(_e=Pe=Ze,re=Ae):Pe=Pe.next=Ze,D|=Ne;if(J=J.next,J===null){if(J=E.shared.pending,J===null)break;Ne=J,J=Ne.next,Ne.next=null,E.lastBaseUpdate=Ne,E.shared.pending=null}}while(!0);if(Pe===null&&(re=Ae),E.baseState=re,E.firstBaseUpdate=_e,E.lastBaseUpdate=Pe,d=E.shared.interleaved,d!==null){E=d;do D|=E.lane,E=E.next;while(E!==d)}else T===null&&(E.shared.lanes=0);bc|=D,u.lanes=D,u.memoizedState=Ae}}function v3(u,d,m){if(u=d.effects,d.effects=null,u!==null)for(d=0;d<u.length;d++){var b=u[d],E=b.callback;if(E!==null){if(b.callback=null,b=m,typeof E!="function")throw Error(n(191,E));E.call(b)}}}var qf={},ko=Xa(qf),Qf=Xa(qf),Kf=Xa(qf);function yc(u){if(u===qf)throw Error(n(174));return u}function mv(u,d){switch(Tn(Kf,d),Tn(Qf,u),Tn(ko,qf),u=d.nodeType,u){case 9:case 11:d=(d=d.documentElement)?d.namespaceURI:Me(null,"");break;default:u=u===8?d.parentNode:d,d=u.namespaceURI||null,u=u.tagName,d=Me(d,u)}Dn(ko),Tn(ko,d)}function Ju(){Dn(ko),Dn(Qf),Dn(Kf)}function b3(u){yc(Kf.current);var d=yc(ko.current),m=Me(d,u.type);d!==m&&(Tn(Qf,u),Tn(ko,m))}function gv(u){Qf.current===u&&(Dn(ko),Dn(Qf))}var Gn=Xa(0);function Fm(u){for(var d=u;d!==null;){if(d.tag===13){var m=d.memoizedState;if(m!==null&&(m=m.dehydrated,m===null||m.data==="$?"||m.data==="$!"))return d}else if(d.tag===19&&d.memoizedProps.revealOrder!==void 0){if((d.flags&128)!==0)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===u)break;for(;d.sibling===null;){if(d.return===null||d.return===u)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}var yv=[];function vv(){for(var u=0;u<yv.length;u++)yv[u]._workInProgressVersionPrimary=null;yv.length=0}var Bm=z.ReactCurrentDispatcher,bv=z.ReactCurrentBatchConfig,vc=0,Yn=null,Tr=null,$r=null,$m=!1,Gf=!1,Yf=0,xO=0;function si(){throw Error(n(321))}function xv(u,d){if(d===null)return!1;for(var m=0;m<d.length&&m<u.length;m++)if(!pe(u[m],d[m]))return!1;return!0}function wv(u,d,m,b,E,T){if(vc=T,Yn=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,Bm.current=u===null||u.memoizedState===null?EO:CO,u=m(b,E),Gf){T=0;do{if(Gf=!1,Yf=0,25<=T)throw Error(n(301));T+=1,$r=Tr=null,d.updateQueue=null,Bm.current=kO,u=m(b,E)}while(Gf)}if(Bm.current=Hm,d=Tr!==null&&Tr.next!==null,vc=0,$r=Tr=Yn=null,$m=!1,d)throw Error(n(300));return u}function _v(){var u=Yf!==0;return Yf=0,u}function To(){var u={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $r===null?Yn.memoizedState=$r=u:$r=$r.next=u,$r}function _s(){if(Tr===null){var u=Yn.alternate;u=u!==null?u.memoizedState:null}else u=Tr.next;var d=$r===null?Yn.memoizedState:$r.next;if(d!==null)$r=d,Tr=u;else{if(u===null)throw Error(n(310));Tr=u,u={memoizedState:Tr.memoizedState,baseState:Tr.baseState,baseQueue:Tr.baseQueue,queue:Tr.queue,next:null},$r===null?Yn.memoizedState=$r=u:$r=$r.next=u}return $r}function Jf(u,d){return typeof d=="function"?d(u):d}function Sv(u){var d=_s(),m=d.queue;if(m===null)throw Error(n(311));m.lastRenderedReducer=u;var b=Tr,E=b.baseQueue,T=m.pending;if(T!==null){if(E!==null){var D=E.next;E.next=T.next,T.next=D}b.baseQueue=E=T,m.pending=null}if(E!==null){T=E.next,b=b.baseState;var J=D=null,re=null,_e=T;do{var Pe=_e.lane;if((vc&Pe)===Pe)re!==null&&(re=re.next={lane:0,action:_e.action,hasEagerState:_e.hasEagerState,eagerState:_e.eagerState,next:null}),b=_e.hasEagerState?_e.eagerState:u(b,_e.action);else{var Ae={lane:Pe,action:_e.action,hasEagerState:_e.hasEagerState,eagerState:_e.eagerState,next:null};re===null?(J=re=Ae,D=b):re=re.next=Ae,Yn.lanes|=Pe,bc|=Pe}_e=_e.next}while(_e!==null&&_e!==T);re===null?D=b:re.next=J,pe(b,d.memoizedState)||(Pi=!0),d.memoizedState=b,d.baseState=D,d.baseQueue=re,m.lastRenderedState=b}if(u=m.interleaved,u!==null){E=u;do T=E.lane,Yn.lanes|=T,bc|=T,E=E.next;while(E!==u)}else E===null&&(m.lanes=0);return[d.memoizedState,m.dispatch]}function Ev(u){var d=_s(),m=d.queue;if(m===null)throw Error(n(311));m.lastRenderedReducer=u;var b=m.dispatch,E=m.pending,T=d.memoizedState;if(E!==null){m.pending=null;var D=E=E.next;do T=u(T,D.action),D=D.next;while(D!==E);pe(T,d.memoizedState)||(Pi=!0),d.memoizedState=T,d.baseQueue===null&&(d.baseState=T),m.lastRenderedState=T}return[T,b]}function x3(){}function w3(u,d){var m=Yn,b=_s(),E=d(),T=!pe(b.memoizedState,E);if(T&&(b.memoizedState=E,Pi=!0),b=b.queue,Cv(E3.bind(null,m,b,u),[u]),b.getSnapshot!==d||T||$r!==null&&$r.memoizedState.tag&1){if(m.flags|=2048,Xf(9,S3.bind(null,m,b,E,d),void 0,null),zr===null)throw Error(n(349));(vc&30)!==0||_3(m,d,E)}return E}function _3(u,d,m){u.flags|=16384,u={getSnapshot:d,value:m},d=Yn.updateQueue,d===null?(d={lastEffect:null,stores:null},Yn.updateQueue=d,d.stores=[u]):(m=d.stores,m===null?d.stores=[u]:m.push(u))}function S3(u,d,m,b){d.value=m,d.getSnapshot=b,C3(d)&&k3(u)}function E3(u,d,m){return m(function(){C3(d)&&k3(u)})}function C3(u){var d=u.getSnapshot;u=u.value;try{var m=d();return!pe(u,m)}catch{return!0}}function k3(u){var d=ra(u,1);d!==null&&Xs(d,u,1,-1)}function T3(u){var d=To();return typeof u=="function"&&(u=u()),d.memoizedState=d.baseState=u,u={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Jf,lastRenderedState:u},d.queue=u,u=u.dispatch=SO.bind(null,Yn,u),[d.memoizedState,u]}function Xf(u,d,m,b){return u={tag:u,create:d,destroy:m,deps:b,next:null},d=Yn.updateQueue,d===null?(d={lastEffect:null,stores:null},Yn.updateQueue=d,d.lastEffect=u.next=u):(m=d.lastEffect,m===null?d.lastEffect=u.next=u:(b=m.next,m.next=u,u.next=b,d.lastEffect=u)),u}function j3(){return _s().memoizedState}function zm(u,d,m,b){var E=To();Yn.flags|=u,E.memoizedState=Xf(1|d,m,void 0,b===void 0?null:b)}function Um(u,d,m,b){var E=_s();b=b===void 0?null:b;var T=void 0;if(Tr!==null){var D=Tr.memoizedState;if(T=D.destroy,b!==null&&xv(b,D.deps)){E.memoizedState=Xf(d,m,T,b);return}}Yn.flags|=u,E.memoizedState=Xf(1|d,m,T,b)}function I3(u,d){return zm(8390656,8,u,d)}function Cv(u,d){return Um(2048,8,u,d)}function R3(u,d){return Um(4,2,u,d)}function N3(u,d){return Um(4,4,u,d)}function O3(u,d){if(typeof d=="function")return u=u(),d(u),function(){d(null)};if(d!=null)return u=u(),d.current=u,function(){d.current=null}}function P3(u,d,m){return m=m!=null?m.concat([u]):null,Um(4,4,O3.bind(null,d,u),m)}function kv(){}function A3(u,d){var m=_s();d=d===void 0?null:d;var b=m.memoizedState;return b!==null&&d!==null&&xv(d,b[1])?b[0]:(m.memoizedState=[u,d],u)}function M3(u,d){var m=_s();d=d===void 0?null:d;var b=m.memoizedState;return b!==null&&d!==null&&xv(d,b[1])?b[0]:(u=u(),m.memoizedState=[u,d],u)}function D3(u,d,m){return(vc&21)===0?(u.baseState&&(u.baseState=!1,Pi=!0),u.memoizedState=m):(pe(m,d)||(m=Vo(),Yn.lanes|=m,bc|=m,u.baseState=!0),d)}function wO(u,d){var m=an;an=m!==0&&4>m?m:4,u(!0);var b=bv.transition;bv.transition={};try{u(!1),d()}finally{an=m,bv.transition=b}}function L3(){return _s().memoizedState}function _O(u,d,m){var b=ol(u);if(m={lane:b,action:m,hasEagerState:!1,eagerState:null,next:null},F3(u))B3(d,m);else if(m=m3(u,d,m,b),m!==null){var E=_i();Xs(m,u,b,E),$3(m,d,b)}}function SO(u,d,m){var b=ol(u),E={lane:b,action:m,hasEagerState:!1,eagerState:null,next:null};if(F3(u))B3(d,E);else{var T=u.alternate;if(u.lanes===0&&(T===null||T.lanes===0)&&(T=d.lastRenderedReducer,T!==null))try{var D=d.lastRenderedState,J=T(D,m);if(E.hasEagerState=!0,E.eagerState=J,pe(J,D)){var re=d.interleaved;re===null?(E.next=E,hv(d)):(E.next=re.next,re.next=E),d.interleaved=E;return}}catch{}finally{}m=m3(u,d,E,b),m!==null&&(E=_i(),Xs(m,u,b,E),$3(m,d,b))}}function F3(u){var d=u.alternate;return u===Yn||d!==null&&d===Yn}function B3(u,d){Gf=$m=!0;var m=u.pending;m===null?d.next=d:(d.next=m.next,m.next=d),u.pending=d}function $3(u,d,m){if((m&4194240)!==0){var b=d.lanes;b&=u.pendingLanes,m|=b,d.lanes=m,Tu(u,m)}}var Hm={readContext:ws,useCallback:si,useContext:si,useEffect:si,useImperativeHandle:si,useInsertionEffect:si,useLayoutEffect:si,useMemo:si,useReducer:si,useRef:si,useState:si,useDebugValue:si,useDeferredValue:si,useTransition:si,useMutableSource:si,useSyncExternalStore:si,useId:si,unstable_isNewReconciler:!1},EO={readContext:ws,useCallback:function(u,d){return To().memoizedState=[u,d===void 0?null:d],u},useContext:ws,useEffect:I3,useImperativeHandle:function(u,d,m){return m=m!=null?m.concat([u]):null,zm(4194308,4,O3.bind(null,d,u),m)},useLayoutEffect:function(u,d){return zm(4194308,4,u,d)},useInsertionEffect:function(u,d){return zm(4,2,u,d)},useMemo:function(u,d){var m=To();return d=d===void 0?null:d,u=u(),m.memoizedState=[u,d],u},useReducer:function(u,d,m){var b=To();return d=m!==void 0?m(d):d,b.memoizedState=b.baseState=d,u={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:u,lastRenderedState:d},b.queue=u,u=u.dispatch=_O.bind(null,Yn,u),[b.memoizedState,u]},useRef:function(u){var d=To();return u={current:u},d.memoizedState=u},useState:T3,useDebugValue:kv,useDeferredValue:function(u){return To().memoizedState=u},useTransition:function(){var u=T3(!1),d=u[0];return u=wO.bind(null,u[1]),To().memoizedState=u,[d,u]},useMutableSource:function(){},useSyncExternalStore:function(u,d,m){var b=Yn,E=To();if(Un){if(m===void 0)throw Error(n(407));m=m()}else{if(m=d(),zr===null)throw Error(n(349));(vc&30)!==0||_3(b,d,m)}E.memoizedState=m;var T={value:m,getSnapshot:d};return E.queue=T,I3(E3.bind(null,b,T,u),[u]),b.flags|=2048,Xf(9,S3.bind(null,b,T,m,d),void 0,null),m},useId:function(){var u=To(),d=zr.identifierPrefix;if(Un){var m=na,b=ta;m=(b&~(1<<32-it(b)-1)).toString(32)+m,d=":"+d+"R"+m,m=Yf++,0<m&&(d+="H"+m.toString(32)),d+=":"}else m=xO++,d=":"+d+"r"+m.toString(32)+":";return u.memoizedState=d},unstable_isNewReconciler:!1},CO={readContext:ws,useCallback:A3,useContext:ws,useEffect:Cv,useImperativeHandle:P3,useInsertionEffect:R3,useLayoutEffect:N3,useMemo:M3,useReducer:Sv,useRef:j3,useState:function(){return Sv(Jf)},useDebugValue:kv,useDeferredValue:function(u){var d=_s();return D3(d,Tr.memoizedState,u)},useTransition:function(){var u=Sv(Jf)[0],d=_s().memoizedState;return[u,d]},useMutableSource:x3,useSyncExternalStore:w3,useId:L3,unstable_isNewReconciler:!1},kO={readContext:ws,useCallback:A3,useContext:ws,useEffect:Cv,useImperativeHandle:P3,useInsertionEffect:R3,useLayoutEffect:N3,useMemo:M3,useReducer:Ev,useRef:j3,useState:function(){return Ev(Jf)},useDebugValue:kv,useDeferredValue:function(u){var d=_s();return Tr===null?d.memoizedState=u:D3(d,Tr.memoizedState,u)},useTransition:function(){var u=Ev(Jf)[0],d=_s().memoizedState;return[u,d]},useMutableSource:x3,useSyncExternalStore:w3,useId:L3,unstable_isNewReconciler:!1};function Gs(u,d){if(u&&u.defaultProps){d=B({},d),u=u.defaultProps;for(var m in u)d[m]===void 0&&(d[m]=u[m]);return d}return d}function Tv(u,d,m,b){d=u.memoizedState,m=m(b,d),m=m==null?d:B({},d,m),u.memoizedState=m,u.lanes===0&&(u.updateQueue.baseState=m)}var Wm={isMounted:function(u){return(u=u._reactInternals)?Xe(u)===u:!1},enqueueSetState:function(u,d,m){u=u._reactInternals;var b=_i(),E=ol(u),T=ia(b,E);T.payload=d,m!=null&&(T.callback=m),d=nl(u,T,E),d!==null&&(Xs(d,u,E,b),Dm(d,u,E))},enqueueReplaceState:function(u,d,m){u=u._reactInternals;var b=_i(),E=ol(u),T=ia(b,E);T.tag=1,T.payload=d,m!=null&&(T.callback=m),d=nl(u,T,E),d!==null&&(Xs(d,u,E,b),Dm(d,u,E))},enqueueForceUpdate:function(u,d){u=u._reactInternals;var m=_i(),b=ol(u),E=ia(m,b);E.tag=2,d!=null&&(E.callback=d),d=nl(u,E,b),d!==null&&(Xs(d,u,b,m),Dm(d,u,b))}};function z3(u,d,m,b,E,T,D){return u=u.stateNode,typeof u.shouldComponentUpdate=="function"?u.shouldComponentUpdate(b,T,D):d.prototype&&d.prototype.isPureReactComponent?!ie(m,b)||!ie(E,T):!0}function U3(u,d,m){var b=!1,E=Za,T=d.contextType;return typeof T=="object"&&T!==null?T=ws(T):(E=Oi(d)?hc:ii.current,b=d.contextTypes,T=(b=b!=null)?Wu(u,E):Za),d=new d(m,T),u.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Wm,u.stateNode=d,d._reactInternals=u,b&&(u=u.stateNode,u.__reactInternalMemoizedUnmaskedChildContext=E,u.__reactInternalMemoizedMaskedChildContext=T),d}function H3(u,d,m,b){u=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(m,b),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(m,b),d.state!==u&&Wm.enqueueReplaceState(d,d.state,null)}function jv(u,d,m,b){var E=u.stateNode;E.props=m,E.state=u.memoizedState,E.refs={},pv(u);var T=d.contextType;typeof T=="object"&&T!==null?E.context=ws(T):(T=Oi(d)?hc:ii.current,E.context=Wu(u,T)),E.state=u.memoizedState,T=d.getDerivedStateFromProps,typeof T=="function"&&(Tv(u,d,T,m),E.state=u.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof E.getSnapshotBeforeUpdate=="function"||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(d=E.state,typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount(),d!==E.state&&Wm.enqueueReplaceState(E,E.state,null),Lm(u,m,E,b),E.state=u.memoizedState),typeof E.componentDidMount=="function"&&(u.flags|=4194308)}function Xu(u,d){try{var m="",b=d;do m+=Ce(b),b=b.return;while(b);var E=m}catch(T){E=`
Error generating stack: `+T.message+`
`+T.stack}return{value:u,source:d,stack:E,digest:null}}function Iv(u,d,m){return{value:u,source:null,stack:m??null,digest:d??null}}function Rv(u,d){try{console.error(d.value)}catch(m){setTimeout(function(){throw m})}}var TO=typeof WeakMap=="function"?WeakMap:Map;function W3(u,d,m){m=ia(-1,m),m.tag=3,m.payload={element:null};var b=d.value;return m.callback=function(){Jm||(Jm=!0,Vv=b),Rv(u,d)},m}function V3(u,d,m){m=ia(-1,m),m.tag=3;var b=u.type.getDerivedStateFromError;if(typeof b=="function"){var E=d.value;m.payload=function(){return b(E)},m.callback=function(){Rv(u,d)}}var T=u.stateNode;return T!==null&&typeof T.componentDidCatch=="function"&&(m.callback=function(){Rv(u,d),typeof b!="function"&&(il===null?il=new Set([this]):il.add(this));var D=d.stack;this.componentDidCatch(d.value,{componentStack:D!==null?D:""})}),m}function q3(u,d,m){var b=u.pingCache;if(b===null){b=u.pingCache=new TO;var E=new Set;b.set(d,E)}else E=b.get(d),E===void 0&&(E=new Set,b.set(d,E));E.has(m)||(E.add(m),u=zO.bind(null,u,d,m),d.then(u,u))}function Q3(u){do{var d;if((d=u.tag===13)&&(d=u.memoizedState,d=d!==null?d.dehydrated!==null:!0),d)return u;u=u.return}while(u!==null);return null}function K3(u,d,m,b,E){return(u.mode&1)===0?(u===d?u.flags|=65536:(u.flags|=128,m.flags|=131072,m.flags&=-52805,m.tag===1&&(m.alternate===null?m.tag=17:(d=ia(-1,1),d.tag=2,nl(m,d,1))),m.lanes|=1),u):(u.flags|=65536,u.lanes=E,u)}var jO=z.ReactCurrentOwner,Pi=!1;function wi(u,d,m,b){d.child=u===null?p3(d,null,m,b):Ku(d,u.child,m,b)}function G3(u,d,m,b,E){m=m.render;var T=d.ref;return Yu(d,E),b=wv(u,d,m,b,T,E),m=_v(),u!==null&&!Pi?(d.updateQueue=u.updateQueue,d.flags&=-2053,u.lanes&=~E,sa(u,d,E)):(Un&&m&&iv(d),d.flags|=1,wi(u,d,b,E),d.child)}function Y3(u,d,m,b,E){if(u===null){var T=m.type;return typeof T=="function"&&!Xv(T)&&T.defaultProps===void 0&&m.compare===null&&m.defaultProps===void 0?(d.tag=15,d.type=T,J3(u,d,T,b,E)):(u=rg(m.type,null,b,d,d.mode,E),u.ref=d.ref,u.return=d,d.child=u)}if(T=u.child,(u.lanes&E)===0){var D=T.memoizedProps;if(m=m.compare,m=m!==null?m:ie,m(D,b)&&u.ref===d.ref)return sa(u,d,E)}return d.flags|=1,u=ll(T,b),u.ref=d.ref,u.return=d,d.child=u}function J3(u,d,m,b,E){if(u!==null){var T=u.memoizedProps;if(ie(T,b)&&u.ref===d.ref)if(Pi=!1,d.pendingProps=b=T,(u.lanes&E)!==0)(u.flags&131072)!==0&&(Pi=!0);else return d.lanes=u.lanes,sa(u,d,E)}return Nv(u,d,m,b,E)}function X3(u,d,m){var b=d.pendingProps,E=b.children,T=u!==null?u.memoizedState:null;if(b.mode==="hidden")if((d.mode&1)===0)d.memoizedState={baseLanes:0,cachePool:null,transitions:null},Tn(ed,ts),ts|=m;else{if((m&1073741824)===0)return u=T!==null?T.baseLanes|m:m,d.lanes=d.childLanes=1073741824,d.memoizedState={baseLanes:u,cachePool:null,transitions:null},d.updateQueue=null,Tn(ed,ts),ts|=u,null;d.memoizedState={baseLanes:0,cachePool:null,transitions:null},b=T!==null?T.baseLanes:m,Tn(ed,ts),ts|=b}else T!==null?(b=T.baseLanes|m,d.memoizedState=null):b=m,Tn(ed,ts),ts|=b;return wi(u,d,E,m),d.child}function Z3(u,d){var m=d.ref;(u===null&&m!==null||u!==null&&u.ref!==m)&&(d.flags|=512,d.flags|=2097152)}function Nv(u,d,m,b,E){var T=Oi(m)?hc:ii.current;return T=Wu(d,T),Yu(d,E),m=wv(u,d,m,b,T,E),b=_v(),u!==null&&!Pi?(d.updateQueue=u.updateQueue,d.flags&=-2053,u.lanes&=~E,sa(u,d,E)):(Un&&b&&iv(d),d.flags|=1,wi(u,d,m,E),d.child)}function e5(u,d,m,b,E){if(Oi(m)){var T=!0;jm(d)}else T=!1;if(Yu(d,E),d.stateNode===null)qm(u,d),U3(d,m,b),jv(d,m,b,E),b=!0;else if(u===null){var D=d.stateNode,J=d.memoizedProps;D.props=J;var re=D.context,_e=m.contextType;typeof _e=="object"&&_e!==null?_e=ws(_e):(_e=Oi(m)?hc:ii.current,_e=Wu(d,_e));var Pe=m.getDerivedStateFromProps,Ae=typeof Pe=="function"||typeof D.getSnapshotBeforeUpdate=="function";Ae||typeof D.UNSAFE_componentWillReceiveProps!="function"&&typeof D.componentWillReceiveProps!="function"||(J!==b||re!==_e)&&H3(d,D,b,_e),tl=!1;var Ne=d.memoizedState;D.state=Ne,Lm(d,b,D,E),re=d.memoizedState,J!==b||Ne!==re||Ni.current||tl?(typeof Pe=="function"&&(Tv(d,m,Pe,b),re=d.memoizedState),(J=tl||z3(d,m,J,b,Ne,re,_e))?(Ae||typeof D.UNSAFE_componentWillMount!="function"&&typeof D.componentWillMount!="function"||(typeof D.componentWillMount=="function"&&D.componentWillMount(),typeof D.UNSAFE_componentWillMount=="function"&&D.UNSAFE_componentWillMount()),typeof D.componentDidMount=="function"&&(d.flags|=4194308)):(typeof D.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=b,d.memoizedState=re),D.props=b,D.state=re,D.context=_e,b=J):(typeof D.componentDidMount=="function"&&(d.flags|=4194308),b=!1)}else{D=d.stateNode,g3(u,d),J=d.memoizedProps,_e=d.type===d.elementType?J:Gs(d.type,J),D.props=_e,Ae=d.pendingProps,Ne=D.context,re=m.contextType,typeof re=="object"&&re!==null?re=ws(re):(re=Oi(m)?hc:ii.current,re=Wu(d,re));var Ze=m.getDerivedStateFromProps;(Pe=typeof Ze=="function"||typeof D.getSnapshotBeforeUpdate=="function")||typeof D.UNSAFE_componentWillReceiveProps!="function"&&typeof D.componentWillReceiveProps!="function"||(J!==Ae||Ne!==re)&&H3(d,D,b,re),tl=!1,Ne=d.memoizedState,D.state=Ne,Lm(d,b,D,E);var st=d.memoizedState;J!==Ae||Ne!==st||Ni.current||tl?(typeof Ze=="function"&&(Tv(d,m,Ze,b),st=d.memoizedState),(_e=tl||z3(d,m,_e,b,Ne,st,re)||!1)?(Pe||typeof D.UNSAFE_componentWillUpdate!="function"&&typeof D.componentWillUpdate!="function"||(typeof D.componentWillUpdate=="function"&&D.componentWillUpdate(b,st,re),typeof D.UNSAFE_componentWillUpdate=="function"&&D.UNSAFE_componentWillUpdate(b,st,re)),typeof D.componentDidUpdate=="function"&&(d.flags|=4),typeof D.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof D.componentDidUpdate!="function"||J===u.memoizedProps&&Ne===u.memoizedState||(d.flags|=4),typeof D.getSnapshotBeforeUpdate!="function"||J===u.memoizedProps&&Ne===u.memoizedState||(d.flags|=1024),d.memoizedProps=b,d.memoizedState=st),D.props=b,D.state=st,D.context=re,b=_e):(typeof D.componentDidUpdate!="function"||J===u.memoizedProps&&Ne===u.memoizedState||(d.flags|=4),typeof D.getSnapshotBeforeUpdate!="function"||J===u.memoizedProps&&Ne===u.memoizedState||(d.flags|=1024),b=!1)}return Ov(u,d,m,b,T,E)}function Ov(u,d,m,b,E,T){Z3(u,d);var D=(d.flags&128)!==0;if(!b&&!D)return E&&s3(d,m,!1),sa(u,d,T);b=d.stateNode,jO.current=d;var J=D&&typeof m.getDerivedStateFromError!="function"?null:b.render();return d.flags|=1,u!==null&&D?(d.child=Ku(d,u.child,null,T),d.child=Ku(d,null,J,T)):wi(u,d,J,T),d.memoizedState=b.state,E&&s3(d,m,!0),d.child}function t5(u){var d=u.stateNode;d.pendingContext?r3(u,d.pendingContext,d.pendingContext!==d.context):d.context&&r3(u,d.context,!1),mv(u,d.containerInfo)}function n5(u,d,m,b,E){return Qu(),lv(E),d.flags|=256,wi(u,d,m,b),d.child}var Pv={dehydrated:null,treeContext:null,retryLane:0};function Av(u){return{baseLanes:u,cachePool:null,transitions:null}}function r5(u,d,m){var b=d.pendingProps,E=Gn.current,T=!1,D=(d.flags&128)!==0,J;if((J=D)||(J=u!==null&&u.memoizedState===null?!1:(E&2)!==0),J?(T=!0,d.flags&=-129):(u===null||u.memoizedState!==null)&&(E|=1),Tn(Gn,E&1),u===null)return av(d),u=d.memoizedState,u!==null&&(u=u.dehydrated,u!==null)?((d.mode&1)===0?d.lanes=1:u.data==="$!"?d.lanes=8:d.lanes=1073741824,null):(D=b.children,u=b.fallback,T?(b=d.mode,T=d.child,D={mode:"hidden",children:D},(b&1)===0&&T!==null?(T.childLanes=0,T.pendingProps=D):T=ig(D,b,0,null),u=Sc(u,b,m,null),T.return=d,u.return=d,T.sibling=u,d.child=T,d.child.memoizedState=Av(m),d.memoizedState=Pv,u):Mv(d,D));if(E=u.memoizedState,E!==null&&(J=E.dehydrated,J!==null))return IO(u,d,D,b,J,E,m);if(T){T=b.fallback,D=d.mode,E=u.child,J=E.sibling;var re={mode:"hidden",children:b.children};return(D&1)===0&&d.child!==E?(b=d.child,b.childLanes=0,b.pendingProps=re,d.deletions=null):(b=ll(E,re),b.subtreeFlags=E.subtreeFlags&14680064),J!==null?T=ll(J,T):(T=Sc(T,D,m,null),T.flags|=2),T.return=d,b.return=d,b.sibling=T,d.child=b,b=T,T=d.child,D=u.child.memoizedState,D=D===null?Av(m):{baseLanes:D.baseLanes|m,cachePool:null,transitions:D.transitions},T.memoizedState=D,T.childLanes=u.childLanes&~m,d.memoizedState=Pv,b}return T=u.child,u=T.sibling,b=ll(T,{mode:"visible",children:b.children}),(d.mode&1)===0&&(b.lanes=m),b.return=d,b.sibling=null,u!==null&&(m=d.deletions,m===null?(d.deletions=[u],d.flags|=16):m.push(u)),d.child=b,d.memoizedState=null,b}function Mv(u,d){return d=ig({mode:"visible",children:d},u.mode,0,null),d.return=u,u.child=d}function Vm(u,d,m,b){return b!==null&&lv(b),Ku(d,u.child,null,m),u=Mv(d,d.pendingProps.children),u.flags|=2,d.memoizedState=null,u}function IO(u,d,m,b,E,T,D){if(m)return d.flags&256?(d.flags&=-257,b=Iv(Error(n(422))),Vm(u,d,D,b)):d.memoizedState!==null?(d.child=u.child,d.flags|=128,null):(T=b.fallback,E=d.mode,b=ig({mode:"visible",children:b.children},E,0,null),T=Sc(T,E,D,null),T.flags|=2,b.return=d,T.return=d,b.sibling=T,d.child=b,(d.mode&1)!==0&&Ku(d,u.child,null,D),d.child.memoizedState=Av(D),d.memoizedState=Pv,T);if((d.mode&1)===0)return Vm(u,d,D,null);if(E.data==="$!"){if(b=E.nextSibling&&E.nextSibling.dataset,b)var J=b.dgst;return b=J,T=Error(n(419)),b=Iv(T,b,void 0),Vm(u,d,D,b)}if(J=(D&u.childLanes)!==0,Pi||J){if(b=zr,b!==null){switch(D&-D){case 4:E=2;break;case 16:E=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:E=32;break;case 536870912:E=268435456;break;default:E=0}E=(E&(b.suspendedLanes|D))!==0?0:E,E!==0&&E!==T.retryLane&&(T.retryLane=E,ra(u,E),Xs(b,u,E,-1))}return Jv(),b=Iv(Error(n(421))),Vm(u,d,D,b)}return E.data==="$?"?(d.flags|=128,d.child=u.child,d=UO.bind(null,u),E._reactRetry=d,null):(u=T.treeContext,es=Ja(E.nextSibling),Zi=d,Un=!0,Ks=null,u!==null&&(bs[xs++]=ta,bs[xs++]=na,bs[xs++]=pc,ta=u.id,na=u.overflow,pc=d),d=Mv(d,b.children),d.flags|=4096,d)}function i5(u,d,m){u.lanes|=d;var b=u.alternate;b!==null&&(b.lanes|=d),fv(u.return,d,m)}function Dv(u,d,m,b,E){var T=u.memoizedState;T===null?u.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:b,tail:m,tailMode:E}:(T.isBackwards=d,T.rendering=null,T.renderingStartTime=0,T.last=b,T.tail=m,T.tailMode=E)}function s5(u,d,m){var b=d.pendingProps,E=b.revealOrder,T=b.tail;if(wi(u,d,b.children,m),b=Gn.current,(b&2)!==0)b=b&1|2,d.flags|=128;else{if(u!==null&&(u.flags&128)!==0)e:for(u=d.child;u!==null;){if(u.tag===13)u.memoizedState!==null&&i5(u,m,d);else if(u.tag===19)i5(u,m,d);else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===d)break e;for(;u.sibling===null;){if(u.return===null||u.return===d)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}b&=1}if(Tn(Gn,b),(d.mode&1)===0)d.memoizedState=null;else switch(E){case"forwards":for(m=d.child,E=null;m!==null;)u=m.alternate,u!==null&&Fm(u)===null&&(E=m),m=m.sibling;m=E,m===null?(E=d.child,d.child=null):(E=m.sibling,m.sibling=null),Dv(d,!1,E,m,T);break;case"backwards":for(m=null,E=d.child,d.child=null;E!==null;){if(u=E.alternate,u!==null&&Fm(u)===null){d.child=E;break}u=E.sibling,E.sibling=m,m=E,E=u}Dv(d,!0,m,null,T);break;case"together":Dv(d,!1,null,null,void 0);break;default:d.memoizedState=null}return d.child}function qm(u,d){(d.mode&1)===0&&u!==null&&(u.alternate=null,d.alternate=null,d.flags|=2)}function sa(u,d,m){if(u!==null&&(d.dependencies=u.dependencies),bc|=d.lanes,(m&d.childLanes)===0)return null;if(u!==null&&d.child!==u.child)throw Error(n(153));if(d.child!==null){for(u=d.child,m=ll(u,u.pendingProps),d.child=m,m.return=d;u.sibling!==null;)u=u.sibling,m=m.sibling=ll(u,u.pendingProps),m.return=d;m.sibling=null}return d.child}function RO(u,d,m){switch(d.tag){case 3:t5(d),Qu();break;case 5:b3(d);break;case 1:Oi(d.type)&&jm(d);break;case 4:mv(d,d.stateNode.containerInfo);break;case 10:var b=d.type._context,E=d.memoizedProps.value;Tn(Am,b._currentValue),b._currentValue=E;break;case 13:if(b=d.memoizedState,b!==null)return b.dehydrated!==null?(Tn(Gn,Gn.current&1),d.flags|=128,null):(m&d.child.childLanes)!==0?r5(u,d,m):(Tn(Gn,Gn.current&1),u=sa(u,d,m),u!==null?u.sibling:null);Tn(Gn,Gn.current&1);break;case 19:if(b=(m&d.childLanes)!==0,(u.flags&128)!==0){if(b)return s5(u,d,m);d.flags|=128}if(E=d.memoizedState,E!==null&&(E.rendering=null,E.tail=null,E.lastEffect=null),Tn(Gn,Gn.current),b)break;return null;case 22:case 23:return d.lanes=0,X3(u,d,m)}return sa(u,d,m)}var o5,Lv,a5,l5;o5=function(u,d){for(var m=d.child;m!==null;){if(m.tag===5||m.tag===6)u.appendChild(m.stateNode);else if(m.tag!==4&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===d)break;for(;m.sibling===null;){if(m.return===null||m.return===d)return;m=m.return}m.sibling.return=m.return,m=m.sibling}},Lv=function(){},a5=function(u,d,m,b){var E=u.memoizedProps;if(E!==b){u=d.stateNode,yc(ko.current);var T=null;switch(m){case"input":E=_n(u,E),b=_n(u,b),T=[];break;case"select":E=B({},E,{value:void 0}),b=B({},b,{value:void 0}),T=[];break;case"textarea":E=jt(u,E),b=jt(u,b),T=[];break;default:typeof E.onClick!="function"&&typeof b.onClick=="function"&&(u.onclick=Cm)}qe(m,b);var D;m=null;for(_e in E)if(!b.hasOwnProperty(_e)&&E.hasOwnProperty(_e)&&E[_e]!=null)if(_e==="style"){var J=E[_e];for(D in J)J.hasOwnProperty(D)&&(m||(m={}),m[D]="")}else _e!=="dangerouslySetInnerHTML"&&_e!=="children"&&_e!=="suppressContentEditableWarning"&&_e!=="suppressHydrationWarning"&&_e!=="autoFocus"&&(i.hasOwnProperty(_e)?T||(T=[]):(T=T||[]).push(_e,null));for(_e in b){var re=b[_e];if(J=E?.[_e],b.hasOwnProperty(_e)&&re!==J&&(re!=null||J!=null))if(_e==="style")if(J){for(D in J)!J.hasOwnProperty(D)||re&&re.hasOwnProperty(D)||(m||(m={}),m[D]="");for(D in re)re.hasOwnProperty(D)&&J[D]!==re[D]&&(m||(m={}),m[D]=re[D])}else m||(T||(T=[]),T.push(_e,m)),m=re;else _e==="dangerouslySetInnerHTML"?(re=re?re.__html:void 0,J=J?J.__html:void 0,re!=null&&J!==re&&(T=T||[]).push(_e,re)):_e==="children"?typeof re!="string"&&typeof re!="number"||(T=T||[]).push(_e,""+re):_e!=="suppressContentEditableWarning"&&_e!=="suppressHydrationWarning"&&(i.hasOwnProperty(_e)?(re!=null&&_e==="onScroll"&&Mn("scroll",u),T||J===re||(T=[])):(T=T||[]).push(_e,re))}m&&(T=T||[]).push("style",m);var _e=T;(d.updateQueue=_e)&&(d.flags|=4)}},l5=function(u,d,m,b){m!==b&&(d.flags|=4)};function Zf(u,d){if(!Un)switch(u.tailMode){case"hidden":d=u.tail;for(var m=null;d!==null;)d.alternate!==null&&(m=d),d=d.sibling;m===null?u.tail=null:m.sibling=null;break;case"collapsed":m=u.tail;for(var b=null;m!==null;)m.alternate!==null&&(b=m),m=m.sibling;b===null?d||u.tail===null?u.tail=null:u.tail.sibling=null:b.sibling=null}}function oi(u){var d=u.alternate!==null&&u.alternate.child===u.child,m=0,b=0;if(d)for(var E=u.child;E!==null;)m|=E.lanes|E.childLanes,b|=E.subtreeFlags&14680064,b|=E.flags&14680064,E.return=u,E=E.sibling;else for(E=u.child;E!==null;)m|=E.lanes|E.childLanes,b|=E.subtreeFlags,b|=E.flags,E.return=u,E=E.sibling;return u.subtreeFlags|=b,u.childLanes=m,d}function NO(u,d,m){var b=d.pendingProps;switch(sv(d),d.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return oi(d),null;case 1:return Oi(d.type)&&Tm(),oi(d),null;case 3:return b=d.stateNode,Ju(),Dn(Ni),Dn(ii),vv(),b.pendingContext&&(b.context=b.pendingContext,b.pendingContext=null),(u===null||u.child===null)&&(Om(d)?d.flags|=4:u===null||u.memoizedState.isDehydrated&&(d.flags&256)===0||(d.flags|=1024,Ks!==null&&(Kv(Ks),Ks=null))),Lv(u,d),oi(d),null;case 5:gv(d);var E=yc(Kf.current);if(m=d.type,u!==null&&d.stateNode!=null)a5(u,d,m,b,E),u.ref!==d.ref&&(d.flags|=512,d.flags|=2097152);else{if(!b){if(d.stateNode===null)throw Error(n(166));return oi(d),null}if(u=yc(ko.current),Om(d)){b=d.stateNode,m=d.type;var T=d.memoizedProps;switch(b[Co]=d,b[Hf]=T,u=(d.mode&1)!==0,m){case"dialog":Mn("cancel",b),Mn("close",b);break;case"iframe":case"object":case"embed":Mn("load",b);break;case"video":case"audio":for(E=0;E<$f.length;E++)Mn($f[E],b);break;case"source":Mn("error",b);break;case"img":case"image":case"link":Mn("error",b),Mn("load",b);break;case"details":Mn("toggle",b);break;case"input":vn(b,T),Mn("invalid",b);break;case"select":b._wrapperState={wasMultiple:!!T.multiple},Mn("invalid",b);break;case"textarea":en(b,T),Mn("invalid",b)}qe(m,T),E=null;for(var D in T)if(T.hasOwnProperty(D)){var J=T[D];D==="children"?typeof J=="string"?b.textContent!==J&&(T.suppressHydrationWarning!==!0&&Em(b.textContent,J,u),E=["children",J]):typeof J=="number"&&b.textContent!==""+J&&(T.suppressHydrationWarning!==!0&&Em(b.textContent,J,u),E=["children",""+J]):i.hasOwnProperty(D)&&J!=null&&D==="onScroll"&&Mn("scroll",b)}switch(m){case"input":lr(b),Gi(b,T,!0);break;case"textarea":lr(b),Fn(b);break;case"select":case"option":break;default:typeof T.onClick=="function"&&(b.onclick=Cm)}b=E,d.updateQueue=b,b!==null&&(d.flags|=4)}else{D=E.nodeType===9?E:E.ownerDocument,u==="http://www.w3.org/1999/xhtml"&&(u=Se(m)),u==="http://www.w3.org/1999/xhtml"?m==="script"?(u=D.createElement("div"),u.innerHTML="<script><\/script>",u=u.removeChild(u.firstChild)):typeof b.is=="string"?u=D.createElement(m,{is:b.is}):(u=D.createElement(m),m==="select"&&(D=u,b.multiple?D.multiple=!0:b.size&&(D.size=b.size))):u=D.createElementNS(u,m),u[Co]=d,u[Hf]=b,o5(u,d,!1,!1),d.stateNode=u;e:{switch(D=Er(m,b),m){case"dialog":Mn("cancel",u),Mn("close",u),E=b;break;case"iframe":case"object":case"embed":Mn("load",u),E=b;break;case"video":case"audio":for(E=0;E<$f.length;E++)Mn($f[E],u);E=b;break;case"source":Mn("error",u),E=b;break;case"img":case"image":case"link":Mn("error",u),Mn("load",u),E=b;break;case"details":Mn("toggle",u),E=b;break;case"input":vn(u,b),E=_n(u,b),Mn("invalid",u);break;case"option":E=b;break;case"select":u._wrapperState={wasMultiple:!!b.multiple},E=B({},b,{value:void 0}),Mn("invalid",u);break;case"textarea":en(u,b),E=jt(u,b),Mn("invalid",u);break;default:E=b}qe(m,E),J=E;for(T in J)if(J.hasOwnProperty(T)){var re=J[T];T==="style"?er(u,re):T==="dangerouslySetInnerHTML"?(re=re?re.__html:void 0,re!=null&&pt(u,re)):T==="children"?typeof re=="string"?(m!=="textarea"||re!=="")&&zt(u,re):typeof re=="number"&&zt(u,""+re):T!=="suppressContentEditableWarning"&&T!=="suppressHydrationWarning"&&T!=="autoFocus"&&(i.hasOwnProperty(T)?re!=null&&T==="onScroll"&&Mn("scroll",u):re!=null&&A(u,T,re,D))}switch(m){case"input":lr(u),Gi(u,b,!1);break;case"textarea":lr(u),Fn(u);break;case"option":b.value!=null&&u.setAttribute("value",""+Ue(b.value));break;case"select":u.multiple=!!b.multiple,T=b.value,T!=null?un(u,!!b.multiple,T,!1):b.defaultValue!=null&&un(u,!!b.multiple,b.defaultValue,!0);break;default:typeof E.onClick=="function"&&(u.onclick=Cm)}switch(m){case"button":case"input":case"select":case"textarea":b=!!b.autoFocus;break e;case"img":b=!0;break e;default:b=!1}}b&&(d.flags|=4)}d.ref!==null&&(d.flags|=512,d.flags|=2097152)}return oi(d),null;case 6:if(u&&d.stateNode!=null)l5(u,d,u.memoizedProps,b);else{if(typeof b!="string"&&d.stateNode===null)throw Error(n(166));if(m=yc(Kf.current),yc(ko.current),Om(d)){if(b=d.stateNode,m=d.memoizedProps,b[Co]=d,(T=b.nodeValue!==m)&&(u=Zi,u!==null))switch(u.tag){case 3:Em(b.nodeValue,m,(u.mode&1)!==0);break;case 5:u.memoizedProps.suppressHydrationWarning!==!0&&Em(b.nodeValue,m,(u.mode&1)!==0)}T&&(d.flags|=4)}else b=(m.nodeType===9?m:m.ownerDocument).createTextNode(b),b[Co]=d,d.stateNode=b}return oi(d),null;case 13:if(Dn(Gn),b=d.memoizedState,u===null||u.memoizedState!==null&&u.memoizedState.dehydrated!==null){if(Un&&es!==null&&(d.mode&1)!==0&&(d.flags&128)===0)d3(),Qu(),d.flags|=98560,T=!1;else if(T=Om(d),b!==null&&b.dehydrated!==null){if(u===null){if(!T)throw Error(n(318));if(T=d.memoizedState,T=T!==null?T.dehydrated:null,!T)throw Error(n(317));T[Co]=d}else Qu(),(d.flags&128)===0&&(d.memoizedState=null),d.flags|=4;oi(d),T=!1}else Ks!==null&&(Kv(Ks),Ks=null),T=!0;if(!T)return d.flags&65536?d:null}return(d.flags&128)!==0?(d.lanes=m,d):(b=b!==null,b!==(u!==null&&u.memoizedState!==null)&&b&&(d.child.flags|=8192,(d.mode&1)!==0&&(u===null||(Gn.current&1)!==0?jr===0&&(jr=3):Jv())),d.updateQueue!==null&&(d.flags|=4),oi(d),null);case 4:return Ju(),Lv(u,d),u===null&&zf(d.stateNode.containerInfo),oi(d),null;case 10:return dv(d.type._context),oi(d),null;case 17:return Oi(d.type)&&Tm(),oi(d),null;case 19:if(Dn(Gn),T=d.memoizedState,T===null)return oi(d),null;if(b=(d.flags&128)!==0,D=T.rendering,D===null)if(b)Zf(T,!1);else{if(jr!==0||u!==null&&(u.flags&128)!==0)for(u=d.child;u!==null;){if(D=Fm(u),D!==null){for(d.flags|=128,Zf(T,!1),b=D.updateQueue,b!==null&&(d.updateQueue=b,d.flags|=4),d.subtreeFlags=0,b=m,m=d.child;m!==null;)T=m,u=b,T.flags&=14680066,D=T.alternate,D===null?(T.childLanes=0,T.lanes=u,T.child=null,T.subtreeFlags=0,T.memoizedProps=null,T.memoizedState=null,T.updateQueue=null,T.dependencies=null,T.stateNode=null):(T.childLanes=D.childLanes,T.lanes=D.lanes,T.child=D.child,T.subtreeFlags=0,T.deletions=null,T.memoizedProps=D.memoizedProps,T.memoizedState=D.memoizedState,T.updateQueue=D.updateQueue,T.type=D.type,u=D.dependencies,T.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext}),m=m.sibling;return Tn(Gn,Gn.current&1|2),d.child}u=u.sibling}T.tail!==null&&Ht()>td&&(d.flags|=128,b=!0,Zf(T,!1),d.lanes=4194304)}else{if(!b)if(u=Fm(D),u!==null){if(d.flags|=128,b=!0,m=u.updateQueue,m!==null&&(d.updateQueue=m,d.flags|=4),Zf(T,!0),T.tail===null&&T.tailMode==="hidden"&&!D.alternate&&!Un)return oi(d),null}else 2*Ht()-T.renderingStartTime>td&&m!==1073741824&&(d.flags|=128,b=!0,Zf(T,!1),d.lanes=4194304);T.isBackwards?(D.sibling=d.child,d.child=D):(m=T.last,m!==null?m.sibling=D:d.child=D,T.last=D)}return T.tail!==null?(d=T.tail,T.rendering=d,T.tail=d.sibling,T.renderingStartTime=Ht(),d.sibling=null,m=Gn.current,Tn(Gn,b?m&1|2:m&1),d):(oi(d),null);case 22:case 23:return Yv(),b=d.memoizedState!==null,u!==null&&u.memoizedState!==null!==b&&(d.flags|=8192),b&&(d.mode&1)!==0?(ts&1073741824)!==0&&(oi(d),d.subtreeFlags&6&&(d.flags|=8192)):oi(d),null;case 24:return null;case 25:return null}throw Error(n(156,d.tag))}function OO(u,d){switch(sv(d),d.tag){case 1:return Oi(d.type)&&Tm(),u=d.flags,u&65536?(d.flags=u&-65537|128,d):null;case 3:return Ju(),Dn(Ni),Dn(ii),vv(),u=d.flags,(u&65536)!==0&&(u&128)===0?(d.flags=u&-65537|128,d):null;case 5:return gv(d),null;case 13:if(Dn(Gn),u=d.memoizedState,u!==null&&u.dehydrated!==null){if(d.alternate===null)throw Error(n(340));Qu()}return u=d.flags,u&65536?(d.flags=u&-65537|128,d):null;case 19:return Dn(Gn),null;case 4:return Ju(),null;case 10:return dv(d.type._context),null;case 22:case 23:return Yv(),null;case 24:return null;default:return null}}var Qm=!1,ai=!1,PO=typeof WeakSet=="function"?WeakSet:Set,tt=null;function Zu(u,d){var m=u.ref;if(m!==null)if(typeof m=="function")try{m(null)}catch(b){rr(u,d,b)}else m.current=null}function Fv(u,d,m){try{m()}catch(b){rr(u,d,b)}}var c5=!1;function AO(u,d){if(Y1=sc,u=oe(),se(u)){if("selectionStart"in u)var m={start:u.selectionStart,end:u.selectionEnd};else e:{m=(m=u.ownerDocument)&&m.defaultView||window;var b=m.getSelection&&m.getSelection();if(b&&b.rangeCount!==0){m=b.anchorNode;var E=b.anchorOffset,T=b.focusNode;b=b.focusOffset;try{m.nodeType,T.nodeType}catch{m=null;break e}var D=0,J=-1,re=-1,_e=0,Pe=0,Ae=u,Ne=null;t:for(;;){for(var Ze;Ae!==m||E!==0&&Ae.nodeType!==3||(J=D+E),Ae!==T||b!==0&&Ae.nodeType!==3||(re=D+b),Ae.nodeType===3&&(D+=Ae.nodeValue.length),(Ze=Ae.firstChild)!==null;)Ne=Ae,Ae=Ze;for(;;){if(Ae===u)break t;if(Ne===m&&++_e===E&&(J=D),Ne===T&&++Pe===b&&(re=D),(Ze=Ae.nextSibling)!==null)break;Ae=Ne,Ne=Ae.parentNode}Ae=Ze}m=J===-1||re===-1?null:{start:J,end:re}}else m=null}m=m||{start:0,end:0}}else m=null;for(J1={focusedElem:u,selectionRange:m},sc=!1,tt=d;tt!==null;)if(d=tt,u=d.child,(d.subtreeFlags&1028)!==0&&u!==null)u.return=d,tt=u;else for(;tt!==null;){d=tt;try{var st=d.alternate;if((d.flags&1024)!==0)switch(d.tag){case 0:case 11:case 15:break;case 1:if(st!==null){var at=st.memoizedProps,ur=st.memoizedState,ye=d.stateNode,de=ye.getSnapshotBeforeUpdate(d.elementType===d.type?at:Gs(d.type,at),ur);ye.__reactInternalSnapshotBeforeUpdate=de}break;case 3:var be=d.stateNode.containerInfo;be.nodeType===1?be.textContent="":be.nodeType===9&&be.documentElement&&be.removeChild(be.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch($e){rr(d,d.return,$e)}if(u=d.sibling,u!==null){u.return=d.return,tt=u;break}tt=d.return}return st=c5,c5=!1,st}function eh(u,d,m){var b=d.updateQueue;if(b=b!==null?b.lastEffect:null,b!==null){var E=b=b.next;do{if((E.tag&u)===u){var T=E.destroy;E.destroy=void 0,T!==void 0&&Fv(d,m,T)}E=E.next}while(E!==b)}}function Km(u,d){if(d=d.updateQueue,d=d!==null?d.lastEffect:null,d!==null){var m=d=d.next;do{if((m.tag&u)===u){var b=m.create;m.destroy=b()}m=m.next}while(m!==d)}}function Bv(u){var d=u.ref;if(d!==null){var m=u.stateNode;switch(u.tag){case 5:u=m;break;default:u=m}typeof d=="function"?d(u):d.current=u}}function u5(u){var d=u.alternate;d!==null&&(u.alternate=null,u5(d)),u.child=null,u.deletions=null,u.sibling=null,u.tag===5&&(d=u.stateNode,d!==null&&(delete d[Co],delete d[Hf],delete d[tv],delete d[gO],delete d[yO])),u.stateNode=null,u.return=null,u.dependencies=null,u.memoizedProps=null,u.memoizedState=null,u.pendingProps=null,u.stateNode=null,u.updateQueue=null}function d5(u){return u.tag===5||u.tag===3||u.tag===4}function f5(u){e:for(;;){for(;u.sibling===null;){if(u.return===null||d5(u.return))return null;u=u.return}for(u.sibling.return=u.return,u=u.sibling;u.tag!==5&&u.tag!==6&&u.tag!==18;){if(u.flags&2||u.child===null||u.tag===4)continue e;u.child.return=u,u=u.child}if(!(u.flags&2))return u.stateNode}}function $v(u,d,m){var b=u.tag;if(b===5||b===6)u=u.stateNode,d?m.nodeType===8?m.parentNode.insertBefore(u,d):m.insertBefore(u,d):(m.nodeType===8?(d=m.parentNode,d.insertBefore(u,m)):(d=m,d.appendChild(u)),m=m._reactRootContainer,m!=null||d.onclick!==null||(d.onclick=Cm));else if(b!==4&&(u=u.child,u!==null))for($v(u,d,m),u=u.sibling;u!==null;)$v(u,d,m),u=u.sibling}function zv(u,d,m){var b=u.tag;if(b===5||b===6)u=u.stateNode,d?m.insertBefore(u,d):m.appendChild(u);else if(b!==4&&(u=u.child,u!==null))for(zv(u,d,m),u=u.sibling;u!==null;)zv(u,d,m),u=u.sibling}var Gr=null,Ys=!1;function rl(u,d,m){for(m=m.child;m!==null;)h5(u,d,m),m=m.sibling}function h5(u,d,m){if(mr&&typeof mr.onCommitFiberUnmount=="function")try{mr.onCommitFiberUnmount(gs,m)}catch{}switch(m.tag){case 5:ai||Zu(m,d);case 6:var b=Gr,E=Ys;Gr=null,rl(u,d,m),Gr=b,Ys=E,Gr!==null&&(Ys?(u=Gr,m=m.stateNode,u.nodeType===8?u.parentNode.removeChild(m):u.removeChild(m)):Gr.removeChild(m.stateNode));break;case 18:Gr!==null&&(Ys?(u=Gr,m=m.stateNode,u.nodeType===8?ev(u.parentNode,m):u.nodeType===1&&ev(u,m),Us(u)):ev(Gr,m.stateNode));break;case 4:b=Gr,E=Ys,Gr=m.stateNode.containerInfo,Ys=!0,rl(u,d,m),Gr=b,Ys=E;break;case 0:case 11:case 14:case 15:if(!ai&&(b=m.updateQueue,b!==null&&(b=b.lastEffect,b!==null))){E=b=b.next;do{var T=E,D=T.destroy;T=T.tag,D!==void 0&&((T&2)!==0||(T&4)!==0)&&Fv(m,d,D),E=E.next}while(E!==b)}rl(u,d,m);break;case 1:if(!ai&&(Zu(m,d),b=m.stateNode,typeof b.componentWillUnmount=="function"))try{b.props=m.memoizedProps,b.state=m.memoizedState,b.componentWillUnmount()}catch(J){rr(m,d,J)}rl(u,d,m);break;case 21:rl(u,d,m);break;case 22:m.mode&1?(ai=(b=ai)||m.memoizedState!==null,rl(u,d,m),ai=b):rl(u,d,m);break;default:rl(u,d,m)}}function p5(u){var d=u.updateQueue;if(d!==null){u.updateQueue=null;var m=u.stateNode;m===null&&(m=u.stateNode=new PO),d.forEach(function(b){var E=HO.bind(null,u,b);m.has(b)||(m.add(b),b.then(E,E))})}}function Js(u,d){var m=d.deletions;if(m!==null)for(var b=0;b<m.length;b++){var E=m[b];try{var T=u,D=d,J=D;e:for(;J!==null;){switch(J.tag){case 5:Gr=J.stateNode,Ys=!1;break e;case 3:Gr=J.stateNode.containerInfo,Ys=!0;break e;case 4:Gr=J.stateNode.containerInfo,Ys=!0;break e}J=J.return}if(Gr===null)throw Error(n(160));h5(T,D,E),Gr=null,Ys=!1;var re=E.alternate;re!==null&&(re.return=null),E.return=null}catch(_e){rr(E,d,_e)}}if(d.subtreeFlags&12854)for(d=d.child;d!==null;)m5(d,u),d=d.sibling}function m5(u,d){var m=u.alternate,b=u.flags;switch(u.tag){case 0:case 11:case 14:case 15:if(Js(d,u),jo(u),b&4){try{eh(3,u,u.return),Km(3,u)}catch(at){rr(u,u.return,at)}try{eh(5,u,u.return)}catch(at){rr(u,u.return,at)}}break;case 1:Js(d,u),jo(u),b&512&&m!==null&&Zu(m,m.return);break;case 5:if(Js(d,u),jo(u),b&512&&m!==null&&Zu(m,m.return),u.flags&32){var E=u.stateNode;try{zt(E,"")}catch(at){rr(u,u.return,at)}}if(b&4&&(E=u.stateNode,E!=null)){var T=u.memoizedProps,D=m!==null?m.memoizedProps:T,J=u.type,re=u.updateQueue;if(u.updateQueue=null,re!==null)try{J==="input"&&T.type==="radio"&&T.name!=null&&wr(E,T),Er(J,D);var _e=Er(J,T);for(D=0;D<re.length;D+=2){var Pe=re[D],Ae=re[D+1];Pe==="style"?er(E,Ae):Pe==="dangerouslySetInnerHTML"?pt(E,Ae):Pe==="children"?zt(E,Ae):A(E,Pe,Ae,_e)}switch(J){case"input":Ri(E,T);break;case"textarea":Et(E,T);break;case"select":var Ne=E._wrapperState.wasMultiple;E._wrapperState.wasMultiple=!!T.multiple;var Ze=T.value;Ze!=null?un(E,!!T.multiple,Ze,!1):Ne!==!!T.multiple&&(T.defaultValue!=null?un(E,!!T.multiple,T.defaultValue,!0):un(E,!!T.multiple,T.multiple?[]:"",!1))}E[Hf]=T}catch(at){rr(u,u.return,at)}}break;case 6:if(Js(d,u),jo(u),b&4){if(u.stateNode===null)throw Error(n(162));E=u.stateNode,T=u.memoizedProps;try{E.nodeValue=T}catch(at){rr(u,u.return,at)}}break;case 3:if(Js(d,u),jo(u),b&4&&m!==null&&m.memoizedState.isDehydrated)try{Us(d.containerInfo)}catch(at){rr(u,u.return,at)}break;case 4:Js(d,u),jo(u);break;case 13:Js(d,u),jo(u),E=u.child,E.flags&8192&&(T=E.memoizedState!==null,E.stateNode.isHidden=T,!T||E.alternate!==null&&E.alternate.memoizedState!==null||(Wv=Ht())),b&4&&p5(u);break;case 22:if(Pe=m!==null&&m.memoizedState!==null,u.mode&1?(ai=(_e=ai)||Pe,Js(d,u),ai=_e):Js(d,u),jo(u),b&8192){if(_e=u.memoizedState!==null,(u.stateNode.isHidden=_e)&&!Pe&&(u.mode&1)!==0)for(tt=u,Pe=u.child;Pe!==null;){for(Ae=tt=Pe;tt!==null;){switch(Ne=tt,Ze=Ne.child,Ne.tag){case 0:case 11:case 14:case 15:eh(4,Ne,Ne.return);break;case 1:Zu(Ne,Ne.return);var st=Ne.stateNode;if(typeof st.componentWillUnmount=="function"){b=Ne,m=Ne.return;try{d=b,st.props=d.memoizedProps,st.state=d.memoizedState,st.componentWillUnmount()}catch(at){rr(b,m,at)}}break;case 5:Zu(Ne,Ne.return);break;case 22:if(Ne.memoizedState!==null){v5(Ae);continue}}Ze!==null?(Ze.return=Ne,tt=Ze):v5(Ae)}Pe=Pe.sibling}e:for(Pe=null,Ae=u;;){if(Ae.tag===5){if(Pe===null){Pe=Ae;try{E=Ae.stateNode,_e?(T=E.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none"):(J=Ae.stateNode,re=Ae.memoizedProps.style,D=re!=null&&re.hasOwnProperty("display")?re.display:null,J.style.display=_r("display",D))}catch(at){rr(u,u.return,at)}}}else if(Ae.tag===6){if(Pe===null)try{Ae.stateNode.nodeValue=_e?"":Ae.memoizedProps}catch(at){rr(u,u.return,at)}}else if((Ae.tag!==22&&Ae.tag!==23||Ae.memoizedState===null||Ae===u)&&Ae.child!==null){Ae.child.return=Ae,Ae=Ae.child;continue}if(Ae===u)break e;for(;Ae.sibling===null;){if(Ae.return===null||Ae.return===u)break e;Pe===Ae&&(Pe=null),Ae=Ae.return}Pe===Ae&&(Pe=null),Ae.sibling.return=Ae.return,Ae=Ae.sibling}}break;case 19:Js(d,u),jo(u),b&4&&p5(u);break;case 21:break;default:Js(d,u),jo(u)}}function jo(u){var d=u.flags;if(d&2){try{e:{for(var m=u.return;m!==null;){if(d5(m)){var b=m;break e}m=m.return}throw Error(n(160))}switch(b.tag){case 5:var E=b.stateNode;b.flags&32&&(zt(E,""),b.flags&=-33);var T=f5(u);zv(u,T,E);break;case 3:case 4:var D=b.stateNode.containerInfo,J=f5(u);$v(u,J,D);break;default:throw Error(n(161))}}catch(re){rr(u,u.return,re)}u.flags&=-3}d&4096&&(u.flags&=-4097)}function MO(u,d,m){tt=u,g5(u)}function g5(u,d,m){for(var b=(u.mode&1)!==0;tt!==null;){var E=tt,T=E.child;if(E.tag===22&&b){var D=E.memoizedState!==null||Qm;if(!D){var J=E.alternate,re=J!==null&&J.memoizedState!==null||ai;J=Qm;var _e=ai;if(Qm=D,(ai=re)&&!_e)for(tt=E;tt!==null;)D=tt,re=D.child,D.tag===22&&D.memoizedState!==null?b5(E):re!==null?(re.return=D,tt=re):b5(E);for(;T!==null;)tt=T,g5(T),T=T.sibling;tt=E,Qm=J,ai=_e}y5(u)}else(E.subtreeFlags&8772)!==0&&T!==null?(T.return=E,tt=T):y5(u)}}function y5(u){for(;tt!==null;){var d=tt;if((d.flags&8772)!==0){var m=d.alternate;try{if((d.flags&8772)!==0)switch(d.tag){case 0:case 11:case 15:ai||Km(5,d);break;case 1:var b=d.stateNode;if(d.flags&4&&!ai)if(m===null)b.componentDidMount();else{var E=d.elementType===d.type?m.memoizedProps:Gs(d.type,m.memoizedProps);b.componentDidUpdate(E,m.memoizedState,b.__reactInternalSnapshotBeforeUpdate)}var T=d.updateQueue;T!==null&&v3(d,T,b);break;case 3:var D=d.updateQueue;if(D!==null){if(m=null,d.child!==null)switch(d.child.tag){case 5:m=d.child.stateNode;break;case 1:m=d.child.stateNode}v3(d,D,m)}break;case 5:var J=d.stateNode;if(m===null&&d.flags&4){m=J;var re=d.memoizedProps;switch(d.type){case"button":case"input":case"select":case"textarea":re.autoFocus&&m.focus();break;case"img":re.src&&(m.src=re.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(d.memoizedState===null){var _e=d.alternate;if(_e!==null){var Pe=_e.memoizedState;if(Pe!==null){var Ae=Pe.dehydrated;Ae!==null&&Us(Ae)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}ai||d.flags&512&&Bv(d)}catch(Ne){rr(d,d.return,Ne)}}if(d===u){tt=null;break}if(m=d.sibling,m!==null){m.return=d.return,tt=m;break}tt=d.return}}function v5(u){for(;tt!==null;){var d=tt;if(d===u){tt=null;break}var m=d.sibling;if(m!==null){m.return=d.return,tt=m;break}tt=d.return}}function b5(u){for(;tt!==null;){var d=tt;try{switch(d.tag){case 0:case 11:case 15:var m=d.return;try{Km(4,d)}catch(re){rr(d,m,re)}break;case 1:var b=d.stateNode;if(typeof b.componentDidMount=="function"){var E=d.return;try{b.componentDidMount()}catch(re){rr(d,E,re)}}var T=d.return;try{Bv(d)}catch(re){rr(d,T,re)}break;case 5:var D=d.return;try{Bv(d)}catch(re){rr(d,D,re)}}}catch(re){rr(d,d.return,re)}if(d===u){tt=null;break}var J=d.sibling;if(J!==null){J.return=d.return,tt=J;break}tt=d.return}}var DO=Math.ceil,Gm=z.ReactCurrentDispatcher,Uv=z.ReactCurrentOwner,Ss=z.ReactCurrentBatchConfig,dn=0,zr=null,gr=null,Yr=0,ts=0,ed=Xa(0),jr=0,th=null,bc=0,Ym=0,Hv=0,nh=null,Ai=null,Wv=0,td=1/0,oa=null,Jm=!1,Vv=null,il=null,Xm=!1,sl=null,Zm=0,rh=0,qv=null,eg=-1,tg=0;function _i(){return(dn&6)!==0?Ht():eg!==-1?eg:eg=Ht()}function ol(u){return(u.mode&1)===0?1:(dn&2)!==0&&Yr!==0?Yr&-Yr:bO.transition!==null?(tg===0&&(tg=Vo()),tg):(u=an,u!==0||(u=window.event,u=u===void 0?16:ac(u.type)),u)}function Xs(u,d,m,b){if(50<rh)throw rh=0,qv=null,Error(n(185));qo(u,m,b),((dn&2)===0||u!==zr)&&(u===zr&&((dn&2)===0&&(Ym|=m),jr===4&&al(u,Yr)),Mi(u,b),m===1&&dn===0&&(d.mode&1)===0&&(td=Ht()+500,Im&&el()))}function Mi(u,d){var m=u.callbackNode;nc(u,d);var b=tc(u,u===zr?Yr:0);if(b===0)m!==null&&tr(m),u.callbackNode=null,u.callbackPriority=0;else if(d=b&-b,u.callbackPriority!==d){if(m!=null&&tr(m),d===1)u.tag===0?vO(w5.bind(null,u)):o3(w5.bind(null,u)),pO(function(){(dn&6)===0&&el()}),m=null;else{switch(Ef(b)){case 1:m=Cr;break;case 4:m=Dr;break;case 16:m=ms;break;case 536870912:m=Lr;break;default:m=ms}m=I5(m,x5.bind(null,u))}u.callbackPriority=d,u.callbackNode=m}}function x5(u,d){if(eg=-1,tg=0,(dn&6)!==0)throw Error(n(327));var m=u.callbackNode;if(nd()&&u.callbackNode!==m)return null;var b=tc(u,u===zr?Yr:0);if(b===0)return null;if((b&30)!==0||(b&u.expiredLanes)!==0||d)d=ng(u,b);else{d=b;var E=dn;dn|=2;var T=S5();(zr!==u||Yr!==d)&&(oa=null,td=Ht()+500,wc(u,d));do try{BO();break}catch(J){_5(u,J)}while(!0);uv(),Gm.current=T,dn=E,gr!==null?d=0:(zr=null,Yr=0,d=jr)}if(d!==0){if(d===2&&(E=Wo(u),E!==0&&(b=E,d=Qv(u,E))),d===1)throw m=th,wc(u,0),al(u,b),Mi(u,Ht()),m;if(d===6)al(u,b);else{if(E=u.current.alternate,(b&30)===0&&!LO(E)&&(d=ng(u,b),d===2&&(T=Wo(u),T!==0&&(b=T,d=Qv(u,T))),d===1))throw m=th,wc(u,0),al(u,b),Mi(u,Ht()),m;switch(u.finishedWork=E,u.finishedLanes=b,d){case 0:case 1:throw Error(n(345));case 2:_c(u,Ai,oa);break;case 3:if(al(u,b),(b&130023424)===b&&(d=Wv+500-Ht(),10<d)){if(tc(u,0)!==0)break;if(E=u.suspendedLanes,(E&b)!==b){_i(),u.pingedLanes|=u.suspendedLanes&E;break}u.timeoutHandle=Z1(_c.bind(null,u,Ai,oa),d);break}_c(u,Ai,oa);break;case 4:if(al(u,b),(b&4194240)===b)break;for(d=u.eventTimes,E=-1;0<b;){var D=31-it(b);T=1<<D,D=d[D],D>E&&(E=D),b&=~T}if(b=E,b=Ht()-b,b=(120>b?120:480>b?480:1080>b?1080:1920>b?1920:3e3>b?3e3:4320>b?4320:1960*DO(b/1960))-b,10<b){u.timeoutHandle=Z1(_c.bind(null,u,Ai,oa),b);break}_c(u,Ai,oa);break;case 5:_c(u,Ai,oa);break;default:throw Error(n(329))}}}return Mi(u,Ht()),u.callbackNode===m?x5.bind(null,u):null}function Qv(u,d){var m=nh;return u.current.memoizedState.isDehydrated&&(wc(u,d).flags|=256),u=ng(u,d),u!==2&&(d=Ai,Ai=m,d!==null&&Kv(d)),u}function Kv(u){Ai===null?Ai=u:Ai.push.apply(Ai,u)}function LO(u){for(var d=u;;){if(d.flags&16384){var m=d.updateQueue;if(m!==null&&(m=m.stores,m!==null))for(var b=0;b<m.length;b++){var E=m[b],T=E.getSnapshot;E=E.value;try{if(!pe(T(),E))return!1}catch{return!1}}}if(m=d.child,d.subtreeFlags&16384&&m!==null)m.return=d,d=m;else{if(d===u)break;for(;d.sibling===null;){if(d.return===null||d.return===u)return!0;d=d.return}d.sibling.return=d.return,d=d.sibling}}return!0}function al(u,d){for(d&=~Hv,d&=~Ym,u.suspendedLanes|=d,u.pingedLanes&=~d,u=u.expirationTimes;0<d;){var m=31-it(d),b=1<<m;u[m]=-1,d&=~b}}function w5(u){if((dn&6)!==0)throw Error(n(327));nd();var d=tc(u,0);if((d&1)===0)return Mi(u,Ht()),null;var m=ng(u,d);if(u.tag!==0&&m===2){var b=Wo(u);b!==0&&(d=b,m=Qv(u,b))}if(m===1)throw m=th,wc(u,0),al(u,d),Mi(u,Ht()),m;if(m===6)throw Error(n(345));return u.finishedWork=u.current.alternate,u.finishedLanes=d,_c(u,Ai,oa),Mi(u,Ht()),null}function Gv(u,d){var m=dn;dn|=1;try{return u(d)}finally{dn=m,dn===0&&(td=Ht()+500,Im&&el())}}function xc(u){sl!==null&&sl.tag===0&&(dn&6)===0&&nd();var d=dn;dn|=1;var m=Ss.transition,b=an;try{if(Ss.transition=null,an=1,u)return u()}finally{an=b,Ss.transition=m,dn=d,(dn&6)===0&&el()}}function Yv(){ts=ed.current,Dn(ed)}function wc(u,d){u.finishedWork=null,u.finishedLanes=0;var m=u.timeoutHandle;if(m!==-1&&(u.timeoutHandle=-1,hO(m)),gr!==null)for(m=gr.return;m!==null;){var b=m;switch(sv(b),b.tag){case 1:b=b.type.childContextTypes,b!=null&&Tm();break;case 3:Ju(),Dn(Ni),Dn(ii),vv();break;case 5:gv(b);break;case 4:Ju();break;case 13:Dn(Gn);break;case 19:Dn(Gn);break;case 10:dv(b.type._context);break;case 22:case 23:Yv()}m=m.return}if(zr=u,gr=u=ll(u.current,null),Yr=ts=d,jr=0,th=null,Hv=Ym=bc=0,Ai=nh=null,gc!==null){for(d=0;d<gc.length;d++)if(m=gc[d],b=m.interleaved,b!==null){m.interleaved=null;var E=b.next,T=m.pending;if(T!==null){var D=T.next;T.next=E,b.next=D}m.pending=b}gc=null}return u}function _5(u,d){do{var m=gr;try{if(uv(),Bm.current=Hm,$m){for(var b=Yn.memoizedState;b!==null;){var E=b.queue;E!==null&&(E.pending=null),b=b.next}$m=!1}if(vc=0,$r=Tr=Yn=null,Gf=!1,Yf=0,Uv.current=null,m===null||m.return===null){jr=1,th=d,gr=null;break}e:{var T=u,D=m.return,J=m,re=d;if(d=Yr,J.flags|=32768,re!==null&&typeof re=="object"&&typeof re.then=="function"){var _e=re,Pe=J,Ae=Pe.tag;if((Pe.mode&1)===0&&(Ae===0||Ae===11||Ae===15)){var Ne=Pe.alternate;Ne?(Pe.updateQueue=Ne.updateQueue,Pe.memoizedState=Ne.memoizedState,Pe.lanes=Ne.lanes):(Pe.updateQueue=null,Pe.memoizedState=null)}var Ze=Q3(D);if(Ze!==null){Ze.flags&=-257,K3(Ze,D,J,T,d),Ze.mode&1&&q3(T,_e,d),d=Ze,re=_e;var st=d.updateQueue;if(st===null){var at=new Set;at.add(re),d.updateQueue=at}else st.add(re);break e}else{if((d&1)===0){q3(T,_e,d),Jv();break e}re=Error(n(426))}}else if(Un&&J.mode&1){var ur=Q3(D);if(ur!==null){(ur.flags&65536)===0&&(ur.flags|=256),K3(ur,D,J,T,d),lv(Xu(re,J));break e}}T=re=Xu(re,J),jr!==4&&(jr=2),nh===null?nh=[T]:nh.push(T),T=D;do{switch(T.tag){case 3:T.flags|=65536,d&=-d,T.lanes|=d;var ye=W3(T,re,d);y3(T,ye);break e;case 1:J=re;var de=T.type,be=T.stateNode;if((T.flags&128)===0&&(typeof de.getDerivedStateFromError=="function"||be!==null&&typeof be.componentDidCatch=="function"&&(il===null||!il.has(be)))){T.flags|=65536,d&=-d,T.lanes|=d;var $e=V3(T,J,d);y3(T,$e);break e}}T=T.return}while(T!==null)}C5(m)}catch(ct){d=ct,gr===m&&m!==null&&(gr=m=m.return);continue}break}while(!0)}function S5(){var u=Gm.current;return Gm.current=Hm,u===null?Hm:u}function Jv(){(jr===0||jr===3||jr===2)&&(jr=4),zr===null||(bc&268435455)===0&&(Ym&268435455)===0||al(zr,Yr)}function ng(u,d){var m=dn;dn|=2;var b=S5();(zr!==u||Yr!==d)&&(oa=null,wc(u,d));do try{FO();break}catch(E){_5(u,E)}while(!0);if(uv(),dn=m,Gm.current=b,gr!==null)throw Error(n(261));return zr=null,Yr=0,jr}function FO(){for(;gr!==null;)E5(gr)}function BO(){for(;gr!==null&&!gt();)E5(gr)}function E5(u){var d=j5(u.alternate,u,ts);u.memoizedProps=u.pendingProps,d===null?C5(u):gr=d,Uv.current=null}function C5(u){var d=u;do{var m=d.alternate;if(u=d.return,(d.flags&32768)===0){if(m=NO(m,d,ts),m!==null){gr=m;return}}else{if(m=OO(m,d),m!==null){m.flags&=32767,gr=m;return}if(u!==null)u.flags|=32768,u.subtreeFlags=0,u.deletions=null;else{jr=6,gr=null;return}}if(d=d.sibling,d!==null){gr=d;return}gr=d=u}while(d!==null);jr===0&&(jr=5)}function _c(u,d,m){var b=an,E=Ss.transition;try{Ss.transition=null,an=1,$O(u,d,m,b)}finally{Ss.transition=E,an=b}return null}function $O(u,d,m,b){do nd();while(sl!==null);if((dn&6)!==0)throw Error(n(327));m=u.finishedWork;var E=u.finishedLanes;if(m===null)return null;if(u.finishedWork=null,u.finishedLanes=0,m===u.current)throw Error(n(177));u.callbackNode=null,u.callbackPriority=0;var T=m.lanes|m.childLanes;if(ku(u,T),u===zr&&(gr=zr=null,Yr=0),(m.subtreeFlags&2064)===0&&(m.flags&2064)===0||Xm||(Xm=!0,I5(ms,function(){return nd(),null})),T=(m.flags&15990)!==0,(m.subtreeFlags&15990)!==0||T){T=Ss.transition,Ss.transition=null;var D=an;an=1;var J=dn;dn|=4,Uv.current=null,AO(u,m),m5(m,u),ve(J1),sc=!!Y1,J1=Y1=null,u.current=m,MO(m),nr(),dn=J,an=D,Ss.transition=T}else u.current=m;if(Xm&&(Xm=!1,sl=u,Zm=E),T=u.pendingLanes,T===0&&(il=null),Qt(m.stateNode),Mi(u,Ht()),d!==null)for(b=u.onRecoverableError,m=0;m<d.length;m++)E=d[m],b(E.value,{componentStack:E.stack,digest:E.digest});if(Jm)throw Jm=!1,u=Vv,Vv=null,u;return(Zm&1)!==0&&u.tag!==0&&nd(),T=u.pendingLanes,(T&1)!==0?u===qv?rh++:(rh=0,qv=u):rh=0,el(),null}function nd(){if(sl!==null){var u=Ef(Zm),d=Ss.transition,m=an;try{if(Ss.transition=null,an=16>u?16:u,sl===null)var b=!1;else{if(u=sl,sl=null,Zm=0,(dn&6)!==0)throw Error(n(331));var E=dn;for(dn|=4,tt=u.current;tt!==null;){var T=tt,D=T.child;if((tt.flags&16)!==0){var J=T.deletions;if(J!==null){for(var re=0;re<J.length;re++){var _e=J[re];for(tt=_e;tt!==null;){var Pe=tt;switch(Pe.tag){case 0:case 11:case 15:eh(8,Pe,T)}var Ae=Pe.child;if(Ae!==null)Ae.return=Pe,tt=Ae;else for(;tt!==null;){Pe=tt;var Ne=Pe.sibling,Ze=Pe.return;if(u5(Pe),Pe===_e){tt=null;break}if(Ne!==null){Ne.return=Ze,tt=Ne;break}tt=Ze}}}var st=T.alternate;if(st!==null){var at=st.child;if(at!==null){st.child=null;do{var ur=at.sibling;at.sibling=null,at=ur}while(at!==null)}}tt=T}}if((T.subtreeFlags&2064)!==0&&D!==null)D.return=T,tt=D;else e:for(;tt!==null;){if(T=tt,(T.flags&2048)!==0)switch(T.tag){case 0:case 11:case 15:eh(9,T,T.return)}var ye=T.sibling;if(ye!==null){ye.return=T.return,tt=ye;break e}tt=T.return}}var de=u.current;for(tt=de;tt!==null;){D=tt;var be=D.child;if((D.subtreeFlags&2064)!==0&&be!==null)be.return=D,tt=be;else e:for(D=de;tt!==null;){if(J=tt,(J.flags&2048)!==0)try{switch(J.tag){case 0:case 11:case 15:Km(9,J)}}catch(ct){rr(J,J.return,ct)}if(J===D){tt=null;break e}var $e=J.sibling;if($e!==null){$e.return=J.return,tt=$e;break e}tt=J.return}}if(dn=E,el(),mr&&typeof mr.onPostCommitFiberRoot=="function")try{mr.onPostCommitFiberRoot(gs,u)}catch{}b=!0}return b}finally{an=m,Ss.transition=d}}return!1}function k5(u,d,m){d=Xu(m,d),d=W3(u,d,1),u=nl(u,d,1),d=_i(),u!==null&&(qo(u,1,d),Mi(u,d))}function rr(u,d,m){if(u.tag===3)k5(u,u,m);else for(;d!==null;){if(d.tag===3){k5(d,u,m);break}else if(d.tag===1){var b=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof b.componentDidCatch=="function"&&(il===null||!il.has(b))){u=Xu(m,u),u=V3(d,u,1),d=nl(d,u,1),u=_i(),d!==null&&(qo(d,1,u),Mi(d,u));break}}d=d.return}}function zO(u,d,m){var b=u.pingCache;b!==null&&b.delete(d),d=_i(),u.pingedLanes|=u.suspendedLanes&m,zr===u&&(Yr&m)===m&&(jr===4||jr===3&&(Yr&130023424)===Yr&&500>Ht()-Wv?wc(u,0):Hv|=m),Mi(u,d)}function T5(u,d){d===0&&((u.mode&1)===0?d=1:(d=bo,bo<<=1,(bo&130023424)===0&&(bo=4194304)));var m=_i();u=ra(u,d),u!==null&&(qo(u,d,m),Mi(u,m))}function UO(u){var d=u.memoizedState,m=0;d!==null&&(m=d.retryLane),T5(u,m)}function HO(u,d){var m=0;switch(u.tag){case 13:var b=u.stateNode,E=u.memoizedState;E!==null&&(m=E.retryLane);break;case 19:b=u.stateNode;break;default:throw Error(n(314))}b!==null&&b.delete(d),T5(u,m)}var j5;j5=function(u,d,m){if(u!==null)if(u.memoizedProps!==d.pendingProps||Ni.current)Pi=!0;else{if((u.lanes&m)===0&&(d.flags&128)===0)return Pi=!1,RO(u,d,m);Pi=(u.flags&131072)!==0}else Pi=!1,Un&&(d.flags&1048576)!==0&&a3(d,Nm,d.index);switch(d.lanes=0,d.tag){case 2:var b=d.type;qm(u,d),u=d.pendingProps;var E=Wu(d,ii.current);Yu(d,m),E=wv(null,d,b,u,E,m);var T=_v();return d.flags|=1,typeof E=="object"&&E!==null&&typeof E.render=="function"&&E.$$typeof===void 0?(d.tag=1,d.memoizedState=null,d.updateQueue=null,Oi(b)?(T=!0,jm(d)):T=!1,d.memoizedState=E.state!==null&&E.state!==void 0?E.state:null,pv(d),E.updater=Wm,d.stateNode=E,E._reactInternals=d,jv(d,b,u,m),d=Ov(null,d,b,!0,T,m)):(d.tag=0,Un&&T&&iv(d),wi(null,d,E,m),d=d.child),d;case 16:b=d.elementType;e:{switch(qm(u,d),u=d.pendingProps,E=b._init,b=E(b._payload),d.type=b,E=d.tag=VO(b),u=Gs(b,u),E){case 0:d=Nv(null,d,b,u,m);break e;case 1:d=e5(null,d,b,u,m);break e;case 11:d=G3(null,d,b,u,m);break e;case 14:d=Y3(null,d,b,Gs(b.type,u),m);break e}throw Error(n(306,b,""))}return d;case 0:return b=d.type,E=d.pendingProps,E=d.elementType===b?E:Gs(b,E),Nv(u,d,b,E,m);case 1:return b=d.type,E=d.pendingProps,E=d.elementType===b?E:Gs(b,E),e5(u,d,b,E,m);case 3:e:{if(t5(d),u===null)throw Error(n(387));b=d.pendingProps,T=d.memoizedState,E=T.element,g3(u,d),Lm(d,b,null,m);var D=d.memoizedState;if(b=D.element,T.isDehydrated)if(T={element:b,isDehydrated:!1,cache:D.cache,pendingSuspenseBoundaries:D.pendingSuspenseBoundaries,transitions:D.transitions},d.updateQueue.baseState=T,d.memoizedState=T,d.flags&256){E=Xu(Error(n(423)),d),d=n5(u,d,b,m,E);break e}else if(b!==E){E=Xu(Error(n(424)),d),d=n5(u,d,b,m,E);break e}else for(es=Ja(d.stateNode.containerInfo.firstChild),Zi=d,Un=!0,Ks=null,m=p3(d,null,b,m),d.child=m;m;)m.flags=m.flags&-3|4096,m=m.sibling;else{if(Qu(),b===E){d=sa(u,d,m);break e}wi(u,d,b,m)}d=d.child}return d;case 5:return b3(d),u===null&&av(d),b=d.type,E=d.pendingProps,T=u!==null?u.memoizedProps:null,D=E.children,X1(b,E)?D=null:T!==null&&X1(b,T)&&(d.flags|=32),Z3(u,d),wi(u,d,D,m),d.child;case 6:return u===null&&av(d),null;case 13:return r5(u,d,m);case 4:return mv(d,d.stateNode.containerInfo),b=d.pendingProps,u===null?d.child=Ku(d,null,b,m):wi(u,d,b,m),d.child;case 11:return b=d.type,E=d.pendingProps,E=d.elementType===b?E:Gs(b,E),G3(u,d,b,E,m);case 7:return wi(u,d,d.pendingProps,m),d.child;case 8:return wi(u,d,d.pendingProps.children,m),d.child;case 12:return wi(u,d,d.pendingProps.children,m),d.child;case 10:e:{if(b=d.type._context,E=d.pendingProps,T=d.memoizedProps,D=E.value,Tn(Am,b._currentValue),b._currentValue=D,T!==null)if(pe(T.value,D)){if(T.children===E.children&&!Ni.current){d=sa(u,d,m);break e}}else for(T=d.child,T!==null&&(T.return=d);T!==null;){var J=T.dependencies;if(J!==null){D=T.child;for(var re=J.firstContext;re!==null;){if(re.context===b){if(T.tag===1){re=ia(-1,m&-m),re.tag=2;var _e=T.updateQueue;if(_e!==null){_e=_e.shared;var Pe=_e.pending;Pe===null?re.next=re:(re.next=Pe.next,Pe.next=re),_e.pending=re}}T.lanes|=m,re=T.alternate,re!==null&&(re.lanes|=m),fv(T.return,m,d),J.lanes|=m;break}re=re.next}}else if(T.tag===10)D=T.type===d.type?null:T.child;else if(T.tag===18){if(D=T.return,D===null)throw Error(n(341));D.lanes|=m,J=D.alternate,J!==null&&(J.lanes|=m),fv(D,m,d),D=T.sibling}else D=T.child;if(D!==null)D.return=T;else for(D=T;D!==null;){if(D===d){D=null;break}if(T=D.sibling,T!==null){T.return=D.return,D=T;break}D=D.return}T=D}wi(u,d,E.children,m),d=d.child}return d;case 9:return E=d.type,b=d.pendingProps.children,Yu(d,m),E=ws(E),b=b(E),d.flags|=1,wi(u,d,b,m),d.child;case 14:return b=d.type,E=Gs(b,d.pendingProps),E=Gs(b.type,E),Y3(u,d,b,E,m);case 15:return J3(u,d,d.type,d.pendingProps,m);case 17:return b=d.type,E=d.pendingProps,E=d.elementType===b?E:Gs(b,E),qm(u,d),d.tag=1,Oi(b)?(u=!0,jm(d)):u=!1,Yu(d,m),U3(d,b,E),jv(d,b,E,m),Ov(null,d,b,!0,u,m);case 19:return s5(u,d,m);case 22:return X3(u,d,m)}throw Error(n(156,d.tag))};function I5(u,d){return $n(u,d)}function WO(u,d,m,b){this.tag=u,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=b,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Es(u,d,m,b){return new WO(u,d,m,b)}function Xv(u){return u=u.prototype,!(!u||!u.isReactComponent)}function VO(u){if(typeof u=="function")return Xv(u)?1:0;if(u!=null){if(u=u.$$typeof,u===Y)return 11;if(u===W)return 14}return 2}function ll(u,d){var m=u.alternate;return m===null?(m=Es(u.tag,d,u.key,u.mode),m.elementType=u.elementType,m.type=u.type,m.stateNode=u.stateNode,m.alternate=u,u.alternate=m):(m.pendingProps=d,m.type=u.type,m.flags=0,m.subtreeFlags=0,m.deletions=null),m.flags=u.flags&14680064,m.childLanes=u.childLanes,m.lanes=u.lanes,m.child=u.child,m.memoizedProps=u.memoizedProps,m.memoizedState=u.memoizedState,m.updateQueue=u.updateQueue,d=u.dependencies,m.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},m.sibling=u.sibling,m.index=u.index,m.ref=u.ref,m}function rg(u,d,m,b,E,T){var D=2;if(b=u,typeof u=="function")Xv(u)&&(D=1);else if(typeof u=="string")D=5;else e:switch(u){case N:return Sc(m.children,E,T,d);case F:D=8,E|=8;break;case $:return u=Es(12,m,d,E|2),u.elementType=$,u.lanes=T,u;case he:return u=Es(13,m,d,E),u.elementType=he,u.lanes=T,u;case G:return u=Es(19,m,d,E),u.elementType=G,u.lanes=T,u;case te:return ig(m,E,T,d);default:if(typeof u=="object"&&u!==null)switch(u.$$typeof){case L:D=10;break e;case Z:D=9;break e;case Y:D=11;break e;case W:D=14;break e;case Q:D=16,b=null;break e}throw Error(n(130,u==null?u:typeof u,""))}return d=Es(D,m,d,E),d.elementType=u,d.type=b,d.lanes=T,d}function Sc(u,d,m,b){return u=Es(7,u,b,d),u.lanes=m,u}function ig(u,d,m,b){return u=Es(22,u,b,d),u.elementType=te,u.lanes=m,u.stateNode={isHidden:!1},u}function Zv(u,d,m){return u=Es(6,u,null,d),u.lanes=m,u}function eb(u,d,m){return d=Es(4,u.children!==null?u.children:[],u.key,d),d.lanes=m,d.stateNode={containerInfo:u.containerInfo,pendingChildren:null,implementation:u.implementation},d}function qO(u,d,m,b,E){this.tag=d,this.containerInfo=u,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=rc(0),this.expirationTimes=rc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=rc(0),this.identifierPrefix=b,this.onRecoverableError=E,this.mutableSourceEagerHydrationData=null}function tb(u,d,m,b,E,T,D,J,re){return u=new qO(u,d,m,J,re),d===1?(d=1,T===!0&&(d|=8)):d=0,T=Es(3,null,null,d),u.current=T,T.stateNode=u,T.memoizedState={element:b,isDehydrated:m,cache:null,transitions:null,pendingSuspenseBoundaries:null},pv(T),u}function QO(u,d,m){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:O,key:b==null?null:""+b,children:u,containerInfo:d,implementation:m}}function R5(u){if(!u)return Za;u=u._reactInternals;e:{if(Xe(u)!==u||u.tag!==1)throw Error(n(170));var d=u;do{switch(d.tag){case 3:d=d.stateNode.context;break e;case 1:if(Oi(d.type)){d=d.stateNode.__reactInternalMemoizedMergedChildContext;break e}}d=d.return}while(d!==null);throw Error(n(171))}if(u.tag===1){var m=u.type;if(Oi(m))return i3(u,m,d)}return d}function N5(u,d,m,b,E,T,D,J,re){return u=tb(m,b,!0,u,E,T,D,J,re),u.context=R5(null),m=u.current,b=_i(),E=ol(m),T=ia(b,E),T.callback=d??null,nl(m,T,E),u.current.lanes=E,qo(u,E,b),Mi(u,b),u}function sg(u,d,m,b){var E=d.current,T=_i(),D=ol(E);return m=R5(m),d.context===null?d.context=m:d.pendingContext=m,d=ia(T,D),d.payload={element:u},b=b===void 0?null:b,b!==null&&(d.callback=b),u=nl(E,d,D),u!==null&&(Xs(u,E,D,T),Dm(u,E,D)),D}function og(u){if(u=u.current,!u.child)return null;switch(u.child.tag){case 5:return u.child.stateNode;default:return u.child.stateNode}}function O5(u,d){if(u=u.memoizedState,u!==null&&u.dehydrated!==null){var m=u.retryLane;u.retryLane=m!==0&&m<d?m:d}}function nb(u,d){O5(u,d),(u=u.alternate)&&O5(u,d)}function KO(){return null}var P5=typeof reportError=="function"?reportError:function(u){console.error(u)};function rb(u){this._internalRoot=u}ag.prototype.render=rb.prototype.render=function(u){var d=this._internalRoot;if(d===null)throw Error(n(409));sg(u,d,null,null)},ag.prototype.unmount=rb.prototype.unmount=function(){var u=this._internalRoot;if(u!==null){this._internalRoot=null;var d=u.containerInfo;xc(function(){sg(null,u,null,null)}),d[Zo]=null}};function ag(u){this._internalRoot=u}ag.prototype.unstable_scheduleHydration=function(u){if(u){var d=am();u={blockedOn:null,target:u,priority:d};for(var m=0;m<kr.length&&d!==0&&d<kr[m].priority;m++);kr.splice(m,0,u),m===0&&cm(u)}};function ib(u){return!(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)}function lg(u){return!(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11&&(u.nodeType!==8||u.nodeValue!==" react-mount-point-unstable "))}function A5(){}function GO(u,d,m,b,E){if(E){if(typeof b=="function"){var T=b;b=function(){var _e=og(D);T.call(_e)}}var D=N5(d,b,u,0,null,!1,!1,"",A5);return u._reactRootContainer=D,u[Zo]=D.current,zf(u.nodeType===8?u.parentNode:u),xc(),D}for(;E=u.lastChild;)u.removeChild(E);if(typeof b=="function"){var J=b;b=function(){var _e=og(re);J.call(_e)}}var re=tb(u,0,!1,null,null,!1,!1,"",A5);return u._reactRootContainer=re,u[Zo]=re.current,zf(u.nodeType===8?u.parentNode:u),xc(function(){sg(d,re,m,b)}),re}function cg(u,d,m,b,E){var T=m._reactRootContainer;if(T){var D=T;if(typeof E=="function"){var J=E;E=function(){var re=og(D);J.call(re)}}sg(d,D,u,E)}else D=GO(m,d,u,E,b);return og(D)}om=function(u){switch(u.tag){case 3:var d=u.stateNode;if(d.current.memoizedState.isDehydrated){var m=xo(d.pendingLanes);m!==0&&(Tu(d,m|1),Mi(d,Ht()),(dn&6)===0&&(td=Ht()+500,el()))}break;case 13:xc(function(){var b=ra(u,1);if(b!==null){var E=_i();Xs(b,u,1,E)}}),nb(u,1)}},tn=function(u){if(u.tag===13){var d=ra(u,134217728);if(d!==null){var m=_i();Xs(d,u,134217728,m)}nb(u,134217728)}},Cf=function(u){if(u.tag===13){var d=ol(u),m=ra(u,d);if(m!==null){var b=_i();Xs(m,u,d,b)}nb(u,d)}},am=function(){return an},lm=function(u,d){var m=an;try{return an=u,d()}finally{an=m}},We=function(u,d,m){switch(d){case"input":if(Ri(u,m),d=m.name,m.type==="radio"&&d!=null){for(m=u;m.parentNode;)m=m.parentNode;for(m=m.querySelectorAll("input[name="+JSON.stringify(""+d)+'][type="radio"]'),d=0;d<m.length;d++){var b=m[d];if(b!==u&&b.form===u.form){var E=km(b);if(!E)throw Error(n(90));dt(b),Ri(b,E)}}}break;case"textarea":Et(u,m);break;case"select":d=m.value,d!=null&&un(u,!!m.multiple,d,!1)}},ec=Gv,Ho=xc;var YO={usingClientEntryPoint:!1,Events:[Wf,Uu,km,La,Fa,Gv]},ih={findFiberByHostInstance:fc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},JO={bundleType:ih.bundleType,version:ih.version,rendererPackageName:ih.rendererPackageName,rendererConfig:ih.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:z.ReactCurrentDispatcher,findHostInstanceByFiber:function(u){return u=qt(u),u===null?null:u.stateNode},findFiberByHostInstance:ih.findFiberByHostInstance||KO,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ug=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ug.isDisabled&&ug.supportsFiber)try{gs=ug.inject(JO),mr=ug}catch{}}return Di.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=YO,Di.createPortal=function(u,d){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ib(d))throw Error(n(200));return QO(u,d,null,m)},Di.createRoot=function(u,d){if(!ib(u))throw Error(n(299));var m=!1,b="",E=P5;return d!=null&&(d.unstable_strictMode===!0&&(m=!0),d.identifierPrefix!==void 0&&(b=d.identifierPrefix),d.onRecoverableError!==void 0&&(E=d.onRecoverableError)),d=tb(u,1,!1,null,null,m,!1,b,E),u[Zo]=d.current,zf(u.nodeType===8?u.parentNode:u),new rb(d)},Di.findDOMNode=function(u){if(u==null)return null;if(u.nodeType===1)return u;var d=u._reactInternals;if(d===void 0)throw typeof u.render=="function"?Error(n(188)):(u=Object.keys(u).join(","),Error(n(268,u)));return u=qt(d),u=u===null?null:u.stateNode,u},Di.flushSync=function(u){return xc(u)},Di.hydrate=function(u,d,m){if(!lg(d))throw Error(n(200));return cg(null,u,d,!0,m)},Di.hydrateRoot=function(u,d,m){if(!ib(u))throw Error(n(405));var b=m!=null&&m.hydratedSources||null,E=!1,T="",D=P5;if(m!=null&&(m.unstable_strictMode===!0&&(E=!0),m.identifierPrefix!==void 0&&(T=m.identifierPrefix),m.onRecoverableError!==void 0&&(D=m.onRecoverableError)),d=N5(d,null,u,1,m??null,E,!1,T,D),u[Zo]=d.current,zf(u),b)for(u=0;u<b.length;u++)m=b[u],E=m._getVersion,E=E(m._source),d.mutableSourceEagerHydrationData==null?d.mutableSourceEagerHydrationData=[m,E]:d.mutableSourceEagerHydrationData.push(m,E);return new ag(d)},Di.render=function(u,d,m){if(!lg(d))throw Error(n(200));return cg(null,u,d,!1,m)},Di.unmountComponentAtNode=function(u){if(!lg(u))throw Error(n(40));return u._reactRootContainer?(xc(function(){cg(null,null,u,!1,function(){u._reactRootContainer=null,u[Zo]=null})}),!0):!1},Di.unstable_batchedUpdates=Gv,Di.unstable_renderSubtreeIntoContainer=function(u,d,m,b){if(!lg(m))throw Error(n(200));if(u==null||u._reactInternals===void 0)throw Error(n(38));return cg(u,d,m,!1,b)},Di.version="18.3.1-next-f1338f8080-20240426",Di}var U5;function i8(){if(U5)return ab.exports;U5=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),ab.exports=sP(),ab.exports}var H5;function oP(){if(H5)return dg;H5=1;var e=i8();return dg.createRoot=e.createRoot,dg.hydrateRoot=e.hydrateRoot,dg}var aP=oP();/**
 * react-router v7.13.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var s8=e=>{throw TypeError(e)},lP=(e,t,n)=>t.has(e)||s8("Cannot "+n),ub=(e,t,n)=>(lP(e,t,"read from private field"),n?n.call(e):t.get(e)),cP=(e,t,n)=>t.has(e)?s8("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),W5="popstate";function uP(e={}){function t(r,i){let{pathname:s,search:o,hash:a}=r.location;return Xh("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Fo(i)}return fP(t,n,null,e)}function Gt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function pr(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function dP(){return Math.random().toString(36).substring(2,10)}function V5(e,t){return{usr:e.state,key:e.key,idx:t}}function Xh(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Hl(t):t,state:n,key:t&&t.key||r||dP()}}function Fo({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Hl(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function fP(e,t,n,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a="POP",l=null,c=f();c==null&&(c=0,o.replaceState({...o.state,idx:c},""));function f(){return(o.state||{idx:null}).idx}function p(){a="POP";let S=f(),C=S==null?null:S-c;c=S,l&&l({action:a,location:_.location,delta:C})}function g(S,C){a="PUSH";let I=Xh(_.location,S,C);c=f()+1;let A=V5(I,c),z=_.createHref(I);try{o.pushState(A,"",z)}catch(U){if(U instanceof DOMException&&U.name==="DataCloneError")throw U;i.location.assign(z)}s&&l&&l({action:a,location:_.location,delta:1})}function y(S,C){a="REPLACE";let I=Xh(_.location,S,C);c=f();let A=V5(I,c),z=_.createHref(I);o.replaceState(A,"",z),s&&l&&l({action:a,location:_.location,delta:0})}function x(S){return o8(S)}let _={get action(){return a},get location(){return e(i,o)},listen(S){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(W5,p),l=S,()=>{i.removeEventListener(W5,p),l=null}},createHref(S){return t(i,S)},createURL:x,encodeLocation(S){let C=x(S);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:g,replace:y,go(S){return o.go(S)}};return _}function o8(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Gt(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:Fo(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}var kh,q5=class{constructor(e){if(cP(this,kh,new Map),e)for(let[t,n]of e)this.set(t,n)}get(e){if(ub(this,kh).has(e))return ub(this,kh).get(e);if(e.defaultValue!==void 0)return e.defaultValue;throw new Error("No value found for context")}set(e,t){ub(this,kh).set(e,t)}};kh=new WeakMap;var hP=new Set(["lazy","caseSensitive","path","id","index","children"]);function pP(e){return hP.has(e)}var mP=new Set(["lazy","caseSensitive","path","id","index","middleware","children"]);function gP(e){return mP.has(e)}function yP(e){return e.index===!0}function Zh(e,t,n=[],r={},i=!1){return e.map((s,o)=>{let a=[...n,String(o)],l=typeof s.id=="string"?s.id:a.join("-");if(Gt(s.index!==!0||!s.children,"Cannot specify children on an index route"),Gt(i||!r[l],`Found a route id collision on id "${l}".  Route id's must be globally unique within Data Router usages`),yP(s)){let c={...s,id:l};return r[l]=Q5(c,t(c)),c}else{let c={...s,id:l,children:void 0};return r[l]=Q5(c,t(c)),s.children&&(c.children=Zh(s.children,t,a,r,i)),c}})}function Q5(e,t){return Object.assign(e,{...t,...typeof t.lazy=="object"&&t.lazy!=null?{lazy:{...e.lazy,...t.lazy}}:{}})}function vl(e,t,n="/"){return Th(e,t,n,!1)}function Th(e,t,n,r){let i=typeof t=="string"?Hl(t):t,s=Os(i.pathname||"/",n);if(s==null)return null;let o=a8(e);bP(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=RP(s);a=jP(o[l],c,r)}return a}function vP(e,t){let{route:n,pathname:r,params:i}=e;return{id:n.id,pathname:r,params:i,data:t[n.id],loaderData:t[n.id],handle:n.handle}}function a8(e,t=[],n=[],r="",i=!1){let s=(o,a,l=i,c)=>{let f={relativePath:c===void 0?o.path||"":c,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};if(f.relativePath.startsWith("/")){if(!f.relativePath.startsWith(r)&&l)return;Gt(f.relativePath.startsWith(r),`Absolute route path "${f.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(r.length)}let p=Mo([r,f.relativePath]),g=n.concat(f);o.children&&o.children.length>0&&(Gt(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),a8(o.children,t,g,p,l)),!(o.path==null&&!o.index)&&t.push({path:p,score:kP(p,o.index),routesMeta:g})};return e.forEach((o,a)=>{if(o.path===""||!o.path?.includes("?"))s(o,a);else for(let l of l8(o.path))s(o,a,!0,l)}),t}function l8(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=l8(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function bP(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:TP(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var xP=/^:[\w-]+$/,wP=3,_P=2,SP=1,EP=10,CP=-2,K5=e=>e==="*";function kP(e,t){let n=e.split("/"),r=n.length;return n.some(K5)&&(r+=CP),t&&(r+=_P),n.filter(i=>!K5(i)).reduce((i,s)=>i+(xP.test(s)?wP:s===""?SP:EP),r)}function TP(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function jP(e,t,n=!1){let{routesMeta:r}=e,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,f=s==="/"?t:t.slice(s.length)||"/",p=F0({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},f),g=l.route;if(!p&&c&&n&&!r[r.length-1].route.index&&(p=F0({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},f)),!p)return null;Object.assign(i,p.params),o.push({params:i,pathname:Mo([s,p.pathname]),pathnameBase:PP(Mo([s,p.pathnameBase])),route:g}),p.pathnameBase!=="/"&&(s=Mo([s,p.pathnameBase]))}return o}function F0(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=IP(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,{paramName:f,isOptional:p},g)=>{if(f==="*"){let x=a[g]||"";o=s.slice(0,s.length-x.length).replace(/(.)\/+$/,"$1")}const y=a[g];return p&&!y?c[f]=void 0:c[f]=(y||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:e}}function IP(e,t=!1,n=!0){pr(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function RP(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return pr(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Os(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function NP({basename:e,pathname:t}){return t==="/"?e:Mo([e,t])}var c8=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,A_=e=>c8.test(e);function OP(e,t="/"){let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?Hl(e):e,s;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?s=G5(n.substring(1),"/"):s=G5(n,t)):s=t,{pathname:s,search:AP(r),hash:MP(i)}}function G5(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function db(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function u8(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function M_(e){let t=u8(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function D_(e,t,n,r=!1){let i;typeof e=="string"?i=Hl(e):(i={...e},Gt(!i.pathname||!i.pathname.includes("?"),db("?","pathname","search",i)),Gt(!i.pathname||!i.pathname.includes("#"),db("#","pathname","hash",i)),Gt(!i.search||!i.search.includes("#"),db("#","search","hash",i)));let s=e===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let p=t.length-1;if(!r&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),p-=1;i.pathname=g.join("/")}a=p>=0?t[p]:"/"}let l=OP(i,a),c=o&&o!=="/"&&o.endsWith("/"),f=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||f)&&(l.pathname+="/"),l}var Mo=e=>e.join("/").replace(/\/\/+/g,"/"),PP=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),AP=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,MP=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,Ip=class{constructor(e,t,n,r=!1){this.status=e,this.statusText=t||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function ep(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function Rp(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var d8=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function f8(e,t){let n=e;if(typeof n!="string"||!c8.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,i=!1;if(d8)try{let s=new URL(window.location.href),o=n.startsWith("//")?new URL(s.protocol+n):new URL(n),a=Os(o.pathname,t);o.origin===s.origin&&a!=null?n=a+o.search+o.hash:i=!0}catch{pr(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:i,to:n}}var wl=Symbol("Uninstrumented");function DP(e,t){let n={lazy:[],"lazy.loader":[],"lazy.action":[],"lazy.middleware":[],middleware:[],loader:[],action:[]};e.forEach(i=>i({id:t.id,index:t.index,path:t.path,instrument(s){let o=Object.keys(n);for(let a of o)s[a]&&n[a].push(s[a])}}));let r={};if(typeof t.lazy=="function"&&n.lazy.length>0){let i=Id(n.lazy,t.lazy,()=>{});i&&(r.lazy=i)}if(typeof t.lazy=="object"){let i=t.lazy;["middleware","loader","action"].forEach(s=>{let o=i[s],a=n[`lazy.${s}`];if(typeof o=="function"&&a.length>0){let l=Id(a,o,()=>{});l&&(r.lazy=Object.assign(r.lazy||{},{[s]:l}))}})}return["loader","action"].forEach(i=>{let s=t[i];if(typeof s=="function"&&n[i].length>0){let o=s[wl]??s,a=Id(n[i],o,(...l)=>Y5(l[0]));a&&(i==="loader"&&o.hydrate===!0&&(a.hydrate=!0),a[wl]=o,r[i]=a)}}),t.middleware&&t.middleware.length>0&&n.middleware.length>0&&(r.middleware=t.middleware.map(i=>{let s=i[wl]??i,o=Id(n.middleware,s,(...a)=>Y5(a[0]));return o?(o[wl]=s,o):i})),r}function LP(e,t){let n={navigate:[],fetch:[]};if(t.forEach(r=>r({instrument(i){let s=Object.keys(i);for(let o of s)i[o]&&n[o].push(i[o])}})),n.navigate.length>0){let r=e.navigate[wl]??e.navigate,i=Id(n.navigate,r,(...s)=>{let[o,a]=s;return{to:typeof o=="number"||typeof o=="string"?o:o?Fo(o):".",...J5(e,a??{})}});i&&(i[wl]=r,e.navigate=i)}if(n.fetch.length>0){let r=e.fetch[wl]??e.fetch,i=Id(n.fetch,r,(...s)=>{let[o,,a,l]=s;return{href:a??".",fetcherKey:o,...J5(e,l??{})}});i&&(i[wl]=r,e.fetch=i)}return e}function Id(e,t,n){return e.length===0?null:async(...r)=>{let i=await h8(e,n(...r),()=>t(...r),e.length-1);if(i.type==="error")throw i.value;return i.value}}async function h8(e,t,n,r){let i=e[r],s;if(i){let o,a=async()=>(o?console.error("You cannot call instrumented handlers more than once"):o=h8(e,t,n,r-1),s=await o,Gt(s,"Expected a result"),s.type==="error"&&s.value instanceof Error?{status:"error",error:s.value}:{status:"success",error:void 0});try{await i(a,t)}catch(l){console.error("An instrumentation function threw an error:",l)}o||await a(),await o}else try{s={type:"success",value:await n()}}catch(o){s={type:"error",value:o}}return s||{type:"error",value:new Error("No result assigned in instrumentation chain.")}}function Y5(e){let{request:t,context:n,params:r,unstable_pattern:i}=e;return{request:FP(t),params:{...r},unstable_pattern:i,context:BP(n)}}function J5(e,t){return{currentUrl:Fo(e.state.location),..."formMethod"in t?{formMethod:t.formMethod}:{},..."formEncType"in t?{formEncType:t.formEncType}:{},..."formData"in t?{formData:t.formData}:{},..."body"in t?{body:t.body}:{}}}function FP(e){return{method:e.method,url:e.url,headers:{get:(...t)=>e.headers.get(...t)}}}function BP(e){if(zP(e)){let t={...e};return Object.freeze(t),t}else return{get:t=>e.get(t)}}var $P=Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function zP(e){if(e===null||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);return t===Object.prototype||t===null||Object.getOwnPropertyNames(t).sort().join("\0")===$P}var p8=["POST","PUT","PATCH","DELETE"],UP=new Set(p8),HP=["GET",...p8],WP=new Set(HP),m8=new Set([301,302,303,307,308]),VP=new Set([307,308]),fb={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},qP={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},oh={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},QP=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),g8="remix-router-transitions",y8=Symbol("ResetLoaderData");function KP(e){const t=e.window?e.window:typeof window<"u"?window:void 0,n=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u";Gt(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let r=e.hydrationRouteProperties||[],i=e.mapRouteProperties||QP,s=i;if(e.unstable_instrumentations){let K=e.unstable_instrumentations;s=ue=>({...i(ue),...DP(K.map(we=>we.route).filter(Boolean),ue)})}let o={},a=Zh(e.routes,s,void 0,o),l,c=e.basename||"/";c.startsWith("/")||(c=`/${c}`);let f=e.dataStrategy||ZP,p={...e.future},g=null,y=new Set,x=null,_=null,S=null,C=e.hydrationData!=null,I=vl(a,e.history.location,c),A=!1,z=null,U;if(I==null&&!e.patchRoutesOnNavigation){let K=ks(404,{pathname:e.history.location.pathname}),{matches:ue,route:we}=fg(a);U=!0,I=ue,z={[we.id]:K}}else if(I&&!e.hydrationData&&Ho(I,a,e.history.location.pathname).active&&(I=null),I)if(I.some(K=>K.route.lazy))U=!1;else if(!I.some(K=>L_(K.route)))U=!0;else{let K=e.hydrationData?e.hydrationData.loaderData:null,ue=e.hydrationData?e.hydrationData.errors:null;if(ue){let we=I.findIndex(Ie=>ue[Ie.route.id]!==void 0);U=I.slice(0,we+1).every(Ie=>!Wx(Ie.route,K,ue))}else U=I.every(we=>!Wx(we.route,K,ue))}else{U=!1,I=[];let K=Ho(null,a,e.history.location.pathname);K.active&&K.matches&&(A=!0,I=K.matches)}let O,N={historyAction:e.history.action,location:e.history.location,matches:I,initialized:U,navigation:fb,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||z,fetchers:new Map,blockers:new Map},F="POP",$=null,L=!1,Z,Y=!1,he=new Map,G=null,W=!1,Q=!1,te=new Set,X=new Map,fe=0,B=-1,ee=new Map,ge=new Set,V=new Map,Te=new Map,Ce=new Set,ke=new Map,Ve,Ue=null;function mt(){if(g=e.history.listen(({action:K,location:ue,delta:we})=>{if(Ve){Ve(),Ve=void 0;return}pr(ke.size===0||we!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Ie=Yi({currentLocation:N.location,nextLocation:ue,historyAction:K});if(Ie&&we!=null){let Le=new Promise(nt=>{Ve=nt});e.history.go(we*-1),We(Ie,{state:"blocked",location:ue,proceed(){We(Ie,{state:"proceeding",proceed:void 0,reset:void 0,location:ue}),Le.then(()=>e.history.go(we))},reset(){let nt=new Map(N.blockers);nt.set(Ie,oh),dt({blockers:nt})}}),$?.resolve(),$=null;return}return wr(K,ue)}),n){yA(t,he);let K=()=>vA(t,he);t.addEventListener("pagehide",K),G=()=>t.removeEventListener("pagehide",K)}return N.initialized||wr("POP",N.location,{initialHydration:!0}),O}function De(){g&&g(),G&&G(),y.clear(),Z&&Z.abort(),N.fetchers.forEach((K,ue)=>cr(ue)),N.blockers.forEach((K,ue)=>Ds(ue))}function lr(K){return y.add(K),()=>y.delete(K)}function dt(K,ue={}){K.matches&&(K.matches=K.matches.map(Le=>{let nt=o[Le.route.id],et=Le.route;return et.element!==nt.element||et.errorElement!==nt.errorElement||et.hydrateFallbackElement!==nt.hydrateFallbackElement?{...Le,route:nt}:Le})),N={...N,...K};let we=[],Ie=[];N.fetchers.forEach((Le,nt)=>{Le.state==="idle"&&(Ce.has(nt)?we.push(nt):Ie.push(nt))}),Ce.forEach(Le=>{!N.fetchers.has(Le)&&!X.has(Le)&&we.push(Le)}),[...y].forEach(Le=>Le(N,{deletedFetchers:we,newErrors:K.errors??null,viewTransitionOpts:ue.viewTransitionOpts,flushSync:ue.flushSync===!0})),we.forEach(Le=>cr(Le)),Ie.forEach(Le=>N.fetchers.delete(Le))}function gn(K,ue,{flushSync:we}={}){let Ie=N.actionData!=null&&N.navigation.formMethod!=null&&ci(N.navigation.formMethod)&&N.navigation.state==="loading"&&K.state?._isRedirect!==!0,Le;ue.actionData?Object.keys(ue.actionData).length>0?Le=ue.actionData:Le=null:Ie?Le=N.actionData:Le=null;let nt=ue.loaderData?aE(N.loaderData,ue.loaderData,ue.matches||[],ue.errors):N.loaderData,et=N.blockers;et.size>0&&(et=new Map(et),et.forEach((ft,lt)=>et.set(lt,oh)));let Je=W?!1:ec(K,ue.matches||N.matches),rt=L===!0||N.navigation.formMethod!=null&&ci(N.navigation.formMethod)&&K.state?._isRedirect!==!0;l&&(a=l,l=void 0),W||F==="POP"||(F==="PUSH"?e.history.push(K,K.state):F==="REPLACE"&&e.history.replace(K,K.state));let Xe;if(F==="POP"){let ft=he.get(N.location.pathname);ft&&ft.has(K.pathname)?Xe={currentLocation:N.location,nextLocation:K}:he.has(K.pathname)&&(Xe={currentLocation:K,nextLocation:N.location})}else if(Y){let ft=he.get(N.location.pathname);ft?ft.add(K.pathname):(ft=new Set([K.pathname]),he.set(N.location.pathname,ft)),Xe={currentLocation:N.location,nextLocation:K}}dt({...ue,actionData:Le,loaderData:nt,historyAction:F,location:K,initialized:!0,navigation:fb,revalidation:"idle",restoreScrollPosition:Je,preventScrollReset:rt,blockers:et},{viewTransitionOpts:Xe,flushSync:we===!0}),F="POP",L=!1,Y=!1,W=!1,Q=!1,$?.resolve(),$=null,Ue?.resolve(),Ue=null}async function _n(K,ue){if($?.resolve(),$=null,typeof K=="number"){$||($=dE());let qt=$.promise;return e.history.go(K),qt}let we=Hx(N.location,N.matches,c,K,ue?.fromRouteId,ue?.relative),{path:Ie,submission:Le,error:nt}=X5(!1,we,ue),et=N.location,Je=Xh(N.location,Ie,ue&&ue.state);Je={...Je,...e.history.encodeLocation(Je)};let rt=ue&&ue.replace!=null?ue.replace:void 0,Xe="PUSH";rt===!0?Xe="REPLACE":rt===!1||Le!=null&&ci(Le.formMethod)&&Le.formAction===N.location.pathname+N.location.search&&(Xe="REPLACE");let ft=ue&&"preventScrollReset"in ue?ue.preventScrollReset===!0:void 0,lt=(ue&&ue.flushSync)===!0,Ot=Yi({currentLocation:et,nextLocation:Je,historyAction:Xe});if(Ot){We(Ot,{state:"blocked",location:Je,proceed(){We(Ot,{state:"proceeding",proceed:void 0,reset:void 0,location:Je}),_n(K,ue)},reset(){let qt=new Map(N.blockers);qt.set(Ot,oh),dt({blockers:qt})}});return}await wr(Xe,Je,{submission:Le,pendingError:nt,preventScrollReset:ft,replace:ue&&ue.replace,enableViewTransition:ue&&ue.viewTransition,flushSync:lt,callSiteDefaultShouldRevalidate:ue&&ue.unstable_defaultShouldRevalidate})}function vn(){Ue||(Ue=dE()),Me(),dt({revalidation:"loading"});let K=Ue.promise;return N.navigation.state==="submitting"?K:N.navigation.state==="idle"?(wr(N.historyAction,N.location,{startUninterruptedRevalidation:!0}),K):(wr(F||N.historyAction,N.navigation.location,{overrideNavigation:N.navigation,enableViewTransition:Y===!0}),K)}async function wr(K,ue,we){Z&&Z.abort(),Z=null,F=K,W=(we&&we.startUninterruptedRevalidation)===!0,Fa(N.location,N.matches),L=(we&&we.preventScrollReset)===!0,Y=(we&&we.enableViewTransition)===!0;let Ie=l||a,Le=we&&we.overrideNavigation,nt=we?.initialHydration&&N.matches&&N.matches.length>0&&!A?N.matches:vl(Ie,ue,c),et=(we&&we.flushSync)===!0;if(nt&&N.initialized&&!Q&&aA(N.location,ue)&&!(we&&we.submission&&ci(we.submission.formMethod))){gn(ue,{matches:nt},{flushSync:et});return}let Je=Ho(nt,Ie,ue.pathname);if(Je.active&&Je.matches&&(nt=Je.matches),!nt){let{error:$n,notFoundMatches:tr,route:gt}=Ji(ue.pathname);gn(ue,{matches:tr,loaderData:{},errors:{[gt.id]:$n}},{flushSync:et});return}Z=new AbortController;let rt=wd(e.history,ue,Z.signal,we&&we.submission),Xe=e.getContext?await e.getContext():new q5,ft;if(we&&we.pendingError)ft=[bl(nt).route.id,{type:"error",error:we.pendingError}];else if(we&&we.submission&&ci(we.submission.formMethod)){let $n=await Ri(rt,ue,we.submission,nt,Xe,Je.active,we&&we.initialHydration===!0,{replace:we.replace,flushSync:et});if($n.shortCircuited)return;if($n.pendingActionResult){let[tr,gt]=$n.pendingActionResult;if(ss(gt)&&ep(gt.error)&&gt.error.status===404){Z=null,gn(ue,{matches:$n.matches,loaderData:{},errors:{[tr]:gt.error}});return}}nt=$n.matches||nt,ft=$n.pendingActionResult,Le=hb(ue,we.submission),et=!1,Je.active=!1,rt=wd(e.history,rt.url,rt.signal)}let{shortCircuited:lt,matches:Ot,loaderData:qt,errors:Sn}=await Gi(rt,ue,nt,Xe,Je.active,Le,we&&we.submission,we&&we.fetcherSubmission,we&&we.replace,we&&we.initialHydration===!0,et,ft,we&&we.callSiteDefaultShouldRevalidate);lt||(Z=null,gn(ue,{matches:Ot||nt,...lE(ft),loaderData:qt,errors:Sn}))}async function Ri(K,ue,we,Ie,Le,nt,et,Je={}){Me();let rt=mA(ue,we);if(dt({navigation:rt},{flushSync:Je.flushSync===!0}),nt){let lt=await yi(Ie,ue.pathname,K.signal);if(lt.type==="aborted")return{shortCircuited:!0};if(lt.type==="error"){if(lt.partialMatches.length===0){let{matches:qt,route:Sn}=fg(a);return{matches:qt,pendingActionResult:[Sn.id,{type:"error",error:lt.error}]}}let Ot=bl(lt.partialMatches).route.id;return{matches:lt.partialMatches,pendingActionResult:[Ot,{type:"error",error:lt.error}]}}else if(lt.matches)Ie=lt.matches;else{let{notFoundMatches:Ot,error:qt,route:Sn}=Ji(ue.pathname);return{matches:Ot,pendingActionResult:[Sn.id,{type:"error",error:qt}]}}}let Xe,ft=x0(Ie,ue);if(!ft.route.action&&!ft.route.lazy)Xe={type:"error",error:ks(405,{method:K.method,pathname:ue.pathname,routeId:ft.route.id})};else{let lt=Dd(s,o,K,Ie,ft,et?[]:r,Le),Ot=await Fn(K,lt,Le,null);if(Xe=Ot[ft.route.id],!Xe){for(let qt of Ie)if(Ot[qt.route.id]){Xe=Ot[qt.route.id];break}}if(K.signal.aborted)return{shortCircuited:!0}}if(zc(Xe)){let lt;return Je&&Je.replace!=null?lt=Je.replace:lt=iE(Xe.response.headers.get("Location"),new URL(K.url),c,e.history)===N.location.pathname+N.location.search,await Et(K,Xe,!0,{submission:we,replace:lt}),{shortCircuited:!0}}if(ss(Xe)){let lt=bl(Ie,ft.route.id);return(Je&&Je.replace)!==!0&&(F="PUSH"),{matches:Ie,pendingActionResult:[lt.route.id,Xe,ft.route.id]}}return{matches:Ie,pendingActionResult:[ft.route.id,Xe]}}async function Gi(K,ue,we,Ie,Le,nt,et,Je,rt,Xe,ft,lt,Ot){let qt=nt||hb(ue,et),Sn=et||Je||uE(qt),$n=!W&&!Xe;if(Le){if($n){let it=gi(lt);dt({navigation:qt,...it!==void 0?{actionData:it}:{}},{flushSync:ft})}let Qt=await yi(we,ue.pathname,K.signal);if(Qt.type==="aborted")return{shortCircuited:!0};if(Qt.type==="error"){if(Qt.partialMatches.length===0){let{matches:Bs,route:ys}=fg(a);return{matches:Bs,loaderData:{},errors:{[ys.id]:Qt.error}}}let it=bl(Qt.partialMatches).route.id;return{matches:Qt.partialMatches,loaderData:{},errors:{[it]:Qt.error}}}else if(Qt.matches)we=Qt.matches;else{let{error:it,notFoundMatches:Bs,route:ys}=Ji(ue.pathname);return{matches:Bs,loaderData:{},errors:{[ys.id]:it}}}}let tr=l||a,{dsMatches:gt,revalidatingFetchers:nr}=Z5(K,Ie,s,o,e.history,N,we,Sn,ue,Xe?[]:r,Xe===!0,Q,te,Ce,V,ge,tr,c,e.patchRoutesOnNavigation!=null,lt,Ot);if(B=++fe,!e.dataStrategy&&!gt.some(Qt=>Qt.shouldLoad)&&!gt.some(Qt=>Qt.route.middleware&&Qt.route.middleware.length>0)&&nr.length===0){let Qt=qe();return gn(ue,{matches:we,loaderData:{},errors:lt&&ss(lt[1])?{[lt[0]]:lt[1].error}:null,...lE(lt),...Qt?{fetchers:new Map(N.fetchers)}:{}},{flushSync:ft}),{shortCircuited:!0}}if($n){let Qt={};if(!Le){Qt.navigation=qt;let it=gi(lt);it!==void 0&&(Qt.actionData=it)}nr.length>0&&(Qt.fetchers=Tt(nr)),dt(Qt,{flushSync:ft})}nr.forEach(Qt=>{er(Qt.key),Qt.controller&&X.set(Qt.key,Qt.controller)});let Ht=()=>nr.forEach(Qt=>er(Qt.key));Z&&Z.signal.addEventListener("abort",Ht);let{loaderResults:vo,fetcherResults:Cr}=await Se(gt,nr,K,Ie);if(K.signal.aborted)return{shortCircuited:!0};Z&&Z.signal.removeEventListener("abort",Ht),nr.forEach(Qt=>X.delete(Qt.key));let Dr=hg(vo);if(Dr)return await Et(K,Dr.result,!0,{replace:rt}),{shortCircuited:!0};if(Dr=hg(Cr),Dr)return ge.add(Dr.key),await Et(K,Dr.result,!0,{replace:rt}),{shortCircuited:!0};let{loaderData:ms,errors:Fs}=oE(N,we,vo,lt,nr,Cr);Xe&&N.errors&&(Fs={...N.errors,...Fs});let Lr=qe(),gs=Er(B),mr=Lr||gs||nr.length>0;return{matches:we,loaderData:ms,errors:Fs,...mr?{fetchers:new Map(N.fetchers)}:{}}}function gi(K){if(K&&!ss(K[1]))return{[K[0]]:K[1].data};if(N.actionData)return Object.keys(N.actionData).length===0?null:N.actionData}function Tt(K){return K.forEach(ue=>{let we=N.fetchers.get(ue.key),Ie=ah(void 0,we?we.data:void 0);N.fetchers.set(ue.key,Ie)}),new Map(N.fetchers)}async function un(K,ue,we,Ie){er(K);let Le=(Ie&&Ie.flushSync)===!0,nt=l||a,et=Hx(N.location,N.matches,c,we,ue,Ie?.relative),Je=vl(nt,et,c),rt=Ho(Je,nt,et);if(rt.active&&rt.matches&&(Je=rt.matches),!Je){pt(K,ue,ks(404,{pathname:et}),{flushSync:Le});return}let{path:Xe,submission:ft,error:lt}=X5(!0,et,Ie);if(lt){pt(K,ue,lt,{flushSync:Le});return}let Ot=e.getContext?await e.getContext():new q5,qt=(Ie&&Ie.preventScrollReset)===!0;if(ft&&ci(ft.formMethod)){await jt(K,ue,Xe,Je,Ot,rt.active,Le,qt,ft,Ie&&Ie.unstable_defaultShouldRevalidate);return}V.set(K,{routeId:ue,path:Xe}),await en(K,ue,Xe,Je,Ot,rt.active,Le,qt,ft)}async function jt(K,ue,we,Ie,Le,nt,et,Je,rt,Xe){Me(),V.delete(K);let ft=N.fetchers.get(K);ot(K,gA(rt,ft),{flushSync:et});let lt=new AbortController,Ot=wd(e.history,we,lt.signal,rt);if(nt){let bn=await yi(Ie,new URL(Ot.url).pathname,Ot.signal,K);if(bn.type==="aborted")return;if(bn.type==="error"){pt(K,ue,bn.error,{flushSync:et});return}else if(bn.matches)Ie=bn.matches;else{pt(K,ue,ks(404,{pathname:we}),{flushSync:et});return}}let qt=x0(Ie,we);if(!qt.route.action&&!qt.route.lazy){let bn=ks(405,{method:rt.formMethod,pathname:we,routeId:ue});pt(K,ue,bn,{flushSync:et});return}X.set(K,lt);let Sn=fe,$n=Dd(s,o,Ot,Ie,qt,r,Le),tr=await Fn(Ot,$n,Le,K),gt=tr[qt.route.id];if(!gt){for(let bn of $n)if(tr[bn.route.id]){gt=tr[bn.route.id];break}}if(Ot.signal.aborted){X.get(K)===lt&&X.delete(K);return}if(Ce.has(K)){if(zc(gt)||ss(gt)){ot(K,ca(void 0));return}}else{if(zc(gt))if(X.delete(K),B>Sn){ot(K,ca(void 0));return}else return ge.add(K),ot(K,ah(rt)),Et(Ot,gt,!1,{fetcherSubmission:rt,preventScrollReset:Je});if(ss(gt)){pt(K,ue,gt.error);return}}let nr=N.navigation.location||N.location,Ht=wd(e.history,nr,lt.signal),vo=l||a,Cr=N.navigation.state!=="idle"?vl(vo,N.navigation.location,c):N.matches;Gt(Cr,"Didn't find any matches after fetcher action");let Dr=++fe;ee.set(K,Dr);let ms=ah(rt,gt.data);N.fetchers.set(K,ms);let{dsMatches:Fs,revalidatingFetchers:Lr}=Z5(Ht,Le,s,o,e.history,N,Cr,rt,nr,r,!1,Q,te,Ce,V,ge,vo,c,e.patchRoutesOnNavigation!=null,[qt.route.id,gt],Xe);Lr.filter(bn=>bn.key!==K).forEach(bn=>{let vi=bn.key,bo=N.fetchers.get(vi),xo=ah(void 0,bo?bo.data:void 0);N.fetchers.set(vi,xo),er(vi),bn.controller&&X.set(vi,bn.controller)}),dt({fetchers:new Map(N.fetchers)});let gs=()=>Lr.forEach(bn=>er(bn.key));lt.signal.addEventListener("abort",gs);let{loaderResults:mr,fetcherResults:Qt}=await Se(Fs,Lr,Ht,Le);if(lt.signal.aborted)return;if(lt.signal.removeEventListener("abort",gs),ee.delete(K),X.delete(K),Lr.forEach(bn=>X.delete(bn.key)),N.fetchers.has(K)){let bn=ca(gt.data);N.fetchers.set(K,bn)}let it=hg(mr);if(it)return Et(Ht,it.result,!1,{preventScrollReset:Je});if(it=hg(Qt),it)return ge.add(it.key),Et(Ht,it.result,!1,{preventScrollReset:Je});let{loaderData:Bs,errors:ys}=oE(N,Cr,mr,void 0,Lr,Qt);Er(Dr),N.navigation.state==="loading"&&Dr>B?(Gt(F,"Expected pending action"),Z&&Z.abort(),gn(N.navigation.location,{matches:Cr,loaderData:Bs,errors:ys,fetchers:new Map(N.fetchers)})):(dt({errors:ys,loaderData:aE(N.loaderData,Bs,Cr,ys),fetchers:new Map(N.fetchers)}),Q=!1)}async function en(K,ue,we,Ie,Le,nt,et,Je,rt){let Xe=N.fetchers.get(K);ot(K,ah(rt,Xe?Xe.data:void 0),{flushSync:et});let ft=new AbortController,lt=wd(e.history,we,ft.signal);if(nt){let gt=await yi(Ie,new URL(lt.url).pathname,lt.signal,K);if(gt.type==="aborted")return;if(gt.type==="error"){pt(K,ue,gt.error,{flushSync:et});return}else if(gt.matches)Ie=gt.matches;else{pt(K,ue,ks(404,{pathname:we}),{flushSync:et});return}}let Ot=x0(Ie,we);X.set(K,ft);let qt=fe,Sn=Dd(s,o,lt,Ie,Ot,r,Le),tr=(await Fn(lt,Sn,Le,K))[Ot.route.id];if(X.get(K)===ft&&X.delete(K),!lt.signal.aborted){if(Ce.has(K)){ot(K,ca(void 0));return}if(zc(tr))if(B>qt){ot(K,ca(void 0));return}else{ge.add(K),await Et(lt,tr,!1,{preventScrollReset:Je});return}if(ss(tr)){pt(K,ue,tr.error);return}ot(K,ca(tr.data))}}async function Et(K,ue,we,{submission:Ie,fetcherSubmission:Le,preventScrollReset:nt,replace:et}={}){we||($?.resolve(),$=null),ue.response.headers.has("X-Remix-Revalidate")&&(Q=!0);let Je=ue.response.headers.get("Location");Gt(Je,"Expected a Location header on the redirect Response"),Je=iE(Je,new URL(K.url),c,e.history);let rt=Xh(N.location,Je,{_isRedirect:!0});if(n){let Sn=!1;if(ue.response.headers.has("X-Remix-Reload-Document"))Sn=!0;else if(A_(Je)){const $n=o8(Je,!0);Sn=$n.origin!==t.location.origin||Os($n.pathname,c)==null}if(Sn){et?t.location.replace(Je):t.location.assign(Je);return}}Z=null;let Xe=et===!0||ue.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:ft,formAction:lt,formEncType:Ot}=N.navigation;!Ie&&!Le&&ft&&lt&&Ot&&(Ie=uE(N.navigation));let qt=Ie||Le;if(VP.has(ue.response.status)&&qt&&ci(qt.formMethod))await wr(Xe,rt,{submission:{...qt,formAction:Je},preventScrollReset:nt||L,enableViewTransition:we?Y:void 0});else{let Sn=hb(rt,Ie);await wr(Xe,rt,{overrideNavigation:Sn,fetcherSubmission:Le,preventScrollReset:nt||L,enableViewTransition:we?Y:void 0})}}async function Fn(K,ue,we,Ie){let Le,nt={};try{Le=await tA(f,K,ue,Ie,we,!1)}catch(et){return ue.filter(Je=>Je.shouldLoad).forEach(Je=>{nt[Je.route.id]={type:"error",error:et}}),nt}if(K.signal.aborted)return nt;if(!ci(K.method))for(let et of ue){if(Le[et.route.id]?.type==="error")break;!Le.hasOwnProperty(et.route.id)&&!N.loaderData.hasOwnProperty(et.route.id)&&(!N.errors||!N.errors.hasOwnProperty(et.route.id))&&et.shouldCallHandler()&&(Le[et.route.id]={type:"error",result:new Error(`No result returned from dataStrategy for route ${et.route.id}`)})}for(let[et,Je]of Object.entries(Le))if(dA(Je)){let rt=Je.result;nt[et]={type:"redirect",response:sA(rt,K,et,ue,c)}}else nt[et]=await iA(Je);return nt}async function Se(K,ue,we,Ie){let Le=Fn(we,K,Ie,null),nt=Promise.all(ue.map(async rt=>{if(rt.matches&&rt.match&&rt.request&&rt.controller){let ft=(await Fn(rt.request,rt.matches,Ie,rt.key))[rt.match.route.id];return{[rt.key]:ft}}else return Promise.resolve({[rt.key]:{type:"error",error:ks(404,{pathname:rt.path})}})})),et=await Le,Je=(await nt).reduce((rt,Xe)=>Object.assign(rt,Xe),{});return{loaderResults:et,fetcherResults:Je}}function Me(){Q=!0,V.forEach((K,ue)=>{X.has(ue)&&te.add(ue),er(ue)})}function ot(K,ue,we={}){N.fetchers.set(K,ue),dt({fetchers:new Map(N.fetchers)},{flushSync:(we&&we.flushSync)===!0})}function pt(K,ue,we,Ie={}){let Le=bl(N.matches,ue);cr(K),dt({errors:{[Le.route.id]:we},fetchers:new Map(N.fetchers)},{flushSync:(Ie&&Ie.flushSync)===!0})}function zt(K){return Te.set(K,(Te.get(K)||0)+1),Ce.has(K)&&Ce.delete(K),N.fetchers.get(K)||qP}function Bn(K,ue){er(K,ue?.reason),ot(K,ca(null))}function cr(K){let ue=N.fetchers.get(K);X.has(K)&&!(ue&&ue.state==="loading"&&ee.has(K))&&er(K),V.delete(K),ee.delete(K),ge.delete(K),Ce.delete(K),te.delete(K),N.fetchers.delete(K)}function _r(K){let ue=(Te.get(K)||0)-1;ue<=0?(Te.delete(K),Ce.add(K)):Te.set(K,ue),dt({fetchers:new Map(N.fetchers)})}function er(K,ue){let we=X.get(K);we&&(we.abort(ue),X.delete(K))}function Sr(K){for(let ue of K){let we=zt(ue),Ie=ca(we.data);N.fetchers.set(ue,Ie)}}function qe(){let K=[],ue=!1;for(let we of ge){let Ie=N.fetchers.get(we);Gt(Ie,`Expected fetcher: ${we}`),Ie.state==="loading"&&(ge.delete(we),K.push(we),ue=!0)}return Sr(K),ue}function Er(K){let ue=[];for(let[we,Ie]of ee)if(Ie<K){let Le=N.fetchers.get(we);Gt(Le,`Expected fetcher: ${we}`),Le.state==="loading"&&(er(we),ee.delete(we),ue.push(we))}return Sr(ue),ue.length>0}function Qn(K,ue){let we=N.blockers.get(K)||oh;return ke.get(K)!==ue&&ke.set(K,ue),we}function Ds(K){N.blockers.delete(K),ke.delete(K)}function We(K,ue){let we=N.blockers.get(K)||oh;Gt(we.state==="unblocked"&&ue.state==="blocked"||we.state==="blocked"&&ue.state==="blocked"||we.state==="blocked"&&ue.state==="proceeding"||we.state==="blocked"&&ue.state==="unblocked"||we.state==="proceeding"&&ue.state==="unblocked",`Invalid blocker state transition: ${we.state} -> ${ue.state}`);let Ie=new Map(N.blockers);Ie.set(K,ue),dt({blockers:Ie})}function Yi({currentLocation:K,nextLocation:ue,historyAction:we}){if(ke.size===0)return;ke.size>1&&pr(!1,"A router only supports one blocker at a time");let Ie=Array.from(ke.entries()),[Le,nt]=Ie[Ie.length-1],et=N.blockers.get(Le);if(!(et&&et.state==="proceeding")&&nt({currentLocation:K,nextLocation:ue,historyAction:we}))return Le}function Ji(K){let ue=ks(404,{pathname:K}),we=l||a,{matches:Ie,route:Le}=fg(we);return{notFoundMatches:Ie,route:Le,error:ue}}function Da(K,ue,we){if(x=K,S=ue,_=we||null,!C&&N.navigation===fb){C=!0;let Ie=ec(N.location,N.matches);Ie!=null&&dt({restoreScrollPosition:Ie})}return()=>{x=null,S=null,_=null}}function La(K,ue){return _&&_(K,ue.map(Ie=>vP(Ie,N.loaderData)))||K.key}function Fa(K,ue){if(x&&S){let we=La(K,ue);x[we]=S()}}function ec(K,ue){if(x){let we=La(K,ue),Ie=x[we];if(typeof Ie=="number")return Ie}return null}function Ho(K,ue,we){if(e.patchRoutesOnNavigation)if(K){if(Object.keys(K[0].params).length>0)return{active:!0,matches:Th(ue,we,c,!0)}}else return{active:!0,matches:Th(ue,we,c,!0)||[]};return{active:!1,matches:null}}async function yi(K,ue,we,Ie){if(!e.patchRoutesOnNavigation)return{type:"success",matches:K};let Le=K;for(;;){let nt=l==null,et=l||a,Je=o;try{await e.patchRoutesOnNavigation({signal:we,path:ue,matches:Le,fetcherKey:Ie,patch:(ft,lt)=>{we.aborted||eE(ft,lt,et,Je,s,!1)}})}catch(ft){return{type:"error",error:ft,partialMatches:Le}}finally{nt&&!we.aborted&&(a=[...a])}if(we.aborted)return{type:"aborted"};let rt=vl(et,ue,c),Xe=null;if(rt){if(Object.keys(rt[0].params).length===0)return{type:"success",matches:rt};if(Xe=Th(et,ue,c,!0),!(Xe&&Le.length<Xe.length&&ps(Le,Xe.slice(0,Le.length))))return{type:"success",matches:rt}}if(Xe||(Xe=Th(et,ue,c,!0)),!Xe||ps(Le,Xe))return{type:"success",matches:null};Le=Xe}}function ps(K,ue){return K.length===ue.length&&K.every((we,Ie)=>we.route.id===ue[Ie].route.id)}function Ls(K){o={},l=Zh(K,s,void 0,o)}function yo(K,ue,we=!1){let Ie=l==null;eE(K,ue,l||a,o,s,we),Ie&&(a=[...a],dt({}))}return O={get basename(){return c},get future(){return p},get state(){return N},get routes(){return a},get window(){return t},initialize:mt,subscribe:lr,enableScrollRestoration:Da,navigate:_n,fetch:un,revalidate:vn,createHref:K=>e.history.createHref(K),encodeLocation:K=>e.history.encodeLocation(K),getFetcher:zt,resetFetcher:Bn,deleteFetcher:_r,dispose:De,getBlocker:Qn,deleteBlocker:Ds,patchRoutes:yo,_internalFetchControllers:X,_internalSetRoutes:Ls,_internalSetStateDoNotUseOrYouWillBreakYourApp(K){dt(K)}},e.unstable_instrumentations&&(O=LP(O,e.unstable_instrumentations.map(K=>K.router).filter(Boolean))),O}function GP(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function Hx(e,t,n,r,i,s){let o,a;if(i){o=[];for(let c of t)if(o.push(c),c.route.id===i){a=c;break}}else o=t,a=t[t.length-1];let l=D_(r||".",M_(o),Os(e.pathname,n)||e.pathname,s==="path");if(r==null&&(l.search=e.search,l.hash=e.hash),(r==null||r===""||r===".")&&a){let c=B_(l.search);if(a.route.index&&!c)l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index";else if(!a.route.index&&c){let f=new URLSearchParams(l.search),p=f.getAll("index");f.delete("index"),p.filter(y=>y).forEach(y=>f.append("index",y));let g=f.toString();l.search=g?`?${g}`:""}}return n!=="/"&&(l.pathname=NP({basename:n,pathname:l.pathname})),Fo(l)}function X5(e,t,n){if(!n||!GP(n))return{path:t};if(n.formMethod&&!pA(n.formMethod))return{path:t,error:ks(405,{method:n.formMethod})};let r=()=>({path:t,error:ks(400,{type:"invalid-body"})}),s=(n.formMethod||"get").toUpperCase(),o=S8(t);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!ci(s))return r();let p=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((g,[y,x])=>`${g}${y}=${x}
`,""):String(n.body);return{path:t,submission:{formMethod:s,formAction:o,formEncType:n.formEncType,formData:void 0,json:void 0,text:p}}}else if(n.formEncType==="application/json"){if(!ci(s))return r();try{let p=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:t,submission:{formMethod:s,formAction:o,formEncType:n.formEncType,formData:void 0,json:p,text:void 0}}}catch{return r()}}}Gt(typeof FormData=="function","FormData is not available in this environment");let a,l;if(n.formData)a=qx(n.formData),l=n.formData;else if(n.body instanceof FormData)a=qx(n.body),l=n.body;else if(n.body instanceof URLSearchParams)a=n.body,l=sE(a);else if(n.body==null)a=new URLSearchParams,l=new FormData;else try{a=new URLSearchParams(n.body),l=sE(a)}catch{return r()}let c={formMethod:s,formAction:o,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:l,json:void 0,text:void 0};if(ci(c.formMethod))return{path:t,submission:c};let f=Hl(t);return e&&f.search&&B_(f.search)&&a.append("index",""),f.search=`?${a}`,{path:Fo(f),submission:c}}function Z5(e,t,n,r,i,s,o,a,l,c,f,p,g,y,x,_,S,C,I,A,z){let U=A?ss(A[1])?A[1].error:A[1].data:void 0,O=i.createURL(s.location),N=i.createURL(l),F;if(f&&s.errors){let W=Object.keys(s.errors)[0];F=o.findIndex(Q=>Q.route.id===W)}else if(A&&ss(A[1])){let W=A[0];F=o.findIndex(Q=>Q.route.id===W)-1}let $=A?A[1].statusCode:void 0,L=$&&$>=400,Z={currentUrl:O,currentParams:s.matches[0]?.params||{},nextUrl:N,nextParams:o[0].params,...a,actionResult:U,actionStatus:$},Y=Rp(o),he=o.map((W,Q)=>{let{route:te}=W,X=null;if(F!=null&&Q>F?X=!1:te.lazy?X=!0:L_(te)?f?X=Wx(te,s.loaderData,s.errors):YP(s.loaderData,s.matches[Q],W)&&(X=!0):X=!1,X!==null)return Vx(n,r,e,Y,W,c,t,X);let fe=!1;typeof z=="boolean"?fe=z:L?fe=!1:(p||O.pathname+O.search===N.pathname+N.search||O.search!==N.search||JP(s.matches[Q],W))&&(fe=!0);let B={...Z,defaultShouldRevalidate:fe},ee=Dh(W,B);return Vx(n,r,e,Y,W,c,t,ee,B,z)}),G=[];return x.forEach((W,Q)=>{if(f||!o.some(Te=>Te.route.id===W.routeId)||y.has(Q))return;let te=s.fetchers.get(Q),X=te&&te.state!=="idle"&&te.data===void 0,fe=vl(S,W.path,C);if(!fe){if(I&&X)return;G.push({key:Q,routeId:W.routeId,path:W.path,matches:null,match:null,request:null,controller:null});return}if(_.has(Q))return;let B=x0(fe,W.path),ee=new AbortController,ge=wd(i,W.path,ee.signal),V=null;if(g.has(Q))g.delete(Q),V=Dd(n,r,ge,fe,B,c,t);else if(X)p&&(V=Dd(n,r,ge,fe,B,c,t));else{let Te;typeof z=="boolean"?Te=z:L?Te=!1:Te=p;let Ce={...Z,defaultShouldRevalidate:Te};Dh(B,Ce)&&(V=Dd(n,r,ge,fe,B,c,t,Ce))}V&&G.push({key:Q,routeId:W.routeId,path:W.path,matches:V,match:B,request:ge,controller:ee})}),{dsMatches:he,revalidatingFetchers:G}}function L_(e){return e.loader!=null||e.middleware!=null&&e.middleware.length>0}function Wx(e,t,n){if(e.lazy)return!0;if(!L_(e))return!1;let r=t!=null&&e.id in t,i=n!=null&&n[e.id]!==void 0;return!r&&i?!1:typeof e.loader=="function"&&e.loader.hydrate===!0?!0:!r&&!i}function YP(e,t,n){let r=!t||n.route.id!==t.route.id,i=!e.hasOwnProperty(n.route.id);return r||i}function JP(e,t){let n=e.route.path;return e.pathname!==t.pathname||n!=null&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function Dh(e,t){if(e.route.shouldRevalidate){let n=e.route.shouldRevalidate(t);if(typeof n=="boolean")return n}return t.defaultShouldRevalidate}function eE(e,t,n,r,i,s){let o;if(e){let c=r[e];Gt(c,`No route found to patch children into: routeId = ${e}`),c.children||(c.children=[]),o=c.children}else o=n;let a=[],l=[];if(t.forEach(c=>{let f=o.find(p=>v8(c,p));f?l.push({existingRoute:f,newRoute:c}):a.push(c)}),a.length>0){let c=Zh(a,i,[e||"_","patch",String(o?.length||"0")],r);o.push(...c)}if(s&&l.length>0)for(let c=0;c<l.length;c++){let{existingRoute:f,newRoute:p}=l[c],g=f,[y]=Zh([p],i,[],{},!0);Object.assign(g,{element:y.element?y.element:g.element,errorElement:y.errorElement?y.errorElement:g.errorElement,hydrateFallbackElement:y.hydrateFallbackElement?y.hydrateFallbackElement:g.hydrateFallbackElement})}}function v8(e,t){return"id"in e&&"id"in t&&e.id===t.id?!0:e.index===t.index&&e.path===t.path&&e.caseSensitive===t.caseSensitive?(!e.children||e.children.length===0)&&(!t.children||t.children.length===0)?!0:e.children.every((n,r)=>t.children?.some(i=>v8(n,i))):!1}var tE=new WeakMap,b8=({key:e,route:t,manifest:n,mapRouteProperties:r})=>{let i=n[t.id];if(Gt(i,"No route found in manifest"),!i.lazy||typeof i.lazy!="object")return;let s=i.lazy[e];if(!s)return;let o=tE.get(i);o||(o={},tE.set(i,o));let a=o[e];if(a)return a;let l=(async()=>{let c=pP(e),p=i[e]!==void 0&&e!=="hasErrorBoundary";if(c)pr(!c,"Route property "+e+" is not a supported lazy route property. This property will be ignored."),o[e]=Promise.resolve();else if(p)pr(!1,`Route "${i.id}" has a static property "${e}" defined. The lazy property will be ignored.`);else{let g=await s();g!=null&&(Object.assign(i,{[e]:g}),Object.assign(i,r(i)))}typeof i.lazy=="object"&&(i.lazy[e]=void 0,Object.values(i.lazy).every(g=>g===void 0)&&(i.lazy=void 0))})();return o[e]=l,l},nE=new WeakMap;function XP(e,t,n,r,i){let s=n[e.id];if(Gt(s,"No route found in manifest"),!e.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof e.lazy=="function"){let f=nE.get(s);if(f)return{lazyRoutePromise:f,lazyHandlerPromise:f};let p=(async()=>{Gt(typeof e.lazy=="function","No lazy route function found");let g=await e.lazy(),y={};for(let x in g){let _=g[x];if(_===void 0)continue;let S=gP(x),I=s[x]!==void 0&&x!=="hasErrorBoundary";S?pr(!S,"Route property "+x+" is not a supported property to be returned from a lazy route function. This property will be ignored."):I?pr(!I,`Route "${s.id}" has a static property "${x}" defined but its lazy function is also returning a value for this property. The lazy route property "${x}" will be ignored.`):y[x]=_}Object.assign(s,y),Object.assign(s,{...r(s),lazy:void 0})})();return nE.set(s,p),p.catch(()=>{}),{lazyRoutePromise:p,lazyHandlerPromise:p}}let o=Object.keys(e.lazy),a=[],l;for(let f of o){if(i&&i.includes(f))continue;let p=b8({key:f,route:e,manifest:n,mapRouteProperties:r});p&&(a.push(p),f===t&&(l=p))}let c=a.length>0?Promise.all(a).then(()=>{}):void 0;return c?.catch(()=>{}),l?.catch(()=>{}),{lazyRoutePromise:c,lazyHandlerPromise:l}}async function rE(e){let t=e.matches.filter(i=>i.shouldLoad),n={};return(await Promise.all(t.map(i=>i.resolve()))).forEach((i,s)=>{n[t[s].route.id]=i}),n}async function ZP(e){return e.matches.some(t=>t.route.middleware)?x8(e,()=>rE(e)):rE(e)}function x8(e,t){return eA(e,t,r=>{if(hA(r))throw r;return r},cA,n);function n(r,i,s){if(s)return Promise.resolve(Object.assign(s.value,{[i]:{type:"error",result:r}}));{let{matches:o}=e,a=Math.min(Math.max(o.findIndex(c=>c.route.id===i),0),Math.max(o.findIndex(c=>c.shouldCallHandler()),0)),l=bl(o,o[a].route.id).route.id;return Promise.resolve({[l]:{type:"error",result:r}})}}}async function eA(e,t,n,r,i){let{matches:s,request:o,params:a,context:l,unstable_pattern:c}=e,f=s.flatMap(g=>g.route.middleware?g.route.middleware.map(y=>[g.route.id,y]):[]);return await w8({request:o,params:a,context:l,unstable_pattern:c},f,t,n,r,i)}async function w8(e,t,n,r,i,s,o=0){let{request:a}=e;if(a.signal.aborted)throw a.signal.reason??new Error(`Request aborted: ${a.method} ${a.url}`);let l=t[o];if(!l)return await n();let[c,f]=l,p,g=async()=>{if(p)throw new Error("You may only call `next()` once per middleware");try{return p={value:await w8(e,t,n,r,i,s,o+1)},p.value}catch(y){return p={value:await s(y,c,p)},p.value}};try{let y=await f(e,g),x=y!=null?r(y):void 0;return i(x)?x:p?x??p.value:(p={value:await g()},p.value)}catch(y){return await s(y,c,p)}}function _8(e,t,n,r,i){let s=b8({key:"middleware",route:r.route,manifest:t,mapRouteProperties:e}),o=XP(r.route,ci(n.method)?"action":"loader",t,e,i);return{middleware:s,route:o.lazyRoutePromise,handler:o.lazyHandlerPromise}}function Vx(e,t,n,r,i,s,o,a,l=null,c){let f=!1,p=_8(e,t,n,i,s);return{...i,_lazyPromises:p,shouldLoad:a,shouldRevalidateArgs:l,shouldCallHandler(g){return f=!0,l?typeof c=="boolean"?Dh(i,{...l,defaultShouldRevalidate:c}):typeof g=="boolean"?Dh(i,{...l,defaultShouldRevalidate:g}):Dh(i,l):a},resolve(g){let{lazy:y,loader:x,middleware:_}=i.route,S=f||a||g&&!ci(n.method)&&(y||x),C=_&&_.length>0&&!x&&!y;return S&&(ci(n.method)||!C)?nA({request:n,unstable_pattern:r,match:i,lazyHandlerPromise:p?.handler,lazyRoutePromise:p?.route,handlerOverride:g,scopedContext:o}):Promise.resolve({type:"data",result:void 0})}}}function Dd(e,t,n,r,i,s,o,a=null){return r.map(l=>l.route.id!==i.route.id?{...l,shouldLoad:!1,shouldRevalidateArgs:a,shouldCallHandler:()=>!1,_lazyPromises:_8(e,t,n,l,s),resolve:()=>Promise.resolve({type:"data",result:void 0})}:Vx(e,t,n,Rp(r),l,s,o,!0,a))}async function tA(e,t,n,r,i,s){n.some(c=>c._lazyPromises?.middleware)&&await Promise.all(n.map(c=>c._lazyPromises?.middleware));let o={request:t,unstable_pattern:Rp(n),params:n[0].params,context:i,matches:n},l=await e({...o,fetcherKey:r,runClientMiddleware:c=>{let f=o;return x8(f,()=>c({...f,fetcherKey:r,runClientMiddleware:()=>{throw new Error("Cannot call `runClientMiddleware()` from within an `runClientMiddleware` handler")}}))}});try{await Promise.all(n.flatMap(c=>[c._lazyPromises?.handler,c._lazyPromises?.route]))}catch{}return l}async function nA({request:e,unstable_pattern:t,match:n,lazyHandlerPromise:r,lazyRoutePromise:i,handlerOverride:s,scopedContext:o}){let a,l,c=ci(e.method),f=c?"action":"loader",p=g=>{let y,x=new Promise((C,I)=>y=I);l=()=>y(),e.signal.addEventListener("abort",l);let _=C=>typeof g!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${f}" [routeId: ${n.route.id}]`)):g({request:e,unstable_pattern:t,params:n.params,context:o},...C!==void 0?[C]:[]),S=(async()=>{try{return{type:"data",result:await(s?s(I=>_(I)):_())}}catch(C){return{type:"error",result:C}}})();return Promise.race([S,x])};try{let g=c?n.route.action:n.route.loader;if(r||i)if(g){let y,[x]=await Promise.all([p(g).catch(_=>{y=_}),r,i]);if(y!==void 0)throw y;a=x}else{await r;let y=c?n.route.action:n.route.loader;if(y)[a]=await Promise.all([p(y),i]);else if(f==="action"){let x=new URL(e.url),_=x.pathname+x.search;throw ks(405,{method:e.method,pathname:_,routeId:n.route.id})}else return{type:"data",result:void 0}}else if(g)a=await p(g);else{let y=new URL(e.url),x=y.pathname+y.search;throw ks(404,{pathname:x})}}catch(g){return{type:"error",result:g}}finally{l&&e.signal.removeEventListener("abort",l)}return a}async function rA(e){let t=e.headers.get("Content-Type");return t&&/\bapplication\/json\b/.test(t)?e.body==null?null:e.json():e.text()}async function iA(e){let{result:t,type:n}=e;if(F_(t)){let r;try{r=await rA(t)}catch(i){return{type:"error",error:i}}return n==="error"?{type:"error",error:new Ip(t.status,t.statusText,r),statusCode:t.status,headers:t.headers}:{type:"data",data:r,statusCode:t.status,headers:t.headers}}return n==="error"?cE(t)?t.data instanceof Error?{type:"error",error:t.data,statusCode:t.init?.status,headers:t.init?.headers?new Headers(t.init.headers):void 0}:{type:"error",error:lA(t),statusCode:ep(t)?t.status:void 0,headers:t.init?.headers?new Headers(t.init.headers):void 0}:{type:"error",error:t,statusCode:ep(t)?t.status:void 0}:cE(t)?{type:"data",data:t.data,statusCode:t.init?.status,headers:t.init?.headers?new Headers(t.init.headers):void 0}:{type:"data",data:t}}function sA(e,t,n,r,i){let s=e.headers.get("Location");if(Gt(s,"Redirects returned/thrown from loaders/actions must have a Location header"),!A_(s)){let o=r.slice(0,r.findIndex(a=>a.route.id===n)+1);s=Hx(new URL(t.url),o,i,s),e.headers.set("Location",s)}return e}function iE(e,t,n,r){let i=["about:","blob:","chrome:","chrome-untrusted:","content:","data:","devtools:","file:","filesystem:","javascript:"];if(A_(e)){let s=e,o=s.startsWith("//")?new URL(t.protocol+s):new URL(s);if(i.includes(o.protocol))throw new Error("Invalid redirect location");let a=Os(o.pathname,n)!=null;if(o.origin===t.origin&&a)return o.pathname+o.search+o.hash}try{let s=r.createURL(e);if(i.includes(s.protocol))throw new Error("Invalid redirect location")}catch{}return e}function wd(e,t,n,r){let i=e.createURL(S8(t)).toString(),s={signal:n};if(r&&ci(r.formMethod)){let{formMethod:o,formEncType:a}=r;s.method=o.toUpperCase(),a==="application/json"?(s.headers=new Headers({"Content-Type":a}),s.body=JSON.stringify(r.json)):a==="text/plain"?s.body=r.text:a==="application/x-www-form-urlencoded"&&r.formData?s.body=qx(r.formData):s.body=r.formData}return new Request(i,s)}function qx(e){let t=new URLSearchParams;for(let[n,r]of e.entries())t.append(n,typeof r=="string"?r:r.name);return t}function sE(e){let t=new FormData;for(let[n,r]of e.entries())t.append(n,r);return t}function oA(e,t,n,r=!1,i=!1){let s={},o=null,a,l=!1,c={},f=n&&ss(n[1])?n[1].error:void 0;return e.forEach(p=>{if(!(p.route.id in t))return;let g=p.route.id,y=t[g];if(Gt(!zc(y),"Cannot handle redirect results in processLoaderData"),ss(y)){let x=y.error;if(f!==void 0&&(x=f,f=void 0),o=o||{},i)o[g]=x;else{let _=bl(e,g);o[_.route.id]==null&&(o[_.route.id]=x)}r||(s[g]=y8),l||(l=!0,a=ep(y.error)?y.error.status:500),y.headers&&(c[g]=y.headers)}else s[g]=y.data,y.statusCode&&y.statusCode!==200&&!l&&(a=y.statusCode),y.headers&&(c[g]=y.headers)}),f!==void 0&&n&&(o={[n[0]]:f},n[2]&&(s[n[2]]=void 0)),{loaderData:s,errors:o,statusCode:a||200,loaderHeaders:c}}function oE(e,t,n,r,i,s){let{loaderData:o,errors:a}=oA(t,n,r);return i.filter(l=>!l.matches||l.matches.some(c=>c.shouldLoad)).forEach(l=>{let{key:c,match:f,controller:p}=l;if(p&&p.signal.aborted)return;let g=s[c];if(Gt(g,"Did not find corresponding fetcher result"),ss(g)){let y=bl(e.matches,f?.route.id);a&&a[y.route.id]||(a={...a,[y.route.id]:g.error}),e.fetchers.delete(c)}else if(zc(g))Gt(!1,"Unhandled fetcher revalidation redirect");else{let y=ca(g.data);e.fetchers.set(c,y)}}),{loaderData:o,errors:a}}function aE(e,t,n,r){let i=Object.entries(t).filter(([,s])=>s!==y8).reduce((s,[o,a])=>(s[o]=a,s),{});for(let s of n){let o=s.route.id;if(!t.hasOwnProperty(o)&&e.hasOwnProperty(o)&&s.route.loader&&(i[o]=e[o]),r&&r.hasOwnProperty(o))break}return i}function lE(e){return e?ss(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function bl(e,t){return(t?e.slice(0,e.findIndex(r=>r.route.id===t)+1):[...e]).reverse().find(r=>r.route.hasErrorBoundary===!0)||e[0]}function fg(e){let t=e.length===1?e[0]:e.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function ks(e,{pathname:t,routeId:n,method:r,type:i,message:s}={}){let o="Unknown Server Error",a="Unknown @remix-run/router error";return e===400?(o="Bad Request",r&&t&&n?a=`You made a ${r} request to "${t}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:i==="invalid-body"&&(a="Unable to encode submission body")):e===403?(o="Forbidden",a=`Route "${n}" does not match URL "${t}"`):e===404?(o="Not Found",a=`No route matches URL "${t}"`):e===405&&(o="Method Not Allowed",r&&t&&n?a=`You made a ${r.toUpperCase()} request to "${t}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:r&&(a=`Invalid request method "${r.toUpperCase()}"`)),new Ip(e||500,o,new Error(a),!0)}function hg(e){let t=Object.entries(e);for(let n=t.length-1;n>=0;n--){let[r,i]=t[n];if(zc(i))return{key:r,result:i}}}function S8(e){let t=typeof e=="string"?Hl(e):e;return Fo({...t,hash:""})}function aA(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function lA(e){return new Ip(e.init?.status??500,e.init?.statusText??"Internal Server Error",e.data)}function cA(e){return e!=null&&typeof e=="object"&&Object.entries(e).every(([t,n])=>typeof t=="string"&&uA(n))}function uA(e){return e!=null&&typeof e=="object"&&"type"in e&&"result"in e&&(e.type==="data"||e.type==="error")}function dA(e){return F_(e.result)&&m8.has(e.result.status)}function ss(e){return e.type==="error"}function zc(e){return(e&&e.type)==="redirect"}function cE(e){return typeof e=="object"&&e!=null&&"type"in e&&"data"in e&&"init"in e&&e.type==="DataWithResponseInit"}function F_(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function fA(e){return m8.has(e)}function hA(e){return F_(e)&&fA(e.status)&&e.headers.has("Location")}function pA(e){return WP.has(e.toUpperCase())}function ci(e){return UP.has(e.toUpperCase())}function B_(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function x0(e,t){let n=typeof t=="string"?Hl(t).search:t.search;if(e[e.length-1].route.index&&B_(n||""))return e[e.length-1];let r=u8(e);return r[r.length-1]}function uE(e){let{formMethod:t,formAction:n,formEncType:r,text:i,formData:s,json:o}=e;if(!(!t||!n||!r)){if(i!=null)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:t,formAction:n,formEncType:r,formData:s,json:void 0,text:void 0};if(o!==void 0)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}}}function hb(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function mA(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function ah(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function gA(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function ca(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function yA(e,t){try{let n=e.sessionStorage.getItem(g8);if(n){let r=JSON.parse(n);for(let[i,s]of Object.entries(r||{}))s&&Array.isArray(s)&&t.set(i,new Set(s||[]))}}catch{}}function vA(e,t){if(t.size>0){let n={};for(let[r,i]of t)n[r]=[...i];try{e.sessionStorage.setItem(g8,JSON.stringify(n))}catch(r){pr(!1,`Failed to save applied view transitions in sessionStorage (${r}).`)}}}function dE(){let e,t,n=new Promise((r,i)=>{e=async s=>{r(s);try{await n}catch{}},t=async s=>{i(s);try{await n}catch{}}});return{promise:n,resolve:e,reject:t}}var uu=R.createContext(null);uu.displayName="DataRouter";var Np=R.createContext(null);Np.displayName="DataRouterState";var E8=R.createContext(!1);function bA(){return R.useContext(E8)}var $_=R.createContext({isTransitioning:!1});$_.displayName="ViewTransition";var C8=R.createContext(new Map);C8.displayName="Fetchers";var xA=R.createContext(null);xA.displayName="Await";var Ms=R.createContext(null);Ms.displayName="Navigation";var Oy=R.createContext(null);Oy.displayName="Location";var fo=R.createContext({outlet:null,matches:[],isDataRoute:!1});fo.displayName="Route";var z_=R.createContext(null);z_.displayName="RouteError";var k8="REACT_ROUTER_ERROR",wA="REDIRECT",_A="ROUTE_ERROR_RESPONSE";function SA(e){if(e.startsWith(`${k8}:${wA}:{`))try{let t=JSON.parse(e.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function EA(e){if(e.startsWith(`${k8}:${_A}:{`))try{let t=JSON.parse(e.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new Ip(t.status,t.statusText,t.data)}catch{}}function CA(e,{relative:t}={}){Gt(Op(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=R.useContext(Ms),{hash:i,pathname:s,search:o}=Pp(e,{relative:t}),a=s;return n!=="/"&&(a=s==="/"?n:Mo([n,s])),r.createHref({pathname:a,search:o,hash:i})}function Op(){return R.useContext(Oy)!=null}function ho(){return Gt(Op(),"useLocation() may be used only in the context of a <Router> component."),R.useContext(Oy).location}var T8="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function j8(e){R.useContext(Ms).static||R.useLayoutEffect(e)}function Py(){let{isDataRoute:e}=R.useContext(fo);return e?BA():kA()}function kA(){Gt(Op(),"useNavigate() may be used only in the context of a <Router> component.");let e=R.useContext(uu),{basename:t,navigator:n}=R.useContext(Ms),{matches:r}=R.useContext(fo),{pathname:i}=ho(),s=JSON.stringify(M_(r)),o=R.useRef(!1);return j8(()=>{o.current=!0}),R.useCallback((l,c={})=>{if(pr(o.current,T8),!o.current)return;if(typeof l=="number"){n.go(l);return}let f=D_(l,JSON.parse(s),i,c.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Mo([t,f.pathname])),(c.replace?n.replace:n.push)(f,c.state,c)},[t,n,s,i,e])}var TA=R.createContext(null);function jA(e){let t=R.useContext(fo).outlet;return R.useMemo(()=>t&&R.createElement(TA.Provider,{value:e},t),[t,e])}function I8(){let{matches:e}=R.useContext(fo),t=e[e.length-1];return t?t.params:{}}function Pp(e,{relative:t}={}){let{matches:n}=R.useContext(fo),{pathname:r}=ho(),i=JSON.stringify(M_(n));return R.useMemo(()=>D_(e,JSON.parse(i),r,t==="path"),[e,i,r,t])}function IA(e,t,n,r,i){Gt(Op(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=R.useContext(Ms),{matches:o}=R.useContext(fo),a=o[o.length-1],l=a?a.params:{},c=a?a.pathname:"/",f=a?a.pathnameBase:"/",p=a&&a.route;{let I=p&&p.path||"";N8(c,!p||I.endsWith("*")||I.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${I}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${I}"> to <Route path="${I==="/"?"*":`${I}/*`}">.`)}let g=ho(),y;y=g;let x=y.pathname||"/",_=x;if(f!=="/"){let I=f.replace(/^\//,"").split("/");_="/"+x.replace(/^\//,"").split("/").slice(I.length).join("/")}let S=vl(e,{pathname:_});return pr(p||S!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),pr(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),AA(S&&S.map(I=>Object.assign({},I,{params:Object.assign({},l,I.params),pathname:Mo([f,s.encodeLocation?s.encodeLocation(I.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:I.pathname]),pathnameBase:I.pathnameBase==="/"?f:Mo([f,s.encodeLocation?s.encodeLocation(I.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:I.pathnameBase])})),o,n,r,i)}function RA(){let e=W_(),t=ep(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=R.createElement(R.Fragment,null,R.createElement("p",null," Hey developer "),R.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",R.createElement("code",{style:s},"ErrorBoundary")," or"," ",R.createElement("code",{style:s},"errorElement")," prop on your route.")),R.createElement(R.Fragment,null,R.createElement("h2",null,"Unexpected Application Error!"),R.createElement("h3",{style:{fontStyle:"italic"}},t),n?R.createElement("pre",{style:i},n):null,o)}var NA=R.createElement(RA,null),R8=class extends R.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){const n=EA(e.digest);n&&(e=n)}let t=e!==void 0?R.createElement(fo.Provider,{value:this.props.routeContext},R.createElement(z_.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?R.createElement(OA,{error:e},t):t}};R8.contextType=E8;var pb=new WeakMap;function OA({children:e,error:t}){let{basename:n}=R.useContext(Ms);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let r=SA(t.digest);if(r){let i=pb.get(t);if(i)throw i;let s=f8(r.location,n);if(d8&&!pb.get(t))if(s.isExternal||r.reloadDocument)window.location.href=s.absoluteURL||s.to;else{const o=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(s.to,{replace:r.replace}));throw pb.set(t,o),o}return R.createElement("meta",{httpEquiv:"refresh",content:`0;url=${s.absoluteURL||s.to}`})}}return e}function PA({routeContext:e,match:t,children:n}){let r=R.useContext(uu);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),R.createElement(fo.Provider,{value:e},n)}function AA(e,t=[],n=null,r=null,i=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let s=e,o=n?.errors;if(o!=null){let f=s.findIndex(p=>p.route.id&&o?.[p.route.id]!==void 0);Gt(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),s=s.slice(0,Math.min(s.length,f+1))}let a=!1,l=-1;if(n)for(let f=0;f<s.length;f++){let p=s[f];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(l=f),p.route.id){let{loaderData:g,errors:y}=n,x=p.route.loader&&!g.hasOwnProperty(p.route.id)&&(!y||y[p.route.id]===void 0);if(p.route.lazy||x){a=!0,l>=0?s=s.slice(0,l+1):s=[s[0]];break}}}let c=n&&r?(f,p)=>{r(f,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:Rp(n.matches),errorInfo:p})}:void 0;return s.reduceRight((f,p,g)=>{let y,x=!1,_=null,S=null;n&&(y=o&&p.route.id?o[p.route.id]:void 0,_=p.route.errorElement||NA,a&&(l<0&&g===0?(N8("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,S=null):l===g&&(x=!0,S=p.route.hydrateFallbackElement||null)));let C=t.concat(s.slice(0,g+1)),I=()=>{let A;return y?A=_:x?A=S:p.route.Component?A=R.createElement(p.route.Component,null):p.route.element?A=p.route.element:A=f,R.createElement(PA,{match:p,routeContext:{outlet:f,matches:C,isDataRoute:n!=null},children:A})};return n&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?R.createElement(R8,{location:n.location,revalidation:n.revalidation,component:_,error:y,children:I(),routeContext:{outlet:null,matches:C,isDataRoute:!0},onError:c}):I()},null)}function U_(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function MA(e){let t=R.useContext(uu);return Gt(t,U_(e)),t}function DA(e){let t=R.useContext(Np);return Gt(t,U_(e)),t}function LA(e){let t=R.useContext(fo);return Gt(t,U_(e)),t}function H_(e){let t=LA(e),n=t.matches[t.matches.length-1];return Gt(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function FA(){return H_("useRouteId")}function W_(){let e=R.useContext(z_),t=DA("useRouteError"),n=H_("useRouteError");return e!==void 0?e:t.errors?.[n]}function BA(){let{router:e}=MA("useNavigate"),t=H_("useNavigate"),n=R.useRef(!1);return j8(()=>{n.current=!0}),R.useCallback(async(i,s={})=>{pr(n.current,T8),n.current&&(typeof i=="number"?await e.navigate(i):await e.navigate(i,{fromRouteId:t,...s}))},[e,t])}var fE={};function N8(e,t,n){!t&&!fE[e]&&(fE[e]=!0,pr(!1,n))}var hE={};function pE(e,t){!e&&!hE[t]&&(hE[t]=!0,console.warn(t))}var $A="useOptimistic",mE=r8[$A],zA=()=>{};function UA(e){return mE?mE(e):[e,zA]}function HA(e){let t={hasErrorBoundary:e.hasErrorBoundary||e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&(e.element&&pr(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(t,{element:R.createElement(e.Component),Component:void 0})),e.HydrateFallback&&(e.hydrateFallbackElement&&pr(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(t,{hydrateFallbackElement:R.createElement(e.HydrateFallback),HydrateFallback:void 0})),e.ErrorBoundary&&(e.errorElement&&pr(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(t,{errorElement:R.createElement(e.ErrorBoundary),ErrorBoundary:void 0})),t}var WA=["HydrateFallback","hydrateFallbackElement"],VA=class{constructor(){this.status="pending",this.promise=new Promise((t,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",t(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function qA({router:e,flushSync:t,onError:n,unstable_useTransitions:r}){r=bA()||r;let[s,o]=R.useState(e.state),[a,l]=UA(s),[c,f]=R.useState(),[p,g]=R.useState({isTransitioning:!1}),[y,x]=R.useState(),[_,S]=R.useState(),[C,I]=R.useState(),A=R.useRef(new Map),z=R.useCallback((F,{deletedFetchers:$,newErrors:L,flushSync:Z,viewTransitionOpts:Y})=>{L&&n&&Object.values(L).forEach(G=>n(G,{location:F.location,params:F.matches[0]?.params??{},unstable_pattern:Rp(F.matches)})),F.fetchers.forEach((G,W)=>{G.data!==void 0&&A.current.set(W,G.data)}),$.forEach(G=>A.current.delete(G)),pE(Z===!1||t!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let he=e.window!=null&&e.window.document!=null&&typeof e.window.document.startViewTransition=="function";if(pE(Y==null||he,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!Y||!he){t&&Z?t(()=>o(F)):r===!1?o(F):R.startTransition(()=>{r===!0&&l(G=>gE(G,F)),o(F)});return}if(t&&Z){t(()=>{_&&(y?.resolve(),_.skipTransition()),g({isTransitioning:!0,flushSync:!0,currentLocation:Y.currentLocation,nextLocation:Y.nextLocation})});let G=e.window.document.startViewTransition(()=>{t(()=>o(F))});G.finished.finally(()=>{t(()=>{x(void 0),S(void 0),f(void 0),g({isTransitioning:!1})})}),t(()=>S(G));return}_?(y?.resolve(),_.skipTransition(),I({state:F,currentLocation:Y.currentLocation,nextLocation:Y.nextLocation})):(f(F),g({isTransitioning:!0,flushSync:!1,currentLocation:Y.currentLocation,nextLocation:Y.nextLocation}))},[e.window,t,_,y,r,l,n]);R.useLayoutEffect(()=>e.subscribe(z),[e,z]),R.useEffect(()=>{p.isTransitioning&&!p.flushSync&&x(new VA)},[p]),R.useEffect(()=>{if(y&&c&&e.window){let F=c,$=y.promise,L=e.window.document.startViewTransition(async()=>{r===!1?o(F):R.startTransition(()=>{r===!0&&l(Z=>gE(Z,F)),o(F)}),await $});L.finished.finally(()=>{x(void 0),S(void 0),f(void 0),g({isTransitioning:!1})}),S(L)}},[c,y,e.window,r,l]),R.useEffect(()=>{y&&c&&a.location.key===c.location.key&&y.resolve()},[y,_,a.location,c]),R.useEffect(()=>{!p.isTransitioning&&C&&(f(C.state),g({isTransitioning:!0,flushSync:!1,currentLocation:C.currentLocation,nextLocation:C.nextLocation}),I(void 0))},[p.isTransitioning,C]);let U=R.useMemo(()=>({createHref:e.createHref,encodeLocation:e.encodeLocation,go:F=>e.navigate(F),push:(F,$,L)=>e.navigate(F,{state:$,preventScrollReset:L?.preventScrollReset}),replace:(F,$,L)=>e.navigate(F,{replace:!0,state:$,preventScrollReset:L?.preventScrollReset})}),[e]),O=e.basename||"/",N=R.useMemo(()=>({router:e,navigator:U,static:!1,basename:O,onError:n}),[e,U,O,n]);return R.createElement(R.Fragment,null,R.createElement(uu.Provider,{value:N},R.createElement(Np.Provider,{value:a},R.createElement(C8.Provider,{value:A.current},R.createElement($_.Provider,{value:p},R.createElement(GA,{basename:O,location:a.location,navigationType:a.historyAction,navigator:U,unstable_useTransitions:r},R.createElement(QA,{routes:e.routes,future:e.future,state:a,onError:n})))))),null)}function gE(e,t){return{...e,navigation:t.navigation.state!=="idle"?t.navigation:e.navigation,revalidation:t.revalidation!=="idle"?t.revalidation:e.revalidation,actionData:t.navigation.state!=="submitting"?t.actionData:e.actionData,fetchers:t.fetchers}}var QA=R.memo(KA);function KA({routes:e,future:t,state:n,onError:r}){return IA(e,void 0,n,r,t)}function V_(e){return jA(e.context)}function GA({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:i,static:s=!1,unstable_useTransitions:o}){Gt(!Op(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=e.replace(/^\/*/,"/"),l=R.useMemo(()=>({basename:a,navigator:i,static:s,unstable_useTransitions:o,future:{}}),[a,i,s,o]);typeof n=="string"&&(n=Hl(n));let{pathname:c="/",search:f="",hash:p="",state:g=null,key:y="default"}=n,x=R.useMemo(()=>{let _=Os(c,a);return _==null?null:{location:{pathname:_,search:f,hash:p,state:g,key:y},navigationType:r}},[a,c,f,p,g,y,r]);return pr(x!=null,`<Router basename="${a}"> is not able to match the URL "${c}${f}${p}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:R.createElement(Ms.Provider,{value:l},R.createElement(Oy.Provider,{children:t,value:x}))}var w0="get",_0="application/x-www-form-urlencoded";function Ay(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function YA(e){return Ay(e)&&e.tagName.toLowerCase()==="button"}function JA(e){return Ay(e)&&e.tagName.toLowerCase()==="form"}function XA(e){return Ay(e)&&e.tagName.toLowerCase()==="input"}function ZA(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function eM(e,t){return e.button===0&&(!t||t==="_self")&&!ZA(e)}function Qx(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function tM(e,t){let n=Qx(e);return t&&t.forEach((r,i)=>{n.has(i)||t.getAll(i).forEach(s=>{n.append(i,s)})}),n}var pg=null;function nM(){if(pg===null)try{new FormData(document.createElement("form"),0),pg=!1}catch{pg=!0}return pg}var rM=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function mb(e){return e!=null&&!rM.has(e)?(pr(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${_0}"`),null):e}function iM(e,t){let n,r,i,s,o;if(JA(e)){let a=e.getAttribute("action");r=a?Os(a,t):null,n=e.getAttribute("method")||w0,i=mb(e.getAttribute("enctype"))||_0,s=new FormData(e)}else if(YA(e)||XA(e)&&(e.type==="submit"||e.type==="image")){let a=e.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=e.getAttribute("formaction")||a.getAttribute("action");if(r=l?Os(l,t):null,n=e.getAttribute("formmethod")||a.getAttribute("method")||w0,i=mb(e.getAttribute("formenctype"))||mb(a.getAttribute("enctype"))||_0,s=new FormData(a,e),!nM()){let{name:c,type:f,value:p}=e;if(f==="image"){let g=c?`${c}.`:"";s.append(`${g}x`,"0"),s.append(`${g}y`,"0")}else c&&s.append(c,p)}}else{if(Ay(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=w0,r=null,i=_0,o=e}return s&&i==="text/plain"&&(o=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function q_(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function sM(e,t,n,r){let i=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n?i.pathname.endsWith("/")?i.pathname=`${i.pathname}_.${r}`:i.pathname=`${i.pathname}.${r}`:i.pathname==="/"?i.pathname=`_root.${r}`:t&&Os(i.pathname,t)==="/"?i.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${r}`,i}async function oM(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function aM(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function lM(e,t,n){let r=await Promise.all(e.map(async i=>{let s=t.routes[i.route.id];if(s){let o=await oM(s,n);return o.links?o.links():[]}return[]}));return fM(r.flat(1).filter(aM).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function yE(e,t,n,r,i,s){let o=(l,c)=>n[c]?l.route.id!==n[c].route.id:!0,a=(l,c)=>n[c].pathname!==l.pathname||n[c].route.path?.endsWith("*")&&n[c].params["*"]!==l.params["*"];return s==="assets"?t.filter((l,c)=>o(l,c)||a(l,c)):s==="data"?t.filter((l,c)=>{let f=r.routes[l.route.id];if(!f||!f.hasLoader)return!1;if(o(l,c)||a(l,c))return!0;if(l.route.shouldRevalidate){let p=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function cM(e,t,{includeHydrateFallback:n}={}){return uM(e.map(r=>{let i=t.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function uM(e){return[...new Set(e)]}function dM(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function fM(e,t){let n=new Set;return new Set(t),e.reduce((r,i)=>{let s=JSON.stringify(dM(i));return n.has(s)||(n.add(s),r.push({key:s,link:i})),r},[])}function O8(){let e=R.useContext(uu);return q_(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function hM(){let e=R.useContext(Np);return q_(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Q_=R.createContext(void 0);Q_.displayName="FrameworkContext";function P8(){let e=R.useContext(Q_);return q_(e,"You must render this element inside a <HydratedRouter> element"),e}function pM(e,t){let n=R.useContext(Q_),[r,i]=R.useState(!1),[s,o]=R.useState(!1),{onFocus:a,onBlur:l,onMouseEnter:c,onMouseLeave:f,onTouchStart:p}=t,g=R.useRef(null);R.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let _=C=>{C.forEach(I=>{o(I.isIntersecting)})},S=new IntersectionObserver(_,{threshold:.5});return g.current&&S.observe(g.current),()=>{S.disconnect()}}},[e]),R.useEffect(()=>{if(r){let _=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(_)}}},[r]);let y=()=>{i(!0)},x=()=>{i(!1),o(!1)};return n?e!=="intent"?[s,g,{}]:[s,g,{onFocus:lh(a,y),onBlur:lh(l,x),onMouseEnter:lh(c,y),onMouseLeave:lh(f,x),onTouchStart:lh(p,y)}]:[!1,g,{}]}function lh(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function mM({page:e,...t}){let{router:n}=O8(),r=R.useMemo(()=>vl(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?R.createElement(yM,{page:e,matches:r,...t}):null}function gM(e){let{manifest:t,routeModules:n}=P8(),[r,i]=R.useState([]);return R.useEffect(()=>{let s=!1;return lM(e,t,n).then(o=>{s||i(o)}),()=>{s=!0}},[e,t,n]),r}function yM({page:e,matches:t,...n}){let r=ho(),{future:i,manifest:s,routeModules:o}=P8(),{basename:a}=O8(),{loaderData:l,matches:c}=hM(),f=R.useMemo(()=>yE(e,t,c,s,r,"data"),[e,t,c,s,r]),p=R.useMemo(()=>yE(e,t,c,s,r,"assets"),[e,t,c,s,r]),g=R.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let _=new Set,S=!1;if(t.forEach(I=>{let A=s.routes[I.route.id];!A||!A.hasLoader||(!f.some(z=>z.route.id===I.route.id)&&I.route.id in l&&o[I.route.id]?.shouldRevalidate||A.hasClientLoader?S=!0:_.add(I.route.id))}),_.size===0)return[];let C=sM(e,a,i.unstable_trailingSlashAwareDataRequests,"data");return S&&_.size>0&&C.searchParams.set("_routes",t.filter(I=>_.has(I.route.id)).map(I=>I.route.id).join(",")),[C.pathname+C.search]},[a,i.unstable_trailingSlashAwareDataRequests,l,r,s,f,t,e,o]),y=R.useMemo(()=>cM(p,s),[p,s]),x=gM(p);return R.createElement(R.Fragment,null,g.map(_=>R.createElement("link",{key:_,rel:"prefetch",as:"fetch",href:_,...n})),y.map(_=>R.createElement("link",{key:_,rel:"modulepreload",href:_,...n})),x.map(({key:_,link:S})=>R.createElement("link",{key:_,nonce:n.nonce,...S,crossOrigin:S.crossOrigin??n.crossOrigin})))}function vM(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var bM=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{bM&&(window.__reactRouterVersion="7.13.0")}catch{}function xM(e,t){return KP({basename:t?.basename,getContext:t?.getContext,future:t?.future,history:uP({window:t?.window}),hydrationData:wM(),routes:e,mapRouteProperties:HA,hydrationRouteProperties:WA,dataStrategy:t?.dataStrategy,patchRoutesOnNavigation:t?.patchRoutesOnNavigation,window:t?.window,unstable_instrumentations:t?.unstable_instrumentations}).initialize()}function wM(){let e=window?.__staticRouterHydrationData;return e&&e.errors&&(e={...e,errors:_M(e.errors)}),e}function _M(e){if(!e)return null;let t=Object.entries(e),n={};for(let[r,i]of t)if(i&&i.__type==="RouteErrorResponse")n[r]=new Ip(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let o=new s(i.message);o.stack="",n[r]=o}catch{}}if(n[r]==null){let s=new Error(i.message);s.stack="",n[r]=s}}else n[r]=i;return n}var A8=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ti=R.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:i,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:f,viewTransition:p,unstable_defaultShouldRevalidate:g,...y},x){let{basename:_,unstable_useTransitions:S}=R.useContext(Ms),C=typeof c=="string"&&A8.test(c),I=f8(c,_);c=I.to;let A=CA(c,{relative:i}),[z,U,O]=pM(r,y),N=CM(c,{replace:o,state:a,target:l,preventScrollReset:f,relative:i,viewTransition:p,unstable_defaultShouldRevalidate:g,unstable_useTransitions:S});function F(L){t&&t(L),L.defaultPrevented||N(L)}let $=R.createElement("a",{...y,...O,href:I.absoluteURL||A,onClick:I.isExternal||s?t:F,ref:vM(x,U),target:l,"data-discover":!C&&n==="render"?"true":void 0});return z&&!C?R.createElement(R.Fragment,null,$,R.createElement(mM,{page:A})):$});ti.displayName="Link";var du=R.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:i=!1,style:s,to:o,viewTransition:a,children:l,...c},f){let p=Pp(o,{relative:c.relative}),g=ho(),y=R.useContext(Np),{navigator:x,basename:_}=R.useContext(Ms),S=y!=null&&RM(p)&&a===!0,C=x.encodeLocation?x.encodeLocation(p).pathname:p.pathname,I=g.pathname,A=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;n||(I=I.toLowerCase(),A=A?A.toLowerCase():null,C=C.toLowerCase()),A&&_&&(A=Os(A,_)||A);const z=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let U=I===C||!i&&I.startsWith(C)&&I.charAt(z)==="/",O=A!=null&&(A===C||!i&&A.startsWith(C)&&A.charAt(C.length)==="/"),N={isActive:U,isPending:O,isTransitioning:S},F=U?t:void 0,$;typeof r=="function"?$=r(N):$=[r,U?"active":null,O?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let L=typeof s=="function"?s(N):s;return R.createElement(ti,{...c,"aria-current":F,className:$,ref:f,style:L,to:o,viewTransition:a},typeof l=="function"?l(N):l)});du.displayName="NavLink";var SM=R.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:i,state:s,method:o=w0,action:a,onSubmit:l,relative:c,preventScrollReset:f,viewTransition:p,unstable_defaultShouldRevalidate:g,...y},x)=>{let{unstable_useTransitions:_}=R.useContext(Ms),S=jM(),C=IM(a,{relative:c}),I=o.toLowerCase()==="get"?"get":"post",A=typeof a=="string"&&A8.test(a),z=U=>{if(l&&l(U),U.defaultPrevented)return;U.preventDefault();let O=U.nativeEvent.submitter,N=O?.getAttribute("formmethod")||o,F=()=>S(O||U.currentTarget,{fetcherKey:t,method:N,navigate:n,replace:i,state:s,relative:c,preventScrollReset:f,viewTransition:p,unstable_defaultShouldRevalidate:g});_&&n!==!1?R.startTransition(()=>F()):F()};return R.createElement("form",{ref:x,method:I,action:C,onSubmit:r?l:z,...y,"data-discover":!A&&e==="render"?"true":void 0})});SM.displayName="Form";function EM(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function M8(e){let t=R.useContext(uu);return Gt(t,EM(e)),t}function CM(e,{target:t,replace:n,state:r,preventScrollReset:i,relative:s,viewTransition:o,unstable_defaultShouldRevalidate:a,unstable_useTransitions:l}={}){let c=Py(),f=ho(),p=Pp(e,{relative:s});return R.useCallback(g=>{if(eM(g,t)){g.preventDefault();let y=n!==void 0?n:Fo(f)===Fo(p),x=()=>c(e,{replace:y,state:r,preventScrollReset:i,relative:s,viewTransition:o,unstable_defaultShouldRevalidate:a});l?R.startTransition(()=>x()):x()}},[f,c,p,n,r,t,e,i,s,o,a,l])}function D8(e){pr(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=R.useRef(Qx(e)),n=R.useRef(!1),r=ho(),i=R.useMemo(()=>tM(r.search,n.current?null:t.current),[r.search]),s=Py(),o=R.useCallback((a,l)=>{const c=Qx(typeof a=="function"?a(new URLSearchParams(i)):a);n.current=!0,s("?"+c,l)},[s,i]);return[i,o]}var kM=0,TM=()=>`__${String(++kM)}__`;function jM(){let{router:e}=M8("useSubmit"),{basename:t}=R.useContext(Ms),n=FA(),r=e.fetch,i=e.navigate;return R.useCallback(async(s,o={})=>{let{action:a,method:l,encType:c,formData:f,body:p}=iM(s,t);if(o.navigate===!1){let g=o.fetcherKey||TM();await r(g,n,o.action||a,{unstable_defaultShouldRevalidate:o.unstable_defaultShouldRevalidate,preventScrollReset:o.preventScrollReset,formData:f,body:p,formMethod:o.method||l,formEncType:o.encType||c,flushSync:o.flushSync})}else await i(o.action||a,{unstable_defaultShouldRevalidate:o.unstable_defaultShouldRevalidate,preventScrollReset:o.preventScrollReset,formData:f,body:p,formMethod:o.method||l,formEncType:o.encType||c,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,i,t,n])}function IM(e,{relative:t}={}){let{basename:n}=R.useContext(Ms),r=R.useContext(fo);Gt(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...Pp(e||".",{relative:t})},o=ho();if(e==null){s.search=o.search;let a=new URLSearchParams(s.search),l=a.getAll("index");if(l.some(f=>f==="")){a.delete("index"),l.filter(p=>p).forEach(p=>a.append("index",p));let f=a.toString();s.search=f?`?${f}`:""}}return(!e||e===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:Mo([n,s.pathname])),Fo(s)}function RM(e,{relative:t}={}){let n=R.useContext($_);Gt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=M8("useViewTransitionState"),i=Pp(e,{relative:t});if(!n.isTransitioning)return!1;let s=Os(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=Os(n.nextLocation.pathname,r)||n.nextLocation.pathname;return F0(i.pathname,o)!=null||F0(i.pathname,s)!=null}var My=i8();const mg=ds(My);function NM(e){return R.createElement(qA,{flushSync:My.flushSync,...e})}var lf=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},OM={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},PM=class{#e=OM;#t=!1;setTimeoutProvider(e){this.#e=e}setTimeout(e,t){return this.#e.setTimeout(e,t)}clearTimeout(e){this.#e.clearTimeout(e)}setInterval(e,t){return this.#e.setInterval(e,t)}clearInterval(e){this.#e.clearInterval(e)}},Uc=new PM;function AM(e){setTimeout(e,0)}var tu=typeof window>"u"||"Deno"in globalThis;function Ei(){}function MM(e,t){return typeof e=="function"?e(t):e}function Kx(e){return typeof e=="number"&&e>=0&&e!==1/0}function L8(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Tl(e,t){return typeof e=="function"?e(t):e}function js(e,t){return typeof e=="function"?e(t):e}function vE(e,t){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:o,stale:a}=e;if(o){if(r){if(t.queryHash!==K_(o,t.options))return!1}else if(!tp(t.queryKey,o))return!1}if(n!=="all"){const l=t.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&t.isStale()!==a||i&&i!==t.state.fetchStatus||s&&!s(t))}function bE(e,t){const{exact:n,status:r,predicate:i,mutationKey:s}=e;if(s){if(!t.options.mutationKey)return!1;if(n){if(nu(t.options.mutationKey)!==nu(s))return!1}else if(!tp(t.options.mutationKey,s))return!1}return!(r&&t.state.status!==r||i&&!i(t))}function K_(e,t){return(t?.queryKeyHashFn||nu)(e)}function nu(e){return JSON.stringify(e,(t,n)=>Gx(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function tp(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>tp(e[n],t[n])):!1}var DM=Object.prototype.hasOwnProperty;function F8(e,t,n=0){if(e===t)return e;if(n>500)return t;const r=xE(e)&&xE(t);if(!r&&!(Gx(e)&&Gx(t)))return t;const s=(r?e:Object.keys(e)).length,o=r?t:Object.keys(t),a=o.length,l=r?new Array(a):{};let c=0;for(let f=0;f<a;f++){const p=r?f:o[f],g=e[p],y=t[p];if(g===y){l[p]=g,(r?f<s:DM.call(e,p))&&c++;continue}if(g===null||y===null||typeof g!="object"||typeof y!="object"){l[p]=y;continue}const x=F8(g,y,n+1);l[p]=x,x===g&&c++}return s===a&&c===s?e:l}function B0(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function xE(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Gx(e){if(!wE(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!wE(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function wE(e){return Object.prototype.toString.call(e)==="[object Object]"}function LM(e){return new Promise(t=>{Uc.setTimeout(t,e)})}function Yx(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?F8(e,t):t}function FM(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function BM(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var G_=Symbol();function B8(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===G_?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function Y_(e,t){return typeof e=="function"?e(...t):!!e}function $M(e,t,n){let r=!1,i;return Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(i??=t(),r||(r=!0,i.aborted?n():i.addEventListener("abort",n,{once:!0})),i)}),e}var zM=class extends lf{#e;#t;#n;constructor(){super(),this.#n=e=>{if(!tu&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},J_=new zM;function Jx(){let e,t;const n=new Promise((i,s)=>{e=i,t=s});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),e(i)},n.reject=i=>{r({status:"rejected",reason:i}),t(i)},n}var UM=AM;function HM(){let e=[],t=0,n=a=>{a()},r=a=>{a()},i=UM;const s=a=>{t?e.push(a):i(()=>{n(a)})},o=()=>{const a=e;e=[],a.length&&i(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;t++;try{l=a()}finally{t--,t||o()}return l},batchCalls:a=>(...l)=>{s(()=>{a(...l)})},schedule:s,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{i=a}}}var Nr=HM(),WM=class extends lf{#e=!0;#t;#n;constructor(){super(),this.#n=e=>{if(!tu&&window.addEventListener){const t=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#e!==e&&(this.#e=e,this.listeners.forEach(n=>{n(e)}))}isOnline(){return this.#e}},$0=new WM;function VM(e){return Math.min(1e3*2**e,3e4)}function $8(e){return(e??"online")==="online"?$0.isOnline():!0}var Xx=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function z8(e){let t=!1,n=0,r;const i=Jx(),s=()=>i.status!=="pending",o=_=>{if(!s()){const S=new Xx(_);g(S),e.onCancel?.(S)}},a=()=>{t=!0},l=()=>{t=!1},c=()=>J_.isFocused()&&(e.networkMode==="always"||$0.isOnline())&&e.canRun(),f=()=>$8(e.networkMode)&&e.canRun(),p=_=>{s()||(r?.(),i.resolve(_))},g=_=>{s()||(r?.(),i.reject(_))},y=()=>new Promise(_=>{r=S=>{(s()||c())&&_(S)},e.onPause?.()}).then(()=>{r=void 0,s()||e.onContinue?.()}),x=()=>{if(s())return;let _;const S=n===0?e.initialPromise:void 0;try{_=S??e.fn()}catch(C){_=Promise.reject(C)}Promise.resolve(_).then(p).catch(C=>{if(s())return;const I=e.retry??(tu?0:3),A=e.retryDelay??VM,z=typeof A=="function"?A(n,C):A,U=I===!0||typeof I=="number"&&n<I||typeof I=="function"&&I(n,C);if(t||!U){g(C);return}n++,e.onFail?.(n,C),LM(z).then(()=>c()?void 0:y()).then(()=>{t?g(C):x()})})};return{promise:i,status:()=>i.status,cancel:o,continue:()=>(r?.(),i),cancelRetry:a,continueRetry:l,canStart:f,start:()=>(f()?x():y().then(x),i)}}var U8=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Kx(this.gcTime)&&(this.#e=Uc.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(tu?1/0:300*1e3))}clearGcTimeout(){this.#e&&(Uc.clearTimeout(this.#e),this.#e=void 0)}},qM=class extends U8{#e;#t;#n;#i;#r;#o;#a;constructor(e){super(),this.#a=!1,this.#o=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#i=e.client,this.#n=this.#i.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=SE(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#r?.promise}setOptions(e){if(this.options={...this.#o,...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const t=SE(this.options);t.data!==void 0&&(this.setState(_E(t.data,t.dataUpdatedAt)),this.#e=t)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(e,t){const n=Yx(this.state.data,e,this.options);return this.#s({data:n,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),n}setState(e,t){this.#s({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#r?.promise;return this.#r?.cancel(e),t?t.then(Ei).catch(Ei):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>js(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===G_||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Tl(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!L8(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#r?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#r?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#r&&(this.#a?this.#r.cancel({revert:!0}):this.#r.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#s({type:"invalidate"})}async fetch(e,t){if(this.state.fetchStatus!=="idle"&&this.#r?.status()!=="rejected"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#r)return this.#r.continueRetry(),this.#r.promise}if(e&&this.setOptions(e),!this.options.queryFn){const a=this.observers.find(l=>l.options.queryFn);a&&this.setOptions(a.options)}const n=new AbortController,r=a=>{Object.defineProperty(a,"signal",{enumerable:!0,get:()=>(this.#a=!0,n.signal)})},i=()=>{const a=B8(this.options,t),c=(()=>{const f={client:this.#i,queryKey:this.queryKey,meta:this.meta};return r(f),f})();return this.#a=!1,this.options.persister?this.options.persister(a,c,this):a(c)},o=(()=>{const a={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#i,state:this.state,fetchFn:i};return r(a),a})();this.options.behavior?.onFetch(o,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==o.fetchOptions?.meta)&&this.#s({type:"fetch",meta:o.fetchOptions?.meta}),this.#r=z8({initialPromise:t?.initialPromise,fn:o.fetchFn,onCancel:a=>{a instanceof Xx&&a.revert&&this.setState({...this.#t,fetchStatus:"idle"}),n.abort()},onFail:(a,l)=>{this.#s({type:"failed",failureCount:a,error:l})},onPause:()=>{this.#s({type:"pause"})},onContinue:()=>{this.#s({type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0});try{const a=await this.#r.start();if(a===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(a),this.#n.config.onSuccess?.(a,this),this.#n.config.onSettled?.(a,this.state.error,this),a}catch(a){if(a instanceof Xx){if(a.silent)return this.#r.promise;if(a.revert){if(this.state.data===void 0)throw a;return this.state.data}}throw this.#s({type:"error",error:a}),this.#n.config.onError?.(a,this),this.#n.config.onSettled?.(this.state.data,a,this),a}finally{this.scheduleGc()}}#s(e){const t=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...H8(n.data,this.options),fetchMeta:e.meta??null};case"success":const r={...n,..._E(e.data,e.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=e.manual?r:void 0,r;case"error":const i=e.error;return{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=t(this.state),Nr.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:e})})}};function H8(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:$8(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function _E(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function SE(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var QM=class extends lf{constructor(e,t){super(),this.options=t,this.#e=e,this.#s=null,this.#a=Jx(),this.bindMethods(),this.setOptions(t)}#e;#t=void 0;#n=void 0;#i=void 0;#r;#o;#a;#s;#m;#f;#h;#c;#u;#l;#p=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),EE(this.#t,this.options)?this.#d():this.updateResult(),this.#b())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Zx(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Zx(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#x(),this.#w(),this.#t.removeObserver(this)}setOptions(e){const t=this.options,n=this.#t;if(this.options=this.#e.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof js(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#_(),this.#t.setOptions(this.options),t._defaulted&&!B0(this.options,t)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const r=this.hasListeners();r&&CE(this.#t,n,this.options,t)&&this.#d(),this.updateResult(),r&&(this.#t!==n||js(this.options.enabled,this.#t)!==js(t.enabled,this.#t)||Tl(this.options.staleTime,this.#t)!==Tl(t.staleTime,this.#t))&&this.#g();const i=this.#y();r&&(this.#t!==n||js(this.options.enabled,this.#t)!==js(t.enabled,this.#t)||i!==this.#l)&&this.#v(i)}getOptimisticResult(e){const t=this.#e.getQueryCache().build(this.#e,e),n=this.createResult(t,e);return GM(this,n)&&(this.#i=n,this.#o=this.options,this.#r=this.#t.state),n}getCurrentResult(){return this.#i}trackResult(e,t){return new Proxy(e,{get:(n,r)=>(this.trackProp(r),t?.(r),r==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#a.status==="pending"&&this.#a.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,r))})}trackProp(e){this.#p.add(e)}getCurrentQuery(){return this.#t}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=this.#e.defaultQueryOptions(e),n=this.#e.getQueryCache().build(this.#e,t);return n.fetch().then(()=>this.createResult(n,t))}fetch(e){return this.#d({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#i))}#d(e){this.#_();let t=this.#t.fetch(this.options,e);return e?.throwOnError||(t=t.catch(Ei)),t}#g(){this.#x();const e=Tl(this.options.staleTime,this.#t);if(tu||this.#i.isStale||!Kx(e))return;const n=L8(this.#i.dataUpdatedAt,e)+1;this.#c=Uc.setTimeout(()=>{this.#i.isStale||this.updateResult()},n)}#y(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#v(e){this.#w(),this.#l=e,!(tu||js(this.options.enabled,this.#t)===!1||!Kx(this.#l)||this.#l===0)&&(this.#u=Uc.setInterval(()=>{(this.options.refetchIntervalInBackground||J_.isFocused())&&this.#d()},this.#l))}#b(){this.#g(),this.#v(this.#y())}#x(){this.#c&&(Uc.clearTimeout(this.#c),this.#c=void 0)}#w(){this.#u&&(Uc.clearInterval(this.#u),this.#u=void 0)}createResult(e,t){const n=this.#t,r=this.options,i=this.#i,s=this.#r,o=this.#o,l=e!==n?e.state:this.#n,{state:c}=e;let f={...c},p=!1,g;if(t._optimisticResults){const F=this.hasListeners(),$=!F&&EE(e,t),L=F&&CE(e,n,t,r);($||L)&&(f={...f,...H8(c.data,e.options)}),t._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:y,errorUpdatedAt:x,status:_}=f;g=f.data;let S=!1;if(t.placeholderData!==void 0&&g===void 0&&_==="pending"){let F;i?.isPlaceholderData&&t.placeholderData===o?.placeholderData?(F=i.data,S=!0):F=typeof t.placeholderData=="function"?t.placeholderData(this.#h?.state.data,this.#h):t.placeholderData,F!==void 0&&(_="success",g=Yx(i?.data,F,t),p=!0)}if(t.select&&g!==void 0&&!S)if(i&&g===s?.data&&t.select===this.#m)g=this.#f;else try{this.#m=t.select,g=t.select(g),g=Yx(i?.data,g,t),this.#f=g,this.#s=null}catch(F){this.#s=F}this.#s&&(y=this.#s,g=this.#f,x=Date.now(),_="error");const C=f.fetchStatus==="fetching",I=_==="pending",A=_==="error",z=I&&C,U=g!==void 0,N={status:_,fetchStatus:f.fetchStatus,isPending:I,isSuccess:_==="success",isError:A,isInitialLoading:z,isLoading:z,data:g,dataUpdatedAt:f.dataUpdatedAt,error:y,errorUpdatedAt:x,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>l.dataUpdateCount||f.errorUpdateCount>l.errorUpdateCount,isFetching:C,isRefetching:C&&!I,isLoadingError:A&&!U,isPaused:f.fetchStatus==="paused",isPlaceholderData:p,isRefetchError:A&&U,isStale:X_(e,t),refetch:this.refetch,promise:this.#a,isEnabled:js(t.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const F=N.data!==void 0,$=N.status==="error"&&!F,L=he=>{$?he.reject(N.error):F&&he.resolve(N.data)},Z=()=>{const he=this.#a=N.promise=Jx();L(he)},Y=this.#a;switch(Y.status){case"pending":e.queryHash===n.queryHash&&L(Y);break;case"fulfilled":($||N.data!==Y.value)&&Z();break;case"rejected":(!$||N.error!==Y.reason)&&Z();break}}return N}updateResult(){const e=this.#i,t=this.createResult(this.#t,this.options);if(this.#r=this.#t.state,this.#o=this.options,this.#r.data!==void 0&&(this.#h=this.#t),B0(t,e))return;this.#i=t;const n=()=>{if(!e)return!0;const{notifyOnChangeProps:r}=this.options,i=typeof r=="function"?r():r;if(i==="all"||!i&&!this.#p.size)return!0;const s=new Set(i??this.#p);return this.options.throwOnError&&s.add("error"),Object.keys(this.#i).some(o=>{const a=o;return this.#i[a]!==e[a]&&s.has(a)})};this.#S({listeners:n()})}#_(){const e=this.#e.getQueryCache().build(this.#e,this.options);if(e===this.#t)return;const t=this.#t;this.#t=e,this.#n=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#b()}#S(e){Nr.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(this.#i)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function KM(e,t){return js(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function EE(e,t){return KM(e,t)||e.state.data!==void 0&&Zx(e,t,t.refetchOnMount)}function Zx(e,t,n){if(js(t.enabled,e)!==!1&&Tl(t.staleTime,e)!=="static"){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&X_(e,t)}return!1}function CE(e,t,n,r){return(e!==t||js(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&X_(e,n)}function X_(e,t){return js(t.enabled,e)!==!1&&e.isStaleByTime(Tl(t.staleTime,e))}function GM(e,t){return!B0(e.getCurrentResult(),t)}function kE(e){return{onFetch:(t,n)=>{const r=t.options,i=t.fetchOptions?.meta?.fetchMore?.direction,s=t.state.data?.pages||[],o=t.state.data?.pageParams||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let f=!1;const p=x=>{$M(x,()=>t.signal,()=>f=!0)},g=B8(t.options,t.fetchOptions),y=async(x,_,S)=>{if(f)return Promise.reject();if(_==null&&x.pages.length)return Promise.resolve(x);const I=(()=>{const O={client:t.client,queryKey:t.queryKey,pageParam:_,direction:S?"backward":"forward",meta:t.options.meta};return p(O),O})(),A=await g(I),{maxPages:z}=t.options,U=S?BM:FM;return{pages:U(x.pages,A,z),pageParams:U(x.pageParams,_,z)}};if(i&&s.length){const x=i==="backward",_=x?YM:TE,S={pages:s,pageParams:o},C=_(r,S);a=await y(S,C,x)}else{const x=e??s.length;do{const _=l===0?o[0]??r.initialPageParam:TE(r,a);if(l>0&&_==null)break;a=await y(a,_),l++}while(l<x)}return a};t.options.persister?t.fetchFn=()=>t.options.persister?.(c,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n):t.fetchFn=c}}}function TE(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function YM(e,{pages:t,pageParams:n}){return t.length>0?e.getPreviousPageParam?.(t[0],t,n[0],n):void 0}var JM=class extends U8{#e;#t;#n;#i;constructor(e){super(),this.#e=e.client,this.mutationId=e.mutationId,this.#n=e.mutationCache,this.#t=[],this.state=e.state||W8(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(t=>t!==e),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#i?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#r({type:"continue"})},n={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#i=z8({fn:()=>this.options.mutationFn?this.options.mutationFn(e,n):Promise.reject(new Error("No mutationFn found")),onFail:(s,o)=>{this.#r({type:"failed",failureCount:s,error:o})},onPause:()=>{this.#r({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const r=this.state.status==="pending",i=!this.#i.canStart();try{if(r)t();else{this.#r({type:"pending",variables:e,isPaused:i}),this.#n.config.onMutate&&await this.#n.config.onMutate(e,this,n);const o=await this.options.onMutate?.(e,n);o!==this.state.context&&this.#r({type:"pending",context:o,variables:e,isPaused:i})}const s=await this.#i.start();return await this.#n.config.onSuccess?.(s,e,this.state.context,this,n),await this.options.onSuccess?.(s,e,this.state.context,n),await this.#n.config.onSettled?.(s,null,this.state.variables,this.state.context,this,n),await this.options.onSettled?.(s,null,e,this.state.context,n),this.#r({type:"success",data:s}),s}catch(s){try{await this.#n.config.onError?.(s,e,this.state.context,this,n)}catch(o){Promise.reject(o)}try{await this.options.onError?.(s,e,this.state.context,n)}catch(o){Promise.reject(o)}try{await this.#n.config.onSettled?.(void 0,s,this.state.variables,this.state.context,this,n)}catch(o){Promise.reject(o)}try{await this.options.onSettled?.(void 0,s,e,this.state.context,n)}catch(o){Promise.reject(o)}throw this.#r({type:"error",error:s}),s}finally{this.#n.runNext(this)}}#r(e){const t=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),Nr.batch(()=>{this.#t.forEach(n=>{n.onMutationUpdate(e)}),this.#n.notify({mutation:this,type:"updated",action:e})})}};function W8(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var XM=class extends lf{constructor(e={}){super(),this.config=e,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(e,t,n){const r=new JM({client:e,mutationCache:this,mutationId:++this.#n,options:e.defaultMutationOptions(t),state:n});return this.add(r),r}add(e){this.#e.add(e);const t=gg(e);if(typeof t=="string"){const n=this.#t.get(t);n?n.push(e):this.#t.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#e.delete(e)){const t=gg(e);if(typeof t=="string"){const n=this.#t.get(t);if(n)if(n.length>1){const r=n.indexOf(e);r!==-1&&n.splice(r,1)}else n[0]===e&&this.#t.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=gg(e);if(typeof t=="string"){const r=this.#t.get(t)?.find(i=>i.state.status==="pending");return!r||r===e}else return!0}runNext(e){const t=gg(e);return typeof t=="string"?this.#t.get(t)?.find(r=>r!==e&&r.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){Nr.batch(()=>{this.#e.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(e){const t={exact:!0,...e};return this.getAll().find(n=>bE(t,n))}findAll(e={}){return this.getAll().filter(t=>bE(e,t))}notify(e){Nr.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return Nr.batch(()=>Promise.all(e.map(t=>t.continue().catch(Ei))))}};function gg(e){return e.options.scope?.id}var ZM=class extends lf{#e;#t=void 0;#n;#i;constructor(t,n){super(),this.#e=t,this.setOptions(n),this.bindMethods(),this.#r()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){const n=this.options;this.options=this.#e.defaultMutationOptions(t),B0(this.options,n)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),n?.mutationKey&&this.options.mutationKey&&nu(n.mutationKey)!==nu(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(t){this.#r(),this.#o(t)}getCurrentResult(){return this.#t}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#r(),this.#o()}mutate(t,n){return this.#i=n,this.#n?.removeObserver(this),this.#n=this.#e.getMutationCache().build(this.#e,this.options),this.#n.addObserver(this),this.#n.execute(t)}#r(){const t=this.#n?.state??W8();this.#t={...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset}}#o(t){Nr.batch(()=>{if(this.#i&&this.hasListeners()){const n=this.#t.variables,r=this.#t.context,i={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};if(t?.type==="success"){try{this.#i.onSuccess?.(t.data,n,r,i)}catch(s){Promise.reject(s)}try{this.#i.onSettled?.(t.data,null,n,r,i)}catch(s){Promise.reject(s)}}else if(t?.type==="error"){try{this.#i.onError?.(t.error,n,r,i)}catch(s){Promise.reject(s)}try{this.#i.onSettled?.(void 0,t.error,n,r,i)}catch(s){Promise.reject(s)}}}this.listeners.forEach(n=>{n(this.#t)})})}},eD=class extends lf{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,t,n){const r=t.queryKey,i=t.queryHash??K_(r,t);let s=this.get(i);return s||(s=new qM({client:e,queryKey:r,queryHash:i,options:e.defaultQueryOptions(t),state:n,defaultOptions:e.getQueryDefaults(r)}),this.add(s)),s}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#e.get(e.queryHash);t&&(e.destroy(),t===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Nr.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(n=>vE(t,n))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(n=>vE(e,n)):t}notify(e){Nr.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){Nr.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Nr.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},tD=class{#e;#t;#n;#i;#r;#o;#a;#s;constructor(e={}){this.#e=e.queryCache||new eD,this.#t=e.mutationCache||new XM,this.#n=e.defaultOptions||{},this.#i=new Map,this.#r=new Map,this.#o=0}mount(){this.#o++,this.#o===1&&(this.#a=J_.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#s=$0.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#o--,this.#o===0&&(this.#a?.(),this.#a=void 0,this.#s?.(),this.#s=void 0)}isFetching(e){return this.#e.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#t.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=this.#e.build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(Tl(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return this.#e.findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),s=this.#e.get(r.queryHash)?.state.data,o=MM(t,s);if(o!==void 0)return this.#e.build(this,r).setData(o,{...n,manual:!0})}setQueriesData(e,t,n){return Nr.batch(()=>this.#e.findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state}removeQueries(e){const t=this.#e;Nr.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=this.#e;return Nr.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=Nr.batch(()=>this.#e.findAll(e).map(i=>i.cancel(n)));return Promise.all(r).then(Ei).catch(Ei)}invalidateQueries(e,t={}){return Nr.batch(()=>(this.#e.findAll(e).forEach(n=>{n.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=Nr.batch(()=>this.#e.findAll(e).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let s=i.fetch(void 0,n);return n.throwOnError||(s=s.catch(Ei)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(Ei)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=this.#e.build(this,t);return n.isStaleByTime(Tl(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Ei).catch(Ei)}fetchInfiniteQuery(e){return e.behavior=kE(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Ei).catch(Ei)}ensureInfiniteQueryData(e){return e.behavior=kE(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return $0.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(e){this.#n=e}setQueryDefaults(e,t){this.#i.set(nu(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#i.values()],n={};return t.forEach(r=>{tp(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){this.#r.set(nu(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#r.values()],n={};return t.forEach(r=>{tp(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#n.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=K_(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===G_&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#n.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},V8=R.createContext(void 0),fs=e=>{const t=R.useContext(V8);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},nD=({client:e,children:t})=>(R.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),h.jsx(V8.Provider,{value:e,children:t})),q8=R.createContext(!1),rD=()=>R.useContext(q8);q8.Provider;function iD(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var sD=R.createContext(iD()),oD=()=>R.useContext(sD),aD=(e,t,n)=>{const r=n?.state.error&&typeof e.throwOnError=="function"?Y_(e.throwOnError,[n.state.error,n]):e.throwOnError;(e.suspense||e.experimental_prefetchInRender||r)&&(t.isReset()||(e.retryOnMount=!1))},lD=e=>{R.useEffect(()=>{e.clearReset()},[e])},cD=({result:e,errorResetBoundary:t,throwOnError:n,query:r,suspense:i})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(i&&e.data===void 0||Y_(n,[e.error,r])),uD=e=>{if(e.suspense){const n=i=>i==="static"?i:Math.max(i??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...i)=>n(r(...i)):n(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},dD=(e,t)=>e.isLoading&&e.isFetching&&!t,fD=(e,t)=>e?.suspense&&t.isPending,jE=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function hD(e,t,n){const r=rD(),i=oD(),s=fs(),o=s.defaultQueryOptions(e);s.getDefaultOptions().queries?._experimental_beforeQuery?.(o);const a=s.getQueryCache().get(o.queryHash);o._optimisticResults=r?"isRestoring":"optimistic",uD(o),aD(o,i,a),lD(i);const l=!s.getQueryCache().get(o.queryHash),[c]=R.useState(()=>new t(s,o)),f=c.getOptimisticResult(o),p=!r&&e.subscribed!==!1;if(R.useSyncExternalStore(R.useCallback(g=>{const y=p?c.subscribe(Nr.batchCalls(g)):Ei;return c.updateResult(),y},[c,p]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),R.useEffect(()=>{c.setOptions(o)},[o,c]),fD(o,f))throw jE(o,c,i);if(cD({result:f,errorResetBoundary:i,throwOnError:o.throwOnError,query:a,suspense:o.suspense}))throw f.error;return s.getDefaultOptions().queries?._experimental_afterQuery?.(o,f),o.experimental_prefetchInRender&&!tu&&dD(f,r)&&(l?jE(o,c,i):a?.promise)?.catch(Ei).finally(()=>{c.updateResult()}),o.notifyOnChangeProps?f:c.trackResult(f)}function po(e,t){return hD(e,QM)}function Wl(e,t){const n=fs(),[r]=R.useState(()=>new ZM(n,e));R.useEffect(()=>{r.setOptions(e)},[r,e]);const i=R.useSyncExternalStore(R.useCallback(o=>r.subscribe(Nr.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),s=R.useCallback((o,a)=>{r.mutate(o,a).catch(Ei)},[r]);if(i.error&&Y_(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:s,mutateAsync:i.mutate}}var gb={},yb={},vb={},IE;function pD(){return IE||(IE=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=function(){for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];if(typeof window<"u"){var a;typeof window.gtag>"u"&&(window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)}),(a=window).gtag.apply(a,s)}},n=t;e.default=n})(vb)),vb}var bb={},RE;function mD(){return RE||(RE=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var t=/^(a|an|and|as|at|but|by|en|for|if|in|nor|of|on|or|per|the|to|vs?\.?|via)$/i;function n(a){return a.toString().trim().replace(/[A-Za-z0-9\u00C0-\u00FF]+[^\s-]*/g,function(l,c,f){return c>0&&c+l.length!==f.length&&l.search(t)>-1&&f.charAt(c-2)!==":"&&(f.charAt(c+l.length)!=="-"||f.charAt(c-1)==="-")&&f.charAt(c-1).search(/[^\s-]/)<0?l.toLowerCase():l.substr(1).search(/[A-Z]|\../)>-1?l:l.charAt(0).toUpperCase()+l.substr(1)})}function r(a){return typeof a=="string"&&a.indexOf("@")!==-1}var i="REDACTED (Potential Email Address)";function s(a){return r(a)?(console.warn("This arg looks like an email address, redacting."),i):a}function o(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,f=a||"";return l&&(f=n(a)),c&&(f=s(f)),f}})(bb)),bb}var NE;function gD(){return NE||(NE=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.GA4=void 0;var t=o(pD()),n=o(mD()),r=["eventCategory","eventAction","eventLabel","eventValue","hitType"],i=["title","location"],s=["page","hitType"];function o(G){return G&&G.__esModule?G:{default:G}}function a(G,W){if(G==null)return{};var Q=l(G,W),te,X;if(Object.getOwnPropertySymbols){var fe=Object.getOwnPropertySymbols(G);for(X=0;X<fe.length;X++)te=fe[X],!(W.indexOf(te)>=0)&&Object.prototype.propertyIsEnumerable.call(G,te)&&(Q[te]=G[te])}return Q}function l(G,W){if(G==null)return{};var Q={},te=Object.keys(G),X,fe;for(fe=0;fe<te.length;fe++)X=te[fe],!(W.indexOf(X)>=0)&&(Q[X]=G[X]);return Q}function c(G){"@babel/helpers - typeof";return c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(W){return typeof W}:function(W){return W&&typeof Symbol=="function"&&W.constructor===Symbol&&W!==Symbol.prototype?"symbol":typeof W},c(G)}function f(G){return y(G)||g(G)||I(G)||p()}function p(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function g(G){if(typeof Symbol<"u"&&G[Symbol.iterator]!=null||G["@@iterator"]!=null)return Array.from(G)}function y(G){if(Array.isArray(G))return A(G)}function x(G,W){var Q=Object.keys(G);if(Object.getOwnPropertySymbols){var te=Object.getOwnPropertySymbols(G);W&&(te=te.filter(function(X){return Object.getOwnPropertyDescriptor(G,X).enumerable})),Q.push.apply(Q,te)}return Q}function _(G){for(var W=1;W<arguments.length;W++){var Q=arguments[W]!=null?arguments[W]:{};W%2?x(Object(Q),!0).forEach(function(te){$(G,te,Q[te])}):Object.getOwnPropertyDescriptors?Object.defineProperties(G,Object.getOwnPropertyDescriptors(Q)):x(Object(Q)).forEach(function(te){Object.defineProperty(G,te,Object.getOwnPropertyDescriptor(Q,te))})}return G}function S(G,W){return U(G)||z(G,W)||I(G,W)||C()}function C(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function I(G,W){if(G){if(typeof G=="string")return A(G,W);var Q=Object.prototype.toString.call(G).slice(8,-1);if(Q==="Object"&&G.constructor&&(Q=G.constructor.name),Q==="Map"||Q==="Set")return Array.from(G);if(Q==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Q))return A(G,W)}}function A(G,W){(W==null||W>G.length)&&(W=G.length);for(var Q=0,te=new Array(W);Q<W;Q++)te[Q]=G[Q];return te}function z(G,W){var Q=G==null?null:typeof Symbol<"u"&&G[Symbol.iterator]||G["@@iterator"];if(Q!=null){var te,X,fe,B,ee=[],ge=!0,V=!1;try{if(fe=(Q=Q.call(G)).next,W!==0)for(;!(ge=(te=fe.call(Q)).done)&&(ee.push(te.value),ee.length!==W);ge=!0);}catch(Te){V=!0,X=Te}finally{try{if(!ge&&Q.return!=null&&(B=Q.return(),Object(B)!==B))return}finally{if(V)throw X}}return ee}}function U(G){if(Array.isArray(G))return G}function O(G,W){if(!(G instanceof W))throw new TypeError("Cannot call a class as a function")}function N(G,W){for(var Q=0;Q<W.length;Q++){var te=W[Q];te.enumerable=te.enumerable||!1,te.configurable=!0,"value"in te&&(te.writable=!0),Object.defineProperty(G,L(te.key),te)}}function F(G,W,Q){return W&&N(G.prototype,W),Object.defineProperty(G,"prototype",{writable:!1}),G}function $(G,W,Q){return W=L(W),W in G?Object.defineProperty(G,W,{value:Q,enumerable:!0,configurable:!0,writable:!0}):G[W]=Q,G}function L(G){var W=Z(G,"string");return c(W)==="symbol"?W:String(W)}function Z(G,W){if(c(G)!=="object"||G===null)return G;var Q=G[Symbol.toPrimitive];if(Q!==void 0){var te=Q.call(G,W);if(c(te)!=="object")return te;throw new TypeError("@@toPrimitive must return a primitive value.")}return(W==="string"?String:Number)(G)}var Y=(function(){function G(){var W=this;O(this,G),$(this,"reset",function(){W.isInitialized=!1,W._testMode=!1,W._currentMeasurementId,W._hasLoadedGA=!1,W._isQueuing=!1,W._queueGtag=[]}),$(this,"_gtag",function(){for(var Q=arguments.length,te=new Array(Q),X=0;X<Q;X++)te[X]=arguments[X];W._testMode||W._isQueuing?W._queueGtag.push(te):t.default.apply(void 0,te)}),$(this,"_loadGA",function(Q,te){var X=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"https://www.googletagmanager.com/gtag/js";if(!(typeof window>"u"||typeof document>"u")&&!W._hasLoadedGA){var fe=document.createElement("script");fe.async=!0,fe.src="".concat(X,"?id=").concat(Q),te&&fe.setAttribute("nonce",te),document.body.appendChild(fe),window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)},W._hasLoadedGA=!0}}),$(this,"_toGtagOptions",function(Q){if(Q){var te={cookieUpdate:"cookie_update",cookieExpires:"cookie_expires",cookieDomain:"cookie_domain",cookieFlags:"cookie_flags",userId:"user_id",clientId:"client_id",anonymizeIp:"anonymize_ip",contentGroup1:"content_group1",contentGroup2:"content_group2",contentGroup3:"content_group3",contentGroup4:"content_group4",contentGroup5:"content_group5",allowAdFeatures:"allow_google_signals",allowAdPersonalizationSignals:"allow_ad_personalization_signals",nonInteraction:"non_interaction",page:"page_path",hitCallback:"event_callback"},X=Object.entries(Q).reduce(function(fe,B){var ee=S(B,2),ge=ee[0],V=ee[1];return te[ge]?fe[te[ge]]=V:fe[ge]=V,fe},{});return X}}),$(this,"initialize",function(Q){var te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!Q)throw new Error("Require GA_MEASUREMENT_ID");var X=typeof Q=="string"?[{trackingId:Q}]:Q;W._currentMeasurementId=X[0].trackingId;var fe=te.gaOptions,B=te.gtagOptions,ee=te.nonce,ge=te.testMode,V=ge===void 0?!1:ge,Te=te.gtagUrl;if(W._testMode=V,V||W._loadGA(W._currentMeasurementId,ee,Te),W.isInitialized||(W._gtag("js",new Date),X.forEach(function(Ve){var Ue=_(_(_({},W._toGtagOptions(_(_({},fe),Ve.gaOptions))),B),Ve.gtagOptions);Object.keys(Ue).length?W._gtag("config",Ve.trackingId,Ue):W._gtag("config",Ve.trackingId)})),W.isInitialized=!0,!V){var Ce=f(W._queueGtag);for(W._queueGtag=[],W._isQueuing=!1;Ce.length;){var ke=Ce.shift();W._gtag.apply(W,f(ke)),ke[0]==="get"&&(W._isQueuing=!0)}}}),$(this,"set",function(Q){if(!Q){console.warn("`fieldsObject` is required in .set()");return}if(c(Q)!=="object"){console.warn("Expected `fieldsObject` arg to be an Object");return}Object.keys(Q).length===0&&console.warn("empty `fieldsObject` given to .set()"),W._gaCommand("set",Q)}),$(this,"_gaCommandSendEvent",function(Q,te,X,fe,B){W._gtag("event",te,_(_({event_category:Q,event_label:X,value:fe},B&&{non_interaction:B.nonInteraction}),W._toGtagOptions(B)))}),$(this,"_gaCommandSendEventParameters",function(){for(var Q=arguments.length,te=new Array(Q),X=0;X<Q;X++)te[X]=arguments[X];if(typeof te[0]=="string")W._gaCommandSendEvent.apply(W,f(te.slice(1)));else{var fe=te[0],B=fe.eventCategory,ee=fe.eventAction,ge=fe.eventLabel,V=fe.eventValue;fe.hitType;var Te=a(fe,r);W._gaCommandSendEvent(B,ee,ge,V,Te)}}),$(this,"_gaCommandSendTiming",function(Q,te,X,fe){W._gtag("event","timing_complete",{name:te,value:X,event_category:Q,event_label:fe})}),$(this,"_gaCommandSendPageview",function(Q,te){if(te&&Object.keys(te).length){var X=W._toGtagOptions(te),fe=X.title,B=X.location,ee=a(X,i);W._gtag("event","page_view",_(_(_(_({},Q&&{page_path:Q}),fe&&{page_title:fe}),B&&{page_location:B}),ee))}else Q?W._gtag("event","page_view",{page_path:Q}):W._gtag("event","page_view")}),$(this,"_gaCommandSendPageviewParameters",function(){for(var Q=arguments.length,te=new Array(Q),X=0;X<Q;X++)te[X]=arguments[X];if(typeof te[0]=="string")W._gaCommandSendPageview.apply(W,f(te.slice(1)));else{var fe=te[0],B=fe.page;fe.hitType;var ee=a(fe,s);W._gaCommandSendPageview(B,ee)}}),$(this,"_gaCommandSend",function(){for(var Q=arguments.length,te=new Array(Q),X=0;X<Q;X++)te[X]=arguments[X];var fe=typeof te[0]=="string"?te[0]:te[0].hitType;switch(fe){case"event":W._gaCommandSendEventParameters.apply(W,te);break;case"pageview":W._gaCommandSendPageviewParameters.apply(W,te);break;case"timing":W._gaCommandSendTiming.apply(W,f(te.slice(1)));break;case"screenview":case"transaction":case"item":case"social":case"exception":console.warn("Unsupported send command: ".concat(fe));break;default:console.warn("Send command doesn't exist: ".concat(fe))}}),$(this,"_gaCommandSet",function(){for(var Q=arguments.length,te=new Array(Q),X=0;X<Q;X++)te[X]=arguments[X];typeof te[0]=="string"&&(te[0]=$({},te[0],te[1])),W._gtag("set",W._toGtagOptions(te[0]))}),$(this,"_gaCommand",function(Q){for(var te=arguments.length,X=new Array(te>1?te-1:0),fe=1;fe<te;fe++)X[fe-1]=arguments[fe];switch(Q){case"send":W._gaCommandSend.apply(W,X);break;case"set":W._gaCommandSet.apply(W,X);break;default:console.warn("Command doesn't exist: ".concat(Q))}}),$(this,"ga",function(){for(var Q=arguments.length,te=new Array(Q),X=0;X<Q;X++)te[X]=arguments[X];if(typeof te[0]=="string")W._gaCommand.apply(W,te);else{var fe=te[0];W._gtag("get",W._currentMeasurementId,"client_id",function(B){W._isQueuing=!1;var ee=W._queueGtag;for(fe({get:function(Te){return Te==="clientId"?B:Te==="trackingId"?W._currentMeasurementId:Te==="apiVersion"?"1":void 0}});ee.length;){var ge=ee.shift();W._gtag.apply(W,f(ge))}}),W._isQueuing=!0}return W.ga}),$(this,"event",function(Q,te){if(typeof Q=="string")W._gtag("event",Q,W._toGtagOptions(te));else{var X=Q.action,fe=Q.category,B=Q.label,ee=Q.value,ge=Q.nonInteraction,V=Q.transport;if(!fe||!X){console.warn("args.category AND args.action are required in event()");return}var Te={hitType:"event",eventCategory:(0,n.default)(fe),eventAction:(0,n.default)(X)};B&&(Te.eventLabel=(0,n.default)(B)),typeof ee<"u"&&(typeof ee!="number"?console.warn("Expected `args.value` arg to be a Number."):Te.eventValue=ee),typeof ge<"u"&&(typeof ge!="boolean"?console.warn("`args.nonInteraction` must be a boolean."):Te.nonInteraction=ge),typeof V<"u"&&(typeof V!="string"?console.warn("`args.transport` must be a string."):(["beacon","xhr","image"].indexOf(V)===-1&&console.warn("`args.transport` must be either one of these values: `beacon`, `xhr` or `image`"),Te.transport=V)),W._gaCommand("send",Te)}}),$(this,"send",function(Q){W._gaCommand("send",Q)}),this.reset()}return F(G,[{key:"gtag",value:function(){this._gtag.apply(this,arguments)}}]),G})();e.GA4=Y;var he=new Y;e.default=he})(yb)),yb}var OE;function yD(){return OE||(OE=1,(function(e){function t(a){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},t(a)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.ReactGAImplementation=void 0;var n=i(gD());function r(a){if(typeof WeakMap!="function")return null;var l=new WeakMap,c=new WeakMap;return(r=function(p){return p?c:l})(a)}function i(a,l){if(a&&a.__esModule)return a;if(a===null||t(a)!=="object"&&typeof a!="function")return{default:a};var c=r(l);if(c&&c.has(a))return c.get(a);var f={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var g in a)if(g!=="default"&&Object.prototype.hasOwnProperty.call(a,g)){var y=p?Object.getOwnPropertyDescriptor(a,g):null;y&&(y.get||y.set)?Object.defineProperty(f,g,y):f[g]=a[g]}return f.default=a,c&&c.set(a,f),f}var s=n.GA4;e.ReactGAImplementation=s;var o=n.default;e.default=o})(gb)),gb}var vD=yD();const bD=ds(vD);function xD(e){try{(function(t,n,r,i,s,o,a){n.getElementById("clarity-script")||(t[r]=t[r]||function(){(t[r].q=t[r].q||[]).push(arguments)},o=n.createElement(i),o.async=1,o.src="https://www.clarity.ms/tag/"+s+"?ref=npm",o.id="clarity-script",a=n.getElementsByTagName(i)[0],a.parentNode.insertBefore(o,a))})(window,document,"clarity","script",e);return}catch{return}}const wD={init(e){xD(e)},setTag(e,t){window.clarity("set",e,t)},identify(e,t,n,r){window.clarity("identify",e,t,n,r)},consent(e=!0){window.clarity("consent",e)},consentV2(e={ad_Storage:"granted",analytics_Storage:"granted"}){window.clarity("consentv2",e)},upgrade(e){window.clarity("upgrade",e)},event(e){window.clarity("event",e)}},Ft=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Kc="8.55.0",on=globalThis;function Dy(e,t,n){const r=n||on,i=r.__SENTRY__=r.__SENTRY__||{},s=i[Kc]=i[Kc]||{};return s[e]||(s[e]=t())}const Vl=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,_D="Sentry Logger ",ew=["debug","info","warn","error","log","assert","trace"],z0={};function ql(e){if(!("console"in on))return e();const t=on.console,n={},r=Object.keys(z0);r.forEach(i=>{const s=z0[i];n[i]=t[i],t[i]=s});try{return e()}finally{r.forEach(i=>{t[i]=n[i]})}}function SD(){let e=!1;const t={enable:()=>{e=!0},disable:()=>{e=!1},isEnabled:()=>e};return Vl?ew.forEach(n=>{t[n]=(...r)=>{e&&ql(()=>{on.console[n](`${_D}[${n}]:`,...r)})}}):ew.forEach(n=>{t[n]=()=>{}}),t}const Ge=Dy("logger",SD),Q8=50,ru="?",PE=/\(error: (.*)\)/,AE=/captureMessage|captureException/;function K8(...e){const t=e.sort((n,r)=>n[0]-r[0]).map(n=>n[1]);return(n,r=0,i=0)=>{const s=[],o=n.split(`
`);for(let a=r;a<o.length;a++){const l=o[a];if(l.length>1024)continue;const c=PE.test(l)?l.replace(PE,"$1"):l;if(!c.match(/\S*Error: /)){for(const f of t){const p=f(c);if(p){s.push(p);break}}if(s.length>=Q8+i)break}}return CD(s.slice(i))}}function ED(e){return Array.isArray(e)?K8(...e):e}function CD(e){if(!e.length)return[];const t=Array.from(e);return/sentryWrapped/.test(yg(t).function||"")&&t.pop(),t.reverse(),AE.test(yg(t).function||"")&&(t.pop(),AE.test(yg(t).function||"")&&t.pop()),t.slice(0,Q8).map(n=>({...n,filename:n.filename||yg(t).filename,function:n.function||ru}))}function yg(e){return e[e.length-1]||{}}const xb="<anonymous>";function Ca(e){try{return!e||typeof e!="function"?xb:e.name||xb}catch{return xb}}function ME(e){const t=e.exception;if(t){const n=[];try{return t.values.forEach(r=>{r.stacktrace.frames&&n.push(...r.stacktrace.frames)}),n}catch{return}}}const S0={},DE={};function Ql(e,t){S0[e]=S0[e]||[],S0[e].push(t)}function Kl(e,t){if(!DE[e]){DE[e]=!0;try{t()}catch(n){Vl&&Ge.error(`Error while instrumenting ${e}`,n)}}}function Ns(e,t){const n=e&&S0[e];if(n)for(const r of n)try{r(t)}catch(i){Vl&&Ge.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${Ca(r)}
Error:`,i)}}let wb=null;function G8(e){const t="error";Ql(t,e),Kl(t,kD)}function kD(){wb=on.onerror,on.onerror=function(e,t,n,r,i){return Ns("error",{column:r,error:i,line:n,msg:e,url:t}),wb?wb.apply(this,arguments):!1},on.onerror.__SENTRY_INSTRUMENTED__=!0}let _b=null;function Y8(e){const t="unhandledrejection";Ql(t,e),Kl(t,TD)}function TD(){_b=on.onunhandledrejection,on.onunhandledrejection=function(e){return Ns("unhandledrejection",e),_b?_b.apply(this,arguments):!0},on.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}function fu(){return Z_(on),on}function Z_(e){const t=e.__SENTRY__=e.__SENTRY__||{};return t.version=t.version||Kc,t[Kc]=t[Kc]||{}}const J8=Object.prototype.toString;function e2(e){switch(J8.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return ka(e,Error)}}function cf(e,t){return J8.call(e)===`[object ${t}]`}function X8(e){return cf(e,"ErrorEvent")}function LE(e){return cf(e,"DOMError")}function jD(e){return cf(e,"DOMException")}function wa(e){return cf(e,"String")}function t2(e){return typeof e=="object"&&e!==null&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function n2(e){return e===null||t2(e)||typeof e!="object"&&typeof e!="function"}function Vd(e){return cf(e,"Object")}function Ly(e){return typeof Event<"u"&&ka(e,Event)}function ID(e){return typeof Element<"u"&&ka(e,Element)}function RD(e){return cf(e,"RegExp")}function Fy(e){return!!(e&&e.then&&typeof e.then=="function")}function ND(e){return Vd(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function ka(e,t){try{return e instanceof t}catch{return!1}}function Z8(e){return!!(typeof e=="object"&&e!==null&&(e.__isVue||e._isVue))}const Ld=on,OD=80;function Ta(e,t={}){if(!e)return"<unknown>";try{let n=e;const r=5,i=[];let s=0,o=0;const a=" > ",l=a.length;let c;const f=Array.isArray(t)?t:t.keyAttrs,p=!Array.isArray(t)&&t.maxStringLength||OD;for(;n&&s++<r&&(c=PD(n,f),!(c==="html"||s>1&&o+i.length*l+c.length>=p));)i.push(c),o+=c.length,n=n.parentNode;return i.reverse().join(a)}catch{return"<unknown>"}}function PD(e,t){const n=e,r=[];if(!n||!n.tagName)return"";if(Ld.HTMLElement&&n instanceof HTMLElement&&n.dataset){if(n.dataset.sentryComponent)return n.dataset.sentryComponent;if(n.dataset.sentryElement)return n.dataset.sentryElement}r.push(n.tagName.toLowerCase());const i=t&&t.length?t.filter(o=>n.getAttribute(o)).map(o=>[o,n.getAttribute(o)]):null;if(i&&i.length)i.forEach(o=>{r.push(`[${o[0]}="${o[1]}"]`)});else{n.id&&r.push(`#${n.id}`);const o=n.className;if(o&&wa(o)){const a=o.split(/\s+/);for(const l of a)r.push(`.${l}`)}}const s=["aria-label","type","name","title","alt"];for(const o of s){const a=n.getAttribute(o);a&&r.push(`[${o}="${a}"]`)}return r.join("")}function e7(){try{return Ld.document.location.href}catch{return""}}function AD(e){return Ld.document&&Ld.document.querySelector?Ld.document.querySelector(e):null}function t7(e){if(!Ld.HTMLElement)return null;let t=e;const n=5;for(let r=0;r<n;r++){if(!t)return null;if(t instanceof HTMLElement){if(t.dataset.sentryComponent)return t.dataset.sentryComponent;if(t.dataset.sentryElement)return t.dataset.sentryElement}t=t.parentNode}return null}function Fd(e,t=0){return typeof e!="string"||t===0||e.length<=t?e:`${e.slice(0,t)}...`}function FE(e,t){if(!Array.isArray(e))return"";const n=[];for(let r=0;r<e.length;r++){const i=e[r];try{Z8(i)?n.push("[VueViewModel]"):n.push(String(i))}catch{n.push("[value cannot be serialized]")}}return n.join(t)}function MD(e,t,n=!1){return wa(e)?RD(t)?t.test(e):wa(t)?n?e===t:e.includes(t):!1:!1}function jl(e,t=[],n=!1){return t.some(r=>MD(e,r,n))}function Hi(e,t,n){if(!(t in e))return;const r=e[t],i=n(r);typeof i=="function"&&n7(i,r);try{e[t]=i}catch{Vl&&Ge.log(`Failed to replace method "${t}" in object`,e)}}function Ps(e,t,n){try{Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}catch{Vl&&Ge.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function n7(e,t){try{const n=t.prototype||{};e.prototype=t.prototype=n,Ps(e,"__sentry_original__",t)}catch{}}function r2(e){return e.__sentry_original__}function r7(e){if(e2(e))return{message:e.message,name:e.name,stack:e.stack,...$E(e)};if(Ly(e)){const t={type:e.type,target:BE(e.target),currentTarget:BE(e.currentTarget),...$E(e)};return typeof CustomEvent<"u"&&ka(e,CustomEvent)&&(t.detail=e.detail),t}else return e}function BE(e){try{return ID(e)?Ta(e):Object.prototype.toString.call(e)}catch{return"<unknown>"}}function $E(e){if(typeof e=="object"&&e!==null){const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}else return{}}function DD(e,t=40){const n=Object.keys(r7(e));n.sort();const r=n[0];if(!r)return"[object has no keys]";if(r.length>=t)return Fd(r,t);for(let i=n.length;i>0;i--){const s=n.slice(0,i).join(", ");if(!(s.length>t))return i===n.length?s:Fd(s,t)}return""}function Or(e){return tw(e,new Map)}function tw(e,t){if(LD(e)){const n=t.get(e);if(n!==void 0)return n;const r={};t.set(e,r);for(const i of Object.getOwnPropertyNames(e))typeof e[i]<"u"&&(r[i]=tw(e[i],t));return r}if(Array.isArray(e)){const n=t.get(e);if(n!==void 0)return n;const r=[];return t.set(e,r),e.forEach(i=>{r.push(tw(i,t))}),r}return e}function LD(e){if(!Vd(e))return!1;try{const t=Object.getPrototypeOf(e).constructor.name;return!t||t==="Object"}catch{return!0}}const i7=1e3;function Ap(){return Date.now()/i7}function FD(){const{performance:e}=on;if(!e||!e.now)return Ap;const t=Date.now()-e.now(),n=e.timeOrigin==null?t:e.timeOrigin;return()=>(n+e.now())/i7}const ji=FD(),Ii=(()=>{const{performance:e}=on;if(!e||!e.now)return;const t=3600*1e3,n=e.now(),r=Date.now(),i=e.timeOrigin?Math.abs(e.timeOrigin+n-r):t,s=i<t,o=e.timing&&e.timing.navigationStart,l=typeof o=="number"?Math.abs(o+n-r):t,c=l<t;return s||c?i<=l?e.timeOrigin:o:r})();function ls(){const e=on,t=e.crypto||e.msCrypto;let n=()=>Math.random()*16;try{if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,"");t&&t.getRandomValues&&(n=()=>{const r=new Uint8Array(1);return t.getRandomValues(r),r[0]})}catch{}return("10000000100040008000"+1e11).replace(/[018]/g,r=>(r^(n()&15)>>r/4).toString(16))}function s7(e){return e.exception&&e.exception.values?e.exception.values[0]:void 0}function fl(e){const{message:t,event_id:n}=e;if(t)return t;const r=s7(e);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}function nw(e,t,n){const r=e.exception=e.exception||{},i=r.values=r.values||[],s=i[0]=i[0]||{};s.value||(s.value=t||""),s.type||(s.type="Error")}function qd(e,t){const n=s7(e);if(!n)return;const r={type:"generic",handled:!0},i=n.mechanism;if(n.mechanism={...r,...i,...t},t&&"data"in t){const s={...i&&i.data,...t.data};n.mechanism.data=s}}function zE(e){if(BD(e))return!0;try{Ps(e,"__sentry_captured__",!0)}catch{}return!1}function BD(e){try{return e.__sentry_captured__}catch{}}var ha;(function(e){e[e.PENDING=0]="PENDING";const n=1;e[e.RESOLVED=n]="RESOLVED";const r=2;e[e.REJECTED=r]="REJECTED"})(ha||(ha={}));function ja(e){return new Is(t=>{t(e)})}function U0(e){return new Is((t,n)=>{n(e)})}class Is{constructor(t){Is.prototype.__init.call(this),Is.prototype.__init2.call(this),Is.prototype.__init3.call(this),Is.prototype.__init4.call(this),this._state=ha.PENDING,this._handlers=[];try{t(this._resolve,this._reject)}catch(n){this._reject(n)}}then(t,n){return new Is((r,i)=>{this._handlers.push([!1,s=>{if(!t)r(s);else try{r(t(s))}catch(o){i(o)}},s=>{if(!n)i(s);else try{r(n(s))}catch(o){i(o)}}]),this._executeHandlers()})}catch(t){return this.then(n=>n,t)}finally(t){return new Is((n,r)=>{let i,s;return this.then(o=>{s=!1,i=o,t&&t()},o=>{s=!0,i=o,t&&t()}).then(()=>{if(s){r(i);return}n(i)})})}__init(){this._resolve=t=>{this._setResult(ha.RESOLVED,t)}}__init2(){this._reject=t=>{this._setResult(ha.REJECTED,t)}}__init3(){this._setResult=(t,n)=>{if(this._state===ha.PENDING){if(Fy(n)){n.then(this._resolve,this._reject);return}this._state=t,this._value=n,this._executeHandlers()}}}__init4(){this._executeHandlers=()=>{if(this._state===ha.PENDING)return;const t=this._handlers.slice();this._handlers=[],t.forEach(n=>{n[0]||(this._state===ha.RESOLVED&&n[1](this._value),this._state===ha.REJECTED&&n[2](this._value),n[0]=!0)})}}}function $D(e){const t=ji(),n={sid:ls(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>UD(n)};return e&&Qd(n,e),n}function Qd(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),!e.did&&!t.did&&(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||ji(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=t.sid.length===32?t.sid:ls()),t.init!==void 0&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),typeof t.started=="number"&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if(typeof t.duration=="number")e.duration=t.duration;else{const n=e.timestamp-e.started;e.duration=n>=0?n:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),typeof t.errors=="number"&&(e.errors=t.errors),t.status&&(e.status=t.status)}function zD(e,t){let n={};e.status==="ok"&&(n={status:"exited"}),Qd(e,n)}function UD(e){return Or({sid:`${e.sid}`,init:e.init,started:new Date(e.started*1e3).toISOString(),timestamp:new Date(e.timestamp*1e3).toISOString(),status:e.status,errors:e.errors,did:typeof e.did=="number"||typeof e.did=="string"?`${e.did}`:void 0,duration:e.duration,abnormal_mechanism:e.abnormal_mechanism,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}})}function Ol(){return ls()}function Pl(){return ls().substring(16)}function By(e,t,n=2){if(!t||typeof t!="object"||n<=0)return t;if(e&&t&&Object.keys(t).length===0)return e;const r={...e};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=By(r[i],t[i],n-1));return r}const rw="_sentrySpan";function np(e,t){t?Ps(e,rw,t):delete e[rw]}function H0(e){return e[rw]}const HD=100;class i2{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:Ol(),spanId:Pl()}}clone(){const t=new i2;return t._breadcrumbs=[...this._breadcrumbs],t._tags={...this._tags},t._extra={...this._extra},t._contexts={...this._contexts},this._contexts.flags&&(t._contexts.flags={values:[...this._contexts.flags.values]}),t._user=this._user,t._level=this._level,t._session=this._session,t._transactionName=this._transactionName,t._fingerprint=this._fingerprint,t._eventProcessors=[...this._eventProcessors],t._requestSession=this._requestSession,t._attachments=[...this._attachments],t._sdkProcessingMetadata={...this._sdkProcessingMetadata},t._propagationContext={...this._propagationContext},t._client=this._client,t._lastEventId=this._lastEventId,np(t,H0(this)),t}setClient(t){this._client=t}setLastEventId(t){this._lastEventId=t}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&Qd(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(t){return this._requestSession=t,this}setTags(t){return this._tags={...this._tags,...t},this._notifyScopeListeners(),this}setTag(t,n){return this._tags={...this._tags,[t]:n},this._notifyScopeListeners(),this}setExtras(t){return this._extra={...this._extra,...t},this._notifyScopeListeners(),this}setExtra(t,n){return this._extra={...this._extra,[t]:n},this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,n){return n===null?delete this._contexts[t]:this._contexts[t]=n,this._notifyScopeListeners(),this}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;const n=typeof t=="function"?t(this):t,[r,i]=n instanceof Al?[n.getScopeData(),n.getRequestSession()]:Vd(n)?[t,t.requestSession]:[],{tags:s,extra:o,user:a,contexts:l,level:c,fingerprint:f=[],propagationContext:p}=r||{};return this._tags={...this._tags,...s},this._extra={...this._extra,...o},this._contexts={...this._contexts,...l},a&&Object.keys(a).length&&(this._user=a),c&&(this._level=c),f.length&&(this._fingerprint=f),p&&(this._propagationContext=p),i&&(this._requestSession=i),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._session=void 0,np(this,void 0),this._attachments=[],this.setPropagationContext({traceId:Ol()}),this._notifyScopeListeners(),this}addBreadcrumb(t,n){const r=typeof n=="number"?n:HD;if(r<=0)return this;const i={timestamp:Ap(),...t};return this._breadcrumbs.push(i),this._breadcrumbs.length>r&&(this._breadcrumbs=this._breadcrumbs.slice(-r),this._client&&this._client.recordDroppedEvent("buffer_overflow","log_item")),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:H0(this)}}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata=By(this._sdkProcessingMetadata,t,2),this}setPropagationContext(t){return this._propagationContext={spanId:Pl(),...t},this}getPropagationContext(){return this._propagationContext}captureException(t,n){const r=n&&n.event_id?n.event_id:ls();if(!this._client)return Ge.warn("No client configured on scope - will not capture exception!"),r;const i=new Error("Sentry syntheticException");return this._client.captureException(t,{originalException:t,syntheticException:i,...n,event_id:r},this),r}captureMessage(t,n,r){const i=r&&r.event_id?r.event_id:ls();if(!this._client)return Ge.warn("No client configured on scope - will not capture message!"),i;const s=new Error(t);return this._client.captureMessage(t,n,{originalException:t,syntheticException:s,...r,event_id:i},this),i}captureEvent(t,n){const r=n&&n.event_id?n.event_id:ls();return this._client?(this._client.captureEvent(t,{...n,event_id:r},this),r):(Ge.warn("No client configured on scope - will not capture event!"),r)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(t=>{t(this)}),this._notifyingListeners=!1)}}const Al=i2;function WD(){return Dy("defaultCurrentScope",()=>new Al)}function VD(){return Dy("defaultIsolationScope",()=>new Al)}class qD{constructor(t,n){let r;t?r=t:r=new Al;let i;n?i=n:i=new Al,this._stack=[{scope:r}],this._isolationScope=i}withScope(t){const n=this._pushScope();let r;try{r=t(n)}catch(i){throw this._popScope(),i}return Fy(r)?r.then(i=>(this._popScope(),i),i=>{throw this._popScope(),i}):(this._popScope(),r)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const t=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:t}),t}_popScope(){return this._stack.length<=1?!1:!!this._stack.pop()}}function Kd(){const e=fu(),t=Z_(e);return t.stack=t.stack||new qD(WD(),VD())}function QD(e){return Kd().withScope(e)}function KD(e,t){const n=Kd();return n.withScope(()=>(n.getStackTop().scope=e,t(e)))}function UE(e){return Kd().withScope(()=>e(Kd().getIsolationScope()))}function GD(){return{withIsolationScope:UE,withScope:QD,withSetScope:KD,withSetIsolationScope:(e,t)=>UE(t),getCurrentScope:()=>Kd().getScope(),getIsolationScope:()=>Kd().getIsolationScope()}}function uf(e){const t=Z_(e);return t.acs?t.acs:GD()}function An(){const e=fu();return uf(e).getCurrentScope()}function mo(){const e=fu();return uf(e).getIsolationScope()}function YD(){return Dy("globalScope",()=>new Al)}function s2(...e){const t=fu(),n=uf(t);if(e.length===2){const[r,i]=e;return r?n.withSetScope(r,i):n.withScope(i)}return n.withScope(e[0])}function rn(){return An().getClient()}function JD(e){const t=e.getPropagationContext(),{traceId:n,spanId:r,parentSpanId:i}=t;return Or({trace_id:n,span_id:r,parent_span_id:i})}const XD="_sentryMetrics";function iw(e){const t=e[XD];if(!t)return;const n={};for(const[,[r,i]]of t)(n[r]||(n[r]=[])).push(Or(i));return n}const Po="sentry.source",o7="sentry.sample_rate",iu="sentry.op",Vr="sentry.origin",sw="sentry.idle_span_finish_reason",$y="sentry.measurement_unit",zy="sentry.measurement_value",HE="sentry.custom_span_name",ZD="sentry.profile_id",o2="sentry.exclusive_time",eL=0,a7=1,Hr=2;function tL(e){if(e<400&&e>=100)return{code:a7};if(e>=400&&e<500)switch(e){case 401:return{code:Hr,message:"unauthenticated"};case 403:return{code:Hr,message:"permission_denied"};case 404:return{code:Hr,message:"not_found"};case 409:return{code:Hr,message:"already_exists"};case 413:return{code:Hr,message:"failed_precondition"};case 429:return{code:Hr,message:"resource_exhausted"};case 499:return{code:Hr,message:"cancelled"};default:return{code:Hr,message:"invalid_argument"}}if(e>=500&&e<600)switch(e){case 501:return{code:Hr,message:"unimplemented"};case 503:return{code:Hr,message:"unavailable"};case 504:return{code:Hr,message:"deadline_exceeded"};default:return{code:Hr,message:"internal_error"}}return{code:Hr,message:"unknown_error"}}function l7(e,t){e.setAttribute("http.response.status_code",t);const n=tL(t);n.message!=="unknown_error"&&e.setStatus(n)}const a2="sentry-",nL=/^sentry-/,rL=8192;function c7(e){const t=sL(e);if(!t)return;const n=Object.entries(t).reduce((r,[i,s])=>{if(i.match(nL)){const o=i.slice(a2.length);r[o]=s}return r},{});if(Object.keys(n).length>0)return n}function iL(e){if(!e)return;const t=Object.entries(e).reduce((n,[r,i])=>(i&&(n[`${a2}${r}`]=i),n),{});return oL(t)}function sL(e){if(!(!e||!wa(e)&&!Array.isArray(e)))return Array.isArray(e)?e.reduce((t,n)=>{const r=WE(n);return Object.entries(r).forEach(([i,s])=>{t[i]=s}),t},{}):WE(e)}function WE(e){return e.split(",").map(t=>t.split("=").map(n=>decodeURIComponent(n.trim()))).reduce((t,[n,r])=>(n&&r&&(t[n]=r),t),{})}function oL(e){if(Object.keys(e).length!==0)return Object.entries(e).reduce((t,[n,r],i)=>{const s=`${encodeURIComponent(n)}=${encodeURIComponent(r)}`,o=i===0?s:`${t},${s}`;return o.length>rL?(Vl&&Ge.warn(`Not adding key: ${n} with val: ${r} to baggage header due to exceeding baggage size limits.`),t):o},"")}const u7=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function aL(e){if(!e)return;const t=e.match(u7);if(!t)return;let n;return t[3]==="1"?n=!0:t[3]==="0"&&(n=!1),{traceId:t[1],parentSampled:n,parentSpanId:t[2]}}function lL(e,t){const n=aL(e),r=c7(t);if(!n||!n.traceId)return{traceId:Ol(),spanId:Pl()};const{traceId:i,parentSpanId:s,parentSampled:o}=n,a=Pl();return{traceId:i,parentSpanId:s,spanId:a,sampled:o,dsc:r||{}}}function d7(e=Ol(),t=Pl(),n){let r="";return n!==void 0&&(r=n?"-1":"-0"),`${e}-${t}${r}`}const f7=0,h7=1;let VE=!1;function cL(e){const{spanId:t,traceId:n}=e.spanContext(),{data:r,op:i,parent_span_id:s,status:o,origin:a}=mn(e);return Or({parent_span_id:s,span_id:t,trace_id:n,data:r,op:i,status:o,origin:a})}function uL(e){const{spanId:t,traceId:n,isRemote:r}=e.spanContext(),i=r?t:mn(e).parent_span_id,s=r?Pl():t;return Or({parent_span_id:i,span_id:s,trace_id:n})}function dL(e){const{traceId:t,spanId:n}=e.spanContext(),r=hu(e);return d7(t,n,r)}function Gc(e){return typeof e=="number"?qE(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?qE(e.getTime()):ji()}function qE(e){return e>9999999999?e/1e3:e}function mn(e){if(hL(e))return e.getSpanJSON();try{const{spanId:t,traceId:n}=e.spanContext();if(fL(e)){const{attributes:r,startTime:i,name:s,endTime:o,parentSpanId:a,status:l}=e;return Or({span_id:t,trace_id:n,data:r,description:s,parent_span_id:a,start_timestamp:Gc(i),timestamp:Gc(o)||void 0,status:p7(l),op:r[iu],origin:r[Vr],_metrics_summary:iw(e)})}return{span_id:t,trace_id:n}}catch{return{}}}function fL(e){const t=e;return!!t.attributes&&!!t.startTime&&!!t.name&&!!t.endTime&&!!t.status}function hL(e){return typeof e.getSpanJSON=="function"}function hu(e){const{traceFlags:t}=e.spanContext();return t===h7}function p7(e){if(!(!e||e.code===eL))return e.code===a7?"ok":e.message||"unknown_error"}const Yc="_sentryChildSpans",ow="_sentryRootSpan";function m7(e,t){const n=e[ow]||e;Ps(t,ow,n),e[Yc]?e[Yc].add(t):Ps(e,Yc,new Set([t]))}function pL(e,t){e[Yc]&&e[Yc].delete(t)}function E0(e){const t=new Set;function n(r){if(!t.has(r)&&hu(r)){t.add(r);const i=r[Yc]?Array.from(r[Yc]):[];for(const s of i)n(s)}}return n(e),Array.from(t)}function ei(e){return e[ow]||e}function qr(){const e=fu(),t=uf(e);return t.getActiveSpan?t.getActiveSpan():H0(An())}function g7(){VE||(ql(()=>{console.warn("[Sentry] Deprecation warning: Returning null from `beforeSendSpan` will be disallowed from SDK version 9.0.0 onwards. The callback will only support mutating spans. To drop certain spans, configure the respective integrations directly.")}),VE=!0)}let QE=!1;function mL(){QE||(QE=!0,G8(aw),Y8(aw))}function aw(){const e=qr(),t=e&&ei(e);if(t){const n="internal_error";Ft&&Ge.log(`[Tracing] Root span: ${n} -> Global error occurred`),t.setStatus({code:Hr,message:n})}}aw.tag="sentry_tracingErrorCallback";const y7="_sentryScope",v7="_sentryIsolationScope";function gL(e,t,n){e&&(Ps(e,v7,n),Ps(e,y7,t))}function KE(e){return{scope:e[y7],isolationScope:e[v7]}}function Ml(e){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;const t=rn(),n=e||t&&t.getOptions();return!!n&&(n.enableTracing||"tracesSampleRate"in n||"tracesSampler"in n)}class df{constructor(t={}){this._traceId=t.traceId||Ol(),this._spanId=t.spanId||Pl()}spanContext(){return{spanId:this._spanId,traceId:this._traceId,traceFlags:f7}}end(t){}setAttribute(t,n){return this}setAttributes(t){return this}setStatus(t){return this}updateName(t){return this}isRecording(){return!1}addEvent(t,n,r){return this}addLink(t){return this}addLinks(t){return this}recordException(t,n){}}const l2="production",b7="_frozenDsc";function GE(e,t){Ps(e,b7,t)}function x7(e,t){const n=t.getOptions(),{publicKey:r}=t.getDsn()||{},i=Or({environment:n.environment||l2,release:n.release,public_key:r,trace_id:e});return t.emit("createDsc",i),i}function w7(e,t){const n=t.getPropagationContext();return n.dsc||x7(n.traceId,e)}function pu(e){const t=rn();if(!t)return{};const n=ei(e),r=n[b7];if(r)return r;const i=n.spanContext().traceState,s=i&&i.get("sentry.dsc"),o=s&&c7(s);if(o)return o;const a=x7(e.spanContext().traceId,t),l=mn(n),c=l.data||{},f=c[o7];f!=null&&(a.sample_rate=`${f}`);const p=c[Po],g=l.description;return p!=="url"&&g&&(a.transaction=g),Ml()&&(a.sampled=String(hu(n))),t.emit("createDsc",a,n),a}function yL(e){if(!Ft)return;const{description:t="< unknown name >",op:n="< unknown op >",parent_span_id:r}=mn(e),{spanId:i}=e.spanContext(),s=hu(e),o=ei(e),a=o===e,l=`[Tracing] Starting ${s?"sampled":"unsampled"} ${a?"root ":""}span`,c=[`op: ${n}`,`name: ${t}`,`ID: ${i}`];if(r&&c.push(`parent ID: ${r}`),!a){const{op:f,description:p}=mn(o);c.push(`root ID: ${o.spanContext().spanId}`),f&&c.push(`root op: ${f}`),p&&c.push(`root description: ${p}`)}Ge.log(`${l}
  ${c.join(`
  `)}`)}function vL(e){if(!Ft)return;const{description:t="< unknown name >",op:n="< unknown op >"}=mn(e),{spanId:r}=e.spanContext(),s=ei(e)===e,o=`[Tracing] Finishing "${n}" ${s?"root ":""}span "${t}" with ID ${r}`;Ge.log(o)}function W0(e){if(typeof e=="boolean")return Number(e);const t=typeof e=="string"?parseFloat(e):e;if(typeof t!="number"||isNaN(t)||t<0||t>1){Ft&&Ge.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(e)} of type ${JSON.stringify(typeof e)}.`);return}return t}function bL(e,t){if(!Ml(e))return[!1];const n=mo().getScopeData().sdkProcessingMetadata.normalizedRequest,r={...t,normalizedRequest:t.normalizedRequest||n};let i;typeof e.tracesSampler=="function"?i=e.tracesSampler(r):r.parentSampled!==void 0?i=r.parentSampled:typeof e.tracesSampleRate<"u"?i=e.tracesSampleRate:i=1;const s=W0(i);return s===void 0?(Ft&&Ge.warn("[Tracing] Discarding transaction because of invalid sample rate."),[!1]):s?Math.random()<s?[!0,s]:(Ft&&Ge.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(i)})`),[!1,s]):(Ft&&Ge.log(`[Tracing] Discarding transaction because ${typeof e.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),[!1,s])}const xL=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function wL(e){return e==="http"||e==="https"}function Mp(e,t=!1){const{host:n,path:r,pass:i,port:s,projectId:o,protocol:a,publicKey:l}=e;return`${a}://${l}${t&&i?`:${i}`:""}@${n}${s?`:${s}`:""}/${r&&`${r}/`}${o}`}function _L(e){const t=xL.exec(e);if(!t){ql(()=>{console.error(`Invalid Sentry Dsn: ${e}`)});return}const[n,r,i="",s="",o="",a=""]=t.slice(1);let l="",c=a;const f=c.split("/");if(f.length>1&&(l=f.slice(0,-1).join("/"),c=f.pop()),c){const p=c.match(/^\d+/);p&&(c=p[0])}return _7({host:s,pass:i,path:l,projectId:c,port:o,protocol:n,publicKey:r})}function _7(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function SL(e){if(!Vl)return!0;const{port:t,projectId:n,protocol:r}=e;return["protocol","publicKey","host","projectId"].find(o=>e[o]?!1:(Ge.error(`Invalid Sentry Dsn: ${o} missing`),!0))?!1:n.match(/^\d+$/)?wL(r)?t&&isNaN(parseInt(t,10))?(Ge.error(`Invalid Sentry Dsn: Invalid port ${t}`),!1):!0:(Ge.error(`Invalid Sentry Dsn: Invalid protocol ${r}`),!1):(Ge.error(`Invalid Sentry Dsn: Invalid projectId ${n}`),!1)}function EL(e){const t=typeof e=="string"?_L(e):_7(e);if(!(!t||!SL(t)))return t}function CL(){const e=typeof WeakSet=="function",t=e?new WeakSet:[];function n(i){if(e)return t.has(i)?!0:(t.add(i),!1);for(let s=0;s<t.length;s++)if(t[s]===i)return!0;return t.push(i),!1}function r(i){if(e)t.delete(i);else for(let s=0;s<t.length;s++)if(t[s]===i){t.splice(s,1);break}}return[n,r]}function no(e,t=100,n=1/0){try{return lw("",e,t,n)}catch(r){return{ERROR:`**non-serializable** (${r})`}}}function S7(e,t=3,n=100*1024){const r=no(e,t);return IL(r)>n?S7(e,t-1,n):r}function lw(e,t,n=1/0,r=1/0,i=CL()){const[s,o]=i;if(t==null||["boolean","string"].includes(typeof t)||typeof t=="number"&&Number.isFinite(t))return t;const a=kL(e,t);if(!a.startsWith("[object "))return a;if(t.__sentry_skip_normalization__)return t;const l=typeof t.__sentry_override_normalization_depth__=="number"?t.__sentry_override_normalization_depth__:n;if(l===0)return a.replace("object ","");if(s(t))return"[Circular ~]";const c=t;if(c&&typeof c.toJSON=="function")try{const y=c.toJSON();return lw("",y,l-1,r,i)}catch{}const f=Array.isArray(t)?[]:{};let p=0;const g=r7(t);for(const y in g){if(!Object.prototype.hasOwnProperty.call(g,y))continue;if(p>=r){f[y]="[MaxProperties ~]";break}const x=g[y];f[y]=lw(y,x,l-1,r,i),p++}return o(t),f}function kL(e,t){try{if(e==="domain"&&t&&typeof t=="object"&&t._events)return"[Domain]";if(e==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&t===global)return"[Global]";if(typeof window<"u"&&t===window)return"[Window]";if(typeof document<"u"&&t===document)return"[Document]";if(Z8(t))return"[VueViewModel]";if(ND(t))return"[SyntheticEvent]";if(typeof t=="number"&&!Number.isFinite(t))return`[${t}]`;if(typeof t=="function")return`[Function: ${Ca(t)}]`;if(typeof t=="symbol")return`[${String(t)}]`;if(typeof t=="bigint")return`[BigInt: ${String(t)}]`;const n=TL(t);return/^HTML(\w*)Element$/.test(n)?`[HTMLElement: ${n}]`:`[object ${n}]`}catch(n){return`**non-serializable** (${n})`}}function TL(e){const t=Object.getPrototypeOf(e);return t?t.constructor.name:"null prototype"}function jL(e){return~-encodeURI(e).split(/%..|./).length}function IL(e){return jL(JSON.stringify(e))}function mu(e,t=[]){return[e,t]}function RL(e,t){const[n,r]=e;return[n,[...r,t]]}function YE(e,t){const n=e[1];for(const r of n){const i=r[0].type;if(t(r,i))return!0}return!1}function cw(e){return on.__SENTRY__&&on.__SENTRY__.encodePolyfill?on.__SENTRY__.encodePolyfill(e):new TextEncoder().encode(e)}function NL(e){const[t,n]=e;let r=JSON.stringify(t);function i(s){typeof r=="string"?r=typeof s=="string"?r+s:[cw(r),s]:r.push(typeof s=="string"?cw(s):s)}for(const s of n){const[o,a]=s;if(i(`
${JSON.stringify(o)}
`),typeof a=="string"||a instanceof Uint8Array)i(a);else{let l;try{l=JSON.stringify(a)}catch{l=JSON.stringify(no(a))}i(l)}}return typeof r=="string"?r:OL(r)}function OL(e){const t=e.reduce((i,s)=>i+s.length,0),n=new Uint8Array(t);let r=0;for(const i of e)n.set(i,r),r+=i.length;return n}function PL(e){return[{type:"span"},e]}function AL(e){const t=typeof e.data=="string"?cw(e.data):e.data;return[Or({type:"attachment",length:t.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType}),t]}const ML={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"metric_bucket",raw_security:"security"};function JE(e){return ML[e]}function c2(e){if(!e||!e.sdk)return;const{name:t,version:n}=e.sdk;return{name:t,version:n}}function E7(e,t,n,r){const i=e.sdkProcessingMetadata&&e.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:e.event_id,sent_at:new Date().toISOString(),...t&&{sdk:t},...!!n&&r&&{dsn:Mp(r)},...i&&{trace:Or({...i})}}}function DL(e,t){return t&&(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||t.name,e.sdk.version=e.sdk.version||t.version,e.sdk.integrations=[...e.sdk.integrations||[],...t.integrations||[]],e.sdk.packages=[...e.sdk.packages||[],...t.packages||[]]),e}function LL(e,t,n,r){const i=c2(n),s={sent_at:new Date().toISOString(),...i&&{sdk:i},...!!r&&t&&{dsn:Mp(t)}},o="aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e.toJSON()];return mu(s,[o])}function FL(e,t,n,r){const i=c2(n),s=e.type&&e.type!=="replay_event"?e.type:"event";DL(e,n&&n.sdk);const o=E7(e,i,r,t);return delete e.sdkProcessingMetadata,mu(o,[[{type:s},e]])}function BL(e,t){function n(f){return!!f.trace_id&&!!f.public_key}const r=pu(e[0]),i=t&&t.getDsn(),s=t&&t.getOptions().tunnel,o={sent_at:new Date().toISOString(),...n(r)&&{trace:r},...!!s&&i&&{dsn:Mp(i)}},a=t&&t.getOptions().beforeSendSpan,l=a?f=>{const p=a(mn(f));return p||g7(),p}:f=>mn(f),c=[];for(const f of e){const p=l(f);p&&c.push(PL(p))}return mu(o,c)}function $L(e,t,n,r=qr()){const i=r&&ei(r);i&&(Ft&&Ge.log(`[Measurement] Setting measurement on root span: ${e} = ${t} ${n}`),i.addEvent(e,{[zy]:t,[$y]:n}))}function XE(e){if(!e||e.length===0)return;const t={};return e.forEach(n=>{const r=n.attributes||{},i=r[$y],s=r[zy];typeof i=="string"&&typeof s=="number"&&(t[n.name]={value:s,unit:i})}),t}const ZE=1e3;class u2{constructor(t={}){this._traceId=t.traceId||Ol(),this._spanId=t.spanId||Pl(),this._startTime=t.startTimestamp||ji(),this._attributes={},this.setAttributes({[Vr]:"manual",[iu]:t.op,...t.attributes}),this._name=t.name,t.parentSpanId&&(this._parentSpanId=t.parentSpanId),"sampled"in t&&(this._sampled=t.sampled),t.endTimestamp&&(this._endTime=t.endTimestamp),this._events=[],this._isStandaloneSpan=t.isStandalone,this._endTime&&this._onSpanEnded()}addLink(t){return this}addLinks(t){return this}recordException(t,n){}spanContext(){const{_spanId:t,_traceId:n,_sampled:r}=this;return{spanId:t,traceId:n,traceFlags:r?h7:f7}}setAttribute(t,n){return n===void 0?delete this._attributes[t]:this._attributes[t]=n,this}setAttributes(t){return Object.keys(t).forEach(n=>this.setAttribute(n,t[n])),this}updateStartTime(t){this._startTime=Gc(t)}setStatus(t){return this._status=t,this}updateName(t){return this._name=t,this.setAttribute(Po,"custom"),this}end(t){this._endTime||(this._endTime=Gc(t),vL(this),this._onSpanEnded())}getSpanJSON(){return Or({data:this._attributes,description:this._name,op:this._attributes[iu],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:p7(this._status),timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[Vr],_metrics_summary:iw(this),profile_id:this._attributes[ZD],exclusive_time:this._attributes[o2],measurements:XE(this._events),is_segment:this._isStandaloneSpan&&ei(this)===this||void 0,segment_id:this._isStandaloneSpan?ei(this).spanContext().spanId:void 0})}isRecording(){return!this._endTime&&!!this._sampled}addEvent(t,n,r){Ft&&Ge.log("[Tracing] Adding an event to span:",t);const i=eC(n)?n:r||ji(),s=eC(n)?{}:n||{},o={name:t,time:Gc(i),attributes:s};return this._events.push(o),this}isStandaloneSpan(){return!!this._isStandaloneSpan}_onSpanEnded(){const t=rn();if(t&&t.emit("spanEnd",this),!(this._isStandaloneSpan||this===ei(this)))return;if(this._isStandaloneSpan){this._sampled?UL(BL([this],t)):(Ft&&Ge.log("[Tracing] Discarding standalone span because its trace was not chosen to be sampled."),t&&t.recordDroppedEvent("sample_rate","span"));return}const r=this._convertSpanToTransaction();r&&(KE(this).scope||An()).captureEvent(r)}_convertSpanToTransaction(){if(!tC(mn(this)))return;this._name||(Ft&&Ge.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>");const{scope:t,isolationScope:n}=KE(this),i=(t||An()).getClient()||rn();if(this._sampled!==!0){Ft&&Ge.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled."),i&&i.recordDroppedEvent("sample_rate","transaction");return}const o=E0(this).filter(p=>p!==this&&!zL(p)).map(p=>mn(p)).filter(tC),a=this._attributes[Po];delete this._attributes[HE],o.forEach(p=>{p.data&&delete p.data[HE]});const l={contexts:{trace:cL(this)},spans:o.length>ZE?o.sort((p,g)=>p.start_timestamp-g.start_timestamp).slice(0,ZE):o,start_timestamp:this._startTime,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{capturedSpanScope:t,capturedSpanIsolationScope:n,...Or({dynamicSamplingContext:pu(this)})},_metrics_summary:iw(this),...a&&{transaction_info:{source:a}}},c=XE(this._events);return c&&Object.keys(c).length&&(Ft&&Ge.log("[Measurements] Adding measurements to transaction event",JSON.stringify(c,void 0,2)),l.measurements=c),l}}function eC(e){return e&&typeof e=="number"||e instanceof Date||Array.isArray(e)}function tC(e){return!!e.start_timestamp&&!!e.timestamp&&!!e.span_id&&!!e.trace_id}function zL(e){return e instanceof u2&&e.isStandaloneSpan()}function UL(e){const t=rn();if(!t)return;const n=e[1];if(!n||n.length===0){t.recordDroppedEvent("before_send","span");return}t.sendEnvelope(e)}const C7="__SENTRY_SUPPRESS_TRACING__";function Dp(e){const t=T7();if(t.startInactiveSpan)return t.startInactiveSpan(e);const n=WL(e),{forceTransaction:r,parentSpan:i}=e;return(e.scope?o=>s2(e.scope,o):i!==void 0?o=>k7(i,o):o=>o())(()=>{const o=An(),a=qL(o);return e.onlyIfParent&&!a?new df:HL({parentSpan:a,spanArguments:n,forceTransaction:r,scope:o})})}function k7(e,t){const n=T7();return n.withActiveSpan?n.withActiveSpan(e,t):s2(r=>(np(r,e||void 0),t(r)))}function HL({parentSpan:e,spanArguments:t,forceTransaction:n,scope:r}){if(!Ml())return new df;const i=mo();let s;if(e&&!n)s=VL(e,r,t),m7(e,s);else if(e){const o=pu(e),{traceId:a,spanId:l}=e.spanContext(),c=hu(e);s=nC({traceId:a,parentSpanId:l,...t},r,c),GE(s,o)}else{const{traceId:o,dsc:a,parentSpanId:l,sampled:c}={...i.getPropagationContext(),...r.getPropagationContext()};s=nC({traceId:o,parentSpanId:l,...t},r,c),a&&GE(s,a)}return yL(s),gL(s,r,i),s}function WL(e){const n={isStandalone:(e.experimental||{}).standalone,...e};if(e.startTime){const r={...n};return r.startTimestamp=Gc(e.startTime),delete r.startTime,r}return n}function T7(){const e=fu();return uf(e)}function nC(e,t,n){const r=rn(),i=r&&r.getOptions()||{},{name:s="",attributes:o}=e,[a,l]=t.getScopeData().sdkProcessingMetadata[C7]?[!1]:bL(i,{name:s,parentSampled:n,attributes:o,transactionContext:{name:s,parentSampled:n}}),c=new u2({...e,attributes:{[Po]:"custom",...e.attributes},sampled:a});return l!==void 0&&c.setAttribute(o7,l),r&&r.emit("spanStart",c),c}function VL(e,t,n){const{spanId:r,traceId:i}=e.spanContext(),s=t.getScopeData().sdkProcessingMetadata[C7]?!1:hu(e),o=s?new u2({...n,parentSpanId:r,traceId:i,sampled:s}):new df({traceId:i});m7(e,o);const a=rn();return a&&(a.emit("spanStart",o),n.endTimestamp&&a.emit("spanEnd",o)),o}function qL(e){const t=H0(e);if(!t)return;const n=rn();return(n?n.getOptions():{}).parentSpanIsAlwaysRootSpan?ei(t):t}const C0={idleTimeout:1e3,finalTimeout:3e4,childSpanTimeout:15e3},QL="heartbeatFailed",KL="idleTimeout",GL="finalTimeout",YL="externalFinish";function j7(e,t={}){const n=new Map;let r=!1,i,s=YL,o=!t.disableAutoFinish;const a=[],{idleTimeout:l=C0.idleTimeout,finalTimeout:c=C0.finalTimeout,childSpanTimeout:f=C0.childSpanTimeout,beforeSpanEnd:p}=t,g=rn();if(!g||!Ml())return new df;const y=An(),x=qr(),_=JL(e);_.end=new Proxy(_.end,{apply(O,N,F){p&&p(_);const[$,...L]=F,Z=$||ji(),Y=Gc(Z),he=E0(_).filter(X=>X!==_);if(!he.length)return U(Y),Reflect.apply(O,N,[Y,...L]);const G=he.map(X=>mn(X).timestamp).filter(X=>!!X),W=G.length?Math.max(...G):void 0,Q=mn(_).start_timestamp,te=Math.min(Q?Q+c/1e3:1/0,Math.max(Q||-1/0,Math.min(Y,W||1/0)));return U(te),Reflect.apply(O,N,[te,...L])}});function S(){i&&(clearTimeout(i),i=void 0)}function C(O){S(),i=setTimeout(()=>{!r&&n.size===0&&o&&(s=KL,_.end(O))},l)}function I(O){i=setTimeout(()=>{!r&&o&&(s=QL,_.end(O))},f)}function A(O){S(),n.set(O,!0);const N=ji();I(N+f/1e3)}function z(O){if(n.has(O)&&n.delete(O),n.size===0){const N=ji();C(N+l/1e3)}}function U(O){r=!0,n.clear(),a.forEach(Y=>Y()),np(y,x);const N=mn(_),{start_timestamp:F}=N;if(!F)return;(N.data||{})[sw]||_.setAttribute(sw,s),Ge.log(`[Tracing] Idle span "${N.op}" finished`);const L=E0(_).filter(Y=>Y!==_);let Z=0;L.forEach(Y=>{Y.isRecording()&&(Y.setStatus({code:Hr,message:"cancelled"}),Y.end(O),Ft&&Ge.log("[Tracing] Cancelling span since span ended early",JSON.stringify(Y,void 0,2)));const he=mn(Y),{timestamp:G=0,start_timestamp:W=0}=he,Q=W<=O,te=(c+l)/1e3,X=G-W<=te;if(Ft){const fe=JSON.stringify(Y,void 0,2);Q?X||Ge.log("[Tracing] Discarding span since it finished after idle span final timeout",fe):Ge.log("[Tracing] Discarding span since it happened after idle span was finished",fe)}(!X||!Q)&&(pL(_,Y),Z++)}),Z>0&&_.setAttribute("sentry.idle_span_discarded_spans",Z)}return a.push(g.on("spanStart",O=>{if(r||O===_||mn(O).timestamp)return;E0(_).includes(O)&&A(O.spanContext().spanId)})),a.push(g.on("spanEnd",O=>{r||z(O.spanContext().spanId)})),a.push(g.on("idleSpanEnableAutoFinish",O=>{O===_&&(o=!0,C(),n.size&&I())})),t.disableAutoFinish||C(),setTimeout(()=>{r||(_.setStatus({code:Hr,message:"deadline_exceeded"}),s=GL,_.end())},c),_}function JL(e){const t=Dp(e);return np(An(),t),Ft&&Ge.log("[Tracing] Started span is an idle span"),t}function uw(e,t,n,r=0){return new Is((i,s)=>{const o=e[r];if(t===null||typeof o!="function")i(t);else{const a=o({...t},n);Ft&&o.id&&a===null&&Ge.log(`Event processor "${o.id}" dropped event`),Fy(a)?a.then(l=>uw(e,l,n,r+1).then(i)).then(null,s):uw(e,a,n,r+1).then(i).then(null,s)}})}let vg,rC,bg;function XL(e){const t=on._sentryDebugIds;if(!t)return{};const n=Object.keys(t);return bg&&n.length===rC||(rC=n.length,bg=n.reduce((r,i)=>{vg||(vg={});const s=vg[i];if(s)r[s[0]]=s[1];else{const o=e(i);for(let a=o.length-1;a>=0;a--){const l=o[a],c=l&&l.filename,f=t[i];if(c&&f){r[c]=f,vg[i]=[c,f];break}}}return r},{})),bg}function ZL(e,t){const{fingerprint:n,span:r,breadcrumbs:i,sdkProcessingMetadata:s}=t;eF(e,t),r&&rF(e,r),iF(e,n),tF(e,i),nF(e,s)}function iC(e,t){const{extra:n,tags:r,user:i,contexts:s,level:o,sdkProcessingMetadata:a,breadcrumbs:l,fingerprint:c,eventProcessors:f,attachments:p,propagationContext:g,transactionName:y,span:x}=t;xg(e,"extra",n),xg(e,"tags",r),xg(e,"user",i),xg(e,"contexts",s),e.sdkProcessingMetadata=By(e.sdkProcessingMetadata,a,2),o&&(e.level=o),y&&(e.transactionName=y),x&&(e.span=x),l.length&&(e.breadcrumbs=[...e.breadcrumbs,...l]),c.length&&(e.fingerprint=[...e.fingerprint,...c]),f.length&&(e.eventProcessors=[...e.eventProcessors,...f]),p.length&&(e.attachments=[...e.attachments,...p]),e.propagationContext={...e.propagationContext,...g}}function xg(e,t,n){e[t]=By(e[t],n,1)}function eF(e,t){const{extra:n,tags:r,user:i,contexts:s,level:o,transactionName:a}=t,l=Or(n);l&&Object.keys(l).length&&(e.extra={...l,...e.extra});const c=Or(r);c&&Object.keys(c).length&&(e.tags={...c,...e.tags});const f=Or(i);f&&Object.keys(f).length&&(e.user={...f,...e.user});const p=Or(s);p&&Object.keys(p).length&&(e.contexts={...p,...e.contexts}),o&&(e.level=o),a&&e.type!=="transaction"&&(e.transaction=a)}function tF(e,t){const n=[...e.breadcrumbs||[],...t];e.breadcrumbs=n.length?n:void 0}function nF(e,t){e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...t}}function rF(e,t){e.contexts={trace:uL(t),...e.contexts},e.sdkProcessingMetadata={dynamicSamplingContext:pu(t),...e.sdkProcessingMetadata};const n=ei(t),r=mn(n).description;r&&!e.transaction&&e.type==="transaction"&&(e.transaction=r)}function iF(e,t){e.fingerprint=e.fingerprint?Array.isArray(e.fingerprint)?e.fingerprint:[e.fingerprint]:[],t&&(e.fingerprint=e.fingerprint.concat(t)),e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint}function I7(e,t,n,r,i,s){const{normalizeDepth:o=3,normalizeMaxBreadth:a=1e3}=e,l={...t,event_id:t.event_id||n.event_id||ls(),timestamp:t.timestamp||Ap()},c=n.integrations||e.integrations.map(S=>S.name);sF(l,e),lF(l,c),i&&i.emit("applyFrameMetadata",t),t.type===void 0&&oF(l,e.stackParser);const f=uF(r,n.captureContext);n.mechanism&&qd(l,n.mechanism);const p=i?i.getEventProcessors():[],g=YD().getScopeData();if(s){const S=s.getScopeData();iC(g,S)}if(f){const S=f.getScopeData();iC(g,S)}const y=[...n.attachments||[],...g.attachments];y.length&&(n.attachments=y),ZL(l,g);const x=[...p,...g.eventProcessors];return uw(x,l,n).then(S=>(S&&aF(S),typeof o=="number"&&o>0?cF(S,o,a):S))}function sF(e,t){const{environment:n,release:r,dist:i,maxValueLength:s=250}=t;e.environment=e.environment||n||l2,!e.release&&r&&(e.release=r),!e.dist&&i&&(e.dist=i),e.message&&(e.message=Fd(e.message,s));const o=e.exception&&e.exception.values&&e.exception.values[0];o&&o.value&&(o.value=Fd(o.value,s));const a=e.request;a&&a.url&&(a.url=Fd(a.url,s))}function oF(e,t){const n=XL(t);try{e.exception.values.forEach(r=>{r.stacktrace.frames.forEach(i=>{n&&i.filename&&(i.debug_id=n[i.filename])})})}catch{}}function aF(e){const t={};try{e.exception.values.forEach(r=>{r.stacktrace.frames.forEach(i=>{i.debug_id&&(i.abs_path?t[i.abs_path]=i.debug_id:i.filename&&(t[i.filename]=i.debug_id),delete i.debug_id)})})}catch{}if(Object.keys(t).length===0)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];const n=e.debug_meta.images;Object.entries(t).forEach(([r,i])=>{n.push({type:"sourcemap",code_file:r,debug_id:i})})}function lF(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}function cF(e,t,n){if(!e)return null;const r={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map(i=>({...i,...i.data&&{data:no(i.data,t,n)}}))},...e.user&&{user:no(e.user,t,n)},...e.contexts&&{contexts:no(e.contexts,t,n)},...e.extra&&{extra:no(e.extra,t,n)}};return e.contexts&&e.contexts.trace&&r.contexts&&(r.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(r.contexts.trace.data=no(e.contexts.trace.data,t,n))),e.spans&&(r.spans=e.spans.map(i=>({...i,...i.data&&{data:no(i.data,t,n)}}))),e.contexts&&e.contexts.flags&&r.contexts&&(r.contexts.flags=no(e.contexts.flags,3,n)),r}function uF(e,t){if(!t)return e;const n=e?e.clone():new Al;return n.update(t),n}function dF(e){if(e)return fF(e)?{captureContext:e}:pF(e)?{captureContext:e}:e}function fF(e){return e instanceof Al||typeof e=="function"}const hF=["user","level","extra","contexts","tags","fingerprint","requestSession","propagationContext"];function pF(e){return Object.keys(e).some(t=>hF.includes(t))}function d2(e,t){return An().captureException(e,dF(t))}function R7(e,t){return An().captureEvent(e,t)}function N7(e,t){mo().setContext(e,t)}function mF(){const e=rn();return!!e&&e.getOptions().enabled!==!1&&!!e.getTransport()}function gF(e){mo().addEventProcessor(e)}function sC(e){const t=rn(),n=mo(),r=An(),{release:i,environment:s=l2}=t&&t.getOptions()||{},{userAgent:o}=on.navigator||{},a=$D({release:i,environment:s,user:r.getUser()||n.getUser(),...o&&{userAgent:o},...e}),l=n.getSession();return l&&l.status==="ok"&&Qd(l,{status:"exited"}),O7(),n.setSession(a),r.setSession(a),a}function O7(){const e=mo(),t=An(),n=t.getSession()||e.getSession();n&&zD(n),P7(),e.setSession(),t.setSession()}function P7(){const e=mo(),t=An(),n=rn(),r=t.getSession()||e.getSession();r&&n&&n.captureSession(r)}function oC(e=!1){if(e){O7();return}P7()}const yF="7";function vF(e){const t=e.protocol?`${e.protocol}:`:"",n=e.port?`:${e.port}`:"";return`${t}//${e.host}${n}${e.path?`/${e.path}`:""}/api/`}function bF(e){return`${vF(e)}${e.projectId}/envelope/`}function xF(e,t){const n={sentry_version:yF};return e.publicKey&&(n.sentry_key=e.publicKey),t&&(n.sentry_client=`${t.name}/${t.version}`),new URLSearchParams(n).toString()}function wF(e,t,n){return t||`${bF(e)}?${xF(e,n)}`}const aC=[];function _F(e){const t={};return e.forEach(n=>{const{name:r}=n,i=t[r];i&&!i.isDefaultInstance&&n.isDefaultInstance||(t[r]=n)}),Object.values(t)}function SF(e){const t=e.defaultIntegrations||[],n=e.integrations;t.forEach(o=>{o.isDefaultInstance=!0});let r;if(Array.isArray(n))r=[...t,...n];else if(typeof n=="function"){const o=n(t);r=Array.isArray(o)?o:[o]}else r=t;const i=_F(r),s=i.findIndex(o=>o.name==="Debug");if(s>-1){const[o]=i.splice(s,1);i.push(o)}return i}function EF(e,t){const n={};return t.forEach(r=>{r&&A7(e,r,n)}),n}function lC(e,t){for(const n of t)n&&n.afterAllSetup&&n.afterAllSetup(e)}function A7(e,t,n){if(n[t.name]){Ft&&Ge.log(`Integration skipped because it was already installed: ${t.name}`);return}if(n[t.name]=t,aC.indexOf(t.name)===-1&&typeof t.setupOnce=="function"&&(t.setupOnce(),aC.push(t.name)),t.setup&&typeof t.setup=="function"&&t.setup(e),typeof t.preprocessEvent=="function"){const r=t.preprocessEvent.bind(t);e.on("preprocessEvent",(i,s)=>r(i,s,e))}if(typeof t.processEvent=="function"){const r=t.processEvent.bind(t),i=Object.assign((s,o)=>r(s,o,e),{id:t.name});e.addEventProcessor(i)}Ft&&Ge.log(`Integration installed: ${t.name}`)}function CF(e,t,n){const r=[{type:"client_report"},{timestamp:Ap(),discarded_events:e}];return mu(t?{dsn:t}:{},[r])}class io extends Error{constructor(t,n="warn"){super(t),this.message=t,this.logLevel=n}}const cC="Not capturing exception because it's already been captured.";class kF{constructor(t){if(this._options=t,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],t.dsn?this._dsn=EL(t.dsn):Ft&&Ge.warn("No DSN provided, client will not send events."),this._dsn){const i=wF(this._dsn,t.tunnel,t._metadata?t._metadata.sdk:void 0);this._transport=t.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...t.transportOptions,url:i})}const r=["enableTracing","tracesSampleRate","tracesSampler"].find(i=>i in t&&t[i]==null);r&&ql(()=>{console.warn(`[Sentry] Deprecation warning: \`${r}\` is set to undefined, which leads to tracing being enabled. In v9, a value of \`undefined\` will result in tracing being disabled.`)})}captureException(t,n,r){const i=ls();if(zE(t))return Ft&&Ge.log(cC),i;const s={event_id:i,...n};return this._process(this.eventFromException(t,s).then(o=>this._captureEvent(o,s,r))),s.event_id}captureMessage(t,n,r,i){const s={event_id:ls(),...r},o=t2(t)?t:String(t),a=n2(t)?this.eventFromMessage(o,n,s):this.eventFromException(t,s);return this._process(a.then(l=>this._captureEvent(l,s,i))),s.event_id}captureEvent(t,n,r){const i=ls();if(n&&n.originalException&&zE(n.originalException))return Ft&&Ge.log(cC),i;const s={event_id:i,...n},a=(t.sdkProcessingMetadata||{}).capturedSpanScope;return this._process(this._captureEvent(t,s,a||r)),s.event_id}captureSession(t){typeof t.release!="string"?Ft&&Ge.warn("Discarded session because of missing or non-string release"):(this.sendSession(t),Qd(t,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(t){const n=this._transport;return n?(this.emit("flush"),this._isClientDoneProcessing(t).then(r=>n.flush(t).then(i=>r&&i))):ja(!0)}close(t){return this.flush(t).then(n=>(this.getOptions().enabled=!1,this.emit("close"),n))}getEventProcessors(){return this._eventProcessors}addEventProcessor(t){this._eventProcessors.push(t)}init(){(this._isEnabled()||this._options.integrations.some(({name:t})=>t.startsWith("Spotlight")))&&this._setupIntegrations()}getIntegrationByName(t){return this._integrations[t]}addIntegration(t){const n=this._integrations[t.name];A7(this,t,this._integrations),n||lC(this,[t])}sendEvent(t,n={}){this.emit("beforeSendEvent",t,n);let r=FL(t,this._dsn,this._options._metadata,this._options.tunnel);for(const s of n.attachments||[])r=RL(r,AL(s));const i=this.sendEnvelope(r);i&&i.then(s=>this.emit("afterSendEvent",t,s),null)}sendSession(t){const n=LL(t,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(n)}recordDroppedEvent(t,n,r){if(this._options.sendClientReports){const i=typeof r=="number"?r:1,s=`${t}:${n}`;Ft&&Ge.log(`Recording outcome: "${s}"${i>1?` (${i} times)`:""}`),this._outcomes[s]=(this._outcomes[s]||0)+i}}on(t,n){const r=this._hooks[t]=this._hooks[t]||[];return r.push(n),()=>{const i=r.indexOf(n);i>-1&&r.splice(i,1)}}emit(t,...n){const r=this._hooks[t];r&&r.forEach(i=>i(...n))}sendEnvelope(t){return this.emit("beforeEnvelope",t),this._isEnabled()&&this._transport?this._transport.send(t).then(null,n=>(Ft&&Ge.error("Error while sending envelope:",n),n)):(Ft&&Ge.error("Transport disabled"),ja({}))}_setupIntegrations(){const{integrations:t}=this._options;this._integrations=EF(this,t),lC(this,t)}_updateSessionFromEvent(t,n){let r=n.level==="fatal",i=!1;const s=n.exception&&n.exception.values;if(s){i=!0;for(const l of s){const c=l.mechanism;if(c&&c.handled===!1){r=!0;break}}}const o=t.status==="ok";(o&&t.errors===0||o&&r)&&(Qd(t,{...r&&{status:"crashed"},errors:t.errors||Number(i||r)}),this.captureSession(t))}_isClientDoneProcessing(t){return new Is(n=>{let r=0;const i=1,s=setInterval(()=>{this._numProcessing==0?(clearInterval(s),n(!0)):(r+=i,t&&r>=t&&(clearInterval(s),n(!1)))},i)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(t,n,r=An(),i=mo()){const s=this.getOptions(),o=Object.keys(this._integrations);return!n.integrations&&o.length>0&&(n.integrations=o),this.emit("preprocessEvent",t,n),t.type||i.setLastEventId(t.event_id||n.event_id),I7(s,t,n,r,this,i).then(a=>{if(a===null)return a;a.contexts={trace:JD(r),...a.contexts};const l=w7(this,r);return a.sdkProcessingMetadata={dynamicSamplingContext:l,...a.sdkProcessingMetadata},a})}_captureEvent(t,n={},r){return this._processEvent(t,n,r).then(i=>i.event_id,i=>{Ft&&(i instanceof io&&i.logLevel==="log"?Ge.log(i.message):Ge.warn(i))})}_processEvent(t,n,r){const i=this.getOptions(),{sampleRate:s}=i,o=D7(t),a=M7(t),l=t.type||"error",c=`before send for type \`${l}\``,f=typeof s>"u"?void 0:W0(s);if(a&&typeof f=="number"&&Math.random()>f)return this.recordDroppedEvent("sample_rate","error",t),U0(new io(`Discarding event because it's not included in the random sample (sampling rate = ${s})`,"log"));const p=l==="replay_event"?"replay":l,y=(t.sdkProcessingMetadata||{}).capturedSpanIsolationScope;return this._prepareEvent(t,n,r,y).then(x=>{if(x===null)throw this.recordDroppedEvent("event_processor",p,t),new io("An event processor returned `null`, will not send event.","log");if(n.data&&n.data.__sentry__===!0)return x;const S=jF(this,i,x,n);return TF(S,c)}).then(x=>{if(x===null){if(this.recordDroppedEvent("before_send",p,t),o){const I=1+(t.spans||[]).length;this.recordDroppedEvent("before_send","span",I)}throw new io(`${c} returned \`null\`, will not send event.`,"log")}const _=r&&r.getSession();if(!o&&_&&this._updateSessionFromEvent(_,x),o){const C=x.sdkProcessingMetadata&&x.sdkProcessingMetadata.spanCountBeforeProcessing||0,I=x.spans?x.spans.length:0,A=C-I;A>0&&this.recordDroppedEvent("before_send","span",A)}const S=x.transaction_info;if(o&&S&&x.transaction!==t.transaction){const C="custom";x.transaction_info={...S,source:C}}return this.sendEvent(x,n),x}).then(null,x=>{throw x instanceof io?x:(this.captureException(x,{data:{__sentry__:!0},originalException:x}),new io(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${x}`))})}_process(t){this._numProcessing++,t.then(n=>(this._numProcessing--,n),n=>(this._numProcessing--,n))}_clearOutcomes(){const t=this._outcomes;return this._outcomes={},Object.entries(t).map(([n,r])=>{const[i,s]=n.split(":");return{reason:i,category:s,quantity:r}})}_flushOutcomes(){Ft&&Ge.log("Flushing outcomes...");const t=this._clearOutcomes();if(t.length===0){Ft&&Ge.log("No outcomes to send");return}if(!this._dsn){Ft&&Ge.log("No dsn provided, will not send outcomes");return}Ft&&Ge.log("Sending outcomes:",t);const n=CF(t,this._options.tunnel&&Mp(this._dsn));this.sendEnvelope(n)}}function TF(e,t){const n=`${t} must return \`null\` or a valid event.`;if(Fy(e))return e.then(r=>{if(!Vd(r)&&r!==null)throw new io(n);return r},r=>{throw new io(`${t} rejected with ${r}`)});if(!Vd(e)&&e!==null)throw new io(n);return e}function jF(e,t,n,r){const{beforeSend:i,beforeSendTransaction:s,beforeSendSpan:o}=t;if(M7(n)&&i)return i(n,r);if(D7(n)){if(n.spans&&o){const a=[];for(const l of n.spans){const c=o(l);c?a.push(c):(g7(),e.recordDroppedEvent("before_send","span"))}n.spans=a}if(s){if(n.spans){const a=n.spans.length;n.sdkProcessingMetadata={...n.sdkProcessingMetadata,spanCountBeforeProcessing:a}}return s(n,r)}}return n}function M7(e){return e.type===void 0}function D7(e){return e.type==="transaction"}function IF(e,t){t.debug===!0&&(Ft?Ge.enable():ql(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})),An().update(t.initialScope);const r=new e(t);return RF(r),r.init(),r}function RF(e){An().setClient(e)}function NF(e){const t=[];function n(){return e===void 0||t.length<e}function r(o){return t.splice(t.indexOf(o),1)[0]||Promise.resolve(void 0)}function i(o){if(!n())return U0(new io("Not adding Promise because buffer limit was reached."));const a=o();return t.indexOf(a)===-1&&t.push(a),a.then(()=>r(a)).then(null,()=>r(a).then(null,()=>{})),a}function s(o){return new Is((a,l)=>{let c=t.length;if(!c)return a(!0);const f=setTimeout(()=>{o&&o>0&&a(!1)},o);t.forEach(p=>{ja(p).then(()=>{--c||(clearTimeout(f),a(!0))},l)})})}return{$:t,add:i,drain:s}}const OF=60*1e3;function PF(e,t=Date.now()){const n=parseInt(`${e}`,10);if(!isNaN(n))return n*1e3;const r=Date.parse(`${e}`);return isNaN(r)?OF:r-t}function AF(e,t){return e[t]||e.all||0}function L7(e,t,n=Date.now()){return AF(e,t)>n}function F7(e,{statusCode:t,headers:n},r=Date.now()){const i={...e},s=n&&n["x-sentry-rate-limits"],o=n&&n["retry-after"];if(s)for(const a of s.trim().split(",")){const[l,c,,,f]=a.split(":",5),p=parseInt(l,10),g=(isNaN(p)?60:p)*1e3;if(!c)i.all=r+g;else for(const y of c.split(";"))y==="metric_bucket"?(!f||f.split(";").includes("custom"))&&(i[y]=r+g):i[y]=r+g}else o?i.all=r+PF(o,r):t===429&&(i.all=r+60*1e3);return i}const MF=64;function DF(e,t,n=NF(e.bufferSize||MF)){let r={};const i=o=>n.drain(o);function s(o){const a=[];if(YE(o,(p,g)=>{const y=JE(g);if(L7(r,y)){const x=uC(p,g);e.recordDroppedEvent("ratelimit_backoff",y,x)}else a.push(p)}),a.length===0)return ja({});const l=mu(o[0],a),c=p=>{YE(l,(g,y)=>{const x=uC(g,y);e.recordDroppedEvent(p,JE(y),x)})},f=()=>t({body:NL(l)}).then(p=>(p.statusCode!==void 0&&(p.statusCode<200||p.statusCode>=300)&&Ft&&Ge.warn(`Sentry responded with status code ${p.statusCode} to sent event.`),r=F7(r,p),p),p=>{throw c("network_error"),p});return n.add(f).then(p=>p,p=>{if(p instanceof io)return Ft&&Ge.error("Skipped sending event because buffer is full."),c("queue_overflow"),ja({});throw p})}return{send:s,flush:i}}function uC(e,t){if(!(t!=="event"&&t!=="transaction"))return Array.isArray(e)?e[1]:void 0}function LF(e,t){const n=t&&t.getDsn(),r=t&&t.getOptions().tunnel;return BF(e,n)||FF(e,r)}function FF(e,t){return t?dC(e)===dC(t):!1}function BF(e,t){return t?e.includes(t.host):!1}function dC(e){return e[e.length-1]==="/"?e.slice(0,-1):e}function B7(e,t,n=[t],r="npm"){const i=e._metadata||{};i.sdk||(i.sdk={name:`sentry.javascript.${t}`,packages:n.map(s=>({name:`${r}:@sentry/${s}`,version:Kc})),version:Kc}),e._metadata=i}function $7(e={}){const t=rn();if(!mF()||!t)return{};const n=fu(),r=uf(n);if(r.getTraceData)return r.getTraceData(e);const i=An(),s=e.span||qr(),o=s?dL(s):$F(i),a=s?pu(s):w7(t,i),l=iL(a);return u7.test(o)?{"sentry-trace":o,baggage:l}:(Ge.warn("Invalid sentry-trace data. Cannot generate trace data"),{})}function $F(e){const{traceId:t,sampled:n,spanId:r}=e.getPropagationContext();return d7(t,r,n)}const zF=100;function Dl(e,t){const n=rn(),r=mo();if(!n)return;const{beforeBreadcrumb:i=null,maxBreadcrumbs:s=zF}=n.getOptions();if(s<=0)return;const a={timestamp:Ap(),...e},l=i?ql(()=>i(a,t)):a;l!==null&&(n.emit&&n.emit("beforeAddBreadcrumb",l,t),r.addBreadcrumb(l,s))}let fC;const UF="FunctionToString",hC=new WeakMap,HF=(()=>({name:UF,setupOnce(){fC=Function.prototype.toString;try{Function.prototype.toString=function(...e){const t=r2(this),n=hC.has(rn())&&t!==void 0?t:this;return fC.apply(n,e)}}catch{}},setup(e){hC.set(e,!0)}})),WF=HF,VF=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,"undefined is not an object (evaluating 'a.L')",`can't redefine non-configurable property "solana"`,"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler",/^Non-Error promise rejection captured with value: Object Not Found Matching Id:\d+, MethodName:simulateEvent, ParamCount:\d+$/],qF="InboundFilters",QF=((e={})=>({name:qF,processEvent(t,n,r){const i=r.getOptions(),s=GF(e,i);return YF(t,s)?null:t}})),KF=QF;function GF(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...e.disableErrorDefaults?[]:VF],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[]],ignoreInternal:e.ignoreInternal!==void 0?e.ignoreInternal:!0}}function YF(e,t){return t.ignoreInternal&&nB(e)?(Ft&&Ge.warn(`Event dropped due to being internal Sentry Error.
Event: ${fl(e)}`),!0):JF(e,t.ignoreErrors)?(Ft&&Ge.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${fl(e)}`),!0):iB(e)?(Ft&&Ge.warn(`Event dropped due to not having an error message, error type or stacktrace.
Event: ${fl(e)}`),!0):XF(e,t.ignoreTransactions)?(Ft&&Ge.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${fl(e)}`),!0):ZF(e,t.denyUrls)?(Ft&&Ge.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${fl(e)}.
Url: ${V0(e)}`),!0):eB(e,t.allowUrls)?!1:(Ft&&Ge.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${fl(e)}.
Url: ${V0(e)}`),!0)}function JF(e,t){return e.type||!t||!t.length?!1:tB(e).some(n=>jl(n,t))}function XF(e,t){if(e.type!=="transaction"||!t||!t.length)return!1;const n=e.transaction;return n?jl(n,t):!1}function ZF(e,t){if(!t||!t.length)return!1;const n=V0(e);return n?jl(n,t):!1}function eB(e,t){if(!t||!t.length)return!0;const n=V0(e);return n?jl(n,t):!0}function tB(e){const t=[];e.message&&t.push(e.message);let n;try{n=e.exception.values[e.exception.values.length-1]}catch{}return n&&n.value&&(t.push(n.value),n.type&&t.push(`${n.type}: ${n.value}`)),t}function nB(e){try{return e.exception.values[0].type==="SentryError"}catch{}return!1}function rB(e=[]){for(let t=e.length-1;t>=0;t--){const n=e[t];if(n&&n.filename!=="<anonymous>"&&n.filename!=="[native code]")return n.filename||null}return null}function V0(e){try{let t;try{t=e.exception.values[0].stacktrace.frames}catch{}return t?rB(t):null}catch{return Ft&&Ge.error(`Cannot extract url for event ${fl(e)}`),null}}function iB(e){return e.type||!e.exception||!e.exception.values||e.exception.values.length===0?!1:!e.message&&!e.exception.values.some(t=>t.stacktrace||t.type&&t.type!=="Error"||t.value)}function sB(e,t,n=250,r,i,s,o){if(!s.exception||!s.exception.values||!o||!ka(o.originalException,Error))return;const a=s.exception.values.length>0?s.exception.values[s.exception.values.length-1]:void 0;a&&(s.exception.values=oB(dw(e,t,i,o.originalException,r,s.exception.values,a,0),n))}function dw(e,t,n,r,i,s,o,a){if(s.length>=n+1)return s;let l=[...s];if(ka(r[i],Error)){pC(o,a);const c=e(t,r[i]),f=l.length;mC(c,i,f,a),l=dw(e,t,n,r[i],i,[c,...l],c,f)}return Array.isArray(r.errors)&&r.errors.forEach((c,f)=>{if(ka(c,Error)){pC(o,a);const p=e(t,c),g=l.length;mC(p,`errors[${f}]`,g,a),l=dw(e,t,n,c,i,[p,...l],p,g)}}),l}function pC(e,t){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,...e.type==="AggregateError"&&{is_exception_group:!0},exception_id:t}}function mC(e,t,n,r){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,type:"chained",source:t,exception_id:n,parent_id:r}}function oB(e,t){return e.map(n=>(n.value&&(n.value=Fd(n.value,t)),n))}function Jc(e){if(!e)return{};const t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};const n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:n,hash:r,relative:t[5]+n+r}}function aB(e){const t="console";Ql(t,e),Kl(t,lB)}function lB(){"console"in on&&ew.forEach(function(e){e in on.console&&Hi(on.console,e,function(t){return z0[e]=t,function(...n){Ns("console",{args:n,level:e});const i=z0[e];i&&i.apply(on.console,n)}})})}function z7(e){return e==="warn"?"warning":["fatal","error","warning","log","info","debug"].includes(e)?e:"log"}const cB="Dedupe",uB=(()=>{let e;return{name:cB,processEvent(t){if(t.type)return t;try{if(fB(t,e))return Ft&&Ge.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return e=t}}}),dB=uB;function fB(e,t){return t?!!(hB(e,t)||pB(e,t)):!1}function hB(e,t){const n=e.message,r=t.message;return!(!n&&!r||n&&!r||!n&&r||n!==r||!H7(e,t)||!U7(e,t))}function pB(e,t){const n=gC(t),r=gC(e);return!(!n||!r||n.type!==r.type||n.value!==r.value||!H7(e,t)||!U7(e,t))}function U7(e,t){let n=ME(e),r=ME(t);if(!n&&!r)return!0;if(n&&!r||!n&&r||(n=n,r=r,r.length!==n.length))return!1;for(let i=0;i<r.length;i++){const s=r[i],o=n[i];if(s.filename!==o.filename||s.lineno!==o.lineno||s.colno!==o.colno||s.function!==o.function)return!1}return!0}function H7(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;n=n,r=r;try{return n.join("")===r.join("")}catch{return!1}}function gC(e){return e.exception&&e.exception.values&&e.exception.values[0]}function mB(e,t,n,r,i="auto.http.browser"){if(!e.fetchData)return;const s=Ml()&&t(e.fetchData.url);if(e.endTimestamp&&s){const g=e.fetchData.__span;if(!g)return;const y=r[g];y&&(vB(y,e),delete r[g]);return}const{method:o,url:a}=e.fetchData,l=yB(a),c=l?Jc(l).host:void 0,f=!!qr(),p=s&&f?Dp({name:`${o} ${a}`,attributes:{url:a,type:"fetch","http.method":o,"http.url":l,"server.address":c,[Vr]:i,[iu]:"http.client"}}):new df;if(e.fetchData.__span=p.spanContext().spanId,r[p.spanContext().spanId]=p,n(e.fetchData.url)){const g=e.args[0],y=e.args[1]||{},x=gB(g,y,Ml()&&f?p:void 0);x&&(e.args[1]=y,y.headers=x)}return p}function gB(e,t,n){const r=$7({span:n}),i=r["sentry-trace"],s=r.baggage;if(!i)return;const o=t.headers||(bB(e)?e.headers:void 0);if(o)if(xB(o)){const a=new Headers(o);if(a.set("sentry-trace",i),s){const l=a.get("baggage");if(l){const c=wg(l);a.set("baggage",c?`${c},${s}`:s)}else a.set("baggage",s)}return a}else if(Array.isArray(o)){const a=[...o.filter(l=>!(Array.isArray(l)&&l[0]==="sentry-trace")).map(l=>{if(Array.isArray(l)&&l[0]==="baggage"&&typeof l[1]=="string"){const[c,f,...p]=l;return[c,wg(f),...p]}else return l}),["sentry-trace",i]];return s&&a.push(["baggage",s]),a}else{const a="baggage"in o?o.baggage:void 0;let l=[];return Array.isArray(a)?l=a.map(c=>typeof c=="string"?wg(c):c).filter(c=>c===""):a&&l.push(wg(a)),s&&l.push(s),{...o,"sentry-trace":i,baggage:l.length>0?l.join(","):void 0}}else return{...r}}function yB(e){try{return new URL(e).href}catch{return}}function vB(e,t){if(t.response){l7(e,t.response.status);const n=t.response&&t.response.headers&&t.response.headers.get("content-length");if(n){const r=parseInt(n);r>0&&e.setAttribute("http.response_content_length",r)}}else t.error&&e.setStatus({code:Hr,message:"internal_error"});e.end()}function wg(e){return e.split(",").filter(t=>!t.split("=")[0].startsWith(a2)).join(",")}function bB(e){return typeof Request<"u"&&ka(e,Request)}function xB(e){return typeof Headers<"u"&&ka(e,Headers)}function W7(e){if(e!==void 0)return e>=400&&e<500?"warning":e>=500?"error":void 0}const fw=on;function V7(){if(!("fetch"in fw))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}function hw(e){return e&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function wB(){if(typeof EdgeRuntime=="string")return!0;if(!V7())return!1;if(hw(fw.fetch))return!0;let e=!1;const t=fw.document;if(t&&typeof t.createElement=="function")try{const n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(e=hw(n.contentWindow.fetch)),t.head.removeChild(n)}catch(n){Vl&&Ge.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return e}function q7(e,t){const n="fetch";Ql(n,e),Kl(n,()=>Q7(void 0,t))}function _B(e){const t="fetch-body-resolved";Ql(t,e),Kl(t,()=>Q7(EB))}function Q7(e,t=!1){t&&!wB()||Hi(on,"fetch",function(n){return function(...r){const i=new Error,{method:s,url:o}=CB(r),a={args:r,fetchData:{method:s,url:o},startTimestamp:ji()*1e3,virtualError:i};return e||Ns("fetch",{...a}),n.apply(on,r).then(async l=>(e?e(l):Ns("fetch",{...a,endTimestamp:ji()*1e3,response:l}),l),l=>{throw Ns("fetch",{...a,endTimestamp:ji()*1e3,error:l}),e2(l)&&l.stack===void 0&&(l.stack=i.stack,Ps(l,"framesToPop",1)),l})}})}async function SB(e,t){if(e&&e.body){const n=e.body,r=n.getReader(),i=setTimeout(()=>{n.cancel().then(null,()=>{})},90*1e3);let s=!0;for(;s;){let o;try{o=setTimeout(()=>{n.cancel().then(null,()=>{})},5e3);const{done:a}=await r.read();clearTimeout(o),a&&(t(),s=!1)}catch{s=!1}finally{clearTimeout(o)}}clearTimeout(i),r.releaseLock(),n.cancel().then(null,()=>{})}}function EB(e){let t;try{t=e.clone()}catch{return}SB(t,()=>{Ns("fetch-body-resolved",{endTimestamp:ji()*1e3,response:e})})}function pw(e,t){return!!e&&typeof e=="object"&&!!e[t]}function yC(e){return typeof e=="string"?e:e?pw(e,"url")?e.url:e.toString?e.toString():"":""}function CB(e){if(e.length===0)return{method:"GET",url:""};if(e.length===2){const[n,r]=e;return{url:yC(n),method:pw(r,"method")?String(r.method).toUpperCase():"GET"}}const t=e[0];return{url:yC(t),method:pw(t,"method")?String(t.method).toUpperCase():"GET"}}function kB(){return typeof __SENTRY_BROWSER_BUNDLE__<"u"&&!!__SENTRY_BROWSER_BUNDLE__}function TB(){return"npm"}function jB(){return!kB()&&Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]"}function vC(){return typeof window<"u"&&(!jB()||IB())}function IB(){const e=on.process;return!!e&&e.type==="renderer"}const _g=on;function RB(){const e=_g.chrome,t=e&&e.app&&e.app.runtime,n="history"in _g&&!!_g.history.pushState&&!!_g.history.replaceState;return!t&&n}function NB(e,t){return e??t()}function k0(e){let t,n=e[0],r=1;for(;r<e.length;){const i=e[r],s=e[r+1];if(r+=2,(i==="optionalAccess"||i==="optionalCall")&&n==null)return;i==="access"||i==="optionalAccess"?(t=n,n=s(n)):(i==="call"||i==="optionalCall")&&(n=s((...o)=>n.call(t,...o)),t=void 0)}return n}const At=on;let mw=0;function K7(){return mw>0}function OB(){mw++,setTimeout(()=>{mw--})}function Gd(e,t={}){function n(i){return typeof i=="function"}if(!n(e))return e;try{const i=e.__sentry_wrapped__;if(i)return typeof i=="function"?i:e;if(r2(e))return e}catch{return e}const r=function(...i){try{const s=i.map(o=>Gd(o,t));return e.apply(this,s)}catch(s){throw OB(),s2(o=>{o.addEventProcessor(a=>(t.mechanism&&(nw(a,void 0),qd(a,t.mechanism)),a.extra={...a.extra,arguments:i},a)),d2(s)}),s}};try{for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}catch{}n7(r,e),Ps(e,"__sentry_wrapped__",r);try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get(){return e.name}})}catch{}return r}const Bo=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function f2(e,t){const n=h2(e,t),r={type:LB(t),value:FB(t)};return n.length&&(r.stacktrace={frames:n}),r.type===void 0&&r.value===""&&(r.value="Unrecoverable error caught"),r}function PB(e,t,n,r){const i=rn(),s=i&&i.getOptions().normalizeDepth,o=HB(t),a={__serialized__:S7(t,s)};if(o)return{exception:{values:[f2(e,o)]},extra:a};const l={exception:{values:[{type:Ly(t)?t.constructor.name:r?"UnhandledRejection":"Error",value:zB(t,{isUnhandledRejection:r})}]},extra:a};if(n){const c=h2(e,n);c.length&&(l.exception.values[0].stacktrace={frames:c})}return l}function Sb(e,t){return{exception:{values:[f2(e,t)]}}}function h2(e,t){const n=t.stacktrace||t.stack||"",r=MB(t),i=DB(t);try{return e(n,r,i)}catch{}return[]}const AB=/Minified React error #\d+;/i;function MB(e){return e&&AB.test(e.message)?1:0}function DB(e){return typeof e.framesToPop=="number"?e.framesToPop:0}function G7(e){return typeof WebAssembly<"u"&&typeof WebAssembly.Exception<"u"?e instanceof WebAssembly.Exception:!1}function LB(e){const t=e&&e.name;return!t&&G7(e)?e.message&&Array.isArray(e.message)&&e.message.length==2?e.message[0]:"WebAssembly.Exception":t}function FB(e){const t=e&&e.message;return t?t.error&&typeof t.error.message=="string"?t.error.message:G7(e)&&Array.isArray(e.message)&&e.message.length==2?e.message[1]:t:"No error message"}function BB(e,t,n,r){const i=n&&n.syntheticException||void 0,s=p2(e,t,i,r);return qd(s),s.level="error",n&&n.event_id&&(s.event_id=n.event_id),ja(s)}function $B(e,t,n="info",r,i){const s=r&&r.syntheticException||void 0,o=gw(e,t,s,i);return o.level=n,r&&r.event_id&&(o.event_id=r.event_id),ja(o)}function p2(e,t,n,r,i){let s;if(X8(t)&&t.error)return Sb(e,t.error);if(LE(t)||jD(t)){const o=t;if("stack"in t)s=Sb(e,t);else{const a=o.name||(LE(o)?"DOMError":"DOMException"),l=o.message?`${a}: ${o.message}`:a;s=gw(e,l,n,r),nw(s,l)}return"code"in o&&(s.tags={...s.tags,"DOMException.code":`${o.code}`}),s}return e2(t)?Sb(e,t):Vd(t)||Ly(t)?(s=PB(e,t,n,i),qd(s,{synthetic:!0}),s):(s=gw(e,t,n,r),nw(s,`${t}`),qd(s,{synthetic:!0}),s)}function gw(e,t,n,r){const i={};if(r&&n){const s=h2(e,n);s.length&&(i.exception={values:[{value:t,stacktrace:{frames:s}}]}),qd(i,{synthetic:!0})}if(t2(t)){const{__sentry_template_string__:s,__sentry_template_values__:o}=t;return i.logentry={message:s,params:o},i}return i.message=t,i}function zB(e,{isUnhandledRejection:t}){const n=DD(e),r=t?"promise rejection":"exception";return X8(e)?`Event \`ErrorEvent\` captured as ${r} with message \`${e.message}\``:Ly(e)?`Event \`${UB(e)}\` (type=${e.type}) captured as ${r}`:`Object captured as ${r} with keys: ${n}`}function UB(e){try{const t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch{}}function HB(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)){const n=e[t];if(n instanceof Error)return n}}function WB(e,{metadata:t,tunnel:n,dsn:r}){const i={event_id:e.event_id,sent_at:new Date().toISOString(),...t&&t.sdk&&{sdk:{name:t.sdk.name,version:t.sdk.version}},...!!n&&!!r&&{dsn:Mp(r)}},s=VB(e);return mu(i,[s])}function VB(e){return[{type:"user_report"},e]}class qB extends kF{constructor(t){const n={parentSpanIsAlwaysRootSpan:!0,...t},r=At.SENTRY_SDK_SOURCE||TB();B7(n,"browser",["browser"],r),super(n),n.sendClientReports&&At.document&&At.document.addEventListener("visibilitychange",()=>{At.document.visibilityState==="hidden"&&this._flushOutcomes()})}eventFromException(t,n){return BB(this._options.stackParser,t,n,this._options.attachStacktrace)}eventFromMessage(t,n="info",r){return $B(this._options.stackParser,t,n,r,this._options.attachStacktrace)}captureUserFeedback(t){if(!this._isEnabled()){Bo&&Ge.warn("SDK not enabled, will not capture user feedback.");return}const n=WB(t,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this.sendEnvelope(n)}_prepareEvent(t,n,r){return t.platform=t.platform||"javascript",super._prepareEvent(t,n,r)}}const m2=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,QB=(e,t)=>e>t[1]?"poor":e>t[0]?"needs-improvement":"good",ff=(e,t,n,r)=>{let i,s;return o=>{t.value>=0&&(o||r)&&(s=t.value-(i||0),(s||i===void 0)&&(i=t.value,t.delta=s,t.rating=QB(t.value,n),e(t)))}},wt=on,KB=()=>`v4-${Date.now()}-${Math.floor(Math.random()*(9e12-1))+1e12}`,Lp=(e=!0)=>{const t=wt.performance&&wt.performance.getEntriesByType&&wt.performance.getEntriesByType("navigation")[0];if(!e||t&&t.responseStart>0&&t.responseStart<performance.now())return t},Fp=()=>{const e=Lp();return e&&e.activationStart||0},hf=(e,t)=>{const n=Lp();let r="navigate";return n&&(wt.document&&wt.document.prerendering||Fp()>0?r="prerender":wt.document&&wt.document.wasDiscarded?r="restore":n.type&&(r=n.type.replace(/_/g,"-"))),{name:e,value:typeof t>"u"?-1:t,rating:"good",delta:0,entries:[],id:KB(),navigationType:r}},gu=(e,t,n)=>{try{if(PerformanceObserver.supportedEntryTypes.includes(e)){const r=new PerformanceObserver(i=>{Promise.resolve().then(()=>{t(i.getEntries())})});return r.observe(Object.assign({type:e,buffered:!0},n||{})),r}}catch{}},pf=e=>{const t=n=>{(n.type==="pagehide"||wt.document&&wt.document.visibilityState==="hidden")&&e(n)};wt.document&&(addEventListener("visibilitychange",t,!0),addEventListener("pagehide",t,!0))},Uy=e=>{let t=!1;return()=>{t||(e(),t=!0)}};let Lh=-1;const GB=()=>wt.document.visibilityState==="hidden"&&!wt.document.prerendering?0:1/0,q0=e=>{wt.document.visibilityState==="hidden"&&Lh>-1&&(Lh=e.type==="visibilitychange"?e.timeStamp:0,JB())},YB=()=>{addEventListener("visibilitychange",q0,!0),addEventListener("prerenderingchange",q0,!0)},JB=()=>{removeEventListener("visibilitychange",q0,!0),removeEventListener("prerenderingchange",q0,!0)},Hy=()=>(wt.document&&Lh<0&&(Lh=GB(),YB()),{get firstHiddenTime(){return Lh}}),Bp=e=>{wt.document&&wt.document.prerendering?addEventListener("prerenderingchange",()=>e(),!0):e()},XB=[1800,3e3],ZB=(e,t={})=>{Bp(()=>{const n=Hy(),r=hf("FCP");let i;const o=gu("paint",a=>{a.forEach(l=>{l.name==="first-contentful-paint"&&(o.disconnect(),l.startTime<n.firstHiddenTime&&(r.value=Math.max(l.startTime-Fp(),0),r.entries.push(l),i(!0)))})});o&&(i=ff(e,r,XB,t.reportAllChanges))})},e$=[.1,.25],t$=(e,t={})=>{ZB(Uy(()=>{const n=hf("CLS",0);let r,i=0,s=[];const o=l=>{l.forEach(c=>{if(!c.hadRecentInput){const f=s[0],p=s[s.length-1];i&&f&&p&&c.startTime-p.startTime<1e3&&c.startTime-f.startTime<5e3?(i+=c.value,s.push(c)):(i=c.value,s=[c])}}),i>n.value&&(n.value=i,n.entries=s,r())},a=gu("layout-shift",o);a&&(r=ff(e,n,e$,t.reportAllChanges),pf(()=>{o(a.takeRecords()),r(!0)}),setTimeout(r,0))}))},n$=[100,300],r$=(e,t={})=>{Bp(()=>{const n=Hy(),r=hf("FID");let i;const s=l=>{l.startTime<n.firstHiddenTime&&(r.value=l.processingStart-l.startTime,r.entries.push(l),i(!0))},o=l=>{l.forEach(s)},a=gu("first-input",o);i=ff(e,r,n$,t.reportAllChanges),a&&pf(Uy(()=>{o(a.takeRecords()),a.disconnect()}))})};let Y7=0,Eb=1/0,Sg=0;const i$=e=>{e.forEach(t=>{t.interactionId&&(Eb=Math.min(Eb,t.interactionId),Sg=Math.max(Sg,t.interactionId),Y7=Sg?(Sg-Eb)/7+1:0)})};let yw;const s$=()=>yw?Y7:performance.interactionCount||0,o$=()=>{"interactionCount"in performance||yw||(yw=gu("event",i$,{type:"event",buffered:!0,durationThreshold:0}))},pa=[],Cb=new Map,a$=40;let l$=0;const c$=()=>s$()-l$,u$=()=>{const e=Math.min(pa.length-1,Math.floor(c$()/50));return pa[e]},kb=10,d$=[],f$=e=>{if(d$.forEach(r=>r(e)),!(e.interactionId||e.entryType==="first-input"))return;const t=pa[pa.length-1],n=Cb.get(e.interactionId);if(n||pa.length<kb||t&&e.duration>t.latency){if(n)e.duration>n.latency?(n.entries=[e],n.latency=e.duration):e.duration===n.latency&&e.startTime===(n.entries[0]&&n.entries[0].startTime)&&n.entries.push(e);else{const r={id:e.interactionId,latency:e.duration,entries:[e]};Cb.set(r.id,r),pa.push(r)}pa.sort((r,i)=>i.latency-r.latency),pa.length>kb&&pa.splice(kb).forEach(r=>Cb.delete(r.id))}},J7=e=>{const t=wt.requestIdleCallback||wt.setTimeout;let n=-1;return e=Uy(e),wt.document&&wt.document.visibilityState==="hidden"?e():(n=t(e),pf(e)),n},h$=[200,500],p$=(e,t={})=>{"PerformanceEventTiming"in wt&&"interactionId"in PerformanceEventTiming.prototype&&Bp(()=>{o$();const n=hf("INP");let r;const i=o=>{J7(()=>{o.forEach(f$);const a=u$();a&&a.latency!==n.value&&(n.value=a.latency,n.entries=a.entries,r())})},s=gu("event",i,{durationThreshold:t.durationThreshold!=null?t.durationThreshold:a$});r=ff(e,n,h$,t.reportAllChanges),s&&(s.observe({type:"first-input",buffered:!0}),pf(()=>{i(s.takeRecords()),r(!0)}))})},m$=[2500,4e3],bC={},g$=(e,t={})=>{Bp(()=>{const n=Hy(),r=hf("LCP");let i;const s=a=>{t.reportAllChanges||(a=a.slice(-1)),a.forEach(l=>{l.startTime<n.firstHiddenTime&&(r.value=Math.max(l.startTime-Fp(),0),r.entries=[l],i())})},o=gu("largest-contentful-paint",s);if(o){i=ff(e,r,m$,t.reportAllChanges);const a=Uy(()=>{bC[r.id]||(s(o.takeRecords()),o.disconnect(),bC[r.id]=!0,i(!0))});["keydown","click"].forEach(l=>{wt.document&&addEventListener(l,()=>J7(a),{once:!0,capture:!0})}),pf(a)}})},y$=[800,1800],vw=e=>{wt.document&&wt.document.prerendering?Bp(()=>vw(e)):wt.document&&wt.document.readyState!=="complete"?addEventListener("load",()=>vw(e),!0):setTimeout(e,0)},v$=(e,t={})=>{const n=hf("TTFB"),r=ff(e,n,y$,t.reportAllChanges);vw(()=>{const i=Lp();i&&(n.value=Math.max(i.responseStart-Fp(),0),n.entries=[i],r(!0))})},Fh={},Q0={};let X7,Z7,ej,tj,nj;function g2(e,t=!1){return $p("cls",e,x$,X7,t)}function rj(e,t=!1){return $p("lcp",e,_$,ej,t)}function ij(e){return $p("fid",e,w$,Z7)}function b$(e){return $p("ttfb",e,S$,tj)}function sj(e){return $p("inp",e,E$,nj)}function Yd(e,t){return oj(e,t),Q0[e]||(C$(e),Q0[e]=!0),aj(e,t)}function mf(e,t){const n=Fh[e];if(!(!n||!n.length))for(const r of n)try{r(t)}catch(i){m2&&Ge.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${Ca(r)}
Error:`,i)}}function x$(){return t$(e=>{mf("cls",{metric:e}),X7=e},{reportAllChanges:!0})}function w$(){return r$(e=>{mf("fid",{metric:e}),Z7=e})}function _$(){return g$(e=>{mf("lcp",{metric:e}),ej=e},{reportAllChanges:!0})}function S$(){return v$(e=>{mf("ttfb",{metric:e}),tj=e})}function E$(){return p$(e=>{mf("inp",{metric:e}),nj=e})}function $p(e,t,n,r,i=!1){oj(e,t);let s;return Q0[e]||(s=n(),Q0[e]=!0),r&&t({metric:r}),aj(e,t,i?s:void 0)}function C$(e){const t={};e==="event"&&(t.durationThreshold=0),gu(e,n=>{mf(e,{entries:n})},t)}function oj(e,t){Fh[e]=Fh[e]||[],Fh[e].push(t)}function aj(e,t,n){return()=>{n&&n();const r=Fh[e];if(!r)return;const i=r.indexOf(t);i!==-1&&r.splice(i,1)}}function k$(e){return"duration"in e}function Tb(e){return typeof e=="number"&&isFinite(e)}function Ia(e,t,n,{...r}){const i=mn(e).start_timestamp;return i&&i>t&&typeof e.updateStartTime=="function"&&e.updateStartTime(t),k7(e,()=>{const s=Dp({startTime:t,...r});return s&&s.end(n),s})}function lj(e){const t=rn();if(!t)return;const{name:n,transaction:r,attributes:i,startTime:s}=e,{release:o,environment:a}=t.getOptions(),l=t.getIntegrationByName("Replay"),c=l&&l.getReplayId(),f=An(),p=f.getUser(),g=p!==void 0?p.email||p.id||p.ip_address:void 0;let y;try{y=f.getScopeData().contexts.profile.profile_id}catch{}const x={release:o,environment:a,user:g||void 0,profile_id:y||void 0,replay_id:c||void 0,transaction:r,"user_agent.original":wt.navigator&&wt.navigator.userAgent,...i};return Dp({name:n,attributes:x,startTime:s,experimental:{standalone:!0}})}function y2(){return wt&&wt.addEventListener&&wt.performance}function fr(e){return e/1e3}function cj(e){let t="unknown",n="unknown",r="";for(const i of e){if(i==="/"){[t,n]=e.split("/");break}if(!isNaN(Number(i))){t=r==="h"?"http":r,n=e.split(r)[1];break}r+=i}return r===e&&(t=r),{name:t,version:n}}function T$(){let e=0,t,n;if(!I$())return;let r=!1;function i(){r||(r=!0,n&&j$(e,t,n),s())}const s=g2(({metric:o})=>{const a=o.entries[o.entries.length-1];a&&(e=o.value,t=a)},!0);pf(()=>{i()}),setTimeout(()=>{const o=rn();if(!o)return;const a=o.on("startNavigationSpan",()=>{i(),a&&a()}),l=qr(),c=l&&ei(l),f=c&&mn(c);f&&f.op==="pageload"&&(n=c.spanContext().spanId)},0)}function j$(e,t,n){m2&&Ge.log(`Sending CLS span (${e})`);const r=fr((Ii||0)+(t&&t.startTime||0)),i=An().getScopeData().transactionName,s=t?Ta(t.sources[0]&&t.sources[0].node):"Layout shift",o=Or({[Vr]:"auto.http.browser.cls",[iu]:"ui.webvital.cls",[o2]:t&&t.duration||0,"sentry.pageload.span_id":n}),a=lj({name:s,transaction:i,attributes:o,startTime:r});a&&(a.addEvent("cls",{[$y]:"",[zy]:e}),a.end(r))}function I$(){try{return PerformanceObserver.supportedEntryTypes.includes("layout-shift")}catch{return!1}}const R$=2147483647;let xC=0,Zr={},$i,Bh;function N$({recordClsStandaloneSpans:e}){const t=y2();if(t&&Ii){t.mark&&wt.performance.mark("sentry-tracing-init");const n=L$(),r=D$(),i=F$(),s=e?T$():M$();return()=>{n(),r(),i(),s&&s()}}return()=>{}}function O$(){Yd("longtask",({entries:e})=>{const t=qr();if(!t)return;const{op:n,start_timestamp:r}=mn(t);for(const i of e){const s=fr(Ii+i.startTime),o=fr(i.duration);n==="navigation"&&r&&s<r||Ia(t,s,s+o,{name:"Main UI thread blocked",op:"ui.long-task",attributes:{[Vr]:"auto.ui.browser.metrics"}})}})}function P$(){new PerformanceObserver(t=>{const n=qr();if(n)for(const r of t.getEntries()){if(!r.scripts[0])continue;const i=fr(Ii+r.startTime),{start_timestamp:s,op:o}=mn(n);if(o==="navigation"&&s&&i<s)continue;const a=fr(r.duration),l={[Vr]:"auto.ui.browser.metrics"},c=r.scripts[0],{invoker:f,invokerType:p,sourceURL:g,sourceFunctionName:y,sourceCharPosition:x}=c;l["browser.script.invoker"]=f,l["browser.script.invoker_type"]=p,g&&(l["code.filepath"]=g),y&&(l["code.function"]=y),x!==-1&&(l["browser.script.source_char_position"]=x),Ia(n,i,i+a,{name:"Main UI thread blocked",op:"ui.long-animation-frame",attributes:l})}}).observe({type:"long-animation-frame",buffered:!0})}function A$(){Yd("event",({entries:e})=>{const t=qr();if(t){for(const n of e)if(n.name==="click"){const r=fr(Ii+n.startTime),i=fr(n.duration),s={name:Ta(n.target),op:`ui.interaction.${n.name}`,startTime:r,attributes:{[Vr]:"auto.ui.browser.metrics"}},o=t7(n.target);o&&(s.attributes["ui.component_name"]=o),Ia(t,r,r+i,s)}}})}function M$(){return g2(({metric:e})=>{const t=e.entries[e.entries.length-1];t&&(Zr.cls={value:e.value,unit:""},Bh=t)},!0)}function D$(){return rj(({metric:e})=>{const t=e.entries[e.entries.length-1];t&&(Zr.lcp={value:e.value,unit:"millisecond"},$i=t)},!0)}function L$(){return ij(({metric:e})=>{const t=e.entries[e.entries.length-1];if(!t)return;const n=fr(Ii),r=fr(t.startTime);Zr.fid={value:e.value,unit:"millisecond"},Zr["mark.fid"]={value:n+r,unit:"second"}})}function F$(){return b$(({metric:e})=>{e.entries[e.entries.length-1]&&(Zr.ttfb={value:e.value,unit:"millisecond"})})}function B$(e,t){const n=y2();if(!n||!n.getEntries||!Ii)return;const r=fr(Ii),i=n.getEntries(),{op:s,start_timestamp:o}=mn(e);if(i.slice(xC).forEach(a=>{const l=fr(a.startTime),c=fr(Math.max(0,a.duration));if(!(s==="navigation"&&o&&r+l<o))switch(a.entryType){case"navigation":{z$(e,a,r);break}case"mark":case"paint":case"measure":{$$(e,a,l,c,r);const f=Hy(),p=a.startTime<f.firstHiddenTime;a.name==="first-paint"&&p&&(Zr.fp={value:a.startTime,unit:"millisecond"}),a.name==="first-contentful-paint"&&p&&(Zr.fcp={value:a.startTime,unit:"millisecond"});break}case"resource":{W$(e,a,a.name,l,c,r);break}}}),xC=Math.max(i.length-1,0),V$(e),s==="pageload"){Q$(Zr);const a=Zr["mark.fid"];a&&Zr.fid&&(Ia(e,a.value,a.value+fr(Zr.fid.value),{name:"first input delay",op:"ui.action",attributes:{[Vr]:"auto.ui.browser.metrics"}}),delete Zr["mark.fid"]),(!("fcp"in Zr)||!t.recordClsOnPageloadSpan)&&delete Zr.cls,Object.entries(Zr).forEach(([l,c])=>{$L(l,c.value,c.unit)}),e.setAttribute("performance.timeOrigin",r),e.setAttribute("performance.activationStart",Fp()),q$(e)}$i=void 0,Bh=void 0,Zr={}}function $$(e,t,n,r,i){const s=Lp(!1),o=fr(s?s.requestStart:0),a=i+Math.max(n,o),l=i+n,c=l+r,f={[Vr]:"auto.resource.browser.metrics"};return a!==l&&(f["sentry.browser.measure_happened_before_request"]=!0,f["sentry.browser.measure_start_time"]=a),Ia(e,a,c,{name:t.name,op:t.entryType,attributes:f}),a}function z$(e,t,n){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(r=>{Eg(e,t,r,n)}),Eg(e,t,"secureConnection",n,"TLS/SSL"),Eg(e,t,"fetch",n,"cache"),Eg(e,t,"domainLookup",n,"DNS"),H$(e,t,n)}function Eg(e,t,n,r,i=n){const s=U$(n),o=t[s],a=t[`${n}Start`];!a||!o||Ia(e,r+fr(a),r+fr(o),{op:`browser.${i}`,name:t.name,attributes:{[Vr]:"auto.ui.browser.metrics"}})}function U$(e){return e==="secureConnection"?"connectEnd":e==="fetch"?"domainLookupStart":`${e}End`}function H$(e,t,n){const r=n+fr(t.requestStart),i=n+fr(t.responseEnd),s=n+fr(t.responseStart);t.responseEnd&&(Ia(e,r,i,{op:"browser.request",name:t.name,attributes:{[Vr]:"auto.ui.browser.metrics"}}),Ia(e,s,i,{op:"browser.response",name:t.name,attributes:{[Vr]:"auto.ui.browser.metrics"}}))}function W$(e,t,n,r,i,s){if(t.initiatorType==="xmlhttprequest"||t.initiatorType==="fetch")return;const o=Jc(n),a={[Vr]:"auto.resource.browser.metrics"};jb(a,t,"transferSize","http.response_transfer_size"),jb(a,t,"encodedBodySize","http.response_content_length"),jb(a,t,"decodedBodySize","http.decoded_response_content_length");const l=t.deliveryType;l!=null&&(a["http.response_delivery_type"]=l);const c=t.renderBlockingStatus;c&&(a["resource.render_blocking_status"]=c),o.protocol&&(a["url.scheme"]=o.protocol.split(":").pop()),o.host&&(a["server.address"]=o.host),a["url.same_origin"]=n.includes(wt.location.origin);const{name:f,version:p}=cj(t.nextHopProtocol);a["network.protocol.name"]=f,a["network.protocol.version"]=p;const g=s+r,y=g+i;Ia(e,g,y,{name:n.replace(wt.location.origin,""),op:t.initiatorType?`resource.${t.initiatorType}`:"resource.other",attributes:a})}function V$(e){const t=wt.navigator;if(!t)return;const n=t.connection;n&&(n.effectiveType&&e.setAttribute("effectiveConnectionType",n.effectiveType),n.type&&e.setAttribute("connectionType",n.type),Tb(n.rtt)&&(Zr["connection.rtt"]={value:n.rtt,unit:"millisecond"})),Tb(t.deviceMemory)&&e.setAttribute("deviceMemory",`${t.deviceMemory} GB`),Tb(t.hardwareConcurrency)&&e.setAttribute("hardwareConcurrency",String(t.hardwareConcurrency))}function q$(e){$i&&($i.element&&e.setAttribute("lcp.element",Ta($i.element)),$i.id&&e.setAttribute("lcp.id",$i.id),$i.url&&e.setAttribute("lcp.url",$i.url.trim().slice(0,200)),$i.loadTime!=null&&e.setAttribute("lcp.loadTime",$i.loadTime),$i.renderTime!=null&&e.setAttribute("lcp.renderTime",$i.renderTime),e.setAttribute("lcp.size",$i.size)),Bh&&Bh.sources&&Bh.sources.forEach((t,n)=>e.setAttribute(`cls.source.${n+1}`,Ta(t.node)))}function jb(e,t,n,r){const i=t[n];i!=null&&i<R$&&(e[r]=i)}function Q$(e){const t=Lp(!1);if(!t)return;const{responseStart:n,requestStart:r}=t;r<=n&&(e["ttfb.requestTime"]={value:n-r,unit:"millisecond"})}const K$=1e3;let wC,bw,xw;function uj(e){Ql("dom",e),Kl("dom",G$)}function G$(){if(!wt.document)return;const e=Ns.bind(null,"dom"),t=_C(e,!0);wt.document.addEventListener("click",t,!1),wt.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(n=>{const i=wt[n],s=i&&i.prototype;!s||!s.hasOwnProperty||!s.hasOwnProperty("addEventListener")||(Hi(s,"addEventListener",function(o){return function(a,l,c){if(a==="click"||a=="keypress")try{const f=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},p=f[a]=f[a]||{refCount:0};if(!p.handler){const g=_C(e);p.handler=g,o.call(this,a,g,c)}p.refCount++}catch{}return o.call(this,a,l,c)}}),Hi(s,"removeEventListener",function(o){return function(a,l,c){if(a==="click"||a=="keypress")try{const f=this.__sentry_instrumentation_handlers__||{},p=f[a];p&&(p.refCount--,p.refCount<=0&&(o.call(this,a,p.handler,c),p.handler=void 0,delete f[a]),Object.keys(f).length===0&&delete this.__sentry_instrumentation_handlers__)}catch{}return o.call(this,a,l,c)}}))})}function Y$(e){if(e.type!==bw)return!1;try{if(!e.target||e.target._sentryId!==xw)return!1}catch{}return!0}function J$(e,t){return e!=="keypress"?!1:!t||!t.tagName?!0:!(t.tagName==="INPUT"||t.tagName==="TEXTAREA"||t.isContentEditable)}function _C(e,t=!1){return n=>{if(!n||n._sentryCaptured)return;const r=X$(n);if(J$(n.type,r))return;Ps(n,"_sentryCaptured",!0),r&&!r._sentryId&&Ps(r,"_sentryId",ls());const i=n.type==="keypress"?"input":n.type;Y$(n)||(e({event:n,name:i,global:t}),bw=n.type,xw=r?r._sentryId:void 0),clearTimeout(wC),wC=wt.setTimeout(()=>{xw=void 0,bw=void 0},K$)}}function X$(e){try{return e.target}catch{return null}}let Cg;function Wy(e){const t="history";Ql(t,e),Kl(t,Z$)}function Z$(){if(!RB())return;const e=wt.onpopstate;wt.onpopstate=function(...n){const r=wt.location.href,i=Cg;if(Cg=r,Ns("history",{from:i,to:r}),e)try{return e.apply(this,n)}catch{}};function t(n){return function(...r){const i=r.length>2?r[2]:void 0;if(i){const s=Cg,o=String(i);Cg=o,Ns("history",{from:s,to:o})}return n.apply(this,r)}}Hi(wt.history,"pushState",t),Hi(wt.history,"replaceState",t)}const T0={};function dj(e){const t=T0[e];if(t)return t;let n=wt[e];if(hw(n))return T0[e]=n.bind(wt);const r=wt.document;if(r&&typeof r.createElement=="function")try{const i=r.createElement("iframe");i.hidden=!0,r.head.appendChild(i);const s=i.contentWindow;s&&s[e]&&(n=s[e]),r.head.removeChild(i)}catch(i){m2&&Ge.warn(`Could not create sandbox iframe for ${e} check, bailing to window.${e}: `,i)}return n&&(T0[e]=n.bind(wt))}function SC(e){T0[e]=void 0}function Jd(...e){return dj("setTimeout")(...e)}const Hc="__sentry_xhr_v3__";function fj(e){Ql("xhr",e),Kl("xhr",ez)}function ez(){if(!wt.XMLHttpRequest)return;const e=XMLHttpRequest.prototype;e.open=new Proxy(e.open,{apply(t,n,r){const i=new Error,s=ji()*1e3,o=wa(r[0])?r[0].toUpperCase():void 0,a=tz(r[1]);if(!o||!a)return t.apply(n,r);n[Hc]={method:o,url:a,request_headers:{}},o==="POST"&&a.match(/sentry_key/)&&(n.__sentry_own_request__=!0);const l=()=>{const c=n[Hc];if(c&&n.readyState===4){try{c.status_code=n.status}catch{}const f={endTimestamp:ji()*1e3,startTimestamp:s,xhr:n,virtualError:i};Ns("xhr",f)}};return"onreadystatechange"in n&&typeof n.onreadystatechange=="function"?n.onreadystatechange=new Proxy(n.onreadystatechange,{apply(c,f,p){return l(),c.apply(f,p)}}):n.addEventListener("readystatechange",l),n.setRequestHeader=new Proxy(n.setRequestHeader,{apply(c,f,p){const[g,y]=p,x=f[Hc];return x&&wa(g)&&wa(y)&&(x.request_headers[g.toLowerCase()]=y),c.apply(f,p)}}),t.apply(n,r)}}),e.send=new Proxy(e.send,{apply(t,n,r){const i=n[Hc];if(!i)return t.apply(n,r);r[0]!==void 0&&(i.body=r[0]);const s={startTimestamp:ji()*1e3,xhr:n};return Ns("xhr",s),t.apply(n,r)}})}function tz(e){if(wa(e))return e;try{return e.toString()}catch{}}const Ib=[],j0=new Map;function nz(){if(y2()&&Ii){const t=rz();return()=>{t()}}return()=>{}}const EC={click:"click",pointerdown:"click",pointerup:"click",mousedown:"click",mouseup:"click",touchstart:"click",touchend:"click",mouseover:"hover",mouseout:"hover",mouseenter:"hover",mouseleave:"hover",pointerover:"hover",pointerout:"hover",pointerenter:"hover",pointerleave:"hover",dragstart:"drag",dragend:"drag",drag:"drag",dragenter:"drag",dragleave:"drag",dragover:"drag",drop:"drag",keydown:"press",keyup:"press",keypress:"press",input:"press"};function rz(){return sj(({metric:e})=>{if(e.value==null)return;const t=e.entries.find(x=>x.duration===e.value&&EC[x.name]);if(!t)return;const{interactionId:n}=t,r=EC[t.name],i=fr(Ii+t.startTime),s=fr(e.value),o=qr(),a=o?ei(o):void 0,c=(n!=null?j0.get(n):void 0)||a,f=c?mn(c).description:An().getScopeData().transactionName,p=Ta(t.target),g=Or({[Vr]:"auto.http.browser.inp",[iu]:`ui.interaction.${r}`,[o2]:t.duration}),y=lj({name:p,transaction:f,attributes:g,startTime:i});y&&(y.addEvent("inp",{[$y]:"millisecond",[zy]:e.value}),y.end(i+s))})}function iz(e){const t=({entries:n})=>{const r=qr(),i=r&&ei(r);n.forEach(s=>{if(!k$(s)||!i)return;const o=s.interactionId;if(o!=null&&!j0.has(o)){if(Ib.length>10){const a=Ib.shift();j0.delete(a)}Ib.push(o),j0.set(o,i)}})};Yd("event",t),Yd("first-input",t)}function sz(e,t=dj("fetch")){let n=0,r=0;function i(s){const o=s.body.length;n+=o,r++;const a={body:s.body,method:"POST",referrerPolicy:"origin",headers:e.headers,keepalive:n<=6e4&&r<15,...e.fetchOptions};if(!t)return SC("fetch"),U0("No fetch implementation available");try{return t(e.url,a).then(l=>(n-=o,r--,{statusCode:l.status,headers:{"x-sentry-rate-limits":l.headers.get("X-Sentry-Rate-Limits"),"retry-after":l.headers.get("Retry-After")}}))}catch(l){return SC("fetch"),n-=o,r--,U0(l)}}return DF(e,i)}const oz=30,az=50;function ww(e,t,n,r){const i={filename:e,function:t==="<anonymous>"?ru:t,in_app:!0};return n!==void 0&&(i.lineno=n),r!==void 0&&(i.colno=r),i}const lz=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,cz=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,uz=/\((\S*)(?::(\d+))(?::(\d+))\)/,dz=e=>{const t=lz.exec(e);if(t){const[,r,i,s]=t;return ww(r,ru,+i,+s)}const n=cz.exec(e);if(n){if(n[2]&&n[2].indexOf("eval")===0){const o=uz.exec(n[2]);o&&(n[2]=o[1],n[3]=o[2],n[4]=o[3])}const[i,s]=hj(n[1]||ru,n[2]);return ww(s,i,n[3]?+n[3]:void 0,n[4]?+n[4]:void 0)}},fz=[oz,dz],hz=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,pz=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,mz=e=>{const t=hz.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){const s=pz.exec(t[3]);s&&(t[1]=t[1]||"eval",t[3]=s[1],t[4]=s[2],t[5]="")}let r=t[3],i=t[1]||ru;return[i,r]=hj(i,r),ww(r,i,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}},gz=[az,mz],yz=[fz,gz],vz=K8(...yz),hj=(e,t)=>{const n=e.indexOf("safari-extension")!==-1,r=e.indexOf("safari-web-extension")!==-1;return n||r?[e.indexOf("@")!==-1?e.split("@")[0]:ru,n?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]},kg=1024,bz="Breadcrumbs",xz=((e={})=>{const t={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e};return{name:bz,setup(n){t.console&&aB(Ez(n)),t.dom&&uj(Sz(n,t.dom)),t.xhr&&fj(Cz(n)),t.fetch&&q7(kz(n)),t.history&&Wy(Tz(n)),t.sentry&&n.on("beforeSendEvent",_z(n))}}}),wz=xz;function _z(e){return function(n){rn()===e&&Dl({category:`sentry.${n.type==="transaction"?"transaction":"event"}`,event_id:n.event_id,level:n.level,message:fl(n)},{event:n})}}function Sz(e,t){return function(r){if(rn()!==e)return;let i,s,o=typeof t=="object"?t.serializeAttribute:void 0,a=typeof t=="object"&&typeof t.maxStringLength=="number"?t.maxStringLength:void 0;a&&a>kg&&(Bo&&Ge.warn(`\`dom.maxStringLength\` cannot exceed ${kg}, but a value of ${a} was configured. Sentry will use ${kg} instead.`),a=kg),typeof o=="string"&&(o=[o]);try{const c=r.event,f=jz(c)?c.target:c;i=Ta(f,{keyAttrs:o,maxStringLength:a}),s=t7(f)}catch{i="<unknown>"}if(i.length===0)return;const l={category:`ui.${r.name}`,message:i};s&&(l.data={"ui.component_name":s}),Dl(l,{event:r.event,name:r.name,global:r.global})}}function Ez(e){return function(n){if(rn()!==e)return;const r={category:"console",data:{arguments:n.args,logger:"console"},level:z7(n.level),message:FE(n.args," ")};if(n.level==="assert")if(n.args[0]===!1)r.message=`Assertion failed: ${FE(n.args.slice(1)," ")||"console.assert"}`,r.data.arguments=n.args.slice(1);else return;Dl(r,{input:n.args,level:n.level})}}function Cz(e){return function(n){if(rn()!==e)return;const{startTimestamp:r,endTimestamp:i}=n,s=n.xhr[Hc];if(!r||!i||!s)return;const{method:o,url:a,status_code:l,body:c}=s,f={method:o,url:a,status_code:l},p={xhr:n.xhr,input:c,startTimestamp:r,endTimestamp:i},g=W7(l);Dl({category:"xhr",data:f,type:"http",level:g},p)}}function kz(e){return function(n){if(rn()!==e)return;const{startTimestamp:r,endTimestamp:i}=n;if(i&&!(n.fetchData.url.match(/sentry_key/)&&n.fetchData.method==="POST"))if(n.error){const s=n.fetchData,o={data:n.error,input:n.args,startTimestamp:r,endTimestamp:i};Dl({category:"fetch",data:s,level:"error",type:"http"},o)}else{const s=n.response,o={...n.fetchData,status_code:s&&s.status},a={input:n.args,response:s,startTimestamp:r,endTimestamp:i},l=W7(o.status_code);Dl({category:"fetch",data:o,type:"http",level:l},a)}}}function Tz(e){return function(n){if(rn()!==e)return;let r=n.from,i=n.to;const s=Jc(At.location.href);let o=r?Jc(r):void 0;const a=Jc(i);(!o||!o.path)&&(o=s),s.protocol===a.protocol&&s.host===a.host&&(i=a.relative),s.protocol===o.protocol&&s.host===o.host&&(r=o.relative),Dl({category:"navigation",data:{from:r,to:i}})}}function jz(e){return!!e&&!!e.target}const Iz=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],Rz="BrowserApiErrors",Nz=((e={})=>{const t={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...e};return{name:Rz,setupOnce(){t.setTimeout&&Hi(At,"setTimeout",CC),t.setInterval&&Hi(At,"setInterval",CC),t.requestAnimationFrame&&Hi(At,"requestAnimationFrame",Pz),t.XMLHttpRequest&&"XMLHttpRequest"in At&&Hi(XMLHttpRequest.prototype,"send",Az);const n=t.eventTarget;n&&(Array.isArray(n)?n:Iz).forEach(Mz)}}}),Oz=Nz;function CC(e){return function(...t){const n=t[0];return t[0]=Gd(n,{mechanism:{data:{function:Ca(e)},handled:!1,type:"instrument"}}),e.apply(this,t)}}function Pz(e){return function(t){return e.apply(this,[Gd(t,{mechanism:{data:{function:"requestAnimationFrame",handler:Ca(e)},handled:!1,type:"instrument"}})])}}function Az(e){return function(...t){const n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(i=>{i in n&&typeof n[i]=="function"&&Hi(n,i,function(s){const o={mechanism:{data:{function:i,handler:Ca(s)},handled:!1,type:"instrument"}},a=r2(s);return a&&(o.mechanism.data.handler=Ca(a)),Gd(s,o)})}),e.apply(this,t)}}function Mz(e){const n=At[e],r=n&&n.prototype;!r||!r.hasOwnProperty||!r.hasOwnProperty("addEventListener")||(Hi(r,"addEventListener",function(i){return function(s,o,a){try{Dz(o)&&(o.handleEvent=Gd(o.handleEvent,{mechanism:{data:{function:"handleEvent",handler:Ca(o),target:e},handled:!1,type:"instrument"}}))}catch{}return i.apply(this,[s,Gd(o,{mechanism:{data:{function:"addEventListener",handler:Ca(o),target:e},handled:!1,type:"instrument"}}),a])}}),Hi(r,"removeEventListener",function(i){return function(s,o,a){try{const l=o.__sentry_wrapped__;l&&i.call(this,s,l,a)}catch{}return i.call(this,s,o,a)}}))}function Dz(e){return typeof e.handleEvent=="function"}const Lz=()=>({name:"BrowserSession",setupOnce(){if(typeof At.document>"u"){Bo&&Ge.warn("Using the `browserSessionIntegration` in non-browser environments is not supported.");return}sC({ignoreDuration:!0}),oC(),Wy(({from:e,to:t})=>{e!==void 0&&e!==t&&(sC({ignoreDuration:!0}),oC())})}}),Fz="GlobalHandlers",Bz=((e={})=>{const t={onerror:!0,onunhandledrejection:!0,...e};return{name:Fz,setupOnce(){Error.stackTraceLimit=50},setup(n){t.onerror&&(zz(n),kC("onerror")),t.onunhandledrejection&&(Uz(n),kC("onunhandledrejection"))}}}),$z=Bz;function zz(e){G8(t=>{const{stackParser:n,attachStacktrace:r}=pj();if(rn()!==e||K7())return;const{msg:i,url:s,line:o,column:a,error:l}=t,c=Vz(p2(n,l||i,void 0,r,!1),s,o,a);c.level="error",R7(c,{originalException:l,mechanism:{handled:!1,type:"onerror"}})})}function Uz(e){Y8(t=>{const{stackParser:n,attachStacktrace:r}=pj();if(rn()!==e||K7())return;const i=Hz(t),s=n2(i)?Wz(i):p2(n,i,void 0,r,!0);s.level="error",R7(s,{originalException:i,mechanism:{handled:!1,type:"onunhandledrejection"}})})}function Hz(e){if(n2(e))return e;try{if("reason"in e)return e.reason;if("detail"in e&&"reason"in e.detail)return e.detail.reason}catch{}return e}function Wz(e){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(e)}`}]}}}function Vz(e,t,n,r){const i=e.exception=e.exception||{},s=i.values=i.values||[],o=s[0]=s[0]||{},a=o.stacktrace=o.stacktrace||{},l=a.frames=a.frames||[],c=r,f=n,p=wa(t)&&t.length>0?t:e7();return l.length===0&&l.push({colno:c,filename:p,function:ru,in_app:!0,lineno:f}),e}function kC(e){Bo&&Ge.log(`Global Handler attached: ${e}`)}function pj(){const e=rn();return e&&e.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}const qz=()=>({name:"HttpContext",preprocessEvent(e){if(!At.navigator&&!At.location&&!At.document)return;const t=e.request&&e.request.url||At.location&&At.location.href,{referrer:n}=At.document||{},{userAgent:r}=At.navigator||{},i={...e.request&&e.request.headers,...n&&{Referer:n},...r&&{"User-Agent":r}},s={...e.request,...t&&{url:t},headers:i};e.request=s}}),Qz="cause",Kz=5,Gz="LinkedErrors",Yz=((e={})=>{const t=e.limit||Kz,n=e.key||Qz;return{name:Gz,preprocessEvent(r,i,s){const o=s.getOptions();sB(f2,o.stackParser,o.maxValueLength,n,t,r,i)}}}),Jz=Yz;function Xz(e){const t=[KF(),WF(),Oz(),wz(),$z(),Jz(),dB(),qz()];return e.autoSessionTracking!==!1&&t.push(Lz()),t}function Zz(e={}){const t={defaultIntegrations:Xz(e),release:typeof __SENTRY_RELEASE__=="string"?__SENTRY_RELEASE__:At.SENTRY_RELEASE&&At.SENTRY_RELEASE.id?At.SENTRY_RELEASE.id:void 0,autoSessionTracking:!0,sendClientReports:!0};return e.defaultIntegrations==null&&delete e.defaultIntegrations,{...t,...e}}function eU(){const e=typeof At.window<"u"&&At;if(!e)return!1;const t=e.chrome?"chrome":"browser",n=e[t],r=n&&n.runtime&&n.runtime.id,i=At.location&&At.location.href||"",s=["chrome-extension:","moz-extension:","ms-browser-extension:","safari-web-extension:"],o=!!r&&At===At.top&&s.some(l=>i.startsWith(`${l}//`)),a=typeof e.nw<"u";return!!r&&!o&&!a}function tU(e={}){const t=Zz(e);if(!t.skipBrowserExtensionCheck&&eU()){ql(()=>{console.error("[Sentry] You cannot run Sentry this way in a browser extension, check: https://docs.sentry.io/platforms/javascript/best-practices/browser-extensions/")});return}Bo&&(V7()||Ge.warn("No Fetch API detected. The Sentry SDK requires a Fetch API compatible environment to send events. Please add a Fetch API polyfill."));const n={...t,stackParser:ED(t.stackParser||vz),integrations:SF(t),transport:t.transport||sz};return IF(qB,n)}const Nn=on,v2="sentryReplaySession",nU="replay_event",b2="Unable to send Replay",rU=3e5,iU=9e5,sU=5e3,oU=5500,aU=6e4,lU=5e3,cU=3,TC=15e4,Tg=5e3,uU=3e3,dU=300,x2=2e7,fU=4999,hU=15e3,jC=36e5;function _w(e,t){return e??t()}function rp(e){let t,n=e[0],r=1;for(;r<e.length;){const i=e[r],s=e[r+1];if(r+=2,(i==="optionalAccess"||i==="optionalCall")&&n==null)return;i==="access"||i==="optionalAccess"?(t=n,n=s(n)):(i==="call"||i==="optionalCall")&&(n=s((...o)=>n.call(t,...o)),t=void 0)}return n}var Rr;(function(e){e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment"})(Rr||(Rr={}));function pU(e){return e.nodeType===e.ELEMENT_NODE}function $h(e){const t=rp([e,"optionalAccess",n=>n.host]);return rp([t,"optionalAccess",n=>n.shadowRoot])===e}function zh(e){return Object.prototype.toString.call(e)==="[object ShadowRoot]"}function mU(e){return e.includes(" background-clip: text;")&&!e.includes(" -webkit-background-clip: text;")&&(e=e.replace(/\sbackground-clip:\s*text;/g," -webkit-background-clip: text; background-clip: text;")),e}function gU(e){const{cssText:t}=e;if(t.split('"').length<3)return t;const n=["@import",`url(${JSON.stringify(e.href)})`];return e.layerName===""?n.push("layer"):e.layerName&&n.push(`layer(${e.layerName})`),e.supportsText&&n.push(`supports(${e.supportsText})`),e.media.length&&n.push(e.media.mediaText),n.join(" ")+";"}function K0(e){try{const t=e.rules||e.cssRules;return t?mU(Array.from(t,mj).join("")):null}catch{return null}}function yU(e){let t="";for(let n=0;n<e.style.length;n++){const r=e.style,i=r[n],s=r.getPropertyPriority(i);t+=`${i}:${r.getPropertyValue(i)}${s?" !important":""};`}return`${e.selectorText} { ${t} }`}function mj(e){let t;if(bU(e))try{t=K0(e.styleSheet)||gU(e)}catch{}else if(xU(e)){let n=e.cssText;const r=e.selectorText.includes(":"),i=typeof e.style.all=="string"&&e.style.all;if(i&&(n=yU(e)),r&&(n=vU(n)),r||i)return n}return t||e.cssText}function vU(e){const t=/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm;return e.replace(t,"$1\\$2")}function bU(e){return"styleSheet"in e}function xU(e){return"selectorText"in e}class gj{constructor(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}getId(t){if(!t)return-1;const n=rp([this,"access",r=>r.getMeta,"call",r=>r(t),"optionalAccess",r=>r.id]);return _w(n,()=>-1)}getNode(t){return this.idNodeMap.get(t)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(t){return this.nodeMetaMap.get(t)||null}removeNodeFromMap(t){const n=this.getId(t);this.idNodeMap.delete(n),t.childNodes&&t.childNodes.forEach(r=>this.removeNodeFromMap(r))}has(t){return this.idNodeMap.has(t)}hasNode(t){return this.nodeMetaMap.has(t)}add(t,n){const r=n.id;this.idNodeMap.set(r,t),this.nodeMetaMap.set(t,n)}replace(t,n){const r=this.getNode(t);if(r){const i=this.nodeMetaMap.get(r);i&&this.nodeMetaMap.set(n,i)}this.idNodeMap.set(t,n)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}}function wU(){return new gj}function Vy({maskInputOptions:e,tagName:t,type:n}){return t==="OPTION"&&(t="SELECT"),!!(e[t.toLowerCase()]||n&&e[n]||n==="password"||t==="INPUT"&&!n&&e.text)}function ip({isMasked:e,element:t,value:n,maskInputFn:r}){let i=n||"";return e?(r&&(i=r(i,t)),"*".repeat(i.length)):i}function Xd(e){return e.toLowerCase()}function Sw(e){return e.toUpperCase()}const IC="__rrweb_original__";function _U(e){const t=e.getContext("2d");if(!t)return!0;const n=50;for(let r=0;r<e.width;r+=n)for(let i=0;i<e.height;i+=n){const s=t.getImageData,o=IC in s?s[IC]:s;if(new Uint32Array(o.call(t,r,i,Math.min(n,e.width-r),Math.min(n,e.height-i)).data.buffer).some(l=>l!==0))return!1}return!0}function w2(e){const t=e.type;return e.hasAttribute("data-rr-is-password")?"password":t?Xd(t):null}function G0(e,t,n){return t==="INPUT"&&(n==="radio"||n==="checkbox")?e.getAttribute("value")||"":e.value}function yj(e,t){let n;try{n=new URL(e,_w(t,()=>window.location.href))}catch{return null}const r=/\.([0-9a-z]+)(?:$)/i,i=n.pathname.match(r);return _w(rp([i,"optionalAccess",s=>s[1]]),()=>null)}const RC={};function vj(e){const t=RC[e];if(t)return t;const n=window.document;let r=window[e];if(n&&typeof n.createElement=="function")try{const i=n.createElement("iframe");i.hidden=!0,n.head.appendChild(i);const s=i.contentWindow;s&&s[e]&&(r=s[e]),n.head.removeChild(i)}catch{}return RC[e]=r.bind(window)}function Ew(...e){return vj("setTimeout")(...e)}function bj(...e){return vj("clearTimeout")(...e)}function xj(e){try{return e.contentDocument}catch{}}let SU=1;const EU=new RegExp("[^a-z0-9-_:]"),sp=-2;function _2(){return SU++}function CU(e){if(e instanceof HTMLFormElement)return"form";const t=Xd(e.tagName);return EU.test(t)?"div":t}function kU(e){let t="";return e.indexOf("//")>-1?t=e.split("/").slice(0,3).join("/"):t=e.split("/")[0],t=t.split("?")[0],t}let rd,NC;const TU=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,jU=/^(?:[a-z+]+:)?\/\//i,IU=/^www\..*/i,RU=/^(data:)([^,]*),(.*)/i;function Y0(e,t){return(e||"").replace(TU,(n,r,i,s,o,a)=>{const l=i||o||a,c=r||s||"";if(!l)return n;if(jU.test(l)||IU.test(l))return`url(${c}${l}${c})`;if(RU.test(l))return`url(${c}${l}${c})`;if(l[0]==="/")return`url(${c}${kU(t)+l}${c})`;const f=t.split("/"),p=l.split("/");f.pop();for(const g of p)g!=="."&&(g===".."?f.pop():f.push(g));return`url(${c}${f.join("/")}${c})`})}const NU=/^[^ \t\n\r\u000c]+/,OU=/^[, \t\n\r\u000c]+/;function PU(e,t){if(t.trim()==="")return t;let n=0;function r(s){let o;const a=s.exec(t.substring(n));return a?(o=a[0],n+=o.length,o):""}const i=[];for(;r(OU),!(n>=t.length);){let s=r(NU);if(s.slice(-1)===",")s=Rd(e,s.substring(0,s.length-1)),i.push(s);else{let o="";s=Rd(e,s);let a=!1;for(;;){const l=t.charAt(n);if(l===""){i.push((s+o).trim());break}else if(a)l===")"&&(a=!1);else if(l===","){n+=1,i.push((s+o).trim());break}else l==="("&&(a=!0);o+=l,n+=1}}}return i.join(", ")}const OC=new WeakMap;function Rd(e,t){return!t||t.trim()===""?t:qy(e,t)}function AU(e){return!!(e.tagName==="svg"||e.ownerSVGElement)}function qy(e,t){let n=OC.get(e);if(n||(n=e.createElement("a"),OC.set(e,n)),!t)t="";else if(t.startsWith("blob:")||t.startsWith("data:"))return t;return n.setAttribute("href",t),n.href}function wj(e,t,n,r,i,s){return r&&(n==="src"||n==="href"&&!(t==="use"&&r[0]==="#")||n==="xlink:href"&&r[0]!=="#"||n==="background"&&(t==="table"||t==="td"||t==="th")?Rd(e,r):n==="srcset"?PU(e,r):n==="style"?Y0(r,qy(e)):t==="object"&&n==="data"?Rd(e,r):typeof s=="function"?s(n,r,i):r)}function _j(e,t,n){return(e==="video"||e==="audio")&&t==="autoplay"}function MU(e,t,n,r){try{if(r&&e.matches(r))return!1;if(typeof t=="string"){if(e.classList.contains(t))return!0}else for(let i=e.classList.length;i--;){const s=e.classList[i];if(t.test(s))return!0}if(n)return e.matches(n)}catch{}return!1}function DU(e,t){for(let n=e.classList.length;n--;){const r=e.classList[n];if(t.test(r))return!0}return!1}function Wc(e,t,n=1/0,r=0){return!e||e.nodeType!==e.ELEMENT_NODE||r>n?-1:t(e)?r:Wc(e.parentNode,t,n,r+1)}function Nd(e,t){return n=>{const r=n;if(r===null)return!1;try{if(e){if(typeof e=="string"){if(r.matches(`.${e}`))return!0}else if(DU(r,e))return!0}return!!(t&&r.matches(t))}catch{return!1}}}function Zd(e,t,n,r,i,s){try{const o=e.nodeType===e.ELEMENT_NODE?e:e.parentElement;if(o===null)return!1;if(o.tagName==="INPUT"){const c=o.getAttribute("autocomplete");if(["current-password","new-password","cc-number","cc-exp","cc-exp-month","cc-exp-year","cc-csc"].includes(c))return!0}let a=-1,l=-1;if(s){if(l=Wc(o,Nd(r,i)),l<0)return!0;a=Wc(o,Nd(t,n),l>=0?l:1/0)}else{if(a=Wc(o,Nd(t,n)),a<0)return!1;l=Wc(o,Nd(r,i),a>=0?a:1/0)}return a>=0?l>=0?a<=l:!0:l>=0?!1:!!s}catch{}return!!s}function LU(e,t,n){const r=e.contentWindow;if(!r)return;let i=!1,s;try{s=r.document.readyState}catch{return}if(s!=="complete"){const a=Ew(()=>{i||(t(),i=!0)},n);e.addEventListener("load",()=>{bj(a),i=!0,t()});return}const o="about:blank";if(r.location.href!==o||e.src===o||e.src==="")return Ew(t,0),e.addEventListener("load",t);e.addEventListener("load",t)}function FU(e,t,n){let r=!1,i;try{i=e.sheet}catch{return}if(i)return;const s=Ew(()=>{r||(t(),r=!0)},n);e.addEventListener("load",()=>{bj(s),r=!0,t()})}function BU(e,t){const{doc:n,mirror:r,blockClass:i,blockSelector:s,unblockSelector:o,maskAllText:a,maskAttributeFn:l,maskTextClass:c,unmaskTextClass:f,maskTextSelector:p,unmaskTextSelector:g,inlineStylesheet:y,maskInputOptions:x={},maskTextFn:_,maskInputFn:S,dataURLOptions:C={},inlineImages:I,recordCanvas:A,keepIframeSrcFn:z,newlyAddedElement:U=!1}=t,O=$U(n,r);switch(e.nodeType){case e.DOCUMENT_NODE:return e.compatMode!=="CSS1Compat"?{type:Rr.Document,childNodes:[],compatMode:e.compatMode}:{type:Rr.Document,childNodes:[]};case e.DOCUMENT_TYPE_NODE:return{type:Rr.DocumentType,name:e.name,publicId:e.publicId,systemId:e.systemId,rootId:O};case e.ELEMENT_NODE:return UU(e,{doc:n,blockClass:i,blockSelector:s,unblockSelector:o,inlineStylesheet:y,maskAttributeFn:l,maskInputOptions:x,maskInputFn:S,dataURLOptions:C,inlineImages:I,recordCanvas:A,keepIframeSrcFn:z,newlyAddedElement:U,rootId:O,maskTextClass:c,unmaskTextClass:f,maskTextSelector:p,unmaskTextSelector:g});case e.TEXT_NODE:return zU(e,{doc:n,maskAllText:a,maskTextClass:c,unmaskTextClass:f,maskTextSelector:p,unmaskTextSelector:g,maskTextFn:_,maskInputOptions:x,maskInputFn:S,rootId:O});case e.CDATA_SECTION_NODE:return{type:Rr.CDATA,textContent:"",rootId:O};case e.COMMENT_NODE:return{type:Rr.Comment,textContent:e.textContent||"",rootId:O};default:return!1}}function $U(e,t){if(!t.hasNode(e))return;const n=t.getId(e);return n===1?void 0:n}function zU(e,t){const{maskAllText:n,maskTextClass:r,unmaskTextClass:i,maskTextSelector:s,unmaskTextSelector:o,maskTextFn:a,maskInputOptions:l,maskInputFn:c,rootId:f}=t,p=e.parentNode&&e.parentNode.tagName;let g=e.textContent;const y=p==="STYLE"?!0:void 0,x=p==="SCRIPT"?!0:void 0,_=p==="TEXTAREA"?!0:void 0;if(y&&g){try{e.nextSibling||e.previousSibling||rp([e,"access",C=>C.parentNode,"access",C=>C.sheet,"optionalAccess",C=>C.cssRules])&&(g=K0(e.parentNode.sheet))}catch(C){console.warn(`Cannot get CSS styles from text's parentNode. Error: ${C}`,e)}g=Y0(g,qy(t.doc))}x&&(g="SCRIPT_PLACEHOLDER");const S=Zd(e,r,s,i,o,n);if(!y&&!x&&!_&&g&&S&&(g=a?a(g,e.parentElement):g.replace(/[\S]/g,"*")),_&&g&&(l.textarea||S)&&(g=c?c(g,e.parentNode):g.replace(/[\S]/g,"*")),p==="OPTION"&&g){const C=Vy({type:null,tagName:p,maskInputOptions:l});g=ip({isMasked:Zd(e,r,s,i,o,C),element:e,value:g,maskInputFn:c})}return{type:Rr.Text,textContent:g||"",isStyle:y,rootId:f}}function UU(e,t){const{doc:n,blockClass:r,blockSelector:i,unblockSelector:s,inlineStylesheet:o,maskInputOptions:a={},maskAttributeFn:l,maskInputFn:c,dataURLOptions:f={},inlineImages:p,recordCanvas:g,keepIframeSrcFn:y,newlyAddedElement:x=!1,rootId:_,maskTextClass:S,unmaskTextClass:C,maskTextSelector:I,unmaskTextSelector:A}=t,z=MU(e,r,i,s),U=CU(e);let O={};const N=e.attributes.length;for(let $=0;$<N;$++){const L=e.attributes[$];L.name&&!_j(U,L.name,L.value)&&(O[L.name]=wj(n,U,Xd(L.name),L.value,e,l))}if(U==="link"&&o){const $=Array.from(n.styleSheets).find(Z=>Z.href===e.href);let L=null;$&&(L=K0($)),L&&(O.rel=null,O.href=null,O.crossorigin=null,O._cssText=Y0(L,$.href))}if(U==="style"&&e.sheet&&!(e.innerText||e.textContent||"").trim().length){const $=K0(e.sheet);$&&(O._cssText=Y0($,qy(n)))}if(U==="input"||U==="textarea"||U==="select"||U==="option"){const $=e,L=w2($),Z=G0($,Sw(U),L),Y=$.checked;if(L!=="submit"&&L!=="button"&&Z){const he=Zd($,S,I,C,A,Vy({type:L,tagName:Sw(U),maskInputOptions:a}));O.value=ip({isMasked:he,element:$,value:Z,maskInputFn:c})}Y&&(O.checked=Y)}if(U==="option"&&(e.selected&&!a.select?O.selected=!0:delete O.selected),U==="canvas"&&g){if(e.__context==="2d")_U(e)||(O.rr_dataURL=e.toDataURL(f.type,f.quality));else if(!("__context"in e)){const $=e.toDataURL(f.type,f.quality),L=n.createElement("canvas");L.width=e.width,L.height=e.height;const Z=L.toDataURL(f.type,f.quality);$!==Z&&(O.rr_dataURL=$)}}if(U==="img"&&p){rd||(rd=n.createElement("canvas"),NC=rd.getContext("2d"));const $=e,L=$.currentSrc||$.getAttribute("src")||"<unknown-src>",Z=$.crossOrigin,Y=()=>{$.removeEventListener("load",Y);try{rd.width=$.naturalWidth,rd.height=$.naturalHeight,NC.drawImage($,0,0),O.rr_dataURL=rd.toDataURL(f.type,f.quality)}catch(he){if($.crossOrigin!=="anonymous"){$.crossOrigin="anonymous",$.complete&&$.naturalWidth!==0?Y():$.addEventListener("load",Y);return}else console.warn(`Cannot inline img src=${L}! Error: ${he}`)}$.crossOrigin==="anonymous"&&(Z?O.crossOrigin=Z:$.removeAttribute("crossorigin"))};$.complete&&$.naturalWidth!==0?Y():$.addEventListener("load",Y)}if((U==="audio"||U==="video")&&(O.rr_mediaState=e.paused?"paused":"played",O.rr_mediaCurrentTime=e.currentTime),x||(e.scrollLeft&&(O.rr_scrollLeft=e.scrollLeft),e.scrollTop&&(O.rr_scrollTop=e.scrollTop)),z){const{width:$,height:L}=e.getBoundingClientRect();O={class:O.class,rr_width:`${$}px`,rr_height:`${L}px`}}U==="iframe"&&!y(O.src)&&(!z&&!xj(e)&&(O.rr_src=O.src),delete O.src);let F;try{customElements.get(U)&&(F=!0)}catch{}return{type:Rr.Element,tagName:U,attributes:O,childNodes:[],isSVG:AU(e)||void 0,needBlock:z,rootId:_,isCustom:F}}function jn(e){return e==null?"":e.toLowerCase()}function HU(e,t){if(t.comment&&e.type===Rr.Comment)return!0;if(e.type===Rr.Element){if(t.script&&(e.tagName==="script"||e.tagName==="link"&&(e.attributes.rel==="preload"||e.attributes.rel==="modulepreload")||e.tagName==="link"&&e.attributes.rel==="prefetch"&&typeof e.attributes.href=="string"&&yj(e.attributes.href)==="js"))return!0;if(t.headFavicon&&(e.tagName==="link"&&e.attributes.rel==="shortcut icon"||e.tagName==="meta"&&(jn(e.attributes.name).match(/^msapplication-tile(image|color)$/)||jn(e.attributes.name)==="application-name"||jn(e.attributes.rel)==="icon"||jn(e.attributes.rel)==="apple-touch-icon"||jn(e.attributes.rel)==="shortcut icon")))return!0;if(e.tagName==="meta"){if(t.headMetaDescKeywords&&jn(e.attributes.name).match(/^description|keywords$/))return!0;if(t.headMetaSocial&&(jn(e.attributes.property).match(/^(og|twitter|fb):/)||jn(e.attributes.name).match(/^(og|twitter):/)||jn(e.attributes.name)==="pinterest"))return!0;if(t.headMetaRobots&&(jn(e.attributes.name)==="robots"||jn(e.attributes.name)==="googlebot"||jn(e.attributes.name)==="bingbot"))return!0;if(t.headMetaHttpEquiv&&e.attributes["http-equiv"]!==void 0)return!0;if(t.headMetaAuthorship&&(jn(e.attributes.name)==="author"||jn(e.attributes.name)==="generator"||jn(e.attributes.name)==="framework"||jn(e.attributes.name)==="publisher"||jn(e.attributes.name)==="progid"||jn(e.attributes.property).match(/^article:/)||jn(e.attributes.property).match(/^product:/)))return!0;if(t.headMetaVerification&&(jn(e.attributes.name)==="google-site-verification"||jn(e.attributes.name)==="yandex-verification"||jn(e.attributes.name)==="csrf-token"||jn(e.attributes.name)==="p:domain_verify"||jn(e.attributes.name)==="verify-v1"||jn(e.attributes.name)==="verification"||jn(e.attributes.name)==="shopify-checkout-api-token"))return!0}}return!1}function Od(e,t){const{doc:n,mirror:r,blockClass:i,blockSelector:s,unblockSelector:o,maskAllText:a,maskTextClass:l,unmaskTextClass:c,maskTextSelector:f,unmaskTextSelector:p,skipChild:g=!1,inlineStylesheet:y=!0,maskInputOptions:x={},maskAttributeFn:_,maskTextFn:S,maskInputFn:C,slimDOMOptions:I,dataURLOptions:A={},inlineImages:z=!1,recordCanvas:U=!1,onSerialize:O,onIframeLoad:N,iframeLoadTimeout:F=5e3,onStylesheetLoad:$,stylesheetLoadTimeout:L=5e3,keepIframeSrcFn:Z=()=>!1,newlyAddedElement:Y=!1}=t;let{preserveWhiteSpace:he=!0}=t;const G=BU(e,{doc:n,mirror:r,blockClass:i,blockSelector:s,maskAllText:a,unblockSelector:o,maskTextClass:l,unmaskTextClass:c,maskTextSelector:f,unmaskTextSelector:p,inlineStylesheet:y,maskInputOptions:x,maskAttributeFn:_,maskTextFn:S,maskInputFn:C,dataURLOptions:A,inlineImages:z,recordCanvas:U,keepIframeSrcFn:Z,newlyAddedElement:Y});if(!G)return console.warn(e,"not serialized"),null;let W;r.hasNode(e)?W=r.getId(e):HU(G,I)||!he&&G.type===Rr.Text&&!G.isStyle&&!G.textContent.replace(/^\s+|\s+$/gm,"").length?W=sp:W=_2();const Q=Object.assign(G,{id:W});if(r.add(e,Q),W===sp)return null;O&&O(e);let te=!g;if(Q.type===Rr.Element){te=te&&!Q.needBlock,delete Q.needBlock;const X=e.shadowRoot;X&&zh(X)&&(Q.isShadowHost=!0)}if((Q.type===Rr.Document||Q.type===Rr.Element)&&te){I.headWhitespace&&Q.type===Rr.Element&&Q.tagName==="head"&&(he=!1);const X={doc:n,mirror:r,blockClass:i,blockSelector:s,maskAllText:a,unblockSelector:o,maskTextClass:l,unmaskTextClass:c,maskTextSelector:f,unmaskTextSelector:p,skipChild:g,inlineStylesheet:y,maskInputOptions:x,maskAttributeFn:_,maskTextFn:S,maskInputFn:C,slimDOMOptions:I,dataURLOptions:A,inlineImages:z,recordCanvas:U,preserveWhiteSpace:he,onSerialize:O,onIframeLoad:N,iframeLoadTimeout:F,onStylesheetLoad:$,stylesheetLoadTimeout:L,keepIframeSrcFn:Z};for(const fe of Array.from(e.childNodes)){const B=Od(fe,X);B&&Q.childNodes.push(B)}if(pU(e)&&e.shadowRoot)for(const fe of Array.from(e.shadowRoot.childNodes)){const B=Od(fe,X);B&&(zh(e.shadowRoot)&&(B.isShadow=!0),Q.childNodes.push(B))}}return e.parentNode&&$h(e.parentNode)&&zh(e.parentNode)&&(Q.isShadow=!0),Q.type===Rr.Element&&Q.tagName==="iframe"&&LU(e,()=>{const X=xj(e);if(X&&N){const fe=Od(X,{doc:X,mirror:r,blockClass:i,blockSelector:s,unblockSelector:o,maskAllText:a,maskTextClass:l,unmaskTextClass:c,maskTextSelector:f,unmaskTextSelector:p,skipChild:!1,inlineStylesheet:y,maskInputOptions:x,maskAttributeFn:_,maskTextFn:S,maskInputFn:C,slimDOMOptions:I,dataURLOptions:A,inlineImages:z,recordCanvas:U,preserveWhiteSpace:he,onSerialize:O,onIframeLoad:N,iframeLoadTimeout:F,onStylesheetLoad:$,stylesheetLoadTimeout:L,keepIframeSrcFn:Z});fe&&N(e,fe)}},F),Q.type===Rr.Element&&Q.tagName==="link"&&typeof Q.attributes.rel=="string"&&(Q.attributes.rel==="stylesheet"||Q.attributes.rel==="preload"&&typeof Q.attributes.href=="string"&&yj(Q.attributes.href)==="css")&&FU(e,()=>{if($){const X=Od(e,{doc:n,mirror:r,blockClass:i,blockSelector:s,unblockSelector:o,maskAllText:a,maskTextClass:l,unmaskTextClass:c,maskTextSelector:f,unmaskTextSelector:p,skipChild:!1,inlineStylesheet:y,maskInputOptions:x,maskAttributeFn:_,maskTextFn:S,maskInputFn:C,slimDOMOptions:I,dataURLOptions:A,inlineImages:z,recordCanvas:U,preserveWhiteSpace:he,onSerialize:O,onIframeLoad:N,iframeLoadTimeout:F,onStylesheetLoad:$,stylesheetLoadTimeout:L,keepIframeSrcFn:Z});X&&$(e,X)}},L),Q}function WU(e,t){const{mirror:n=new gj,blockClass:r="rr-block",blockSelector:i=null,unblockSelector:s=null,maskAllText:o=!1,maskTextClass:a="rr-mask",unmaskTextClass:l=null,maskTextSelector:c=null,unmaskTextSelector:f=null,inlineStylesheet:p=!0,inlineImages:g=!1,recordCanvas:y=!1,maskAllInputs:x=!1,maskAttributeFn:_,maskTextFn:S,maskInputFn:C,slimDOM:I=!1,dataURLOptions:A,preserveWhiteSpace:z,onSerialize:U,onIframeLoad:O,iframeLoadTimeout:N,onStylesheetLoad:F,stylesheetLoadTimeout:$,keepIframeSrcFn:L=()=>!1}=t||{};return Od(e,{doc:e,mirror:n,blockClass:r,blockSelector:i,unblockSelector:s,maskAllText:o,maskTextClass:a,unmaskTextClass:l,maskTextSelector:c,unmaskTextSelector:f,skipChild:!1,inlineStylesheet:p,maskInputOptions:x===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0}:x===!1?{}:x,maskAttributeFn:_,maskTextFn:S,maskInputFn:C,slimDOMOptions:I===!0||I==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:I==="all",headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:I===!1?{}:I,dataURLOptions:A,inlineImages:g,recordCanvas:y,preserveWhiteSpace:z,onSerialize:U,onIframeLoad:O,iframeLoadTimeout:N,onStylesheetLoad:F,stylesheetLoadTimeout:$,keepIframeSrcFn:L,newlyAddedElement:!1})}function hl(e){let t,n=e[0],r=1;for(;r<e.length;){const i=e[r],s=e[r+1];if(r+=2,(i==="optionalAccess"||i==="optionalCall")&&n==null)return;i==="access"||i==="optionalAccess"?(t=n,n=s(n)):(i==="call"||i==="optionalCall")&&(n=s((...o)=>n.call(t,...o)),t=void 0)}return n}function ki(e,t,n=document){const r={capture:!0,passive:!0};return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t,r)}const _d=`Please stop import mirror directly. Instead of that,\r
now you can use replayer.getMirror() to access the mirror instance of a replayer,\r
or you can use record.mirror to access the mirror instance during recording.`;let PC={map:{},getId(){return console.error(_d),-1},getNode(){return console.error(_d),null},removeNodeFromMap(){console.error(_d)},has(){return console.error(_d),!1},reset(){console.error(_d)}};typeof window<"u"&&window.Proxy&&window.Reflect&&(PC=new Proxy(PC,{get(e,t,n){return t==="map"&&console.error(_d),Reflect.get(e,t,n)}}));function op(e,t,n={}){let r=null,i=0;return function(...s){const o=Date.now();!i&&n.leading===!1&&(i=o);const a=t-(o-i),l=this;a<=0||a>t?(r&&(JU(r),r=null),i=o,e.apply(l,s)):!r&&n.trailing!==!1&&(r=Qy(()=>{i=n.leading===!1?0:Date.now(),r=null,e.apply(l,s)},a))}}function Sj(e,t,n,r,i=window){const s=i.Object.getOwnPropertyDescriptor(e,t);return i.Object.defineProperty(e,t,r?n:{set(o){Qy(()=>{n.set.call(this,o)},0),s&&s.set&&s.set.call(this,o)}}),()=>Sj(e,t,s||{},!0)}function S2(e,t,n){try{if(!(t in e))return()=>{};const r=e[t],i=n(r);return typeof i=="function"&&(i.prototype=i.prototype||{},Object.defineProperties(i,{__rrweb_original__:{enumerable:!1,value:r}})),e[t]=i,()=>{e[t]=r}}catch{return()=>{}}}let J0=Date.now;/[1-9][0-9]{12}/.test(Date.now().toString())||(J0=()=>new Date().getTime());function Ej(e){const t=e.document;return{left:t.scrollingElement?t.scrollingElement.scrollLeft:e.pageXOffset!==void 0?e.pageXOffset:hl([t,"optionalAccess",n=>n.documentElement,"access",n=>n.scrollLeft])||hl([t,"optionalAccess",n=>n.body,"optionalAccess",n=>n.parentElement,"optionalAccess",n=>n.scrollLeft])||hl([t,"optionalAccess",n=>n.body,"optionalAccess",n=>n.scrollLeft])||0,top:t.scrollingElement?t.scrollingElement.scrollTop:e.pageYOffset!==void 0?e.pageYOffset:hl([t,"optionalAccess",n=>n.documentElement,"access",n=>n.scrollTop])||hl([t,"optionalAccess",n=>n.body,"optionalAccess",n=>n.parentElement,"optionalAccess",n=>n.scrollTop])||hl([t,"optionalAccess",n=>n.body,"optionalAccess",n=>n.scrollTop])||0}}function Cj(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function kj(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function Tj(e){return e?e.nodeType===e.ELEMENT_NODE?e:e.parentElement:null}function os(e,t,n,r,i){if(!e)return!1;const s=Tj(e);if(!s)return!1;const o=Nd(t,n);if(!i){const c=r&&s.matches(r);return o(s)&&!c}const a=Wc(s,o);let l=-1;return a<0?!1:(r&&(l=Wc(s,Nd(null,r))),a>-1&&l<0?!0:a<l)}function VU(e,t){return t.getId(e)!==-1}function Rb(e,t){return t.getId(e)===sp}function jj(e,t){if($h(e))return!1;const n=t.getId(e);return t.has(n)?e.parentNode&&e.parentNode.nodeType===e.DOCUMENT_NODE?!1:e.parentNode?jj(e.parentNode,t):!0:!0}function Cw(e){return!!e.changedTouches}function qU(e=window){"NodeList"in e&&!e.NodeList.prototype.forEach&&(e.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in e&&!e.DOMTokenList.prototype.forEach&&(e.DOMTokenList.prototype.forEach=Array.prototype.forEach),Node.prototype.contains||(Node.prototype.contains=(...t)=>{let n=t[0];if(!(0 in t))throw new TypeError("1 argument is required");do if(this===n)return!0;while(n=n&&n.parentNode);return!1})}function Ij(e,t){return!!(e.nodeName==="IFRAME"&&t.getMeta(e))}function Rj(e,t){return!!(e.nodeName==="LINK"&&e.nodeType===e.ELEMENT_NODE&&e.getAttribute&&e.getAttribute("rel")==="stylesheet"&&t.getMeta(e))}function kw(e){return!!hl([e,"optionalAccess",t=>t.shadowRoot])}class QU{constructor(){this.id=1,this.styleIDMap=new WeakMap,this.idStyleMap=new Map}getId(t){return NB(this.styleIDMap.get(t),()=>-1)}has(t){return this.styleIDMap.has(t)}add(t,n){if(this.has(t))return this.getId(t);let r;return n===void 0?r=this.id++:r=n,this.styleIDMap.set(t,r),this.idStyleMap.set(r,t),r}getStyle(t){return this.idStyleMap.get(t)||null}reset(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}generateId(){return this.id++}}function Nj(e){let t=null;return hl([e,"access",n=>n.getRootNode,"optionalCall",n=>n(),"optionalAccess",n=>n.nodeType])===Node.DOCUMENT_FRAGMENT_NODE&&e.getRootNode().host&&(t=e.getRootNode().host),t}function KU(e){let t=e,n;for(;n=Nj(t);)t=n;return t}function GU(e){const t=e.ownerDocument;if(!t)return!1;const n=KU(e);return t.contains(n)}function Oj(e){const t=e.ownerDocument;return t?t.contains(e)||GU(e):!1}const AC={};function E2(e){const t=AC[e];if(t)return t;const n=window.document;let r=window[e];if(n&&typeof n.createElement=="function")try{const i=n.createElement("iframe");i.hidden=!0,n.head.appendChild(i);const s=i.contentWindow;s&&s[e]&&(r=s[e]),n.head.removeChild(i)}catch{}return AC[e]=r.bind(window)}function YU(...e){return E2("requestAnimationFrame")(...e)}function Qy(...e){return E2("setTimeout")(...e)}function JU(...e){return E2("clearTimeout")(...e)}var Wt=(e=>(e[e.DomContentLoaded=0]="DomContentLoaded",e[e.Load=1]="Load",e[e.FullSnapshot=2]="FullSnapshot",e[e.IncrementalSnapshot=3]="IncrementalSnapshot",e[e.Meta=4]="Meta",e[e.Custom=5]="Custom",e[e.Plugin=6]="Plugin",e))(Wt||{}),It=(e=>(e[e.Mutation=0]="Mutation",e[e.MouseMove=1]="MouseMove",e[e.MouseInteraction=2]="MouseInteraction",e[e.Scroll=3]="Scroll",e[e.ViewportResize=4]="ViewportResize",e[e.Input=5]="Input",e[e.TouchMove=6]="TouchMove",e[e.MediaInteraction=7]="MediaInteraction",e[e.StyleSheetRule=8]="StyleSheetRule",e[e.CanvasMutation=9]="CanvasMutation",e[e.Font=10]="Font",e[e.Log=11]="Log",e[e.Drag=12]="Drag",e[e.StyleDeclaration=13]="StyleDeclaration",e[e.Selection=14]="Selection",e[e.AdoptedStyleSheet=15]="AdoptedStyleSheet",e[e.CustomElement=16]="CustomElement",e))(It||{}),Si=(e=>(e[e.MouseUp=0]="MouseUp",e[e.MouseDown=1]="MouseDown",e[e.Click=2]="Click",e[e.ContextMenu=3]="ContextMenu",e[e.DblClick=4]="DblClick",e[e.Focus=5]="Focus",e[e.Blur=6]="Blur",e[e.TouchStart=7]="TouchStart",e[e.TouchMove_Departed=8]="TouchMove_Departed",e[e.TouchEnd=9]="TouchEnd",e[e.TouchCancel=10]="TouchCancel",e))(Si||{}),ua=(e=>(e[e.Mouse=0]="Mouse",e[e.Pen=1]="Pen",e[e.Touch=2]="Touch",e))(ua||{}),MC;(function(e){e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment"})(MC||(MC={}));var DC;(function(e){e[e.PLACEHOLDER=0]="PLACEHOLDER",e[e.ELEMENT_NODE=1]="ELEMENT_NODE",e[e.ATTRIBUTE_NODE=2]="ATTRIBUTE_NODE",e[e.TEXT_NODE=3]="TEXT_NODE",e[e.CDATA_SECTION_NODE=4]="CDATA_SECTION_NODE",e[e.ENTITY_REFERENCE_NODE=5]="ENTITY_REFERENCE_NODE",e[e.ENTITY_NODE=6]="ENTITY_NODE",e[e.PROCESSING_INSTRUCTION_NODE=7]="PROCESSING_INSTRUCTION_NODE",e[e.COMMENT_NODE=8]="COMMENT_NODE",e[e.DOCUMENT_NODE=9]="DOCUMENT_NODE",e[e.DOCUMENT_TYPE_NODE=10]="DOCUMENT_TYPE_NODE",e[e.DOCUMENT_FRAGMENT_NODE=11]="DOCUMENT_FRAGMENT_NODE"})(DC||(DC={}));function C2(e){try{return e.contentDocument}catch{}}function XU(e){try{return e.contentWindow}catch{}}function ZU(e){let t,n=e[0],r=1;for(;r<e.length;){const i=e[r],s=e[r+1];if(r+=2,(i==="optionalAccess"||i==="optionalCall")&&n==null)return;i==="access"||i==="optionalAccess"?(t=n,n=s(n)):(i==="call"||i==="optionalCall")&&(n=s((...o)=>n.call(t,...o)),t=void 0)}return n}function LC(e){return"__ln"in e}class eH{constructor(){this.length=0,this.head=null,this.tail=null}get(t){if(t>=this.length)throw new Error("Position outside of list range");let n=this.head;for(let r=0;r<t;r++)n=ZU([n,"optionalAccess",i=>i.next])||null;return n}addNode(t){const n={value:t,previous:null,next:null};if(t.__ln=n,t.previousSibling&&LC(t.previousSibling)){const r=t.previousSibling.__ln.next;n.next=r,n.previous=t.previousSibling.__ln,t.previousSibling.__ln.next=n,r&&(r.previous=n)}else if(t.nextSibling&&LC(t.nextSibling)&&t.nextSibling.__ln.previous){const r=t.nextSibling.__ln.previous;n.previous=r,n.next=t.nextSibling.__ln,t.nextSibling.__ln.previous=n,r&&(r.next=n)}else this.head&&(this.head.previous=n),n.next=this.head,this.head=n;n.next===null&&(this.tail=n),this.length++}removeNode(t){const n=t.__ln;this.head&&(n.previous?(n.previous.next=n.next,n.next?n.next.previous=n.previous:this.tail=n.previous):(this.head=n.next,this.head?this.head.previous=null:this.tail=null),t.__ln&&delete t.__ln,this.length--)}}const FC=(e,t)=>`${e}@${t}`;class tH{constructor(){this.frozen=!1,this.locked=!1,this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.mapRemoves=[],this.movedMap={},this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.processMutations=t=>{t.forEach(this.processMutation),this.emit()},this.emit=()=>{if(this.frozen||this.locked)return;const t=[],n=new Set,r=new eH,i=l=>{let c=l,f=sp;for(;f===sp;)c=c&&c.nextSibling,f=c&&this.mirror.getId(c);return f},s=l=>{if(!l.parentNode||!Oj(l))return;const c=$h(l.parentNode)?this.mirror.getId(Nj(l)):this.mirror.getId(l.parentNode),f=i(l);if(c===-1||f===-1)return r.addNode(l);const p=Od(l,{doc:this.doc,mirror:this.mirror,blockClass:this.blockClass,blockSelector:this.blockSelector,maskAllText:this.maskAllText,unblockSelector:this.unblockSelector,maskTextClass:this.maskTextClass,unmaskTextClass:this.unmaskTextClass,maskTextSelector:this.maskTextSelector,unmaskTextSelector:this.unmaskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:this.inlineStylesheet,maskInputOptions:this.maskInputOptions,maskAttributeFn:this.maskAttributeFn,maskTextFn:this.maskTextFn,maskInputFn:this.maskInputFn,slimDOMOptions:this.slimDOMOptions,dataURLOptions:this.dataURLOptions,recordCanvas:this.recordCanvas,inlineImages:this.inlineImages,onSerialize:g=>{Ij(g,this.mirror)&&!os(g,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&this.iframeManager.addIframe(g),Rj(g,this.mirror)&&this.stylesheetManager.trackLinkElement(g),kw(l)&&this.shadowDomManager.addShadowRoot(l.shadowRoot,this.doc)},onIframeLoad:(g,y)=>{os(g,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(this.iframeManager.attachIframe(g,y),g.contentWindow&&this.canvasManager.addWindow(g.contentWindow),this.shadowDomManager.observeAttachShadow(g))},onStylesheetLoad:(g,y)=>{this.stylesheetManager.attachLinkElement(g,y)}});p&&(t.push({parentId:c,nextId:f,node:p}),n.add(p.id))};for(;this.mapRemoves.length;)this.mirror.removeNodeFromMap(this.mapRemoves.shift());for(const l of this.movedSet)BC(this.removes,l,this.mirror)&&!this.movedSet.has(l.parentNode)||s(l);for(const l of this.addedSet)!$C(this.droppedSet,l)&&!BC(this.removes,l,this.mirror)||$C(this.movedSet,l)?s(l):this.droppedSet.add(l);let o=null;for(;r.length;){let l=null;if(o){const c=this.mirror.getId(o.value.parentNode),f=i(o.value);c!==-1&&f!==-1&&(l=o)}if(!l){let c=r.tail;for(;c;){const f=c;if(c=c.previous,f){const p=this.mirror.getId(f.value.parentNode);if(i(f.value)===-1)continue;if(p!==-1){l=f;break}else{const y=f.value;if(y.parentNode&&y.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE){const x=y.parentNode.host;if(this.mirror.getId(x)!==-1){l=f;break}}}}}}if(!l){for(;r.head;)r.removeNode(r.head.value);break}o=l.previous,r.removeNode(l.value),s(l.value)}const a={texts:this.texts.map(l=>({id:this.mirror.getId(l.node),value:l.value})).filter(l=>!n.has(l.id)).filter(l=>this.mirror.has(l.id)),attributes:this.attributes.map(l=>{const{attributes:c}=l;if(typeof c.style=="string"){const f=JSON.stringify(l.styleDiff),p=JSON.stringify(l._unchangedStyles);f.length<c.style.length&&(f+p).split("var(").length===c.style.split("var(").length&&(c.style=l.styleDiff)}return{id:this.mirror.getId(l.node),attributes:c}}).filter(l=>!n.has(l.id)).filter(l=>this.mirror.has(l.id)),removes:this.removes,adds:t};!a.texts.length&&!a.attributes.length&&!a.removes.length&&!a.adds.length||(this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.movedMap={},this.mutationCb(a))},this.processMutation=t=>{if(!Rb(t.target,this.mirror))switch(t.type){case"characterData":{const n=t.target.textContent;!os(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&n!==t.oldValue&&this.texts.push({value:Zd(t.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,this.maskAllText)&&n?this.maskTextFn?this.maskTextFn(n,Tj(t.target)):n.replace(/[\S]/g,"*"):n,node:t.target});break}case"attributes":{const n=t.target;let r=t.attributeName,i=t.target.getAttribute(r);if(r==="value"){const o=w2(n),a=n.tagName;i=G0(n,a,o);const l=Vy({maskInputOptions:this.maskInputOptions,tagName:a,type:o}),c=Zd(t.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,l);i=ip({isMasked:c,element:n,value:i,maskInputFn:this.maskInputFn})}if(os(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||i===t.oldValue)return;let s=this.attributeMap.get(t.target);if(n.tagName==="IFRAME"&&r==="src"&&!this.keepIframeSrcFn(i))if(!C2(n))r="rr_src";else return;if(s||(s={node:t.target,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(s),this.attributeMap.set(t.target,s)),r==="type"&&n.tagName==="INPUT"&&(t.oldValue||"").toLowerCase()==="password"&&n.setAttribute("data-rr-is-password","true"),!_j(n.tagName,r)&&(s.attributes[r]=wj(this.doc,Xd(n.tagName),Xd(r),i,n,this.maskAttributeFn),r==="style")){if(!this.unattachedDoc)try{this.unattachedDoc=document.implementation.createHTMLDocument()}catch{this.unattachedDoc=this.doc}const o=this.unattachedDoc.createElement("span");t.oldValue&&o.setAttribute("style",t.oldValue);for(const a of Array.from(n.style)){const l=n.style.getPropertyValue(a),c=n.style.getPropertyPriority(a);l!==o.style.getPropertyValue(a)||c!==o.style.getPropertyPriority(a)?c===""?s.styleDiff[a]=l:s.styleDiff[a]=[l,c]:s._unchangedStyles[a]=[l,c]}for(const a of Array.from(o.style))n.style.getPropertyValue(a)===""&&(s.styleDiff[a]=!1)}break}case"childList":{if(os(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!0))return;t.addedNodes.forEach(n=>this.genAdds(n,t.target)),t.removedNodes.forEach(n=>{const r=this.mirror.getId(n),i=$h(t.target)?this.mirror.getId(t.target.host):this.mirror.getId(t.target);os(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||Rb(n,this.mirror)||!VU(n,this.mirror)||(this.addedSet.has(n)?(Tw(this.addedSet,n),this.droppedSet.add(n)):this.addedSet.has(t.target)&&r===-1||jj(t.target,this.mirror)||(this.movedSet.has(n)&&this.movedMap[FC(r,i)]?Tw(this.movedSet,n):this.removes.push({parentId:i,id:r,isShadow:$h(t.target)&&zh(t.target)?!0:void 0})),this.mapRemoves.push(n))});break}}},this.genAdds=(t,n)=>{if(!this.processedNodeManager.inOtherBuffer(t,this)&&!(this.addedSet.has(t)||this.movedSet.has(t))){if(this.mirror.hasNode(t)){if(Rb(t,this.mirror))return;this.movedSet.add(t);let r=null;n&&this.mirror.hasNode(n)&&(r=this.mirror.getId(n)),r&&r!==-1&&(this.movedMap[FC(this.mirror.getId(t),r)]=!0)}else this.addedSet.add(t),this.droppedSet.delete(t);os(t,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(t.childNodes.forEach(r=>this.genAdds(r)),kw(t)&&t.shadowRoot.childNodes.forEach(r=>{this.processedNodeManager.add(r,this),this.genAdds(r,t)}))}}}init(t){["mutationCb","blockClass","blockSelector","unblockSelector","maskAllText","maskTextClass","unmaskTextClass","maskTextSelector","unmaskTextSelector","inlineStylesheet","maskInputOptions","maskAttributeFn","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager"].forEach(n=>{this[n]=t[n]})}freeze(){this.frozen=!0,this.canvasManager.freeze()}unfreeze(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}isFrozen(){return this.frozen}lock(){this.locked=!0,this.canvasManager.lock()}unlock(){this.locked=!1,this.canvasManager.unlock(),this.emit()}reset(){this.shadowDomManager.reset(),this.canvasManager.reset()}}function Tw(e,t){e.delete(t),t.childNodes.forEach(n=>Tw(e,n))}function BC(e,t,n){return e.length===0?!1:nH(e,t,n)}function nH(e,t,n){let r=t.parentNode;for(;r;){const i=n.getId(r);if(e.some(s=>s.id===i))return!0;r=r.parentNode}return!1}function $C(e,t){return e.size===0?!1:Pj(e,t)}function Pj(e,t){const{parentNode:n}=t;return n?e.has(n)?!0:Pj(e,n):!1}let Uh;function rH(e){Uh=e}function iH(){Uh=void 0}const ln=e=>Uh?((...n)=>{try{return e(...n)}catch(r){if(Uh&&Uh(r)===!0)return()=>{};throw r}}):e;function so(e){let t,n=e[0],r=1;for(;r<e.length;){const i=e[r],s=e[r+1];if(r+=2,(i==="optionalAccess"||i==="optionalCall")&&n==null)return;i==="access"||i==="optionalAccess"?(t=n,n=s(n)):(i==="call"||i==="optionalCall")&&(n=s((...o)=>n.call(t,...o)),t=void 0)}return n}const Pd=[];function zp(e){try{if("composedPath"in e){const t=e.composedPath();if(t.length)return t[0]}else if("path"in e&&e.path.length)return e.path[0]}catch{}return e&&e.target}function Aj(e,t){const n=new tH;Pd.push(n),n.init(e);let r=window.MutationObserver||window.__rrMutationObserver;const i=so([window,"optionalAccess",o=>o.Zone,"optionalAccess",o=>o.__symbol__,"optionalCall",o=>o("MutationObserver")]);i&&window[i]&&(r=window[i]);const s=new r(ln(o=>{e.onMutation&&e.onMutation(o)===!1||n.processMutations.bind(n)(o)}));return s.observe(t,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),s}function sH({mousemoveCb:e,sampling:t,doc:n,mirror:r}){if(t.mousemove===!1)return()=>{};const i=typeof t.mousemove=="number"?t.mousemove:50,s=typeof t.mousemoveCallback=="number"?t.mousemoveCallback:500;let o=[],a;const l=op(ln(p=>{const g=Date.now()-a;e(o.map(y=>(y.timeOffset-=g,y)),p),o=[],a=null}),s),c=ln(op(ln(p=>{const g=zp(p),{clientX:y,clientY:x}=Cw(p)?p.changedTouches[0]:p;a||(a=J0()),o.push({x:y,y:x,id:r.getId(g),timeOffset:J0()-a}),l(typeof DragEvent<"u"&&p instanceof DragEvent?It.Drag:p instanceof MouseEvent?It.MouseMove:It.TouchMove)}),i,{trailing:!1})),f=[ki("mousemove",c,n),ki("touchmove",c,n),ki("drag",c,n)];return ln(()=>{f.forEach(p=>p())})}function oH({mouseInteractionCb:e,doc:t,mirror:n,blockClass:r,blockSelector:i,unblockSelector:s,sampling:o}){if(o.mouseInteraction===!1)return()=>{};const a=o.mouseInteraction===!0||o.mouseInteraction===void 0?{}:o.mouseInteraction,l=[];let c=null;const f=p=>g=>{const y=zp(g);if(os(y,r,i,s,!0))return;let x=null,_=p;if("pointerType"in g){switch(g.pointerType){case"mouse":x=ua.Mouse;break;case"touch":x=ua.Touch;break;case"pen":x=ua.Pen;break}x===ua.Touch?Si[p]===Si.MouseDown?_="TouchStart":Si[p]===Si.MouseUp&&(_="TouchEnd"):ua.Pen}else Cw(g)&&(x=ua.Touch);x!==null?(c=x,(_.startsWith("Touch")&&x===ua.Touch||_.startsWith("Mouse")&&x===ua.Mouse)&&(x=null)):Si[p]===Si.Click&&(x=c,c=null);const S=Cw(g)?g.changedTouches[0]:g;if(!S)return;const C=n.getId(y),{clientX:I,clientY:A}=S;ln(e)({type:Si[_],id:C,x:I,y:A,...x!==null&&{pointerType:x}})};return Object.keys(Si).filter(p=>Number.isNaN(Number(p))&&!p.endsWith("_Departed")&&a[p]!==!1).forEach(p=>{let g=Xd(p);const y=f(p);if(window.PointerEvent)switch(Si[p]){case Si.MouseDown:case Si.MouseUp:g=g.replace("mouse","pointer");break;case Si.TouchStart:case Si.TouchEnd:return}l.push(ki(g,y,t))}),ln(()=>{l.forEach(p=>p())})}function Mj({scrollCb:e,doc:t,mirror:n,blockClass:r,blockSelector:i,unblockSelector:s,sampling:o}){const a=ln(op(ln(l=>{const c=zp(l);if(!c||os(c,r,i,s,!0))return;const f=n.getId(c);if(c===t&&t.defaultView){const p=Ej(t.defaultView);e({id:f,x:p.left,y:p.top})}else e({id:f,x:c.scrollLeft,y:c.scrollTop})}),o.scroll||100));return ki("scroll",a,t)}function aH({viewportResizeCb:e},{win:t}){let n=-1,r=-1;const i=ln(op(ln(()=>{const s=Cj(),o=kj();(n!==s||r!==o)&&(e({width:Number(o),height:Number(s)}),n=s,r=o)}),200));return ki("resize",i,t)}const lH=["INPUT","TEXTAREA","SELECT"],zC=new WeakMap;function cH({inputCb:e,doc:t,mirror:n,blockClass:r,blockSelector:i,unblockSelector:s,ignoreClass:o,ignoreSelector:a,maskInputOptions:l,maskInputFn:c,sampling:f,userTriggeredOnInput:p,maskTextClass:g,unmaskTextClass:y,maskTextSelector:x,unmaskTextSelector:_}){function S(N){let F=zp(N);const $=N.isTrusted,L=F&&Sw(F.tagName);if(L==="OPTION"&&(F=F.parentElement),!F||!L||lH.indexOf(L)<0||os(F,r,i,s,!0))return;const Z=F;if(Z.classList.contains(o)||a&&Z.matches(a))return;const Y=w2(F);let he=G0(Z,L,Y),G=!1;const W=Vy({maskInputOptions:l,tagName:L,type:Y}),Q=Zd(F,g,x,y,_,W);(Y==="radio"||Y==="checkbox")&&(G=F.checked),he=ip({isMasked:Q,element:F,value:he,maskInputFn:c}),C(F,p?{text:he,isChecked:G,userTriggered:$}:{text:he,isChecked:G});const te=F.name;Y==="radio"&&te&&G&&t.querySelectorAll(`input[type="radio"][name="${te}"]`).forEach(X=>{if(X!==F){const fe=ip({isMasked:Q,element:X,value:G0(X,L,Y),maskInputFn:c});C(X,p?{text:fe,isChecked:!G,userTriggered:!1}:{text:fe,isChecked:!G})}})}function C(N,F){const $=zC.get(N);if(!$||$.text!==F.text||$.isChecked!==F.isChecked){zC.set(N,F);const L=n.getId(N);ln(e)({...F,id:L})}}const A=(f.input==="last"?["change"]:["input","change"]).map(N=>ki(N,ln(S),t)),z=t.defaultView;if(!z)return()=>{A.forEach(N=>N())};const U=z.Object.getOwnPropertyDescriptor(z.HTMLInputElement.prototype,"value"),O=[[z.HTMLInputElement.prototype,"value"],[z.HTMLInputElement.prototype,"checked"],[z.HTMLSelectElement.prototype,"value"],[z.HTMLTextAreaElement.prototype,"value"],[z.HTMLSelectElement.prototype,"selectedIndex"],[z.HTMLOptionElement.prototype,"selected"]];return U&&U.set&&A.push(...O.map(N=>Sj(N[0],N[1],{set(){ln(S)({target:this,isTrusted:!1})}},!1,z))),ln(()=>{A.forEach(N=>N())})}function X0(e){const t=[];function n(r,i){if(jg("CSSGroupingRule")&&r.parentRule instanceof CSSGroupingRule||jg("CSSMediaRule")&&r.parentRule instanceof CSSMediaRule||jg("CSSSupportsRule")&&r.parentRule instanceof CSSSupportsRule||jg("CSSConditionRule")&&r.parentRule instanceof CSSConditionRule){const o=Array.from(r.parentRule.cssRules).indexOf(r);i.unshift(o)}else if(r.parentStyleSheet){const o=Array.from(r.parentStyleSheet.cssRules).indexOf(r);i.unshift(o)}return i}return n(e,t)}function pl(e,t,n){let r,i;return e?(e.ownerNode?r=t.getId(e.ownerNode):i=n.getId(e),{styleId:i,id:r}):{}}function uH({styleSheetRuleCb:e,mirror:t,stylesheetManager:n},{win:r}){if(!r.CSSStyleSheet||!r.CSSStyleSheet.prototype)return()=>{};const i=r.CSSStyleSheet.prototype.insertRule;r.CSSStyleSheet.prototype.insertRule=new Proxy(i,{apply:ln((f,p,g)=>{const[y,x]=g,{id:_,styleId:S}=pl(p,t,n.styleMirror);return(_&&_!==-1||S&&S!==-1)&&e({id:_,styleId:S,adds:[{rule:y,index:x}]}),f.apply(p,g)})});const s=r.CSSStyleSheet.prototype.deleteRule;r.CSSStyleSheet.prototype.deleteRule=new Proxy(s,{apply:ln((f,p,g)=>{const[y]=g,{id:x,styleId:_}=pl(p,t,n.styleMirror);return(x&&x!==-1||_&&_!==-1)&&e({id:x,styleId:_,removes:[{index:y}]}),f.apply(p,g)})});let o;r.CSSStyleSheet.prototype.replace&&(o=r.CSSStyleSheet.prototype.replace,r.CSSStyleSheet.prototype.replace=new Proxy(o,{apply:ln((f,p,g)=>{const[y]=g,{id:x,styleId:_}=pl(p,t,n.styleMirror);return(x&&x!==-1||_&&_!==-1)&&e({id:x,styleId:_,replace:y}),f.apply(p,g)})}));let a;r.CSSStyleSheet.prototype.replaceSync&&(a=r.CSSStyleSheet.prototype.replaceSync,r.CSSStyleSheet.prototype.replaceSync=new Proxy(a,{apply:ln((f,p,g)=>{const[y]=g,{id:x,styleId:_}=pl(p,t,n.styleMirror);return(x&&x!==-1||_&&_!==-1)&&e({id:x,styleId:_,replaceSync:y}),f.apply(p,g)})}));const l={};Ig("CSSGroupingRule")?l.CSSGroupingRule=r.CSSGroupingRule:(Ig("CSSMediaRule")&&(l.CSSMediaRule=r.CSSMediaRule),Ig("CSSConditionRule")&&(l.CSSConditionRule=r.CSSConditionRule),Ig("CSSSupportsRule")&&(l.CSSSupportsRule=r.CSSSupportsRule));const c={};return Object.entries(l).forEach(([f,p])=>{c[f]={insertRule:p.prototype.insertRule,deleteRule:p.prototype.deleteRule},p.prototype.insertRule=new Proxy(c[f].insertRule,{apply:ln((g,y,x)=>{const[_,S]=x,{id:C,styleId:I}=pl(y.parentStyleSheet,t,n.styleMirror);return(C&&C!==-1||I&&I!==-1)&&e({id:C,styleId:I,adds:[{rule:_,index:[...X0(y),S||0]}]}),g.apply(y,x)})}),p.prototype.deleteRule=new Proxy(c[f].deleteRule,{apply:ln((g,y,x)=>{const[_]=x,{id:S,styleId:C}=pl(y.parentStyleSheet,t,n.styleMirror);return(S&&S!==-1||C&&C!==-1)&&e({id:S,styleId:C,removes:[{index:[...X0(y),_]}]}),g.apply(y,x)})})}),ln(()=>{r.CSSStyleSheet.prototype.insertRule=i,r.CSSStyleSheet.prototype.deleteRule=s,o&&(r.CSSStyleSheet.prototype.replace=o),a&&(r.CSSStyleSheet.prototype.replaceSync=a),Object.entries(l).forEach(([f,p])=>{p.prototype.insertRule=c[f].insertRule,p.prototype.deleteRule=c[f].deleteRule})})}function Dj({mirror:e,stylesheetManager:t},n){let r=null;n.nodeName==="#document"?r=e.getId(n):r=e.getId(n.host);const i=n.nodeName==="#document"?so([n,"access",o=>o.defaultView,"optionalAccess",o=>o.Document]):so([n,"access",o=>o.ownerDocument,"optionalAccess",o=>o.defaultView,"optionalAccess",o=>o.ShadowRoot]),s=so([i,"optionalAccess",o=>o.prototype])?Object.getOwnPropertyDescriptor(so([i,"optionalAccess",o=>o.prototype]),"adoptedStyleSheets"):void 0;return r===null||r===-1||!i||!s?()=>{}:(Object.defineProperty(n,"adoptedStyleSheets",{configurable:s.configurable,enumerable:s.enumerable,get(){return so([s,"access",o=>o.get,"optionalAccess",o=>o.call,"call",o=>o(this)])},set(o){const a=so([s,"access",l=>l.set,"optionalAccess",l=>l.call,"call",l=>l(this,o)]);if(r!==null&&r!==-1)try{t.adoptStyleSheets(o,r)}catch{}return a}}),ln(()=>{Object.defineProperty(n,"adoptedStyleSheets",{configurable:s.configurable,enumerable:s.enumerable,get:s.get,set:s.set})}))}function dH({styleDeclarationCb:e,mirror:t,ignoreCSSAttributes:n,stylesheetManager:r},{win:i}){const s=i.CSSStyleDeclaration.prototype.setProperty;i.CSSStyleDeclaration.prototype.setProperty=new Proxy(s,{apply:ln((a,l,c)=>{const[f,p,g]=c;if(n.has(f))return s.apply(l,[f,p,g]);const{id:y,styleId:x}=pl(so([l,"access",_=>_.parentRule,"optionalAccess",_=>_.parentStyleSheet]),t,r.styleMirror);return(y&&y!==-1||x&&x!==-1)&&e({id:y,styleId:x,set:{property:f,value:p,priority:g},index:X0(l.parentRule)}),a.apply(l,c)})});const o=i.CSSStyleDeclaration.prototype.removeProperty;return i.CSSStyleDeclaration.prototype.removeProperty=new Proxy(o,{apply:ln((a,l,c)=>{const[f]=c;if(n.has(f))return o.apply(l,[f]);const{id:p,styleId:g}=pl(so([l,"access",y=>y.parentRule,"optionalAccess",y=>y.parentStyleSheet]),t,r.styleMirror);return(p&&p!==-1||g&&g!==-1)&&e({id:p,styleId:g,remove:{property:f},index:X0(l.parentRule)}),a.apply(l,c)})}),ln(()=>{i.CSSStyleDeclaration.prototype.setProperty=s,i.CSSStyleDeclaration.prototype.removeProperty=o})}function fH({mediaInteractionCb:e,blockClass:t,blockSelector:n,unblockSelector:r,mirror:i,sampling:s,doc:o}){const a=ln(c=>op(ln(f=>{const p=zp(f);if(!p||os(p,t,n,r,!0))return;const{currentTime:g,volume:y,muted:x,playbackRate:_}=p;e({type:c,id:i.getId(p),currentTime:g,volume:y,muted:x,playbackRate:_})}),s.media||500)),l=[ki("play",a(0),o),ki("pause",a(1),o),ki("seeked",a(2),o),ki("volumechange",a(3),o),ki("ratechange",a(4),o)];return ln(()=>{l.forEach(c=>c())})}function hH({fontCb:e,doc:t}){const n=t.defaultView;if(!n)return()=>{};const r=[],i=new WeakMap,s=n.FontFace;n.FontFace=function(l,c,f){const p=new s(l,c,f);return i.set(p,{family:l,buffer:typeof c!="string",descriptors:f,fontSource:typeof c=="string"?c:JSON.stringify(Array.from(new Uint8Array(c)))}),p};const o=S2(t.fonts,"add",function(a){return function(l){return Qy(ln(()=>{const c=i.get(l);c&&(e(c),i.delete(l))}),0),a.apply(this,[l])}});return r.push(()=>{n.FontFace=s}),r.push(o),ln(()=>{r.forEach(a=>a())})}function pH(e){const{doc:t,mirror:n,blockClass:r,blockSelector:i,unblockSelector:s,selectionCb:o}=e;let a=!0;const l=ln(()=>{const c=t.getSelection();if(!c||a&&so([c,"optionalAccess",g=>g.isCollapsed]))return;a=c.isCollapsed||!1;const f=[],p=c.rangeCount||0;for(let g=0;g<p;g++){const y=c.getRangeAt(g),{startContainer:x,startOffset:_,endContainer:S,endOffset:C}=y;os(x,r,i,s,!0)||os(S,r,i,s,!0)||f.push({start:n.getId(x),startOffset:_,end:n.getId(S),endOffset:C})}o({ranges:f})});return l(),ki("selectionchange",l)}function mH({doc:e,customElementCb:t}){const n=e.defaultView;return!n||!n.customElements?()=>{}:S2(n.customElements,"define",function(i){return function(s,o,a){try{t({define:{name:s}})}catch{}return i.apply(this,[s,o,a])}})}function gH(e,t={}){const n=e.doc.defaultView;if(!n)return()=>{};let r;e.recordDOM&&(r=Aj(e,e.doc));const i=sH(e),s=oH(e),o=Mj(e),a=aH(e,{win:n}),l=cH(e),c=fH(e);let f=()=>{},p=()=>{},g=()=>{},y=()=>{};e.recordDOM&&(f=uH(e,{win:n}),p=Dj(e,e.doc),g=dH(e,{win:n}),e.collectFonts&&(y=hH(e)));const x=pH(e),_=mH(e),S=[];for(const C of e.plugins)S.push(C.observer(C.callback,n,C.options));return ln(()=>{Pd.forEach(C=>C.reset()),so([r,"optionalAccess",C=>C.disconnect,"call",C=>C()]),i(),s(),o(),a(),l(),c(),f(),p(),g(),y(),x(),_(),S.forEach(C=>C())})}function jg(e){return typeof window[e]<"u"}function Ig(e){return!!(typeof window[e]<"u"&&window[e].prototype&&"insertRule"in window[e].prototype&&"deleteRule"in window[e].prototype)}class jw{constructor(t){this.generateIdFn=t,this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap}getId(t,n,r,i){const s=r||this.getIdToRemoteIdMap(t),o=i||this.getRemoteIdToIdMap(t);let a=s.get(n);return a||(a=this.generateIdFn(),s.set(n,a),o.set(a,n)),a}getIds(t,n){const r=this.getIdToRemoteIdMap(t),i=this.getRemoteIdToIdMap(t);return n.map(s=>this.getId(t,s,r,i))}getRemoteId(t,n,r){const i=r||this.getRemoteIdToIdMap(t);if(typeof n!="number")return n;const s=i.get(n);return s||-1}getRemoteIds(t,n){const r=this.getRemoteIdToIdMap(t);return n.map(i=>this.getRemoteId(t,i,r))}reset(t){if(!t){this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap;return}this.iframeIdToRemoteIdMap.delete(t),this.iframeRemoteIdToIdMap.delete(t)}getIdToRemoteIdMap(t){let n=this.iframeIdToRemoteIdMap.get(t);return n||(n=new Map,this.iframeIdToRemoteIdMap.set(t,n)),n}getRemoteIdToIdMap(t){let n=this.iframeRemoteIdToIdMap.get(t);return n||(n=new Map,this.iframeRemoteIdToIdMap.set(t,n)),n}}function UC(e){let t,n=e[0],r=1;for(;r<e.length;){const i=e[r],s=e[r+1];if(r+=2,(i==="optionalAccess"||i==="optionalCall")&&n==null)return;i==="access"||i==="optionalAccess"?(t=n,n=s(n)):(i==="call"||i==="optionalCall")&&(n=s((...o)=>n.call(t,...o)),t=void 0)}return n}class yH{constructor(){this.crossOriginIframeMirror=new jw(_2),this.crossOriginIframeRootIdMap=new WeakMap}addIframe(){}addLoadListener(){}attachIframe(){}}class vH{constructor(t){this.iframes=new WeakMap,this.crossOriginIframeMap=new WeakMap,this.crossOriginIframeMirror=new jw(_2),this.crossOriginIframeRootIdMap=new WeakMap,this.mutationCb=t.mutationCb,this.wrappedEmit=t.wrappedEmit,this.stylesheetManager=t.stylesheetManager,this.recordCrossOriginIframes=t.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new jw(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=t.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}addIframe(t){this.iframes.set(t,!0),t.contentWindow&&this.crossOriginIframeMap.set(t.contentWindow,t)}addLoadListener(t){this.loadListener=t}attachIframe(t,n){this.mutationCb({adds:[{parentId:this.mirror.getId(t),nextId:null,node:n}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),UC([this,"access",i=>i.loadListener,"optionalCall",i=>i(t)]);const r=C2(t);r&&r.adoptedStyleSheets&&r.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(r.adoptedStyleSheets,this.mirror.getId(r))}handleMessage(t){const n=t;if(n.data.type!=="rrweb"||n.origin!==n.data.origin||!t.source)return;const i=this.crossOriginIframeMap.get(t.source);if(!i)return;const s=this.transformCrossOriginEvent(i,n.data.event);s&&this.wrappedEmit(s,n.data.isCheckout)}transformCrossOriginEvent(t,n){switch(n.type){case Wt.FullSnapshot:{this.crossOriginIframeMirror.reset(t),this.crossOriginIframeStyleMirror.reset(t),this.replaceIdOnNode(n.data.node,t);const r=n.data.node.id;return this.crossOriginIframeRootIdMap.set(t,r),this.patchRootIdOnNode(n.data.node,r),{timestamp:n.timestamp,type:Wt.IncrementalSnapshot,data:{source:It.Mutation,adds:[{parentId:this.mirror.getId(t),nextId:null,node:n.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}}}case Wt.Meta:case Wt.Load:case Wt.DomContentLoaded:return!1;case Wt.Plugin:return n;case Wt.Custom:return this.replaceIds(n.data.payload,t,["id","parentId","previousId","nextId"]),n;case Wt.IncrementalSnapshot:switch(n.data.source){case It.Mutation:return n.data.adds.forEach(r=>{this.replaceIds(r,t,["parentId","nextId","previousId"]),this.replaceIdOnNode(r.node,t);const i=this.crossOriginIframeRootIdMap.get(t);i&&this.patchRootIdOnNode(r.node,i)}),n.data.removes.forEach(r=>{this.replaceIds(r,t,["parentId","id"])}),n.data.attributes.forEach(r=>{this.replaceIds(r,t,["id"])}),n.data.texts.forEach(r=>{this.replaceIds(r,t,["id"])}),n;case It.Drag:case It.TouchMove:case It.MouseMove:return n.data.positions.forEach(r=>{this.replaceIds(r,t,["id"])}),n;case It.ViewportResize:return!1;case It.MediaInteraction:case It.MouseInteraction:case It.Scroll:case It.CanvasMutation:case It.Input:return this.replaceIds(n.data,t,["id"]),n;case It.StyleSheetRule:case It.StyleDeclaration:return this.replaceIds(n.data,t,["id"]),this.replaceStyleIds(n.data,t,["styleId"]),n;case It.Font:return n;case It.Selection:return n.data.ranges.forEach(r=>{this.replaceIds(r,t,["start","end"])}),n;case It.AdoptedStyleSheet:return this.replaceIds(n.data,t,["id"]),this.replaceStyleIds(n.data,t,["styleIds"]),UC([n,"access",r=>r.data,"access",r=>r.styles,"optionalAccess",r=>r.forEach,"call",r=>r(i=>{this.replaceStyleIds(i,t,["styleId"])})]),n}}return!1}replace(t,n,r,i){for(const s of i)!Array.isArray(n[s])&&typeof n[s]!="number"||(Array.isArray(n[s])?n[s]=t.getIds(r,n[s]):n[s]=t.getId(r,n[s]));return n}replaceIds(t,n,r){return this.replace(this.crossOriginIframeMirror,t,n,r)}replaceStyleIds(t,n,r){return this.replace(this.crossOriginIframeStyleMirror,t,n,r)}replaceIdOnNode(t,n){this.replaceIds(t,n,["id","rootId"]),"childNodes"in t&&t.childNodes.forEach(r=>{this.replaceIdOnNode(r,n)})}patchRootIdOnNode(t,n){t.type!==Rr.Document&&!t.rootId&&(t.rootId=n),"childNodes"in t&&t.childNodes.forEach(r=>{this.patchRootIdOnNode(r,n)})}}class bH{init(){}addShadowRoot(){}observeAttachShadow(){}reset(){}}class xH{constructor(t){this.shadowDoms=new WeakSet,this.restoreHandlers=[],this.mutationCb=t.mutationCb,this.scrollCb=t.scrollCb,this.bypassOptions=t.bypassOptions,this.mirror=t.mirror,this.init()}init(){this.reset(),this.patchAttachShadow(Element,document)}addShadowRoot(t,n){if(!zh(t)||this.shadowDoms.has(t))return;this.shadowDoms.add(t),this.bypassOptions.canvasManager.addShadowRoot(t);const r=Aj({...this.bypassOptions,doc:n,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this},t);this.restoreHandlers.push(()=>r.disconnect()),this.restoreHandlers.push(Mj({...this.bypassOptions,scrollCb:this.scrollCb,doc:t,mirror:this.mirror})),Qy(()=>{t.adoptedStyleSheets&&t.adoptedStyleSheets.length>0&&this.bypassOptions.stylesheetManager.adoptStyleSheets(t.adoptedStyleSheets,this.mirror.getId(t.host)),this.restoreHandlers.push(Dj({mirror:this.mirror,stylesheetManager:this.bypassOptions.stylesheetManager},t))},0)}observeAttachShadow(t){const n=C2(t),r=XU(t);!n||!r||this.patchAttachShadow(r.Element,n)}patchAttachShadow(t,n){const r=this;this.restoreHandlers.push(S2(t.prototype,"attachShadow",function(i){return function(s){const o=i.call(this,s);return this.shadowRoot&&Oj(this)&&r.addShadowRoot(this.shadowRoot,n),o}}))}reset(){this.restoreHandlers.forEach(t=>{try{t()}catch{}}),this.restoreHandlers=[],this.shadowDoms=new WeakSet,this.bypassOptions.canvasManager.resetShadowRoots()}}class HC{reset(){}freeze(){}unfreeze(){}lock(){}unlock(){}snapshot(){}addWindow(){}addShadowRoot(){}resetShadowRoots(){}}class wH{constructor(t){this.trackedLinkElements=new WeakSet,this.styleMirror=new QU,this.mutationCb=t.mutationCb,this.adoptedStyleSheetCb=t.adoptedStyleSheetCb}attachLinkElement(t,n){"_cssText"in n.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:n.id,attributes:n.attributes}]}),this.trackLinkElement(t)}trackLinkElement(t){this.trackedLinkElements.has(t)||(this.trackedLinkElements.add(t),this.trackStylesheetInLinkElement(t))}adoptStyleSheets(t,n){if(t.length===0)return;const r={id:n,styleIds:[]},i=[];for(const s of t){let o;this.styleMirror.has(s)?o=this.styleMirror.getId(s):(o=this.styleMirror.add(s),i.push({styleId:o,rules:Array.from(s.rules||CSSRule,(a,l)=>({rule:mj(a),index:l}))})),r.styleIds.push(o)}i.length>0&&(r.styles=i),this.adoptedStyleSheetCb(r)}reset(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet}trackStylesheetInLinkElement(t){}}class _H{constructor(){this.nodeMap=new WeakMap,this.active=!1}inOtherBuffer(t,n){const r=this.nodeMap.get(t);return r&&Array.from(r).some(i=>i!==n)}add(t,n){this.active||(this.active=!0,YU(()=>{this.nodeMap=new WeakMap,this.active=!1})),this.nodeMap.set(t,(this.nodeMap.get(t)||new Set).add(n))}destroy(){}}let ir,Z0;try{if(Array.from([1],e=>e*2)[0]!==2){const e=document.createElement("iframe");document.body.appendChild(e),Array.from=k0([e,"access",t=>t.contentWindow,"optionalAccess",t=>t.Array,"access",t=>t.from])||Array.from,document.body.removeChild(e)}}catch(e){console.debug("Unable to override Array.from",e)}const Zs=wU();function _a(e={}){const{emit:t,checkoutEveryNms:n,checkoutEveryNth:r,blockClass:i="rr-block",blockSelector:s=null,unblockSelector:o=null,ignoreClass:a="rr-ignore",ignoreSelector:l=null,maskAllText:c=!1,maskTextClass:f="rr-mask",unmaskTextClass:p=null,maskTextSelector:g=null,unmaskTextSelector:y=null,inlineStylesheet:x=!0,maskAllInputs:_,maskInputOptions:S,slimDOMOptions:C,maskAttributeFn:I,maskInputFn:A,maskTextFn:z,maxCanvasSize:U=null,packFn:O,sampling:N={},dataURLOptions:F={},mousemoveWait:$,recordDOM:L=!0,recordCanvas:Z=!1,recordCrossOriginIframes:Y=!1,recordAfter:he=e.recordAfter==="DOMContentLoaded"?e.recordAfter:"load",userTriggeredOnInput:G=!1,collectFonts:W=!1,inlineImages:Q=!1,plugins:te,keepIframeSrcFn:X=()=>!1,ignoreCSSAttributes:fe=new Set([]),errorHandler:B,onMutation:ee,getCanvasManager:ge}=e;rH(B);const V=Y?window.parent===window:!0;let Te=!1;if(!V)try{window.parent.document&&(Te=!1)}catch{Te=!0}if(V&&!t)throw new Error("emit function is required");if(!V&&!Te)return()=>{};$!==void 0&&N.mousemove===void 0&&(N.mousemove=$),Zs.reset();const Ce=_===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,radio:!0,checkbox:!0}:S!==void 0?S:{},ke=C===!0||C==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:C==="all",headMetaDescKeywords:C==="all"}:C||{};qU();let Ve,Ue=0;const mt=Tt=>{for(const un of te||[])un.eventProcessor&&(Tt=un.eventProcessor(Tt));return O&&!Te&&(Tt=O(Tt)),Tt};ir=(Tt,un)=>{const jt=Tt;if(jt.timestamp=J0(),k0([Pd,"access",en=>en[0],"optionalAccess",en=>en.isFrozen,"call",en=>en()])&&jt.type!==Wt.FullSnapshot&&!(jt.type===Wt.IncrementalSnapshot&&jt.data.source===It.Mutation)&&Pd.forEach(en=>en.unfreeze()),V)k0([t,"optionalCall",en=>en(mt(jt),un)]);else if(Te){const en={type:"rrweb",event:mt(jt),origin:window.location.origin,isCheckout:un};window.parent.postMessage(en,"*")}if(jt.type===Wt.FullSnapshot)Ve=jt,Ue=0;else if(jt.type===Wt.IncrementalSnapshot){if(jt.data.source===It.Mutation&&jt.data.isAttachIframe)return;Ue++;const en=r&&Ue>=r,Et=n&&Ve&&jt.timestamp-Ve.timestamp>n;(en||Et)&&gi(!0)}};const De=Tt=>{ir({type:Wt.IncrementalSnapshot,data:{source:It.Mutation,...Tt}})},lr=Tt=>ir({type:Wt.IncrementalSnapshot,data:{source:It.Scroll,...Tt}}),dt=Tt=>ir({type:Wt.IncrementalSnapshot,data:{source:It.CanvasMutation,...Tt}}),gn=Tt=>ir({type:Wt.IncrementalSnapshot,data:{source:It.AdoptedStyleSheet,...Tt}}),_n=new wH({mutationCb:De,adoptedStyleSheetCb:gn}),vn=typeof __RRWEB_EXCLUDE_IFRAME__=="boolean"&&__RRWEB_EXCLUDE_IFRAME__?new yH:new vH({mirror:Zs,mutationCb:De,stylesheetManager:_n,recordCrossOriginIframes:Y,wrappedEmit:ir});for(const Tt of te||[])Tt.getMirror&&Tt.getMirror({nodeMirror:Zs,crossOriginIframeMirror:vn.crossOriginIframeMirror,crossOriginIframeStyleMirror:vn.crossOriginIframeStyleMirror});const wr=new _H,Ri=EH(ge,{mirror:Zs,win:window,mutationCb:Tt=>ir({type:Wt.IncrementalSnapshot,data:{source:It.CanvasMutation,...Tt}}),recordCanvas:Z,blockClass:i,blockSelector:s,unblockSelector:o,maxCanvasSize:U,sampling:N.canvas,dataURLOptions:F,errorHandler:B}),Gi=typeof __RRWEB_EXCLUDE_SHADOW_DOM__=="boolean"&&__RRWEB_EXCLUDE_SHADOW_DOM__?new bH:new xH({mutationCb:De,scrollCb:lr,bypassOptions:{onMutation:ee,blockClass:i,blockSelector:s,unblockSelector:o,maskAllText:c,maskTextClass:f,unmaskTextClass:p,maskTextSelector:g,unmaskTextSelector:y,inlineStylesheet:x,maskInputOptions:Ce,dataURLOptions:F,maskAttributeFn:I,maskTextFn:z,maskInputFn:A,recordCanvas:Z,inlineImages:Q,sampling:N,slimDOMOptions:ke,iframeManager:vn,stylesheetManager:_n,canvasManager:Ri,keepIframeSrcFn:X,processedNodeManager:wr},mirror:Zs}),gi=(Tt=!1)=>{if(!L)return;ir({type:Wt.Meta,data:{href:window.location.href,width:kj(),height:Cj()}},Tt),_n.reset(),Gi.init(),Pd.forEach(jt=>jt.lock());const un=WU(document,{mirror:Zs,blockClass:i,blockSelector:s,unblockSelector:o,maskAllText:c,maskTextClass:f,unmaskTextClass:p,maskTextSelector:g,unmaskTextSelector:y,inlineStylesheet:x,maskAllInputs:Ce,maskAttributeFn:I,maskInputFn:A,maskTextFn:z,slimDOM:ke,dataURLOptions:F,recordCanvas:Z,inlineImages:Q,onSerialize:jt=>{Ij(jt,Zs)&&vn.addIframe(jt),Rj(jt,Zs)&&_n.trackLinkElement(jt),kw(jt)&&Gi.addShadowRoot(jt.shadowRoot,document)},onIframeLoad:(jt,en)=>{vn.attachIframe(jt,en),jt.contentWindow&&Ri.addWindow(jt.contentWindow),Gi.observeAttachShadow(jt)},onStylesheetLoad:(jt,en)=>{_n.attachLinkElement(jt,en)},keepIframeSrcFn:X});if(!un)return console.warn("Failed to snapshot the document");ir({type:Wt.FullSnapshot,data:{node:un,initialOffset:Ej(window)}}),Pd.forEach(jt=>jt.unlock()),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&_n.adoptStyleSheets(document.adoptedStyleSheets,Zs.getId(document))};Z0=gi;try{const Tt=[],un=en=>ln(gH)({onMutation:ee,mutationCb:De,mousemoveCb:(Et,Fn)=>ir({type:Wt.IncrementalSnapshot,data:{source:Fn,positions:Et}}),mouseInteractionCb:Et=>ir({type:Wt.IncrementalSnapshot,data:{source:It.MouseInteraction,...Et}}),scrollCb:lr,viewportResizeCb:Et=>ir({type:Wt.IncrementalSnapshot,data:{source:It.ViewportResize,...Et}}),inputCb:Et=>ir({type:Wt.IncrementalSnapshot,data:{source:It.Input,...Et}}),mediaInteractionCb:Et=>ir({type:Wt.IncrementalSnapshot,data:{source:It.MediaInteraction,...Et}}),styleSheetRuleCb:Et=>ir({type:Wt.IncrementalSnapshot,data:{source:It.StyleSheetRule,...Et}}),styleDeclarationCb:Et=>ir({type:Wt.IncrementalSnapshot,data:{source:It.StyleDeclaration,...Et}}),canvasMutationCb:dt,fontCb:Et=>ir({type:Wt.IncrementalSnapshot,data:{source:It.Font,...Et}}),selectionCb:Et=>{ir({type:Wt.IncrementalSnapshot,data:{source:It.Selection,...Et}})},customElementCb:Et=>{ir({type:Wt.IncrementalSnapshot,data:{source:It.CustomElement,...Et}})},blockClass:i,ignoreClass:a,ignoreSelector:l,maskAllText:c,maskTextClass:f,unmaskTextClass:p,maskTextSelector:g,unmaskTextSelector:y,maskInputOptions:Ce,inlineStylesheet:x,sampling:N,recordDOM:L,recordCanvas:Z,inlineImages:Q,userTriggeredOnInput:G,collectFonts:W,doc:en,maskAttributeFn:I,maskInputFn:A,maskTextFn:z,keepIframeSrcFn:X,blockSelector:s,unblockSelector:o,slimDOMOptions:ke,dataURLOptions:F,mirror:Zs,iframeManager:vn,stylesheetManager:_n,shadowDomManager:Gi,processedNodeManager:wr,canvasManager:Ri,ignoreCSSAttributes:fe,plugins:k0([te,"optionalAccess",Et=>Et.filter,"call",Et=>Et(Fn=>Fn.observer),"optionalAccess",Et=>Et.map,"call",Et=>Et(Fn=>({observer:Fn.observer,options:Fn.options,callback:Se=>ir({type:Wt.Plugin,data:{plugin:Fn.name,payload:Se}})}))])||[]},{});vn.addLoadListener(en=>{try{Tt.push(un(en.contentDocument))}catch(Et){console.warn(Et)}});const jt=()=>{gi(),Tt.push(un(document))};return document.readyState==="interactive"||document.readyState==="complete"?jt():(Tt.push(ki("DOMContentLoaded",()=>{ir({type:Wt.DomContentLoaded,data:{}}),he==="DOMContentLoaded"&&jt()})),Tt.push(ki("load",()=>{ir({type:Wt.Load,data:{}}),he==="load"&&jt()},window))),()=>{Tt.forEach(en=>en()),wr.destroy(),Z0=void 0,iH()}}catch(Tt){console.warn(Tt)}}function SH(e){if(!Z0)throw new Error("please take full snapshot after start recording");Z0(e)}_a.mirror=Zs;_a.takeFullSnapshot=SH;function EH(e,t){try{return e?e(t):new HC}catch{return console.warn("Unable to initialize CanvasManager"),new HC}}const CH=3,kH=5;function k2(e){return e>9999999999?e:e*1e3}function Nb(e){return e>9999999999?e/1e3:e}function Up(e,t){t.category!=="sentry.transaction"&&(["ui.click","ui.input"].includes(t.category)?e.triggerUserActivity():e.checkAndHandleExpiredSession(),e.addUpdate(()=>(e.throttledAddEvent({type:Wt.Custom,timestamp:(t.timestamp||0)*1e3,data:{tag:"breadcrumb",payload:no(t,10,1e3)}}),t.category==="console")))}const TH="button,a";function Lj(e){return e.closest(TH)||e}function Fj(e){const t=Bj(e);return!t||!(t instanceof Element)?t:Lj(t)}function Bj(e){return jH(e)?e.target:e}function jH(e){return typeof e=="object"&&!!e&&"target"in e}let ml;function IH(e){return ml||(ml=[],RH()),ml.push(e),()=>{const t=ml?ml.indexOf(e):-1;t>-1&&ml.splice(t,1)}}function RH(){Hi(Nn,"open",function(e){return function(...t){if(ml)try{ml.forEach(n=>n())}catch{}return e.apply(Nn,t)}})}const NH=new Set([It.Mutation,It.StyleSheetRule,It.StyleDeclaration,It.AdoptedStyleSheet,It.CanvasMutation,It.Selection,It.MediaInteraction]);function OH(e,t,n){e.handleClick(t,n)}class PH{constructor(t,n,r=Up){this._lastMutation=0,this._lastScroll=0,this._clicks=[],this._timeout=n.timeout/1e3,this._threshold=n.threshold/1e3,this._scrollTimeout=n.scrollTimeout/1e3,this._replay=t,this._ignoreSelector=n.ignoreSelector,this._addBreadcrumbEvent=r}addListeners(){const t=IH(()=>{this._lastMutation=WC()});this._teardown=()=>{t(),this._clicks=[],this._lastMutation=0,this._lastScroll=0}}removeListeners(){this._teardown&&this._teardown(),this._checkClickTimeout&&clearTimeout(this._checkClickTimeout)}handleClick(t,n){if(MH(n,this._ignoreSelector)||!DH(t))return;const r={timestamp:Nb(t.timestamp),clickBreadcrumb:t,clickCount:0,node:n};this._clicks.some(i=>i.node===r.node&&Math.abs(i.timestamp-r.timestamp)<1)||(this._clicks.push(r),this._clicks.length===1&&this._scheduleCheckClicks())}registerMutation(t=Date.now()){this._lastMutation=Nb(t)}registerScroll(t=Date.now()){this._lastScroll=Nb(t)}registerClick(t){const n=Lj(t);this._handleMultiClick(n)}_handleMultiClick(t){this._getClicks(t).forEach(n=>{n.clickCount++})}_getClicks(t){return this._clicks.filter(n=>n.node===t)}_checkClicks(){const t=[],n=WC();this._clicks.forEach(r=>{!r.mutationAfter&&this._lastMutation&&(r.mutationAfter=r.timestamp<=this._lastMutation?this._lastMutation-r.timestamp:void 0),!r.scrollAfter&&this._lastScroll&&(r.scrollAfter=r.timestamp<=this._lastScroll?this._lastScroll-r.timestamp:void 0),r.timestamp+this._timeout<=n&&t.push(r)});for(const r of t){const i=this._clicks.indexOf(r);i>-1&&(this._generateBreadcrumbs(r),this._clicks.splice(i,1))}this._clicks.length&&this._scheduleCheckClicks()}_generateBreadcrumbs(t){const n=this._replay,r=t.scrollAfter&&t.scrollAfter<=this._scrollTimeout,i=t.mutationAfter&&t.mutationAfter<=this._threshold,s=!r&&!i,{clickCount:o,clickBreadcrumb:a}=t;if(s){const l=Math.min(t.mutationAfter||this._timeout,this._timeout)*1e3,c=l<this._timeout*1e3?"mutation":"timeout",f={type:"default",message:a.message,timestamp:a.timestamp,category:"ui.slowClickDetected",data:{...a.data,url:Nn.location.href,route:n.getCurrentRoute(),timeAfterClickMs:l,endReason:c,clickCount:o||1}};this._addBreadcrumbEvent(n,f);return}if(o>1){const l={type:"default",message:a.message,timestamp:a.timestamp,category:"ui.multiClick",data:{...a.data,url:Nn.location.href,route:n.getCurrentRoute(),clickCount:o,metric:!0}};this._addBreadcrumbEvent(n,l)}}_scheduleCheckClicks(){this._checkClickTimeout&&clearTimeout(this._checkClickTimeout),this._checkClickTimeout=Jd(()=>this._checkClicks(),1e3)}}const AH=["A","BUTTON","INPUT"];function MH(e,t){return!!(!AH.includes(e.tagName)||e.tagName==="INPUT"&&!["submit","button"].includes(e.getAttribute("type")||"")||e.tagName==="A"&&(e.hasAttribute("download")||e.hasAttribute("target")&&e.getAttribute("target")!=="_self")||t&&e.matches(t))}function DH(e){return!!(e.data&&typeof e.data.nodeId=="number"&&e.timestamp)}function WC(){return Date.now()/1e3}function LH(e,t){try{if(!FH(t))return;const{source:n}=t.data;if(NH.has(n)&&e.registerMutation(t.timestamp),n===It.Scroll&&e.registerScroll(t.timestamp),BH(t)){const{type:r,id:i}=t.data,s=_a.mirror.getNode(i);s instanceof HTMLElement&&r===Si.Click&&e.registerClick(s)}}catch{}}function FH(e){return e.type===CH}function BH(e){return e.data.source===It.MouseInteraction}function Ao(e){return{timestamp:Date.now()/1e3,type:"default",...e}}var ey;(function(e){e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment"})(ey||(ey={}));const $H=new Set(["id","class","aria-label","role","name","alt","title","data-test-id","data-testid","disabled","aria-disabled","data-sentry-component"]);function zH(e){const t={};!e["data-sentry-component"]&&e["data-sentry-element"]&&(e["data-sentry-component"]=e["data-sentry-element"]);for(const n in e)if($H.has(n)){let r=n;(n==="data-testid"||n==="data-test-id")&&(r="testId"),t[r]=e[n]}return t}const UH=e=>t=>{if(!e.isEnabled())return;const n=HH(t);if(!n)return;const r=t.name==="click",i=r?t.event:void 0;r&&e.clickDetector&&i&&i.target&&!i.altKey&&!i.metaKey&&!i.ctrlKey&&!i.shiftKey&&OH(e.clickDetector,n,Fj(t.event)),Up(e,n)};function $j(e,t){const n=_a.mirror.getId(e),r=n&&_a.mirror.getNode(n),i=r&&_a.mirror.getMeta(r),s=i&&VH(i)?i:null;return{message:t,data:s?{nodeId:n,node:{id:n,tagName:s.tagName,textContent:Array.from(s.childNodes).map(o=>o.type===ey.Text&&o.textContent).filter(Boolean).map(o=>o.trim()).join(""),attributes:zH(s.attributes)}}:{}}}function HH(e){const{target:t,message:n}=WH(e);return Ao({category:`ui.${e.name}`,...$j(t,n)})}function WH(e){const t=e.name==="click";let n,r=null;try{r=t?Fj(e.event):Bj(e.event),n=Ta(r,{maxStringLength:200})||"<unknown>"}catch{n="<unknown>"}return{target:r,message:n}}function VH(e){return e.type===ey.Element}function qH(e,t){if(!e.isEnabled())return;e.updateUserActivity();const n=QH(t);n&&Up(e,n)}function QH(e){const{metaKey:t,shiftKey:n,ctrlKey:r,altKey:i,key:s,target:o}=e;if(!o||KH(o)||!s)return null;const a=t||r||i,l=s.length===1;if(!a&&l)return null;const c=Ta(o,{maxStringLength:200})||"<unknown>",f=$j(o,c);return Ao({category:"ui.keyDown",message:c,data:{...f.data,metaKey:t,shiftKey:n,ctrlKey:r,altKey:i,key:s}})}function KH(e){return e.tagName==="INPUT"||e.tagName==="TEXTAREA"||e.isContentEditable}const GH={resource:eW,paint:XH,navigation:ZH};function Rg(e,t){return({metric:n})=>void t.replayPerformanceEntries.push(e(n))}function YH(e){return e.map(JH).filter(Boolean)}function JH(e){const t=GH[e.entryType];return t?t(e):null}function ef(e){return((Ii||Nn.performance.timeOrigin)+e)/1e3}function XH(e){const{duration:t,entryType:n,name:r,startTime:i}=e,s=ef(i);return{type:n,name:r,start:s,end:s+t,data:void 0}}function ZH(e){const{entryType:t,name:n,decodedBodySize:r,duration:i,domComplete:s,encodedBodySize:o,domContentLoadedEventStart:a,domContentLoadedEventEnd:l,domInteractive:c,loadEventStart:f,loadEventEnd:p,redirectCount:g,startTime:y,transferSize:x,type:_}=e;return i===0?null:{type:`${t}.${_}`,start:ef(y),end:ef(s),name:n,data:{size:x,decodedBodySize:r,encodedBodySize:o,duration:i,domInteractive:c,domContentLoadedEventStart:a,domContentLoadedEventEnd:l,loadEventStart:f,loadEventEnd:p,domComplete:s,redirectCount:g}}}function eW(e){const{entryType:t,initiatorType:n,name:r,responseEnd:i,startTime:s,decodedBodySize:o,encodedBodySize:a,responseStatus:l,transferSize:c}=e;return["fetch","xmlhttprequest"].includes(n)?null:{type:`${t}.${n}`,start:ef(s),end:ef(i),name:r,data:{size:c,statusCode:l,decodedBodySize:o,encodedBodySize:a}}}function tW(e){const t=e.entries[e.entries.length-1],n=t&&t.element?[t.element]:void 0;return Ky(e,"largest-contentful-paint",n)}function nW(e){return e.sources!==void 0}function rW(e){const t=[],n=[];for(const r of e.entries)if(nW(r)){const i=[];for(const s of r.sources)if(s.node){n.push(s.node);const o=_a.mirror.getId(s.node);o&&i.push(o)}t.push({value:r.value,nodeIds:i.length?i:void 0})}return Ky(e,"cumulative-layout-shift",n,t)}function iW(e){const t=e.entries[e.entries.length-1],n=t&&t.target?[t.target]:void 0;return Ky(e,"first-input-delay",n)}function sW(e){const t=e.entries[e.entries.length-1],n=t&&t.target?[t.target]:void 0;return Ky(e,"interaction-to-next-paint",n)}function Ky(e,t,n,r){const i=e.value,s=e.rating,o=ef(i);return{type:"web-vital",name:t,start:o,end:o,data:{value:i,size:i,rating:s,nodeIds:n?n.map(a=>_a.mirror.getId(a)):void 0,attributions:r}}}function oW(e){function t(i){e.performanceEntries.includes(i)||e.performanceEntries.push(i)}function n({entries:i}){i.forEach(t)}const r=[];return["navigation","paint","resource"].forEach(i=>{r.push(Yd(i,n))}),r.push(rj(Rg(tW,e)),g2(Rg(rW,e)),ij(Rg(iW,e)),sj(Rg(sW,e))),()=>{r.forEach(i=>i())}}const _t=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,aW='var t=Uint8Array,n=Uint16Array,r=Int32Array,e=new t([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),i=new t([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),a=new t([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),s=function(t,e){for(var i=new n(31),a=0;a<31;++a)i[a]=e+=1<<t[a-1];var s=new r(i[30]);for(a=1;a<30;++a)for(var o=i[a];o<i[a+1];++o)s[o]=o-i[a]<<5|a;return{b:i,r:s}},o=s(e,2),f=o.b,h=o.r;f[28]=258,h[258]=28;for(var l=s(i,0).r,u=new n(32768),c=0;c<32768;++c){var v=(43690&c)>>1|(21845&c)<<1;v=(61680&(v=(52428&v)>>2|(13107&v)<<2))>>4|(3855&v)<<4,u[c]=((65280&v)>>8|(255&v)<<8)>>1}var d=function(t,r,e){for(var i=t.length,a=0,s=new n(r);a<i;++a)t[a]&&++s[t[a]-1];var o,f=new n(r);for(a=1;a<r;++a)f[a]=f[a-1]+s[a-1]<<1;if(e){o=new n(1<<r);var h=15-r;for(a=0;a<i;++a)if(t[a])for(var l=a<<4|t[a],c=r-t[a],v=f[t[a]-1]++<<c,d=v|(1<<c)-1;v<=d;++v)o[u[v]>>h]=l}else for(o=new n(i),a=0;a<i;++a)t[a]&&(o[a]=u[f[t[a]-1]++]>>15-t[a]);return o},g=new t(288);for(c=0;c<144;++c)g[c]=8;for(c=144;c<256;++c)g[c]=9;for(c=256;c<280;++c)g[c]=7;for(c=280;c<288;++c)g[c]=8;var w=new t(32);for(c=0;c<32;++c)w[c]=5;var p=d(g,9,0),y=d(w,5,0),m=function(t){return(t+7)/8|0},b=function(n,r,e){return(null==e||e>n.length)&&(e=n.length),new t(n.subarray(r,e))},M=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],E=function(t,n,r){var e=new Error(n||M[t]);if(e.code=t,Error.captureStackTrace&&Error.captureStackTrace(e,E),!r)throw e;return e},z=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8},_=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8,t[e+2]|=r>>16},x=function(r,e){for(var i=[],a=0;a<r.length;++a)r[a]&&i.push({s:a,f:r[a]});var s=i.length,o=i.slice();if(!s)return{t:F,l:0};if(1==s){var f=new t(i[0].s+1);return f[i[0].s]=1,{t:f,l:1}}i.sort((function(t,n){return t.f-n.f})),i.push({s:-1,f:25001});var h=i[0],l=i[1],u=0,c=1,v=2;for(i[0]={s:-1,f:h.f+l.f,l:h,r:l};c!=s-1;)h=i[i[u].f<i[v].f?u++:v++],l=i[u!=c&&i[u].f<i[v].f?u++:v++],i[c++]={s:-1,f:h.f+l.f,l:h,r:l};var d=o[0].s;for(a=1;a<s;++a)o[a].s>d&&(d=o[a].s);var g=new n(d+1),w=A(i[c-1],g,0);if(w>e){a=0;var p=0,y=w-e,m=1<<y;for(o.sort((function(t,n){return g[n.s]-g[t.s]||t.f-n.f}));a<s;++a){var b=o[a].s;if(!(g[b]>e))break;p+=m-(1<<w-g[b]),g[b]=e}for(p>>=y;p>0;){var M=o[a].s;g[M]<e?p-=1<<e-g[M]++-1:++a}for(;a>=0&&p;--a){var E=o[a].s;g[E]==e&&(--g[E],++p)}w=e}return{t:new t(g),l:w}},A=function(t,n,r){return-1==t.s?Math.max(A(t.l,n,r+1),A(t.r,n,r+1)):n[t.s]=r},D=function(t){for(var r=t.length;r&&!t[--r];);for(var e=new n(++r),i=0,a=t[0],s=1,o=function(t){e[i++]=t},f=1;f<=r;++f)if(t[f]==a&&f!=r)++s;else{if(!a&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(a),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(a);s=1,a=t[f]}return{c:e.subarray(0,i),n:r}},T=function(t,n){for(var r=0,e=0;e<n.length;++e)r+=t[e]*n[e];return r},k=function(t,n,r){var e=r.length,i=m(n+2);t[i]=255&e,t[i+1]=e>>8,t[i+2]=255^t[i],t[i+3]=255^t[i+1];for(var a=0;a<e;++a)t[i+a+4]=r[a];return 8*(i+4+e)},U=function(t,r,s,o,f,h,l,u,c,v,m){z(r,m++,s),++f[256];for(var b=x(f,15),M=b.t,E=b.l,A=x(h,15),U=A.t,C=A.l,F=D(M),I=F.c,S=F.n,L=D(U),O=L.c,j=L.n,q=new n(19),B=0;B<I.length;++B)++q[31&I[B]];for(B=0;B<O.length;++B)++q[31&O[B]];for(var G=x(q,7),H=G.t,J=G.l,K=19;K>4&&!H[a[K-1]];--K);var N,P,Q,R,V=v+5<<3,W=T(f,g)+T(h,w)+l,X=T(f,M)+T(h,U)+l+14+3*K+T(q,H)+2*q[16]+3*q[17]+7*q[18];if(c>=0&&V<=W&&V<=X)return k(r,m,t.subarray(c,c+v));if(z(r,m,1+(X<W)),m+=2,X<W){N=d(M,E,0),P=M,Q=d(U,C,0),R=U;var Y=d(H,J,0);z(r,m,S-257),z(r,m+5,j-1),z(r,m+10,K-4),m+=14;for(B=0;B<K;++B)z(r,m+3*B,H[a[B]]);m+=3*K;for(var Z=[I,O],$=0;$<2;++$){var tt=Z[$];for(B=0;B<tt.length;++B){var nt=31&tt[B];z(r,m,Y[nt]),m+=H[nt],nt>15&&(z(r,m,tt[B]>>5&127),m+=tt[B]>>12)}}}else N=p,P=g,Q=y,R=w;for(B=0;B<u;++B){var rt=o[B];if(rt>255){_(r,m,N[(nt=rt>>18&31)+257]),m+=P[nt+257],nt>7&&(z(r,m,rt>>23&31),m+=e[nt]);var et=31&rt;_(r,m,Q[et]),m+=R[et],et>3&&(_(r,m,rt>>5&8191),m+=i[et])}else _(r,m,N[rt]),m+=P[rt]}return _(r,m,N[256]),m+P[256]},C=new r([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),F=new t(0),I=function(){for(var t=new Int32Array(256),n=0;n<256;++n){for(var r=n,e=9;--e;)r=(1&r&&-306674912)^r>>>1;t[n]=r}return t}(),S=function(){var t=-1;return{p:function(n){for(var r=t,e=0;e<n.length;++e)r=I[255&r^n[e]]^r>>>8;t=r},d:function(){return~t}}},L=function(){var t=1,n=0;return{p:function(r){for(var e=t,i=n,a=0|r.length,s=0;s!=a;){for(var o=Math.min(s+2655,a);s<o;++s)i+=e+=r[s];e=(65535&e)+15*(e>>16),i=(65535&i)+15*(i>>16)}t=e,n=i},d:function(){return(255&(t%=65521))<<24|(65280&t)<<8|(255&(n%=65521))<<8|n>>8}}},O=function(a,s,o,f,u){if(!u&&(u={l:1},s.dictionary)){var c=s.dictionary.subarray(-32768),v=new t(c.length+a.length);v.set(c),v.set(a,c.length),a=v,u.w=c.length}return function(a,s,o,f,u,c){var v=c.z||a.length,d=new t(f+v+5*(1+Math.ceil(v/7e3))+u),g=d.subarray(f,d.length-u),w=c.l,p=7&(c.r||0);if(s){p&&(g[0]=c.r>>3);for(var y=C[s-1],M=y>>13,E=8191&y,z=(1<<o)-1,_=c.p||new n(32768),x=c.h||new n(z+1),A=Math.ceil(o/3),D=2*A,T=function(t){return(a[t]^a[t+1]<<A^a[t+2]<<D)&z},F=new r(25e3),I=new n(288),S=new n(32),L=0,O=0,j=c.i||0,q=0,B=c.w||0,G=0;j+2<v;++j){var H=T(j),J=32767&j,K=x[H];if(_[J]=K,x[H]=J,B<=j){var N=v-j;if((L>7e3||q>24576)&&(N>423||!w)){p=U(a,g,0,F,I,S,O,q,G,j-G,p),q=L=O=0,G=j;for(var P=0;P<286;++P)I[P]=0;for(P=0;P<30;++P)S[P]=0}var Q=2,R=0,V=E,W=J-K&32767;if(N>2&&H==T(j-W))for(var X=Math.min(M,N)-1,Y=Math.min(32767,j),Z=Math.min(258,N);W<=Y&&--V&&J!=K;){if(a[j+Q]==a[j+Q-W]){for(var $=0;$<Z&&a[j+$]==a[j+$-W];++$);if($>Q){if(Q=$,R=W,$>X)break;var tt=Math.min(W,$-2),nt=0;for(P=0;P<tt;++P){var rt=j-W+P&32767,et=rt-_[rt]&32767;et>nt&&(nt=et,K=rt)}}}W+=(J=K)-(K=_[J])&32767}if(R){F[q++]=268435456|h[Q]<<18|l[R];var it=31&h[Q],at=31&l[R];O+=e[it]+i[at],++I[257+it],++S[at],B=j+Q,++L}else F[q++]=a[j],++I[a[j]]}}for(j=Math.max(j,B);j<v;++j)F[q++]=a[j],++I[a[j]];p=U(a,g,w,F,I,S,O,q,G,j-G,p),w||(c.r=7&p|g[p/8|0]<<3,p-=7,c.h=x,c.p=_,c.i=j,c.w=B)}else{for(j=c.w||0;j<v+w;j+=65535){var st=j+65535;st>=v&&(g[p/8|0]=w,st=v),p=k(g,p+1,a.subarray(j,st))}c.i=v}return b(d,0,f+m(p)+u)}(a,null==s.level?6:s.level,null==s.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(a.length)))):12+s.mem,o,f,u)},j=function(t,n,r){for(;r;++n)t[n]=r,r>>>=8},q=function(t,n){var r=n.filename;if(t[0]=31,t[1]=139,t[2]=8,t[8]=n.level<2?4:9==n.level?2:0,t[9]=3,0!=n.mtime&&j(t,4,Math.floor(new Date(n.mtime||Date.now())/1e3)),r){t[3]=8;for(var e=0;e<=r.length;++e)t[e+10]=r.charCodeAt(e)}},B=function(t){return 10+(t.filename?t.filename.length+1:0)},G=function(){function n(n,r){if("function"==typeof n&&(r=n,n={}),this.ondata=r,this.o=n||{},this.s={l:0,i:32768,w:32768,z:32768},this.b=new t(98304),this.o.dictionary){var e=this.o.dictionary.subarray(-32768);this.b.set(e,32768-e.length),this.s.i=32768-e.length}}return n.prototype.p=function(t,n){this.ondata(O(t,this.o,0,0,this.s),n)},n.prototype.push=function(n,r){this.ondata||E(5),this.s.l&&E(4);var e=n.length+this.s.z;if(e>this.b.length){if(e>2*this.b.length-32768){var i=new t(-32768&e);i.set(this.b.subarray(0,this.s.z)),this.b=i}var a=this.b.length-this.s.z;a&&(this.b.set(n.subarray(0,a),this.s.z),this.s.z=this.b.length,this.p(this.b,!1)),this.b.set(this.b.subarray(-32768)),this.b.set(n.subarray(a),32768),this.s.z=n.length-a+32768,this.s.i=32766,this.s.w=32768}else this.b.set(n,this.s.z),this.s.z+=n.length;this.s.l=1&r,(this.s.z>this.s.w+8191||r)&&(this.p(this.b,r||!1),this.s.w=this.s.i,this.s.i-=2)},n}();var H=function(){function t(t,n){this.c=L(),this.v=1,G.call(this,t,n)}return t.prototype.push=function(t,n){this.c.p(t),G.prototype.push.call(this,t,n)},t.prototype.p=function(t,n){var r=O(t,this.o,this.v&&(this.o.dictionary?6:2),n&&4,this.s);this.v&&(function(t,n){var r=n.level,e=0==r?0:r<6?1:9==r?3:2;if(t[0]=120,t[1]=e<<6|(n.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,n.dictionary){var i=L();i.p(n.dictionary),j(t,2,i.d())}}(r,this.o),this.v=0),n&&j(r,r.length-4,this.c.d()),this.ondata(r,n)},t}(),J="undefined"!=typeof TextEncoder&&new TextEncoder,K="undefined"!=typeof TextDecoder&&new TextDecoder;try{K.decode(F,{stream:!0})}catch(t){}var N=function(){function t(t){this.ondata=t}return t.prototype.push=function(t,n){this.ondata||E(5),this.d&&E(4),this.ondata(P(t),this.d=n||!1)},t}();function P(n,r){if(J)return J.encode(n);for(var e=n.length,i=new t(n.length+(n.length>>1)),a=0,s=function(t){i[a++]=t},o=0;o<e;++o){if(a+5>i.length){var f=new t(a+8+(e-o<<1));f.set(i),i=f}var h=n.charCodeAt(o);h<128||r?s(h):h<2048?(s(192|h>>6),s(128|63&h)):h>55295&&h<57344?(s(240|(h=65536+(1047552&h)|1023&n.charCodeAt(++o))>>18),s(128|h>>12&63),s(128|h>>6&63),s(128|63&h)):(s(224|h>>12),s(128|h>>6&63),s(128|63&h))}return b(i,0,a)}function Q(t){return function(t,n){n||(n={});var r=S(),e=t.length;r.p(t);var i=O(t,n,B(n),8),a=i.length;return q(i,n),j(i,a-8,r.d()),j(i,a-4,e),i}(P(t))}const R=new class{constructor(){this._init()}clear(){this._init()}addEvent(t){if(!t)throw new Error("Adding invalid event");const n=this._hasEvents?",":"";this.stream.push(n+t),this._hasEvents=!0}finish(){this.stream.push("]",!0);const t=function(t){let n=0;for(const r of t)n+=r.length;const r=new Uint8Array(n);for(let n=0,e=0,i=t.length;n<i;n++){const i=t[n];r.set(i,e),e+=i.length}return r}(this._deflatedData);return this._init(),t}_init(){this._hasEvents=!1,this._deflatedData=[],this.deflate=new H,this.deflate.ondata=(t,n)=>{this._deflatedData.push(t)},this.stream=new N(((t,n)=>{this.deflate.push(t,n)})),this.stream.push("[")}},V={clear:()=>{R.clear()},addEvent:t=>R.addEvent(t),finish:()=>R.finish(),compress:t=>Q(t)};addEventListener("message",(function(t){const n=t.data.method,r=t.data.id,e=t.data.arg;if(n in V&&"function"==typeof V[n])try{const t=V[n](e);postMessage({id:r,method:n,success:!0,response:t})}catch(t){postMessage({id:r,method:n,success:!1,response:t.message}),console.error(t)}})),postMessage({id:void 0,method:"init",success:!0,response:void 0});';function lW(){const e=new Blob([aW]);return URL.createObjectURL(e)}const VC=["info","warn","error","log"],I0="[Replay] ";function Ob(e,t="info"){Dl({category:"console",data:{logger:"replay"},level:t,message:`${I0}${e}`},{level:t})}function cW(){let e=!1,t=!1;const n={exception:()=>{},infoTick:()=>{},setConfig:r=>{e=r.captureExceptions,t=r.traceInternals}};return _t?(VC.forEach(r=>{n[r]=(...i)=>{Ge[r](I0,...i),t&&Ob(i.join(""),z7(r))}}),n.exception=(r,...i)=>{i.length&&n.error&&n.error(...i),Ge.error(I0,r),e?d2(r):t&&Ob(r,"error")},n.infoTick=(...r)=>{Ge.info(I0,...r),t&&setTimeout(()=>Ob(r[0]),0)}):VC.forEach(r=>{n[r]=()=>{}}),n}const kt=cW();class T2 extends Error{constructor(){super(`Event buffer exceeded maximum size of ${x2}.`)}}class zj{constructor(){this.events=[],this._totalSize=0,this.hasCheckout=!1,this.waitForCheckout=!1}get hasEvents(){return this.events.length>0}get type(){return"sync"}destroy(){this.events=[]}async addEvent(t){const n=JSON.stringify(t).length;if(this._totalSize+=n,this._totalSize>x2)throw new T2;this.events.push(t)}finish(){return new Promise(t=>{const n=this.events;this.clear(),t(JSON.stringify(n))})}clear(){this.events=[],this._totalSize=0,this.hasCheckout=!1}getEarliestTimestamp(){const t=this.events.map(n=>n.timestamp).sort()[0];return t?k2(t):null}}class uW{constructor(t){this._worker=t,this._id=0}ensureReady(){return this._ensureReadyPromise?this._ensureReadyPromise:(this._ensureReadyPromise=new Promise((t,n)=>{this._worker.addEventListener("message",({data:r})=>{r.success?t():n()},{once:!0}),this._worker.addEventListener("error",r=>{n(r)},{once:!0})}),this._ensureReadyPromise)}destroy(){_t&&kt.info("Destroying compression worker"),this._worker.terminate()}postMessage(t,n){const r=this._getAndIncrementId();return new Promise((i,s)=>{const o=({data:a})=>{const l=a;if(l.method===t&&l.id===r){if(this._worker.removeEventListener("message",o),!l.success){_t&&kt.error("Error in compression worker: ",l.response),s(new Error("Error in compression worker"));return}i(l.response)}};this._worker.addEventListener("message",o),this._worker.postMessage({id:r,method:t,arg:n})})}_getAndIncrementId(){return this._id++}}class dW{constructor(t){this._worker=new uW(t),this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this.waitForCheckout=!1}get hasEvents(){return!!this._earliestTimestamp}get type(){return"worker"}ensureReady(){return this._worker.ensureReady()}destroy(){this._worker.destroy()}addEvent(t){const n=k2(t.timestamp);(!this._earliestTimestamp||n<this._earliestTimestamp)&&(this._earliestTimestamp=n);const r=JSON.stringify(t);return this._totalSize+=r.length,this._totalSize>x2?Promise.reject(new T2):this._sendEventToWorker(r)}finish(){return this._finishRequest()}clear(){this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this._worker.postMessage("clear").then(null,t=>{_t&&kt.exception(t,'Sending "clear" message to worker failed',t)})}getEarliestTimestamp(){return this._earliestTimestamp}_sendEventToWorker(t){return this._worker.postMessage("addEvent",t)}async _finishRequest(){const t=await this._worker.postMessage("finish");return this._earliestTimestamp=null,this._totalSize=0,t}}class fW{constructor(t){this._fallback=new zj,this._compression=new dW(t),this._used=this._fallback,this._ensureWorkerIsLoadedPromise=this._ensureWorkerIsLoaded()}get waitForCheckout(){return this._used.waitForCheckout}get type(){return this._used.type}get hasEvents(){return this._used.hasEvents}get hasCheckout(){return this._used.hasCheckout}set hasCheckout(t){this._used.hasCheckout=t}set waitForCheckout(t){this._used.waitForCheckout=t}destroy(){this._fallback.destroy(),this._compression.destroy()}clear(){return this._used.clear()}getEarliestTimestamp(){return this._used.getEarliestTimestamp()}addEvent(t){return this._used.addEvent(t)}async finish(){return await this.ensureWorkerIsLoaded(),this._used.finish()}ensureWorkerIsLoaded(){return this._ensureWorkerIsLoadedPromise}async _ensureWorkerIsLoaded(){try{await this._compression.ensureReady()}catch(t){_t&&kt.exception(t,"Failed to load the compression worker, falling back to simple buffer");return}await this._switchToCompressionWorker()}async _switchToCompressionWorker(){const{events:t,hasCheckout:n,waitForCheckout:r}=this._fallback,i=[];for(const s of t)i.push(this._compression.addEvent(s));this._compression.hasCheckout=n,this._compression.waitForCheckout=r,this._used=this._compression;try{await Promise.all(i),this._fallback.clear()}catch(s){_t&&kt.exception(s,"Failed to add events when switching buffers.")}}}function hW({useCompression:e,workerUrl:t}){if(e&&window.Worker){const n=pW(t);if(n)return n}return _t&&kt.info("Using simple buffer"),new zj}function pW(e){try{const t=e||mW();if(!t)return;_t&&kt.info(`Using compression worker${e?` from ${e}`:""}`);const n=new Worker(t);return new fW(n)}catch(t){_t&&kt.exception(t,"Failed to create compression worker")}}function mW(){return typeof __SENTRY_EXCLUDE_REPLAY_WORKER__>"u"||!__SENTRY_EXCLUDE_REPLAY_WORKER__?lW():""}function j2(){try{return"sessionStorage"in Nn&&!!Nn.sessionStorage}catch{return!1}}function gW(e){yW(),e.session=void 0}function yW(){if(j2())try{Nn.sessionStorage.removeItem(v2)}catch{}}function Uj(e){return e===void 0?!1:Math.random()<e}function Hj(e){const t=Date.now(),n=e.id||ls(),r=e.started||t,i=e.lastActivity||t,s=e.segmentId||0,o=e.sampled,a=e.previousSessionId;return{id:n,started:r,lastActivity:i,segmentId:s,sampled:o,previousSessionId:a}}function I2(e){if(j2())try{Nn.sessionStorage.setItem(v2,JSON.stringify(e))}catch{}}function vW(e,t){return Uj(e)?"session":t?"buffer":!1}function qC({sessionSampleRate:e,allowBuffering:t,stickySession:n=!1},{previousSessionId:r}={}){const i=vW(e,t),s=Hj({sampled:i,previousSessionId:r});return n&&I2(s),s}function bW(){if(!j2())return null;try{const e=Nn.sessionStorage.getItem(v2);if(!e)return null;const t=JSON.parse(e);return _t&&kt.infoTick("Loading existing session"),Hj(t)}catch{return null}}function Iw(e,t,n=+new Date){return e===null||t===void 0||t<0?!0:t===0?!1:e+t<=n}function Wj(e,{maxReplayDuration:t,sessionIdleExpire:n,targetTime:r=Date.now()}){return Iw(e.started,t,r)||Iw(e.lastActivity,n,r)}function Vj(e,{sessionIdleExpire:t,maxReplayDuration:n}){return!(!Wj(e,{sessionIdleExpire:t,maxReplayDuration:n})||e.sampled==="buffer"&&e.segmentId===0)}function Pb({sessionIdleExpire:e,maxReplayDuration:t,previousSessionId:n},r){const i=r.stickySession&&bW();return i?Vj(i,{sessionIdleExpire:e,maxReplayDuration:t})?(_t&&kt.infoTick("Session in sessionStorage is expired, creating new one..."),qC(r,{previousSessionId:i.id})):i:(_t&&kt.infoTick("Creating new session"),qC(r,{previousSessionId:n}))}function xW(e){return e.type===Wt.Custom}function R2(e,t,n){return Qj(e,t)?(qj(e,t,n),!0):!1}function wW(e,t,n){return Qj(e,t)?qj(e,t,n):Promise.resolve(null)}async function qj(e,t,n){const{eventBuffer:r}=e;if(!r||r.waitForCheckout&&!n)return null;const i=e.recordingMode==="buffer";try{n&&i&&r.clear(),n&&(r.hasCheckout=!0,r.waitForCheckout=!1);const s=e.getOptions(),o=_W(t,s.beforeAddRecordingEvent);return o?await r.addEvent(o):void 0}catch(s){const o=s&&s instanceof T2,a=o?"addEventSizeExceeded":"addEvent";if(o&&i)return r.clear(),r.waitForCheckout=!0,null;e.handleException(s),await e.stop({reason:a});const l=rn();l&&l.recordDroppedEvent("internal_sdk_error","replay")}}function Qj(e,t){if(!e.eventBuffer||e.isPaused()||!e.isEnabled())return!1;const n=k2(t.timestamp);return n+e.timeouts.sessionIdlePause<Date.now()?!1:n>e.getContext().initialTimestamp+e.getOptions().maxReplayDuration?(_t&&kt.infoTick(`Skipping event with timestamp ${n} because it is after maxReplayDuration`),!1):!0}function _W(e,t){try{if(typeof t=="function"&&xW(e))return t(e)}catch(n){return _t&&kt.exception(n,"An error occurred in the `beforeAddRecordingEvent` callback, skipping the event..."),null}return e}function N2(e){return!e.type}function Rw(e){return e.type==="transaction"}function SW(e){return e.type==="replay_event"}function QC(e){return e.type==="feedback"}function EW(e){return(t,n)=>{if(!e.isEnabled()||!N2(t)&&!Rw(t))return;const r=n&&n.statusCode;if(!(!r||r<200||r>=300)){if(Rw(t)){CW(e,t);return}kW(e,t)}}}function CW(e,t){const n=e.getContext();t.contexts&&t.contexts.trace&&t.contexts.trace.trace_id&&n.traceIds.size<100&&n.traceIds.add(t.contexts.trace.trace_id)}function kW(e,t){const n=e.getContext();if(t.event_id&&n.errorIds.size<100&&n.errorIds.add(t.event_id),e.recordingMode!=="buffer"||!t.tags||!t.tags.replayId)return;const{beforeErrorSampling:r}=e.getOptions();typeof r=="function"&&!r(t)||Jd(async()=>{try{await e.sendBufferedReplayOrFlush()}catch(i){e.handleException(i)}})}function TW(e){return t=>{!e.isEnabled()||!N2(t)||jW(e,t)}}function jW(e,t){const n=t.exception&&t.exception.values&&t.exception.values[0]&&t.exception.values[0].value;if(typeof n=="string"&&(n.match(/(reactjs\.org\/docs\/error-decoder\.html\?invariant=|react\.dev\/errors\/)(418|419|422|423|425)/)||n.match(/(does not match server-rendered HTML|Hydration failed because)/i))){const r=Ao({category:"replay.hydrate-error",data:{url:e7()}});Up(e,r)}}function IW(e){const t=rn();t&&t.on("beforeAddBreadcrumb",n=>RW(e,n))}function RW(e,t){if(!e.isEnabled()||!Kj(t))return;const n=NW(t);n&&Up(e,n)}function NW(e){return!Kj(e)||["fetch","xhr","sentry.event","sentry.transaction"].includes(e.category)||e.category.startsWith("ui.")?null:e.category==="console"?OW(e):Ao(e)}function OW(e){const t=e.data&&e.data.arguments;if(!Array.isArray(t)||t.length===0)return Ao(e);let n=!1;const r=t.map(i=>{if(!i)return i;if(typeof i=="string")return i.length>Tg?(n=!0,`${i.slice(0,Tg)}`):i;if(typeof i=="object")try{const s=no(i,7);return JSON.stringify(s).length>Tg?(n=!0,`${JSON.stringify(s,null,2).slice(0,Tg)}`):s}catch{}return i});return Ao({...e,data:{...e.data,arguments:r,...n?{_meta:{warnings:["CONSOLE_ARG_TRUNCATED"]}}:{}}})}function Kj(e){return!!e.category}function PW(e,t){return e.type||!e.exception||!e.exception.values||!e.exception.values.length?!1:!!(t.originalException&&t.originalException.__rrweb__)}function Gj(){const e=An().getPropagationContext().dsc;e&&delete e.replay_id;const t=qr();if(t){const n=pu(t);delete n.replay_id}}function AW(e,t){e.triggerUserActivity(),e.addUpdate(()=>t.timestamp?(e.throttledAddEvent({type:Wt.Custom,timestamp:t.timestamp*1e3,data:{tag:"breadcrumb",payload:{timestamp:t.timestamp,type:"default",category:"sentry.feedback",data:{feedbackId:t.event_id}}}}),!1):!0)}function MW(e,t){return e.recordingMode!=="buffer"||t.message===b2||!t.exception||t.type?!1:Uj(e.getOptions().errorSampleRate)}function DW(e){return Object.assign((t,n)=>!e.isEnabled()||e.isPaused()?t:SW(t)?(delete t.breadcrumbs,t):!N2(t)&&!Rw(t)&&!QC(t)?t:e.checkAndHandleExpiredSession()?QC(t)?(e.flush(),t.contexts.feedback.replay_id=e.getSessionId(),AW(e,t),t):PW(t,n)&&!e.getOptions()._experiments.captureExceptions?(_t&&kt.log("Ignoring error from rrweb internals",t),null):((MW(e,t)||e.recordingMode==="session")&&(t.tags={...t.tags,replayId:e.getSessionId()}),t):(Gj(),t),{id:"Replay"})}function Gy(e,t){return t.map(({type:n,start:r,end:i,name:s,data:o})=>{const a=e.throttledAddEvent({type:Wt.Custom,timestamp:r,data:{tag:"performanceSpan",payload:{op:n,description:s,startTimestamp:r,endTimestamp:i,data:o}}});return typeof a=="string"?Promise.resolve(null):a})}function LW(e){const{from:t,to:n}=e,r=Date.now()/1e3;return{type:"navigation.push",start:r,end:r,name:n,data:{previous:t}}}function FW(e){return t=>{if(!e.isEnabled())return;const n=LW(t);n!==null&&(e.getContext().urls.push(n.name),e.triggerUserActivity(),e.addUpdate(()=>(Gy(e,[n]),!1)))}}function BW(e,t){return _t&&e.getOptions()._experiments.traceInternals?!1:LF(t,rn())}function Yj(e,t){e.isEnabled()&&t!==null&&(BW(e,t.name)||e.addUpdate(()=>(Gy(e,[t]),!0)))}function Yy(e){if(!e)return;const t=new TextEncoder;try{if(typeof e=="string")return t.encode(e).length;if(e instanceof URLSearchParams)return t.encode(e.toString()).length;if(e instanceof FormData){const n=e9(e);return t.encode(n).length}if(e instanceof Blob)return e.size;if(e instanceof ArrayBuffer)return e.byteLength}catch{}}function Jj(e){if(!e)return;const t=parseInt(e,10);return isNaN(t)?void 0:t}function Xj(e){try{if(typeof e=="string")return[e];if(e instanceof URLSearchParams)return[e.toString()];if(e instanceof FormData)return[e9(e)];if(!e)return[void 0]}catch(t){return _t&&kt.exception(t,"Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return _t&&kt.info("Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}function ty(e,t){if(!e)return{headers:{},size:void 0,_meta:{warnings:[t]}};const n={...e._meta},r=n.warnings||[];return n.warnings=[...r,t],e._meta=n,e}function Zj(e,t){if(!t)return null;const{startTimestamp:n,endTimestamp:r,url:i,method:s,statusCode:o,request:a,response:l}=t;return{type:e,start:n/1e3,end:r/1e3,name:i,data:Or({method:s,statusCode:o,request:a,response:l})}}function ap(e){return{headers:{},size:e,_meta:{warnings:["URL_SKIPPED"]}}}function Il(e,t,n){if(!t&&Object.keys(e).length===0)return;if(!t)return{headers:e};if(!n)return{headers:e,size:t};const r={headers:e,size:t},{body:i,warnings:s}=$W(n);return r.body=i,s&&s.length>0&&(r._meta={warnings:s}),r}function Nw(e,t){return Object.entries(e).reduce((n,[r,i])=>{const s=r.toLowerCase();return t.includes(s)&&e[r]&&(n[s]=i),n},{})}function e9(e){return new URLSearchParams(e).toString()}function $W(e){if(!e||typeof e!="string")return{body:e};const t=e.length>TC,n=zW(e);if(t){const r=e.slice(0,TC);return n?{body:r,warnings:["MAYBE_JSON_TRUNCATED"]}:{body:`${r}`,warnings:["TEXT_TRUNCATED"]}}if(n)try{return{body:JSON.parse(e)}}catch{}return{body:e}}function zW(e){const t=e[0],n=e[e.length-1];return t==="["&&n==="]"||t==="{"&&n==="}"}function ny(e,t){const n=UW(e);return jl(n,t)}function UW(e,t=Nn.document.baseURI){if(e.startsWith("http://")||e.startsWith("https://")||e.startsWith(Nn.location.origin))return e;const n=new URL(e,t);if(n.origin!==new URL(t).origin)return e;const r=n.href;return!e.endsWith("/")&&r.endsWith("/")?r.slice(0,-1):r}async function HW(e,t,n){try{const r=await VW(e,t,n),i=Zj("resource.fetch",r);Yj(n.replay,i)}catch(r){_t&&kt.exception(r,"Failed to capture fetch breadcrumb")}}function WW(e,t){const{input:n,response:r}=t,i=n?t9(n):void 0,s=Yy(i),o=r?Jj(r.headers.get("content-length")):void 0;s!==void 0&&(e.data.request_body_size=s),o!==void 0&&(e.data.response_body_size=o)}async function VW(e,t,n){const r=Date.now(),{startTimestamp:i=r,endTimestamp:s=r}=t,{url:o,method:a,status_code:l=0,request_body_size:c,response_body_size:f}=e.data,p=ny(o,n.networkDetailAllowUrls)&&!ny(o,n.networkDetailDenyUrls),g=p?qW(n,t.input,c):ap(c),y=await QW(p,n,t.response,f);return{startTimestamp:i,endTimestamp:s,url:o,method:a,statusCode:l,request:g,response:y}}function qW({networkCaptureBodies:e,networkRequestHeaders:t},n,r){const i=n?YW(n,t):{};if(!e)return Il(i,r,void 0);const s=t9(n),[o,a]=Xj(s),l=Il(i,r,o);return a?ty(l,a):l}async function QW(e,{networkCaptureBodies:t,networkResponseHeaders:n},r,i){if(!e&&i!==void 0)return ap(i);const s=r?n9(r.headers,n):{};if(!r||!t&&i!==void 0)return Il(s,i,void 0);const[o,a]=await GW(r),l=KW(o,{networkCaptureBodies:t,responseBodySize:i,captureDetails:e,headers:s});return a?ty(l,a):l}function KW(e,{networkCaptureBodies:t,responseBodySize:n,captureDetails:r,headers:i}){try{const s=e&&e.length&&n===void 0?Yy(e):n;return r?t?Il(i,s,e):Il(i,s,void 0):ap(s)}catch(s){return _t&&kt.exception(s,"Failed to serialize response body"),Il(i,n,void 0)}}async function GW(e){const t=JW(e);if(!t)return[void 0,"BODY_PARSE_ERROR"];try{return[await XW(t)]}catch(n){return n instanceof Error&&n.message.indexOf("Timeout")>-1?(_t&&kt.warn("Parsing text body from response timed out"),[void 0,"BODY_PARSE_TIMEOUT"]):(_t&&kt.exception(n,"Failed to get text body from response"),[void 0,"BODY_PARSE_ERROR"])}}function t9(e=[]){if(!(e.length!==2||typeof e[1]!="object"))return e[1].body}function n9(e,t){const n={};return t.forEach(r=>{e.get(r)&&(n[r]=e.get(r))}),n}function YW(e,t){return e.length===1&&typeof e[0]!="string"?KC(e[0],t):e.length===2?KC(e[1],t):{}}function KC(e,t){if(!e)return{};const n=e.headers;return n?n instanceof Headers?n9(n,t):Array.isArray(n)?{}:Nw(n,t):{}}function JW(e){try{return e.clone()}catch(t){_t&&kt.exception(t,"Failed to clone response body")}}function XW(e){return new Promise((t,n)=>{const r=Jd(()=>n(new Error("Timeout while trying to read response body")),500);ZW(e).then(i=>t(i),i=>n(i)).finally(()=>clearTimeout(r))})}async function ZW(e){return await e.text()}async function eV(e,t,n){try{const r=nV(e,t,n),i=Zj("resource.xhr",r);Yj(n.replay,i)}catch(r){_t&&kt.exception(r,"Failed to capture xhr breadcrumb")}}function tV(e,t){const{xhr:n,input:r}=t;if(!n)return;const i=Yy(r),s=n.getResponseHeader("content-length")?Jj(n.getResponseHeader("content-length")):oV(n.response,n.responseType);i!==void 0&&(e.data.request_body_size=i),s!==void 0&&(e.data.response_body_size=s)}function nV(e,t,n){const r=Date.now(),{startTimestamp:i=r,endTimestamp:s=r,input:o,xhr:a}=t,{url:l,method:c,status_code:f=0,request_body_size:p,response_body_size:g}=e.data;if(!l)return null;if(!a||!ny(l,n.networkDetailAllowUrls)||ny(l,n.networkDetailDenyUrls)){const O=ap(p),N=ap(g);return{startTimestamp:i,endTimestamp:s,url:l,method:c,statusCode:f,request:O,response:N}}const y=a[Hc],x=y?Nw(y.request_headers,n.networkRequestHeaders):{},_=Nw(rV(a),n.networkResponseHeaders),[S,C]=n.networkCaptureBodies?Xj(o):[void 0],[I,A]=n.networkCaptureBodies?iV(a):[void 0],z=Il(x,p,S),U=Il(_,g,I);return{startTimestamp:i,endTimestamp:s,url:l,method:c,statusCode:f,request:C?ty(z,C):z,response:A?ty(U,A):U}}function rV(e){const t=e.getAllResponseHeaders();return t?t.split(`\r
`).reduce((n,r)=>{const[i,s]=r.split(": ");return s&&(n[i.toLowerCase()]=s),n},{}):{}}function iV(e){const t=[];try{return[e.responseText]}catch(n){t.push(n)}try{return sV(e.response,e.responseType)}catch(n){t.push(n)}return _t&&kt.warn("Failed to get xhr response body",...t),[void 0]}function sV(e,t){try{if(typeof e=="string")return[e];if(e instanceof Document)return[e.body.outerHTML];if(t==="json"&&e&&typeof e=="object")return[JSON.stringify(e)];if(!e)return[void 0]}catch(n){return _t&&kt.exception(n,"Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return _t&&kt.info("Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}function oV(e,t){try{const n=t==="json"&&e&&typeof e=="object"?JSON.stringify(e):e;return Yy(n)}catch{return}}function aV(e){const t=rn();try{const{networkDetailAllowUrls:n,networkDetailDenyUrls:r,networkCaptureBodies:i,networkRequestHeaders:s,networkResponseHeaders:o}=e.getOptions(),a={replay:e,networkDetailAllowUrls:n,networkDetailDenyUrls:r,networkCaptureBodies:i,networkRequestHeaders:s,networkResponseHeaders:o};t&&t.on("beforeAddBreadcrumb",(l,c)=>lV(a,l,c))}catch{}}function lV(e,t,n){if(t.data)try{cV(t)&&dV(n)&&(tV(t,n),eV(t,n,e)),uV(t)&&fV(n)&&(WW(t,n),HW(t,n,e))}catch(r){_t&&kt.exception(r,"Error when enriching network breadcrumb")}}function cV(e){return e.category==="xhr"}function uV(e){return e.category==="fetch"}function dV(e){return e&&e.xhr}function fV(e){return e&&e.response}function hV(e){const t=rn();uj(UH(e)),Wy(FW(e)),IW(e),aV(e);const n=DW(e);gF(n),t&&(t.on("beforeSendEvent",TW(e)),t.on("afterSendEvent",EW(e)),t.on("createDsc",r=>{const i=e.getSessionId();i&&e.isEnabled()&&e.recordingMode==="session"&&e.checkAndHandleExpiredSession()&&(r.replay_id=i)}),t.on("spanStart",r=>{e.lastActiveSpan=r}),t.on("spanEnd",r=>{e.lastActiveSpan=r}),t.on("beforeSendFeedback",(r,i)=>{const s=e.getSessionId();i&&i.includeReplay&&e.isEnabled()&&s&&r.contexts&&r.contexts.feedback&&(r.contexts.feedback.replay_id=s)}))}async function pV(e){try{return Promise.all(Gy(e,[mV(Nn.performance.memory)]))}catch{return[]}}function mV(e){const{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:r}=e,i=Date.now()/1e3;return{type:"memory",name:"memory",start:i,end:i,data:{memory:{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:r}}}}function gV(e,t,n){let r,i,s;const o=n&&n.maxWait?Math.max(n.maxWait,t):0;function a(){return l(),r=e(),r}function l(){i!==void 0&&clearTimeout(i),s!==void 0&&clearTimeout(s),i=s=void 0}function c(){return i!==void 0||s!==void 0?a():r}function f(){return i&&clearTimeout(i),i=Jd(a,t),o&&s===void 0&&(s=Jd(a,o)),r}return f.cancel=l,f.flush=c,f}const Ec=on.navigator;function yV(){return/iPhone|iPad|iPod/i.test(Ec&&Ec.userAgent||"")||/Macintosh/i.test(Ec&&Ec.userAgent||"")&&Ec&&Ec.maxTouchPoints&&Ec.maxTouchPoints>1?{sampling:{mousemove:!1}}:{}}function vV(e){let t=!1;return(n,r)=>{if(!e.checkAndHandleExpiredSession()){_t&&kt.warn("Received replay event after session expired.");return}const i=r||!t;t=!0,e.clickDetector&&LH(e.clickDetector,n),e.addUpdate(()=>{if(e.recordingMode==="buffer"&&i&&e.setInitialState(),!R2(e,n,i))return!0;if(!i)return!1;const s=e.session;if(xV(e,i),e.recordingMode==="buffer"&&s&&e.eventBuffer){const o=e.eventBuffer.getEarliestTimestamp();o&&(_t&&kt.info(`Updating session start time to earliest event in buffer to ${new Date(o)}`),s.started=o,e.getOptions().stickySession&&I2(s))}return s&&s.previousSessionId||e.recordingMode==="session"&&e.flush(),!0})}}function bV(e){const t=e.getOptions();return{type:Wt.Custom,timestamp:Date.now(),data:{tag:"options",payload:{shouldRecordCanvas:e.isRecordingCanvas(),sessionSampleRate:t.sessionSampleRate,errorSampleRate:t.errorSampleRate,useCompressionOption:t.useCompression,blockAllMedia:t.blockAllMedia,maskAllText:t.maskAllText,maskAllInputs:t.maskAllInputs,useCompression:e.eventBuffer?e.eventBuffer.type==="worker":!1,networkDetailHasUrls:t.networkDetailAllowUrls.length>0,networkCaptureBodies:t.networkCaptureBodies,networkRequestHasHeaders:t.networkRequestHeaders.length>0,networkResponseHasHeaders:t.networkResponseHeaders.length>0}}}}function xV(e,t){!t||!e.session||e.session.segmentId!==0||R2(e,bV(e),!1)}function wV(e,t,n,r){return mu(E7(e,c2(e),r,n),[[{type:"replay_event"},e],[{type:"replay_recording",length:typeof t=="string"?new TextEncoder().encode(t).length:t.length},t]])}function _V({recordingData:e,headers:t}){let n;const r=`${JSON.stringify(t)}
`;if(typeof e=="string")n=`${r}${e}`;else{const s=new TextEncoder().encode(r);n=new Uint8Array(s.length+e.length),n.set(s),n.set(e,s.length)}return n}async function SV({client:e,scope:t,replayId:n,event:r}){const i=typeof e._integrations=="object"&&e._integrations!==null&&!Array.isArray(e._integrations)?Object.keys(e._integrations):void 0,s={event_id:n,integrations:i};e.emit("preprocessEvent",r,s);const o=await I7(e.getOptions(),r,s,t,e,mo());if(!o)return null;o.platform=o.platform||"javascript";const a=e.getSdkMetadata(),{name:l,version:c}=a&&a.sdk||{};return o.sdk={...o.sdk,name:l||"sentry.javascript.unknown",version:c||"0.0.0"},o}async function EV({recordingData:e,replayId:t,segmentId:n,eventContext:r,timestamp:i,session:s}){const o=_V({recordingData:e,headers:{segment_id:n}}),{urls:a,errorIds:l,traceIds:c,initialTimestamp:f}=r,p=rn(),g=An(),y=p&&p.getTransport(),x=p&&p.getDsn();if(!p||!y||!x||!s.sampled)return ja({});const _={type:nU,replay_start_timestamp:f/1e3,timestamp:i/1e3,error_ids:l,trace_ids:c,urls:a,replay_id:t,segment_id:n,replay_type:s.sampled},S=await SV({scope:g,client:p,replayId:t,event:_});if(!S)return p.recordDroppedEvent("event_processor","replay",_),_t&&kt.info("An event processor returned `null`, will not send event."),ja({});delete S.sdkProcessingMetadata;const C=wV(S,o,x,p.getOptions().tunnel);let I;try{I=await y.send(C)}catch(z){const U=new Error(b2);try{U.cause=z}catch{}throw U}if(typeof I.statusCode=="number"&&(I.statusCode<200||I.statusCode>=300))throw new r9(I.statusCode);const A=F7({},I);if(L7(A,"replay"))throw new O2(A);return I}class r9 extends Error{constructor(t){super(`Transport returned status code ${t}`)}}class O2 extends Error{constructor(t){super("Rate limit hit"),this.rateLimits=t}}async function i9(e,t={count:0,interval:lU}){const{recordingData:n,onError:r}=e;if(n.length)try{return await EV(e),!0}catch(i){if(i instanceof r9||i instanceof O2)throw i;if(N7("Replays",{_retryCount:t.count}),r&&r(i),t.count>=cU){const s=new Error(`${b2} - max retries exceeded`);try{s.cause=i}catch{}throw s}return t.interval*=++t.count,new Promise((s,o)=>{Jd(async()=>{try{await i9(e,t),s(!0)}catch(a){o(a)}},t.interval)})}}const s9="__THROTTLED",CV="__SKIPPED";function kV(e,t,n){const r=new Map,i=a=>{const l=a-n;r.forEach((c,f)=>{f<l&&r.delete(f)})},s=()=>[...r.values()].reduce((a,l)=>a+l,0);let o=!1;return(...a)=>{const l=Math.floor(Date.now()/1e3);if(i(l),s()>=t){const f=o;return o=!0,f?CV:s9}o=!1;const c=r.get(l)||0;return r.set(l,c+1),e(...a)}}class gl{constructor({options:t,recordingOptions:n}){gl.prototype.__init.call(this),gl.prototype.__init2.call(this),gl.prototype.__init3.call(this),gl.prototype.__init4.call(this),gl.prototype.__init5.call(this),gl.prototype.__init6.call(this),this.eventBuffer=null,this.performanceEntries=[],this.replayPerformanceEntries=[],this.recordingMode="session",this.timeouts={sessionIdlePause:rU,sessionIdleExpire:iU},this._lastActivity=Date.now(),this._isEnabled=!1,this._isPaused=!1,this._requiresManualStart=!1,this._hasInitializedCoreListeners=!1,this._context={errorIds:new Set,traceIds:new Set,urls:[],initialTimestamp:Date.now(),initialUrl:""},this._recordingOptions=n,this._options=t,this._debouncedFlush=gV(()=>this._flush(),this._options.flushMinDelay,{maxWait:this._options.flushMaxDelay}),this._throttledAddEvent=kV((o,a)=>wW(this,o,a),300,5);const{slowClickTimeout:r,slowClickIgnoreSelectors:i}=this.getOptions(),s=r?{threshold:Math.min(uU,r),timeout:r,scrollTimeout:dU,ignoreSelector:i?i.join(","):""}:void 0;if(s&&(this.clickDetector=new PH(this,s)),_t){const o=t._experiments;kt.setConfig({captureExceptions:!!o.captureExceptions,traceInternals:!!o.traceInternals})}}getContext(){return this._context}isEnabled(){return this._isEnabled}isPaused(){return this._isPaused}isRecordingCanvas(){return!!this._canvas}getOptions(){return this._options}handleException(t){_t&&kt.exception(t),this._options.onError&&this._options.onError(t)}initializeSampling(t){const{errorSampleRate:n,sessionSampleRate:r}=this._options,i=n<=0&&r<=0;if(this._requiresManualStart=i,!i){if(this._initializeSessionForSampling(t),!this.session){_t&&kt.exception(new Error("Unable to initialize and create session"));return}this.session.sampled!==!1&&(this.recordingMode=this.session.sampled==="buffer"&&this.session.segmentId===0?"buffer":"session",_t&&kt.infoTick(`Starting replay in ${this.recordingMode} mode`),this._initializeRecording())}}start(){if(this._isEnabled&&this.recordingMode==="session"){_t&&kt.info("Recording is already in progress");return}if(this._isEnabled&&this.recordingMode==="buffer"){_t&&kt.info("Buffering is in progress, call `flush()` to save the replay");return}_t&&kt.infoTick("Starting replay in session mode"),this._updateUserActivity();const t=Pb({maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire},{stickySession:this._options.stickySession,sessionSampleRate:1,allowBuffering:!1});this.session=t,this._initializeRecording()}startBuffering(){if(this._isEnabled){_t&&kt.info("Buffering is in progress, call `flush()` to save the replay");return}_t&&kt.infoTick("Starting replay in buffer mode");const t=Pb({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration},{stickySession:this._options.stickySession,sessionSampleRate:0,allowBuffering:!0});this.session=t,this.recordingMode="buffer",this._initializeRecording()}startRecording(){try{const t=this._canvas;this._stopRecording=_a({...this._recordingOptions,...this.recordingMode==="buffer"?{checkoutEveryNms:aU}:this._options._experiments.continuousCheckout&&{checkoutEveryNms:Math.max(36e4,this._options._experiments.continuousCheckout)},emit:vV(this),...yV(),onMutation:this._onMutationHandler,...t?{recordCanvas:t.recordCanvas,getCanvasManager:t.getCanvasManager,sampling:t.sampling,dataURLOptions:t.dataURLOptions}:{}})}catch(t){this.handleException(t)}}stopRecording(){try{return this._stopRecording&&(this._stopRecording(),this._stopRecording=void 0),!0}catch(t){return this.handleException(t),!1}}async stop({forceFlush:t=!1,reason:n}={}){if(this._isEnabled){this._isEnabled=!1;try{_t&&kt.info(`Stopping Replay${n?` triggered by ${n}`:""}`),Gj(),this._removeListeners(),this.stopRecording(),this._debouncedFlush.cancel(),t&&await this._flush({force:!0}),this.eventBuffer&&this.eventBuffer.destroy(),this.eventBuffer=null,gW(this)}catch(r){this.handleException(r)}}}pause(){this._isPaused||(this._isPaused=!0,this.stopRecording(),_t&&kt.info("Pausing replay"))}resume(){!this._isPaused||!this._checkSession()||(this._isPaused=!1,this.startRecording(),_t&&kt.info("Resuming replay"))}async sendBufferedReplayOrFlush({continueRecording:t=!0}={}){if(this.recordingMode==="session")return this.flushImmediate();const n=Date.now();_t&&kt.info("Converting buffer to session"),await this.flushImmediate();const r=this.stopRecording();!t||!r||this.recordingMode!=="session"&&(this.recordingMode="session",this.session&&(this._updateUserActivity(n),this._updateSessionActivity(n),this._maybeSaveSession()),this.startRecording())}addUpdate(t){const n=t();this.recordingMode!=="buffer"&&n!==!0&&this._debouncedFlush()}triggerUserActivity(){if(this._updateUserActivity(),!this._stopRecording){if(!this._checkSession())return;this.resume();return}this.checkAndHandleExpiredSession(),this._updateSessionActivity()}updateUserActivity(){this._updateUserActivity(),this._updateSessionActivity()}conditionalFlush(){return this.recordingMode==="buffer"?Promise.resolve():this.flushImmediate()}flush(){return this._debouncedFlush()}flushImmediate(){return this._debouncedFlush(),this._debouncedFlush.flush()}cancelFlush(){this._debouncedFlush.cancel()}getSessionId(){return this.session&&this.session.id}checkAndHandleExpiredSession(){if(this._lastActivity&&Iw(this._lastActivity,this.timeouts.sessionIdlePause)&&this.session&&this.session.sampled==="session"){this.pause();return}return!!this._checkSession()}setInitialState(){const t=`${Nn.location.pathname}${Nn.location.hash}${Nn.location.search}`,n=`${Nn.location.origin}${t}`;this.performanceEntries=[],this.replayPerformanceEntries=[],this._clearContext(),this._context.initialUrl=n,this._context.initialTimestamp=Date.now(),this._context.urls.push(n)}throttledAddEvent(t,n){const r=this._throttledAddEvent(t,n);if(r===s9){const i=Ao({category:"replay.throttled"});this.addUpdate(()=>!R2(this,{type:kH,timestamp:i.timestamp||0,data:{tag:"breadcrumb",payload:i,metric:!0}}))}return r}getCurrentRoute(){const t=this.lastActiveSpan||qr(),n=t&&ei(t),i=(n&&mn(n).data||{})[Po];if(!(!n||!i||!["route","custom"].includes(i)))return mn(n).description}_initializeRecording(){this.setInitialState(),this._updateSessionActivity(),this.eventBuffer=hW({useCompression:this._options.useCompression,workerUrl:this._options.workerUrl}),this._removeListeners(),this._addListeners(),this._isEnabled=!0,this._isPaused=!1,this.startRecording()}_initializeSessionForSampling(t){const n=this._options.errorSampleRate>0,r=Pb({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,previousSessionId:t},{stickySession:this._options.stickySession,sessionSampleRate:this._options.sessionSampleRate,allowBuffering:n});this.session=r}_checkSession(){if(!this.session)return!1;const t=this.session;return Vj(t,{sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration})?(this._refreshSession(t),!1):!0}async _refreshSession(t){this._isEnabled&&(await this.stop({reason:"refresh session"}),this.initializeSampling(t.id))}_addListeners(){try{Nn.document.addEventListener("visibilitychange",this._handleVisibilityChange),Nn.addEventListener("blur",this._handleWindowBlur),Nn.addEventListener("focus",this._handleWindowFocus),Nn.addEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.addListeners(),this._hasInitializedCoreListeners||(hV(this),this._hasInitializedCoreListeners=!0)}catch(t){this.handleException(t)}this._performanceCleanupCallback=oW(this)}_removeListeners(){try{Nn.document.removeEventListener("visibilitychange",this._handleVisibilityChange),Nn.removeEventListener("blur",this._handleWindowBlur),Nn.removeEventListener("focus",this._handleWindowFocus),Nn.removeEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.removeListeners(),this._performanceCleanupCallback&&this._performanceCleanupCallback()}catch(t){this.handleException(t)}}__init(){this._handleVisibilityChange=()=>{Nn.document.visibilityState==="visible"?this._doChangeToForegroundTasks():this._doChangeToBackgroundTasks()}}__init2(){this._handleWindowBlur=()=>{const t=Ao({category:"ui.blur"});this._doChangeToBackgroundTasks(t)}}__init3(){this._handleWindowFocus=()=>{const t=Ao({category:"ui.focus"});this._doChangeToForegroundTasks(t)}}__init4(){this._handleKeyboardEvent=t=>{qH(this,t)}}_doChangeToBackgroundTasks(t){!this.session||Wj(this.session,{maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire})||(t&&this._createCustomBreadcrumb(t),this.conditionalFlush())}_doChangeToForegroundTasks(t){if(!this.session)return;if(!this.checkAndHandleExpiredSession()){_t&&kt.info("Document has become active, but session has expired");return}t&&this._createCustomBreadcrumb(t)}_updateUserActivity(t=Date.now()){this._lastActivity=t}_updateSessionActivity(t=Date.now()){this.session&&(this.session.lastActivity=t,this._maybeSaveSession())}_createCustomBreadcrumb(t){this.addUpdate(()=>{this.throttledAddEvent({type:Wt.Custom,timestamp:t.timestamp||0,data:{tag:"breadcrumb",payload:t}})})}_addPerformanceEntries(){let t=YH(this.performanceEntries).concat(this.replayPerformanceEntries);if(this.performanceEntries=[],this.replayPerformanceEntries=[],this._requiresManualStart){const n=this._context.initialTimestamp/1e3;t=t.filter(r=>r.start>=n)}return Promise.all(Gy(this,t))}_clearContext(){this._context.errorIds.clear(),this._context.traceIds.clear(),this._context.urls=[]}_updateInitialTimestampFromEventBuffer(){const{session:t,eventBuffer:n}=this;if(!t||!n||this._requiresManualStart||t.segmentId)return;const r=n.getEarliestTimestamp();r&&r<this._context.initialTimestamp&&(this._context.initialTimestamp=r)}_popEventContext(){const t={initialTimestamp:this._context.initialTimestamp,initialUrl:this._context.initialUrl,errorIds:Array.from(this._context.errorIds),traceIds:Array.from(this._context.traceIds),urls:this._context.urls};return this._clearContext(),t}async _runFlush(){const t=this.getSessionId();if(!this.session||!this.eventBuffer||!t){_t&&kt.error("No session or eventBuffer found to flush.");return}if(await this._addPerformanceEntries(),!(!this.eventBuffer||!this.eventBuffer.hasEvents)&&(await pV(this),!!this.eventBuffer&&t===this.getSessionId()))try{this._updateInitialTimestampFromEventBuffer();const n=Date.now();if(n-this._context.initialTimestamp>this._options.maxReplayDuration+3e4)throw new Error("Session is too long, not sending replay");const r=this._popEventContext(),i=this.session.segmentId++;this._maybeSaveSession();const s=await this.eventBuffer.finish();await i9({replayId:t,recordingData:s,segmentId:i,eventContext:r,session:this.session,timestamp:n,onError:o=>this.handleException(o)})}catch(n){this.handleException(n),this.stop({reason:"sendReplay"});const r=rn();if(r){const i=n instanceof O2?"ratelimit_backoff":"send_error";r.recordDroppedEvent(i,"replay")}}}__init5(){this._flush=async({force:t=!1}={})=>{if(!this._isEnabled&&!t)return;if(!this.checkAndHandleExpiredSession()){_t&&kt.error("Attempting to finish replay event after session expired.");return}if(!this.session)return;const n=this.session.started,i=Date.now()-n;this._debouncedFlush.cancel();const s=i<this._options.minReplayDuration,o=i>this._options.maxReplayDuration+5e3;if(s||o){_t&&kt.info(`Session duration (${Math.floor(i/1e3)}s) is too ${s?"short":"long"}, not sending replay.`),s&&this._debouncedFlush();return}const a=this.eventBuffer;a&&this.session.segmentId===0&&!a.hasCheckout&&_t&&kt.info("Flushing initial segment without checkout.");const l=!!this._flushLock;this._flushLock||(this._flushLock=this._runFlush());try{await this._flushLock}catch(c){this.handleException(c)}finally{this._flushLock=void 0,l&&this._debouncedFlush()}}}_maybeSaveSession(){this.session&&this._options.stickySession&&I2(this.session)}__init6(){this._onMutationHandler=t=>{const n=t.length,r=this._options.mutationLimit,i=this._options.mutationBreadcrumbLimit,s=r&&n>r;if(n>i||s){const o=Ao({category:"replay.mutations",data:{count:n,limit:s}});this._createCustomBreadcrumb(o)}return s?(this.stop({reason:"mutationLimit",forceFlush:this.recordingMode==="session"}),!1):!0}}}function ch(e,t){return[...e,...t].join(",")}function TV({mask:e,unmask:t,block:n,unblock:r,ignore:i}){const s=["base","iframe[srcdoc]:not([src])"],o=ch(e,[".sentry-mask","[data-sentry-mask]"]),a=ch(t,[]);return{maskTextSelector:o,unmaskTextSelector:a,blockSelector:ch(n,[".sentry-block","[data-sentry-block]",...s]),unblockSelector:ch(r,[]),ignoreSelector:ch(i,[".sentry-ignore","[data-sentry-ignore]",'input[type="file"]'])}}function jV({el:e,key:t,maskAttributes:n,maskAllText:r,privacyOptions:i,value:s}){return!r||i.unmaskTextSelector&&e.matches(i.unmaskTextSelector)?s:n.includes(t)||t==="value"&&e.tagName==="INPUT"&&["submit","button"].includes(e.getAttribute("type")||"")?s.replace(/[\S]/g,"*"):s}const GC='img,image,svg,video,object,picture,embed,map,audio,link[rel="icon"],link[rel="apple-touch-icon"]',IV=["content-length","content-type","accept"];let YC=!1;const RV=(e=>new Jy(e));class Jy{static __initStatic(){this.id="Replay"}constructor({flushMinDelay:t=sU,flushMaxDelay:n=oU,minReplayDuration:r=fU,maxReplayDuration:i=jC,stickySession:s=!0,useCompression:o=!0,workerUrl:a,_experiments:l={},maskAllText:c=!0,maskAllInputs:f=!0,blockAllMedia:p=!0,mutationBreadcrumbLimit:g=750,mutationLimit:y=1e4,slowClickTimeout:x=7e3,slowClickIgnoreSelectors:_=[],networkDetailAllowUrls:S=[],networkDetailDenyUrls:C=[],networkCaptureBodies:I=!0,networkRequestHeaders:A=[],networkResponseHeaders:z=[],mask:U=[],maskAttributes:O=["title","placeholder"],unmask:N=[],block:F=[],unblock:$=[],ignore:L=[],maskFn:Z,beforeAddRecordingEvent:Y,beforeErrorSampling:he,onError:G}={}){this.name=Jy.id;const W=TV({mask:U,unmask:N,block:F,unblock:$,ignore:L});if(this._recordingOptions={maskAllInputs:f,maskAllText:c,maskInputOptions:{password:!0},maskTextFn:Z,maskInputFn:Z,maskAttributeFn:(Q,te,X)=>jV({maskAttributes:O,maskAllText:c,privacyOptions:W,key:Q,value:te,el:X}),...W,slimDOMOptions:"all",inlineStylesheet:!0,inlineImages:!1,collectFonts:!0,errorHandler:Q=>{try{Q.__rrweb__=!0}catch{}}},this._initialOptions={flushMinDelay:t,flushMaxDelay:n,minReplayDuration:Math.min(r,hU),maxReplayDuration:Math.min(i,jC),stickySession:s,useCompression:o,workerUrl:a,blockAllMedia:p,maskAllInputs:f,maskAllText:c,mutationBreadcrumbLimit:g,mutationLimit:y,slowClickTimeout:x,slowClickIgnoreSelectors:_,networkDetailAllowUrls:S,networkDetailDenyUrls:C,networkCaptureBodies:I,networkRequestHeaders:JC(A),networkResponseHeaders:JC(z),beforeAddRecordingEvent:Y,beforeErrorSampling:he,onError:G,_experiments:l},this._initialOptions.blockAllMedia&&(this._recordingOptions.blockSelector=this._recordingOptions.blockSelector?`${this._recordingOptions.blockSelector},${GC}`:GC),this._isInitialized&&vC())throw new Error("Multiple Sentry Session Replay instances are not supported");this._isInitialized=!0}get _isInitialized(){return YC}set _isInitialized(t){YC=t}afterAllSetup(t){!vC()||this._replay||(this._setup(t),this._initialize(t))}start(){this._replay&&this._replay.start()}startBuffering(){this._replay&&this._replay.startBuffering()}stop(){return this._replay?this._replay.stop({forceFlush:this._replay.recordingMode==="session"}):Promise.resolve()}flush(t){return this._replay?this._replay.isEnabled()?this._replay.sendBufferedReplayOrFlush(t):(this._replay.start(),Promise.resolve()):Promise.resolve()}getReplayId(){if(!(!this._replay||!this._replay.isEnabled()))return this._replay.getSessionId()}getRecordingMode(){if(!(!this._replay||!this._replay.isEnabled()))return this._replay.recordingMode}_initialize(t){this._replay&&(this._maybeLoadFromReplayCanvasIntegration(t),this._replay.initializeSampling())}_setup(t){const n=NV(this._initialOptions,t);this._replay=new gl({options:n,recordingOptions:this._recordingOptions})}_maybeLoadFromReplayCanvasIntegration(t){try{const n=t.getIntegrationByName("ReplayCanvas");if(!n)return;this._replay._canvas=n.getOptions()}catch{}}}Jy.__initStatic();function NV(e,t){const n=t.getOptions(),r={sessionSampleRate:0,errorSampleRate:0,...Or(e)},i=W0(n.replaysSessionSampleRate),s=W0(n.replaysOnErrorSampleRate);return i==null&&s==null&&ql(()=>{console.warn("Replay is disabled because neither `replaysSessionSampleRate` nor `replaysOnErrorSampleRate` are set.")}),i!=null&&(r.sessionSampleRate=i),s!=null&&(r.errorSampleRate=s),r}function JC(e){return[...IV,...e.map(t=>t.toLowerCase())]}const XC=new WeakMap,Ab=new Map,R0={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0,trackFetchStreamPerformance:!1};function OV(e,t){const{traceFetch:n,traceXHR:r,trackFetchStreamPerformance:i,shouldCreateSpanForRequest:s,enableHTTPTimings:o,tracePropagationTargets:a}={traceFetch:R0.traceFetch,traceXHR:R0.traceXHR,trackFetchStreamPerformance:R0.trackFetchStreamPerformance,...t},l=typeof s=="function"?s:p=>!0,c=p=>MV(p,a),f={};n&&(e.addEventProcessor(p=>(p.type==="transaction"&&p.spans&&p.spans.forEach(g=>{if(g.op==="http.client"){const y=Ab.get(g.span_id);y&&(g.timestamp=y/1e3,Ab.delete(g.span_id))}}),p)),i&&_B(p=>{if(p.response){const g=XC.get(p.response);g&&p.endTimestamp&&Ab.set(g,p.endTimestamp)}}),q7(p=>{const g=mB(p,l,c,f);if(p.response&&p.fetchData.__span&&XC.set(p.response,p.fetchData.__span),g){const y=o9(p.fetchData.url),x=y?Jc(y).host:void 0;g.setAttributes({"http.url":y,"server.address":x})}o&&g&&ZC(g)})),r&&fj(p=>{const g=DV(p,l,c,f);o&&g&&ZC(g)})}function PV(e){return e.entryType==="resource"&&"initiatorType"in e&&typeof e.nextHopProtocol=="string"&&(e.initiatorType==="fetch"||e.initiatorType==="xmlhttprequest")}function ZC(e){const{url:t}=mn(e).data||{};if(!t||typeof t!="string")return;const n=Yd("resource",({entries:r})=>{r.forEach(i=>{PV(i)&&i.name.endsWith(t)&&(AV(i).forEach(o=>e.setAttribute(...o)),setTimeout(n))})})}function Io(e=0){return((Ii||performance.timeOrigin)+e)/1e3}function AV(e){const{name:t,version:n}=cj(e.nextHopProtocol),r=[];return r.push(["network.protocol.version",n],["network.protocol.name",t]),Ii?[...r,["http.request.redirect_start",Io(e.redirectStart)],["http.request.fetch_start",Io(e.fetchStart)],["http.request.domain_lookup_start",Io(e.domainLookupStart)],["http.request.domain_lookup_end",Io(e.domainLookupEnd)],["http.request.connect_start",Io(e.connectStart)],["http.request.secure_connection_start",Io(e.secureConnectionStart)],["http.request.connection_end",Io(e.connectEnd)],["http.request.request_start",Io(e.requestStart)],["http.request.response_start",Io(e.responseStart)],["http.request.response_end",Io(e.responseEnd)]]:r}function MV(e,t){const n=At.location&&At.location.href;if(n){let r,i;try{r=new URL(e,n),i=new URL(n).origin}catch{return!1}const s=r.origin===i;return t?jl(r.toString(),t)||s&&jl(r.pathname,t):s}else{const r=!!e.match(/^\/(?!\/)/);return t?jl(e,t):r}}function DV(e,t,n,r){const i=e.xhr,s=i&&i[Hc];if(!i||i.__sentry_own_request__||!s)return;const o=Ml()&&t(s.url);if(e.endTimestamp&&o){const p=i.__sentry_xhr_span_id__;if(!p)return;const g=r[p];g&&s.status_code!==void 0&&(l7(g,s.status_code),g.end(),delete r[p]);return}const a=o9(s.url),l=a?Jc(a).host:void 0,c=!!qr(),f=o&&c?Dp({name:`${s.method} ${s.url}`,attributes:{type:"xhr","http.method":s.method,"http.url":a,url:s.url,"server.address":l,[Vr]:"auto.http.browser",[iu]:"http.client"}}):new df;return i.__sentry_xhr_span_id__=f.spanContext().spanId,r[i.__sentry_xhr_span_id__]=f,n(s.url)&&LV(i,Ml()&&c?f:void 0),f}function LV(e,t){const{"sentry-trace":n,baggage:r}=$7({span:t});n&&FV(e,n,r)}function FV(e,t,n){try{e.setRequestHeader("sentry-trace",t),n&&e.setRequestHeader("baggage",n)}catch{}}function o9(e){try{return new URL(e,At.location.origin).href}catch{return}}function BV(){At&&At.document?At.document.addEventListener("visibilitychange",()=>{const e=qr();if(!e)return;const t=ei(e);if(At.document.hidden&&t){const n="cancelled",{op:r,status:i}=mn(t);Bo&&Ge.log(`[Tracing] Transaction: ${n} -> since tab moved to the background, op: ${r}`),i||t.setStatus({code:Hr,message:n}),t.setAttribute("sentry.cancellation_reason","document.hidden"),t.end()}}):Bo&&Ge.warn("[Tracing] Could not set up background tab detection due to lack of global document")}const $V="BrowserTracing",zV={...C0,instrumentNavigation:!0,instrumentPageLoad:!0,markBackgroundSpan:!0,enableLongTask:!0,enableLongAnimationFrame:!0,enableInp:!0,_experiments:{},...R0},UV=((e={})=>{mL();const{enableInp:t,enableLongTask:n,enableLongAnimationFrame:r,_experiments:{enableInteractions:i,enableStandaloneClsSpans:s},beforeStartSpan:o,idleTimeout:a,finalTimeout:l,childSpanTimeout:c,markBackgroundSpan:f,traceFetch:p,traceXHR:g,trackFetchStreamPerformance:y,shouldCreateSpanForRequest:x,enableHTTPTimings:_,instrumentPageLoad:S,instrumentNavigation:C}={...zV,...e},I=N$({recordClsStandaloneSpans:s||!1});t&&nz(),r&&on.PerformanceObserver&&PerformanceObserver.supportedEntryTypes&&PerformanceObserver.supportedEntryTypes.includes("long-animation-frame")?P$():n&&O$(),i&&A$();const A={name:void 0,source:void 0};function z(U,O){const N=O.op==="pageload",F=o?o(O):O,$=F.attributes||{};O.name!==F.name&&($[Po]="custom",F.attributes=$),A.name=F.name,A.source=$[Po];const L=j7(F,{idleTimeout:a,finalTimeout:l,childSpanTimeout:c,disableAutoFinish:N,beforeSpanEnd:Y=>{I(),B$(Y,{recordClsOnPageloadSpan:!s})}});function Z(){["interactive","complete"].includes(At.document.readyState)&&U.emit("idleSpanEnableAutoFinish",L)}return N&&At.document&&(At.document.addEventListener("readystatechange",()=>{Z()}),Z()),L}return{name:$V,afterAllSetup(U){let O,N=At.location&&At.location.href;function F(){O&&!mn(O).timestamp&&(Bo&&Ge.log(`[Tracing] Finishing current active span with op: ${mn(O).op}`),O.end())}U.on("startNavigationSpan",$=>{rn()===U&&(F(),O=z(U,{op:"navigation",...$}))}),U.on("startPageLoadSpan",($,L={})=>{if(rn()!==U)return;F();const Z=L.sentryTrace||ek("sentry-trace"),Y=L.baggage||ek("baggage"),he=lL(Z,Y);An().setPropagationContext(he),O=z(U,{op:"pageload",...$})}),U.on("spanEnd",$=>{const L=mn($).op;if($!==ei($)||L!=="navigation"&&L!=="pageload")return;const Z=An(),Y=Z.getPropagationContext();Z.setPropagationContext({...Y,sampled:Y.sampled!==void 0?Y.sampled:hu($),dsc:Y.dsc||pu($)})}),At.location&&(S&&HV(U,{name:At.location.pathname,startTime:Ii?Ii/1e3:void 0,attributes:{[Po]:"url",[Vr]:"auto.pageload.browser"}}),C&&Wy(({to:$,from:L})=>{if(L===void 0&&N&&N.indexOf($)!==-1){N=void 0;return}L!==$&&(N=void 0,WV(U,{name:At.location.pathname,attributes:{[Po]:"url",[Vr]:"auto.navigation.browser"}}))})),f&&BV(),i&&VV(a,l,c,A),t&&iz(),OV(U,{traceFetch:p,traceXHR:g,trackFetchStreamPerformance:y,tracePropagationTargets:U.getOptions().tracePropagationTargets,shouldCreateSpanForRequest:x,enableHTTPTimings:_})}}});function HV(e,t,n){e.emit("startPageLoadSpan",t,n),An().setTransactionName(t.name);const r=qr();return(r&&mn(r).op)==="pageload"?r:void 0}function WV(e,t){mo().setPropagationContext({traceId:Ol()}),An().setPropagationContext({traceId:Ol()}),e.emit("startNavigationSpan",t),An().setTransactionName(t.name);const n=qr();return(n&&mn(n).op)==="navigation"?n:void 0}function ek(e){const t=AD(`meta[name=${e}]`);return t?t.getAttribute("content"):void 0}function VV(e,t,n,r){let i;const s=()=>{const o="ui.action.click",a=qr(),l=a&&ei(a);if(l){const c=mn(l).op;if(["navigation","pageload"].includes(c)){Bo&&Ge.warn(`[Tracing] Did not create ${o} span because a pageload or navigation span is in progress.`);return}}if(i&&(i.setAttribute(sw,"interactionInterrupted"),i.end(),i=void 0),!r.name){Bo&&Ge.warn(`[Tracing] Did not create ${o} transaction because _latestRouteName is missing.`);return}i=j7({name:r.name,op:o,attributes:{[Po]:r.source||"url"}},{idleTimeout:e,finalTimeout:t,childSpanTimeout:n})};At.document&&addEventListener("click",s,{once:!1,capture:!0})}function qV(e){const t={...e};return B7(t,"react"),N7("react",{version:R.version}),tU(t)}const QV={initialize(){qV({dsn:"https://e9f254e66aacba9bfb5a6901063e0009@o4508692782907392.ingest.us.sentry.io/4508782708326400",integrations:[UV(),RV()],tracesSampleRate:1,tracePropagationTargets:[/^https:\/\/www.allcll\.kr/,/^https:\/\/allcll\.kr/],replaysSessionSampleRate:.01,replaysOnErrorSampleRate:1})}};var Mb={exports:{}},Db,tk;function KV(){if(tk)return Db;tk=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Db=e,Db}var Lb,nk;function GV(){if(nk)return Lb;nk=1;var e=KV();function t(){}function n(){}return n.resetWarningCache=t,Lb=function(){function r(o,a,l,c,f,p){if(p!==e){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}r.isRequired=r;function i(){return r}var s={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:t};return s.PropTypes=s,s},Lb}var rk;function YV(){return rk||(rk=1,Mb.exports=GV()()),Mb.exports}var JV=YV();const $t=ds(JV);var Fb,ik;function XV(){if(ik)return Fb;ik=1;function e(a){return a&&typeof a=="object"&&"default"in a?a.default:a}var t=Ny(),n=e(t);function r(a,l,c){return l in a?Object.defineProperty(a,l,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[l]=c,a}function i(a,l){a.prototype=Object.create(l.prototype),a.prototype.constructor=a,a.__proto__=l}var s=!!(typeof window<"u"&&window.document&&window.document.createElement);function o(a,l,c){if(typeof a!="function")throw new Error("Expected reducePropsToState to be a function.");if(typeof l!="function")throw new Error("Expected handleStateChangeOnClient to be a function.");if(typeof c<"u"&&typeof c!="function")throw new Error("Expected mapStateOnServer to either be undefined or a function.");function f(p){return p.displayName||p.name||"Component"}return function(g){if(typeof g!="function")throw new Error("Expected WrappedComponent to be a React component.");var y=[],x;function _(){x=a(y.map(function(C){return C.props})),S.canUseDOM?l(x):c&&(x=c(x))}var S=(function(C){i(I,C);function I(){return C.apply(this,arguments)||this}I.peek=function(){return x},I.rewind=function(){if(I.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var U=x;return x=void 0,y=[],U};var A=I.prototype;return A.UNSAFE_componentWillMount=function(){y.push(this),_()},A.componentDidUpdate=function(){_()},A.componentWillUnmount=function(){var U=y.indexOf(this);y.splice(U,1),_()},A.render=function(){return n.createElement(g,this.props)},I})(t.PureComponent);return r(S,"displayName","SideEffect("+f(g)+")"),r(S,"canUseDOM",s),S}}return Fb=o,Fb}var ZV=XV();const eq=ds(ZV);var Bb,sk;function tq(){if(sk)return Bb;sk=1;var e=typeof Element<"u",t=typeof Map=="function",n=typeof Set=="function",r=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function i(s,o){if(s===o)return!0;if(s&&o&&typeof s=="object"&&typeof o=="object"){if(s.constructor!==o.constructor)return!1;var a,l,c;if(Array.isArray(s)){if(a=s.length,a!=o.length)return!1;for(l=a;l--!==0;)if(!i(s[l],o[l]))return!1;return!0}var f;if(t&&s instanceof Map&&o instanceof Map){if(s.size!==o.size)return!1;for(f=s.entries();!(l=f.next()).done;)if(!o.has(l.value[0]))return!1;for(f=s.entries();!(l=f.next()).done;)if(!i(l.value[1],o.get(l.value[0])))return!1;return!0}if(n&&s instanceof Set&&o instanceof Set){if(s.size!==o.size)return!1;for(f=s.entries();!(l=f.next()).done;)if(!o.has(l.value[0]))return!1;return!0}if(r&&ArrayBuffer.isView(s)&&ArrayBuffer.isView(o)){if(a=s.length,a!=o.length)return!1;for(l=a;l--!==0;)if(s[l]!==o[l])return!1;return!0}if(s.constructor===RegExp)return s.source===o.source&&s.flags===o.flags;if(s.valueOf!==Object.prototype.valueOf&&typeof s.valueOf=="function"&&typeof o.valueOf=="function")return s.valueOf()===o.valueOf();if(s.toString!==Object.prototype.toString&&typeof s.toString=="function"&&typeof o.toString=="function")return s.toString()===o.toString();if(c=Object.keys(s),a=c.length,a!==Object.keys(o).length)return!1;for(l=a;l--!==0;)if(!Object.prototype.hasOwnProperty.call(o,c[l]))return!1;if(e&&s instanceof Element)return!1;for(l=a;l--!==0;)if(!((c[l]==="_owner"||c[l]==="__v"||c[l]==="__o")&&s.$$typeof)&&!i(s[c[l]],o[c[l]]))return!1;return!0}return s!==s&&o!==o}return Bb=function(o,a){try{return i(o,a)}catch(l){if((l.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw l}},Bb}var nq=tq();const rq=ds(nq);/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var $b,ok;function iq(){if(ok)return $b;ok=1;var e=Object.getOwnPropertySymbols,t=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable;function r(s){if(s==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(s)}function i(){try{if(!Object.assign)return!1;var s=new String("abc");if(s[5]="de",Object.getOwnPropertyNames(s)[0]==="5")return!1;for(var o={},a=0;a<10;a++)o["_"+String.fromCharCode(a)]=a;var l=Object.getOwnPropertyNames(o).map(function(f){return o[f]});if(l.join("")!=="0123456789")return!1;var c={};return"abcdefghijklmnopqrst".split("").forEach(function(f){c[f]=f}),Object.keys(Object.assign({},c)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}return $b=i()?Object.assign:function(s,o){for(var a,l=r(s),c,f=1;f<arguments.length;f++){a=Object(arguments[f]);for(var p in a)t.call(a,p)&&(l[p]=a[p]);if(e){c=e(a);for(var g=0;g<c.length;g++)n.call(a,c[g])&&(l[c[g]]=a[c[g]])}}return l},$b}var sq=iq();const oq=ds(sq);var Xc={BODY:"bodyAttributes",HTML:"htmlAttributes",TITLE:"titleAttributes"},Pt={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"};Object.keys(Pt).map(function(e){return Pt[e]});var Hn={CHARSET:"charset",CSS_TEXT:"cssText",HREF:"href",HTTPEQUIV:"http-equiv",INNER_HTML:"innerHTML",ITEM_PROP:"itemprop",NAME:"name",PROPERTY:"property",REL:"rel",SRC:"src",TARGET:"target"},ry={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},lp={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate"},aq=Object.keys(ry).reduce(function(e,t){return e[ry[t]]=t,e},{}),lq=[Pt.NOSCRIPT,Pt.SCRIPT,Pt.STYLE],ao="data-react-helmet",cq=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uq=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},dq=(function(){function e(t,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),Fi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fq=function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},ak=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n},hq=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e},Ow=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return n===!1?String(t):String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},pq=function(t){var n=Bd(t,Pt.TITLE),r=Bd(t,lp.TITLE_TEMPLATE);if(r&&n)return r.replace(/%s/g,function(){return Array.isArray(n)?n.join(""):n});var i=Bd(t,lp.DEFAULT_TITLE);return n||i||void 0},mq=function(t){return Bd(t,lp.ON_CHANGE_CLIENT_STATE)||function(){}},zb=function(t,n){return n.filter(function(r){return typeof r[t]<"u"}).map(function(r){return r[t]}).reduce(function(r,i){return Fi({},r,i)},{})},gq=function(t,n){return n.filter(function(r){return typeof r[Pt.BASE]<"u"}).map(function(r){return r[Pt.BASE]}).reverse().reduce(function(r,i){if(!r.length)for(var s=Object.keys(i),o=0;o<s.length;o++){var a=s[o],l=a.toLowerCase();if(t.indexOf(l)!==-1&&i[l])return r.concat(i)}return r},[])},uh=function(t,n,r){var i={};return r.filter(function(s){return Array.isArray(s[t])?!0:(typeof s[t]<"u"&&xq("Helmet: "+t+' should be of type "Array". Instead found type "'+cq(s[t])+'"'),!1)}).map(function(s){return s[t]}).reverse().reduce(function(s,o){var a={};o.filter(function(g){for(var y=void 0,x=Object.keys(g),_=0;_<x.length;_++){var S=x[_],C=S.toLowerCase();n.indexOf(C)!==-1&&!(y===Hn.REL&&g[y].toLowerCase()==="canonical")&&!(C===Hn.REL&&g[C].toLowerCase()==="stylesheet")&&(y=C),n.indexOf(S)!==-1&&(S===Hn.INNER_HTML||S===Hn.CSS_TEXT||S===Hn.ITEM_PROP)&&(y=S)}if(!y||!g[y])return!1;var I=g[y].toLowerCase();return i[y]||(i[y]={}),a[y]||(a[y]={}),i[y][I]?!1:(a[y][I]=!0,!0)}).reverse().forEach(function(g){return s.push(g)});for(var l=Object.keys(a),c=0;c<l.length;c++){var f=l[c],p=oq({},i[f],a[f]);i[f]=p}return s},[]).reverse()},Bd=function(t,n){for(var r=t.length-1;r>=0;r--){var i=t[r];if(i.hasOwnProperty(n))return i[n]}return null},yq=function(t){return{baseTag:gq([Hn.HREF,Hn.TARGET],t),bodyAttributes:zb(Xc.BODY,t),defer:Bd(t,lp.DEFER),encode:Bd(t,lp.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:zb(Xc.HTML,t),linkTags:uh(Pt.LINK,[Hn.REL,Hn.HREF],t),metaTags:uh(Pt.META,[Hn.NAME,Hn.CHARSET,Hn.HTTPEQUIV,Hn.PROPERTY,Hn.ITEM_PROP],t),noscriptTags:uh(Pt.NOSCRIPT,[Hn.INNER_HTML],t),onChangeClientState:mq(t),scriptTags:uh(Pt.SCRIPT,[Hn.SRC,Hn.INNER_HTML],t),styleTags:uh(Pt.STYLE,[Hn.CSS_TEXT],t),title:pq(t),titleAttributes:zb(Xc.TITLE,t)}},Pw=(function(){var e=Date.now();return function(t){var n=Date.now();n-e>16?(e=n,t(n)):setTimeout(function(){Pw(t)},0)}})(),lk=function(t){return clearTimeout(t)},vq=typeof window<"u"?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||Pw:global.requestAnimationFrame||Pw,bq=typeof window<"u"?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||lk:global.cancelAnimationFrame||lk,xq=function(t){return console&&typeof console.warn=="function"&&console.warn(t)},dh=null,wq=function(t){dh&&bq(dh),t.defer?dh=vq(function(){ck(t,function(){dh=null})}):(ck(t),dh=null)},ck=function(t,n){var r=t.baseTag,i=t.bodyAttributes,s=t.htmlAttributes,o=t.linkTags,a=t.metaTags,l=t.noscriptTags,c=t.onChangeClientState,f=t.scriptTags,p=t.styleTags,g=t.title,y=t.titleAttributes;Aw(Pt.BODY,i),Aw(Pt.HTML,s),_q(g,y);var x={baseTag:id(Pt.BASE,r),linkTags:id(Pt.LINK,o),metaTags:id(Pt.META,a),noscriptTags:id(Pt.NOSCRIPT,l),scriptTags:id(Pt.SCRIPT,f),styleTags:id(Pt.STYLE,p)},_={},S={};Object.keys(x).forEach(function(C){var I=x[C],A=I.newTags,z=I.oldTags;A.length&&(_[C]=A),z.length&&(S[C]=x[C].oldTags)}),n&&n(),c(t,_,S)},a9=function(t){return Array.isArray(t)?t.join(""):t},_q=function(t,n){typeof t<"u"&&document.title!==t&&(document.title=a9(t)),Aw(Pt.TITLE,n)},Aw=function(t,n){var r=document.getElementsByTagName(t)[0];if(r){for(var i=r.getAttribute(ao),s=i?i.split(","):[],o=[].concat(s),a=Object.keys(n),l=0;l<a.length;l++){var c=a[l],f=n[c]||"";r.getAttribute(c)!==f&&r.setAttribute(c,f),s.indexOf(c)===-1&&s.push(c);var p=o.indexOf(c);p!==-1&&o.splice(p,1)}for(var g=o.length-1;g>=0;g--)r.removeAttribute(o[g]);s.length===o.length?r.removeAttribute(ao):r.getAttribute(ao)!==a.join(",")&&r.setAttribute(ao,a.join(","))}},id=function(t,n){var r=document.head||document.querySelector(Pt.HEAD),i=r.querySelectorAll(t+"["+ao+"]"),s=Array.prototype.slice.call(i),o=[],a=void 0;return n&&n.length&&n.forEach(function(l){var c=document.createElement(t);for(var f in l)if(l.hasOwnProperty(f))if(f===Hn.INNER_HTML)c.innerHTML=l.innerHTML;else if(f===Hn.CSS_TEXT)c.styleSheet?c.styleSheet.cssText=l.cssText:c.appendChild(document.createTextNode(l.cssText));else{var p=typeof l[f]>"u"?"":l[f];c.setAttribute(f,p)}c.setAttribute(ao,"true"),s.some(function(g,y){return a=y,c.isEqualNode(g)})?s.splice(a,1):o.push(c)}),s.forEach(function(l){return l.parentNode.removeChild(l)}),o.forEach(function(l){return r.appendChild(l)}),{oldTags:s,newTags:o}},l9=function(t){return Object.keys(t).reduce(function(n,r){var i=typeof t[r]<"u"?r+'="'+t[r]+'"':""+r;return n?n+" "+i:i},"")},Sq=function(t,n,r,i){var s=l9(r),o=a9(n);return s?"<"+t+" "+ao+'="true" '+s+">"+Ow(o,i)+"</"+t+">":"<"+t+" "+ao+'="true">'+Ow(o,i)+"</"+t+">"},Eq=function(t,n,r){return n.reduce(function(i,s){var o=Object.keys(s).filter(function(c){return!(c===Hn.INNER_HTML||c===Hn.CSS_TEXT)}).reduce(function(c,f){var p=typeof s[f]>"u"?f:f+'="'+Ow(s[f],r)+'"';return c?c+" "+p:p},""),a=s.innerHTML||s.cssText||"",l=lq.indexOf(t)===-1;return i+"<"+t+" "+ao+'="true" '+o+(l?"/>":">"+a+"</"+t+">")},"")},c9=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(t).reduce(function(r,i){return r[ry[i]||i]=t[i],r},n)},Cq=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(t).reduce(function(r,i){return r[aq[i]||i]=t[i],r},n)},kq=function(t,n,r){var i,s=(i={key:n},i[ao]=!0,i),o=c9(r,s);return[wn.createElement(Pt.TITLE,o,n)]},Tq=function(t,n){return n.map(function(r,i){var s,o=(s={key:i},s[ao]=!0,s);return Object.keys(r).forEach(function(a){var l=ry[a]||a;if(l===Hn.INNER_HTML||l===Hn.CSS_TEXT){var c=r.innerHTML||r.cssText;o.dangerouslySetInnerHTML={__html:c}}else o[l]=r[a]}),wn.createElement(t,o)})},aa=function(t,n,r){switch(t){case Pt.TITLE:return{toComponent:function(){return kq(t,n.title,n.titleAttributes)},toString:function(){return Sq(t,n.title,n.titleAttributes,r)}};case Xc.BODY:case Xc.HTML:return{toComponent:function(){return c9(n)},toString:function(){return l9(n)}};default:return{toComponent:function(){return Tq(t,n)},toString:function(){return Eq(t,n,r)}}}},u9=function(t){var n=t.baseTag,r=t.bodyAttributes,i=t.encode,s=t.htmlAttributes,o=t.linkTags,a=t.metaTags,l=t.noscriptTags,c=t.scriptTags,f=t.styleTags,p=t.title,g=p===void 0?"":p,y=t.titleAttributes;return{base:aa(Pt.BASE,n,i),bodyAttributes:aa(Xc.BODY,r,i),htmlAttributes:aa(Xc.HTML,s,i),link:aa(Pt.LINK,o,i),meta:aa(Pt.META,a,i),noscript:aa(Pt.NOSCRIPT,l,i),script:aa(Pt.SCRIPT,c,i),style:aa(Pt.STYLE,f,i),title:aa(Pt.TITLE,{title:g,titleAttributes:y},i)}},jq=function(t){var n,r;return r=n=(function(i){fq(s,i);function s(){return uq(this,s),hq(this,i.apply(this,arguments))}return s.prototype.shouldComponentUpdate=function(a){return!rq(this.props,a)},s.prototype.mapNestedChildrenToProps=function(a,l){if(!l)return null;switch(a.type){case Pt.SCRIPT:case Pt.NOSCRIPT:return{innerHTML:l};case Pt.STYLE:return{cssText:l}}throw new Error("<"+a.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},s.prototype.flattenArrayTypeChildren=function(a){var l,c=a.child,f=a.arrayTypeChildren,p=a.newChildProps,g=a.nestedChildren;return Fi({},f,(l={},l[c.type]=[].concat(f[c.type]||[],[Fi({},p,this.mapNestedChildrenToProps(c,g))]),l))},s.prototype.mapObjectTypeChildren=function(a){var l,c,f=a.child,p=a.newProps,g=a.newChildProps,y=a.nestedChildren;switch(f.type){case Pt.TITLE:return Fi({},p,(l={},l[f.type]=y,l.titleAttributes=Fi({},g),l));case Pt.BODY:return Fi({},p,{bodyAttributes:Fi({},g)});case Pt.HTML:return Fi({},p,{htmlAttributes:Fi({},g)})}return Fi({},p,(c={},c[f.type]=Fi({},g),c))},s.prototype.mapArrayTypeChildrenToProps=function(a,l){var c=Fi({},l);return Object.keys(a).forEach(function(f){var p;c=Fi({},c,(p={},p[f]=a[f],p))}),c},s.prototype.warnOnInvalidChildren=function(a,l){return!0},s.prototype.mapChildrenToProps=function(a,l){var c=this,f={};return wn.Children.forEach(a,function(p){if(!(!p||!p.props)){var g=p.props,y=g.children,x=ak(g,["children"]),_=Cq(x);switch(c.warnOnInvalidChildren(p,y),p.type){case Pt.LINK:case Pt.META:case Pt.NOSCRIPT:case Pt.SCRIPT:case Pt.STYLE:f=c.flattenArrayTypeChildren({child:p,arrayTypeChildren:f,newChildProps:_,nestedChildren:y});break;default:l=c.mapObjectTypeChildren({child:p,newProps:l,newChildProps:_,nestedChildren:y});break}}}),l=this.mapArrayTypeChildrenToProps(f,l),l},s.prototype.render=function(){var a=this.props,l=a.children,c=ak(a,["children"]),f=Fi({},c);return l&&(f=this.mapChildrenToProps(l,f)),wn.createElement(t,f)},dq(s,null,[{key:"canUseDOM",set:function(a){t.canUseDOM=a}}]),s})(wn.Component),n.propTypes={base:$t.object,bodyAttributes:$t.object,children:$t.oneOfType([$t.arrayOf($t.node),$t.node]),defaultTitle:$t.string,defer:$t.bool,encodeSpecialCharacters:$t.bool,htmlAttributes:$t.object,link:$t.arrayOf($t.object),meta:$t.arrayOf($t.object),noscript:$t.arrayOf($t.object),onChangeClientState:$t.func,script:$t.arrayOf($t.object),style:$t.arrayOf($t.object),title:$t.string,titleAttributes:$t.object,titleTemplate:$t.string},n.defaultProps={defer:!0,encodeSpecialCharacters:!0},n.peek=t.peek,n.rewind=function(){var i=t.rewind();return i||(i=u9({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),i},r},Iq=function(){return null},Rq=eq(yq,wq,u9)(Iq),ni=jq(Rq);ni.renderStatic=ni.rewind;const d9=e=>R.createElement("svg",{width:240,height:240,viewBox:"0 0 240 240",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},R.createElement("path",{d:"M35.0767 27.9936C36.2709 9.99373 56.1517 -0.303892 71.5425 9.10587L213.791 96.0756C231.278 106.768 228.18 133.047 208.685 139.378L169.934 151.963L186.77 185.839C193.06 198.497 187.616 213.848 174.755 219.712L148.361 231.747C136.289 237.252 122.02 232.368 115.853 220.621L96.5356 183.827L61.2319 205.402C44.6261 215.55 23.4817 202.753 24.77 183.334L35.0767 27.9936Z",fill:"#047CFE"}),R.createElement("ellipse",{cx:81.7143,cy:99.4285,rx:9.71429,ry:13.7143,fill:"white"}),R.createElement("path",{d:"M144 99.4285C144 107.003 139.651 113.143 134.286 113.143C128.921 113.143 124.571 107.003 124.571 99.4285C124.571 91.8543 128.921 85.7142 134.286 85.7142C139.651 85.7142 144 91.8543 144 99.4285Z",fill:"white"}),R.createElement("path",{d:"M86.7687 125.246C88.6759 123.021 92.0636 122.863 94.1695 124.901L99.9237 130.47C104.528 134.926 111.74 135.226 116.699 131.169L123.261 125.8C125.281 124.147 128.239 124.354 130.009 126.272V126.272C131.991 128.419 131.682 131.81 129.344 133.563L122.999 138.322C122.524 138.678 122.024 138.999 121.502 139.281L118.258 141.039C112.227 144.305 104.944 144.254 98.9601 140.903L95.3516 138.883C94.6427 138.486 93.973 138.022 93.3515 137.499L87.3544 132.449C85.1919 130.628 84.9288 127.393 86.7687 125.246V125.246Z",fill:"white"})),Nq=e=>R.createElement("svg",{id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",width:"100%",viewBox:"740 350 700 190",enableBackground:"new 0 0 1506 862",xmlSpace:"preserve",...e},R.createElement("path",{fill:"#017AFF",opacity:1,stroke:"none",d:" M766.615112,463.466736 C775.870483,435.054810 785.533081,407.176788 793.924072,378.921143 C799.456543,360.291321 821.375366,357.141083 832.881592,364.663513 C838.142395,368.102875 840.908264,372.891174 842.764648,378.570496 C853.528076,411.499817 864.314026,444.421814 875.109436,477.340668 C878.939270,489.019165 882.817444,500.681793 886.885071,512.991760 C873.401611,512.991760 860.604980,513.082825 847.814941,512.834106 C846.683838,512.812195 845.029419,510.751434 844.583618,509.333893 C842.385803,502.345581 840.389465,495.286346 838.588135,488.184601 C837.875916,485.376556 836.496521,484.498810 833.699890,484.534851 C823.536499,484.665802 813.369263,484.669006 803.205994,484.533264 C800.346008,484.495056 799.085388,485.557281 798.384705,488.289246 C796.564392,495.386353 794.554382,502.439484 792.396301,509.441223 C791.983948,510.779236 790.565674,512.800781 789.581299,512.818420 C776.821838,513.046875 764.056885,512.969788 750.549133,512.969788 C756.023682,496.088989 761.252869,479.964600 766.615112,463.466736 M816.931274,421.410614 C814.112549,431.575104 811.293823,441.739594 808.392944,452.200287 C815.599854,452.200287 821.902649,452.200287 828.658752,452.200287 C825.389221,440.483582 822.289490,429.375366 818.869080,417.118134 C817.911804,419.080017 817.519409,419.884216 816.931274,421.410614 z"}),R.createElement("path",{fill:"#017AFF",opacity:1,stroke:"none",d:" M897.499634,440.999878 C897.503479,420.519745 897.488831,400.539612 897.519775,380.559540 C897.531799,372.795044 900.376282,366.496521 907.660461,363.030640 C915.127136,359.477966 922.528442,359.846069 929.464539,364.563080 C935.259399,368.503876 937.055176,374.335907 937.048035,381.039062 C937.015198,411.841675 937.034424,442.644379 937.040466,473.447052 C937.041748,480.073792 937.052368,480.081238 943.492004,480.087067 C954.814026,480.097321 966.136658,480.028900 977.457947,480.122711 C987.208801,480.203491 993.256531,486.339630 993.423340,496.088531 C993.591736,505.931396 987.323730,512.874146 977.673828,512.951233 C959.526672,513.096191 941.377319,512.994263 923.229065,512.925903 C921.079651,512.917786 918.917908,512.564026 916.785522,512.222961 C904.801392,510.306244 898.913025,504.603821 898.202148,492.417206 C897.427734,479.139282 897.678284,465.801117 897.506409,452.488892 C897.459106,448.826477 897.499329,445.162903 897.499634,440.999878 z"}),R.createElement("path",{fill:"#017AFF",opacity:1,stroke:"none",d:" M1040.002319,513.009888 C1032.386597,512.472046 1025.194824,512.401672 1018.174561,511.268555 C1010.726318,510.066406 1006.177002,504.925751 1004.404785,497.720428 C1003.459595,493.877228 1002.968811,489.824890 1002.956421,485.864838 C1002.846130,450.709564 1002.826050,415.553650 1002.916931,380.398285 C1002.954224,365.950378 1016.559753,356.896027 1030.130249,362.060669 C1038.365479,365.194824 1042.187012,370.979767 1042.201660,380.770782 C1042.247070,411.094543 1042.204346,441.418396 1042.235718,471.742188 C1042.245239,480.981537 1041.247803,480.051331 1050.482178,480.082153 C1061.312012,480.118286 1072.142578,480.025299 1082.971680,480.121033 C1092.570557,480.205902 1098.845581,486.620514 1098.907471,496.184052 C1098.970459,505.922485 1092.541992,512.866394 1082.988037,512.962402 C1068.827148,513.104797 1054.663940,513.006042 1040.002319,513.009888 z"}),R.createElement("path",{fill:"#017AFF",opacity:1,stroke:"none",d:" M1105.599854,424.091034 C1105.678223,419.273590 1105.675537,414.939514 1105.848022,410.612366 C1106.679688,389.750092 1118.775146,372.818024 1138.406616,365.732941 C1156.549072,359.185303 1175.012329,358.583527 1193.188843,365.323273 C1198.110229,367.148071 1202.772949,370.721100 1206.466431,374.543121 C1211.164673,379.404846 1211.106934,386.678192 1207.716797,392.221375 C1204.392090,397.657684 1197.251099,400.903137 1190.883667,399.580627 C1188.301636,399.044403 1185.815430,397.977692 1183.339355,397.013916 C1175.530396,393.974335 1167.541260,392.816956 1159.379639,395.154175 C1150.777954,397.617371 1145.223511,403.980804 1145.017212,412.911163 C1144.628296,429.729340 1144.585449,446.570526 1145.007446,463.386902 C1145.269531,473.829987 1153.125732,481.281250 1163.625244,482.137146 C1171.722046,482.797241 1179.477173,481.553802 1186.986572,478.140991 C1190.366577,476.604889 1194.360962,475.323792 1197.962524,475.572998 C1209.802612,476.392456 1216.308594,490.454346 1208.927490,499.752319 C1205.559448,503.994965 1200.648315,507.757538 1195.646484,509.828613 C1174.556763,518.560974 1153.221802,518.122009 1132.727783,508.061493 C1115.403931,499.557190 1106.508057,484.852997 1105.894775,465.561035 C1105.460938,451.910522 1105.674927,438.239471 1105.599854,424.091034 z"}),R.createElement("path",{fill:"#017AFF",opacity:1,stroke:"none",d:" M1320.434326,500.172791 C1317.639038,509.503052 1313.229980,512.955139 1304.061890,512.987305 C1286.908081,513.047424 1269.753784,513.003906 1252.599731,512.992737 C1251.268433,512.991882 1249.933105,512.956604 1248.606323,512.853210 C1231.926514,511.553131 1225.143188,504.528259 1225.061279,487.516205 C1224.887939,451.543427 1224.944946,415.569183 1225.023804,379.595795 C1225.048584,368.329468 1233.036743,360.816620 1244.539917,360.809937 C1256.112671,360.803192 1264.062378,368.157135 1264.114258,379.536163 C1264.256104,410.679382 1264.172607,441.823578 1264.180786,472.967407 C1264.182617,480.081787 1264.187012,480.085663 1271.141602,480.088776 C1281.967041,480.093628 1292.792480,480.061768 1303.617798,480.102203 C1315.913452,480.148132 1322.019409,487.278107 1320.434326,500.172791 z"}),R.createElement("path",{fill:"#017AFF",opacity:1,stroke:"none",d:" M1378.000000,513.014893 C1368.192139,512.765503 1358.816406,513.130859 1349.593384,512.112854 C1337.746338,510.805237 1332.660767,505.204010 1330.947388,493.507568 C1330.538574,490.717987 1330.280029,487.878601 1330.276367,485.061737 C1330.230103,450.432434 1330.286133,415.802979 1330.212158,381.173767 C1330.194580,372.958893 1332.967651,366.428131 1340.685059,362.882050 C1348.394409,359.339600 1355.924683,359.980255 1362.863892,365.047699 C1368.391602,369.084473 1369.760742,374.936981 1369.757690,381.368835 C1369.743286,412.002502 1369.751465,442.636139 1369.756226,473.269806 C1369.757324,480.076080 1369.766113,480.079834 1376.503418,480.083557 C1387.658081,480.089752 1398.813110,480.033844 1409.967285,480.110382 C1420.152832,480.180267 1426.172729,486.207733 1426.218872,496.197205 C1426.266479,506.515289 1420.200684,512.875610 1409.966064,512.983093 C1399.478394,513.093262 1388.988770,513.012207 1378.000000,513.014893 z"})),Oq=e=>R.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},R.createElement("path",{d:"M4 11.5L3.515 11.621C3.08232 11.7292 2.69821 11.9788 2.4237 12.3303C2.1492 12.6818 2.00007 13.115 2 13.561V15.438C2.00007 15.884 2.1492 16.3172 2.4237 16.6687C2.69821 17.0202 3.08232 17.2698 3.515 17.378L5.255 17.813C5.34342 17.835 5.43569 17.8366 5.52481 17.8177C5.61393 17.7987 5.69757 17.7597 5.76937 17.7036C5.84118 17.6475 5.89926 17.5758 5.93922 17.4939C5.97918 17.412 5.99997 17.3221 6 17.231V11.768C6.00001 11.6768 5.97921 11.5868 5.93919 11.5048C5.89918 11.4228 5.84099 11.351 5.76907 11.2949C5.69714 11.2388 5.61337 11.1998 5.52412 11.1809C5.43486 11.1621 5.34248 11.1638 5.254 11.186L4 11.5ZM4 11.5V11C4 8.87827 4.84285 6.84344 6.34315 5.34315C7.84344 3.84285 9.87827 3 12 3C14.1217 3 16.1566 3.84285 17.6569 5.34315C19.1571 6.84344 20 8.87827 20 11V11.5M20 11.5L20.485 11.621C20.9177 11.7292 21.3018 11.9788 21.5763 12.3303C21.8508 12.6818 21.9999 13.115 22 13.561V15.438C21.9999 15.884 21.8508 16.3172 21.5763 16.6687C21.3018 17.0202 20.9177 17.2698 20.485 17.378L20 17.5M20 11.5L18.745 11.186C18.6566 11.164 18.5643 11.1624 18.4752 11.1813C18.3861 11.2003 18.3024 11.2393 18.2306 11.2954C18.1588 11.3515 18.1007 11.4232 18.0608 11.5051C18.0208 11.587 18 11.6769 18 11.768V17.231C18 17.3221 18.0208 17.412 18.0608 17.4939C18.1007 17.5758 18.1588 17.6475 18.2306 17.7036C18.3024 17.7597 18.3861 17.7987 18.4752 17.8177C18.5643 17.8366 18.6566 17.835 18.745 17.813L20 17.5M20 17.5V18.5C20 19.0304 19.7893 19.5391 19.4142 19.9142C19.0391 20.2893 18.5304 20.5 18 20.5H15M15 20.5C15 20.1022 14.842 19.7206 14.5607 19.4393C14.2794 19.158 13.8978 19 13.5 19H10.5C10.1022 19 9.72064 19.158 9.43934 19.4393C9.15804 19.7206 9 20.1022 9 20.5C9 20.8978 9.15804 21.2794 9.43934 21.5607C9.72064 21.842 10.1022 22 10.5 22H13.5C13.8978 22 14.2794 21.842 14.5607 21.5607C14.842 21.2794 15 20.8978 15 20.5Z",stroke:"#6B7280",strokeWidth:1.5})),Pq=e=>R.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},R.createElement("path",{d:"M12 3C9.61306 3 7.32388 3.94821 5.63605 5.63604C3.94822 7.32387 3.00001 9.61305 3.00001 12C3.00001 14.397 3.93501 16.573 5.46301 18.186L5.96701 18.718L4.70001 21H12C13.1819 21 14.3522 20.7672 15.4442 20.3149C16.5361 19.8626 17.5282 19.1997 18.364 18.364C19.1997 17.5282 19.8626 16.5361 20.3149 15.4442C20.7672 14.3522 21 13.1819 21 12C21 10.8181 20.7672 9.64778 20.3149 8.55585C19.8626 7.46392 19.1997 6.47177 18.364 5.63604C17.5282 4.80031 16.5361 4.13738 15.4442 3.68508C14.3522 3.23279 13.1819 3 12 3ZM1.00001 12C1.00001 5.925 5.92501 1 12 1C18.075 1 23 5.925 23 12C23 18.075 18.075 23 12 23H1.30001L3.52001 19.006C1.88821 17.0363 0.996743 14.5578 1.00001 12ZM12 7.5C11.5864 7.4999 11.1829 7.62803 10.8452 7.86676C10.5074 8.10549 10.2519 8.44307 10.114 8.833L9.78001 9.776L7.89501 9.11L8.22801 8.167C8.43446 7.58155 8.77432 7.05216 9.22069 6.62073C9.66706 6.1893 10.2077 5.86765 10.7998 5.68124C11.392 5.49483 12.0194 5.44876 12.6324 5.54668C13.2454 5.64461 13.8272 5.88383 14.3318 6.24544C14.8364 6.60704 15.25 7.08111 15.5397 7.63013C15.8295 8.17915 15.9875 8.78806 16.0013 9.4087C16.0151 10.0293 15.8843 10.6447 15.6192 11.206C15.3541 11.7674 14.962 12.2593 14.474 12.643C14.043 12.983 13.657 13.309 13.378 13.652C13.104 13.99 13 14.262 13 14.5V15.75H11V14.5C11 13.633 11.39 12.927 11.826 12.39C12.258 11.86 12.8 11.416 13.236 11.072C13.5628 10.8149 13.8014 10.4624 13.9185 10.0634C14.0357 9.66449 14.0256 9.23894 13.8896 8.846C13.7536 8.45305 13.4986 8.11226 13.1599 7.87102C12.8212 7.62978 12.4158 7.50009 12 7.5ZM11 16.75H13.004V18.754H11V16.75Z",fill:"#6B7280"})),f9=[{title:"",path:"/timetable",end:!1},{title:"",path:"/wishes",end:!0},{title:"",path:"/simulation",end:!1},{title:"",path:"/live",end:!1}],Aq=[{icon:h.jsx(Oq,{className:"w-4 h-4"}),title:"  ",path:"https://forms.gle/bCDTVujEHunnvHe88"},{icon:h.jsx(Pq,{className:"w-4 h-4"}),title:" ",path:"https://open.kakao.com/o/g3MztXfh"}];function P2(){return h.jsx("header",{className:"bg-white shadow-sm z-50 sticky top-0",children:h.jsxs("div",{className:"container flex items-center justify-between mx-auto max-w-7xl px-4 md:px-16",children:[h.jsxs("div",{className:"flex items-center space-x-4 py-4",children:[h.jsxs(ti,{to:"/",className:"flex items-center gap-1 space-x-2","aria-label":" ",children:[h.jsx("h2",{className:"hidden",children:"ALLCLL"}),h.jsx(d9,{className:"w-6 h-6 m-0"}),h.jsx(Nq,{className:"h-5 hidden sm:inline-block"})]}),h.jsx("ul",{className:"flex space-x-4 text-sm sm:text-base",children:f9.map(({title:e,path:t,end:n})=>h.jsx("li",{className:"font-bold",children:h.jsx(du,{to:t,end:n,className:({isActive:r})=>r?"text-blue-500 font-semibold":"text-gray-500",children:e})},t))})]}),h.jsx("div",{className:"items-center space-x-2 hidden sm:flex",children:Aq.map(({icon:e,title:t,path:n})=>h.jsx("a",{className:"p-2 rounded-md hover:bg-gray-100",target:"_blank",href:n,"aria-label":t,title:t,children:e},n))})]})})}const uk=e=>{let t;const n=new Set,r=(c,f)=>{const p=typeof c=="function"?c(t):c;if(!Object.is(p,t)){const g=t;t=f??(typeof p!="object"||p===null)?p:Object.assign({},t,p),n.forEach(y=>y(t,g))}},i=()=>t,a={setState:r,getState:i,getInitialState:()=>l,subscribe:c=>(n.add(c),()=>n.delete(c))},l=t=e(r,i,a);return a},Mq=(e=>e?uk(e):uk),Dq=e=>e;function Lq(e,t=Dq){const n=wn.useSyncExternalStore(e.subscribe,wn.useCallback(()=>t(e.getState()),[e,t]),wn.useCallback(()=>t(e.getInitialState()),[e,t]));return wn.useDebugValue(n),n}const dk=e=>{const t=Mq(e),n=r=>Lq(t,r);return Object.assign(n,t),n},ri=(e=>e?dk(e):dk),iy=ri(e=>({banner:null,onClose:void 0,setBanner:(t,n)=>e({banner:t,onClose:n}),closeBanner:()=>e({banner:null})}));function Sa({variant:e,children:t}){const n=Fq(e);return h.jsx("div",{className:`${n} px-2 py-1 font-semibold text-xs rounded-full inline-flex`,children:t})}function Fq(e){switch(e){case"success":return"bg-green-100 text-green-700 ";case"warning":return"bg-yellow-100 text-yellow-700 ";case"danger":return"bg-secondary-100 text-secondary-700 ";case"default":return"bg-gray-100 text-gray-700 ";default:return""}}const Bq=e=>R.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},R.createElement("path",{d:"M10 7V11M10 14V14.01M1 10C1 11.1819 1.23279 12.3522 1.68508 13.4442C2.13738 14.5361 2.80031 15.5282 3.63604 16.364C4.47177 17.1997 5.46392 17.8626 6.55585 18.3149C7.64778 18.7672 8.8181 19 10 19C11.1819 19 12.3522 18.7672 13.4442 18.3149C14.5361 17.8626 15.5282 17.1997 16.364 16.364C17.1997 15.5282 17.8626 14.5361 18.3149 13.4442C18.7672 12.3522 19 11.1819 19 10C19 8.8181 18.7672 7.64778 18.3149 6.55585C17.8626 5.46392 17.1997 4.47177 16.364 3.63604C15.5282 2.80031 14.5361 2.13738 13.4442 1.68508C12.3522 1.23279 11.1819 1 10 1C8.8181 1 7.64778 1.23279 6.55585 1.68508C5.46392 2.13738 4.47177 2.80031 3.63604 3.63604C2.80031 4.47177 2.13738 5.46392 1.68508 6.55585C1.23279 7.64778 1 8.8181 1 10Z",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})),sy=e=>R.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},R.createElement("path",{d:"M18 6L6 18M6 6L18 18",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}));function Ar({icon:e,variant:t="plain",label:n,className:r="",...i}){const a=`flex flex-row items-center justify-center gap-1 cursor-pointer rounded-md  ${$q(t)} ${r}`;return h.jsx("button",{type:"button","aria-label":n,className:a,...i,children:e&&h.jsx("span",{children:e})})}function $q(e){switch(e){case"contain":return"px-2 py-2 border border-gray-400 hover:bg-gray-100";case"plain":return"bg-transparent text-gray-700";default:return""}}function zq({children:e}){return h.jsx("div",{className:"mr-3 flex-shrink-0 flex items-center justify-center",children:e})}function Uq({children:e}){return h.jsx("div",{className:"flex-1",children:e})}function Hq({children:e}){return h.jsx("div",{className:"ml-3 flex-shrink-0 flex items-center justify-center",children:e})}function Wq({tag:e="div",withPadding:t,left:n,center:r,right:i,className:s,...o}){const a=e,l=r?"justify-start":"justify-between";return h.jsxs(a,{className:`flex items-center w-full ${l} ${t?"px-4 py-3":""} ${s??""}`,...o,children:[n,r,i]})}function h9({left:e,center:t,right:n,className:r,withPadding:i}){return h.jsx(Wq,{className:r,withPadding:i,left:h.jsx(zq,{children:e}),center:t?h.jsx(Uq,{children:t}):null,right:h.jsx(Hq,{children:n})})}function Vq({variant:e="info",children:t,deleteBanner:n}){const r=qq(e);return h.jsx(h9,{withPadding:!0,className:`${r} items-center`,left:h.jsx(Bq,{className:"text-gray-500 w-4 h-4"}),center:h.jsx("span",{className:"text-xs",children:t}),right:h.jsx(Ar,{label:" ",variant:"plain",icon:h.jsx(sy,{className:"text-gray-500 w-5 h-5"}),onClick:n,className:"rounded-full"})})}function qq(e){switch(e){case"warning":return"bg-secondary-100";case"info":return"bg-blue-100";default:return"bg-gray-100"}}function fk(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Qq(...e){return t=>{let n=!1;const r=e.map(i=>{const s=fk(i,t);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():fk(e[i],null)}}}}var Kq=Symbol.for("react.lazy"),oy=r8[" use ".trim().toString()];function Gq(e){return typeof e=="object"&&e!==null&&"then"in e}function p9(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===Kq&&"_payload"in e&&Gq(e._payload)}function Yq(e){const t=Xq(e),n=R.forwardRef((r,i)=>{let{children:s,...o}=r;p9(s)&&typeof oy=="function"&&(s=oy(s._payload));const a=R.Children.toArray(s),l=a.find(eQ);if(l){const c=l.props.children,f=a.map(p=>p===l?R.Children.count(c)>1?R.Children.only(null):R.isValidElement(c)?c.props.children:null:p);return h.jsx(t,{...o,ref:i,children:R.isValidElement(c)?R.cloneElement(c,void 0,f):null})}return h.jsx(t,{...o,ref:i,children:s})});return n.displayName=`${e}.Slot`,n}var Jq=Yq("Slot");function Xq(e){const t=R.forwardRef((n,r)=>{let{children:i,...s}=n;if(p9(i)&&typeof oy=="function"&&(i=oy(i._payload)),R.isValidElement(i)){const o=nQ(i),a=tQ(s,i.props);return i.type!==R.Fragment&&(a.ref=r?Qq(r,o):o),R.cloneElement(i,a)}return R.Children.count(i)>1?R.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Zq=Symbol("radix.slottable");function eQ(e){return R.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Zq}function tQ(e,t){const n={...t};for(const r in t){const i=e[r],s=t[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{const l=s(...a);return i(...a),l}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...e,...n}}function nQ(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}const ay={pressable:"transition-colors duration-300 ease-out active:scale-[0.97]",hoverable:"transition-colors duration-200 ease-out"};function Mt({variant:e,size:t,children:n,disabled:r,textColor:i,asChild:s,...o}){const a=s?Jq:"button",l=e==="circle"?"":`flex flex-row gap-1 items-center justify-center cursor-pointer disabled:cursor-not-allowed ${ay.hoverable} ${ay.pressable}`,c=i?hk(e,i):hk(e,"primary"),f=e==="circle"?"":iQ(t),p=`${l} ${c} ${f}`.trim();return h.jsx(a,{className:p,disabled:r,...o,children:n})}function rQ(e){switch(e){case"primary":return"bg-transparent text-primary-500 hover:text-primary-600";case"secondary":return"bg-transparent text-secondary-500 hover:text-secondary-600";case"gray":return"bg-transparent text-gray-700 hover:text-gray-800";default:return""}}function hk(e,t){switch(e){case"primary":return"bg-primary-500 text-white hover:bg-primary-600 rounded-md px-4 py-2 disabled:bg-gray-100 disabled:text-gray-300";case"secondary":return"bg-gray-100  hover:bg-gray-300 rounded-md px-4 py-2 disabled:text-white";case"outlined":return"bg-transparent border border-gray-700 hover:bg-gray-100 rounded-md px-4 py-2 disabled:border-gray-200  disabled:text-gray-400";case"danger":return"bg-secondary-500 text-white hover:bg-secondary-600 rounded-md px-4 py-2 disabled:bg-gray-100";case"ghost":return"bg-gray-50 border border-gray-200 text-gray-700 hover:bg-gray-200 rounded-full px-4 py-2";case"circle":return"px-2 py-2 bg-primary-500 text-white hover:bg-primary-600 rounded-full shadow-md ";case"text":return`${rQ(t)} px-0 py-2  disabled:text-gray-400`;default:return""}}function iQ(e){switch(e){case"small":return"text-sm px-2";case"medium":return"text-sm";case"large":return"text-md";default:return""}}function sQ({children:e}){return h.jsx("div",{className:"flex flex-col space-y-3 text-gray-600 text-sm",children:e})}function oQ({children:e}){return h.jsx("div",{className:"flex flex-col items-start justify-between mb-3",children:e})}function aQ({children:e,size:t,variant:n,className:r}){const i=lQ(t||"medium"),s=cQ(n);return h.jsx("div",{className:`card rounded-lg ${i} ${s} ${r||""}`,children:e})}const Wn=Object.assign(aQ,{Header:oQ,Content:sQ});function lQ(e){switch(e){case"small":return"px-4 py-4 text-sm";case"medium":return"p-4 text-base";case"large":return"px-10 py-4 text-lg";default:return""}}function cQ(e="elevated"){switch(e){case"elevated":return"bg-white shadow-md";case"outlined":return"bg-white border border-gray-200";case"filled":return"bg-gray-50 shadow-sm rounded-lg p-4 border border-gray-200 hover:shadow-md";default:return""}}const uQ=e=>R.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},R.createElement("path",{d:"M5 12L10 17L20 7",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}));function Xy({label:e,...t}){const n=R.useId(),r=e?`checkbox-${e}`:`checkbox-${n}`,i=`w-5 h-5 rounded-sm border flex-shrink-0 appearance-none flex items-center justify-center
    ${dQ(!!t.checked)}`,s=o=>{o.key==="Enter"&&(o.preventDefault(),o.currentTarget.click()),t.onKeyDown?.(o)};return h.jsxs("label",{htmlFor:r,className:"flex flex-row items-center gap-3 text-sm md:text-base cursor-pointer select-none",children:[h.jsxs("div",{className:"relative w-5 h-5",children:[h.jsx("input",{id:r,type:"checkbox","aria-checked":t.checked,"aria-label":e?void 0:"toggle checkbox",className:i,onKeyDown:s,...t}),t.checked&&h.jsx(uQ,{className:"text-blue-500 w-4 h-4 absolute inset-0 m-auto pointer-events-none"})]}),e&&h.jsx("span",{className:`${t.checked?"text-blue-500":"text-gray-600"}`,children:e})]})}Xy.layout="flex";function dQ(e){return e?`
      bg-blue-50
      border-blue-500
    `:`
      bg-white
      border-gray-400
      hover:bg-gray-50
    `}const pk=e=>R.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},R.createElement("path",{d:"M6 9L12 15L18 9",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})),fQ=({className:e,selected:t=!1})=>{const n=t?e+" text-blue-500":e+" text-gray-400";return t?h.jsx(pk,{className:n}):h.jsx(pk,{className:n})},hQ=({className:e,selected:t=!1})=>{const n=t?e+" text-blue-500":e+" text-gray-400";return t?h.jsx(sy,{className:n}):h.jsx(sy,{className:n})};function Xn({label:e="Chip",selected:t,variant:n="none",containerRef:r,onClick:i,isChipOpen:s,...o}){return h.jsxs("button",{type:"button",ref:r,className:`flex flex-row justify-center items-center cursor-pointer gap-4 transition-colors duration-300 ease-out active:scale-[0.97] ${mQ(n)} ${pQ(t,n)}`,"aria-pressed":t,onClick:i,...o,children:[h.jsx("span",{className:"text-xs sm:text-sm",children:e}),n==="select"&&h.jsx(fQ,{"aria-hidden":"true",selected:t,className:`w-5 h-5 pointer-events-none transition-transform text-blue-500 duration-200 ${s?"rotate-180":"rotate-0"}`}),n==="cancel"&&h.jsx(hQ,{"aria-hidden":"true",selected:t,className:"pointer-events-none w-4 h-4"})]})}Xn.layout="grid";function pQ(e,t){return e?`
      bg-primary-100
      text-primary-500
      hover:bg-primary-200
      focus:outline-primary-500
    `:t==="none"?`
      bg-transparent
      text-gray-700
      border border-gray-200
      hover:bg-gray-100
      focus:outline-gray-400
    `:`
    bg-gray-100
    text-gray-700
    hover:bg-gray-200
    focus:outline-gray-400
  `}function mQ(e){return e==="cancel"?"rounded-full text-xs py-1.5 px-4":"rounded-lg text-sm py-2 px-4"}function gQ({children:e}){return h.jsx("h2",{id:"dialog-title",className:"font-semibold",children:e})}function m9({children:e,onClose:t}){return h.jsxs("div",{className:"w-full px-4 sm:px-6 py-4 sm:py-4 border-b border-gray-100 flex flex-row justify-between",children:[e,h.jsx("button",{type:"button","aria-label":"",className:"w-6 h-6 cursor-pointer flex items-center justify-center bg-gray-100 rounded-full",onClick:t,children:h.jsx(sy,{className:"text-gray-600 w-3 h-3"})})]})}function g9({children:e,onClose:t}){const n=R.useRef(null),r=i=>{i.stopPropagation(),t()};return h.jsx("div",{className:"fixed inset-0 flex items-center bg-transparent justify-center z-50",role:"none",ref:n,onClick:r,children:e})}function y9({children:e,width:t,height:n}){const r=yQ(t,n);return h.jsx("div",{className:`flex flex-col justify-center item bg-white min-w-80 max-w-[90%] max-h-[90vh] rounded-lg sm:${r}`,onClick:i=>i.stopPropagation(),children:e})}function yQ(e,t){const n=e?`w-${e}`:"max-w-[90%]",r=t?`h-${t}`:"auto";return`${n} ${r}`}function vQ({children:e}){return h.jsx("div",{className:"flex flex-col px-6 sm:py-4 py-4 gap-2 max-h-150 overflow-y-auto",children:e})}function bQ({children:e}){return h.jsx("div",{className:"py-3 px-8 border-t border-gray-100 flex justify-end gap-2",children:e})}function xQ({children:e,isOpen:t=!0,title:n,onClose:r}){const i=R.useRef(null),s=R.useId();return R.useEffect(()=>{const o=i.current;o&&(t?o.showModal():o.close())},[t]),R.useEffect(()=>{const o=a=>{a.key==="Escape"&&r()};return window.addEventListener("keydown",o),()=>window.removeEventListener("keydown",o)},[r]),My.createPortal(h.jsx("dialog",{ref:i,role:"dialog","aria-labelledby":s,onCancel:o=>{o.preventDefault(),r()},children:h.jsx(g9,{onClose:r,children:h.jsxs(y9,{children:[h.jsx(m9,{onClose:r,children:h.jsx(Zn.Title,{id:s,children:n})}),e]})})}),document.body)}const Zn=Object.assign(xQ,{Title:gQ,Header:m9,Overlay:g9,Content:vQ,Contents:y9,Footer:bQ});function Mw({className:e="",leftIcon:t,rightIcon:n,...r}){const i=R.useRef(null),s=t?"pl-10":"pl-3",o=n?"pr-10":"pr-3";return h.jsxs("div",{className:"relative flex items-center w-full",children:[t&&h.jsx("div",{children:t}),h.jsx("input",{ref:i,type:"text",className:`py-2 border rounded-md border-gray-400 py-2 px-3 focus:outline-none focus:ring-0 focus:border-primary-500 ${s} ${o} ${e}`,...r}),n&&h.jsx("div",{children:n})]})}const Mr=({id:e,required:t,children:n,className:r="",...i})=>{const s=`text-sm sm:text-base text-text-200 after:ml-0.5 ${t?'after:content-["*"] after:text-red-500':""}`;return h.jsx("label",{htmlFor:e,className:`${s} ${r}`,...i,children:n})};function wQ({label:e,selected:t}){const{isOpen:n,triggerRef:r,open:i,close:s}=b9(),o=()=>{n?s():i()};return h.jsx(Xn,{type:"button",label:e,isChipOpen:n,variant:"select",selected:t??!1,onClick:o,containerRef:r})}const _Q=({elem:e,tabRefs:t,isOpen:n,open:r,close:i})=>{R.useEffect(()=>{const s=o=>{(Array.isArray(t)?t:[t]).some(c=>c.current&&c.current.contains(o.target))?r():e.current&&!e.current.contains(o.target)&&i()};return n?window.addEventListener("click",s):window.removeEventListener("click",s),()=>{window.removeEventListener("click",s)}},[n,e,t])};function SQ({children:e}){const{isOpen:t,close:n,open:r,triggerRef:i}=b9(),s=R.useRef(null);if(_Q({elem:s,tabRefs:i,isOpen:t,open:r,close:n}),!t||!i.current)return null;const o=i.current.getBoundingClientRect();return My.createPortal(h.jsx("div",{ref:s,className:`
        fixed rounded-md bg-white shadow-lg border border-gray-200 px-4 py-4
        transition-all duration-150 ease-out
        ${t?"opacity-100 translate-y-0 scale-100 pointer-events-auto":"opacity-0 -translate-y-1 scale-95 pointer-events-none"}
      `,style:{zIndex:120,top:o.bottom+8,left:o.left},onMouseDown:a=>a.stopPropagation(),onClick:a=>a.stopPropagation(),children:e}),document.body)}const v9=R.createContext(null);function EQ({children:e}){const[t,n]=R.useState(null);return h.jsx(v9.Provider,{value:{openId:t,setOpenId:n},children:e})}function CQ(){const e=R.useContext(v9);if(!e)throw new Error("PopoverGroup  PopoverGroupContext.Provider   .");return e}const b9=()=>{const e=R.useContext(x9);if(!e)throw new Error("Popover Component PopoverContext.Provider   .");return e},x9=R.createContext(null),kQ=({children:e})=>{const t=R.useId(),{openId:n,setOpenId:r}=CQ(),i=R.useRef(null),s=n===t,o=()=>r(t),a=()=>r(null),l=()=>r(s?null:t);return h.jsx(x9.Provider,{value:{id:t,isOpen:n===t,open:o,close:a,toggle:l,triggerRef:i},children:e})},$d=Object.assign(kQ,{Trigger:wQ,Content:SQ});function je({as:e,direction:t="flex-row",justify:n="justify-start",align:r="items-stretch",gap:i="gap-2",className:s,children:o,...a}){const l=e||"div",c=`flex ${t} ${n} ${r} ${i}`+(s?` ${s}`:"");return h.jsx(l,{className:c,...a,children:o})}function w9({label:e,isError:t,errorMessage:n,required:r,id:i,size:s="medium",className:o="",...a}){return h.jsxs(je,{direction:"flex-col",gap:"gap-2",className:o,children:[e&&h.jsx(Mr,{required:r,id:i,children:e}),h.jsx("input",{id:i,type:"text","aria-invalid":t,required:r,...a,className:`rounded-md w-full bg-white border border-gray-300 py-2 px-3 focus:outline-none focus:ring-0 focus:border-primary-500 ${TQ(s)}`}),t&&h.jsx("span",{className:"text-secondary-500 text-xs",children:n})]})}function TQ(e){switch(e){case"small":return"text-sm py-1";case"medium":return"text-base py-1";case"large":return"text-lg py-1";default:return""}}const jQ=e=>R.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},R.createElement("path",{d:"M12 16V16.01M12 13C12.4498 13.0014 12.8868 12.8511 13.2407 12.5734C13.5945 12.2958 13.8444 11.907 13.95 11.4698C14.0557 11.0327 14.0109 10.5726 13.8229 10.1641C13.6349 9.75549 13.3147 9.42219 12.914 9.21801C12.5162 9.01422 12.0611 8.95103 11.6228 9.03873C11.1845 9.12642 10.7888 9.35984 10.5 9.70101M3 12C3 13.1819 3.23279 14.3522 3.68508 15.4442C4.13738 16.5361 4.80031 17.5282 5.63604 18.364C6.47177 19.1997 7.46392 19.8626 8.55585 20.3149C9.64778 20.7672 10.8181 21 12 21C13.1819 21 14.3522 20.7672 15.4442 20.3149C16.5361 19.8626 17.5282 19.1997 18.364 18.364C19.1997 17.5282 19.8626 16.5361 20.3149 15.4442C20.7672 14.3522 21 13.1819 21 12C21 9.61305 20.0518 7.32387 18.364 5.63604C16.6761 3.94821 14.3869 3 12 3C9.61305 3 7.32387 3.94821 5.63604 5.63604C3.94821 7.32387 3 9.61305 3 12Z",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}));function IQ({children:e}){return h.jsx("div",{className:"relative inline-block",children:h.jsxs("div",{className:"group inline-block",children:[h.jsx(Ar,{label:"Tooltip",variant:"plain",icon:h.jsx(jQ,{className:"w-6 h-6 text-gray-400 background-gray-200"})}),h.jsx("span",{className:"absolute bottom-full mb-2 left-1/2 transform -translate-x-1/2 opacity-0 group-hover:opacity-100 transition-opacity duration-300 bg-gray-900 text-white p-3 rounded w-64 text-center pointer-events-none",children:e})]})})}function Vt({level:e=1,size:t,as:n,className:r,children:i,...s}){const o=n??`h${e}`,a=t??RQ(e);return h.jsx(o,{className:`${r??""} ${NQ(a)} text-text-200`,...s,children:i})}function RQ(e){return{1:"xxl",2:"xl",3:"lg",4:"md",5:"sm"}[e]}function NQ(e){return{xxl:"text-lg font-semibold md:text-xl",xl:"text-base md:text-lg font-semibold",lg:"text-base font-semibold",md:"text-sm font-semibold",sm:"text-xs font-semibold",xs:"text-[11px] font-semibold"}[e]}function Jn({className:e,children:t,...n}){return h.jsx("p",{className:`text-gray-500 text-sm leading-relaxed ${e??""}`,...n,children:t})}function Gl({columns:e,gap:t="gap-0",className:n,children:r,...i}){const s=["grid",t],o=e.base??2;s.push(`grid-cols-${o}`),e.base&&s.push(`grid-cols-${e.base}`),e.sm&&s.push(`sm:grid-cols-${e.sm}`),e.md&&s.push(`md:grid-cols-${e.md}`),e.lg&&s.push(`lg:grid-cols-${e.lg}`),e.xl&&s.push(`xl:grid-cols-${e.xl}`);const a=s.join(" ")+(n?` ${n}`:"");return h.jsx("div",{className:a,...i,children:r})}function OQ({selected:e=!1,onSelect:t,left:n,right:r}){const i=o=>{(o.key==="Enter"||o.key===" ")&&(o.preventDefault(),t?.())},s=`flex px-2 py-2 rounded-sm cursor-pointer text-sm ${ay.pressable} ${ay.hoverable}`;return h.jsx("div",{role:"option","aria-selected":e,tabIndex:0,onClick:t,onKeyDown:i,className:`${s} ${PQ(e)}`,children:h.jsx(h9,{left:h.jsx("div",{className:"flex items-center",children:n}),right:e?r:null})})}function PQ(e){return e?"bg-blue-50 text-blue-500 font-medium hover:bg-blue-100":"hover:bg-gray-50 text-gray-700"}const AQ={primary:{500:"#3B82F6"}};function _9(){const e=iy(n=>n.banner),t=iy(n=>n.closeBanner);return e&&h.jsx(Vq,{deleteBanner:t,children:e})}function ly(){return ly=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ly.apply(null,arguments)}function A2(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Dw(e,t){return Dw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Dw(e,t)}function M2(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Dw(e,t)}function MQ(e,t){return e.classList?!!t&&e.classList.contains(t):(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")!==-1}function DQ(e,t){e.classList?e.classList.add(t):MQ(e,t)||(typeof e.className=="string"?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}function mk(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function LQ(e,t){e.classList?e.classList.remove(t):typeof e.className=="string"?e.className=mk(e.className,t):e.setAttribute("class",mk(e.className&&e.className.baseVal||"",t))}const gk={disabled:!1},cy=wn.createContext(null);var S9=function(t){return t.scrollTop},jh="unmounted",Oc="exited",Pc="entering",Sd="entered",Lw="exiting",Ra=(function(e){M2(t,e);function t(r,i){var s;s=e.call(this,r,i)||this;var o=i,a=o&&!o.isMounting?r.enter:r.appear,l;return s.appearStatus=null,r.in?a?(l=Oc,s.appearStatus=Pc):l=Sd:r.unmountOnExit||r.mountOnEnter?l=jh:l=Oc,s.state={status:l},s.nextCallback=null,s}t.getDerivedStateFromProps=function(i,s){var o=i.in;return o&&s.status===jh?{status:Oc}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var s=null;if(i!==this.props){var o=this.state.status;this.props.in?o!==Pc&&o!==Sd&&(s=Pc):(o===Pc||o===Sd)&&(s=Lw)}this.updateStatus(!1,s)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,s,o,a;return s=o=a=i,i!=null&&typeof i!="number"&&(s=i.exit,o=i.enter,a=i.appear!==void 0?i.appear:o),{exit:s,enter:o,appear:a}},n.updateStatus=function(i,s){if(i===void 0&&(i=!1),s!==null)if(this.cancelNextCallback(),s===Pc){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:mg.findDOMNode(this);o&&S9(o)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Oc&&this.setState({status:jh})},n.performEnter=function(i){var s=this,o=this.props.enter,a=this.context?this.context.isMounting:i,l=this.props.nodeRef?[a]:[mg.findDOMNode(this),a],c=l[0],f=l[1],p=this.getTimeouts(),g=a?p.appear:p.enter;if(!i&&!o||gk.disabled){this.safeSetState({status:Sd},function(){s.props.onEntered(c)});return}this.props.onEnter(c,f),this.safeSetState({status:Pc},function(){s.props.onEntering(c,f),s.onTransitionEnd(g,function(){s.safeSetState({status:Sd},function(){s.props.onEntered(c,f)})})})},n.performExit=function(){var i=this,s=this.props.exit,o=this.getTimeouts(),a=this.props.nodeRef?void 0:mg.findDOMNode(this);if(!s||gk.disabled){this.safeSetState({status:Oc},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:Lw},function(){i.props.onExiting(a),i.onTransitionEnd(o.exit,function(){i.safeSetState({status:Oc},function(){i.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,s){s=this.setNextCallback(s),this.setState(i,s)},n.setNextCallback=function(i){var s=this,o=!0;return this.nextCallback=function(a){o&&(o=!1,s.nextCallback=null,i(a))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},n.onTransitionEnd=function(i,s){this.setNextCallback(s);var o=this.props.nodeRef?this.props.nodeRef.current:mg.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!o||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],c=l[0],f=l[1];this.props.addEndListener(c,f)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===jh)return null;var s=this.props,o=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var a=A2(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return wn.createElement(cy.Provider,{value:null},typeof o=="function"?o(i,a):wn.cloneElement(wn.Children.only(o),a))},t})(wn.Component);Ra.contextType=cy;Ra.propTypes={};function sd(){}Ra.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:sd,onEntering:sd,onEntered:sd,onExit:sd,onExiting:sd,onExited:sd};Ra.UNMOUNTED=jh;Ra.EXITED=Oc;Ra.ENTERING=Pc;Ra.ENTERED=Sd;Ra.EXITING=Lw;var FQ=function(t,n){return t&&n&&n.split(" ").forEach(function(r){return DQ(t,r)})},Ub=function(t,n){return t&&n&&n.split(" ").forEach(function(r){return LQ(t,r)})},Hp=(function(e){M2(t,e);function t(){for(var r,i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s))||this,r.appliedClasses={appear:{},enter:{},exit:{}},r.onEnter=function(a,l){var c=r.resolveArguments(a,l),f=c[0],p=c[1];r.removeClasses(f,"exit"),r.addClass(f,p?"appear":"enter","base"),r.props.onEnter&&r.props.onEnter(a,l)},r.onEntering=function(a,l){var c=r.resolveArguments(a,l),f=c[0],p=c[1],g=p?"appear":"enter";r.addClass(f,g,"active"),r.props.onEntering&&r.props.onEntering(a,l)},r.onEntered=function(a,l){var c=r.resolveArguments(a,l),f=c[0],p=c[1],g=p?"appear":"enter";r.removeClasses(f,g),r.addClass(f,g,"done"),r.props.onEntered&&r.props.onEntered(a,l)},r.onExit=function(a){var l=r.resolveArguments(a),c=l[0];r.removeClasses(c,"appear"),r.removeClasses(c,"enter"),r.addClass(c,"exit","base"),r.props.onExit&&r.props.onExit(a)},r.onExiting=function(a){var l=r.resolveArguments(a),c=l[0];r.addClass(c,"exit","active"),r.props.onExiting&&r.props.onExiting(a)},r.onExited=function(a){var l=r.resolveArguments(a),c=l[0];r.removeClasses(c,"exit"),r.addClass(c,"exit","done"),r.props.onExited&&r.props.onExited(a)},r.resolveArguments=function(a,l){return r.props.nodeRef?[r.props.nodeRef.current,a]:[a,l]},r.getClassNames=function(a){var l=r.props.classNames,c=typeof l=="string",f=c&&l?l+"-":"",p=c?""+f+a:l[a],g=c?p+"-active":l[a+"Active"],y=c?p+"-done":l[a+"Done"];return{baseClassName:p,activeClassName:g,doneClassName:y}},r}var n=t.prototype;return n.addClass=function(i,s,o){var a=this.getClassNames(s)[o+"ClassName"],l=this.getClassNames("enter"),c=l.doneClassName;s==="appear"&&o==="done"&&c&&(a+=" "+c),o==="active"&&i&&S9(i),a&&(this.appliedClasses[s][o]=a,FQ(i,a))},n.removeClasses=function(i,s){var o=this.appliedClasses[s],a=o.base,l=o.active,c=o.done;this.appliedClasses[s]={},a&&Ub(i,a),l&&Ub(i,l),c&&Ub(i,c)},n.render=function(){var i=this.props;i.classNames;var s=A2(i,["classNames"]);return wn.createElement(Ra,ly({},s,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t})(wn.Component);Hp.defaultProps={classNames:""};Hp.propTypes={};function BQ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function D2(e,t){var n=function(s){return t&&R.isValidElement(s)?t(s):s},r=Object.create(null);return e&&R.Children.map(e,function(i){return i}).forEach(function(i){r[i.key]=n(i)}),r}function $Q(e,t){e=e||{},t=t||{};function n(f){return f in t?t[f]:e[f]}var r=Object.create(null),i=[];for(var s in e)s in t?i.length&&(r[s]=i,i=[]):i.push(s);var o,a={};for(var l in t){if(r[l])for(o=0;o<r[l].length;o++){var c=r[l][o];a[r[l][o]]=n(c)}a[l]=n(l)}for(o=0;o<i.length;o++)a[i[o]]=n(i[o]);return a}function Vc(e,t,n){return n[t]!=null?n[t]:e.props[t]}function zQ(e,t){return D2(e.children,function(n){return R.cloneElement(n,{onExited:t.bind(null,n),in:!0,appear:Vc(n,"appear",e),enter:Vc(n,"enter",e),exit:Vc(n,"exit",e)})})}function UQ(e,t,n){var r=D2(e.children),i=$Q(t,r);return Object.keys(i).forEach(function(s){var o=i[s];if(R.isValidElement(o)){var a=s in t,l=s in r,c=t[s],f=R.isValidElement(c)&&!c.props.in;l&&(!a||f)?i[s]=R.cloneElement(o,{onExited:n.bind(null,o),in:!0,exit:Vc(o,"exit",e),enter:Vc(o,"enter",e)}):!l&&a&&!f?i[s]=R.cloneElement(o,{in:!1}):l&&a&&R.isValidElement(c)&&(i[s]=R.cloneElement(o,{onExited:n.bind(null,o),in:c.props.in,exit:Vc(o,"exit",e),enter:Vc(o,"enter",e)}))}}),i}var HQ=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},WQ={component:"div",childFactory:function(t){return t}},Zy=(function(e){M2(t,e);function t(r,i){var s;s=e.call(this,r,i)||this;var o=s.handleExited.bind(BQ(s));return s.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},s}var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(i,s){var o=s.children,a=s.handleExited,l=s.firstRender;return{children:l?zQ(i,a):UQ(i,o,a),firstRender:!1}},n.handleExited=function(i,s){var o=D2(this.props.children);i.key in o||(i.props.onExited&&i.props.onExited(s),this.mounted&&this.setState(function(a){var l=ly({},a.children);return delete l[i.key],{children:l}}))},n.render=function(){var i=this.props,s=i.component,o=i.childFactory,a=A2(i,["component","childFactory"]),l=this.state.contextValue,c=HQ(this.state.children).map(o);return delete a.appear,delete a.enter,delete a.exit,s===null?wn.createElement(cy.Provider,{value:l},c):wn.createElement(cy.Provider,{value:l},wn.createElement(s,a,c))},t})(wn.Component);Zy.propTypes={};Zy.defaultProps=WQ;const E9=e=>R.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:10,height:10,viewBox:"0. 0. 11 11",...e},R.createElement("g",{transform:"matrix(1,0,0,-1,0,20)"},R.createElement("path",{d:"M9.71875,18.28125Q10,18.59375,10,19Q10,19.40625,9.71875,19.71875Q9.40625,20,9,20Q8.59375,20,8.28125,19.71875L5,16.40625L1.71875,19.71875Q1.40625,20,1,20Q0.59375,20,0.28125,19.71875Q0,19.40625,0,19Q0,18.59375,0.28125,18.28125L3.59375,15L0.28125,11.71875Q0,11.40625,0,11Q0,10.59375,0.28125,10.28125Q0.59375,10,1,10Q1.40625,10,1.71875,10.28125L5,13.59375L8.28125,10.28125Q8.59375,10,9,10Q9.40625,10,9.71875,10.28125Q10,10.59375,10,11Q10,11.40625,9.71875,11.71875L6.40625,15L9.71875,18.28125Z",fill:"#9CA3AF",fillOpacity:1,style:{mixBlendMode:"passthrough"}}))),L2=e=>R.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:17,height:17,viewBox:"-0.1 -1.2 11.985078811645508 17",...e},R.createElement("g",{transform:"matrix(1,0,0,-1,0,27.999998092651367)"},R.createElement("path",{d:"M5.99254,27.999999046325684Q5.61809,27.999999046325684,5.37737,27.753899046325685Q5.13664,27.507799046325683,5.13664,27.124999046325684L5.13664,26.605499046325683Q3.63883,26.277299046325684,2.70269,25.10159904632568Q1.73981,23.925779046325683,1.71306,22.312499046325684L1.71306,21.792969046325684Q1.68632,19.824219046325684,0.429221,18.320309046325683L0.215247,18.074219046325684Q-0.13246,17.664059046325683,0.0815138,17.144529046325683Q0.322234,16.652339046325682,0.857169,16.624999046325684L11.1279,16.624999046325684Q11.6628,16.652339046325682,11.9036,17.144529046325683Q12.1175,17.664059046325683,11.7698,18.074219046325684L11.5826,18.320309046325683Q10.2988,19.796869046325682,10.272,21.792969046325684L10.272,22.312499046325684Q10.2453,23.925779046325683,9.28239,25.10159904632568Q8.34625,26.277299046325684,6.84843,26.605499046325683L6.84843,27.124999046325684Q6.84843,27.507799046325683,6.60771,27.753899046325685Q6.36699,27.999999046325684,5.99254,27.999999046325684ZM7.19614,14.519530046325684Q7.70433,15.039059046325683,7.70433,15.749999046325684L5.99254,15.749999046325684L4.28075,15.749999046325684Q4.28075,15.039059046325683,4.78894,14.519530046325684Q5.29713,13.999999046325684,5.99254,13.999999046325684Q6.68796,13.999999046325684,7.19614,14.519530046325684Z",fill:"currentColor",fillOpacity:1,style:{mixBlendMode:"passthrough"}}))),uy=ri(e=>({isActivated:!1,messages:[],addToast:(t,n)=>e(r=>({messages:[...r.messages,{message:t,tag:n}]})),clearToast:t=>e(n=>(typeof t=="number"?n.messages=[...n.messages.slice(0,t),...n.messages.slice(t+1)]:n.messages=n.messages.filter(r=>r.tag!==t),{messages:n.messages}))}));function F2(){const e=uy(n=>n.messages),t=uy(n=>n.clearToast);return h.jsx("div",{className:"fixed top-2 right-2 z-100 max-w-screen",children:h.jsx(Zy,{className:"flex gap-2 flex-col-reverse",children:e.slice(-3).map((n,r)=>h.jsx(Hp,{timeout:300,classNames:"toast",children:h.jsx(VQ,{toast:n,closeToast:()=>t(r)})},`${r} : ${n}`))})})}function VQ({toast:e,closeToast:t}){return h.jsxs("div",{className:"flex justify-between items-center gap-2 p-4 ml-2 bg-white text-black rounded-lg shadow-md",children:[h.jsx(L2,{className:"w-4 h-4 text-blue-500"}),h.jsx("span",{className:"flex-1 text-sm font-bold truncate max-w-72",children:e.message}),h.jsx("button",{"aria-label":"",onClick:t,className:"p-2 rounded-full hover:bg-blue-100",children:h.jsx(E9,{})})]})}const qQ=e=>R.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},R.createElement("g",{clipPath:"url(#clip0_3195_1180)"},R.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 3.66667C7.3975 3.66667 3.66667 7.3975 3.66667 12C3.66667 16.6025 7.3975 20.3333 12 20.3333C16.6025 20.3333 20.3333 16.6025 20.3333 12C20.3333 7.3975 16.6025 3.66667 12 3.66667ZM2 12C2 6.47708 6.47708 2 12 2C17.5229 2 22 6.47708 22 12C22 17.5229 17.5229 22 12 22C6.47708 22 2 17.5229 2 12Z",fill:"#9CA3AF"}),R.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.9929 20.9465C9.91235 20.8424 9.91235 19.9154 9.9929 18.1657C9.12985 18.1957 8.58443 18.1359 8.35665 17.9861C8.0154 17.7615 7.67332 17.0695 7.3704 16.5815C7.06749 16.0936 6.39415 16.0165 6.12249 15.9074C5.85082 15.7986 5.78249 15.354 6.87124 15.6899C7.95999 16.0261 8.0129 16.942 8.35665 17.1557C8.7004 17.3699 9.52165 17.2765 9.89374 17.1049C10.2658 16.9332 10.2383 16.2949 10.305 16.042C10.3887 15.8057 10.0929 15.7532 10.0867 15.7515C9.7229 15.7515 7.81415 15.3361 7.28957 13.4878C6.7654 11.639 7.44082 10.4307 7.80124 9.91155C8.04124 9.56488 8.01999 8.82682 7.73749 7.69738C8.76415 7.56571 9.55624 7.88877 10.1137 8.66655C10.1146 8.67071 10.8454 8.23196 12 8.23196C13.1546 8.23196 13.5646 8.58946 13.8808 8.66655C14.1971 8.74363 14.45 7.30571 16.4029 7.69738C15.995 8.49863 15.6537 9.49988 15.9142 9.91155C16.175 10.3228 17.1975 11.6311 16.5696 13.4878C16.1504 14.7253 15.3269 15.4799 14.0992 15.7515C13.9586 15.7965 13.8883 15.869 13.8883 15.969C13.8883 16.119 14.0783 16.1353 14.3525 16.8382C14.5358 17.3065 14.5492 18.6447 14.3925 20.8528C13.9961 20.9536 13.6878 21.0214 13.4675 21.0561C13.0771 21.1174 12.6529 21.152 12.2362 21.1649C11.8196 21.1782 11.675 21.177 11.0987 21.1232C10.7266 21.0892 10.3571 21.0302 9.9929 20.9465Z",fill:"#9CA3AF"}))),QQ=e=>R.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},R.createElement("path",{d:"M7.8 2H16.2C19.4 2 22 4.6 22 7.8V16.2C22 17.7383 21.3889 19.2135 20.3012 20.3012C19.2135 21.3889 17.7383 22 16.2 22H7.8C4.6 22 2 19.4 2 16.2V7.8C2 6.26174 2.61107 4.78649 3.69878 3.69878C4.78649 2.61107 6.26174 2 7.8 2ZM7.6 4C6.64522 4 5.72955 4.37928 5.05442 5.05442C4.37928 5.72955 4 6.64522 4 7.6V16.4C4 18.39 5.61 20 7.6 20H16.4C17.3548 20 18.2705 19.6207 18.9456 18.9456C19.6207 18.2705 20 17.3548 20 16.4V7.6C20 5.61 18.39 4 16.4 4H7.6ZM17.25 5.5C17.5815 5.5 17.8995 5.6317 18.1339 5.86612C18.3683 6.10054 18.5 6.41848 18.5 6.75C18.5 7.08152 18.3683 7.39946 18.1339 7.63388C17.8995 7.8683 17.5815 8 17.25 8C16.9185 8 16.6005 7.8683 16.3661 7.63388C16.1317 7.39946 16 7.08152 16 6.75C16 6.41848 16.1317 6.10054 16.3661 5.86612C16.6005 5.6317 16.9185 5.5 17.25 5.5ZM12 7C13.3261 7 14.5979 7.52678 15.5355 8.46447C16.4732 9.40215 17 10.6739 17 12C17 13.3261 16.4732 14.5979 15.5355 15.5355C14.5979 16.4732 13.3261 17 12 17C10.6739 17 9.40215 16.4732 8.46447 15.5355C7.52678 14.5979 7 13.3261 7 12C7 10.6739 7.52678 9.40215 8.46447 8.46447C9.40215 7.52678 10.6739 7 12 7ZM12 9C11.2044 9 10.4413 9.31607 9.87868 9.87868C9.31607 10.4413 9 11.2044 9 12C9 12.7956 9.31607 13.5587 9.87868 14.1213C10.4413 14.6839 11.2044 15 12 15C12.7956 15 13.5587 14.6839 14.1213 14.1213C14.6839 13.5587 15 12.7956 15 12C15 11.2044 14.6839 10.4413 14.1213 9.87868C13.5587 9.31607 12.7956 9 12 9Z",fill:"#9CA3AF"})),KQ=e=>R.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},R.createElement("path",{d:"M5.679 18.123C3.093 16.566 1.5 14.112 1.5 11.405C1.501 6.701 6.249 3 12.001 3C17.753 3 22.501 6.701 22.501 11.405C22.501 16.109 17.753 19.81 12.001 19.81C11.559 19.81 11.1197 19.7883 10.683 19.745L6.918 22.203C6.303 22.529 5.961 22.628 5.433 22.269C4.813 21.845 4.837 21.377 5.051 20.709L5.679 18.123ZM3.5 11.405C3.5 13.537 4.918 15.528 7.281 16.725L7.987 17.084L7.801 17.854L7.4 19.502L10.2 17.672L10.565 17.718C11.039 17.7793 11.5173 17.81 12 17.81C16.741 17.81 20.5 14.88 20.5 11.405C20.5 7.93 16.742 5 12.001 5C7.26 5 3.5 7.93 3.5 11.405ZM17.908 11.059L19.422 13.214C19.4577 13.2648 19.483 13.322 19.4965 13.3826C19.51 13.4431 19.5115 13.5057 19.5008 13.5668C19.4901 13.6279 19.4675 13.6863 19.4342 13.7387C19.401 13.791 19.3578 13.8363 19.307 13.872C19.2562 13.9077 19.199 13.933 19.1384 13.9465C19.0779 13.96 19.0153 13.9615 18.9542 13.9508C18.8931 13.9401 18.8347 13.9175 18.7823 13.8842C18.73 13.851 18.6847 13.8078 18.649 13.757L17.221 11.724L16.794 12.137V13.5C16.794 13.6252 16.7443 13.7452 16.6558 13.8338C16.5672 13.9223 16.4472 13.972 16.322 13.972C16.1968 13.972 16.0768 13.9223 15.9882 13.8338C15.8997 13.7452 15.85 13.6252 15.85 13.5V12.061C15.8334 11.9879 15.8334 11.9121 15.85 11.839V9.282C15.85 9.15682 15.8997 9.03676 15.9882 8.94825C16.0768 8.85973 16.1968 8.81 16.322 8.81C16.4472 8.81 16.5672 8.85973 16.6558 8.94825C16.7443 9.03676 16.794 9.15682 16.794 9.282V10.824L18.722 8.958C18.8128 8.87613 18.9319 8.83271 19.0541 8.83689C19.1763 8.84107 19.2922 8.89252 19.3772 8.98041C19.4622 9.06829 19.5098 9.18575 19.51 9.30804C19.5101 9.43033 19.4628 9.54791 19.378 9.636L17.908 11.059ZM14.95 12.984C15.0752 12.984 15.1952 13.0337 15.2838 13.1222C15.3723 13.2108 15.422 13.3308 15.422 13.456C15.422 13.5812 15.3723 13.7012 15.2838 13.7898C15.1952 13.8783 15.0752 13.928 14.95 13.928H13.018C12.956 13.9281 12.8946 13.916 12.8374 13.8923C12.7801 13.8686 12.7281 13.8339 12.6843 13.79C12.6405 13.7461 12.6059 13.694 12.5823 13.6367C12.5587 13.5794 12.5467 13.518 12.547 13.456V9.297C12.5441 9.23325 12.5541 9.16958 12.5765 9.10981C12.5988 9.05005 12.6331 8.99544 12.6772 8.9493C12.7212 8.90315 12.7742 8.86641 12.8329 8.84132C12.8915 8.81622 12.9547 8.80328 13.0185 8.80328C13.0823 8.80328 13.1455 8.81622 13.2041 8.84132C13.2628 8.86641 13.3158 8.90315 13.3598 8.9493C13.4039 8.99544 13.4382 9.05005 13.4605 9.10981C13.4829 9.16958 13.4929 9.23325 13.49 9.297V12.984H14.95ZM9.093 11.893H10.427L9.789 10.185L9.093 11.893ZM11.616 12.38L11.961 13.305C11.9848 13.3635 11.9967 13.4262 11.9958 13.4893C11.995 13.5525 11.9815 13.6148 11.9561 13.6727C11.9308 13.7305 11.8941 13.7827 11.8482 13.8261C11.8023 13.8694 11.7481 13.9032 11.689 13.9253C11.6298 13.9474 11.5668 13.9574 11.5037 13.9546C11.4406 13.9519 11.3787 13.9366 11.3216 13.9095C11.2645 13.8825 11.2135 13.8442 11.1715 13.7971C11.1295 13.7499 11.0973 13.6948 11.077 13.635L10.779 12.836H8.709L8.377 13.649C8.35356 13.7064 8.31904 13.7586 8.27543 13.8026C8.23181 13.8467 8.17994 13.8817 8.12279 13.9057C8.06563 13.9297 8.00431 13.9422 7.94232 13.9425C7.88033 13.9428 7.81889 13.9309 7.7615 13.9075C7.70411 13.8841 7.6519 13.8495 7.60785 13.8059C7.56381 13.7623 7.52878 13.7104 7.50478 13.6533C7.48077 13.5961 7.46826 13.5348 7.46796 13.4728C7.46765 13.4108 7.47956 13.3494 7.503 13.292L9.165 9.217C9.21605 9.08531 9.30573 8.97215 9.42227 8.89237C9.53882 8.81259 9.67677 8.76994 9.818 8.77C9.95833 8.7758 10.0936 8.8243 10.2056 8.90899C10.3176 8.99369 10.4012 9.11057 10.445 9.244L11.491 12.044C11.5723 12.1308 11.6177 12.2451 11.618 12.364L11.616 12.38ZM8.294 9.302C8.294 9.562 8.084 9.774 7.823 9.774H6.683V13.51C6.683 13.6353 6.63322 13.7555 6.54461 13.8441C6.456 13.9327 6.33581 13.9825 6.2105 13.9825C6.08518 13.9825 5.965 13.9327 5.87639 13.8441C5.78778 13.7555 5.738 13.6353 5.738 13.51V9.774H4.578C4.45282 9.774 4.33276 9.72427 4.24425 9.63575C4.15573 9.54724 4.106 9.42718 4.106 9.302C4.106 9.17682 4.15573 9.05676 4.24425 8.96825C4.33276 8.87973 4.45282 8.83 4.578 8.83H7.823C8.083 8.83 8.294 9.041 8.294 9.302Z",fill:"#9CA3AF"})),GQ=[{title:"",children:[{title:"ALLCLL ",href:"/about"},{title:"  ",href:"/faq"},{title:"  ",href:"https://forms.gle/bCDTVujEHunnvHe88"},{title:"allcllclla@google.com"}]}],YQ=[{icon:h.jsx(qQ,{className:"w-8 h-8 m-2"}),title:" github",href:"https://github.com/allcll"},{icon:h.jsx(KQ,{className:"w-8 h-8 m-2"}),title:" ",href:"https://open.kakao.com/o/g3MztXfh"},{icon:h.jsx(QQ,{className:"w-8 h-8 m-2"}),title:" instagram",href:"https://www.instagram.com/sejong_allcll"}];function B2(){return h.jsxs("footer",{className:"bg-white text-center text-sm text-gray-500",children:[h.jsxs("div",{className:"mx-auto max-w-7xl px-4 md:px-16 py-12 grid md:grid-cols-3 gap-6 text-center md:text-left",children:[h.jsxs("div",{className:"mx-auto md:mx-0",children:[h.jsxs("div",{className:"flex items-center mb-2 h-fit justify-center md:justify-start",children:[h.jsx("img",{src:"/ci.svg",className:"w-6 h-6 mr-2",alt:"ci"}),h.jsx("img",{src:"/logo-name.svg",alt:"logo",className:"h-5"})]}),h.jsx("ul",{className:"flex items-center",children:YQ.map(({icon:e,title:t,href:n})=>h.jsx("li",{children:h.jsx("a",{href:n,className:"h-fit rounded-md hover:bg-gray-200","aria-label":t,title:t,children:e})},t))})]}),h.jsxs("div",{children:[h.jsx("h3",{className:"font-bold mb-4",children:""}),h.jsx("ul",{children:f9.map(({title:e,path:t,end:n})=>h.jsx("li",{className:"mb-1",children:h.jsx(du,{to:t,end:n,className:"hover:text-blue-500 hover:underline hover:font-bold",children:e})},e))})]}),GQ.map((e,t)=>h.jsxs("div",{className:"mb-4",children:[h.jsx("h3",{className:"font-bold mb-4",children:e.title}),h.jsx("ul",{children:e.children.map((n,r)=>h.jsx("li",{className:"mb-1",children:n.href?n.href.startsWith("http")?h.jsx("a",{className:"hover:text-blue-500 hover:underline hover:font-bold",href:n.href,target:"_blank",children:n.title}):h.jsx(ti,{to:n.href,className:"hover:text-blue-500 hover:underline hover:font-bold",children:n.title}):h.jsx("p",{children:n.title})},r))})]},t))]}),h.jsx("p",{className:"pb-12",children:" 2025 ALLCLL. All rights reserved."})]})}const JQ=1.5*1e3,C9=5,Ci=ri(e=>({needCount:0,alwaysReload:!1,forceReloadNumber:0,errorCount:0,isError:!1,isPending:!0,addNeedCount:()=>e(t=>({needCount:t.needCount+1})),deleteNeedCount:()=>e(t=>({needCount:Math.max(0,t.needCount-1)})),setAlwaysReload:t=>e({alwaysReload:t}),setForceReload:()=>e(t=>({forceReloadNumber:t.forceReloadNumber+1,errorCount:0,isError:!1})),setError:()=>e(({errorCount:t,isPending:n})=>({errorCount:t+1,isError:t+1>=C9,isPending:n||t>1})),resetError:()=>e({errorCount:0,isError:!1,isPending:!1})}));function k9(e,t){let n;try{n=e()}catch{return}return{getItem:i=>{var s;const o=l=>l===null?null:JSON.parse(l,void 0),a=(s=n.getItem(i))!=null?s:null;return a instanceof Promise?a.then(o):o(a)},setItem:(i,s)=>n.setItem(i,JSON.stringify(s,void 0)),removeItem:i=>n.removeItem(i)}}const Fw=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(r){return Fw(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return Fw(r)(n)}}}},XQ=(e,t)=>(n,r,i)=>{let s={storage:k9(()=>window.localStorage),partialize:S=>S,version:0,merge:(S,C)=>({...C,...S}),...t},o=!1,a=0;const l=new Set,c=new Set;let f=s.storage;if(!f)return e((...S)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),n(...S)},r,i);const p=()=>{const S=s.partialize({...r()});return f.setItem(s.name,{state:S,version:s.version})},g=i.setState;i.setState=(S,C)=>(g(S,C),p());const y=e((...S)=>(n(...S),p()),r,i);i.getInitialState=()=>y;let x;const _=()=>{var S,C;if(!f)return;const I=++a;o=!1,l.forEach(z=>{var U;return z((U=r())!=null?U:y)});const A=((C=s.onRehydrateStorage)==null?void 0:C.call(s,(S=r())!=null?S:y))||void 0;return Fw(f.getItem.bind(f))(s.name).then(z=>{if(z)if(typeof z.version=="number"&&z.version!==s.version){if(s.migrate){const U=s.migrate(z.state,z.version);return U instanceof Promise?U.then(O=>[!0,O]):[!0,U]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,z.state];return[!1,void 0]}).then(z=>{var U;if(I!==a)return;const[O,N]=z;if(x=s.merge(N,(U=r())!=null?U:y),n(x,!0),O)return p()}).then(()=>{I===a&&(A?.(x,void 0),x=r(),o=!0,c.forEach(z=>z(x)))}).catch(z=>{I===a&&A?.(void 0,z)})};return i.persist={setOptions:S=>{s={...s,...S},S.storage&&(f=S.storage)},clearStorage:()=>{f?.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>_(),hasHydrated:()=>o,onHydrate:S=>(l.add(S),()=>{l.delete(S)}),onFinishHydration:S=>(c.add(S),()=>{c.delete(S)})},s.skipHydration||_(),x||y},$2=XQ,ZQ=()=>{if(!(typeof window>"u"||typeof navigator>"u"))return navigator.vibrate||navigator.webkitVibrate||navigator.mozVibrate||navigator.msVibrate},fh=ZQ(),z2={canNotify(){return!!fh},isGranted(){return this.canNotify()},requestPermission(e){this.isGranted()?e?.("granted"):e?.("denied")},getDeniedMessage(){return this.canNotify()?[]:["     ."]},show(e,t){const n=cp(_l.VIBRATE);fh&&n&&fh.call(navigator,[200])},close(e){fh&&fh.call(navigator,0)}};var Wi=(e=>(e[e.NONE=0]="NONE",e[e.BROWSER=1]="BROWSER",e[e.TOAST=2]="TOAST",e[e.BOTH=3]="BOTH",e))(Wi||{}),_l=(e=>(e[e.NONE=0]="NONE",e[e.VIBRATE=1]="VIBRATE",e[e.SOUND=2]="SOUND",e[e.ALL=3]="ALL",e))(_l||{});const eK=()=>/Mobi|Android/i.test(navigator.userAgent),yk=()=>{const e="Notification"in window,t=eK();return 1*Number(e)+2*Number(t)},vk=()=>{const e=z2.canNotify();return 1*Number(e)+2},Do=ri()($2(e=>({alarmType:yk(),subAlarmType:vk(),saveSettings:t=>e(n=>({...n,...t})),resetSettings:()=>e(()=>({alarmType:yk(),subAlarmType:vk()}))}),{name:"AlarmSettings",partialize:e=>({alarmType:e.alarmType,subAlarmType:e.subAlarmType})}));function Bw(e){return!!(Do.getState().alarmType&e)}function cp(e){return!!(Do.getState().subAlarmType&e)}const Ll=ri(e=>({isOpen:!1,isPermitted:!1,open:()=>e({isOpen:!0}),close:()=>e({isOpen:!1}),setPermitted:t=>e({isPermitted:t})}));function tK(){return h.jsxs(h.Fragment,{children:["  ? ",h.jsx(ti,{to:"/faq#0",className:"text-blue-500 underline hover:text-blue-600",children:" "})]})}const Ng=()=>Notification??window.Notification,Ts={canNotify(){return"Notification"in window||!!Ng()},isGranted(){return Ts.canNotify()&&Ng().permission==="granted"},requestPermission(e){const t=Ng();if(!Ts.canNotify()){alert("      .   ");return}if(!Ts.isGranted()){t.requestPermission().then(n=>{e&&e(n),Ll.getState().setPermitted(n==="granted")});return}e&&e(t.permission)},getDeniedMessage(){return Ts.canNotify()?Ts.isGranted()?[]:["   .    "]:["     "]},show(e,t){const n=Ts.canNotify(),r=Bw(Wi.BROWSER),i=iy.getState().setBanner,s=Ng();n&&r&&s.permission==="granted"&&(rK(i),navigator.serviceWorker.ready.then(function(o){o.showNotification(e,{badge:"/ci.svg",tag:t}).then()}))},close(e){!Ts.canNotify()||!Ts.isGranted()||navigator.serviceWorker.ready.then(function(t){t.getNotifications({tag:e}).then(function(n){n.forEach(function(r){r.close()})})})}},nK=1e3*60*60*24;function rK(e){const t="alarm-check",n=localStorage.getItem(t);n&&Date.now()-Number(n)<100*nK||setTimeout(()=>{e(tK(),()=>{localStorage.setItem(t,Date.now().toString())})},5e3)}const $w={canNotify(){return!0},isGranted(){return!0},requestPermission(e){},getDeniedMessage(){return[]},show(e,t){const n=uy.getState().addToast;n&&n(e,t)},close(e){const t=uy.getState().clearToast;t(e)}},iK="/notification.mp3";let oo=null;const sK=()=>{typeof Audio<"u"&&!oo&&(oo=new Audio(iK),oo.preload="auto",oo.volume=1,oo.load())};sK();const oK={canNotify(){return typeof Audio<"u"},isGranted(){return this.canNotify()},requestPermission(e){this.isGranted()?e?.("granted"):e?.("denied")},getDeniedMessage(){return this.canNotify()?[]:["     ."]},show(e,t){this.canNotify()&&oo&&(oo.currentTime=0,oo.play().catch(n=>{console.warn("Failed to play notification sound:",n)}))},close(e){oo&&(oo.pause(),oo.currentTime=0)}},e1="";async function t1(e,t){return await fetch(e1+e,{credentials:"include",...t})}async function Na(e,t){const n=await fetch(e1+e,{credentials:"include",...t,headers:{"Content-Type":"application/json",...t?.headers}});if(!n.ok)throw new Error(await n.text());return await n.json()}async function aK(e,t,n){const r=await fetch(e1+e,{method:"DELETE",credentials:"include",headers:{"Content-Type":"application/json"},body:t?JSON.stringify(t):void 0,...n});if(!r.ok)throw new Error(await r.text());return r.status===204?null:await r.json()}function lK(e,t){return new EventSource(e1+e,{withCredentials:!0,...t})}async function n1(e,t){const n=await fetch(e,{credentials:"include",...t});if(!n.ok)throw new Error(await n.text());return await n.json()}const cK=async()=>await Na("/api/subjects"),uK=async e=>await n1(`/${e}/subjects.json`),dK=async()=>fK,r1=[{semesterCode:"SPRING_26",semesterValue:"2026-1"},{semesterCode:"WINTER_25",semesterValue:"2025-"},{semesterCode:"FALL_25",semesterValue:"2025-2"},{semesterCode:"SUMMER_25",semesterValue:"2025-"},{semesterCode:"SPRING_25",semesterValue:"2025-1"}],As=r1[0],fK={semesterCode:"SPRING_26",semesterValue:"2026-1",services:[{id:"timetable",startDate:"2026-01-23",endDate:"2099-12-31",message:null},{id:"baskets",startDate:"2026-01-23",endDate:"2099-12-31",message:null},{id:"simulation",startDate:"2026-01-23",endDate:"2099-12-31",message:null},{id:"live",startDate:"2026-02-09",endDate:"2026-03-09",message:null},{id:"preSeat",startDate:"2026-02-10",endDate:"2026-03-09",message:null}]},i1={subjectId:-1,subjectName:"",subjectCode:"",classCode:"",professorName:"",deptCd:"",manageDeptNm:"",studentYear:"",lesnTime:"",lesnRoom:"",tmNum:"",remark:null,curiTypeCdNm:"",curiLangNm:null,isDeleted:!0};function go(e){e=e??As.semesterCode;const t=e===As.semesterCode;return po({queryKey:["subjects",e],queryFn:()=>t?cK():uK(e),staleTime:1/0,select:n=>n.subjectResponses})}function hK(e){return e.getQueryData(["subjects",As.semesterCode])?.subjectResponses??[]}let bk=!1;function od(){const e=[],t=Bw(Wi.BROWSER),n=Bw(Wi.TOAST),r=cp(_l.VIBRATE),i=cp(_l.SOUND);return t&&e.push(Ts),n&&e.push($w),r&&e.push(z2),i&&e.push(oK),e}const cs={canNotify(){return od().every(e=>e.canNotify())},isGranted(){const e=od().every(t=>t.isGranted());return Ll.getState().setPermitted(e),e},requestPermission(e){cs.isGranted()||(od().forEach(t=>t.requestPermission(e)),Ll.getState().open())},getDeniedMessage(){return od().flatMap(e=>e.getDeniedMessage())},show(e,t){Do.getState().alarmType!==Wi.NONE&&od().forEach(r=>r.show(e,t))},close(e){od().forEach(t=>t.close(e))}};function pK(e,t,n){const{alwaysReload:r}=Ci.getState();if(!(!e||!t||!r)){for(const i of t)if(e.some(o=>o.subjectId===i.subjectId&&o.seatCount===0&&i.seatCount>0)){const o=mK(n,i.subjectId);if(!o){cs.show("unknown subject  ");return}cs.show(`${o.subjectCode}-${o.classCode} ${o.subjectName}  `)}}}function mK(e,t){return hK(e).find(r=>r.subjectId===t)}let Og=null,xk=1;function wk(e){const t="global-notification_"+xk,n="global-notification_"+ ++xk;Og&&(clearTimeout(Og),cs.close(t),Og=null),cs.show(e,n),Og=setTimeout(()=>cs.close(n),3e3)}function gK(){const e=Ci(i=>i.alwaysReload),t=Ci(i=>i.setAlwaysReload),n=e;return R.useEffect(()=>{bk||(cs.isGranted()&&(wk("  .     "),t(!0)),bk=!0)},[]),{isAlarm:n,changeAlarm:()=>{if(!n){if(Do.getState().alarmType===Wi.NONE){if(!confirm("   ?"))return;Do.getState().resetSettings()}cs.requestPermission()}const i=n?"  ":"  ";t(!n),wk(i)}}}var U2=(e=>(e.IDLE="idle",e.LIVE="live",e))(U2||{});const yK=3e3;let Pg=null;const Ad=ri(e=>({lastUpdate:new Date,sseState:"live",updated:()=>{e({lastUpdate:new Date,sseState:"live"}),Pg&&clearInterval(Pg),Pg=setTimeout(()=>{e({sseState:"idle"}),Pg=null},yK)}}));function _k(e,t){const n=[];for(const r of t){const i=e.find(o=>o.subjectId===r.subjectId);!i||i.seatCount!==r.seatCount||i.queryTime!==r.queryTime?n.push(r):n.push(i)}return n}function vK(e,t){const n=new Set;[...e,...t].forEach(i=>{n.add(i.subjectId)});const r=[];return n.forEach(i=>{const s=e.find(l=>l.subjectId===i),o=t.find(l=>l.subjectId===i);o&&(!s||s.queryTime!==o.queryTime||s.seatCount!==o.seatCount)?r.push(o):s&&r.push(s)}),r}var s1=(e=>(e.NON_MAJOR="nonMajorSeats",e.MAJOR="majorSeats",e.PINNED="pinSeats",e))(s1||{});let Ag=!1;const bK=()=>{const e=fs(),t=Ci(l=>l.needCount),n=Ci(l=>l.alwaysReload),r=Ci(l=>l.forceReloadNumber),i=Ci(l=>l.errorCount),s=Ci(l=>l.setError),o=Ci(l=>l.resetError),a=Ci(l=>l.isError);R.useEffect(()=>{const l=n||t>0;Ag||!l||i>=C9||(Ag=!0,xK(e,o).then(()=>{o(),Ag=!1}).catch(()=>{Ag=!1,i===0?s():setTimeout(s,JQ)}))},[n,t,e,s,r,o,i]),R.useEffect(()=>{a&&cs.show(" .  .")},[a])},xK=(e,t)=>new Promise((n,r)=>{const i=lK("/api/connect");return i.addEventListener("nonMajorSeats",s=>{const o=JSON.parse(s.data);if(!o)return;const a=o.seatResponses??[];e.setQueryData(["nonMajorSeats"],(l=[])=>_k(l,a)),Ad.getState().updated()}),i.addEventListener("majorSeats",s=>{const o=JSON.parse(s.data);if(!o)return;const a=o.seatResponses??[];e.setQueryData(["majorSeats"],(l=[])=>_k(l,a)),Ad.getState().updated()}),i.addEventListener("pinSeats",s=>{const o=JSON.parse(s.data);if(!o)return;const a=o.seatResponses??[];e.setQueryData(["pinSeats"],(l=[])=>{const c=vK(l,a);return pK(l,c,e),c}),Ad.getState().updated()}),i.onopen=()=>{t(),Ad.getState().updated()},i.onerror=s=>{i.close(),r(new Error("SSE connection error: "+(s.type??"Unknown error")))},()=>{i.close(),n("SSE connection closed")}}),H2=e=>{const t=fs(),n=Ci(l=>l.addNeedCount),r=Ci(l=>l.deleteNeedCount),i=Ci(l=>l.isPending),s=Ci(l=>l.isError),o=Ci(l=>l.setForceReload);return R.useEffect(()=>{const l=()=>{document.visibilityState==="visible"?n():r()};return n(),document.addEventListener("visibilitychange",l),()=>{r(),document.removeEventListener("visibilitychange",l)}},[n,r]),{...po({queryKey:[e],queryFn:()=>Promise.resolve(t.getQueryData([e])??[])}),isPending:i,isError:s,refetch:o}},Sk={idx:-1,key:""};function W2(){const e=ho(),t=R.useRef(Sk);R.useEffect(()=>{const n=window.history.state;(!n||n.idx>=t.current.idx)&&window.scrollTo(0,0),t.current=n??Sk},[e.pathname]),bK()}function Ek(){return W2(),h.jsxs(h.Fragment,{children:[h.jsx(ni,{children:h.jsx("title",{children:"(ALLCLL) |   "})}),h.jsx(F2,{}),h.jsx(P2,{}),h.jsx(_9,{}),h.jsx(V_,{}),h.jsx(B2,{})]})}function yu(e){const t=po({queryKey:["serviceSemester"],queryFn:dK,staleTime:1/0,select:r=>r?{...r,services:r.services.map(wK)}:null});if(!e||!t.data)return t;const n=t.data.services.find(r=>r.id===e);return{...t,data:{semesterCode:t.data.semesterCode,semesterValue:t.data.semesterValue,service:n}}}const wK=e=>{const t=new Date,n=new Date(e.startDate),r=new Date(e.endDate);n.setHours(0,0,0,0),r.setHours(23,59,59,999);const i=n<=t&&t<=r;return{id:e.id,startDate:n,endDate:r,withinPeriod:i,startDateStr:e.startDate,endDateStr:e.endDate,message:e.message}},_K=e=>R.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:17.971202850341797,height:16.003124237060547,viewBox:"0 0 17.971202850341797 16.003124237060547",...e},R.createElement("g",{transform:"matrix(1,0,0,-1,0,32.006248474121094)"},R.createElement("path",{d:"M17.9688,24.003124237060547Q17.9376,23.596874237060547,17.6568,23.315624237060547Q17.3761,23.034374237060547,16.9705,23.003124237060547L15.9723,23.003124237060547L16.0035,18.003124237060547Q15.9723,17.878124237060547,15.9723,17.753124237060547L15.9723,17.253124237060547Q15.9723,16.721874237060547,15.5979,16.378124237060547Q15.2548,16.003124237060547,14.7244,16.003124237060547L14.2253,16.003124237060547Q14.1629,16.003124237060547,14.1317,16.003124237060547Q14.0693,16.003124237060547,14.0069,16.003124237060547L12.9775,16.003124237060547L12.2288,16.003124237060547Q11.6984,16.003124237060547,11.3553,16.378124237060547Q10.9809,16.721874237060547,10.9809,17.253124237060547L10.9809,18.003124237060547L10.9809,20.003124237060547Q10.9809,20.440624237060547,10.7002,20.721874237060547Q10.4194,21.003124237060547,9.98267,21.003124237060547L7.98614,21.003124237060547Q7.54939,21.003124237060547,7.26863,20.721874237060547Q6.98787,20.440624237060547,6.98787,20.003124237060547L6.98787,18.003124237060547L6.98787,17.253124237060547Q6.98787,16.721874237060547,6.61352,16.378124237060547Q6.27036,16.003124237060547,5.74003,16.003124237060547L4.99133,16.003124237060547L3.99307,16.003124237060547Q3.96187,16.003124237060547,3.93068,16.003124237060547Q3.89948,16.003124237060547,3.86828,16.003124237060547Q3.80589,16.003124237060547,3.7435,16.003124237060547L3.24437,16.003124237060547Q2.71404,16.003124237060547,2.37088,16.378124237060547Q1.99653,16.721874237060547,1.99653,17.253124237060547L1.99653,20.753124237060547Q1.99653,20.784374237060547,1.99653,20.846874237060547L1.99653,23.003124237060547L0.998267,23.003124237060547Q0.561525,23.034374237060547,0.280763,23.315624237060547Q0,23.596874237060547,0,24.034374237060547Q0,24.440624237060547,0.311958,24.784374237060547L8.29809,31.753124237060547Q8.64125,32.034324237060545,8.9844,32.00312423706055Q9.35875,32.00312423706055,9.63952,31.78442423706055L17.6257,24.753124237060547Q18,24.440624237060547,17.9688,24.003124237060547Z",fill:"#FFFFFF",fillOpacity:1,style:{mixBlendMode:"passthrough"}})));function SK({data:e}){const t=e.service?.endDate&&e.service.endDate<new Date;return h.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen min-w-[250px] bg-gray-100 px-4",children:h.jsxs("main",{className:"text-center",children:[h.jsx(Vt,{level:1,children:t?"  .":" ."}),h.jsxs(Jn,{children:["   .",h.jsx("br",{}),"       :)"]}),h.jsxs(Wn,{className:"mt-2",children:[t?h.jsxs(h.Fragment,{children:[h.jsxs(Vt,{level:2,children:[e.semesterValue,"  ."]}),h.jsxs(Jn,{children:["     .",h.jsx("br",{})]}),h.jsx(Jn,{children:"    ."})]}):h.jsxs(h.Fragment,{children:[h.jsx(Vt,{level:2,children:"   "}),h.jsxs(Jn,{children:[e.semesterValue," "]}),h.jsxs(Jn,{children:[e.service?.startDateStr," ~ ",e.service?.endDateStr]})]}),h.jsx("hr",{className:"my-4 border-gray-200"}),h.jsx(Vt,{level:3,children:""}),h.jsx(Jn,{className:"flex items-center justify-center gap-2 mt-2",children:"allcllclla@google.com"}),h.jsx(Mt,{variant:"text",size:"medium",textColor:"primary",asChild:!0,children:h.jsx("a",{href:"https://forms.gle/bCDTVujEHunnvHe88",target:"_blank",children:"  "})}),h.jsx(Mt,{variant:"text",size:"medium",textColor:"primary",asChild:!0,children:h.jsx("a",{href:"https://open.kakao.com/o/g3MztXfh",target:"_blank",children:" "})})]}),h.jsx(je,{className:"mt-6",justify:"justify-center",children:h.jsx(Mt,{variant:"primary",size:"medium",asChild:!0,children:h.jsxs(ti,{to:"/",children:[h.jsx(_K,{className:"w-4 h-4"}),"  "]})})})]})})}function T9({serviceId:e,children:t}){const{data:n,error:r}=yu(e);return r&&console.error("Semester service error:",r),!n||!("service"in n)||!n.service||n.service.withinPeriod?t:h.jsx(SK,{data:n})}function Ck({serviceId:e}){return W2(),h.jsxs(h.Fragment,{children:[h.jsx(F2,{}),h.jsx(P2,{}),h.jsxs(T9,{serviceId:e,children:[h.jsx(_9,{}),h.jsx(V_,{})]}),h.jsx(B2,{})]})}const EK=[{name:"  ",children:[{name:"  ",children:[{name:"",path:"/simulation"},{name:" ",path:"/simulation/logs"},{name:" ",path:"#"},{name:"/ ",path:"#"},{name:"/",path:"#"},{name:"(,)",path:"#"}]}]}],zw=[{title:"",urlPath:"/simulation"},{title:" ",urlPath:"/simulation/logs"},{title:" ",urlPath:"/simulation/logs/"},{title:" ",urlPath:"/simulation/interest"},{title:" ",urlPath:"/simulation/admin"}];({...zw[0],realUrl:zw[0].urlPath});function j9({className:e,essential:t,disabled:n,children:r}){const s=(t?"relative inline-block w-autobefore:content-[''] before:absolute before:top-0 before:left-0 before:w-0 before:h-0 before:z-5 "+(n?"before:border-t-[8px] before:border-t-gray-400 before:border-r-[8px] before:border-r-transparent ":"before:border-t-[8px] before:border-t-red-500 before:border-r-[8px] before:border-r-transparent "):"")+e;return h.jsx("div",{className:s,children:r})}function CK({type:e="text",className:t="",essential:n=!1,disabled:r=!1,...i}){return h.jsx(j9,{className:t,essential:n,disabled:r,children:h.jsx("input",{type:e,className:"relative border-1 border-gray-300 px-2 text-xs w-full h-6 focus:outline-none focus:rounded focus:ring focus:border-gray-800 disabled:bg-gray-100 disabled:cursor-not-allowed ",disabled:r,...i})})}function kK({variant:e="primary",size:t="md",className:n="",children:r,...i}){const s="flex flex-row gap-1 cursor-pointer rounded",o=TK(e),a=jK(t),l=`${s} ${o} ${a} ${n}`.trim();return h.jsx("button",{className:l,...i,children:r})}function TK(e){switch(e){case"primary":return"bg-blue-500 text-white hover:bg-blue-600";case"secondary":return"bg-gray-500 text-white hover:bg-gray-600";case"dark":return"bg-gray-700 text-white hover:bg-gray-900";case"cancel":return"bg-white border border-gray-700 hover:bg-gray-100";case"danger":return"bg-red-500 text-white hover:bg-red-600";default:return""}}function jK(e){switch(e){case"sm":return"px-2 py-0.5 text-xs rounded-xs";case"md":return"px-3 py-2 text-sm";case"lg":return"px-4 py-3 text-base";default:return""}}function IK({className:e="",essential:t=!1,children:n,...r}){const i="px-2 h-6 text-gray-400 text-xs border border-gray-300 disabled:bg-gray-100 disabled:cursor-not-allowed "+e;return h.jsx(j9,{className:e,essential:t,disabled:r.disabled??!1,children:h.jsx("select",{className:i,...r,children:n})})}function RK({children:e,onBackdropClick:t,preventAutoFocus:n,noBorder:r}){const i=R.useRef(null),s=r?"":"border-[3px] border-slate-800 ";R.useEffect(()=>(document.body.style.overflow="hidden",n||i.current?.focus(),()=>{document.body.style.overflow=""}),[n]);const o=a=>{a.stopPropagation(),t&&t()};return h.jsxs("div",{className:"fixed inset-0 z-100 flex items-center justify-center",children:[h.jsx("button",{type:"button","aria-label":"Close dialog",className:"absolute inset-0 bg-black/5 cursor-default",onClick:o}),h.jsx("div",{className:"fixed inset-x-0 top-0 bottom-0 flex items-center justify-center bg-black/5",children:h.jsx("div",{ref:i,role:"dialog",tabIndex:-1,"aria-labelledby":"modal-title","aria-describedby":"modal-desc",className:`
          relative
          max-h-[100vh]
          min-w-[390px]
          bg-white
          overflow-y-auto
          ${s}
        `,onClick:a=>a.stopPropagation(),children:e})})]})}const I9=e=>R.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",...e},R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2px",d:"M4 20L20 4M4 4l16 16"}));function NK({title:e,onClose:t=()=>{}}){return h.jsxs("div",{className:"flex justify-between items-center p-3 border-b border-gray-200 ",children:[h.jsx("h2",{className:"font-semibold sm:text-lg text-sm text-gray-900",children:e}),h.jsx("button",{className:"w-5 h-5 text-gray-500 hover:text-gray-700 cursor-pointer",onClick:t,title:"",tabIndex:-1,children:h.jsx(I9,{className:"w-full h-full"})})]})}function OK({variant:e="primary",className:t="",children:n,...r}){const i="px-4 h-6 text-xs flex items-center gap-1 rounded-xs cursor-pointer",s=PK(e),o=`${i} ${s} ${t}`.trim();return h.jsx("button",{className:o,...r,children:n})}function PK(e){switch(e){case"primary":return"bg-blue-500 text-white hover:bg-blue-600";case"secondary":return"bg-gray-500 text-white hover:bg-gray-600";case"cancel":return"bg-white border border-gray-700 hover:bg-blue-50 hover:border-blue-500";case"danger":return"bg-red-500 text-white hover:bg-red-600";default:return""}}function AK({children:e,className:t="",...n}){const r="flex justify-end gap-4 w-full border-3 border-white "+t;return h.jsx("div",{className:r,...n,children:e})}const MK=Object.assign(RK,{Header:NK,Button:OK,ButtonContainer:AK});function DK({columns:e}){return h.jsx("thead",{className:"bg-gray-100",children:h.jsx("tr",{className:"text-nowrap",children:e.map(t=>h.jsx("th",{className:"border border-gray-300 px-2 py-1",children:t.header},String(t.header)))})})}function LK({columns:e,data:t,keyInfo:n}){return h.jsx("tbody",{children:t.map((r,i)=>{const s=typeof n=="function"?n(r):r[n];return h.jsx("tr",{children:e.map(o=>h.jsx("td",{className:"border border-gray-300 px-2 py-1",children:o.cell(r,i)},`cell-${s}-${o.header}`))},`row-${s}`)})})}function FK(){return h.jsx("tbody",{children:h.jsx("tr",{children:h.jsx("td",{colSpan:99,className:"text-gray-500 py-4",children:h.jsx("div",{className:"min-h-[160px] flex items-center justify-center ",children:h.jsx("p",{className:"bg-gray-100 px-15 py-1 border",children:"  ."})})})})})}function BK({columns:e,data:t,className:n="w-full border border-gray-300 border-t-3 border-t-black text-center text-xs text-nowrap",keyInfo:r,emptyComponent:i=h.jsx(FK,{})}){const s=t&&t.length>0;return h.jsx("div",{className:"overflow-x-auto min-h-[300px] border-gray-300",children:h.jsxs("table",{className:n,children:[h.jsx(DK,{columns:e}),s?h.jsx(LK,{columns:e,data:t,keyInfo:r}):i]})})}function $K({children:e,className:t=""}){const r=`font-semibold pl-2 border-l-4 border-blue-500 ${t}`.trim();return h.jsx("div",{className:r,children:e})}const R9=R.createContext(null);function zK(){const e=R.useContext(R9);if(!e)throw new Error("useTabsContext must be used within a TabsProvider");return e}function UK({tabList:e,initialTabs:t=[],children:n}){const[r,i]=R.useState(t),s=Py(),o=ho();R.useEffect(()=>{if(r.length===0){const f=a(o);l(f),s(f.realUrl)}},[r]),R.useEffect(()=>{l(a(o))},[o.pathname]);function a(f){const p=f.pathname.replace(/\d+/,"");return{title:e.find(g=>g.urlPath===p)?.title||"   ",urlPath:p,realUrl:f.pathname}}const l=f=>{i(p=>{const g=p.findIndex(x=>x.urlPath===f.urlPath);if(g===-1)return[...p,f];const y=[...p];return y[g]=f,y})},c=f=>{i(p=>{const g=p.find(x=>x.urlPath===f);if(!g)return p;const y=p.filter(x=>x.urlPath!==f);if(window.location.pathname.includes(g.realUrl)){const x=y[y.length-1];s(x?x.realUrl:"/")}return y})};return h.jsx(R9.Provider,{value:{tabs:r,setTab:l,deleteTab:c},children:n})}function HK({tab:e,onDelete:t}){return h.jsxs(du,{to:e.realUrl,className:({isActive:n})=>"group px-2.5 flex items-center gap-2.5 w-1/4 sm:w-1/8 border-r-1 border-r-neutral-300 cursor-pointer focus:outline-none"+(n?" mb-[-1px] bg-white border-b-2 border-b-white border-t-4 border-t-blue-500 font-semibold text-blue-500":" text-gray-500 hover:bg-white"),end:!0,children:[h.jsx("span",{className:"flex-1 text-center overflow-hidden text-ellipsis text-nowrap rounded-xs group-focus:outline-black group-focus:outline-2",children:e.title}),h.jsx("button",{tabIndex:-1,"aria-label":" ",className:"w-4 text-gray-700 hover:text-blue-500 cursor-pointer",onClick:n=>{n.preventDefault(),n.stopPropagation(),t(e.urlPath)},children:h.jsx(I9,{className:"w-3 h-3"})})]})}function WK(){const{tabs:e,deleteTab:t}=zK();return h.jsx("div",{className:"flex border-b border-neutral-300 bg-gray-100 text-sm h-12",children:e.map(n=>h.jsx(HK,{tab:n,onDelete:t},n.urlPath))})}function VK({tabList:e,initialTabs:t=[]}){return h.jsx(UK,{tabList:e,initialTabs:t,children:h.jsx(WK,{})})}function qK({menu:e}){return h.jsx("li",{children:e.path==="#"?h.jsx("div",{className:"block px-2 py-2 text-xs text-gray-400 cursor-not-allowed",children:e.name}):h.jsx(du,{to:e.path??"#",className:({isActive:t})=>`block px-2 py-2 text-xs cursor-pointer hover:bg-blue-500 hover:text-white ${t?"bg-blue-500 text-white":""}`,end:!0,children:e.name})})}const QK=!0;function KK({menu:e}){const[t,n]=R.useState(QK);return h.jsxs("li",{className:"",children:[h.jsxs("button",{className:"px-4 py-2 h-10 flex items-center gap-4 w-full border-b border-neutral-300 cursor-pointer hover:bg-gray-100 "+(t?"font-semibold":"font-normal"),onClick:()=>n(r=>!r),children:[h.jsx("span",{children:t?"-":"+"}),h.jsx("span",{children:e.name})]}),t&&e.children&&h.jsx("ul",{className:"ml-1 pl-4 bg-neutral-100 font-semibold",children:e.children.map(r=>h.jsx(qK,{menu:r},r.name))})]})}const GK=!0;function YK({menu:e}){const[t,n]=R.useState(GK);return h.jsxs("li",{children:[h.jsxs("button",{className:"px-4 py-2 h-12 flex items-center justify-between w-full border-b border-neutral-300 cursor-pointer hover:bg-gray-100 "+(t?"font-semibold":"font-normal"),onClick:()=>n(r=>!r),children:[e.name,e.children&&h.jsx("span",{className:"ml-auto text-gray-500",children:t?"":""})]}),t&&e.children&&h.jsx("ul",{className:"",children:e.children.map(r=>h.jsx(KK,{menu:r},r.name))})]})}function JK({menus:e}){const[t,n]=R.useState(!0),[r]=R.useState(/Android|iPhone/i.test(navigator.userAgent)),i=()=>{n(s=>!s)};return h.jsx("aside",{className:(t?"relative z-10":"relative bg-blue-50 z-10")+(!t||r?" w-[20px] min-w-[20px] h-[calc(100vh-60px)]":" w-[230px] min-w-[230px]"),children:t?h.jsxs("div",{className:r?"absolute w-[300px] min-w-[300px] h-full bg-white shadow-gray-800 shadow-md":"bg-white",children:[h.jsxs("div",{className:"h-12 bg-blue-500 text-white text-lg font-semibold flex items-center justify-between px-4",children:[h.jsx("span",{children:""}),h.jsx("button",{className:"text-white hover:text-gray-200 cursor-pointer",onClick:i,children:"<"})]}),h.jsx("ul",{className:"flex flex-col text-sm",children:e.map(s=>h.jsx(YK,{menu:s},s.name))})]}):h.jsx("div",{children:h.jsx("button",{className:"w-full h-12 bg-blue-500 text-white text-lg font-semibold text-center cursor-pointer hover:text-gray-200",onClick:i,children:">"})})})}const hn={Input:CK,Button:kK,Select:IK,Modal:MK,SectionHeader:$K,Tab:VK,AsideMenu:JK,DataTable:BK};function XK(){return W2(),h.jsxs(h.Fragment,{children:[h.jsx(F2,{}),h.jsx(P2,{}),h.jsx(T9,{serviceId:"simulation",children:h.jsx("div",{className:"w-full bg-white text-sm text-gray-800 font-sans",children:h.jsxs("div",{className:"flex",children:[h.jsx(hn.AsideMenu,{menus:EK}),h.jsxs("div",{className:"flex-auto min-w-0",children:[h.jsx(hn.Tab,{tabList:zw}),h.jsx("main",{className:"flex-1 p-4 space-y-4 mx-auto max-w-screen-2xl overflow-x-hidden",children:h.jsx(V_,{})})]})]})})}),h.jsx(B2,{})]})}function Yl({bgColor:e,className:t,children:n}){const r=e??"even:bg-white ",i=t?` ${t}`:"";return h.jsx("section",{className:r,children:h.jsx("div",{className:`mx-auto max-w-7xl px-4 md:px-8 py-10 ${i}`,children:n})})}const ZK="02 10()",eG="02 13()";function tG(){const{data:e}=yu();return h.jsxs(Yl,{className:"flex flex-col md:flex-row items-center justify-between",bgColor:"bg-banner-skysoft",children:[h.jsxs("div",{className:"max-w-xl",children:[h.jsxs("div",{className:"flex flex-row gap-2 items-center",children:[h.jsx("img",{src:"/calendar.png",alt:"2026-1    ",className:"w-10 h-10"}),h.jsxs("span",{className:"italic text-xs text-stone-500 ",children:[e?.semesterValue,"    ",h.jsx("br",{}),ZK," ~ ",eG]})]}),h.jsx("h1",{className:"text-lg mt-10 sm:text-xl md:text-2xl leading-snug font-bold mb-3 ",children:"      "}),h.jsxs("div",{className:"flex flex-row justify-start items-center text-xl sm:text-2xl md:text-4xl leading-snug font-bold mb-3",children:[h.jsx("img",{src:"/logo-name.svg",alt:"(ALLCLL)    ",className:"w-20 sm:w-32 md:w-40 lg:w-48 mr-2 animate-updown"})," !"]}),h.jsx(Jn,{children:"    ,    (ALLCLL)  ."}),h.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mt-4",children:[h.jsx(Mt,{variant:"primary",size:"medium",asChild:!0,children:h.jsx(ti,{to:"/live",children:"  "})}),h.jsx(Mt,{variant:"outlined",size:"medium",asChild:!0,children:h.jsx(ti,{to:"/simulation",children:"  "})})]})]}),h.jsx("img",{src:"/summer-banner.png",alt:"","aria-hidden":"true",className:"w-90 hidden sm:block  mt-8 md:mt-4"})]})}const nG=e=>R.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:15,height:15,viewBox:"0 0 15 15",...e},R.createElement("g",{transform:"matrix(1,0,0,-1,0,30)"},R.createElement("path",{d:"M10.3125,30Q9.69727,29.9707,9.43359,29.414099999999998Q9.22852,28.8574,9.63867,28.3887L10.8691,27.1875L5.88867,22.23633Q5.625,21.94336,5.625,21.5625Q5.625,21.18164,5.88867,20.88867Q6.18164,20.625,6.5625,20.625Q6.94336,20.625,7.23633,20.88867L12.1875,25.8691L13.3887,24.638669999999998Q13.8574,24.22852,14.4141,24.433590000000002Q14.9707,24.69727,15,25.3125L15,29.0625Q15,29.4727,14.7363,29.7363Q14.4727,30,14.0625,30L10.3125,30ZM2.34375,29.0625Q1.34766,29.0332,0.673828,28.3887Q0.0292969,27.7148,0,26.7188L0,17.34375Q0.0292969,16.34766,0.673828,15.673828Q1.34766,15.0292969,2.34375,15L11.7188,15Q12.7148,15.0292969,13.3887,15.673828Q14.0332,16.34766,14.0625,17.34375L14.0625,20.625Q14.0625,21.03516,13.7988,21.29883Q13.5352,21.5625,13.125,21.5625Q12.7148,21.5625,12.4512,21.29883Q12.1875,21.03516,12.1875,20.625L12.1875,17.34375Q12.1582,16.9043,11.7188,16.875L2.34375,16.875Q1.9043,16.9043,1.875,17.34375L1.875,26.7188Q1.9043,27.1582,2.34375,27.1875L5.625,27.1875Q6.03516,27.1875,6.29883,27.4512Q6.5625,27.7148,6.5625,28.125Q6.5625,28.5352,6.29883,28.7988Q6.03516,29.0625,5.625,29.0625L2.34375,29.0625Z",fill:"#007AFF",fillOpacity:1,style:{mixBlendMode:"passthrough"}})));function Wp({title:e,subtitle:t,href:n,disabled:r=!1}){const i=!!n&&!r;return h.jsxs(h.Fragment,{children:[i?h.jsxs(ti,{to:n,className:"flex items-center gap-2 hover:underline focus:underline",children:[h.jsx(Vt,{level:2,children:e}),h.jsx(nG,{className:"w-4 h-4"})]}):h.jsx(Vt,{level:2,children:e}),t&&h.jsx(Jn,{children:t})]})}function N9(e,t){const n=Ut(c=>c.options),[r,i]=R.useState({dragging:!1,startX:0,startY:0}),s=R.useCallback(c=>{c.stopPropagation();const{x:f,y:p}=Mg(c,n);e&&e(f,p,f,p),i({startX:f,startY:p,dragging:!0})},[e]),o=c=>{c.stopPropagation();const{x:f,y:p}=Mg(c,n);t&&t(r.startX,r.startY,f,p),i(g=>({...g,dragging:!1}))},a=c=>{c.stopPropagation();const{x:f,y:p}=Mg(c,n);e&&e(r.startX,r.startY,f,p)},l=c=>{c.stopPropagation();const f=c.touches[0],{x:p,y:g}=Mg(f,n);e&&e(r.startX,r.startY,p,g)};return R.useEffect(()=>{if(r.dragging)return document.addEventListener("mouseup",o),document.addEventListener("touchmove",l),document.addEventListener("mousemove",a),()=>{document.removeEventListener("mouseup",o),document.removeEventListener("touchmove",l),document.removeEventListener("mousemove",a)}},[r,e,t]),{dragging:r.dragging,onMouseDown:s}}const kk=6;function Mg(e,t){const{tableX:n,tableY:r,width:i,height:s,cols:o,rows:a}=t,{pageX:l,pageY:c}=e,f=i/o||1,p=s/a||1,g=Math.floor((l-n)/f),y=Math.floor((c-r)/p*kk)/kk,x=Math.max(0,Math.min(o-1,g)),_=Math.max(0,Math.min(a,y));return{x,y:_}}function rG(e){return new Promise(t=>setTimeout(t,e))}function iG(e,t=9){const n=t*60,r=new Date,i=new Date(e);return i.setMonth(i.getMonth()-n-r.getTimezoneOffset()),i}class ad{time;constructor(t){switch(typeof t){case"string":const[r,i]=t.split(":").map(Number);this.time=r*60+i;break;case"object":const{hours:s,minutes:o}=t;this.time=s*60+o;break;case"number":this.time=t;break}if(Number.isNaN(this.time)||this.time<0||this.time>=1440)throw this.time=0,new Error("Invalid time value")}toObject(){const t=Math.floor(this.time/60),n=this.time%60;return{hours:t,minutes:n}}toString(){const{hours:t,minutes:n}=this.toObject(),r=t.toString().padStart(2,"0"),i=n.toString().padStart(2,"0");return`${r}:${i}`}compare(t){const n=this.time-t.time;return n===0?0:n>0?1:-1}}const V2={timeTableId:-1,timeTableName:" ",semesterCode:"",schedules:[]},sG=async e=>await Na(`/api/timetables?semesterCode=${encodeURIComponent(e)}`,{method:"GET"}),O9=e=>po({queryKey:["timetableList",e],queryFn:()=>sG(e),select:t=>t.timeTables,staleTime:1e3*60*5});function P9(e,t){t=t??As.semesterCode;const{data:n}=go(t);return po({queryKey:["timetableData",e],queryFn:async()=>!e||e<=0?{timetableId:-1,timetableName:" ",semesterCode:"",schedules:[]}:await Na(`/api/timetables/${e}/schedules`),select:i=>uG(i,n),refetchOnWindowFocus:!1,staleTime:1e3*60*5})}function oG(){const e=fs(),{currentTimetable:t,pickTimetable:n}=Ut.getState();return Wl({mutationFn:async({timeTableId:r,timeTableName:i})=>await Na(`/api/timetables/${r}`,{method:"PATCH",body:JSON.stringify({timeTableName:i})}),onMutate:async({timeTableId:r})=>(await e.cancelQueries({queryKey:["timetableList",r]}),{timeTableId:r}),onSuccess:async(r,i,s)=>{const o=s?.timeTableId;t?.timeTableId===o&&n({timeTableId:r.timeTableId,timeTableName:r.timeTableName,semesterCode:r.semesterCode}),await e.invalidateQueries({queryKey:["timetableList"]}),await e.invalidateQueries({queryKey:["timetableList",o]})},onError:async(r,i,s)=>{console.error(`   (id: ${s?.timeTableId})`,r),await e.invalidateQueries({queryKey:["timetableList"]}),await e.invalidateQueries({queryKey:["timetableList",s?.timeTableId]})}})}function A9(){const e=fs();return Wl({mutationFn:async t=>await t1(`/api/timetables/${t}`,{method:"DELETE"}),onMutate:async t=>(await e.cancelQueries({queryKey:["timetableList"]}),await e.cancelQueries({queryKey:["timetableData",t]}),{timeTableId:t}),onError:async(t,n,r)=>{console.error(`   (id: ${r?.timeTableId})`,t),await e.invalidateQueries({queryKey:["timetableList",r?.timeTableId]}),await e.invalidateQueries({queryKey:["timetableList"]})},onSuccess:async(t,n,r)=>{await e.invalidateQueries({queryKey:["timetableList"]}),await e.invalidateQueries({queryKey:["timetableData",r?.timeTableId]})}})}function M9(){const e=fs();return Wl({mutationFn:async({timeTableName:t,semesterCode:n})=>await Na("/api/timetables",{method:"POST",body:JSON.stringify({timeTableName:t,semesterCode:n})}),onSuccess:async t=>{const{pickTimetable:n}=Ut.getState();n({timeTableId:t.timeTableId,timeTableName:t.timeTableName,semesterCode:t.semesterCode}),await e.invalidateQueries({queryKey:["timetableList"]})},onError:async t=>{try{const n=JSON.parse(t.message);alert(n.message)}catch{alert("Error adding Timetable")}await e.invalidateQueries({queryKey:["timetableList"]})}})}function aG(e,t){t=t??As.semesterCode;const n=fs(),r=Ut(s=>s.changeScheduleData),{mutateAsync:i}=M9();return Wl({mutationFn:async({schedule:s})=>{let o=e;if(!o||o<=0){const l=await i({timeTableName:" ",semesterCode:t});o=l.timeTableId,await rG(300),n.setQueryData(["timetableData",o],{timetableId:o,timetableName:l.timeTableName,semesterCode:l.semesterCode,schedules:[s]})}return{schedule:await Na(`/api/timetables/${o}/schedules`,{method:"POST",body:JSON.stringify(s)}),targetTimetableId:o}},onMutate:async s=>{if(!e||e<=0)return;const o=n.getQueryData(["timetableData",e])??{...V2};return e&&e>0&&(await n.cancelQueries({queryKey:["timetableData",e]}),n.setQueryData(["timetableData",e],{...o,schedules:[...o.schedules,s.schedule]}),r(new qi().toUiData(),dr.NONE)),{...s,prevTimetableSchedules:o}},onError:(s,o,a)=>{n.setQueryData(["timetableData",e],a?.prevTimetableSchedules),console.error(s)},onSuccess:async({schedule:s,targetTimetableId:o},a,l)=>{const c=n.getQueryData(["timetableData",o]);r(new qi().toUiData(),dr.NONE),n.setQueryData(["timetableData",o],{...c,schedules:c?.schedules.map(f=>f.scheduleId===l?.schedule.scheduleId?s:f)})}})}function lG(e){const t=fs();return Wl({mutationFn:async({schedule:n})=>await Na(`/api/timetables/${e}/schedules/${n.scheduleId}`,{method:"PATCH",body:JSON.stringify(n)}),onMutate:async n=>{const r=t.getQueryData(["timetableData",e])??{...V2};return await t.cancelQueries({queryKey:["timetableData",e]}),{...n,prevTimetableSchedules:r}},onError:(n,r,i)=>{t.setQueryData(["timetableData",e],i?.prevTimetableSchedules),console.error(n)},onSuccess:async(n,r,i)=>{if(!i?.prevTimetableSchedules){await t.invalidateQueries({queryKey:["timetableList"]}),await t.invalidateQueries({queryKey:["timetableData",e]});return}t.setQueryData(["timetableData",e],{...i.prevTimetableSchedules,schedules:i.prevTimetableSchedules.schedules.map(s=>s.scheduleId===n.scheduleId?{...s,...n}:s)})}})}function cG(e){const t=fs();return Wl({mutationFn:async({schedule:n})=>await aK(`/api/timetables/${e}/schedules/${n.scheduleId}`,{scheduleType:n.scheduleType}),onMutate:async n=>{const r=t.getQueryData(["timetableData",e])??{...V2};return await t.cancelQueries({queryKey:["timetableData",e]}),{...n,prevTimetableSchedules:r}},onError:(n,r,i)=>{t.setQueryData(["timetableData",e],i?.prevTimetableSchedules),console.error(n)},onSuccess:async(n,{schedule:r},i)=>{if(console.log("  ! timetableId:",e),!i?.prevTimetableSchedules){await t.invalidateQueries({queryKey:["timetableList"]}),await t.invalidateQueries({queryKey:["timetableData",e]});return}console.log("  !   . timetableId:",e,i.prevTimetableSchedules),t.setQueryData(["timetableData",e],{...i.prevTimetableSchedules,schedules:i.prevTimetableSchedules.schedules.filter(s=>s.scheduleId!==r.scheduleId)}),await t.invalidateQueries({queryKey:["timetableData",e]})}})}function uG(e,t){if(!e||!t)return[];const{schedules:n}=e;return n.map(r=>new qi(r,t).toUiData())}function D9(e,t=9){const n=Ut(a=>a.schedule),r=Ut(a=>a.mode),i=["rose","amber","green","emerald","blue","violet"],s={};if(!e)return;let o=e;return(r===dr.EDIT||r===dr.VIEW)&&(o=e.map(a=>a.scheduleId===n.scheduleId?n:a)),o.forEach((a,l)=>{const c=a.isDeleted?"gray":i[l%i.length],{subjectName:f,professorName:p,location:g}=a;new gf(a.timeSlots).toUiData(t).forEach(x=>{s[x.dayOfWeek]||(s[x.dayOfWeek]=[]),s[x.dayOfWeek].push({title:f,professor:p,location:g,schedule:a,color:c,...x})})}),Object.keys(s).forEach(a=>{s[a]=dG(s[a])}),s}function dG(e){const n=Ut.getState().options.isMobile?8:16,r=o=>Number.parseFloat(o.replace("px",""));return e.sort((o,a)=>{const l=r(o.height);return r(a.height)-l}).reduce((o,a)=>{const l=r(a.top),c=l+r(a.height),p=o.reduce((g,y)=>{const x=r(y.top),_=x+r(y.height);return x<=l&&l<_||x<c&&c<=_?Math.max(g,y.depth):g},-1)+1;return[...o,{...a,depth:p}]},[]).map(o=>{const a=n*o.depth;return{...o,left:`${a}px`,right:"0px",height:o.height,top:o.top}})}function fG(e){const t=Ut(i=>i.schedule),n=Ut(i=>i.mode);if(!e)return[];const r=e.filter(i=>i.timeSlots===null||i.timeSlots.length===0);return n===dr.NONE||t.timeSlots.length>0?r.map(i=>({...i,selected:!1})):t.scheduleId<=0?[...r.map(i=>({...i,selected:!1})),{...t,selected:!0}]:r.map(i=>({...i,selected:i.scheduleId===t.scheduleId}))}const Tk={search:{isOpen:!1},filter:{isOpen:!1},edit:{isOpen:!1},info:{isOpen:!1}},Ea=ri(e=>({type:Tk,openBottomSheet:t=>e(n=>({type:{...n.type,[t]:{isOpen:!0}}})),closeBottomSheet:t=>e(n=>({type:{...n.type,[t]:{isOpen:!1}}})),resetBottomSheet:()=>e({type:Tk})}));function Oa(){const[e]=D8();return e.get("semester")??As.semesterCode}const Hb=()=>new qi().toUiData();let Wb;function pi(){const e=fs(),t=Ut(C=>C.changeScheduleData),n=Oa(),i=Ut(C=>C.currentTimetable)?.timeTableId??-1,s=Ea(C=>C.openBottomSheet),o=Ea(C=>C.closeBottomSheet),[,a]=R.useTransition(),{mutate:l}=aG(i,n),{mutate:c}=lG(i),{mutate:f}=cG(i);return{setOptimisticSchedule:C=>{a(()=>t(C,dr.NONE))},openScheduleModal:C=>{Wb=e.getQueryData(["timetableData",i]);let I;!C.scheduleId||C.scheduleId<=0?(I=dr.CREATE,C.scheduleType!=="official"&&s("edit")):C.scheduleType==="official"?(I=dr.VIEW,console.log(Wb),s("info")):(I=dr.EDIT,s("edit")),t(C,I)},editSchedule:C=>{const I=Ut.getState().schedule;let A=C instanceof Function?C(I):C;t(A)},saveSchedule:(C,I=!0)=>{const A=Ut.getState().schedule,z=Ut.getState().mode;if(C&&C.preventDefault(),!new gf(A.timeSlots).validate()){alert("       .");return}const O=A.timeSlots.length!==0;if(A.scheduleType==="custom"&&!O){alert(" !.");return}const F=new qi(A).toApiData();z===dr.CREATE?(F.scheduleId=pG(Wb?.schedules??[]),l({schedule:F})):z===dr.EDIT&&(c({schedule:F}),t({...Hb()},dr.NONE)),I&&o("edit")},deleteSchedule:C=>{const I=Ut.getState().schedule;C&&C.preventDefault();const A=new qi(I).toApiData();f({schedule:A}),t({...Hb()},dr.NONE),o("edit"),o("info")},cancelSchedule:(C,I=!0)=>{C&&C.preventDefault(),t({...Hb()},dr.NONE),I&&o("edit")}}}function Vp(){const e=Ut(n=>n.mode),t=Ut(n=>n.schedule);return{modalActionType:e,schedule:t}}function hG(){const{minTime:e}=Ut(n=>n.options);return{getTimeslot:(n,r,i)=>{n>r&&([n,r]=[r,n]),i!==void 0&&r-n<i&&(r=n+i);const s=jk(e,n),o=jk(e,r);return{startTime:s,endTime:o}}}}function jk(e,t){const n=e+Math.floor(t),r=Math.floor((t-Math.floor(t))*60);return n<0?"00:00":n>23?"23:50":`${n.toString().padStart(2,"0")}:${r.toString().padStart(2,"0")}`}function pG(e){let t=-Math.floor(Math.random()*1e6);for(;e.some(n=>n.scheduleId===t);)t=-Math.floor(Math.random()*1e6);return t}function L9({title:e,professor:t,location:n,color:r="blue",schedule:i,selected:s=!1,timeslotIndex:o,fixed:a=!1,...l}){const{text:c,bgLight:f,bg:p}=mG(r),g=R.useRef(null),{openScheduleModal:y}=pi(),x=Ut(U=>U.schedule),_=s||x.scheduleId===i.scheduleId,S=(U,O,N,F)=>{if(!g.current||a)return;const $=N-U,L=(F-O)*up;g.current.style.setProperty("transform",`translate(calc(100% * ${$}), ${L}px)`)},C=(U,O,N,F)=>{if(!g.current||a)return;i.scheduleType==="official"&&g.current.style.setProperty("transform","");const $={...i,timeSlots:i.timeSlots.map((L,Z)=>Z!==o?L:IG(L,N-U,F-O))};y($),g.current.style.setProperty("transform","")},I=U=>{(U.key==="Enter"||U.key===" ")&&(U.preventDefault(),U.stopPropagation(),C(0,0,0,0))},{dragging:A,onMouseDown:z}=N9(S,C);return h.jsxs("div",{ref:g,className:`flex absolute ${f} rounded-l-xs cursor-pointer hover:z-20 focus:z-20 `+l.className,onMouseDown:z,onKeyDown:I,tabIndex:0,...l,children:[h.jsx("div",{className:`w-[2px] h-full sm:w-1 sm:rounded-xs  ${p}`}),h.jsxs("div",{className:"flex-auto sm:p-2 p-[1px] "+(_?"animate-pulse":"")+(A?"opacity-50":""),children:[h.jsx("h3",{className:`${c} font-semibold text-[9px] sm:text-sm`,children:e}),h.jsxs("p",{className:"sm:text-xs text-[7px] text-gray-500",children:[t," ",n]})]})]})}function mG(e){switch(e){case"rose":return{text:"text-rose-500",bgLight:"bg-rose-50",bg:"bg-rose-500"};case"amber":return{text:"text-amber-500",bgLight:"bg-amber-50",bg:"bg-amber-500"};case"green":return{text:"text-green-500",bgLight:"bg-green-50",bg:"bg-green-500"};case"emerald":return{text:"text-emerald-500",bgLight:"bg-emerald-50",bg:"bg-emerald-500"};case"blue":return{text:"text-blue-500",bgLight:"bg-blue-50",bg:"bg-blue-500"};case"violet":return{text:"text-violet-500",bgLight:"bg-violet-50",bg:"bg-violet-500"};default:return{text:"text-gray-500",bgLight:"bg-gray-50",bg:"bg-gray-500"}}}function gG({dayOfWeeks:e}){const t=Oa(),n=Ut(g=>g.schedule),r=Ut(g=>g.options),{data:i}=go(t);if(!i||n.scheduleId>0||!n.timeSlots||n.timeSlots.length<=0)return null;let s=Number.parseInt(r.rowNames[0].replace("",""));Number.isNaN(s)&&(s=9);const o=new qi(n,i).toUiData(),l=new gf(o.timeSlots).toUiData(s).filter(({dayOfWeek:g})=>g===e);if(!l)return null;const{subjectName:c,professorName:f,location:p}=o;return l.map(({height:g,top:y,left:x,right:_},S)=>h.jsx(yG,{timeslotIndex:S,title:c??"",professor:f??"",location:p??"",schedule:n,style:{height:g,top:y,left:x,right:_}},`wire-schedule-${e}-${S}`))}function yG({title:e,professor:t,location:n,...r}){const{timeslotIndex:i,...s}=r;return h.jsx("div",{className:`flex absolute rounded-md z-20 
      border-violet-500 border-2 md:border-4
      ${r.className}`,style:{...r.style},...s,children:h.jsxs("div",{className:"flex-auto p-2 bg-violet-50  rounded-md animate-pulse",children:[h.jsx("h3",{className:"text-violet-500 font-semibold  text-[10px] sm:text-sm",children:e}),h.jsxs("p",{className:" sm:text-xs text-[8px]  text-gray-500",children:[t," ",n]})]})})}const Vb=()=>new qi().toUiData(),vG=({dayOfWeeks:e,scheduleTimes:t})=>{const n=t,{setOptimisticSchedule:r,openScheduleModal:i}=pi(),{getTimeslot:s}=hG(),o=(f,p,g,y)=>{const{startTime:x,endTime:_}=s(p,y,1);r({...Vb(),timeSlots:[{dayOfWeeks:e,startTime:x,endTime:_}]})},a=(f,p,g,y)=>{const{startTime:x,endTime:_}=s(p,y,1);i({...Vb(),timeSlots:[{dayOfWeeks:e,startTime:x,endTime:_}]})},l=f=>{(f.key==="Enter"||f.key===" ")&&i({...Vb()})},{onMouseDown:c}=N9(o,a);return h.jsxs("div",{className:"relative flex-auto px-[2px]",tabIndex:0,onMouseDown:c,onKeyDown:l,children:[h.jsx(gG,{dayOfWeeks:e}),n.map(({title:f,professor:p,location:g,color:y,height:x,top:_,left:S,right:C,schedule:I},A)=>h.jsx(L9,{timeslotIndex:A,title:f,professor:p??"",location:g??"",schedule:I,color:y,style:{height:x,top:_,left:S,right:C}},"schedule-"+A))]})};function bG({schedules:e}){const t=e?.reduce((n,r)=>{if(r.scheduleType!=="official"||!r.tmNum)return n;const i=r.tmNum.split("/").map(s=>{const o=Number(s);return Number.isNaN(o)?0:o});return n.map((s,o)=>s+(i[o]??0))},[0,0,0])??[0,0,0];return h.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500 bg-blue-50 rounded-md p-2 mt-3",children:[h.jsxs("span",{children:[" : ",t[0]??0]}),h.jsxs("span",{children:[": ",t[1]??0]}),h.jsxs("span",{children:[": ",t[2]??0]})]})}const F9=e=>R.createElement("svg",{width:23,height:23,viewBox:"0 0 23 23",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},R.createElement("path",{d:"M10.3669 11.3356L7.94579 9.04443C7.8086 8.9146 7.73766 8.75936 7.733 8.57871C7.72833 8.39807 7.79059 8.23915 7.9198 8.10198C8.049 7.9648 8.20424 7.89386 8.38551 7.88918C8.56678 7.88449 8.7257 7.94676 8.86225 8.07598L11.2834 10.3671L13.5745 7.94599C13.7043 7.80879 13.8596 7.73786 14.0402 7.73319C14.2209 7.72852 14.3798 7.79079 14.517 7.91999C14.6541 8.04919 14.7252 8.20458 14.7302 8.38616C14.7352 8.56774 14.6728 8.7265 14.5429 8.86244L12.2518 11.2836L14.6729 13.5747C14.8101 13.7045 14.8812 13.8599 14.8862 14.0409C14.8912 14.2218 14.8288 14.3806 14.6989 14.5171C14.5691 14.6537 14.4137 14.7248 14.2328 14.7304C14.0518 14.736 13.8931 14.6736 13.7565 14.5431L11.3354 12.252L9.04423 14.6731C8.9144 14.8103 8.75901 14.8814 8.57806 14.8864C8.39711 14.8914 8.23835 14.829 8.10178 14.6991C7.96521 14.5693 7.89428 14.414 7.88898 14.2334C7.88369 14.0528 7.94595 13.8939 8.07578 13.7567L10.3669 11.3356Z",fill:"#6B7280"}));function xG({schedules:e}){const t=fG(e);return h.jsx(je,{direction:"flex-col",gap:"gap-2",className:"mt-3",children:t.map(n=>h.jsx(wG,{schedule:n,selected:n.selected},n.scheduleId))})}function wG({schedule:e,selected:t}){const{openScheduleModal:n}=pi(),r=()=>{n(e)};return h.jsxs("div",{className:"h-10 w-full p-4 flex justify-between items-center rounded border "+(t?"bg-blue-100 border-blue-500":"border-gray-200"),children:[h.jsxs(je,{gap:"gap-5",children:[h.jsx("p",{children:e.subjectName}),h.jsx("p",{className:"text-stone-400",children:e.professorName})]}),h.jsx(Ar,{"aria-label":"delete",variant:"plain",label:"delete",icon:h.jsx(F9,{className:"w-5 h-5"}),onClick:r})]},e.scheduleId)}const o1=["","","","","","",""];function _G(e){const t=Ut(a=>a.schedule),n=Ut(a=>a.setOptions),r=[...e??[],t],i=r.reduce((a,l)=>{let c=a;return l.timeSlots?(l.timeSlots.some(f=>f.dayOfWeeks==="")&&(c=Math.max(c,6)),l.timeSlots.some(f=>f.dayOfWeeks==="")&&(c=Math.max(c,7)),c):a},5),{minTime:s,maxTime:o}=r.reduce((a,l)=>(l.timeSlots.forEach(c=>{const f=Number.parseInt(c.startTime.split(":")[0]),p=Number.parseInt(c.endTime.split(":")[0]);Number.isNaN(f)||Number.isNaN(p)||(a.minTime=Math.min(a.minTime,f),a.maxTime=Math.max(a.maxTime,p))}),a),{minTime:9,maxTime:20});return R.useEffect(()=>{n({rowNames:Array.from({length:o-s+1},(a,l)=>`${s+l}`),minTime:s,maxTime:o,rows:o-s+1})},[s,o]),R.useEffect(()=>{n({colNames:o1.slice(0,i),cols:i})},[i]),{}}let qb=null;const SG=e=>{const t=Ut(r=>r.setOptions),n=()=>{if(!e.current)return;const r=e.current.getBoundingClientRect();t({width:r.width,height:r.height,tableX:r.left+window.pageXOffset,tableY:r.top+window.pageYOffset}),qb=null};R.useEffect(()=>{if(!e.current)return;const r=()=>{qb||(qb=setTimeout(n,300),t({isMobile:window.innerWidth<768}))};return r(),window.addEventListener("resize",r),()=>{window.removeEventListener("resize",r)}},[e])};function EG(e){const t=R.useRef(!1),n=iy(r=>r.setBanner);R.useEffect(()=>{e?.some(i=>i.isDeleted)&&!t.current&&(t.current=!0,n("  !    "))},[e])}const up=40;function CG({schedules:e}){const t=R.useRef(null),n=Ut(r=>r.setOptions);return R.useEffect(()=>{n({containerRef:t?.current??null})},[t]),h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"bg-white",ref:t,children:[h.jsx(jG,{children:h.jsx(TG,{schedules:e})}),h.jsx(xG,{schedules:e})]}),h.jsx(bG,{schedules:e})]})}const kG=o1.reduce((e,t)=>(e[t]=[],e),{});function TG({schedules:e}){const{colNames:t,minTime:n}=Ut(i=>i.options),r=D9(e,n)??kG;return EG(e),_G(e),t.map(i=>h.jsx(vG,{scheduleTimes:r[i]??[],dayOfWeeks:i},"day-schedule-"+i))}function jG({rowHeight:e=up,children:t}){const{colNames:n,rowNames:r}=Ut(i=>i.options);return h.jsx(B9,{colNames:n,rowNames:r,rowHeight:e,children:t})}class qi{data;constructor(t,n){if(!t){this.data=this.#e();return}if(t.scheduleType==="official"&&!t.subjectName){this.data=this.#t(t,n);return}this.data=t,this.data.timeSlots||(this.data.timeSlots=[])}#e(){return{scheduleId:-1,scheduleType:"custom",subjectId:null,subjectName:"",professorName:"",location:"",tmNum:"",isDeleted:!1,timeSlots:[]}}#t(t,n){if(!n)throw new TypeError("Subjects must be provided for API to UI conversion");const r=n instanceof Array?n.find(i=>i.subjectId===t.subjectId):n;return{scheduleId:t.scheduleId,scheduleType:t.scheduleType,subjectId:t.subjectId,subjectName:r?.subjectName??"",professorName:r?.professorName??"",location:r?.lesnRoom??"",tmNum:r?.tmNum??"",isDeleted:r?.isDeleted??!1,timeSlots:new gf(r?.lesnTime).toApiData()}}toApiData(){const t=this.data;return t.scheduleType==="official"?{scheduleId:t.scheduleId,scheduleType:"official",subjectId:t.subjectId??0,subjectName:null,professorName:null,location:null,timeSlots:[]}:{...t,scheduleType:"custom",subjectId:null}}toUiData(){return this.data}}class gf{data;constructor(t){if(!t){this.data=[];return}if(typeof t=="string"){this.data=this.#t(t);return}if(Array.isArray(t)){this.data=t.map(n=>this.#e(n));return}this.data=[this.#e(t)]}#e(t){const[n,r]=t.startTime.split(":"),[i,s]=t.endTime.split(":");return{dayOfWeeks:t.dayOfWeeks,startHour:Number.parseInt(n),startMinute:Number.parseInt(r),endHour:Number.parseInt(i),endMinute:Number.parseInt(s)}}#t(t){const n=/([]+)(\d{1,2}:\d{2})-(\d{1,2}:\d{2})/g,r=[];let i;for(;(i=n.exec(t))!==null;){const s=i[1],o=i[2],a=i[3],l=s.split("");for(const c of l)r.push(this.#e({dayOfWeeks:c,startTime:o,endTime:a}))}return r}validate(){return this.data.every(t=>{const{startHour:n,startMinute:r,endHour:i,endMinute:s}=t;return n<i||n===i&&r<s})}toApiData(){const t=n=>n.toString().padStart(2,"0");return this.data.map(n=>({dayOfWeeks:n.dayOfWeeks,startTime:`${t(n.startHour)}:${t(n.startMinute)}`,endTime:`${t(n.endHour)}:${t(n.endMinute)}`}))}toUiData(t){return this.data.map(({startHour:n,startMinute:r,endHour:i,endMinute:s,dayOfWeeks:o})=>{const a=(n*60+r)/60,l=(i*60+s)/60;return{dayOfWeek:o,depth:0,left:"0px",right:"0px",height:`${(l-a)*up}px`,top:`${(a-t)*up}px`}})}}function IG(e,t,n){const{dayOfWeeks:r,startTime:i,endTime:s}=e,[o,a]=i.split(":").map(Number),[l,c]=s.split(":").map(Number),f=Math.min(24,o+a/60+n),p=Math.min(24,l+c/60+n),g=Math.floor(f),y=Math.round((f-g)*60),x=Math.floor(p),_=Math.round((p-x)*60),S=["","","","","","",""],I=(S.indexOf(r)+t+S.length)%S.length;return{dayOfWeeks:S[I],startTime:`${g.toString().padStart(2,"0")}:${y.toString().padStart(2,"0")}`,endTime:`${x.toString().padStart(2,"0")}:${_.toString().padStart(2,"0")}`}}var dr=(e=>(e.NONE="none",e.CREATE="create",e.EDIT="edit",e.VIEW="view",e))(dr||{});const Ut=ri(e=>({currentTimetable:null,options:{containerRef:null,timetableRef:null,colNames:o1.slice(0,5),rowNames:Array.from({length:12},(t,n)=>`${n+9}`),minTime:9,maxTime:20,tableX:0,tableY:0,width:0,height:0,cols:5,rows:11,isMobile:!1},mode:"none",schedule:new qi().toUiData(),pickTimetable:t=>{e(n=>({...n,currentTimetable:t}))},setOptions:t=>{e(n=>({...n,options:{...n.options,...t}}))},changeScheduleData:(t,n)=>{e(r=>({...r,mode:n??r.mode,schedule:{...r.schedule,...t}}))}}));function B9({rowHeight:e=up,colNames:t,rowNames:n,children:r}){const i=R.useRef(null),{isMobile:s}=Ut(l=>l.options);SG(i);const{headerWidth:o,headerHeight:a}=s?{headerWidth:20,headerHeight:20}:{headerWidth:60,headerHeight:40};return h.jsxs("div",{className:"relative w-full bg-white",children:[h.jsxs("div",{className:"flex bg-gray-50 rounded-t-md",style:{height:`${a}px`},children:[h.jsx("div",{className:"flex items-center justify-center font-semibold text-gray-700",style:{width:`${o}px`}}),t.map((l,c)=>h.jsx("div",{className:"flex flex-auto items-center justify-center font-semibold text-gray-400 text-[10px] md:text-sm",children:l},"timetable-grid-header-"+c))]}),h.jsx("div",{className:"flex absolute inset-0",style:{top:`${a}px`,left:`${o}px`},children:t.map((l,c)=>h.jsx("div",{className:"flex-auto border-l border-gray-200 h-full"},"timetable-grid-col-"+c))}),n.map((l,c)=>h.jsx("div",{className:"border-b border-gray-200",style:{height:`${e}px`},children:h.jsx("span",{className:"flex items-center justify-center h-full text-gray-400 w-[20px] md:w-[60px] text-[10px] md:text-sm",children:l})},"timetable-grid-row-"+c)),h.jsx("div",{id:"timetable",ref:i,className:"absolute inset-0 flex z-10",style:{top:`${a}px`,left:`${o}px`},children:r})]})}const Ik=["","","","",""],RG=Array.from({length:5},(e,t)=>`${t+9}`),NG=[{scheduleId:"1",scheduleType:"custom",subjectId:null,subjectName:"",professorName:"",location:"B209",tmNum:"3/1/0",isDeleted:!1,timeSlots:[{dayOfWeeks:"",startTime:"09:00",endTime:"10:30"},{dayOfWeeks:"",startTime:"09:00",endTime:"10:30"}]},{scheduleId:"2",scheduleType:"custom",subjectId:null,subjectName:"",professorName:"",location:"B209",tmNum:"3/1/0",isDeleted:!1,timeSlots:[{dayOfWeeks:"",startTime:"11:00",endTime:"12:30"},{dayOfWeeks:"",startTime:"11:00",endTime:"12:30"}]},{scheduleId:3,scheduleType:"custom",subjectId:null,subjectName:"",professorName:"",location:"B209",tmNum:"3/1/0",isDeleted:!1,timeSlots:[{dayOfWeeks:"",startTime:"12:00",endTime:"13:30"},{dayOfWeeks:"",startTime:"12:00",endTime:"13:30"}]}];function OG(){const e=D9(NG,9);return h.jsxs(Yl,{children:[h.jsx(Wp,{title:"",subtitle:"     ",href:"/timetable"}),h.jsx(Wn,{className:"mt-6",children:h.jsx(B9,{colNames:Ik,rowNames:RG,children:Ik.map(t=>h.jsx(PG,{data:e?e[t]:[]},t))})})]})}function PG({data:e}){return e?h.jsx("div",{className:"relative flex-auto px-[2px]",children:e.map(({title:t,professor:n,location:r,color:i,height:s,top:o,left:a,right:l,schedule:c},f)=>h.jsx(L9,{timeslotIndex:f,title:t,professor:n??"",location:r??"",schedule:c,color:i,style:{height:s,top:o,left:a,right:l},selected:!1,fixed:!0},"schedule-"+f))}):h.jsx("div",{className:"relative flex-auto px-[2px]"})}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function qp(e){return e+.5|0}const Sl=(e,t,n)=>Math.max(Math.min(e,n),t);function Ih(e){return Sl(qp(e*2.55),0,255)}function Rl(e){return Sl(qp(e*255),0,255)}function ga(e){return Sl(qp(e/2.55)/100,0,1)}function Rk(e){return Sl(qp(e*100),0,100)}const Cs={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Uw=[..."0123456789ABCDEF"],AG=e=>Uw[e&15],MG=e=>Uw[(e&240)>>4]+Uw[e&15],Dg=e=>(e&240)>>4===(e&15),DG=e=>Dg(e.r)&&Dg(e.g)&&Dg(e.b)&&Dg(e.a);function LG(e){var t=e.length,n;return e[0]==="#"&&(t===4||t===5?n={r:255&Cs[e[1]]*17,g:255&Cs[e[2]]*17,b:255&Cs[e[3]]*17,a:t===5?Cs[e[4]]*17:255}:(t===7||t===9)&&(n={r:Cs[e[1]]<<4|Cs[e[2]],g:Cs[e[3]]<<4|Cs[e[4]],b:Cs[e[5]]<<4|Cs[e[6]],a:t===9?Cs[e[7]]<<4|Cs[e[8]]:255})),n}const FG=(e,t)=>e<255?t(e):"";function BG(e){var t=DG(e)?AG:MG;return e?"#"+t(e.r)+t(e.g)+t(e.b)+FG(e.a,t):void 0}const $G=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function $9(e,t,n){const r=t*Math.min(n,1-n),i=(s,o=(s+e/30)%12)=>n-r*Math.max(Math.min(o-3,9-o,1),-1);return[i(0),i(8),i(4)]}function zG(e,t,n){const r=(i,s=(i+e/60)%6)=>n-n*t*Math.max(Math.min(s,4-s,1),0);return[r(5),r(3),r(1)]}function UG(e,t,n){const r=$9(e,1,.5);let i;for(t+n>1&&(i=1/(t+n),t*=i,n*=i),i=0;i<3;i++)r[i]*=1-t-n,r[i]+=t;return r}function HG(e,t,n,r,i){return e===i?(t-n)/r+(t<n?6:0):t===i?(n-e)/r+2:(e-t)/r+4}function q2(e){const n=e.r/255,r=e.g/255,i=e.b/255,s=Math.max(n,r,i),o=Math.min(n,r,i),a=(s+o)/2;let l,c,f;return s!==o&&(f=s-o,c=a>.5?f/(2-s-o):f/(s+o),l=HG(n,r,i,f,s),l=l*60+.5),[l|0,c||0,a]}function Q2(e,t,n,r){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,r)).map(Rl)}function K2(e,t,n){return Q2($9,e,t,n)}function WG(e,t,n){return Q2(UG,e,t,n)}function VG(e,t,n){return Q2(zG,e,t,n)}function z9(e){return(e%360+360)%360}function qG(e){const t=$G.exec(e);let n=255,r;if(!t)return;t[5]!==r&&(n=t[6]?Ih(+t[5]):Rl(+t[5]));const i=z9(+t[2]),s=+t[3]/100,o=+t[4]/100;return t[1]==="hwb"?r=WG(i,s,o):t[1]==="hsv"?r=VG(i,s,o):r=K2(i,s,o),{r:r[0],g:r[1],b:r[2],a:n}}function QG(e,t){var n=q2(e);n[0]=z9(n[0]+t),n=K2(n),e.r=n[0],e.g=n[1],e.b=n[2]}function KG(e){if(!e)return;const t=q2(e),n=t[0],r=Rk(t[1]),i=Rk(t[2]);return e.a<255?`hsla(${n}, ${r}%, ${i}%, ${ga(e.a)})`:`hsl(${n}, ${r}%, ${i}%)`}const Nk={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Ok={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function GG(){const e={},t=Object.keys(Ok),n=Object.keys(Nk);let r,i,s,o,a;for(r=0;r<t.length;r++){for(o=a=t[r],i=0;i<n.length;i++)s=n[i],a=a.replace(s,Nk[s]);s=parseInt(Ok[o],16),e[a]=[s>>16&255,s>>8&255,s&255]}return e}let Lg;function YG(e){Lg||(Lg=GG(),Lg.transparent=[0,0,0,0]);const t=Lg[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const JG=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function XG(e){const t=JG.exec(e);let n=255,r,i,s;if(t){if(t[7]!==r){const o=+t[7];n=t[8]?Ih(o):Sl(o*255,0,255)}return r=+t[1],i=+t[3],s=+t[5],r=255&(t[2]?Ih(r):Sl(r,0,255)),i=255&(t[4]?Ih(i):Sl(i,0,255)),s=255&(t[6]?Ih(s):Sl(s,0,255)),{r,g:i,b:s,a:n}}}function ZG(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${ga(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}const Qb=e=>e<=.0031308?e*12.92:Math.pow(e,1/2.4)*1.055-.055,ld=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function eY(e,t,n){const r=ld(ga(e.r)),i=ld(ga(e.g)),s=ld(ga(e.b));return{r:Rl(Qb(r+n*(ld(ga(t.r))-r))),g:Rl(Qb(i+n*(ld(ga(t.g))-i))),b:Rl(Qb(s+n*(ld(ga(t.b))-s))),a:e.a+n*(t.a-e.a)}}function Fg(e,t,n){if(e){let r=q2(e);r[t]=Math.max(0,Math.min(r[t]+r[t]*n,t===0?360:1)),r=K2(r),e.r=r[0],e.g=r[1],e.b=r[2]}}function U9(e,t){return e&&Object.assign(t||{},e)}function Pk(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=Rl(e[3]))):(t=U9(e,{r:0,g:0,b:0,a:1}),t.a=Rl(t.a)),t}function tY(e){return e.charAt(0)==="r"?XG(e):qG(e)}class dp{constructor(t){if(t instanceof dp)return t;const n=typeof t;let r;n==="object"?r=Pk(t):n==="string"&&(r=LG(t)||YG(t)||tY(t)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var t=U9(this._rgb);return t&&(t.a=ga(t.a)),t}set rgb(t){this._rgb=Pk(t)}rgbString(){return this._valid?ZG(this._rgb):void 0}hexString(){return this._valid?BG(this._rgb):void 0}hslString(){return this._valid?KG(this._rgb):void 0}mix(t,n){if(t){const r=this.rgb,i=t.rgb;let s;const o=n===s?.5:n,a=2*o-1,l=r.a-i.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;s=1-c,r.r=255&c*r.r+s*i.r+.5,r.g=255&c*r.g+s*i.g+.5,r.b=255&c*r.b+s*i.b+.5,r.a=o*r.a+(1-o)*i.a,this.rgb=r}return this}interpolate(t,n){return t&&(this._rgb=eY(this._rgb,t._rgb,n)),this}clone(){return new dp(this.rgb)}alpha(t){return this._rgb.a=Rl(t),this}clearer(t){const n=this._rgb;return n.a*=1-t,this}greyscale(){const t=this._rgb,n=qp(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=n,this}opaquer(t){const n=this._rgb;return n.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Fg(this._rgb,2,t),this}darken(t){return Fg(this._rgb,2,-t),this}saturate(t){return Fg(this._rgb,1,t),this}desaturate(t){return Fg(this._rgb,1,-t),this}rotate(t){return QG(this._rgb,t),this}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function la(){}const nY=(()=>{let e=0;return()=>e++})();function Zt(e){return e==null}function Vn(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function nn(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}function ar(e){return(typeof e=="number"||e instanceof Number)&&isFinite(+e)}function is(e,t){return ar(e)?e:t}function Nt(e,t){return typeof e>"u"?t:e}const rY=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100:+e/t,H9=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100*t:+e;function On(e,t,n){if(e&&typeof e.call=="function")return e.apply(n,t)}function xn(e,t,n,r){let i,s,o;if(Vn(e))for(s=e.length,i=0;i<s;i++)t.call(n,e[i],i);else if(nn(e))for(o=Object.keys(e),s=o.length,i=0;i<s;i++)t.call(n,e[o[i]],o[i])}function dy(e,t){let n,r,i,s;if(!e||!t||e.length!==t.length)return!1;for(n=0,r=e.length;n<r;++n)if(i=e[n],s=t[n],i.datasetIndex!==s.datasetIndex||i.index!==s.index)return!1;return!0}function fy(e){if(Vn(e))return e.map(fy);if(nn(e)){const t=Object.create(null),n=Object.keys(e),r=n.length;let i=0;for(;i<r;++i)t[n[i]]=fy(e[n[i]]);return t}return e}function W9(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}function iY(e,t,n,r){if(!W9(e))return;const i=t[e],s=n[e];nn(i)&&nn(s)?fp(i,s,r):t[e]=fy(s)}function fp(e,t,n){const r=Vn(t)?t:[t],i=r.length;if(!nn(e))return e;n=n||{};const s=n.merger||iY;let o;for(let a=0;a<i;++a){if(o=r[a],!nn(o))continue;const l=Object.keys(o);for(let c=0,f=l.length;c<f;++c)s(l[c],e,o,n)}return e}function Hh(e,t){return fp(e,t,{merger:sY})}function sY(e,t,n){if(!W9(e))return;const r=t[e],i=n[e];nn(r)&&nn(i)?Hh(r,i):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=fy(i))}const Ak={"":e=>e,x:e=>e.x,y:e=>e.y};function oY(e){const t=e.split("."),n=[];let r="";for(const i of t)r+=i,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}function aY(e){const t=oY(e);return n=>{for(const r of t){if(r==="")break;n=n&&n[r]}return n}}function Fl(e,t){return(Ak[t]||(Ak[t]=aY(t)))(e)}function G2(e){return e.charAt(0).toUpperCase()+e.slice(1)}const hp=e=>typeof e<"u",Bl=e=>typeof e=="function",Mk=(e,t)=>{if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0};function lY(e){return e.type==="mouseup"||e.type==="click"||e.type==="contextmenu"}const pn=Math.PI,Ln=2*pn,cY=Ln+pn,hy=Number.POSITIVE_INFINITY,uY=pn/180,hr=pn/2,Cc=pn/4,Dk=pn*2/3,El=Math.log10,Lo=Math.sign;function Wh(e,t,n){return Math.abs(e-t)<n}function Lk(e){const t=Math.round(e);e=Wh(e,t,e/1e3)?t:e;const n=Math.pow(10,Math.floor(El(e))),r=e/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function dY(e){const t=[],n=Math.sqrt(e);let r;for(r=1;r<n;r++)e%r===0&&(t.push(r),t.push(e/r));return n===(n|0)&&t.push(n),t.sort((i,s)=>i-s).pop(),t}function fY(e){return typeof e=="symbol"||typeof e=="object"&&e!==null&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}function su(e){return!fY(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function hY(e,t){const n=Math.round(e);return n-t<=e&&n+t>=e}function V9(e,t,n){let r,i,s;for(r=0,i=e.length;r<i;r++)s=e[r][n],isNaN(s)||(t.min=Math.min(t.min,s),t.max=Math.max(t.max,s))}function lo(e){return e*(pn/180)}function Y2(e){return e*(180/pn)}function Fk(e){if(!ar(e))return;let t=1,n=0;for(;Math.round(e*t)/t!==e;)t*=10,n++;return n}function q9(e,t){const n=t.x-e.x,r=t.y-e.y,i=Math.sqrt(n*n+r*r);let s=Math.atan2(r,n);return s<-.5*pn&&(s+=Ln),{angle:s,distance:i}}function Hw(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function pY(e,t){return(e-t+cY)%Ln-pn}function ui(e){return(e%Ln+Ln)%Ln}function pp(e,t,n,r){const i=ui(e),s=ui(t),o=ui(n),a=ui(s-i),l=ui(o-i),c=ui(i-s),f=ui(i-o);return i===s||i===o||r&&s===o||a>l&&c<f}function Wr(e,t,n){return Math.max(t,Math.min(n,e))}function mY(e){return Wr(e,-32768,32767)}function va(e,t,n,r=1e-6){return e>=Math.min(t,n)-r&&e<=Math.max(t,n)+r}function J2(e,t,n){n=n||(o=>e[o]<t);let r=e.length-1,i=0,s;for(;r-i>1;)s=i+r>>1,n(s)?i=s:r=s;return{lo:i,hi:r}}const ba=(e,t,n,r)=>J2(e,n,r?i=>{const s=e[i][t];return s<n||s===n&&e[i+1][t]===n}:i=>e[i][t]<n),gY=(e,t,n)=>J2(e,n,r=>e[r][t]>=n);function yY(e,t,n){let r=0,i=e.length;for(;r<i&&e[r]<t;)r++;for(;i>r&&e[i-1]>n;)i--;return r>0||i<e.length?e.slice(r,i):e}const Q9=["push","pop","shift","splice","unshift"];function vY(e,t){if(e._chartjs){e._chartjs.listeners.push(t);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),Q9.forEach(n=>{const r="_onData"+G2(n),i=e[n];Object.defineProperty(e,n,{configurable:!0,enumerable:!1,value(...s){const o=i.apply(this,s);return e._chartjs.listeners.forEach(a=>{typeof a[r]=="function"&&a[r](...s)}),o}})})}function Bk(e,t){const n=e._chartjs;if(!n)return;const r=n.listeners,i=r.indexOf(t);i!==-1&&r.splice(i,1),!(r.length>0)&&(Q9.forEach(s=>{delete e[s]}),delete e._chartjs)}function K9(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const G9=(function(){return typeof window>"u"?function(e){return e()}:window.requestAnimationFrame})();function Y9(e,t){let n=[],r=!1;return function(...i){n=i,r||(r=!0,G9.call(window,()=>{r=!1,e.apply(t,n)}))}}function bY(e,t){let n;return function(...r){return t?(clearTimeout(n),n=setTimeout(e,t,r)):e.apply(this,r),t}}const X2=e=>e==="start"?"left":e==="end"?"right":"center",li=(e,t,n)=>e==="start"?t:e==="end"?n:(t+n)/2,xY=(e,t,n,r)=>e===(r?"left":"right")?n:e==="center"?(t+n)/2:t;function J9(e,t,n){const r=t.length;let i=0,s=r;if(e._sorted){const{iScale:o,vScale:a,_parsed:l}=e,c=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null,f=o.axis,{min:p,max:g,minDefined:y,maxDefined:x}=o.getUserBounds();if(y){if(i=Math.min(ba(l,f,p).lo,n?r:ba(t,f,o.getPixelForValue(p)).lo),c){const _=l.slice(0,i+1).reverse().findIndex(S=>!Zt(S[a.axis]));i-=Math.max(0,_)}i=Wr(i,0,r-1)}if(x){let _=Math.max(ba(l,o.axis,g,!0).hi+1,n?0:ba(t,f,o.getPixelForValue(g),!0).hi+1);if(c){const S=l.slice(_-1).findIndex(C=>!Zt(C[a.axis]));_+=Math.max(0,S)}s=Wr(_,i,r)-i}else s=r-i}return{start:i,count:s}}function X9(e){const{xScale:t,yScale:n,_scaleRanges:r}=e,i={xmin:t.min,xmax:t.max,ymin:n.min,ymax:n.max};if(!r)return e._scaleRanges=i,!0;const s=r.xmin!==t.min||r.xmax!==t.max||r.ymin!==n.min||r.ymax!==n.max;return Object.assign(r,i),s}const Bg=e=>e===0||e===1,$k=(e,t,n)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-t)*Ln/n)),zk=(e,t,n)=>Math.pow(2,-10*e)*Math.sin((e-t)*Ln/n)+1,Vh={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*hr)+1,easeOutSine:e=>Math.sin(e*hr),easeInOutSine:e=>-.5*(Math.cos(pn*e)-1),easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>Bg(e)?e:e<.5?.5*Math.pow(2,10*(e*2-1)):.5*(-Math.pow(2,-10*(e*2-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>Bg(e)?e:$k(e,.075,.3),easeOutElastic:e=>Bg(e)?e:zk(e,.075,.3),easeInOutElastic(e){return Bg(e)?e:e<.5?.5*$k(e*2,.1125,.45):.5+.5*zk(e*2-1,.1125,.45)},easeInBack(e){return e*e*((1.70158+1)*e-1.70158)},easeOutBack(e){return(e-=1)*e*((1.70158+1)*e+1.70158)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:e=>1-Vh.easeOutBounce(1-e),easeOutBounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:e=>e<.5?Vh.easeInBounce(e*2)*.5:Vh.easeOutBounce(e*2-1)*.5+.5};function Z2(e){if(e&&typeof e=="object"){const t=e.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function Uk(e){return Z2(e)?e:new dp(e)}function Kb(e){return Z2(e)?e:new dp(e).saturate(.5).darken(.1).hexString()}const wY=["x","y","borderWidth","radius","tension"],_Y=["color","borderColor","backgroundColor"];function SY(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),e.set("animations",{colors:{type:"color",properties:_Y},numbers:{type:"number",properties:wY}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function EY(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Hk=new Map;function CY(e,t){t=t||{};const n=e+JSON.stringify(t);let r=Hk.get(n);return r||(r=new Intl.NumberFormat(e,t),Hk.set(n,r)),r}function Qp(e,t,n){return CY(t,n).format(e)}const Z9={values(e){return Vn(e)?e:""+e},numeric(e,t,n){if(e===0)return"0";const r=this.chart.options.locale;let i,s=e;if(n.length>1){const c=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(c<1e-4||c>1e15)&&(i="scientific"),s=kY(e,n)}const o=El(Math.abs(s)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:i,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),Qp(e,r,l)},logarithmic(e,t,n){if(e===0)return"0";const r=n[t].significand||e/Math.pow(10,Math.floor(El(e)));return[1,2,3,5,10,15].includes(r)||t>.8*n.length?Z9.numeric.call(this,e,t,n):""}};function kY(e,t){let n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(n)>=1&&e!==Math.floor(e)&&(n=e-Math.floor(e)),n}var a1={formatters:Z9};function TY(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,n)=>n.lineWidth,tickColor:(t,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:a1.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const ou=Object.create(null),Ww=Object.create(null);function qh(e,t){if(!t)return e;const n=t.split(".");for(let r=0,i=n.length;r<i;++r){const s=n[r];e=e[s]||(e[s]=Object.create(null))}return e}function Gb(e,t,n){return typeof t=="string"?fp(qh(e,t),n):fp(qh(e,""),t)}class jY{constructor(t,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,i)=>Kb(i.backgroundColor),this.hoverBorderColor=(r,i)=>Kb(i.borderColor),this.hoverColor=(r,i)=>Kb(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(n)}set(t,n){return Gb(this,t,n)}get(t){return qh(this,t)}describe(t,n){return Gb(Ww,t,n)}override(t,n){return Gb(ou,t,n)}route(t,n,r,i){const s=qh(this,t),o=qh(this,r),a="_"+n;Object.defineProperties(s,{[a]:{value:s[n],writable:!0},[n]:{enumerable:!0,get(){const l=this[a],c=o[i];return nn(l)?Object.assign({},c,l):Nt(l,c)},set(l){this[a]=l}}})}apply(t){t.forEach(n=>n(this))}}var qn=new jY({_scriptable:e=>!e.startsWith("on"),_indexable:e=>e!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[SY,EY,TY]);function IY(e){return!e||Zt(e.size)||Zt(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function py(e,t,n,r,i){let s=t[i];return s||(s=t[i]=e.measureText(i).width,n.push(i)),s>r&&(r=s),r}function RY(e,t,n,r){r=r||{};let i=r.data=r.data||{},s=r.garbageCollect=r.garbageCollect||[];r.font!==t&&(i=r.data={},s=r.garbageCollect=[],r.font=t),e.save(),e.font=t;let o=0;const a=n.length;let l,c,f,p,g;for(l=0;l<a;l++)if(p=n[l],p!=null&&!Vn(p))o=py(e,i,s,o,p);else if(Vn(p))for(c=0,f=p.length;c<f;c++)g=p[c],g!=null&&!Vn(g)&&(o=py(e,i,s,o,g));e.restore();const y=s.length/2;if(y>n.length){for(l=0;l<y;l++)delete i[s[l]];s.splice(0,y)}return o}function kc(e,t,n){const r=e.currentDevicePixelRatio,i=n!==0?Math.max(n/2,.5):0;return Math.round((t-i)*r)/r+i}function Wk(e,t){!t&&!e||(t=t||e.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function Vw(e,t,n,r){eI(e,t,n,r,null)}function eI(e,t,n,r,i){let s,o,a,l,c,f,p,g;const y=t.pointStyle,x=t.rotation,_=t.radius;let S=(x||0)*uY;if(y&&typeof y=="object"&&(s=y.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){e.save(),e.translate(n,r),e.rotate(S),e.drawImage(y,-y.width/2,-y.height/2,y.width,y.height),e.restore();return}if(!(isNaN(_)||_<=0)){switch(e.beginPath(),y){default:i?e.ellipse(n,r,i/2,_,0,0,Ln):e.arc(n,r,_,0,Ln),e.closePath();break;case"triangle":f=i?i/2:_,e.moveTo(n+Math.sin(S)*f,r-Math.cos(S)*_),S+=Dk,e.lineTo(n+Math.sin(S)*f,r-Math.cos(S)*_),S+=Dk,e.lineTo(n+Math.sin(S)*f,r-Math.cos(S)*_),e.closePath();break;case"rectRounded":c=_*.516,l=_-c,o=Math.cos(S+Cc)*l,p=Math.cos(S+Cc)*(i?i/2-c:l),a=Math.sin(S+Cc)*l,g=Math.sin(S+Cc)*(i?i/2-c:l),e.arc(n-p,r-a,c,S-pn,S-hr),e.arc(n+g,r-o,c,S-hr,S),e.arc(n+p,r+a,c,S,S+hr),e.arc(n-g,r+o,c,S+hr,S+pn),e.closePath();break;case"rect":if(!x){l=Math.SQRT1_2*_,f=i?i/2:l,e.rect(n-f,r-l,2*f,2*l);break}S+=Cc;case"rectRot":p=Math.cos(S)*(i?i/2:_),o=Math.cos(S)*_,a=Math.sin(S)*_,g=Math.sin(S)*(i?i/2:_),e.moveTo(n-p,r-a),e.lineTo(n+g,r-o),e.lineTo(n+p,r+a),e.lineTo(n-g,r+o),e.closePath();break;case"crossRot":S+=Cc;case"cross":p=Math.cos(S)*(i?i/2:_),o=Math.cos(S)*_,a=Math.sin(S)*_,g=Math.sin(S)*(i?i/2:_),e.moveTo(n-p,r-a),e.lineTo(n+p,r+a),e.moveTo(n+g,r-o),e.lineTo(n-g,r+o);break;case"star":p=Math.cos(S)*(i?i/2:_),o=Math.cos(S)*_,a=Math.sin(S)*_,g=Math.sin(S)*(i?i/2:_),e.moveTo(n-p,r-a),e.lineTo(n+p,r+a),e.moveTo(n+g,r-o),e.lineTo(n-g,r+o),S+=Cc,p=Math.cos(S)*(i?i/2:_),o=Math.cos(S)*_,a=Math.sin(S)*_,g=Math.sin(S)*(i?i/2:_),e.moveTo(n-p,r-a),e.lineTo(n+p,r+a),e.moveTo(n+g,r-o),e.lineTo(n-g,r+o);break;case"line":o=i?i/2:Math.cos(S)*_,a=Math.sin(S)*_,e.moveTo(n-o,r-a),e.lineTo(n+o,r+a);break;case"dash":e.moveTo(n,r),e.lineTo(n+Math.cos(S)*(i?i/2:_),r+Math.sin(S)*_);break;case!1:e.closePath();break}e.fill(),t.borderWidth>0&&e.stroke()}}function xa(e,t,n){return n=n||.5,!t||e&&e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n}function l1(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function c1(e){e.restore()}function NY(e,t,n,r,i){if(!t)return e.lineTo(n.x,n.y);if(i==="middle"){const s=(t.x+n.x)/2;e.lineTo(s,t.y),e.lineTo(s,n.y)}else i==="after"!=!!r?e.lineTo(t.x,n.y):e.lineTo(n.x,t.y);e.lineTo(n.x,n.y)}function OY(e,t,n,r){if(!t)return e.lineTo(n.x,n.y);e.bezierCurveTo(r?t.cp1x:t.cp2x,r?t.cp1y:t.cp2y,r?n.cp2x:n.cp1x,r?n.cp2y:n.cp1y,n.x,n.y)}function PY(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),Zt(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}function AY(e,t,n,r,i){if(i.strikethrough||i.underline){const s=e.measureText(r),o=t-s.actualBoundingBoxLeft,a=t+s.actualBoundingBoxRight,l=n-s.actualBoundingBoxAscent,c=n+s.actualBoundingBoxDescent,f=i.strikethrough?(l+c)/2:c;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=i.decorationWidth||2,e.moveTo(o,f),e.lineTo(a,f),e.stroke()}}function MY(e,t){const n=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=n}function au(e,t,n,r,i,s={}){const o=Vn(t)?t:[t],a=s.strokeWidth>0&&s.strokeColor!=="";let l,c;for(e.save(),e.font=i.string,PY(e,s),l=0;l<o.length;++l)c=o[l],s.backdrop&&MY(e,s.backdrop),a&&(s.strokeColor&&(e.strokeStyle=s.strokeColor),Zt(s.strokeWidth)||(e.lineWidth=s.strokeWidth),e.strokeText(c,n,r,s.maxWidth)),e.fillText(c,n,r,s.maxWidth),AY(e,n,r,c,s),r+=Number(i.lineHeight);e.restore()}function mp(e,t){const{x:n,y:r,w:i,h:s,radius:o}=t;e.arc(n+o.topLeft,r+o.topLeft,o.topLeft,1.5*pn,pn,!0),e.lineTo(n,r+s-o.bottomLeft),e.arc(n+o.bottomLeft,r+s-o.bottomLeft,o.bottomLeft,pn,hr,!0),e.lineTo(n+i-o.bottomRight,r+s),e.arc(n+i-o.bottomRight,r+s-o.bottomRight,o.bottomRight,hr,0,!0),e.lineTo(n+i,r+o.topRight),e.arc(n+i-o.topRight,r+o.topRight,o.topRight,0,-hr,!0),e.lineTo(n+o.topLeft,r)}const DY=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,LY=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function FY(e,t){const n=(""+e).match(DY);if(!n||n[1]==="normal")return t*1.2;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100;break}return t*e}const BY=e=>+e||0;function eS(e,t){const n={},r=nn(t),i=r?Object.keys(t):t,s=nn(e)?r?o=>Nt(e[o],e[t[o]]):o=>e[o]:()=>e;for(const o of i)n[o]=BY(s(o));return n}function tI(e){return eS(e,{top:"y",right:"x",bottom:"y",left:"x"})}function Zc(e){return eS(e,["topLeft","topRight","bottomLeft","bottomRight"])}function hi(e){const t=tI(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function Pr(e,t){e=e||{},t=t||qn.font;let n=Nt(e.size,t.size);typeof n=="string"&&(n=parseInt(n,10));let r=Nt(e.style,t.style);r&&!(""+r).match(LY)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const i={family:Nt(e.family,t.family),lineHeight:FY(Nt(e.lineHeight,t.lineHeight),n),size:n,style:r,weight:Nt(e.weight,t.weight),string:""};return i.string=IY(i),i}function Rh(e,t,n,r){let i,s,o;for(i=0,s=e.length;i<s;++i)if(o=e[i],o!==void 0&&o!==void 0)return o}function $Y(e,t,n){const{min:r,max:i}=e,s=H9(t,(i-r)/2),o=(a,l)=>n&&a===0?0:a+l;return{min:o(r,-Math.abs(s)),max:o(i,s)}}function Jl(e,t){return Object.assign(Object.create(e),t)}function tS(e,t=[""],n,r,i=()=>e[0]){const s=n||e;typeof r>"u"&&(r=sI("_fallback",e));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:s,_fallback:r,_getTarget:i,override:a=>tS([a,...e],t,s,r)};return new Proxy(o,{deleteProperty(a,l){return delete a[l],delete a._keys,delete e[0][l],!0},get(a,l){return rI(a,l,()=>KY(l,t,e,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(a,l){return qk(a).includes(l)},ownKeys(a){return qk(a)},set(a,l,c){const f=a._storage||(a._storage=i());return a[l]=f[l]=c,delete a._keys,!0}})}function tf(e,t,n,r){const i={_cacheable:!1,_proxy:e,_context:t,_subProxy:n,_stack:new Set,_descriptors:nI(e,r),setContext:s=>tf(e,s,n,r),override:s=>tf(e.override(s),t,n,r)};return new Proxy(i,{deleteProperty(s,o){return delete s[o],delete e[o],!0},get(s,o,a){return rI(s,o,()=>UY(s,o,a))},getOwnPropertyDescriptor(s,o){return s._descriptors.allKeys?Reflect.has(e,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,o)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(s,o){return Reflect.has(e,o)},ownKeys(){return Reflect.ownKeys(e)},set(s,o,a){return e[o]=a,delete s[o],!0}})}function nI(e,t={scriptable:!0,indexable:!0}){const{_scriptable:n=t.scriptable,_indexable:r=t.indexable,_allKeys:i=t.allKeys}=e;return{allKeys:i,scriptable:n,indexable:r,isScriptable:Bl(n)?n:()=>n,isIndexable:Bl(r)?r:()=>r}}const zY=(e,t)=>e?e+G2(t):t,nS=(e,t)=>nn(t)&&e!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function rI(e,t,n){if(Object.prototype.hasOwnProperty.call(e,t)||t==="constructor")return e[t];const r=n();return e[t]=r,r}function UY(e,t,n){const{_proxy:r,_context:i,_subProxy:s,_descriptors:o}=e;let a=r[t];return Bl(a)&&o.isScriptable(t)&&(a=HY(t,a,e,n)),Vn(a)&&a.length&&(a=WY(t,a,e,o.isIndexable)),nS(t,a)&&(a=tf(a,i,s&&s[t],o)),a}function HY(e,t,n,r){const{_proxy:i,_context:s,_subProxy:o,_stack:a}=n;if(a.has(e))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+e);a.add(e);let l=t(s,o||r);return a.delete(e),nS(e,l)&&(l=rS(i._scopes,i,e,l)),l}function WY(e,t,n,r){const{_proxy:i,_context:s,_subProxy:o,_descriptors:a}=n;if(typeof s.index<"u"&&r(e))return t[s.index%t.length];if(nn(t[0])){const l=t,c=i._scopes.filter(f=>f!==l);t=[];for(const f of l){const p=rS(c,i,e,f);t.push(tf(p,s,o&&o[e],a))}}return t}function iI(e,t,n){return Bl(e)?e(t,n):e}const VY=(e,t)=>e===!0?t:typeof e=="string"?Fl(t,e):void 0;function qY(e,t,n,r,i){for(const s of t){const o=VY(n,s);if(o){e.add(o);const a=iI(o._fallback,n,i);if(typeof a<"u"&&a!==n&&a!==r)return a}else if(o===!1&&typeof r<"u"&&n!==r)return null}return!1}function rS(e,t,n,r){const i=t._rootScopes,s=iI(t._fallback,n,r),o=[...e,...i],a=new Set;a.add(r);let l=Vk(a,o,n,s||n,r);return l===null||typeof s<"u"&&s!==n&&(l=Vk(a,o,s,l,r),l===null)?!1:tS(Array.from(a),[""],i,s,()=>QY(t,n,r))}function Vk(e,t,n,r,i){for(;n;)n=qY(e,t,n,r,i);return n}function QY(e,t,n){const r=e._getTarget();t in r||(r[t]={});const i=r[t];return Vn(i)&&nn(n)?n:i||{}}function KY(e,t,n,r){let i;for(const s of t)if(i=sI(zY(s,e),n),typeof i<"u")return nS(e,i)?rS(n,r,e,i):i}function sI(e,t){for(const n of t){if(!n)continue;const r=n[e];if(typeof r<"u")return r}}function qk(e){let t=e._keys;return t||(t=e._keys=GY(e._scopes)),t}function GY(e){const t=new Set;for(const n of e)for(const r of Object.keys(n).filter(i=>!i.startsWith("_")))t.add(r);return Array.from(t)}function oI(e,t,n,r){const{iScale:i}=e,{key:s="r"}=this._parsing,o=new Array(r);let a,l,c,f;for(a=0,l=r;a<l;++a)c=a+n,f=t[c],o[a]={r:i.parse(Fl(f,s),c)};return o}const YY=Number.EPSILON||1e-14,nf=(e,t)=>t<e.length&&!e[t].skip&&e[t],aI=e=>e==="x"?"y":"x";function JY(e,t,n,r){const i=e.skip?t:e,s=t,o=n.skip?t:n,a=Hw(s,i),l=Hw(o,s);let c=a/(a+l),f=l/(a+l);c=isNaN(c)?0:c,f=isNaN(f)?0:f;const p=r*c,g=r*f;return{previous:{x:s.x-p*(o.x-i.x),y:s.y-p*(o.y-i.y)},next:{x:s.x+g*(o.x-i.x),y:s.y+g*(o.y-i.y)}}}function XY(e,t,n){const r=e.length;let i,s,o,a,l,c=nf(e,0);for(let f=0;f<r-1;++f)if(l=c,c=nf(e,f+1),!(!l||!c)){if(Wh(t[f],0,YY)){n[f]=n[f+1]=0;continue}i=n[f]/t[f],s=n[f+1]/t[f],a=Math.pow(i,2)+Math.pow(s,2),!(a<=9)&&(o=3/Math.sqrt(a),n[f]=i*o*t[f],n[f+1]=s*o*t[f])}}function ZY(e,t,n="x"){const r=aI(n),i=e.length;let s,o,a,l=nf(e,0);for(let c=0;c<i;++c){if(o=a,a=l,l=nf(e,c+1),!a)continue;const f=a[n],p=a[r];o&&(s=(f-o[n])/3,a[`cp1${n}`]=f-s,a[`cp1${r}`]=p-s*t[c]),l&&(s=(l[n]-f)/3,a[`cp2${n}`]=f+s,a[`cp2${r}`]=p+s*t[c])}}function eJ(e,t="x"){const n=aI(t),r=e.length,i=Array(r).fill(0),s=Array(r);let o,a,l,c=nf(e,0);for(o=0;o<r;++o)if(a=l,l=c,c=nf(e,o+1),!!l){if(c){const f=c[t]-l[t];i[o]=f!==0?(c[n]-l[n])/f:0}s[o]=a?c?Lo(i[o-1])!==Lo(i[o])?0:(i[o-1]+i[o])/2:i[o-1]:i[o]}XY(e,i,s),ZY(e,s,t)}function $g(e,t,n){return Math.max(Math.min(e,n),t)}function tJ(e,t){let n,r,i,s,o,a=xa(e[0],t);for(n=0,r=e.length;n<r;++n)o=s,s=a,a=n<r-1&&xa(e[n+1],t),s&&(i=e[n],o&&(i.cp1x=$g(i.cp1x,t.left,t.right),i.cp1y=$g(i.cp1y,t.top,t.bottom)),a&&(i.cp2x=$g(i.cp2x,t.left,t.right),i.cp2y=$g(i.cp2y,t.top,t.bottom)))}function nJ(e,t,n,r,i){let s,o,a,l;if(t.spanGaps&&(e=e.filter(c=>!c.skip)),t.cubicInterpolationMode==="monotone")eJ(e,i);else{let c=r?e[e.length-1]:e[0];for(s=0,o=e.length;s<o;++s)a=e[s],l=JY(c,a,e[Math.min(s+1,o-(r?0:1))%o],t.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,c=a}t.capBezierPoints&&tJ(e,n)}function iS(){return typeof window<"u"&&typeof document<"u"}function sS(e){let t=e.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function my(e,t,n){let r;return typeof e=="string"?(r=parseInt(e,10),e.indexOf("%")!==-1&&(r=r/100*t.parentNode[n])):r=e,r}const u1=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);function rJ(e,t){return u1(e).getPropertyValue(t)}const iJ=["top","right","bottom","left"];function eu(e,t,n){const r={};n=n?"-"+n:"";for(let i=0;i<4;i++){const s=iJ[i];r[s]=parseFloat(e[t+"-"+s+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const sJ=(e,t,n)=>(e>0||t>0)&&(!n||!n.shadowRoot);function oJ(e,t){const n=e.touches,r=n&&n.length?n[0]:e,{offsetX:i,offsetY:s}=r;let o=!1,a,l;if(sJ(i,s,e.target))a=i,l=s;else{const c=t.getBoundingClientRect();a=r.clientX-c.left,l=r.clientY-c.top,o=!0}return{x:a,y:l,box:o}}function Ac(e,t){if("native"in e)return e;const{canvas:n,currentDevicePixelRatio:r}=t,i=u1(n),s=i.boxSizing==="border-box",o=eu(i,"padding"),a=eu(i,"border","width"),{x:l,y:c,box:f}=oJ(e,n),p=o.left+(f&&a.left),g=o.top+(f&&a.top);let{width:y,height:x}=t;return s&&(y-=o.width+a.width,x-=o.height+a.height),{x:Math.round((l-p)/y*n.width/r),y:Math.round((c-g)/x*n.height/r)}}function aJ(e,t,n){let r,i;if(t===void 0||n===void 0){const s=e&&sS(e);if(!s)t=e.clientWidth,n=e.clientHeight;else{const o=s.getBoundingClientRect(),a=u1(s),l=eu(a,"border","width"),c=eu(a,"padding");t=o.width-c.width-l.width,n=o.height-c.height-l.height,r=my(a.maxWidth,s,"clientWidth"),i=my(a.maxHeight,s,"clientHeight")}}return{width:t,height:n,maxWidth:r||hy,maxHeight:i||hy}}const Cl=e=>Math.round(e*10)/10;function lJ(e,t,n,r){const i=u1(e),s=eu(i,"margin"),o=my(i.maxWidth,e,"clientWidth")||hy,a=my(i.maxHeight,e,"clientHeight")||hy,l=aJ(e,t,n);let{width:c,height:f}=l;if(i.boxSizing==="content-box"){const g=eu(i,"border","width"),y=eu(i,"padding");c-=y.width+g.width,f-=y.height+g.height}return c=Math.max(0,c-s.width),f=Math.max(0,r?c/r:f-s.height),c=Cl(Math.min(c,o,l.maxWidth)),f=Cl(Math.min(f,a,l.maxHeight)),c&&!f&&(f=Cl(c/2)),(t!==void 0||n!==void 0)&&r&&l.height&&f>l.height&&(f=l.height,c=Cl(Math.floor(f*r))),{width:c,height:f}}function Qk(e,t,n){const r=t||1,i=Cl(e.height*r),s=Cl(e.width*r);e.height=Cl(e.height),e.width=Cl(e.width);const o=e.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${e.height}px`,o.style.width=`${e.width}px`),e.currentDevicePixelRatio!==r||o.height!==i||o.width!==s?(e.currentDevicePixelRatio=r,o.height=i,o.width=s,e.ctx.setTransform(r,0,0,r,0,0),!0):!1}const cJ=(function(){let e=!1;try{const t={get passive(){return e=!0,!1}};iS()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return e})();function Kk(e,t){const n=rJ(e,t),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function Mc(e,t,n,r){return{x:e.x+n*(t.x-e.x),y:e.y+n*(t.y-e.y)}}function uJ(e,t,n,r){return{x:e.x+n*(t.x-e.x),y:r==="middle"?n<.5?e.y:t.y:r==="after"?n<1?e.y:t.y:n>0?t.y:e.y}}function dJ(e,t,n,r){const i={x:e.cp2x,y:e.cp2y},s={x:t.cp1x,y:t.cp1y},o=Mc(e,i,n),a=Mc(i,s,n),l=Mc(s,t,n),c=Mc(o,a,n),f=Mc(a,l,n);return Mc(c,f,n)}const fJ=function(e,t){return{x(n){return e+e+t-n},setWidth(n){t=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,r){return n-r},leftForLtr(n,r){return n-r}}},hJ=function(){return{x(e){return e},setWidth(e){},textAlign(e){return e},xPlus(e,t){return e+t},leftForLtr(e,t){return e}}};function zd(e,t,n){return e?fJ(t,n):hJ()}function lI(e,t){let n,r;(t==="ltr"||t==="rtl")&&(n=e.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=r)}function cI(e,t){t!==void 0&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function uI(e){return e==="angle"?{between:pp,compare:pY,normalize:ui}:{between:va,compare:(t,n)=>t-n,normalize:t=>t}}function Gk({start:e,end:t,count:n,loop:r,style:i}){return{start:e%n,end:t%n,loop:r&&(t-e+1)%n===0,style:i}}function pJ(e,t,n){const{property:r,start:i,end:s}=n,{between:o,normalize:a}=uI(r),l=t.length;let{start:c,end:f,loop:p}=e,g,y;if(p){for(c+=l,f+=l,g=0,y=l;g<y&&o(a(t[c%l][r]),i,s);++g)c--,f--;c%=l,f%=l}return f<c&&(f+=l),{start:c,end:f,loop:p,style:e.style}}function dI(e,t,n){if(!n)return[e];const{property:r,start:i,end:s}=n,o=t.length,{compare:a,between:l,normalize:c}=uI(r),{start:f,end:p,loop:g,style:y}=pJ(e,t,n),x=[];let _=!1,S=null,C,I,A;const z=()=>l(i,A,C)&&a(i,A)!==0,U=()=>a(s,C)===0||l(s,A,C),O=()=>_||z(),N=()=>!_||U();for(let F=f,$=f;F<=p;++F)I=t[F%o],!I.skip&&(C=c(I[r]),C!==A&&(_=l(C,i,s),S===null&&O()&&(S=a(C,i)===0?F:$),S!==null&&N()&&(x.push(Gk({start:S,end:F,loop:g,count:o,style:y})),S=null),$=F,A=C));return S!==null&&x.push(Gk({start:S,end:p,loop:g,count:o,style:y})),x}function fI(e,t){const n=[],r=e.segments;for(let i=0;i<r.length;i++){const s=dI(r[i],e.points,t);s.length&&n.push(...s)}return n}function mJ(e,t,n,r){let i=0,s=t-1;if(n&&!r)for(;i<t&&!e[i].skip;)i++;for(;i<t&&e[i].skip;)i++;for(i%=t,n&&(s+=i);s>i&&e[s%t].skip;)s--;return s%=t,{start:i,end:s}}function gJ(e,t,n,r){const i=e.length,s=[];let o=t,a=e[t],l;for(l=t+1;l<=n;++l){const c=e[l%i];c.skip||c.stop?a.skip||(r=!1,s.push({start:t%i,end:(l-1)%i,loop:r}),t=o=c.stop?l:null):(o=l,a.skip&&(t=l)),a=c}return o!==null&&s.push({start:t%i,end:o%i,loop:r}),s}function yJ(e,t){const n=e.points,r=e.options.spanGaps,i=n.length;if(!i)return[];const s=!!e._loop,{start:o,end:a}=mJ(n,i,s,r);if(r===!0)return Yk(e,[{start:o,end:a,loop:s}],n,t);const l=a<o?a+i:a,c=!!e._fullLoop&&o===0&&a===i-1;return Yk(e,gJ(n,o,l,c),n,t)}function Yk(e,t,n,r){return!r||!r.setContext||!n?t:vJ(e,t,n,r)}function vJ(e,t,n,r){const i=e._chart.getContext(),s=Jk(e.options),{_datasetIndex:o,options:{spanGaps:a}}=e,l=n.length,c=[];let f=s,p=t[0].start,g=p;function y(x,_,S,C){const I=a?-1:1;if(x!==_){for(x+=l;n[x%l].skip;)x-=I;for(;n[_%l].skip;)_+=I;x%l!==_%l&&(c.push({start:x%l,end:_%l,loop:S,style:C}),f=C,p=_%l)}}for(const x of t){p=a?p:x.start;let _=n[p%l],S;for(g=p+1;g<=x.end;g++){const C=n[g%l];S=Jk(r.setContext(Jl(i,{type:"segment",p0:_,p1:C,p0DataIndex:(g-1)%l,p1DataIndex:g%l,datasetIndex:o}))),bJ(S,f)&&y(p,g-1,x.loop,f),_=C,f=S}p<g-1&&y(p,g-1,x.loop,f)}return c}function Jk(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function bJ(e,t){if(!t)return!1;const n=[],r=function(i,s){return Z2(s)?(n.includes(s)||n.push(s),n.indexOf(s)):s};return JSON.stringify(e,r)!==JSON.stringify(t,r)}function zg(e,t,n){return e.options.clip?e[n]:t[n]}function xJ(e,t){const{xScale:n,yScale:r}=e;return n&&r?{left:zg(n,t,"left"),right:zg(n,t,"right"),top:zg(r,t,"top"),bottom:zg(r,t,"bottom")}:t}function hI(e,t){const n=t._clip;if(n.disabled)return!1;const r=xJ(t,e.chartArea);return{left:n.left===!1?0:r.left-(n.left===!0?0:n.left),right:n.right===!1?e.width:r.right+(n.right===!0?0:n.right),top:n.top===!1?0:r.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?e.height:r.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class wJ{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,n,r,i){const s=n.listeners[i],o=n.duration;s.forEach(a=>a({chart:t,initial:n.initial,numSteps:o,currentStep:Math.min(r-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=G9.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let n=0;this._charts.forEach((r,i)=>{if(!r.running||!r.items.length)return;const s=r.items;let o=s.length-1,a=!1,l;for(;o>=0;--o)l=s[o],l._active?(l._total>r.duration&&(r.duration=l._total),l.tick(t),a=!0):(s[o]=s[s.length-1],s.pop());a&&(i.draw(),this._notify(i,r,t,"progress")),s.length||(r.running=!1,this._notify(i,r,t,"complete"),r.initial=!1),n+=s.length}),this._lastDate=t,n===0&&(this._running=!1)}_getAnims(t){const n=this._charts;let r=n.get(t);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(t,r)),r}listen(t,n,r){this._getAnims(t).listeners[n].push(r)}add(t,n){!n||!n.length||this._getAnims(t).items.push(...n)}has(t){return this._getAnims(t).items.length>0}start(t){const n=this._charts.get(t);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((r,i)=>Math.max(r,i._duration),0),this._refresh())}running(t){if(!this._running)return!1;const n=this._charts.get(t);return!(!n||!n.running||!n.items.length)}stop(t){const n=this._charts.get(t);if(!n||!n.items.length)return;const r=n.items;let i=r.length-1;for(;i>=0;--i)r[i].cancel();n.items=[],this._notify(t,n,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var da=new wJ;const Xk="transparent",_J={boolean(e,t,n){return n>.5?t:e},color(e,t,n){const r=Uk(e||Xk),i=r.valid&&Uk(t||Xk);return i&&i.valid?i.mix(r,n).hexString():t},number(e,t,n){return e+(t-e)*n}};class SJ{constructor(t,n,r,i){const s=n[r];i=Rh([t.to,i,s,t.from]);const o=Rh([t.from,s,i]);this._active=!0,this._fn=t.fn||_J[t.type||typeof o],this._easing=Vh[t.easing]||Vh.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=n,this._prop=r,this._from=o,this._to=i,this._promises=void 0}active(){return this._active}update(t,n,r){if(this._active){this._notify(!1);const i=this._target[this._prop],s=r-this._start,o=this._duration-s;this._start=r,this._duration=Math.floor(Math.max(o,t.duration)),this._total+=s,this._loop=!!t.loop,this._to=Rh([t.to,n,i,t.from]),this._from=Rh([t.from,i,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const n=t-this._start,r=this._duration,i=this._prop,s=this._from,o=this._loop,a=this._to;let l;if(this._active=s!==a&&(o||n<r),!this._active){this._target[i]=a,this._notify(!0);return}if(n<0){this._target[i]=s;return}l=n/r%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[i]=this._fn(s,a,l)}wait(){const t=this._promises||(this._promises=[]);return new Promise((n,r)=>{t.push({res:n,rej:r})})}_notify(t){const n=t?"res":"rej",r=this._promises||[];for(let i=0;i<r.length;i++)r[i][n]()}}class pI{constructor(t,n){this._chart=t,this._properties=new Map,this.configure(n)}configure(t){if(!nn(t))return;const n=Object.keys(qn.animation),r=this._properties;Object.getOwnPropertyNames(t).forEach(i=>{const s=t[i];if(!nn(s))return;const o={};for(const a of n)o[a]=s[a];(Vn(s.properties)&&s.properties||[i]).forEach(a=>{(a===i||!r.has(a))&&r.set(a,o)})})}_animateOptions(t,n){const r=n.options,i=CJ(t,r);if(!i)return[];const s=this._createAnimations(i,r);return r.$shared&&EJ(t.options.$animations,r).then(()=>{t.options=r},()=>{}),s}_createAnimations(t,n){const r=this._properties,i=[],s=t.$animations||(t.$animations={}),o=Object.keys(n),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const c=o[l];if(c.charAt(0)==="$")continue;if(c==="options"){i.push(...this._animateOptions(t,n));continue}const f=n[c];let p=s[c];const g=r.get(c);if(p)if(g&&p.active()){p.update(g,f,a);continue}else p.cancel();if(!g||!g.duration){t[c]=f;continue}s[c]=p=new SJ(g,t,c,f),i.push(p)}return i}update(t,n){if(this._properties.size===0){Object.assign(t,n);return}const r=this._createAnimations(t,n);if(r.length)return da.add(this._chart,r),!0}}function EJ(e,t){const n=[],r=Object.keys(t);for(let i=0;i<r.length;i++){const s=e[r[i]];s&&s.active()&&n.push(s.wait())}return Promise.all(n)}function CJ(e,t){if(!t)return;let n=e.options;if(!n){e.options=t;return}return n.$shared&&(e.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function Zk(e,t){const n=e&&e.options||{},r=n.reverse,i=n.min===void 0?t:0,s=n.max===void 0?t:0;return{start:r?s:i,end:r?i:s}}function kJ(e,t,n){if(n===!1)return!1;const r=Zk(e,n),i=Zk(t,n);return{top:i.end,right:r.end,bottom:i.start,left:r.start}}function TJ(e){let t,n,r,i;return nn(e)?(t=e.top,n=e.right,r=e.bottom,i=e.left):t=n=r=i=e,{top:t,right:n,bottom:r,left:i,disabled:e===!1}}function mI(e,t){const n=[],r=e._getSortedDatasetMetas(t);let i,s;for(i=0,s=r.length;i<s;++i)n.push(r[i].index);return n}function e4(e,t,n,r={}){const i=e.keys,s=r.mode==="single";let o,a,l,c;if(t===null)return;let f=!1;for(o=0,a=i.length;o<a;++o){if(l=+i[o],l===n){if(f=!0,r.all)continue;break}c=e.values[l],ar(c)&&(s||t===0||Lo(t)===Lo(c))&&(t+=c)}return!f&&!r.all?0:t}function jJ(e,t){const{iScale:n,vScale:r}=t,i=n.axis==="x"?"x":"y",s=r.axis==="x"?"x":"y",o=Object.keys(e),a=new Array(o.length);let l,c,f;for(l=0,c=o.length;l<c;++l)f=o[l],a[l]={[i]:f,[s]:e[f]};return a}function Yb(e,t){const n=e&&e.options.stacked;return n||n===void 0&&t.stack!==void 0}function IJ(e,t,n){return`${e.id}.${t.id}.${n.stack||n.type}`}function RJ(e){const{min:t,max:n,minDefined:r,maxDefined:i}=e.getUserBounds();return{min:r?t:Number.NEGATIVE_INFINITY,max:i?n:Number.POSITIVE_INFINITY}}function NJ(e,t,n){const r=e[t]||(e[t]={});return r[n]||(r[n]={})}function t4(e,t,n,r){for(const i of t.getMatchingVisibleMetas(r).reverse()){const s=e[i.index];if(n&&s>0||!n&&s<0)return i.index}return null}function n4(e,t){const{chart:n,_cachedMeta:r}=e,i=n._stacks||(n._stacks={}),{iScale:s,vScale:o,index:a}=r,l=s.axis,c=o.axis,f=IJ(s,o,r),p=t.length;let g;for(let y=0;y<p;++y){const x=t[y],{[l]:_,[c]:S}=x,C=x._stacks||(x._stacks={});g=C[c]=NJ(i,f,_),g[a]=S,g._top=t4(g,o,!0,r.type),g._bottom=t4(g,o,!1,r.type);const I=g._visualValues||(g._visualValues={});I[a]=S}}function Jb(e,t){const n=e.scales;return Object.keys(n).filter(r=>n[r].axis===t).shift()}function OJ(e,t){return Jl(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function PJ(e,t,n){return Jl(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}function hh(e,t){const n=e.controller.index,r=e.vScale&&e.vScale.axis;if(r){t=t||e._parsed;for(const i of t){const s=i._stacks;if(!s||s[r]===void 0||s[r][n]===void 0)return;delete s[r][n],s[r]._visualValues!==void 0&&s[r]._visualValues[n]!==void 0&&delete s[r]._visualValues[n]}}}const Xb=e=>e==="reset"||e==="none",r4=(e,t)=>t?e:Object.assign({},e),AJ=(e,t,n)=>e&&!t.hidden&&t._stacked&&{keys:mI(n,!0),values:null};class Xl{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(t,n){this.chart=t,this._ctx=t.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=Yb(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&hh(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,n=this._cachedMeta,r=this.getDataset(),i=(p,g,y,x)=>p==="x"?g:p==="r"?x:y,s=n.xAxisID=Nt(r.xAxisID,Jb(t,"x")),o=n.yAxisID=Nt(r.yAxisID,Jb(t,"y")),a=n.rAxisID=Nt(r.rAxisID,Jb(t,"r")),l=n.indexAxis,c=n.iAxisID=i(l,s,o,a),f=n.vAxisID=i(l,o,s,a);n.xScale=this.getScaleForId(s),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(a),n.iScale=this.getScaleForId(c),n.vScale=this.getScaleForId(f)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const n=this._cachedMeta;return t===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&Bk(this._data,this),t._stacked&&hh(t)}_dataCheck(){const t=this.getDataset(),n=t.data||(t.data=[]),r=this._data;if(nn(n)){const i=this._cachedMeta;this._data=jJ(n,i)}else if(r!==n){if(r){Bk(r,this);const i=this._cachedMeta;hh(i),i._parsed=[]}n&&Object.isExtensible(n)&&vY(n,this),this._syncList=[],this._data=n}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const n=this._cachedMeta,r=this.getDataset();let i=!1;this._dataCheck();const s=n._stacked;n._stacked=Yb(n.vScale,n),n.stack!==r.stack&&(i=!0,hh(n),n.stack=r.stack),this._resyncElements(t),(i||s!==n._stacked)&&(n4(this,n._parsed),n._stacked=Yb(n.vScale,n))}configure(){const t=this.chart.config,n=t.datasetScopeKeys(this._type),r=t.getOptionScopes(this.getDataset(),n,!0);this.options=t.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,n){const{_cachedMeta:r,_data:i}=this,{iScale:s,_stacked:o}=r,a=s.axis;let l=t===0&&n===i.length?!0:r._sorted,c=t>0&&r._parsed[t-1],f,p,g;if(this._parsing===!1)r._parsed=i,r._sorted=!0,g=i;else{Vn(i[t])?g=this.parseArrayData(r,i,t,n):nn(i[t])?g=this.parseObjectData(r,i,t,n):g=this.parsePrimitiveData(r,i,t,n);const y=()=>p[a]===null||c&&p[a]<c[a];for(f=0;f<n;++f)r._parsed[f+t]=p=g[f],l&&(y()&&(l=!1),c=p);r._sorted=l}o&&n4(this,g)}parsePrimitiveData(t,n,r,i){const{iScale:s,vScale:o}=t,a=s.axis,l=o.axis,c=s.getLabels(),f=s===o,p=new Array(i);let g,y,x;for(g=0,y=i;g<y;++g)x=g+r,p[g]={[a]:f||s.parse(c[x],x),[l]:o.parse(n[x],x)};return p}parseArrayData(t,n,r,i){const{xScale:s,yScale:o}=t,a=new Array(i);let l,c,f,p;for(l=0,c=i;l<c;++l)f=l+r,p=n[f],a[l]={x:s.parse(p[0],f),y:o.parse(p[1],f)};return a}parseObjectData(t,n,r,i){const{xScale:s,yScale:o}=t,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=new Array(i);let f,p,g,y;for(f=0,p=i;f<p;++f)g=f+r,y=n[g],c[f]={x:s.parse(Fl(y,a),g),y:o.parse(Fl(y,l),g)};return c}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,n,r){const i=this.chart,s=this._cachedMeta,o=n[t.axis],a={keys:mI(i,!0),values:n._stacks[t.axis]._visualValues};return e4(a,o,s.index,{mode:r})}updateRangeFromParsed(t,n,r,i){const s=r[n.axis];let o=s===null?NaN:s;const a=i&&r._stacks[n.axis];i&&a&&(i.values=a,o=e4(i,s,this._cachedMeta.index)),t.min=Math.min(t.min,o),t.max=Math.max(t.max,o)}getMinMax(t,n){const r=this._cachedMeta,i=r._parsed,s=r._sorted&&t===r.iScale,o=i.length,a=this._getOtherScale(t),l=AJ(n,r,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:f,max:p}=RJ(a);let g,y;function x(){y=i[g];const _=y[a.axis];return!ar(y[t.axis])||f>_||p<_}for(g=0;g<o&&!(!x()&&(this.updateRangeFromParsed(c,t,y,l),s));++g);if(s){for(g=o-1;g>=0;--g)if(!x()){this.updateRangeFromParsed(c,t,y,l);break}}return c}getAllParsedValues(t){const n=this._cachedMeta._parsed,r=[];let i,s,o;for(i=0,s=n.length;i<s;++i)o=n[i][t.axis],ar(o)&&r.push(o);return r}getMaxOverflow(){return!1}getLabelAndValue(t){const n=this._cachedMeta,r=n.iScale,i=n.vScale,s=this.getParsed(t);return{label:r?""+r.getLabelForValue(s[r.axis]):"",value:i?""+i.getLabelForValue(s[i.axis]):""}}_update(t){const n=this._cachedMeta;this.update(t||"default"),n._clip=TJ(Nt(this.options.clip,kJ(n.xScale,n.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,n=this.chart,r=this._cachedMeta,i=r.data||[],s=n.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||i.length-a,c=this.options.drawActiveElementsOnTop;let f;for(r.dataset&&r.dataset.draw(t,s,a,l),f=a;f<a+l;++f){const p=i[f];p.hidden||(p.active&&c?o.push(p):p.draw(t,s))}for(f=0;f<o.length;++f)o[f].draw(t,s)}getStyle(t,n){const r=n?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(t||0,r)}getContext(t,n,r){const i=this.getDataset();let s;if(t>=0&&t<this._cachedMeta.data.length){const o=this._cachedMeta.data[t];s=o.$context||(o.$context=PJ(this.getContext(),t,o)),s.parsed=this.getParsed(t),s.raw=i.data[t],s.index=s.dataIndex=t}else s=this.$context||(this.$context=OJ(this.chart.getContext(),this.index)),s.dataset=i,s.index=s.datasetIndex=this.index;return s.active=!!n,s.mode=r,s}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,n){return this._resolveElementOptions(this.dataElementType.id,n,t)}_resolveElementOptions(t,n="default",r){const i=n==="active",s=this._cachedDataOpts,o=t+"-"+n,a=s[o],l=this.enableOptionSharing&&hp(r);if(a)return r4(a,l);const c=this.chart.config,f=c.datasetElementScopeKeys(this._type,t),p=i?[`${t}Hover`,"hover",t,""]:[t,""],g=c.getOptionScopes(this.getDataset(),f),y=Object.keys(qn.elements[t]),x=()=>this.getContext(r,i,n),_=c.resolveNamedOptions(g,y,x,p);return _.$shared&&(_.$shared=l,s[o]=Object.freeze(r4(_,l))),_}_resolveAnimations(t,n,r){const i=this.chart,s=this._cachedDataOpts,o=`animation-${n}`,a=s[o];if(a)return a;let l;if(i.options.animation!==!1){const f=this.chart.config,p=f.datasetAnimationScopeKeys(this._type,n),g=f.getOptionScopes(this.getDataset(),p);l=f.createResolver(g,this.getContext(t,r,n))}const c=new pI(i,l&&l.animations);return l&&l._cacheable&&(s[o]=Object.freeze(c)),c}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,n){return!n||Xb(t)||this.chart._animationsDisabled}_getSharedOptions(t,n){const r=this.resolveDataElementOptions(t,n),i=this._sharedOptions,s=this.getSharedOptions(r),o=this.includeOptions(n,s)||s!==i;return this.updateSharedOptions(s,n,r),{sharedOptions:s,includeOptions:o}}updateElement(t,n,r,i){Xb(i)?Object.assign(t,r):this._resolveAnimations(n,i).update(t,r)}updateSharedOptions(t,n,r){t&&!Xb(n)&&this._resolveAnimations(void 0,n).update(t,r)}_setStyle(t,n,r,i){t.active=i;const s=this.getStyle(n,i);this._resolveAnimations(n,r,i).update(t,{options:!i&&this.getSharedOptions(s)||s})}removeHoverStyle(t,n,r){this._setStyle(t,r,"active",!1)}setHoverStyle(t,n,r){this._setStyle(t,r,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const n=this._data,r=this._cachedMeta.data;for(const[a,l,c]of this._syncList)this[a](l,c);this._syncList=[];const i=r.length,s=n.length,o=Math.min(s,i);o&&this.parse(0,o),s>i?this._insertElements(i,s-i,t):s<i&&this._removeElements(s,i-s)}_insertElements(t,n,r=!0){const i=this._cachedMeta,s=i.data,o=t+n;let a;const l=c=>{for(c.length+=n,a=c.length-1;a>=o;a--)c[a]=c[a-n]};for(l(s),a=t;a<o;++a)s[a]=new this.dataElementType;this._parsing&&l(i._parsed),this.parse(t,n),r&&this.updateElements(s,t,n,"reset")}updateElements(t,n,r,i){}_removeElements(t,n){const r=this._cachedMeta;if(this._parsing){const i=r._parsed.splice(t,n);r._stacked&&hh(r,i)}r.data.splice(t,n)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[n,r,i]=t;this[n](r,i)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,n){n&&this._sync(["_removeElements",t,n]);const r=arguments.length-2;r&&this._sync(["_insertElements",t,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function MJ(e,t){if(!e._cache.$bar){const n=e.getMatchingVisibleMetas(t);let r=[];for(let i=0,s=n.length;i<s;i++)r=r.concat(n[i].controller.getAllParsedValues(e));e._cache.$bar=K9(r.sort((i,s)=>i-s))}return e._cache.$bar}function DJ(e){const t=e.iScale,n=MJ(t,e.type);let r=t._length,i,s,o,a;const l=()=>{o===32767||o===-32768||(hp(a)&&(r=Math.min(r,Math.abs(o-a)||r)),a=o)};for(i=0,s=n.length;i<s;++i)o=t.getPixelForValue(n[i]),l();for(a=void 0,i=0,s=t.ticks.length;i<s;++i)o=t.getPixelForTick(i),l();return r}function LJ(e,t,n,r){const i=n.barThickness;let s,o;return Zt(i)?(s=t.min*n.categoryPercentage,o=n.barPercentage):(s=i*r,o=1),{chunk:s/r,ratio:o,start:t.pixels[e]-s/2}}function FJ(e,t,n,r){const i=t.pixels,s=i[e];let o=e>0?i[e-1]:null,a=e<i.length-1?i[e+1]:null;const l=n.categoryPercentage;o===null&&(o=s-(a===null?t.end-t.start:a-s)),a===null&&(a=s+s-o);const c=s-(s-Math.min(o,a))/2*l;return{chunk:Math.abs(a-o)/2*l/r,ratio:n.barPercentage,start:c}}function BJ(e,t,n,r){const i=n.parse(e[0],r),s=n.parse(e[1],r),o=Math.min(i,s),a=Math.max(i,s);let l=o,c=a;Math.abs(o)>Math.abs(a)&&(l=a,c=o),t[n.axis]=c,t._custom={barStart:l,barEnd:c,start:i,end:s,min:o,max:a}}function gI(e,t,n,r){return Vn(e)?BJ(e,t,n,r):t[n.axis]=n.parse(e,r),t}function i4(e,t,n,r){const i=e.iScale,s=e.vScale,o=i.getLabels(),a=i===s,l=[];let c,f,p,g;for(c=n,f=n+r;c<f;++c)g=t[c],p={},p[i.axis]=a||i.parse(o[c],c),l.push(gI(g,p,s,c));return l}function Zb(e){return e&&e.barStart!==void 0&&e.barEnd!==void 0}function $J(e,t,n){return e!==0?Lo(e):(t.isHorizontal()?1:-1)*(t.min>=n?1:-1)}function zJ(e){let t,n,r,i,s;return e.horizontal?(t=e.base>e.x,n="left",r="right"):(t=e.base<e.y,n="bottom",r="top"),t?(i="end",s="start"):(i="start",s="end"),{start:n,end:r,reverse:t,top:i,bottom:s}}function UJ(e,t,n,r){let i=t.borderSkipped;const s={};if(!i){e.borderSkipped=s;return}if(i===!0){e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:a,reverse:l,top:c,bottom:f}=zJ(e);i==="middle"&&n&&(e.enableBorderRadius=!0,(n._top||0)===r?i=c:(n._bottom||0)===r?i=f:(s[s4(f,o,a,l)]=!0,i=c)),s[s4(i,o,a,l)]=!0,e.borderSkipped=s}function s4(e,t,n,r){return r?(e=HJ(e,t,n),e=o4(e,n,t)):e=o4(e,t,n),e}function HJ(e,t,n){return e===t?n:e===n?t:e}function o4(e,t,n){return e==="start"?t:e==="end"?n:e}function WJ(e,{inflateAmount:t},n){e.inflateAmount=t==="auto"?n===1?.33:0:t}class yI extends Xl{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(t,n,r,i){return i4(t,n,r,i)}parseArrayData(t,n,r,i){return i4(t,n,r,i)}parseObjectData(t,n,r,i){const{iScale:s,vScale:o}=t,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=s.axis==="x"?a:l,f=o.axis==="x"?a:l,p=[];let g,y,x,_;for(g=r,y=r+i;g<y;++g)_=n[g],x={},x[s.axis]=s.parse(Fl(_,c),g),p.push(gI(Fl(_,f),x,o,g));return p}updateRangeFromParsed(t,n,r,i){super.updateRangeFromParsed(t,n,r,i);const s=r._custom;s&&n===this._cachedMeta.vScale&&(t.min=Math.min(t.min,s.min),t.max=Math.max(t.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const n=this._cachedMeta,{iScale:r,vScale:i}=n,s=this.getParsed(t),o=s._custom,a=Zb(o)?"["+o.start+", "+o.end+"]":""+i.getLabelForValue(s[i.axis]);return{label:""+r.getLabelForValue(s[r.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,t)}updateElements(t,n,r,i){const s=i==="reset",{index:o,_cachedMeta:{vScale:a}}=this,l=a.getBasePixel(),c=a.isHorizontal(),f=this._getRuler(),{sharedOptions:p,includeOptions:g}=this._getSharedOptions(n,i);for(let y=n;y<n+r;y++){const x=this.getParsed(y),_=s||Zt(x[a.axis])?{base:l,head:l}:this._calculateBarValuePixels(y),S=this._calculateBarIndexPixels(y,f),C=(x._stacks||{})[a.axis],I={horizontal:c,base:_.base,enableBorderRadius:!C||Zb(x._custom)||o===C._top||o===C._bottom,x:c?_.head:S.center,y:c?S.center:_.head,height:c?S.size:Math.abs(_.size),width:c?Math.abs(_.size):S.size};g&&(I.options=p||this.resolveDataElementOptions(y,t[y].active?"active":i));const A=I.options||t[y].options;UJ(I,A,C,o),WJ(I,A,f.ratio),this.updateElement(t[y],y,I,i)}}_getStacks(t,n){const{iScale:r}=this._cachedMeta,i=r.getMatchingVisibleMetas(this._type).filter(f=>f.controller.options.grouped),s=r.options.stacked,o=[],a=this._cachedMeta.controller.getParsed(n),l=a&&a[r.axis],c=f=>{const p=f._parsed.find(y=>y[r.axis]===l),g=p&&p[f.vScale.axis];if(Zt(g)||isNaN(g))return!0};for(const f of i)if(!(n!==void 0&&c(f))&&((s===!1||o.indexOf(f.stack)===-1||s===void 0&&f.stack===void 0)&&o.push(f.stack),f.index===t))break;return o.length||o.push(void 0),o}_getStackCount(t){return this._getStacks(void 0,t).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const t=this.chart.scales,n=this.chart.options.indexAxis;return Object.keys(t).filter(r=>t[r].axis===n).shift()}_getAxis(){const t={},n=this.getFirstScaleIdForIndexAxis();for(const r of this.chart.data.datasets)t[Nt(this.chart.options.indexAxis==="x"?r.xAxisID:r.yAxisID,n)]=!0;return Object.keys(t)}_getStackIndex(t,n,r){const i=this._getStacks(t,r),s=n!==void 0?i.indexOf(n):-1;return s===-1?i.length-1:s}_getRuler(){const t=this.options,n=this._cachedMeta,r=n.iScale,i=[];let s,o;for(s=0,o=n.data.length;s<o;++s)i.push(r.getPixelForValue(this.getParsed(s)[r.axis],s));const a=t.barThickness;return{min:a||DJ(n),pixels:i,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:t.grouped,ratio:a?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:n,_stacked:r,index:i},options:{base:s,minBarLength:o}}=this,a=s||0,l=this.getParsed(t),c=l._custom,f=Zb(c);let p=l[n.axis],g=0,y=r?this.applyStack(n,l,r):p,x,_;y!==p&&(g=y-p,y=p),f&&(p=c.barStart,y=c.barEnd-c.barStart,p!==0&&Lo(p)!==Lo(c.barEnd)&&(g=0),g+=p);const S=!Zt(s)&&!f?s:g;let C=n.getPixelForValue(S);if(this.chart.getDataVisibility(t)?x=n.getPixelForValue(g+y):x=C,_=x-C,Math.abs(_)<o){_=$J(_,n,a)*o,p===a&&(C-=_/2);const I=n.getPixelForDecimal(0),A=n.getPixelForDecimal(1),z=Math.min(I,A),U=Math.max(I,A);C=Math.max(Math.min(C,U),z),x=C+_,r&&!f&&(l._stacks[n.axis]._visualValues[i]=n.getValueForPixel(x)-n.getValueForPixel(C))}if(C===n.getPixelForValue(a)){const I=Lo(_)*n.getLineWidthForValue(a)/2;C+=I,_-=I}return{size:_,base:C,head:x,center:x+_/2}}_calculateBarIndexPixels(t,n){const r=n.scale,i=this.options,s=i.skipNull,o=Nt(i.maxBarThickness,1/0);let a,l;const c=this._getAxisCount();if(n.grouped){const f=s?this._getStackCount(t):n.stackCount,p=i.barThickness==="flex"?FJ(t,n,i,f*c):LJ(t,n,i,f*c),g=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,y=this._getAxis().indexOf(Nt(g,this.getFirstScaleIdForIndexAxis())),x=this._getStackIndex(this.index,this._cachedMeta.stack,s?t:void 0)+y;a=p.start+p.chunk*x+p.chunk/2,l=Math.min(o,p.chunk*p.ratio)}else a=r.getPixelForValue(this.getParsed(t)[r.axis],t),l=Math.min(o,n.min*n.ratio);return{base:a-l/2,head:a+l/2,center:a,size:l}}draw(){const t=this._cachedMeta,n=t.vScale,r=t.data,i=r.length;let s=0;for(;s<i;++s)this.getParsed(s)[n.axis]!==null&&!r[s].hidden&&r[s].draw(this._ctx)}}class VJ extends Xl{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,n,r,i){const s=super.parsePrimitiveData(t,n,r,i);for(let o=0;o<s.length;o++)s[o]._custom=this.resolveDataElementOptions(o+r).radius;return s}parseArrayData(t,n,r,i){const s=super.parseArrayData(t,n,r,i);for(let o=0;o<s.length;o++){const a=n[r+o];s[o]._custom=Nt(a[2],this.resolveDataElementOptions(o+r).radius)}return s}parseObjectData(t,n,r,i){const s=super.parseObjectData(t,n,r,i);for(let o=0;o<s.length;o++){const a=n[r+o];s[o]._custom=Nt(a&&a.r&&+a.r,this.resolveDataElementOptions(o+r).radius)}return s}getMaxOverflow(){const t=this._cachedMeta.data;let n=0;for(let r=t.length-1;r>=0;--r)n=Math.max(n,t[r].size(this.resolveDataElementOptions(r))/2);return n>0&&n}getLabelAndValue(t){const n=this._cachedMeta,r=this.chart.data.labels||[],{xScale:i,yScale:s}=n,o=this.getParsed(t),a=i.getLabelForValue(o.x),l=s.getLabelForValue(o.y),c=o._custom;return{label:r[t]||"",value:"("+a+", "+l+(c?", "+c:"")+")"}}update(t){const n=this._cachedMeta.data;this.updateElements(n,0,n.length,t)}updateElements(t,n,r,i){const s=i==="reset",{iScale:o,vScale:a}=this._cachedMeta,{sharedOptions:l,includeOptions:c}=this._getSharedOptions(n,i),f=o.axis,p=a.axis;for(let g=n;g<n+r;g++){const y=t[g],x=!s&&this.getParsed(g),_={},S=_[f]=s?o.getPixelForDecimal(.5):o.getPixelForValue(x[f]),C=_[p]=s?a.getBasePixel():a.getPixelForValue(x[p]);_.skip=isNaN(S)||isNaN(C),c&&(_.options=l||this.resolveDataElementOptions(g,y.active?"active":i),s&&(_.options.radius=0)),this.updateElement(y,g,_,i)}}resolveDataElementOptions(t,n){const r=this.getParsed(t);let i=super.resolveDataElementOptions(t,n);i.$shared&&(i=Object.assign({},i,{$shared:!1}));const s=i.radius;return n!=="active"&&(i.radius=0),i.radius+=Nt(r&&r._custom,s),i}}function qJ(e,t,n){let r=1,i=1,s=0,o=0;if(t<Ln){const a=e,l=a+t,c=Math.cos(a),f=Math.sin(a),p=Math.cos(l),g=Math.sin(l),y=(A,z,U)=>pp(A,a,l,!0)?1:Math.max(z,z*n,U,U*n),x=(A,z,U)=>pp(A,a,l,!0)?-1:Math.min(z,z*n,U,U*n),_=y(0,c,p),S=y(hr,f,g),C=x(pn,c,p),I=x(pn+hr,f,g);r=(_-C)/2,i=(S-I)/2,s=-(_+C)/2,o=-(S+I)/2}return{ratioX:r,ratioY:i,offsetX:s,offsetY:o}}class d1 extends Xl{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const n=t.data,{labels:{pointStyle:r,textAlign:i,color:s,useBorderRadius:o,borderRadius:a}}=t.legend.options;return n.labels.length&&n.datasets.length?n.labels.map((l,c)=>{const p=t.getDatasetMeta(0).controller.getStyle(c);return{text:l,fillStyle:p.backgroundColor,fontColor:s,hidden:!t.getDataVisibility(c),lineDash:p.borderDash,lineDashOffset:p.borderDashOffset,lineJoin:p.borderJoinStyle,lineWidth:p.borderWidth,strokeStyle:p.borderColor,textAlign:i,pointStyle:r,borderRadius:o&&(a||p.borderRadius),index:c}}):[]}},onClick(t,n,r){r.chart.toggleDataVisibility(n.index),r.chart.update()}}}};constructor(t,n){super(t,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,n){const r=this.getDataset().data,i=this._cachedMeta;if(this._parsing===!1)i._parsed=r;else{let s=l=>+r[l];if(nn(r[t])){const{key:l="value"}=this._parsing;s=c=>+Fl(r[c],l)}let o,a;for(o=t,a=t+n;o<a;++o)i._parsed[o]=s(o)}}_getRotation(){return lo(this.options.rotation-90)}_getCircumference(){return lo(this.options.circumference)}_getRotationExtents(){let t=Ln,n=-Ln;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){const i=this.chart.getDatasetMeta(r).controller,s=i._getRotation(),o=i._getCircumference();t=Math.min(t,s),n=Math.max(n,s+o)}return{rotation:t,circumference:n-t}}update(t){const n=this.chart,{chartArea:r}=n,i=this._cachedMeta,s=i.data,o=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,a=Math.max((Math.min(r.width,r.height)-o)/2,0),l=Math.min(rY(this.options.cutout,a),1),c=this._getRingWeight(this.index),{circumference:f,rotation:p}=this._getRotationExtents(),{ratioX:g,ratioY:y,offsetX:x,offsetY:_}=qJ(p,f,l),S=(r.width-o)/g,C=(r.height-o)/y,I=Math.max(Math.min(S,C)/2,0),A=H9(this.options.radius,I),z=Math.max(A*l,0),U=(A-z)/this._getVisibleDatasetWeightTotal();this.offsetX=x*A,this.offsetY=_*A,i.total=this.calculateTotal(),this.outerRadius=A-U*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-U*c,0),this.updateElements(s,0,s.length,t)}_circumference(t,n){const r=this.options,i=this._cachedMeta,s=this._getCircumference();return n&&r.animation.animateRotate||!this.chart.getDataVisibility(t)||i._parsed[t]===null||i.data[t].hidden?0:this.calculateCircumference(i._parsed[t]*s/Ln)}updateElements(t,n,r,i){const s=i==="reset",o=this.chart,a=o.chartArea,c=o.options.animation,f=(a.left+a.right)/2,p=(a.top+a.bottom)/2,g=s&&c.animateScale,y=g?0:this.innerRadius,x=g?0:this.outerRadius,{sharedOptions:_,includeOptions:S}=this._getSharedOptions(n,i);let C=this._getRotation(),I;for(I=0;I<n;++I)C+=this._circumference(I,s);for(I=n;I<n+r;++I){const A=this._circumference(I,s),z=t[I],U={x:f+this.offsetX,y:p+this.offsetY,startAngle:C,endAngle:C+A,circumference:A,outerRadius:x,innerRadius:y};S&&(U.options=_||this.resolveDataElementOptions(I,z.active?"active":i)),C+=A,this.updateElement(z,I,U,i)}}calculateTotal(){const t=this._cachedMeta,n=t.data;let r=0,i;for(i=0;i<n.length;i++){const s=t._parsed[i];s!==null&&!isNaN(s)&&this.chart.getDataVisibility(i)&&!n[i].hidden&&(r+=Math.abs(s))}return r}calculateCircumference(t){const n=this._cachedMeta.total;return n>0&&!isNaN(t)?Ln*(Math.abs(t)/n):0}getLabelAndValue(t){const n=this._cachedMeta,r=this.chart,i=r.data.labels||[],s=Qp(n._parsed[t],r.options.locale);return{label:i[t]||"",value:s}}getMaxBorderWidth(t){let n=0;const r=this.chart;let i,s,o,a,l;if(!t){for(i=0,s=r.data.datasets.length;i<s;++i)if(r.isDatasetVisible(i)){o=r.getDatasetMeta(i),t=o.data,a=o.controller;break}}if(!t)return 0;for(i=0,s=t.length;i<s;++i)l=a.resolveDataElementOptions(i),l.borderAlign!=="inner"&&(n=Math.max(n,l.borderWidth||0,l.hoverBorderWidth||0));return n}getMaxOffset(t){let n=0;for(let r=0,i=t.length;r<i;++r){const s=this.resolveDataElementOptions(r);n=Math.max(n,s.offset||0,s.hoverOffset||0)}return n}_getRingWeightOffset(t){let n=0;for(let r=0;r<t;++r)this.chart.isDatasetVisible(r)&&(n+=this._getRingWeight(r));return n}_getRingWeight(t){return Math.max(Nt(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class QJ extends Xl{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const n=this._cachedMeta,{dataset:r,data:i=[],_dataset:s}=n,o=this.chart._animationsDisabled;let{start:a,count:l}=J9(n,i,o);this._drawStart=a,this._drawCount=l,X9(n)&&(a=0,l=i.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!s._decimated,r.points=i;const c=this.resolveDatasetElementOptions(t);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(r,void 0,{animated:!o,options:c},t),this.updateElements(i,a,l,t)}updateElements(t,n,r,i){const s=i==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,{sharedOptions:f,includeOptions:p}=this._getSharedOptions(n,i),g=o.axis,y=a.axis,{spanGaps:x,segment:_}=this.options,S=su(x)?x:Number.POSITIVE_INFINITY,C=this.chart._animationsDisabled||s||i==="none",I=n+r,A=t.length;let z=n>0&&this.getParsed(n-1);for(let U=0;U<A;++U){const O=t[U],N=C?O:{};if(U<n||U>=I){N.skip=!0;continue}const F=this.getParsed(U),$=Zt(F[y]),L=N[g]=o.getPixelForValue(F[g],U),Z=N[y]=s||$?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,F,l):F[y],U);N.skip=isNaN(L)||isNaN(Z)||$,N.stop=U>0&&Math.abs(F[g]-z[g])>S,_&&(N.parsed=F,N.raw=c.data[U]),p&&(N.options=f||this.resolveDataElementOptions(U,O.active?"active":i)),C||this.updateElement(O,U,N,i),z=F}}getMaxOverflow(){const t=this._cachedMeta,n=t.dataset,r=n.options&&n.options.borderWidth||0,i=t.data||[];if(!i.length)return r;const s=i[0].size(this.resolveDataElementOptions(0)),o=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(r,s,o)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}class vI extends Xl{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const n=t.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:r,color:i}}=t.legend.options;return n.labels.map((s,o)=>{const l=t.getDatasetMeta(0).controller.getStyle(o);return{text:s,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:i,lineWidth:l.borderWidth,pointStyle:r,hidden:!t.getDataVisibility(o),index:o}})}return[]}},onClick(t,n,r){r.chart.toggleDataVisibility(n.index),r.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(t,n){super(t,n),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const n=this._cachedMeta,r=this.chart,i=r.data.labels||[],s=Qp(n._parsed[t].r,r.options.locale);return{label:i[t]||"",value:s}}parseObjectData(t,n,r,i){return oI.bind(this)(t,n,r,i)}update(t){const n=this._cachedMeta.data;this._updateRadius(),this.updateElements(n,0,n.length,t)}getMinMax(){const t=this._cachedMeta,n={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach((r,i)=>{const s=this.getParsed(i).r;!isNaN(s)&&this.chart.getDataVisibility(i)&&(s<n.min&&(n.min=s),s>n.max&&(n.max=s))}),n}_updateRadius(){const t=this.chart,n=t.chartArea,r=t.options,i=Math.min(n.right-n.left,n.bottom-n.top),s=Math.max(i/2,0),o=Math.max(r.cutoutPercentage?s/100*r.cutoutPercentage:1,0),a=(s-o)/t.getVisibleDatasetCount();this.outerRadius=s-a*this.index,this.innerRadius=this.outerRadius-a}updateElements(t,n,r,i){const s=i==="reset",o=this.chart,l=o.options.animation,c=this._cachedMeta.rScale,f=c.xCenter,p=c.yCenter,g=c.getIndexAngle(0)-.5*pn;let y=g,x;const _=360/this.countVisibleElements();for(x=0;x<n;++x)y+=this._computeAngle(x,i,_);for(x=n;x<n+r;x++){const S=t[x];let C=y,I=y+this._computeAngle(x,i,_),A=o.getDataVisibility(x)?c.getDistanceFromCenterForValue(this.getParsed(x).r):0;y=I,s&&(l.animateScale&&(A=0),l.animateRotate&&(C=I=g));const z={x:f,y:p,innerRadius:0,outerRadius:A,startAngle:C,endAngle:I,options:this.resolveDataElementOptions(x,S.active?"active":i)};this.updateElement(S,x,z,i)}}countVisibleElements(){const t=this._cachedMeta;let n=0;return t.data.forEach((r,i)=>{!isNaN(this.getParsed(i).r)&&this.chart.getDataVisibility(i)&&n++}),n}_computeAngle(t,n,r){return this.chart.getDataVisibility(t)?lo(this.resolveDataElementOptions(t,n).angle||r):0}}class KJ extends d1{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}class bI extends Xl{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(t){const n=this._cachedMeta.vScale,r=this.getParsed(t);return{label:n.getLabels()[t],value:""+n.getLabelForValue(r[n.axis])}}parseObjectData(t,n,r,i){return oI.bind(this)(t,n,r,i)}update(t){const n=this._cachedMeta,r=n.dataset,i=n.data||[],s=n.iScale.getLabels();if(r.points=i,t!=="resize"){const o=this.resolveDatasetElementOptions(t);this.options.showLine||(o.borderWidth=0);const a={_loop:!0,_fullLoop:s.length===i.length,options:o};this.updateElement(r,void 0,a,t)}this.updateElements(i,0,i.length,t)}updateElements(t,n,r,i){const s=this._cachedMeta.rScale,o=i==="reset";for(let a=n;a<n+r;a++){const l=t[a],c=this.resolveDataElementOptions(a,l.active?"active":i),f=s.getPointPositionForValue(a,this.getParsed(a).r),p=o?s.xCenter:f.x,g=o?s.yCenter:f.y,y={x:p,y:g,angle:f.angle,skip:isNaN(p)||isNaN(g),options:c};this.updateElement(l,a,y,i)}}}class GJ extends Xl{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(t){const n=this._cachedMeta,r=this.chart.data.labels||[],{xScale:i,yScale:s}=n,o=this.getParsed(t),a=i.getLabelForValue(o.x),l=s.getLabelForValue(o.y);return{label:r[t]||"",value:"("+a+", "+l+")"}}update(t){const n=this._cachedMeta,{data:r=[]}=n,i=this.chart._animationsDisabled;let{start:s,count:o}=J9(n,r,i);if(this._drawStart=s,this._drawCount=o,X9(n)&&(s=0,o=r.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:a,_dataset:l}=n;a._chart=this.chart,a._datasetIndex=this.index,a._decimated=!!l._decimated,a.points=r;const c=this.resolveDatasetElementOptions(t);c.segment=this.options.segment,this.updateElement(a,void 0,{animated:!i,options:c},t)}else this.datasetElementType&&(delete n.dataset,this.datasetElementType=!1);this.updateElements(r,s,o,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,n,r,i){const s=i==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,f=this.resolveDataElementOptions(n,i),p=this.getSharedOptions(f),g=this.includeOptions(i,p),y=o.axis,x=a.axis,{spanGaps:_,segment:S}=this.options,C=su(_)?_:Number.POSITIVE_INFINITY,I=this.chart._animationsDisabled||s||i==="none";let A=n>0&&this.getParsed(n-1);for(let z=n;z<n+r;++z){const U=t[z],O=this.getParsed(z),N=I?U:{},F=Zt(O[x]),$=N[y]=o.getPixelForValue(O[y],z),L=N[x]=s||F?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,O,l):O[x],z);N.skip=isNaN($)||isNaN(L)||F,N.stop=z>0&&Math.abs(O[y]-A[y])>C,S&&(N.parsed=O,N.raw=c.data[z]),g&&(N.options=p||this.resolveDataElementOptions(z,U.active?"active":i)),I||this.updateElement(U,z,N,i),A=O}this.updateSharedOptions(p,i,f)}getMaxOverflow(){const t=this._cachedMeta,n=t.data||[];if(!this.options.showLine){let a=0;for(let l=n.length-1;l>=0;--l)a=Math.max(a,n[l].size(this.resolveDataElementOptions(l))/2);return a>0&&a}const r=t.dataset,i=r.options&&r.options.borderWidth||0;if(!n.length)return i;const s=n[0].size(this.resolveDataElementOptions(0)),o=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(i,s,o)/2}}var YJ=Object.freeze({__proto__:null,BarController:yI,BubbleController:VJ,DoughnutController:d1,LineController:QJ,PieController:KJ,PolarAreaController:vI,RadarController:bI,ScatterController:GJ});function Tc(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class oS{static override(t){Object.assign(oS.prototype,t)}options;constructor(t){this.options=t||{}}init(){}formats(){return Tc()}parse(){return Tc()}format(){return Tc()}add(){return Tc()}diff(){return Tc()}startOf(){return Tc()}endOf(){return Tc()}}var JJ={_date:oS};function XJ(e,t,n,r){const{controller:i,data:s,_sorted:o}=e,a=i._cachedMeta.iScale,l=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(a&&t===a.axis&&t!=="r"&&o&&s.length){const c=a._reversePixels?gY:ba;if(r){if(i._sharedOptions){const f=s[0],p=typeof f.getRange=="function"&&f.getRange(t);if(p){const g=c(s,t,n-p),y=c(s,t,n+p);return{lo:g.lo,hi:y.hi}}}}else{const f=c(s,t,n);if(l){const{vScale:p}=i._cachedMeta,{_parsed:g}=e,y=g.slice(0,f.lo+1).reverse().findIndex(_=>!Zt(_[p.axis]));f.lo-=Math.max(0,y);const x=g.slice(f.hi).findIndex(_=>!Zt(_[p.axis]));f.hi+=Math.max(0,x)}return f}}return{lo:0,hi:s.length-1}}function f1(e,t,n,r,i){const s=e.getSortedVisibleDatasetMetas(),o=n[t];for(let a=0,l=s.length;a<l;++a){const{index:c,data:f}=s[a],{lo:p,hi:g}=XJ(s[a],t,o,i);for(let y=p;y<=g;++y){const x=f[y];x.skip||r(x,c,y)}}}function ZJ(e){const t=e.indexOf("x")!==-1,n=e.indexOf("y")!==-1;return function(r,i){const s=t?Math.abs(r.x-i.x):0,o=n?Math.abs(r.y-i.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(o,2))}}function ex(e,t,n,r,i){const s=[];return!i&&!e.isPointInArea(t)||f1(e,n,t,function(a,l,c){!i&&!xa(a,e.chartArea,0)||a.inRange(t.x,t.y,r)&&s.push({element:a,datasetIndex:l,index:c})},!0),s}function eX(e,t,n,r){let i=[];function s(o,a,l){const{startAngle:c,endAngle:f}=o.getProps(["startAngle","endAngle"],r),{angle:p}=q9(o,{x:t.x,y:t.y});pp(p,c,f)&&i.push({element:o,datasetIndex:a,index:l})}return f1(e,n,t,s),i}function tX(e,t,n,r,i,s){let o=[];const a=ZJ(n);let l=Number.POSITIVE_INFINITY;function c(f,p,g){const y=f.inRange(t.x,t.y,i);if(r&&!y)return;const x=f.getCenterPoint(i);if(!(!!s||e.isPointInArea(x))&&!y)return;const S=a(t,x);S<l?(o=[{element:f,datasetIndex:p,index:g}],l=S):S===l&&o.push({element:f,datasetIndex:p,index:g})}return f1(e,n,t,c),o}function tx(e,t,n,r,i,s){return!s&&!e.isPointInArea(t)?[]:n==="r"&&!r?eX(e,t,n,i):tX(e,t,n,r,i,s)}function a4(e,t,n,r,i){const s=[],o=n==="x"?"inXRange":"inYRange";let a=!1;return f1(e,n,t,(l,c,f)=>{l[o]&&l[o](t[n],i)&&(s.push({element:l,datasetIndex:c,index:f}),a=a||l.inRange(t.x,t.y,i))}),r&&!a?[]:s}var nX={modes:{index(e,t,n,r){const i=Ac(t,e),s=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?ex(e,i,s,r,o):tx(e,i,s,!1,r,o),l=[];return a.length?(e.getSortedVisibleDatasetMetas().forEach(c=>{const f=a[0].index,p=c.data[f];p&&!p.skip&&l.push({element:p,datasetIndex:c.index,index:f})}),l):[]},dataset(e,t,n,r){const i=Ac(t,e),s=n.axis||"xy",o=n.includeInvisible||!1;let a=n.intersect?ex(e,i,s,r,o):tx(e,i,s,!1,r,o);if(a.length>0){const l=a[0].datasetIndex,c=e.getDatasetMeta(l).data;a=[];for(let f=0;f<c.length;++f)a.push({element:c[f],datasetIndex:l,index:f})}return a},point(e,t,n,r){const i=Ac(t,e),s=n.axis||"xy",o=n.includeInvisible||!1;return ex(e,i,s,r,o)},nearest(e,t,n,r){const i=Ac(t,e),s=n.axis||"xy",o=n.includeInvisible||!1;return tx(e,i,s,n.intersect,r,o)},x(e,t,n,r){const i=Ac(t,e);return a4(e,i,"x",n.intersect,r)},y(e,t,n,r){const i=Ac(t,e);return a4(e,i,"y",n.intersect,r)}}};const xI=["left","top","right","bottom"];function ph(e,t){return e.filter(n=>n.pos===t)}function l4(e,t){return e.filter(n=>xI.indexOf(n.pos)===-1&&n.box.axis===t)}function mh(e,t){return e.sort((n,r)=>{const i=t?r:n,s=t?n:r;return i.weight===s.weight?i.index-s.index:i.weight-s.weight})}function rX(e){const t=[];let n,r,i,s,o,a;for(n=0,r=(e||[]).length;n<r;++n)i=e[n],{position:s,options:{stack:o,stackWeight:a=1}}=i,t.push({index:n,box:i,pos:s,horizontal:i.isHorizontal(),weight:i.weight,stack:o&&s+o,stackWeight:a});return t}function iX(e){const t={};for(const n of e){const{stack:r,pos:i,stackWeight:s}=n;if(!r||!xI.includes(i))continue;const o=t[r]||(t[r]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=s}return t}function sX(e,t){const n=iX(e),{vBoxMaxWidth:r,hBoxMaxHeight:i}=t;let s,o,a;for(s=0,o=e.length;s<o;++s){a=e[s];const{fullSize:l}=a.box,c=n[a.stack],f=c&&a.stackWeight/c.weight;a.horizontal?(a.width=f?f*r:l&&t.availableWidth,a.height=i):(a.width=r,a.height=f?f*i:l&&t.availableHeight)}return n}function oX(e){const t=rX(e),n=mh(t.filter(c=>c.box.fullSize),!0),r=mh(ph(t,"left"),!0),i=mh(ph(t,"right")),s=mh(ph(t,"top"),!0),o=mh(ph(t,"bottom")),a=l4(t,"x"),l=l4(t,"y");return{fullSize:n,leftAndTop:r.concat(s),rightAndBottom:i.concat(l).concat(o).concat(a),chartArea:ph(t,"chartArea"),vertical:r.concat(i).concat(l),horizontal:s.concat(o).concat(a)}}function c4(e,t,n,r){return Math.max(e[n],t[n])+Math.max(e[r],t[r])}function wI(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function aX(e,t,n,r){const{pos:i,box:s}=n,o=e.maxPadding;if(!nn(i)){n.size&&(e[i]-=n.size);const p=r[n.stack]||{size:0,count:1};p.size=Math.max(p.size,n.horizontal?s.height:s.width),n.size=p.size/p.count,e[i]+=n.size}s.getPadding&&wI(o,s.getPadding());const a=Math.max(0,t.outerWidth-c4(o,e,"left","right")),l=Math.max(0,t.outerHeight-c4(o,e,"top","bottom")),c=a!==e.w,f=l!==e.h;return e.w=a,e.h=l,n.horizontal?{same:c,other:f}:{same:f,other:c}}function lX(e){const t=e.maxPadding;function n(r){const i=Math.max(t[r]-e[r],0);return e[r]+=i,i}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}function cX(e,t){const n=t.maxPadding;function r(i){const s={left:0,top:0,right:0,bottom:0};return i.forEach(o=>{s[o]=Math.max(t[o],n[o])}),s}return r(e?["left","right"]:["top","bottom"])}function Nh(e,t,n,r){const i=[];let s,o,a,l,c,f;for(s=0,o=e.length,c=0;s<o;++s){a=e[s],l=a.box,l.update(a.width||t.w,a.height||t.h,cX(a.horizontal,t));const{same:p,other:g}=aX(t,n,a,r);c|=p&&i.length,f=f||g,l.fullSize||i.push(a)}return c&&Nh(i,t,n,r)||f}function Ug(e,t,n,r,i){e.top=n,e.left=t,e.right=t+r,e.bottom=n+i,e.width=r,e.height=i}function u4(e,t,n,r){const i=n.padding;let{x:s,y:o}=t;for(const a of e){const l=a.box,c=r[a.stack]||{placed:0,weight:1},f=a.stackWeight/c.weight||1;if(a.horizontal){const p=t.w*f,g=c.size||l.height;hp(c.start)&&(o=c.start),l.fullSize?Ug(l,i.left,o,n.outerWidth-i.right-i.left,g):Ug(l,t.left+c.placed,o,p,g),c.start=o,c.placed+=p,o=l.bottom}else{const p=t.h*f,g=c.size||l.width;hp(c.start)&&(s=c.start),l.fullSize?Ug(l,s,i.top,g,n.outerHeight-i.bottom-i.top):Ug(l,s,t.top+c.placed,g,p),c.start=s,c.placed+=p,s=l.right}}t.x=s,t.y=o}var di={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(n){t.draw(n)}}]},e.boxes.push(t)},removeBox(e,t){const n=e.boxes?e.boxes.indexOf(t):-1;n!==-1&&e.boxes.splice(n,1)},configure(e,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},update(e,t,n,r){if(!e)return;const i=hi(e.options.layout.padding),s=Math.max(t-i.width,0),o=Math.max(n-i.height,0),a=oX(e.boxes),l=a.vertical,c=a.horizontal;xn(e.boxes,_=>{typeof _.beforeLayout=="function"&&_.beforeLayout()});const f=l.reduce((_,S)=>S.box.options&&S.box.options.display===!1?_:_+1,0)||1,p=Object.freeze({outerWidth:t,outerHeight:n,padding:i,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/f,hBoxMaxHeight:o/2}),g=Object.assign({},i);wI(g,hi(r));const y=Object.assign({maxPadding:g,w:s,h:o,x:i.left,y:i.top},i),x=sX(l.concat(c),p);Nh(a.fullSize,y,p,x),Nh(l,y,p,x),Nh(c,y,p,x)&&Nh(l,y,p,x),lX(y),u4(a.leftAndTop,y,p,x),y.x+=y.w,y.y+=y.h,u4(a.rightAndBottom,y,p,x),e.chartArea={left:y.left,top:y.top,right:y.left+y.w,bottom:y.top+y.h,height:y.h,width:y.w},xn(a.chartArea,_=>{const S=_.box;Object.assign(S,e.chartArea),S.update(y.w,y.h,{left:0,top:0,right:0,bottom:0})})}};class _I{acquireContext(t,n){}releaseContext(t){return!1}addEventListener(t,n,r){}removeEventListener(t,n,r){}getDevicePixelRatio(){return 1}getMaximumSize(t,n,r,i){return n=Math.max(0,n||t.width),r=r||t.height,{width:n,height:Math.max(0,i?Math.floor(n/i):r)}}isAttached(t){return!0}updateConfig(t){}}class uX extends _I{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const N0="$chartjs",dX={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},d4=e=>e===null||e==="";function fX(e,t){const n=e.style,r=e.getAttribute("height"),i=e.getAttribute("width");if(e[N0]={initial:{height:r,width:i,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",d4(i)){const s=Kk(e,"width");s!==void 0&&(e.width=s)}if(d4(r))if(e.style.height==="")e.height=e.width/(t||2);else{const s=Kk(e,"height");s!==void 0&&(e.height=s)}return e}const SI=cJ?{passive:!0}:!1;function hX(e,t,n){e&&e.addEventListener(t,n,SI)}function pX(e,t,n){e&&e.canvas&&e.canvas.removeEventListener(t,n,SI)}function mX(e,t){const n=dX[e.type]||e.type,{x:r,y:i}=Ac(e,t);return{type:n,chart:t,native:e,x:r!==void 0?r:null,y:i!==void 0?i:null}}function gy(e,t){for(const n of e)if(n===t||n.contains(t))return!0}function gX(e,t,n){const r=e.canvas,i=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||gy(a.addedNodes,r),o=o&&!gy(a.removedNodes,r);o&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}function yX(e,t,n){const r=e.canvas,i=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||gy(a.removedNodes,r),o=o&&!gy(a.addedNodes,r);o&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}const gp=new Map;let f4=0;function EI(){const e=window.devicePixelRatio;e!==f4&&(f4=e,gp.forEach((t,n)=>{n.currentDevicePixelRatio!==e&&t()}))}function vX(e,t){gp.size||window.addEventListener("resize",EI),gp.set(e,t)}function bX(e){gp.delete(e),gp.size||window.removeEventListener("resize",EI)}function xX(e,t,n){const r=e.canvas,i=r&&sS(r);if(!i)return;const s=Y9((a,l)=>{const c=i.clientWidth;n(a,l),c<i.clientWidth&&n()},window),o=new ResizeObserver(a=>{const l=a[0],c=l.contentRect.width,f=l.contentRect.height;c===0&&f===0||s(c,f)});return o.observe(i),vX(e,s),o}function nx(e,t,n){n&&n.disconnect(),t==="resize"&&bX(e)}function wX(e,t,n){const r=e.canvas,i=Y9(s=>{e.ctx!==null&&n(mX(s,e))},e);return hX(r,t,i),i}class _X extends _I{acquireContext(t,n){const r=t&&t.getContext&&t.getContext("2d");return r&&r.canvas===t?(fX(t,n),r):null}releaseContext(t){const n=t.canvas;if(!n[N0])return!1;const r=n[N0].initial;["height","width"].forEach(s=>{const o=r[s];Zt(o)?n.removeAttribute(s):n.setAttribute(s,o)});const i=r.style||{};return Object.keys(i).forEach(s=>{n.style[s]=i[s]}),n.width=n.width,delete n[N0],!0}addEventListener(t,n,r){this.removeEventListener(t,n);const i=t.$proxies||(t.$proxies={}),o={attach:gX,detach:yX,resize:xX}[n]||wX;i[n]=o(t,n,r)}removeEventListener(t,n){const r=t.$proxies||(t.$proxies={}),i=r[n];if(!i)return;({attach:nx,detach:nx,resize:nx}[n]||pX)(t,n,i),r[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,n,r,i){return lJ(t,n,r,i)}isAttached(t){const n=t&&sS(t);return!!(n&&n.isConnected)}}function SX(e){return!iS()||typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas?uX:_X}let Pa=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){const{x:n,y:r}=this.getProps(["x","y"],t);return{x:n,y:r}}hasValue(){return su(this.x)&&su(this.y)}getProps(t,n){const r=this.$animations;if(!n||!r)return this;const i={};return t.forEach(s=>{i[s]=r[s]&&r[s].active()?r[s]._to:this[s]}),i}};function EX(e,t){const n=e.options.ticks,r=CX(e),i=Math.min(n.maxTicksLimit||r,r),s=n.major.enabled?TX(t):[],o=s.length,a=s[0],l=s[o-1],c=[];if(o>i)return jX(t,c,s,o/i),c;const f=kX(s,t,i);if(o>0){let p,g;const y=o>1?Math.round((l-a)/(o-1)):null;for(Hg(t,c,f,Zt(y)?0:a-y,a),p=0,g=o-1;p<g;p++)Hg(t,c,f,s[p],s[p+1]);return Hg(t,c,f,l,Zt(y)?t.length:l+y),c}return Hg(t,c,f),c}function CX(e){const t=e.options.offset,n=e._tickSize(),r=e._length/n+(t?0:1),i=e._maxLength/n;return Math.floor(Math.min(r,i))}function kX(e,t,n){const r=IX(e),i=t.length/n;if(!r)return Math.max(i,1);const s=dY(r);for(let o=0,a=s.length-1;o<a;o++){const l=s[o];if(l>i)return l}return Math.max(i,1)}function TX(e){const t=[];let n,r;for(n=0,r=e.length;n<r;n++)e[n].major&&t.push(n);return t}function jX(e,t,n,r){let i=0,s=n[0],o;for(r=Math.ceil(r),o=0;o<e.length;o++)o===s&&(t.push(e[o]),i++,s=n[i*r])}function Hg(e,t,n,r,i){const s=Nt(r,0),o=Math.min(Nt(i,e.length),e.length);let a=0,l,c,f;for(n=Math.ceil(n),i&&(l=i-r,n=l/Math.floor(l/n)),f=s;f<0;)a++,f=Math.round(s+a*n);for(c=Math.max(s,0);c<o;c++)c===f&&(t.push(e[c]),a++,f=Math.round(s+a*n))}function IX(e){const t=e.length;let n,r;if(t<2)return!1;for(r=e[0],n=1;n<t;++n)if(e[n]-e[n-1]!==r)return!1;return r}const RX=e=>e==="left"?"right":e==="right"?"left":e,h4=(e,t,n)=>t==="top"||t==="left"?e[t]+n:e[t]-n,p4=(e,t)=>Math.min(t||e,e);function m4(e,t){const n=[],r=e.length/t,i=e.length;let s=0;for(;s<i;s+=r)n.push(e[Math.floor(s)]);return n}function NX(e,t,n){const r=e.ticks.length,i=Math.min(t,r-1),s=e._startPixel,o=e._endPixel,a=1e-6;let l=e.getPixelForTick(i),c;if(!(n&&(r===1?c=Math.max(l-s,o-l):t===0?c=(e.getPixelForTick(1)-l)/2:c=(l-e.getPixelForTick(i-1))/2,l+=i<t?c:-c,l<s-a||l>o+a)))return l}function OX(e,t){xn(e,n=>{const r=n.gc,i=r.length/2;let s;if(i>t){for(s=0;s<i;++s)delete n.data[r[s]];r.splice(0,i)}})}function gh(e){return e.drawTicks?e.tickLength:0}function g4(e,t){if(!e.display)return 0;const n=Pr(e.font,t),r=hi(e.padding);return(Vn(e.text)?e.text.length:1)*n.lineHeight+r.height}function PX(e,t){return Jl(e,{scale:t,type:"scale"})}function AX(e,t,n){return Jl(e,{tick:n,index:t,type:"tick"})}function MX(e,t,n){let r=X2(e);return(n&&t!=="right"||!n&&t==="right")&&(r=RX(r)),r}function DX(e,t,n,r){const{top:i,left:s,bottom:o,right:a,chart:l}=e,{chartArea:c,scales:f}=l;let p=0,g,y,x;const _=o-i,S=a-s;if(e.isHorizontal()){if(y=li(r,s,a),nn(n)){const C=Object.keys(n)[0],I=n[C];x=f[C].getPixelForValue(I)+_-t}else n==="center"?x=(c.bottom+c.top)/2+_-t:x=h4(e,n,t);g=a-s}else{if(nn(n)){const C=Object.keys(n)[0],I=n[C];y=f[C].getPixelForValue(I)-S+t}else n==="center"?y=(c.left+c.right)/2-S+t:y=h4(e,n,t);x=li(r,o,i),p=n==="left"?-hr:hr}return{titleX:y,titleY:x,maxWidth:g,rotation:p}}class vu extends Pa{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,n){return t}getUserBounds(){let{_userMin:t,_userMax:n,_suggestedMin:r,_suggestedMax:i}=this;return t=is(t,Number.POSITIVE_INFINITY),n=is(n,Number.NEGATIVE_INFINITY),r=is(r,Number.POSITIVE_INFINITY),i=is(i,Number.NEGATIVE_INFINITY),{min:is(t,r),max:is(n,i),minDefined:ar(t),maxDefined:ar(n)}}getMinMax(t){let{min:n,max:r,minDefined:i,maxDefined:s}=this.getUserBounds(),o;if(i&&s)return{min:n,max:r};const a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)o=a[l].controller.getMinMax(this,t),i||(n=Math.min(n,o.min)),s||(r=Math.max(r,o.max));return n=s&&n>r?r:n,r=i&&n>r?n:r,{min:is(n,is(r,n)),max:is(r,is(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){On(this.options.beforeUpdate,[this])}update(t,n,r){const{beginAtZero:i,grace:s,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=n,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=$Y(this,s,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?m4(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=EX(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,n,r;this.isHorizontal()?(n=this.left,r=this.right):(n=this.top,r=this.bottom,t=!t),this._startPixel=n,this._endPixel=r,this._reversePixels=t,this._length=r-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){On(this.options.afterUpdate,[this])}beforeSetDimensions(){On(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){On(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),On(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){On(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const n=this.options.ticks;let r,i,s;for(r=0,i=t.length;r<i;r++)s=t[r],s.label=On(n.callback,[s.value,r,t],this)}afterTickToLabelConversion(){On(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){On(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,n=t.ticks,r=p4(this.ticks.length,t.ticks.maxTicksLimit),i=n.minRotation||0,s=n.maxRotation;let o=i,a,l,c;if(!this._isVisible()||!n.display||i>=s||r<=1||!this.isHorizontal()){this.labelRotation=i;return}const f=this._getLabelSizes(),p=f.widest.width,g=f.highest.height,y=Wr(this.chart.width-p,0,this.maxWidth);a=t.offset?this.maxWidth/r:y/(r-1),p+6>a&&(a=y/(r-(t.offset?.5:1)),l=this.maxHeight-gh(t.grid)-n.padding-g4(t.title,this.chart.options.font),c=Math.sqrt(p*p+g*g),o=Y2(Math.min(Math.asin(Wr((f.highest.height+6)/a,-1,1)),Math.asin(Wr(l/c,-1,1))-Math.asin(Wr(g/c,-1,1)))),o=Math.max(i,Math.min(s,o))),this.labelRotation=o}afterCalculateLabelRotation(){On(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){On(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:n,options:{ticks:r,title:i,grid:s}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=g4(i,n.options.font);if(a?(t.width=this.maxWidth,t.height=gh(s)+l):(t.height=this.maxHeight,t.width=gh(s)+l),r.display&&this.ticks.length){const{first:c,last:f,widest:p,highest:g}=this._getLabelSizes(),y=r.padding*2,x=lo(this.labelRotation),_=Math.cos(x),S=Math.sin(x);if(a){const C=r.mirror?0:S*p.width+_*g.height;t.height=Math.min(this.maxHeight,t.height+C+y)}else{const C=r.mirror?0:_*p.width+S*g.height;t.width=Math.min(this.maxWidth,t.width+C+y)}this._calculatePadding(c,f,S,_)}}this._handleMargins(),a?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,n,r,i){const{ticks:{align:s,padding:o},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const f=this.getPixelForTick(0)-this.left,p=this.right-this.getPixelForTick(this.ticks.length-1);let g=0,y=0;l?c?(g=i*t.width,y=r*n.height):(g=r*t.height,y=i*n.width):s==="start"?y=n.width:s==="end"?g=t.width:s!=="inner"&&(g=t.width/2,y=n.width/2),this.paddingLeft=Math.max((g-f+o)*this.width/(this.width-f),0),this.paddingRight=Math.max((y-p+o)*this.width/(this.width-p),0)}else{let f=n.height/2,p=t.height/2;s==="start"?(f=0,p=t.height):s==="end"&&(f=n.height,p=0),this.paddingTop=f+o,this.paddingBottom=p+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){On(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:n}=this.options;return n==="top"||n==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let n,r;for(n=0,r=t.length;n<r;n++)Zt(t[n].label)&&(t.splice(n,1),r--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const n=this.options.ticks.sampleSize;let r=this.ticks;n<r.length&&(r=m4(r,n)),this._labelSizes=t=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,n,r){const{ctx:i,_longestTextCache:s}=this,o=[],a=[],l=Math.floor(n/p4(n,r));let c=0,f=0,p,g,y,x,_,S,C,I,A,z,U;for(p=0;p<n;p+=l){if(x=t[p].label,_=this._resolveTickFontOptions(p),i.font=S=_.string,C=s[S]=s[S]||{data:{},gc:[]},I=_.lineHeight,A=z=0,!Zt(x)&&!Vn(x))A=py(i,C.data,C.gc,A,x),z=I;else if(Vn(x))for(g=0,y=x.length;g<y;++g)U=x[g],!Zt(U)&&!Vn(U)&&(A=py(i,C.data,C.gc,A,U),z+=I);o.push(A),a.push(z),c=Math.max(A,c),f=Math.max(z,f)}OX(s,n);const O=o.indexOf(c),N=a.indexOf(f),F=$=>({width:o[$]||0,height:a[$]||0});return{first:F(0),last:F(n-1),widest:F(O),highest:F(N),widths:o,heights:a}}getLabelForValue(t){return t}getPixelForValue(t,n){return NaN}getValueForPixel(t){}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const n=this._startPixel+t*this._length;return mY(this._alignToPixels?kc(this.chart,n,0):n)}getDecimalForPixel(t){const n=(t-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:n}=this;return t<0&&n<0?n:t>0&&n>0?t:0}getContext(t){const n=this.ticks||[];if(t>=0&&t<n.length){const r=n[t];return r.$context||(r.$context=AX(this.getContext(),t,r))}return this.$context||(this.$context=PX(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,n=lo(this.labelRotation),r=Math.abs(Math.cos(n)),i=Math.abs(Math.sin(n)),s=this._getLabelSizes(),o=t.autoSkipPadding||0,a=s?s.widest.width+o:0,l=s?s.highest.height+o:0;return this.isHorizontal()?l*r>a*i?a/r:l/i:l*i<a*r?l/r:a/i}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const n=this.axis,r=this.chart,i=this.options,{grid:s,position:o,border:a}=i,l=s.offset,c=this.isHorizontal(),p=this.ticks.length+(l?1:0),g=gh(s),y=[],x=a.setContext(this.getContext()),_=x.display?x.width:0,S=_/2,C=function(Q){return kc(r,Q,_)};let I,A,z,U,O,N,F,$,L,Z,Y,he;if(o==="top")I=C(this.bottom),N=this.bottom-g,$=I-S,Z=C(t.top)+S,he=t.bottom;else if(o==="bottom")I=C(this.top),Z=t.top,he=C(t.bottom)-S,N=I+S,$=this.top+g;else if(o==="left")I=C(this.right),O=this.right-g,F=I-S,L=C(t.left)+S,Y=t.right;else if(o==="right")I=C(this.left),L=t.left,Y=C(t.right)-S,O=I+S,F=this.left+g;else if(n==="x"){if(o==="center")I=C((t.top+t.bottom)/2+.5);else if(nn(o)){const Q=Object.keys(o)[0],te=o[Q];I=C(this.chart.scales[Q].getPixelForValue(te))}Z=t.top,he=t.bottom,N=I+S,$=N+g}else if(n==="y"){if(o==="center")I=C((t.left+t.right)/2);else if(nn(o)){const Q=Object.keys(o)[0],te=o[Q];I=C(this.chart.scales[Q].getPixelForValue(te))}O=I-S,F=O-g,L=t.left,Y=t.right}const G=Nt(i.ticks.maxTicksLimit,p),W=Math.max(1,Math.ceil(p/G));for(A=0;A<p;A+=W){const Q=this.getContext(A),te=s.setContext(Q),X=a.setContext(Q),fe=te.lineWidth,B=te.color,ee=X.dash||[],ge=X.dashOffset,V=te.tickWidth,Te=te.tickColor,Ce=te.tickBorderDash||[],ke=te.tickBorderDashOffset;z=NX(this,A,l),z!==void 0&&(U=kc(r,z,fe),c?O=F=L=Y=U:N=$=Z=he=U,y.push({tx1:O,ty1:N,tx2:F,ty2:$,x1:L,y1:Z,x2:Y,y2:he,width:fe,color:B,borderDash:ee,borderDashOffset:ge,tickWidth:V,tickColor:Te,tickBorderDash:Ce,tickBorderDashOffset:ke}))}return this._ticksLength=p,this._borderValue=I,y}_computeLabelItems(t){const n=this.axis,r=this.options,{position:i,ticks:s}=r,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:f,mirror:p}=s,g=gh(r.grid),y=g+f,x=p?-f:y,_=-lo(this.labelRotation),S=[];let C,I,A,z,U,O,N,F,$,L,Z,Y,he="middle";if(i==="top")O=this.bottom-x,N=this._getXAxisLabelAlignment();else if(i==="bottom")O=this.top+x,N=this._getXAxisLabelAlignment();else if(i==="left"){const W=this._getYAxisLabelAlignment(g);N=W.textAlign,U=W.x}else if(i==="right"){const W=this._getYAxisLabelAlignment(g);N=W.textAlign,U=W.x}else if(n==="x"){if(i==="center")O=(t.top+t.bottom)/2+y;else if(nn(i)){const W=Object.keys(i)[0],Q=i[W];O=this.chart.scales[W].getPixelForValue(Q)+y}N=this._getXAxisLabelAlignment()}else if(n==="y"){if(i==="center")U=(t.left+t.right)/2-y;else if(nn(i)){const W=Object.keys(i)[0],Q=i[W];U=this.chart.scales[W].getPixelForValue(Q)}N=this._getYAxisLabelAlignment(g).textAlign}n==="y"&&(l==="start"?he="top":l==="end"&&(he="bottom"));const G=this._getLabelSizes();for(C=0,I=a.length;C<I;++C){A=a[C],z=A.label;const W=s.setContext(this.getContext(C));F=this.getPixelForTick(C)+s.labelOffset,$=this._resolveTickFontOptions(C),L=$.lineHeight,Z=Vn(z)?z.length:1;const Q=Z/2,te=W.color,X=W.textStrokeColor,fe=W.textStrokeWidth;let B=N;o?(U=F,N==="inner"&&(C===I-1?B=this.options.reverse?"left":"right":C===0?B=this.options.reverse?"right":"left":B="center"),i==="top"?c==="near"||_!==0?Y=-Z*L+L/2:c==="center"?Y=-G.highest.height/2-Q*L+L:Y=-G.highest.height+L/2:c==="near"||_!==0?Y=L/2:c==="center"?Y=G.highest.height/2-Q*L:Y=G.highest.height-Z*L,p&&(Y*=-1),_!==0&&!W.showLabelBackdrop&&(U+=L/2*Math.sin(_))):(O=F,Y=(1-Z)*L/2);let ee;if(W.showLabelBackdrop){const ge=hi(W.backdropPadding),V=G.heights[C],Te=G.widths[C];let Ce=Y-ge.top,ke=0-ge.left;switch(he){case"middle":Ce-=V/2;break;case"bottom":Ce-=V;break}switch(N){case"center":ke-=Te/2;break;case"right":ke-=Te;break;case"inner":C===I-1?ke-=Te:C>0&&(ke-=Te/2);break}ee={left:ke,top:Ce,width:Te+ge.width,height:V+ge.height,color:W.backdropColor}}S.push({label:z,font:$,textOffset:Y,options:{rotation:_,color:te,strokeColor:X,strokeWidth:fe,textAlign:B,textBaseline:he,translation:[U,O],backdrop:ee}})}return S}_getXAxisLabelAlignment(){const{position:t,ticks:n}=this.options;if(-lo(this.labelRotation))return t==="top"?"left":"right";let i="center";return n.align==="start"?i="left":n.align==="end"?i="right":n.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(t){const{position:n,ticks:{crossAlign:r,mirror:i,padding:s}}=this.options,o=this._getLabelSizes(),a=t+s,l=o.widest.width;let c,f;return n==="left"?i?(f=this.right+s,r==="near"?c="left":r==="center"?(c="center",f+=l/2):(c="right",f+=l)):(f=this.right-a,r==="near"?c="right":r==="center"?(c="center",f-=l/2):(c="left",f=this.left)):n==="right"?i?(f=this.left+s,r==="near"?c="right":r==="center"?(c="center",f-=l/2):(c="left",f-=l)):(f=this.left+a,r==="near"?c="left":r==="center"?(c="center",f+=l/2):(c="right",f=this.right)):c="right",{textAlign:c,x:f}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:n},left:r,top:i,width:s,height:o}=this;n&&(t.save(),t.fillStyle=n,t.fillRect(r,i,s,o),t.restore())}getLineWidthForValue(t){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const i=this.ticks.findIndex(s=>s.value===t);return i>=0?n.setContext(this.getContext(i)).lineWidth:0}drawGrid(t){const n=this.options.grid,r=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let s,o;const a=(l,c,f)=>{!f.width||!f.color||(r.save(),r.lineWidth=f.width,r.strokeStyle=f.color,r.setLineDash(f.borderDash||[]),r.lineDashOffset=f.borderDashOffset,r.beginPath(),r.moveTo(l.x,l.y),r.lineTo(c.x,c.y),r.stroke(),r.restore())};if(n.display)for(s=0,o=i.length;s<o;++s){const l=i[s];n.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:n,options:{border:r,grid:i}}=this,s=r.setContext(this.getContext()),o=r.display?s.width:0;if(!o)return;const a=i.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,f,p,g;this.isHorizontal()?(c=kc(t,this.left,o)-o/2,f=kc(t,this.right,a)+a/2,p=g=l):(p=kc(t,this.top,o)-o/2,g=kc(t,this.bottom,a)+a/2,c=f=l),n.save(),n.lineWidth=s.width,n.strokeStyle=s.color,n.beginPath(),n.moveTo(c,p),n.lineTo(f,g),n.stroke(),n.restore()}drawLabels(t){if(!this.options.ticks.display)return;const r=this.ctx,i=this._computeLabelArea();i&&l1(r,i);const s=this.getLabelItems(t);for(const o of s){const a=o.options,l=o.font,c=o.label,f=o.textOffset;au(r,c,0,f,l,a)}i&&c1(r)}drawTitle(){const{ctx:t,options:{position:n,title:r,reverse:i}}=this;if(!r.display)return;const s=Pr(r.font),o=hi(r.padding),a=r.align;let l=s.lineHeight/2;n==="bottom"||n==="center"||nn(n)?(l+=o.bottom,Vn(r.text)&&(l+=s.lineHeight*(r.text.length-1))):l+=o.top;const{titleX:c,titleY:f,maxWidth:p,rotation:g}=DX(this,l,n,a);au(t,r.text,0,0,s,{color:r.color,maxWidth:p,rotation:g,textAlign:MX(a,n,i),textBaseline:"middle",translation:[c,f]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,n=t.ticks&&t.ticks.z||0,r=Nt(t.grid&&t.grid.z,-1),i=Nt(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==vu.prototype.draw?[{z:n,draw:s=>{this.draw(s)}}]:[{z:r,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:n,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(t){const n=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",i=[];let s,o;for(s=0,o=n.length;s<o;++s){const a=n[s];a[r]===this.id&&(!t||a.type===t)&&i.push(a)}return i}_resolveTickFontOptions(t){const n=this.options.ticks.setContext(this.getContext(t));return Pr(n.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class Wg{constructor(t,n,r){this.type=t,this.scope=n,this.override=r,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const n=Object.getPrototypeOf(t);let r;BX(n)&&(r=this.register(n));const i=this.items,s=t.id,o=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+t);return s in i||(i[s]=t,LX(t,o,r),this.override&&qn.override(t.id,t.overrides)),o}get(t){return this.items[t]}unregister(t){const n=this.items,r=t.id,i=this.scope;r in n&&delete n[r],i&&r in qn[i]&&(delete qn[i][r],this.override&&delete ou[r])}}function LX(e,t,n){const r=fp(Object.create(null),[n?qn.get(n):{},qn.get(t),e.defaults]);qn.set(t,r),e.defaultRoutes&&FX(t,e.defaultRoutes),e.descriptors&&qn.describe(t,e.descriptors)}function FX(e,t){Object.keys(t).forEach(n=>{const r=n.split("."),i=r.pop(),s=[e].concat(r).join("."),o=t[n].split("."),a=o.pop(),l=o.join(".");qn.route(s,i,l,a)})}function BX(e){return"id"in e&&"defaults"in e}class $X{constructor(){this.controllers=new Wg(Xl,"datasets",!0),this.elements=new Wg(Pa,"elements"),this.plugins=new Wg(Object,"plugins"),this.scales=new Wg(vu,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,n,r){[...n].forEach(i=>{const s=r||this._getRegistryForType(i);r||s.isForType(i)||s===this.plugins&&i.id?this._exec(t,s,i):xn(i,o=>{const a=r||this._getRegistryForType(o);this._exec(t,a,o)})})}_exec(t,n,r){const i=G2(t);On(r["before"+i],[],r),n[t](r),On(r["after"+i],[],r)}_getRegistryForType(t){for(let n=0;n<this._typedRegistries.length;n++){const r=this._typedRegistries[n];if(r.isForType(t))return r}return this.plugins}_get(t,n,r){const i=n.get(t);if(i===void 0)throw new Error('"'+t+'" is not a registered '+r+".");return i}}var No=new $X;class zX{constructor(){this._init=void 0}notify(t,n,r,i){if(n==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install")),this._init===void 0)return;const s=i?this._descriptors(t).filter(i):this._descriptors(t),o=this._notify(s,t,n,r);return n==="afterDestroy"&&(this._notify(s,t,"stop"),this._notify(this._init,t,"uninstall"),this._init=void 0),o}_notify(t,n,r,i){i=i||{};for(const s of t){const o=s.plugin,a=o[r],l=[n,i,s.options];if(On(a,l,o)===!1&&i.cancelable)return!1}return!0}invalidate(){Zt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),n}_createDescriptors(t,n){const r=t&&t.config,i=Nt(r.options&&r.options.plugins,{}),s=UX(r);return i===!1&&!n?[]:WX(t,s,i,n)}_notifyStateChanges(t){const n=this._oldCache||[],r=this._cache,i=(s,o)=>s.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(i(n,r),t,"stop"),this._notify(i(r,n),t,"start")}}function UX(e){const t={},n=[],r=Object.keys(No.plugins.items);for(let s=0;s<r.length;s++)n.push(No.getPlugin(r[s]));const i=e.plugins||[];for(let s=0;s<i.length;s++){const o=i[s];n.indexOf(o)===-1&&(n.push(o),t[o.id]=!0)}return{plugins:n,localIds:t}}function HX(e,t){return!t&&e===!1?null:e===!0?{}:e}function WX(e,{plugins:t,localIds:n},r,i){const s=[],o=e.getContext();for(const a of t){const l=a.id,c=HX(r[l],i);c!==null&&s.push({plugin:a,options:VX(e.config,{plugin:a,local:n[l]},c,o)})}return s}function VX(e,{plugin:t,local:n},r,i){const s=e.pluginScopeKeys(t),o=e.getOptionScopes(r,s);return n&&t.defaults&&o.push(t.defaults),e.createResolver(o,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function qw(e,t){const n=qn.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||n.indexAxis||"x"}function qX(e,t){let n=e;return e==="_index_"?n=t:e==="_value_"&&(n=t==="x"?"y":"x"),n}function QX(e,t){return e===t?"_index_":"_value_"}function y4(e){if(e==="x"||e==="y"||e==="r")return e}function KX(e){if(e==="top"||e==="bottom")return"x";if(e==="left"||e==="right")return"y"}function Qw(e,...t){if(y4(e))return e;for(const n of t){const r=n.axis||KX(n.position)||e.length>1&&y4(e[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function v4(e,t,n){if(n[t+"AxisID"]===e)return{axis:t}}function GX(e,t){if(t.data&&t.data.datasets){const n=t.data.datasets.filter(r=>r.xAxisID===e||r.yAxisID===e);if(n.length)return v4(e,"x",n[0])||v4(e,"y",n[0])}return{}}function YX(e,t){const n=ou[e.type]||{scales:{}},r=t.scales||{},i=qw(e.type,t),s=Object.create(null);return Object.keys(r).forEach(o=>{const a=r[o];if(!nn(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const l=Qw(o,a,GX(o,e),qn.scales[a.type]),c=QX(l,i),f=n.scales||{};s[o]=Hh(Object.create(null),[{axis:l},a,f[l],f[c]])}),e.data.datasets.forEach(o=>{const a=o.type||e.type,l=o.indexAxis||qw(a,t),f=(ou[a]||{}).scales||{};Object.keys(f).forEach(p=>{const g=qX(p,l),y=o[g+"AxisID"]||g;s[y]=s[y]||Object.create(null),Hh(s[y],[{axis:g},r[y],f[p]])})}),Object.keys(s).forEach(o=>{const a=s[o];Hh(a,[qn.scales[a.type],qn.scale])}),s}function CI(e){const t=e.options||(e.options={});t.plugins=Nt(t.plugins,{}),t.scales=YX(e,t)}function kI(e){return e=e||{},e.datasets=e.datasets||[],e.labels=e.labels||[],e}function JX(e){return e=e||{},e.data=kI(e.data),CI(e),e}const b4=new Map,TI=new Set;function Vg(e,t){let n=b4.get(e);return n||(n=t(),b4.set(e,n),TI.add(n)),n}const yh=(e,t,n)=>{const r=Fl(t,n);r!==void 0&&e.add(r)};class XX{constructor(t){this._config=JX(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=kI(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),CI(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Vg(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,n){return Vg(`${t}.transition.${n}`,()=>[[`datasets.${t}.transitions.${n}`,`transitions.${n}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,n){return Vg(`${t}-${n}`,()=>[[`datasets.${t}.elements.${n}`,`datasets.${t}`,`elements.${n}`,""]])}pluginScopeKeys(t){const n=t.id,r=this.type;return Vg(`${r}-plugin-${n}`,()=>[[`plugins.${n}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,n){const r=this._scopeCache;let i=r.get(t);return(!i||n)&&(i=new Map,r.set(t,i)),i}getOptionScopes(t,n,r){const{options:i,type:s}=this,o=this._cachedScopes(t,r),a=o.get(n);if(a)return a;const l=new Set;n.forEach(f=>{t&&(l.add(t),f.forEach(p=>yh(l,t,p))),f.forEach(p=>yh(l,i,p)),f.forEach(p=>yh(l,ou[s]||{},p)),f.forEach(p=>yh(l,qn,p)),f.forEach(p=>yh(l,Ww,p))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),TI.has(n)&&o.set(n,c),c}chartOptionScopes(){const{options:t,type:n}=this;return[t,ou[n]||{},qn.datasets[n]||{},{type:n},qn,Ww]}resolveNamedOptions(t,n,r,i=[""]){const s={$shared:!0},{resolver:o,subPrefixes:a}=x4(this._resolverCache,t,i);let l=o;if(eZ(o,n)){s.$shared=!1,r=Bl(r)?r():r;const c=this.createResolver(t,r,a);l=tf(o,r,c)}for(const c of n)s[c]=l[c];return s}createResolver(t,n,r=[""],i){const{resolver:s}=x4(this._resolverCache,t,r);return nn(n)?tf(s,n,void 0,i):s}}function x4(e,t,n){let r=e.get(t);r||(r=new Map,e.set(t,r));const i=n.join();let s=r.get(i);return s||(s={resolver:tS(t,n),subPrefixes:n.filter(a=>!a.toLowerCase().includes("hover"))},r.set(i,s)),s}const ZX=e=>nn(e)&&Object.getOwnPropertyNames(e).some(t=>Bl(e[t]));function eZ(e,t){const{isScriptable:n,isIndexable:r}=nI(e);for(const i of t){const s=n(i),o=r(i),a=(o||s)&&e[i];if(s&&(Bl(a)||ZX(a))||o&&Vn(a))return!0}return!1}var tZ="4.5.1";const nZ=["top","bottom","left","right","chartArea"];function w4(e,t){return e==="top"||e==="bottom"||nZ.indexOf(e)===-1&&t==="x"}function _4(e,t){return function(n,r){return n[e]===r[e]?n[t]-r[t]:n[e]-r[e]}}function S4(e){const t=e.chart,n=t.options.animation;t.notifyPlugins("afterRender"),On(n&&n.onComplete,[e],t)}function rZ(e){const t=e.chart,n=t.options.animation;On(n&&n.onProgress,[e],t)}function jI(e){return iS()&&typeof e=="string"?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const O0={},E4=e=>{const t=jI(e);return Object.values(O0).filter(n=>n.canvas===t).pop()};function iZ(e,t,n){const r=Object.keys(e);for(const i of r){const s=+i;if(s>=t){const o=e[i];delete e[i],(n>0||s>t)&&(e[s+n]=o)}}}function sZ(e,t,n,r){return!n||e.type==="mouseout"?null:r?t:e}let $o=class{static defaults=qn;static instances=O0;static overrides=ou;static registry=No;static version=tZ;static getChart=E4;static register(...t){No.add(...t),C4()}static unregister(...t){No.remove(...t),C4()}constructor(t,n){const r=this.config=new XX(n),i=jI(t),s=E4(i);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const o=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||SX(i)),this.platform.updateConfig(r);const a=this.platform.acquireContext(i,o.aspectRatio),l=a&&a.canvas,c=l&&l.height,f=l&&l.width;if(this.id=nY(),this.ctx=a,this.canvas=l,this.width=f,this.height=c,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new zX,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=bY(p=>this.update(p),o.resizeDelay||0),this._dataChanges=[],O0[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}da.listen(this,"complete",S4),da.listen(this,"progress",rZ),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:n},width:r,height:i,_aspectRatio:s}=this;return Zt(t)?n&&s?s:i?r/i:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return No}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Qk(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Wk(this.canvas,this.ctx),this}stop(){return da.stop(this),this}resize(t,n){da.running(this)?this._resizeBeforeDraw={width:t,height:n}:this._resize(t,n)}_resize(t,n){const r=this.options,i=this.canvas,s=r.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(i,t,n,s),a=r.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,Qk(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),On(r.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};xn(n,(r,i)=>{r.id=i})}buildOrUpdateScales(){const t=this.options,n=t.scales,r=this.scales,i=Object.keys(r).reduce((o,a)=>(o[a]=!1,o),{});let s=[];n&&(s=s.concat(Object.keys(n).map(o=>{const a=n[o],l=Qw(o,a),c=l==="r",f=l==="x";return{options:a,dposition:c?"chartArea":f?"bottom":"left",dtype:c?"radialLinear":f?"category":"linear"}}))),xn(s,o=>{const a=o.options,l=a.id,c=Qw(l,a),f=Nt(a.type,o.dtype);(a.position===void 0||w4(a.position,c)!==w4(o.dposition))&&(a.position=o.dposition),i[l]=!0;let p=null;if(l in r&&r[l].type===f)p=r[l];else{const g=No.getScale(f);p=new g({id:l,type:f,ctx:this.ctx,chart:this}),r[p.id]=p}p.init(a,t)}),xn(i,(o,a)=>{o||delete r[a]}),xn(r,o=>{di.configure(this,o,o.options),di.addBox(this,o)})}_updateMetasets(){const t=this._metasets,n=this.data.datasets.length,r=t.length;if(t.sort((i,s)=>i.index-s.index),r>n){for(let i=n;i<r;++i)this._destroyDatasetMeta(i);t.splice(n,r-n)}this._sortedMetasets=t.slice(0).sort(_4("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:n}}=this;t.length>n.length&&delete this._stacks,t.forEach((r,i)=>{n.filter(s=>s===r._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const t=[],n=this.data.datasets;let r,i;for(this._removeUnreferencedMetasets(),r=0,i=n.length;r<i;r++){const s=n[r];let o=this.getDatasetMeta(r);const a=s.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(r),o=this.getDatasetMeta(r)),o.type=a,o.indexAxis=s.indexAxis||qw(a,this.options),o.order=s.order||0,o.index=r,o.label=""+s.label,o.visible=this.isDatasetVisible(r),o.controller)o.controller.updateIndex(r),o.controller.linkScales();else{const l=No.getController(a),{datasetElementType:c,dataElementType:f}=qn.datasets[a];Object.assign(l,{dataElementType:No.getElement(f),datasetElementType:c&&No.getElement(c)}),o.controller=new l(this,r),t.push(o.controller)}}return this._updateMetasets(),t}_resetElements(){xn(this.data.datasets,(t,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const n=this.config;n.update();const r=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let c=0,f=this.data.datasets.length;c<f;c++){const{controller:p}=this.getDatasetMeta(c),g=!i&&s.indexOf(p)===-1;p.buildOrUpdateElements(g),o=Math.max(+p.getMaxOverflow(),o)}o=this._minPadding=r.layout.autoPadding?o:0,this._updateLayout(o),i||xn(s,c=>{c.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(_4("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){xn(this.scales,t=>{di.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,n=new Set(Object.keys(this._listeners)),r=new Set(t.events);(!Mk(n,r)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,n=this._getUniformDataChanges()||[];for(const{method:r,start:i,count:s}of n){const o=r==="_removeElements"?-s:s;iZ(t,i,o)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const n=this.data.datasets.length,r=s=>new Set(t.filter(o=>o[0]===s).map((o,a)=>a+","+o.splice(1).join(","))),i=r(0);for(let s=1;s<n;s++)if(!Mk(i,r(s)))return;return Array.from(i).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;di.update(this,this.width,this.height,t);const n=this.chartArea,r=n.width<=0||n.height<=0;this._layers=[],xn(this.boxes,i=>{r&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,s)=>{i._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let n=0,r=this.data.datasets.length;n<r;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,r=this.data.datasets.length;n<r;++n)this._updateDataset(n,Bl(t)?t({datasetIndex:n}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,n){const r=this.getDatasetMeta(t),i={meta:r,index:t,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(r.controller._update(n),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(da.has(this)?this.attached&&!da.running(this)&&da.start(this):(this.draw(),S4({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:r,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(t=0;t<n.length&&n[t].z<=0;++t)n[t].draw(this.chartArea);for(this._drawDatasets();t<n.length;++t)n[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const n=this._sortedMetasets,r=[];let i,s;for(i=0,s=n.length;i<s;++i){const o=n[i];(!t||o.visible)&&r.push(o)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let n=t.length-1;n>=0;--n)this._drawDataset(t[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const n=this.ctx,r={meta:t,index:t.index,cancelable:!0},i=hI(this,t);this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(i&&l1(n,i),t.controller.draw(),i&&c1(n),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(t){return xa(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,n,r,i){const s=nX.modes[n];return typeof s=="function"?s(this,t,r,i):[]}getDatasetMeta(t){const n=this.data.datasets[t],r=this._metasets;let i=r.filter(s=>s&&s._dataset===n).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:t,_dataset:n,_parsed:[],_sorted:!1},r.push(i)),i}getContext(){return this.$context||(this.$context=Jl(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const n=this.data.datasets[t];if(!n)return!1;const r=this.getDatasetMeta(t);return typeof r.hidden=="boolean"?!r.hidden:!n.hidden}setDatasetVisibility(t,n){const r=this.getDatasetMeta(t);r.hidden=!n}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,n,r){const i=r?"show":"hide",s=this.getDatasetMeta(t),o=s.controller._resolveAnimations(void 0,i);hp(n)?(s.data[n].hidden=!r,this.update()):(this.setDatasetVisibility(t,r),o.update(s,{visible:r}),this.update(a=>a.datasetIndex===t?i:void 0))}hide(t,n){this._updateVisibility(t,n,!1)}show(t,n){this._updateVisibility(t,n,!0)}_destroyDatasetMeta(t){const n=this._metasets[t];n&&n.controller&&n.controller._destroy(),delete this._metasets[t]}_stop(){let t,n;for(this.stop(),da.remove(this),t=0,n=this.data.datasets.length;t<n;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:n}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),Wk(t,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete O0[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,n=this.platform,r=(s,o)=>{n.addEventListener(this,s,o),t[s]=o},i=(s,o,a)=>{s.offsetX=o,s.offsetY=a,this._eventHandler(s)};xn(this.options.events,s=>r(s,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,n=this.platform,r=(l,c)=>{n.addEventListener(this,l,c),t[l]=c},i=(l,c)=>{t[l]&&(n.removeEventListener(this,l,c),delete t[l])},s=(l,c)=>{this.canvas&&this.resize(l,c)};let o;const a=()=>{i("attach",a),this.attached=!0,this.resize(),r("resize",s),r("detach",o)};o=()=>{this.attached=!1,i("resize",s),this._stop(),this._resize(0,0),r("attach",a)},n.isAttached(this.canvas)?a():o()}unbindEvents(){xn(this._listeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._listeners={},xn(this._responsiveListeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,n,r){const i=r?"set":"remove";let s,o,a,l;for(n==="dataset"&&(s=this.getDatasetMeta(t[0].datasetIndex),s.controller["_"+i+"DatasetHoverStyle"]()),a=0,l=t.length;a<l;++a){o=t[a];const c=o&&this.getDatasetMeta(o.datasetIndex).controller;c&&c[i+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const n=this._active||[],r=t.map(({datasetIndex:s,index:o})=>{const a=this.getDatasetMeta(s);if(!a)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:a.data[o],index:o}});!dy(r,n)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,n))}notifyPlugins(t,n,r){return this._plugins.notify(this,t,n,r)}isPluginEnabled(t){return this._plugins._cache.filter(n=>n.plugin.id===t).length===1}_updateHoverStyles(t,n,r){const i=this.options.hover,s=(l,c)=>l.filter(f=>!c.some(p=>f.datasetIndex===p.datasetIndex&&f.index===p.index)),o=s(n,t),a=r?t:s(t,n);o.length&&this.updateHoverStyle(o,i.mode,!1),a.length&&i.mode&&this.updateHoverStyle(a,i.mode,!0)}_eventHandler(t,n){const r={event:t,replay:n,cancelable:!0,inChartArea:this.isPointInArea(t)},i=o=>(o.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",r,i)===!1)return;const s=this._handleEvent(t,n,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,i),(s||r.changed)&&this.render(),this}_handleEvent(t,n,r){const{_active:i=[],options:s}=this,o=n,a=this._getActiveElements(t,i,r,o),l=lY(t),c=sZ(t,this._lastEvent,r,l);r&&(this._lastEvent=null,On(s.onHover,[t,a,this],this),l&&On(s.onClick,[t,a,this],this));const f=!dy(a,i);return(f||n)&&(this._active=a,this._updateHoverStyles(a,i,n)),this._lastEvent=c,f}_getActiveElements(t,n,r,i){if(t.type==="mouseout")return[];if(!r)return n;const s=this.options.hover;return this.getElementsAtEventForMode(t,s.mode,s,i)}};function C4(){return xn($o.instances,e=>e._plugins.invalidate())}function oZ(e,t,n){const{startAngle:r,x:i,y:s,outerRadius:o,innerRadius:a,options:l}=t,{borderWidth:c,borderJoinStyle:f}=l,p=Math.min(c/o,ui(r-n));if(e.beginPath(),e.arc(i,s,o-c/2,r+p/2,n-p/2),a>0){const g=Math.min(c/a,ui(r-n));e.arc(i,s,a+c/2,n-g/2,r+g/2,!0)}else{const g=Math.min(c/2,o*ui(r-n));if(f==="round")e.arc(i,s,g,n-pn/2,r+pn/2,!0);else if(f==="bevel"){const y=2*g*g,x=-y*Math.cos(n+pn/2)+i,_=-y*Math.sin(n+pn/2)+s,S=y*Math.cos(r+pn/2)+i,C=y*Math.sin(r+pn/2)+s;e.lineTo(x,_),e.lineTo(S,C)}}e.closePath(),e.moveTo(0,0),e.rect(0,0,e.canvas.width,e.canvas.height),e.clip("evenodd")}function aZ(e,t,n){const{startAngle:r,pixelMargin:i,x:s,y:o,outerRadius:a,innerRadius:l}=t;let c=i/a;e.beginPath(),e.arc(s,o,a,r-c,n+c),l>i?(c=i/l,e.arc(s,o,l,n+c,r-c,!0)):e.arc(s,o,i,n+hr,r-hr),e.closePath(),e.clip()}function lZ(e){return eS(e,["outerStart","outerEnd","innerStart","innerEnd"])}function cZ(e,t,n,r){const i=lZ(e.options.borderRadius),s=(n-t)/2,o=Math.min(s,r*t/2),a=l=>{const c=(n-Math.min(s,l))*r/2;return Wr(l,0,Math.min(s,c))};return{outerStart:a(i.outerStart),outerEnd:a(i.outerEnd),innerStart:Wr(i.innerStart,0,o),innerEnd:Wr(i.innerEnd,0,o)}}function cd(e,t,n,r){return{x:n+e*Math.cos(t),y:r+e*Math.sin(t)}}function yy(e,t,n,r,i,s){const{x:o,y:a,startAngle:l,pixelMargin:c,innerRadius:f}=t,p=Math.max(t.outerRadius+r+n-c,0),g=f>0?f+r+n+c:0;let y=0;const x=i-l;if(r){const W=f>0?f-r:0,Q=p>0?p-r:0,te=(W+Q)/2,X=te!==0?x*te/(te+r):x;y=(x-X)/2}const _=Math.max(.001,x*p-n/pn)/p,S=(x-_)/2,C=l+S+y,I=i-S-y,{outerStart:A,outerEnd:z,innerStart:U,innerEnd:O}=cZ(t,g,p,I-C),N=p-A,F=p-z,$=C+A/N,L=I-z/F,Z=g+U,Y=g+O,he=C+U/Z,G=I-O/Y;if(e.beginPath(),s){const W=($+L)/2;if(e.arc(o,a,p,$,W),e.arc(o,a,p,W,L),z>0){const fe=cd(F,L,o,a);e.arc(fe.x,fe.y,z,L,I+hr)}const Q=cd(Y,I,o,a);if(e.lineTo(Q.x,Q.y),O>0){const fe=cd(Y,G,o,a);e.arc(fe.x,fe.y,O,I+hr,G+Math.PI)}const te=(I-O/g+(C+U/g))/2;if(e.arc(o,a,g,I-O/g,te,!0),e.arc(o,a,g,te,C+U/g,!0),U>0){const fe=cd(Z,he,o,a);e.arc(fe.x,fe.y,U,he+Math.PI,C-hr)}const X=cd(N,C,o,a);if(e.lineTo(X.x,X.y),A>0){const fe=cd(N,$,o,a);e.arc(fe.x,fe.y,A,C-hr,$)}}else{e.moveTo(o,a);const W=Math.cos($)*p+o,Q=Math.sin($)*p+a;e.lineTo(W,Q);const te=Math.cos(L)*p+o,X=Math.sin(L)*p+a;e.lineTo(te,X)}e.closePath()}function uZ(e,t,n,r,i){const{fullCircles:s,startAngle:o,circumference:a}=t;let l=t.endAngle;if(s){yy(e,t,n,r,l,i);for(let c=0;c<s;++c)e.fill();isNaN(a)||(l=o+(a%Ln||Ln))}return yy(e,t,n,r,l,i),e.fill(),l}function dZ(e,t,n,r,i){const{fullCircles:s,startAngle:o,circumference:a,options:l}=t,{borderWidth:c,borderJoinStyle:f,borderDash:p,borderDashOffset:g,borderRadius:y}=l,x=l.borderAlign==="inner";if(!c)return;e.setLineDash(p||[]),e.lineDashOffset=g,x?(e.lineWidth=c*2,e.lineJoin=f||"round"):(e.lineWidth=c,e.lineJoin=f||"bevel");let _=t.endAngle;if(s){yy(e,t,n,r,_,i);for(let S=0;S<s;++S)e.stroke();isNaN(a)||(_=o+(a%Ln||Ln))}x&&aZ(e,t,_),l.selfJoin&&_-o>=pn&&y===0&&f!=="miter"&&oZ(e,t,_),s||(yy(e,t,n,r,_,i),e.stroke())}class h1 extends Pa{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,n,r){const i=this.getProps(["x","y"],r),{angle:s,distance:o}=q9(i,{x:t,y:n}),{startAngle:a,endAngle:l,innerRadius:c,outerRadius:f,circumference:p}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),g=(this.options.spacing+this.options.borderWidth)/2,y=Nt(p,l-a),x=pp(s,a,l)&&a!==l,_=y>=Ln||x,S=va(o,c+g,f+g);return _&&S}getCenterPoint(t){const{x:n,y:r,startAngle:i,endAngle:s,innerRadius:o,outerRadius:a}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:l,spacing:c}=this.options,f=(i+s)/2,p=(o+a+c+l)/2;return{x:n+Math.cos(f)*p,y:r+Math.sin(f)*p}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:n,circumference:r}=this,i=(n.offset||0)/4,s=(n.spacing||0)/2,o=n.circular;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=r>Ln?Math.floor(r/Ln):0,r===0||this.innerRadius<0||this.outerRadius<0)return;t.save();const a=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(a)*i,Math.sin(a)*i);const l=1-Math.sin(Math.min(pn,r||0)),c=i*l;t.fillStyle=n.backgroundColor,t.strokeStyle=n.borderColor,uZ(t,this,c,s,o),dZ(t,this,c,s,o),t.restore()}}function II(e,t,n=t){e.lineCap=Nt(n.borderCapStyle,t.borderCapStyle),e.setLineDash(Nt(n.borderDash,t.borderDash)),e.lineDashOffset=Nt(n.borderDashOffset,t.borderDashOffset),e.lineJoin=Nt(n.borderJoinStyle,t.borderJoinStyle),e.lineWidth=Nt(n.borderWidth,t.borderWidth),e.strokeStyle=Nt(n.borderColor,t.borderColor)}function fZ(e,t,n){e.lineTo(n.x,n.y)}function hZ(e){return e.stepped?NY:e.tension||e.cubicInterpolationMode==="monotone"?OY:fZ}function RI(e,t,n={}){const r=e.length,{start:i=0,end:s=r-1}=n,{start:o,end:a}=t,l=Math.max(i,o),c=Math.min(s,a),f=i<o&&s<o||i>a&&s>a;return{count:r,start:l,loop:t.loop,ilen:c<l&&!f?r+c-l:c-l}}function pZ(e,t,n,r){const{points:i,options:s}=t,{count:o,start:a,loop:l,ilen:c}=RI(i,n,r),f=hZ(s);let{move:p=!0,reverse:g}=r||{},y,x,_;for(y=0;y<=c;++y)x=i[(a+(g?c-y:y))%o],!x.skip&&(p?(e.moveTo(x.x,x.y),p=!1):f(e,_,x,g,s.stepped),_=x);return l&&(x=i[(a+(g?c:0))%o],f(e,_,x,g,s.stepped)),!!l}function mZ(e,t,n,r){const i=t.points,{count:s,start:o,ilen:a}=RI(i,n,r),{move:l=!0,reverse:c}=r||{};let f=0,p=0,g,y,x,_,S,C;const I=z=>(o+(c?a-z:z))%s,A=()=>{_!==S&&(e.lineTo(f,S),e.lineTo(f,_),e.lineTo(f,C))};for(l&&(y=i[I(0)],e.moveTo(y.x,y.y)),g=0;g<=a;++g){if(y=i[I(g)],y.skip)continue;const z=y.x,U=y.y,O=z|0;O===x?(U<_?_=U:U>S&&(S=U),f=(p*f+z)/++p):(A(),e.lineTo(z,U),x=O,p=0,_=S=U),C=U}A()}function Kw(e){const t=e.options,n=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!n?mZ:pZ}function gZ(e){return e.stepped?uJ:e.tension||e.cubicInterpolationMode==="monotone"?dJ:Mc}function yZ(e,t,n,r){let i=t._path;i||(i=t._path=new Path2D,t.path(i,n,r)&&i.closePath()),II(e,t.options),e.stroke(i)}function vZ(e,t,n,r){const{segments:i,options:s}=t,o=Kw(t);for(const a of i)II(e,s,a.style),e.beginPath(),o(e,t,a,{start:n,end:n+r-1})&&e.closePath(),e.stroke()}const bZ=typeof Path2D=="function";function xZ(e,t,n,r){bZ&&!t.options.segment?yZ(e,t,n,r):vZ(e,t,n,r)}class yf extends Pa{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"};constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,n){const r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){const i=r.spanGaps?this._loop:this._fullLoop;nJ(this._points,r,t,i,n),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=yJ(this,this.options.segment))}first(){const t=this.segments,n=this.points;return t.length&&n[t[0].start]}last(){const t=this.segments,n=this.points,r=t.length;return r&&n[t[r-1].end]}interpolate(t,n){const r=this.options,i=t[n],s=this.points,o=fI(this,{property:n,start:i,end:i});if(!o.length)return;const a=[],l=gZ(r);let c,f;for(c=0,f=o.length;c<f;++c){const{start:p,end:g}=o[c],y=s[p],x=s[g];if(y===x){a.push(y);continue}const _=Math.abs((i-y[n])/(x[n]-y[n])),S=l(y,x,_,r.stepped);S[n]=t[n],a.push(S)}return a.length===1?a[0]:a}pathSegment(t,n,r){return Kw(this)(t,this,n,r)}path(t,n,r){const i=this.segments,s=Kw(this);let o=this._loop;n=n||0,r=r||this.points.length-n;for(const a of i)o&=s(t,this,a,{start:n,end:n+r-1});return!!o}draw(t,n,r,i){const s=this.options||{};(this.points||[]).length&&s.borderWidth&&(t.save(),xZ(t,this,r,i),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function k4(e,t,n,r){const i=e.options,{[n]:s}=e.getProps([n],r);return Math.abs(t-s)<i.radius+i.hitRadius}class aS extends Pa{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,n,r){const i=this.options,{x:s,y:o}=this.getProps(["x","y"],r);return Math.pow(t-s,2)+Math.pow(n-o,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(t,n){return k4(this,t,"x",n)}inYRange(t,n){return k4(this,t,"y",n)}getCenterPoint(t){const{x:n,y:r}=this.getProps(["x","y"],t);return{x:n,y:r}}size(t){t=t||this.options||{};let n=t.radius||0;n=Math.max(n,n&&t.hoverRadius||0);const r=n&&t.borderWidth||0;return(n+r)*2}draw(t,n){const r=this.options;this.skip||r.radius<.1||!xa(this,n,this.size(r)/2)||(t.strokeStyle=r.borderColor,t.lineWidth=r.borderWidth,t.fillStyle=r.backgroundColor,Vw(t,r,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}function NI(e,t){const{x:n,y:r,base:i,width:s,height:o}=e.getProps(["x","y","base","width","height"],t);let a,l,c,f,p;return e.horizontal?(p=o/2,a=Math.min(n,i),l=Math.max(n,i),c=r-p,f=r+p):(p=s/2,a=n-p,l=n+p,c=Math.min(r,i),f=Math.max(r,i)),{left:a,top:c,right:l,bottom:f}}function kl(e,t,n,r){return e?0:Wr(t,n,r)}function wZ(e,t,n){const r=e.options.borderWidth,i=e.borderSkipped,s=tI(r);return{t:kl(i.top,s.top,0,n),r:kl(i.right,s.right,0,t),b:kl(i.bottom,s.bottom,0,n),l:kl(i.left,s.left,0,t)}}function _Z(e,t,n){const{enableBorderRadius:r}=e.getProps(["enableBorderRadius"]),i=e.options.borderRadius,s=Zc(i),o=Math.min(t,n),a=e.borderSkipped,l=r||nn(i);return{topLeft:kl(!l||a.top||a.left,s.topLeft,0,o),topRight:kl(!l||a.top||a.right,s.topRight,0,o),bottomLeft:kl(!l||a.bottom||a.left,s.bottomLeft,0,o),bottomRight:kl(!l||a.bottom||a.right,s.bottomRight,0,o)}}function SZ(e){const t=NI(e),n=t.right-t.left,r=t.bottom-t.top,i=wZ(e,n/2,r/2),s=_Z(e,n/2,r/2);return{outer:{x:t.left,y:t.top,w:n,h:r,radius:s},inner:{x:t.left+i.l,y:t.top+i.t,w:n-i.l-i.r,h:r-i.t-i.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,s.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(i.b,i.r))}}}}function rx(e,t,n,r){const i=t===null,s=n===null,a=e&&!(i&&s)&&NI(e,r);return a&&(i||va(t,a.left,a.right))&&(s||va(n,a.top,a.bottom))}function EZ(e){return e.topLeft||e.topRight||e.bottomLeft||e.bottomRight}function CZ(e,t){e.rect(t.x,t.y,t.w,t.h)}function ix(e,t,n={}){const r=e.x!==n.x?-t:0,i=e.y!==n.y?-t:0,s=(e.x+e.w!==n.x+n.w?t:0)-r,o=(e.y+e.h!==n.y+n.h?t:0)-i;return{x:e.x+r,y:e.y+i,w:e.w+s,h:e.h+o,radius:e.radius}}class Kp extends Pa{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:n,options:{borderColor:r,backgroundColor:i}}=this,{inner:s,outer:o}=SZ(this),a=EZ(o.radius)?mp:CZ;t.save(),(o.w!==s.w||o.h!==s.h)&&(t.beginPath(),a(t,ix(o,n,s)),t.clip(),a(t,ix(s,-n,o)),t.fillStyle=r,t.fill("evenodd")),t.beginPath(),a(t,ix(s,n)),t.fillStyle=i,t.fill(),t.restore()}inRange(t,n,r){return rx(this,t,n,r)}inXRange(t,n){return rx(this,t,null,n)}inYRange(t,n){return rx(this,null,t,n)}getCenterPoint(t){const{x:n,y:r,base:i,horizontal:s}=this.getProps(["x","y","base","horizontal"],t);return{x:s?(n+i)/2:n,y:s?r:(r+i)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}var kZ=Object.freeze({__proto__:null,ArcElement:h1,BarElement:Kp,LineElement:yf,PointElement:aS});const Gw=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],T4=Gw.map(e=>e.replace("rgb(","rgba(").replace(")",", 0.5)"));function OI(e){return Gw[e%Gw.length]}function PI(e){return T4[e%T4.length]}function TZ(e,t){return e.borderColor=OI(t),e.backgroundColor=PI(t),++t}function jZ(e,t){return e.backgroundColor=e.data.map(()=>OI(t++)),t}function IZ(e,t){return e.backgroundColor=e.data.map(()=>PI(t++)),t}function RZ(e){let t=0;return(n,r)=>{const i=e.getDatasetMeta(r).controller;i instanceof d1?t=jZ(n,t):i instanceof vI?t=IZ(n,t):i&&(t=TZ(n,t))}}function j4(e){let t;for(t in e)if(e[t].borderColor||e[t].backgroundColor)return!0;return!1}function NZ(e){return e&&(e.borderColor||e.backgroundColor)}function OZ(){return qn.borderColor!=="rgba(0,0,0,0.1)"||qn.backgroundColor!=="rgba(0,0,0,0.1)"}var PZ={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(e,t,n){if(!n.enabled)return;const{data:{datasets:r},options:i}=e.config,{elements:s}=i,o=j4(r)||NZ(i)||s&&j4(s)||OZ();if(!n.forceOverride&&o)return;const a=RZ(e);r.forEach(a)}};function AZ(e,t,n,r,i){const s=i.samples||r;if(s>=n)return e.slice(t,t+n);const o=[],a=(n-2)/(s-2);let l=0;const c=t+n-1;let f=t,p,g,y,x,_;for(o[l++]=e[f],p=0;p<s-2;p++){let S=0,C=0,I;const A=Math.floor((p+1)*a)+1+t,z=Math.min(Math.floor((p+2)*a)+1,n)+t,U=z-A;for(I=A;I<z;I++)S+=e[I].x,C+=e[I].y;S/=U,C/=U;const O=Math.floor(p*a)+1+t,N=Math.min(Math.floor((p+1)*a)+1,n)+t,{x:F,y:$}=e[f];for(y=x=-1,I=O;I<N;I++)x=.5*Math.abs((F-S)*(e[I].y-$)-(F-e[I].x)*(C-$)),x>y&&(y=x,g=e[I],_=I);o[l++]=g,f=_}return o[l++]=e[c],o}function MZ(e,t,n,r){let i=0,s=0,o,a,l,c,f,p,g,y,x,_;const S=[],C=t+n-1,I=e[t].x,z=e[C].x-I;for(o=t;o<t+n;++o){a=e[o],l=(a.x-I)/z*r,c=a.y;const U=l|0;if(U===f)c<x?(x=c,p=o):c>_&&(_=c,g=o),i=(s*i+a.x)/++s;else{const O=o-1;if(!Zt(p)&&!Zt(g)){const N=Math.min(p,g),F=Math.max(p,g);N!==y&&N!==O&&S.push({...e[N],x:i}),F!==y&&F!==O&&S.push({...e[F],x:i})}o>0&&O!==y&&S.push(e[O]),S.push(a),f=U,s=0,x=_=c,p=g=y=o}}return S}function AI(e){if(e._decimated){const t=e._data;delete e._decimated,delete e._data,Object.defineProperty(e,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function I4(e){e.data.datasets.forEach(t=>{AI(t)})}function DZ(e,t){const n=t.length;let r=0,i;const{iScale:s}=e,{min:o,max:a,minDefined:l,maxDefined:c}=s.getUserBounds();return l&&(r=Wr(ba(t,s.axis,o).lo,0,n-1)),c?i=Wr(ba(t,s.axis,a).hi+1,r,n)-r:i=n-r,{start:r,count:i}}var LZ={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(e,t,n)=>{if(!n.enabled){I4(e);return}const r=e.width;e.data.datasets.forEach((i,s)=>{const{_data:o,indexAxis:a}=i,l=e.getDatasetMeta(s),c=o||i.data;if(Rh([a,e.options.indexAxis])==="y"||!l.controller.supportsDecimation)return;const f=e.scales[l.xAxisID];if(f.type!=="linear"&&f.type!=="time"||e.options.parsing)return;let{start:p,count:g}=DZ(l,c);const y=n.threshold||4*r;if(g<=y){AI(i);return}Zt(o)&&(i._data=c,delete i.data,Object.defineProperty(i,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(_){this._data=_}}));let x;switch(n.algorithm){case"lttb":x=AZ(c,p,g,r,n);break;case"min-max":x=MZ(c,p,g,r);break;default:throw new Error(`Unsupported decimation algorithm '${n.algorithm}'`)}i._decimated=x})},destroy(e){I4(e)}};function FZ(e,t,n){const r=e.segments,i=e.points,s=t.points,o=[];for(const a of r){let{start:l,end:c}=a;c=p1(l,c,i);const f=Yw(n,i[l],i[c],a.loop);if(!t.segments){o.push({source:a,target:f,start:i[l],end:i[c]});continue}const p=fI(t,f);for(const g of p){const y=Yw(n,s[g.start],s[g.end],g.loop),x=dI(a,i,y);for(const _ of x)o.push({source:_,target:g,start:{[n]:R4(f,y,"start",Math.max)},end:{[n]:R4(f,y,"end",Math.min)}})}}return o}function Yw(e,t,n,r){if(r)return;let i=t[e],s=n[e];return e==="angle"&&(i=ui(i),s=ui(s)),{property:e,start:i,end:s}}function BZ(e,t){const{x:n=null,y:r=null}=e||{},i=t.points,s=[];return t.segments.forEach(({start:o,end:a})=>{a=p1(o,a,i);const l=i[o],c=i[a];r!==null?(s.push({x:l.x,y:r}),s.push({x:c.x,y:r})):n!==null&&(s.push({x:n,y:l.y}),s.push({x:n,y:c.y}))}),s}function p1(e,t,n){for(;t>e;t--){const r=n[t];if(!isNaN(r.x)&&!isNaN(r.y))break}return t}function R4(e,t,n,r){return e&&t?r(e[n],t[n]):e?e[n]:t?t[n]:0}function MI(e,t){let n=[],r=!1;return Vn(e)?(r=!0,n=e):n=BZ(e,t),n.length?new yf({points:n,options:{tension:0},_loop:r,_fullLoop:r}):null}function N4(e){return e&&e.fill!==!1}function $Z(e,t,n){let i=e[t].fill;const s=[t];let o;if(!n)return i;for(;i!==!1&&s.indexOf(i)===-1;){if(!ar(i))return i;if(o=e[i],!o)return!1;if(o.visible)return i;s.push(i),i=o.fill}return!1}function zZ(e,t,n){const r=VZ(e);if(nn(r))return isNaN(r.value)?!1:r;let i=parseFloat(r);return ar(i)&&Math.floor(i)===i?UZ(r[0],t,i,n):["origin","start","end","stack","shape"].indexOf(r)>=0&&r}function UZ(e,t,n,r){return(e==="-"||e==="+")&&(n=t+n),n===t||n<0||n>=r?!1:n}function HZ(e,t){let n=null;return e==="start"?n=t.bottom:e==="end"?n=t.top:nn(e)?n=t.getPixelForValue(e.value):t.getBasePixel&&(n=t.getBasePixel()),n}function WZ(e,t,n){let r;return e==="start"?r=n:e==="end"?r=t.options.reverse?t.min:t.max:nn(e)?r=e.value:r=t.getBaseValue(),r}function VZ(e){const t=e.options,n=t.fill;let r=Nt(n&&n.target,n);return r===void 0&&(r=!!t.backgroundColor),r===!1||r===null?!1:r===!0?"origin":r}function qZ(e){const{scale:t,index:n,line:r}=e,i=[],s=r.segments,o=r.points,a=QZ(t,n);a.push(MI({x:null,y:t.bottom},r));for(let l=0;l<s.length;l++){const c=s[l];for(let f=c.start;f<=c.end;f++)KZ(i,o[f],a)}return new yf({points:i,options:{}})}function QZ(e,t){const n=[],r=e.getMatchingVisibleMetas("line");for(let i=0;i<r.length;i++){const s=r[i];if(s.index===t)break;s.hidden||n.unshift(s.dataset)}return n}function KZ(e,t,n){const r=[];for(let i=0;i<n.length;i++){const s=n[i],{first:o,last:a,point:l}=GZ(s,t,"x");if(!(!l||o&&a)){if(o)r.unshift(l);else if(e.push(l),!a)break}}e.push(...r)}function GZ(e,t,n){const r=e.interpolate(t,n);if(!r)return{};const i=r[n],s=e.segments,o=e.points;let a=!1,l=!1;for(let c=0;c<s.length;c++){const f=s[c],p=o[f.start][n],g=o[f.end][n];if(va(i,p,g)){a=i===p,l=i===g;break}}return{first:a,last:l,point:r}}class DI{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,n,r){const{x:i,y:s,radius:o}=this;return n=n||{start:0,end:Ln},t.arc(i,s,o,n.end,n.start,!0),!r.bounds}interpolate(t){const{x:n,y:r,radius:i}=this,s=t.angle;return{x:n+Math.cos(s)*i,y:r+Math.sin(s)*i,angle:s}}}function YZ(e){const{chart:t,fill:n,line:r}=e;if(ar(n))return JZ(t,n);if(n==="stack")return qZ(e);if(n==="shape")return!0;const i=XZ(e);return i instanceof DI?i:MI(i,r)}function JZ(e,t){const n=e.getDatasetMeta(t);return n&&e.isDatasetVisible(t)?n.dataset:null}function XZ(e){return(e.scale||{}).getPointPositionForValue?eee(e):ZZ(e)}function ZZ(e){const{scale:t={},fill:n}=e,r=HZ(n,t);if(ar(r)){const i=t.isHorizontal();return{x:i?r:null,y:i?null:r}}return null}function eee(e){const{scale:t,fill:n}=e,r=t.options,i=t.getLabels().length,s=r.reverse?t.max:t.min,o=WZ(n,t,s),a=[];if(r.grid.circular){const l=t.getPointPositionForValue(0,s);return new DI({x:l.x,y:l.y,radius:t.getDistanceFromCenterForValue(o)})}for(let l=0;l<i;++l)a.push(t.getPointPositionForValue(l,o));return a}function sx(e,t,n){const r=YZ(t),{chart:i,index:s,line:o,scale:a,axis:l}=t,c=o.options,f=c.fill,p=c.backgroundColor,{above:g=p,below:y=p}=f||{},x=i.getDatasetMeta(s),_=hI(i,x);r&&o.points.length&&(l1(e,n),tee(e,{line:o,target:r,above:g,below:y,area:n,scale:a,axis:l,clip:_}),c1(e))}function tee(e,t){const{line:n,target:r,above:i,below:s,area:o,scale:a,clip:l}=t,c=n._loop?"angle":t.axis;e.save();let f=s;s!==i&&(c==="x"?(O4(e,r,o.top),ox(e,{line:n,target:r,color:i,scale:a,property:c,clip:l}),e.restore(),e.save(),O4(e,r,o.bottom)):c==="y"&&(P4(e,r,o.left),ox(e,{line:n,target:r,color:s,scale:a,property:c,clip:l}),e.restore(),e.save(),P4(e,r,o.right),f=i)),ox(e,{line:n,target:r,color:f,scale:a,property:c,clip:l}),e.restore()}function O4(e,t,n){const{segments:r,points:i}=t;let s=!0,o=!1;e.beginPath();for(const a of r){const{start:l,end:c}=a,f=i[l],p=i[p1(l,c,i)];s?(e.moveTo(f.x,f.y),s=!1):(e.lineTo(f.x,n),e.lineTo(f.x,f.y)),o=!!t.pathSegment(e,a,{move:o}),o?e.closePath():e.lineTo(p.x,n)}e.lineTo(t.first().x,n),e.closePath(),e.clip()}function P4(e,t,n){const{segments:r,points:i}=t;let s=!0,o=!1;e.beginPath();for(const a of r){const{start:l,end:c}=a,f=i[l],p=i[p1(l,c,i)];s?(e.moveTo(f.x,f.y),s=!1):(e.lineTo(n,f.y),e.lineTo(f.x,f.y)),o=!!t.pathSegment(e,a,{move:o}),o?e.closePath():e.lineTo(n,p.y)}e.lineTo(n,t.first().y),e.closePath(),e.clip()}function ox(e,t){const{line:n,target:r,property:i,color:s,scale:o,clip:a}=t,l=FZ(n,r,i);for(const{source:c,target:f,start:p,end:g}of l){const{style:{backgroundColor:y=s}={}}=c,x=r!==!0;e.save(),e.fillStyle=y,nee(e,o,a,x&&Yw(i,p,g)),e.beginPath();const _=!!n.pathSegment(e,c);let S;if(x){_?e.closePath():A4(e,r,g,i);const C=!!r.pathSegment(e,f,{move:_,reverse:!0});S=_&&C,S||A4(e,r,p,i)}e.closePath(),e.fill(S?"evenodd":"nonzero"),e.restore()}}function nee(e,t,n,r){const i=t.chart.chartArea,{property:s,start:o,end:a}=r||{};if(s==="x"||s==="y"){let l,c,f,p;s==="x"?(l=o,c=i.top,f=a,p=i.bottom):(l=i.left,c=o,f=i.right,p=a),e.beginPath(),n&&(l=Math.max(l,n.left),f=Math.min(f,n.right),c=Math.max(c,n.top),p=Math.min(p,n.bottom)),e.rect(l,c,f-l,p-c),e.clip()}}function A4(e,t,n,r){const i=t.interpolate(n,r);i&&e.lineTo(i.x,i.y)}var LI={id:"filler",afterDatasetsUpdate(e,t,n){const r=(e.data.datasets||[]).length,i=[];let s,o,a,l;for(o=0;o<r;++o)s=e.getDatasetMeta(o),a=s.dataset,l=null,a&&a.options&&a instanceof yf&&(l={visible:e.isDatasetVisible(o),index:o,fill:zZ(a,o,r),chart:e,axis:s.controller.options.indexAxis,scale:s.vScale,line:a}),s.$filler=l,i.push(l);for(o=0;o<r;++o)l=i[o],!(!l||l.fill===!1)&&(l.fill=$Z(i,o,n.propagate))},beforeDraw(e,t,n){const r=n.drawTime==="beforeDraw",i=e.getSortedVisibleDatasetMetas(),s=e.chartArea;for(let o=i.length-1;o>=0;--o){const a=i[o].$filler;a&&(a.line.updateControlPoints(s,a.axis),r&&a.fill&&sx(e.ctx,a,s))}},beforeDatasetsDraw(e,t,n){if(n.drawTime!=="beforeDatasetsDraw")return;const r=e.getSortedVisibleDatasetMetas();for(let i=r.length-1;i>=0;--i){const s=r[i].$filler;N4(s)&&sx(e.ctx,s,e.chartArea)}},beforeDatasetDraw(e,t,n){const r=t.meta.$filler;!N4(r)||n.drawTime!=="beforeDatasetDraw"||sx(e.ctx,r,e.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const M4=(e,t)=>{let{boxHeight:n=t,boxWidth:r=t}=e;return e.usePointStyle&&(n=Math.min(n,t),r=e.pointStyleWidth||Math.min(r,t)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(t,n)}},ree=(e,t)=>e!==null&&t!==null&&e.datasetIndex===t.datasetIndex&&e.index===t.index;class D4 extends Pa{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n,r){this.maxWidth=t,this.maxHeight=n,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let n=On(t.generateLabels,[this.chart],this)||[];t.filter&&(n=n.filter(r=>t.filter(r,this.chart.data))),t.sort&&(n=n.sort((r,i)=>t.sort(r,i,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:t,ctx:n}=this;if(!t.display){this.width=this.height=0;return}const r=t.labels,i=Pr(r.font),s=i.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=M4(r,s);let c,f;n.font=i.string,this.isHorizontal()?(c=this.maxWidth,f=this._fitRows(o,s,a,l)+10):(f=this.maxHeight,c=this._fitCols(o,i,a,l)+10),this.width=Math.min(c,t.maxWidth||this.maxWidth),this.height=Math.min(f,t.maxHeight||this.maxHeight)}_fitRows(t,n,r,i){const{ctx:s,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],f=i+a;let p=t;s.textAlign="left",s.textBaseline="middle";let g=-1,y=-f;return this.legendItems.forEach((x,_)=>{const S=r+n/2+s.measureText(x.text).width;(_===0||c[c.length-1]+S+2*a>o)&&(p+=f,c[c.length-(_>0?0:1)]=0,y+=f,g++),l[_]={left:0,top:y,row:g,width:S,height:i},c[c.length-1]+=S+a}),p}_fitCols(t,n,r,i){const{ctx:s,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],f=o-t;let p=a,g=0,y=0,x=0,_=0;return this.legendItems.forEach((S,C)=>{const{itemWidth:I,itemHeight:A}=iee(r,n,s,S,i);C>0&&y+A+2*a>f&&(p+=g+a,c.push({width:g,height:y}),x+=g+a,_++,g=y=0),l[C]={left:x,top:y,col:_,width:I,height:A},g=Math.max(g,I),y+=A+a}),p+=g,c.push({width:g,height:y}),p}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:r,labels:{padding:i},rtl:s}}=this,o=zd(s,this.left,this.width);if(this.isHorizontal()){let a=0,l=li(r,this.left+i,this.right-this.lineWidths[a]);for(const c of n)a!==c.row&&(a=c.row,l=li(r,this.left+i,this.right-this.lineWidths[a])),c.top+=this.top+t+i,c.left=o.leftForLtr(o.x(l),c.width),l+=c.width+i}else{let a=0,l=li(r,this.top+t+i,this.bottom-this.columnSizes[a].height);for(const c of n)c.col!==a&&(a=c.col,l=li(r,this.top+t+i,this.bottom-this.columnSizes[a].height)),c.top=l,c.left+=this.left+i,c.left=o.leftForLtr(o.x(c.left),c.width),l+=c.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;l1(t,this),this._draw(),c1(t)}}_draw(){const{options:t,columnSizes:n,lineWidths:r,ctx:i}=this,{align:s,labels:o}=t,a=qn.color,l=zd(t.rtl,this.left,this.width),c=Pr(o.font),{padding:f}=o,p=c.size,g=p/2;let y;this.drawTitle(),i.textAlign=l.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=c.string;const{boxWidth:x,boxHeight:_,itemHeight:S}=M4(o,p),C=function(O,N,F){if(isNaN(x)||x<=0||isNaN(_)||_<0)return;i.save();const $=Nt(F.lineWidth,1);if(i.fillStyle=Nt(F.fillStyle,a),i.lineCap=Nt(F.lineCap,"butt"),i.lineDashOffset=Nt(F.lineDashOffset,0),i.lineJoin=Nt(F.lineJoin,"miter"),i.lineWidth=$,i.strokeStyle=Nt(F.strokeStyle,a),i.setLineDash(Nt(F.lineDash,[])),o.usePointStyle){const L={radius:_*Math.SQRT2/2,pointStyle:F.pointStyle,rotation:F.rotation,borderWidth:$},Z=l.xPlus(O,x/2),Y=N+g;eI(i,L,Z,Y,o.pointStyleWidth&&x)}else{const L=N+Math.max((p-_)/2,0),Z=l.leftForLtr(O,x),Y=Zc(F.borderRadius);i.beginPath(),Object.values(Y).some(he=>he!==0)?mp(i,{x:Z,y:L,w:x,h:_,radius:Y}):i.rect(Z,L,x,_),i.fill(),$!==0&&i.stroke()}i.restore()},I=function(O,N,F){au(i,F.text,O,N+S/2,c,{strikethrough:F.hidden,textAlign:l.textAlign(F.textAlign)})},A=this.isHorizontal(),z=this._computeTitleHeight();A?y={x:li(s,this.left+f,this.right-r[0]),y:this.top+f+z,line:0}:y={x:this.left+f,y:li(s,this.top+z+f,this.bottom-n[0].height),line:0},lI(this.ctx,t.textDirection);const U=S+f;this.legendItems.forEach((O,N)=>{i.strokeStyle=O.fontColor,i.fillStyle=O.fontColor;const F=i.measureText(O.text).width,$=l.textAlign(O.textAlign||(O.textAlign=o.textAlign)),L=x+g+F;let Z=y.x,Y=y.y;l.setWidth(this.width),A?N>0&&Z+L+f>this.right&&(Y=y.y+=U,y.line++,Z=y.x=li(s,this.left+f,this.right-r[y.line])):N>0&&Y+U>this.bottom&&(Z=y.x=Z+n[y.line].width+f,y.line++,Y=y.y=li(s,this.top+z+f,this.bottom-n[y.line].height));const he=l.x(Z);if(C(he,Y,O),Z=xY($,Z+x+g,A?Z+L:this.right,t.rtl),I(l.x(Z),Y,O),A)y.x+=L+f;else if(typeof O.text!="string"){const G=c.lineHeight;y.y+=FI(O,G)+f}else y.y+=U}),cI(this.ctx,t.textDirection)}drawTitle(){const t=this.options,n=t.title,r=Pr(n.font),i=hi(n.padding);if(!n.display)return;const s=zd(t.rtl,this.left,this.width),o=this.ctx,a=n.position,l=r.size/2,c=i.top+l;let f,p=this.left,g=this.width;if(this.isHorizontal())g=Math.max(...this.lineWidths),f=this.top+c,p=li(t.align,p,this.right-g);else{const x=this.columnSizes.reduce((_,S)=>Math.max(_,S.height),0);f=c+li(t.align,this.top,this.bottom-x-t.labels.padding-this._computeTitleHeight())}const y=li(a,p,p+g);o.textAlign=s.textAlign(X2(a)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=r.string,au(o,n.text,y,f,r)}_computeTitleHeight(){const t=this.options.title,n=Pr(t.font),r=hi(t.padding);return t.display?n.lineHeight+r.height:0}_getLegendItemAt(t,n){let r,i,s;if(va(t,this.left,this.right)&&va(n,this.top,this.bottom)){for(s=this.legendHitBoxes,r=0;r<s.length;++r)if(i=s[r],va(t,i.left,i.left+i.width)&&va(n,i.top,i.top+i.height))return this.legendItems[r]}return null}handleEvent(t){const n=this.options;if(!aee(t.type,n))return;const r=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const i=this._hoveredItem,s=ree(i,r);i&&!s&&On(n.onLeave,[t,i,this],this),this._hoveredItem=r,r&&!s&&On(n.onHover,[t,r,this],this)}else r&&On(n.onClick,[t,r,this],this)}}function iee(e,t,n,r,i){const s=see(r,e,t,n),o=oee(i,r,t.lineHeight);return{itemWidth:s,itemHeight:o}}function see(e,t,n,r){let i=e.text;return i&&typeof i!="string"&&(i=i.reduce((s,o)=>s.length>o.length?s:o)),t+n.size/2+r.measureText(i).width}function oee(e,t,n){let r=e;return typeof t.text!="string"&&(r=FI(t,n)),r}function FI(e,t){const n=e.text?e.text.length:0;return t*n}function aee(e,t){return!!((e==="mousemove"||e==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(e==="click"||e==="mouseup"))}var bu={id:"legend",_element:D4,start(e,t,n){const r=e.legend=new D4({ctx:e.ctx,options:n,chart:e});di.configure(e,r,n),di.addBox(e,r)},stop(e){di.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,n){const r=e.legend;di.configure(e,r,n),r.options=n},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,n){const r=t.datasetIndex,i=n.chart;i.isDatasetVisible(r)?(i.hide(r),t.hidden=!0):(i.show(r),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:i,color:s,useBorderRadius:o,borderRadius:a}}=e.legend.options;return e._getSortedDatasetMetas().map(l=>{const c=l.controller.getStyle(n?0:void 0),f=hi(c.borderWidth);return{text:t[l.index].label,fillStyle:c.backgroundColor,fontColor:s,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(f.width+f.height)/4,strokeStyle:c.borderColor,pointStyle:r||c.pointStyle,rotation:c.rotation,textAlign:i||c.textAlign,borderRadius:o&&(a||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class lS extends Pa{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n){const r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=n;const i=Vn(r.text)?r.text.length:1;this._padding=hi(r.padding);const s=i*Pr(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:n,left:r,bottom:i,right:s,options:o}=this,a=o.align;let l=0,c,f,p;return this.isHorizontal()?(f=li(a,r,s),p=n+t,c=s-r):(o.position==="left"?(f=r+t,p=li(a,i,n),l=pn*-.5):(f=s-t,p=li(a,n,i),l=pn*.5),c=i-n),{titleX:f,titleY:p,maxWidth:c,rotation:l}}draw(){const t=this.ctx,n=this.options;if(!n.display)return;const r=Pr(n.font),s=r.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:c}=this._drawArgs(s);au(t,n.text,0,0,r,{color:n.color,maxWidth:l,rotation:c,textAlign:X2(n.align),textBaseline:"middle",translation:[o,a]})}}function lee(e,t){const n=new lS({ctx:e.ctx,options:t,chart:e});di.configure(e,n,t),di.addBox(e,n),e.titleBlock=n}var BI={id:"title",_element:lS,start(e,t,n){lee(e,n)},stop(e){const t=e.titleBlock;di.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,n){const r=e.titleBlock;di.configure(e,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const qg=new WeakMap;var cee={id:"subtitle",start(e,t,n){const r=new lS({ctx:e.ctx,options:n,chart:e});di.configure(e,r,n),di.addBox(e,r),qg.set(e,r)},stop(e){di.removeBox(e,qg.get(e)),qg.delete(e)},beforeUpdate(e,t,n){const r=qg.get(e);di.configure(e,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Oh={average(e){if(!e.length)return!1;let t,n,r=new Set,i=0,s=0;for(t=0,n=e.length;t<n;++t){const a=e[t].element;if(a&&a.hasValue()){const l=a.tooltipPosition();r.add(l.x),i+=l.y,++s}}return s===0||r.size===0?!1:{x:[...r].reduce((a,l)=>a+l)/r.size,y:i/s}},nearest(e,t){if(!e.length)return!1;let n=t.x,r=t.y,i=Number.POSITIVE_INFINITY,s,o,a;for(s=0,o=e.length;s<o;++s){const l=e[s].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),f=Hw(t,c);f<i&&(i=f,a=l)}}if(a){const l=a.tooltipPosition();n=l.x,r=l.y}return{x:n,y:r}}};function Ro(e,t){return t&&(Vn(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function fa(e){return(typeof e=="string"||e instanceof String)&&e.indexOf(`
`)>-1?e.split(`
`):e}function uee(e,t){const{element:n,datasetIndex:r,index:i}=t,s=e.getDatasetMeta(r).controller,{label:o,value:a}=s.getLabelAndValue(i);return{chart:e,label:o,parsed:s.getParsed(i),raw:e.data.datasets[r].data[i],formattedValue:a,dataset:s.getDataset(),dataIndex:i,datasetIndex:r,element:n}}function L4(e,t){const n=e.chart.ctx,{body:r,footer:i,title:s}=e,{boxWidth:o,boxHeight:a}=t,l=Pr(t.bodyFont),c=Pr(t.titleFont),f=Pr(t.footerFont),p=s.length,g=i.length,y=r.length,x=hi(t.padding);let _=x.height,S=0,C=r.reduce((z,U)=>z+U.before.length+U.lines.length+U.after.length,0);if(C+=e.beforeBody.length+e.afterBody.length,p&&(_+=p*c.lineHeight+(p-1)*t.titleSpacing+t.titleMarginBottom),C){const z=t.displayColors?Math.max(a,l.lineHeight):l.lineHeight;_+=y*z+(C-y)*l.lineHeight+(C-1)*t.bodySpacing}g&&(_+=t.footerMarginTop+g*f.lineHeight+(g-1)*t.footerSpacing);let I=0;const A=function(z){S=Math.max(S,n.measureText(z).width+I)};return n.save(),n.font=c.string,xn(e.title,A),n.font=l.string,xn(e.beforeBody.concat(e.afterBody),A),I=t.displayColors?o+2+t.boxPadding:0,xn(r,z=>{xn(z.before,A),xn(z.lines,A),xn(z.after,A)}),I=0,n.font=f.string,xn(e.footer,A),n.restore(),S+=x.width,{width:S,height:_}}function dee(e,t){const{y:n,height:r}=t;return n<r/2?"top":n>e.height-r/2?"bottom":"center"}function fee(e,t,n,r){const{x:i,width:s}=r,o=n.caretSize+n.caretPadding;if(e==="left"&&i+s+o>t.width||e==="right"&&i-s-o<0)return!0}function hee(e,t,n,r){const{x:i,width:s}=n,{width:o,chartArea:{left:a,right:l}}=e;let c="center";return r==="center"?c=i<=(a+l)/2?"left":"right":i<=s/2?c="left":i>=o-s/2&&(c="right"),fee(c,e,t,n)&&(c="center"),c}function F4(e,t,n){const r=n.yAlign||t.yAlign||dee(e,n);return{xAlign:n.xAlign||t.xAlign||hee(e,t,n,r),yAlign:r}}function pee(e,t){let{x:n,width:r}=e;return t==="right"?n-=r:t==="center"&&(n-=r/2),n}function mee(e,t,n){let{y:r,height:i}=e;return t==="top"?r+=n:t==="bottom"?r-=i+n:r-=i/2,r}function B4(e,t,n,r){const{caretSize:i,caretPadding:s,cornerRadius:o}=e,{xAlign:a,yAlign:l}=n,c=i+s,{topLeft:f,topRight:p,bottomLeft:g,bottomRight:y}=Zc(o);let x=pee(t,a);const _=mee(t,l,c);return l==="center"?a==="left"?x+=c:a==="right"&&(x-=c):a==="left"?x-=Math.max(f,g)+i:a==="right"&&(x+=Math.max(p,y)+i),{x:Wr(x,0,r.width-t.width),y:Wr(_,0,r.height-t.height)}}function Qg(e,t,n){const r=hi(n.padding);return t==="center"?e.x+e.width/2:t==="right"?e.x+e.width-r.right:e.x+r.left}function $4(e){return Ro([],fa(e))}function gee(e,t,n){return Jl(e,{tooltip:t,tooltipItems:n,type:"tooltip"})}function z4(e,t){const n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?e.override(n):e}const $I={beforeTitle:la,title(e){if(e.length>0){const t=e[0],n=t.chart.data.labels,r=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(r>0&&t.dataIndex<r)return n[t.dataIndex]}return""},afterTitle:la,beforeBody:la,beforeLabel:la,label(e){if(this&&this.options&&this.options.mode==="dataset")return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const n=e.formattedValue;return Zt(n)||(t+=n),t},labelColor(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:la,afterBody:la,beforeFooter:la,footer:la,afterFooter:la};function Li(e,t,n,r){const i=e[t].call(n,r);return typeof i>"u"?$I[t].call(n,r):i}class U4 extends Pa{static positioners=Oh;constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const n=this.chart,r=this.options.setContext(this.getContext()),i=r.enabled&&n.options.animation&&r.animations,s=new pI(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=gee(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,n){const{callbacks:r}=n,i=Li(r,"beforeTitle",this,t),s=Li(r,"title",this,t),o=Li(r,"afterTitle",this,t);let a=[];return a=Ro(a,fa(i)),a=Ro(a,fa(s)),a=Ro(a,fa(o)),a}getBeforeBody(t,n){return $4(Li(n.callbacks,"beforeBody",this,t))}getBody(t,n){const{callbacks:r}=n,i=[];return xn(t,s=>{const o={before:[],lines:[],after:[]},a=z4(r,s);Ro(o.before,fa(Li(a,"beforeLabel",this,s))),Ro(o.lines,Li(a,"label",this,s)),Ro(o.after,fa(Li(a,"afterLabel",this,s))),i.push(o)}),i}getAfterBody(t,n){return $4(Li(n.callbacks,"afterBody",this,t))}getFooter(t,n){const{callbacks:r}=n,i=Li(r,"beforeFooter",this,t),s=Li(r,"footer",this,t),o=Li(r,"afterFooter",this,t);let a=[];return a=Ro(a,fa(i)),a=Ro(a,fa(s)),a=Ro(a,fa(o)),a}_createItems(t){const n=this._active,r=this.chart.data,i=[],s=[],o=[];let a=[],l,c;for(l=0,c=n.length;l<c;++l)a.push(uee(this.chart,n[l]));return t.filter&&(a=a.filter((f,p,g)=>t.filter(f,p,g,r))),t.itemSort&&(a=a.sort((f,p)=>t.itemSort(f,p,r))),xn(a,f=>{const p=z4(t.callbacks,f);i.push(Li(p,"labelColor",this,f)),s.push(Li(p,"labelPointStyle",this,f)),o.push(Li(p,"labelTextColor",this,f))}),this.labelColors=i,this.labelPointStyles=s,this.labelTextColors=o,this.dataPoints=a,a}update(t,n){const r=this.options.setContext(this.getContext()),i=this._active;let s,o=[];if(!i.length)this.opacity!==0&&(s={opacity:0});else{const a=Oh[r.position].call(this,i,this._eventPosition);o=this._createItems(r),this.title=this.getTitle(o,r),this.beforeBody=this.getBeforeBody(o,r),this.body=this.getBody(o,r),this.afterBody=this.getAfterBody(o,r),this.footer=this.getFooter(o,r);const l=this._size=L4(this,r),c=Object.assign({},a,l),f=F4(this.chart,r,c),p=B4(r,c,f,this.chart);this.xAlign=f.xAlign,this.yAlign=f.yAlign,s={opacity:1,x:p.x,y:p.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,s&&this._resolveAnimations().update(this,s),t&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(t,n,r,i){const s=this.getCaretPosition(t,r,i);n.lineTo(s.x1,s.y1),n.lineTo(s.x2,s.y2),n.lineTo(s.x3,s.y3)}getCaretPosition(t,n,r){const{xAlign:i,yAlign:s}=this,{caretSize:o,cornerRadius:a}=r,{topLeft:l,topRight:c,bottomLeft:f,bottomRight:p}=Zc(a),{x:g,y}=t,{width:x,height:_}=n;let S,C,I,A,z,U;return s==="center"?(z=y+_/2,i==="left"?(S=g,C=S-o,A=z+o,U=z-o):(S=g+x,C=S+o,A=z-o,U=z+o),I=S):(i==="left"?C=g+Math.max(l,f)+o:i==="right"?C=g+x-Math.max(c,p)-o:C=this.caretX,s==="top"?(A=y,z=A-o,S=C-o,I=C+o):(A=y+_,z=A+o,S=C+o,I=C-o),U=A),{x1:S,x2:C,x3:I,y1:A,y2:z,y3:U}}drawTitle(t,n,r){const i=this.title,s=i.length;let o,a,l;if(s){const c=zd(r.rtl,this.x,this.width);for(t.x=Qg(this,r.titleAlign,r),n.textAlign=c.textAlign(r.titleAlign),n.textBaseline="middle",o=Pr(r.titleFont),a=r.titleSpacing,n.fillStyle=r.titleColor,n.font=o.string,l=0;l<s;++l)n.fillText(i[l],c.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+a,l+1===s&&(t.y+=r.titleMarginBottom-a)}}_drawColorBox(t,n,r,i,s){const o=this.labelColors[r],a=this.labelPointStyles[r],{boxHeight:l,boxWidth:c}=s,f=Pr(s.bodyFont),p=Qg(this,"left",s),g=i.x(p),y=l<f.lineHeight?(f.lineHeight-l)/2:0,x=n.y+y;if(s.usePointStyle){const _={radius:Math.min(c,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},S=i.leftForLtr(g,c)+c/2,C=x+l/2;t.strokeStyle=s.multiKeyBackground,t.fillStyle=s.multiKeyBackground,Vw(t,_,S,C),t.strokeStyle=o.borderColor,t.fillStyle=o.backgroundColor,Vw(t,_,S,C)}else{t.lineWidth=nn(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,t.strokeStyle=o.borderColor,t.setLineDash(o.borderDash||[]),t.lineDashOffset=o.borderDashOffset||0;const _=i.leftForLtr(g,c),S=i.leftForLtr(i.xPlus(g,1),c-2),C=Zc(o.borderRadius);Object.values(C).some(I=>I!==0)?(t.beginPath(),t.fillStyle=s.multiKeyBackground,mp(t,{x:_,y:x,w:c,h:l,radius:C}),t.fill(),t.stroke(),t.fillStyle=o.backgroundColor,t.beginPath(),mp(t,{x:S,y:x+1,w:c-2,h:l-2,radius:C}),t.fill()):(t.fillStyle=s.multiKeyBackground,t.fillRect(_,x,c,l),t.strokeRect(_,x,c,l),t.fillStyle=o.backgroundColor,t.fillRect(S,x+1,c-2,l-2))}t.fillStyle=this.labelTextColors[r]}drawBody(t,n,r){const{body:i}=this,{bodySpacing:s,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:c,boxPadding:f}=r,p=Pr(r.bodyFont);let g=p.lineHeight,y=0;const x=zd(r.rtl,this.x,this.width),_=function(F){n.fillText(F,x.x(t.x+y),t.y+g/2),t.y+=g+s},S=x.textAlign(o);let C,I,A,z,U,O,N;for(n.textAlign=o,n.textBaseline="middle",n.font=p.string,t.x=Qg(this,S,r),n.fillStyle=r.bodyColor,xn(this.beforeBody,_),y=a&&S!=="right"?o==="center"?c/2+f:c+2+f:0,z=0,O=i.length;z<O;++z){for(C=i[z],I=this.labelTextColors[z],n.fillStyle=I,xn(C.before,_),A=C.lines,a&&A.length&&(this._drawColorBox(n,t,z,x,r),g=Math.max(p.lineHeight,l)),U=0,N=A.length;U<N;++U)_(A[U]),g=p.lineHeight;xn(C.after,_)}y=0,g=p.lineHeight,xn(this.afterBody,_),t.y-=s}drawFooter(t,n,r){const i=this.footer,s=i.length;let o,a;if(s){const l=zd(r.rtl,this.x,this.width);for(t.x=Qg(this,r.footerAlign,r),t.y+=r.footerMarginTop,n.textAlign=l.textAlign(r.footerAlign),n.textBaseline="middle",o=Pr(r.footerFont),n.fillStyle=r.footerColor,n.font=o.string,a=0;a<s;++a)n.fillText(i[a],l.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+r.footerSpacing}}drawBackground(t,n,r,i){const{xAlign:s,yAlign:o}=this,{x:a,y:l}=t,{width:c,height:f}=r,{topLeft:p,topRight:g,bottomLeft:y,bottomRight:x}=Zc(i.cornerRadius);n.fillStyle=i.backgroundColor,n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.beginPath(),n.moveTo(a+p,l),o==="top"&&this.drawCaret(t,n,r,i),n.lineTo(a+c-g,l),n.quadraticCurveTo(a+c,l,a+c,l+g),o==="center"&&s==="right"&&this.drawCaret(t,n,r,i),n.lineTo(a+c,l+f-x),n.quadraticCurveTo(a+c,l+f,a+c-x,l+f),o==="bottom"&&this.drawCaret(t,n,r,i),n.lineTo(a+y,l+f),n.quadraticCurveTo(a,l+f,a,l+f-y),o==="center"&&s==="left"&&this.drawCaret(t,n,r,i),n.lineTo(a,l+p),n.quadraticCurveTo(a,l,a+p,l),n.closePath(),n.fill(),i.borderWidth>0&&n.stroke()}_updateAnimationTarget(t){const n=this.chart,r=this.$animations,i=r&&r.x,s=r&&r.y;if(i||s){const o=Oh[t.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=L4(this,t),l=Object.assign({},o,this._size),c=F4(n,t,l),f=B4(t,l,c,n);(i._to!==f.x||s._to!==f.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,f))}}_willRender(){return!!this.opacity}draw(t){const n=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(n);const i={width:this.width,height:this.height},s={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const o=hi(n.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&a&&(t.save(),t.globalAlpha=r,this.drawBackground(s,t,i,n),lI(t,n.textDirection),s.y+=o.top,this.drawTitle(s,t,n),this.drawBody(s,t,n),this.drawFooter(s,t,n),cI(t,n.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,n){const r=this._active,i=t.map(({datasetIndex:a,index:l})=>{const c=this.chart.getDatasetMeta(a);if(!c)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:c.data[l],index:l}}),s=!dy(r,i),o=this._positionChanged(i,n);(s||o)&&(this._active=i,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,n,r=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,s=this._active||[],o=this._getActiveElements(t,s,n,r),a=this._positionChanged(o,t),l=n||!dy(o,s)||a;return l&&(this._active=o,(i.enabled||i.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,n))),l}_getActiveElements(t,n,r,i){const s=this.options;if(t.type==="mouseout")return[];if(!i)return n.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const o=this.chart.getElementsAtEventForMode(t,s.mode,s,r);return s.reverse&&o.reverse(),o}_positionChanged(t,n){const{caretX:r,caretY:i,options:s}=this,o=Oh[s.position].call(this,t,n);return o!==!1&&(r!==o.x||i!==o.y)}}var xu={id:"tooltip",_element:U4,positioners:Oh,afterInit(e,t,n){n&&(e.tooltip=new U4({chart:e,options:n}))},beforeUpdate(e,t,n){e.tooltip&&e.tooltip.initialize(n)},reset(e,t,n){e.tooltip&&e.tooltip.initialize(n)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const n={tooltip:t};if(e.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",n)}},afterEvent(e,t){if(e.tooltip){const n=t.replay;e.tooltip.handleEvent(t.event,n,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:$I},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>e!=="filter"&&e!=="itemSort"&&e!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},yee=Object.freeze({__proto__:null,Colors:PZ,Decimation:LZ,Filler:LI,Legend:bu,SubTitle:cee,Title:BI,Tooltip:xu});const vee=(e,t,n,r)=>(typeof t=="string"?(n=e.push(t)-1,r.unshift({index:n,label:t})):isNaN(t)&&(n=null),n);function bee(e,t,n,r){const i=e.indexOf(t);if(i===-1)return vee(e,t,n,r);const s=e.lastIndexOf(t);return i!==s?n:i}const xee=(e,t)=>e===null?null:Wr(Math.round(e),0,t);function H4(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class Gp extends vu{static id="category";static defaults={ticks:{callback:H4}};constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const n=this._addedLabels;if(n.length){const r=this.getLabels();for(const{index:i,label:s}of n)r[i]===s&&r.splice(i,1);this._addedLabels=[]}super.init(t)}parse(t,n){if(Zt(t))return null;const r=this.getLabels();return n=isFinite(n)&&r[n]===t?n:bee(r,t,Nt(n,t),this._addedLabels),xee(n,r.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:r,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(r=0),n||(i=this.getLabels().length-1)),this.min=r,this.max=i}buildTicks(){const t=this.min,n=this.max,r=this.options.offset,i=[];let s=this.getLabels();s=t===0&&n===s.length-1?s:s.slice(t,n+1),this._valueRange=Math.max(s.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let o=t;o<=n;o++)i.push({value:o});return i}getLabelForValue(t){return H4.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}function wee(e,t){const n=[],{bounds:i,step:s,min:o,max:a,precision:l,count:c,maxTicks:f,maxDigits:p,includeBounds:g}=e,y=s||1,x=f-1,{min:_,max:S}=t,C=!Zt(o),I=!Zt(a),A=!Zt(c),z=(S-_)/(p+1);let U=Lk((S-_)/x/y)*y,O,N,F,$;if(U<1e-14&&!C&&!I)return[{value:_},{value:S}];$=Math.ceil(S/U)-Math.floor(_/U),$>x&&(U=Lk($*U/x/y)*y),Zt(l)||(O=Math.pow(10,l),U=Math.ceil(U*O)/O),i==="ticks"?(N=Math.floor(_/U)*U,F=Math.ceil(S/U)*U):(N=_,F=S),C&&I&&s&&hY((a-o)/s,U/1e3)?($=Math.round(Math.min((a-o)/U,f)),U=(a-o)/$,N=o,F=a):A?(N=C?o:N,F=I?a:F,$=c-1,U=(F-N)/$):($=(F-N)/U,Wh($,Math.round($),U/1e3)?$=Math.round($):$=Math.ceil($));const L=Math.max(Fk(U),Fk(N));O=Math.pow(10,Zt(l)?L:l),N=Math.round(N*O)/O,F=Math.round(F*O)/O;let Z=0;for(C&&(g&&N!==o?(n.push({value:o}),N<o&&Z++,Wh(Math.round((N+Z*U)*O)/O,o,W4(o,z,e))&&Z++):N<o&&Z++);Z<$;++Z){const Y=Math.round((N+Z*U)*O)/O;if(I&&Y>a)break;n.push({value:Y})}return I&&g&&F!==a?n.length&&Wh(n[n.length-1].value,a,W4(a,z,e))?n[n.length-1].value=a:n.push({value:a}):(!I||F===a)&&n.push({value:F}),n}function W4(e,t,{horizontal:n,minRotation:r}){const i=lo(r),s=(n?Math.sin(i):Math.cos(i))||.001,o=.75*t*(""+e).length;return Math.min(t/s,o)}class vy extends vu{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,n){return Zt(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:n,maxDefined:r}=this.getUserBounds();let{min:i,max:s}=this;const o=l=>i=n?i:l,a=l=>s=r?s:l;if(t){const l=Lo(i),c=Lo(s);l<0&&c<0?a(0):l>0&&c>0&&o(0)}if(i===s){let l=s===0?1:Math.abs(s*.05);a(s+l),t||o(i-l)}this.min=i,this.max=s}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:n,stepSize:r}=t,i;return r?(i=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),n=n||11),n&&(i=Math.min(n,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,n=t.ticks;let r=this.getTickLimit();r=Math.max(2,r);const i={maxTicks:r,bounds:t.bounds,min:t.min,max:t.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},s=this._range||this,o=wee(i,s);return t.bounds==="ticks"&&V9(o,this,"value"),t.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const t=this.ticks;let n=this.min,r=this.max;if(super.configure(),this.options.offset&&t.length){const i=(r-n)/Math.max(t.length-1,1)/2;n-=i,r+=i}this._startValue=n,this._endValue=r,this._valueRange=r-n}getLabelForValue(t){return Qp(t,this.chart.options.locale,this.options.ticks.format)}}class Yp extends vy{static id="linear";static defaults={ticks:{callback:a1.formatters.numeric}};determineDataLimits(){const{min:t,max:n}=this.getMinMax(!0);this.min=ar(t)?t:0,this.max=ar(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),n=t?this.width:this.height,r=lo(this.options.ticks.minRotation),i=(t?Math.sin(r):Math.cos(r))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,s.lineHeight/i))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}const yp=e=>Math.floor(El(e)),jc=(e,t)=>Math.pow(10,yp(e)+t);function V4(e){return e/Math.pow(10,yp(e))===1}function q4(e,t,n){const r=Math.pow(10,n),i=Math.floor(e/r);return Math.ceil(t/r)-i}function _ee(e,t){const n=t-e;let r=yp(n);for(;q4(e,t,r)>10;)r++;for(;q4(e,t,r)<10;)r--;return Math.min(r,yp(e))}function See(e,{min:t,max:n}){t=is(e.min,t);const r=[],i=yp(t);let s=_ee(t,n),o=s<0?Math.pow(10,Math.abs(s)):1;const a=Math.pow(10,s),l=i>s?Math.pow(10,i):0,c=Math.round((t-l)*o)/o,f=Math.floor((t-l)/a/10)*a*10;let p=Math.floor((c-f)/Math.pow(10,s)),g=is(e.min,Math.round((l+f+p*Math.pow(10,s))*o)/o);for(;g<n;)r.push({value:g,major:V4(g),significand:p}),p>=10?p=p<15?15:20:p++,p>=20&&(s++,p=2,o=s>=0?1:o),g=Math.round((l+f+p*Math.pow(10,s))*o)/o;const y=is(e.max,g);return r.push({value:y,major:V4(y),significand:p}),r}class Eee extends vu{static id="logarithmic";static defaults={ticks:{callback:a1.formatters.logarithmic,major:{enabled:!0}}};constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,n){const r=vy.prototype.parse.apply(this,[t,n]);if(r===0){this._zero=!0;return}return ar(r)&&r>0?r:null}determineDataLimits(){const{min:t,max:n}=this.getMinMax(!0);this.min=ar(t)?Math.max(0,t):null,this.max=ar(n)?Math.max(0,n):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!ar(this._userMin)&&(this.min=t===jc(this.min,0)?jc(this.min,-1):jc(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:n}=this.getUserBounds();let r=this.min,i=this.max;const s=a=>r=t?r:a,o=a=>i=n?i:a;r===i&&(r<=0?(s(1),o(10)):(s(jc(r,-1)),o(jc(i,1)))),r<=0&&s(jc(i,-1)),i<=0&&o(jc(r,1)),this.min=r,this.max=i}buildTicks(){const t=this.options,n={min:this._userMin,max:this._userMax},r=See(n,this);return t.bounds==="ticks"&&V9(r,this,"value"),t.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}getLabelForValue(t){return t===void 0?"0":Qp(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=El(t),this._valueRange=El(this.max)-El(t)}getPixelForValue(t){return(t===void 0||t===0)&&(t=this.min),t===null||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(El(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const n=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+n*this._valueRange)}}function Jw(e){const t=e.ticks;if(t.display&&e.display){const n=hi(t.backdropPadding);return Nt(t.font&&t.font.size,qn.font.size)+n.height}return 0}function Cee(e,t,n){return n=Vn(n)?n:[n],{w:RY(e,t.string,n),h:n.length*t.lineHeight}}function Q4(e,t,n,r,i){return e===r||e===i?{start:t-n/2,end:t+n/2}:e<r||e>i?{start:t-n,end:t}:{start:t,end:t+n}}function kee(e){const t={l:e.left+e._padding.left,r:e.right-e._padding.right,t:e.top+e._padding.top,b:e.bottom-e._padding.bottom},n=Object.assign({},t),r=[],i=[],s=e._pointLabels.length,o=e.options.pointLabels,a=o.centerPointLabels?pn/s:0;for(let l=0;l<s;l++){const c=o.setContext(e.getPointLabelContext(l));i[l]=c.padding;const f=e.getPointPosition(l,e.drawingArea+i[l],a),p=Pr(c.font),g=Cee(e.ctx,p,e._pointLabels[l]);r[l]=g;const y=ui(e.getIndexAngle(l)+a),x=Math.round(Y2(y)),_=Q4(x,f.x,g.w,0,180),S=Q4(x,f.y,g.h,90,270);Tee(n,t,y,_,S)}e.setCenterPoint(t.l-n.l,n.r-t.r,t.t-n.t,n.b-t.b),e._pointLabelItems=Ree(e,r,i)}function Tee(e,t,n,r,i){const s=Math.abs(Math.sin(n)),o=Math.abs(Math.cos(n));let a=0,l=0;r.start<t.l?(a=(t.l-r.start)/s,e.l=Math.min(e.l,t.l-a)):r.end>t.r&&(a=(r.end-t.r)/s,e.r=Math.max(e.r,t.r+a)),i.start<t.t?(l=(t.t-i.start)/o,e.t=Math.min(e.t,t.t-l)):i.end>t.b&&(l=(i.end-t.b)/o,e.b=Math.max(e.b,t.b+l))}function jee(e,t,n){const r=e.drawingArea,{extra:i,additionalAngle:s,padding:o,size:a}=n,l=e.getPointPosition(t,r+i+o,s),c=Math.round(Y2(ui(l.angle+hr))),f=Pee(l.y,a.h,c),p=Nee(c),g=Oee(l.x,a.w,p);return{visible:!0,x:l.x,y:f,textAlign:p,left:g,top:f,right:g+a.w,bottom:f+a.h}}function Iee(e,t){if(!t)return!0;const{left:n,top:r,right:i,bottom:s}=e;return!(xa({x:n,y:r},t)||xa({x:n,y:s},t)||xa({x:i,y:r},t)||xa({x:i,y:s},t))}function Ree(e,t,n){const r=[],i=e._pointLabels.length,s=e.options,{centerPointLabels:o,display:a}=s.pointLabels,l={extra:Jw(s)/2,additionalAngle:o?pn/i:0};let c;for(let f=0;f<i;f++){l.padding=n[f],l.size=t[f];const p=jee(e,f,l);r.push(p),a==="auto"&&(p.visible=Iee(p,c),p.visible&&(c=p))}return r}function Nee(e){return e===0||e===180?"center":e<180?"left":"right"}function Oee(e,t,n){return n==="right"?e-=t:n==="center"&&(e-=t/2),e}function Pee(e,t,n){return n===90||n===270?e-=t/2:(n>270||n<90)&&(e-=t),e}function Aee(e,t,n){const{left:r,top:i,right:s,bottom:o}=n,{backdropColor:a}=t;if(!Zt(a)){const l=Zc(t.borderRadius),c=hi(t.backdropPadding);e.fillStyle=a;const f=r-c.left,p=i-c.top,g=s-r+c.width,y=o-i+c.height;Object.values(l).some(x=>x!==0)?(e.beginPath(),mp(e,{x:f,y:p,w:g,h:y,radius:l}),e.fill()):e.fillRect(f,p,g,y)}}function Mee(e,t){const{ctx:n,options:{pointLabels:r}}=e;for(let i=t-1;i>=0;i--){const s=e._pointLabelItems[i];if(!s.visible)continue;const o=r.setContext(e.getPointLabelContext(i));Aee(n,o,s);const a=Pr(o.font),{x:l,y:c,textAlign:f}=s;au(n,e._pointLabels[i],l,c+a.lineHeight/2,a,{color:o.color,textAlign:f,textBaseline:"middle"})}}function zI(e,t,n,r){const{ctx:i}=e;if(n)i.arc(e.xCenter,e.yCenter,t,0,Ln);else{let s=e.getPointPosition(0,t);i.moveTo(s.x,s.y);for(let o=1;o<r;o++)s=e.getPointPosition(o,t),i.lineTo(s.x,s.y)}}function Dee(e,t,n,r,i){const s=e.ctx,o=t.circular,{color:a,lineWidth:l}=t;!o&&!r||!a||!l||n<0||(s.save(),s.strokeStyle=a,s.lineWidth=l,s.setLineDash(i.dash||[]),s.lineDashOffset=i.dashOffset,s.beginPath(),zI(e,n,o,r),s.closePath(),s.stroke(),s.restore())}function Lee(e,t,n){return Jl(e,{label:n,index:t,type:"pointLabel"})}class UI extends vy{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:a1.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=hi(Jw(this.options)/2),n=this.width=this.maxWidth-t.width,r=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+n/2+t.left),this.yCenter=Math.floor(this.top+r/2+t.top),this.drawingArea=Math.floor(Math.min(n,r)/2)}determineDataLimits(){const{min:t,max:n}=this.getMinMax(!1);this.min=ar(t)&&!isNaN(t)?t:0,this.max=ar(n)&&!isNaN(n)?n:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Jw(this.options))}generateTickLabels(t){vy.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((n,r)=>{const i=On(this.options.pointLabels.callback,[n,r],this);return i||i===0?i:""}).filter((n,r)=>this.chart.getDataVisibility(r))}fit(){const t=this.options;t.display&&t.pointLabels.display?kee(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,n,r,i){this.xCenter+=Math.floor((t-n)/2),this.yCenter+=Math.floor((r-i)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,n,r,i))}getIndexAngle(t){const n=Ln/(this._pointLabels.length||1),r=this.options.startAngle||0;return ui(t*n+lo(r))}getDistanceFromCenterForValue(t){if(Zt(t))return NaN;const n=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*n:(t-this.min)*n}getValueForDistanceFromCenter(t){if(Zt(t))return NaN;const n=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-n:this.min+n}getPointLabelContext(t){const n=this._pointLabels||[];if(t>=0&&t<n.length){const r=n[t];return Lee(this.getContext(),t,r)}}getPointPosition(t,n,r=0){const i=this.getIndexAngle(t)-hr+r;return{x:Math.cos(i)*n+this.xCenter,y:Math.sin(i)*n+this.yCenter,angle:i}}getPointPositionForValue(t,n){return this.getPointPosition(t,this.getDistanceFromCenterForValue(n))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:n,top:r,right:i,bottom:s}=this._pointLabelItems[t];return{left:n,top:r,right:i,bottom:s}}drawBackground(){const{backgroundColor:t,grid:{circular:n}}=this.options;if(t){const r=this.ctx;r.save(),r.beginPath(),zI(this,this.getDistanceFromCenterForValue(this._endValue),n,this._pointLabels.length),r.closePath(),r.fillStyle=t,r.fill(),r.restore()}}drawGrid(){const t=this.ctx,n=this.options,{angleLines:r,grid:i,border:s}=n,o=this._pointLabels.length;let a,l,c;if(n.pointLabels.display&&Mee(this,o),i.display&&this.ticks.forEach((f,p)=>{if(p!==0||p===0&&this.min<0){l=this.getDistanceFromCenterForValue(f.value);const g=this.getContext(p),y=i.setContext(g),x=s.setContext(g);Dee(this,y,l,o,x)}}),r.display){for(t.save(),a=o-1;a>=0;a--){const f=r.setContext(this.getPointLabelContext(a)),{color:p,lineWidth:g}=f;!g||!p||(t.lineWidth=g,t.strokeStyle=p,t.setLineDash(f.borderDash),t.lineDashOffset=f.borderDashOffset,l=this.getDistanceFromCenterForValue(n.reverse?this.min:this.max),c=this.getPointPosition(a,l),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(c.x,c.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,n=this.options,r=n.ticks;if(!r.display)return;const i=this.getIndexAngle(0);let s,o;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(i),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((a,l)=>{if(l===0&&this.min>=0&&!n.reverse)return;const c=r.setContext(this.getContext(l)),f=Pr(c.font);if(s=this.getDistanceFromCenterForValue(this.ticks[l].value),c.showLabelBackdrop){t.font=f.string,o=t.measureText(a.label).width,t.fillStyle=c.backdropColor;const p=hi(c.backdropPadding);t.fillRect(-o/2-p.left,-s-f.size/2-p.top,o+p.width,f.size+p.height)}au(t,a.label,0,-s,f,{color:c.color,strokeColor:c.textStrokeColor,strokeWidth:c.textStrokeWidth})}),t.restore()}drawTitle(){}}const m1={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},zi=Object.keys(m1);function K4(e,t){return e-t}function G4(e,t){if(Zt(t))return null;const n=e._adapter,{parser:r,round:i,isoWeekday:s}=e._parseOpts;let o=t;return typeof r=="function"&&(o=r(o)),ar(o)||(o=typeof r=="string"?n.parse(o,r):n.parse(o)),o===null?null:(i&&(o=i==="week"&&(su(s)||s===!0)?n.startOf(o,"isoWeek",s):n.startOf(o,i)),+o)}function Y4(e,t,n,r){const i=zi.length;for(let s=zi.indexOf(e);s<i-1;++s){const o=m1[zi[s]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-t)/(a*o.size))<=r)return zi[s]}return zi[i-1]}function Fee(e,t,n,r,i){for(let s=zi.length-1;s>=zi.indexOf(n);s--){const o=zi[s];if(m1[o].common&&e._adapter.diff(i,r,o)>=t-1)return o}return zi[n?zi.indexOf(n):0]}function Bee(e){for(let t=zi.indexOf(e)+1,n=zi.length;t<n;++t)if(m1[zi[t]].common)return zi[t]}function J4(e,t,n){if(!n)e[t]=!0;else if(n.length){const{lo:r,hi:i}=J2(n,t),s=n[r]>=t?n[r]:n[i];e[s]=!0}}function $ee(e,t,n,r){const i=e._adapter,s=+i.startOf(t[0].value,r),o=t[t.length-1].value;let a,l;for(a=s;a<=o;a=+i.add(a,1,r))l=n[a],l>=0&&(t[l].major=!0);return t}function X4(e,t,n){const r=[],i={},s=t.length;let o,a;for(o=0;o<s;++o)a=t[o],i[a]=o,r.push({value:a,major:!1});return s===0||!n?r:$ee(e,r,i,n)}class Xw extends vu{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,n={}){const r=t.time||(t.time={}),i=this._adapter=new JJ._date(t.adapters.date);i.init(n),Hh(r.displayFormats,i.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(t),this._normalized=n.normalized}parse(t,n){return t===void 0?null:G4(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,n=this._adapter,r=t.time.unit||"day";let{min:i,max:s,minDefined:o,maxDefined:a}=this.getUserBounds();function l(c){!o&&!isNaN(c.min)&&(i=Math.min(i,c.min)),!a&&!isNaN(c.max)&&(s=Math.max(s,c.max))}(!o||!a)&&(l(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&l(this.getMinMax(!1))),i=ar(i)&&!isNaN(i)?i:+n.startOf(Date.now(),r),s=ar(s)&&!isNaN(s)?s:+n.endOf(Date.now(),r)+1,this.min=Math.min(i,s-1),this.max=Math.max(i+1,s)}_getLabelBounds(){const t=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return t.length&&(n=t[0],r=t[t.length-1]),{min:n,max:r}}buildTicks(){const t=this.options,n=t.time,r=t.ticks,i=r.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const s=this.min,o=this.max,a=yY(i,s,o);return this._unit=n.unit||(r.autoSkip?Y4(n.minUnit,this.min,this.max,this._getLabelCapacity(s)):Fee(this,a.length,n.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:Bee(this._unit),this.initOffsets(i),t.reverse&&a.reverse(),X4(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let n=0,r=0,i,s;this.options.offset&&t.length&&(i=this.getDecimalForValue(t[0]),t.length===1?n=1-i:n=(this.getDecimalForValue(t[1])-i)/2,s=this.getDecimalForValue(t[t.length-1]),t.length===1?r=s:r=(s-this.getDecimalForValue(t[t.length-2]))/2);const o=t.length<3?.5:.25;n=Wr(n,0,o),r=Wr(r,0,o),this._offsets={start:n,end:r,factor:1/(n+1+r)}}_generate(){const t=this._adapter,n=this.min,r=this.max,i=this.options,s=i.time,o=s.unit||Y4(s.minUnit,n,r,this._getLabelCapacity(n)),a=Nt(i.ticks.stepSize,1),l=o==="week"?s.isoWeekday:!1,c=su(l)||l===!0,f={};let p=n,g,y;if(c&&(p=+t.startOf(p,"isoWeek",l)),p=+t.startOf(p,c?"day":o),t.diff(r,n,o)>1e5*a)throw new Error(n+" and "+r+" are too far apart with stepSize of "+a+" "+o);const x=i.ticks.source==="data"&&this.getDataTimestamps();for(g=p,y=0;g<r;g=+t.add(g,a,o),y++)J4(f,g,x);return(g===r||i.bounds==="ticks"||y===1)&&J4(f,g,x),Object.keys(f).sort(K4).map(_=>+_)}getLabelForValue(t){const n=this._adapter,r=this.options.time;return r.tooltipFormat?n.format(t,r.tooltipFormat):n.format(t,r.displayFormats.datetime)}format(t,n){const i=this.options.time.displayFormats,s=this._unit,o=n||i[s];return this._adapter.format(t,o)}_tickFormatFunction(t,n,r,i){const s=this.options,o=s.ticks.callback;if(o)return On(o,[t,n,r],this);const a=s.time.displayFormats,l=this._unit,c=this._majorUnit,f=l&&a[l],p=c&&a[c],g=r[n],y=c&&p&&g&&g.major;return this._adapter.format(t,i||(y?p:f))}generateTickLabels(t){let n,r,i;for(n=0,r=t.length;n<r;++n)i=t[n],i.label=this._tickFormatFunction(i.value,n,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const n=this._offsets,r=this.getDecimalForValue(t);return this.getPixelForDecimal((n.start+r)*n.factor)}getValueForPixel(t){const n=this._offsets,r=this.getDecimalForPixel(t)/n.factor-n.end;return this.min+r*(this.max-this.min)}_getLabelSize(t){const n=this.options.ticks,r=this.ctx.measureText(t).width,i=lo(this.isHorizontal()?n.maxRotation:n.minRotation),s=Math.cos(i),o=Math.sin(i),a=this._resolveTickFontOptions(0).size;return{w:r*s+a*o,h:r*o+a*s}}_getLabelCapacity(t){const n=this.options.time,r=n.displayFormats,i=r[n.unit]||r.millisecond,s=this._tickFormatFunction(t,0,X4(this,[t],this._majorUnit),i),o=this._getLabelSize(s),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let t=this._cache.data||[],n,r;if(t.length)return t;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(n=0,r=i.length;n<r;++n)t=t.concat(i[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let n,r;if(t.length)return t;const i=this.getLabels();for(n=0,r=i.length;n<r;++n)t.push(G4(this,i[n]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return K9(t.sort(K4))}}function Kg(e,t,n){let r=0,i=e.length-1,s,o,a,l;n?(t>=e[r].pos&&t<=e[i].pos&&({lo:r,hi:i}=ba(e,"pos",t)),{pos:s,time:a}=e[r],{pos:o,time:l}=e[i]):(t>=e[r].time&&t<=e[i].time&&({lo:r,hi:i}=ba(e,"time",t)),{time:s,pos:a}=e[r],{time:o,pos:l}=e[i]);const c=o-s;return c?a+(l-a)*(t-s)/c:a}class zee extends Xw{static id="timeseries";static defaults=Xw.defaults;constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(t);this._minPos=Kg(n,this.min),this._tableRange=Kg(n,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:n,max:r}=this,i=[],s=[];let o,a,l,c,f;for(o=0,a=t.length;o<a;++o)c=t[o],c>=n&&c<=r&&i.push(c);if(i.length<2)return[{time:n,pos:0},{time:r,pos:1}];for(o=0,a=i.length;o<a;++o)f=i[o+1],l=i[o-1],c=i[o],Math.round((f+l)/2)!==c&&s.push({time:c,pos:o/(a-1)});return s}_generate(){const t=this.min,n=this.max;let r=super.getDataTimestamps();return(!r.includes(t)||!r.length)&&r.splice(0,0,t),(!r.includes(n)||r.length===1)&&r.push(n),r.sort((i,s)=>i-s)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const n=this.getDataTimestamps(),r=this.getLabelTimestamps();return n.length&&r.length?t=this.normalize(n.concat(r)):t=n.length?n:r,t=this._cache.all=t,t}getDecimalForValue(t){return(Kg(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const n=this._offsets,r=this.getDecimalForPixel(t)/n.factor-n.end;return Kg(this._table,r*this._tableRange+this._minPos,!0)}}var Uee=Object.freeze({__proto__:null,CategoryScale:Gp,LinearScale:Yp,LogarithmicScale:Eee,RadialLinearScale:UI,TimeScale:Xw,TimeSeriesScale:zee});const Hee=[YJ,kZ,yee,Uee];$o.register(...Hee);const HI="label";function Z4(e,t){typeof e=="function"?e(t):e&&(e.current=t)}function Wee(e,t){const n=e.options;n&&t&&Object.assign(n,t)}function WI(e,t){e.labels=t}function VI(e,t,n=HI){const r=[];e.datasets=t.map(i=>{const s=e.datasets.find(o=>o[n]===i[n]);return!s||!i.data||r.includes(s)?{...i}:(r.push(s),Object.assign(s,i),s)})}function Vee(e,t=HI){const n={labels:[],datasets:[]};return WI(n,e.labels),VI(n,e.datasets,t),n}function qee(e,t){const{height:n=150,width:r=300,redraw:i=!1,datasetIdKey:s,type:o,data:a,options:l,plugins:c=[],fallbackContent:f,updateMode:p,...g}=e,y=R.useRef(null),x=R.useRef(null),_=()=>{y.current&&(x.current=new $o(y.current,{type:o,data:Vee(a,s),options:l&&{...l},plugins:c}),Z4(t,x.current))},S=()=>{Z4(t,null),x.current&&(x.current.destroy(),x.current=null)};return R.useEffect(()=>{!i&&x.current&&l&&Wee(x.current,l)},[i,l]),R.useEffect(()=>{!i&&x.current&&WI(x.current.config.data,a.labels)},[i,a.labels]),R.useEffect(()=>{!i&&x.current&&a.datasets&&VI(x.current.config.data,a.datasets,s)},[i,a.datasets]),R.useEffect(()=>{x.current&&(i?(S(),setTimeout(_)):x.current.update(p))},[i,l,a.labels,a.datasets,p]),R.useEffect(()=>{x.current&&(S(),setTimeout(_))},[o]),R.useEffect(()=>(_(),()=>S()),[]),h.jsx("canvas",{ref:y,role:"img",height:n,width:r,...g,children:f})}const qI=R.forwardRef(qee);function cS(e,t){return $o.register(t),R.forwardRef((n,r)=>h.jsx(qI,{...n,ref:r,type:e}))}const Qee=cS("bar",yI),Kee=cS("radar",bI),uS=cS("doughnut",d1),rf={searchBtnSpeed:{mu:1.457,sigma:.7362},captchaSpeed:{mu:3.6415,sigma:.4057},totalSpeed:{mu:8.6367,sigma:.5422}};function QI(e,t,n){if(e<=0)return 0;const r=(Math.log(e)-Math.log(t))/n,i=1/(1+.2316419*Math.abs(r)),o=.3989423*Math.exp(-r*r/2)*i*(.3193815+i*(-.3565638+i*(1.781478+i*(-1.821256+i*1.330274))));return r>0?1-o:o}function g1(e,t=7.5,n=.3){const s=e>3e3?e/1e3:e,a=1-QI(s,t,n);return Math.max(Math.min(a*100,100),0)}function Gee(e){const n=Math.min(Math.max(e,0),100)/100,i=-QI(n,.4,.1);return Math.round(i*5)}function Yee(e,t){const n=(e-2*t)/(e-t);return Math.max(0,Math.round(n*100))}function Jee(e){return g1(e,rf.searchBtnSpeed.mu,rf.searchBtnSpeed.sigma)}function Xee(e){return g1(e,rf.captchaSpeed.mu,rf.captchaSpeed.sigma)}function Zee(e){return Math.max(0,Math.min(e,100))}function ete(e){return g1(e,rf.totalSpeed.mu,rf.totalSpeed.sigma)}$o.register(UI,aS,yf,LI,xu,bu);const tte={responsive:!0,scales:{r:{angleLines:{display:!0},suggestedMin:0,suggestedMax:100,ticks:{display:!1},pointLabels:{font:{size:14},color:"#4B5563"},grid:{color:"#E5E7EB"}}},plugins:{legend:{display:!1},tooltip:{enabled:!0}}};function nte(e){const{user_ability:t}=e,{searchBtnSpeed:n,totalSpeed:r,accuracy:i,captchaSpeed:s}=t,o=["   "," ","","  "],a=[n,r,i,s];return{labels:o,datasets:[{label:"",data:e6([1.776296,9.30268,93.58,3.843947]),backgroundColor:"rgba(5, 223, 114, 0.2)",borderColor:"rgba(5, 223, 114, 1)",borderWidth:2,pointBackgroundColor:"rgba(5, 223, 114, 1)"},{label:" ",data:e6(a),backgroundColor:"rgb(0, 122, 255, 0.2)",borderColor:"rgba(0, 122, 255, 1)",borderWidth:2,pointBackgroundColor:"rgba(0, 122, 255, 1)"}]}}function e6(e){return[Jee(e[0]),ete(e[1]),Zee(e[2]),Xee(e[3])]}function dS({result:e}){const t=nte(e),{searchBtnSpeed:n,totalSpeed:r,accuracy:i,captchaSpeed:s}=e.user_ability;return h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"h-90",children:h.jsx(Kee,{data:t,className:"mx-auto",options:tte})}),h.jsxs("div",{className:"absolute bottom-6 right-6 bg-white shadow-lg rounded-lg px-4 py-3 text-xs text-gray-800",children:[h.jsx("div",{className:"font-bold text-sm mb-1",children:" "}),h.jsxs("ul",{className:"space-y-1",children:[h.jsxs("li",{className:"flex justify-between",children:[h.jsx("span",{children:"    "})," ",h.jsxs("span",{children:[n.toFixed(2)," sec"]})]}),h.jsxs("li",{className:"flex justify-between",children:[h.jsx("span",{children:"   "})," ",h.jsxs("span",{children:[r.toFixed(2)," sec"]})]}),h.jsxs("li",{className:"flex justify-between",children:[h.jsx("span",{children:" "})," ",h.jsxs("span",{children:[i.toFixed(2)," %"]})]}),h.jsxs("li",{className:"flex justify-between",children:[h.jsx("span",{children:"     "})," ",h.jsxs("span",{children:[s.toFixed(2)," sec"]})]})]})]})]})}function Zw(e,t){const n=e.getContext("2d");if(!n)return;n.clearRect(0,0,e.width,e.height);const r=n.createLinearGradient(0,0,e.width,0);r.addColorStop(0,"#4a4a4a"),r.addColorStop(1,"#bcbcbc"),n.fillStyle=r,n.fillRect(0,0,e.width,e.height),n.font="bold 32px Arial Black, Impact, sans-serif",n.fillStyle="black",n.textAlign="center",n.textBaseline="middle",n.fillText(t,e.width/2,e.height/2)}const rte={user_ability:{searchBtnSpeed:1.076296,totalSpeed:6.70268,accuracy:98.58,captchaSpeed:4.843947}};function ite(){const[e,t]=R.useState(rte);return h.jsxs(Yl,{children:[h.jsx(Wp,{title:"   ()",subtitle:"   ,    ",href:"/simulation"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-6",children:[h.jsxs(Wn,{children:[h.jsx(Vt,{level:3,children:"  "}),h.jsx(Jn,{children:"       ."}),h.jsx(ote,{setRadarData:t})]}),h.jsxs(Wn,{className:"relative",children:[h.jsx(Vt,{level:3,children:"  "}),h.jsx(Jn,{children:"      ."}),h.jsx(dS,{result:e})]})]})]})}function t6(){return Math.floor(1e3+Math.random()*9e3).toString()}const ste=4;function ote({setRadarData:e}){const t=R.useRef(null),[n,r]=R.useState(),[i,s]=R.useState({message:"",color:"red"}),o=R.useRef(""),a=lte(e);function l(){o.current=t6(),r(""),s({message:"",color:"red"}),a.resetResult(),t.current&&Zw(t.current,o.current)}function c(){setTimeout(l,200)}function f(g){let y=g.target.value;if(a.updateResult(),/\D/.test(y)){s({message:"0~9  ",color:"red"}),r(y.replace(/\D/g,""));return}if(y.length>ste){s({message:"4  ",color:"red"});return}r(y),s({message:"",color:"red"})}R.useEffect(()=>{setTimeout(()=>{o.current=t6(),a.initResult(),t.current&&Zw(t.current,o.current)},100)},[]);function p(){n?.toString()===o.current?(s({message:"  .",color:"green"}),a.endResult(!0),setTimeout(l,700)):(s({message:"  .",color:"red"}),a.endResult(!1),setTimeout(l,700))}return h.jsxs("div",{className:"flex flex-col justify-center h-4/5",children:[h.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-4 p-4",children:[h.jsxs("div",{className:"flex flex-col",children:[h.jsxs("div",{className:"text-sm font-semibold flex flex-row items-center gap-2",children:[h.jsx("span",{className:"inline-block w-1.5 h-5 bg-blue-500 mr-2 "})," ",h.jsx(ate,{onClick:c,children:""})]}),h.jsx("div",{className:"flex items-center mt-1",children:h.jsx("canvas",{id:"captcha",width:"105",height:"50",ref:t})})]}),h.jsxs("div",{children:[h.jsxs("div",{className:"text-sm font-semibold  flex flex-row items-center",children:[h.jsx("span",{className:"inline-block w-1.5 h-5 bg-blue-500 mr-2 "}),"  "]}),h.jsx(hn.Input,{value:n,className:"mt-2 w-full",onChange:g=>f(g),placeholder:" ",essential:!0}),h.jsx("span",{className:"pl-1 text-xs "+(i.color==="green"?"text-green-500":"text-red-500"),children:i.message})]})]}),h.jsx("div",{className:"flex justify-end p-4",children:h.jsx("button",{onClick:p,className:"px-4 py-2 bg-white hover:bg-blue-50 rounded-xs border cursor-pointer",children:""})})]})}function ate({className:e,children:t,...n}){return h.jsx("button",{className:"px-2 py-1 bg-blue-500 text-white text-sm rounded-xs cursor-pointer hover:bg-blue-600 "+e,...n,children:t})}function lte(e){const t=R.useRef({tryCount:0,successCount:0,avgTime:0,startTime:-1});function n(){t.current.startTime=-1}function r(){t.current.startTime=Date.now()}function i(){t.current.startTime===-1&&(t.current.startTime=Date.now())}function s(o){const a=Date.now(),l=t.current.startTime===-1?4.843947:1+(a-t.current.startTime)/1e3;t.current.startTime=-1,t.current.tryCount+=1,t.current.avgTime=1+(l-t.current.avgTime)/t.current.tryCount,t.current.successCount+=o?1:0,e&&e(c=>({user_ability:{...c.user_ability,captchaSpeed:t.current.avgTime,accuracy:100*(t.current.successCount/t.current.tryCount)}}))}return{initResult:n,resetResult:r,updateResult:i,endResult:s}}const cte="";function wu(){return po({queryKey:["departments"],queryFn:ute,staleTime:1/0,select:e=>(e?.departments.map(n=>({...n,departmentName:n.departmentName??cte}))??[]).sort((n,r)=>n.departmentName.localeCompare(r.departmentName))})}const ute=async()=>await Na("/api/departments"),dte=e=>{if(!e)return{universityDict:{},collegeDict:{}};const t={},n={};return e.forEach(r=>{const[i,s,o]=r.departmentName.split(" "),a=i.trim(),l=s?.trim(),c=o?.trim();l&&(t[a]||(t[a]=[]),t[a]=[...t[a],l],c||(n[l]=[l])),c&&(t[a]||(t[a]=[]),t[a]=[...t[a],c],n[l]||(n[l]=[]),n[l]=[...n[l],c])}),{universityDict:t,collegeDict:n}},fte=(e,t)=>{const n=e.split(" ").map(r=>r.trim());for(const r in t)if(n.some(i=>t[r].includes(i)))return r;return console.error("No university found",e),""},hte=(e,t)=>{const n=e.split(" ").map(r=>r.trim());for(const r in t)if(n.some(i=>r.includes(i)))return r;return console.error("No college found",e),""},y1={labels:["","","",""],datasets:[{data:[40,25,20,15]}]},Jp=["#f97316","#3b82f6","#facc15","#22c55e","#60b6d4"];function n6(e){if(!e)return y1;const t={};return e.forEach(n=>{t[n.registerDepartment??""]||(t[n.registerDepartment??""]=0),t[n.registerDepartment??""]+=Number(n.eachCount)}),{labels:Object.keys(t).map(n=>n||""),datasets:[{data:Object.values(t),backgroundColor:Jp}]}}function pte(e,t){if(!t)return y1;const n={major:0,"non-major":0},r=e.split(" ").map(o=>o.trim()),i=o=>o.split(" ").map(l=>l.trim()).some(l=>r.includes(l));t.forEach(o=>{const a=i(o.registerDepartment??"")?"major":"non-major";n[a]+=Number(o.eachCount)});const s={major:"","non-major":""};return{labels:Object.keys(n).map(o=>s[o]),datasets:[{data:Object.values(n),backgroundColor:Jp}]}}function mte(e,t){if(!e||!t)return y1;const n={};return e.forEach(r=>{const i=fte(r.registerDepartment??"",t);n[i]||(n[i]=0),n[i]+=Number(r.eachCount)}),{labels:Object.keys(n).map(r=>r||""),datasets:[{data:Object.values(n),backgroundColor:Jp}]}}function gte(e,t){if(!e||!t)return y1;const n={};return e.forEach(r=>{const i=hte(r.registerDepartment??"",t);n[i]||(n[i]=0),n[i]+=Number(r.eachCount)}),{labels:Object.keys(n).map(r=>r||""),datasets:[{data:Object.values(n),backgroundColor:Jp}]}}function yte(e){return e?e.reduce((t,n)=>t+Number(n.eachCount),0):-1}var P0={exports:{}},vte=P0.exports,r6;function bte(){return r6||(r6=1,(function(e,t){((n,r)=>{e.exports=r()})(vte,function(){var n=function(v,w){return(n=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(k,j){k.__proto__=j}:function(k,j){for(var P in j)Object.prototype.hasOwnProperty.call(j,P)&&(k[P]=j[P])}))(v,w)},r=function(){return(r=Object.assign||function(v){for(var w,k=1,j=arguments.length;k<j;k++)for(var P in w=arguments[k])Object.prototype.hasOwnProperty.call(w,P)&&(v[P]=w[P]);return v}).apply(this,arguments)};function i(v,w,k){for(var j,P=0,M=w.length;P<M;P++)!j&&P in w||((j=j||Array.prototype.slice.call(w,0,P))[P]=w[P]);return v.concat(j||Array.prototype.slice.call(w))}var s=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:Ch,o=Object.keys,a=Array.isArray;function l(v,w){return typeof w=="object"&&o(w).forEach(function(k){v[k]=w[k]}),v}typeof Promise>"u"||s.Promise||(s.Promise=Promise);var c=Object.getPrototypeOf,f={}.hasOwnProperty;function p(v,w){return f.call(v,w)}function g(v,w){typeof w=="function"&&(w=w(c(v))),(typeof Reflect>"u"?o:Reflect.ownKeys)(w).forEach(function(k){x(v,k,w[k])})}var y=Object.defineProperty;function x(v,w,k,j){y(v,w,l(k&&p(k,"get")&&typeof k.get=="function"?{get:k.get,set:k.set,configurable:!0}:{value:k,configurable:!0,writable:!0},j))}function _(v){return{from:function(w){return v.prototype=Object.create(w.prototype),x(v.prototype,"constructor",v),{extend:g.bind(null,v.prototype)}}}}var S=Object.getOwnPropertyDescriptor,C=[].slice;function I(v,w,k){return C.call(v,w,k)}function A(v,w){return w(v)}function z(v){if(!v)throw new Error("Assertion Failed")}function U(v){s.setImmediate?setImmediate(v):setTimeout(v,0)}function O(v,w){if(typeof w=="string"&&p(v,w))return v[w];if(!w)return v;if(typeof w!="string"){for(var k=[],j=0,P=w.length;j<P;++j){var M=O(v,w[j]);k.push(M)}return k}var H,q=w.indexOf(".");return q===-1||(H=v[w.substr(0,q)])==null?void 0:O(H,w.substr(q+1))}function N(v,w,k){if(v&&w!==void 0&&!("isFrozen"in Object&&Object.isFrozen(v)))if(typeof w!="string"&&"length"in w){z(typeof k!="string"&&"length"in k);for(var j=0,P=w.length;j<P;++j)N(v,w[j],k[j])}else{var M,H,q=w.indexOf(".");q!==-1?(M=w.substr(0,q),(q=w.substr(q+1))===""?k===void 0?a(v)&&!isNaN(parseInt(M))?v.splice(M,1):delete v[M]:v[M]=k:N(H=(H=v[M])&&p(v,M)?H:v[M]={},q,k)):k===void 0?a(v)&&!isNaN(parseInt(w))?v.splice(w,1):delete v[w]:v[w]=k}}function F(v){var w,k={};for(w in v)p(v,w)&&(k[w]=v[w]);return k}var $=[].concat;function L(v){return $.apply([],v)}var ge="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(L([8,16,32,64].map(function(v){return["Int","Uint","Float"].map(function(w){return w+v+"Array"})}))).filter(function(v){return s[v]}),Z=new Set(ge.map(function(v){return s[v]})),Y=null;function he(v){return Y=new WeakMap,v=(function w(k){if(!k||typeof k!="object")return k;var j=Y.get(k);if(j)return j;if(a(k)){j=[],Y.set(k,j);for(var P=0,M=k.length;P<M;++P)j.push(w(k[P]))}else if(Z.has(k.constructor))j=k;else{var H,q=c(k);for(H in j=q===Object.prototype?{}:Object.create(q),Y.set(k,j),k)p(k,H)&&(j[H]=w(k[H]))}return j})(v),Y=null,v}var G={}.toString;function W(v){return G.call(v).slice(8,-1)}var Q=typeof Symbol<"u"?Symbol.iterator:"@@iterator",te=typeof Q=="symbol"?function(v){var w;return v!=null&&(w=v[Q])&&w.apply(v)}:function(){return null};function X(v,w){w=v.indexOf(w),0<=w&&v.splice(w,1)}var fe={};function B(v){var w,k,j,P;if(arguments.length===1){if(a(v))return v.slice();if(this===fe&&typeof v=="string")return[v];if(P=te(v))for(k=[];!(j=P.next()).done;)k.push(j.value);else{if(v==null)return[v];if(typeof(w=v.length)!="number")return[v];for(k=new Array(w);w--;)k[w]=v[w]}}else for(w=arguments.length,k=new Array(w);w--;)k[w]=arguments[w];return k}var ee=typeof Symbol<"u"?function(v){return v[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},ge=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Se=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(ge),V={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function Te(v,w){this.name=v,this.message=w}function Ce(v,w){return v+". Errors: "+Object.keys(w).map(function(k){return w[k].toString()}).filter(function(k,j,P){return P.indexOf(k)===j}).join(`
`)}function ke(v,w,k,j){this.failures=w,this.failedKeys=j,this.successCount=k,this.message=Ce(v,w)}function Ve(v,w){this.name="BulkError",this.failures=Object.keys(w).map(function(k){return w[k]}),this.failuresByPos=w,this.message=Ce(v,this.failures)}_(Te).from(Error).extend({toString:function(){return this.name+": "+this.message}}),_(ke).from(Te),_(Ve).from(Te);var Ue=Se.reduce(function(v,w){return v[w]=w+"Error",v},{}),mt=Te,De=Se.reduce(function(v,w){var k=w+"Error";function j(P,M){this.name=k,P?typeof P=="string"?(this.message="".concat(P).concat(M?`
 `+M:""),this.inner=M||null):typeof P=="object"&&(this.message="".concat(P.name," ").concat(P.message),this.inner=P):(this.message=V[w]||k,this.inner=null)}return _(j).from(mt),v[w]=j,v},{}),lr=(De.Syntax=SyntaxError,De.Type=TypeError,De.Range=RangeError,ge.reduce(function(v,w){return v[w+"Error"]=De[w],v},{}));ge=Se.reduce(function(v,w){return["Syntax","Type","Range"].indexOf(w)===-1&&(v[w+"Error"]=De[w]),v},{});function dt(){}function gn(v){return v}function _n(v,w){return v==null||v===gn?w:function(k){return w(v(k))}}function vn(v,w){return function(){v.apply(this,arguments),w.apply(this,arguments)}}function wr(v,w){return v===dt?w:function(){var k=v.apply(this,arguments),j=(k!==void 0&&(arguments[0]=k),this.onsuccess),P=this.onerror,M=(this.onsuccess=null,this.onerror=null,w.apply(this,arguments));return j&&(this.onsuccess=this.onsuccess?vn(j,this.onsuccess):j),P&&(this.onerror=this.onerror?vn(P,this.onerror):P),M!==void 0?M:k}}function Ri(v,w){return v===dt?w:function(){v.apply(this,arguments);var k=this.onsuccess,j=this.onerror;this.onsuccess=this.onerror=null,w.apply(this,arguments),k&&(this.onsuccess=this.onsuccess?vn(k,this.onsuccess):k),j&&(this.onerror=this.onerror?vn(j,this.onerror):j)}}function Gi(v,w){return v===dt?w:function(P){var j=v.apply(this,arguments),P=(l(P,j),this.onsuccess),M=this.onerror,H=(this.onsuccess=null,this.onerror=null,w.apply(this,arguments));return P&&(this.onsuccess=this.onsuccess?vn(P,this.onsuccess):P),M&&(this.onerror=this.onerror?vn(M,this.onerror):M),j===void 0?H===void 0?void 0:H:l(j,H)}}function gi(v,w){return v===dt?w:function(){return w.apply(this,arguments)!==!1&&v.apply(this,arguments)}}function Tt(v,w){return v===dt?w:function(){var k=v.apply(this,arguments);if(k&&typeof k.then=="function"){for(var j=this,P=arguments.length,M=new Array(P);P--;)M[P]=arguments[P];return k.then(function(){return w.apply(j,M)})}return w.apply(this,arguments)}}ge.ModifyError=ke,ge.DexieError=Te,ge.BulkError=Ve;var un=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function jt(v){un=v}var en={},Et=100,Fn=typeof Promise>"u"?[]:(Se=Promise.resolve(),typeof crypto<"u"&&crypto.subtle?[Fn=crypto.subtle.digest("SHA-512",new Uint8Array([0])),c(Fn),Se]:[Se,c(Se),Se]),Se=Fn[0],Yo=Fn[1],Yo=Yo&&Yo.then,Me=Se&&Se.constructor,ot=!!Fn[2],pt=function(v,w){Er.push([v,w]),Bn&&(queueMicrotask(Ho),Bn=!1)},zt=!0,Bn=!0,cr=[],_r=[],er=gn,Sr={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:dt,pgp:!1,env:{},finalize:dt},qe=Sr,Er=[],Qn=0,Ds=[];function We(v){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var w=this._PSD=qe;if(typeof v!="function"){if(v!==en)throw new TypeError("Not a function");this._state=arguments[1],this._value=arguments[2],this._state===!1&&Da(this,this._value)}else this._state=null,this._value=null,++w.ref,(function k(j,P){try{P(function(M){if(j._state===null){if(M===j)throw new TypeError("A promise cannot be resolved with itself.");var H=j._lib&&yi();M&&typeof M.then=="function"?k(j,function(q,ae){M instanceof We?M._then(q,ae):M.then(q,ae)}):(j._state=!0,j._value=M,La(j)),H&&ps()}},Da.bind(null,j))}catch(M){Da(j,M)}})(this,v)}var Yi={get:function(){var v=qe,w=nt;function k(j,P){var M=this,H=!v.global&&(v!==qe||w!==nt),q=H&&!Xe(),ae=new We(function(pe,ie){Fa(M,new Ji($n(j,v,H,q),$n(P,v,H,q),pe,ie,v))});return this._consoleTask&&(ae._consoleTask=this._consoleTask),ae}return k.prototype=en,k},set:function(v){x(this,"then",v&&v.prototype===en?Yi:{get:function(){return v},set:Yi.set})}};function Ji(v,w,k,j,P){this.onFulfilled=typeof v=="function"?v:null,this.onRejected=typeof w=="function"?w:null,this.resolve=k,this.reject=j,this.psd=P}function Da(v,w){var k,j;_r.push(w),v._state===null&&(k=v._lib&&yi(),w=er(w),v._state=!1,v._value=w,j=v,cr.some(function(P){return P._value===j._value})||cr.push(j),La(v),k)&&ps()}function La(v){var w=v._listeners;v._listeners=[];for(var k=0,j=w.length;k<j;++k)Fa(v,w[k]);var P=v._PSD;--P.ref||P.finalize(),Qn===0&&(++Qn,pt(function(){--Qn==0&&Ls()},[]))}function Fa(v,w){if(v._state===null)v._listeners.push(w);else{var k=v._state?w.onFulfilled:w.onRejected;if(k===null)return(v._state?w.resolve:w.reject)(v._value);++w.psd.ref,++Qn,pt(ec,[k,v,w])}}function ec(v,w,k){try{var j,P=w._value;!w._state&&_r.length&&(_r=[]),j=un&&w._consoleTask?w._consoleTask.run(function(){return v(P)}):v(P),w._state||_r.indexOf(P)!==-1||(M=>{for(var H=cr.length;H;)if(cr[--H]._value===M._value)return cr.splice(H,1)})(w),k.resolve(j)}catch(M){k.reject(M)}finally{--Qn==0&&Ls(),--k.psd.ref||k.psd.finalize()}}function Ho(){Sn(Sr,function(){yi()&&ps()})}function yi(){var v=zt;return Bn=zt=!1,v}function ps(){var v,w,k;do for(;0<Er.length;)for(v=Er,Er=[],k=v.length,w=0;w<k;++w){var j=v[w];j[0].apply(null,j[1])}while(0<Er.length);Bn=zt=!0}function Ls(){for(var v=cr,w=(cr=[],v.forEach(function(j){j._PSD.onunhandled.call(null,j._value,j)}),Ds.slice(0)),k=w.length;k;)w[--k]()}function yo(v){return new We(en,!1,v)}function K(v,w){var k=qe;return function(){var j=yi(),P=qe;try{return Ot(k,!0),v.apply(this,arguments)}catch(M){w&&w(M)}finally{Ot(P,!1),j&&ps()}}}g(We.prototype,{then:Yi,_then:function(v,w){Fa(this,new Ji(null,null,v,w,qe))},catch:function(v){var w,k;return arguments.length===1?this.then(null,v):(w=v,k=arguments[1],typeof w=="function"?this.then(null,function(j){return(j instanceof w?k:yo)(j)}):this.then(null,function(j){return(j&&j.name===w?k:yo)(j)}))},finally:function(v){return this.then(function(w){return We.resolve(v()).then(function(){return w})},function(w){return We.resolve(v()).then(function(){return yo(w)})})},timeout:function(v,w){var k=this;return v<1/0?new We(function(j,P){var M=setTimeout(function(){return P(new De.Timeout(w))},v);k.then(j,P).finally(clearTimeout.bind(null,M))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&x(We.prototype,Symbol.toStringTag,"Dexie.Promise"),Sr.env=qt(),g(We,{all:function(){var v=B.apply(null,arguments).map(ft);return new We(function(w,k){v.length===0&&w([]);var j=v.length;v.forEach(function(P,M){return We.resolve(P).then(function(H){v[M]=H,--j||w(v)},k)})})},resolve:function(v){return v instanceof We?v:v&&typeof v.then=="function"?new We(function(w,k){v.then(w,k)}):new We(en,!0,v)},reject:yo,race:function(){var v=B.apply(null,arguments).map(ft);return new We(function(w,k){v.map(function(j){return We.resolve(j).then(w,k)})})},PSD:{get:function(){return qe},set:function(v){return qe=v}},totalEchoes:{get:function(){return nt}},newPSD:Je,usePSD:Sn,scheduler:{get:function(){return pt},set:function(v){pt=v}},rejectionMapper:{get:function(){return er},set:function(v){er=v}},follow:function(v,w){return new We(function(k,j){return Je(function(P,M){var H=qe;H.unhandleds=[],H.onunhandled=M,H.finalize=vn(function(){var q,ae=this;q=function(){ae.unhandleds.length===0?P():M(ae.unhandleds[0])},Ds.push(function pe(){q(),Ds.splice(Ds.indexOf(pe),1)}),++Qn,pt(function(){--Qn==0&&Ls()},[])},H.finalize),v()},w,k,j)})}}),Me&&(Me.allSettled&&x(We,"allSettled",function(){var v=B.apply(null,arguments).map(ft);return new We(function(w){v.length===0&&w([]);var k=v.length,j=new Array(k);v.forEach(function(P,M){return We.resolve(P).then(function(H){return j[M]={status:"fulfilled",value:H}},function(H){return j[M]={status:"rejected",reason:H}}).then(function(){return--k||w(j)})})})}),Me.any&&typeof AggregateError<"u"&&x(We,"any",function(){var v=B.apply(null,arguments).map(ft);return new We(function(w,k){v.length===0&&k(new AggregateError([]));var j=v.length,P=new Array(j);v.forEach(function(M,H){return We.resolve(M).then(function(q){return w(q)},function(q){P[H]=q,--j||k(new AggregateError(P))})})})}),Me.withResolvers)&&(We.withResolvers=Me.withResolvers);var ue={awaits:0,echoes:0,id:0},we=0,Ie=[],Le=0,nt=0,et=0;function Je(v,H,k,j){var P=qe,M=Object.create(P),H=(M.parent=P,M.ref=0,M.global=!1,M.id=++et,Sr.env,M.env=ot?{Promise:We,PromiseProp:{value:We,configurable:!0,writable:!0},all:We.all,race:We.race,allSettled:We.allSettled,any:We.any,resolve:We.resolve,reject:We.reject}:{},H&&l(M,H),++P.ref,M.finalize=function(){--this.parent.ref||this.parent.finalize()},Sn(M,v,k,j));return M.ref===0&&M.finalize(),H}function rt(){return ue.id||(ue.id=++we),++ue.awaits,ue.echoes+=Et,ue.id}function Xe(){return!!ue.awaits&&(--ue.awaits==0&&(ue.id=0),ue.echoes=ue.awaits*Et,!0)}function ft(v){return ue.echoes&&v&&v.constructor===Me?(rt(),v.then(function(w){return Xe(),w},function(w){return Xe(),gt(w)})):v}function lt(){var v=Ie[Ie.length-1];Ie.pop(),Ot(v,!1)}function Ot(v,w){var k,j,P=qe;(w?!ue.echoes||Le++&&v===qe:!Le||--Le&&v===qe)||queueMicrotask(w?(function(M){++nt,ue.echoes&&--ue.echoes!=0||(ue.echoes=ue.awaits=ue.id=0),Ie.push(qe),Ot(M,!0)}).bind(null,v):lt),v!==qe&&(qe=v,P===Sr&&(Sr.env=qt()),ot)&&(k=Sr.env.Promise,j=v.env,P.global||v.global)&&(Object.defineProperty(s,"Promise",j.PromiseProp),k.all=j.all,k.race=j.race,k.resolve=j.resolve,k.reject=j.reject,j.allSettled&&(k.allSettled=j.allSettled),j.any)&&(k.any=j.any)}function qt(){var v=s.Promise;return ot?{Promise:v,PromiseProp:Object.getOwnPropertyDescriptor(s,"Promise"),all:v.all,race:v.race,allSettled:v.allSettled,any:v.any,resolve:v.resolve,reject:v.reject}:{}}function Sn(v,w,k,j,P){var M=qe;try{return Ot(v,!0),w(k,j,P)}finally{Ot(M,!1)}}function $n(v,w,k,j){return typeof v!="function"?v:function(){var P=qe;k&&rt(),Ot(w,!0);try{return v.apply(this,arguments)}finally{Ot(P,!1),j&&queueMicrotask(Xe)}}}function tr(v){Promise===Me&&ue.echoes===0?Le===0?v():enqueueNativeMicroTask(v):setTimeout(v,0)}(""+Yo).indexOf("[native code]")===-1&&(rt=Xe=dt);var gt=We.reject,nr="",Ht="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",vo="String expected.",Cr=[],Dr="__dbnames",ms="readonly",Fs="readwrite";function Lr(v,w){return v?w?function(){return v.apply(this,arguments)&&w.apply(this,arguments)}:v:w}var gs={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function mr(v){return typeof v!="string"||/\./.test(v)?function(w){return w}:function(w){return w[v]===void 0&&v in w&&delete(w=he(w))[v],w}}function Qt(){throw De.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function it(v,w){try{var k=Bs(v),j=Bs(w);if(k!==j)return k==="Array"?1:j==="Array"?-1:k==="binary"?1:j==="binary"?-1:k==="string"?1:j==="string"?-1:k==="Date"?1:j!=="Date"?NaN:-1;switch(k){case"number":case"Date":case"string":return w<v?1:v<w?-1:0;case"binary":for(var P=ys(v),M=ys(w),H=P.length,q=M.length,ae=H<q?H:q,pe=0;pe<ae;++pe)if(P[pe]!==M[pe])return P[pe]<M[pe]?-1:1;return H===q?0:H<q?-1:1;case"Array":for(var ie=v,ne=w,le=ie.length,ce=ne.length,oe=le<ce?le:ce,se=0;se<oe;++se){var ve=it(ie[se],ne[se]);if(ve!==0)return ve}return le===ce?0:le<ce?-1:1}}catch{}return NaN}function Bs(v){var w=typeof v;return w=="object"&&(ArrayBuffer.isView(v)||(w=W(v))==="ArrayBuffer")?"binary":w}function ys(v){return v instanceof Uint8Array?v:ArrayBuffer.isView(v)?new Uint8Array(v.buffer,v.byteOffset,v.byteLength):new Uint8Array(v)}function bn(v,w,k){var j=v.schema.yProps;return j?(w&&0<k.numFailures&&(w=w.filter(function(P,M){return!k.failures[M]})),Promise.all(j.map(function(P){return P=P.updatesTable,w?v.db.table(P).where("k").anyOf(w).delete():v.db.table(P).clear()})).then(function(){return k})):k}bo.prototype.execute=function(v){var w=this["@@propmod"];if(w.add!==void 0){var k=w.add;if(a(k))return i(i([],a(v)?v:[],!0),k).sort();if(typeof k=="number")return(Number(v)||0)+k;if(typeof k=="bigint")try{return BigInt(v)+k}catch{return BigInt(0)+k}throw new TypeError("Invalid term ".concat(k))}if(w.remove!==void 0){var j=w.remove;if(a(j))return a(v)?v.filter(function(P){return!j.includes(P)}).sort():[];if(typeof j=="number")return Number(v)-j;if(typeof j=="bigint")try{return BigInt(v)-j}catch{return BigInt(0)-j}throw new TypeError("Invalid subtrahend ".concat(j))}return k=(k=w.replacePrefix)==null?void 0:k[0],k&&typeof v=="string"&&v.startsWith(k)?w.replacePrefix[1]+v.substring(k.length):v};var vi=bo;function bo(v){this["@@propmod"]=v}function xo(v,w){for(var k=o(w),j=k.length,P=!1,M=0;M<j;++M){var H=k[M],q=w[H],ae=O(v,H);q instanceof vi?(N(v,H,q.execute(ae)),P=!0):ae!==q&&(N(v,H,q),P=!0)}return P}En.prototype._trans=function(v,w,k){var j=this._tx||qe.trans,P=this.name,M=un&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(v==="readonly"?"read":"write"," ").concat(this.name));function H(pe,ie,ne){if(ne.schema[P])return w(ne.idbtrans,ne);throw new De.NotFound("Table "+P+" not part of transaction")}var q=yi();try{var ae=j&&j.db._novip===this.db._novip?j===qe.trans?j._promise(v,H,k):Je(function(){return j._promise(v,H,k)},{trans:j,transless:qe.transless||qe}):(function pe(ie,ne,le,ce){if(ie.idbdb&&(ie._state.openComplete||qe.letThrough||ie._vip)){var oe=ie._createTransaction(ne,le,ie._dbSchema);try{oe.create(),ie._state.PR1398_maxLoop=3}catch(se){return se.name===Ue.InvalidState&&ie.isOpen()&&0<--ie._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),ie.close({disableAutoOpen:!1}),ie.open().then(function(){return pe(ie,ne,le,ce)})):gt(se)}return oe._promise(ne,function(se,ve){return Je(function(){return qe.trans=oe,ce(se,ve,oe)})}).then(function(se){if(ne==="readwrite")try{oe.idbtrans.commit()}catch{}return ne==="readonly"?se:oe._completion.then(function(){return se})})}if(ie._state.openComplete)return gt(new De.DatabaseClosed(ie._state.dbOpenError));if(!ie._state.isBeingOpened){if(!ie._state.autoOpen)return gt(new De.DatabaseClosed);ie.open().catch(dt)}return ie._state.dbReadyPromise.then(function(){return pe(ie,ne,le,ce)})})(this.db,v,[this.name],H);return M&&(ae._consoleTask=M,ae=ae.catch(function(pe){return console.trace(pe),gt(pe)})),ae}finally{q&&ps()}},En.prototype.get=function(v,w){var k=this;return v&&v.constructor===Object?this.where(v).first(w):v==null?gt(new De.Type("Invalid argument to Table.get()")):this._trans("readonly",function(j){return k.core.get({trans:j,key:v}).then(function(P){return k.hook.reading.fire(P)})}).then(w)},En.prototype.where=function(v){if(typeof v=="string")return new this.db.WhereClause(this,v);if(a(v))return new this.db.WhereClause(this,"[".concat(v.join("+"),"]"));var w=o(v);if(w.length===1)return this.where(w[0]).equals(v[w[0]]);var k=this.schema.indexes.concat(this.schema.primKey).filter(function(q){if(q.compound&&w.every(function(pe){return 0<=q.keyPath.indexOf(pe)})){for(var ae=0;ae<w.length;++ae)if(w.indexOf(q.keyPath[ae])===-1)return!1;return!0}return!1}).sort(function(q,ae){return q.keyPath.length-ae.keyPath.length})[0];if(k&&this.db._maxKey!==nr)return H=k.keyPath.slice(0,w.length),this.where(H).equals(H.map(function(q){return v[q]}));!k&&un&&console.warn("The query ".concat(JSON.stringify(v)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(w.join("+"),"]"));var j=this.schema.idxByName;function P(q,ae){return it(q,ae)===0}var H=w.reduce(function(ie,ae){var pe=ie[0],ie=ie[1],ne=j[ae],le=v[ae];return[pe||ne,pe||!ne?Lr(ie,ne&&ne.multi?function(ce){return ce=O(ce,ae),a(ce)&&ce.some(function(oe){return P(le,oe)})}:function(ce){return P(le,O(ce,ae))}):ie]},[null,null]),M=H[0],H=H[1];return M?this.where(M.name).equals(v[M.keyPath]).filter(H):k?this.filter(H):this.where(w).equals("")},En.prototype.filter=function(v){return this.toCollection().and(v)},En.prototype.count=function(v){return this.toCollection().count(v)},En.prototype.offset=function(v){return this.toCollection().offset(v)},En.prototype.limit=function(v){return this.toCollection().limit(v)},En.prototype.each=function(v){return this.toCollection().each(v)},En.prototype.toArray=function(v){return this.toCollection().toArray(v)},En.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},En.prototype.orderBy=function(v){return new this.db.Collection(new this.db.WhereClause(this,a(v)?"[".concat(v.join("+"),"]"):v))},En.prototype.reverse=function(){return this.toCollection().reverse()},En.prototype.mapToClass=function(v){for(var w=this.db,k=this.name,j=((this.schema.mappedClass=v).prototype instanceof Qt&&(v=(H=>{var q=ie,ae=H;if(typeof ae!="function"&&ae!==null)throw new TypeError("Class extends value "+String(ae)+" is not a constructor or null");function pe(){this.constructor=q}function ie(){return H!==null&&H.apply(this,arguments)||this}return n(q,ae),q.prototype=ae===null?Object.create(ae):(pe.prototype=ae.prototype,new pe),Object.defineProperty(ie.prototype,"db",{get:function(){return w},enumerable:!1,configurable:!0}),ie.prototype.table=function(){return k},ie})(v)),new Set),P=v.prototype;P;P=c(P))Object.getOwnPropertyNames(P).forEach(function(H){return j.add(H)});function M(H){if(!H)return H;var q,ae=Object.create(v.prototype);for(q in H)if(!j.has(q))try{ae[q]=H[q]}catch{}return ae}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=M,this.hook("reading",M),v},En.prototype.defineClass=function(){return this.mapToClass(function(v){l(this,v)})},En.prototype.add=function(v,w){var k=this,j=this.schema.primKey,P=j.auto,M=j.keyPath,H=v;return M&&P&&(H=mr(M)(v)),this._trans("readwrite",function(q){return k.core.mutate({trans:q,type:"add",keys:w!=null?[w]:null,values:[H]})}).then(function(q){return q.numFailures?We.reject(q.failures[0]):q.lastResult}).then(function(q){if(M)try{N(v,M,q)}catch{}return q})},En.prototype.upsert=function(v,w){var k=this,j=this.schema.primKey.keyPath;return this._trans("readwrite",function(P){return k.core.get({trans:P,key:v}).then(function(M){var H=M??{};return xo(H,w),j&&N(H,j,v),k.core.mutate({trans:P,type:"put",values:[H],keys:[v],upsert:!0,updates:{keys:[v],changeSpecs:[w]}}).then(function(q){return q.numFailures?We.reject(q.failures[0]):!!M})})})},En.prototype.update=function(v,w){return typeof v!="object"||a(v)?this.where(":id").equals(v).modify(w):(v=O(v,this.schema.primKey.keyPath))===void 0?gt(new De.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(v).modify(w)},En.prototype.put=function(v,w){var k=this,j=this.schema.primKey,P=j.auto,M=j.keyPath,H=v;return M&&P&&(H=mr(M)(v)),this._trans("readwrite",function(q){return k.core.mutate({trans:q,type:"put",values:[H],keys:w!=null?[w]:null})}).then(function(q){return q.numFailures?We.reject(q.failures[0]):q.lastResult}).then(function(q){if(M)try{N(v,M,q)}catch{}return q})},En.prototype.delete=function(v){var w=this;return this._trans("readwrite",function(k){return w.core.mutate({trans:k,type:"delete",keys:[v]}).then(function(j){return bn(w,[v],j)}).then(function(j){return j.numFailures?We.reject(j.failures[0]):void 0})})},En.prototype.clear=function(){var v=this;return this._trans("readwrite",function(w){return v.core.mutate({trans:w,type:"deleteRange",range:gs}).then(function(k){return bn(v,null,k)})}).then(function(w){return w.numFailures?We.reject(w.failures[0]):void 0})},En.prototype.bulkGet=function(v){var w=this;return this._trans("readonly",function(k){return w.core.getMany({keys:v,trans:k}).then(function(j){return j.map(function(P){return w.hook.reading.fire(P)})})})},En.prototype.bulkAdd=function(v,w,k){var j=this,P=Array.isArray(w)?w:void 0,M=(k=k||(P?void 0:w))?k.allKeys:void 0;return this._trans("readwrite",function(H){var q=j.schema.primKey,pe=q.auto,q=q.keyPath;if(q&&P)throw new De.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(P&&P.length!==v.length)throw new De.InvalidArgument("Arguments objects and keys must have the same length");var ae=v.length,pe=q&&pe?v.map(mr(q)):v;return j.core.mutate({trans:H,type:"add",keys:P,values:pe,wantResults:M}).then(function(ie){var ne=ie.numFailures,le=ie.failures;if(ne===0)return M?ie.results:ie.lastResult;throw new Ve("".concat(j.name,".bulkAdd(): ").concat(ne," of ").concat(ae," operations failed"),le)})})},En.prototype.bulkPut=function(v,w,k){var j=this,P=Array.isArray(w)?w:void 0,M=(k=k||(P?void 0:w))?k.allKeys:void 0;return this._trans("readwrite",function(H){var q=j.schema.primKey,pe=q.auto,q=q.keyPath;if(q&&P)throw new De.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(P&&P.length!==v.length)throw new De.InvalidArgument("Arguments objects and keys must have the same length");var ae=v.length,pe=q&&pe?v.map(mr(q)):v;return j.core.mutate({trans:H,type:"put",keys:P,values:pe,wantResults:M}).then(function(ie){var ne=ie.numFailures,le=ie.failures;if(ne===0)return M?ie.results:ie.lastResult;throw new Ve("".concat(j.name,".bulkPut(): ").concat(ne," of ").concat(ae," operations failed"),le)})})},En.prototype.bulkUpdate=function(v){var w=this,k=this.core,j=v.map(function(H){return H.key}),P=v.map(function(H){return H.changes}),M=[];return this._trans("readwrite",function(H){return k.getMany({trans:H,keys:j,cache:"clone"}).then(function(q){var ae=[],pe=[],ie=(v.forEach(function(ne,le){var ce=ne.key,oe=ne.changes,se=q[le];if(se){for(var ve=0,xe=Object.keys(oe);ve<xe.length;ve++){var me=xe[ve],Ee=oe[me];if(me===w.schema.primKey.keyPath){if(it(Ee,ce)!==0)throw new De.Constraint("Cannot update primary key in bulkUpdate()")}else N(se,me,Ee)}M.push(le),ae.push(ce),pe.push(se)}}),ae.length);return k.mutate({trans:H,type:"put",keys:ae,values:pe,updates:{keys:j,changeSpecs:P}}).then(function(ne){var le=ne.numFailures,ce=ne.failures;if(le===0)return ie;for(var oe=0,se=Object.keys(ce);oe<se.length;oe++){var ve,xe=se[oe],me=M[Number(xe)];me!=null&&(ve=ce[xe],delete ce[xe],ce[me]=ve)}throw new Ve("".concat(w.name,".bulkUpdate(): ").concat(le," of ").concat(ie," operations failed"),ce)})})})},En.prototype.bulkDelete=function(v){var w=this,k=v.length;return this._trans("readwrite",function(j){return w.core.mutate({trans:j,type:"delete",keys:v}).then(function(P){return bn(w,v,P)})}).then(function(j){var P=j.numFailures,M=j.failures;if(P===0)return j.lastResult;throw new Ve("".concat(w.name,".bulkDelete(): ").concat(P," of ").concat(k," operations failed"),M)})};var tc=En;function En(){}function nc(v){function w(H,q){if(q){for(var ae=arguments.length,pe=new Array(ae-1);--ae;)pe[ae-1]=arguments[ae];return k[H].subscribe.apply(null,pe),v}if(typeof H=="string")return k[H]}var k={};w.addEventType=M;for(var j=1,P=arguments.length;j<P;++j)M(arguments[j]);return w;function M(H,q,ae){var pe,ie;if(typeof H!="object")return q=q||gi,ie={subscribers:[],fire:ae=ae||dt,subscribe:function(ne){ie.subscribers.indexOf(ne)===-1&&(ie.subscribers.push(ne),ie.fire=q(ie.fire,ne))},unsubscribe:function(ne){ie.subscribers=ie.subscribers.filter(function(le){return le!==ne}),ie.fire=ie.subscribers.reduce(q,ae)}},k[H]=w[H]=ie;o(pe=H).forEach(function(ne){var le=pe[ne];if(a(le))M(ne,pe[ne][0],pe[ne][1]);else{if(le!=="asap")throw new De.InvalidArgument("Invalid event config");var ce=M(ne,gn,function(){for(var oe=arguments.length,se=new Array(oe);oe--;)se[oe]=arguments[oe];ce.subscribers.forEach(function(ve){U(function(){ve.apply(null,se)})})})}})}}function Wo(v,w){return _(w).from({prototype:v}),w}function Vo(v,w){return!(v.filter||v.algorithm||v.or)&&(w?v.justLimit:!v.replayFilter)}function rc(v,w){v.filter=Lr(v.filter,w)}function qo(v,w,k){var j=v.replayFilter;v.replayFilter=j?function(){return Lr(j(),w())}:w,v.justLimit=k&&!j}function ku(v,w){if(v.isPrimKey)return w.primaryKey;var k=w.getIndexByKeyPath(v.index);if(k)return k;throw new De.Schema("KeyPath "+v.index+" on object store "+w.name+" is not indexed")}function Tu(v,w,k){var j=ku(v,w.schema);return w.openCursor({trans:k,values:!v.keysOnly,reverse:v.dir==="prev",unique:!!v.unique,query:{index:j,range:v.range}})}function an(v,w,k,j){var P,M,H=v.replayFilter?Lr(v.filter,v.replayFilter()):v.filter;return v.or?(P={},M=function(q,ae,pe){var ie,ne;H&&!H(ae,pe,function(le){return ae.stop(le)},function(le){return ae.fail(le)})||((ne=""+(ie=ae.primaryKey))=="[object ArrayBuffer]"&&(ne=""+new Uint8Array(ie)),p(P,ne))||(P[ne]=!0,w(q,ae,pe))},Promise.all([v.or._iterate(M,k),Ef(Tu(v,j,k),v.algorithm,M,!v.keysOnly&&v.valueMapper)])):Ef(Tu(v,j,k),Lr(v.algorithm,H),w,!v.keysOnly&&v.valueMapper)}function Ef(v,w,k,j){var P=K(j?function(M,H,q){return k(j(M),H,q)}:k);return v.then(function(M){if(M)return M.start(function(){var H=function(){return M.continue()};w&&!w(M,function(q){return H=q},function(q){M.stop(q),H=dt},function(q){M.fail(q),H=dt})||P(M.value,M,function(q){return H=q}),H()})})}tn.prototype._read=function(v,w){var k=this._ctx;return k.error?k.table._trans(null,gt.bind(null,k.error)):k.table._trans("readonly",v).then(w)},tn.prototype._write=function(v){var w=this._ctx;return w.error?w.table._trans(null,gt.bind(null,w.error)):w.table._trans("readwrite",v,"locked")},tn.prototype._addAlgorithm=function(v){var w=this._ctx;w.algorithm=Lr(w.algorithm,v)},tn.prototype._iterate=function(v,w){return an(this._ctx,v,w,this._ctx.table.core)},tn.prototype.clone=function(v){var w=Object.create(this.constructor.prototype),k=Object.create(this._ctx);return v&&l(k,v),w._ctx=k,w},tn.prototype.raw=function(){return this._ctx.valueMapper=null,this},tn.prototype.each=function(v){var w=this._ctx;return this._read(function(k){return an(w,v,k,w.table.core)})},tn.prototype.count=function(v){var w=this;return this._read(function(k){var j,P=w._ctx,M=P.table.core;return Vo(P,!0)?M.count({trans:k,query:{index:ku(P,M.schema),range:P.range}}).then(function(H){return Math.min(H,P.limit)}):(j=0,an(P,function(){return++j,!1},k,M).then(function(){return j}))}).then(v)},tn.prototype.sortBy=function(v,w){var k=v.split(".").reverse(),j=k[0],P=k.length-1;function M(ae,pe){return pe?M(ae[k[pe]],pe-1):ae[j]}var H=this._ctx.dir==="next"?1:-1;function q(ae,pe){return it(M(ae,P),M(pe,P))*H}return this.toArray(function(ae){return ae.sort(q)}).then(w)},tn.prototype.toArray=function(v){var w=this;return this._read(function(k){var j,P,M,H=w._ctx;return H.dir==="next"&&Vo(H,!0)&&0<H.limit?(j=H.valueMapper,P=ku(H,H.table.core.schema),H.table.core.query({trans:k,limit:H.limit,values:!0,query:{index:P,range:H.range}}).then(function(q){return q=q.result,j?q.map(j):q})):(M=[],an(H,function(q){return M.push(q)},k,H.table.core).then(function(){return M}))},v)},tn.prototype.offset=function(v){var w=this._ctx;return v<=0||(w.offset+=v,Vo(w)?qo(w,function(){var k=v;return function(j,P){return k===0||(k===1?--k:P(function(){j.advance(k),k=0}),!1)}}):qo(w,function(){var k=v;return function(){return--k<0}})),this},tn.prototype.limit=function(v){return this._ctx.limit=Math.min(this._ctx.limit,v),qo(this._ctx,function(){var w=v;return function(k,j,P){return--w<=0&&j(P),0<=w}},!0),this},tn.prototype.until=function(v,w){return rc(this._ctx,function(k,j,P){return!v(k.value)||(j(P),w)}),this},tn.prototype.first=function(v){return this.limit(1).toArray(function(w){return w[0]}).then(v)},tn.prototype.last=function(v){return this.reverse().first(v)},tn.prototype.filter=function(v){var w;return rc(this._ctx,function(k){return v(k.value)}),(w=this._ctx).isMatch=Lr(w.isMatch,v),this},tn.prototype.and=function(v){return this.filter(v)},tn.prototype.or=function(v){return new this.db.WhereClause(this._ctx.table,v,this)},tn.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},tn.prototype.desc=function(){return this.reverse()},tn.prototype.eachKey=function(v){var w=this._ctx;return w.keysOnly=!w.isMatch,this.each(function(k,j){v(j.key,j)})},tn.prototype.eachUniqueKey=function(v){return this._ctx.unique="unique",this.eachKey(v)},tn.prototype.eachPrimaryKey=function(v){var w=this._ctx;return w.keysOnly=!w.isMatch,this.each(function(k,j){v(j.primaryKey,j)})},tn.prototype.keys=function(v){var w=this._ctx,k=(w.keysOnly=!w.isMatch,[]);return this.each(function(j,P){k.push(P.key)}).then(function(){return k}).then(v)},tn.prototype.primaryKeys=function(v){var w=this._ctx;if(w.dir==="next"&&Vo(w,!0)&&0<w.limit)return this._read(function(j){var P=ku(w,w.table.core.schema);return w.table.core.query({trans:j,values:!1,limit:w.limit,query:{index:P,range:w.range}})}).then(function(j){return j.result}).then(v);w.keysOnly=!w.isMatch;var k=[];return this.each(function(j,P){k.push(P.primaryKey)}).then(function(){return k}).then(v)},tn.prototype.uniqueKeys=function(v){return this._ctx.unique="unique",this.keys(v)},tn.prototype.firstKey=function(v){return this.limit(1).keys(function(w){return w[0]}).then(v)},tn.prototype.lastKey=function(v){return this.reverse().firstKey(v)},tn.prototype.distinct=function(){var v,w=this._ctx,w=w.index&&w.table.schema.idxByName[w.index];return w&&w.multi&&(v={},rc(this._ctx,function(j){var j=j.primaryKey.toString(),P=p(v,j);return v[j]=!0,!P})),this},tn.prototype.modify=function(v){var w=this,k=this._ctx;return this._write(function(j){function P(se,ve){var xe=ve.failures;le+=se-ve.numFailures;for(var me=0,Ee=o(xe);me<Ee.length;me++){var Re=Ee[me];ne.push(xe[Re])}}var M=typeof v=="function"?v:function(se){return xo(se,v)},H=k.table.core,ie=H.schema.primaryKey,q=ie.outbound,ae=ie.extractKey,pe=200,ie=w.db._options.modifyChunkSize,ne=(ie&&(pe=typeof ie=="object"?ie[H.name]||ie["*"]||200:ie),[]),le=0,ce=[],oe=v===Cf;return w.clone().primaryKeys().then(function(se){function ve(me){var Ee=Math.min(pe,se.length-me),Re=se.slice(me,me+Ee);return(oe?Promise.resolve([]):H.getMany({trans:j,keys:Re,cache:"immutable"})).then(function(ze){var He=[],Oe=[],Ke=q?[]:null,Qe=oe?Re:[];if(!oe)for(var Fe=0;Fe<Ee;++Fe){var Ye=ze[Fe],Yt={value:he(Ye),primKey:se[me+Fe]};M.call(Yt,Yt.value,Yt)!==!1&&(Yt.value==null?Qe.push(se[me+Fe]):q||it(ae(Ye),ae(Yt.value))===0?(Oe.push(Yt.value),q&&Ke.push(se[me+Fe])):(Qe.push(se[me+Fe]),He.push(Yt.value)))}return Promise.resolve(0<He.length&&H.mutate({trans:j,type:"add",values:He}).then(function(sn){for(var ht in sn.failures)Qe.splice(parseInt(ht),1);P(He.length,sn)})).then(function(){return(0<Oe.length||xe&&typeof v=="object")&&H.mutate({trans:j,type:"put",keys:Ke,values:Oe,criteria:xe,changeSpec:typeof v!="function"&&v,isAdditionalChunk:0<me}).then(function(sn){return P(Oe.length,sn)})}).then(function(){return(0<Qe.length||xe&&oe)&&H.mutate({trans:j,type:"delete",keys:Qe,criteria:xe,isAdditionalChunk:0<me}).then(function(sn){return bn(k.table,Qe,sn)}).then(function(sn){return P(Qe.length,sn)})}).then(function(){return se.length>me+Ee&&ve(me+pe)})})}var xe=Vo(k)&&k.limit===1/0&&(typeof v!="function"||oe)&&{index:k.index,range:k.range};return ve(0).then(function(){if(0<ne.length)throw new ke("Error modifying one or more objects",ne,le,ce);return se.length})})})},tn.prototype.delete=function(){var v=this._ctx,w=v.range;return!Vo(v)||v.table.schema.yProps||!v.isPrimKey&&w.type!==3?this.modify(Cf):this._write(function(k){var j=v.table.core.schema.primaryKey,P=w;return v.table.core.count({trans:k,query:{index:j,range:P}}).then(function(M){return v.table.core.mutate({trans:k,type:"deleteRange",range:P}).then(function(ae){var q=ae.failures,ae=ae.numFailures;if(ae)throw new ke("Could not delete some values",Object.keys(q).map(function(pe){return q[pe]}),M-ae);return M-ae})})})};var om=tn;function tn(){}var Cf=function(v,w){return w.value=null};function am(v,w){return v<w?-1:v===w?0:1}function lm(v,w){return w<v?-1:v===w?0:1}function Qr(v,w,k){return v=v instanceof Ba?new v.Collection(v):v,v._ctx.error=new(k||TypeError)(w),v}function $s(v){return new v.Collection(v,function(){return zs("")}).limit(0)}function Xi(ce,w,k,j){var P,M,H,q,ae,pe,ie,ne=k.length;if(!k.every(function(se){return typeof se=="string"}))return Qr(ce,vo);function le(se){P=se==="next"?function(xe){return xe.toUpperCase()}:function(xe){return xe.toLowerCase()},M=se==="next"?function(xe){return xe.toLowerCase()}:function(xe){return xe.toUpperCase()},H=se==="next"?am:lm;var ve=k.map(function(xe){return{lower:M(xe),upper:P(xe)}}).sort(function(xe,me){return H(xe.lower,me.lower)});q=ve.map(function(xe){return xe.upper}),ae=ve.map(function(xe){return xe.lower}),ie=(pe=se)==="next"?"":j}le("next");var ce=new ce.Collection(ce,function(){return Kr(q[0],ae[ne-1]+j)}),oe=(ce._ondirectionchange=function(se){le(se)},0);return ce._addAlgorithm(function(se,ve,xe){var me=se.key;if(typeof me=="string"){var Ee=M(me);if(w(Ee,ae,oe))return!0;for(var Re=null,ze=oe;ze<ne;++ze){var He=((Oe,Ke,Qe,Fe,Ye,Yt)=>{for(var sn=Math.min(Oe.length,Fe.length),ht=-1,Dt=0;Dt<sn;++Dt){var kn=Ke[Dt];if(kn!==Fe[Dt])return Ye(Oe[Dt],Qe[Dt])<0?Oe.substr(0,Dt)+Qe[Dt]+Qe.substr(Dt+1):Ye(Oe[Dt],Fe[Dt])<0?Oe.substr(0,Dt)+Fe[Dt]+Qe.substr(Dt+1):0<=ht?Oe.substr(0,ht)+Ke[ht]+Qe.substr(ht+1):null;Ye(Oe[Dt],kn)<0&&(ht=Dt)}return sn<Fe.length&&Yt==="next"?Oe+Qe.substr(Oe.length):sn<Oe.length&&Yt==="prev"?Oe.substr(0,Qe.length):ht<0?null:Oe.substr(0,ht)+Fe[ht]+Qe.substr(ht+1)})(me,Ee,q[ze],ae[ze],H,pe);He===null&&Re===null?oe=ze+1:(Re===null||0<H(Re,He))&&(Re=He)}ve(Re!==null?function(){se.continue(Re+ie)}:xe)}return!1}),ce}function Kr(v,w,k,j){return{type:2,lower:v,upper:w,lowerOpen:k,upperOpen:j}}function zs(v){return{type:1,lower:v,upper:v}}Object.defineProperty(zn.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),zn.prototype.between=function(v,w,k,j){k=k!==!1,j=j===!0;try{return 0<this._cmp(v,w)||this._cmp(v,w)===0&&(k||j)&&(!k||!j)?$s(this):new this.Collection(this,function(){return Kr(v,w,!k,!j)})}catch{return Qr(this,Ht)}},zn.prototype.equals=function(v){return v==null?Qr(this,Ht):new this.Collection(this,function(){return zs(v)})},zn.prototype.above=function(v){return v==null?Qr(this,Ht):new this.Collection(this,function(){return Kr(v,void 0,!0)})},zn.prototype.aboveOrEqual=function(v){return v==null?Qr(this,Ht):new this.Collection(this,function(){return Kr(v,void 0,!1)})},zn.prototype.below=function(v){return v==null?Qr(this,Ht):new this.Collection(this,function(){return Kr(void 0,v,!1,!0)})},zn.prototype.belowOrEqual=function(v){return v==null?Qr(this,Ht):new this.Collection(this,function(){return Kr(void 0,v)})},zn.prototype.startsWith=function(v){return typeof v!="string"?Qr(this,vo):this.between(v,v+nr,!0,!0)},zn.prototype.startsWithIgnoreCase=function(v){return v===""?this.startsWith(v):Xi(this,function(w,k){return w.indexOf(k[0])===0},[v],nr)},zn.prototype.equalsIgnoreCase=function(v){return Xi(this,function(w,k){return w===k[0]},[v],"")},zn.prototype.anyOfIgnoreCase=function(){var v=B.apply(fe,arguments);return v.length===0?$s(this):Xi(this,function(w,k){return k.indexOf(w)!==-1},v,"")},zn.prototype.startsWithAnyOfIgnoreCase=function(){var v=B.apply(fe,arguments);return v.length===0?$s(this):Xi(this,function(w,k){return k.some(function(j){return w.indexOf(j)===0})},v,nr)},zn.prototype.anyOf=function(){var v,w,k=this,j=B.apply(fe,arguments),P=this._cmp;try{j.sort(P)}catch{return Qr(this,Ht)}return j.length===0?$s(this):((v=new this.Collection(this,function(){return Kr(j[0],j[j.length-1])}))._ondirectionchange=function(M){P=M==="next"?k._ascending:k._descending,j.sort(P)},w=0,v._addAlgorithm(function(M,H,q){for(var ae=M.key;0<P(ae,j[w]);)if(++w===j.length)return H(q),!1;return P(ae,j[w])===0||(H(function(){M.continue(j[w])}),!1)}),v)},zn.prototype.notEqual=function(v){return this.inAnyRange([[-1/0,v],[v,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},zn.prototype.noneOf=function(){var v=B.apply(fe,arguments);if(v.length===0)return new this.Collection(this);try{v.sort(this._ascending)}catch{return Qr(this,Ht)}var w=v.reduce(function(k,j){return k?k.concat([[k[k.length-1][1],j]]):[[-1/0,j]]},null);return w.push([v[v.length-1],this.db._maxKey]),this.inAnyRange(w,{includeLowers:!1,includeUppers:!1})},zn.prototype.inAnyRange=function(v,xe){var k=this,j=this._cmp,P=this._ascending,M=this._descending,H=this._min,q=this._max;if(v.length===0)return $s(this);if(!v.every(function(me){return me[0]!==void 0&&me[1]!==void 0&&P(me[0],me[1])<=0}))return Qr(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",De.InvalidArgument);var ae=!xe||xe.includeLowers!==!1,pe=xe&&xe.includeUppers===!0,ie,ne=P;function le(me,Ee){return ne(me[0],Ee[0])}try{(ie=v.reduce(function(me,Ee){for(var Re=0,ze=me.length;Re<ze;++Re){var He=me[Re];if(j(Ee[0],He[1])<0&&0<j(Ee[1],He[0])){He[0]=H(He[0],Ee[0]),He[1]=q(He[1],Ee[1]);break}}return Re===ze&&me.push(Ee),me},[])).sort(le)}catch{return Qr(this,Ht)}var ce=0,oe=pe?function(me){return 0<P(me,ie[ce][1])}:function(me){return 0<=P(me,ie[ce][1])},se=ae?function(me){return 0<M(me,ie[ce][0])}:function(me){return 0<=M(me,ie[ce][0])},ve=oe,xe=new this.Collection(this,function(){return Kr(ie[0][0],ie[ie.length-1][1],!ae,!pe)});return xe._ondirectionchange=function(me){ne=me==="next"?(ve=oe,P):(ve=se,M),ie.sort(le)},xe._addAlgorithm(function(me,Ee,Re){for(var ze,He=me.key;ve(He);)if(++ce===ie.length)return Ee(Re),!1;return!oe(ze=He)&&!se(ze)||(k._cmp(He,ie[ce][1])===0||k._cmp(He,ie[ce][0])===0||Ee(function(){ne===P?me.continue(ie[ce][0]):me.continue(ie[ce][1])}),!1)}),xe},zn.prototype.startsWithAnyOf=function(){var v=B.apply(fe,arguments);return v.every(function(w){return typeof w=="string"})?v.length===0?$s(this):this.inAnyRange(v.map(function(w){return[w,w+nr]})):Qr(this,"startsWithAnyOf() only works with strings")};var Ba=zn;function zn(){}function kr(v){return K(function(w){return ic(w),v(w.target.error),!1})}function ic(v){v.stopPropagation&&v.stopPropagation(),v.preventDefault&&v.preventDefault()}var $a="storagemutated",Qo="x-storagemutated-1",wo=nc(null,$a),cm=(bi.prototype._lock=function(){return z(!qe.global),++this._reculock,this._reculock!==1||qe.global||(qe.lockOwnerFor=this),this},bi.prototype._unlock=function(){if(z(!qe.global),--this._reculock==0)for(qe.global||(qe.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var v=this._blockedFuncs.shift();try{Sn(v[1],v[0])}catch{}}return this},bi.prototype._locked=function(){return this._reculock&&qe.lockOwnerFor!==this},bi.prototype.create=function(v){var w=this;if(this.mode){var k=this.db.idbdb,j=this.db._state.dbOpenError;if(z(!this.idbtrans),!v&&!k)switch(j&&j.name){case"DatabaseClosedError":throw new De.DatabaseClosed(j);case"MissingAPIError":throw new De.MissingAPI(j.message,j);default:throw new De.OpenFailed(j)}if(!this.active)throw new De.TransactionInactive;z(this._completion._state===null),(v=this.idbtrans=v||(this.db.core||k).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=K(function(P){ic(P),w._reject(v.error)}),v.onabort=K(function(P){ic(P),w.active&&w._reject(new De.Abort(v.error)),w.active=!1,w.on("abort").fire(P)}),v.oncomplete=K(function(){w.active=!1,w._resolve(),"mutatedParts"in v&&wo.storagemutated.fire(v.mutatedParts)})}return this},bi.prototype._promise=function(v,w,k){var j,P=this;return v==="readwrite"&&this.mode!=="readwrite"?gt(new De.ReadOnly("Transaction is readonly")):this.active?this._locked()?new We(function(M,H){P._blockedFuncs.push([function(){P._promise(v,w,k).then(M,H)},qe])}):k?Je(function(){var M=new We(function(H,q){P._lock();var ae=w(H,q,P);ae&&ae.then&&ae.then(H,q)});return M.finally(function(){return P._unlock()}),M._lib=!0,M}):((j=new We(function(M,H){var q=w(M,H,P);q&&q.then&&q.then(M,H)}))._lib=!0,j):gt(new De.TransactionInactive)},bi.prototype._root=function(){return this.parent?this.parent._root():this},bi.prototype.waitFor=function(v){var w,k=this._root(),j=We.resolve(v),P=(k._waitingFor?k._waitingFor=k._waitingFor.then(function(){return j}):(k._waitingFor=j,k._waitingQueue=[],w=k.idbtrans.objectStore(k.storeNames[0]),(function M(){for(++k._spinCount;k._waitingQueue.length;)k._waitingQueue.shift()();k._waitingFor&&(w.get(-1/0).onsuccess=M)})()),k._waitingFor);return new We(function(M,H){j.then(function(q){return k._waitingQueue.push(K(M.bind(null,q)))},function(q){return k._waitingQueue.push(K(H.bind(null,q)))}).finally(function(){k._waitingFor===P&&(k._waitingFor=null)})})},bi.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new De.Abort))},bi.prototype.table=function(v){var w=this._memoizedTables||(this._memoizedTables={});if(p(w,v))return w[v];var k=this.schema[v];if(k)return(k=new this.db.Table(v,k,this)).core=this.db.core.table(v),w[v]=k;throw new De.NotFound("Table "+v+" not part of transaction")},bi);function bi(){}function ju(v,w,k,j,P,M,H,q){return{name:v,keyPath:w,unique:k,multi:j,auto:P,compound:M,src:(k&&!H?"&":"")+(j?"*":"")+(P?"++":"")+um(w),type:q}}function um(v){return typeof v=="string"?v:v?"["+[].join.call(v,"+")+"]":""}function Ko(v,w,k){return{name:v,primKey:w,indexes:k,mappedClass:null,idxByName:(j=function(P){return[P.name,P]},k.reduce(function(P,M,H){return M=j(M,H),M&&(P[M[0]]=M[1]),P},{}))};var j}var Us=function(v){try{return v.only([[]]),Us=function(){return[[]]},[[]]}catch{return Us=function(){return nr},nr}};function _o(v){return v==null?function(){}:typeof v=="string"?(w=v).split(".").length===1?function(k){return k[w]}:function(k){return O(k,w)}:function(k){return O(k,v)};var w}function sc(v){return[].slice.call(v)}var H1=0;function oc(v){return v==null?":id":typeof v=="string"?v:"[".concat(v.join("+"),"]")}function kf(v,w,ae){function j(oe){if(oe.type===3)return null;if(oe.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var ne=oe.lower,le=oe.upper,ce=oe.lowerOpen,oe=oe.upperOpen;return ne===void 0?le===void 0?null:w.upperBound(le,!!oe):le===void 0?w.lowerBound(ne,!!ce):w.bound(ne,le,!!ce,!!oe)}function P(ie){var ne,le=ie.name;return{name:le,schema:ie,mutate:function(ce){var oe=ce.trans,se=ce.type,ve=ce.keys,xe=ce.values,me=ce.range;return new Promise(function(Ee,Re){Ee=K(Ee);var ze=oe.objectStore(le),He=ze.keyPath==null,Oe=se==="put"||se==="add";if(!Oe&&se!=="delete"&&se!=="deleteRange")throw new Error("Invalid operation type: "+se);var Ke,Qe=(ve||xe||{length:1}).length;if(ve&&xe&&ve.length!==xe.length)throw new Error("Given keys array must have same length as given values array.");if(Qe===0)return Ee({numFailures:0,failures:{},results:[],lastResult:void 0});function Fe(yn){++sn,ic(yn)}var Ye=[],Yt=[],sn=0;if(se==="deleteRange"){if(me.type===4)return Ee({numFailures:sn,failures:Yt,results:[],lastResult:void 0});me.type===3?Ye.push(Ke=ze.clear()):Ye.push(Ke=ze.delete(j(me)))}else{var He=Oe?He?[xe,ve]:[xe,null]:[ve,null],ht=He[0],Dt=He[1];if(Oe)for(var kn=0;kn<Qe;++kn)Ye.push(Ke=Dt&&Dt[kn]!==void 0?ze[se](ht[kn],Dt[kn]):ze[se](ht[kn])),Ke.onerror=Fe;else for(kn=0;kn<Qe;++kn)Ye.push(Ke=ze[se](ht[kn])),Ke.onerror=Fe}function xi(yn){yn=yn.target.result,Ye.forEach(function(Qs,dc){return Qs.error!=null&&(Yt[dc]=Qs.error)}),Ee({numFailures:sn,failures:Yt,results:se==="delete"?ve:Ye.map(function(Qs){return Qs.result}),lastResult:yn})}Ke.onerror=function(yn){Fe(yn),xi(yn)},Ke.onsuccess=xi})},getMany:function(ce){var oe=ce.trans,se=ce.keys;return new Promise(function(ve,xe){ve=K(ve);for(var me,Ee=oe.objectStore(le),Re=se.length,ze=new Array(Re),He=0,Oe=0,Ke=function(Ye){Ye=Ye.target,ze[Ye._pos]=Ye.result,++Oe===He&&ve(ze)},Qe=kr(xe),Fe=0;Fe<Re;++Fe)se[Fe]!=null&&((me=Ee.get(se[Fe]))._pos=Fe,me.onsuccess=Ke,me.onerror=Qe,++He);He===0&&ve(ze)})},get:function(ce){var oe=ce.trans,se=ce.key;return new Promise(function(ve,xe){ve=K(ve);var me=oe.objectStore(le).get(se);me.onsuccess=function(Ee){return ve(Ee.target.result)},me.onerror=kr(xe)})},query:(ne=q,function(ce){return new Promise(function(oe,se){oe=K(oe);var ve,xe,me,Oe=ce.trans,Ee=ce.values,Re=ce.limit,He=ce.query,ze=Re===1/0?void 0:Re,Ke=He.index,He=He.range,Oe=Oe.objectStore(le),Oe=Ke.isPrimaryKey?Oe:Oe.index(Ke.name),Ke=j(He);if(Re===0)return oe({result:[]});ne?((He=Ee?Oe.getAll(Ke,ze):Oe.getAllKeys(Ke,ze)).onsuccess=function(Qe){return oe({result:Qe.target.result})},He.onerror=kr(se)):(ve=0,xe=!Ee&&"openKeyCursor"in Oe?Oe.openKeyCursor(Ke):Oe.openCursor(Ke),me=[],xe.onsuccess=function(Qe){var Fe=xe.result;return!Fe||(me.push(Ee?Fe.value:Fe.primaryKey),++ve===Re)?oe({result:me}):void Fe.continue()},xe.onerror=kr(se))})}),openCursor:function(ce){var oe=ce.trans,se=ce.values,ve=ce.query,xe=ce.reverse,me=ce.unique;return new Promise(function(Ee,Re){Ee=K(Ee);var Oe=ve.index,ze=ve.range,He=oe.objectStore(le),He=Oe.isPrimaryKey?He:He.index(Oe.name),Oe=xe?me?"prevunique":"prev":me?"nextunique":"next",Ke=!se&&"openKeyCursor"in He?He.openKeyCursor(j(ze),Oe):He.openCursor(j(ze),Oe);Ke.onerror=kr(Re),Ke.onsuccess=K(function(Qe){var Fe,Ye,Yt,sn,ht=Ke.result;ht?(ht.___id=++H1,ht.done=!1,Fe=ht.continue.bind(ht),Ye=(Ye=ht.continuePrimaryKey)&&Ye.bind(ht),Yt=ht.advance.bind(ht),sn=function(){throw new Error("Cursor not stopped")},ht.trans=oe,ht.stop=ht.continue=ht.continuePrimaryKey=ht.advance=function(){throw new Error("Cursor not started")},ht.fail=K(Re),ht.next=function(){var Dt=this,kn=1;return this.start(function(){return kn--?Dt.continue():Dt.stop()}).then(function(){return Dt})},ht.start=function(Dt){function kn(){if(Ke.result)try{Dt()}catch(yn){ht.fail(yn)}else ht.done=!0,ht.start=function(){throw new Error("Cursor behind last entry")},ht.stop()}var xi=new Promise(function(yn,Qs){yn=K(yn),Ke.onerror=kr(Qs),ht.fail=Qs,ht.stop=function(dc){ht.stop=ht.continue=ht.continuePrimaryKey=ht.advance=sn,yn(dc)}});return Ke.onsuccess=K(function(yn){Ke.onsuccess=kn,kn()}),ht.continue=Fe,ht.continuePrimaryKey=Ye,ht.advance=Yt,kn(),xi},Ee(ht)):Ee(null)},Re)})},count:function(ce){var oe=ce.query,se=ce.trans,ve=oe.index,xe=oe.range;return new Promise(function(me,Ee){var Re=se.objectStore(le),Re=ve.isPrimaryKey?Re:Re.index(ve.name),ze=j(xe),ze=ze?Re.count(ze):Re.count();ze.onsuccess=K(function(He){return me(He.target.result)}),ze.onerror=kr(Ee)})}}}M=ae,H=sc((ae=v).objectStoreNames);var M,ae={schema:{name:ae.name,tables:H.map(function(ie){return M.objectStore(ie)}).map(function(ie){var ne=ie.keyPath,le=ie.autoIncrement,oe=a(ne),ce={},oe={name:ie.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:ne==null,compound:oe,keyPath:ne,autoIncrement:le,unique:!0,extractKey:_o(ne)},indexes:sc(ie.indexNames).map(function(se){return ie.index(se)}).map(function(me){var Ee=me.name,ve=me.unique,xe=me.multiEntry,me=me.keyPath,Ee={name:Ee,compound:a(me),keyPath:me,unique:ve,multiEntry:xe,extractKey:_o(me)};return ce[oc(me)]=Ee}),getIndexByKeyPath:function(se){return ce[oc(se)]}};return ce[":id"]=oe.primaryKey,ne!=null&&(ce[oc(ne)]=oe.primaryKey),oe})},hasGetAll:0<H.length&&"getAll"in M.objectStore(H[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)},H=ae.schema,q=ae.hasGetAll,ae=H.tables.map(P),pe={};return ae.forEach(function(ie){return pe[ie.name]=ie}),{stack:"dbcore",transaction:v.transaction.bind(v),table:function(ie){if(pe[ie])return pe[ie];throw new Error("Table '".concat(ie,"' not found"))},MIN_KEY:-1/0,MAX_KEY:Us(w),schema:H}}function Iu(v,w,k,j){return k=k.IDBKeyRange,w=kf(w,k,j),{dbcore:v.dbcore.reduce(function(P,M){return M=M.create,r(r({},P),M(P))},w)}}function za(v,w){var k=w.db,k=Iu(v._middlewares,k,v._deps,w);v.core=k.dbcore,v.tables.forEach(function(j){var P=j.name;v.core.schema.tables.some(function(M){return M.name===P})&&(j.core=v.core.table(P),v[P]instanceof v.Table)&&(v[P].core=j.core)})}function ac(v,w,k,j){k.forEach(function(P){var M=j[P];w.forEach(function(H){var q=(function ae(pe,ie){return S(pe,ie)||(pe=c(pe))&&ae(pe,ie)})(H,P);(!q||"value"in q&&q.value===void 0)&&(H===v.Transaction.prototype||H instanceof v.Transaction?x(H,P,{get:function(){return this.table(P)},set:function(ae){y(this,P,{value:ae,writable:!0,configurable:!0,enumerable:!0})}}):H[P]=new v.Table(P,M))})})}function vs(v,w){w.forEach(function(k){for(var j in k)k[j]instanceof v.Table&&delete k[j]})}function Tf(v,w){return v._cfg.version-w._cfg.version}function Ru(v,w,k,j){var P=v._dbSchema,M=(k.objectStoreNames.contains("$meta")&&!P.$meta&&(P.$meta=Ko("$meta",Va("")[0],[]),v._storeNames.push("$meta")),v._createTransaction("readwrite",v._storeNames,P)),H=(M.create(k),M._completion.catch(j),M._reject.bind(M)),q=qe.transless||qe;Je(function(){if(qe.trans=M,qe.transless=q,w!==0)return za(v,k),pe=w,((ae=M).storeNames.includes("$meta")?ae.table("$meta").get("version").then(function(ie){return ie??pe}):We.resolve(pe)).then(function(ve){var ne=v,le=ve,ce=M,oe=k,se=[],ve=ne._versions,xe=ne._dbSchema=Hs(0,ne.idbdb,oe);return(ve=ve.filter(function(me){return me._cfg.version>=le})).length===0?We.resolve():(ve.forEach(function(me){se.push(function(){var Ee,Re,ze,He=xe,Oe=me._cfg.dbschema,Ke=(Wa(ne,He,oe),Wa(ne,Oe,oe),xe=ne._dbSchema=Oe,Ua(He,Oe)),Qe=(Ke.add.forEach(function(Fe){Ha(oe,Fe[0],Fe[1].primKey,Fe[1].indexes)}),Ke.change.forEach(function(Fe){if(Fe.recreate)throw new De.Upgrade("Not yet support for changing primary key");var Ye=oe.objectStore(Fe.name);Fe.add.forEach(function(Yt){return Fr(Ye,Yt)}),Fe.change.forEach(function(Yt){Ye.deleteIndex(Yt.name),Fr(Ye,Yt)}),Fe.del.forEach(function(Yt){return Ye.deleteIndex(Yt)})}),me._cfg.contentUpgrade);if(Qe&&me._cfg.version>le)return za(ne,oe),ce._memoizedTables={},Ee=F(Oe),Ke.del.forEach(function(Fe){Ee[Fe]=He[Fe]}),vs(ne,[ne.Transaction.prototype]),ac(ne,[ne.Transaction.prototype],o(Ee),Ee),ce.schema=Ee,(Re=ee(Qe))&&rt(),Oe=We.follow(function(){var Fe;(ze=Qe(ce))&&Re&&(Fe=Xe.bind(null,null),ze.then(Fe,Fe))}),ze&&typeof ze.then=="function"?We.resolve(ze):Oe.then(function(){return ze})}),se.push(function(Ee){var Re,ze,He=me._cfg.dbschema;Re=He,ze=Ee,[].slice.call(ze.db.objectStoreNames).forEach(function(Oe){return Re[Oe]==null&&ze.db.deleteObjectStore(Oe)}),vs(ne,[ne.Transaction.prototype]),ac(ne,[ne.Transaction.prototype],ne._storeNames,ne._dbSchema),ce.schema=ne._dbSchema}),se.push(function(Ee){ne.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(ne.idbdb.version/10)===me._cfg.version?(ne.idbdb.deleteObjectStore("$meta"),delete ne._dbSchema.$meta,ne._storeNames=ne._storeNames.filter(function(Re){return Re!=="$meta"})):Ee.objectStore("$meta").put(me._cfg.version,"version"))})}),(function me(){return se.length?We.resolve(se.shift()(ce.idbtrans)).then(me):We.resolve()})().then(function(){jf(xe,oe)}))}).catch(H);var ae,pe;o(P).forEach(function(ie){Ha(k,ie,P[ie].primKey,P[ie].indexes)}),za(v,k),We.follow(function(){return v.on.populate.fire(M)}).catch(H)})}function dm(v,w){jf(v._dbSchema,w),w.db.version%10!=0||w.objectStoreNames.contains("$meta")||w.db.createObjectStore("$meta").add(Math.ceil(w.db.version/10-1),"version");var k=Hs(0,v.idbdb,w);Wa(v,v._dbSchema,w);for(var j=0,P=Ua(k,v._dbSchema).change;j<P.length;j++){var M=(H=>{if(H.change.length||H.recreate)return console.warn("Unable to patch indexes of table ".concat(H.name," because it has changes on the type of index or primary key.")),{value:void 0};var q=w.objectStore(H.name);H.add.forEach(function(ae){un&&console.debug("Dexie upgrade patch: Creating missing index ".concat(H.name,".").concat(ae.src)),Fr(q,ae)})})(P[j]);if(typeof M=="object")return M.value}}function Ua(v,w){var k,j={del:[],add:[],change:[]};for(k in v)w[k]||j.del.push(k);for(k in w){var P=v[k],M=w[k];if(P){var H={name:k,def:M,recreate:!1,del:[],add:[],change:[]};if(""+(P.primKey.keyPath||"")!=""+(M.primKey.keyPath||"")||P.primKey.auto!==M.primKey.auto)H.recreate=!0,j.change.push(H);else{var q=P.idxByName,ae=M.idxByName,pe=void 0;for(pe in q)ae[pe]||H.del.push(pe);for(pe in ae){var ie=q[pe],ne=ae[pe];ie?ie.src!==ne.src&&H.change.push(ne):H.add.push(ne)}(0<H.del.length||0<H.add.length||0<H.change.length)&&j.change.push(H)}}else j.add.push([k,M])}return j}function Ha(v,w,k,j){var P=v.db.createObjectStore(w,k.keyPath?{keyPath:k.keyPath,autoIncrement:k.auto}:{autoIncrement:k.auto});j.forEach(function(M){return Fr(P,M)})}function jf(v,w){o(v).forEach(function(k){w.db.objectStoreNames.contains(k)||(un&&console.debug("Dexie: Creating missing table",k),Ha(w,k,v[k].primKey,v[k].indexes))})}function Fr(v,w){v.createIndex(w.name,w.keyPath,{unique:w.unique,multiEntry:w.multi})}function Hs(v,w,k){var j={};return I(w.objectStoreNames,0).forEach(function(P){for(var M=k.objectStore(P),H=ju(um(pe=M.keyPath),pe||"",!0,!1,!!M.autoIncrement,pe&&typeof pe!="string",!0),q=[],ae=0;ae<M.indexNames.length;++ae){var ie=M.index(M.indexNames[ae]),pe=ie.keyPath,ie=ju(ie.name,pe,!!ie.unique,!!ie.multiEntry,!1,pe&&typeof pe!="string",!1);q.push(ie)}j[P]=Ko(P,H,q)}),j}function Wa(v,w,k){for(var j=k.db.objectStoreNames,P=0;P<j.length;++P){var M=j[P],H=k.objectStore(M);v._hasGetAll="getAll"in H;for(var q=0;q<H.indexNames.length;++q){var ae,pe=H.indexNames[q],ie=H.index(pe).keyPath,ie=typeof ie=="string"?ie:"["+I(ie).join("+")+"]";w[M]&&(ae=w[M].idxByName[ie])&&(ae.name=pe,delete w[M].idxByName[ie],w[M].idxByName[pe]=ae)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&s.WorkerGlobalScope&&s instanceof s.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(v._hasGetAll=!1)}function Va(v){return v.split(",").map(function(w,k){var P=w.split(":"),j=(j=P[1])==null?void 0:j.trim(),P=(w=P[0].trim()).replace(/([&*]|\+\+)/g,""),M=/^\[/.test(P)?P.match(/^\[(.*)\]$/)[1].split("+"):P;return ju(P,M||null,/\&/.test(w),/\*/.test(w),/\+\+/.test(w),a(M),k===0,j)})}So.prototype._createTableSchema=Ko,So.prototype._parseIndexSyntax=Va,So.prototype._parseStoresSpec=function(v,w){var k=this;o(v).forEach(function(j){if(v[j]!==null){var P=k._parseIndexSyntax(v[j]),M=P.shift();if(!M)throw new De.Schema("Invalid schema for table "+j+": "+v[j]);if(M.unique=!0,M.multi)throw new De.Schema("Primary key cannot be multiEntry*");P.forEach(function(H){if(H.auto)throw new De.Schema("Only primary key can be marked as autoIncrement (++)");if(!H.keyPath)throw new De.Schema("Index must have a name and cannot be an empty string")}),M=k._createTableSchema(j,M,P),w[j]=M}})},So.prototype.stores=function(k){var w=this.db,k=(this._cfg.storesSource=this._cfg.storesSource?l(this._cfg.storesSource,k):k,w._versions),j={},P={};return k.forEach(function(M){l(j,M._cfg.storesSource),P=M._cfg.dbschema={},M._parseStoresSpec(j,P)}),w._dbSchema=P,vs(w,[w._allTables,w,w.Transaction.prototype]),ac(w,[w._allTables,w,w.Transaction.prototype,this._cfg.tables],o(P),P),w._storeNames=o(P),this},So.prototype.upgrade=function(v){return this._cfg.contentUpgrade=Tt(this._cfg.contentUpgrade||dt,v),this};var W1=So;function So(){}function lc(v,w){var k=v._dbNamesDB;return k||(k=v._dbNamesDB=new Vs(Dr,{addons:[],indexedDB:v,IDBKeyRange:w})).version(1).stores({dbnames:"name"}),k.table("dbnames")}function Go(v){return v&&typeof v.databases=="function"}function qa(v){return Je(function(){return qe.letThrough=!0,v()})}function Nu(v){return!("from"in v)}var Br=function(v,w){var k;if(!this)return k=new Br,v&&"d"in v&&l(k,v),k;l(this,arguments.length?{d:1,from:v,to:1<arguments.length?w:v}:{d:0})};function cc(v,w,k){var j=it(w,k);if(!isNaN(j)){if(0<j)throw RangeError();if(Nu(v))return l(v,{from:w,to:k,d:1});var j=v.l,P=v.r;if(it(k,v.from)<0)return j?cc(j,w,k):v.l={from:w,to:k,d:1,l:null,r:null},fm(v);if(0<it(w,v.to))return P?cc(P,w,k):v.r={from:w,to:k,d:1,l:null,r:null},fm(v);it(w,v.from)<0&&(v.from=w,v.l=null,v.d=P?P.d+1:1),0<it(k,v.to)&&(v.to=k,v.r=null,v.d=v.l?v.l.d+1:1),w=!v.r,j&&!v.l&&uc(v,j),P&&w&&uc(v,P)}}function uc(v,w){Nu(w)||(function k(j,P){var M=P.from,H=P.l,q=P.r;cc(j,M,P.to),H&&k(j,H),q&&k(j,q)})(v,w)}function Ou(v,w){var k=Pu(w),j=k.next();if(!j.done)for(var P=j.value,M=Pu(v),H=M.next(P.from),q=H.value;!j.done&&!H.done;){if(it(q.from,P.to)<=0&&0<=it(q.to,P.from))return!0;it(P.from,q.from)<0?P=(j=k.next(q.from)).value:q=(H=M.next(P.from)).value}return!1}function Pu(v){var w=Nu(v)?null:{s:0,n:v};return{next:function(k){for(var j=0<arguments.length;w;)switch(w.s){case 0:if(w.s=1,j)for(;w.n.l&&it(k,w.n.from)<0;)w={up:w,n:w.n.l,s:1};else for(;w.n.l;)w={up:w,n:w.n.l,s:1};case 1:if(w.s=2,!j||it(k,w.n.to)<=0)return{value:w.n,done:!1};case 2:if(w.n.r){w.s=3,w={up:w,n:w.n.r,s:0};continue}case 3:w=w.up}return{done:!0}}}}function fm(v){var w,k,j,P=(((P=v.r)==null?void 0:P.d)||0)-(((P=v.l)==null?void 0:P.d)||0),P=1<P?"r":P<-1?"l":"";P&&(w=P=="r"?"l":"r",k=r({},v),j=v[P],v.from=j.from,v.to=j.to,v[P]=j[P],k[P]=j[w],(v[w]=k).d=hm(k)),v.d=hm(v)}function hm(k){var w=k.r,k=k.l;return(w?k?Math.max(w.d,k.d):w.d:k?k.d:0)+1}function Au(v,w){return o(w).forEach(function(k){v[k]?uc(v[k],w[k]):v[k]=(function j(P){var M,H,q={};for(M in P)p(P,M)&&(H=P[M],q[M]=!H||typeof H!="object"||Z.has(H.constructor)?H:j(H));return q})(w[k])}),v}function If(v,w){return v.all||w.all||Object.keys(v).some(function(k){return w[k]&&Ou(w[k],v[k])})}g(Br.prototype,((Se={add:function(v){return uc(this,v),this},addKey:function(v){return cc(this,v,v),this},addKeys:function(v){var w=this;return v.forEach(function(k){return cc(w,k,k)}),this},hasKey:function(v){var w=Pu(this).next(v).value;return w&&it(w.from,v)<=0&&0<=it(w.to,v)}})[Q]=function(){return Pu(this)},Se));var Eo={},Rf={},Nf=!1;function Mu(v){Au(Rf,v),Nf||(Nf=!0,setTimeout(function(){Nf=!1,Of(Rf,!(Rf={}))},0))}function Of(v,w){w===void 0&&(w=!1);var k=new Set;if(v.all)for(var j=0,P=Object.values(Eo);j<P.length;j++)Du(q=P[j],v,k,w);else for(var M in v){var H,q,M=/^idb\:\/\/(.*)\/(.*)\//.exec(M);M&&(H=M[1],M=M[2],q=Eo["idb://".concat(H,"/").concat(M)])&&Du(q,v,k,w)}k.forEach(function(ae){return ae()})}function Du(v,w,k,j){for(var P=[],M=0,H=Object.entries(v.queries.query);M<H.length;M++){for(var q=H[M],ae=q[0],pe=[],ie=0,ne=q[1];ie<ne.length;ie++){var le=ne[ie];If(w,le.obsSet)?le.subscribers.forEach(function(ve){return k.add(ve)}):j&&pe.push(le)}j&&P.push([ae,pe])}if(j)for(var ce=0,oe=P;ce<oe.length;ce++){var se=oe[ce],ae=se[0],pe=se[1];v.queries.query[ae]=pe}}function V1(v){var w=v._state,k=v._deps.indexedDB;if(w.isBeingOpened||v.idbdb)return w.dbReadyPromise.then(function(){return w.dbOpenError?gt(w.dbOpenError):v});w.isBeingOpened=!0,w.dbOpenError=null,w.openComplete=!1;var j=w.openCanceller,P=Math.round(10*v.verno),M=!1;function H(){if(w.openCanceller!==j)throw new De.DatabaseClosed("db.open() was cancelled")}function q(){return new We(function(le,ce){if(H(),!k)throw new De.MissingAPI;var oe=v.name,se=w.autoSchema||!P?k.open(oe):k.open(oe,P);if(!se)throw new De.MissingAPI;se.onerror=kr(ce),se.onblocked=K(v._fireOnBlocked),se.onupgradeneeded=K(function(ve){var xe;ie=se.transaction,w.autoSchema&&!v._options.allowEmptyDB?(se.onerror=ic,ie.abort(),se.result.close(),(xe=k.deleteDatabase(oe)).onsuccess=xe.onerror=K(function(){ce(new De.NoSuchDatabase("Database ".concat(oe," doesnt exist")))})):(ie.onerror=kr(ce),xe=ve.oldVersion>Math.pow(2,62)?0:ve.oldVersion,ne=xe<1,v.idbdb=se.result,M&&dm(v,ie),Ru(v,xe/10,ie,ce))},ce),se.onsuccess=K(function(){ie=null;var ve,xe,me,Ee,Re,ze,He=v.idbdb=se.result,Oe=I(He.objectStoreNames);if(0<Oe.length)try{var Ke=He.transaction((Re=Oe).length===1?Re[0]:Re,"readonly");if(w.autoSchema)ze=He,Ee=Ke,(me=v).verno=ze.version/10,Ee=me._dbSchema=Hs(0,ze,Ee),me._storeNames=I(ze.objectStoreNames,0),ac(me,[me._allTables],o(Ee),Ee);else if(Wa(v,v._dbSchema,Ke),xe=Ke,((xe=Ua(Hs(0,(ve=v).idbdb,xe),ve._dbSchema)).add.length||xe.change.some(function(Qe){return Qe.add.length||Qe.change.length}))&&!M)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),He.close(),P=He.version+1,M=!0,le(q());za(v,Ke)}catch{}Cr.push(v),He.onversionchange=K(function(Qe){w.vcFired=!0,v.on("versionchange").fire(Qe)}),He.onclose=K(function(){v.close({disableAutoOpen:!1})}),ne&&(Oe=v._deps,Re=oe,Go(ze=Oe.indexedDB)||Re===Dr||lc(ze,Oe.IDBKeyRange).put({name:Re}).catch(dt)),le()},ce)}).catch(function(le){switch(le?.name){case"UnknownError":if(0<w.PR1398_maxLoop)return w.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),q();break;case"VersionError":if(0<P)return P=0,q()}return We.reject(le)})}var ae,pe=w.dbReadyResolve,ie=null,ne=!1;return We.race([j,(typeof navigator>"u"?We.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(le){function ce(){return indexedDB.databases().finally(le)}ae=setInterval(ce,100),ce()}).finally(function(){return clearInterval(ae)}):Promise.resolve()).then(q)]).then(function(){return H(),w.onReadyBeingFired=[],We.resolve(qa(function(){return v.on.ready.fire(v.vip)})).then(function le(){var ce;if(0<w.onReadyBeingFired.length)return ce=w.onReadyBeingFired.reduce(Tt,dt),w.onReadyBeingFired=[],We.resolve(qa(function(){return ce(v.vip)})).then(le)})}).finally(function(){w.openCanceller===j&&(w.onReadyBeingFired=null,w.isBeingOpened=!1)}).catch(function(le){w.dbOpenError=le;try{ie&&ie.abort()}catch{}return j===w.openCanceller&&v._close(),gt(le)}).finally(function(){w.openComplete=!0,pe()}).then(function(){var le;return ne&&(le={},v.tables.forEach(function(ce){ce.schema.indexes.forEach(function(oe){oe.name&&(le["idb://".concat(v.name,"/").concat(ce.name,"/").concat(oe.name)]=new Br(-1/0,[[[]]]))}),le["idb://".concat(v.name,"/").concat(ce.name,"/")]=le["idb://".concat(v.name,"/").concat(ce.name,"/:dels")]=new Br(-1/0,[[[]]])}),wo($a).fire(le),Of(le,!0)),v})}function Pf(v){function w(M){return v.next(M)}var k=P(w),j=P(function(M){return v.throw(M)});function P(M){return function(q){var q=M(q),ae=q.value;return q.done?ae:ae&&typeof ae.then=="function"?ae.then(k,j):a(ae)?Promise.all(ae).then(k,j):k(ae)}}return P(w)()}function Lu(v,w,k){for(var j=a(v)?v.slice():[v],P=0;P<k;++P)j.push(w);return j}var pm={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(v){return r(r({},v),{table:function(j){var k=v.table(j),j=k.schema,P={},M=[];function H(le,ce,oe){var me=oc(le),se=P[me]=P[me]||[],ve=le==null?0:typeof le=="string"?1:le.length,xe=0<ce,me=r(r({},oe),{name:xe?"".concat(me,"(virtual-from:").concat(oe.name,")"):oe.name,lowLevelIndex:oe,isVirtual:xe,keyTail:ce,keyLength:ve,extractKey:_o(le),unique:!xe&&oe.unique});return se.push(me),me.isPrimaryKey||M.push(me),1<ve&&H(ve===2?le[0]:le.slice(0,ve-1),ce+1,oe),se.sort(function(Ee,Re){return Ee.keyTail-Re.keyTail}),me}var q=H(j.primaryKey.keyPath,0,j.primaryKey);P[":id"]=[q];for(var ae=0,pe=j.indexes;ae<pe.length;ae++){var ie=pe[ae];H(ie.keyPath,0,ie)}function ne(le){var ce,oe=le.query.index;return oe.isVirtual?r(r({},le),{query:{index:oe.lowLevelIndex,range:(ce=le.query.range,oe=oe.keyTail,{type:ce.type===1?2:ce.type,lower:Lu(ce.lower,ce.lowerOpen?v.MAX_KEY:v.MIN_KEY,oe),lowerOpen:!0,upper:Lu(ce.upper,ce.upperOpen?v.MIN_KEY:v.MAX_KEY,oe),upperOpen:!0})}}):le}return r(r({},k),{schema:r(r({},j),{primaryKey:q,indexes:M,getIndexByKeyPath:function(le){return(le=P[oc(le)])&&le[0]}}),count:function(le){return k.count(ne(le))},query:function(le){return k.query(ne(le))},openCursor:function(le){var ce=le.query.index,oe=ce.keyTail,se=ce.keyLength;return ce.isVirtual?k.openCursor(ne(le)).then(function(xe){return xe&&ve(xe)}):k.openCursor(le);function ve(xe){return Object.create(xe,{continue:{value:function(me){me!=null?xe.continue(Lu(me,le.reverse?v.MAX_KEY:v.MIN_KEY,oe)):le.unique?xe.continue(xe.key.slice(0,se).concat(le.reverse?v.MIN_KEY:v.MAX_KEY,oe)):xe.continue()}},continuePrimaryKey:{value:function(me,Ee){xe.continuePrimaryKey(Lu(me,v.MAX_KEY,oe),Ee)}},primaryKey:{get:function(){return xe.primaryKey}},key:{get:function(){var me=xe.key;return se===1?me[0]:me.slice(0,se)}},value:{get:function(){return xe.value}}})}}})}})}};function Af(v,w,k,j){return k=k||{},j=j||"",o(v).forEach(function(P){var M,H,q;p(w,P)?(M=v[P],H=w[P],typeof M=="object"&&typeof H=="object"&&M&&H?(q=W(M))!==W(H)?k[j+P]=w[P]:q==="Object"?Af(M,H,k,j+P+"."):M!==H&&(k[j+P]=w[P]):M!==H&&(k[j+P]=w[P])):k[j+P]=void 0}),o(w).forEach(function(P){p(v,P)||(k[j+P]=w[P])}),k}function Mf(v,w){return w.type==="delete"?w.keys:w.keys||w.values.map(v.extractKey)}var q1={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(v){return r(r({},v),{table:function(w){var k=v.table(w),j=k.schema.primaryKey;return r(r({},k),{mutate:function(P){var M=qe.trans,H=M.table(w).hook,q=H.deleting,ae=H.creating,pe=H.updating;switch(P.type){case"add":if(ae.fire===dt)break;return M._promise("readwrite",function(){return ie(P)},!0);case"put":if(ae.fire===dt&&pe.fire===dt)break;return M._promise("readwrite",function(){return ie(P)},!0);case"delete":if(q.fire===dt)break;return M._promise("readwrite",function(){return ie(P)},!0);case"deleteRange":if(q.fire===dt)break;return M._promise("readwrite",function(){return(function ne(le,ce,oe){return k.query({trans:le,values:!1,query:{index:j,range:ce},limit:oe}).then(function(se){var ve=se.result;return ie({type:"delete",keys:ve,trans:le}).then(function(xe){return 0<xe.numFailures?Promise.reject(xe.failures[0]):ve.length<oe?{failures:[],numFailures:0,lastResult:void 0}:ne(le,r(r({},ce),{lower:ve[ve.length-1],lowerOpen:!0}),oe)})})})(P.trans,P.range,1e4)},!0)}return k.mutate(P);function ie(ne){var le,ce,oe,se=qe.trans,ve=ne.keys||Mf(j,ne);if(ve)return(ne=ne.type==="add"||ne.type==="put"?r(r({},ne),{keys:ve}):r({},ne)).type!=="delete"&&(ne.values=i([],ne.values)),ne.keys&&(ne.keys=i([],ne.keys)),le=k,oe=ve,((ce=ne).type==="add"?Promise.resolve([]):le.getMany({trans:ce.trans,keys:oe,cache:"immutable"})).then(function(xe){var me=ve.map(function(Ee,Re){var ze,He,Oe,Ke=xe[Re],Qe={onerror:null,onsuccess:null};return ne.type==="delete"?q.fire.call(Qe,Ee,Ke,se):ne.type==="add"||Ke===void 0?(ze=ae.fire.call(Qe,Ee,ne.values[Re],se),Ee==null&&ze!=null&&(ne.keys[Re]=Ee=ze,j.outbound||N(ne.values[Re],j.keyPath,Ee))):(ze=Af(Ke,ne.values[Re]),(He=pe.fire.call(Qe,ze,Ee,Ke,se))&&(Oe=ne.values[Re],Object.keys(He).forEach(function(Fe){p(Oe,Fe)?Oe[Fe]=He[Fe]:N(Oe,Fe,He[Fe])}))),Qe});return k.mutate(ne).then(function(Ee){for(var Re=Ee.failures,ze=Ee.results,He=Ee.numFailures,Ee=Ee.lastResult,Oe=0;Oe<ve.length;++Oe){var Ke=(ze||ve)[Oe],Qe=me[Oe];Ke==null?Qe.onerror&&Qe.onerror(Re[Oe]):Qe.onsuccess&&Qe.onsuccess(ne.type==="put"&&xe[Oe]?ne.values[Oe]:Ke)}return{failures:Re,results:ze,numFailures:He,lastResult:Ee}}).catch(function(Ee){return me.forEach(function(Re){return Re.onerror&&Re.onerror(Ee)}),Promise.reject(Ee)})});throw new Error("Keys missing")}}})}})}};function mm(v,w,k){try{if(!w||w.keys.length<v.length)return null;for(var j=[],P=0,M=0;P<w.keys.length&&M<v.length;++P)it(w.keys[P],v[M])===0&&(j.push(k?he(w.values[P]):w.values[P]),++M);return j.length===v.length?j:null}catch{return null}}var Q1={stack:"dbcore",level:-1,create:function(v){return{table:function(w){var k=v.table(w);return r(r({},k),{getMany:function(j){var P;return j.cache?(P=mm(j.keys,j.trans._cache,j.cache==="clone"))?We.resolve(P):k.getMany(j).then(function(M){return j.trans._cache={keys:j.keys,values:j.cache==="clone"?he(M):M},M}):k.getMany(j)},mutate:function(j){return j.type!=="add"&&(j.trans._cache=null),k.mutate(j)}})}}}};function gm(v,w){return v.trans.mode==="readonly"&&!!v.subscr&&!v.trans.explicit&&v.trans.db._options.cache!=="disabled"&&!w.schema.primaryKey.outbound}function ym(v,w){switch(v){case"query":return w.values&&!w.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var Df={stack:"dbcore",level:0,name:"Observability",create:function(v){var w=v.schema.name,k=new Br(v.MIN_KEY,v.MAX_KEY);return r(r({},v),{transaction:function(j,P,M){if(qe.subscr&&P!=="readonly")throw new De.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(qe.querier));return v.transaction(j,P,M)},table:function(j){function P(ve){var se,ve=ve.query;return[se=ve.index,new Br((se=(ve=ve.range).lower)!=null?se:v.MIN_KEY,(se=ve.upper)!=null?se:v.MAX_KEY)]}var M=v.table(j),H=M.schema,q=H.primaryKey,ae=H.indexes,pe=q.extractKey,ie=q.outbound,ne=q.autoIncrement&&ae.filter(function(oe){return oe.compound&&oe.keyPath.includes(q.keyPath)}),le=r(r({},M),{mutate:function(oe){function se(Ye){return Ye="idb://".concat(w,"/").concat(j,"/").concat(Ye),Re[Ye]||(Re[Ye]=new Br)}var ve,xe,me,Ee=oe.trans,Re=oe.mutatedParts||(oe.mutatedParts={}),ze=se(""),He=se(":dels"),Oe=oe.type,Qe=oe.type==="deleteRange"?[oe.range]:oe.type==="delete"?[oe.keys]:oe.values.length<50?[Mf(q,oe).filter(function(Ye){return Ye}),oe.values]:[],Ke=Qe[0],Qe=Qe[1],Fe=oe.trans._cache;return a(Ke)?(ze.addKeys(Ke),(Oe=Oe==="delete"||Ke.length===Qe.length?mm(Ke,Fe):null)||He.addKeys(Ke),(Oe||Qe)&&(ve=se,xe=Oe,me=Qe,H.indexes.forEach(function(Ye){var Yt=ve(Ye.name||"");function sn(Dt){return Dt!=null?Ye.extractKey(Dt):null}function ht(Dt){Ye.multiEntry&&a(Dt)?Dt.forEach(function(kn){return Yt.addKey(kn)}):Yt.addKey(Dt)}(xe||me).forEach(function(Dt,yn){var xi=xe&&sn(xe[yn]),yn=me&&sn(me[yn]);it(xi,yn)!==0&&(xi!=null&&ht(xi),yn!=null)&&ht(yn)})}))):Ke?(Qe={from:(Fe=Ke.lower)!=null?Fe:v.MIN_KEY,to:(Oe=Ke.upper)!=null?Oe:v.MAX_KEY},He.add(Qe),ze.add(Qe)):(ze.add(k),He.add(k),H.indexes.forEach(function(Ye){return se(Ye.name).add(k)})),M.mutate(oe).then(function(Ye){return!Ke||oe.type!=="add"&&oe.type!=="put"||(ze.addKeys(Ye.results),ne&&ne.forEach(function(Yt){for(var sn=oe.values.map(function(xi){return Yt.extractKey(xi)}),ht=Yt.keyPath.findIndex(function(xi){return xi===q.keyPath}),Dt=0,kn=Ye.results.length;Dt<kn;++Dt)sn[Dt][ht]=Ye.results[Dt];se(Yt.name).addKeys(sn)})),Ee.mutatedParts=Au(Ee.mutatedParts||{},Re),Ye})}}),ce={get:function(oe){return[q,new Br(oe.key)]},getMany:function(oe){return[q,new Br().addKeys(oe.keys)]},count:P,query:P,openCursor:P};return o(ce).forEach(function(oe){le[oe]=function(se){var ve=qe.subscr,xe=!!ve,me=gm(qe,M)&&ym(oe,se)?se.obsSet={}:ve;if(xe){var Ee,ve=function(Qe){return Qe="idb://".concat(w,"/").concat(j,"/").concat(Qe),me[Qe]||(me[Qe]=new Br)},Re=ve(""),ze=ve(":dels"),xe=ce[oe](se),He=xe[0],xe=xe[1];if((oe==="query"&&He.isPrimaryKey&&!se.values?ze:ve(He.name||"")).add(xe),!He.isPrimaryKey){if(oe!=="count")return Ee=oe==="query"&&ie&&se.values&&M.query(r(r({},se),{values:!1})),M[oe].apply(this,arguments).then(function(Qe){if(oe==="query"){if(ie&&se.values)return Ee.then(function(sn){return sn=sn.result,Re.addKeys(sn),Qe});var Fe=se.values?Qe.result.map(pe):Qe.result;(se.values?Re:ze).addKeys(Fe)}else{var Ye,Yt;if(oe==="openCursor")return Yt=se.values,(Ye=Qe)&&Object.create(Ye,{key:{get:function(){return ze.addKey(Ye.primaryKey),Ye.key}},primaryKey:{get:function(){var sn=Ye.primaryKey;return ze.addKey(sn),sn}},value:{get:function(){return Yt&&Re.addKey(Ye.primaryKey),Ye.value}}})}return Qe});ze.add(k)}}return M[oe].apply(this,arguments)}}),le}})}};function Qa(v,w,k){var j;return k.numFailures===0?w:w.type==="deleteRange"||(j=w.keys?w.keys.length:"values"in w&&w.values?w.values.length:1,k.numFailures===j)?null:(j=r({},w),a(j.keys)&&(j.keys=j.keys.filter(function(P,M){return!(M in k.failures)})),"values"in j&&a(j.values)&&(j.values=j.values.filter(function(P,M){return!(M in k.failures)})),j)}function Lf(v,w){return k=v,((j=w).lower===void 0||(j.lowerOpen?0<it(k,j.lower):0<=it(k,j.lower)))&&(k=v,(j=w).upper===void 0||(j.upperOpen?it(k,j.upper)<0:it(k,j.upper)<=0));var k,j}function Ff(v,w,k,j,P,M){var H,q,ae,pe,ie,ne;return!k||k.length===0||(H=w.query.index,q=H.multiEntry,ae=w.query.range,pe=j.schema.primaryKey.extractKey,ie=H.extractKey,ne=(H.lowLevelIndex||H).extractKey,(j=k.reduce(function(le,ce){var oe=le,se=[];if(ce.type==="add"||ce.type==="put")for(var ve=new Br,xe=ce.values.length-1;0<=xe;--xe){var me,Ee=ce.values[xe],Re=pe(Ee);!ve.hasKey(Re)&&(me=ie(Ee),q&&a(me)?me.some(function(Qe){return Lf(Qe,ae)}):Lf(me,ae))&&(ve.addKey(Re),se.push(Ee))}switch(ce.type){case"add":var ze=new Br().addKeys(w.values?le.map(function(Fe){return pe(Fe)}):le),oe=le.concat(w.values?se.filter(function(Fe){return Fe=pe(Fe),!ze.hasKey(Fe)&&(ze.addKey(Fe),!0)}):se.map(function(Fe){return pe(Fe)}).filter(function(Fe){return!ze.hasKey(Fe)&&(ze.addKey(Fe),!0)}));break;case"put":var He=new Br().addKeys(ce.values.map(function(Fe){return pe(Fe)}));oe=le.filter(function(Fe){return!He.hasKey(w.values?pe(Fe):Fe)}).concat(w.values?se:se.map(function(Fe){return pe(Fe)}));break;case"delete":var Oe=new Br().addKeys(ce.keys);oe=le.filter(function(Fe){return!Oe.hasKey(w.values?pe(Fe):Fe)});break;case"deleteRange":var Ke=ce.range;oe=le.filter(function(Fe){return!Lf(pe(Fe),Ke)})}return oe},v))===v)?v:(j.sort(function(le,ce){return it(ne(le),ne(ce))||it(pe(le),pe(ce))}),w.limit&&w.limit<1/0&&(j.length>w.limit?j.length=w.limit:v.length===w.limit&&j.length<w.limit&&(P.dirty=!0)),M?Object.freeze(j):j)}function Bf(v,w){return it(v.lower,w.lower)===0&&it(v.upper,w.upper)===0&&!!v.lowerOpen==!!w.lowerOpen&&!!v.upperOpen==!!w.upperOpen}function vm(v,w){return((k,j,P,M)=>{if(k===void 0)return j!==void 0?-1:0;if(j===void 0)return 1;if((k=it(k,j))===0){if(P&&M)return 0;if(P)return 1;if(M)return-1}return k})(v.lower,w.lower,v.lowerOpen,w.lowerOpen)<=0&&0<=((k,j,P,M)=>{if(k===void 0)return j!==void 0?1:0;if(j===void 0)return-1;if((k=it(k,j))===0){if(P&&M)return 0;if(P)return-1;if(M)return 1}return k})(v.upper,w.upper,v.upperOpen,w.upperOpen)}function bm(v,w,k,j){v.subscribers.add(k),j.addEventListener("abort",function(){var P,M;v.subscribers.delete(k),v.subscribers.size===0&&(P=v,M=w,setTimeout(function(){P.subscribers.size===0&&X(M,P)},3e3))})}var xm={stack:"dbcore",level:0,name:"Cache",create:function(v){var w=v.schema.name;return r(r({},v),{transaction:function(k,j,P){var M,H,q=v.transaction(k,j,P);return j==="readwrite"&&(P=(M=new AbortController).signal,q.addEventListener("abort",(H=function(ae){return function(){if(M.abort(),j==="readwrite"){for(var pe=new Set,ie=0,ne=k;ie<ne.length;ie++){var le=ne[ie],ce=Eo["idb://".concat(w,"/").concat(le)];if(ce){var oe=v.table(le),se=ce.optimisticOps.filter(function(Ye){return Ye.trans===q});if(q._explicit&&ae&&q.mutatedParts)for(var ve=0,xe=Object.values(ce.queries.query);ve<xe.length;ve++)for(var me=0,Ee=(He=xe[ve]).slice();me<Ee.length;me++)If((Oe=Ee[me]).obsSet,q.mutatedParts)&&(X(He,Oe),Oe.subscribers.forEach(function(Ye){return pe.add(Ye)}));else if(0<se.length){ce.optimisticOps=ce.optimisticOps.filter(function(Ye){return Ye.trans!==q});for(var Re=0,ze=Object.values(ce.queries.query);Re<ze.length;Re++)for(var He,Oe,Ke,Qe=0,Fe=(He=ze[Re]).slice();Qe<Fe.length;Qe++)(Oe=Fe[Qe]).res!=null&&q.mutatedParts&&(ae&&!Oe.dirty?(Ke=Object.isFrozen(Oe.res),Ke=Ff(Oe.res,Oe.req,se,oe,Oe,Ke),Oe.dirty?(X(He,Oe),Oe.subscribers.forEach(function(Ye){return pe.add(Ye)})):Ke!==Oe.res&&(Oe.res=Ke,Oe.promise=We.resolve({result:Ke}))):(Oe.dirty&&X(He,Oe),Oe.subscribers.forEach(function(Ye){return pe.add(Ye)})))}}}pe.forEach(function(Ye){return Ye()})}}})(!1),{signal:P}),q.addEventListener("error",H(!1),{signal:P}),q.addEventListener("complete",H(!0),{signal:P})),q},table:function(k){var j=v.table(k),P=j.schema.primaryKey;return r(r({},j),{mutate:function(M){var H,q=qe.trans;return!P.outbound&&q.db._options.cache!=="disabled"&&!q.explicit&&q.idbtrans.mode==="readwrite"&&(H=Eo["idb://".concat(w,"/").concat(k)])?(q=j.mutate(M),M.type!=="add"&&M.type!=="put"||!(50<=M.values.length||Mf(P,M).some(function(ae){return ae==null}))?(H.optimisticOps.push(M),M.mutatedParts&&Mu(M.mutatedParts),q.then(function(ae){0<ae.numFailures&&(X(H.optimisticOps,M),(ae=Qa(0,M,ae))&&H.optimisticOps.push(ae),M.mutatedParts)&&Mu(M.mutatedParts)}),q.catch(function(){X(H.optimisticOps,M),M.mutatedParts&&Mu(M.mutatedParts)})):q.then(function(ae){var pe=Qa(0,r(r({},M),{values:M.values.map(function(ie,ne){var le;return ae.failures[ne]?ie:(N(le=(le=P.keyPath)!=null&&le.includes(".")?he(ie):r({},ie),P.keyPath,ae.results[ne]),le)})}),ae);H.optimisticOps.push(pe),queueMicrotask(function(){return M.mutatedParts&&Mu(M.mutatedParts)})}),q):j.mutate(M)},query:function(M){var H,q,ae,pe,ie,ne,le;return gm(qe,j)&&ym("query",M)?(H=((ae=qe.trans)==null?void 0:ae.db._options.cache)==="immutable",q=(ae=qe).requery,ae=ae.signal,ne=((ce,oe,se,ve)=>{var xe=Eo["idb://".concat(ce,"/").concat(oe)];if(!xe)return[];if(!(ce=xe.queries[se]))return[null,!1,xe,null];var me=ce[(ve.query?ve.query.index.name:null)||""];if(!me)return[null,!1,xe,null];switch(se){case"query":var Ee=me.find(function(Re){return Re.req.limit===ve.limit&&Re.req.values===ve.values&&Bf(Re.req.query.range,ve.query.range)});return Ee?[Ee,!0,xe,me]:[me.find(function(Re){return("limit"in Re.req?Re.req.limit:1/0)>=ve.limit&&(!ve.values||Re.req.values)&&vm(Re.req.query.range,ve.query.range)}),!1,xe,me];case"count":return Ee=me.find(function(Re){return Bf(Re.req.query.range,ve.query.range)}),[Ee,!!Ee,xe,me]}})(w,k,"query",M),le=ne[0],pe=ne[2],ie=ne[3],le&&ne[1]?le.obsSet=M.obsSet:(ne=j.query(M).then(function(ce){var oe=ce.result;if(le&&(le.res=oe),H){for(var se=0,ve=oe.length;se<ve;++se)Object.freeze(oe[se]);Object.freeze(oe)}else ce.result=he(oe);return ce}).catch(function(ce){return ie&&le&&X(ie,le),Promise.reject(ce)}),le={obsSet:M.obsSet,promise:ne,subscribers:new Set,type:"query",req:M,dirty:!1},ie?ie.push(le):(ie=[le],(pe=pe||(Eo["idb://".concat(w,"/").concat(k)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[M.query.index.name||""]=ie)),bm(le,ie,q,ae),le.promise.then(function(ce){return{result:Ff(ce.result,M,pe?.optimisticOps,j,le,H)}})):j.query(M)}})}})}};function Ws(v,w){return new Proxy(v,{get:function(k,j,P){return j==="db"?w:Reflect.get(k,j,P)}})}Kn.prototype.version=function(v){if(isNaN(v)||v<.1)throw new De.Type("Given version is not a positive number");if(v=Math.round(10*v)/10,this.idbdb||this._state.isBeingOpened)throw new De.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,v);var w=this._versions,k=w.filter(function(j){return j._cfg.version===v})[0];return k||(k=new this.Version(v),w.push(k),w.sort(Tf),k.stores({}),this._state.autoSchema=!1),k},Kn.prototype._whenReady=function(v){var w=this;return this.idbdb&&(this._state.openComplete||qe.letThrough||this._vip)?v():new We(function(k,j){if(w._state.openComplete)return j(new De.DatabaseClosed(w._state.dbOpenError));if(!w._state.isBeingOpened){if(!w._state.autoOpen)return void j(new De.DatabaseClosed);w.open().catch(dt)}w._state.dbReadyPromise.then(k,j)}).then(v)},Kn.prototype.use=function(P){var w=P.stack,k=P.create,j=P.level,P=P.name,M=(P&&this.unuse({stack:w,name:P}),this._middlewares[w]||(this._middlewares[w]=[]));return M.push({stack:w,create:k,level:j??10,name:P}),M.sort(function(H,q){return H.level-q.level}),this},Kn.prototype.unuse=function(v){var w=v.stack,k=v.name,j=v.create;return w&&this._middlewares[w]&&(this._middlewares[w]=this._middlewares[w].filter(function(P){return j?P.create!==j:!!k&&P.name!==k})),this},Kn.prototype.open=function(){var v=this;return Sn(Sr,function(){return V1(v)})},Kn.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var v=this._state,w=Cr.indexOf(this);if(0<=w&&Cr.splice(w,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}v.isBeingOpened||(v.dbReadyPromise=new We(function(k){v.dbReadyResolve=k}),v.openCanceller=new We(function(k,j){v.cancelOpen=j}))},Kn.prototype.close=function(w){var w=(w===void 0?{disableAutoOpen:!0}:w).disableAutoOpen,k=this._state;w?(k.isBeingOpened&&k.cancelOpen(new De.DatabaseClosed),this._close(),k.autoOpen=!1,k.dbOpenError=new De.DatabaseClosed):(this._close(),k.autoOpen=this._options.autoOpen||k.isBeingOpened,k.openComplete=!1,k.dbOpenError=null)},Kn.prototype.delete=function(v){var w=this,k=(v===void 0&&(v={disableAutoOpen:!0}),0<arguments.length&&typeof arguments[0]!="object"),j=this._state;return new We(function(P,M){function H(){w.close(v);var q=w._deps.indexedDB.deleteDatabase(w.name);q.onsuccess=K(function(){var ae,pe,ie;ae=w._deps,pe=w.name,Go(ie=ae.indexedDB)||pe===Dr||lc(ie,ae.IDBKeyRange).delete(pe).catch(dt),P()}),q.onerror=kr(M),q.onblocked=w._fireOnBlocked}if(k)throw new De.InvalidArgument("Invalid closeOptions argument to db.delete()");j.isBeingOpened?j.dbReadyPromise.then(H):H()})},Kn.prototype.backendDB=function(){return this.idbdb},Kn.prototype.isOpen=function(){return this.idbdb!==null},Kn.prototype.hasBeenClosed=function(){var v=this._state.dbOpenError;return v&&v.name==="DatabaseClosed"},Kn.prototype.hasFailed=function(){return this._state.dbOpenError!==null},Kn.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(Kn.prototype,"tables",{get:function(){var v=this;return o(this._allTables).map(function(w){return v._allTables[w]})},enumerable:!1,configurable:!0}),Kn.prototype.transaction=function(){var v=(function(w,k,j){var P=arguments.length;if(P<2)throw new De.InvalidArgument("Too few arguments");for(var M=new Array(P-1);--P;)M[P-1]=arguments[P];return j=M.pop(),[w,L(M),j]}).apply(this,arguments);return this._transaction.apply(this,v)},Kn.prototype._transaction=function(v,w,k){var j,P,M=this,H=qe.trans,q=(H&&H.db===this&&v.indexOf("!")===-1||(H=null),v.indexOf("?")!==-1);v=v.replace("!","").replace("?","");try{if(P=w.map(function(pe){if(pe=pe instanceof M.Table?pe.name:pe,typeof pe!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return pe}),v=="r"||v===ms)j=ms;else{if(v!="rw"&&v!=Fs)throw new De.InvalidArgument("Invalid transaction mode: "+v);j=Fs}if(H){if(H.mode===ms&&j===Fs){if(!q)throw new De.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");H=null}H&&P.forEach(function(pe){if(H&&H.storeNames.indexOf(pe)===-1){if(!q)throw new De.SubTransaction("Table "+pe+" not included in parent transaction.");H=null}}),q&&H&&!H.active&&(H=null)}}catch(pe){return H?H._promise(null,function(ie,ne){ne(pe)}):gt(pe)}var ae=(function pe(ie,ne,le,ce,oe){return We.resolve().then(function(){var me=qe.transless||qe,se=ie._createTransaction(ne,le,ie._dbSchema,ce),me=(se.explicit=!0,{trans:se,transless:me});if(ce)se.idbtrans=ce.idbtrans;else try{se.create(),se.idbtrans._explicit=!0,ie._state.PR1398_maxLoop=3}catch(Ee){return Ee.name===Ue.InvalidState&&ie.isOpen()&&0<--ie._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),ie.close({disableAutoOpen:!1}),ie.open().then(function(){return pe(ie,ne,le,null,oe)})):gt(Ee)}var ve,xe=ee(oe),me=(xe&&rt(),We.follow(function(){var Ee;(ve=oe.call(se,se))&&(xe?(Ee=Xe.bind(null,null),ve.then(Ee,Ee)):typeof ve.next=="function"&&typeof ve.throw=="function"&&(ve=Pf(ve)))},me));return(ve&&typeof ve.then=="function"?We.resolve(ve).then(function(Ee){return se.active?Ee:gt(new De.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):me.then(function(){return ve})).then(function(Ee){return ce&&se._resolve(),se._completion.then(function(){return Ee})}).catch(function(Ee){return se._reject(Ee),gt(Ee)})})}).bind(null,this,j,P,H,k);return H?H._promise(j,ae,"lock"):qe.trans?Sn(qe.transless,function(){return M._whenReady(ae)}):this._whenReady(ae)},Kn.prototype.table=function(v){if(p(this._allTables,v))return this._allTables[v];throw new De.InvalidTable("Table ".concat(v," does not exist"))};var Vs=Kn;function Kn(v,w){var k,j,P,M,H,q=this,ae=(this._middlewares={},this.verno=0,Kn.dependencies),ae=(this._options=w=r({addons:Kn.addons,autoOpen:!0,indexedDB:ae.indexedDB,IDBKeyRange:ae.IDBKeyRange,cache:"cloned"},w),this._deps={indexedDB:w.indexedDB,IDBKeyRange:w.IDBKeyRange},w.addons),pe=(this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this,{dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:dt,dbReadyPromise:null,cancelOpen:dt,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:w.autoOpen}),ie=(pe.dbReadyPromise=new We(function(ne){pe.dbReadyResolve=ne}),pe.openCanceller=new We(function(ne,le){pe.cancelOpen=le}),this._state=pe,this.name=v,this.on=nc(this,"populate","blocked","versionchange","close",{ready:[Tt,dt]}),this.once=function(ne,le){var ce=function(){for(var oe=[],se=0;se<arguments.length;se++)oe[se]=arguments[se];q.on(ne).unsubscribe(ce),le.apply(q,oe)};return q.on(ne,ce)},this.on.ready.subscribe=A(this.on.ready.subscribe,function(ne){return function(le,ce){Kn.vip(function(){var oe,se=q._state;se.openComplete?(se.dbOpenError||We.resolve().then(le),ce&&ne(le)):se.onReadyBeingFired?(se.onReadyBeingFired.push(le),ce&&ne(le)):(ne(le),oe=q,ce||ne(function ve(){oe.on.ready.unsubscribe(le),oe.on.ready.unsubscribe(ve)}))})}}),this.Collection=(k=this,Wo(om.prototype,function(ve,se){this.db=k;var ce=gs,oe=null;if(se)try{ce=se()}catch(me){oe=me}var se=ve._ctx,ve=se.table,xe=ve.hook.reading.fire;this._ctx={table:ve,index:se.index,isPrimKey:!se.index||ve.schema.primKey.keyPath&&se.index===ve.schema.primKey.name,range:ce,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:oe,or:se.or,valueMapper:xe!==gn?xe:null}})),this.Table=(j=this,Wo(tc.prototype,function(ne,le,ce){this.db=j,this._tx=ce,this.name=ne,this.schema=le,this.hook=j._allTables[ne]?j._allTables[ne].hook:nc(null,{creating:[wr,dt],reading:[_n,gn],updating:[Gi,dt],deleting:[Ri,dt]})})),this.Transaction=(P=this,Wo(cm.prototype,function(ne,le,ce,oe,se){var ve=this;ne!=="readonly"&&le.forEach(function(xe){xe=(xe=ce[xe])==null?void 0:xe.yProps,xe&&(le=le.concat(xe.map(function(me){return me.updatesTable})))}),this.db=P,this.mode=ne,this.storeNames=le,this.schema=ce,this.chromeTransactionDurability=oe,this.idbtrans=null,this.on=nc(this,"complete","error","abort"),this.parent=se||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new We(function(xe,me){ve._resolve=xe,ve._reject=me}),this._completion.then(function(){ve.active=!1,ve.on.complete.fire()},function(xe){var me=ve.active;return ve.active=!1,ve.on.error.fire(xe),ve.parent?ve.parent._reject(xe):me&&ve.idbtrans&&ve.idbtrans.abort(),gt(xe)})})),this.Version=(M=this,Wo(W1.prototype,function(ne){this.db=M,this._cfg={version:ne,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(H=this,Wo(Ba.prototype,function(ne,le,ce){if(this.db=H,this._ctx={table:ne,index:le===":id"?null:le,or:ce},this._cmp=this._ascending=it,this._descending=function(oe,se){return it(se,oe)},this._max=function(oe,se){return 0<it(oe,se)?oe:se},this._min=function(oe,se){return it(oe,se)<0?oe:se},this._IDBKeyRange=H._deps.IDBKeyRange,!this._IDBKeyRange)throw new De.MissingAPI})),this.on("versionchange",function(ne){0<ne.newVersion?console.warn("Another connection wants to upgrade database '".concat(q.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(q.name,"'. Closing db now to resume the delete request.")),q.close({disableAutoOpen:!1})}),this.on("blocked",function(ne){!ne.newVersion||ne.newVersion<ne.oldVersion?console.warn("Dexie.delete('".concat(q.name,"') was blocked")):console.warn("Upgrade '".concat(q.name,"' blocked by other connection holding version ").concat(ne.oldVersion/10))}),this._maxKey=Us(w.IDBKeyRange),this._createTransaction=function(ne,le,ce,oe){return new q.Transaction(ne,le,ce,q._options.chromeTransactionDurability,oe)},this._fireOnBlocked=function(ne){q.on("blocked").fire(ne),Cr.filter(function(le){return le.name===q.name&&le!==q&&!le._state.vcFired}).map(function(le){return le.on("versionchange").fire(ne)})},this.use(Q1),this.use(xm),this.use(Df),this.use(pm),this.use(q1),new Proxy(this,{get:function(ne,le,ce){var oe;return le==="_vip"||(le==="table"?function(se){return Ws(q.table(se),ie)}:(oe=Reflect.get(ne,le,ce))instanceof tc?Ws(oe,ie):le==="tables"?oe.map(function(se){return Ws(se,ie)}):le==="_createTransaction"?function(){return Ws(oe.apply(this,arguments),ie)}:oe)}}));this.vip=ie,ae.forEach(function(ne){return ne(q)})}var Fu,Yo=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",wm=(Jo.prototype.subscribe=function(v,w,k){return this._subscribe(v&&typeof v!="function"?v:{next:v,error:w,complete:k})},Jo.prototype[Yo]=function(){return this},Jo);function Jo(v){this._subscribe=v}try{Fu={indexedDB:s.indexedDB||s.mozIndexedDB||s.webkitIndexedDB||s.msIndexedDB,IDBKeyRange:s.IDBKeyRange||s.webkitIDBKeyRange}}catch{Fu={indexedDB:null,IDBKeyRange:null}}function Ka(v){var w,k=!1,j=new wm(function(P){var M=ee(v),H,q=!1,ae={},pe={},ie={get closed(){return q},unsubscribe:function(){q||(q=!0,H&&H.abort(),ne&&wo.storagemutated.unsubscribe(ce))}},ne=(P.start&&P.start(ie),!1),le=function(){return tr(oe)},ce=function(se){Au(ae,se),If(pe,ae)&&le()},oe=function(){var se,ve,xe;!q&&Fu.indexedDB&&(ae={},se={},H&&H.abort(),H=new AbortController,xe=(me=>{var Ee=yi();try{M&&rt();var Re=Je(v,me);return Re=M?Re.finally(Xe):Re}finally{Ee&&ps()}})(ve={subscr:se,signal:H.signal,requery:le,querier:v,trans:null}),Promise.resolve(xe).then(function(me){k=!0,w=me,q||ve.signal.aborted||(ae={},(Ee=>{for(var Re in Ee)if(p(Ee,Re))return;return 1})(pe=se)||ne||(wo($a,ce),ne=!0),tr(function(){return!q&&P.next&&P.next(me)}))},function(me){k=!1,["DatabaseClosedError","AbortError"].includes(me?.name)||q||tr(function(){q||P.error&&P.error(me)})}))};return setTimeout(le,0),ie});return j.hasValue=function(){return k},j.getValue=function(){return w},j}var Xo=Vs;function Ga(v){var w=qs;try{qs=!0,wo.storagemutated.fire(v),Of(v,!0)}finally{qs=w}}g(Xo,r(r({},ge),{delete:function(v){return new Xo(v,{addons:[]}).delete()},exists:function(v){return new Xo(v,{addons:[]}).open().then(function(w){return w.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(v){try{return w=Xo.dependencies,k=w.indexedDB,w=w.IDBKeyRange,(Go(k)?Promise.resolve(k.databases()).then(function(j){return j.map(function(P){return P.name}).filter(function(P){return P!==Dr})}):lc(k,w).toCollection().primaryKeys()).then(v)}catch{return gt(new De.MissingAPI)}var w,k},defineClass:function(){return function(v){l(this,v)}},ignoreTransaction:function(v){return qe.trans?Sn(qe.transless,v):v()},vip:qa,async:function(v){return function(){try{var w=Pf(v.apply(this,arguments));return w&&typeof w.then=="function"?w:We.resolve(w)}catch(k){return gt(k)}}},spawn:function(v,w,k){try{var j=Pf(v.apply(k,w||[]));return j&&typeof j.then=="function"?j:We.resolve(j)}catch(P){return gt(P)}},currentTransaction:{get:function(){return qe.trans||null}},waitFor:function(v,w){return v=We.resolve(typeof v=="function"?Xo.ignoreTransaction(v):v).timeout(w||6e4),qe.trans?qe.trans.waitFor(v):v},Promise:We,debug:{get:function(){return un},set:function(v){jt(v)}},derive:_,extend:l,props:g,override:A,Events:nc,on:wo,liveQuery:Ka,extendObservabilitySet:Au,getByKeyPath:O,setByKeyPath:N,delByKeyPath:function(v,w){typeof w=="string"?N(v,w,void 0):"length"in w&&[].map.call(w,function(k){N(v,k,void 0)})},shallowClone:F,deepClone:he,getObjectDiff:Af,cmp:it,asap:U,minKey:-1/0,addons:[],connections:Cr,errnames:Ue,dependencies:Fu,cache:Eo,semVer:"4.3.0",version:"4.3.0".split(".").map(function(v){return parseInt(v)}).reduce(function(v,w,k){return v+w/Math.pow(10,2*k)})})),Xo.maxKey=Us(Xo.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(wo($a,function(v){qs||(v=new CustomEvent(Qo,{detail:v}),qs=!0,dispatchEvent(v),qs=!1)}),addEventListener(Qo,function(v){v=v.detail,qs||Ga(v)}));var Ya,qs=!1,Bu=function(){};return typeof BroadcastChannel<"u"&&((Bu=function(){(Ya=new BroadcastChannel(Qo)).onmessage=function(v){return v.data&&Ga(v.data)}})(),typeof Ya.unref=="function"&&Ya.unref(),wo($a,function(v){qs||Ya.postMessage(v)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(v){if(!Vs.disableBfCache&&v.persisted){un&&console.debug("Dexie: handling persisted pagehide"),Ya?.close();for(var w=0,k=Cr;w<k.length;w++)k[w].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(v){!Vs.disableBfCache&&v.persisted&&(un&&console.debug("Dexie: handling persisted pageshow"),Bu(),Ga({all:new Br(-1/0,[[]])}))})),We.rejectionMapper=function(v,w){return!v||v instanceof Te||v instanceof TypeError||v instanceof SyntaxError||!v.name||!lr[v.name]?v:(w=new lr[v.name](w||v.message,v),"stack"in v&&x(w,"stack",{get:function(){return this.inner.stack}}),w)},jt(un),r(Vs,Object.freeze({__proto__:null,Dexie:Vs,Entity:Qt,PropModification:vi,RangeSet:Br,add:function(v){return new vi({add:v})},cmp:it,default:Vs,liveQuery:Ka,mergeRanges:uc,rangesOverlap:Ou,remove:function(v){return new vi({remove:v})},replacePrefix:function(v,w){return new vi({replacePrefix:[v,w]})}}),{default:Vs}),Vs})})(P0)),P0.exports}var xte=bte();const e_=ds(xte),i6=Symbol.for("Dexie"),by=globalThis[i6]||(globalThis[i6]=e_);if(e_.semVer!==by.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${e_.semVer} and ${by.semVer}`);const{liveQuery:wte,mergeRanges:Sge,rangesOverlap:Ege,RangeSet:Cge,cmp:kge,Entity:Tge,PropModification:jge,replacePrefix:Ige,add:Rge,remove:Nge,DexieYProvider:Oge}=by;class _te extends by{interested_snapshot;interested_subject;simulation_run;simulation_run_selections;simulation_run_events;constructor(){super("ALLCLL_Simulation"),this.version(1).stores({interested_snapshot:"++snapshot_id,user_id,created_at,simulated",interested_subject:"++interested_id,snapshot_id,subject_id",simulation_run:"++simulation_run_id,snapshot_id,user_id,department_name,success_subject_count,subject_count,accuracy,score,total_elapsed,started_at,ended_at",simulation_run_selections:"++run_selections_id,simulation_run_id,interested_id,selected_index,status,started_at,ended_at",simulation_run_events:"++event_id,simulation_section_id,event_type,timestamp"})}}const Rt=new _te;async function KI(){const e=await Rt.interested_snapshot.orderBy("created_at").last();if(!e)return null;const t=await Rt.interested_subject.where("snapshot_id").equals(e.snapshot_id).toArray();return{...e,subjects:t}}async function GI(e){const t=await Rt.interested_snapshot.get(e);if(!t)return null;const n=await Rt.interested_subject.where("snapshot_id").equals(e).toArray();return{...t,subjects:n}}async function Ste(e){const t=await Rt.interested_snapshot.orderBy("created_at").last(),n=t&&!t.simulated?t.snapshot_id:await Rt.interested_snapshot.add({user_id:"Todo: user_id",created_at:Date.now(),simulated:!1});t&&!t.simulated&&(await Rt.interested_snapshot.update(t.snapshot_id,{created_at:Date.now()}),await Rt.interested_subject.where("snapshot_id").equals(t.snapshot_id).delete()),await Rt.interested_subject.bulkAdd(e.map(r=>({snapshot_id:n,subject_id:r})))}async function s6(e,t){const n=await Rt.interested_subject.where("snapshot_id").equals(e).filter(r=>r.subject_id===t).first();return n?n.interested_id:-1}async function Ete(){const e=await vp();if("errMsg"in e)throw new Error(e.errMsg);return e}const Cte=["","","1","","","","","","","","","","","","","","","English Listening","English Reading"],kte=(e,t,n)=>{const r=e.find(s=>s.subjectId===t);let i=40;return r?.departmentName===""&&(Cte.includes(r.subjectName)?i=4.6*3:i=4.6*4),console.log(n,i),n<i},v1=ri(e=>({currentSubjectId:0,isCaptchaFailed:!1,subjectStatusMap:{},setCurrentSubjectId:t=>e({currentSubjectId:t}),setSubjectStatus:(t,n)=>e(r=>({subjectStatusMap:{...r.subjectStatusMap,[t]:n}})),setCaptchaFailed:t=>e({isCaptchaFailed:t})}));var br=(e=>(e[e.SEARCH=0]="SEARCH",e[e.APPLY=1]="APPLY",e[e.CAPTCHA=2]="CAPTCHA",e[e.CANCEL_SUBMIT=3]="CANCEL_SUBMIT",e[e.SUBJECT_SUBMIT=4]="SUBJECT_SUBMIT",e[e.REFRESH=5]="REFRESH",e[e.SKIP_REFRESH=6]="SKIP_REFRESH",e))(br||{}),Jt=(e=>(e[e.PROGRESS=0]="PROGRESS",e[e.SUCCESS=1]="SUCCESS",e[e.FAILED=2]="FAILED",e[e.DOUBLED=3]="DOUBLED",e[e.CAPTCHA_FAILED=4]="CAPTCHA_FAILED",e[e.NOT_ELIGIBLE=5]="NOT_ELIGIBLE",e[e.CANCELED=6]="CANCELED",e))(Jt||{}),YI=(e=>(e.SNAPSHOT_NOT_EXIST="SNAPSHOT_NOT_EXIST",e.ONGOING_SIMULATION_NOT_FOUND="ONGOING_SIMULATION_NOT_FOUND",e.SELECTION_NOT_FOUND="SELECTION_NOT_FOUND",e.SIMULATION_NOT_FOUND="SIMULATION_NOT_FOUND",e.MULTIPLE_SIMULATION_FOUND="MULTIPLE_SIMULATION_FOUND",e.SIMULATION_IS_NOT_FINISHED="SIMULATION_IS_NOT_FINISHED",e.MULTIPLE_SIMULATION_RUNNING="MULTIPLE_SIMULATION_RUNNING",e.UNKNOWN_ERROR="UNKNOWN_ERROR",e))(YI||{});const fS=300,Tte=fS*1e3;function $l(e){return{errMsg:e}}function JI(e){return e instanceof Error?$l(e.message):$l("UNKNOWN_ERROR")}async function vp(){try{const e=await b1();if(!e)return{simulationId:-1};const t=await Rt.simulation_run_selections.filter(a=>x1(a,e.simulation_run_id)).toArray(),n=await Rt.interested_subject.where("snapshot_id").equals(e.snapshot_id).toArray();if(!n)return $l("SNAPSHOT_NOT_EXIST");const r=t.filter(a=>a.status===1),i=n.filter(a=>r.some(l=>l.interested_id===a.interested_id)).map(a=>({subjectId:a.subject_id})),s=n.filter(a=>!r.some(l=>l.interested_id===a.interested_id)).map(a=>({subjectId:a.subject_id})),o=t.map(a=>{const l=n.find(c=>c.interested_id===a.interested_id);return l?{subjectId:l.subject_id,status:a.status}:{subjectId:-1,status:2}});return{simulationId:e.simulation_run_id,userStatus:{userPK:e.user_id,departmentCode:e.department_code,departmentName:e.department_name},searchEventAt:e.search_event_at,startedAt:e.started_at,nonRegisteredSubjects:s,registeredSubjects:i,subjectStatus:o}}catch(e){return JI(e)}}async function b1(){const e=await Rt.simulation_run.filter(t=>t.ended_at===-1).toArray();if(e&&e.length>1)throw new Error("MULTIPLE_SIMULATION_RUNNING");return e[0]??null}async function jte(e){const t=await Rt.simulation_run.where("simulation_run_id").equals(e).filter(n=>n.ended_at!==-1).toArray();if(!t.length)throw new Error("SIMULATION_NOT_FOUND");if(t.length>1)throw new Error("MULTIPLE_SIMULATION_FOUND");return t[0]}async function Ite(e,t,n){const r=await vp();if(r&&"errMsg"in r)return r;if(r.simulationId!==-1)return{simulationId:r.simulationId,isRunning:!0};const i=await KI();if(!i)return $l("SNAPSHOT_NOT_EXIST");await Rt.interested_snapshot.update(i.snapshot_id,{simulated:!0});const s=i.subjects;return{simulationId:await Rt.simulation_run.add({snapshot_id:i.snapshot_id,user_id:e,department_code:t,department_name:n,success_subject_count:0,subject_count:s.length,accuracy:-1,score:-1,total_elapsed:-1,search_event_at:-1,started_at:Date.now(),ended_at:-1}),started_at:Date.now(),isRunning:!0}}async function ya(e,t){const{eventType:n}=e;console.log("BUTTON EVENT",e);let r;try{if(r=await b1(),!r)throw new Error("ONGOING_SIMULATION_NOT_FOUND")}catch(c){return JI(c)}const i=r.simulation_run_id;if(n===0){const c=Date.now();return await Rt.simulation_run.update(i,{search_event_at:c}),{elapsed_time:c-r.started_at}}const{subjectId:s}=e;if(n===1){const c=await Rt.simulation_run_selections.filter(p=>p.simulation_run_id===r.simulation_run_id&&p.ended_at>=0).count(),f=await Rt.simulation_run_selections.add({simulation_run_id:r.simulation_run_id,interested_id:await s6(r.snapshot_id,s),selected_index:c+1,status:0,started_at:Date.now(),ended_at:-1});return await Rt.simulation_run_events.add({simulation_section_id:f,event_type:n,timestamp:Date.now()}),{}}const o=await Rt.simulation_run_selections.filter(c=>c.simulation_run_id===i).toArray(),a=o.filter(c=>c.ended_at===-1).sort((c,f)=>f.started_at-c.started_at)[0];if(!a)return $l("SELECTION_NOT_FOUND");const l=Date.now();if(await Rt.simulation_run_events.add({simulation_section_id:a.run_selections_id,event_type:n,timestamp:l}),n===4){const c=await s6(r.snapshot_id,s);if(!await Rt.simulation_run_selections.filter(C=>C.simulation_run_id===i&&C.interested_id===c).last())return $l("SELECTION_NOT_FOUND");const p=async C=>(await Rt.simulation_run_selections.update(a.run_selections_id,{status:C}),console.log("saved section",a.run_selections_id,C),{status:C});if(v1.getState().isCaptchaFailed)return await p(4);if(o.some(C=>C.interested_id===c&&C.status===2))return await p(3),{status:2};if(o.some(C=>C.interested_id===c&&C.ended_at>=0&&x1(C,i)))return await p(3);const _=Math.floor(l-r.started_at)/1e3;return kte(t,s,_)?await p(1):await p(2)}if(n===3&&await Rt.simulation_run_selections.update(a.run_selections_id,{status:6,ended_at:Date.now()}),n===5||n===6){await Rt.simulation_run_selections.update(a.run_selections_id,{ended_at:Date.now()});const c=await Nte();return c&&await XI(),{finished:c}}return{}}async function Ud(){await XI()}async function XI(){const e=await Rt.simulation_run.filter(l=>l.ended_at<=-1).last();if(!e)return;const t=await Rt.simulation_run_selections.filter(l=>l.simulation_run_id===e.simulation_run_id).toArray(),n=t.filter(l=>x1(l,e.simulation_run_id)).length,i=t.filter(l=>Pte(l,e.simulation_run_id)).reduce((l,c)=>c.ended_at===-1?l+4600:l+(c.ended_at-c.started_at),0),s=Date.now()-e.started_at,o=Yee(s/1e3,i/1e3),a=g1(s/1e3/n)+Gee(o);await Rt.simulation_run.update(e.simulation_run_id,{ended_at:Date.now(),accuracy:o,score:Math.min(100,Math.max(0,a)),total_elapsed:s}),await Ote(e)}async function Rte({simulationId:e}){const t=await Rt.simulation_run.get(e);return t?t.ended_at===-1?$l("SIMULATION_IS_NOT_FINISHED"):{accuracy:t.accuracy,score:t.score,total_elapsed:t.total_elapsed}:$l("SIMULATION_NOT_FOUND")}async function Nte(){let e;try{e=await b1()}catch{return!0}if(!e)return!0;const t=await Rt.simulation_run_selections.filter(n=>x1(n,e.simulation_run_id)).toArray();return e.subject_count<=t.length}async function Ote(e){const t=e.simulation_run_id;return e.search_event_at<0?(await Rt.simulation_run_selections.where("simulation_run_id").equals(t).delete(),await Rt.simulation_run.delete(t),!0):(e.started_at+Tte<Date.now()&&await Rt.simulation_run.update(t,{ended_at:Date.now()}),!1)}const ZI=(e,t)=>e.simulation_run_id===t,x1=(e,t)=>ZI(e,t)&&[1,2].includes(e.status),Pte=(e,t)=>ZI(e,t)&&![1,2].includes(e.status);function w1(e){return e>5?"text-green-500 bg-green-100":e>0?"text-yellow-500 bg-yellow-100":e==0?"text-red-500 bg-red-100":"text-gray-500 bg-gray-100"}function Ate(e){return e>=100?"text-red-500 bg-red-100":e>=50?"text-yellow-500 bg-yellow-100":e>=0?"text-green-500 bg-green-100":"text-gray-500 bg-gray-100"}function Mte(e){return Dte(t_(e))}function t_(e){switch(e){case Jt.SUCCESS:return"green";case Jt.FAILED:return"red";case Jt.CAPTCHA_FAILED:return"orange";case Jt.PROGRESS:return"yellow";default:return"gray"}}function Dte(e){switch(e){case"green":return"bg-green-100 text-green-500";case"red":return"bg-red-100 text-red-500";case"orange":return"bg-orange-100 text-orange-500";case"yellow":return"bg-yellow-100 text-yellow-500";default:return"bg-gray-100 text-gray-500"}}function eR(e){return e==null?"default":e>5?"success":e>0?"warning":e==0?"danger":"default"}function Lte(e){return e==null?"default":e>=100?"danger":e>=50?"warning":e>=0?"success":"default"}function hS({wishCount:e,formatter:t=n=>n}){const n=e!=null&&e>=0,r=Lte(e),i=n?e:"-";return h.jsx(Sa,{variant:r,children:t(i)})}$o.register(Kp,Gp,Yp,xu,bu);const Fte={labels:["","","",""],datasets:[{data:[40,25,20,15],backgroundColor:Jp}]};function Bte(){return h.jsxs(Yl,{children:[h.jsx(Wp,{title:" ",href:"/wishes"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-6",children:[h.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[h.jsx(Vt,{level:3,children:" "}),h.jsx("div",{className:"flex align-center justify-center max-h-96",children:h.jsx(uS,{data:Fte})})]}),h.jsxs("div",{className:"bg-white p-6 shadow-md rounded-md",children:[h.jsx(Vt,{level:3,children:"  "}),[{name:"",dept:" ",status:30},{name:"",dept:"",status:14}].map((e,t)=>h.jsxs("div",{className:"mt-4 flex justify-between p-2 rounded-md border border-gray-200",children:[h.jsxs("div",{children:[h.jsx(Vt,{level:4,children:e.name}),h.jsx("p",{className:"text-sm text-gray-500",children:e.dept})]}),h.jsx("span",{children:h.jsx(hS,{wishCount:e.status,formatter:n=>`: ${n}`})})]},"recommend-course-"+t))]})]})]})}function n_({seat:e,formatter:t=n=>n}){const n=e!=null&&e>=0,r=eR(e),i=n?e:"-";return h.jsx(Sa,{variant:r,children:t(i)})}const zl=({className:e,disabled:t=!1})=>{const n=t?"text-gray-400 ":"text-blue-500 ";return h.jsx(L2,{className:n+e})};function $te(){return h.jsxs(Yl,{children:[h.jsx(Wp,{title:"   ",subtitle:"    ,  ",href:"/live"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-6",children:[h.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[h.jsx(Vt,{level:3,children:"  "}),h.jsxs(Jn,{children:["   ,   ",h.jsx("span",{className:"text-blue-500 font-bold",children:""})," "]}),h.jsx("div",{className:"flex flex-col gap-4 mt-4",children:[{name:"",prof:"003281 | "},{name:"",prof:"004310 | LEE KANGWON"}].map(({name:e,prof:t})=>h.jsxs("div",{className:"bg-gray-50 shadow-sm rounded-lg p-4 w-full",children:[h.jsxs(je,{justify:"justify-between",className:"mb-2",children:[h.jsx(Vt,{level:4,children:e}),h.jsx(zl,{})]}),h.jsxs(je,{justify:"justify-between",children:[h.jsx("p",{className:"text-sm text-gray-500",children:t}),h.jsx(n_,{seat:0,formatter:n=>`: ${n}`})]})]},t))})]}),h.jsxs("div",{className:"bg-white p-6 shadow-md rounded-md",children:[h.jsx(Vt,{level:3,children:"  TOP 10"}),h.jsx(Jn,{children:"    !"}),h.jsx("div",{className:"overflow-x-auto",children:h.jsxs("table",{className:"w-full bg-white rounded-lg text-sm",children:[h.jsx("thead",{children:h.jsxs("tr",{className:"bg-gray-50 z-10 text-nowrap",children:[h.jsx("th",{className:"px-4 py-2",children:""}),h.jsx("th",{className:"px-4 py-2",children:""}),h.jsx("th",{className:"px-4 py-2",children:""}),h.jsx("th",{className:"px-4 py-2",children:""})]})}),h.jsx("tbody",{children:[{id:"004310-004",name:"",prof:"",seats:22},{id:"003281-001",name:"",prof:"",seats:15},{id:"004118-007",name:"",prof:"Rajendra Dhakal",seats:6},{id:"009912-006",name:"C",prof:"",seats:5},{id:"007330-001",name:"",prof:"",seats:4}].map(({id:e,name:t,prof:n,seats:r},i)=>h.jsxs("tr",{className:"border-t border-gray-200 text-black",children:[h.jsx("td",{className:"px-4 py-2 text-center",children:e}),h.jsx("td",{className:"px-4 py-2 text-center",children:t}),h.jsx("td",{className:"px-4 py-2 text-center",children:n}),h.jsx("td",{className:"px-4 py-2 text-center",children:h.jsx(n_,{seat:r})})]},"live-non-major-"+i))})]})})]})]})]})}const zte=e=>R.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:36,height:36,viewBox:"0 0 36 36",...e},R.createElement("g",{transform:"matrix(1,0,0,-1,0,72)"},R.createElement("path",{d:"M18,72Q22.9219,71.9297,27,69.6094Q31.0781,67.2188,33.6094,63Q36,58.710899999999995,36,54Q36,49.2891,33.6094,45Q31.0781,40.78125,27,38.39062Q22.9219,36.0703125,18,36Q13.0781,36.0703125,9,38.39062Q4.92188,40.78125,2.39062,45Q0,49.2891,0,54Q0,58.710899999999995,2.39062,63Q4.92188,67.2188,9,69.6094Q13.0781,71.9297,18,72ZM16.3125,63.5625L16.3125,54L16.3125,63.5625L16.3125,54Q16.3125,53.085899999999995,17.0859,52.5938L23.8359,48.0938Q25.1719,47.3203,26.1562,48.5859Q26.9297,49.9219,25.6641,50.9062L19.6875,54.914100000000005L19.6875,63.5625Q19.5469,65.1094,18,65.25Q16.4531,65.1094,16.3125,63.5625Z",fill:"#007AFF",fillOpacity:1,style:{mixBlendMode:"passthrough"}}))),Ute=e=>R.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:36,height:36,viewBox:"0 0 36 36",...e},R.createElement("g",{transform:"matrix(1,0,0,-1,0,72)"},R.createElement("path",{d:"M25.8047,42.96094L7.03125,61.8047L25.8047,42.96094L7.03125,61.8047Q4.57031,58.4297,4.5,54Q4.64062,48.2344,8.4375,44.4375Q12.2344,40.64062,18,40.5Q22.4297,40.57031,25.8047,42.96094ZM29.0391,46.1953Q31.4297,49.5703,31.5,54Q31.3594,59.7656,27.5625,63.5625Q23.7656,67.3594,18,67.5Q13.5703,67.4297,10.1953,64.9688L29.0391,46.1953ZM0,54Q0.0703125,58.9219,2.39062,63Q4.78125,67.0781,9,69.6094Q13.2891,72,18,72Q22.7109,72,27,69.6094Q31.2188,67.0781,33.6094,63Q35.9297,58.9219,36,54Q35.9297,49.0781,33.6094,45Q32.4141,42.96094,30.7617,41.30859Q29.1094,39.65625,27,38.39062Q22.7109,36,18,36Q13.2891,36,9,38.39062Q4.78125,40.92188,2.39062,45Q0.0703125,49.0781,0,54Z",fill:"#007AFF",fillOpacity:1,style:{mixBlendMode:"passthrough"}}))),tR=e=>R.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:33.75,height:36,viewBox:"0 0 33.75 36",...e},R.createElement("defs",null,R.createElement("clipPath",{id:"master_svg0_85_3284"},R.createElement("rect",{x:0,y:0,width:33.75,height:36,rx:0}))),R.createElement("g",{clipPath:"url(#master_svg0_85_3284)"},R.createElement("g",{transform:"matrix(1,0,0,-1,0,69.046875)"},R.createElement("g",null,R.createElement("path",{d:"M6.25781,54.000037500000005Q7.10156,56.3906375,8.92969,58.2187375Q12.375,61.5234375,16.875,61.5234375Q21.375,61.5234375,24.8203,58.2187375L26.0156,57.0234375L23.625,57.0234375Q22.6406,57.0234375,22.0078,56.3906375Q21.375,55.7578375,21.375,54.7734375Q21.375,53.7890375,22.0078,53.1562375Q22.6406,52.5234375,23.625,52.5234375L31.5,52.5234375Q32.4844,52.5234375,33.1172,53.1562375Q33.75,53.7890375,33.75,54.7734375L33.75,62.6484375Q33.75,63.6328375,33.1172,64.2656375Q32.4844,64.8984375,31.5,64.8984375Q30.5156,64.8984375,29.8828,64.2656375Q29.25,63.6328375,29.25,62.6484375L29.25,60.187537500000005L27.9844,61.3828375Q24.8906,64.4765375,20.8828,65.5312375Q16.875,66.5156375,12.8672,65.5312375Q8.85938,64.4765375,5.76562,61.3828375Q3.16406,58.7812375,2.03906,55.546837499999995Q1.75781,54.6328375,2.10938,53.7890375Q2.53125,53.0156375,3.375,52.6640375Q4.28906,52.3828375,5.13281,52.734337499999995Q5.90625,53.1562375,6.25781,54.000037500000005ZM1.61719,47.9531375Q1.05469,47.7422375,0.632812,47.3203375Q0.210938,46.8984375,0.0703125,46.3359375Q0.0703125,46.2656375,0,46.1250375Q0,45.9140375,0,45.7734375L0,37.8984375Q0,36.9140575,0.632812,36.2812475Q1.26562,35.6484375,2.25,35.6484375Q3.23438,35.6484375,3.86719,36.2812475Q4.5,36.9140575,4.5,37.8984375L4.5,40.3593775L5.76562,39.1640575Q8.85938,36.0703175,12.8672,35.0156255Q16.875,34.0312495,20.8828,35.0156255Q24.8906,36.0703175,27.9844,39.1640575Q30.5859,41.7656275,31.7109,45.0000375Q31.9922,45.9140375,31.6406,46.7578375Q31.2188,47.5312375,30.375,47.8828375Q29.4609,48.1640375,28.6172,47.8125375Q27.8438,47.3906375,27.4922,46.5468375Q26.6484,44.2265575,24.8203,42.3281275Q21.375,39.0234375,16.875,39.0234375Q12.375,39.0234375,8.92969,42.3281275L7.73438,43.5234375L10.125,43.5234375Q11.1094,43.5234375,11.7422,44.1562475Q12.375,44.7890375,12.375,45.7734375Q12.375,46.7578375,11.7422,47.3906375Q11.1094,48.0234375,10.125,48.0234375L2.25,48.0234375Q2.10938,48.0234375,1.96875,48.0234375Q1.75781,47.9531375,1.61719,47.9531375Z",fill:"#007AFF",fillOpacity:1,style:{mixBlendMode:"passthrough"}})))));function Hte(){return h.jsxs(Yl,{className:"text-center",children:[h.jsx(Vt,{level:2,children:"  "}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mt-6",children:[{icon:h.jsx(zte,{className:"w-6 h-6"}),title:"6     ...",text:"       "},{icon:h.jsx(Ute,{className:"w-6 h-6"}),title:"   ...",text:"  ,      "},{icon:h.jsx(tR,{className:"w-6 h-6"}),title:"      ...",text:"   ,     "}].map(({icon:e,title:t,text:n},r)=>h.jsxs("div",{className:"flex flex-col gap-4 p-6 rounded-md bg-gray-50 text-left",children:[e,h.jsx(Vt,{level:3,className:"font-extrabold",children:t}),h.jsx(Jn,{children:n})]},"pain-point-"+r))}),h.jsxs("div",{className:"text-gray-900 mt-16",children:[h.jsx("p",{children:"   ."}),h.jsx("p",{children:"   ,      . "})]})]})}const Wte=e=>R.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:24,height:24,viewBox:"0 0 24 24",...e},R.createElement("g",{transform:"matrix(1,0,0,-1,0,48)"},R.createElement("path",{d:"M18.7031,30Q17.9062,31.35938,16.5469,32.15625Q15.1875,33,13.5,33L10.5,33Q8.8125,33,7.45312,32.15625Q6.09375,31.35938,5.29688,30Q6.5625,28.59375,8.25,27.79688Q9.98438,27,12,27Q14.0156,27,15.75,27.79688Q17.4375,28.59375,18.7031,30ZM0,36Q0.046875,39.2812,1.59375,42Q3.1875,44.7188,6,46.4062Q8.85938,48,12,48Q15.1406,48,18,46.4062Q20.8125,44.7188,22.4062,42Q23.9531,39.2812,24,36Q23.9531,32.71875,22.4062,30Q20.8125,27.28125,18,25.59375Q15.1406,24,12,24Q8.85938,24,6,25.59375Q3.1875,27.28125,1.59375,30Q0.046875,32.71875,0,36ZM12,35.25Q13.9219,35.2969,14.9062,36.9375Q15.8438,38.625,14.9062,40.3125Q13.9219,41.9531,12,42Q10.0781,41.9531,9.09375,40.3125Q8.15625,38.625,9.09375,36.9375Q10.0781,35.2969,12,35.25Z",fill:"#007AFF",fillOpacity:1,style:{mixBlendMode:"passthrough"}})));function Vte(){return h.jsxs(Yl,{className:"text-center",children:[h.jsx(Vt,{level:2,children:"   !"}),h.jsxs("div",{className:"overflow-hidden mt-6 relative",children:[h.jsx("div",{className:"absolute top-0 left-0 w-12 h-full bg-gradient-to-r from-gray-50 to-transparent z-10"}),h.jsxs("div",{className:"animate-marquee flex gap-6 flex-nowrap w-fit",children:[o6.map((e,t)=>h.jsx(a6,{...e},"feedback-left-"+t)),o6.map((e,t)=>h.jsx(a6,{...e},"feedback-right-"+t))]}),h.jsx("div",{className:"absolute top-0 right-0 w-12 h-full bg-gradient-to-l from-gray-50 to-transparent z-10"})]})]})}const o6=[{name:"O",department:" 2",review:"        !"},{name:"O",department:" 4",review:"         !"},{name:"O",department:" 3",review:"     !"}];function a6({name:e,department:t,review:n}){return h.jsxs("div",{className:"w-screen md:w-xs flex flex-col gap-4 p-6 rounded-md bg-white text-left text-sm",children:[h.jsxs("div",{className:"flex gap-4 items-center",children:[h.jsx(Wte,{className:"w-6 h-6"}),h.jsxs("div",{children:[h.jsx("p",{className:"font-bold",children:e}),h.jsx("p",{className:"text-xs text-gray-500",children:t})]})]}),h.jsxs("p",{className:"text-gray-950",children:['"',n,'"']})]})}$o.register(h1,xu,bu);function qte(){return h.jsxs(Yl,{children:[h.jsx(Wp,{title:"   ",subtitle:"      .    ,  ."}),h.jsx(Sa,{variant:"danger",children:"  "}),h.jsx(je,{className:"mt-6",direction:"flex-col",gap:"gap-2",children:h.jsxs(Wn,{children:[h.jsxs(je,{direction:"flex-row",gap:"gap-4",children:[h.jsx(Vt,{level:3,children:"  "}),h.jsx(Sa,{variant:"default",children:" "})]}),h.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6 mt-6 justify-items-center",children:[h.jsx(Gg,{earned:ul.totalCredits.earned,required:ul.totalCredits.required,label:" "}),h.jsx(Gg,{earned:ul.majorCredits.earned,required:ul.majorCredits.required,label:" "}),h.jsx("div",{className:"hidden md:block",children:h.jsx(Gg,{earned:ul.generalCredits.earned,required:ul.generalCredits.required,label:" "})}),h.jsx("div",{className:"hidden md:block",children:h.jsx(Gg,{earned:ul.liberalCredits.earned,required:ul.liberalCredits.required,label:" "})})]})]})})]})}function Gg({earned:e,required:t,label:n}){const r=t===0?100:Math.round(e/t*100),i=Math.max(0,t-e),s={datasets:[{data:[e,i],backgroundColor:[AQ.primary[500],"#E5E7EB"],borderWidth:0,cutout:"75%"}]},o={responsive:!0,maintainAspectRatio:!0,plugins:{legend:{display:!1},tooltip:{enabled:!1}}};return h.jsxs("div",{className:"flex flex-col items-center",children:[h.jsxs("div",{className:"relative flex items-center justify-center",style:{width:120,height:120},children:[h.jsx(uS,{data:s,options:o}),h.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:h.jsxs("span",{className:"text-xl font-bold text-primary-500",children:[r,"%"]})})]}),h.jsxs("div",{className:"mt-2 text-center",children:[h.jsx("span",{className:"text-sm font-medium text-gray-700",children:n}),h.jsxs("p",{className:"text-xs text-gray-500",children:[e," / ",t," "]})]})]})}const ul={totalCredits:{earned:98,required:130},majorCredits:{earned:18,required:24},generalCredits:{earned:20,required:32},liberalCredits:{earned:60,required:74}};function Qte(){return h.jsxs("div",{className:"min-h-screen bg-gray-50",children:[h.jsx(tG,{}),h.jsx(qte,{}),h.jsx(OG,{}),h.jsx(Bte,{}),h.jsx(ite,{}),h.jsx($te,{}),h.jsx(Hte,{}),h.jsx(Vte,{})]})}function hs(){const[e,t]=R.useState(!1);return R.useEffect(()=>{const n=()=>{t(window.innerWidth<=768)};return n(),window.addEventListener("resize",n),()=>{window.removeEventListener("resize",n)}},[]),e}const Kte=e=>R.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:13.836064338684082,height:14,viewBox:"-1 -1 15.5 16.5",...e},R.createElement("g",{transform:"matrix(1,0,0,-1,0,28)"},R.createElement("path",{d:"M13.8033,23.433590000000002Q13.918,23.05078,13.6311,22.777340000000002L12.3689,21.68359Q12.4262,21.35547,12.4262,21Q12.4262,20.64453,12.3689,20.31641L13.6311,19.22266Q13.918,18.94922,13.8033,18.56641Q13.6025,18.07422,13.3443,17.60938L13.2008,17.39062Q12.9139,16.95312,12.5697,16.54297Q12.2828,16.24219,11.8811,16.35156L10.2746,16.84375Q9.70082,16.40625,9.01229,16.16016L8.66803,14.574219Q8.55328,14.191406,8.12295,14.109375Q7.54918,14,6.91803,14Q6.28688,14,5.68443,14.109375Q5.28279,14.191406,5.16803,14.574219L4.82377,16.16016Q4.13525,16.40625,3.56148,16.84375L1.95492,16.35156Q1.55328,16.24219,1.26639,16.54297Q0.893443,16.95312,0.635246,17.39062L0.491803,17.60938Q0.233607,18.07422,0.0327869,18.53906Q-0.0819672,18.94922,0.204918,19.22266L1.46721,20.28906Q1.40984,20.64453,1.40984,21Q1.40984,21.35547,1.46721,21.68359L0.204918,22.777340000000002Q-0.0819672,23.05078,0.0327869,23.433590000000002Q0.233607,23.92578,0.491803,24.3906L0.635246,24.6094Q0.893443,25.0469,1.26639,25.457Q1.55328,25.7578,1.95492,25.648400000000002L3.56148,25.1562Q4.13525,25.5937,4.82377,25.8672L5.16803,27.425800000000002Q5.28279,27.8086,5.71311,27.8906Q6.28688,28,6.91803,28Q7.54918,28,8.15164,27.8906Q8.55328,27.8086,8.66803,27.425800000000002L9.01229,25.8672Q9.70082,25.5937,10.2746,25.1562L11.8811,25.648400000000002Q12.2828,25.7578,12.5697,25.457Q12.9426,25.0469,13.2295,24.6094L13.3443,24.3906Q13.6025,23.92578,13.8033,23.433590000000002ZM6.91803,18.8125Q8.20902,18.83984,8.89754,19.90625Q9.52869,21,8.89754,22.09375Q8.20902,23.160159999999998,6.91803,23.1875Q5.62705,23.160159999999998,4.93852,22.09375Q4.30738,21,4.93852,19.90625Q5.62705,18.83984,6.91803,18.8125Z",fill:"#9CA3AF",fillOpacity:1,style:{mixBlendMode:"passthrough"}})));function l6({children:e,checked:t,onChange:n,...r}){return h.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[h.jsx("input",{type:"checkbox",className:"sr-only peer",checked:t,onChange:n,...r}),h.jsx("div",{className:"w-12 h-6 rounded-full transition-colors duration-150 bg-gray-300 peer-checked:bg-blue-500 peer-disabled:bg-gray-200"}),h.jsx("div",{className:"absolute top-1 left-1 w-4 h-4 bg-white rounded-full shadow-md transform transition-transform duration-150 peer-checked:translate-x-6"}),e]})}function nR({enabled:e=!0,onClose:t}){R.useEffect(()=>{if(!e)return;const n=i=>{i.key==="Escape"&&t&&t()},r=i=>{i.preventDefault(),t&&t()};return window.addEventListener("keydown",n),window.addEventListener("popstate",r),()=>{window.removeEventListener("keydown",n),window.removeEventListener("popstate",r)}},[])}const Gte=[{title:" ",value:Wi.NONE,disabled:()=>!1},{title:" ",value:Wi.BROWSER,disabled:()=>!Ts.canNotify()},{title:" ",value:Wi.TOAST,disabled:()=>!$w.canNotify()},{title:" +  ",value:Wi.BOTH,disabled:()=>!Ts.canNotify()||!$w.canNotify()}];function Yte({isOpen:e,close:t}){const n=Ll(s=>s.isPermitted),r=()=>{cs.show("  ","test-alarm")},i=()=>{cs.requestPermission(),t()};return nR({enabled:e,onClose:i}),e?h.jsx(Zn,{title:"",onClose:i,isOpen:e,children:h.jsxs(Zn.Content,{children:[h.jsx(Jte,{}),h.jsx(Xte,{}),h.jsx("div",{className:"mt-4 flex justify-end",children:h.jsx(Mt,{variant:"outlined",size:"medium",onClick:r,disabled:!n,children:""})})]})}):null}function Jte(){const e=Do(s=>s.alarmType),t=Do(s=>s.saveSettings),n=Ll(s=>s.isPermitted),r=Ts.canNotify(),i=s=>{t({alarmType:Number(s.target.value)})};return h.jsxs("div",{className:"mb-4",children:[h.jsx("label",{className:"block mb-2 font-bold text-md",htmlFor:"alarm-type-select",children:" "}),h.jsx("select",{id:"alarm-type-select",className:"w-full mb-2 p-2 border border-gray-300 rounded",value:e,onChange:i,children:Gte.map(s=>h.jsx("option",{className:"disabled:text-gray-500",value:s.value,disabled:s.disabled(),children:s.title},s.value))}),(e===Wi.BROWSER||e===Wi.BOTH)&&!n&&h.jsx("p",{className:"pl-2 pb-2 text-sm text-red-600",children:"  ."}),e===Wi.TOAST&&h.jsx("p",{className:"pl-2 pb-2 text-sm text-red-600",children:"      ."}),!r&&h.jsx("p",{className:"pl-2 pb-2 text-xs text-gray-600",children:"     ."})]})}function Xte(){const t=Do(f=>f.alarmType)===Wi.NONE,n=cp(_l.SOUND),r=cp(_l.VIBRATE),i=z2.canNotify(),s=Do(f=>f.subAlarmType),o=Do(f=>f.saveSettings),a=t,l=t||!i,c=f=>{const p=f.target.id==="select-sound"?_l.SOUND:_l.VIBRATE,g=f.target.checked?s|p:s&~p;o({subAlarmType:g})};return h.jsxs("div",{children:[h.jsx("h3",{className:"block mb-2 font-bold text-md",children:"  "}),h.jsxs("div",{className:"flex flex-col gap-2",children:[h.jsxs("label",{className:"my-1 flex items-center justify-between",htmlFor:"select-sound",children:[h.jsx("span",{className:a?"text-gray-300":"",children:""}),h.jsx(l6,{id:"select-sound",name:"sound",checked:n,onChange:c,disabled:a})]}),h.jsxs("label",{className:"my-1 flex items-center justify-between",htmlFor:"select-vibrate",children:[h.jsx("span",{className:l?"text-gray-300":"",children:""}),h.jsx(l6,{id:"select-vibrate",name:"vibrate",checked:r,onChange:c,disabled:l})]}),!i&&h.jsx("p",{className:"pl-2 pb-2 text-sm text-red-600",children:"     ."})]})]})}const Zte=e=>R.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},R.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 3C7.88696 2.99977 8.74883 3.29435 9.4501 3.83741C10.1514 4.38047 10.6523 5.14121 10.874 6H19V8H10.874C10.6283 8.94049 10.0486 9.75939 9.24333 10.3038C8.43802 10.8482 7.46209 11.0809 6.49778 10.9584C5.53346 10.836 4.64669 10.3667 4.00303 9.63828C3.35937 8.90985 3.00284 7.97206 3 7C3 5.93913 3.42143 4.92172 4.17157 4.17157C4.92172 3.42143 5.93913 3 7 3ZM7 9C7.53043 9 8.03914 8.78929 8.41421 8.41421C8.78929 8.03914 9 7.53043 9 7C9 6.46957 8.78929 5.96086 8.41421 5.58579C8.03914 5.21071 7.53043 5 7 5C6.46957 5 5.96086 5.21071 5.58579 5.58579C5.21071 5.96086 5 6.46957 5 7C5 7.53043 5.21071 8.03914 5.58579 8.41421C5.96086 8.78929 6.46957 9 7 9ZM17 20C16.113 20.0002 15.2512 19.7056 14.5499 19.1626C13.8486 18.6195 13.3477 17.8588 13.126 17H5V15H13.126C13.3717 14.0595 13.9514 13.2406 14.7567 12.6962C15.562 12.1518 16.5379 11.9191 17.5022 12.0416C18.4665 12.164 19.3533 12.6333 19.997 13.3617C20.6406 14.0901 20.9972 15.0279 21 16C21 17.0609 20.5786 18.0783 19.8284 18.8284C19.0783 19.5786 18.0609 20 17 20ZM17 18C17.5304 18 18.0391 17.7893 18.4142 17.4142C18.7893 17.0391 19 16.5304 19 16C19 15.4696 18.7893 14.9609 18.4142 14.5858C18.0391 14.2107 17.5304 14 17 14C16.4696 14 15.9609 14.2107 15.5858 14.5858C15.2107 14.9609 15 15.4696 15 16C15 16.5304 15.2107 17.0391 15.5858 17.4142C15.9609 17.7893 16.4696 18 17 18Z",fill:"currentColor"})),ene=()=>{if(typeof navigator>"u")return"chrome";const e=navigator.userAgent.toLowerCase();return e.includes("firefox")?"firefox":e.includes("edg")?"edge":e.includes("safari")&&!e.includes("chrome")?"safari":"chrome"},tne=()=>{if(typeof navigator>"u")return"macos";const e=navigator.platform.toLowerCase(),t=navigator.userAgent.toLowerCase();return e.startsWith("mac")||t.includes("mac os x")?"macos":e.startsWith("win")?"windows":/android|iphone|ipad|ipod/.test(t)?"mobile":"macos"};function nne(){const e=Ll(s=>s.isOpen),t=Ll(s=>s.close),[n,r]=R.useState(0),i=1;return R.useEffect(()=>{e||r(0)},[e]),h.jsx(Zn,{title:"  ",onClose:t,isOpen:e,children:h.jsxs("div",{className:"p-4 text-sm text-gray-700 w-lg max-w-full",children:[n===0&&h.jsx(rne,{}),n===1&&h.jsx(ine,{}),h.jsxs("div",{className:"flex justify-between items-center mt-6",children:[h.jsxs("span",{className:"text-xs text-gray-500",children:[n+1," / ",i+1]}),h.jsxs("div",{className:"flex justify-end gap-2",children:[n>0&&h.jsx("button",{className:"px-4 py-2 bg-gray-200 rounded hover:bg-gray-300",onClick:()=>r(n-1),children:""}),n<i&&h.jsx("button",{className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",onClick:()=>r(n+1),children:""}),n===i&&h.jsx("button",{className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",onClick:t,children:""})]})]})]})})}function rne(){const[e,t]=R.useState(ene());return h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"font-bold text-base text-gray-800",children:"1:    "}),h.jsx("p",{className:"mt-1",children:" 'ALLCLL'    ."})]}),h.jsxs("div",{className:"flex border-b border-gray-500",children:[h.jsx(qc,{name:"Chrome",id:"chrome",selected:e,onClick:t}),h.jsx(qc,{name:"Firefox",id:"firefox",selected:e,onClick:t}),h.jsx(qc,{name:"Safari",id:"safari",selected:e,onClick:t}),h.jsx(qc,{name:"Edge",id:"edge",selected:e,onClick:t})]}),h.jsxs("div",{className:"p-2 bg-gray-50 rounded-md h-64 overflow-y-auto",children:[e==="chrome"&&h.jsx(sne,{}),e==="firefox"&&h.jsx(ane,{}),e==="safari"&&h.jsx(lne,{}),e==="edge"&&h.jsx(one,{})]})]})}function ine(){const[e,t]=R.useState(tne());return h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"font-bold text-base text-gray-800",children:"2: OS    "}),h.jsx("p",{className:"mt-1",children:"  OS   ."})]}),h.jsxs("div",{className:"flex border-b border-gray-500",children:[h.jsx(qc,{name:"macOS",id:"macos",selected:e,onClick:t}),h.jsx(qc,{name:"Windows",id:"windows",selected:e,onClick:t}),h.jsx(qc,{name:"",id:"mobile",selected:e,onClick:t})]}),h.jsxs("div",{className:"p-2 bg-gray-50 rounded-md h-64 overflow-y-auto",children:[e==="macos"&&h.jsx(cne,{}),e==="windows"&&h.jsx(une,{}),e==="mobile"&&h.jsx(dne,{})]})]})}const qc=({name:e,id:t,selected:n,onClick:r})=>h.jsx("button",{className:`px-4 py-2 text-sm ${n===t?"border-b-2 border-blue-500 text-blue-600 font-semibold":"text-gray-500 font-medium"}`,onClick:()=>r(t),children:e}),lu=({title:e,children:t})=>h.jsxs("div",{className:"space-y-1",children:[h.jsx("h4",{className:"font-semibold text-gray-800",children:e}),h.jsx("div",{className:"pl-2 space-y-1 text-gray-600",children:t})]}),sne=()=>h.jsxs("div",{className:"space-y-3",children:[h.jsx(lu,{title:" 1:   ()",children:h.jsxs("ol",{className:"list-decimal list-inside",children:[h.jsxs("li",{children:["    (",h.jsx(Zte,{className:"inline-block w-4 h-4"}),")  ."]}),h.jsx("li",{children:"  ''    '' ."})]})}),h.jsx(lu,{title:" 2:   ",children:h.jsxs("ol",{className:"list-decimal list-inside",children:[h.jsx("li",{children:"   3()  > '' ."}),h.jsx("li",{children:"'  ' > ' ' > '' ."}),h.jsx("li",{children:"'  '  ''   'allcll.com' ."})]})})]}),one=()=>h.jsxs("div",{className:"space-y-3",children:[h.jsx(lu,{title:" 1:   ()",children:h.jsxs("ol",{className:"list-decimal list-inside",children:[h.jsx("li",{children:"  ()  ."}),h.jsx("li",{children:"'   '  '' '' ."})]})}),h.jsx(lu,{title:" 2:   ",children:h.jsxs("ol",{className:"list-decimal list-inside",children:[h.jsx("li",{children:"   3()  > '' ."}),h.jsx("li",{children:"'   ' > '' ."}),h.jsx("li",{children:"''  ''   'allcll.com' ."})]})})]}),ane=()=>h.jsxs("div",{className:"space-y-3",children:[h.jsx(lu,{title:" 1:   ()",children:h.jsxs("ol",{className:"list-decimal list-inside",children:[h.jsx("li",{children:"  ()  ."}),h.jsx("li",{children:"' '  '' ."})]})}),h.jsx(lu,{title:" 2:   ",children:h.jsxs("ol",{className:"list-decimal list-inside",children:[h.jsx("li",{children:"   3()  > '' ."}),h.jsx("li",{children:"'  '  ''  ."}),h.jsx("li",{children:"''  '...'  ."}),h.jsx("li",{children:"'allcll.com'   ''  '  ' ."})]})})]}),lne=()=>h.jsx("div",{className:"space-y-3",children:h.jsx(lu,{title:"Safari  ",children:h.jsxs("ol",{className:"list-decimal list-inside",children:[h.jsx("li",{children:"    'Safari' > '...' ( '...') ."}),h.jsx("li",{children:"''  ."}),h.jsx("li",{children:"  '' ."}),h.jsx("li",{children:" 'allcll.com'   '' ."})]})})}),cne=()=>h.jsx("div",{className:"space-y-2",children:h.jsxs("ol",{className:"list-decimal list-inside pl-2 mt-2 space-y-1",children:[h.jsx("li",{children:"    ()   ' ' ."}),h.jsx("li",{children:"  '' ."}),h.jsx("li",{children:"    (Chrome, Safari )  ."}),h.jsx("li",{children:"' '  ."})]})}),une=()=>h.jsx("div",{className:"space-y-2",children:h.jsxs("ol",{className:"list-decimal list-inside pl-2 mt-2 space-y-1",children:[h.jsx("li",{children:"''  '' ."}),h.jsx("li",{children:"''   ''  ."}),h.jsx("li",{children:"'     '   ."}),h.jsx("li",{children:"        ."})]})}),dne=()=>h.jsxs("div",{className:"pl-2 mt-2 space-y-2",children:[h.jsx("p",{children:"  PC        .  iOS Safari     ."}),h.jsx("p",{className:"font-medium",children:"       ' '   ."})]}),fne=e=>R.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:17,height:17,viewBox:"0 0 17 14.5",...e},R.createElement("g",{transform:"matrix(1,0,0,-1,0,28.015625)"},R.createElement("path",{d:"M1.0474,27.8750125Q0.538991,28.2031125,0.137615,27.7656125Q-0.183486,27.246112500000002,0.244648,26.8359125L16.0856,14.1484375Q16.594,13.8203125,16.9954,14.2578125Q17.3165,14.7773435,16.8884,15.1875025L14.4801,17.1289025Q14.4801,17.1562525,14.4801,17.1562525Q14.6942,17.6757825,14.3463,18.0859325L14.159,18.3320325Q12.8746,19.8085925,12.8479,21.8046925L12.8479,22.324222499999998Q12.8211,23.9375025,11.8578,25.1133125Q10.9213,26.2890125,9.42278,26.6172125L9.42278,27.1367125Q9.42278,27.519512499999998,9.18196,27.7656125Q8.94113,28.0117125,8.56651,28.0117125Q8.1919,28.0117125,7.95107,27.7656125Q7.71025,27.519512499999998,7.71025,27.1367125L7.71025,26.6172125Q5.94419,26.207012499999998,4.98089,24.7031125L1.0474,27.8750125ZM10.8677,16.6367225L4.28517,21.9414025L10.8677,16.6367225L4.28517,21.9414025L4.28517,21.8046925Q4.25841,19.8085925,3.00077,18.3046925L2.7867,18.0859325Q2.43884,17.6757825,2.65291,17.1562525Q2.89373,16.6640625,3.4289,16.6367225L10.8677,16.6367225ZM9.77064,14.5312505Q10.2791,15.0507825,10.2791,15.7617225L8.56651,15.7617225L6.85398,15.7617225Q6.85398,15.0507825,7.36239,14.5312505Q7.8708,14.01171884,8.56651,14.01171884Q9.26223,14.01171884,9.77064,14.5312505Z",fill:"#9CA3AF",fillOpacity:1,style:{mixBlendMode:"passthrough"}})));function hne({isAlarm:e}){const t=Ad(s=>s.sseState),n=Ll(s=>s.isPermitted),r=t===U2.LIVE,i=r?cs.getDeniedMessage():[...cs.getDeniedMessage(),"  "];return e?n&&r?h.jsx(zl,{className:"w-5 h-5 text-primary-500"}):h.jsxs(h.Fragment,{children:[h.jsx(zl,{className:"w-5 h-5 text-secondary-500 animate-pulse"}),i.length>0&&h.jsx("span",{className:"absolute left-full -bottom-2 transform -translate-x-full translate-y-full opacity-0 group-hover:opacity-100 transition-opacity duration-300 bg-gray-900 text-white text-sm p-2 rounded w-64 h-fit text-center pointer-events-none",children:i.map((s,o)=>h.jsx("p",{className:"pt-1 first:pt-0",children:s},"tooltip-line-"+o))})]}):h.jsx(fne,{className:"w-5 h-5"})}const pne=async()=>await Na("/api/pins"),mne=async e=>{const t=await t1(`/api/pin?subjectId=${e}`,{method:"POST"});if(!t.ok)throw new Error(await t.text())},gne=async e=>{const t=await t1(`/api/pin/${e}`,{method:"DELETE"});if(!t.ok)throw new Error(await t.text())},c6=5;function _1(){return po({queryKey:["pinnedSubjects"],queryFn:pne,select:e=>e.subjects})}const rR=()=>{const e=fs();return Wl({mutationFn:mne,onMutate:async t=>{await e.cancelQueries({queryKey:["pinnedSubjects"]});const n=e.getQueryData(["pinnedSubjects"])?.subjects??[];if(n&&n.length>=c6)throw new Error(JSON.stringify({message:`   ${c6} .`}));if(n){const r={...n[0],subjectId:t};e.setQueryData(["pinnedSubjects"],{subjects:[...n,r]}),n.push(r)}return{previousUsers:n}},onSuccess:()=>{e.invalidateQueries({queryKey:["pinnedSubjects"]}).then()},onError:t=>{try{const n=JSON.parse(t.message);alert(n.message)}catch{alert("Error adding pinned subject")}}})},pS=()=>{const e=fs();return Wl({mutationFn:gne,onMutate:async t=>{await e.cancelQueries({queryKey:["pinnedSubjects"]});const n=e.getQueryData(["pinnedSubjects"]);if(n){const r=n.subjects.filter(i=>i.subjectId!==t);e.setQueryData(["pinnedSubjects"],{subjects:r})}return{previousData:n}},onSettled:()=>{console.log("pin removed onSettled"),e.invalidateQueries({queryKey:["pinnedSubjects"]}).then()},onError:t=>{console.error("Error removing pinned subject:",t)}})},yne=1e3,vne=60*yne,bne={subjectId:-1,seat:-1};function xne(){return po({queryKey:["preRealSeats"],queryFn:wne,staleTime:10*vne,select:e=>e?.preSeats??null})}async function wne(){return await n1("/pre-seats.json?date=20260212-pre")}function iR(e,t,n,r){if(!e||!t)return e||t;const i=e.sort((c,f)=>c.subjectId-f.subjectId),s=t.sort((c,f)=>c.subjectId-f.subjectId),o=[];let a=0,l=0;for(;a<i.length&&l<s.length;)i[a].subjectId===s[l].subjectId?o.push({...i[a++],...s[l++]}):i[a].subjectId<s[l].subjectId?o.push({...r,...i[a++]}):o.push({...n,...s[l++]});for(;a<i.length;)o.push({...r,...i[a++]});for(;l<s.length;)o.push({...n,...s[l++]});return o}function S1(e,t){const{data:n}=xne();return R.useMemo(()=>!e||!n?.length?e:iR(e,n,t??i1,bne),[e,n,t])}class mS extends RangeError{constructor(t){super(t),this.name="ParamsInvalidError"}}class _ne extends Error{constructor(t){super(t),this.name="NotFoundError"}}const Sne="SPRING_26_20260131",Ene=async e=>await n1(`/${e}/baskets.json?v=${Sne}`),Cne=async e=>{const t=await t1(`/api/baskets/${e}`);if(!t.ok){const n=await t.text(),r=kne(n);throw r?.status==="400 BAD_REQUEST"?new mS(r.code):new Error(await t.text())}return t.json()},kne=e=>{try{return JSON.parse(e)}catch{return null}},_u={...i1,departmentCode:"",departmentName:"",totalCount:-1};function zo(e){e=e??As.semesterCode;const{data:t,isPending:n,isLoading:r}=go(e),i=po({queryKey:["wishlist",e],queryFn:()=>Ene(e),staleTime:1/0,select:s=>Tne(s,t)});return{...i,isPending:i.isPending||n,isLoading:i.isLoading||r}}const Tne=(e,t)=>{if(!t)return[];const n=e?.baskets??[];return iR(t,n,i1,_u).map(i=>({...i,departmentCode:i.deptCd,departmentName:i.manageDeptNm}))};function jne(e){const{data:t}=zo();return t?.filter(n=>e.includes(n.subjectId))??[]}const sR=e=>R.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},R.createElement("path",{d:"M18 6L6 18M6 6L18 18",stroke:"#354052",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}));let vh=null,ud=0;const ax=ri(e=>{const t=()=>{vh||(vh=setInterval(()=>{e(r=>({tick:r.tick+1}))},1e3))},n=()=>{vh&&clearInterval(vh),vh=null};return{tick:0,addRefCount:()=>{ud===0&&t(),ud=ud+1},removeRefCount:()=>{ud<=1&&n(),ud=Math.max(0,ud-1)}}}),oR=e=>{const t=ax(i=>i.tick),n=ax(i=>i.addRefCount),r=ax(i=>i.removeRefCount);R.useEffect(()=>(n(),()=>{r()}),[]),R.useEffect(()=>{},[t])};function gS(e){if(!e)return" ";const t=new Date,n=new Date(e),r=t.getTime()-n.getTime(),i=Math.floor(r/1e3),s=Math.floor(i/60),o=Math.floor(s/60),a=Math.floor(o/24),l=Math.floor(a/30),c=Math.floor(l/12);return c>0?`${c} `:l>0?`${l} `:a>0?`${a} `:o>0?`${o} `:s>0?`${s} `:i>0?`${i} `:" "}function Ine({subject:e,seats:t,queryTime:n,disableSeat:r=!1}){const{mutate:i}=pS(),s=()=>{i(e.subjectId)};return h.jsxs(Wn,{variant:"filled",children:[h.jsxs(je,{justify:"justify-between",children:[h.jsx(Vt,{level:3,children:e.subjectName}),h.jsx(Ar,{variant:"plain","aria-label":"  ",icon:h.jsx(sR,{className:"text-gray-400 w-3 h-3"}),onClick:s})]}),h.jsxs("div",{className:"mb-2 text-xs text-gray-500",children:[h.jsx("p",{children:e.departmentName}),h.jsxs("p",{children:[e.subjectCode,"-",e.classCode," | ",e.professorName]})]}),!r&&h.jsxs(je,{justify:"justify-between",children:[h.jsx(Nne,{seats:t}),h.jsx(Rne,{queryTime:n})]})]})}function Rne({queryTime:e}){return oR(),h.jsx("p",{className:"text-xs text-gray-500",children:gS(e)})}function Nne({seats:e}){const t=e!=null&&e>=0,n=eR(e),r=t?e:"???";return h.jsxs(Sa,{variant:n,children:[": ",r]})}const r_=ri(e=>({isSearchOpen:!1,setIsSearchOpen:t=>e(()=>({isSearchOpen:t}))}));function aR(){const e=r_(t=>t.setIsSearchOpen);return h.jsx(je,{justify:"justify-center",align:"items-center",children:h.jsx(Mt,{variant:"ghost",size:"medium",onClick:()=>e(!0),children:"+   "})})}function E1({icon:e,title:t,description:n,children:r}){return h.jsx("div",{className:"flex flex-col items-center justify-center w-full bg-gray-50 rounded-md",children:h.jsxs("div",{className:"flex flex-col items-center justify-center gap-2 p-12",children:[h.jsx("div",{children:e}),h.jsx("div",{className:"text-gray-600",children:t}),h.jsx("div",{className:"text-xs text-gray-500",children:n}),r]})})}const C1=e=>R.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:36,height:36,viewBox:"0 0 36 36",...e},R.createElement("g",{transform:"matrix(1,0,0,-1,0,72)"},R.createElement("g",null,R.createElement("path",{d:"M18,36Q22.9219,36.0703125,27,38.39062Q31.0781,40.78125,33.6094,45Q36,49.2891,36,54Q36,58.710899999999995,33.6094,63Q31.0781,67.2188,27,69.6094Q22.9219,71.9297,18,72Q13.0781,71.9297,9,69.6094Q4.92188,67.2188,2.39062,63Q0,58.710899999999995,0,54Q0,49.2891,2.39062,45Q4.92188,40.78125,9,38.39062Q13.0781,36.0703125,18,36ZM18,63Q19.5469,62.8594,19.6875,61.3125L19.6875,53.4375Q19.5469,51.8906,18,51.75Q16.4531,51.8906,16.3125,53.4375L16.3125,61.3125Q16.4531,62.8594,18,63ZM15.75,47.25Q15.75,48.2344,16.3828,48.8672Q17.0156,49.5,18,49.5Q18.9844,49.5,19.6172,48.8672Q20.25,48.2344,20.25,47.25Q20.25,46.2656,19.6172,45.63281Q18.9844,45,18,45Q17.0156,45,16.3828,45.63281Q15.75,46.2656,15.75,47.25Z",fill:"#9CA3AF",fillOpacity:1,style:{mixBlendMode:"passthrough"}})))),One=e=>R.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:12.68359375,height:12.25,viewBox:"0 0 12.68359375 12.25",...e},R.createElement("g",{transform:"matrix(1,0,0,-1,0,24.5)"},R.createElement("g",null,R.createElement("path",{d:"M9.67675,21L8.30998,21L9.67675,21L8.30998,21Q7.92728,21,7.68126,20.753909999999998Q7.43524,20.50781,7.43524,20.125Q7.43524,19.74219,7.68126,19.49609Q7.92728,19.25,8.30998,19.25L11.8089,19.25Q12.1916,19.25,12.4376,19.49609Q12.6837,19.74219,12.6837,20.125L12.6837,23.625Q12.6837,24.0078,12.4376,24.2539Q12.1916,24.5,11.8089,24.5Q11.4262,24.5,11.1802,24.2539Q10.9342,24.0078,10.9342,23.625L10.9342,22.23047L10.4421,22.6953Q9.23938,23.898400000000002,7.68126,24.3086Q6.12314,24.6914,4.56502,24.3086Q3.0069,23.898400000000002,1.80414,22.6953Q0.60138,21.49219,0.191348,19.93359Q-0.191348,18.375,0.191348,16.81641Q0.60138,15.25781,1.80414,14.05469Q3.0069,12.851562,4.56502,12.441406Q6.12314,12.058594,7.68126,12.441406Q9.23938,12.851562,10.4421,14.05469Q10.7155,14.30078,10.7155,14.65625Q10.7155,15.01172,10.4421,15.28516Q10.1961,15.53125,9.84076,15.53125Q9.4854,15.53125,9.21205,15.28516Q7.87261,14,6.12314,14Q4.37367,14,3.03424,15.28516Q1.74947,16.625,1.74947,18.375Q1.74947,20.125,3.03424,21.464840000000002Q4.37367,22.75,6.12314,22.75Q7.87261,22.75,9.21205,21.464840000000002L9.67675,21Z",fill:"#FFFFFF",fillOpacity:1,style:{mixBlendMode:"passthrough"}}))));function lR({onReload:e}){return h.jsx(E1,{title:"    ",description:"  ",icon:h.jsx(C1,{className:"w-7 h-7"}),children:h.jsxs("button",{className:"mt-4 flex items-center gap-2 bg-blue-500 text-white px-4 py-2 rounded cursor-pointer hover:bg-blue-600",onClick:e,children:[h.jsx(One,{className:"w-3 h-3"}),""]})})}function Pne(){return h.jsx(E1,{title:"   ",description:"    .     .",icon:h.jsx(zl,{className:"w-7 h-7",disabled:!0}),children:h.jsx(aR,{})})}function Ane(){return h.jsx(je,{justify:"justify-center",align:"items-center",children:h.jsx(Mt,{variant:"ghost",size:"medium",disabled:!0,children:"   5   ."})})}function Mne(){const{data:e,isPending:t,isError:n,refetch:r}=_1(),{data:i}=H2(s1.PINNED),s=jne(e?.map(l=>l.subjectId)??[]),o=l=>i?.find(f=>f.subjectId===l)?.seatCount??-1,a=l=>i?.find(f=>f.subjectId===l)?.queryTime??"";return t?h.jsx(Dne,{}):n?h.jsx(lR,{onReload:r}):!s||s.length===0?h.jsx(Pne,{}):h.jsxs(Gl,{columns:{base:1,md:3},gap:"gap-4",children:[s.map(l=>h.jsx(Ine,{subject:l,seats:o(l.subjectId),queryTime:a(l.subjectId)},`${l.subjectId}_${l.subjectCode}_${l.professorName}`)),s.length<5?h.jsx(aR,{}):h.jsx(Ane,{})]})}function Dne(){return h.jsx("div",{className:"animate-pulse grid grid-cols-1 md:grid-cols-3 gap-4",children:[0,0,0].map((e,t)=>h.jsx("div",{className:"bg-gray-300 shadow-sm rounded-lg p-4 h-24"},"skeleton-card-"+t))})}const Lne=()=>{const[e,t]=R.useState(!1);return h.jsxs(Wn,{children:[h.jsx(Yte,{isOpen:e,close:()=>t(!1)}),h.jsx(nne,{}),h.jsx(Fne,{setIsAlarmSettingOpen:t}),h.jsx(Mne,{})]})};function Fne({setIsAlarmSettingOpen:e}){const{isAlarm:t,changeAlarm:n}=gK(),{isError:r,refetch:i}=H2(s1.PINNED);return h.jsxs(je,{direction:"flex-row",justify:"justify-between",align:"align-top",className:"mb-4",children:[h.jsxs(je,{align:"items-center",justify:"justify-center",gap:"gap-2",children:[h.jsx(Vt,{level:3,children:"  "}),h.jsx(IQ,{children:h.jsxs("p",{className:"text-sm",children:["    ",h.jsx("br",{}),h.jsx("span",{className:"text-red-500",children:"*     "})]})})]}),h.jsxs(je,{align:"items-center",gap:"gap-1",children:[r&&h.jsx(Ar,{icon:h.jsx(tR,{className:"w-5 h-5"}),"aria-label":" ",label:" ",onClick:i}),h.jsx(Ar,{icon:h.jsx(Kte,{className:"w-5 h-5"}),"aria-label":" ",label:" ",onClick:()=>e(!0)}),h.jsx(Ar,{icon:h.jsx(hne,{isAlarm:t}),"aria-label":t?" ":" ",label:t?" ":" ",onClick:n})]})]})}const Bne=e=>R.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:15.75,height:18,viewBox:"0 0 15.75 18",...e},R.createElement("defs",null,R.createElement("clipPath",{id:"master_svg0_85_3269"},R.createElement("rect",{x:0,y:0,width:15.75,height:18,rx:0}))),R.createElement("g",{clipPath:"url(#master_svg0_85_3269)"},R.createElement("g",{transform:"matrix(1,0,0,-1,0,32.2734375)"},R.createElement("g",null,R.createElement("path",{d:"M15.4336,22.07812875Q15.75,22.42968875,15.75,22.88671875Q15.75,23.34374875,15.4336,23.69530875L9.80859,29.32031875Q9.45703,29.63671875,9,29.63671875Q8.54297,29.63671875,8.19141,29.32031875Q7.875,28.96871875,7.875,28.51171875Q7.875,28.05471875,8.19141,27.70311875L11.918,24.01171875L1.125,24.01171875Q0.632812,24.01171875,0.316406,23.69530875Q0,23.37890875,0,22.88671875Q0,22.39452875,0.316406,22.07812875Q0.632812,21.76171875,1.125,21.76171875L11.918,21.76171875L8.19141,18.07030875Q7.875,17.71874875,7.875,17.26171875Q7.875,16.80468775,8.19141,16.45312475Q8.54297,16.13671875,9,16.13671875Q9.45703,16.13671875,9.80859,16.45312475L15.4336,22.07812875Z",fill:"#FFFFFF",fillOpacity:1,style:{mixBlendMode:"passthrough"}})))));function $ne(e=200){const[t,n]=R.useState(!1);return R.useEffect(()=>{const i=()=>n(window.scrollY>e);return i(),window.addEventListener("scroll",i,{passive:!0}),()=>window.removeEventListener("scroll",i)},[e]),{isVisible:t,scrollToTop:()=>{window.scrollTo({top:0,behavior:"smooth"})}}}function cR({right:e="right-2 sm:right-10",bottom:t="bottom-4"}){const{isVisible:n,scrollToTop:r}=$ne(200);return h.jsx("button",{"aria-label":"  ",className:`fixed ${t} ${e} z-50 w-12 h-12 rounded-full bg-blue-500 text-white shadow-lg 
                  flex justify-center items-center cursor-pointer transition-opacity duration-200
                  ${n?"opacity-100":"opacity-0 pointer-events-none"}`,onClick:r,children:h.jsx(Bne,{className:"w-6 h-6 -rotate-90"})})}const Ul={keywords:"",department:"",grades:[],credits:[],categories:[],seatRange:null,wishRange:null,time:[],days:[],classroom:[],note:[],language:[],alarmOnly:!1,favoriteOnly:!1},yS=()=>ri(e=>({filters:{...Ul},setFilter:(t,n)=>e(r=>({filters:{...r.filters,[t]:n}})),resetFilters:()=>e({filters:Ul})})),co=yS(),Ed=yS(),Ph=yS();function vS(){return h.jsxs("div",{className:"flex justify-end items-center mt-2 text-xs text-gray-500",children:[h.jsxs("span",{className:"flex items-center gap-2",children:[h.jsx("span",{className:"block w-4 h-4 rounded bg-green-100 ml-1","aria-label":" "}),"  "]}),h.jsxs("span",{className:"flex items-center gap-2 ml-4",children:[h.jsx("span",{className:"block w-4 h-4 rounded bg-gray-100 ml-1","aria-label":" "})," "]})]})}function uR(e){const{data:t,isPending:n}=zo(),r=S1(t,_u),i=r&&r[0]&&"seat"in r[0],s=R.useMemo(()=>i?[...e,{title:"",key:"seat"}]:e,[r,e]);return{data:r,titles:s,isPending:n,hasRealSeats:i}}let Ui;function dR(){return Ui||(Ui=JSON.parse(localStorage.getItem("departmentRank")??"{}"),Ui)}function zne(){Ui&&localStorage.setItem("departmentRank",JSON.stringify(Ui))}function k1(e){Ui||(Ui=dR()),Ui[e]===void 0?Ui[e]=0:Ui[e]+=1,zne()}function fR(){return Ui||(Ui=dR()),Object.entries(Ui).sort(([,e],[,t])=>t-e)}function vf(e){const t=R.useMemo(()=>{const r=fR();return new Map(r.map(([i,s],o)=>[i,o]))},[]),n=R.useMemo(()=>{if(e)return Une(e)},[e]);return R.useMemo(()=>{if(!n)return;const r=o=>{const a=t.get(o);return a===void 0?5:a};return n.map(o=>{const l=(5-r(o.departmentCode??o.deptCd))*250+o.rank*100-Number(o.classCode);return{...o,searchScore:l}}).sort((o,a)=>a.searchScore-o.searchScore).map(({searchScore:o,...a})=>a)},[t,n])}function Une(e){const t=new Map;for(const n of e){const r=`${n.subjectCode}-${n.departmentCode}`,i=t.get(r);i?(i.sum+=n.totalCount??0,i.count+=1):t.set(r,{sum:n.totalCount??0,count:1})}return e.map(n=>{const r=`${n.subjectCode}-${n.departmentCode}`,i=t.get(r),s=i.sum/i.count;return{...n,rank:s}})}function T1(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function Hne(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(f){try{c(r.next(f))}catch(p){o(p)}}function l(f){try{c(r.throw(f))}catch(p){o(p)}}function c(f){f.done?s(f.value):i(f.value).then(a,l)}c((r=r.apply(e,t||[])).next())})}const Wne=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class bS extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class Vne extends bS{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class u6 extends bS{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class d6 extends bS{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var i_;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(i_||(i_={}));class qne{constructor(t,{headers:n={},customFetch:r,region:i=i_.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=Wne(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return Hne(this,arguments,void 0,function*(n,r={}){var i;let s,o;try{const{headers:a,method:l,body:c,signal:f,timeout:p}=r;let g={},{region:y}=r;y||(y=this.region);const x=new URL(`${this.url}/${n}`);y&&y!=="any"&&(g["x-region"]=y,x.searchParams.set("forceFunctionRegion",y));let _;c&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(g["Content-Type"]="application/octet-stream",_=c):typeof c=="string"?(g["Content-Type"]="text/plain",_=c):typeof FormData<"u"&&c instanceof FormData?_=c:(g["Content-Type"]="application/json",_=JSON.stringify(c)):c&&typeof c!="string"&&!(typeof Blob<"u"&&c instanceof Blob)&&!(c instanceof ArrayBuffer)&&!(typeof FormData<"u"&&c instanceof FormData)?_=JSON.stringify(c):_=c;let S=f;p&&(o=new AbortController,s=setTimeout(()=>o.abort(),p),f?(S=o.signal,f.addEventListener("abort",()=>o.abort())):S=o.signal);const C=yield this.fetch(x.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},g),this.headers),a),body:_,signal:S}).catch(U=>{throw new Vne(U)}),I=C.headers.get("x-relay-error");if(I&&I==="true")throw new u6(C);if(!C.ok)throw new d6(C);let A=((i=C.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),z;return A==="application/json"?z=yield C.json():A==="application/octet-stream"||A==="application/pdf"?z=yield C.blob():A==="text/event-stream"?z=C:A==="multipart/form-data"?z=yield C.formData():z=yield C.text(),{data:z,error:null,response:C}}catch(a){return{data:null,error:a,response:a instanceof d6||a instanceof u6?a.context:void 0}}finally{s&&clearTimeout(s)}})}}var Qne=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},Kne=class{constructor(e){var t,n,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(n=e.isMaybeSingle)!==null&&n!==void 0?n:!1,this.urlLengthLimit=(r=e.urlLengthLimit)!==null&&r!==void 0?r:8e3,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{let o=null,a=null,l=null,c=s.status,f=s.statusText;if(s.ok){var p,g;if(n.method!=="HEAD"){var y;const C=await s.text();C===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((y=n.headers.get("Accept"))===null||y===void 0)&&y.includes("application/vnd.pgrst.plan+text"))?a=C:a=JSON.parse(C))}const _=(p=n.headers.get("Prefer"))===null||p===void 0?void 0:p.match(/count=(exact|planned|estimated)/),S=(g=s.headers.get("content-range"))===null||g===void 0?void 0:g.split("/");_&&S&&S.length>1&&(l=parseInt(S[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(a)&&(a.length>1?(o={code:"PGRST116",details:`Results contain ${a.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},a=null,l=null,c=406,f="Not Acceptable"):a.length===1?a=a[0]:a=null)}else{var x;const _=await s.text();try{o=JSON.parse(_),Array.isArray(o)&&s.status===404&&(a=[],o=null,c=200,f="OK")}catch{s.status===404&&_===""?(c=204,f="No Content"):o={message:_}}if(o&&n.isMaybeSingle&&(!(o==null||(x=o.details)===null||x===void 0)&&x.includes("0 rows"))&&(o=null,c=200,f="OK"),o&&n.shouldThrowOnError)throw new Qne(o)}return{error:o,data:a,count:l,status:c,statusText:f}});return this.shouldThrowOnError||(i=i.catch(s=>{var o;let a="",l="",c="";const f=s?.cause;if(f){var p,g,y,x;const C=(p=f?.message)!==null&&p!==void 0?p:"",I=(g=f?.code)!==null&&g!==void 0?g:"";a=`${(y=s?.name)!==null&&y!==void 0?y:"FetchError"}: ${s?.message}`,a+=`

Caused by: ${(x=f?.name)!==null&&x!==void 0?x:"Error"}: ${C}`,I&&(a+=` (${I})`),f?.stack&&(a+=`
${f.stack}`)}else{var _;a=(_=s?.stack)!==null&&_!==void 0?_:""}const S=this.url.toString().length;return s?.name==="AbortError"||s?.code==="ABORT_ERR"?(c="",l="Request was aborted (timeout or manual cancellation)",S>this.urlLengthLimit&&(l+=`. Note: Your request URL is ${S} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):(f?.name==="HeadersOverflowError"||f?.code==="UND_ERR_HEADERS_OVERFLOW")&&(c="",l="HTTP headers exceeded server limits (typically 16KB)",S>this.urlLengthLimit&&(l+=`. Your request URL is ${S} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(o=s?.name)!==null&&o!==void 0?o:"FetchError"}: ${s?.message}`,details:a,hint:l,code:c},data:null,count:null,status:0,statusText:""}})),i.then(e,t)}returns(){return this}overrideTypes(){return this}},Gne=class extends Kne{select(e){let t=!1;const n=(e??"*").split("").map(r=>/\s/.test(r)&&!t?"":(r==='"'&&(t=!t),r)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:n,foreignTable:r,referencedTable:i=r}={}){const s=i?`${i}.order`:"order",o=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${o?`${o},`:""}${e}.${t?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:n=t}={}){const r=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${e}`),this}range(e,t,{foreignTable:n,referencedTable:r=n}={}){const i=typeof r>"u"?"offset":`${r}.offset`,s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(s,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:r=!1,wal:i=!1,format:s="text"}={}){var o;const a=[e?"analyze":null,t?"verbose":null,n?"settings":null,r?"buffers":null,i?"wal":null].filter(Boolean).join("|"),l=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${s}; for="${l}"; options=${a};`),s==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const f6=new RegExp("[,()]");var Cd=class extends Gne{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const n=Array.from(new Set(t)).map(r=>typeof r=="string"&&f6.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}notIn(e,t){const n=Array.from(new Set(t)).map(r=>typeof r=="string"&&f6.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`not.in.(${n})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:n,type:r}={}){let i="";r==="plain"?i="pl":r==="phrase"?i="ph":r==="websearch"&&(i="w");const s=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${i}fts${s}.${t}`),this}match(e){return Object.entries(e).forEach(([t,n])=>{this.url.searchParams.append(t,`eq.${n}`)}),this}not(e,t,n){return this.url.searchParams.append(e,`not.${t}.${n}`),this}or(e,{foreignTable:t,referencedTable:n=t}={}){const r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${e})`),this}filter(e,t,n){return this.url.searchParams.append(e,`${t}.${n}`),this}},Yne=class{constructor(e,{headers:t={},schema:n,fetch:r,urlLengthLimit:i=8e3}){this.url=e,this.headers=new Headers(t),this.schema=n,this.fetch=r,this.urlLengthLimit=i}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:n=!1,count:r}=t??{},i=n?"HEAD":"GET";let s=!1;const o=(e??"*").split("").map(c=>/\s/.test(c)&&!s?"":(c==='"'&&(s=!s),c)).join(""),{url:a,headers:l}=this.cloneRequestState();return a.searchParams.set("select",o),r&&l.append("Prefer",`count=${r}`),new Cd({method:i,url:a,headers:l,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(e,{count:t,defaultToNull:n=!0}={}){var r;const i="POST",{url:s,headers:o}=this.cloneRequestState();if(t&&o.append("Prefer",`count=${t}`),n||o.append("Prefer","missing=default"),Array.isArray(e)){const a=e.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(a.length>0){const l=[...new Set(a)].map(c=>`"${c}"`);s.searchParams.set("columns",l.join(","))}}return new Cd({method:i,url:s,headers:o,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(e,{onConflict:t,ignoreDuplicates:n=!1,count:r,defaultToNull:i=!0}={}){var s;const o="POST",{url:a,headers:l}=this.cloneRequestState();if(l.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),t!==void 0&&a.searchParams.set("on_conflict",t),r&&l.append("Prefer",`count=${r}`),i||l.append("Prefer","missing=default"),Array.isArray(e)){const c=e.reduce((f,p)=>f.concat(Object.keys(p)),[]);if(c.length>0){const f=[...new Set(c)].map(p=>`"${p}"`);a.searchParams.set("columns",f.join(","))}}return new Cd({method:o,url:a,headers:l,schema:this.schema,body:e,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch,urlLengthLimit:this.urlLengthLimit})}update(e,{count:t}={}){var n;const r="PATCH",{url:i,headers:s}=this.cloneRequestState();return t&&s.append("Prefer",`count=${t}`),new Cd({method:r,url:i,headers:s,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:e}={}){var t;const n="DELETE",{url:r,headers:i}=this.cloneRequestState();return e&&i.append("Prefer",`count=${e}`),new Cd({method:n,url:r,headers:i,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch,urlLengthLimit:this.urlLengthLimit})}};function bp(e){"@babel/helpers - typeof";return bp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bp(e)}function Jne(e,t){if(bp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(bp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xne(e){var t=Jne(e,"string");return bp(t)=="symbol"?t:t+""}function Zne(e,t,n){return(t=Xne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Yg(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?h6(Object(n),!0).forEach(function(r){Zne(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h6(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var ere=class hR{constructor(t,{headers:n={},schema:r,fetch:i,timeout:s,urlLengthLimit:o=8e3}={}){this.url=t,this.headers=new Headers(n),this.schemaName=r,this.urlLengthLimit=o;const a=i??globalThis.fetch;s!==void 0&&s>0?this.fetch=(l,c)=>{const f=new AbortController,p=setTimeout(()=>f.abort(),s),g=c?.signal;if(g){if(g.aborted)return clearTimeout(p),a(l,c);const y=()=>{clearTimeout(p),f.abort()};return g.addEventListener("abort",y,{once:!0}),a(l,Yg(Yg({},c),{},{signal:f.signal})).finally(()=>{clearTimeout(p),g.removeEventListener("abort",y)})}return a(l,Yg(Yg({},c),{},{signal:f.signal})).finally(()=>clearTimeout(p))}:this.fetch=a}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new Yne(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(t){return new hR(this.url,{headers:this.headers,schema:t,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(t,n={},{head:r=!1,get:i=!1,count:s}={}){var o;let a;const l=new URL(`${this.url}/rpc/${t}`);let c;const f=y=>y!==null&&typeof y=="object"&&(!Array.isArray(y)||y.some(f)),p=r&&Object.values(n).some(f);p?(a="POST",c=n):r||i?(a=r?"HEAD":"GET",Object.entries(n).filter(([y,x])=>x!==void 0).map(([y,x])=>[y,Array.isArray(x)?`{${x.join(",")}}`:`${x}`]).forEach(([y,x])=>{l.searchParams.append(y,x)})):(a="POST",c=n);const g=new Headers(this.headers);return p?g.set("Prefer",s?`count=${s},return=minimal`:"return=minimal"):s&&g.set("Prefer",`count=${s}`),new Cd({method:a,url:l,headers:g,schema:this.schemaName,body:c,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch,urlLengthLimit:this.urlLengthLimit})}};class tre{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const n=globalThis.process;if(n){const r=n.versions;if(r&&r.node){const i=r.node,s=parseInt(i.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const nre="2.95.3",rre=`realtime-js/${nre}`,ire="1.0.0",pR="2.0.0",p6=pR,s_=1e4,sre=1e3,ore=100;var yl;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(yl||(yl={}));var Ir;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Ir||(Ir={}));var ro;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(ro||(ro={}));var o_;(function(e){e.websocket="websocket"})(o_||(o_={}));var Lc;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Lc||(Lc={}));class are{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,n){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(t));let r=[t.join_ref,t.ref,t.topic,t.event,t.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(t){var n;return this._isArrayBuffer((n=t.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var n,r;const i=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(t){var n,r;const i=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},o=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(t,n,r){var i,s;const o=t.topic,a=(i=t.ref)!==null&&i!==void 0?i:"",l=(s=t.join_ref)!==null&&s!==void 0?s:"",c=t.payload.event,f=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},p=Object.keys(f).length===0?"":JSON.stringify(f);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`ref length ${a.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`userEvent length ${c.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`metadata length ${p.length} exceeds maximum of 255`);const g=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+a.length+o.length+c.length+p.length,y=new ArrayBuffer(this.HEADER_LENGTH+g);let x=new DataView(y),_=0;x.setUint8(_++,this.KINDS.userBroadcastPush),x.setUint8(_++,l.length),x.setUint8(_++,a.length),x.setUint8(_++,o.length),x.setUint8(_++,c.length),x.setUint8(_++,p.length),x.setUint8(_++,n),Array.from(l,C=>x.setUint8(_++,C.charCodeAt(0))),Array.from(a,C=>x.setUint8(_++,C.charCodeAt(0))),Array.from(o,C=>x.setUint8(_++,C.charCodeAt(0))),Array.from(c,C=>x.setUint8(_++,C.charCodeAt(0))),Array.from(p,C=>x.setUint8(_++,C.charCodeAt(0)));var S=new Uint8Array(y.byteLength+r.byteLength);return S.set(new Uint8Array(y),0),S.set(new Uint8Array(r),y.byteLength),S.buffer}decode(t,n){if(this._isArrayBuffer(t)){let r=this._binaryDecode(t);return n(r)}if(typeof t=="string"){const r=JSON.parse(t),[i,s,o,a,l]=r;return n({join_ref:i,ref:s,topic:o,event:a,payload:l})}return n({})}_binaryDecode(t){const n=new DataView(t),r=n.getUint8(0),i=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,n,i)}}_decodeUserBroadcast(t,n,r){const i=n.getUint8(1),s=n.getUint8(2),o=n.getUint8(3),a=n.getUint8(4);let l=this.HEADER_LENGTH+4;const c=r.decode(t.slice(l,l+i));l=l+i;const f=r.decode(t.slice(l,l+s));l=l+s;const p=r.decode(t.slice(l,l+o));l=l+o;const g=t.slice(l,t.byteLength),y=a===this.JSON_ENCODING?JSON.parse(r.decode(g)):g,x={type:this.BROADCAST_EVENT,event:f,payload:y};return o>0&&(x.meta=JSON.parse(p)),{join_ref:null,ref:null,topic:c,event:this.BROADCAST_EVENT,payload:x}}_isArrayBuffer(t){var n;return t instanceof ArrayBuffer||((n=t?.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(t,n){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([r])=>n.includes(r)))}}class mR{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var In;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(In||(In={}));const m6=(e,t,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((s,o)=>(s[o]=lre(o,e,t,i),s),{}):{}},lre=(e,t,n,r)=>{const i=t.find(a=>a.name===e),s=i?.type,o=n[e];return s&&!r.includes(s)?gR(s,o):a_(o)},gR=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return fre(t,n)}switch(e){case In.bool:return cre(t);case In.float4:case In.float8:case In.int2:case In.int4:case In.int8:case In.numeric:case In.oid:return ure(t);case In.json:case In.jsonb:return dre(t);case In.timestamp:return hre(t);case In.abstime:case In.date:case In.daterange:case In.int4range:case In.int8range:case In.money:case In.reltime:case In.text:case In.time:case In.timestamptz:case In.timetz:case In.tsrange:case In.tstzrange:return a_(t);default:return a_(t)}},a_=e=>e,cre=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},ure=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},dre=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},fre=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let s;const o=e.slice(1,n);try{s=JSON.parse("["+o+"]")}catch{s=o?o.split(","):[]}return s.map(a=>gR(t,a))}return e},hre=e=>typeof e=="string"?e.replace(" ","T"):e,yR=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class lx{constructor(t,n,r={},i=s_){this.channel=t,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var g6;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(g6||(g6={}));class Qh{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Qh.syncState(this.state,i,s,o),this.pendingDiffs.forEach(l=>{this.state=Qh.syncDiff(this.state,l,s,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},i=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Qh.syncDiff(this.state,i,s,o),a())}),this.onJoin((i,s,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:o})}),this.onLeave((i,s,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,i){const s=this.cloneDeep(t),o=this.transformState(n),a={},l={};return this.map(s,(c,f)=>{o[c]||(l[c]=f)}),this.map(o,(c,f)=>{const p=s[c];if(p){const g=f.map(S=>S.presence_ref),y=p.map(S=>S.presence_ref),x=f.filter(S=>y.indexOf(S.presence_ref)<0),_=p.filter(S=>g.indexOf(S.presence_ref)<0);x.length>0&&(a[c]=x),_.length>0&&(l[c]=_)}else a[c]=f}),this.syncDiff(s,{joins:a,leaves:l},r,i)}static syncDiff(t,n,r,i){const{joins:s,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(s,(a,l)=>{var c;const f=(c=t[a])!==null&&c!==void 0?c:[];if(t[a]=this.cloneDeep(l),f.length>0){const p=t[a].map(y=>y.presence_ref),g=f.filter(y=>p.indexOf(y.presence_ref)<0);t[a].unshift(...g)}r(a,f,l)}),this.map(o,(a,l)=>{let c=t[a];if(!c)return;const f=l.map(p=>p.presence_ref);c=c.filter(p=>f.indexOf(p.presence_ref)<0),t[a]=c,i(a,c,l),c.length===0&&delete t[a]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const i=t[r];return"metas"in i?n[r]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):n[r]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var y6;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(y6||(y6={}));var Kh;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Kh||(Kh={}));var ma;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(ma||(ma={}));class Md{constructor(t,n={config:{}},r){var i,s;if(this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=Ir.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new lx(this,ro.join,this.params,this.timeout),this.rejoinTimer=new mR(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ir.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ir.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Ir.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ir.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Ir.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ro.reply,{},(o,a)=>{this._trigger(this._replyEventName(a),o)}),this.presence=new Qh(this),this.broadcastEndpointURL=yR(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((s=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||s===void 0)&&s.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var r,i,s;if(this.socket.isConnected()||this.socket.connect(),this.state==Ir.closed){const{config:{broadcast:o,presence:a,private:l}}=this.params,c=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(y=>y.filter))!==null&&i!==void 0?i:[],f=!!this.bindings[Kh.PRESENCE]&&this.bindings[Kh.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,p={},g={broadcast:o,presence:Object.assign(Object.assign({},a),{enabled:f}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(p.access_token=this.socket.accessTokenValue),this._onError(y=>t?.(ma.CHANNEL_ERROR,y)),this._onClose(()=>t?.(ma.CLOSED)),this.updateJoinPayload(Object.assign({config:g},p)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:y})=>{var x;if(this.socket._isManualToken()||this.socket.setAuth(),y===void 0){t?.(ma.SUBSCRIBED);return}else{const _=this.bindings.postgres_changes,S=(x=_?.length)!==null&&x!==void 0?x:0,C=[];for(let I=0;I<S;I++){const A=_[I],{filter:{event:z,schema:U,table:O,filter:N}}=A,F=y&&y[I];if(F&&F.event===z&&Md.isFilterValueEqual(F.schema,U)&&Md.isFilterValueEqual(F.table,O)&&Md.isFilterValueEqual(F.filter,N))C.push(Object.assign(Object.assign({},A),{id:F.id}));else{this.unsubscribe(),this.state=Ir.errored,t?.(ma.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=C,t&&t(ma.SUBSCRIBED);return}}).receive("error",y=>{this.state=Ir.errored,t?.(ma.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(y).join(", ")||"error")))}).receive("timeout",()=>{t?.(ma.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===Ir.joined&&t===Kh.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,n,r)}async httpSend(t,n,r={}){var i;if(n==null)return Promise.reject("Payload is required for httpSend()");const s={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(s.Authorization=`Bearer ${this.socket.accessTokenValue}`);const o={method:"POST",headers:s,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);if(a.status===202)return{success:!0};let l=a.statusText;try{const c=await a.json();l=c.error||c.message||l}catch{}return Promise.reject(new Error(l))}async send(t,n={}){var r,i;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:s,payload:o}=t,a={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(a.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:a,body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=c.body)===null||i===void 0?void 0:i.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var o,a,l;const c=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&s("ok"),c.receive("ok",()=>s("ok")),c.receive("error",()=>s("error")),c.receive("timeout",()=>s("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Ir.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ro.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new lx(this,ro.leave,{},t),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ir.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const i=new AbortController,s=setTimeout(()=>i.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(s),o}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new lx(this,t,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>ore){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var i,s;const o=t.toLocaleLowerCase(),{close:a,error:l,leave:c,join:f}=ro;if(r&&[a,l,c,f].indexOf(o)>=0&&r!==this._joinRef())return;let g=this._onMessage(o,n,r);if(n&&!g)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(y=>{var x,_,S;return((x=y.filter)===null||x===void 0?void 0:x.event)==="*"||((S=(_=y.filter)===null||_===void 0?void 0:_.event)===null||S===void 0?void 0:S.toLocaleLowerCase())===o}).map(y=>y.callback(g,r)):(s=this.bindings[o])===null||s===void 0||s.filter(y=>{var x,_,S,C,I,A;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in y){const z=y.id,U=(x=y.filter)===null||x===void 0?void 0:x.event;return z&&((_=n.ids)===null||_===void 0?void 0:_.includes(z))&&(U==="*"||U?.toLocaleLowerCase()===((S=n.data)===null||S===void 0?void 0:S.type.toLocaleLowerCase()))}else{const z=(I=(C=y?.filter)===null||C===void 0?void 0:C.event)===null||I===void 0?void 0:I.toLocaleLowerCase();return z==="*"||z===((A=n?.event)===null||A===void 0?void 0:A.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===o}).map(y=>{if(typeof g=="object"&&"ids"in g){const x=g.data,{schema:_,table:S,commit_timestamp:C,type:I,errors:A}=x;g=Object.assign(Object.assign({},{schema:_,table:S,commit_timestamp:C,eventType:I,new:{},old:{},errors:A}),this._getPayloadRecords(x))}y.callback(g,r)})}_isClosed(){return this.state===Ir.closed}_isJoined(){return this.state===Ir.joined}_isJoining(){return this.state===Ir.joining}_isLeaving(){return this.state===Ir.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const i=t.toLocaleLowerCase(),s={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===r&&Md.isEqual(i.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}static isFilterValueEqual(t,n){return(t??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(ro.close,{},t)}_onError(t){this._on(ro.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ir.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=m6(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=m6(t.columns,t.old_record)),n}}const cx=()=>{},Jg={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},pre=[1e3,2e3,5e3,1e4],mre=1e4,gre=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class yre{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=s_,this.transport=null,this.heartbeatIntervalMs=Jg.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=cx,this.ref=0,this.reconnectTimer=null,this.vsn=p6,this.logger=cx,this.conn=null,this.sendBuffer=[],this.serializer=new are,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=i=>i?(...s)=>i(...s):(...s)=>fetch(...s),!(!((r=n?.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${o_.websocket}`,this.httpEndpoint=yR(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=tre.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return n==="ok"&&this._remove(t),this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case yl.connecting:return Lc.Connecting;case yl.open:return Lc.Open;case yl.closing:return Lc.Closing;default:return Lc.Closed}}isConnected(){return this.connectionState()===Lc.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,i=this.getChannels().find(s=>s.topic===r);if(i)return i;{const s=new Md(`realtime:${t}`,n,this);return this.channels.push(s),s}}push(t){const{topic:n,event:r,payload:i,ref:s}=t,o=()=>{this.encode(t,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${r} (${s})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(sre,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Jg.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply"&&n.ref&&n.ref===this.pendingHeartbeatRef){const c=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error",c)}catch(f){this.log("error","error in heartbeat callback",f)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:r,event:i,payload:s,ref:o}=n,a=o?`(${o})`:"",l=s.status||"";this.log("receive",`${l} ${r} ${i} ${a}`.trim(),s),this.channels.filter(c=>c._isMember(r)).forEach(c=>c._trigger(i,s,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===yl.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===yl.open||this.conn.readyState===yl.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t);try{this.heartbeatCallback("error")}catch(n){this.log("error","error in heartbeat callback",n)}}_triggerChanError(){this.channels.forEach(t=>t._trigger(ro.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${r}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([gre],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n,r=!1;if(t)n=t,r=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),n=this.accessTokenValue}else n=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(i=>{const s={access_token:n,version:rre};n&&i.updateJoinPayload(s),i.joinedOnce&&i._isJoined()&&i._push(ro.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new mR(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Jg.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,i,s,o,a,l,c,f,p,g,y;switch(this.transport=(n=t?.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t?.timeout)!==null&&r!==void 0?r:s_,this.heartbeatIntervalMs=(i=t?.heartbeatIntervalMs)!==null&&i!==void 0?i:Jg.HEARTBEAT_INTERVAL,this.worker=(s=t?.worker)!==null&&s!==void 0?s:!1,this.accessToken=(o=t?.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(a=t?.heartbeatCallback)!==null&&a!==void 0?a:cx,this.vsn=(l=t?.vsn)!==null&&l!==void 0?l:p6,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t?.reconnectAfterMs)!==null&&c!==void 0?c:(x=>pre[x-1]||mre),this.vsn){case ire:this.encode=(f=t?.encode)!==null&&f!==void 0?f:((x,_)=>_(JSON.stringify(x))),this.decode=(p=t?.decode)!==null&&p!==void 0?p:((x,_)=>_(JSON.parse(x)));break;case pR:this.encode=(g=t?.encode)!==null&&g!==void 0?g:this.serializer.encode.bind(this.serializer),this.decode=(y=t?.decode)!==null&&y!==void 0?y:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}}var xp=class extends Error{constructor(e,t){super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&t.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function vre(e,t,n){const r=new URL(t,e);if(n)for(const[i,s]of Object.entries(n))s!==void 0&&r.searchParams.set(i,s);return r.toString()}async function bre(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function xre(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:i,body:s,headers:o}){const a=vre(e.baseUrl,r,i),l=await bre(e.auth),c=await t(a,{method:n,headers:{...s?{"Content-Type":"application/json"}:{},...l,...o},body:s?JSON.stringify(s):void 0}),f=await c.text(),p=(c.headers.get("content-type")||"").includes("application/json"),g=p&&f?JSON.parse(f):f;if(!c.ok){const y=p?g:void 0,x=y?.error;throw new xp(x?.message??`Request failed with status ${c.status}`,{status:c.status,icebergType:x?.type,icebergCode:x?.code,details:y})}return{status:c.status,headers:c.headers,data:g}}}}function Xg(e){return e.join("")}var wre=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:Xg(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(e,t){const n={namespace:e.namespace,properties:t?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Xg(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Xg(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Xg(e.namespace)}`}),!0}catch(t){if(t instanceof xp&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(n){if(n instanceof xp&&n.status===409)return;throw n}}};function dd(e){return e.join("")}var _re=class{constructor(e,t="",n){this.client=e,this.prefix=t,this.accessDelegation=n}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${dd(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${dd(e.namespace)}/tables`,body:t,headers:n})).data.metadata}async updateTable(e,t){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${dd(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${dd(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String(t?.purge??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${dd(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${dd(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(n){if(n instanceof xp&&n.status===404)return!1;throw n}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(n){if(n instanceof xp&&n.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw n}}},Sre=class{constructor(e){let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const n=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=xre({baseUrl:n,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=e.accessDelegation?.join(","),this.namespaceOps=new wre(this.client,t),this.tableOps=new _re(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},j1=class extends Error{constructor(e,t="storage",n,r){super(e),this.__isStorageError=!0,this.namespace=t,this.name=t==="vectors"?"StorageVectorsError":"StorageError",this.status=n,this.statusCode=r}};function I1(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var Zg=class extends j1{constructor(e,t,n,r="storage"){super(e,r,t,n),this.name=r==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},vR=class extends j1{constructor(e,t,n="storage"){super(e,n),this.name=n==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=t}};const Ere=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Cre=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},l_=e=>{if(Array.isArray(e))return e.map(n=>l_(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));t[i]=l_(r)}),t},kre=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function wp(e){"@babel/helpers - typeof";return wp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wp(e)}function Tre(e,t){if(wp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(wp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jre(e){var t=Tre(e,"string");return wp(t)=="symbol"?t:t+""}function Ire(e,t,n){return(t=jre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function St(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?v6(Object(n),!0).forEach(function(r){Ire(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v6(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const b6=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},Rre=async(e,t,n,r)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!n?.noResolveJson){const i=e,s=i.status||500;if(typeof i.json=="function")i.json().then(o=>{const a=o?.statusCode||o?.code||s+"";t(new Zg(b6(o),s,a,r))}).catch(()=>{if(r==="vectors"){const o=s+"";t(new Zg(i.statusText||`HTTP ${s} error`,s,o,r))}else{const o=s+"";t(new Zg(i.statusText||`HTTP ${s} error`,s,o,r))}});else{const o=s+"";t(new Zg(i.statusText||`HTTP ${s} error`,s,o,r))}}else t(new vR(b6(e),e,r))},Nre=(e,t,n,r)=>{const i={method:e,headers:t?.headers||{}};return e==="GET"||e==="HEAD"||!r?St(St({},i),n):(Cre(r)?(i.headers=St({"Content-Type":"application/json"},t?.headers),i.body=JSON.stringify(r)):i.body=r,t?.duplex&&(i.duplex=t.duplex),St(St({},i),n))};async function bh(e,t,n,r,i,s,o){return new Promise((a,l)=>{e(n,Nre(t,r,i,s)).then(c=>{if(!c.ok)throw c;if(r?.noResolveJson)return c;if(o==="vectors"){const f=c.headers.get("content-type");if(c.headers.get("content-length")==="0"||c.status===204)return{};if(!f||!f.includes("application/json"))return{}}return c.json()}).then(c=>a(c)).catch(c=>Rre(c,l,r,o))})}function bR(e="storage"){return{get:async(t,n,r,i)=>bh(t,"GET",n,r,i,void 0,e),post:async(t,n,r,i,s)=>bh(t,"POST",n,i,s,r,e),put:async(t,n,r,i,s)=>bh(t,"PUT",n,i,s,r,e),head:async(t,n,r,i)=>bh(t,"HEAD",n,St(St({},r),{},{noResolveJson:!0}),i,void 0,e),remove:async(t,n,r,i,s)=>bh(t,"DELETE",n,i,s,r,e)}}const Ore=bR("storage"),{get:_p,post:to,put:c_,head:Pre,remove:xS}=Ore,as=bR("vectors");var bf=class{constructor(e,t={},n,r="storage"){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.fetch=Ere(n),this.namespace=r}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(e){var t=this;try{return{data:await e(),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(I1(n))return{data:null,error:n};throw n}}},Are=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(I1(t))return{data:null,error:t};throw t}}};let xR;xR=Symbol.toStringTag;var Mre=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[xR]="BlobDownloadBuilder",this.promise=null}asStream(){return new Are(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(I1(t))return{data:null,error:t};throw t}}};const Dre={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},x6={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var Lre=class extends bf{constructor(e,t={},n,r){super(e,t,r,"storage"),this.bucketId=n}async uploadOrUpdate(e,t,n,r){var i=this;return i.handleOperation(async()=>{let s;const o=St(St({},x6),r);let a=St(St({},i.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&n instanceof Blob?(s=new FormData,s.append("cacheControl",o.cacheControl),l&&s.append("metadata",i.encodeMetadata(l)),s.append("",n)):typeof FormData<"u"&&n instanceof FormData?(s=n,s.has("cacheControl")||s.append("cacheControl",o.cacheControl),l&&!s.has("metadata")&&s.append("metadata",i.encodeMetadata(l))):(s=n,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=i.toBase64(i.encodeMetadata(l))),(typeof ReadableStream<"u"&&s instanceof ReadableStream||s&&typeof s=="object"&&"pipe"in s&&typeof s.pipe=="function")&&!o.duplex&&(o.duplex="half")),r?.headers&&(a=St(St({},a),r.headers));const c=i._removeEmptyFolders(t),f=i._getFinalPath(c),p=await(e=="PUT"?c_:to)(i.fetch,`${i.url}/object/${f}`,s,St({headers:a},o?.duplex?{duplex:o.duplex}:{}));return{path:c,id:p.Id,fullPath:p.Key}})}async upload(e,t,n){return this.uploadOrUpdate("POST",e,t,n)}async uploadToSignedUrl(e,t,n,r){var i=this;const s=i._removeEmptyFolders(e),o=i._getFinalPath(s),a=new URL(i.url+`/object/upload/sign/${o}`);return a.searchParams.set("token",t),i.handleOperation(async()=>{let l;const c=St({upsert:x6.upsert},r),f=St(St({},i.headers),{"x-upsert":String(c.upsert)});return typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",c.cacheControl)):(l=n,f["cache-control"]=`max-age=${c.cacheControl}`,f["content-type"]=c.contentType),{path:s,fullPath:(await c_(i.fetch,a.toString(),l,{headers:f})).Key}})}async createSignedUploadUrl(e,t){var n=this;return n.handleOperation(async()=>{let r=n._getFinalPath(e);const i=St({},n.headers);t?.upsert&&(i["x-upsert"]="true");const s=await to(n.fetch,`${n.url}/object/upload/sign/${r}`,{},{headers:i}),o=new URL(n.url+s.url),a=o.searchParams.get("token");if(!a)throw new j1("No token returned by API");return{signedUrl:o.toString(),path:e,token:a}})}async update(e,t,n){return this.uploadOrUpdate("PUT",e,t,n)}async move(e,t,n){var r=this;return r.handleOperation(async()=>await to(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n?.destinationBucket},{headers:r.headers}))}async copy(e,t,n){var r=this;return r.handleOperation(async()=>({path:(await to(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n?.destinationBucket},{headers:r.headers})).Key}))}async createSignedUrl(e,t,n){var r=this;return r.handleOperation(async()=>{let i=r._getFinalPath(e),s=await to(r.fetch,`${r.url}/object/sign/${i}`,St({expiresIn:t},n?.transform?{transform:n.transform}:{}),{headers:r.headers});const o=n?.download?`&download=${n.download===!0?"":n.download}`:"";return{signedUrl:encodeURI(`${r.url}${s.signedURL}${o}`)}})}async createSignedUrls(e,t,n){var r=this;return r.handleOperation(async()=>{const i=await to(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:t,paths:e},{headers:r.headers}),s=n?.download?`&download=${n.download===!0?"":n.download}`:"";return i.map(o=>St(St({},o),{},{signedUrl:o.signedURL?encodeURI(`${r.url}${o.signedURL}${s}`):null}))})}download(e,t,n){const r=typeof t?.transform<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString(t?.transform||{}),s=i?`?${i}`:"",o=this._getFinalPath(e),a=()=>_p(this.fetch,`${this.url}/${r}/${o}${s}`,{headers:this.headers,noResolveJson:!0},n);return new Mre(a,this.shouldThrowOnError)}async info(e){var t=this;const n=t._getFinalPath(e);return t.handleOperation(async()=>l_(await _p(t.fetch,`${t.url}/object/info/${n}`,{headers:t.headers})))}async exists(e){var t=this;const n=t._getFinalPath(e);try{return await Pre(t.fetch,`${t.url}/object/${n}`,{headers:t.headers}),{data:!0,error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(I1(r)&&r instanceof vR){const i=r.originalError;if([400,404].includes(i?.status))return{data:!1,error:r}}throw r}}getPublicUrl(e,t){const n=this._getFinalPath(e),r=[],i=t?.download?`download=${t.download===!0?"":t.download}`:"";i!==""&&r.push(i);const s=typeof t?.transform<"u"?"render/image":"object",o=this.transformOptsToQueryString(t?.transform||{});o!==""&&r.push(o);let a=r.join("&");return a!==""&&(a=`?${a}`),{data:{publicUrl:encodeURI(`${this.url}/${s}/public/${n}${a}`)}}}async remove(e){var t=this;return t.handleOperation(async()=>await xS(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}))}async list(e,t,n){var r=this;return r.handleOperation(async()=>{const i=St(St(St({},Dre),t),{},{prefix:e||""});return await to(r.fetch,`${r.url}/object/list/${r.bucketId}`,i,{headers:r.headers},n)})}async listV2(e,t){var n=this;return n.handleOperation(async()=>{const r=St({},e);return await to(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,r,{headers:n.headers},t)})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const Fre="2.95.3",Xp={"X-Client-Info":`storage-js/${Fre}`};var Bre=class extends bf{constructor(e,t={},n,r){const i=new URL(e);r?.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase."));const s=i.href.replace(/\/$/,""),o=St(St({},Xp),t);super(s,o,n,"storage")}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const n=t.listBucketOptionsToQueryString(e);return await _p(t.fetch,`${t.url}/bucket${n}`,{headers:t.headers})})}async getBucket(e){var t=this;return t.handleOperation(async()=>await _p(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}))}async createBucket(e,t={public:!1}){var n=this;return n.handleOperation(async()=>await to(n.fetch,`${n.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}))}async updateBucket(e,t){var n=this;return n.handleOperation(async()=>await c_(n.fetch,`${n.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}))}async emptyBucket(e){var t=this;return t.handleOperation(async()=>await to(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await xS(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},$re=class extends bf{constructor(e,t={},n){const r=e.replace(/\/$/,""),i=St(St({},Xp),t);super(r,i,n,"storage")}async createBucket(e){var t=this;return t.handleOperation(async()=>await to(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}))}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const n=new URLSearchParams;e?.limit!==void 0&&n.set("limit",e.limit.toString()),e?.offset!==void 0&&n.set("offset",e.offset.toString()),e?.sortColumn&&n.set("sortColumn",e.sortColumn),e?.sortOrder&&n.set("sortOrder",e.sortOrder),e?.search&&n.set("search",e.search);const r=n.toString(),i=r?`${t.url}/bucket?${r}`:`${t.url}/bucket`;return await _p(t.fetch,i,{headers:t.headers})})}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await xS(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}from(e){var t=this;if(!kre(e))throw new j1("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new Sre({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(n,{get(i,s){const o=i[s];return typeof o!="function"?o:async(...a)=>{try{return{data:await o.apply(i,a),error:null}}catch(l){if(r)throw l;return{data:null,error:l}}}}})}},zre=class extends bf{constructor(e,t={},n){const r=e.replace(/\/$/,""),i=St(St({},Xp),{},{"Content-Type":"application/json"},t);super(r,i,n,"vectors")}async createIndex(e){var t=this;return t.handleOperation(async()=>await as.post(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{})}async getIndex(e,t){var n=this;return n.handleOperation(async()=>await as.post(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers}))}async listIndexes(e){var t=this;return t.handleOperation(async()=>await as.post(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}))}async deleteIndex(e,t){var n=this;return n.handleOperation(async()=>await as.post(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers})||{})}},Ure=class extends bf{constructor(e,t={},n){const r=e.replace(/\/$/,""),i=St(St({},Xp),{},{"Content-Type":"application/json"},t);super(r,i,n,"vectors")}async putVectors(e){var t=this;if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return t.handleOperation(async()=>await as.post(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{})}async getVectors(e){var t=this;return t.handleOperation(async()=>await as.post(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}))}async listVectors(e){var t=this;if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return t.handleOperation(async()=>await as.post(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}))}async queryVectors(e){var t=this;return t.handleOperation(async()=>await as.post(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}))}async deleteVectors(e){var t=this;if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return t.handleOperation(async()=>await as.post(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{})}},Hre=class extends bf{constructor(e,t={},n){const r=e.replace(/\/$/,""),i=St(St({},Xp),{},{"Content-Type":"application/json"},t);super(r,i,n,"vectors")}async createBucket(e){var t=this;return t.handleOperation(async()=>await as.post(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}async getBucket(e){var t=this;return t.handleOperation(async()=>await as.post(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}))}async listBuckets(e={}){var t=this;return t.handleOperation(async()=>await as.post(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await as.post(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}},Wre=class extends Hre{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new Vre(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,n=this;return t().call(n,e)}async getBucket(e){var t=()=>super.getBucket,n=this;return t().call(n,e)}async listBuckets(e={}){var t=()=>super.listBuckets,n=this;return t().call(n,e)}async deleteBucket(e){var t=()=>super.deleteBucket,n=this;return t().call(n,e)}},Vre=class extends zre{constructor(e,t,n,r){super(e,t,r),this.vectorBucketName=n}async createIndex(e){var t=()=>super.createIndex,n=this;return t().call(n,St(St({},e),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,n=this;return t().call(n,St(St({},e),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,n=this;return t().call(n,n.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,n=this;return t().call(n,n.vectorBucketName,e)}index(e){return new qre(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},qre=class extends Ure{constructor(e,t,n,r,i){super(e,t,i),this.vectorBucketName=n,this.indexName=r}async putVectors(e){var t=()=>super.putVectors,n=this;return t().call(n,St(St({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(e){var t=()=>super.getVectors,n=this;return t().call(n,St(St({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,n=this;return t().call(n,St(St({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,n=this;return t().call(n,St(St({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,n=this;return t().call(n,St(St({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},Qre=class extends Bre{constructor(e,t={},n,r){super(e,t,n,r)}from(e){return new Lre(this.url,this.headers,e,this.fetch)}get vectors(){return new Wre(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new $re(this.url+"/iceberg",this.headers,this.fetch)}};const wR="2.95.3",kd=30*1e3,u_=3,ux=u_*kd,Kre="http://localhost:9999",Gre="supabase.auth.token",Yre={"X-Client-Info":`gotrue-js/${wR}`},d_="X-Supabase-Api-Version",_R={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Jre=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Xre=600*1e3;class Sp extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function ut(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Zre extends Sp{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function eie(e){return ut(e)&&e.name==="AuthApiError"}class Fc extends Sp{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Aa extends Sp{constructor(t,n,r,i){super(t,r,i),this.name=n,this.status=r}}class ns extends Aa{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function dx(e){return ut(e)&&e.name==="AuthSessionMissingError"}class fd extends Aa{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class e0 extends Aa{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class t0 extends Aa{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function tie(e){return ut(e)&&e.name==="AuthImplicitGrantRedirectError"}class w6 extends Aa{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class nie extends Aa{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class f_ extends Aa{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function fx(e){return ut(e)&&e.name==="AuthRetryableFetchError"}class _6 extends Aa{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class h_ extends Aa{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const xy="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),S6=` 	
\r=`.split(""),rie=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<S6.length;t+=1)e[S6[t].charCodeAt(0)]=-2;for(let t=0;t<xy.length;t+=1)e[xy[t].charCodeAt(0)]=t;return e})();function E6(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(xy[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(xy[r]),t.queuedBits-=6}}function SR(e,t,n){const r=rie[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function C6(e){const t=[],n=o=>{t.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=o=>{oie(o,r,n)};for(let o=0;o<e.length;o+=1)SR(e.charCodeAt(o),i,s);return t.join("")}function iie(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function sie(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}iie(r,t)}}function oie(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if((e>>7-r&1)===0){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function Hd(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)SR(e.charCodeAt(i),n,r);return new Uint8Array(t)}function aie(e){const t=[];return sie(e,n=>t.push(n)),new Uint8Array(t)}function Qc(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};return e.forEach(i=>E6(i,n,r)),E6(null,n,r),t.join("")}function lie(e){return Math.round(Date.now()/1e3)+e}function cie(){return Symbol("auth-callback")}const Xr=()=>typeof window<"u"&&typeof document<"u",Ic={tested:!1,writable:!1},ER=()=>{if(!Xr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ic.tested)return Ic.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Ic.tested=!0,Ic.writable=!0}catch{Ic.tested=!0,Ic.writable=!1}return Ic.writable};function uie(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,s)=>{t[s]=i})}catch{}return n.searchParams.forEach((r,i)=>{t[i]=r}),t}const CR=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),die=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Td=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Rc=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Jr=async(e,t)=>{await e.removeItem(t)};class R1{constructor(){this.promise=new R1.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}R1.promiseConstructor=Promise;function n0(e){const t=e.split(".");if(t.length!==3)throw new h_("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!Jre.test(t[r]))throw new h_("JWT not in base64url format");return{header:JSON.parse(C6(t[0])),payload:JSON.parse(C6(t[1])),signature:Hd(t[2]),raw:{header:t[0],payload:t[1]}}}async function fie(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function hie(e,t){return new Promise((r,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const o=await e(s);if(!t(s,null,o)){r(o);return}}catch(o){if(!t(s,o)){i(o);return}}})()})}function pie(e){return("0"+e.toString(16)).substr(-2)}function mie(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let s=0;s<56;s++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,pie).join("")}async function gie(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function yie(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await gie(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function hd(e,t,n=!1){const r=mie();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await Td(e,`${t}-code-verifier`,i);const s=await yie(r);return[s,r===s?"plain":"s256"]}const vie=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function bie(e){const t=e.headers.get(d_);if(!t||!t.match(vie))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function xie(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function wie(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const _ie=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function pd(e){if(!_ie.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function hx(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Sie(e,t){return new Proxy(e,{get:(n,r,i)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const s=r.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)"||s==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,i)}return!t.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,r,i)}})}function k6(e){return JSON.parse(JSON.stringify(e))}const Dc=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Eie=[502,503,504];async function T6(e){var t;if(!die(e))throw new f_(Dc(e),0);if(Eie.includes(e.status))throw new f_(Dc(e),e.status);let n;try{n=await e.json()}catch(s){throw new Fc(Dc(s),s)}let r;const i=bie(e);if(i&&i.getTime()>=_R["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new _6(Dc(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new ns}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((s,o)=>s&&typeof o=="string",!0))throw new _6(Dc(n),e.status,n.weak_password.reasons);throw new Zre(Dc(n),e.status||500,r)}const Cie=(e,t,n,r)=>{const i={method:e,headers:t?.headers||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function xt(e,t,n,r){var i;const s=Object.assign({},r?.headers);s[d_]||(s[d_]=_R["2024-01-01"].name),r?.jwt&&(s.Authorization=`Bearer ${r.jwt}`);const o=(i=r?.query)!==null&&i!==void 0?i:{};r?.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await kie(e,t,n+a,{headers:s,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(l):{data:Object.assign({},l),error:null}}async function kie(e,t,n,r,i,s){const o=Cie(t,r,i,s);let a;try{a=await e(n,Object.assign({},o))}catch(l){throw console.error(l),new f_(Dc(l),0)}if(a.ok||await T6(a),r?.noResolveJson)return a;try{return await a.json()}catch(l){await T6(l)}}function eo(e){var t;let n=null;Iie(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=lie(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function j6(e){const t=eo(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function xl(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Tie(e){return{data:e,error:null}}function jie(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s}=e,o=T1(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function I6(e){return e}function Iie(e){return e.access_token&&e.refresh_token&&e.expires_in}const px=["global","local","others"];class Rie{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=CR(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=px[0]){if(px.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${px.join(", ")}`);try{return await xt(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ut(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await xt(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:xl})}catch(r){if(ut(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=T1(t,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r?.newEmail,delete i.newEmail),await xt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:jie,redirectTo:n?.redirectTo})}catch(n){if(ut(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await xt(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:xl})}catch(n){if(ut(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,i,s,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},f=await xt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(s=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:I6});if(f.error)throw f.error;const p=await f.json(),g=(o=f.headers.get("x-total-count"))!==null&&o!==void 0?o:0,y=(l=(a=f.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return y.length>0&&(y.forEach(x=>{const _=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(x.split(";")[1].split("=")[1]);c[`${S}Page`]=_}),c.total=parseInt(g)),{data:Object.assign(Object.assign({},p),c),error:null}}catch(c){if(ut(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){pd(t);try{return await xt(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:xl})}catch(n){if(ut(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){pd(t);try{return await xt(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:xl})}catch(r){if(ut(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){pd(t);try{return await xt(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:xl})}catch(r){if(ut(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){pd(t.userId);try{const{data:n,error:r}=await xt(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(ut(n))return{data:null,error:n};throw n}}async _deleteFactor(t){pd(t.userId),pd(t.id);try{return{data:await xt(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(ut(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,r,i,s,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},f=await xt(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(s=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:I6});if(f.error)throw f.error;const p=await f.json(),g=(o=f.headers.get("x-total-count"))!==null&&o!==void 0?o:0,y=(l=(a=f.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return y.length>0&&(y.forEach(x=>{const _=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(x.split(";")[1].split("=")[1]);c[`${S}Page`]=_}),c.total=parseInt(g)),{data:Object.assign(Object.assign({},p),c),error:null}}catch(c){if(ut(c))return{data:{clients:[]},error:c};throw c}}async _createOAuthClient(t){try{return await xt(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ut(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await xt(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ut(n))return{data:null,error:n};throw n}}async _updateOAuthClient(t,n){try{return await xt(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ut(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(t){try{return await xt(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ut(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await xt(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ut(n))return{data:null,error:n};throw n}}}function R6(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const md={debug:!!(globalThis&&ER()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class kR extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Nie extends kR{}async function Oie(e,t,n){md.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),md.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){md.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await n()}finally{md.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw md.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Nie(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(md.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function Pie(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function TR(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function Aie(e){return parseInt(e,16)}function Mie(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function Die(e){var t;const{chainId:n,domain:r,expirationTime:i,issuedAt:s=new Date,nonce:o,notBefore:a,requestId:l,resources:c,scheme:f,uri:p,version:g}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!p)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(g!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${g}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const y=TR(e.address),x=f?`${f}://${r}`:r,_=e.statement?`${e.statement}
`:"",S=`${x} wants you to sign in with your Ethereum account:
${y}

${_}`;let C=`URI: ${p}
Version: ${g}
Chain ID: ${n}${o?`
Nonce: ${o}`:""}
Issued At: ${s.toISOString()}`;if(i&&(C+=`
Expiration Time: ${i.toISOString()}`),a&&(C+=`
Not Before: ${a.toISOString()}`),l&&(C+=`
Request ID: ${l}`),c){let I=`
Resources:`;for(const A of c){if(!A||typeof A!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${A}`);I+=`
- ${A}`}C+=I}return`${S}
${C}`}class vr extends Error{constructor({message:t,code:n,cause:r,name:i}){var s;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(s=i??(r instanceof Error?r.name:void 0))!==null&&s!==void 0?s:"Unknown Error",this.code=n}}class wy extends vr{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function Lie({error:e,options:t}){var n,r,i;const{publicKey:s}=t;if(!s)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new vr({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=s.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new vr({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((r=s.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new vr({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=s.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new vr({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new vr({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new vr({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return s.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new vr({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new vr({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(jR(o)){if(s.rp.id!==o)return new vr({message:`The RP ID "${s.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new vr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(s.user.id.byteLength<1||s.user.id.byteLength>64)return new vr({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new vr({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new vr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function Fie({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new vr({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new vr({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const r=window.location.hostname;if(jR(r)){if(n.rpId!==r)return new vr({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new vr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new vr({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new vr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class Bie{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const $ie=new Bie;function zie(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:r}=e,i=T1(e,["challenge","user","excludeCredentials"]),s=Hd(t).buffer,o=Object.assign(Object.assign({},n),{id:Hd(n.id).buffer}),a=Object.assign(Object.assign({},i),{challenge:s,user:o});if(r&&r.length>0){a.excludeCredentials=new Array(r.length);for(let l=0;l<r.length;l++){const c=r[l];a.excludeCredentials[l]=Object.assign(Object.assign({},c),{id:Hd(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return a}function Uie(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,r=T1(e,["challenge","allowCredentials"]),i=Hd(t).buffer,s=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){s.allowCredentials=new Array(n.length);for(let o=0;o<n.length;o++){const a=n[o];s.allowCredentials[o]=Object.assign(Object.assign({},a),{id:Hd(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return s}function Hie(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:Qc(new Uint8Array(e.response.attestationObject)),clientDataJSON:Qc(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Wie(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,r=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Qc(new Uint8Array(i.authenticatorData)),clientDataJSON:Qc(new Uint8Array(i.clientDataJSON)),signature:Qc(new Uint8Array(i.signature)),userHandle:i.userHandle?Qc(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function jR(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function N6(){var e,t;return!!(Xr()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}async function Vie(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new wy("Browser returned unexpected credential type",t)}:{data:null,error:new wy("Empty credential response",t)}}catch(t){return{data:null,error:Lie({error:t,options:e})}}}async function qie(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new wy("Browser returned unexpected credential type",t)}:{data:null,error:new wy("Empty credential response",t)}}catch(t){return{data:null,error:Fie({error:t,options:e})}}}const Qie={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Kie={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function _y(...e){const t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of e)if(i)for(const s in i){const o=i[s];if(o!==void 0)if(Array.isArray(o))r[s]=o;else if(n(o))r[s]=o;else if(t(o)){const a=r[s];t(a)?r[s]=_y(a,o):r[s]=_y(o)}else r[s]=o}return r}function Gie(e,t){return _y(Qie,e,t||{})}function Yie(e,t){return _y(Kie,e,t||{})}class Jie{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:r,signal:i},s){var o;try{const{data:a,error:l}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!a)return{data:null,error:l};const c=i??$ie.createNewAbortSignal();if(a.webauthn.type==="create"){const{user:f}=a.webauthn.credential_options.publicKey;if(!f.name){const p=r;if(p)f.name=`${f.id}:${p}`;else{const y=(await this.client.getUser()).data.user,x=((o=y?.user_metadata)===null||o===void 0?void 0:o.name)||y?.email||y?.id||"User";f.name=`${f.id}:${x}`}}f.displayName||(f.displayName=f.name)}switch(a.webauthn.type){case"create":{const f=Gie(a.webauthn.credential_options.publicKey,s?.create),{data:p,error:g}=await Vie({publicKey:f,signal:c});return p?{data:{factorId:t,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:p}},error:null}:{data:null,error:g}}case"request":{const f=Yie(a.webauthn.credential_options.publicKey,s?.request),{data:p,error:g}=await qie(Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:f,signal:c}));return p?{data:{factorId:t,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:p}},error:null}:{data:null,error:g}}}}catch(a){return ut(a)?{data:null,error:a}:{data:null,error:new Fc("Unexpected error in challenge",a)}}}async _verify({challengeId:t,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},s){if(!n)return{data:null,error:new Sp("rpId is required for WebAuthn authentication")};try{if(!N6())return{data:null,error:new Fc("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:r},signal:i},{request:s});if(!o)return{data:null,error:a};const{webauthn:l}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:l.type,rpId:n,rpOrigins:r,credential_response:l.credential_response}})}catch(o){return ut(o)?{data:null,error:o}:{data:null,error:new Fc("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},s){if(!n)return{data:null,error:new Sp("rpId is required for WebAuthn registration")};try{if(!N6())return{data:null,error:new Fc("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(f=>{var p;return(p=f.data)===null||p===void 0?void 0:p.all.find(g=>g.factor_type==="webauthn"&&g.friendly_name===t&&g.status!=="unverified")}).then(f=>f?this.client.mfa.unenroll({factorId:f?.id}):void 0),{data:null,error:a};const{data:l,error:c}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:i},{create:s});return l?this._verify({factorId:o.id,challengeId:l.challengeId,webauthn:{rpId:n,rpOrigins:r,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:c}}catch(o){return ut(o)?{data:null,error:o}:{data:null,error:new Fc("Unexpected error in register",o)}}}}Pie();const Xie={url:Kre,storageKey:Gre,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Yre,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function O6(e,t,n){return await n()}const gd={};class Ep{get jwks(){var t,n;return(n=(t=gd[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){gd[this.storageKey]=Object.assign(Object.assign({},gd[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=gd[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){gd[this.storageKey]=Object.assign(Object.assign({},gd[this.storageKey]),{cachedAt:t})}constructor(t){var n,r,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const s=Object.assign(Object.assign({},Xie),t);if(this.storageKey=s.storageKey,this.instanceID=(n=Ep.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,Ep.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.instanceID>0&&Xr()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=s.persistSession,this.autoRefreshToken=s.autoRefreshToken,this.admin=new Rie({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=CR(s.fetch),this.lock=s.lock||O6,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,this.throwOnError=s.throwOnError,this.lockAcquireTimeout=s.lockAcquireTimeout,s.lock?this.lock=s.lock:this.persistSession&&Xr()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=Oie:this.lock=O6,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Jie(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:ER()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=R6(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=R6(this.memoryStorage)),Xr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o);try{await this._notifyAllSubscribers(o.data.event,o.data.session,!1)}catch(a){this._debug("#broadcastChannel","error",a)}})}this.initialize().catch(o=>{this._debug("#initialize()","error",o)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${wR}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let n={},r="none";if(Xr()&&(n=uie(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),Xr()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:s}=await this._getSessionFromURL(n,r);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),tie(s)){const l=(t=s.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:s}}return{error:s}}const{session:o,redirectType:a}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return ut(n)?this._returnResult({error:n}):this._returnResult({error:new Fc("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,i;try{const s=await xt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t?.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=t?.options)===null||i===void 0?void 0:i.captchaToken}},xform:eo}),{data:o,error:a}=s;if(a||!o)return this._returnResult({data:{user:null,session:null},error:a});const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(s){if(ut(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signUp(t){var n,r,i;try{let s;if("email"in t){const{email:f,password:p,options:g}=t;let y=null,x=null;this.flowType==="pkce"&&([y,x]=await hd(this.storage,this.storageKey)),s=await xt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:g?.emailRedirectTo,body:{email:f,password:p,data:(n=g?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:g?.captchaToken},code_challenge:y,code_challenge_method:x},xform:eo})}else if("phone"in t){const{phone:f,password:p,options:g}=t;s=await xt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:f,password:p,data:(r=g?.data)!==null&&r!==void 0?r:{},channel:(i=g?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:g?.captchaToken}},xform:eo})}else throw new e0("You must provide either an email or phone number and a password");const{data:o,error:a}=s;if(a||!o)return await Jr(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:a});const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(s){if(await Jr(this.storage,`${this.storageKey}-code-verifier`),ut(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithPassword(t){try{let n;if("email"in t){const{email:s,password:o,options:a}=t;n=await xt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:o,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:j6})}else if("phone"in t){const{phone:s,password:o,options:a}=t;n=await xt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:o,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:j6})}else throw new e0("You must provide either an email or phone number and a password");const{data:r,error:i}=n;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!r||!r.session||!r.user){const s=new fd;return this._returnResult({data:{user:null,session:null},error:s})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(ut(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(t){var n,r,i,s;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,r,i,s,o,a,l,c,f,p,g;let y,x;if("message"in t)y=t.message,x=t.signature;else{const{chain:_,wallet:S,statement:C,options:I}=t;let A;if(Xr())if(typeof S=="object")A=S;else{const $=window;if("ethereum"in $&&typeof $.ethereum=="object"&&"request"in $.ethereum&&typeof $.ethereum.request=="function")A=$.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof S!="object"||!I?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");A=S}const z=new URL((n=I?.url)!==null&&n!==void 0?n:window.location.href),U=await A.request({method:"eth_requestAccounts"}).then($=>$).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!U||U.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const O=TR(U[0]);let N=(r=I?.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!N){const $=await A.request({method:"eth_chainId"});N=Aie($)}const F={domain:z.host,address:O,statement:C,uri:z.href,version:"1",chainId:N,nonce:(i=I?.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(o=(s=I?.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(a=I?.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(l=I?.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(c=I?.signInWithEthereum)===null||c===void 0?void 0:c.requestId,resources:(f=I?.signInWithEthereum)===null||f===void 0?void 0:f.resources};y=Die(F),x=await A.request({method:"personal_sign",params:[Mie(y),O]})}try{const{data:_,error:S}=await xt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:y,signature:x},!((p=t.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(g=t.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:eo});if(S)throw S;if(!_||!_.session||!_.user){const C=new fd;return this._returnResult({data:{user:null,session:null},error:C})}return _.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),this._returnResult({data:Object.assign({},_),error:S})}catch(_){if(ut(_))return this._returnResult({data:{user:null,session:null},error:_});throw _}}async signInWithSolana(t){var n,r,i,s,o,a,l,c,f,p,g,y;let x,_;if("message"in t)x=t.message,_=t.signature;else{const{chain:S,wallet:C,statement:I,options:A}=t;let z;if(Xr())if(typeof C=="object")z=C;else{const O=window;if("solana"in O&&typeof O.solana=="object"&&("signIn"in O.solana&&typeof O.solana.signIn=="function"||"signMessage"in O.solana&&typeof O.solana.signMessage=="function"))z=O.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof C!="object"||!A?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");z=C}const U=new URL((n=A?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in z&&z.signIn){const O=await z.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},A?.signInWithSolana),{version:"1",domain:U.host,uri:U.href}),I?{statement:I}:null));let N;if(Array.isArray(O)&&O[0]&&typeof O[0]=="object")N=O[0];else if(O&&typeof O=="object"&&"signedMessage"in O&&"signature"in O)N=O;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in N&&"signature"in N&&(typeof N.signedMessage=="string"||N.signedMessage instanceof Uint8Array)&&N.signature instanceof Uint8Array)x=typeof N.signedMessage=="string"?N.signedMessage:new TextDecoder().decode(N.signedMessage),_=N.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in z)||typeof z.signMessage!="function"||!("publicKey"in z)||typeof z!="object"||!z.publicKey||!("toBase58"in z.publicKey)||typeof z.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");x=[`${U.host} wants you to sign in with your Solana account:`,z.publicKey.toBase58(),...I?["",I,""]:[""],"Version: 1",`URI: ${U.href}`,`Issued At: ${(i=(r=A?.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=A?.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${A.signInWithSolana.notBefore}`]:[],...!((o=A?.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${A.signInWithSolana.expirationTime}`]:[],...!((a=A?.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${A.signInWithSolana.chainId}`]:[],...!((l=A?.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${A.signInWithSolana.nonce}`]:[],...!((c=A?.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${A.signInWithSolana.requestId}`]:[],...!((p=(f=A?.signInWithSolana)===null||f===void 0?void 0:f.resources)===null||p===void 0)&&p.length?["Resources",...A.signInWithSolana.resources.map(N=>`- ${N}`)]:[]].join(`
`);const O=await z.signMessage(new TextEncoder().encode(x),"utf8");if(!O||!(O instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");_=O}}try{const{data:S,error:C}=await xt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:x,signature:Qc(_)},!((g=t.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(y=t.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:eo});if(C)throw C;if(!S||!S.session||!S.user){const I=new fd;return this._returnResult({data:{user:null,session:null},error:I})}return S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),this._returnResult({data:Object.assign({},S),error:C})}catch(S){if(ut(S))return this._returnResult({data:{user:null,session:null},error:S});throw S}}async _exchangeCodeForSession(t){const n=await Rc(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{if(!r&&this.flowType==="pkce")throw new nie;const{data:s,error:o}=await xt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:eo});if(await Jr(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!s||!s.session||!s.user){const a=new fd;return this._returnResult({data:{user:null,session:null,redirectType:null},error:a})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:o})}catch(s){if(await Jr(this.storage,`${this.storageKey}-code-verifier`),ut(s))return this._returnResult({data:{user:null,session:null,redirectType:null},error:s});throw s}}async signInWithIdToken(t){try{const{options:n,provider:r,token:i,access_token:s,nonce:o}=t,a=await xt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:s,nonce:o,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:eo}),{data:l,error:c}=a;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l||!l.session||!l.user){const f=new fd;return this._returnResult({data:{user:null,session:null},error:f})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:c})}catch(n){if(ut(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(t){var n,r,i,s,o;try{if("email"in t){const{email:a,options:l}=t;let c=null,f=null;this.flowType==="pkce"&&([c,f]=await hd(this.storage,this.storageKey));const{error:p}=await xt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l?.data)!==null&&n!==void 0?n:{},create_user:(r=l?.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},code_challenge:c,code_challenge_method:f},redirectTo:l?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:p})}if("phone"in t){const{phone:a,options:l}=t,{data:c,error:f}=await xt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(i=l?.data)!==null&&i!==void 0?i:{},create_user:(s=l?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},channel:(o=l?.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:c?.message_id},error:f})}throw new e0("You must provide either an email or phone number.")}catch(a){if(await Jr(this.storage,`${this.storageKey}-code-verifier`),ut(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async verifyOtp(t){var n,r;try{let i,s;"options"in t&&(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo,s=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await xt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:eo});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l?.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(i){if(ut(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(t){var n,r,i,s,o;try{let a=null,l=null;this.flowType==="pkce"&&([a,l]=await hd(this.storage,this.storageKey));const c=await xt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=t?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:l}),headers:this.headers,xform:Tie});return!((s=c.data)===null||s===void 0)&&s.url&&Xr()&&!(!((o=t.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(c.data.url),this._returnResult(c)}catch(a){if(await Jr(this.storage,`${this.storageKey}-code-verifier`),ut(a))return this._returnResult({data:null,error:a});throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new ns;const{error:i}=await xt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(t){if(ut(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:i,options:s}=t,{error:o}=await xt(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:s?.captchaToken}},redirectTo:s?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in t){const{phone:r,type:i,options:s}=t,{data:o,error:a}=await xt(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:s?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o?.message_id},error:a})}throw new e0("You must provide either an email or phone number and a type")}catch(n){if(ut(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Rc(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<ux:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const o=await Rc(this.userStorage,this.storageKey+"-user");o?.user?t.user=o.user:t.user=hx()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};t.user=Sie(t.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?this._returnResult({data:{session:null},error:s}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const n=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(t){try{return t?await xt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:xl}):await this._useSession(async n=>{var r,i,s;const{data:o,error:a}=n;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ns}:await xt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:xl})})}catch(n){if(ut(n))return dx(n)&&(await this._removeSession(),await Jr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:i,error:s}=r;if(s)throw s;if(!i.session)throw new ns;const o=i.session;let a=null,l=null;this.flowType==="pkce"&&t.email!=null&&([a,l]=await hd(this.storage,this.storageKey));const{data:c,error:f}=await xt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:xl});if(f)throw f;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(r){if(await Jr(this.storage,`${this.storageKey}-code-verifier`),ut(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new ns;const n=Date.now()/1e3;let r=n,i=!0,s=null;const{payload:o}=n0(t.access_token);if(o.exp&&(r=o.exp,i=r<=n),i){const{data:a,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!a)return{data:{user:null,session:null},error:null};s=a}else{const{data:a,error:l}=await this._getUser(t.access_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});s={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return this._returnResult({data:{user:s.user,session:s},error:null})}catch(n){if(ut(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:o,error:a}=n;if(a)throw a;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!t?.refresh_token)throw new ns;const{data:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?this._returnResult({data:{user:null,session:null},error:s}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(ut(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(t,n){try{if(!Xr())throw new t0("No browser detected.");if(t.error||t.error_description||t.error_code)throw new t0(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new w6("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new t0("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new w6("No code detected.");const{data:I,error:A}=await this._exchangeCodeForSession(t.code);if(A)throw A;const z=new URL(window.location.href);return z.searchParams.delete("code"),window.history.replaceState(window.history.state,"",z.toString()),{data:{session:I.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:s,refresh_token:o,expires_in:a,expires_at:l,token_type:c}=t;if(!s||!a||!o||!c)throw new t0("No session defined in URL");const f=Math.round(Date.now()/1e3),p=parseInt(a);let g=f+p;l&&(g=parseInt(l));const y=g-f;y*1e3<=kd&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${p}s`);const x=g-p;f-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,g,f):f-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,g,f);const{data:_,error:S}=await this._getUser(s);if(S)throw S;const C={provider_token:r,provider_refresh_token:i,access_token:s,expires_in:p,expires_at:g,refresh_token:o,token_type:c,user:_.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:C,redirectType:t.type},error:null})}catch(r){if(ut(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Rc(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s&&!dx(s))return this._returnResult({error:s});const o=(r=i.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,t);if(a&&!(eie(a)&&(a.status===404||a.status===401||a.status===403)||dx(a)))return this._returnResult({error:a})}return t!=="others"&&(await this._removeSession(),await Jr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const n=cie(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,i;try{const{data:{session:s},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}})}async resetPasswordForEmail(t,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await hd(this.storage,this.storageKey,!0));try{return await xt(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(s){if(await Jr(this.storage,`${this.storageKey}-code-verifier`),ut(s))return this._returnResult({data:null,error:s});throw s}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(n){if(ut(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:r,error:i}=await this._useSession(async s=>{var o,a,l,c,f;const{data:p,error:g}=s;if(g)throw g;const y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await xt(this.fetch,"GET",y,{headers:this.headers,jwt:(f=(c=p.session)===null||c===void 0?void 0:c.access_token)!==null&&f!==void 0?f:void 0})});if(i)throw i;return Xr()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r?.url),this._returnResult({data:{provider:t.provider,url:r?.url},error:null})}catch(r){if(ut(r))return this._returnResult({data:{provider:t.provider,url:null},error:r});throw r}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var r;try{const{error:i,data:{session:s}}=n;if(i)throw i;const{options:o,provider:a,token:l,access_token:c,nonce:f}=t,p=await xt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=s?.access_token)!==null&&r!==void 0?r:void 0,body:{provider:a,id_token:l,access_token:c,nonce:f,link_identity:!0,gotrue_meta_security:{captcha_token:o?.captchaToken}},xform:eo}),{data:g,error:y}=p;return y?this._returnResult({data:{user:null,session:null},error:y}):!g||!g.session||!g.user?this._returnResult({data:{user:null,session:null},error:new fd}):(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("USER_UPDATED",g.session)),this._returnResult({data:g,error:y}))}catch(i){if(await Jr(this.storage,`${this.storageKey}-code-verifier`),ut(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,i;const{data:s,error:o}=n;if(o)throw o;return await xt(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(r=s.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(ut(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await hie(async i=>(i>0&&await fie(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await xt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:eo})),(i,s)=>{const o=200*Math.pow(2,i);return s&&fx(s)&&Date.now()+o-r<kd})}catch(r){if(this._debug(n,"error",r),ut(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),Xr()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await Rc(this.storage,this.storageKey);if(i&&this.userStorage){let o=await Rc(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await Td(this.userStorage,this.storageKey+"-user",o)),i.user=(t=o?.user)!==null&&t!==void 0?t:hx()}else if(i&&!i.user&&!i.user){const o=await Rc(this.storage,this.storageKey+"-user");o&&o?.user?(i.user=o.user,await Jr(this.storage,this.storageKey+"-user"),await Td(this.storage,this.storageKey,i)):i.user=hx()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const s=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<ux;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${ux}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),fx(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(i.access_token);!a&&o?.user?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new ns;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new R1;const{data:s,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!s.session)throw new ns;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const a={data:s.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(s){if(this._debug(i,"error",s),ut(s)){const o={data:null,error:s};return fx(s)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,n,r=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const s=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,n)}catch(l){s.push(l)}});if(await Promise.all(o),s.length>0){for(let a=0;a<s.length;a+=1)console.error(s[a]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Jr(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Td(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const s=k6(i);await Td(this.storage,this.storageKey,s)}else{const i=k6(n);await Td(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Jr(this.storage,this.storageKey),await Jr(this.storage,this.storageKey+"-code-verifier"),await Jr(this.storage,this.storageKey+"-user"),this.userStorage&&await Jr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Xr()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),kd);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const n=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const n=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,n&&clearTimeout(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-t)/kd);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${kd}ms, refresh threshold is ${u_} ticks`),i<=u_&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof kR)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Xr()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(t){this._debug("#visibilityChangedCallback","error",t)}},window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r?.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[s,o]=await hd(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(a.toString())}if(r?.queryParams){const s=new URLSearchParams(r.queryParams);i.push(s.toString())}return r?.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;return s?this._returnResult({data:null,error:s}):await xt(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(ut(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,i;const{data:s,error:o}=n;if(o)return this._returnResult({data:null,error:o});const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:l,error:c}=await xt(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=s?.session)===null||r===void 0?void 0:r.access_token});return c?this._returnResult({data:null,error:c}):(t.factorType==="totp"&&l.type==="totp"&&(!((i=l?.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(n){if(ut(n))return this._returnResult({data:null,error:n});throw n}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return this._returnResult({data:null,error:s});const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?Hie(t.webauthn.credential_response):Wie(t.webauthn.credential_response)})}:{code:t.code}),{data:a,error:l}=await xt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),this._returnResult({data:a,error:l}))})}catch(n){if(ut(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return this._returnResult({data:null,error:s});const o=await xt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token});if(o.error)return o;const{data:a}=o;if(a.type!=="webauthn")return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:zie(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:Uie(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(ut(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const i={all:[],phone:[],totp:[],webauthn:[]};for(const s of(t=n?.factors)!==null&&t!==void 0?t:[])i.all.push(s),s.status==="verified"&&i[s.factor_type].push(s);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(t){var n,r,i,s;if(t)try{const{payload:y}=n0(t);let x=null;y.aal&&(x=y.aal);let _=x;const{data:{user:S},error:C}=await this.getUser(t);if(C)return this._returnResult({data:null,error:C});((r=(n=S?.factors)===null||n===void 0?void 0:n.filter(z=>z.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(_="aal2");const A=y.amr||[];return{data:{currentLevel:x,nextLevel:_,currentAuthenticationMethods:A},error:null}}catch(y){if(ut(y))return this._returnResult({data:null,error:y});throw y}const{data:{session:o},error:a}=await this.getSession();if(a)return this._returnResult({data:null,error:a});if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=n0(o.access_token);let c=null;l.aal&&(c=l.aal);let f=c;((s=(i=o.user.factors)===null||i===void 0?void 0:i.filter(y=>y.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(f="aal2");const g=l.amr||[];return{data:{currentLevel:c,nextLevel:f,currentAuthenticationMethods:g},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?await xt(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:r.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new ns})})}catch(n){if(ut(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:i},error:s}=r;if(s)return this._returnResult({data:null,error:s});if(!i)return this._returnResult({data:null,error:new ns});const o=await xt(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&Xr()&&!n?.skipBrowserRedirect&&window.location.assign(o.data.redirect_url),o})}catch(r){if(ut(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:i},error:s}=r;if(s)return this._returnResult({data:null,error:s});if(!i)return this._returnResult({data:null,error:new ns});const o=await xt(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&Xr()&&!n?.skipBrowserRedirect&&window.location.assign(o.data.redirect_url),o})}catch(r){if(ut(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;return r?this._returnResult({data:null,error:r}):n?await xt(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new ns})})}catch(t){if(ut(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?(await xt(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new ns})})}catch(n){if(ut(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(a=>a.kid===t);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(a=>a.kid===t),r&&this.jwks_cached_at+Xre>i)return r;const{data:s,error:o}=await xt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,r=s.keys.find(a=>a.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:y,error:x}=await this.getSession();if(x||!y.session)return this._returnResult({data:null,error:x});r=y.session.access_token}const{header:i,payload:s,signature:o,raw:{header:a,payload:l}}=n0(r);n?.allowExpired||xie(s.exp);const c=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!c){const{error:y}=await this.getUser(r);if(y)throw y;return{data:{claims:s,header:i,signature:o},error:null}}const f=wie(i.alg),p=await crypto.subtle.importKey("jwk",c,f,!0,["verify"]);if(!await crypto.subtle.verify(f,p,o,aie(`${a}.${l}`)))throw new h_("Invalid JWT signature");return{data:{claims:s,header:i,signature:o},error:null}}catch(r){if(ut(r))return this._returnResult({data:null,error:r});throw r}}}Ep.nextInstanceID={};const Zie=Ep,ese="2.95.3";let Ah="";typeof Deno<"u"?Ah="deno":typeof document<"u"?Ah="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ah="react-native":Ah="node";const tse={"X-Client-Info":`supabase-js-${Ah}/${ese}`},nse={headers:tse},rse={schema:"public"},ise={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},sse={};function Cp(e){"@babel/helpers - typeof";return Cp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cp(e)}function ose(e,t){if(Cp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Cp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ase(e){var t=ose(e,"string");return Cp(t)=="symbol"?t:t+""}function lse(e,t,n){return(t=ase(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function P6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function sr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?P6(Object(n),!0).forEach(function(r){lse(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P6(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const cse=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),use=()=>Headers,dse=(e,t,n)=>{const r=cse(n),i=use();return async(s,o)=>{var a;const l=(a=await t())!==null&&a!==void 0?a:e;let c=new i(o?.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),r(s,sr(sr({},o),{},{headers:c}))}};function fse(e){return e.endsWith("/")?e:e+"/"}function hse(e,t){var n,r;const{db:i,auth:s,realtime:o,global:a}=e,{db:l,auth:c,realtime:f,global:p}=t,g={db:sr(sr({},l),i),auth:sr(sr({},c),s),realtime:sr(sr({},f),o),storage:{},global:sr(sr(sr({},p),a),{},{headers:sr(sr({},(n=p?.headers)!==null&&n!==void 0?n:{}),(r=a?.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return e.accessToken?g.accessToken=e.accessToken:delete g.accessToken,g}function pse(e){const t=e?.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(fse(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var mse=class extends Zie{constructor(e){super(e)}},gse=class{constructor(e,t,n){var r,i;this.supabaseUrl=e,this.supabaseKey=t;const s=pse(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",s),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",s),this.storageUrl=new URL("storage/v1",s),this.functionsUrl=new URL("functions/v1",s);const o=`sb-${s.hostname.split(".")[0]}-auth-token`,a={db:rse,realtime:sse,auth:sr(sr({},ise),{},{storageKey:o}),global:nse},l=hse(n??{},a);if(this.storageKey=(r=l.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(i=l.global.headers)!==null&&i!==void 0?i:{},l.accessToken)this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(f,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}});else{var c;this.auth=this._initSupabaseAuthClient((c=l.auth)!==null&&c!==void 0?c:{},this.headers,l.global.fetch)}this.fetch=dse(t,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(sr({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(f=>this.realtime.setAuth(f)).catch(f=>console.warn("Failed to set initial Realtime auth token:",f)),this.rest=new ere(new URL("rest/v1",s).href,{headers:this.headers,schema:l.db.schema,fetch:this.fetch,timeout:l.db.timeout,urlLengthLimit:l.db.urlLengthLimit}),this.storage=new Qre(this.storageUrl.href,this.headers,this.fetch,n?.storage),l.accessToken||this._listenForAuthEvents()}get functions(){return new qne(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,n)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,n;if(e.accessToken)return await e.accessToken();const{data:r}=await e.auth.getSession();return(t=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:i,storageKey:s,flowType:o,lock:a,debug:l,throwOnError:c},f,p){const g={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new mse({url:this.authUrl.href,headers:sr(sr({},g),f),storageKey:s,autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:i,flowType:o,lock:a,debug:l,throwOnError:c,fetch:p,hasCustomAuthorizationHeader:Object.keys(this.headers).some(y=>y.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new yre(this.realtimeUrl.href,sr(sr({},e),{},{params:sr(sr({},{apikey:this.supabaseKey}),e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t?.access_token)})}_handleTokenChanged(e,t,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const yse=(e,t,n)=>new gse(e,t,n);function vse(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const n=t.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}vse()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");function A6(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var yd=[..."".normalize("NFD")].map(e=>e.charCodeAt(0)),M6=44032,bse=55203,mx=28,D6=21,p_={"":"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},m_={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},xse=["","","","","","","","","","","","","","","","","","",""],wse=Object.values(m_),_se=["","","","","","","","","","","","","","","","","","","","","","","","","","","",""].map(e=>p_[e]);function Sse(e){const t=e.charCodeAt(0);if(!(M6<=t&&t<=bse))return;const r=t-M6,i=r%mx,s=(r-i)/mx%D6,o=Math.floor((r-i)/mx/D6);return{choseong:xse[o],jungseong:wse[s],jongseong:_se[i]}}function Ese(e){const t=[];for(const n of e){const r=Sse(n);if(r!=null){t.push([...r.choseong,...r.jungseong,...r.jongseong]);continue}if(A6(p_,n)){const i=p_[n];t.push([...i]);continue}if(A6(m_,n)){const i=m_[n];t.push([...i]);continue}t.push([n])}return t}function sf(e){return Ese(e).reduce((t,n)=>`${t}${n.join("")}`,"")}var Sy={START_CHOSEONG:yd[0],START_JUNGSEONG:yd[1],START_JONGSEONG:yd[2],END_CHOSEONG:yd[3],END_JUNGSEONG:yd[4],END_JONGSEONG:yd[5]};new RegExp(`[^\\u${Sy.START_CHOSEONG.toString(16)}-\\u${Sy.END_CHOSEONG.toString(16)}-\\s]+`,"ug");new RegExp(`[\\u${Sy.START_CHOSEONG.toString(16)}-\\u${Sy.END_CHOSEONG.toString(16)}]`,"g");const Cse=yse("https://jvbtsubxzytnjnzxmtbg.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imp2YnRzdWJ4enl0bmpuenhtdGJnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQyMzMyMzgsImV4cCI6MjA2OTgwOTIzOH0.uUpg4kO7-uLmswUo8Dp_-WZwKw_xKqxRrpGmM2tN02I"),kse=30*1e3,Tse=10*1e3,jse=60*1e3,Ise=5,r0="searchLoggingData",Rse="searches_prod_2",Lt={timer:null,commitDelay:kse,data:[],loadLoggingData(){if(Lt.data.length>0)return Lt.data;const e=localStorage.getItem(r0);return e&&(Lt.data=JSON.parse(e)),Lt.data},updateLoggingData(e,t,n){const r=!t||Number.isNaN(Number(t))?-1:Number(t),s={search:e===void 0&&Lt.data.length>0?Lt.data[Lt.data.length-1].search:e??"",dprt_cd:r,target:n,created_at:Date.now()};if((a=>{if(Lt.data.length===0)return!1;const l=Lt.data[Lt.data.length-1];return l.target<0&&(gx(l.search,a.search)||gx(a.search,l.search))})(s)){const a=Lt.data[Lt.data.length-1];a.target=n,a.created_at=Date.now(),gx(s.search,a.search)&&(a.search=s.search),s.dprt_cd>=0&&(a.dprt_cd=s.dprt_cd)}else Lt.data.push(s);localStorage.setItem(r0,JSON.stringify(Lt.data)),Lt.submitDelayCommit()},reconcileLoggingData(){Lt.data=Lt.data.filter(e=>!(e.search&&e.dprt_cd<0&&e.target<0)),Lt.data=Lt.data.filter((e,t)=>!(t>0&&e.search===Lt.data[t-1].search&&e.dprt_cd===Lt.data[t-1].dprt_cd&&e.target===-1)),localStorage.setItem(r0,JSON.stringify(Lt.data))},submitDelayCommit(){if(Lt.timer&&(clearTimeout(Lt.timer),Lt.timer=null),Lt.data.length>Ise){const e=Lt.data.map(r=>r.created_at),t=e.slice(1).map((r,i)=>r-e[i]),n=t.reduce((r,i)=>r+i,0)/t.length;Lt.commitDelay=Math.min(jse,Math.max(Tse,n+10*1e3))}Lt.timer=setTimeout(()=>{Lt.timer=null,Lt.commitLoggingData()},Lt.commitDelay)},commitLoggingData(){Lt.reconcileLoggingData();const e=Lt.data.length;if(e===0)return;const t=Lt.data.map(({search:n,dprt_cd:r,target:i})=>({search:n,dprt_cd:r,target:i}));Cse.from(Rse).insert(t).then(({error:n})=>{n?console.error("Error committing search logging data:",n):(Lt.data=Lt.data.slice(e),localStorage.setItem(r0,JSON.stringify(Lt.data)))})}};function gx(e,t){const n=sf(e).toLowerCase(),r=sf(t).toLowerCase();return n.includes(r)}function Zp(){R.useEffect(()=>{Lt.loadLoggingData()},[]);function e(r,i){Lt.updateLoggingData(r,i,-1)}function t(r,i,s){Lt.updateLoggingData(r,i,s)}function n(r){Lt.updateLoggingData(void 0,void 0,r)}return{onSearchChange:e,selectTarget:t,selectTargetOnly:n}}const g_=ri((e,t)=>({favorites:JSON.parse(localStorage.getItem("favorites")??"[]"),toggleFavorite:n=>{const r=t().favorites.includes(n);e(i=>{const s=r?i.favorites.filter(o=>o!==n):[...i.favorites,n];return localStorage.setItem("favorites",JSON.stringify(s)),{favorites:s}})},isFavorite:n=>t().favorites.includes(n)})),Pn={grades:[1,2,3,4],credits:[1,2,3],days:["","","","",""],remark:["","SHP",""],classRoom:["","","","","AI","()","","","","","","","","","","","","","","","",""],wishRange:[{min:10},{min:50},{min:100},{min:200}],seatRange:[{min:1},{max:2},{max:5},{max:10}]},Nse={classRoom:[{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"AI",value:""},{label:"()",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""}]};function em(e){return Ose(e.map(n=>n.curiTypeCdNm)).filter(n=>!!n)}function Ose(e){return Array.from(new Set(e))}const Vi={keywords:"",department:"",grades:"",credits:"",classroom:"",seatRange:"",wishRange:" ",time:"",days:"",categories:" ",note:"",language:"",alarmOnly:"",favoriteOnly:""};function Pse(e,t){if(t.length===0)return Vi[e];const n=t[0];return t.length===1?Nl()[e]?.(n)??Vi[e]:`${Nl()[e]?.(n)??Vi[e]}  ${t.length-1}`}function Ase(e,t){if(t==null)return Vi[e];const n=t;return e==="seatRange"?` ${Nl()[e]?.(n)??Vi[e]}`:e==="wishRange"?`  ${Nl()[e]?.(n)??Vi[e]}`:Nl()[e]?.(n)??Vi[e]}function L6(e,t,n){if(t==null)return"";const r=t,i=Nl(n)[e]?.(r);return i?e==="seatRange"?` ${i}`:e==="wishRange"?` ${i}`:i:""}function Nl(e){const t=n=>e?e.find(i=>i.departmentCode===n)?.departmentName||n:"";return{keywords:n=>typeof n=="string"?n:"",department:n=>t(n),grades:n=>B6(n,Vi.grades),credits:n=>B6(n,Vi.credits),classroom:Mse,seatRange:F6,wishRange:F6,time:Dse,days:Lse,categories:n=>n,note:n=>n,language:n=>n,alarmOnly:()=>Vi.alarmOnly,favoriteOnly:()=>Vi.favoriteOnly}}const Mse=e=>!e||typeof e!="string"?"":Nse.classRoom.find(t=>t.value===e)?.label||e,F6=e=>{if(!e)return"";const{min:t,max:n}=e;return t!==void 0&&n!==void 0?`${t}  ~ ${n} `:t!==void 0?`${t} `:n!==void 0?`${n} `:""},Dse=e=>`${e.day}${Vi.time} ${e.start}~${e.end}`,Lse=e=>e+"",B6=(e,t)=>e+t;function IR(e,t){return e==="time"&&Array.isArray(t)?t.length===0||t.length===1&&t[0].day==="":Array.isArray(Ul[e])&&Array.isArray(t)?t.length===0:!t}function $6(e){return Array.isArray(e)?e.length>0:e!=null&&e!==""&&e!==!1}function wS(e,t){const n=[];for(const r in e){const i=e[r];if(r==="time"){const{day:s,type:o}=i;if(!s||!o)continue}r==="keywords"||r==="favoriteOnly"||r==="alarmOnly"||(Array.isArray(i)&&i.length>0&&i.forEach(s=>{$6(s)&&n.push({filterKey:r,values:s,label:L6(r,s,t)})}),!Array.isArray(i)&&$6(i)&&n.push({filterKey:r,values:i,label:i!==null?L6(r,i,t):""}))}return n}function Fse(e){const{data:t}=_1(),n=g_(o=>o.isFavorite),r=Bse(e,t,n),s=Object.keys(e).filter(o=>!IR(o,e[o]));return(o,a)=>s.every(l=>{const c=r[l];return c?c(o,a[l]):!0})}function Bse(e,t,n){const r=o=>t?.some(({subjectId:a})=>a===o)??!0,i=NR(e.keywords),s=e.keywords.replace(/[-\s]/g,"").toLowerCase();return{keywords:o=>qse(o,i,s),department:Vse,grades:zse,credits:Use,categories:Yse,seatRange:Hse,wishRange:Wse,time:Gse,days:$se,classroom:Qse,note:Kse,language:Jse,alarmOnly:o=>n(o.subjectId),favoriteOnly:o=>r(o.subjectId)}}function RR(e,t){if(!t)return!0;const{min:n,max:r}=t;return(n===void 0||e>=n)&&(r===void 0||e<=r)}function _S(e,t){return!t.length||t.includes(e)}function NR(e){const t=e.replace(/[^\w---]/g,"");return sf(t).toLowerCase()}function $se(e,t){if(!e.lesnTime||!t||t.length===0)return!0;const n=RegExp(/^([-]+)/).exec(e.lesnTime);if(!n)return!0;const r=n[1].split("");return t.some(i=>r.includes(i))}function zse(e,t){const n=Number(e.studentYear);return!n||t.includes("")||t.length===0?!0:t.includes(n)}function Use(e,t){const n=Number(e.tmNum.split("/")[0]);return!n||Number.isNaN(n)?!0:_S(n,t)}function Hse(e,t){const n=e;return"seat"in n?RR(n.seat??0,t):!0}function Wse(e,t){return"totalCount"in e?RR(e.totalCount??0,t):!0}function Vse(e,t){return!t||t===""||t===e.deptCd}function qse(e,t,n){if(!t)return!0;const r=e.professorName?sf(e.professorName).toLowerCase():"",i=NR(e.subjectName),o=(e.subjectCode+e.classCode).toLowerCase().includes(n);return r.includes(t)||i.includes(t)||o}function Qse(e,t){return t.length?e.lesnRoom?t.some(n=>new RegExp(`^${n}[\\w]`,"i").test(e.lesnRoom)):!1:!0}function Kse(e,t){return!t||t.length===0?!0:t.some(n=>{switch(n){case"":return e.remark?.includes("")??!1;case"SHP":return["SHP","Honor"].some(r=>e.remark?.includes(r)??!1);case"":return!e.remark||!["","SHP","Honor"].some(r=>e.remark?.includes(r)??!1)}})}function Gse(e,t){if(!t||t.length===0||!e.lesnTime)return!0;const r=new gf(e.lesnTime).toApiData().map(i=>({day:i.dayOfWeeks,start:new ad(i.startTime),end:new ad(i.endTime)}));return t.some(i=>{if(i.day==="")return!0;const s=r.filter(o=>o.day===i.day);if(i.type==="all"||!s.length)return!!s.length;if(i.type==="before"&&i.start){const o=new ad(i.start);return s.some(a=>a.end.compare(o)<=0)}if(i.type==="after"&&i.start){const o=new ad(i.start);return s.some(a=>o.compare(a.start)<=0)}if(i.type==="between"&&i.start&&i.end){const o=new ad(i.start),a=new ad(i.end);return s.some(l=>o.compare(l.start)<=0&&l.end.compare(a)<=0)}})}function Yse(e,t){return _S(e.curiTypeCdNm,t)}function Jse(e,t){return _S(e.curiLangNm??"",t)}function xf(e,t){const n=Fse(t),{onSearchChange:r}=Zp(),{keywords:i,department:s}=t;return!e||e.length===0?[]:(r(i,s),e.filter(o=>n(o,t)))}const OR="2026-02-13";function N1(e){const{hasSeats:t}=e??{},n=new Date>iG(`${OR}T10:00:00`);return{isPreSeatAvailable:!n}}function O1({col:e,row:t}){return h.jsx(h.Fragment,{children:Array.from({length:t}).map((n,r)=>h.jsx("tr",{className:"animate-pulse border-t border-gray-200 h-10",children:Array.from({length:e}).map((i,s)=>h.jsx("td",{className:"bg-gray-300",colSpan:-1},`skeleton-td-${s}-${r}`))},"skeleton-row-"+r))})}const yx=45;function P1(e,t="ref",n=".load-more-trigger"){const[r,i]=R.useState(yx),s=R.useRef(null),o=R.useRef(null);return R.useEffect(()=>{i(yx)},[e]),R.useEffect(()=>{const a=new IntersectionObserver(l=>{l.forEach(c=>{c.isIntersecting&&i(f=>f>=e.length?f:f+yx)})},{root:null,rootMargin:"0px",threshold:.5});return o.current=a,t==="ref"&&s.current?a.observe(s.current):t==="selector"&&document.querySelectorAll(n).forEach(c=>a.observe(c)),()=>{a.disconnect()}},[e,t,n]),{visibleRows:r,...t==="ref"?{loadMoreRef:s}:{}}}const A1=e=>R.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:16,height:16,viewBox:"0 0 16 16",...e},R.createElement("g",{transform:"matrix(1,0,0,-1,0,32)"},R.createElement("path",{d:"M13,25.5Q12.9688,23.3125,11.75,21.65625L15.7188,17.71875Q16,17.40625,16,17Q16,16.59375,15.7188,16.28125Q15.4062,16,15,16Q14.5938,16,14.2812,16.28125L10.3438,20.25Q8.6875,19.03125,6.5,19Q3.75,19.0625,1.90625,20.90625Q0.0625,22.75,0,25.5Q0.0625,28.25,1.90625,30.0938Q3.75,31.9375,6.5,32Q9.25,31.9375,11.0938,30.0938Q12.9375,28.25,13,25.5ZM6.5,21Q7.71875,21,8.75,21.59375Q9.78125,22.1875,10.4062,23.25Q11,24.3125,11,25.5Q11,26.6875,10.4062,27.75Q9.78125,28.8125,8.75,29.4062Q7.71875,30,6.5,30Q5.28125,30,4.25,29.4062Q3.21875,28.8125,2.59375,27.75Q2,26.6875,2,25.5Q2,24.3125,2.59375,23.25Q3.21875,22.1875,4.25,21.59375Q5.28125,21,6.5,21Z",fill:"#9CA3AF",fillOpacity:1,style:{mixBlendMode:"passthrough"}})));function Ey({title:e,description:t}){return h.jsxs(je,{direction:"flex-col",align:"items-center",gap:"gap-1",className:"mt-2",children:[h.jsx(A1,{className:"w-7 h-7"}),h.jsx("p",{className:"text-gray-500 font-medium",children:e}),t&&h.jsx("p",{className:"text-gray-400 text-xs",children:t})]})}function SS({col:e,title:t,description:n}){return h.jsx("tr",{children:h.jsx("td",{colSpan:e,className:"py-4 text-center",children:h.jsx(Ey,{title:t,description:n})})})}function Xse({titles:e,subjects:t,isPending:n=!1}){return h.jsxs("table",{className:"w-full bg-white rounded-lg relative text-sm",children:[h.jsx("thead",{children:h.jsx("tr",{className:"bg-gray-50 text-nowrap",children:e.map(({title:r})=>h.jsx("th",{className:"px-4 py-2",children:r},r))})}),h.jsx("tbody",{children:h.jsx(Zse,{titles:e,subjects:t,isPending:n})})]})}function Zse({titles:e,subjects:t,isPending:n=!1}){const{visibleRows:r}=P1(t??[],"selector"),i=(t??[]).filter(o=>!o.isDeleted),s=i?i.slice(0,r):[];return n||!i?h.jsx(O1,{row:5,col:e.length}):i.length?h.jsxs(h.Fragment,{children:[s.map(o=>h.jsx(eoe,{subject:o},`${o.subjectCode} ${o.subjectId} ${o.professorName}`)),h.jsx("tr",{className:"load-more-trigger"})]}):h.jsx(SS,{col:e.length,title:"  .",description:"   ."})}function eoe({subject:e}){const t=e.curiLangNm==="",r=e.isDeleted?"bg-gray-100 hover:bg-gray-200":t?"bg-green-50 hover:bg-green-100":"bg-white hover:bg-gray-100",{data:i}=_1(),{mutate:s}=pS(),{mutate:o}=rR(),{selectTargetOnly:a}=Zp(),l=i?.some(f=>f.subjectId===e.subjectId),c=()=>{if(!l){o(e.subjectId);return}s(e.subjectId),a(e.subjectId),k1(e.deptCd)};return h.jsxs("tr",{className:`border-t border-gray-200 text-black ${r}`,children:[h.jsx("td",{className:"px-4 py-2 text-center",children:h.jsx("button",{className:"cursor-pointer","aria-label":l?"  ":"  ",onClick:c,children:h.jsx(zl,{disabled:!l})})}),h.jsxs("td",{className:"px-2 py-2 text-center",children:[e.subjectCode,"-",e.classCode]}),h.jsx("td",{className:"px-2 py-2 text-center",children:e.departmentName}),h.jsx("td",{className:"px-2 py-2 text-center",children:e.subjectName}),h.jsx("td",{className:"px-2 py-2 text-center",children:e.professorName}),e.seat!==void 0?h.jsx("td",{className:"px-2 py-2 text-center",children:e.seat>=0?h.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold ${w1(e.seat)}`,children:e.seat}):h.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-bold bg-gray-300",children:"-"})}):null]})}function PR({subject:e,variant:t="contain",className:n,onClick:r,...i}){const{data:s}=_1(),{mutate:o}=pS(),{mutate:a}=rR(),{selectTargetOnly:l}=Zp(),c=s?.some(g=>g.subjectId===e.subjectId),f=c?"  ":"  ",p=g=>{if(l(e.subjectId),k1(e.deptCd),r&&r(g),!c){a(e.subjectId);return}o(e.subjectId)};return h.jsx(Ar,{"aria-label":f,title:f,variant:t==="contain"?"contain":"plain",onClick:p,icon:h.jsx(zl,{disabled:!c}),className:n,...i})}function toe({subject:e,seats:t,queryTime:n,disableSeat:r=!1,isLive:i=!1}){const s=e.isDeleted,o=e.curiLangNm==="",a=typeof e.tmNum=="string"&&Number(e.tmNum.split("/")[0])||0;return h.jsxs(Wn,{variant:"elevated",children:[h.jsxs(je,{justify:"justify-between",children:[h.jsx(Vt,{level:3,children:e.subjectName}),h.jsx(PR,{subject:e,variant:"plain"})]}),h.jsxs(je,{className:"text-xs text-gray-500",direction:"flex-col",children:[h.jsx("p",{children:e.departmentName}),h.jsxs("p",{children:[e.subjectCode,"-",e.classCode," | ",e.professorName]})]}),h.jsxs("p",{className:"text-xs text-gray-500 mb-2",children:[e.studentYear," ",e.curiTypeCdNm," | ",a," | ",e.lesnTime]}),!r&&h.jsxs(je,{gap:"gap-2",align:"items-baseline",justify:"justify-between",children:[h.jsxs("p",{className:`text-sm px-2 py-1 rounded-full font-bold ${w1(t)}`,children:[": ",t<0?"???":t]}),!i&&h.jsx(Sa,{variant:"default",children:gS(n)}),s&&h.jsx(Sa,{variant:"danger",children:""}),o&&h.jsx(Sa,{variant:"success",children:""})]})]})}function ES({subjects:e,isPending:t=!1,className:n="",isLive:r=!1}){return h.jsx(je,{direction:"flex-col",gap:"gap-2",className:n,children:h.jsx(noe,{subjects:e,isPending:t,isLive:r})})}function noe({subjects:e,isPending:t=!1,isLive:n=!1}){const{visibleRows:r,loadMoreRef:i}=P1(e),s=e?e.slice(0,r):[];return t||!e?h.jsx(Gl,{columns:{base:1,md:3},gap:"gap-4",className:"animate-pulse",children:[0,0,0].map((o,a)=>h.jsx("div",{className:"bg-gray-300 shadow-sm rounded-lg p-4 h-24"},"skeleton-card-"+a))}):e.length?h.jsxs(h.Fragment,{children:[s.map(o=>h.jsx(toe,{subject:o,seats:"seat"in o?o.seat??-1:-1,disableSeat:!("seat"in o),className:"bg-white",isLive:n},o.subjectId)),h.jsx("div",{ref:i,className:"load-more-trigger opacity-0",children:" "})]}):h.jsxs(je,{direction:"flex-col",align:"items-center",gap:"gap-2",className:"text-center py-4",children:[h.jsx(A1,{className:"w-12 h-12"}),h.jsx("p",{className:"text-gray-500 font-bold mt-4",children:"  ."}),h.jsx("p",{className:"text-gray-400 text-xs mt-1",children:"   ."})]})}function Su({onDelete:e,...t}){const n=R.useRef(null);return h.jsx(Mw,{leftIcon:h.jsx(Ar,{variant:"plain",icon:h.jsx(A1,{className:"w-5 h-5"}),className:"absolute left-3 top-3",onClick:r=>{r.preventDefault(),n.current?.focus()}}),rightIcon:h.jsx(Ar,{variant:"plain",icon:h.jsx(E9,{className:"w-5 h-5"}),"aria-label":"  ",className:"absolute right-3 top-4",onClick:()=>{e(),n.current?.focus()}}),...t})}const vx=9;function A0({selectedValues:e,filterKey:t,setFilter:n,options:r,ItemComponent:i}){const s=Nl(),o=i.layout??"grid",a=hs(),[l,c]=R.useState(!1),f=y=>{const _=e?.includes(y)?e?.filter(S=>S!==y):[...e??[],y];n(t,_??null)},p=()=>{n(t,null)},g=!l&&r.length>vx?r.slice(0,vx):r;return h.jsxs("div",{className:"relative inline-block w-full",children:[h.jsxs(je,{direction:"flex-col",gap:"gap-2",children:[h.jsx(Mr,{children:Vi[t]}),o==="grid"?h.jsx(Gl,{columns:{md:3},gap:"gap-2",children:g.map(y=>h.jsx(i,{label:s[t]?.(y)??String(y),selected:e?.includes(y)??!1,onClick:()=>f(y)},String(y)))}):h.jsx(je,{direction:"flex-col",gap:"gap-2",className:"pr-4",children:g.map(y=>h.jsx(i,{label:s[t]?.(y)??String(y),selected:e?.includes(y)??!1,onClick:()=>f(y)},String(y)))})]}),r.length>vx&&h.jsx(Mt,{variant:"text",size:"small",textColor:"gray",onClick:()=>c(y=>!y),children:l?"- ":"+ "}),!a&&h.jsx(je,{justify:"justify-end",children:h.jsx(Mt,{variant:"text",size:"small",textColor:"gray",disabled:e==null||e.length===0,onClick:()=>p(),children:""})})]})}function AR({label:e,selected:t,onClick:n}){return h.jsx(Xy,{label:e,checked:t,onChange:n})}AR.layout="flex";function M1({label:e,selected:t,children:n,className:r=""}){return h.jsxs($d,{children:[h.jsx($d.Trigger,{selected:t,label:e}),h.jsx($d.Content,{children:h.jsx(je,{direction:"flex-col",gap:"gap-4",className:r,children:n})})]})}function or({filterKey:e,selectedValues:t,options:n,setFilter:r,ItemComponent:i,className:s}){const o=hs(),a=Pse(e,t),l=o?Xn:AR,c=h.jsx(A0,{filterKey:e,selectedValues:t,setFilter:(f,p)=>r(f,p),options:n,ItemComponent:i||l});return o?c:h.jsx(M1,{label:a,selected:t.length>0,className:s,children:c})}const roe=e=>R.createElement("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},R.createElement("path",{d:"M9 14C10.1867 14 11.3467 13.6481 12.3334 12.9888C13.3201 12.3295 14.0892 11.3925 14.5433 10.2961C14.9974 9.19975 15.1162 7.99335 14.8847 6.82946C14.6532 5.66558 14.0818 4.59648 13.2426 3.75736C12.4035 2.91825 11.3344 2.3468 10.1705 2.11529C9.00666 1.88378 7.80026 2.0026 6.7039 2.45673C5.60754 2.91085 4.67047 3.67989 4.01118 4.66658C3.35189 5.65328 3 6.81331 3 8V11.1L1.2 9.3L0.5 10L3.5 13L6.5 10L5.8 9.3L4 11.1V8C4 7.0111 4.29324 6.0444 4.84265 5.22215C5.39206 4.39991 6.17295 3.75904 7.08658 3.38061C8.00021 3.00217 9.00555 2.90315 9.97545 3.09608C10.9454 3.289 11.8363 3.76521 12.5355 4.46447C13.2348 5.16373 13.711 6.05465 13.9039 7.02455C14.0969 7.99446 13.9978 8.99979 13.6194 9.91342C13.241 10.8271 12.6001 11.6079 11.7779 12.1574C10.9556 12.7068 9.98891 13 9 13V14Z",fill:"#047CFE"}));function ioe({selectedValue:e,filterKey:t,setFilter:n}){const[r,i]=R.useState({min:e?.min??0,max:e?.max??0}),s=(o,a)=>{const l={...r,[o]:a};i(l),n(t,l)};return h.jsxs("div",{className:"relative inline-block w-full space-y-2",children:[h.jsx(Mr,{children:" "}),h.jsxs(je,{gap:"gap-2",children:[h.jsx(Mw,{type:"text",placeholder:"",value:r.min,onChange:o=>{const a=o.target.value.replace(/[^\d]/g,"");s("min",a)},className:"w-full"}),h.jsx("span",{className:"flex items-center text-gray-400",children:"~"}),h.jsx(Mw,{type:"text",placeholder:"",value:r.max,onChange:o=>{const a=o.target.value.replace(/[^\d]/g,"");s("max",a)},className:"w-full"})]})]})}function soe({selectedValue:e,filterKey:t,setFilter:n,options:r,ItemComponent:i,isMinMax:s=!1}){const o=hs(),a=f=>{n(t,e===f?null:f)},l=()=>{n(t,null)},c=Nl();return h.jsxs("div",{className:"relative inline-block",children:[h.jsxs(je,{direction:"flex-col",gap:"gap-2",children:[h.jsx(Mr,{children:Vi[t]}),h.jsx(Gl,{columns:{md:3},gap:"gap-2",children:r.map(f=>h.jsx(i,{label:c[t]?.(f)??String(f),selected:e===f,onClick:()=>a(f)},String(f)))}),s&&h.jsx("div",{className:"mt-2",children:h.jsx(ioe,{selectedValue:e,filterKey:t,setFilter:(f,p)=>n(f,p),options:r})})]}),!o&&h.jsx(je,{justify:"justify-end",children:h.jsxs(Mt,{variant:"text",size:"small",textColor:"gray",onClick:()=>l(),children:[h.jsx(roe,{className:"inline w-3 h-3 mr-1",stroke:"currentColor"}),""]})})]})}function of({filterKey:e,options:t,ItemComponent:n,selectedValue:r,setFilter:i,className:s,isMinMax:o}){const a=hs(),l=Ase(e,r),c=h.jsx(soe,{selectedValue:r,filterKey:e,setFilter:(f,p)=>i(f,p),options:t,ItemComponent:n,isMinMax:o});return a?c:h.jsx(M1,{label:l,selected:!!r,className:s,children:c})}const MR=e=>R.createElement("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},R.createElement("path",{d:"M7.18066 10.5625C7.88416 10.5629 8.47281 11.0824 8.63086 11.7812H14.625C14.8321 11.7812 15 11.9491 15 12.1562C15 12.3634 14.8321 12.5312 14.625 12.5312H8.63086C8.47281 13.2301 7.88416 13.7496 7.18066 13.75C6.47688 13.75 5.88776 13.2303 5.72949 12.5312H1.375C1.16789 12.5312 1 12.3634 1 12.1562C1 11.9491 1.16789 11.7812 1.375 11.7812H5.72949C5.88776 11.0822 6.47688 10.5625 7.18066 10.5625ZM7.18066 11.2812C6.72774 11.2812 6.36035 11.673 6.36035 12.1562C6.36035 12.6395 6.72774 13.0312 7.18066 13.0312C7.63324 13.0308 8 12.6392 8 12.1562C8 11.6733 7.63324 11.2817 7.18066 11.2812ZM11.7197 6.40625C12.4233 6.40647 13.0117 6.92611 13.1699 7.625H14.625C14.8321 7.625 15 7.79289 15 8C15 8.20711 14.8321 8.375 14.625 8.375H13.1699C13.0117 9.0739 12.4233 9.59353 11.7197 9.59375C11.0161 9.59356 10.4277 9.07393 10.2695 8.375H1.375C1.16789 8.375 1 8.20711 1 8C1 7.79289 1.16789 7.625 1.375 7.625H10.2695C10.4277 6.92608 11.0161 6.40644 11.7197 6.40625ZM11.7197 7.125C11.267 7.12523 10.9004 7.51689 10.9004 8C10.9004 8.48311 11.267 8.87477 11.7197 8.875C12.1724 8.87474 12.54 8.48309 12.54 8C12.54 7.51691 12.1724 7.12526 11.7197 7.125ZM5.07129 2.25C5.77489 2.2502 6.36337 2.76981 6.52148 3.46875H14.625C14.8321 3.46875 15 3.63664 15 3.84375C15 4.05086 14.8321 4.21875 14.625 4.21875H6.52148C6.36337 4.91769 5.77489 5.43729 5.07129 5.4375C4.36758 5.43737 3.77832 4.9178 3.62012 4.21875H1.375C1.16789 4.21875 1 4.05086 1 3.84375C1 3.63664 1.16789 3.46875 1.375 3.46875H3.62012C3.77832 2.7697 4.36758 2.25013 5.07129 2.25ZM5.07129 2.96875C4.61849 2.9689 4.25098 3.36059 4.25098 3.84375C4.25098 4.32691 4.61849 4.7186 5.07129 4.71875C5.52402 4.71852 5.89062 4.32686 5.89062 3.84375C5.89062 3.36064 5.52402 2.96898 5.07129 2.96875Z",fill:"#9CA3AF"}));function CS({handleOpenFilter:e}){return h.jsx(Ar,{"aria-label":" ",title:" ",label:" ",variant:"contain",icon:h.jsx(MR,{className:"w-4 h-4 "}),onClick:e})}function ooe({alarmOnly:e,setFilter:t}){return h.jsxs(Mt,{variant:"outlined",size:"medium",onClick:()=>t("alarmOnly",!e),children:[h.jsx(zl,{disabled:!e}),""]})}function aoe({departments:e,category:t,setCategory:n,searchKeywords:r,setSearchKeywords:i}={}){const s=R.useMemo(()=>[{departmentName:"",departmentCode:""},...e??[]],[e]),o=R.useMemo(()=>s.filter(a=>t===""?a.departmentCode==="9005":t===""?a.departmentCode!=="9005":!0).filter(a=>{if(!r)return!0;const l=r.replace(/[^\w\s---]/g,""),c=sf(l).toLowerCase(),f=a.departmentName.replace(/[^\w\s---]/g,"");return sf(f).toLowerCase().includes(c)}),[s,t,r]);return{category:t,setCategory:n,searchKeywords:r,setSearchKeywords:i,departmentsList:s,filteredDepartments:o}}const DR=e=>R.createElement("svg",{width:12,height:12,viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},R.createElement("path",{d:"M4.50007 8.08504L2.76507 6.35004C2.67158 6.25655 2.54479 6.20403 2.41257 6.20403C2.28036 6.20403 2.15356 6.25655 2.06007 6.35004C1.96658 6.44353 1.91406 6.57033 1.91406 6.70254C1.91406 6.768 1.92696 6.83283 1.95201 6.89331C1.97706 6.95379 2.01378 7.00875 2.06007 7.05504L4.15007 9.14504C4.34507 9.34004 4.66007 9.34004 4.85507 9.14504L10.1451 3.85504C10.2386 3.76155 10.2911 3.63475 10.2911 3.50254C10.2911 3.37033 10.2386 3.24353 10.1451 3.15004C10.0516 3.05655 9.92479 3.00403 9.79257 3.00403C9.66036 3.00403 9.53356 3.05655 9.44007 3.15004L4.50007 8.08504Z",fill:"#047CFE"}));function kS({setFilter:e,selectedValue:t}){const{data:n}=wu(),[r,i]=R.useState(""),[s,o]=R.useState(""),{departmentsList:a,filteredDepartments:l}=aoe({category:s,setCategory:o,searchKeywords:r,setSearchKeywords:i,departments:n});return h.jsxs(M1,{label:LR(t,a),selected:!!t,children:[h.jsxs(je,{direction:"flex-col",className:"h-80 w-80 overflow-y-auto",children:[h.jsx(Mr,{children:""}),h.jsxs(je,{className:"shrink-0 bg-white",gap:"gap-2",children:[h.jsxs("select",{value:s,className:"border border-gray-300 rounded-md text-sm text-gray-700 bg-white",onChange:c=>{const f=c.target.value;o(f),e("department","")},children:[h.jsx("option",{value:"",children:""}),h.jsx("option",{value:"",children:""})]}),h.jsx(Su,{type:"text",placeholder:" ",onDelete:()=>{i("")},value:r,onChange:c=>{i(c.target.value)},className:"w-full"})]}),h.jsx("div",{className:"overflow-y-auto flex-1 py-2 ",children:(s===""||s==="")&&h.jsx(loe,{departments:l,setFilter:e,selectedValue:t})})]}),h.jsx(je,{justify:"justify-end",className:"w-full pt-1",children:h.jsx(Mt,{variant:"text",size:"small",textColor:"gray",disabled:!t,onClick:()=>e("department",""),children:""})})]})}function loe({departments:e,setFilter:t,selectedValue:n}){if(!e)return h.jsx(Ey,{title:"  ."});const r=i=>{t("department",i||"")};return e.length===0?h.jsx(Ey,{title:"  .",description:"   ."}):h.jsx(h.Fragment,{children:e.map(i=>{const s=LR(n,e)===i.departmentName,o=i.departmentName?i.departmentName.split(" ").slice(-1)[0]:"  ";return h.jsx(OQ,{selected:s,left:o,right:s?h.jsx(DR,{className:"w-4 h-4 shrink-0"}):null,onSelect:()=>r(i.departmentCode)},i.departmentCode)})})}function LR(e,t){const n=t?.find(r=>r.departmentCode===e)?.departmentName;return n||" ."}function z6({className:e,onChange:t,...n}){return h.jsx("input",{type:"time",className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:outline-blue-500 "+e,placeholder:"HH:MM",step:600,onChange:r=>{r.target.value=coe(r.target.value),console.log("Time changed:",r.target.value),t&&t(r)},...n})}function coe(e){const[t,n]=e.split(":").map(Number);if(Number.isNaN(t)||Number.isNaN(n))return"00:00";const r=Math.round(n/10)%6*10,i=String(t).padStart(2,"0"),s=String(r).padStart(2,"0");return`${i}:${s}`}function y_({items:e,onChange:t}){R.useEffect(()=>{if(e.length===0){t([{day:"",type:"all"}]);return}const i=doe(e);i&&t(i)},[e]);const n=i=>s=>{const{name:o,value:a}=s.target,l=[...e];l[i]={...l[i],[o]:a},t(l)},r=i=>()=>{const s=e.filter((o,a)=>a!==i);t(s)};return h.jsxs(h.Fragment,{children:[h.jsxs(je,{direction:"flex-col",gap:"gap-2",children:[h.jsx(Mr,{children:""}),e.map((i,s)=>h.jsx(uoe,{item:i,onChange:n(s),onDelete:r(s)},`${i.day}-${i.type}-${i.start}-${i.end}`))]}),h.jsx(Mt,{variant:"text",size:"small",textColor:"gray",onClick:()=>t([...e,{day:"",type:"all"}]),children:" "})]})}function uoe({item:e,onChange:t,onDelete:n}){const r=!!e.day,i=e.type!="all",s=e.type==="between";return h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsxs("select",{name:"day",value:e.day,onChange:t,className:"bg-gray-100 px-3 py-2 rounded-md text-xs text-gray-600 w-fit",children:[h.jsx("option",{value:"",children:""}),["","","","","","",""].map(o=>h.jsx("option",{value:o,children:o},o))]}),r&&h.jsxs("select",{name:"type",value:e.type,onChange:t,className:"bg-gray-100 px-3 py-2 rounded-md text-xs text-gray-600 w-fit",children:[h.jsx("option",{value:"all",children:""}),h.jsx("option",{value:"before",children:""}),h.jsx("option",{value:"after",children:""}),h.jsx("option",{value:"between",children:""})]}),i&&h.jsx(z6,{name:"start",value:e.start||"00:00",onChange:t}),s&&h.jsx(z6,{name:"end",value:e.end||"00:00",onChange:t}),h.jsx(Mt,{variant:"text",size:"small",textColor:"secondary",onClick:n,children:""})]})}function doe(e){return e.some(n=>n.day===""?n.type!=="all"||n.start||n.end:n.type==="all"?n.start||n.end:n.type==="before"||n.type==="after"?!n.start||n.end:n.type==="between"?!n.start||!n.end:!1)?e.map(n=>n.day===""?{day:"",type:"all"}:n.type==="all"?{day:n.day,type:"all"}:n.type==="before"||n.type==="after"?{day:n.day,type:n.type,start:n.start||"00:00"}:n.type==="between"?{day:n.day,type:n.type,start:n.start||"00:00",end:n.end||"00:00"}:n):e}function FR({times:e,setFilter:t}){const n=(o,a)=>{t("time",a)},r=hs(),s=e.length===1&&e[0].type==="all"&&e[0].day===""?"":e.length===1?` ${e[0].day}`:e.length>1?` ${e[0].day}  ${e.length-1}`:"";return r?h.jsx(y_,{items:e,onChange:o=>n("time",o)}):h.jsx(M1,{label:s,selected:e.length>0&&e[0].day!=="",className:"min-w-max",children:h.jsxs(je,{direction:"flex-col",gap:"gap-2",children:[h.jsx(Mr,{children:" "}),h.jsx(y_,{items:e,onChange:o=>n("time",o)})]})})}const foe=e=>R.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},R.createElement("path",{d:"M3 4H17L12 10.5V20L8 16V10.5L3 4Z",stroke:"#047CFE",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),R.createElement("path",{d:"M16 15L22 21",stroke:"#047CFE",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),R.createElement("path",{d:"M16 21L22 15",stroke:"#047CFE",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}));function TS({filters:e,resetFilter:t}){return Object.keys(e).some(i=>!IR(i,e[i]))?h.jsx(Xn,{label:h.jsxs(je,{align:"items-center",gap:"gap-1",children:[h.jsx("span",{children:" "}),h.jsx(foe,{className:"w-4 h-4"})]}),selected:!0,onClick:t}):null}function jS({filterStore:e,onClose:t}){const n=Oa(),{classroom:r,note:i,categories:s,time:o}=e(_=>_.filters),a=wu(),l=e(_=>_.filters),c=e(_=>_.setFilter),f=e(_=>_.resetFilters),p=wS(l,a.data),{data:g}=go(n),y=em(g??[]).sort((_,S)=>_.localeCompare(S)).map(_=>_),x=(_,S)=>{const C=l[_];Array.isArray(C)?c(_,C.filter(I=>I!==S)):c(_,Ul[_])};return h.jsxs(Zn,{title:" ",onClose:t,isOpen:!0,children:[h.jsx(Zn.Content,{children:h.jsxs(je,{direction:"flex-col",gap:"gap-4",className:"w-130",children:[p.length>0&&h.jsx(Wn,{variant:"outlined",children:h.jsxs(je,{direction:"flex-col",gap:"gap-2",children:[h.jsx(Mr,{children:" "}),h.jsx(je,{gap:"gap-2",direction:"flex-wrap",justify:"justify-start",className:"w-120",children:p.map(_=>h.jsx(Xn,{variant:"cancel",label:_.label,selected:!0,onClick:()=>x(_.filterKey,_.values)},`${_.filterKey}-${_.values}`))})]})}),h.jsx(Wn,{variant:"outlined",children:h.jsx(A0,{selectedValues:s,options:y,filterKey:"categories",setFilter:c,ItemComponent:Xn})}),h.jsx(Wn,{variant:"outlined",children:h.jsx(y_,{items:o,onChange:_=>c("time",_)})}),h.jsx(Wn,{variant:"outlined",children:h.jsx(A0,{selectedValues:i,options:Pn.remark,filterKey:"note",setFilter:c,ItemComponent:Xn})}),h.jsx(Wn,{variant:"outlined",children:h.jsx(A0,{selectedValues:r,options:Pn.classRoom,filterKey:"classroom",setFilter:c,ItemComponent:Xn})})]})}),h.jsx(Zn.Footer,{children:h.jsx(je,{direction:"flex-col",gap:"gap-2",children:h.jsx(je,{justify:"justify-end",children:h.jsx(Mt,{variant:"primary",size:"medium",onClick:f,disabled:p.length===0,children:" "})})})})]})}function hoe(){const e=R.useRef(null),t=R.useRef(null),n=R.useRef({touchStart:{sheetY:0,touchY:0},touchMove:{prevTouchY:0,movingDirection:"none"},isContentAreaTouched:!1});R.useEffect(()=>{const s=()=>{const{touchMove:c,isContentAreaTouched:f}=n.current,p=e.current?.getBoundingClientRect().y;if(!p)return!1;if(!f||p!==Bc)return!0;const g=t.current,y=g.scrollTop<=0,x=g.scrollTop+g.clientHeight>=g.scrollHeight;return c.movingDirection==="down"&&y||c.movingDirection==="up"&&x,!1},o=c=>{const{touchStart:f}=n.current;f.sheetY=e.current.getBoundingClientRect().y,f.touchY=c.touches[0].clientY},a=c=>{const{touchStart:f,touchMove:p}=n.current,g=c.touches[0];if(p.prevTouchY===void 0&&(p.prevTouchY=f.touchY),p.prevTouchY===0&&(p.prevTouchY=f.touchY),p.prevTouchY<g.clientY&&(p.movingDirection="down"),p.prevTouchY>g.clientY&&(p.movingDirection="up"),s()){c.stopPropagation();const y=g.clientY-f.touchY;let x=f.sheetY+y;x<=Bc&&(x=Bc),x>=i0&&(x=i0),e.current.style.setProperty("transform",`translateY(${x}px)`)}else document.body.style.overflowY="hidden"},l=()=>{const{touchMove:c}=n.current;(e.current?.getBoundingClientRect().y??0)!==Bc&&(c.movingDirection==="down"&&e.current.style.setProperty("transform",`translateY(${i0}px)`),c.movingDirection==="up"&&e.current.style.setProperty("transform",`translateY(${Bc}px)`)),n.current={touchStart:{sheetY:0,touchY:0},touchMove:{prevTouchY:0,movingDirection:"none"},isContentAreaTouched:!1}};return e.current.addEventListener("touchstart",o),e.current.addEventListener("touchmove",a),e.current.addEventListener("touchend",l),()=>{e.current?.removeEventListener("touchstart",o),e.current?.removeEventListener("touchmove",a),e.current?.removeEventListener("touchend",l)}},[]);const r=()=>{e.current&&e.current.style.setProperty("transform","translateY(400px)")},i=()=>{e.current&&e.current.style.setProperty("transform",`translateY(${i0}px)`)};return R.useEffect(()=>{const s=()=>{n.current.isContentAreaTouched=!0};t.current.addEventListener("touchstart",s);const o=window.getComputedStyle(document.body).overflow;return document.body.style.overflow="hidden",()=>{document.body.style.overflow=o}},[]),{sheet:e,content:t,expandToMax:r,collapseToMin:i}}function poe(){const{cancelSchedule:e}=pi(),t=Py(),n=()=>{t("/timetable"),e()};R.useEffect(()=>(window.addEventListener("popstate",n),()=>{window.removeEventListener("popstate",n)}),[])}const Bc=0,i0=window.innerHeight-300,moe=window.innerHeight-Bc;function tm({children:e}){const{sheet:t,content:n,expandToMax:r,collapseToMin:i}=hoe(),{type:s,resetBottomSheet:o}=Ea(),{cancelSchedule:a}=pi();function l(){a(),o()}return poe(),h.jsxs("div",{className:"fixed inset-0 z-[200]",children:[s&&h.jsx("div",{className:"absolute inset-0 bg-black/5 bg-opacity-80",role:"presentation",onClick:l}),h.jsxs("div",{ref:t,className:"fixed rounded-t-xl bottom-0 left-0 w-full transition-transform bg-white duration-300 z-200",style:{height:`${moe}px`,transform:`translateY(${Bc}px)`},children:[h.jsx("div",{className:"w-full flex justify-center py-2 h-7 shrink-0",children:h.jsx("button",{className:"w-20 h-2 cursor-pointer bg-gray-300 rounded-full","aria-label":"",onClick:a})}),h.jsx("div",{ref:n,className:"flex-1 overflow-y-auto ",children:typeof e=="function"?e({expandToMax:r,collapseToMin:i}):e})]})]})}const BR=e=>R.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},R.createElement("path",{d:"M12 5V19M5 12H19",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}));function nm({title:e,headerType:t,onClose:n,onClick:r}){return h.jsx("header",{className:"w-full px-2 flex items-center justify-between mb-2",children:t==="add"?h.jsxs("div",{className:"w-full h-8 flex items-center  justify-between ",children:[h.jsx(bx,{headerType:"add",onClick:r}),e&&h.jsx(Vt,{level:3,children:e}),h.jsx(bx,{headerType:"close",onClick:n})]}):h.jsx(h.Fragment,{children:h.jsxs("div",{className:"relative w-full flex items-center justify-center h-6",children:[h.jsx(Vt,{level:3,children:e}),h.jsx("div",{className:"absolute right-0",children:h.jsx(bx,{headerType:"close",onClick:n})})]})})})}function bx({headerType:e,onClick:t}){const n=e==="close"?h.jsx(F9,{}):h.jsx(BR,{className:"text-gray-400",width:16,height:16});return h.jsx("button",{className:"w-6 h-6 cursor-pointer flex items-center justify-center bg-gray-100 rounded-full",onClick:t,children:n})}function D1({id:e,className:t,value:n,defaultValue:r="",...i}){const{data:s}=wu(),o=[{departmentName:r,departmentCode:""},...s??[]],a=e??"department-filter";return h.jsxs(h.Fragment,{children:[h.jsx(Mr,{htmlFor:a,hidden:!0,children:""}),h.jsx("select",{id:a,className:"w-full p-2 rounded-md bg-white border border-gray-400 "+t,value:n,...i,children:o.map(({departmentName:l,departmentCode:c})=>h.jsx("option",{value:c,children:l},c))})]})}function IS({onCloseFiltering:e,filters:t,setFilter:n,resetFilter:r}){const i=()=>{e()},s=Oa(),{data:o}=go(s),a=wu(),l=em(o??[]).sort((p,g)=>p.localeCompare(g)).map(p=>p),c=wS(t,a.data),f=(p,g)=>{const y=t[p];Array.isArray(y)?n(p,y.filter(x=>x!==g)):n(p,Ul[p])};return h.jsxs(tm,{children:[h.jsx(nm,{headerType:"close",title:"",onClose:()=>{e()}}),h.jsxs("div",{className:"w-full flex px-4 flex-col h-[85vh] gap-5 overflow-y-auto overscroll-contain",children:[h.jsx(je,{direction:"flex-wrap",gap:"gap-2",children:c.map(p=>h.jsx(Xn,{variant:"cancel",label:p.label,selected:!0,onClick:()=>f(p.filterKey,p.values)},`${p.filterKey}-${p.values}`))}),h.jsxs(je,{direction:"flex-col",justify:"justify-center",gap:"gap-8",className:"w-full",children:[h.jsx(D1,{className:"cursor-pointer border-gray-100 rounded-sm py-1 text-sm",value:t.department,onChange:p=>n("department",p.target.value)}),h.jsx(of,{filterKey:"wishRange",options:Pn.wishRange,selectedValue:t.wishRange??null,setFilter:n,ItemComponent:Xn}),h.jsx(of,{filterKey:"seatRange",options:Pn.seatRange,selectedValue:t.seatRange??null,setFilter:n,ItemComponent:Xn}),h.jsx(je,{direction:"flex-col",gap:"gap-2",children:h.jsx(FR,{times:t.time,setFilter:n})}),h.jsx(or,{filterKey:"credits",options:Pn.credits,selectedValues:t.credits??[],setFilter:n}),h.jsx(or,{filterKey:"grades",options:Pn.grades,selectedValues:t.grades??[],setFilter:n}),h.jsx(or,{filterKey:"classroom",options:Pn.classRoom,selectedValues:t.classroom??[],setFilter:n}),h.jsx(or,{filterKey:"note",options:Pn.remark,selectedValues:t.note??[],setFilter:n}),h.jsx(or,{filterKey:"categories",options:l,selectedValues:t.categories??[],setFilter:n}),h.jsxs("div",{className:"sticky bottom-0 py-3 bg-white flex justify-end items-center gap-2 border-gray-200",children:[h.jsx(Mt,{variant:"outlined",size:"medium",onClick:r,disabled:c.length===0,children:" "}),h.jsx(Mt,{type:"submit",variant:"primary",size:"medium",onClick:i,children:""})]})]})]})]})}function goe(){const[e,t]=R.useState(!1),[n,r]=R.useState(!1),i=Ed(x=>x.setFilter),{keywords:s,alarmOnly:o,time:a}=Ed(x=>x.filters),l=Ed(x=>x.filters),c=Ed(x=>x.resetFilters),f=hs(),{data:p}=go(),g=em(p??[]).sort((x,_)=>x.localeCompare(_)).map(x=>x),y=()=>{f?r(!0):t(!0)};return h.jsxs(je,{direction:"flex-wrap",gap:"gap-2",children:[h.jsx(Mr,{className:"hidden",htmlFor:"searchOption",children:" "}),h.jsx(Su,{placeholder:",      ",value:s,className:"w-full",onDelete:()=>i("keywords",""),onChange:x=>i("keywords",x.target.value)}),e&&h.jsx(jS,{filterStore:Ed,onClose:()=>t(!1)}),n&&h.jsx(IS,{onCloseFiltering:()=>r(!1),filters:l,setFilter:i,resetFilter:c}),h.jsxs(je,{align:"items-center",direction:"flex-wrap",gap:"gap-2",children:[h.jsxs(je,{direction:"flex-wrap",gap:"gap-2",className:"hidden md:flex",children:[h.jsx(kS,{selectedValue:l.department??"",setFilter:i}),h.jsx(FR,{times:a,setFilter:i}),h.jsx(or,{filterKey:"credits",options:Pn.credits,selectedValues:l.credits??[],setFilter:i}),h.jsx(or,{filterKey:"grades",options:Pn.grades,selectedValues:l.grades??[],setFilter:i}),l.classroom.length>0&&h.jsx(or,{filterKey:"classroom",options:Pn.classRoom,selectedValues:l.classroom??[],setFilter:i,className:"min-w-max"}),h.jsx(or,{filterKey:"note",options:Pn.remark,selectedValues:l.note??[],setFilter:i}),l.categories.length>0&&h.jsx(or,{filterKey:"categories",options:g,selectedValues:l.categories??[],setFilter:i,className:"min-w-max"}),h.jsx(of,{filterKey:"wishRange",options:Pn.wishRange,selectedValue:l.wishRange??null,setFilter:i,ItemComponent:Xn}),h.jsx(of,{filterKey:"seatRange",options:Pn.seatRange,selectedValue:l.seatRange??null,setFilter:i,ItemComponent:Xn})]}),h.jsx(TS,{filters:l,resetFilter:c}),h.jsx(CS,{handleOpenFilter:y}),h.jsx(ooe,{alarmOnly:o,setFilter:i})]})]})}const yoe=[{title:"",key:"pin"},{title:"",key:"code"},{title:"",key:"departmentName"},{title:"",key:"name"},{title:"",key:"professor"}];function voe(){const e=Ed(t=>t.filters);return h.jsxs(h.Fragment,{children:[h.jsx(ni,{children:h.jsx("title",{children:"ALLCLL |  "})}),h.jsxs(je,{direction:"flex-col",className:"mb-4",children:[h.jsx(Vt,{level:2,children:" "}),h.jsxs(Jn,{children:["   ,    .",h.jsx("br",{}),"  ",OR,", 11:00  ."]}),h.jsxs(Wn,{children:[h.jsx(goe,{}),h.jsx(vS,{})]}),h.jsx(boe,{filters:e}),h.jsx(cR,{right:"right-2 sm:right-10"})]})]})}function boe({filters:e}){const{data:t,titles:n,isPending:r}=uR(yoe),i=vf(t),s=R.useDeferredValue(xf(i??[],e)),o=hs();return h.jsx(Wn,{children:o?h.jsx(ES,{subjects:s,isPending:r,isLive:!0}):h.jsx(Xse,{titles:n,subjects:s,isPending:r})})}const xoe={enter:"sidebar-transition-enter",enterActive:"sidebar-transition-enter-active",exit:"sidebar-transition-exit",exitActive:"sidebar-transition-exit-active"};function woe({isOpen:e,onClose:t}){return h.jsx(Hp,{in:e,timeout:100,classNames:xoe,unmountOnExit:!0,children:h.jsxs(je,{direction:"flex-col",className:"w-92 flex-auto bg-gray-50 shadow-lg z-10",children:[h.jsxs("div",{className:"flex justify-between items-center py-2 pl-4 pr-2 bg-white border-b border-gray-200",children:[h.jsx(Vt,{level:2,children:" "}),h.jsx(Ar,{"aria-label":"  ",icon:h.jsx(sR,{className:"w-4 h-4"}),onClick:t})]}),h.jsx(_oe,{})]})})}function _oe(){const[e,t]=R.useState(""),[n,r]=R.useState(""),{data:i,isPending:s}=zo(),o=vf(i),a=R.useDeferredValue(xf(o??[],{...Ul,keywords:e,department:n}));return h.jsx(je,{direction:"flex-col",className:"flex-1 p-2",children:h.jsxs(je,{direction:"flex-col",className:"mb-4",gap:"gap-2",children:[h.jsx(Su,{placeholder:"  ",value:e,onChange:l=>t(l.target.value),onDelete:()=>t(""),className:"w-full"}),h.jsx(D1,{className:"flex-auto",value:n,onChange:l=>r(l.target.value)}),h.jsx(ES,{className:"flex flex-full overflow-auto max-h-screen",subjects:a,isPending:s})]})})}function Soe({onCloseSearch:e}){const[t,n]=R.useState(""),[r,i]=R.useState(""),{data:s,isPending:o}=zo(),a=vf(s),l=R.useDeferredValue(xf(a??[],{...Ul,keywords:t,department:r}));return h.jsx(tm,{children:({expandToMax:c})=>h.jsxs(h.Fragment,{children:[h.jsx(nm,{title:"",headerType:"close",onClose:()=>e(),onClick:c}),h.jsxs("div",{className:"sticky py-3 px-2 top-0 bg-white z-10 flex flex-col gap-2 mb-4 flex-auto",children:[h.jsx(Su,{placeholder:"  ",onChange:f=>n(f.target.value),onDelete:()=>n(""),className:"w-full"}),h.jsx(D1,{className:"flex-auto",value:r,onChange:f=>i(f.target.value)})]}),h.jsx("div",{className:"max-h-[70vh] min-h-0 px-2 overflow-y-auto touch-auto flex flex-col",children:h.jsx(ES,{className:"flex flex-full overflow-auto max-h-screen",subjects:l,isPending:o})})]})})}const RS=e=>R.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:36,height:36,viewBox:"0 0 36 36",...e},R.createElement("defs",null,R.createElement("clipPath",{id:"master_svg0_106_2202"},R.createElement("rect",{x:0,y:0,width:36,height:36,rx:0}))),R.createElement("g",{clipPath:"url(#master_svg0_106_2202)"},R.createElement("g",{transform:"matrix(1,0,0,-1,0,69.046875)"},R.createElement("g",null,R.createElement("path",{d:"M2.25,66.0234375Q3.23438,66.0234375,3.86719,65.3906375Q4.5,64.7578375,4.5,63.7734375L4.5,40.1484375Q4.57031,39.0937475,5.625,39.0234375L33.75,39.0234375Q34.7344,39.0234375,35.3672,38.3906275Q36,37.7578175,36,36.7734375Q36,35.7890575,35.3672,35.1562495Q34.7344,34.5234375,33.75,34.5234375L5.625,34.5234375Q3.23438,34.59375,1.61719,36.1406275Q0.0703125,37.7578175,0,40.1484375L0,63.7734375Q0,64.7578375,0.632812,65.3906375Q1.26562,66.0234375,2.25,66.0234375ZM9,59.2734375Q9,60.2578375,9.63281,60.8906375Q10.2656,61.5234375,11.25,61.5234375L24.75,61.5234375Q25.7344,61.5234375,26.3672,60.8906375Q27,60.2578375,27,59.2734375Q27,58.2890375,26.3672,57.6562375Q25.7344,57.0234375,24.75,57.0234375L11.25,57.0234375Q10.2656,57.0234375,9.63281,57.6562375Q9,58.2890375,9,59.2734375ZM11.25,54.7734375L20.25,54.7734375L11.25,54.7734375L20.25,54.7734375Q21.2344,54.7734375,21.8672,54.1406375Q22.5,53.5078375,22.5,52.5234375Q22.5,51.5390375,21.8672,50.9062375Q21.2344,50.2734375,20.25,50.2734375L11.25,50.2734375Q10.2656,50.2734375,9.63281,50.9062375Q9,51.5390375,9,52.5234375Q9,53.5078375,9.63281,54.1406375Q10.2656,54.7734375,11.25,54.7734375ZM11.25,48.0234375L29.25,48.0234375L11.25,48.0234375L29.25,48.0234375Q30.2344,48.0234375,30.8672,47.3906375Q31.5,46.7578375,31.5,45.7734375Q31.5,44.7890375,30.8672,44.1562475Q30.2344,43.5234375,29.25,43.5234375L11.25,43.5234375Q10.2656,43.5234375,9.63281,44.1562475Q9,44.7890375,9,45.7734375Q9,46.7578375,9.63281,47.3906375Q10.2656,48.0234375,11.25,48.0234375Z",fill:"#9CA3AF",fillOpacity:1,style:{mixBlendMode:"passthrough"}}))))),Eoe=e=>R.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",...e},R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})),Coe=e=>R.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",...e},R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.477 0-8.268-2.943-9.542-7a9.957 9.957 0 012.043-3.36m3.237-2.347A9.956 9.956 0 0112 5c4.478 0 8.268 2.943 9.542 7a9.954 9.954 0 01-4.043 5.132M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3l18 18"}));function koe({initialItems:e,onChange:t}){const[n,r]=R.useState(e),i=R.useRef(null),s=R.useRef([]),[o,a]=R.useState(null),l=R.useRef(null),[c,f]=R.useState(null),[p,g]=R.useState(null);R.useEffect(()=>{t?.(n)},[n,t]),R.useEffect(()=>{if(o){const O=n.findIndex(N=>N.title===o);O!==-1&&s.current[O]?.focus(),a(null)}},[n,o]),R.useEffect(()=>{const O=()=>requestAnimationFrame(_),N=new ResizeObserver(O);return i.current&&N.observe(i.current),window.addEventListener("scroll",O,!0),window.addEventListener("resize",O),O(),()=>{N.disconnect(),window.removeEventListener("scroll",O,!0),window.removeEventListener("resize",O)}},[]);function y(O){r(N=>{const F=[...N];return F[O]={...F[O],visible:!F[O].visible},F})}const x=R.useRef([]);function _(){const O=i.current;if(!O)return;const N=Array.from(O.children);x.current=N.map(F=>{const $=F.getBoundingClientRect();return $.top+$.height/2})}function S(O,N){if(O.key==="ArrowUp"||O.key==="ArrowDown"){O.preventDefault(),O.stopPropagation();const F=N;let $;if(O.key==="ArrowUp"){if(F===0)return;$=F-1}else{if(F===n.length-1)return;$=F+1}const L=n[F].title;r(Z=>{const Y=[...Z],[he]=Y.splice(F,1);return Y.splice($,0,he),Y}),a(L)}}function C(O,N){if(!i.current)return;const F=O.target.closest(".draggable-item");if(!F)return;O.target.setPointerCapture(O.pointerId);const $=F.getBoundingClientRect(),L=i.current.getBoundingClientRect();l.current={currentIndex:N,height:$.height,offsetY:O.clientY-$.top,containerRect:L},f({item:n[N],initialIndex:N}),g({width:$.width,left:$.left,top:$.top,position:"fixed",zIndex:50,pointerEvents:"none",transition:"none"}),window.addEventListener("pointermove",I),window.addEventListener("pointerup",A,{once:!0})}function I(O){if(l.current===null)return;const{height:N,offsetY:F,containerRect:$}=l.current;let L=O.clientY-F;L=Math.max($.top,L),L=Math.min($.bottom-N,L),g(Q=>({...Q||{},top:L})),_();const Z=O.clientY;let he=x.current.findIndex(Q=>Z<Q);he===-1&&(he=n.length);const G=l.current.currentIndex;let W=Math.max(0,Math.min(n.length-1,he>G?he-1:he));W!==G&&(l.current.currentIndex=W,r(Q=>{const te=[...Q],[X]=te.splice(G,1);return te.splice(W,0,X),te}))}function A(){window.removeEventListener("pointermove",I),l.current=null,f(null),g(null)}const z=R.useMemo(()=>c?n.findIndex(O=>O.title===c.item.title):-1,[n,c]);function U(O){if(!c||!l.current||z===-1)return"";const N=z,F=l.current.currentIndex,$=l.current.height;if(O===N)return"";if(N<F){if(O>N&&O<=F)return`translateY(-${$}px)`}else if(O>=F&&O<N)return`translateY(${$}px)`;return""}return h.jsxs(h.Fragment,{children:[h.jsx("ul",{ref:i,className:"bg-white divide-y divide-gray-100 relative",children:n.map((O,N)=>h.jsxs("li",{ref:F=>{s.current[N]=F},className:"draggable-item flex items-center gap-2 rounded-md px-2 transition-transform duration-1000",tabIndex:0,onKeyDown:F=>S(F,N),style:{transform:U(N),opacity:z===N?.4:1},children:[h.jsx("button",{className:"p-1 text-gray-500 hover:text-gray-700 cursor-grab",onPointerDown:F=>C(F,N),"aria-label":`Drag ${O.title}`,title:" ",children:""}),h.jsxs("div",{className:"flex items-center justify-between flex-auto",children:[h.jsx("span",{className:"font-medium",children:O.title}),h.jsx("button",{className:"p-1 text-gray-500 hover:text-gray-700 cursor-pointer","aria-label":O.visible?"":"",title:O.visible?"":"",onClick:()=>y(N),children:O.visible?h.jsx(Eoe,{className:"w-4 h-4"}):h.jsx(Coe,{className:"w-4 h-4"})})]})]},O.title))}),p&&c&&h.jsx("div",{style:p,className:"bg-blue-50 rounded-md shadow-lg w-full max-w-lg m-auto px-2",children:h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("span",{className:"p-1 text-gray-700",children:""}),h.jsx("span",{className:"font-medium",children:c.item.title})]})}),h.jsx("div",{className:"mt-4 text-sm text-gray-500",children:"Tip:    /    ."})]})}function $R({initialItems:e,onChange:t,onClose:n}){return nR({enabled:!0,onClose:n}),h.jsx(Zn,{title:" ",onClose:n,isOpen:!0,children:h.jsx(Zn.Content,{children:h.jsx(koe,{initialItems:e,onChange:t})})})}function Toe(e){const{data:t}=go(),{data:n,...r}=H2(e);return{data:n?.map(s=>{const{subjectId:o,seatCount:a,queryTime:l}=s,c=t?.find(x=>x.subjectId===o)||i1,{subjectName:f,subjectCode:p,classCode:g,professorName:y}=c;return{...c,code:`${p}-${g}`,name:f,professor:y,seat:a,queryTime:l}}),...r}}function joe(){return h.jsx(E1,{title:"   TOP 10  ",description:"   ",icon:h.jsx(RS,{className:"w-7 h-7"})})}function Ioe(){return h.jsx(E1,{title:"   ",description:"   .   .",icon:h.jsx(L2,{className:"w-7 h-7 text-gray-400"}),children:h.jsx(je,{justify:"justify-center",children:h.jsx("a",{className:"bg-gray-50 rounded-full px-4 py-2 text-sm border border-gray-200 hover:shadow-md cursor-pointer",href:"https://open.kakao.com/o/g3MztXfh",children:"  "})})})}const zR=(e,t)=>ri()($2(n=>({tableTitles:t,setTableTitles:r=>n({tableTitles:r}),resetTableTitles:()=>n({tableTitles:t})}),{name:`${e}-table-head-store`})),Roe=[{title:"",visible:!0,key:"code"},{title:"",visible:!0,key:"name"},{title:"",visible:!0,key:"professor"},{title:"",visible:!0,key:"seat"},{title:"",visible:!0,key:"queryTime"},{title:"",visible:!1,key:"manageDeptNm"},{title:"",visible:!1,key:"studentYear"},{title:"",visible:!1,key:"lesnTime"},{title:"",visible:!1,key:"lesnRoom"},{title:"",visible:!1,key:"tmNum"},{title:"",visible:!1,key:"remark"},{title:"",visible:!1,key:"curiTypeCdNm"},{title:"",visible:!1,key:"curiLangNm"}],U6=zR("live",Roe),Noe=({title:e=""})=>{const[t,n]=R.useState(!1),r=U6(s=>s.setTableTitles),i=U6(s=>s.tableTitles);return h.jsxs(Wn,{children:[t&&h.jsx($R,{initialItems:i,onChange:r,onClose:()=>n(!1)}),h.jsxs(je,{justify:"justify-between",align:"items-center",className:"mb-2",children:[h.jsxs(Vt,{level:3,children:[e," "]}),h.jsx(Ar,{label:" ",variant:"plain","aria-label":" ",icon:h.jsx(RS,{className:"w-4 h-4"}),onClick:()=>n(!0)})]}),h.jsx("div",{className:"overflow-x-auto",children:h.jsxs("table",{className:"w-full bg-white rounded-lg text-sm",children:[h.jsx("thead",{children:h.jsx("tr",{className:"bg-gray-50 sticky top-0 z-10 text-nowrap",children:i.filter(s=>s.visible).map(({title:s})=>h.jsx("th",{className:"px-4 py-2",children:s},s))})}),h.jsx("tbody",{children:h.jsx(Ooe,{tableTitles:i})})]})}),h.jsx(vS,{})]})};function Ooe({tableTitles:e}){const{data:t,isError:n,isPending:r,refetch:i}=Toe(s1.NON_MAJOR),s=e.filter(c=>c.visible),{data:o}=yu("live"),a=o&&"service"in o&&o.service&&!o.service.withinPeriod?o.service:null,l=Ad(c=>c.sseState);return n?h.jsx("tr",{children:h.jsx("td",{colSpan:s.length,children:h.jsx(lR,{onReload:i})})}):r||!t?h.jsx(O1,{row:5,col:s.length}):l===U2.IDLE&&a?h.jsx("tr",{children:h.jsx("td",{colSpan:s.length,className:"text-center",children:h.jsx(Ioe,{})})}):t.length?h.jsx(Zy,{component:null,children:t.map(c=>h.jsx(Hp,{timeout:500,classNames:"row-change",children:h.jsx(Poe,{subject:c,HeadTitles:s},c.code)},c.code))}):h.jsx("tr",{children:h.jsx("td",{colSpan:s.length,className:"text-center",children:h.jsx(joe,{})})})}function Poe({subject:e,HeadTitles:t}){const n=R.useRef(e.seat),[r,i]=R.useState(!1),s=e.isDeleted,o=e.curiLangNm==="",a=r?"bg-blue-50":s?"bg-gray-100":o?"bg-green-50":"",l=new Date(e.queryTime??0).getTime();return R.useEffect(()=>{if(n.current!==e.seat){i(!0);const c=setTimeout(()=>i(!1),1e3);return n.current=e.seat,()=>clearTimeout(c)}},[e.seat]),h.jsx("tr",{className:`border-t border-gray-200 text-black transition-colors duration-500 text-nowrap ${a}`,"data-testid":"crawl-row","data-crawled-at":l,children:t.map(({key:c})=>{switch(c){case"seat":return h.jsx("td",{className:"px-4 py-2 text-center",children:h.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-bold "+w1(e.seat??-1),children:e[c]})},c);case"queryTime":return h.jsx(Aoe,{queryTime:e.queryTime},c);default:return h.jsx("td",{className:"px-4 py-2 text-center",children:e[c]},c)}})})}function Aoe({queryTime:e}){return oR(),h.jsx("td",{className:"w-18 px-4 py-2 text-center text-xs",children:h.jsx("span",{className:"text-gray-500",children:gS(e)})})}function Moe(){const e=r_(s=>s.isSearchOpen),t=r_(s=>s.setIsSearchOpen),n=hs(),{isPreSeatAvailable:r}=N1(),i=!r;return h.jsxs(h.Fragment,{children:[h.jsxs(ni,{children:[h.jsx("title",{children:"ALLCLL |   "}),h.jsx("meta",{name:"description",content:"    ,    !"})]}),h.jsxs(je,{className:"overflow-hidden min-h-screen",children:[h.jsxs(je,{direction:"flex-col",className:"max-w-screen-xl mx-auto p-4 mb-8 container",children:[h.jsxs(je,{direction:"flex-col",gap:"gap-0",children:[h.jsx(Vt,{level:1,children:"  "}),h.jsxs(Jn,{children:["     .    ",h.jsx("a",{href:"https://forms.gle/bCDTVujEHunnvHe88",target:"_blank",className:"text-blue-500 underline hover:text-blue-600",children:""})]})]}),i&&h.jsx(Lne,{}),h.jsx(Gl,{columns:{base:1},gap:"gap-4",children:h.jsx(Doe,{isPreSeatAvailable:r})})]}),h.jsx(Loe,{isMobile:n,isOpen:e,onClose:()=>t(!1)})]})]})}function Doe({isPreSeatAvailable:e}){return e?h.jsx(voe,{}):h.jsx(Noe,{title:""})}function Loe({isMobile:e,isOpen:t,onClose:n}){return t?e?h.jsx(Soe,{onCloseSearch:n}):h.jsx(woe,{isOpen:t,onClose:n}):null}function Foe(){const[e,t]=R.useState(!1);return h.jsxs(h.Fragment,{children:[h.jsx(ni,{children:h.jsx("title",{children:"ALLCLL | "})}),h.jsxs("div",{className:"mx-auto flex flex-col justify-center bg-blue-100 h-max",children:[h.jsx("iframe",{src:"https://resilient-may-c73.notion.site/ebd/1f2acf7c316280939afed2657259c817",width:"100%",height:e?"1000":"0",onLoad:()=>t(!0),children:" "}),!e&&h.jsx("div",{className:"w-4xl mx-auto h-screen flex justify-center items-center text-3xl",children:" ..."})]})]})}function Boe(){const[e,t]=R.useState(!1);return h.jsxs(h.Fragment,{children:[h.jsxs(ni,{children:[h.jsx("title",{children:"ALLCLL |   "}),h.jsx("meta",{name:"description",content:"     ,  ."})]}),h.jsxs("div",{className:"mx-auto flex justify-center bg-blue-100 pt-4",children:[h.jsx("iframe",{src:"https://docs.google.com/forms/d/e/1FAIpQLSdk7MxNYVyzPyJLecQdJU5wGSgdE7rUWtRfcrPBY2ioKbtW2Q/viewform?embedded=true",width:"640",height:e?"1100":"0",onLoad:()=>t(!0),children:" "}),!e&&h.jsx("div",{className:"w-4xl h-screen flex items-center text-3xl",children:" ..."})]})]})}function H6(e,t){const n=String(e);if(typeof t!="string")throw new TypeError("Expected character");let r=0,i=n.indexOf(t);for(;i!==-1;)r++,i=n.indexOf(t,i+t.length);return r}const Ti=Zl(/[A-Za-z]/),fi=Zl(/[\dA-Za-z]/),$oe=Zl(/[#-'*+\--9=?A-Z^-~]/);function Cy(e){return e!==null&&(e<32||e===127)}const v_=Zl(/\d/),zoe=Zl(/[\dA-Fa-f]/),Uoe=Zl(/[!-/:-@[-`{-~]/);function bt(e){return e!==null&&e<-2}function Cn(e){return e!==null&&(e<0||e===32)}function Xt(e){return e===-2||e===-1||e===32}const L1=Zl(new RegExp("\\p{P}|\\p{S}","u")),cu=Zl(/\s/);function Zl(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function Hoe(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}const F1=(function(e){if(e==null)return Qoe;if(typeof e=="function")return B1(e);if(typeof e=="object")return Array.isArray(e)?Woe(e):Voe(e);if(typeof e=="string")return qoe(e);throw new Error("Expected function, string, or object as test")});function Woe(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=F1(e[n]);return B1(r);function r(...i){let s=-1;for(;++s<t.length;)if(t[s].apply(this,i))return!0;return!1}}function Voe(e){const t=e;return B1(n);function n(r){const i=r;let s;for(s in e)if(i[s]!==t[s])return!1;return!0}}function qoe(e){return B1(t);function t(n){return n&&n.type===e}}function B1(e){return t;function t(n,r,i){return!!(Koe(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function Qoe(){return!0}function Koe(e){return e!==null&&typeof e=="object"&&"type"in e}const UR=[],Goe=!0,b_=!1,Yoe="skip";function HR(e,t,n,r){let i;typeof t=="function"&&typeof n!="function"?(r=n,n=t):i=t;const s=F1(i),o=r?-1:1;a(e,void 0,[])();function a(l,c,f){const p=l&&typeof l=="object"?l:{};if(typeof p.type=="string"){const y=typeof p.tagName=="string"?p.tagName:typeof p.name=="string"?p.name:void 0;Object.defineProperty(g,"name",{value:"node ("+(l.type+(y?"<"+y+">":""))+")"})}return g;function g(){let y=UR,x,_,S;if((!t||s(l,c,f[f.length-1]||void 0))&&(y=Joe(n(l,f)),y[0]===b_))return y;if("children"in l&&l.children){const C=l;if(C.children&&y[0]!==Yoe)for(_=(r?C.children.length:-1)+o,S=f.concat(C);_>-1&&_<C.children.length;){const I=C.children[_];if(x=a(I,_,S)(),x[0]===b_)return x;_=typeof x[1]=="number"?x[1]:_+o}}return y}}}function Joe(e){return Array.isArray(e)?e:typeof e=="number"?[Goe,e]:e==null?UR:[e]}function Xoe(e,t,n){const i=F1((n||{}).ignore||[]),s=Zoe(t);let o=-1;for(;++o<s.length;)HR(e,"text",a);function a(c,f){let p=-1,g;for(;++p<f.length;){const y=f[p],x=g?g.children:void 0;if(i(y,x?x.indexOf(y):void 0,g))return;g=y}if(g)return l(c,f)}function l(c,f){const p=f[f.length-1],g=s[o][0],y=s[o][1];let x=0;const S=p.children.indexOf(c);let C=!1,I=[];g.lastIndex=0;let A=g.exec(c.value);for(;A;){const z=A.index,U={index:A.index,input:A.input,stack:[...f,c]};let O=y(...A,U);if(typeof O=="string"&&(O=O.length>0?{type:"text",value:O}:void 0),O===!1?g.lastIndex=z+1:(x!==z&&I.push({type:"text",value:c.value.slice(x,z)}),Array.isArray(O)?I.push(...O):O&&I.push(O),x=z+A[0].length,C=!0),!g.global)break;A=g.exec(c.value)}return C?(x<c.value.length&&I.push({type:"text",value:c.value.slice(x)}),p.children.splice(S,1,...I)):I=[c],S+I.length}}function Zoe(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!e[0]||Array.isArray(e[0])?e:[e];let r=-1;for(;++r<n.length;){const i=n[r];t.push([eae(i[0]),tae(i[1])])}return t}function eae(e){return typeof e=="string"?new RegExp(Hoe(e),"g"):e}function tae(e){return typeof e=="function"?e:function(){return e}}const xx="phrasing",wx=["autolink","link","image","label"];function nae(){return{transforms:[cae],enter:{literalAutolink:iae,literalAutolinkEmail:_x,literalAutolinkHttp:_x,literalAutolinkWww:_x},exit:{literalAutolink:lae,literalAutolinkEmail:aae,literalAutolinkHttp:sae,literalAutolinkWww:oae}}}function rae(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:xx,notInConstruct:wx},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:xx,notInConstruct:wx},{character:":",before:"[ps]",after:"\\/",inConstruct:xx,notInConstruct:wx}]}}function iae(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function _x(e){this.config.enter.autolinkProtocol.call(this,e)}function sae(e){this.config.exit.autolinkProtocol.call(this,e)}function oae(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function aae(e){this.config.exit.autolinkEmail.call(this,e)}function lae(e){this.exit(e)}function cae(e){Xoe(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,uae],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),dae]],{ignore:["link","linkReference"]})}function uae(e,t,n,r,i){let s="";if(!WR(i)||(/^w/i.test(t)&&(n=t+n,t="",s="http://"),!fae(n)))return!1;const o=hae(n+r);if(!o[0])return!1;const a={type:"link",title:null,url:s+t+o[0],children:[{type:"text",value:t+o[0]}]};return o[1]?[a,{type:"text",value:o[1]}]:a}function dae(e,t,n,r){return!WR(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function fae(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function hae(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],r=n.indexOf(")");const i=H6(e,"(");let s=H6(e,")");for(;r!==-1&&i>s;)e+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),s++;return[e,n]}function WR(e,t){const n=e.input.charCodeAt(e.index-1);return(e.index===0||cu(n)||L1(n))&&(!t||n!==47)}function uo(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}VR.peek=_ae;function pae(){this.buffer()}function mae(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function gae(){this.buffer()}function yae(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function vae(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=uo(this.sliceSerialize(e)).toLowerCase(),n.label=t}function bae(e){this.exit(e)}function xae(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=uo(this.sliceSerialize(e)).toLowerCase(),n.label=t}function wae(e){this.exit(e)}function _ae(){return"["}function VR(e,t,n,r){const i=n.createTracker(r);let s=i.move("[^");const o=n.enter("footnoteReference"),a=n.enter("reference");return s+=i.move(n.safe(n.associationId(e),{after:"]",before:s})),a(),o(),s+=i.move("]"),s}function Sae(){return{enter:{gfmFootnoteCallString:pae,gfmFootnoteCall:mae,gfmFootnoteDefinitionLabelString:gae,gfmFootnoteDefinition:yae},exit:{gfmFootnoteCallString:vae,gfmFootnoteCall:bae,gfmFootnoteDefinitionLabelString:xae,gfmFootnoteDefinition:wae}}}function Eae(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:n,footnoteReference:VR},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,i,s,o){const a=s.createTracker(o);let l=a.move("[^");const c=s.enter("footnoteDefinition"),f=s.enter("label");return l+=a.move(s.safe(s.associationId(r),{before:l,after:"]"})),f(),l+=a.move("]:"),r.children&&r.children.length>0&&(a.shift(4),l+=a.move((t?`
`:" ")+s.indentLines(s.containerFlow(r,a.current()),t?qR:Cae))),c(),l}}function Cae(e,t,n){return t===0?e:qR(e,t,n)}function qR(e,t,n){return(n?"":"    ")+e}const kae=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];QR.peek=Nae;function Tae(){return{canContainEols:["delete"],enter:{strikethrough:Iae},exit:{strikethrough:Rae}}}function jae(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:kae}],handlers:{delete:QR}}}function Iae(e){this.enter({type:"delete",children:[]},e)}function Rae(e){this.exit(e)}function QR(e,t,n,r){const i=n.createTracker(r),s=n.enter("strikethrough");let o=i.move("~~");return o+=n.containerPhrasing(e,{...i.current(),before:o,after:"~"}),o+=i.move("~~"),s(),o}function Nae(){return"~"}function Oae(e){return e.length}function Pae(e,t){const n=t||{},r=(n.align||[]).concat(),i=n.stringLength||Oae,s=[],o=[],a=[],l=[];let c=0,f=-1;for(;++f<e.length;){const _=[],S=[];let C=-1;for(e[f].length>c&&(c=e[f].length);++C<e[f].length;){const I=Aae(e[f][C]);if(n.alignDelimiters!==!1){const A=i(I);S[C]=A,(l[C]===void 0||A>l[C])&&(l[C]=A)}_.push(I)}o[f]=_,a[f]=S}let p=-1;if(typeof r=="object"&&"length"in r)for(;++p<c;)s[p]=W6(r[p]);else{const _=W6(r);for(;++p<c;)s[p]=_}p=-1;const g=[],y=[];for(;++p<c;){const _=s[p];let S="",C="";_===99?(S=":",C=":"):_===108?S=":":_===114&&(C=":");let I=n.alignDelimiters===!1?1:Math.max(1,l[p]-S.length-C.length);const A=S+"-".repeat(I)+C;n.alignDelimiters!==!1&&(I=S.length+I+C.length,I>l[p]&&(l[p]=I),y[p]=I),g[p]=A}o.splice(1,0,g),a.splice(1,0,y),f=-1;const x=[];for(;++f<o.length;){const _=o[f],S=a[f];p=-1;const C=[];for(;++p<c;){const I=_[p]||"";let A="",z="";if(n.alignDelimiters!==!1){const U=l[p]-(S[p]||0),O=s[p];O===114?A=" ".repeat(U):O===99?U%2?(A=" ".repeat(U/2+.5),z=" ".repeat(U/2-.5)):(A=" ".repeat(U/2),z=A):z=" ".repeat(U)}n.delimiterStart!==!1&&!p&&C.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&I==="")&&(n.delimiterStart!==!1||p)&&C.push(" "),n.alignDelimiters!==!1&&C.push(A),C.push(I),n.alignDelimiters!==!1&&C.push(z),n.padding!==!1&&C.push(" "),(n.delimiterEnd!==!1||p!==c-1)&&C.push("|")}x.push(n.delimiterEnd===!1?C.join("").replace(/ +$/,""):C.join(""))}return x.join(`
`)}function Aae(e){return e==null?"":String(e)}function W6(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}function Mae(e,t,n,r){const i=n.enter("blockquote"),s=n.createTracker(r);s.move("> "),s.shift(2);const o=n.indentLines(n.containerFlow(e,s.current()),Dae);return i(),o}function Dae(e,t,n){return">"+(n?"":" ")+e}function Lae(e,t){return V6(e,t.inConstruct,!0)&&!V6(e,t.notInConstruct,!1)}function V6(e,t,n){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return n;let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function q6(e,t,n,r){let i=-1;for(;++i<n.unsafe.length;)if(n.unsafe[i].character===`
`&&Lae(n.stack,n.unsafe[i]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function Fae(e,t){const n=String(e);let r=n.indexOf(t),i=r,s=0,o=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===i?++s>o&&(o=s):s=1,i=r+t.length,r=n.indexOf(t,i);return o}function Bae(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function $ae(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function zae(e,t,n,r){const i=$ae(n),s=e.value||"",o=i==="`"?"GraveAccent":"Tilde";if(Bae(e,n)){const p=n.enter("codeIndented"),g=n.indentLines(s,Uae);return p(),g}const a=n.createTracker(r),l=i.repeat(Math.max(Fae(s,i)+1,3)),c=n.enter("codeFenced");let f=a.move(l);if(e.lang){const p=n.enter(`codeFencedLang${o}`);f+=a.move(n.safe(e.lang,{before:f,after:" ",encode:["`"],...a.current()})),p()}if(e.lang&&e.meta){const p=n.enter(`codeFencedMeta${o}`);f+=a.move(" "),f+=a.move(n.safe(e.meta,{before:f,after:`
`,encode:["`"],...a.current()})),p()}return f+=a.move(`
`),s&&(f+=a.move(s+`
`)),f+=a.move(l),c(),f}function Uae(e,t,n){return(n?"":"    ")+e}function NS(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function Hae(e,t,n,r){const i=NS(n),s=i==='"'?"Quote":"Apostrophe",o=n.enter("definition");let a=n.enter("label");const l=n.createTracker(r);let c=l.move("[");return c+=l.move(n.safe(n.associationId(e),{before:c,after:"]",...l.current()})),c+=l.move("]: "),a(),!e.url||/[\0- \u007F]/.test(e.url)?(a=n.enter("destinationLiteral"),c+=l.move("<"),c+=l.move(n.safe(e.url,{before:c,after:">",...l.current()})),c+=l.move(">")):(a=n.enter("destinationRaw"),c+=l.move(n.safe(e.url,{before:c,after:e.title?" ":`
`,...l.current()}))),a(),e.title&&(a=n.enter(`title${s}`),c+=l.move(" "+i),c+=l.move(n.safe(e.title,{before:c,after:i,...l.current()})),c+=l.move(i),a()),o(),c}function Wae(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function kp(e){return"&#x"+e.toString(16).toUpperCase()+";"}function af(e){if(e===null||Cn(e)||cu(e))return 1;if(L1(e))return 2}function ky(e,t,n){const r=af(e),i=af(t);return r===void 0?i===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}KR.peek=Vae;function KR(e,t,n,r){const i=Wae(n),s=n.enter("emphasis"),o=n.createTracker(r),a=o.move(i);let l=o.move(n.containerPhrasing(e,{after:i,before:a,...o.current()}));const c=l.charCodeAt(0),f=ky(r.before.charCodeAt(r.before.length-1),c,i);f.inside&&(l=kp(c)+l.slice(1));const p=l.charCodeAt(l.length-1),g=ky(r.after.charCodeAt(0),p,i);g.inside&&(l=l.slice(0,-1)+kp(p));const y=o.move(i);return s(),n.attentionEncodeSurroundingInfo={after:g.outside,before:f.outside},a+l+y}function Vae(e,t,n){return n.options.emphasis||"*"}function OS(e,t,n,r){let i,s,o;typeof t=="function"&&typeof n!="function"?(s=void 0,o=t,i=n):(s=t,o=n,i=r),HR(e,s,a,i);function a(l,c){const f=c[c.length-1],p=f?f.children.indexOf(l):void 0;return o(l,p,f)}}const qae={};function PS(e,t){const n=qae,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return GR(e,r,i)}function GR(e,t,n){if(Qae(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return Q6(e.children,t,n)}return Array.isArray(e)?Q6(e,t,n):""}function Q6(e,t,n){const r=[];let i=-1;for(;++i<e.length;)r[i]=GR(e[i],t,n);return r.join("")}function Qae(e){return!!(e&&typeof e=="object")}function Kae(e,t){let n=!1;return OS(e,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,b_}),!!((!e.depth||e.depth<3)&&PS(e)&&(t.options.setext||n))}function Gae(e,t,n,r){const i=Math.max(Math.min(6,e.depth||1),1),s=n.createTracker(r);if(Kae(e,n)){const f=n.enter("headingSetext"),p=n.enter("phrasing"),g=n.containerPhrasing(e,{...s.current(),before:`
`,after:`
`});return p(),f(),g+`
`+(i===1?"=":"-").repeat(g.length-(Math.max(g.lastIndexOf("\r"),g.lastIndexOf(`
`))+1))}const o="#".repeat(i),a=n.enter("headingAtx"),l=n.enter("phrasing");s.move(o+" ");let c=n.containerPhrasing(e,{before:"# ",after:`
`,...s.current()});return/^[\t ]/.test(c)&&(c=kp(c.charCodeAt(0))+c.slice(1)),c=c?o+" "+c:o,n.options.closeAtx&&(c+=" "+o),l(),a(),c}YR.peek=Yae;function YR(e){return e.value||""}function Yae(){return"<"}JR.peek=Jae;function JR(e,t,n,r){const i=NS(n),s=i==='"'?"Quote":"Apostrophe",o=n.enter("image");let a=n.enter("label");const l=n.createTracker(r);let c=l.move("![");return c+=l.move(n.safe(e.alt,{before:c,after:"]",...l.current()})),c+=l.move("]("),a(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(a=n.enter("destinationLiteral"),c+=l.move("<"),c+=l.move(n.safe(e.url,{before:c,after:">",...l.current()})),c+=l.move(">")):(a=n.enter("destinationRaw"),c+=l.move(n.safe(e.url,{before:c,after:e.title?" ":")",...l.current()}))),a(),e.title&&(a=n.enter(`title${s}`),c+=l.move(" "+i),c+=l.move(n.safe(e.title,{before:c,after:i,...l.current()})),c+=l.move(i),a()),c+=l.move(")"),o(),c}function Jae(){return"!"}XR.peek=Xae;function XR(e,t,n,r){const i=e.referenceType,s=n.enter("imageReference");let o=n.enter("label");const a=n.createTracker(r);let l=a.move("![");const c=n.safe(e.alt,{before:l,after:"]",...a.current()});l+=a.move(c+"]["),o();const f=n.stack;n.stack=[],o=n.enter("reference");const p=n.safe(n.associationId(e),{before:l,after:"]",...a.current()});return o(),n.stack=f,s(),i==="full"||!c||c!==p?l+=a.move(p+"]"):i==="shortcut"?l=l.slice(0,-1):l+=a.move("]"),l}function Xae(){return"!"}ZR.peek=Zae;function ZR(e,t,n){let r=e.value||"",i="`",s=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++s<n.unsafe.length;){const o=n.unsafe[s],a=n.compilePattern(o);let l;if(o.atBreak)for(;l=a.exec(r);){let c=l.index;r.charCodeAt(c)===10&&r.charCodeAt(c-1)===13&&c--,r=r.slice(0,c)+" "+r.slice(l.index+1)}}return i+r+i}function Zae(){return"`"}function eN(e,t){const n=PS(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}tN.peek=ele;function tN(e,t,n,r){const i=NS(n),s=i==='"'?"Quote":"Apostrophe",o=n.createTracker(r);let a,l;if(eN(e,n)){const f=n.stack;n.stack=[],a=n.enter("autolink");let p=o.move("<");return p+=o.move(n.containerPhrasing(e,{before:p,after:">",...o.current()})),p+=o.move(">"),a(),n.stack=f,p}a=n.enter("link"),l=n.enter("label");let c=o.move("[");return c+=o.move(n.containerPhrasing(e,{before:c,after:"](",...o.current()})),c+=o.move("]("),l(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(l=n.enter("destinationLiteral"),c+=o.move("<"),c+=o.move(n.safe(e.url,{before:c,after:">",...o.current()})),c+=o.move(">")):(l=n.enter("destinationRaw"),c+=o.move(n.safe(e.url,{before:c,after:e.title?" ":")",...o.current()}))),l(),e.title&&(l=n.enter(`title${s}`),c+=o.move(" "+i),c+=o.move(n.safe(e.title,{before:c,after:i,...o.current()})),c+=o.move(i),l()),c+=o.move(")"),a(),c}function ele(e,t,n){return eN(e,n)?"<":"["}nN.peek=tle;function nN(e,t,n,r){const i=e.referenceType,s=n.enter("linkReference");let o=n.enter("label");const a=n.createTracker(r);let l=a.move("[");const c=n.containerPhrasing(e,{before:l,after:"]",...a.current()});l+=a.move(c+"]["),o();const f=n.stack;n.stack=[],o=n.enter("reference");const p=n.safe(n.associationId(e),{before:l,after:"]",...a.current()});return o(),n.stack=f,s(),i==="full"||!c||c!==p?l+=a.move(p+"]"):i==="shortcut"?l=l.slice(0,-1):l+=a.move("]"),l}function tle(){return"["}function AS(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function nle(e){const t=AS(e),n=e.options.bulletOther;if(!n)return t==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}function rle(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function rN(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function ile(e,t,n,r){const i=n.enter("list"),s=n.bulletCurrent;let o=e.ordered?rle(n):AS(n);const a=e.ordered?o==="."?")":".":nle(n);let l=t&&n.bulletLastUsed?o===n.bulletLastUsed:!1;if(!e.ordered){const f=e.children?e.children[0]:void 0;if((o==="*"||o==="-")&&f&&(!f.children||!f.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(l=!0),rN(n)===o&&f){let p=-1;for(;++p<e.children.length;){const g=e.children[p];if(g&&g.type==="listItem"&&g.children&&g.children[0]&&g.children[0].type==="thematicBreak"){l=!0;break}}}}l&&(o=a),n.bulletCurrent=o;const c=n.containerFlow(e,r);return n.bulletLastUsed=o,n.bulletCurrent=s,i(),c}function sle(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function ole(e,t,n,r){const i=sle(n);let s=n.bulletCurrent||AS(n);t&&t.type==="list"&&t.ordered&&(s=(typeof t.start=="number"&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+s);let o=s.length+1;(i==="tab"||i==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(o=Math.ceil(o/4)*4);const a=n.createTracker(r);a.move(s+" ".repeat(o-s.length)),a.shift(o);const l=n.enter("listItem"),c=n.indentLines(n.containerFlow(e,a.current()),f);return l(),c;function f(p,g,y){return g?(y?"":" ".repeat(o))+p:(y?s:s+" ".repeat(o-s.length))+p}}function ale(e,t,n,r){const i=n.enter("paragraph"),s=n.enter("phrasing"),o=n.containerPhrasing(e,r);return s(),i(),o}const lle=F1(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function cle(e,t,n,r){return(e.children.some(function(o){return lle(o)})?n.containerPhrasing:n.containerFlow).call(n,e,r)}function ule(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}iN.peek=dle;function iN(e,t,n,r){const i=ule(n),s=n.enter("strong"),o=n.createTracker(r),a=o.move(i+i);let l=o.move(n.containerPhrasing(e,{after:i,before:a,...o.current()}));const c=l.charCodeAt(0),f=ky(r.before.charCodeAt(r.before.length-1),c,i);f.inside&&(l=kp(c)+l.slice(1));const p=l.charCodeAt(l.length-1),g=ky(r.after.charCodeAt(0),p,i);g.inside&&(l=l.slice(0,-1)+kp(p));const y=o.move(i+i);return s(),n.attentionEncodeSurroundingInfo={after:g.outside,before:f.outside},a+l+y}function dle(e,t,n){return n.options.strong||"*"}function fle(e,t,n,r){return n.safe(e.value,r)}function hle(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function ple(e,t,n){const r=(rN(n)+(n.options.ruleSpaces?" ":"")).repeat(hle(n));return n.options.ruleSpaces?r.slice(0,-1):r}const sN={blockquote:Mae,break:q6,code:zae,definition:Hae,emphasis:KR,hardBreak:q6,heading:Gae,html:YR,image:JR,imageReference:XR,inlineCode:ZR,link:tN,linkReference:nN,list:ile,listItem:ole,paragraph:ale,root:cle,strong:iN,text:fle,thematicBreak:ple},K6=document.createElement("i");function MS(e){const t="&"+e+";";K6.innerHTML=t;const n=K6.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function oN(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}const mle=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function gle(e){return e.replace(mle,yle)}function yle(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),s=i===120||i===88;return oN(n.slice(s?2:1),s?16:10)}return MS(n)||e}function vle(){return{enter:{table:ble,tableData:G6,tableHeader:G6,tableRow:wle},exit:{codeText:_le,table:xle,tableData:Sx,tableHeader:Sx,tableRow:Sx}}}function ble(e){const t=e._align;this.enter({type:"table",align:t.map(function(n){return n==="none"?null:n}),children:[]},e),this.data.inTable=!0}function xle(e){this.exit(e),this.data.inTable=void 0}function wle(e){this.enter({type:"tableRow",children:[]},e)}function Sx(e){this.exit(e)}function G6(e){this.enter({type:"tableCell",children:[]},e)}function _le(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,Sle));const n=this.stack[this.stack.length-1];n.type,n.value=t,this.exit(e)}function Sle(e,t){return t==="|"?t:e}function Ele(e){const t=e||{},n=t.tableCellPadding,r=t.tablePipeAlign,i=t.stringLength,s=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:g,table:o,tableCell:l,tableRow:a}};function o(y,x,_,S){return c(f(y,_,S),y.align)}function a(y,x,_,S){const C=p(y,_,S),I=c([C]);return I.slice(0,I.indexOf(`
`))}function l(y,x,_,S){const C=_.enter("tableCell"),I=_.enter("phrasing"),A=_.containerPhrasing(y,{...S,before:s,after:s});return I(),C(),A}function c(y,x){return Pae(y,{align:x,alignDelimiters:r,padding:n,stringLength:i})}function f(y,x,_){const S=y.children;let C=-1;const I=[],A=x.enter("table");for(;++C<S.length;)I[C]=p(S[C],x,_);return A(),I}function p(y,x,_){const S=y.children;let C=-1;const I=[],A=x.enter("tableRow");for(;++C<S.length;)I[C]=l(S[C],y,x,_);return A(),I}function g(y,x,_){let S=sN.inlineCode(y,x,_);return _.stack.includes("tableCell")&&(S=S.replace(/\|/g,"\\$&")),S}}function Cle(){return{exit:{taskListCheckValueChecked:Y6,taskListCheckValueUnchecked:Y6,paragraph:Tle}}}function kle(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:jle}}}function Y6(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function Tle(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const i=t.children;let s=-1,o;for(;++s<i.length;){const a=i[s];if(a.type==="paragraph"){o=a;break}}o===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(e)}function jle(e,t,n,r){const i=e.children[0],s=typeof e.checked=="boolean"&&i&&i.type==="paragraph",o="["+(e.checked?"x":" ")+"] ",a=n.createTracker(r);s&&a.move(o);let l=sN.listItem(e,t,n,{...r,...a.current()});return s&&(l=l.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,c)),l;function c(f){return f+o}}function Ile(){return[nae(),Sae(),Tae(),vle(),Cle()]}function Rle(e){return{extensions:[rae(),Eae(e),jae(),Ele(e),kle()]}}function us(e,t,n,r){const i=e.length;let s=0,o;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(t,n),e.splice(...o);else for(n&&e.splice(t,n);s<r.length;)o=r.slice(s,s+1e4),o.unshift(t,0),e.splice(...o),s+=1e4,t+=1e4}function Rs(e,t){return e.length>0?(us(e,e.length,0,t),e):t}const J6={}.hasOwnProperty;function aN(e){const t={};let n=-1;for(;++n<e.length;)Nle(t,e[n]);return t}function Nle(e,t){let n;for(n in t){const i=(J6.call(e,n)?e[n]:void 0)||(e[n]={}),s=t[n];let o;if(s)for(o in s){J6.call(i,o)||(i[o]=[]);const a=s[o];Ole(i[o],Array.isArray(a)?a:a?[a]:[])}}}function Ole(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);us(e,0,0,r)}const Ple={tokenize:Ble,partial:!0},lN={tokenize:$le,partial:!0},cN={tokenize:zle,partial:!0},uN={tokenize:Ule,partial:!0},Ale={tokenize:Hle,partial:!0},dN={name:"wwwAutolink",tokenize:Lle,previous:hN},fN={name:"protocolAutolink",tokenize:Fle,previous:pN},Ma={name:"emailAutolink",tokenize:Dle,previous:mN},Uo={};function Mle(){return{text:Uo}}let Nc=48;for(;Nc<123;)Uo[Nc]=Ma,Nc++,Nc===58?Nc=65:Nc===91&&(Nc=97);Uo[43]=Ma;Uo[45]=Ma;Uo[46]=Ma;Uo[95]=Ma;Uo[72]=[Ma,fN];Uo[104]=[Ma,fN];Uo[87]=[Ma,dN];Uo[119]=[Ma,dN];function Dle(e,t,n){const r=this;let i,s;return o;function o(p){return!x_(p)||!mN.call(r,r.previous)||DS(r.events)?n(p):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),a(p))}function a(p){return x_(p)?(e.consume(p),a):p===64?(e.consume(p),l):n(p)}function l(p){return p===46?e.check(Ale,f,c)(p):p===45||p===95||fi(p)?(s=!0,e.consume(p),l):f(p)}function c(p){return e.consume(p),i=!0,l}function f(p){return s&&i&&Ti(r.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(p)):n(p)}}function Lle(e,t,n){const r=this;return i;function i(o){return o!==87&&o!==119||!hN.call(r,r.previous)||DS(r.events)?n(o):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(Ple,e.attempt(lN,e.attempt(cN,s),n),n)(o))}function s(o){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(o)}}function Fle(e,t,n){const r=this;let i="",s=!1;return o;function o(p){return(p===72||p===104)&&pN.call(r,r.previous)&&!DS(r.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),i+=String.fromCodePoint(p),e.consume(p),a):n(p)}function a(p){if(Ti(p)&&i.length<5)return i+=String.fromCodePoint(p),e.consume(p),a;if(p===58){const g=i.toLowerCase();if(g==="http"||g==="https")return e.consume(p),l}return n(p)}function l(p){return p===47?(e.consume(p),s?c:(s=!0,l)):n(p)}function c(p){return p===null||Cy(p)||Cn(p)||cu(p)||L1(p)?n(p):e.attempt(lN,e.attempt(cN,f),n)(p)}function f(p){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(p)}}function Ble(e,t,n){let r=0;return i;function i(o){return(o===87||o===119)&&r<3?(r++,e.consume(o),i):o===46&&r===3?(e.consume(o),s):n(o)}function s(o){return o===null?n(o):t(o)}}function $le(e,t,n){let r,i,s;return o;function o(c){return c===46||c===95?e.check(uN,l,a)(c):c===null||Cn(c)||cu(c)||c!==45&&L1(c)?l(c):(s=!0,e.consume(c),o)}function a(c){return c===95?r=!0:(i=r,r=void 0),e.consume(c),o}function l(c){return i||r||!s?n(c):t(c)}}function zle(e,t){let n=0,r=0;return i;function i(o){return o===40?(n++,e.consume(o),i):o===41&&r<n?s(o):o===33||o===34||o===38||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===60||o===63||o===93||o===95||o===126?e.check(uN,t,s)(o):o===null||Cn(o)||cu(o)?t(o):(e.consume(o),i)}function s(o){return o===41&&r++,e.consume(o),i}}function Ule(e,t,n){return r;function r(a){return a===33||a===34||a===39||a===41||a===42||a===44||a===46||a===58||a===59||a===63||a===95||a===126?(e.consume(a),r):a===38?(e.consume(a),s):a===93?(e.consume(a),i):a===60||a===null||Cn(a)||cu(a)?t(a):n(a)}function i(a){return a===null||a===40||a===91||Cn(a)||cu(a)?t(a):r(a)}function s(a){return Ti(a)?o(a):n(a)}function o(a){return a===59?(e.consume(a),r):Ti(a)?(e.consume(a),o):n(a)}}function Hle(e,t,n){return r;function r(s){return e.consume(s),i}function i(s){return fi(s)?n(s):t(s)}}function hN(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||Cn(e)}function pN(e){return!Ti(e)}function mN(e){return!(e===47||x_(e))}function x_(e){return e===43||e===45||e===46||e===95||fi(e)}function DS(e){let t=e.length,n=!1;for(;t--;){const r=e[t][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}function wf(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const s=e.charCodeAt(n);let o="";if(s===37&&fi(e.charCodeAt(n+1))&&fi(e.charCodeAt(n+2)))i=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(o=String.fromCharCode(s));else if(s>55295&&s<57344){const a=e.charCodeAt(n+1);s<56320&&a>56319&&a<57344?(o=String.fromCharCode(s,a),i=1):o=""}else o=String.fromCharCode(s);o&&(t.push(e.slice(r,n),encodeURIComponent(o)),r=n+i+1,o=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function $1(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const s=e[i].resolveAll;s&&!r.includes(s)&&(t=s(t,n),r.push(s))}return t}const w_={name:"attention",resolveAll:Wle,tokenize:Vle};function Wle(e,t){let n=-1,r,i,s,o,a,l,c,f;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;l=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const p={...e[r][1].end},g={...e[n][1].start};X6(p,-l),X6(g,l),o={type:l>1?"strongSequence":"emphasisSequence",start:p,end:{...e[r][1].end}},a={type:l>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:g},s={type:l>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},i={type:l>1?"strong":"emphasis",start:{...o.start},end:{...a.end}},e[r][1].end={...o.start},e[n][1].start={...a.end},c=[],e[r][1].end.offset-e[r][1].start.offset&&(c=Rs(c,[["enter",e[r][1],t],["exit",e[r][1],t]])),c=Rs(c,[["enter",i,t],["enter",o,t],["exit",o,t],["enter",s,t]]),c=Rs(c,$1(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),c=Rs(c,[["exit",s,t],["enter",a,t],["exit",a,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(f=2,c=Rs(c,[["enter",e[n][1],t],["exit",e[n][1],t]])):f=0,us(e,r-1,n-r+3,c),n=r+c.length-f-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function Vle(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=af(r);let s;return o;function o(l){return s=l,e.enter("attentionSequence"),a(l)}function a(l){if(l===s)return e.consume(l),a;const c=e.exit("attentionSequence"),f=af(l),p=!f||f===2&&i||n.includes(l),g=!i||i===2&&f||n.includes(r);return c._open=!!(s===42?p:p&&(i||!g)),c._close=!!(s===42?g:g&&(f||!p)),t(l)}}function X6(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const qle={name:"autolink",tokenize:Qle};function Qle(e,t,n){let r=0;return i;function i(y){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(y),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),s}function s(y){return Ti(y)?(e.consume(y),o):y===64?n(y):c(y)}function o(y){return y===43||y===45||y===46||fi(y)?(r=1,a(y)):c(y)}function a(y){return y===58?(e.consume(y),r=0,l):(y===43||y===45||y===46||fi(y))&&r++<32?(e.consume(y),a):(r=0,c(y))}function l(y){return y===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(y),e.exit("autolinkMarker"),e.exit("autolink"),t):y===null||y===32||y===60||Cy(y)?n(y):(e.consume(y),l)}function c(y){return y===64?(e.consume(y),f):$oe(y)?(e.consume(y),c):n(y)}function f(y){return fi(y)?p(y):n(y)}function p(y){return y===46?(e.consume(y),r=0,f):y===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(y),e.exit("autolinkMarker"),e.exit("autolink"),t):g(y)}function g(y){if((y===45||fi(y))&&r++<63){const x=y===45?g:p;return e.consume(y),x}return n(y)}}function cn(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let s=0;return o;function o(l){return Xt(l)?(e.enter(n),a(l)):t(l)}function a(l){return Xt(l)&&s++<i?(e.consume(l),a):(e.exit(n),t(l))}}const rm={partial:!0,tokenize:Kle};function Kle(e,t,n){return r;function r(s){return Xt(s)?cn(e,i,"linePrefix")(s):i(s)}function i(s){return s===null||bt(s)?t(s):n(s)}}const gN={continuation:{tokenize:Yle},exit:Jle,name:"blockQuote",tokenize:Gle};function Gle(e,t,n){const r=this;return i;function i(o){if(o===62){const a=r.containerState;return a.open||(e.enter("blockQuote",{_container:!0}),a.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(o),e.exit("blockQuoteMarker"),s}return n(o)}function s(o){return Xt(o)?(e.enter("blockQuotePrefixWhitespace"),e.consume(o),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(o))}}function Yle(e,t,n){const r=this;return i;function i(o){return Xt(o)?cn(e,s,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):s(o)}function s(o){return e.attempt(gN,t,n)(o)}}function Jle(e){e.exit("blockQuote")}const yN={name:"characterEscape",tokenize:Xle};function Xle(e,t,n){return r;function r(s){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(s),e.exit("escapeMarker"),i}function i(s){return Uoe(s)?(e.enter("characterEscapeValue"),e.consume(s),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(s)}}const vN={name:"characterReference",tokenize:Zle};function Zle(e,t,n){const r=this;let i=0,s,o;return a;function a(p){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(p),e.exit("characterReferenceMarker"),l}function l(p){return p===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(p),e.exit("characterReferenceMarkerNumeric"),c):(e.enter("characterReferenceValue"),s=31,o=fi,f(p))}function c(p){return p===88||p===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(p),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),s=6,o=zoe,f):(e.enter("characterReferenceValue"),s=7,o=v_,f(p))}function f(p){if(p===59&&i){const g=e.exit("characterReferenceValue");return o===fi&&!MS(r.sliceSerialize(g))?n(p):(e.enter("characterReferenceMarker"),e.consume(p),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return o(p)&&i++<s?(e.consume(p),f):n(p)}}const Z6={partial:!0,tokenize:tce},eT={concrete:!0,name:"codeFenced",tokenize:ece};function ece(e,t,n){const r=this,i={partial:!0,tokenize:U};let s=0,o=0,a;return l;function l(O){return c(O)}function c(O){const N=r.events[r.events.length-1];return s=N&&N[1].type==="linePrefix"?N[2].sliceSerialize(N[1],!0).length:0,a=O,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),f(O)}function f(O){return O===a?(o++,e.consume(O),f):o<3?n(O):(e.exit("codeFencedFenceSequence"),Xt(O)?cn(e,p,"whitespace")(O):p(O))}function p(O){return O===null||bt(O)?(e.exit("codeFencedFence"),r.interrupt?t(O):e.check(Z6,_,z)(O)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),g(O))}function g(O){return O===null||bt(O)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),p(O)):Xt(O)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),cn(e,y,"whitespace")(O)):O===96&&O===a?n(O):(e.consume(O),g)}function y(O){return O===null||bt(O)?p(O):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),x(O))}function x(O){return O===null||bt(O)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),p(O)):O===96&&O===a?n(O):(e.consume(O),x)}function _(O){return e.attempt(i,z,S)(O)}function S(O){return e.enter("lineEnding"),e.consume(O),e.exit("lineEnding"),C}function C(O){return s>0&&Xt(O)?cn(e,I,"linePrefix",s+1)(O):I(O)}function I(O){return O===null||bt(O)?e.check(Z6,_,z)(O):(e.enter("codeFlowValue"),A(O))}function A(O){return O===null||bt(O)?(e.exit("codeFlowValue"),I(O)):(e.consume(O),A)}function z(O){return e.exit("codeFenced"),t(O)}function U(O,N,F){let $=0;return L;function L(W){return O.enter("lineEnding"),O.consume(W),O.exit("lineEnding"),Z}function Z(W){return O.enter("codeFencedFence"),Xt(W)?cn(O,Y,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(W):Y(W)}function Y(W){return W===a?(O.enter("codeFencedFenceSequence"),he(W)):F(W)}function he(W){return W===a?($++,O.consume(W),he):$>=o?(O.exit("codeFencedFenceSequence"),Xt(W)?cn(O,G,"whitespace")(W):G(W)):F(W)}function G(W){return W===null||bt(W)?(O.exit("codeFencedFence"),N(W)):F(W)}}}function tce(e,t,n){const r=this;return i;function i(o){return o===null?n(o):(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),s)}function s(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}const Ex={name:"codeIndented",tokenize:rce},nce={partial:!0,tokenize:ice};function rce(e,t,n){const r=this;return i;function i(c){return e.enter("codeIndented"),cn(e,s,"linePrefix",5)(c)}function s(c){const f=r.events[r.events.length-1];return f&&f[1].type==="linePrefix"&&f[2].sliceSerialize(f[1],!0).length>=4?o(c):n(c)}function o(c){return c===null?l(c):bt(c)?e.attempt(nce,o,l)(c):(e.enter("codeFlowValue"),a(c))}function a(c){return c===null||bt(c)?(e.exit("codeFlowValue"),o(c)):(e.consume(c),a)}function l(c){return e.exit("codeIndented"),t(c)}}function ice(e,t,n){const r=this;return i;function i(o){return r.parser.lazy[r.now().line]?n(o):bt(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),i):cn(e,s,"linePrefix",5)(o)}function s(o){const a=r.events[r.events.length-1];return a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?t(o):bt(o)?i(o):n(o)}}const sce={name:"codeText",previous:ace,resolve:oce,tokenize:lce};function oce(e){let t=e.length-4,n=3,r,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(i=r):(r===t||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function ace(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function lce(e,t,n){let r=0,i,s;return o;function o(p){return e.enter("codeText"),e.enter("codeTextSequence"),a(p)}function a(p){return p===96?(e.consume(p),r++,a):(e.exit("codeTextSequence"),l(p))}function l(p){return p===null?n(p):p===32?(e.enter("space"),e.consume(p),e.exit("space"),l):p===96?(s=e.enter("codeTextSequence"),i=0,f(p)):bt(p)?(e.enter("lineEnding"),e.consume(p),e.exit("lineEnding"),l):(e.enter("codeTextData"),c(p))}function c(p){return p===null||p===32||p===96||bt(p)?(e.exit("codeTextData"),l(p)):(e.consume(p),c)}function f(p){return p===96?(e.consume(p),i++,f):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(p)):(s.type="codeTextData",c(p))}}class cce{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const i=n||0;this.setCursor(Math.trunc(t));const s=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&xh(this.left,r),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),xh(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),xh(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);xh(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);xh(this.left,n.reverse())}}}function xh(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function bN(e){const t={};let n=-1,r,i,s,o,a,l,c;const f=new cce(e);for(;++n<f.length;){for(;n in t;)n=t[n];if(r=f.get(n),n&&r[1].type==="chunkFlow"&&f.get(n-1)[1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,s=0,s<l.length&&l[s][1].type==="lineEndingBlank"&&(s+=2),s<l.length&&l[s][1].type==="content"))for(;++s<l.length&&l[s][1].type!=="content";)l[s][1].type==="chunkText"&&(l[s][1]._isInFirstContentOfListItem=!0,s++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,uce(f,n)),n=t[n],c=!0);else if(r[1]._container){for(s=n,i=void 0;s--;)if(o=f.get(s),o[1].type==="lineEnding"||o[1].type==="lineEndingBlank")o[0]==="enter"&&(i&&(f.get(i)[1].type="lineEndingBlank"),o[1].type="lineEnding",i=s);else if(!(o[1].type==="linePrefix"||o[1].type==="listItemIndent"))break;i&&(r[1].end={...f.get(i)[1].start},a=f.slice(i,n),a.unshift(r),f.splice(i,n-i+1,a))}}return us(e,0,Number.POSITIVE_INFINITY,f.slice(0)),!c}function uce(e,t){const n=e.get(t)[1],r=e.get(t)[2];let i=t-1;const s=[];let o=n._tokenizer;o||(o=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(o._contentTypeTextTrailing=!0));const a=o.events,l=[],c={};let f,p,g=-1,y=n,x=0,_=0;const S=[_];for(;y;){for(;e.get(++i)[1]!==y;);s.push(i),y._tokenizer||(f=r.sliceStream(y),y.next||f.push(null),p&&o.defineSkip(y.start),y._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(f),y._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),p=y,y=y.next}for(y=n;++g<a.length;)a[g][0]==="exit"&&a[g-1][0]==="enter"&&a[g][1].type===a[g-1][1].type&&a[g][1].start.line!==a[g][1].end.line&&(_=g+1,S.push(_),y._tokenizer=void 0,y.previous=void 0,y=y.next);for(o.events=[],y?(y._tokenizer=void 0,y.previous=void 0):S.pop(),g=S.length;g--;){const C=a.slice(S[g],S[g+1]),I=s.pop();l.push([I,I+C.length-1]),e.splice(I,2,C)}for(l.reverse(),g=-1;++g<l.length;)c[x+l[g][0]]=x+l[g][1],x+=l[g][1]-l[g][0]-1;return c}const dce={resolve:hce,tokenize:pce},fce={partial:!0,tokenize:mce};function hce(e){return bN(e),e}function pce(e,t){let n;return r;function r(a){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(a)}function i(a){return a===null?s(a):bt(a)?e.check(fce,o,s)(a):(e.consume(a),i)}function s(a){return e.exit("chunkContent"),e.exit("content"),t(a)}function o(a){return e.consume(a),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function mce(e,t,n){const r=this;return i;function i(o){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),cn(e,s,"linePrefix")}function s(o){if(o===null||bt(o))return n(o);const a=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?t(o):e.interrupt(r.parser.constructs.flow,n,t)(o)}}function xN(e,t,n,r,i,s,o,a,l){const c=l||Number.POSITIVE_INFINITY;let f=0;return p;function p(C){return C===60?(e.enter(r),e.enter(i),e.enter(s),e.consume(C),e.exit(s),g):C===null||C===32||C===41||Cy(C)?n(C):(e.enter(r),e.enter(o),e.enter(a),e.enter("chunkString",{contentType:"string"}),_(C))}function g(C){return C===62?(e.enter(s),e.consume(C),e.exit(s),e.exit(i),e.exit(r),t):(e.enter(a),e.enter("chunkString",{contentType:"string"}),y(C))}function y(C){return C===62?(e.exit("chunkString"),e.exit(a),g(C)):C===null||C===60||bt(C)?n(C):(e.consume(C),C===92?x:y)}function x(C){return C===60||C===62||C===92?(e.consume(C),y):y(C)}function _(C){return!f&&(C===null||C===41||Cn(C))?(e.exit("chunkString"),e.exit(a),e.exit(o),e.exit(r),t(C)):f<c&&C===40?(e.consume(C),f++,_):C===41?(e.consume(C),f--,_):C===null||C===32||C===40||Cy(C)?n(C):(e.consume(C),C===92?S:_)}function S(C){return C===40||C===41||C===92?(e.consume(C),_):_(C)}}function wN(e,t,n,r,i,s){const o=this;let a=0,l;return c;function c(y){return e.enter(r),e.enter(i),e.consume(y),e.exit(i),e.enter(s),f}function f(y){return a>999||y===null||y===91||y===93&&!l||y===94&&!a&&"_hiddenFootnoteSupport"in o.parser.constructs?n(y):y===93?(e.exit(s),e.enter(i),e.consume(y),e.exit(i),e.exit(r),t):bt(y)?(e.enter("lineEnding"),e.consume(y),e.exit("lineEnding"),f):(e.enter("chunkString",{contentType:"string"}),p(y))}function p(y){return y===null||y===91||y===93||bt(y)||a++>999?(e.exit("chunkString"),f(y)):(e.consume(y),l||(l=!Xt(y)),y===92?g:p)}function g(y){return y===91||y===92||y===93?(e.consume(y),a++,p):p(y)}}function _N(e,t,n,r,i,s){let o;return a;function a(g){return g===34||g===39||g===40?(e.enter(r),e.enter(i),e.consume(g),e.exit(i),o=g===40?41:g,l):n(g)}function l(g){return g===o?(e.enter(i),e.consume(g),e.exit(i),e.exit(r),t):(e.enter(s),c(g))}function c(g){return g===o?(e.exit(s),l(o)):g===null?n(g):bt(g)?(e.enter("lineEnding"),e.consume(g),e.exit("lineEnding"),cn(e,c,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),f(g))}function f(g){return g===o||g===null||bt(g)?(e.exit("chunkString"),c(g)):(e.consume(g),g===92?p:f)}function p(g){return g===o||g===92?(e.consume(g),f):f(g)}}function Gh(e,t){let n;return r;function r(i){return bt(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):Xt(i)?cn(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}const gce={name:"definition",tokenize:vce},yce={partial:!0,tokenize:bce};function vce(e,t,n){const r=this;let i;return s;function s(y){return e.enter("definition"),o(y)}function o(y){return wN.call(r,e,a,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(y)}function a(y){return i=uo(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),y===58?(e.enter("definitionMarker"),e.consume(y),e.exit("definitionMarker"),l):n(y)}function l(y){return Cn(y)?Gh(e,c)(y):c(y)}function c(y){return xN(e,f,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(y)}function f(y){return e.attempt(yce,p,p)(y)}function p(y){return Xt(y)?cn(e,g,"whitespace")(y):g(y)}function g(y){return y===null||bt(y)?(e.exit("definition"),r.parser.defined.push(i),t(y)):n(y)}}function bce(e,t,n){return r;function r(a){return Cn(a)?Gh(e,i)(a):n(a)}function i(a){return _N(e,s,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(a)}function s(a){return Xt(a)?cn(e,o,"whitespace")(a):o(a)}function o(a){return a===null||bt(a)?t(a):n(a)}}const xce={name:"hardBreakEscape",tokenize:wce};function wce(e,t,n){return r;function r(s){return e.enter("hardBreakEscape"),e.consume(s),i}function i(s){return bt(s)?(e.exit("hardBreakEscape"),t(s)):n(s)}}const _ce={name:"headingAtx",resolve:Sce,tokenize:Ece};function Sce(e,t){let n=e.length-2,r=3,i,s;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},s={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},us(e,r,n-r+1,[["enter",i,t],["enter",s,t],["exit",s,t],["exit",i,t]])),e}function Ece(e,t,n){let r=0;return i;function i(f){return e.enter("atxHeading"),s(f)}function s(f){return e.enter("atxHeadingSequence"),o(f)}function o(f){return f===35&&r++<6?(e.consume(f),o):f===null||Cn(f)?(e.exit("atxHeadingSequence"),a(f)):n(f)}function a(f){return f===35?(e.enter("atxHeadingSequence"),l(f)):f===null||bt(f)?(e.exit("atxHeading"),t(f)):Xt(f)?cn(e,a,"whitespace")(f):(e.enter("atxHeadingText"),c(f))}function l(f){return f===35?(e.consume(f),l):(e.exit("atxHeadingSequence"),a(f))}function c(f){return f===null||f===35||Cn(f)?(e.exit("atxHeadingText"),a(f)):(e.consume(f),c)}}const Cce=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],tT=["pre","script","style","textarea"],kce={concrete:!0,name:"htmlFlow",resolveTo:Ice,tokenize:Rce},Tce={partial:!0,tokenize:Oce},jce={partial:!0,tokenize:Nce};function Ice(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function Rce(e,t,n){const r=this;let i,s,o,a,l;return c;function c(V){return f(V)}function f(V){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(V),p}function p(V){return V===33?(e.consume(V),g):V===47?(e.consume(V),s=!0,_):V===63?(e.consume(V),i=3,r.interrupt?t:B):Ti(V)?(e.consume(V),o=String.fromCharCode(V),S):n(V)}function g(V){return V===45?(e.consume(V),i=2,y):V===91?(e.consume(V),i=5,a=0,x):Ti(V)?(e.consume(V),i=4,r.interrupt?t:B):n(V)}function y(V){return V===45?(e.consume(V),r.interrupt?t:B):n(V)}function x(V){const Te="CDATA[";return V===Te.charCodeAt(a++)?(e.consume(V),a===Te.length?r.interrupt?t:Y:x):n(V)}function _(V){return Ti(V)?(e.consume(V),o=String.fromCharCode(V),S):n(V)}function S(V){if(V===null||V===47||V===62||Cn(V)){const Te=V===47,Ce=o.toLowerCase();return!Te&&!s&&tT.includes(Ce)?(i=1,r.interrupt?t(V):Y(V)):Cce.includes(o.toLowerCase())?(i=6,Te?(e.consume(V),C):r.interrupt?t(V):Y(V)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(V):s?I(V):A(V))}return V===45||fi(V)?(e.consume(V),o+=String.fromCharCode(V),S):n(V)}function C(V){return V===62?(e.consume(V),r.interrupt?t:Y):n(V)}function I(V){return Xt(V)?(e.consume(V),I):L(V)}function A(V){return V===47?(e.consume(V),L):V===58||V===95||Ti(V)?(e.consume(V),z):Xt(V)?(e.consume(V),A):L(V)}function z(V){return V===45||V===46||V===58||V===95||fi(V)?(e.consume(V),z):U(V)}function U(V){return V===61?(e.consume(V),O):Xt(V)?(e.consume(V),U):A(V)}function O(V){return V===null||V===60||V===61||V===62||V===96?n(V):V===34||V===39?(e.consume(V),l=V,N):Xt(V)?(e.consume(V),O):F(V)}function N(V){return V===l?(e.consume(V),l=null,$):V===null||bt(V)?n(V):(e.consume(V),N)}function F(V){return V===null||V===34||V===39||V===47||V===60||V===61||V===62||V===96||Cn(V)?U(V):(e.consume(V),F)}function $(V){return V===47||V===62||Xt(V)?A(V):n(V)}function L(V){return V===62?(e.consume(V),Z):n(V)}function Z(V){return V===null||bt(V)?Y(V):Xt(V)?(e.consume(V),Z):n(V)}function Y(V){return V===45&&i===2?(e.consume(V),Q):V===60&&i===1?(e.consume(V),te):V===62&&i===4?(e.consume(V),ee):V===63&&i===3?(e.consume(V),B):V===93&&i===5?(e.consume(V),fe):bt(V)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(Tce,ge,he)(V)):V===null||bt(V)?(e.exit("htmlFlowData"),he(V)):(e.consume(V),Y)}function he(V){return e.check(jce,G,ge)(V)}function G(V){return e.enter("lineEnding"),e.consume(V),e.exit("lineEnding"),W}function W(V){return V===null||bt(V)?he(V):(e.enter("htmlFlowData"),Y(V))}function Q(V){return V===45?(e.consume(V),B):Y(V)}function te(V){return V===47?(e.consume(V),o="",X):Y(V)}function X(V){if(V===62){const Te=o.toLowerCase();return tT.includes(Te)?(e.consume(V),ee):Y(V)}return Ti(V)&&o.length<8?(e.consume(V),o+=String.fromCharCode(V),X):Y(V)}function fe(V){return V===93?(e.consume(V),B):Y(V)}function B(V){return V===62?(e.consume(V),ee):V===45&&i===2?(e.consume(V),B):Y(V)}function ee(V){return V===null||bt(V)?(e.exit("htmlFlowData"),ge(V)):(e.consume(V),ee)}function ge(V){return e.exit("htmlFlow"),t(V)}}function Nce(e,t,n){const r=this;return i;function i(o){return bt(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),s):n(o)}function s(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}function Oce(e,t,n){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(rm,t,n)}}const Pce={name:"htmlText",tokenize:Ace};function Ace(e,t,n){const r=this;let i,s,o;return a;function a(B){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(B),l}function l(B){return B===33?(e.consume(B),c):B===47?(e.consume(B),U):B===63?(e.consume(B),A):Ti(B)?(e.consume(B),F):n(B)}function c(B){return B===45?(e.consume(B),f):B===91?(e.consume(B),s=0,x):Ti(B)?(e.consume(B),I):n(B)}function f(B){return B===45?(e.consume(B),y):n(B)}function p(B){return B===null?n(B):B===45?(e.consume(B),g):bt(B)?(o=p,te(B)):(e.consume(B),p)}function g(B){return B===45?(e.consume(B),y):p(B)}function y(B){return B===62?Q(B):B===45?g(B):p(B)}function x(B){const ee="CDATA[";return B===ee.charCodeAt(s++)?(e.consume(B),s===ee.length?_:x):n(B)}function _(B){return B===null?n(B):B===93?(e.consume(B),S):bt(B)?(o=_,te(B)):(e.consume(B),_)}function S(B){return B===93?(e.consume(B),C):_(B)}function C(B){return B===62?Q(B):B===93?(e.consume(B),C):_(B)}function I(B){return B===null||B===62?Q(B):bt(B)?(o=I,te(B)):(e.consume(B),I)}function A(B){return B===null?n(B):B===63?(e.consume(B),z):bt(B)?(o=A,te(B)):(e.consume(B),A)}function z(B){return B===62?Q(B):A(B)}function U(B){return Ti(B)?(e.consume(B),O):n(B)}function O(B){return B===45||fi(B)?(e.consume(B),O):N(B)}function N(B){return bt(B)?(o=N,te(B)):Xt(B)?(e.consume(B),N):Q(B)}function F(B){return B===45||fi(B)?(e.consume(B),F):B===47||B===62||Cn(B)?$(B):n(B)}function $(B){return B===47?(e.consume(B),Q):B===58||B===95||Ti(B)?(e.consume(B),L):bt(B)?(o=$,te(B)):Xt(B)?(e.consume(B),$):Q(B)}function L(B){return B===45||B===46||B===58||B===95||fi(B)?(e.consume(B),L):Z(B)}function Z(B){return B===61?(e.consume(B),Y):bt(B)?(o=Z,te(B)):Xt(B)?(e.consume(B),Z):$(B)}function Y(B){return B===null||B===60||B===61||B===62||B===96?n(B):B===34||B===39?(e.consume(B),i=B,he):bt(B)?(o=Y,te(B)):Xt(B)?(e.consume(B),Y):(e.consume(B),G)}function he(B){return B===i?(e.consume(B),i=void 0,W):B===null?n(B):bt(B)?(o=he,te(B)):(e.consume(B),he)}function G(B){return B===null||B===34||B===39||B===60||B===61||B===96?n(B):B===47||B===62||Cn(B)?$(B):(e.consume(B),G)}function W(B){return B===47||B===62||Cn(B)?$(B):n(B)}function Q(B){return B===62?(e.consume(B),e.exit("htmlTextData"),e.exit("htmlText"),t):n(B)}function te(B){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(B),e.exit("lineEnding"),X}function X(B){return Xt(B)?cn(e,fe,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(B):fe(B)}function fe(B){return e.enter("htmlTextData"),o(B)}}const LS={name:"labelEnd",resolveAll:Fce,resolveTo:Bce,tokenize:$ce},Mce={tokenize:zce},Dce={tokenize:Uce},Lce={tokenize:Hce};function Fce(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",t+=i}}return e.length!==n.length&&us(e,0,e.length,n),e}function Bce(e,t){let n=e.length,r=0,i,s,o,a;for(;n--;)if(i=e[n][1],s){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(o){if(e[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(s=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(o=n);const l={type:e[s][1].type==="labelLink"?"link":"image",start:{...e[s][1].start},end:{...e[e.length-1][1].end}},c={type:"label",start:{...e[s][1].start},end:{...e[o][1].end}},f={type:"labelText",start:{...e[s+r+2][1].end},end:{...e[o-2][1].start}};return a=[["enter",l,t],["enter",c,t]],a=Rs(a,e.slice(s+1,s+r+3)),a=Rs(a,[["enter",f,t]]),a=Rs(a,$1(t.parser.constructs.insideSpan.null,e.slice(s+r+4,o-3),t)),a=Rs(a,[["exit",f,t],e[o-2],e[o-1],["exit",c,t]]),a=Rs(a,e.slice(o+1)),a=Rs(a,[["exit",l,t]]),us(e,s,e.length,a),e}function $ce(e,t,n){const r=this;let i=r.events.length,s,o;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){s=r.events[i][1];break}return a;function a(g){return s?s._inactive?p(g):(o=r.parser.defined.includes(uo(r.sliceSerialize({start:s.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(g),e.exit("labelMarker"),e.exit("labelEnd"),l):n(g)}function l(g){return g===40?e.attempt(Mce,f,o?f:p)(g):g===91?e.attempt(Dce,f,o?c:p)(g):o?f(g):p(g)}function c(g){return e.attempt(Lce,f,p)(g)}function f(g){return t(g)}function p(g){return s._balanced=!0,n(g)}}function zce(e,t,n){return r;function r(p){return e.enter("resource"),e.enter("resourceMarker"),e.consume(p),e.exit("resourceMarker"),i}function i(p){return Cn(p)?Gh(e,s)(p):s(p)}function s(p){return p===41?f(p):xN(e,o,a,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(p)}function o(p){return Cn(p)?Gh(e,l)(p):f(p)}function a(p){return n(p)}function l(p){return p===34||p===39||p===40?_N(e,c,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(p):f(p)}function c(p){return Cn(p)?Gh(e,f)(p):f(p)}function f(p){return p===41?(e.enter("resourceMarker"),e.consume(p),e.exit("resourceMarker"),e.exit("resource"),t):n(p)}}function Uce(e,t,n){const r=this;return i;function i(a){return wN.call(r,e,s,o,"reference","referenceMarker","referenceString")(a)}function s(a){return r.parser.defined.includes(uo(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(a):n(a)}function o(a){return n(a)}}function Hce(e,t,n){return r;function r(s){return e.enter("reference"),e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),i}function i(s){return s===93?(e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),e.exit("reference"),t):n(s)}}const Wce={name:"labelStartImage",resolveAll:LS.resolveAll,tokenize:Vce};function Vce(e,t,n){const r=this;return i;function i(a){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(a),e.exit("labelImageMarker"),s}function s(a){return a===91?(e.enter("labelMarker"),e.consume(a),e.exit("labelMarker"),e.exit("labelImage"),o):n(a)}function o(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):t(a)}}const qce={name:"labelStartLink",resolveAll:LS.resolveAll,tokenize:Qce};function Qce(e,t,n){const r=this;return i;function i(o){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelLink"),s}function s(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):t(o)}}const Cx={name:"lineEnding",tokenize:Kce};function Kce(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),cn(e,t,"linePrefix")}}const M0={name:"thematicBreak",tokenize:Gce};function Gce(e,t,n){let r=0,i;return s;function s(c){return e.enter("thematicBreak"),o(c)}function o(c){return i=c,a(c)}function a(c){return c===i?(e.enter("thematicBreakSequence"),l(c)):r>=3&&(c===null||bt(c))?(e.exit("thematicBreak"),t(c)):n(c)}function l(c){return c===i?(e.consume(c),r++,l):(e.exit("thematicBreakSequence"),Xt(c)?cn(e,a,"whitespace")(c):a(c))}}const Bi={continuation:{tokenize:Zce},exit:tue,name:"list",tokenize:Xce},Yce={partial:!0,tokenize:nue},Jce={partial:!0,tokenize:eue};function Xce(e,t,n){const r=this,i=r.events[r.events.length-1];let s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,o=0;return a;function a(y){const x=r.containerState.type||(y===42||y===43||y===45?"listUnordered":"listOrdered");if(x==="listUnordered"?!r.containerState.marker||y===r.containerState.marker:v_(y)){if(r.containerState.type||(r.containerState.type=x,e.enter(x,{_container:!0})),x==="listUnordered")return e.enter("listItemPrefix"),y===42||y===45?e.check(M0,n,c)(y):c(y);if(!r.interrupt||y===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),l(y)}return n(y)}function l(y){return v_(y)&&++o<10?(e.consume(y),l):(!r.interrupt||o<2)&&(r.containerState.marker?y===r.containerState.marker:y===41||y===46)?(e.exit("listItemValue"),c(y)):n(y)}function c(y){return e.enter("listItemMarker"),e.consume(y),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||y,e.check(rm,r.interrupt?n:f,e.attempt(Yce,g,p))}function f(y){return r.containerState.initialBlankLine=!0,s++,g(y)}function p(y){return Xt(y)?(e.enter("listItemPrefixWhitespace"),e.consume(y),e.exit("listItemPrefixWhitespace"),g):n(y)}function g(y){return r.containerState.size=s+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(y)}}function Zce(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(rm,i,s);function i(a){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,cn(e,t,"listItemIndent",r.containerState.size+1)(a)}function s(a){return r.containerState.furtherBlankLines||!Xt(a)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(a)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(Jce,t,o)(a))}function o(a){return r.containerState._closeFlow=!0,r.interrupt=void 0,cn(e,e.attempt(Bi,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a)}}function eue(e,t,n){const r=this;return cn(e,i,"listItemIndent",r.containerState.size+1);function i(s){const o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?t(s):n(s)}}function tue(e){e.exit(this.containerState.type)}function nue(e,t,n){const r=this;return cn(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(s){const o=r.events[r.events.length-1];return!Xt(s)&&o&&o[1].type==="listItemPrefixWhitespace"?t(s):n(s)}}const nT={name:"setextUnderline",resolveTo:rue,tokenize:iue};function rue(e,t){let n=e.length,r,i,s;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(i=n)}else e[n][1].type==="content"&&e.splice(n,1),!s&&e[n][1].type==="definition"&&(s=n);const o={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[i][1].type="setextHeadingText",s?(e.splice(i,0,["enter",o,t]),e.splice(s+1,0,["exit",e[r][1],t]),e[r][1].end={...e[s][1].end}):e[r][1]=o,e.push(["exit",o,t]),e}function iue(e,t,n){const r=this;let i;return s;function s(c){let f=r.events.length,p;for(;f--;)if(r.events[f][1].type!=="lineEnding"&&r.events[f][1].type!=="linePrefix"&&r.events[f][1].type!=="content"){p=r.events[f][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||p)?(e.enter("setextHeadingLine"),i=c,o(c)):n(c)}function o(c){return e.enter("setextHeadingLineSequence"),a(c)}function a(c){return c===i?(e.consume(c),a):(e.exit("setextHeadingLineSequence"),Xt(c)?cn(e,l,"lineSuffix")(c):l(c))}function l(c){return c===null||bt(c)?(e.exit("setextHeadingLine"),t(c)):n(c)}}const sue={tokenize:hue,partial:!0};function oue(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:uue,continuation:{tokenize:due},exit:fue}},text:{91:{name:"gfmFootnoteCall",tokenize:cue},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:aue,resolveTo:lue}}}}function aue(e,t,n){const r=this;let i=r.events.length;const s=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o;for(;i--;){const l=r.events[i][1];if(l.type==="labelImage"){o=l;break}if(l.type==="gfmFootnoteCall"||l.type==="labelLink"||l.type==="label"||l.type==="image"||l.type==="link")break}return a;function a(l){if(!o||!o._balanced)return n(l);const c=uo(r.sliceSerialize({start:o.end,end:r.now()}));return c.codePointAt(0)!==94||!s.includes(c.slice(1))?n(l):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(l),e.exit("gfmFootnoteCallLabelMarker"),t(l))}}function lue(e,t){let n=e.length;for(;n--;)if(e[n][1].type==="labelImage"&&e[n][0]==="enter"){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const s={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},e[e.length-1][1].start)},o={type:"chunkString",contentType:"string",start:Object.assign({},s.start),end:Object.assign({},s.end)},a=[e[n+1],e[n+2],["enter",r,t],e[n+3],e[n+4],["enter",i,t],["exit",i,t],["enter",s,t],["enter",o,t],["exit",o,t],["exit",s,t],e[e.length-2],e[e.length-1],["exit",r,t]];return e.splice(n,e.length-n+1,...a),e}function cue(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s=0,o;return a;function a(p){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(p),e.exit("gfmFootnoteCallLabelMarker"),l}function l(p){return p!==94?n(p):(e.enter("gfmFootnoteCallMarker"),e.consume(p),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",c)}function c(p){if(s>999||p===93&&!o||p===null||p===91||Cn(p))return n(p);if(p===93){e.exit("chunkString");const g=e.exit("gfmFootnoteCallString");return i.includes(uo(r.sliceSerialize(g)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(p),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(p)}return Cn(p)||(o=!0),s++,e.consume(p),p===92?f:c}function f(p){return p===91||p===92||p===93?(e.consume(p),s++,c):c(p)}}function uue(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s,o=0,a;return l;function l(x){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(x),e.exit("gfmFootnoteDefinitionLabelMarker"),c}function c(x){return x===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(x),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",f):n(x)}function f(x){if(o>999||x===93&&!a||x===null||x===91||Cn(x))return n(x);if(x===93){e.exit("chunkString");const _=e.exit("gfmFootnoteDefinitionLabelString");return s=uo(r.sliceSerialize(_)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(x),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),g}return Cn(x)||(a=!0),o++,e.consume(x),x===92?p:f}function p(x){return x===91||x===92||x===93?(e.consume(x),o++,f):f(x)}function g(x){return x===58?(e.enter("definitionMarker"),e.consume(x),e.exit("definitionMarker"),i.includes(s)||i.push(s),cn(e,y,"gfmFootnoteDefinitionWhitespace")):n(x)}function y(x){return t(x)}}function due(e,t,n){return e.check(rm,t,e.attempt(sue,t,n))}function fue(e){e.exit("gfmFootnoteDefinition")}function hue(e,t,n){const r=this;return cn(e,i,"gfmFootnoteDefinitionIndent",5);function i(s){const o=r.events[r.events.length-1];return o&&o[1].type==="gfmFootnoteDefinitionIndent"&&o[2].sliceSerialize(o[1],!0).length===4?t(s):n(s)}}function pue(e){let n=(e||{}).singleTilde;const r={name:"strikethrough",tokenize:s,resolveAll:i};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function i(o,a){let l=-1;for(;++l<o.length;)if(o[l][0]==="enter"&&o[l][1].type==="strikethroughSequenceTemporary"&&o[l][1]._close){let c=l;for(;c--;)if(o[c][0]==="exit"&&o[c][1].type==="strikethroughSequenceTemporary"&&o[c][1]._open&&o[l][1].end.offset-o[l][1].start.offset===o[c][1].end.offset-o[c][1].start.offset){o[l][1].type="strikethroughSequence",o[c][1].type="strikethroughSequence";const f={type:"strikethrough",start:Object.assign({},o[c][1].start),end:Object.assign({},o[l][1].end)},p={type:"strikethroughText",start:Object.assign({},o[c][1].end),end:Object.assign({},o[l][1].start)},g=[["enter",f,a],["enter",o[c][1],a],["exit",o[c][1],a],["enter",p,a]],y=a.parser.constructs.insideSpan.null;y&&us(g,g.length,0,$1(y,o.slice(c+1,l),a)),us(g,g.length,0,[["exit",p,a],["enter",o[l][1],a],["exit",o[l][1],a],["exit",f,a]]),us(o,c-1,l-c+3,g),l=c+g.length-2;break}}for(l=-1;++l<o.length;)o[l][1].type==="strikethroughSequenceTemporary"&&(o[l][1].type="data");return o}function s(o,a,l){const c=this.previous,f=this.events;let p=0;return g;function g(x){return c===126&&f[f.length-1][1].type!=="characterEscape"?l(x):(o.enter("strikethroughSequenceTemporary"),y(x))}function y(x){const _=af(c);if(x===126)return p>1?l(x):(o.consume(x),p++,y);if(p<2&&!n)return l(x);const S=o.exit("strikethroughSequenceTemporary"),C=af(x);return S._open=!C||C===2&&!!_,S._close=!_||_===2&&!!C,a(x)}}}class mue{constructor(){this.map=[]}add(t,n,r){gue(this,t,n,r)}consume(t){if(this.map.sort(function(s,o){return s[0]-o[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(t.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),t.length=this.map[n][0];r.push(t.slice()),t.length=0;let i=r.pop();for(;i;){for(const s of i)t.push(s);i=r.pop()}this.map.length=0}}function gue(e,t,n,r){let i=0;if(!(n===0&&r.length===0)){for(;i<e.map.length;){if(e.map[i][0]===t){e.map[i][1]+=n,e.map[i][2].push(...r);return}i+=1}e.map.push([t,n,r])}}function yue(e,t){let n=!1;const r=[];for(;t<e.length;){const i=e[t];if(n){if(i[0]==="enter")i[1].type==="tableContent"&&r.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const s=r.length-1;r[s]=r[s]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(n=!0);t+=1}return r}function vue(){return{flow:{null:{name:"table",tokenize:bue,resolveAll:xue}}}}function bue(e,t,n){const r=this;let i=0,s=0,o;return a;function a(L){let Z=r.events.length-1;for(;Z>-1;){const G=r.events[Z][1].type;if(G==="lineEnding"||G==="linePrefix")Z--;else break}const Y=Z>-1?r.events[Z][1].type:null,he=Y==="tableHead"||Y==="tableRow"?O:l;return he===O&&r.parser.lazy[r.now().line]?n(L):he(L)}function l(L){return e.enter("tableHead"),e.enter("tableRow"),c(L)}function c(L){return L===124||(o=!0,s+=1),f(L)}function f(L){return L===null?n(L):bt(L)?s>1?(s=0,r.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(L),e.exit("lineEnding"),y):n(L):Xt(L)?cn(e,f,"whitespace")(L):(s+=1,o&&(o=!1,i+=1),L===124?(e.enter("tableCellDivider"),e.consume(L),e.exit("tableCellDivider"),o=!0,f):(e.enter("data"),p(L)))}function p(L){return L===null||L===124||Cn(L)?(e.exit("data"),f(L)):(e.consume(L),L===92?g:p)}function g(L){return L===92||L===124?(e.consume(L),p):p(L)}function y(L){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(L):(e.enter("tableDelimiterRow"),o=!1,Xt(L)?cn(e,x,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(L):x(L))}function x(L){return L===45||L===58?S(L):L===124?(o=!0,e.enter("tableCellDivider"),e.consume(L),e.exit("tableCellDivider"),_):U(L)}function _(L){return Xt(L)?cn(e,S,"whitespace")(L):S(L)}function S(L){return L===58?(s+=1,o=!0,e.enter("tableDelimiterMarker"),e.consume(L),e.exit("tableDelimiterMarker"),C):L===45?(s+=1,C(L)):L===null||bt(L)?z(L):U(L)}function C(L){return L===45?(e.enter("tableDelimiterFiller"),I(L)):U(L)}function I(L){return L===45?(e.consume(L),I):L===58?(o=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(L),e.exit("tableDelimiterMarker"),A):(e.exit("tableDelimiterFiller"),A(L))}function A(L){return Xt(L)?cn(e,z,"whitespace")(L):z(L)}function z(L){return L===124?x(L):L===null||bt(L)?!o||i!==s?U(L):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(L)):U(L)}function U(L){return n(L)}function O(L){return e.enter("tableRow"),N(L)}function N(L){return L===124?(e.enter("tableCellDivider"),e.consume(L),e.exit("tableCellDivider"),N):L===null||bt(L)?(e.exit("tableRow"),t(L)):Xt(L)?cn(e,N,"whitespace")(L):(e.enter("data"),F(L))}function F(L){return L===null||L===124||Cn(L)?(e.exit("data"),N(L)):(e.consume(L),L===92?$:F)}function $(L){return L===92||L===124?(e.consume(L),F):F(L)}}function xue(e,t){let n=-1,r=!0,i=0,s=[0,0,0,0],o=[0,0,0,0],a=!1,l=0,c,f,p;const g=new mue;for(;++n<e.length;){const y=e[n],x=y[1];y[0]==="enter"?x.type==="tableHead"?(a=!1,l!==0&&(rT(g,t,l,c,f),f=void 0,l=0),c={type:"table",start:Object.assign({},x.start),end:Object.assign({},x.end)},g.add(n,0,[["enter",c,t]])):x.type==="tableRow"||x.type==="tableDelimiterRow"?(r=!0,p=void 0,s=[0,0,0,0],o=[0,n+1,0,0],a&&(a=!1,f={type:"tableBody",start:Object.assign({},x.start),end:Object.assign({},x.end)},g.add(n,0,[["enter",f,t]])),i=x.type==="tableDelimiterRow"?2:f?3:1):i&&(x.type==="data"||x.type==="tableDelimiterMarker"||x.type==="tableDelimiterFiller")?(r=!1,o[2]===0&&(s[1]!==0&&(o[0]=o[1],p=s0(g,t,s,i,void 0,p),s=[0,0,0,0]),o[2]=n)):x.type==="tableCellDivider"&&(r?r=!1:(s[1]!==0&&(o[0]=o[1],p=s0(g,t,s,i,void 0,p)),s=o,o=[s[1],n,0,0])):x.type==="tableHead"?(a=!0,l=n):x.type==="tableRow"||x.type==="tableDelimiterRow"?(l=n,s[1]!==0?(o[0]=o[1],p=s0(g,t,s,i,n,p)):o[1]!==0&&(p=s0(g,t,o,i,n,p)),i=0):i&&(x.type==="data"||x.type==="tableDelimiterMarker"||x.type==="tableDelimiterFiller")&&(o[3]=n)}for(l!==0&&rT(g,t,l,c,f),g.consume(t.events),n=-1;++n<t.events.length;){const y=t.events[n];y[0]==="enter"&&y[1].type==="table"&&(y[1]._align=yue(t.events,n))}return e}function s0(e,t,n,r,i,s){const o=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",a="tableContent";n[0]!==0&&(s.end=Object.assign({},jd(t.events,n[0])),e.add(n[0],0,[["exit",s,t]]));const l=jd(t.events,n[1]);if(s={type:o,start:Object.assign({},l),end:Object.assign({},l)},e.add(n[1],0,[["enter",s,t]]),n[2]!==0){const c=jd(t.events,n[2]),f=jd(t.events,n[3]),p={type:a,start:Object.assign({},c),end:Object.assign({},f)};if(e.add(n[2],0,[["enter",p,t]]),r!==2){const g=t.events[n[2]],y=t.events[n[3]];if(g[1].end=Object.assign({},y[1].end),g[1].type="chunkText",g[1].contentType="text",n[3]>n[2]+1){const x=n[2]+1,_=n[3]-n[2]-1;e.add(x,_,[])}}e.add(n[3]+1,0,[["exit",p,t]])}return i!==void 0&&(s.end=Object.assign({},jd(t.events,i)),e.add(i,0,[["exit",s,t]]),s=void 0),s}function rT(e,t,n,r,i){const s=[],o=jd(t.events,n);i&&(i.end=Object.assign({},o),s.push(["exit",i,t])),r.end=Object.assign({},o),s.push(["exit",r,t]),e.add(n+1,0,s)}function jd(e,t){const n=e[t],r=n[0]==="enter"?"start":"end";return n[1][r]}const wue={name:"tasklistCheck",tokenize:Sue};function _ue(){return{text:{91:wue}}}function Sue(e,t,n){const r=this;return i;function i(l){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(l):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(l),e.exit("taskListCheckMarker"),s)}function s(l){return Cn(l)?(e.enter("taskListCheckValueUnchecked"),e.consume(l),e.exit("taskListCheckValueUnchecked"),o):l===88||l===120?(e.enter("taskListCheckValueChecked"),e.consume(l),e.exit("taskListCheckValueChecked"),o):n(l)}function o(l){return l===93?(e.enter("taskListCheckMarker"),e.consume(l),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),a):n(l)}function a(l){return bt(l)?t(l):Xt(l)?e.check({tokenize:Eue},t,n)(l):n(l)}}function Eue(e,t,n){return cn(e,r,"whitespace");function r(i){return i===null?n(i):t(i)}}function Cue(e){return aN([Mle(),oue(),pue(e),vue(),_ue()])}const kue={};function Tue(e){const t=this,n=e||kue,r=t.data(),i=r.micromarkExtensions||(r.micromarkExtensions=[]),s=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),o=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);i.push(Cue(n)),s.push(Ile()),o.push(Rle(n))}function jue(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const Iue=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Rue=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Nue={};function iT(e,t){return(Nue.jsx?Rue:Iue).test(e)}const Oue=/[ \t\n\f\r]/g;function Pue(e){return typeof e=="object"?e.type==="text"?sT(e.value):!1:sT(e)}function sT(e){return e.replace(Oue,"")===""}class im{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}}im.prototype.normal={};im.prototype.property={};im.prototype.space=void 0;function SN(e,t){const n={},r={};for(const i of e)Object.assign(n,i.property),Object.assign(r,i.normal);return new im(n,r,t)}function __(e){return e.toLowerCase()}class Ki{constructor(t,n){this.attribute=n,this.property=t}}Ki.prototype.attribute="";Ki.prototype.booleanish=!1;Ki.prototype.boolean=!1;Ki.prototype.commaOrSpaceSeparated=!1;Ki.prototype.commaSeparated=!1;Ki.prototype.defined=!1;Ki.prototype.mustUseProperty=!1;Ki.prototype.number=!1;Ki.prototype.overloadedBoolean=!1;Ki.prototype.property="";Ki.prototype.spaceSeparated=!1;Ki.prototype.space=void 0;let Aue=0;const Bt=Eu(),yr=Eu(),S_=Eu(),Be=Eu(),Rn=Eu(),Wd=Eu(),rs=Eu();function Eu(){return 2**++Aue}const E_=Object.freeze(Object.defineProperty({__proto__:null,boolean:Bt,booleanish:yr,commaOrSpaceSeparated:rs,commaSeparated:Wd,number:Be,overloadedBoolean:S_,spaceSeparated:Rn},Symbol.toStringTag,{value:"Module"})),kx=Object.keys(E_);class FS extends Ki{constructor(t,n,r,i){let s=-1;if(super(t,n),oT(this,"space",i),typeof r=="number")for(;++s<kx.length;){const o=kx[s];oT(this,kx[s],(r&E_[o])===E_[o])}}}FS.prototype.defined=!0;function oT(e,t,n){n&&(e[t]=n)}function _f(e){const t={},n={};for(const[r,i]of Object.entries(e.properties)){const s=new FS(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(s.mustUseProperty=!0),t[r]=s,n[__(r)]=r,n[__(s.attribute)]=r}return new im(t,n,e.space)}const EN=_f({properties:{ariaActiveDescendant:null,ariaAtomic:yr,ariaAutoComplete:null,ariaBusy:yr,ariaChecked:yr,ariaColCount:Be,ariaColIndex:Be,ariaColSpan:Be,ariaControls:Rn,ariaCurrent:null,ariaDescribedBy:Rn,ariaDetails:null,ariaDisabled:yr,ariaDropEffect:Rn,ariaErrorMessage:null,ariaExpanded:yr,ariaFlowTo:Rn,ariaGrabbed:yr,ariaHasPopup:null,ariaHidden:yr,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Rn,ariaLevel:Be,ariaLive:null,ariaModal:yr,ariaMultiLine:yr,ariaMultiSelectable:yr,ariaOrientation:null,ariaOwns:Rn,ariaPlaceholder:null,ariaPosInSet:Be,ariaPressed:yr,ariaReadOnly:yr,ariaRelevant:null,ariaRequired:yr,ariaRoleDescription:Rn,ariaRowCount:Be,ariaRowIndex:Be,ariaRowSpan:Be,ariaSelected:yr,ariaSetSize:Be,ariaSort:null,ariaValueMax:Be,ariaValueMin:Be,ariaValueNow:Be,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function CN(e,t){return t in e?e[t]:t}function kN(e,t){return CN(e,t.toLowerCase())}const Mue=_f({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Wd,acceptCharset:Rn,accessKey:Rn,action:null,allow:null,allowFullScreen:Bt,allowPaymentRequest:Bt,allowUserMedia:Bt,alt:null,as:null,async:Bt,autoCapitalize:null,autoComplete:Rn,autoFocus:Bt,autoPlay:Bt,blocking:Rn,capture:null,charSet:null,checked:Bt,cite:null,className:Rn,cols:Be,colSpan:null,content:null,contentEditable:yr,controls:Bt,controlsList:Rn,coords:Be|Wd,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Bt,defer:Bt,dir:null,dirName:null,disabled:Bt,download:S_,draggable:yr,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Bt,formTarget:null,headers:Rn,height:Be,hidden:S_,high:Be,href:null,hrefLang:null,htmlFor:Rn,httpEquiv:Rn,id:null,imageSizes:null,imageSrcSet:null,inert:Bt,inputMode:null,integrity:null,is:null,isMap:Bt,itemId:null,itemProp:Rn,itemRef:Rn,itemScope:Bt,itemType:Rn,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Bt,low:Be,manifest:null,max:null,maxLength:Be,media:null,method:null,min:null,minLength:Be,multiple:Bt,muted:Bt,name:null,nonce:null,noModule:Bt,noValidate:Bt,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Bt,optimum:Be,pattern:null,ping:Rn,placeholder:null,playsInline:Bt,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Bt,referrerPolicy:null,rel:Rn,required:Bt,reversed:Bt,rows:Be,rowSpan:Be,sandbox:Rn,scope:null,scoped:Bt,seamless:Bt,selected:Bt,shadowRootClonable:Bt,shadowRootDelegatesFocus:Bt,shadowRootMode:null,shape:null,size:Be,sizes:null,slot:null,span:Be,spellCheck:yr,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Be,step:null,style:null,tabIndex:Be,target:null,title:null,translate:null,type:null,typeMustMatch:Bt,useMap:null,value:yr,width:Be,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Rn,axis:null,background:null,bgColor:null,border:Be,borderColor:null,bottomMargin:Be,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Bt,declare:Bt,event:null,face:null,frame:null,frameBorder:null,hSpace:Be,leftMargin:Be,link:null,longDesc:null,lowSrc:null,marginHeight:Be,marginWidth:Be,noResize:Bt,noHref:Bt,noShade:Bt,noWrap:Bt,object:null,profile:null,prompt:null,rev:null,rightMargin:Be,rules:null,scheme:null,scrolling:yr,standby:null,summary:null,text:null,topMargin:Be,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Be,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Bt,disableRemotePlayback:Bt,prefix:null,property:null,results:Be,security:null,unselectable:null},space:"html",transform:kN}),Due=_f({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:rs,accentHeight:Be,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Be,amplitude:Be,arabicForm:null,ascent:Be,attributeName:null,attributeType:null,azimuth:Be,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Be,by:null,calcMode:null,capHeight:Be,className:Rn,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Be,diffuseConstant:Be,direction:null,display:null,dur:null,divisor:Be,dominantBaseline:null,download:Bt,dx:null,dy:null,edgeMode:null,editable:null,elevation:Be,enableBackground:null,end:null,event:null,exponent:Be,externalResourcesRequired:null,fill:null,fillOpacity:Be,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Wd,g2:Wd,glyphName:Wd,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Be,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Be,horizOriginX:Be,horizOriginY:Be,id:null,ideographic:Be,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Be,k:Be,k1:Be,k2:Be,k3:Be,k4:Be,kernelMatrix:rs,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Be,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Be,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Be,overlineThickness:Be,paintOrder:null,panose1:null,path:null,pathLength:Be,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Rn,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Be,pointsAtY:Be,pointsAtZ:Be,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:rs,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:rs,rev:rs,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:rs,requiredFeatures:rs,requiredFonts:rs,requiredFormats:rs,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Be,specularExponent:Be,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Be,strikethroughThickness:Be,string:null,stroke:null,strokeDashArray:rs,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Be,strokeOpacity:Be,strokeWidth:null,style:null,surfaceScale:Be,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:rs,tabIndex:Be,tableValues:null,target:null,targetX:Be,targetY:Be,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:rs,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Be,underlineThickness:Be,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Be,values:null,vAlphabetic:Be,vMathematical:Be,vectorEffect:null,vHanging:Be,vIdeographic:Be,version:null,vertAdvY:Be,vertOriginX:Be,vertOriginY:Be,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Be,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:CN}),TN=_f({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),jN=_f({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:kN}),IN=_f({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),Lue={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},Fue=/[A-Z]/g,aT=/-[a-z]/g,Bue=/^data[-\w.:]+$/i;function $ue(e,t){const n=__(t);let r=t,i=Ki;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&Bue.test(t)){if(t.charAt(4)==="-"){const s=t.slice(5).replace(aT,Uue);r="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=t.slice(4);if(!aT.test(s)){let o=s.replace(Fue,zue);o.charAt(0)!=="-"&&(o="-"+o),t="data"+o}}i=FS}return new i(r,t)}function zue(e){return"-"+e.toLowerCase()}function Uue(e){return e.charAt(1).toUpperCase()}const Hue=SN([EN,Mue,TN,jN,IN],"html"),BS=SN([EN,Due,TN,jN,IN],"svg");function Wue(e){return e.join(" ").trim()}var vd={},Tx,lT;function Vue(){if(lT)return Tx;lT=1;var e=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,t=/\n/g,n=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,i=/^:\s*/,s=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,o=/^[;\s]*/,a=/^\s+|\s+$/g,l=`
`,c="/",f="*",p="",g="comment",y="declaration";function x(S,C){if(typeof S!="string")throw new TypeError("First argument must be a string");if(!S)return[];C=C||{};var I=1,A=1;function z(G){var W=G.match(t);W&&(I+=W.length);var Q=G.lastIndexOf(l);A=~Q?G.length-Q:A+G.length}function U(){var G={line:I,column:A};return function(W){return W.position=new O(G),$(),W}}function O(G){this.start=G,this.end={line:I,column:A},this.source=C.source}O.prototype.content=S;function N(G){var W=new Error(C.source+":"+I+":"+A+": "+G);if(W.reason=G,W.filename=C.source,W.line=I,W.column=A,W.source=S,!C.silent)throw W}function F(G){var W=G.exec(S);if(W){var Q=W[0];return z(Q),S=S.slice(Q.length),W}}function $(){F(n)}function L(G){var W;for(G=G||[];W=Z();)W!==!1&&G.push(W);return G}function Z(){var G=U();if(!(c!=S.charAt(0)||f!=S.charAt(1))){for(var W=2;p!=S.charAt(W)&&(f!=S.charAt(W)||c!=S.charAt(W+1));)++W;if(W+=2,p===S.charAt(W-1))return N("End of comment missing");var Q=S.slice(2,W-2);return A+=2,z(Q),S=S.slice(W),A+=2,G({type:g,comment:Q})}}function Y(){var G=U(),W=F(r);if(W){if(Z(),!F(i))return N("property missing ':'");var Q=F(s),te=G({type:y,property:_(W[0].replace(e,p)),value:Q?_(Q[0].replace(e,p)):p});return F(o),te}}function he(){var G=[];L(G);for(var W;W=Y();)W!==!1&&(G.push(W),L(G));return G}return $(),he()}function _(S){return S?S.replace(a,p):p}return Tx=x,Tx}var cT;function que(){if(cT)return vd;cT=1;var e=vd&&vd.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(vd,"__esModule",{value:!0}),vd.default=n;const t=e(Vue());function n(r,i){let s=null;if(!r||typeof r!="string")return s;const o=(0,t.default)(r),a=typeof i=="function";return o.forEach(l=>{if(l.type!=="declaration")return;const{property:c,value:f}=l;a?i(c,f,l):f&&(s=s||{},s[c]=f)}),s}return vd}var wh={},uT;function Que(){if(uT)return wh;uT=1,Object.defineProperty(wh,"__esModule",{value:!0}),wh.camelCase=void 0;var e=/^--[a-zA-Z0-9_-]+$/,t=/-([a-z])/g,n=/^[^-]+$/,r=/^-(webkit|moz|ms|o|khtml)-/,i=/^-(ms)-/,s=function(c){return!c||n.test(c)||e.test(c)},o=function(c,f){return f.toUpperCase()},a=function(c,f){return"".concat(f,"-")},l=function(c,f){return f===void 0&&(f={}),s(c)?c:(c=c.toLowerCase(),f.reactCompat?c=c.replace(i,a):c=c.replace(r,a),c.replace(t,o))};return wh.camelCase=l,wh}var _h,dT;function Kue(){if(dT)return _h;dT=1;var e=_h&&_h.__importDefault||function(i){return i&&i.__esModule?i:{default:i}},t=e(que()),n=Que();function r(i,s){var o={};return!i||typeof i!="string"||(0,t.default)(i,function(a,l){a&&l&&(o[(0,n.camelCase)(a,s)]=l)}),o}return r.default=r,_h=r,_h}var Gue=Kue();const Yue=ds(Gue),RN=NN("end"),$S=NN("start");function NN(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function Jue(e){const t=$S(e),n=RN(e);if(t&&n)return{start:t,end:n}}function Yh(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?fT(e.position):"start"in e||"end"in e?fT(e):"line"in e||"column"in e?C_(e):""}function C_(e){return hT(e&&e.line)+":"+hT(e&&e.column)}function fT(e){return C_(e&&e.start)+"-"+C_(e&&e.end)}function hT(e){return e&&typeof e=="number"?e:1}class mi extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",s={},o=!1;if(n&&("line"in n&&"column"in n?s={place:n}:"start"in n&&"end"in n?s={place:n}:"type"in n?s={ancestors:[n],place:n.position}:s={...n}),typeof t=="string"?i=t:!s.cause&&t&&(o=!0,i=t.message,s.cause=t),!s.ruleId&&!s.source&&typeof r=="string"){const l=r.indexOf(":");l===-1?s.ruleId=r:(s.source=r.slice(0,l),s.ruleId=r.slice(l+1))}if(!s.place&&s.ancestors&&s.ancestors){const l=s.ancestors[s.ancestors.length-1];l&&(s.place=l.position)}const a=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=a?a.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=a?a.line:void 0,this.name=Yh(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=o&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}mi.prototype.file="";mi.prototype.name="";mi.prototype.reason="";mi.prototype.message="";mi.prototype.stack="";mi.prototype.column=void 0;mi.prototype.line=void 0;mi.prototype.ancestors=void 0;mi.prototype.cause=void 0;mi.prototype.fatal=void 0;mi.prototype.place=void 0;mi.prototype.ruleId=void 0;mi.prototype.source=void 0;const zS={}.hasOwnProperty,Xue=new Map,Zue=/[A-Z]/g,ede=new Set(["table","tbody","thead","tfoot","tr"]),tde=new Set(["td","th"]),ON="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function nde(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=ude(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=cde(n,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?BS:Hue,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},s=PN(i,e,void 0);return s&&typeof s!="string"?s:i.create(e,i.Fragment,{children:s||void 0},void 0)}function PN(e,t,n){if(t.type==="element")return rde(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return ide(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return ode(e,t,n);if(t.type==="mdxjsEsm")return sde(e,t);if(t.type==="root")return ade(e,t,n);if(t.type==="text")return lde(e,t)}function rde(e,t,n){const r=e.schema;let i=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=BS,e.schema=i),e.ancestors.push(t);const s=MN(e,t.tagName,!1),o=dde(e,t);let a=HS(e,t);return ede.has(t.tagName)&&(a=a.filter(function(l){return typeof l=="string"?!Pue(l):!0})),AN(e,o,s,t),US(o,a),e.ancestors.pop(),e.schema=r,e.create(t,s,o,n)}function ide(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}Tp(e,t.position)}function sde(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);Tp(e,t.position)}function ode(e,t,n){const r=e.schema;let i=r;t.name==="svg"&&r.space==="html"&&(i=BS,e.schema=i),e.ancestors.push(t);const s=t.name===null?e.Fragment:MN(e,t.name,!0),o=fde(e,t),a=HS(e,t);return AN(e,o,s,t),US(o,a),e.ancestors.pop(),e.schema=r,e.create(t,s,o,n)}function ade(e,t,n){const r={};return US(r,HS(e,t)),e.create(t,e.Fragment,r,n)}function lde(e,t){return t.value}function AN(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function US(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function cde(e,t,n){return r;function r(i,s,o,a){const c=Array.isArray(o.children)?n:t;return a?c(s,o,a):c(s,o)}}function ude(e,t){return n;function n(r,i,s,o){const a=Array.isArray(s.children),l=$S(r);return t(i,s,o,a,{columnNumber:l?l.column-1:void 0,fileName:e,lineNumber:l?l.line:void 0},void 0)}}function dde(e,t){const n={};let r,i;for(i in t.properties)if(i!=="children"&&zS.call(t.properties,i)){const s=hde(e,i,t.properties[i]);if(s){const[o,a]=s;e.tableCellAlignToStyle&&o==="align"&&typeof a=="string"&&tde.has(t.tagName)?r=a:n[o]=a}}if(r){const s=n.style||(n.style={});s[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function fde(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const s=r.data.estree.body[0];s.type;const o=s.expression;o.type;const a=o.properties[0];a.type,Object.assign(n,e.evaluater.evaluateExpression(a.argument))}else Tp(e,t.position);else{const i=r.name;let s;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const a=r.value.data.estree.body[0];a.type,s=e.evaluater.evaluateExpression(a.expression)}else Tp(e,t.position);else s=r.value===null?!0:r.value;n[i]=s}return n}function HS(e,t){const n=[];let r=-1;const i=e.passKeys?new Map:Xue;for(;++r<t.children.length;){const s=t.children[r];let o;if(e.passKeys){const l=s.type==="element"?s.tagName:s.type==="mdxJsxFlowElement"||s.type==="mdxJsxTextElement"?s.name:void 0;if(l){const c=i.get(l)||0;o=l+"-"+c,i.set(l,c+1)}}const a=PN(e,s,o);a!==void 0&&n.push(a)}return n}function hde(e,t,n){const r=$ue(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?jue(n):Wue(n)),r.property==="style"){let i=typeof n=="object"?n:pde(e,String(n));return e.stylePropertyNameCase==="css"&&(i=mde(i)),["style",i]}return[e.elementAttributeNameCase==="react"&&r.space?Lue[r.property]||r.property:r.attribute,n]}}function pde(e,t){try{return Yue(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,i=new mi("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=e.filePath||void 0,i.url=ON+"#cannot-parse-style-attribute",i}}function MN(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const i=t.split(".");let s=-1,o;for(;++s<i.length;){const a=iT(i[s])?{type:"Identifier",name:i[s]}:{type:"Literal",value:i[s]};o=o?{type:"MemberExpression",object:o,property:a,computed:!!(s&&a.type==="Literal"),optional:!1}:a}r=o}else r=iT(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const i=r.value;return zS.call(e.components,i)?e.components[i]:i}if(e.evaluater)return e.evaluater.evaluateExpression(r);Tp(e)}function Tp(e,t){const n=new mi("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=ON+"#cannot-handle-mdx-estrees-without-createevaluater",n}function mde(e){const t={};let n;for(n in e)zS.call(e,n)&&(t[gde(n)]=e[n]);return t}function gde(e){let t=e.replace(Zue,yde);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function yde(e){return"-"+e.toLowerCase()}const jx={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},vde={tokenize:bde};function bde(e){const t=e.attempt(this.parser.constructs.contentInitial,r,i);let n;return t;function r(a){if(a===null){e.consume(a);return}return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),cn(e,t,"linePrefix")}function i(a){return e.enter("paragraph"),s(a)}function s(a){const l=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,o(a)}function o(a){if(a===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(a);return}return bt(a)?(e.consume(a),e.exit("chunkText"),s):(e.consume(a),o)}}const xde={tokenize:wde},pT={tokenize:_de};function wde(e){const t=this,n=[];let r=0,i,s,o;return a;function a(A){if(r<n.length){const z=n[r];return t.containerState=z[1],e.attempt(z[0].continuation,l,c)(A)}return c(A)}function l(A){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&I();const z=t.events.length;let U=z,O;for(;U--;)if(t.events[U][0]==="exit"&&t.events[U][1].type==="chunkFlow"){O=t.events[U][1].end;break}C(r);let N=z;for(;N<t.events.length;)t.events[N][1].end={...O},N++;return us(t.events,U+1,0,t.events.slice(z)),t.events.length=N,c(A)}return a(A)}function c(A){if(r===n.length){if(!i)return g(A);if(i.currentConstruct&&i.currentConstruct.concrete)return x(A);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(pT,f,p)(A)}function f(A){return i&&I(),C(r),g(A)}function p(A){return t.parser.lazy[t.now().line]=r!==n.length,o=t.now().offset,x(A)}function g(A){return t.containerState={},e.attempt(pT,y,x)(A)}function y(A){return r++,n.push([t.currentConstruct,t.containerState]),g(A)}function x(A){if(A===null){i&&I(),C(0),e.consume(A);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:s}),_(A)}function _(A){if(A===null){S(e.exit("chunkFlow"),!0),C(0),e.consume(A);return}return bt(A)?(e.consume(A),S(e.exit("chunkFlow")),r=0,t.interrupt=void 0,a):(e.consume(A),_)}function S(A,z){const U=t.sliceStream(A);if(z&&U.push(null),A.previous=s,s&&(s.next=A),s=A,i.defineSkip(A.start),i.write(U),t.parser.lazy[A.start.line]){let O=i.events.length;for(;O--;)if(i.events[O][1].start.offset<o&&(!i.events[O][1].end||i.events[O][1].end.offset>o))return;const N=t.events.length;let F=N,$,L;for(;F--;)if(t.events[F][0]==="exit"&&t.events[F][1].type==="chunkFlow"){if($){L=t.events[F][1].end;break}$=!0}for(C(r),O=N;O<t.events.length;)t.events[O][1].end={...L},O++;us(t.events,F+1,0,t.events.slice(N)),t.events.length=O}}function C(A){let z=n.length;for(;z-- >A;){const U=n[z];t.containerState=U[1],U[0].exit.call(t,e)}n.length=A}function I(){i.write([null]),s=void 0,i=void 0,t.containerState._closeFlow=void 0}}function _de(e,t,n){return cn(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}const Sde={tokenize:Ede};function Ede(e){const t=this,n=e.attempt(rm,r,e.attempt(this.parser.constructs.flowInitial,i,cn(e,e.attempt(this.parser.constructs.flow,i,e.attempt(dce,i)),"linePrefix")));return n;function r(s){if(s===null){e.consume(s);return}return e.enter("lineEndingBlank"),e.consume(s),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function i(s){if(s===null){e.consume(s);return}return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const Cde={resolveAll:LN()},kde=DN("string"),Tde=DN("text");function DN(e){return{resolveAll:LN(e==="text"?jde:void 0),tokenize:t};function t(n){const r=this,i=this.parser.constructs[e],s=n.attempt(i,o,a);return o;function o(f){return c(f)?s(f):a(f)}function a(f){if(f===null){n.consume(f);return}return n.enter("data"),n.consume(f),l}function l(f){return c(f)?(n.exit("data"),s(f)):(n.consume(f),l)}function c(f){if(f===null)return!0;const p=i[f];let g=-1;if(p)for(;++g<p.length;){const y=p[g];if(!y.previous||y.previous.call(r,r.previous))return!0}return!1}}}function LN(e){return t;function t(n,r){let i=-1,s;for(;++i<=n.length;)s===void 0?n[i]&&n[i][1].type==="data"&&(s=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==s+2&&(n[s][1].end=n[i-1][1].end,n.splice(s+2,i-s-2),i=s+2),s=void 0);return e?e(n,r):n}}function jde(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],i=t.sliceStream(r);let s=i.length,o=-1,a=0,l;for(;s--;){const c=i[s];if(typeof c=="string"){for(o=c.length;c.charCodeAt(o-1)===32;)a++,o--;if(o)break;o=-1}else if(c===-2)l=!0,a++;else if(c!==-1){s++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(a=0),a){const c={type:n===e.length||l||a<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:s?o:r.start._bufferIndex+o,_index:r.start._index+s,line:r.end.line,column:r.end.column-a,offset:r.end.offset-a},end:{...r.end}};r.end={...c.start},r.start.offset===r.end.offset?Object.assign(r,c):(e.splice(n,0,["enter",c,t],["exit",c,t]),n+=2)}n++}return e}const Ide={42:Bi,43:Bi,45:Bi,48:Bi,49:Bi,50:Bi,51:Bi,52:Bi,53:Bi,54:Bi,55:Bi,56:Bi,57:Bi,62:gN},Rde={91:gce},Nde={[-2]:Ex,[-1]:Ex,32:Ex},Ode={35:_ce,42:M0,45:[nT,M0],60:kce,61:nT,95:M0,96:eT,126:eT},Pde={38:vN,92:yN},Ade={[-5]:Cx,[-4]:Cx,[-3]:Cx,33:Wce,38:vN,42:w_,60:[qle,Pce],91:qce,92:[xce,yN],93:LS,95:w_,96:sce},Mde={null:[w_,Cde]},Dde={null:[42,95]},Lde={null:[]},Fde=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:Dde,contentInitial:Rde,disable:Lde,document:Ide,flow:Ode,flowInitial:Nde,insideSpan:Mde,string:Pde,text:Ade},Symbol.toStringTag,{value:"Module"}));function Bde(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},s=[];let o=[],a=[];const l={attempt:N(U),check:N(O),consume:I,enter:A,exit:z,interrupt:N(O,{interrupt:!0})},c={code:null,containerState:{},defineSkip:_,events:[],now:x,parser:e,previous:null,sliceSerialize:g,sliceStream:y,write:p};let f=t.tokenize.call(c,l);return t.resolveAll&&s.push(t),c;function p(Z){return o=Rs(o,Z),S(),o[o.length-1]!==null?[]:(F(t,0),c.events=$1(s,c.events,c),c.events)}function g(Z,Y){return zde(y(Z),Y)}function y(Z){return $de(o,Z)}function x(){const{_bufferIndex:Z,_index:Y,line:he,column:G,offset:W}=r;return{_bufferIndex:Z,_index:Y,line:he,column:G,offset:W}}function _(Z){i[Z.line]=Z.column,L()}function S(){let Z;for(;r._index<o.length;){const Y=o[r._index];if(typeof Y=="string")for(Z=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===Z&&r._bufferIndex<Y.length;)C(Y.charCodeAt(r._bufferIndex));else C(Y)}}function C(Z){f=f(Z)}function I(Z){bt(Z)?(r.line++,r.column=1,r.offset+=Z===-3?2:1,L()):Z!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),c.previous=Z}function A(Z,Y){const he=Y||{};return he.type=Z,he.start=x(),c.events.push(["enter",he,c]),a.push(he),he}function z(Z){const Y=a.pop();return Y.end=x(),c.events.push(["exit",Y,c]),Y}function U(Z,Y){F(Z,Y.from)}function O(Z,Y){Y.restore()}function N(Z,Y){return he;function he(G,W,Q){let te,X,fe,B;return Array.isArray(G)?ge(G):"tokenize"in G?ge([G]):ee(G);function ee(ke){return Ve;function Ve(Ue){const mt=Ue!==null&&ke[Ue],De=Ue!==null&&ke.null,lr=[...Array.isArray(mt)?mt:mt?[mt]:[],...Array.isArray(De)?De:De?[De]:[]];return ge(lr)(Ue)}}function ge(ke){return te=ke,X=0,ke.length===0?Q:V(ke[X])}function V(ke){return Ve;function Ve(Ue){return B=$(),fe=ke,ke.partial||(c.currentConstruct=ke),ke.name&&c.parser.constructs.disable.null.includes(ke.name)?Ce():ke.tokenize.call(Y?Object.assign(Object.create(c),Y):c,l,Te,Ce)(Ue)}}function Te(ke){return Z(fe,B),W}function Ce(ke){return B.restore(),++X<te.length?V(te[X]):Q}}}function F(Z,Y){Z.resolveAll&&!s.includes(Z)&&s.push(Z),Z.resolve&&us(c.events,Y,c.events.length-Y,Z.resolve(c.events.slice(Y),c)),Z.resolveTo&&(c.events=Z.resolveTo(c.events,c))}function $(){const Z=x(),Y=c.previous,he=c.currentConstruct,G=c.events.length,W=Array.from(a);return{from:G,restore:Q};function Q(){r=Z,c.previous=Y,c.currentConstruct=he,c.events.length=G,a=W,L()}}function L(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function $de(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,s=t.end._bufferIndex;let o;if(n===i)o=[e[n].slice(r,s)];else{if(o=e.slice(n,i),r>-1){const a=o[0];typeof a=="string"?o[0]=a.slice(r):o.shift()}s>0&&o.push(e[i].slice(0,s))}return o}function zde(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const s=e[n];let o;if(typeof s=="string")o=s;else switch(s){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=t?" ":"	";break}case-1:{if(!t&&i)continue;o=" ";break}default:o=String.fromCharCode(s)}i=s===-2,r.push(o)}return r.join("")}function Ude(e){const r={constructs:aN([Fde,...(e||{}).extensions||[]]),content:i(vde),defined:[],document:i(xde),flow:i(Sde),lazy:{},string:i(kde),text:i(Tde)};return r;function i(s){return o;function o(a){return Bde(r,s,a)}}}function Hde(e){for(;!bN(e););return e}const mT=/[\0\t\n\r]/g;function Wde(){let e=1,t="",n=!0,r;return i;function i(s,o,a){const l=[];let c,f,p,g,y;for(s=t+(typeof s=="string"?s.toString():new TextDecoder(o||void 0).decode(s)),p=0,t="",n&&(s.charCodeAt(0)===65279&&p++,n=void 0);p<s.length;){if(mT.lastIndex=p,c=mT.exec(s),g=c&&c.index!==void 0?c.index:s.length,y=s.charCodeAt(g),!c){t=s.slice(p);break}if(y===10&&p===g&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),p<g&&(l.push(s.slice(p,g)),e+=g-p),y){case 0:{l.push(65533),e++;break}case 9:{for(f=Math.ceil(e/4)*4,l.push(-2);e++<f;)l.push(-1);break}case 10:{l.push(-4),e=1;break}default:r=!0,e=1}p=g+1}return a&&(r&&l.push(-5),t&&l.push(t),l.push(null)),l}}const FN={}.hasOwnProperty;function Vde(e,t,n){return typeof t!="string"&&(n=t,t=void 0),qde(n)(Hde(Ude(n).document().write(Wde()(e,t,!0))))}function qde(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(gi),autolinkProtocol:$,autolinkEmail:$,atxHeading:s(vn),blockQuote:s(De),characterEscape:$,characterReference:$,codeFenced:s(lr),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:s(lr,o),codeText:s(dt,o),codeTextData:$,data:$,codeFlowValue:$,definition:s(gn),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:s(_n),hardBreakEscape:s(wr),hardBreakTrailing:s(wr),htmlFlow:s(Ri,o),htmlFlowData:$,htmlText:s(Ri,o),htmlTextData:$,image:s(Gi),label:o,link:s(gi),listItem:s(un),listItemValue:g,listOrdered:s(Tt,p),listUnordered:s(Tt),paragraph:s(jt),reference:V,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:s(vn),strong:s(en),thematicBreak:s(Fn)},exit:{atxHeading:l(),atxHeadingSequence:U,autolink:l(),autolinkEmail:mt,autolinkProtocol:Ue,blockQuote:l(),characterEscapeValue:L,characterReferenceMarkerHexadecimal:Ce,characterReferenceMarkerNumeric:Ce,characterReferenceValue:ke,characterReference:Ve,codeFenced:l(S),codeFencedFence:_,codeFencedFenceInfo:y,codeFencedFenceMeta:x,codeFlowValue:L,codeIndented:l(C),codeText:l(W),codeTextData:L,data:L,definition:l(),definitionDestinationString:z,definitionLabelString:I,definitionTitleString:A,emphasis:l(),hardBreakEscape:l(Y),hardBreakTrailing:l(Y),htmlFlow:l(he),htmlFlowData:L,htmlText:l(G),htmlTextData:L,image:l(te),label:fe,labelText:X,lineEnding:Z,link:l(Q),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:Te,resourceDestinationString:B,resourceTitleString:ee,resource:ge,setextHeading:l(F),setextHeadingLineSequence:N,setextHeadingText:O,strong:l(),thematicBreak:l()}};BN(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(Se){let Me={type:"root",children:[]};const ot={stack:[Me],tokenStack:[],config:t,enter:a,exit:c,buffer:o,resume:f,data:n},pt=[];let zt=-1;for(;++zt<Se.length;)if(Se[zt][1].type==="listOrdered"||Se[zt][1].type==="listUnordered")if(Se[zt][0]==="enter")pt.push(zt);else{const Bn=pt.pop();zt=i(Se,Bn,zt)}for(zt=-1;++zt<Se.length;){const Bn=t[Se[zt][0]];FN.call(Bn,Se[zt][1].type)&&Bn[Se[zt][1].type].call(Object.assign({sliceSerialize:Se[zt][2].sliceSerialize},ot),Se[zt][1])}if(ot.tokenStack.length>0){const Bn=ot.tokenStack[ot.tokenStack.length-1];(Bn[1]||gT).call(ot,void 0,Bn[0])}for(Me.position={start:dl(Se.length>0?Se[0][1].start:{line:1,column:1,offset:0}),end:dl(Se.length>0?Se[Se.length-2][1].end:{line:1,column:1,offset:0})},zt=-1;++zt<t.transforms.length;)Me=t.transforms[zt](Me)||Me;return Me}function i(Se,Me,ot){let pt=Me-1,zt=-1,Bn=!1,cr,_r,er,Sr;for(;++pt<=ot;){const qe=Se[pt];switch(qe[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{qe[0]==="enter"?zt++:zt--,Sr=void 0;break}case"lineEndingBlank":{qe[0]==="enter"&&(cr&&!Sr&&!zt&&!er&&(er=pt),Sr=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Sr=void 0}if(!zt&&qe[0]==="enter"&&qe[1].type==="listItemPrefix"||zt===-1&&qe[0]==="exit"&&(qe[1].type==="listUnordered"||qe[1].type==="listOrdered")){if(cr){let Er=pt;for(_r=void 0;Er--;){const Qn=Se[Er];if(Qn[1].type==="lineEnding"||Qn[1].type==="lineEndingBlank"){if(Qn[0]==="exit")continue;_r&&(Se[_r][1].type="lineEndingBlank",Bn=!0),Qn[1].type="lineEnding",_r=Er}else if(!(Qn[1].type==="linePrefix"||Qn[1].type==="blockQuotePrefix"||Qn[1].type==="blockQuotePrefixWhitespace"||Qn[1].type==="blockQuoteMarker"||Qn[1].type==="listItemIndent"))break}er&&(!_r||er<_r)&&(cr._spread=!0),cr.end=Object.assign({},_r?Se[_r][1].start:qe[1].end),Se.splice(_r||pt,0,["exit",cr,qe[2]]),pt++,ot++}if(qe[1].type==="listItemPrefix"){const Er={type:"listItem",_spread:!1,start:Object.assign({},qe[1].start),end:void 0};cr=Er,Se.splice(pt,0,["enter",Er,qe[2]]),pt++,ot++,er=void 0,Sr=!0}}}return Se[Me][1]._spread=Bn,ot}function s(Se,Me){return ot;function ot(pt){a.call(this,Se(pt),pt),Me&&Me.call(this,pt)}}function o(){this.stack.push({type:"fragment",children:[]})}function a(Se,Me,ot){this.stack[this.stack.length-1].children.push(Se),this.stack.push(Se),this.tokenStack.push([Me,ot||void 0]),Se.position={start:dl(Me.start),end:void 0}}function l(Se){return Me;function Me(ot){Se&&Se.call(this,ot),c.call(this,ot)}}function c(Se,Me){const ot=this.stack.pop(),pt=this.tokenStack.pop();if(pt)pt[0].type!==Se.type&&(Me?Me.call(this,Se,pt[0]):(pt[1]||gT).call(this,Se,pt[0]));else throw new Error("Cannot close `"+Se.type+"` ("+Yh({start:Se.start,end:Se.end})+"): its not open");ot.position.end=dl(Se.end)}function f(){return PS(this.stack.pop())}function p(){this.data.expectingFirstListItemValue=!0}function g(Se){if(this.data.expectingFirstListItemValue){const Me=this.stack[this.stack.length-2];Me.start=Number.parseInt(this.sliceSerialize(Se),10),this.data.expectingFirstListItemValue=void 0}}function y(){const Se=this.resume(),Me=this.stack[this.stack.length-1];Me.lang=Se}function x(){const Se=this.resume(),Me=this.stack[this.stack.length-1];Me.meta=Se}function _(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function S(){const Se=this.resume(),Me=this.stack[this.stack.length-1];Me.value=Se.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function C(){const Se=this.resume(),Me=this.stack[this.stack.length-1];Me.value=Se.replace(/(\r?\n|\r)$/g,"")}function I(Se){const Me=this.resume(),ot=this.stack[this.stack.length-1];ot.label=Me,ot.identifier=uo(this.sliceSerialize(Se)).toLowerCase()}function A(){const Se=this.resume(),Me=this.stack[this.stack.length-1];Me.title=Se}function z(){const Se=this.resume(),Me=this.stack[this.stack.length-1];Me.url=Se}function U(Se){const Me=this.stack[this.stack.length-1];if(!Me.depth){const ot=this.sliceSerialize(Se).length;Me.depth=ot}}function O(){this.data.setextHeadingSlurpLineEnding=!0}function N(Se){const Me=this.stack[this.stack.length-1];Me.depth=this.sliceSerialize(Se).codePointAt(0)===61?1:2}function F(){this.data.setextHeadingSlurpLineEnding=void 0}function $(Se){const ot=this.stack[this.stack.length-1].children;let pt=ot[ot.length-1];(!pt||pt.type!=="text")&&(pt=Et(),pt.position={start:dl(Se.start),end:void 0},ot.push(pt)),this.stack.push(pt)}function L(Se){const Me=this.stack.pop();Me.value+=this.sliceSerialize(Se),Me.position.end=dl(Se.end)}function Z(Se){const Me=this.stack[this.stack.length-1];if(this.data.atHardBreak){const ot=Me.children[Me.children.length-1];ot.position.end=dl(Se.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(Me.type)&&($.call(this,Se),L.call(this,Se))}function Y(){this.data.atHardBreak=!0}function he(){const Se=this.resume(),Me=this.stack[this.stack.length-1];Me.value=Se}function G(){const Se=this.resume(),Me=this.stack[this.stack.length-1];Me.value=Se}function W(){const Se=this.resume(),Me=this.stack[this.stack.length-1];Me.value=Se}function Q(){const Se=this.stack[this.stack.length-1];if(this.data.inReference){const Me=this.data.referenceType||"shortcut";Se.type+="Reference",Se.referenceType=Me,delete Se.url,delete Se.title}else delete Se.identifier,delete Se.label;this.data.referenceType=void 0}function te(){const Se=this.stack[this.stack.length-1];if(this.data.inReference){const Me=this.data.referenceType||"shortcut";Se.type+="Reference",Se.referenceType=Me,delete Se.url,delete Se.title}else delete Se.identifier,delete Se.label;this.data.referenceType=void 0}function X(Se){const Me=this.sliceSerialize(Se),ot=this.stack[this.stack.length-2];ot.label=gle(Me),ot.identifier=uo(Me).toLowerCase()}function fe(){const Se=this.stack[this.stack.length-1],Me=this.resume(),ot=this.stack[this.stack.length-1];if(this.data.inReference=!0,ot.type==="link"){const pt=Se.children;ot.children=pt}else ot.alt=Me}function B(){const Se=this.resume(),Me=this.stack[this.stack.length-1];Me.url=Se}function ee(){const Se=this.resume(),Me=this.stack[this.stack.length-1];Me.title=Se}function ge(){this.data.inReference=void 0}function V(){this.data.referenceType="collapsed"}function Te(Se){const Me=this.resume(),ot=this.stack[this.stack.length-1];ot.label=Me,ot.identifier=uo(this.sliceSerialize(Se)).toLowerCase(),this.data.referenceType="full"}function Ce(Se){this.data.characterReferenceType=Se.type}function ke(Se){const Me=this.sliceSerialize(Se),ot=this.data.characterReferenceType;let pt;ot?(pt=oN(Me,ot==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):pt=MS(Me);const zt=this.stack[this.stack.length-1];zt.value+=pt}function Ve(Se){const Me=this.stack.pop();Me.position.end=dl(Se.end)}function Ue(Se){L.call(this,Se);const Me=this.stack[this.stack.length-1];Me.url=this.sliceSerialize(Se)}function mt(Se){L.call(this,Se);const Me=this.stack[this.stack.length-1];Me.url="mailto:"+this.sliceSerialize(Se)}function De(){return{type:"blockquote",children:[]}}function lr(){return{type:"code",lang:null,meta:null,value:""}}function dt(){return{type:"inlineCode",value:""}}function gn(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function _n(){return{type:"emphasis",children:[]}}function vn(){return{type:"heading",depth:0,children:[]}}function wr(){return{type:"break"}}function Ri(){return{type:"html",value:""}}function Gi(){return{type:"image",title:null,url:"",alt:null}}function gi(){return{type:"link",title:null,url:"",children:[]}}function Tt(Se){return{type:"list",ordered:Se.type==="listOrdered",start:null,spread:Se._spread,children:[]}}function un(Se){return{type:"listItem",spread:Se._spread,checked:null,children:[]}}function jt(){return{type:"paragraph",children:[]}}function en(){return{type:"strong",children:[]}}function Et(){return{type:"text",value:""}}function Fn(){return{type:"thematicBreak"}}}function dl(e){return{line:e.line,column:e.column,offset:e.offset}}function BN(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?BN(e,r):Qde(e,r)}}function Qde(e,t){let n;for(n in t)if(FN.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function gT(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Yh({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Yh({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Yh({start:t.start,end:t.end})+") is still open")}function Kde(e){const t=this;t.parser=n;function n(r){return Vde(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function Gde(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function Yde(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function Jde(e,t){const n=t.value?t.value+`
`:"",r={},i=t.lang?t.lang.split(/\s+/):[];i.length>0&&(r.className=["language-"+i[0]]);let s={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(s.data={meta:t.meta}),e.patch(t,s),s=e.applyData(t,s),s={type:"element",tagName:"pre",properties:{},children:[s]},e.patch(t,s),s}function Xde(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Zde(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function efe(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),i=wf(r.toLowerCase()),s=e.footnoteOrder.indexOf(r);let o,a=e.footnoteCounts.get(r);a===void 0?(a=0,e.footnoteOrder.push(r),o=e.footnoteOrder.length):o=s+1,a+=1,e.footnoteCounts.set(r,a);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(a>1?"-"+a:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};e.patch(t,l);const c={type:"element",tagName:"sup",properties:{},children:[l]};return e.patch(t,c),e.applyData(t,c)}function tfe(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function nfe(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function $N(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const i=e.all(t),s=i[0];s&&s.type==="text"?s.value="["+s.value:i.unshift({type:"text",value:"["});const o=i[i.length-1];return o&&o.type==="text"?o.value+=r:i.push({type:"text",value:r}),i}function rfe(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return $N(e,t);const i={src:wf(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,s),e.applyData(t,s)}function ife(e,t){const n={src:wf(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function sfe(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function ofe(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return $N(e,t);const i={href:wf(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,s),e.applyData(t,s)}function afe(e,t){const n={href:wf(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function lfe(e,t,n){const r=e.all(t),i=n?cfe(n):zN(t),s={},o=[];if(typeof t.checked=="boolean"){const f=r[0];let p;f&&f.type==="element"&&f.tagName==="p"?p=f:(p={type:"element",tagName:"p",properties:{},children:[]},r.unshift(p)),p.children.length>0&&p.children.unshift({type:"text",value:" "}),p.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let a=-1;for(;++a<r.length;){const f=r[a];(i||a!==0||f.type!=="element"||f.tagName!=="p")&&o.push({type:"text",value:`
`}),f.type==="element"&&f.tagName==="p"&&!i?o.push(...f.children):o.push(f)}const l=r[r.length-1];l&&(i||l.type!=="element"||l.tagName!=="p")&&o.push({type:"text",value:`
`});const c={type:"element",tagName:"li",properties:s,children:o};return e.patch(t,c),e.applyData(t,c)}function cfe(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=zN(n[r])}return t}function zN(e){const t=e.spread;return t??e.children.length>1}function ufe(e,t){const n={},r=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++i<r.length;){const o=r[i];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const s={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,s),e.applyData(t,s)}function dfe(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function ffe(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function hfe(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function pfe(e,t){const n=e.all(t),r=n.shift(),i=[];if(r){const o={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],o),i.push(o)}if(n.length>0){const o={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},a=$S(t.children[1]),l=RN(t.children[t.children.length-1]);a&&l&&(o.position={start:a,end:l}),i.push(o)}const s={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,s),e.applyData(t,s)}function mfe(e,t,n){const r=n?n.children:void 0,s=(r?r.indexOf(t):1)===0?"th":"td",o=n&&n.type==="table"?n.align:void 0,a=o?o.length:t.children.length;let l=-1;const c=[];for(;++l<a;){const p=t.children[l],g={},y=o?o[l]:void 0;y&&(g.align=y);let x={type:"element",tagName:s,properties:g,children:[]};p&&(x.children=e.all(p),e.patch(p,x),x=e.applyData(p,x)),c.push(x)}const f={type:"element",tagName:"tr",properties:{},children:e.wrap(c,!0)};return e.patch(t,f),e.applyData(t,f)}function gfe(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const yT=9,vT=32;function yfe(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),i=0;const s=[];for(;r;)s.push(bT(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return s.push(bT(t.slice(i),i>0,!1)),s.join("")}function bT(e,t,n){let r=0,i=e.length;if(t){let s=e.codePointAt(r);for(;s===yT||s===vT;)r++,s=e.codePointAt(r)}if(n){let s=e.codePointAt(i-1);for(;s===yT||s===vT;)i--,s=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function vfe(e,t){const n={type:"text",value:yfe(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function bfe(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const xfe={blockquote:Gde,break:Yde,code:Jde,delete:Xde,emphasis:Zde,footnoteReference:efe,heading:tfe,html:nfe,imageReference:rfe,image:ife,inlineCode:sfe,linkReference:ofe,link:afe,listItem:lfe,list:ufe,paragraph:dfe,root:ffe,strong:hfe,table:pfe,tableCell:gfe,tableRow:mfe,text:vfe,thematicBreak:bfe,toml:o0,yaml:o0,definition:o0,footnoteDefinition:o0};function o0(){}const UN=-1,z1=0,Jh=1,Ty=2,WS=3,VS=4,qS=5,QS=6,HN=7,WN=8,xT=typeof self=="object"?self:globalThis,wfe=(e,t)=>{const n=(i,s)=>(e.set(s,i),i),r=i=>{if(e.has(i))return e.get(i);const[s,o]=t[i];switch(s){case z1:case UN:return n(o,i);case Jh:{const a=n([],i);for(const l of o)a.push(r(l));return a}case Ty:{const a=n({},i);for(const[l,c]of o)a[r(l)]=r(c);return a}case WS:return n(new Date(o),i);case VS:{const{source:a,flags:l}=o;return n(new RegExp(a,l),i)}case qS:{const a=n(new Map,i);for(const[l,c]of o)a.set(r(l),r(c));return a}case QS:{const a=n(new Set,i);for(const l of o)a.add(r(l));return a}case HN:{const{name:a,message:l}=o;return n(new xT[a](l),i)}case WN:return n(BigInt(o),i);case"BigInt":return n(Object(BigInt(o)),i);case"ArrayBuffer":return n(new Uint8Array(o).buffer,o);case"DataView":{const{buffer:a}=new Uint8Array(o);return n(new DataView(a),o)}}return n(new xT[s](o),i)};return r},wT=e=>wfe(new Map,e)(0),bd="",{toString:_fe}={},{keys:Sfe}=Object,Sh=e=>{const t=typeof e;if(t!=="object"||!e)return[z1,t];const n=_fe.call(e).slice(8,-1);switch(n){case"Array":return[Jh,bd];case"Object":return[Ty,bd];case"Date":return[WS,bd];case"RegExp":return[VS,bd];case"Map":return[qS,bd];case"Set":return[QS,bd];case"DataView":return[Jh,n]}return n.includes("Array")?[Jh,n]:n.includes("Error")?[HN,n]:[Ty,n]},a0=([e,t])=>e===z1&&(t==="function"||t==="symbol"),Efe=(e,t,n,r)=>{const i=(o,a)=>{const l=r.push(o)-1;return n.set(a,l),l},s=o=>{if(n.has(o))return n.get(o);let[a,l]=Sh(o);switch(a){case z1:{let f=o;switch(l){case"bigint":a=WN,f=o.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+l);f=null;break;case"undefined":return i([UN],o)}return i([a,f],o)}case Jh:{if(l){let g=o;return l==="DataView"?g=new Uint8Array(o.buffer):l==="ArrayBuffer"&&(g=new Uint8Array(o)),i([l,[...g]],o)}const f=[],p=i([a,f],o);for(const g of o)f.push(s(g));return p}case Ty:{if(l)switch(l){case"BigInt":return i([l,o.toString()],o);case"Boolean":case"Number":case"String":return i([l,o.valueOf()],o)}if(t&&"toJSON"in o)return s(o.toJSON());const f=[],p=i([a,f],o);for(const g of Sfe(o))(e||!a0(Sh(o[g])))&&f.push([s(g),s(o[g])]);return p}case WS:return i([a,o.toISOString()],o);case VS:{const{source:f,flags:p}=o;return i([a,{source:f,flags:p}],o)}case qS:{const f=[],p=i([a,f],o);for(const[g,y]of o)(e||!(a0(Sh(g))||a0(Sh(y))))&&f.push([s(g),s(y)]);return p}case QS:{const f=[],p=i([a,f],o);for(const g of o)(e||!a0(Sh(g)))&&f.push(s(g));return p}}const{message:c}=o;return i([a,{name:l,message:c}],o)};return s},_T=(e,{json:t,lossy:n}={})=>{const r=[];return Efe(!(t||n),!!t,new Map,r)(e),r},jy=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?wT(_T(e,t)):structuredClone(e):(e,t)=>wT(_T(e,t));function Cfe(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function kfe(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function Tfe(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||Cfe,r=e.options.footnoteBackLabel||kfe,i=e.options.footnoteLabel||"Footnotes",s=e.options.footnoteLabelTagName||"h2",o=e.options.footnoteLabelProperties||{className:["sr-only"]},a=[];let l=-1;for(;++l<e.footnoteOrder.length;){const c=e.footnoteById.get(e.footnoteOrder[l]);if(!c)continue;const f=e.all(c),p=String(c.identifier).toUpperCase(),g=wf(p.toLowerCase());let y=0;const x=[],_=e.footnoteCounts.get(p);for(;_!==void 0&&++y<=_;){x.length>0&&x.push({type:"text",value:" "});let I=typeof n=="string"?n:n(l,y);typeof I=="string"&&(I={type:"text",value:I}),x.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+g+(y>1?"-"+y:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(l,y),className:["data-footnote-backref"]},children:Array.isArray(I)?I:[I]})}const S=f[f.length-1];if(S&&S.type==="element"&&S.tagName==="p"){const I=S.children[S.children.length-1];I&&I.type==="text"?I.value+=" ":S.children.push({type:"text",value:" "}),S.children.push(...x)}else f.push(...x);const C={type:"element",tagName:"li",properties:{id:t+"fn-"+g},children:e.wrap(f,!0)};e.patch(c,C),a.push(C)}if(a.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:s,properties:{...jy(o),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(a,!0)},{type:"text",value:`
`}]}}const k_={}.hasOwnProperty,jfe={};function Ife(e,t){const n=t||jfe,r=new Map,i=new Map,s=new Map,o={...xfe,...n.handlers},a={all:c,applyData:Nfe,definitionById:r,footnoteById:i,footnoteCounts:s,footnoteOrder:[],handlers:o,one:l,options:n,patch:Rfe,wrap:Pfe};return OS(e,function(f){if(f.type==="definition"||f.type==="footnoteDefinition"){const p=f.type==="definition"?r:i,g=String(f.identifier).toUpperCase();p.has(g)||p.set(g,f)}}),a;function l(f,p){const g=f.type,y=a.handlers[g];if(k_.call(a.handlers,g)&&y)return y(a,f,p);if(a.options.passThrough&&a.options.passThrough.includes(g)){if("children"in f){const{children:_,...S}=f,C=jy(S);return C.children=a.all(f),C}return jy(f)}return(a.options.unknownHandler||Ofe)(a,f,p)}function c(f){const p=[];if("children"in f){const g=f.children;let y=-1;for(;++y<g.length;){const x=a.one(g[y],f);if(x){if(y&&g[y-1].type==="break"&&(!Array.isArray(x)&&x.type==="text"&&(x.value=ST(x.value)),!Array.isArray(x)&&x.type==="element")){const _=x.children[0];_&&_.type==="text"&&(_.value=ST(_.value))}Array.isArray(x)?p.push(...x):p.push(x)}}}return p}}function Rfe(e,t){e.position&&(t.position=Jue(e))}function Nfe(e,t){let n=t;if(e&&e.data){const r=e.data.hName,i=e.data.hChildren,s=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const o="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:o}}n.type==="element"&&s&&Object.assign(n.properties,jy(s)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function Ofe(e,t){const n=t.data||{},r="value"in t&&!(k_.call(n,"hProperties")||k_.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function Pfe(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function ST(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function ET(e,t){const n=Ife(e,t),r=n.one(e,void 0),i=Tfe(n),s=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&s.children.push({type:"text",value:`
`},i),s}function Afe(e,t){return e&&"run"in e?async function(n,r){const i=ET(n,{file:r,...t});await e.run(i,r)}:function(n,r){return ET(n,{file:r,...e||t})}}function CT(e){if(e)throw e}var Ix,kT;function Mfe(){if(kT)return Ix;kT=1;var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,i=function(c){return typeof Array.isArray=="function"?Array.isArray(c):t.call(c)==="[object Array]"},s=function(c){if(!c||t.call(c)!=="[object Object]")return!1;var f=e.call(c,"constructor"),p=c.constructor&&c.constructor.prototype&&e.call(c.constructor.prototype,"isPrototypeOf");if(c.constructor&&!f&&!p)return!1;var g;for(g in c);return typeof g>"u"||e.call(c,g)},o=function(c,f){n&&f.name==="__proto__"?n(c,f.name,{enumerable:!0,configurable:!0,value:f.newValue,writable:!0}):c[f.name]=f.newValue},a=function(c,f){if(f==="__proto__")if(e.call(c,f)){if(r)return r(c,f).value}else return;return c[f]};return Ix=function l(){var c,f,p,g,y,x,_=arguments[0],S=1,C=arguments.length,I=!1;for(typeof _=="boolean"&&(I=_,_=arguments[1]||{},S=2),(_==null||typeof _!="object"&&typeof _!="function")&&(_={});S<C;++S)if(c=arguments[S],c!=null)for(f in c)p=a(_,f),g=a(c,f),_!==g&&(I&&g&&(s(g)||(y=i(g)))?(y?(y=!1,x=p&&i(p)?p:[]):x=p&&s(p)?p:{},o(_,{name:f,newValue:l(I,x,g)})):typeof g<"u"&&o(_,{name:f,newValue:g}));return _},Ix}var Dfe=Mfe();const Rx=ds(Dfe);function T_(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function Lfe(){const e=[],t={run:n,use:r};return t;function n(...i){let s=-1;const o=i.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);a(null,...i);function a(l,...c){const f=e[++s];let p=-1;if(l){o(l);return}for(;++p<i.length;)(c[p]===null||c[p]===void 0)&&(c[p]=i[p]);i=c,f?Ffe(f,a)(...c):o(null,...c)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function Ffe(e,t){let n;return r;function r(...o){const a=e.length>o.length;let l;a&&o.push(i);try{l=e.apply(this,o)}catch(c){const f=c;if(a&&n)throw f;return i(f)}a||(l&&l.then&&typeof l.then=="function"?l.then(s,i):l instanceof Error?i(l):s(l))}function i(o,...a){n||(n=!0,t(o,...a))}function s(o){i(null,o)}}const Oo={basename:Bfe,dirname:$fe,extname:zfe,join:Ufe,sep:"/"};function Bfe(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');sm(e);let n=0,r=-1,i=e.length,s;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(s){n=i+1;break}}else r<0&&(s=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let o=-1,a=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(s){n=i+1;break}}else o<0&&(s=!0,o=i+1),a>-1&&(e.codePointAt(i)===t.codePointAt(a--)?a<0&&(r=i):(a=-1,r=o));return n===r?r=o:r<0&&(r=e.length),e.slice(n,r)}function $fe(e){if(sm(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function zfe(e){sm(e);let t=e.length,n=-1,r=0,i=-1,s=0,o;for(;t--;){const a=e.codePointAt(t);if(a===47){if(o){r=t+1;break}continue}n<0&&(o=!0,n=t+1),a===46?i<0?i=t:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||n<0||s===0||s===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function Ufe(...e){let t=-1,n;for(;++t<e.length;)sm(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":Hfe(n)}function Hfe(e){sm(e);const t=e.codePointAt(0)===47;let n=Wfe(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function Wfe(e,t){let n="",r=0,i=-1,s=0,o=-1,a,l;for(;++o<=e.length;){if(o<e.length)a=e.codePointAt(o);else{if(a===47)break;a=47}if(a===47){if(!(i===o-1||s===1))if(i!==o-1&&s===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),i=o,s=0;continue}}else if(n.length>0){n="",r=0,i=o,s=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,o):n=e.slice(i+1,o),r=o-i-1;i=o,s=0}else a===46&&s>-1?s++:s=-1}return n}function sm(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const Vfe={cwd:qfe};function qfe(){return"/"}function j_(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function Qfe(e){if(typeof e=="string")e=new URL(e);else if(!j_(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return Kfe(e)}function Kfe(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const Nx=["history","path","basename","stem","extname","dirname"];class VN{constructor(t){let n;t?j_(t)?n={path:t}:typeof t=="string"||Gfe(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":Vfe.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<Nx.length;){const s=Nx[r];s in n&&n[s]!==void 0&&n[s]!==null&&(this[s]=s==="history"?[...n[s]]:n[s])}let i;for(i in n)Nx.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?Oo.basename(this.path):void 0}set basename(t){Px(t,"basename"),Ox(t,"basename"),this.path=Oo.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?Oo.dirname(this.path):void 0}set dirname(t){TT(this.basename,"dirname"),this.path=Oo.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?Oo.extname(this.path):void 0}set extname(t){if(Ox(t,"extname"),TT(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Oo.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){j_(t)&&(t=Qfe(t)),Px(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?Oo.basename(this.path,this.extname):void 0}set stem(t){Px(t,"stem"),Ox(t,"stem"),this.path=Oo.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=void 0,i}message(t,n,r){const i=new mi(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function Ox(e,t){if(e&&e.includes(Oo.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Oo.sep+"`")}function Px(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function TT(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function Gfe(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const Yfe=(function(e){const r=this.constructor.prototype,i=r[e],s=function(){return i.apply(s,arguments)};return Object.setPrototypeOf(s,r),s}),Jfe={}.hasOwnProperty;class KS extends Yfe{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=Lfe()}copy(){const t=new KS;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(Rx(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(Dx("data",this.frozen),this.namespace[t]=n,this):Jfe.call(this.namespace,t)&&this.namespace[t]||void 0:t?(Dx("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(t,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=l0(t),r=this.parser||this.Parser;return Ax("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),Ax("process",this.parser||this.Parser),Mx("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(s,o){const a=l0(t),l=r.parse(a);r.run(l,a,function(f,p,g){if(f||!p||!g)return c(f);const y=p,x=r.stringify(y,g);ehe(x)?g.value=x:g.result=x,c(f,g)});function c(f,p){f||!p?o(f):s?s(p):n(void 0,p)}}}processSync(t){let n=!1,r;return this.freeze(),Ax("processSync",this.parser||this.Parser),Mx("processSync",this.compiler||this.Compiler),this.process(t,i),IT("processSync","process",n),r;function i(s,o){n=!0,CT(s),r=o}}run(t,n,r){jT(t),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?s(void 0,r):new Promise(s);function s(o,a){const l=l0(n);i.run(t,l,c);function c(f,p,g){const y=p||t;f?a(f):o?o(y):r(void 0,y,g)}}}runSync(t,n){let r=!1,i;return this.run(t,n,s),IT("runSync","run",r),i;function s(o,a){CT(o),i=a,r=!0}}stringify(t,n){this.freeze();const r=l0(n),i=this.compiler||this.Compiler;return Mx("stringify",i),jT(t),i(t,r)}use(t,...n){const r=this.attachers,i=this.namespace;if(Dx("use",this.frozen),t!=null)if(typeof t=="function")l(t,n);else if(typeof t=="object")Array.isArray(t)?a(t):o(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function s(c){if(typeof c=="function")l(c,[]);else if(typeof c=="object")if(Array.isArray(c)){const[f,...p]=c;l(f,p)}else o(c);else throw new TypeError("Expected usable value, not `"+c+"`")}function o(c){if(!("plugins"in c)&&!("settings"in c))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");a(c.plugins),c.settings&&(i.settings=Rx(!0,i.settings,c.settings))}function a(c){let f=-1;if(c!=null)if(Array.isArray(c))for(;++f<c.length;){const p=c[f];s(p)}else throw new TypeError("Expected a list of plugins, not `"+c+"`")}function l(c,f){let p=-1,g=-1;for(;++p<r.length;)if(r[p][0]===c){g=p;break}if(g===-1)r.push([c,...f]);else if(f.length>0){let[y,...x]=f;const _=r[g][1];T_(_)&&T_(y)&&(y=Rx(!0,_,y)),r[g]=[c,y,...x]}}}}const Xfe=new KS().freeze();function Ax(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function Mx(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function Dx(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function jT(e){if(!T_(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function IT(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function l0(e){return Zfe(e)?e:new VN(e)}function Zfe(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function ehe(e){return typeof e=="string"||the(e)}function the(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const nhe="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",RT=[],NT={allowDangerousHtml:!0},rhe=/^(https?|ircs?|mailto|xmpp)$/i,ihe=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function she(e){const t=ohe(e),n=ahe(e);return lhe(t.runSync(t.parse(n),n),e)}function ohe(e){const t=e.rehypePlugins||RT,n=e.remarkPlugins||RT,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...NT}:NT;return Xfe().use(Kde).use(n).use(Afe,r).use(t)}function ahe(e){const t=e.children||"",n=new VN;return typeof t=="string"&&(n.value=t),n}function lhe(e,t){const n=t.allowedElements,r=t.allowElement,i=t.components,s=t.disallowedElements,o=t.skipHtml,a=t.unwrapDisallowed,l=t.urlTransform||che;for(const f of ihe)Object.hasOwn(t,f.from)&&(""+f.from+(f.to?"use `"+f.to+"` instead":"remove it")+nhe+f.id,void 0);return OS(e,c),nde(e,{Fragment:h.Fragment,components:i,ignoreInvalidStyle:!0,jsx:h.jsx,jsxs:h.jsxs,passKeys:!0,passNode:!0});function c(f,p,g){if(f.type==="raw"&&g&&typeof p=="number")return o?g.children.splice(p,1):g.children[p]={type:"text",value:f.value},p;if(f.type==="element"){let y;for(y in jx)if(Object.hasOwn(jx,y)&&Object.hasOwn(f.properties,y)){const x=f.properties[y],_=jx[y];(_===null||_.includes(f.tagName))&&(f.properties[y]=l(String(x||""),y,f))}}if(f.type==="element"){let y=n?!n.includes(f.tagName):s?s.includes(f.tagName):!1;if(!y&&r&&typeof p=="number"&&(y=!r(f,p,g)),y&&g&&typeof p=="number")return a&&f.children?g.children.splice(p,1,...f.children):g.children.splice(p,1),p}}}function che(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),i=e.indexOf("/");return t===-1||i!==-1&&t>i||n!==-1&&t>n||r!==-1&&t>r||rhe.test(e.slice(0,t))?e:""}const uhe=async()=>await n1("/faq.json");function dhe(){return po({queryKey:["faq"],queryFn:uhe,staleTime:1/0,select:e=>e.faq.map((t,n)=>({...t,id:n}))})}const fhe=e=>R.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:14,height:16,viewBox:"0 0 14 16",...e},R.createElement("defs",null,R.createElement("clipPath",{id:"master_svg0_137_3346"},R.createElement("rect",{x:0,y:0,width:14,height:16,rx:0}))),R.createElement("g",{clipPath:"url(#master_svg0_137_3346)"},R.createElement("g",{transform:"matrix(1,0,0,-1,0,26.6875)"},R.createElement("g",null,R.createElement("path",{d:"M6.28125,13.625Q6.59375,13.34375,7,13.34375Q7.40625,13.34375,7.71875,13.625L13.7188,19.625Q14,19.9375,14,20.34375Q14,20.75,13.7188,21.0625Q13.4062,21.34375,13,21.34375Q12.5938,21.34375,12.2812,21.0625L7,15.75L1.71875,21.0625Q1.40625,21.34375,1,21.34375Q0.59375,21.34375,0.28125,21.0625Q0,20.75,0,20.34375Q0,19.9375,0.28125,19.625L6.28125,13.625Z",fill:"#9CA3AF",fillOpacity:1,style:{mixBlendMode:"passthrough"}}))))),hhe={h2:e=>h.jsx("h2",{...e,className:"text-lg font-bold my-4"}),h3:e=>h.jsx("h3",{...e,className:"text-base font-bold my-4"}),a:e=>h.jsx("a",{...e,className:"text-blue-500 underline"})},phe={all:"",timetable:"",wishes:"",simulation:"",live:""};function mhe(e){return Array.from(new Set(e))}function ghe(){const e=ho(),t=e.hash,n=t?Number.parseInt(t.replace("#","")):null,[r,i]=R.useState(n),{data:s}=dhe(),[o,a]=R.useState(null),l=mhe(s?.map(g=>g.tag)??[]),c=o?s?.filter(g=>g.tag===o):s,f=g=>{i(r===g?null:g)};R.useEffect(()=>{if(e.hash){const g=Number.parseInt(e.hash.replace("#",""));setTimeout(()=>{const y=document.getElementById("faq-container-"+g);y&&(y.scrollIntoView({behavior:"smooth"}),i(g))},300)}},[e.hash]);const p=g=>{a(y=>y===g?null:g)};return h.jsxs(h.Fragment,{children:[h.jsxs(ni,{children:[h.jsx("title",{children:"ALLCLL |   "}),h.jsx("meta",{name:"description",content:"    ."})]}),h.jsx("div",{className:"mx-auto max-w-7xl px-4 md:px-16 py-24",children:h.jsxs(je,{direction:"flex-col",gap:"gap-4",children:[h.jsx(Vt,{level:1,children:"  "}),h.jsx(je,{direction:"flex-wrap",gap:"gap-2",className:"mb-6",children:l.length>0&&l.map((g,y)=>h.jsx(Xn,{label:phe[g]||g,onClick:()=>p(g),selected:o===g},"faq-chip-"+y))}),c&&c.map(g=>h.jsx(yhe,{item:g,index:g.id,isOpen:r===g.id,toggleAnswer:f},g.id))]})})]})}function yhe({item:e,index:t,isOpen:n,toggleAnswer:r}){return h.jsxs("div",{id:"faq-container-"+t,className:"mb-4 rounded-md bg-white shadow-sm",children:[h.jsxs("button",{onClick:()=>r(t),className:"flex items-center justify-between rounded-md w-full text-left font-semibold text-md p-4 hover:bg-blue-50 focus:outline-none cursor-pointer "+(n?"text-blue-600 font-bold":""),children:[e.question,h.jsx(fhe,{className:"w-4 h-4 transform transition-transform duration-150 "+(n?"rotate-180":"")})]}),n&&h.jsx("div",{className:"p-4 border-t border-gray-200 text-sm",children:h.jsx(she,{remarkPlugins:[Tue],components:hhe,children:e.answer})})]},t)}const vhe=e=>R.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:16.508930206298828,height:16.008333206176758,viewBox:"0 0 16.508930206298828 16.008333206176758",...e},R.createElement("g",{transform:"matrix(1,0,0,-1,0,32.016666412353516)"},R.createElement("path",{d:"M8.25446,32.016633206176756Q8.72321,31.985433206176758,8.94196,31.579133206176756L11.067,27.172933206176758L15.8482,26.485433206176758Q16.317,26.391633206176756,16.4732,25.95416320617676Q16.5982,25.51666320617676,16.2857,25.20416320617676L12.817,21.76666320617676L13.6295,16.891666206176758Q13.692,16.454166206176758,13.317,16.141666206176758Q12.942,15.891666206176758,12.5357,16.110416206176758L8.25446,18.39166320617676L3.97321,16.110416206176758Q3.56696,15.891666206176758,3.19196,16.172916206176758Q2.81696,16.454166206176758,2.87946,16.891666206176758L3.69196,21.76666320617676L0.223214,25.20416320617676Q-0.0892857,25.51666320617676,0.0357143,25.95416320617676Q0.191964,26.391633206176756,0.660714,26.485433206176758L5.44196,27.172933206176758L7.56696,31.579133206176756Q7.78571,31.985433206176758,8.25446,32.016633206176756ZM8.25446,29.547933206176758L6.59821,26.172933206176758L8.25446,29.547933206176758L6.59821,26.172933206176758Q6.44196,25.82916320617676,6.03571,25.73541320617676L2.34821,25.20416320617676L5.03571,22.54791320617676Q5.28571,22.26666320617676,5.25446,21.89166320617676L4.59821,18.14166320617676L7.91071,19.89166320617676Q8.25446,20.07916320617676,8.59821,19.89166320617676L11.8795,18.14166320617676L11.2545,21.89166320617676Q11.192,22.26666320617676,11.4732,22.54791320617676L14.1607,25.20416320617676L10.4732,25.73541320617676Q10.067,25.82916320617676,9.91071,26.172933206176758L8.25446,29.547933206176758Z",fill:"#9CA3AF",fillOpacity:1,style:{mixBlendMode:"passthrough"}}))),bhe=e=>R.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:16.505903244018555,height:16.001562118530273,viewBox:"0 0 16.505903244018555 16.001562118530273",...e},R.createElement("g",{transform:"matrix(1,0,0,-1,0,32.00312423706055)"},R.createElement("path",{d:"M9.15,31.440662118530273Q8.86875,31.971862118530275,8.24375,32.00316211853027Q7.65,31.971862118530275,7.3375,31.440662118530273L5.3375,27.315662118530273L0.8375,26.628162118530273Q0.24375,26.534362118530275,0.05625,25.97187211853027Q-0.13125,25.37812211853027,0.30625,24.94062211853027L3.55625,21.72187211853027L2.775,17.159372118530275Q2.7125,16.565625118530274,3.18125,16.190625118530274Q3.68125,15.846875118530274,4.24375,16.128125118530274L8.24375,18.253122118530275L12.275,16.128125118530274Q12.8062,15.846875118530274,13.3062,16.190625118530274Q13.8062,16.565625118530274,13.7125,17.159372118530275L12.9625,21.72187211853027L16.2125,24.94062211853027Q16.6187,25.37812211853027,16.4625,25.97187211853027Q16.2437,26.534362118530275,15.65,26.628162118530273L11.15,27.315662118530273L9.15,31.440662118530273Z",fill:"#FACC15",fillOpacity:1,style:{mixBlendMode:"passthrough"}})));function qN({disabled:e}){return e?h.jsx(vhe,{className:"w-4 h-4"}):h.jsx(bhe,{className:"w-4 h-4"})}function QN({subject:e,variant:t="contain",className:n,onClick:r,...i}){const s=g_(c=>c.isFavorite(e.subjectId)),o=g_(c=>c.toggleFavorite),a=s?" ":" ",l=c=>{o(e.subjectId),r&&r(c)};return h.jsx(Ar,{variant:t,onClick:l,label:a,icon:h.jsx(qN,{disabled:!s}),"aria-label":a,className:n,...i})}const xhe=[{title:"",visible:!0,key:"subjectCode"},{title:"",visible:!0,key:"classCode"},{title:" ",visible:!0,key:"departmentName"},{title:"",visible:!0,key:"subjectName"},{title:"",visible:!0,key:"professorName"},{title:"",visible:!0,key:"totalCount"},{title:"",visible:!0,key:"seat"},{title:"",visible:!1,key:"studentYear"},{title:"",visible:!1,key:"lesnTime"},{title:"",visible:!1,key:"lesnRoom"},{title:"",visible:!1,key:"tmNum"},{title:"",visible:!1,key:"remark"},{title:"",visible:!1,key:"curiTypeCdNm"},{title:"",visible:!1,key:"curiLangNm"}],I_=zR("wishes",xhe);function whe(e){const t=I_(o=>o.tableTitles),n=!!(e&&e[0]&&"seat"in e[0]),r=e&&e[0]&&"totalCount"in e[0],{isPreSeatAvailable:i}=N1({hasSeats:n});let s=[{title:"",visible:!0,key:""},...t.filter(o=>o.visible)];return r||(s=s.filter(o=>o.key!=="totalCount")),i||(s=s.filter(o=>o.key!=="seat")),s}function _he(e,t=!0){const n=e.curiLangNm==="";return e.isDeleted?t?"bg-gray-100 hover:bg-gray-200":"bg-gray-100":n?t?"bg-green-50 hover:bg-green-100":"bg-green-50":t?"bg-white hover:bg-gray-100":"bg-white"}function KN({data:e,isPending:t=!1,placeholder:n}){const r=whe(e);return h.jsxs("table",{className:"w-full bg-white rounded-lg relative text-sm",children:[h.jsx("thead",{children:h.jsx("tr",{className:"bg-gray-50 sticky top-0 z-10 text-nowrap",children:r.map(({title:i})=>h.jsx("th",{className:"px-4 py-2",children:i},"table-header-name-"+i))})}),h.jsx("tbody",{children:h.jsx(She,{headers:r,data:e,isPending:t,placeholder:n})})]})}function She({headers:e,data:t,isPending:n=!1,placeholder:r}){const{visibleRows:i}=P1(t??[],"selector"),s=t?t.slice(0,i):[];return n||!t?h.jsx(O1,{row:5,col:e.length}):t.length?h.jsxs(h.Fragment,{children:[s.map(o=>h.jsx(Ehe,{data:o,tableHeaders:e},`${o.subjectCode} ${o.subjectId} ${o.professorName}`)),h.jsx("tr",{className:"load-more-trigger"})]}):h.jsx(SS,{col:e.length,...r})}const Ehe=({data:e,tableHeaders:t})=>{const n=_he(e,!0);return h.jsxs("tr",{className:`border-t border-gray-200 text-black ${n}`,children:[h.jsx("td",{className:"px-4 py-2",children:h.jsx(je,{align:"items-center",gap:"gap-2",children:h.jsx(QN,{subject:e,variant:"plain"})})}),h.jsx(khe,{data:e,tableHeaders:t})]})},Che=(e,t)=>e.data.subjectId===t.data.subjectId&&"seat"in e=="seat"in t&&e.tableHeaders===t.tableHeaders,khe=R.memo(({data:e,tableHeaders:t})=>{const{selectTargetOnly:n}=Zp();function r(){n(e.subjectId),k1(e.departmentCode??e.deptCd)}return t.slice(1,20).map(({key:i})=>h.jsx("td",{className:"px-4 py-2 text-center",children:h.jsx(ti,{to:`/wishes/${e.subjectId}`,onClick:r,children:h.jsx(The,{data:e,headerType:i})})},i))},Che);function The({data:e,headerType:t}){switch(t){case"":return h.jsx(h.Fragment,{children:""});case"totalCount":return h.jsx(hS,{wishCount:e.totalCount??-1});case"seat":return h.jsx(n_,{seat:e.seat});default:return e[t]?.toString()}}function jhe(){const[e,t]=R.useState(!1),[n,r]=R.useState(!1),i=Ph(N=>N.filters),s=Ph(N=>N.setFilter),o=Ph(N=>N.resetFilters),{keywords:a,favoriteOnly:l}=i,c=I_(N=>N.tableTitles),f=I_(N=>N.setTableTitles),p=hs(),[g,y]=R.useState(!1),{data:x}=uR([]),_=em(x??[]).sort((N,F)=>N.localeCompare(F)).map(N=>N),S=wS(i),C=x&&"seat"in x,{isPreSeatAvailable:I}=N1({hasSeats:C}),A=x&&"totalCount"in x,z=()=>s("favoriteOnly",!l),U=()=>{p?y(!0):r(!0)},O=(N,F)=>{const $=i[N];Array.isArray($)?s(N,$.filter(L=>L!==F)):s(N,Ul[N])};return h.jsxs("div",{className:"flex flex-wrap gap-2 mt-4 lg:flex-wrap lg:flex-row lg:items-center lg:gap-y-0 lg:gap-x-2",children:[e&&h.jsx($R,{initialItems:c,onChange:f,onClose:()=>t(!1)}),n&&h.jsx(jS,{filterStore:Ph,onClose:()=>r(!1)}),g&&h.jsx(IS,{onCloseFiltering:()=>y(!1),filters:i,setFilter:s,resetFilter:o}),h.jsx(Su,{type:"text",placeholder:",      ",value:a,onDelete:()=>s("keywords",""),onChange:N=>s("keywords",N.target.value),className:"w-full"}),h.jsxs("div",{className:"flex items-center flex-wrap mt-2 gap-2",children:[h.jsxs("div",{className:"hidden md:flex flex-wrap gap-2",children:[h.jsx(kS,{setFilter:s,selectedValue:i.department??""}),A&&h.jsx(of,{filterKey:"wishRange",options:Pn.wishRange,selectedValue:i.wishRange??null,setFilter:s,ItemComponent:Xn,isMinMax:!0}),I&&h.jsx(of,{filterKey:"seatRange",options:Pn.seatRange,selectedValue:i.seatRange??null,setFilter:s,ItemComponent:Xn,isMinMax:!0}),h.jsx(or,{filterKey:"days",options:Pn.days,selectedValues:i.days??[],setFilter:s}),h.jsx(or,{filterKey:"credits",options:Pn.credits,selectedValues:i.credits??[],setFilter:s}),h.jsx(or,{filterKey:"grades",options:Pn.grades,selectedValues:i.grades??[],setFilter:s}),i.classroom.length>0&&h.jsx(or,{filterKey:"classroom",options:Pn.classRoom,selectedValues:i.classroom??[],setFilter:s,className:"min-w-max"}),i.note.length>0&&h.jsx(or,{filterKey:"note",options:Pn.remark,selectedValues:i.note??[],setFilter:s}),i.categories.length>0&&h.jsx(or,{filterKey:"categories",options:_,selectedValues:i.categories??[],setFilter:s,className:"min-w-max"})]}),h.jsx(TS,{filters:i,resetFilter:o}),h.jsx(CS,{handleOpenFilter:U}),h.jsx(Ar,{variant:"contain",icon:h.jsx(qN,{disabled:!l}),"aria-label":l?"  ":"  ",label:l?"  ":"  ",onClick:z}),h.jsx(Ar,{variant:"contain",label:" ",icon:h.jsx(RS,{className:"w-5 h-5"}),onClick:()=>t(!0)}),h.jsx(je,{direction:"flex-wrap",gap:"gap-2",className:"w-fit md:hidden",children:S.map(N=>h.jsx(Xn,{variant:"cancel",label:N.label,selected:!0,onClick:()=>O(N.filterKey,N.values)},`${N.filterKey}-${N.values}`))})]})]})}function Ihe(){return h.jsxs(du,{to:"/live",state:{openSearch:!0},className:"inline-flex items-center gap-2 rounded-md border border-blue-500 px-3 py-2 text-sm text-blue-500 hover:bg-blue-50",children:[h.jsx(zl,{}),""]})}function Rhe(){return h.jsxs(h.Fragment,{children:[h.jsxs(ni,{children:[h.jsx("title",{children:"ALLCLL |  "}),h.jsx("meta",{name:"description",content:"    ."})]}),h.jsxs("div",{className:"mx-auto max-w-7xl px-4 md:px-16 mb-8 min-h-screen",children:[h.jsx(Vt,{level:1,className:"mt-2",children:" "}),h.jsxs(Jn,{children:["  ",h.jsx("span",{className:"text-blue-500 font-bold",children:" "})," .   ."]}),h.jsxs(je,{gap:"gap-4",direction:"flex-col",className:"mt-6",children:[h.jsxs(Wn,{children:[h.jsx(Ihe,{}),h.jsx(jhe,{}),h.jsx(vS,{})]}),h.jsx(Wn,{variant:"elevated",className:"mt-6 overflow-x-auto",children:h.jsx(Nhe,{})}),h.jsx(cR,{right:"right-2 sm:right-20"})]})]})]})}function Nhe(){const{data:e,isPending:t}=zo(),n=vf(S1(e,_u)),r=Ph(o=>o.filters),i=R.useDeferredValue(xf(n??[],r)),s={title:"  .",description:"   ."};return h.jsx(KN,{data:i,isPending:t,placeholder:s})}function Ohe({children:e}){return h.jsxs("div",{className:"relative max-h-screen overflow-hidden",children:[h.jsx("div",{style:{filter:"blur(4px"},children:e}),h.jsx("div",{className:"absolute top-0 left-0 w-full h-full flex justify-center items-center",children:h.jsx("p",{className:"text-xl font-bold text-gray-700",children:"  "})})]})}$o.register(h1,xu,bu,Kp,Gp,Yp);const Phe={labels:["4","3","2","1"],datasets:[{data:[50,40,25,20],backgroundColor:"#60a5fa"}]};function Ahe(){return h.jsxs(Ohe,{children:[h.jsx("p",{className:"text-sm text-gray-500",children:"   20%      "}),h.jsx("div",{className:"mt-4",children:h.jsx(Qee,{data:Phe})})]})}$o.register(h1,xu,bu,Kp,Gp,Yp);var GN=(e=>(e.MAJOR="/",e.UNIVERSITY="",e.DEPARTMENT="",e.COLLEGE="",e))(GN||{});function Mhe({data:e,majorName:t}){const[n,r]=R.useState("/"),{data:i}=wu(),s=dte(i),{doughnutData:o,totalCount:a}=Dhe(e,s,t,n);return h.jsxs(h.Fragment,{children:[h.jsxs(je,{justify:"justify-between",align:"items-center",children:[h.jsx(Vt,{level:2,children:" "}),h.jsx(Mr,{className:"hidden",htmlFor:"doughnut-select",children:""}),h.jsx("select",{className:"border px-3 py-1 rounded-md",id:"doughnut-select",value:n,onChange:l=>r(l.target.value),children:Object.values(GN).map(l=>h.jsx("option",{value:l,children:l},l))})]}),a?h.jsx(uS,{data:o}):h.jsx(je,{justify:"justify-center",align:"items-center",className:"h-48",children:h.jsx("p",{className:"text-center text-gray-500 font-semibold",children:"   ."})})]})}function Dhe(e,t,n,r){let i;const{universityDict:s,collegeDict:o}=t;switch(r){case"/":i=pte(n,e);break;case"":i=mte(e,s);break;case"":i=gte(e,o);break;case"":i=n6(e);break;default:i=n6(e);break}const a=yte(e);return{doughnutData:i,totalCount:a}}function Lhe({wishes:e}){const t=e??_u,n=e&&"seat"in e,{isPreSeatAvailable:r}=N1({hasSeats:n}),i=n?e.seat:-1,s=e?.curiLangNm==="",o=e?.isDeleted??!1;return h.jsxs(h.Fragment,{children:[h.jsxs("p",{className:"text-gray-600",children:[t.subjectCode,"-",t.classCode," | ",t.departmentName," | ",t.professorName]}),h.jsxs(je,{gap:"gap-2",align:"items-center",direction:"flex-wrap",className:"text-gray-600 text-sm",children:[h.jsxs("span",{children:[t.studentYear,""]}),h.jsx("span",{children:t.curiTypeCdNm}),h.jsxs("span",{children:[Number(t.tmNum.split("/")[0].trim()),""]}),h.jsxs("span",{children:[" ","| ",t.lesnRoom," | ",t.lesnTime]}),r&&h.jsxs("p",{className:`text-sm px-2 py-1 rounded-full font-bold ${w1(i??-1)}`,children:[": ",(i??-1)<0?"???":i]}),s&&h.jsx(OT,{variant:"success",children:""}),o&&h.jsx(OT,{variant:"danger",children:""})]}),h.jsx("p",{className:"text-sm text-gray-500",children:t.remark})]})}function OT({variant:e,children:t}){const n=Fhe(e);return h.jsx("div",{className:`${n} rounded px-2 py-1 text-xs font-semibold`,children:t})}function Fhe(e){switch(e){case"success":return"bg-green-100 text-green-500 ";case"warning":return"bg-yellow-100 text-yellow-500 ";case"danger":return"bg-red-100 text-red-500 ";case"default":return"bg-gray-100 text-gray-500 ";default:return""}}function YN(e){const{data:t}=zo(),n=S1(t,_u);if(!n)return{isPending:!0};const r=n?.find(i=>i.subjectId===e);return{isPending:!1,data:r,isLastSemesterWish:!r}}function Bhe(e){const{data:t}=zo(),{data:n}=YN(e),r=S1(t,_u),i=n?.subjectCode??"";return r?{isPending:!1,data:r.filter(o=>o.subjectCode===i&&o.subjectId!==e)}:{isPending:!0}}function $he(e){return po({queryKey:["detail-registers",e],queryFn:()=>Cne(e),staleTime:1/0,retry:zhe})}const zhe=(e,t)=>e>=3?!1:!(t instanceof mS);function Uhe(){const e=I8(),t=Number(e.id??"-1"),{data:n,isPending:r,isLastSemesterWish:i}=YN(t),{data:s,error:o}=$he(t),a=n??_u,l=n&&"totalCount"in n;if(r||!a)return h.jsxs(h.Fragment,{children:[h.jsxs(ni,{children:[h.jsx("title",{children:"ALLCLL |   "}),h.jsx("meta",{name:"description",content:"    ."})]}),h.jsx("div",{className:"min-h-screen bg-gray-50 flex justify-center items-center",children:h.jsx("h1",{className:"text-2xl font-bold",children:"Loading..."})})]});if(o)throw o;return h.jsxs(h.Fragment,{children:[h.jsx(ni,{children:h.jsx("title",{children:"ALLCLL |   "})}),i&&h.jsx("p",{className:"bg-red-100 text-red-500 py-2 px-4 font-bold",children:"   .   ."}),h.jsx("div",{className:"min-h-screen bg-gray-50",children:h.jsx("div",{className:"p-6 max-w-5xl mx-auto",children:h.jsxs(Wn,{children:[h.jsxs(je,{justify:"justify-between",align:"items-center",children:[h.jsx(Vt,{level:1,children:a.subjectName}),h.jsxs(je,{gap:"gap-2",children:[h.jsx(QN,{subject:a}),h.jsx(PR,{subject:a})]})]}),h.jsx(Lhe,{wishes:n}),h.jsxs(Gl,{columns:{md:2,base:1},gap:"gap-6",className:" mt-6",children:[h.jsx(Wn,{className:"p-6",children:h.jsx(Mhe,{data:s?.eachDepartmentRegisters??[],majorName:a.departmentName??a.manageDeptNm})}),h.jsxs(Wn,{children:[h.jsxs(je,{gap:"gap-2",align:"items-center",className:"mb-4",children:[h.jsx(Vt,{level:2,children:"  "}),l&&h.jsxs("p",{className:`${Ate(a.totalCount??-1)} font-bold text-xl`,children:[" ",a.totalCount,""]})]}),h.jsx(Ahe,{})]})]}),h.jsxs(Wn,{children:[h.jsx(Vt,{level:2,className:"mt-2",children:" "}),h.jsx(Jn,{children:"   "}),h.jsx("div",{className:"overflow-x-auto",children:h.jsx(Hhe,{subjectId:t})})]})]})})})]})}function Hhe({subjectId:e}){const{data:t}=Bhe(e),n={title:"   ."};return h.jsx(KN,{data:t??[],placeholder:n})}const Mh=()=>{const e=W_();return R.useEffect(()=>{d2(e,{extra:{url:window.location.href,userAgent:navigator.userAgent}})},[e]),h.jsxs(h.Fragment,{children:[h.jsx(ni,{children:h.jsx("title",{children:"ALLCLL |  "})}),h.jsxs("div",{className:"flex flex-col items-center justify-center h-screen",children:[h.jsx("h1",{className:"text-4xl font-bold mb-4",children:" "}),h.jsx("p",{className:"text-lg mb-4",children:" .    "}),h.jsx(ti,{to:"/",className:"text-blue-500",children:" "}),h.jsx("a",{href:"https://forms.gle/bCDTVujEHunnvHe88",target:"_blank",className:"text-blue-500",children:""})]})]})},JN=()=>h.jsxs(h.Fragment,{children:[h.jsx(ni,{children:h.jsx("title",{children:"ALLCLL |    "})}),h.jsxs(je,{direction:"flex-col",align:"items-center",justify:"justify-center",gap:"gap-2",className:"h-screen",children:[h.jsx(Vt,{level:1,children:"404 -    "}),h.jsx("p",{className:"text-lg mb-4",children:"   "}),h.jsx(ti,{to:"/",className:"text-blue-500",children:" "})]})]}),Whe=()=>{const e=W_();return e instanceof mS||e instanceof _ne?h.jsx(JN,{}):h.jsx(Mh,{})},xr=ri((e,t)=>({type:null,props:void 0,openModal:(n,r)=>{e({type:n,props:r})},closeModal:n=>{const r=t().type;(!n||r===n)&&e({type:null,props:void 0})}}));function Cu(){const{data:e,isLoading:t}=go(),{data:n,isLoading:r}=wu(),i=t||r;return i||!e||!n?{data:[],isLoading:i}:{data:Vhe(e,n),isLoading:!1}}function Vhe(e,t){return e.map(n=>{const r=t.find(s=>s.departmentCode===n.deptCd)?.departmentName||"",i=r?r.split(" ").reverse()[0]:"";return{subjectId:n.subjectId??-1,subjectCode:n.subjectCode??"",classCode:n.classCode??"",departmentName:i,subjectName:n.subjectName??"",language:n.curiLangNm??"",subjectType:n.curiTypeCdNm??"",semester_at:n.studentYear?Number(n.studentYear):-1,lesn_time:n.lesnTime??"",professorName:n.professorName??"",lesn_room:n.lesnRoom??"",tm_num:n.tmNum??""}})}function qhe(){return Math.floor(1e3+Math.random()*9e3).toString()}const Qhe=4;function Khe(){const e=R.useRef(null),[t,n]=R.useState(),[r,i]=R.useState(""),s=R.useRef(""),{data:o}=Cu(),a=xr(S=>S.openModal),l=xr(S=>S.closeModal),{currentSubjectId:c,setSubjectStatus:f,setCaptchaFailed:p}=v1();function g(){const S=qhe();s.current=S,setTimeout(()=>{e.current&&Zw(e.current,S)},100)}function y(S){let C=S.target.value;if(/[^0-9]/.test(C)){i("0~9  "),n(C.replace(/[^0-9]/g,""));return}C.length<=Qhe?(n(C),i("")):i("4  ")}R.useEffect(()=>{setTimeout(()=>{g()},100)},[]);function x(){ya({eventType:br.CAPTCHA,subjectId:c},o).then(()=>{t?.toString()===s.current?(f(c,Jt.PROGRESS),p(!1)):(f(c,Jt.PROGRESS),p(!0))}).then(()=>{l(),a("simulation")})}function _(){ya({eventType:br.CANCEL_SUBMIT,subjectId:c},o).then(()=>{l("captcha"),p(!1),f(c,Jt.PROGRESS)})}return h.jsx(hn.Modal,{preventAutoFocus:!0,children:h.jsxs("div",{className:"sm:w-[460px]",children:[h.jsx(hn.Modal.Header,{title:"  (Arti-marco code input)",onClose:_}),h.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-4",children:[h.jsxs("div",{className:"flex flex-col px-1",children:[h.jsxs("div",{className:"text-sm font-semibold flex flex-row items-center",children:[h.jsx("span",{className:"inline-block w-1.5 h-5 bg-blue-500 mr-2 "})," ",h.jsx("button",{onClick:g,className:"ml-2 px-2 py-1 bg-blue-500 text-white text-sm rounded-xs cursor-pointer hover:bg-blue-600",children:""})]}),h.jsx("div",{className:"flex items-center mt-1",children:h.jsx("canvas",{id:"captcha",width:"105",height:"50",ref:e})})]}),h.jsxs("div",{children:[h.jsxs("div",{className:"text-sm font-semibold flex flex-row items-center",children:[h.jsx("span",{className:"inline-block w-1.5 h-5 bg-blue-500"}),"  "]}),h.jsx(hn.Input,{value:t,onChange:S=>y(S),className:"mt-2 w-full",placeholder:" ",essential:!0}),h.jsx("span",{className:"pl-1 text-xs text-red-500 ",children:r})]})]}),h.jsx("p",{className:"text-sm text-gray-800 mt-10",children:"               ."}),h.jsxs(hn.Modal.ButtonContainer,{className:"px-6 py-2 bg-gray-100",children:[h.jsx(hn.Modal.Button,{variant:"cancel",onClick:x,children:""}),h.jsx(hn.Modal.Button,{variant:"cancel",onClick:_,children:""})]})]})})}const Ghe=e=>R.createElement("svg",{width:50,height:50,viewBox:"0 0 50 50",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},R.createElement("circle",{cx:25,cy:25,r:25,fill:"#7890CE"}),R.createElement("path",{d:"M20.2339 29.5078L35.0317 17.4276C35.3809 17.1425 35.7883 17 36.2539 17C36.7196 17 37.127 17.1425 37.4762 17.4276C37.8254 17.7127 38 18.0515 38 18.4439C38 18.8364 37.8254 19.1747 37.4762 19.4588L21.4562 32.5724C21.107 32.8575 20.6995 33 20.2339 33C19.7683 33 19.3609 32.8575 19.0117 32.5724L11.5037 26.4432C11.1545 26.1581 10.9868 25.8198 11.0008 25.4283C11.0148 25.0368 11.1969 24.6981 11.5473 24.412C11.8977 24.126 12.3127 23.9835 12.7923 23.9844C13.2718 23.9854 13.6862 24.1279 14.0354 24.412L20.2339 29.5078Z",fill:"white"})),PT={simulationId:-1,registeredSubjects:[],nonRegisteredSubjects:[],simulationStatus:"before",clickedTime:0},Qi=ri(e=>({currentSimulation:PT,setCurrentSimulation:t=>e(n=>({currentSimulation:{...n.currentSimulation,...t}})),resetSimulation:()=>e({currentSimulation:PT})})),Yhe=[{status:Jt.PROGRESS,topMessage:"   ?",description:"(CourseTitle):"},{status:Jt.SUCCESS,topMessage:"  .   ?",description:`    []  . 

              []  
          . []  
        .`},{status:Jt.FAILED,topMessage:"  !"},{status:Jt.DOUBLED,topMessage:"   !"},{status:Jt.CAPTCHA_FAILED,topMessage:"   "},{status:Jt.NOT_ELIGIBLE,topMessage:"   "}],Jhe=[Jt.PROGRESS,Jt.SUCCESS,Jt.FAILED,Jt.CAPTCHA_FAILED];function Xhe({reloadSimulationStatus:e}){const t=xr(O=>O.openModal),n=xr(O=>O.closeModal),{currentSubjectId:r,setSubjectStatus:i,subjectStatusMap:s}=v1(),o=Qi(O=>O.setCurrentSimulation),{data:a}=Cu(),l=s[r],c=Yhe.find(O=>O.status===l),f=c?.status??Jt.PROGRESS,p=[Jt.FAILED,Jt.DOUBLED,Jt.CAPTCHA_FAILED].includes(f),g=Jhe.includes(f),y=R.useRef(null);if(!c)return null;y.current?.focus();const x=(O,N=!1)=>{if("errMsg"in O)throw alert(O.errMsg),N&&Ud().then(()=>{t("result")}),new Error(O.errMsg)},_=O=>{console.error(" :",O),alert(" :"+O.toString())},S=async O=>{const N=await ya({eventType:br.SUBJECT_SUBMIT,subjectId:O},a);x(N),i(O,N.status),t("simulation")},C=async O=>{const N=await ya({eventType:br.REFRESH,subjectId:O},a);x(N),e(),N.finished&&(o({simulationStatus:"finish"}),console.log(" "),t("result"))},I=async O=>{try{const N=await ya({eventType:br.SKIP_REFRESH,subjectId:O},a);"errMsg"in N?(alert(N.errMsg),await Ud(),o({simulationStatus:"finish"}),t("result")):N.finished&&(o({simulationStatus:"finish"}),t("result"))}catch(N){console.error(N)}finally{n("simulation")}},A=async()=>{try{c.status===Jt.PROGRESS?await S(r):c?.status===Jt.SUCCESS?await C(r):p&&await I(r)}catch(O){_(O)}},z=async()=>{try{if(c?.status===Jt.SUCCESS){const O=await ya({eventType:br.SKIP_REFRESH,subjectId:r},a);"errMsg"in O?(alert(O.errMsg),await Ud(),o({simulationStatus:"finish"}),t("result")):O.finished?(o({simulationStatus:"finish"}),t("result")):n("simulation")}else if(c?.status===Jt.PROGRESS){const O=await ya({eventType:br.CANCEL_SUBMIT,subjectId:r},a);x(O,!0)}}catch(O){_(O)}},U=()=>{g||n("simulation")};return h.jsxs(hn.Modal,{modalCassName:"max-w-md",children:[h.jsx(hn.Modal.Header,{title:"",onClose:U}),h.jsxs("div",{className:`px-6 pb-6 items-center flex-col flex ${Zhe(f)}`,children:[h.jsx("div",{className:"flex justify-center mb-2 py-2",children:c.status===Jt.SUCCESS||c.status===Jt.PROGRESS?h.jsx(Ghe,{className:"w-12 h-12"}):h.jsx(C1,{className:"w-12 h-12",fill:"#C4C4C4"})}),h.jsx("p",{className:"text-gray-700 text-sm mb-4",children:c.topMessage}),c.description&&h.jsxs("p",{className:"text-sm text-gray-700 whitespace-pre-line text-center",children:[c.description," ",c.status===Jt.PROGRESS&&h.jsx("span",{children:a?.find(O=>O.subjectId===r)?.subjectName})]})]}),h.jsxs(hn.Modal.ButtonContainer,{className:"px-6 py-2 bg-gray-100",children:[c.status===Jt.PROGRESS||c.status===Jt.SUCCESS&&h.jsx(hn.Modal.Button,{variant:"cancel",onClick:z,children:""}),h.jsx(hn.Modal.Button,{variant:"primary",onClick:A,children:""})]})]})}const Zhe=e=>e===Jt.FAILED||e===Jt.DOUBLED?"sm:min-h-[200px] min-h-[80vh]":"sm:min-h-[230px] min-h-[80vh]";function epe(e,t,n){var r,i;typeof e=="function"?(r=t||[],i=n):(r=[],i=t);var s=wn.useRef({hasResult:!1,result:i,error:null}),o=wn.useReducer(function(c){return c+1},0);o[0];var a=o[1],l=wn.useMemo(function(){var c=typeof e=="function"?e():e;if(!c||typeof c.subscribe!="function")throw e===c?new TypeError("Given argument to useObservable() was neither a valid observable nor a function."):new TypeError("Observable factory given to useObservable() did not return a valid observable.");if(!s.current.hasResult&&typeof window<"u"&&(typeof c.hasValue!="function"||c.hasValue()))if(typeof c.getValue=="function")s.current.result=c.getValue(),s.current.hasResult=!0;else{var f=c.subscribe(function(p){s.current.result=p,s.current.hasResult=!0});typeof f=="function"?f():f.unsubscribe()}return c},r);if(wn.useDebugValue(s.current.result),wn.useEffect(function(){var c=l.subscribe(function(f){var p=s.current;(p.error!==null||p.result!==f)&&(p.error=null,p.result=f,p.hasResult=!0,a())},function(f){var p=s.current;p.error!==f&&(p.error=f,a())});return typeof c=="function"?c:c.unsubscribe.bind(c)},r),s.current.error)throw s.current.error;return s.current.result}function Sf(e,t,n){return epe(function(){return wte(e)},[],n)}function AT(){const e=xr(t=>t.closeModal);return h.jsx(hn.Modal,{onBackdropClick:()=>e(),noBorder:!0,children:h.jsxs("div",{className:"p-6 w-80 bg-white rounded shadow",children:[h.jsx("p",{className:"text-sm text-gray-800 mb-4",children:"  ."}),h.jsx("div",{className:"w-full h-4 bg-gray-200 rounded overflow-hidden",children:h.jsx("div",{className:"h-full bg-blue-400 bg-gradient-to-r from-blue-400 to-blue-600 animate-stripes"})})]})})}const Eh=1/1e3;async function tpe(){return{snapshots:(await Rt.simulation_run.filter(n=>n.ended_at!==-1).toArray()).sort((n,r)=>r.simulation_run_id-n.simulation_run_id)}}async function npe(e){const t=await jte(e),n=await GI(t.snapshot_id);if(!t||!n)return null;const r=await Rt.simulation_run_selections.where("simulation_run_id").equals(t.simulation_run_id).toArray(),i=r.map(c=>c.run_selections_id),s=c=>{const f=n.subjects.find(p=>p.interested_id===c);return f?f.subject_id:-1},o=await Rt.simulation_run_events.filter(c=>i.includes(c.simulation_section_id)).toArray(),a=o.filter(c=>c.event_type===br.CAPTCHA),l=r.reduce((c,f)=>{const p=a.find(g=>g.simulation_section_id===f.run_selections_id);return p?.timestamp?c+p.timestamp-f.started_at:c},0)/r.length;return{started_at:t.started_at,ended_at:t.ended_at,user_ability:{searchBtnSpeed:(t.search_event_at-t.started_at)/1e3,totalSpeed:t.total_elapsed/t.subject_count/1e3,accuracy:t.accuracy,captchaSpeed:l/1e3},timeline:r.map(c=>({interested_id:c.interested_id,subject_id:s(c.interested_id),started_at:c.started_at,ended_at:c.ended_at,status:c.status,events:o.filter(f=>f.simulation_section_id===c.run_selections_id).sort((f,p)=>f.timestamp-p.timestamp).map(f=>({event:f.event_type,timestamp:f.timestamp}))})),subject_results:r.sort((c,f)=>f.started_at-c.started_at).reduce((c,f)=>c.some(p=>p.interested_id===f.interested_id)?c:[...c,f],[]).map(c=>({interested_id:c.interested_id,subject_id:s(c.interested_id),selected_index:c.selected_index,ended_at:c.ended_at,status:c.status}))}}async function XN(){const e=await Rt.simulation_run.filter(S=>S.ended_at!==-1).toArray(),t=e.length;if(t===0)throw new Error("    .");const n=await Rt.simulation_run_selections.toArray(),r=await Promise.all(e.map(async S=>{const C=await Rt.simulation_run_selections.filter(N=>N.simulation_run_id===S.simulation_run_id).toArray(),I=C.map(N=>N.run_selections_id),A=await Rt.simulation_run_events.filter(N=>N.event_type===br.CAPTCHA&&I.includes(N.simulation_section_id)).toArray(),z=(S.search_event_at-S.started_at)*Eh,U=A.reduce((N,F)=>{const $=C.find(L=>L.run_selections_id===F.simulation_section_id);return $?N+(F.timestamp-$.started_at):N},0)*Eh,O=C.reduce((N,F)=>F.ended_at>=0?N+(F.ended_at-F.started_at):N,0)*Eh;return{simulationRunId:S.simulation_run_id,accuracy:S.accuracy,subjectCount:S.subject_count,searchBtnTime:z,captchaTime:U+z,subjectTime:O+z,totalTime:S.total_elapsed*Eh}})),i=await Rt.interested_snapshot.filter(S=>S.simulated).last();if(!i)throw new Error("   .");const o=(await Rt.interested_subject.filter(S=>S.snapshot_id===i.snapshot_id).toArray()).map(S=>{const C=n.filter($=>$.interested_id===S.interested_id),I=C.filter($=>$.status===Jt.SUCCESS).length,A=C.filter($=>$.status===Jt.FAILED).length,z=C.filter($=>$.status===Jt.DOUBLED).length,U=C.length,O=C.reduce(($,L)=>$+L.selected_index,0)/U||0,N=C.filter($=>$.ended_at>=0&&$.started_at>=0).map($=>($.ended_at-$.started_at)*Eh),F=rpe(N);return{subjectId:S.subject_id,successCount:I,failedCount:A,doubledCount:z,totalCount:U,avgCompletionTime:F,avgIndex:O}}),a=new Map;for(const S of n){const C=S.simulation_run_id,I=e.find(N=>N.simulation_run_id===C);if(!I)continue;const A=await GI(I.snapshot_id);if(!A)continue;const z=A.subjects.find(N=>N.interested_id===S.interested_id);if(!z)continue;const U=z.subject_id;a.has(U)||a.set(U,{subject_id:U,success_count:0,total_count:0,completion_time_sum:0});const O=a.get(U);O.total_count++,S.status===1&&(O.success_count++,O.completion_time_sum+=S.ended_at-S.started_at)}const l=Array.from(a.values()).map(S=>({subject_id:S.subject_id,success_count:S.success_count,total_count:S.total_count,success_rate:S.success_count/S.total_count,avg_completion_time:S.success_count>0?S.completion_time_sum/S.success_count/1e3:0})),c=n.reduce((S,C)=>(S[C.status]=(S[C.status]||0)+1,S),{}),f=n.length,p=Object.entries(c).map(([S,C])=>({status:Number(S),count:C,percentage:C/f})),g=e.map(S=>S.simulation_run_id),y=n.filter(S=>g.includes(S.simulation_run_id)).map(S=>S.run_selections_id),x=await Rt.simulation_run_events.filter(S=>y.includes(S.simulation_section_id)&&S.event_type===br.CAPTCHA).toArray();let _=0;for(const S of x){const C=n.find(I=>I.run_selections_id===S.simulation_section_id);C&&(_+=S.timestamp-C.started_at)}return{total_users:t,avg_started_at:e.reduce((S,C)=>S+C.started_at,0)/t,avg_ended_at:e.reduce((S,C)=>S+C.ended_at,0)/t,avg_elapsed_time:e.reduce((S,C)=>S+(C.ended_at-C.started_at),0)/t/1e3,subject_success_rate:l,status_distribution:p,simulations:r,subjects:o}}function rpe(e){return e.length===0?0:e.reduce((t,n)=>t+n,0)/e.length}function ipe({simulationId:e}){const t=xr(C=>C.type),n=xr(C=>C.openModal),r=xr(C=>C.closeModal),[i,s]=R.useState(null),[o,a]=R.useState(),l=t==="result",c=Sf(async()=>{try{return await XN()}catch(C){return{error:C.message}}});if(c&&"error"in c)return h.jsx("div",{className:"flex flex-col w-full items-center justify-center h-120 gap-3"});const{simulations:f}=c||{simulations:[]},p=c?{user_ability:{searchBtnSpeed:f.reduce((C,I)=>C+I.searchBtnTime,0)/f.length||0,totalSpeed:f.reduce((C,I)=>C+I.totalTime/I.subjectCount,0)/f.length||0,accuracy:f.reduce((C,I)=>C+I.accuracy,0)/f.length||0,captchaSpeed:f.reduce((C,I)=>C+(I.captchaTime-I.searchBtnTime)/I.subjectCount,0)/f.length||0}}:void 0;if(R.useEffect(()=>{async function C(){Rte({simulationId:e}).then(I=>{"errMsg"in I?I.errMsg===YI.SIMULATION_NOT_FOUND?r():alert(I.errMsg):(s(I),a(e))})}C().then()},[]),!i)return h.jsx(AT,{});const{accuracy:g,score:y,total_elapsed:x}=i,_=y>=70,S=p?.user_ability?.searchBtnSpeed??0;return!p||!c?h.jsx(AT,{}):h.jsx(Zn,{title:" ",onClose:()=>r("result"),isOpen:l,children:h.jsxs(Zn.Content,{children:[_&&h.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[h.jsx("div",{className:"animate-float1 absolute top-6 left-6 w-3 h-3 bg-red-400 rounded-full"}),h.jsx("div",{className:"animate-float2 absolute top-16 right-10 w-2 h-2 bg-yellow-400 rounded-full"}),h.jsx("div",{className:"animate-float3 absolute bottom-20 left-12 w-2.5 h-2.5 bg-blue-400 rounded-full"}),h.jsx("div",{className:"animate-float4 absolute bottom-10 right-6 w-3 h-3 bg-pink-400 rounded-full"}),h.jsx("div",{className:"animate-float5 absolute top-1/2 left-1/2 w-2 h-2 bg-purple-400 rounded-full"})]}),h.jsxs("div",{className:"relative z-10 text-center",children:[h.jsxs("h2",{className:"text-xl font-bold text-gray-900",children:[" ",h.jsx("span",{className:_?"text-blue-600":"text-red-500",children:_?" !":" "})]}),h.jsxs("span",{className:"text-sm text-gray-700 mt-1",children:[" ",_?" ":" ",""]}),h.jsxs("div",{className:"flex flex-col justify-center items-center",children:[h.jsx("div",{className:"m-2 flex justify-center",children:_?h.jsx("img",{src:"/ci.svg",alt:" ",className:"w-20 h-20"}):h.jsx("span",{className:"text-[50px]",children:""})}),h.jsxs("div",{className:"flex flex-row justify-center gap-6 mt-6",children:[h.jsxs("div",{className:"flex flex-col items-center",children:[h.jsx("p",{className:"text-sm text-gray-800 mb-1",children:""}),h.jsxs("p",{className:"text-xl text-blue-500 font-bold whitespace-nowrap",children:[y.toFixed(1),h.jsx("span",{className:"text-gray-600",children:""})]})]}),h.jsxs("div",{className:"flex flex-col items-center",children:[h.jsx("p",{className:"text-sm text-gray-800 mb-1",children:" "}),h.jsxs("p",{className:"text-xl text-gray-600 font-bold whitespace-nowrap",children:[(x/1e3).toFixed(0),""]})]})]}),h.jsxs("div",{className:"flex flex-row justify-center gap-6 mt-6",children:[h.jsxs("div",{className:"flex flex-col items-center",children:[h.jsx("p",{className:"text-sm text-gray-800 mb-1",children:"    "}),h.jsxs("p",{className:"text-xl text-blue-500 font-bold whitespace-nowrap",children:[p?.user_ability.captchaSpeed.toFixed(2),h.jsx("span",{className:"text-gray-600",children:""})]})]}),h.jsxs("div",{className:"flex flex-col items-center",children:[h.jsx("p",{className:"text-sm text-gray-800 mb-1",children:"    "}),h.jsxs("p",{className:"text-xl text-blue-500 font-bold whitespace-nowrap",children:[S<=0?0:S.toFixed(2),h.jsx("span",{className:"text-gray-600",children:""})]})]})]})]}),h.jsx("div",{className:"text-left text-sm text-gray-800 mt-4 mb-1",children:""}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("div",{className:"w-full h-3 bg-gray-200 rounded-full overflow-hidden",children:h.jsx("div",{className:"h-3 bg-indigo-400 rounded-full transition-all duration-300",style:{width:`${g}%`}})}),h.jsxs("p",{className:"text-xl text-gray-600 font-bold whitespace-nowrap",children:[g,"%"]})]}),h.jsxs("div",{className:"flex justify-center gap-3 mt-6",children:[h.jsx("button",{className:"px-4 py-2 border border-gray-400 text-gray-800 rounded-md hover:bg-gray-100 text-sm",onClick:()=>{r(),n("wish")},children:" "}),h.jsx(du,{to:`/simulation/logs/${o}`,end:!1,className:"px-4 py-2  bg-blue-500 text-white rounded-md hover:bg-blue-600 text-sm",onClick:()=>{r()},children:"   "})]})]}),h.jsx("style",{children:`
        @keyframes float1 {
          0% { transform: translateY(0); }
          50% { transform: translateY(-8px); }
          100% { transform: translateY(0); }
        }
        @keyframes float2 {
          0% { transform: translateY(0); }
          50% { transform: translateY(6px); }
          100% { transform: translateY(0); }
        }
        @keyframes float3 {
          0% { transform: translateY(0); }
          50% { transform: translateY(-6px); }
          100% { transform: translateY(0); }
        }
        @keyframes float4 {
          0% { transform: translateY(0); }
          50% { transform: translateY(4px); }
          100% { transform: translateY(0); }
        }
        @keyframes float5 {
          0% { transform: translateY(0); }
          50% { transform: translateY(-5px); }
          100% { transform: translateY(0); }
        }

        .animate-float1 { animation: float1 3s ease-in-out infinite; }
        .animate-float2 { animation: float2 4s ease-in-out infinite; }
        .animate-float3 { animation: float3 2.5s ease-in-out infinite; }
        .animate-float4 { animation: float4 3.5s ease-in-out infinite; }
        .animate-float5 { animation: float5 3s ease-in-out infinite; }
      `})]})})}function spe(){return h.jsxs("div",{className:"mt-6 text-sm text-gray-800 space-y-2",children:[h.jsx(Vt,{level:4,children:" Tip!"}),["      .","    .","       !","    ."].map((e,t)=>h.jsxs(je,{className:"text-xs",children:[h.jsx("span",{className:"text-blue-500 mr-2",children:h.jsx(DR,{})}),h.jsx("span",{className:t===0?"font-semibold text-blue-500 animate-bounce":"text-gray-600",children:e})]},t))]})}function ope({department:e,setDepartment:t}){const{data:n}=wu(),r=i=>{const s=i.target.value,o=n?.find(a=>a.departmentCode===s)?.departmentName??"";t({departmentName:o,departmentCode:s})};return R.useEffect(()=>{if(!n)return;const s=fR().filter(([l])=>l!=="9005");if(s.length<=0)return;const o=s[0][0],a=n.find(l=>l.departmentCode===o)?.departmentName??"";t({departmentName:a,departmentCode:o})},[n]),h.jsxs("div",{className:"flex flex-col gap-2",children:[h.jsx(Mr,{children:" "}),h.jsx(D1,{className:"cursor-pointer rounded-sm px-2 py-1 w-50 sm:w-120 bg-white",value:e.departmentCode,onChange:r})]})}function ape({selectedTimetable:e,onSelect:t,timetables:n}){const{data:r}=yu(),i=r??As,s=n.filter(o=>o.semesterCode===i.semesterCode);return s.length===0?h.jsx(cpe,{semesterValue:i.semesterValue}):h.jsx(lpe,{semesterValue:i.semesterValue,timetables:s,selectedTimetableId:e.timeTableId,onSelect:t})}function lpe({semesterValue:e,timetables:t,selectedTimetableId:n,onSelect:r}){return h.jsxs(je,{direction:"flex-col",gap:"gap-2",children:[h.jsxs(Mr,{children:[e," "]}),h.jsxs(je,{gap:"gap-2",children:[h.jsx(Gl,{columns:{sm:2,md:3},gap:"gap-2",className:"flex-1",children:t.map(i=>h.jsx(Xn,{label:i.timeTableName,selected:n===i.timeTableId,onClick:()=>r(i.timeTableId)},i.timeTableId))}),h.jsx(Mt,{variant:"text",size:"small",textColor:"primary",children:h.jsx(ti,{to:"/timetable",children:"+   "})})]})]})}function cpe({semesterValue:e}){return h.jsxs(je,{direction:"flex-col",gap:"gap-4",children:[h.jsx(Mr,{children:" "}),h.jsxs(je,{direction:"flex-col",gap:"gap-2",align:"items-center",children:[h.jsx(C1,{className:"w-7 h-7",fill:"#C4C4C4"}),h.jsxs("p",{className:"text-gray-500 text-sm",children:[e,"  ."]}),h.jsx(Mt,{asChild:!0,variant:"secondary",size:"small",children:h.jsx(ti,{to:"/timetable",children:"  "})})]})]})}const upe=5;function R_(e,t){const n=new Set,r=[];for(const i of[...e].sort(()=>Math.random()-.5)){if(n.size>=t)break;n.has(i.subjectCode)||(n.add(i.subjectCode),r.push(i))}return r}function ZN(e){const t=e.split(" ");return t.findIndex(r=>r.includes(""))!==-1?t.slice(1).join(" ").trim():e}function eO(e,t){const n=r=>r.replace(/(||)$/,"");return n(e)===n(t)}function dpe(e){return upe-e+1}const fpe=(e,t)=>{if(t==="")return tO(e);const n=ZN(t),r=e.filter(f=>eO(f.departmentName,n)),i=e.filter(f=>f.departmentName===""),s=r.filter(f=>f.professorName!==null&&f.lesn_time!==null),o=R_(s,3),a=i.filter(f=>f.professorName!==null&&f.lesn_time!==null),l=R_(a,dpe(o.length+1)),c=[...o,...l];for(let f=c.length-1;f>0;f--){const p=Math.floor(Math.random()*(f+1));[c[f],c[p]]=[c[p],c[f]]}return c},N_=(e,t)=>e.find(n=>t===n.subjectId),tO=e=>R_(e,5),hpe=(e,t)=>{const n=ZN(t);if(n==="")return tO(e);const r=e.filter(c=>eO(c.departmentName,n)),i=e.filter(c=>c.departmentName===""),s=c=>{const f=new Set;return c.filter(p=>f.has(p.subjectCode)?!1:(f.add(p.subjectCode),!0))},o=s(r).slice(0,3),a=5-o.length,l=s(i).slice(0,a);return[...o,...l]},ppe=e=>{let t=0;const n=[];for(const r of e){const i=Number(r.tm_num.split("/")[0])||0;if(t+i>24)break;t+=i,n.push(r)}return n};function mpe({subjects:e,handleRemakeSubjects:t,isLoadingLectures:n}){const r=e?.reduce((i,s)=>{if(!s.tm_num)return i;const o=s?.tm_num.split("/")[0]??"0",a=Number(o)||0;return i+a},0);return h.jsxs(h.Fragment,{children:[h.jsxs(je,{direction:"flex-row",justify:"justify-between",align:"items-center",children:[h.jsxs(je,{align:"items-center",children:[h.jsx(Mr,{children:"   "}),t&&h.jsx(Mt,{onClick:t,size:"small",variant:"text",children:" "})]}),h.jsxs(Jn,{children:[h.jsx("span",{className:"text-blue-500",children:r})," "]})]}),h.jsx("div",{className:"overflow-x-auto overflow-y-auto sm:max-w-full",children:h.jsxs("table",{className:"min-w-full table-fixed sm:text-sm text-xs text-left whitespace-nowrap border-t border-b border-gray-200",children:[h.jsx("thead",{className:"bg-gray-100 text-gray-700",children:h.jsxs("tr",{children:[h.jsx("th",{className:"px-4 py-2",children:""}),h.jsx("th",{className:"px-4 py-2",children:""}),h.jsx("th",{className:"px-4 py-2",children:""}),h.jsx("th",{className:"px-4 py-2",children:""}),h.jsx("th",{className:"px-4 py-2",children:""})]})}),h.jsx("tbody",{className:"h-[250px]",children:h.jsx(gpe,{subjects:e,isLoadingLectures:n})})]})})]})}function gpe({subjects:e,isLoadingLectures:t}){return t?h.jsx(O1,{col:5,row:8}):e.length===0?h.jsx(SS,{col:5,title:"  .",description:"       ."}):h.jsx(h.Fragment,{children:e.map((n,r)=>h.jsxs("tr",{className:"border border-gray-200 h-[40px]",children:[h.jsx("td",{className:"px-4 py-2 w-[30px] truncate",children:n.subjectCode}),h.jsx("td",{className:"px-4 py-2 w-[30px] truncate",children:n.classCode}),h.jsx("td",{className:"px-4 py-2 w-[100px] truncate",children:n.departmentName}),h.jsx("td",{className:"px-4 py-2  w-[150px] truncate",children:n.subjectName}),h.jsx("td",{className:"px-4 py-2",children:n.professorName})]},n.subjectId??r))})}const ype=({simulationSubjects:e,handleStartGame:t,setToggleTip:n})=>h.jsxs("div",{className:"flex justify-end gap-2 px-2 pb-2 sm:px-6 sm:pb-6",children:[h.jsx(Mt,{variant:"primary",size:"medium",onClick:()=>n(!0),children:" "}),h.jsx(Mt,{variant:"outlined",size:"medium",onClick:t,disabled:e.length===0,children:""})]}),vpe=(e,t)=>e?"previous":t.length>0?"timetable":"random",bpe={departmentCode:"",departmentName:""};function xpe({timetables:e,setIsModalOpen:t}){const n=Qi(L=>L.setCurrentSimulation),r=xr(L=>L.closeModal),{data:i,isLoading:s}=Cu(),o=Ut(L=>L.currentTimetable),a=Ut(L=>L.pickTimetable),[l,c]=R.useState([]),[f,p]=R.useState({...bpe}),[g,y]=R.useState(o??{timeTableId:-1,timeTableName:"  ",semesterCode:As.semesterCode}),x=Sf(KI),[_,S]=R.useState(vpe(!!x,e)),[C,I]=R.useState(!1),{data:A,isLoading:z}=P9(g?.timeTableId),U=()=>{c(fpe(i,f.departmentName))},O=async()=>{if(l.length===0){alert("  .    .");return}try{r(),_!=="previous"&&await Ste(l.map(Y=>Y.subjectId));const L=await Ite("",f.departmentCode,f.departmentName);if("simulationId"in L&&"isRunning"in L&&L.simulationId!==-1&&L.isRunning!==void 0){const{simulationId:Y,isRunning:he}=L;n({simulationId:Y,simulationStatus:he?"start":"before"})}else console.error("    ",L)}catch(L){console.error("    :",L)}},N=L=>{const Z=e.find(Y=>Y.timeTableId===L)??{timeTableId:-1,timeTableName:"  ",semesterCode:As.semesterCode};if(!Z){console.error("    :",L);return}y(Z),a(Z)},F=L=>{c([]),S(L)},$=L=>i.find(Z=>Z.subjectId===L);return R.useEffect(()=>{if(z||_!=="timetable"||!A||A.length===0)return;const Z=A.filter(he=>he.scheduleType!=="custom").map(he=>$(he.subjectId??0)).filter(he=>!!he),Y=ppe(Z);c(Y)},[_,A,z,g]),R.useEffect(()=>{_==="random"&&c(hpe(i,f.departmentName))},[_,f]),R.useEffect(()=>{if(_!=="previous"||!x||x.snapshot_id<0||s)return;const Z=x.subjects.map(Y=>Y.subject_id).map(Y=>$(Y)).filter(Y=>!!Y);c(Z)},[_,x,s]),h.jsx(Zn,{title:"   ",onClose:()=>t(!1),children:h.jsxs("div",{className:"flex flex-col overflow-y-auto max-h-[90vh] w-[600px] max-w-[90vw]",children:[h.jsxs("div",{className:"flex flex-col gap-2 p-2 sm:p-4",children:[h.jsx(Mr,{children:"  ?"}),h.jsxs("div",{className:"flex gap-2 py-2",children:[x&&h.jsx(Xn,{label:" ",selected:_==="previous",onClick:()=>F("previous")}),h.jsx(Xn,{label:" ",selected:_==="timetable",onClick:()=>F("timetable")}),h.jsx(Xn,{label:" ",selected:_==="random",onClick:()=>F("random")})]}),_==="timetable"&&h.jsx(ape,{timetables:e,selectedTimetable:g,onSelect:N}),_==="random"&&h.jsx(ope,{department:f,setDepartment:p}),h.jsx(mpe,{isLoadingLectures:s,subjects:l,handleRemakeSubjects:_==="random"?U:void 0}),C&&h.jsx(spe,{})]}),h.jsx(ype,{simulationSubjects:l,handleStartGame:O,setToggleTip:I})]})})}function wpe(e,t,n,r,i,s){const o=Math.floor((e+t)/n);let a=r,l=0;for(let c=0;c<=o;c++){const f=c*n;let p=i,g=s;f>4&&(p=48,g=33),a+=p,l+=g}return Math.max(Math.round(a-l),0)}function _pe(){const[e,t]=R.useState(0),[n,r]=R.useState(0),[i,s]=R.useState(1),[o,a]=R.useState(0),l=R.useRef(null),c=xr(S=>S.closeModal),f=Qi(S=>S.currentSimulation),p=Qi(S=>S.setCurrentSimulation),g=.2,y=98,x=79;R.useEffect(()=>{let S=Math.floor(f.clickedTime/.2)*100+124;const C=S/x*g;for(let I=0;I<=Math.floor(f.clickedTime/g);I++)S+=I*y;r(S),t(Math.ceil(C))},[]),R.useEffect(()=>(l.current=setInterval(()=>{a(C=>{const I=C+1,A=wpe(I,f.clickedTime,g,i,y,x);return s(A),I});const S=Math.floor((e+f.clickedTime)/.2)*x;n<0?r(0):r(C=>C-S),t(C=>{const I=Math.max(C-1,0);return I===0&&l.current&&(clearInterval(l.current),c()),I})},1e3),()=>{l.current&&clearInterval(l.current)}),[e]);const _=()=>{p({simulationStatus:"before"}),c()};return h.jsx(hn.Modal,{noBorder:!0,children:h.jsxs("div",{className:"bg-white p-6 text-center space-y-6 max-w-md",children:[h.jsxs("h2",{className:"text-lg md:text-xl font-semibold text-gray-800",children:[" ",h.jsx("span",{className:"text-blue-600 font-bold",children:" "}),"."]}),h.jsxs("div",{className:"text-sm md:text-base text-gray-600",children:[": ",h.jsx("span",{className:"text-blue-600 font-bold text-xl",children:e}),""]}),h.jsx("div",{className:"w-full h-2 bg-gray-200 rounded-full overflow-hidden",children:h.jsx("div",{className:"h-full bg-blue-500 transition-all duration-300",style:{width:`${o/(e+o)*100}%`}})}),h.jsxs("div",{className:"text-gray-700 text-sm md:text-base leading-relaxed",children:["  ",h.jsx("span",{className:"text-green-600 font-bold text-xl",children:n<0?0:n}),",  ",h.jsx("span",{className:"text-green-600 font-bold text-xl",children:i}),"  . ",h.jsx("br",{}),"     ,      ."]}),h.jsxs("button",{className:"inline-flex items-center justify-center border-2 border-gray-400 text-gray-800 px-2 py-1 hover:bg-gray-100",onClick:_,children:[h.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),""]}),h.jsx("p",{className:"text-xs md:text-sm text-gray-500",children:"    ."})]})})}var Lx,MT;function Spe(){return MT||(MT=1,Lx=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var r,i,s;if(Array.isArray(t)){if(r=t.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(s=Object.keys(t),r=s.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,s[i]))return!1;for(i=r;i--!==0;){var o=s[i];if(!e(t[o],n[o]))return!1}return!0}return t!==t&&n!==n}),Lx}var Epe=Spe();const Cpe=ds(Epe);var c0={exports:{}},Fx,DT;function kpe(){if(DT)return Fx;DT=1;var e;/**
* @link https://github.com/gajus/sister for the canonical source repository
* @license https://github.com/gajus/sister/blob/master/LICENSE BSD 3-Clause
*/return e=function(){var t={},n={};return t.on=function(r,i){var s={name:r,handler:i};return n[r]=n[r]||[],n[r].unshift(s),s},t.off=function(r){var i=n[r.name].indexOf(r);i!==-1&&n[r.name].splice(i,1)},t.trigger=function(r,i){var s=n[r],o;if(s)for(o=s.length;o--;)s[o].handler(i)},t},Fx=e,Fx}var u0={exports:{}},Bx,LT;function Tpe(){if(LT)return Bx;LT=1,Bx=function(i,s,o){var a=document.head||document.getElementsByTagName("head")[0],l=document.createElement("script");typeof s=="function"&&(o=s,s={}),s=s||{},o=o||function(){},l.type=s.type||"text/javascript",l.charset=s.charset||"utf8",l.async="async"in s?!!s.async:!0,l.src=i,s.attrs&&e(l,s.attrs),s.text&&(l.text=""+s.text);var c="onload"in l?t:n;c(l,o),l.onload||t(l,o),a.appendChild(l)};function e(r,i){for(var s in i)r.setAttribute(s,i[s])}function t(r,i){r.onload=function(){this.onerror=this.onload=null,i(null,r)},r.onerror=function(){this.onerror=this.onload=null,i(new Error("Failed to load "+this.src),r)}}function n(r,i){r.onreadystatechange=function(){this.readyState!="complete"&&this.readyState!="loaded"||(this.onreadystatechange=null,i(null,r))}}return Bx}var FT;function jpe(){return FT||(FT=1,(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=Tpe(),r=i(n);function i(s){return s&&s.__esModule?s:{default:s}}t.default=function(s){var o=new Promise(function(a){if(window.YT&&window.YT.Player&&window.YT.Player instanceof Function){a(window.YT);return}else{var l=window.location.protocol==="http:"?"http:":"https:";(0,r.default)(l+"//www.youtube.com/iframe_api",function(f){f&&s.trigger("error",f)})}var c=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=function(){c&&c(),a(window.YT)}});return o},e.exports=t.default})(u0,u0.exports)),u0.exports}var d0={exports:{}},f0={exports:{}},h0={exports:{}},$x,BT;function Ipe(){if(BT)return $x;BT=1;var e=1e3,t=e*60,n=t*60,r=n*24,i=r*365.25;$x=function(c,f){f=f||{};var p=typeof c;if(p==="string"&&c.length>0)return s(c);if(p==="number"&&isNaN(c)===!1)return f.long?a(c):o(c);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(c))};function s(c){if(c=String(c),!(c.length>100)){var f=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(c);if(f){var p=parseFloat(f[1]),g=(f[2]||"ms").toLowerCase();switch(g){case"years":case"year":case"yrs":case"yr":case"y":return p*i;case"days":case"day":case"d":return p*r;case"hours":case"hour":case"hrs":case"hr":case"h":return p*n;case"minutes":case"minute":case"mins":case"min":case"m":return p*t;case"seconds":case"second":case"secs":case"sec":case"s":return p*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return p;default:return}}}}function o(c){return c>=r?Math.round(c/r)+"d":c>=n?Math.round(c/n)+"h":c>=t?Math.round(c/t)+"m":c>=e?Math.round(c/e)+"s":c+"ms"}function a(c){return l(c,r,"day")||l(c,n,"hour")||l(c,t,"minute")||l(c,e,"second")||c+" ms"}function l(c,f,p){if(!(c<f))return c<f*1.5?Math.floor(c/f)+" "+p:Math.ceil(c/f)+" "+p+"s"}return $x}var $T;function Rpe(){return $T||($T=1,(function(e,t){t=e.exports=i.debug=i.default=i,t.coerce=l,t.disable=o,t.enable=s,t.enabled=a,t.humanize=Ipe(),t.names=[],t.skips=[],t.formatters={};var n;function r(c){var f=0,p;for(p in c)f=(f<<5)-f+c.charCodeAt(p),f|=0;return t.colors[Math.abs(f)%t.colors.length]}function i(c){function f(){if(f.enabled){var p=f,g=+new Date,y=g-(n||g);p.diff=y,p.prev=n,p.curr=g,n=g;for(var x=new Array(arguments.length),_=0;_<x.length;_++)x[_]=arguments[_];x[0]=t.coerce(x[0]),typeof x[0]!="string"&&x.unshift("%O");var S=0;x[0]=x[0].replace(/%([a-zA-Z%])/g,function(I,A){if(I==="%%")return I;S++;var z=t.formatters[A];if(typeof z=="function"){var U=x[S];I=z.call(p,U),x.splice(S,1),S--}return I}),t.formatArgs.call(p,x);var C=f.log||t.log||console.log.bind(console);C.apply(p,x)}}return f.namespace=c,f.enabled=t.enabled(c),f.useColors=t.useColors(),f.color=r(c),typeof t.init=="function"&&t.init(f),f}function s(c){t.save(c),t.names=[],t.skips=[];for(var f=(typeof c=="string"?c:"").split(/[\s,]+/),p=f.length,g=0;g<p;g++)f[g]&&(c=f[g].replace(/\*/g,".*?"),c[0]==="-"?t.skips.push(new RegExp("^"+c.substr(1)+"$")):t.names.push(new RegExp("^"+c+"$")))}function o(){t.enable("")}function a(c){var f,p;for(f=0,p=t.skips.length;f<p;f++)if(t.skips[f].test(c))return!1;for(f=0,p=t.names.length;f<p;f++)if(t.names[f].test(c))return!0;return!1}function l(c){return c instanceof Error?c.stack||c.message:c}})(h0,h0.exports)),h0.exports}var zT;function Npe(){return zT||(zT=1,(function(e,t){var n={};t=e.exports=Rpe(),t.log=s,t.formatArgs=i,t.save=o,t.load=a,t.useColors=r,t.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:l(),t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"];function r(){return typeof window<"u"&&window.process&&window.process.type==="renderer"?!0:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}t.formatters.j=function(c){try{return JSON.stringify(c)}catch(f){return"[UnexpectedJSONParseError]: "+f.message}};function i(c){var f=this.useColors;if(c[0]=(f?"%c":"")+this.namespace+(f?" %c":" ")+c[0]+(f?"%c ":" ")+"+"+t.humanize(this.diff),!!f){var p="color: "+this.color;c.splice(1,0,p,"color: inherit");var g=0,y=0;c[0].replace(/%[a-zA-Z%]/g,function(x){x!=="%%"&&(g++,x==="%c"&&(y=g))}),c.splice(y,0,p)}}function s(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function o(c){try{c==null?t.storage.removeItem("debug"):t.storage.debug=c}catch{}}function a(){var c;try{c=t.storage.debug}catch{}return!c&&typeof process<"u"&&"env"in process&&(c=n.DEBUG),c}t.enable(a());function l(){try{return window.localStorage}catch{}}})(f0,f0.exports)),f0.exports}var p0={exports:{}},UT;function Ope(){return UT||(UT=1,(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=["cueVideoById","loadVideoById","cueVideoByUrl","loadVideoByUrl","playVideo","pauseVideo","stopVideo","getVideoLoadedFraction","cuePlaylist","loadPlaylist","nextVideo","previousVideo","playVideoAt","setShuffle","setLoop","getPlaylist","getPlaylistIndex","setOption","mute","unMute","isMuted","setVolume","getVolume","seekTo","getPlayerState","getPlaybackRate","setPlaybackRate","getAvailablePlaybackRates","getPlaybackQuality","setPlaybackQuality","getAvailableQualityLevels","getCurrentTime","getDuration","removeEventListener","getVideoUrl","getVideoEmbedCode","getOptions","getOption","addEventListener","destroy","setSize","getIframe"],e.exports=t.default})(p0,p0.exports)),p0.exports}var m0={exports:{}},HT;function Ppe(){return HT||(HT=1,(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=["ready","stateChange","playbackQualityChange","playbackRateChange","error","apiChange","volumeChange"],e.exports=t.default})(m0,m0.exports)),m0.exports}var g0={exports:{}},y0={exports:{}},WT;function Ape(){return WT||(WT=1,(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default={BUFFERING:3,ENDED:0,PAUSED:2,PLAYING:1,UNSTARTED:-1,VIDEO_CUED:5},e.exports=t.default})(y0,y0.exports)),y0.exports}var VT;function Mpe(){return VT||(VT=1,(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=Ape(),r=i(n);function i(s){return s&&s.__esModule?s:{default:s}}t.default={pauseVideo:{acceptableStates:[r.default.ENDED,r.default.PAUSED],stateChangeRequired:!1},playVideo:{acceptableStates:[r.default.ENDED,r.default.PLAYING],stateChangeRequired:!1},seekTo:{acceptableStates:[r.default.ENDED,r.default.PLAYING,r.default.PAUSED],stateChangeRequired:!0,timeout:3e3}},e.exports=t.default})(g0,g0.exports)),g0.exports}var qT;function Dpe(){return qT||(qT=1,(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=Npe(),r=f(n),i=Ope(),s=f(i),o=Ppe(),a=f(o),l=Mpe(),c=f(l);function f(y){return y&&y.__esModule?y:{default:y}}var p=(0,r.default)("youtube-player"),g={};g.proxyEvents=function(y){var x={},_=function(N){var F="on"+N.slice(0,1).toUpperCase()+N.slice(1);x[F]=function($){p('event "%s"',F,$),y.trigger(N,$)}},S=!0,C=!1,I=void 0;try{for(var A=a.default[Symbol.iterator](),z;!(S=(z=A.next()).done);S=!0){var U=z.value;_(U)}}catch(O){C=!0,I=O}finally{try{!S&&A.return&&A.return()}finally{if(C)throw I}}return x},g.promisifyPlayer=function(y){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,_={},S=function(F){x&&c.default[F]?_[F]=function(){for(var $=arguments.length,L=Array($),Z=0;Z<$;Z++)L[Z]=arguments[Z];return y.then(function(Y){var he=c.default[F],G=Y.getPlayerState(),W=Y[F].apply(Y,L);return he.stateChangeRequired||Array.isArray(he.acceptableStates)&&he.acceptableStates.indexOf(G)===-1?new Promise(function(Q){var te=function X(){var fe=Y.getPlayerState(),B=void 0;typeof he.timeout=="number"&&(B=setTimeout(function(){Y.removeEventListener("onStateChange",X),Q()},he.timeout)),Array.isArray(he.acceptableStates)&&he.acceptableStates.indexOf(fe)!==-1&&(Y.removeEventListener("onStateChange",X),clearTimeout(B),Q())};Y.addEventListener("onStateChange",te)}).then(function(){return W}):W})}:_[F]=function(){for(var $=arguments.length,L=Array($),Z=0;Z<$;Z++)L[Z]=arguments[Z];return y.then(function(Y){return Y[F].apply(Y,L)})}},C=!0,I=!1,A=void 0;try{for(var z=s.default[Symbol.iterator](),U;!(C=(U=z.next()).done);C=!0){var O=U.value;S(O)}}catch(N){I=!0,A=N}finally{try{!C&&z.return&&z.return()}finally{if(I)throw A}}return _},t.default=g,e.exports=t.default})(d0,d0.exports)),d0.exports}var QT;function Lpe(){return QT||(QT=1,(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},r=kpe(),i=c(r),s=jpe(),o=c(s),a=Dpe(),l=c(a);function c(p){return p&&p.__esModule?p:{default:p}}var f=void 0;t.default=function(p){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,x=(0,i.default)();if(f||(f=(0,o.default)(x)),g.events)throw new Error("Event handlers cannot be overwritten.");if(typeof p=="string"&&!document.getElementById(p))throw new Error('Element "'+p+'" does not exist.');g.events=l.default.proxyEvents(x);var _=new Promise(function(C){if((typeof p>"u"?"undefined":n(p))==="object"&&p.playVideo instanceof Function){var I=p;C(I)}else f.then(function(A){var z=new A.Player(p,g);return x.on("ready",function(){C(z)}),null})}),S=l.default.promisifyPlayer(_,y);return S.on=x.on,S.off=x.off,S},e.exports=t.default})(c0,c0.exports)),c0.exports}var Fpe=Lpe();const Bpe=ds(Fpe);var $pe=Object.defineProperty,zpe=Object.defineProperties,Upe=Object.getOwnPropertyDescriptors,KT=Object.getOwnPropertySymbols,Hpe=Object.prototype.hasOwnProperty,Wpe=Object.prototype.propertyIsEnumerable,GT=(e,t,n)=>t in e?$pe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,O_=(e,t)=>{for(var n in t||(t={}))Hpe.call(t,n)&&GT(e,n,t[n]);if(KT)for(var n of KT(t))Wpe.call(t,n)&&GT(e,n,t[n]);return e},P_=(e,t)=>zpe(e,Upe(t)),Vpe=(e,t,n)=>new Promise((r,i)=>{var s=l=>{try{a(n.next(l))}catch(c){i(c)}},o=l=>{try{a(n.throw(l))}catch(c){i(c)}},a=l=>l.done?r(l.value):Promise.resolve(l.value).then(s,o);a((n=n.apply(e,t)).next())});function qpe(e,t){var n,r;if(e.videoId!==t.videoId)return!0;const i=((n=e.opts)==null?void 0:n.playerVars)||{},s=((r=t.opts)==null?void 0:r.playerVars)||{};return i.start!==s.start||i.end!==s.end}function YT(e={}){return P_(O_({},e),{height:0,width:0,playerVars:P_(O_({},e.playerVars),{autoplay:0,start:0,end:0})})}function Qpe(e,t){return e.videoId!==t.videoId||!Cpe(YT(e.opts),YT(t.opts))}function Kpe(e,t){var n,r,i,s;return e.id!==t.id||e.className!==t.className||((n=e.opts)==null?void 0:n.width)!==((r=t.opts)==null?void 0:r.width)||((i=e.opts)==null?void 0:i.height)!==((s=t.opts)==null?void 0:s.height)||e.iframeClassName!==t.iframeClassName||e.title!==t.title}var Gpe={videoId:"",id:"",className:"",iframeClassName:"",style:{},title:"",loading:void 0,opts:{},onReady:()=>{},onError:()=>{},onPlay:()=>{},onPause:()=>{},onEnd:()=>{},onStateChange:()=>{},onPlaybackRateChange:()=>{},onPlaybackQualityChange:()=>{}},Ype={videoId:$t.string,id:$t.string,className:$t.string,iframeClassName:$t.string,style:$t.object,title:$t.string,loading:$t.oneOf(["lazy","eager"]),opts:$t.objectOf($t.any),onReady:$t.func,onError:$t.func,onPlay:$t.func,onPause:$t.func,onEnd:$t.func,onStateChange:$t.func,onPlaybackRateChange:$t.func,onPlaybackQualityChange:$t.func},D0=class extends wn.Component{constructor(e){super(e),this.destroyPlayerPromise=void 0,this.onPlayerReady=t=>{var n,r;return(r=(n=this.props).onReady)==null?void 0:r.call(n,t)},this.onPlayerError=t=>{var n,r;return(r=(n=this.props).onError)==null?void 0:r.call(n,t)},this.onPlayerStateChange=t=>{var n,r,i,s,o,a,l,c;switch((r=(n=this.props).onStateChange)==null||r.call(n,t),t.data){case D0.PlayerState.ENDED:(s=(i=this.props).onEnd)==null||s.call(i,t);break;case D0.PlayerState.PLAYING:(a=(o=this.props).onPlay)==null||a.call(o,t);break;case D0.PlayerState.PAUSED:(c=(l=this.props).onPause)==null||c.call(l,t);break}},this.onPlayerPlaybackRateChange=t=>{var n,r;return(r=(n=this.props).onPlaybackRateChange)==null?void 0:r.call(n,t)},this.onPlayerPlaybackQualityChange=t=>{var n,r;return(r=(n=this.props).onPlaybackQualityChange)==null?void 0:r.call(n,t)},this.destroyPlayer=()=>this.internalPlayer?(this.destroyPlayerPromise=this.internalPlayer.destroy().then(()=>this.destroyPlayerPromise=void 0),this.destroyPlayerPromise):Promise.resolve(),this.createPlayer=()=>{if(typeof document>"u")return;if(this.destroyPlayerPromise){this.destroyPlayerPromise.then(this.createPlayer);return}const t=P_(O_({},this.props.opts),{videoId:this.props.videoId});this.internalPlayer=Bpe(this.container,t),this.internalPlayer.on("ready",this.onPlayerReady),this.internalPlayer.on("error",this.onPlayerError),this.internalPlayer.on("stateChange",this.onPlayerStateChange),this.internalPlayer.on("playbackRateChange",this.onPlayerPlaybackRateChange),this.internalPlayer.on("playbackQualityChange",this.onPlayerPlaybackQualityChange),(this.props.title||this.props.loading)&&this.internalPlayer.getIframe().then(n=>{this.props.title&&n.setAttribute("title",this.props.title),this.props.loading&&n.setAttribute("loading",this.props.loading)})},this.resetPlayer=()=>this.destroyPlayer().then(this.createPlayer),this.updatePlayer=()=>{var t;(t=this.internalPlayer)==null||t.getIframe().then(n=>{this.props.id?n.setAttribute("id",this.props.id):n.removeAttribute("id"),this.props.iframeClassName?n.setAttribute("class",this.props.iframeClassName):n.removeAttribute("class"),this.props.opts&&this.props.opts.width?n.setAttribute("width",this.props.opts.width.toString()):n.removeAttribute("width"),this.props.opts&&this.props.opts.height?n.setAttribute("height",this.props.opts.height.toString()):n.removeAttribute("height"),this.props.title?n.setAttribute("title",this.props.title):n.setAttribute("title","YouTube video player"),this.props.loading?n.setAttribute("loading",this.props.loading):n.removeAttribute("loading")})},this.getInternalPlayer=()=>this.internalPlayer,this.updateVideo=()=>{var t,n,r,i;if(typeof this.props.videoId>"u"||this.props.videoId===null){(t=this.internalPlayer)==null||t.stopVideo();return}let s=!1;const o={videoId:this.props.videoId};if((n=this.props.opts)!=null&&n.playerVars&&(s=this.props.opts.playerVars.autoplay===1,"start"in this.props.opts.playerVars&&(o.startSeconds=this.props.opts.playerVars.start),"end"in this.props.opts.playerVars&&(o.endSeconds=this.props.opts.playerVars.end)),s){(r=this.internalPlayer)==null||r.loadVideoById(o);return}(i=this.internalPlayer)==null||i.cueVideoById(o)},this.refContainer=t=>{this.container=t},this.container=null,this.internalPlayer=null}componentDidMount(){this.createPlayer()}componentDidUpdate(e){return Vpe(this,null,function*(){Kpe(e,this.props)&&this.updatePlayer(),Qpe(e,this.props)&&(yield this.resetPlayer()),qpe(e,this.props)&&this.updateVideo()})}componentWillUnmount(){this.destroyPlayer()}render(){return wn.createElement("div",{className:this.props.className,style:this.props.style},wn.createElement("div",{id:this.props.id,className:this.props.iframeClassName,ref:this.refContainer}))}},U1=D0;U1.propTypes=Ype;U1.defaultProps=Gpe;U1.PlayerState={UNSTARTED:-1,ENDED:0,PLAYING:1,PAUSED:2,BUFFERING:3,CUED:5};var Jpe=U1;const JT=e=>R.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},R.createElement("path",{d:"M6 9L12 15L18 9",stroke:"#354052",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})),Xpe="visitedTutorial",Zpe=1440*60*1e3,eme=7*Zpe,Iy=ri()($2(e=>({visitedAt:null,shouldSkipTutorial:!1,setVisited:()=>e({visitedAt:Date.now(),shouldSkipTutorial:!0}),resetVisited:()=>e({visitedAt:null,shouldSkipTutorial:!1})}),{name:Xpe,storage:k9(()=>localStorage),onRehydrateStorage:()=>e=>{if(e){const t=Date.now();!e.visitedAt||t-e.visitedAt>eme?e.resetVisited():e.shouldSkipTutorial=!0}}})),zx=[{id:1,videoId:"BTNgos01s1o",title:"1:   "},{id:2,videoId:"yYq-sXZmS9I",title:"2:   "},{id:3,videoId:"mEi-n2kEs94",title:"3:  "},{id:4,videoId:"xmD5YuZtJv4",title:"4:    "}];function tme(){const[e,t]=R.useState(0),[n,r]=R.useState(!1),i=xr(S=>S.openModal),s=xr(S=>S.closeModal),a=hs()?{width:"250",height:"141"}:{width:"600",height:"338"},l=Iy(S=>S.shouldSkipTutorial),c=Iy(S=>S.setVisited);l&&i("wish");const f=()=>{t(S=>S===0?zx.length-1:S-1)},p=()=>{t(S=>S===zx.length-1?0:S+1)},g=()=>{n&&(c(),r(!0))},y=zx[e],x=()=>{s()},_=()=>{g(),s(),i("wish")};return h.jsx(Zn,{title:" ",onClose:x,isOpen:!l,children:h.jsxs(Zn.Content,{children:[h.jsxs(je,{className:"w-full",direction:"flex-col",children:[h.jsx(Jn,{children:"        ."}),h.jsx("div",{className:"mx-auto",style:{width:a.width+"px",height:a.height+"px"},children:h.jsx(Jpe,{videoId:y.videoId,opts:{width:a.width,height:a.height,playerVars:{autoplay:1,mute:1,playlist:y.videoId}},onEnd:p})})]}),h.jsxs("div",{className:"mt-4 flex flex-col justify-center items-center gap-2",children:[h.jsxs(je,{justify:"justify-center",align:"items-center",className:"gap-4",children:[h.jsx(Mt,{variant:"text",size:"medium","aria-label":" ",onClick:f,children:e!==0&&h.jsx(JT,{className:"w-5 h-5 transform rotate-90"})}),h.jsx(Vt,{level:3,children:y.title}),h.jsx(Mt,{variant:"text",size:"medium","aria-label":" ",onClick:p,children:e<3&&h.jsx(JT,{className:"w-5 h-5 transform -rotate-90"})})]}),h.jsx(Jn,{children:"     ,   ,         ."}),h.jsxs(hn.Modal.ButtonContainer,{className:"mt-4",children:[h.jsx(Xy,{label:"   ",checked:n,onChange:()=>r(!n)}),h.jsx(Mt,{variant:"primary",size:"medium",onClick:_,children:" "})]})]})]})})}function nO(e){if(!e)return"-";const t=e.split("/");return t[0]=Number.parseFloat(t[0]).toFixed(1),t.join("/")}function nme(e){return e===-1?"":e}const rme=[{header:"",cell:(e,t)=>t+1},{header:"",cell:e=>h.jsx(sme,{subjectId:e.subjectId})},{header:"",cell:e=>e.subjectCode},{header:"",cell:e=>e.classCode},{header:"",cell:e=>h.jsx("div",{className:"text-left",children:e.departmentName})},{header:"",cell:e=>h.jsx("div",{className:"text-left",children:e.subjectName})},{header:"",cell:()=>h.jsx("div",{className:"flex justify-center",children:h.jsx(hn.Button,{size:"sm",variant:"dark",children:""})})},{header:"",cell:e=>e.language},{header:"//",cell:e=>nO(e.tm_num)},{header:"",cell:e=>e.subjectType},{header:"",cell:e=>nme(e.semester_at)},{header:"",cell:e=>e.lesn_time},{header:"",cell:()=>h.jsx("div",{className:"flex justify-center",children:h.jsx(hn.Button,{size:"sm",variant:"dark",children:""})})}],ime=()=>{const e=Qi(r=>r.currentSimulation),t=xr(r=>r.type),n=e.simulationStatus==="progress"&&t!=="waiting"?e.nonRegisteredSubjects:[];return h.jsx(hn.DataTable,{columns:rme,data:n,keyInfo:"subjectId"})},sme=({subjectId:e})=>{const t=xr(s=>s.openModal),n=v1(s=>s.setCurrentSubjectId),{data:r}=Cu(),i=s=>{ya({eventType:br.APPLY,subjectId:s},r).then(o=>{"errMsg"in o&&alert(o.errMsg)}).catch(o=>{console.error(" :",o)}),n(s),t("captcha")};return h.jsx("div",{className:"flex justify-center",children:h.jsx(hn.Button,{size:"sm",onClick:()=>i(e),children:""})})},ome=[{header:"",cell:(e,t)=>t+1},{header:"",cell:()=>h.jsx(hn.Button,{size:"sm",children:""})},{header:"",cell:e=>e.subjectCode},{header:"",cell:e=>e.classCode},{header:"",cell:e=>h.jsx("div",{className:"text-left",children:e.departmentName})},{header:"",cell:e=>h.jsx("div",{className:"text-left",children:e.subjectName})},{header:"",cell:()=>h.jsx(hn.Button,{size:"sm",variant:"dark",children:""})},{header:"",cell:e=>e.language},{header:"//",cell:e=>nO(e.tm_num)},{header:"",cell:e=>e.subjectType},{header:"",cell:()=>"-"},{header:"",cell:e=>e.lesn_time},{header:"",cell:()=>h.jsx(hn.Button,{size:"sm",variant:"dark",children:""})}],ame=()=>{const e=Qi(r=>r.currentSimulation),t=xr(r=>r.type),n=e.simulationStatus==="progress"&&t!=="waiting"?e.registeredSubjects:[];return h.jsx(hn.DataTable,{columns:ome,data:n,keyInfo:"subjectId"})};function GS(){const e=Qi(o=>o.setCurrentSimulation),t=Qi(o=>o.currentSimulation),n=xr(o=>o.openModal),{data:r}=Cu(),i=(o,a,l)=>{const c=o.map(f=>N_(r,f.subjectId)).filter(f=>f!==void 0);e({simulationId:l,[a]:c}),t.simulationStatus==="progress"&&n("waiting")};return{reloadSimulationStatus:()=>{Ete().then(o=>{!o||o.simulationId===-1||(e({simulationId:o.simulationId}),o?.nonRegisteredSubjects&&i(o.nonRegisteredSubjects,"nonRegisteredSubjects",o.simulationId),o?.registeredSubjects&&i(o.registeredSubjects,"registeredSubjects",o.simulationId))}).catch(o=>{console.log(o)})}}}const lme=e=>R.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},R.createElement("path",{d:"M9.5 16C7.68333 16 6.146 15.3707 4.888 14.112C3.63 12.8533 3.00067 11.316 3 9.5C2.99933 7.684 3.62867 6.14667 4.888 4.888C6.14733 3.62933 7.68467 3 9.5 3C11.3153 3 12.853 3.62933 14.113 4.888C15.373 6.14667 16.002 7.684 16 9.5C16 10.2333 15.8833 10.925 15.65 11.575C15.4167 12.225 15.1 12.8 14.7 13.3L20.3 18.9C20.4833 19.0833 20.575 19.3167 20.575 19.6C20.575 19.8833 20.4833 20.1167 20.3 20.3C20.1167 20.4833 19.8833 20.575 19.6 20.575C19.3167 20.575 19.0833 20.4833 18.9 20.3L13.3 14.7C12.8 15.1 12.225 15.4167 11.575 15.65C10.925 15.8833 10.2333 16 9.5 16ZM9.5 14C10.75 14 11.8127 13.5627 12.688 12.688C13.5633 11.8133 14.0007 10.7507 14 9.5C13.9993 8.24933 13.562 7.187 12.688 6.313C11.814 5.439 10.7513 5.00133 9.5 5C8.24867 4.99867 7.18633 5.43633 6.313 6.313C5.43967 7.18967 5.002 8.252 5 9.5C4.998 10.748 5.43567 11.8107 6.313 12.688C7.19033 13.5653 8.25267 14.0027 9.5 14Z",fill:"white"}));function cme(){const{setCurrentSimulation:e,currentSimulation:t,resetSimulation:n}=Qi(),r=xr(x=>x.openModal),i=Sf(vp),{reloadSimulationStatus:s}=GS(),{data:o}=Cu(),l=(i&&"simulationId"in i?i.simulationId:-1)!==-1,c=i&&"userStatus"in i?i.userStatus?.departmentName:-1,f=()=>{e({simulationStatus:"before"}),r("tutorial"),n()},p=()=>{vp().then(x=>{x&&"simulationId"in x&&x.simulationId!==-1&&s()})},g=async()=>{p(),ya({eventType:br.SEARCH},o).then(x=>{if("errMsg"in x)alert("  .    !");else{const _=x.elapsed_time/1e3;e({simulationStatus:"progress",clickedTime:_>10?5:_}),r("waiting")}}).catch(x=>{console.error(" :",x)})},y=async()=>{try{await Ud(),e({simulationStatus:"finish"}),r("result")}catch(x){console.error(x),alert("  .")}};return h.jsx("section",{className:"border p-2 text-xs",children:h.jsxs("div",{className:"flex flex-col gap-1 sm:gap-2",children:[h.jsxs("div",{className:"flex flex-col sm:flex-row gap-1 sm:gap-8",children:[h.jsx("div",{className:"flex justify-end items-center sm:justify-start gap-2",children:h.jsx(xd,{id:"organization-type",label:" ",className:"w-48",essential:!0,disabled:!0,children:h.jsx("option",{})})}),h.jsx("div",{className:"flex justify-end items-center sm:justify-start gap-2",children:h.jsx(xd,{id:"semester-type",label:"/",className:"w-48",essential:!0,disabled:!0,children:h.jsx("option",{})})})]}),h.jsx("div",{className:"flex flex-col justify-between sm:flex-row gap-1 sm:gap-8",children:h.jsxs("div",{className:"flex flex-col sm:items-end sm:flex-row gap-2 ",children:[h.jsx("div",{className:"flex items-center justify-end sm:justify-start gap-2",children:h.jsx(xd,{id:"my-major-department",label:"()",className:"w-48",disabled:!0,children:h.jsx("option",{children:""})})}),h.jsx("div",{className:"flex items-center justify-end sm:justify-start gap-2",children:h.jsx(xd,{id:"my-sub-department",label:"()",className:"w-48",disabled:!0,children:h.jsx("option",{children:""})})})]})}),h.jsxs("div",{className:"flex flex-col sm:flex-col md:flex-row justify-between gap-2",children:[h.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[h.jsx("div",{className:"flex justify-end items-center sm:justify-start gap-2",children:h.jsx(xd,{id:"search-division",label:"",className:"w-48",essential:!0,disabled:!0,children:h.jsx("option",{children:""})})}),h.jsxs("div",{className:"flex justify-end items-center sm:justify-start gap-1",children:[h.jsx("label",{htmlFor:"search-major",className:"font-bold",children:""}),h.jsxs("div",{className:"flex flex-col sm:flex-row gap-1",children:[h.jsx(hn.Select,{id:"search-major",className:"w-48 sm:w-30",essential:!0,disabled:!0,children:h.jsx("option",{children:""})}),h.jsx(xd,{id:"search-department",label:" ",className:"w-40 lg:w-90",value:c,disabled:!0,hideLabel:!0})]})]})]}),h.jsxs("div",{className:"flex flex-row justify-between gap-2",children:[h.jsx("div",{className:"flex flex-row ",children:l?h.jsx(hn.Button,{variant:"cancel",onClick:y,children:" "}):h.jsx(hn.Button,{variant:"primary",onClick:f,children:""})}),h.jsxs("button",{onClick:g,className:`relative px-3 py-2 rounded flex flex-row items-center gap-1 text-white ${l?"bg-gradient-animation cursor-pointer":"bg-gray-400 cursor-not-allowed"}`,disabled:!l,children:[t.simulationStatus==="start"&&h.jsx(d9,{className:"absolute -top-20 right-8 w-15 h-15 animate-bounce rotate-170"}),h.jsx(lme,{className:"w-5 h-4"}),""]})]})]})]})})}function xd({label:e,hideLabel:t=!1,children:n,id:r,className:i,...s}){const o=r||"muted-select-"+e;return h.jsxs(h.Fragment,{children:[h.jsx("label",{htmlFor:o,className:t?"hidden":"font-bold",children:e}),h.jsx(hn.Select,{id:o,...s,className:i,children:n})]})}function ume(){const[e,t]=R.useState("00:00"),n=xr(l=>l.openModal),r=Qi(l=>l.currentSimulation),i=Qi(l=>l.setCurrentSimulation),s=R.useRef(null),o=l=>{const c=Math.floor(l%3600/60),f=l%60;t(`${c.toString().padStart(2,"0")}:${f.toString().padStart(2,"0")}`)},a=async()=>{try{await Ud(),i({simulationStatus:"finish"}),n("result")}catch(l){console.error(l),alert("   .")}};return R.useEffect(()=>((async()=>{if(r.simulationStatus==="finish"){t("00:00");return}try{const c=await b1();if(!(c?.started_at&&c.simulation_run_id===r.simulationId))return;const p=c.started_at;s.current=setInterval(()=>{const g=Date.now(),y=Math.floor((g-p)/1e3);if(y>=fS){clearInterval(s.current),alert("5    ."),a().then();return}o(y),r.simulationStatus==="finish"&&(clearInterval(s.current),t("00:00"))},1e3)}catch(c){console.error(c)}})().then(),()=>{s.current&&(clearInterval(s.current),s.current=null)}),[r.simulationStatus,r.simulationId]),h.jsx("p",{className:"font-semibold text-xl text-blue-500",children:e})}function dme({onClick:e}){const t=Iy(i=>i.shouldSkipTutorial),n=Iy(i=>i.resetVisited),r=()=>{n(),e&&e()};return t&&h.jsx("button",{className:"text-gray-600 hover:text-blue-500 cursor-pointer",onClick:r,children:" "})}function fme(){const e=xr(a=>a.openModal),t=Qi(a=>a.currentSimulation),n=Qi(a=>a.setCurrentSimulation),{reloadSimulationStatus:r}=GS(),i=async()=>{try{await Ud(),n({simulationStatus:"finish"}),alert("5    ."),e("result")}catch(a){console.error(a),alert("   .")}},s=()=>{vp().then(a=>{if(a&&"simulationId"in a&&a.simulationId!==-1){const l=a.startedAt;if(!l)return;const c=Date.now();Math.floor((c-l)/1e3)>fS?i().then():r()}else t.simulationStatus==="before"&&e("tutorial")})};R.useEffect(()=>{s()},[t.simulationStatus]);const o=t.registeredSubjects.reduce((a,l)=>{const c=l.tm_num.split("/")[0];return a+Number.parseInt(c,10)},0);return h.jsxs(h.Fragment,{children:[h.jsxs(ni,{children:[h.jsx("title",{children:"ALLCLL |  -   "}),h.jsx("meta",{name:"description",content:"       !"})]}),h.jsx(hme,{}),h.jsxs("div",{className:"flex justify-between gap-5",children:[h.jsxs("div",{className:"flex gap-5",children:[h.jsx("h1",{className:"font-bold text-lg",children:" "}),h.jsx(ume,{})]}),h.jsx(dme,{onClick:()=>e("tutorial")})]}),h.jsx(cme,{}),h.jsxs("section",{className:"mt-4 ",children:[h.jsx("div",{className:"mb-2",children:h.jsx(hn.SectionHeader,{children:"  "})}),h.jsx(ime,{})]}),h.jsxs("section",{className:"mt-4",children:[h.jsxs("div",{className:"w-full flex flex-col sm:flex-row sm:items-center justify-start gap-2 mb-2",children:[h.jsx(hn.SectionHeader,{children:"  "}),h.jsxs("div",{className:"flex flex-row gap-2 items-center",children:[h.jsx(hn.Button,{size:"sm",onClick:r,children:""}),h.jsxs("span",{className:"text-xs font-bold text-black",children:["  : 18 /",h.jsxs("span",{className:"text-blue-500",children:[" : ",t.registeredSubjects.length," /  : ",o]})]})]})]}),h.jsx(ame,{})]})]})}function hme(){const e=Qi(o=>o.currentSimulation),{type:t,closeModal:n}=xr(),{reloadSimulationStatus:r}=GS(),{data:i}=yu("timetable"),{data:s=[]}=O9(i?.semesterCode??As.semesterCode);switch(t){case"tutorial":return h.jsx(tme,{});case"waiting":return h.jsx(_pe,{});case"captcha":return h.jsx(Khe,{});case"wish":return h.jsx(xpe,{timetables:s,setIsModalOpen:()=>n()});case"simulation":return h.jsx(Xhe,{reloadSimulationStatus:r});case"result":return h.jsx(ipe,{simulationId:e.simulationId});default:return null}}$o.register(Gp,Yp,Kp,aS,yf,BI,xu,bu);function pme({result:e}){const[t,n]=R.useState(!0),r=t?e.simulations.filter(g=>g.totalTime<=80&&g.searchBtnTime>0):e.simulations,i=r.map((g,y)=>` ${y+1}`),s=r.map(g=>g.searchBtnTime),o=r.map(g=>g.captchaTime-g.searchBtnTime),a=r.map(g=>g.subjectTime-g.captchaTime),l=r.map(g=>g.totalTime-g.subjectTime),c=r&&r.length<50?16:8,f={labels:i,datasets:[{type:"bar",label:"  ",data:s,barThickness:c,backgroundColor:"rgba(75, 192, 192, 0.7)",stack:"Stack 0"},{type:"bar",label:"   ",data:o,barThickness:c,backgroundColor:"rgba(255, 99, 132, 0.7)",stack:"Stack 0"},{type:"bar",label:"  ",data:a,barThickness:c,backgroundColor:"rgba(54, 162, 235, 0.7)",stack:"Stack 0"},{type:"bar",label:" ",data:l,barThickness:c,backgroundColor:"rgba(153, 102, 255, 0.7)",stack:"Stack 0"},{type:"line",label:" ",data:s,borderColor:"rgba(75, 192, 192, 1)",borderWidth:2,pointRadius:4,pointBackgroundColor:"rgba(75, 192, 192, 1)",fill:!1,tension:.1},{type:"line",label:" ",data:o,borderColor:"rgba(255, 99, 132, 1)",borderWidth:2,pointRadius:4,pointBackgroundColor:"rgba(255, 99, 132, 1)",fill:!1,tension:.1},{type:"line",label:"  ",data:a,borderColor:"rgba(54, 162, 235, 1)",borderWidth:2,pointRadius:4,pointBackgroundColor:"rgba(54, 162, 235, 1)",fill:!1,tension:.1},{type:"line",label:"  ",data:l,borderColor:"rgba(153, 102, 255, 1)",borderWidth:2,pointRadius:4,pointBackgroundColor:"rgba(153, 102, 255, 1)",fill:!1,tension:.1}]},p={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"},tooltip:{callbacks:{label:function(g){const y=g.dataset.label||"",x=g.parsed.y;return`${y}: ${x.toFixed(2)}`}}}},scales:{x:{title:{display:!0,text:""}},y:{stacked:!0,title:{display:!0,text:" ()"},ticks:{callback:function(g){return(su(g)?g.toFixed(1):g)+""}}}}};return h.jsxs("div",{className:"w-full h-96 p-4 box-border",children:[h.jsxs("div",{className:"flex justify-between items-center mb-4",children:[h.jsx("div",{}),h.jsxs("div",{className:"text-lg font-semibold",children:[h.jsx("input",{id:"normal-data",type:"checkbox",className:"cursor-pointer",onChange:g=>n(g.target.checked),checked:t}),h.jsx("label",{htmlFor:"normal-data",className:"text-sm pl-2 cursor-pointer",children:" "})]})]}),h.jsx("div",{className:"h-full pb-6 overflow-x-auto",children:h.jsx(qI,{type:"bar",data:f,options:p})})]})}function mme({result:e}){const{data:t}=zo(),n=R.useMemo(()=>gme(t,e.subjects),[t,e]);return h.jsxs("table",{className:"min-w-full text-sm text-center text-nowrap",children:[h.jsx("thead",{className:"bg-gray-100 text-gray-600",children:h.jsxs("tr",{children:[h.jsx("th",{className:"py-2 px-2",children:""}),h.jsx("th",{className:"py-2 px-2",children:""}),h.jsx("th",{className:"py-2 px-2",children:""}),h.jsx("th",{className:"py-2 px-2",children:""}),h.jsx("th",{className:"py-2 px-2",children:""}),h.jsx("th",{className:"py-2 px-2",children:"/"})]})}),h.jsx("tbody",{className:"text-gray-700",children:n.map(r=>h.jsxs("tr",{className:"border-t border-gray-200",children:[h.jsx("td",{className:"py-2 px-1",children:r.subjectCode+"-"+r.classCode}),h.jsx("td",{className:"py-2 px-1",children:r.subjectName}),h.jsx("td",{className:"py-2 px-1",children:r.professorName}),h.jsx("td",{className:"py-2 px-1",children:r.avgIndex.toFixed(2)}),h.jsx("td",{className:"py-2 px-1",children:r.avgCompletionTime.toFixed(2)+" sec"}),h.jsxs("td",{className:"py-2 px-2",children:[h.jsx("span",{className:"px-1 py-0.5 rounded-full text-xs font-bold text-green-500",children:r.successCount}),"/",h.jsx("span",{className:"px-1 py-0.5 rounded-full text-xs font-bold text-red-500",children:r.failedCount}),"/",h.jsx("span",{className:"px-1 py-0.5 rounded-full text-xs font-bold text-gray-500",children:r.doubledCount}),"/",h.jsx("span",{className:"px-1 py-0.5 rounded-full text-xs font-bold text-black",children:r.totalCount})]})]},r.subjectId))})]})}function gme(e,t){if(!t||!e)return[];const n=r=>e.find(i=>i.subjectId===r);return t.map(r=>{const i=n(r.subjectId);return{...r,subjectName:i?.subjectName||"",departmentName:i?.departmentName||"",departmentCode:i?.departmentCode||"",subjectCode:i?.subjectCode||"",classCode:i?.classCode||"",professorName:i?.professorName||null}})}function yme(){const e=Sf(async()=>{try{return await XN()}catch(r){return{error:r.message}}});if(e&&"error"in e)return h.jsxs("div",{className:"flex flex-col w-full items-center justify-center h-120 gap-3",children:[h.jsx(C1,{className:"h-12 w-12"}),h.jsx("div",{className:"text-center text-gray-500",children:e.error}),h.jsx(ti,{to:"/simulation",className:"bg-blue-500 text-white px-4 py-2 rounded-md hover:bg-blue-600 cursor-pointer",children:"  "})]});const{simulations:t}=e||{simulations:[]},n=e?{user_ability:{searchBtnSpeed:t.reduce((r,i)=>r+i.searchBtnTime,0)/t.length||0,totalSpeed:t.reduce((r,i)=>r+i.totalTime/i.subjectCount,0)/t.length||0,accuracy:t.reduce((r,i)=>r+i.accuracy,0)/t.length||0,captchaSpeed:t.reduce((r,i)=>r+(i.captchaTime-i.searchBtnTime)/i.subjectCount,0)/t.length||0}}:void 0;return!n||!e?h.jsxs("div",{className:"flex flex-col w-full items-center justify-center h-120",children:[h.jsx("div",{className:"animate-spin h-16 w-16 mx-auto my-10",children:h.jsxs("svg",{className:"h-16 w-16 fill-transparent",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[h.jsx("circle",{className:"opacity-25 stroke-blue-500",cx:"12",cy:"12",r:"10",strokeWidth:"4"}),h.jsx("path",{className:"opacity-75 fill-blue-500",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2.93 6.243A8.001 8.001 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3.93-1.695z"})]})}),h.jsxs("div",{className:"text-center text-gray-500 my-10",children:["    ... ",h.jsx("br",{})," "]})]}):h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"flex gap-3 flex-wrap",children:[h.jsx("div",{className:"relative flex-1 min-w-[240px]",children:h.jsx(dS,{result:n})}),h.jsx("div",{className:"flex-1 min-w-[240px] overflow-x-auto",children:h.jsx(mme,{result:e})})]}),h.jsx("div",{children:h.jsx(pme,{result:e})})]})}const vme=e=>R.createElement("svg",{width:26,height:26,viewBox:"0 0 26 26",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},R.createElement("path",{d:"M5.54964 1.99315C5.50209 1.17248 6.41035 0.64822 7.09733 1.0996L20.3806 9.83538C21.12 10.3219 20.9092 11.4586 20.0444 11.6476L15.7086 12.5948L21.1016 21.9358C21.3775 22.4141 21.2138 23.0258 20.7356 23.3019L17.8077 24.9923C17.3295 25.2684 16.7179 25.1043 16.4417 24.6263L11.0764 15.3334L8.21097 18.4797C7.61486 19.134 6.52521 18.7482 6.47343 17.8647L5.54964 1.99315Z",fill:"#0756FF"}));function bme(){return h.jsxs(h.Fragment,{children:[h.jsx("h1",{className:"text-2xl font-bold mb-2",children:"   "}),h.jsx("p",{className:"text-gray-500 mb-4",children:"    ."}),h.jsx(xme,{})]})}function xme(){const e=Sf(tpe),t=e?e.snapshots:[],n=e===void 0,r=e===null;return n?h.jsx("div",{className:"flex justify-center items-center h-64",children:h.jsx("span",{className:"text-gray-500",children:" ..."})}):r?h.jsx("div",{className:"flex justify-center items-center h-64",children:h.jsx("span",{className:"text-red-500",children:" "})}):t.length?t.map(i=>h.jsxs(ti,{to:`/simulation/logs/${i.simulation_run_id}`,className:"flex items-center justify-between bg-white p-3 rounded-md text-sm shadow-md shadow-gray-300 mb-2 hover:bg-gray-100",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("p",{className:"hidden",children:"id"}),h.jsx("span",{className:"font-bold",children:i.simulation_run_id}),h.jsx("p",{className:"hidden",children:""}),h.jsx("span",{children:i.department_name?i.department_name.split(" ")[i.department_name.split(" ").length-1]:"  "})]}),h.jsxs("div",{className:"flex items-center text-center",children:[h.jsxs("div",{className:"",children:[h.jsx("p",{className:"text-xs",children:" "}),h.jsxs("span",{className:"text-sm font-bold",children:[i.accuracy,"%"]})]}),h.jsxs("div",{className:"flex items-center justify-end gap-1 w-20",children:[h.jsx("p",{className:"hidden",children:""}),h.jsx(vme,{className:"w-4 h-4"}),h.jsx("span",{className:"font-bold",children:i.score.toFixed(3)})]})]})]},"simulation-log-"+i.simulation_run_id)):h.jsx("div",{className:"flex justify-center items-center",children:h.jsx("span",{className:"text-gray-500",children:" "})})}function wme(){return h.jsxs(h.Fragment,{children:[h.jsxs(ni,{children:[h.jsx("title",{children:"ALLCLL |  -  "}),h.jsx("meta",{name:"description",content:"  ,    ."})]}),h.jsxs("section",{className:"max-w-7xl mx-auto",children:[h.jsx("h1",{className:"text-2xl font-bold mb-2",children:" "}),h.jsx("p",{className:"text-gray-500 mb-4",children:"   ,    ."}),h.jsx("div",{className:"bg-white p-3 rounded-md text-sm shadow-md shadow-gray-300",children:h.jsx(yme,{})})]}),h.jsx("section",{className:"max-w-3xl mx-auto mt-12",children:h.jsx(bme,{})})]})}const jp=32,XT=200;function _me({result:e}){const t=Rme(e),n=(e.ended_at-e.started_at)/1e3,r=Array.from({length:Math.floor(n)+5},(i,s)=>s+1);return h.jsxs("div",{className:"relative",children:[h.jsxs("div",{className:"relative overflow-x-auto overflow-y-hidden",children:[h.jsx("div",{className:"absolute top-0 flex h-full",style:{left:`${XT}px`},children:r.map(i=>h.jsx("div",{className:"border-r border-gray-200 relative",style:{width:`${jp}px`},children:h.jsx("span",{className:"absolute text-xs text-gray-400 bg-white bottom-0 right-0 translate-x-1/2",children:i})},i))}),t.map((i,s)=>h.jsxs("div",{className:"flex items-center",style:{width:`${jp*r.length}px`},children:[h.jsxs("div",{className:"py-2 text-sm md:sticky left-0 right-0 z-10 bg-white",style:{width:`${XT}px`},children:[h.jsx("div",{className:`font-semibold ${jme(i.color)}`,children:i.name}),h.jsx("span",{className:`text-xs ${Tme(i.color)}`,children:i.code})]}),h.jsx("div",{className:"flex-1 relative h-8",children:h.jsx(Sme,{timelines:i.timelines})})]},"timeline-row-"+s))]}),h.jsx("div",{className:"pointer-events-none absolute inset-y-4 left-0 md:left-[200px] w-3 bg-gradient-to-r from-white to-transparent"}),h.jsx("div",{className:"pointer-events-none absolute inset-y-4 right-0 w-3 bg-gradient-to-l from-white to-transparent"})]})}function Sme({timelines:e}){return e.map((t,n)=>{const r=t.start*jp-12,i=t.duration*jp+24;return h.jsx("div",{className:`absolute top-1 h-6 rounded-full px-3 ${Cme(t.color)}`,style:{left:`${r}px`,width:`${i}px`},children:t.events.map((s,o)=>h.jsx(Eme,{event:s,startAt:t.start,color:t.color,isTop:t.isTop},"timeline-dot-"+o))},"timeline-bar-"+n)})}function Eme({event:e,startAt:t,color:n,isTop:r}){const i=(e.start-t)*jp+6,s=Ime(e.event),o=e.start,a=r?"top-4":"bottom-4";return h.jsxs("div",{className:"absolute top-1.5",style:{left:`${i}px`},children:[h.jsx("div",{className:`w-3 h-3 peer bg-white border-2 rounded-full hover:shadow cursor-pointer ${kme(n)}`}),h.jsxs("div",{className:`absolute z-10 ${a} left-1/2 -translate-x-1/2 px-2 py-1 rounded bg-black text-white text-nowrap text-xs text-center opacity-0 peer-hover:opacity-100 transition-opacity duration-200`,children:[s,h.jsx("br",{}),o.toFixed(2)," sec"]})]})}function Cme(e){switch(e){case"green":return"bg-green-100 border-green-500 text-green-700";case"red":return"bg-red-100 border-red-500 text-red-700";case"orange":return"bg-orange-100 border-orange-500 text-orange-700";case"yellow":return"bg-yellow-100 border-yellow-500 text-yellow-700";default:return"bg-gray-100 border-gray-500 text-gray-700"}}function kme(e){switch(e){case"green":return"border-green-500 text-green-500 shadow-green-500";case"red":return"border-red-500 text-red-500 shadow-red-500";case"orange":return"border-orange-500 text-orange-500 shadow-orange-500";case"yellow":return"border-yellow-500 text-yellow-500 shadow-yellow-500";default:return"border-gray-500 text-gray-500 shadow-gray-500"}}function Tme(e){switch(e){case"green":return"text-green-500";case"red":return"text-red-500";case"orange":return"text-orange-500";case"yellow":return"text-yellow-500";default:return"text-gray-500"}}function jme(e){switch(e){case"green":return"text-green-600";case"red":return"text-red-600";case"orange":return"text-orange-600";case"yellow":return"text-yellow-600";default:return"text-gray-600"}}function Ime(e){switch(e){case br.SEARCH:return"  ";case br.APPLY:return"  ";case br.CAPTCHA:return"   ";case br.SUBJECT_SUBMIT:return"   ";case br.SKIP_REFRESH:return" ";case br.REFRESH:return"  ";case br.CANCEL_SUBMIT:return"  "}}function Rme(e){const{timeline:t,started_at:n,subject_results:r}=e;return r.map(i=>({name:i.subjectInfo?.subjectName,code:i.subjectInfo?.subjectCode+"-"+i.subjectInfo?.classCode,color:t_(i.status),timelines:t.filter(s=>s.subject_id===i.subject_id).map(s=>({color:t_(s.status),start:(s.started_at-n)/1e3,duration:(s.ended_at-s.started_at)/1e3,isTop:r[0].subject_id===s.subject_id,events:s.events.reduce((o,a,l)=>[...o,{event:a.event,duration:l==0?0:(a.timestamp-s.events[l-1].timestamp)/1e3,start:(a.timestamp-n)/1e3}],[])}))}))}function Nme({result:e}){const{subject_results:t,started_at:n}=e;return h.jsxs("table",{className:"min-w-full text-sm text-center text-nowrap",children:[h.jsx("thead",{className:"bg-gray-100 text-gray-600",children:h.jsxs("tr",{children:[h.jsx("th",{className:"py-2 px-2",children:""}),h.jsx("th",{className:"py-2 px-2",children:""}),h.jsx("th",{className:"py-2 px-2",children:""}),h.jsx("th",{className:"py-2 px-2",children:""}),h.jsx("th",{className:"py-2 px-2",children:""}),h.jsx("th",{className:"py-2 px-2",children:"/"})]})}),h.jsx("tbody",{className:"text-gray-700",children:t.map(r=>h.jsxs("tr",{className:"border-t border-gray-200",children:[h.jsx("td",{className:"py-2 px-1",children:r.subjectInfo?.subjectCode+"-"+r.subjectInfo?.classCode}),h.jsx("td",{className:"py-2 px-1",children:r.subjectInfo?.subjectName}),h.jsx("td",{className:"py-2 px-1",children:r.subjectInfo?.professorName}),h.jsx("td",{className:"py-2 px-1",children:r.selected_index}),h.jsx("td",{className:"py-2 px-1",children:((r.ended_at-n)/1e3).toFixed(2)+" sec"}),h.jsx("td",{className:"py-2 px-2",children:h.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs ${Mte(r.status)}`,children:r.status===Jt.SUCCESS?"":""})})]},"subject-detail-row-"+r.subject_id))})]})}function Ome(){const{runId:e}=I8(),{data:t}=Cu(),n=Sf(()=>npe(Number(e))),r=R.useMemo(()=>Pme(t,n),[t,n]);return h.jsxs(h.Fragment,{children:[h.jsxs(ni,{children:[h.jsx("title",{children:"ALLCLL |  -   "}),h.jsx("meta",{name:"description",content:"  ,    ."})]}),h.jsx("h1",{className:"text-2xl font-bold mb-6",children:"   "}),h.jsxs("section",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[h.jsxs("div",{className:"relative bg-white p-6 rounded-2xl shadow-sm",children:[h.jsx("h2",{className:"text-lg font-semibold mb-4",children:"  "}),r?h.jsx(dS,{result:r}):h.jsx("div",{className:"text-center text-gray-500",children:"  ..."})]}),h.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm overflow-x-auto",children:[h.jsx("h2",{className:"text-lg font-semibold mb-4 min-w-[240px] overflow-x-auto",children:"  "}),r?h.jsx(Nme,{result:r}):h.jsx("div",{className:"text-center text-gray-500",children:"  ..."})]})]}),h.jsxs("section",{className:"bg-white p-6 rounded-2xl shadow-sm",children:[h.jsx("div",{className:"flex items-start justify-between mb-4",children:h.jsx("h2",{className:"text-lg font-semibold mb-4",children:"     TimeLine"})}),r?h.jsx(_me,{result:r}):h.jsx("div",{className:"text-center text-gray-500",children:"  ..."})]})]})}function Pme(e,t){if(!(!t||!e))return{...t,timeline:t.timeline.map(n=>({...n,subjectInfo:N_(e,n.subject_id)})),subject_results:t.subject_results.map(n=>({...n,subjectInfo:N_(e,n.subject_id)}))}}function Ame(){const e=Oa(),[t,n]=R.useState(!1),r=co(l=>l.filters),i=co(l=>l.setFilter),s=co(l=>l.resetFilters),{data:o}=go(e),a=em(o??[]).sort((l,c)=>l.localeCompare(c)).map(l=>l);return h.jsxs(je,{direction:"flex-wrap",align:"items-center",gap:"gap-2",className:"w-full",children:[h.jsx(CS,{handleOpenFilter:()=>n(!0)}),h.jsx(kS,{setFilter:i,selectedValue:r.department}),h.jsx(or,{filterKey:"days",options:Pn.days,selectedValues:r.days??[],setFilter:i}),h.jsx(or,{filterKey:"credits",options:Pn.credits,selectedValues:r.credits??[],setFilter:i}),h.jsx(or,{filterKey:"grades",options:Pn.grades,selectedValues:r.grades??[],setFilter:i}),r.note?.length>0&&h.jsx(or,{filterKey:"note",options:Pn.remark,selectedValues:r.note??[],setFilter:i}),r.categories?.length>0&&h.jsx(or,{filterKey:"categories",options:a,selectedValues:r.categories??[],setFilter:i}),r.classroom?.length>0&&h.jsx(or,{filterKey:"classroom",options:Pn.classRoom,selectedValues:r.classroom??[],setFilter:i}),h.jsx(TS,{filters:r,resetFilter:s}),t&&h.jsx(jS,{filterStore:co,onClose:()=>n(!1)})]})}function Mme(){const{openScheduleModal:e}=pi(),t=new qi().toUiData();return h.jsxs("div",{className:"flex flex-col items-center gap-3 pt-5",children:[h.jsx(Ey,{title:"  .",description:"  ?   ."}),h.jsx(Mt,{variant:"primary",size:"medium",onClick:()=>e(t),children:""})]})}function Dme({isActive:e,subject:t,onClick:n,forwardedRef:r}){const i=e?"text-blue-500 bg-blue-50":"text-gray-700 bg-white hover:bg-gray-50",{saveSchedule:s}=pi(),{selectTargetOnly:o}=Zp(),a=l=>{s(l,!1),o(t.subjectId),k1(t.deptCd)};return h.jsx("button",{type:"button",className:`border border-gray-200 rounded-lg p-3 sm:p-4 gap-2 sm:gap-3 ${i} cursor-pointer w-full text-left`,onClick:n,ref:r,children:h.jsxs(je,{direction:"flex-col",children:[h.jsxs(je,{justify:"justify-between",align:"items-center",gap:"gap-2 ",children:[h.jsx(Vt,{level:3,children:t.subjectName}),h.jsx("span",{className:"text-xs sm:text-sm text-gray-500",children:t.professorName})]}),h.jsxs(je,{direction:"flex-col",justify:"justify-start",align:"items-start",gap:"gap-2 ",children:[h.jsx("span",{className:"text-xs sm:text-sm text-gray-500",children:t.lesnTime}),h.jsx("span",{className:"text-xs sm:text-sm text-gray-500",children:t.lesnRoom}),h.jsxs("span",{className:"text-xs sm:text-sm text-gray-500",children:[t.studentYear,"/",t.manageDeptNm]})]}),h.jsxs(je,{justify:"justify-between",align:"items-center",children:[h.jsxs(Sa,{variant:"default",children:[t.tmNum[0],""]}),!e&&t.totalCount!==-1&&h.jsx(hS,{wishCount:t.totalCount??-1,formatter:l=>`: ${l}`}),e&&h.jsx(Mt,{variant:"primary",size:"medium",onClick:a,children:""})]})]})})}const Lme=({message:e})=>h.jsxs(je,{"flex-direction":"column","justify-content":"center","align-item":"center",style:{height:"100%"},children:[h.jsx(Jn,{children:e||" "}),h.jsx(Jn,{children:"  ."})]});function rO({subjects:e,expandToMax:t,isPending:n=!1}){const{visibleRows:r,loadMoreRef:i}=P1(e,"ref"),s=R.useRef(null),o=Ut(f=>f.schedule.subjectId),{openScheduleModal:a,cancelSchedule:l}=pi();if(n)return h.jsx(Lme,{message:"   ..."});if(!e.length)return h.jsx(Mme,{});const c=f=>{if(o===f.subjectId){l(void 0,!1);return}const p=new qi({...new qi().toApiData(),scheduleType:"official",subjectId:f.subjectId??-1},f);a(p.toUiData()),console.log("official",o);const x=new gf(f.lesnTime).toUiData(9)[0]?.top;t&&(t(),setTimeout(()=>{if(x){const _=Number.parseFloat(x);window.scrollTo({top:_,behavior:"smooth"})}},400))};return h.jsxs(je,{direction:"flex-col",justify:"justify-end",gap:"gap-2",children:[e.slice(0,r).map(f=>{const p=o===f.subjectId;return h.jsx(Dme,{subject:f,isActive:p,onClick:()=>c(f),forwardedRef:p?s:void 0},f.subjectId)}),r<e.length&&h.jsx("div",{ref:i,className:"load-more-trigger w-full h-10"})]})}const Fme=new qi().toUiData();function Bme(){const e=Oa(),{openScheduleModal:t}=pi(),{data:n,isPending:r}=zo(e),i=vf(n)??[],s=co(l=>l.filters),o=co(l=>l.setFilter),a=R.useDeferredValue(xf(i,s));return h.jsx(Wn,{children:h.jsxs(je,{direction:"flex-col",gap:"gap-3",className:"w-full bg-white h-screen md:border-t-0",children:[h.jsx(Su,{type:"text",value:s.keywords,placeholder:" ",onDelete:()=>o("keywords",""),onChange:l=>o("keywords",l.target.value),className:"w-full"}),h.jsx(Ame,{}),h.jsx(Mt,{variant:"text",size:"small",onClick:()=>t(Fme),children:"+   "}),h.jsx(je,{direction:"flex-col",className:"h-full overflow-hidden overflow-y-auto",children:h.jsx(rO,{subjects:a,isPending:r})})]})})}const $me="FALL_25",ZT=r1.findIndex(e=>e.semesterCode===$me),zme=ZT!==-1?r1.slice(0,ZT+1):[];function Ume({currentSemester:e}){const t="border-b-2 border-primary text-primary pb-2";return h.jsx(je,{gap:"gap-4",className:"border-b text-sm border-gray-200",children:zme.map(n=>{const r=e===n.semesterCode;return h.jsxs(ti,{to:`/timetable?semester=${n.semesterCode}`,className:r?t:"text-gray-500 pb-2",children:[n.semesterValue,""]},n.semesterCode)})})}var Ux={exports:{}},e8;function Hme(){return e8||(e8=1,(function(e){(function(t){var n=A(),r=z(),i=U(),s=O(),o={imagePlaceholder:void 0,cacheBust:!1},a={toSvg:l,toPng:f,toJpeg:p,toBlob:g,toPixelData:c,impl:{fontFaces:i,images:s,util:n,inliner:r,options:{}}};e.exports=a;function l(N,F){return F=F||{},y(F),Promise.resolve(N).then(function(L){return _(L,F.filter,!0)}).then(S).then(C).then($).then(function(L){return I(L,F.width||n.width(N),F.height||n.height(N))});function $(L){return F.bgcolor&&(L.style.backgroundColor=F.bgcolor),F.width&&(L.style.width=F.width+"px"),F.height&&(L.style.height=F.height+"px"),F.style&&Object.keys(F.style).forEach(function(Z){L.style[Z]=F.style[Z]}),L}}function c(N,F){return x(N,F||{}).then(function($){return $.getContext("2d").getImageData(0,0,n.width(N),n.height(N)).data})}function f(N,F){return x(N,F||{}).then(function($){return $.toDataURL()})}function p(N,F){return F=F||{},x(N,F).then(function($){return $.toDataURL("image/jpeg",F.quality||1)})}function g(N,F){return x(N,F||{}).then(n.canvasToBlob)}function y(N){typeof N.imagePlaceholder>"u"?a.impl.options.imagePlaceholder=o.imagePlaceholder:a.impl.options.imagePlaceholder=N.imagePlaceholder,typeof N.cacheBust>"u"?a.impl.options.cacheBust=o.cacheBust:a.impl.options.cacheBust=N.cacheBust}function x(N,F){return l(N,F).then(n.makeImage).then(n.delay(100)).then(function(L){var Z=$(N);return Z.getContext("2d").drawImage(L,0,0),Z});function $(L){var Z=document.createElement("canvas");if(Z.width=F.width||n.width(L),Z.height=F.height||n.height(L),F.bgcolor){var Y=Z.getContext("2d");Y.fillStyle=F.bgcolor,Y.fillRect(0,0,Z.width,Z.height)}return Z}}function _(N,F,$){if(!$&&F&&!F(N))return Promise.resolve();return Promise.resolve(N).then(L).then(function(he){return Z(N,he,F)}).then(function(he){return Y(N,he)});function L(he){return he instanceof HTMLCanvasElement?n.makeImage(he.toDataURL()):he.cloneNode(!1)}function Z(he,G,W){var Q=he.childNodes;if(Q.length===0)return Promise.resolve(G);return te(G,n.asArray(Q),W).then(function(){return G});function te(X,fe,B){var ee=Promise.resolve();return fe.forEach(function(ge){ee=ee.then(function(){return _(ge,B)}).then(function(V){V&&X.appendChild(V)})}),ee}}function Y(he,G){if(!(G instanceof Element))return G;return Promise.resolve().then(W).then(Q).then(te).then(X).then(function(){return G});function W(){fe(window.getComputedStyle(he),G.style);function fe(B,ee){B.cssText?ee.cssText=B.cssText:ge(B,ee);function ge(V,Te){n.asArray(V).forEach(function(Ce){Te.setProperty(Ce,V.getPropertyValue(Ce),V.getPropertyPriority(Ce))})}}}function Q(){[":before",":after"].forEach(function(B){fe(B)});function fe(B){var ee=window.getComputedStyle(he,B),ge=ee.getPropertyValue("content");if(ge===""||ge==="none")return;var V=n.uid();G.className=G.className+" "+V;var Te=document.createElement("style");Te.appendChild(Ce(V,B,ee)),G.appendChild(Te);function Ce(ke,Ve,Ue){var mt="."+ke+":"+Ve,De=Ue.cssText?lr(Ue):dt(Ue);return document.createTextNode(mt+"{"+De+"}");function lr(gn){var _n=gn.getPropertyValue("content");return gn.cssText+" content: "+_n+";"}function dt(gn){return n.asArray(gn).map(_n).join("; ")+";";function _n(vn){return vn+": "+gn.getPropertyValue(vn)+(gn.getPropertyPriority(vn)?" !important":"")}}}}}function te(){he instanceof HTMLTextAreaElement&&(G.innerHTML=he.value),he instanceof HTMLInputElement&&G.setAttribute("value",he.value)}function X(){G instanceof SVGElement&&(G.setAttribute("xmlns","http://www.w3.org/2000/svg"),G instanceof SVGRectElement&&["width","height"].forEach(function(fe){var B=G.getAttribute(fe);B&&G.style.setProperty(fe,B)}))}}}function S(N){return i.resolveAll().then(function(F){var $=document.createElement("style");return N.appendChild($),$.appendChild(document.createTextNode(F)),N})}function C(N){return s.inlineAll(N).then(function(){return N})}function I(N,F,$){return Promise.resolve(N).then(function(L){return L.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),new XMLSerializer().serializeToString(L)}).then(n.escapeXhtml).then(function(L){return'<foreignObject x="0" y="0" width="100%" height="100%">'+L+"</foreignObject>"}).then(function(L){return'<svg xmlns="http://www.w3.org/2000/svg" width="'+F+'" height="'+$+'">'+L+"</svg>"}).then(function(L){return"data:image/svg+xml;charset=utf-8,"+L})}function A(){return{escape:X,parseExtension:F,mimeType:$,dataAsUrl:te,isDataUrl:L,canvasToBlob:Y,resolveUrl:he,getAndEncode:Q,uid:G(),delay:fe,asArray:B,escapeXhtml:ee,makeImage:W,width:ge,height:V};function N(){var Ce="application/font-woff",ke="image/jpeg";return{woff:Ce,woff2:Ce,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:ke,jpeg:ke,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml"}}function F(Ce){var ke=/\.([^\.\/]*?)$/g.exec(Ce);return ke?ke[1]:""}function $(Ce){var ke=F(Ce).toLowerCase();return N()[ke]||""}function L(Ce){return Ce.search(/^(data:)/)!==-1}function Z(Ce){return new Promise(function(ke){for(var Ve=window.atob(Ce.toDataURL().split(",")[1]),Ue=Ve.length,mt=new Uint8Array(Ue),De=0;De<Ue;De++)mt[De]=Ve.charCodeAt(De);ke(new Blob([mt],{type:"image/png"}))})}function Y(Ce){return Ce.toBlob?new Promise(function(ke){Ce.toBlob(ke)}):Z(Ce)}function he(Ce,ke){var Ve=document.implementation.createHTMLDocument(),Ue=Ve.createElement("base");Ve.head.appendChild(Ue);var mt=Ve.createElement("a");return Ve.body.appendChild(mt),Ue.href=ke,mt.href=Ce,mt.href}function G(){var Ce=0;return function(){return"u"+ke()+Ce++;function ke(){return("0000"+(Math.random()*Math.pow(36,4)<<0).toString(36)).slice(-4)}}}function W(Ce){return new Promise(function(ke,Ve){var Ue=new Image;Ue.onload=function(){ke(Ue)},Ue.onerror=Ve,Ue.src=Ce})}function Q(Ce){var ke=3e4;return a.impl.options.cacheBust&&(Ce+=(/\?/.test(Ce)?"&":"?")+new Date().getTime()),new Promise(function(Ve){var Ue=new XMLHttpRequest;Ue.onreadystatechange=lr,Ue.ontimeout=dt,Ue.responseType="blob",Ue.timeout=ke,Ue.open("GET",Ce,!0),Ue.send();var mt;if(a.impl.options.imagePlaceholder){var De=a.impl.options.imagePlaceholder.split(/,/);De&&De[1]&&(mt=De[1])}function lr(){if(Ue.readyState===4){if(Ue.status!==200){mt?Ve(mt):gn("cannot fetch resource: "+Ce+", status: "+Ue.status);return}var _n=new FileReader;_n.onloadend=function(){var vn=_n.result.split(/,/)[1];Ve(vn)},_n.readAsDataURL(Ue.response)}}function dt(){mt?Ve(mt):gn("timeout of "+ke+"ms occured while fetching resource: "+Ce)}function gn(_n){console.error(_n),Ve("")}})}function te(Ce,ke){return"data:"+ke+";base64,"+Ce}function X(Ce){return Ce.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1")}function fe(Ce){return function(ke){return new Promise(function(Ve){setTimeout(function(){Ve(ke)},Ce)})}}function B(Ce){for(var ke=[],Ve=Ce.length,Ue=0;Ue<Ve;Ue++)ke.push(Ce[Ue]);return ke}function ee(Ce){return Ce.replace(/#/g,"%23").replace(/\n/g,"%0A")}function ge(Ce){var ke=Te(Ce,"border-left-width"),Ve=Te(Ce,"border-right-width");return Ce.scrollWidth+ke+Ve}function V(Ce){var ke=Te(Ce,"border-top-width"),Ve=Te(Ce,"border-bottom-width");return Ce.scrollHeight+ke+Ve}function Te(Ce,ke){var Ve=window.getComputedStyle(Ce).getPropertyValue(ke);return parseFloat(Ve.replace("px",""))}}function z(){var N=/url\(['"]?([^'"]+?)['"]?\)/g;return{inlineAll:Z,shouldProcess:F,impl:{readUrls:$,inline:L}};function F(Y){return Y.search(N)!==-1}function $(Y){for(var he=[],G;(G=N.exec(Y))!==null;)he.push(G[1]);return he.filter(function(W){return!n.isDataUrl(W)})}function L(Y,he,G,W){return Promise.resolve(he).then(function(te){return G?n.resolveUrl(te,G):te}).then(W||n.getAndEncode).then(function(te){return n.dataAsUrl(te,n.mimeType(he))}).then(function(te){return Y.replace(Q(he),"$1"+te+"$3")});function Q(te){return new RegExp(`(url\\(['"]?)(`+n.escape(te)+`)(['"]?\\))`,"g")}}function Z(Y,he,G){if(W())return Promise.resolve(Y);return Promise.resolve(Y).then($).then(function(Q){var te=Promise.resolve(Y);return Q.forEach(function(X){te=te.then(function(fe){return L(fe,X,he,G)})}),te});function W(){return!F(Y)}}}function U(){return{resolveAll:N,impl:{readAll:F}};function N(){return F().then(function($){return Promise.all($.map(function(L){return L.resolve()}))}).then(function($){return $.join(`
`)})}function F(){return Promise.resolve(n.asArray(document.styleSheets)).then(L).then($).then(function(Y){return Y.map(Z)});function $(Y){return Y.filter(function(he){return he.type===CSSRule.FONT_FACE_RULE}).filter(function(he){return r.shouldProcess(he.style.getPropertyValue("src"))})}function L(Y){var he=[];return Y.forEach(function(G){try{n.asArray(G.cssRules||[]).forEach(he.push.bind(he))}catch(W){console.log("Error while reading CSS rules from "+G.href,W.toString())}}),he}function Z(Y){return{resolve:function(){var G=(Y.parentStyleSheet||{}).href;return r.inlineAll(Y.cssText,G)},src:function(){return Y.style.getPropertyValue("src")}}}}}function O(){return{inlineAll:F,impl:{newImage:N}};function N($){return{inline:L};function L(Z){return n.isDataUrl($.src)?Promise.resolve():Promise.resolve($.src).then(Z||n.getAndEncode).then(function(Y){return n.dataAsUrl(Y,n.mimeType($.src))}).then(function(Y){return new Promise(function(he,G){$.onload=he,$.onerror=G,$.src=Y})})}}function F($){if(!($ instanceof Element))return Promise.resolve($);return L($).then(function(){return $ instanceof HTMLImageElement?N($).inline():Promise.all(n.asArray($.childNodes).map(function(Z){return F(Z)}))});function L(Z){var Y=Z.style.getPropertyValue("background");return Y?r.inlineAll(Y).then(function(he){Z.style.setProperty("background",he,Z.style.getPropertyPriority("background"))}).then(function(){return Z}):Promise.resolve(Z)}}}})()})(Ux)),Ux.exports}var Wme=Hme();const Vme=ds(Wme);var L0={exports:{}},qme=L0.exports,t8;function Qme(){return t8||(t8=1,(function(e,t){(function(n,r){r()})(qme,function(){function n(c,f){return typeof f>"u"?f={autoBom:!1}:typeof f!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),f={autoBom:!f}),f.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(c.type)?new Blob(["\uFEFF",c],{type:c.type}):c}function r(c,f,p){var g=new XMLHttpRequest;g.open("GET",c),g.responseType="blob",g.onload=function(){l(g.response,f,p)},g.onerror=function(){console.error("could not download file")},g.send()}function i(c){var f=new XMLHttpRequest;f.open("HEAD",c,!1);try{f.send()}catch{}return 200<=f.status&&299>=f.status}function s(c){try{c.dispatchEvent(new MouseEvent("click"))}catch{var f=document.createEvent("MouseEvents");f.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),c.dispatchEvent(f)}}var o=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof Ch=="object"&&Ch.global===Ch?Ch:void 0,a=o.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),l=o.saveAs||(typeof window!="object"||window!==o?function(){}:"download"in HTMLAnchorElement.prototype&&!a?function(c,f,p){var g=o.URL||o.webkitURL,y=document.createElement("a");f=f||c.name||"download",y.download=f,y.rel="noopener",typeof c=="string"?(y.href=c,y.origin===location.origin?s(y):i(y.href)?r(c,f,p):s(y,y.target="_blank")):(y.href=g.createObjectURL(c),setTimeout(function(){g.revokeObjectURL(y.href)},4e4),setTimeout(function(){s(y)},0))}:"msSaveOrOpenBlob"in navigator?function(c,f,p){if(f=f||c.name||"download",typeof c!="string")navigator.msSaveOrOpenBlob(n(c,p),f);else if(i(c))r(c,f,p);else{var g=document.createElement("a");g.href=c,g.target="_blank",setTimeout(function(){s(g)})}}:function(c,f,p,g){if(g=g||open("","_blank"),g&&(g.document.title=g.document.body.innerText="downloading..."),typeof c=="string")return r(c,f,p);var y=c.type==="application/octet-stream",x=/constructor/i.test(o.HTMLElement)||o.safari,_=/CriOS\/[\d]+/.test(navigator.userAgent);if((_||y&&x||a)&&typeof FileReader<"u"){var S=new FileReader;S.onloadend=function(){var A=S.result;A=_?A:A.replace(/^data:[^;]*;/,"data:attachment/file;"),g?g.location.href=A:location=A,g=null},S.readAsDataURL(c)}else{var C=o.URL||o.webkitURL,I=C.createObjectURL(c);g?g.location=I:location.href=I,g=null,setTimeout(function(){C.revokeObjectURL(I)},4e4)}});o.saveAs=l.saveAs=l,e.exports=l})})(L0)),L0.exports}var Kme=Qme();function Gme(e,t="image.png"){if(!e){console.error("Image reference is not set");return}Vme.toBlob(e).then(n=>Kme.saveAs(n,t)).catch(n=>{console.error("Error saving image:",n)})}const Yme=e=>R.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},R.createElement("path",{d:"M10 12.9791C9.8889 12.9791 9.78473 12.9619 9.68751 12.9274C9.59029 12.893 9.50001 12.8338 9.41668 12.7499L6.41668 9.74992C6.25001 9.58325 6.17001 9.38881 6.17668 9.16659C6.18334 8.94437 6.26334 8.74992 6.41668 8.58325C6.58334 8.41659 6.7814 8.32992 7.01084 8.32325C7.24029 8.31659 7.43807 8.39631 7.60418 8.56242L9.16668 10.1249V4.16659C9.16668 3.93048 9.24668 3.7327 9.40668 3.57325C9.56668 3.41381 9.76445 3.33381 10 3.33325C10.2356 3.3327 10.4336 3.4127 10.5942 3.57325C10.7547 3.73381 10.8345 3.93159 10.8333 4.16659V10.1249L12.3958 8.56242C12.5625 8.39575 12.7606 8.31575 12.99 8.32242C13.2195 8.32909 13.4172 8.41603 13.5833 8.58325C13.7361 8.74992 13.8161 8.94437 13.8233 9.16659C13.8306 9.38881 13.7506 9.58325 13.5833 9.74992L10.5833 12.7499C10.5 12.8333 10.4097 12.8924 10.3125 12.9274C10.2153 12.9624 10.1111 12.9796 10 12.9791ZM5.00001 16.6666C4.54168 16.6666 4.14945 16.5035 3.82334 16.1774C3.49723 15.8513 3.3339 15.4588 3.33334 14.9999V13.3333C3.33334 13.0971 3.41334 12.8994 3.57334 12.7399C3.73334 12.5805 3.93112 12.5005 4.16668 12.4999C4.40223 12.4994 4.60029 12.5794 4.76084 12.7399C4.9214 12.9005 5.00112 13.0983 5.00001 13.3333V14.9999H15V13.3333C15 13.0971 15.08 12.8994 15.24 12.7399C15.4 12.5805 15.5978 12.5005 15.8333 12.4999C16.0689 12.4994 16.267 12.5794 16.4275 12.7399C16.5881 12.9005 16.6678 13.0983 16.6667 13.3333V14.9999C16.6667 15.4583 16.5036 15.8508 16.1775 16.1774C15.8514 16.5041 15.4589 16.6671 15 16.6666H5.00001Z",fill:"#9CA3AF"}));function Jme({setIsOpenModal:e,timetables:t}){const n=Ut(o=>o.options.isMobile),r=Ea(o=>o.openBottomSheet),i=()=>{const o=Ut.getState()?.currentTimetable?.timeTableName,a=Ut.getState().options.containerRef;Gme(a,o?o+".png":".png")},s=()=>{e("create")};return h.jsxs(je,{children:[h.jsx(Ar,{icon:h.jsx(Yme,{className:"w-5 h-5"}),variant:"plain",label:"  ",onClick:i}),n&&h.jsx(Ar,{icon:h.jsx(A1,{className:"w-5 h-5"}),variant:"plain",label:" ",onClick:()=>r("search")}),!n&&t&&t.length>=0&&h.jsx(Mt,{variant:"text",size:"medium",onClick:s,children:"+  "})]})}const Xme=({setIsOpenModal:e,openCreateModal:t,timetables:n,currentTimetable:r})=>{const i=Ut(c=>c.pickTimetable),{mutate:s}=A9(),o=c=>{const f=n.find(p=>p.timeTableId===c.timeTableId);f&&i(f)},a=()=>{e("edit")},l=c=>{s(c)};return!r&&n.length===0?h.jsx(Mt,{variant:"primary",size:"medium",onClick:t,children:" "}):h.jsxs($d,{children:[h.jsx($d.Trigger,{label:r?r.timeTableName:" "}),h.jsx($d.Content,{children:h.jsxs(je,{direction:"flex-col",gap:"gap-4",children:[n.length===0&&h.jsx(Jn,{children:"  ."}),n.map(c=>h.jsxs(je,{gap:"gap-4",children:[h.jsx(Xy,{label:c.timeTableName,checked:r?.timeTableId===c.timeTableId,onChange:()=>o(c)},c.timeTableId),r?.timeTableId===c.timeTableId&&h.jsxs(je,{gap:"gap-4",children:[h.jsx(Mt,{variant:"text",size:"small",onClick:a,children:""}),h.jsx(Mt,{variant:"text",size:"small",textColor:"secondary",onClick:()=>l(c.timeTableId),children:""})]})]},c.timeTableName+c.timeTableId)),r&&h.jsx(Mt,{variant:"text",size:"small",textColor:"gray",onClick:t,children:"+  "})]})})]})};function Zme({onClose:e,type:t}){const[n,r]=R.useState(""),i=Ut(_=>_.currentTimetable),s=yu(),[o,a]=R.useState(i?.semesterCode??s.data?.semesterCode??""),{mutate:l}=oG(),{mutate:c}=A9(),{mutate:f}=M9(),p=()=>{t==="edit"&&i&&(c(i.timeTableId),e())},g=_=>{if(_.preventDefault(),i&&t==="edit"){l({timeTableId:i.timeTableId,timeTableName:n}),e();return}t==="create"&&(f({timeTableName:n,semesterCode:o}),e())},y=_=>{_.key==="Escape"&&e()};R.useEffect(()=>(window.addEventListener("keydown",y),()=>{window.removeEventListener("keydown",y)}),[]);const x=_=>{if(t==="edit"){alert("   .");return}a(_)};return h.jsx(Zn,{title:`${t==="edit"?" ":" "}`,onClose:e,isOpen:!0,children:h.jsxs("form",{onSubmit:g,children:[h.jsxs(Zn.Content,{children:[h.jsx(Mr,{children:" "}),h.jsx(Gl,{columns:{base:2},gap:"gap-2",children:r1.map(_=>h.jsx(Xn,{label:_.semesterValue,selected:_.semesterCode===o,onClick:()=>x(_.semesterCode)},_.semesterCode))}),h.jsx(w9,{id:"timetableName",required:!0,size:"medium",placeholder:"  .",value:n,onChange:_=>r(_.target.value)},"timetableName")]}),h.jsxs(Zn.Footer,{children:[h.jsx(Mt,{type:"submit",variant:"primary",size:"medium",children:""}),i&&t==="edit"&&h.jsx(Mt,{type:"button",variant:"secondary",textColor:"secondary",size:"medium",onClick:p,children:""})]})]})})}const ege=(e,t)=>{const n=Ut(i=>i.currentTimetable),r=Ut(i=>i.pickTimetable);return R.useEffect(()=>{r(t[0])},[e]),{currentSemester:e,currentTimetable:n}};function tge({currentSemester:e}){const{data:t}=O9(e),{currentTimetable:n}=ege(e,t??[]),r=Ut(c=>c.pickTimetable),{data:i}=P9(n?.timeTableId,e),[s,o]=R.useState(null),{cancelSchedule:a}=pi(),l=()=>{o("create")};return R.useEffect(()=>{a(void 0,!0)},[e,a]),R.useEffect(()=>{if(!t)return;!n&&t.length>0&&r(t[0]),t.find(f=>f.timeTableId===n?.timeTableId)||r(t[t.length-1])},[t]),h.jsxs(Wn,{className:"px-2 flex flex-col gap-2 relative overflow-hidden",children:[h.jsx("header",{children:h.jsxs(je,{align:"items-center",justify:"justify-between",gap:"gap-2",children:[h.jsx(Xme,{timetables:t??[],currentTimetable:n,setIsOpenModal:o,openCreateModal:l}),h.jsx(Jme,{setIsOpenModal:o}),s&&h.jsx(Zme,{type:s,onClose:()=>o(null)})]})}),h.jsx(CG,{schedules:i??[]})]})}function nge({onCloseSearch:e,onOpenFiltering:t}){const n=Oa(),{openScheduleModal:r}=pi(),{data:i,isPending:s}=zo(n),o=vf(i)??[],a=co(g=>g.filters),l=co(g=>g.setFilter),c=R.useDeferredValue(xf(o,a)),f=new qi().toUiData(),{keywords:p}=a;return h.jsx(tm,{children:({expandToMax:g})=>h.jsxs(h.Fragment,{children:[h.jsx(nm,{title:"",headerType:"add",onClose:e,onClick:()=>r(f)}),h.jsxs("div",{className:"sticky px-2 top-0 bg-white z-10 flex items-center gap-2 py-3",children:[h.jsx(Su,{type:"text",placeholder:"   ",value:p,onChange:y=>l("keywords",y.target.value),onDelete:()=>l("keywords",""),className:"w-full"}),h.jsx(Ar,{"aria-label":"filter",variant:"plain",label:"filter",icon:h.jsx(MR,{className:"w-6 h-6"}),onClick:()=>t()})]}),h.jsx(je,{direction:"flex-col",className:"max-h-[70vh] min-h-0 px-2 overflow-y-auto touch-auto",children:h.jsx(rO,{expandToMax:g,subjects:c,isPending:s})})]})})}const rge=(e,t)=>{const n=Ry(e),r=Ry(t);return{startHour:n.hour,startMinute:n.minute,endHour:r.hour,endMinute:r.minute}},ige={hour:"10",minute:"00"},Ry=(e,t=ige)=>{if(!e)return t;let[n,r]=e.split(":").map(Number);return Number.isNaN(n)&&(n=Number(t.hour)),Number.isNaN(r)&&(r=Number(t.minute)),{hour:n.toString(),minute:r.toString().padStart(2,"0")}},n8=e=>{const{hour:t,minute:n}=e;return`${t}:${n}`};function sge(e,t){return e.some(r=>r.dayOfWeeks===t)?e.filter(r=>r.dayOfWeeks!==t):[...e,{dayOfWeeks:t,startTime:"",endTime:""}]}function oge(e,t,n){const r=Ry(e.startTime),i=Ry(e.endTime);let s=r,o=i;switch(t){case"startHour":s={...r,hour:n};break;case"startMinute":s={...r,minute:n};break;case"endHour":o={...i,hour:n};break;case"endMinute":o={...i,minute:n};break}return{...e,startTime:n8(s),endTime:n8(o)}}const v0=Array.from({length:24},(e,t)=>`${t}`),b0=["00","10","20","30","40","50"];function age({timeRange:e,onChange:t,day:n}){const r=(i,s)=>{if(n){t(i,s,n);return}t(i,s)};return h.jsx("div",{className:" w-full h-3 flex gap-2 flex-col justify-center",children:h.jsxs("div",{className:"relative w-full flex gap-2 flex-wrap",children:[h.jsx("select",{name:"startHour",value:e.startHour??v0[8],onChange:i=>r("startHour",i.target.value),className:"bg-gray-100 px-3 py-2 rounded-md text-xs text-gray-600 w-fit",children:v0.map(i=>h.jsx("option",{value:i,children:i},i))}),h.jsx("select",{name:"startMinute",value:e.startMinute??b0[0],onChange:i=>r("startMinute",i.target.value),className:"bg-gray-100 px-3 py-2 rounded-md text-xs text-gray-600 w-fit",children:b0.map(i=>h.jsx("option",{value:i,children:i},i))}),h.jsx("span",{className:"text-gray-400 text-sm mx-1",children:"~"}),h.jsx("select",{name:"endHour",value:e.endHour??v0[9],onChange:i=>r("endHour",i.target.value),className:"bg-gray-100 px-3 py-2 rounded-md text-xs text-gray-600 w-fit",children:v0.map(i=>h.jsx("option",{value:i,children:i},i))}),h.jsx("select",{name:"endMinute",value:e.endMinute??b0[0],onChange:i=>r("endMinute",i.target.value),className:"bg-gray-100 px-3 py-2 rounded-md text-xs text-gray-600 w-fit",children:b0.map(i=>h.jsx("option",{value:i,children:i},i))})]})})}function iO(){const e=Ut(o=>o.options.isMobile),{schedule:t}=Vp(),{editSchedule:n}=pi(),r=[{id:"subjectName",name:"",value:t?.subjectName??""},{id:"professorName",name:"",value:t?.professorName??""},{id:"location",name:"",value:t?.location??""}],i=o=>{n(a=>({...a,timeSlots:sge(a.timeSlots,o)}))},s=(o,a,l)=>{n(c=>{const f=c.timeSlots.map(p=>p.dayOfWeeks===l?oge(p,o,a):p);return{...c,timeSlots:f}})};return h.jsxs(je,{direction:"flex-col",gap:e?"gap-4":"gap-5",children:[r.map(({id:o,name:a,value:l})=>h.jsx(w9,{size:"medium",id:o,placeholder:`${a} `,value:l,label:a,onChange:c=>n(f=>({...f,[o]:c.target.value})),required:!0},o)),h.jsxs(je,{gap:"gap-2",direction:"flex-col",children:[h.jsx(Mr,{children:""}),h.jsx(je,{direction:"flex-wrap",children:o1.map(o=>h.jsx(Xn,{label:o,selected:t.timeSlots.some(a=>a.dayOfWeeks===o),onClick:()=>i(o)},o))})]}),t.timeSlots.map(o=>h.jsxs(je,{direction:"flex-col",gap:"gap-4",children:[h.jsx(Mr,{children:o.dayOfWeeks}),h.jsx(age,{day:o.dayOfWeeks,timeRange:rge(o.startTime,o.endTime),onChange:s})]},o.dayOfWeeks))]})}function lge(){const{modalActionType:e}=Vp(),t=e===dr.CREATE?"":"",{saveSchedule:n,deleteSchedule:r,cancelSchedule:i}=pi(),s=hs(),o=c=>{c.key==="Escape"&&i(c)};R.useEffect(()=>(document.addEventListener("keydown",o),()=>{document.removeEventListener("keydown",o)}),[]);const a=c=>{n(c)},l=c=>{r(c)};return h.jsx(Zn,{title:`  ${t}`,onClose:i,isOpen:!0,children:h.jsxs("form",{onSubmit:a,className:"flex flex-col gap-5",children:[h.jsx(Zn.Content,{children:h.jsx(iO,{})}),h.jsxs(Zn.Footer,{children:[(e===dr.EDIT||e===dr.VIEW)&&h.jsx(Mt,{variant:"secondary",size:s?"small":"medium",onClick:l,children:""}),h.jsx(Mt,{type:"submit",variant:"primary",size:s?"small":"medium",children:""})]})]})})}const sO=e=>R.createElement("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},R.createElement("path",{d:"M8.5 4.6665C8.5 4.5339 8.44732 4.40672 8.35355 4.31295C8.25979 4.21918 8.13261 4.1665 8 4.1665C7.86739 4.1665 7.74022 4.21918 7.64645 4.31295C7.55268 4.40672 7.5 4.5339 7.5 4.6665V7.99984C7.49996 8.08461 7.52148 8.168 7.56253 8.24217C7.60358 8.31634 7.66282 8.37885 7.73467 8.42384L9.73467 9.67384C9.84712 9.74421 9.98292 9.76703 10.1122 9.73727C10.1762 9.72254 10.2367 9.69534 10.2902 9.65723C10.3437 9.61912 10.3892 9.57085 10.424 9.51517C10.4588 9.45949 10.4824 9.39749 10.4933 9.33272C10.5041 9.26794 10.5022 9.20165 10.4874 9.13764C10.4727 9.07363 10.4455 9.01315 10.4074 8.95965C10.3693 8.90615 10.321 8.86068 10.2653 8.82584L8.5 7.7225V4.6665Z",fill:"#D1D5DB"}),R.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.99996 2.1665C6.45286 2.1665 4.96913 2.78109 3.87517 3.87505C2.78121 4.96901 2.16663 6.45274 2.16663 7.99984C2.16663 9.54693 2.78121 11.0307 3.87517 12.1246C4.96913 13.2186 6.45286 13.8332 7.99996 13.8332C9.54706 13.8332 11.0308 13.2186 12.1248 12.1246C13.2187 11.0307 13.8333 9.54693 13.8333 7.99984C13.8333 6.45274 13.2187 4.96901 12.1248 3.87505C11.0308 2.78109 9.54706 2.1665 7.99996 2.1665ZM3.16663 7.99984C3.16663 7.36512 3.29164 6.73661 3.53454 6.1502C3.77744 5.56379 4.13346 5.03097 4.58228 4.58215C5.03109 4.13334 5.56392 3.77732 6.15032 3.53442C6.73673 3.29152 7.36524 3.1665 7.99996 3.1665C8.63468 3.1665 9.26319 3.29152 9.8496 3.53442C10.436 3.77732 10.9688 4.13334 11.4176 4.58215C11.8665 5.03097 12.2225 5.56379 12.4654 6.1502C12.7083 6.73661 12.8333 7.36512 12.8333 7.99984C12.8333 9.28172 12.3241 10.5111 11.4176 11.4175C10.5112 12.3239 9.28184 12.8332 7.99996 12.8332C6.71808 12.8332 5.4887 12.3239 4.58228 11.4175C3.67585 10.5111 3.16663 9.28172 3.16663 7.99984Z",fill:"#D1D5DB"})),oO=e=>R.createElement("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},R.createElement("path",{d:"M13.7069 6.79266L8.70688 1.79266C8.51936 1.60527 8.26511 1.5 8.00001 1.5C7.7349 1.5 7.48065 1.60527 7.29313 1.79266L2.29313 6.79266C2.19982 6.88528 2.12586 6.99552 2.07553 7.11698C2.02521 7.23844 1.99954 7.36869 2.00001 7.50016V13.5002C2.00001 13.6328 2.05268 13.7599 2.14645 13.8537C2.24022 13.9475 2.3674 14.0002 2.50001 14.0002H6.50001C6.63261 14.0002 6.75979 13.9475 6.85356 13.8537C6.94733 13.7599 7.00001 13.6328 7.00001 13.5002V10.0002H9.00001V13.5002C9.00001 13.6328 9.05268 13.7599 9.14645 13.8537C9.24022 13.9475 9.3674 14.0002 9.50001 14.0002H13.5C13.6326 14.0002 13.7598 13.9475 13.8536 13.8537C13.9473 13.7599 14 13.6328 14 13.5002V7.50016C14.0005 7.36869 13.9748 7.23844 13.9245 7.11698C13.8742 6.99552 13.8002 6.88528 13.7069 6.79266ZM13 13.0002H10V9.50016C10 9.36755 9.94733 9.24038 9.85356 9.14661C9.75979 9.05284 9.63261 9.00016 9.50001 9.00016H6.50001C6.3674 9.00016 6.24022 9.05284 6.14645 9.14661C6.05268 9.24038 6.00001 9.36755 6.00001 9.50016V13.0002H3.00001V7.50016L8.00001 2.50016L13 7.50016V13.0002Z",fill:"#D1D5DB"}));function cge(){const e=Oa(),{schedule:t}=Vp(),{deleteSchedule:n}=pi(),r=Ea(a=>a.closeBottomSheet),{data:i}=go(e),s=a=>{confirm("  ?")&&n(a)},o=i?.find(a=>a.subjectId===t.subjectId);return h.jsxs(Zn,{title:t.subjectName,onClose:()=>r("info"),isOpen:!0,children:[h.jsx(Zn.Content,{children:h.jsxs(je,{direction:"flex-col",gap:"gap-1",className:"w-80 text-sm text-gray-500",children:[h.jsx("p",{children:t.professorName??"  "}),h.jsxs(je,{align:"items-center",gap:"gap-2",children:[h.jsx(sO,{className:"w-4 h-4 text-gray-400"}),h.jsx("p",{children:o?.lesnTime})]}),h.jsxs(je,{align:"items-center",gap:"gap-2",children:[h.jsx(oO,{className:"w-4 h-4 text-gray-400"}),h.jsx("p",{children:o?.lesnRoom??"  "})]}),h.jsxs("p",{children:[o?.manageDeptNm," ",o?.studentYear+""," ",h.jsx("span",{className:"text-blue-500",children:o?.tmNum[0]+""})]})]})}),h.jsx(Zn.Footer,{children:h.jsx(Mt,{variant:"text",size:"medium",textColor:"secondary",onClick:s,children:""})})]})}function uge(){const{modalActionType:e}=Vp(),{cancelSchedule:t,deleteSchedule:n,saveSchedule:r}=pi(),i=l=>{t(l)},s=e===dr.CREATE?"":"",o=hs(),a=l=>{r(l)};return h.jsxs(tm,{children:[h.jsx(nm,{title:`  ${s}`,headerType:"close",onClose:i}),h.jsxs("form",{onSubmit:a,className:"flex flex-col gap-5",children:[h.jsx(je,{direction:"flex-col",className:"py-5 px-2 overflow-y-auto max-h-[80vh]",children:h.jsx(iO,{})}),h.jsxs(je,{justify:"justify-end",gap:o?"gap-2":"gap-4",className:"p-4",children:[(e===dr.EDIT||e===dr.VIEW)&&h.jsx(Mt,{variant:"secondary",size:o?"small":"medium",onClick:n,children:""}),h.jsx(Mt,{type:"submit",variant:"primary",size:o?"small":"medium",children:""})]})]})]})}function dge(){const e=Oa(),{schedule:t}=Vp(),{deleteSchedule:n,cancelSchedule:r}=pi(),{data:i}=go(e),s=a=>{confirm("  ?")&&n(a)},o=i?.find(a=>a.subjectId===t.subjectId);return h.jsxs(tm,{children:[h.jsx(nm,{headerType:"close",onClose:r}),h.jsxs(je,{direction:"flex-col",className:"px-2 py-3 w-full text-sm text-gray-500 gap-2",children:[h.jsx(Vt,{level:3,children:t.subjectName}),h.jsx("p",{className:"text-sm text-gray-500",children:t.professorName??"  "}),h.jsxs(je,{align:"items-center",children:[h.jsx(sO,{className:"w-4 h-4 text-gray-400"}),h.jsx("span",{children:o?.lesnTime})]}),h.jsxs(je,{align:"items-center",children:[h.jsx(oO,{className:"w-4 h-4 text-gray-400"}),h.jsx("span",{children:o?.lesnRoom??"  "})]}),h.jsxs(je,{children:[h.jsx("span",{children:o?.manageDeptNm}),h.jsxs("span",{children:[" ",o?.studentYear+""]}),h.jsx("span",{className:"text-blue-500 text-sm",children:o?.tmNum[0]+""})]}),h.jsxs(je,{children:[h.jsxs("span",{children:[o?.curiTypeCdNm??""," "]}),h.jsx("span",{children:o?.remark??""})]}),h.jsx(je,{justify:"justify-end",className:"px-2",children:h.jsx(Mt,{variant:"text",size:"medium",textColor:"secondary",onClick:s,children:""})})]})]})}function fge(){return hs()?h.jsx(hge,{}):h.jsx(pge,{})}function hge(){const e=Ea(f=>f.type),t=Ea(f=>f.closeBottomSheet),n=Ea(f=>f.openBottomSheet),r=()=>{t("search")},i=()=>{t("filter"),n("search")},s=()=>{n("search")},o=()=>{n("filter")},a=co(f=>f.filters),l=co(f=>f.setFilter),c=co(f=>f.resetFilters);return h.jsxs(h.Fragment,{children:[h.jsx($c,{when:e.search.isOpen,children:h.jsx(nge,{onCloseSearch:r,onOpenFiltering:o})}),h.jsx($c,{when:e.filter.isOpen,children:h.jsx(IS,{onCloseFiltering:i,filters:a,setFilter:l,resetFilter:c})}),h.jsx($c,{when:e.edit.isOpen,children:h.jsx(uge,{})}),h.jsx($c,{when:e.info.isOpen,children:h.jsx(dge,{})}),h.jsx($c,{when:!e.search.isOpen&&!e.filter.isOpen&&!e.edit.isOpen&&!e.info.isOpen,children:h.jsx("div",{className:"fixed bottom-4 right-4 z-5",children:h.jsx(Mt,{size:"small",variant:"circle",onClick:s,children:h.jsx(BR,{fill:"#ffffff",className:"w-6 h-6 cursor-pointer"})})})})]})}function pge(){const e=Ea(t=>t.type);return h.jsxs(h.Fragment,{children:[h.jsx($c,{when:e.edit.isOpen,children:h.jsx(lge,{})}),h.jsx($c,{when:e.info.isOpen,children:h.jsx(cge,{})})]})}function $c({when:e,children:t}){return e?h.jsx(h.Fragment,{children:t}):null}function mge(){const{data:e}=yu("timetable"),[t,n]=D8(),r=e?.semesterCode,i=t.get("semester")??r;return R.useEffect(()=>{!t.has("semester")&&r&&n({semester:r},{replace:!0})},[t,r,n]),{currentSemester:i??As.semesterCode,defaultSemester:r,isLoading:!e}}function gge(){const{currentSemester:e}=mge();return h.jsxs("div",{className:"px-4 py-2",children:[h.jsxs(ni,{children:[h.jsx("title",{children:"ALLCLL | "}),h.jsx("meta",{name:"description",content:"  , !"})]}),h.jsxs("div",{className:"grid md:grid-cols-5 gap-4 mb-4",children:[h.jsx("div",{className:"md:col-span-3 w-full",children:h.jsxs(je,{direction:"flex-col",gap:"gap-2",children:[h.jsx(Vt,{level:1,children:""}),h.jsx(Ume,{currentSemester:e}),h.jsx(tge,{currentSemester:e})]})}),h.jsx("div",{className:"w-full md:col-span-2 hidden md:block",children:h.jsx(Bme,{})})]}),h.jsx(fge,{})]})}const yge=xM([{path:"/",element:h.jsx(Ek,{}),errorElement:h.jsx(Mh,{}),children:[{path:"/",element:h.jsx(Qte,{})},{path:"survey",element:h.jsx(Boe,{})},{path:"about",element:h.jsx(Foe,{})},{path:"faq",element:h.jsx(ghe,{})}]},{path:"wishes",element:h.jsx(Ck,{serviceId:"baskets"}),errorElement:h.jsx(Whe,{}),children:[{path:"",element:h.jsx(Rhe,{})},{path:":id",element:h.jsx(Uhe,{})}]},{path:"live",element:h.jsx(Ck,{serviceId:"live"}),errorElement:h.jsx(Mh,{}),children:[{path:"",element:h.jsx(Moe,{})}]},{path:"simulation",element:h.jsx(XK,{}),errorElement:h.jsx(Mh,{}),children:[{path:"",element:h.jsx(fme,{})},{path:"logs",element:h.jsx(wme,{})},{path:"logs/:runId",element:h.jsx(Ome,{})}]},{path:"timetable",element:h.jsx(Ek,{}),children:[{index:!0,element:h.jsx(gge,{})}],errorElement:h.jsx(Mh,{})},{path:"*",element:h.jsx(JN,{})}]),aO=new tD;wD.init("rqww72xge1"),QV.initialize(),bD.initialize("G-YY1G1HPVMF");window.__TANSTACK_QUERY_CLIENT__=aO;vge();function vge(){aP.createRoot(document.getElementById("root")).render(h.jsx(R.StrictMode,{children:h.jsx(nD,{client:aO,children:h.jsx(EQ,{children:h.jsx(NM,{router:yge})})})})),"serviceWorker"in navigator&&navigator.serviceWorker.register("/serviceWorker.js").then(function(e){console.log("Service Worker registered with scope:",e.scope)}).catch(function(e){console.log("Service Worker registration failed:",e)})}
//# sourceMappingURL=index-BQsQkeZb.js.map
