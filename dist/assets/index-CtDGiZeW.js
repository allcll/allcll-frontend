try{let e=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},t=new e.Error().stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="78e809ac-0153-4cfc-968f-a8270c16db57",e._sentryDebugIdIdentifier="sentry-dbid-78e809ac-0153-4cfc-968f-a8270c16db57")}catch{}{let e=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};e.SENTRY_RELEASE={id:"5e0a2ce33afe250cfc59c92e4c3a91dc057932d4"}}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();const YR="modulepreload",XR=function(e){return"/"+e},Z5={},sp=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){let u=function(f){return Promise.all(f.map(p=>Promise.resolve(p).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};var o=u;document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=a?.nonce||a?.getAttribute("nonce");i=u(n.map(f=>{if(f=XR(f),f in Z5)return;Z5[f]=!0;const p=f.endsWith(".css"),g=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${g}`))return;const y=document.createElement("link");if(y.rel=p?"stylesheet":YR,p||(y.as="script"),y.crossOrigin="",y.href=f,l&&y.setAttribute("nonce",l),document.head.appendChild(y),p)return new Promise((b,_)=>{y.addEventListener("load",b),y.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${f}`)))})}))}function s(a){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a}return i.then(a=>{for(const l of a||[])l.status==="rejected"&&s(l.reason);return t().catch(s)})};var ah=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Di(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function JR(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var n=function r(){var i=!1;try{i=this instanceof r}catch{}return i?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var Tv={exports:{}},zf={},jv={exports:{}},Ht={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eS;function ZR(){if(eS)return Ht;eS=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),p=Symbol.iterator;function g(G){return G===null||typeof G!="object"?null:(G=p&&G[p]||G["@@iterator"],typeof G=="function"?G:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,_={};function C(G,ye,H){this.props=G,this.context=ye,this.refs=_,this.updater=H||y}C.prototype.isReactComponent={},C.prototype.setState=function(G,ye){if(typeof G!="object"&&typeof G!="function"&&G!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,G,ye,"setState")},C.prototype.forceUpdate=function(G){this.updater.enqueueForceUpdate(this,G,"forceUpdate")};function k(){}k.prototype=C.prototype;function R(G,ye,H){this.props=G,this.context=ye,this.refs=_,this.updater=H||y}var O=R.prototype=new k;O.constructor=R,b(O,C.prototype),O.isPureReactComponent=!0;var $=Array.isArray,z=Object.prototype.hasOwnProperty,j={current:null},A={key:!0,ref:!0,__self:!0,__source:!0};function B(G,ye,H){var Oe,Ee={},Te=null,Ye=null;if(ye!=null)for(Oe in ye.ref!==void 0&&(Ye=ye.ref),ye.key!==void 0&&(Te=""+ye.key),ye)z.call(ye,Oe)&&!A.hasOwnProperty(Oe)&&(Ee[Oe]=ye[Oe]);var qe=arguments.length-2;if(qe===1)Ee.children=H;else if(1<qe){for(var Ne=Array(qe),ct=0;ct<qe;ct++)Ne[ct]=arguments[ct+2];Ee.children=Ne}if(G&&G.defaultProps)for(Oe in qe=G.defaultProps,qe)Ee[Oe]===void 0&&(Ee[Oe]=qe[Oe]);return{$$typeof:e,type:G,key:Te,ref:Ye,props:Ee,_owner:j.current}}function U(G,ye){return{$$typeof:e,type:G.type,key:ye,ref:G.ref,props:G.props,_owner:G._owner}}function D(G){return typeof G=="object"&&G!==null&&G.$$typeof===e}function Z(G){var ye={"=":"=0",":":"=2"};return"$"+G.replace(/[=:]/g,function(H){return ye[H]})}var X=/\/+/g;function re(G,ye){return typeof G=="object"&&G!==null&&G.key!=null?Z(""+G.key):ye.toString(36)}function V(G,ye,H,Oe,Ee){var Te=typeof G;(Te==="undefined"||Te==="boolean")&&(G=null);var Ye=!1;if(G===null)Ye=!0;else switch(Te){case"string":case"number":Ye=!0;break;case"object":switch(G.$$typeof){case e:case t:Ye=!0}}if(Ye)return Ye=G,Ee=Ee(Ye),G=Oe===""?"."+re(Ye,0):Oe,$(Ee)?(H="",G!=null&&(H=G.replace(X,"$&/")+"/"),V(Ee,ye,H,"",function(ct){return ct})):Ee!=null&&(D(Ee)&&(Ee=U(Ee,H+(!Ee.key||Ye&&Ye.key===Ee.key?"":(""+Ee.key).replace(X,"$&/")+"/")+G)),ye.push(Ee)),1;if(Ye=0,Oe=Oe===""?".":Oe+":",$(G))for(var qe=0;qe<G.length;qe++){Te=G[qe];var Ne=Oe+re(Te,qe);Ye+=V(Te,ye,H,Ne,Ee)}else if(Ne=g(G),typeof Ne=="function")for(G=Ne.call(G),qe=0;!(Te=G.next()).done;)Te=Te.value,Ne=Oe+re(Te,qe++),Ye+=V(Te,ye,H,Ne,Ee);else if(Te==="object")throw ye=String(G),Error("Objects are not valid as a React child (found: "+(ye==="[object Object]"?"object with keys {"+Object.keys(G).join(", ")+"}":ye)+"). If you meant to render a collection of children, use an array instead.");return Ye}function q(G,ye,H){if(G==null)return G;var Oe=[],Ee=0;return V(G,Oe,"","",function(Te){return ye.call(H,Te,Ee++)}),Oe}function Q(G){if(G._status===-1){var ye=G._result;ye=ye(),ye.then(function(H){(G._status===0||G._status===-1)&&(G._status=1,G._result=H)},function(H){(G._status===0||G._status===-1)&&(G._status=2,G._result=H)}),G._status===-1&&(G._status=0,G._result=ye)}if(G._status===1)return G._result.default;throw G._result}var ne={current:null},ee={transition:null},fe={ReactCurrentDispatcher:ne,ReactCurrentBatchConfig:ee,ReactCurrentOwner:j};function F(){throw Error("act(...) is not supported in production builds of React.")}return Ht.Children={map:q,forEach:function(G,ye,H){q(G,function(){ye.apply(this,arguments)},H)},count:function(G){var ye=0;return q(G,function(){ye++}),ye},toArray:function(G){return q(G,function(ye){return ye})||[]},only:function(G){if(!D(G))throw Error("React.Children.only expected to receive a single React element child.");return G}},Ht.Component=C,Ht.Fragment=n,Ht.Profiler=i,Ht.PureComponent=R,Ht.StrictMode=r,Ht.Suspense=l,Ht.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fe,Ht.act=F,Ht.cloneElement=function(G,ye,H){if(G==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+G+".");var Oe=b({},G.props),Ee=G.key,Te=G.ref,Ye=G._owner;if(ye!=null){if(ye.ref!==void 0&&(Te=ye.ref,Ye=j.current),ye.key!==void 0&&(Ee=""+ye.key),G.type&&G.type.defaultProps)var qe=G.type.defaultProps;for(Ne in ye)z.call(ye,Ne)&&!A.hasOwnProperty(Ne)&&(Oe[Ne]=ye[Ne]===void 0&&qe!==void 0?qe[Ne]:ye[Ne])}var Ne=arguments.length-2;if(Ne===1)Oe.children=H;else if(1<Ne){qe=Array(Ne);for(var ct=0;ct<Ne;ct++)qe[ct]=arguments[ct+2];Oe.children=qe}return{$$typeof:e,type:G.type,key:Ee,ref:Te,props:Oe,_owner:Ye}},Ht.createContext=function(G){return G={$$typeof:o,_currentValue:G,_currentValue2:G,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},G.Provider={$$typeof:s,_context:G},G.Consumer=G},Ht.createElement=B,Ht.createFactory=function(G){var ye=B.bind(null,G);return ye.type=G,ye},Ht.createRef=function(){return{current:null}},Ht.forwardRef=function(G){return{$$typeof:a,render:G}},Ht.isValidElement=D,Ht.lazy=function(G){return{$$typeof:f,_payload:{_status:-1,_result:G},_init:Q}},Ht.memo=function(G,ye){return{$$typeof:u,type:G,compare:ye===void 0?null:ye}},Ht.startTransition=function(G){var ye=ee.transition;ee.transition={};try{G()}finally{ee.transition=ye}},Ht.unstable_act=F,Ht.useCallback=function(G,ye){return ne.current.useCallback(G,ye)},Ht.useContext=function(G){return ne.current.useContext(G)},Ht.useDebugValue=function(){},Ht.useDeferredValue=function(G){return ne.current.useDeferredValue(G)},Ht.useEffect=function(G,ye){return ne.current.useEffect(G,ye)},Ht.useId=function(){return ne.current.useId()},Ht.useImperativeHandle=function(G,ye,H){return ne.current.useImperativeHandle(G,ye,H)},Ht.useInsertionEffect=function(G,ye){return ne.current.useInsertionEffect(G,ye)},Ht.useLayoutEffect=function(G,ye){return ne.current.useLayoutEffect(G,ye)},Ht.useMemo=function(G,ye){return ne.current.useMemo(G,ye)},Ht.useReducer=function(G,ye,H){return ne.current.useReducer(G,ye,H)},Ht.useRef=function(G){return ne.current.useRef(G)},Ht.useState=function(G){return ne.current.useState(G)},Ht.useSyncExternalStore=function(G,ye,H){return ne.current.useSyncExternalStore(G,ye,H)},Ht.useTransition=function(){return ne.current.useTransition()},Ht.version="18.3.1",Ht}var tS;function i1(){return tS||(tS=1,jv.exports=ZR()),jv.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nS;function eP(){if(nS)return zf;nS=1;var e=i1(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function o(a,l,u){var f,p={},g=null,y=null;u!==void 0&&(g=""+u),l.key!==void 0&&(g=""+l.key),l.ref!==void 0&&(y=l.ref);for(f in l)r.call(l,f)&&!s.hasOwnProperty(f)&&(p[f]=l[f]);if(a&&a.defaultProps)for(f in l=a.defaultProps,l)p[f]===void 0&&(p[f]=l[f]);return{$$typeof:t,type:a,key:g,ref:y,props:p,_owner:i.current}}return zf.Fragment=n,zf.jsx=o,zf.jsxs=o,zf}var rS;function tP(){return rS||(rS=1,Tv.exports=eP()),Tv.exports}var h=tP(),I=i1();const wn=Di(I);var Um={},Nv={exports:{}},Ci={},Iv={exports:{}},Rv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iS;function nP(){return iS||(iS=1,function(e){function t(ee,fe){var F=ee.length;ee.push(fe);e:for(;0<F;){var G=F-1>>>1,ye=ee[G];if(0<i(ye,fe))ee[G]=fe,ee[F]=ye,F=G;else break e}}function n(ee){return ee.length===0?null:ee[0]}function r(ee){if(ee.length===0)return null;var fe=ee[0],F=ee.pop();if(F!==fe){ee[0]=F;e:for(var G=0,ye=ee.length,H=ye>>>1;G<H;){var Oe=2*(G+1)-1,Ee=ee[Oe],Te=Oe+1,Ye=ee[Te];if(0>i(Ee,F))Te<ye&&0>i(Ye,Ee)?(ee[G]=Ye,ee[Te]=F,G=Te):(ee[G]=Ee,ee[Oe]=F,G=Oe);else if(Te<ye&&0>i(Ye,F))ee[G]=Ye,ee[Te]=F,G=Te;else break e}}return fe}function i(ee,fe){var F=ee.sortIndex-fe.sortIndex;return F!==0?F:ee.id-fe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],u=[],f=1,p=null,g=3,y=!1,b=!1,_=!1,C=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function O(ee){for(var fe=n(u);fe!==null;){if(fe.callback===null)r(u);else if(fe.startTime<=ee)r(u),fe.sortIndex=fe.expirationTime,t(l,fe);else break;fe=n(u)}}function $(ee){if(_=!1,O(ee),!b)if(n(l)!==null)b=!0,Q(z);else{var fe=n(u);fe!==null&&ne($,fe.startTime-ee)}}function z(ee,fe){b=!1,_&&(_=!1,k(B),B=-1),y=!0;var F=g;try{for(O(fe),p=n(l);p!==null&&(!(p.expirationTime>fe)||ee&&!Z());){var G=p.callback;if(typeof G=="function"){p.callback=null,g=p.priorityLevel;var ye=G(p.expirationTime<=fe);fe=e.unstable_now(),typeof ye=="function"?p.callback=ye:p===n(l)&&r(l),O(fe)}else r(l);p=n(l)}if(p!==null)var H=!0;else{var Oe=n(u);Oe!==null&&ne($,Oe.startTime-fe),H=!1}return H}finally{p=null,g=F,y=!1}}var j=!1,A=null,B=-1,U=5,D=-1;function Z(){return!(e.unstable_now()-D<U)}function X(){if(A!==null){var ee=e.unstable_now();D=ee;var fe=!0;try{fe=A(!0,ee)}finally{fe?re():(j=!1,A=null)}}else j=!1}var re;if(typeof R=="function")re=function(){R(X)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,q=V.port2;V.port1.onmessage=X,re=function(){q.postMessage(null)}}else re=function(){C(X,0)};function Q(ee){A=ee,j||(j=!0,re())}function ne(ee,fe){B=C(function(){ee(e.unstable_now())},fe)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(ee){ee.callback=null},e.unstable_continueExecution=function(){b||y||(b=!0,Q(z))},e.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<ee?Math.floor(1e3/ee):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(ee){switch(g){case 1:case 2:case 3:var fe=3;break;default:fe=g}var F=g;g=fe;try{return ee()}finally{g=F}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(ee,fe){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var F=g;g=ee;try{return fe()}finally{g=F}},e.unstable_scheduleCallback=function(ee,fe,F){var G=e.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?G+F:G):F=G,ee){case 1:var ye=-1;break;case 2:ye=250;break;case 5:ye=1073741823;break;case 4:ye=1e4;break;default:ye=5e3}return ye=F+ye,ee={id:f++,callback:fe,priorityLevel:ee,startTime:F,expirationTime:ye,sortIndex:-1},F>G?(ee.sortIndex=F,t(u,ee),n(l)===null&&ee===n(u)&&(_?(k(B),B=-1):_=!0,ne($,F-G))):(ee.sortIndex=ye,t(l,ee),b||y||(b=!0,Q(z))),ee},e.unstable_shouldYield=Z,e.unstable_wrapCallback=function(ee){var fe=g;return function(){var F=g;g=fe;try{return ee.apply(this,arguments)}finally{g=F}}}}(Rv)),Rv}var sS;function rP(){return sS||(sS=1,Iv.exports=nP()),Iv.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oS;function iP(){if(oS)return Ci;oS=1;var e=i1(),t=rP();function n(c){for(var d="https://reactjs.org/docs/error-decoder.html?invariant="+c,m=1;m<arguments.length;m++)d+="&args[]="+encodeURIComponent(arguments[m]);return"Minified React error #"+c+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function s(c,d){o(c,d),o(c+"Capture",d)}function o(c,d){for(i[c]=d,c=0;c<d.length;c++)r.add(d[c])}var a=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),l=Object.prototype.hasOwnProperty,u=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function g(c){return l.call(p,c)?!0:l.call(f,c)?!1:u.test(c)?p[c]=!0:(f[c]=!0,!1)}function y(c,d,m,x){if(m!==null&&m.type===0)return!1;switch(typeof d){case"function":case"symbol":return!0;case"boolean":return x?!1:m!==null?!m.acceptsBooleans:(c=c.toLowerCase().slice(0,5),c!=="data-"&&c!=="aria-");default:return!1}}function b(c,d,m,x){if(d===null||typeof d>"u"||y(c,d,m,x))return!0;if(x)return!1;if(m!==null)switch(m.type){case 3:return!d;case 4:return d===!1;case 5:return isNaN(d);case 6:return isNaN(d)||1>d}return!1}function _(c,d,m,x,S,T,M){this.acceptsBooleans=d===2||d===3||d===4,this.attributeName=x,this.attributeNamespace=S,this.mustUseProperty=m,this.propertyName=c,this.type=d,this.sanitizeURL=T,this.removeEmptyString=M}var C={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(c){C[c]=new _(c,0,!1,c,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(c){var d=c[0];C[d]=new _(d,1,!1,c[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(c){C[c]=new _(c,2,!1,c.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(c){C[c]=new _(c,2,!1,c,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(c){C[c]=new _(c,3,!1,c.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(c){C[c]=new _(c,3,!0,c,null,!1,!1)}),["capture","download"].forEach(function(c){C[c]=new _(c,4,!1,c,null,!1,!1)}),["cols","rows","size","span"].forEach(function(c){C[c]=new _(c,6,!1,c,null,!1,!1)}),["rowSpan","start"].forEach(function(c){C[c]=new _(c,5,!1,c.toLowerCase(),null,!1,!1)});var k=/[\-:]([a-z])/g;function R(c){return c[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(c){var d=c.replace(k,R);C[d]=new _(d,1,!1,c,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(c){var d=c.replace(k,R);C[d]=new _(d,1,!1,c,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(c){var d=c.replace(k,R);C[d]=new _(d,1,!1,c,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(c){C[c]=new _(c,1,!1,c.toLowerCase(),null,!1,!1)}),C.xlinkHref=new _("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(c){C[c]=new _(c,1,!1,c.toLowerCase(),null,!0,!0)});function O(c,d,m,x){var S=C.hasOwnProperty(d)?C[d]:null;(S!==null?S.type!==0:x||!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(b(d,m,S,x)&&(m=null),x||S===null?g(d)&&(m===null?c.removeAttribute(d):c.setAttribute(d,""+m)):S.mustUseProperty?c[S.propertyName]=m===null?S.type===3?!1:"":m:(d=S.attributeName,x=S.attributeNamespace,m===null?c.removeAttribute(d):(S=S.type,m=S===3||S===4&&m===!0?"":""+m,x?c.setAttributeNS(x,d,m):c.setAttribute(d,m))))}var $=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,z=Symbol.for("react.element"),j=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),B=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),D=Symbol.for("react.provider"),Z=Symbol.for("react.context"),X=Symbol.for("react.forward_ref"),re=Symbol.for("react.suspense"),V=Symbol.for("react.suspense_list"),q=Symbol.for("react.memo"),Q=Symbol.for("react.lazy"),ne=Symbol.for("react.offscreen"),ee=Symbol.iterator;function fe(c){return c===null||typeof c!="object"?null:(c=ee&&c[ee]||c["@@iterator"],typeof c=="function"?c:null)}var F=Object.assign,G;function ye(c){if(G===void 0)try{throw Error()}catch(m){var d=m.stack.trim().match(/\n( *(at )?)/);G=d&&d[1]||""}return`
`+G+c}var H=!1;function Oe(c,d){if(!c||H)return"";H=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(d)if(d=function(){throw Error()},Object.defineProperty(d.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(d,[])}catch(be){var x=be}Reflect.construct(c,[],d)}else{try{d.call()}catch(be){x=be}c.call(d.prototype)}else{try{throw Error()}catch(be){x=be}c()}}catch(be){if(be&&x&&typeof be.stack=="string"){for(var S=be.stack.split(`
`),T=x.stack.split(`
`),M=S.length-1,K=T.length-1;1<=M&&0<=K&&S[M]!==T[K];)K--;for(;1<=M&&0<=K;M--,K--)if(S[M]!==T[K]){if(M!==1||K!==1)do if(M--,K--,0>K||S[M]!==T[K]){var ie=`
`+S[M].replace(" at new "," at ");return c.displayName&&ie.includes("<anonymous>")&&(ie=ie.replace("<anonymous>",c.displayName)),ie}while(1<=M&&0<=K);break}}}finally{H=!1,Error.prepareStackTrace=m}return(c=c?c.displayName||c.name:"")?ye(c):""}function Ee(c){switch(c.tag){case 5:return ye(c.type);case 16:return ye("Lazy");case 13:return ye("Suspense");case 19:return ye("SuspenseList");case 0:case 2:case 15:return c=Oe(c.type,!1),c;case 11:return c=Oe(c.type.render,!1),c;case 1:return c=Oe(c.type,!0),c;default:return""}}function Te(c){if(c==null)return null;if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case A:return"Fragment";case j:return"Portal";case U:return"Profiler";case B:return"StrictMode";case re:return"Suspense";case V:return"SuspenseList"}if(typeof c=="object")switch(c.$$typeof){case Z:return(c.displayName||"Context")+".Consumer";case D:return(c._context.displayName||"Context")+".Provider";case X:var d=c.render;return c=c.displayName,c||(c=d.displayName||d.name||"",c=c!==""?"ForwardRef("+c+")":"ForwardRef"),c;case q:return d=c.displayName||null,d!==null?d:Te(c.type)||"Memo";case Q:d=c._payload,c=c._init;try{return Te(c(d))}catch{}}return null}function Ye(c){var d=c.type;switch(c.tag){case 24:return"Cache";case 9:return(d.displayName||"Context")+".Consumer";case 10:return(d._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return c=d.render,c=c.displayName||c.name||"",d.displayName||(c!==""?"ForwardRef("+c+")":"ForwardRef");case 7:return"Fragment";case 5:return d;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Te(d);case 8:return d===B?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof d=="function")return d.displayName||d.name||null;if(typeof d=="string")return d}return null}function qe(c){switch(typeof c){case"boolean":case"number":case"string":case"undefined":return c;case"object":return c;default:return""}}function Ne(c){var d=c.type;return(c=c.nodeName)&&c.toLowerCase()==="input"&&(d==="checkbox"||d==="radio")}function ct(c){var d=Ne(c)?"checked":"value",m=Object.getOwnPropertyDescriptor(c.constructor.prototype,d),x=""+c[d];if(!c.hasOwnProperty(d)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var S=m.get,T=m.set;return Object.defineProperty(c,d,{configurable:!0,get:function(){return S.call(this)},set:function(M){x=""+M,T.call(this,M)}}),Object.defineProperty(c,d,{enumerable:m.enumerable}),{getValue:function(){return x},setValue:function(M){x=""+M},stopTracking:function(){c._valueTracker=null,delete c[d]}}}}function xn(c){c._valueTracker||(c._valueTracker=ct(c))}function It(c){if(!c)return!1;var d=c._valueTracker;if(!d)return!0;var m=d.getValue(),x="";return c&&(x=Ne(c)?c.checked?"true":"false":c.value),c=x,c!==m?(d.setValue(c),!0):!1}function Cn(c){if(c=c||(typeof document<"u"?document:void 0),typeof c>"u")return null;try{return c.activeElement||c.body}catch{return c.body}}function sn(c,d){var m=d.checked;return F({},d,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:m??c._wrapperState.initialChecked})}function yn(c,d){var m=d.defaultValue==null?"":d.defaultValue,x=d.checked!=null?d.checked:d.defaultChecked;m=qe(d.value!=null?d.value:m),c._wrapperState={initialChecked:x,initialValue:m,controlled:d.type==="checkbox"||d.type==="radio"?d.checked!=null:d.value!=null}}function Fi(c,d){d=d.checked,d!=null&&O(c,"checked",d,!1)}function ei(c,d){Fi(c,d);var m=qe(d.value),x=d.type;if(m!=null)x==="number"?(m===0&&c.value===""||c.value!=m)&&(c.value=""+m):c.value!==""+m&&(c.value=""+m);else if(x==="submit"||x==="reset"){c.removeAttribute("value");return}d.hasOwnProperty("value")?gi(c,d.type,m):d.hasOwnProperty("defaultValue")&&gi(c,d.type,qe(d.defaultValue)),d.checked==null&&d.defaultChecked!=null&&(c.defaultChecked=!!d.defaultChecked)}function Bi(c,d,m){if(d.hasOwnProperty("value")||d.hasOwnProperty("defaultValue")){var x=d.type;if(!(x!=="submit"&&x!=="reset"||d.value!==void 0&&d.value!==null))return;d=""+c._wrapperState.initialValue,m||d===c.value||(c.value=d),c.defaultValue=d}m=c.name,m!==""&&(c.name=""),c.defaultChecked=!!c._wrapperState.initialChecked,m!==""&&(c.name=m)}function gi(c,d,m){(d!=="number"||Cn(c.ownerDocument)!==c)&&(m==null?c.defaultValue=""+c._wrapperState.initialValue:c.defaultValue!==""+m&&(c.defaultValue=""+m))}var wt=Array.isArray;function on(c,d,m,x){if(c=c.options,d){d={};for(var S=0;S<m.length;S++)d["$"+m[S]]=!0;for(m=0;m<c.length;m++)S=d.hasOwnProperty("$"+c[m].value),c[m].selected!==S&&(c[m].selected=S),S&&x&&(c[m].defaultSelected=!0)}else{for(m=""+qe(m),d=null,S=0;S<c.length;S++){if(c[S].value===m){c[S].selected=!0,x&&(c[S].defaultSelected=!0);return}d!==null||c[S].disabled||(d=c[S])}d!==null&&(d.selected=!0)}}function pt(c,d){if(d.dangerouslySetInnerHTML!=null)throw Error(n(91));return F({},d,{value:void 0,defaultValue:void 0,children:""+c._wrapperState.initialValue})}function Bt(c,d){var m=d.value;if(m==null){if(m=d.children,d=d.defaultValue,m!=null){if(d!=null)throw Error(n(92));if(wt(m)){if(1<m.length)throw Error(n(93));m=m[0]}d=m}d==null&&(d=""),m=d}c._wrapperState={initialValue:qe(m)}}function Rt(c,d){var m=qe(d.value),x=qe(d.defaultValue);m!=null&&(m=""+m,m!==c.value&&(c.value=m),d.defaultValue==null&&c.defaultValue!==m&&(c.defaultValue=m)),x!=null&&(c.defaultValue=""+x)}function qn(c){var d=c.textContent;d===c._wrapperState.initialValue&&d!==""&&d!==null&&(c.value=d)}function Ce(c){switch(c){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Re(c,d){return c==null||c==="http://www.w3.org/1999/xhtml"?Ce(d):c==="http://www.w3.org/2000/svg"&&d==="foreignObject"?"http://www.w3.org/1999/xhtml":c}var ut,vt=function(c){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(d,m,x,S){MSApp.execUnsafeLocalFunction(function(){return c(d,m,x,S)})}:c}(function(c,d){if(c.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in c)c.innerHTML=d;else{for(ut=ut||document.createElement("div"),ut.innerHTML="<svg>"+d.valueOf().toString()+"</svg>",d=ut.firstChild;c.firstChild;)c.removeChild(c.firstChild);for(;d.firstChild;)c.appendChild(d.firstChild)}});function zt(c,d){if(d){var m=c.firstChild;if(m&&m===c.lastChild&&m.nodeType===3){m.nodeValue=d;return}}c.textContent=d}var hn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},nr=["Webkit","ms","Moz","O"];Object.keys(hn).forEach(function(c){nr.forEach(function(d){d=d+c.charAt(0).toUpperCase()+c.substring(1),hn[d]=hn[c]})});function rr(c,d,m){return d==null||typeof d=="boolean"||d===""?"":m||typeof d!="number"||d===0||hn.hasOwnProperty(c)&&hn[c]?(""+d).trim():d+"px"}function ti(c,d){c=c.style;for(var m in d)if(d.hasOwnProperty(m)){var x=m.indexOf("--")===0,S=rr(m,d[m],x);m==="float"&&(m="cssFloat"),x?c.setProperty(m,S):c[m]=S}}var br=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ve(c,d){if(d){if(br[c]&&(d.children!=null||d.dangerouslySetInnerHTML!=null))throw Error(n(137,c));if(d.dangerouslySetInnerHTML!=null){if(d.children!=null)throw Error(n(60));if(typeof d.dangerouslySetInnerHTML!="object"||!("__html"in d.dangerouslySetInnerHTML))throw Error(n(61))}if(d.style!=null&&typeof d.style!="object")throw Error(n(62))}}function Xn(c,d){if(c.indexOf("-")===-1)return typeof d.is=="string";switch(c){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Dn=null;function rs(c){return c=c.target||c.srcElement||window,c.correspondingUseElement&&(c=c.correspondingUseElement),c.nodeType===3?c.parentNode:c}var Qe=null,zi=null,ks=null;function Co(c){if(c=kf(c)){if(typeof Qe!="function")throw Error(n(280));var d=c.stateNode;d&&(d=rm(d),Qe(c.stateNode,c.type,d))}}function eo(c){zi?ks?ks.push(c):ks=[c]:zi=c}function Es(){if(zi){var c=zi,d=ks;if(ks=zi=null,Co(c),d)for(c=0;c<d.length;c++)Co(d[c])}}function nu(c,d){return c(d)}function ru(){}var te=!1;function me(c,d,m){if(te)return c(d,m);te=!0;try{return nu(c,d,m)}finally{te=!1,(zi!==null||ks!==null)&&(ru(),Es())}}function _e(c,d){var m=c.stateNode;if(m===null)return null;var x=rm(m);if(x===null)return null;m=x[d];e:switch(d){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(x=!x.disabled)||(c=c.type,x=!(c==="button"||c==="input"||c==="select"||c==="textarea")),c=!x;break e;default:c=!1}if(c)return null;if(m&&typeof m!="function")throw Error(n(231,d,typeof m));return m}var Me=!1;if(a)try{var je={};Object.defineProperty(je,"passive",{get:function(){Me=!0}}),window.addEventListener("test",je,je),window.removeEventListener("test",je,je)}catch{Me=!1}function Ke(c,d,m,x,S,T,M,K,ie){var be=Array.prototype.slice.call(arguments,3);try{d.apply(m,be)}catch(Pe){this.onError(Pe)}}var it=!1,Ze=null,nt=!1,lt=null,at={onError:function(c){it=!0,Ze=c}};function tt(c,d,m,x,S,T,M,K,ie){it=!1,Ze=null,Ke.apply(at,arguments)}function Pt(c,d,m,x,S,T,M,K,ie){if(tt.apply(this,arguments),it){if(it){var be=Ze;it=!1,Ze=null}else throw Error(n(198));nt||(nt=!0,lt=be)}}function $t(c){var d=c,m=c;if(c.alternate)for(;d.return;)d=d.return;else{c=d;do d=c,(d.flags&4098)!==0&&(m=d.return),c=d.return;while(c)}return d.tag===3?m:null}function Ln(c){if(c.tag===13){var d=c.memoizedState;if(d===null&&(c=c.alternate,c!==null&&(d=c.memoizedState)),d!==null)return d.dehydrated}return null}function ir(c){if($t(c)!==c)throw Error(n(188))}function an(c){var d=c.alternate;if(!d){if(d=$t(c),d===null)throw Error(n(188));return d!==c?null:c}for(var m=c,x=d;;){var S=m.return;if(S===null)break;var T=S.alternate;if(T===null){if(x=S.return,x!==null){m=x;continue}break}if(S.child===T.child){for(T=S.child;T;){if(T===m)return ir(S),c;if(T===x)return ir(S),d;T=T.sibling}throw Error(n(188))}if(m.return!==x.return)m=S,x=T;else{for(var M=!1,K=S.child;K;){if(K===m){M=!0,m=S,x=T;break}if(K===x){M=!0,x=S,m=T;break}K=K.sibling}if(!M){for(K=T.child;K;){if(K===m){M=!0,m=T,x=S;break}if(K===x){M=!0,x=T,m=S;break}K=K.sibling}if(!M)throw Error(n(189))}}if(m.alternate!==x)throw Error(n(190))}if(m.tag!==3)throw Error(n(188));return m.stateNode.current===m?c:d}function pn(c){return c=an(c),c!==null?wr(c):null}function wr(c){if(c.tag===5||c.tag===6)return c;for(c=c.child;c!==null;){var d=wr(c);if(d!==null)return d;c=c.sibling}return null}var Ts=t.unstable_scheduleCallback,ni=t.unstable_cancelCallback,tn=t.unstable_shouldYield,$i=t.unstable_requestPaint,Wt=t.unstable_now,is=t.unstable_getCurrentPriorityLevel,ri=t.unstable_ImmediatePriority,ss=t.unstable_UserBlockingPriority,qt=t.unstable_NormalPriority,Vn=t.unstable_LowPriority,ii=t.unstable_IdlePriority,Ui=null,Jt=null;function ko(c){if(Jt&&typeof Jt.onCommitFiberRoot=="function")try{Jt.onCommitFiberRoot(Ui,c,void 0,(c.current.flags&128)===128)}catch{}}var mt=Math.clz32?Math.clz32:Fp,iu=Math.log,Lp=Math.LN2;function Fp(c){return c>>>=0,c===0?32:31-(iu(c)/Lp|0)|0}var gn=64,to=4194304;function js(c){switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return c&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return c}}function Ns(c,d){var m=c.pendingLanes;if(m===0)return 0;var x=0,S=c.suspendedLanes,T=c.pingedLanes,M=m&268435455;if(M!==0){var K=M&~S;K!==0?x=js(K):(T&=M,T!==0&&(x=js(T)))}else M=m&~S,M!==0?x=js(M):T!==0&&(x=js(T));if(x===0)return 0;if(d!==0&&d!==x&&(d&S)===0&&(S=x&-x,T=d&-d,S>=T||S===16&&(T&4194240)!==0))return d;if((x&4)!==0&&(x|=m&16),d=c.entangledLanes,d!==0)for(c=c.entanglements,d&=x;0<d;)m=31-mt(d),S=1<<m,x|=c[m],d&=~S;return x}function lf(c,d){switch(c){case 1:case 2:case 4:return d+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cf(c,d){for(var m=c.suspendedLanes,x=c.pingedLanes,S=c.expirationTimes,T=c.pendingLanes;0<T;){var M=31-mt(T),K=1<<M,ie=S[M];ie===-1?((K&m)===0||(K&x)!==0)&&(S[M]=lf(K,d)):ie<=d&&(c.expiredLanes|=K),T&=~K}}function ga(c){return c=c.pendingLanes&-1073741825,c!==0?c:c&1073741824?1073741824:0}function uf(){var c=gn;return gn<<=1,(gn&4194240)===0&&(gn=64),c}function ya(c){for(var d=[],m=0;31>m;m++)d.push(c);return d}function va(c,d,m){c.pendingLanes|=d,d!==536870912&&(c.suspendedLanes=0,c.pingedLanes=0),c=c.eventTimes,d=31-mt(d),c[d]=m}function Nl(c,d){var m=c.pendingLanes&~d;c.pendingLanes=d,c.suspendedLanes=0,c.pingedLanes=0,c.expiredLanes&=d,c.mutableReadLanes&=d,c.entangledLanes&=d,d=c.entanglements;var x=c.eventTimes;for(c=c.expirationTimes;0<m;){var S=31-mt(m),T=1<<S;d[S]=0,x[S]=-1,c[S]=-1,m&=~T}}function su(c,d){var m=c.entangledLanes|=d;for(c=c.entanglements;m;){var x=31-mt(m),S=1<<x;S&d|c[x]&d&&(c[x]|=d),m&=~S}}var mn=0;function Zt(c){return c&=-c,1<c?4<c?(c&268435455)!==0?16:536870912:4:1}var ou,df,Bp,Br,Eo,xa=!1,Hi=[],Is=null,Rs=null,_n=null,zr=new Map,Ps=new Map,yi=[],ff="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Os(c,d){switch(c){case"focusin":case"focusout":Is=null;break;case"dragenter":case"dragleave":Rs=null;break;case"mouseover":case"mouseout":_n=null;break;case"pointerover":case"pointerout":zr.delete(d.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ps.delete(d.pointerId)}}function Il(c,d,m,x,S,T){return c===null||c.nativeEvent!==T?(c={blockedOn:d,domEventName:m,eventSystemFlags:x,nativeEvent:T,targetContainers:[S]},d!==null&&(d=kf(d),d!==null&&df(d)),c):(c.eventSystemFlags|=x,d=c.targetContainers,S!==null&&d.indexOf(S)===-1&&d.push(S),c)}function os(c,d,m,x,S){switch(d){case"focusin":return Is=Il(Is,c,d,m,x,S),!0;case"dragenter":return Rs=Il(Rs,c,d,m,x,S),!0;case"mouseover":return _n=Il(_n,c,d,m,x,S),!0;case"pointerover":var T=S.pointerId;return zr.set(T,Il(zr.get(T)||null,c,d,m,x,S)),!0;case"gotpointercapture":return T=S.pointerId,Ps.set(T,Il(Ps.get(T)||null,c,d,m,x,S)),!0}return!1}function au(c){var d=Wl(c.target);if(d!==null){var m=$t(d);if(m!==null){if(d=m.tag,d===13){if(d=Ln(m),d!==null){c.blockedOn=d,Eo(c.priority,function(){Bp(m)});return}}else if(d===3&&m.stateNode.current.memoizedState.isDehydrated){c.blockedOn=m.tag===3?m.stateNode.containerInfo:null;return}}}c.blockedOn=null}function Rl(c){if(c.blockedOn!==null)return!1;for(var d=c.targetContainers;0<d.length;){var m=Ol(c.domEventName,c.eventSystemFlags,d[0],c.nativeEvent);if(m===null){m=c.nativeEvent;var x=new m.constructor(m.type,m);Dn=x,m.target.dispatchEvent(x),Dn=null}else return d=kf(m),d!==null&&df(d),c.blockedOn=m,!1;d.shift()}return!0}function lu(c,d,m){Rl(c)&&m.delete(d)}function Pl(){xa=!1,Is!==null&&Rl(Is)&&(Is=null),Rs!==null&&Rl(Rs)&&(Rs=null),_n!==null&&Rl(_n)&&(_n=null),zr.forEach(lu),Ps.forEach(lu)}function To(c,d){c.blockedOn===d&&(c.blockedOn=null,xa||(xa=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Pl)))}function ba(c){function d(S){return To(S,c)}if(0<Hi.length){To(Hi[0],c);for(var m=1;m<Hi.length;m++){var x=Hi[m];x.blockedOn===c&&(x.blockedOn=null)}}for(Is!==null&&To(Is,c),Rs!==null&&To(Rs,c),_n!==null&&To(_n,c),zr.forEach(d),Ps.forEach(d),m=0;m<yi.length;m++)x=yi[m],x.blockedOn===c&&(x.blockedOn=null);for(;0<yi.length&&(m=yi[0],m.blockedOn===null);)au(m),m.blockedOn===null&&yi.shift()}var wa=$.ReactCurrentBatchConfig,no=!0;function ly(c,d,m,x){var S=mn,T=wa.transition;wa.transition=null;try{mn=1,_a(c,d,m,x)}finally{mn=S,wa.transition=T}}function cy(c,d,m,x){var S=mn,T=wa.transition;wa.transition=null;try{mn=4,_a(c,d,m,x)}finally{mn=S,wa.transition=T}}function _a(c,d,m,x){if(no){var S=Ol(c,d,m,x);if(S===null)yy(c,d,x,jo,m),Os(c,x);else if(os(S,c,d,m,x))x.stopPropagation();else if(Os(c,x),d&4&&-1<ff.indexOf(c)){for(;S!==null;){var T=kf(S);if(T!==null&&ou(T),T=Ol(c,d,m,x),T===null&&yy(c,d,x,jo,m),T===S)break;S=T}S!==null&&x.stopPropagation()}else yy(c,d,x,null,m)}}var jo=null;function Ol(c,d,m,x){if(jo=null,c=rs(x),c=Wl(c),c!==null)if(d=$t(c),d===null)c=null;else if(m=d.tag,m===13){if(c=Ln(d),c!==null)return c;c=null}else if(m===3){if(d.stateNode.current.memoizedState.isDehydrated)return d.tag===3?d.stateNode.containerInfo:null;c=null}else d!==c&&(c=null);return jo=c,null}function zp(c){switch(c){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(is()){case ri:return 1;case ss:return 4;case qt:case Vn:return 16;case ii:return 536870912;default:return 16}default:return 16}}var ro=null,hf=null,Sa=null;function cu(){if(Sa)return Sa;var c,d=hf,m=d.length,x,S="value"in ro?ro.value:ro.textContent,T=S.length;for(c=0;c<m&&d[c]===S[c];c++);var M=m-c;for(x=1;x<=M&&d[m-x]===S[T-x];x++);return Sa=S.slice(c,1<x?1-x:void 0)}function Ml(c){var d=c.keyCode;return"charCode"in c?(c=c.charCode,c===0&&d===13&&(c=13)):c=d,c===10&&(c=13),32<=c||c===13?c:0}function No(){return!0}function Al(){return!1}function _r(c){function d(m,x,S,T,M){this._reactName=m,this._targetInst=S,this.type=x,this.nativeEvent=T,this.target=M,this.currentTarget=null;for(var K in c)c.hasOwnProperty(K)&&(m=c[K],this[K]=m?m(T):T[K]);return this.isDefaultPrevented=(T.defaultPrevented!=null?T.defaultPrevented:T.returnValue===!1)?No:Al,this.isPropagationStopped=Al,this}return F(d.prototype,{preventDefault:function(){this.defaultPrevented=!0;var m=this.nativeEvent;m&&(m.preventDefault?m.preventDefault():typeof m.returnValue!="unknown"&&(m.returnValue=!1),this.isDefaultPrevented=No)},stopPropagation:function(){var m=this.nativeEvent;m&&(m.stopPropagation?m.stopPropagation():typeof m.cancelBubble!="unknown"&&(m.cancelBubble=!0),this.isPropagationStopped=No)},persist:function(){},isPersistent:No}),d}var Io={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(c){return c.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pf=_r(Io),io=F({},Io,{view:0,detail:0}),mf=_r(io),Dl,Ll,Ro,Jn=F({},io,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Bl,button:0,buttons:0,relatedTarget:function(c){return c.relatedTarget===void 0?c.fromElement===c.srcElement?c.toElement:c.fromElement:c.relatedTarget},movementX:function(c){return"movementX"in c?c.movementX:(c!==Ro&&(Ro&&c.type==="mousemove"?(Dl=c.screenX-Ro.screenX,Ll=c.screenY-Ro.screenY):Ll=Dl=0,Ro=c),Dl)},movementY:function(c){return"movementY"in c?c.movementY:Ll}}),Ca=_r(Jn),Fl=F({},Jn,{dataTransfer:0}),$p=_r(Fl),uu=F({},io,{relatedTarget:0}),du=_r(uu),Up=F({},Io,{animationName:0,elapsedTime:0,pseudoElement:0}),fu=_r(Up),gf=F({},Io,{clipboardData:function(c){return"clipboardData"in c?c.clipboardData:window.clipboardData}}),Po=_r(gf),yf=F({},Io,{data:0}),hu=_r(yf),pu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Hp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function uy(c){var d=this.nativeEvent;return d.getModifierState?d.getModifierState(c):(c=Hp[c])?!!d[c]:!1}function Bl(){return uy}var mu=F({},io,{key:function(c){if(c.key){var d=pu[c.key]||c.key;if(d!=="Unidentified")return d}return c.type==="keypress"?(c=Ml(c),c===13?"Enter":String.fromCharCode(c)):c.type==="keydown"||c.type==="keyup"?vf[c.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Bl,charCode:function(c){return c.type==="keypress"?Ml(c):0},keyCode:function(c){return c.type==="keydown"||c.type==="keyup"?c.keyCode:0},which:function(c){return c.type==="keypress"?Ml(c):c.type==="keydown"||c.type==="keyup"?c.keyCode:0}}),dy=_r(mu),xf=F({},Jn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),gu=_r(xf),fy=F({},io,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Bl}),Wp=_r(fy),hy=F({},Io,{propertyName:0,elapsedTime:0,pseudoElement:0}),qp=_r(hy),Vp=F({},Jn,{deltaX:function(c){return"deltaX"in c?c.deltaX:"wheelDeltaX"in c?-c.wheelDeltaX:0},deltaY:function(c){return"deltaY"in c?c.deltaY:"wheelDeltaY"in c?-c.wheelDeltaY:"wheelDelta"in c?-c.wheelDelta:0},deltaZ:0,deltaMode:0}),py=_r(Vp),Qp=[9,13,27,32],zl=a&&"CompositionEvent"in window,ka=null;a&&"documentMode"in document&&(ka=document.documentMode);var Kp=a&&"TextEvent"in window&&!ka,Gp=a&&(!zl||ka&&8<ka&&11>=ka),Yp=" ",Xp=!1;function $l(c,d){switch(c){case"keyup":return Qp.indexOf(d.keyCode)!==-1;case"keydown":return d.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function as(c){return c=c.detail,typeof c=="object"&&"data"in c?c.data:null}var bn=!1;function yu(c,d){switch(c){case"compositionend":return as(d);case"keypress":return d.which!==32?null:(Xp=!0,Yp);case"textInput":return c=d.data,c===Yp&&Xp?null:c;default:return null}}function vi(c,d){if(bn)return c==="compositionend"||!zl&&$l(c,d)?(c=cu(),Sa=hf=ro=null,bn=!1,c):null;switch(c){case"paste":return null;case"keypress":if(!(d.ctrlKey||d.altKey||d.metaKey)||d.ctrlKey&&d.altKey){if(d.char&&1<d.char.length)return d.char;if(d.which)return String.fromCharCode(d.which)}return null;case"compositionend":return Gp&&d.locale!=="ko"?null:d.data;default:return null}}var my={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vu(c){var d=c&&c.nodeName&&c.nodeName.toLowerCase();return d==="input"?!!my[c.type]:d==="textarea"}function bf(c,d,m,x){eo(x),d=em(d,"onChange"),0<d.length&&(m=new pf("onChange","change",null,m,x),c.push({event:m,listeners:d}))}var Wi=null,Oo=null;function Ea(c){m3(c,0)}function qi(c){var d=wu(c);if(It(d))return c}function Jp(c,d){if(c==="change")return d}var v=!1;if(a){var w;if(a){var E="oninput"in document;if(!E){var N=document.createElement("div");N.setAttribute("oninput","return;"),E=typeof N.oninput=="function"}w=E}else w=!1;v=w&&(!document.documentMode||9<document.documentMode)}function P(){Wi&&(Wi.detachEvent("onpropertychange",L),Oo=Wi=null)}function L(c){if(c.propertyName==="value"&&qi(Oo)){var d=[];bf(d,Oo,c,rs(c)),me(Ea,d)}}function W(c,d,m){c==="focusin"?(P(),Wi=d,Oo=m,Wi.attachEvent("onpropertychange",L)):c==="focusout"&&P()}function Y(c){if(c==="selectionchange"||c==="keyup"||c==="keydown")return qi(Oo)}function se(c,d){if(c==="click")return qi(d)}function ae(c,d){if(c==="input"||c==="change")return qi(d)}function de(c,d){return c===d&&(c!==0||1/c===1/d)||c!==c&&d!==d}var J=typeof Object.is=="function"?Object.is:de;function he(c,d){if(J(c,d))return!0;if(typeof c!="object"||c===null||typeof d!="object"||d===null)return!1;var m=Object.keys(c),x=Object.keys(d);if(m.length!==x.length)return!1;for(x=0;x<m.length;x++){var S=m[x];if(!l.call(d,S)||!J(c[S],d[S]))return!1}return!0}function oe(c){for(;c&&c.firstChild;)c=c.firstChild;return c}function ue(c,d){var m=oe(c);c=0;for(var x;m;){if(m.nodeType===3){if(x=c+m.textContent.length,c<=d&&x>=d)return{node:m,offset:d-c};c=x}e:{for(;m;){if(m.nextSibling){m=m.nextSibling;break e}m=m.parentNode}m=void 0}m=oe(m)}}function pe(c,d){return c&&d?c===d?!0:c&&c.nodeType===3?!1:d&&d.nodeType===3?pe(c,d.parentNode):"contains"in c?c.contains(d):c.compareDocumentPosition?!!(c.compareDocumentPosition(d)&16):!1:!1}function ce(){for(var c=window,d=Cn();d instanceof c.HTMLIFrameElement;){try{var m=typeof d.contentWindow.location.href=="string"}catch{m=!1}if(m)c=d.contentWindow;else break;d=Cn(c.document)}return d}function ve(c){var d=c&&c.nodeName&&c.nodeName.toLowerCase();return d&&(d==="input"&&(c.type==="text"||c.type==="search"||c.type==="tel"||c.type==="url"||c.type==="password")||d==="textarea"||c.contentEditable==="true")}function we(c){var d=ce(),m=c.focusedElem,x=c.selectionRange;if(d!==m&&m&&m.ownerDocument&&pe(m.ownerDocument.documentElement,m)){if(x!==null&&ve(m)){if(d=x.start,c=x.end,c===void 0&&(c=d),"selectionStart"in m)m.selectionStart=d,m.selectionEnd=Math.min(c,m.value.length);else if(c=(d=m.ownerDocument||document)&&d.defaultView||window,c.getSelection){c=c.getSelection();var S=m.textContent.length,T=Math.min(x.start,S);x=x.end===void 0?T:Math.min(x.end,S),!c.extend&&T>x&&(S=x,x=T,T=S),S=ue(m,T);var M=ue(m,x);S&&M&&(c.rangeCount!==1||c.anchorNode!==S.node||c.anchorOffset!==S.offset||c.focusNode!==M.node||c.focusOffset!==M.offset)&&(d=d.createRange(),d.setStart(S.node,S.offset),c.removeAllRanges(),T>x?(c.addRange(d),c.extend(M.node,M.offset)):(d.setEnd(M.node,M.offset),c.addRange(d)))}}for(d=[],c=m;c=c.parentNode;)c.nodeType===1&&d.push({element:c,left:c.scrollLeft,top:c.scrollTop});for(typeof m.focus=="function"&&m.focus(),m=0;m<d.length;m++)c=d[m],c.element.scrollLeft=c.left,c.element.scrollTop=c.top}}var Se=a&&"documentMode"in document&&11>=document.documentMode,ke=null,De=null,Ue=null,Le=!1;function Be(c,d,m){var x=m.window===m?m.document:m.nodeType===9?m:m.ownerDocument;Le||ke==null||ke!==Cn(x)||(x=ke,"selectionStart"in x&&ve(x)?x={start:x.selectionStart,end:x.selectionEnd}:(x=(x.ownerDocument&&x.ownerDocument.defaultView||window).getSelection(),x={anchorNode:x.anchorNode,anchorOffset:x.anchorOffset,focusNode:x.focusNode,focusOffset:x.focusOffset}),Ue&&he(Ue,x)||(Ue=x,x=em(De,"onSelect"),0<x.length&&(d=new pf("onSelect","select",null,d,m),c.push({event:d,listeners:x}),d.target=ke)))}function We(c,d){var m={};return m[c.toLowerCase()]=d.toLowerCase(),m["Webkit"+c]="webkit"+d,m["Moz"+c]="moz"+d,m}var ze={animationend:We("Animation","AnimationEnd"),animationiteration:We("Animation","AnimationIteration"),animationstart:We("Animation","AnimationStart"),transitionend:We("Transition","TransitionEnd")},Xe={},St={};a&&(St=document.createElement("div").style,"AnimationEvent"in window||(delete ze.animationend.animation,delete ze.animationiteration.animation,delete ze.animationstart.animation),"TransitionEvent"in window||delete ze.transitionend.transition);function Tt(c){if(Xe[c])return Xe[c];if(!ze[c])return c;var d=ze[c],m;for(m in d)if(d.hasOwnProperty(m)&&m in St)return Xe[c]=d[m];return c}var Dt=Tt("animationend"),$r=Tt("animationiteration"),_t=Tt("animationstart"),ur=Tt("transitionend"),dr=new Map,Ul="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Fn(c,d){dr.set(c,d),s(d,[c])}for(var Ms=0;Ms<Ul.length;Ms++){var Hl=Ul[Ms],sR=Hl.toLowerCase(),oR=Hl[0].toUpperCase()+Hl.slice(1);Fn(sR,"on"+oR)}Fn(Dt,"onAnimationEnd"),Fn($r,"onAnimationIteration"),Fn(_t,"onAnimationStart"),Fn("dblclick","onDoubleClick"),Fn("focusin","onFocus"),Fn("focusout","onBlur"),Fn(ur,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),aR=new Set("cancel close invalid load scroll toggle".split(" ").concat(wf));function p3(c,d,m){var x=c.type||"unknown-event";c.currentTarget=m,Pt(x,d,void 0,c),c.currentTarget=null}function m3(c,d){d=(d&4)!==0;for(var m=0;m<c.length;m++){var x=c[m],S=x.event;x=x.listeners;e:{var T=void 0;if(d)for(var M=x.length-1;0<=M;M--){var K=x[M],ie=K.instance,be=K.currentTarget;if(K=K.listener,ie!==T&&S.isPropagationStopped())break e;p3(S,K,be),T=ie}else for(M=0;M<x.length;M++){if(K=x[M],ie=K.instance,be=K.currentTarget,K=K.listener,ie!==T&&S.isPropagationStopped())break e;p3(S,K,be),T=ie}}}if(nt)throw c=lt,nt=!1,lt=null,c}function On(c,d){var m=d[Sy];m===void 0&&(m=d[Sy]=new Set);var x=c+"__bubble";m.has(x)||(g3(d,c,2,!1),m.add(x))}function gy(c,d,m){var x=0;d&&(x|=4),g3(m,c,x,d)}var Zp="_reactListening"+Math.random().toString(36).slice(2);function _f(c){if(!c[Zp]){c[Zp]=!0,r.forEach(function(m){m!=="selectionchange"&&(aR.has(m)||gy(m,!1,c),gy(m,!0,c))});var d=c.nodeType===9?c:c.ownerDocument;d===null||d[Zp]||(d[Zp]=!0,gy("selectionchange",!1,d))}}function g3(c,d,m,x){switch(zp(d)){case 1:var S=ly;break;case 4:S=cy;break;default:S=_a}m=S.bind(null,d,m,c),S=void 0,!Me||d!=="touchstart"&&d!=="touchmove"&&d!=="wheel"||(S=!0),x?S!==void 0?c.addEventListener(d,m,{capture:!0,passive:S}):c.addEventListener(d,m,!0):S!==void 0?c.addEventListener(d,m,{passive:S}):c.addEventListener(d,m,!1)}function yy(c,d,m,x,S){var T=x;if((d&1)===0&&(d&2)===0&&x!==null)e:for(;;){if(x===null)return;var M=x.tag;if(M===3||M===4){var K=x.stateNode.containerInfo;if(K===S||K.nodeType===8&&K.parentNode===S)break;if(M===4)for(M=x.return;M!==null;){var ie=M.tag;if((ie===3||ie===4)&&(ie=M.stateNode.containerInfo,ie===S||ie.nodeType===8&&ie.parentNode===S))return;M=M.return}for(;K!==null;){if(M=Wl(K),M===null)return;if(ie=M.tag,ie===5||ie===6){x=T=M;continue e}K=K.parentNode}}x=x.return}me(function(){var be=T,Pe=rs(m),Ae=[];e:{var Ie=dr.get(c);if(Ie!==void 0){var Je=pf,rt=c;switch(c){case"keypress":if(Ml(m)===0)break e;case"keydown":case"keyup":Je=dy;break;case"focusin":rt="focus",Je=du;break;case"focusout":rt="blur",Je=du;break;case"beforeblur":case"afterblur":Je=du;break;case"click":if(m.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Je=Ca;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Je=$p;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Je=Wp;break;case Dt:case $r:case _t:Je=fu;break;case ur:Je=qp;break;case"scroll":Je=mf;break;case"wheel":Je=py;break;case"copy":case"cut":case"paste":Je=Po;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Je=gu}var st=(d&4)!==0,Zn=!st&&c==="scroll",ge=st?Ie!==null?Ie+"Capture":null:Ie;st=[];for(var le=be,xe;le!==null;){xe=le;var $e=xe.stateNode;if(xe.tag===5&&$e!==null&&(xe=$e,ge!==null&&($e=_e(le,ge),$e!=null&&st.push(Sf(le,$e,xe)))),Zn)break;le=le.return}0<st.length&&(Ie=new Je(Ie,rt,null,m,Pe),Ae.push({event:Ie,listeners:st}))}}if((d&7)===0){e:{if(Ie=c==="mouseover"||c==="pointerover",Je=c==="mouseout"||c==="pointerout",Ie&&m!==Dn&&(rt=m.relatedTarget||m.fromElement)&&(Wl(rt)||rt[Mo]))break e;if((Je||Ie)&&(Ie=Pe.window===Pe?Pe:(Ie=Pe.ownerDocument)?Ie.defaultView||Ie.parentWindow:window,Je?(rt=m.relatedTarget||m.toElement,Je=be,rt=rt?Wl(rt):null,rt!==null&&(Zn=$t(rt),rt!==Zn||rt.tag!==5&&rt.tag!==6)&&(rt=null)):(Je=null,rt=be),Je!==rt)){if(st=Ca,$e="onMouseLeave",ge="onMouseEnter",le="mouse",(c==="pointerout"||c==="pointerover")&&(st=gu,$e="onPointerLeave",ge="onPointerEnter",le="pointer"),Zn=Je==null?Ie:wu(Je),xe=rt==null?Ie:wu(rt),Ie=new st($e,le+"leave",Je,m,Pe),Ie.target=Zn,Ie.relatedTarget=xe,$e=null,Wl(Pe)===be&&(st=new st(ge,le+"enter",rt,m,Pe),st.target=xe,st.relatedTarget=Zn,$e=st),Zn=$e,Je&&rt)t:{for(st=Je,ge=rt,le=0,xe=st;xe;xe=xu(xe))le++;for(xe=0,$e=ge;$e;$e=xu($e))xe++;for(;0<le-xe;)st=xu(st),le--;for(;0<xe-le;)ge=xu(ge),xe--;for(;le--;){if(st===ge||ge!==null&&st===ge.alternate)break t;st=xu(st),ge=xu(ge)}st=null}else st=null;Je!==null&&y3(Ae,Ie,Je,st,!1),rt!==null&&Zn!==null&&y3(Ae,Zn,rt,st,!0)}}e:{if(Ie=be?wu(be):window,Je=Ie.nodeName&&Ie.nodeName.toLowerCase(),Je==="select"||Je==="input"&&Ie.type==="file")var ot=Jp;else if(vu(Ie))if(v)ot=ae;else{ot=Y;var dt=W}else(Je=Ie.nodeName)&&Je.toLowerCase()==="input"&&(Ie.type==="checkbox"||Ie.type==="radio")&&(ot=se);if(ot&&(ot=ot(c,be))){bf(Ae,ot,m,Pe);break e}dt&&dt(c,Ie,be),c==="focusout"&&(dt=Ie._wrapperState)&&dt.controlled&&Ie.type==="number"&&gi(Ie,"number",Ie.value)}switch(dt=be?wu(be):window,c){case"focusin":(vu(dt)||dt.contentEditable==="true")&&(ke=dt,De=be,Ue=null);break;case"focusout":Ue=De=ke=null;break;case"mousedown":Le=!0;break;case"contextmenu":case"mouseup":case"dragend":Le=!1,Be(Ae,m,Pe);break;case"selectionchange":if(Se)break;case"keydown":case"keyup":Be(Ae,m,Pe)}var ft;if(zl)e:{switch(c){case"compositionstart":var xt="onCompositionStart";break e;case"compositionend":xt="onCompositionEnd";break e;case"compositionupdate":xt="onCompositionUpdate";break e}xt=void 0}else bn?$l(c,m)&&(xt="onCompositionEnd"):c==="keydown"&&m.keyCode===229&&(xt="onCompositionStart");xt&&(Gp&&m.locale!=="ko"&&(bn||xt!=="onCompositionStart"?xt==="onCompositionEnd"&&bn&&(ft=cu()):(ro=Pe,hf="value"in ro?ro.value:ro.textContent,bn=!0)),dt=em(be,xt),0<dt.length&&(xt=new hu(xt,c,null,m,Pe),Ae.push({event:xt,listeners:dt}),ft?xt.data=ft:(ft=as(m),ft!==null&&(xt.data=ft)))),(ft=Kp?yu(c,m):vi(c,m))&&(be=em(be,"onBeforeInput"),0<be.length&&(Pe=new hu("onBeforeInput","beforeinput",null,m,Pe),Ae.push({event:Pe,listeners:be}),Pe.data=ft))}m3(Ae,d)})}function Sf(c,d,m){return{instance:c,listener:d,currentTarget:m}}function em(c,d){for(var m=d+"Capture",x=[];c!==null;){var S=c,T=S.stateNode;S.tag===5&&T!==null&&(S=T,T=_e(c,m),T!=null&&x.unshift(Sf(c,T,S)),T=_e(c,d),T!=null&&x.push(Sf(c,T,S))),c=c.return}return x}function xu(c){if(c===null)return null;do c=c.return;while(c&&c.tag!==5);return c||null}function y3(c,d,m,x,S){for(var T=d._reactName,M=[];m!==null&&m!==x;){var K=m,ie=K.alternate,be=K.stateNode;if(ie!==null&&ie===x)break;K.tag===5&&be!==null&&(K=be,S?(ie=_e(m,T),ie!=null&&M.unshift(Sf(m,ie,K))):S||(ie=_e(m,T),ie!=null&&M.push(Sf(m,ie,K)))),m=m.return}M.length!==0&&c.push({event:d,listeners:M})}var lR=/\r\n?/g,cR=/\u0000|\uFFFD/g;function v3(c){return(typeof c=="string"?c:""+c).replace(lR,`
`).replace(cR,"")}function tm(c,d,m){if(d=v3(d),v3(c)!==d&&m)throw Error(n(425))}function nm(){}var vy=null,xy=null;function by(c,d){return c==="textarea"||c==="noscript"||typeof d.children=="string"||typeof d.children=="number"||typeof d.dangerouslySetInnerHTML=="object"&&d.dangerouslySetInnerHTML!==null&&d.dangerouslySetInnerHTML.__html!=null}var wy=typeof setTimeout=="function"?setTimeout:void 0,uR=typeof clearTimeout=="function"?clearTimeout:void 0,x3=typeof Promise=="function"?Promise:void 0,dR=typeof queueMicrotask=="function"?queueMicrotask:typeof x3<"u"?function(c){return x3.resolve(null).then(c).catch(fR)}:wy;function fR(c){setTimeout(function(){throw c})}function _y(c,d){var m=d,x=0;do{var S=m.nextSibling;if(c.removeChild(m),S&&S.nodeType===8)if(m=S.data,m==="/$"){if(x===0){c.removeChild(S),ba(d);return}x--}else m!=="$"&&m!=="$?"&&m!=="$!"||x++;m=S}while(m);ba(d)}function Ta(c){for(;c!=null;c=c.nextSibling){var d=c.nodeType;if(d===1||d===3)break;if(d===8){if(d=c.data,d==="$"||d==="$!"||d==="$?")break;if(d==="/$")return null}}return c}function b3(c){c=c.previousSibling;for(var d=0;c;){if(c.nodeType===8){var m=c.data;if(m==="$"||m==="$!"||m==="$?"){if(d===0)return c;d--}else m==="/$"&&d++}c=c.previousSibling}return null}var bu=Math.random().toString(36).slice(2),so="__reactFiber$"+bu,Cf="__reactProps$"+bu,Mo="__reactContainer$"+bu,Sy="__reactEvents$"+bu,hR="__reactListeners$"+bu,pR="__reactHandles$"+bu;function Wl(c){var d=c[so];if(d)return d;for(var m=c.parentNode;m;){if(d=m[Mo]||m[so]){if(m=d.alternate,d.child!==null||m!==null&&m.child!==null)for(c=b3(c);c!==null;){if(m=c[so])return m;c=b3(c)}return d}c=m,m=c.parentNode}return null}function kf(c){return c=c[so]||c[Mo],!c||c.tag!==5&&c.tag!==6&&c.tag!==13&&c.tag!==3?null:c}function wu(c){if(c.tag===5||c.tag===6)return c.stateNode;throw Error(n(33))}function rm(c){return c[Cf]||null}var Cy=[],_u=-1;function ja(c){return{current:c}}function Mn(c){0>_u||(c.current=Cy[_u],Cy[_u]=null,_u--)}function kn(c,d){_u++,Cy[_u]=c.current,c.current=d}var Na={},Ur=ja(Na),xi=ja(!1),ql=Na;function Su(c,d){var m=c.type.contextTypes;if(!m)return Na;var x=c.stateNode;if(x&&x.__reactInternalMemoizedUnmaskedChildContext===d)return x.__reactInternalMemoizedMaskedChildContext;var S={},T;for(T in m)S[T]=d[T];return x&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=d,c.__reactInternalMemoizedMaskedChildContext=S),S}function bi(c){return c=c.childContextTypes,c!=null}function im(){Mn(xi),Mn(Ur)}function w3(c,d,m){if(Ur.current!==Na)throw Error(n(168));kn(Ur,d),kn(xi,m)}function _3(c,d,m){var x=c.stateNode;if(d=d.childContextTypes,typeof x.getChildContext!="function")return m;x=x.getChildContext();for(var S in x)if(!(S in d))throw Error(n(108,Ye(c)||"Unknown",S));return F({},m,x)}function sm(c){return c=(c=c.stateNode)&&c.__reactInternalMemoizedMergedChildContext||Na,ql=Ur.current,kn(Ur,c),kn(xi,xi.current),!0}function S3(c,d,m){var x=c.stateNode;if(!x)throw Error(n(169));m?(c=_3(c,d,ql),x.__reactInternalMemoizedMergedChildContext=c,Mn(xi),Mn(Ur),kn(Ur,c)):Mn(xi),kn(xi,m)}var Ao=null,om=!1,ky=!1;function C3(c){Ao===null?Ao=[c]:Ao.push(c)}function mR(c){om=!0,C3(c)}function Ia(){if(!ky&&Ao!==null){ky=!0;var c=0,d=mn;try{var m=Ao;for(mn=1;c<m.length;c++){var x=m[c];do x=x(!0);while(x!==null)}Ao=null,om=!1}catch(S){throw Ao!==null&&(Ao=Ao.slice(c+1)),Ts(ri,Ia),S}finally{mn=d,ky=!1}}return null}var Cu=[],ku=0,am=null,lm=0,ls=[],cs=0,Vl=null,Do=1,Lo="";function Ql(c,d){Cu[ku++]=lm,Cu[ku++]=am,am=c,lm=d}function k3(c,d,m){ls[cs++]=Do,ls[cs++]=Lo,ls[cs++]=Vl,Vl=c;var x=Do;c=Lo;var S=32-mt(x)-1;x&=~(1<<S),m+=1;var T=32-mt(d)+S;if(30<T){var M=S-S%5;T=(x&(1<<M)-1).toString(32),x>>=M,S-=M,Do=1<<32-mt(d)+S|m<<S|x,Lo=T+c}else Do=1<<T|m<<S|x,Lo=c}function Ey(c){c.return!==null&&(Ql(c,1),k3(c,1,0))}function Ty(c){for(;c===am;)am=Cu[--ku],Cu[ku]=null,lm=Cu[--ku],Cu[ku]=null;for(;c===Vl;)Vl=ls[--cs],ls[cs]=null,Lo=ls[--cs],ls[cs]=null,Do=ls[--cs],ls[cs]=null}var Vi=null,Qi=null,Bn=!1,As=null;function E3(c,d){var m=hs(5,null,null,0);m.elementType="DELETED",m.stateNode=d,m.return=c,d=c.deletions,d===null?(c.deletions=[m],c.flags|=16):d.push(m)}function T3(c,d){switch(c.tag){case 5:var m=c.type;return d=d.nodeType!==1||m.toLowerCase()!==d.nodeName.toLowerCase()?null:d,d!==null?(c.stateNode=d,Vi=c,Qi=Ta(d.firstChild),!0):!1;case 6:return d=c.pendingProps===""||d.nodeType!==3?null:d,d!==null?(c.stateNode=d,Vi=c,Qi=null,!0):!1;case 13:return d=d.nodeType!==8?null:d,d!==null?(m=Vl!==null?{id:Do,overflow:Lo}:null,c.memoizedState={dehydrated:d,treeContext:m,retryLane:1073741824},m=hs(18,null,null,0),m.stateNode=d,m.return=c,c.child=m,Vi=c,Qi=null,!0):!1;default:return!1}}function jy(c){return(c.mode&1)!==0&&(c.flags&128)===0}function Ny(c){if(Bn){var d=Qi;if(d){var m=d;if(!T3(c,d)){if(jy(c))throw Error(n(418));d=Ta(m.nextSibling);var x=Vi;d&&T3(c,d)?E3(x,m):(c.flags=c.flags&-4097|2,Bn=!1,Vi=c)}}else{if(jy(c))throw Error(n(418));c.flags=c.flags&-4097|2,Bn=!1,Vi=c}}}function j3(c){for(c=c.return;c!==null&&c.tag!==5&&c.tag!==3&&c.tag!==13;)c=c.return;Vi=c}function cm(c){if(c!==Vi)return!1;if(!Bn)return j3(c),Bn=!0,!1;var d;if((d=c.tag!==3)&&!(d=c.tag!==5)&&(d=c.type,d=d!=="head"&&d!=="body"&&!by(c.type,c.memoizedProps)),d&&(d=Qi)){if(jy(c))throw N3(),Error(n(418));for(;d;)E3(c,d),d=Ta(d.nextSibling)}if(j3(c),c.tag===13){if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(n(317));e:{for(c=c.nextSibling,d=0;c;){if(c.nodeType===8){var m=c.data;if(m==="/$"){if(d===0){Qi=Ta(c.nextSibling);break e}d--}else m!=="$"&&m!=="$!"&&m!=="$?"||d++}c=c.nextSibling}Qi=null}}else Qi=Vi?Ta(c.stateNode.nextSibling):null;return!0}function N3(){for(var c=Qi;c;)c=Ta(c.nextSibling)}function Eu(){Qi=Vi=null,Bn=!1}function Iy(c){As===null?As=[c]:As.push(c)}var gR=$.ReactCurrentBatchConfig;function Ef(c,d,m){if(c=m.ref,c!==null&&typeof c!="function"&&typeof c!="object"){if(m._owner){if(m=m._owner,m){if(m.tag!==1)throw Error(n(309));var x=m.stateNode}if(!x)throw Error(n(147,c));var S=x,T=""+c;return d!==null&&d.ref!==null&&typeof d.ref=="function"&&d.ref._stringRef===T?d.ref:(d=function(M){var K=S.refs;M===null?delete K[T]:K[T]=M},d._stringRef=T,d)}if(typeof c!="string")throw Error(n(284));if(!m._owner)throw Error(n(290,c))}return c}function um(c,d){throw c=Object.prototype.toString.call(d),Error(n(31,c==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":c))}function I3(c){var d=c._init;return d(c._payload)}function R3(c){function d(ge,le){if(c){var xe=ge.deletions;xe===null?(ge.deletions=[le],ge.flags|=16):xe.push(le)}}function m(ge,le){if(!c)return null;for(;le!==null;)d(ge,le),le=le.sibling;return null}function x(ge,le){for(ge=new Map;le!==null;)le.key!==null?ge.set(le.key,le):ge.set(le.index,le),le=le.sibling;return ge}function S(ge,le){return ge=Fa(ge,le),ge.index=0,ge.sibling=null,ge}function T(ge,le,xe){return ge.index=xe,c?(xe=ge.alternate,xe!==null?(xe=xe.index,xe<le?(ge.flags|=2,le):xe):(ge.flags|=2,le)):(ge.flags|=1048576,le)}function M(ge){return c&&ge.alternate===null&&(ge.flags|=2),ge}function K(ge,le,xe,$e){return le===null||le.tag!==6?(le=wv(xe,ge.mode,$e),le.return=ge,le):(le=S(le,xe),le.return=ge,le)}function ie(ge,le,xe,$e){var ot=xe.type;return ot===A?Pe(ge,le,xe.props.children,$e,xe.key):le!==null&&(le.elementType===ot||typeof ot=="object"&&ot!==null&&ot.$$typeof===Q&&I3(ot)===le.type)?($e=S(le,xe.props),$e.ref=Ef(ge,le,xe),$e.return=ge,$e):($e=Mm(xe.type,xe.key,xe.props,null,ge.mode,$e),$e.ref=Ef(ge,le,xe),$e.return=ge,$e)}function be(ge,le,xe,$e){return le===null||le.tag!==4||le.stateNode.containerInfo!==xe.containerInfo||le.stateNode.implementation!==xe.implementation?(le=_v(xe,ge.mode,$e),le.return=ge,le):(le=S(le,xe.children||[]),le.return=ge,le)}function Pe(ge,le,xe,$e,ot){return le===null||le.tag!==7?(le=tc(xe,ge.mode,$e,ot),le.return=ge,le):(le=S(le,xe),le.return=ge,le)}function Ae(ge,le,xe){if(typeof le=="string"&&le!==""||typeof le=="number")return le=wv(""+le,ge.mode,xe),le.return=ge,le;if(typeof le=="object"&&le!==null){switch(le.$$typeof){case z:return xe=Mm(le.type,le.key,le.props,null,ge.mode,xe),xe.ref=Ef(ge,null,le),xe.return=ge,xe;case j:return le=_v(le,ge.mode,xe),le.return=ge,le;case Q:var $e=le._init;return Ae(ge,$e(le._payload),xe)}if(wt(le)||fe(le))return le=tc(le,ge.mode,xe,null),le.return=ge,le;um(ge,le)}return null}function Ie(ge,le,xe,$e){var ot=le!==null?le.key:null;if(typeof xe=="string"&&xe!==""||typeof xe=="number")return ot!==null?null:K(ge,le,""+xe,$e);if(typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case z:return xe.key===ot?ie(ge,le,xe,$e):null;case j:return xe.key===ot?be(ge,le,xe,$e):null;case Q:return ot=xe._init,Ie(ge,le,ot(xe._payload),$e)}if(wt(xe)||fe(xe))return ot!==null?null:Pe(ge,le,xe,$e,null);um(ge,xe)}return null}function Je(ge,le,xe,$e,ot){if(typeof $e=="string"&&$e!==""||typeof $e=="number")return ge=ge.get(xe)||null,K(le,ge,""+$e,ot);if(typeof $e=="object"&&$e!==null){switch($e.$$typeof){case z:return ge=ge.get($e.key===null?xe:$e.key)||null,ie(le,ge,$e,ot);case j:return ge=ge.get($e.key===null?xe:$e.key)||null,be(le,ge,$e,ot);case Q:var dt=$e._init;return Je(ge,le,xe,dt($e._payload),ot)}if(wt($e)||fe($e))return ge=ge.get(xe)||null,Pe(le,ge,$e,ot,null);um(le,$e)}return null}function rt(ge,le,xe,$e){for(var ot=null,dt=null,ft=le,xt=le=0,kr=null;ft!==null&&xt<xe.length;xt++){ft.index>xt?(kr=ft,ft=null):kr=ft.sibling;var cn=Ie(ge,ft,xe[xt],$e);if(cn===null){ft===null&&(ft=kr);break}c&&ft&&cn.alternate===null&&d(ge,ft),le=T(cn,le,xt),dt===null?ot=cn:dt.sibling=cn,dt=cn,ft=kr}if(xt===xe.length)return m(ge,ft),Bn&&Ql(ge,xt),ot;if(ft===null){for(;xt<xe.length;xt++)ft=Ae(ge,xe[xt],$e),ft!==null&&(le=T(ft,le,xt),dt===null?ot=ft:dt.sibling=ft,dt=ft);return Bn&&Ql(ge,xt),ot}for(ft=x(ge,ft);xt<xe.length;xt++)kr=Je(ft,ge,xt,xe[xt],$e),kr!==null&&(c&&kr.alternate!==null&&ft.delete(kr.key===null?xt:kr.key),le=T(kr,le,xt),dt===null?ot=kr:dt.sibling=kr,dt=kr);return c&&ft.forEach(function(Ba){return d(ge,Ba)}),Bn&&Ql(ge,xt),ot}function st(ge,le,xe,$e){var ot=fe(xe);if(typeof ot!="function")throw Error(n(150));if(xe=ot.call(xe),xe==null)throw Error(n(151));for(var dt=ot=null,ft=le,xt=le=0,kr=null,cn=xe.next();ft!==null&&!cn.done;xt++,cn=xe.next()){ft.index>xt?(kr=ft,ft=null):kr=ft.sibling;var Ba=Ie(ge,ft,cn.value,$e);if(Ba===null){ft===null&&(ft=kr);break}c&&ft&&Ba.alternate===null&&d(ge,ft),le=T(Ba,le,xt),dt===null?ot=Ba:dt.sibling=Ba,dt=Ba,ft=kr}if(cn.done)return m(ge,ft),Bn&&Ql(ge,xt),ot;if(ft===null){for(;!cn.done;xt++,cn=xe.next())cn=Ae(ge,cn.value,$e),cn!==null&&(le=T(cn,le,xt),dt===null?ot=cn:dt.sibling=cn,dt=cn);return Bn&&Ql(ge,xt),ot}for(ft=x(ge,ft);!cn.done;xt++,cn=xe.next())cn=Je(ft,ge,xt,cn.value,$e),cn!==null&&(c&&cn.alternate!==null&&ft.delete(cn.key===null?xt:cn.key),le=T(cn,le,xt),dt===null?ot=cn:dt.sibling=cn,dt=cn);return c&&ft.forEach(function(GR){return d(ge,GR)}),Bn&&Ql(ge,xt),ot}function Zn(ge,le,xe,$e){if(typeof xe=="object"&&xe!==null&&xe.type===A&&xe.key===null&&(xe=xe.props.children),typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case z:e:{for(var ot=xe.key,dt=le;dt!==null;){if(dt.key===ot){if(ot=xe.type,ot===A){if(dt.tag===7){m(ge,dt.sibling),le=S(dt,xe.props.children),le.return=ge,ge=le;break e}}else if(dt.elementType===ot||typeof ot=="object"&&ot!==null&&ot.$$typeof===Q&&I3(ot)===dt.type){m(ge,dt.sibling),le=S(dt,xe.props),le.ref=Ef(ge,dt,xe),le.return=ge,ge=le;break e}m(ge,dt);break}else d(ge,dt);dt=dt.sibling}xe.type===A?(le=tc(xe.props.children,ge.mode,$e,xe.key),le.return=ge,ge=le):($e=Mm(xe.type,xe.key,xe.props,null,ge.mode,$e),$e.ref=Ef(ge,le,xe),$e.return=ge,ge=$e)}return M(ge);case j:e:{for(dt=xe.key;le!==null;){if(le.key===dt)if(le.tag===4&&le.stateNode.containerInfo===xe.containerInfo&&le.stateNode.implementation===xe.implementation){m(ge,le.sibling),le=S(le,xe.children||[]),le.return=ge,ge=le;break e}else{m(ge,le);break}else d(ge,le);le=le.sibling}le=_v(xe,ge.mode,$e),le.return=ge,ge=le}return M(ge);case Q:return dt=xe._init,Zn(ge,le,dt(xe._payload),$e)}if(wt(xe))return rt(ge,le,xe,$e);if(fe(xe))return st(ge,le,xe,$e);um(ge,xe)}return typeof xe=="string"&&xe!==""||typeof xe=="number"?(xe=""+xe,le!==null&&le.tag===6?(m(ge,le.sibling),le=S(le,xe),le.return=ge,ge=le):(m(ge,le),le=wv(xe,ge.mode,$e),le.return=ge,ge=le),M(ge)):m(ge,le)}return Zn}var Tu=R3(!0),P3=R3(!1),dm=ja(null),fm=null,ju=null,Ry=null;function Py(){Ry=ju=fm=null}function Oy(c){var d=dm.current;Mn(dm),c._currentValue=d}function My(c,d,m){for(;c!==null;){var x=c.alternate;if((c.childLanes&d)!==d?(c.childLanes|=d,x!==null&&(x.childLanes|=d)):x!==null&&(x.childLanes&d)!==d&&(x.childLanes|=d),c===m)break;c=c.return}}function Nu(c,d){fm=c,Ry=ju=null,c=c.dependencies,c!==null&&c.firstContext!==null&&((c.lanes&d)!==0&&(wi=!0),c.firstContext=null)}function us(c){var d=c._currentValue;if(Ry!==c)if(c={context:c,memoizedValue:d,next:null},ju===null){if(fm===null)throw Error(n(308));ju=c,fm.dependencies={lanes:0,firstContext:c}}else ju=ju.next=c;return d}var Kl=null;function Ay(c){Kl===null?Kl=[c]:Kl.push(c)}function O3(c,d,m,x){var S=d.interleaved;return S===null?(m.next=m,Ay(d)):(m.next=S.next,S.next=m),d.interleaved=m,Fo(c,x)}function Fo(c,d){c.lanes|=d;var m=c.alternate;for(m!==null&&(m.lanes|=d),m=c,c=c.return;c!==null;)c.childLanes|=d,m=c.alternate,m!==null&&(m.childLanes|=d),m=c,c=c.return;return m.tag===3?m.stateNode:null}var Ra=!1;function Dy(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function M3(c,d){c=c.updateQueue,d.updateQueue===c&&(d.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,effects:c.effects})}function Bo(c,d){return{eventTime:c,lane:d,tag:0,payload:null,callback:null,next:null}}function Pa(c,d,m){var x=c.updateQueue;if(x===null)return null;if(x=x.shared,(ln&2)!==0){var S=x.pending;return S===null?d.next=d:(d.next=S.next,S.next=d),x.pending=d,Fo(c,m)}return S=x.interleaved,S===null?(d.next=d,Ay(x)):(d.next=S.next,S.next=d),x.interleaved=d,Fo(c,m)}function hm(c,d,m){if(d=d.updateQueue,d!==null&&(d=d.shared,(m&4194240)!==0)){var x=d.lanes;x&=c.pendingLanes,m|=x,d.lanes=m,su(c,m)}}function A3(c,d){var m=c.updateQueue,x=c.alternate;if(x!==null&&(x=x.updateQueue,m===x)){var S=null,T=null;if(m=m.firstBaseUpdate,m!==null){do{var M={eventTime:m.eventTime,lane:m.lane,tag:m.tag,payload:m.payload,callback:m.callback,next:null};T===null?S=T=M:T=T.next=M,m=m.next}while(m!==null);T===null?S=T=d:T=T.next=d}else S=T=d;m={baseState:x.baseState,firstBaseUpdate:S,lastBaseUpdate:T,shared:x.shared,effects:x.effects},c.updateQueue=m;return}c=m.lastBaseUpdate,c===null?m.firstBaseUpdate=d:c.next=d,m.lastBaseUpdate=d}function pm(c,d,m,x){var S=c.updateQueue;Ra=!1;var T=S.firstBaseUpdate,M=S.lastBaseUpdate,K=S.shared.pending;if(K!==null){S.shared.pending=null;var ie=K,be=ie.next;ie.next=null,M===null?T=be:M.next=be,M=ie;var Pe=c.alternate;Pe!==null&&(Pe=Pe.updateQueue,K=Pe.lastBaseUpdate,K!==M&&(K===null?Pe.firstBaseUpdate=be:K.next=be,Pe.lastBaseUpdate=ie))}if(T!==null){var Ae=S.baseState;M=0,Pe=be=ie=null,K=T;do{var Ie=K.lane,Je=K.eventTime;if((x&Ie)===Ie){Pe!==null&&(Pe=Pe.next={eventTime:Je,lane:0,tag:K.tag,payload:K.payload,callback:K.callback,next:null});e:{var rt=c,st=K;switch(Ie=d,Je=m,st.tag){case 1:if(rt=st.payload,typeof rt=="function"){Ae=rt.call(Je,Ae,Ie);break e}Ae=rt;break e;case 3:rt.flags=rt.flags&-65537|128;case 0:if(rt=st.payload,Ie=typeof rt=="function"?rt.call(Je,Ae,Ie):rt,Ie==null)break e;Ae=F({},Ae,Ie);break e;case 2:Ra=!0}}K.callback!==null&&K.lane!==0&&(c.flags|=64,Ie=S.effects,Ie===null?S.effects=[K]:Ie.push(K))}else Je={eventTime:Je,lane:Ie,tag:K.tag,payload:K.payload,callback:K.callback,next:null},Pe===null?(be=Pe=Je,ie=Ae):Pe=Pe.next=Je,M|=Ie;if(K=K.next,K===null){if(K=S.shared.pending,K===null)break;Ie=K,K=Ie.next,Ie.next=null,S.lastBaseUpdate=Ie,S.shared.pending=null}}while(!0);if(Pe===null&&(ie=Ae),S.baseState=ie,S.firstBaseUpdate=be,S.lastBaseUpdate=Pe,d=S.shared.interleaved,d!==null){S=d;do M|=S.lane,S=S.next;while(S!==d)}else T===null&&(S.shared.lanes=0);Xl|=M,c.lanes=M,c.memoizedState=Ae}}function D3(c,d,m){if(c=d.effects,d.effects=null,c!==null)for(d=0;d<c.length;d++){var x=c[d],S=x.callback;if(S!==null){if(x.callback=null,x=m,typeof S!="function")throw Error(n(191,S));S.call(x)}}}var Tf={},oo=ja(Tf),jf=ja(Tf),Nf=ja(Tf);function Gl(c){if(c===Tf)throw Error(n(174));return c}function Ly(c,d){switch(kn(Nf,d),kn(jf,c),kn(oo,Tf),c=d.nodeType,c){case 9:case 11:d=(d=d.documentElement)?d.namespaceURI:Re(null,"");break;default:c=c===8?d.parentNode:d,d=c.namespaceURI||null,c=c.tagName,d=Re(d,c)}Mn(oo),kn(oo,d)}function Iu(){Mn(oo),Mn(jf),Mn(Nf)}function L3(c){Gl(Nf.current);var d=Gl(oo.current),m=Re(d,c.type);d!==m&&(kn(jf,c),kn(oo,m))}function Fy(c){jf.current===c&&(Mn(oo),Mn(jf))}var Hn=ja(0);function mm(c){for(var d=c;d!==null;){if(d.tag===13){var m=d.memoizedState;if(m!==null&&(m=m.dehydrated,m===null||m.data==="$?"||m.data==="$!"))return d}else if(d.tag===19&&d.memoizedProps.revealOrder!==void 0){if((d.flags&128)!==0)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===c)break;for(;d.sibling===null;){if(d.return===null||d.return===c)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}var By=[];function zy(){for(var c=0;c<By.length;c++)By[c]._workInProgressVersionPrimary=null;By.length=0}var gm=$.ReactCurrentDispatcher,$y=$.ReactCurrentBatchConfig,Yl=0,Wn=null,fr=null,Sr=null,ym=!1,If=!1,Rf=0,yR=0;function Hr(){throw Error(n(321))}function Uy(c,d){if(d===null)return!1;for(var m=0;m<d.length&&m<c.length;m++)if(!J(c[m],d[m]))return!1;return!0}function Hy(c,d,m,x,S,T){if(Yl=T,Wn=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,gm.current=c===null||c.memoizedState===null?wR:_R,c=m(x,S),If){T=0;do{if(If=!1,Rf=0,25<=T)throw Error(n(301));T+=1,Sr=fr=null,d.updateQueue=null,gm.current=SR,c=m(x,S)}while(If)}if(gm.current=bm,d=fr!==null&&fr.next!==null,Yl=0,Sr=fr=Wn=null,ym=!1,d)throw Error(n(300));return c}function Wy(){var c=Rf!==0;return Rf=0,c}function ao(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Sr===null?Wn.memoizedState=Sr=c:Sr=Sr.next=c,Sr}function ds(){if(fr===null){var c=Wn.alternate;c=c!==null?c.memoizedState:null}else c=fr.next;var d=Sr===null?Wn.memoizedState:Sr.next;if(d!==null)Sr=d,fr=c;else{if(c===null)throw Error(n(310));fr=c,c={memoizedState:fr.memoizedState,baseState:fr.baseState,baseQueue:fr.baseQueue,queue:fr.queue,next:null},Sr===null?Wn.memoizedState=Sr=c:Sr=Sr.next=c}return Sr}function Pf(c,d){return typeof d=="function"?d(c):d}function qy(c){var d=ds(),m=d.queue;if(m===null)throw Error(n(311));m.lastRenderedReducer=c;var x=fr,S=x.baseQueue,T=m.pending;if(T!==null){if(S!==null){var M=S.next;S.next=T.next,T.next=M}x.baseQueue=S=T,m.pending=null}if(S!==null){T=S.next,x=x.baseState;var K=M=null,ie=null,be=T;do{var Pe=be.lane;if((Yl&Pe)===Pe)ie!==null&&(ie=ie.next={lane:0,action:be.action,hasEagerState:be.hasEagerState,eagerState:be.eagerState,next:null}),x=be.hasEagerState?be.eagerState:c(x,be.action);else{var Ae={lane:Pe,action:be.action,hasEagerState:be.hasEagerState,eagerState:be.eagerState,next:null};ie===null?(K=ie=Ae,M=x):ie=ie.next=Ae,Wn.lanes|=Pe,Xl|=Pe}be=be.next}while(be!==null&&be!==T);ie===null?M=x:ie.next=K,J(x,d.memoizedState)||(wi=!0),d.memoizedState=x,d.baseState=M,d.baseQueue=ie,m.lastRenderedState=x}if(c=m.interleaved,c!==null){S=c;do T=S.lane,Wn.lanes|=T,Xl|=T,S=S.next;while(S!==c)}else S===null&&(m.lanes=0);return[d.memoizedState,m.dispatch]}function Vy(c){var d=ds(),m=d.queue;if(m===null)throw Error(n(311));m.lastRenderedReducer=c;var x=m.dispatch,S=m.pending,T=d.memoizedState;if(S!==null){m.pending=null;var M=S=S.next;do T=c(T,M.action),M=M.next;while(M!==S);J(T,d.memoizedState)||(wi=!0),d.memoizedState=T,d.baseQueue===null&&(d.baseState=T),m.lastRenderedState=T}return[T,x]}function F3(){}function B3(c,d){var m=Wn,x=ds(),S=d(),T=!J(x.memoizedState,S);if(T&&(x.memoizedState=S,wi=!0),x=x.queue,Qy(U3.bind(null,m,x,c),[c]),x.getSnapshot!==d||T||Sr!==null&&Sr.memoizedState.tag&1){if(m.flags|=2048,Of(9,$3.bind(null,m,x,S,d),void 0,null),Cr===null)throw Error(n(349));(Yl&30)!==0||z3(m,d,S)}return S}function z3(c,d,m){c.flags|=16384,c={getSnapshot:d,value:m},d=Wn.updateQueue,d===null?(d={lastEffect:null,stores:null},Wn.updateQueue=d,d.stores=[c]):(m=d.stores,m===null?d.stores=[c]:m.push(c))}function $3(c,d,m,x){d.value=m,d.getSnapshot=x,H3(d)&&W3(c)}function U3(c,d,m){return m(function(){H3(d)&&W3(c)})}function H3(c){var d=c.getSnapshot;c=c.value;try{var m=d();return!J(c,m)}catch{return!0}}function W3(c){var d=Fo(c,1);d!==null&&Bs(d,c,1,-1)}function q3(c){var d=ao();return typeof c=="function"&&(c=c()),d.memoizedState=d.baseState=c,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Pf,lastRenderedState:c},d.queue=c,c=c.dispatch=bR.bind(null,Wn,c),[d.memoizedState,c]}function Of(c,d,m,x){return c={tag:c,create:d,destroy:m,deps:x,next:null},d=Wn.updateQueue,d===null?(d={lastEffect:null,stores:null},Wn.updateQueue=d,d.lastEffect=c.next=c):(m=d.lastEffect,m===null?d.lastEffect=c.next=c:(x=m.next,m.next=c,c.next=x,d.lastEffect=c)),c}function V3(){return ds().memoizedState}function vm(c,d,m,x){var S=ao();Wn.flags|=c,S.memoizedState=Of(1|d,m,void 0,x===void 0?null:x)}function xm(c,d,m,x){var S=ds();x=x===void 0?null:x;var T=void 0;if(fr!==null){var M=fr.memoizedState;if(T=M.destroy,x!==null&&Uy(x,M.deps)){S.memoizedState=Of(d,m,T,x);return}}Wn.flags|=c,S.memoizedState=Of(1|d,m,T,x)}function Q3(c,d){return vm(8390656,8,c,d)}function Qy(c,d){return xm(2048,8,c,d)}function K3(c,d){return xm(4,2,c,d)}function G3(c,d){return xm(4,4,c,d)}function Y3(c,d){if(typeof d=="function")return c=c(),d(c),function(){d(null)};if(d!=null)return c=c(),d.current=c,function(){d.current=null}}function X3(c,d,m){return m=m!=null?m.concat([c]):null,xm(4,4,Y3.bind(null,d,c),m)}function Ky(){}function J3(c,d){var m=ds();d=d===void 0?null:d;var x=m.memoizedState;return x!==null&&d!==null&&Uy(d,x[1])?x[0]:(m.memoizedState=[c,d],c)}function Z3(c,d){var m=ds();d=d===void 0?null:d;var x=m.memoizedState;return x!==null&&d!==null&&Uy(d,x[1])?x[0]:(c=c(),m.memoizedState=[c,d],c)}function e5(c,d,m){return(Yl&21)===0?(c.baseState&&(c.baseState=!1,wi=!0),c.memoizedState=m):(J(m,d)||(m=uf(),Wn.lanes|=m,Xl|=m,c.baseState=!0),d)}function vR(c,d){var m=mn;mn=m!==0&&4>m?m:4,c(!0);var x=$y.transition;$y.transition={};try{c(!1),d()}finally{mn=m,$y.transition=x}}function t5(){return ds().memoizedState}function xR(c,d,m){var x=Da(c);if(m={lane:x,action:m,hasEagerState:!1,eagerState:null,next:null},n5(c))r5(d,m);else if(m=O3(c,d,m,x),m!==null){var S=oi();Bs(m,c,x,S),i5(m,d,x)}}function bR(c,d,m){var x=Da(c),S={lane:x,action:m,hasEagerState:!1,eagerState:null,next:null};if(n5(c))r5(d,S);else{var T=c.alternate;if(c.lanes===0&&(T===null||T.lanes===0)&&(T=d.lastRenderedReducer,T!==null))try{var M=d.lastRenderedState,K=T(M,m);if(S.hasEagerState=!0,S.eagerState=K,J(K,M)){var ie=d.interleaved;ie===null?(S.next=S,Ay(d)):(S.next=ie.next,ie.next=S),d.interleaved=S;return}}catch{}finally{}m=O3(c,d,S,x),m!==null&&(S=oi(),Bs(m,c,x,S),i5(m,d,x))}}function n5(c){var d=c.alternate;return c===Wn||d!==null&&d===Wn}function r5(c,d){If=ym=!0;var m=c.pending;m===null?d.next=d:(d.next=m.next,m.next=d),c.pending=d}function i5(c,d,m){if((m&4194240)!==0){var x=d.lanes;x&=c.pendingLanes,m|=x,d.lanes=m,su(c,m)}}var bm={readContext:us,useCallback:Hr,useContext:Hr,useEffect:Hr,useImperativeHandle:Hr,useInsertionEffect:Hr,useLayoutEffect:Hr,useMemo:Hr,useReducer:Hr,useRef:Hr,useState:Hr,useDebugValue:Hr,useDeferredValue:Hr,useTransition:Hr,useMutableSource:Hr,useSyncExternalStore:Hr,useId:Hr,unstable_isNewReconciler:!1},wR={readContext:us,useCallback:function(c,d){return ao().memoizedState=[c,d===void 0?null:d],c},useContext:us,useEffect:Q3,useImperativeHandle:function(c,d,m){return m=m!=null?m.concat([c]):null,vm(4194308,4,Y3.bind(null,d,c),m)},useLayoutEffect:function(c,d){return vm(4194308,4,c,d)},useInsertionEffect:function(c,d){return vm(4,2,c,d)},useMemo:function(c,d){var m=ao();return d=d===void 0?null:d,c=c(),m.memoizedState=[c,d],c},useReducer:function(c,d,m){var x=ao();return d=m!==void 0?m(d):d,x.memoizedState=x.baseState=d,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:d},x.queue=c,c=c.dispatch=xR.bind(null,Wn,c),[x.memoizedState,c]},useRef:function(c){var d=ao();return c={current:c},d.memoizedState=c},useState:q3,useDebugValue:Ky,useDeferredValue:function(c){return ao().memoizedState=c},useTransition:function(){var c=q3(!1),d=c[0];return c=vR.bind(null,c[1]),ao().memoizedState=c,[d,c]},useMutableSource:function(){},useSyncExternalStore:function(c,d,m){var x=Wn,S=ao();if(Bn){if(m===void 0)throw Error(n(407));m=m()}else{if(m=d(),Cr===null)throw Error(n(349));(Yl&30)!==0||z3(x,d,m)}S.memoizedState=m;var T={value:m,getSnapshot:d};return S.queue=T,Q3(U3.bind(null,x,T,c),[c]),x.flags|=2048,Of(9,$3.bind(null,x,T,m,d),void 0,null),m},useId:function(){var c=ao(),d=Cr.identifierPrefix;if(Bn){var m=Lo,x=Do;m=(x&~(1<<32-mt(x)-1)).toString(32)+m,d=":"+d+"R"+m,m=Rf++,0<m&&(d+="H"+m.toString(32)),d+=":"}else m=yR++,d=":"+d+"r"+m.toString(32)+":";return c.memoizedState=d},unstable_isNewReconciler:!1},_R={readContext:us,useCallback:J3,useContext:us,useEffect:Qy,useImperativeHandle:X3,useInsertionEffect:K3,useLayoutEffect:G3,useMemo:Z3,useReducer:qy,useRef:V3,useState:function(){return qy(Pf)},useDebugValue:Ky,useDeferredValue:function(c){var d=ds();return e5(d,fr.memoizedState,c)},useTransition:function(){var c=qy(Pf)[0],d=ds().memoizedState;return[c,d]},useMutableSource:F3,useSyncExternalStore:B3,useId:t5,unstable_isNewReconciler:!1},SR={readContext:us,useCallback:J3,useContext:us,useEffect:Qy,useImperativeHandle:X3,useInsertionEffect:K3,useLayoutEffect:G3,useMemo:Z3,useReducer:Vy,useRef:V3,useState:function(){return Vy(Pf)},useDebugValue:Ky,useDeferredValue:function(c){var d=ds();return fr===null?d.memoizedState=c:e5(d,fr.memoizedState,c)},useTransition:function(){var c=Vy(Pf)[0],d=ds().memoizedState;return[c,d]},useMutableSource:F3,useSyncExternalStore:B3,useId:t5,unstable_isNewReconciler:!1};function Ds(c,d){if(c&&c.defaultProps){d=F({},d),c=c.defaultProps;for(var m in c)d[m]===void 0&&(d[m]=c[m]);return d}return d}function Gy(c,d,m,x){d=c.memoizedState,m=m(x,d),m=m==null?d:F({},d,m),c.memoizedState=m,c.lanes===0&&(c.updateQueue.baseState=m)}var wm={isMounted:function(c){return(c=c._reactInternals)?$t(c)===c:!1},enqueueSetState:function(c,d,m){c=c._reactInternals;var x=oi(),S=Da(c),T=Bo(x,S);T.payload=d,m!=null&&(T.callback=m),d=Pa(c,T,S),d!==null&&(Bs(d,c,S,x),hm(d,c,S))},enqueueReplaceState:function(c,d,m){c=c._reactInternals;var x=oi(),S=Da(c),T=Bo(x,S);T.tag=1,T.payload=d,m!=null&&(T.callback=m),d=Pa(c,T,S),d!==null&&(Bs(d,c,S,x),hm(d,c,S))},enqueueForceUpdate:function(c,d){c=c._reactInternals;var m=oi(),x=Da(c),S=Bo(m,x);S.tag=2,d!=null&&(S.callback=d),d=Pa(c,S,x),d!==null&&(Bs(d,c,x,m),hm(d,c,x))}};function s5(c,d,m,x,S,T,M){return c=c.stateNode,typeof c.shouldComponentUpdate=="function"?c.shouldComponentUpdate(x,T,M):d.prototype&&d.prototype.isPureReactComponent?!he(m,x)||!he(S,T):!0}function o5(c,d,m){var x=!1,S=Na,T=d.contextType;return typeof T=="object"&&T!==null?T=us(T):(S=bi(d)?ql:Ur.current,x=d.contextTypes,T=(x=x!=null)?Su(c,S):Na),d=new d(m,T),c.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=wm,c.stateNode=d,d._reactInternals=c,x&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=S,c.__reactInternalMemoizedMaskedChildContext=T),d}function a5(c,d,m,x){c=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(m,x),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(m,x),d.state!==c&&wm.enqueueReplaceState(d,d.state,null)}function Yy(c,d,m,x){var S=c.stateNode;S.props=m,S.state=c.memoizedState,S.refs={},Dy(c);var T=d.contextType;typeof T=="object"&&T!==null?S.context=us(T):(T=bi(d)?ql:Ur.current,S.context=Su(c,T)),S.state=c.memoizedState,T=d.getDerivedStateFromProps,typeof T=="function"&&(Gy(c,d,T,m),S.state=c.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof S.getSnapshotBeforeUpdate=="function"||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(d=S.state,typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount(),d!==S.state&&wm.enqueueReplaceState(S,S.state,null),pm(c,m,S,x),S.state=c.memoizedState),typeof S.componentDidMount=="function"&&(c.flags|=4194308)}function Ru(c,d){try{var m="",x=d;do m+=Ee(x),x=x.return;while(x);var S=m}catch(T){S=`
Error generating stack: `+T.message+`
`+T.stack}return{value:c,source:d,stack:S,digest:null}}function Xy(c,d,m){return{value:c,source:null,stack:m??null,digest:d??null}}function Jy(c,d){try{console.error(d.value)}catch(m){setTimeout(function(){throw m})}}var CR=typeof WeakMap=="function"?WeakMap:Map;function l5(c,d,m){m=Bo(-1,m),m.tag=3,m.payload={element:null};var x=d.value;return m.callback=function(){jm||(jm=!0,hv=x),Jy(c,d)},m}function c5(c,d,m){m=Bo(-1,m),m.tag=3;var x=c.type.getDerivedStateFromError;if(typeof x=="function"){var S=d.value;m.payload=function(){return x(S)},m.callback=function(){Jy(c,d)}}var T=c.stateNode;return T!==null&&typeof T.componentDidCatch=="function"&&(m.callback=function(){Jy(c,d),typeof x!="function"&&(Ma===null?Ma=new Set([this]):Ma.add(this));var M=d.stack;this.componentDidCatch(d.value,{componentStack:M!==null?M:""})}),m}function u5(c,d,m){var x=c.pingCache;if(x===null){x=c.pingCache=new CR;var S=new Set;x.set(d,S)}else S=x.get(d),S===void 0&&(S=new Set,x.set(d,S));S.has(m)||(S.add(m),c=FR.bind(null,c,d,m),d.then(c,c))}function d5(c){do{var d;if((d=c.tag===13)&&(d=c.memoizedState,d=d!==null?d.dehydrated!==null:!0),d)return c;c=c.return}while(c!==null);return null}function f5(c,d,m,x,S){return(c.mode&1)===0?(c===d?c.flags|=65536:(c.flags|=128,m.flags|=131072,m.flags&=-52805,m.tag===1&&(m.alternate===null?m.tag=17:(d=Bo(-1,1),d.tag=2,Pa(m,d,1))),m.lanes|=1),c):(c.flags|=65536,c.lanes=S,c)}var kR=$.ReactCurrentOwner,wi=!1;function si(c,d,m,x){d.child=c===null?P3(d,null,m,x):Tu(d,c.child,m,x)}function h5(c,d,m,x,S){m=m.render;var T=d.ref;return Nu(d,S),x=Hy(c,d,m,x,T,S),m=Wy(),c!==null&&!wi?(d.updateQueue=c.updateQueue,d.flags&=-2053,c.lanes&=~S,zo(c,d,S)):(Bn&&m&&Ey(d),d.flags|=1,si(c,d,x,S),d.child)}function p5(c,d,m,x,S){if(c===null){var T=m.type;return typeof T=="function"&&!bv(T)&&T.defaultProps===void 0&&m.compare===null&&m.defaultProps===void 0?(d.tag=15,d.type=T,m5(c,d,T,x,S)):(c=Mm(m.type,null,x,d,d.mode,S),c.ref=d.ref,c.return=d,d.child=c)}if(T=c.child,(c.lanes&S)===0){var M=T.memoizedProps;if(m=m.compare,m=m!==null?m:he,m(M,x)&&c.ref===d.ref)return zo(c,d,S)}return d.flags|=1,c=Fa(T,x),c.ref=d.ref,c.return=d,d.child=c}function m5(c,d,m,x,S){if(c!==null){var T=c.memoizedProps;if(he(T,x)&&c.ref===d.ref)if(wi=!1,d.pendingProps=x=T,(c.lanes&S)!==0)(c.flags&131072)!==0&&(wi=!0);else return d.lanes=c.lanes,zo(c,d,S)}return Zy(c,d,m,x,S)}function g5(c,d,m){var x=d.pendingProps,S=x.children,T=c!==null?c.memoizedState:null;if(x.mode==="hidden")if((d.mode&1)===0)d.memoizedState={baseLanes:0,cachePool:null,transitions:null},kn(Ou,Ki),Ki|=m;else{if((m&1073741824)===0)return c=T!==null?T.baseLanes|m:m,d.lanes=d.childLanes=1073741824,d.memoizedState={baseLanes:c,cachePool:null,transitions:null},d.updateQueue=null,kn(Ou,Ki),Ki|=c,null;d.memoizedState={baseLanes:0,cachePool:null,transitions:null},x=T!==null?T.baseLanes:m,kn(Ou,Ki),Ki|=x}else T!==null?(x=T.baseLanes|m,d.memoizedState=null):x=m,kn(Ou,Ki),Ki|=x;return si(c,d,S,m),d.child}function y5(c,d){var m=d.ref;(c===null&&m!==null||c!==null&&c.ref!==m)&&(d.flags|=512,d.flags|=2097152)}function Zy(c,d,m,x,S){var T=bi(m)?ql:Ur.current;return T=Su(d,T),Nu(d,S),m=Hy(c,d,m,x,T,S),x=Wy(),c!==null&&!wi?(d.updateQueue=c.updateQueue,d.flags&=-2053,c.lanes&=~S,zo(c,d,S)):(Bn&&x&&Ey(d),d.flags|=1,si(c,d,m,S),d.child)}function v5(c,d,m,x,S){if(bi(m)){var T=!0;sm(d)}else T=!1;if(Nu(d,S),d.stateNode===null)Sm(c,d),o5(d,m,x),Yy(d,m,x,S),x=!0;else if(c===null){var M=d.stateNode,K=d.memoizedProps;M.props=K;var ie=M.context,be=m.contextType;typeof be=="object"&&be!==null?be=us(be):(be=bi(m)?ql:Ur.current,be=Su(d,be));var Pe=m.getDerivedStateFromProps,Ae=typeof Pe=="function"||typeof M.getSnapshotBeforeUpdate=="function";Ae||typeof M.UNSAFE_componentWillReceiveProps!="function"&&typeof M.componentWillReceiveProps!="function"||(K!==x||ie!==be)&&a5(d,M,x,be),Ra=!1;var Ie=d.memoizedState;M.state=Ie,pm(d,x,M,S),ie=d.memoizedState,K!==x||Ie!==ie||xi.current||Ra?(typeof Pe=="function"&&(Gy(d,m,Pe,x),ie=d.memoizedState),(K=Ra||s5(d,m,K,x,Ie,ie,be))?(Ae||typeof M.UNSAFE_componentWillMount!="function"&&typeof M.componentWillMount!="function"||(typeof M.componentWillMount=="function"&&M.componentWillMount(),typeof M.UNSAFE_componentWillMount=="function"&&M.UNSAFE_componentWillMount()),typeof M.componentDidMount=="function"&&(d.flags|=4194308)):(typeof M.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=x,d.memoizedState=ie),M.props=x,M.state=ie,M.context=be,x=K):(typeof M.componentDidMount=="function"&&(d.flags|=4194308),x=!1)}else{M=d.stateNode,M3(c,d),K=d.memoizedProps,be=d.type===d.elementType?K:Ds(d.type,K),M.props=be,Ae=d.pendingProps,Ie=M.context,ie=m.contextType,typeof ie=="object"&&ie!==null?ie=us(ie):(ie=bi(m)?ql:Ur.current,ie=Su(d,ie));var Je=m.getDerivedStateFromProps;(Pe=typeof Je=="function"||typeof M.getSnapshotBeforeUpdate=="function")||typeof M.UNSAFE_componentWillReceiveProps!="function"&&typeof M.componentWillReceiveProps!="function"||(K!==Ae||Ie!==ie)&&a5(d,M,x,ie),Ra=!1,Ie=d.memoizedState,M.state=Ie,pm(d,x,M,S);var rt=d.memoizedState;K!==Ae||Ie!==rt||xi.current||Ra?(typeof Je=="function"&&(Gy(d,m,Je,x),rt=d.memoizedState),(be=Ra||s5(d,m,be,x,Ie,rt,ie)||!1)?(Pe||typeof M.UNSAFE_componentWillUpdate!="function"&&typeof M.componentWillUpdate!="function"||(typeof M.componentWillUpdate=="function"&&M.componentWillUpdate(x,rt,ie),typeof M.UNSAFE_componentWillUpdate=="function"&&M.UNSAFE_componentWillUpdate(x,rt,ie)),typeof M.componentDidUpdate=="function"&&(d.flags|=4),typeof M.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof M.componentDidUpdate!="function"||K===c.memoizedProps&&Ie===c.memoizedState||(d.flags|=4),typeof M.getSnapshotBeforeUpdate!="function"||K===c.memoizedProps&&Ie===c.memoizedState||(d.flags|=1024),d.memoizedProps=x,d.memoizedState=rt),M.props=x,M.state=rt,M.context=ie,x=be):(typeof M.componentDidUpdate!="function"||K===c.memoizedProps&&Ie===c.memoizedState||(d.flags|=4),typeof M.getSnapshotBeforeUpdate!="function"||K===c.memoizedProps&&Ie===c.memoizedState||(d.flags|=1024),x=!1)}return ev(c,d,m,x,T,S)}function ev(c,d,m,x,S,T){y5(c,d);var M=(d.flags&128)!==0;if(!x&&!M)return S&&S3(d,m,!1),zo(c,d,T);x=d.stateNode,kR.current=d;var K=M&&typeof m.getDerivedStateFromError!="function"?null:x.render();return d.flags|=1,c!==null&&M?(d.child=Tu(d,c.child,null,T),d.child=Tu(d,null,K,T)):si(c,d,K,T),d.memoizedState=x.state,S&&S3(d,m,!0),d.child}function x5(c){var d=c.stateNode;d.pendingContext?w3(c,d.pendingContext,d.pendingContext!==d.context):d.context&&w3(c,d.context,!1),Ly(c,d.containerInfo)}function b5(c,d,m,x,S){return Eu(),Iy(S),d.flags|=256,si(c,d,m,x),d.child}var tv={dehydrated:null,treeContext:null,retryLane:0};function nv(c){return{baseLanes:c,cachePool:null,transitions:null}}function w5(c,d,m){var x=d.pendingProps,S=Hn.current,T=!1,M=(d.flags&128)!==0,K;if((K=M)||(K=c!==null&&c.memoizedState===null?!1:(S&2)!==0),K?(T=!0,d.flags&=-129):(c===null||c.memoizedState!==null)&&(S|=1),kn(Hn,S&1),c===null)return Ny(d),c=d.memoizedState,c!==null&&(c=c.dehydrated,c!==null)?((d.mode&1)===0?d.lanes=1:c.data==="$!"?d.lanes=8:d.lanes=1073741824,null):(M=x.children,c=x.fallback,T?(x=d.mode,T=d.child,M={mode:"hidden",children:M},(x&1)===0&&T!==null?(T.childLanes=0,T.pendingProps=M):T=Am(M,x,0,null),c=tc(c,x,m,null),T.return=d,c.return=d,T.sibling=c,d.child=T,d.child.memoizedState=nv(m),d.memoizedState=tv,c):rv(d,M));if(S=c.memoizedState,S!==null&&(K=S.dehydrated,K!==null))return ER(c,d,M,x,K,S,m);if(T){T=x.fallback,M=d.mode,S=c.child,K=S.sibling;var ie={mode:"hidden",children:x.children};return(M&1)===0&&d.child!==S?(x=d.child,x.childLanes=0,x.pendingProps=ie,d.deletions=null):(x=Fa(S,ie),x.subtreeFlags=S.subtreeFlags&14680064),K!==null?T=Fa(K,T):(T=tc(T,M,m,null),T.flags|=2),T.return=d,x.return=d,x.sibling=T,d.child=x,x=T,T=d.child,M=c.child.memoizedState,M=M===null?nv(m):{baseLanes:M.baseLanes|m,cachePool:null,transitions:M.transitions},T.memoizedState=M,T.childLanes=c.childLanes&~m,d.memoizedState=tv,x}return T=c.child,c=T.sibling,x=Fa(T,{mode:"visible",children:x.children}),(d.mode&1)===0&&(x.lanes=m),x.return=d,x.sibling=null,c!==null&&(m=d.deletions,m===null?(d.deletions=[c],d.flags|=16):m.push(c)),d.child=x,d.memoizedState=null,x}function rv(c,d){return d=Am({mode:"visible",children:d},c.mode,0,null),d.return=c,c.child=d}function _m(c,d,m,x){return x!==null&&Iy(x),Tu(d,c.child,null,m),c=rv(d,d.pendingProps.children),c.flags|=2,d.memoizedState=null,c}function ER(c,d,m,x,S,T,M){if(m)return d.flags&256?(d.flags&=-257,x=Xy(Error(n(422))),_m(c,d,M,x)):d.memoizedState!==null?(d.child=c.child,d.flags|=128,null):(T=x.fallback,S=d.mode,x=Am({mode:"visible",children:x.children},S,0,null),T=tc(T,S,M,null),T.flags|=2,x.return=d,T.return=d,x.sibling=T,d.child=x,(d.mode&1)!==0&&Tu(d,c.child,null,M),d.child.memoizedState=nv(M),d.memoizedState=tv,T);if((d.mode&1)===0)return _m(c,d,M,null);if(S.data==="$!"){if(x=S.nextSibling&&S.nextSibling.dataset,x)var K=x.dgst;return x=K,T=Error(n(419)),x=Xy(T,x,void 0),_m(c,d,M,x)}if(K=(M&c.childLanes)!==0,wi||K){if(x=Cr,x!==null){switch(M&-M){case 4:S=2;break;case 16:S=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:S=32;break;case 536870912:S=268435456;break;default:S=0}S=(S&(x.suspendedLanes|M))!==0?0:S,S!==0&&S!==T.retryLane&&(T.retryLane=S,Fo(c,S),Bs(x,c,S,-1))}return xv(),x=Xy(Error(n(421))),_m(c,d,M,x)}return S.data==="$?"?(d.flags|=128,d.child=c.child,d=BR.bind(null,c),S._reactRetry=d,null):(c=T.treeContext,Qi=Ta(S.nextSibling),Vi=d,Bn=!0,As=null,c!==null&&(ls[cs++]=Do,ls[cs++]=Lo,ls[cs++]=Vl,Do=c.id,Lo=c.overflow,Vl=d),d=rv(d,x.children),d.flags|=4096,d)}function _5(c,d,m){c.lanes|=d;var x=c.alternate;x!==null&&(x.lanes|=d),My(c.return,d,m)}function iv(c,d,m,x,S){var T=c.memoizedState;T===null?c.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:x,tail:m,tailMode:S}:(T.isBackwards=d,T.rendering=null,T.renderingStartTime=0,T.last=x,T.tail=m,T.tailMode=S)}function S5(c,d,m){var x=d.pendingProps,S=x.revealOrder,T=x.tail;if(si(c,d,x.children,m),x=Hn.current,(x&2)!==0)x=x&1|2,d.flags|=128;else{if(c!==null&&(c.flags&128)!==0)e:for(c=d.child;c!==null;){if(c.tag===13)c.memoizedState!==null&&_5(c,m,d);else if(c.tag===19)_5(c,m,d);else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===d)break e;for(;c.sibling===null;){if(c.return===null||c.return===d)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}x&=1}if(kn(Hn,x),(d.mode&1)===0)d.memoizedState=null;else switch(S){case"forwards":for(m=d.child,S=null;m!==null;)c=m.alternate,c!==null&&mm(c)===null&&(S=m),m=m.sibling;m=S,m===null?(S=d.child,d.child=null):(S=m.sibling,m.sibling=null),iv(d,!1,S,m,T);break;case"backwards":for(m=null,S=d.child,d.child=null;S!==null;){if(c=S.alternate,c!==null&&mm(c)===null){d.child=S;break}c=S.sibling,S.sibling=m,m=S,S=c}iv(d,!0,m,null,T);break;case"together":iv(d,!1,null,null,void 0);break;default:d.memoizedState=null}return d.child}function Sm(c,d){(d.mode&1)===0&&c!==null&&(c.alternate=null,d.alternate=null,d.flags|=2)}function zo(c,d,m){if(c!==null&&(d.dependencies=c.dependencies),Xl|=d.lanes,(m&d.childLanes)===0)return null;if(c!==null&&d.child!==c.child)throw Error(n(153));if(d.child!==null){for(c=d.child,m=Fa(c,c.pendingProps),d.child=m,m.return=d;c.sibling!==null;)c=c.sibling,m=m.sibling=Fa(c,c.pendingProps),m.return=d;m.sibling=null}return d.child}function TR(c,d,m){switch(d.tag){case 3:x5(d),Eu();break;case 5:L3(d);break;case 1:bi(d.type)&&sm(d);break;case 4:Ly(d,d.stateNode.containerInfo);break;case 10:var x=d.type._context,S=d.memoizedProps.value;kn(dm,x._currentValue),x._currentValue=S;break;case 13:if(x=d.memoizedState,x!==null)return x.dehydrated!==null?(kn(Hn,Hn.current&1),d.flags|=128,null):(m&d.child.childLanes)!==0?w5(c,d,m):(kn(Hn,Hn.current&1),c=zo(c,d,m),c!==null?c.sibling:null);kn(Hn,Hn.current&1);break;case 19:if(x=(m&d.childLanes)!==0,(c.flags&128)!==0){if(x)return S5(c,d,m);d.flags|=128}if(S=d.memoizedState,S!==null&&(S.rendering=null,S.tail=null,S.lastEffect=null),kn(Hn,Hn.current),x)break;return null;case 22:case 23:return d.lanes=0,g5(c,d,m)}return zo(c,d,m)}var C5,sv,k5,E5;C5=function(c,d){for(var m=d.child;m!==null;){if(m.tag===5||m.tag===6)c.appendChild(m.stateNode);else if(m.tag!==4&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===d)break;for(;m.sibling===null;){if(m.return===null||m.return===d)return;m=m.return}m.sibling.return=m.return,m=m.sibling}},sv=function(){},k5=function(c,d,m,x){var S=c.memoizedProps;if(S!==x){c=d.stateNode,Gl(oo.current);var T=null;switch(m){case"input":S=sn(c,S),x=sn(c,x),T=[];break;case"select":S=F({},S,{value:void 0}),x=F({},x,{value:void 0}),T=[];break;case"textarea":S=pt(c,S),x=pt(c,x),T=[];break;default:typeof S.onClick!="function"&&typeof x.onClick=="function"&&(c.onclick=nm)}Ve(m,x);var M;m=null;for(be in S)if(!x.hasOwnProperty(be)&&S.hasOwnProperty(be)&&S[be]!=null)if(be==="style"){var K=S[be];for(M in K)K.hasOwnProperty(M)&&(m||(m={}),m[M]="")}else be!=="dangerouslySetInnerHTML"&&be!=="children"&&be!=="suppressContentEditableWarning"&&be!=="suppressHydrationWarning"&&be!=="autoFocus"&&(i.hasOwnProperty(be)?T||(T=[]):(T=T||[]).push(be,null));for(be in x){var ie=x[be];if(K=S?.[be],x.hasOwnProperty(be)&&ie!==K&&(ie!=null||K!=null))if(be==="style")if(K){for(M in K)!K.hasOwnProperty(M)||ie&&ie.hasOwnProperty(M)||(m||(m={}),m[M]="");for(M in ie)ie.hasOwnProperty(M)&&K[M]!==ie[M]&&(m||(m={}),m[M]=ie[M])}else m||(T||(T=[]),T.push(be,m)),m=ie;else be==="dangerouslySetInnerHTML"?(ie=ie?ie.__html:void 0,K=K?K.__html:void 0,ie!=null&&K!==ie&&(T=T||[]).push(be,ie)):be==="children"?typeof ie!="string"&&typeof ie!="number"||(T=T||[]).push(be,""+ie):be!=="suppressContentEditableWarning"&&be!=="suppressHydrationWarning"&&(i.hasOwnProperty(be)?(ie!=null&&be==="onScroll"&&On("scroll",c),T||K===ie||(T=[])):(T=T||[]).push(be,ie))}m&&(T=T||[]).push("style",m);var be=T;(d.updateQueue=be)&&(d.flags|=4)}},E5=function(c,d,m,x){m!==x&&(d.flags|=4)};function Mf(c,d){if(!Bn)switch(c.tailMode){case"hidden":d=c.tail;for(var m=null;d!==null;)d.alternate!==null&&(m=d),d=d.sibling;m===null?c.tail=null:m.sibling=null;break;case"collapsed":m=c.tail;for(var x=null;m!==null;)m.alternate!==null&&(x=m),m=m.sibling;x===null?d||c.tail===null?c.tail=null:c.tail.sibling=null:x.sibling=null}}function Wr(c){var d=c.alternate!==null&&c.alternate.child===c.child,m=0,x=0;if(d)for(var S=c.child;S!==null;)m|=S.lanes|S.childLanes,x|=S.subtreeFlags&14680064,x|=S.flags&14680064,S.return=c,S=S.sibling;else for(S=c.child;S!==null;)m|=S.lanes|S.childLanes,x|=S.subtreeFlags,x|=S.flags,S.return=c,S=S.sibling;return c.subtreeFlags|=x,c.childLanes=m,d}function jR(c,d,m){var x=d.pendingProps;switch(Ty(d),d.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wr(d),null;case 1:return bi(d.type)&&im(),Wr(d),null;case 3:return x=d.stateNode,Iu(),Mn(xi),Mn(Ur),zy(),x.pendingContext&&(x.context=x.pendingContext,x.pendingContext=null),(c===null||c.child===null)&&(cm(d)?d.flags|=4:c===null||c.memoizedState.isDehydrated&&(d.flags&256)===0||(d.flags|=1024,As!==null&&(gv(As),As=null))),sv(c,d),Wr(d),null;case 5:Fy(d);var S=Gl(Nf.current);if(m=d.type,c!==null&&d.stateNode!=null)k5(c,d,m,x,S),c.ref!==d.ref&&(d.flags|=512,d.flags|=2097152);else{if(!x){if(d.stateNode===null)throw Error(n(166));return Wr(d),null}if(c=Gl(oo.current),cm(d)){x=d.stateNode,m=d.type;var T=d.memoizedProps;switch(x[so]=d,x[Cf]=T,c=(d.mode&1)!==0,m){case"dialog":On("cancel",x),On("close",x);break;case"iframe":case"object":case"embed":On("load",x);break;case"video":case"audio":for(S=0;S<wf.length;S++)On(wf[S],x);break;case"source":On("error",x);break;case"img":case"image":case"link":On("error",x),On("load",x);break;case"details":On("toggle",x);break;case"input":yn(x,T),On("invalid",x);break;case"select":x._wrapperState={wasMultiple:!!T.multiple},On("invalid",x);break;case"textarea":Bt(x,T),On("invalid",x)}Ve(m,T),S=null;for(var M in T)if(T.hasOwnProperty(M)){var K=T[M];M==="children"?typeof K=="string"?x.textContent!==K&&(T.suppressHydrationWarning!==!0&&tm(x.textContent,K,c),S=["children",K]):typeof K=="number"&&x.textContent!==""+K&&(T.suppressHydrationWarning!==!0&&tm(x.textContent,K,c),S=["children",""+K]):i.hasOwnProperty(M)&&K!=null&&M==="onScroll"&&On("scroll",x)}switch(m){case"input":xn(x),Bi(x,T,!0);break;case"textarea":xn(x),qn(x);break;case"select":case"option":break;default:typeof T.onClick=="function"&&(x.onclick=nm)}x=S,d.updateQueue=x,x!==null&&(d.flags|=4)}else{M=S.nodeType===9?S:S.ownerDocument,c==="http://www.w3.org/1999/xhtml"&&(c=Ce(m)),c==="http://www.w3.org/1999/xhtml"?m==="script"?(c=M.createElement("div"),c.innerHTML="<script><\/script>",c=c.removeChild(c.firstChild)):typeof x.is=="string"?c=M.createElement(m,{is:x.is}):(c=M.createElement(m),m==="select"&&(M=c,x.multiple?M.multiple=!0:x.size&&(M.size=x.size))):c=M.createElementNS(c,m),c[so]=d,c[Cf]=x,C5(c,d,!1,!1),d.stateNode=c;e:{switch(M=Xn(m,x),m){case"dialog":On("cancel",c),On("close",c),S=x;break;case"iframe":case"object":case"embed":On("load",c),S=x;break;case"video":case"audio":for(S=0;S<wf.length;S++)On(wf[S],c);S=x;break;case"source":On("error",c),S=x;break;case"img":case"image":case"link":On("error",c),On("load",c),S=x;break;case"details":On("toggle",c),S=x;break;case"input":yn(c,x),S=sn(c,x),On("invalid",c);break;case"option":S=x;break;case"select":c._wrapperState={wasMultiple:!!x.multiple},S=F({},x,{value:void 0}),On("invalid",c);break;case"textarea":Bt(c,x),S=pt(c,x),On("invalid",c);break;default:S=x}Ve(m,S),K=S;for(T in K)if(K.hasOwnProperty(T)){var ie=K[T];T==="style"?ti(c,ie):T==="dangerouslySetInnerHTML"?(ie=ie?ie.__html:void 0,ie!=null&&vt(c,ie)):T==="children"?typeof ie=="string"?(m!=="textarea"||ie!=="")&&zt(c,ie):typeof ie=="number"&&zt(c,""+ie):T!=="suppressContentEditableWarning"&&T!=="suppressHydrationWarning"&&T!=="autoFocus"&&(i.hasOwnProperty(T)?ie!=null&&T==="onScroll"&&On("scroll",c):ie!=null&&O(c,T,ie,M))}switch(m){case"input":xn(c),Bi(c,x,!1);break;case"textarea":xn(c),qn(c);break;case"option":x.value!=null&&c.setAttribute("value",""+qe(x.value));break;case"select":c.multiple=!!x.multiple,T=x.value,T!=null?on(c,!!x.multiple,T,!1):x.defaultValue!=null&&on(c,!!x.multiple,x.defaultValue,!0);break;default:typeof S.onClick=="function"&&(c.onclick=nm)}switch(m){case"button":case"input":case"select":case"textarea":x=!!x.autoFocus;break e;case"img":x=!0;break e;default:x=!1}}x&&(d.flags|=4)}d.ref!==null&&(d.flags|=512,d.flags|=2097152)}return Wr(d),null;case 6:if(c&&d.stateNode!=null)E5(c,d,c.memoizedProps,x);else{if(typeof x!="string"&&d.stateNode===null)throw Error(n(166));if(m=Gl(Nf.current),Gl(oo.current),cm(d)){if(x=d.stateNode,m=d.memoizedProps,x[so]=d,(T=x.nodeValue!==m)&&(c=Vi,c!==null))switch(c.tag){case 3:tm(x.nodeValue,m,(c.mode&1)!==0);break;case 5:c.memoizedProps.suppressHydrationWarning!==!0&&tm(x.nodeValue,m,(c.mode&1)!==0)}T&&(d.flags|=4)}else x=(m.nodeType===9?m:m.ownerDocument).createTextNode(x),x[so]=d,d.stateNode=x}return Wr(d),null;case 13:if(Mn(Hn),x=d.memoizedState,c===null||c.memoizedState!==null&&c.memoizedState.dehydrated!==null){if(Bn&&Qi!==null&&(d.mode&1)!==0&&(d.flags&128)===0)N3(),Eu(),d.flags|=98560,T=!1;else if(T=cm(d),x!==null&&x.dehydrated!==null){if(c===null){if(!T)throw Error(n(318));if(T=d.memoizedState,T=T!==null?T.dehydrated:null,!T)throw Error(n(317));T[so]=d}else Eu(),(d.flags&128)===0&&(d.memoizedState=null),d.flags|=4;Wr(d),T=!1}else As!==null&&(gv(As),As=null),T=!0;if(!T)return d.flags&65536?d:null}return(d.flags&128)!==0?(d.lanes=m,d):(x=x!==null,x!==(c!==null&&c.memoizedState!==null)&&x&&(d.child.flags|=8192,(d.mode&1)!==0&&(c===null||(Hn.current&1)!==0?hr===0&&(hr=3):xv())),d.updateQueue!==null&&(d.flags|=4),Wr(d),null);case 4:return Iu(),sv(c,d),c===null&&_f(d.stateNode.containerInfo),Wr(d),null;case 10:return Oy(d.type._context),Wr(d),null;case 17:return bi(d.type)&&im(),Wr(d),null;case 19:if(Mn(Hn),T=d.memoizedState,T===null)return Wr(d),null;if(x=(d.flags&128)!==0,M=T.rendering,M===null)if(x)Mf(T,!1);else{if(hr!==0||c!==null&&(c.flags&128)!==0)for(c=d.child;c!==null;){if(M=mm(c),M!==null){for(d.flags|=128,Mf(T,!1),x=M.updateQueue,x!==null&&(d.updateQueue=x,d.flags|=4),d.subtreeFlags=0,x=m,m=d.child;m!==null;)T=m,c=x,T.flags&=14680066,M=T.alternate,M===null?(T.childLanes=0,T.lanes=c,T.child=null,T.subtreeFlags=0,T.memoizedProps=null,T.memoizedState=null,T.updateQueue=null,T.dependencies=null,T.stateNode=null):(T.childLanes=M.childLanes,T.lanes=M.lanes,T.child=M.child,T.subtreeFlags=0,T.deletions=null,T.memoizedProps=M.memoizedProps,T.memoizedState=M.memoizedState,T.updateQueue=M.updateQueue,T.type=M.type,c=M.dependencies,T.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),m=m.sibling;return kn(Hn,Hn.current&1|2),d.child}c=c.sibling}T.tail!==null&&Wt()>Mu&&(d.flags|=128,x=!0,Mf(T,!1),d.lanes=4194304)}else{if(!x)if(c=mm(M),c!==null){if(d.flags|=128,x=!0,m=c.updateQueue,m!==null&&(d.updateQueue=m,d.flags|=4),Mf(T,!0),T.tail===null&&T.tailMode==="hidden"&&!M.alternate&&!Bn)return Wr(d),null}else 2*Wt()-T.renderingStartTime>Mu&&m!==1073741824&&(d.flags|=128,x=!0,Mf(T,!1),d.lanes=4194304);T.isBackwards?(M.sibling=d.child,d.child=M):(m=T.last,m!==null?m.sibling=M:d.child=M,T.last=M)}return T.tail!==null?(d=T.tail,T.rendering=d,T.tail=d.sibling,T.renderingStartTime=Wt(),d.sibling=null,m=Hn.current,kn(Hn,x?m&1|2:m&1),d):(Wr(d),null);case 22:case 23:return vv(),x=d.memoizedState!==null,c!==null&&c.memoizedState!==null!==x&&(d.flags|=8192),x&&(d.mode&1)!==0?(Ki&1073741824)!==0&&(Wr(d),d.subtreeFlags&6&&(d.flags|=8192)):Wr(d),null;case 24:return null;case 25:return null}throw Error(n(156,d.tag))}function NR(c,d){switch(Ty(d),d.tag){case 1:return bi(d.type)&&im(),c=d.flags,c&65536?(d.flags=c&-65537|128,d):null;case 3:return Iu(),Mn(xi),Mn(Ur),zy(),c=d.flags,(c&65536)!==0&&(c&128)===0?(d.flags=c&-65537|128,d):null;case 5:return Fy(d),null;case 13:if(Mn(Hn),c=d.memoizedState,c!==null&&c.dehydrated!==null){if(d.alternate===null)throw Error(n(340));Eu()}return c=d.flags,c&65536?(d.flags=c&-65537|128,d):null;case 19:return Mn(Hn),null;case 4:return Iu(),null;case 10:return Oy(d.type._context),null;case 22:case 23:return vv(),null;case 24:return null;default:return null}}var Cm=!1,qr=!1,IR=typeof WeakSet=="function"?WeakSet:Set,et=null;function Pu(c,d){var m=c.ref;if(m!==null)if(typeof m=="function")try{m(null)}catch(x){Qn(c,d,x)}else m.current=null}function ov(c,d,m){try{m()}catch(x){Qn(c,d,x)}}var T5=!1;function RR(c,d){if(vy=no,c=ce(),ve(c)){if("selectionStart"in c)var m={start:c.selectionStart,end:c.selectionEnd};else e:{m=(m=c.ownerDocument)&&m.defaultView||window;var x=m.getSelection&&m.getSelection();if(x&&x.rangeCount!==0){m=x.anchorNode;var S=x.anchorOffset,T=x.focusNode;x=x.focusOffset;try{m.nodeType,T.nodeType}catch{m=null;break e}var M=0,K=-1,ie=-1,be=0,Pe=0,Ae=c,Ie=null;t:for(;;){for(var Je;Ae!==m||S!==0&&Ae.nodeType!==3||(K=M+S),Ae!==T||x!==0&&Ae.nodeType!==3||(ie=M+x),Ae.nodeType===3&&(M+=Ae.nodeValue.length),(Je=Ae.firstChild)!==null;)Ie=Ae,Ae=Je;for(;;){if(Ae===c)break t;if(Ie===m&&++be===S&&(K=M),Ie===T&&++Pe===x&&(ie=M),(Je=Ae.nextSibling)!==null)break;Ae=Ie,Ie=Ae.parentNode}Ae=Je}m=K===-1||ie===-1?null:{start:K,end:ie}}else m=null}m=m||{start:0,end:0}}else m=null;for(xy={focusedElem:c,selectionRange:m},no=!1,et=d;et!==null;)if(d=et,c=d.child,(d.subtreeFlags&1028)!==0&&c!==null)c.return=d,et=c;else for(;et!==null;){d=et;try{var rt=d.alternate;if((d.flags&1024)!==0)switch(d.tag){case 0:case 11:case 15:break;case 1:if(rt!==null){var st=rt.memoizedProps,Zn=rt.memoizedState,ge=d.stateNode,le=ge.getSnapshotBeforeUpdate(d.elementType===d.type?st:Ds(d.type,st),Zn);ge.__reactInternalSnapshotBeforeUpdate=le}break;case 3:var xe=d.stateNode.containerInfo;xe.nodeType===1?xe.textContent="":xe.nodeType===9&&xe.documentElement&&xe.removeChild(xe.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch($e){Qn(d,d.return,$e)}if(c=d.sibling,c!==null){c.return=d.return,et=c;break}et=d.return}return rt=T5,T5=!1,rt}function Af(c,d,m){var x=d.updateQueue;if(x=x!==null?x.lastEffect:null,x!==null){var S=x=x.next;do{if((S.tag&c)===c){var T=S.destroy;S.destroy=void 0,T!==void 0&&ov(d,m,T)}S=S.next}while(S!==x)}}function km(c,d){if(d=d.updateQueue,d=d!==null?d.lastEffect:null,d!==null){var m=d=d.next;do{if((m.tag&c)===c){var x=m.create;m.destroy=x()}m=m.next}while(m!==d)}}function av(c){var d=c.ref;if(d!==null){var m=c.stateNode;switch(c.tag){case 5:c=m;break;default:c=m}typeof d=="function"?d(c):d.current=c}}function j5(c){var d=c.alternate;d!==null&&(c.alternate=null,j5(d)),c.child=null,c.deletions=null,c.sibling=null,c.tag===5&&(d=c.stateNode,d!==null&&(delete d[so],delete d[Cf],delete d[Sy],delete d[hR],delete d[pR])),c.stateNode=null,c.return=null,c.dependencies=null,c.memoizedProps=null,c.memoizedState=null,c.pendingProps=null,c.stateNode=null,c.updateQueue=null}function N5(c){return c.tag===5||c.tag===3||c.tag===4}function I5(c){e:for(;;){for(;c.sibling===null;){if(c.return===null||N5(c.return))return null;c=c.return}for(c.sibling.return=c.return,c=c.sibling;c.tag!==5&&c.tag!==6&&c.tag!==18;){if(c.flags&2||c.child===null||c.tag===4)continue e;c.child.return=c,c=c.child}if(!(c.flags&2))return c.stateNode}}function lv(c,d,m){var x=c.tag;if(x===5||x===6)c=c.stateNode,d?m.nodeType===8?m.parentNode.insertBefore(c,d):m.insertBefore(c,d):(m.nodeType===8?(d=m.parentNode,d.insertBefore(c,m)):(d=m,d.appendChild(c)),m=m._reactRootContainer,m!=null||d.onclick!==null||(d.onclick=nm));else if(x!==4&&(c=c.child,c!==null))for(lv(c,d,m),c=c.sibling;c!==null;)lv(c,d,m),c=c.sibling}function cv(c,d,m){var x=c.tag;if(x===5||x===6)c=c.stateNode,d?m.insertBefore(c,d):m.appendChild(c);else if(x!==4&&(c=c.child,c!==null))for(cv(c,d,m),c=c.sibling;c!==null;)cv(c,d,m),c=c.sibling}var Or=null,Ls=!1;function Oa(c,d,m){for(m=m.child;m!==null;)R5(c,d,m),m=m.sibling}function R5(c,d,m){if(Jt&&typeof Jt.onCommitFiberUnmount=="function")try{Jt.onCommitFiberUnmount(Ui,m)}catch{}switch(m.tag){case 5:qr||Pu(m,d);case 6:var x=Or,S=Ls;Or=null,Oa(c,d,m),Or=x,Ls=S,Or!==null&&(Ls?(c=Or,m=m.stateNode,c.nodeType===8?c.parentNode.removeChild(m):c.removeChild(m)):Or.removeChild(m.stateNode));break;case 18:Or!==null&&(Ls?(c=Or,m=m.stateNode,c.nodeType===8?_y(c.parentNode,m):c.nodeType===1&&_y(c,m),ba(c)):_y(Or,m.stateNode));break;case 4:x=Or,S=Ls,Or=m.stateNode.containerInfo,Ls=!0,Oa(c,d,m),Or=x,Ls=S;break;case 0:case 11:case 14:case 15:if(!qr&&(x=m.updateQueue,x!==null&&(x=x.lastEffect,x!==null))){S=x=x.next;do{var T=S,M=T.destroy;T=T.tag,M!==void 0&&((T&2)!==0||(T&4)!==0)&&ov(m,d,M),S=S.next}while(S!==x)}Oa(c,d,m);break;case 1:if(!qr&&(Pu(m,d),x=m.stateNode,typeof x.componentWillUnmount=="function"))try{x.props=m.memoizedProps,x.state=m.memoizedState,x.componentWillUnmount()}catch(K){Qn(m,d,K)}Oa(c,d,m);break;case 21:Oa(c,d,m);break;case 22:m.mode&1?(qr=(x=qr)||m.memoizedState!==null,Oa(c,d,m),qr=x):Oa(c,d,m);break;default:Oa(c,d,m)}}function P5(c){var d=c.updateQueue;if(d!==null){c.updateQueue=null;var m=c.stateNode;m===null&&(m=c.stateNode=new IR),d.forEach(function(x){var S=zR.bind(null,c,x);m.has(x)||(m.add(x),x.then(S,S))})}}function Fs(c,d){var m=d.deletions;if(m!==null)for(var x=0;x<m.length;x++){var S=m[x];try{var T=c,M=d,K=M;e:for(;K!==null;){switch(K.tag){case 5:Or=K.stateNode,Ls=!1;break e;case 3:Or=K.stateNode.containerInfo,Ls=!0;break e;case 4:Or=K.stateNode.containerInfo,Ls=!0;break e}K=K.return}if(Or===null)throw Error(n(160));R5(T,M,S),Or=null,Ls=!1;var ie=S.alternate;ie!==null&&(ie.return=null),S.return=null}catch(be){Qn(S,d,be)}}if(d.subtreeFlags&12854)for(d=d.child;d!==null;)O5(d,c),d=d.sibling}function O5(c,d){var m=c.alternate,x=c.flags;switch(c.tag){case 0:case 11:case 14:case 15:if(Fs(d,c),lo(c),x&4){try{Af(3,c,c.return),km(3,c)}catch(st){Qn(c,c.return,st)}try{Af(5,c,c.return)}catch(st){Qn(c,c.return,st)}}break;case 1:Fs(d,c),lo(c),x&512&&m!==null&&Pu(m,m.return);break;case 5:if(Fs(d,c),lo(c),x&512&&m!==null&&Pu(m,m.return),c.flags&32){var S=c.stateNode;try{zt(S,"")}catch(st){Qn(c,c.return,st)}}if(x&4&&(S=c.stateNode,S!=null)){var T=c.memoizedProps,M=m!==null?m.memoizedProps:T,K=c.type,ie=c.updateQueue;if(c.updateQueue=null,ie!==null)try{K==="input"&&T.type==="radio"&&T.name!=null&&Fi(S,T),Xn(K,M);var be=Xn(K,T);for(M=0;M<ie.length;M+=2){var Pe=ie[M],Ae=ie[M+1];Pe==="style"?ti(S,Ae):Pe==="dangerouslySetInnerHTML"?vt(S,Ae):Pe==="children"?zt(S,Ae):O(S,Pe,Ae,be)}switch(K){case"input":ei(S,T);break;case"textarea":Rt(S,T);break;case"select":var Ie=S._wrapperState.wasMultiple;S._wrapperState.wasMultiple=!!T.multiple;var Je=T.value;Je!=null?on(S,!!T.multiple,Je,!1):Ie!==!!T.multiple&&(T.defaultValue!=null?on(S,!!T.multiple,T.defaultValue,!0):on(S,!!T.multiple,T.multiple?[]:"",!1))}S[Cf]=T}catch(st){Qn(c,c.return,st)}}break;case 6:if(Fs(d,c),lo(c),x&4){if(c.stateNode===null)throw Error(n(162));S=c.stateNode,T=c.memoizedProps;try{S.nodeValue=T}catch(st){Qn(c,c.return,st)}}break;case 3:if(Fs(d,c),lo(c),x&4&&m!==null&&m.memoizedState.isDehydrated)try{ba(d.containerInfo)}catch(st){Qn(c,c.return,st)}break;case 4:Fs(d,c),lo(c);break;case 13:Fs(d,c),lo(c),S=c.child,S.flags&8192&&(T=S.memoizedState!==null,S.stateNode.isHidden=T,!T||S.alternate!==null&&S.alternate.memoizedState!==null||(fv=Wt())),x&4&&P5(c);break;case 22:if(Pe=m!==null&&m.memoizedState!==null,c.mode&1?(qr=(be=qr)||Pe,Fs(d,c),qr=be):Fs(d,c),lo(c),x&8192){if(be=c.memoizedState!==null,(c.stateNode.isHidden=be)&&!Pe&&(c.mode&1)!==0)for(et=c,Pe=c.child;Pe!==null;){for(Ae=et=Pe;et!==null;){switch(Ie=et,Je=Ie.child,Ie.tag){case 0:case 11:case 14:case 15:Af(4,Ie,Ie.return);break;case 1:Pu(Ie,Ie.return);var rt=Ie.stateNode;if(typeof rt.componentWillUnmount=="function"){x=Ie,m=Ie.return;try{d=x,rt.props=d.memoizedProps,rt.state=d.memoizedState,rt.componentWillUnmount()}catch(st){Qn(x,m,st)}}break;case 5:Pu(Ie,Ie.return);break;case 22:if(Ie.memoizedState!==null){D5(Ae);continue}}Je!==null?(Je.return=Ie,et=Je):D5(Ae)}Pe=Pe.sibling}e:for(Pe=null,Ae=c;;){if(Ae.tag===5){if(Pe===null){Pe=Ae;try{S=Ae.stateNode,be?(T=S.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none"):(K=Ae.stateNode,ie=Ae.memoizedProps.style,M=ie!=null&&ie.hasOwnProperty("display")?ie.display:null,K.style.display=rr("display",M))}catch(st){Qn(c,c.return,st)}}}else if(Ae.tag===6){if(Pe===null)try{Ae.stateNode.nodeValue=be?"":Ae.memoizedProps}catch(st){Qn(c,c.return,st)}}else if((Ae.tag!==22&&Ae.tag!==23||Ae.memoizedState===null||Ae===c)&&Ae.child!==null){Ae.child.return=Ae,Ae=Ae.child;continue}if(Ae===c)break e;for(;Ae.sibling===null;){if(Ae.return===null||Ae.return===c)break e;Pe===Ae&&(Pe=null),Ae=Ae.return}Pe===Ae&&(Pe=null),Ae.sibling.return=Ae.return,Ae=Ae.sibling}}break;case 19:Fs(d,c),lo(c),x&4&&P5(c);break;case 21:break;default:Fs(d,c),lo(c)}}function lo(c){var d=c.flags;if(d&2){try{e:{for(var m=c.return;m!==null;){if(N5(m)){var x=m;break e}m=m.return}throw Error(n(160))}switch(x.tag){case 5:var S=x.stateNode;x.flags&32&&(zt(S,""),x.flags&=-33);var T=I5(c);cv(c,T,S);break;case 3:case 4:var M=x.stateNode.containerInfo,K=I5(c);lv(c,K,M);break;default:throw Error(n(161))}}catch(ie){Qn(c,c.return,ie)}c.flags&=-3}d&4096&&(c.flags&=-4097)}function PR(c,d,m){et=c,M5(c)}function M5(c,d,m){for(var x=(c.mode&1)!==0;et!==null;){var S=et,T=S.child;if(S.tag===22&&x){var M=S.memoizedState!==null||Cm;if(!M){var K=S.alternate,ie=K!==null&&K.memoizedState!==null||qr;K=Cm;var be=qr;if(Cm=M,(qr=ie)&&!be)for(et=S;et!==null;)M=et,ie=M.child,M.tag===22&&M.memoizedState!==null?L5(S):ie!==null?(ie.return=M,et=ie):L5(S);for(;T!==null;)et=T,M5(T),T=T.sibling;et=S,Cm=K,qr=be}A5(c)}else(S.subtreeFlags&8772)!==0&&T!==null?(T.return=S,et=T):A5(c)}}function A5(c){for(;et!==null;){var d=et;if((d.flags&8772)!==0){var m=d.alternate;try{if((d.flags&8772)!==0)switch(d.tag){case 0:case 11:case 15:qr||km(5,d);break;case 1:var x=d.stateNode;if(d.flags&4&&!qr)if(m===null)x.componentDidMount();else{var S=d.elementType===d.type?m.memoizedProps:Ds(d.type,m.memoizedProps);x.componentDidUpdate(S,m.memoizedState,x.__reactInternalSnapshotBeforeUpdate)}var T=d.updateQueue;T!==null&&D3(d,T,x);break;case 3:var M=d.updateQueue;if(M!==null){if(m=null,d.child!==null)switch(d.child.tag){case 5:m=d.child.stateNode;break;case 1:m=d.child.stateNode}D3(d,M,m)}break;case 5:var K=d.stateNode;if(m===null&&d.flags&4){m=K;var ie=d.memoizedProps;switch(d.type){case"button":case"input":case"select":case"textarea":ie.autoFocus&&m.focus();break;case"img":ie.src&&(m.src=ie.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(d.memoizedState===null){var be=d.alternate;if(be!==null){var Pe=be.memoizedState;if(Pe!==null){var Ae=Pe.dehydrated;Ae!==null&&ba(Ae)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}qr||d.flags&512&&av(d)}catch(Ie){Qn(d,d.return,Ie)}}if(d===c){et=null;break}if(m=d.sibling,m!==null){m.return=d.return,et=m;break}et=d.return}}function D5(c){for(;et!==null;){var d=et;if(d===c){et=null;break}var m=d.sibling;if(m!==null){m.return=d.return,et=m;break}et=d.return}}function L5(c){for(;et!==null;){var d=et;try{switch(d.tag){case 0:case 11:case 15:var m=d.return;try{km(4,d)}catch(ie){Qn(d,m,ie)}break;case 1:var x=d.stateNode;if(typeof x.componentDidMount=="function"){var S=d.return;try{x.componentDidMount()}catch(ie){Qn(d,S,ie)}}var T=d.return;try{av(d)}catch(ie){Qn(d,T,ie)}break;case 5:var M=d.return;try{av(d)}catch(ie){Qn(d,M,ie)}}}catch(ie){Qn(d,d.return,ie)}if(d===c){et=null;break}var K=d.sibling;if(K!==null){K.return=d.return,et=K;break}et=d.return}}var OR=Math.ceil,Em=$.ReactCurrentDispatcher,uv=$.ReactCurrentOwner,fs=$.ReactCurrentBatchConfig,ln=0,Cr=null,sr=null,Mr=0,Ki=0,Ou=ja(0),hr=0,Df=null,Xl=0,Tm=0,dv=0,Lf=null,_i=null,fv=0,Mu=1/0,$o=null,jm=!1,hv=null,Ma=null,Nm=!1,Aa=null,Im=0,Ff=0,pv=null,Rm=-1,Pm=0;function oi(){return(ln&6)!==0?Wt():Rm!==-1?Rm:Rm=Wt()}function Da(c){return(c.mode&1)===0?1:(ln&2)!==0&&Mr!==0?Mr&-Mr:gR.transition!==null?(Pm===0&&(Pm=uf()),Pm):(c=mn,c!==0||(c=window.event,c=c===void 0?16:zp(c.type)),c)}function Bs(c,d,m,x){if(50<Ff)throw Ff=0,pv=null,Error(n(185));va(c,m,x),((ln&2)===0||c!==Cr)&&(c===Cr&&((ln&2)===0&&(Tm|=m),hr===4&&La(c,Mr)),Si(c,x),m===1&&ln===0&&(d.mode&1)===0&&(Mu=Wt()+500,om&&Ia()))}function Si(c,d){var m=c.callbackNode;cf(c,d);var x=Ns(c,c===Cr?Mr:0);if(x===0)m!==null&&ni(m),c.callbackNode=null,c.callbackPriority=0;else if(d=x&-x,c.callbackPriority!==d){if(m!=null&&ni(m),d===1)c.tag===0?mR(B5.bind(null,c)):C3(B5.bind(null,c)),dR(function(){(ln&6)===0&&Ia()}),m=null;else{switch(Zt(x)){case 1:m=ri;break;case 4:m=ss;break;case 16:m=qt;break;case 536870912:m=ii;break;default:m=qt}m=Q5(m,F5.bind(null,c))}c.callbackPriority=d,c.callbackNode=m}}function F5(c,d){if(Rm=-1,Pm=0,(ln&6)!==0)throw Error(n(327));var m=c.callbackNode;if(Au()&&c.callbackNode!==m)return null;var x=Ns(c,c===Cr?Mr:0);if(x===0)return null;if((x&30)!==0||(x&c.expiredLanes)!==0||d)d=Om(c,x);else{d=x;var S=ln;ln|=2;var T=$5();(Cr!==c||Mr!==d)&&($o=null,Mu=Wt()+500,Zl(c,d));do try{DR();break}catch(K){z5(c,K)}while(!0);Py(),Em.current=T,ln=S,sr!==null?d=0:(Cr=null,Mr=0,d=hr)}if(d!==0){if(d===2&&(S=ga(c),S!==0&&(x=S,d=mv(c,S))),d===1)throw m=Df,Zl(c,0),La(c,x),Si(c,Wt()),m;if(d===6)La(c,x);else{if(S=c.current.alternate,(x&30)===0&&!MR(S)&&(d=Om(c,x),d===2&&(T=ga(c),T!==0&&(x=T,d=mv(c,T))),d===1))throw m=Df,Zl(c,0),La(c,x),Si(c,Wt()),m;switch(c.finishedWork=S,c.finishedLanes=x,d){case 0:case 1:throw Error(n(345));case 2:ec(c,_i,$o);break;case 3:if(La(c,x),(x&130023424)===x&&(d=fv+500-Wt(),10<d)){if(Ns(c,0)!==0)break;if(S=c.suspendedLanes,(S&x)!==x){oi(),c.pingedLanes|=c.suspendedLanes&S;break}c.timeoutHandle=wy(ec.bind(null,c,_i,$o),d);break}ec(c,_i,$o);break;case 4:if(La(c,x),(x&4194240)===x)break;for(d=c.eventTimes,S=-1;0<x;){var M=31-mt(x);T=1<<M,M=d[M],M>S&&(S=M),x&=~T}if(x=S,x=Wt()-x,x=(120>x?120:480>x?480:1080>x?1080:1920>x?1920:3e3>x?3e3:4320>x?4320:1960*OR(x/1960))-x,10<x){c.timeoutHandle=wy(ec.bind(null,c,_i,$o),x);break}ec(c,_i,$o);break;case 5:ec(c,_i,$o);break;default:throw Error(n(329))}}}return Si(c,Wt()),c.callbackNode===m?F5.bind(null,c):null}function mv(c,d){var m=Lf;return c.current.memoizedState.isDehydrated&&(Zl(c,d).flags|=256),c=Om(c,d),c!==2&&(d=_i,_i=m,d!==null&&gv(d)),c}function gv(c){_i===null?_i=c:_i.push.apply(_i,c)}function MR(c){for(var d=c;;){if(d.flags&16384){var m=d.updateQueue;if(m!==null&&(m=m.stores,m!==null))for(var x=0;x<m.length;x++){var S=m[x],T=S.getSnapshot;S=S.value;try{if(!J(T(),S))return!1}catch{return!1}}}if(m=d.child,d.subtreeFlags&16384&&m!==null)m.return=d,d=m;else{if(d===c)break;for(;d.sibling===null;){if(d.return===null||d.return===c)return!0;d=d.return}d.sibling.return=d.return,d=d.sibling}}return!0}function La(c,d){for(d&=~dv,d&=~Tm,c.suspendedLanes|=d,c.pingedLanes&=~d,c=c.expirationTimes;0<d;){var m=31-mt(d),x=1<<m;c[m]=-1,d&=~x}}function B5(c){if((ln&6)!==0)throw Error(n(327));Au();var d=Ns(c,0);if((d&1)===0)return Si(c,Wt()),null;var m=Om(c,d);if(c.tag!==0&&m===2){var x=ga(c);x!==0&&(d=x,m=mv(c,x))}if(m===1)throw m=Df,Zl(c,0),La(c,d),Si(c,Wt()),m;if(m===6)throw Error(n(345));return c.finishedWork=c.current.alternate,c.finishedLanes=d,ec(c,_i,$o),Si(c,Wt()),null}function yv(c,d){var m=ln;ln|=1;try{return c(d)}finally{ln=m,ln===0&&(Mu=Wt()+500,om&&Ia())}}function Jl(c){Aa!==null&&Aa.tag===0&&(ln&6)===0&&Au();var d=ln;ln|=1;var m=fs.transition,x=mn;try{if(fs.transition=null,mn=1,c)return c()}finally{mn=x,fs.transition=m,ln=d,(ln&6)===0&&Ia()}}function vv(){Ki=Ou.current,Mn(Ou)}function Zl(c,d){c.finishedWork=null,c.finishedLanes=0;var m=c.timeoutHandle;if(m!==-1&&(c.timeoutHandle=-1,uR(m)),sr!==null)for(m=sr.return;m!==null;){var x=m;switch(Ty(x),x.tag){case 1:x=x.type.childContextTypes,x!=null&&im();break;case 3:Iu(),Mn(xi),Mn(Ur),zy();break;case 5:Fy(x);break;case 4:Iu();break;case 13:Mn(Hn);break;case 19:Mn(Hn);break;case 10:Oy(x.type._context);break;case 22:case 23:vv()}m=m.return}if(Cr=c,sr=c=Fa(c.current,null),Mr=Ki=d,hr=0,Df=null,dv=Tm=Xl=0,_i=Lf=null,Kl!==null){for(d=0;d<Kl.length;d++)if(m=Kl[d],x=m.interleaved,x!==null){m.interleaved=null;var S=x.next,T=m.pending;if(T!==null){var M=T.next;T.next=S,x.next=M}m.pending=x}Kl=null}return c}function z5(c,d){do{var m=sr;try{if(Py(),gm.current=bm,ym){for(var x=Wn.memoizedState;x!==null;){var S=x.queue;S!==null&&(S.pending=null),x=x.next}ym=!1}if(Yl=0,Sr=fr=Wn=null,If=!1,Rf=0,uv.current=null,m===null||m.return===null){hr=1,Df=d,sr=null;break}e:{var T=c,M=m.return,K=m,ie=d;if(d=Mr,K.flags|=32768,ie!==null&&typeof ie=="object"&&typeof ie.then=="function"){var be=ie,Pe=K,Ae=Pe.tag;if((Pe.mode&1)===0&&(Ae===0||Ae===11||Ae===15)){var Ie=Pe.alternate;Ie?(Pe.updateQueue=Ie.updateQueue,Pe.memoizedState=Ie.memoizedState,Pe.lanes=Ie.lanes):(Pe.updateQueue=null,Pe.memoizedState=null)}var Je=d5(M);if(Je!==null){Je.flags&=-257,f5(Je,M,K,T,d),Je.mode&1&&u5(T,be,d),d=Je,ie=be;var rt=d.updateQueue;if(rt===null){var st=new Set;st.add(ie),d.updateQueue=st}else rt.add(ie);break e}else{if((d&1)===0){u5(T,be,d),xv();break e}ie=Error(n(426))}}else if(Bn&&K.mode&1){var Zn=d5(M);if(Zn!==null){(Zn.flags&65536)===0&&(Zn.flags|=256),f5(Zn,M,K,T,d),Iy(Ru(ie,K));break e}}T=ie=Ru(ie,K),hr!==4&&(hr=2),Lf===null?Lf=[T]:Lf.push(T),T=M;do{switch(T.tag){case 3:T.flags|=65536,d&=-d,T.lanes|=d;var ge=l5(T,ie,d);A3(T,ge);break e;case 1:K=ie;var le=T.type,xe=T.stateNode;if((T.flags&128)===0&&(typeof le.getDerivedStateFromError=="function"||xe!==null&&typeof xe.componentDidCatch=="function"&&(Ma===null||!Ma.has(xe)))){T.flags|=65536,d&=-d,T.lanes|=d;var $e=c5(T,K,d);A3(T,$e);break e}}T=T.return}while(T!==null)}H5(m)}catch(ot){d=ot,sr===m&&m!==null&&(sr=m=m.return);continue}break}while(!0)}function $5(){var c=Em.current;return Em.current=bm,c===null?bm:c}function xv(){(hr===0||hr===3||hr===2)&&(hr=4),Cr===null||(Xl&268435455)===0&&(Tm&268435455)===0||La(Cr,Mr)}function Om(c,d){var m=ln;ln|=2;var x=$5();(Cr!==c||Mr!==d)&&($o=null,Zl(c,d));do try{AR();break}catch(S){z5(c,S)}while(!0);if(Py(),ln=m,Em.current=x,sr!==null)throw Error(n(261));return Cr=null,Mr=0,hr}function AR(){for(;sr!==null;)U5(sr)}function DR(){for(;sr!==null&&!tn();)U5(sr)}function U5(c){var d=V5(c.alternate,c,Ki);c.memoizedProps=c.pendingProps,d===null?H5(c):sr=d,uv.current=null}function H5(c){var d=c;do{var m=d.alternate;if(c=d.return,(d.flags&32768)===0){if(m=jR(m,d,Ki),m!==null){sr=m;return}}else{if(m=NR(m,d),m!==null){m.flags&=32767,sr=m;return}if(c!==null)c.flags|=32768,c.subtreeFlags=0,c.deletions=null;else{hr=6,sr=null;return}}if(d=d.sibling,d!==null){sr=d;return}sr=d=c}while(d!==null);hr===0&&(hr=5)}function ec(c,d,m){var x=mn,S=fs.transition;try{fs.transition=null,mn=1,LR(c,d,m,x)}finally{fs.transition=S,mn=x}return null}function LR(c,d,m,x){do Au();while(Aa!==null);if((ln&6)!==0)throw Error(n(327));m=c.finishedWork;var S=c.finishedLanes;if(m===null)return null;if(c.finishedWork=null,c.finishedLanes=0,m===c.current)throw Error(n(177));c.callbackNode=null,c.callbackPriority=0;var T=m.lanes|m.childLanes;if(Nl(c,T),c===Cr&&(sr=Cr=null,Mr=0),(m.subtreeFlags&2064)===0&&(m.flags&2064)===0||Nm||(Nm=!0,Q5(qt,function(){return Au(),null})),T=(m.flags&15990)!==0,(m.subtreeFlags&15990)!==0||T){T=fs.transition,fs.transition=null;var M=mn;mn=1;var K=ln;ln|=4,uv.current=null,RR(c,m),O5(m,c),we(xy),no=!!vy,xy=vy=null,c.current=m,PR(m),$i(),ln=K,mn=M,fs.transition=T}else c.current=m;if(Nm&&(Nm=!1,Aa=c,Im=S),T=c.pendingLanes,T===0&&(Ma=null),ko(m.stateNode),Si(c,Wt()),d!==null)for(x=c.onRecoverableError,m=0;m<d.length;m++)S=d[m],x(S.value,{componentStack:S.stack,digest:S.digest});if(jm)throw jm=!1,c=hv,hv=null,c;return(Im&1)!==0&&c.tag!==0&&Au(),T=c.pendingLanes,(T&1)!==0?c===pv?Ff++:(Ff=0,pv=c):Ff=0,Ia(),null}function Au(){if(Aa!==null){var c=Zt(Im),d=fs.transition,m=mn;try{if(fs.transition=null,mn=16>c?16:c,Aa===null)var x=!1;else{if(c=Aa,Aa=null,Im=0,(ln&6)!==0)throw Error(n(331));var S=ln;for(ln|=4,et=c.current;et!==null;){var T=et,M=T.child;if((et.flags&16)!==0){var K=T.deletions;if(K!==null){for(var ie=0;ie<K.length;ie++){var be=K[ie];for(et=be;et!==null;){var Pe=et;switch(Pe.tag){case 0:case 11:case 15:Af(8,Pe,T)}var Ae=Pe.child;if(Ae!==null)Ae.return=Pe,et=Ae;else for(;et!==null;){Pe=et;var Ie=Pe.sibling,Je=Pe.return;if(j5(Pe),Pe===be){et=null;break}if(Ie!==null){Ie.return=Je,et=Ie;break}et=Je}}}var rt=T.alternate;if(rt!==null){var st=rt.child;if(st!==null){rt.child=null;do{var Zn=st.sibling;st.sibling=null,st=Zn}while(st!==null)}}et=T}}if((T.subtreeFlags&2064)!==0&&M!==null)M.return=T,et=M;else e:for(;et!==null;){if(T=et,(T.flags&2048)!==0)switch(T.tag){case 0:case 11:case 15:Af(9,T,T.return)}var ge=T.sibling;if(ge!==null){ge.return=T.return,et=ge;break e}et=T.return}}var le=c.current;for(et=le;et!==null;){M=et;var xe=M.child;if((M.subtreeFlags&2064)!==0&&xe!==null)xe.return=M,et=xe;else e:for(M=le;et!==null;){if(K=et,(K.flags&2048)!==0)try{switch(K.tag){case 0:case 11:case 15:km(9,K)}}catch(ot){Qn(K,K.return,ot)}if(K===M){et=null;break e}var $e=K.sibling;if($e!==null){$e.return=K.return,et=$e;break e}et=K.return}}if(ln=S,Ia(),Jt&&typeof Jt.onPostCommitFiberRoot=="function")try{Jt.onPostCommitFiberRoot(Ui,c)}catch{}x=!0}return x}finally{mn=m,fs.transition=d}}return!1}function W5(c,d,m){d=Ru(m,d),d=l5(c,d,1),c=Pa(c,d,1),d=oi(),c!==null&&(va(c,1,d),Si(c,d))}function Qn(c,d,m){if(c.tag===3)W5(c,c,m);else for(;d!==null;){if(d.tag===3){W5(d,c,m);break}else if(d.tag===1){var x=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof x.componentDidCatch=="function"&&(Ma===null||!Ma.has(x))){c=Ru(m,c),c=c5(d,c,1),d=Pa(d,c,1),c=oi(),d!==null&&(va(d,1,c),Si(d,c));break}}d=d.return}}function FR(c,d,m){var x=c.pingCache;x!==null&&x.delete(d),d=oi(),c.pingedLanes|=c.suspendedLanes&m,Cr===c&&(Mr&m)===m&&(hr===4||hr===3&&(Mr&130023424)===Mr&&500>Wt()-fv?Zl(c,0):dv|=m),Si(c,d)}function q5(c,d){d===0&&((c.mode&1)===0?d=1:(d=to,to<<=1,(to&130023424)===0&&(to=4194304)));var m=oi();c=Fo(c,d),c!==null&&(va(c,d,m),Si(c,m))}function BR(c){var d=c.memoizedState,m=0;d!==null&&(m=d.retryLane),q5(c,m)}function zR(c,d){var m=0;switch(c.tag){case 13:var x=c.stateNode,S=c.memoizedState;S!==null&&(m=S.retryLane);break;case 19:x=c.stateNode;break;default:throw Error(n(314))}x!==null&&x.delete(d),q5(c,m)}var V5;V5=function(c,d,m){if(c!==null)if(c.memoizedProps!==d.pendingProps||xi.current)wi=!0;else{if((c.lanes&m)===0&&(d.flags&128)===0)return wi=!1,TR(c,d,m);wi=(c.flags&131072)!==0}else wi=!1,Bn&&(d.flags&1048576)!==0&&k3(d,lm,d.index);switch(d.lanes=0,d.tag){case 2:var x=d.type;Sm(c,d),c=d.pendingProps;var S=Su(d,Ur.current);Nu(d,m),S=Hy(null,d,x,c,S,m);var T=Wy();return d.flags|=1,typeof S=="object"&&S!==null&&typeof S.render=="function"&&S.$$typeof===void 0?(d.tag=1,d.memoizedState=null,d.updateQueue=null,bi(x)?(T=!0,sm(d)):T=!1,d.memoizedState=S.state!==null&&S.state!==void 0?S.state:null,Dy(d),S.updater=wm,d.stateNode=S,S._reactInternals=d,Yy(d,x,c,m),d=ev(null,d,x,!0,T,m)):(d.tag=0,Bn&&T&&Ey(d),si(null,d,S,m),d=d.child),d;case 16:x=d.elementType;e:{switch(Sm(c,d),c=d.pendingProps,S=x._init,x=S(x._payload),d.type=x,S=d.tag=UR(x),c=Ds(x,c),S){case 0:d=Zy(null,d,x,c,m);break e;case 1:d=v5(null,d,x,c,m);break e;case 11:d=h5(null,d,x,c,m);break e;case 14:d=p5(null,d,x,Ds(x.type,c),m);break e}throw Error(n(306,x,""))}return d;case 0:return x=d.type,S=d.pendingProps,S=d.elementType===x?S:Ds(x,S),Zy(c,d,x,S,m);case 1:return x=d.type,S=d.pendingProps,S=d.elementType===x?S:Ds(x,S),v5(c,d,x,S,m);case 3:e:{if(x5(d),c===null)throw Error(n(387));x=d.pendingProps,T=d.memoizedState,S=T.element,M3(c,d),pm(d,x,null,m);var M=d.memoizedState;if(x=M.element,T.isDehydrated)if(T={element:x,isDehydrated:!1,cache:M.cache,pendingSuspenseBoundaries:M.pendingSuspenseBoundaries,transitions:M.transitions},d.updateQueue.baseState=T,d.memoizedState=T,d.flags&256){S=Ru(Error(n(423)),d),d=b5(c,d,x,m,S);break e}else if(x!==S){S=Ru(Error(n(424)),d),d=b5(c,d,x,m,S);break e}else for(Qi=Ta(d.stateNode.containerInfo.firstChild),Vi=d,Bn=!0,As=null,m=P3(d,null,x,m),d.child=m;m;)m.flags=m.flags&-3|4096,m=m.sibling;else{if(Eu(),x===S){d=zo(c,d,m);break e}si(c,d,x,m)}d=d.child}return d;case 5:return L3(d),c===null&&Ny(d),x=d.type,S=d.pendingProps,T=c!==null?c.memoizedProps:null,M=S.children,by(x,S)?M=null:T!==null&&by(x,T)&&(d.flags|=32),y5(c,d),si(c,d,M,m),d.child;case 6:return c===null&&Ny(d),null;case 13:return w5(c,d,m);case 4:return Ly(d,d.stateNode.containerInfo),x=d.pendingProps,c===null?d.child=Tu(d,null,x,m):si(c,d,x,m),d.child;case 11:return x=d.type,S=d.pendingProps,S=d.elementType===x?S:Ds(x,S),h5(c,d,x,S,m);case 7:return si(c,d,d.pendingProps,m),d.child;case 8:return si(c,d,d.pendingProps.children,m),d.child;case 12:return si(c,d,d.pendingProps.children,m),d.child;case 10:e:{if(x=d.type._context,S=d.pendingProps,T=d.memoizedProps,M=S.value,kn(dm,x._currentValue),x._currentValue=M,T!==null)if(J(T.value,M)){if(T.children===S.children&&!xi.current){d=zo(c,d,m);break e}}else for(T=d.child,T!==null&&(T.return=d);T!==null;){var K=T.dependencies;if(K!==null){M=T.child;for(var ie=K.firstContext;ie!==null;){if(ie.context===x){if(T.tag===1){ie=Bo(-1,m&-m),ie.tag=2;var be=T.updateQueue;if(be!==null){be=be.shared;var Pe=be.pending;Pe===null?ie.next=ie:(ie.next=Pe.next,Pe.next=ie),be.pending=ie}}T.lanes|=m,ie=T.alternate,ie!==null&&(ie.lanes|=m),My(T.return,m,d),K.lanes|=m;break}ie=ie.next}}else if(T.tag===10)M=T.type===d.type?null:T.child;else if(T.tag===18){if(M=T.return,M===null)throw Error(n(341));M.lanes|=m,K=M.alternate,K!==null&&(K.lanes|=m),My(M,m,d),M=T.sibling}else M=T.child;if(M!==null)M.return=T;else for(M=T;M!==null;){if(M===d){M=null;break}if(T=M.sibling,T!==null){T.return=M.return,M=T;break}M=M.return}T=M}si(c,d,S.children,m),d=d.child}return d;case 9:return S=d.type,x=d.pendingProps.children,Nu(d,m),S=us(S),x=x(S),d.flags|=1,si(c,d,x,m),d.child;case 14:return x=d.type,S=Ds(x,d.pendingProps),S=Ds(x.type,S),p5(c,d,x,S,m);case 15:return m5(c,d,d.type,d.pendingProps,m);case 17:return x=d.type,S=d.pendingProps,S=d.elementType===x?S:Ds(x,S),Sm(c,d),d.tag=1,bi(x)?(c=!0,sm(d)):c=!1,Nu(d,m),o5(d,x,S),Yy(d,x,S,m),ev(null,d,x,!0,c,m);case 19:return S5(c,d,m);case 22:return g5(c,d,m)}throw Error(n(156,d.tag))};function Q5(c,d){return Ts(c,d)}function $R(c,d,m,x){this.tag=c,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=x,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hs(c,d,m,x){return new $R(c,d,m,x)}function bv(c){return c=c.prototype,!(!c||!c.isReactComponent)}function UR(c){if(typeof c=="function")return bv(c)?1:0;if(c!=null){if(c=c.$$typeof,c===X)return 11;if(c===q)return 14}return 2}function Fa(c,d){var m=c.alternate;return m===null?(m=hs(c.tag,d,c.key,c.mode),m.elementType=c.elementType,m.type=c.type,m.stateNode=c.stateNode,m.alternate=c,c.alternate=m):(m.pendingProps=d,m.type=c.type,m.flags=0,m.subtreeFlags=0,m.deletions=null),m.flags=c.flags&14680064,m.childLanes=c.childLanes,m.lanes=c.lanes,m.child=c.child,m.memoizedProps=c.memoizedProps,m.memoizedState=c.memoizedState,m.updateQueue=c.updateQueue,d=c.dependencies,m.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},m.sibling=c.sibling,m.index=c.index,m.ref=c.ref,m}function Mm(c,d,m,x,S,T){var M=2;if(x=c,typeof c=="function")bv(c)&&(M=1);else if(typeof c=="string")M=5;else e:switch(c){case A:return tc(m.children,S,T,d);case B:M=8,S|=8;break;case U:return c=hs(12,m,d,S|2),c.elementType=U,c.lanes=T,c;case re:return c=hs(13,m,d,S),c.elementType=re,c.lanes=T,c;case V:return c=hs(19,m,d,S),c.elementType=V,c.lanes=T,c;case ne:return Am(m,S,T,d);default:if(typeof c=="object"&&c!==null)switch(c.$$typeof){case D:M=10;break e;case Z:M=9;break e;case X:M=11;break e;case q:M=14;break e;case Q:M=16,x=null;break e}throw Error(n(130,c==null?c:typeof c,""))}return d=hs(M,m,d,S),d.elementType=c,d.type=x,d.lanes=T,d}function tc(c,d,m,x){return c=hs(7,c,x,d),c.lanes=m,c}function Am(c,d,m,x){return c=hs(22,c,x,d),c.elementType=ne,c.lanes=m,c.stateNode={isHidden:!1},c}function wv(c,d,m){return c=hs(6,c,null,d),c.lanes=m,c}function _v(c,d,m){return d=hs(4,c.children!==null?c.children:[],c.key,d),d.lanes=m,d.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation},d}function HR(c,d,m,x,S){this.tag=d,this.containerInfo=c,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ya(0),this.expirationTimes=ya(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ya(0),this.identifierPrefix=x,this.onRecoverableError=S,this.mutableSourceEagerHydrationData=null}function Sv(c,d,m,x,S,T,M,K,ie){return c=new HR(c,d,m,K,ie),d===1?(d=1,T===!0&&(d|=8)):d=0,T=hs(3,null,null,d),c.current=T,T.stateNode=c,T.memoizedState={element:x,isDehydrated:m,cache:null,transitions:null,pendingSuspenseBoundaries:null},Dy(T),c}function WR(c,d,m){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:j,key:x==null?null:""+x,children:c,containerInfo:d,implementation:m}}function K5(c){if(!c)return Na;c=c._reactInternals;e:{if($t(c)!==c||c.tag!==1)throw Error(n(170));var d=c;do{switch(d.tag){case 3:d=d.stateNode.context;break e;case 1:if(bi(d.type)){d=d.stateNode.__reactInternalMemoizedMergedChildContext;break e}}d=d.return}while(d!==null);throw Error(n(171))}if(c.tag===1){var m=c.type;if(bi(m))return _3(c,m,d)}return d}function G5(c,d,m,x,S,T,M,K,ie){return c=Sv(m,x,!0,c,S,T,M,K,ie),c.context=K5(null),m=c.current,x=oi(),S=Da(m),T=Bo(x,S),T.callback=d??null,Pa(m,T,S),c.current.lanes=S,va(c,S,x),Si(c,x),c}function Dm(c,d,m,x){var S=d.current,T=oi(),M=Da(S);return m=K5(m),d.context===null?d.context=m:d.pendingContext=m,d=Bo(T,M),d.payload={element:c},x=x===void 0?null:x,x!==null&&(d.callback=x),c=Pa(S,d,M),c!==null&&(Bs(c,S,M,T),hm(c,S,M)),M}function Lm(c){if(c=c.current,!c.child)return null;switch(c.child.tag){case 5:return c.child.stateNode;default:return c.child.stateNode}}function Y5(c,d){if(c=c.memoizedState,c!==null&&c.dehydrated!==null){var m=c.retryLane;c.retryLane=m!==0&&m<d?m:d}}function Cv(c,d){Y5(c,d),(c=c.alternate)&&Y5(c,d)}function qR(){return null}var X5=typeof reportError=="function"?reportError:function(c){console.error(c)};function kv(c){this._internalRoot=c}Fm.prototype.render=kv.prototype.render=function(c){var d=this._internalRoot;if(d===null)throw Error(n(409));Dm(c,d,null,null)},Fm.prototype.unmount=kv.prototype.unmount=function(){var c=this._internalRoot;if(c!==null){this._internalRoot=null;var d=c.containerInfo;Jl(function(){Dm(null,c,null,null)}),d[Mo]=null}};function Fm(c){this._internalRoot=c}Fm.prototype.unstable_scheduleHydration=function(c){if(c){var d=Br();c={blockedOn:null,target:c,priority:d};for(var m=0;m<yi.length&&d!==0&&d<yi[m].priority;m++);yi.splice(m,0,c),m===0&&au(c)}};function Ev(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)}function Bm(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11&&(c.nodeType!==8||c.nodeValue!==" react-mount-point-unstable "))}function J5(){}function VR(c,d,m,x,S){if(S){if(typeof x=="function"){var T=x;x=function(){var be=Lm(M);T.call(be)}}var M=G5(d,x,c,0,null,!1,!1,"",J5);return c._reactRootContainer=M,c[Mo]=M.current,_f(c.nodeType===8?c.parentNode:c),Jl(),M}for(;S=c.lastChild;)c.removeChild(S);if(typeof x=="function"){var K=x;x=function(){var be=Lm(ie);K.call(be)}}var ie=Sv(c,0,!1,null,null,!1,!1,"",J5);return c._reactRootContainer=ie,c[Mo]=ie.current,_f(c.nodeType===8?c.parentNode:c),Jl(function(){Dm(d,ie,m,x)}),ie}function zm(c,d,m,x,S){var T=m._reactRootContainer;if(T){var M=T;if(typeof S=="function"){var K=S;S=function(){var ie=Lm(M);K.call(ie)}}Dm(d,M,c,S)}else M=VR(m,d,c,S,x);return Lm(M)}ou=function(c){switch(c.tag){case 3:var d=c.stateNode;if(d.current.memoizedState.isDehydrated){var m=js(d.pendingLanes);m!==0&&(su(d,m|1),Si(d,Wt()),(ln&6)===0&&(Mu=Wt()+500,Ia()))}break;case 13:Jl(function(){var x=Fo(c,1);if(x!==null){var S=oi();Bs(x,c,1,S)}}),Cv(c,1)}},df=function(c){if(c.tag===13){var d=Fo(c,134217728);if(d!==null){var m=oi();Bs(d,c,134217728,m)}Cv(c,134217728)}},Bp=function(c){if(c.tag===13){var d=Da(c),m=Fo(c,d);if(m!==null){var x=oi();Bs(m,c,d,x)}Cv(c,d)}},Br=function(){return mn},Eo=function(c,d){var m=mn;try{return mn=c,d()}finally{mn=m}},Qe=function(c,d,m){switch(d){case"input":if(ei(c,m),d=m.name,m.type==="radio"&&d!=null){for(m=c;m.parentNode;)m=m.parentNode;for(m=m.querySelectorAll("input[name="+JSON.stringify(""+d)+'][type="radio"]'),d=0;d<m.length;d++){var x=m[d];if(x!==c&&x.form===c.form){var S=rm(x);if(!S)throw Error(n(90));It(x),ei(x,S)}}}break;case"textarea":Rt(c,m);break;case"select":d=m.value,d!=null&&on(c,!!m.multiple,d,!1)}},nu=yv,ru=Jl;var QR={usingClientEntryPoint:!1,Events:[kf,wu,rm,eo,Es,yv]},Bf={findFiberByHostInstance:Wl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},KR={bundleType:Bf.bundleType,version:Bf.version,rendererPackageName:Bf.rendererPackageName,rendererConfig:Bf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$.ReactCurrentDispatcher,findHostInstanceByFiber:function(c){return c=pn(c),c===null?null:c.stateNode},findFiberByHostInstance:Bf.findFiberByHostInstance||qR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $m=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$m.isDisabled&&$m.supportsFiber)try{Ui=$m.inject(KR),Jt=$m}catch{}}return Ci.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=QR,Ci.createPortal=function(c,d){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ev(d))throw Error(n(200));return WR(c,d,null,m)},Ci.createRoot=function(c,d){if(!Ev(c))throw Error(n(299));var m=!1,x="",S=X5;return d!=null&&(d.unstable_strictMode===!0&&(m=!0),d.identifierPrefix!==void 0&&(x=d.identifierPrefix),d.onRecoverableError!==void 0&&(S=d.onRecoverableError)),d=Sv(c,1,!1,null,null,m,!1,x,S),c[Mo]=d.current,_f(c.nodeType===8?c.parentNode:c),new kv(d)},Ci.findDOMNode=function(c){if(c==null)return null;if(c.nodeType===1)return c;var d=c._reactInternals;if(d===void 0)throw typeof c.render=="function"?Error(n(188)):(c=Object.keys(c).join(","),Error(n(268,c)));return c=pn(d),c=c===null?null:c.stateNode,c},Ci.flushSync=function(c){return Jl(c)},Ci.hydrate=function(c,d,m){if(!Bm(d))throw Error(n(200));return zm(null,c,d,!0,m)},Ci.hydrateRoot=function(c,d,m){if(!Ev(c))throw Error(n(405));var x=m!=null&&m.hydratedSources||null,S=!1,T="",M=X5;if(m!=null&&(m.unstable_strictMode===!0&&(S=!0),m.identifierPrefix!==void 0&&(T=m.identifierPrefix),m.onRecoverableError!==void 0&&(M=m.onRecoverableError)),d=G5(d,null,c,1,m??null,S,!1,T,M),c[Mo]=d.current,_f(c),x)for(c=0;c<x.length;c++)m=x[c],S=m._getVersion,S=S(m._source),d.mutableSourceEagerHydrationData==null?d.mutableSourceEagerHydrationData=[m,S]:d.mutableSourceEagerHydrationData.push(m,S);return new Fm(d)},Ci.render=function(c,d,m){if(!Bm(d))throw Error(n(200));return zm(null,c,d,!1,m)},Ci.unmountComponentAtNode=function(c){if(!Bm(c))throw Error(n(40));return c._reactRootContainer?(Jl(function(){zm(null,null,c,!1,function(){c._reactRootContainer=null,c[Mo]=null})}),!0):!1},Ci.unstable_batchedUpdates=yv,Ci.unstable_renderSubtreeIntoContainer=function(c,d,m,x){if(!Bm(m))throw Error(n(200));if(c==null||c._reactInternals===void 0)throw Error(n(38));return zm(c,d,m,!1,x)},Ci.version="18.3.1-next-f1338f8080-20240426",Ci}var aS;function p7(){if(aS)return Nv.exports;aS=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Nv.exports=iP(),Nv.exports}var lS;function sP(){if(lS)return Um;lS=1;var e=p7();return Um.createRoot=e.createRoot,Um.hydrateRoot=e.hydrateRoot,Um}var oP=sP();/**
 * react-router v7.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var m7=e=>{throw TypeError(e)},aP=(e,t,n)=>t.has(e)||m7("Cannot "+n),Pv=(e,t,n)=>(aP(e,t,"read from private field"),n?n.call(e):t.get(e)),lP=(e,t,n)=>t.has(e)?m7("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),cS="popstate";function cP(e={}){function t(r,i){let{pathname:s,search:o,hash:a}=r.location;return Oh("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:ol(i)}return dP(t,n,null,e)}function Qt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function cr(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function uP(){return Math.random().toString(36).substring(2,10)}function uS(e,t){return{usr:e.state,key:e.key,idx:t}}function Oh(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?yl(t):t,state:n,key:t&&t.key||r||uP()}}function ol({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function yl(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function dP(e,t,n,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a="POP",l=null,u=f();u==null&&(u=0,o.replaceState({...o.state,idx:u},""));function f(){return(o.state||{idx:null}).idx}function p(){a="POP";let C=f(),k=C==null?null:C-u;u=C,l&&l({action:a,location:_.location,delta:k})}function g(C,k){a="PUSH";let R=Oh(_.location,C,k);u=f()+1;let O=uS(R,u),$=_.createHref(R);try{o.pushState(O,"",$)}catch(z){if(z instanceof DOMException&&z.name==="DataCloneError")throw z;i.location.assign($)}s&&l&&l({action:a,location:_.location,delta:1})}function y(C,k){a="REPLACE";let R=Oh(_.location,C,k);u=f();let O=uS(R,u),$=_.createHref(R);o.replaceState(O,"",$),s&&l&&l({action:a,location:_.location,delta:0})}function b(C){return g7(C)}let _={get action(){return a},get location(){return e(i,o)},listen(C){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(cS,p),l=C,()=>{i.removeEventListener(cS,p),l=null}},createHref(C){return t(i,C)},createURL:b,encodeLocation(C){let k=b(C);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:g,replace:y,go(C){return o.go(C)}};return _}function g7(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Qt(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:ol(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}var lh,dS=class{constructor(e){if(lP(this,lh,new Map),e)for(let[t,n]of e)this.set(t,n)}get(e){if(Pv(this,lh).has(e))return Pv(this,lh).get(e);if(e.defaultValue!==void 0)return e.defaultValue;throw new Error("No value found for context")}set(e,t){Pv(this,lh).set(e,t)}};lh=new WeakMap;var fP=new Set(["lazy","caseSensitive","path","id","index","children"]);function hP(e){return fP.has(e)}var pP=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function mP(e){return pP.has(e)}function gP(e){return e.index===!0}function Mh(e,t,n=[],r={},i=!1){return e.map((s,o)=>{let a=[...n,String(o)],l=typeof s.id=="string"?s.id:a.join("-");if(Qt(s.index!==!0||!s.children,"Cannot specify children on an index route"),Qt(i||!r[l],`Found a route id collision on id "${l}".  Route id's must be globally unique within Data Router usages`),gP(s)){let u={...s,...t(s),id:l};return r[l]=u,u}else{let u={...s,...t(s),id:l,children:void 0};return r[l]=u,s.children&&(u.children=Mh(s.children,t,a,r,i)),u}})}function Ga(e,t,n="/"){return Qg(e,t,n,!1)}function Qg(e,t,n,r){let i=typeof t=="string"?yl(t):t,s=ws(i.pathname||"/",n);if(s==null)return null;let o=y7(e);vP(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=NP(s);a=TP(o[l],u,r)}return a}function yP(e,t){let{route:n,pathname:r,params:i}=e;return{id:n.id,pathname:r,params:i,data:t[n.id],handle:n.handle}}function y7(e,t=[],n=[],r=""){let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Qt(l.relativePath.startsWith(r),`Absolute route path "${l.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),l.relativePath=l.relativePath.slice(r.length));let u=go([r,l.relativePath]),f=n.concat(l);s.children&&s.children.length>0&&(Qt(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${u}".`),y7(s.children,t,f,u)),!(s.path==null&&!s.index)&&t.push({path:u,score:kP(u,s.index),routesMeta:f})};return e.forEach((s,o)=>{if(s.path===""||!s.path?.includes("?"))i(s,o);else for(let a of v7(s.path))i(s,o,a)}),t}function v7(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=v7(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function vP(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:EP(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var xP=/^:[\w-]+$/,bP=3,wP=2,_P=1,SP=10,CP=-2,fS=e=>e==="*";function kP(e,t){let n=e.split("/"),r=n.length;return n.some(fS)&&(r+=CP),t&&(r+=wP),n.filter(i=>!fS(i)).reduce((i,s)=>i+(xP.test(s)?bP:s===""?_P:SP),r)}function EP(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function TP(e,t,n=!1){let{routesMeta:r}=e,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,f=s==="/"?t:t.slice(s.length)||"/",p=f0({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},f),g=l.route;if(!p&&u&&n&&!r[r.length-1].route.index&&(p=f0({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},f)),!p)return null;Object.assign(i,p.params),o.push({params:i,pathname:go([s,p.pathname]),pathnameBase:OP(go([s,p.pathnameBase])),route:g}),p.pathnameBase!=="/"&&(s=go([s,p.pathnameBase]))}return o}function f0(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=jP(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,{paramName:f,isOptional:p},g)=>{if(f==="*"){let b=a[g]||"";o=s.slice(0,s.length-b.length).replace(/(.)\/+$/,"$1")}const y=a[g];return p&&!y?u[f]=void 0:u[f]=(y||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:e}}function jP(e,t=!1,n=!0){cr(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function NP(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return cr(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function ws(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function IP({basename:e,pathname:t}){return t==="/"?e:go([e,t])}function RP(e,t="/"){let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?yl(e):e;return{pathname:n?n.startsWith("/")?n:PP(n,t):t,search:MP(r),hash:AP(i)}}function PP(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Ov(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function x7(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function X2(e){let t=x7(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function J2(e,t,n,r=!1){let i;typeof e=="string"?i=yl(e):(i={...e},Qt(!i.pathname||!i.pathname.includes("?"),Ov("?","pathname","search",i)),Qt(!i.pathname||!i.pathname.includes("#"),Ov("#","pathname","hash",i)),Qt(!i.search||!i.search.includes("#"),Ov("#","search","hash",i)));let s=e===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let p=t.length-1;if(!r&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),p-=1;i.pathname=g.join("/")}a=p>=0?t[p]:"/"}let l=RP(i,a),u=o&&o!=="/"&&o.endsWith("/"),f=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||f)&&(l.pathname+="/"),l}var go=e=>e.join("/").replace(/\/\/+/g,"/"),OP=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),MP=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,AP=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,h0=class{constructor(e,t,n,r=!1){this.status=e,this.statusText=t||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function Ah(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var b7=["POST","PUT","PATCH","DELETE"],DP=new Set(b7),LP=["GET",...b7],FP=new Set(LP),BP=new Set([301,302,303,307,308]),zP=new Set([307,308]),Mv={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},$P={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},$f={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},UP=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Z2=e=>UP.test(e),HP=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),w7="remix-router-transitions",_7=Symbol("ResetLoaderData");function WP(e){const t=e.window?e.window:typeof window<"u"?window:void 0,n=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u";Qt(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let r=e.hydrationRouteProperties||[],i=e.mapRouteProperties||HP,s={},o=Mh(e.routes,i,void 0,s),a,l=e.basename||"/",u=e.dataStrategy||GP,f={unstable_middleware:!1,...e.future},p=null,g=new Set,y=null,b=null,_=null,C=e.hydrationData!=null,k=Ga(o,e.history.location,l),R=!1,O=null,$;if(k==null&&!e.patchRoutesOnNavigation){let te=ms(404,{pathname:e.history.location.pathname}),{matches:me,route:_e}=CS(o);$=!0,k=me,O={[_e.id]:te}}else if(k&&!e.hydrationData&&eo(k,o,e.history.location.pathname).active&&(k=null),k)if(k.some(te=>te.route.lazy))$=!1;else if(!k.some(te=>te.route.loader))$=!0;else{let te=e.hydrationData?e.hydrationData.loaderData:null,me=e.hydrationData?e.hydrationData.errors:null;if(me){let _e=k.findIndex(Me=>me[Me.route.id]!==void 0);$=k.slice(0,_e+1).every(Me=>!db(Me.route,te,me))}else $=k.every(_e=>!db(_e.route,te,me))}else{$=!1,k=[];let te=eo(null,o,e.history.location.pathname);te.active&&te.matches&&(R=!0,k=te.matches)}let z,j={historyAction:e.history.action,location:e.history.location,matches:k,initialized:$,navigation:Mv,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||O,fetchers:new Map,blockers:new Map},A="POP",B=!1,U,D=!1,Z=new Map,X=null,re=!1,V=!1,q=new Set,Q=new Map,ne=0,ee=-1,fe=new Map,F=new Set,G=new Map,ye=new Map,H=new Set,Oe=new Map,Ee,Te=null;function Ye(){if(p=e.history.listen(({action:te,location:me,delta:_e})=>{if(Ee){Ee(),Ee=void 0;return}cr(Oe.size===0||_e!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Me=Dn({currentLocation:j.location,nextLocation:me,historyAction:te});if(Me&&_e!=null){let je=new Promise(Ke=>{Ee=Ke});e.history.go(_e*-1),Xn(Me,{state:"blocked",location:me,proceed(){Xn(Me,{state:"proceeding",proceed:void 0,reset:void 0,location:me}),je.then(()=>e.history.go(_e))},reset(){let Ke=new Map(j.blockers);Ke.set(Me,$f),ct({blockers:Ke})}});return}return sn(te,me)}),n){oO(t,Z);let te=()=>aO(t,Z);t.addEventListener("pagehide",te),X=()=>t.removeEventListener("pagehide",te)}return j.initialized||sn("POP",j.location,{initialHydration:!0}),z}function qe(){p&&p(),X&&X(),g.clear(),U&&U.abort(),j.fetchers.forEach((te,me)=>vt(me)),j.blockers.forEach((te,me)=>Ve(me))}function Ne(te){return g.add(te),()=>g.delete(te)}function ct(te,me={}){te.matches&&(te.matches=te.matches.map(je=>{let Ke=s[je.route.id],it=je.route;return it.element!==Ke.element||it.errorElement!==Ke.errorElement||it.hydrateFallbackElement!==Ke.hydrateFallbackElement?{...je,route:Ke}:je})),j={...j,...te};let _e=[],Me=[];j.fetchers.forEach((je,Ke)=>{je.state==="idle"&&(H.has(Ke)?_e.push(Ke):Me.push(Ke))}),H.forEach(je=>{!j.fetchers.has(je)&&!Q.has(je)&&_e.push(je)}),[...g].forEach(je=>je(j,{deletedFetchers:_e,viewTransitionOpts:me.viewTransitionOpts,flushSync:me.flushSync===!0})),_e.forEach(je=>vt(je)),Me.forEach(je=>j.fetchers.delete(je))}function xn(te,me,{flushSync:_e}={}){let Me=j.actionData!=null&&j.navigation.formMethod!=null&&Ii(j.navigation.formMethod)&&j.navigation.state==="loading"&&te.state?._isRedirect!==!0,je;me.actionData?Object.keys(me.actionData).length>0?je=me.actionData:je=null:Me?je=j.actionData:je=null;let Ke=me.loaderData?_S(j.loaderData,me.loaderData,me.matches||[],me.errors):j.loaderData,it=j.blockers;it.size>0&&(it=new Map(it),it.forEach((at,tt)=>it.set(tt,$f)));let Ze=re?!1:Co(te,me.matches||j.matches),nt=B===!0||j.navigation.formMethod!=null&&Ii(j.navigation.formMethod)&&te.state?._isRedirect!==!0;a&&(o=a,a=void 0),re||A==="POP"||(A==="PUSH"?e.history.push(te,te.state):A==="REPLACE"&&e.history.replace(te,te.state));let lt;if(A==="POP"){let at=Z.get(j.location.pathname);at&&at.has(te.pathname)?lt={currentLocation:j.location,nextLocation:te}:Z.has(te.pathname)&&(lt={currentLocation:te,nextLocation:j.location})}else if(D){let at=Z.get(j.location.pathname);at?at.add(te.pathname):(at=new Set([te.pathname]),Z.set(j.location.pathname,at)),lt={currentLocation:j.location,nextLocation:te}}ct({...me,actionData:je,loaderData:Ke,historyAction:A,location:te,initialized:!0,navigation:Mv,revalidation:"idle",restoreScrollPosition:Ze,preventScrollReset:nt,blockers:it},{viewTransitionOpts:lt,flushSync:_e===!0}),A="POP",B=!1,D=!1,re=!1,V=!1,Te?.resolve(),Te=null}async function It(te,me){if(typeof te=="number"){e.history.go(te);return}let _e=ub(j.location,j.matches,l,te,me?.fromRouteId,me?.relative),{path:Me,submission:je,error:Ke}=hS(!1,_e,me),it=j.location,Ze=Oh(j.location,Me,me&&me.state);Ze={...Ze,...e.history.encodeLocation(Ze)};let nt=me&&me.replace!=null?me.replace:void 0,lt="PUSH";nt===!0?lt="REPLACE":nt===!1||je!=null&&Ii(je.formMethod)&&je.formAction===j.location.pathname+j.location.search&&(lt="REPLACE");let at=me&&"preventScrollReset"in me?me.preventScrollReset===!0:void 0,tt=(me&&me.flushSync)===!0,Pt=Dn({currentLocation:it,nextLocation:Ze,historyAction:lt});if(Pt){Xn(Pt,{state:"blocked",location:Ze,proceed(){Xn(Pt,{state:"proceeding",proceed:void 0,reset:void 0,location:Ze}),It(te,me)},reset(){let $t=new Map(j.blockers);$t.set(Pt,$f),ct({blockers:$t})}});return}await sn(lt,Ze,{submission:je,pendingError:Ke,preventScrollReset:at,replace:me&&me.replace,enableViewTransition:me&&me.viewTransition,flushSync:tt})}function Cn(){Te||(Te=lO()),qn(),ct({revalidation:"loading"});let te=Te.promise;return j.navigation.state==="submitting"?te:j.navigation.state==="idle"?(sn(j.historyAction,j.location,{startUninterruptedRevalidation:!0}),te):(sn(A||j.historyAction,j.navigation.location,{overrideNavigation:j.navigation,enableViewTransition:D===!0}),te)}async function sn(te,me,_e){U&&U.abort(),U=null,A=te,re=(_e&&_e.startUninterruptedRevalidation)===!0,ks(j.location,j.matches),B=(_e&&_e.preventScrollReset)===!0,D=(_e&&_e.enableViewTransition)===!0;let Me=a||o,je=_e&&_e.overrideNavigation,Ke=_e?.initialHydration&&j.matches&&j.matches.length>0&&!R?j.matches:Ga(Me,me,l),it=(_e&&_e.flushSync)===!0;if(Ke&&j.initialized&&!V&&tO(j.location,me)&&!(_e&&_e.submission&&Ii(_e.submission.formMethod))){xn(me,{matches:Ke},{flushSync:it});return}let Ze=eo(Ke,Me,me.pathname);if(Ze.active&&Ze.matches&&(Ke=Ze.matches),!Ke){let{error:ir,notFoundMatches:an,route:pn}=rs(me.pathname);xn(me,{matches:an,loaderData:{},errors:{[pn.id]:ir}},{flushSync:it});return}U=new AbortController;let nt=id(e.history,me,U.signal,_e&&_e.submission),lt=new dS(e.unstable_getContext?await e.unstable_getContext():void 0),at;if(_e&&_e.pendingError)at=[mc(Ke).route.id,{type:"error",error:_e.pendingError}];else if(_e&&_e.submission&&Ii(_e.submission.formMethod)){let ir=await yn(nt,me,_e.submission,Ke,lt,Ze.active,_e&&_e.initialHydration===!0,{replace:_e.replace,flushSync:it});if(ir.shortCircuited)return;if(ir.pendingActionResult){let[an,pn]=ir.pendingActionResult;if(Xi(pn)&&Ah(pn.error)&&pn.error.status===404){U=null,xn(me,{matches:ir.matches,loaderData:{},errors:{[an]:pn.error}});return}}Ke=ir.matches||Ke,at=ir.pendingActionResult,je=Av(me,_e.submission),it=!1,Ze.active=!1,nt=id(e.history,nt.url,nt.signal)}let{shortCircuited:tt,matches:Pt,loaderData:$t,errors:Ln}=await Fi(nt,me,Ke,lt,Ze.active,je,_e&&_e.submission,_e&&_e.fetcherSubmission,_e&&_e.replace,_e&&_e.initialHydration===!0,it,at);tt||(U=null,xn(me,{matches:Pt||Ke,...SS(at),loaderData:$t,errors:Ln}))}async function yn(te,me,_e,Me,je,Ke,it,Ze={}){qn();let nt=iO(me,_e);if(ct({navigation:nt},{flushSync:Ze.flushSync===!0}),Ke){let tt=await Es(Me,me.pathname,te.signal);if(tt.type==="aborted")return{shortCircuited:!0};if(tt.type==="error"){let Pt=mc(tt.partialMatches).route.id;return{matches:tt.partialMatches,pendingActionResult:[Pt,{type:"error",error:tt.error}]}}else if(tt.matches)Me=tt.matches;else{let{notFoundMatches:Pt,error:$t,route:Ln}=rs(me.pathname);return{matches:Pt,pendingActionResult:[Ln.id,{type:"error",error:$t}]}}}let lt,at=Kg(Me,me);if(!at.route.action&&!at.route.lazy)lt={type:"error",error:ms(405,{method:te.method,pathname:me.pathname,routeId:at.route.id})};else{let tt=gd(i,s,te,Me,at,it?[]:r,je),Pt=await Bt(te,tt,je,null);if(lt=Pt[at.route.id],!lt){for(let $t of Me)if(Pt[$t.route.id]){lt=Pt[$t.route.id];break}}if(te.signal.aborted)return{shortCircuited:!0}}if(vc(lt)){let tt;return Ze&&Ze.replace!=null?tt=Ze.replace:tt=xS(lt.response.headers.get("Location"),new URL(te.url),l)===j.location.pathname+j.location.search,await pt(te,lt,!0,{submission:_e,replace:tt}),{shortCircuited:!0}}if(Xi(lt)){let tt=mc(Me,at.route.id);return(Ze&&Ze.replace)!==!0&&(A="PUSH"),{matches:Me,pendingActionResult:[tt.route.id,lt,at.route.id]}}return{matches:Me,pendingActionResult:[at.route.id,lt]}}async function Fi(te,me,_e,Me,je,Ke,it,Ze,nt,lt,at,tt){let Pt=Ke||Av(me,it),$t=it||Ze||ES(Pt),Ln=!re&&!lt;if(je){if(Ln){let Vn=ei(tt);ct({navigation:Pt,...Vn!==void 0?{actionData:Vn}:{}},{flushSync:at})}let qt=await Es(_e,me.pathname,te.signal);if(qt.type==="aborted")return{shortCircuited:!0};if(qt.type==="error"){let Vn=mc(qt.partialMatches).route.id;return{matches:qt.partialMatches,loaderData:{},errors:{[Vn]:qt.error}}}else if(qt.matches)_e=qt.matches;else{let{error:Vn,notFoundMatches:ii,route:Ui}=rs(me.pathname);return{matches:ii,loaderData:{},errors:{[Ui.id]:Vn}}}}let ir=a||o,{dsMatches:an,revalidatingFetchers:pn}=pS(te,Me,i,s,e.history,j,_e,$t,me,lt?[]:r,lt===!0,V,q,H,G,F,ir,l,e.patchRoutesOnNavigation!=null,tt);if(ee=++ne,!e.dataStrategy&&!an.some(qt=>qt.shouldLoad)&&pn.length===0){let qt=rr();return xn(me,{matches:_e,loaderData:{},errors:tt&&Xi(tt[1])?{[tt[0]]:tt[1].error}:null,...SS(tt),...qt?{fetchers:new Map(j.fetchers)}:{}},{flushSync:at}),{shortCircuited:!0}}if(Ln){let qt={};if(!je){qt.navigation=Pt;let Vn=ei(tt);Vn!==void 0&&(qt.actionData=Vn)}pn.length>0&&(qt.fetchers=Bi(pn)),ct(qt,{flushSync:at})}pn.forEach(qt=>{hn(qt.key),qt.controller&&Q.set(qt.key,qt.controller)});let wr=()=>pn.forEach(qt=>hn(qt.key));U&&U.signal.addEventListener("abort",wr);let{loaderResults:Ts,fetcherResults:ni}=await Rt(an,pn,te,Me);if(te.signal.aborted)return{shortCircuited:!0};U&&U.signal.removeEventListener("abort",wr),pn.forEach(qt=>Q.delete(qt.key));let tn=Hm(Ts);if(tn)return await pt(te,tn.result,!0,{replace:nt}),{shortCircuited:!0};if(tn=Hm(ni),tn)return F.add(tn.key),await pt(te,tn.result,!0,{replace:nt}),{shortCircuited:!0};let{loaderData:$i,errors:Wt}=wS(j,_e,Ts,tt,pn,ni);lt&&j.errors&&(Wt={...j.errors,...Wt});let is=rr(),ri=ti(ee),ss=is||ri||pn.length>0;return{matches:_e,loaderData:$i,errors:Wt,...ss?{fetchers:new Map(j.fetchers)}:{}}}function ei(te){if(te&&!Xi(te[1]))return{[te[0]]:te[1].data};if(j.actionData)return Object.keys(j.actionData).length===0?null:j.actionData}function Bi(te){return te.forEach(me=>{let _e=j.fetchers.get(me.key),Me=Uf(void 0,_e?_e.data:void 0);j.fetchers.set(me.key,Me)}),new Map(j.fetchers)}async function gi(te,me,_e,Me){hn(te);let je=(Me&&Me.flushSync)===!0,Ke=a||o,it=ub(j.location,j.matches,l,_e,me,Me?.relative),Ze=Ga(Ke,it,l),nt=eo(Ze,Ke,it);if(nt.active&&nt.matches&&(Ze=nt.matches),!Ze){Re(te,me,ms(404,{pathname:it}),{flushSync:je});return}let{path:lt,submission:at,error:tt}=hS(!0,it,Me);if(tt){Re(te,me,tt,{flushSync:je});return}let Pt=new dS(e.unstable_getContext?await e.unstable_getContext():void 0),$t=(Me&&Me.preventScrollReset)===!0;if(at&&Ii(at.formMethod)){await wt(te,me,lt,Ze,Pt,nt.active,je,$t,at);return}G.set(te,{routeId:me,path:lt}),await on(te,me,lt,Ze,Pt,nt.active,je,$t,at)}async function wt(te,me,_e,Me,je,Ke,it,Ze,nt){qn(),G.delete(te);let lt=j.fetchers.get(te);Ce(te,sO(nt,lt),{flushSync:it});let at=new AbortController,tt=id(e.history,_e,at.signal,nt);if(Ke){let Jt=await Es(Me,new URL(tt.url).pathname,tt.signal,te);if(Jt.type==="aborted")return;if(Jt.type==="error"){Re(te,me,Jt.error,{flushSync:it});return}else if(Jt.matches)Me=Jt.matches;else{Re(te,me,ms(404,{pathname:_e}),{flushSync:it});return}}let Pt=Kg(Me,_e);if(!Pt.route.action&&!Pt.route.lazy){let Jt=ms(405,{method:nt.formMethod,pathname:_e,routeId:me});Re(te,me,Jt,{flushSync:it});return}Q.set(te,at);let $t=ne,Ln=gd(i,s,tt,Me,Pt,r,je),an=(await Bt(tt,Ln,je,te))[Pt.route.id];if(tt.signal.aborted){Q.get(te)===at&&Q.delete(te);return}if(H.has(te)){if(vc(an)||Xi(an)){Ce(te,Ua(void 0));return}}else{if(vc(an))if(Q.delete(te),ee>$t){Ce(te,Ua(void 0));return}else return F.add(te),Ce(te,Uf(nt)),pt(tt,an,!1,{fetcherSubmission:nt,preventScrollReset:Ze});if(Xi(an)){Re(te,me,an.error);return}}let pn=j.navigation.location||j.location,wr=id(e.history,pn,at.signal),Ts=a||o,ni=j.navigation.state!=="idle"?Ga(Ts,j.navigation.location,l):j.matches;Qt(ni,"Didn't find any matches after fetcher action");let tn=++ne;fe.set(te,tn);let $i=Uf(nt,an.data);j.fetchers.set(te,$i);let{dsMatches:Wt,revalidatingFetchers:is}=pS(wr,je,i,s,e.history,j,ni,nt,pn,r,!1,V,q,H,G,F,Ts,l,e.patchRoutesOnNavigation!=null,[Pt.route.id,an]);is.filter(Jt=>Jt.key!==te).forEach(Jt=>{let ko=Jt.key,mt=j.fetchers.get(ko),iu=Uf(void 0,mt?mt.data:void 0);j.fetchers.set(ko,iu),hn(ko),Jt.controller&&Q.set(ko,Jt.controller)}),ct({fetchers:new Map(j.fetchers)});let ri=()=>is.forEach(Jt=>hn(Jt.key));at.signal.addEventListener("abort",ri);let{loaderResults:ss,fetcherResults:qt}=await Rt(Wt,is,wr,je);if(at.signal.aborted)return;if(at.signal.removeEventListener("abort",ri),fe.delete(te),Q.delete(te),is.forEach(Jt=>Q.delete(Jt.key)),j.fetchers.has(te)){let Jt=Ua(an.data);j.fetchers.set(te,Jt)}let Vn=Hm(ss);if(Vn)return pt(wr,Vn.result,!1,{preventScrollReset:Ze});if(Vn=Hm(qt),Vn)return F.add(Vn.key),pt(wr,Vn.result,!1,{preventScrollReset:Ze});let{loaderData:ii,errors:Ui}=wS(j,ni,ss,void 0,is,qt);ti(tn),j.navigation.state==="loading"&&tn>ee?(Qt(A,"Expected pending action"),U&&U.abort(),xn(j.navigation.location,{matches:ni,loaderData:ii,errors:Ui,fetchers:new Map(j.fetchers)})):(ct({errors:Ui,loaderData:_S(j.loaderData,ii,ni,Ui),fetchers:new Map(j.fetchers)}),V=!1)}async function on(te,me,_e,Me,je,Ke,it,Ze,nt){let lt=j.fetchers.get(te);Ce(te,Uf(nt,lt?lt.data:void 0),{flushSync:it});let at=new AbortController,tt=id(e.history,_e,at.signal);if(Ke){let pn=await Es(Me,new URL(tt.url).pathname,tt.signal,te);if(pn.type==="aborted")return;if(pn.type==="error"){Re(te,me,pn.error,{flushSync:it});return}else if(pn.matches)Me=pn.matches;else{Re(te,me,ms(404,{pathname:_e}),{flushSync:it});return}}let Pt=Kg(Me,_e);Q.set(te,at);let $t=ne,Ln=gd(i,s,tt,Me,Pt,r,je),an=(await Bt(tt,Ln,je,te))[Pt.route.id];if(Q.get(te)===at&&Q.delete(te),!tt.signal.aborted){if(H.has(te)){Ce(te,Ua(void 0));return}if(vc(an))if(ee>$t){Ce(te,Ua(void 0));return}else{F.add(te),await pt(tt,an,!1,{preventScrollReset:Ze});return}if(Xi(an)){Re(te,me,an.error);return}Ce(te,Ua(an.data))}}async function pt(te,me,_e,{submission:Me,fetcherSubmission:je,preventScrollReset:Ke,replace:it}={}){me.response.headers.has("X-Remix-Revalidate")&&(V=!0);let Ze=me.response.headers.get("Location");Qt(Ze,"Expected a Location header on the redirect Response"),Ze=xS(Ze,new URL(te.url),l);let nt=Oh(j.location,Ze,{_isRedirect:!0});if(n){let Ln=!1;if(me.response.headers.has("X-Remix-Reload-Document"))Ln=!0;else if(Z2(Ze)){const ir=g7(Ze,!0);Ln=ir.origin!==t.location.origin||ws(ir.pathname,l)==null}if(Ln){it?t.location.replace(Ze):t.location.assign(Ze);return}}U=null;let lt=it===!0||me.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:at,formAction:tt,formEncType:Pt}=j.navigation;!Me&&!je&&at&&tt&&Pt&&(Me=ES(j.navigation));let $t=Me||je;if(zP.has(me.response.status)&&$t&&Ii($t.formMethod))await sn(lt,nt,{submission:{...$t,formAction:Ze},preventScrollReset:Ke||B,enableViewTransition:_e?D:void 0});else{let Ln=Av(nt,Me);await sn(lt,nt,{overrideNavigation:Ln,fetcherSubmission:je,preventScrollReset:Ke||B,enableViewTransition:_e?D:void 0})}}async function Bt(te,me,_e,Me){let je,Ke={};try{je=await YP(u,te,me,Me,_e,!1)}catch(it){return me.filter(Ze=>Ze.shouldLoad).forEach(Ze=>{Ke[Ze.route.id]={type:"error",error:it}}),Ke}if(te.signal.aborted)return Ke;for(let[it,Ze]of Object.entries(je))if(nO(Ze)){let nt=Ze.result;Ke[it]={type:"redirect",response:ZP(nt,te,it,me,l)}}else Ke[it]=await JP(Ze);return Ke}async function Rt(te,me,_e,Me){let je=Bt(_e,te,Me,null),Ke=Promise.all(me.map(async nt=>{if(nt.matches&&nt.match&&nt.request&&nt.controller){let at=(await Bt(nt.request,nt.matches,Me,nt.key))[nt.match.route.id];return{[nt.key]:at}}else return Promise.resolve({[nt.key]:{type:"error",error:ms(404,{pathname:nt.path})}})})),it=await je,Ze=(await Ke).reduce((nt,lt)=>Object.assign(nt,lt),{});return{loaderResults:it,fetcherResults:Ze}}function qn(){V=!0,G.forEach((te,me)=>{Q.has(me)&&q.add(me),hn(me)})}function Ce(te,me,_e={}){j.fetchers.set(te,me),ct({fetchers:new Map(j.fetchers)},{flushSync:(_e&&_e.flushSync)===!0})}function Re(te,me,_e,Me={}){let je=mc(j.matches,me);vt(te),ct({errors:{[je.route.id]:_e},fetchers:new Map(j.fetchers)},{flushSync:(Me&&Me.flushSync)===!0})}function ut(te){return ye.set(te,(ye.get(te)||0)+1),H.has(te)&&H.delete(te),j.fetchers.get(te)||$P}function vt(te){let me=j.fetchers.get(te);Q.has(te)&&!(me&&me.state==="loading"&&fe.has(te))&&hn(te),G.delete(te),fe.delete(te),F.delete(te),H.delete(te),q.delete(te),j.fetchers.delete(te)}function zt(te){let me=(ye.get(te)||0)-1;me<=0?(ye.delete(te),H.add(te)):ye.set(te,me),ct({fetchers:new Map(j.fetchers)})}function hn(te){let me=Q.get(te);me&&(me.abort(),Q.delete(te))}function nr(te){for(let me of te){let _e=ut(me),Me=Ua(_e.data);j.fetchers.set(me,Me)}}function rr(){let te=[],me=!1;for(let _e of F){let Me=j.fetchers.get(_e);Qt(Me,`Expected fetcher: ${_e}`),Me.state==="loading"&&(F.delete(_e),te.push(_e),me=!0)}return nr(te),me}function ti(te){let me=[];for(let[_e,Me]of fe)if(Me<te){let je=j.fetchers.get(_e);Qt(je,`Expected fetcher: ${_e}`),je.state==="loading"&&(hn(_e),fe.delete(_e),me.push(_e))}return nr(me),me.length>0}function br(te,me){let _e=j.blockers.get(te)||$f;return Oe.get(te)!==me&&Oe.set(te,me),_e}function Ve(te){j.blockers.delete(te),Oe.delete(te)}function Xn(te,me){let _e=j.blockers.get(te)||$f;Qt(_e.state==="unblocked"&&me.state==="blocked"||_e.state==="blocked"&&me.state==="blocked"||_e.state==="blocked"&&me.state==="proceeding"||_e.state==="blocked"&&me.state==="unblocked"||_e.state==="proceeding"&&me.state==="unblocked",`Invalid blocker state transition: ${_e.state} -> ${me.state}`);let Me=new Map(j.blockers);Me.set(te,me),ct({blockers:Me})}function Dn({currentLocation:te,nextLocation:me,historyAction:_e}){if(Oe.size===0)return;Oe.size>1&&cr(!1,"A router only supports one blocker at a time");let Me=Array.from(Oe.entries()),[je,Ke]=Me[Me.length-1],it=j.blockers.get(je);if(!(it&&it.state==="proceeding")&&Ke({currentLocation:te,nextLocation:me,historyAction:_e}))return je}function rs(te){let me=ms(404,{pathname:te}),_e=a||o,{matches:Me,route:je}=CS(_e);return{notFoundMatches:Me,route:je,error:me}}function Qe(te,me,_e){if(y=te,_=me,b=_e||null,!C&&j.navigation===Mv){C=!0;let Me=Co(j.location,j.matches);Me!=null&&ct({restoreScrollPosition:Me})}return()=>{y=null,_=null,b=null}}function zi(te,me){return b&&b(te,me.map(Me=>yP(Me,j.loaderData)))||te.key}function ks(te,me){if(y&&_){let _e=zi(te,me);y[_e]=_()}}function Co(te,me){if(y){let _e=zi(te,me),Me=y[_e];if(typeof Me=="number")return Me}return null}function eo(te,me,_e){if(e.patchRoutesOnNavigation)if(te){if(Object.keys(te[0].params).length>0)return{active:!0,matches:Qg(me,_e,l,!0)}}else return{active:!0,matches:Qg(me,_e,l,!0)||[]};return{active:!1,matches:null}}async function Es(te,me,_e,Me){if(!e.patchRoutesOnNavigation)return{type:"success",matches:te};let je=te;for(;;){let Ke=a==null,it=a||o,Ze=s;try{await e.patchRoutesOnNavigation({signal:_e,path:me,matches:je,fetcherKey:Me,patch:(at,tt)=>{_e.aborted||mS(at,tt,it,Ze,i,!1)}})}catch(at){return{type:"error",error:at,partialMatches:je}}finally{Ke&&!_e.aborted&&(o=[...o])}if(_e.aborted)return{type:"aborted"};let nt=Ga(it,me,l);if(nt)return{type:"success",matches:nt};let lt=Qg(it,me,l,!0);if(!lt||je.length===lt.length&&je.every((at,tt)=>at.route.id===lt[tt].route.id))return{type:"success",matches:null};je=lt}}function nu(te){s={},a=Mh(te,i,void 0,s)}function ru(te,me,_e=!1){let Me=a==null;mS(te,me,a||o,s,i,_e),Me&&(o=[...o],ct({}))}return z={get basename(){return l},get future(){return f},get state(){return j},get routes(){return o},get window(){return t},initialize:Ye,subscribe:Ne,enableScrollRestoration:Qe,navigate:It,fetch:gi,revalidate:Cn,createHref:te=>e.history.createHref(te),encodeLocation:te=>e.history.encodeLocation(te),getFetcher:ut,deleteFetcher:zt,dispose:qe,getBlocker:br,deleteBlocker:Ve,patchRoutes:ru,_internalFetchControllers:Q,_internalSetRoutes:nu,_internalSetStateDoNotUseOrYouWillBreakYourApp(te){ct(te)}},z}function qP(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function ub(e,t,n,r,i,s){let o,a;if(i){o=[];for(let u of t)if(o.push(u),u.route.id===i){a=u;break}}else o=t,a=t[t.length-1];let l=J2(r||".",X2(o),ws(e.pathname,n)||e.pathname,s==="path");if(r==null&&(l.search=e.search,l.hash=e.hash),(r==null||r===""||r===".")&&a){let u=ew(l.search);if(a.route.index&&!u)l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index";else if(!a.route.index&&u){let f=new URLSearchParams(l.search),p=f.getAll("index");f.delete("index"),p.filter(y=>y).forEach(y=>f.append("index",y));let g=f.toString();l.search=g?`?${g}`:""}}return n!=="/"&&(l.pathname=IP({basename:n,pathname:l.pathname})),ol(l)}function hS(e,t,n){if(!n||!qP(n))return{path:t};if(n.formMethod&&!rO(n.formMethod))return{path:t,error:ms(405,{method:n.formMethod})};let r=()=>({path:t,error:ms(400,{type:"invalid-body"})}),s=(n.formMethod||"get").toUpperCase(),o=j7(t);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!Ii(s))return r();let p=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((g,[y,b])=>`${g}${y}=${b}
`,""):String(n.body);return{path:t,submission:{formMethod:s,formAction:o,formEncType:n.formEncType,formData:void 0,json:void 0,text:p}}}else if(n.formEncType==="application/json"){if(!Ii(s))return r();try{let p=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:t,submission:{formMethod:s,formAction:o,formEncType:n.formEncType,formData:void 0,json:p,text:void 0}}}catch{return r()}}}Qt(typeof FormData=="function","FormData is not available in this environment");let a,l;if(n.formData)a=hb(n.formData),l=n.formData;else if(n.body instanceof FormData)a=hb(n.body),l=n.body;else if(n.body instanceof URLSearchParams)a=n.body,l=bS(a);else if(n.body==null)a=new URLSearchParams,l=new FormData;else try{a=new URLSearchParams(n.body),l=bS(a)}catch{return r()}let u={formMethod:s,formAction:o,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:l,json:void 0,text:void 0};if(Ii(u.formMethod))return{path:t,submission:u};let f=yl(t);return e&&f.search&&ew(f.search)&&a.append("index",""),f.search=`?${a}`,{path:ol(f),submission:u}}function pS(e,t,n,r,i,s,o,a,l,u,f,p,g,y,b,_,C,k,R,O){let $=O?Xi(O[1])?O[1].error:O[1].data:void 0,z=i.createURL(s.location),j=i.createURL(l),A;if(f&&s.errors){let re=Object.keys(s.errors)[0];A=o.findIndex(V=>V.route.id===re)}else if(O&&Xi(O[1])){let re=O[0];A=o.findIndex(V=>V.route.id===re)-1}let B=O?O[1].statusCode:void 0,U=B&&B>=400,D={currentUrl:z,currentParams:s.matches[0]?.params||{},nextUrl:j,nextParams:o[0].params,...a,actionResult:$,actionStatus:B},Z=o.map((re,V)=>{let{route:q}=re,Q=null;if(A!=null&&V>A?Q=!1:q.lazy?Q=!0:q.loader==null?Q=!1:f?Q=db(q,s.loaderData,s.errors):VP(s.loaderData,s.matches[V],re)&&(Q=!0),Q!==null)return fb(n,r,e,re,u,t,Q);let ne=U?!1:p||z.pathname+z.search===j.pathname+j.search||z.search!==j.search||QP(s.matches[V],re),ee={...D,defaultShouldRevalidate:ne},fe=p0(re,ee);return fb(n,r,e,re,u,t,fe,ee)}),X=[];return b.forEach((re,V)=>{if(f||!o.some(ye=>ye.route.id===re.routeId)||y.has(V))return;let q=s.fetchers.get(V),Q=q&&q.state!=="idle"&&q.data===void 0,ne=Ga(C,re.path,k);if(!ne){if(R&&Q)return;X.push({key:V,routeId:re.routeId,path:re.path,matches:null,match:null,request:null,controller:null});return}if(_.has(V))return;let ee=Kg(ne,re.path),fe=new AbortController,F=id(i,re.path,fe.signal),G=null;if(g.has(V))g.delete(V),G=gd(n,r,F,ne,ee,u,t);else if(Q)p&&(G=gd(n,r,F,ne,ee,u,t));else{let ye={...D,defaultShouldRevalidate:U?!1:p};p0(ee,ye)&&(G=gd(n,r,F,ne,ee,u,t,ye))}G&&X.push({key:V,routeId:re.routeId,path:re.path,matches:G,match:ee,request:F,controller:fe})}),{dsMatches:Z,revalidatingFetchers:X}}function db(e,t,n){if(e.lazy)return!0;if(!e.loader)return!1;let r=t!=null&&e.id in t,i=n!=null&&n[e.id]!==void 0;return!r&&i?!1:typeof e.loader=="function"&&e.loader.hydrate===!0?!0:!r&&!i}function VP(e,t,n){let r=!t||n.route.id!==t.route.id,i=!e.hasOwnProperty(n.route.id);return r||i}function QP(e,t){let n=e.route.path;return e.pathname!==t.pathname||n!=null&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function p0(e,t){if(e.route.shouldRevalidate){let n=e.route.shouldRevalidate(t);if(typeof n=="boolean")return n}return t.defaultShouldRevalidate}function mS(e,t,n,r,i,s){let o;if(e){let u=r[e];Qt(u,`No route found to patch children into: routeId = ${e}`),u.children||(u.children=[]),o=u.children}else o=n;let a=[],l=[];if(t.forEach(u=>{let f=o.find(p=>S7(u,p));f?l.push({existingRoute:f,newRoute:u}):a.push(u)}),a.length>0){let u=Mh(a,i,[e||"_","patch",String(o?.length||"0")],r);o.push(...u)}if(s&&l.length>0)for(let u=0;u<l.length;u++){let{existingRoute:f,newRoute:p}=l[u],g=f,[y]=Mh([p],i,[],{},!0);Object.assign(g,{element:y.element?y.element:g.element,errorElement:y.errorElement?y.errorElement:g.errorElement,hydrateFallbackElement:y.hydrateFallbackElement?y.hydrateFallbackElement:g.hydrateFallbackElement})}}function S7(e,t){return"id"in e&&"id"in t&&e.id===t.id?!0:e.index===t.index&&e.path===t.path&&e.caseSensitive===t.caseSensitive?(!e.children||e.children.length===0)&&(!t.children||t.children.length===0)?!0:e.children.every((n,r)=>t.children?.some(i=>S7(n,i))):!1}var gS=new WeakMap,C7=({key:e,route:t,manifest:n,mapRouteProperties:r})=>{let i=n[t.id];if(Qt(i,"No route found in manifest"),!i.lazy||typeof i.lazy!="object")return;let s=i.lazy[e];if(!s)return;let o=gS.get(i);o||(o={},gS.set(i,o));let a=o[e];if(a)return a;let l=(async()=>{let u=hP(e),p=i[e]!==void 0&&e!=="hasErrorBoundary";if(u)cr(!u,"Route property "+e+" is not a supported lazy route property. This property will be ignored."),o[e]=Promise.resolve();else if(p)cr(!1,`Route "${i.id}" has a static property "${e}" defined. The lazy property will be ignored.`);else{let g=await s();g!=null&&(Object.assign(i,{[e]:g}),Object.assign(i,r(i)))}typeof i.lazy=="object"&&(i.lazy[e]=void 0,Object.values(i.lazy).every(g=>g===void 0)&&(i.lazy=void 0))})();return o[e]=l,l},yS=new WeakMap;function KP(e,t,n,r,i){let s=n[e.id];if(Qt(s,"No route found in manifest"),!e.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof e.lazy=="function"){let f=yS.get(s);if(f)return{lazyRoutePromise:f,lazyHandlerPromise:f};let p=(async()=>{Qt(typeof e.lazy=="function","No lazy route function found");let g=await e.lazy(),y={};for(let b in g){let _=g[b];if(_===void 0)continue;let C=mP(b),R=s[b]!==void 0&&b!=="hasErrorBoundary";C?cr(!C,"Route property "+b+" is not a supported property to be returned from a lazy route function. This property will be ignored."):R?cr(!R,`Route "${s.id}" has a static property "${b}" defined but its lazy function is also returning a value for this property. The lazy route property "${b}" will be ignored.`):y[b]=_}Object.assign(s,y),Object.assign(s,{...r(s),lazy:void 0})})();return yS.set(s,p),p.catch(()=>{}),{lazyRoutePromise:p,lazyHandlerPromise:p}}let o=Object.keys(e.lazy),a=[],l;for(let f of o){if(i&&i.includes(f))continue;let p=C7({key:f,route:e,manifest:n,mapRouteProperties:r});p&&(a.push(p),f===t&&(l=p))}let u=a.length>0?Promise.all(a).then(()=>{}):void 0;return u?.catch(()=>{}),l?.catch(()=>{}),{lazyRoutePromise:u,lazyHandlerPromise:l}}async function vS(e){let t=e.matches.filter(i=>i.shouldLoad),n={};return(await Promise.all(t.map(i=>i.resolve()))).forEach((i,s)=>{n[t[s].route.id]=i}),n}async function GP(e){return e.matches.some(t=>t.route.unstable_middleware)?k7(e,!1,()=>vS(e),(t,n)=>({[n]:{type:"error",result:t}})):vS(e)}async function k7(e,t,n,r){let{matches:i,request:s,params:o,context:a}=e,l={handlerResult:void 0};try{let u=i.flatMap(p=>p.route.unstable_middleware?p.route.unstable_middleware.map(g=>[p.route.id,g]):[]),f=await E7({request:s,params:o,context:a},u,t,l,n);return t?f:l.handlerResult}catch(u){if(!l.middlewareError)throw u;let f=await r(l.middlewareError.error,l.middlewareError.routeId);return l.handlerResult?Object.assign(l.handlerResult,f):f}}async function E7(e,t,n,r,i,s=0){let{request:o}=e;if(o.signal.aborted)throw o.signal.reason?o.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${o.method} ${o.url}`);let a=t[s];if(!a)return r.handlerResult=await i(),r.handlerResult;let[l,u]=a,f=!1,p,g=async()=>{if(f)throw new Error("You may only call `next()` once per middleware");f=!0,await E7(e,t,n,r,i,s+1)};try{let y=await u({request:e.request,params:e.params,context:e.context},g);return f?y===void 0?p:y:g()}catch(y){throw r.middlewareError?r.middlewareError.error!==y&&(r.middlewareError={routeId:l,error:y}):r.middlewareError={routeId:l,error:y},y}}function T7(e,t,n,r,i){let s=C7({key:"unstable_middleware",route:r.route,manifest:t,mapRouteProperties:e}),o=KP(r.route,Ii(n.method)?"action":"loader",t,e,i);return{middleware:s,route:o.lazyRoutePromise,handler:o.lazyHandlerPromise}}function fb(e,t,n,r,i,s,o,a=null){let l=!1,u=T7(e,t,n,r,i);return{...r,_lazyPromises:u,shouldLoad:o,unstable_shouldRevalidateArgs:a,unstable_shouldCallHandler(f){return l=!0,a?typeof f=="boolean"?p0(r,{...a,defaultShouldRevalidate:f}):p0(r,a):o},resolve(f){return l||o||f&&!Ii(n.method)&&(r.route.lazy||r.route.loader)?XP({request:n,match:r,lazyHandlerPromise:u?.handler,lazyRoutePromise:u?.route,handlerOverride:f,scopedContext:s}):Promise.resolve({type:"data",result:void 0})}}}function gd(e,t,n,r,i,s,o,a=null){return r.map(l=>l.route.id!==i.route.id?{...l,shouldLoad:!1,unstable_shouldRevalidateArgs:a,unstable_shouldCallHandler:()=>!1,_lazyPromises:T7(e,t,n,l,s),resolve:()=>Promise.resolve({type:"data",result:void 0})}:fb(e,t,n,l,s,o,!0,a))}async function YP(e,t,n,r,i,s){n.some(u=>u._lazyPromises?.middleware)&&await Promise.all(n.map(u=>u._lazyPromises?.middleware));let o={request:t,params:n[0].params,context:i,matches:n},l=await e({...o,fetcherKey:r,unstable_runClientMiddleware:u=>{let f=o;return k7(f,!1,()=>u({...f,fetcherKey:r,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}}),(p,g)=>({[g]:{type:"error",result:p}}))}});try{await Promise.all(n.flatMap(u=>[u._lazyPromises?.handler,u._lazyPromises?.route]))}catch{}return l}async function XP({request:e,match:t,lazyHandlerPromise:n,lazyRoutePromise:r,handlerOverride:i,scopedContext:s}){let o,a,l=Ii(e.method),u=l?"action":"loader",f=p=>{let g,y=new Promise((C,k)=>g=k);a=()=>g(),e.signal.addEventListener("abort",a);let b=C=>typeof p!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${u}" [routeId: ${t.route.id}]`)):p({request:e,params:t.params,context:s},...C!==void 0?[C]:[]),_=(async()=>{try{return{type:"data",result:await(i?i(k=>b(k)):b())}}catch(C){return{type:"error",result:C}}})();return Promise.race([_,y])};try{let p=l?t.route.action:t.route.loader;if(n||r)if(p){let g,[y]=await Promise.all([f(p).catch(b=>{g=b}),n,r]);if(g!==void 0)throw g;o=y}else{await n;let g=l?t.route.action:t.route.loader;if(g)[o]=await Promise.all([f(g),r]);else if(u==="action"){let y=new URL(e.url),b=y.pathname+y.search;throw ms(405,{method:e.method,pathname:b,routeId:t.route.id})}else return{type:"data",result:void 0}}else if(p)o=await f(p);else{let g=new URL(e.url),y=g.pathname+g.search;throw ms(404,{pathname:y})}}catch(p){return{type:"error",result:p}}finally{a&&e.signal.removeEventListener("abort",a)}return o}async function JP(e){let{result:t,type:n}=e;if(N7(t)){let r;try{let i=t.headers.get("Content-Type");i&&/\bapplication\/json\b/.test(i)?t.body==null?r=null:r=await t.json():r=await t.text()}catch(i){return{type:"error",error:i}}return n==="error"?{type:"error",error:new h0(t.status,t.statusText,r),statusCode:t.status,headers:t.headers}:{type:"data",data:r,statusCode:t.status,headers:t.headers}}return n==="error"?kS(t)?t.data instanceof Error?{type:"error",error:t.data,statusCode:t.init?.status,headers:t.init?.headers?new Headers(t.init.headers):void 0}:{type:"error",error:new h0(t.init?.status||500,void 0,t.data),statusCode:Ah(t)?t.status:void 0,headers:t.init?.headers?new Headers(t.init.headers):void 0}:{type:"error",error:t,statusCode:Ah(t)?t.status:void 0}:kS(t)?{type:"data",data:t.data,statusCode:t.init?.status,headers:t.init?.headers?new Headers(t.init.headers):void 0}:{type:"data",data:t}}function ZP(e,t,n,r,i){let s=e.headers.get("Location");if(Qt(s,"Redirects returned/thrown from loaders/actions must have a Location header"),!Z2(s)){let o=r.slice(0,r.findIndex(a=>a.route.id===n)+1);s=ub(new URL(t.url),o,i,s),e.headers.set("Location",s)}return e}function xS(e,t,n){if(Z2(e)){let r=e,i=r.startsWith("//")?new URL(t.protocol+r):new URL(r),s=ws(i.pathname,n)!=null;if(i.origin===t.origin&&s)return i.pathname+i.search+i.hash}return e}function id(e,t,n,r){let i=e.createURL(j7(t)).toString(),s={signal:n};if(r&&Ii(r.formMethod)){let{formMethod:o,formEncType:a}=r;s.method=o.toUpperCase(),a==="application/json"?(s.headers=new Headers({"Content-Type":a}),s.body=JSON.stringify(r.json)):a==="text/plain"?s.body=r.text:a==="application/x-www-form-urlencoded"&&r.formData?s.body=hb(r.formData):s.body=r.formData}return new Request(i,s)}function hb(e){let t=new URLSearchParams;for(let[n,r]of e.entries())t.append(n,typeof r=="string"?r:r.name);return t}function bS(e){let t=new FormData;for(let[n,r]of e.entries())t.append(n,r);return t}function eO(e,t,n,r=!1,i=!1){let s={},o=null,a,l=!1,u={},f=n&&Xi(n[1])?n[1].error:void 0;return e.forEach(p=>{if(!(p.route.id in t))return;let g=p.route.id,y=t[g];if(Qt(!vc(y),"Cannot handle redirect results in processLoaderData"),Xi(y)){let b=y.error;if(f!==void 0&&(b=f,f=void 0),o=o||{},i)o[g]=b;else{let _=mc(e,g);o[_.route.id]==null&&(o[_.route.id]=b)}r||(s[g]=_7),l||(l=!0,a=Ah(y.error)?y.error.status:500),y.headers&&(u[g]=y.headers)}else s[g]=y.data,y.statusCode&&y.statusCode!==200&&!l&&(a=y.statusCode),y.headers&&(u[g]=y.headers)}),f!==void 0&&n&&(o={[n[0]]:f},n[2]&&(s[n[2]]=void 0)),{loaderData:s,errors:o,statusCode:a||200,loaderHeaders:u}}function wS(e,t,n,r,i,s){let{loaderData:o,errors:a}=eO(t,n,r);return i.filter(l=>!l.matches||l.matches.some(u=>u.shouldLoad)).forEach(l=>{let{key:u,match:f,controller:p}=l,g=s[u];if(Qt(g,"Did not find corresponding fetcher result"),!(p&&p.signal.aborted))if(Xi(g)){let y=mc(e.matches,f?.route.id);a&&a[y.route.id]||(a={...a,[y.route.id]:g.error}),e.fetchers.delete(u)}else if(vc(g))Qt(!1,"Unhandled fetcher revalidation redirect");else{let y=Ua(g.data);e.fetchers.set(u,y)}}),{loaderData:o,errors:a}}function _S(e,t,n,r){let i=Object.entries(t).filter(([,s])=>s!==_7).reduce((s,[o,a])=>(s[o]=a,s),{});for(let s of n){let o=s.route.id;if(!t.hasOwnProperty(o)&&e.hasOwnProperty(o)&&s.route.loader&&(i[o]=e[o]),r&&r.hasOwnProperty(o))break}return i}function SS(e){return e?Xi(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function mc(e,t){return(t?e.slice(0,e.findIndex(r=>r.route.id===t)+1):[...e]).reverse().find(r=>r.route.hasErrorBoundary===!0)||e[0]}function CS(e){let t=e.length===1?e[0]:e.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function ms(e,{pathname:t,routeId:n,method:r,type:i,message:s}={}){let o="Unknown Server Error",a="Unknown @remix-run/router error";return e===400?(o="Bad Request",r&&t&&n?a=`You made a ${r} request to "${t}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:i==="invalid-body"&&(a="Unable to encode submission body")):e===403?(o="Forbidden",a=`Route "${n}" does not match URL "${t}"`):e===404?(o="Not Found",a=`No route matches URL "${t}"`):e===405&&(o="Method Not Allowed",r&&t&&n?a=`You made a ${r.toUpperCase()} request to "${t}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:r&&(a=`Invalid request method "${r.toUpperCase()}"`)),new h0(e||500,o,new Error(a),!0)}function Hm(e){let t=Object.entries(e);for(let n=t.length-1;n>=0;n--){let[r,i]=t[n];if(vc(i))return{key:r,result:i}}}function j7(e){let t=typeof e=="string"?yl(e):e;return ol({...t,hash:""})}function tO(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function nO(e){return N7(e.result)&&BP.has(e.result.status)}function Xi(e){return e.type==="error"}function vc(e){return(e&&e.type)==="redirect"}function kS(e){return typeof e=="object"&&e!=null&&"type"in e&&"data"in e&&"init"in e&&e.type==="DataWithResponseInit"}function N7(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function rO(e){return FP.has(e.toUpperCase())}function Ii(e){return DP.has(e.toUpperCase())}function ew(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function Kg(e,t){let n=typeof t=="string"?yl(t).search:t.search;if(e[e.length-1].route.index&&ew(n||""))return e[e.length-1];let r=x7(e);return r[r.length-1]}function ES(e){let{formMethod:t,formAction:n,formEncType:r,text:i,formData:s,json:o}=e;if(!(!t||!n||!r)){if(i!=null)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:t,formAction:n,formEncType:r,formData:s,json:void 0,text:void 0};if(o!==void 0)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}}}function Av(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function iO(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function Uf(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function sO(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function Ua(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function oO(e,t){try{let n=e.sessionStorage.getItem(w7);if(n){let r=JSON.parse(n);for(let[i,s]of Object.entries(r||{}))s&&Array.isArray(s)&&t.set(i,new Set(s||[]))}}catch{}}function aO(e,t){if(t.size>0){let n={};for(let[r,i]of t)n[r]=[...i];try{e.sessionStorage.setItem(w7,JSON.stringify(n))}catch(r){cr(!1,`Failed to save applied view transitions in sessionStorage (${r}).`)}}}function lO(){let e,t,n=new Promise((r,i)=>{e=async s=>{r(s);try{await n}catch{}},t=async s=>{i(s);try{await n}catch{}}});return{promise:n,resolve:e,reject:t}}var $c=I.createContext(null);$c.displayName="DataRouter";var op=I.createContext(null);op.displayName="DataRouterState";I.createContext(!1);var tw=I.createContext({isTransitioning:!1});tw.displayName="ViewTransition";var I7=I.createContext(new Map);I7.displayName="Fetchers";var cO=I.createContext(null);cO.displayName="Await";var wo=I.createContext(null);wo.displayName="Navigation";var s1=I.createContext(null);s1.displayName="Location";var Xs=I.createContext({outlet:null,matches:[],isDataRoute:!1});Xs.displayName="Route";var nw=I.createContext(null);nw.displayName="RouteError";function uO(e,{relative:t}={}){Qt(ap(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=I.useContext(wo),{hash:i,pathname:s,search:o}=lp(e,{relative:t}),a=s;return n!=="/"&&(a=s==="/"?n:go([n,s])),r.createHref({pathname:a,search:o,hash:i})}function ap(){return I.useContext(s1)!=null}function _o(){return Qt(ap(),"useLocation() may be used only in the context of a <Router> component."),I.useContext(s1).location}var R7="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function P7(e){I.useContext(wo).static||I.useLayoutEffect(e)}function o1(){let{isDataRoute:e}=I.useContext(Xs);return e?CO():dO()}function dO(){Qt(ap(),"useNavigate() may be used only in the context of a <Router> component.");let e=I.useContext($c),{basename:t,navigator:n}=I.useContext(wo),{matches:r}=I.useContext(Xs),{pathname:i}=_o(),s=JSON.stringify(X2(r)),o=I.useRef(!1);return P7(()=>{o.current=!0}),I.useCallback((l,u={})=>{if(cr(o.current,R7),!o.current)return;if(typeof l=="number"){n.go(l);return}let f=J2(l,JSON.parse(s),i,u.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:go([t,f.pathname])),(u.replace?n.replace:n.push)(f,u.state,u)},[t,n,s,i,e])}var fO=I.createContext(null);function hO(e){let t=I.useContext(Xs).outlet;return t&&I.createElement(fO.Provider,{value:e},t)}function O7(){let{matches:e}=I.useContext(Xs),t=e[e.length-1];return t?t.params:{}}function lp(e,{relative:t}={}){let{matches:n}=I.useContext(Xs),{pathname:r}=_o(),i=JSON.stringify(X2(n));return I.useMemo(()=>J2(e,JSON.parse(i),r,t==="path"),[e,i,r,t])}function pO(e,t,n,r){Qt(ap(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=I.useContext(wo),{matches:s}=I.useContext(Xs),o=s[s.length-1],a=o?o.params:{},l=o?o.pathname:"/",u=o?o.pathnameBase:"/",f=o&&o.route;{let k=f&&f.path||"";M7(l,!f||k.endsWith("*")||k.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${l}" (under <Route path="${k}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${k}"> to <Route path="${k==="/"?"*":`${k}/*`}">.`)}let p=_o(),g;g=p;let y=g.pathname||"/",b=y;if(u!=="/"){let k=u.replace(/^\//,"").split("/");b="/"+y.replace(/^\//,"").split("/").slice(k.length).join("/")}let _=Ga(e,{pathname:b});return cr(f||_!=null,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),cr(_==null||_[_.length-1].route.element!==void 0||_[_.length-1].route.Component!==void 0||_[_.length-1].route.lazy!==void 0,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),xO(_&&_.map(k=>Object.assign({},k,{params:Object.assign({},a,k.params),pathname:go([u,i.encodeLocation?i.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?u:go([u,i.encodeLocation?i.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),s,n,r)}function mO(){let e=sw(),t=Ah(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=I.createElement(I.Fragment,null,I.createElement("p",null," Hey developer "),I.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",I.createElement("code",{style:s},"ErrorBoundary")," or"," ",I.createElement("code",{style:s},"errorElement")," prop on your route.")),I.createElement(I.Fragment,null,I.createElement("h2",null,"Unexpected Application Error!"),I.createElement("h3",{style:{fontStyle:"italic"}},t),n?I.createElement("pre",{style:i},n):null,o)}var gO=I.createElement(mO,null),yO=class extends I.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?I.createElement(Xs.Provider,{value:this.props.routeContext},I.createElement(nw.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function vO({routeContext:e,match:t,children:n}){let r=I.useContext($c);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),I.createElement(Xs.Provider,{value:e},n)}function xO(e,t=[],n=null,r=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let i=e,s=n?.errors;if(s!=null){let l=i.findIndex(u=>u.route.id&&s?.[u.route.id]!==void 0);Qt(l>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,l+1))}let o=!1,a=-1;if(n)for(let l=0;l<i.length;l++){let u=i[l];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(a=l),u.route.id){let{loaderData:f,errors:p}=n,g=u.route.loader&&!f.hasOwnProperty(u.route.id)&&(!p||p[u.route.id]===void 0);if(u.route.lazy||g){o=!0,a>=0?i=i.slice(0,a+1):i=[i[0]];break}}}return i.reduceRight((l,u,f)=>{let p,g=!1,y=null,b=null;n&&(p=s&&u.route.id?s[u.route.id]:void 0,y=u.route.errorElement||gO,o&&(a<0&&f===0?(M7("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),g=!0,b=null):a===f&&(g=!0,b=u.route.hydrateFallbackElement||null)));let _=t.concat(i.slice(0,f+1)),C=()=>{let k;return p?k=y:g?k=b:u.route.Component?k=I.createElement(u.route.Component,null):u.route.element?k=u.route.element:k=l,I.createElement(vO,{match:u,routeContext:{outlet:l,matches:_,isDataRoute:n!=null},children:k})};return n&&(u.route.ErrorBoundary||u.route.errorElement||f===0)?I.createElement(yO,{location:n.location,revalidation:n.revalidation,component:y,error:p,children:C(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):C()},null)}function rw(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function bO(e){let t=I.useContext($c);return Qt(t,rw(e)),t}function wO(e){let t=I.useContext(op);return Qt(t,rw(e)),t}function _O(e){let t=I.useContext(Xs);return Qt(t,rw(e)),t}function iw(e){let t=_O(e),n=t.matches[t.matches.length-1];return Qt(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function SO(){return iw("useRouteId")}function sw(){let e=I.useContext(nw),t=wO("useRouteError"),n=iw("useRouteError");return e!==void 0?e:t.errors?.[n]}function CO(){let{router:e}=bO("useNavigate"),t=iw("useNavigate"),n=I.useRef(!1);return P7(()=>{n.current=!0}),I.useCallback(async(i,s={})=>{cr(n.current,R7),n.current&&(typeof i=="number"?e.navigate(i):await e.navigate(i,{fromRouteId:t,...s}))},[e,t])}var TS={};function M7(e,t,n){!t&&!TS[e]&&(TS[e]=!0,cr(!1,n))}var jS={};function NS(e,t){!e&&!jS[t]&&(jS[t]=!0,console.warn(t))}function kO(e){let t={hasErrorBoundary:e.hasErrorBoundary||e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&(e.element&&cr(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(t,{element:I.createElement(e.Component),Component:void 0})),e.HydrateFallback&&(e.hydrateFallbackElement&&cr(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(t,{hydrateFallbackElement:I.createElement(e.HydrateFallback),HydrateFallback:void 0})),e.ErrorBoundary&&(e.errorElement&&cr(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(t,{errorElement:I.createElement(e.ErrorBoundary),ErrorBoundary:void 0})),t}var EO=["HydrateFallback","hydrateFallbackElement"],TO=class{constructor(){this.status="pending",this.promise=new Promise((t,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",t(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function jO({router:e,flushSync:t}){let[n,r]=I.useState(e.state),[i,s]=I.useState(),[o,a]=I.useState({isTransitioning:!1}),[l,u]=I.useState(),[f,p]=I.useState(),[g,y]=I.useState(),b=I.useRef(new Map),_=I.useCallback((O,{deletedFetchers:$,flushSync:z,viewTransitionOpts:j})=>{O.fetchers.forEach((B,U)=>{B.data!==void 0&&b.current.set(U,B.data)}),$.forEach(B=>b.current.delete(B)),NS(z===!1||t!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let A=e.window!=null&&e.window.document!=null&&typeof e.window.document.startViewTransition=="function";if(NS(j==null||A,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!j||!A){t&&z?t(()=>r(O)):I.startTransition(()=>r(O));return}if(t&&z){t(()=>{f&&(l&&l.resolve(),f.skipTransition()),a({isTransitioning:!0,flushSync:!0,currentLocation:j.currentLocation,nextLocation:j.nextLocation})});let B=e.window.document.startViewTransition(()=>{t(()=>r(O))});B.finished.finally(()=>{t(()=>{u(void 0),p(void 0),s(void 0),a({isTransitioning:!1})})}),t(()=>p(B));return}f?(l&&l.resolve(),f.skipTransition(),y({state:O,currentLocation:j.currentLocation,nextLocation:j.nextLocation})):(s(O),a({isTransitioning:!0,flushSync:!1,currentLocation:j.currentLocation,nextLocation:j.nextLocation}))},[e.window,t,f,l]);I.useLayoutEffect(()=>e.subscribe(_),[e,_]),I.useEffect(()=>{o.isTransitioning&&!o.flushSync&&u(new TO)},[o]),I.useEffect(()=>{if(l&&i&&e.window){let O=i,$=l.promise,z=e.window.document.startViewTransition(async()=>{I.startTransition(()=>r(O)),await $});z.finished.finally(()=>{u(void 0),p(void 0),s(void 0),a({isTransitioning:!1})}),p(z)}},[i,l,e.window]),I.useEffect(()=>{l&&i&&n.location.key===i.location.key&&l.resolve()},[l,f,n.location,i]),I.useEffect(()=>{!o.isTransitioning&&g&&(s(g.state),a({isTransitioning:!0,flushSync:!1,currentLocation:g.currentLocation,nextLocation:g.nextLocation}),y(void 0))},[o.isTransitioning,g]);let C=I.useMemo(()=>({createHref:e.createHref,encodeLocation:e.encodeLocation,go:O=>e.navigate(O),push:(O,$,z)=>e.navigate(O,{state:$,preventScrollReset:z?.preventScrollReset}),replace:(O,$,z)=>e.navigate(O,{replace:!0,state:$,preventScrollReset:z?.preventScrollReset})}),[e]),k=e.basename||"/",R=I.useMemo(()=>({router:e,navigator:C,static:!1,basename:k}),[e,C,k]);return I.createElement(I.Fragment,null,I.createElement($c.Provider,{value:R},I.createElement(op.Provider,{value:n},I.createElement(I7.Provider,{value:b.current},I.createElement(tw.Provider,{value:o},I.createElement(RO,{basename:k,location:n.location,navigationType:n.historyAction,navigator:C},I.createElement(NO,{routes:e.routes,future:e.future,state:n})))))),null)}var NO=I.memo(IO);function IO({routes:e,future:t,state:n}){return pO(e,void 0,n,t)}function ow(e){return hO(e.context)}function RO({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:i,static:s=!1}){Qt(!ap(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=e.replace(/^\/*/,"/"),a=I.useMemo(()=>({basename:o,navigator:i,static:s,future:{}}),[o,i,s]);typeof n=="string"&&(n=yl(n));let{pathname:l="/",search:u="",hash:f="",state:p=null,key:g="default"}=n,y=I.useMemo(()=>{let b=ws(l,o);return b==null?null:{location:{pathname:b,search:u,hash:f,state:p,key:g},navigationType:r}},[o,l,u,f,p,g,r]);return cr(y!=null,`<Router basename="${o}"> is not able to match the URL "${l}${u}${f}" because it does not start with the basename, so the <Router> won't render anything.`),y==null?null:I.createElement(wo.Provider,{value:a},I.createElement(s1.Provider,{children:t,value:y}))}var Gg="get",Yg="application/x-www-form-urlencoded";function a1(e){return e!=null&&typeof e.tagName=="string"}function PO(e){return a1(e)&&e.tagName.toLowerCase()==="button"}function OO(e){return a1(e)&&e.tagName.toLowerCase()==="form"}function MO(e){return a1(e)&&e.tagName.toLowerCase()==="input"}function AO(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function DO(e,t){return e.button===0&&(!t||t==="_self")&&!AO(e)}var Wm=null;function LO(){if(Wm===null)try{new FormData(document.createElement("form"),0),Wm=!1}catch{Wm=!0}return Wm}var FO=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Dv(e){return e!=null&&!FO.has(e)?(cr(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Yg}"`),null):e}function BO(e,t){let n,r,i,s,o;if(OO(e)){let a=e.getAttribute("action");r=a?ws(a,t):null,n=e.getAttribute("method")||Gg,i=Dv(e.getAttribute("enctype"))||Yg,s=new FormData(e)}else if(PO(e)||MO(e)&&(e.type==="submit"||e.type==="image")){let a=e.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=e.getAttribute("formaction")||a.getAttribute("action");if(r=l?ws(l,t):null,n=e.getAttribute("formmethod")||a.getAttribute("method")||Gg,i=Dv(e.getAttribute("formenctype"))||Dv(a.getAttribute("enctype"))||Yg,s=new FormData(a,e),!LO()){let{name:u,type:f,value:p}=e;if(f==="image"){let g=u?`${u}.`:"";s.append(`${g}x`,"0"),s.append(`${g}y`,"0")}else u&&s.append(u,p)}}else{if(a1(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Gg,r=null,i=Yg,o=e}return s&&i==="text/plain"&&(o=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function aw(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function zO(e,t,n){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname=`_root.${n}`:t&&ws(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function $O(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function UO(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function HO(e,t,n){let r=await Promise.all(e.map(async i=>{let s=t.routes[i.route.id];if(s){let o=await $O(s,n);return o.links?o.links():[]}return[]}));return QO(r.flat(1).filter(UO).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function IS(e,t,n,r,i,s){let o=(l,u)=>n[u]?l.route.id!==n[u].route.id:!0,a=(l,u)=>n[u].pathname!==l.pathname||n[u].route.path?.endsWith("*")&&n[u].params["*"]!==l.params["*"];return s==="assets"?t.filter((l,u)=>o(l,u)||a(l,u)):s==="data"?t.filter((l,u)=>{let f=r.routes[l.route.id];if(!f||!f.hasLoader)return!1;if(o(l,u)||a(l,u))return!0;if(l.route.shouldRevalidate){let p=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function WO(e,t,{includeHydrateFallback:n}={}){return qO(e.map(r=>{let i=t.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function qO(e){return[...new Set(e)]}function VO(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function QO(e,t){let n=new Set;return new Set(t),e.reduce((r,i)=>{let s=JSON.stringify(VO(i));return n.has(s)||(n.add(s),r.push({key:s,link:i})),r},[])}function A7(){let e=I.useContext($c);return aw(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function KO(){let e=I.useContext(op);return aw(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var lw=I.createContext(void 0);lw.displayName="FrameworkContext";function D7(){let e=I.useContext(lw);return aw(e,"You must render this element inside a <HydratedRouter> element"),e}function GO(e,t){let n=I.useContext(lw),[r,i]=I.useState(!1),[s,o]=I.useState(!1),{onFocus:a,onBlur:l,onMouseEnter:u,onMouseLeave:f,onTouchStart:p}=t,g=I.useRef(null);I.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let _=k=>{k.forEach(R=>{o(R.isIntersecting)})},C=new IntersectionObserver(_,{threshold:.5});return g.current&&C.observe(g.current),()=>{C.disconnect()}}},[e]),I.useEffect(()=>{if(r){let _=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(_)}}},[r]);let y=()=>{i(!0)},b=()=>{i(!1),o(!1)};return n?e!=="intent"?[s,g,{}]:[s,g,{onFocus:Hf(a,y),onBlur:Hf(l,b),onMouseEnter:Hf(u,y),onMouseLeave:Hf(f,b),onTouchStart:Hf(p,y)}]:[!1,g,{}]}function Hf(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function YO({page:e,...t}){let{router:n}=A7(),r=I.useMemo(()=>Ga(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?I.createElement(JO,{page:e,matches:r,...t}):null}function XO(e){let{manifest:t,routeModules:n}=D7(),[r,i]=I.useState([]);return I.useEffect(()=>{let s=!1;return HO(e,t,n).then(o=>{s||i(o)}),()=>{s=!0}},[e,t,n]),r}function JO({page:e,matches:t,...n}){let r=_o(),{manifest:i,routeModules:s}=D7(),{basename:o}=A7(),{loaderData:a,matches:l}=KO(),u=I.useMemo(()=>IS(e,t,l,i,r,"data"),[e,t,l,i,r]),f=I.useMemo(()=>IS(e,t,l,i,r,"assets"),[e,t,l,i,r]),p=I.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let b=new Set,_=!1;if(t.forEach(k=>{let R=i.routes[k.route.id];!R||!R.hasLoader||(!u.some(O=>O.route.id===k.route.id)&&k.route.id in a&&s[k.route.id]?.shouldRevalidate||R.hasClientLoader?_=!0:b.add(k.route.id))}),b.size===0)return[];let C=zO(e,o,"data");return _&&b.size>0&&C.searchParams.set("_routes",t.filter(k=>b.has(k.route.id)).map(k=>k.route.id).join(",")),[C.pathname+C.search]},[o,a,r,i,u,t,e,s]),g=I.useMemo(()=>WO(f,i),[f,i]),y=XO(f);return I.createElement(I.Fragment,null,p.map(b=>I.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...n})),g.map(b=>I.createElement("link",{key:b,rel:"modulepreload",href:b,...n})),y.map(({key:b,link:_})=>I.createElement("link",{key:b,..._})))}function ZO(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var L7=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{L7&&(window.__reactRouterVersion="7.7.1")}catch{}function eM(e,t){return WP({basename:t?.basename,unstable_getContext:t?.unstable_getContext,future:t?.future,history:cP({window:t?.window}),hydrationData:tM(),routes:e,mapRouteProperties:kO,hydrationRouteProperties:EO,dataStrategy:t?.dataStrategy,patchRoutesOnNavigation:t?.patchRoutesOnNavigation,window:t?.window}).initialize()}function tM(){let e=window?.__staticRouterHydrationData;return e&&e.errors&&(e={...e,errors:nM(e.errors)}),e}function nM(e){if(!e)return null;let t=Object.entries(e),n={};for(let[r,i]of t)if(i&&i.__type==="RouteErrorResponse")n[r]=new h0(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let o=new s(i.message);o.stack="",n[r]=o}catch{}}if(n[r]==null){let s=new Error(i.message);s.stack="",n[r]=s}}else n[r]=i;return n}var F7=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,hi=I.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:f,viewTransition:p,...g},y){let{basename:b}=I.useContext(wo),_=typeof u=="string"&&F7.test(u),C,k=!1;if(typeof u=="string"&&_&&(C=u,L7))try{let U=new URL(window.location.href),D=u.startsWith("//")?new URL(U.protocol+u):new URL(u),Z=ws(D.pathname,b);D.origin===U.origin&&Z!=null?u=Z+D.search+D.hash:k=!0}catch{cr(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let R=uO(u,{relative:i}),[O,$,z]=GO(r,g),j=sM(u,{replace:o,state:a,target:l,preventScrollReset:f,relative:i,viewTransition:p});function A(U){t&&t(U),U.defaultPrevented||j(U)}let B=I.createElement("a",{...g,...z,href:C||R,onClick:k||s?t:A,ref:ZO(y,$),target:l,"data-discover":!_&&n==="render"?"true":void 0});return O&&!_?I.createElement(I.Fragment,null,B,I.createElement(YO,{page:R})):B});hi.displayName="Link";var Uc=I.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:i=!1,style:s,to:o,viewTransition:a,children:l,...u},f){let p=lp(o,{relative:u.relative}),g=_o(),y=I.useContext(op),{navigator:b,basename:_}=I.useContext(wo),C=y!=null&&uM(p)&&a===!0,k=b.encodeLocation?b.encodeLocation(p).pathname:p.pathname,R=g.pathname,O=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;n||(R=R.toLowerCase(),O=O?O.toLowerCase():null,k=k.toLowerCase()),O&&_&&(O=ws(O,_)||O);const $=k!=="/"&&k.endsWith("/")?k.length-1:k.length;let z=R===k||!i&&R.startsWith(k)&&R.charAt($)==="/",j=O!=null&&(O===k||!i&&O.startsWith(k)&&O.charAt(k.length)==="/"),A={isActive:z,isPending:j,isTransitioning:C},B=z?t:void 0,U;typeof r=="function"?U=r(A):U=[r,z?"active":null,j?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let D=typeof s=="function"?s(A):s;return I.createElement(hi,{...u,"aria-current":B,className:U,ref:f,style:D,to:o,viewTransition:a},typeof l=="function"?l(A):l)});Uc.displayName="NavLink";var rM=I.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:i,state:s,method:o=Gg,action:a,onSubmit:l,relative:u,preventScrollReset:f,viewTransition:p,...g},y)=>{let b=lM(),_=cM(a,{relative:u}),C=o.toLowerCase()==="get"?"get":"post",k=typeof a=="string"&&F7.test(a),R=O=>{if(l&&l(O),O.defaultPrevented)return;O.preventDefault();let $=O.nativeEvent.submitter,z=$?.getAttribute("formmethod")||o;b($||O.currentTarget,{fetcherKey:t,method:z,navigate:n,replace:i,state:s,relative:u,preventScrollReset:f,viewTransition:p})};return I.createElement("form",{ref:y,method:C,action:_,onSubmit:r?l:R,...g,"data-discover":!k&&e==="render"?"true":void 0})});rM.displayName="Form";function iM(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function B7(e){let t=I.useContext($c);return Qt(t,iM(e)),t}function sM(e,{target:t,replace:n,state:r,preventScrollReset:i,relative:s,viewTransition:o}={}){let a=o1(),l=_o(),u=lp(e,{relative:s});return I.useCallback(f=>{if(DO(f,t)){f.preventDefault();let p=n!==void 0?n:ol(l)===ol(u);a(e,{replace:p,state:r,preventScrollReset:i,relative:s,viewTransition:o})}},[l,a,u,n,r,t,e,i,s,o])}var oM=0,aM=()=>`__${String(++oM)}__`;function lM(){let{router:e}=B7("useSubmit"),{basename:t}=I.useContext(wo),n=SO();return I.useCallback(async(r,i={})=>{let{action:s,method:o,encType:a,formData:l,body:u}=BO(r,t);if(i.navigate===!1){let f=i.fetcherKey||aM();await e.fetch(f,n,i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:u,formMethod:i.method||o,formEncType:i.encType||a,flushSync:i.flushSync})}else await e.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:u,formMethod:i.method||o,formEncType:i.encType||a,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,t,n])}function cM(e,{relative:t}={}){let{basename:n}=I.useContext(wo),r=I.useContext(Xs);Qt(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...lp(e||".",{relative:t})},o=_o();if(e==null){s.search=o.search;let a=new URLSearchParams(s.search),l=a.getAll("index");if(l.some(f=>f==="")){a.delete("index"),l.filter(p=>p).forEach(p=>a.append("index",p));let f=a.toString();s.search=f?`?${f}`:""}}return(!e||e===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:go([n,s.pathname])),ol(s)}function uM(e,{relative:t}={}){let n=I.useContext(tw);Qt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=B7("useViewTransitionState"),i=lp(e,{relative:t});if(!n.isTransitioning)return!1;let s=ws(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=ws(n.nextLocation.pathname,r)||n.nextLocation.pathname;return f0(i.pathname,o)!=null||f0(i.pathname,s)!=null}var z7=p7();const qm=Di(z7);function dM(e){return I.createElement(jO,{flushSync:z7.flushSync,...e})}var Bd=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Rc=typeof window>"u"||"Deno"in globalThis;function li(){}function fM(e,t){return typeof e=="function"?e(t):e}function pb(e){return typeof e=="number"&&e>=0&&e!==1/0}function $7(e,t){return Math.max(e+(t||0)-Date.now(),0)}function tl(e,t){return typeof e=="function"?e(t):e}function ys(e,t){return typeof e=="function"?e(t):e}function RS(e,t){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:o,stale:a}=e;if(o){if(r){if(t.queryHash!==cw(o,t.options))return!1}else if(!Dh(t.queryKey,o))return!1}if(n!=="all"){const l=t.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&t.isStale()!==a||i&&i!==t.state.fetchStatus||s&&!s(t))}function PS(e,t){const{exact:n,status:r,predicate:i,mutationKey:s}=e;if(s){if(!t.options.mutationKey)return!1;if(n){if(Pc(t.options.mutationKey)!==Pc(s))return!1}else if(!Dh(t.options.mutationKey,s))return!1}return!(r&&t.state.status!==r||i&&!i(t))}function cw(e,t){return(t?.queryKeyHashFn||Pc)(e)}function Pc(e){return JSON.stringify(e,(t,n)=>mb(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function Dh(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>Dh(e[n],t[n])):!1}function U7(e,t){if(e===t)return e;const n=OS(e)&&OS(t);if(n||mb(e)&&mb(t)){const r=n?e:Object.keys(e),i=r.length,s=n?t:Object.keys(t),o=s.length,a=n?[]:{},l=new Set(r);let u=0;for(let f=0;f<o;f++){const p=n?f:s[f];(!n&&l.has(p)||n)&&e[p]===void 0&&t[p]===void 0?(a[p]=void 0,u++):(a[p]=U7(e[p],t[p]),a[p]===e[p]&&e[p]!==void 0&&u++)}return i===o&&u===i?e:a}return t}function m0(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function OS(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function mb(e){if(!MS(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!MS(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function MS(e){return Object.prototype.toString.call(e)==="[object Object]"}function hM(e){return new Promise(t=>{setTimeout(t,e)})}function gb(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?U7(e,t):t}function pM(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function mM(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var uw=Symbol();function H7(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===uw?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function W7(e,t){return typeof e=="function"?e(...t):!!e}var gM=class extends Bd{#t;#e;#n;constructor(){super(),this.#n=e=>{if(!Rc&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#e||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(e){this.#n=e,this.#e?.(),this.#e=e(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(e){this.#t!==e&&(this.#t=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#t=="boolean"?this.#t:globalThis.document?.visibilityState!=="hidden"}},dw=new gM,yM=class extends Bd{#t=!0;#e;#n;constructor(){super(),this.#n=e=>{if(!Rc&&window.addEventListener){const t=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#e||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(e){this.#n=e,this.#e?.(),this.#e=e(this.setOnline.bind(this))}setOnline(e){this.#t!==e&&(this.#t=e,this.listeners.forEach(n=>{n(e)}))}isOnline(){return this.#t}},g0=new yM;function yb(){let e,t;const n=new Promise((i,s)=>{e=i,t=s});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),e(i)},n.reject=i=>{r({status:"rejected",reason:i}),t(i)},n}function vM(e){return Math.min(1e3*2**e,3e4)}function q7(e){return(e??"online")==="online"?g0.isOnline():!0}var V7=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function Lv(e){return e instanceof V7}function Q7(e){let t=!1,n=0,r=!1,i;const s=yb(),o=_=>{r||(g(new V7(_)),e.abort?.())},a=()=>{t=!0},l=()=>{t=!1},u=()=>dw.isFocused()&&(e.networkMode==="always"||g0.isOnline())&&e.canRun(),f=()=>q7(e.networkMode)&&e.canRun(),p=_=>{r||(r=!0,e.onSuccess?.(_),i?.(),s.resolve(_))},g=_=>{r||(r=!0,e.onError?.(_),i?.(),s.reject(_))},y=()=>new Promise(_=>{i=C=>{(r||u())&&_(C)},e.onPause?.()}).then(()=>{i=void 0,r||e.onContinue?.()}),b=()=>{if(r)return;let _;const C=n===0?e.initialPromise:void 0;try{_=C??e.fn()}catch(k){_=Promise.reject(k)}Promise.resolve(_).then(p).catch(k=>{if(r)return;const R=e.retry??(Rc?0:3),O=e.retryDelay??vM,$=typeof O=="function"?O(n,k):O,z=R===!0||typeof R=="number"&&n<R||typeof R=="function"&&R(n,k);if(t||!z){g(k);return}n++,e.onFail?.(n,k),hM($).then(()=>u()?void 0:y()).then(()=>{t?g(k):b()})})};return{promise:s,cancel:o,continue:()=>(i?.(),s),cancelRetry:a,continueRetry:l,canStart:f,start:()=>(f()?b():y().then(b),s)}}var xM=e=>setTimeout(e,0);function bM(){let e=[],t=0,n=a=>{a()},r=a=>{a()},i=xM;const s=a=>{t?e.push(a):i(()=>{n(a)})},o=()=>{const a=e;e=[],a.length&&i(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;t++;try{l=a()}finally{t--,t||o()}return l},batchCalls:a=>(...l)=>{s(()=>{a(...l)})},schedule:s,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{i=a}}}var gr=bM(),K7=class{#t;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),pb(this.gcTime)&&(this.#t=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Rc?1/0:300*1e3))}clearGcTimeout(){this.#t&&(clearTimeout(this.#t),this.#t=void 0)}},wM=class extends K7{#t;#e;#n;#r;#i;#o;#a;constructor(e){super(),this.#a=!1,this.#o=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#r=e.client,this.#n=this.#r.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#t=_M(this.options),this.state=e.state??this.#t,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#i?.promise}setOptions(e){this.options={...this.#o,...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(e,t){const n=gb(this.state.data,e,this.options);return this.#s({data:n,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),n}setState(e,t){this.#s({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#i?.promise;return this.#i?.cancel(e),t?t.then(li).catch(li):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#t)}isActive(){return this.observers.some(e=>ys(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===uw||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>tl(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!$7(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#i?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#i?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#i&&(this.#a?this.#i.cancel({revert:!0}):this.#i.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#s({type:"invalidate"})}fetch(e,t){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#i)return this.#i.continueRetry(),this.#i.promise}if(e&&this.setOptions(e),!this.options.queryFn){const l=this.observers.find(u=>u.options.queryFn);l&&this.setOptions(l.options)}const n=new AbortController,r=l=>{Object.defineProperty(l,"signal",{enumerable:!0,get:()=>(this.#a=!0,n.signal)})},i=()=>{const l=H7(this.options,t),f=(()=>{const p={client:this.#r,queryKey:this.queryKey,meta:this.meta};return r(p),p})();return this.#a=!1,this.options.persister?this.options.persister(l,f,this):l(f)},o=(()=>{const l={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#r,state:this.state,fetchFn:i};return r(l),l})();this.options.behavior?.onFetch(o,this),this.#e=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==o.fetchOptions?.meta)&&this.#s({type:"fetch",meta:o.fetchOptions?.meta});const a=l=>{Lv(l)&&l.silent||this.#s({type:"error",error:l}),Lv(l)||(this.#n.config.onError?.(l,this),this.#n.config.onSettled?.(this.state.data,l,this)),this.scheduleGc()};return this.#i=Q7({initialPromise:t?.initialPromise,fn:o.fetchFn,abort:n.abort.bind(n),onSuccess:l=>{if(l===void 0){a(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(l)}catch(u){a(u);return}this.#n.config.onSuccess?.(l,this),this.#n.config.onSettled?.(l,this.state.error,this),this.scheduleGc()},onError:a,onFail:(l,u)=>{this.#s({type:"failed",failureCount:l,error:u})},onPause:()=>{this.#s({type:"pause"})},onContinue:()=>{this.#s({type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0}),this.#i.start()}#s(e){const t=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...G7(n.data,this.options),fetchMeta:e.meta??null};case"success":return this.#e=void 0,{...n,data:e.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const r=e.error;return Lv(r)&&r.revert&&this.#e?{...this.#e,fetchStatus:"idle"}:{...n,error:r,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:r,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=t(this.state),gr.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:e})})}};function G7(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:q7(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function _M(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var SM=class extends Bd{constructor(e={}){super(),this.config=e,this.#t=new Map}#t;build(e,t,n){const r=t.queryKey,i=t.queryHash??cw(r,t);let s=this.get(i);return s||(s=new wM({client:e,queryKey:r,queryHash:i,options:e.defaultQueryOptions(t),state:n,defaultOptions:e.getQueryDefaults(r)}),this.add(s)),s}add(e){this.#t.has(e.queryHash)||(this.#t.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#t.get(e.queryHash);t&&(e.destroy(),t===e&&this.#t.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){gr.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#t.get(e)}getAll(){return[...this.#t.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(n=>RS(t,n))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(n=>RS(e,n)):t}notify(e){gr.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){gr.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){gr.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},CM=class extends K7{#t;#e;#n;constructor(e){super(),this.mutationId=e.mutationId,this.#e=e.mutationCache,this.#t=[],this.state=e.state||Y7(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#e.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(t=>t!==e),this.scheduleGc(),this.#e.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#e.remove(this))}continue(){return this.#n?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#r({type:"continue"})};this.#n=Q7({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(i,s)=>{this.#r({type:"failed",failureCount:i,error:s})},onPause:()=>{this.#r({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#e.canRun(this)});const n=this.state.status==="pending",r=!this.#n.canStart();try{if(n)t();else{this.#r({type:"pending",variables:e,isPaused:r}),await this.#e.config.onMutate?.(e,this);const s=await this.options.onMutate?.(e);s!==this.state.context&&this.#r({type:"pending",context:s,variables:e,isPaused:r})}const i=await this.#n.start();return await this.#e.config.onSuccess?.(i,e,this.state.context,this),await this.options.onSuccess?.(i,e,this.state.context),await this.#e.config.onSettled?.(i,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(i,null,e,this.state.context),this.#r({type:"success",data:i}),i}catch(i){try{throw await this.#e.config.onError?.(i,e,this.state.context,this),await this.options.onError?.(i,e,this.state.context),await this.#e.config.onSettled?.(void 0,i,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,i,e,this.state.context),i}finally{this.#r({type:"error",error:i})}}finally{this.#e.runNext(this)}}#r(e){const t=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),gr.batch(()=>{this.#t.forEach(n=>{n.onMutationUpdate(e)}),this.#e.notify({mutation:this,type:"updated",action:e})})}};function Y7(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var kM=class extends Bd{constructor(e={}){super(),this.config=e,this.#t=new Set,this.#e=new Map,this.#n=0}#t;#e;#n;build(e,t,n){const r=new CM({mutationCache:this,mutationId:++this.#n,options:e.defaultMutationOptions(t),state:n});return this.add(r),r}add(e){this.#t.add(e);const t=Vm(e);if(typeof t=="string"){const n=this.#e.get(t);n?n.push(e):this.#e.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#t.delete(e)){const t=Vm(e);if(typeof t=="string"){const n=this.#e.get(t);if(n)if(n.length>1){const r=n.indexOf(e);r!==-1&&n.splice(r,1)}else n[0]===e&&this.#e.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=Vm(e);if(typeof t=="string"){const r=this.#e.get(t)?.find(i=>i.state.status==="pending");return!r||r===e}else return!0}runNext(e){const t=Vm(e);return typeof t=="string"?this.#e.get(t)?.find(r=>r!==e&&r.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){gr.batch(()=>{this.#t.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#t.clear(),this.#e.clear()})}getAll(){return Array.from(this.#t)}find(e){const t={exact:!0,...e};return this.getAll().find(n=>PS(t,n))}findAll(e={}){return this.getAll().filter(t=>PS(e,t))}notify(e){gr.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return gr.batch(()=>Promise.all(e.map(t=>t.continue().catch(li))))}};function Vm(e){return e.options.scope?.id}function AS(e){return{onFetch:(t,n)=>{const r=t.options,i=t.fetchOptions?.meta?.fetchMore?.direction,s=t.state.data?.pages||[],o=t.state.data?.pageParams||[];let a={pages:[],pageParams:[]},l=0;const u=async()=>{let f=!1;const p=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(t.signal.aborted?f=!0:t.signal.addEventListener("abort",()=>{f=!0}),t.signal)})},g=H7(t.options,t.fetchOptions),y=async(b,_,C)=>{if(f)return Promise.reject();if(_==null&&b.pages.length)return Promise.resolve(b);const R=(()=>{const j={client:t.client,queryKey:t.queryKey,pageParam:_,direction:C?"backward":"forward",meta:t.options.meta};return p(j),j})(),O=await g(R),{maxPages:$}=t.options,z=C?mM:pM;return{pages:z(b.pages,O,$),pageParams:z(b.pageParams,_,$)}};if(i&&s.length){const b=i==="backward",_=b?EM:DS,C={pages:s,pageParams:o},k=_(r,C);a=await y(C,k,b)}else{const b=e??s.length;do{const _=l===0?o[0]??r.initialPageParam:DS(r,a);if(l>0&&_==null)break;a=await y(a,_),l++}while(l<b)}return a};t.options.persister?t.fetchFn=()=>t.options.persister?.(u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n):t.fetchFn=u}}}function DS(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function EM(e,{pages:t,pageParams:n}){return t.length>0?e.getPreviousPageParam?.(t[0],t,n[0],n):void 0}var TM=class{#t;#e;#n;#r;#i;#o;#a;#s;constructor(e={}){this.#t=e.queryCache||new SM,this.#e=e.mutationCache||new kM,this.#n=e.defaultOptions||{},this.#r=new Map,this.#i=new Map,this.#o=0}mount(){this.#o++,this.#o===1&&(this.#a=dw.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#t.onFocus())}),this.#s=g0.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#t.onOnline())}))}unmount(){this.#o--,this.#o===0&&(this.#a?.(),this.#a=void 0,this.#s?.(),this.#s=void 0)}isFetching(e){return this.#t.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#e.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#t.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=this.#t.build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(tl(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return this.#t.findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),s=this.#t.get(r.queryHash)?.state.data,o=fM(t,s);if(o!==void 0)return this.#t.build(this,r).setData(o,{...n,manual:!0})}setQueriesData(e,t,n){return gr.batch(()=>this.#t.findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#t.get(t.queryHash)?.state}removeQueries(e){const t=this.#t;gr.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=this.#t;return gr.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=gr.batch(()=>this.#t.findAll(e).map(i=>i.cancel(n)));return Promise.all(r).then(li).catch(li)}invalidateQueries(e,t={}){return gr.batch(()=>(this.#t.findAll(e).forEach(n=>{n.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=gr.batch(()=>this.#t.findAll(e).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let s=i.fetch(void 0,n);return n.throwOnError||(s=s.catch(li)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(li)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=this.#t.build(this,t);return n.isStaleByTime(tl(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(li).catch(li)}fetchInfiniteQuery(e){return e.behavior=AS(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(li).catch(li)}ensureInfiniteQueryData(e){return e.behavior=AS(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return g0.isOnline()?this.#e.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#t}getMutationCache(){return this.#e}getDefaultOptions(){return this.#n}setDefaultOptions(e){this.#n=e}setQueryDefaults(e,t){this.#r.set(Pc(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#r.values()],n={};return t.forEach(r=>{Dh(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){this.#i.set(Pc(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#i.values()],n={};return t.forEach(r=>{Dh(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#n.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=cw(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===uw&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#n.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#t.clear(),this.#e.clear()}},jM=class extends Bd{constructor(e,t){super(),this.options=t,this.#t=e,this.#s=null,this.#a=yb(),this.options.experimental_prefetchInRender||this.#a.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(t)}#t;#e=void 0;#n=void 0;#r=void 0;#i;#o;#a;#s;#m;#f;#h;#c;#u;#l;#p=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#e.addObserver(this),LS(this.#e,this.options)?this.#d():this.updateResult(),this.#x())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return vb(this.#e,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return vb(this.#e,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#b(),this.#w(),this.#e.removeObserver(this)}setOptions(e){const t=this.options,n=this.#e;if(this.options=this.#t.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof ys(this.options.enabled,this.#e)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#_(),this.#e.setOptions(this.options),t._defaulted&&!m0(this.options,t)&&this.#t.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#e,observer:this});const r=this.hasListeners();r&&FS(this.#e,n,this.options,t)&&this.#d(),this.updateResult(),r&&(this.#e!==n||ys(this.options.enabled,this.#e)!==ys(t.enabled,this.#e)||tl(this.options.staleTime,this.#e)!==tl(t.staleTime,this.#e))&&this.#g();const i=this.#y();r&&(this.#e!==n||ys(this.options.enabled,this.#e)!==ys(t.enabled,this.#e)||i!==this.#l)&&this.#v(i)}getOptimisticResult(e){const t=this.#t.getQueryCache().build(this.#t,e),n=this.createResult(t,e);return IM(this,n)&&(this.#r=n,this.#o=this.options,this.#i=this.#e.state),n}getCurrentResult(){return this.#r}trackResult(e,t){return new Proxy(e,{get:(n,r)=>(this.trackProp(r),t?.(r),Reflect.get(n,r))})}trackProp(e){this.#p.add(e)}getCurrentQuery(){return this.#e}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=this.#t.defaultQueryOptions(e),n=this.#t.getQueryCache().build(this.#t,t);return n.fetch().then(()=>this.createResult(n,t))}fetch(e){return this.#d({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#r))}#d(e){this.#_();let t=this.#e.fetch(this.options,e);return e?.throwOnError||(t=t.catch(li)),t}#g(){this.#b();const e=tl(this.options.staleTime,this.#e);if(Rc||this.#r.isStale||!pb(e))return;const n=$7(this.#r.dataUpdatedAt,e)+1;this.#c=setTimeout(()=>{this.#r.isStale||this.updateResult()},n)}#y(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#e):this.options.refetchInterval)??!1}#v(e){this.#w(),this.#l=e,!(Rc||ys(this.options.enabled,this.#e)===!1||!pb(this.#l)||this.#l===0)&&(this.#u=setInterval(()=>{(this.options.refetchIntervalInBackground||dw.isFocused())&&this.#d()},this.#l))}#x(){this.#g(),this.#v(this.#y())}#b(){this.#c&&(clearTimeout(this.#c),this.#c=void 0)}#w(){this.#u&&(clearInterval(this.#u),this.#u=void 0)}createResult(e,t){const n=this.#e,r=this.options,i=this.#r,s=this.#i,o=this.#o,l=e!==n?e.state:this.#n,{state:u}=e;let f={...u},p=!1,g;if(t._optimisticResults){const B=this.hasListeners(),U=!B&&LS(e,t),D=B&&FS(e,n,t,r);(U||D)&&(f={...f,...G7(u.data,e.options)}),t._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:y,errorUpdatedAt:b,status:_}=f;g=f.data;let C=!1;if(t.placeholderData!==void 0&&g===void 0&&_==="pending"){let B;i?.isPlaceholderData&&t.placeholderData===o?.placeholderData?(B=i.data,C=!0):B=typeof t.placeholderData=="function"?t.placeholderData(this.#h?.state.data,this.#h):t.placeholderData,B!==void 0&&(_="success",g=gb(i?.data,B,t),p=!0)}if(t.select&&g!==void 0&&!C)if(i&&g===s?.data&&t.select===this.#m)g=this.#f;else try{this.#m=t.select,g=t.select(g),g=gb(i?.data,g,t),this.#f=g,this.#s=null}catch(B){this.#s=B}this.#s&&(y=this.#s,g=this.#f,b=Date.now(),_="error");const k=f.fetchStatus==="fetching",R=_==="pending",O=_==="error",$=R&&k,z=g!==void 0,A={status:_,fetchStatus:f.fetchStatus,isPending:R,isSuccess:_==="success",isError:O,isInitialLoading:$,isLoading:$,data:g,dataUpdatedAt:f.dataUpdatedAt,error:y,errorUpdatedAt:b,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>l.dataUpdateCount||f.errorUpdateCount>l.errorUpdateCount,isFetching:k,isRefetching:k&&!R,isLoadingError:O&&!z,isPaused:f.fetchStatus==="paused",isPlaceholderData:p,isRefetchError:O&&z,isStale:fw(e,t),refetch:this.refetch,promise:this.#a,isEnabled:ys(t.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const B=Z=>{A.status==="error"?Z.reject(A.error):A.data!==void 0&&Z.resolve(A.data)},U=()=>{const Z=this.#a=A.promise=yb();B(Z)},D=this.#a;switch(D.status){case"pending":e.queryHash===n.queryHash&&B(D);break;case"fulfilled":(A.status==="error"||A.data!==D.value)&&U();break;case"rejected":(A.status!=="error"||A.error!==D.reason)&&U();break}}return A}updateResult(){const e=this.#r,t=this.createResult(this.#e,this.options);if(this.#i=this.#e.state,this.#o=this.options,this.#i.data!==void 0&&(this.#h=this.#e),m0(t,e))return;this.#r=t;const n=()=>{if(!e)return!0;const{notifyOnChangeProps:r}=this.options,i=typeof r=="function"?r():r;if(i==="all"||!i&&!this.#p.size)return!0;const s=new Set(i??this.#p);return this.options.throwOnError&&s.add("error"),Object.keys(this.#r).some(o=>{const a=o;return this.#r[a]!==e[a]&&s.has(a)})};this.#S({listeners:n()})}#_(){const e=this.#t.getQueryCache().build(this.#t,this.options);if(e===this.#e)return;const t=this.#e;this.#e=e,this.#n=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#x()}#S(e){gr.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(this.#r)}),this.#t.getQueryCache().notify({query:this.#e,type:"observerResultsUpdated"})})}};function NM(e,t){return ys(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function LS(e,t){return NM(e,t)||e.state.data!==void 0&&vb(e,t,t.refetchOnMount)}function vb(e,t,n){if(ys(t.enabled,e)!==!1&&tl(t.staleTime,e)!=="static"){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&fw(e,t)}return!1}function FS(e,t,n,r){return(e!==t||ys(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&fw(e,n)}function fw(e,t){return ys(t.enabled,e)!==!1&&e.isStaleByTime(tl(t.staleTime,e))}function IM(e,t){return!m0(e.getCurrentResult(),t)}var RM=class extends Bd{#t;#e=void 0;#n;#r;constructor(t,n){super(),this.#t=t,this.setOptions(n),this.bindMethods(),this.#i()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){const n=this.options;this.options=this.#t.defaultMutationOptions(t),m0(this.options,n)||this.#t.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),n?.mutationKey&&this.options.mutationKey&&Pc(n.mutationKey)!==Pc(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(t){this.#i(),this.#o(t)}getCurrentResult(){return this.#e}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#i(),this.#o()}mutate(t,n){return this.#r=n,this.#n?.removeObserver(this),this.#n=this.#t.getMutationCache().build(this.#t,this.options),this.#n.addObserver(this),this.#n.execute(t)}#i(){const t=this.#n?.state??Y7();this.#e={...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset}}#o(t){gr.batch(()=>{if(this.#r&&this.hasListeners()){const n=this.#e.variables,r=this.#e.context;t?.type==="success"?(this.#r.onSuccess?.(t.data,n,r),this.#r.onSettled?.(t.data,null,n,r)):t?.type==="error"&&(this.#r.onError?.(t.error,n,r),this.#r.onSettled?.(void 0,t.error,n,r))}this.listeners.forEach(n=>{n(this.#e)})})}},X7=I.createContext(void 0),ns=e=>{const t=I.useContext(X7);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},PM=({client:e,children:t})=>(I.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),h.jsx(X7.Provider,{value:e,children:t})),J7=I.createContext(!1),OM=()=>I.useContext(J7);J7.Provider;function MM(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var AM=I.createContext(MM()),DM=()=>I.useContext(AM),LM=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},FM=e=>{I.useEffect(()=>{e.clearReset()},[e])},BM=({result:e,errorResetBoundary:t,throwOnError:n,query:r,suspense:i})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(i&&e.data===void 0||W7(n,[e.error,r])),zM=e=>{if(e.suspense){const t=r=>r==="static"?r:Math.max(r??1e3,1e3),n=e.staleTime;e.staleTime=typeof n=="function"?(...r)=>t(n(...r)):t(n),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},$M=(e,t)=>e.isLoading&&e.isFetching&&!t,UM=(e,t)=>e?.suspense&&t.isPending,BS=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function HM(e,t,n){const r=OM(),i=DM(),s=ns(),o=s.defaultQueryOptions(e);s.getDefaultOptions().queries?._experimental_beforeQuery?.(o),o._optimisticResults=r?"isRestoring":"optimistic",zM(o),LM(o,i),FM(i);const a=!s.getQueryCache().get(o.queryHash),[l]=I.useState(()=>new t(s,o)),u=l.getOptimisticResult(o),f=!r&&e.subscribed!==!1;if(I.useSyncExternalStore(I.useCallback(p=>{const g=f?l.subscribe(gr.batchCalls(p)):li;return l.updateResult(),g},[l,f]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),I.useEffect(()=>{l.setOptions(o)},[o,l]),UM(o,u))throw BS(o,l,i);if(BM({result:u,errorResetBoundary:i,throwOnError:o.throwOnError,query:s.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw u.error;return s.getDefaultOptions().queries?._experimental_afterQuery?.(o,u),o.experimental_prefetchInRender&&!Rc&&$M(u,r)&&(a?BS(o,l,i):s.getQueryCache().get(o.queryHash)?.promise)?.catch(li).finally(()=>{l.updateResult()}),o.notifyOnChangeProps?u:l.trackResult(u)}function Js(e,t){return HM(e,jM)}function vl(e,t){const n=ns(),[r]=I.useState(()=>new RM(n,e));I.useEffect(()=>{r.setOptions(e)},[r,e]);const i=I.useSyncExternalStore(I.useCallback(o=>r.subscribe(gr.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),s=I.useCallback((o,a)=>{r.mutate(o,a).catch(li)},[r]);if(i.error&&W7(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:s,mutateAsync:i.mutate}}var Fv={},Bv={},zv={},zS;function WM(){return zS||(zS=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=function(){for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];if(typeof window<"u"){var a;typeof window.gtag>"u"&&(window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)}),(a=window).gtag.apply(a,s)}},n=t;e.default=n}(zv)),zv}var $v={},$S;function qM(){return $S||($S=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var t=/^(a|an|and|as|at|but|by|en|for|if|in|nor|of|on|or|per|the|to|vs?\.?|via)$/i;function n(a){return a.toString().trim().replace(/[A-Za-z0-9\u00C0-\u00FF]+[^\s-]*/g,function(l,u,f){return u>0&&u+l.length!==f.length&&l.search(t)>-1&&f.charAt(u-2)!==":"&&(f.charAt(u+l.length)!=="-"||f.charAt(u-1)==="-")&&f.charAt(u-1).search(/[^\s-]/)<0?l.toLowerCase():l.substr(1).search(/[A-Z]|\../)>-1?l:l.charAt(0).toUpperCase()+l.substr(1)})}function r(a){return typeof a=="string"&&a.indexOf("@")!==-1}var i="REDACTED (Potential Email Address)";function s(a){return r(a)?(console.warn("This arg looks like an email address, redacting."),i):a}function o(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,f=a||"";return l&&(f=n(a)),u&&(f=s(f)),f}}($v)),$v}var US;function VM(){return US||(US=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.GA4=void 0;var t=o(WM()),n=o(qM()),r=["eventCategory","eventAction","eventLabel","eventValue","hitType"],i=["title","location"],s=["page","hitType"];function o(V){return V&&V.__esModule?V:{default:V}}function a(V,q){if(V==null)return{};var Q=l(V,q),ne,ee;if(Object.getOwnPropertySymbols){var fe=Object.getOwnPropertySymbols(V);for(ee=0;ee<fe.length;ee++)ne=fe[ee],!(q.indexOf(ne)>=0)&&Object.prototype.propertyIsEnumerable.call(V,ne)&&(Q[ne]=V[ne])}return Q}function l(V,q){if(V==null)return{};var Q={},ne=Object.keys(V),ee,fe;for(fe=0;fe<ne.length;fe++)ee=ne[fe],!(q.indexOf(ee)>=0)&&(Q[ee]=V[ee]);return Q}function u(V){"@babel/helpers - typeof";return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(q){return typeof q}:function(q){return q&&typeof Symbol=="function"&&q.constructor===Symbol&&q!==Symbol.prototype?"symbol":typeof q},u(V)}function f(V){return y(V)||g(V)||R(V)||p()}function p(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function g(V){if(typeof Symbol<"u"&&V[Symbol.iterator]!=null||V["@@iterator"]!=null)return Array.from(V)}function y(V){if(Array.isArray(V))return O(V)}function b(V,q){var Q=Object.keys(V);if(Object.getOwnPropertySymbols){var ne=Object.getOwnPropertySymbols(V);q&&(ne=ne.filter(function(ee){return Object.getOwnPropertyDescriptor(V,ee).enumerable})),Q.push.apply(Q,ne)}return Q}function _(V){for(var q=1;q<arguments.length;q++){var Q=arguments[q]!=null?arguments[q]:{};q%2?b(Object(Q),!0).forEach(function(ne){U(V,ne,Q[ne])}):Object.getOwnPropertyDescriptors?Object.defineProperties(V,Object.getOwnPropertyDescriptors(Q)):b(Object(Q)).forEach(function(ne){Object.defineProperty(V,ne,Object.getOwnPropertyDescriptor(Q,ne))})}return V}function C(V,q){return z(V)||$(V,q)||R(V,q)||k()}function k(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function R(V,q){if(V){if(typeof V=="string")return O(V,q);var Q=Object.prototype.toString.call(V).slice(8,-1);if(Q==="Object"&&V.constructor&&(Q=V.constructor.name),Q==="Map"||Q==="Set")return Array.from(V);if(Q==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Q))return O(V,q)}}function O(V,q){(q==null||q>V.length)&&(q=V.length);for(var Q=0,ne=new Array(q);Q<q;Q++)ne[Q]=V[Q];return ne}function $(V,q){var Q=V==null?null:typeof Symbol<"u"&&V[Symbol.iterator]||V["@@iterator"];if(Q!=null){var ne,ee,fe,F,G=[],ye=!0,H=!1;try{if(fe=(Q=Q.call(V)).next,q!==0)for(;!(ye=(ne=fe.call(Q)).done)&&(G.push(ne.value),G.length!==q);ye=!0);}catch(Oe){H=!0,ee=Oe}finally{try{if(!ye&&Q.return!=null&&(F=Q.return(),Object(F)!==F))return}finally{if(H)throw ee}}return G}}function z(V){if(Array.isArray(V))return V}function j(V,q){if(!(V instanceof q))throw new TypeError("Cannot call a class as a function")}function A(V,q){for(var Q=0;Q<q.length;Q++){var ne=q[Q];ne.enumerable=ne.enumerable||!1,ne.configurable=!0,"value"in ne&&(ne.writable=!0),Object.defineProperty(V,D(ne.key),ne)}}function B(V,q,Q){return q&&A(V.prototype,q),Object.defineProperty(V,"prototype",{writable:!1}),V}function U(V,q,Q){return q=D(q),q in V?Object.defineProperty(V,q,{value:Q,enumerable:!0,configurable:!0,writable:!0}):V[q]=Q,V}function D(V){var q=Z(V,"string");return u(q)==="symbol"?q:String(q)}function Z(V,q){if(u(V)!=="object"||V===null)return V;var Q=V[Symbol.toPrimitive];if(Q!==void 0){var ne=Q.call(V,q);if(u(ne)!=="object")return ne;throw new TypeError("@@toPrimitive must return a primitive value.")}return(q==="string"?String:Number)(V)}var X=function(){function V(){var q=this;j(this,V),U(this,"reset",function(){q.isInitialized=!1,q._testMode=!1,q._currentMeasurementId,q._hasLoadedGA=!1,q._isQueuing=!1,q._queueGtag=[]}),U(this,"_gtag",function(){for(var Q=arguments.length,ne=new Array(Q),ee=0;ee<Q;ee++)ne[ee]=arguments[ee];q._testMode||q._isQueuing?q._queueGtag.push(ne):t.default.apply(void 0,ne)}),U(this,"_loadGA",function(Q,ne){var ee=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"https://www.googletagmanager.com/gtag/js";if(!(typeof window>"u"||typeof document>"u")&&!q._hasLoadedGA){var fe=document.createElement("script");fe.async=!0,fe.src="".concat(ee,"?id=").concat(Q),ne&&fe.setAttribute("nonce",ne),document.body.appendChild(fe),window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)},q._hasLoadedGA=!0}}),U(this,"_toGtagOptions",function(Q){if(Q){var ne={cookieUpdate:"cookie_update",cookieExpires:"cookie_expires",cookieDomain:"cookie_domain",cookieFlags:"cookie_flags",userId:"user_id",clientId:"client_id",anonymizeIp:"anonymize_ip",contentGroup1:"content_group1",contentGroup2:"content_group2",contentGroup3:"content_group3",contentGroup4:"content_group4",contentGroup5:"content_group5",allowAdFeatures:"allow_google_signals",allowAdPersonalizationSignals:"allow_ad_personalization_signals",nonInteraction:"non_interaction",page:"page_path",hitCallback:"event_callback"},ee=Object.entries(Q).reduce(function(fe,F){var G=C(F,2),ye=G[0],H=G[1];return ne[ye]?fe[ne[ye]]=H:fe[ye]=H,fe},{});return ee}}),U(this,"initialize",function(Q){var ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!Q)throw new Error("Require GA_MEASUREMENT_ID");var ee=typeof Q=="string"?[{trackingId:Q}]:Q;q._currentMeasurementId=ee[0].trackingId;var fe=ne.gaOptions,F=ne.gtagOptions,G=ne.nonce,ye=ne.testMode,H=ye===void 0?!1:ye,Oe=ne.gtagUrl;if(q._testMode=H,H||q._loadGA(q._currentMeasurementId,G,Oe),q.isInitialized||(q._gtag("js",new Date),ee.forEach(function(Ye){var qe=_(_(_({},q._toGtagOptions(_(_({},fe),Ye.gaOptions))),F),Ye.gtagOptions);Object.keys(qe).length?q._gtag("config",Ye.trackingId,qe):q._gtag("config",Ye.trackingId)})),q.isInitialized=!0,!H){var Ee=f(q._queueGtag);for(q._queueGtag=[],q._isQueuing=!1;Ee.length;){var Te=Ee.shift();q._gtag.apply(q,f(Te)),Te[0]==="get"&&(q._isQueuing=!0)}}}),U(this,"set",function(Q){if(!Q){console.warn("`fieldsObject` is required in .set()");return}if(u(Q)!=="object"){console.warn("Expected `fieldsObject` arg to be an Object");return}Object.keys(Q).length===0&&console.warn("empty `fieldsObject` given to .set()"),q._gaCommand("set",Q)}),U(this,"_gaCommandSendEvent",function(Q,ne,ee,fe,F){q._gtag("event",ne,_(_({event_category:Q,event_label:ee,value:fe},F&&{non_interaction:F.nonInteraction}),q._toGtagOptions(F)))}),U(this,"_gaCommandSendEventParameters",function(){for(var Q=arguments.length,ne=new Array(Q),ee=0;ee<Q;ee++)ne[ee]=arguments[ee];if(typeof ne[0]=="string")q._gaCommandSendEvent.apply(q,f(ne.slice(1)));else{var fe=ne[0],F=fe.eventCategory,G=fe.eventAction,ye=fe.eventLabel,H=fe.eventValue;fe.hitType;var Oe=a(fe,r);q._gaCommandSendEvent(F,G,ye,H,Oe)}}),U(this,"_gaCommandSendTiming",function(Q,ne,ee,fe){q._gtag("event","timing_complete",{name:ne,value:ee,event_category:Q,event_label:fe})}),U(this,"_gaCommandSendPageview",function(Q,ne){if(ne&&Object.keys(ne).length){var ee=q._toGtagOptions(ne),fe=ee.title,F=ee.location,G=a(ee,i);q._gtag("event","page_view",_(_(_(_({},Q&&{page_path:Q}),fe&&{page_title:fe}),F&&{page_location:F}),G))}else Q?q._gtag("event","page_view",{page_path:Q}):q._gtag("event","page_view")}),U(this,"_gaCommandSendPageviewParameters",function(){for(var Q=arguments.length,ne=new Array(Q),ee=0;ee<Q;ee++)ne[ee]=arguments[ee];if(typeof ne[0]=="string")q._gaCommandSendPageview.apply(q,f(ne.slice(1)));else{var fe=ne[0],F=fe.page;fe.hitType;var G=a(fe,s);q._gaCommandSendPageview(F,G)}}),U(this,"_gaCommandSend",function(){for(var Q=arguments.length,ne=new Array(Q),ee=0;ee<Q;ee++)ne[ee]=arguments[ee];var fe=typeof ne[0]=="string"?ne[0]:ne[0].hitType;switch(fe){case"event":q._gaCommandSendEventParameters.apply(q,ne);break;case"pageview":q._gaCommandSendPageviewParameters.apply(q,ne);break;case"timing":q._gaCommandSendTiming.apply(q,f(ne.slice(1)));break;case"screenview":case"transaction":case"item":case"social":case"exception":console.warn("Unsupported send command: ".concat(fe));break;default:console.warn("Send command doesn't exist: ".concat(fe))}}),U(this,"_gaCommandSet",function(){for(var Q=arguments.length,ne=new Array(Q),ee=0;ee<Q;ee++)ne[ee]=arguments[ee];typeof ne[0]=="string"&&(ne[0]=U({},ne[0],ne[1])),q._gtag("set",q._toGtagOptions(ne[0]))}),U(this,"_gaCommand",function(Q){for(var ne=arguments.length,ee=new Array(ne>1?ne-1:0),fe=1;fe<ne;fe++)ee[fe-1]=arguments[fe];switch(Q){case"send":q._gaCommandSend.apply(q,ee);break;case"set":q._gaCommandSet.apply(q,ee);break;default:console.warn("Command doesn't exist: ".concat(Q))}}),U(this,"ga",function(){for(var Q=arguments.length,ne=new Array(Q),ee=0;ee<Q;ee++)ne[ee]=arguments[ee];if(typeof ne[0]=="string")q._gaCommand.apply(q,ne);else{var fe=ne[0];q._gtag("get",q._currentMeasurementId,"client_id",function(F){q._isQueuing=!1;var G=q._queueGtag;for(fe({get:function(Oe){return Oe==="clientId"?F:Oe==="trackingId"?q._currentMeasurementId:Oe==="apiVersion"?"1":void 0}});G.length;){var ye=G.shift();q._gtag.apply(q,f(ye))}}),q._isQueuing=!0}return q.ga}),U(this,"event",function(Q,ne){if(typeof Q=="string")q._gtag("event",Q,q._toGtagOptions(ne));else{var ee=Q.action,fe=Q.category,F=Q.label,G=Q.value,ye=Q.nonInteraction,H=Q.transport;if(!fe||!ee){console.warn("args.category AND args.action are required in event()");return}var Oe={hitType:"event",eventCategory:(0,n.default)(fe),eventAction:(0,n.default)(ee)};F&&(Oe.eventLabel=(0,n.default)(F)),typeof G<"u"&&(typeof G!="number"?console.warn("Expected `args.value` arg to be a Number."):Oe.eventValue=G),typeof ye<"u"&&(typeof ye!="boolean"?console.warn("`args.nonInteraction` must be a boolean."):Oe.nonInteraction=ye),typeof H<"u"&&(typeof H!="string"?console.warn("`args.transport` must be a string."):(["beacon","xhr","image"].indexOf(H)===-1&&console.warn("`args.transport` must be either one of these values: `beacon`, `xhr` or `image`"),Oe.transport=H)),q._gaCommand("send",Oe)}}),U(this,"send",function(Q){q._gaCommand("send",Q)}),this.reset()}return B(V,[{key:"gtag",value:function(){this._gtag.apply(this,arguments)}}]),V}();e.GA4=X;var re=new X;e.default=re}(Bv)),Bv}var HS;function QM(){return HS||(HS=1,function(e){function t(a){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},t(a)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.ReactGAImplementation=void 0;var n=i(VM());function r(a){if(typeof WeakMap!="function")return null;var l=new WeakMap,u=new WeakMap;return(r=function(p){return p?u:l})(a)}function i(a,l){if(a&&a.__esModule)return a;if(a===null||t(a)!=="object"&&typeof a!="function")return{default:a};var u=r(l);if(u&&u.has(a))return u.get(a);var f={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var g in a)if(g!=="default"&&Object.prototype.hasOwnProperty.call(a,g)){var y=p?Object.getOwnPropertyDescriptor(a,g):null;y&&(y.get||y.set)?Object.defineProperty(f,g,y):f[g]=a[g]}return f.default=a,u&&u.set(a,f),f}var s=n.GA4;e.ReactGAImplementation=s;var o=n.default;e.default=o}(Fv)),Fv}var KM=QM();const GM=Di(KM);function YM(e){try{(function(t,n,r,i,s,o,a){n.getElementById("clarity-script")||(t[r]=t[r]||function(){(t[r].q=t[r].q||[]).push(arguments)},o=n.createElement(i),o.async=1,o.src="https://www.clarity.ms/tag/"+s+"?ref=npm",o.id="clarity-script",a=n.getElementsByTagName(i)[0],a.parentNode.insertBefore(o,a))})(window,document,"clarity","script",e);return}catch{return}}const XM={init(e){YM(e)},setTag(e,t){window.clarity("set",e,t)},identify(e,t,n,r){window.clarity("identify",e,t,n,r)},consent(e=!0){window.clarity("consent",e)},upgrade(e){window.clarity("upgrade",e)},event(e){window.clarity("event",e)}},At=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Sc="8.55.0",en=globalThis;function l1(e,t,n){const r=n||en,i=r.__SENTRY__=r.__SENTRY__||{},s=i[Sc]=i[Sc]||{};return s[e]||(s[e]=t())}const xl=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,JM="Sentry Logger ",xb=["debug","info","warn","error","log","assert","trace"],y0={};function bl(e){if(!("console"in en))return e();const t=en.console,n={},r=Object.keys(y0);r.forEach(i=>{const s=y0[i];n[i]=t[i],t[i]=s});try{return e()}finally{r.forEach(i=>{t[i]=n[i]})}}function ZM(){let e=!1;const t={enable:()=>{e=!0},disable:()=>{e=!1},isEnabled:()=>e};return xl?xb.forEach(n=>{t[n]=(...r)=>{e&&bl(()=>{en.console[n](`${JM}[${n}]:`,...r)})}}):xb.forEach(n=>{t[n]=()=>{}}),t}const Ge=l1("logger",ZM),Z7=50,Oc="?",WS=/\(error: (.*)\)/,qS=/captureMessage|captureException/;function e8(...e){const t=e.sort((n,r)=>n[0]-r[0]).map(n=>n[1]);return(n,r=0,i=0)=>{const s=[],o=n.split(`
`);for(let a=r;a<o.length;a++){const l=o[a];if(l.length>1024)continue;const u=WS.test(l)?l.replace(WS,"$1"):l;if(!u.match(/\S*Error: /)){for(const f of t){const p=f(u);if(p){s.push(p);break}}if(s.length>=Z7+i)break}}return tA(s.slice(i))}}function eA(e){return Array.isArray(e)?e8(...e):e}function tA(e){if(!e.length)return[];const t=Array.from(e);return/sentryWrapped/.test(Qm(t).function||"")&&t.pop(),t.reverse(),qS.test(Qm(t).function||"")&&(t.pop(),qS.test(Qm(t).function||"")&&t.pop()),t.slice(0,Z7).map(n=>({...n,filename:n.filename||Qm(t).filename,function:n.function||Oc}))}function Qm(e){return e[e.length-1]||{}}const Uv="<anonymous>";function sa(e){try{return!e||typeof e!="function"?Uv:e.name||Uv}catch{return Uv}}function VS(e){const t=e.exception;if(t){const n=[];try{return t.values.forEach(r=>{r.stacktrace.frames&&n.push(...r.stacktrace.frames)}),n}catch{return}}}const Xg={},QS={};function wl(e,t){Xg[e]=Xg[e]||[],Xg[e].push(t)}function _l(e,t){if(!QS[e]){QS[e]=!0;try{t()}catch(n){xl&&Ge.error(`Error while instrumenting ${e}`,n)}}}function bs(e,t){const n=e&&Xg[e];if(n)for(const r of n)try{r(t)}catch(i){xl&&Ge.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${sa(r)}
Error:`,i)}}let Hv=null;function t8(e){const t="error";wl(t,e),_l(t,nA)}function nA(){Hv=en.onerror,en.onerror=function(e,t,n,r,i){return bs("error",{column:r,error:i,line:n,msg:e,url:t}),Hv?Hv.apply(this,arguments):!1},en.onerror.__SENTRY_INSTRUMENTED__=!0}let Wv=null;function n8(e){const t="unhandledrejection";wl(t,e),_l(t,rA)}function rA(){Wv=en.onunhandledrejection,en.onunhandledrejection=function(e){return bs("unhandledrejection",e),Wv?Wv.apply(this,arguments):!0},en.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}function Hc(){return hw(en),en}function hw(e){const t=e.__SENTRY__=e.__SENTRY__||{};return t.version=t.version||Sc,t[Sc]=t[Sc]||{}}const r8=Object.prototype.toString;function pw(e){switch(r8.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return oa(e,Error)}}function zd(e,t){return r8.call(e)===`[object ${t}]`}function i8(e){return zd(e,"ErrorEvent")}function KS(e){return zd(e,"DOMError")}function iA(e){return zd(e,"DOMException")}function ra(e){return zd(e,"String")}function mw(e){return typeof e=="object"&&e!==null&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function gw(e){return e===null||mw(e)||typeof e!="object"&&typeof e!="function"}function _d(e){return zd(e,"Object")}function c1(e){return typeof Event<"u"&&oa(e,Event)}function sA(e){return typeof Element<"u"&&oa(e,Element)}function oA(e){return zd(e,"RegExp")}function u1(e){return!!(e&&e.then&&typeof e.then=="function")}function aA(e){return _d(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function oa(e,t){try{return e instanceof t}catch{return!1}}function s8(e){return!!(typeof e=="object"&&e!==null&&(e.__isVue||e._isVue))}const yd=en,lA=80;function aa(e,t={}){if(!e)return"<unknown>";try{let n=e;const r=5,i=[];let s=0,o=0;const a=" > ",l=a.length;let u;const f=Array.isArray(t)?t:t.keyAttrs,p=!Array.isArray(t)&&t.maxStringLength||lA;for(;n&&s++<r&&(u=cA(n,f),!(u==="html"||s>1&&o+i.length*l+u.length>=p));)i.push(u),o+=u.length,n=n.parentNode;return i.reverse().join(a)}catch{return"<unknown>"}}function cA(e,t){const n=e,r=[];if(!n||!n.tagName)return"";if(yd.HTMLElement&&n instanceof HTMLElement&&n.dataset){if(n.dataset.sentryComponent)return n.dataset.sentryComponent;if(n.dataset.sentryElement)return n.dataset.sentryElement}r.push(n.tagName.toLowerCase());const i=t&&t.length?t.filter(o=>n.getAttribute(o)).map(o=>[o,n.getAttribute(o)]):null;if(i&&i.length)i.forEach(o=>{r.push(`[${o[0]}="${o[1]}"]`)});else{n.id&&r.push(`#${n.id}`);const o=n.className;if(o&&ra(o)){const a=o.split(/\s+/);for(const l of a)r.push(`.${l}`)}}const s=["aria-label","type","name","title","alt"];for(const o of s){const a=n.getAttribute(o);a&&r.push(`[${o}="${a}"]`)}return r.join("")}function o8(){try{return yd.document.location.href}catch{return""}}function uA(e){return yd.document&&yd.document.querySelector?yd.document.querySelector(e):null}function a8(e){if(!yd.HTMLElement)return null;let t=e;const n=5;for(let r=0;r<n;r++){if(!t)return null;if(t instanceof HTMLElement){if(t.dataset.sentryComponent)return t.dataset.sentryComponent;if(t.dataset.sentryElement)return t.dataset.sentryElement}t=t.parentNode}return null}function vd(e,t=0){return typeof e!="string"||t===0||e.length<=t?e:`${e.slice(0,t)}...`}function GS(e,t){if(!Array.isArray(e))return"";const n=[];for(let r=0;r<e.length;r++){const i=e[r];try{s8(i)?n.push("[VueViewModel]"):n.push(String(i))}catch{n.push("[value cannot be serialized]")}}return n.join(t)}function dA(e,t,n=!1){return ra(e)?oA(t)?t.test(e):ra(t)?n?e===t:e.includes(t):!1:!1}function nl(e,t=[],n=!1){return t.some(r=>dA(e,r,n))}function Oi(e,t,n){if(!(t in e))return;const r=e[t],i=n(r);typeof i=="function"&&l8(i,r);try{e[t]=i}catch{xl&&Ge.log(`Failed to replace method "${t}" in object`,e)}}function _s(e,t,n){try{Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}catch{xl&&Ge.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function l8(e,t){try{const n=t.prototype||{};e.prototype=t.prototype=n,_s(e,"__sentry_original__",t)}catch{}}function yw(e){return e.__sentry_original__}function c8(e){if(pw(e))return{message:e.message,name:e.name,stack:e.stack,...XS(e)};if(c1(e)){const t={type:e.type,target:YS(e.target),currentTarget:YS(e.currentTarget),...XS(e)};return typeof CustomEvent<"u"&&oa(e,CustomEvent)&&(t.detail=e.detail),t}else return e}function YS(e){try{return sA(e)?aa(e):Object.prototype.toString.call(e)}catch{return"<unknown>"}}function XS(e){if(typeof e=="object"&&e!==null){const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}else return{}}function fA(e,t=40){const n=Object.keys(c8(e));n.sort();const r=n[0];if(!r)return"[object has no keys]";if(r.length>=t)return vd(r,t);for(let i=n.length;i>0;i--){const s=n.slice(0,i).join(", ");if(!(s.length>t))return i===n.length?s:vd(s,t)}return""}function yr(e){return bb(e,new Map)}function bb(e,t){if(hA(e)){const n=t.get(e);if(n!==void 0)return n;const r={};t.set(e,r);for(const i of Object.getOwnPropertyNames(e))typeof e[i]<"u"&&(r[i]=bb(e[i],t));return r}if(Array.isArray(e)){const n=t.get(e);if(n!==void 0)return n;const r=[];return t.set(e,r),e.forEach(i=>{r.push(bb(i,t))}),r}return e}function hA(e){if(!_d(e))return!1;try{const t=Object.getPrototypeOf(e).constructor.name;return!t||t==="Object"}catch{return!0}}const u8=1e3;function cp(){return Date.now()/u8}function pA(){const{performance:e}=en;if(!e||!e.now)return cp;const t=Date.now()-e.now(),n=e.timeOrigin==null?t:e.timeOrigin;return()=>(n+e.now())/u8}const fi=pA(),pi=(()=>{const{performance:e}=en;if(!e||!e.now)return;const t=3600*1e3,n=e.now(),r=Date.now(),i=e.timeOrigin?Math.abs(e.timeOrigin+n-r):t,s=i<t,o=e.timing&&e.timing.navigationStart,l=typeof o=="number"?Math.abs(o+n-r):t,u=l<t;return s||u?i<=l?e.timeOrigin:o:r})();function Zi(){const e=en,t=e.crypto||e.msCrypto;let n=()=>Math.random()*16;try{if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,"");t&&t.getRandomValues&&(n=()=>{const r=new Uint8Array(1);return t.getRandomValues(r),r[0]})}catch{}return("10000000100040008000"+1e11).replace(/[018]/g,r=>(r^(n()&15)>>r/4).toString(16))}function d8(e){return e.exception&&e.exception.values?e.exception.values[0]:void 0}function Wa(e){const{message:t,event_id:n}=e;if(t)return t;const r=d8(e);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}function wb(e,t,n){const r=e.exception=e.exception||{},i=r.values=r.values||[],s=i[0]=i[0]||{};s.value||(s.value=t||""),s.type||(s.type="Error")}function Sd(e,t){const n=d8(e);if(!n)return;const r={type:"generic",handled:!0},i=n.mechanism;if(n.mechanism={...r,...i,...t},t&&"data"in t){const s={...i&&i.data,...t.data};n.mechanism.data=s}}function JS(e){if(mA(e))return!0;try{_s(e,"__sentry_captured__",!0)}catch{}return!1}function mA(e){try{return e.__sentry_captured__}catch{}}var Ko;(function(e){e[e.PENDING=0]="PENDING";const n=1;e[e.RESOLVED=n]="RESOLVED";const r=2;e[e.REJECTED=r]="REJECTED"})(Ko||(Ko={}));function la(e){return new vs(t=>{t(e)})}function v0(e){return new vs((t,n)=>{n(e)})}class vs{constructor(t){vs.prototype.__init.call(this),vs.prototype.__init2.call(this),vs.prototype.__init3.call(this),vs.prototype.__init4.call(this),this._state=Ko.PENDING,this._handlers=[];try{t(this._resolve,this._reject)}catch(n){this._reject(n)}}then(t,n){return new vs((r,i)=>{this._handlers.push([!1,s=>{if(!t)r(s);else try{r(t(s))}catch(o){i(o)}},s=>{if(!n)i(s);else try{r(n(s))}catch(o){i(o)}}]),this._executeHandlers()})}catch(t){return this.then(n=>n,t)}finally(t){return new vs((n,r)=>{let i,s;return this.then(o=>{s=!1,i=o,t&&t()},o=>{s=!0,i=o,t&&t()}).then(()=>{if(s){r(i);return}n(i)})})}__init(){this._resolve=t=>{this._setResult(Ko.RESOLVED,t)}}__init2(){this._reject=t=>{this._setResult(Ko.REJECTED,t)}}__init3(){this._setResult=(t,n)=>{if(this._state===Ko.PENDING){if(u1(n)){n.then(this._resolve,this._reject);return}this._state=t,this._value=n,this._executeHandlers()}}}__init4(){this._executeHandlers=()=>{if(this._state===Ko.PENDING)return;const t=this._handlers.slice();this._handlers=[],t.forEach(n=>{n[0]||(this._state===Ko.RESOLVED&&n[1](this._value),this._state===Ko.REJECTED&&n[2](this._value),n[0]=!0)})}}}function gA(e){const t=fi(),n={sid:Zi(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>vA(n)};return e&&Cd(n,e),n}function Cd(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),!e.did&&!t.did&&(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||fi(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=t.sid.length===32?t.sid:Zi()),t.init!==void 0&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),typeof t.started=="number"&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if(typeof t.duration=="number")e.duration=t.duration;else{const n=e.timestamp-e.started;e.duration=n>=0?n:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),typeof t.errors=="number"&&(e.errors=t.errors),t.status&&(e.status=t.status)}function yA(e,t){let n={};e.status==="ok"&&(n={status:"exited"}),Cd(e,n)}function vA(e){return yr({sid:`${e.sid}`,init:e.init,started:new Date(e.started*1e3).toISOString(),timestamp:new Date(e.timestamp*1e3).toISOString(),status:e.status,errors:e.errors,did:typeof e.did=="number"||typeof e.did=="string"?`${e.did}`:void 0,duration:e.duration,abnormal_mechanism:e.abnormal_mechanism,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}})}function al(){return Zi()}function ll(){return Zi().substring(16)}function d1(e,t,n=2){if(!t||typeof t!="object"||n<=0)return t;if(e&&t&&Object.keys(t).length===0)return e;const r={...e};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=d1(r[i],t[i],n-1));return r}const _b="_sentrySpan";function Lh(e,t){t?_s(e,_b,t):delete e[_b]}function x0(e){return e[_b]}const xA=100;class vw{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:al(),spanId:ll()}}clone(){const t=new vw;return t._breadcrumbs=[...this._breadcrumbs],t._tags={...this._tags},t._extra={...this._extra},t._contexts={...this._contexts},this._contexts.flags&&(t._contexts.flags={values:[...this._contexts.flags.values]}),t._user=this._user,t._level=this._level,t._session=this._session,t._transactionName=this._transactionName,t._fingerprint=this._fingerprint,t._eventProcessors=[...this._eventProcessors],t._requestSession=this._requestSession,t._attachments=[...this._attachments],t._sdkProcessingMetadata={...this._sdkProcessingMetadata},t._propagationContext={...this._propagationContext},t._client=this._client,t._lastEventId=this._lastEventId,Lh(t,x0(this)),t}setClient(t){this._client=t}setLastEventId(t){this._lastEventId=t}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&Cd(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(t){return this._requestSession=t,this}setTags(t){return this._tags={...this._tags,...t},this._notifyScopeListeners(),this}setTag(t,n){return this._tags={...this._tags,[t]:n},this._notifyScopeListeners(),this}setExtras(t){return this._extra={...this._extra,...t},this._notifyScopeListeners(),this}setExtra(t,n){return this._extra={...this._extra,[t]:n},this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,n){return n===null?delete this._contexts[t]:this._contexts[t]=n,this._notifyScopeListeners(),this}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;const n=typeof t=="function"?t(this):t,[r,i]=n instanceof cl?[n.getScopeData(),n.getRequestSession()]:_d(n)?[t,t.requestSession]:[],{tags:s,extra:o,user:a,contexts:l,level:u,fingerprint:f=[],propagationContext:p}=r||{};return this._tags={...this._tags,...s},this._extra={...this._extra,...o},this._contexts={...this._contexts,...l},a&&Object.keys(a).length&&(this._user=a),u&&(this._level=u),f.length&&(this._fingerprint=f),p&&(this._propagationContext=p),i&&(this._requestSession=i),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._session=void 0,Lh(this,void 0),this._attachments=[],this.setPropagationContext({traceId:al()}),this._notifyScopeListeners(),this}addBreadcrumb(t,n){const r=typeof n=="number"?n:xA;if(r<=0)return this;const i={timestamp:cp(),...t};return this._breadcrumbs.push(i),this._breadcrumbs.length>r&&(this._breadcrumbs=this._breadcrumbs.slice(-r),this._client&&this._client.recordDroppedEvent("buffer_overflow","log_item")),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:x0(this)}}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata=d1(this._sdkProcessingMetadata,t,2),this}setPropagationContext(t){return this._propagationContext={spanId:ll(),...t},this}getPropagationContext(){return this._propagationContext}captureException(t,n){const r=n&&n.event_id?n.event_id:Zi();if(!this._client)return Ge.warn("No client configured on scope - will not capture exception!"),r;const i=new Error("Sentry syntheticException");return this._client.captureException(t,{originalException:t,syntheticException:i,...n,event_id:r},this),r}captureMessage(t,n,r){const i=r&&r.event_id?r.event_id:Zi();if(!this._client)return Ge.warn("No client configured on scope - will not capture message!"),i;const s=new Error(t);return this._client.captureMessage(t,n,{originalException:t,syntheticException:s,...r,event_id:i},this),i}captureEvent(t,n){const r=n&&n.event_id?n.event_id:Zi();return this._client?(this._client.captureEvent(t,{...n,event_id:r},this),r):(Ge.warn("No client configured on scope - will not capture event!"),r)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(t=>{t(this)}),this._notifyingListeners=!1)}}const cl=vw;function bA(){return l1("defaultCurrentScope",()=>new cl)}function wA(){return l1("defaultIsolationScope",()=>new cl)}class _A{constructor(t,n){let r;t?r=t:r=new cl;let i;n?i=n:i=new cl,this._stack=[{scope:r}],this._isolationScope=i}withScope(t){const n=this._pushScope();let r;try{r=t(n)}catch(i){throw this._popScope(),i}return u1(r)?r.then(i=>(this._popScope(),i),i=>{throw this._popScope(),i}):(this._popScope(),r)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const t=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:t}),t}_popScope(){return this._stack.length<=1?!1:!!this._stack.pop()}}function kd(){const e=Hc(),t=hw(e);return t.stack=t.stack||new _A(bA(),wA())}function SA(e){return kd().withScope(e)}function CA(e,t){const n=kd();return n.withScope(()=>(n.getStackTop().scope=e,t(e)))}function ZS(e){return kd().withScope(()=>e(kd().getIsolationScope()))}function kA(){return{withIsolationScope:ZS,withScope:SA,withSetScope:CA,withSetIsolationScope:(e,t)=>ZS(t),getCurrentScope:()=>kd().getScope(),getIsolationScope:()=>kd().getIsolationScope()}}function $d(e){const t=hw(e);return t.acs?t.acs:kA()}function Pn(){const e=Hc();return $d(e).getCurrentScope()}function Zs(){const e=Hc();return $d(e).getIsolationScope()}function EA(){return l1("globalScope",()=>new cl)}function xw(...e){const t=Hc(),n=$d(t);if(e.length===2){const[r,i]=e;return r?n.withSetScope(r,i):n.withScope(i)}return n.withScope(e[0])}function Xt(){return Pn().getClient()}function TA(e){const t=e.getPropagationContext(),{traceId:n,spanId:r,parentSpanId:i}=t;return yr({trace_id:n,span_id:r,parent_span_id:i})}const jA="_sentryMetrics";function Sb(e){const t=e[jA];if(!t)return;const n={};for(const[,[r,i]]of t)(n[r]||(n[r]=[])).push(yr(i));return n}const po="sentry.source",f8="sentry.sample_rate",Mc="sentry.op",Rr="sentry.origin",Cb="sentry.idle_span_finish_reason",f1="sentry.measurement_unit",h1="sentry.measurement_value",e4="sentry.custom_span_name",NA="sentry.profile_id",bw="sentry.exclusive_time",IA=0,h8=1,Tr=2;function RA(e){if(e<400&&e>=100)return{code:h8};if(e>=400&&e<500)switch(e){case 401:return{code:Tr,message:"unauthenticated"};case 403:return{code:Tr,message:"permission_denied"};case 404:return{code:Tr,message:"not_found"};case 409:return{code:Tr,message:"already_exists"};case 413:return{code:Tr,message:"failed_precondition"};case 429:return{code:Tr,message:"resource_exhausted"};case 499:return{code:Tr,message:"cancelled"};default:return{code:Tr,message:"invalid_argument"}}if(e>=500&&e<600)switch(e){case 501:return{code:Tr,message:"unimplemented"};case 503:return{code:Tr,message:"unavailable"};case 504:return{code:Tr,message:"deadline_exceeded"};default:return{code:Tr,message:"internal_error"}}return{code:Tr,message:"unknown_error"}}function p8(e,t){e.setAttribute("http.response.status_code",t);const n=RA(t);n.message!=="unknown_error"&&e.setStatus(n)}const ww="sentry-",PA=/^sentry-/,OA=8192;function m8(e){const t=AA(e);if(!t)return;const n=Object.entries(t).reduce((r,[i,s])=>{if(i.match(PA)){const o=i.slice(ww.length);r[o]=s}return r},{});if(Object.keys(n).length>0)return n}function MA(e){if(!e)return;const t=Object.entries(e).reduce((n,[r,i])=>(i&&(n[`${ww}${r}`]=i),n),{});return DA(t)}function AA(e){if(!(!e||!ra(e)&&!Array.isArray(e)))return Array.isArray(e)?e.reduce((t,n)=>{const r=t4(n);return Object.entries(r).forEach(([i,s])=>{t[i]=s}),t},{}):t4(e)}function t4(e){return e.split(",").map(t=>t.split("=").map(n=>decodeURIComponent(n.trim()))).reduce((t,[n,r])=>(n&&r&&(t[n]=r),t),{})}function DA(e){if(Object.keys(e).length!==0)return Object.entries(e).reduce((t,[n,r],i)=>{const s=`${encodeURIComponent(n)}=${encodeURIComponent(r)}`,o=i===0?s:`${t},${s}`;return o.length>OA?(xl&&Ge.warn(`Not adding key: ${n} with val: ${r} to baggage header due to exceeding baggage size limits.`),t):o},"")}const g8=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function LA(e){if(!e)return;const t=e.match(g8);if(!t)return;let n;return t[3]==="1"?n=!0:t[3]==="0"&&(n=!1),{traceId:t[1],parentSampled:n,parentSpanId:t[2]}}function FA(e,t){const n=LA(e),r=m8(t);if(!n||!n.traceId)return{traceId:al(),spanId:ll()};const{traceId:i,parentSpanId:s,parentSampled:o}=n,a=ll();return{traceId:i,parentSpanId:s,spanId:a,sampled:o,dsc:r||{}}}function y8(e=al(),t=ll(),n){let r="";return n!==void 0&&(r=n?"-1":"-0"),`${e}-${t}${r}`}const v8=0,x8=1;let n4=!1;function BA(e){const{spanId:t,traceId:n}=e.spanContext(),{data:r,op:i,parent_span_id:s,status:o,origin:a}=fn(e);return yr({parent_span_id:s,span_id:t,trace_id:n,data:r,op:i,status:o,origin:a})}function zA(e){const{spanId:t,traceId:n,isRemote:r}=e.spanContext(),i=r?t:fn(e).parent_span_id,s=r?ll():t;return yr({parent_span_id:i,span_id:s,trace_id:n})}function $A(e){const{traceId:t,spanId:n}=e.spanContext(),r=Wc(e);return y8(t,n,r)}function Cc(e){return typeof e=="number"?r4(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?r4(e.getTime()):fi()}function r4(e){return e>9999999999?e/1e3:e}function fn(e){if(HA(e))return e.getSpanJSON();try{const{spanId:t,traceId:n}=e.spanContext();if(UA(e)){const{attributes:r,startTime:i,name:s,endTime:o,parentSpanId:a,status:l}=e;return yr({span_id:t,trace_id:n,data:r,description:s,parent_span_id:a,start_timestamp:Cc(i),timestamp:Cc(o)||void 0,status:b8(l),op:r[Mc],origin:r[Rr],_metrics_summary:Sb(e)})}return{span_id:t,trace_id:n}}catch{return{}}}function UA(e){const t=e;return!!t.attributes&&!!t.startTime&&!!t.name&&!!t.endTime&&!!t.status}function HA(e){return typeof e.getSpanJSON=="function"}function Wc(e){const{traceFlags:t}=e.spanContext();return t===x8}function b8(e){if(!(!e||e.code===IA))return e.code===h8?"ok":e.message||"unknown_error"}const kc="_sentryChildSpans",kb="_sentryRootSpan";function w8(e,t){const n=e[kb]||e;_s(t,kb,n),e[kc]?e[kc].add(t):_s(e,kc,new Set([t]))}function WA(e,t){e[kc]&&e[kc].delete(t)}function Jg(e){const t=new Set;function n(r){if(!t.has(r)&&Wc(r)){t.add(r);const i=r[kc]?Array.from(r[kc]):[];for(const s of i)n(s)}}return n(e),Array.from(t)}function Dr(e){return e[kb]||e}function Pr(){const e=Hc(),t=$d(e);return t.getActiveSpan?t.getActiveSpan():x0(Pn())}function _8(){n4||(bl(()=>{console.warn("[Sentry] Deprecation warning: Returning null from `beforeSendSpan` will be disallowed from SDK version 9.0.0 onwards. The callback will only support mutating spans. To drop certain spans, configure the respective integrations directly.")}),n4=!0)}let i4=!1;function qA(){i4||(i4=!0,t8(Eb),n8(Eb))}function Eb(){const e=Pr(),t=e&&Dr(e);if(t){const n="internal_error";At&&Ge.log(`[Tracing] Root span: ${n} -> Global error occurred`),t.setStatus({code:Tr,message:n})}}Eb.tag="sentry_tracingErrorCallback";const S8="_sentryScope",C8="_sentryIsolationScope";function VA(e,t,n){e&&(_s(e,C8,n),_s(e,S8,t))}function s4(e){return{scope:e[S8],isolationScope:e[C8]}}function ul(e){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;const t=Xt(),n=e||t&&t.getOptions();return!!n&&(n.enableTracing||"tracesSampleRate"in n||"tracesSampler"in n)}class Ud{constructor(t={}){this._traceId=t.traceId||al(),this._spanId=t.spanId||ll()}spanContext(){return{spanId:this._spanId,traceId:this._traceId,traceFlags:v8}}end(t){}setAttribute(t,n){return this}setAttributes(t){return this}setStatus(t){return this}updateName(t){return this}isRecording(){return!1}addEvent(t,n,r){return this}addLink(t){return this}addLinks(t){return this}recordException(t,n){}}const _w="production",k8="_frozenDsc";function o4(e,t){_s(e,k8,t)}function E8(e,t){const n=t.getOptions(),{publicKey:r}=t.getDsn()||{},i=yr({environment:n.environment||_w,release:n.release,public_key:r,trace_id:e});return t.emit("createDsc",i),i}function T8(e,t){const n=t.getPropagationContext();return n.dsc||E8(n.traceId,e)}function qc(e){const t=Xt();if(!t)return{};const n=Dr(e),r=n[k8];if(r)return r;const i=n.spanContext().traceState,s=i&&i.get("sentry.dsc"),o=s&&m8(s);if(o)return o;const a=E8(e.spanContext().traceId,t),l=fn(n),u=l.data||{},f=u[f8];f!=null&&(a.sample_rate=`${f}`);const p=u[po],g=l.description;return p!=="url"&&g&&(a.transaction=g),ul()&&(a.sampled=String(Wc(n))),t.emit("createDsc",a,n),a}function QA(e){if(!At)return;const{description:t="< unknown name >",op:n="< unknown op >",parent_span_id:r}=fn(e),{spanId:i}=e.spanContext(),s=Wc(e),o=Dr(e),a=o===e,l=`[Tracing] Starting ${s?"sampled":"unsampled"} ${a?"root ":""}span`,u=[`op: ${n}`,`name: ${t}`,`ID: ${i}`];if(r&&u.push(`parent ID: ${r}`),!a){const{op:f,description:p}=fn(o);u.push(`root ID: ${o.spanContext().spanId}`),f&&u.push(`root op: ${f}`),p&&u.push(`root description: ${p}`)}Ge.log(`${l}
  ${u.join(`
  `)}`)}function KA(e){if(!At)return;const{description:t="< unknown name >",op:n="< unknown op >"}=fn(e),{spanId:r}=e.spanContext(),s=Dr(e)===e,o=`[Tracing] Finishing "${n}" ${s?"root ":""}span "${t}" with ID ${r}`;Ge.log(o)}function b0(e){if(typeof e=="boolean")return Number(e);const t=typeof e=="string"?parseFloat(e):e;if(typeof t!="number"||isNaN(t)||t<0||t>1){At&&Ge.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(e)} of type ${JSON.stringify(typeof e)}.`);return}return t}function GA(e,t){if(!ul(e))return[!1];const n=Zs().getScopeData().sdkProcessingMetadata.normalizedRequest,r={...t,normalizedRequest:t.normalizedRequest||n};let i;typeof e.tracesSampler=="function"?i=e.tracesSampler(r):r.parentSampled!==void 0?i=r.parentSampled:typeof e.tracesSampleRate<"u"?i=e.tracesSampleRate:i=1;const s=b0(i);return s===void 0?(At&&Ge.warn("[Tracing] Discarding transaction because of invalid sample rate."),[!1]):s?Math.random()<s?[!0,s]:(At&&Ge.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(i)})`),[!1,s]):(At&&Ge.log(`[Tracing] Discarding transaction because ${typeof e.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),[!1,s])}const YA=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function XA(e){return e==="http"||e==="https"}function up(e,t=!1){const{host:n,path:r,pass:i,port:s,projectId:o,protocol:a,publicKey:l}=e;return`${a}://${l}${t&&i?`:${i}`:""}@${n}${s?`:${s}`:""}/${r&&`${r}/`}${o}`}function JA(e){const t=YA.exec(e);if(!t){bl(()=>{console.error(`Invalid Sentry Dsn: ${e}`)});return}const[n,r,i="",s="",o="",a=""]=t.slice(1);let l="",u=a;const f=u.split("/");if(f.length>1&&(l=f.slice(0,-1).join("/"),u=f.pop()),u){const p=u.match(/^\d+/);p&&(u=p[0])}return j8({host:s,pass:i,path:l,projectId:u,port:o,protocol:n,publicKey:r})}function j8(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function ZA(e){if(!xl)return!0;const{port:t,projectId:n,protocol:r}=e;return["protocol","publicKey","host","projectId"].find(o=>e[o]?!1:(Ge.error(`Invalid Sentry Dsn: ${o} missing`),!0))?!1:n.match(/^\d+$/)?XA(r)?t&&isNaN(parseInt(t,10))?(Ge.error(`Invalid Sentry Dsn: Invalid port ${t}`),!1):!0:(Ge.error(`Invalid Sentry Dsn: Invalid protocol ${r}`),!1):(Ge.error(`Invalid Sentry Dsn: Invalid projectId ${n}`),!1)}function eD(e){const t=typeof e=="string"?JA(e):j8(e);if(!(!t||!ZA(t)))return t}function tD(){const e=typeof WeakSet=="function",t=e?new WeakSet:[];function n(i){if(e)return t.has(i)?!0:(t.add(i),!1);for(let s=0;s<t.length;s++)if(t[s]===i)return!0;return t.push(i),!1}function r(i){if(e)t.delete(i);else for(let s=0;s<t.length;s++)if(t[s]===i){t.splice(s,1);break}}return[n,r]}function Us(e,t=100,n=1/0){try{return Tb("",e,t,n)}catch(r){return{ERROR:`**non-serializable** (${r})`}}}function N8(e,t=3,n=100*1024){const r=Us(e,t);return sD(r)>n?N8(e,t-1,n):r}function Tb(e,t,n=1/0,r=1/0,i=tD()){const[s,o]=i;if(t==null||["boolean","string"].includes(typeof t)||typeof t=="number"&&Number.isFinite(t))return t;const a=nD(e,t);if(!a.startsWith("[object "))return a;if(t.__sentry_skip_normalization__)return t;const l=typeof t.__sentry_override_normalization_depth__=="number"?t.__sentry_override_normalization_depth__:n;if(l===0)return a.replace("object ","");if(s(t))return"[Circular ~]";const u=t;if(u&&typeof u.toJSON=="function")try{const y=u.toJSON();return Tb("",y,l-1,r,i)}catch{}const f=Array.isArray(t)?[]:{};let p=0;const g=c8(t);for(const y in g){if(!Object.prototype.hasOwnProperty.call(g,y))continue;if(p>=r){f[y]="[MaxProperties ~]";break}const b=g[y];f[y]=Tb(y,b,l-1,r,i),p++}return o(t),f}function nD(e,t){try{if(e==="domain"&&t&&typeof t=="object"&&t._events)return"[Domain]";if(e==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&t===global)return"[Global]";if(typeof window<"u"&&t===window)return"[Window]";if(typeof document<"u"&&t===document)return"[Document]";if(s8(t))return"[VueViewModel]";if(aA(t))return"[SyntheticEvent]";if(typeof t=="number"&&!Number.isFinite(t))return`[${t}]`;if(typeof t=="function")return`[Function: ${sa(t)}]`;if(typeof t=="symbol")return`[${String(t)}]`;if(typeof t=="bigint")return`[BigInt: ${String(t)}]`;const n=rD(t);return/^HTML(\w*)Element$/.test(n)?`[HTMLElement: ${n}]`:`[object ${n}]`}catch(n){return`**non-serializable** (${n})`}}function rD(e){const t=Object.getPrototypeOf(e);return t?t.constructor.name:"null prototype"}function iD(e){return~-encodeURI(e).split(/%..|./).length}function sD(e){return iD(JSON.stringify(e))}function Vc(e,t=[]){return[e,t]}function oD(e,t){const[n,r]=e;return[n,[...r,t]]}function a4(e,t){const n=e[1];for(const r of n){const i=r[0].type;if(t(r,i))return!0}return!1}function jb(e){return en.__SENTRY__&&en.__SENTRY__.encodePolyfill?en.__SENTRY__.encodePolyfill(e):new TextEncoder().encode(e)}function aD(e){const[t,n]=e;let r=JSON.stringify(t);function i(s){typeof r=="string"?r=typeof s=="string"?r+s:[jb(r),s]:r.push(typeof s=="string"?jb(s):s)}for(const s of n){const[o,a]=s;if(i(`
${JSON.stringify(o)}
`),typeof a=="string"||a instanceof Uint8Array)i(a);else{let l;try{l=JSON.stringify(a)}catch{l=JSON.stringify(Us(a))}i(l)}}return typeof r=="string"?r:lD(r)}function lD(e){const t=e.reduce((i,s)=>i+s.length,0),n=new Uint8Array(t);let r=0;for(const i of e)n.set(i,r),r+=i.length;return n}function cD(e){return[{type:"span"},e]}function uD(e){const t=typeof e.data=="string"?jb(e.data):e.data;return[yr({type:"attachment",length:t.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType}),t]}const dD={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"metric_bucket",raw_security:"security"};function l4(e){return dD[e]}function Sw(e){if(!e||!e.sdk)return;const{name:t,version:n}=e.sdk;return{name:t,version:n}}function I8(e,t,n,r){const i=e.sdkProcessingMetadata&&e.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:e.event_id,sent_at:new Date().toISOString(),...t&&{sdk:t},...!!n&&r&&{dsn:up(r)},...i&&{trace:yr({...i})}}}function fD(e,t){return t&&(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||t.name,e.sdk.version=e.sdk.version||t.version,e.sdk.integrations=[...e.sdk.integrations||[],...t.integrations||[]],e.sdk.packages=[...e.sdk.packages||[],...t.packages||[]]),e}function hD(e,t,n,r){const i=Sw(n),s={sent_at:new Date().toISOString(),...i&&{sdk:i},...!!r&&t&&{dsn:up(t)}},o="aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e.toJSON()];return Vc(s,[o])}function pD(e,t,n,r){const i=Sw(n),s=e.type&&e.type!=="replay_event"?e.type:"event";fD(e,n&&n.sdk);const o=I8(e,i,r,t);return delete e.sdkProcessingMetadata,Vc(o,[[{type:s},e]])}function mD(e,t){function n(f){return!!f.trace_id&&!!f.public_key}const r=qc(e[0]),i=t&&t.getDsn(),s=t&&t.getOptions().tunnel,o={sent_at:new Date().toISOString(),...n(r)&&{trace:r},...!!s&&i&&{dsn:up(i)}},a=t&&t.getOptions().beforeSendSpan,l=a?f=>{const p=a(fn(f));return p||_8(),p}:f=>fn(f),u=[];for(const f of e){const p=l(f);p&&u.push(cD(p))}return Vc(o,u)}function gD(e,t,n,r=Pr()){const i=r&&Dr(r);i&&(At&&Ge.log(`[Measurement] Setting measurement on root span: ${e} = ${t} ${n}`),i.addEvent(e,{[h1]:t,[f1]:n}))}function c4(e){if(!e||e.length===0)return;const t={};return e.forEach(n=>{const r=n.attributes||{},i=r[f1],s=r[h1];typeof i=="string"&&typeof s=="number"&&(t[n.name]={value:s,unit:i})}),t}const u4=1e3;class Cw{constructor(t={}){this._traceId=t.traceId||al(),this._spanId=t.spanId||ll(),this._startTime=t.startTimestamp||fi(),this._attributes={},this.setAttributes({[Rr]:"manual",[Mc]:t.op,...t.attributes}),this._name=t.name,t.parentSpanId&&(this._parentSpanId=t.parentSpanId),"sampled"in t&&(this._sampled=t.sampled),t.endTimestamp&&(this._endTime=t.endTimestamp),this._events=[],this._isStandaloneSpan=t.isStandalone,this._endTime&&this._onSpanEnded()}addLink(t){return this}addLinks(t){return this}recordException(t,n){}spanContext(){const{_spanId:t,_traceId:n,_sampled:r}=this;return{spanId:t,traceId:n,traceFlags:r?x8:v8}}setAttribute(t,n){return n===void 0?delete this._attributes[t]:this._attributes[t]=n,this}setAttributes(t){return Object.keys(t).forEach(n=>this.setAttribute(n,t[n])),this}updateStartTime(t){this._startTime=Cc(t)}setStatus(t){return this._status=t,this}updateName(t){return this._name=t,this.setAttribute(po,"custom"),this}end(t){this._endTime||(this._endTime=Cc(t),KA(this),this._onSpanEnded())}getSpanJSON(){return yr({data:this._attributes,description:this._name,op:this._attributes[Mc],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:b8(this._status),timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[Rr],_metrics_summary:Sb(this),profile_id:this._attributes[NA],exclusive_time:this._attributes[bw],measurements:c4(this._events),is_segment:this._isStandaloneSpan&&Dr(this)===this||void 0,segment_id:this._isStandaloneSpan?Dr(this).spanContext().spanId:void 0})}isRecording(){return!this._endTime&&!!this._sampled}addEvent(t,n,r){At&&Ge.log("[Tracing] Adding an event to span:",t);const i=d4(n)?n:r||fi(),s=d4(n)?{}:n||{},o={name:t,time:Cc(i),attributes:s};return this._events.push(o),this}isStandaloneSpan(){return!!this._isStandaloneSpan}_onSpanEnded(){const t=Xt();if(t&&t.emit("spanEnd",this),!(this._isStandaloneSpan||this===Dr(this)))return;if(this._isStandaloneSpan){this._sampled?vD(mD([this],t)):(At&&Ge.log("[Tracing] Discarding standalone span because its trace was not chosen to be sampled."),t&&t.recordDroppedEvent("sample_rate","span"));return}const r=this._convertSpanToTransaction();r&&(s4(this).scope||Pn()).captureEvent(r)}_convertSpanToTransaction(){if(!f4(fn(this)))return;this._name||(At&&Ge.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>");const{scope:t,isolationScope:n}=s4(this),i=(t||Pn()).getClient()||Xt();if(this._sampled!==!0){At&&Ge.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled."),i&&i.recordDroppedEvent("sample_rate","transaction");return}const o=Jg(this).filter(p=>p!==this&&!yD(p)).map(p=>fn(p)).filter(f4),a=this._attributes[po];delete this._attributes[e4],o.forEach(p=>{p.data&&delete p.data[e4]});const l={contexts:{trace:BA(this)},spans:o.length>u4?o.sort((p,g)=>p.start_timestamp-g.start_timestamp).slice(0,u4):o,start_timestamp:this._startTime,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{capturedSpanScope:t,capturedSpanIsolationScope:n,...yr({dynamicSamplingContext:qc(this)})},_metrics_summary:Sb(this),...a&&{transaction_info:{source:a}}},u=c4(this._events);return u&&Object.keys(u).length&&(At&&Ge.log("[Measurements] Adding measurements to transaction event",JSON.stringify(u,void 0,2)),l.measurements=u),l}}function d4(e){return e&&typeof e=="number"||e instanceof Date||Array.isArray(e)}function f4(e){return!!e.start_timestamp&&!!e.timestamp&&!!e.span_id&&!!e.trace_id}function yD(e){return e instanceof Cw&&e.isStandaloneSpan()}function vD(e){const t=Xt();if(!t)return;const n=e[1];if(!n||n.length===0){t.recordDroppedEvent("before_send","span");return}t.sendEnvelope(e)}const R8="__SENTRY_SUPPRESS_TRACING__";function dp(e){const t=O8();if(t.startInactiveSpan)return t.startInactiveSpan(e);const n=bD(e),{forceTransaction:r,parentSpan:i}=e;return(e.scope?o=>xw(e.scope,o):i!==void 0?o=>P8(i,o):o=>o())(()=>{const o=Pn(),a=_D(o);return e.onlyIfParent&&!a?new Ud:xD({parentSpan:a,spanArguments:n,forceTransaction:r,scope:o})})}function P8(e,t){const n=O8();return n.withActiveSpan?n.withActiveSpan(e,t):xw(r=>(Lh(r,e||void 0),t(r)))}function xD({parentSpan:e,spanArguments:t,forceTransaction:n,scope:r}){if(!ul())return new Ud;const i=Zs();let s;if(e&&!n)s=wD(e,r,t),w8(e,s);else if(e){const o=qc(e),{traceId:a,spanId:l}=e.spanContext(),u=Wc(e);s=h4({traceId:a,parentSpanId:l,...t},r,u),o4(s,o)}else{const{traceId:o,dsc:a,parentSpanId:l,sampled:u}={...i.getPropagationContext(),...r.getPropagationContext()};s=h4({traceId:o,parentSpanId:l,...t},r,u),a&&o4(s,a)}return QA(s),VA(s,r,i),s}function bD(e){const n={isStandalone:(e.experimental||{}).standalone,...e};if(e.startTime){const r={...n};return r.startTimestamp=Cc(e.startTime),delete r.startTime,r}return n}function O8(){const e=Hc();return $d(e)}function h4(e,t,n){const r=Xt(),i=r&&r.getOptions()||{},{name:s="",attributes:o}=e,[a,l]=t.getScopeData().sdkProcessingMetadata[R8]?[!1]:GA(i,{name:s,parentSampled:n,attributes:o,transactionContext:{name:s,parentSampled:n}}),u=new Cw({...e,attributes:{[po]:"custom",...e.attributes},sampled:a});return l!==void 0&&u.setAttribute(f8,l),r&&r.emit("spanStart",u),u}function wD(e,t,n){const{spanId:r,traceId:i}=e.spanContext(),s=t.getScopeData().sdkProcessingMetadata[R8]?!1:Wc(e),o=s?new Cw({...n,parentSpanId:r,traceId:i,sampled:s}):new Ud({traceId:i});w8(e,o);const a=Xt();return a&&(a.emit("spanStart",o),n.endTimestamp&&a.emit("spanEnd",o)),o}function _D(e){const t=x0(e);if(!t)return;const n=Xt();return(n?n.getOptions():{}).parentSpanIsAlwaysRootSpan?Dr(t):t}const Zg={idleTimeout:1e3,finalTimeout:3e4,childSpanTimeout:15e3},SD="heartbeatFailed",CD="idleTimeout",kD="finalTimeout",ED="externalFinish";function M8(e,t={}){const n=new Map;let r=!1,i,s=ED,o=!t.disableAutoFinish;const a=[],{idleTimeout:l=Zg.idleTimeout,finalTimeout:u=Zg.finalTimeout,childSpanTimeout:f=Zg.childSpanTimeout,beforeSpanEnd:p}=t,g=Xt();if(!g||!ul())return new Ud;const y=Pn(),b=Pr(),_=TD(e);_.end=new Proxy(_.end,{apply(j,A,B){p&&p(_);const[U,...D]=B,Z=U||fi(),X=Cc(Z),re=Jg(_).filter(ee=>ee!==_);if(!re.length)return z(X),Reflect.apply(j,A,[X,...D]);const V=re.map(ee=>fn(ee).timestamp).filter(ee=>!!ee),q=V.length?Math.max(...V):void 0,Q=fn(_).start_timestamp,ne=Math.min(Q?Q+u/1e3:1/0,Math.max(Q||-1/0,Math.min(X,q||1/0)));return z(ne),Reflect.apply(j,A,[ne,...D])}});function C(){i&&(clearTimeout(i),i=void 0)}function k(j){C(),i=setTimeout(()=>{!r&&n.size===0&&o&&(s=CD,_.end(j))},l)}function R(j){i=setTimeout(()=>{!r&&o&&(s=SD,_.end(j))},f)}function O(j){C(),n.set(j,!0);const A=fi();R(A+f/1e3)}function $(j){if(n.has(j)&&n.delete(j),n.size===0){const A=fi();k(A+l/1e3)}}function z(j){r=!0,n.clear(),a.forEach(X=>X()),Lh(y,b);const A=fn(_),{start_timestamp:B}=A;if(!B)return;(A.data||{})[Cb]||_.setAttribute(Cb,s),Ge.log(`[Tracing] Idle span "${A.op}" finished`);const D=Jg(_).filter(X=>X!==_);let Z=0;D.forEach(X=>{X.isRecording()&&(X.setStatus({code:Tr,message:"cancelled"}),X.end(j),At&&Ge.log("[Tracing] Cancelling span since span ended early",JSON.stringify(X,void 0,2)));const re=fn(X),{timestamp:V=0,start_timestamp:q=0}=re,Q=q<=j,ne=(u+l)/1e3,ee=V-q<=ne;if(At){const fe=JSON.stringify(X,void 0,2);Q?ee||Ge.log("[Tracing] Discarding span since it finished after idle span final timeout",fe):Ge.log("[Tracing] Discarding span since it happened after idle span was finished",fe)}(!ee||!Q)&&(WA(_,X),Z++)}),Z>0&&_.setAttribute("sentry.idle_span_discarded_spans",Z)}return a.push(g.on("spanStart",j=>{if(r||j===_||fn(j).timestamp)return;Jg(_).includes(j)&&O(j.spanContext().spanId)})),a.push(g.on("spanEnd",j=>{r||$(j.spanContext().spanId)})),a.push(g.on("idleSpanEnableAutoFinish",j=>{j===_&&(o=!0,k(),n.size&&R())})),t.disableAutoFinish||k(),setTimeout(()=>{r||(_.setStatus({code:Tr,message:"deadline_exceeded"}),s=kD,_.end())},u),_}function TD(e){const t=dp(e);return Lh(Pn(),t),At&&Ge.log("[Tracing] Started span is an idle span"),t}function Nb(e,t,n,r=0){return new vs((i,s)=>{const o=e[r];if(t===null||typeof o!="function")i(t);else{const a=o({...t},n);At&&o.id&&a===null&&Ge.log(`Event processor "${o.id}" dropped event`),u1(a)?a.then(l=>Nb(e,l,n,r+1).then(i)).then(null,s):Nb(e,a,n,r+1).then(i).then(null,s)}})}let Km,p4,Gm;function jD(e){const t=en._sentryDebugIds;if(!t)return{};const n=Object.keys(t);return Gm&&n.length===p4||(p4=n.length,Gm=n.reduce((r,i)=>{Km||(Km={});const s=Km[i];if(s)r[s[0]]=s[1];else{const o=e(i);for(let a=o.length-1;a>=0;a--){const l=o[a],u=l&&l.filename,f=t[i];if(u&&f){r[u]=f,Km[i]=[u,f];break}}}return r},{})),Gm}function ND(e,t){const{fingerprint:n,span:r,breadcrumbs:i,sdkProcessingMetadata:s}=t;ID(e,t),r&&OD(e,r),MD(e,n),RD(e,i),PD(e,s)}function m4(e,t){const{extra:n,tags:r,user:i,contexts:s,level:o,sdkProcessingMetadata:a,breadcrumbs:l,fingerprint:u,eventProcessors:f,attachments:p,propagationContext:g,transactionName:y,span:b}=t;Ym(e,"extra",n),Ym(e,"tags",r),Ym(e,"user",i),Ym(e,"contexts",s),e.sdkProcessingMetadata=d1(e.sdkProcessingMetadata,a,2),o&&(e.level=o),y&&(e.transactionName=y),b&&(e.span=b),l.length&&(e.breadcrumbs=[...e.breadcrumbs,...l]),u.length&&(e.fingerprint=[...e.fingerprint,...u]),f.length&&(e.eventProcessors=[...e.eventProcessors,...f]),p.length&&(e.attachments=[...e.attachments,...p]),e.propagationContext={...e.propagationContext,...g}}function Ym(e,t,n){e[t]=d1(e[t],n,1)}function ID(e,t){const{extra:n,tags:r,user:i,contexts:s,level:o,transactionName:a}=t,l=yr(n);l&&Object.keys(l).length&&(e.extra={...l,...e.extra});const u=yr(r);u&&Object.keys(u).length&&(e.tags={...u,...e.tags});const f=yr(i);f&&Object.keys(f).length&&(e.user={...f,...e.user});const p=yr(s);p&&Object.keys(p).length&&(e.contexts={...p,...e.contexts}),o&&(e.level=o),a&&e.type!=="transaction"&&(e.transaction=a)}function RD(e,t){const n=[...e.breadcrumbs||[],...t];e.breadcrumbs=n.length?n:void 0}function PD(e,t){e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...t}}function OD(e,t){e.contexts={trace:zA(t),...e.contexts},e.sdkProcessingMetadata={dynamicSamplingContext:qc(t),...e.sdkProcessingMetadata};const n=Dr(t),r=fn(n).description;r&&!e.transaction&&e.type==="transaction"&&(e.transaction=r)}function MD(e,t){e.fingerprint=e.fingerprint?Array.isArray(e.fingerprint)?e.fingerprint:[e.fingerprint]:[],t&&(e.fingerprint=e.fingerprint.concat(t)),e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint}function A8(e,t,n,r,i,s){const{normalizeDepth:o=3,normalizeMaxBreadth:a=1e3}=e,l={...t,event_id:t.event_id||n.event_id||Zi(),timestamp:t.timestamp||cp()},u=n.integrations||e.integrations.map(C=>C.name);AD(l,e),FD(l,u),i&&i.emit("applyFrameMetadata",t),t.type===void 0&&DD(l,e.stackParser);const f=zD(r,n.captureContext);n.mechanism&&Sd(l,n.mechanism);const p=i?i.getEventProcessors():[],g=EA().getScopeData();if(s){const C=s.getScopeData();m4(g,C)}if(f){const C=f.getScopeData();m4(g,C)}const y=[...n.attachments||[],...g.attachments];y.length&&(n.attachments=y),ND(l,g);const b=[...p,...g.eventProcessors];return Nb(b,l,n).then(C=>(C&&LD(C),typeof o=="number"&&o>0?BD(C,o,a):C))}function AD(e,t){const{environment:n,release:r,dist:i,maxValueLength:s=250}=t;e.environment=e.environment||n||_w,!e.release&&r&&(e.release=r),!e.dist&&i&&(e.dist=i),e.message&&(e.message=vd(e.message,s));const o=e.exception&&e.exception.values&&e.exception.values[0];o&&o.value&&(o.value=vd(o.value,s));const a=e.request;a&&a.url&&(a.url=vd(a.url,s))}function DD(e,t){const n=jD(t);try{e.exception.values.forEach(r=>{r.stacktrace.frames.forEach(i=>{n&&i.filename&&(i.debug_id=n[i.filename])})})}catch{}}function LD(e){const t={};try{e.exception.values.forEach(r=>{r.stacktrace.frames.forEach(i=>{i.debug_id&&(i.abs_path?t[i.abs_path]=i.debug_id:i.filename&&(t[i.filename]=i.debug_id),delete i.debug_id)})})}catch{}if(Object.keys(t).length===0)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];const n=e.debug_meta.images;Object.entries(t).forEach(([r,i])=>{n.push({type:"sourcemap",code_file:r,debug_id:i})})}function FD(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}function BD(e,t,n){if(!e)return null;const r={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map(i=>({...i,...i.data&&{data:Us(i.data,t,n)}}))},...e.user&&{user:Us(e.user,t,n)},...e.contexts&&{contexts:Us(e.contexts,t,n)},...e.extra&&{extra:Us(e.extra,t,n)}};return e.contexts&&e.contexts.trace&&r.contexts&&(r.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(r.contexts.trace.data=Us(e.contexts.trace.data,t,n))),e.spans&&(r.spans=e.spans.map(i=>({...i,...i.data&&{data:Us(i.data,t,n)}}))),e.contexts&&e.contexts.flags&&r.contexts&&(r.contexts.flags=Us(e.contexts.flags,3,n)),r}function zD(e,t){if(!t)return e;const n=e?e.clone():new cl;return n.update(t),n}function $D(e){if(e)return UD(e)?{captureContext:e}:WD(e)?{captureContext:e}:e}function UD(e){return e instanceof cl||typeof e=="function"}const HD=["user","level","extra","contexts","tags","fingerprint","requestSession","propagationContext"];function WD(e){return Object.keys(e).some(t=>HD.includes(t))}function kw(e,t){return Pn().captureException(e,$D(t))}function D8(e,t){return Pn().captureEvent(e,t)}function L8(e,t){Zs().setContext(e,t)}function qD(){const e=Xt();return!!e&&e.getOptions().enabled!==!1&&!!e.getTransport()}function VD(e){Zs().addEventProcessor(e)}function g4(e){const t=Xt(),n=Zs(),r=Pn(),{release:i,environment:s=_w}=t&&t.getOptions()||{},{userAgent:o}=en.navigator||{},a=gA({release:i,environment:s,user:r.getUser()||n.getUser(),...o&&{userAgent:o},...e}),l=n.getSession();return l&&l.status==="ok"&&Cd(l,{status:"exited"}),F8(),n.setSession(a),r.setSession(a),a}function F8(){const e=Zs(),t=Pn(),n=t.getSession()||e.getSession();n&&yA(n),B8(),e.setSession(),t.setSession()}function B8(){const e=Zs(),t=Pn(),n=Xt(),r=t.getSession()||e.getSession();r&&n&&n.captureSession(r)}function y4(e=!1){if(e){F8();return}B8()}const QD="7";function KD(e){const t=e.protocol?`${e.protocol}:`:"",n=e.port?`:${e.port}`:"";return`${t}//${e.host}${n}${e.path?`/${e.path}`:""}/api/`}function GD(e){return`${KD(e)}${e.projectId}/envelope/`}function YD(e,t){const n={sentry_version:QD};return e.publicKey&&(n.sentry_key=e.publicKey),t&&(n.sentry_client=`${t.name}/${t.version}`),new URLSearchParams(n).toString()}function XD(e,t,n){return t||`${GD(e)}?${YD(e,n)}`}const v4=[];function JD(e){const t={};return e.forEach(n=>{const{name:r}=n,i=t[r];i&&!i.isDefaultInstance&&n.isDefaultInstance||(t[r]=n)}),Object.values(t)}function ZD(e){const t=e.defaultIntegrations||[],n=e.integrations;t.forEach(o=>{o.isDefaultInstance=!0});let r;if(Array.isArray(n))r=[...t,...n];else if(typeof n=="function"){const o=n(t);r=Array.isArray(o)?o:[o]}else r=t;const i=JD(r),s=i.findIndex(o=>o.name==="Debug");if(s>-1){const[o]=i.splice(s,1);i.push(o)}return i}function eL(e,t){const n={};return t.forEach(r=>{r&&z8(e,r,n)}),n}function x4(e,t){for(const n of t)n&&n.afterAllSetup&&n.afterAllSetup(e)}function z8(e,t,n){if(n[t.name]){At&&Ge.log(`Integration skipped because it was already installed: ${t.name}`);return}if(n[t.name]=t,v4.indexOf(t.name)===-1&&typeof t.setupOnce=="function"&&(t.setupOnce(),v4.push(t.name)),t.setup&&typeof t.setup=="function"&&t.setup(e),typeof t.preprocessEvent=="function"){const r=t.preprocessEvent.bind(t);e.on("preprocessEvent",(i,s)=>r(i,s,e))}if(typeof t.processEvent=="function"){const r=t.processEvent.bind(t),i=Object.assign((s,o)=>r(s,o,e),{id:t.name});e.addEventProcessor(i)}At&&Ge.log(`Integration installed: ${t.name}`)}function tL(e,t,n){const r=[{type:"client_report"},{timestamp:cp(),discarded_events:e}];return Vc(t?{dsn:t}:{},[r])}class Ws extends Error{constructor(t,n="warn"){super(t),this.message=t,this.logLevel=n}}const b4="Not capturing exception because it's already been captured.";class nL{constructor(t){if(this._options=t,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],t.dsn?this._dsn=eD(t.dsn):At&&Ge.warn("No DSN provided, client will not send events."),this._dsn){const i=XD(this._dsn,t.tunnel,t._metadata?t._metadata.sdk:void 0);this._transport=t.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...t.transportOptions,url:i})}const r=["enableTracing","tracesSampleRate","tracesSampler"].find(i=>i in t&&t[i]==null);r&&bl(()=>{console.warn(`[Sentry] Deprecation warning: \`${r}\` is set to undefined, which leads to tracing being enabled. In v9, a value of \`undefined\` will result in tracing being disabled.`)})}captureException(t,n,r){const i=Zi();if(JS(t))return At&&Ge.log(b4),i;const s={event_id:i,...n};return this._process(this.eventFromException(t,s).then(o=>this._captureEvent(o,s,r))),s.event_id}captureMessage(t,n,r,i){const s={event_id:Zi(),...r},o=mw(t)?t:String(t),a=gw(t)?this.eventFromMessage(o,n,s):this.eventFromException(t,s);return this._process(a.then(l=>this._captureEvent(l,s,i))),s.event_id}captureEvent(t,n,r){const i=Zi();if(n&&n.originalException&&JS(n.originalException))return At&&Ge.log(b4),i;const s={event_id:i,...n},a=(t.sdkProcessingMetadata||{}).capturedSpanScope;return this._process(this._captureEvent(t,s,a||r)),s.event_id}captureSession(t){typeof t.release!="string"?At&&Ge.warn("Discarded session because of missing or non-string release"):(this.sendSession(t),Cd(t,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(t){const n=this._transport;return n?(this.emit("flush"),this._isClientDoneProcessing(t).then(r=>n.flush(t).then(i=>r&&i))):la(!0)}close(t){return this.flush(t).then(n=>(this.getOptions().enabled=!1,this.emit("close"),n))}getEventProcessors(){return this._eventProcessors}addEventProcessor(t){this._eventProcessors.push(t)}init(){(this._isEnabled()||this._options.integrations.some(({name:t})=>t.startsWith("Spotlight")))&&this._setupIntegrations()}getIntegrationByName(t){return this._integrations[t]}addIntegration(t){const n=this._integrations[t.name];z8(this,t,this._integrations),n||x4(this,[t])}sendEvent(t,n={}){this.emit("beforeSendEvent",t,n);let r=pD(t,this._dsn,this._options._metadata,this._options.tunnel);for(const s of n.attachments||[])r=oD(r,uD(s));const i=this.sendEnvelope(r);i&&i.then(s=>this.emit("afterSendEvent",t,s),null)}sendSession(t){const n=hD(t,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(n)}recordDroppedEvent(t,n,r){if(this._options.sendClientReports){const i=typeof r=="number"?r:1,s=`${t}:${n}`;At&&Ge.log(`Recording outcome: "${s}"${i>1?` (${i} times)`:""}`),this._outcomes[s]=(this._outcomes[s]||0)+i}}on(t,n){const r=this._hooks[t]=this._hooks[t]||[];return r.push(n),()=>{const i=r.indexOf(n);i>-1&&r.splice(i,1)}}emit(t,...n){const r=this._hooks[t];r&&r.forEach(i=>i(...n))}sendEnvelope(t){return this.emit("beforeEnvelope",t),this._isEnabled()&&this._transport?this._transport.send(t).then(null,n=>(At&&Ge.error("Error while sending envelope:",n),n)):(At&&Ge.error("Transport disabled"),la({}))}_setupIntegrations(){const{integrations:t}=this._options;this._integrations=eL(this,t),x4(this,t)}_updateSessionFromEvent(t,n){let r=n.level==="fatal",i=!1;const s=n.exception&&n.exception.values;if(s){i=!0;for(const l of s){const u=l.mechanism;if(u&&u.handled===!1){r=!0;break}}}const o=t.status==="ok";(o&&t.errors===0||o&&r)&&(Cd(t,{...r&&{status:"crashed"},errors:t.errors||Number(i||r)}),this.captureSession(t))}_isClientDoneProcessing(t){return new vs(n=>{let r=0;const i=1,s=setInterval(()=>{this._numProcessing==0?(clearInterval(s),n(!0)):(r+=i,t&&r>=t&&(clearInterval(s),n(!1)))},i)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(t,n,r=Pn(),i=Zs()){const s=this.getOptions(),o=Object.keys(this._integrations);return!n.integrations&&o.length>0&&(n.integrations=o),this.emit("preprocessEvent",t,n),t.type||i.setLastEventId(t.event_id||n.event_id),A8(s,t,n,r,this,i).then(a=>{if(a===null)return a;a.contexts={trace:TA(r),...a.contexts};const l=T8(this,r);return a.sdkProcessingMetadata={dynamicSamplingContext:l,...a.sdkProcessingMetadata},a})}_captureEvent(t,n={},r){return this._processEvent(t,n,r).then(i=>i.event_id,i=>{At&&(i instanceof Ws&&i.logLevel==="log"?Ge.log(i.message):Ge.warn(i))})}_processEvent(t,n,r){const i=this.getOptions(),{sampleRate:s}=i,o=U8(t),a=$8(t),l=t.type||"error",u=`before send for type \`${l}\``,f=typeof s>"u"?void 0:b0(s);if(a&&typeof f=="number"&&Math.random()>f)return this.recordDroppedEvent("sample_rate","error",t),v0(new Ws(`Discarding event because it's not included in the random sample (sampling rate = ${s})`,"log"));const p=l==="replay_event"?"replay":l,y=(t.sdkProcessingMetadata||{}).capturedSpanIsolationScope;return this._prepareEvent(t,n,r,y).then(b=>{if(b===null)throw this.recordDroppedEvent("event_processor",p,t),new Ws("An event processor returned `null`, will not send event.","log");if(n.data&&n.data.__sentry__===!0)return b;const C=iL(this,i,b,n);return rL(C,u)}).then(b=>{if(b===null){if(this.recordDroppedEvent("before_send",p,t),o){const R=1+(t.spans||[]).length;this.recordDroppedEvent("before_send","span",R)}throw new Ws(`${u} returned \`null\`, will not send event.`,"log")}const _=r&&r.getSession();if(!o&&_&&this._updateSessionFromEvent(_,b),o){const k=b.sdkProcessingMetadata&&b.sdkProcessingMetadata.spanCountBeforeProcessing||0,R=b.spans?b.spans.length:0,O=k-R;O>0&&this.recordDroppedEvent("before_send","span",O)}const C=b.transaction_info;if(o&&C&&b.transaction!==t.transaction){const k="custom";b.transaction_info={...C,source:k}}return this.sendEvent(b,n),b}).then(null,b=>{throw b instanceof Ws?b:(this.captureException(b,{data:{__sentry__:!0},originalException:b}),new Ws(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${b}`))})}_process(t){this._numProcessing++,t.then(n=>(this._numProcessing--,n),n=>(this._numProcessing--,n))}_clearOutcomes(){const t=this._outcomes;return this._outcomes={},Object.entries(t).map(([n,r])=>{const[i,s]=n.split(":");return{reason:i,category:s,quantity:r}})}_flushOutcomes(){At&&Ge.log("Flushing outcomes...");const t=this._clearOutcomes();if(t.length===0){At&&Ge.log("No outcomes to send");return}if(!this._dsn){At&&Ge.log("No dsn provided, will not send outcomes");return}At&&Ge.log("Sending outcomes:",t);const n=tL(t,this._options.tunnel&&up(this._dsn));this.sendEnvelope(n)}}function rL(e,t){const n=`${t} must return \`null\` or a valid event.`;if(u1(e))return e.then(r=>{if(!_d(r)&&r!==null)throw new Ws(n);return r},r=>{throw new Ws(`${t} rejected with ${r}`)});if(!_d(e)&&e!==null)throw new Ws(n);return e}function iL(e,t,n,r){const{beforeSend:i,beforeSendTransaction:s,beforeSendSpan:o}=t;if($8(n)&&i)return i(n,r);if(U8(n)){if(n.spans&&o){const a=[];for(const l of n.spans){const u=o(l);u?a.push(u):(_8(),e.recordDroppedEvent("before_send","span"))}n.spans=a}if(s){if(n.spans){const a=n.spans.length;n.sdkProcessingMetadata={...n.sdkProcessingMetadata,spanCountBeforeProcessing:a}}return s(n,r)}}return n}function $8(e){return e.type===void 0}function U8(e){return e.type==="transaction"}function sL(e,t){t.debug===!0&&(At?Ge.enable():bl(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})),Pn().update(t.initialScope);const r=new e(t);return oL(r),r.init(),r}function oL(e){Pn().setClient(e)}function aL(e){const t=[];function n(){return e===void 0||t.length<e}function r(o){return t.splice(t.indexOf(o),1)[0]||Promise.resolve(void 0)}function i(o){if(!n())return v0(new Ws("Not adding Promise because buffer limit was reached."));const a=o();return t.indexOf(a)===-1&&t.push(a),a.then(()=>r(a)).then(null,()=>r(a).then(null,()=>{})),a}function s(o){return new vs((a,l)=>{let u=t.length;if(!u)return a(!0);const f=setTimeout(()=>{o&&o>0&&a(!1)},o);t.forEach(p=>{la(p).then(()=>{--u||(clearTimeout(f),a(!0))},l)})})}return{$:t,add:i,drain:s}}const lL=60*1e3;function cL(e,t=Date.now()){const n=parseInt(`${e}`,10);if(!isNaN(n))return n*1e3;const r=Date.parse(`${e}`);return isNaN(r)?lL:r-t}function uL(e,t){return e[t]||e.all||0}function H8(e,t,n=Date.now()){return uL(e,t)>n}function W8(e,{statusCode:t,headers:n},r=Date.now()){const i={...e},s=n&&n["x-sentry-rate-limits"],o=n&&n["retry-after"];if(s)for(const a of s.trim().split(",")){const[l,u,,,f]=a.split(":",5),p=parseInt(l,10),g=(isNaN(p)?60:p)*1e3;if(!u)i.all=r+g;else for(const y of u.split(";"))y==="metric_bucket"?(!f||f.split(";").includes("custom"))&&(i[y]=r+g):i[y]=r+g}else o?i.all=r+cL(o,r):t===429&&(i.all=r+60*1e3);return i}const dL=64;function fL(e,t,n=aL(e.bufferSize||dL)){let r={};const i=o=>n.drain(o);function s(o){const a=[];if(a4(o,(p,g)=>{const y=l4(g);if(H8(r,y)){const b=w4(p,g);e.recordDroppedEvent("ratelimit_backoff",y,b)}else a.push(p)}),a.length===0)return la({});const l=Vc(o[0],a),u=p=>{a4(l,(g,y)=>{const b=w4(g,y);e.recordDroppedEvent(p,l4(y),b)})},f=()=>t({body:aD(l)}).then(p=>(p.statusCode!==void 0&&(p.statusCode<200||p.statusCode>=300)&&At&&Ge.warn(`Sentry responded with status code ${p.statusCode} to sent event.`),r=W8(r,p),p),p=>{throw u("network_error"),p});return n.add(f).then(p=>p,p=>{if(p instanceof Ws)return At&&Ge.error("Skipped sending event because buffer is full."),u("queue_overflow"),la({});throw p})}return{send:s,flush:i}}function w4(e,t){if(!(t!=="event"&&t!=="transaction"))return Array.isArray(e)?e[1]:void 0}function hL(e,t){const n=t&&t.getDsn(),r=t&&t.getOptions().tunnel;return mL(e,n)||pL(e,r)}function pL(e,t){return t?_4(e)===_4(t):!1}function mL(e,t){return t?e.includes(t.host):!1}function _4(e){return e[e.length-1]==="/"?e.slice(0,-1):e}function q8(e,t,n=[t],r="npm"){const i=e._metadata||{};i.sdk||(i.sdk={name:`sentry.javascript.${t}`,packages:n.map(s=>({name:`${r}:@sentry/${s}`,version:Sc})),version:Sc}),e._metadata=i}function V8(e={}){const t=Xt();if(!qD()||!t)return{};const n=Hc(),r=$d(n);if(r.getTraceData)return r.getTraceData(e);const i=Pn(),s=e.span||Pr(),o=s?$A(s):gL(i),a=s?qc(s):T8(t,i),l=MA(a);return g8.test(o)?{"sentry-trace":o,baggage:l}:(Ge.warn("Invalid sentry-trace data. Cannot generate trace data"),{})}function gL(e){const{traceId:t,sampled:n,spanId:r}=e.getPropagationContext();return y8(t,r,n)}const yL=100;function dl(e,t){const n=Xt(),r=Zs();if(!n)return;const{beforeBreadcrumb:i=null,maxBreadcrumbs:s=yL}=n.getOptions();if(s<=0)return;const a={timestamp:cp(),...e},l=i?bl(()=>i(a,t)):a;l!==null&&(n.emit&&n.emit("beforeAddBreadcrumb",l,t),r.addBreadcrumb(l,s))}let S4;const vL="FunctionToString",C4=new WeakMap,xL=()=>({name:vL,setupOnce(){S4=Function.prototype.toString;try{Function.prototype.toString=function(...e){const t=yw(this),n=C4.has(Xt())&&t!==void 0?t:this;return S4.apply(n,e)}}catch{}},setup(e){C4.set(e,!0)}}),bL=xL,wL=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,"undefined is not an object (evaluating 'a.L')",`can't redefine non-configurable property "solana"`,"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler",/^Non-Error promise rejection captured with value: Object Not Found Matching Id:\d+, MethodName:simulateEvent, ParamCount:\d+$/],_L="InboundFilters",SL=(e={})=>({name:_L,processEvent(t,n,r){const i=r.getOptions(),s=kL(e,i);return EL(t,s)?null:t}}),CL=SL;function kL(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...e.disableErrorDefaults?[]:wL],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[]],ignoreInternal:e.ignoreInternal!==void 0?e.ignoreInternal:!0}}function EL(e,t){return t.ignoreInternal&&PL(e)?(At&&Ge.warn(`Event dropped due to being internal Sentry Error.
Event: ${Wa(e)}`),!0):TL(e,t.ignoreErrors)?(At&&Ge.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${Wa(e)}`),!0):ML(e)?(At&&Ge.warn(`Event dropped due to not having an error message, error type or stacktrace.
Event: ${Wa(e)}`),!0):jL(e,t.ignoreTransactions)?(At&&Ge.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${Wa(e)}`),!0):NL(e,t.denyUrls)?(At&&Ge.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${Wa(e)}.
Url: ${w0(e)}`),!0):IL(e,t.allowUrls)?!1:(At&&Ge.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${Wa(e)}.
Url: ${w0(e)}`),!0)}function TL(e,t){return e.type||!t||!t.length?!1:RL(e).some(n=>nl(n,t))}function jL(e,t){if(e.type!=="transaction"||!t||!t.length)return!1;const n=e.transaction;return n?nl(n,t):!1}function NL(e,t){if(!t||!t.length)return!1;const n=w0(e);return n?nl(n,t):!1}function IL(e,t){if(!t||!t.length)return!0;const n=w0(e);return n?nl(n,t):!0}function RL(e){const t=[];e.message&&t.push(e.message);let n;try{n=e.exception.values[e.exception.values.length-1]}catch{}return n&&n.value&&(t.push(n.value),n.type&&t.push(`${n.type}: ${n.value}`)),t}function PL(e){try{return e.exception.values[0].type==="SentryError"}catch{}return!1}function OL(e=[]){for(let t=e.length-1;t>=0;t--){const n=e[t];if(n&&n.filename!=="<anonymous>"&&n.filename!=="[native code]")return n.filename||null}return null}function w0(e){try{let t;try{t=e.exception.values[0].stacktrace.frames}catch{}return t?OL(t):null}catch{return At&&Ge.error(`Cannot extract url for event ${Wa(e)}`),null}}function ML(e){return e.type||!e.exception||!e.exception.values||e.exception.values.length===0?!1:!e.message&&!e.exception.values.some(t=>t.stacktrace||t.type&&t.type!=="Error"||t.value)}function AL(e,t,n=250,r,i,s,o){if(!s.exception||!s.exception.values||!o||!oa(o.originalException,Error))return;const a=s.exception.values.length>0?s.exception.values[s.exception.values.length-1]:void 0;a&&(s.exception.values=DL(Ib(e,t,i,o.originalException,r,s.exception.values,a,0),n))}function Ib(e,t,n,r,i,s,o,a){if(s.length>=n+1)return s;let l=[...s];if(oa(r[i],Error)){k4(o,a);const u=e(t,r[i]),f=l.length;E4(u,i,f,a),l=Ib(e,t,n,r[i],i,[u,...l],u,f)}return Array.isArray(r.errors)&&r.errors.forEach((u,f)=>{if(oa(u,Error)){k4(o,a);const p=e(t,u),g=l.length;E4(p,`errors[${f}]`,g,a),l=Ib(e,t,n,u,i,[p,...l],p,g)}}),l}function k4(e,t){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,...e.type==="AggregateError"&&{is_exception_group:!0},exception_id:t}}function E4(e,t,n,r){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,type:"chained",source:t,exception_id:n,parent_id:r}}function DL(e,t){return e.map(n=>(n.value&&(n.value=vd(n.value,t)),n))}function Ec(e){if(!e)return{};const t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};const n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:n,hash:r,relative:t[5]+n+r}}function LL(e){const t="console";wl(t,e),_l(t,FL)}function FL(){"console"in en&&xb.forEach(function(e){e in en.console&&Oi(en.console,e,function(t){return y0[e]=t,function(...n){bs("console",{args:n,level:e});const i=y0[e];i&&i.apply(en.console,n)}})})}function Q8(e){return e==="warn"?"warning":["fatal","error","warning","log","info","debug"].includes(e)?e:"log"}const BL="Dedupe",zL=()=>{let e;return{name:BL,processEvent(t){if(t.type)return t;try{if(UL(t,e))return At&&Ge.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return e=t}}},$L=zL;function UL(e,t){return t?!!(HL(e,t)||WL(e,t)):!1}function HL(e,t){const n=e.message,r=t.message;return!(!n&&!r||n&&!r||!n&&r||n!==r||!G8(e,t)||!K8(e,t))}function WL(e,t){const n=T4(t),r=T4(e);return!(!n||!r||n.type!==r.type||n.value!==r.value||!G8(e,t)||!K8(e,t))}function K8(e,t){let n=VS(e),r=VS(t);if(!n&&!r)return!0;if(n&&!r||!n&&r||(n=n,r=r,r.length!==n.length))return!1;for(let i=0;i<r.length;i++){const s=r[i],o=n[i];if(s.filename!==o.filename||s.lineno!==o.lineno||s.colno!==o.colno||s.function!==o.function)return!1}return!0}function G8(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;n=n,r=r;try{return n.join("")===r.join("")}catch{return!1}}function T4(e){return e.exception&&e.exception.values&&e.exception.values[0]}function qL(e,t,n,r,i="auto.http.browser"){if(!e.fetchData)return;const s=ul()&&t(e.fetchData.url);if(e.endTimestamp&&s){const g=e.fetchData.__span;if(!g)return;const y=r[g];y&&(KL(y,e),delete r[g]);return}const{method:o,url:a}=e.fetchData,l=QL(a),u=l?Ec(l).host:void 0,f=!!Pr(),p=s&&f?dp({name:`${o} ${a}`,attributes:{url:a,type:"fetch","http.method":o,"http.url":l,"server.address":u,[Rr]:i,[Mc]:"http.client"}}):new Ud;if(e.fetchData.__span=p.spanContext().spanId,r[p.spanContext().spanId]=p,n(e.fetchData.url)){const g=e.args[0],y=e.args[1]||{},b=VL(g,y,ul()&&f?p:void 0);b&&(e.args[1]=y,y.headers=b)}return p}function VL(e,t,n){const r=V8({span:n}),i=r["sentry-trace"],s=r.baggage;if(!i)return;const o=t.headers||(GL(e)?e.headers:void 0);if(o)if(YL(o)){const a=new Headers(o);if(a.set("sentry-trace",i),s){const l=a.get("baggage");if(l){const u=Xm(l);a.set("baggage",u?`${u},${s}`:s)}else a.set("baggage",s)}return a}else if(Array.isArray(o)){const a=[...o.filter(l=>!(Array.isArray(l)&&l[0]==="sentry-trace")).map(l=>{if(Array.isArray(l)&&l[0]==="baggage"&&typeof l[1]=="string"){const[u,f,...p]=l;return[u,Xm(f),...p]}else return l}),["sentry-trace",i]];return s&&a.push(["baggage",s]),a}else{const a="baggage"in o?o.baggage:void 0;let l=[];return Array.isArray(a)?l=a.map(u=>typeof u=="string"?Xm(u):u).filter(u=>u===""):a&&l.push(Xm(a)),s&&l.push(s),{...o,"sentry-trace":i,baggage:l.length>0?l.join(","):void 0}}else return{...r}}function QL(e){try{return new URL(e).href}catch{return}}function KL(e,t){if(t.response){p8(e,t.response.status);const n=t.response&&t.response.headers&&t.response.headers.get("content-length");if(n){const r=parseInt(n);r>0&&e.setAttribute("http.response_content_length",r)}}else t.error&&e.setStatus({code:Tr,message:"internal_error"});e.end()}function Xm(e){return e.split(",").filter(t=>!t.split("=")[0].startsWith(ww)).join(",")}function GL(e){return typeof Request<"u"&&oa(e,Request)}function YL(e){return typeof Headers<"u"&&oa(e,Headers)}function Y8(e){if(e!==void 0)return e>=400&&e<500?"warning":e>=500?"error":void 0}const Rb=en;function X8(){if(!("fetch"in Rb))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}function Pb(e){return e&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function XL(){if(typeof EdgeRuntime=="string")return!0;if(!X8())return!1;if(Pb(Rb.fetch))return!0;let e=!1;const t=Rb.document;if(t&&typeof t.createElement=="function")try{const n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(e=Pb(n.contentWindow.fetch)),t.head.removeChild(n)}catch(n){xl&&Ge.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return e}function J8(e,t){const n="fetch";wl(n,e),_l(n,()=>Z8(void 0,t))}function JL(e){const t="fetch-body-resolved";wl(t,e),_l(t,()=>Z8(eF))}function Z8(e,t=!1){t&&!XL()||Oi(en,"fetch",function(n){return function(...r){const i=new Error,{method:s,url:o}=tF(r),a={args:r,fetchData:{method:s,url:o},startTimestamp:fi()*1e3,virtualError:i};return e||bs("fetch",{...a}),n.apply(en,r).then(async l=>(e?e(l):bs("fetch",{...a,endTimestamp:fi()*1e3,response:l}),l),l=>{throw bs("fetch",{...a,endTimestamp:fi()*1e3,error:l}),pw(l)&&l.stack===void 0&&(l.stack=i.stack,_s(l,"framesToPop",1)),l})}})}async function ZL(e,t){if(e&&e.body){const n=e.body,r=n.getReader(),i=setTimeout(()=>{n.cancel().then(null,()=>{})},90*1e3);let s=!0;for(;s;){let o;try{o=setTimeout(()=>{n.cancel().then(null,()=>{})},5e3);const{done:a}=await r.read();clearTimeout(o),a&&(t(),s=!1)}catch{s=!1}finally{clearTimeout(o)}}clearTimeout(i),r.releaseLock(),n.cancel().then(null,()=>{})}}function eF(e){let t;try{t=e.clone()}catch{return}ZL(t,()=>{bs("fetch-body-resolved",{endTimestamp:fi()*1e3,response:e})})}function Ob(e,t){return!!e&&typeof e=="object"&&!!e[t]}function j4(e){return typeof e=="string"?e:e?Ob(e,"url")?e.url:e.toString?e.toString():"":""}function tF(e){if(e.length===0)return{method:"GET",url:""};if(e.length===2){const[n,r]=e;return{url:j4(n),method:Ob(r,"method")?String(r.method).toUpperCase():"GET"}}const t=e[0];return{url:j4(t),method:Ob(t,"method")?String(t.method).toUpperCase():"GET"}}function nF(){return typeof __SENTRY_BROWSER_BUNDLE__<"u"&&!!__SENTRY_BROWSER_BUNDLE__}function rF(){return"npm"}function iF(){return!nF()&&Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]"}function N4(){return typeof window<"u"&&(!iF()||sF())}function sF(){const e=en.process;return!!e&&e.type==="renderer"}const Jm=en;function oF(){const e=Jm.chrome,t=e&&e.app&&e.app.runtime,n="history"in Jm&&!!Jm.history.pushState&&!!Jm.history.replaceState;return!t&&n}function aF(e,t){return e??t()}function e0(e){let t,n=e[0],r=1;for(;r<e.length;){const i=e[r],s=e[r+1];if(r+=2,(i==="optionalAccess"||i==="optionalCall")&&n==null)return;i==="access"||i==="optionalAccess"?(t=n,n=s(n)):(i==="call"||i==="optionalCall")&&(n=s((...o)=>n.call(t,...o)),t=void 0)}return n}const Nt=en;let Mb=0;function e9(){return Mb>0}function lF(){Mb++,setTimeout(()=>{Mb--})}function Ed(e,t={}){function n(i){return typeof i=="function"}if(!n(e))return e;try{const i=e.__sentry_wrapped__;if(i)return typeof i=="function"?i:e;if(yw(e))return e}catch{return e}const r=function(...i){try{const s=i.map(o=>Ed(o,t));return e.apply(this,s)}catch(s){throw lF(),xw(o=>{o.addEventProcessor(a=>(t.mechanism&&(wb(a,void 0),Sd(a,t.mechanism)),a.extra={...a.extra,arguments:i},a)),kw(s)}),s}};try{for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}catch{}l8(r,e),_s(e,"__sentry_wrapped__",r);try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get(){return e.name}})}catch{}return r}const bo=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function Ew(e,t){const n=Tw(e,t),r={type:hF(t),value:pF(t)};return n.length&&(r.stacktrace={frames:n}),r.type===void 0&&r.value===""&&(r.value="Unrecoverable error caught"),r}function cF(e,t,n,r){const i=Xt(),s=i&&i.getOptions().normalizeDepth,o=xF(t),a={__serialized__:N8(t,s)};if(o)return{exception:{values:[Ew(e,o)]},extra:a};const l={exception:{values:[{type:c1(t)?t.constructor.name:r?"UnhandledRejection":"Error",value:yF(t,{isUnhandledRejection:r})}]},extra:a};if(n){const u=Tw(e,n);u.length&&(l.exception.values[0].stacktrace={frames:u})}return l}function qv(e,t){return{exception:{values:[Ew(e,t)]}}}function Tw(e,t){const n=t.stacktrace||t.stack||"",r=dF(t),i=fF(t);try{return e(n,r,i)}catch{}return[]}const uF=/Minified React error #\d+;/i;function dF(e){return e&&uF.test(e.message)?1:0}function fF(e){return typeof e.framesToPop=="number"?e.framesToPop:0}function t9(e){return typeof WebAssembly<"u"&&typeof WebAssembly.Exception<"u"?e instanceof WebAssembly.Exception:!1}function hF(e){const t=e&&e.name;return!t&&t9(e)?e.message&&Array.isArray(e.message)&&e.message.length==2?e.message[0]:"WebAssembly.Exception":t}function pF(e){const t=e&&e.message;return t?t.error&&typeof t.error.message=="string"?t.error.message:t9(e)&&Array.isArray(e.message)&&e.message.length==2?e.message[1]:t:"No error message"}function mF(e,t,n,r){const i=n&&n.syntheticException||void 0,s=jw(e,t,i,r);return Sd(s),s.level="error",n&&n.event_id&&(s.event_id=n.event_id),la(s)}function gF(e,t,n="info",r,i){const s=r&&r.syntheticException||void 0,o=Ab(e,t,s,i);return o.level=n,r&&r.event_id&&(o.event_id=r.event_id),la(o)}function jw(e,t,n,r,i){let s;if(i8(t)&&t.error)return qv(e,t.error);if(KS(t)||iA(t)){const o=t;if("stack"in t)s=qv(e,t);else{const a=o.name||(KS(o)?"DOMError":"DOMException"),l=o.message?`${a}: ${o.message}`:a;s=Ab(e,l,n,r),wb(s,l)}return"code"in o&&(s.tags={...s.tags,"DOMException.code":`${o.code}`}),s}return pw(t)?qv(e,t):_d(t)||c1(t)?(s=cF(e,t,n,i),Sd(s,{synthetic:!0}),s):(s=Ab(e,t,n,r),wb(s,`${t}`),Sd(s,{synthetic:!0}),s)}function Ab(e,t,n,r){const i={};if(r&&n){const s=Tw(e,n);s.length&&(i.exception={values:[{value:t,stacktrace:{frames:s}}]}),Sd(i,{synthetic:!0})}if(mw(t)){const{__sentry_template_string__:s,__sentry_template_values__:o}=t;return i.logentry={message:s,params:o},i}return i.message=t,i}function yF(e,{isUnhandledRejection:t}){const n=fA(e),r=t?"promise rejection":"exception";return i8(e)?`Event \`ErrorEvent\` captured as ${r} with message \`${e.message}\``:c1(e)?`Event \`${vF(e)}\` (type=${e.type}) captured as ${r}`:`Object captured as ${r} with keys: ${n}`}function vF(e){try{const t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch{}}function xF(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)){const n=e[t];if(n instanceof Error)return n}}function bF(e,{metadata:t,tunnel:n,dsn:r}){const i={event_id:e.event_id,sent_at:new Date().toISOString(),...t&&t.sdk&&{sdk:{name:t.sdk.name,version:t.sdk.version}},...!!n&&!!r&&{dsn:up(r)}},s=wF(e);return Vc(i,[s])}function wF(e){return[{type:"user_report"},e]}class _F extends nL{constructor(t){const n={parentSpanIsAlwaysRootSpan:!0,...t},r=Nt.SENTRY_SDK_SOURCE||rF();q8(n,"browser",["browser"],r),super(n),n.sendClientReports&&Nt.document&&Nt.document.addEventListener("visibilitychange",()=>{Nt.document.visibilityState==="hidden"&&this._flushOutcomes()})}eventFromException(t,n){return mF(this._options.stackParser,t,n,this._options.attachStacktrace)}eventFromMessage(t,n="info",r){return gF(this._options.stackParser,t,n,r,this._options.attachStacktrace)}captureUserFeedback(t){if(!this._isEnabled()){bo&&Ge.warn("SDK not enabled, will not capture user feedback.");return}const n=bF(t,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this.sendEnvelope(n)}_prepareEvent(t,n,r){return t.platform=t.platform||"javascript",super._prepareEvent(t,n,r)}}const Nw=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,SF=(e,t)=>e>t[1]?"poor":e>t[0]?"needs-improvement":"good",Hd=(e,t,n,r)=>{let i,s;return o=>{t.value>=0&&(o||r)&&(s=t.value-(i||0),(s||i===void 0)&&(i=t.value,t.delta=s,t.rating=SF(t.value,n),e(t)))}},gt=en,CF=()=>`v4-${Date.now()}-${Math.floor(Math.random()*(9e12-1))+1e12}`,fp=(e=!0)=>{const t=gt.performance&&gt.performance.getEntriesByType&&gt.performance.getEntriesByType("navigation")[0];if(!e||t&&t.responseStart>0&&t.responseStart<performance.now())return t},hp=()=>{const e=fp();return e&&e.activationStart||0},Wd=(e,t)=>{const n=fp();let r="navigate";return n&&(gt.document&&gt.document.prerendering||hp()>0?r="prerender":gt.document&&gt.document.wasDiscarded?r="restore":n.type&&(r=n.type.replace(/_/g,"-"))),{name:e,value:typeof t>"u"?-1:t,rating:"good",delta:0,entries:[],id:CF(),navigationType:r}},Qc=(e,t,n)=>{try{if(PerformanceObserver.supportedEntryTypes.includes(e)){const r=new PerformanceObserver(i=>{Promise.resolve().then(()=>{t(i.getEntries())})});return r.observe(Object.assign({type:e,buffered:!0},n||{})),r}}catch{}},qd=e=>{const t=n=>{(n.type==="pagehide"||gt.document&&gt.document.visibilityState==="hidden")&&e(n)};gt.document&&(addEventListener("visibilitychange",t,!0),addEventListener("pagehide",t,!0))},p1=e=>{let t=!1;return()=>{t||(e(),t=!0)}};let yh=-1;const kF=()=>gt.document.visibilityState==="hidden"&&!gt.document.prerendering?0:1/0,_0=e=>{gt.document.visibilityState==="hidden"&&yh>-1&&(yh=e.type==="visibilitychange"?e.timeStamp:0,TF())},EF=()=>{addEventListener("visibilitychange",_0,!0),addEventListener("prerenderingchange",_0,!0)},TF=()=>{removeEventListener("visibilitychange",_0,!0),removeEventListener("prerenderingchange",_0,!0)},m1=()=>(gt.document&&yh<0&&(yh=kF(),EF()),{get firstHiddenTime(){return yh}}),pp=e=>{gt.document&&gt.document.prerendering?addEventListener("prerenderingchange",()=>e(),!0):e()},jF=[1800,3e3],NF=(e,t={})=>{pp(()=>{const n=m1(),r=Wd("FCP");let i;const o=Qc("paint",a=>{a.forEach(l=>{l.name==="first-contentful-paint"&&(o.disconnect(),l.startTime<n.firstHiddenTime&&(r.value=Math.max(l.startTime-hp(),0),r.entries.push(l),i(!0)))})});o&&(i=Hd(e,r,jF,t.reportAllChanges))})},IF=[.1,.25],RF=(e,t={})=>{NF(p1(()=>{const n=Wd("CLS",0);let r,i=0,s=[];const o=l=>{l.forEach(u=>{if(!u.hadRecentInput){const f=s[0],p=s[s.length-1];i&&f&&p&&u.startTime-p.startTime<1e3&&u.startTime-f.startTime<5e3?(i+=u.value,s.push(u)):(i=u.value,s=[u])}}),i>n.value&&(n.value=i,n.entries=s,r())},a=Qc("layout-shift",o);a&&(r=Hd(e,n,IF,t.reportAllChanges),qd(()=>{o(a.takeRecords()),r(!0)}),setTimeout(r,0))}))},PF=[100,300],OF=(e,t={})=>{pp(()=>{const n=m1(),r=Wd("FID");let i;const s=l=>{l.startTime<n.firstHiddenTime&&(r.value=l.processingStart-l.startTime,r.entries.push(l),i(!0))},o=l=>{l.forEach(s)},a=Qc("first-input",o);i=Hd(e,r,PF,t.reportAllChanges),a&&qd(p1(()=>{o(a.takeRecords()),a.disconnect()}))})};let n9=0,Vv=1/0,Zm=0;const MF=e=>{e.forEach(t=>{t.interactionId&&(Vv=Math.min(Vv,t.interactionId),Zm=Math.max(Zm,t.interactionId),n9=Zm?(Zm-Vv)/7+1:0)})};let Db;const AF=()=>Db?n9:performance.interactionCount||0,DF=()=>{"interactionCount"in performance||Db||(Db=Qc("event",MF,{type:"event",buffered:!0,durationThreshold:0}))},Go=[],Qv=new Map,LF=40;let FF=0;const BF=()=>AF()-FF,zF=()=>{const e=Math.min(Go.length-1,Math.floor(BF()/50));return Go[e]},Kv=10,$F=[],UF=e=>{if($F.forEach(r=>r(e)),!(e.interactionId||e.entryType==="first-input"))return;const t=Go[Go.length-1],n=Qv.get(e.interactionId);if(n||Go.length<Kv||t&&e.duration>t.latency){if(n)e.duration>n.latency?(n.entries=[e],n.latency=e.duration):e.duration===n.latency&&e.startTime===(n.entries[0]&&n.entries[0].startTime)&&n.entries.push(e);else{const r={id:e.interactionId,latency:e.duration,entries:[e]};Qv.set(r.id,r),Go.push(r)}Go.sort((r,i)=>i.latency-r.latency),Go.length>Kv&&Go.splice(Kv).forEach(r=>Qv.delete(r.id))}},r9=e=>{const t=gt.requestIdleCallback||gt.setTimeout;let n=-1;return e=p1(e),gt.document&&gt.document.visibilityState==="hidden"?e():(n=t(e),qd(e)),n},HF=[200,500],WF=(e,t={})=>{"PerformanceEventTiming"in gt&&"interactionId"in PerformanceEventTiming.prototype&&pp(()=>{DF();const n=Wd("INP");let r;const i=o=>{r9(()=>{o.forEach(UF);const a=zF();a&&a.latency!==n.value&&(n.value=a.latency,n.entries=a.entries,r())})},s=Qc("event",i,{durationThreshold:t.durationThreshold!=null?t.durationThreshold:LF});r=Hd(e,n,HF,t.reportAllChanges),s&&(s.observe({type:"first-input",buffered:!0}),qd(()=>{i(s.takeRecords()),r(!0)}))})},qF=[2500,4e3],I4={},VF=(e,t={})=>{pp(()=>{const n=m1(),r=Wd("LCP");let i;const s=a=>{t.reportAllChanges||(a=a.slice(-1)),a.forEach(l=>{l.startTime<n.firstHiddenTime&&(r.value=Math.max(l.startTime-hp(),0),r.entries=[l],i())})},o=Qc("largest-contentful-paint",s);if(o){i=Hd(e,r,qF,t.reportAllChanges);const a=p1(()=>{I4[r.id]||(s(o.takeRecords()),o.disconnect(),I4[r.id]=!0,i(!0))});["keydown","click"].forEach(l=>{gt.document&&addEventListener(l,()=>r9(a),{once:!0,capture:!0})}),qd(a)}})},QF=[800,1800],Lb=e=>{gt.document&&gt.document.prerendering?pp(()=>Lb(e)):gt.document&&gt.document.readyState!=="complete"?addEventListener("load",()=>Lb(e),!0):setTimeout(e,0)},KF=(e,t={})=>{const n=Wd("TTFB"),r=Hd(e,n,QF,t.reportAllChanges);Lb(()=>{const i=fp();i&&(n.value=Math.max(i.responseStart-hp(),0),n.entries=[i],r(!0))})},vh={},S0={};let i9,s9,o9,a9,l9;function Iw(e,t=!1){return mp("cls",e,YF,i9,t)}function c9(e,t=!1){return mp("lcp",e,JF,o9,t)}function u9(e){return mp("fid",e,XF,s9)}function GF(e){return mp("ttfb",e,ZF,a9)}function d9(e){return mp("inp",e,eB,l9)}function Td(e,t){return f9(e,t),S0[e]||(tB(e),S0[e]=!0),h9(e,t)}function Vd(e,t){const n=vh[e];if(!(!n||!n.length))for(const r of n)try{r(t)}catch(i){Nw&&Ge.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${sa(r)}
Error:`,i)}}function YF(){return RF(e=>{Vd("cls",{metric:e}),i9=e},{reportAllChanges:!0})}function XF(){return OF(e=>{Vd("fid",{metric:e}),s9=e})}function JF(){return VF(e=>{Vd("lcp",{metric:e}),o9=e},{reportAllChanges:!0})}function ZF(){return KF(e=>{Vd("ttfb",{metric:e}),a9=e})}function eB(){return WF(e=>{Vd("inp",{metric:e}),l9=e})}function mp(e,t,n,r,i=!1){f9(e,t);let s;return S0[e]||(s=n(),S0[e]=!0),r&&t({metric:r}),h9(e,t,i?s:void 0)}function tB(e){const t={};e==="event"&&(t.durationThreshold=0),Qc(e,n=>{Vd(e,{entries:n})},t)}function f9(e,t){vh[e]=vh[e]||[],vh[e].push(t)}function h9(e,t,n){return()=>{n&&n();const r=vh[e];if(!r)return;const i=r.indexOf(t);i!==-1&&r.splice(i,1)}}function nB(e){return"duration"in e}function Gv(e){return typeof e=="number"&&isFinite(e)}function ca(e,t,n,{...r}){const i=fn(e).start_timestamp;return i&&i>t&&typeof e.updateStartTime=="function"&&e.updateStartTime(t),P8(e,()=>{const s=dp({startTime:t,...r});return s&&s.end(n),s})}function p9(e){const t=Xt();if(!t)return;const{name:n,transaction:r,attributes:i,startTime:s}=e,{release:o,environment:a}=t.getOptions(),l=t.getIntegrationByName("Replay"),u=l&&l.getReplayId(),f=Pn(),p=f.getUser(),g=p!==void 0?p.email||p.id||p.ip_address:void 0;let y;try{y=f.getScopeData().contexts.profile.profile_id}catch{}const b={release:o,environment:a,user:g||void 0,profile_id:y||void 0,replay_id:u||void 0,transaction:r,"user_agent.original":gt.navigator&&gt.navigator.userAgent,...i};return dp({name:n,attributes:b,startTime:s,experimental:{standalone:!0}})}function Rw(){return gt&&gt.addEventListener&&gt.performance}function er(e){return e/1e3}function m9(e){let t="unknown",n="unknown",r="";for(const i of e){if(i==="/"){[t,n]=e.split("/");break}if(!isNaN(Number(i))){t=r==="h"?"http":r,n=e.split(r)[1];break}r+=i}return r===e&&(t=r),{name:t,version:n}}function rB(){let e=0,t,n;if(!sB())return;let r=!1;function i(){r||(r=!0,n&&iB(e,t,n),s())}const s=Iw(({metric:o})=>{const a=o.entries[o.entries.length-1];a&&(e=o.value,t=a)},!0);qd(()=>{i()}),setTimeout(()=>{const o=Xt();if(!o)return;const a=o.on("startNavigationSpan",()=>{i(),a&&a()}),l=Pr(),u=l&&Dr(l),f=u&&fn(u);f&&f.op==="pageload"&&(n=u.spanContext().spanId)},0)}function iB(e,t,n){Nw&&Ge.log(`Sending CLS span (${e})`);const r=er((pi||0)+(t&&t.startTime||0)),i=Pn().getScopeData().transactionName,s=t?aa(t.sources[0]&&t.sources[0].node):"Layout shift",o=yr({[Rr]:"auto.http.browser.cls",[Mc]:"ui.webvital.cls",[bw]:t&&t.duration||0,"sentry.pageload.span_id":n}),a=p9({name:s,transaction:i,attributes:o,startTime:r});a&&(a.addEvent("cls",{[f1]:"",[h1]:e}),a.end(r))}function sB(){try{return PerformanceObserver.supportedEntryTypes.includes("layout-shift")}catch{return!1}}const oB=2147483647;let R4=0,Ar={},Ni,xh;function aB({recordClsStandaloneSpans:e}){const t=Rw();if(t&&pi){t.mark&&gt.performance.mark("sentry-tracing-init");const n=hB(),r=fB(),i=pB(),s=e?rB():dB();return()=>{n(),r(),i(),s&&s()}}return()=>{}}function lB(){Td("longtask",({entries:e})=>{const t=Pr();if(!t)return;const{op:n,start_timestamp:r}=fn(t);for(const i of e){const s=er(pi+i.startTime),o=er(i.duration);n==="navigation"&&r&&s<r||ca(t,s,s+o,{name:"Main UI thread blocked",op:"ui.long-task",attributes:{[Rr]:"auto.ui.browser.metrics"}})}})}function cB(){new PerformanceObserver(t=>{const n=Pr();if(n)for(const r of t.getEntries()){if(!r.scripts[0])continue;const i=er(pi+r.startTime),{start_timestamp:s,op:o}=fn(n);if(o==="navigation"&&s&&i<s)continue;const a=er(r.duration),l={[Rr]:"auto.ui.browser.metrics"},u=r.scripts[0],{invoker:f,invokerType:p,sourceURL:g,sourceFunctionName:y,sourceCharPosition:b}=u;l["browser.script.invoker"]=f,l["browser.script.invoker_type"]=p,g&&(l["code.filepath"]=g),y&&(l["code.function"]=y),b!==-1&&(l["browser.script.source_char_position"]=b),ca(n,i,i+a,{name:"Main UI thread blocked",op:"ui.long-animation-frame",attributes:l})}}).observe({type:"long-animation-frame",buffered:!0})}function uB(){Td("event",({entries:e})=>{const t=Pr();if(t){for(const n of e)if(n.name==="click"){const r=er(pi+n.startTime),i=er(n.duration),s={name:aa(n.target),op:`ui.interaction.${n.name}`,startTime:r,attributes:{[Rr]:"auto.ui.browser.metrics"}},o=a8(n.target);o&&(s.attributes["ui.component_name"]=o),ca(t,r,r+i,s)}}})}function dB(){return Iw(({metric:e})=>{const t=e.entries[e.entries.length-1];t&&(Ar.cls={value:e.value,unit:""},xh=t)},!0)}function fB(){return c9(({metric:e})=>{const t=e.entries[e.entries.length-1];t&&(Ar.lcp={value:e.value,unit:"millisecond"},Ni=t)},!0)}function hB(){return u9(({metric:e})=>{const t=e.entries[e.entries.length-1];if(!t)return;const n=er(pi),r=er(t.startTime);Ar.fid={value:e.value,unit:"millisecond"},Ar["mark.fid"]={value:n+r,unit:"second"}})}function pB(){return GF(({metric:e})=>{e.entries[e.entries.length-1]&&(Ar.ttfb={value:e.value,unit:"millisecond"})})}function mB(e,t){const n=Rw();if(!n||!n.getEntries||!pi)return;const r=er(pi),i=n.getEntries(),{op:s,start_timestamp:o}=fn(e);if(i.slice(R4).forEach(a=>{const l=er(a.startTime),u=er(Math.max(0,a.duration));if(!(s==="navigation"&&o&&r+l<o))switch(a.entryType){case"navigation":{yB(e,a,r);break}case"mark":case"paint":case"measure":{gB(e,a,l,u,r);const f=m1(),p=a.startTime<f.firstHiddenTime;a.name==="first-paint"&&p&&(Ar.fp={value:a.startTime,unit:"millisecond"}),a.name==="first-contentful-paint"&&p&&(Ar.fcp={value:a.startTime,unit:"millisecond"});break}case"resource":{bB(e,a,a.name,l,u,r);break}}}),R4=Math.max(i.length-1,0),wB(e),s==="pageload"){SB(Ar);const a=Ar["mark.fid"];a&&Ar.fid&&(ca(e,a.value,a.value+er(Ar.fid.value),{name:"first input delay",op:"ui.action",attributes:{[Rr]:"auto.ui.browser.metrics"}}),delete Ar["mark.fid"]),(!("fcp"in Ar)||!t.recordClsOnPageloadSpan)&&delete Ar.cls,Object.entries(Ar).forEach(([l,u])=>{gD(l,u.value,u.unit)}),e.setAttribute("performance.timeOrigin",r),e.setAttribute("performance.activationStart",hp()),_B(e)}Ni=void 0,xh=void 0,Ar={}}function gB(e,t,n,r,i){const s=fp(!1),o=er(s?s.requestStart:0),a=i+Math.max(n,o),l=i+n,u=l+r,f={[Rr]:"auto.resource.browser.metrics"};return a!==l&&(f["sentry.browser.measure_happened_before_request"]=!0,f["sentry.browser.measure_start_time"]=a),ca(e,a,u,{name:t.name,op:t.entryType,attributes:f}),a}function yB(e,t,n){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(r=>{eg(e,t,r,n)}),eg(e,t,"secureConnection",n,"TLS/SSL"),eg(e,t,"fetch",n,"cache"),eg(e,t,"domainLookup",n,"DNS"),xB(e,t,n)}function eg(e,t,n,r,i=n){const s=vB(n),o=t[s],a=t[`${n}Start`];!a||!o||ca(e,r+er(a),r+er(o),{op:`browser.${i}`,name:t.name,attributes:{[Rr]:"auto.ui.browser.metrics"}})}function vB(e){return e==="secureConnection"?"connectEnd":e==="fetch"?"domainLookupStart":`${e}End`}function xB(e,t,n){const r=n+er(t.requestStart),i=n+er(t.responseEnd),s=n+er(t.responseStart);t.responseEnd&&(ca(e,r,i,{op:"browser.request",name:t.name,attributes:{[Rr]:"auto.ui.browser.metrics"}}),ca(e,s,i,{op:"browser.response",name:t.name,attributes:{[Rr]:"auto.ui.browser.metrics"}}))}function bB(e,t,n,r,i,s){if(t.initiatorType==="xmlhttprequest"||t.initiatorType==="fetch")return;const o=Ec(n),a={[Rr]:"auto.resource.browser.metrics"};Yv(a,t,"transferSize","http.response_transfer_size"),Yv(a,t,"encodedBodySize","http.response_content_length"),Yv(a,t,"decodedBodySize","http.decoded_response_content_length");const l=t.deliveryType;l!=null&&(a["http.response_delivery_type"]=l);const u=t.renderBlockingStatus;u&&(a["resource.render_blocking_status"]=u),o.protocol&&(a["url.scheme"]=o.protocol.split(":").pop()),o.host&&(a["server.address"]=o.host),a["url.same_origin"]=n.includes(gt.location.origin);const{name:f,version:p}=m9(t.nextHopProtocol);a["network.protocol.name"]=f,a["network.protocol.version"]=p;const g=s+r,y=g+i;ca(e,g,y,{name:n.replace(gt.location.origin,""),op:t.initiatorType?`resource.${t.initiatorType}`:"resource.other",attributes:a})}function wB(e){const t=gt.navigator;if(!t)return;const n=t.connection;n&&(n.effectiveType&&e.setAttribute("effectiveConnectionType",n.effectiveType),n.type&&e.setAttribute("connectionType",n.type),Gv(n.rtt)&&(Ar["connection.rtt"]={value:n.rtt,unit:"millisecond"})),Gv(t.deviceMemory)&&e.setAttribute("deviceMemory",`${t.deviceMemory} GB`),Gv(t.hardwareConcurrency)&&e.setAttribute("hardwareConcurrency",String(t.hardwareConcurrency))}function _B(e){Ni&&(Ni.element&&e.setAttribute("lcp.element",aa(Ni.element)),Ni.id&&e.setAttribute("lcp.id",Ni.id),Ni.url&&e.setAttribute("lcp.url",Ni.url.trim().slice(0,200)),Ni.loadTime!=null&&e.setAttribute("lcp.loadTime",Ni.loadTime),Ni.renderTime!=null&&e.setAttribute("lcp.renderTime",Ni.renderTime),e.setAttribute("lcp.size",Ni.size)),xh&&xh.sources&&xh.sources.forEach((t,n)=>e.setAttribute(`cls.source.${n+1}`,aa(t.node)))}function Yv(e,t,n,r){const i=t[n];i!=null&&i<oB&&(e[r]=i)}function SB(e){const t=fp(!1);if(!t)return;const{responseStart:n,requestStart:r}=t;r<=n&&(e["ttfb.requestTime"]={value:n-r,unit:"millisecond"})}const CB=1e3;let P4,Fb,Bb;function g9(e){wl("dom",e),_l("dom",kB)}function kB(){if(!gt.document)return;const e=bs.bind(null,"dom"),t=O4(e,!0);gt.document.addEventListener("click",t,!1),gt.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(n=>{const i=gt[n],s=i&&i.prototype;!s||!s.hasOwnProperty||!s.hasOwnProperty("addEventListener")||(Oi(s,"addEventListener",function(o){return function(a,l,u){if(a==="click"||a=="keypress")try{const f=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},p=f[a]=f[a]||{refCount:0};if(!p.handler){const g=O4(e);p.handler=g,o.call(this,a,g,u)}p.refCount++}catch{}return o.call(this,a,l,u)}}),Oi(s,"removeEventListener",function(o){return function(a,l,u){if(a==="click"||a=="keypress")try{const f=this.__sentry_instrumentation_handlers__||{},p=f[a];p&&(p.refCount--,p.refCount<=0&&(o.call(this,a,p.handler,u),p.handler=void 0,delete f[a]),Object.keys(f).length===0&&delete this.__sentry_instrumentation_handlers__)}catch{}return o.call(this,a,l,u)}}))})}function EB(e){if(e.type!==Fb)return!1;try{if(!e.target||e.target._sentryId!==Bb)return!1}catch{}return!0}function TB(e,t){return e!=="keypress"?!1:!t||!t.tagName?!0:!(t.tagName==="INPUT"||t.tagName==="TEXTAREA"||t.isContentEditable)}function O4(e,t=!1){return n=>{if(!n||n._sentryCaptured)return;const r=jB(n);if(TB(n.type,r))return;_s(n,"_sentryCaptured",!0),r&&!r._sentryId&&_s(r,"_sentryId",Zi());const i=n.type==="keypress"?"input":n.type;EB(n)||(e({event:n,name:i,global:t}),Fb=n.type,Bb=r?r._sentryId:void 0),clearTimeout(P4),P4=gt.setTimeout(()=>{Bb=void 0,Fb=void 0},CB)}}function jB(e){try{return e.target}catch{return null}}let tg;function g1(e){const t="history";wl(t,e),_l(t,NB)}function NB(){if(!oF())return;const e=gt.onpopstate;gt.onpopstate=function(...n){const r=gt.location.href,i=tg;if(tg=r,bs("history",{from:i,to:r}),e)try{return e.apply(this,n)}catch{}};function t(n){return function(...r){const i=r.length>2?r[2]:void 0;if(i){const s=tg,o=String(i);tg=o,bs("history",{from:s,to:o})}return n.apply(this,r)}}Oi(gt.history,"pushState",t),Oi(gt.history,"replaceState",t)}const t0={};function y9(e){const t=t0[e];if(t)return t;let n=gt[e];if(Pb(n))return t0[e]=n.bind(gt);const r=gt.document;if(r&&typeof r.createElement=="function")try{const i=r.createElement("iframe");i.hidden=!0,r.head.appendChild(i);const s=i.contentWindow;s&&s[e]&&(n=s[e]),r.head.removeChild(i)}catch(i){Nw&&Ge.warn(`Could not create sandbox iframe for ${e} check, bailing to window.${e}: `,i)}return n&&(t0[e]=n.bind(gt))}function M4(e){t0[e]=void 0}function jd(...e){return y9("setTimeout")(...e)}const xc="__sentry_xhr_v3__";function v9(e){wl("xhr",e),_l("xhr",IB)}function IB(){if(!gt.XMLHttpRequest)return;const e=XMLHttpRequest.prototype;e.open=new Proxy(e.open,{apply(t,n,r){const i=new Error,s=fi()*1e3,o=ra(r[0])?r[0].toUpperCase():void 0,a=RB(r[1]);if(!o||!a)return t.apply(n,r);n[xc]={method:o,url:a,request_headers:{}},o==="POST"&&a.match(/sentry_key/)&&(n.__sentry_own_request__=!0);const l=()=>{const u=n[xc];if(u&&n.readyState===4){try{u.status_code=n.status}catch{}const f={endTimestamp:fi()*1e3,startTimestamp:s,xhr:n,virtualError:i};bs("xhr",f)}};return"onreadystatechange"in n&&typeof n.onreadystatechange=="function"?n.onreadystatechange=new Proxy(n.onreadystatechange,{apply(u,f,p){return l(),u.apply(f,p)}}):n.addEventListener("readystatechange",l),n.setRequestHeader=new Proxy(n.setRequestHeader,{apply(u,f,p){const[g,y]=p,b=f[xc];return b&&ra(g)&&ra(y)&&(b.request_headers[g.toLowerCase()]=y),u.apply(f,p)}}),t.apply(n,r)}}),e.send=new Proxy(e.send,{apply(t,n,r){const i=n[xc];if(!i)return t.apply(n,r);r[0]!==void 0&&(i.body=r[0]);const s={startTimestamp:fi()*1e3,xhr:n};return bs("xhr",s),t.apply(n,r)}})}function RB(e){if(ra(e))return e;try{return e.toString()}catch{}}const Xv=[],n0=new Map;function PB(){if(Rw()&&pi){const t=OB();return()=>{t()}}return()=>{}}const A4={click:"click",pointerdown:"click",pointerup:"click",mousedown:"click",mouseup:"click",touchstart:"click",touchend:"click",mouseover:"hover",mouseout:"hover",mouseenter:"hover",mouseleave:"hover",pointerover:"hover",pointerout:"hover",pointerenter:"hover",pointerleave:"hover",dragstart:"drag",dragend:"drag",drag:"drag",dragenter:"drag",dragleave:"drag",dragover:"drag",drop:"drag",keydown:"press",keyup:"press",keypress:"press",input:"press"};function OB(){return d9(({metric:e})=>{if(e.value==null)return;const t=e.entries.find(b=>b.duration===e.value&&A4[b.name]);if(!t)return;const{interactionId:n}=t,r=A4[t.name],i=er(pi+t.startTime),s=er(e.value),o=Pr(),a=o?Dr(o):void 0,u=(n!=null?n0.get(n):void 0)||a,f=u?fn(u).description:Pn().getScopeData().transactionName,p=aa(t.target),g=yr({[Rr]:"auto.http.browser.inp",[Mc]:`ui.interaction.${r}`,[bw]:t.duration}),y=p9({name:p,transaction:f,attributes:g,startTime:i});y&&(y.addEvent("inp",{[f1]:"millisecond",[h1]:e.value}),y.end(i+s))})}function MB(e){const t=({entries:n})=>{const r=Pr(),i=r&&Dr(r);n.forEach(s=>{if(!nB(s)||!i)return;const o=s.interactionId;if(o!=null&&!n0.has(o)){if(Xv.length>10){const a=Xv.shift();n0.delete(a)}Xv.push(o),n0.set(o,i)}})};Td("event",t),Td("first-input",t)}function AB(e,t=y9("fetch")){let n=0,r=0;function i(s){const o=s.body.length;n+=o,r++;const a={body:s.body,method:"POST",referrerPolicy:"origin",headers:e.headers,keepalive:n<=6e4&&r<15,...e.fetchOptions};if(!t)return M4("fetch"),v0("No fetch implementation available");try{return t(e.url,a).then(l=>(n-=o,r--,{statusCode:l.status,headers:{"x-sentry-rate-limits":l.headers.get("X-Sentry-Rate-Limits"),"retry-after":l.headers.get("Retry-After")}}))}catch(l){return M4("fetch"),n-=o,r--,v0(l)}}return fL(e,i)}const DB=30,LB=50;function zb(e,t,n,r){const i={filename:e,function:t==="<anonymous>"?Oc:t,in_app:!0};return n!==void 0&&(i.lineno=n),r!==void 0&&(i.colno=r),i}const FB=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,BB=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,zB=/\((\S*)(?::(\d+))(?::(\d+))\)/,$B=e=>{const t=FB.exec(e);if(t){const[,r,i,s]=t;return zb(r,Oc,+i,+s)}const n=BB.exec(e);if(n){if(n[2]&&n[2].indexOf("eval")===0){const o=zB.exec(n[2]);o&&(n[2]=o[1],n[3]=o[2],n[4]=o[3])}const[i,s]=x9(n[1]||Oc,n[2]);return zb(s,i,n[3]?+n[3]:void 0,n[4]?+n[4]:void 0)}},UB=[DB,$B],HB=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,WB=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,qB=e=>{const t=HB.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){const s=WB.exec(t[3]);s&&(t[1]=t[1]||"eval",t[3]=s[1],t[4]=s[2],t[5]="")}let r=t[3],i=t[1]||Oc;return[i,r]=x9(i,r),zb(r,i,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}},VB=[LB,qB],QB=[UB,VB],KB=e8(...QB),x9=(e,t)=>{const n=e.indexOf("safari-extension")!==-1,r=e.indexOf("safari-web-extension")!==-1;return n||r?[e.indexOf("@")!==-1?e.split("@")[0]:Oc,n?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]},ng=1024,GB="Breadcrumbs",YB=(e={})=>{const t={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e};return{name:GB,setup(n){t.console&&LL(ez(n)),t.dom&&g9(ZB(n,t.dom)),t.xhr&&v9(tz(n)),t.fetch&&J8(nz(n)),t.history&&g1(rz(n)),t.sentry&&n.on("beforeSendEvent",JB(n))}}},XB=YB;function JB(e){return function(n){Xt()===e&&dl({category:`sentry.${n.type==="transaction"?"transaction":"event"}`,event_id:n.event_id,level:n.level,message:Wa(n)},{event:n})}}function ZB(e,t){return function(r){if(Xt()!==e)return;let i,s,o=typeof t=="object"?t.serializeAttribute:void 0,a=typeof t=="object"&&typeof t.maxStringLength=="number"?t.maxStringLength:void 0;a&&a>ng&&(bo&&Ge.warn(`\`dom.maxStringLength\` cannot exceed ${ng}, but a value of ${a} was configured. Sentry will use ${ng} instead.`),a=ng),typeof o=="string"&&(o=[o]);try{const u=r.event,f=iz(u)?u.target:u;i=aa(f,{keyAttrs:o,maxStringLength:a}),s=a8(f)}catch{i="<unknown>"}if(i.length===0)return;const l={category:`ui.${r.name}`,message:i};s&&(l.data={"ui.component_name":s}),dl(l,{event:r.event,name:r.name,global:r.global})}}function ez(e){return function(n){if(Xt()!==e)return;const r={category:"console",data:{arguments:n.args,logger:"console"},level:Q8(n.level),message:GS(n.args," ")};if(n.level==="assert")if(n.args[0]===!1)r.message=`Assertion failed: ${GS(n.args.slice(1)," ")||"console.assert"}`,r.data.arguments=n.args.slice(1);else return;dl(r,{input:n.args,level:n.level})}}function tz(e){return function(n){if(Xt()!==e)return;const{startTimestamp:r,endTimestamp:i}=n,s=n.xhr[xc];if(!r||!i||!s)return;const{method:o,url:a,status_code:l,body:u}=s,f={method:o,url:a,status_code:l},p={xhr:n.xhr,input:u,startTimestamp:r,endTimestamp:i},g=Y8(l);dl({category:"xhr",data:f,type:"http",level:g},p)}}function nz(e){return function(n){if(Xt()!==e)return;const{startTimestamp:r,endTimestamp:i}=n;if(i&&!(n.fetchData.url.match(/sentry_key/)&&n.fetchData.method==="POST"))if(n.error){const s=n.fetchData,o={data:n.error,input:n.args,startTimestamp:r,endTimestamp:i};dl({category:"fetch",data:s,level:"error",type:"http"},o)}else{const s=n.response,o={...n.fetchData,status_code:s&&s.status},a={input:n.args,response:s,startTimestamp:r,endTimestamp:i},l=Y8(o.status_code);dl({category:"fetch",data:o,type:"http",level:l},a)}}}function rz(e){return function(n){if(Xt()!==e)return;let r=n.from,i=n.to;const s=Ec(Nt.location.href);let o=r?Ec(r):void 0;const a=Ec(i);(!o||!o.path)&&(o=s),s.protocol===a.protocol&&s.host===a.host&&(i=a.relative),s.protocol===o.protocol&&s.host===o.host&&(r=o.relative),dl({category:"navigation",data:{from:r,to:i}})}}function iz(e){return!!e&&!!e.target}const sz=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],oz="BrowserApiErrors",az=(e={})=>{const t={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...e};return{name:oz,setupOnce(){t.setTimeout&&Oi(Nt,"setTimeout",D4),t.setInterval&&Oi(Nt,"setInterval",D4),t.requestAnimationFrame&&Oi(Nt,"requestAnimationFrame",cz),t.XMLHttpRequest&&"XMLHttpRequest"in Nt&&Oi(XMLHttpRequest.prototype,"send",uz);const n=t.eventTarget;n&&(Array.isArray(n)?n:sz).forEach(dz)}}},lz=az;function D4(e){return function(...t){const n=t[0];return t[0]=Ed(n,{mechanism:{data:{function:sa(e)},handled:!1,type:"instrument"}}),e.apply(this,t)}}function cz(e){return function(t){return e.apply(this,[Ed(t,{mechanism:{data:{function:"requestAnimationFrame",handler:sa(e)},handled:!1,type:"instrument"}})])}}function uz(e){return function(...t){const n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(i=>{i in n&&typeof n[i]=="function"&&Oi(n,i,function(s){const o={mechanism:{data:{function:i,handler:sa(s)},handled:!1,type:"instrument"}},a=yw(s);return a&&(o.mechanism.data.handler=sa(a)),Ed(s,o)})}),e.apply(this,t)}}function dz(e){const n=Nt[e],r=n&&n.prototype;!r||!r.hasOwnProperty||!r.hasOwnProperty("addEventListener")||(Oi(r,"addEventListener",function(i){return function(s,o,a){try{fz(o)&&(o.handleEvent=Ed(o.handleEvent,{mechanism:{data:{function:"handleEvent",handler:sa(o),target:e},handled:!1,type:"instrument"}}))}catch{}return i.apply(this,[s,Ed(o,{mechanism:{data:{function:"addEventListener",handler:sa(o),target:e},handled:!1,type:"instrument"}}),a])}}),Oi(r,"removeEventListener",function(i){return function(s,o,a){try{const l=o.__sentry_wrapped__;l&&i.call(this,s,l,a)}catch{}return i.call(this,s,o,a)}}))}function fz(e){return typeof e.handleEvent=="function"}const hz=()=>({name:"BrowserSession",setupOnce(){if(typeof Nt.document>"u"){bo&&Ge.warn("Using the `browserSessionIntegration` in non-browser environments is not supported.");return}g4({ignoreDuration:!0}),y4(),g1(({from:e,to:t})=>{e!==void 0&&e!==t&&(g4({ignoreDuration:!0}),y4())})}}),pz="GlobalHandlers",mz=(e={})=>{const t={onerror:!0,onunhandledrejection:!0,...e};return{name:pz,setupOnce(){Error.stackTraceLimit=50},setup(n){t.onerror&&(yz(n),L4("onerror")),t.onunhandledrejection&&(vz(n),L4("onunhandledrejection"))}}},gz=mz;function yz(e){t8(t=>{const{stackParser:n,attachStacktrace:r}=b9();if(Xt()!==e||e9())return;const{msg:i,url:s,line:o,column:a,error:l}=t,u=wz(jw(n,l||i,void 0,r,!1),s,o,a);u.level="error",D8(u,{originalException:l,mechanism:{handled:!1,type:"onerror"}})})}function vz(e){n8(t=>{const{stackParser:n,attachStacktrace:r}=b9();if(Xt()!==e||e9())return;const i=xz(t),s=gw(i)?bz(i):jw(n,i,void 0,r,!0);s.level="error",D8(s,{originalException:i,mechanism:{handled:!1,type:"onunhandledrejection"}})})}function xz(e){if(gw(e))return e;try{if("reason"in e)return e.reason;if("detail"in e&&"reason"in e.detail)return e.detail.reason}catch{}return e}function bz(e){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(e)}`}]}}}function wz(e,t,n,r){const i=e.exception=e.exception||{},s=i.values=i.values||[],o=s[0]=s[0]||{},a=o.stacktrace=o.stacktrace||{},l=a.frames=a.frames||[],u=r,f=n,p=ra(t)&&t.length>0?t:o8();return l.length===0&&l.push({colno:u,filename:p,function:Oc,in_app:!0,lineno:f}),e}function L4(e){bo&&Ge.log(`Global Handler attached: ${e}`)}function b9(){const e=Xt();return e&&e.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}const _z=()=>({name:"HttpContext",preprocessEvent(e){if(!Nt.navigator&&!Nt.location&&!Nt.document)return;const t=e.request&&e.request.url||Nt.location&&Nt.location.href,{referrer:n}=Nt.document||{},{userAgent:r}=Nt.navigator||{},i={...e.request&&e.request.headers,...n&&{Referer:n},...r&&{"User-Agent":r}},s={...e.request,...t&&{url:t},headers:i};e.request=s}}),Sz="cause",Cz=5,kz="LinkedErrors",Ez=(e={})=>{const t=e.limit||Cz,n=e.key||Sz;return{name:kz,preprocessEvent(r,i,s){const o=s.getOptions();AL(Ew,o.stackParser,o.maxValueLength,n,t,r,i)}}},Tz=Ez;function jz(e){const t=[CL(),bL(),lz(),XB(),gz(),Tz(),$L(),_z()];return e.autoSessionTracking!==!1&&t.push(hz()),t}function Nz(e={}){const t={defaultIntegrations:jz(e),release:typeof __SENTRY_RELEASE__=="string"?__SENTRY_RELEASE__:Nt.SENTRY_RELEASE&&Nt.SENTRY_RELEASE.id?Nt.SENTRY_RELEASE.id:void 0,autoSessionTracking:!0,sendClientReports:!0};return e.defaultIntegrations==null&&delete e.defaultIntegrations,{...t,...e}}function Iz(){const e=typeof Nt.window<"u"&&Nt;if(!e)return!1;const t=e.chrome?"chrome":"browser",n=e[t],r=n&&n.runtime&&n.runtime.id,i=Nt.location&&Nt.location.href||"",s=["chrome-extension:","moz-extension:","ms-browser-extension:","safari-web-extension:"],o=!!r&&Nt===Nt.top&&s.some(l=>i.startsWith(`${l}//`)),a=typeof e.nw<"u";return!!r&&!o&&!a}function Rz(e={}){const t=Nz(e);if(!t.skipBrowserExtensionCheck&&Iz()){bl(()=>{console.error("[Sentry] You cannot run Sentry this way in a browser extension, check: https://docs.sentry.io/platforms/javascript/best-practices/browser-extensions/")});return}bo&&(X8()||Ge.warn("No Fetch API detected. The Sentry SDK requires a Fetch API compatible environment to send events. Please add a Fetch API polyfill."));const n={...t,stackParser:eA(t.stackParser||KB),integrations:ZD(t),transport:t.transport||AB};return sL(_F,n)}const Nn=en,Pw="sentryReplaySession",Pz="replay_event",Ow="Unable to send Replay",Oz=3e5,Mz=9e5,Az=5e3,Dz=5500,Lz=6e4,Fz=5e3,Bz=3,F4=15e4,rg=5e3,zz=3e3,$z=300,Mw=2e7,Uz=4999,Hz=15e3,B4=36e5;function $b(e,t){return e??t()}function Fh(e){let t,n=e[0],r=1;for(;r<e.length;){const i=e[r],s=e[r+1];if(r+=2,(i==="optionalAccess"||i==="optionalCall")&&n==null)return;i==="access"||i==="optionalAccess"?(t=n,n=s(n)):(i==="call"||i==="optionalCall")&&(n=s((...o)=>n.call(t,...o)),t=void 0)}return n}var mr;(function(e){e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment"})(mr||(mr={}));function Wz(e){return e.nodeType===e.ELEMENT_NODE}function bh(e){const t=Fh([e,"optionalAccess",n=>n.host]);return Fh([t,"optionalAccess",n=>n.shadowRoot])===e}function wh(e){return Object.prototype.toString.call(e)==="[object ShadowRoot]"}function qz(e){return e.includes(" background-clip: text;")&&!e.includes(" -webkit-background-clip: text;")&&(e=e.replace(/\sbackground-clip:\s*text;/g," -webkit-background-clip: text; background-clip: text;")),e}function Vz(e){const{cssText:t}=e;if(t.split('"').length<3)return t;const n=["@import",`url(${JSON.stringify(e.href)})`];return e.layerName===""?n.push("layer"):e.layerName&&n.push(`layer(${e.layerName})`),e.supportsText&&n.push(`supports(${e.supportsText})`),e.media.length&&n.push(e.media.mediaText),n.join(" ")+";"}function C0(e){try{const t=e.rules||e.cssRules;return t?qz(Array.from(t,w9).join("")):null}catch{return null}}function Qz(e){let t="";for(let n=0;n<e.style.length;n++){const r=e.style,i=r[n],s=r.getPropertyPriority(i);t+=`${i}:${r.getPropertyValue(i)}${s?" !important":""};`}return`${e.selectorText} { ${t} }`}function w9(e){let t;if(Gz(e))try{t=C0(e.styleSheet)||Vz(e)}catch{}else if(Yz(e)){let n=e.cssText;const r=e.selectorText.includes(":"),i=typeof e.style.all=="string"&&e.style.all;if(i&&(n=Qz(e)),r&&(n=Kz(n)),r||i)return n}return t||e.cssText}function Kz(e){const t=/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm;return e.replace(t,"$1\\$2")}function Gz(e){return"styleSheet"in e}function Yz(e){return"selectorText"in e}class _9{constructor(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}getId(t){if(!t)return-1;const n=Fh([this,"access",r=>r.getMeta,"call",r=>r(t),"optionalAccess",r=>r.id]);return $b(n,()=>-1)}getNode(t){return this.idNodeMap.get(t)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(t){return this.nodeMetaMap.get(t)||null}removeNodeFromMap(t){const n=this.getId(t);this.idNodeMap.delete(n),t.childNodes&&t.childNodes.forEach(r=>this.removeNodeFromMap(r))}has(t){return this.idNodeMap.has(t)}hasNode(t){return this.nodeMetaMap.has(t)}add(t,n){const r=n.id;this.idNodeMap.set(r,t),this.nodeMetaMap.set(t,n)}replace(t,n){const r=this.getNode(t);if(r){const i=this.nodeMetaMap.get(r);i&&this.nodeMetaMap.set(n,i)}this.idNodeMap.set(t,n)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}}function Xz(){return new _9}function y1({maskInputOptions:e,tagName:t,type:n}){return t==="OPTION"&&(t="SELECT"),!!(e[t.toLowerCase()]||n&&e[n]||n==="password"||t==="INPUT"&&!n&&e.text)}function Bh({isMasked:e,element:t,value:n,maskInputFn:r}){let i=n||"";return e?(r&&(i=r(i,t)),"*".repeat(i.length)):i}function Nd(e){return e.toLowerCase()}function Ub(e){return e.toUpperCase()}const z4="__rrweb_original__";function Jz(e){const t=e.getContext("2d");if(!t)return!0;const n=50;for(let r=0;r<e.width;r+=n)for(let i=0;i<e.height;i+=n){const s=t.getImageData,o=z4 in s?s[z4]:s;if(new Uint32Array(o.call(t,r,i,Math.min(n,e.width-r),Math.min(n,e.height-i)).data.buffer).some(l=>l!==0))return!1}return!0}function Aw(e){const t=e.type;return e.hasAttribute("data-rr-is-password")?"password":t?Nd(t):null}function k0(e,t,n){return t==="INPUT"&&(n==="radio"||n==="checkbox")?e.getAttribute("value")||"":e.value}function S9(e,t){let n;try{n=new URL(e,$b(t,()=>window.location.href))}catch{return null}const r=/\.([0-9a-z]+)(?:$)/i,i=n.pathname.match(r);return $b(Fh([i,"optionalAccess",s=>s[1]]),()=>null)}const $4={};function C9(e){const t=$4[e];if(t)return t;const n=window.document;let r=window[e];if(n&&typeof n.createElement=="function")try{const i=n.createElement("iframe");i.hidden=!0,n.head.appendChild(i);const s=i.contentWindow;s&&s[e]&&(r=s[e]),n.head.removeChild(i)}catch{}return $4[e]=r.bind(window)}function Hb(...e){return C9("setTimeout")(...e)}function k9(...e){return C9("clearTimeout")(...e)}function E9(e){try{return e.contentDocument}catch{}}let Zz=1;const e$=new RegExp("[^a-z0-9-_:]"),zh=-2;function Dw(){return Zz++}function t$(e){if(e instanceof HTMLFormElement)return"form";const t=Nd(e.tagName);return e$.test(t)?"div":t}function n$(e){let t="";return e.indexOf("//")>-1?t=e.split("/").slice(0,3).join("/"):t=e.split("/")[0],t=t.split("?")[0],t}let Du,U4;const r$=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,i$=/^(?:[a-z+]+:)?\/\//i,s$=/^www\..*/i,o$=/^(data:)([^,]*),(.*)/i;function E0(e,t){return(e||"").replace(r$,(n,r,i,s,o,a)=>{const l=i||o||a,u=r||s||"";if(!l)return n;if(i$.test(l)||s$.test(l))return`url(${u}${l}${u})`;if(o$.test(l))return`url(${u}${l}${u})`;if(l[0]==="/")return`url(${u}${n$(t)+l}${u})`;const f=t.split("/"),p=l.split("/");f.pop();for(const g of p)g!=="."&&(g===".."?f.pop():f.push(g));return`url(${u}${f.join("/")}${u})`})}const a$=/^[^ \t\n\r\u000c]+/,l$=/^[, \t\n\r\u000c]+/;function c$(e,t){if(t.trim()==="")return t;let n=0;function r(s){let o;const a=s.exec(t.substring(n));return a?(o=a[0],n+=o.length,o):""}const i=[];for(;r(l$),!(n>=t.length);){let s=r(a$);if(s.slice(-1)===",")s=dd(e,s.substring(0,s.length-1)),i.push(s);else{let o="";s=dd(e,s);let a=!1;for(;;){const l=t.charAt(n);if(l===""){i.push((s+o).trim());break}else if(a)l===")"&&(a=!1);else if(l===","){n+=1,i.push((s+o).trim());break}else l==="("&&(a=!0);o+=l,n+=1}}}return i.join(", ")}const H4=new WeakMap;function dd(e,t){return!t||t.trim()===""?t:v1(e,t)}function u$(e){return!!(e.tagName==="svg"||e.ownerSVGElement)}function v1(e,t){let n=H4.get(e);if(n||(n=e.createElement("a"),H4.set(e,n)),!t)t="";else if(t.startsWith("blob:")||t.startsWith("data:"))return t;return n.setAttribute("href",t),n.href}function T9(e,t,n,r,i,s){return r&&(n==="src"||n==="href"&&!(t==="use"&&r[0]==="#")||n==="xlink:href"&&r[0]!=="#"||n==="background"&&(t==="table"||t==="td"||t==="th")?dd(e,r):n==="srcset"?c$(e,r):n==="style"?E0(r,v1(e)):t==="object"&&n==="data"?dd(e,r):typeof s=="function"?s(n,r,i):r)}function j9(e,t,n){return(e==="video"||e==="audio")&&t==="autoplay"}function d$(e,t,n,r){try{if(r&&e.matches(r))return!1;if(typeof t=="string"){if(e.classList.contains(t))return!0}else for(let i=e.classList.length;i--;){const s=e.classList[i];if(t.test(s))return!0}if(n)return e.matches(n)}catch{}return!1}function f$(e,t){for(let n=e.classList.length;n--;){const r=e.classList[n];if(t.test(r))return!0}return!1}function bc(e,t,n=1/0,r=0){return!e||e.nodeType!==e.ELEMENT_NODE||r>n?-1:t(e)?r:bc(e.parentNode,t,n,r+1)}function fd(e,t){return n=>{const r=n;if(r===null)return!1;try{if(e){if(typeof e=="string"){if(r.matches(`.${e}`))return!0}else if(f$(r,e))return!0}return!!(t&&r.matches(t))}catch{return!1}}}function Id(e,t,n,r,i,s){try{const o=e.nodeType===e.ELEMENT_NODE?e:e.parentElement;if(o===null)return!1;if(o.tagName==="INPUT"){const u=o.getAttribute("autocomplete");if(["current-password","new-password","cc-number","cc-exp","cc-exp-month","cc-exp-year","cc-csc"].includes(u))return!0}let a=-1,l=-1;if(s){if(l=bc(o,fd(r,i)),l<0)return!0;a=bc(o,fd(t,n),l>=0?l:1/0)}else{if(a=bc(o,fd(t,n)),a<0)return!1;l=bc(o,fd(r,i),a>=0?a:1/0)}return a>=0?l>=0?a<=l:!0:l>=0?!1:!!s}catch{}return!!s}function h$(e,t,n){const r=e.contentWindow;if(!r)return;let i=!1,s;try{s=r.document.readyState}catch{return}if(s!=="complete"){const a=Hb(()=>{i||(t(),i=!0)},n);e.addEventListener("load",()=>{k9(a),i=!0,t()});return}const o="about:blank";if(r.location.href!==o||e.src===o||e.src==="")return Hb(t,0),e.addEventListener("load",t);e.addEventListener("load",t)}function p$(e,t,n){let r=!1,i;try{i=e.sheet}catch{return}if(i)return;const s=Hb(()=>{r||(t(),r=!0)},n);e.addEventListener("load",()=>{k9(s),r=!0,t()})}function m$(e,t){const{doc:n,mirror:r,blockClass:i,blockSelector:s,unblockSelector:o,maskAllText:a,maskAttributeFn:l,maskTextClass:u,unmaskTextClass:f,maskTextSelector:p,unmaskTextSelector:g,inlineStylesheet:y,maskInputOptions:b={},maskTextFn:_,maskInputFn:C,dataURLOptions:k={},inlineImages:R,recordCanvas:O,keepIframeSrcFn:$,newlyAddedElement:z=!1}=t,j=g$(n,r);switch(e.nodeType){case e.DOCUMENT_NODE:return e.compatMode!=="CSS1Compat"?{type:mr.Document,childNodes:[],compatMode:e.compatMode}:{type:mr.Document,childNodes:[]};case e.DOCUMENT_TYPE_NODE:return{type:mr.DocumentType,name:e.name,publicId:e.publicId,systemId:e.systemId,rootId:j};case e.ELEMENT_NODE:return v$(e,{doc:n,blockClass:i,blockSelector:s,unblockSelector:o,inlineStylesheet:y,maskAttributeFn:l,maskInputOptions:b,maskInputFn:C,dataURLOptions:k,inlineImages:R,recordCanvas:O,keepIframeSrcFn:$,newlyAddedElement:z,rootId:j,maskTextClass:u,unmaskTextClass:f,maskTextSelector:p,unmaskTextSelector:g});case e.TEXT_NODE:return y$(e,{doc:n,maskAllText:a,maskTextClass:u,unmaskTextClass:f,maskTextSelector:p,unmaskTextSelector:g,maskTextFn:_,maskInputOptions:b,maskInputFn:C,rootId:j});case e.CDATA_SECTION_NODE:return{type:mr.CDATA,textContent:"",rootId:j};case e.COMMENT_NODE:return{type:mr.Comment,textContent:e.textContent||"",rootId:j};default:return!1}}function g$(e,t){if(!t.hasNode(e))return;const n=t.getId(e);return n===1?void 0:n}function y$(e,t){const{maskAllText:n,maskTextClass:r,unmaskTextClass:i,maskTextSelector:s,unmaskTextSelector:o,maskTextFn:a,maskInputOptions:l,maskInputFn:u,rootId:f}=t,p=e.parentNode&&e.parentNode.tagName;let g=e.textContent;const y=p==="STYLE"?!0:void 0,b=p==="SCRIPT"?!0:void 0,_=p==="TEXTAREA"?!0:void 0;if(y&&g){try{e.nextSibling||e.previousSibling||Fh([e,"access",k=>k.parentNode,"access",k=>k.sheet,"optionalAccess",k=>k.cssRules])&&(g=C0(e.parentNode.sheet))}catch(k){console.warn(`Cannot get CSS styles from text's parentNode. Error: ${k}`,e)}g=E0(g,v1(t.doc))}b&&(g="SCRIPT_PLACEHOLDER");const C=Id(e,r,s,i,o,n);if(!y&&!b&&!_&&g&&C&&(g=a?a(g,e.parentElement):g.replace(/[\S]/g,"*")),_&&g&&(l.textarea||C)&&(g=u?u(g,e.parentNode):g.replace(/[\S]/g,"*")),p==="OPTION"&&g){const k=y1({type:null,tagName:p,maskInputOptions:l});g=Bh({isMasked:Id(e,r,s,i,o,k),element:e,value:g,maskInputFn:u})}return{type:mr.Text,textContent:g||"",isStyle:y,rootId:f}}function v$(e,t){const{doc:n,blockClass:r,blockSelector:i,unblockSelector:s,inlineStylesheet:o,maskInputOptions:a={},maskAttributeFn:l,maskInputFn:u,dataURLOptions:f={},inlineImages:p,recordCanvas:g,keepIframeSrcFn:y,newlyAddedElement:b=!1,rootId:_,maskTextClass:C,unmaskTextClass:k,maskTextSelector:R,unmaskTextSelector:O}=t,$=d$(e,r,i,s),z=t$(e);let j={};const A=e.attributes.length;for(let U=0;U<A;U++){const D=e.attributes[U];D.name&&!j9(z,D.name,D.value)&&(j[D.name]=T9(n,z,Nd(D.name),D.value,e,l))}if(z==="link"&&o){const U=Array.from(n.styleSheets).find(Z=>Z.href===e.href);let D=null;U&&(D=C0(U)),D&&(j.rel=null,j.href=null,j.crossorigin=null,j._cssText=E0(D,U.href))}if(z==="style"&&e.sheet&&!(e.innerText||e.textContent||"").trim().length){const U=C0(e.sheet);U&&(j._cssText=E0(U,v1(n)))}if(z==="input"||z==="textarea"||z==="select"||z==="option"){const U=e,D=Aw(U),Z=k0(U,Ub(z),D),X=U.checked;if(D!=="submit"&&D!=="button"&&Z){const re=Id(U,C,R,k,O,y1({type:D,tagName:Ub(z),maskInputOptions:a}));j.value=Bh({isMasked:re,element:U,value:Z,maskInputFn:u})}X&&(j.checked=X)}if(z==="option"&&(e.selected&&!a.select?j.selected=!0:delete j.selected),z==="canvas"&&g){if(e.__context==="2d")Jz(e)||(j.rr_dataURL=e.toDataURL(f.type,f.quality));else if(!("__context"in e)){const U=e.toDataURL(f.type,f.quality),D=n.createElement("canvas");D.width=e.width,D.height=e.height;const Z=D.toDataURL(f.type,f.quality);U!==Z&&(j.rr_dataURL=U)}}if(z==="img"&&p){Du||(Du=n.createElement("canvas"),U4=Du.getContext("2d"));const U=e,D=U.currentSrc||U.getAttribute("src")||"<unknown-src>",Z=U.crossOrigin,X=()=>{U.removeEventListener("load",X);try{Du.width=U.naturalWidth,Du.height=U.naturalHeight,U4.drawImage(U,0,0),j.rr_dataURL=Du.toDataURL(f.type,f.quality)}catch(re){if(U.crossOrigin!=="anonymous"){U.crossOrigin="anonymous",U.complete&&U.naturalWidth!==0?X():U.addEventListener("load",X);return}else console.warn(`Cannot inline img src=${D}! Error: ${re}`)}U.crossOrigin==="anonymous"&&(Z?j.crossOrigin=Z:U.removeAttribute("crossorigin"))};U.complete&&U.naturalWidth!==0?X():U.addEventListener("load",X)}if((z==="audio"||z==="video")&&(j.rr_mediaState=e.paused?"paused":"played",j.rr_mediaCurrentTime=e.currentTime),b||(e.scrollLeft&&(j.rr_scrollLeft=e.scrollLeft),e.scrollTop&&(j.rr_scrollTop=e.scrollTop)),$){const{width:U,height:D}=e.getBoundingClientRect();j={class:j.class,rr_width:`${U}px`,rr_height:`${D}px`}}z==="iframe"&&!y(j.src)&&(!$&&!E9(e)&&(j.rr_src=j.src),delete j.src);let B;try{customElements.get(z)&&(B=!0)}catch{}return{type:mr.Element,tagName:z,attributes:j,childNodes:[],isSVG:u$(e)||void 0,needBlock:$,rootId:_,isCustom:B}}function En(e){return e==null?"":e.toLowerCase()}function x$(e,t){if(t.comment&&e.type===mr.Comment)return!0;if(e.type===mr.Element){if(t.script&&(e.tagName==="script"||e.tagName==="link"&&(e.attributes.rel==="preload"||e.attributes.rel==="modulepreload")||e.tagName==="link"&&e.attributes.rel==="prefetch"&&typeof e.attributes.href=="string"&&S9(e.attributes.href)==="js"))return!0;if(t.headFavicon&&(e.tagName==="link"&&e.attributes.rel==="shortcut icon"||e.tagName==="meta"&&(En(e.attributes.name).match(/^msapplication-tile(image|color)$/)||En(e.attributes.name)==="application-name"||En(e.attributes.rel)==="icon"||En(e.attributes.rel)==="apple-touch-icon"||En(e.attributes.rel)==="shortcut icon")))return!0;if(e.tagName==="meta"){if(t.headMetaDescKeywords&&En(e.attributes.name).match(/^description|keywords$/))return!0;if(t.headMetaSocial&&(En(e.attributes.property).match(/^(og|twitter|fb):/)||En(e.attributes.name).match(/^(og|twitter):/)||En(e.attributes.name)==="pinterest"))return!0;if(t.headMetaRobots&&(En(e.attributes.name)==="robots"||En(e.attributes.name)==="googlebot"||En(e.attributes.name)==="bingbot"))return!0;if(t.headMetaHttpEquiv&&e.attributes["http-equiv"]!==void 0)return!0;if(t.headMetaAuthorship&&(En(e.attributes.name)==="author"||En(e.attributes.name)==="generator"||En(e.attributes.name)==="framework"||En(e.attributes.name)==="publisher"||En(e.attributes.name)==="progid"||En(e.attributes.property).match(/^article:/)||En(e.attributes.property).match(/^product:/)))return!0;if(t.headMetaVerification&&(En(e.attributes.name)==="google-site-verification"||En(e.attributes.name)==="yandex-verification"||En(e.attributes.name)==="csrf-token"||En(e.attributes.name)==="p:domain_verify"||En(e.attributes.name)==="verify-v1"||En(e.attributes.name)==="verification"||En(e.attributes.name)==="shopify-checkout-api-token"))return!0}}return!1}function hd(e,t){const{doc:n,mirror:r,blockClass:i,blockSelector:s,unblockSelector:o,maskAllText:a,maskTextClass:l,unmaskTextClass:u,maskTextSelector:f,unmaskTextSelector:p,skipChild:g=!1,inlineStylesheet:y=!0,maskInputOptions:b={},maskAttributeFn:_,maskTextFn:C,maskInputFn:k,slimDOMOptions:R,dataURLOptions:O={},inlineImages:$=!1,recordCanvas:z=!1,onSerialize:j,onIframeLoad:A,iframeLoadTimeout:B=5e3,onStylesheetLoad:U,stylesheetLoadTimeout:D=5e3,keepIframeSrcFn:Z=()=>!1,newlyAddedElement:X=!1}=t;let{preserveWhiteSpace:re=!0}=t;const V=m$(e,{doc:n,mirror:r,blockClass:i,blockSelector:s,maskAllText:a,unblockSelector:o,maskTextClass:l,unmaskTextClass:u,maskTextSelector:f,unmaskTextSelector:p,inlineStylesheet:y,maskInputOptions:b,maskAttributeFn:_,maskTextFn:C,maskInputFn:k,dataURLOptions:O,inlineImages:$,recordCanvas:z,keepIframeSrcFn:Z,newlyAddedElement:X});if(!V)return console.warn(e,"not serialized"),null;let q;r.hasNode(e)?q=r.getId(e):x$(V,R)||!re&&V.type===mr.Text&&!V.isStyle&&!V.textContent.replace(/^\s+|\s+$/gm,"").length?q=zh:q=Dw();const Q=Object.assign(V,{id:q});if(r.add(e,Q),q===zh)return null;j&&j(e);let ne=!g;if(Q.type===mr.Element){ne=ne&&!Q.needBlock,delete Q.needBlock;const ee=e.shadowRoot;ee&&wh(ee)&&(Q.isShadowHost=!0)}if((Q.type===mr.Document||Q.type===mr.Element)&&ne){R.headWhitespace&&Q.type===mr.Element&&Q.tagName==="head"&&(re=!1);const ee={doc:n,mirror:r,blockClass:i,blockSelector:s,maskAllText:a,unblockSelector:o,maskTextClass:l,unmaskTextClass:u,maskTextSelector:f,unmaskTextSelector:p,skipChild:g,inlineStylesheet:y,maskInputOptions:b,maskAttributeFn:_,maskTextFn:C,maskInputFn:k,slimDOMOptions:R,dataURLOptions:O,inlineImages:$,recordCanvas:z,preserveWhiteSpace:re,onSerialize:j,onIframeLoad:A,iframeLoadTimeout:B,onStylesheetLoad:U,stylesheetLoadTimeout:D,keepIframeSrcFn:Z};for(const fe of Array.from(e.childNodes)){const F=hd(fe,ee);F&&Q.childNodes.push(F)}if(Wz(e)&&e.shadowRoot)for(const fe of Array.from(e.shadowRoot.childNodes)){const F=hd(fe,ee);F&&(wh(e.shadowRoot)&&(F.isShadow=!0),Q.childNodes.push(F))}}return e.parentNode&&bh(e.parentNode)&&wh(e.parentNode)&&(Q.isShadow=!0),Q.type===mr.Element&&Q.tagName==="iframe"&&h$(e,()=>{const ee=E9(e);if(ee&&A){const fe=hd(ee,{doc:ee,mirror:r,blockClass:i,blockSelector:s,unblockSelector:o,maskAllText:a,maskTextClass:l,unmaskTextClass:u,maskTextSelector:f,unmaskTextSelector:p,skipChild:!1,inlineStylesheet:y,maskInputOptions:b,maskAttributeFn:_,maskTextFn:C,maskInputFn:k,slimDOMOptions:R,dataURLOptions:O,inlineImages:$,recordCanvas:z,preserveWhiteSpace:re,onSerialize:j,onIframeLoad:A,iframeLoadTimeout:B,onStylesheetLoad:U,stylesheetLoadTimeout:D,keepIframeSrcFn:Z});fe&&A(e,fe)}},B),Q.type===mr.Element&&Q.tagName==="link"&&typeof Q.attributes.rel=="string"&&(Q.attributes.rel==="stylesheet"||Q.attributes.rel==="preload"&&typeof Q.attributes.href=="string"&&S9(Q.attributes.href)==="css")&&p$(e,()=>{if(U){const ee=hd(e,{doc:n,mirror:r,blockClass:i,blockSelector:s,unblockSelector:o,maskAllText:a,maskTextClass:l,unmaskTextClass:u,maskTextSelector:f,unmaskTextSelector:p,skipChild:!1,inlineStylesheet:y,maskInputOptions:b,maskAttributeFn:_,maskTextFn:C,maskInputFn:k,slimDOMOptions:R,dataURLOptions:O,inlineImages:$,recordCanvas:z,preserveWhiteSpace:re,onSerialize:j,onIframeLoad:A,iframeLoadTimeout:B,onStylesheetLoad:U,stylesheetLoadTimeout:D,keepIframeSrcFn:Z});ee&&U(e,ee)}},D),Q}function b$(e,t){const{mirror:n=new _9,blockClass:r="rr-block",blockSelector:i=null,unblockSelector:s=null,maskAllText:o=!1,maskTextClass:a="rr-mask",unmaskTextClass:l=null,maskTextSelector:u=null,unmaskTextSelector:f=null,inlineStylesheet:p=!0,inlineImages:g=!1,recordCanvas:y=!1,maskAllInputs:b=!1,maskAttributeFn:_,maskTextFn:C,maskInputFn:k,slimDOM:R=!1,dataURLOptions:O,preserveWhiteSpace:$,onSerialize:z,onIframeLoad:j,iframeLoadTimeout:A,onStylesheetLoad:B,stylesheetLoadTimeout:U,keepIframeSrcFn:D=()=>!1}=t||{};return hd(e,{doc:e,mirror:n,blockClass:r,blockSelector:i,unblockSelector:s,maskAllText:o,maskTextClass:a,unmaskTextClass:l,maskTextSelector:u,unmaskTextSelector:f,skipChild:!1,inlineStylesheet:p,maskInputOptions:b===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0}:b===!1?{}:b,maskAttributeFn:_,maskTextFn:C,maskInputFn:k,slimDOMOptions:R===!0||R==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:R==="all",headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:R===!1?{}:R,dataURLOptions:O,inlineImages:g,recordCanvas:y,preserveWhiteSpace:$,onSerialize:z,onIframeLoad:j,iframeLoadTimeout:A,onStylesheetLoad:B,stylesheetLoadTimeout:U,keepIframeSrcFn:D,newlyAddedElement:!1})}function qa(e){let t,n=e[0],r=1;for(;r<e.length;){const i=e[r],s=e[r+1];if(r+=2,(i==="optionalAccess"||i==="optionalCall")&&n==null)return;i==="access"||i==="optionalAccess"?(t=n,n=s(n)):(i==="call"||i==="optionalCall")&&(n=s((...o)=>n.call(t,...o)),t=void 0)}return n}function ui(e,t,n=document){const r={capture:!0,passive:!0};return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t,r)}const sd=`Please stop import mirror directly. Instead of that,\r
now you can use replayer.getMirror() to access the mirror instance of a replayer,\r
or you can use record.mirror to access the mirror instance during recording.`;let W4={map:{},getId(){return console.error(sd),-1},getNode(){return console.error(sd),null},removeNodeFromMap(){console.error(sd)},has(){return console.error(sd),!1},reset(){console.error(sd)}};typeof window<"u"&&window.Proxy&&window.Reflect&&(W4=new Proxy(W4,{get(e,t,n){return t==="map"&&console.error(sd),Reflect.get(e,t,n)}}));function $h(e,t,n={}){let r=null,i=0;return function(...s){const o=Date.now();!i&&n.leading===!1&&(i=o);const a=t-(o-i),l=this;a<=0||a>t?(r&&(T$(r),r=null),i=o,e.apply(l,s)):!r&&n.trailing!==!1&&(r=x1(()=>{i=n.leading===!1?0:Date.now(),r=null,e.apply(l,s)},a))}}function N9(e,t,n,r,i=window){const s=i.Object.getOwnPropertyDescriptor(e,t);return i.Object.defineProperty(e,t,r?n:{set(o){x1(()=>{n.set.call(this,o)},0),s&&s.set&&s.set.call(this,o)}}),()=>N9(e,t,s||{},!0)}function Lw(e,t,n){try{if(!(t in e))return()=>{};const r=e[t],i=n(r);return typeof i=="function"&&(i.prototype=i.prototype||{},Object.defineProperties(i,{__rrweb_original__:{enumerable:!1,value:r}})),e[t]=i,()=>{e[t]=r}}catch{return()=>{}}}let T0=Date.now;/[1-9][0-9]{12}/.test(Date.now().toString())||(T0=()=>new Date().getTime());function I9(e){const t=e.document;return{left:t.scrollingElement?t.scrollingElement.scrollLeft:e.pageXOffset!==void 0?e.pageXOffset:qa([t,"optionalAccess",n=>n.documentElement,"access",n=>n.scrollLeft])||qa([t,"optionalAccess",n=>n.body,"optionalAccess",n=>n.parentElement,"optionalAccess",n=>n.scrollLeft])||qa([t,"optionalAccess",n=>n.body,"optionalAccess",n=>n.scrollLeft])||0,top:t.scrollingElement?t.scrollingElement.scrollTop:e.pageYOffset!==void 0?e.pageYOffset:qa([t,"optionalAccess",n=>n.documentElement,"access",n=>n.scrollTop])||qa([t,"optionalAccess",n=>n.body,"optionalAccess",n=>n.parentElement,"optionalAccess",n=>n.scrollTop])||qa([t,"optionalAccess",n=>n.body,"optionalAccess",n=>n.scrollTop])||0}}function R9(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function P9(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function O9(e){return e?e.nodeType===e.ELEMENT_NODE?e:e.parentElement:null}function Ji(e,t,n,r,i){if(!e)return!1;const s=O9(e);if(!s)return!1;const o=fd(t,n);if(!i){const u=r&&s.matches(r);return o(s)&&!u}const a=bc(s,o);let l=-1;return a<0?!1:(r&&(l=bc(s,fd(null,r))),a>-1&&l<0?!0:a<l)}function w$(e,t){return t.getId(e)!==-1}function Jv(e,t){return t.getId(e)===zh}function M9(e,t){if(bh(e))return!1;const n=t.getId(e);return t.has(n)?e.parentNode&&e.parentNode.nodeType===e.DOCUMENT_NODE?!1:e.parentNode?M9(e.parentNode,t):!0:!0}function Wb(e){return!!e.changedTouches}function _$(e=window){"NodeList"in e&&!e.NodeList.prototype.forEach&&(e.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in e&&!e.DOMTokenList.prototype.forEach&&(e.DOMTokenList.prototype.forEach=Array.prototype.forEach),Node.prototype.contains||(Node.prototype.contains=(...t)=>{let n=t[0];if(!(0 in t))throw new TypeError("1 argument is required");do if(this===n)return!0;while(n=n&&n.parentNode);return!1})}function A9(e,t){return!!(e.nodeName==="IFRAME"&&t.getMeta(e))}function D9(e,t){return!!(e.nodeName==="LINK"&&e.nodeType===e.ELEMENT_NODE&&e.getAttribute&&e.getAttribute("rel")==="stylesheet"&&t.getMeta(e))}function qb(e){return!!qa([e,"optionalAccess",t=>t.shadowRoot])}class S${constructor(){this.id=1,this.styleIDMap=new WeakMap,this.idStyleMap=new Map}getId(t){return aF(this.styleIDMap.get(t),()=>-1)}has(t){return this.styleIDMap.has(t)}add(t,n){if(this.has(t))return this.getId(t);let r;return n===void 0?r=this.id++:r=n,this.styleIDMap.set(t,r),this.idStyleMap.set(r,t),r}getStyle(t){return this.idStyleMap.get(t)||null}reset(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}generateId(){return this.id++}}function L9(e){let t=null;return qa([e,"access",n=>n.getRootNode,"optionalCall",n=>n(),"optionalAccess",n=>n.nodeType])===Node.DOCUMENT_FRAGMENT_NODE&&e.getRootNode().host&&(t=e.getRootNode().host),t}function C$(e){let t=e,n;for(;n=L9(t);)t=n;return t}function k$(e){const t=e.ownerDocument;if(!t)return!1;const n=C$(e);return t.contains(n)}function F9(e){const t=e.ownerDocument;return t?t.contains(e)||k$(e):!1}const q4={};function Fw(e){const t=q4[e];if(t)return t;const n=window.document;let r=window[e];if(n&&typeof n.createElement=="function")try{const i=n.createElement("iframe");i.hidden=!0,n.head.appendChild(i);const s=i.contentWindow;s&&s[e]&&(r=s[e]),n.head.removeChild(i)}catch{}return q4[e]=r.bind(window)}function E$(...e){return Fw("requestAnimationFrame")(...e)}function x1(...e){return Fw("setTimeout")(...e)}function T$(...e){return Fw("clearTimeout")(...e)}var Ut=(e=>(e[e.DomContentLoaded=0]="DomContentLoaded",e[e.Load=1]="Load",e[e.FullSnapshot=2]="FullSnapshot",e[e.IncrementalSnapshot=3]="IncrementalSnapshot",e[e.Meta=4]="Meta",e[e.Custom=5]="Custom",e[e.Plugin=6]="Plugin",e))(Ut||{}),Ct=(e=>(e[e.Mutation=0]="Mutation",e[e.MouseMove=1]="MouseMove",e[e.MouseInteraction=2]="MouseInteraction",e[e.Scroll=3]="Scroll",e[e.ViewportResize=4]="ViewportResize",e[e.Input=5]="Input",e[e.TouchMove=6]="TouchMove",e[e.MediaInteraction=7]="MediaInteraction",e[e.StyleSheetRule=8]="StyleSheetRule",e[e.CanvasMutation=9]="CanvasMutation",e[e.Font=10]="Font",e[e.Log=11]="Log",e[e.Drag=12]="Drag",e[e.StyleDeclaration=13]="StyleDeclaration",e[e.Selection=14]="Selection",e[e.AdoptedStyleSheet=15]="AdoptedStyleSheet",e[e.CustomElement=16]="CustomElement",e))(Ct||{}),ai=(e=>(e[e.MouseUp=0]="MouseUp",e[e.MouseDown=1]="MouseDown",e[e.Click=2]="Click",e[e.ContextMenu=3]="ContextMenu",e[e.DblClick=4]="DblClick",e[e.Focus=5]="Focus",e[e.Blur=6]="Blur",e[e.TouchStart=7]="TouchStart",e[e.TouchMove_Departed=8]="TouchMove_Departed",e[e.TouchEnd=9]="TouchEnd",e[e.TouchCancel=10]="TouchCancel",e))(ai||{}),Wo=(e=>(e[e.Mouse=0]="Mouse",e[e.Pen=1]="Pen",e[e.Touch=2]="Touch",e))(Wo||{}),V4;(function(e){e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment"})(V4||(V4={}));var Q4;(function(e){e[e.PLACEHOLDER=0]="PLACEHOLDER",e[e.ELEMENT_NODE=1]="ELEMENT_NODE",e[e.ATTRIBUTE_NODE=2]="ATTRIBUTE_NODE",e[e.TEXT_NODE=3]="TEXT_NODE",e[e.CDATA_SECTION_NODE=4]="CDATA_SECTION_NODE",e[e.ENTITY_REFERENCE_NODE=5]="ENTITY_REFERENCE_NODE",e[e.ENTITY_NODE=6]="ENTITY_NODE",e[e.PROCESSING_INSTRUCTION_NODE=7]="PROCESSING_INSTRUCTION_NODE",e[e.COMMENT_NODE=8]="COMMENT_NODE",e[e.DOCUMENT_NODE=9]="DOCUMENT_NODE",e[e.DOCUMENT_TYPE_NODE=10]="DOCUMENT_TYPE_NODE",e[e.DOCUMENT_FRAGMENT_NODE=11]="DOCUMENT_FRAGMENT_NODE"})(Q4||(Q4={}));function Bw(e){try{return e.contentDocument}catch{}}function j$(e){try{return e.contentWindow}catch{}}function N$(e){let t,n=e[0],r=1;for(;r<e.length;){const i=e[r],s=e[r+1];if(r+=2,(i==="optionalAccess"||i==="optionalCall")&&n==null)return;i==="access"||i==="optionalAccess"?(t=n,n=s(n)):(i==="call"||i==="optionalCall")&&(n=s((...o)=>n.call(t,...o)),t=void 0)}return n}function K4(e){return"__ln"in e}class I${constructor(){this.length=0,this.head=null,this.tail=null}get(t){if(t>=this.length)throw new Error("Position outside of list range");let n=this.head;for(let r=0;r<t;r++)n=N$([n,"optionalAccess",i=>i.next])||null;return n}addNode(t){const n={value:t,previous:null,next:null};if(t.__ln=n,t.previousSibling&&K4(t.previousSibling)){const r=t.previousSibling.__ln.next;n.next=r,n.previous=t.previousSibling.__ln,t.previousSibling.__ln.next=n,r&&(r.previous=n)}else if(t.nextSibling&&K4(t.nextSibling)&&t.nextSibling.__ln.previous){const r=t.nextSibling.__ln.previous;n.previous=r,n.next=t.nextSibling.__ln,t.nextSibling.__ln.previous=n,r&&(r.next=n)}else this.head&&(this.head.previous=n),n.next=this.head,this.head=n;n.next===null&&(this.tail=n),this.length++}removeNode(t){const n=t.__ln;this.head&&(n.previous?(n.previous.next=n.next,n.next?n.next.previous=n.previous:this.tail=n.previous):(this.head=n.next,this.head?this.head.previous=null:this.tail=null),t.__ln&&delete t.__ln,this.length--)}}const G4=(e,t)=>`${e}@${t}`;class R${constructor(){this.frozen=!1,this.locked=!1,this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.mapRemoves=[],this.movedMap={},this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.processMutations=t=>{t.forEach(this.processMutation),this.emit()},this.emit=()=>{if(this.frozen||this.locked)return;const t=[],n=new Set,r=new I$,i=l=>{let u=l,f=zh;for(;f===zh;)u=u&&u.nextSibling,f=u&&this.mirror.getId(u);return f},s=l=>{if(!l.parentNode||!F9(l))return;const u=bh(l.parentNode)?this.mirror.getId(L9(l)):this.mirror.getId(l.parentNode),f=i(l);if(u===-1||f===-1)return r.addNode(l);const p=hd(l,{doc:this.doc,mirror:this.mirror,blockClass:this.blockClass,blockSelector:this.blockSelector,maskAllText:this.maskAllText,unblockSelector:this.unblockSelector,maskTextClass:this.maskTextClass,unmaskTextClass:this.unmaskTextClass,maskTextSelector:this.maskTextSelector,unmaskTextSelector:this.unmaskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:this.inlineStylesheet,maskInputOptions:this.maskInputOptions,maskAttributeFn:this.maskAttributeFn,maskTextFn:this.maskTextFn,maskInputFn:this.maskInputFn,slimDOMOptions:this.slimDOMOptions,dataURLOptions:this.dataURLOptions,recordCanvas:this.recordCanvas,inlineImages:this.inlineImages,onSerialize:g=>{A9(g,this.mirror)&&!Ji(g,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&this.iframeManager.addIframe(g),D9(g,this.mirror)&&this.stylesheetManager.trackLinkElement(g),qb(l)&&this.shadowDomManager.addShadowRoot(l.shadowRoot,this.doc)},onIframeLoad:(g,y)=>{Ji(g,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(this.iframeManager.attachIframe(g,y),g.contentWindow&&this.canvasManager.addWindow(g.contentWindow),this.shadowDomManager.observeAttachShadow(g))},onStylesheetLoad:(g,y)=>{this.stylesheetManager.attachLinkElement(g,y)}});p&&(t.push({parentId:u,nextId:f,node:p}),n.add(p.id))};for(;this.mapRemoves.length;)this.mirror.removeNodeFromMap(this.mapRemoves.shift());for(const l of this.movedSet)Y4(this.removes,l,this.mirror)&&!this.movedSet.has(l.parentNode)||s(l);for(const l of this.addedSet)!X4(this.droppedSet,l)&&!Y4(this.removes,l,this.mirror)||X4(this.movedSet,l)?s(l):this.droppedSet.add(l);let o=null;for(;r.length;){let l=null;if(o){const u=this.mirror.getId(o.value.parentNode),f=i(o.value);u!==-1&&f!==-1&&(l=o)}if(!l){let u=r.tail;for(;u;){const f=u;if(u=u.previous,f){const p=this.mirror.getId(f.value.parentNode);if(i(f.value)===-1)continue;if(p!==-1){l=f;break}else{const y=f.value;if(y.parentNode&&y.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE){const b=y.parentNode.host;if(this.mirror.getId(b)!==-1){l=f;break}}}}}}if(!l){for(;r.head;)r.removeNode(r.head.value);break}o=l.previous,r.removeNode(l.value),s(l.value)}const a={texts:this.texts.map(l=>({id:this.mirror.getId(l.node),value:l.value})).filter(l=>!n.has(l.id)).filter(l=>this.mirror.has(l.id)),attributes:this.attributes.map(l=>{const{attributes:u}=l;if(typeof u.style=="string"){const f=JSON.stringify(l.styleDiff),p=JSON.stringify(l._unchangedStyles);f.length<u.style.length&&(f+p).split("var(").length===u.style.split("var(").length&&(u.style=l.styleDiff)}return{id:this.mirror.getId(l.node),attributes:u}}).filter(l=>!n.has(l.id)).filter(l=>this.mirror.has(l.id)),removes:this.removes,adds:t};!a.texts.length&&!a.attributes.length&&!a.removes.length&&!a.adds.length||(this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.movedMap={},this.mutationCb(a))},this.processMutation=t=>{if(!Jv(t.target,this.mirror))switch(t.type){case"characterData":{const n=t.target.textContent;!Ji(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&n!==t.oldValue&&this.texts.push({value:Id(t.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,this.maskAllText)&&n?this.maskTextFn?this.maskTextFn(n,O9(t.target)):n.replace(/[\S]/g,"*"):n,node:t.target});break}case"attributes":{const n=t.target;let r=t.attributeName,i=t.target.getAttribute(r);if(r==="value"){const o=Aw(n),a=n.tagName;i=k0(n,a,o);const l=y1({maskInputOptions:this.maskInputOptions,tagName:a,type:o}),u=Id(t.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,l);i=Bh({isMasked:u,element:n,value:i,maskInputFn:this.maskInputFn})}if(Ji(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||i===t.oldValue)return;let s=this.attributeMap.get(t.target);if(n.tagName==="IFRAME"&&r==="src"&&!this.keepIframeSrcFn(i))if(!Bw(n))r="rr_src";else return;if(s||(s={node:t.target,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(s),this.attributeMap.set(t.target,s)),r==="type"&&n.tagName==="INPUT"&&(t.oldValue||"").toLowerCase()==="password"&&n.setAttribute("data-rr-is-password","true"),!j9(n.tagName,r)&&(s.attributes[r]=T9(this.doc,Nd(n.tagName),Nd(r),i,n,this.maskAttributeFn),r==="style")){if(!this.unattachedDoc)try{this.unattachedDoc=document.implementation.createHTMLDocument()}catch{this.unattachedDoc=this.doc}const o=this.unattachedDoc.createElement("span");t.oldValue&&o.setAttribute("style",t.oldValue);for(const a of Array.from(n.style)){const l=n.style.getPropertyValue(a),u=n.style.getPropertyPriority(a);l!==o.style.getPropertyValue(a)||u!==o.style.getPropertyPriority(a)?u===""?s.styleDiff[a]=l:s.styleDiff[a]=[l,u]:s._unchangedStyles[a]=[l,u]}for(const a of Array.from(o.style))n.style.getPropertyValue(a)===""&&(s.styleDiff[a]=!1)}break}case"childList":{if(Ji(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!0))return;t.addedNodes.forEach(n=>this.genAdds(n,t.target)),t.removedNodes.forEach(n=>{const r=this.mirror.getId(n),i=bh(t.target)?this.mirror.getId(t.target.host):this.mirror.getId(t.target);Ji(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||Jv(n,this.mirror)||!w$(n,this.mirror)||(this.addedSet.has(n)?(Vb(this.addedSet,n),this.droppedSet.add(n)):this.addedSet.has(t.target)&&r===-1||M9(t.target,this.mirror)||(this.movedSet.has(n)&&this.movedMap[G4(r,i)]?Vb(this.movedSet,n):this.removes.push({parentId:i,id:r,isShadow:bh(t.target)&&wh(t.target)?!0:void 0})),this.mapRemoves.push(n))});break}}},this.genAdds=(t,n)=>{if(!this.processedNodeManager.inOtherBuffer(t,this)&&!(this.addedSet.has(t)||this.movedSet.has(t))){if(this.mirror.hasNode(t)){if(Jv(t,this.mirror))return;this.movedSet.add(t);let r=null;n&&this.mirror.hasNode(n)&&(r=this.mirror.getId(n)),r&&r!==-1&&(this.movedMap[G4(this.mirror.getId(t),r)]=!0)}else this.addedSet.add(t),this.droppedSet.delete(t);Ji(t,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(t.childNodes.forEach(r=>this.genAdds(r)),qb(t)&&t.shadowRoot.childNodes.forEach(r=>{this.processedNodeManager.add(r,this),this.genAdds(r,t)}))}}}init(t){["mutationCb","blockClass","blockSelector","unblockSelector","maskAllText","maskTextClass","unmaskTextClass","maskTextSelector","unmaskTextSelector","inlineStylesheet","maskInputOptions","maskAttributeFn","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager"].forEach(n=>{this[n]=t[n]})}freeze(){this.frozen=!0,this.canvasManager.freeze()}unfreeze(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}isFrozen(){return this.frozen}lock(){this.locked=!0,this.canvasManager.lock()}unlock(){this.locked=!1,this.canvasManager.unlock(),this.emit()}reset(){this.shadowDomManager.reset(),this.canvasManager.reset()}}function Vb(e,t){e.delete(t),t.childNodes.forEach(n=>Vb(e,n))}function Y4(e,t,n){return e.length===0?!1:P$(e,t,n)}function P$(e,t,n){let r=t.parentNode;for(;r;){const i=n.getId(r);if(e.some(s=>s.id===i))return!0;r=r.parentNode}return!1}function X4(e,t){return e.size===0?!1:B9(e,t)}function B9(e,t){const{parentNode:n}=t;return n?e.has(n)?!0:B9(e,n):!1}let _h;function O$(e){_h=e}function M$(){_h=void 0}const nn=e=>_h?(...n)=>{try{return e(...n)}catch(r){if(_h&&_h(r)===!0)return()=>{};throw r}}:e;function qs(e){let t,n=e[0],r=1;for(;r<e.length;){const i=e[r],s=e[r+1];if(r+=2,(i==="optionalAccess"||i==="optionalCall")&&n==null)return;i==="access"||i==="optionalAccess"?(t=n,n=s(n)):(i==="call"||i==="optionalCall")&&(n=s((...o)=>n.call(t,...o)),t=void 0)}return n}const pd=[];function gp(e){try{if("composedPath"in e){const t=e.composedPath();if(t.length)return t[0]}else if("path"in e&&e.path.length)return e.path[0]}catch{}return e&&e.target}function z9(e,t){const n=new R$;pd.push(n),n.init(e);let r=window.MutationObserver||window.__rrMutationObserver;const i=qs([window,"optionalAccess",o=>o.Zone,"optionalAccess",o=>o.__symbol__,"optionalCall",o=>o("MutationObserver")]);i&&window[i]&&(r=window[i]);const s=new r(nn(o=>{e.onMutation&&e.onMutation(o)===!1||n.processMutations.bind(n)(o)}));return s.observe(t,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),s}function A$({mousemoveCb:e,sampling:t,doc:n,mirror:r}){if(t.mousemove===!1)return()=>{};const i=typeof t.mousemove=="number"?t.mousemove:50,s=typeof t.mousemoveCallback=="number"?t.mousemoveCallback:500;let o=[],a;const l=$h(nn(p=>{const g=Date.now()-a;e(o.map(y=>(y.timeOffset-=g,y)),p),o=[],a=null}),s),u=nn($h(nn(p=>{const g=gp(p),{clientX:y,clientY:b}=Wb(p)?p.changedTouches[0]:p;a||(a=T0()),o.push({x:y,y:b,id:r.getId(g),timeOffset:T0()-a}),l(typeof DragEvent<"u"&&p instanceof DragEvent?Ct.Drag:p instanceof MouseEvent?Ct.MouseMove:Ct.TouchMove)}),i,{trailing:!1})),f=[ui("mousemove",u,n),ui("touchmove",u,n),ui("drag",u,n)];return nn(()=>{f.forEach(p=>p())})}function D$({mouseInteractionCb:e,doc:t,mirror:n,blockClass:r,blockSelector:i,unblockSelector:s,sampling:o}){if(o.mouseInteraction===!1)return()=>{};const a=o.mouseInteraction===!0||o.mouseInteraction===void 0?{}:o.mouseInteraction,l=[];let u=null;const f=p=>g=>{const y=gp(g);if(Ji(y,r,i,s,!0))return;let b=null,_=p;if("pointerType"in g){switch(g.pointerType){case"mouse":b=Wo.Mouse;break;case"touch":b=Wo.Touch;break;case"pen":b=Wo.Pen;break}b===Wo.Touch?ai[p]===ai.MouseDown?_="TouchStart":ai[p]===ai.MouseUp&&(_="TouchEnd"):Wo.Pen}else Wb(g)&&(b=Wo.Touch);b!==null?(u=b,(_.startsWith("Touch")&&b===Wo.Touch||_.startsWith("Mouse")&&b===Wo.Mouse)&&(b=null)):ai[p]===ai.Click&&(b=u,u=null);const C=Wb(g)?g.changedTouches[0]:g;if(!C)return;const k=n.getId(y),{clientX:R,clientY:O}=C;nn(e)({type:ai[_],id:k,x:R,y:O,...b!==null&&{pointerType:b}})};return Object.keys(ai).filter(p=>Number.isNaN(Number(p))&&!p.endsWith("_Departed")&&a[p]!==!1).forEach(p=>{let g=Nd(p);const y=f(p);if(window.PointerEvent)switch(ai[p]){case ai.MouseDown:case ai.MouseUp:g=g.replace("mouse","pointer");break;case ai.TouchStart:case ai.TouchEnd:return}l.push(ui(g,y,t))}),nn(()=>{l.forEach(p=>p())})}function $9({scrollCb:e,doc:t,mirror:n,blockClass:r,blockSelector:i,unblockSelector:s,sampling:o}){const a=nn($h(nn(l=>{const u=gp(l);if(!u||Ji(u,r,i,s,!0))return;const f=n.getId(u);if(u===t&&t.defaultView){const p=I9(t.defaultView);e({id:f,x:p.left,y:p.top})}else e({id:f,x:u.scrollLeft,y:u.scrollTop})}),o.scroll||100));return ui("scroll",a,t)}function L$({viewportResizeCb:e},{win:t}){let n=-1,r=-1;const i=nn($h(nn(()=>{const s=R9(),o=P9();(n!==s||r!==o)&&(e({width:Number(o),height:Number(s)}),n=s,r=o)}),200));return ui("resize",i,t)}const F$=["INPUT","TEXTAREA","SELECT"],J4=new WeakMap;function B$({inputCb:e,doc:t,mirror:n,blockClass:r,blockSelector:i,unblockSelector:s,ignoreClass:o,ignoreSelector:a,maskInputOptions:l,maskInputFn:u,sampling:f,userTriggeredOnInput:p,maskTextClass:g,unmaskTextClass:y,maskTextSelector:b,unmaskTextSelector:_}){function C(A){let B=gp(A);const U=A.isTrusted,D=B&&Ub(B.tagName);if(D==="OPTION"&&(B=B.parentElement),!B||!D||F$.indexOf(D)<0||Ji(B,r,i,s,!0))return;const Z=B;if(Z.classList.contains(o)||a&&Z.matches(a))return;const X=Aw(B);let re=k0(Z,D,X),V=!1;const q=y1({maskInputOptions:l,tagName:D,type:X}),Q=Id(B,g,b,y,_,q);(X==="radio"||X==="checkbox")&&(V=B.checked),re=Bh({isMasked:Q,element:B,value:re,maskInputFn:u}),k(B,p?{text:re,isChecked:V,userTriggered:U}:{text:re,isChecked:V});const ne=B.name;X==="radio"&&ne&&V&&t.querySelectorAll(`input[type="radio"][name="${ne}"]`).forEach(ee=>{if(ee!==B){const fe=Bh({isMasked:Q,element:ee,value:k0(ee,D,X),maskInputFn:u});k(ee,p?{text:fe,isChecked:!V,userTriggered:!1}:{text:fe,isChecked:!V})}})}function k(A,B){const U=J4.get(A);if(!U||U.text!==B.text||U.isChecked!==B.isChecked){J4.set(A,B);const D=n.getId(A);nn(e)({...B,id:D})}}const O=(f.input==="last"?["change"]:["input","change"]).map(A=>ui(A,nn(C),t)),$=t.defaultView;if(!$)return()=>{O.forEach(A=>A())};const z=$.Object.getOwnPropertyDescriptor($.HTMLInputElement.prototype,"value"),j=[[$.HTMLInputElement.prototype,"value"],[$.HTMLInputElement.prototype,"checked"],[$.HTMLSelectElement.prototype,"value"],[$.HTMLTextAreaElement.prototype,"value"],[$.HTMLSelectElement.prototype,"selectedIndex"],[$.HTMLOptionElement.prototype,"selected"]];return z&&z.set&&O.push(...j.map(A=>N9(A[0],A[1],{set(){nn(C)({target:this,isTrusted:!1})}},!1,$))),nn(()=>{O.forEach(A=>A())})}function j0(e){const t=[];function n(r,i){if(ig("CSSGroupingRule")&&r.parentRule instanceof CSSGroupingRule||ig("CSSMediaRule")&&r.parentRule instanceof CSSMediaRule||ig("CSSSupportsRule")&&r.parentRule instanceof CSSSupportsRule||ig("CSSConditionRule")&&r.parentRule instanceof CSSConditionRule){const o=Array.from(r.parentRule.cssRules).indexOf(r);i.unshift(o)}else if(r.parentStyleSheet){const o=Array.from(r.parentStyleSheet.cssRules).indexOf(r);i.unshift(o)}return i}return n(e,t)}function Va(e,t,n){let r,i;return e?(e.ownerNode?r=t.getId(e.ownerNode):i=n.getId(e),{styleId:i,id:r}):{}}function z$({styleSheetRuleCb:e,mirror:t,stylesheetManager:n},{win:r}){if(!r.CSSStyleSheet||!r.CSSStyleSheet.prototype)return()=>{};const i=r.CSSStyleSheet.prototype.insertRule;r.CSSStyleSheet.prototype.insertRule=new Proxy(i,{apply:nn((f,p,g)=>{const[y,b]=g,{id:_,styleId:C}=Va(p,t,n.styleMirror);return(_&&_!==-1||C&&C!==-1)&&e({id:_,styleId:C,adds:[{rule:y,index:b}]}),f.apply(p,g)})});const s=r.CSSStyleSheet.prototype.deleteRule;r.CSSStyleSheet.prototype.deleteRule=new Proxy(s,{apply:nn((f,p,g)=>{const[y]=g,{id:b,styleId:_}=Va(p,t,n.styleMirror);return(b&&b!==-1||_&&_!==-1)&&e({id:b,styleId:_,removes:[{index:y}]}),f.apply(p,g)})});let o;r.CSSStyleSheet.prototype.replace&&(o=r.CSSStyleSheet.prototype.replace,r.CSSStyleSheet.prototype.replace=new Proxy(o,{apply:nn((f,p,g)=>{const[y]=g,{id:b,styleId:_}=Va(p,t,n.styleMirror);return(b&&b!==-1||_&&_!==-1)&&e({id:b,styleId:_,replace:y}),f.apply(p,g)})}));let a;r.CSSStyleSheet.prototype.replaceSync&&(a=r.CSSStyleSheet.prototype.replaceSync,r.CSSStyleSheet.prototype.replaceSync=new Proxy(a,{apply:nn((f,p,g)=>{const[y]=g,{id:b,styleId:_}=Va(p,t,n.styleMirror);return(b&&b!==-1||_&&_!==-1)&&e({id:b,styleId:_,replaceSync:y}),f.apply(p,g)})}));const l={};sg("CSSGroupingRule")?l.CSSGroupingRule=r.CSSGroupingRule:(sg("CSSMediaRule")&&(l.CSSMediaRule=r.CSSMediaRule),sg("CSSConditionRule")&&(l.CSSConditionRule=r.CSSConditionRule),sg("CSSSupportsRule")&&(l.CSSSupportsRule=r.CSSSupportsRule));const u={};return Object.entries(l).forEach(([f,p])=>{u[f]={insertRule:p.prototype.insertRule,deleteRule:p.prototype.deleteRule},p.prototype.insertRule=new Proxy(u[f].insertRule,{apply:nn((g,y,b)=>{const[_,C]=b,{id:k,styleId:R}=Va(y.parentStyleSheet,t,n.styleMirror);return(k&&k!==-1||R&&R!==-1)&&e({id:k,styleId:R,adds:[{rule:_,index:[...j0(y),C||0]}]}),g.apply(y,b)})}),p.prototype.deleteRule=new Proxy(u[f].deleteRule,{apply:nn((g,y,b)=>{const[_]=b,{id:C,styleId:k}=Va(y.parentStyleSheet,t,n.styleMirror);return(C&&C!==-1||k&&k!==-1)&&e({id:C,styleId:k,removes:[{index:[...j0(y),_]}]}),g.apply(y,b)})})}),nn(()=>{r.CSSStyleSheet.prototype.insertRule=i,r.CSSStyleSheet.prototype.deleteRule=s,o&&(r.CSSStyleSheet.prototype.replace=o),a&&(r.CSSStyleSheet.prototype.replaceSync=a),Object.entries(l).forEach(([f,p])=>{p.prototype.insertRule=u[f].insertRule,p.prototype.deleteRule=u[f].deleteRule})})}function U9({mirror:e,stylesheetManager:t},n){let r=null;n.nodeName==="#document"?r=e.getId(n):r=e.getId(n.host);const i=n.nodeName==="#document"?qs([n,"access",o=>o.defaultView,"optionalAccess",o=>o.Document]):qs([n,"access",o=>o.ownerDocument,"optionalAccess",o=>o.defaultView,"optionalAccess",o=>o.ShadowRoot]),s=qs([i,"optionalAccess",o=>o.prototype])?Object.getOwnPropertyDescriptor(qs([i,"optionalAccess",o=>o.prototype]),"adoptedStyleSheets"):void 0;return r===null||r===-1||!i||!s?()=>{}:(Object.defineProperty(n,"adoptedStyleSheets",{configurable:s.configurable,enumerable:s.enumerable,get(){return qs([s,"access",o=>o.get,"optionalAccess",o=>o.call,"call",o=>o(this)])},set(o){const a=qs([s,"access",l=>l.set,"optionalAccess",l=>l.call,"call",l=>l(this,o)]);if(r!==null&&r!==-1)try{t.adoptStyleSheets(o,r)}catch{}return a}}),nn(()=>{Object.defineProperty(n,"adoptedStyleSheets",{configurable:s.configurable,enumerable:s.enumerable,get:s.get,set:s.set})}))}function $$({styleDeclarationCb:e,mirror:t,ignoreCSSAttributes:n,stylesheetManager:r},{win:i}){const s=i.CSSStyleDeclaration.prototype.setProperty;i.CSSStyleDeclaration.prototype.setProperty=new Proxy(s,{apply:nn((a,l,u)=>{const[f,p,g]=u;if(n.has(f))return s.apply(l,[f,p,g]);const{id:y,styleId:b}=Va(qs([l,"access",_=>_.parentRule,"optionalAccess",_=>_.parentStyleSheet]),t,r.styleMirror);return(y&&y!==-1||b&&b!==-1)&&e({id:y,styleId:b,set:{property:f,value:p,priority:g},index:j0(l.parentRule)}),a.apply(l,u)})});const o=i.CSSStyleDeclaration.prototype.removeProperty;return i.CSSStyleDeclaration.prototype.removeProperty=new Proxy(o,{apply:nn((a,l,u)=>{const[f]=u;if(n.has(f))return o.apply(l,[f]);const{id:p,styleId:g}=Va(qs([l,"access",y=>y.parentRule,"optionalAccess",y=>y.parentStyleSheet]),t,r.styleMirror);return(p&&p!==-1||g&&g!==-1)&&e({id:p,styleId:g,remove:{property:f},index:j0(l.parentRule)}),a.apply(l,u)})}),nn(()=>{i.CSSStyleDeclaration.prototype.setProperty=s,i.CSSStyleDeclaration.prototype.removeProperty=o})}function U$({mediaInteractionCb:e,blockClass:t,blockSelector:n,unblockSelector:r,mirror:i,sampling:s,doc:o}){const a=nn(u=>$h(nn(f=>{const p=gp(f);if(!p||Ji(p,t,n,r,!0))return;const{currentTime:g,volume:y,muted:b,playbackRate:_}=p;e({type:u,id:i.getId(p),currentTime:g,volume:y,muted:b,playbackRate:_})}),s.media||500)),l=[ui("play",a(0),o),ui("pause",a(1),o),ui("seeked",a(2),o),ui("volumechange",a(3),o),ui("ratechange",a(4),o)];return nn(()=>{l.forEach(u=>u())})}function H$({fontCb:e,doc:t}){const n=t.defaultView;if(!n)return()=>{};const r=[],i=new WeakMap,s=n.FontFace;n.FontFace=function(l,u,f){const p=new s(l,u,f);return i.set(p,{family:l,buffer:typeof u!="string",descriptors:f,fontSource:typeof u=="string"?u:JSON.stringify(Array.from(new Uint8Array(u)))}),p};const o=Lw(t.fonts,"add",function(a){return function(l){return x1(nn(()=>{const u=i.get(l);u&&(e(u),i.delete(l))}),0),a.apply(this,[l])}});return r.push(()=>{n.FontFace=s}),r.push(o),nn(()=>{r.forEach(a=>a())})}function W$(e){const{doc:t,mirror:n,blockClass:r,blockSelector:i,unblockSelector:s,selectionCb:o}=e;let a=!0;const l=nn(()=>{const u=t.getSelection();if(!u||a&&qs([u,"optionalAccess",g=>g.isCollapsed]))return;a=u.isCollapsed||!1;const f=[],p=u.rangeCount||0;for(let g=0;g<p;g++){const y=u.getRangeAt(g),{startContainer:b,startOffset:_,endContainer:C,endOffset:k}=y;Ji(b,r,i,s,!0)||Ji(C,r,i,s,!0)||f.push({start:n.getId(b),startOffset:_,end:n.getId(C),endOffset:k})}o({ranges:f})});return l(),ui("selectionchange",l)}function q$({doc:e,customElementCb:t}){const n=e.defaultView;return!n||!n.customElements?()=>{}:Lw(n.customElements,"define",function(i){return function(s,o,a){try{t({define:{name:s}})}catch{}return i.apply(this,[s,o,a])}})}function V$(e,t={}){const n=e.doc.defaultView;if(!n)return()=>{};let r;e.recordDOM&&(r=z9(e,e.doc));const i=A$(e),s=D$(e),o=$9(e),a=L$(e,{win:n}),l=B$(e),u=U$(e);let f=()=>{},p=()=>{},g=()=>{},y=()=>{};e.recordDOM&&(f=z$(e,{win:n}),p=U9(e,e.doc),g=$$(e,{win:n}),e.collectFonts&&(y=H$(e)));const b=W$(e),_=q$(e),C=[];for(const k of e.plugins)C.push(k.observer(k.callback,n,k.options));return nn(()=>{pd.forEach(k=>k.reset()),qs([r,"optionalAccess",k=>k.disconnect,"call",k=>k()]),i(),s(),o(),a(),l(),u(),f(),p(),g(),y(),b(),_(),C.forEach(k=>k())})}function ig(e){return typeof window[e]<"u"}function sg(e){return!!(typeof window[e]<"u"&&window[e].prototype&&"insertRule"in window[e].prototype&&"deleteRule"in window[e].prototype)}class Qb{constructor(t){this.generateIdFn=t,this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap}getId(t,n,r,i){const s=r||this.getIdToRemoteIdMap(t),o=i||this.getRemoteIdToIdMap(t);let a=s.get(n);return a||(a=this.generateIdFn(),s.set(n,a),o.set(a,n)),a}getIds(t,n){const r=this.getIdToRemoteIdMap(t),i=this.getRemoteIdToIdMap(t);return n.map(s=>this.getId(t,s,r,i))}getRemoteId(t,n,r){const i=r||this.getRemoteIdToIdMap(t);if(typeof n!="number")return n;const s=i.get(n);return s||-1}getRemoteIds(t,n){const r=this.getRemoteIdToIdMap(t);return n.map(i=>this.getRemoteId(t,i,r))}reset(t){if(!t){this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap;return}this.iframeIdToRemoteIdMap.delete(t),this.iframeRemoteIdToIdMap.delete(t)}getIdToRemoteIdMap(t){let n=this.iframeIdToRemoteIdMap.get(t);return n||(n=new Map,this.iframeIdToRemoteIdMap.set(t,n)),n}getRemoteIdToIdMap(t){let n=this.iframeRemoteIdToIdMap.get(t);return n||(n=new Map,this.iframeRemoteIdToIdMap.set(t,n)),n}}function Z4(e){let t,n=e[0],r=1;for(;r<e.length;){const i=e[r],s=e[r+1];if(r+=2,(i==="optionalAccess"||i==="optionalCall")&&n==null)return;i==="access"||i==="optionalAccess"?(t=n,n=s(n)):(i==="call"||i==="optionalCall")&&(n=s((...o)=>n.call(t,...o)),t=void 0)}return n}class Q${constructor(){this.crossOriginIframeMirror=new Qb(Dw),this.crossOriginIframeRootIdMap=new WeakMap}addIframe(){}addLoadListener(){}attachIframe(){}}class K${constructor(t){this.iframes=new WeakMap,this.crossOriginIframeMap=new WeakMap,this.crossOriginIframeMirror=new Qb(Dw),this.crossOriginIframeRootIdMap=new WeakMap,this.mutationCb=t.mutationCb,this.wrappedEmit=t.wrappedEmit,this.stylesheetManager=t.stylesheetManager,this.recordCrossOriginIframes=t.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new Qb(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=t.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}addIframe(t){this.iframes.set(t,!0),t.contentWindow&&this.crossOriginIframeMap.set(t.contentWindow,t)}addLoadListener(t){this.loadListener=t}attachIframe(t,n){this.mutationCb({adds:[{parentId:this.mirror.getId(t),nextId:null,node:n}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),Z4([this,"access",i=>i.loadListener,"optionalCall",i=>i(t)]);const r=Bw(t);r&&r.adoptedStyleSheets&&r.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(r.adoptedStyleSheets,this.mirror.getId(r))}handleMessage(t){const n=t;if(n.data.type!=="rrweb"||n.origin!==n.data.origin||!t.source)return;const i=this.crossOriginIframeMap.get(t.source);if(!i)return;const s=this.transformCrossOriginEvent(i,n.data.event);s&&this.wrappedEmit(s,n.data.isCheckout)}transformCrossOriginEvent(t,n){switch(n.type){case Ut.FullSnapshot:{this.crossOriginIframeMirror.reset(t),this.crossOriginIframeStyleMirror.reset(t),this.replaceIdOnNode(n.data.node,t);const r=n.data.node.id;return this.crossOriginIframeRootIdMap.set(t,r),this.patchRootIdOnNode(n.data.node,r),{timestamp:n.timestamp,type:Ut.IncrementalSnapshot,data:{source:Ct.Mutation,adds:[{parentId:this.mirror.getId(t),nextId:null,node:n.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}}}case Ut.Meta:case Ut.Load:case Ut.DomContentLoaded:return!1;case Ut.Plugin:return n;case Ut.Custom:return this.replaceIds(n.data.payload,t,["id","parentId","previousId","nextId"]),n;case Ut.IncrementalSnapshot:switch(n.data.source){case Ct.Mutation:return n.data.adds.forEach(r=>{this.replaceIds(r,t,["parentId","nextId","previousId"]),this.replaceIdOnNode(r.node,t);const i=this.crossOriginIframeRootIdMap.get(t);i&&this.patchRootIdOnNode(r.node,i)}),n.data.removes.forEach(r=>{this.replaceIds(r,t,["parentId","id"])}),n.data.attributes.forEach(r=>{this.replaceIds(r,t,["id"])}),n.data.texts.forEach(r=>{this.replaceIds(r,t,["id"])}),n;case Ct.Drag:case Ct.TouchMove:case Ct.MouseMove:return n.data.positions.forEach(r=>{this.replaceIds(r,t,["id"])}),n;case Ct.ViewportResize:return!1;case Ct.MediaInteraction:case Ct.MouseInteraction:case Ct.Scroll:case Ct.CanvasMutation:case Ct.Input:return this.replaceIds(n.data,t,["id"]),n;case Ct.StyleSheetRule:case Ct.StyleDeclaration:return this.replaceIds(n.data,t,["id"]),this.replaceStyleIds(n.data,t,["styleId"]),n;case Ct.Font:return n;case Ct.Selection:return n.data.ranges.forEach(r=>{this.replaceIds(r,t,["start","end"])}),n;case Ct.AdoptedStyleSheet:return this.replaceIds(n.data,t,["id"]),this.replaceStyleIds(n.data,t,["styleIds"]),Z4([n,"access",r=>r.data,"access",r=>r.styles,"optionalAccess",r=>r.forEach,"call",r=>r(i=>{this.replaceStyleIds(i,t,["styleId"])})]),n}}return!1}replace(t,n,r,i){for(const s of i)!Array.isArray(n[s])&&typeof n[s]!="number"||(Array.isArray(n[s])?n[s]=t.getIds(r,n[s]):n[s]=t.getId(r,n[s]));return n}replaceIds(t,n,r){return this.replace(this.crossOriginIframeMirror,t,n,r)}replaceStyleIds(t,n,r){return this.replace(this.crossOriginIframeStyleMirror,t,n,r)}replaceIdOnNode(t,n){this.replaceIds(t,n,["id","rootId"]),"childNodes"in t&&t.childNodes.forEach(r=>{this.replaceIdOnNode(r,n)})}patchRootIdOnNode(t,n){t.type!==mr.Document&&!t.rootId&&(t.rootId=n),"childNodes"in t&&t.childNodes.forEach(r=>{this.patchRootIdOnNode(r,n)})}}class G${init(){}addShadowRoot(){}observeAttachShadow(){}reset(){}}class Y${constructor(t){this.shadowDoms=new WeakSet,this.restoreHandlers=[],this.mutationCb=t.mutationCb,this.scrollCb=t.scrollCb,this.bypassOptions=t.bypassOptions,this.mirror=t.mirror,this.init()}init(){this.reset(),this.patchAttachShadow(Element,document)}addShadowRoot(t,n){if(!wh(t)||this.shadowDoms.has(t))return;this.shadowDoms.add(t),this.bypassOptions.canvasManager.addShadowRoot(t);const r=z9({...this.bypassOptions,doc:n,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this},t);this.restoreHandlers.push(()=>r.disconnect()),this.restoreHandlers.push($9({...this.bypassOptions,scrollCb:this.scrollCb,doc:t,mirror:this.mirror})),x1(()=>{t.adoptedStyleSheets&&t.adoptedStyleSheets.length>0&&this.bypassOptions.stylesheetManager.adoptStyleSheets(t.adoptedStyleSheets,this.mirror.getId(t.host)),this.restoreHandlers.push(U9({mirror:this.mirror,stylesheetManager:this.bypassOptions.stylesheetManager},t))},0)}observeAttachShadow(t){const n=Bw(t),r=j$(t);!n||!r||this.patchAttachShadow(r.Element,n)}patchAttachShadow(t,n){const r=this;this.restoreHandlers.push(Lw(t.prototype,"attachShadow",function(i){return function(s){const o=i.call(this,s);return this.shadowRoot&&F9(this)&&r.addShadowRoot(this.shadowRoot,n),o}}))}reset(){this.restoreHandlers.forEach(t=>{try{t()}catch{}}),this.restoreHandlers=[],this.shadowDoms=new WeakSet,this.bypassOptions.canvasManager.resetShadowRoots()}}class e6{reset(){}freeze(){}unfreeze(){}lock(){}unlock(){}snapshot(){}addWindow(){}addShadowRoot(){}resetShadowRoots(){}}class X${constructor(t){this.trackedLinkElements=new WeakSet,this.styleMirror=new S$,this.mutationCb=t.mutationCb,this.adoptedStyleSheetCb=t.adoptedStyleSheetCb}attachLinkElement(t,n){"_cssText"in n.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:n.id,attributes:n.attributes}]}),this.trackLinkElement(t)}trackLinkElement(t){this.trackedLinkElements.has(t)||(this.trackedLinkElements.add(t),this.trackStylesheetInLinkElement(t))}adoptStyleSheets(t,n){if(t.length===0)return;const r={id:n,styleIds:[]},i=[];for(const s of t){let o;this.styleMirror.has(s)?o=this.styleMirror.getId(s):(o=this.styleMirror.add(s),i.push({styleId:o,rules:Array.from(s.rules||CSSRule,(a,l)=>({rule:w9(a),index:l}))})),r.styleIds.push(o)}i.length>0&&(r.styles=i),this.adoptedStyleSheetCb(r)}reset(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet}trackStylesheetInLinkElement(t){}}class J${constructor(){this.nodeMap=new WeakMap,this.active=!1}inOtherBuffer(t,n){const r=this.nodeMap.get(t);return r&&Array.from(r).some(i=>i!==n)}add(t,n){this.active||(this.active=!0,E$(()=>{this.nodeMap=new WeakMap,this.active=!1})),this.nodeMap.set(t,(this.nodeMap.get(t)||new Set).add(n))}destroy(){}}let Kn,N0;try{if(Array.from([1],e=>e*2)[0]!==2){const e=document.createElement("iframe");document.body.appendChild(e),Array.from=e0([e,"access",t=>t.contentWindow,"optionalAccess",t=>t.Array,"access",t=>t.from])||Array.from,document.body.removeChild(e)}}catch(e){console.debug("Unable to override Array.from",e)}const zs=Xz();function ia(e={}){const{emit:t,checkoutEveryNms:n,checkoutEveryNth:r,blockClass:i="rr-block",blockSelector:s=null,unblockSelector:o=null,ignoreClass:a="rr-ignore",ignoreSelector:l=null,maskAllText:u=!1,maskTextClass:f="rr-mask",unmaskTextClass:p=null,maskTextSelector:g=null,unmaskTextSelector:y=null,inlineStylesheet:b=!0,maskAllInputs:_,maskInputOptions:C,slimDOMOptions:k,maskAttributeFn:R,maskInputFn:O,maskTextFn:$,maxCanvasSize:z=null,packFn:j,sampling:A={},dataURLOptions:B={},mousemoveWait:U,recordDOM:D=!0,recordCanvas:Z=!1,recordCrossOriginIframes:X=!1,recordAfter:re=e.recordAfter==="DOMContentLoaded"?e.recordAfter:"load",userTriggeredOnInput:V=!1,collectFonts:q=!1,inlineImages:Q=!1,plugins:ne,keepIframeSrcFn:ee=()=>!1,ignoreCSSAttributes:fe=new Set([]),errorHandler:F,onMutation:G,getCanvasManager:ye}=e;O$(F);const H=X?window.parent===window:!0;let Oe=!1;if(!H)try{window.parent.document&&(Oe=!1)}catch{Oe=!0}if(H&&!t)throw new Error("emit function is required");if(!H&&!Oe)return()=>{};U!==void 0&&A.mousemove===void 0&&(A.mousemove=U),zs.reset();const Ee=_===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,radio:!0,checkbox:!0}:C!==void 0?C:{},Te=k===!0||k==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:k==="all",headMetaDescKeywords:k==="all"}:k||{};_$();let Ye,qe=0;const Ne=wt=>{for(const on of ne||[])on.eventProcessor&&(wt=on.eventProcessor(wt));return j&&!Oe&&(wt=j(wt)),wt};Kn=(wt,on)=>{const pt=wt;if(pt.timestamp=T0(),e0([pd,"access",Bt=>Bt[0],"optionalAccess",Bt=>Bt.isFrozen,"call",Bt=>Bt()])&&pt.type!==Ut.FullSnapshot&&!(pt.type===Ut.IncrementalSnapshot&&pt.data.source===Ct.Mutation)&&pd.forEach(Bt=>Bt.unfreeze()),H)e0([t,"optionalCall",Bt=>Bt(Ne(pt),on)]);else if(Oe){const Bt={type:"rrweb",event:Ne(pt),origin:window.location.origin,isCheckout:on};window.parent.postMessage(Bt,"*")}if(pt.type===Ut.FullSnapshot)Ye=pt,qe=0;else if(pt.type===Ut.IncrementalSnapshot){if(pt.data.source===Ct.Mutation&&pt.data.isAttachIframe)return;qe++;const Bt=r&&qe>=r,Rt=n&&Ye&&pt.timestamp-Ye.timestamp>n;(Bt||Rt)&&gi(!0)}};const ct=wt=>{Kn({type:Ut.IncrementalSnapshot,data:{source:Ct.Mutation,...wt}})},xn=wt=>Kn({type:Ut.IncrementalSnapshot,data:{source:Ct.Scroll,...wt}}),It=wt=>Kn({type:Ut.IncrementalSnapshot,data:{source:Ct.CanvasMutation,...wt}}),Cn=wt=>Kn({type:Ut.IncrementalSnapshot,data:{source:Ct.AdoptedStyleSheet,...wt}}),sn=new X$({mutationCb:ct,adoptedStyleSheetCb:Cn}),yn=typeof __RRWEB_EXCLUDE_IFRAME__=="boolean"&&__RRWEB_EXCLUDE_IFRAME__?new Q$:new K$({mirror:zs,mutationCb:ct,stylesheetManager:sn,recordCrossOriginIframes:X,wrappedEmit:Kn});for(const wt of ne||[])wt.getMirror&&wt.getMirror({nodeMirror:zs,crossOriginIframeMirror:yn.crossOriginIframeMirror,crossOriginIframeStyleMirror:yn.crossOriginIframeStyleMirror});const Fi=new J$,ei=eU(ye,{mirror:zs,win:window,mutationCb:wt=>Kn({type:Ut.IncrementalSnapshot,data:{source:Ct.CanvasMutation,...wt}}),recordCanvas:Z,blockClass:i,blockSelector:s,unblockSelector:o,maxCanvasSize:z,sampling:A.canvas,dataURLOptions:B,errorHandler:F}),Bi=typeof __RRWEB_EXCLUDE_SHADOW_DOM__=="boolean"&&__RRWEB_EXCLUDE_SHADOW_DOM__?new G$:new Y$({mutationCb:ct,scrollCb:xn,bypassOptions:{onMutation:G,blockClass:i,blockSelector:s,unblockSelector:o,maskAllText:u,maskTextClass:f,unmaskTextClass:p,maskTextSelector:g,unmaskTextSelector:y,inlineStylesheet:b,maskInputOptions:Ee,dataURLOptions:B,maskAttributeFn:R,maskTextFn:$,maskInputFn:O,recordCanvas:Z,inlineImages:Q,sampling:A,slimDOMOptions:Te,iframeManager:yn,stylesheetManager:sn,canvasManager:ei,keepIframeSrcFn:ee,processedNodeManager:Fi},mirror:zs}),gi=(wt=!1)=>{if(!D)return;Kn({type:Ut.Meta,data:{href:window.location.href,width:P9(),height:R9()}},wt),sn.reset(),Bi.init(),pd.forEach(pt=>pt.lock());const on=b$(document,{mirror:zs,blockClass:i,blockSelector:s,unblockSelector:o,maskAllText:u,maskTextClass:f,unmaskTextClass:p,maskTextSelector:g,unmaskTextSelector:y,inlineStylesheet:b,maskAllInputs:Ee,maskAttributeFn:R,maskInputFn:O,maskTextFn:$,slimDOM:Te,dataURLOptions:B,recordCanvas:Z,inlineImages:Q,onSerialize:pt=>{A9(pt,zs)&&yn.addIframe(pt),D9(pt,zs)&&sn.trackLinkElement(pt),qb(pt)&&Bi.addShadowRoot(pt.shadowRoot,document)},onIframeLoad:(pt,Bt)=>{yn.attachIframe(pt,Bt),pt.contentWindow&&ei.addWindow(pt.contentWindow),Bi.observeAttachShadow(pt)},onStylesheetLoad:(pt,Bt)=>{sn.attachLinkElement(pt,Bt)},keepIframeSrcFn:ee});if(!on)return console.warn("Failed to snapshot the document");Kn({type:Ut.FullSnapshot,data:{node:on,initialOffset:I9(window)}}),pd.forEach(pt=>pt.unlock()),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&sn.adoptStyleSheets(document.adoptedStyleSheets,zs.getId(document))};N0=gi;try{const wt=[],on=Bt=>nn(V$)({onMutation:G,mutationCb:ct,mousemoveCb:(Rt,qn)=>Kn({type:Ut.IncrementalSnapshot,data:{source:qn,positions:Rt}}),mouseInteractionCb:Rt=>Kn({type:Ut.IncrementalSnapshot,data:{source:Ct.MouseInteraction,...Rt}}),scrollCb:xn,viewportResizeCb:Rt=>Kn({type:Ut.IncrementalSnapshot,data:{source:Ct.ViewportResize,...Rt}}),inputCb:Rt=>Kn({type:Ut.IncrementalSnapshot,data:{source:Ct.Input,...Rt}}),mediaInteractionCb:Rt=>Kn({type:Ut.IncrementalSnapshot,data:{source:Ct.MediaInteraction,...Rt}}),styleSheetRuleCb:Rt=>Kn({type:Ut.IncrementalSnapshot,data:{source:Ct.StyleSheetRule,...Rt}}),styleDeclarationCb:Rt=>Kn({type:Ut.IncrementalSnapshot,data:{source:Ct.StyleDeclaration,...Rt}}),canvasMutationCb:It,fontCb:Rt=>Kn({type:Ut.IncrementalSnapshot,data:{source:Ct.Font,...Rt}}),selectionCb:Rt=>{Kn({type:Ut.IncrementalSnapshot,data:{source:Ct.Selection,...Rt}})},customElementCb:Rt=>{Kn({type:Ut.IncrementalSnapshot,data:{source:Ct.CustomElement,...Rt}})},blockClass:i,ignoreClass:a,ignoreSelector:l,maskAllText:u,maskTextClass:f,unmaskTextClass:p,maskTextSelector:g,unmaskTextSelector:y,maskInputOptions:Ee,inlineStylesheet:b,sampling:A,recordDOM:D,recordCanvas:Z,inlineImages:Q,userTriggeredOnInput:V,collectFonts:q,doc:Bt,maskAttributeFn:R,maskInputFn:O,maskTextFn:$,keepIframeSrcFn:ee,blockSelector:s,unblockSelector:o,slimDOMOptions:Te,dataURLOptions:B,mirror:zs,iframeManager:yn,stylesheetManager:sn,shadowDomManager:Bi,processedNodeManager:Fi,canvasManager:ei,ignoreCSSAttributes:fe,plugins:e0([ne,"optionalAccess",Rt=>Rt.filter,"call",Rt=>Rt(qn=>qn.observer),"optionalAccess",Rt=>Rt.map,"call",Rt=>Rt(qn=>({observer:qn.observer,options:qn.options,callback:Ce=>Kn({type:Ut.Plugin,data:{plugin:qn.name,payload:Ce}})}))])||[]},{});yn.addLoadListener(Bt=>{try{wt.push(on(Bt.contentDocument))}catch(Rt){console.warn(Rt)}});const pt=()=>{gi(),wt.push(on(document))};return document.readyState==="interactive"||document.readyState==="complete"?pt():(wt.push(ui("DOMContentLoaded",()=>{Kn({type:Ut.DomContentLoaded,data:{}}),re==="DOMContentLoaded"&&pt()})),wt.push(ui("load",()=>{Kn({type:Ut.Load,data:{}}),re==="load"&&pt()},window))),()=>{wt.forEach(Bt=>Bt()),Fi.destroy(),N0=void 0,M$()}}catch(wt){console.warn(wt)}}function Z$(e){if(!N0)throw new Error("please take full snapshot after start recording");N0(e)}ia.mirror=zs;ia.takeFullSnapshot=Z$;function eU(e,t){try{return e?e(t):new e6}catch{return console.warn("Unable to initialize CanvasManager"),new e6}}const tU=3,nU=5;function zw(e){return e>9999999999?e:e*1e3}function Zv(e){return e>9999999999?e/1e3:e}function yp(e,t){t.category!=="sentry.transaction"&&(["ui.click","ui.input"].includes(t.category)?e.triggerUserActivity():e.checkAndHandleExpiredSession(),e.addUpdate(()=>(e.throttledAddEvent({type:Ut.Custom,timestamp:(t.timestamp||0)*1e3,data:{tag:"breadcrumb",payload:Us(t,10,1e3)}}),t.category==="console")))}const rU="button,a";function H9(e){return e.closest(rU)||e}function W9(e){const t=q9(e);return!t||!(t instanceof Element)?t:H9(t)}function q9(e){return iU(e)?e.target:e}function iU(e){return typeof e=="object"&&!!e&&"target"in e}let Qa;function sU(e){return Qa||(Qa=[],oU()),Qa.push(e),()=>{const t=Qa?Qa.indexOf(e):-1;t>-1&&Qa.splice(t,1)}}function oU(){Oi(Nn,"open",function(e){return function(...t){if(Qa)try{Qa.forEach(n=>n())}catch{}return e.apply(Nn,t)}})}const aU=new Set([Ct.Mutation,Ct.StyleSheetRule,Ct.StyleDeclaration,Ct.AdoptedStyleSheet,Ct.CanvasMutation,Ct.Selection,Ct.MediaInteraction]);function lU(e,t,n){e.handleClick(t,n)}class cU{constructor(t,n,r=yp){this._lastMutation=0,this._lastScroll=0,this._clicks=[],this._timeout=n.timeout/1e3,this._threshold=n.threshold/1e3,this._scrollTimeout=n.scrollTimeout/1e3,this._replay=t,this._ignoreSelector=n.ignoreSelector,this._addBreadcrumbEvent=r}addListeners(){const t=sU(()=>{this._lastMutation=t6()});this._teardown=()=>{t(),this._clicks=[],this._lastMutation=0,this._lastScroll=0}}removeListeners(){this._teardown&&this._teardown(),this._checkClickTimeout&&clearTimeout(this._checkClickTimeout)}handleClick(t,n){if(dU(n,this._ignoreSelector)||!fU(t))return;const r={timestamp:Zv(t.timestamp),clickBreadcrumb:t,clickCount:0,node:n};this._clicks.some(i=>i.node===r.node&&Math.abs(i.timestamp-r.timestamp)<1)||(this._clicks.push(r),this._clicks.length===1&&this._scheduleCheckClicks())}registerMutation(t=Date.now()){this._lastMutation=Zv(t)}registerScroll(t=Date.now()){this._lastScroll=Zv(t)}registerClick(t){const n=H9(t);this._handleMultiClick(n)}_handleMultiClick(t){this._getClicks(t).forEach(n=>{n.clickCount++})}_getClicks(t){return this._clicks.filter(n=>n.node===t)}_checkClicks(){const t=[],n=t6();this._clicks.forEach(r=>{!r.mutationAfter&&this._lastMutation&&(r.mutationAfter=r.timestamp<=this._lastMutation?this._lastMutation-r.timestamp:void 0),!r.scrollAfter&&this._lastScroll&&(r.scrollAfter=r.timestamp<=this._lastScroll?this._lastScroll-r.timestamp:void 0),r.timestamp+this._timeout<=n&&t.push(r)});for(const r of t){const i=this._clicks.indexOf(r);i>-1&&(this._generateBreadcrumbs(r),this._clicks.splice(i,1))}this._clicks.length&&this._scheduleCheckClicks()}_generateBreadcrumbs(t){const n=this._replay,r=t.scrollAfter&&t.scrollAfter<=this._scrollTimeout,i=t.mutationAfter&&t.mutationAfter<=this._threshold,s=!r&&!i,{clickCount:o,clickBreadcrumb:a}=t;if(s){const l=Math.min(t.mutationAfter||this._timeout,this._timeout)*1e3,u=l<this._timeout*1e3?"mutation":"timeout",f={type:"default",message:a.message,timestamp:a.timestamp,category:"ui.slowClickDetected",data:{...a.data,url:Nn.location.href,route:n.getCurrentRoute(),timeAfterClickMs:l,endReason:u,clickCount:o||1}};this._addBreadcrumbEvent(n,f);return}if(o>1){const l={type:"default",message:a.message,timestamp:a.timestamp,category:"ui.multiClick",data:{...a.data,url:Nn.location.href,route:n.getCurrentRoute(),clickCount:o,metric:!0}};this._addBreadcrumbEvent(n,l)}}_scheduleCheckClicks(){this._checkClickTimeout&&clearTimeout(this._checkClickTimeout),this._checkClickTimeout=jd(()=>this._checkClicks(),1e3)}}const uU=["A","BUTTON","INPUT"];function dU(e,t){return!!(!uU.includes(e.tagName)||e.tagName==="INPUT"&&!["submit","button"].includes(e.getAttribute("type")||"")||e.tagName==="A"&&(e.hasAttribute("download")||e.hasAttribute("target")&&e.getAttribute("target")!=="_self")||t&&e.matches(t))}function fU(e){return!!(e.data&&typeof e.data.nodeId=="number"&&e.timestamp)}function t6(){return Date.now()/1e3}function hU(e,t){try{if(!pU(t))return;const{source:n}=t.data;if(aU.has(n)&&e.registerMutation(t.timestamp),n===Ct.Scroll&&e.registerScroll(t.timestamp),mU(t)){const{type:r,id:i}=t.data,s=ia.mirror.getNode(i);s instanceof HTMLElement&&r===ai.Click&&e.registerClick(s)}}catch{}}function pU(e){return e.type===tU}function mU(e){return e.data.source===Ct.MouseInteraction}function mo(e){return{timestamp:Date.now()/1e3,type:"default",...e}}var I0;(function(e){e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment"})(I0||(I0={}));const gU=new Set(["id","class","aria-label","role","name","alt","title","data-test-id","data-testid","disabled","aria-disabled","data-sentry-component"]);function yU(e){const t={};!e["data-sentry-component"]&&e["data-sentry-element"]&&(e["data-sentry-component"]=e["data-sentry-element"]);for(const n in e)if(gU.has(n)){let r=n;(n==="data-testid"||n==="data-test-id")&&(r="testId"),t[r]=e[n]}return t}const vU=e=>t=>{if(!e.isEnabled())return;const n=xU(t);if(!n)return;const r=t.name==="click",i=r?t.event:void 0;r&&e.clickDetector&&i&&i.target&&!i.altKey&&!i.metaKey&&!i.ctrlKey&&!i.shiftKey&&lU(e.clickDetector,n,W9(t.event)),yp(e,n)};function V9(e,t){const n=ia.mirror.getId(e),r=n&&ia.mirror.getNode(n),i=r&&ia.mirror.getMeta(r),s=i&&wU(i)?i:null;return{message:t,data:s?{nodeId:n,node:{id:n,tagName:s.tagName,textContent:Array.from(s.childNodes).map(o=>o.type===I0.Text&&o.textContent).filter(Boolean).map(o=>o.trim()).join(""),attributes:yU(s.attributes)}}:{}}}function xU(e){const{target:t,message:n}=bU(e);return mo({category:`ui.${e.name}`,...V9(t,n)})}function bU(e){const t=e.name==="click";let n,r=null;try{r=t?W9(e.event):q9(e.event),n=aa(r,{maxStringLength:200})||"<unknown>"}catch{n="<unknown>"}return{target:r,message:n}}function wU(e){return e.type===I0.Element}function _U(e,t){if(!e.isEnabled())return;e.updateUserActivity();const n=SU(t);n&&yp(e,n)}function SU(e){const{metaKey:t,shiftKey:n,ctrlKey:r,altKey:i,key:s,target:o}=e;if(!o||CU(o)||!s)return null;const a=t||r||i,l=s.length===1;if(!a&&l)return null;const u=aa(o,{maxStringLength:200})||"<unknown>",f=V9(o,u);return mo({category:"ui.keyDown",message:u,data:{...f.data,metaKey:t,shiftKey:n,ctrlKey:r,altKey:i,key:s}})}function CU(e){return e.tagName==="INPUT"||e.tagName==="TEXTAREA"||e.isContentEditable}const kU={resource:IU,paint:jU,navigation:NU};function og(e,t){return({metric:n})=>void t.replayPerformanceEntries.push(e(n))}function EU(e){return e.map(TU).filter(Boolean)}function TU(e){const t=kU[e.entryType];return t?t(e):null}function Rd(e){return((pi||Nn.performance.timeOrigin)+e)/1e3}function jU(e){const{duration:t,entryType:n,name:r,startTime:i}=e,s=Rd(i);return{type:n,name:r,start:s,end:s+t,data:void 0}}function NU(e){const{entryType:t,name:n,decodedBodySize:r,duration:i,domComplete:s,encodedBodySize:o,domContentLoadedEventStart:a,domContentLoadedEventEnd:l,domInteractive:u,loadEventStart:f,loadEventEnd:p,redirectCount:g,startTime:y,transferSize:b,type:_}=e;return i===0?null:{type:`${t}.${_}`,start:Rd(y),end:Rd(s),name:n,data:{size:b,decodedBodySize:r,encodedBodySize:o,duration:i,domInteractive:u,domContentLoadedEventStart:a,domContentLoadedEventEnd:l,loadEventStart:f,loadEventEnd:p,domComplete:s,redirectCount:g}}}function IU(e){const{entryType:t,initiatorType:n,name:r,responseEnd:i,startTime:s,decodedBodySize:o,encodedBodySize:a,responseStatus:l,transferSize:u}=e;return["fetch","xmlhttprequest"].includes(n)?null:{type:`${t}.${n}`,start:Rd(s),end:Rd(i),name:r,data:{size:u,statusCode:l,decodedBodySize:o,encodedBodySize:a}}}function RU(e){const t=e.entries[e.entries.length-1],n=t&&t.element?[t.element]:void 0;return b1(e,"largest-contentful-paint",n)}function PU(e){return e.sources!==void 0}function OU(e){const t=[],n=[];for(const r of e.entries)if(PU(r)){const i=[];for(const s of r.sources)if(s.node){n.push(s.node);const o=ia.mirror.getId(s.node);o&&i.push(o)}t.push({value:r.value,nodeIds:i.length?i:void 0})}return b1(e,"cumulative-layout-shift",n,t)}function MU(e){const t=e.entries[e.entries.length-1],n=t&&t.target?[t.target]:void 0;return b1(e,"first-input-delay",n)}function AU(e){const t=e.entries[e.entries.length-1],n=t&&t.target?[t.target]:void 0;return b1(e,"interaction-to-next-paint",n)}function b1(e,t,n,r){const i=e.value,s=e.rating,o=Rd(i);return{type:"web-vital",name:t,start:o,end:o,data:{value:i,size:i,rating:s,nodeIds:n?n.map(a=>ia.mirror.getId(a)):void 0,attributions:r}}}function DU(e){function t(i){e.performanceEntries.includes(i)||e.performanceEntries.push(i)}function n({entries:i}){i.forEach(t)}const r=[];return["navigation","paint","resource"].forEach(i=>{r.push(Td(i,n))}),r.push(c9(og(RU,e)),Iw(og(OU,e)),u9(og(MU,e)),d9(og(AU,e))),()=>{r.forEach(i=>i())}}const yt=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,LU='var t=Uint8Array,n=Uint16Array,r=Int32Array,e=new t([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),i=new t([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),a=new t([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),s=function(t,e){for(var i=new n(31),a=0;a<31;++a)i[a]=e+=1<<t[a-1];var s=new r(i[30]);for(a=1;a<30;++a)for(var o=i[a];o<i[a+1];++o)s[o]=o-i[a]<<5|a;return{b:i,r:s}},o=s(e,2),f=o.b,h=o.r;f[28]=258,h[258]=28;for(var l=s(i,0).r,u=new n(32768),c=0;c<32768;++c){var v=(43690&c)>>1|(21845&c)<<1;v=(61680&(v=(52428&v)>>2|(13107&v)<<2))>>4|(3855&v)<<4,u[c]=((65280&v)>>8|(255&v)<<8)>>1}var d=function(t,r,e){for(var i=t.length,a=0,s=new n(r);a<i;++a)t[a]&&++s[t[a]-1];var o,f=new n(r);for(a=1;a<r;++a)f[a]=f[a-1]+s[a-1]<<1;if(e){o=new n(1<<r);var h=15-r;for(a=0;a<i;++a)if(t[a])for(var l=a<<4|t[a],c=r-t[a],v=f[t[a]-1]++<<c,d=v|(1<<c)-1;v<=d;++v)o[u[v]>>h]=l}else for(o=new n(i),a=0;a<i;++a)t[a]&&(o[a]=u[f[t[a]-1]++]>>15-t[a]);return o},g=new t(288);for(c=0;c<144;++c)g[c]=8;for(c=144;c<256;++c)g[c]=9;for(c=256;c<280;++c)g[c]=7;for(c=280;c<288;++c)g[c]=8;var w=new t(32);for(c=0;c<32;++c)w[c]=5;var p=d(g,9,0),y=d(w,5,0),m=function(t){return(t+7)/8|0},b=function(n,r,e){return(null==e||e>n.length)&&(e=n.length),new t(n.subarray(r,e))},M=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],E=function(t,n,r){var e=new Error(n||M[t]);if(e.code=t,Error.captureStackTrace&&Error.captureStackTrace(e,E),!r)throw e;return e},z=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8},_=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8,t[e+2]|=r>>16},x=function(r,e){for(var i=[],a=0;a<r.length;++a)r[a]&&i.push({s:a,f:r[a]});var s=i.length,o=i.slice();if(!s)return{t:F,l:0};if(1==s){var f=new t(i[0].s+1);return f[i[0].s]=1,{t:f,l:1}}i.sort((function(t,n){return t.f-n.f})),i.push({s:-1,f:25001});var h=i[0],l=i[1],u=0,c=1,v=2;for(i[0]={s:-1,f:h.f+l.f,l:h,r:l};c!=s-1;)h=i[i[u].f<i[v].f?u++:v++],l=i[u!=c&&i[u].f<i[v].f?u++:v++],i[c++]={s:-1,f:h.f+l.f,l:h,r:l};var d=o[0].s;for(a=1;a<s;++a)o[a].s>d&&(d=o[a].s);var g=new n(d+1),w=A(i[c-1],g,0);if(w>e){a=0;var p=0,y=w-e,m=1<<y;for(o.sort((function(t,n){return g[n.s]-g[t.s]||t.f-n.f}));a<s;++a){var b=o[a].s;if(!(g[b]>e))break;p+=m-(1<<w-g[b]),g[b]=e}for(p>>=y;p>0;){var M=o[a].s;g[M]<e?p-=1<<e-g[M]++-1:++a}for(;a>=0&&p;--a){var E=o[a].s;g[E]==e&&(--g[E],++p)}w=e}return{t:new t(g),l:w}},A=function(t,n,r){return-1==t.s?Math.max(A(t.l,n,r+1),A(t.r,n,r+1)):n[t.s]=r},D=function(t){for(var r=t.length;r&&!t[--r];);for(var e=new n(++r),i=0,a=t[0],s=1,o=function(t){e[i++]=t},f=1;f<=r;++f)if(t[f]==a&&f!=r)++s;else{if(!a&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(a),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(a);s=1,a=t[f]}return{c:e.subarray(0,i),n:r}},T=function(t,n){for(var r=0,e=0;e<n.length;++e)r+=t[e]*n[e];return r},k=function(t,n,r){var e=r.length,i=m(n+2);t[i]=255&e,t[i+1]=e>>8,t[i+2]=255^t[i],t[i+3]=255^t[i+1];for(var a=0;a<e;++a)t[i+a+4]=r[a];return 8*(i+4+e)},U=function(t,r,s,o,f,h,l,u,c,v,m){z(r,m++,s),++f[256];for(var b=x(f,15),M=b.t,E=b.l,A=x(h,15),U=A.t,C=A.l,F=D(M),I=F.c,S=F.n,L=D(U),O=L.c,j=L.n,q=new n(19),B=0;B<I.length;++B)++q[31&I[B]];for(B=0;B<O.length;++B)++q[31&O[B]];for(var G=x(q,7),H=G.t,J=G.l,K=19;K>4&&!H[a[K-1]];--K);var N,P,Q,R,V=v+5<<3,W=T(f,g)+T(h,w)+l,X=T(f,M)+T(h,U)+l+14+3*K+T(q,H)+2*q[16]+3*q[17]+7*q[18];if(c>=0&&V<=W&&V<=X)return k(r,m,t.subarray(c,c+v));if(z(r,m,1+(X<W)),m+=2,X<W){N=d(M,E,0),P=M,Q=d(U,C,0),R=U;var Y=d(H,J,0);z(r,m,S-257),z(r,m+5,j-1),z(r,m+10,K-4),m+=14;for(B=0;B<K;++B)z(r,m+3*B,H[a[B]]);m+=3*K;for(var Z=[I,O],$=0;$<2;++$){var tt=Z[$];for(B=0;B<tt.length;++B){var nt=31&tt[B];z(r,m,Y[nt]),m+=H[nt],nt>15&&(z(r,m,tt[B]>>5&127),m+=tt[B]>>12)}}}else N=p,P=g,Q=y,R=w;for(B=0;B<u;++B){var rt=o[B];if(rt>255){_(r,m,N[(nt=rt>>18&31)+257]),m+=P[nt+257],nt>7&&(z(r,m,rt>>23&31),m+=e[nt]);var et=31&rt;_(r,m,Q[et]),m+=R[et],et>3&&(_(r,m,rt>>5&8191),m+=i[et])}else _(r,m,N[rt]),m+=P[rt]}return _(r,m,N[256]),m+P[256]},C=new r([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),F=new t(0),I=function(){for(var t=new Int32Array(256),n=0;n<256;++n){for(var r=n,e=9;--e;)r=(1&r&&-306674912)^r>>>1;t[n]=r}return t}(),S=function(){var t=-1;return{p:function(n){for(var r=t,e=0;e<n.length;++e)r=I[255&r^n[e]]^r>>>8;t=r},d:function(){return~t}}},L=function(){var t=1,n=0;return{p:function(r){for(var e=t,i=n,a=0|r.length,s=0;s!=a;){for(var o=Math.min(s+2655,a);s<o;++s)i+=e+=r[s];e=(65535&e)+15*(e>>16),i=(65535&i)+15*(i>>16)}t=e,n=i},d:function(){return(255&(t%=65521))<<24|(65280&t)<<8|(255&(n%=65521))<<8|n>>8}}},O=function(a,s,o,f,u){if(!u&&(u={l:1},s.dictionary)){var c=s.dictionary.subarray(-32768),v=new t(c.length+a.length);v.set(c),v.set(a,c.length),a=v,u.w=c.length}return function(a,s,o,f,u,c){var v=c.z||a.length,d=new t(f+v+5*(1+Math.ceil(v/7e3))+u),g=d.subarray(f,d.length-u),w=c.l,p=7&(c.r||0);if(s){p&&(g[0]=c.r>>3);for(var y=C[s-1],M=y>>13,E=8191&y,z=(1<<o)-1,_=c.p||new n(32768),x=c.h||new n(z+1),A=Math.ceil(o/3),D=2*A,T=function(t){return(a[t]^a[t+1]<<A^a[t+2]<<D)&z},F=new r(25e3),I=new n(288),S=new n(32),L=0,O=0,j=c.i||0,q=0,B=c.w||0,G=0;j+2<v;++j){var H=T(j),J=32767&j,K=x[H];if(_[J]=K,x[H]=J,B<=j){var N=v-j;if((L>7e3||q>24576)&&(N>423||!w)){p=U(a,g,0,F,I,S,O,q,G,j-G,p),q=L=O=0,G=j;for(var P=0;P<286;++P)I[P]=0;for(P=0;P<30;++P)S[P]=0}var Q=2,R=0,V=E,W=J-K&32767;if(N>2&&H==T(j-W))for(var X=Math.min(M,N)-1,Y=Math.min(32767,j),Z=Math.min(258,N);W<=Y&&--V&&J!=K;){if(a[j+Q]==a[j+Q-W]){for(var $=0;$<Z&&a[j+$]==a[j+$-W];++$);if($>Q){if(Q=$,R=W,$>X)break;var tt=Math.min(W,$-2),nt=0;for(P=0;P<tt;++P){var rt=j-W+P&32767,et=rt-_[rt]&32767;et>nt&&(nt=et,K=rt)}}}W+=(J=K)-(K=_[J])&32767}if(R){F[q++]=268435456|h[Q]<<18|l[R];var it=31&h[Q],at=31&l[R];O+=e[it]+i[at],++I[257+it],++S[at],B=j+Q,++L}else F[q++]=a[j],++I[a[j]]}}for(j=Math.max(j,B);j<v;++j)F[q++]=a[j],++I[a[j]];p=U(a,g,w,F,I,S,O,q,G,j-G,p),w||(c.r=7&p|g[p/8|0]<<3,p-=7,c.h=x,c.p=_,c.i=j,c.w=B)}else{for(j=c.w||0;j<v+w;j+=65535){var st=j+65535;st>=v&&(g[p/8|0]=w,st=v),p=k(g,p+1,a.subarray(j,st))}c.i=v}return b(d,0,f+m(p)+u)}(a,null==s.level?6:s.level,null==s.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(a.length)))):12+s.mem,o,f,u)},j=function(t,n,r){for(;r;++n)t[n]=r,r>>>=8},q=function(t,n){var r=n.filename;if(t[0]=31,t[1]=139,t[2]=8,t[8]=n.level<2?4:9==n.level?2:0,t[9]=3,0!=n.mtime&&j(t,4,Math.floor(new Date(n.mtime||Date.now())/1e3)),r){t[3]=8;for(var e=0;e<=r.length;++e)t[e+10]=r.charCodeAt(e)}},B=function(t){return 10+(t.filename?t.filename.length+1:0)},G=function(){function n(n,r){if("function"==typeof n&&(r=n,n={}),this.ondata=r,this.o=n||{},this.s={l:0,i:32768,w:32768,z:32768},this.b=new t(98304),this.o.dictionary){var e=this.o.dictionary.subarray(-32768);this.b.set(e,32768-e.length),this.s.i=32768-e.length}}return n.prototype.p=function(t,n){this.ondata(O(t,this.o,0,0,this.s),n)},n.prototype.push=function(n,r){this.ondata||E(5),this.s.l&&E(4);var e=n.length+this.s.z;if(e>this.b.length){if(e>2*this.b.length-32768){var i=new t(-32768&e);i.set(this.b.subarray(0,this.s.z)),this.b=i}var a=this.b.length-this.s.z;a&&(this.b.set(n.subarray(0,a),this.s.z),this.s.z=this.b.length,this.p(this.b,!1)),this.b.set(this.b.subarray(-32768)),this.b.set(n.subarray(a),32768),this.s.z=n.length-a+32768,this.s.i=32766,this.s.w=32768}else this.b.set(n,this.s.z),this.s.z+=n.length;this.s.l=1&r,(this.s.z>this.s.w+8191||r)&&(this.p(this.b,r||!1),this.s.w=this.s.i,this.s.i-=2)},n}();var H=function(){function t(t,n){this.c=L(),this.v=1,G.call(this,t,n)}return t.prototype.push=function(t,n){this.c.p(t),G.prototype.push.call(this,t,n)},t.prototype.p=function(t,n){var r=O(t,this.o,this.v&&(this.o.dictionary?6:2),n&&4,this.s);this.v&&(function(t,n){var r=n.level,e=0==r?0:r<6?1:9==r?3:2;if(t[0]=120,t[1]=e<<6|(n.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,n.dictionary){var i=L();i.p(n.dictionary),j(t,2,i.d())}}(r,this.o),this.v=0),n&&j(r,r.length-4,this.c.d()),this.ondata(r,n)},t}(),J="undefined"!=typeof TextEncoder&&new TextEncoder,K="undefined"!=typeof TextDecoder&&new TextDecoder;try{K.decode(F,{stream:!0})}catch(t){}var N=function(){function t(t){this.ondata=t}return t.prototype.push=function(t,n){this.ondata||E(5),this.d&&E(4),this.ondata(P(t),this.d=n||!1)},t}();function P(n,r){if(J)return J.encode(n);for(var e=n.length,i=new t(n.length+(n.length>>1)),a=0,s=function(t){i[a++]=t},o=0;o<e;++o){if(a+5>i.length){var f=new t(a+8+(e-o<<1));f.set(i),i=f}var h=n.charCodeAt(o);h<128||r?s(h):h<2048?(s(192|h>>6),s(128|63&h)):h>55295&&h<57344?(s(240|(h=65536+(1047552&h)|1023&n.charCodeAt(++o))>>18),s(128|h>>12&63),s(128|h>>6&63),s(128|63&h)):(s(224|h>>12),s(128|h>>6&63),s(128|63&h))}return b(i,0,a)}function Q(t){return function(t,n){n||(n={});var r=S(),e=t.length;r.p(t);var i=O(t,n,B(n),8),a=i.length;return q(i,n),j(i,a-8,r.d()),j(i,a-4,e),i}(P(t))}const R=new class{constructor(){this._init()}clear(){this._init()}addEvent(t){if(!t)throw new Error("Adding invalid event");const n=this._hasEvents?",":"";this.stream.push(n+t),this._hasEvents=!0}finish(){this.stream.push("]",!0);const t=function(t){let n=0;for(const r of t)n+=r.length;const r=new Uint8Array(n);for(let n=0,e=0,i=t.length;n<i;n++){const i=t[n];r.set(i,e),e+=i.length}return r}(this._deflatedData);return this._init(),t}_init(){this._hasEvents=!1,this._deflatedData=[],this.deflate=new H,this.deflate.ondata=(t,n)=>{this._deflatedData.push(t)},this.stream=new N(((t,n)=>{this.deflate.push(t,n)})),this.stream.push("[")}},V={clear:()=>{R.clear()},addEvent:t=>R.addEvent(t),finish:()=>R.finish(),compress:t=>Q(t)};addEventListener("message",(function(t){const n=t.data.method,r=t.data.id,e=t.data.arg;if(n in V&&"function"==typeof V[n])try{const t=V[n](e);postMessage({id:r,method:n,success:!0,response:t})}catch(t){postMessage({id:r,method:n,success:!1,response:t.message}),console.error(t)}})),postMessage({id:void 0,method:"init",success:!0,response:void 0});';function FU(){const e=new Blob([LU]);return URL.createObjectURL(e)}const n6=["info","warn","error","log"],r0="[Replay] ";function ex(e,t="info"){dl({category:"console",data:{logger:"replay"},level:t,message:`${r0}${e}`},{level:t})}function BU(){let e=!1,t=!1;const n={exception:()=>{},infoTick:()=>{},setConfig:r=>{e=r.captureExceptions,t=r.traceInternals}};return yt?(n6.forEach(r=>{n[r]=(...i)=>{Ge[r](r0,...i),t&&ex(i.join(""),Q8(r))}}),n.exception=(r,...i)=>{i.length&&n.error&&n.error(...i),Ge.error(r0,r),e?kw(r):t&&ex(r,"error")},n.infoTick=(...r)=>{Ge.info(r0,...r),t&&setTimeout(()=>ex(r[0]),0)}):n6.forEach(r=>{n[r]=()=>{}}),n}const bt=BU();class $w extends Error{constructor(){super(`Event buffer exceeded maximum size of ${Mw}.`)}}class Q9{constructor(){this.events=[],this._totalSize=0,this.hasCheckout=!1,this.waitForCheckout=!1}get hasEvents(){return this.events.length>0}get type(){return"sync"}destroy(){this.events=[]}async addEvent(t){const n=JSON.stringify(t).length;if(this._totalSize+=n,this._totalSize>Mw)throw new $w;this.events.push(t)}finish(){return new Promise(t=>{const n=this.events;this.clear(),t(JSON.stringify(n))})}clear(){this.events=[],this._totalSize=0,this.hasCheckout=!1}getEarliestTimestamp(){const t=this.events.map(n=>n.timestamp).sort()[0];return t?zw(t):null}}class zU{constructor(t){this._worker=t,this._id=0}ensureReady(){return this._ensureReadyPromise?this._ensureReadyPromise:(this._ensureReadyPromise=new Promise((t,n)=>{this._worker.addEventListener("message",({data:r})=>{r.success?t():n()},{once:!0}),this._worker.addEventListener("error",r=>{n(r)},{once:!0})}),this._ensureReadyPromise)}destroy(){yt&&bt.info("Destroying compression worker"),this._worker.terminate()}postMessage(t,n){const r=this._getAndIncrementId();return new Promise((i,s)=>{const o=({data:a})=>{const l=a;if(l.method===t&&l.id===r){if(this._worker.removeEventListener("message",o),!l.success){yt&&bt.error("Error in compression worker: ",l.response),s(new Error("Error in compression worker"));return}i(l.response)}};this._worker.addEventListener("message",o),this._worker.postMessage({id:r,method:t,arg:n})})}_getAndIncrementId(){return this._id++}}class $U{constructor(t){this._worker=new zU(t),this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this.waitForCheckout=!1}get hasEvents(){return!!this._earliestTimestamp}get type(){return"worker"}ensureReady(){return this._worker.ensureReady()}destroy(){this._worker.destroy()}addEvent(t){const n=zw(t.timestamp);(!this._earliestTimestamp||n<this._earliestTimestamp)&&(this._earliestTimestamp=n);const r=JSON.stringify(t);return this._totalSize+=r.length,this._totalSize>Mw?Promise.reject(new $w):this._sendEventToWorker(r)}finish(){return this._finishRequest()}clear(){this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this._worker.postMessage("clear").then(null,t=>{yt&&bt.exception(t,'Sending "clear" message to worker failed',t)})}getEarliestTimestamp(){return this._earliestTimestamp}_sendEventToWorker(t){return this._worker.postMessage("addEvent",t)}async _finishRequest(){const t=await this._worker.postMessage("finish");return this._earliestTimestamp=null,this._totalSize=0,t}}class UU{constructor(t){this._fallback=new Q9,this._compression=new $U(t),this._used=this._fallback,this._ensureWorkerIsLoadedPromise=this._ensureWorkerIsLoaded()}get waitForCheckout(){return this._used.waitForCheckout}get type(){return this._used.type}get hasEvents(){return this._used.hasEvents}get hasCheckout(){return this._used.hasCheckout}set hasCheckout(t){this._used.hasCheckout=t}set waitForCheckout(t){this._used.waitForCheckout=t}destroy(){this._fallback.destroy(),this._compression.destroy()}clear(){return this._used.clear()}getEarliestTimestamp(){return this._used.getEarliestTimestamp()}addEvent(t){return this._used.addEvent(t)}async finish(){return await this.ensureWorkerIsLoaded(),this._used.finish()}ensureWorkerIsLoaded(){return this._ensureWorkerIsLoadedPromise}async _ensureWorkerIsLoaded(){try{await this._compression.ensureReady()}catch(t){yt&&bt.exception(t,"Failed to load the compression worker, falling back to simple buffer");return}await this._switchToCompressionWorker()}async _switchToCompressionWorker(){const{events:t,hasCheckout:n,waitForCheckout:r}=this._fallback,i=[];for(const s of t)i.push(this._compression.addEvent(s));this._compression.hasCheckout=n,this._compression.waitForCheckout=r,this._used=this._compression;try{await Promise.all(i),this._fallback.clear()}catch(s){yt&&bt.exception(s,"Failed to add events when switching buffers.")}}}function HU({useCompression:e,workerUrl:t}){if(e&&window.Worker){const n=WU(t);if(n)return n}return yt&&bt.info("Using simple buffer"),new Q9}function WU(e){try{const t=e||qU();if(!t)return;yt&&bt.info(`Using compression worker${e?` from ${e}`:""}`);const n=new Worker(t);return new UU(n)}catch(t){yt&&bt.exception(t,"Failed to create compression worker")}}function qU(){return typeof __SENTRY_EXCLUDE_REPLAY_WORKER__>"u"||!__SENTRY_EXCLUDE_REPLAY_WORKER__?FU():""}function Uw(){try{return"sessionStorage"in Nn&&!!Nn.sessionStorage}catch{return!1}}function VU(e){QU(),e.session=void 0}function QU(){if(Uw())try{Nn.sessionStorage.removeItem(Pw)}catch{}}function K9(e){return e===void 0?!1:Math.random()<e}function G9(e){const t=Date.now(),n=e.id||Zi(),r=e.started||t,i=e.lastActivity||t,s=e.segmentId||0,o=e.sampled,a=e.previousSessionId;return{id:n,started:r,lastActivity:i,segmentId:s,sampled:o,previousSessionId:a}}function Hw(e){if(Uw())try{Nn.sessionStorage.setItem(Pw,JSON.stringify(e))}catch{}}function KU(e,t){return K9(e)?"session":t?"buffer":!1}function r6({sessionSampleRate:e,allowBuffering:t,stickySession:n=!1},{previousSessionId:r}={}){const i=KU(e,t),s=G9({sampled:i,previousSessionId:r});return n&&Hw(s),s}function GU(){if(!Uw())return null;try{const e=Nn.sessionStorage.getItem(Pw);if(!e)return null;const t=JSON.parse(e);return yt&&bt.infoTick("Loading existing session"),G9(t)}catch{return null}}function Kb(e,t,n=+new Date){return e===null||t===void 0||t<0?!0:t===0?!1:e+t<=n}function Y9(e,{maxReplayDuration:t,sessionIdleExpire:n,targetTime:r=Date.now()}){return Kb(e.started,t,r)||Kb(e.lastActivity,n,r)}function X9(e,{sessionIdleExpire:t,maxReplayDuration:n}){return!(!Y9(e,{sessionIdleExpire:t,maxReplayDuration:n})||e.sampled==="buffer"&&e.segmentId===0)}function tx({sessionIdleExpire:e,maxReplayDuration:t,previousSessionId:n},r){const i=r.stickySession&&GU();return i?X9(i,{sessionIdleExpire:e,maxReplayDuration:t})?(yt&&bt.infoTick("Session in sessionStorage is expired, creating new one..."),r6(r,{previousSessionId:i.id})):i:(yt&&bt.infoTick("Creating new session"),r6(r,{previousSessionId:n}))}function YU(e){return e.type===Ut.Custom}function Ww(e,t,n){return Z9(e,t)?(J9(e,t,n),!0):!1}function XU(e,t,n){return Z9(e,t)?J9(e,t,n):Promise.resolve(null)}async function J9(e,t,n){const{eventBuffer:r}=e;if(!r||r.waitForCheckout&&!n)return null;const i=e.recordingMode==="buffer";try{n&&i&&r.clear(),n&&(r.hasCheckout=!0,r.waitForCheckout=!1);const s=e.getOptions(),o=JU(t,s.beforeAddRecordingEvent);return o?await r.addEvent(o):void 0}catch(s){const o=s&&s instanceof $w,a=o?"addEventSizeExceeded":"addEvent";if(o&&i)return r.clear(),r.waitForCheckout=!0,null;e.handleException(s),await e.stop({reason:a});const l=Xt();l&&l.recordDroppedEvent("internal_sdk_error","replay")}}function Z9(e,t){if(!e.eventBuffer||e.isPaused()||!e.isEnabled())return!1;const n=zw(t.timestamp);return n+e.timeouts.sessionIdlePause<Date.now()?!1:n>e.getContext().initialTimestamp+e.getOptions().maxReplayDuration?(yt&&bt.infoTick(`Skipping event with timestamp ${n} because it is after maxReplayDuration`),!1):!0}function JU(e,t){try{if(typeof t=="function"&&YU(e))return t(e)}catch(n){return yt&&bt.exception(n,"An error occurred in the `beforeAddRecordingEvent` callback, skipping the event..."),null}return e}function qw(e){return!e.type}function Gb(e){return e.type==="transaction"}function ZU(e){return e.type==="replay_event"}function i6(e){return e.type==="feedback"}function eH(e){return(t,n)=>{if(!e.isEnabled()||!qw(t)&&!Gb(t))return;const r=n&&n.statusCode;if(!(!r||r<200||r>=300)){if(Gb(t)){tH(e,t);return}nH(e,t)}}}function tH(e,t){const n=e.getContext();t.contexts&&t.contexts.trace&&t.contexts.trace.trace_id&&n.traceIds.size<100&&n.traceIds.add(t.contexts.trace.trace_id)}function nH(e,t){const n=e.getContext();if(t.event_id&&n.errorIds.size<100&&n.errorIds.add(t.event_id),e.recordingMode!=="buffer"||!t.tags||!t.tags.replayId)return;const{beforeErrorSampling:r}=e.getOptions();typeof r=="function"&&!r(t)||jd(async()=>{try{await e.sendBufferedReplayOrFlush()}catch(i){e.handleException(i)}})}function rH(e){return t=>{!e.isEnabled()||!qw(t)||iH(e,t)}}function iH(e,t){const n=t.exception&&t.exception.values&&t.exception.values[0]&&t.exception.values[0].value;if(typeof n=="string"&&(n.match(/(reactjs\.org\/docs\/error-decoder\.html\?invariant=|react\.dev\/errors\/)(418|419|422|423|425)/)||n.match(/(does not match server-rendered HTML|Hydration failed because)/i))){const r=mo({category:"replay.hydrate-error",data:{url:o8()}});yp(e,r)}}function sH(e){const t=Xt();t&&t.on("beforeAddBreadcrumb",n=>oH(e,n))}function oH(e,t){if(!e.isEnabled()||!eT(t))return;const n=aH(t);n&&yp(e,n)}function aH(e){return!eT(e)||["fetch","xhr","sentry.event","sentry.transaction"].includes(e.category)||e.category.startsWith("ui.")?null:e.category==="console"?lH(e):mo(e)}function lH(e){const t=e.data&&e.data.arguments;if(!Array.isArray(t)||t.length===0)return mo(e);let n=!1;const r=t.map(i=>{if(!i)return i;if(typeof i=="string")return i.length>rg?(n=!0,`${i.slice(0,rg)}`):i;if(typeof i=="object")try{const s=Us(i,7);return JSON.stringify(s).length>rg?(n=!0,`${JSON.stringify(s,null,2).slice(0,rg)}`):s}catch{}return i});return mo({...e,data:{...e.data,arguments:r,...n?{_meta:{warnings:["CONSOLE_ARG_TRUNCATED"]}}:{}}})}function eT(e){return!!e.category}function cH(e,t){return e.type||!e.exception||!e.exception.values||!e.exception.values.length?!1:!!(t.originalException&&t.originalException.__rrweb__)}function tT(){const e=Pn().getPropagationContext().dsc;e&&delete e.replay_id;const t=Pr();if(t){const n=qc(t);delete n.replay_id}}function uH(e,t){e.triggerUserActivity(),e.addUpdate(()=>t.timestamp?(e.throttledAddEvent({type:Ut.Custom,timestamp:t.timestamp*1e3,data:{tag:"breadcrumb",payload:{timestamp:t.timestamp,type:"default",category:"sentry.feedback",data:{feedbackId:t.event_id}}}}),!1):!0)}function dH(e,t){return e.recordingMode!=="buffer"||t.message===Ow||!t.exception||t.type?!1:K9(e.getOptions().errorSampleRate)}function fH(e){return Object.assign((t,n)=>!e.isEnabled()||e.isPaused()?t:ZU(t)?(delete t.breadcrumbs,t):!qw(t)&&!Gb(t)&&!i6(t)?t:e.checkAndHandleExpiredSession()?i6(t)?(e.flush(),t.contexts.feedback.replay_id=e.getSessionId(),uH(e,t),t):cH(t,n)&&!e.getOptions()._experiments.captureExceptions?(yt&&bt.log("Ignoring error from rrweb internals",t),null):((dH(e,t)||e.recordingMode==="session")&&(t.tags={...t.tags,replayId:e.getSessionId()}),t):(tT(),t),{id:"Replay"})}function w1(e,t){return t.map(({type:n,start:r,end:i,name:s,data:o})=>{const a=e.throttledAddEvent({type:Ut.Custom,timestamp:r,data:{tag:"performanceSpan",payload:{op:n,description:s,startTimestamp:r,endTimestamp:i,data:o}}});return typeof a=="string"?Promise.resolve(null):a})}function hH(e){const{from:t,to:n}=e,r=Date.now()/1e3;return{type:"navigation.push",start:r,end:r,name:n,data:{previous:t}}}function pH(e){return t=>{if(!e.isEnabled())return;const n=hH(t);n!==null&&(e.getContext().urls.push(n.name),e.triggerUserActivity(),e.addUpdate(()=>(w1(e,[n]),!1)))}}function mH(e,t){return yt&&e.getOptions()._experiments.traceInternals?!1:hL(t,Xt())}function nT(e,t){e.isEnabled()&&t!==null&&(mH(e,t.name)||e.addUpdate(()=>(w1(e,[t]),!0)))}function _1(e){if(!e)return;const t=new TextEncoder;try{if(typeof e=="string")return t.encode(e).length;if(e instanceof URLSearchParams)return t.encode(e.toString()).length;if(e instanceof FormData){const n=oT(e);return t.encode(n).length}if(e instanceof Blob)return e.size;if(e instanceof ArrayBuffer)return e.byteLength}catch{}}function rT(e){if(!e)return;const t=parseInt(e,10);return isNaN(t)?void 0:t}function iT(e){try{if(typeof e=="string")return[e];if(e instanceof URLSearchParams)return[e.toString()];if(e instanceof FormData)return[oT(e)];if(!e)return[void 0]}catch(t){return yt&&bt.exception(t,"Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return yt&&bt.info("Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}function R0(e,t){if(!e)return{headers:{},size:void 0,_meta:{warnings:[t]}};const n={...e._meta},r=n.warnings||[];return n.warnings=[...r,t],e._meta=n,e}function sT(e,t){if(!t)return null;const{startTimestamp:n,endTimestamp:r,url:i,method:s,statusCode:o,request:a,response:l}=t;return{type:e,start:n/1e3,end:r/1e3,name:i,data:yr({method:s,statusCode:o,request:a,response:l})}}function Uh(e){return{headers:{},size:e,_meta:{warnings:["URL_SKIPPED"]}}}function rl(e,t,n){if(!t&&Object.keys(e).length===0)return;if(!t)return{headers:e};if(!n)return{headers:e,size:t};const r={headers:e,size:t},{body:i,warnings:s}=gH(n);return r.body=i,s&&s.length>0&&(r._meta={warnings:s}),r}function Yb(e,t){return Object.entries(e).reduce((n,[r,i])=>{const s=r.toLowerCase();return t.includes(s)&&e[r]&&(n[s]=i),n},{})}function oT(e){return new URLSearchParams(e).toString()}function gH(e){if(!e||typeof e!="string")return{body:e};const t=e.length>F4,n=yH(e);if(t){const r=e.slice(0,F4);return n?{body:r,warnings:["MAYBE_JSON_TRUNCATED"]}:{body:`${r}`,warnings:["TEXT_TRUNCATED"]}}if(n)try{return{body:JSON.parse(e)}}catch{}return{body:e}}function yH(e){const t=e[0],n=e[e.length-1];return t==="["&&n==="]"||t==="{"&&n==="}"}function P0(e,t){const n=vH(e);return nl(n,t)}function vH(e,t=Nn.document.baseURI){if(e.startsWith("http://")||e.startsWith("https://")||e.startsWith(Nn.location.origin))return e;const n=new URL(e,t);if(n.origin!==new URL(t).origin)return e;const r=n.href;return!e.endsWith("/")&&r.endsWith("/")?r.slice(0,-1):r}async function xH(e,t,n){try{const r=await wH(e,t,n),i=sT("resource.fetch",r);nT(n.replay,i)}catch(r){yt&&bt.exception(r,"Failed to capture fetch breadcrumb")}}function bH(e,t){const{input:n,response:r}=t,i=n?aT(n):void 0,s=_1(i),o=r?rT(r.headers.get("content-length")):void 0;s!==void 0&&(e.data.request_body_size=s),o!==void 0&&(e.data.response_body_size=o)}async function wH(e,t,n){const r=Date.now(),{startTimestamp:i=r,endTimestamp:s=r}=t,{url:o,method:a,status_code:l=0,request_body_size:u,response_body_size:f}=e.data,p=P0(o,n.networkDetailAllowUrls)&&!P0(o,n.networkDetailDenyUrls),g=p?_H(n,t.input,u):Uh(u),y=await SH(p,n,t.response,f);return{startTimestamp:i,endTimestamp:s,url:o,method:a,statusCode:l,request:g,response:y}}function _H({networkCaptureBodies:e,networkRequestHeaders:t},n,r){const i=n?EH(n,t):{};if(!e)return rl(i,r,void 0);const s=aT(n),[o,a]=iT(s),l=rl(i,r,o);return a?R0(l,a):l}async function SH(e,{networkCaptureBodies:t,networkResponseHeaders:n},r,i){if(!e&&i!==void 0)return Uh(i);const s=r?lT(r.headers,n):{};if(!r||!t&&i!==void 0)return rl(s,i,void 0);const[o,a]=await kH(r),l=CH(o,{networkCaptureBodies:t,responseBodySize:i,captureDetails:e,headers:s});return a?R0(l,a):l}function CH(e,{networkCaptureBodies:t,responseBodySize:n,captureDetails:r,headers:i}){try{const s=e&&e.length&&n===void 0?_1(e):n;return r?t?rl(i,s,e):rl(i,s,void 0):Uh(s)}catch(s){return yt&&bt.exception(s,"Failed to serialize response body"),rl(i,n,void 0)}}async function kH(e){const t=TH(e);if(!t)return[void 0,"BODY_PARSE_ERROR"];try{return[await jH(t)]}catch(n){return n instanceof Error&&n.message.indexOf("Timeout")>-1?(yt&&bt.warn("Parsing text body from response timed out"),[void 0,"BODY_PARSE_TIMEOUT"]):(yt&&bt.exception(n,"Failed to get text body from response"),[void 0,"BODY_PARSE_ERROR"])}}function aT(e=[]){if(!(e.length!==2||typeof e[1]!="object"))return e[1].body}function lT(e,t){const n={};return t.forEach(r=>{e.get(r)&&(n[r]=e.get(r))}),n}function EH(e,t){return e.length===1&&typeof e[0]!="string"?s6(e[0],t):e.length===2?s6(e[1],t):{}}function s6(e,t){if(!e)return{};const n=e.headers;return n?n instanceof Headers?lT(n,t):Array.isArray(n)?{}:Yb(n,t):{}}function TH(e){try{return e.clone()}catch(t){yt&&bt.exception(t,"Failed to clone response body")}}function jH(e){return new Promise((t,n)=>{const r=jd(()=>n(new Error("Timeout while trying to read response body")),500);NH(e).then(i=>t(i),i=>n(i)).finally(()=>clearTimeout(r))})}async function NH(e){return await e.text()}async function IH(e,t,n){try{const r=PH(e,t,n),i=sT("resource.xhr",r);nT(n.replay,i)}catch(r){yt&&bt.exception(r,"Failed to capture xhr breadcrumb")}}function RH(e,t){const{xhr:n,input:r}=t;if(!n)return;const i=_1(r),s=n.getResponseHeader("content-length")?rT(n.getResponseHeader("content-length")):DH(n.response,n.responseType);i!==void 0&&(e.data.request_body_size=i),s!==void 0&&(e.data.response_body_size=s)}function PH(e,t,n){const r=Date.now(),{startTimestamp:i=r,endTimestamp:s=r,input:o,xhr:a}=t,{url:l,method:u,status_code:f=0,request_body_size:p,response_body_size:g}=e.data;if(!l)return null;if(!a||!P0(l,n.networkDetailAllowUrls)||P0(l,n.networkDetailDenyUrls)){const j=Uh(p),A=Uh(g);return{startTimestamp:i,endTimestamp:s,url:l,method:u,statusCode:f,request:j,response:A}}const y=a[xc],b=y?Yb(y.request_headers,n.networkRequestHeaders):{},_=Yb(OH(a),n.networkResponseHeaders),[C,k]=n.networkCaptureBodies?iT(o):[void 0],[R,O]=n.networkCaptureBodies?MH(a):[void 0],$=rl(b,p,C),z=rl(_,g,R);return{startTimestamp:i,endTimestamp:s,url:l,method:u,statusCode:f,request:k?R0($,k):$,response:O?R0(z,O):z}}function OH(e){const t=e.getAllResponseHeaders();return t?t.split(`\r
`).reduce((n,r)=>{const[i,s]=r.split(": ");return s&&(n[i.toLowerCase()]=s),n},{}):{}}function MH(e){const t=[];try{return[e.responseText]}catch(n){t.push(n)}try{return AH(e.response,e.responseType)}catch(n){t.push(n)}return yt&&bt.warn("Failed to get xhr response body",...t),[void 0]}function AH(e,t){try{if(typeof e=="string")return[e];if(e instanceof Document)return[e.body.outerHTML];if(t==="json"&&e&&typeof e=="object")return[JSON.stringify(e)];if(!e)return[void 0]}catch(n){return yt&&bt.exception(n,"Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return yt&&bt.info("Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}function DH(e,t){try{const n=t==="json"&&e&&typeof e=="object"?JSON.stringify(e):e;return _1(n)}catch{return}}function LH(e){const t=Xt();try{const{networkDetailAllowUrls:n,networkDetailDenyUrls:r,networkCaptureBodies:i,networkRequestHeaders:s,networkResponseHeaders:o}=e.getOptions(),a={replay:e,networkDetailAllowUrls:n,networkDetailDenyUrls:r,networkCaptureBodies:i,networkRequestHeaders:s,networkResponseHeaders:o};t&&t.on("beforeAddBreadcrumb",(l,u)=>FH(a,l,u))}catch{}}function FH(e,t,n){if(t.data)try{BH(t)&&$H(n)&&(RH(t,n),IH(t,n,e)),zH(t)&&UH(n)&&(bH(t,n),xH(t,n,e))}catch(r){yt&&bt.exception(r,"Error when enriching network breadcrumb")}}function BH(e){return e.category==="xhr"}function zH(e){return e.category==="fetch"}function $H(e){return e&&e.xhr}function UH(e){return e&&e.response}function HH(e){const t=Xt();g9(vU(e)),g1(pH(e)),sH(e),LH(e);const n=fH(e);VD(n),t&&(t.on("beforeSendEvent",rH(e)),t.on("afterSendEvent",eH(e)),t.on("createDsc",r=>{const i=e.getSessionId();i&&e.isEnabled()&&e.recordingMode==="session"&&e.checkAndHandleExpiredSession()&&(r.replay_id=i)}),t.on("spanStart",r=>{e.lastActiveSpan=r}),t.on("spanEnd",r=>{e.lastActiveSpan=r}),t.on("beforeSendFeedback",(r,i)=>{const s=e.getSessionId();i&&i.includeReplay&&e.isEnabled()&&s&&r.contexts&&r.contexts.feedback&&(r.contexts.feedback.replay_id=s)}))}async function WH(e){try{return Promise.all(w1(e,[qH(Nn.performance.memory)]))}catch{return[]}}function qH(e){const{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:r}=e,i=Date.now()/1e3;return{type:"memory",name:"memory",start:i,end:i,data:{memory:{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:r}}}}function VH(e,t,n){let r,i,s;const o=n&&n.maxWait?Math.max(n.maxWait,t):0;function a(){return l(),r=e(),r}function l(){i!==void 0&&clearTimeout(i),s!==void 0&&clearTimeout(s),i=s=void 0}function u(){return i!==void 0||s!==void 0?a():r}function f(){return i&&clearTimeout(i),i=jd(a,t),o&&s===void 0&&(s=jd(a,o)),r}return f.cancel=l,f.flush=u,f}const nc=en.navigator;function QH(){return/iPhone|iPad|iPod/i.test(nc&&nc.userAgent||"")||/Macintosh/i.test(nc&&nc.userAgent||"")&&nc&&nc.maxTouchPoints&&nc.maxTouchPoints>1?{sampling:{mousemove:!1}}:{}}function KH(e){let t=!1;return(n,r)=>{if(!e.checkAndHandleExpiredSession()){yt&&bt.warn("Received replay event after session expired.");return}const i=r||!t;t=!0,e.clickDetector&&hU(e.clickDetector,n),e.addUpdate(()=>{if(e.recordingMode==="buffer"&&i&&e.setInitialState(),!Ww(e,n,i))return!0;if(!i)return!1;const s=e.session;if(YH(e,i),e.recordingMode==="buffer"&&s&&e.eventBuffer){const o=e.eventBuffer.getEarliestTimestamp();o&&(yt&&bt.info(`Updating session start time to earliest event in buffer to ${new Date(o)}`),s.started=o,e.getOptions().stickySession&&Hw(s))}return s&&s.previousSessionId||e.recordingMode==="session"&&e.flush(),!0})}}function GH(e){const t=e.getOptions();return{type:Ut.Custom,timestamp:Date.now(),data:{tag:"options",payload:{shouldRecordCanvas:e.isRecordingCanvas(),sessionSampleRate:t.sessionSampleRate,errorSampleRate:t.errorSampleRate,useCompressionOption:t.useCompression,blockAllMedia:t.blockAllMedia,maskAllText:t.maskAllText,maskAllInputs:t.maskAllInputs,useCompression:e.eventBuffer?e.eventBuffer.type==="worker":!1,networkDetailHasUrls:t.networkDetailAllowUrls.length>0,networkCaptureBodies:t.networkCaptureBodies,networkRequestHasHeaders:t.networkRequestHeaders.length>0,networkResponseHasHeaders:t.networkResponseHeaders.length>0}}}}function YH(e,t){!t||!e.session||e.session.segmentId!==0||Ww(e,GH(e),!1)}function XH(e,t,n,r){return Vc(I8(e,Sw(e),r,n),[[{type:"replay_event"},e],[{type:"replay_recording",length:typeof t=="string"?new TextEncoder().encode(t).length:t.length},t]])}function JH({recordingData:e,headers:t}){let n;const r=`${JSON.stringify(t)}
`;if(typeof e=="string")n=`${r}${e}`;else{const s=new TextEncoder().encode(r);n=new Uint8Array(s.length+e.length),n.set(s),n.set(e,s.length)}return n}async function ZH({client:e,scope:t,replayId:n,event:r}){const i=typeof e._integrations=="object"&&e._integrations!==null&&!Array.isArray(e._integrations)?Object.keys(e._integrations):void 0,s={event_id:n,integrations:i};e.emit("preprocessEvent",r,s);const o=await A8(e.getOptions(),r,s,t,e,Zs());if(!o)return null;o.platform=o.platform||"javascript";const a=e.getSdkMetadata(),{name:l,version:u}=a&&a.sdk||{};return o.sdk={...o.sdk,name:l||"sentry.javascript.unknown",version:u||"0.0.0"},o}async function eW({recordingData:e,replayId:t,segmentId:n,eventContext:r,timestamp:i,session:s}){const o=JH({recordingData:e,headers:{segment_id:n}}),{urls:a,errorIds:l,traceIds:u,initialTimestamp:f}=r,p=Xt(),g=Pn(),y=p&&p.getTransport(),b=p&&p.getDsn();if(!p||!y||!b||!s.sampled)return la({});const _={type:Pz,replay_start_timestamp:f/1e3,timestamp:i/1e3,error_ids:l,trace_ids:u,urls:a,replay_id:t,segment_id:n,replay_type:s.sampled},C=await ZH({scope:g,client:p,replayId:t,event:_});if(!C)return p.recordDroppedEvent("event_processor","replay",_),yt&&bt.info("An event processor returned `null`, will not send event."),la({});delete C.sdkProcessingMetadata;const k=XH(C,o,b,p.getOptions().tunnel);let R;try{R=await y.send(k)}catch($){const z=new Error(Ow);try{z.cause=$}catch{}throw z}if(typeof R.statusCode=="number"&&(R.statusCode<200||R.statusCode>=300))throw new cT(R.statusCode);const O=W8({},R);if(H8(O,"replay"))throw new Vw(O);return R}class cT extends Error{constructor(t){super(`Transport returned status code ${t}`)}}class Vw extends Error{constructor(t){super("Rate limit hit"),this.rateLimits=t}}async function uT(e,t={count:0,interval:Fz}){const{recordingData:n,onError:r}=e;if(n.length)try{return await eW(e),!0}catch(i){if(i instanceof cT||i instanceof Vw)throw i;if(L8("Replays",{_retryCount:t.count}),r&&r(i),t.count>=Bz){const s=new Error(`${Ow} - max retries exceeded`);try{s.cause=i}catch{}throw s}return t.interval*=++t.count,new Promise((s,o)=>{jd(async()=>{try{await uT(e,t),s(!0)}catch(a){o(a)}},t.interval)})}}const dT="__THROTTLED",tW="__SKIPPED";function nW(e,t,n){const r=new Map,i=a=>{const l=a-n;r.forEach((u,f)=>{f<l&&r.delete(f)})},s=()=>[...r.values()].reduce((a,l)=>a+l,0);let o=!1;return(...a)=>{const l=Math.floor(Date.now()/1e3);if(i(l),s()>=t){const f=o;return o=!0,f?tW:dT}o=!1;const u=r.get(l)||0;return r.set(l,u+1),e(...a)}}class Ka{constructor({options:t,recordingOptions:n}){Ka.prototype.__init.call(this),Ka.prototype.__init2.call(this),Ka.prototype.__init3.call(this),Ka.prototype.__init4.call(this),Ka.prototype.__init5.call(this),Ka.prototype.__init6.call(this),this.eventBuffer=null,this.performanceEntries=[],this.replayPerformanceEntries=[],this.recordingMode="session",this.timeouts={sessionIdlePause:Oz,sessionIdleExpire:Mz},this._lastActivity=Date.now(),this._isEnabled=!1,this._isPaused=!1,this._requiresManualStart=!1,this._hasInitializedCoreListeners=!1,this._context={errorIds:new Set,traceIds:new Set,urls:[],initialTimestamp:Date.now(),initialUrl:""},this._recordingOptions=n,this._options=t,this._debouncedFlush=VH(()=>this._flush(),this._options.flushMinDelay,{maxWait:this._options.flushMaxDelay}),this._throttledAddEvent=nW((o,a)=>XU(this,o,a),300,5);const{slowClickTimeout:r,slowClickIgnoreSelectors:i}=this.getOptions(),s=r?{threshold:Math.min(zz,r),timeout:r,scrollTimeout:$z,ignoreSelector:i?i.join(","):""}:void 0;if(s&&(this.clickDetector=new cU(this,s)),yt){const o=t._experiments;bt.setConfig({captureExceptions:!!o.captureExceptions,traceInternals:!!o.traceInternals})}}getContext(){return this._context}isEnabled(){return this._isEnabled}isPaused(){return this._isPaused}isRecordingCanvas(){return!!this._canvas}getOptions(){return this._options}handleException(t){yt&&bt.exception(t),this._options.onError&&this._options.onError(t)}initializeSampling(t){const{errorSampleRate:n,sessionSampleRate:r}=this._options,i=n<=0&&r<=0;if(this._requiresManualStart=i,!i){if(this._initializeSessionForSampling(t),!this.session){yt&&bt.exception(new Error("Unable to initialize and create session"));return}this.session.sampled!==!1&&(this.recordingMode=this.session.sampled==="buffer"&&this.session.segmentId===0?"buffer":"session",yt&&bt.infoTick(`Starting replay in ${this.recordingMode} mode`),this._initializeRecording())}}start(){if(this._isEnabled&&this.recordingMode==="session"){yt&&bt.info("Recording is already in progress");return}if(this._isEnabled&&this.recordingMode==="buffer"){yt&&bt.info("Buffering is in progress, call `flush()` to save the replay");return}yt&&bt.infoTick("Starting replay in session mode"),this._updateUserActivity();const t=tx({maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire},{stickySession:this._options.stickySession,sessionSampleRate:1,allowBuffering:!1});this.session=t,this._initializeRecording()}startBuffering(){if(this._isEnabled){yt&&bt.info("Buffering is in progress, call `flush()` to save the replay");return}yt&&bt.infoTick("Starting replay in buffer mode");const t=tx({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration},{stickySession:this._options.stickySession,sessionSampleRate:0,allowBuffering:!0});this.session=t,this.recordingMode="buffer",this._initializeRecording()}startRecording(){try{const t=this._canvas;this._stopRecording=ia({...this._recordingOptions,...this.recordingMode==="buffer"?{checkoutEveryNms:Lz}:this._options._experiments.continuousCheckout&&{checkoutEveryNms:Math.max(36e4,this._options._experiments.continuousCheckout)},emit:KH(this),...QH(),onMutation:this._onMutationHandler,...t?{recordCanvas:t.recordCanvas,getCanvasManager:t.getCanvasManager,sampling:t.sampling,dataURLOptions:t.dataURLOptions}:{}})}catch(t){this.handleException(t)}}stopRecording(){try{return this._stopRecording&&(this._stopRecording(),this._stopRecording=void 0),!0}catch(t){return this.handleException(t),!1}}async stop({forceFlush:t=!1,reason:n}={}){if(this._isEnabled){this._isEnabled=!1;try{yt&&bt.info(`Stopping Replay${n?` triggered by ${n}`:""}`),tT(),this._removeListeners(),this.stopRecording(),this._debouncedFlush.cancel(),t&&await this._flush({force:!0}),this.eventBuffer&&this.eventBuffer.destroy(),this.eventBuffer=null,VU(this)}catch(r){this.handleException(r)}}}pause(){this._isPaused||(this._isPaused=!0,this.stopRecording(),yt&&bt.info("Pausing replay"))}resume(){!this._isPaused||!this._checkSession()||(this._isPaused=!1,this.startRecording(),yt&&bt.info("Resuming replay"))}async sendBufferedReplayOrFlush({continueRecording:t=!0}={}){if(this.recordingMode==="session")return this.flushImmediate();const n=Date.now();yt&&bt.info("Converting buffer to session"),await this.flushImmediate();const r=this.stopRecording();!t||!r||this.recordingMode!=="session"&&(this.recordingMode="session",this.session&&(this._updateUserActivity(n),this._updateSessionActivity(n),this._maybeSaveSession()),this.startRecording())}addUpdate(t){const n=t();this.recordingMode!=="buffer"&&n!==!0&&this._debouncedFlush()}triggerUserActivity(){if(this._updateUserActivity(),!this._stopRecording){if(!this._checkSession())return;this.resume();return}this.checkAndHandleExpiredSession(),this._updateSessionActivity()}updateUserActivity(){this._updateUserActivity(),this._updateSessionActivity()}conditionalFlush(){return this.recordingMode==="buffer"?Promise.resolve():this.flushImmediate()}flush(){return this._debouncedFlush()}flushImmediate(){return this._debouncedFlush(),this._debouncedFlush.flush()}cancelFlush(){this._debouncedFlush.cancel()}getSessionId(){return this.session&&this.session.id}checkAndHandleExpiredSession(){if(this._lastActivity&&Kb(this._lastActivity,this.timeouts.sessionIdlePause)&&this.session&&this.session.sampled==="session"){this.pause();return}return!!this._checkSession()}setInitialState(){const t=`${Nn.location.pathname}${Nn.location.hash}${Nn.location.search}`,n=`${Nn.location.origin}${t}`;this.performanceEntries=[],this.replayPerformanceEntries=[],this._clearContext(),this._context.initialUrl=n,this._context.initialTimestamp=Date.now(),this._context.urls.push(n)}throttledAddEvent(t,n){const r=this._throttledAddEvent(t,n);if(r===dT){const i=mo({category:"replay.throttled"});this.addUpdate(()=>!Ww(this,{type:nU,timestamp:i.timestamp||0,data:{tag:"breadcrumb",payload:i,metric:!0}}))}return r}getCurrentRoute(){const t=this.lastActiveSpan||Pr(),n=t&&Dr(t),i=(n&&fn(n).data||{})[po];if(!(!n||!i||!["route","custom"].includes(i)))return fn(n).description}_initializeRecording(){this.setInitialState(),this._updateSessionActivity(),this.eventBuffer=HU({useCompression:this._options.useCompression,workerUrl:this._options.workerUrl}),this._removeListeners(),this._addListeners(),this._isEnabled=!0,this._isPaused=!1,this.startRecording()}_initializeSessionForSampling(t){const n=this._options.errorSampleRate>0,r=tx({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,previousSessionId:t},{stickySession:this._options.stickySession,sessionSampleRate:this._options.sessionSampleRate,allowBuffering:n});this.session=r}_checkSession(){if(!this.session)return!1;const t=this.session;return X9(t,{sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration})?(this._refreshSession(t),!1):!0}async _refreshSession(t){this._isEnabled&&(await this.stop({reason:"refresh session"}),this.initializeSampling(t.id))}_addListeners(){try{Nn.document.addEventListener("visibilitychange",this._handleVisibilityChange),Nn.addEventListener("blur",this._handleWindowBlur),Nn.addEventListener("focus",this._handleWindowFocus),Nn.addEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.addListeners(),this._hasInitializedCoreListeners||(HH(this),this._hasInitializedCoreListeners=!0)}catch(t){this.handleException(t)}this._performanceCleanupCallback=DU(this)}_removeListeners(){try{Nn.document.removeEventListener("visibilitychange",this._handleVisibilityChange),Nn.removeEventListener("blur",this._handleWindowBlur),Nn.removeEventListener("focus",this._handleWindowFocus),Nn.removeEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.removeListeners(),this._performanceCleanupCallback&&this._performanceCleanupCallback()}catch(t){this.handleException(t)}}__init(){this._handleVisibilityChange=()=>{Nn.document.visibilityState==="visible"?this._doChangeToForegroundTasks():this._doChangeToBackgroundTasks()}}__init2(){this._handleWindowBlur=()=>{const t=mo({category:"ui.blur"});this._doChangeToBackgroundTasks(t)}}__init3(){this._handleWindowFocus=()=>{const t=mo({category:"ui.focus"});this._doChangeToForegroundTasks(t)}}__init4(){this._handleKeyboardEvent=t=>{_U(this,t)}}_doChangeToBackgroundTasks(t){!this.session||Y9(this.session,{maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire})||(t&&this._createCustomBreadcrumb(t),this.conditionalFlush())}_doChangeToForegroundTasks(t){if(!this.session)return;if(!this.checkAndHandleExpiredSession()){yt&&bt.info("Document has become active, but session has expired");return}t&&this._createCustomBreadcrumb(t)}_updateUserActivity(t=Date.now()){this._lastActivity=t}_updateSessionActivity(t=Date.now()){this.session&&(this.session.lastActivity=t,this._maybeSaveSession())}_createCustomBreadcrumb(t){this.addUpdate(()=>{this.throttledAddEvent({type:Ut.Custom,timestamp:t.timestamp||0,data:{tag:"breadcrumb",payload:t}})})}_addPerformanceEntries(){let t=EU(this.performanceEntries).concat(this.replayPerformanceEntries);if(this.performanceEntries=[],this.replayPerformanceEntries=[],this._requiresManualStart){const n=this._context.initialTimestamp/1e3;t=t.filter(r=>r.start>=n)}return Promise.all(w1(this,t))}_clearContext(){this._context.errorIds.clear(),this._context.traceIds.clear(),this._context.urls=[]}_updateInitialTimestampFromEventBuffer(){const{session:t,eventBuffer:n}=this;if(!t||!n||this._requiresManualStart||t.segmentId)return;const r=n.getEarliestTimestamp();r&&r<this._context.initialTimestamp&&(this._context.initialTimestamp=r)}_popEventContext(){const t={initialTimestamp:this._context.initialTimestamp,initialUrl:this._context.initialUrl,errorIds:Array.from(this._context.errorIds),traceIds:Array.from(this._context.traceIds),urls:this._context.urls};return this._clearContext(),t}async _runFlush(){const t=this.getSessionId();if(!this.session||!this.eventBuffer||!t){yt&&bt.error("No session or eventBuffer found to flush.");return}if(await this._addPerformanceEntries(),!(!this.eventBuffer||!this.eventBuffer.hasEvents)&&(await WH(this),!!this.eventBuffer&&t===this.getSessionId()))try{this._updateInitialTimestampFromEventBuffer();const n=Date.now();if(n-this._context.initialTimestamp>this._options.maxReplayDuration+3e4)throw new Error("Session is too long, not sending replay");const r=this._popEventContext(),i=this.session.segmentId++;this._maybeSaveSession();const s=await this.eventBuffer.finish();await uT({replayId:t,recordingData:s,segmentId:i,eventContext:r,session:this.session,timestamp:n,onError:o=>this.handleException(o)})}catch(n){this.handleException(n),this.stop({reason:"sendReplay"});const r=Xt();if(r){const i=n instanceof Vw?"ratelimit_backoff":"send_error";r.recordDroppedEvent(i,"replay")}}}__init5(){this._flush=async({force:t=!1}={})=>{if(!this._isEnabled&&!t)return;if(!this.checkAndHandleExpiredSession()){yt&&bt.error("Attempting to finish replay event after session expired.");return}if(!this.session)return;const n=this.session.started,i=Date.now()-n;this._debouncedFlush.cancel();const s=i<this._options.minReplayDuration,o=i>this._options.maxReplayDuration+5e3;if(s||o){yt&&bt.info(`Session duration (${Math.floor(i/1e3)}s) is too ${s?"short":"long"}, not sending replay.`),s&&this._debouncedFlush();return}const a=this.eventBuffer;a&&this.session.segmentId===0&&!a.hasCheckout&&yt&&bt.info("Flushing initial segment without checkout.");const l=!!this._flushLock;this._flushLock||(this._flushLock=this._runFlush());try{await this._flushLock}catch(u){this.handleException(u)}finally{this._flushLock=void 0,l&&this._debouncedFlush()}}}_maybeSaveSession(){this.session&&this._options.stickySession&&Hw(this.session)}__init6(){this._onMutationHandler=t=>{const n=t.length,r=this._options.mutationLimit,i=this._options.mutationBreadcrumbLimit,s=r&&n>r;if(n>i||s){const o=mo({category:"replay.mutations",data:{count:n,limit:s}});this._createCustomBreadcrumb(o)}return s?(this.stop({reason:"mutationLimit",forceFlush:this.recordingMode==="session"}),!1):!0}}}function Wf(e,t){return[...e,...t].join(",")}function rW({mask:e,unmask:t,block:n,unblock:r,ignore:i}){const s=["base","iframe[srcdoc]:not([src])"],o=Wf(e,[".sentry-mask","[data-sentry-mask]"]),a=Wf(t,[]);return{maskTextSelector:o,unmaskTextSelector:a,blockSelector:Wf(n,[".sentry-block","[data-sentry-block]",...s]),unblockSelector:Wf(r,[]),ignoreSelector:Wf(i,[".sentry-ignore","[data-sentry-ignore]",'input[type="file"]'])}}function iW({el:e,key:t,maskAttributes:n,maskAllText:r,privacyOptions:i,value:s}){return!r||i.unmaskTextSelector&&e.matches(i.unmaskTextSelector)?s:n.includes(t)||t==="value"&&e.tagName==="INPUT"&&["submit","button"].includes(e.getAttribute("type")||"")?s.replace(/[\S]/g,"*"):s}const o6='img,image,svg,video,object,picture,embed,map,audio,link[rel="icon"],link[rel="apple-touch-icon"]',sW=["content-length","content-type","accept"];let a6=!1;const oW=e=>new S1(e);class S1{static __initStatic(){this.id="Replay"}constructor({flushMinDelay:t=Az,flushMaxDelay:n=Dz,minReplayDuration:r=Uz,maxReplayDuration:i=B4,stickySession:s=!0,useCompression:o=!0,workerUrl:a,_experiments:l={},maskAllText:u=!0,maskAllInputs:f=!0,blockAllMedia:p=!0,mutationBreadcrumbLimit:g=750,mutationLimit:y=1e4,slowClickTimeout:b=7e3,slowClickIgnoreSelectors:_=[],networkDetailAllowUrls:C=[],networkDetailDenyUrls:k=[],networkCaptureBodies:R=!0,networkRequestHeaders:O=[],networkResponseHeaders:$=[],mask:z=[],maskAttributes:j=["title","placeholder"],unmask:A=[],block:B=[],unblock:U=[],ignore:D=[],maskFn:Z,beforeAddRecordingEvent:X,beforeErrorSampling:re,onError:V}={}){this.name=S1.id;const q=rW({mask:z,unmask:A,block:B,unblock:U,ignore:D});if(this._recordingOptions={maskAllInputs:f,maskAllText:u,maskInputOptions:{password:!0},maskTextFn:Z,maskInputFn:Z,maskAttributeFn:(Q,ne,ee)=>iW({maskAttributes:j,maskAllText:u,privacyOptions:q,key:Q,value:ne,el:ee}),...q,slimDOMOptions:"all",inlineStylesheet:!0,inlineImages:!1,collectFonts:!0,errorHandler:Q=>{try{Q.__rrweb__=!0}catch{}}},this._initialOptions={flushMinDelay:t,flushMaxDelay:n,minReplayDuration:Math.min(r,Hz),maxReplayDuration:Math.min(i,B4),stickySession:s,useCompression:o,workerUrl:a,blockAllMedia:p,maskAllInputs:f,maskAllText:u,mutationBreadcrumbLimit:g,mutationLimit:y,slowClickTimeout:b,slowClickIgnoreSelectors:_,networkDetailAllowUrls:C,networkDetailDenyUrls:k,networkCaptureBodies:R,networkRequestHeaders:l6(O),networkResponseHeaders:l6($),beforeAddRecordingEvent:X,beforeErrorSampling:re,onError:V,_experiments:l},this._initialOptions.blockAllMedia&&(this._recordingOptions.blockSelector=this._recordingOptions.blockSelector?`${this._recordingOptions.blockSelector},${o6}`:o6),this._isInitialized&&N4())throw new Error("Multiple Sentry Session Replay instances are not supported");this._isInitialized=!0}get _isInitialized(){return a6}set _isInitialized(t){a6=t}afterAllSetup(t){!N4()||this._replay||(this._setup(t),this._initialize(t))}start(){this._replay&&this._replay.start()}startBuffering(){this._replay&&this._replay.startBuffering()}stop(){return this._replay?this._replay.stop({forceFlush:this._replay.recordingMode==="session"}):Promise.resolve()}flush(t){return this._replay?this._replay.isEnabled()?this._replay.sendBufferedReplayOrFlush(t):(this._replay.start(),Promise.resolve()):Promise.resolve()}getReplayId(){if(!(!this._replay||!this._replay.isEnabled()))return this._replay.getSessionId()}getRecordingMode(){if(!(!this._replay||!this._replay.isEnabled()))return this._replay.recordingMode}_initialize(t){this._replay&&(this._maybeLoadFromReplayCanvasIntegration(t),this._replay.initializeSampling())}_setup(t){const n=aW(this._initialOptions,t);this._replay=new Ka({options:n,recordingOptions:this._recordingOptions})}_maybeLoadFromReplayCanvasIntegration(t){try{const n=t.getIntegrationByName("ReplayCanvas");if(!n)return;this._replay._canvas=n.getOptions()}catch{}}}S1.__initStatic();function aW(e,t){const n=t.getOptions(),r={sessionSampleRate:0,errorSampleRate:0,...yr(e)},i=b0(n.replaysSessionSampleRate),s=b0(n.replaysOnErrorSampleRate);return i==null&&s==null&&bl(()=>{console.warn("Replay is disabled because neither `replaysSessionSampleRate` nor `replaysOnErrorSampleRate` are set.")}),i!=null&&(r.sessionSampleRate=i),s!=null&&(r.errorSampleRate=s),r}function l6(e){return[...sW,...e.map(t=>t.toLowerCase())]}const c6=new WeakMap,nx=new Map,i0={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0,trackFetchStreamPerformance:!1};function lW(e,t){const{traceFetch:n,traceXHR:r,trackFetchStreamPerformance:i,shouldCreateSpanForRequest:s,enableHTTPTimings:o,tracePropagationTargets:a}={traceFetch:i0.traceFetch,traceXHR:i0.traceXHR,trackFetchStreamPerformance:i0.trackFetchStreamPerformance,...t},l=typeof s=="function"?s:p=>!0,u=p=>dW(p,a),f={};n&&(e.addEventProcessor(p=>(p.type==="transaction"&&p.spans&&p.spans.forEach(g=>{if(g.op==="http.client"){const y=nx.get(g.span_id);y&&(g.timestamp=y/1e3,nx.delete(g.span_id))}}),p)),i&&JL(p=>{if(p.response){const g=c6.get(p.response);g&&p.endTimestamp&&nx.set(g,p.endTimestamp)}}),J8(p=>{const g=qL(p,l,u,f);if(p.response&&p.fetchData.__span&&c6.set(p.response,p.fetchData.__span),g){const y=fT(p.fetchData.url),b=y?Ec(y).host:void 0;g.setAttributes({"http.url":y,"server.address":b})}o&&g&&u6(g)})),r&&v9(p=>{const g=fW(p,l,u,f);o&&g&&u6(g)})}function cW(e){return e.entryType==="resource"&&"initiatorType"in e&&typeof e.nextHopProtocol=="string"&&(e.initiatorType==="fetch"||e.initiatorType==="xmlhttprequest")}function u6(e){const{url:t}=fn(e).data||{};if(!t||typeof t!="string")return;const n=Td("resource",({entries:r})=>{r.forEach(i=>{cW(i)&&i.name.endsWith(t)&&(uW(i).forEach(o=>e.setAttribute(...o)),setTimeout(n))})})}function co(e=0){return((pi||performance.timeOrigin)+e)/1e3}function uW(e){const{name:t,version:n}=m9(e.nextHopProtocol),r=[];return r.push(["network.protocol.version",n],["network.protocol.name",t]),pi?[...r,["http.request.redirect_start",co(e.redirectStart)],["http.request.fetch_start",co(e.fetchStart)],["http.request.domain_lookup_start",co(e.domainLookupStart)],["http.request.domain_lookup_end",co(e.domainLookupEnd)],["http.request.connect_start",co(e.connectStart)],["http.request.secure_connection_start",co(e.secureConnectionStart)],["http.request.connection_end",co(e.connectEnd)],["http.request.request_start",co(e.requestStart)],["http.request.response_start",co(e.responseStart)],["http.request.response_end",co(e.responseEnd)]]:r}function dW(e,t){const n=Nt.location&&Nt.location.href;if(n){let r,i;try{r=new URL(e,n),i=new URL(n).origin}catch{return!1}const s=r.origin===i;return t?nl(r.toString(),t)||s&&nl(r.pathname,t):s}else{const r=!!e.match(/^\/(?!\/)/);return t?nl(e,t):r}}function fW(e,t,n,r){const i=e.xhr,s=i&&i[xc];if(!i||i.__sentry_own_request__||!s)return;const o=ul()&&t(s.url);if(e.endTimestamp&&o){const p=i.__sentry_xhr_span_id__;if(!p)return;const g=r[p];g&&s.status_code!==void 0&&(p8(g,s.status_code),g.end(),delete r[p]);return}const a=fT(s.url),l=a?Ec(a).host:void 0,u=!!Pr(),f=o&&u?dp({name:`${s.method} ${s.url}`,attributes:{type:"xhr","http.method":s.method,"http.url":a,url:s.url,"server.address":l,[Rr]:"auto.http.browser",[Mc]:"http.client"}}):new Ud;return i.__sentry_xhr_span_id__=f.spanContext().spanId,r[i.__sentry_xhr_span_id__]=f,n(s.url)&&hW(i,ul()&&u?f:void 0),f}function hW(e,t){const{"sentry-trace":n,baggage:r}=V8({span:t});n&&pW(e,n,r)}function pW(e,t,n){try{e.setRequestHeader("sentry-trace",t),n&&e.setRequestHeader("baggage",n)}catch{}}function fT(e){try{return new URL(e,Nt.location.origin).href}catch{return}}function mW(){Nt&&Nt.document?Nt.document.addEventListener("visibilitychange",()=>{const e=Pr();if(!e)return;const t=Dr(e);if(Nt.document.hidden&&t){const n="cancelled",{op:r,status:i}=fn(t);bo&&Ge.log(`[Tracing] Transaction: ${n} -> since tab moved to the background, op: ${r}`),i||t.setStatus({code:Tr,message:n}),t.setAttribute("sentry.cancellation_reason","document.hidden"),t.end()}}):bo&&Ge.warn("[Tracing] Could not set up background tab detection due to lack of global document")}const gW="BrowserTracing",yW={...Zg,instrumentNavigation:!0,instrumentPageLoad:!0,markBackgroundSpan:!0,enableLongTask:!0,enableLongAnimationFrame:!0,enableInp:!0,_experiments:{},...i0},vW=(e={})=>{qA();const{enableInp:t,enableLongTask:n,enableLongAnimationFrame:r,_experiments:{enableInteractions:i,enableStandaloneClsSpans:s},beforeStartSpan:o,idleTimeout:a,finalTimeout:l,childSpanTimeout:u,markBackgroundSpan:f,traceFetch:p,traceXHR:g,trackFetchStreamPerformance:y,shouldCreateSpanForRequest:b,enableHTTPTimings:_,instrumentPageLoad:C,instrumentNavigation:k}={...yW,...e},R=aB({recordClsStandaloneSpans:s||!1});t&&PB(),r&&en.PerformanceObserver&&PerformanceObserver.supportedEntryTypes&&PerformanceObserver.supportedEntryTypes.includes("long-animation-frame")?cB():n&&lB(),i&&uB();const O={name:void 0,source:void 0};function $(z,j){const A=j.op==="pageload",B=o?o(j):j,U=B.attributes||{};j.name!==B.name&&(U[po]="custom",B.attributes=U),O.name=B.name,O.source=U[po];const D=M8(B,{idleTimeout:a,finalTimeout:l,childSpanTimeout:u,disableAutoFinish:A,beforeSpanEnd:X=>{R(),mB(X,{recordClsOnPageloadSpan:!s})}});function Z(){["interactive","complete"].includes(Nt.document.readyState)&&z.emit("idleSpanEnableAutoFinish",D)}return A&&Nt.document&&(Nt.document.addEventListener("readystatechange",()=>{Z()}),Z()),D}return{name:gW,afterAllSetup(z){let j,A=Nt.location&&Nt.location.href;function B(){j&&!fn(j).timestamp&&(bo&&Ge.log(`[Tracing] Finishing current active span with op: ${fn(j).op}`),j.end())}z.on("startNavigationSpan",U=>{Xt()===z&&(B(),j=$(z,{op:"navigation",...U}))}),z.on("startPageLoadSpan",(U,D={})=>{if(Xt()!==z)return;B();const Z=D.sentryTrace||d6("sentry-trace"),X=D.baggage||d6("baggage"),re=FA(Z,X);Pn().setPropagationContext(re),j=$(z,{op:"pageload",...U})}),z.on("spanEnd",U=>{const D=fn(U).op;if(U!==Dr(U)||D!=="navigation"&&D!=="pageload")return;const Z=Pn(),X=Z.getPropagationContext();Z.setPropagationContext({...X,sampled:X.sampled!==void 0?X.sampled:Wc(U),dsc:X.dsc||qc(U)})}),Nt.location&&(C&&xW(z,{name:Nt.location.pathname,startTime:pi?pi/1e3:void 0,attributes:{[po]:"url",[Rr]:"auto.pageload.browser"}}),k&&g1(({to:U,from:D})=>{if(D===void 0&&A&&A.indexOf(U)!==-1){A=void 0;return}D!==U&&(A=void 0,bW(z,{name:Nt.location.pathname,attributes:{[po]:"url",[Rr]:"auto.navigation.browser"}}))})),f&&mW(),i&&wW(a,l,u,O),t&&MB(),lW(z,{traceFetch:p,traceXHR:g,trackFetchStreamPerformance:y,tracePropagationTargets:z.getOptions().tracePropagationTargets,shouldCreateSpanForRequest:b,enableHTTPTimings:_})}}};function xW(e,t,n){e.emit("startPageLoadSpan",t,n),Pn().setTransactionName(t.name);const r=Pr();return(r&&fn(r).op)==="pageload"?r:void 0}function bW(e,t){Zs().setPropagationContext({traceId:al()}),Pn().setPropagationContext({traceId:al()}),e.emit("startNavigationSpan",t),Pn().setTransactionName(t.name);const n=Pr();return(n&&fn(n).op)==="navigation"?n:void 0}function d6(e){const t=uA(`meta[name=${e}]`);return t?t.getAttribute("content"):void 0}function wW(e,t,n,r){let i;const s=()=>{const o="ui.action.click",a=Pr(),l=a&&Dr(a);if(l){const u=fn(l).op;if(["navigation","pageload"].includes(u)){bo&&Ge.warn(`[Tracing] Did not create ${o} span because a pageload or navigation span is in progress.`);return}}if(i&&(i.setAttribute(Cb,"interactionInterrupted"),i.end(),i=void 0),!r.name){bo&&Ge.warn(`[Tracing] Did not create ${o} transaction because _latestRouteName is missing.`);return}i=M8({name:r.name,op:o,attributes:{[po]:r.source||"url"}},{idleTimeout:e,finalTimeout:t,childSpanTimeout:n})};Nt.document&&addEventListener("click",s,{once:!1,capture:!0})}function _W(e){const t={...e};return q8(t,"react"),L8("react",{version:I.version}),Rz(t)}const SW={initialize(){_W({dsn:"https://e9f254e66aacba9bfb5a6901063e0009@o4508692782907392.ingest.us.sentry.io/4508782708326400",integrations:[vW(),oW()],tracesSampleRate:1,tracePropagationTargets:[/^https:\/\/www.allcll\.kr/,/^https:\/\/allcll\.kr/],replaysSessionSampleRate:.01,replaysOnErrorSampleRate:1})}};var rx={exports:{}},ix,f6;function CW(){if(f6)return ix;f6=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return ix=e,ix}var sx,h6;function kW(){if(h6)return sx;h6=1;var e=CW();function t(){}function n(){}return n.resetWarningCache=t,sx=function(){function r(o,a,l,u,f,p){if(p!==e){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}r.isRequired=r;function i(){return r}var s={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:t};return s.PropTypes=s,s},sx}var p6;function EW(){return p6||(p6=1,rx.exports=kW()()),rx.exports}var TW=EW();const Ft=Di(TW);var ox,m6;function jW(){if(m6)return ox;m6=1;function e(a){return a&&typeof a=="object"&&"default"in a?a.default:a}var t=i1(),n=e(t);function r(a,l,u){return l in a?Object.defineProperty(a,l,{value:u,enumerable:!0,configurable:!0,writable:!0}):a[l]=u,a}function i(a,l){a.prototype=Object.create(l.prototype),a.prototype.constructor=a,a.__proto__=l}var s=!!(typeof window<"u"&&window.document&&window.document.createElement);function o(a,l,u){if(typeof a!="function")throw new Error("Expected reducePropsToState to be a function.");if(typeof l!="function")throw new Error("Expected handleStateChangeOnClient to be a function.");if(typeof u<"u"&&typeof u!="function")throw new Error("Expected mapStateOnServer to either be undefined or a function.");function f(p){return p.displayName||p.name||"Component"}return function(g){if(typeof g!="function")throw new Error("Expected WrappedComponent to be a React component.");var y=[],b;function _(){b=a(y.map(function(k){return k.props})),C.canUseDOM?l(b):u&&(b=u(b))}var C=function(k){i(R,k);function R(){return k.apply(this,arguments)||this}R.peek=function(){return b},R.rewind=function(){if(R.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var z=b;return b=void 0,y=[],z};var O=R.prototype;return O.UNSAFE_componentWillMount=function(){y.push(this),_()},O.componentDidUpdate=function(){_()},O.componentWillUnmount=function(){var z=y.indexOf(this);y.splice(z,1),_()},O.render=function(){return n.createElement(g,this.props)},R}(t.PureComponent);return r(C,"displayName","SideEffect("+f(g)+")"),r(C,"canUseDOM",s),C}}return ox=o,ox}var NW=jW();const IW=Di(NW);var ax,g6;function RW(){if(g6)return ax;g6=1;var e=typeof Element<"u",t=typeof Map=="function",n=typeof Set=="function",r=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function i(s,o){if(s===o)return!0;if(s&&o&&typeof s=="object"&&typeof o=="object"){if(s.constructor!==o.constructor)return!1;var a,l,u;if(Array.isArray(s)){if(a=s.length,a!=o.length)return!1;for(l=a;l--!==0;)if(!i(s[l],o[l]))return!1;return!0}var f;if(t&&s instanceof Map&&o instanceof Map){if(s.size!==o.size)return!1;for(f=s.entries();!(l=f.next()).done;)if(!o.has(l.value[0]))return!1;for(f=s.entries();!(l=f.next()).done;)if(!i(l.value[1],o.get(l.value[0])))return!1;return!0}if(n&&s instanceof Set&&o instanceof Set){if(s.size!==o.size)return!1;for(f=s.entries();!(l=f.next()).done;)if(!o.has(l.value[0]))return!1;return!0}if(r&&ArrayBuffer.isView(s)&&ArrayBuffer.isView(o)){if(a=s.length,a!=o.length)return!1;for(l=a;l--!==0;)if(s[l]!==o[l])return!1;return!0}if(s.constructor===RegExp)return s.source===o.source&&s.flags===o.flags;if(s.valueOf!==Object.prototype.valueOf&&typeof s.valueOf=="function"&&typeof o.valueOf=="function")return s.valueOf()===o.valueOf();if(s.toString!==Object.prototype.toString&&typeof s.toString=="function"&&typeof o.toString=="function")return s.toString()===o.toString();if(u=Object.keys(s),a=u.length,a!==Object.keys(o).length)return!1;for(l=a;l--!==0;)if(!Object.prototype.hasOwnProperty.call(o,u[l]))return!1;if(e&&s instanceof Element)return!1;for(l=a;l--!==0;)if(!((u[l]==="_owner"||u[l]==="__v"||u[l]==="__o")&&s.$$typeof)&&!i(s[u[l]],o[u[l]]))return!1;return!0}return s!==s&&o!==o}return ax=function(o,a){try{return i(o,a)}catch(l){if((l.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw l}},ax}var PW=RW();const OW=Di(PW);/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var lx,y6;function MW(){if(y6)return lx;y6=1;var e=Object.getOwnPropertySymbols,t=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable;function r(s){if(s==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(s)}function i(){try{if(!Object.assign)return!1;var s=new String("abc");if(s[5]="de",Object.getOwnPropertyNames(s)[0]==="5")return!1;for(var o={},a=0;a<10;a++)o["_"+String.fromCharCode(a)]=a;var l=Object.getOwnPropertyNames(o).map(function(f){return o[f]});if(l.join("")!=="0123456789")return!1;var u={};return"abcdefghijklmnopqrst".split("").forEach(function(f){u[f]=f}),Object.keys(Object.assign({},u)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}return lx=i()?Object.assign:function(s,o){for(var a,l=r(s),u,f=1;f<arguments.length;f++){a=Object(arguments[f]);for(var p in a)t.call(a,p)&&(l[p]=a[p]);if(e){u=e(a);for(var g=0;g<u.length;g++)n.call(a,u[g])&&(l[u[g]]=a[u[g]])}}return l},lx}var AW=MW();const DW=Di(AW);var Tc={BODY:"bodyAttributes",HTML:"htmlAttributes",TITLE:"titleAttributes"},jt={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"};Object.keys(jt).map(function(e){return jt[e]});var zn={CHARSET:"charset",CSS_TEXT:"cssText",HREF:"href",HTTPEQUIV:"http-equiv",INNER_HTML:"innerHTML",ITEM_PROP:"itemprop",NAME:"name",PROPERTY:"property",REL:"rel",SRC:"src",TARGET:"target"},O0={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},Hh={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate"},LW=Object.keys(O0).reduce(function(e,t){return e[O0[t]]=t,e},{}),FW=[jt.NOSCRIPT,jt.SCRIPT,jt.STYLE],Qs="data-react-helmet",BW=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zW=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},$W=function(){function e(t,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Ti=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},UW=function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},v6=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n},HW=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e},Xb=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return n===!1?String(t):String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},WW=function(t){var n=xd(t,jt.TITLE),r=xd(t,Hh.TITLE_TEMPLATE);if(r&&n)return r.replace(/%s/g,function(){return Array.isArray(n)?n.join(""):n});var i=xd(t,Hh.DEFAULT_TITLE);return n||i||void 0},qW=function(t){return xd(t,Hh.ON_CHANGE_CLIENT_STATE)||function(){}},cx=function(t,n){return n.filter(function(r){return typeof r[t]<"u"}).map(function(r){return r[t]}).reduce(function(r,i){return Ti({},r,i)},{})},VW=function(t,n){return n.filter(function(r){return typeof r[jt.BASE]<"u"}).map(function(r){return r[jt.BASE]}).reverse().reduce(function(r,i){if(!r.length)for(var s=Object.keys(i),o=0;o<s.length;o++){var a=s[o],l=a.toLowerCase();if(t.indexOf(l)!==-1&&i[l])return r.concat(i)}return r},[])},qf=function(t,n,r){var i={};return r.filter(function(s){return Array.isArray(s[t])?!0:(typeof s[t]<"u"&&YW("Helmet: "+t+' should be of type "Array". Instead found type "'+BW(s[t])+'"'),!1)}).map(function(s){return s[t]}).reverse().reduce(function(s,o){var a={};o.filter(function(g){for(var y=void 0,b=Object.keys(g),_=0;_<b.length;_++){var C=b[_],k=C.toLowerCase();n.indexOf(k)!==-1&&!(y===zn.REL&&g[y].toLowerCase()==="canonical")&&!(k===zn.REL&&g[k].toLowerCase()==="stylesheet")&&(y=k),n.indexOf(C)!==-1&&(C===zn.INNER_HTML||C===zn.CSS_TEXT||C===zn.ITEM_PROP)&&(y=C)}if(!y||!g[y])return!1;var R=g[y].toLowerCase();return i[y]||(i[y]={}),a[y]||(a[y]={}),i[y][R]?!1:(a[y][R]=!0,!0)}).reverse().forEach(function(g){return s.push(g)});for(var l=Object.keys(a),u=0;u<l.length;u++){var f=l[u],p=DW({},i[f],a[f]);i[f]=p}return s},[]).reverse()},xd=function(t,n){for(var r=t.length-1;r>=0;r--){var i=t[r];if(i.hasOwnProperty(n))return i[n]}return null},QW=function(t){return{baseTag:VW([zn.HREF,zn.TARGET],t),bodyAttributes:cx(Tc.BODY,t),defer:xd(t,Hh.DEFER),encode:xd(t,Hh.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:cx(Tc.HTML,t),linkTags:qf(jt.LINK,[zn.REL,zn.HREF],t),metaTags:qf(jt.META,[zn.NAME,zn.CHARSET,zn.HTTPEQUIV,zn.PROPERTY,zn.ITEM_PROP],t),noscriptTags:qf(jt.NOSCRIPT,[zn.INNER_HTML],t),onChangeClientState:qW(t),scriptTags:qf(jt.SCRIPT,[zn.SRC,zn.INNER_HTML],t),styleTags:qf(jt.STYLE,[zn.CSS_TEXT],t),title:WW(t),titleAttributes:cx(Tc.TITLE,t)}},Jb=function(){var e=Date.now();return function(t){var n=Date.now();n-e>16?(e=n,t(n)):setTimeout(function(){Jb(t)},0)}}(),x6=function(t){return clearTimeout(t)},KW=typeof window<"u"?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||Jb:global.requestAnimationFrame||Jb,GW=typeof window<"u"?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||x6:global.cancelAnimationFrame||x6,YW=function(t){return console&&typeof console.warn=="function"&&console.warn(t)},Vf=null,XW=function(t){Vf&&GW(Vf),t.defer?Vf=KW(function(){b6(t,function(){Vf=null})}):(b6(t),Vf=null)},b6=function(t,n){var r=t.baseTag,i=t.bodyAttributes,s=t.htmlAttributes,o=t.linkTags,a=t.metaTags,l=t.noscriptTags,u=t.onChangeClientState,f=t.scriptTags,p=t.styleTags,g=t.title,y=t.titleAttributes;Zb(jt.BODY,i),Zb(jt.HTML,s),JW(g,y);var b={baseTag:Lu(jt.BASE,r),linkTags:Lu(jt.LINK,o),metaTags:Lu(jt.META,a),noscriptTags:Lu(jt.NOSCRIPT,l),scriptTags:Lu(jt.SCRIPT,f),styleTags:Lu(jt.STYLE,p)},_={},C={};Object.keys(b).forEach(function(k){var R=b[k],O=R.newTags,$=R.oldTags;O.length&&(_[k]=O),$.length&&(C[k]=b[k].oldTags)}),n&&n(),u(t,_,C)},hT=function(t){return Array.isArray(t)?t.join(""):t},JW=function(t,n){typeof t<"u"&&document.title!==t&&(document.title=hT(t)),Zb(jt.TITLE,n)},Zb=function(t,n){var r=document.getElementsByTagName(t)[0];if(r){for(var i=r.getAttribute(Qs),s=i?i.split(","):[],o=[].concat(s),a=Object.keys(n),l=0;l<a.length;l++){var u=a[l],f=n[u]||"";r.getAttribute(u)!==f&&r.setAttribute(u,f),s.indexOf(u)===-1&&s.push(u);var p=o.indexOf(u);p!==-1&&o.splice(p,1)}for(var g=o.length-1;g>=0;g--)r.removeAttribute(o[g]);s.length===o.length?r.removeAttribute(Qs):r.getAttribute(Qs)!==a.join(",")&&r.setAttribute(Qs,a.join(","))}},Lu=function(t,n){var r=document.head||document.querySelector(jt.HEAD),i=r.querySelectorAll(t+"["+Qs+"]"),s=Array.prototype.slice.call(i),o=[],a=void 0;return n&&n.length&&n.forEach(function(l){var u=document.createElement(t);for(var f in l)if(l.hasOwnProperty(f))if(f===zn.INNER_HTML)u.innerHTML=l.innerHTML;else if(f===zn.CSS_TEXT)u.styleSheet?u.styleSheet.cssText=l.cssText:u.appendChild(document.createTextNode(l.cssText));else{var p=typeof l[f]>"u"?"":l[f];u.setAttribute(f,p)}u.setAttribute(Qs,"true"),s.some(function(g,y){return a=y,u.isEqualNode(g)})?s.splice(a,1):o.push(u)}),s.forEach(function(l){return l.parentNode.removeChild(l)}),o.forEach(function(l){return r.appendChild(l)}),{oldTags:s,newTags:o}},pT=function(t){return Object.keys(t).reduce(function(n,r){var i=typeof t[r]<"u"?r+'="'+t[r]+'"':""+r;return n?n+" "+i:i},"")},ZW=function(t,n,r,i){var s=pT(r),o=hT(n);return s?"<"+t+" "+Qs+'="true" '+s+">"+Xb(o,i)+"</"+t+">":"<"+t+" "+Qs+'="true">'+Xb(o,i)+"</"+t+">"},eq=function(t,n,r){return n.reduce(function(i,s){var o=Object.keys(s).filter(function(u){return!(u===zn.INNER_HTML||u===zn.CSS_TEXT)}).reduce(function(u,f){var p=typeof s[f]>"u"?f:f+'="'+Xb(s[f],r)+'"';return u?u+" "+p:p},""),a=s.innerHTML||s.cssText||"",l=FW.indexOf(t)===-1;return i+"<"+t+" "+Qs+'="true" '+o+(l?"/>":">"+a+"</"+t+">")},"")},mT=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(t).reduce(function(r,i){return r[O0[i]||i]=t[i],r},n)},tq=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(t).reduce(function(r,i){return r[LW[i]||i]=t[i],r},n)},nq=function(t,n,r){var i,s=(i={key:n},i[Qs]=!0,i),o=mT(r,s);return[wn.createElement(jt.TITLE,o,n)]},rq=function(t,n){return n.map(function(r,i){var s,o=(s={key:i},s[Qs]=!0,s);return Object.keys(r).forEach(function(a){var l=O0[a]||a;if(l===zn.INNER_HTML||l===zn.CSS_TEXT){var u=r.innerHTML||r.cssText;o.dangerouslySetInnerHTML={__html:u}}else o[l]=r[a]}),wn.createElement(t,o)})},Uo=function(t,n,r){switch(t){case jt.TITLE:return{toComponent:function(){return nq(t,n.title,n.titleAttributes)},toString:function(){return ZW(t,n.title,n.titleAttributes,r)}};case Tc.BODY:case Tc.HTML:return{toComponent:function(){return mT(n)},toString:function(){return pT(n)}};default:return{toComponent:function(){return rq(t,n)},toString:function(){return eq(t,n,r)}}}},gT=function(t){var n=t.baseTag,r=t.bodyAttributes,i=t.encode,s=t.htmlAttributes,o=t.linkTags,a=t.metaTags,l=t.noscriptTags,u=t.scriptTags,f=t.styleTags,p=t.title,g=p===void 0?"":p,y=t.titleAttributes;return{base:Uo(jt.BASE,n,i),bodyAttributes:Uo(Tc.BODY,r,i),htmlAttributes:Uo(Tc.HTML,s,i),link:Uo(jt.LINK,o,i),meta:Uo(jt.META,a,i),noscript:Uo(jt.NOSCRIPT,l,i),script:Uo(jt.SCRIPT,u,i),style:Uo(jt.STYLE,f,i),title:Uo(jt.TITLE,{title:g,titleAttributes:y},i)}},iq=function(t){var n,r;return r=n=function(i){UW(s,i);function s(){return zW(this,s),HW(this,i.apply(this,arguments))}return s.prototype.shouldComponentUpdate=function(a){return!OW(this.props,a)},s.prototype.mapNestedChildrenToProps=function(a,l){if(!l)return null;switch(a.type){case jt.SCRIPT:case jt.NOSCRIPT:return{innerHTML:l};case jt.STYLE:return{cssText:l}}throw new Error("<"+a.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},s.prototype.flattenArrayTypeChildren=function(a){var l,u=a.child,f=a.arrayTypeChildren,p=a.newChildProps,g=a.nestedChildren;return Ti({},f,(l={},l[u.type]=[].concat(f[u.type]||[],[Ti({},p,this.mapNestedChildrenToProps(u,g))]),l))},s.prototype.mapObjectTypeChildren=function(a){var l,u,f=a.child,p=a.newProps,g=a.newChildProps,y=a.nestedChildren;switch(f.type){case jt.TITLE:return Ti({},p,(l={},l[f.type]=y,l.titleAttributes=Ti({},g),l));case jt.BODY:return Ti({},p,{bodyAttributes:Ti({},g)});case jt.HTML:return Ti({},p,{htmlAttributes:Ti({},g)})}return Ti({},p,(u={},u[f.type]=Ti({},g),u))},s.prototype.mapArrayTypeChildrenToProps=function(a,l){var u=Ti({},l);return Object.keys(a).forEach(function(f){var p;u=Ti({},u,(p={},p[f]=a[f],p))}),u},s.prototype.warnOnInvalidChildren=function(a,l){return!0},s.prototype.mapChildrenToProps=function(a,l){var u=this,f={};return wn.Children.forEach(a,function(p){if(!(!p||!p.props)){var g=p.props,y=g.children,b=v6(g,["children"]),_=tq(b);switch(u.warnOnInvalidChildren(p,y),p.type){case jt.LINK:case jt.META:case jt.NOSCRIPT:case jt.SCRIPT:case jt.STYLE:f=u.flattenArrayTypeChildren({child:p,arrayTypeChildren:f,newChildProps:_,nestedChildren:y});break;default:l=u.mapObjectTypeChildren({child:p,newProps:l,newChildProps:_,nestedChildren:y});break}}}),l=this.mapArrayTypeChildrenToProps(f,l),l},s.prototype.render=function(){var a=this.props,l=a.children,u=v6(a,["children"]),f=Ti({},u);return l&&(f=this.mapChildrenToProps(l,f)),wn.createElement(t,f)},$W(s,null,[{key:"canUseDOM",set:function(a){t.canUseDOM=a}}]),s}(wn.Component),n.propTypes={base:Ft.object,bodyAttributes:Ft.object,children:Ft.oneOfType([Ft.arrayOf(Ft.node),Ft.node]),defaultTitle:Ft.string,defer:Ft.bool,encodeSpecialCharacters:Ft.bool,htmlAttributes:Ft.object,link:Ft.arrayOf(Ft.object),meta:Ft.arrayOf(Ft.object),noscript:Ft.arrayOf(Ft.object),onChangeClientState:Ft.func,script:Ft.arrayOf(Ft.object),style:Ft.arrayOf(Ft.object),title:Ft.string,titleAttributes:Ft.object,titleTemplate:Ft.string},n.defaultProps={defer:!0,encodeSpecialCharacters:!0},n.peek=t.peek,n.rewind=function(){var i=t.rewind();return i||(i=gT({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),i},r},sq=function(){return null},oq=IW(QW,XW,gT)(sq),xr=iq(oq);xr.renderStatic=xr.rewind;const yT=e=>I.createElement("svg",{width:240,height:240,viewBox:"0 0 240 240",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},I.createElement("path",{d:"M35.0767 27.9936C36.2709 9.99373 56.1517 -0.303892 71.5425 9.10587L213.791 96.0756C231.278 106.768 228.18 133.047 208.685 139.378L169.934 151.963L186.77 185.839C193.06 198.497 187.616 213.848 174.755 219.712L148.361 231.747C136.289 237.252 122.02 232.368 115.853 220.621L96.5356 183.827L61.2319 205.402C44.6261 215.55 23.4817 202.753 24.77 183.334L35.0767 27.9936Z",fill:"#047CFE"}),I.createElement("ellipse",{cx:81.7143,cy:99.4285,rx:9.71429,ry:13.7143,fill:"white"}),I.createElement("path",{d:"M144 99.4285C144 107.003 139.651 113.143 134.286 113.143C128.921 113.143 124.571 107.003 124.571 99.4285C124.571 91.8543 128.921 85.7142 134.286 85.7142C139.651 85.7142 144 91.8543 144 99.4285Z",fill:"white"}),I.createElement("path",{d:"M86.7687 125.246C88.6759 123.021 92.0636 122.863 94.1695 124.901L99.9237 130.47C104.528 134.926 111.74 135.226 116.699 131.169L123.261 125.8C125.281 124.147 128.239 124.354 130.009 126.272V126.272C131.991 128.419 131.682 131.81 129.344 133.563L122.999 138.322C122.524 138.678 122.024 138.999 121.502 139.281L118.258 141.039C112.227 144.305 104.944 144.254 98.9601 140.903L95.3516 138.883C94.6427 138.486 93.973 138.022 93.3515 137.499L87.3544 132.449C85.1919 130.628 84.9288 127.393 86.7687 125.246V125.246Z",fill:"white"})),aq=e=>I.createElement("svg",{id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",width:"100%",viewBox:"740 350 700 190",enableBackground:"new 0 0 1506 862",xmlSpace:"preserve",...e},I.createElement("path",{fill:"#017AFF",opacity:1,stroke:"none",d:" M766.615112,463.466736 C775.870483,435.054810 785.533081,407.176788 793.924072,378.921143 C799.456543,360.291321 821.375366,357.141083 832.881592,364.663513 C838.142395,368.102875 840.908264,372.891174 842.764648,378.570496 C853.528076,411.499817 864.314026,444.421814 875.109436,477.340668 C878.939270,489.019165 882.817444,500.681793 886.885071,512.991760 C873.401611,512.991760 860.604980,513.082825 847.814941,512.834106 C846.683838,512.812195 845.029419,510.751434 844.583618,509.333893 C842.385803,502.345581 840.389465,495.286346 838.588135,488.184601 C837.875916,485.376556 836.496521,484.498810 833.699890,484.534851 C823.536499,484.665802 813.369263,484.669006 803.205994,484.533264 C800.346008,484.495056 799.085388,485.557281 798.384705,488.289246 C796.564392,495.386353 794.554382,502.439484 792.396301,509.441223 C791.983948,510.779236 790.565674,512.800781 789.581299,512.818420 C776.821838,513.046875 764.056885,512.969788 750.549133,512.969788 C756.023682,496.088989 761.252869,479.964600 766.615112,463.466736 M816.931274,421.410614 C814.112549,431.575104 811.293823,441.739594 808.392944,452.200287 C815.599854,452.200287 821.902649,452.200287 828.658752,452.200287 C825.389221,440.483582 822.289490,429.375366 818.869080,417.118134 C817.911804,419.080017 817.519409,419.884216 816.931274,421.410614 z"}),I.createElement("path",{fill:"#017AFF",opacity:1,stroke:"none",d:" M897.499634,440.999878 C897.503479,420.519745 897.488831,400.539612 897.519775,380.559540 C897.531799,372.795044 900.376282,366.496521 907.660461,363.030640 C915.127136,359.477966 922.528442,359.846069 929.464539,364.563080 C935.259399,368.503876 937.055176,374.335907 937.048035,381.039062 C937.015198,411.841675 937.034424,442.644379 937.040466,473.447052 C937.041748,480.073792 937.052368,480.081238 943.492004,480.087067 C954.814026,480.097321 966.136658,480.028900 977.457947,480.122711 C987.208801,480.203491 993.256531,486.339630 993.423340,496.088531 C993.591736,505.931396 987.323730,512.874146 977.673828,512.951233 C959.526672,513.096191 941.377319,512.994263 923.229065,512.925903 C921.079651,512.917786 918.917908,512.564026 916.785522,512.222961 C904.801392,510.306244 898.913025,504.603821 898.202148,492.417206 C897.427734,479.139282 897.678284,465.801117 897.506409,452.488892 C897.459106,448.826477 897.499329,445.162903 897.499634,440.999878 z"}),I.createElement("path",{fill:"#017AFF",opacity:1,stroke:"none",d:" M1040.002319,513.009888 C1032.386597,512.472046 1025.194824,512.401672 1018.174561,511.268555 C1010.726318,510.066406 1006.177002,504.925751 1004.404785,497.720428 C1003.459595,493.877228 1002.968811,489.824890 1002.956421,485.864838 C1002.846130,450.709564 1002.826050,415.553650 1002.916931,380.398285 C1002.954224,365.950378 1016.559753,356.896027 1030.130249,362.060669 C1038.365479,365.194824 1042.187012,370.979767 1042.201660,380.770782 C1042.247070,411.094543 1042.204346,441.418396 1042.235718,471.742188 C1042.245239,480.981537 1041.247803,480.051331 1050.482178,480.082153 C1061.312012,480.118286 1072.142578,480.025299 1082.971680,480.121033 C1092.570557,480.205902 1098.845581,486.620514 1098.907471,496.184052 C1098.970459,505.922485 1092.541992,512.866394 1082.988037,512.962402 C1068.827148,513.104797 1054.663940,513.006042 1040.002319,513.009888 z"}),I.createElement("path",{fill:"#017AFF",opacity:1,stroke:"none",d:" M1105.599854,424.091034 C1105.678223,419.273590 1105.675537,414.939514 1105.848022,410.612366 C1106.679688,389.750092 1118.775146,372.818024 1138.406616,365.732941 C1156.549072,359.185303 1175.012329,358.583527 1193.188843,365.323273 C1198.110229,367.148071 1202.772949,370.721100 1206.466431,374.543121 C1211.164673,379.404846 1211.106934,386.678192 1207.716797,392.221375 C1204.392090,397.657684 1197.251099,400.903137 1190.883667,399.580627 C1188.301636,399.044403 1185.815430,397.977692 1183.339355,397.013916 C1175.530396,393.974335 1167.541260,392.816956 1159.379639,395.154175 C1150.777954,397.617371 1145.223511,403.980804 1145.017212,412.911163 C1144.628296,429.729340 1144.585449,446.570526 1145.007446,463.386902 C1145.269531,473.829987 1153.125732,481.281250 1163.625244,482.137146 C1171.722046,482.797241 1179.477173,481.553802 1186.986572,478.140991 C1190.366577,476.604889 1194.360962,475.323792 1197.962524,475.572998 C1209.802612,476.392456 1216.308594,490.454346 1208.927490,499.752319 C1205.559448,503.994965 1200.648315,507.757538 1195.646484,509.828613 C1174.556763,518.560974 1153.221802,518.122009 1132.727783,508.061493 C1115.403931,499.557190 1106.508057,484.852997 1105.894775,465.561035 C1105.460938,451.910522 1105.674927,438.239471 1105.599854,424.091034 z"}),I.createElement("path",{fill:"#017AFF",opacity:1,stroke:"none",d:" M1320.434326,500.172791 C1317.639038,509.503052 1313.229980,512.955139 1304.061890,512.987305 C1286.908081,513.047424 1269.753784,513.003906 1252.599731,512.992737 C1251.268433,512.991882 1249.933105,512.956604 1248.606323,512.853210 C1231.926514,511.553131 1225.143188,504.528259 1225.061279,487.516205 C1224.887939,451.543427 1224.944946,415.569183 1225.023804,379.595795 C1225.048584,368.329468 1233.036743,360.816620 1244.539917,360.809937 C1256.112671,360.803192 1264.062378,368.157135 1264.114258,379.536163 C1264.256104,410.679382 1264.172607,441.823578 1264.180786,472.967407 C1264.182617,480.081787 1264.187012,480.085663 1271.141602,480.088776 C1281.967041,480.093628 1292.792480,480.061768 1303.617798,480.102203 C1315.913452,480.148132 1322.019409,487.278107 1320.434326,500.172791 z"}),I.createElement("path",{fill:"#017AFF",opacity:1,stroke:"none",d:" M1378.000000,513.014893 C1368.192139,512.765503 1358.816406,513.130859 1349.593384,512.112854 C1337.746338,510.805237 1332.660767,505.204010 1330.947388,493.507568 C1330.538574,490.717987 1330.280029,487.878601 1330.276367,485.061737 C1330.230103,450.432434 1330.286133,415.802979 1330.212158,381.173767 C1330.194580,372.958893 1332.967651,366.428131 1340.685059,362.882050 C1348.394409,359.339600 1355.924683,359.980255 1362.863892,365.047699 C1368.391602,369.084473 1369.760742,374.936981 1369.757690,381.368835 C1369.743286,412.002502 1369.751465,442.636139 1369.756226,473.269806 C1369.757324,480.076080 1369.766113,480.079834 1376.503418,480.083557 C1387.658081,480.089752 1398.813110,480.033844 1409.967285,480.110382 C1420.152832,480.180267 1426.172729,486.207733 1426.218872,496.197205 C1426.266479,506.515289 1420.200684,512.875610 1409.966064,512.983093 C1399.478394,513.093262 1388.988770,513.012207 1378.000000,513.014893 z"})),lq=e=>I.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},I.createElement("path",{d:"M4 11.5L3.515 11.621C3.08232 11.7292 2.69821 11.9788 2.4237 12.3303C2.1492 12.6818 2.00007 13.115 2 13.561V15.438C2.00007 15.884 2.1492 16.3172 2.4237 16.6687C2.69821 17.0202 3.08232 17.2698 3.515 17.378L5.255 17.813C5.34342 17.835 5.43569 17.8366 5.52481 17.8177C5.61393 17.7987 5.69757 17.7597 5.76937 17.7036C5.84118 17.6475 5.89926 17.5758 5.93922 17.4939C5.97918 17.412 5.99997 17.3221 6 17.231V11.768C6.00001 11.6768 5.97921 11.5868 5.93919 11.5048C5.89918 11.4228 5.84099 11.351 5.76907 11.2949C5.69714 11.2388 5.61337 11.1998 5.52412 11.1809C5.43486 11.1621 5.34248 11.1638 5.254 11.186L4 11.5ZM4 11.5V11C4 8.87827 4.84285 6.84344 6.34315 5.34315C7.84344 3.84285 9.87827 3 12 3C14.1217 3 16.1566 3.84285 17.6569 5.34315C19.1571 6.84344 20 8.87827 20 11V11.5M20 11.5L20.485 11.621C20.9177 11.7292 21.3018 11.9788 21.5763 12.3303C21.8508 12.6818 21.9999 13.115 22 13.561V15.438C21.9999 15.884 21.8508 16.3172 21.5763 16.6687C21.3018 17.0202 20.9177 17.2698 20.485 17.378L20 17.5M20 11.5L18.745 11.186C18.6566 11.164 18.5643 11.1624 18.4752 11.1813C18.3861 11.2003 18.3024 11.2393 18.2306 11.2954C18.1588 11.3515 18.1007 11.4232 18.0608 11.5051C18.0208 11.587 18 11.6769 18 11.768V17.231C18 17.3221 18.0208 17.412 18.0608 17.4939C18.1007 17.5758 18.1588 17.6475 18.2306 17.7036C18.3024 17.7597 18.3861 17.7987 18.4752 17.8177C18.5643 17.8366 18.6566 17.835 18.745 17.813L20 17.5M20 17.5V18.5C20 19.0304 19.7893 19.5391 19.4142 19.9142C19.0391 20.2893 18.5304 20.5 18 20.5H15M15 20.5C15 20.1022 14.842 19.7206 14.5607 19.4393C14.2794 19.158 13.8978 19 13.5 19H10.5C10.1022 19 9.72064 19.158 9.43934 19.4393C9.15804 19.7206 9 20.1022 9 20.5C9 20.8978 9.15804 21.2794 9.43934 21.5607C9.72064 21.842 10.1022 22 10.5 22H13.5C13.8978 22 14.2794 21.842 14.5607 21.5607C14.842 21.2794 15 20.8978 15 20.5Z",stroke:"#6B7280",strokeWidth:1.5})),cq=e=>I.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},I.createElement("path",{d:"M12 3C9.61306 3 7.32388 3.94821 5.63605 5.63604C3.94822 7.32387 3.00001 9.61305 3.00001 12C3.00001 14.397 3.93501 16.573 5.46301 18.186L5.96701 18.718L4.70001 21H12C13.1819 21 14.3522 20.7672 15.4442 20.3149C16.5361 19.8626 17.5282 19.1997 18.364 18.364C19.1997 17.5282 19.8626 16.5361 20.3149 15.4442C20.7672 14.3522 21 13.1819 21 12C21 10.8181 20.7672 9.64778 20.3149 8.55585C19.8626 7.46392 19.1997 6.47177 18.364 5.63604C17.5282 4.80031 16.5361 4.13738 15.4442 3.68508C14.3522 3.23279 13.1819 3 12 3ZM1.00001 12C1.00001 5.925 5.92501 1 12 1C18.075 1 23 5.925 23 12C23 18.075 18.075 23 12 23H1.30001L3.52001 19.006C1.88821 17.0363 0.996743 14.5578 1.00001 12ZM12 7.5C11.5864 7.4999 11.1829 7.62803 10.8452 7.86676C10.5074 8.10549 10.2519 8.44307 10.114 8.833L9.78001 9.776L7.89501 9.11L8.22801 8.167C8.43446 7.58155 8.77432 7.05216 9.22069 6.62073C9.66706 6.1893 10.2077 5.86765 10.7998 5.68124C11.392 5.49483 12.0194 5.44876 12.6324 5.54668C13.2454 5.64461 13.8272 5.88383 14.3318 6.24544C14.8364 6.60704 15.25 7.08111 15.5397 7.63013C15.8295 8.17915 15.9875 8.78806 16.0013 9.4087C16.0151 10.0293 15.8843 10.6447 15.6192 11.206C15.3541 11.7674 14.962 12.2593 14.474 12.643C14.043 12.983 13.657 13.309 13.378 13.652C13.104 13.99 13 14.262 13 14.5V15.75H11V14.5C11 13.633 11.39 12.927 11.826 12.39C12.258 11.86 12.8 11.416 13.236 11.072C13.5628 10.8149 13.8014 10.4624 13.9185 10.0634C14.0357 9.66449 14.0256 9.23894 13.8896 8.846C13.7536 8.45305 13.4986 8.11226 13.1599 7.87102C12.8212 7.62978 12.4158 7.50009 12 7.5ZM11 16.75H13.004V18.754H11V16.75Z",fill:"#6B7280"})),vT=[{title:"",path:"/timetable",end:!1},{title:"",path:"/wishes",end:!0},{title:"",path:"/simulation",end:!1},{title:"",path:"/live",end:!1}],uq=[{icon:h.jsx(lq,{className:"w-4 h-4"}),title:"  ",path:"https://forms.gle/bCDTVujEHunnvHe88"},{icon:h.jsx(cq,{className:"w-4 h-4"}),title:" ",path:"https://open.kakao.com/o/g3MztXfh"}];function Qw(){return h.jsx("header",{className:"bg-white shadow-sm z-50 sticky top-0",children:h.jsxs("div",{className:"container flex items-center justify-between mx-auto max-w-7xl px-4 md:px-16",children:[h.jsxs("div",{className:"flex items-center space-x-4 py-4",children:[h.jsxs(hi,{to:"/",className:"flex items-center gap-1 space-x-2","aria-label":" ",children:[h.jsx("h1",{className:"hidden",children:"ALLCLL"}),h.jsx(yT,{className:"w-6 h-6 m-0"}),h.jsx(aq,{className:"h-5 hidden sm:inline-block"})]}),h.jsx("ul",{className:"flex space-x-4 text-sm sm:text-base",children:vT.map(({title:e,path:t,end:n})=>h.jsx("li",{className:"font-bold",children:h.jsx(Uc,{to:t,end:n,className:({isActive:r})=>r?"text-blue-500 font-semibold":"text-gray-500",children:e})},t))})]}),h.jsx("div",{className:"items-center space-x-2 hidden sm:flex",children:uq.map(({icon:e,title:t,path:n})=>h.jsx("a",{className:"p-2 rounded-md hover:bg-gray-100",target:"_blank",href:n,"aria-label":t,title:t,children:e},n))})]})})}const Kw=e=>I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:36,height:36,viewBox:"0 0 36 36",...e},I.createElement("g",{transform:"matrix(1,0,0,-1,0,72)"},I.createElement("g",null,I.createElement("path",{d:"M18,36Q22.9219,36.0703125,27,38.39062Q31.0781,40.78125,33.6094,45Q36,49.2891,36,54Q36,58.710899999999995,33.6094,63Q31.0781,67.2188,27,69.6094Q22.9219,71.9297,18,72Q13.0781,71.9297,9,69.6094Q4.92188,67.2188,2.39062,63Q0,58.710899999999995,0,54Q0,49.2891,2.39062,45Q4.92188,40.78125,9,38.39062Q13.0781,36.0703125,18,36ZM18,63Q19.5469,62.8594,19.6875,61.3125L19.6875,53.4375Q19.5469,51.8906,18,51.75Q16.4531,51.8906,16.3125,53.4375L16.3125,61.3125Q16.4531,62.8594,18,63ZM15.75,47.25Q15.75,48.2344,16.3828,48.8672Q17.0156,49.5,18,49.5Q18.9844,49.5,19.6172,48.8672Q20.25,48.2344,20.25,47.25Q20.25,46.2656,19.6172,45.63281Q18.9844,45,18,45Q17.0156,45,16.3828,45.63281Q15.75,46.2656,15.75,47.25Z",fill:"#9CA3AF",fillOpacity:1,style:{mixBlendMode:"passthrough"}})))),Gw=e=>I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:10,height:10,viewBox:"0. 0. 11 11",...e},I.createElement("g",{transform:"matrix(1,0,0,-1,0,20)"},I.createElement("path",{d:"M9.71875,18.28125Q10,18.59375,10,19Q10,19.40625,9.71875,19.71875Q9.40625,20,9,20Q8.59375,20,8.28125,19.71875L5,16.40625L1.71875,19.71875Q1.40625,20,1,20Q0.59375,20,0.28125,19.71875Q0,19.40625,0,19Q0,18.59375,0.28125,18.28125L3.59375,15L0.28125,11.71875Q0,11.40625,0,11Q0,10.59375,0.28125,10.28125Q0.59375,10,1,10Q1.40625,10,1.71875,10.28125L5,13.59375L8.28125,10.28125Q8.59375,10,9,10Q9.40625,10,9.71875,10.28125Q10,10.59375,10,11Q10,11.40625,9.71875,11.71875L6.40625,15L9.71875,18.28125Z",fill:"#9CA3AF",fillOpacity:1,style:{mixBlendMode:"passthrough"}}))),w6=e=>{let t;const n=new Set,r=(u,f)=>{const p=typeof u=="function"?u(t):u;if(!Object.is(p,t)){const g=t;t=f??(typeof p!="object"||p===null)?p:Object.assign({},t,p),n.forEach(y=>y(t,g))}},i=()=>t,a={setState:r,getState:i,getInitialState:()=>l,subscribe:u=>(n.add(u),()=>n.delete(u))},l=t=e(r,i,a);return a},dq=e=>e?w6(e):w6,fq=e=>e;function hq(e,t=fq){const n=wn.useSyncExternalStore(e.subscribe,()=>t(e.getState()),()=>t(e.getInitialState()));return wn.useDebugValue(n),n}const _6=e=>{const t=dq(e),n=r=>hq(t,r);return Object.assign(n,t),n},Fr=e=>e?_6(e):_6,M0=Fr(e=>({banner:null,onClose:void 0,setBanner:(t,n)=>e({banner:t,onClose:n}),closeBanner:()=>e({banner:null})}));function xT(){const e=M0(n=>n.banner),t=M0(n=>n.closeBanner);return h.jsx("div",{children:e&&h.jsx(pq,{deleteBanner:t,children:e})})}function pq({children:e,deleteBanner:t}){return h.jsxs("div",{className:"flex items-center justify-between bg-blue-100 px-4 py-2 gap-2",children:[h.jsx(Kw,{className:"w-4 h-4"}),h.jsx("div",{className:"flex-auto text-xs",children:e}),h.jsx("button",{className:"p-1 rounded-full hover:bg-blue-200",onClick:t,"aria-label":" ",children:h.jsx(Gw,{className:""})})]})}function A0(){return A0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},A0.apply(null,arguments)}function Yw(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function e2(e,t){return e2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},e2(e,t)}function Xw(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e2(e,t)}function mq(e,t){return e.classList?!!t&&e.classList.contains(t):(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")!==-1}function gq(e,t){e.classList?e.classList.add(t):mq(e,t)||(typeof e.className=="string"?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}function S6(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function yq(e,t){e.classList?e.classList.remove(t):typeof e.className=="string"?e.className=S6(e.className,t):e.setAttribute("class",S6(e.className&&e.className.baseVal||"",t))}const C6={disabled:!1},D0=wn.createContext(null);var bT=function(t){return t.scrollTop},ch="unmounted",uc="exited",dc="entering",od="entered",t2="exiting",ua=function(e){Xw(t,e);function t(r,i){var s;s=e.call(this,r,i)||this;var o=i,a=o&&!o.isMounting?r.enter:r.appear,l;return s.appearStatus=null,r.in?a?(l=uc,s.appearStatus=dc):l=od:r.unmountOnExit||r.mountOnEnter?l=ch:l=uc,s.state={status:l},s.nextCallback=null,s}t.getDerivedStateFromProps=function(i,s){var o=i.in;return o&&s.status===ch?{status:uc}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var s=null;if(i!==this.props){var o=this.state.status;this.props.in?o!==dc&&o!==od&&(s=dc):(o===dc||o===od)&&(s=t2)}this.updateStatus(!1,s)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,s,o,a;return s=o=a=i,i!=null&&typeof i!="number"&&(s=i.exit,o=i.enter,a=i.appear!==void 0?i.appear:o),{exit:s,enter:o,appear:a}},n.updateStatus=function(i,s){if(i===void 0&&(i=!1),s!==null)if(this.cancelNextCallback(),s===dc){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:qm.findDOMNode(this);o&&bT(o)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===uc&&this.setState({status:ch})},n.performEnter=function(i){var s=this,o=this.props.enter,a=this.context?this.context.isMounting:i,l=this.props.nodeRef?[a]:[qm.findDOMNode(this),a],u=l[0],f=l[1],p=this.getTimeouts(),g=a?p.appear:p.enter;if(!i&&!o||C6.disabled){this.safeSetState({status:od},function(){s.props.onEntered(u)});return}this.props.onEnter(u,f),this.safeSetState({status:dc},function(){s.props.onEntering(u,f),s.onTransitionEnd(g,function(){s.safeSetState({status:od},function(){s.props.onEntered(u,f)})})})},n.performExit=function(){var i=this,s=this.props.exit,o=this.getTimeouts(),a=this.props.nodeRef?void 0:qm.findDOMNode(this);if(!s||C6.disabled){this.safeSetState({status:uc},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:t2},function(){i.props.onExiting(a),i.onTransitionEnd(o.exit,function(){i.safeSetState({status:uc},function(){i.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,s){s=this.setNextCallback(s),this.setState(i,s)},n.setNextCallback=function(i){var s=this,o=!0;return this.nextCallback=function(a){o&&(o=!1,s.nextCallback=null,i(a))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},n.onTransitionEnd=function(i,s){this.setNextCallback(s);var o=this.props.nodeRef?this.props.nodeRef.current:qm.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!o||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],u=l[0],f=l[1];this.props.addEndListener(u,f)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===ch)return null;var s=this.props,o=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var a=Yw(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return wn.createElement(D0.Provider,{value:null},typeof o=="function"?o(i,a):wn.cloneElement(wn.Children.only(o),a))},t}(wn.Component);ua.contextType=D0;ua.propTypes={};function Fu(){}ua.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Fu,onEntering:Fu,onEntered:Fu,onExit:Fu,onExiting:Fu,onExited:Fu};ua.UNMOUNTED=ch;ua.EXITED=uc;ua.ENTERING=dc;ua.ENTERED=od;ua.EXITING=t2;var vq=function(t,n){return t&&n&&n.split(" ").forEach(function(r){return gq(t,r)})},ux=function(t,n){return t&&n&&n.split(" ").forEach(function(r){return yq(t,r)})},vp=function(e){Xw(t,e);function t(){for(var r,i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s))||this,r.appliedClasses={appear:{},enter:{},exit:{}},r.onEnter=function(a,l){var u=r.resolveArguments(a,l),f=u[0],p=u[1];r.removeClasses(f,"exit"),r.addClass(f,p?"appear":"enter","base"),r.props.onEnter&&r.props.onEnter(a,l)},r.onEntering=function(a,l){var u=r.resolveArguments(a,l),f=u[0],p=u[1],g=p?"appear":"enter";r.addClass(f,g,"active"),r.props.onEntering&&r.props.onEntering(a,l)},r.onEntered=function(a,l){var u=r.resolveArguments(a,l),f=u[0],p=u[1],g=p?"appear":"enter";r.removeClasses(f,g),r.addClass(f,g,"done"),r.props.onEntered&&r.props.onEntered(a,l)},r.onExit=function(a){var l=r.resolveArguments(a),u=l[0];r.removeClasses(u,"appear"),r.removeClasses(u,"enter"),r.addClass(u,"exit","base"),r.props.onExit&&r.props.onExit(a)},r.onExiting=function(a){var l=r.resolveArguments(a),u=l[0];r.addClass(u,"exit","active"),r.props.onExiting&&r.props.onExiting(a)},r.onExited=function(a){var l=r.resolveArguments(a),u=l[0];r.removeClasses(u,"exit"),r.addClass(u,"exit","done"),r.props.onExited&&r.props.onExited(a)},r.resolveArguments=function(a,l){return r.props.nodeRef?[r.props.nodeRef.current,a]:[a,l]},r.getClassNames=function(a){var l=r.props.classNames,u=typeof l=="string",f=u&&l?l+"-":"",p=u?""+f+a:l[a],g=u?p+"-active":l[a+"Active"],y=u?p+"-done":l[a+"Done"];return{baseClassName:p,activeClassName:g,doneClassName:y}},r}var n=t.prototype;return n.addClass=function(i,s,o){var a=this.getClassNames(s)[o+"ClassName"],l=this.getClassNames("enter"),u=l.doneClassName;s==="appear"&&o==="done"&&u&&(a+=" "+u),o==="active"&&i&&bT(i),a&&(this.appliedClasses[s][o]=a,vq(i,a))},n.removeClasses=function(i,s){var o=this.appliedClasses[s],a=o.base,l=o.active,u=o.done;this.appliedClasses[s]={},a&&ux(i,a),l&&ux(i,l),u&&ux(i,u)},n.render=function(){var i=this.props;i.classNames;var s=Yw(i,["classNames"]);return wn.createElement(ua,A0({},s,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(wn.Component);vp.defaultProps={classNames:""};vp.propTypes={};function xq(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Jw(e,t){var n=function(s){return t&&I.isValidElement(s)?t(s):s},r=Object.create(null);return e&&I.Children.map(e,function(i){return i}).forEach(function(i){r[i.key]=n(i)}),r}function bq(e,t){e=e||{},t=t||{};function n(f){return f in t?t[f]:e[f]}var r=Object.create(null),i=[];for(var s in e)s in t?i.length&&(r[s]=i,i=[]):i.push(s);var o,a={};for(var l in t){if(r[l])for(o=0;o<r[l].length;o++){var u=r[l][o];a[r[l][o]]=n(u)}a[l]=n(l)}for(o=0;o<i.length;o++)a[i[o]]=n(i[o]);return a}function wc(e,t,n){return n[t]!=null?n[t]:e.props[t]}function wq(e,t){return Jw(e.children,function(n){return I.cloneElement(n,{onExited:t.bind(null,n),in:!0,appear:wc(n,"appear",e),enter:wc(n,"enter",e),exit:wc(n,"exit",e)})})}function _q(e,t,n){var r=Jw(e.children),i=bq(t,r);return Object.keys(i).forEach(function(s){var o=i[s];if(I.isValidElement(o)){var a=s in t,l=s in r,u=t[s],f=I.isValidElement(u)&&!u.props.in;l&&(!a||f)?i[s]=I.cloneElement(o,{onExited:n.bind(null,o),in:!0,exit:wc(o,"exit",e),enter:wc(o,"enter",e)}):!l&&a&&!f?i[s]=I.cloneElement(o,{in:!1}):l&&a&&I.isValidElement(u)&&(i[s]=I.cloneElement(o,{onExited:n.bind(null,o),in:u.props.in,exit:wc(o,"exit",e),enter:wc(o,"enter",e)}))}}),i}var Sq=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},Cq={component:"div",childFactory:function(t){return t}},C1=function(e){Xw(t,e);function t(r,i){var s;s=e.call(this,r,i)||this;var o=s.handleExited.bind(xq(s));return s.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},s}var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(i,s){var o=s.children,a=s.handleExited,l=s.firstRender;return{children:l?wq(i,a):_q(i,o,a),firstRender:!1}},n.handleExited=function(i,s){var o=Jw(this.props.children);i.key in o||(i.props.onExited&&i.props.onExited(s),this.mounted&&this.setState(function(a){var l=A0({},a.children);return delete l[i.key],{children:l}}))},n.render=function(){var i=this.props,s=i.component,o=i.childFactory,a=Yw(i,["component","childFactory"]),l=this.state.contextValue,u=Sq(this.state.children).map(o);return delete a.appear,delete a.enter,delete a.exit,s===null?wn.createElement(D0.Provider,{value:l},u):wn.createElement(D0.Provider,{value:l},wn.createElement(s,a,u))},t}(wn.Component);C1.propTypes={};C1.defaultProps=Cq;const L0=Fr(e=>({isActivated:!1,messages:[],addToast:(t,n)=>e(r=>({messages:[...r.messages,{message:t,tag:n}]})),clearToast:t=>e(n=>(typeof t=="number"?n.messages=[...n.messages.slice(0,t),...n.messages.slice(t+1)]:n.messages=n.messages.filter(r=>r.tag!==t),{messages:n.messages}))})),F0=e=>I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:17,height:17,viewBox:"-0.1 -1.2 11.985078811645508 17",...e},I.createElement("g",{transform:"matrix(1,0,0,-1,0,27.999998092651367)"},I.createElement("path",{d:"M5.99254,27.999999046325684Q5.61809,27.999999046325684,5.37737,27.753899046325685Q5.13664,27.507799046325683,5.13664,27.124999046325684L5.13664,26.605499046325683Q3.63883,26.277299046325684,2.70269,25.10159904632568Q1.73981,23.925779046325683,1.71306,22.312499046325684L1.71306,21.792969046325684Q1.68632,19.824219046325684,0.429221,18.320309046325683L0.215247,18.074219046325684Q-0.13246,17.664059046325683,0.0815138,17.144529046325683Q0.322234,16.652339046325682,0.857169,16.624999046325684L11.1279,16.624999046325684Q11.6628,16.652339046325682,11.9036,17.144529046325683Q12.1175,17.664059046325683,11.7698,18.074219046325684L11.5826,18.320309046325683Q10.2988,19.796869046325682,10.272,21.792969046325684L10.272,22.312499046325684Q10.2453,23.925779046325683,9.28239,25.10159904632568Q8.34625,26.277299046325684,6.84843,26.605499046325683L6.84843,27.124999046325684Q6.84843,27.507799046325683,6.60771,27.753899046325685Q6.36699,27.999999046325684,5.99254,27.999999046325684ZM7.19614,14.519530046325684Q7.70433,15.039059046325683,7.70433,15.749999046325684L5.99254,15.749999046325684L4.28075,15.749999046325684Q4.28075,15.039059046325683,4.78894,14.519530046325684Q5.29713,13.999999046325684,5.99254,13.999999046325684Q6.68796,13.999999046325684,7.19614,14.519530046325684Z",fill:"currentColor",fillOpacity:1,style:{mixBlendMode:"passthrough"}})));function Zw(){const e=L0(n=>n.messages),t=L0(n=>n.clearToast);return h.jsx("div",{className:"fixed top-2 right-2 z-100 max-w-screen",children:h.jsx(C1,{className:"flex gap-2 flex-col-reverse",children:e.slice(-3).map((n,r)=>h.jsx(vp,{timeout:300,classNames:"toast",children:h.jsx(kq,{toast:n,closeToast:()=>t(r)})},`${r} : ${n}`))})})}function kq({toast:e,closeToast:t}){return h.jsxs("div",{className:"flex justify-between items-center gap-2 p-4 ml-2 bg-white text-black rounded-lg shadow-md",children:[h.jsx(F0,{className:"w-4 h-4 text-blue-500"}),h.jsx("span",{className:"flex-1 text-sm font-bold truncate max-w-72",children:e.message}),h.jsx("button",{"aria-label":"",onClick:t,className:"p-2 rounded-full hover:bg-blue-100",children:h.jsx(Gw,{})})]})}const Eq=e=>I.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},I.createElement("g",{clipPath:"url(#clip0_3195_1180)"},I.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 3.66667C7.3975 3.66667 3.66667 7.3975 3.66667 12C3.66667 16.6025 7.3975 20.3333 12 20.3333C16.6025 20.3333 20.3333 16.6025 20.3333 12C20.3333 7.3975 16.6025 3.66667 12 3.66667ZM2 12C2 6.47708 6.47708 2 12 2C17.5229 2 22 6.47708 22 12C22 17.5229 17.5229 22 12 22C6.47708 22 2 17.5229 2 12Z",fill:"#9CA3AF"}),I.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.9929 20.9465C9.91235 20.8424 9.91235 19.9154 9.9929 18.1657C9.12985 18.1957 8.58443 18.1359 8.35665 17.9861C8.0154 17.7615 7.67332 17.0695 7.3704 16.5815C7.06749 16.0936 6.39415 16.0165 6.12249 15.9074C5.85082 15.7986 5.78249 15.354 6.87124 15.6899C7.95999 16.0261 8.0129 16.942 8.35665 17.1557C8.7004 17.3699 9.52165 17.2765 9.89374 17.1049C10.2658 16.9332 10.2383 16.2949 10.305 16.042C10.3887 15.8057 10.0929 15.7532 10.0867 15.7515C9.7229 15.7515 7.81415 15.3361 7.28957 13.4878C6.7654 11.639 7.44082 10.4307 7.80124 9.91155C8.04124 9.56488 8.01999 8.82682 7.73749 7.69738C8.76415 7.56571 9.55624 7.88877 10.1137 8.66655C10.1146 8.67071 10.8454 8.23196 12 8.23196C13.1546 8.23196 13.5646 8.58946 13.8808 8.66655C14.1971 8.74363 14.45 7.30571 16.4029 7.69738C15.995 8.49863 15.6537 9.49988 15.9142 9.91155C16.175 10.3228 17.1975 11.6311 16.5696 13.4878C16.1504 14.7253 15.3269 15.4799 14.0992 15.7515C13.9586 15.7965 13.8883 15.869 13.8883 15.969C13.8883 16.119 14.0783 16.1353 14.3525 16.8382C14.5358 17.3065 14.5492 18.6447 14.3925 20.8528C13.9961 20.9536 13.6878 21.0214 13.4675 21.0561C13.0771 21.1174 12.6529 21.152 12.2362 21.1649C11.8196 21.1782 11.675 21.177 11.0987 21.1232C10.7266 21.0892 10.3571 21.0302 9.9929 20.9465Z",fill:"#9CA3AF"}))),Tq=e=>I.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},I.createElement("path",{d:"M7.8 2H16.2C19.4 2 22 4.6 22 7.8V16.2C22 17.7383 21.3889 19.2135 20.3012 20.3012C19.2135 21.3889 17.7383 22 16.2 22H7.8C4.6 22 2 19.4 2 16.2V7.8C2 6.26174 2.61107 4.78649 3.69878 3.69878C4.78649 2.61107 6.26174 2 7.8 2ZM7.6 4C6.64522 4 5.72955 4.37928 5.05442 5.05442C4.37928 5.72955 4 6.64522 4 7.6V16.4C4 18.39 5.61 20 7.6 20H16.4C17.3548 20 18.2705 19.6207 18.9456 18.9456C19.6207 18.2705 20 17.3548 20 16.4V7.6C20 5.61 18.39 4 16.4 4H7.6ZM17.25 5.5C17.5815 5.5 17.8995 5.6317 18.1339 5.86612C18.3683 6.10054 18.5 6.41848 18.5 6.75C18.5 7.08152 18.3683 7.39946 18.1339 7.63388C17.8995 7.8683 17.5815 8 17.25 8C16.9185 8 16.6005 7.8683 16.3661 7.63388C16.1317 7.39946 16 7.08152 16 6.75C16 6.41848 16.1317 6.10054 16.3661 5.86612C16.6005 5.6317 16.9185 5.5 17.25 5.5ZM12 7C13.3261 7 14.5979 7.52678 15.5355 8.46447C16.4732 9.40215 17 10.6739 17 12C17 13.3261 16.4732 14.5979 15.5355 15.5355C14.5979 16.4732 13.3261 17 12 17C10.6739 17 9.40215 16.4732 8.46447 15.5355C7.52678 14.5979 7 13.3261 7 12C7 10.6739 7.52678 9.40215 8.46447 8.46447C9.40215 7.52678 10.6739 7 12 7ZM12 9C11.2044 9 10.4413 9.31607 9.87868 9.87868C9.31607 10.4413 9 11.2044 9 12C9 12.7956 9.31607 13.5587 9.87868 14.1213C10.4413 14.6839 11.2044 15 12 15C12.7956 15 13.5587 14.6839 14.1213 14.1213C14.6839 13.5587 15 12.7956 15 12C15 11.2044 14.6839 10.4413 14.1213 9.87868C13.5587 9.31607 12.7956 9 12 9Z",fill:"#9CA3AF"})),jq=e=>I.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},I.createElement("path",{d:"M5.679 18.123C3.093 16.566 1.5 14.112 1.5 11.405C1.501 6.701 6.249 3 12.001 3C17.753 3 22.501 6.701 22.501 11.405C22.501 16.109 17.753 19.81 12.001 19.81C11.559 19.81 11.1197 19.7883 10.683 19.745L6.918 22.203C6.303 22.529 5.961 22.628 5.433 22.269C4.813 21.845 4.837 21.377 5.051 20.709L5.679 18.123ZM3.5 11.405C3.5 13.537 4.918 15.528 7.281 16.725L7.987 17.084L7.801 17.854L7.4 19.502L10.2 17.672L10.565 17.718C11.039 17.7793 11.5173 17.81 12 17.81C16.741 17.81 20.5 14.88 20.5 11.405C20.5 7.93 16.742 5 12.001 5C7.26 5 3.5 7.93 3.5 11.405ZM17.908 11.059L19.422 13.214C19.4577 13.2648 19.483 13.322 19.4965 13.3826C19.51 13.4431 19.5115 13.5057 19.5008 13.5668C19.4901 13.6279 19.4675 13.6863 19.4342 13.7387C19.401 13.791 19.3578 13.8363 19.307 13.872C19.2562 13.9077 19.199 13.933 19.1384 13.9465C19.0779 13.96 19.0153 13.9615 18.9542 13.9508C18.8931 13.9401 18.8347 13.9175 18.7823 13.8842C18.73 13.851 18.6847 13.8078 18.649 13.757L17.221 11.724L16.794 12.137V13.5C16.794 13.6252 16.7443 13.7452 16.6558 13.8338C16.5672 13.9223 16.4472 13.972 16.322 13.972C16.1968 13.972 16.0768 13.9223 15.9882 13.8338C15.8997 13.7452 15.85 13.6252 15.85 13.5V12.061C15.8334 11.9879 15.8334 11.9121 15.85 11.839V9.282C15.85 9.15682 15.8997 9.03676 15.9882 8.94825C16.0768 8.85973 16.1968 8.81 16.322 8.81C16.4472 8.81 16.5672 8.85973 16.6558 8.94825C16.7443 9.03676 16.794 9.15682 16.794 9.282V10.824L18.722 8.958C18.8128 8.87613 18.9319 8.83271 19.0541 8.83689C19.1763 8.84107 19.2922 8.89252 19.3772 8.98041C19.4622 9.06829 19.5098 9.18575 19.51 9.30804C19.5101 9.43033 19.4628 9.54791 19.378 9.636L17.908 11.059ZM14.95 12.984C15.0752 12.984 15.1952 13.0337 15.2838 13.1222C15.3723 13.2108 15.422 13.3308 15.422 13.456C15.422 13.5812 15.3723 13.7012 15.2838 13.7898C15.1952 13.8783 15.0752 13.928 14.95 13.928H13.018C12.956 13.9281 12.8946 13.916 12.8374 13.8923C12.7801 13.8686 12.7281 13.8339 12.6843 13.79C12.6405 13.7461 12.6059 13.694 12.5823 13.6367C12.5587 13.5794 12.5467 13.518 12.547 13.456V9.297C12.5441 9.23325 12.5541 9.16958 12.5765 9.10981C12.5988 9.05005 12.6331 8.99544 12.6772 8.9493C12.7212 8.90315 12.7742 8.86641 12.8329 8.84132C12.8915 8.81622 12.9547 8.80328 13.0185 8.80328C13.0823 8.80328 13.1455 8.81622 13.2041 8.84132C13.2628 8.86641 13.3158 8.90315 13.3598 8.9493C13.4039 8.99544 13.4382 9.05005 13.4605 9.10981C13.4829 9.16958 13.4929 9.23325 13.49 9.297V12.984H14.95ZM9.093 11.893H10.427L9.789 10.185L9.093 11.893ZM11.616 12.38L11.961 13.305C11.9848 13.3635 11.9967 13.4262 11.9958 13.4893C11.995 13.5525 11.9815 13.6148 11.9561 13.6727C11.9308 13.7305 11.8941 13.7827 11.8482 13.8261C11.8023 13.8694 11.7481 13.9032 11.689 13.9253C11.6298 13.9474 11.5668 13.9574 11.5037 13.9546C11.4406 13.9519 11.3787 13.9366 11.3216 13.9095C11.2645 13.8825 11.2135 13.8442 11.1715 13.7971C11.1295 13.7499 11.0973 13.6948 11.077 13.635L10.779 12.836H8.709L8.377 13.649C8.35356 13.7064 8.31904 13.7586 8.27543 13.8026C8.23181 13.8467 8.17994 13.8817 8.12279 13.9057C8.06563 13.9297 8.00431 13.9422 7.94232 13.9425C7.88033 13.9428 7.81889 13.9309 7.7615 13.9075C7.70411 13.8841 7.6519 13.8495 7.60785 13.8059C7.56381 13.7623 7.52878 13.7104 7.50478 13.6533C7.48077 13.5961 7.46826 13.5348 7.46796 13.4728C7.46765 13.4108 7.47956 13.3494 7.503 13.292L9.165 9.217C9.21605 9.08531 9.30573 8.97215 9.42227 8.89237C9.53882 8.81259 9.67677 8.76994 9.818 8.77C9.95833 8.7758 10.0936 8.8243 10.2056 8.90899C10.3176 8.99369 10.4012 9.11057 10.445 9.244L11.491 12.044C11.5723 12.1308 11.6177 12.2451 11.618 12.364L11.616 12.38ZM8.294 9.302C8.294 9.562 8.084 9.774 7.823 9.774H6.683V13.51C6.683 13.6353 6.63322 13.7555 6.54461 13.8441C6.456 13.9327 6.33581 13.9825 6.2105 13.9825C6.08518 13.9825 5.965 13.9327 5.87639 13.8441C5.78778 13.7555 5.738 13.6353 5.738 13.51V9.774H4.578C4.45282 9.774 4.33276 9.72427 4.24425 9.63575C4.15573 9.54724 4.106 9.42718 4.106 9.302C4.106 9.17682 4.15573 9.05676 4.24425 8.96825C4.33276 8.87973 4.45282 8.83 4.578 8.83H7.823C8.083 8.83 8.294 9.041 8.294 9.302Z",fill:"#9CA3AF"})),Nq=[{title:"",children:[{title:"ALLCLL ",href:"/about"},{title:"  ",href:"/faq"},{title:"  ",href:"https://forms.gle/bCDTVujEHunnvHe88"},{title:"allcllclla@google.com"}]}],Iq=[{icon:h.jsx(Eq,{className:"w-8 h-8 m-2"}),title:" github",href:"https://github.com/allcll"},{icon:h.jsx(jq,{className:"w-8 h-8 m-2"}),title:" ",href:"https://open.kakao.com/o/g3MztXfh"},{icon:h.jsx(Tq,{className:"w-8 h-8 m-2"}),title:" instagram",href:"https://www.instagram.com/sejong_allcll"}];function e_(){return h.jsxs("footer",{className:"bg-white text-center text-sm text-gray-500",children:[h.jsxs("div",{className:"mx-auto max-w-7xl px-4 md:px-16 py-12 grid md:grid-cols-3 gap-6 text-center md:text-left",children:[h.jsxs("div",{className:"mx-auto md:mx-0",children:[h.jsxs("div",{className:"flex items-center mb-2 h-fit justify-center md:justify-start",children:[h.jsx("img",{src:"/ci.svg",className:"w-6 h-6 mr-2",alt:"ci"}),h.jsx("img",{src:"/logo-name.svg",alt:"logo",className:"h-5"})]}),h.jsx("ul",{className:"flex items-center",children:Iq.map(({icon:e,title:t,href:n})=>h.jsx("li",{children:h.jsx("a",{href:n,className:"h-fit rounded-md hover:bg-gray-200","aria-label":t,title:t,children:e})},t))})]}),h.jsxs("div",{children:[h.jsx("h3",{className:"font-bold mb-4",children:""}),h.jsx("ul",{children:vT.map(({title:e,path:t,end:n})=>h.jsx("li",{className:"mb-1",children:h.jsx(Uc,{to:t,end:n,className:"hover:text-blue-500 hover:underline hover:font-bold",children:e})},e))})]}),Nq.map((e,t)=>h.jsxs("div",{className:"mb-4",children:[h.jsx("h3",{className:"font-bold mb-4",children:e.title}),h.jsx("ul",{children:e.children.map((n,r)=>h.jsx("li",{className:"mb-1",children:n.href?n.href.startsWith("http")?h.jsx("a",{className:"hover:text-blue-500 hover:underline hover:font-bold",href:n.href,target:"_blank",children:n.title}):h.jsx(hi,{to:n.href,className:"hover:text-blue-500 hover:underline hover:font-bold",children:n.title}):h.jsx("p",{children:n.title})},r))})]},t))]}),h.jsx("p",{className:"pb-12",children:" 2025 ALLCLL. All rights reserved."})]})}const Rq=1.5*1e3,wT=5,ci=Fr(e=>({needCount:0,alwaysReload:!1,forceReloadNumber:0,errorCount:0,isError:!1,isPending:!0,addNeedCount:()=>e(t=>({needCount:t.needCount+1})),deleteNeedCount:()=>e(t=>({needCount:Math.max(0,t.needCount-1)})),setAlwaysReload:t=>e({alwaysReload:t}),setForceReload:()=>e(t=>({forceReloadNumber:t.forceReloadNumber+1,errorCount:0,isError:!1})),setError:()=>e(({errorCount:t,isPending:n})=>({errorCount:t+1,isError:t+1>=wT,isPending:n||t>1})),resetError:()=>e({errorCount:0,isError:!1,isPending:!1})}));function Pq(e,t){let n;try{n=e()}catch{return}return{getItem:i=>{var s;const o=l=>l===null?null:JSON.parse(l,void 0),a=(s=n.getItem(i))!=null?s:null;return a instanceof Promise?a.then(o):o(a)},setItem:(i,s)=>n.setItem(i,JSON.stringify(s,void 0)),removeItem:i=>n.removeItem(i)}}const n2=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(r){return n2(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return n2(r)(n)}}}},Oq=(e,t)=>(n,r,i)=>{let s={storage:Pq(()=>localStorage),partialize:_=>_,version:0,merge:(_,C)=>({...C,..._}),...t},o=!1;const a=new Set,l=new Set;let u=s.storage;if(!u)return e((..._)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),n(..._)},r,i);const f=()=>{const _=s.partialize({...r()});return u.setItem(s.name,{state:_,version:s.version})},p=i.setState;i.setState=(_,C)=>{p(_,C),f()};const g=e((..._)=>{n(..._),f()},r,i);i.getInitialState=()=>g;let y;const b=()=>{var _,C;if(!u)return;o=!1,a.forEach(R=>{var O;return R((O=r())!=null?O:g)});const k=((C=s.onRehydrateStorage)==null?void 0:C.call(s,(_=r())!=null?_:g))||void 0;return n2(u.getItem.bind(u))(s.name).then(R=>{if(R)if(typeof R.version=="number"&&R.version!==s.version){if(s.migrate){const O=s.migrate(R.state,R.version);return O instanceof Promise?O.then($=>[!0,$]):[!0,O]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,R.state];return[!1,void 0]}).then(R=>{var O;const[$,z]=R;if(y=s.merge(z,(O=r())!=null?O:g),n(y,!0),$)return f()}).then(()=>{k?.(y,void 0),y=r(),o=!0,l.forEach(R=>R(y))}).catch(R=>{k?.(void 0,R)})};return i.persist={setOptions:_=>{s={...s,..._},_.storage&&(u=_.storage)},clearStorage:()=>{u?.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>b(),hasHydrated:()=>o,onHydrate:_=>(a.add(_),()=>{a.delete(_)}),onFinishHydration:_=>(l.add(_),()=>{l.delete(_)})},s.skipHydration||b(),y||g},_T=Oq,Mq=()=>{if(!(typeof window>"u"||typeof navigator>"u"))return navigator.vibrate||navigator.webkitVibrate||navigator.mozVibrate||navigator.msVibrate},Qf=Mq(),t_={canNotify(){return!!Qf},isGranted(){return this.canNotify()},requestPermission(e){this.isGranted()?e?.("granted"):e?.("denied")},getDeniedMessage(){return this.canNotify()?[]:["     ."]},show(e,t){const n=Wh(Xa.VIBRATE);Qf&&n&&Qf.call(navigator,[200])},close(e){Qf&&Qf.call(navigator,0)}};var Mi=(e=>(e[e.NONE=0]="NONE",e[e.BROWSER=1]="BROWSER",e[e.TOAST=2]="TOAST",e[e.BOTH=3]="BOTH",e))(Mi||{}),Xa=(e=>(e[e.NONE=0]="NONE",e[e.VIBRATE=1]="VIBRATE",e[e.SOUND=2]="SOUND",e[e.ALL=3]="ALL",e))(Xa||{});const Aq=()=>/Mobi|Android/i.test(navigator.userAgent),k6=()=>{const e="Notification"in window,t=Aq();return 1*Number(e)+2*Number(t)},E6=()=>{const e=t_.canNotify();return 1*Number(e)+2},yo=Fr()(_T(e=>({alarmType:k6(),subAlarmType:E6(),saveSettings:t=>e(n=>({...n,...t})),resetSettings:()=>e(()=>({alarmType:k6(),subAlarmType:E6()}))}),{name:"AlarmSettings",partialize:e=>({alarmType:e.alarmType,subAlarmType:e.subAlarmType})}));function r2(e){return!!(yo.getState().alarmType&e)}function Wh(e){return!!(yo.getState().subAlarmType&e)}const fl=Fr(e=>({isOpen:!1,isPermitted:!1,open:()=>e({isOpen:!0}),close:()=>e({isOpen:!1}),setPermitted:t=>e({isPermitted:t})}));function Dq(){return h.jsxs(h.Fragment,{children:["  ? ",h.jsx(hi,{to:"/faq#0",className:"text-blue-500 underline hover:text-blue-600",children:" "})]})}const ag=()=>Notification??window.Notification,gs={canNotify(){return"Notification"in window||!!ag()},isGranted(){return gs.canNotify()&&ag().permission==="granted"},requestPermission(e){const t=ag();if(!gs.canNotify()){alert("      .   ");return}if(!gs.isGranted()){t.requestPermission().then(n=>{e&&e(n),fl.getState().setPermitted(n==="granted")});return}e&&e(t.permission)},getDeniedMessage(){return gs.canNotify()?gs.isGranted()?[]:["   .    "]:["     "]},show(e,t){const n=gs.canNotify(),r=r2(Mi.BROWSER),i=M0.getState().setBanner,s=ag();n&&r&&s.permission==="granted"&&(Fq(i),navigator.serviceWorker.ready.then(function(o){o.showNotification(e,{badge:"/ci.svg",tag:t}).then()}))},close(e){!gs.canNotify()||!gs.isGranted()||navigator.serviceWorker.ready.then(function(t){t.getNotifications({tag:e}).then(function(n){n.forEach(function(r){r.close()})})})}},Lq=1e3*60*60*24;function Fq(e){const t="alarm-check",n=localStorage.getItem(t);n&&Date.now()-Number(n)<100*Lq||setTimeout(()=>{e(Dq(),()=>{localStorage.setItem(t,Date.now().toString())})},5e3)}const i2={canNotify(){return!0},isGranted(){return!0},requestPermission(e){},getDeniedMessage(){return[]},show(e,t){const n=L0.getState().addToast;n&&n(e,t)},close(e){const t=L0.getState().clearToast;t(e)}},Bq="/notification.mp3";let Vs=null;const zq=()=>{typeof Audio<"u"&&!Vs&&(Vs=new Audio(Bq),Vs.preload="auto",Vs.volume=1,Vs.load())};zq();const $q={canNotify(){return typeof Audio<"u"},isGranted(){return this.canNotify()},requestPermission(e){this.isGranted()?e?.("granted"):e?.("denied")},getDeniedMessage(){return this.canNotify()?[]:["     ."]},show(e,t){this.canNotify()&&Vs&&(Vs.currentTime=0,Vs.play().catch(n=>{console.warn("Failed to play notification sound:",n)}))},close(e){Vs&&(Vs.pause(),Vs.currentTime=0)}},k1="";async function E1(e,t){return await fetch(k1+e,{credentials:"include",...t})}async function da(e,t){const n=await fetch(k1+e,{credentials:"include",...t,headers:{"Content-Type":"application/json",...t?.headers}});if(!n.ok)throw new Error(await n.text());return await n.json()}async function Uq(e,t,n){const r=await fetch(k1+e,{method:"DELETE",credentials:"include",headers:{"Content-Type":"application/json"},body:t?JSON.stringify(t):void 0,...n});if(!r.ok)throw new Error(await r.text());return r.status===204?null:await r.json()}function Hq(e,t){return new EventSource(k1+e,{withCredentials:!0,...t})}async function n_(e,t){const n=await fetch(e,{credentials:"include",...t});if(!n.ok)throw new Error(await n.text());return await n.json()}const T1={subjectId:-1,subjectName:"",subjectCode:"",classCode:"",professorName:"",deptCd:"",manageDeptNm:"",studentYear:"",lesnTime:"",lesnRoom:"",tmNum:"",remark:null,curiTypeCdNm:"",curiLangNm:null,isDeleted:!0},Wq=async()=>await da("/api/subjects");function Cs(){return Js({queryKey:["subjects"],queryFn:Wq,staleTime:1/0,select:e=>e.subjectResponses})}function qq(e){return e.getQueryData(["subjects"])?.subjectResponses??[]}let T6=!1;function Bu(){const e=[],t=r2(Mi.BROWSER),n=r2(Mi.TOAST),r=Wh(Xa.VIBRATE),i=Wh(Xa.SOUND);return t&&e.push(gs),n&&e.push(i2),r&&e.push(t_),i&&e.push($q),e}const es={canNotify(){return Bu().every(e=>e.canNotify())},isGranted(){const e=Bu().every(t=>t.isGranted());return fl.getState().setPermitted(e),e},requestPermission(e){es.isGranted()||(Bu().forEach(t=>t.requestPermission(e)),fl.getState().open())},getDeniedMessage(){return Bu().flatMap(e=>e.getDeniedMessage())},show(e,t){yo.getState().alarmType!==Mi.NONE&&Bu().forEach(r=>r.show(e,t))},close(e){Bu().forEach(t=>t.close(e))}};function Vq(e,t,n){const{alwaysReload:r}=ci.getState();if(!(!e||!t||!r)){for(const i of t)if(e.some(o=>o.subjectId===i.subjectId&&o.seatCount===0&&i.seatCount>0)){const o=Qq(n,i.subjectId);if(!o){es.show("unknown subject  ");return}es.show(`${o.subjectCode}-${o.classCode} ${o.subjectName}  `)}}}function Qq(e,t){return qq(e).find(r=>r.subjectId===t)}let lg=null,j6=1;function N6(e){const t="global-notification_"+j6,n="global-notification_"+ ++j6;lg&&(clearTimeout(lg),es.close(t),lg=null),es.show(e,n),lg=setTimeout(()=>es.close(n),3e3)}function Kq(){const e=ci(i=>i.alwaysReload),t=ci(i=>i.setAlwaysReload),n=e;return I.useEffect(()=>{T6||(es.isGranted()&&(N6("  .     "),t(!0)),T6=!0)},[]),{isAlarm:n,changeAlarm:()=>{if(!n){if(yo.getState().alarmType===Mi.NONE){if(!confirm("   ?"))return;yo.getState().resetSettings()}es.requestPermission()}const i=n?"  ":"  ";t(!n),N6(i)}}}var r_=(e=>(e.IDLE="idle",e.LIVE="live",e))(r_||{});const Gq=3e3;let cg=null;const md=Fr(e=>({lastUpdate:new Date,sseState:"live",updated:()=>{e({lastUpdate:new Date,sseState:"live"}),cg&&clearInterval(cg),cg=setTimeout(()=>{e({sseState:"idle"}),cg=null},Gq)}}));var j1=(e=>(e.NON_MAJOR="nonMajorSeats",e.MAJOR="majorSeats",e.PINNED="pinSeats",e))(j1||{});let ug=!1;const Yq=()=>{const e=ns(),t=ci(l=>l.needCount),n=ci(l=>l.alwaysReload),r=ci(l=>l.forceReloadNumber),i=ci(l=>l.errorCount),s=ci(l=>l.setError),o=ci(l=>l.resetError),a=ci(l=>l.isError);I.useEffect(()=>{const l=n||t>0;ug||!l||i>=wT||(ug=!0,Xq(e,o).then(()=>{o(),ug=!1}).catch(()=>{ug=!1,i===0?s():setTimeout(s,Rq)}))},[n,t,e,s,r,o,i]),I.useEffect(()=>{a&&es.show(" .  .")},[a])},Xq=(e,t)=>new Promise((n,r)=>{const i=Hq("/api/connect");return i.addEventListener("nonMajorSeats",s=>{const o=JSON.parse(s.data);if(!o)return;const a=o.seatResponses??[];e.setQueryData(["nonMajorSeats"],(l=[])=>I6(l,a)),md.getState().updated()}),i.addEventListener("majorSeats",s=>{const o=JSON.parse(s.data);if(!o)return;const a=o.seatResponses??[];e.setQueryData(["majorSeats"],(l=[])=>I6(l,a)),md.getState().updated()}),i.addEventListener("pinSeats",s=>{const o=JSON.parse(s.data);if(!o)return;const a=o.seatResponses??[];e.setQueryData(["pinSeats"],(l=[])=>{const u=Jq(l,a);return Vq(l,u,e),u}),md.getState().updated()}),i.onopen=()=>{t(),md.getState().updated()},i.onerror=s=>{i.close(),r(new Error("SSE connection error: "+(s.type??"Unknown error")))},()=>{i.close(),n("SSE connection closed")}}),i_=e=>{const t=ns(),n=ci(l=>l.addNeedCount),r=ci(l=>l.deleteNeedCount),i=ci(l=>l.isPending),s=ci(l=>l.isError),o=ci(l=>l.setForceReload);return I.useEffect(()=>{const l=()=>{document.visibilityState==="visible"?n():r()};return n(),document.addEventListener("visibilitychange",l),()=>{r(),document.removeEventListener("visibilitychange",l)}},[n,r]),{...Js({queryKey:[e],queryFn:()=>Promise.resolve(t.getQueryData([e])??[])}),isPending:i,isError:s,refetch:o}};function I6(e,t){const n=[];for(const r of t){const i=e.find(o=>o.subjectId===r.subjectId);!i||i.seatCount!==r.seatCount||i.queryTime!==r.queryTime?n.push(r):n.push(i)}return n}function Jq(e,t){const n=new Set;[...e,...t].forEach(i=>{n.add(i.subjectId)});const r=[];return n.forEach(i=>{const s=e.find(l=>l.subjectId===i),o=t.find(l=>l.subjectId===i);o&&(!s||s.queryTime!==o.queryTime||s.seatCount!==o.seatCount)?r.push(o):s&&r.push(s)}),r}const R6={idx:-1,key:""};function s_(){const e=_o(),t=I.useRef(R6);I.useEffect(()=>{const n=window.history.state;(!n||n.idx>=t.current.idx)&&window.scrollTo(0,0),t.current=n??R6},[e.pathname]),Yq()}function P6(){return s_(),h.jsxs(h.Fragment,{children:[h.jsx(xr,{children:h.jsx("title",{children:"ALLCLL"})}),h.jsx(Zw,{}),h.jsx(Qw,{}),h.jsx(xT,{}),h.jsx(ow,{}),h.jsx(e_,{})]})}function Zq(e){const t=Js({queryKey:["serviceSemester"],queryFn:eV,staleTime:1/0,select:r=>r?{...r,services:r.services.map(tV)}:null});if(!e||!t.data)return t;const n=t.data.services.find(r=>r.id===e);return{...t,data:{code:t.data.code,semester:t.data.semester,service:n}}}const eV=async()=>nV,tV=e=>{const t=new Date,n=new Date(e.startDate),r=new Date(e.endDate);n.setHours(0,0,0,0),r.setHours(23,59,59,999);const i=n<=t&&t<=r;return{id:e.id,startDate:n,endDate:r,withinPeriod:i,startDateStr:e.startDate,endDateStr:e.endDate,message:e.message}},nV={code:"WINTER-2025",semester:"2025-WINTER",services:[{id:"timetable",startDate:"2025-07-18",endDate:"2099-12-31",message:null},{id:"baskets",startDate:"2025-07-18",endDate:"2099-12-31",message:null},{id:"simulation",startDate:"2025-07-18",endDate:"2099-12-31",message:null},{id:"live",startDate:"2025-12-01",endDate:"2025-12-03",message:null},{id:"preSeat",startDate:"2025-08-16",endDate:"2025-09-30",message:null}]},rV=e=>I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:17.971202850341797,height:16.003124237060547,viewBox:"0 0 17.971202850341797 16.003124237060547",...e},I.createElement("g",{transform:"matrix(1,0,0,-1,0,32.006248474121094)"},I.createElement("path",{d:"M17.9688,24.003124237060547Q17.9376,23.596874237060547,17.6568,23.315624237060547Q17.3761,23.034374237060547,16.9705,23.003124237060547L15.9723,23.003124237060547L16.0035,18.003124237060547Q15.9723,17.878124237060547,15.9723,17.753124237060547L15.9723,17.253124237060547Q15.9723,16.721874237060547,15.5979,16.378124237060547Q15.2548,16.003124237060547,14.7244,16.003124237060547L14.2253,16.003124237060547Q14.1629,16.003124237060547,14.1317,16.003124237060547Q14.0693,16.003124237060547,14.0069,16.003124237060547L12.9775,16.003124237060547L12.2288,16.003124237060547Q11.6984,16.003124237060547,11.3553,16.378124237060547Q10.9809,16.721874237060547,10.9809,17.253124237060547L10.9809,18.003124237060547L10.9809,20.003124237060547Q10.9809,20.440624237060547,10.7002,20.721874237060547Q10.4194,21.003124237060547,9.98267,21.003124237060547L7.98614,21.003124237060547Q7.54939,21.003124237060547,7.26863,20.721874237060547Q6.98787,20.440624237060547,6.98787,20.003124237060547L6.98787,18.003124237060547L6.98787,17.253124237060547Q6.98787,16.721874237060547,6.61352,16.378124237060547Q6.27036,16.003124237060547,5.74003,16.003124237060547L4.99133,16.003124237060547L3.99307,16.003124237060547Q3.96187,16.003124237060547,3.93068,16.003124237060547Q3.89948,16.003124237060547,3.86828,16.003124237060547Q3.80589,16.003124237060547,3.7435,16.003124237060547L3.24437,16.003124237060547Q2.71404,16.003124237060547,2.37088,16.378124237060547Q1.99653,16.721874237060547,1.99653,17.253124237060547L1.99653,20.753124237060547Q1.99653,20.784374237060547,1.99653,20.846874237060547L1.99653,23.003124237060547L0.998267,23.003124237060547Q0.561525,23.034374237060547,0.280763,23.315624237060547Q0,23.596874237060547,0,24.034374237060547Q0,24.440624237060547,0.311958,24.784374237060547L8.29809,31.753124237060547Q8.64125,32.034324237060545,8.9844,32.00312423706055Q9.35875,32.00312423706055,9.63952,31.78442423706055L17.6257,24.753124237060547Q18,24.440624237060547,17.9688,24.003124237060547Z",fill:"#FFFFFF",fillOpacity:1,style:{mixBlendMode:"passthrough"}})));function iV({data:e}){const t=e.service?.endDate&&e.service.endDate<new Date;return h.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-100 px-4",children:h.jsxs("main",{className:"text-center",children:[h.jsx("h1",{className:"text-3xl mb-4 font-bold text-gray-900",children:t?"  ":" "}),h.jsxs("p",{className:"text-gray-600 mt-2",children:["    ",h.jsx("br",{}),"      ."]}),h.jsxs("div",{className:"mt-6 bg-white shadow-lg rounded-lg p-6 w-full max-w-md",children:[t?h.jsxs(h.Fragment,{children:[h.jsxs("h2",{className:"text-lg font-semibold text-gray-900",children:[e.semester,"  "]}),h.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"     "}),h.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"    "})]}):h.jsxs(h.Fragment,{children:[h.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"   "}),h.jsxs("p",{className:"text-gray-600 mt-1",children:[e.semester," "]}),h.jsxs("p",{className:"text-gray-500 text-sm mt-1",children:[e.service?.startDateStr," ~ ",e.service?.endDateStr]})]}),h.jsx("hr",{className:"my-4 border-gray-200"}),h.jsx("h3",{className:"text-md font-semibold text-gray-900",children:""}),h.jsx("p",{className:"text-gray-600 flex items-center justify-center gap-2 mt-2",children:"allcllclla@google.com"}),h.jsx("a",{className:"text-gray-600 flex items-center justify-center gap-2 mt-1 hover:text-blue-500 hover:underline",href:"https://forms.gle/bCDTVujEHunnvHe88",target:"_blank",children:"  "}),h.jsx("a",{className:"text-gray-600 flex items-center justify-center gap-2 mt-1 hover:text-blue-500 hover:underline",href:"https://open.kakao.com/o/g3MztXfh",target:"_blank",children:" "})]}),h.jsx("div",{className:"flex flex-col items-center justify-center",children:h.jsxs(hi,{to:"/",className:"flex items-center gap-2 mt-6 px-6 py-3 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 cursor-pointer",children:[h.jsx(rV,{className:"w-4 h-4"}),"  "]})})]})})}function ST({serviceId:e,children:t}){const{data:n,error:r}=Zq(e);return r&&console.error("Semester service error:",r),!n||!("service"in n)||!n.service||n.service.withinPeriod?t:h.jsx(iV,{data:n})}function O6({serviceId:e}){return s_(),h.jsxs(h.Fragment,{children:[h.jsx(Zw,{}),h.jsx(Qw,{}),h.jsxs(ST,{serviceId:e,children:[h.jsx(xT,{}),h.jsx(ow,{})]}),h.jsx(e_,{})]})}const sV=[{name:"  ",children:[{name:"  ",children:[{name:"",path:"/simulation"},{name:" ",path:"/simulation/logs"},{name:" ",path:"/simulation/admin"},{name:" ",path:"#"},{name:"/ ",path:"#"},{name:"/",path:"#"},{name:"(,)",path:"#"}]}]}];function oV(){const[e,t]=I.useState(!0),[n]=I.useState(/Android|iPhone/i.test(navigator.userAgent)),r=()=>{t(i=>!i)};return h.jsx("aside",{className:(e?"relative z-10":"relative bg-blue-50 z-10")+(!e||n?" w-[20px] min-w-[20px] h-[calc(100vh-60px)]":" w-[230px] min-w-[230px]"),children:e?h.jsxs("div",{className:n?"absolute w-[300px] min-w-[300px] h-full bg-white shadow-gray-800 shadow-md":"bg-white",children:[h.jsxs("div",{className:"h-12 bg-blue-500 text-white text-lg font-semibold flex items-center justify-between px-4",children:[h.jsx("span",{children:""}),h.jsx("button",{className:"text-white hover:text-gray-200 cursor-pointer",onClick:r,children:"<"})]}),h.jsx("ul",{className:"flex flex-col text-sm",children:sV.map((i,s)=>h.jsx(aV,{menu:i},s))})]}):h.jsx("div",{children:h.jsx("button",{className:"w-full h-12 bg-blue-500 text-white text-lg font-semibold text-center cursor-pointer hover:text-gray-200",onClick:r,children:">"})})})}const CT=!0;function aV({menu:e}){const[t,n]=I.useState(CT);return h.jsxs("li",{children:[h.jsxs("button",{className:"px-4 py-2 h-12 flex items-center justify-between w-full border-b border-neutral-300 cursor-pointer hover:bg-gray-100 "+(t?"font-semibold":"font-normal"),onClick:()=>n(r=>!r),children:[e.name,e.children&&h.jsx("span",{className:"ml-auto text-gray-500",children:t?"":""})]}),t&&e.children&&h.jsx("ul",{className:"",children:e.children.map((r,i)=>h.jsx(lV,{menu:r},i))})]})}function lV({menu:e}){const[t,n]=I.useState(CT);return h.jsxs("li",{className:"",children:[h.jsxs("button",{className:"px-4 py-2 h-10 flex items-center gap-4 w-full border-b border-neutral-300 cursor-pointer hover:bg-gray-100 "+(t?"font-semibold":"font-normal"),onClick:()=>n(r=>!r),children:[h.jsx("span",{children:t?"-":"+"}),h.jsx("span",{children:e.name})]}),t&&e.children&&h.jsx("ul",{className:"ml-1 pl-4 bg-neutral-100 font-semibold",children:e.children.map((r,i)=>h.jsx(cV,{menu:r},i))})]})}function cV({menu:e}){return h.jsx("li",{children:e.path==="#"?h.jsx("div",{className:"block px-2 py-2 text-xs text-gray-400 cursor-not-allowed",children:e.name}):h.jsx(Uc,{to:e.path??"#",className:({isActive:t})=>`block px-2 py-2 text-xs cursor-pointer hover:bg-blue-500 hover:text-white ${t?"bg-blue-500 text-white":""}`,end:!0,children:e.name})})}const B0=Fr(e=>({tabs:[],setTab:t=>{e(({tabs:n})=>{const r=n.findIndex(i=>i.urlPath===t.urlPath);return r!==-1?n[r]=t:n.push(t),{tabs:[...n]}})},deleteTab:(t,n)=>{e(({tabs:r})=>{const i=r.filter(l=>l.urlPath!==t&&l.realUrl!==t),s=i.length?[...i]:[uV],o=window.location.pathname.replace(/\d+/,""),a=t===o?s[s.length-1]:null;return a&&n(a.realUrl,{replace:!0}),{tabs:s}})}})),s2=[{title:"",urlPath:"/simulation"},{title:" ",urlPath:"/simulation/logs"},{title:" ",urlPath:"/simulation/logs/"},{title:" ",urlPath:"/simulation/interest"},{title:" ",urlPath:"/simulation/admin"}],uV={...s2[0],realUrl:s2[0].urlPath};function dV(){const e=o1(),t=_o(),n=B0(i=>i.tabs),r=B0(i=>i.setTab);I.useEffect(()=>{if(n.length===0){const i=M6(t);r(i),e(i.realUrl)}},[n]),I.useEffect(()=>{r(M6(t))},[t.pathname])}function M6(e){const t=e.pathname.replace(/\d+/,"");return{title:s2.find(n=>n.urlPath===t)?.title||"   ",urlPath:t,realUrl:e.pathname}}function fV(){const e=B0(r=>r.tabs),t=B0(r=>r.deleteTab),n=o1();return dV(),h.jsx("div",{className:"flex border-b border-neutral-300 bg-gray-100 text-sm h-12",children:e.map(r=>h.jsxs(Uc,{to:r.realUrl,className:({isActive:i})=>"px-2.5 flex items-center gap-2.5 w-1/4 sm:w-1/8 border-r-1 border-r-neutral-300 cursor-pointer"+(i?" mb-[-1px] bg-white border-b-2 border-b-white border-t-4 border-t-blue-500 font-semibold text-blue-500":" text-gray-500 hover:bg-white"),end:!0,children:[h.jsx("span",{className:"flex-1 text-center overflow-hidden text-ellipsis text-nowrap",children:r.title}),h.jsx("button",{className:"w-4 text-gray-700 cursor-pointer",onClick:i=>{i.preventDefault(),i.stopPropagation(),t(r.urlPath,n)},children:"x"})]},r.urlPath))})}function hV(){return s_(),h.jsxs(h.Fragment,{children:[h.jsx(Zw,{}),h.jsx(Qw,{}),h.jsx(ST,{serviceId:"simulation",children:h.jsx("div",{className:"w-full bg-white text-sm text-gray-800 font-sans",children:h.jsxs("div",{className:"flex",children:[h.jsx(oV,{}),h.jsxs("div",{className:"flex-auto min-w-0",children:[h.jsx(fV,{}),h.jsx("main",{className:"flex-1 p-4 space-y-4 mx-auto max-w-screen-2xl overflow-x-hidden",children:h.jsx(ow,{})})]})]})})}),h.jsx(e_,{})]})}function Kc({bgColor:e,className:t,children:n}){const r=e??"even:bg-white ",i=t?` ${t}`:"";return h.jsx("section",{className:r,children:h.jsx("div",{className:`mx-auto max-w-7xl px-4 md:px-8 py-10 ${i}`,children:n})})}const kT=e=>I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:15.75,height:18,viewBox:"0 0 15.75 18",...e},I.createElement("defs",null,I.createElement("clipPath",{id:"master_svg0_85_3269"},I.createElement("rect",{x:0,y:0,width:15.75,height:18,rx:0}))),I.createElement("g",{clipPath:"url(#master_svg0_85_3269)"},I.createElement("g",{transform:"matrix(1,0,0,-1,0,32.2734375)"},I.createElement("g",null,I.createElement("path",{d:"M15.4336,22.07812875Q15.75,22.42968875,15.75,22.88671875Q15.75,23.34374875,15.4336,23.69530875L9.80859,29.32031875Q9.45703,29.63671875,9,29.63671875Q8.54297,29.63671875,8.19141,29.32031875Q7.875,28.96871875,7.875,28.51171875Q7.875,28.05471875,8.19141,27.70311875L11.918,24.01171875L1.125,24.01171875Q0.632812,24.01171875,0.316406,23.69530875Q0,23.37890875,0,22.88671875Q0,22.39452875,0.316406,22.07812875Q0.632812,21.76171875,1.125,21.76171875L11.918,21.76171875L8.19141,18.07030875Q7.875,17.71874875,7.875,17.26171875Q7.875,16.80468775,8.19141,16.45312475Q8.54297,16.13671875,9,16.13671875Q9.45703,16.13671875,9.80859,16.45312475L15.4336,22.07812875Z",fill:"#FFFFFF",fillOpacity:1,style:{mixBlendMode:"passthrough"}}))))),pV=e=>I.createElement("svg",{width:16,height:15,viewBox:"0 0 16 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},I.createElement("path",{d:"M15.4336 8.19531C15.6445 7.96094 15.75 7.69141 15.75 7.38672C15.75 7.08203 15.6445 6.8125 15.4336 6.57812L9.80859 0.953125C9.57422 0.742191 9.30469 0.636719 9 0.636719C8.69531 0.636719 8.42578 0.742191 8.19141 0.953125C7.98047 1.18752 7.875 1.45705 7.875 1.76172C7.875 2.06639 7.98047 2.33591 8.19141 2.57031L11.918 6.26172H1.125C0.796875 6.26172 0.527344 6.36719 0.316406 6.57812C0.105469 6.78906 0 7.05859 0 7.38672C0 7.71485 0.105469 7.98438 0.316406 8.19531C0.527344 8.40625 0.796875 8.51172 1.125 8.51172H11.918L8.19141 12.2031C7.98047 12.4375 7.875 12.707 7.875 13.0117C7.875 13.3164 7.98047 13.5859 8.19141 13.8203C8.42578 14.0312 8.69531 14.1367 9 14.1367C9.30469 14.1367 9.57422 14.0312 9.80859 13.8203L15.4336 8.19531Z",fill:"#007AFF"})),A6="",D6="2025",mV="12 1()",gV="12 3()";function yV(){return h.jsxs(Kc,{className:"flex flex-col md:flex-row items-center justify-between",bgColor:"bg-banner-skysoft",children:[h.jsxs("div",{className:"max-w-xl",children:[h.jsxs("div",{className:"flex flex-row gap-2 items-center",children:[h.jsx("img",{src:"/calendar.png",alt:"calendar",className:"w-10 h-10"}),h.jsxs("span",{className:"italic text-xs text-stone-500 ",children:[D6," ",A6,"    ",h.jsx("br",{})," ",mV," ~ ",gV]})]}),h.jsxs("h2",{className:"text-xl mt-10 sm:text-2xl md:text-4xl leading-snug font-bold mb-3 ",children:[D6," ",A6," ,"]}),h.jsxs("div",{className:"flex flex-row justify-start items-center text-xl sm:text-2xl md:text-4xl leading-snug font-bold mb-3",children:[h.jsx("img",{src:"/logo-name.svg",alt:"logo-name",className:"w-20 sm:w-32 md:w-40 lg:w-48 mr-2 animate-updown"})," !"]}),h.jsx("p",{className:"text-gray-400 mt-4",children:"    ,    ALLCLL  "}),h.jsxs("div",{className:"flex flex-col md:flex-row gap-4 ",children:[h.jsxs(hi,{to:"/live",className:"bg-blue-500 hover:bg-blue-600 text-white rounded-md px-6 py-3 mt-6 flex items-center gap-2 w-fit",children:["  ",h.jsx(kT,{className:"w-4 h-4"})]}),h.jsxs(hi,{to:"/simulation",className:"bg-white hover:bg-gray-100 text-blue-500 rounded-md px-6 py-3 mt-6 flex items-center gap-2 w-fit",children:["  ",h.jsx(pV,{className:"w-4 h-4"})]})]})]}),h.jsx("img",{src:"/summer-banner.png",alt:"summer-banner",className:"w-90 hidden sm:block  mt-8 md:mt-4"})]})}const vV=e=>I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:15,height:15,viewBox:"0 0 15 15",...e},I.createElement("g",{transform:"matrix(1,0,0,-1,0,30)"},I.createElement("path",{d:"M10.3125,30Q9.69727,29.9707,9.43359,29.414099999999998Q9.22852,28.8574,9.63867,28.3887L10.8691,27.1875L5.88867,22.23633Q5.625,21.94336,5.625,21.5625Q5.625,21.18164,5.88867,20.88867Q6.18164,20.625,6.5625,20.625Q6.94336,20.625,7.23633,20.88867L12.1875,25.8691L13.3887,24.638669999999998Q13.8574,24.22852,14.4141,24.433590000000002Q14.9707,24.69727,15,25.3125L15,29.0625Q15,29.4727,14.7363,29.7363Q14.4727,30,14.0625,30L10.3125,30ZM2.34375,29.0625Q1.34766,29.0332,0.673828,28.3887Q0.0292969,27.7148,0,26.7188L0,17.34375Q0.0292969,16.34766,0.673828,15.673828Q1.34766,15.0292969,2.34375,15L11.7188,15Q12.7148,15.0292969,13.3887,15.673828Q14.0332,16.34766,14.0625,17.34375L14.0625,20.625Q14.0625,21.03516,13.7988,21.29883Q13.5352,21.5625,13.125,21.5625Q12.7148,21.5625,12.4512,21.29883Q12.1875,21.03516,12.1875,20.625L12.1875,17.34375Q12.1582,16.9043,11.7188,16.875L2.34375,16.875Q1.9043,16.9043,1.875,17.34375L1.875,26.7188Q1.9043,27.1582,2.34375,27.1875L5.625,27.1875Q6.03516,27.1875,6.29883,27.4512Q6.5625,27.7148,6.5625,28.125Q6.5625,28.5352,6.29883,28.7988Q6.03516,29.0625,5.625,29.0625L2.34375,29.0625Z",fill:"#007AFF",fillOpacity:1,style:{mixBlendMode:"passthrough"}})));function N1({title:e,subtitle:t,href:n,disabled:r=!1}){const i=!!n&&!r;return h.jsxs(h.Fragment,{children:[i?h.jsxs(hi,{to:n,className:"flex items-center gap-2 hover:underline focus:underline",children:[h.jsx("h2",{className:"text-2xl font-semibold",children:e}),h.jsx(vV,{className:"w-4 h-4"})]}):h.jsx("h2",{className:"text-2xl font-semibold",children:e}),t&&h.jsx("h3",{className:"text-gray-500",children:t})]})}function z0({children:e,className:t,...n}){return h.jsx("div",{className:"bg-white p-3 rounded-md text-sm shadow-md shadow-gray-300 "+t,...n,children:e})}function ET(e,t){const n=kt(u=>u.options),[r,i]=I.useState({dragging:!1,startX:0,startY:0}),s=I.useCallback(u=>{u.stopPropagation();const{x:f,y:p}=dg(u,n);e&&e(f,p,f,p),i({startX:f,startY:p,dragging:!0})},[e]),o=u=>{u.stopPropagation();const{x:f,y:p}=dg(u,n);t&&t(r.startX,r.startY,f,p),i(g=>({...g,dragging:!1}))},a=u=>{u.stopPropagation();const{x:f,y:p}=dg(u,n);e&&e(r.startX,r.startY,f,p)},l=u=>{u.stopPropagation();const f=u.touches[0],{x:p,y:g}=dg(f,n);e&&e(r.startX,r.startY,p,g)};return I.useEffect(()=>{if(r.dragging)return document.addEventListener("mouseup",o),document.addEventListener("touchmove",l),document.addEventListener("mousemove",a),()=>{document.removeEventListener("mouseup",o),document.removeEventListener("touchmove",l),document.removeEventListener("mousemove",a)}},[r,e,t]),{dragging:r.dragging,onMouseDown:s}}const L6=6;function dg(e,t){const{tableX:n,tableY:r,width:i,height:s,cols:o,rows:a}=t,{pageX:l,pageY:u}=e,f=i/o||1,p=s/a||1,g=Math.floor((l-n)/f),y=Math.floor((u-r)/p*L6)/L6,b=Math.max(0,Math.min(o-1,g)),_=Math.max(0,Math.min(a,y));return{x:b,y:_}}function xV(e){return new Promise(t=>setTimeout(t,e))}function TT(e,t=9){const n=t*60,r=new Date,i=new Date(e);return i.setMonth(i.getMonth()-n-r.getTimezoneOffset()),i}class zu{time;constructor(t){switch(typeof t){case"string":const[r,i]=t.split(":").map(Number);this.time=r*60+i;break;case"object":const{hours:s,minutes:o}=t;this.time=s*60+o;break;case"number":this.time=t;break}if(isNaN(this.time)||this.time<0||this.time>=1440)throw this.time=0,new Error("Invalid time value")}toObject(){const t=Math.floor(this.time/60),n=this.time%60;return{hours:t,minutes:n}}toString(){const{hours:t,minutes:n}=this.toObject(),r=t.toString().padStart(2,"0"),i=n.toString().padStart(2,"0");return`${r}:${i}`}compare(t){const n=this.time-t.time;return n===0?0:n>0?1:-1}}const o_={timeTableId:-1,timeTableName:" ",semester:"",schedules:[]},bV=async()=>await da("/api/timetables"),jT=()=>{const e=kt(r=>r.pickTimetable),t=kt(r=>r.currentTimetable);return Js({queryKey:["timetableList"],queryFn:bV,select:r=>{const{timeTables:i}=r;if(!i.some(o=>o.timeTableId===t?.timeTableId)){e(i[i.length-1]);return}if(i.length<=0&&t.timeTableId!==-1){e({timeTableId:-1,timeTableName:" ",semester:""});return}return i},staleTime:1e3*60*5})};function I1(e){const{data:t}=Cs();return Js({queryKey:["timetableData",e],queryFn:async()=>!e||e<=0?{timetableId:-1,timetableName:" ",semester:"",schedules:[]}:await da(`/api/timetables/${e}/schedules`),select:r=>kV(r,t),refetchOnWindowFocus:!1,staleTime:1e3*60*5})}function wV(){const e=ns(),{currentTimetable:t,pickTimetable:n}=kt.getState();return vl({mutationFn:async({timeTableId:r,timeTableName:i})=>await da(`/api/timetables/${r}`,{method:"PATCH",body:JSON.stringify({timeTableName:i})}),onMutate:async({timeTableId:r})=>(await e.cancelQueries({queryKey:["timetableList",r]}),{timeTableId:r}),onSuccess:async(r,i,s)=>{const o=s?.timeTableId;t?.timeTableId===o&&n({timeTableId:r.timeTableId,timeTableName:r.timeTableName,semester:r.semester}),await e.invalidateQueries({queryKey:["timetableList"]}),await e.invalidateQueries({queryKey:["timetableList",o]})},onError:async(r,i,s)=>{console.error(`   (id: ${s?.timeTableId})`,r),await e.invalidateQueries({queryKey:["timetableList"]}),await e.invalidateQueries({queryKey:["timetableList",s?.timeTableId]})}})}function NT(){const e=ns(),t=kt(n=>n.pickTimetable);return vl({mutationFn:async n=>await E1(`/api/timetables/${n}`,{method:"DELETE"}),onMutate:async n=>(await e.cancelQueries({queryKey:["timetableList"]}),await e.cancelQueries({queryKey:["timetableData",n]}),{timeTableId:n}),onError:async(n,r,i)=>{console.error(`   (id: ${i?.timeTableId})`,n),await e.invalidateQueries({queryKey:["timetableList",i?.timeTableId]}),await e.invalidateQueries({queryKey:["timetableList"]})},onSuccess:async(n,r,i)=>{const{timeTables:s}=e.getQueryData(["timetableList"]);if(s&&s.length>1&&i?.timeTableId){const o=s.filter(l=>l.timeTableId!==i.timeTableId),a=o[o.length-1];t({timeTableId:a.timeTableId,timeTableName:a.timeTableName,semester:a.semester})}else t({timeTableId:-1,timeTableName:" ",semester:""});await e.invalidateQueries({queryKey:["timetableList"]}),await e.invalidateQueries({queryKey:["timetableData",i?.timeTableId]})}})}function IT(){const e=ns();return vl({mutationFn:async({timeTableName:t,semester:n})=>await da("/api/timetables",{method:"POST",body:JSON.stringify({timeTableName:t,semester:n})}),onMutate:async({timeTableName:t,semester:n})=>{await e.cancelQueries({queryKey:["timetableList"]});const{timeTables:r}=e.getQueryData(["timetableList"])??{},i={timeTableId:-1,timeTableName:t,semester:n};if(r){const s=[...r,i];e.setQueryData(["timetableList"],{timeTables:s}),r.push(i)}return{previousTimetables:r}},onSuccess:async t=>{const{pickTimetable:n}=kt.getState();n({timeTableId:t.timeTableId,timeTableName:t.timeTableName,semester:t.semester}),await e.invalidateQueries({queryKey:["timetableList"]})},onError:async t=>{try{const n=JSON.parse(t.message);alert(n.message)}catch{alert("Error adding Timetable")}await e.invalidateQueries({queryKey:["timetableList"]})}})}function _V(e){const t=ns(),n=kt(i=>i.changeScheduleData),{mutateAsync:r}=IT();return vl({mutationFn:async({schedule:i})=>{let s=e;if(!e||e<=0){const a=await r({timeTableName:" ",semester:"2025-2"});s=a.timeTableId,t.setQueryData(["timetableData",s],{timetableId:s,timetableName:a.timeTableName,semester:a.semester,schedules:[i]}),await xV(300)}return{schedule:await da(`/api/timetables/${s}/schedules`,{method:"POST",body:JSON.stringify(i)}),targetTimetableId:s}},onMutate:async i=>{const s=t.getQueryData(["timetableData",e])??{...o_};return e&&e>0&&(await t.cancelQueries({queryKey:["timetableData",e]}),t.setQueryData(["timetableData",e],{...s,schedules:[...s.schedules,i.schedule]}),n(new mi().toUiData(),pr.NONE)),{...i,prevTimetableSchedules:s}},onError:(i,s,o)=>{t.setQueryData(["timetableData",e],o?.prevTimetableSchedules),console.error(i)},onSuccess:async({schedule:i,targetTimetableId:s},o,a)=>{const l=t.getQueryData(["timetableData",s]);n(new mi().toUiData(),pr.NONE),t.setQueryData(["timetableData",s],{...l,schedules:l?.schedules.map(u=>u.scheduleId===a.schedule.scheduleId?i:u)})}})}function SV(e){const t=ns();return vl({mutationFn:async({schedule:n})=>await da(`/api/timetables/${e}/schedules/${n.scheduleId}`,{method:"PATCH",body:JSON.stringify(n)}),onMutate:async n=>{const r=t.getQueryData(["timetableData",e])??{...o_};return await t.cancelQueries({queryKey:["timetableData",e]}),{...n,prevTimetableSchedules:r}},onError:(n,r,i)=>{t.setQueryData(["timetableData",e],i?.prevTimetableSchedules),console.error(n)},onSuccess:async(n,r,i)=>{if(!i?.prevTimetableSchedules){await t.invalidateQueries({queryKey:["timetableList"]}),await t.invalidateQueries({queryKey:["timetableData",e]});return}t.setQueryData(["timetableData",e],{...i.prevTimetableSchedules,schedules:i.prevTimetableSchedules.schedules.map(s=>s.scheduleId===n.scheduleId?{...s,...n}:s)})}})}function CV(e){const t=ns();return vl({mutationFn:async({schedule:n})=>await Uq(`/api/timetables/${e}/schedules/${n.scheduleId}`,{scheduleType:n.scheduleType}),onMutate:async n=>{const r=t.getQueryData(["timetableData",e])??{...o_};return await t.cancelQueries({queryKey:["timetableData",e]}),{...n,prevTimetableSchedules:r}},onError:(n,r,i)=>{t.setQueryData(["timetableData",e],i?.prevTimetableSchedules),console.error(n)},onSuccess:async(n,{schedule:r},i)=>{if(console.log("  ! timetableId:",e),!i?.prevTimetableSchedules){await t.invalidateQueries({queryKey:["timetableList"]}),await t.invalidateQueries({queryKey:["timetableData",e]});return}console.log("  !   . timetableId:",e,i.prevTimetableSchedules),t.setQueryData(["timetableData",e],{...i.prevTimetableSchedules,schedules:i.prevTimetableSchedules.schedules.filter(s=>s.scheduleId!==r.scheduleId)}),await t.invalidateQueries({queryKey:["timetableData",e]})}})}function kV(e,t){if(!e||!t)return[];const{schedules:n}=e;return n.map(r=>new mi(r,t).toUiData())}function RT(e,t=9){const n=kt(a=>a.schedule),r=kt(a=>a.mode),i=["rose","amber","green","emerald","blue","violet"],s={};if(!e)return;let o=e;return(r===pr.EDIT||r===pr.VIEW)&&(o=e.map(a=>a.scheduleId===n.scheduleId?n:a)),o.forEach((a,l)=>{const u=a.isDeleted?"gray":i[l%i.length],{subjectName:f,professorName:p,location:g}=a;new Qd(a.timeSlots).toUiData(t).forEach(b=>{s[b.dayOfWeek]||(s[b.dayOfWeek]=[]),s[b.dayOfWeek].push({title:f,professor:p,location:g,schedule:a,color:u,...b})})}),Object.keys(s).forEach(a=>{s[a]=EV(s[a])}),s}function EV(e){const n=kt.getState().options.isMobile?8:16,r=o=>parseFloat(o.replace("px",""));return e.sort((o,a)=>{const l=r(o.height);return r(a.height)-l}).reduce((o,a)=>{const l=r(a.top),u=l+r(a.height),p=o.reduce((g,y)=>{const b=r(y.top),_=b+r(y.height);return b<=l&&l<_||b<u&&u<=_?Math.max(g,y.depth):g},-1)+1;return[...o,{...a,depth:p}]},[]).map(o=>{const a=n*o.depth;return{...o,left:`${a}px`,right:"0px",height:o.height,top:o.top}})}function TV(e){const t=kt(i=>i.schedule),n=kt(i=>i.mode);if(!e)return[];const r=e.filter(i=>i.timeSlots===null||i.timeSlots.length===0);return n===pr.NONE||t.timeSlots.length>0?r.map(i=>({...i,selected:!1})):t.scheduleId<=0?[...r.map(i=>({...i,selected:!1})),{...t,selected:!0}]:r.map(i=>({...i,selected:i.scheduleId===t.scheduleId}))}const vo=Fr((e,t)=>({type:null,openBottomSheet:(n,r)=>{e({type:n,props:r})},closeBottomSheet:n=>{const r=t().type;(!n||r===n)&&e({type:null,props:void 0})},resetBottomSheet:()=>{e({type:null})}})),dx=()=>new mi().toUiData();let fx;function Jr(){const e=ns(),t=kt(C=>C.changeScheduleData),r=kt(C=>C.currentTimetable)?.timeTableId??-1,i=vo(C=>C.openBottomSheet),s=vo(C=>C.closeBottomSheet),[,o]=I.useTransition(),{mutate:a}=_V(r),{mutate:l}=SV(r),{mutate:u}=CV(r);return{setOptimisticSchedule:C=>{o(()=>t(C,pr.NONE))},openScheduleModal:C=>{fx=e.getQueryData(["timetableData",r]);let k;!C.scheduleId||C.scheduleId<=0?(k=pr.CREATE,C.scheduleType!=="official"&&i("edit")):C.scheduleType==="official"?(k=pr.VIEW,console.log(fx),i("Info")):(k=pr.EDIT,i("edit")),t(C,k)},editSchedule:C=>{const k=kt.getState().schedule;let R=C instanceof Function?C(k):C;t(R)},saveSchedule:(C,k=!0)=>{const R=kt.getState().schedule,O=kt.getState().mode;if(C&&C.preventDefault(),!new Qd(R.timeSlots).validate()){alert("       .");return}const z=R.timeSlots.length!==0;if(R.scheduleType==="custom"&&!z){alert(" !.");return}const A=new mi(R).toApiData();O===pr.CREATE?(A.scheduleId=NV(fx?.schedules??[]),a({schedule:A})):O===pr.EDIT&&(l({schedule:A}),t({...dx()},pr.NONE)),k&&s("edit")},deleteSchedule:C=>{const k=kt.getState().schedule;C&&C.preventDefault();const R=new mi(k).toApiData();u({schedule:R}),t({...dx()},pr.NONE),s()},cancelSchedule:(C,k=!0)=>{C&&C.preventDefault(),t({...dx()},pr.NONE),k&&s()}}}function xp(){const e=kt(n=>n.mode),t=kt(n=>n.schedule);return{modalActionType:e,schedule:t}}function jV(){const{minTime:e}=kt(n=>n.options);return{getTimeslot:(n,r,i)=>{n>r&&([n,r]=[r,n]),i!==void 0&&r-n<i&&(r=n+i);const s=F6(e,n),o=F6(e,r);return{startTime:s,endTime:o}}}}function F6(e,t){const n=e+Math.floor(t),r=Math.floor((t-Math.floor(t))*60);return n<0?"00:00":n>23?"23:50":`${n.toString().padStart(2,"0")}:${r.toString().padStart(2,"0")}`}function NV(e){let t=-Math.floor(Math.random()*1e6);for(;e.some(n=>n.scheduleId===t);)t=-Math.floor(Math.random()*1e6);return t}function PT({title:e,professor:t,location:n,color:r="blue",schedule:i,selected:s=!1,timeslotIndex:o,fixed:a=!1,...l}){const{text:u,bgLight:f,bg:p}=IV(r),g=I.useRef(null),{openScheduleModal:y}=Jr(),b=kt(z=>z.schedule),_=s||b.scheduleId===i.scheduleId,C=(z,j,A,B)=>{if(!g.current||a)return;const U=A-z,D=(B-j)*qh;g.current.style.setProperty("transform",`translate(calc(100% * ${U}), ${D}px)`)},k=(z,j,A,B)=>{if(!g.current||a)return;i.scheduleType==="official"&&g.current.style.setProperty("transform","");const U={...i,timeSlots:i.timeSlots.map((D,Z)=>Z!==o?D:WV(D,A-z,B-j))};y(U),g.current.style.setProperty("transform","")},R=z=>{(z.key==="Enter"||z.key===" ")&&(z.preventDefault(),z.stopPropagation(),k(0,0,0,0))},{dragging:O,onMouseDown:$}=ET(C,k);return h.jsxs("div",{ref:g,className:`flex absolute ${f} rounded-l-xs cursor-pointer hover:z-20 focus:z-20 `+l.className,onMouseDown:$,onKeyDown:R,tabIndex:0,...l,children:[h.jsx("div",{className:`w-[2px] h-full sm:w-1 sm:rounded-xs  ${p}`}),h.jsxs("div",{className:"flex-auto sm:p-2 p-[1px] "+(_?"animate-pulse":"")+(O?"opacity-50":""),children:[h.jsx("h3",{className:`${u} font-semibold text-[9px] sm:text-sm`,children:e}),h.jsxs("p",{className:"sm:text-xs text-[7px] text-gray-500",children:[t," ",n]})]})]})}function IV(e){switch(e){case"rose":return{text:"text-rose-500",bgLight:"bg-rose-50",bg:"bg-rose-500"};case"amber":return{text:"text-amber-500",bgLight:"bg-amber-50",bg:"bg-amber-500"};case"green":return{text:"text-green-500",bgLight:"bg-green-50",bg:"bg-green-500"};case"emerald":return{text:"text-emerald-500",bgLight:"bg-emerald-50",bg:"bg-emerald-500"};case"blue":return{text:"text-blue-500",bgLight:"bg-blue-50",bg:"bg-blue-500"};case"violet":return{text:"text-violet-500",bgLight:"bg-violet-50",bg:"bg-violet-500"};default:return{text:"text-gray-500",bgLight:"bg-gray-50",bg:"bg-gray-500"}}}function RV({dayOfWeeks:e}){const t=kt(p=>p.schedule),n=kt(p=>p.options),{data:r}=Cs();if(!r||t.scheduleId>0||!t.timeSlots||t.timeSlots.length<=0)return null;let i=parseInt(n.rowNames[0].replace("",""));Number.isNaN(i)&&(i=9);const s=new mi(t,r).toUiData(),a=new Qd(s.timeSlots).toUiData(i).filter(({dayOfWeek:p})=>p===e);if(!a)return null;const{subjectName:l,professorName:u,location:f}=s;return a.map(({height:p,top:g,left:y,right:b},_)=>h.jsx(PV,{timeslotIndex:_,title:l??"",professor:u??"",location:f??"",schedule:t,style:{height:p,top:g,left:y,right:b}},`wire-schedule-${e}-${_}`))}function PV({title:e,professor:t,location:n,...r}){const{timeslotIndex:i,...s}=r;return h.jsx("div",{className:`flex absolute rounded-md z-20 
      border-violet-500 border-2 md:border-4
      ${r.className}`,style:{...r.style},...s,children:h.jsxs("div",{className:"flex-auto p-2 bg-violet-50  rounded-md animate-pulse",children:[h.jsx("h3",{className:"text-violet-500 font-semibold  text-[10px] sm:text-sm",children:e}),h.jsxs("p",{className:" sm:text-xs text-[8px]  text-gray-500",children:[t," ",n]})]})})}const hx=()=>new mi().toUiData(),OV=({dayOfWeeks:e,scheduleTimes:t})=>{const n=t,{setOptimisticSchedule:r,openScheduleModal:i}=Jr(),{getTimeslot:s}=jV(),o=(f,p,g,y)=>{const{startTime:b,endTime:_}=s(p,y,1);r({...hx(),timeSlots:[{dayOfWeeks:e,startTime:b,endTime:_}]})},a=(f,p,g,y)=>{const{startTime:b,endTime:_}=s(p,y,1);i({...hx(),timeSlots:[{dayOfWeeks:e,startTime:b,endTime:_}]})},l=f=>{(f.key==="Enter"||f.key===" ")&&i({...hx()})},{onMouseDown:u}=ET(o,a);return h.jsxs("div",{className:"relative flex-auto px-[2px]",tabIndex:0,onMouseDown:u,onKeyDown:l,children:[h.jsx(RV,{dayOfWeeks:e}),n.map(({title:f,professor:p,location:g,color:y,height:b,top:_,left:C,right:k,schedule:R},O)=>h.jsx(PT,{timeslotIndex:O,title:f,professor:p??"",location:g??"",schedule:R,color:y,style:{height:b,top:_,left:C,right:k}},"schedule-"+O))]})};function MV(){const e=kt(r=>r.currentTimetable?.timeTableId),{data:t}=I1(e),n=t?.reduce((r,i)=>{if(i.scheduleType!=="official"||!i.tmNum)return r;const s=i.tmNum.split("/").map(o=>{const a=Number(o);return isNaN(a)?0:a});return r.map((o,a)=>o+(s[a]??0))},[0,0,0])??[0,0,0];return h.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500 bg-blue-50 rounded-md p-2 mt-3",children:[h.jsxs("span",{children:[" : ",n[0]??0]}),h.jsxs("span",{children:[": ",n[1]??0]}),h.jsxs("span",{children:[": ",n[2]??0]})]})}const bp=e=>I.createElement("svg",{width:23,height:23,viewBox:"0 0 23 23",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},I.createElement("path",{d:"M10.3669 11.3356L7.94579 9.04443C7.8086 8.9146 7.73766 8.75936 7.733 8.57871C7.72833 8.39807 7.79059 8.23915 7.9198 8.10198C8.049 7.9648 8.20424 7.89386 8.38551 7.88918C8.56678 7.88449 8.7257 7.94676 8.86225 8.07598L11.2834 10.3671L13.5745 7.94599C13.7043 7.80879 13.8596 7.73786 14.0402 7.73319C14.2209 7.72852 14.3798 7.79079 14.517 7.91999C14.6541 8.04919 14.7252 8.20458 14.7302 8.38616C14.7352 8.56774 14.6728 8.7265 14.5429 8.86244L12.2518 11.2836L14.6729 13.5747C14.8101 13.7045 14.8812 13.8599 14.8862 14.0409C14.8912 14.2218 14.8288 14.3806 14.6989 14.5171C14.5691 14.6537 14.4137 14.7248 14.2328 14.7304C14.0518 14.736 13.8931 14.6736 13.7565 14.5431L11.3354 12.252L9.04423 14.6731C8.9144 14.8103 8.75901 14.8814 8.57806 14.8864C8.39711 14.8914 8.23835 14.829 8.10178 14.6991C7.96521 14.5693 7.89428 14.414 7.88898 14.2334C7.88369 14.0528 7.94595 13.8939 8.07578 13.7567L10.3669 11.3356Z",fill:"#6B7280"}));function AV(){const e=kt(r=>r.currentTimetable),{data:t}=I1(e?.timeTableId),n=TV(t);return h.jsx("div",{className:"flex flex-col gap-2 mt-3",children:n.map(r=>h.jsx(DV,{schedule:r,selected:r.selected},r.scheduleId))})}function DV({schedule:e,selected:t}){const{openScheduleModal:n}=Jr(),r=()=>{n(e)};return h.jsxs("div",{className:"h-10 w-full p-4 flex justify-between items-center rounded border "+(t?"bg-blue-100 border-blue-500":"border-gray-200"),children:[h.jsxs("div",{className:"flex gap-5",children:[h.jsx("p",{children:e.subjectName}),h.jsx("p",{className:"text-stone-400",children:e.professorName})]}),h.jsx("button",{type:"button",onClick:r,className:"cursor-pointer",children:h.jsx(bp,{className:"w-5 h-5"})})]},e.scheduleId)}const R1=["","","","","","",""];function LV(e){const t=kt(a=>a.schedule),n=kt(a=>a.setOptions),r=[...e??[],t],i=r.reduce((a,l)=>{let u=a;return l.timeSlots?(l.timeSlots.some(f=>f.dayOfWeeks==="")&&(u=Math.max(u,6)),l.timeSlots.some(f=>f.dayOfWeeks==="")&&(u=Math.max(u,7)),u):a},5),{minTime:s,maxTime:o}=r.reduce((a,l)=>(l.timeSlots.forEach(u=>{const f=parseInt(u.startTime.split(":")[0]),p=parseInt(u.endTime.split(":")[0]);isNaN(f)||isNaN(p)||(a.minTime=Math.min(a.minTime,f),a.maxTime=Math.max(a.maxTime,p))}),a),{minTime:9,maxTime:20});return I.useEffect(()=>{n({rowNames:Array.from({length:o-s+1},(a,l)=>`${s+l}`),minTime:s,maxTime:o,rows:o-s+1})},[s,o]),I.useEffect(()=>{n({colNames:R1.slice(0,i),cols:i})},[i]),{}}let px=null;const FV=e=>{const t=kt(r=>r.setOptions),n=()=>{if(!e.current)return;const r=e.current.getBoundingClientRect();t({width:r.width,height:r.height,tableX:r.left+window.pageXOffset,tableY:r.top+window.pageYOffset}),px=null};I.useEffect(()=>{if(!e.current)return;const r=()=>{px||(px=setTimeout(n,300),t({isMobile:window.innerWidth<768}))};return r(),window.addEventListener("resize",r),()=>{window.removeEventListener("resize",r)}},[e])};function BV(e){const t=I.useRef(!1),n=M0(r=>r.setBanner);I.useEffect(()=>{e?.some(i=>i.isDeleted)&&!t.current&&(t.current=!0,n("  !    "))},[e])}const qh=40;function zV(){const e=I.useRef(null),t=kt(n=>n.setOptions);return I.useEffect(()=>{t({containerRef:e?.current??null})},[e]),h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"bg-white",ref:e,children:[h.jsx(HV,{children:h.jsx(UV,{})}),h.jsx(AV,{})]}),h.jsx(MV,{})]})}const $V=R1.reduce((e,t)=>(e[t]=[],e),{});function UV(){const e=kt(s=>s.currentTimetable),{colNames:t,minTime:n}=kt(s=>s.options),{data:r}=I1(e?.timeTableId),i=RT(r,n)??$V;return BV(r),LV(r),t.map(s=>h.jsx(OV,{scheduleTimes:i[s]??[],dayOfWeeks:s},"day-schedule-"+s))}function HV({rowHeight:e=qh,children:t}){const{colNames:n,rowNames:r}=kt(i=>i.options);return h.jsx(OT,{colNames:n,rowNames:r,rowHeight:e,children:t})}class mi{data;constructor(t,n){if(!t){this.data=this.#t();return}if(t.scheduleType==="official"&&!t.subjectName){this.data=this.#e(t,n);return}this.data=t,this.data.timeSlots||(this.data.timeSlots=[])}#t(){return{scheduleId:-1,scheduleType:"custom",subjectId:null,subjectName:"",professorName:"",location:"",tmNum:"",isDeleted:!1,timeSlots:[]}}#e(t,n){if(!n)throw new TypeError("Subjects must be provided for API to UI conversion");const r=n instanceof Array?n.find(i=>i.subjectId===t.subjectId):n;return{scheduleId:t.scheduleId,scheduleType:t.scheduleType,subjectId:t.subjectId,subjectName:r?.subjectName??"",professorName:r?.professorName??"",location:r?.lesnRoom??"",tmNum:r?.tmNum??"",isDeleted:r?.isDeleted??!1,timeSlots:new Qd(r?.lesnTime).toApiData()}}toApiData(){const t=this.data;return t.scheduleType==="official"?{scheduleId:t.scheduleId,scheduleType:"official",subjectId:t.subjectId??0,subjectName:null,professorName:null,location:null,timeSlots:[]}:{...t,scheduleType:"custom",subjectId:null}}toUiData(){return this.data}}class Qd{data;constructor(t){if(!t){this.data=[];return}if(typeof t=="string"){this.data=this.#e(t);return}if(Array.isArray(t)){this.data=t.map(n=>this.#t(n));return}this.data=[this.#t(t)]}#t(t){const[n,r]=t.startTime.split(":"),[i,s]=t.endTime.split(":");return{dayOfWeeks:t.dayOfWeeks,startHour:parseInt(n),startMinute:parseInt(r),endHour:parseInt(i),endMinute:parseInt(s)}}#e(t){const n=/([]+)(\d{1,2}:\d{2})-(\d{1,2}:\d{2})/g,r=[];let i;for(;(i=n.exec(t))!==null;){const s=i[1],o=i[2],a=i[3],l=s.split("");for(const u of l)r.push(this.#t({dayOfWeeks:u,startTime:o,endTime:a}))}return r}validate(){return this.data.every(t=>{const{startHour:n,startMinute:r,endHour:i,endMinute:s}=t;return n<i||n===i&&r<s})}toApiData(){const t=n=>n.toString().padStart(2,"0");return this.data.map(n=>({dayOfWeeks:n.dayOfWeeks,startTime:`${t(n.startHour)}:${t(n.startMinute)}`,endTime:`${t(n.endHour)}:${t(n.endMinute)}`}))}toUiData(t){return this.data.map(({startHour:n,startMinute:r,endHour:i,endMinute:s,dayOfWeeks:o})=>{const a=(n*60+r)/60,l=(i*60+s)/60;return{dayOfWeek:o,depth:0,left:"0px",right:"0px",height:`${(l-a)*qh}px`,top:`${(a-t)*qh}px`}})}}function WV(e,t,n){const{dayOfWeeks:r,startTime:i,endTime:s}=e,[o,a]=i.split(":").map(Number),[l,u]=s.split(":").map(Number),f=Math.min(24,o+a/60+n),p=Math.min(24,l+u/60+n),g=Math.floor(f),y=Math.round((f-g)*60),b=Math.floor(p),_=Math.round((p-b)*60),C=["","","","","","",""],R=(C.indexOf(r)+t+C.length)%C.length;return{dayOfWeeks:C[R],startTime:`${g.toString().padStart(2,"0")}:${y.toString().padStart(2,"0")}`,endTime:`${b.toString().padStart(2,"0")}:${_.toString().padStart(2,"0")}`}}var pr=(e=>(e.NONE="none",e.CREATE="create",e.EDIT="edit",e.VIEW="view",e))(pr||{});const kt=Fr(e=>({currentTimetable:{timeTableId:-1,timeTableName:" ",semester:""},options:{containerRef:null,timetableRef:null,colNames:R1.slice(0,5),rowNames:Array.from({length:12},(t,n)=>`${n+9}`),minTime:9,maxTime:20,tableX:0,tableY:0,width:0,height:0,cols:5,rows:11,isMobile:!1},mode:"none",schedule:new mi().toUiData(),pickTimetable:t=>{e(n=>({...n,currentTimetable:t}))},setOptions:t=>{e(n=>({...n,options:{...n.options,...t}}))},changeScheduleData:(t,n)=>{e(r=>({...r,mode:n??r.mode,schedule:{...r.schedule,...t}}))}}));function OT({rowHeight:e=qh,colNames:t,rowNames:n,children:r}){const i=I.useRef(null),{isMobile:s}=kt(l=>l.options);FV(i);const{headerWidth:o,headerHeight:a}=s?{headerWidth:20,headerHeight:20}:{headerWidth:60,headerHeight:40};return h.jsxs("div",{className:"relative w-full bg-white",children:[h.jsxs("div",{className:"flex bg-gray-50 rounded-t-md",style:{height:`${a}px`},children:[h.jsx("div",{className:"flex items-center justify-center font-semibold text-gray-700",style:{width:`${o}px`}}),t.map((l,u)=>h.jsx("div",{className:"flex flex-auto items-center justify-center font-semibold text-gray-400 text-[10px] md:text-sm",children:l},"timetable-grid-header-"+u))]}),h.jsx("div",{className:"flex absolute inset-0",style:{top:`${a}px`,left:`${o}px`},children:t.map((l,u)=>h.jsx("div",{className:"flex-auto border-l border-gray-200 h-full"},"timetable-grid-col-"+u))}),n.map((l,u)=>h.jsx("div",{className:"border-b border-gray-200",style:{height:`${e}px`},children:h.jsx("span",{className:"flex items-center justify-center h-full text-gray-400 w-[20px] md:w-[60px] text-[10px] md:text-sm",children:l})},"timetable-grid-row-"+u)),h.jsx("div",{id:"timetable",ref:i,className:"absolute inset-0 flex z-10",style:{top:`${a}px`,left:`${o}px`},children:r})]})}const B6=["","","","",""],qV=Array.from({length:5},(e,t)=>`${t+9}`),VV=[{scheduleId:"1",scheduleType:"custom",subjectId:null,subjectName:"",professorName:"",location:"B209",tmNum:"3/1/0",isDeleted:!1,timeSlots:[{dayOfWeeks:"",startTime:"09:00",endTime:"10:30"},{dayOfWeeks:"",startTime:"09:00",endTime:"10:30"}]},{scheduleId:"2",scheduleType:"custom",subjectId:null,subjectName:"",professorName:"",location:"B209",tmNum:"3/1/0",isDeleted:!1,timeSlots:[{dayOfWeeks:"",startTime:"11:00",endTime:"12:30"},{dayOfWeeks:"",startTime:"11:00",endTime:"12:30"}]},{scheduleId:3,scheduleType:"custom",subjectId:null,subjectName:"",professorName:"",location:"B209",tmNum:"3/1/0",isDeleted:!1,timeSlots:[{dayOfWeeks:"",startTime:"12:00",endTime:"13:30"},{dayOfWeeks:"",startTime:"12:00",endTime:"13:30"}]}];function QV(){const e=RT(VV,9);return h.jsxs(Kc,{children:[h.jsx(N1,{title:"",subtitle:"     ",href:"/timetable"}),h.jsx(z0,{className:"mt-6",children:h.jsx(OT,{colNames:B6,rowNames:qV,children:B6.map(t=>h.jsx(KV,{data:e?e[t]:[]},t))})})]})}function KV({data:e}){return e?h.jsx("div",{className:"relative flex-auto px-[2px]",children:e.map(({title:t,professor:n,location:r,color:i,height:s,top:o,left:a,right:l,schedule:u},f)=>h.jsx(PT,{timeslotIndex:f,title:t,professor:n??"",location:r??"",schedule:u,color:i,style:{height:s,top:o,left:a,right:l},selected:!1,fixed:!0},"schedule-"+f))}):h.jsx("div",{className:"relative flex-auto px-[2px]"})}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function wp(e){return e+.5|0}const Ja=(e,t,n)=>Math.max(Math.min(e,n),t);function uh(e){return Ja(wp(e*2.55),0,255)}function il(e){return Ja(wp(e*255),0,255)}function Jo(e){return Ja(wp(e/2.55)/100,0,1)}function z6(e){return Ja(wp(e*100),0,100)}const ps={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},o2=[..."0123456789ABCDEF"],GV=e=>o2[e&15],YV=e=>o2[(e&240)>>4]+o2[e&15],fg=e=>(e&240)>>4===(e&15),XV=e=>fg(e.r)&&fg(e.g)&&fg(e.b)&&fg(e.a);function JV(e){var t=e.length,n;return e[0]==="#"&&(t===4||t===5?n={r:255&ps[e[1]]*17,g:255&ps[e[2]]*17,b:255&ps[e[3]]*17,a:t===5?ps[e[4]]*17:255}:(t===7||t===9)&&(n={r:ps[e[1]]<<4|ps[e[2]],g:ps[e[3]]<<4|ps[e[4]],b:ps[e[5]]<<4|ps[e[6]],a:t===9?ps[e[7]]<<4|ps[e[8]]:255})),n}const ZV=(e,t)=>e<255?t(e):"";function eQ(e){var t=XV(e)?GV:YV;return e?"#"+t(e.r)+t(e.g)+t(e.b)+ZV(e.a,t):void 0}const tQ=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function MT(e,t,n){const r=t*Math.min(n,1-n),i=(s,o=(s+e/30)%12)=>n-r*Math.max(Math.min(o-3,9-o,1),-1);return[i(0),i(8),i(4)]}function nQ(e,t,n){const r=(i,s=(i+e/60)%6)=>n-n*t*Math.max(Math.min(s,4-s,1),0);return[r(5),r(3),r(1)]}function rQ(e,t,n){const r=MT(e,1,.5);let i;for(t+n>1&&(i=1/(t+n),t*=i,n*=i),i=0;i<3;i++)r[i]*=1-t-n,r[i]+=t;return r}function iQ(e,t,n,r,i){return e===i?(t-n)/r+(t<n?6:0):t===i?(n-e)/r+2:(e-t)/r+4}function a_(e){const n=e.r/255,r=e.g/255,i=e.b/255,s=Math.max(n,r,i),o=Math.min(n,r,i),a=(s+o)/2;let l,u,f;return s!==o&&(f=s-o,u=a>.5?f/(2-s-o):f/(s+o),l=iQ(n,r,i,f,s),l=l*60+.5),[l|0,u||0,a]}function l_(e,t,n,r){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,r)).map(il)}function c_(e,t,n){return l_(MT,e,t,n)}function sQ(e,t,n){return l_(rQ,e,t,n)}function oQ(e,t,n){return l_(nQ,e,t,n)}function AT(e){return(e%360+360)%360}function aQ(e){const t=tQ.exec(e);let n=255,r;if(!t)return;t[5]!==r&&(n=t[6]?uh(+t[5]):il(+t[5]));const i=AT(+t[2]),s=+t[3]/100,o=+t[4]/100;return t[1]==="hwb"?r=sQ(i,s,o):t[1]==="hsv"?r=oQ(i,s,o):r=c_(i,s,o),{r:r[0],g:r[1],b:r[2],a:n}}function lQ(e,t){var n=a_(e);n[0]=AT(n[0]+t),n=c_(n),e.r=n[0],e.g=n[1],e.b=n[2]}function cQ(e){if(!e)return;const t=a_(e),n=t[0],r=z6(t[1]),i=z6(t[2]);return e.a<255?`hsla(${n}, ${r}%, ${i}%, ${Jo(e.a)})`:`hsl(${n}, ${r}%, ${i}%)`}const $6={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},U6={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function uQ(){const e={},t=Object.keys(U6),n=Object.keys($6);let r,i,s,o,a;for(r=0;r<t.length;r++){for(o=a=t[r],i=0;i<n.length;i++)s=n[i],a=a.replace(s,$6[s]);s=parseInt(U6[o],16),e[a]=[s>>16&255,s>>8&255,s&255]}return e}let hg;function dQ(e){hg||(hg=uQ(),hg.transparent=[0,0,0,0]);const t=hg[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const fQ=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function hQ(e){const t=fQ.exec(e);let n=255,r,i,s;if(t){if(t[7]!==r){const o=+t[7];n=t[8]?uh(o):Ja(o*255,0,255)}return r=+t[1],i=+t[3],s=+t[5],r=255&(t[2]?uh(r):Ja(r,0,255)),i=255&(t[4]?uh(i):Ja(i,0,255)),s=255&(t[6]?uh(s):Ja(s,0,255)),{r,g:i,b:s,a:n}}}function pQ(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${Jo(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}const mx=e=>e<=.0031308?e*12.92:Math.pow(e,1/2.4)*1.055-.055,$u=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function mQ(e,t,n){const r=$u(Jo(e.r)),i=$u(Jo(e.g)),s=$u(Jo(e.b));return{r:il(mx(r+n*($u(Jo(t.r))-r))),g:il(mx(i+n*($u(Jo(t.g))-i))),b:il(mx(s+n*($u(Jo(t.b))-s))),a:e.a+n*(t.a-e.a)}}function pg(e,t,n){if(e){let r=a_(e);r[t]=Math.max(0,Math.min(r[t]+r[t]*n,t===0?360:1)),r=c_(r),e.r=r[0],e.g=r[1],e.b=r[2]}}function DT(e,t){return e&&Object.assign(t||{},e)}function H6(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=il(e[3]))):(t=DT(e,{r:0,g:0,b:0,a:1}),t.a=il(t.a)),t}function gQ(e){return e.charAt(0)==="r"?hQ(e):aQ(e)}class Vh{constructor(t){if(t instanceof Vh)return t;const n=typeof t;let r;n==="object"?r=H6(t):n==="string"&&(r=JV(t)||dQ(t)||gQ(t)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var t=DT(this._rgb);return t&&(t.a=Jo(t.a)),t}set rgb(t){this._rgb=H6(t)}rgbString(){return this._valid?pQ(this._rgb):void 0}hexString(){return this._valid?eQ(this._rgb):void 0}hslString(){return this._valid?cQ(this._rgb):void 0}mix(t,n){if(t){const r=this.rgb,i=t.rgb;let s;const o=n===s?.5:n,a=2*o-1,l=r.a-i.a,u=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;s=1-u,r.r=255&u*r.r+s*i.r+.5,r.g=255&u*r.g+s*i.g+.5,r.b=255&u*r.b+s*i.b+.5,r.a=o*r.a+(1-o)*i.a,this.rgb=r}return this}interpolate(t,n){return t&&(this._rgb=mQ(this._rgb,t._rgb,n)),this}clone(){return new Vh(this.rgb)}alpha(t){return this._rgb.a=il(t),this}clearer(t){const n=this._rgb;return n.a*=1-t,this}greyscale(){const t=this._rgb,n=wp(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=n,this}opaquer(t){const n=this._rgb;return n.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return pg(this._rgb,2,t),this}darken(t){return pg(this._rgb,2,-t),this}saturate(t){return pg(this._rgb,1,t),this}desaturate(t){return pg(this._rgb,1,-t),this}rotate(t){return lQ(this._rgb,t),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Ho(){}const yQ=(()=>{let e=0;return()=>e++})();function Gt(e){return e==null}function $n(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function Yt(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}function Yn(e){return(typeof e=="number"||e instanceof Number)&&isFinite(+e)}function Yi(e,t){return Yn(e)?e:t}function Et(e,t){return typeof e>"u"?t:e}const vQ=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100:+e/t,LT=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100*t:+e;function In(e,t,n){if(e&&typeof e.call=="function")return e.apply(n,t)}function vn(e,t,n,r){let i,s,o;if($n(e))for(s=e.length,i=0;i<s;i++)t.call(n,e[i],i);else if(Yt(e))for(o=Object.keys(e),s=o.length,i=0;i<s;i++)t.call(n,e[o[i]],o[i])}function $0(e,t){let n,r,i,s;if(!e||!t||e.length!==t.length)return!1;for(n=0,r=e.length;n<r;++n)if(i=e[n],s=t[n],i.datasetIndex!==s.datasetIndex||i.index!==s.index)return!1;return!0}function U0(e){if($n(e))return e.map(U0);if(Yt(e)){const t=Object.create(null),n=Object.keys(e),r=n.length;let i=0;for(;i<r;++i)t[n[i]]=U0(e[n[i]]);return t}return e}function FT(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}function xQ(e,t,n,r){if(!FT(e))return;const i=t[e],s=n[e];Yt(i)&&Yt(s)?Qh(i,s,r):t[e]=U0(s)}function Qh(e,t,n){const r=$n(t)?t:[t],i=r.length;if(!Yt(e))return e;n=n||{};const s=n.merger||xQ;let o;for(let a=0;a<i;++a){if(o=r[a],!Yt(o))continue;const l=Object.keys(o);for(let u=0,f=l.length;u<f;++u)s(l[u],e,o,n)}return e}function Sh(e,t){return Qh(e,t,{merger:bQ})}function bQ(e,t,n){if(!FT(e))return;const r=t[e],i=n[e];Yt(r)&&Yt(i)?Sh(r,i):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=U0(i))}const W6={"":e=>e,x:e=>e.x,y:e=>e.y};function wQ(e){const t=e.split("."),n=[];let r="";for(const i of t)r+=i,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}function _Q(e){const t=wQ(e);return n=>{for(const r of t){if(r==="")break;n=n&&n[r]}return n}}function hl(e,t){return(W6[t]||(W6[t]=_Q(t)))(e)}function u_(e){return e.charAt(0).toUpperCase()+e.slice(1)}const Kh=e=>typeof e<"u",pl=e=>typeof e=="function",q6=(e,t)=>{if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0};function SQ(e){return e.type==="mouseup"||e.type==="click"||e.type==="contextmenu"}const dn=Math.PI,An=2*dn,CQ=An+dn,H0=Number.POSITIVE_INFINITY,kQ=dn/180,tr=dn/2,rc=dn/4,V6=dn*2/3,Za=Math.log10,xo=Math.sign;function Ch(e,t,n){return Math.abs(e-t)<n}function Q6(e){const t=Math.round(e);e=Ch(e,t,e/1e3)?t:e;const n=Math.pow(10,Math.floor(Za(e))),r=e/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function EQ(e){const t=[],n=Math.sqrt(e);let r;for(r=1;r<n;r++)e%r===0&&(t.push(r),t.push(e/r));return n===(n|0)&&t.push(n),t.sort((i,s)=>i-s).pop(),t}function TQ(e){return typeof e=="symbol"||typeof e=="object"&&e!==null&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}function Ac(e){return!TQ(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function jQ(e,t){const n=Math.round(e);return n-t<=e&&n+t>=e}function BT(e,t,n){let r,i,s;for(r=0,i=e.length;r<i;r++)s=e[r][n],isNaN(s)||(t.min=Math.min(t.min,s),t.max=Math.max(t.max,s))}function Ks(e){return e*(dn/180)}function d_(e){return e*(180/dn)}function K6(e){if(!Yn(e))return;let t=1,n=0;for(;Math.round(e*t)/t!==e;)t*=10,n++;return n}function zT(e,t){const n=t.x-e.x,r=t.y-e.y,i=Math.sqrt(n*n+r*r);let s=Math.atan2(r,n);return s<-.5*dn&&(s+=An),{angle:s,distance:i}}function a2(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function NQ(e,t){return(e-t+CQ)%An-dn}function Kr(e){return(e%An+An)%An}function Gh(e,t,n,r){const i=Kr(e),s=Kr(t),o=Kr(n),a=Kr(s-i),l=Kr(o-i),u=Kr(i-s),f=Kr(i-o);return i===s||i===o||r&&s===o||a>l&&u<f}function Nr(e,t,n){return Math.max(t,Math.min(n,e))}function IQ(e){return Nr(e,-32768,32767)}function ea(e,t,n,r=1e-6){return e>=Math.min(t,n)-r&&e<=Math.max(t,n)+r}function f_(e,t,n){n=n||(o=>e[o]<t);let r=e.length-1,i=0,s;for(;r-i>1;)s=i+r>>1,n(s)?i=s:r=s;return{lo:i,hi:r}}const ta=(e,t,n,r)=>f_(e,n,r?i=>{const s=e[i][t];return s<n||s===n&&e[i+1][t]===n}:i=>e[i][t]<n),RQ=(e,t,n)=>f_(e,n,r=>e[r][t]>=n);function PQ(e,t,n){let r=0,i=e.length;for(;r<i&&e[r]<t;)r++;for(;i>r&&e[i-1]>n;)i--;return r>0||i<e.length?e.slice(r,i):e}const $T=["push","pop","shift","splice","unshift"];function OQ(e,t){if(e._chartjs){e._chartjs.listeners.push(t);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),$T.forEach(n=>{const r="_onData"+u_(n),i=e[n];Object.defineProperty(e,n,{configurable:!0,enumerable:!1,value(...s){const o=i.apply(this,s);return e._chartjs.listeners.forEach(a=>{typeof a[r]=="function"&&a[r](...s)}),o}})})}function G6(e,t){const n=e._chartjs;if(!n)return;const r=n.listeners,i=r.indexOf(t);i!==-1&&r.splice(i,1),!(r.length>0)&&($T.forEach(s=>{delete e[s]}),delete e._chartjs)}function UT(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const HT=function(){return typeof window>"u"?function(e){return e()}:window.requestAnimationFrame}();function WT(e,t){let n=[],r=!1;return function(...i){n=i,r||(r=!0,HT.call(window,()=>{r=!1,e.apply(t,n)}))}}function MQ(e,t){let n;return function(...r){return t?(clearTimeout(n),n=setTimeout(e,t,r)):e.apply(this,r),t}}const h_=e=>e==="start"?"left":e==="end"?"right":"center",Qr=(e,t,n)=>e==="start"?t:e==="end"?n:(t+n)/2,AQ=(e,t,n,r)=>e===(r?"left":"right")?n:e==="center"?(t+n)/2:t;function qT(e,t,n){const r=t.length;let i=0,s=r;if(e._sorted){const{iScale:o,vScale:a,_parsed:l}=e,u=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null,f=o.axis,{min:p,max:g,minDefined:y,maxDefined:b}=o.getUserBounds();if(y){if(i=Math.min(ta(l,f,p).lo,n?r:ta(t,f,o.getPixelForValue(p)).lo),u){const _=l.slice(0,i+1).reverse().findIndex(C=>!Gt(C[a.axis]));i-=Math.max(0,_)}i=Nr(i,0,r-1)}if(b){let _=Math.max(ta(l,o.axis,g,!0).hi+1,n?0:ta(t,f,o.getPixelForValue(g),!0).hi+1);if(u){const C=l.slice(_-1).findIndex(k=>!Gt(k[a.axis]));_+=Math.max(0,C)}s=Nr(_,i,r)-i}else s=r-i}return{start:i,count:s}}function VT(e){const{xScale:t,yScale:n,_scaleRanges:r}=e,i={xmin:t.min,xmax:t.max,ymin:n.min,ymax:n.max};if(!r)return e._scaleRanges=i,!0;const s=r.xmin!==t.min||r.xmax!==t.max||r.ymin!==n.min||r.ymax!==n.max;return Object.assign(r,i),s}const mg=e=>e===0||e===1,Y6=(e,t,n)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-t)*An/n)),X6=(e,t,n)=>Math.pow(2,-10*e)*Math.sin((e-t)*An/n)+1,kh={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*tr)+1,easeOutSine:e=>Math.sin(e*tr),easeInOutSine:e=>-.5*(Math.cos(dn*e)-1),easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>mg(e)?e:e<.5?.5*Math.pow(2,10*(e*2-1)):.5*(-Math.pow(2,-10*(e*2-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>mg(e)?e:Y6(e,.075,.3),easeOutElastic:e=>mg(e)?e:X6(e,.075,.3),easeInOutElastic(e){return mg(e)?e:e<.5?.5*Y6(e*2,.1125,.45):.5+.5*X6(e*2-1,.1125,.45)},easeInBack(e){return e*e*((1.70158+1)*e-1.70158)},easeOutBack(e){return(e-=1)*e*((1.70158+1)*e+1.70158)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:e=>1-kh.easeOutBounce(1-e),easeOutBounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:e=>e<.5?kh.easeInBounce(e*2)*.5:kh.easeOutBounce(e*2-1)*.5+.5};function p_(e){if(e&&typeof e=="object"){const t=e.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function J6(e){return p_(e)?e:new Vh(e)}function gx(e){return p_(e)?e:new Vh(e).saturate(.5).darken(.1).hexString()}const DQ=["x","y","borderWidth","radius","tension"],LQ=["color","borderColor","backgroundColor"];function FQ(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),e.set("animations",{colors:{type:"color",properties:LQ},numbers:{type:"number",properties:DQ}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function BQ(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Z6=new Map;function zQ(e,t){t=t||{};const n=e+JSON.stringify(t);let r=Z6.get(n);return r||(r=new Intl.NumberFormat(e,t),Z6.set(n,r)),r}function _p(e,t,n){return zQ(t,n).format(e)}const QT={values(e){return $n(e)?e:""+e},numeric(e,t,n){if(e===0)return"0";const r=this.chart.options.locale;let i,s=e;if(n.length>1){const u=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(u<1e-4||u>1e15)&&(i="scientific"),s=$Q(e,n)}const o=Za(Math.abs(s)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:i,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),_p(e,r,l)},logarithmic(e,t,n){if(e===0)return"0";const r=n[t].significand||e/Math.pow(10,Math.floor(Za(e)));return[1,2,3,5,10,15].includes(r)||t>.8*n.length?QT.numeric.call(this,e,t,n):""}};function $Q(e,t){let n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(n)>=1&&e!==Math.floor(e)&&(n=e-Math.floor(e)),n}var P1={formatters:QT};function UQ(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,n)=>n.lineWidth,tickColor:(t,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:P1.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const Dc=Object.create(null),l2=Object.create(null);function Eh(e,t){if(!t)return e;const n=t.split(".");for(let r=0,i=n.length;r<i;++r){const s=n[r];e=e[s]||(e[s]=Object.create(null))}return e}function yx(e,t,n){return typeof t=="string"?Qh(Eh(e,t),n):Qh(Eh(e,""),t)}class HQ{constructor(t,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,i)=>gx(i.backgroundColor),this.hoverBorderColor=(r,i)=>gx(i.borderColor),this.hoverColor=(r,i)=>gx(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(n)}set(t,n){return yx(this,t,n)}get(t){return Eh(this,t)}describe(t,n){return yx(l2,t,n)}override(t,n){return yx(Dc,t,n)}route(t,n,r,i){const s=Eh(this,t),o=Eh(this,r),a="_"+n;Object.defineProperties(s,{[a]:{value:s[n],writable:!0},[n]:{enumerable:!0,get(){const l=this[a],u=o[i];return Yt(l)?Object.assign({},u,l):Et(l,u)},set(l){this[a]=l}}})}apply(t){t.forEach(n=>n(this))}}var Un=new HQ({_scriptable:e=>!e.startsWith("on"),_indexable:e=>e!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[FQ,BQ,UQ]);function WQ(e){return!e||Gt(e.size)||Gt(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function W0(e,t,n,r,i){let s=t[i];return s||(s=t[i]=e.measureText(i).width,n.push(i)),s>r&&(r=s),r}function qQ(e,t,n,r){r=r||{};let i=r.data=r.data||{},s=r.garbageCollect=r.garbageCollect||[];r.font!==t&&(i=r.data={},s=r.garbageCollect=[],r.font=t),e.save(),e.font=t;let o=0;const a=n.length;let l,u,f,p,g;for(l=0;l<a;l++)if(p=n[l],p!=null&&!$n(p))o=W0(e,i,s,o,p);else if($n(p))for(u=0,f=p.length;u<f;u++)g=p[u],g!=null&&!$n(g)&&(o=W0(e,i,s,o,g));e.restore();const y=s.length/2;if(y>n.length){for(l=0;l<y;l++)delete i[s[l]];s.splice(0,y)}return o}function ic(e,t,n){const r=e.currentDevicePixelRatio,i=n!==0?Math.max(n/2,.5):0;return Math.round((t-i)*r)/r+i}function eC(e,t){!t&&!e||(t=t||e.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function c2(e,t,n,r){KT(e,t,n,r,null)}function KT(e,t,n,r,i){let s,o,a,l,u,f,p,g;const y=t.pointStyle,b=t.rotation,_=t.radius;let C=(b||0)*kQ;if(y&&typeof y=="object"&&(s=y.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){e.save(),e.translate(n,r),e.rotate(C),e.drawImage(y,-y.width/2,-y.height/2,y.width,y.height),e.restore();return}if(!(isNaN(_)||_<=0)){switch(e.beginPath(),y){default:i?e.ellipse(n,r,i/2,_,0,0,An):e.arc(n,r,_,0,An),e.closePath();break;case"triangle":f=i?i/2:_,e.moveTo(n+Math.sin(C)*f,r-Math.cos(C)*_),C+=V6,e.lineTo(n+Math.sin(C)*f,r-Math.cos(C)*_),C+=V6,e.lineTo(n+Math.sin(C)*f,r-Math.cos(C)*_),e.closePath();break;case"rectRounded":u=_*.516,l=_-u,o=Math.cos(C+rc)*l,p=Math.cos(C+rc)*(i?i/2-u:l),a=Math.sin(C+rc)*l,g=Math.sin(C+rc)*(i?i/2-u:l),e.arc(n-p,r-a,u,C-dn,C-tr),e.arc(n+g,r-o,u,C-tr,C),e.arc(n+p,r+a,u,C,C+tr),e.arc(n-g,r+o,u,C+tr,C+dn),e.closePath();break;case"rect":if(!b){l=Math.SQRT1_2*_,f=i?i/2:l,e.rect(n-f,r-l,2*f,2*l);break}C+=rc;case"rectRot":p=Math.cos(C)*(i?i/2:_),o=Math.cos(C)*_,a=Math.sin(C)*_,g=Math.sin(C)*(i?i/2:_),e.moveTo(n-p,r-a),e.lineTo(n+g,r-o),e.lineTo(n+p,r+a),e.lineTo(n-g,r+o),e.closePath();break;case"crossRot":C+=rc;case"cross":p=Math.cos(C)*(i?i/2:_),o=Math.cos(C)*_,a=Math.sin(C)*_,g=Math.sin(C)*(i?i/2:_),e.moveTo(n-p,r-a),e.lineTo(n+p,r+a),e.moveTo(n+g,r-o),e.lineTo(n-g,r+o);break;case"star":p=Math.cos(C)*(i?i/2:_),o=Math.cos(C)*_,a=Math.sin(C)*_,g=Math.sin(C)*(i?i/2:_),e.moveTo(n-p,r-a),e.lineTo(n+p,r+a),e.moveTo(n+g,r-o),e.lineTo(n-g,r+o),C+=rc,p=Math.cos(C)*(i?i/2:_),o=Math.cos(C)*_,a=Math.sin(C)*_,g=Math.sin(C)*(i?i/2:_),e.moveTo(n-p,r-a),e.lineTo(n+p,r+a),e.moveTo(n+g,r-o),e.lineTo(n-g,r+o);break;case"line":o=i?i/2:Math.cos(C)*_,a=Math.sin(C)*_,e.moveTo(n-o,r-a),e.lineTo(n+o,r+a);break;case"dash":e.moveTo(n,r),e.lineTo(n+Math.cos(C)*(i?i/2:_),r+Math.sin(C)*_);break;case!1:e.closePath();break}e.fill(),t.borderWidth>0&&e.stroke()}}function na(e,t,n){return n=n||.5,!t||e&&e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n}function O1(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function M1(e){e.restore()}function VQ(e,t,n,r,i){if(!t)return e.lineTo(n.x,n.y);if(i==="middle"){const s=(t.x+n.x)/2;e.lineTo(s,t.y),e.lineTo(s,n.y)}else i==="after"!=!!r?e.lineTo(t.x,n.y):e.lineTo(n.x,t.y);e.lineTo(n.x,n.y)}function QQ(e,t,n,r){if(!t)return e.lineTo(n.x,n.y);e.bezierCurveTo(r?t.cp1x:t.cp2x,r?t.cp1y:t.cp2y,r?n.cp2x:n.cp1x,r?n.cp2y:n.cp1y,n.x,n.y)}function KQ(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),Gt(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}function GQ(e,t,n,r,i){if(i.strikethrough||i.underline){const s=e.measureText(r),o=t-s.actualBoundingBoxLeft,a=t+s.actualBoundingBoxRight,l=n-s.actualBoundingBoxAscent,u=n+s.actualBoundingBoxDescent,f=i.strikethrough?(l+u)/2:u;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=i.decorationWidth||2,e.moveTo(o,f),e.lineTo(a,f),e.stroke()}}function YQ(e,t){const n=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=n}function Lc(e,t,n,r,i,s={}){const o=$n(t)?t:[t],a=s.strokeWidth>0&&s.strokeColor!=="";let l,u;for(e.save(),e.font=i.string,KQ(e,s),l=0;l<o.length;++l)u=o[l],s.backdrop&&YQ(e,s.backdrop),a&&(s.strokeColor&&(e.strokeStyle=s.strokeColor),Gt(s.strokeWidth)||(e.lineWidth=s.strokeWidth),e.strokeText(u,n,r,s.maxWidth)),e.fillText(u,n,r,s.maxWidth),GQ(e,n,r,u,s),r+=Number(i.lineHeight);e.restore()}function Yh(e,t){const{x:n,y:r,w:i,h:s,radius:o}=t;e.arc(n+o.topLeft,r+o.topLeft,o.topLeft,1.5*dn,dn,!0),e.lineTo(n,r+s-o.bottomLeft),e.arc(n+o.bottomLeft,r+s-o.bottomLeft,o.bottomLeft,dn,tr,!0),e.lineTo(n+i-o.bottomRight,r+s),e.arc(n+i-o.bottomRight,r+s-o.bottomRight,o.bottomRight,tr,0,!0),e.lineTo(n+i,r+o.topRight),e.arc(n+i-o.topRight,r+o.topRight,o.topRight,0,-tr,!0),e.lineTo(n+o.topLeft,r)}const XQ=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,JQ=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function ZQ(e,t){const n=(""+e).match(XQ);if(!n||n[1]==="normal")return t*1.2;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100;break}return t*e}const eK=e=>+e||0;function m_(e,t){const n={},r=Yt(t),i=r?Object.keys(t):t,s=Yt(e)?r?o=>Et(e[o],e[t[o]]):o=>e[o]:()=>e;for(const o of i)n[o]=eK(s(o));return n}function GT(e){return m_(e,{top:"y",right:"x",bottom:"y",left:"x"})}function jc(e){return m_(e,["topLeft","topRight","bottomLeft","bottomRight"])}function Xr(e){const t=GT(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function vr(e,t){e=e||{},t=t||Un.font;let n=Et(e.size,t.size);typeof n=="string"&&(n=parseInt(n,10));let r=Et(e.style,t.style);r&&!(""+r).match(JQ)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const i={family:Et(e.family,t.family),lineHeight:ZQ(Et(e.lineHeight,t.lineHeight),n),size:n,style:r,weight:Et(e.weight,t.weight),string:""};return i.string=WQ(i),i}function dh(e,t,n,r){let i,s,o;for(i=0,s=e.length;i<s;++i)if(o=e[i],o!==void 0&&o!==void 0)return o}function tK(e,t,n){const{min:r,max:i}=e,s=LT(t,(i-r)/2),o=(a,l)=>n&&a===0?0:a+l;return{min:o(r,-Math.abs(s)),max:o(i,s)}}function Sl(e,t){return Object.assign(Object.create(e),t)}function g_(e,t=[""],n,r,i=()=>e[0]){const s=n||e;typeof r>"u"&&(r=ZT("_fallback",e));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:s,_fallback:r,_getTarget:i,override:a=>g_([a,...e],t,s,r)};return new Proxy(o,{deleteProperty(a,l){return delete a[l],delete a._keys,delete e[0][l],!0},get(a,l){return XT(a,l,()=>cK(l,t,e,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(a,l){return nC(a).includes(l)},ownKeys(a){return nC(a)},set(a,l,u){const f=a._storage||(a._storage=i());return a[l]=f[l]=u,delete a._keys,!0}})}function Pd(e,t,n,r){const i={_cacheable:!1,_proxy:e,_context:t,_subProxy:n,_stack:new Set,_descriptors:YT(e,r),setContext:s=>Pd(e,s,n,r),override:s=>Pd(e.override(s),t,n,r)};return new Proxy(i,{deleteProperty(s,o){return delete s[o],delete e[o],!0},get(s,o,a){return XT(s,o,()=>rK(s,o,a))},getOwnPropertyDescriptor(s,o){return s._descriptors.allKeys?Reflect.has(e,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,o)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(s,o){return Reflect.has(e,o)},ownKeys(){return Reflect.ownKeys(e)},set(s,o,a){return e[o]=a,delete s[o],!0}})}function YT(e,t={scriptable:!0,indexable:!0}){const{_scriptable:n=t.scriptable,_indexable:r=t.indexable,_allKeys:i=t.allKeys}=e;return{allKeys:i,scriptable:n,indexable:r,isScriptable:pl(n)?n:()=>n,isIndexable:pl(r)?r:()=>r}}const nK=(e,t)=>e?e+u_(t):t,y_=(e,t)=>Yt(t)&&e!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function XT(e,t,n){if(Object.prototype.hasOwnProperty.call(e,t)||t==="constructor")return e[t];const r=n();return e[t]=r,r}function rK(e,t,n){const{_proxy:r,_context:i,_subProxy:s,_descriptors:o}=e;let a=r[t];return pl(a)&&o.isScriptable(t)&&(a=iK(t,a,e,n)),$n(a)&&a.length&&(a=sK(t,a,e,o.isIndexable)),y_(t,a)&&(a=Pd(a,i,s&&s[t],o)),a}function iK(e,t,n,r){const{_proxy:i,_context:s,_subProxy:o,_stack:a}=n;if(a.has(e))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+e);a.add(e);let l=t(s,o||r);return a.delete(e),y_(e,l)&&(l=v_(i._scopes,i,e,l)),l}function sK(e,t,n,r){const{_proxy:i,_context:s,_subProxy:o,_descriptors:a}=n;if(typeof s.index<"u"&&r(e))return t[s.index%t.length];if(Yt(t[0])){const l=t,u=i._scopes.filter(f=>f!==l);t=[];for(const f of l){const p=v_(u,i,e,f);t.push(Pd(p,s,o&&o[e],a))}}return t}function JT(e,t,n){return pl(e)?e(t,n):e}const oK=(e,t)=>e===!0?t:typeof e=="string"?hl(t,e):void 0;function aK(e,t,n,r,i){for(const s of t){const o=oK(n,s);if(o){e.add(o);const a=JT(o._fallback,n,i);if(typeof a<"u"&&a!==n&&a!==r)return a}else if(o===!1&&typeof r<"u"&&n!==r)return null}return!1}function v_(e,t,n,r){const i=t._rootScopes,s=JT(t._fallback,n,r),o=[...e,...i],a=new Set;a.add(r);let l=tC(a,o,n,s||n,r);return l===null||typeof s<"u"&&s!==n&&(l=tC(a,o,s,l,r),l===null)?!1:g_(Array.from(a),[""],i,s,()=>lK(t,n,r))}function tC(e,t,n,r,i){for(;n;)n=aK(e,t,n,r,i);return n}function lK(e,t,n){const r=e._getTarget();t in r||(r[t]={});const i=r[t];return $n(i)&&Yt(n)?n:i||{}}function cK(e,t,n,r){let i;for(const s of t)if(i=ZT(nK(s,e),n),typeof i<"u")return y_(e,i)?v_(n,r,e,i):i}function ZT(e,t){for(const n of t){if(!n)continue;const r=n[e];if(typeof r<"u")return r}}function nC(e){let t=e._keys;return t||(t=e._keys=uK(e._scopes)),t}function uK(e){const t=new Set;for(const n of e)for(const r of Object.keys(n).filter(i=>!i.startsWith("_")))t.add(r);return Array.from(t)}function ej(e,t,n,r){const{iScale:i}=e,{key:s="r"}=this._parsing,o=new Array(r);let a,l,u,f;for(a=0,l=r;a<l;++a)u=a+n,f=t[u],o[a]={r:i.parse(hl(f,s),u)};return o}const dK=Number.EPSILON||1e-14,Od=(e,t)=>t<e.length&&!e[t].skip&&e[t],tj=e=>e==="x"?"y":"x";function fK(e,t,n,r){const i=e.skip?t:e,s=t,o=n.skip?t:n,a=a2(s,i),l=a2(o,s);let u=a/(a+l),f=l/(a+l);u=isNaN(u)?0:u,f=isNaN(f)?0:f;const p=r*u,g=r*f;return{previous:{x:s.x-p*(o.x-i.x),y:s.y-p*(o.y-i.y)},next:{x:s.x+g*(o.x-i.x),y:s.y+g*(o.y-i.y)}}}function hK(e,t,n){const r=e.length;let i,s,o,a,l,u=Od(e,0);for(let f=0;f<r-1;++f)if(l=u,u=Od(e,f+1),!(!l||!u)){if(Ch(t[f],0,dK)){n[f]=n[f+1]=0;continue}i=n[f]/t[f],s=n[f+1]/t[f],a=Math.pow(i,2)+Math.pow(s,2),!(a<=9)&&(o=3/Math.sqrt(a),n[f]=i*o*t[f],n[f+1]=s*o*t[f])}}function pK(e,t,n="x"){const r=tj(n),i=e.length;let s,o,a,l=Od(e,0);for(let u=0;u<i;++u){if(o=a,a=l,l=Od(e,u+1),!a)continue;const f=a[n],p=a[r];o&&(s=(f-o[n])/3,a[`cp1${n}`]=f-s,a[`cp1${r}`]=p-s*t[u]),l&&(s=(l[n]-f)/3,a[`cp2${n}`]=f+s,a[`cp2${r}`]=p+s*t[u])}}function mK(e,t="x"){const n=tj(t),r=e.length,i=Array(r).fill(0),s=Array(r);let o,a,l,u=Od(e,0);for(o=0;o<r;++o)if(a=l,l=u,u=Od(e,o+1),!!l){if(u){const f=u[t]-l[t];i[o]=f!==0?(u[n]-l[n])/f:0}s[o]=a?u?xo(i[o-1])!==xo(i[o])?0:(i[o-1]+i[o])/2:i[o-1]:i[o]}hK(e,i,s),pK(e,s,t)}function gg(e,t,n){return Math.max(Math.min(e,n),t)}function gK(e,t){let n,r,i,s,o,a=na(e[0],t);for(n=0,r=e.length;n<r;++n)o=s,s=a,a=n<r-1&&na(e[n+1],t),s&&(i=e[n],o&&(i.cp1x=gg(i.cp1x,t.left,t.right),i.cp1y=gg(i.cp1y,t.top,t.bottom)),a&&(i.cp2x=gg(i.cp2x,t.left,t.right),i.cp2y=gg(i.cp2y,t.top,t.bottom)))}function yK(e,t,n,r,i){let s,o,a,l;if(t.spanGaps&&(e=e.filter(u=>!u.skip)),t.cubicInterpolationMode==="monotone")mK(e,i);else{let u=r?e[e.length-1]:e[0];for(s=0,o=e.length;s<o;++s)a=e[s],l=fK(u,a,e[Math.min(s+1,o-(r?0:1))%o],t.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,u=a}t.capBezierPoints&&gK(e,n)}function x_(){return typeof window<"u"&&typeof document<"u"}function b_(e){let t=e.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function q0(e,t,n){let r;return typeof e=="string"?(r=parseInt(e,10),e.indexOf("%")!==-1&&(r=r/100*t.parentNode[n])):r=e,r}const A1=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);function vK(e,t){return A1(e).getPropertyValue(t)}const xK=["top","right","bottom","left"];function Nc(e,t,n){const r={};n=n?"-"+n:"";for(let i=0;i<4;i++){const s=xK[i];r[s]=parseFloat(e[t+"-"+s+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const bK=(e,t,n)=>(e>0||t>0)&&(!n||!n.shadowRoot);function wK(e,t){const n=e.touches,r=n&&n.length?n[0]:e,{offsetX:i,offsetY:s}=r;let o=!1,a,l;if(bK(i,s,e.target))a=i,l=s;else{const u=t.getBoundingClientRect();a=r.clientX-u.left,l=r.clientY-u.top,o=!0}return{x:a,y:l,box:o}}function fc(e,t){if("native"in e)return e;const{canvas:n,currentDevicePixelRatio:r}=t,i=A1(n),s=i.boxSizing==="border-box",o=Nc(i,"padding"),a=Nc(i,"border","width"),{x:l,y:u,box:f}=wK(e,n),p=o.left+(f&&a.left),g=o.top+(f&&a.top);let{width:y,height:b}=t;return s&&(y-=o.width+a.width,b-=o.height+a.height),{x:Math.round((l-p)/y*n.width/r),y:Math.round((u-g)/b*n.height/r)}}function _K(e,t,n){let r,i;if(t===void 0||n===void 0){const s=e&&b_(e);if(!s)t=e.clientWidth,n=e.clientHeight;else{const o=s.getBoundingClientRect(),a=A1(s),l=Nc(a,"border","width"),u=Nc(a,"padding");t=o.width-u.width-l.width,n=o.height-u.height-l.height,r=q0(a.maxWidth,s,"clientWidth"),i=q0(a.maxHeight,s,"clientHeight")}}return{width:t,height:n,maxWidth:r||H0,maxHeight:i||H0}}const yg=e=>Math.round(e*10)/10;function SK(e,t,n,r){const i=A1(e),s=Nc(i,"margin"),o=q0(i.maxWidth,e,"clientWidth")||H0,a=q0(i.maxHeight,e,"clientHeight")||H0,l=_K(e,t,n);let{width:u,height:f}=l;if(i.boxSizing==="content-box"){const g=Nc(i,"border","width"),y=Nc(i,"padding");u-=y.width+g.width,f-=y.height+g.height}return u=Math.max(0,u-s.width),f=Math.max(0,r?u/r:f-s.height),u=yg(Math.min(u,o,l.maxWidth)),f=yg(Math.min(f,a,l.maxHeight)),u&&!f&&(f=yg(u/2)),(t!==void 0||n!==void 0)&&r&&l.height&&f>l.height&&(f=l.height,u=yg(Math.floor(f*r))),{width:u,height:f}}function rC(e,t,n){const r=t||1,i=Math.floor(e.height*r),s=Math.floor(e.width*r);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const o=e.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${e.height}px`,o.style.width=`${e.width}px`),e.currentDevicePixelRatio!==r||o.height!==i||o.width!==s?(e.currentDevicePixelRatio=r,o.height=i,o.width=s,e.ctx.setTransform(r,0,0,r,0,0),!0):!1}const CK=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};x_()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return e}();function iC(e,t){const n=vK(e,t),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function hc(e,t,n,r){return{x:e.x+n*(t.x-e.x),y:e.y+n*(t.y-e.y)}}function kK(e,t,n,r){return{x:e.x+n*(t.x-e.x),y:r==="middle"?n<.5?e.y:t.y:r==="after"?n<1?e.y:t.y:n>0?t.y:e.y}}function EK(e,t,n,r){const i={x:e.cp2x,y:e.cp2y},s={x:t.cp1x,y:t.cp1y},o=hc(e,i,n),a=hc(i,s,n),l=hc(s,t,n),u=hc(o,a,n),f=hc(a,l,n);return hc(u,f,n)}const TK=function(e,t){return{x(n){return e+e+t-n},setWidth(n){t=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,r){return n-r},leftForLtr(n,r){return n-r}}},jK=function(){return{x(e){return e},setWidth(e){},textAlign(e){return e},xPlus(e,t){return e+t},leftForLtr(e,t){return e}}};function bd(e,t,n){return e?TK(t,n):jK()}function nj(e,t){let n,r;(t==="ltr"||t==="rtl")&&(n=e.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=r)}function rj(e,t){t!==void 0&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function ij(e){return e==="angle"?{between:Gh,compare:NQ,normalize:Kr}:{between:ea,compare:(t,n)=>t-n,normalize:t=>t}}function sC({start:e,end:t,count:n,loop:r,style:i}){return{start:e%n,end:t%n,loop:r&&(t-e+1)%n===0,style:i}}function NK(e,t,n){const{property:r,start:i,end:s}=n,{between:o,normalize:a}=ij(r),l=t.length;let{start:u,end:f,loop:p}=e,g,y;if(p){for(u+=l,f+=l,g=0,y=l;g<y&&o(a(t[u%l][r]),i,s);++g)u--,f--;u%=l,f%=l}return f<u&&(f+=l),{start:u,end:f,loop:p,style:e.style}}function sj(e,t,n){if(!n)return[e];const{property:r,start:i,end:s}=n,o=t.length,{compare:a,between:l,normalize:u}=ij(r),{start:f,end:p,loop:g,style:y}=NK(e,t,n),b=[];let _=!1,C=null,k,R,O;const $=()=>l(i,O,k)&&a(i,O)!==0,z=()=>a(s,k)===0||l(s,O,k),j=()=>_||$(),A=()=>!_||z();for(let B=f,U=f;B<=p;++B)R=t[B%o],!R.skip&&(k=u(R[r]),k!==O&&(_=l(k,i,s),C===null&&j()&&(C=a(k,i)===0?B:U),C!==null&&A()&&(b.push(sC({start:C,end:B,loop:g,count:o,style:y})),C=null),U=B,O=k));return C!==null&&b.push(sC({start:C,end:p,loop:g,count:o,style:y})),b}function oj(e,t){const n=[],r=e.segments;for(let i=0;i<r.length;i++){const s=sj(r[i],e.points,t);s.length&&n.push(...s)}return n}function IK(e,t,n,r){let i=0,s=t-1;if(n&&!r)for(;i<t&&!e[i].skip;)i++;for(;i<t&&e[i].skip;)i++;for(i%=t,n&&(s+=i);s>i&&e[s%t].skip;)s--;return s%=t,{start:i,end:s}}function RK(e,t,n,r){const i=e.length,s=[];let o=t,a=e[t],l;for(l=t+1;l<=n;++l){const u=e[l%i];u.skip||u.stop?a.skip||(r=!1,s.push({start:t%i,end:(l-1)%i,loop:r}),t=o=u.stop?l:null):(o=l,a.skip&&(t=l)),a=u}return o!==null&&s.push({start:t%i,end:o%i,loop:r}),s}function PK(e,t){const n=e.points,r=e.options.spanGaps,i=n.length;if(!i)return[];const s=!!e._loop,{start:o,end:a}=IK(n,i,s,r);if(r===!0)return oC(e,[{start:o,end:a,loop:s}],n,t);const l=a<o?a+i:a,u=!!e._fullLoop&&o===0&&a===i-1;return oC(e,RK(n,o,l,u),n,t)}function oC(e,t,n,r){return!r||!r.setContext||!n?t:OK(e,t,n,r)}function OK(e,t,n,r){const i=e._chart.getContext(),s=aC(e.options),{_datasetIndex:o,options:{spanGaps:a}}=e,l=n.length,u=[];let f=s,p=t[0].start,g=p;function y(b,_,C,k){const R=a?-1:1;if(b!==_){for(b+=l;n[b%l].skip;)b-=R;for(;n[_%l].skip;)_+=R;b%l!==_%l&&(u.push({start:b%l,end:_%l,loop:C,style:k}),f=k,p=_%l)}}for(const b of t){p=a?p:b.start;let _=n[p%l],C;for(g=p+1;g<=b.end;g++){const k=n[g%l];C=aC(r.setContext(Sl(i,{type:"segment",p0:_,p1:k,p0DataIndex:(g-1)%l,p1DataIndex:g%l,datasetIndex:o}))),MK(C,f)&&y(p,g-1,b.loop,f),_=k,f=C}p<g-1&&y(p,g-1,b.loop,f)}return u}function aC(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function MK(e,t){if(!t)return!1;const n=[],r=function(i,s){return p_(s)?(n.includes(s)||n.push(s),n.indexOf(s)):s};return JSON.stringify(e,r)!==JSON.stringify(t,r)}function vg(e,t,n){return e.options.clip?e[n]:t[n]}function AK(e,t){const{xScale:n,yScale:r}=e;return n&&r?{left:vg(n,t,"left"),right:vg(n,t,"right"),top:vg(r,t,"top"),bottom:vg(r,t,"bottom")}:t}function aj(e,t){const n=t._clip;if(n.disabled)return!1;const r=AK(t,e.chartArea);return{left:n.left===!1?0:r.left-(n.left===!0?0:n.left),right:n.right===!1?e.width:r.right+(n.right===!0?0:n.right),top:n.top===!1?0:r.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?e.height:r.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class DK{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,n,r,i){const s=n.listeners[i],o=n.duration;s.forEach(a=>a({chart:t,initial:n.initial,numSteps:o,currentStep:Math.min(r-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=HT.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let n=0;this._charts.forEach((r,i)=>{if(!r.running||!r.items.length)return;const s=r.items;let o=s.length-1,a=!1,l;for(;o>=0;--o)l=s[o],l._active?(l._total>r.duration&&(r.duration=l._total),l.tick(t),a=!0):(s[o]=s[s.length-1],s.pop());a&&(i.draw(),this._notify(i,r,t,"progress")),s.length||(r.running=!1,this._notify(i,r,t,"complete"),r.initial=!1),n+=s.length}),this._lastDate=t,n===0&&(this._running=!1)}_getAnims(t){const n=this._charts;let r=n.get(t);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(t,r)),r}listen(t,n,r){this._getAnims(t).listeners[n].push(r)}add(t,n){!n||!n.length||this._getAnims(t).items.push(...n)}has(t){return this._getAnims(t).items.length>0}start(t){const n=this._charts.get(t);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((r,i)=>Math.max(r,i._duration),0),this._refresh())}running(t){if(!this._running)return!1;const n=this._charts.get(t);return!(!n||!n.running||!n.items.length)}stop(t){const n=this._charts.get(t);if(!n||!n.items.length)return;const r=n.items;let i=r.length-1;for(;i>=0;--i)r[i].cancel();n.items=[],this._notify(t,n,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var qo=new DK;const lC="transparent",LK={boolean(e,t,n){return n>.5?t:e},color(e,t,n){const r=J6(e||lC),i=r.valid&&J6(t||lC);return i&&i.valid?i.mix(r,n).hexString():t},number(e,t,n){return e+(t-e)*n}};class FK{constructor(t,n,r,i){const s=n[r];i=dh([t.to,i,s,t.from]);const o=dh([t.from,s,i]);this._active=!0,this._fn=t.fn||LK[t.type||typeof o],this._easing=kh[t.easing]||kh.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=n,this._prop=r,this._from=o,this._to=i,this._promises=void 0}active(){return this._active}update(t,n,r){if(this._active){this._notify(!1);const i=this._target[this._prop],s=r-this._start,o=this._duration-s;this._start=r,this._duration=Math.floor(Math.max(o,t.duration)),this._total+=s,this._loop=!!t.loop,this._to=dh([t.to,n,i,t.from]),this._from=dh([t.from,i,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const n=t-this._start,r=this._duration,i=this._prop,s=this._from,o=this._loop,a=this._to;let l;if(this._active=s!==a&&(o||n<r),!this._active){this._target[i]=a,this._notify(!0);return}if(n<0){this._target[i]=s;return}l=n/r%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[i]=this._fn(s,a,l)}wait(){const t=this._promises||(this._promises=[]);return new Promise((n,r)=>{t.push({res:n,rej:r})})}_notify(t){const n=t?"res":"rej",r=this._promises||[];for(let i=0;i<r.length;i++)r[i][n]()}}class lj{constructor(t,n){this._chart=t,this._properties=new Map,this.configure(n)}configure(t){if(!Yt(t))return;const n=Object.keys(Un.animation),r=this._properties;Object.getOwnPropertyNames(t).forEach(i=>{const s=t[i];if(!Yt(s))return;const o={};for(const a of n)o[a]=s[a];($n(s.properties)&&s.properties||[i]).forEach(a=>{(a===i||!r.has(a))&&r.set(a,o)})})}_animateOptions(t,n){const r=n.options,i=zK(t,r);if(!i)return[];const s=this._createAnimations(i,r);return r.$shared&&BK(t.options.$animations,r).then(()=>{t.options=r},()=>{}),s}_createAnimations(t,n){const r=this._properties,i=[],s=t.$animations||(t.$animations={}),o=Object.keys(n),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const u=o[l];if(u.charAt(0)==="$")continue;if(u==="options"){i.push(...this._animateOptions(t,n));continue}const f=n[u];let p=s[u];const g=r.get(u);if(p)if(g&&p.active()){p.update(g,f,a);continue}else p.cancel();if(!g||!g.duration){t[u]=f;continue}s[u]=p=new FK(g,t,u,f),i.push(p)}return i}update(t,n){if(this._properties.size===0){Object.assign(t,n);return}const r=this._createAnimations(t,n);if(r.length)return qo.add(this._chart,r),!0}}function BK(e,t){const n=[],r=Object.keys(t);for(let i=0;i<r.length;i++){const s=e[r[i]];s&&s.active()&&n.push(s.wait())}return Promise.all(n)}function zK(e,t){if(!t)return;let n=e.options;if(!n){e.options=t;return}return n.$shared&&(e.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function cC(e,t){const n=e&&e.options||{},r=n.reverse,i=n.min===void 0?t:0,s=n.max===void 0?t:0;return{start:r?s:i,end:r?i:s}}function $K(e,t,n){if(n===!1)return!1;const r=cC(e,n),i=cC(t,n);return{top:i.end,right:r.end,bottom:i.start,left:r.start}}function UK(e){let t,n,r,i;return Yt(e)?(t=e.top,n=e.right,r=e.bottom,i=e.left):t=n=r=i=e,{top:t,right:n,bottom:r,left:i,disabled:e===!1}}function cj(e,t){const n=[],r=e._getSortedDatasetMetas(t);let i,s;for(i=0,s=r.length;i<s;++i)n.push(r[i].index);return n}function uC(e,t,n,r={}){const i=e.keys,s=r.mode==="single";let o,a,l,u;if(t===null)return;let f=!1;for(o=0,a=i.length;o<a;++o){if(l=+i[o],l===n){if(f=!0,r.all)continue;break}u=e.values[l],Yn(u)&&(s||t===0||xo(t)===xo(u))&&(t+=u)}return!f&&!r.all?0:t}function HK(e,t){const{iScale:n,vScale:r}=t,i=n.axis==="x"?"x":"y",s=r.axis==="x"?"x":"y",o=Object.keys(e),a=new Array(o.length);let l,u,f;for(l=0,u=o.length;l<u;++l)f=o[l],a[l]={[i]:f,[s]:e[f]};return a}function vx(e,t){const n=e&&e.options.stacked;return n||n===void 0&&t.stack!==void 0}function WK(e,t,n){return`${e.id}.${t.id}.${n.stack||n.type}`}function qK(e){const{min:t,max:n,minDefined:r,maxDefined:i}=e.getUserBounds();return{min:r?t:Number.NEGATIVE_INFINITY,max:i?n:Number.POSITIVE_INFINITY}}function VK(e,t,n){const r=e[t]||(e[t]={});return r[n]||(r[n]={})}function dC(e,t,n,r){for(const i of t.getMatchingVisibleMetas(r).reverse()){const s=e[i.index];if(n&&s>0||!n&&s<0)return i.index}return null}function fC(e,t){const{chart:n,_cachedMeta:r}=e,i=n._stacks||(n._stacks={}),{iScale:s,vScale:o,index:a}=r,l=s.axis,u=o.axis,f=WK(s,o,r),p=t.length;let g;for(let y=0;y<p;++y){const b=t[y],{[l]:_,[u]:C}=b,k=b._stacks||(b._stacks={});g=k[u]=VK(i,f,_),g[a]=C,g._top=dC(g,o,!0,r.type),g._bottom=dC(g,o,!1,r.type);const R=g._visualValues||(g._visualValues={});R[a]=C}}function xx(e,t){const n=e.scales;return Object.keys(n).filter(r=>n[r].axis===t).shift()}function QK(e,t){return Sl(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function KK(e,t,n){return Sl(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}function Kf(e,t){const n=e.controller.index,r=e.vScale&&e.vScale.axis;if(r){t=t||e._parsed;for(const i of t){const s=i._stacks;if(!s||s[r]===void 0||s[r][n]===void 0)return;delete s[r][n],s[r]._visualValues!==void 0&&s[r]._visualValues[n]!==void 0&&delete s[r]._visualValues[n]}}}const bx=e=>e==="reset"||e==="none",hC=(e,t)=>t?e:Object.assign({},e),GK=(e,t,n)=>e&&!t.hidden&&t._stacked&&{keys:cj(n,!0),values:null};class Cl{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(t,n){this.chart=t,this._ctx=t.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=vx(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Kf(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,n=this._cachedMeta,r=this.getDataset(),i=(p,g,y,b)=>p==="x"?g:p==="r"?b:y,s=n.xAxisID=Et(r.xAxisID,xx(t,"x")),o=n.yAxisID=Et(r.yAxisID,xx(t,"y")),a=n.rAxisID=Et(r.rAxisID,xx(t,"r")),l=n.indexAxis,u=n.iAxisID=i(l,s,o,a),f=n.vAxisID=i(l,o,s,a);n.xScale=this.getScaleForId(s),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(a),n.iScale=this.getScaleForId(u),n.vScale=this.getScaleForId(f)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const n=this._cachedMeta;return t===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&G6(this._data,this),t._stacked&&Kf(t)}_dataCheck(){const t=this.getDataset(),n=t.data||(t.data=[]),r=this._data;if(Yt(n)){const i=this._cachedMeta;this._data=HK(n,i)}else if(r!==n){if(r){G6(r,this);const i=this._cachedMeta;Kf(i),i._parsed=[]}n&&Object.isExtensible(n)&&OQ(n,this),this._syncList=[],this._data=n}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const n=this._cachedMeta,r=this.getDataset();let i=!1;this._dataCheck();const s=n._stacked;n._stacked=vx(n.vScale,n),n.stack!==r.stack&&(i=!0,Kf(n),n.stack=r.stack),this._resyncElements(t),(i||s!==n._stacked)&&(fC(this,n._parsed),n._stacked=vx(n.vScale,n))}configure(){const t=this.chart.config,n=t.datasetScopeKeys(this._type),r=t.getOptionScopes(this.getDataset(),n,!0);this.options=t.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,n){const{_cachedMeta:r,_data:i}=this,{iScale:s,_stacked:o}=r,a=s.axis;let l=t===0&&n===i.length?!0:r._sorted,u=t>0&&r._parsed[t-1],f,p,g;if(this._parsing===!1)r._parsed=i,r._sorted=!0,g=i;else{$n(i[t])?g=this.parseArrayData(r,i,t,n):Yt(i[t])?g=this.parseObjectData(r,i,t,n):g=this.parsePrimitiveData(r,i,t,n);const y=()=>p[a]===null||u&&p[a]<u[a];for(f=0;f<n;++f)r._parsed[f+t]=p=g[f],l&&(y()&&(l=!1),u=p);r._sorted=l}o&&fC(this,g)}parsePrimitiveData(t,n,r,i){const{iScale:s,vScale:o}=t,a=s.axis,l=o.axis,u=s.getLabels(),f=s===o,p=new Array(i);let g,y,b;for(g=0,y=i;g<y;++g)b=g+r,p[g]={[a]:f||s.parse(u[b],b),[l]:o.parse(n[b],b)};return p}parseArrayData(t,n,r,i){const{xScale:s,yScale:o}=t,a=new Array(i);let l,u,f,p;for(l=0,u=i;l<u;++l)f=l+r,p=n[f],a[l]={x:s.parse(p[0],f),y:o.parse(p[1],f)};return a}parseObjectData(t,n,r,i){const{xScale:s,yScale:o}=t,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,u=new Array(i);let f,p,g,y;for(f=0,p=i;f<p;++f)g=f+r,y=n[g],u[f]={x:s.parse(hl(y,a),g),y:o.parse(hl(y,l),g)};return u}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,n,r){const i=this.chart,s=this._cachedMeta,o=n[t.axis],a={keys:cj(i,!0),values:n._stacks[t.axis]._visualValues};return uC(a,o,s.index,{mode:r})}updateRangeFromParsed(t,n,r,i){const s=r[n.axis];let o=s===null?NaN:s;const a=i&&r._stacks[n.axis];i&&a&&(i.values=a,o=uC(i,s,this._cachedMeta.index)),t.min=Math.min(t.min,o),t.max=Math.max(t.max,o)}getMinMax(t,n){const r=this._cachedMeta,i=r._parsed,s=r._sorted&&t===r.iScale,o=i.length,a=this._getOtherScale(t),l=GK(n,r,this.chart),u={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:f,max:p}=qK(a);let g,y;function b(){y=i[g];const _=y[a.axis];return!Yn(y[t.axis])||f>_||p<_}for(g=0;g<o&&!(!b()&&(this.updateRangeFromParsed(u,t,y,l),s));++g);if(s){for(g=o-1;g>=0;--g)if(!b()){this.updateRangeFromParsed(u,t,y,l);break}}return u}getAllParsedValues(t){const n=this._cachedMeta._parsed,r=[];let i,s,o;for(i=0,s=n.length;i<s;++i)o=n[i][t.axis],Yn(o)&&r.push(o);return r}getMaxOverflow(){return!1}getLabelAndValue(t){const n=this._cachedMeta,r=n.iScale,i=n.vScale,s=this.getParsed(t);return{label:r?""+r.getLabelForValue(s[r.axis]):"",value:i?""+i.getLabelForValue(s[i.axis]):""}}_update(t){const n=this._cachedMeta;this.update(t||"default"),n._clip=UK(Et(this.options.clip,$K(n.xScale,n.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,n=this.chart,r=this._cachedMeta,i=r.data||[],s=n.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||i.length-a,u=this.options.drawActiveElementsOnTop;let f;for(r.dataset&&r.dataset.draw(t,s,a,l),f=a;f<a+l;++f){const p=i[f];p.hidden||(p.active&&u?o.push(p):p.draw(t,s))}for(f=0;f<o.length;++f)o[f].draw(t,s)}getStyle(t,n){const r=n?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(t||0,r)}getContext(t,n,r){const i=this.getDataset();let s;if(t>=0&&t<this._cachedMeta.data.length){const o=this._cachedMeta.data[t];s=o.$context||(o.$context=KK(this.getContext(),t,o)),s.parsed=this.getParsed(t),s.raw=i.data[t],s.index=s.dataIndex=t}else s=this.$context||(this.$context=QK(this.chart.getContext(),this.index)),s.dataset=i,s.index=s.datasetIndex=this.index;return s.active=!!n,s.mode=r,s}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,n){return this._resolveElementOptions(this.dataElementType.id,n,t)}_resolveElementOptions(t,n="default",r){const i=n==="active",s=this._cachedDataOpts,o=t+"-"+n,a=s[o],l=this.enableOptionSharing&&Kh(r);if(a)return hC(a,l);const u=this.chart.config,f=u.datasetElementScopeKeys(this._type,t),p=i?[`${t}Hover`,"hover",t,""]:[t,""],g=u.getOptionScopes(this.getDataset(),f),y=Object.keys(Un.elements[t]),b=()=>this.getContext(r,i,n),_=u.resolveNamedOptions(g,y,b,p);return _.$shared&&(_.$shared=l,s[o]=Object.freeze(hC(_,l))),_}_resolveAnimations(t,n,r){const i=this.chart,s=this._cachedDataOpts,o=`animation-${n}`,a=s[o];if(a)return a;let l;if(i.options.animation!==!1){const f=this.chart.config,p=f.datasetAnimationScopeKeys(this._type,n),g=f.getOptionScopes(this.getDataset(),p);l=f.createResolver(g,this.getContext(t,r,n))}const u=new lj(i,l&&l.animations);return l&&l._cacheable&&(s[o]=Object.freeze(u)),u}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,n){return!n||bx(t)||this.chart._animationsDisabled}_getSharedOptions(t,n){const r=this.resolveDataElementOptions(t,n),i=this._sharedOptions,s=this.getSharedOptions(r),o=this.includeOptions(n,s)||s!==i;return this.updateSharedOptions(s,n,r),{sharedOptions:s,includeOptions:o}}updateElement(t,n,r,i){bx(i)?Object.assign(t,r):this._resolveAnimations(n,i).update(t,r)}updateSharedOptions(t,n,r){t&&!bx(n)&&this._resolveAnimations(void 0,n).update(t,r)}_setStyle(t,n,r,i){t.active=i;const s=this.getStyle(n,i);this._resolveAnimations(n,r,i).update(t,{options:!i&&this.getSharedOptions(s)||s})}removeHoverStyle(t,n,r){this._setStyle(t,r,"active",!1)}setHoverStyle(t,n,r){this._setStyle(t,r,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const n=this._data,r=this._cachedMeta.data;for(const[a,l,u]of this._syncList)this[a](l,u);this._syncList=[];const i=r.length,s=n.length,o=Math.min(s,i);o&&this.parse(0,o),s>i?this._insertElements(i,s-i,t):s<i&&this._removeElements(s,i-s)}_insertElements(t,n,r=!0){const i=this._cachedMeta,s=i.data,o=t+n;let a;const l=u=>{for(u.length+=n,a=u.length-1;a>=o;a--)u[a]=u[a-n]};for(l(s),a=t;a<o;++a)s[a]=new this.dataElementType;this._parsing&&l(i._parsed),this.parse(t,n),r&&this.updateElements(s,t,n,"reset")}updateElements(t,n,r,i){}_removeElements(t,n){const r=this._cachedMeta;if(this._parsing){const i=r._parsed.splice(t,n);r._stacked&&Kf(r,i)}r.data.splice(t,n)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[n,r,i]=t;this[n](r,i)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,n){n&&this._sync(["_removeElements",t,n]);const r=arguments.length-2;r&&this._sync(["_insertElements",t,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function YK(e,t){if(!e._cache.$bar){const n=e.getMatchingVisibleMetas(t);let r=[];for(let i=0,s=n.length;i<s;i++)r=r.concat(n[i].controller.getAllParsedValues(e));e._cache.$bar=UT(r.sort((i,s)=>i-s))}return e._cache.$bar}function XK(e){const t=e.iScale,n=YK(t,e.type);let r=t._length,i,s,o,a;const l=()=>{o===32767||o===-32768||(Kh(a)&&(r=Math.min(r,Math.abs(o-a)||r)),a=o)};for(i=0,s=n.length;i<s;++i)o=t.getPixelForValue(n[i]),l();for(a=void 0,i=0,s=t.ticks.length;i<s;++i)o=t.getPixelForTick(i),l();return r}function JK(e,t,n,r){const i=n.barThickness;let s,o;return Gt(i)?(s=t.min*n.categoryPercentage,o=n.barPercentage):(s=i*r,o=1),{chunk:s/r,ratio:o,start:t.pixels[e]-s/2}}function ZK(e,t,n,r){const i=t.pixels,s=i[e];let o=e>0?i[e-1]:null,a=e<i.length-1?i[e+1]:null;const l=n.categoryPercentage;o===null&&(o=s-(a===null?t.end-t.start:a-s)),a===null&&(a=s+s-o);const u=s-(s-Math.min(o,a))/2*l;return{chunk:Math.abs(a-o)/2*l/r,ratio:n.barPercentage,start:u}}function eG(e,t,n,r){const i=n.parse(e[0],r),s=n.parse(e[1],r),o=Math.min(i,s),a=Math.max(i,s);let l=o,u=a;Math.abs(o)>Math.abs(a)&&(l=a,u=o),t[n.axis]=u,t._custom={barStart:l,barEnd:u,start:i,end:s,min:o,max:a}}function uj(e,t,n,r){return $n(e)?eG(e,t,n,r):t[n.axis]=n.parse(e,r),t}function pC(e,t,n,r){const i=e.iScale,s=e.vScale,o=i.getLabels(),a=i===s,l=[];let u,f,p,g;for(u=n,f=n+r;u<f;++u)g=t[u],p={},p[i.axis]=a||i.parse(o[u],u),l.push(uj(g,p,s,u));return l}function wx(e){return e&&e.barStart!==void 0&&e.barEnd!==void 0}function tG(e,t,n){return e!==0?xo(e):(t.isHorizontal()?1:-1)*(t.min>=n?1:-1)}function nG(e){let t,n,r,i,s;return e.horizontal?(t=e.base>e.x,n="left",r="right"):(t=e.base<e.y,n="bottom",r="top"),t?(i="end",s="start"):(i="start",s="end"),{start:n,end:r,reverse:t,top:i,bottom:s}}function rG(e,t,n,r){let i=t.borderSkipped;const s={};if(!i){e.borderSkipped=s;return}if(i===!0){e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:a,reverse:l,top:u,bottom:f}=nG(e);i==="middle"&&n&&(e.enableBorderRadius=!0,(n._top||0)===r?i=u:(n._bottom||0)===r?i=f:(s[mC(f,o,a,l)]=!0,i=u)),s[mC(i,o,a,l)]=!0,e.borderSkipped=s}function mC(e,t,n,r){return r?(e=iG(e,t,n),e=gC(e,n,t)):e=gC(e,t,n),e}function iG(e,t,n){return e===t?n:e===n?t:e}function gC(e,t,n){return e==="start"?t:e==="end"?n:e}function sG(e,{inflateAmount:t},n){e.inflateAmount=t==="auto"?n===1?.33:0:t}class dj extends Cl{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(t,n,r,i){return pC(t,n,r,i)}parseArrayData(t,n,r,i){return pC(t,n,r,i)}parseObjectData(t,n,r,i){const{iScale:s,vScale:o}=t,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,u=s.axis==="x"?a:l,f=o.axis==="x"?a:l,p=[];let g,y,b,_;for(g=r,y=r+i;g<y;++g)_=n[g],b={},b[s.axis]=s.parse(hl(_,u),g),p.push(uj(hl(_,f),b,o,g));return p}updateRangeFromParsed(t,n,r,i){super.updateRangeFromParsed(t,n,r,i);const s=r._custom;s&&n===this._cachedMeta.vScale&&(t.min=Math.min(t.min,s.min),t.max=Math.max(t.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const n=this._cachedMeta,{iScale:r,vScale:i}=n,s=this.getParsed(t),o=s._custom,a=wx(o)?"["+o.start+", "+o.end+"]":""+i.getLabelForValue(s[i.axis]);return{label:""+r.getLabelForValue(s[r.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,t)}updateElements(t,n,r,i){const s=i==="reset",{index:o,_cachedMeta:{vScale:a}}=this,l=a.getBasePixel(),u=a.isHorizontal(),f=this._getRuler(),{sharedOptions:p,includeOptions:g}=this._getSharedOptions(n,i);for(let y=n;y<n+r;y++){const b=this.getParsed(y),_=s||Gt(b[a.axis])?{base:l,head:l}:this._calculateBarValuePixels(y),C=this._calculateBarIndexPixels(y,f),k=(b._stacks||{})[a.axis],R={horizontal:u,base:_.base,enableBorderRadius:!k||wx(b._custom)||o===k._top||o===k._bottom,x:u?_.head:C.center,y:u?C.center:_.head,height:u?C.size:Math.abs(_.size),width:u?Math.abs(_.size):C.size};g&&(R.options=p||this.resolveDataElementOptions(y,t[y].active?"active":i));const O=R.options||t[y].options;rG(R,O,k,o),sG(R,O,f.ratio),this.updateElement(t[y],y,R,i)}}_getStacks(t,n){const{iScale:r}=this._cachedMeta,i=r.getMatchingVisibleMetas(this._type).filter(f=>f.controller.options.grouped),s=r.options.stacked,o=[],a=this._cachedMeta.controller.getParsed(n),l=a&&a[r.axis],u=f=>{const p=f._parsed.find(y=>y[r.axis]===l),g=p&&p[f.vScale.axis];if(Gt(g)||isNaN(g))return!0};for(const f of i)if(!(n!==void 0&&u(f))&&((s===!1||o.indexOf(f.stack)===-1||s===void 0&&f.stack===void 0)&&o.push(f.stack),f.index===t))break;return o.length||o.push(void 0),o}_getStackCount(t){return this._getStacks(void 0,t).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const t=this.chart.scales,n=this.chart.options.indexAxis;return Object.keys(t).filter(r=>t[r].axis===n).shift()}_getAxis(){const t={},n=this.getFirstScaleIdForIndexAxis();for(const r of this.chart.data.datasets)t[Et(this.chart.options.indexAxis==="x"?r.xAxisID:r.yAxisID,n)]=!0;return Object.keys(t)}_getStackIndex(t,n,r){const i=this._getStacks(t,r),s=n!==void 0?i.indexOf(n):-1;return s===-1?i.length-1:s}_getRuler(){const t=this.options,n=this._cachedMeta,r=n.iScale,i=[];let s,o;for(s=0,o=n.data.length;s<o;++s)i.push(r.getPixelForValue(this.getParsed(s)[r.axis],s));const a=t.barThickness;return{min:a||XK(n),pixels:i,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:t.grouped,ratio:a?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:n,_stacked:r,index:i},options:{base:s,minBarLength:o}}=this,a=s||0,l=this.getParsed(t),u=l._custom,f=wx(u);let p=l[n.axis],g=0,y=r?this.applyStack(n,l,r):p,b,_;y!==p&&(g=y-p,y=p),f&&(p=u.barStart,y=u.barEnd-u.barStart,p!==0&&xo(p)!==xo(u.barEnd)&&(g=0),g+=p);const C=!Gt(s)&&!f?s:g;let k=n.getPixelForValue(C);if(this.chart.getDataVisibility(t)?b=n.getPixelForValue(g+y):b=k,_=b-k,Math.abs(_)<o){_=tG(_,n,a)*o,p===a&&(k-=_/2);const R=n.getPixelForDecimal(0),O=n.getPixelForDecimal(1),$=Math.min(R,O),z=Math.max(R,O);k=Math.max(Math.min(k,z),$),b=k+_,r&&!f&&(l._stacks[n.axis]._visualValues[i]=n.getValueForPixel(b)-n.getValueForPixel(k))}if(k===n.getPixelForValue(a)){const R=xo(_)*n.getLineWidthForValue(a)/2;k+=R,_-=R}return{size:_,base:k,head:b,center:b+_/2}}_calculateBarIndexPixels(t,n){const r=n.scale,i=this.options,s=i.skipNull,o=Et(i.maxBarThickness,1/0);let a,l;const u=this._getAxisCount();if(n.grouped){const f=s?this._getStackCount(t):n.stackCount,p=i.barThickness==="flex"?ZK(t,n,i,f*u):JK(t,n,i,f*u),g=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,y=this._getAxis().indexOf(Et(g,this.getFirstScaleIdForIndexAxis())),b=this._getStackIndex(this.index,this._cachedMeta.stack,s?t:void 0)+y;a=p.start+p.chunk*b+p.chunk/2,l=Math.min(o,p.chunk*p.ratio)}else a=r.getPixelForValue(this.getParsed(t)[r.axis],t),l=Math.min(o,n.min*n.ratio);return{base:a-l/2,head:a+l/2,center:a,size:l}}draw(){const t=this._cachedMeta,n=t.vScale,r=t.data,i=r.length;let s=0;for(;s<i;++s)this.getParsed(s)[n.axis]!==null&&!r[s].hidden&&r[s].draw(this._ctx)}}class oG extends Cl{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,n,r,i){const s=super.parsePrimitiveData(t,n,r,i);for(let o=0;o<s.length;o++)s[o]._custom=this.resolveDataElementOptions(o+r).radius;return s}parseArrayData(t,n,r,i){const s=super.parseArrayData(t,n,r,i);for(let o=0;o<s.length;o++){const a=n[r+o];s[o]._custom=Et(a[2],this.resolveDataElementOptions(o+r).radius)}return s}parseObjectData(t,n,r,i){const s=super.parseObjectData(t,n,r,i);for(let o=0;o<s.length;o++){const a=n[r+o];s[o]._custom=Et(a&&a.r&&+a.r,this.resolveDataElementOptions(o+r).radius)}return s}getMaxOverflow(){const t=this._cachedMeta.data;let n=0;for(let r=t.length-1;r>=0;--r)n=Math.max(n,t[r].size(this.resolveDataElementOptions(r))/2);return n>0&&n}getLabelAndValue(t){const n=this._cachedMeta,r=this.chart.data.labels||[],{xScale:i,yScale:s}=n,o=this.getParsed(t),a=i.getLabelForValue(o.x),l=s.getLabelForValue(o.y),u=o._custom;return{label:r[t]||"",value:"("+a+", "+l+(u?", "+u:"")+")"}}update(t){const n=this._cachedMeta.data;this.updateElements(n,0,n.length,t)}updateElements(t,n,r,i){const s=i==="reset",{iScale:o,vScale:a}=this._cachedMeta,{sharedOptions:l,includeOptions:u}=this._getSharedOptions(n,i),f=o.axis,p=a.axis;for(let g=n;g<n+r;g++){const y=t[g],b=!s&&this.getParsed(g),_={},C=_[f]=s?o.getPixelForDecimal(.5):o.getPixelForValue(b[f]),k=_[p]=s?a.getBasePixel():a.getPixelForValue(b[p]);_.skip=isNaN(C)||isNaN(k),u&&(_.options=l||this.resolveDataElementOptions(g,y.active?"active":i),s&&(_.options.radius=0)),this.updateElement(y,g,_,i)}}resolveDataElementOptions(t,n){const r=this.getParsed(t);let i=super.resolveDataElementOptions(t,n);i.$shared&&(i=Object.assign({},i,{$shared:!1}));const s=i.radius;return n!=="active"&&(i.radius=0),i.radius+=Et(r&&r._custom,s),i}}function aG(e,t,n){let r=1,i=1,s=0,o=0;if(t<An){const a=e,l=a+t,u=Math.cos(a),f=Math.sin(a),p=Math.cos(l),g=Math.sin(l),y=(O,$,z)=>Gh(O,a,l,!0)?1:Math.max($,$*n,z,z*n),b=(O,$,z)=>Gh(O,a,l,!0)?-1:Math.min($,$*n,z,z*n),_=y(0,u,p),C=y(tr,f,g),k=b(dn,u,p),R=b(dn+tr,f,g);r=(_-k)/2,i=(C-R)/2,s=-(_+k)/2,o=-(C+R)/2}return{ratioX:r,ratioY:i,offsetX:s,offsetY:o}}class D1 extends Cl{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const n=t.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:r,color:i}}=t.legend.options;return n.labels.map((s,o)=>{const l=t.getDatasetMeta(0).controller.getStyle(o);return{text:s,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:i,lineWidth:l.borderWidth,pointStyle:r,hidden:!t.getDataVisibility(o),index:o}})}return[]}},onClick(t,n,r){r.chart.toggleDataVisibility(n.index),r.chart.update()}}}};constructor(t,n){super(t,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,n){const r=this.getDataset().data,i=this._cachedMeta;if(this._parsing===!1)i._parsed=r;else{let s=l=>+r[l];if(Yt(r[t])){const{key:l="value"}=this._parsing;s=u=>+hl(r[u],l)}let o,a;for(o=t,a=t+n;o<a;++o)i._parsed[o]=s(o)}}_getRotation(){return Ks(this.options.rotation-90)}_getCircumference(){return Ks(this.options.circumference)}_getRotationExtents(){let t=An,n=-An;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){const i=this.chart.getDatasetMeta(r).controller,s=i._getRotation(),o=i._getCircumference();t=Math.min(t,s),n=Math.max(n,s+o)}return{rotation:t,circumference:n-t}}update(t){const n=this.chart,{chartArea:r}=n,i=this._cachedMeta,s=i.data,o=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,a=Math.max((Math.min(r.width,r.height)-o)/2,0),l=Math.min(vQ(this.options.cutout,a),1),u=this._getRingWeight(this.index),{circumference:f,rotation:p}=this._getRotationExtents(),{ratioX:g,ratioY:y,offsetX:b,offsetY:_}=aG(p,f,l),C=(r.width-o)/g,k=(r.height-o)/y,R=Math.max(Math.min(C,k)/2,0),O=LT(this.options.radius,R),$=Math.max(O*l,0),z=(O-$)/this._getVisibleDatasetWeightTotal();this.offsetX=b*O,this.offsetY=_*O,i.total=this.calculateTotal(),this.outerRadius=O-z*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-z*u,0),this.updateElements(s,0,s.length,t)}_circumference(t,n){const r=this.options,i=this._cachedMeta,s=this._getCircumference();return n&&r.animation.animateRotate||!this.chart.getDataVisibility(t)||i._parsed[t]===null||i.data[t].hidden?0:this.calculateCircumference(i._parsed[t]*s/An)}updateElements(t,n,r,i){const s=i==="reset",o=this.chart,a=o.chartArea,u=o.options.animation,f=(a.left+a.right)/2,p=(a.top+a.bottom)/2,g=s&&u.animateScale,y=g?0:this.innerRadius,b=g?0:this.outerRadius,{sharedOptions:_,includeOptions:C}=this._getSharedOptions(n,i);let k=this._getRotation(),R;for(R=0;R<n;++R)k+=this._circumference(R,s);for(R=n;R<n+r;++R){const O=this._circumference(R,s),$=t[R],z={x:f+this.offsetX,y:p+this.offsetY,startAngle:k,endAngle:k+O,circumference:O,outerRadius:b,innerRadius:y};C&&(z.options=_||this.resolveDataElementOptions(R,$.active?"active":i)),k+=O,this.updateElement($,R,z,i)}}calculateTotal(){const t=this._cachedMeta,n=t.data;let r=0,i;for(i=0;i<n.length;i++){const s=t._parsed[i];s!==null&&!isNaN(s)&&this.chart.getDataVisibility(i)&&!n[i].hidden&&(r+=Math.abs(s))}return r}calculateCircumference(t){const n=this._cachedMeta.total;return n>0&&!isNaN(t)?An*(Math.abs(t)/n):0}getLabelAndValue(t){const n=this._cachedMeta,r=this.chart,i=r.data.labels||[],s=_p(n._parsed[t],r.options.locale);return{label:i[t]||"",value:s}}getMaxBorderWidth(t){let n=0;const r=this.chart;let i,s,o,a,l;if(!t){for(i=0,s=r.data.datasets.length;i<s;++i)if(r.isDatasetVisible(i)){o=r.getDatasetMeta(i),t=o.data,a=o.controller;break}}if(!t)return 0;for(i=0,s=t.length;i<s;++i)l=a.resolveDataElementOptions(i),l.borderAlign!=="inner"&&(n=Math.max(n,l.borderWidth||0,l.hoverBorderWidth||0));return n}getMaxOffset(t){let n=0;for(let r=0,i=t.length;r<i;++r){const s=this.resolveDataElementOptions(r);n=Math.max(n,s.offset||0,s.hoverOffset||0)}return n}_getRingWeightOffset(t){let n=0;for(let r=0;r<t;++r)this.chart.isDatasetVisible(r)&&(n+=this._getRingWeight(r));return n}_getRingWeight(t){return Math.max(Et(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class lG extends Cl{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const n=this._cachedMeta,{dataset:r,data:i=[],_dataset:s}=n,o=this.chart._animationsDisabled;let{start:a,count:l}=qT(n,i,o);this._drawStart=a,this._drawCount=l,VT(n)&&(a=0,l=i.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!s._decimated,r.points=i;const u=this.resolveDatasetElementOptions(t);this.options.showLine||(u.borderWidth=0),u.segment=this.options.segment,this.updateElement(r,void 0,{animated:!o,options:u},t),this.updateElements(i,a,l,t)}updateElements(t,n,r,i){const s=i==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:u}=this._cachedMeta,{sharedOptions:f,includeOptions:p}=this._getSharedOptions(n,i),g=o.axis,y=a.axis,{spanGaps:b,segment:_}=this.options,C=Ac(b)?b:Number.POSITIVE_INFINITY,k=this.chart._animationsDisabled||s||i==="none",R=n+r,O=t.length;let $=n>0&&this.getParsed(n-1);for(let z=0;z<O;++z){const j=t[z],A=k?j:{};if(z<n||z>=R){A.skip=!0;continue}const B=this.getParsed(z),U=Gt(B[y]),D=A[g]=o.getPixelForValue(B[g],z),Z=A[y]=s||U?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,B,l):B[y],z);A.skip=isNaN(D)||isNaN(Z)||U,A.stop=z>0&&Math.abs(B[g]-$[g])>C,_&&(A.parsed=B,A.raw=u.data[z]),p&&(A.options=f||this.resolveDataElementOptions(z,j.active?"active":i)),k||this.updateElement(j,z,A,i),$=B}}getMaxOverflow(){const t=this._cachedMeta,n=t.dataset,r=n.options&&n.options.borderWidth||0,i=t.data||[];if(!i.length)return r;const s=i[0].size(this.resolveDataElementOptions(0)),o=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(r,s,o)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}class fj extends Cl{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const n=t.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:r,color:i}}=t.legend.options;return n.labels.map((s,o)=>{const l=t.getDatasetMeta(0).controller.getStyle(o);return{text:s,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:i,lineWidth:l.borderWidth,pointStyle:r,hidden:!t.getDataVisibility(o),index:o}})}return[]}},onClick(t,n,r){r.chart.toggleDataVisibility(n.index),r.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(t,n){super(t,n),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const n=this._cachedMeta,r=this.chart,i=r.data.labels||[],s=_p(n._parsed[t].r,r.options.locale);return{label:i[t]||"",value:s}}parseObjectData(t,n,r,i){return ej.bind(this)(t,n,r,i)}update(t){const n=this._cachedMeta.data;this._updateRadius(),this.updateElements(n,0,n.length,t)}getMinMax(){const t=this._cachedMeta,n={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach((r,i)=>{const s=this.getParsed(i).r;!isNaN(s)&&this.chart.getDataVisibility(i)&&(s<n.min&&(n.min=s),s>n.max&&(n.max=s))}),n}_updateRadius(){const t=this.chart,n=t.chartArea,r=t.options,i=Math.min(n.right-n.left,n.bottom-n.top),s=Math.max(i/2,0),o=Math.max(r.cutoutPercentage?s/100*r.cutoutPercentage:1,0),a=(s-o)/t.getVisibleDatasetCount();this.outerRadius=s-a*this.index,this.innerRadius=this.outerRadius-a}updateElements(t,n,r,i){const s=i==="reset",o=this.chart,l=o.options.animation,u=this._cachedMeta.rScale,f=u.xCenter,p=u.yCenter,g=u.getIndexAngle(0)-.5*dn;let y=g,b;const _=360/this.countVisibleElements();for(b=0;b<n;++b)y+=this._computeAngle(b,i,_);for(b=n;b<n+r;b++){const C=t[b];let k=y,R=y+this._computeAngle(b,i,_),O=o.getDataVisibility(b)?u.getDistanceFromCenterForValue(this.getParsed(b).r):0;y=R,s&&(l.animateScale&&(O=0),l.animateRotate&&(k=R=g));const $={x:f,y:p,innerRadius:0,outerRadius:O,startAngle:k,endAngle:R,options:this.resolveDataElementOptions(b,C.active?"active":i)};this.updateElement(C,b,$,i)}}countVisibleElements(){const t=this._cachedMeta;let n=0;return t.data.forEach((r,i)=>{!isNaN(this.getParsed(i).r)&&this.chart.getDataVisibility(i)&&n++}),n}_computeAngle(t,n,r){return this.chart.getDataVisibility(t)?Ks(this.resolveDataElementOptions(t,n).angle||r):0}}class cG extends D1{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}class hj extends Cl{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(t){const n=this._cachedMeta.vScale,r=this.getParsed(t);return{label:n.getLabels()[t],value:""+n.getLabelForValue(r[n.axis])}}parseObjectData(t,n,r,i){return ej.bind(this)(t,n,r,i)}update(t){const n=this._cachedMeta,r=n.dataset,i=n.data||[],s=n.iScale.getLabels();if(r.points=i,t!=="resize"){const o=this.resolveDatasetElementOptions(t);this.options.showLine||(o.borderWidth=0);const a={_loop:!0,_fullLoop:s.length===i.length,options:o};this.updateElement(r,void 0,a,t)}this.updateElements(i,0,i.length,t)}updateElements(t,n,r,i){const s=this._cachedMeta.rScale,o=i==="reset";for(let a=n;a<n+r;a++){const l=t[a],u=this.resolveDataElementOptions(a,l.active?"active":i),f=s.getPointPositionForValue(a,this.getParsed(a).r),p=o?s.xCenter:f.x,g=o?s.yCenter:f.y,y={x:p,y:g,angle:f.angle,skip:isNaN(p)||isNaN(g),options:u};this.updateElement(l,a,y,i)}}}class uG extends Cl{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(t){const n=this._cachedMeta,r=this.chart.data.labels||[],{xScale:i,yScale:s}=n,o=this.getParsed(t),a=i.getLabelForValue(o.x),l=s.getLabelForValue(o.y);return{label:r[t]||"",value:"("+a+", "+l+")"}}update(t){const n=this._cachedMeta,{data:r=[]}=n,i=this.chart._animationsDisabled;let{start:s,count:o}=qT(n,r,i);if(this._drawStart=s,this._drawCount=o,VT(n)&&(s=0,o=r.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:a,_dataset:l}=n;a._chart=this.chart,a._datasetIndex=this.index,a._decimated=!!l._decimated,a.points=r;const u=this.resolveDatasetElementOptions(t);u.segment=this.options.segment,this.updateElement(a,void 0,{animated:!i,options:u},t)}else this.datasetElementType&&(delete n.dataset,this.datasetElementType=!1);this.updateElements(r,s,o,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,n,r,i){const s=i==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:u}=this._cachedMeta,f=this.resolveDataElementOptions(n,i),p=this.getSharedOptions(f),g=this.includeOptions(i,p),y=o.axis,b=a.axis,{spanGaps:_,segment:C}=this.options,k=Ac(_)?_:Number.POSITIVE_INFINITY,R=this.chart._animationsDisabled||s||i==="none";let O=n>0&&this.getParsed(n-1);for(let $=n;$<n+r;++$){const z=t[$],j=this.getParsed($),A=R?z:{},B=Gt(j[b]),U=A[y]=o.getPixelForValue(j[y],$),D=A[b]=s||B?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,j,l):j[b],$);A.skip=isNaN(U)||isNaN(D)||B,A.stop=$>0&&Math.abs(j[y]-O[y])>k,C&&(A.parsed=j,A.raw=u.data[$]),g&&(A.options=p||this.resolveDataElementOptions($,z.active?"active":i)),R||this.updateElement(z,$,A,i),O=j}this.updateSharedOptions(p,i,f)}getMaxOverflow(){const t=this._cachedMeta,n=t.data||[];if(!this.options.showLine){let a=0;for(let l=n.length-1;l>=0;--l)a=Math.max(a,n[l].size(this.resolveDataElementOptions(l))/2);return a>0&&a}const r=t.dataset,i=r.options&&r.options.borderWidth||0;if(!n.length)return i;const s=n[0].size(this.resolveDataElementOptions(0)),o=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(i,s,o)/2}}var dG=Object.freeze({__proto__:null,BarController:dj,BubbleController:oG,DoughnutController:D1,LineController:lG,PieController:cG,PolarAreaController:fj,RadarController:hj,ScatterController:uG});function sc(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class w_{static override(t){Object.assign(w_.prototype,t)}options;constructor(t){this.options=t||{}}init(){}formats(){return sc()}parse(){return sc()}format(){return sc()}add(){return sc()}diff(){return sc()}startOf(){return sc()}endOf(){return sc()}}var fG={_date:w_};function hG(e,t,n,r){const{controller:i,data:s,_sorted:o}=e,a=i._cachedMeta.iScale,l=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(a&&t===a.axis&&t!=="r"&&o&&s.length){const u=a._reversePixels?RQ:ta;if(r){if(i._sharedOptions){const f=s[0],p=typeof f.getRange=="function"&&f.getRange(t);if(p){const g=u(s,t,n-p),y=u(s,t,n+p);return{lo:g.lo,hi:y.hi}}}}else{const f=u(s,t,n);if(l){const{vScale:p}=i._cachedMeta,{_parsed:g}=e,y=g.slice(0,f.lo+1).reverse().findIndex(_=>!Gt(_[p.axis]));f.lo-=Math.max(0,y);const b=g.slice(f.hi).findIndex(_=>!Gt(_[p.axis]));f.hi+=Math.max(0,b)}return f}}return{lo:0,hi:s.length-1}}function L1(e,t,n,r,i){const s=e.getSortedVisibleDatasetMetas(),o=n[t];for(let a=0,l=s.length;a<l;++a){const{index:u,data:f}=s[a],{lo:p,hi:g}=hG(s[a],t,o,i);for(let y=p;y<=g;++y){const b=f[y];b.skip||r(b,u,y)}}}function pG(e){const t=e.indexOf("x")!==-1,n=e.indexOf("y")!==-1;return function(r,i){const s=t?Math.abs(r.x-i.x):0,o=n?Math.abs(r.y-i.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(o,2))}}function _x(e,t,n,r,i){const s=[];return!i&&!e.isPointInArea(t)||L1(e,n,t,function(a,l,u){!i&&!na(a,e.chartArea,0)||a.inRange(t.x,t.y,r)&&s.push({element:a,datasetIndex:l,index:u})},!0),s}function mG(e,t,n,r){let i=[];function s(o,a,l){const{startAngle:u,endAngle:f}=o.getProps(["startAngle","endAngle"],r),{angle:p}=zT(o,{x:t.x,y:t.y});Gh(p,u,f)&&i.push({element:o,datasetIndex:a,index:l})}return L1(e,n,t,s),i}function gG(e,t,n,r,i,s){let o=[];const a=pG(n);let l=Number.POSITIVE_INFINITY;function u(f,p,g){const y=f.inRange(t.x,t.y,i);if(r&&!y)return;const b=f.getCenterPoint(i);if(!(!!s||e.isPointInArea(b))&&!y)return;const C=a(t,b);C<l?(o=[{element:f,datasetIndex:p,index:g}],l=C):C===l&&o.push({element:f,datasetIndex:p,index:g})}return L1(e,n,t,u),o}function Sx(e,t,n,r,i,s){return!s&&!e.isPointInArea(t)?[]:n==="r"&&!r?mG(e,t,n,i):gG(e,t,n,r,i,s)}function yC(e,t,n,r,i){const s=[],o=n==="x"?"inXRange":"inYRange";let a=!1;return L1(e,n,t,(l,u,f)=>{l[o]&&l[o](t[n],i)&&(s.push({element:l,datasetIndex:u,index:f}),a=a||l.inRange(t.x,t.y,i))}),r&&!a?[]:s}var yG={modes:{index(e,t,n,r){const i=fc(t,e),s=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?_x(e,i,s,r,o):Sx(e,i,s,!1,r,o),l=[];return a.length?(e.getSortedVisibleDatasetMetas().forEach(u=>{const f=a[0].index,p=u.data[f];p&&!p.skip&&l.push({element:p,datasetIndex:u.index,index:f})}),l):[]},dataset(e,t,n,r){const i=fc(t,e),s=n.axis||"xy",o=n.includeInvisible||!1;let a=n.intersect?_x(e,i,s,r,o):Sx(e,i,s,!1,r,o);if(a.length>0){const l=a[0].datasetIndex,u=e.getDatasetMeta(l).data;a=[];for(let f=0;f<u.length;++f)a.push({element:u[f],datasetIndex:l,index:f})}return a},point(e,t,n,r){const i=fc(t,e),s=n.axis||"xy",o=n.includeInvisible||!1;return _x(e,i,s,r,o)},nearest(e,t,n,r){const i=fc(t,e),s=n.axis||"xy",o=n.includeInvisible||!1;return Sx(e,i,s,n.intersect,r,o)},x(e,t,n,r){const i=fc(t,e);return yC(e,i,"x",n.intersect,r)},y(e,t,n,r){const i=fc(t,e);return yC(e,i,"y",n.intersect,r)}}};const pj=["left","top","right","bottom"];function Gf(e,t){return e.filter(n=>n.pos===t)}function vC(e,t){return e.filter(n=>pj.indexOf(n.pos)===-1&&n.box.axis===t)}function Yf(e,t){return e.sort((n,r)=>{const i=t?r:n,s=t?n:r;return i.weight===s.weight?i.index-s.index:i.weight-s.weight})}function vG(e){const t=[];let n,r,i,s,o,a;for(n=0,r=(e||[]).length;n<r;++n)i=e[n],{position:s,options:{stack:o,stackWeight:a=1}}=i,t.push({index:n,box:i,pos:s,horizontal:i.isHorizontal(),weight:i.weight,stack:o&&s+o,stackWeight:a});return t}function xG(e){const t={};for(const n of e){const{stack:r,pos:i,stackWeight:s}=n;if(!r||!pj.includes(i))continue;const o=t[r]||(t[r]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=s}return t}function bG(e,t){const n=xG(e),{vBoxMaxWidth:r,hBoxMaxHeight:i}=t;let s,o,a;for(s=0,o=e.length;s<o;++s){a=e[s];const{fullSize:l}=a.box,u=n[a.stack],f=u&&a.stackWeight/u.weight;a.horizontal?(a.width=f?f*r:l&&t.availableWidth,a.height=i):(a.width=r,a.height=f?f*i:l&&t.availableHeight)}return n}function wG(e){const t=vG(e),n=Yf(t.filter(u=>u.box.fullSize),!0),r=Yf(Gf(t,"left"),!0),i=Yf(Gf(t,"right")),s=Yf(Gf(t,"top"),!0),o=Yf(Gf(t,"bottom")),a=vC(t,"x"),l=vC(t,"y");return{fullSize:n,leftAndTop:r.concat(s),rightAndBottom:i.concat(l).concat(o).concat(a),chartArea:Gf(t,"chartArea"),vertical:r.concat(i).concat(l),horizontal:s.concat(o).concat(a)}}function xC(e,t,n,r){return Math.max(e[n],t[n])+Math.max(e[r],t[r])}function mj(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function _G(e,t,n,r){const{pos:i,box:s}=n,o=e.maxPadding;if(!Yt(i)){n.size&&(e[i]-=n.size);const p=r[n.stack]||{size:0,count:1};p.size=Math.max(p.size,n.horizontal?s.height:s.width),n.size=p.size/p.count,e[i]+=n.size}s.getPadding&&mj(o,s.getPadding());const a=Math.max(0,t.outerWidth-xC(o,e,"left","right")),l=Math.max(0,t.outerHeight-xC(o,e,"top","bottom")),u=a!==e.w,f=l!==e.h;return e.w=a,e.h=l,n.horizontal?{same:u,other:f}:{same:f,other:u}}function SG(e){const t=e.maxPadding;function n(r){const i=Math.max(t[r]-e[r],0);return e[r]+=i,i}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}function CG(e,t){const n=t.maxPadding;function r(i){const s={left:0,top:0,right:0,bottom:0};return i.forEach(o=>{s[o]=Math.max(t[o],n[o])}),s}return r(e?["left","right"]:["top","bottom"])}function fh(e,t,n,r){const i=[];let s,o,a,l,u,f;for(s=0,o=e.length,u=0;s<o;++s){a=e[s],l=a.box,l.update(a.width||t.w,a.height||t.h,CG(a.horizontal,t));const{same:p,other:g}=_G(t,n,a,r);u|=p&&i.length,f=f||g,l.fullSize||i.push(a)}return u&&fh(i,t,n,r)||f}function xg(e,t,n,r,i){e.top=n,e.left=t,e.right=t+r,e.bottom=n+i,e.width=r,e.height=i}function bC(e,t,n,r){const i=n.padding;let{x:s,y:o}=t;for(const a of e){const l=a.box,u=r[a.stack]||{placed:0,weight:1},f=a.stackWeight/u.weight||1;if(a.horizontal){const p=t.w*f,g=u.size||l.height;Kh(u.start)&&(o=u.start),l.fullSize?xg(l,i.left,o,n.outerWidth-i.right-i.left,g):xg(l,t.left+u.placed,o,p,g),u.start=o,u.placed+=p,o=l.bottom}else{const p=t.h*f,g=u.size||l.width;Kh(u.start)&&(s=u.start),l.fullSize?xg(l,s,i.top,g,n.outerHeight-i.bottom-i.top):xg(l,s,t.top+u.placed,g,p),u.start=s,u.placed+=p,s=l.right}}t.x=s,t.y=o}var Gr={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(n){t.draw(n)}}]},e.boxes.push(t)},removeBox(e,t){const n=e.boxes?e.boxes.indexOf(t):-1;n!==-1&&e.boxes.splice(n,1)},configure(e,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},update(e,t,n,r){if(!e)return;const i=Xr(e.options.layout.padding),s=Math.max(t-i.width,0),o=Math.max(n-i.height,0),a=wG(e.boxes),l=a.vertical,u=a.horizontal;vn(e.boxes,_=>{typeof _.beforeLayout=="function"&&_.beforeLayout()});const f=l.reduce((_,C)=>C.box.options&&C.box.options.display===!1?_:_+1,0)||1,p=Object.freeze({outerWidth:t,outerHeight:n,padding:i,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/f,hBoxMaxHeight:o/2}),g=Object.assign({},i);mj(g,Xr(r));const y=Object.assign({maxPadding:g,w:s,h:o,x:i.left,y:i.top},i),b=bG(l.concat(u),p);fh(a.fullSize,y,p,b),fh(l,y,p,b),fh(u,y,p,b)&&fh(l,y,p,b),SG(y),bC(a.leftAndTop,y,p,b),y.x+=y.w,y.y+=y.h,bC(a.rightAndBottom,y,p,b),e.chartArea={left:y.left,top:y.top,right:y.left+y.w,bottom:y.top+y.h,height:y.h,width:y.w},vn(a.chartArea,_=>{const C=_.box;Object.assign(C,e.chartArea),C.update(y.w,y.h,{left:0,top:0,right:0,bottom:0})})}};class gj{acquireContext(t,n){}releaseContext(t){return!1}addEventListener(t,n,r){}removeEventListener(t,n,r){}getDevicePixelRatio(){return 1}getMaximumSize(t,n,r,i){return n=Math.max(0,n||t.width),r=r||t.height,{width:n,height:Math.max(0,i?Math.floor(n/i):r)}}isAttached(t){return!0}updateConfig(t){}}class kG extends gj{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const s0="$chartjs",EG={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},wC=e=>e===null||e==="";function TG(e,t){const n=e.style,r=e.getAttribute("height"),i=e.getAttribute("width");if(e[s0]={initial:{height:r,width:i,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",wC(i)){const s=iC(e,"width");s!==void 0&&(e.width=s)}if(wC(r))if(e.style.height==="")e.height=e.width/(t||2);else{const s=iC(e,"height");s!==void 0&&(e.height=s)}return e}const yj=CK?{passive:!0}:!1;function jG(e,t,n){e&&e.addEventListener(t,n,yj)}function NG(e,t,n){e&&e.canvas&&e.canvas.removeEventListener(t,n,yj)}function IG(e,t){const n=EG[e.type]||e.type,{x:r,y:i}=fc(e,t);return{type:n,chart:t,native:e,x:r!==void 0?r:null,y:i!==void 0?i:null}}function V0(e,t){for(const n of e)if(n===t||n.contains(t))return!0}function RG(e,t,n){const r=e.canvas,i=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||V0(a.addedNodes,r),o=o&&!V0(a.removedNodes,r);o&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}function PG(e,t,n){const r=e.canvas,i=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||V0(a.removedNodes,r),o=o&&!V0(a.addedNodes,r);o&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}const Xh=new Map;let _C=0;function vj(){const e=window.devicePixelRatio;e!==_C&&(_C=e,Xh.forEach((t,n)=>{n.currentDevicePixelRatio!==e&&t()}))}function OG(e,t){Xh.size||window.addEventListener("resize",vj),Xh.set(e,t)}function MG(e){Xh.delete(e),Xh.size||window.removeEventListener("resize",vj)}function AG(e,t,n){const r=e.canvas,i=r&&b_(r);if(!i)return;const s=WT((a,l)=>{const u=i.clientWidth;n(a,l),u<i.clientWidth&&n()},window),o=new ResizeObserver(a=>{const l=a[0],u=l.contentRect.width,f=l.contentRect.height;u===0&&f===0||s(u,f)});return o.observe(i),OG(e,s),o}function Cx(e,t,n){n&&n.disconnect(),t==="resize"&&MG(e)}function DG(e,t,n){const r=e.canvas,i=WT(s=>{e.ctx!==null&&n(IG(s,e))},e);return jG(r,t,i),i}class LG extends gj{acquireContext(t,n){const r=t&&t.getContext&&t.getContext("2d");return r&&r.canvas===t?(TG(t,n),r):null}releaseContext(t){const n=t.canvas;if(!n[s0])return!1;const r=n[s0].initial;["height","width"].forEach(s=>{const o=r[s];Gt(o)?n.removeAttribute(s):n.setAttribute(s,o)});const i=r.style||{};return Object.keys(i).forEach(s=>{n.style[s]=i[s]}),n.width=n.width,delete n[s0],!0}addEventListener(t,n,r){this.removeEventListener(t,n);const i=t.$proxies||(t.$proxies={}),o={attach:RG,detach:PG,resize:AG}[n]||DG;i[n]=o(t,n,r)}removeEventListener(t,n){const r=t.$proxies||(t.$proxies={}),i=r[n];if(!i)return;({attach:Cx,detach:Cx,resize:Cx}[n]||NG)(t,n,i),r[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,n,r,i){return SK(t,n,r,i)}isAttached(t){const n=t&&b_(t);return!!(n&&n.isConnected)}}function FG(e){return!x_()||typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas?kG:LG}let fa=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){const{x:n,y:r}=this.getProps(["x","y"],t);return{x:n,y:r}}hasValue(){return Ac(this.x)&&Ac(this.y)}getProps(t,n){const r=this.$animations;if(!n||!r)return this;const i={};return t.forEach(s=>{i[s]=r[s]&&r[s].active()?r[s]._to:this[s]}),i}};function BG(e,t){const n=e.options.ticks,r=zG(e),i=Math.min(n.maxTicksLimit||r,r),s=n.major.enabled?UG(t):[],o=s.length,a=s[0],l=s[o-1],u=[];if(o>i)return HG(t,u,s,o/i),u;const f=$G(s,t,i);if(o>0){let p,g;const y=o>1?Math.round((l-a)/(o-1)):null;for(bg(t,u,f,Gt(y)?0:a-y,a),p=0,g=o-1;p<g;p++)bg(t,u,f,s[p],s[p+1]);return bg(t,u,f,l,Gt(y)?t.length:l+y),u}return bg(t,u,f),u}function zG(e){const t=e.options.offset,n=e._tickSize(),r=e._length/n+(t?0:1),i=e._maxLength/n;return Math.floor(Math.min(r,i))}function $G(e,t,n){const r=WG(e),i=t.length/n;if(!r)return Math.max(i,1);const s=EQ(r);for(let o=0,a=s.length-1;o<a;o++){const l=s[o];if(l>i)return l}return Math.max(i,1)}function UG(e){const t=[];let n,r;for(n=0,r=e.length;n<r;n++)e[n].major&&t.push(n);return t}function HG(e,t,n,r){let i=0,s=n[0],o;for(r=Math.ceil(r),o=0;o<e.length;o++)o===s&&(t.push(e[o]),i++,s=n[i*r])}function bg(e,t,n,r,i){const s=Et(r,0),o=Math.min(Et(i,e.length),e.length);let a=0,l,u,f;for(n=Math.ceil(n),i&&(l=i-r,n=l/Math.floor(l/n)),f=s;f<0;)a++,f=Math.round(s+a*n);for(u=Math.max(s,0);u<o;u++)u===f&&(t.push(e[u]),a++,f=Math.round(s+a*n))}function WG(e){const t=e.length;let n,r;if(t<2)return!1;for(r=e[0],n=1;n<t;++n)if(e[n]-e[n-1]!==r)return!1;return r}const qG=e=>e==="left"?"right":e==="right"?"left":e,SC=(e,t,n)=>t==="top"||t==="left"?e[t]+n:e[t]-n,CC=(e,t)=>Math.min(t||e,e);function kC(e,t){const n=[],r=e.length/t,i=e.length;let s=0;for(;s<i;s+=r)n.push(e[Math.floor(s)]);return n}function VG(e,t,n){const r=e.ticks.length,i=Math.min(t,r-1),s=e._startPixel,o=e._endPixel,a=1e-6;let l=e.getPixelForTick(i),u;if(!(n&&(r===1?u=Math.max(l-s,o-l):t===0?u=(e.getPixelForTick(1)-l)/2:u=(l-e.getPixelForTick(i-1))/2,l+=i<t?u:-u,l<s-a||l>o+a)))return l}function QG(e,t){vn(e,n=>{const r=n.gc,i=r.length/2;let s;if(i>t){for(s=0;s<i;++s)delete n.data[r[s]];r.splice(0,i)}})}function Xf(e){return e.drawTicks?e.tickLength:0}function EC(e,t){if(!e.display)return 0;const n=vr(e.font,t),r=Xr(e.padding);return($n(e.text)?e.text.length:1)*n.lineHeight+r.height}function KG(e,t){return Sl(e,{scale:t,type:"scale"})}function GG(e,t,n){return Sl(e,{tick:n,index:t,type:"tick"})}function YG(e,t,n){let r=h_(e);return(n&&t!=="right"||!n&&t==="right")&&(r=qG(r)),r}function XG(e,t,n,r){const{top:i,left:s,bottom:o,right:a,chart:l}=e,{chartArea:u,scales:f}=l;let p=0,g,y,b;const _=o-i,C=a-s;if(e.isHorizontal()){if(y=Qr(r,s,a),Yt(n)){const k=Object.keys(n)[0],R=n[k];b=f[k].getPixelForValue(R)+_-t}else n==="center"?b=(u.bottom+u.top)/2+_-t:b=SC(e,n,t);g=a-s}else{if(Yt(n)){const k=Object.keys(n)[0],R=n[k];y=f[k].getPixelForValue(R)-C+t}else n==="center"?y=(u.left+u.right)/2-C+t:y=SC(e,n,t);b=Qr(r,o,i),p=n==="left"?-tr:tr}return{titleX:y,titleY:b,maxWidth:g,rotation:p}}class Gc extends fa{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,n){return t}getUserBounds(){let{_userMin:t,_userMax:n,_suggestedMin:r,_suggestedMax:i}=this;return t=Yi(t,Number.POSITIVE_INFINITY),n=Yi(n,Number.NEGATIVE_INFINITY),r=Yi(r,Number.POSITIVE_INFINITY),i=Yi(i,Number.NEGATIVE_INFINITY),{min:Yi(t,r),max:Yi(n,i),minDefined:Yn(t),maxDefined:Yn(n)}}getMinMax(t){let{min:n,max:r,minDefined:i,maxDefined:s}=this.getUserBounds(),o;if(i&&s)return{min:n,max:r};const a=this.getMatchingVisibleMetas();for(let l=0,u=a.length;l<u;++l)o=a[l].controller.getMinMax(this,t),i||(n=Math.min(n,o.min)),s||(r=Math.max(r,o.max));return n=s&&n>r?r:n,r=i&&n>r?n:r,{min:Yi(n,Yi(r,n)),max:Yi(r,Yi(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){In(this.options.beforeUpdate,[this])}update(t,n,r){const{beginAtZero:i,grace:s,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=n,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=tK(this,s,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?kC(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=BG(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,n,r;this.isHorizontal()?(n=this.left,r=this.right):(n=this.top,r=this.bottom,t=!t),this._startPixel=n,this._endPixel=r,this._reversePixels=t,this._length=r-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){In(this.options.afterUpdate,[this])}beforeSetDimensions(){In(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){In(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),In(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){In(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const n=this.options.ticks;let r,i,s;for(r=0,i=t.length;r<i;r++)s=t[r],s.label=In(n.callback,[s.value,r,t],this)}afterTickToLabelConversion(){In(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){In(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,n=t.ticks,r=CC(this.ticks.length,t.ticks.maxTicksLimit),i=n.minRotation||0,s=n.maxRotation;let o=i,a,l,u;if(!this._isVisible()||!n.display||i>=s||r<=1||!this.isHorizontal()){this.labelRotation=i;return}const f=this._getLabelSizes(),p=f.widest.width,g=f.highest.height,y=Nr(this.chart.width-p,0,this.maxWidth);a=t.offset?this.maxWidth/r:y/(r-1),p+6>a&&(a=y/(r-(t.offset?.5:1)),l=this.maxHeight-Xf(t.grid)-n.padding-EC(t.title,this.chart.options.font),u=Math.sqrt(p*p+g*g),o=d_(Math.min(Math.asin(Nr((f.highest.height+6)/a,-1,1)),Math.asin(Nr(l/u,-1,1))-Math.asin(Nr(g/u,-1,1)))),o=Math.max(i,Math.min(s,o))),this.labelRotation=o}afterCalculateLabelRotation(){In(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){In(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:n,options:{ticks:r,title:i,grid:s}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=EC(i,n.options.font);if(a?(t.width=this.maxWidth,t.height=Xf(s)+l):(t.height=this.maxHeight,t.width=Xf(s)+l),r.display&&this.ticks.length){const{first:u,last:f,widest:p,highest:g}=this._getLabelSizes(),y=r.padding*2,b=Ks(this.labelRotation),_=Math.cos(b),C=Math.sin(b);if(a){const k=r.mirror?0:C*p.width+_*g.height;t.height=Math.min(this.maxHeight,t.height+k+y)}else{const k=r.mirror?0:_*p.width+C*g.height;t.width=Math.min(this.maxWidth,t.width+k+y)}this._calculatePadding(u,f,C,_)}}this._handleMargins(),a?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,n,r,i){const{ticks:{align:s,padding:o},position:a}=this.options,l=this.labelRotation!==0,u=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const f=this.getPixelForTick(0)-this.left,p=this.right-this.getPixelForTick(this.ticks.length-1);let g=0,y=0;l?u?(g=i*t.width,y=r*n.height):(g=r*t.height,y=i*n.width):s==="start"?y=n.width:s==="end"?g=t.width:s!=="inner"&&(g=t.width/2,y=n.width/2),this.paddingLeft=Math.max((g-f+o)*this.width/(this.width-f),0),this.paddingRight=Math.max((y-p+o)*this.width/(this.width-p),0)}else{let f=n.height/2,p=t.height/2;s==="start"?(f=0,p=t.height):s==="end"&&(f=n.height,p=0),this.paddingTop=f+o,this.paddingBottom=p+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){In(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:n}=this.options;return n==="top"||n==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let n,r;for(n=0,r=t.length;n<r;n++)Gt(t[n].label)&&(t.splice(n,1),r--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const n=this.options.ticks.sampleSize;let r=this.ticks;n<r.length&&(r=kC(r,n)),this._labelSizes=t=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,n,r){const{ctx:i,_longestTextCache:s}=this,o=[],a=[],l=Math.floor(n/CC(n,r));let u=0,f=0,p,g,y,b,_,C,k,R,O,$,z;for(p=0;p<n;p+=l){if(b=t[p].label,_=this._resolveTickFontOptions(p),i.font=C=_.string,k=s[C]=s[C]||{data:{},gc:[]},R=_.lineHeight,O=$=0,!Gt(b)&&!$n(b))O=W0(i,k.data,k.gc,O,b),$=R;else if($n(b))for(g=0,y=b.length;g<y;++g)z=b[g],!Gt(z)&&!$n(z)&&(O=W0(i,k.data,k.gc,O,z),$+=R);o.push(O),a.push($),u=Math.max(O,u),f=Math.max($,f)}QG(s,n);const j=o.indexOf(u),A=a.indexOf(f),B=U=>({width:o[U]||0,height:a[U]||0});return{first:B(0),last:B(n-1),widest:B(j),highest:B(A),widths:o,heights:a}}getLabelForValue(t){return t}getPixelForValue(t,n){return NaN}getValueForPixel(t){}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const n=this._startPixel+t*this._length;return IQ(this._alignToPixels?ic(this.chart,n,0):n)}getDecimalForPixel(t){const n=(t-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:n}=this;return t<0&&n<0?n:t>0&&n>0?t:0}getContext(t){const n=this.ticks||[];if(t>=0&&t<n.length){const r=n[t];return r.$context||(r.$context=GG(this.getContext(),t,r))}return this.$context||(this.$context=KG(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,n=Ks(this.labelRotation),r=Math.abs(Math.cos(n)),i=Math.abs(Math.sin(n)),s=this._getLabelSizes(),o=t.autoSkipPadding||0,a=s?s.widest.width+o:0,l=s?s.highest.height+o:0;return this.isHorizontal()?l*r>a*i?a/r:l/i:l*i<a*r?l/r:a/i}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const n=this.axis,r=this.chart,i=this.options,{grid:s,position:o,border:a}=i,l=s.offset,u=this.isHorizontal(),p=this.ticks.length+(l?1:0),g=Xf(s),y=[],b=a.setContext(this.getContext()),_=b.display?b.width:0,C=_/2,k=function(Q){return ic(r,Q,_)};let R,O,$,z,j,A,B,U,D,Z,X,re;if(o==="top")R=k(this.bottom),A=this.bottom-g,U=R-C,Z=k(t.top)+C,re=t.bottom;else if(o==="bottom")R=k(this.top),Z=t.top,re=k(t.bottom)-C,A=R+C,U=this.top+g;else if(o==="left")R=k(this.right),j=this.right-g,B=R-C,D=k(t.left)+C,X=t.right;else if(o==="right")R=k(this.left),D=t.left,X=k(t.right)-C,j=R+C,B=this.left+g;else if(n==="x"){if(o==="center")R=k((t.top+t.bottom)/2+.5);else if(Yt(o)){const Q=Object.keys(o)[0],ne=o[Q];R=k(this.chart.scales[Q].getPixelForValue(ne))}Z=t.top,re=t.bottom,A=R+C,U=A+g}else if(n==="y"){if(o==="center")R=k((t.left+t.right)/2);else if(Yt(o)){const Q=Object.keys(o)[0],ne=o[Q];R=k(this.chart.scales[Q].getPixelForValue(ne))}j=R-C,B=j-g,D=t.left,X=t.right}const V=Et(i.ticks.maxTicksLimit,p),q=Math.max(1,Math.ceil(p/V));for(O=0;O<p;O+=q){const Q=this.getContext(O),ne=s.setContext(Q),ee=a.setContext(Q),fe=ne.lineWidth,F=ne.color,G=ee.dash||[],ye=ee.dashOffset,H=ne.tickWidth,Oe=ne.tickColor,Ee=ne.tickBorderDash||[],Te=ne.tickBorderDashOffset;$=VG(this,O,l),$!==void 0&&(z=ic(r,$,fe),u?j=B=D=X=z:A=U=Z=re=z,y.push({tx1:j,ty1:A,tx2:B,ty2:U,x1:D,y1:Z,x2:X,y2:re,width:fe,color:F,borderDash:G,borderDashOffset:ye,tickWidth:H,tickColor:Oe,tickBorderDash:Ee,tickBorderDashOffset:Te}))}return this._ticksLength=p,this._borderValue=R,y}_computeLabelItems(t){const n=this.axis,r=this.options,{position:i,ticks:s}=r,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:u,padding:f,mirror:p}=s,g=Xf(r.grid),y=g+f,b=p?-f:y,_=-Ks(this.labelRotation),C=[];let k,R,O,$,z,j,A,B,U,D,Z,X,re="middle";if(i==="top")j=this.bottom-b,A=this._getXAxisLabelAlignment();else if(i==="bottom")j=this.top+b,A=this._getXAxisLabelAlignment();else if(i==="left"){const q=this._getYAxisLabelAlignment(g);A=q.textAlign,z=q.x}else if(i==="right"){const q=this._getYAxisLabelAlignment(g);A=q.textAlign,z=q.x}else if(n==="x"){if(i==="center")j=(t.top+t.bottom)/2+y;else if(Yt(i)){const q=Object.keys(i)[0],Q=i[q];j=this.chart.scales[q].getPixelForValue(Q)+y}A=this._getXAxisLabelAlignment()}else if(n==="y"){if(i==="center")z=(t.left+t.right)/2-y;else if(Yt(i)){const q=Object.keys(i)[0],Q=i[q];z=this.chart.scales[q].getPixelForValue(Q)}A=this._getYAxisLabelAlignment(g).textAlign}n==="y"&&(l==="start"?re="top":l==="end"&&(re="bottom"));const V=this._getLabelSizes();for(k=0,R=a.length;k<R;++k){O=a[k],$=O.label;const q=s.setContext(this.getContext(k));B=this.getPixelForTick(k)+s.labelOffset,U=this._resolveTickFontOptions(k),D=U.lineHeight,Z=$n($)?$.length:1;const Q=Z/2,ne=q.color,ee=q.textStrokeColor,fe=q.textStrokeWidth;let F=A;o?(z=B,A==="inner"&&(k===R-1?F=this.options.reverse?"left":"right":k===0?F=this.options.reverse?"right":"left":F="center"),i==="top"?u==="near"||_!==0?X=-Z*D+D/2:u==="center"?X=-V.highest.height/2-Q*D+D:X=-V.highest.height+D/2:u==="near"||_!==0?X=D/2:u==="center"?X=V.highest.height/2-Q*D:X=V.highest.height-Z*D,p&&(X*=-1),_!==0&&!q.showLabelBackdrop&&(z+=D/2*Math.sin(_))):(j=B,X=(1-Z)*D/2);let G;if(q.showLabelBackdrop){const ye=Xr(q.backdropPadding),H=V.heights[k],Oe=V.widths[k];let Ee=X-ye.top,Te=0-ye.left;switch(re){case"middle":Ee-=H/2;break;case"bottom":Ee-=H;break}switch(A){case"center":Te-=Oe/2;break;case"right":Te-=Oe;break;case"inner":k===R-1?Te-=Oe:k>0&&(Te-=Oe/2);break}G={left:Te,top:Ee,width:Oe+ye.width,height:H+ye.height,color:q.backdropColor}}C.push({label:$,font:U,textOffset:X,options:{rotation:_,color:ne,strokeColor:ee,strokeWidth:fe,textAlign:F,textBaseline:re,translation:[z,j],backdrop:G}})}return C}_getXAxisLabelAlignment(){const{position:t,ticks:n}=this.options;if(-Ks(this.labelRotation))return t==="top"?"left":"right";let i="center";return n.align==="start"?i="left":n.align==="end"?i="right":n.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(t){const{position:n,ticks:{crossAlign:r,mirror:i,padding:s}}=this.options,o=this._getLabelSizes(),a=t+s,l=o.widest.width;let u,f;return n==="left"?i?(f=this.right+s,r==="near"?u="left":r==="center"?(u="center",f+=l/2):(u="right",f+=l)):(f=this.right-a,r==="near"?u="right":r==="center"?(u="center",f-=l/2):(u="left",f=this.left)):n==="right"?i?(f=this.left+s,r==="near"?u="right":r==="center"?(u="center",f-=l/2):(u="left",f-=l)):(f=this.left+a,r==="near"?u="left":r==="center"?(u="center",f+=l/2):(u="right",f=this.right)):u="right",{textAlign:u,x:f}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:n},left:r,top:i,width:s,height:o}=this;n&&(t.save(),t.fillStyle=n,t.fillRect(r,i,s,o),t.restore())}getLineWidthForValue(t){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const i=this.ticks.findIndex(s=>s.value===t);return i>=0?n.setContext(this.getContext(i)).lineWidth:0}drawGrid(t){const n=this.options.grid,r=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let s,o;const a=(l,u,f)=>{!f.width||!f.color||(r.save(),r.lineWidth=f.width,r.strokeStyle=f.color,r.setLineDash(f.borderDash||[]),r.lineDashOffset=f.borderDashOffset,r.beginPath(),r.moveTo(l.x,l.y),r.lineTo(u.x,u.y),r.stroke(),r.restore())};if(n.display)for(s=0,o=i.length;s<o;++s){const l=i[s];n.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:n,options:{border:r,grid:i}}=this,s=r.setContext(this.getContext()),o=r.display?s.width:0;if(!o)return;const a=i.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let u,f,p,g;this.isHorizontal()?(u=ic(t,this.left,o)-o/2,f=ic(t,this.right,a)+a/2,p=g=l):(p=ic(t,this.top,o)-o/2,g=ic(t,this.bottom,a)+a/2,u=f=l),n.save(),n.lineWidth=s.width,n.strokeStyle=s.color,n.beginPath(),n.moveTo(u,p),n.lineTo(f,g),n.stroke(),n.restore()}drawLabels(t){if(!this.options.ticks.display)return;const r=this.ctx,i=this._computeLabelArea();i&&O1(r,i);const s=this.getLabelItems(t);for(const o of s){const a=o.options,l=o.font,u=o.label,f=o.textOffset;Lc(r,u,0,f,l,a)}i&&M1(r)}drawTitle(){const{ctx:t,options:{position:n,title:r,reverse:i}}=this;if(!r.display)return;const s=vr(r.font),o=Xr(r.padding),a=r.align;let l=s.lineHeight/2;n==="bottom"||n==="center"||Yt(n)?(l+=o.bottom,$n(r.text)&&(l+=s.lineHeight*(r.text.length-1))):l+=o.top;const{titleX:u,titleY:f,maxWidth:p,rotation:g}=XG(this,l,n,a);Lc(t,r.text,0,0,s,{color:r.color,maxWidth:p,rotation:g,textAlign:YG(a,n,i),textBaseline:"middle",translation:[u,f]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,n=t.ticks&&t.ticks.z||0,r=Et(t.grid&&t.grid.z,-1),i=Et(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==Gc.prototype.draw?[{z:n,draw:s=>{this.draw(s)}}]:[{z:r,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:n,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(t){const n=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",i=[];let s,o;for(s=0,o=n.length;s<o;++s){const a=n[s];a[r]===this.id&&(!t||a.type===t)&&i.push(a)}return i}_resolveTickFontOptions(t){const n=this.options.ticks.setContext(this.getContext(t));return vr(n.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class wg{constructor(t,n,r){this.type=t,this.scope=n,this.override=r,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const n=Object.getPrototypeOf(t);let r;eY(n)&&(r=this.register(n));const i=this.items,s=t.id,o=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+t);return s in i||(i[s]=t,JG(t,o,r),this.override&&Un.override(t.id,t.overrides)),o}get(t){return this.items[t]}unregister(t){const n=this.items,r=t.id,i=this.scope;r in n&&delete n[r],i&&r in Un[i]&&(delete Un[i][r],this.override&&delete Dc[r])}}function JG(e,t,n){const r=Qh(Object.create(null),[n?Un.get(n):{},Un.get(t),e.defaults]);Un.set(t,r),e.defaultRoutes&&ZG(t,e.defaultRoutes),e.descriptors&&Un.describe(t,e.descriptors)}function ZG(e,t){Object.keys(t).forEach(n=>{const r=n.split("."),i=r.pop(),s=[e].concat(r).join("."),o=t[n].split("."),a=o.pop(),l=o.join(".");Un.route(s,i,l,a)})}function eY(e){return"id"in e&&"defaults"in e}class tY{constructor(){this.controllers=new wg(Cl,"datasets",!0),this.elements=new wg(fa,"elements"),this.plugins=new wg(Object,"plugins"),this.scales=new wg(Gc,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,n,r){[...n].forEach(i=>{const s=r||this._getRegistryForType(i);r||s.isForType(i)||s===this.plugins&&i.id?this._exec(t,s,i):vn(i,o=>{const a=r||this._getRegistryForType(o);this._exec(t,a,o)})})}_exec(t,n,r){const i=u_(t);In(r["before"+i],[],r),n[t](r),In(r["after"+i],[],r)}_getRegistryForType(t){for(let n=0;n<this._typedRegistries.length;n++){const r=this._typedRegistries[n];if(r.isForType(t))return r}return this.plugins}_get(t,n,r){const i=n.get(t);if(i===void 0)throw new Error('"'+t+'" is not a registered '+r+".");return i}}var fo=new tY;class nY{constructor(){this._init=[]}notify(t,n,r,i){n==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const s=i?this._descriptors(t).filter(i):this._descriptors(t),o=this._notify(s,t,n,r);return n==="afterDestroy"&&(this._notify(s,t,"stop"),this._notify(this._init,t,"uninstall")),o}_notify(t,n,r,i){i=i||{};for(const s of t){const o=s.plugin,a=o[r],l=[n,i,s.options];if(In(a,l,o)===!1&&i.cancelable)return!1}return!0}invalidate(){Gt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),n}_createDescriptors(t,n){const r=t&&t.config,i=Et(r.options&&r.options.plugins,{}),s=rY(r);return i===!1&&!n?[]:sY(t,s,i,n)}_notifyStateChanges(t){const n=this._oldCache||[],r=this._cache,i=(s,o)=>s.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(i(n,r),t,"stop"),this._notify(i(r,n),t,"start")}}function rY(e){const t={},n=[],r=Object.keys(fo.plugins.items);for(let s=0;s<r.length;s++)n.push(fo.getPlugin(r[s]));const i=e.plugins||[];for(let s=0;s<i.length;s++){const o=i[s];n.indexOf(o)===-1&&(n.push(o),t[o.id]=!0)}return{plugins:n,localIds:t}}function iY(e,t){return!t&&e===!1?null:e===!0?{}:e}function sY(e,{plugins:t,localIds:n},r,i){const s=[],o=e.getContext();for(const a of t){const l=a.id,u=iY(r[l],i);u!==null&&s.push({plugin:a,options:oY(e.config,{plugin:a,local:n[l]},u,o)})}return s}function oY(e,{plugin:t,local:n},r,i){const s=e.pluginScopeKeys(t),o=e.getOptionScopes(r,s);return n&&t.defaults&&o.push(t.defaults),e.createResolver(o,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function u2(e,t){const n=Un.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||n.indexAxis||"x"}function aY(e,t){let n=e;return e==="_index_"?n=t:e==="_value_"&&(n=t==="x"?"y":"x"),n}function lY(e,t){return e===t?"_index_":"_value_"}function TC(e){if(e==="x"||e==="y"||e==="r")return e}function cY(e){if(e==="top"||e==="bottom")return"x";if(e==="left"||e==="right")return"y"}function d2(e,...t){if(TC(e))return e;for(const n of t){const r=n.axis||cY(n.position)||e.length>1&&TC(e[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function jC(e,t,n){if(n[t+"AxisID"]===e)return{axis:t}}function uY(e,t){if(t.data&&t.data.datasets){const n=t.data.datasets.filter(r=>r.xAxisID===e||r.yAxisID===e);if(n.length)return jC(e,"x",n[0])||jC(e,"y",n[0])}return{}}function dY(e,t){const n=Dc[e.type]||{scales:{}},r=t.scales||{},i=u2(e.type,t),s=Object.create(null);return Object.keys(r).forEach(o=>{const a=r[o];if(!Yt(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const l=d2(o,a,uY(o,e),Un.scales[a.type]),u=lY(l,i),f=n.scales||{};s[o]=Sh(Object.create(null),[{axis:l},a,f[l],f[u]])}),e.data.datasets.forEach(o=>{const a=o.type||e.type,l=o.indexAxis||u2(a,t),f=(Dc[a]||{}).scales||{};Object.keys(f).forEach(p=>{const g=aY(p,l),y=o[g+"AxisID"]||g;s[y]=s[y]||Object.create(null),Sh(s[y],[{axis:g},r[y],f[p]])})}),Object.keys(s).forEach(o=>{const a=s[o];Sh(a,[Un.scales[a.type],Un.scale])}),s}function xj(e){const t=e.options||(e.options={});t.plugins=Et(t.plugins,{}),t.scales=dY(e,t)}function bj(e){return e=e||{},e.datasets=e.datasets||[],e.labels=e.labels||[],e}function fY(e){return e=e||{},e.data=bj(e.data),xj(e),e}const NC=new Map,wj=new Set;function _g(e,t){let n=NC.get(e);return n||(n=t(),NC.set(e,n),wj.add(n)),n}const Jf=(e,t,n)=>{const r=hl(t,n);r!==void 0&&e.add(r)};class hY{constructor(t){this._config=fY(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=bj(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),xj(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return _g(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,n){return _g(`${t}.transition.${n}`,()=>[[`datasets.${t}.transitions.${n}`,`transitions.${n}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,n){return _g(`${t}-${n}`,()=>[[`datasets.${t}.elements.${n}`,`datasets.${t}`,`elements.${n}`,""]])}pluginScopeKeys(t){const n=t.id,r=this.type;return _g(`${r}-plugin-${n}`,()=>[[`plugins.${n}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,n){const r=this._scopeCache;let i=r.get(t);return(!i||n)&&(i=new Map,r.set(t,i)),i}getOptionScopes(t,n,r){const{options:i,type:s}=this,o=this._cachedScopes(t,r),a=o.get(n);if(a)return a;const l=new Set;n.forEach(f=>{t&&(l.add(t),f.forEach(p=>Jf(l,t,p))),f.forEach(p=>Jf(l,i,p)),f.forEach(p=>Jf(l,Dc[s]||{},p)),f.forEach(p=>Jf(l,Un,p)),f.forEach(p=>Jf(l,l2,p))});const u=Array.from(l);return u.length===0&&u.push(Object.create(null)),wj.has(n)&&o.set(n,u),u}chartOptionScopes(){const{options:t,type:n}=this;return[t,Dc[n]||{},Un.datasets[n]||{},{type:n},Un,l2]}resolveNamedOptions(t,n,r,i=[""]){const s={$shared:!0},{resolver:o,subPrefixes:a}=IC(this._resolverCache,t,i);let l=o;if(mY(o,n)){s.$shared=!1,r=pl(r)?r():r;const u=this.createResolver(t,r,a);l=Pd(o,r,u)}for(const u of n)s[u]=l[u];return s}createResolver(t,n,r=[""],i){const{resolver:s}=IC(this._resolverCache,t,r);return Yt(n)?Pd(s,n,void 0,i):s}}function IC(e,t,n){let r=e.get(t);r||(r=new Map,e.set(t,r));const i=n.join();let s=r.get(i);return s||(s={resolver:g_(t,n),subPrefixes:n.filter(a=>!a.toLowerCase().includes("hover"))},r.set(i,s)),s}const pY=e=>Yt(e)&&Object.getOwnPropertyNames(e).some(t=>pl(e[t]));function mY(e,t){const{isScriptable:n,isIndexable:r}=YT(e);for(const i of t){const s=n(i),o=r(i),a=(o||s)&&e[i];if(s&&(pl(a)||pY(a))||o&&$n(a))return!0}return!1}var gY="4.5.0";const yY=["top","bottom","left","right","chartArea"];function RC(e,t){return e==="top"||e==="bottom"||yY.indexOf(e)===-1&&t==="x"}function PC(e,t){return function(n,r){return n[e]===r[e]?n[t]-r[t]:n[e]-r[e]}}function OC(e){const t=e.chart,n=t.options.animation;t.notifyPlugins("afterRender"),In(n&&n.onComplete,[e],t)}function vY(e){const t=e.chart,n=t.options.animation;In(n&&n.onProgress,[e],t)}function _j(e){return x_()&&typeof e=="string"?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const o0={},MC=e=>{const t=_j(e);return Object.values(o0).filter(n=>n.canvas===t).pop()};function xY(e,t,n){const r=Object.keys(e);for(const i of r){const s=+i;if(s>=t){const o=e[i];delete e[i],(n>0||s>t)&&(e[s+n]=o)}}}function bY(e,t,n,r){return!n||e.type==="mouseout"?null:r?t:e}let ha=class{static defaults=Un;static instances=o0;static overrides=Dc;static registry=fo;static version=gY;static getChart=MC;static register(...t){fo.add(...t),AC()}static unregister(...t){fo.remove(...t),AC()}constructor(t,n){const r=this.config=new hY(n),i=_j(t),s=MC(i);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const o=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||FG(i)),this.platform.updateConfig(r);const a=this.platform.acquireContext(i,o.aspectRatio),l=a&&a.canvas,u=l&&l.height,f=l&&l.width;if(this.id=yQ(),this.ctx=a,this.canvas=l,this.width=f,this.height=u,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new nY,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=MQ(p=>this.update(p),o.resizeDelay||0),this._dataChanges=[],o0[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}qo.listen(this,"complete",OC),qo.listen(this,"progress",vY),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:n},width:r,height:i,_aspectRatio:s}=this;return Gt(t)?n&&s?s:i?r/i:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return fo}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():rC(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return eC(this.canvas,this.ctx),this}stop(){return qo.stop(this),this}resize(t,n){qo.running(this)?this._resizeBeforeDraw={width:t,height:n}:this._resize(t,n)}_resize(t,n){const r=this.options,i=this.canvas,s=r.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(i,t,n,s),a=r.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,rC(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),In(r.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};vn(n,(r,i)=>{r.id=i})}buildOrUpdateScales(){const t=this.options,n=t.scales,r=this.scales,i=Object.keys(r).reduce((o,a)=>(o[a]=!1,o),{});let s=[];n&&(s=s.concat(Object.keys(n).map(o=>{const a=n[o],l=d2(o,a),u=l==="r",f=l==="x";return{options:a,dposition:u?"chartArea":f?"bottom":"left",dtype:u?"radialLinear":f?"category":"linear"}}))),vn(s,o=>{const a=o.options,l=a.id,u=d2(l,a),f=Et(a.type,o.dtype);(a.position===void 0||RC(a.position,u)!==RC(o.dposition))&&(a.position=o.dposition),i[l]=!0;let p=null;if(l in r&&r[l].type===f)p=r[l];else{const g=fo.getScale(f);p=new g({id:l,type:f,ctx:this.ctx,chart:this}),r[p.id]=p}p.init(a,t)}),vn(i,(o,a)=>{o||delete r[a]}),vn(r,o=>{Gr.configure(this,o,o.options),Gr.addBox(this,o)})}_updateMetasets(){const t=this._metasets,n=this.data.datasets.length,r=t.length;if(t.sort((i,s)=>i.index-s.index),r>n){for(let i=n;i<r;++i)this._destroyDatasetMeta(i);t.splice(n,r-n)}this._sortedMetasets=t.slice(0).sort(PC("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:n}}=this;t.length>n.length&&delete this._stacks,t.forEach((r,i)=>{n.filter(s=>s===r._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const t=[],n=this.data.datasets;let r,i;for(this._removeUnreferencedMetasets(),r=0,i=n.length;r<i;r++){const s=n[r];let o=this.getDatasetMeta(r);const a=s.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(r),o=this.getDatasetMeta(r)),o.type=a,o.indexAxis=s.indexAxis||u2(a,this.options),o.order=s.order||0,o.index=r,o.label=""+s.label,o.visible=this.isDatasetVisible(r),o.controller)o.controller.updateIndex(r),o.controller.linkScales();else{const l=fo.getController(a),{datasetElementType:u,dataElementType:f}=Un.datasets[a];Object.assign(l,{dataElementType:fo.getElement(f),datasetElementType:u&&fo.getElement(u)}),o.controller=new l(this,r),t.push(o.controller)}}return this._updateMetasets(),t}_resetElements(){vn(this.data.datasets,(t,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const n=this.config;n.update();const r=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let u=0,f=this.data.datasets.length;u<f;u++){const{controller:p}=this.getDatasetMeta(u),g=!i&&s.indexOf(p)===-1;p.buildOrUpdateElements(g),o=Math.max(+p.getMaxOverflow(),o)}o=this._minPadding=r.layout.autoPadding?o:0,this._updateLayout(o),i||vn(s,u=>{u.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(PC("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){vn(this.scales,t=>{Gr.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,n=new Set(Object.keys(this._listeners)),r=new Set(t.events);(!q6(n,r)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,n=this._getUniformDataChanges()||[];for(const{method:r,start:i,count:s}of n){const o=r==="_removeElements"?-s:s;xY(t,i,o)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const n=this.data.datasets.length,r=s=>new Set(t.filter(o=>o[0]===s).map((o,a)=>a+","+o.splice(1).join(","))),i=r(0);for(let s=1;s<n;s++)if(!q6(i,r(s)))return;return Array.from(i).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Gr.update(this,this.width,this.height,t);const n=this.chartArea,r=n.width<=0||n.height<=0;this._layers=[],vn(this.boxes,i=>{r&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,s)=>{i._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let n=0,r=this.data.datasets.length;n<r;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,r=this.data.datasets.length;n<r;++n)this._updateDataset(n,pl(t)?t({datasetIndex:n}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,n){const r=this.getDatasetMeta(t),i={meta:r,index:t,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(r.controller._update(n),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(qo.has(this)?this.attached&&!qo.running(this)&&qo.start(this):(this.draw(),OC({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:r,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(t=0;t<n.length&&n[t].z<=0;++t)n[t].draw(this.chartArea);for(this._drawDatasets();t<n.length;++t)n[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const n=this._sortedMetasets,r=[];let i,s;for(i=0,s=n.length;i<s;++i){const o=n[i];(!t||o.visible)&&r.push(o)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let n=t.length-1;n>=0;--n)this._drawDataset(t[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const n=this.ctx,r={meta:t,index:t.index,cancelable:!0},i=aj(this,t);this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(i&&O1(n,i),t.controller.draw(),i&&M1(n),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(t){return na(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,n,r,i){const s=yG.modes[n];return typeof s=="function"?s(this,t,r,i):[]}getDatasetMeta(t){const n=this.data.datasets[t],r=this._metasets;let i=r.filter(s=>s&&s._dataset===n).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:t,_dataset:n,_parsed:[],_sorted:!1},r.push(i)),i}getContext(){return this.$context||(this.$context=Sl(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const n=this.data.datasets[t];if(!n)return!1;const r=this.getDatasetMeta(t);return typeof r.hidden=="boolean"?!r.hidden:!n.hidden}setDatasetVisibility(t,n){const r=this.getDatasetMeta(t);r.hidden=!n}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,n,r){const i=r?"show":"hide",s=this.getDatasetMeta(t),o=s.controller._resolveAnimations(void 0,i);Kh(n)?(s.data[n].hidden=!r,this.update()):(this.setDatasetVisibility(t,r),o.update(s,{visible:r}),this.update(a=>a.datasetIndex===t?i:void 0))}hide(t,n){this._updateVisibility(t,n,!1)}show(t,n){this._updateVisibility(t,n,!0)}_destroyDatasetMeta(t){const n=this._metasets[t];n&&n.controller&&n.controller._destroy(),delete this._metasets[t]}_stop(){let t,n;for(this.stop(),qo.remove(this),t=0,n=this.data.datasets.length;t<n;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:n}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),eC(t,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete o0[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,n=this.platform,r=(s,o)=>{n.addEventListener(this,s,o),t[s]=o},i=(s,o,a)=>{s.offsetX=o,s.offsetY=a,this._eventHandler(s)};vn(this.options.events,s=>r(s,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,n=this.platform,r=(l,u)=>{n.addEventListener(this,l,u),t[l]=u},i=(l,u)=>{t[l]&&(n.removeEventListener(this,l,u),delete t[l])},s=(l,u)=>{this.canvas&&this.resize(l,u)};let o;const a=()=>{i("attach",a),this.attached=!0,this.resize(),r("resize",s),r("detach",o)};o=()=>{this.attached=!1,i("resize",s),this._stop(),this._resize(0,0),r("attach",a)},n.isAttached(this.canvas)?a():o()}unbindEvents(){vn(this._listeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._listeners={},vn(this._responsiveListeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,n,r){const i=r?"set":"remove";let s,o,a,l;for(n==="dataset"&&(s=this.getDatasetMeta(t[0].datasetIndex),s.controller["_"+i+"DatasetHoverStyle"]()),a=0,l=t.length;a<l;++a){o=t[a];const u=o&&this.getDatasetMeta(o.datasetIndex).controller;u&&u[i+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const n=this._active||[],r=t.map(({datasetIndex:s,index:o})=>{const a=this.getDatasetMeta(s);if(!a)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:a.data[o],index:o}});!$0(r,n)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,n))}notifyPlugins(t,n,r){return this._plugins.notify(this,t,n,r)}isPluginEnabled(t){return this._plugins._cache.filter(n=>n.plugin.id===t).length===1}_updateHoverStyles(t,n,r){const i=this.options.hover,s=(l,u)=>l.filter(f=>!u.some(p=>f.datasetIndex===p.datasetIndex&&f.index===p.index)),o=s(n,t),a=r?t:s(t,n);o.length&&this.updateHoverStyle(o,i.mode,!1),a.length&&i.mode&&this.updateHoverStyle(a,i.mode,!0)}_eventHandler(t,n){const r={event:t,replay:n,cancelable:!0,inChartArea:this.isPointInArea(t)},i=o=>(o.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",r,i)===!1)return;const s=this._handleEvent(t,n,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,i),(s||r.changed)&&this.render(),this}_handleEvent(t,n,r){const{_active:i=[],options:s}=this,o=n,a=this._getActiveElements(t,i,r,o),l=SQ(t),u=bY(t,this._lastEvent,r,l);r&&(this._lastEvent=null,In(s.onHover,[t,a,this],this),l&&In(s.onClick,[t,a,this],this));const f=!$0(a,i);return(f||n)&&(this._active=a,this._updateHoverStyles(a,i,n)),this._lastEvent=u,f}_getActiveElements(t,n,r,i){if(t.type==="mouseout")return[];if(!r)return n;const s=this.options.hover;return this.getElementsAtEventForMode(t,s.mode,s,i)}};function AC(){return vn(ha.instances,e=>e._plugins.invalidate())}function wY(e,t,n){const{startAngle:r,x:i,y:s,outerRadius:o,innerRadius:a,options:l}=t,{borderWidth:u,borderJoinStyle:f}=l,p=Math.min(u/o,Kr(r-n));if(e.beginPath(),e.arc(i,s,o-u/2,r+p/2,n-p/2),a>0){const g=Math.min(u/a,Kr(r-n));e.arc(i,s,a+u/2,n-g/2,r+g/2,!0)}else{const g=Math.min(u/2,o*Kr(r-n));if(f==="round")e.arc(i,s,g,n-dn/2,r+dn/2,!0);else if(f==="bevel"){const y=2*g*g,b=-y*Math.cos(n+dn/2)+i,_=-y*Math.sin(n+dn/2)+s,C=y*Math.cos(r+dn/2)+i,k=y*Math.sin(r+dn/2)+s;e.lineTo(b,_),e.lineTo(C,k)}}e.closePath(),e.moveTo(0,0),e.rect(0,0,e.canvas.width,e.canvas.height),e.clip("evenodd")}function _Y(e,t,n){const{startAngle:r,pixelMargin:i,x:s,y:o,outerRadius:a,innerRadius:l}=t;let u=i/a;e.beginPath(),e.arc(s,o,a,r-u,n+u),l>i?(u=i/l,e.arc(s,o,l,n+u,r-u,!0)):e.arc(s,o,i,n+tr,r-tr),e.closePath(),e.clip()}function SY(e){return m_(e,["outerStart","outerEnd","innerStart","innerEnd"])}function CY(e,t,n,r){const i=SY(e.options.borderRadius),s=(n-t)/2,o=Math.min(s,r*t/2),a=l=>{const u=(n-Math.min(s,l))*r/2;return Nr(l,0,Math.min(s,u))};return{outerStart:a(i.outerStart),outerEnd:a(i.outerEnd),innerStart:Nr(i.innerStart,0,o),innerEnd:Nr(i.innerEnd,0,o)}}function Uu(e,t,n,r){return{x:n+e*Math.cos(t),y:r+e*Math.sin(t)}}function Q0(e,t,n,r,i,s){const{x:o,y:a,startAngle:l,pixelMargin:u,innerRadius:f}=t,p=Math.max(t.outerRadius+r+n-u,0),g=f>0?f+r+n+u:0;let y=0;const b=i-l;if(r){const q=f>0?f-r:0,Q=p>0?p-r:0,ne=(q+Q)/2,ee=ne!==0?b*ne/(ne+r):b;y=(b-ee)/2}const _=Math.max(.001,b*p-n/dn)/p,C=(b-_)/2,k=l+C+y,R=i-C-y,{outerStart:O,outerEnd:$,innerStart:z,innerEnd:j}=CY(t,g,p,R-k),A=p-O,B=p-$,U=k+O/A,D=R-$/B,Z=g+z,X=g+j,re=k+z/Z,V=R-j/X;if(e.beginPath(),s){const q=(U+D)/2;if(e.arc(o,a,p,U,q),e.arc(o,a,p,q,D),$>0){const fe=Uu(B,D,o,a);e.arc(fe.x,fe.y,$,D,R+tr)}const Q=Uu(X,R,o,a);if(e.lineTo(Q.x,Q.y),j>0){const fe=Uu(X,V,o,a);e.arc(fe.x,fe.y,j,R+tr,V+Math.PI)}const ne=(R-j/g+(k+z/g))/2;if(e.arc(o,a,g,R-j/g,ne,!0),e.arc(o,a,g,ne,k+z/g,!0),z>0){const fe=Uu(Z,re,o,a);e.arc(fe.x,fe.y,z,re+Math.PI,k-tr)}const ee=Uu(A,k,o,a);if(e.lineTo(ee.x,ee.y),O>0){const fe=Uu(A,U,o,a);e.arc(fe.x,fe.y,O,k-tr,U)}}else{e.moveTo(o,a);const q=Math.cos(U)*p+o,Q=Math.sin(U)*p+a;e.lineTo(q,Q);const ne=Math.cos(D)*p+o,ee=Math.sin(D)*p+a;e.lineTo(ne,ee)}e.closePath()}function kY(e,t,n,r,i){const{fullCircles:s,startAngle:o,circumference:a}=t;let l=t.endAngle;if(s){Q0(e,t,n,r,l,i);for(let u=0;u<s;++u)e.fill();isNaN(a)||(l=o+(a%An||An))}return Q0(e,t,n,r,l,i),e.fill(),l}function EY(e,t,n,r,i){const{fullCircles:s,startAngle:o,circumference:a,options:l}=t,{borderWidth:u,borderJoinStyle:f,borderDash:p,borderDashOffset:g,borderRadius:y}=l,b=l.borderAlign==="inner";if(!u)return;e.setLineDash(p||[]),e.lineDashOffset=g,b?(e.lineWidth=u*2,e.lineJoin=f||"round"):(e.lineWidth=u,e.lineJoin=f||"bevel");let _=t.endAngle;if(s){Q0(e,t,n,r,_,i);for(let C=0;C<s;++C)e.stroke();isNaN(a)||(_=o+(a%An||An))}b&&_Y(e,t,_),l.selfJoin&&_-o>=dn&&y===0&&f!=="miter"&&wY(e,t,_),s||(Q0(e,t,n,r,_,i),e.stroke())}class __ extends fa{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,n,r){const i=this.getProps(["x","y"],r),{angle:s,distance:o}=zT(i,{x:t,y:n}),{startAngle:a,endAngle:l,innerRadius:u,outerRadius:f,circumference:p}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),g=(this.options.spacing+this.options.borderWidth)/2,y=Et(p,l-a),b=Gh(s,a,l)&&a!==l,_=y>=An||b,C=ea(o,u+g,f+g);return _&&C}getCenterPoint(t){const{x:n,y:r,startAngle:i,endAngle:s,innerRadius:o,outerRadius:a}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:l,spacing:u}=this.options,f=(i+s)/2,p=(o+a+u+l)/2;return{x:n+Math.cos(f)*p,y:r+Math.sin(f)*p}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:n,circumference:r}=this,i=(n.offset||0)/4,s=(n.spacing||0)/2,o=n.circular;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=r>An?Math.floor(r/An):0,r===0||this.innerRadius<0||this.outerRadius<0)return;t.save();const a=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(a)*i,Math.sin(a)*i);const l=1-Math.sin(Math.min(dn,r||0)),u=i*l;t.fillStyle=n.backgroundColor,t.strokeStyle=n.borderColor,kY(t,this,u,s,o),EY(t,this,u,s,o),t.restore()}}function Sj(e,t,n=t){e.lineCap=Et(n.borderCapStyle,t.borderCapStyle),e.setLineDash(Et(n.borderDash,t.borderDash)),e.lineDashOffset=Et(n.borderDashOffset,t.borderDashOffset),e.lineJoin=Et(n.borderJoinStyle,t.borderJoinStyle),e.lineWidth=Et(n.borderWidth,t.borderWidth),e.strokeStyle=Et(n.borderColor,t.borderColor)}function TY(e,t,n){e.lineTo(n.x,n.y)}function jY(e){return e.stepped?VQ:e.tension||e.cubicInterpolationMode==="monotone"?QQ:TY}function Cj(e,t,n={}){const r=e.length,{start:i=0,end:s=r-1}=n,{start:o,end:a}=t,l=Math.max(i,o),u=Math.min(s,a),f=i<o&&s<o||i>a&&s>a;return{count:r,start:l,loop:t.loop,ilen:u<l&&!f?r+u-l:u-l}}function NY(e,t,n,r){const{points:i,options:s}=t,{count:o,start:a,loop:l,ilen:u}=Cj(i,n,r),f=jY(s);let{move:p=!0,reverse:g}=r||{},y,b,_;for(y=0;y<=u;++y)b=i[(a+(g?u-y:y))%o],!b.skip&&(p?(e.moveTo(b.x,b.y),p=!1):f(e,_,b,g,s.stepped),_=b);return l&&(b=i[(a+(g?u:0))%o],f(e,_,b,g,s.stepped)),!!l}function IY(e,t,n,r){const i=t.points,{count:s,start:o,ilen:a}=Cj(i,n,r),{move:l=!0,reverse:u}=r||{};let f=0,p=0,g,y,b,_,C,k;const R=$=>(o+(u?a-$:$))%s,O=()=>{_!==C&&(e.lineTo(f,C),e.lineTo(f,_),e.lineTo(f,k))};for(l&&(y=i[R(0)],e.moveTo(y.x,y.y)),g=0;g<=a;++g){if(y=i[R(g)],y.skip)continue;const $=y.x,z=y.y,j=$|0;j===b?(z<_?_=z:z>C&&(C=z),f=(p*f+$)/++p):(O(),e.lineTo($,z),b=j,p=0,_=C=z),k=z}O()}function f2(e){const t=e.options,n=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!n?IY:NY}function RY(e){return e.stepped?kK:e.tension||e.cubicInterpolationMode==="monotone"?EK:hc}function PY(e,t,n,r){let i=t._path;i||(i=t._path=new Path2D,t.path(i,n,r)&&i.closePath()),Sj(e,t.options),e.stroke(i)}function OY(e,t,n,r){const{segments:i,options:s}=t,o=f2(t);for(const a of i)Sj(e,s,a.style),e.beginPath(),o(e,t,a,{start:n,end:n+r-1})&&e.closePath(),e.stroke()}const MY=typeof Path2D=="function";function AY(e,t,n,r){MY&&!t.options.segment?PY(e,t,n,r):OY(e,t,n,r)}class Kd extends fa{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"};constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,n){const r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){const i=r.spanGaps?this._loop:this._fullLoop;yK(this._points,r,t,i,n),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=PK(this,this.options.segment))}first(){const t=this.segments,n=this.points;return t.length&&n[t[0].start]}last(){const t=this.segments,n=this.points,r=t.length;return r&&n[t[r-1].end]}interpolate(t,n){const r=this.options,i=t[n],s=this.points,o=oj(this,{property:n,start:i,end:i});if(!o.length)return;const a=[],l=RY(r);let u,f;for(u=0,f=o.length;u<f;++u){const{start:p,end:g}=o[u],y=s[p],b=s[g];if(y===b){a.push(y);continue}const _=Math.abs((i-y[n])/(b[n]-y[n])),C=l(y,b,_,r.stepped);C[n]=t[n],a.push(C)}return a.length===1?a[0]:a}pathSegment(t,n,r){return f2(this)(t,this,n,r)}path(t,n,r){const i=this.segments,s=f2(this);let o=this._loop;n=n||0,r=r||this.points.length-n;for(const a of i)o&=s(t,this,a,{start:n,end:n+r-1});return!!o}draw(t,n,r,i){const s=this.options||{};(this.points||[]).length&&s.borderWidth&&(t.save(),AY(t,this,r,i),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function DC(e,t,n,r){const i=e.options,{[n]:s}=e.getProps([n],r);return Math.abs(t-s)<i.radius+i.hitRadius}class S_ extends fa{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,n,r){const i=this.options,{x:s,y:o}=this.getProps(["x","y"],r);return Math.pow(t-s,2)+Math.pow(n-o,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(t,n){return DC(this,t,"x",n)}inYRange(t,n){return DC(this,t,"y",n)}getCenterPoint(t){const{x:n,y:r}=this.getProps(["x","y"],t);return{x:n,y:r}}size(t){t=t||this.options||{};let n=t.radius||0;n=Math.max(n,n&&t.hoverRadius||0);const r=n&&t.borderWidth||0;return(n+r)*2}draw(t,n){const r=this.options;this.skip||r.radius<.1||!na(this,n,this.size(r)/2)||(t.strokeStyle=r.borderColor,t.lineWidth=r.borderWidth,t.fillStyle=r.backgroundColor,c2(t,r,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}function kj(e,t){const{x:n,y:r,base:i,width:s,height:o}=e.getProps(["x","y","base","width","height"],t);let a,l,u,f,p;return e.horizontal?(p=o/2,a=Math.min(n,i),l=Math.max(n,i),u=r-p,f=r+p):(p=s/2,a=n-p,l=n+p,u=Math.min(r,i),f=Math.max(r,i)),{left:a,top:u,right:l,bottom:f}}function el(e,t,n,r){return e?0:Nr(t,n,r)}function DY(e,t,n){const r=e.options.borderWidth,i=e.borderSkipped,s=GT(r);return{t:el(i.top,s.top,0,n),r:el(i.right,s.right,0,t),b:el(i.bottom,s.bottom,0,n),l:el(i.left,s.left,0,t)}}function LY(e,t,n){const{enableBorderRadius:r}=e.getProps(["enableBorderRadius"]),i=e.options.borderRadius,s=jc(i),o=Math.min(t,n),a=e.borderSkipped,l=r||Yt(i);return{topLeft:el(!l||a.top||a.left,s.topLeft,0,o),topRight:el(!l||a.top||a.right,s.topRight,0,o),bottomLeft:el(!l||a.bottom||a.left,s.bottomLeft,0,o),bottomRight:el(!l||a.bottom||a.right,s.bottomRight,0,o)}}function FY(e){const t=kj(e),n=t.right-t.left,r=t.bottom-t.top,i=DY(e,n/2,r/2),s=LY(e,n/2,r/2);return{outer:{x:t.left,y:t.top,w:n,h:r,radius:s},inner:{x:t.left+i.l,y:t.top+i.t,w:n-i.l-i.r,h:r-i.t-i.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,s.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(i.b,i.r))}}}}function kx(e,t,n,r){const i=t===null,s=n===null,a=e&&!(i&&s)&&kj(e,r);return a&&(i||ea(t,a.left,a.right))&&(s||ea(n,a.top,a.bottom))}function BY(e){return e.topLeft||e.topRight||e.bottomLeft||e.bottomRight}function zY(e,t){e.rect(t.x,t.y,t.w,t.h)}function Ex(e,t,n={}){const r=e.x!==n.x?-t:0,i=e.y!==n.y?-t:0,s=(e.x+e.w!==n.x+n.w?t:0)-r,o=(e.y+e.h!==n.y+n.h?t:0)-i;return{x:e.x+r,y:e.y+i,w:e.w+s,h:e.h+o,radius:e.radius}}class Sp extends fa{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:n,options:{borderColor:r,backgroundColor:i}}=this,{inner:s,outer:o}=FY(this),a=BY(o.radius)?Yh:zY;t.save(),(o.w!==s.w||o.h!==s.h)&&(t.beginPath(),a(t,Ex(o,n,s)),t.clip(),a(t,Ex(s,-n,o)),t.fillStyle=r,t.fill("evenodd")),t.beginPath(),a(t,Ex(s,n)),t.fillStyle=i,t.fill(),t.restore()}inRange(t,n,r){return kx(this,t,n,r)}inXRange(t,n){return kx(this,t,null,n)}inYRange(t,n){return kx(this,null,t,n)}getCenterPoint(t){const{x:n,y:r,base:i,horizontal:s}=this.getProps(["x","y","base","horizontal"],t);return{x:s?(n+i)/2:n,y:s?r:(r+i)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}var $Y=Object.freeze({__proto__:null,ArcElement:__,BarElement:Sp,LineElement:Kd,PointElement:S_});const h2=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],LC=h2.map(e=>e.replace("rgb(","rgba(").replace(")",", 0.5)"));function Ej(e){return h2[e%h2.length]}function Tj(e){return LC[e%LC.length]}function UY(e,t){return e.borderColor=Ej(t),e.backgroundColor=Tj(t),++t}function HY(e,t){return e.backgroundColor=e.data.map(()=>Ej(t++)),t}function WY(e,t){return e.backgroundColor=e.data.map(()=>Tj(t++)),t}function qY(e){let t=0;return(n,r)=>{const i=e.getDatasetMeta(r).controller;i instanceof D1?t=HY(n,t):i instanceof fj?t=WY(n,t):i&&(t=UY(n,t))}}function FC(e){let t;for(t in e)if(e[t].borderColor||e[t].backgroundColor)return!0;return!1}function VY(e){return e&&(e.borderColor||e.backgroundColor)}function QY(){return Un.borderColor!=="rgba(0,0,0,0.1)"||Un.backgroundColor!=="rgba(0,0,0,0.1)"}var KY={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(e,t,n){if(!n.enabled)return;const{data:{datasets:r},options:i}=e.config,{elements:s}=i,o=FC(r)||VY(i)||s&&FC(s)||QY();if(!n.forceOverride&&o)return;const a=qY(e);r.forEach(a)}};function GY(e,t,n,r,i){const s=i.samples||r;if(s>=n)return e.slice(t,t+n);const o=[],a=(n-2)/(s-2);let l=0;const u=t+n-1;let f=t,p,g,y,b,_;for(o[l++]=e[f],p=0;p<s-2;p++){let C=0,k=0,R;const O=Math.floor((p+1)*a)+1+t,$=Math.min(Math.floor((p+2)*a)+1,n)+t,z=$-O;for(R=O;R<$;R++)C+=e[R].x,k+=e[R].y;C/=z,k/=z;const j=Math.floor(p*a)+1+t,A=Math.min(Math.floor((p+1)*a)+1,n)+t,{x:B,y:U}=e[f];for(y=b=-1,R=j;R<A;R++)b=.5*Math.abs((B-C)*(e[R].y-U)-(B-e[R].x)*(k-U)),b>y&&(y=b,g=e[R],_=R);o[l++]=g,f=_}return o[l++]=e[u],o}function YY(e,t,n,r){let i=0,s=0,o,a,l,u,f,p,g,y,b,_;const C=[],k=t+n-1,R=e[t].x,$=e[k].x-R;for(o=t;o<t+n;++o){a=e[o],l=(a.x-R)/$*r,u=a.y;const z=l|0;if(z===f)u<b?(b=u,p=o):u>_&&(_=u,g=o),i=(s*i+a.x)/++s;else{const j=o-1;if(!Gt(p)&&!Gt(g)){const A=Math.min(p,g),B=Math.max(p,g);A!==y&&A!==j&&C.push({...e[A],x:i}),B!==y&&B!==j&&C.push({...e[B],x:i})}o>0&&j!==y&&C.push(e[j]),C.push(a),f=z,s=0,b=_=u,p=g=y=o}}return C}function jj(e){if(e._decimated){const t=e._data;delete e._decimated,delete e._data,Object.defineProperty(e,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function BC(e){e.data.datasets.forEach(t=>{jj(t)})}function XY(e,t){const n=t.length;let r=0,i;const{iScale:s}=e,{min:o,max:a,minDefined:l,maxDefined:u}=s.getUserBounds();return l&&(r=Nr(ta(t,s.axis,o).lo,0,n-1)),u?i=Nr(ta(t,s.axis,a).hi+1,r,n)-r:i=n-r,{start:r,count:i}}var JY={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(e,t,n)=>{if(!n.enabled){BC(e);return}const r=e.width;e.data.datasets.forEach((i,s)=>{const{_data:o,indexAxis:a}=i,l=e.getDatasetMeta(s),u=o||i.data;if(dh([a,e.options.indexAxis])==="y"||!l.controller.supportsDecimation)return;const f=e.scales[l.xAxisID];if(f.type!=="linear"&&f.type!=="time"||e.options.parsing)return;let{start:p,count:g}=XY(l,u);const y=n.threshold||4*r;if(g<=y){jj(i);return}Gt(o)&&(i._data=u,delete i.data,Object.defineProperty(i,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(_){this._data=_}}));let b;switch(n.algorithm){case"lttb":b=GY(u,p,g,r,n);break;case"min-max":b=YY(u,p,g,r);break;default:throw new Error(`Unsupported decimation algorithm '${n.algorithm}'`)}i._decimated=b})},destroy(e){BC(e)}};function ZY(e,t,n){const r=e.segments,i=e.points,s=t.points,o=[];for(const a of r){let{start:l,end:u}=a;u=F1(l,u,i);const f=p2(n,i[l],i[u],a.loop);if(!t.segments){o.push({source:a,target:f,start:i[l],end:i[u]});continue}const p=oj(t,f);for(const g of p){const y=p2(n,s[g.start],s[g.end],g.loop),b=sj(a,i,y);for(const _ of b)o.push({source:_,target:g,start:{[n]:zC(f,y,"start",Math.max)},end:{[n]:zC(f,y,"end",Math.min)}})}}return o}function p2(e,t,n,r){if(r)return;let i=t[e],s=n[e];return e==="angle"&&(i=Kr(i),s=Kr(s)),{property:e,start:i,end:s}}function eX(e,t){const{x:n=null,y:r=null}=e||{},i=t.points,s=[];return t.segments.forEach(({start:o,end:a})=>{a=F1(o,a,i);const l=i[o],u=i[a];r!==null?(s.push({x:l.x,y:r}),s.push({x:u.x,y:r})):n!==null&&(s.push({x:n,y:l.y}),s.push({x:n,y:u.y}))}),s}function F1(e,t,n){for(;t>e;t--){const r=n[t];if(!isNaN(r.x)&&!isNaN(r.y))break}return t}function zC(e,t,n,r){return e&&t?r(e[n],t[n]):e?e[n]:t?t[n]:0}function Nj(e,t){let n=[],r=!1;return $n(e)?(r=!0,n=e):n=eX(e,t),n.length?new Kd({points:n,options:{tension:0},_loop:r,_fullLoop:r}):null}function $C(e){return e&&e.fill!==!1}function tX(e,t,n){let i=e[t].fill;const s=[t];let o;if(!n)return i;for(;i!==!1&&s.indexOf(i)===-1;){if(!Yn(i))return i;if(o=e[i],!o)return!1;if(o.visible)return i;s.push(i),i=o.fill}return!1}function nX(e,t,n){const r=oX(e);if(Yt(r))return isNaN(r.value)?!1:r;let i=parseFloat(r);return Yn(i)&&Math.floor(i)===i?rX(r[0],t,i,n):["origin","start","end","stack","shape"].indexOf(r)>=0&&r}function rX(e,t,n,r){return(e==="-"||e==="+")&&(n=t+n),n===t||n<0||n>=r?!1:n}function iX(e,t){let n=null;return e==="start"?n=t.bottom:e==="end"?n=t.top:Yt(e)?n=t.getPixelForValue(e.value):t.getBasePixel&&(n=t.getBasePixel()),n}function sX(e,t,n){let r;return e==="start"?r=n:e==="end"?r=t.options.reverse?t.min:t.max:Yt(e)?r=e.value:r=t.getBaseValue(),r}function oX(e){const t=e.options,n=t.fill;let r=Et(n&&n.target,n);return r===void 0&&(r=!!t.backgroundColor),r===!1||r===null?!1:r===!0?"origin":r}function aX(e){const{scale:t,index:n,line:r}=e,i=[],s=r.segments,o=r.points,a=lX(t,n);a.push(Nj({x:null,y:t.bottom},r));for(let l=0;l<s.length;l++){const u=s[l];for(let f=u.start;f<=u.end;f++)cX(i,o[f],a)}return new Kd({points:i,options:{}})}function lX(e,t){const n=[],r=e.getMatchingVisibleMetas("line");for(let i=0;i<r.length;i++){const s=r[i];if(s.index===t)break;s.hidden||n.unshift(s.dataset)}return n}function cX(e,t,n){const r=[];for(let i=0;i<n.length;i++){const s=n[i],{first:o,last:a,point:l}=uX(s,t,"x");if(!(!l||o&&a)){if(o)r.unshift(l);else if(e.push(l),!a)break}}e.push(...r)}function uX(e,t,n){const r=e.interpolate(t,n);if(!r)return{};const i=r[n],s=e.segments,o=e.points;let a=!1,l=!1;for(let u=0;u<s.length;u++){const f=s[u],p=o[f.start][n],g=o[f.end][n];if(ea(i,p,g)){a=i===p,l=i===g;break}}return{first:a,last:l,point:r}}class Ij{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,n,r){const{x:i,y:s,radius:o}=this;return n=n||{start:0,end:An},t.arc(i,s,o,n.end,n.start,!0),!r.bounds}interpolate(t){const{x:n,y:r,radius:i}=this,s=t.angle;return{x:n+Math.cos(s)*i,y:r+Math.sin(s)*i,angle:s}}}function dX(e){const{chart:t,fill:n,line:r}=e;if(Yn(n))return fX(t,n);if(n==="stack")return aX(e);if(n==="shape")return!0;const i=hX(e);return i instanceof Ij?i:Nj(i,r)}function fX(e,t){const n=e.getDatasetMeta(t);return n&&e.isDatasetVisible(t)?n.dataset:null}function hX(e){return(e.scale||{}).getPointPositionForValue?mX(e):pX(e)}function pX(e){const{scale:t={},fill:n}=e,r=iX(n,t);if(Yn(r)){const i=t.isHorizontal();return{x:i?r:null,y:i?null:r}}return null}function mX(e){const{scale:t,fill:n}=e,r=t.options,i=t.getLabels().length,s=r.reverse?t.max:t.min,o=sX(n,t,s),a=[];if(r.grid.circular){const l=t.getPointPositionForValue(0,s);return new Ij({x:l.x,y:l.y,radius:t.getDistanceFromCenterForValue(o)})}for(let l=0;l<i;++l)a.push(t.getPointPositionForValue(l,o));return a}function Tx(e,t,n){const r=dX(t),{chart:i,index:s,line:o,scale:a,axis:l}=t,u=o.options,f=u.fill,p=u.backgroundColor,{above:g=p,below:y=p}=f||{},b=i.getDatasetMeta(s),_=aj(i,b);r&&o.points.length&&(O1(e,n),gX(e,{line:o,target:r,above:g,below:y,area:n,scale:a,axis:l,clip:_}),M1(e))}function gX(e,t){const{line:n,target:r,above:i,below:s,area:o,scale:a,clip:l}=t,u=n._loop?"angle":t.axis;e.save();let f=s;s!==i&&(u==="x"?(UC(e,r,o.top),jx(e,{line:n,target:r,color:i,scale:a,property:u,clip:l}),e.restore(),e.save(),UC(e,r,o.bottom)):u==="y"&&(HC(e,r,o.left),jx(e,{line:n,target:r,color:s,scale:a,property:u,clip:l}),e.restore(),e.save(),HC(e,r,o.right),f=i)),jx(e,{line:n,target:r,color:f,scale:a,property:u,clip:l}),e.restore()}function UC(e,t,n){const{segments:r,points:i}=t;let s=!0,o=!1;e.beginPath();for(const a of r){const{start:l,end:u}=a,f=i[l],p=i[F1(l,u,i)];s?(e.moveTo(f.x,f.y),s=!1):(e.lineTo(f.x,n),e.lineTo(f.x,f.y)),o=!!t.pathSegment(e,a,{move:o}),o?e.closePath():e.lineTo(p.x,n)}e.lineTo(t.first().x,n),e.closePath(),e.clip()}function HC(e,t,n){const{segments:r,points:i}=t;let s=!0,o=!1;e.beginPath();for(const a of r){const{start:l,end:u}=a,f=i[l],p=i[F1(l,u,i)];s?(e.moveTo(f.x,f.y),s=!1):(e.lineTo(n,f.y),e.lineTo(f.x,f.y)),o=!!t.pathSegment(e,a,{move:o}),o?e.closePath():e.lineTo(n,p.y)}e.lineTo(n,t.first().y),e.closePath(),e.clip()}function jx(e,t){const{line:n,target:r,property:i,color:s,scale:o,clip:a}=t,l=ZY(n,r,i);for(const{source:u,target:f,start:p,end:g}of l){const{style:{backgroundColor:y=s}={}}=u,b=r!==!0;e.save(),e.fillStyle=y,yX(e,o,a,b&&p2(i,p,g)),e.beginPath();const _=!!n.pathSegment(e,u);let C;if(b){_?e.closePath():WC(e,r,g,i);const k=!!r.pathSegment(e,f,{move:_,reverse:!0});C=_&&k,C||WC(e,r,p,i)}e.closePath(),e.fill(C?"evenodd":"nonzero"),e.restore()}}function yX(e,t,n,r){const i=t.chart.chartArea,{property:s,start:o,end:a}=r||{};if(s==="x"||s==="y"){let l,u,f,p;s==="x"?(l=o,u=i.top,f=a,p=i.bottom):(l=i.left,u=o,f=i.right,p=a),e.beginPath(),n&&(l=Math.max(l,n.left),f=Math.min(f,n.right),u=Math.max(u,n.top),p=Math.min(p,n.bottom)),e.rect(l,u,f-l,p-u),e.clip()}}function WC(e,t,n,r){const i=t.interpolate(n,r);i&&e.lineTo(i.x,i.y)}var Rj={id:"filler",afterDatasetsUpdate(e,t,n){const r=(e.data.datasets||[]).length,i=[];let s,o,a,l;for(o=0;o<r;++o)s=e.getDatasetMeta(o),a=s.dataset,l=null,a&&a.options&&a instanceof Kd&&(l={visible:e.isDatasetVisible(o),index:o,fill:nX(a,o,r),chart:e,axis:s.controller.options.indexAxis,scale:s.vScale,line:a}),s.$filler=l,i.push(l);for(o=0;o<r;++o)l=i[o],!(!l||l.fill===!1)&&(l.fill=tX(i,o,n.propagate))},beforeDraw(e,t,n){const r=n.drawTime==="beforeDraw",i=e.getSortedVisibleDatasetMetas(),s=e.chartArea;for(let o=i.length-1;o>=0;--o){const a=i[o].$filler;a&&(a.line.updateControlPoints(s,a.axis),r&&a.fill&&Tx(e.ctx,a,s))}},beforeDatasetsDraw(e,t,n){if(n.drawTime!=="beforeDatasetsDraw")return;const r=e.getSortedVisibleDatasetMetas();for(let i=r.length-1;i>=0;--i){const s=r[i].$filler;$C(s)&&Tx(e.ctx,s,e.chartArea)}},beforeDatasetDraw(e,t,n){const r=t.meta.$filler;!$C(r)||n.drawTime!=="beforeDatasetDraw"||Tx(e.ctx,r,e.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const qC=(e,t)=>{let{boxHeight:n=t,boxWidth:r=t}=e;return e.usePointStyle&&(n=Math.min(n,t),r=e.pointStyleWidth||Math.min(r,t)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(t,n)}},vX=(e,t)=>e!==null&&t!==null&&e.datasetIndex===t.datasetIndex&&e.index===t.index;class VC extends fa{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n,r){this.maxWidth=t,this.maxHeight=n,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let n=In(t.generateLabels,[this.chart],this)||[];t.filter&&(n=n.filter(r=>t.filter(r,this.chart.data))),t.sort&&(n=n.sort((r,i)=>t.sort(r,i,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:t,ctx:n}=this;if(!t.display){this.width=this.height=0;return}const r=t.labels,i=vr(r.font),s=i.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=qC(r,s);let u,f;n.font=i.string,this.isHorizontal()?(u=this.maxWidth,f=this._fitRows(o,s,a,l)+10):(f=this.maxHeight,u=this._fitCols(o,i,a,l)+10),this.width=Math.min(u,t.maxWidth||this.maxWidth),this.height=Math.min(f,t.maxHeight||this.maxHeight)}_fitRows(t,n,r,i){const{ctx:s,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],u=this.lineWidths=[0],f=i+a;let p=t;s.textAlign="left",s.textBaseline="middle";let g=-1,y=-f;return this.legendItems.forEach((b,_)=>{const C=r+n/2+s.measureText(b.text).width;(_===0||u[u.length-1]+C+2*a>o)&&(p+=f,u[u.length-(_>0?0:1)]=0,y+=f,g++),l[_]={left:0,top:y,row:g,width:C,height:i},u[u.length-1]+=C+a}),p}_fitCols(t,n,r,i){const{ctx:s,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],u=this.columnSizes=[],f=o-t;let p=a,g=0,y=0,b=0,_=0;return this.legendItems.forEach((C,k)=>{const{itemWidth:R,itemHeight:O}=xX(r,n,s,C,i);k>0&&y+O+2*a>f&&(p+=g+a,u.push({width:g,height:y}),b+=g+a,_++,g=y=0),l[k]={left:b,top:y,col:_,width:R,height:O},g=Math.max(g,R),y+=O+a}),p+=g,u.push({width:g,height:y}),p}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:r,labels:{padding:i},rtl:s}}=this,o=bd(s,this.left,this.width);if(this.isHorizontal()){let a=0,l=Qr(r,this.left+i,this.right-this.lineWidths[a]);for(const u of n)a!==u.row&&(a=u.row,l=Qr(r,this.left+i,this.right-this.lineWidths[a])),u.top+=this.top+t+i,u.left=o.leftForLtr(o.x(l),u.width),l+=u.width+i}else{let a=0,l=Qr(r,this.top+t+i,this.bottom-this.columnSizes[a].height);for(const u of n)u.col!==a&&(a=u.col,l=Qr(r,this.top+t+i,this.bottom-this.columnSizes[a].height)),u.top=l,u.left+=this.left+i,u.left=o.leftForLtr(o.x(u.left),u.width),l+=u.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;O1(t,this),this._draw(),M1(t)}}_draw(){const{options:t,columnSizes:n,lineWidths:r,ctx:i}=this,{align:s,labels:o}=t,a=Un.color,l=bd(t.rtl,this.left,this.width),u=vr(o.font),{padding:f}=o,p=u.size,g=p/2;let y;this.drawTitle(),i.textAlign=l.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=u.string;const{boxWidth:b,boxHeight:_,itemHeight:C}=qC(o,p),k=function(j,A,B){if(isNaN(b)||b<=0||isNaN(_)||_<0)return;i.save();const U=Et(B.lineWidth,1);if(i.fillStyle=Et(B.fillStyle,a),i.lineCap=Et(B.lineCap,"butt"),i.lineDashOffset=Et(B.lineDashOffset,0),i.lineJoin=Et(B.lineJoin,"miter"),i.lineWidth=U,i.strokeStyle=Et(B.strokeStyle,a),i.setLineDash(Et(B.lineDash,[])),o.usePointStyle){const D={radius:_*Math.SQRT2/2,pointStyle:B.pointStyle,rotation:B.rotation,borderWidth:U},Z=l.xPlus(j,b/2),X=A+g;KT(i,D,Z,X,o.pointStyleWidth&&b)}else{const D=A+Math.max((p-_)/2,0),Z=l.leftForLtr(j,b),X=jc(B.borderRadius);i.beginPath(),Object.values(X).some(re=>re!==0)?Yh(i,{x:Z,y:D,w:b,h:_,radius:X}):i.rect(Z,D,b,_),i.fill(),U!==0&&i.stroke()}i.restore()},R=function(j,A,B){Lc(i,B.text,j,A+C/2,u,{strikethrough:B.hidden,textAlign:l.textAlign(B.textAlign)})},O=this.isHorizontal(),$=this._computeTitleHeight();O?y={x:Qr(s,this.left+f,this.right-r[0]),y:this.top+f+$,line:0}:y={x:this.left+f,y:Qr(s,this.top+$+f,this.bottom-n[0].height),line:0},nj(this.ctx,t.textDirection);const z=C+f;this.legendItems.forEach((j,A)=>{i.strokeStyle=j.fontColor,i.fillStyle=j.fontColor;const B=i.measureText(j.text).width,U=l.textAlign(j.textAlign||(j.textAlign=o.textAlign)),D=b+g+B;let Z=y.x,X=y.y;l.setWidth(this.width),O?A>0&&Z+D+f>this.right&&(X=y.y+=z,y.line++,Z=y.x=Qr(s,this.left+f,this.right-r[y.line])):A>0&&X+z>this.bottom&&(Z=y.x=Z+n[y.line].width+f,y.line++,X=y.y=Qr(s,this.top+$+f,this.bottom-n[y.line].height));const re=l.x(Z);if(k(re,X,j),Z=AQ(U,Z+b+g,O?Z+D:this.right,t.rtl),R(l.x(Z),X,j),O)y.x+=D+f;else if(typeof j.text!="string"){const V=u.lineHeight;y.y+=Pj(j,V)+f}else y.y+=z}),rj(this.ctx,t.textDirection)}drawTitle(){const t=this.options,n=t.title,r=vr(n.font),i=Xr(n.padding);if(!n.display)return;const s=bd(t.rtl,this.left,this.width),o=this.ctx,a=n.position,l=r.size/2,u=i.top+l;let f,p=this.left,g=this.width;if(this.isHorizontal())g=Math.max(...this.lineWidths),f=this.top+u,p=Qr(t.align,p,this.right-g);else{const b=this.columnSizes.reduce((_,C)=>Math.max(_,C.height),0);f=u+Qr(t.align,this.top,this.bottom-b-t.labels.padding-this._computeTitleHeight())}const y=Qr(a,p,p+g);o.textAlign=s.textAlign(h_(a)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=r.string,Lc(o,n.text,y,f,r)}_computeTitleHeight(){const t=this.options.title,n=vr(t.font),r=Xr(t.padding);return t.display?n.lineHeight+r.height:0}_getLegendItemAt(t,n){let r,i,s;if(ea(t,this.left,this.right)&&ea(n,this.top,this.bottom)){for(s=this.legendHitBoxes,r=0;r<s.length;++r)if(i=s[r],ea(t,i.left,i.left+i.width)&&ea(n,i.top,i.top+i.height))return this.legendItems[r]}return null}handleEvent(t){const n=this.options;if(!_X(t.type,n))return;const r=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const i=this._hoveredItem,s=vX(i,r);i&&!s&&In(n.onLeave,[t,i,this],this),this._hoveredItem=r,r&&!s&&In(n.onHover,[t,r,this],this)}else r&&In(n.onClick,[t,r,this],this)}}function xX(e,t,n,r,i){const s=bX(r,e,t,n),o=wX(i,r,t.lineHeight);return{itemWidth:s,itemHeight:o}}function bX(e,t,n,r){let i=e.text;return i&&typeof i!="string"&&(i=i.reduce((s,o)=>s.length>o.length?s:o)),t+n.size/2+r.measureText(i).width}function wX(e,t,n){let r=e;return typeof t.text!="string"&&(r=Pj(t,n)),r}function Pj(e,t){const n=e.text?e.text.length:0;return t*n}function _X(e,t){return!!((e==="mousemove"||e==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(e==="click"||e==="mouseup"))}var Gd={id:"legend",_element:VC,start(e,t,n){const r=e.legend=new VC({ctx:e.ctx,options:n,chart:e});Gr.configure(e,r,n),Gr.addBox(e,r)},stop(e){Gr.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,n){const r=e.legend;Gr.configure(e,r,n),r.options=n},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,n){const r=t.datasetIndex,i=n.chart;i.isDatasetVisible(r)?(i.hide(r),t.hidden=!0):(i.show(r),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:i,color:s,useBorderRadius:o,borderRadius:a}}=e.legend.options;return e._getSortedDatasetMetas().map(l=>{const u=l.controller.getStyle(n?0:void 0),f=Xr(u.borderWidth);return{text:t[l.index].label,fillStyle:u.backgroundColor,fontColor:s,hidden:!l.visible,lineCap:u.borderCapStyle,lineDash:u.borderDash,lineDashOffset:u.borderDashOffset,lineJoin:u.borderJoinStyle,lineWidth:(f.width+f.height)/4,strokeStyle:u.borderColor,pointStyle:r||u.pointStyle,rotation:u.rotation,textAlign:i||u.textAlign,borderRadius:o&&(a||u.borderRadius),datasetIndex:l.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class C_ extends fa{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n){const r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=n;const i=$n(r.text)?r.text.length:1;this._padding=Xr(r.padding);const s=i*vr(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:n,left:r,bottom:i,right:s,options:o}=this,a=o.align;let l=0,u,f,p;return this.isHorizontal()?(f=Qr(a,r,s),p=n+t,u=s-r):(o.position==="left"?(f=r+t,p=Qr(a,i,n),l=dn*-.5):(f=s-t,p=Qr(a,n,i),l=dn*.5),u=i-n),{titleX:f,titleY:p,maxWidth:u,rotation:l}}draw(){const t=this.ctx,n=this.options;if(!n.display)return;const r=vr(n.font),s=r.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:u}=this._drawArgs(s);Lc(t,n.text,0,0,r,{color:n.color,maxWidth:l,rotation:u,textAlign:h_(n.align),textBaseline:"middle",translation:[o,a]})}}function SX(e,t){const n=new C_({ctx:e.ctx,options:t,chart:e});Gr.configure(e,n,t),Gr.addBox(e,n),e.titleBlock=n}var Oj={id:"title",_element:C_,start(e,t,n){SX(e,n)},stop(e){const t=e.titleBlock;Gr.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,n){const r=e.titleBlock;Gr.configure(e,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Sg=new WeakMap;var CX={id:"subtitle",start(e,t,n){const r=new C_({ctx:e.ctx,options:n,chart:e});Gr.configure(e,r,n),Gr.addBox(e,r),Sg.set(e,r)},stop(e){Gr.removeBox(e,Sg.get(e)),Sg.delete(e)},beforeUpdate(e,t,n){const r=Sg.get(e);Gr.configure(e,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const hh={average(e){if(!e.length)return!1;let t,n,r=new Set,i=0,s=0;for(t=0,n=e.length;t<n;++t){const a=e[t].element;if(a&&a.hasValue()){const l=a.tooltipPosition();r.add(l.x),i+=l.y,++s}}return s===0||r.size===0?!1:{x:[...r].reduce((a,l)=>a+l)/r.size,y:i/s}},nearest(e,t){if(!e.length)return!1;let n=t.x,r=t.y,i=Number.POSITIVE_INFINITY,s,o,a;for(s=0,o=e.length;s<o;++s){const l=e[s].element;if(l&&l.hasValue()){const u=l.getCenterPoint(),f=a2(t,u);f<i&&(i=f,a=l)}}if(a){const l=a.tooltipPosition();n=l.x,r=l.y}return{x:n,y:r}}};function uo(e,t){return t&&($n(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function Vo(e){return(typeof e=="string"||e instanceof String)&&e.indexOf(`
`)>-1?e.split(`
`):e}function kX(e,t){const{element:n,datasetIndex:r,index:i}=t,s=e.getDatasetMeta(r).controller,{label:o,value:a}=s.getLabelAndValue(i);return{chart:e,label:o,parsed:s.getParsed(i),raw:e.data.datasets[r].data[i],formattedValue:a,dataset:s.getDataset(),dataIndex:i,datasetIndex:r,element:n}}function QC(e,t){const n=e.chart.ctx,{body:r,footer:i,title:s}=e,{boxWidth:o,boxHeight:a}=t,l=vr(t.bodyFont),u=vr(t.titleFont),f=vr(t.footerFont),p=s.length,g=i.length,y=r.length,b=Xr(t.padding);let _=b.height,C=0,k=r.reduce(($,z)=>$+z.before.length+z.lines.length+z.after.length,0);if(k+=e.beforeBody.length+e.afterBody.length,p&&(_+=p*u.lineHeight+(p-1)*t.titleSpacing+t.titleMarginBottom),k){const $=t.displayColors?Math.max(a,l.lineHeight):l.lineHeight;_+=y*$+(k-y)*l.lineHeight+(k-1)*t.bodySpacing}g&&(_+=t.footerMarginTop+g*f.lineHeight+(g-1)*t.footerSpacing);let R=0;const O=function($){C=Math.max(C,n.measureText($).width+R)};return n.save(),n.font=u.string,vn(e.title,O),n.font=l.string,vn(e.beforeBody.concat(e.afterBody),O),R=t.displayColors?o+2+t.boxPadding:0,vn(r,$=>{vn($.before,O),vn($.lines,O),vn($.after,O)}),R=0,n.font=f.string,vn(e.footer,O),n.restore(),C+=b.width,{width:C,height:_}}function EX(e,t){const{y:n,height:r}=t;return n<r/2?"top":n>e.height-r/2?"bottom":"center"}function TX(e,t,n,r){const{x:i,width:s}=r,o=n.caretSize+n.caretPadding;if(e==="left"&&i+s+o>t.width||e==="right"&&i-s-o<0)return!0}function jX(e,t,n,r){const{x:i,width:s}=n,{width:o,chartArea:{left:a,right:l}}=e;let u="center";return r==="center"?u=i<=(a+l)/2?"left":"right":i<=s/2?u="left":i>=o-s/2&&(u="right"),TX(u,e,t,n)&&(u="center"),u}function KC(e,t,n){const r=n.yAlign||t.yAlign||EX(e,n);return{xAlign:n.xAlign||t.xAlign||jX(e,t,n,r),yAlign:r}}function NX(e,t){let{x:n,width:r}=e;return t==="right"?n-=r:t==="center"&&(n-=r/2),n}function IX(e,t,n){let{y:r,height:i}=e;return t==="top"?r+=n:t==="bottom"?r-=i+n:r-=i/2,r}function GC(e,t,n,r){const{caretSize:i,caretPadding:s,cornerRadius:o}=e,{xAlign:a,yAlign:l}=n,u=i+s,{topLeft:f,topRight:p,bottomLeft:g,bottomRight:y}=jc(o);let b=NX(t,a);const _=IX(t,l,u);return l==="center"?a==="left"?b+=u:a==="right"&&(b-=u):a==="left"?b-=Math.max(f,g)+i:a==="right"&&(b+=Math.max(p,y)+i),{x:Nr(b,0,r.width-t.width),y:Nr(_,0,r.height-t.height)}}function Cg(e,t,n){const r=Xr(n.padding);return t==="center"?e.x+e.width/2:t==="right"?e.x+e.width-r.right:e.x+r.left}function YC(e){return uo([],Vo(e))}function RX(e,t,n){return Sl(e,{tooltip:t,tooltipItems:n,type:"tooltip"})}function XC(e,t){const n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?e.override(n):e}const Mj={beforeTitle:Ho,title(e){if(e.length>0){const t=e[0],n=t.chart.data.labels,r=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(r>0&&t.dataIndex<r)return n[t.dataIndex]}return""},afterTitle:Ho,beforeBody:Ho,beforeLabel:Ho,label(e){if(this&&this.options&&this.options.mode==="dataset")return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const n=e.formattedValue;return Gt(n)||(t+=n),t},labelColor(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Ho,afterBody:Ho,beforeFooter:Ho,footer:Ho,afterFooter:Ho};function ki(e,t,n,r){const i=e[t].call(n,r);return typeof i>"u"?Mj[t].call(n,r):i}let JC=class extends fa{static positioners=hh;constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const n=this.chart,r=this.options.setContext(this.getContext()),i=r.enabled&&n.options.animation&&r.animations,s=new lj(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=RX(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,n){const{callbacks:r}=n,i=ki(r,"beforeTitle",this,t),s=ki(r,"title",this,t),o=ki(r,"afterTitle",this,t);let a=[];return a=uo(a,Vo(i)),a=uo(a,Vo(s)),a=uo(a,Vo(o)),a}getBeforeBody(t,n){return YC(ki(n.callbacks,"beforeBody",this,t))}getBody(t,n){const{callbacks:r}=n,i=[];return vn(t,s=>{const o={before:[],lines:[],after:[]},a=XC(r,s);uo(o.before,Vo(ki(a,"beforeLabel",this,s))),uo(o.lines,ki(a,"label",this,s)),uo(o.after,Vo(ki(a,"afterLabel",this,s))),i.push(o)}),i}getAfterBody(t,n){return YC(ki(n.callbacks,"afterBody",this,t))}getFooter(t,n){const{callbacks:r}=n,i=ki(r,"beforeFooter",this,t),s=ki(r,"footer",this,t),o=ki(r,"afterFooter",this,t);let a=[];return a=uo(a,Vo(i)),a=uo(a,Vo(s)),a=uo(a,Vo(o)),a}_createItems(t){const n=this._active,r=this.chart.data,i=[],s=[],o=[];let a=[],l,u;for(l=0,u=n.length;l<u;++l)a.push(kX(this.chart,n[l]));return t.filter&&(a=a.filter((f,p,g)=>t.filter(f,p,g,r))),t.itemSort&&(a=a.sort((f,p)=>t.itemSort(f,p,r))),vn(a,f=>{const p=XC(t.callbacks,f);i.push(ki(p,"labelColor",this,f)),s.push(ki(p,"labelPointStyle",this,f)),o.push(ki(p,"labelTextColor",this,f))}),this.labelColors=i,this.labelPointStyles=s,this.labelTextColors=o,this.dataPoints=a,a}update(t,n){const r=this.options.setContext(this.getContext()),i=this._active;let s,o=[];if(!i.length)this.opacity!==0&&(s={opacity:0});else{const a=hh[r.position].call(this,i,this._eventPosition);o=this._createItems(r),this.title=this.getTitle(o,r),this.beforeBody=this.getBeforeBody(o,r),this.body=this.getBody(o,r),this.afterBody=this.getAfterBody(o,r),this.footer=this.getFooter(o,r);const l=this._size=QC(this,r),u=Object.assign({},a,l),f=KC(this.chart,r,u),p=GC(r,u,f,this.chart);this.xAlign=f.xAlign,this.yAlign=f.yAlign,s={opacity:1,x:p.x,y:p.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,s&&this._resolveAnimations().update(this,s),t&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(t,n,r,i){const s=this.getCaretPosition(t,r,i);n.lineTo(s.x1,s.y1),n.lineTo(s.x2,s.y2),n.lineTo(s.x3,s.y3)}getCaretPosition(t,n,r){const{xAlign:i,yAlign:s}=this,{caretSize:o,cornerRadius:a}=r,{topLeft:l,topRight:u,bottomLeft:f,bottomRight:p}=jc(a),{x:g,y}=t,{width:b,height:_}=n;let C,k,R,O,$,z;return s==="center"?($=y+_/2,i==="left"?(C=g,k=C-o,O=$+o,z=$-o):(C=g+b,k=C+o,O=$-o,z=$+o),R=C):(i==="left"?k=g+Math.max(l,f)+o:i==="right"?k=g+b-Math.max(u,p)-o:k=this.caretX,s==="top"?(O=y,$=O-o,C=k-o,R=k+o):(O=y+_,$=O+o,C=k+o,R=k-o),z=O),{x1:C,x2:k,x3:R,y1:O,y2:$,y3:z}}drawTitle(t,n,r){const i=this.title,s=i.length;let o,a,l;if(s){const u=bd(r.rtl,this.x,this.width);for(t.x=Cg(this,r.titleAlign,r),n.textAlign=u.textAlign(r.titleAlign),n.textBaseline="middle",o=vr(r.titleFont),a=r.titleSpacing,n.fillStyle=r.titleColor,n.font=o.string,l=0;l<s;++l)n.fillText(i[l],u.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+a,l+1===s&&(t.y+=r.titleMarginBottom-a)}}_drawColorBox(t,n,r,i,s){const o=this.labelColors[r],a=this.labelPointStyles[r],{boxHeight:l,boxWidth:u}=s,f=vr(s.bodyFont),p=Cg(this,"left",s),g=i.x(p),y=l<f.lineHeight?(f.lineHeight-l)/2:0,b=n.y+y;if(s.usePointStyle){const _={radius:Math.min(u,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},C=i.leftForLtr(g,u)+u/2,k=b+l/2;t.strokeStyle=s.multiKeyBackground,t.fillStyle=s.multiKeyBackground,c2(t,_,C,k),t.strokeStyle=o.borderColor,t.fillStyle=o.backgroundColor,c2(t,_,C,k)}else{t.lineWidth=Yt(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,t.strokeStyle=o.borderColor,t.setLineDash(o.borderDash||[]),t.lineDashOffset=o.borderDashOffset||0;const _=i.leftForLtr(g,u),C=i.leftForLtr(i.xPlus(g,1),u-2),k=jc(o.borderRadius);Object.values(k).some(R=>R!==0)?(t.beginPath(),t.fillStyle=s.multiKeyBackground,Yh(t,{x:_,y:b,w:u,h:l,radius:k}),t.fill(),t.stroke(),t.fillStyle=o.backgroundColor,t.beginPath(),Yh(t,{x:C,y:b+1,w:u-2,h:l-2,radius:k}),t.fill()):(t.fillStyle=s.multiKeyBackground,t.fillRect(_,b,u,l),t.strokeRect(_,b,u,l),t.fillStyle=o.backgroundColor,t.fillRect(C,b+1,u-2,l-2))}t.fillStyle=this.labelTextColors[r]}drawBody(t,n,r){const{body:i}=this,{bodySpacing:s,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:u,boxPadding:f}=r,p=vr(r.bodyFont);let g=p.lineHeight,y=0;const b=bd(r.rtl,this.x,this.width),_=function(B){n.fillText(B,b.x(t.x+y),t.y+g/2),t.y+=g+s},C=b.textAlign(o);let k,R,O,$,z,j,A;for(n.textAlign=o,n.textBaseline="middle",n.font=p.string,t.x=Cg(this,C,r),n.fillStyle=r.bodyColor,vn(this.beforeBody,_),y=a&&C!=="right"?o==="center"?u/2+f:u+2+f:0,$=0,j=i.length;$<j;++$){for(k=i[$],R=this.labelTextColors[$],n.fillStyle=R,vn(k.before,_),O=k.lines,a&&O.length&&(this._drawColorBox(n,t,$,b,r),g=Math.max(p.lineHeight,l)),z=0,A=O.length;z<A;++z)_(O[z]),g=p.lineHeight;vn(k.after,_)}y=0,g=p.lineHeight,vn(this.afterBody,_),t.y-=s}drawFooter(t,n,r){const i=this.footer,s=i.length;let o,a;if(s){const l=bd(r.rtl,this.x,this.width);for(t.x=Cg(this,r.footerAlign,r),t.y+=r.footerMarginTop,n.textAlign=l.textAlign(r.footerAlign),n.textBaseline="middle",o=vr(r.footerFont),n.fillStyle=r.footerColor,n.font=o.string,a=0;a<s;++a)n.fillText(i[a],l.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+r.footerSpacing}}drawBackground(t,n,r,i){const{xAlign:s,yAlign:o}=this,{x:a,y:l}=t,{width:u,height:f}=r,{topLeft:p,topRight:g,bottomLeft:y,bottomRight:b}=jc(i.cornerRadius);n.fillStyle=i.backgroundColor,n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.beginPath(),n.moveTo(a+p,l),o==="top"&&this.drawCaret(t,n,r,i),n.lineTo(a+u-g,l),n.quadraticCurveTo(a+u,l,a+u,l+g),o==="center"&&s==="right"&&this.drawCaret(t,n,r,i),n.lineTo(a+u,l+f-b),n.quadraticCurveTo(a+u,l+f,a+u-b,l+f),o==="bottom"&&this.drawCaret(t,n,r,i),n.lineTo(a+y,l+f),n.quadraticCurveTo(a,l+f,a,l+f-y),o==="center"&&s==="left"&&this.drawCaret(t,n,r,i),n.lineTo(a,l+p),n.quadraticCurveTo(a,l,a+p,l),n.closePath(),n.fill(),i.borderWidth>0&&n.stroke()}_updateAnimationTarget(t){const n=this.chart,r=this.$animations,i=r&&r.x,s=r&&r.y;if(i||s){const o=hh[t.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=QC(this,t),l=Object.assign({},o,this._size),u=KC(n,t,l),f=GC(t,l,u,n);(i._to!==f.x||s._to!==f.y)&&(this.xAlign=u.xAlign,this.yAlign=u.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,f))}}_willRender(){return!!this.opacity}draw(t){const n=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(n);const i={width:this.width,height:this.height},s={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const o=Xr(n.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&a&&(t.save(),t.globalAlpha=r,this.drawBackground(s,t,i,n),nj(t,n.textDirection),s.y+=o.top,this.drawTitle(s,t,n),this.drawBody(s,t,n),this.drawFooter(s,t,n),rj(t,n.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,n){const r=this._active,i=t.map(({datasetIndex:a,index:l})=>{const u=this.chart.getDatasetMeta(a);if(!u)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:u.data[l],index:l}}),s=!$0(r,i),o=this._positionChanged(i,n);(s||o)&&(this._active=i,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,n,r=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,s=this._active||[],o=this._getActiveElements(t,s,n,r),a=this._positionChanged(o,t),l=n||!$0(o,s)||a;return l&&(this._active=o,(i.enabled||i.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,n))),l}_getActiveElements(t,n,r,i){const s=this.options;if(t.type==="mouseout")return[];if(!i)return n.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const o=this.chart.getElementsAtEventForMode(t,s.mode,s,r);return s.reverse&&o.reverse(),o}_positionChanged(t,n){const{caretX:r,caretY:i,options:s}=this,o=hh[s.position].call(this,t,n);return o!==!1&&(r!==o.x||i!==o.y)}};var Yd={id:"tooltip",_element:JC,positioners:hh,afterInit(e,t,n){n&&(e.tooltip=new JC({chart:e,options:n}))},beforeUpdate(e,t,n){e.tooltip&&e.tooltip.initialize(n)},reset(e,t,n){e.tooltip&&e.tooltip.initialize(n)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const n={tooltip:t};if(e.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",n)}},afterEvent(e,t){if(e.tooltip){const n=t.replay;e.tooltip.handleEvent(t.event,n,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Mj},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>e!=="filter"&&e!=="itemSort"&&e!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},PX=Object.freeze({__proto__:null,Colors:KY,Decimation:JY,Filler:Rj,Legend:Gd,SubTitle:CX,Title:Oj,Tooltip:Yd});const OX=(e,t,n,r)=>(typeof t=="string"?(n=e.push(t)-1,r.unshift({index:n,label:t})):isNaN(t)&&(n=null),n);function MX(e,t,n,r){const i=e.indexOf(t);if(i===-1)return OX(e,t,n,r);const s=e.lastIndexOf(t);return i!==s?n:i}const AX=(e,t)=>e===null?null:Nr(Math.round(e),0,t);function ZC(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class Cp extends Gc{static id="category";static defaults={ticks:{callback:ZC}};constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const n=this._addedLabels;if(n.length){const r=this.getLabels();for(const{index:i,label:s}of n)r[i]===s&&r.splice(i,1);this._addedLabels=[]}super.init(t)}parse(t,n){if(Gt(t))return null;const r=this.getLabels();return n=isFinite(n)&&r[n]===t?n:MX(r,t,Et(n,t),this._addedLabels),AX(n,r.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:r,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(r=0),n||(i=this.getLabels().length-1)),this.min=r,this.max=i}buildTicks(){const t=this.min,n=this.max,r=this.options.offset,i=[];let s=this.getLabels();s=t===0&&n===s.length-1?s:s.slice(t,n+1),this._valueRange=Math.max(s.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let o=t;o<=n;o++)i.push({value:o});return i}getLabelForValue(t){return ZC.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}function DX(e,t){const n=[],{bounds:i,step:s,min:o,max:a,precision:l,count:u,maxTicks:f,maxDigits:p,includeBounds:g}=e,y=s||1,b=f-1,{min:_,max:C}=t,k=!Gt(o),R=!Gt(a),O=!Gt(u),$=(C-_)/(p+1);let z=Q6((C-_)/b/y)*y,j,A,B,U;if(z<1e-14&&!k&&!R)return[{value:_},{value:C}];U=Math.ceil(C/z)-Math.floor(_/z),U>b&&(z=Q6(U*z/b/y)*y),Gt(l)||(j=Math.pow(10,l),z=Math.ceil(z*j)/j),i==="ticks"?(A=Math.floor(_/z)*z,B=Math.ceil(C/z)*z):(A=_,B=C),k&&R&&s&&jQ((a-o)/s,z/1e3)?(U=Math.round(Math.min((a-o)/z,f)),z=(a-o)/U,A=o,B=a):O?(A=k?o:A,B=R?a:B,U=u-1,z=(B-A)/U):(U=(B-A)/z,Ch(U,Math.round(U),z/1e3)?U=Math.round(U):U=Math.ceil(U));const D=Math.max(K6(z),K6(A));j=Math.pow(10,Gt(l)?D:l),A=Math.round(A*j)/j,B=Math.round(B*j)/j;let Z=0;for(k&&(g&&A!==o?(n.push({value:o}),A<o&&Z++,Ch(Math.round((A+Z*z)*j)/j,o,ek(o,$,e))&&Z++):A<o&&Z++);Z<U;++Z){const X=Math.round((A+Z*z)*j)/j;if(R&&X>a)break;n.push({value:X})}return R&&g&&B!==a?n.length&&Ch(n[n.length-1].value,a,ek(a,$,e))?n[n.length-1].value=a:n.push({value:a}):(!R||B===a)&&n.push({value:B}),n}function ek(e,t,{horizontal:n,minRotation:r}){const i=Ks(r),s=(n?Math.sin(i):Math.cos(i))||.001,o=.75*t*(""+e).length;return Math.min(t/s,o)}class K0 extends Gc{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,n){return Gt(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:n,maxDefined:r}=this.getUserBounds();let{min:i,max:s}=this;const o=l=>i=n?i:l,a=l=>s=r?s:l;if(t){const l=xo(i),u=xo(s);l<0&&u<0?a(0):l>0&&u>0&&o(0)}if(i===s){let l=s===0?1:Math.abs(s*.05);a(s+l),t||o(i-l)}this.min=i,this.max=s}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:n,stepSize:r}=t,i;return r?(i=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),n=n||11),n&&(i=Math.min(n,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,n=t.ticks;let r=this.getTickLimit();r=Math.max(2,r);const i={maxTicks:r,bounds:t.bounds,min:t.min,max:t.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},s=this._range||this,o=DX(i,s);return t.bounds==="ticks"&&BT(o,this,"value"),t.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const t=this.ticks;let n=this.min,r=this.max;if(super.configure(),this.options.offset&&t.length){const i=(r-n)/Math.max(t.length-1,1)/2;n-=i,r+=i}this._startValue=n,this._endValue=r,this._valueRange=r-n}getLabelForValue(t){return _p(t,this.chart.options.locale,this.options.ticks.format)}}class kp extends K0{static id="linear";static defaults={ticks:{callback:P1.formatters.numeric}};determineDataLimits(){const{min:t,max:n}=this.getMinMax(!0);this.min=Yn(t)?t:0,this.max=Yn(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),n=t?this.width:this.height,r=Ks(this.options.ticks.minRotation),i=(t?Math.sin(r):Math.cos(r))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,s.lineHeight/i))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}const Jh=e=>Math.floor(Za(e)),oc=(e,t)=>Math.pow(10,Jh(e)+t);function tk(e){return e/Math.pow(10,Jh(e))===1}function nk(e,t,n){const r=Math.pow(10,n),i=Math.floor(e/r);return Math.ceil(t/r)-i}function LX(e,t){const n=t-e;let r=Jh(n);for(;nk(e,t,r)>10;)r++;for(;nk(e,t,r)<10;)r--;return Math.min(r,Jh(e))}function FX(e,{min:t,max:n}){t=Yi(e.min,t);const r=[],i=Jh(t);let s=LX(t,n),o=s<0?Math.pow(10,Math.abs(s)):1;const a=Math.pow(10,s),l=i>s?Math.pow(10,i):0,u=Math.round((t-l)*o)/o,f=Math.floor((t-l)/a/10)*a*10;let p=Math.floor((u-f)/Math.pow(10,s)),g=Yi(e.min,Math.round((l+f+p*Math.pow(10,s))*o)/o);for(;g<n;)r.push({value:g,major:tk(g),significand:p}),p>=10?p=p<15?15:20:p++,p>=20&&(s++,p=2,o=s>=0?1:o),g=Math.round((l+f+p*Math.pow(10,s))*o)/o;const y=Yi(e.max,g);return r.push({value:y,major:tk(y),significand:p}),r}class BX extends Gc{static id="logarithmic";static defaults={ticks:{callback:P1.formatters.logarithmic,major:{enabled:!0}}};constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,n){const r=K0.prototype.parse.apply(this,[t,n]);if(r===0){this._zero=!0;return}return Yn(r)&&r>0?r:null}determineDataLimits(){const{min:t,max:n}=this.getMinMax(!0);this.min=Yn(t)?Math.max(0,t):null,this.max=Yn(n)?Math.max(0,n):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Yn(this._userMin)&&(this.min=t===oc(this.min,0)?oc(this.min,-1):oc(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:n}=this.getUserBounds();let r=this.min,i=this.max;const s=a=>r=t?r:a,o=a=>i=n?i:a;r===i&&(r<=0?(s(1),o(10)):(s(oc(r,-1)),o(oc(i,1)))),r<=0&&s(oc(i,-1)),i<=0&&o(oc(r,1)),this.min=r,this.max=i}buildTicks(){const t=this.options,n={min:this._userMin,max:this._userMax},r=FX(n,this);return t.bounds==="ticks"&&BT(r,this,"value"),t.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}getLabelForValue(t){return t===void 0?"0":_p(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=Za(t),this._valueRange=Za(this.max)-Za(t)}getPixelForValue(t){return(t===void 0||t===0)&&(t=this.min),t===null||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(Za(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const n=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+n*this._valueRange)}}function m2(e){const t=e.ticks;if(t.display&&e.display){const n=Xr(t.backdropPadding);return Et(t.font&&t.font.size,Un.font.size)+n.height}return 0}function zX(e,t,n){return n=$n(n)?n:[n],{w:qQ(e,t.string,n),h:n.length*t.lineHeight}}function rk(e,t,n,r,i){return e===r||e===i?{start:t-n/2,end:t+n/2}:e<r||e>i?{start:t-n,end:t}:{start:t,end:t+n}}function $X(e){const t={l:e.left+e._padding.left,r:e.right-e._padding.right,t:e.top+e._padding.top,b:e.bottom-e._padding.bottom},n=Object.assign({},t),r=[],i=[],s=e._pointLabels.length,o=e.options.pointLabels,a=o.centerPointLabels?dn/s:0;for(let l=0;l<s;l++){const u=o.setContext(e.getPointLabelContext(l));i[l]=u.padding;const f=e.getPointPosition(l,e.drawingArea+i[l],a),p=vr(u.font),g=zX(e.ctx,p,e._pointLabels[l]);r[l]=g;const y=Kr(e.getIndexAngle(l)+a),b=Math.round(d_(y)),_=rk(b,f.x,g.w,0,180),C=rk(b,f.y,g.h,90,270);UX(n,t,y,_,C)}e.setCenterPoint(t.l-n.l,n.r-t.r,t.t-n.t,n.b-t.b),e._pointLabelItems=qX(e,r,i)}function UX(e,t,n,r,i){const s=Math.abs(Math.sin(n)),o=Math.abs(Math.cos(n));let a=0,l=0;r.start<t.l?(a=(t.l-r.start)/s,e.l=Math.min(e.l,t.l-a)):r.end>t.r&&(a=(r.end-t.r)/s,e.r=Math.max(e.r,t.r+a)),i.start<t.t?(l=(t.t-i.start)/o,e.t=Math.min(e.t,t.t-l)):i.end>t.b&&(l=(i.end-t.b)/o,e.b=Math.max(e.b,t.b+l))}function HX(e,t,n){const r=e.drawingArea,{extra:i,additionalAngle:s,padding:o,size:a}=n,l=e.getPointPosition(t,r+i+o,s),u=Math.round(d_(Kr(l.angle+tr))),f=KX(l.y,a.h,u),p=VX(u),g=QX(l.x,a.w,p);return{visible:!0,x:l.x,y:f,textAlign:p,left:g,top:f,right:g+a.w,bottom:f+a.h}}function WX(e,t){if(!t)return!0;const{left:n,top:r,right:i,bottom:s}=e;return!(na({x:n,y:r},t)||na({x:n,y:s},t)||na({x:i,y:r},t)||na({x:i,y:s},t))}function qX(e,t,n){const r=[],i=e._pointLabels.length,s=e.options,{centerPointLabels:o,display:a}=s.pointLabels,l={extra:m2(s)/2,additionalAngle:o?dn/i:0};let u;for(let f=0;f<i;f++){l.padding=n[f],l.size=t[f];const p=HX(e,f,l);r.push(p),a==="auto"&&(p.visible=WX(p,u),p.visible&&(u=p))}return r}function VX(e){return e===0||e===180?"center":e<180?"left":"right"}function QX(e,t,n){return n==="right"?e-=t:n==="center"&&(e-=t/2),e}function KX(e,t,n){return n===90||n===270?e-=t/2:(n>270||n<90)&&(e-=t),e}function GX(e,t,n){const{left:r,top:i,right:s,bottom:o}=n,{backdropColor:a}=t;if(!Gt(a)){const l=jc(t.borderRadius),u=Xr(t.backdropPadding);e.fillStyle=a;const f=r-u.left,p=i-u.top,g=s-r+u.width,y=o-i+u.height;Object.values(l).some(b=>b!==0)?(e.beginPath(),Yh(e,{x:f,y:p,w:g,h:y,radius:l}),e.fill()):e.fillRect(f,p,g,y)}}function YX(e,t){const{ctx:n,options:{pointLabels:r}}=e;for(let i=t-1;i>=0;i--){const s=e._pointLabelItems[i];if(!s.visible)continue;const o=r.setContext(e.getPointLabelContext(i));GX(n,o,s);const a=vr(o.font),{x:l,y:u,textAlign:f}=s;Lc(n,e._pointLabels[i],l,u+a.lineHeight/2,a,{color:o.color,textAlign:f,textBaseline:"middle"})}}function Aj(e,t,n,r){const{ctx:i}=e;if(n)i.arc(e.xCenter,e.yCenter,t,0,An);else{let s=e.getPointPosition(0,t);i.moveTo(s.x,s.y);for(let o=1;o<r;o++)s=e.getPointPosition(o,t),i.lineTo(s.x,s.y)}}function XX(e,t,n,r,i){const s=e.ctx,o=t.circular,{color:a,lineWidth:l}=t;!o&&!r||!a||!l||n<0||(s.save(),s.strokeStyle=a,s.lineWidth=l,s.setLineDash(i.dash||[]),s.lineDashOffset=i.dashOffset,s.beginPath(),Aj(e,n,o,r),s.closePath(),s.stroke(),s.restore())}function JX(e,t,n){return Sl(e,{label:n,index:t,type:"pointLabel"})}class Dj extends K0{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:P1.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=Xr(m2(this.options)/2),n=this.width=this.maxWidth-t.width,r=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+n/2+t.left),this.yCenter=Math.floor(this.top+r/2+t.top),this.drawingArea=Math.floor(Math.min(n,r)/2)}determineDataLimits(){const{min:t,max:n}=this.getMinMax(!1);this.min=Yn(t)&&!isNaN(t)?t:0,this.max=Yn(n)&&!isNaN(n)?n:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/m2(this.options))}generateTickLabels(t){K0.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((n,r)=>{const i=In(this.options.pointLabels.callback,[n,r],this);return i||i===0?i:""}).filter((n,r)=>this.chart.getDataVisibility(r))}fit(){const t=this.options;t.display&&t.pointLabels.display?$X(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,n,r,i){this.xCenter+=Math.floor((t-n)/2),this.yCenter+=Math.floor((r-i)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,n,r,i))}getIndexAngle(t){const n=An/(this._pointLabels.length||1),r=this.options.startAngle||0;return Kr(t*n+Ks(r))}getDistanceFromCenterForValue(t){if(Gt(t))return NaN;const n=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*n:(t-this.min)*n}getValueForDistanceFromCenter(t){if(Gt(t))return NaN;const n=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-n:this.min+n}getPointLabelContext(t){const n=this._pointLabels||[];if(t>=0&&t<n.length){const r=n[t];return JX(this.getContext(),t,r)}}getPointPosition(t,n,r=0){const i=this.getIndexAngle(t)-tr+r;return{x:Math.cos(i)*n+this.xCenter,y:Math.sin(i)*n+this.yCenter,angle:i}}getPointPositionForValue(t,n){return this.getPointPosition(t,this.getDistanceFromCenterForValue(n))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:n,top:r,right:i,bottom:s}=this._pointLabelItems[t];return{left:n,top:r,right:i,bottom:s}}drawBackground(){const{backgroundColor:t,grid:{circular:n}}=this.options;if(t){const r=this.ctx;r.save(),r.beginPath(),Aj(this,this.getDistanceFromCenterForValue(this._endValue),n,this._pointLabels.length),r.closePath(),r.fillStyle=t,r.fill(),r.restore()}}drawGrid(){const t=this.ctx,n=this.options,{angleLines:r,grid:i,border:s}=n,o=this._pointLabels.length;let a,l,u;if(n.pointLabels.display&&YX(this,o),i.display&&this.ticks.forEach((f,p)=>{if(p!==0||p===0&&this.min<0){l=this.getDistanceFromCenterForValue(f.value);const g=this.getContext(p),y=i.setContext(g),b=s.setContext(g);XX(this,y,l,o,b)}}),r.display){for(t.save(),a=o-1;a>=0;a--){const f=r.setContext(this.getPointLabelContext(a)),{color:p,lineWidth:g}=f;!g||!p||(t.lineWidth=g,t.strokeStyle=p,t.setLineDash(f.borderDash),t.lineDashOffset=f.borderDashOffset,l=this.getDistanceFromCenterForValue(n.reverse?this.min:this.max),u=this.getPointPosition(a,l),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(u.x,u.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,n=this.options,r=n.ticks;if(!r.display)return;const i=this.getIndexAngle(0);let s,o;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(i),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((a,l)=>{if(l===0&&this.min>=0&&!n.reverse)return;const u=r.setContext(this.getContext(l)),f=vr(u.font);if(s=this.getDistanceFromCenterForValue(this.ticks[l].value),u.showLabelBackdrop){t.font=f.string,o=t.measureText(a.label).width,t.fillStyle=u.backdropColor;const p=Xr(u.backdropPadding);t.fillRect(-o/2-p.left,-s-f.size/2-p.top,o+p.width,f.size+p.height)}Lc(t,a.label,0,-s,f,{color:u.color,strokeColor:u.textStrokeColor,strokeWidth:u.textStrokeWidth})}),t.restore()}drawTitle(){}}const B1={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Ri=Object.keys(B1);function ik(e,t){return e-t}function sk(e,t){if(Gt(t))return null;const n=e._adapter,{parser:r,round:i,isoWeekday:s}=e._parseOpts;let o=t;return typeof r=="function"&&(o=r(o)),Yn(o)||(o=typeof r=="string"?n.parse(o,r):n.parse(o)),o===null?null:(i&&(o=i==="week"&&(Ac(s)||s===!0)?n.startOf(o,"isoWeek",s):n.startOf(o,i)),+o)}function ok(e,t,n,r){const i=Ri.length;for(let s=Ri.indexOf(e);s<i-1;++s){const o=B1[Ri[s]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-t)/(a*o.size))<=r)return Ri[s]}return Ri[i-1]}function ZX(e,t,n,r,i){for(let s=Ri.length-1;s>=Ri.indexOf(n);s--){const o=Ri[s];if(B1[o].common&&e._adapter.diff(i,r,o)>=t-1)return o}return Ri[n?Ri.indexOf(n):0]}function eJ(e){for(let t=Ri.indexOf(e)+1,n=Ri.length;t<n;++t)if(B1[Ri[t]].common)return Ri[t]}function ak(e,t,n){if(!n)e[t]=!0;else if(n.length){const{lo:r,hi:i}=f_(n,t),s=n[r]>=t?n[r]:n[i];e[s]=!0}}function tJ(e,t,n,r){const i=e._adapter,s=+i.startOf(t[0].value,r),o=t[t.length-1].value;let a,l;for(a=s;a<=o;a=+i.add(a,1,r))l=n[a],l>=0&&(t[l].major=!0);return t}function lk(e,t,n){const r=[],i={},s=t.length;let o,a;for(o=0;o<s;++o)a=t[o],i[a]=o,r.push({value:a,major:!1});return s===0||!n?r:tJ(e,r,i,n)}class g2 extends Gc{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,n={}){const r=t.time||(t.time={}),i=this._adapter=new fG._date(t.adapters.date);i.init(n),Sh(r.displayFormats,i.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(t),this._normalized=n.normalized}parse(t,n){return t===void 0?null:sk(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,n=this._adapter,r=t.time.unit||"day";let{min:i,max:s,minDefined:o,maxDefined:a}=this.getUserBounds();function l(u){!o&&!isNaN(u.min)&&(i=Math.min(i,u.min)),!a&&!isNaN(u.max)&&(s=Math.max(s,u.max))}(!o||!a)&&(l(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&l(this.getMinMax(!1))),i=Yn(i)&&!isNaN(i)?i:+n.startOf(Date.now(),r),s=Yn(s)&&!isNaN(s)?s:+n.endOf(Date.now(),r)+1,this.min=Math.min(i,s-1),this.max=Math.max(i+1,s)}_getLabelBounds(){const t=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return t.length&&(n=t[0],r=t[t.length-1]),{min:n,max:r}}buildTicks(){const t=this.options,n=t.time,r=t.ticks,i=r.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const s=this.min,o=this.max,a=PQ(i,s,o);return this._unit=n.unit||(r.autoSkip?ok(n.minUnit,this.min,this.max,this._getLabelCapacity(s)):ZX(this,a.length,n.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:eJ(this._unit),this.initOffsets(i),t.reverse&&a.reverse(),lk(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let n=0,r=0,i,s;this.options.offset&&t.length&&(i=this.getDecimalForValue(t[0]),t.length===1?n=1-i:n=(this.getDecimalForValue(t[1])-i)/2,s=this.getDecimalForValue(t[t.length-1]),t.length===1?r=s:r=(s-this.getDecimalForValue(t[t.length-2]))/2);const o=t.length<3?.5:.25;n=Nr(n,0,o),r=Nr(r,0,o),this._offsets={start:n,end:r,factor:1/(n+1+r)}}_generate(){const t=this._adapter,n=this.min,r=this.max,i=this.options,s=i.time,o=s.unit||ok(s.minUnit,n,r,this._getLabelCapacity(n)),a=Et(i.ticks.stepSize,1),l=o==="week"?s.isoWeekday:!1,u=Ac(l)||l===!0,f={};let p=n,g,y;if(u&&(p=+t.startOf(p,"isoWeek",l)),p=+t.startOf(p,u?"day":o),t.diff(r,n,o)>1e5*a)throw new Error(n+" and "+r+" are too far apart with stepSize of "+a+" "+o);const b=i.ticks.source==="data"&&this.getDataTimestamps();for(g=p,y=0;g<r;g=+t.add(g,a,o),y++)ak(f,g,b);return(g===r||i.bounds==="ticks"||y===1)&&ak(f,g,b),Object.keys(f).sort(ik).map(_=>+_)}getLabelForValue(t){const n=this._adapter,r=this.options.time;return r.tooltipFormat?n.format(t,r.tooltipFormat):n.format(t,r.displayFormats.datetime)}format(t,n){const i=this.options.time.displayFormats,s=this._unit,o=n||i[s];return this._adapter.format(t,o)}_tickFormatFunction(t,n,r,i){const s=this.options,o=s.ticks.callback;if(o)return In(o,[t,n,r],this);const a=s.time.displayFormats,l=this._unit,u=this._majorUnit,f=l&&a[l],p=u&&a[u],g=r[n],y=u&&p&&g&&g.major;return this._adapter.format(t,i||(y?p:f))}generateTickLabels(t){let n,r,i;for(n=0,r=t.length;n<r;++n)i=t[n],i.label=this._tickFormatFunction(i.value,n,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const n=this._offsets,r=this.getDecimalForValue(t);return this.getPixelForDecimal((n.start+r)*n.factor)}getValueForPixel(t){const n=this._offsets,r=this.getDecimalForPixel(t)/n.factor-n.end;return this.min+r*(this.max-this.min)}_getLabelSize(t){const n=this.options.ticks,r=this.ctx.measureText(t).width,i=Ks(this.isHorizontal()?n.maxRotation:n.minRotation),s=Math.cos(i),o=Math.sin(i),a=this._resolveTickFontOptions(0).size;return{w:r*s+a*o,h:r*o+a*s}}_getLabelCapacity(t){const n=this.options.time,r=n.displayFormats,i=r[n.unit]||r.millisecond,s=this._tickFormatFunction(t,0,lk(this,[t],this._majorUnit),i),o=this._getLabelSize(s),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let t=this._cache.data||[],n,r;if(t.length)return t;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(n=0,r=i.length;n<r;++n)t=t.concat(i[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let n,r;if(t.length)return t;const i=this.getLabels();for(n=0,r=i.length;n<r;++n)t.push(sk(this,i[n]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return UT(t.sort(ik))}}function kg(e,t,n){let r=0,i=e.length-1,s,o,a,l;n?(t>=e[r].pos&&t<=e[i].pos&&({lo:r,hi:i}=ta(e,"pos",t)),{pos:s,time:a}=e[r],{pos:o,time:l}=e[i]):(t>=e[r].time&&t<=e[i].time&&({lo:r,hi:i}=ta(e,"time",t)),{time:s,pos:a}=e[r],{time:o,pos:l}=e[i]);const u=o-s;return u?a+(l-a)*(t-s)/u:a}class nJ extends g2{static id="timeseries";static defaults=g2.defaults;constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(t);this._minPos=kg(n,this.min),this._tableRange=kg(n,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:n,max:r}=this,i=[],s=[];let o,a,l,u,f;for(o=0,a=t.length;o<a;++o)u=t[o],u>=n&&u<=r&&i.push(u);if(i.length<2)return[{time:n,pos:0},{time:r,pos:1}];for(o=0,a=i.length;o<a;++o)f=i[o+1],l=i[o-1],u=i[o],Math.round((f+l)/2)!==u&&s.push({time:u,pos:o/(a-1)});return s}_generate(){const t=this.min,n=this.max;let r=super.getDataTimestamps();return(!r.includes(t)||!r.length)&&r.splice(0,0,t),(!r.includes(n)||r.length===1)&&r.push(n),r.sort((i,s)=>i-s)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const n=this.getDataTimestamps(),r=this.getLabelTimestamps();return n.length&&r.length?t=this.normalize(n.concat(r)):t=n.length?n:r,t=this._cache.all=t,t}getDecimalForValue(t){return(kg(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const n=this._offsets,r=this.getDecimalForPixel(t)/n.factor-n.end;return kg(this._table,r*this._tableRange+this._minPos,!0)}}var rJ=Object.freeze({__proto__:null,CategoryScale:Cp,LinearScale:kp,LogarithmicScale:BX,RadialLinearScale:Dj,TimeScale:g2,TimeSeriesScale:nJ});const iJ=[dG,$Y,PX,rJ];ha.register(...iJ);const Lj="label";function ck(e,t){typeof e=="function"?e(t):e&&(e.current=t)}function sJ(e,t){const n=e.options;n&&t&&Object.assign(n,t)}function Fj(e,t){e.labels=t}function Bj(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Lj;const r=[];e.datasets=t.map(i=>{const s=e.datasets.find(o=>o[n]===i[n]);return!s||!i.data||r.includes(s)?{...i}:(r.push(s),Object.assign(s,i),s)})}function oJ(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Lj;const n={labels:[],datasets:[]};return Fj(n,e.labels),Bj(n,e.datasets,t),n}function aJ(e,t){const{height:n=150,width:r=300,redraw:i=!1,datasetIdKey:s,type:o,data:a,options:l,plugins:u=[],fallbackContent:f,updateMode:p,...g}=e,y=I.useRef(null),b=I.useRef(null),_=()=>{y.current&&(b.current=new ha(y.current,{type:o,data:oJ(a,s),options:l&&{...l},plugins:u}),ck(t,b.current))},C=()=>{ck(t,null),b.current&&(b.current.destroy(),b.current=null)};return I.useEffect(()=>{!i&&b.current&&l&&sJ(b.current,l)},[i,l]),I.useEffect(()=>{!i&&b.current&&Fj(b.current.config.data,a.labels)},[i,a.labels]),I.useEffect(()=>{!i&&b.current&&a.datasets&&Bj(b.current.config.data,a.datasets,s)},[i,a.datasets]),I.useEffect(()=>{b.current&&(i?(C(),setTimeout(_)):b.current.update(p))},[i,l,a.labels,a.datasets,p]),I.useEffect(()=>{b.current&&(C(),setTimeout(_))},[o]),I.useEffect(()=>(_(),()=>C()),[]),wn.createElement("canvas",{ref:y,role:"img",height:n,width:r,...g},f)}const zj=I.forwardRef(aJ);function k_(e,t){return ha.register(t),I.forwardRef((n,r)=>wn.createElement(zj,{...n,ref:r,type:e}))}const lJ=k_("bar",dj),cJ=k_("radar",hj),$j=k_("doughnut",D1),Md={searchBtnSpeed:{mu:1.457,sigma:.7362},captchaSpeed:{mu:3.6415,sigma:.4057},totalSpeed:{mu:8.6367,sigma:.5422}};function Uj(e,t,n){if(e<=0)return 0;const r=(Math.log(e)-Math.log(t))/n,i=1/(1+.2316419*Math.abs(r)),o=.3989423*Math.exp(-r*r/2)*i*(.3193815+i*(-.3565638+i*(1.781478+i*(-1.821256+i*1.330274))));return r>0?1-o:o}function z1(e,t=7.5,n=.3){const s=e>3e3?e/1e3:e,a=1-Uj(s,t,n);return Math.max(Math.min(a*100,100),0)}function uJ(e){const n=Math.min(Math.max(e,0),100)/100,i=-Uj(n,.4,.1);return Math.round(i*5)}function dJ(e,t){const n=(e-2*t)/(e-t);return Math.max(0,Math.round(n*100))}function fJ(e){return z1(e,Md.searchBtnSpeed.mu,Md.searchBtnSpeed.sigma)}function hJ(e){return z1(e,Md.captchaSpeed.mu,Md.captchaSpeed.sigma)}function pJ(e){return Math.max(0,Math.min(e,100))}function mJ(e){return z1(e,Md.totalSpeed.mu,Md.totalSpeed.sigma)}ha.register(Dj,S_,Kd,Rj,Yd,Gd);const gJ={responsive:!0,scales:{r:{angleLines:{display:!0},suggestedMin:0,suggestedMax:100,ticks:{display:!1},pointLabels:{font:{size:14},color:"#4B5563"},grid:{color:"#E5E7EB"}}},plugins:{legend:{display:!1},tooltip:{enabled:!0}}};function yJ(e){const{user_ability:t}=e,{searchBtnSpeed:n,totalSpeed:r,accuracy:i,captchaSpeed:s}=t,o=["   "," ","","  "],a=[n,r,i,s];return{labels:o,datasets:[{label:"",data:uk([1.776296,9.30268,93.58,3.843947]),backgroundColor:"rgba(5, 223, 114, 0.2)",borderColor:"rgba(5, 223, 114, 1)",borderWidth:2,pointBackgroundColor:"rgba(5, 223, 114, 1)"},{label:" ",data:uk(a),backgroundColor:"rgb(0, 122, 255, 0.2)",borderColor:"rgba(0, 122, 255, 1)",borderWidth:2,pointBackgroundColor:"rgba(0, 122, 255, 1)"}]}}function uk(e){return[fJ(e[0]),mJ(e[1]),pJ(e[2]),hJ(e[3])]}function E_({result:e}){const t=yJ(e),{searchBtnSpeed:n,totalSpeed:r,accuracy:i,captchaSpeed:s}=e.user_ability;return h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"h-90",children:h.jsx(cJ,{data:t,className:"mx-auto",options:gJ})}),h.jsxs("div",{className:"absolute bottom-6 right-6 bg-white shadow-lg rounded-lg px-4 py-3 text-xs text-gray-800",children:[h.jsx("div",{className:"font-bold text-sm mb-1",children:" "}),h.jsxs("ul",{className:"space-y-1",children:[h.jsxs("li",{className:"flex justify-between",children:[h.jsx("span",{children:"    "})," ",h.jsxs("span",{children:[n.toFixed(2)," sec"]})]}),h.jsxs("li",{className:"flex justify-between",children:[h.jsx("span",{children:"   "})," ",h.jsxs("span",{children:[r.toFixed(2)," sec"]})]}),h.jsxs("li",{className:"flex justify-between",children:[h.jsx("span",{children:" "})," ",h.jsxs("span",{children:[i.toFixed(2)," %"]})]}),h.jsxs("li",{className:"flex justify-between",children:[h.jsx("span",{children:"     "})," ",h.jsxs("span",{children:[s.toFixed(2)," sec"]})]})]})]})]})}function y2(e,t){const n=e.getContext("2d");if(!n)return;n.clearRect(0,0,e.width,e.height);const r=n.createLinearGradient(0,0,e.width,0);r.addColorStop(0,"#4a4a4a"),r.addColorStop(1,"#bcbcbc"),n.fillStyle=r,n.fillRect(0,0,e.width,e.height),n.font="bold 32px Arial Black, Impact, sans-serif",n.fillStyle="black",n.textAlign="center",n.textBaseline="middle",n.fillText(t,e.width/2,e.height/2)}function Hj({className:e,essential:t,disabled:n,children:r}){const s=(t?"relative inline-block w-autobefore:content-[''] before:absolute before:top-0 before:left-0 before:w-0 before:h-0 "+(n?"before:border-t-[8px] before:border-t-gray-500 before:border-r-[8px] before:border-r-transparent ":"before:border-t-[8px] before:border-t-red-500 before:border-r-[8px] before:border-r-transparent "):"")+e;return h.jsx("div",{className:s,children:r})}function vJ({type:e="text",className:t="",essential:n=!1,disabled:r=!1,...i}){return h.jsx(Hj,{className:t,essential:n,disabled:r,children:h.jsx("input",{type:e,className:"relative border-1 border-gray-300 px-2 text-xs w-max h-6 focus:outline-none focus:rounded focus:ring focus:border-gray-800 disabled:bg-gray-100 disabled:cursor-not-allowed ",disabled:r,...i})})}function xJ({variant:e="primary",className:t="",children:n,...r}){const i="px-3 py-2 flex flex-row gap-1 cursor-pointer rounded",s=bJ(e),o=`${i} ${s} ${t}`.trim();return h.jsx("button",{className:o,...r,children:n})}function bJ(e){switch(e){case"primary":return"bg-blue-500 text-white hover:bg-blue-600";case"secondary":return"bg-gray-500 text-white hover:bg-gray-600";case"cancel":return"bg-white border border-gray-700 hover:bg-gray-100";case"danger":return"bg-red-500 text-white hover:bg-red-600";default:return""}}function wJ({className:e="",essential:t=!1,children:n,...r}){const i="px-2 h-6 text-gray-400 text-xs border border-gray-300 disabled:bg-gray-100 disabled:cursor-not-allowed "+e;return h.jsx(Hj,{className:e,essential:t,disabled:r.disabled??!1,children:h.jsx("select",{className:i,...r,children:n})})}function _J({children:e,onClose:t,preventAutoFocus:n}){const r=I.useRef(null);I.useEffect(()=>(document.body.style.overflow="hidden",n||r.current?.focus(),()=>{document.body.style.overflow=""}),[n]);const i=s=>{s.stopPropagation(),t()};return h.jsxs("div",{className:"flex items-center justify-center fixed inset-0 w-full h-full z-100",role:"none",ref:r,tabIndex:-1,onClick:i,children:[h.jsx("div",{className:"fixed inset-0 justify-center opacity-30 bg-gray-300 border-b-2 border-gray-400"}),h.jsx("div",{className:"fixed inset-x-0 top-16 bottom-0 flex items-center justify-center",tabIndex:-1,children:h.jsx("div",{className:"w-[95%] sm:w-fit z-50 bg-white max-h-[90%] border border-gray-200 overflow-y-auto",role:"dialog",tabIndex:-1,onClick:s=>s.stopPropagation(),children:e})})]})}const SJ=e=>I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",...e},I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2px",d:"M4 20L20 4M4 4l16 16"}));function CJ({title:e,onClose:t}){return h.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-gray-200 ",children:[h.jsx("h2",{className:"font-semibold sm:text-lg text-sm text-gray-900",children:e}),h.jsx("button",{className:"w-5 h-5 text-gray-500 hover:text-gray-700 cursor-pointer",onClick:t,title:"",tabIndex:-1,children:h.jsx(SJ,{className:"w-full h-full"})})]})}function kJ({variant:e="primary",className:t="",children:n,...r}){const i="px-4 h-6 text-xs flex items-center gap-1 rounded-xs cursor-pointer",s=EJ(e),o=`${i} ${s} ${t}`.trim();return h.jsx("button",{className:o,...r,children:n})}function EJ(e){switch(e){case"primary":return"bg-blue-500 text-white hover:bg-blue-600";case"secondary":return"bg-gray-500 text-white hover:bg-gray-600";case"cancel":return"bg-white border border-gray-700 hover:bg-blue-50 hover:border-blue-500";case"danger":return"bg-red-500 text-white hover:bg-red-600";default:return""}}function TJ({children:e,className:t="",...n}){const r="flex justify-end gap-4 w-full "+t;return h.jsx("div",{className:r,...n,children:e})}const $1=_J;$1.Header=CJ;$1.Button=kJ;$1.ButtonContainer=TJ;const lr={Input:vJ,Button:xJ,Select:wJ,Modal:$1},jJ={user_ability:{searchBtnSpeed:1.076296,totalSpeed:6.70268,accuracy:98.58,captchaSpeed:4.843947}};function NJ(){const[e,t]=I.useState(jJ);return h.jsxs(Kc,{children:[h.jsx(N1,{title:"   ()",subtitle:"   ,    ",href:"/simulation"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-6",children:[h.jsxs(z0,{children:[h.jsx("h3",{className:"text-lg font-semibold",children:"  "}),h.jsx("p",{className:"text-gray-600 mb-4",children:" ,    !"}),h.jsx(RJ,{setRadarData:t})]}),h.jsxs(z0,{className:"relative",children:[h.jsx("h3",{className:"text-lg font-semibold",children:"  "}),h.jsx("p",{className:"text-gray-600 mb-4",children:"      ."}),h.jsx(E_,{result:e})]})]})]})}function dk(){return Math.floor(1e3+Math.random()*9e3).toString()}const IJ=4;function RJ({setRadarData:e}){const t=I.useRef(null),[n,r]=I.useState(),[i,s]=I.useState({message:"",color:"red"}),o=I.useRef(""),a=OJ(e);function l(){o.current=dk(),r(""),s({message:"",color:"red"}),a.resetResult(),t.current&&y2(t.current,o.current)}function u(){setTimeout(l,200)}function f(g){let y=g.target.value;if(a.updateResult(),/\D/.test(y)){s({message:"0~9  ",color:"red"}),r(y.replace(/\D/g,""));return}if(y.length>IJ){s({message:"4  ",color:"red"});return}r(y),s({message:"",color:"red"})}I.useEffect(()=>{setTimeout(()=>{o.current=dk(),a.initResult(),t.current&&y2(t.current,o.current)},100)},[]);function p(){n?.toString()===o.current?(s({message:"  .",color:"green"}),a.endResult(!0),setTimeout(l,700)):(s({message:"  .",color:"red"}),a.endResult(!1),setTimeout(l,700))}return h.jsxs("div",{className:"flex flex-col justify-center h-4/5",children:[h.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-4 p-4",children:[h.jsxs("div",{className:"flex flex-col",children:[h.jsxs("div",{className:"text-sm font-semibold flex flex-row items-center gap-2",children:[h.jsx("span",{className:"inline-block w-1.5 h-5 bg-blue-500 mr-2 "})," ",h.jsx(PJ,{onClick:u,children:""})]}),h.jsx("div",{className:"flex items-center mt-1",children:h.jsx("canvas",{id:"captcha",width:"105",height:"50",ref:t})})]}),h.jsxs("div",{children:[h.jsxs("div",{className:"text-sm font-semibold  flex flex-row items-center",children:[h.jsx("span",{className:"inline-block w-1.5 h-5 bg-blue-500 mr-2 "}),"  "]}),h.jsx(lr.Input,{value:n,className:"mt-2 w-full",onChange:g=>f(g),placeholder:" ",essential:!0}),h.jsx("span",{className:"pl-1 text-xs "+(i.color==="green"?"text-green-500":"text-red-500"),children:i.message})]})]}),h.jsx("div",{className:"flex justify-end p-4",children:h.jsx("button",{onClick:p,className:"px-4 py-2 bg-white hover:bg-blue-50 rounded-xs border cursor-pointer",children:""})})]})}function PJ({className:e,children:t,...n}){return h.jsx("button",{className:"px-2 py-1 bg-blue-500 text-white text-sm rounded-xs cursor-pointer hover:bg-blue-600 "+e,...n,children:t})}function OJ(e){const t=I.useRef({tryCount:0,successCount:0,avgTime:0,startTime:-1});function n(){t.current.startTime=-1}function r(){t.current.startTime=Date.now()}function i(){t.current.startTime===-1&&(t.current.startTime=Date.now())}function s(o){const a=Date.now(),l=t.current.startTime===-1?4.843947:1+(a-t.current.startTime)/1e3;t.current.startTime=-1,t.current.tryCount+=1,t.current.avgTime=1+(l-t.current.avgTime)/t.current.tryCount,t.current.successCount+=o?1:0,e&&e(u=>({user_ability:{...u.user_ability,captchaSpeed:t.current.avgTime,accuracy:100*(t.current.successCount/t.current.tryCount)}}))}return{initResult:n,resetResult:r,updateResult:i,endResult:s}}function Yc(){return Js({queryKey:["departments"],queryFn:MJ,staleTime:1/0,select:e=>e.departments.sort((t,n)=>t.departmentName.localeCompare(n.departmentName))})}const MJ=async()=>await da("/api/departments"),AJ=e=>{if(!e)return{universityDict:{},collegeDict:{}};const t={},n={};return e.forEach(r=>{const[i,s,o]=r.departmentName.split(" "),a=i.trim(),l=s?.trim(),u=o?.trim();l&&(t[a]||(t[a]=[]),t[a]=[...t[a],l],u||(n[l]=[l])),u&&(t[a]||(t[a]=[]),t[a]=[...t[a],u],n[l]||(n[l]=[]),n[l]=[...n[l],u])}),{universityDict:t,collegeDict:n}},DJ=(e,t)=>{const n=e.split(" ").map(r=>r.trim());for(const r in t)if(n.some(i=>t[r].includes(i)))return r;return console.error("No university found",e),""},LJ=(e,t)=>{const n=e.split(" ").map(r=>r.trim());for(const r in t)if(n.some(i=>r.includes(i)))return r;return console.error("No college found",e),""},U1={labels:["","","",""],datasets:[{data:[40,25,20,15]}]},Ep=["#f97316","#3b82f6","#facc15","#22c55e","#60b6d4"];function fk(e){if(!e)return U1;const t={};return e.forEach(n=>{t[n.registerDepartment??""]||(t[n.registerDepartment??""]=0),t[n.registerDepartment??""]+=Number(n.eachCount)}),{labels:Object.keys(t).map(n=>n||""),datasets:[{data:Object.values(t),backgroundColor:Ep}]}}function FJ(e,t){if(!t)return U1;const n={major:0,"non-major":0},r=e.split(" ").map(o=>o.trim()),i=o=>o.split(" ").map(l=>l.trim()).some(l=>r.includes(l));t.forEach(o=>{const a=i(o.registerDepartment??"")?"major":"non-major";n[a]+=Number(o.eachCount)});const s={major:"","non-major":""};return{labels:Object.keys(n).map(o=>s[o]),datasets:[{data:Object.values(n),backgroundColor:Ep}]}}function BJ(e,t){if(!e||!t)return U1;const n={};return e.forEach(r=>{const i=DJ(r.registerDepartment??"",t);n[i]||(n[i]=0),n[i]+=Number(r.eachCount)}),{labels:Object.keys(n).map(r=>r||""),datasets:[{data:Object.values(n),backgroundColor:Ep}]}}function zJ(e,t){if(!e||!t)return U1;const n={};return e.forEach(r=>{const i=LJ(r.registerDepartment??"",t);n[i]||(n[i]=0),n[i]+=Number(r.eachCount)}),{labels:Object.keys(n).map(r=>r||""),datasets:[{data:Object.values(n),backgroundColor:Ep}]}}function $J(e){return e?e.reduce((t,n)=>t+Number(n.eachCount),0):-1}ha.register(Sp,Cp,kp,Yd,Gd);const UJ={labels:["","","",""],datasets:[{data:[40,25,20,15],backgroundColor:Ep}]};function HJ(){return h.jsxs(Kc,{children:[h.jsx(N1,{title:" ",href:"/wishes"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-6",children:[h.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[h.jsx("h2",{className:"text-lg font-semibold mb-2",children:" "}),h.jsx("div",{className:"flex aligh-center justify-center max-h-96",children:h.jsx($j,{data:UJ})})]}),h.jsxs("div",{className:"bg-white p-6 shadow-md rounded-md",children:[h.jsx("h3",{className:"text-lg font-semibold",children:"  "}),[{name:"",dept:" ",status:"30"},{name:"",dept:"",status:"14"}].map((e,t)=>h.jsxs("div",{className:"mt-4 flex justify-between p-2 rounded-md border border-gray-200",children:[h.jsxs("div",{children:[h.jsx("p",{className:"font-semibold",children:e.name}),h.jsx("p",{className:"text-sm text-gray-500",children:e.dept})]}),h.jsx("span",{className:"text-yellow-500",children:e.status})]},"recommend-course-"+t))]})]})]})}const Xd=({className:e,disabled:t=!1})=>{const n=t?"text-gray-400 ":"text-blue-500 ";return h.jsx(F0,{className:n+e})};var a0={exports:{}},WJ=a0.exports,hk;function qJ(){return hk||(hk=1,function(e,t){(function(n,r){e.exports=r()})(WJ,function(){var n=function(v,w){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,N){E.__proto__=N}||function(E,N){for(var P in N)Object.prototype.hasOwnProperty.call(N,P)&&(E[P]=N[P])})(v,w)},r=function(){return(r=Object.assign||function(v){for(var w,E=1,N=arguments.length;E<N;E++)for(var P in w=arguments[E])Object.prototype.hasOwnProperty.call(w,P)&&(v[P]=w[P]);return v}).apply(this,arguments)};function i(v,w,E){for(var N,P=0,L=w.length;P<L;P++)!N&&P in w||((N=N||Array.prototype.slice.call(w,0,P))[P]=w[P]);return v.concat(N||Array.prototype.slice.call(w))}var s=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:ah,o=Object.keys,a=Array.isArray;function l(v,w){return typeof w!="object"||o(w).forEach(function(E){v[E]=w[E]}),v}typeof Promise>"u"||s.Promise||(s.Promise=Promise);var u=Object.getPrototypeOf,f={}.hasOwnProperty;function p(v,w){return f.call(v,w)}function g(v,w){typeof w=="function"&&(w=w(u(v))),(typeof Reflect>"u"?o:Reflect.ownKeys)(w).forEach(function(E){b(v,E,w[E])})}var y=Object.defineProperty;function b(v,w,E,N){y(v,w,l(E&&p(E,"get")&&typeof E.get=="function"?{get:E.get,set:E.set,configurable:!0}:{value:E,configurable:!0,writable:!0},N))}function _(v){return{from:function(w){return v.prototype=Object.create(w.prototype),b(v.prototype,"constructor",v),{extend:g.bind(null,v.prototype)}}}}var C=Object.getOwnPropertyDescriptor,k=[].slice;function R(v,w,E){return k.call(v,w,E)}function O(v,w){return w(v)}function $(v){if(!v)throw new Error("Assertion Failed")}function z(v){s.setImmediate?setImmediate(v):setTimeout(v,0)}function j(v,w){if(typeof w=="string"&&p(v,w))return v[w];if(!w)return v;if(typeof w!="string"){for(var E=[],N=0,P=w.length;N<P;++N){var L=j(v,w[N]);E.push(L)}return E}var W=w.indexOf(".");if(W!==-1){var Y=v[w.substr(0,W)];return Y==null?void 0:j(Y,w.substr(W+1))}}function A(v,w,E){if(v&&w!==void 0&&!("isFrozen"in Object&&Object.isFrozen(v)))if(typeof w!="string"&&"length"in w){$(typeof E!="string"&&"length"in E);for(var N=0,P=w.length;N<P;++N)A(v,w[N],E[N])}else{var L,W,Y=w.indexOf(".");Y!==-1?(L=w.substr(0,Y),(W=w.substr(Y+1))===""?E===void 0?a(v)&&!isNaN(parseInt(L))?v.splice(L,1):delete v[L]:v[L]=E:A(Y=!(Y=v[L])||!p(v,L)?v[L]={}:Y,W,E)):E===void 0?a(v)&&!isNaN(parseInt(w))?v.splice(w,1):delete v[w]:v[w]=E}}function B(v){var w,E={};for(w in v)p(v,w)&&(E[w]=v[w]);return E}var U=[].concat;function D(v){return U.apply([],v)}var Ce="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(D([8,16,32,64].map(function(v){return["Int","Uint","Float"].map(function(w){return w+v+"Array"})}))).filter(function(v){return s[v]}),Z=new Set(Ce.map(function(v){return s[v]})),X=null;function re(v){return X=new WeakMap,v=function w(E){if(!E||typeof E!="object")return E;var N=X.get(E);if(N)return N;if(a(E)){N=[],X.set(E,N);for(var P=0,L=E.length;P<L;++P)N.push(w(E[P]))}else if(Z.has(E.constructor))N=E;else{var W,Y=u(E);for(W in N=Y===Object.prototype?{}:Object.create(Y),X.set(E,N),E)p(E,W)&&(N[W]=w(E[W]))}return N}(v),X=null,v}var V={}.toString;function q(v){return V.call(v).slice(8,-1)}var Q=typeof Symbol<"u"?Symbol.iterator:"@@iterator",ne=typeof Q=="symbol"?function(v){var w;return v!=null&&(w=v[Q])&&w.apply(v)}:function(){return null};function ee(v,w){return w=v.indexOf(w),0<=w&&v.splice(w,1),0<=w}var fe={};function F(v){var w,E,N,P;if(arguments.length===1){if(a(v))return v.slice();if(this===fe&&typeof v=="string")return[v];if(P=ne(v)){for(E=[];!(N=P.next()).done;)E.push(N.value);return E}if(v==null)return[v];if(typeof(w=v.length)!="number")return[v];for(E=new Array(w);w--;)E[w]=v[w];return E}for(w=arguments.length,E=new Array(w);w--;)E[w]=arguments[w];return E}var G=typeof Symbol<"u"?function(v){return v[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},qn=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],vi=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(qn),ye={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function H(v,w){this.name=v,this.message=w}function Oe(v,w){return v+". Errors: "+Object.keys(w).map(function(E){return w[E].toString()}).filter(function(E,N,P){return P.indexOf(E)===N}).join(`
`)}function Ee(v,w,E,N){this.failures=w,this.failedKeys=N,this.successCount=E,this.message=Oe(v,w)}function Te(v,w){this.name="BulkError",this.failures=Object.keys(w).map(function(E){return w[E]}),this.failuresByPos=w,this.message=Oe(v,this.failures)}_(H).from(Error).extend({toString:function(){return this.name+": "+this.message}}),_(Ee).from(H),_(Te).from(H);var Ye=vi.reduce(function(v,w){return v[w]=w+"Error",v},{}),qe=H,Ne=vi.reduce(function(v,w){var E=w+"Error";function N(P,L){this.name=E,P?typeof P=="string"?(this.message="".concat(P).concat(L?`
 `+L:""),this.inner=L||null):typeof P=="object"&&(this.message="".concat(P.name," ").concat(P.message),this.inner=P):(this.message=ye[w]||E,this.inner=null)}return _(N).from(qe),v[w]=N,v},{});Ne.Syntax=SyntaxError,Ne.Type=TypeError,Ne.Range=RangeError;var ct=qn.reduce(function(v,w){return v[w+"Error"]=Ne[w],v},{}),xn=vi.reduce(function(v,w){return["Syntax","Type","Range"].indexOf(w)===-1&&(v[w+"Error"]=Ne[w]),v},{});function It(){}function Cn(v){return v}function sn(v,w){return v==null||v===Cn?w:function(E){return w(v(E))}}function yn(v,w){return function(){v.apply(this,arguments),w.apply(this,arguments)}}function Fi(v,w){return v===It?w:function(){var E=v.apply(this,arguments);E!==void 0&&(arguments[0]=E);var N=this.onsuccess,P=this.onerror;this.onsuccess=null,this.onerror=null;var L=w.apply(this,arguments);return N&&(this.onsuccess=this.onsuccess?yn(N,this.onsuccess):N),P&&(this.onerror=this.onerror?yn(P,this.onerror):P),L!==void 0?L:E}}function ei(v,w){return v===It?w:function(){v.apply(this,arguments);var E=this.onsuccess,N=this.onerror;this.onsuccess=this.onerror=null,w.apply(this,arguments),E&&(this.onsuccess=this.onsuccess?yn(E,this.onsuccess):E),N&&(this.onerror=this.onerror?yn(N,this.onerror):N)}}function Bi(v,w){return v===It?w:function(E){var N=v.apply(this,arguments);l(E,N);var P=this.onsuccess,L=this.onerror;return this.onsuccess=null,this.onerror=null,E=w.apply(this,arguments),P&&(this.onsuccess=this.onsuccess?yn(P,this.onsuccess):P),L&&(this.onerror=this.onerror?yn(L,this.onerror):L),N===void 0?E===void 0?void 0:E:l(N,E)}}function gi(v,w){return v===It?w:function(){return w.apply(this,arguments)!==!1&&v.apply(this,arguments)}}function wt(v,w){return v===It?w:function(){var E=v.apply(this,arguments);if(E&&typeof E.then=="function"){for(var N=this,P=arguments.length,L=new Array(P);P--;)L[P]=arguments[P];return E.then(function(){return w.apply(N,L)})}return w.apply(this,arguments)}}xn.ModifyError=Ee,xn.DexieError=H,xn.BulkError=Te;var on=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function pt(v){on=v}var Bt={},Rt=100,Ce=typeof Promise>"u"?[]:function(){var v=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[v,u(v),v];var w=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[w,u(w),v]}(),qn=Ce[0],vi=Ce[1],Ce=Ce[2],vi=vi&&vi.then,Re=qn&&qn.constructor,ut=!!Ce,vt=function(v,w){Xn.push([v,w]),hn&&(queueMicrotask(ru),hn=!1)},zt=!0,hn=!0,nr=[],rr=[],ti=Cn,br={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:It,pgp:!1,env:{},finalize:It},Ve=br,Xn=[],Dn=0,rs=[];function Qe(v){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var w=this._PSD=Ve;if(typeof v!="function"){if(v!==Bt)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&Co(this,this._value))}this._state=null,this._value=null,++w.ref,function E(N,P){try{P(function(L){if(N._state===null){if(L===N)throw new TypeError("A promise cannot be resolved with itself.");var W=N._lib&&te();L&&typeof L.then=="function"?E(N,function(Y,se){L instanceof Qe?L._then(Y,se):L.then(Y,se)}):(N._state=!0,N._value=L,eo(N)),W&&me()}},Co.bind(null,N))}catch(L){Co(N,L)}}(this,v)}var zi={get:function(){var v=Ve,w=lt;function E(N,P){var L=this,W=!v.global&&(v!==Ve||w!==lt),Y=W&&!$t(),se=new Qe(function(ae,de){Es(L,new ks(Ts(N,v,W,Y),Ts(P,v,W,Y),ae,de,v))});return this._consoleTask&&(se._consoleTask=this._consoleTask),se}return E.prototype=Bt,E},set:function(v){b(this,"then",v&&v.prototype===Bt?zi:{get:function(){return v},set:zi.set})}};function ks(v,w,E,N,P){this.onFulfilled=typeof v=="function"?v:null,this.onRejected=typeof w=="function"?w:null,this.resolve=E,this.reject=N,this.psd=P}function Co(v,w){var E,N;rr.push(w),v._state===null&&(E=v._lib&&te(),w=ti(w),v._state=!1,v._value=w,N=v,nr.some(function(P){return P._value===N._value})||nr.push(N),eo(v),E&&me())}function eo(v){var w=v._listeners;v._listeners=[];for(var E=0,N=w.length;E<N;++E)Es(v,w[E]);var P=v._PSD;--P.ref||P.finalize(),Dn===0&&(++Dn,vt(function(){--Dn==0&&_e()},[]))}function Es(v,w){if(v._state!==null){var E=v._state?w.onFulfilled:w.onRejected;if(E===null)return(v._state?w.resolve:w.reject)(v._value);++w.psd.ref,++Dn,vt(nu,[E,v,w])}else v._listeners.push(w)}function nu(v,w,E){try{var N,P=w._value;!w._state&&rr.length&&(rr=[]),N=on&&w._consoleTask?w._consoleTask.run(function(){return v(P)}):v(P),w._state||rr.indexOf(P)!==-1||function(L){for(var W=nr.length;W;)if(nr[--W]._value===L._value)return nr.splice(W,1)}(w),E.resolve(N)}catch(L){E.reject(L)}finally{--Dn==0&&_e(),--E.psd.ref||E.psd.finalize()}}function ru(){wr(br,function(){te()&&me()})}function te(){var v=zt;return hn=zt=!1,v}function me(){var v,w,E;do for(;0<Xn.length;)for(v=Xn,Xn=[],E=v.length,w=0;w<E;++w){var N=v[w];N[0].apply(null,N[1])}while(0<Xn.length);hn=zt=!0}function _e(){var v=nr;nr=[],v.forEach(function(N){N._PSD.onunhandled.call(null,N._value,N)});for(var w=rs.slice(0),E=w.length;E;)w[--E]()}function Me(v){return new Qe(Bt,!1,v)}function je(v,w){var E=Ve;return function(){var N=te(),P=Ve;try{return an(E,!0),v.apply(this,arguments)}catch(L){w&&w(L)}finally{an(P,!1),N&&me()}}}g(Qe.prototype,{then:zi,_then:function(v,w){Es(this,new ks(null,null,v,w,Ve))},catch:function(v){if(arguments.length===1)return this.then(null,v);var w=v,E=arguments[1];return typeof w=="function"?this.then(null,function(N){return(N instanceof w?E:Me)(N)}):this.then(null,function(N){return(N&&N.name===w?E:Me)(N)})},finally:function(v){return this.then(function(w){return Qe.resolve(v()).then(function(){return w})},function(w){return Qe.resolve(v()).then(function(){return Me(w)})})},timeout:function(v,w){var E=this;return v<1/0?new Qe(function(N,P){var L=setTimeout(function(){return P(new Ne.Timeout(w))},v);E.then(N,P).finally(clearTimeout.bind(null,L))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&b(Qe.prototype,Symbol.toStringTag,"Dexie.Promise"),br.env=pn(),g(Qe,{all:function(){var v=F.apply(null,arguments).map(Ln);return new Qe(function(w,E){v.length===0&&w([]);var N=v.length;v.forEach(function(P,L){return Qe.resolve(P).then(function(W){v[L]=W,--N||w(v)},E)})})},resolve:function(v){return v instanceof Qe?v:v&&typeof v.then=="function"?new Qe(function(w,E){v.then(w,E)}):new Qe(Bt,!0,v)},reject:Me,race:function(){var v=F.apply(null,arguments).map(Ln);return new Qe(function(w,E){v.map(function(N){return Qe.resolve(N).then(w,E)})})},PSD:{get:function(){return Ve},set:function(v){return Ve=v}},totalEchoes:{get:function(){return lt}},newPSD:tt,usePSD:wr,scheduler:{get:function(){return vt},set:function(v){vt=v}},rejectionMapper:{get:function(){return ti},set:function(v){ti=v}},follow:function(v,w){return new Qe(function(E,N){return tt(function(P,L){var W=Ve;W.unhandleds=[],W.onunhandled=L,W.finalize=yn(function(){var Y,se=this;Y=function(){se.unhandleds.length===0?P():L(se.unhandleds[0])},rs.push(function ae(){Y(),rs.splice(rs.indexOf(ae),1)}),++Dn,vt(function(){--Dn==0&&_e()},[])},W.finalize),v()},w,E,N)})}}),Re&&(Re.allSettled&&b(Qe,"allSettled",function(){var v=F.apply(null,arguments).map(Ln);return new Qe(function(w){v.length===0&&w([]);var E=v.length,N=new Array(E);v.forEach(function(P,L){return Qe.resolve(P).then(function(W){return N[L]={status:"fulfilled",value:W}},function(W){return N[L]={status:"rejected",reason:W}}).then(function(){return--E||w(N)})})})}),Re.any&&typeof AggregateError<"u"&&b(Qe,"any",function(){var v=F.apply(null,arguments).map(Ln);return new Qe(function(w,E){v.length===0&&E(new AggregateError([]));var N=v.length,P=new Array(N);v.forEach(function(L,W){return Qe.resolve(L).then(function(Y){return w(Y)},function(Y){P[W]=Y,--N||E(new AggregateError(P))})})})}),Re.withResolvers&&(Qe.withResolvers=Re.withResolvers));var Ke={awaits:0,echoes:0,id:0},it=0,Ze=[],nt=0,lt=0,at=0;function tt(v,w,E,N){var P=Ve,L=Object.create(P);return L.parent=P,L.ref=0,L.global=!1,L.id=++at,br.env,L.env=ut?{Promise:Qe,PromiseProp:{value:Qe,configurable:!0,writable:!0},all:Qe.all,race:Qe.race,allSettled:Qe.allSettled,any:Qe.any,resolve:Qe.resolve,reject:Qe.reject}:{},w&&l(L,w),++P.ref,L.finalize=function(){--this.parent.ref||this.parent.finalize()},N=wr(L,v,E,N),L.ref===0&&L.finalize(),N}function Pt(){return Ke.id||(Ke.id=++it),++Ke.awaits,Ke.echoes+=Rt,Ke.id}function $t(){return!!Ke.awaits&&(--Ke.awaits==0&&(Ke.id=0),Ke.echoes=Ke.awaits*Rt,!0)}function Ln(v){return Ke.echoes&&v&&v.constructor===Re?(Pt(),v.then(function(w){return $t(),w},function(w){return $t(),tn(w)})):v}function ir(){var v=Ze[Ze.length-1];Ze.pop(),an(v,!1)}function an(v,w){var E,N=Ve;(w?!Ke.echoes||nt++&&v===Ve:!nt||--nt&&v===Ve)||queueMicrotask(w?(function(P){++lt,Ke.echoes&&--Ke.echoes!=0||(Ke.echoes=Ke.awaits=Ke.id=0),Ze.push(Ve),an(P,!0)}).bind(null,v):ir),v!==Ve&&(Ve=v,N===br&&(br.env=pn()),ut&&(E=br.env.Promise,w=v.env,(N.global||v.global)&&(Object.defineProperty(s,"Promise",w.PromiseProp),E.all=w.all,E.race=w.race,E.resolve=w.resolve,E.reject=w.reject,w.allSettled&&(E.allSettled=w.allSettled),w.any&&(E.any=w.any))))}function pn(){var v=s.Promise;return ut?{Promise:v,PromiseProp:Object.getOwnPropertyDescriptor(s,"Promise"),all:v.all,race:v.race,allSettled:v.allSettled,any:v.any,resolve:v.resolve,reject:v.reject}:{}}function wr(v,w,E,N,P){var L=Ve;try{return an(v,!0),w(E,N,P)}finally{an(L,!1)}}function Ts(v,w,E,N){return typeof v!="function"?v:function(){var P=Ve;E&&Pt(),an(w,!0);try{return v.apply(this,arguments)}finally{an(P,!1),N&&queueMicrotask($t)}}}function ni(v){Promise===Re&&Ke.echoes===0?nt===0?v():enqueueNativeMicroTask(v):setTimeout(v,0)}(""+vi).indexOf("[native code]")===-1&&(Pt=$t=It);var tn=Qe.reject,$i="",Wt="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",is="String expected.",ri=[],ss="__dbnames",qt="readonly",Vn="readwrite";function ii(v,w){return v?w?function(){return v.apply(this,arguments)&&w.apply(this,arguments)}:v:w}var Ui={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Jt(v){return typeof v!="string"||/\./.test(v)?function(w){return w}:function(w){return w[v]===void 0&&v in w&&delete(w=re(w))[v],w}}function ko(){throw Ne.Type()}function mt(v,w){try{var E=iu(v),N=iu(w);if(E!==N)return E==="Array"?1:N==="Array"?-1:E==="binary"?1:N==="binary"?-1:E==="string"?1:N==="string"?-1:E==="Date"?1:N!=="Date"?NaN:-1;switch(E){case"number":case"Date":case"string":return w<v?1:v<w?-1:0;case"binary":return function(P,L){for(var W=P.length,Y=L.length,se=W<Y?W:Y,ae=0;ae<se;++ae)if(P[ae]!==L[ae])return P[ae]<L[ae]?-1:1;return W===Y?0:W<Y?-1:1}(Lp(v),Lp(w));case"Array":return function(P,L){for(var W=P.length,Y=L.length,se=W<Y?W:Y,ae=0;ae<se;++ae){var de=mt(P[ae],L[ae]);if(de!==0)return de}return W===Y?0:W<Y?-1:1}(v,w)}}catch{}return NaN}function iu(v){var w=typeof v;return w!="object"?w:ArrayBuffer.isView(v)?"binary":(v=q(v),v==="ArrayBuffer"?"binary":v)}function Lp(v){return v instanceof Uint8Array?v:ArrayBuffer.isView(v)?new Uint8Array(v.buffer,v.byteOffset,v.byteLength):new Uint8Array(v)}var Fp=(gn.prototype._trans=function(v,w,E){var N=this._tx||Ve.trans,P=this.name,L=on&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(v==="readonly"?"read":"write"," ").concat(this.name));function W(ae,de,J){if(!J.schema[P])throw new Ne.NotFound("Table "+P+" not part of transaction");return w(J.idbtrans,J)}var Y=te();try{var se=N&&N.db._novip===this.db._novip?N===Ve.trans?N._promise(v,W,E):tt(function(){return N._promise(v,W,E)},{trans:N,transless:Ve.transless||Ve}):function ae(de,J,he,oe){if(de.idbdb&&(de._state.openComplete||Ve.letThrough||de._vip)){var ue=de._createTransaction(J,he,de._dbSchema);try{ue.create(),de._state.PR1398_maxLoop=3}catch(pe){return pe.name===Ye.InvalidState&&de.isOpen()&&0<--de._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),de.close({disableAutoOpen:!1}),de.open().then(function(){return ae(de,J,he,oe)})):tn(pe)}return ue._promise(J,function(pe,ce){return tt(function(){return Ve.trans=ue,oe(pe,ce,ue)})}).then(function(pe){if(J==="readwrite")try{ue.idbtrans.commit()}catch{}return J==="readonly"?pe:ue._completion.then(function(){return pe})})}if(de._state.openComplete)return tn(new Ne.DatabaseClosed(de._state.dbOpenError));if(!de._state.isBeingOpened){if(!de._state.autoOpen)return tn(new Ne.DatabaseClosed);de.open().catch(It)}return de._state.dbReadyPromise.then(function(){return ae(de,J,he,oe)})}(this.db,v,[this.name],W);return L&&(se._consoleTask=L,se=se.catch(function(ae){return console.trace(ae),tn(ae)})),se}finally{Y&&me()}},gn.prototype.get=function(v,w){var E=this;return v&&v.constructor===Object?this.where(v).first(w):v==null?tn(new Ne.Type("Invalid argument to Table.get()")):this._trans("readonly",function(N){return E.core.get({trans:N,key:v}).then(function(P){return E.hook.reading.fire(P)})}).then(w)},gn.prototype.where=function(v){if(typeof v=="string")return new this.db.WhereClause(this,v);if(a(v))return new this.db.WhereClause(this,"[".concat(v.join("+"),"]"));var w=o(v);if(w.length===1)return this.where(w[0]).equals(v[w[0]]);var E=this.schema.indexes.concat(this.schema.primKey).filter(function(Y){if(Y.compound&&w.every(function(ae){return 0<=Y.keyPath.indexOf(ae)})){for(var se=0;se<w.length;++se)if(w.indexOf(Y.keyPath[se])===-1)return!1;return!0}return!1}).sort(function(Y,se){return Y.keyPath.length-se.keyPath.length})[0];if(E&&this.db._maxKey!==$i){var L=E.keyPath.slice(0,w.length);return this.where(L).equals(L.map(function(se){return v[se]}))}!E&&on&&console.warn("The query ".concat(JSON.stringify(v)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(w.join("+"),"]"));var N=this.schema.idxByName;function P(Y,se){return mt(Y,se)===0}var W=w.reduce(function(J,se){var ae=J[0],de=J[1],J=N[se],he=v[se];return[ae||J,ae||!J?ii(de,J&&J.multi?function(oe){return oe=j(oe,se),a(oe)&&oe.some(function(ue){return P(he,ue)})}:function(oe){return P(he,j(oe,se))}):de]},[null,null]),L=W[0],W=W[1];return L?this.where(L.name).equals(v[L.keyPath]).filter(W):E?this.filter(W):this.where(w).equals("")},gn.prototype.filter=function(v){return this.toCollection().and(v)},gn.prototype.count=function(v){return this.toCollection().count(v)},gn.prototype.offset=function(v){return this.toCollection().offset(v)},gn.prototype.limit=function(v){return this.toCollection().limit(v)},gn.prototype.each=function(v){return this.toCollection().each(v)},gn.prototype.toArray=function(v){return this.toCollection().toArray(v)},gn.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},gn.prototype.orderBy=function(v){return new this.db.Collection(new this.db.WhereClause(this,a(v)?"[".concat(v.join("+"),"]"):v))},gn.prototype.reverse=function(){return this.toCollection().reverse()},gn.prototype.mapToClass=function(v){var w,E=this.db,N=this.name;function P(){return w!==null&&w.apply(this,arguments)||this}(this.schema.mappedClass=v).prototype instanceof ko&&(function(se,ae){if(typeof ae!="function"&&ae!==null)throw new TypeError("Class extends value "+String(ae)+" is not a constructor or null");function de(){this.constructor=se}n(se,ae),se.prototype=ae===null?Object.create(ae):(de.prototype=ae.prototype,new de)}(P,w=v),Object.defineProperty(P.prototype,"db",{get:function(){return E},enumerable:!1,configurable:!0}),P.prototype.table=function(){return N},v=P);for(var L=new Set,W=v.prototype;W;W=u(W))Object.getOwnPropertyNames(W).forEach(function(se){return L.add(se)});function Y(se){if(!se)return se;var ae,de=Object.create(v.prototype);for(ae in se)if(!L.has(ae))try{de[ae]=se[ae]}catch{}return de}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=Y,this.hook("reading",Y),v},gn.prototype.defineClass=function(){return this.mapToClass(function(v){l(this,v)})},gn.prototype.add=function(v,w){var E=this,N=this.schema.primKey,P=N.auto,L=N.keyPath,W=v;return L&&P&&(W=Jt(L)(v)),this._trans("readwrite",function(Y){return E.core.mutate({trans:Y,type:"add",keys:w!=null?[w]:null,values:[W]})}).then(function(Y){return Y.numFailures?Qe.reject(Y.failures[0]):Y.lastResult}).then(function(Y){if(L)try{A(v,L,Y)}catch{}return Y})},gn.prototype.update=function(v,w){return typeof v!="object"||a(v)?this.where(":id").equals(v).modify(w):(v=j(v,this.schema.primKey.keyPath),v===void 0?tn(new Ne.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(v).modify(w))},gn.prototype.put=function(v,w){var E=this,N=this.schema.primKey,P=N.auto,L=N.keyPath,W=v;return L&&P&&(W=Jt(L)(v)),this._trans("readwrite",function(Y){return E.core.mutate({trans:Y,type:"put",values:[W],keys:w!=null?[w]:null})}).then(function(Y){return Y.numFailures?Qe.reject(Y.failures[0]):Y.lastResult}).then(function(Y){if(L)try{A(v,L,Y)}catch{}return Y})},gn.prototype.delete=function(v){var w=this;return this._trans("readwrite",function(E){return w.core.mutate({trans:E,type:"delete",keys:[v]})}).then(function(E){return E.numFailures?Qe.reject(E.failures[0]):void 0})},gn.prototype.clear=function(){var v=this;return this._trans("readwrite",function(w){return v.core.mutate({trans:w,type:"deleteRange",range:Ui})}).then(function(w){return w.numFailures?Qe.reject(w.failures[0]):void 0})},gn.prototype.bulkGet=function(v){var w=this;return this._trans("readonly",function(E){return w.core.getMany({keys:v,trans:E}).then(function(N){return N.map(function(P){return w.hook.reading.fire(P)})})})},gn.prototype.bulkAdd=function(v,w,E){var N=this,P=Array.isArray(w)?w:void 0,L=(E=E||(P?void 0:w))?E.allKeys:void 0;return this._trans("readwrite",function(W){var ae=N.schema.primKey,Y=ae.auto,ae=ae.keyPath;if(ae&&P)throw new Ne.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(P&&P.length!==v.length)throw new Ne.InvalidArgument("Arguments objects and keys must have the same length");var se=v.length,ae=ae&&Y?v.map(Jt(ae)):v;return N.core.mutate({trans:W,type:"add",keys:P,values:ae,wantResults:L}).then(function(ue){var J=ue.numFailures,he=ue.results,oe=ue.lastResult,ue=ue.failures;if(J===0)return L?he:oe;throw new Te("".concat(N.name,".bulkAdd(): ").concat(J," of ").concat(se," operations failed"),ue)})})},gn.prototype.bulkPut=function(v,w,E){var N=this,P=Array.isArray(w)?w:void 0,L=(E=E||(P?void 0:w))?E.allKeys:void 0;return this._trans("readwrite",function(W){var ae=N.schema.primKey,Y=ae.auto,ae=ae.keyPath;if(ae&&P)throw new Ne.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(P&&P.length!==v.length)throw new Ne.InvalidArgument("Arguments objects and keys must have the same length");var se=v.length,ae=ae&&Y?v.map(Jt(ae)):v;return N.core.mutate({trans:W,type:"put",keys:P,values:ae,wantResults:L}).then(function(ue){var J=ue.numFailures,he=ue.results,oe=ue.lastResult,ue=ue.failures;if(J===0)return L?he:oe;throw new Te("".concat(N.name,".bulkPut(): ").concat(J," of ").concat(se," operations failed"),ue)})})},gn.prototype.bulkUpdate=function(v){var w=this,E=this.core,N=v.map(function(W){return W.key}),P=v.map(function(W){return W.changes}),L=[];return this._trans("readwrite",function(W){return E.getMany({trans:W,keys:N,cache:"clone"}).then(function(Y){var se=[],ae=[];v.forEach(function(J,he){var oe=J.key,ue=J.changes,pe=Y[he];if(pe){for(var ce=0,ve=Object.keys(ue);ce<ve.length;ce++){var we=ve[ce],Se=ue[we];if(we===w.schema.primKey.keyPath){if(mt(Se,oe)!==0)throw new Ne.Constraint("Cannot update primary key in bulkUpdate()")}else A(pe,we,Se)}L.push(he),se.push(oe),ae.push(pe)}});var de=se.length;return E.mutate({trans:W,type:"put",keys:se,values:ae,updates:{keys:N,changeSpecs:P}}).then(function(J){var he=J.numFailures,oe=J.failures;if(he===0)return de;for(var ue=0,pe=Object.keys(oe);ue<pe.length;ue++){var ce,ve=pe[ue],we=L[Number(ve)];we!=null&&(ce=oe[ve],delete oe[ve],oe[we]=ce)}throw new Te("".concat(w.name,".bulkUpdate(): ").concat(he," of ").concat(de," operations failed"),oe)})})})},gn.prototype.bulkDelete=function(v){var w=this,E=v.length;return this._trans("readwrite",function(N){return w.core.mutate({trans:N,type:"delete",keys:v})}).then(function(W){var P=W.numFailures,L=W.lastResult,W=W.failures;if(P===0)return L;throw new Te("".concat(w.name,".bulkDelete(): ").concat(P," of ").concat(E," operations failed"),W)})},gn);function gn(){}function to(v){function w(W,Y){if(Y){for(var se=arguments.length,ae=new Array(se-1);--se;)ae[se-1]=arguments[se];return E[W].subscribe.apply(null,ae),v}if(typeof W=="string")return E[W]}var E={};w.addEventType=L;for(var N=1,P=arguments.length;N<P;++N)L(arguments[N]);return w;function L(W,Y,se){if(typeof W!="object"){var ae;Y=Y||gi;var de={subscribers:[],fire:se=se||It,subscribe:function(J){de.subscribers.indexOf(J)===-1&&(de.subscribers.push(J),de.fire=Y(de.fire,J))},unsubscribe:function(J){de.subscribers=de.subscribers.filter(function(he){return he!==J}),de.fire=de.subscribers.reduce(Y,se)}};return E[W]=w[W]=de}o(ae=W).forEach(function(J){var he=ae[J];if(a(he))L(J,ae[J][0],ae[J][1]);else{if(he!=="asap")throw new Ne.InvalidArgument("Invalid event config");var oe=L(J,Cn,function(){for(var ue=arguments.length,pe=new Array(ue);ue--;)pe[ue]=arguments[ue];oe.subscribers.forEach(function(ce){z(function(){ce.apply(null,pe)})})})}})}}function js(v,w){return _(w).from({prototype:v}),w}function Ns(v,w){return!(v.filter||v.algorithm||v.or)&&(w?v.justLimit:!v.replayFilter)}function lf(v,w){v.filter=ii(v.filter,w)}function cf(v,w,E){var N=v.replayFilter;v.replayFilter=N?function(){return ii(N(),w())}:w,v.justLimit=E&&!N}function ga(v,w){if(v.isPrimKey)return w.primaryKey;var E=w.getIndexByKeyPath(v.index);if(!E)throw new Ne.Schema("KeyPath "+v.index+" on object store "+w.name+" is not indexed");return E}function uf(v,w,E){var N=ga(v,w.schema);return w.openCursor({trans:E,values:!v.keysOnly,reverse:v.dir==="prev",unique:!!v.unique,query:{index:N,range:v.range}})}function ya(v,w,E,N){var P=v.replayFilter?ii(v.filter,v.replayFilter()):v.filter;if(v.or){var L={},W=function(Y,se,ae){var de,J;P&&!P(se,ae,function(he){return se.stop(he)},function(he){return se.fail(he)})||((J=""+(de=se.primaryKey))=="[object ArrayBuffer]"&&(J=""+new Uint8Array(de)),p(L,J)||(L[J]=!0,w(Y,se,ae)))};return Promise.all([v.or._iterate(W,E),va(uf(v,N,E),v.algorithm,W,!v.keysOnly&&v.valueMapper)])}return va(uf(v,N,E),ii(v.algorithm,P),w,!v.keysOnly&&v.valueMapper)}function va(v,w,E,N){var P=je(N?function(L,W,Y){return E(N(L),W,Y)}:E);return v.then(function(L){if(L)return L.start(function(){var W=function(){return L.continue()};w&&!w(L,function(Y){return W=Y},function(Y){L.stop(Y),W=It},function(Y){L.fail(Y),W=It})||P(L.value,L,function(Y){return W=Y}),W()})})}var Nl=(su.prototype.execute=function(v){var w=this["@@propmod"];if(w.add!==void 0){var E=w.add;if(a(E))return i(i([],a(v)?v:[],!0),E).sort();if(typeof E=="number")return(Number(v)||0)+E;if(typeof E=="bigint")try{return BigInt(v)+E}catch{return BigInt(0)+E}throw new TypeError("Invalid term ".concat(E))}if(w.remove!==void 0){var N=w.remove;if(a(N))return a(v)?v.filter(function(P){return!N.includes(P)}).sort():[];if(typeof N=="number")return Number(v)-N;if(typeof N=="bigint")try{return BigInt(v)-N}catch{return BigInt(0)-N}throw new TypeError("Invalid subtrahend ".concat(N))}return E=(E=w.replacePrefix)===null||E===void 0?void 0:E[0],E&&typeof v=="string"&&v.startsWith(E)?w.replacePrefix[1]+v.substring(E.length):v},su);function su(v){this["@@propmod"]=v}var mn=(Zt.prototype._read=function(v,w){var E=this._ctx;return E.error?E.table._trans(null,tn.bind(null,E.error)):E.table._trans("readonly",v).then(w)},Zt.prototype._write=function(v){var w=this._ctx;return w.error?w.table._trans(null,tn.bind(null,w.error)):w.table._trans("readwrite",v,"locked")},Zt.prototype._addAlgorithm=function(v){var w=this._ctx;w.algorithm=ii(w.algorithm,v)},Zt.prototype._iterate=function(v,w){return ya(this._ctx,v,w,this._ctx.table.core)},Zt.prototype.clone=function(v){var w=Object.create(this.constructor.prototype),E=Object.create(this._ctx);return v&&l(E,v),w._ctx=E,w},Zt.prototype.raw=function(){return this._ctx.valueMapper=null,this},Zt.prototype.each=function(v){var w=this._ctx;return this._read(function(E){return ya(w,v,E,w.table.core)})},Zt.prototype.count=function(v){var w=this;return this._read(function(E){var N=w._ctx,P=N.table.core;if(Ns(N,!0))return P.count({trans:E,query:{index:ga(N,P.schema),range:N.range}}).then(function(W){return Math.min(W,N.limit)});var L=0;return ya(N,function(){return++L,!1},E,P).then(function(){return L})}).then(v)},Zt.prototype.sortBy=function(v,w){var E=v.split(".").reverse(),N=E[0],P=E.length-1;function L(se,ae){return ae?L(se[E[ae]],ae-1):se[N]}var W=this._ctx.dir==="next"?1:-1;function Y(se,ae){return mt(L(se,P),L(ae,P))*W}return this.toArray(function(se){return se.sort(Y)}).then(w)},Zt.prototype.toArray=function(v){var w=this;return this._read(function(E){var N=w._ctx;if(N.dir==="next"&&Ns(N,!0)&&0<N.limit){var P=N.valueMapper,L=ga(N,N.table.core.schema);return N.table.core.query({trans:E,limit:N.limit,values:!0,query:{index:L,range:N.range}}).then(function(Y){return Y=Y.result,P?Y.map(P):Y})}var W=[];return ya(N,function(Y){return W.push(Y)},E,N.table.core).then(function(){return W})},v)},Zt.prototype.offset=function(v){var w=this._ctx;return v<=0||(w.offset+=v,Ns(w)?cf(w,function(){var E=v;return function(N,P){return E===0||(E===1?--E:P(function(){N.advance(E),E=0}),!1)}}):cf(w,function(){var E=v;return function(){return--E<0}})),this},Zt.prototype.limit=function(v){return this._ctx.limit=Math.min(this._ctx.limit,v),cf(this._ctx,function(){var w=v;return function(E,N,P){return--w<=0&&N(P),0<=w}},!0),this},Zt.prototype.until=function(v,w){return lf(this._ctx,function(E,N,P){return!v(E.value)||(N(P),w)}),this},Zt.prototype.first=function(v){return this.limit(1).toArray(function(w){return w[0]}).then(v)},Zt.prototype.last=function(v){return this.reverse().first(v)},Zt.prototype.filter=function(v){var w;return lf(this._ctx,function(E){return v(E.value)}),(w=this._ctx).isMatch=ii(w.isMatch,v),this},Zt.prototype.and=function(v){return this.filter(v)},Zt.prototype.or=function(v){return new this.db.WhereClause(this._ctx.table,v,this)},Zt.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},Zt.prototype.desc=function(){return this.reverse()},Zt.prototype.eachKey=function(v){var w=this._ctx;return w.keysOnly=!w.isMatch,this.each(function(E,N){v(N.key,N)})},Zt.prototype.eachUniqueKey=function(v){return this._ctx.unique="unique",this.eachKey(v)},Zt.prototype.eachPrimaryKey=function(v){var w=this._ctx;return w.keysOnly=!w.isMatch,this.each(function(E,N){v(N.primaryKey,N)})},Zt.prototype.keys=function(v){var w=this._ctx;w.keysOnly=!w.isMatch;var E=[];return this.each(function(N,P){E.push(P.key)}).then(function(){return E}).then(v)},Zt.prototype.primaryKeys=function(v){var w=this._ctx;if(w.dir==="next"&&Ns(w,!0)&&0<w.limit)return this._read(function(N){var P=ga(w,w.table.core.schema);return w.table.core.query({trans:N,values:!1,limit:w.limit,query:{index:P,range:w.range}})}).then(function(N){return N.result}).then(v);w.keysOnly=!w.isMatch;var E=[];return this.each(function(N,P){E.push(P.primaryKey)}).then(function(){return E}).then(v)},Zt.prototype.uniqueKeys=function(v){return this._ctx.unique="unique",this.keys(v)},Zt.prototype.firstKey=function(v){return this.limit(1).keys(function(w){return w[0]}).then(v)},Zt.prototype.lastKey=function(v){return this.reverse().firstKey(v)},Zt.prototype.distinct=function(){var v=this._ctx,v=v.index&&v.table.schema.idxByName[v.index];if(!v||!v.multi)return this;var w={};return lf(this._ctx,function(P){var N=P.primaryKey.toString(),P=p(w,N);return w[N]=!0,!P}),this},Zt.prototype.modify=function(v){var w=this,E=this._ctx;return this._write(function(N){var P,L,W;W=typeof v=="function"?v:(P=o(v),L=P.length,function(ce){for(var ve=!1,we=0;we<L;++we){var Se=P[we],ke=v[Se],De=j(ce,Se);ke instanceof Nl?(A(ce,Se,ke.execute(De)),ve=!0):De!==ke&&(A(ce,Se,ke),ve=!0)}return ve});var Y=E.table.core,J=Y.schema.primaryKey,se=J.outbound,ae=J.extractKey,de=200,J=w.db._options.modifyChunkSize;J&&(de=typeof J=="object"?J[Y.name]||J["*"]||200:J);function he(ce,Se){var we=Se.failures,Se=Se.numFailures;ue+=ce-Se;for(var ke=0,De=o(we);ke<De.length;ke++){var Ue=De[ke];oe.push(we[Ue])}}var oe=[],ue=0,pe=[];return w.clone().primaryKeys().then(function(ce){function ve(Se){var ke=Math.min(de,ce.length-Se);return Y.getMany({trans:N,keys:ce.slice(Se,Se+ke),cache:"immutable"}).then(function(De){for(var Ue=[],Le=[],Be=se?[]:null,We=[],ze=0;ze<ke;++ze){var Xe=De[ze],St={value:re(Xe),primKey:ce[Se+ze]};W.call(St,St.value,St)!==!1&&(St.value==null?We.push(ce[Se+ze]):se||mt(ae(Xe),ae(St.value))===0?(Le.push(St.value),se&&Be.push(ce[Se+ze])):(We.push(ce[Se+ze]),Ue.push(St.value)))}return Promise.resolve(0<Ue.length&&Y.mutate({trans:N,type:"add",values:Ue}).then(function(Tt){for(var Dt in Tt.failures)We.splice(parseInt(Dt),1);he(Ue.length,Tt)})).then(function(){return(0<Le.length||we&&typeof v=="object")&&Y.mutate({trans:N,type:"put",keys:Be,values:Le,criteria:we,changeSpec:typeof v!="function"&&v,isAdditionalChunk:0<Se}).then(function(Tt){return he(Le.length,Tt)})}).then(function(){return(0<We.length||we&&v===ou)&&Y.mutate({trans:N,type:"delete",keys:We,criteria:we,isAdditionalChunk:0<Se}).then(function(Tt){return he(We.length,Tt)})}).then(function(){return ce.length>Se+ke&&ve(Se+de)})})}var we=Ns(E)&&E.limit===1/0&&(typeof v!="function"||v===ou)&&{index:E.index,range:E.range};return ve(0).then(function(){if(0<oe.length)throw new Ee("Error modifying one or more objects",oe,ue,pe);return ce.length})})})},Zt.prototype.delete=function(){var v=this._ctx,w=v.range;return Ns(v)&&(v.isPrimKey||w.type===3)?this._write(function(E){var N=v.table.core.schema.primaryKey,P=w;return v.table.core.count({trans:E,query:{index:N,range:P}}).then(function(L){return v.table.core.mutate({trans:E,type:"deleteRange",range:P}).then(function(W){var Y=W.failures;if(W.lastResult,W.results,W=W.numFailures,W)throw new Ee("Could not delete some values",Object.keys(Y).map(function(se){return Y[se]}),L-W);return L-W})})}):this.modify(ou)},Zt);function Zt(){}var ou=function(v,w){return w.value=null};function df(v,w){return v<w?-1:v===w?0:1}function Bp(v,w){return w<v?-1:v===w?0:1}function Br(v,w,E){return v=v instanceof Rs?new v.Collection(v):v,v._ctx.error=new(E||TypeError)(w),v}function Eo(v){return new v.Collection(v,function(){return Is("")}).limit(0)}function xa(v,w,E,N){var P,L,W,Y,se,ae,de,J=E.length;if(!E.every(function(ue){return typeof ue=="string"}))return Br(v,is);function he(ue){P=ue==="next"?function(ce){return ce.toUpperCase()}:function(ce){return ce.toLowerCase()},L=ue==="next"?function(ce){return ce.toLowerCase()}:function(ce){return ce.toUpperCase()},W=ue==="next"?df:Bp;var pe=E.map(function(ce){return{lower:L(ce),upper:P(ce)}}).sort(function(ce,ve){return W(ce.lower,ve.lower)});Y=pe.map(function(ce){return ce.upper}),se=pe.map(function(ce){return ce.lower}),de=(ae=ue)==="next"?"":N}he("next"),v=new v.Collection(v,function(){return Hi(Y[0],se[J-1]+N)}),v._ondirectionchange=function(ue){he(ue)};var oe=0;return v._addAlgorithm(function(ue,pe,ce){var ve=ue.key;if(typeof ve!="string")return!1;var we=L(ve);if(w(we,se,oe))return!0;for(var Se=null,ke=oe;ke<J;++ke){var De=function(Ue,Le,Be,We,ze,Xe){for(var St=Math.min(Ue.length,We.length),Tt=-1,Dt=0;Dt<St;++Dt){var $r=Le[Dt];if($r!==We[Dt])return ze(Ue[Dt],Be[Dt])<0?Ue.substr(0,Dt)+Be[Dt]+Be.substr(Dt+1):ze(Ue[Dt],We[Dt])<0?Ue.substr(0,Dt)+We[Dt]+Be.substr(Dt+1):0<=Tt?Ue.substr(0,Tt)+Le[Tt]+Be.substr(Tt+1):null;ze(Ue[Dt],$r)<0&&(Tt=Dt)}return St<We.length&&Xe==="next"?Ue+Be.substr(Ue.length):St<Ue.length&&Xe==="prev"?Ue.substr(0,Be.length):Tt<0?null:Ue.substr(0,Tt)+We[Tt]+Be.substr(Tt+1)}(ve,we,Y[ke],se[ke],W,ae);De===null&&Se===null?oe=ke+1:(Se===null||0<W(Se,De))&&(Se=De)}return pe(Se!==null?function(){ue.continue(Se+de)}:ce),!1}),v}function Hi(v,w,E,N){return{type:2,lower:v,upper:w,lowerOpen:E,upperOpen:N}}function Is(v){return{type:1,lower:v,upper:v}}var Rs=(Object.defineProperty(_n.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),_n.prototype.between=function(v,w,E,N){E=E!==!1,N=N===!0;try{return 0<this._cmp(v,w)||this._cmp(v,w)===0&&(E||N)&&(!E||!N)?Eo(this):new this.Collection(this,function(){return Hi(v,w,!E,!N)})}catch{return Br(this,Wt)}},_n.prototype.equals=function(v){return v==null?Br(this,Wt):new this.Collection(this,function(){return Is(v)})},_n.prototype.above=function(v){return v==null?Br(this,Wt):new this.Collection(this,function(){return Hi(v,void 0,!0)})},_n.prototype.aboveOrEqual=function(v){return v==null?Br(this,Wt):new this.Collection(this,function(){return Hi(v,void 0,!1)})},_n.prototype.below=function(v){return v==null?Br(this,Wt):new this.Collection(this,function(){return Hi(void 0,v,!1,!0)})},_n.prototype.belowOrEqual=function(v){return v==null?Br(this,Wt):new this.Collection(this,function(){return Hi(void 0,v)})},_n.prototype.startsWith=function(v){return typeof v!="string"?Br(this,is):this.between(v,v+$i,!0,!0)},_n.prototype.startsWithIgnoreCase=function(v){return v===""?this.startsWith(v):xa(this,function(w,E){return w.indexOf(E[0])===0},[v],$i)},_n.prototype.equalsIgnoreCase=function(v){return xa(this,function(w,E){return w===E[0]},[v],"")},_n.prototype.anyOfIgnoreCase=function(){var v=F.apply(fe,arguments);return v.length===0?Eo(this):xa(this,function(w,E){return E.indexOf(w)!==-1},v,"")},_n.prototype.startsWithAnyOfIgnoreCase=function(){var v=F.apply(fe,arguments);return v.length===0?Eo(this):xa(this,function(w,E){return E.some(function(N){return w.indexOf(N)===0})},v,$i)},_n.prototype.anyOf=function(){var v=this,w=F.apply(fe,arguments),E=this._cmp;try{w.sort(E)}catch{return Br(this,Wt)}if(w.length===0)return Eo(this);var N=new this.Collection(this,function(){return Hi(w[0],w[w.length-1])});N._ondirectionchange=function(L){E=L==="next"?v._ascending:v._descending,w.sort(E)};var P=0;return N._addAlgorithm(function(L,W,Y){for(var se=L.key;0<E(se,w[P]);)if(++P===w.length)return W(Y),!1;return E(se,w[P])===0||(W(function(){L.continue(w[P])}),!1)}),N},_n.prototype.notEqual=function(v){return this.inAnyRange([[-1/0,v],[v,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},_n.prototype.noneOf=function(){var v=F.apply(fe,arguments);if(v.length===0)return new this.Collection(this);try{v.sort(this._ascending)}catch{return Br(this,Wt)}var w=v.reduce(function(E,N){return E?E.concat([[E[E.length-1][1],N]]):[[-1/0,N]]},null);return w.push([v[v.length-1],this.db._maxKey]),this.inAnyRange(w,{includeLowers:!1,includeUppers:!1})},_n.prototype.inAnyRange=function(ve,w){var E=this,N=this._cmp,P=this._ascending,L=this._descending,W=this._min,Y=this._max;if(ve.length===0)return Eo(this);if(!ve.every(function(we){return we[0]!==void 0&&we[1]!==void 0&&P(we[0],we[1])<=0}))return Br(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",Ne.InvalidArgument);var se=!w||w.includeLowers!==!1,ae=w&&w.includeUppers===!0,de,J=P;function he(we,Se){return J(we[0],Se[0])}try{(de=ve.reduce(function(we,Se){for(var ke=0,De=we.length;ke<De;++ke){var Ue=we[ke];if(N(Se[0],Ue[1])<0&&0<N(Se[1],Ue[0])){Ue[0]=W(Ue[0],Se[0]),Ue[1]=Y(Ue[1],Se[1]);break}}return ke===De&&we.push(Se),we},[])).sort(he)}catch{return Br(this,Wt)}var oe=0,ue=ae?function(we){return 0<P(we,de[oe][1])}:function(we){return 0<=P(we,de[oe][1])},pe=se?function(we){return 0<L(we,de[oe][0])}:function(we){return 0<=L(we,de[oe][0])},ce=ue,ve=new this.Collection(this,function(){return Hi(de[0][0],de[de.length-1][1],!se,!ae)});return ve._ondirectionchange=function(we){J=we==="next"?(ce=ue,P):(ce=pe,L),de.sort(he)},ve._addAlgorithm(function(we,Se,ke){for(var De,Ue=we.key;ce(Ue);)if(++oe===de.length)return Se(ke),!1;return!ue(De=Ue)&&!pe(De)||(E._cmp(Ue,de[oe][1])===0||E._cmp(Ue,de[oe][0])===0||Se(function(){J===P?we.continue(de[oe][0]):we.continue(de[oe][1])}),!1)}),ve},_n.prototype.startsWithAnyOf=function(){var v=F.apply(fe,arguments);return v.every(function(w){return typeof w=="string"})?v.length===0?Eo(this):this.inAnyRange(v.map(function(w){return[w,w+$i]})):Br(this,"startsWithAnyOf() only works with strings")},_n);function _n(){}function zr(v){return je(function(w){return Ps(w),v(w.target.error),!1})}function Ps(v){v.stopPropagation&&v.stopPropagation(),v.preventDefault&&v.preventDefault()}var yi="storagemutated",ff="x-storagemutated-1",Os=to(null,yi),Il=(os.prototype._lock=function(){return $(!Ve.global),++this._reculock,this._reculock!==1||Ve.global||(Ve.lockOwnerFor=this),this},os.prototype._unlock=function(){if($(!Ve.global),--this._reculock==0)for(Ve.global||(Ve.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var v=this._blockedFuncs.shift();try{wr(v[1],v[0])}catch{}}return this},os.prototype._locked=function(){return this._reculock&&Ve.lockOwnerFor!==this},os.prototype.create=function(v){var w=this;if(!this.mode)return this;var E=this.db.idbdb,N=this.db._state.dbOpenError;if($(!this.idbtrans),!v&&!E)switch(N&&N.name){case"DatabaseClosedError":throw new Ne.DatabaseClosed(N);case"MissingAPIError":throw new Ne.MissingAPI(N.message,N);default:throw new Ne.OpenFailed(N)}if(!this.active)throw new Ne.TransactionInactive;return $(this._completion._state===null),(v=this.idbtrans=v||(this.db.core||E).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=je(function(P){Ps(P),w._reject(v.error)}),v.onabort=je(function(P){Ps(P),w.active&&w._reject(new Ne.Abort(v.error)),w.active=!1,w.on("abort").fire(P)}),v.oncomplete=je(function(){w.active=!1,w._resolve(),"mutatedParts"in v&&Os.storagemutated.fire(v.mutatedParts)}),this},os.prototype._promise=function(v,w,E){var N=this;if(v==="readwrite"&&this.mode!=="readwrite")return tn(new Ne.ReadOnly("Transaction is readonly"));if(!this.active)return tn(new Ne.TransactionInactive);if(this._locked())return new Qe(function(L,W){N._blockedFuncs.push([function(){N._promise(v,w,E).then(L,W)},Ve])});if(E)return tt(function(){var L=new Qe(function(W,Y){N._lock();var se=w(W,Y,N);se&&se.then&&se.then(W,Y)});return L.finally(function(){return N._unlock()}),L._lib=!0,L});var P=new Qe(function(L,W){var Y=w(L,W,N);Y&&Y.then&&Y.then(L,W)});return P._lib=!0,P},os.prototype._root=function(){return this.parent?this.parent._root():this},os.prototype.waitFor=function(v){var w,E=this._root(),N=Qe.resolve(v);E._waitingFor?E._waitingFor=E._waitingFor.then(function(){return N}):(E._waitingFor=N,E._waitingQueue=[],w=E.idbtrans.objectStore(E.storeNames[0]),function L(){for(++E._spinCount;E._waitingQueue.length;)E._waitingQueue.shift()();E._waitingFor&&(w.get(-1/0).onsuccess=L)}());var P=E._waitingFor;return new Qe(function(L,W){N.then(function(Y){return E._waitingQueue.push(je(L.bind(null,Y)))},function(Y){return E._waitingQueue.push(je(W.bind(null,Y)))}).finally(function(){E._waitingFor===P&&(E._waitingFor=null)})})},os.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new Ne.Abort))},os.prototype.table=function(v){var w=this._memoizedTables||(this._memoizedTables={});if(p(w,v))return w[v];var E=this.schema[v];if(!E)throw new Ne.NotFound("Table "+v+" not part of transaction");return E=new this.db.Table(v,E,this),E.core=this.db.core.table(v),w[v]=E},os);function os(){}function au(v,w,E,N,P,L,W){return{name:v,keyPath:w,unique:E,multi:N,auto:P,compound:L,src:(E&&!W?"&":"")+(N?"*":"")+(P?"++":"")+Rl(w)}}function Rl(v){return typeof v=="string"?v:v?"["+[].join.call(v,"+")+"]":""}function lu(v,w,E){return{name:v,primKey:w,indexes:E,mappedClass:null,idxByName:(N=function(P){return[P.name,P]},E.reduce(function(P,L,W){return W=N(L,W),W&&(P[W[0]]=W[1]),P},{}))};var N}var Pl=function(v){try{return v.only([[]]),Pl=function(){return[[]]},[[]]}catch{return Pl=function(){return $i},$i}};function To(v){return v==null?function(){}:typeof v=="string"?(w=v).split(".").length===1?function(E){return E[w]}:function(E){return j(E,w)}:function(E){return j(E,v)};var w}function ba(v){return[].slice.call(v)}var wa=0;function no(v){return v==null?":id":typeof v=="string"?v:"[".concat(v.join("+"),"]")}function ly(v,w,se){function N(ce){if(ce.type===3)return null;if(ce.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var oe=ce.lower,ue=ce.upper,pe=ce.lowerOpen,ce=ce.upperOpen;return oe===void 0?ue===void 0?null:w.upperBound(ue,!!ce):ue===void 0?w.lowerBound(oe,!!pe):w.bound(oe,ue,!!pe,!!ce)}function P(he){var oe,ue=he.name;return{name:ue,schema:he,mutate:function(pe){var ce=pe.trans,ve=pe.type,we=pe.keys,Se=pe.values,ke=pe.range;return new Promise(function(De,Ue){De=je(De);var Le=ce.objectStore(ue),Be=Le.keyPath==null,We=ve==="put"||ve==="add";if(!We&&ve!=="delete"&&ve!=="deleteRange")throw new Error("Invalid operation type: "+ve);var ze,Xe=(we||Se||{length:1}).length;if(we&&Se&&we.length!==Se.length)throw new Error("Given keys array must have same length as given values array.");if(Xe===0)return De({numFailures:0,failures:{},results:[],lastResult:void 0});function St(Fn){++$r,Ps(Fn)}var Tt=[],Dt=[],$r=0;if(ve==="deleteRange"){if(ke.type===4)return De({numFailures:$r,failures:Dt,results:[],lastResult:void 0});ke.type===3?Tt.push(ze=Le.clear()):Tt.push(ze=Le.delete(N(ke)))}else{var Be=We?Be?[Se,we]:[Se,null]:[we,null],_t=Be[0],ur=Be[1];if(We)for(var dr=0;dr<Xe;++dr)Tt.push(ze=ur&&ur[dr]!==void 0?Le[ve](_t[dr],ur[dr]):Le[ve](_t[dr])),ze.onerror=St;else for(dr=0;dr<Xe;++dr)Tt.push(ze=Le[ve](_t[dr])),ze.onerror=St}function Ul(Fn){Fn=Fn.target.result,Tt.forEach(function(Ms,Hl){return Ms.error!=null&&(Dt[Hl]=Ms.error)}),De({numFailures:$r,failures:Dt,results:ve==="delete"?we:Tt.map(function(Ms){return Ms.result}),lastResult:Fn})}ze.onerror=function(Fn){St(Fn),Ul(Fn)},ze.onsuccess=Ul})},getMany:function(pe){var ce=pe.trans,ve=pe.keys;return new Promise(function(we,Se){we=je(we);for(var ke,De=ce.objectStore(ue),Ue=ve.length,Le=new Array(Ue),Be=0,We=0,ze=function(Tt){Tt=Tt.target,Le[Tt._pos]=Tt.result,++We===Be&&we(Le)},Xe=zr(Se),St=0;St<Ue;++St)ve[St]!=null&&((ke=De.get(ve[St]))._pos=St,ke.onsuccess=ze,ke.onerror=Xe,++Be);Be===0&&we(Le)})},get:function(pe){var ce=pe.trans,ve=pe.key;return new Promise(function(we,Se){we=je(we);var ke=ce.objectStore(ue).get(ve);ke.onsuccess=function(De){return we(De.target.result)},ke.onerror=zr(Se)})},query:(oe=ae,function(pe){return new Promise(function(ce,ve){ce=je(ce);var we,Se,ke,Be=pe.trans,De=pe.values,Ue=pe.limit,ze=pe.query,Le=Ue===1/0?void 0:Ue,We=ze.index,ze=ze.range,Be=Be.objectStore(ue),We=We.isPrimaryKey?Be:Be.index(We.name),ze=N(ze);if(Ue===0)return ce({result:[]});oe?((Le=De?We.getAll(ze,Le):We.getAllKeys(ze,Le)).onsuccess=function(Xe){return ce({result:Xe.target.result})},Le.onerror=zr(ve)):(we=0,Se=!De&&"openKeyCursor"in We?We.openKeyCursor(ze):We.openCursor(ze),ke=[],Se.onsuccess=function(Xe){var St=Se.result;return St?(ke.push(De?St.value:St.primaryKey),++we===Ue?ce({result:ke}):void St.continue()):ce({result:ke})},Se.onerror=zr(ve))})}),openCursor:function(pe){var ce=pe.trans,ve=pe.values,we=pe.query,Se=pe.reverse,ke=pe.unique;return new Promise(function(De,Ue){De=je(De);var We=we.index,Le=we.range,Be=ce.objectStore(ue),Be=We.isPrimaryKey?Be:Be.index(We.name),We=Se?ke?"prevunique":"prev":ke?"nextunique":"next",ze=!ve&&"openKeyCursor"in Be?Be.openKeyCursor(N(Le),We):Be.openCursor(N(Le),We);ze.onerror=zr(Ue),ze.onsuccess=je(function(Xe){var St,Tt,Dt,$r,_t=ze.result;_t?(_t.___id=++wa,_t.done=!1,St=_t.continue.bind(_t),Tt=(Tt=_t.continuePrimaryKey)&&Tt.bind(_t),Dt=_t.advance.bind(_t),$r=function(){throw new Error("Cursor not stopped")},_t.trans=ce,_t.stop=_t.continue=_t.continuePrimaryKey=_t.advance=function(){throw new Error("Cursor not started")},_t.fail=je(Ue),_t.next=function(){var ur=this,dr=1;return this.start(function(){return dr--?ur.continue():ur.stop()}).then(function(){return ur})},_t.start=function(ur){function dr(){if(ze.result)try{ur()}catch(Fn){_t.fail(Fn)}else _t.done=!0,_t.start=function(){throw new Error("Cursor behind last entry")},_t.stop()}var Ul=new Promise(function(Fn,Ms){Fn=je(Fn),ze.onerror=zr(Ms),_t.fail=Ms,_t.stop=function(Hl){_t.stop=_t.continue=_t.continuePrimaryKey=_t.advance=$r,Fn(Hl)}});return ze.onsuccess=je(function(Fn){ze.onsuccess=dr,dr()}),_t.continue=St,_t.continuePrimaryKey=Tt,_t.advance=Dt,dr(),Ul},De(_t)):De(null)},Ue)})},count:function(pe){var ce=pe.query,ve=pe.trans,we=ce.index,Se=ce.range;return new Promise(function(ke,De){var Ue=ve.objectStore(ue),Le=we.isPrimaryKey?Ue:Ue.index(we.name),Ue=N(Se),Le=Ue?Le.count(Ue):Le.count();Le.onsuccess=je(function(Be){return ke(Be.target.result)}),Le.onerror=zr(De)})}}}var L,W,Y,de=(W=se,Y=ba((L=v).objectStoreNames),{schema:{name:L.name,tables:Y.map(function(he){return W.objectStore(he)}).map(function(he){var oe=he.keyPath,ce=he.autoIncrement,ue=a(oe),pe={},ce={name:he.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:oe==null,compound:ue,keyPath:oe,autoIncrement:ce,unique:!0,extractKey:To(oe)},indexes:ba(he.indexNames).map(function(ve){return he.index(ve)}).map(function(ke){var we=ke.name,Se=ke.unique,De=ke.multiEntry,ke=ke.keyPath,De={name:we,compound:a(ke),keyPath:ke,unique:Se,multiEntry:De,extractKey:To(ke)};return pe[no(ke)]=De}),getIndexByKeyPath:function(ve){return pe[no(ve)]}};return pe[":id"]=ce.primaryKey,oe!=null&&(pe[no(oe)]=ce.primaryKey),ce})},hasGetAll:0<Y.length&&"getAll"in W.objectStore(Y[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),se=de.schema,ae=de.hasGetAll,de=se.tables.map(P),J={};return de.forEach(function(he){return J[he.name]=he}),{stack:"dbcore",transaction:v.transaction.bind(v),table:function(he){if(!J[he])throw new Error("Table '".concat(he,"' not found"));return J[he]},MIN_KEY:-1/0,MAX_KEY:Pl(w),schema:se}}function cy(v,w,E,N){var P=E.IDBKeyRange;return E.indexedDB,{dbcore:(N=ly(w,P,N),v.dbcore.reduce(function(L,W){return W=W.create,r(r({},L),W(L))},N))}}function _a(v,N){var E=N.db,N=cy(v._middlewares,E,v._deps,N);v.core=N.dbcore,v.tables.forEach(function(P){var L=P.name;v.core.schema.tables.some(function(W){return W.name===L})&&(P.core=v.core.table(L),v[L]instanceof v.Table&&(v[L].core=P.core))})}function jo(v,w,E,N){E.forEach(function(P){var L=N[P];w.forEach(function(W){var Y=function se(ae,de){return C(ae,de)||(ae=u(ae))&&se(ae,de)}(W,P);(!Y||"value"in Y&&Y.value===void 0)&&(W===v.Transaction.prototype||W instanceof v.Transaction?b(W,P,{get:function(){return this.table(P)},set:function(se){y(this,P,{value:se,writable:!0,configurable:!0,enumerable:!0})}}):W[P]=new v.Table(P,L))})})}function Ol(v,w){w.forEach(function(E){for(var N in E)E[N]instanceof v.Table&&delete E[N]})}function zp(v,w){return v._cfg.version-w._cfg.version}function ro(v,w,E,N){var P=v._dbSchema;E.objectStoreNames.contains("$meta")&&!P.$meta&&(P.$meta=lu("$meta",Io("")[0],[]),v._storeNames.push("$meta"));var L=v._createTransaction("readwrite",v._storeNames,P);L.create(E),L._completion.catch(N);var W=L._reject.bind(L),Y=Ve.transless||Ve;tt(function(){return Ve.trans=L,Ve.transless=Y,w!==0?(_a(v,E),ae=w,((se=L).storeNames.includes("$meta")?se.table("$meta").get("version").then(function(de){return de??ae}):Qe.resolve(ae)).then(function(de){return he=de,oe=L,ue=E,pe=[],de=(J=v)._versions,ce=J._dbSchema=Al(0,J.idbdb,ue),(de=de.filter(function(ve){return ve._cfg.version>=he})).length!==0?(de.forEach(function(ve){pe.push(function(){var we=ce,Se=ve._cfg.dbschema;_r(J,we,ue),_r(J,Se,ue),ce=J._dbSchema=Se;var ke=Sa(we,Se);ke.add.forEach(function(We){cu(ue,We[0],We[1].primKey,We[1].indexes)}),ke.change.forEach(function(We){if(We.recreate)throw new Ne.Upgrade("Not yet support for changing primary key");var ze=ue.objectStore(We.name);We.add.forEach(function(Xe){return No(ze,Xe)}),We.change.forEach(function(Xe){ze.deleteIndex(Xe.name),No(ze,Xe)}),We.del.forEach(function(Xe){return ze.deleteIndex(Xe)})});var De=ve._cfg.contentUpgrade;if(De&&ve._cfg.version>he){_a(J,ue),oe._memoizedTables={};var Ue=B(Se);ke.del.forEach(function(We){Ue[We]=we[We]}),Ol(J,[J.Transaction.prototype]),jo(J,[J.Transaction.prototype],o(Ue),Ue),oe.schema=Ue;var Le,Be=G(De);return Be&&Pt(),ke=Qe.follow(function(){var We;(Le=De(oe))&&Be&&(We=$t.bind(null,null),Le.then(We,We))}),Le&&typeof Le.then=="function"?Qe.resolve(Le):ke.then(function(){return Le})}}),pe.push(function(we){var Se,ke,De=ve._cfg.dbschema;Se=De,ke=we,[].slice.call(ke.db.objectStoreNames).forEach(function(Ue){return Se[Ue]==null&&ke.db.deleteObjectStore(Ue)}),Ol(J,[J.Transaction.prototype]),jo(J,[J.Transaction.prototype],J._storeNames,J._dbSchema),oe.schema=J._dbSchema}),pe.push(function(we){J.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(J.idbdb.version/10)===ve._cfg.version?(J.idbdb.deleteObjectStore("$meta"),delete J._dbSchema.$meta,J._storeNames=J._storeNames.filter(function(Se){return Se!=="$meta"})):we.objectStore("$meta").put(ve._cfg.version,"version"))})}),function ve(){return pe.length?Qe.resolve(pe.shift()(oe.idbtrans)).then(ve):Qe.resolve()}().then(function(){Ml(ce,ue)})):Qe.resolve();var J,he,oe,ue,pe,ce}).catch(W)):(o(P).forEach(function(de){cu(E,de,P[de].primKey,P[de].indexes)}),_a(v,E),void Qe.follow(function(){return v.on.populate.fire(L)}).catch(W));var se,ae})}function hf(v,w){Ml(v._dbSchema,w),w.db.version%10!=0||w.objectStoreNames.contains("$meta")||w.db.createObjectStore("$meta").add(Math.ceil(w.db.version/10-1),"version");var E=Al(0,v.idbdb,w);_r(v,v._dbSchema,w);for(var N=0,P=Sa(E,v._dbSchema).change;N<P.length;N++){var L=function(W){if(W.change.length||W.recreate)return console.warn("Unable to patch indexes of table ".concat(W.name," because it has changes on the type of index or primary key.")),{value:void 0};var Y=w.objectStore(W.name);W.add.forEach(function(se){on&&console.debug("Dexie upgrade patch: Creating missing index ".concat(W.name,".").concat(se.src)),No(Y,se)})}(P[N]);if(typeof L=="object")return L.value}}function Sa(v,w){var E,N={del:[],add:[],change:[]};for(E in v)w[E]||N.del.push(E);for(E in w){var P=v[E],L=w[E];if(P){var W={name:E,def:L,recreate:!1,del:[],add:[],change:[]};if(""+(P.primKey.keyPath||"")!=""+(L.primKey.keyPath||"")||P.primKey.auto!==L.primKey.auto)W.recreate=!0,N.change.push(W);else{var Y=P.idxByName,se=L.idxByName,ae=void 0;for(ae in Y)se[ae]||W.del.push(ae);for(ae in se){var de=Y[ae],J=se[ae];de?de.src!==J.src&&W.change.push(J):W.add.push(J)}(0<W.del.length||0<W.add.length||0<W.change.length)&&N.change.push(W)}}else N.add.push([E,L])}return N}function cu(v,w,E,N){var P=v.db.createObjectStore(w,E.keyPath?{keyPath:E.keyPath,autoIncrement:E.auto}:{autoIncrement:E.auto});return N.forEach(function(L){return No(P,L)}),P}function Ml(v,w){o(v).forEach(function(E){w.db.objectStoreNames.contains(E)||(on&&console.debug("Dexie: Creating missing table",E),cu(w,E,v[E].primKey,v[E].indexes))})}function No(v,w){v.createIndex(w.name,w.keyPath,{unique:w.unique,multiEntry:w.multi})}function Al(v,w,E){var N={};return R(w.objectStoreNames,0).forEach(function(P){for(var L=E.objectStore(P),W=au(Rl(ae=L.keyPath),ae||"",!0,!1,!!L.autoIncrement,ae&&typeof ae!="string",!0),Y=[],se=0;se<L.indexNames.length;++se){var de=L.index(L.indexNames[se]),ae=de.keyPath,de=au(de.name,ae,!!de.unique,!!de.multiEntry,!1,ae&&typeof ae!="string",!1);Y.push(de)}N[P]=lu(P,W,Y)}),N}function _r(v,w,E){for(var N=E.db.objectStoreNames,P=0;P<N.length;++P){var L=N[P],W=E.objectStore(L);v._hasGetAll="getAll"in W;for(var Y=0;Y<W.indexNames.length;++Y){var se=W.indexNames[Y],ae=W.index(se).keyPath,de=typeof ae=="string"?ae:"["+R(ae).join("+")+"]";!w[L]||(ae=w[L].idxByName[de])&&(ae.name=se,delete w[L].idxByName[de],w[L].idxByName[se]=ae)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&s.WorkerGlobalScope&&s instanceof s.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(v._hasGetAll=!1)}function Io(v){return v.split(",").map(function(w,E){var N=(w=w.trim()).replace(/([&*]|\+\+)/g,""),P=/^\[/.test(N)?N.match(/^\[(.*)\]$/)[1].split("+"):N;return au(N,P||null,/\&/.test(w),/\*/.test(w),/\+\+/.test(w),a(P),E===0)})}var pf=(io.prototype._parseStoresSpec=function(v,w){o(v).forEach(function(E){if(v[E]!==null){var N=Io(v[E]),P=N.shift();if(P.unique=!0,P.multi)throw new Ne.Schema("Primary key cannot be multi-valued");N.forEach(function(L){if(L.auto)throw new Ne.Schema("Only primary key can be marked as autoIncrement (++)");if(!L.keyPath)throw new Ne.Schema("Index must have a name and cannot be an empty string")}),w[E]=lu(E,P,N)}})},io.prototype.stores=function(E){var w=this.db;this._cfg.storesSource=this._cfg.storesSource?l(this._cfg.storesSource,E):E;var E=w._versions,N={},P={};return E.forEach(function(L){l(N,L._cfg.storesSource),P=L._cfg.dbschema={},L._parseStoresSpec(N,P)}),w._dbSchema=P,Ol(w,[w._allTables,w,w.Transaction.prototype]),jo(w,[w._allTables,w,w.Transaction.prototype,this._cfg.tables],o(P),P),w._storeNames=o(P),this},io.prototype.upgrade=function(v){return this._cfg.contentUpgrade=wt(this._cfg.contentUpgrade||It,v),this},io);function io(){}function mf(v,w){var E=v._dbNamesDB;return E||(E=v._dbNamesDB=new as(ss,{addons:[],indexedDB:v,IDBKeyRange:w})).version(1).stores({dbnames:"name"}),E.table("dbnames")}function Dl(v){return v&&typeof v.databases=="function"}function Ll(v){return tt(function(){return Ve.letThrough=!0,v()})}function Ro(v){return!("from"in v)}var Jn=function(v,w){if(!this){var E=new Jn;return v&&"d"in v&&l(E,v),E}l(this,arguments.length?{d:1,from:v,to:1<arguments.length?w:v}:{d:0})};function Ca(v,w,E){var N=mt(w,E);if(!isNaN(N)){if(0<N)throw RangeError();if(Ro(v))return l(v,{from:w,to:E,d:1});var P=v.l,N=v.r;if(mt(E,v.from)<0)return P?Ca(P,w,E):v.l={from:w,to:E,d:1,l:null,r:null},du(v);if(0<mt(w,v.to))return N?Ca(N,w,E):v.r={from:w,to:E,d:1,l:null,r:null},du(v);mt(w,v.from)<0&&(v.from=w,v.l=null,v.d=N?N.d+1:1),0<mt(E,v.to)&&(v.to=E,v.r=null,v.d=v.l?v.l.d+1:1),E=!v.r,P&&!v.l&&Fl(v,P),N&&E&&Fl(v,N)}}function Fl(v,w){Ro(w)||function E(N,se){var L=se.from,W=se.to,Y=se.l,se=se.r;Ca(N,L,W),Y&&E(N,Y),se&&E(N,se)}(v,w)}function $p(v,w){var E=uu(w),N=E.next();if(N.done)return!1;for(var P=N.value,L=uu(v),W=L.next(P.from),Y=W.value;!N.done&&!W.done;){if(mt(Y.from,P.to)<=0&&0<=mt(Y.to,P.from))return!0;mt(P.from,Y.from)<0?P=(N=E.next(Y.from)).value:Y=(W=L.next(P.from)).value}return!1}function uu(v){var w=Ro(v)?null:{s:0,n:v};return{next:function(E){for(var N=0<arguments.length;w;)switch(w.s){case 0:if(w.s=1,N)for(;w.n.l&&mt(E,w.n.from)<0;)w={up:w,n:w.n.l,s:1};else for(;w.n.l;)w={up:w,n:w.n.l,s:1};case 1:if(w.s=2,!N||mt(E,w.n.to)<=0)return{value:w.n,done:!1};case 2:if(w.n.r){w.s=3,w={up:w,n:w.n.r,s:0};continue}case 3:w=w.up}return{done:!0}}}}function du(v){var w,E,N=(((w=v.r)===null||w===void 0?void 0:w.d)||0)-(((E=v.l)===null||E===void 0?void 0:E.d)||0),P=1<N?"r":N<-1?"l":"";P&&(w=P=="r"?"l":"r",E=r({},v),N=v[P],v.from=N.from,v.to=N.to,v[P]=N[P],E[P]=N[w],(v[w]=E).d=Up(E)),v.d=Up(v)}function Up(E){var w=E.r,E=E.l;return(w?E?Math.max(w.d,E.d):w.d:E?E.d:0)+1}function fu(v,w){return o(w).forEach(function(E){v[E]?Fl(v[E],w[E]):v[E]=function N(P){var L,W,Y={};for(L in P)p(P,L)&&(W=P[L],Y[L]=!W||typeof W!="object"||Z.has(W.constructor)?W:N(W));return Y}(w[E])}),v}function gf(v,w){return v.all||w.all||Object.keys(v).some(function(E){return w[E]&&$p(w[E],v[E])})}g(Jn.prototype,((vi={add:function(v){return Fl(this,v),this},addKey:function(v){return Ca(this,v,v),this},addKeys:function(v){var w=this;return v.forEach(function(E){return Ca(w,E,E)}),this},hasKey:function(v){var w=uu(this).next(v).value;return w&&mt(w.from,v)<=0&&0<=mt(w.to,v)}})[Q]=function(){return uu(this)},vi));var Po={},yf={},hu=!1;function pu(v){fu(yf,v),hu||(hu=!0,setTimeout(function(){hu=!1,vf(yf,!(yf={}))},0))}function vf(v,w){w===void 0&&(w=!1);var E=new Set;if(v.all)for(var N=0,P=Object.values(Po);N<P.length;N++)Hp(W=P[N],v,E,w);else for(var L in v){var W,Y=/^idb\:\/\/(.*)\/(.*)\//.exec(L);Y&&(L=Y[1],Y=Y[2],(W=Po["idb://".concat(L,"/").concat(Y)])&&Hp(W,v,E,w))}E.forEach(function(se){return se()})}function Hp(v,w,E,N){for(var P=[],L=0,W=Object.entries(v.queries.query);L<W.length;L++){for(var Y=W[L],se=Y[0],ae=[],de=0,J=Y[1];de<J.length;de++){var he=J[de];gf(w,he.obsSet)?he.subscribers.forEach(function(ce){return E.add(ce)}):N&&ae.push(he)}N&&P.push([se,ae])}if(N)for(var oe=0,ue=P;oe<ue.length;oe++){var pe=ue[oe],se=pe[0],ae=pe[1];v.queries.query[se]=ae}}function uy(v){var w=v._state,E=v._deps.indexedDB;if(w.isBeingOpened||v.idbdb)return w.dbReadyPromise.then(function(){return w.dbOpenError?tn(w.dbOpenError):v});w.isBeingOpened=!0,w.dbOpenError=null,w.openComplete=!1;var N=w.openCanceller,P=Math.round(10*v.verno),L=!1;function W(){if(w.openCanceller!==N)throw new Ne.DatabaseClosed("db.open() was cancelled")}function Y(){return new Qe(function(he,oe){if(W(),!E)throw new Ne.MissingAPI;var ue=v.name,pe=w.autoSchema||!P?E.open(ue):E.open(ue,P);if(!pe)throw new Ne.MissingAPI;pe.onerror=zr(oe),pe.onblocked=je(v._fireOnBlocked),pe.onupgradeneeded=je(function(ce){var ve;de=pe.transaction,w.autoSchema&&!v._options.allowEmptyDB?(pe.onerror=Ps,de.abort(),pe.result.close(),(ve=E.deleteDatabase(ue)).onsuccess=ve.onerror=je(function(){oe(new Ne.NoSuchDatabase("Database ".concat(ue," doesnt exist")))})):(de.onerror=zr(oe),ce=ce.oldVersion>Math.pow(2,62)?0:ce.oldVersion,J=ce<1,v.idbdb=pe.result,L&&hf(v,de),ro(v,ce/10,de,oe))},oe),pe.onsuccess=je(function(){de=null;var ce,ve,we,Se,ke,De=v.idbdb=pe.result,Ue=R(De.objectStoreNames);if(0<Ue.length)try{var Le=De.transaction((Se=Ue).length===1?Se[0]:Se,"readonly");if(w.autoSchema)ve=De,we=Le,(ce=v).verno=ve.version/10,we=ce._dbSchema=Al(0,ve,we),ce._storeNames=R(ve.objectStoreNames,0),jo(ce,[ce._allTables],o(we),we);else if(_r(v,v._dbSchema,Le),((ke=Sa(Al(0,(ke=v).idbdb,Le),ke._dbSchema)).add.length||ke.change.some(function(Be){return Be.add.length||Be.change.length}))&&!L)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),De.close(),P=De.version+1,L=!0,he(Y());_a(v,Le)}catch{}ri.push(v),De.onversionchange=je(function(Be){w.vcFired=!0,v.on("versionchange").fire(Be)}),De.onclose=je(function(Be){v.on("close").fire(Be)}),J&&(ke=v._deps,Le=ue,De=ke.indexedDB,ke=ke.IDBKeyRange,Dl(De)||Le===ss||mf(De,ke).put({name:Le}).catch(It)),he()},oe)}).catch(function(he){switch(he?.name){case"UnknownError":if(0<w.PR1398_maxLoop)return w.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),Y();break;case"VersionError":if(0<P)return P=0,Y()}return Qe.reject(he)})}var se,ae=w.dbReadyResolve,de=null,J=!1;return Qe.race([N,(typeof navigator>"u"?Qe.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(he){function oe(){return indexedDB.databases().finally(he)}se=setInterval(oe,100),oe()}).finally(function(){return clearInterval(se)}):Promise.resolve()).then(Y)]).then(function(){return W(),w.onReadyBeingFired=[],Qe.resolve(Ll(function(){return v.on.ready.fire(v.vip)})).then(function he(){if(0<w.onReadyBeingFired.length){var oe=w.onReadyBeingFired.reduce(wt,It);return w.onReadyBeingFired=[],Qe.resolve(Ll(function(){return oe(v.vip)})).then(he)}})}).finally(function(){w.openCanceller===N&&(w.onReadyBeingFired=null,w.isBeingOpened=!1)}).catch(function(he){w.dbOpenError=he;try{de&&de.abort()}catch{}return N===w.openCanceller&&v._close(),tn(he)}).finally(function(){w.openComplete=!0,ae()}).then(function(){var he;return J&&(he={},v.tables.forEach(function(oe){oe.schema.indexes.forEach(function(ue){ue.name&&(he["idb://".concat(v.name,"/").concat(oe.name,"/").concat(ue.name)]=new Jn(-1/0,[[[]]]))}),he["idb://".concat(v.name,"/").concat(oe.name,"/")]=he["idb://".concat(v.name,"/").concat(oe.name,"/:dels")]=new Jn(-1/0,[[[]]])}),Os(yi).fire(he),vf(he,!0)),v})}function Bl(v){function w(L){return v.next(L)}var E=P(w),N=P(function(L){return v.throw(L)});function P(L){return function(se){var Y=L(se),se=Y.value;return Y.done?se:se&&typeof se.then=="function"?se.then(E,N):a(se)?Promise.all(se).then(E,N):E(se)}}return P(w)()}function mu(v,w,E){for(var N=a(v)?v.slice():[v],P=0;P<E;++P)N.push(w);return N}var dy={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(v){return r(r({},v),{table:function(w){var E=v.table(w),N=E.schema,P={},L=[];function W(J,he,oe){var ue=no(J),pe=P[ue]=P[ue]||[],ce=J==null?0:typeof J=="string"?1:J.length,ve=0<he,ve=r(r({},oe),{name:ve?"".concat(ue,"(virtual-from:").concat(oe.name,")"):oe.name,lowLevelIndex:oe,isVirtual:ve,keyTail:he,keyLength:ce,extractKey:To(J),unique:!ve&&oe.unique});return pe.push(ve),ve.isPrimaryKey||L.push(ve),1<ce&&W(ce===2?J[0]:J.slice(0,ce-1),he+1,oe),pe.sort(function(we,Se){return we.keyTail-Se.keyTail}),ve}w=W(N.primaryKey.keyPath,0,N.primaryKey),P[":id"]=[w];for(var Y=0,se=N.indexes;Y<se.length;Y++){var ae=se[Y];W(ae.keyPath,0,ae)}function de(J){var he,oe=J.query.index;return oe.isVirtual?r(r({},J),{query:{index:oe.lowLevelIndex,range:(he=J.query.range,oe=oe.keyTail,{type:he.type===1?2:he.type,lower:mu(he.lower,he.lowerOpen?v.MAX_KEY:v.MIN_KEY,oe),lowerOpen:!0,upper:mu(he.upper,he.upperOpen?v.MIN_KEY:v.MAX_KEY,oe),upperOpen:!0})}}):J}return r(r({},E),{schema:r(r({},N),{primaryKey:w,indexes:L,getIndexByKeyPath:function(J){return(J=P[no(J)])&&J[0]}}),count:function(J){return E.count(de(J))},query:function(J){return E.query(de(J))},openCursor:function(J){var he=J.query.index,oe=he.keyTail,ue=he.isVirtual,pe=he.keyLength;return ue?E.openCursor(de(J)).then(function(ve){return ve&&ce(ve)}):E.openCursor(J);function ce(ve){return Object.create(ve,{continue:{value:function(we){we!=null?ve.continue(mu(we,J.reverse?v.MAX_KEY:v.MIN_KEY,oe)):J.unique?ve.continue(ve.key.slice(0,pe).concat(J.reverse?v.MIN_KEY:v.MAX_KEY,oe)):ve.continue()}},continuePrimaryKey:{value:function(we,Se){ve.continuePrimaryKey(mu(we,v.MAX_KEY,oe),Se)}},primaryKey:{get:function(){return ve.primaryKey}},key:{get:function(){var we=ve.key;return pe===1?we[0]:we.slice(0,pe)}},value:{get:function(){return ve.value}}})}}})}})}};function xf(v,w,E,N){return E=E||{},N=N||"",o(v).forEach(function(P){var L,W,Y;p(w,P)?(L=v[P],W=w[P],typeof L=="object"&&typeof W=="object"&&L&&W?(Y=q(L))!==q(W)?E[N+P]=w[P]:Y==="Object"?xf(L,W,E,N+P+"."):L!==W&&(E[N+P]=w[P]):L!==W&&(E[N+P]=w[P])):E[N+P]=void 0}),o(w).forEach(function(P){p(v,P)||(E[N+P]=w[P])}),E}function gu(v,w){return w.type==="delete"?w.keys:w.keys||w.values.map(v.extractKey)}var fy={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(v){return r(r({},v),{table:function(w){var E=v.table(w),N=E.schema.primaryKey;return r(r({},E),{mutate:function(P){var L=Ve.trans,W=L.table(w).hook,Y=W.deleting,se=W.creating,ae=W.updating;switch(P.type){case"add":if(se.fire===It)break;return L._promise("readwrite",function(){return de(P)},!0);case"put":if(se.fire===It&&ae.fire===It)break;return L._promise("readwrite",function(){return de(P)},!0);case"delete":if(Y.fire===It)break;return L._promise("readwrite",function(){return de(P)},!0);case"deleteRange":if(Y.fire===It)break;return L._promise("readwrite",function(){return function J(he,oe,ue){return E.query({trans:he,values:!1,query:{index:N,range:oe},limit:ue}).then(function(pe){var ce=pe.result;return de({type:"delete",keys:ce,trans:he}).then(function(ve){return 0<ve.numFailures?Promise.reject(ve.failures[0]):ce.length<ue?{failures:[],numFailures:0,lastResult:void 0}:J(he,r(r({},oe),{lower:ce[ce.length-1],lowerOpen:!0}),ue)})})}(P.trans,P.range,1e4)},!0)}return E.mutate(P);function de(J){var he,oe,ue,pe=Ve.trans,ce=J.keys||gu(N,J);if(!ce)throw new Error("Keys missing");return(J=J.type==="add"||J.type==="put"?r(r({},J),{keys:ce}):r({},J)).type!=="delete"&&(J.values=i([],J.values)),J.keys&&(J.keys=i([],J.keys)),he=E,ue=ce,((oe=J).type==="add"?Promise.resolve([]):he.getMany({trans:oe.trans,keys:ue,cache:"immutable"})).then(function(ve){var we=ce.map(function(Se,ke){var De,Ue,Le,Be=ve[ke],We={onerror:null,onsuccess:null};return J.type==="delete"?Y.fire.call(We,Se,Be,pe):J.type==="add"||Be===void 0?(De=se.fire.call(We,Se,J.values[ke],pe),Se==null&&De!=null&&(J.keys[ke]=Se=De,N.outbound||A(J.values[ke],N.keyPath,Se))):(De=xf(Be,J.values[ke]),(Ue=ae.fire.call(We,De,Se,Be,pe))&&(Le=J.values[ke],Object.keys(Ue).forEach(function(ze){p(Le,ze)?Le[ze]=Ue[ze]:A(Le,ze,Ue[ze])}))),We});return E.mutate(J).then(function(Se){for(var ke=Se.failures,De=Se.results,Ue=Se.numFailures,Se=Se.lastResult,Le=0;Le<ce.length;++Le){var Be=(De||ce)[Le],We=we[Le];Be==null?We.onerror&&We.onerror(ke[Le]):We.onsuccess&&We.onsuccess(J.type==="put"&&ve[Le]?J.values[Le]:Be)}return{failures:ke,results:De,numFailures:Ue,lastResult:Se}}).catch(function(Se){return we.forEach(function(ke){return ke.onerror&&ke.onerror(Se)}),Promise.reject(Se)})})}}})}})}};function Wp(v,w,E){try{if(!w||w.keys.length<v.length)return null;for(var N=[],P=0,L=0;P<w.keys.length&&L<v.length;++P)mt(w.keys[P],v[L])===0&&(N.push(E?re(w.values[P]):w.values[P]),++L);return N.length===v.length?N:null}catch{return null}}var hy={stack:"dbcore",level:-1,create:function(v){return{table:function(w){var E=v.table(w);return r(r({},E),{getMany:function(N){if(!N.cache)return E.getMany(N);var P=Wp(N.keys,N.trans._cache,N.cache==="clone");return P?Qe.resolve(P):E.getMany(N).then(function(L){return N.trans._cache={keys:N.keys,values:N.cache==="clone"?re(L):L},L})},mutate:function(N){return N.type!=="add"&&(N.trans._cache=null),E.mutate(N)}})}}}};function qp(v,w){return v.trans.mode==="readonly"&&!!v.subscr&&!v.trans.explicit&&v.trans.db._options.cache!=="disabled"&&!w.schema.primaryKey.outbound}function Vp(v,w){switch(v){case"query":return w.values&&!w.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var py={stack:"dbcore",level:0,name:"Observability",create:function(v){var w=v.schema.name,E=new Jn(v.MIN_KEY,v.MAX_KEY);return r(r({},v),{transaction:function(N,P,L){if(Ve.subscr&&P!=="readonly")throw new Ne.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(Ve.querier));return v.transaction(N,P,L)},table:function(N){var P=v.table(N),L=P.schema,W=L.primaryKey,J=L.indexes,Y=W.extractKey,se=W.outbound,ae=W.autoIncrement&&J.filter(function(oe){return oe.compound&&oe.keyPath.includes(W.keyPath)}),de=r(r({},P),{mutate:function(oe){function ue(ze){return ze="idb://".concat(w,"/").concat(N,"/").concat(ze),Se[ze]||(Se[ze]=new Jn)}var pe,ce,ve,we=oe.trans,Se=oe.mutatedParts||(oe.mutatedParts={}),ke=ue(""),De=ue(":dels"),Ue=oe.type,We=oe.type==="deleteRange"?[oe.range]:oe.type==="delete"?[oe.keys]:oe.values.length<50?[gu(W,oe).filter(function(ze){return ze}),oe.values]:[],Le=We[0],Be=We[1],We=oe.trans._cache;return a(Le)?(ke.addKeys(Le),(We=Ue==="delete"||Le.length===Be.length?Wp(Le,We):null)||De.addKeys(Le),(We||Be)&&(pe=ue,ce=We,ve=Be,L.indexes.forEach(function(ze){var Xe=pe(ze.name||"");function St(Dt){return Dt!=null?ze.extractKey(Dt):null}function Tt(Dt){return ze.multiEntry&&a(Dt)?Dt.forEach(function($r){return Xe.addKey($r)}):Xe.addKey(Dt)}(ce||ve).forEach(function(Dt,ur){var _t=ce&&St(ce[ur]),ur=ve&&St(ve[ur]);mt(_t,ur)!==0&&(_t!=null&&Tt(_t),ur!=null&&Tt(ur))})}))):Le?(Be={from:(Be=Le.lower)!==null&&Be!==void 0?Be:v.MIN_KEY,to:(Be=Le.upper)!==null&&Be!==void 0?Be:v.MAX_KEY},De.add(Be),ke.add(Be)):(ke.add(E),De.add(E),L.indexes.forEach(function(ze){return ue(ze.name).add(E)})),P.mutate(oe).then(function(ze){return!Le||oe.type!=="add"&&oe.type!=="put"||(ke.addKeys(ze.results),ae&&ae.forEach(function(Xe){for(var St=oe.values.map(function(_t){return Xe.extractKey(_t)}),Tt=Xe.keyPath.findIndex(function(_t){return _t===W.keyPath}),Dt=0,$r=ze.results.length;Dt<$r;++Dt)St[Dt][Tt]=ze.results[Dt];ue(Xe.name).addKeys(St)})),we.mutatedParts=fu(we.mutatedParts||{},Se),ze})}}),J=function(ue){var pe=ue.query,ue=pe.index,pe=pe.range;return[ue,new Jn((ue=pe.lower)!==null&&ue!==void 0?ue:v.MIN_KEY,(pe=pe.upper)!==null&&pe!==void 0?pe:v.MAX_KEY)]},he={get:function(oe){return[W,new Jn(oe.key)]},getMany:function(oe){return[W,new Jn().addKeys(oe.keys)]},count:J,query:J,openCursor:J};return o(he).forEach(function(oe){de[oe]=function(ue){var pe=Ve.subscr,ce=!!pe,ve=qp(Ve,P)&&Vp(oe,ue)?ue.obsSet={}:pe;if(ce){var we=function(Be){return Be="idb://".concat(w,"/").concat(N,"/").concat(Be),ve[Be]||(ve[Be]=new Jn)},Se=we(""),ke=we(":dels"),pe=he[oe](ue),ce=pe[0],pe=pe[1];if((oe==="query"&&ce.isPrimaryKey&&!ue.values?ke:we(ce.name||"")).add(pe),!ce.isPrimaryKey){if(oe!=="count"){var De=oe==="query"&&se&&ue.values&&P.query(r(r({},ue),{values:!1}));return P[oe].apply(this,arguments).then(function(Be){if(oe==="query"){if(se&&ue.values)return De.then(function(St){return St=St.result,Se.addKeys(St),Be});var We=ue.values?Be.result.map(Y):Be.result;(ue.values?Se:ke).addKeys(We)}else if(oe==="openCursor"){var ze=Be,Xe=ue.values;return ze&&Object.create(ze,{key:{get:function(){return ke.addKey(ze.primaryKey),ze.key}},primaryKey:{get:function(){var St=ze.primaryKey;return ke.addKey(St),St}},value:{get:function(){return Xe&&Se.addKey(ze.primaryKey),ze.value}}})}return Be})}ke.add(E)}}return P[oe].apply(this,arguments)}}),de}})}};function Qp(v,w,E){if(E.numFailures===0)return w;if(w.type==="deleteRange")return null;var N=w.keys?w.keys.length:"values"in w&&w.values?w.values.length:1;return E.numFailures===N?null:(w=r({},w),a(w.keys)&&(w.keys=w.keys.filter(function(P,L){return!(L in E.failures)})),"values"in w&&a(w.values)&&(w.values=w.values.filter(function(P,L){return!(L in E.failures)})),w)}function zl(v,w){return E=v,((N=w).lower===void 0||(N.lowerOpen?0<mt(E,N.lower):0<=mt(E,N.lower)))&&(v=v,(w=w).upper===void 0||(w.upperOpen?mt(v,w.upper)<0:mt(v,w.upper)<=0));var E,N}function ka(v,w,he,N,P,L){if(!he||he.length===0)return v;var W=w.query.index,Y=W.multiEntry,se=w.query.range,ae=N.schema.primaryKey.extractKey,de=W.extractKey,J=(W.lowLevelIndex||W).extractKey,he=he.reduce(function(oe,ue){var pe=oe,ce=[];if(ue.type==="add"||ue.type==="put")for(var ve=new Jn,we=ue.values.length-1;0<=we;--we){var Se,ke=ue.values[we],De=ae(ke);ve.hasKey(De)||(Se=de(ke),(Y&&a(Se)?Se.some(function(ze){return zl(ze,se)}):zl(Se,se))&&(ve.addKey(De),ce.push(ke)))}switch(ue.type){case"add":var Ue=new Jn().addKeys(w.values?oe.map(function(Xe){return ae(Xe)}):oe),pe=oe.concat(w.values?ce.filter(function(Xe){return Xe=ae(Xe),!Ue.hasKey(Xe)&&(Ue.addKey(Xe),!0)}):ce.map(function(Xe){return ae(Xe)}).filter(function(Xe){return!Ue.hasKey(Xe)&&(Ue.addKey(Xe),!0)}));break;case"put":var Le=new Jn().addKeys(ue.values.map(function(Xe){return ae(Xe)}));pe=oe.filter(function(Xe){return!Le.hasKey(w.values?ae(Xe):Xe)}).concat(w.values?ce:ce.map(function(Xe){return ae(Xe)}));break;case"delete":var Be=new Jn().addKeys(ue.keys);pe=oe.filter(function(Xe){return!Be.hasKey(w.values?ae(Xe):Xe)});break;case"deleteRange":var We=ue.range;pe=oe.filter(function(Xe){return!zl(ae(Xe),We)})}return pe},v);return he===v?v:(he.sort(function(oe,ue){return mt(J(oe),J(ue))||mt(ae(oe),ae(ue))}),w.limit&&w.limit<1/0&&(he.length>w.limit?he.length=w.limit:v.length===w.limit&&he.length<w.limit&&(P.dirty=!0)),L?Object.freeze(he):he)}function Kp(v,w){return mt(v.lower,w.lower)===0&&mt(v.upper,w.upper)===0&&!!v.lowerOpen==!!w.lowerOpen&&!!v.upperOpen==!!w.upperOpen}function Gp(v,w){return function(E,N,P,L){if(E===void 0)return N!==void 0?-1:0;if(N===void 0)return 1;if((N=mt(E,N))===0){if(P&&L)return 0;if(P)return 1;if(L)return-1}return N}(v.lower,w.lower,v.lowerOpen,w.lowerOpen)<=0&&0<=function(E,N,P,L){if(E===void 0)return N!==void 0?1:0;if(N===void 0)return-1;if((N=mt(E,N))===0){if(P&&L)return 0;if(P)return-1;if(L)return 1}return N}(v.upper,w.upper,v.upperOpen,w.upperOpen)}function Yp(v,w,E,N){v.subscribers.add(E),N.addEventListener("abort",function(){var P,L;v.subscribers.delete(E),v.subscribers.size===0&&(P=v,L=w,setTimeout(function(){P.subscribers.size===0&&ee(L,P)},3e3))})}var Xp={stack:"dbcore",level:0,name:"Cache",create:function(v){var w=v.schema.name;return r(r({},v),{transaction:function(E,N,P){var L,W,Y=v.transaction(E,N,P);return N==="readwrite"&&(W=(L=new AbortController).signal,P=function(se){return function(){if(L.abort(),N==="readwrite"){for(var ae=new Set,de=0,J=E;de<J.length;de++){var he=J[de],oe=Po["idb://".concat(w,"/").concat(he)];if(oe){var ue=v.table(he),pe=oe.optimisticOps.filter(function(Xe){return Xe.trans===Y});if(Y._explicit&&se&&Y.mutatedParts)for(var ce=0,ve=Object.values(oe.queries.query);ce<ve.length;ce++)for(var we=0,Se=(Ue=ve[ce]).slice();we<Se.length;we++)gf((Le=Se[we]).obsSet,Y.mutatedParts)&&(ee(Ue,Le),Le.subscribers.forEach(function(Xe){return ae.add(Xe)}));else if(0<pe.length){oe.optimisticOps=oe.optimisticOps.filter(function(Xe){return Xe.trans!==Y});for(var ke=0,De=Object.values(oe.queries.query);ke<De.length;ke++)for(var Ue,Le,Be,We=0,ze=(Ue=De[ke]).slice();We<ze.length;We++)(Le=ze[We]).res!=null&&Y.mutatedParts&&(se&&!Le.dirty?(Be=Object.isFrozen(Le.res),Be=ka(Le.res,Le.req,pe,ue,Le,Be),Le.dirty?(ee(Ue,Le),Le.subscribers.forEach(function(Xe){return ae.add(Xe)})):Be!==Le.res&&(Le.res=Be,Le.promise=Qe.resolve({result:Be}))):(Le.dirty&&ee(Ue,Le),Le.subscribers.forEach(function(Xe){return ae.add(Xe)})))}}}ae.forEach(function(Xe){return Xe()})}}},Y.addEventListener("abort",P(!1),{signal:W}),Y.addEventListener("error",P(!1),{signal:W}),Y.addEventListener("complete",P(!0),{signal:W})),Y},table:function(E){var N=v.table(E),P=N.schema.primaryKey;return r(r({},N),{mutate:function(L){var W=Ve.trans;if(P.outbound||W.db._options.cache==="disabled"||W.explicit||W.idbtrans.mode!=="readwrite")return N.mutate(L);var Y=Po["idb://".concat(w,"/").concat(E)];return Y?(W=N.mutate(L),L.type!=="add"&&L.type!=="put"||!(50<=L.values.length||gu(P,L).some(function(se){return se==null}))?(Y.optimisticOps.push(L),L.mutatedParts&&pu(L.mutatedParts),W.then(function(se){0<se.numFailures&&(ee(Y.optimisticOps,L),(se=Qp(0,L,se))&&Y.optimisticOps.push(se),L.mutatedParts&&pu(L.mutatedParts))}),W.catch(function(){ee(Y.optimisticOps,L),L.mutatedParts&&pu(L.mutatedParts)})):W.then(function(se){var ae=Qp(0,r(r({},L),{values:L.values.map(function(de,J){var he;return se.failures[J]?de:(de=(he=P.keyPath)!==null&&he!==void 0&&he.includes(".")?re(de):r({},de),A(de,P.keyPath,se.results[J]),de)})}),se);Y.optimisticOps.push(ae),queueMicrotask(function(){return L.mutatedParts&&pu(L.mutatedParts)})}),W):N.mutate(L)},query:function(L){if(!qp(Ve,N)||!Vp("query",L))return N.query(L);var W=((ae=Ve.trans)===null||ae===void 0?void 0:ae.db._options.cache)==="immutable",J=Ve,Y=J.requery,se=J.signal,ae=function(ue,pe,ce,ve){var we=Po["idb://".concat(ue,"/").concat(pe)];if(!we)return[];if(!(pe=we.queries[ce]))return[null,!1,we,null];var Se=pe[(ve.query?ve.query.index.name:null)||""];if(!Se)return[null,!1,we,null];switch(ce){case"query":var ke=Se.find(function(De){return De.req.limit===ve.limit&&De.req.values===ve.values&&Kp(De.req.query.range,ve.query.range)});return ke?[ke,!0,we,Se]:[Se.find(function(De){return("limit"in De.req?De.req.limit:1/0)>=ve.limit&&(!ve.values||De.req.values)&&Gp(De.req.query.range,ve.query.range)}),!1,we,Se];case"count":return ke=Se.find(function(De){return Kp(De.req.query.range,ve.query.range)}),[ke,!!ke,we,Se]}}(w,E,"query",L),de=ae[0],J=ae[1],he=ae[2],oe=ae[3];return de&&J?de.obsSet=L.obsSet:(J=N.query(L).then(function(ue){var pe=ue.result;if(de&&(de.res=pe),W){for(var ce=0,ve=pe.length;ce<ve;++ce)Object.freeze(pe[ce]);Object.freeze(pe)}else ue.result=re(pe);return ue}).catch(function(ue){return oe&&de&&ee(oe,de),Promise.reject(ue)}),de={obsSet:L.obsSet,promise:J,subscribers:new Set,type:"query",req:L,dirty:!1},oe?oe.push(de):(oe=[de],(he=he||(Po["idb://".concat(w,"/").concat(E)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[L.query.index.name||""]=oe)),Yp(de,oe,Y,se),de.promise.then(function(ue){return{result:ka(ue.result,L,he?.optimisticOps,N,de,W)}})}})}})}};function $l(v,w){return new Proxy(v,{get:function(E,N,P){return N==="db"?w:Reflect.get(E,N,P)}})}var as=(bn.prototype.version=function(v){if(isNaN(v)||v<.1)throw new Ne.Type("Given version is not a positive number");if(v=Math.round(10*v)/10,this.idbdb||this._state.isBeingOpened)throw new Ne.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,v);var w=this._versions,E=w.filter(function(N){return N._cfg.version===v})[0];return E||(E=new this.Version(v),w.push(E),w.sort(zp),E.stores({}),this._state.autoSchema=!1,E)},bn.prototype._whenReady=function(v){var w=this;return this.idbdb&&(this._state.openComplete||Ve.letThrough||this._vip)?v():new Qe(function(E,N){if(w._state.openComplete)return N(new Ne.DatabaseClosed(w._state.dbOpenError));if(!w._state.isBeingOpened){if(!w._state.autoOpen)return void N(new Ne.DatabaseClosed);w.open().catch(It)}w._state.dbReadyPromise.then(E,N)}).then(v)},bn.prototype.use=function(v){var w=v.stack,E=v.create,N=v.level,P=v.name;return P&&this.unuse({stack:w,name:P}),v=this._middlewares[w]||(this._middlewares[w]=[]),v.push({stack:w,create:E,level:N??10,name:P}),v.sort(function(L,W){return L.level-W.level}),this},bn.prototype.unuse=function(v){var w=v.stack,E=v.name,N=v.create;return w&&this._middlewares[w]&&(this._middlewares[w]=this._middlewares[w].filter(function(P){return N?P.create!==N:!!E&&P.name!==E})),this},bn.prototype.open=function(){var v=this;return wr(br,function(){return uy(v)})},bn.prototype._close=function(){var v=this._state,w=ri.indexOf(this);if(0<=w&&ri.splice(w,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}v.isBeingOpened||(v.dbReadyPromise=new Qe(function(E){v.dbReadyResolve=E}),v.openCanceller=new Qe(function(E,N){v.cancelOpen=N}))},bn.prototype.close=function(E){var w=(E===void 0?{disableAutoOpen:!0}:E).disableAutoOpen,E=this._state;w?(E.isBeingOpened&&E.cancelOpen(new Ne.DatabaseClosed),this._close(),E.autoOpen=!1,E.dbOpenError=new Ne.DatabaseClosed):(this._close(),E.autoOpen=this._options.autoOpen||E.isBeingOpened,E.openComplete=!1,E.dbOpenError=null)},bn.prototype.delete=function(v){var w=this;v===void 0&&(v={disableAutoOpen:!0});var E=0<arguments.length&&typeof arguments[0]!="object",N=this._state;return new Qe(function(P,L){function W(){w.close(v);var Y=w._deps.indexedDB.deleteDatabase(w.name);Y.onsuccess=je(function(){var se,ae,de;se=w._deps,ae=w.name,de=se.indexedDB,se=se.IDBKeyRange,Dl(de)||ae===ss||mf(de,se).delete(ae).catch(It),P()}),Y.onerror=zr(L),Y.onblocked=w._fireOnBlocked}if(E)throw new Ne.InvalidArgument("Invalid closeOptions argument to db.delete()");N.isBeingOpened?N.dbReadyPromise.then(W):W()})},bn.prototype.backendDB=function(){return this.idbdb},bn.prototype.isOpen=function(){return this.idbdb!==null},bn.prototype.hasBeenClosed=function(){var v=this._state.dbOpenError;return v&&v.name==="DatabaseClosed"},bn.prototype.hasFailed=function(){return this._state.dbOpenError!==null},bn.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(bn.prototype,"tables",{get:function(){var v=this;return o(this._allTables).map(function(w){return v._allTables[w]})},enumerable:!1,configurable:!0}),bn.prototype.transaction=function(){var v=(function(w,E,N){var P=arguments.length;if(P<2)throw new Ne.InvalidArgument("Too few arguments");for(var L=new Array(P-1);--P;)L[P-1]=arguments[P];return N=L.pop(),[w,D(L),N]}).apply(this,arguments);return this._transaction.apply(this,v)},bn.prototype._transaction=function(v,w,E){var N=this,P=Ve.trans;P&&P.db===this&&v.indexOf("!")===-1||(P=null);var L,W,Y=v.indexOf("?")!==-1;v=v.replace("!","").replace("?","");try{if(W=w.map(function(ae){if(ae=ae instanceof N.Table?ae.name:ae,typeof ae!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return ae}),v=="r"||v===qt)L=qt;else{if(v!="rw"&&v!=Vn)throw new Ne.InvalidArgument("Invalid transaction mode: "+v);L=Vn}if(P){if(P.mode===qt&&L===Vn){if(!Y)throw new Ne.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");P=null}P&&W.forEach(function(ae){if(P&&P.storeNames.indexOf(ae)===-1){if(!Y)throw new Ne.SubTransaction("Table "+ae+" not included in parent transaction.");P=null}}),Y&&P&&!P.active&&(P=null)}}catch(ae){return P?P._promise(null,function(de,J){J(ae)}):tn(ae)}var se=(function ae(de,J,he,oe,ue){return Qe.resolve().then(function(){var pe=Ve.transless||Ve,ce=de._createTransaction(J,he,de._dbSchema,oe);if(ce.explicit=!0,pe={trans:ce,transless:pe},oe)ce.idbtrans=oe.idbtrans;else try{ce.create(),ce.idbtrans._explicit=!0,de._state.PR1398_maxLoop=3}catch(Se){return Se.name===Ye.InvalidState&&de.isOpen()&&0<--de._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),de.close({disableAutoOpen:!1}),de.open().then(function(){return ae(de,J,he,null,ue)})):tn(Se)}var ve,we=G(ue);return we&&Pt(),pe=Qe.follow(function(){var Se;(ve=ue.call(ce,ce))&&(we?(Se=$t.bind(null,null),ve.then(Se,Se)):typeof ve.next=="function"&&typeof ve.throw=="function"&&(ve=Bl(ve)))},pe),(ve&&typeof ve.then=="function"?Qe.resolve(ve).then(function(Se){return ce.active?Se:tn(new Ne.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):pe.then(function(){return ve})).then(function(Se){return oe&&ce._resolve(),ce._completion.then(function(){return Se})}).catch(function(Se){return ce._reject(Se),tn(Se)})})}).bind(null,this,L,W,P,E);return P?P._promise(L,se,"lock"):Ve.trans?wr(Ve.transless,function(){return N._whenReady(se)}):this._whenReady(se)},bn.prototype.table=function(v){if(!p(this._allTables,v))throw new Ne.InvalidTable("Table ".concat(v," does not exist"));return this._allTables[v]},bn);function bn(v,w){var E=this;this._middlewares={},this.verno=0;var N=bn.dependencies;this._options=w=r({addons:bn.addons,autoOpen:!0,indexedDB:N.indexedDB,IDBKeyRange:N.IDBKeyRange,cache:"cloned"},w),this._deps={indexedDB:w.indexedDB,IDBKeyRange:w.IDBKeyRange},N=w.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var P,L,W,Y,se,ae={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:It,dbReadyPromise:null,cancelOpen:It,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:w.autoOpen};ae.dbReadyPromise=new Qe(function(J){ae.dbReadyResolve=J}),ae.openCanceller=new Qe(function(J,he){ae.cancelOpen=he}),this._state=ae,this.name=v,this.on=to(this,"populate","blocked","versionchange","close",{ready:[wt,It]}),this.on.ready.subscribe=O(this.on.ready.subscribe,function(J){return function(he,oe){bn.vip(function(){var ue,pe=E._state;pe.openComplete?(pe.dbOpenError||Qe.resolve().then(he),oe&&J(he)):pe.onReadyBeingFired?(pe.onReadyBeingFired.push(he),oe&&J(he)):(J(he),ue=E,oe||J(function ce(){ue.on.ready.unsubscribe(he),ue.on.ready.unsubscribe(ce)}))})}}),this.Collection=(P=this,js(mn.prototype,function(ve,ce){this.db=P;var oe=Ui,ue=null;if(ce)try{oe=ce()}catch(we){ue=we}var pe=ve._ctx,ce=pe.table,ve=ce.hook.reading.fire;this._ctx={table:ce,index:pe.index,isPrimKey:!pe.index||ce.schema.primKey.keyPath&&pe.index===ce.schema.primKey.name,range:oe,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:ue,or:pe.or,valueMapper:ve!==Cn?ve:null}})),this.Table=(L=this,js(Fp.prototype,function(J,he,oe){this.db=L,this._tx=oe,this.name=J,this.schema=he,this.hook=L._allTables[J]?L._allTables[J].hook:to(null,{creating:[Fi,It],reading:[sn,Cn],updating:[Bi,It],deleting:[ei,It]})})),this.Transaction=(W=this,js(Il.prototype,function(J,he,oe,ue,pe){var ce=this;this.db=W,this.mode=J,this.storeNames=he,this.schema=oe,this.chromeTransactionDurability=ue,this.idbtrans=null,this.on=to(this,"complete","error","abort"),this.parent=pe||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new Qe(function(ve,we){ce._resolve=ve,ce._reject=we}),this._completion.then(function(){ce.active=!1,ce.on.complete.fire()},function(ve){var we=ce.active;return ce.active=!1,ce.on.error.fire(ve),ce.parent?ce.parent._reject(ve):we&&ce.idbtrans&&ce.idbtrans.abort(),tn(ve)})})),this.Version=(Y=this,js(pf.prototype,function(J){this.db=Y,this._cfg={version:J,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(se=this,js(Rs.prototype,function(J,he,oe){if(this.db=se,this._ctx={table:J,index:he===":id"?null:he,or:oe},this._cmp=this._ascending=mt,this._descending=function(ue,pe){return mt(pe,ue)},this._max=function(ue,pe){return 0<mt(ue,pe)?ue:pe},this._min=function(ue,pe){return mt(ue,pe)<0?ue:pe},this._IDBKeyRange=se._deps.IDBKeyRange,!this._IDBKeyRange)throw new Ne.MissingAPI})),this.on("versionchange",function(J){0<J.newVersion?console.warn("Another connection wants to upgrade database '".concat(E.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(E.name,"'. Closing db now to resume the delete request.")),E.close({disableAutoOpen:!1})}),this.on("blocked",function(J){!J.newVersion||J.newVersion<J.oldVersion?console.warn("Dexie.delete('".concat(E.name,"') was blocked")):console.warn("Upgrade '".concat(E.name,"' blocked by other connection holding version ").concat(J.oldVersion/10))}),this._maxKey=Pl(w.IDBKeyRange),this._createTransaction=function(J,he,oe,ue){return new E.Transaction(J,he,oe,E._options.chromeTransactionDurability,ue)},this._fireOnBlocked=function(J){E.on("blocked").fire(J),ri.filter(function(he){return he.name===E.name&&he!==E&&!he._state.vcFired}).map(function(he){return he.on("versionchange").fire(J)})},this.use(hy),this.use(Xp),this.use(py),this.use(dy),this.use(fy);var de=new Proxy(this,{get:function(J,he,oe){if(he==="_vip")return!0;if(he==="table")return function(pe){return $l(E.table(pe),de)};var ue=Reflect.get(J,he,oe);return ue instanceof Fp?$l(ue,de):he==="tables"?ue.map(function(pe){return $l(pe,de)}):he==="_createTransaction"?function(){return $l(ue.apply(this,arguments),de)}:ue}});this.vip=de,N.forEach(function(J){return J(E)})}var yu,vi=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",my=(vu.prototype.subscribe=function(v,w,E){return this._subscribe(v&&typeof v!="function"?v:{next:v,error:w,complete:E})},vu.prototype[vi]=function(){return this},vu);function vu(v){this._subscribe=v}try{yu={indexedDB:s.indexedDB||s.mozIndexedDB||s.webkitIndexedDB||s.msIndexedDB,IDBKeyRange:s.IDBKeyRange||s.webkitIDBKeyRange}}catch{yu={indexedDB:null,IDBKeyRange:null}}function bf(v){var w,E=!1,N=new my(function(P){var L=G(v),W,Y=!1,se={},ae={},de={get closed(){return Y},unsubscribe:function(){Y||(Y=!0,W&&W.abort(),J&&Os.storagemutated.unsubscribe(oe))}};P.start&&P.start(de);var J=!1,he=function(){return ni(ue)},oe=function(pe){fu(se,pe),gf(ae,se)&&he()},ue=function(){var pe,ce,ve;!Y&&yu.indexedDB&&(se={},pe={},W&&W.abort(),W=new AbortController,ve=function(we){var Se=te();try{L&&Pt();var ke=tt(v,we);return ke=L?ke.finally($t):ke}finally{Se&&me()}}(ce={subscr:pe,signal:W.signal,requery:he,querier:v,trans:null}),Promise.resolve(ve).then(function(we){E=!0,w=we,Y||ce.signal.aborted||(se={},function(Se){for(var ke in Se)if(p(Se,ke))return;return 1}(ae=pe)||J||(Os(yi,oe),J=!0),ni(function(){return!Y&&P.next&&P.next(we)}))},function(we){E=!1,["DatabaseClosedError","AbortError"].includes(we?.name)||Y||ni(function(){Y||P.error&&P.error(we)})}))};return setTimeout(he,0),de});return N.hasValue=function(){return E},N.getValue=function(){return w},N}var Wi=as;function Oo(v){var w=qi;try{qi=!0,Os.storagemutated.fire(v),vf(v,!0)}finally{qi=w}}g(Wi,r(r({},xn),{delete:function(v){return new Wi(v,{addons:[]}).delete()},exists:function(v){return new Wi(v,{addons:[]}).open().then(function(w){return w.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(v){try{return w=Wi.dependencies,E=w.indexedDB,w=w.IDBKeyRange,(Dl(E)?Promise.resolve(E.databases()).then(function(N){return N.map(function(P){return P.name}).filter(function(P){return P!==ss})}):mf(E,w).toCollection().primaryKeys()).then(v)}catch{return tn(new Ne.MissingAPI)}var w,E},defineClass:function(){return function(v){l(this,v)}},ignoreTransaction:function(v){return Ve.trans?wr(Ve.transless,v):v()},vip:Ll,async:function(v){return function(){try{var w=Bl(v.apply(this,arguments));return w&&typeof w.then=="function"?w:Qe.resolve(w)}catch(E){return tn(E)}}},spawn:function(v,w,E){try{var N=Bl(v.apply(E,w||[]));return N&&typeof N.then=="function"?N:Qe.resolve(N)}catch(P){return tn(P)}},currentTransaction:{get:function(){return Ve.trans||null}},waitFor:function(v,w){return w=Qe.resolve(typeof v=="function"?Wi.ignoreTransaction(v):v).timeout(w||6e4),Ve.trans?Ve.trans.waitFor(w):w},Promise:Qe,debug:{get:function(){return on},set:function(v){pt(v)}},derive:_,extend:l,props:g,override:O,Events:to,on:Os,liveQuery:bf,extendObservabilitySet:fu,getByKeyPath:j,setByKeyPath:A,delByKeyPath:function(v,w){typeof w=="string"?A(v,w,void 0):"length"in w&&[].map.call(w,function(E){A(v,E,void 0)})},shallowClone:B,deepClone:re,getObjectDiff:xf,cmp:mt,asap:z,minKey:-1/0,addons:[],connections:ri,errnames:Ye,dependencies:yu,cache:Po,semVer:"4.0.11",version:"4.0.11".split(".").map(function(v){return parseInt(v)}).reduce(function(v,w,E){return v+w/Math.pow(10,2*E)})})),Wi.maxKey=Pl(Wi.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(Os(yi,function(v){qi||(v=new CustomEvent(ff,{detail:v}),qi=!0,dispatchEvent(v),qi=!1)}),addEventListener(ff,function(v){v=v.detail,qi||Oo(v)}));var Ea,qi=!1,Jp=function(){};return typeof BroadcastChannel<"u"&&((Jp=function(){(Ea=new BroadcastChannel(ff)).onmessage=function(v){return v.data&&Oo(v.data)}})(),typeof Ea.unref=="function"&&Ea.unref(),Os(yi,function(v){qi||Ea.postMessage(v)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(v){if(!as.disableBfCache&&v.persisted){on&&console.debug("Dexie: handling persisted pagehide"),Ea?.close();for(var w=0,E=ri;w<E.length;w++)E[w].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(v){!as.disableBfCache&&v.persisted&&(on&&console.debug("Dexie: handling persisted pageshow"),Jp(),Oo({all:new Jn(-1/0,[[]])}))})),Qe.rejectionMapper=function(v,w){return!v||v instanceof H||v instanceof TypeError||v instanceof SyntaxError||!v.name||!ct[v.name]?v:(w=new ct[v.name](w||v.message,v),"stack"in v&&b(w,"stack",{get:function(){return this.inner.stack}}),w)},pt(on),r(as,Object.freeze({__proto__:null,Dexie:as,liveQuery:bf,Entity:ko,cmp:mt,PropModification:Nl,replacePrefix:function(v,w){return new Nl({replacePrefix:[v,w]})},add:function(v){return new Nl({add:v})},remove:function(v){return new Nl({remove:v})},default:as,RangeSet:Jn,mergeRanges:Fl,rangesOverlap:$p}),{default:as}),as})}(a0)),a0.exports}var VJ=qJ();const v2=Di(VJ),pk=Symbol.for("Dexie"),G0=globalThis[pk]||(globalThis[pk]=v2);if(v2.semVer!==G0.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${v2.semVer} and ${G0.semVer}`);const{liveQuery:QJ,mergeRanges:Jfe,rangesOverlap:Zfe,RangeSet:ehe,cmp:the,Entity:nhe,PropModification:rhe,replacePrefix:ihe,add:she,remove:ohe}=G0;class KJ extends G0{interested_snapshot;interested_subject;simulation_run;simulation_run_selections;simulation_run_events;constructor(){super("ALLCLL_Simulation"),this.version(1).stores({interested_snapshot:"++snapshot_id,user_id,created_at,simulated",interested_subject:"++interested_id,snapshot_id,subject_id",simulation_run:"++simulation_run_id,snapshot_id,user_id,department_name,success_subject_count,subject_count,accuracy,score,total_elapsed,started_at,ended_at",simulation_run_selections:"++run_selections_id,simulation_run_id,interested_id,selected_index,status,started_at,ended_at",simulation_run_events:"++event_id,simulation_section_id,event_type,timestamp"})}}const He=new KJ;async function Wj(){const e=await He.interested_snapshot.orderBy("created_at").last();if(!e)return null;const t=await He.interested_subject.where("snapshot_id").equals(e.snapshot_id).toArray();return{...e,subjects:t}}async function qj(e){const t=await He.interested_snapshot.get(e);if(!t)return null;const n=await He.interested_subject.where("snapshot_id").equals(e).toArray();return{...t,subjects:n}}async function GJ(e){const t=await He.interested_snapshot.orderBy("created_at").last(),n=t&&!t.simulated?t.snapshot_id:await He.interested_snapshot.add({user_id:"Todo: user_id",created_at:Date.now(),simulated:!1});t&&!t.simulated&&(await He.interested_snapshot.update(t.snapshot_id,{created_at:Date.now()}),await He.interested_subject.where("snapshot_id").equals(t.snapshot_id).delete()),await He.interested_subject.bulkAdd(e.map(r=>({snapshot_id:n,subject_id:r})))}async function mk(e,t){const n=await He.interested_subject.where("snapshot_id").equals(e).filter(r=>r.subject_id===t).first();return n?n.interested_id:-1}async function YJ(){const e=await Zh();if("errMsg"in e)throw new Error(e.errMsg);return e}const XJ=["","","1","","","","","","","","","","","","","","","English Listening","English Reading"],JJ=(e,t,n)=>{const r=e.find(s=>s.subjectId===t);let i=40;return r?.departmentName===""&&(XJ.includes(r.subjectName)?i=4.6*3:i=4.6*4),console.log(n,i),n<i},H1=Fr(e=>({currentSubjectId:0,isCaptchaFailed:!1,subjectStatusMap:{},setCurrentSubjectId:t=>e({currentSubjectId:t}),setSubjectStatus:(t,n)=>e(r=>({subjectStatusMap:{...r.subjectStatusMap,[t]:n}})),setCaptchaFailed:t=>e({isCaptchaFailed:t})}));var ar=(e=>(e[e.SEARCH=0]="SEARCH",e[e.APPLY=1]="APPLY",e[e.CAPTCHA=2]="CAPTCHA",e[e.CANCEL_SUBMIT=3]="CANCEL_SUBMIT",e[e.SUBJECT_SUBMIT=4]="SUBJECT_SUBMIT",e[e.REFRESH=5]="REFRESH",e[e.SKIP_REFRESH=6]="SKIP_REFRESH",e))(ar||{}),un=(e=>(e[e.PROGRESS=0]="PROGRESS",e[e.SUCCESS=1]="SUCCESS",e[e.FAILED=2]="FAILED",e[e.DOUBLED=3]="DOUBLED",e[e.CAPTCHA_FAILED=4]="CAPTCHA_FAILED",e[e.NOT_ELIGIBLE=5]="NOT_ELIGIBLE",e[e.CANCELED=6]="CANCELED",e))(un||{}),Vj=(e=>(e.SNAPSHOT_NOT_EXIST="SNAPSHOT_NOT_EXIST",e.ONGOING_SIMULATION_NOT_FOUND="ONGOING_SIMULATION_NOT_FOUND",e.SELECTION_NOT_FOUND="SELECTION_NOT_FOUND",e.SIMULATION_NOT_FOUND="SIMULATION_NOT_FOUND",e.MULTIPLE_SIMULATION_FOUND="MULTIPLE_SIMULATION_FOUND",e.SIMULATION_IS_NOT_FINISHED="SIMULATION_IS_NOT_FINISHED",e.MULTIPLE_SIMULATION_RUNNING="MULTIPLE_SIMULATION_RUNNING",e.UNKNOWN_ERROR="UNKNOWN_ERROR",e))(Vj||{});const T_=300,ZJ=T_*1e3;function ml(e){return{errMsg:e}}function Qj(e){return e instanceof Error?ml(e.message):ml("UNKNOWN_ERROR")}async function Zh(){try{const e=await W1();if(!e)return{simulationId:-1};const t=await He.simulation_run_selections.filter(a=>q1(a,e.simulation_run_id)).toArray(),n=await He.interested_subject.where("snapshot_id").equals(e.snapshot_id).toArray();if(!n)return ml("SNAPSHOT_NOT_EXIST");const r=t.filter(a=>a.status===1),i=n.filter(a=>r.some(l=>l.interested_id===a.interested_id)).map(a=>({subjectId:a.subject_id})),s=n.filter(a=>!r.some(l=>l.interested_id===a.interested_id)).map(a=>({subjectId:a.subject_id})),o=t.map(a=>{const l=n.find(u=>u.interested_id===a.interested_id);return l?{subjectId:l.subject_id,status:a.status}:{subjectId:-1,status:2}});return{simulationId:e.simulation_run_id,userStatus:{userPK:e.user_id,departmentCode:e.department_code,departmentName:e.department_name},searchEventAt:e.search_event_at,startedAt:e.started_at,nonRegisteredSubjects:s,registeredSubjects:i,subjectStatus:o}}catch(e){return Qj(e)}}async function W1(){const e=await He.simulation_run.filter(t=>t.ended_at===-1).toArray();if(e&&e.length>1)throw new Error("MULTIPLE_SIMULATION_RUNNING");return e[0]??null}async function eZ(e){const t=await He.simulation_run.where("simulation_run_id").equals(e).filter(n=>n.ended_at!==-1).toArray();if(!t.length)throw new Error("SIMULATION_NOT_FOUND");if(t.length>1)throw new Error("MULTIPLE_SIMULATION_FOUND");return t[0]}async function tZ(e,t,n){const r=await Zh();if(r&&"errMsg"in r)return r;if(r.simulationId!==-1)return{simulationId:r.simulationId,isRunning:!0};const i=await Wj();if(!i)return ml("SNAPSHOT_NOT_EXIST");await He.interested_snapshot.update(i.snapshot_id,{simulated:!0});const s=i.subjects;return{simulationId:await He.simulation_run.add({snapshot_id:i.snapshot_id,user_id:e,department_code:t,department_name:n,success_subject_count:0,subject_count:s.length,accuracy:-1,score:-1,total_elapsed:-1,search_event_at:-1,started_at:Date.now(),ended_at:-1}),started_at:Date.now(),isRunning:!0}}async function Zo(e,t){const{eventType:n}=e;console.log("BUTTON EVENT",e);let r;try{if(r=await W1(),!r)throw new Error("ONGOING_SIMULATION_NOT_FOUND")}catch(u){return Qj(u)}const i=r.simulation_run_id;if(n===0){const u=Date.now();return await He.simulation_run.update(i,{search_event_at:u}),{elapsed_time:u-r.started_at}}const{subjectId:s}=e;if(n===1){const u=await He.simulation_run_selections.filter(p=>p.simulation_run_id===r.simulation_run_id&&p.ended_at>=0).count(),f=await He.simulation_run_selections.add({simulation_run_id:r.simulation_run_id,interested_id:await mk(r.snapshot_id,s),selected_index:u+1,status:0,started_at:Date.now(),ended_at:-1});return await He.simulation_run_events.add({simulation_section_id:f,event_type:n,timestamp:Date.now()}),{}}const o=await He.simulation_run_selections.filter(u=>u.simulation_run_id===i).toArray(),a=o.filter(u=>u.ended_at===-1).sort((u,f)=>f.started_at-u.started_at)[0];if(!a)return ml("SELECTION_NOT_FOUND");const l=Date.now();if(await He.simulation_run_events.add({simulation_section_id:a.run_selections_id,event_type:n,timestamp:l}),n===4){const u=await mk(r.snapshot_id,s);if(!await He.simulation_run_selections.filter(k=>k.simulation_run_id===i&&k.interested_id===u).last())return ml("SELECTION_NOT_FOUND");const p=async k=>(await He.simulation_run_selections.update(a.run_selections_id,{status:k}),console.log("saved section",a.run_selections_id,k),{status:k});if(H1.getState().isCaptchaFailed)return await p(4);if(o.some(k=>k.interested_id===u&&k.status===2))return await p(3),{status:2};if(o.some(k=>k.interested_id===u&&k.ended_at>=0&&q1(k,i)))return await p(3);const _=Math.floor(l-r.started_at)/1e3;return JJ(t,s,_)?await p(1):await p(2)}if(n===3&&await He.simulation_run_selections.update(a.run_selections_id,{status:6,ended_at:Date.now()}),n===5||n===6){await He.simulation_run_selections.update(a.run_selections_id,{ended_at:Date.now()});const u=await rZ();return u&&await Kj(),{finished:u}}return{}}async function Ic(){await Kj()}async function Kj(){const e=await He.simulation_run.filter(l=>l.ended_at<=-1).last();if(!e)return;const t=await He.simulation_run_selections.filter(l=>l.simulation_run_id===e.simulation_run_id).toArray(),n=t.filter(l=>q1(l,e.simulation_run_id)).length,i=t.filter(l=>sZ(l,e.simulation_run_id)).reduce((l,u)=>u.ended_at===-1?l+4600:l+(u.ended_at-u.started_at),0),s=Date.now()-e.started_at,o=dJ(s/1e3,i/1e3),a=z1(s/1e3/n)+uJ(o);await He.simulation_run.update(e.simulation_run_id,{ended_at:Date.now(),accuracy:o,score:Math.min(100,Math.max(0,a)),total_elapsed:s}),await iZ(e)}async function nZ({simulationId:e}){const t=await He.simulation_run.get(e);return t?t.ended_at===-1?ml("SIMULATION_IS_NOT_FINISHED"):{accuracy:t.accuracy,score:t.score,total_elapsed:t.total_elapsed}:ml("SIMULATION_NOT_FOUND")}async function rZ(){let e;try{e=await W1()}catch{return!0}if(!e)return!0;const t=await He.simulation_run_selections.filter(n=>q1(n,e.simulation_run_id)).toArray();return e.subject_count<=t.length}async function iZ(e){const t=e.simulation_run_id;return e.search_event_at<0?(await He.simulation_run_selections.where("simulation_run_id").equals(t).delete(),await He.simulation_run.delete(t),!0):(e.started_at+ZJ<Date.now()&&await He.simulation_run.update(t,{ended_at:Date.now()}),!1)}const Gj=(e,t)=>e.simulation_run_id===t,q1=(e,t)=>Gj(e,t)&&[1,2].includes(e.status),sZ=(e,t)=>Gj(e,t)&&![1,2].includes(e.status);function Xc(e){return e>5?"text-green-500 bg-green-100":e>0?"text-yellow-500 bg-yellow-100":e==0?"text-red-500 bg-red-100":"text-gray-500 bg-gray-100"}function Yj(e){return e>=100?"text-red-500 bg-red-100":e>=50?"text-yellow-500 bg-yellow-100":e>=0?"text-green-500 bg-green-100":"text-gray-500 bg-gray-100"}function oZ(e){return aZ(x2(e))}function x2(e){switch(e){case un.SUCCESS:return"green";case un.FAILED:return"red";case un.CAPTCHA_FAILED:return"orange";case un.PROGRESS:return"yellow";default:return"gray"}}function aZ(e){switch(e){case"green":return"bg-green-100 text-green-500";case"red":return"bg-red-100 text-red-500";case"orange":return"bg-orange-100 text-orange-500";case"yellow":return"bg-yellow-100 text-yellow-500";default:return"bg-gray-100 text-gray-500"}}function lZ(){return h.jsxs(Kc,{children:[h.jsx(N1,{title:"   ",subtitle:"    ,  ",href:"/live"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-6",children:[h.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[h.jsx("h2",{className:"text-lg font-semibold mb-2",children:"  "}),h.jsxs("p",{className:"text-gray-500",children:["   ,   ",h.jsx("span",{className:"text-blue-500 font-bold",children:""})," "]}),h.jsx("div",{className:"flex flex-col gap-4 mt-4",children:[{name:"",prof:"003281 | "},{name:"",prof:"004310 | LEE KANGWON"}].map(({name:e,prof:t})=>h.jsxs("div",{className:"bg-gray-50 shadow-sm rounded-lg p-4 w-full",children:[h.jsxs("div",{className:"flex justify-between mb-2",children:[h.jsx("h3",{className:"font-bold",children:e}),h.jsx(Xd,{})]}),h.jsxs("div",{className:"flex justify-between",children:[h.jsx("p",{className:"text-sm text-gray-500",children:t}),h.jsx("p",{className:"text-sm text-red-500 font-bold",children:": 0"})]})]},t))})]}),h.jsxs("div",{className:"bg-white p-6 shadow-md rounded-md",children:[h.jsx("h3",{className:"text-lg font-semibold",children:"  TOP 10"}),h.jsx("p",{className:"text-gray-500 mb-4",children:"    !"}),h.jsx("div",{className:"overflow-x-auto",children:h.jsxs("table",{className:"w-full bg-white rounded-lg text-sm",children:[h.jsx("thead",{children:h.jsxs("tr",{className:"bg-gray-50 z-10 text-nowrap",children:[h.jsx("th",{className:"px-4 py-2",children:""}),h.jsx("th",{className:"px-4 py-2",children:""}),h.jsx("th",{className:"px-4 py-2",children:""}),h.jsx("th",{className:"px-4 py-2",children:""})]})}),h.jsx("tbody",{children:[{id:"004310-004",name:"",prof:"",seats:22},{id:"003281-001",name:"",prof:"",seats:15},{id:"004118-007",name:"",prof:"Rajendra Dhakal",seats:6},{id:"009912-006",name:"C",prof:"",seats:5},{id:"007330-001",name:"",prof:"",seats:4}].map(({id:e,name:t,prof:n,seats:r},i)=>h.jsxs("tr",{className:"border-t border-gray-200 text-black",children:[h.jsx("td",{className:"px-4 py-2 text-center",children:e}),h.jsx("td",{className:"px-4 py-2 text-center",children:t}),h.jsx("td",{className:"px-4 py-2 text-center",children:n}),h.jsx("td",{className:"px-4 py-2 text-center font-bold",children:h.jsx("p",{className:`px-3 py-1 rounded-full text-xs font-bold ${Xc(r)}`,children:r})})]},"live-non-major-"+i))})]})})]})]})]})}const cZ=e=>I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:36,height:36,viewBox:"0 0 36 36",...e},I.createElement("g",{transform:"matrix(1,0,0,-1,0,72)"},I.createElement("path",{d:"M18,72Q22.9219,71.9297,27,69.6094Q31.0781,67.2188,33.6094,63Q36,58.710899999999995,36,54Q36,49.2891,33.6094,45Q31.0781,40.78125,27,38.39062Q22.9219,36.0703125,18,36Q13.0781,36.0703125,9,38.39062Q4.92188,40.78125,2.39062,45Q0,49.2891,0,54Q0,58.710899999999995,2.39062,63Q4.92188,67.2188,9,69.6094Q13.0781,71.9297,18,72ZM16.3125,63.5625L16.3125,54L16.3125,63.5625L16.3125,54Q16.3125,53.085899999999995,17.0859,52.5938L23.8359,48.0938Q25.1719,47.3203,26.1562,48.5859Q26.9297,49.9219,25.6641,50.9062L19.6875,54.914100000000005L19.6875,63.5625Q19.5469,65.1094,18,65.25Q16.4531,65.1094,16.3125,63.5625Z",fill:"#007AFF",fillOpacity:1,style:{mixBlendMode:"passthrough"}}))),uZ=e=>I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:36,height:36,viewBox:"0 0 36 36",...e},I.createElement("g",{transform:"matrix(1,0,0,-1,0,72)"},I.createElement("path",{d:"M25.8047,42.96094L7.03125,61.8047L25.8047,42.96094L7.03125,61.8047Q4.57031,58.4297,4.5,54Q4.64062,48.2344,8.4375,44.4375Q12.2344,40.64062,18,40.5Q22.4297,40.57031,25.8047,42.96094ZM29.0391,46.1953Q31.4297,49.5703,31.5,54Q31.3594,59.7656,27.5625,63.5625Q23.7656,67.3594,18,67.5Q13.5703,67.4297,10.1953,64.9688L29.0391,46.1953ZM0,54Q0.0703125,58.9219,2.39062,63Q4.78125,67.0781,9,69.6094Q13.2891,72,18,72Q22.7109,72,27,69.6094Q31.2188,67.0781,33.6094,63Q35.9297,58.9219,36,54Q35.9297,49.0781,33.6094,45Q32.4141,42.96094,30.7617,41.30859Q29.1094,39.65625,27,38.39062Q22.7109,36,18,36Q13.2891,36,9,38.39062Q4.78125,40.92188,2.39062,45Q0.0703125,49.0781,0,54Z",fill:"#007AFF",fillOpacity:1,style:{mixBlendMode:"passthrough"}}))),Xj=e=>I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:33.75,height:36,viewBox:"0 0 33.75 36",...e},I.createElement("defs",null,I.createElement("clipPath",{id:"master_svg0_85_3284"},I.createElement("rect",{x:0,y:0,width:33.75,height:36,rx:0}))),I.createElement("g",{clipPath:"url(#master_svg0_85_3284)"},I.createElement("g",{transform:"matrix(1,0,0,-1,0,69.046875)"},I.createElement("g",null,I.createElement("path",{d:"M6.25781,54.000037500000005Q7.10156,56.3906375,8.92969,58.2187375Q12.375,61.5234375,16.875,61.5234375Q21.375,61.5234375,24.8203,58.2187375L26.0156,57.0234375L23.625,57.0234375Q22.6406,57.0234375,22.0078,56.3906375Q21.375,55.7578375,21.375,54.7734375Q21.375,53.7890375,22.0078,53.1562375Q22.6406,52.5234375,23.625,52.5234375L31.5,52.5234375Q32.4844,52.5234375,33.1172,53.1562375Q33.75,53.7890375,33.75,54.7734375L33.75,62.6484375Q33.75,63.6328375,33.1172,64.2656375Q32.4844,64.8984375,31.5,64.8984375Q30.5156,64.8984375,29.8828,64.2656375Q29.25,63.6328375,29.25,62.6484375L29.25,60.187537500000005L27.9844,61.3828375Q24.8906,64.4765375,20.8828,65.5312375Q16.875,66.5156375,12.8672,65.5312375Q8.85938,64.4765375,5.76562,61.3828375Q3.16406,58.7812375,2.03906,55.546837499999995Q1.75781,54.6328375,2.10938,53.7890375Q2.53125,53.0156375,3.375,52.6640375Q4.28906,52.3828375,5.13281,52.734337499999995Q5.90625,53.1562375,6.25781,54.000037500000005ZM1.61719,47.9531375Q1.05469,47.7422375,0.632812,47.3203375Q0.210938,46.8984375,0.0703125,46.3359375Q0.0703125,46.2656375,0,46.1250375Q0,45.9140375,0,45.7734375L0,37.8984375Q0,36.9140575,0.632812,36.2812475Q1.26562,35.6484375,2.25,35.6484375Q3.23438,35.6484375,3.86719,36.2812475Q4.5,36.9140575,4.5,37.8984375L4.5,40.3593775L5.76562,39.1640575Q8.85938,36.0703175,12.8672,35.0156255Q16.875,34.0312495,20.8828,35.0156255Q24.8906,36.0703175,27.9844,39.1640575Q30.5859,41.7656275,31.7109,45.0000375Q31.9922,45.9140375,31.6406,46.7578375Q31.2188,47.5312375,30.375,47.8828375Q29.4609,48.1640375,28.6172,47.8125375Q27.8438,47.3906375,27.4922,46.5468375Q26.6484,44.2265575,24.8203,42.3281275Q21.375,39.0234375,16.875,39.0234375Q12.375,39.0234375,8.92969,42.3281275L7.73438,43.5234375L10.125,43.5234375Q11.1094,43.5234375,11.7422,44.1562475Q12.375,44.7890375,12.375,45.7734375Q12.375,46.7578375,11.7422,47.3906375Q11.1094,48.0234375,10.125,48.0234375L2.25,48.0234375Q2.10938,48.0234375,1.96875,48.0234375Q1.75781,47.9531375,1.61719,47.9531375Z",fill:"#007AFF",fillOpacity:1,style:{mixBlendMode:"passthrough"}})))));function dZ(){return h.jsxs(Kc,{className:"text-center",children:[h.jsx("h2",{className:"text-2xl font-semibold",children:"  "}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mt-6",children:[{icon:h.jsx(cZ,{className:"w-6 h-6"}),title:"6     ...",text:"       "},{icon:h.jsx(uZ,{className:"w-6 h-6"}),title:"   ...",text:"  ,      "},{icon:h.jsx(Xj,{className:"w-6 h-6"}),title:"      ...",text:"   ,     "}].map(({icon:e,title:t,text:n},r)=>h.jsxs("div",{className:"flex flex-col gap-4 p-6 rounded-md bg-gray-50 text-left",children:[e,h.jsx("h3",{className:"font-extrabold",children:t}),h.jsx("p",{className:"text-xs text-gray-500",children:n})]},"pain-point-"+r))}),h.jsxs("div",{className:"text-gray-900 mt-16",children:[h.jsx("p",{children:"   ."}),h.jsx("p",{children:"   ,      . "})]})]})}const fZ=e=>I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:24,height:24,viewBox:"0 0 24 24",...e},I.createElement("g",{transform:"matrix(1,0,0,-1,0,48)"},I.createElement("path",{d:"M18.7031,30Q17.9062,31.35938,16.5469,32.15625Q15.1875,33,13.5,33L10.5,33Q8.8125,33,7.45312,32.15625Q6.09375,31.35938,5.29688,30Q6.5625,28.59375,8.25,27.79688Q9.98438,27,12,27Q14.0156,27,15.75,27.79688Q17.4375,28.59375,18.7031,30ZM0,36Q0.046875,39.2812,1.59375,42Q3.1875,44.7188,6,46.4062Q8.85938,48,12,48Q15.1406,48,18,46.4062Q20.8125,44.7188,22.4062,42Q23.9531,39.2812,24,36Q23.9531,32.71875,22.4062,30Q20.8125,27.28125,18,25.59375Q15.1406,24,12,24Q8.85938,24,6,25.59375Q3.1875,27.28125,1.59375,30Q0.046875,32.71875,0,36ZM12,35.25Q13.9219,35.2969,14.9062,36.9375Q15.8438,38.625,14.9062,40.3125Q13.9219,41.9531,12,42Q10.0781,41.9531,9.09375,40.3125Q8.15625,38.625,9.09375,36.9375Q10.0781,35.2969,12,35.25Z",fill:"#007AFF",fillOpacity:1,style:{mixBlendMode:"passthrough"}})));function hZ(){return h.jsxs(Kc,{className:"text-center",children:[h.jsx("h2",{className:"text-2xl font-semibold",children:"   !"}),h.jsxs("div",{className:"overflow-hidden mt-6 relative",children:[h.jsx("div",{className:"absolute top-0 left-0 w-12 h-full bg-gradient-to-r from-gray-50 to-transparent z-10"}),h.jsxs("div",{className:"animate-marquee flex gap-6 flex-nowrap w-fit",children:[gk.map((e,t)=>h.jsx(yk,{...e},"feedback-left-"+t)),gk.map((e,t)=>h.jsx(yk,{...e},"feedback-right-"+t))]}),h.jsx("div",{className:"absolute top-0 right-0 w-12 h-full bg-gradient-to-l from-gray-50 to-transparent z-10"})]})]})}const gk=[{name:"O",department:" 2",review:"        !"},{name:"O",department:" 4",review:"         !"},{name:"O",department:" 3",review:"     !"}];function yk({name:e,department:t,review:n}){return h.jsxs("div",{className:"w-screen md:w-xs flex flex-col gap-4 p-6 rounded-md bg-white text-left text-sm",children:[h.jsxs("div",{className:"flex gap-4 items-center",children:[h.jsx(fZ,{className:"w-6 h-6"}),h.jsxs("div",{children:[h.jsx("p",{className:"font-bold",children:e}),h.jsx("p",{className:"text-xs text-gray-500",children:t})]})]}),h.jsxs("p",{className:"text-gray-950",children:['"',n,'"']})]})}function pZ(){return h.jsxs("div",{className:"min-h-screen bg-gray-50",children:[h.jsx(yV,{}),h.jsx(QV,{}),h.jsx(HJ,{}),h.jsx(NJ,{}),h.jsx(lZ,{}),h.jsx(dZ,{}),h.jsx(hZ,{})]})}function Jd({children:e}){return h.jsx("div",{className:"bg-white shadow-sm rounded-lg p-4 mb-4",children:e})}function V1({col:e,row:t}){return h.jsx(h.Fragment,{children:Array.from({length:t}).map((n,r)=>h.jsx("tr",{className:"animate-pulse border-t border-gray-200 h-10",children:Array.from({length:e}).map((i,s)=>h.jsx("td",{className:"bg-gray-300",colSpan:-1},`skeleton-td-${s}-${r}`))},"skeleton-row-"+r))})}function Q1({icon:e,title:t,description:n,children:r}){return h.jsx("div",{className:"flex flex-col items-center justify-center w-full bg-gray-50 rounded-md",children:h.jsxs("div",{className:"flex flex-col items-center justify-center gap-2 p-12",children:[h.jsx("div",{children:e}),h.jsx("div",{className:"text-gray-600",children:t}),h.jsx("div",{className:"text-xs text-gray-500",children:n}),r]})})}const mZ=e=>I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:12.68359375,height:12.25,viewBox:"0 0 12.68359375 12.25",...e},I.createElement("g",{transform:"matrix(1,0,0,-1,0,24.5)"},I.createElement("g",null,I.createElement("path",{d:"M9.67675,21L8.30998,21L9.67675,21L8.30998,21Q7.92728,21,7.68126,20.753909999999998Q7.43524,20.50781,7.43524,20.125Q7.43524,19.74219,7.68126,19.49609Q7.92728,19.25,8.30998,19.25L11.8089,19.25Q12.1916,19.25,12.4376,19.49609Q12.6837,19.74219,12.6837,20.125L12.6837,23.625Q12.6837,24.0078,12.4376,24.2539Q12.1916,24.5,11.8089,24.5Q11.4262,24.5,11.1802,24.2539Q10.9342,24.0078,10.9342,23.625L10.9342,22.23047L10.4421,22.6953Q9.23938,23.898400000000002,7.68126,24.3086Q6.12314,24.6914,4.56502,24.3086Q3.0069,23.898400000000002,1.80414,22.6953Q0.60138,21.49219,0.191348,19.93359Q-0.191348,18.375,0.191348,16.81641Q0.60138,15.25781,1.80414,14.05469Q3.0069,12.851562,4.56502,12.441406Q6.12314,12.058594,7.68126,12.441406Q9.23938,12.851562,10.4421,14.05469Q10.7155,14.30078,10.7155,14.65625Q10.7155,15.01172,10.4421,15.28516Q10.1961,15.53125,9.84076,15.53125Q9.4854,15.53125,9.21205,15.28516Q7.87261,14,6.12314,14Q4.37367,14,3.03424,15.28516Q1.74947,16.625,1.74947,18.375Q1.74947,20.125,3.03424,21.464840000000002Q4.37367,22.75,6.12314,22.75Q7.87261,22.75,9.21205,21.464840000000002L9.67675,21Z",fill:"#FFFFFF",fillOpacity:1,style:{mixBlendMode:"passthrough"}}))));function Jj({onReload:e}){return h.jsx(Q1,{title:"    ",description:"  ",icon:h.jsx(Kw,{className:"w-7 h-7"}),children:h.jsxs("button",{className:"mt-4 flex items-center gap-2 bg-blue-500 text-white px-4 py-2 rounded cursor-pointer hover:bg-blue-600",onClick:e,children:[h.jsx(mZ,{className:"w-3 h-3"}),""]})})}const j_=e=>I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:36,height:36,viewBox:"0 0 36 36",...e},I.createElement("defs",null,I.createElement("clipPath",{id:"master_svg0_106_2202"},I.createElement("rect",{x:0,y:0,width:36,height:36,rx:0}))),I.createElement("g",{clipPath:"url(#master_svg0_106_2202)"},I.createElement("g",{transform:"matrix(1,0,0,-1,0,69.046875)"},I.createElement("g",null,I.createElement("path",{d:"M2.25,66.0234375Q3.23438,66.0234375,3.86719,65.3906375Q4.5,64.7578375,4.5,63.7734375L4.5,40.1484375Q4.57031,39.0937475,5.625,39.0234375L33.75,39.0234375Q34.7344,39.0234375,35.3672,38.3906275Q36,37.7578175,36,36.7734375Q36,35.7890575,35.3672,35.1562495Q34.7344,34.5234375,33.75,34.5234375L5.625,34.5234375Q3.23438,34.59375,1.61719,36.1406275Q0.0703125,37.7578175,0,40.1484375L0,63.7734375Q0,64.7578375,0.632812,65.3906375Q1.26562,66.0234375,2.25,66.0234375ZM9,59.2734375Q9,60.2578375,9.63281,60.8906375Q10.2656,61.5234375,11.25,61.5234375L24.75,61.5234375Q25.7344,61.5234375,26.3672,60.8906375Q27,60.2578375,27,59.2734375Q27,58.2890375,26.3672,57.6562375Q25.7344,57.0234375,24.75,57.0234375L11.25,57.0234375Q10.2656,57.0234375,9.63281,57.6562375Q9,58.2890375,9,59.2734375ZM11.25,54.7734375L20.25,54.7734375L11.25,54.7734375L20.25,54.7734375Q21.2344,54.7734375,21.8672,54.1406375Q22.5,53.5078375,22.5,52.5234375Q22.5,51.5390375,21.8672,50.9062375Q21.2344,50.2734375,20.25,50.2734375L11.25,50.2734375Q10.2656,50.2734375,9.63281,50.9062375Q9,51.5390375,9,52.5234375Q9,53.5078375,9.63281,54.1406375Q10.2656,54.7734375,11.25,54.7734375ZM11.25,48.0234375L29.25,48.0234375L11.25,48.0234375L29.25,48.0234375Q30.2344,48.0234375,30.8672,47.3906375Q31.5,46.7578375,31.5,45.7734375Q31.5,44.7890375,30.8672,44.1562475Q30.2344,43.5234375,29.25,43.5234375L11.25,43.5234375Q10.2656,43.5234375,9.63281,44.1562475Q9,44.7890375,9,45.7734375Q9,46.7578375,9.63281,47.3906375Q10.2656,48.0234375,11.25,48.0234375Z",fill:"#9CA3AF",fillOpacity:1,style:{mixBlendMode:"passthrough"}})))));function gZ(){return h.jsx(Q1,{title:"   TOP 10  ",description:"   ",icon:h.jsx(j_,{className:"w-7 h-7"})})}const yZ=e=>I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:17,height:17,viewBox:"-0.1 -1.2 11.985078811645508 17",...e},I.createElement("g",{transform:"matrix(1,0,0,-1,0,27.999998092651367)"},I.createElement("path",{d:"M5.99254,27.999999046325684Q5.61809,27.999999046325684,5.37737,27.753899046325685Q5.13664,27.507799046325683,5.13664,27.124999046325684L5.13664,26.605499046325683Q3.63883,26.277299046325684,2.70269,25.10159904632568Q1.73981,23.925779046325683,1.71306,22.312499046325684L1.71306,21.792969046325684Q1.68632,19.824219046325684,0.429221,18.320309046325683L0.215247,18.074219046325684Q-0.13246,17.664059046325683,0.0815138,17.144529046325683Q0.322234,16.652339046325682,0.857169,16.624999046325684L11.1279,16.624999046325684Q11.6628,16.652339046325682,11.9036,17.144529046325683Q12.1175,17.664059046325683,11.7698,18.074219046325684L11.5826,18.320309046325683Q10.2988,19.796869046325682,10.272,21.792969046325684L10.272,22.312499046325684Q10.2453,23.925779046325683,9.28239,25.10159904632568Q8.34625,26.277299046325684,6.84843,26.605499046325683L6.84843,27.124999046325684Q6.84843,27.507799046325683,6.60771,27.753899046325685Q6.36699,27.999999046325684,5.99254,27.999999046325684ZM7.19614,14.519530046325684Q7.70433,15.039059046325683,7.70433,15.749999046325684L5.99254,15.749999046325684L4.28075,15.749999046325684Q4.28075,15.039059046325683,4.78894,14.519530046325684Q5.29713,13.999999046325684,5.99254,13.999999046325684Q6.68796,13.999999046325684,7.19614,14.519530046325684Z",fill:"#9CA3AF",fillOpacity:1,style:{mixBlendMode:"passthrough"}})));function vZ(){return h.jsx(Q1,{title:"   ",description:"   .   .",icon:h.jsx(yZ,{className:"w-7 h-7"}),children:h.jsx("div",{className:"flex justify-center",children:h.jsx("a",{className:"bg-gray-50 rounded-full px-4 py-2 text-sm border border-gray-200 hover:shadow-md cursor-pointer",href:"https://open.kakao.com/o/g3MztXfh",children:"  "})})})}let Zf=null,Hu=0;const Nx=Fr(e=>{const t=()=>{Zf||(Zf=setInterval(()=>{e(r=>({tick:r.tick+1}))},1e3))},n=()=>{Zf&&clearInterval(Zf),Zf=null};return{tick:0,addRefCount:()=>{Hu===0&&t(),Hu=Hu+1},removeRefCount:()=>{Hu<=1&&n(),Hu=Math.max(0,Hu-1)}}}),Zj=e=>{const t=Nx(i=>i.tick),n=Nx(i=>i.addRefCount),r=Nx(i=>i.removeRefCount);I.useEffect(()=>(n(),()=>{r()}),[]),I.useEffect(()=>{},[t])};function xZ(e){const{data:t}=Cs(),{data:n,...r}=i_(e);return{data:n?.map(s=>{const{subjectId:o,seatCount:a,queryTime:l}=s,u=t?.find(b=>b.subjectId===o)||T1,{subjectName:f,subjectCode:p,classCode:g,professorName:y}=u;return{...u,code:`${p}-${g}`,name:f,professor:y,seat:a,queryTime:l}}),...r}}function N_(e){if(!e)return" ";const t=new Date,n=new Date(e),r=t.getTime()-n.getTime(),i=Math.floor(r/1e3),s=Math.floor(i/60),o=Math.floor(s/60),a=Math.floor(o/24),l=Math.floor(a/30),u=Math.floor(l/12);return u>0?`${u} `:l>0?`${l} `:a>0?`${a} `:o>0?`${o} `:s>0?`${s} `:i>0?`${i} `:" "}function I_(){return h.jsxs("div",{className:"flex justify-end items-center mt-2 text-xs text-gray-500",children:[h.jsxs("span",{className:"flex items-center gap-2",children:[h.jsx("span",{className:"block w-4 h-4 rounded bg-green-100 ml-1","aria-label":" "}),"  "]}),h.jsxs("span",{className:"flex items-center gap-2 ml-4",children:[h.jsx("span",{className:"block w-4 h-4 rounded bg-gray-100 ml-1","aria-label":" "})," "]})]})}function kl({children:e,onClose:t,preventAutoFocus:n}){const r=I.useRef(null);I.useEffect(()=>(document.body.style.overflow="hidden",n||r.current?.focus(),()=>{document.body.style.overflow=""}),[n]);const i=s=>{s.stopPropagation(),t()};return h.jsxs("div",{className:"flex items-center justify-center fixed inset-0 w-full h-full z-100",role:"none",ref:r,tabIndex:-1,onClick:i,children:[h.jsx("div",{className:"fixed inset-0 justify-center opacity-30 bg-gray-300 border-b-2 border-gray-400"}),h.jsx("div",{className:"flex items-center justify-center",tabIndex:-1,children:h.jsx("div",{className:"rounded-lg z-50 bg-white max-h-[90vh] border border-gray-200 overflow-y-auto",role:"dialog",tabIndex:-1,onClick:s=>s.stopPropagation(),children:e})})]})}const bZ=e=>I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",...e},I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})),wZ=e=>I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",...e},I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.477 0-8.268-2.943-9.542-7a9.957 9.957 0 012.043-3.36m3.237-2.347A9.956 9.956 0 0112 5c4.478 0 8.268 2.943 9.542 7a9.954 9.954 0 01-4.043 5.132M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3l18 18"}));function eN({initialItems:e,onChange:t}){const[n,r]=I.useState(e),i=I.useRef(null),s=I.useRef([]),[o,a]=I.useState(null),l=I.useRef(null),[u,f]=I.useState(null),[p,g]=I.useState(null);I.useEffect(()=>{t?.(n)},[n,t]),I.useEffect(()=>{if(o){const j=n.findIndex(A=>A.title===o);j!==-1&&s.current[j]?.focus(),a(null)}},[n,o]),I.useEffect(()=>{const j=()=>requestAnimationFrame(_),A=new ResizeObserver(j);return i.current&&A.observe(i.current),window.addEventListener("scroll",j,!0),window.addEventListener("resize",j),j(),()=>{A.disconnect(),window.removeEventListener("scroll",j,!0),window.removeEventListener("resize",j)}},[]);function y(j){r(A=>{const B=[...A];return B[j]={...B[j],visible:!B[j].visible},B})}const b=I.useRef([]);function _(){const j=i.current;if(!j)return;const A=Array.from(j.children);b.current=A.map(B=>{const U=B.getBoundingClientRect();return U.top+U.height/2})}function C(j,A){if(j.key==="ArrowUp"||j.key==="ArrowDown"){j.preventDefault(),j.stopPropagation();const B=A;let U;if(j.key==="ArrowUp"){if(B===0)return;U=B-1}else{if(B===n.length-1)return;U=B+1}const D=n[B].title;r(Z=>{const X=[...Z],[re]=X.splice(B,1);return X.splice(U,0,re),X}),a(D)}}function k(j,A){if(!i.current)return;const B=j.target.closest(".draggable-item");if(!B)return;j.target.setPointerCapture(j.pointerId);const U=B.getBoundingClientRect(),D=i.current.getBoundingClientRect();l.current={currentIndex:A,height:U.height,offsetY:j.clientY-U.top,containerRect:D},f({item:n[A],initialIndex:A}),g({width:U.width,left:U.left,top:U.top,position:"fixed",zIndex:50,pointerEvents:"none",transition:"none"}),window.addEventListener("pointermove",R),window.addEventListener("pointerup",O,{once:!0})}function R(j){if(l.current===null)return;const{height:A,offsetY:B,containerRect:U}=l.current;let D=j.clientY-B;D=Math.max(U.top,D),D=Math.min(U.bottom-A,D),g(Q=>({...Q||{},top:D})),_();const Z=j.clientY;let re=b.current.findIndex(Q=>Z<Q);re===-1&&(re=n.length);const V=l.current.currentIndex;let q=Math.max(0,Math.min(n.length-1,re>V?re-1:re));q!==V&&(l.current.currentIndex=q,r(Q=>{const ne=[...Q],[ee]=ne.splice(V,1);return ne.splice(q,0,ee),ne}))}function O(){window.removeEventListener("pointermove",R),l.current=null,f(null),g(null)}const $=I.useMemo(()=>u?n.findIndex(j=>j.title===u.item.title):-1,[n,u]);function z(j){if(!u||!l.current||$===-1)return"";const A=$,B=l.current.currentIndex,U=l.current.height;if(j===A)return"";if(A<B){if(j>A&&j<=B)return`translateY(-${U}px)`}else if(j>=B&&j<A)return`translateY(${U}px)`;return""}return h.jsxs(h.Fragment,{children:[h.jsx("ul",{ref:i,className:"bg-white divide-y divide-gray-100 relative",children:n.map((j,A)=>h.jsxs("li",{ref:B=>{s.current[A]=B},className:"draggable-item flex items-center gap-2 rounded-md px-2 transition-transform duration-1000",tabIndex:0,onKeyDown:B=>C(B,A),style:{transform:z(A),opacity:$===A?.4:1},children:[h.jsx("button",{className:"p-1 text-gray-500 hover:text-gray-700 cursor-grab",onPointerDown:B=>k(B,A),"aria-label":`Drag ${j.title}`,title:" ",children:""}),h.jsxs("div",{className:"flex items-center justify-between flex-auto",children:[h.jsx("span",{className:"font-medium",children:j.title}),h.jsx("button",{className:"p-1 text-gray-500 hover:text-gray-700 cursor-pointer","aria-label":j.visible?"":"",title:j.visible?"":"",onClick:()=>y(A),children:j.visible?h.jsx(bZ,{className:"w-4 h-4"}):h.jsx(wZ,{className:"w-4 h-4"})})]})]},j.title))}),p&&u&&h.jsx("div",{style:p,className:"bg-blue-50 rounded-md shadow-lg w-full max-w-lg m-auto px-2",children:h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("span",{className:"p-1 text-gray-700",children:""}),h.jsx("span",{className:"font-medium",children:u.item.title})]})}),h.jsx("div",{className:"mt-4 text-sm text-gray-500",children:"Tip:    /    ."})]})}const R_=e=>I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",...e},I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"4px",d:"M4 20L20 4M4 4l16 16"}));function Zd({title:e,onClose:t}){return h.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-gray-200 ",children:[h.jsx("h2",{className:"font-semibold sm:text-lg text-sm text-gray-900",children:e}),h.jsx("button",{className:"w-5 h-5 text-gray-500 hover:text-gray-700 cursor-pointer",onClick:t,title:"",tabIndex:-1,children:h.jsx(R_,{className:"w-full h-full"})})]})}function P_({enabled:e=!0,onClose:t}){I.useEffect(()=>{if(!e)return;const n=i=>{i.key==="Escape"&&t&&t()},r=i=>{i.preventDefault(),t&&t()};return window.addEventListener("keydown",n),window.addEventListener("popstate",r),()=>{window.removeEventListener("keydown",n),window.removeEventListener("popstate",r)}},[])}const tN=(e,t)=>Fr()(_T(n=>({tableTitles:t,setTableTitles:r=>n({tableTitles:r}),resetTableTitles:()=>n({tableTitles:t})}),{name:`${e}-table-head-store`})),_Z=[{title:"",visible:!0,key:"code"},{title:"",visible:!0,key:"name"},{title:"",visible:!0,key:"professor"},{title:"",visible:!0,key:"seat"},{title:"",visible:!0,key:"queryTime"},{title:"",visible:!1,key:"manageDeptNm"},{title:"",visible:!1,key:"studentYear"},{title:"",visible:!1,key:"lesnTime"},{title:"",visible:!1,key:"lesnRoom"},{title:"",visible:!1,key:"tmNum"},{title:"",visible:!1,key:"remark"},{title:"",visible:!1,key:"curiTypeCdNm"},{title:"",visible:!1,key:"curiLangNm"}],vk=tN("live",_Z),SZ=[{title:"",visible:!0,key:"subjectCode"},{title:"",visible:!0,key:"classCode"},{title:" ",visible:!0,key:"departmentName"},{title:"",visible:!0,key:"subjectName"},{title:"",visible:!0,key:"professorName"},{title:"",visible:!0,key:"totalCount"},{title:"",visible:!0,key:"seat"},{title:"",visible:!1,key:"studentYear"},{title:"",visible:!1,key:"lesnTime"},{title:"",visible:!1,key:"lesnRoom"},{title:"",visible:!1,key:"tmNum"},{title:"",visible:!1,key:"remark"},{title:"",visible:!1,key:"curiTypeCdNm"},{title:"",visible:!1,key:"curiLangNm"}],b2=tN("wishes",SZ),CZ=({title:e=""})=>{const[t,n]=I.useState(!1),r=vk(s=>s.setTableTitles),i=vk(s=>s.tableTitles);return h.jsxs(Jd,{children:[t&&h.jsx(jZ,{initialItems:i,onChange:r,onClose:()=>n(!1)}),h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("div",{className:"flex items-center gap-2 mb-4",children:h.jsxs("h2",{className:"font-bold text-lg",children:[e," "]})}),h.jsx("button",{className:"p-3 rounded-full hover:bg-blue-100","aria-label":" ",onClick:()=>n(!0),children:h.jsx(j_,{className:"w-4 h-4 text-gray-600 hover:text-blue-500 transition-colors"})})]}),h.jsx("div",{className:"overflow-x-auto",children:h.jsxs("table",{className:"w-full bg-white rounded-lg text-sm",children:[h.jsx("thead",{children:h.jsx("tr",{className:"bg-gray-50 sticky top-0 z-10 text-nowrap",children:i.filter(s=>s.visible).map(({title:s})=>h.jsx("th",{className:"px-4 py-2",children:s},s))})}),h.jsx("tbody",{children:h.jsx(kZ,{tableTitles:i})})]})}),h.jsx(I_,{})]})};function kZ({tableTitles:e}){const{data:t,isError:n,isPending:r,refetch:i}=xZ(j1.NON_MAJOR),s=e.filter(l=>l.visible),o=new Date>TT("2025-09-05T17:00:00"),a=md(l=>l.sseState);return n?h.jsx("tr",{children:h.jsx("td",{colSpan:s.length,children:h.jsx(Jj,{onReload:i})})}):r||!t?h.jsx(V1,{row:5,col:s.length}):a===r_.IDLE&&o?h.jsx("tr",{children:h.jsx("td",{colSpan:s.length,className:"text-center",children:h.jsx(vZ,{})})}):t.length?h.jsx(C1,{component:null,children:t.map(l=>h.jsx(vp,{timeout:500,classNames:"row-change",children:h.jsx(EZ,{subject:l,HeadTitles:s},l.code)},l.code))}):h.jsx("tr",{children:h.jsx("td",{colSpan:s.length,className:"text-center",children:h.jsx(gZ,{})})})}function EZ({subject:e,HeadTitles:t}){const n=I.useRef(e.seat),[r,i]=I.useState(!1),s=e.isDeleted,o=e.curiLangNm==="",a=r?"bg-blue-50":s?"bg-gray-100":o?"bg-green-50":"";return I.useEffect(()=>{if(n.current!==e.seat){i(!0);const l=setTimeout(()=>i(!1),1e3);return n.current=e.seat,()=>clearTimeout(l)}},[e.seat]),h.jsx("tr",{className:`border-t border-gray-200 text-black transition-colors duration-500 text-nowrap ${a}`,children:t.map(({key:l})=>{switch(l){case"seat":return h.jsx("td",{className:"px-4 py-2 text-center",children:h.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-bold "+Xc(e.seat??-1),children:e[l]})},l);case"queryTime":return h.jsx(TZ,{queryTime:e.queryTime},l);default:return h.jsx("td",{className:"px-4 py-2 text-center",children:e[l]},l)}})})}function TZ({queryTime:e}){return Zj(),h.jsx("td",{className:"w-18 px-4 py-2 text-center text-xs",children:h.jsx("span",{className:"text-gray-500",children:N_(e)})})}function jZ({initialItems:e,onChange:t,onClose:n}){return P_({enabled:!0,onClose:n}),h.jsxs(kl,{onClose:n,children:[h.jsx(Zd,{title:" ",onClose:n}),h.jsx("div",{className:"p-4",children:h.jsx(eN,{initialItems:e,onChange:t})})]})}const NZ=e=>I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:16,height:16,viewBox:"0 0 16 16",...e},I.createElement("g",{transform:"matrix(1,0,0,-1,0,32)"},I.createElement("path",{d:"M8,16Q10.1875,16.03125,12,17.0625Q13.8125,18.125,14.9375,20Q16,21.90625,16,24Q16,26.0938,14.9375,28Q13.8125,29.875,12,30.9375Q10.1875,31.9688,8,32Q5.8125,31.9688,4,30.9375Q2.1875,29.875,1.0625,28Q0,26.0938,0,24Q0,21.90625,1.0625,20Q2.1875,18.125,4,17.0625Q5.8125,16.03125,8,16ZM5.3125,26.8438Q5.5,27.375,5.9375,27.6875Q6.375,28,6.96875,28L8.78125,28Q9.625,27.9688,10.1875,27.4062Q10.7188,26.875,10.75,26.0312Q10.7188,24.90625,9.75,24.3125L8.75,23.75Q8.6875,23.0625,8,23Q7.3125,23.0625,7.25,23.75L7.25,24.15625Q7.25,24.59375,7.625,24.8125L9,25.625Q9.25,25.75,9.25,26.0312Q9.21875,26.4688,8.78125,26.5L6.96875,26.5Q6.78125,26.5,6.71875,26.3438L6.71875,26.2812Q6.40625,25.65625,5.75,25.84375Q5.125,26.125,5.28125,26.7812L5.3125,26.8438ZM7,21Q7,21.4375,7.28125,21.71875Q7.5625,22,8,22Q8.4375,22,8.71875,21.71875Q9,21.4375,9,21Q9,20.5625,8.71875,20.28125Q8.4375,20,8,20Q7.5625,20,7.28125,20.28125Q7,20.5625,7,21Z",fill:"#9CA3AF",fillOpacity:1,style:{mixBlendMode:"passthrough"}})));function IZ({children:e}){return h.jsx("div",{className:"relative inline-block",children:h.jsxs("span",{className:"group inline-block",children:[h.jsx(NZ,{className:"w-4 h-4"}),h.jsx("span",{className:"absolute bottom-full mb-2 left-1/2 transform -translate-x-1/2 opacity-0 group-hover:opacity-100 transition-opacity duration-300 bg-gray-900 text-white p-3 rounded w-64 text-center pointer-events-none",children:e})]})})}function RZ(e){return e==="primary"?"bg-blue-500 text-white hover:bg-blue-600 focus:outline-blue-400":"bg-white text-gray-700 hover:bg-gray-100 border border-gray-600"}function Fc({children:e,variants:t,className:n="",...r}){return h.jsx("button",{type:r.type,onClick:r.onClick,className:`px-4 py-2 cursor-pointer rounded-lg ${RZ(t)} ${n}`,disabled:r.disabled,children:e})}function xk({children:e,checked:t,onChange:n,...r}){return h.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[h.jsx("input",{type:"checkbox",className:"sr-only peer",checked:t,onChange:n,...r}),h.jsx("div",{className:"w-12 h-6 rounded-full transition-colors duration-150 bg-gray-300 peer-checked:bg-blue-500 peer-disabled:bg-gray-200"}),h.jsx("div",{className:"absolute top-1 left-1 w-4 h-4 bg-white rounded-full shadow-md transform transition-transform duration-150 peer-checked:translate-x-6"}),e]})}const PZ=[{title:" ",value:Mi.NONE,disabled:()=>!1},{title:" ",value:Mi.BROWSER,disabled:()=>!gs.canNotify()},{title:" ",value:Mi.TOAST,disabled:()=>!i2.canNotify()},{title:" +  ",value:Mi.BOTH,disabled:()=>!gs.canNotify()||!i2.canNotify()}];function OZ({isOpen:e,close:t}){const n=fl(s=>s.isPermitted),r=()=>{es.show("  ","test-alarm")},i=()=>{es.requestPermission(),t()};return P_({enabled:e,onClose:i}),e?h.jsxs(kl,{onClose:i,children:[h.jsx(Zd,{title:"",onClose:i}),h.jsxs("div",{className:"p-4 w-md max-w-full",children:[h.jsx(MZ,{}),h.jsx(AZ,{}),h.jsx("div",{className:"mt-4 flex justify-end",children:h.jsx(Fc,{variants:"secondary",onClick:r,disabled:!n,children:""})})]})]}):null}function MZ(){const e=yo(s=>s.alarmType),t=yo(s=>s.saveSettings),n=fl(s=>s.isPermitted),r=gs.canNotify(),i=s=>{t({alarmType:Number(s.target.value)})};return h.jsxs("div",{className:"mb-4",children:[h.jsx("label",{className:"block mb-2 font-bold text-md",htmlFor:"alarm-type-select",children:" "}),h.jsx("select",{id:"alarm-type-select",className:"w-full mb-2 p-2 border border-gray-300 rounded",value:e,onChange:i,children:PZ.map(s=>h.jsx("option",{className:"disabled:text-gray-500",value:s.value,disabled:s.disabled(),children:s.title},s.value))}),(e===Mi.BROWSER||e===Mi.BOTH)&&!n&&h.jsx("p",{className:"pl-2 pb-2 text-sm text-red-600",children:"  ."}),e===Mi.TOAST&&h.jsx("p",{className:"pl-2 pb-2 text-sm text-red-600",children:"      ."}),!r&&h.jsx("p",{className:"pl-2 pb-2 text-xs text-gray-600",children:"     ."})]})}function AZ(){const t=yo(f=>f.alarmType)===Mi.NONE,n=Wh(Xa.SOUND),r=Wh(Xa.VIBRATE),i=t_.canNotify(),s=yo(f=>f.subAlarmType),o=yo(f=>f.saveSettings),a=t,l=t||!i,u=f=>{const p=f.target.id==="select-sound"?Xa.SOUND:Xa.VIBRATE,g=f.target.checked?s|p:s&~p;o({subAlarmType:g})};return h.jsxs("div",{children:[h.jsx("h3",{className:"block mb-2 font-bold text-md",children:"  "}),h.jsxs("div",{className:"flex flex-col gap-2",children:[h.jsxs("label",{className:"my-1 flex items-center justify-between",htmlFor:"select-sound",children:[h.jsx("span",{className:a?"text-gray-300":"",children:""}),h.jsx(xk,{id:"select-sound",name:"sound",checked:n,onChange:u,disabled:a})]}),h.jsxs("label",{className:"my-1 flex items-center justify-between",htmlFor:"select-vibrate",children:[h.jsx("span",{className:l?"text-gray-300":"",children:""}),h.jsx(xk,{id:"select-vibrate",name:"vibrate",checked:r,onChange:u,disabled:l})]}),!i&&h.jsx("p",{className:"pl-2 pb-2 text-sm text-red-600",children:"     ."})]})]})}const bk=5;function K1(){return Js({queryKey:["pinnedSubjects"],queryFn:DZ,select:e=>e.subjects})}const nN=()=>{const e=ns();return vl({mutationFn:LZ,onMutate:async t=>{await e.cancelQueries({queryKey:["pinnedSubjects"]});const n=e.getQueryData(["pinnedSubjects"])?.subjects??[];if(n&&n.length>=bk)throw new Error(JSON.stringify({message:`   ${bk} .`}));if(n){const r={...n[0],subjectId:t};e.setQueryData(["pinnedSubjects"],{subjects:[...n,r]}),n.push(r)}return{previousUsers:n}},onSuccess:()=>{e.invalidateQueries({queryKey:["pinnedSubjects"]}).then()},onError:t=>{try{const n=JSON.parse(t.message);alert(n.message)}catch{alert("Error adding pinned subject")}}})},O_=()=>{const e=ns();return vl({mutationFn:FZ,onMutate:async t=>{await e.cancelQueries({queryKey:["pinnedSubjects"]});const n=e.getQueryData(["pinnedSubjects"]);if(n){const r=n.subjects.filter(i=>i.subjectId!==t);e.setQueryData(["pinnedSubjects"],{subjects:r})}return{previousData:n}},onSettled:()=>{console.log("pin removed onSettled"),e.invalidateQueries({queryKey:["pinnedSubjects"]}).then()},onError:t=>{console.error("Error removing pinned subject:",t)}})},DZ=async()=>await da("/api/pins"),LZ=async e=>{const t=await E1(`/api/pin?subjectId=${e}`,{method:"POST"});if(!t.ok)throw new Error(await t.text())},FZ=async e=>{const t=await E1(`/api/pin/${e}`,{method:"DELETE"});if(!t.ok)throw new Error(await t.text())};function BZ({subject:e,seats:t,queryTime:n,disableSeat:r=!1}){const{mutate:i}=O_(),s=()=>{i(e.subjectId)};return h.jsxs("div",{className:"bg-gray-50 shadow-sm rounded-lg p-4 border border-gray-200 hover:shadow-md",children:[h.jsxs("div",{className:"flex justify-between",children:[h.jsx("h3",{className:"font-bold",children:e.subjectName}),h.jsx("button",{className:"p-2 rounded-full hover:bg-blue-100","aria-label":"  ",onClick:s,children:h.jsx(R_,{className:"text-gray-400 w-3 h-3"})})]}),h.jsxs("div",{className:"mb-2 text-xs text-gray-500",children:[h.jsx("p",{children:e.departmentName}),h.jsxs("p",{children:[e.subjectCode,"-",e.classCode," | ",e.professorName]})]}),!r&&h.jsxs("div",{className:"flex justify-between items-baseline",children:[h.jsxs("p",{className:`px-2 py-1 rounded-full text-xs font-bold ${Xc(t)}`,children:[": ",t<0?"???":t]}),h.jsx(zZ,{queryTime:n})]})]})}function zZ({queryTime:e}){return Zj(),h.jsx("p",{className:"text-xs text-gray-500",children:N_(e)})}const ep=Fr(e=>({isSearchOpen:!1,setIsSearchOpen:t=>e(()=>({isSearchOpen:t}))}));function rN(){const e=ep(t=>t.setIsSearchOpen);return h.jsx("div",{className:"p-2 rounded-full flex items-center justify-center",children:h.jsx("button",{className:"bg-gray-50 rounded-full px-4 py-2 text-sm border border-gray-200 hover:shadow-md cursor-pointer","aria-label":"   ",title:"   ",onClick:()=>e(!0),children:"+   "})})}function $Z(){return h.jsx(Q1,{title:"   ",description:"    .     .",icon:h.jsx(Xd,{className:"w-7 h-7",disabled:!0}),children:h.jsx(rN,{})})}const UZ=e=>I.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},I.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 3C7.88696 2.99977 8.74883 3.29435 9.4501 3.83741C10.1514 4.38047 10.6523 5.14121 10.874 6H19V8H10.874C10.6283 8.94049 10.0486 9.75939 9.24333 10.3038C8.43802 10.8482 7.46209 11.0809 6.49778 10.9584C5.53346 10.836 4.64669 10.3667 4.00303 9.63828C3.35937 8.90985 3.00284 7.97206 3 7C3 5.93913 3.42143 4.92172 4.17157 4.17157C4.92172 3.42143 5.93913 3 7 3ZM7 9C7.53043 9 8.03914 8.78929 8.41421 8.41421C8.78929 8.03914 9 7.53043 9 7C9 6.46957 8.78929 5.96086 8.41421 5.58579C8.03914 5.21071 7.53043 5 7 5C6.46957 5 5.96086 5.21071 5.58579 5.58579C5.21071 5.96086 5 6.46957 5 7C5 7.53043 5.21071 8.03914 5.58579 8.41421C5.96086 8.78929 6.46957 9 7 9ZM17 20C16.113 20.0002 15.2512 19.7056 14.5499 19.1626C13.8486 18.6195 13.3477 17.8588 13.126 17H5V15H13.126C13.3717 14.0595 13.9514 13.2406 14.7567 12.6962C15.562 12.1518 16.5379 11.9191 17.5022 12.0416C18.4665 12.164 19.3533 12.6333 19.997 13.3617C20.6406 14.0901 20.9972 15.0279 21 16C21 17.0609 20.5786 18.0783 19.8284 18.8284C19.0783 19.5786 18.0609 20 17 20ZM17 18C17.5304 18 18.0391 17.7893 18.4142 17.4142C18.7893 17.0391 19 16.5304 19 16C19 15.4696 18.7893 14.9609 18.4142 14.5858C18.0391 14.2107 17.5304 14 17 14C16.4696 14 15.9609 14.2107 15.5858 14.5858C15.2107 14.9609 15 15.4696 15 16C15 16.5304 15.2107 17.0391 15.5858 17.4142C15.9609 17.7893 16.4696 18 17 18Z",fill:"currentColor"})),HZ=()=>{if(typeof navigator>"u")return"chrome";const e=navigator.userAgent.toLowerCase();return e.includes("firefox")?"firefox":e.includes("edg")?"edge":e.includes("safari")&&!e.includes("chrome")?"safari":"chrome"},WZ=()=>{if(typeof navigator>"u")return"macos";const e=navigator.platform.toLowerCase(),t=navigator.userAgent.toLowerCase();return e.startsWith("mac")||t.includes("mac os x")?"macos":e.startsWith("win")?"windows":/android|iphone|ipad|ipod/.test(t)?"mobile":"macos"};function qZ(){const e=fl(s=>s.isOpen),t=fl(s=>s.close),[n,r]=I.useState(0),i=1;return I.useEffect(()=>{e||r(0)},[e]),e?h.jsxs(kl,{onClose:t,children:[h.jsx(Zd,{title:"  ",onClose:t}),h.jsxs("div",{className:"p-4 text-sm text-gray-700 w-lg max-w-full",children:[n===0&&h.jsx(VZ,{}),n===1&&h.jsx(QZ,{}),h.jsxs("div",{className:"flex justify-between items-center mt-6",children:[h.jsxs("span",{className:"text-xs text-gray-500",children:[n+1," / ",i+1]}),h.jsxs("div",{className:"flex justify-end gap-2",children:[n>0&&h.jsx("button",{className:"px-4 py-2 bg-gray-200 rounded hover:bg-gray-300",onClick:()=>r(n-1),children:""}),n<i&&h.jsx("button",{className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",onClick:()=>r(n+1),children:""}),n===i&&h.jsx("button",{className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",onClick:t,children:""})]})]})]})]}):null}function VZ(){const[e,t]=I.useState(HZ());return h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"font-bold text-base text-gray-800",children:"1:    "}),h.jsx("p",{className:"mt-1",children:" 'ALLCLL'    ."})]}),h.jsxs("div",{className:"flex border-b border-gray-500",children:[h.jsx(_c,{name:"Chrome",id:"chrome",selected:e,onClick:t}),h.jsx(_c,{name:"Firefox",id:"firefox",selected:e,onClick:t}),h.jsx(_c,{name:"Safari",id:"safari",selected:e,onClick:t}),h.jsx(_c,{name:"Edge",id:"edge",selected:e,onClick:t})]}),h.jsxs("div",{className:"p-2 bg-gray-50 rounded-md h-64 overflow-y-auto",children:[e==="chrome"&&h.jsx(KZ,{}),e==="firefox"&&h.jsx(YZ,{}),e==="safari"&&h.jsx(XZ,{}),e==="edge"&&h.jsx(GZ,{})]})]})}function QZ(){const[e,t]=I.useState(WZ());return h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"font-bold text-base text-gray-800",children:"2: OS    "}),h.jsx("p",{className:"mt-1",children:"  OS   ."})]}),h.jsxs("div",{className:"flex border-b border-gray-500",children:[h.jsx(_c,{name:"macOS",id:"macos",selected:e,onClick:t}),h.jsx(_c,{name:"Windows",id:"windows",selected:e,onClick:t}),h.jsx(_c,{name:"",id:"mobile",selected:e,onClick:t})]}),h.jsxs("div",{className:"p-2 bg-gray-50 rounded-md h-64 overflow-y-auto",children:[e==="macos"&&h.jsx(JZ,{}),e==="windows"&&h.jsx(ZZ,{}),e==="mobile"&&h.jsx(eee,{})]})]})}const _c=({name:e,id:t,selected:n,onClick:r})=>h.jsx("button",{className:`px-4 py-2 text-sm ${n===t?"border-b-2 border-blue-500 text-blue-600 font-semibold":"text-gray-500 font-medium"}`,onClick:()=>r(t),children:e}),Bc=({title:e,children:t})=>h.jsxs("div",{className:"space-y-1",children:[h.jsx("h4",{className:"font-semibold text-gray-800",children:e}),h.jsx("div",{className:"pl-2 space-y-1 text-gray-600",children:t})]}),KZ=()=>h.jsxs("div",{className:"space-y-3",children:[h.jsx(Bc,{title:" 1:   ()",children:h.jsxs("ol",{className:"list-decimal list-inside",children:[h.jsxs("li",{children:["    (",h.jsx(UZ,{className:"inline-block w-4 h-4"}),")  ."]}),h.jsx("li",{children:"  ''    '' ."})]})}),h.jsx(Bc,{title:" 2:   ",children:h.jsxs("ol",{className:"list-decimal list-inside",children:[h.jsx("li",{children:"   3()  > '' ."}),h.jsx("li",{children:"'  ' > ' ' > '' ."}),h.jsx("li",{children:"'  '  ''   'allcll.com' ."})]})})]}),GZ=()=>h.jsxs("div",{className:"space-y-3",children:[h.jsx(Bc,{title:" 1:   ()",children:h.jsxs("ol",{className:"list-decimal list-inside",children:[h.jsx("li",{children:"  ()  ."}),h.jsx("li",{children:"'   '  '' '' ."})]})}),h.jsx(Bc,{title:" 2:   ",children:h.jsxs("ol",{className:"list-decimal list-inside",children:[h.jsx("li",{children:"   3()  > '' ."}),h.jsx("li",{children:"'   ' > '' ."}),h.jsx("li",{children:"''  ''   'allcll.com' ."})]})})]}),YZ=()=>h.jsxs("div",{className:"space-y-3",children:[h.jsx(Bc,{title:" 1:   ()",children:h.jsxs("ol",{className:"list-decimal list-inside",children:[h.jsx("li",{children:"  ()  ."}),h.jsx("li",{children:"' '  '' ."})]})}),h.jsx(Bc,{title:" 2:   ",children:h.jsxs("ol",{className:"list-decimal list-inside",children:[h.jsx("li",{children:"   3()  > '' ."}),h.jsx("li",{children:"'  '  ''  ."}),h.jsx("li",{children:"''  '...'  ."}),h.jsx("li",{children:"'allcll.com'   ''  '  ' ."})]})})]}),XZ=()=>h.jsx("div",{className:"space-y-3",children:h.jsx(Bc,{title:"Safari  ",children:h.jsxs("ol",{className:"list-decimal list-inside",children:[h.jsx("li",{children:"    'Safari' > '...' ( '...') ."}),h.jsx("li",{children:"''  ."}),h.jsx("li",{children:"  '' ."}),h.jsx("li",{children:" 'allcll.com'   '' ."})]})})}),JZ=()=>h.jsx("div",{className:"space-y-2",children:h.jsxs("ol",{className:"list-decimal list-inside pl-2 mt-2 space-y-1",children:[h.jsx("li",{children:"    ()   ' ' ."}),h.jsx("li",{children:"  '' ."}),h.jsx("li",{children:"    (Chrome, Safari )  ."}),h.jsx("li",{children:"' '  ."})]})}),ZZ=()=>h.jsx("div",{className:"space-y-2",children:h.jsxs("ol",{className:"list-decimal list-inside pl-2 mt-2 space-y-1",children:[h.jsx("li",{children:"''  '' ."}),h.jsx("li",{children:"''   ''  ."}),h.jsx("li",{children:"'     '   ."}),h.jsx("li",{children:"        ."})]})}),eee=()=>h.jsxs("div",{className:"pl-2 mt-2 space-y-2",children:[h.jsx("p",{children:"  PC        .  iOS Safari     ."}),h.jsx("p",{className:"font-medium",children:"       ' '   ."})]}),tee=1e3,nee=60*tee,ree={subjectId:-1,seat:-1};function iee(){return Js({queryKey:["preRealSeats"],queryFn:see,staleTime:10*nee,select:e=>e?.preSeats??null})}async function see(){return await n_("/pre-seats.json?date=20250904")}function iN(e,t,n,r){if(!e||!t)return e||t;const i=e.sort((u,f)=>u.subjectId-f.subjectId),s=t.sort((u,f)=>u.subjectId-f.subjectId),o=[];let a=0,l=0;for(;a<i.length&&l<s.length;)i[a].subjectId===s[l].subjectId?o.push({...i[a++],...s[l++]}):i[a].subjectId<s[l].subjectId?o.push({...r,...i[a++]}):o.push({...n,...s[l++]});for(;a<i.length;)o.push({...r,...i[a++]});for(;l<s.length;)o.push({...n,...s[l++]});return o}function G1(e,t){const{data:n}=iee();return I.useMemo(()=>!e||!n?.length?e:iN(e,n,t??T1,ree),[e,n,t])}const ef={...T1,departmentCode:"",departmentName:"",totalCount:-1},oee=async()=>await n_("/baskets.json");function pa(){const{data:e,isPending:t,isLoading:n}=Cs(),r=Js({queryKey:["wishlist"],queryFn:oee,staleTime:1/0,select:i=>aee(i,e)});return{...r,isPending:r.isPending||t,isLoading:r.isLoading||n}}const aee=(e,t)=>t?!e||e.baskets?.length?t:iN(t,e.baskets,T1,ef).map(r=>({...r,departmentCode:r.deptCd,departmentName:r.manageDeptNm})):[];function lee(e){const{data:t}=pa();return t?.filter(n=>e.includes(n.subjectId))??[]}const cee=e=>I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:17,height:17,viewBox:"0 0 17 14.5",...e},I.createElement("g",{transform:"matrix(1,0,0,-1,0,28.015625)"},I.createElement("path",{d:"M1.0474,27.8750125Q0.538991,28.2031125,0.137615,27.7656125Q-0.183486,27.246112500000002,0.244648,26.8359125L16.0856,14.1484375Q16.594,13.8203125,16.9954,14.2578125Q17.3165,14.7773435,16.8884,15.1875025L14.4801,17.1289025Q14.4801,17.1562525,14.4801,17.1562525Q14.6942,17.6757825,14.3463,18.0859325L14.159,18.3320325Q12.8746,19.8085925,12.8479,21.8046925L12.8479,22.324222499999998Q12.8211,23.9375025,11.8578,25.1133125Q10.9213,26.2890125,9.42278,26.6172125L9.42278,27.1367125Q9.42278,27.519512499999998,9.18196,27.7656125Q8.94113,28.0117125,8.56651,28.0117125Q8.1919,28.0117125,7.95107,27.7656125Q7.71025,27.519512499999998,7.71025,27.1367125L7.71025,26.6172125Q5.94419,26.207012499999998,4.98089,24.7031125L1.0474,27.8750125ZM10.8677,16.6367225L4.28517,21.9414025L10.8677,16.6367225L4.28517,21.9414025L4.28517,21.8046925Q4.25841,19.8085925,3.00077,18.3046925L2.7867,18.0859325Q2.43884,17.6757825,2.65291,17.1562525Q2.89373,16.6640625,3.4289,16.6367225L10.8677,16.6367225ZM9.77064,14.5312505Q10.2791,15.0507825,10.2791,15.7617225L8.56651,15.7617225L6.85398,15.7617225Q6.85398,15.0507825,7.36239,14.5312505Q7.8708,14.01171884,8.56651,14.01171884Q9.26223,14.01171884,9.77064,14.5312505Z",fill:"#9CA3AF",fillOpacity:1,style:{mixBlendMode:"passthrough"}}))),uee=e=>I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:13.836064338684082,height:14,viewBox:"-1 -1 15.5 16.5",...e},I.createElement("g",{transform:"matrix(1,0,0,-1,0,28)"},I.createElement("path",{d:"M13.8033,23.433590000000002Q13.918,23.05078,13.6311,22.777340000000002L12.3689,21.68359Q12.4262,21.35547,12.4262,21Q12.4262,20.64453,12.3689,20.31641L13.6311,19.22266Q13.918,18.94922,13.8033,18.56641Q13.6025,18.07422,13.3443,17.60938L13.2008,17.39062Q12.9139,16.95312,12.5697,16.54297Q12.2828,16.24219,11.8811,16.35156L10.2746,16.84375Q9.70082,16.40625,9.01229,16.16016L8.66803,14.574219Q8.55328,14.191406,8.12295,14.109375Q7.54918,14,6.91803,14Q6.28688,14,5.68443,14.109375Q5.28279,14.191406,5.16803,14.574219L4.82377,16.16016Q4.13525,16.40625,3.56148,16.84375L1.95492,16.35156Q1.55328,16.24219,1.26639,16.54297Q0.893443,16.95312,0.635246,17.39062L0.491803,17.60938Q0.233607,18.07422,0.0327869,18.53906Q-0.0819672,18.94922,0.204918,19.22266L1.46721,20.28906Q1.40984,20.64453,1.40984,21Q1.40984,21.35547,1.46721,21.68359L0.204918,22.777340000000002Q-0.0819672,23.05078,0.0327869,23.433590000000002Q0.233607,23.92578,0.491803,24.3906L0.635246,24.6094Q0.893443,25.0469,1.26639,25.457Q1.55328,25.7578,1.95492,25.648400000000002L3.56148,25.1562Q4.13525,25.5937,4.82377,25.8672L5.16803,27.425800000000002Q5.28279,27.8086,5.71311,27.8906Q6.28688,28,6.91803,28Q7.54918,28,8.15164,27.8906Q8.55328,27.8086,8.66803,27.425800000000002L9.01229,25.8672Q9.70082,25.5937,10.2746,25.1562L11.8811,25.648400000000002Q12.2828,25.7578,12.5697,25.457Q12.9426,25.0469,13.2295,24.6094L13.3443,24.3906Q13.6025,23.92578,13.8033,23.433590000000002ZM6.91803,18.8125Q8.20902,18.83984,8.89754,19.90625Q9.52869,21,8.89754,22.09375Q8.20902,23.160159999999998,6.91803,23.1875Q5.62705,23.160159999999998,4.93852,22.09375Q4.30738,21,4.93852,19.90625Q5.62705,18.83984,6.91803,18.8125Z",fill:"#9CA3AF",fillOpacity:1,style:{mixBlendMode:"passthrough"}}))),dee=()=>{const[e,t]=I.useState(!1),{isAlarm:n,changeAlarm:r}=Kq(),{isError:i,refetch:s}=i_(j1.PINNED);return h.jsxs(h.Fragment,{children:[h.jsx(OZ,{isOpen:e,close:()=>t(!1)}),h.jsx(qZ,{}),h.jsxs("div",{children:[h.jsxs("div",{className:"flex justify-between align-top",children:[h.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[h.jsx("h2",{className:"font-bold text-lg",children:"  "}),h.jsx(IZ,{children:h.jsxs("p",{className:"text-sm",children:["    ",h.jsx("br",{}),h.jsx("span",{className:"text-red-500",children:"*     "})]})})]}),h.jsxs("div",{className:"flex gap-1 items-center",children:[i&&h.jsx("button",{className:"p-2 rounded-full hover:bg-blue-100","aria-label":" ",title:" ",onClick:s,children:h.jsx(Xj,{className:"w-5 h-5"})}),h.jsx("button",{className:"p-2 rounded-full hover:bg-blue-100","aria-label":" ",title:" ",onClick:()=>t(!0),children:h.jsx(uee,{className:"w-5 h-5"})}),h.jsx("button",{className:"group relative p-2 rounded-full hover:bg-blue-100","aria-label":n?" ":" ",title:n?" ":" ",onClick:r,children:h.jsx(fee,{isAlarm:n})})]})]}),h.jsx(hee,{})]})]})};function fee({isAlarm:e}){const t=md(s=>s.sseState),n=fl(s=>s.isPermitted),r=t===r_.LIVE,i=r?es.getDeniedMessage():[...es.getDeniedMessage(),"  "];return e?n&&r?h.jsx(F0,{className:"w-5 h-5 text-blue-500"}):h.jsxs(h.Fragment,{children:[h.jsx(F0,{className:"w-5 h-5 text-red-500 animate-pulse"}),i.length>0&&h.jsx("span",{className:"absolute left-full -bottom-2 transform -translate-x-full translate-y-full opacity-0 group-hover:opacity-100 transition-opacity duration-300 bg-gray-900 text-white text-sm p-2 rounded w-64 h-fit text-center pointer-events-none",children:i.map((s,o)=>h.jsx("p",{className:"pt-1 first:pt-0",children:s},"tooltip-line-"+o))})]}):h.jsx(cee,{className:"w-5 h-5"})}function hee(){const{data:e,isPending:t,isError:n,refetch:r}=K1(),{data:i}=i_(j1.PINNED),s=lee(e?.map(l=>l.subjectId)??[]),o=l=>i?.find(f=>f.subjectId===l)?.seatCount??-1,a=l=>i?.find(f=>f.subjectId===l)?.queryTime??"";return t?h.jsx("div",{className:"animate-pulse grid grid-cols-1 md:grid-cols-3 gap-4",children:[0,0,0].map((l,u)=>h.jsx("div",{className:"bg-gray-300 shadow-sm rounded-lg p-4 h-24"},"skeleton-card-"+u))}):n?h.jsx(Jj,{onReload:r}):!s||s.length===0?h.jsx($Z,{}):h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.map(l=>h.jsx(BZ,{subject:l,seats:o(l.subjectId),queryTime:a(l.subjectId)},`${l.subjectId}_${l.subjectCode}_${l.professorName}`)),s.length<5?h.jsx(rN,{}):h.jsx(pee,{})]})}function pee(){return h.jsx("div",{className:"p-2 rounded-full flex items-center justify-center",children:h.jsx("p",{className:"bg-gray-50 rounded-full px-4 py-2 text-sm border border-gray-200",children:"   5   ."})})}const Tp=e=>I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:16,height:16,viewBox:"0 0 16 16",...e},I.createElement("g",{transform:"matrix(1,0,0,-1,0,32)"},I.createElement("path",{d:"M13,25.5Q12.9688,23.3125,11.75,21.65625L15.7188,17.71875Q16,17.40625,16,17Q16,16.59375,15.7188,16.28125Q15.4062,16,15,16Q14.5938,16,14.2812,16.28125L10.3438,20.25Q8.6875,19.03125,6.5,19Q3.75,19.0625,1.90625,20.90625Q0.0625,22.75,0,25.5Q0.0625,28.25,1.90625,30.0938Q3.75,31.9375,6.5,32Q9.25,31.9375,11.0938,30.0938Q12.9375,28.25,13,25.5ZM6.5,21Q7.71875,21,8.75,21.59375Q9.78125,22.1875,10.4062,23.25Q11,24.3125,11,25.5Q11,26.6875,10.4062,27.75Q9.78125,28.8125,8.75,29.4062Q7.71875,30,6.5,30Q5.28125,30,4.25,29.4062Q3.21875,28.8125,2.59375,27.75Q2,26.6875,2,25.5Q2,24.3125,2.59375,23.25Q3.21875,22.1875,4.25,21.59375Q5.28125,21,6.5,21Z",fill:"#9CA3AF",fillOpacity:1,style:{mixBlendMode:"passthrough"}})));function Jc({onDelete:e,...t}){const n=I.useRef(null);return h.jsxs("div",{className:"relative flex items-center w-full",children:[h.jsx(Tp,{onClick:r=>{r.preventDefault(),n.current?.focus()},className:"absolute left-3 top-3 text-gray-500"}),h.jsx("input",{ref:n,type:"text",className:"pl-10 pr-6 py-2 rounded-md w-full bg-white border border-gray-400 "+(t.className??""),...t}),h.jsx("button",{className:"absolute right-2 top-0 bottom-0 cursor-pointer","aria-label":"  ",onClick:r=>{r.preventDefault(),e&&e(),n.current?.focus()},children:h.jsx(Gw,{className:"w-3 h-3"})})]})}function Y1({id:e,className:t,value:n,defaultValue:r="",...i}){const{data:s}=Yc(),o=[{departmentName:r,departmentCode:""},...s??[]],a=e??"department-filter";return h.jsxs(h.Fragment,{children:[h.jsx("label",{htmlFor:a,className:"hidden",children:""}),h.jsx("select",{id:a,className:"w-full p-2 rounded-md bg-white border border-gray-400 "+t,value:n,...i,children:o.map(({departmentName:l,departmentCode:u})=>h.jsx("option",{value:u,children:l},u))})]})}let Pi;function sN(){return Pi||(Pi=JSON.parse(localStorage.getItem("departmentRank")??"{}"),Pi)}function mee(){Pi&&localStorage.setItem("departmentRank",JSON.stringify(Pi))}function X1(e){Pi||(Pi=sN()),Pi[e]===void 0?Pi[e]=0:Pi[e]+=1,mee()}function oN(){return Pi||(Pi=sN()),Object.entries(Pi).sort(([,e],[,t])=>t-e)}function jp(e){const t=I.useMemo(()=>{const r=oN();return new Map(r.map(([i,s],o)=>[i,o]))},[]),n=I.useMemo(()=>{if(e)return gee(e)},[e]);return I.useMemo(()=>{if(!n)return;const r=o=>{const a=t.get(o);return a===void 0?5:a};return n.map(o=>{const l=(5-r(o.departmentCode??o.deptCd))*250+o.rank*100-Number(o.classCode);return{...o,searchScore:l}}).sort((o,a)=>a.searchScore-o.searchScore).map(({searchScore:o,...a})=>a)},[t,n])}function gee(e){const t=new Map;for(const n of e){const r=`${n.subjectCode}-${n.departmentCode}`,i=t.get(r);i?(i.sum+=n.totalCount??0,i.count+=1):t.set(r,{sum:n.totalCount??0,count:1})}return e.map(n=>{const r=`${n.subjectCode}-${n.departmentCode}`,i=t.get(r),s=i.sum/i.count;return{...n,rank:s}})}const yee=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>sp(async()=>{const{default:r}=await Promise.resolve().then(()=>tf);return{default:r}},[]).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class M_ extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class vee extends M_{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class wk extends M_{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class _k extends M_{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var w2;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(w2||(w2={}));var xee=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(f){try{u(r.next(f))}catch(p){o(p)}}function l(f){try{u(r.throw(f))}catch(p){o(p)}}function u(f){f.done?s(f.value):i(f.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};class bee{constructor(t,{headers:n={},customFetch:r,region:i=w2.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=yee(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return xee(this,void 0,void 0,function*(){try{const{headers:i,method:s,body:o}=n;let a={},{region:l}=n;l||(l=this.region);const u=new URL(`${this.url}/${t}`);l&&l!=="any"&&(a["x-region"]=l,u.searchParams.set("forceFunctionRegion",l));let f;o&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",f=o):typeof o=="string"?(a["Content-Type"]="text/plain",f=o):typeof FormData<"u"&&o instanceof FormData?f=o:(a["Content-Type"]="application/json",f=JSON.stringify(o)));const p=yield this.fetch(u.toString(),{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),i),body:f}).catch(_=>{throw new vee(_)}),g=p.headers.get("x-relay-error");if(g&&g==="true")throw new wk(p);if(!p.ok)throw new _k(p);let y=((r=p.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),b;return y==="application/json"?b=yield p.json():y==="application/octet-stream"?b=yield p.blob():y==="text/event-stream"?b=p:y==="multipart/form-data"?b=yield p.formData():b=yield p.text(),{data:b,error:null,response:p}}catch(i){return{data:null,error:i,response:i instanceof _k||i instanceof wk?i.context:void 0}}})}}var Er={},Wu={},qu={},Vu={},Qu={},Ku={},wee=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Ad=wee();const _ee=Ad.fetch,aN=Ad.fetch.bind(Ad),lN=Ad.Headers,See=Ad.Request,Cee=Ad.Response,tf=Object.freeze(Object.defineProperty({__proto__:null,Headers:lN,Request:See,Response:Cee,default:aN,fetch:_ee},Symbol.toStringTag,{value:"Module"})),kee=JR(tf);var Eg={},Sk;function cN(){if(Sk)return Eg;Sk=1,Object.defineProperty(Eg,"__esModule",{value:!0});class e extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return Eg.default=e,Eg}var Ck;function uN(){if(Ck)return Ku;Ck=1;var e=Ku&&Ku.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Ku,"__esModule",{value:!0});const t=e(kee),n=e(cN());class r{constructor(s){this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=s.headers,this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=s.shouldThrowOnError,this.signal=s.signal,this.isMaybeSingle=s.isMaybeSingle,s.fetch?this.fetch=s.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,o){return this.headers=Object.assign({},this.headers),this.headers[s]=o,this}then(s,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const a=this.fetch;let l=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var f,p,g;let y=null,b=null,_=null,C=u.status,k=u.statusText;if(u.ok){if(this.method!=="HEAD"){const z=await u.text();z===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?b=z:b=JSON.parse(z))}const O=(f=this.headers.Prefer)===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),$=(p=u.headers.get("content-range"))===null||p===void 0?void 0:p.split("/");O&&$&&$.length>1&&(_=parseInt($[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(b)&&(b.length>1?(y={code:"PGRST116",details:`Results contain ${b.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},b=null,_=null,C=406,k="Not Acceptable"):b.length===1?b=b[0]:b=null)}else{const O=await u.text();try{y=JSON.parse(O),Array.isArray(y)&&u.status===404&&(b=[],y=null,C=200,k="OK")}catch{u.status===404&&O===""?(C=204,k="No Content"):y={message:O}}if(y&&this.isMaybeSingle&&(!((g=y?.details)===null||g===void 0)&&g.includes("0 rows"))&&(y=null,C=200,k="OK"),y&&this.shouldThrowOnError)throw new n.default(y)}return{error:y,data:b,count:_,status:C,statusText:k}});return this.shouldThrowOnError||(l=l.catch(u=>{var f,p,g;return{error:{message:`${(f=u?.name)!==null&&f!==void 0?f:"FetchError"}: ${u?.message}`,details:`${(p=u?.stack)!==null&&p!==void 0?p:""}`,hint:"",code:`${(g=u?.code)!==null&&g!==void 0?g:""}`},data:null,count:null,status:0,statusText:""}})),l.then(s,o)}returns(){return this}overrideTypes(){return this}}return Ku.default=r,Ku}var kk;function dN(){if(kk)return Qu;kk=1;var e=Qu&&Qu.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Qu,"__esModule",{value:!0});const t=e(uN());class n extends t.default{select(i){let s=!1;const o=(i??"*").split("").map(a=>/\s/.test(a)&&!s?"":(a==='"'&&(s=!s),a)).join("");return this.url.searchParams.set("select",o),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(i,{ascending:s=!0,nullsFirst:o,foreignTable:a,referencedTable:l=a}={}){const u=l?`${l}.order`:"order",f=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${f?`${f},`:""}${i}.${s?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:s,referencedTable:o=s}={}){const a=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(a,`${i}`),this}range(i,s,{foreignTable:o,referencedTable:a=o}={}){const l=typeof a>"u"?"offset":`${a}.offset`,u=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${i}`),this.url.searchParams.set(u,`${s-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:i=!1,verbose:s=!1,settings:o=!1,buffers:a=!1,wal:l=!1,format:u="text"}={}){var f;const p=[i?"analyze":null,s?"verbose":null,o?"settings":null,a?"buffers":null,l?"wal":null].filter(Boolean).join("|"),g=(f=this.headers.Accept)!==null&&f!==void 0?f:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${u}; for="${g}"; options=${p};`,u==="json"?this:this}rollback(){var i;return((i=this.headers.Prefer)!==null&&i!==void 0?i:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return Qu.default=n,Qu}var Ek;function A_(){if(Ek)return Vu;Ek=1;var e=Vu&&Vu.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Vu,"__esModule",{value:!0});const t=e(dN());class n extends t.default{eq(i,s){return this.url.searchParams.append(i,`eq.${s}`),this}neq(i,s){return this.url.searchParams.append(i,`neq.${s}`),this}gt(i,s){return this.url.searchParams.append(i,`gt.${s}`),this}gte(i,s){return this.url.searchParams.append(i,`gte.${s}`),this}lt(i,s){return this.url.searchParams.append(i,`lt.${s}`),this}lte(i,s){return this.url.searchParams.append(i,`lte.${s}`),this}like(i,s){return this.url.searchParams.append(i,`like.${s}`),this}likeAllOf(i,s){return this.url.searchParams.append(i,`like(all).{${s.join(",")}}`),this}likeAnyOf(i,s){return this.url.searchParams.append(i,`like(any).{${s.join(",")}}`),this}ilike(i,s){return this.url.searchParams.append(i,`ilike.${s}`),this}ilikeAllOf(i,s){return this.url.searchParams.append(i,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(i,s){return this.url.searchParams.append(i,`ilike(any).{${s.join(",")}}`),this}is(i,s){return this.url.searchParams.append(i,`is.${s}`),this}in(i,s){const o=Array.from(new Set(s)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(i,`in.(${o})`),this}contains(i,s){return typeof s=="string"?this.url.searchParams.append(i,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(i,`cs.{${s.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(s)}`),this}containedBy(i,s){return typeof s=="string"?this.url.searchParams.append(i,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(i,`cd.{${s.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(s)}`),this}rangeGt(i,s){return this.url.searchParams.append(i,`sr.${s}`),this}rangeGte(i,s){return this.url.searchParams.append(i,`nxl.${s}`),this}rangeLt(i,s){return this.url.searchParams.append(i,`sl.${s}`),this}rangeLte(i,s){return this.url.searchParams.append(i,`nxr.${s}`),this}rangeAdjacent(i,s){return this.url.searchParams.append(i,`adj.${s}`),this}overlaps(i,s){return typeof s=="string"?this.url.searchParams.append(i,`ov.${s}`):this.url.searchParams.append(i,`ov.{${s.join(",")}}`),this}textSearch(i,s,{config:o,type:a}={}){let l="";a==="plain"?l="pl":a==="phrase"?l="ph":a==="websearch"&&(l="w");const u=o===void 0?"":`(${o})`;return this.url.searchParams.append(i,`${l}fts${u}.${s}`),this}match(i){return Object.entries(i).forEach(([s,o])=>{this.url.searchParams.append(s,`eq.${o}`)}),this}not(i,s,o){return this.url.searchParams.append(i,`not.${s}.${o}`),this}or(i,{foreignTable:s,referencedTable:o=s}={}){const a=o?`${o}.or`:"or";return this.url.searchParams.append(a,`(${i})`),this}filter(i,s,o){return this.url.searchParams.append(i,`${s}.${o}`),this}}return Vu.default=n,Vu}var Tk;function fN(){if(Tk)return qu;Tk=1;var e=qu&&qu.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(qu,"__esModule",{value:!0});const t=e(A_());class n{constructor(i,{headers:s={},schema:o,fetch:a}){this.url=i,this.headers=s,this.schema=o,this.fetch=a}select(i,{head:s=!1,count:o}={}){const a=s?"HEAD":"GET";let l=!1;const u=(i??"*").split("").map(f=>/\s/.test(f)&&!l?"":(f==='"'&&(l=!l),f)).join("");return this.url.searchParams.set("select",u),o&&(this.headers.Prefer=`count=${o}`),new t.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(i,{count:s,defaultToNull:o=!0}={}){const a="POST",l=[];if(this.headers.Prefer&&l.push(this.headers.Prefer),s&&l.push(`count=${s}`),o||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(i)){const u=i.reduce((f,p)=>f.concat(Object.keys(p)),[]);if(u.length>0){const f=[...new Set(u)].map(p=>`"${p}"`);this.url.searchParams.set("columns",f.join(","))}}return new t.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}upsert(i,{onConflict:s,ignoreDuplicates:o=!1,count:a,defaultToNull:l=!0}={}){const u="POST",f=[`resolution=${o?"ignore":"merge"}-duplicates`];if(s!==void 0&&this.url.searchParams.set("on_conflict",s),this.headers.Prefer&&f.push(this.headers.Prefer),a&&f.push(`count=${a}`),l||f.push("missing=default"),this.headers.Prefer=f.join(","),Array.isArray(i)){const p=i.reduce((g,y)=>g.concat(Object.keys(y)),[]);if(p.length>0){const g=[...new Set(p)].map(y=>`"${y}"`);this.url.searchParams.set("columns",g.join(","))}}return new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}update(i,{count:s}={}){const o="PATCH",a=[];return this.headers.Prefer&&a.push(this.headers.Prefer),s&&a.push(`count=${s}`),this.headers.Prefer=a.join(","),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}delete({count:i}={}){const s="DELETE",o=[];return i&&o.push(`count=${i}`),this.headers.Prefer&&o.unshift(this.headers.Prefer),this.headers.Prefer=o.join(","),new t.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return qu.default=n,qu}var eh={},th={},jk;function Eee(){return jk||(jk=1,Object.defineProperty(th,"__esModule",{value:!0}),th.version=void 0,th.version="0.0.0-automated"),th}var Nk;function Tee(){if(Nk)return eh;Nk=1,Object.defineProperty(eh,"__esModule",{value:!0}),eh.DEFAULT_HEADERS=void 0;const e=Eee();return eh.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${e.version}`},eh}var Ik;function jee(){if(Ik)return Wu;Ik=1;var e=Wu&&Wu.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(Wu,"__esModule",{value:!0});const t=e(fN()),n=e(A_()),r=Tee();class i{constructor(o,{headers:a={},schema:l,fetch:u}={}){this.url=o,this.headers=Object.assign(Object.assign({},r.DEFAULT_HEADERS),a),this.schemaName=l,this.fetch=u}from(o){const a=new URL(`${this.url}/${o}`);return new t.default(a,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new i(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,a={},{head:l=!1,get:u=!1,count:f}={}){let p;const g=new URL(`${this.url}/rpc/${o}`);let y;l||u?(p=l?"HEAD":"GET",Object.entries(a).filter(([_,C])=>C!==void 0).map(([_,C])=>[_,Array.isArray(C)?`{${C.join(",")}}`:`${C}`]).forEach(([_,C])=>{g.searchParams.append(_,C)})):(p="POST",y=a);const b=Object.assign({},this.headers);return f&&(b.Prefer=`count=${f}`),new n.default({method:p,url:g,headers:b,schema:this.schemaName,body:y,fetch:this.fetch,allowEmpty:!1})}}return Wu.default=i,Wu}var Rk;function Nee(){if(Rk)return Er;Rk=1;var e=Er&&Er.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(Er,"__esModule",{value:!0}),Er.PostgrestError=Er.PostgrestBuilder=Er.PostgrestTransformBuilder=Er.PostgrestFilterBuilder=Er.PostgrestQueryBuilder=Er.PostgrestClient=void 0;const t=e(jee());Er.PostgrestClient=t.default;const n=e(fN());Er.PostgrestQueryBuilder=n.default;const r=e(A_());Er.PostgrestFilterBuilder=r.default;const i=e(dN());Er.PostgrestTransformBuilder=i.default;const s=e(uN());Er.PostgrestBuilder=s.default;const o=e(cN());return Er.PostgrestError=o.default,Er.default={PostgrestClient:t.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:s.default,PostgrestError:o.default},Er}var Iee=Nee();const Ree=Di(Iee),{PostgrestClient:Pee,PostgrestQueryBuilder:ahe,PostgrestFilterBuilder:lhe,PostgrestTransformBuilder:che,PostgrestBuilder:uhe,PostgrestError:dhe}=Ree;function Oee(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const Mee=Oee(),Aee="2.11.15",Dee=`realtime-js/${Aee}`,Lee="1.0.0",hN=1e4,Fee=1e3;var Th;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Th||(Th={}));var Vr;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Vr||(Vr={}));var Hs;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Hs||(Hs={}));var _2;(function(e){e.websocket="websocket"})(_2||(_2={}));var gc;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(gc||(gc={}));class Bee{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const i=n.getUint8(1),s=n.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(t.slice(o,o+i));o=o+i;const l=r.decode(t.slice(o,o+s));o=o+s;const u=JSON.parse(r.decode(t.slice(o,t.byteLength)));return{ref:null,topic:a,event:l,payload:u}}}class pN{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Tn;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Tn||(Tn={}));const Pk=(e,t,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((s,o)=>(s[o]=zee(o,e,t,i),s),{})},zee=(e,t,n,r)=>{const i=t.find(a=>a.name===e),s=i?.type,o=n[e];return s&&!r.includes(s)?mN(s,o):S2(o)},mN=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return Wee(t,n)}switch(e){case Tn.bool:return $ee(t);case Tn.float4:case Tn.float8:case Tn.int2:case Tn.int4:case Tn.int8:case Tn.numeric:case Tn.oid:return Uee(t);case Tn.json:case Tn.jsonb:return Hee(t);case Tn.timestamp:return qee(t);case Tn.abstime:case Tn.date:case Tn.daterange:case Tn.int4range:case Tn.int8range:case Tn.money:case Tn.reltime:case Tn.text:case Tn.time:case Tn.timestamptz:case Tn.timetz:case Tn.tsrange:case Tn.tstzrange:return S2(t);default:return S2(t)}},S2=e=>e,$ee=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Uee=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Hee=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},Wee=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let s;const o=e.slice(1,n);try{s=JSON.parse("["+o+"]")}catch{s=o?o.split(","):[]}return s.map(a=>mN(t,a))}return e},qee=e=>typeof e=="string"?e.replace(" ","T"):e,gN=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Ix{constructor(t,n,r={},i=hN){this.channel=t,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Ok;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Ok||(Ok={}));class jh{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=jh.syncState(this.state,i,s,o),this.pendingDiffs.forEach(l=>{this.state=jh.syncDiff(this.state,l,s,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},i=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=jh.syncDiff(this.state,i,s,o),a())}),this.onJoin((i,s,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:o})}),this.onLeave((i,s,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,i){const s=this.cloneDeep(t),o=this.transformState(n),a={},l={};return this.map(s,(u,f)=>{o[u]||(l[u]=f)}),this.map(o,(u,f)=>{const p=s[u];if(p){const g=f.map(C=>C.presence_ref),y=p.map(C=>C.presence_ref),b=f.filter(C=>y.indexOf(C.presence_ref)<0),_=p.filter(C=>g.indexOf(C.presence_ref)<0);b.length>0&&(a[u]=b),_.length>0&&(l[u]=_)}else a[u]=f}),this.syncDiff(s,{joins:a,leaves:l},r,i)}static syncDiff(t,n,r,i){const{joins:s,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(s,(a,l)=>{var u;const f=(u=t[a])!==null&&u!==void 0?u:[];if(t[a]=this.cloneDeep(l),f.length>0){const p=t[a].map(y=>y.presence_ref),g=f.filter(y=>p.indexOf(y.presence_ref)<0);t[a].unshift(...g)}r(a,f,l)}),this.map(o,(a,l)=>{let u=t[a];if(!u)return;const f=l.map(p=>p.presence_ref);u=u.filter(p=>f.indexOf(p.presence_ref)<0),t[a]=u,i(a,u,l),u.length===0&&delete t[a]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const i=t[r];return"metas"in i?n[r]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):n[r]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Mk;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Mk||(Mk={}));var Ak;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Ak||(Ak={}));var Yo;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Yo||(Yo={}));class D_{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=Vr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Ix(this,Hs.join,this.params,this.timeout),this.rejoinTimer=new pN(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Vr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Vr.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Vr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Vr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Hs.reply,{},(i,s)=>{this._trigger(this._replyEventName(s),i)}),this.presence=new jh(this),this.broadcastEndpointURL=gN(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Vr.closed){const{config:{broadcast:s,presence:o,private:a}}=this.params;this._onError(f=>t?.(Yo.CHANNEL_ERROR,f)),this._onClose(()=>t?.(Yo.CLOSED));const l={},u={broadcast:s,presence:o,postgres_changes:(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(f=>f.filter))!==null&&i!==void 0?i:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},l)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:f})=>{var p;if(this.socket.setAuth(),f===void 0){t?.(Yo.SUBSCRIBED);return}else{const g=this.bindings.postgres_changes,y=(p=g?.length)!==null&&p!==void 0?p:0,b=[];for(let _=0;_<y;_++){const C=g[_],{filter:{event:k,schema:R,table:O,filter:$}}=C,z=f&&f[_];if(z&&z.event===k&&z.schema===R&&z.table===O&&z.filter===$)b.push(Object.assign(Object.assign({},C),{id:z.id}));else{this.unsubscribe(),this.state=Vr.errored,t?.(Yo.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=b,t&&t(Yo.SUBSCRIBED);return}}).receive("error",f=>{this.state=Vr.errored,t?.(Yo.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{t?.(Yo.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this._on(t,n,r)}async send(t,n={}){var r,i;if(!this._canPush()&&t.type==="broadcast"){const{event:s,payload:o}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var o,a,l;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&s("ok"),u.receive("ok",()=>s("ok")),u.receive("error",()=>s("error")),u.receive("timeout",()=>s("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Vr.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Hs.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new Ix(this,Hs.leave,{},t),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,n,r){const i=new AbortController,s=setTimeout(()=>i.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(s),o}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Ix(this,t,n,r);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var i,s;const o=t.toLocaleLowerCase(),{close:a,error:l,leave:u,join:f}=Hs;if(r&&[a,l,u,f].indexOf(o)>=0&&r!==this._joinRef())return;let g=this._onMessage(o,n,r);if(n&&!g)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(y=>{var b,_,C;return((b=y.filter)===null||b===void 0?void 0:b.event)==="*"||((C=(_=y.filter)===null||_===void 0?void 0:_.event)===null||C===void 0?void 0:C.toLocaleLowerCase())===o}).map(y=>y.callback(g,r)):(s=this.bindings[o])===null||s===void 0||s.filter(y=>{var b,_,C,k,R,O;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in y){const $=y.id,z=(b=y.filter)===null||b===void 0?void 0:b.event;return $&&((_=n.ids)===null||_===void 0?void 0:_.includes($))&&(z==="*"||z?.toLocaleLowerCase()===((C=n.data)===null||C===void 0?void 0:C.type.toLocaleLowerCase()))}else{const $=(R=(k=y?.filter)===null||k===void 0?void 0:k.event)===null||R===void 0?void 0:R.toLocaleLowerCase();return $==="*"||$===((O=n?.event)===null||O===void 0?void 0:O.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===o}).map(y=>{if(typeof g=="object"&&"ids"in g){const b=g.data,{schema:_,table:C,commit_timestamp:k,type:R,errors:O}=b;g=Object.assign(Object.assign({},{schema:_,table:C,commit_timestamp:k,eventType:R,new:{},old:{},errors:O}),this._getPayloadRecords(b))}y.callback(g,r)})}_isClosed(){return this.state===Vr.closed}_isJoined(){return this.state===Vr.joined}_isJoining(){return this.state===Vr.joining}_isLeaving(){return this.state===Vr.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const i=t.toLocaleLowerCase(),s={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===r&&D_.isEqual(i.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Hs.close,{},t)}_onError(t){this._on(Hs.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Vr.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=Pk(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=Pk(t.columns,t.old_record)),n}}const Dk=()=>{},Vee=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Qee{constructor(t,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=hN,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Dk,this.ref=0,this.logger=Dk,this.conn=null,this.sendBuffer=[],this.serializer=new Bee,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=s=>{let o;return s?o=s:typeof fetch>"u"?o=(...a)=>sp(async()=>{const{default:l}=await Promise.resolve().then(()=>tf);return{default:l}},void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${t}/${_2.websocket}`,this.httpEndpoint=gN(t),n?.transport?this.transport=n.transport:this.transport=null,n?.params&&(this.params=n.params),n?.timeout&&(this.timeout=n.timeout),n?.logger&&(this.logger=n.logger),(n?.logLevel||n?.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),n?.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const i=(r=n?.params)===null||r===void 0?void 0:r.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=n?.reconnectAfterMs?n.reconnectAfterMs:s=>[1e3,2e3,5e3,1e4][s-1]||1e4,this.encode=n?.encode?n.encode:(s,o)=>o(JSON.stringify(s)),this.decode=n?.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new pN(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n?.fetch),n?.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=n?.worker||!1,this.workerUrl=n?.workerUrl}this.accessToken=n?.accessToken||null}connect(){if(!this.conn){if(this.transport||(this.transport=Mee),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Lee}))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Th.connecting:return gc.Connecting;case Th.open:return gc.Open;case Th.closing:return gc.Closing;default:return gc.Closed}}isConnected(){return this.connectionState()===gc.Open}channel(t,n={config:{}}){const r=`realtime:${t}`,i=this.getChannels().find(s=>s.topic===r);if(i)return i;{const s=new D_(`realtime:${t}`,n,this);return this.channels.push(s),s}}push(t){const{topic:n,event:r,payload:i,ref:s}=t,o=()=>{this.encode(t,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${r} (${s})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let n=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const i={access_token:n,version:Dee};n&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(Hs.access_token,{access_token:n})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(Fee,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:r,event:i,payload:s,ref:o}=n;r==="phoenix"&&i==="phx_reply"&&this.heartbeatCallback(n.payload.status=="ok"?"ok":"error"),o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${s.status||""} ${r} ${i} ${o&&"("+o+")"||""}`,s),Array.from(this.channels).filter(a=>a._isMember(r)).forEach(a=>a._trigger(i,s,o)),this.stateChangeCallbacks.message.forEach(a=>a(n))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(t=>t())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",`${t}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Hs.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${r}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([Vee],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class L_ extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function jr(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class Kee extends L_{constructor(t,n,r){super(t),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class C2 extends L_{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var Gee=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(f){try{u(r.next(f))}catch(p){o(p)}}function l(f){try{u(r.throw(f))}catch(p){o(p)}}function u(f){f.done?s(f.value):i(f.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};const yN=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>sp(async()=>{const{default:r}=await Promise.resolve().then(()=>tf);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},Yee=()=>Gee(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield sp(()=>Promise.resolve().then(()=>tf),void 0)).Response:Response}),k2=e=>{if(Array.isArray(e))return e.map(n=>k2(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));t[i]=k2(r)}),t},Xee=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var Zc=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(f){try{u(r.next(f))}catch(p){o(p)}}function l(f){try{u(r.throw(f))}catch(p){o(p)}}function u(f){f.done?s(f.value):i(f.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};const Rx=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Jee=(e,t,n)=>Zc(void 0,void 0,void 0,function*(){const r=yield Yee();e instanceof r&&!n?.noResolveJson?e.json().then(i=>{const s=e.status||500,o=i?.statusCode||s+"";t(new Kee(Rx(i),s,o))}).catch(i=>{t(new C2(Rx(i),i))}):t(new C2(Rx(e),e))}),Zee=(e,t,n,r)=>{const i={method:e,headers:t?.headers||{}};return e==="GET"||!r?i:(Xee(r)?(i.headers=Object.assign({"Content-Type":"application/json"},t?.headers),i.body=JSON.stringify(r)):i.body=r,Object.assign(Object.assign({},i),n))};function Np(e,t,n,r,i,s){return Zc(this,void 0,void 0,function*(){return new Promise((o,a)=>{e(n,Zee(t,r,i,s)).then(l=>{if(!l.ok)throw l;return r?.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>Jee(l,a,r))})})}function Y0(e,t,n,r){return Zc(this,void 0,void 0,function*(){return Np(e,"GET",t,n,r)})}function Xo(e,t,n,r,i){return Zc(this,void 0,void 0,function*(){return Np(e,"POST",t,r,i,n)})}function E2(e,t,n,r,i){return Zc(this,void 0,void 0,function*(){return Np(e,"PUT",t,r,i,n)})}function ete(e,t,n,r){return Zc(this,void 0,void 0,function*(){return Np(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function vN(e,t,n,r,i){return Zc(this,void 0,void 0,function*(){return Np(e,"DELETE",t,r,i,n)})}var Ei=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(f){try{u(r.next(f))}catch(p){o(p)}}function l(f){try{u(r.throw(f))}catch(p){o(p)}}function u(f){f.done?s(f.value):i(f.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};const tte={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Lk={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class nte{constructor(t,n={},r,i){this.url=t,this.headers=n,this.bucketId=r,this.fetch=yN(i)}uploadOrUpdate(t,n,r,i){return Ei(this,void 0,void 0,function*(){try{let s;const o=Object.assign(Object.assign({},Lk),i);let a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(s=new FormData,s.append("cacheControl",o.cacheControl),l&&s.append("metadata",this.encodeMetadata(l)),s.append("",r)):typeof FormData<"u"&&r instanceof FormData?(s=r,s.append("cacheControl",o.cacheControl),l&&s.append("metadata",this.encodeMetadata(l))):(s=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),i?.headers&&(a=Object.assign(Object.assign({},a),i.headers));const u=this._removeEmptyFolders(n),f=this._getFinalPath(u),p=yield(t=="PUT"?E2:Xo)(this.fetch,`${this.url}/object/${f}`,s,Object.assign({headers:a},o?.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:p.Id,fullPath:p.Key},error:null}}catch(s){if(jr(s))return{data:null,error:s};throw s}})}upload(t,n,r){return Ei(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,i){return Ei(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(t),o=this._getFinalPath(s),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",n);try{let l;const u=Object.assign({upsert:Lk.upsert},i),f=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl)):(l=r,f["cache-control"]=`max-age=${u.cacheControl}`,f["content-type"]=u.contentType);const p=yield E2(this.fetch,a.toString(),l,{headers:f});return{data:{path:s,fullPath:p.Key},error:null}}catch(l){if(jr(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,n){return Ei(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const i=Object.assign({},this.headers);n?.upsert&&(i["x-upsert"]="true");const s=yield Xo(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),o=new URL(this.url+s.url),a=o.searchParams.get("token");if(!a)throw new L_("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:a},error:null}}catch(r){if(jr(r))return{data:null,error:r};throw r}})}update(t,n,r){return Ei(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return Ei(this,void 0,void 0,function*(){try{return{data:yield Xo(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(jr(i))return{data:null,error:i};throw i}})}copy(t,n,r){return Ei(this,void 0,void 0,function*(){try{return{data:{path:(yield Xo(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(jr(i))return{data:null,error:i};throw i}})}createSignedUrl(t,n,r){return Ei(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),s=yield Xo(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r?.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r?.download?`&download=${r.download===!0?"":r.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${o}`)},{data:s,error:null}}catch(i){if(jr(i))return{data:null,error:i};throw i}})}createSignedUrls(t,n,r){return Ei(this,void 0,void 0,function*(){try{const i=yield Xo(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),s=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${s}`):null})),error:null}}catch(i){if(jr(i))return{data:null,error:i};throw i}})}download(t,n){return Ei(this,void 0,void 0,function*(){const i=typeof n?.transform<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString(n?.transform||{}),o=s?`?${s}`:"";try{const a=this._getFinalPath(t);return{data:yield(yield Y0(this.fetch,`${this.url}/${i}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(jr(a))return{data:null,error:a};throw a}})}info(t){return Ei(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield Y0(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:k2(r),error:null}}catch(r){if(jr(r))return{data:null,error:r};throw r}})}exists(t){return Ei(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield ete(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(jr(r)&&r instanceof C2){const i=r.originalError;if([400,404].includes(i?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),i=[],s=n?.download?`download=${n.download===!0?"":n.download}`:"";s!==""&&i.push(s);const a=typeof n?.transform<"u"?"render/image":"object",l=this.transformOptsToQueryString(n?.transform||{});l!==""&&i.push(l);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${u}`)}}}remove(t){return Ei(this,void 0,void 0,function*(){try{return{data:yield vN(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(jr(n))return{data:null,error:n};throw n}})}list(t,n,r){return Ei(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},tte),n),{prefix:t||""});return{data:yield Xo(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(jr(i))return{data:null,error:i};throw i}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const rte="2.10.4",ite={"X-Client-Info":`storage-js/${rte}`};var Gu=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(f){try{u(r.next(f))}catch(p){o(p)}}function l(f){try{u(r.throw(f))}catch(p){o(p)}}function u(f){f.done?s(f.value):i(f.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};class ste{constructor(t,n={},r,i){const s=new URL(t);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href,this.headers=Object.assign(Object.assign({},ite),n),this.fetch=yN(r)}listBuckets(){return Gu(this,void 0,void 0,function*(){try{return{data:yield Y0(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(jr(t))return{data:null,error:t};throw t}})}getBucket(t){return Gu(this,void 0,void 0,function*(){try{return{data:yield Y0(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(jr(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return Gu(this,void 0,void 0,function*(){try{return{data:yield Xo(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(jr(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return Gu(this,void 0,void 0,function*(){try{return{data:yield E2(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(jr(r))return{data:null,error:r};throw r}})}emptyBucket(t){return Gu(this,void 0,void 0,function*(){try{return{data:yield Xo(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(jr(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Gu(this,void 0,void 0,function*(){try{return{data:yield vN(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(jr(n))return{data:null,error:n};throw n}})}}class ote extends ste{constructor(t,n={},r,i){super(t,n,r,i)}from(t){return new nte(this.url,this.headers,t,this.fetch)}}const ate="2.53.0";let ph="";typeof Deno<"u"?ph="deno":typeof document<"u"?ph="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ph="react-native":ph="node";const lte={"X-Client-Info":`supabase-js-${ph}/${ate}`},cte={headers:lte},ute={schema:"public"},dte={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},fte={};var hte=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(f){try{u(r.next(f))}catch(p){o(p)}}function l(f){try{u(r.throw(f))}catch(p){o(p)}}function u(f){f.done?s(f.value):i(f.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};const pte=e=>{let t;return e?t=e:typeof fetch>"u"?t=aN:t=fetch,(...n)=>t(...n)},mte=()=>typeof Headers>"u"?lN:Headers,gte=(e,t,n)=>{const r=pte(n),i=mte();return(s,o)=>hte(void 0,void 0,void 0,function*(){var a;const l=(a=yield t())!==null&&a!==void 0?a:e;let u=new i(o?.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(s,Object.assign(Object.assign({},o),{headers:u}))})};var yte=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(f){try{u(r.next(f))}catch(p){o(p)}}function l(f){try{u(r.throw(f))}catch(p){o(p)}}function u(f){f.done?s(f.value):i(f.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};function vte(e){return e.endsWith("/")?e:e+"/"}function xte(e,t){var n,r;const{db:i,auth:s,realtime:o,global:a}=e,{db:l,auth:u,realtime:f,global:p}=t,g={db:Object.assign(Object.assign({},l),i),auth:Object.assign(Object.assign({},u),s),realtime:Object.assign(Object.assign({},f),o),storage:{},global:Object.assign(Object.assign(Object.assign({},p),a),{headers:Object.assign(Object.assign({},(n=p?.headers)!==null&&n!==void 0?n:{}),(r=a?.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>yte(this,void 0,void 0,function*(){return""})};return e.accessToken?g.accessToken=e.accessToken:delete g.accessToken,g}const xN="2.71.1",ad=30*1e3,T2=3,Px=T2*ad,bte="http://localhost:9999",wte="supabase.auth.token",_te={"X-Client-Info":`gotrue-js/${xN}`},j2="X-Supabase-Api-Version",bN={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Ste=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Cte=600*1e3;class F_ extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function Mt(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class kte extends F_{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function Ete(e){return Mt(e)&&e.name==="AuthApiError"}class wN extends F_{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class El extends F_{constructor(t,n,r,i){super(t,r,i),this.name=n,this.status=r}}class Ha extends El{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Tte(e){return Mt(e)&&e.name==="AuthSessionMissingError"}class Tg extends El{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class jg extends El{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Ng extends El{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function jte(e){return Mt(e)&&e.name==="AuthImplicitGrantRedirectError"}class Fk extends El{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class N2 extends El{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function Ox(e){return Mt(e)&&e.name==="AuthRetryableFetchError"}class Bk extends El{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class I2 extends El{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const X0="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),zk=` 	
\r=`.split(""),Nte=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<zk.length;t+=1)e[zk[t].charCodeAt(0)]=-2;for(let t=0;t<X0.length;t+=1)e[X0[t].charCodeAt(0)]=t;return e})();function $k(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(X0[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(X0[r]),t.queuedBits-=6}}function _N(e,t,n){const r=Nte[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Uk(e){const t=[],n=o=>{t.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=o=>{Pte(o,r,n)};for(let o=0;o<e.length;o+=1)_N(e.charCodeAt(o),i,s);return t.join("")}function Ite(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function Rte(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}Ite(r,t)}}function Pte(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if((e>>7-r&1)===0){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function Ote(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)_N(e.charCodeAt(i),n,r);return new Uint8Array(t)}function Mte(e){const t=[];return Rte(e,n=>t.push(n)),new Uint8Array(t)}function Ate(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};return e.forEach(i=>$k(i,n,r)),$k(null,n,r),t.join("")}function Dte(e){return Math.round(Date.now()/1e3)+e}function Lte(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const $s=()=>typeof window<"u"&&typeof document<"u",ac={tested:!1,writable:!1},SN=()=>{if(!$s())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ac.tested)return ac.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),ac.tested=!0,ac.writable=!0}catch{ac.tested=!0,ac.writable=!1}return ac.writable};function Fte(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,s)=>{t[s]=i})}catch{}return n.searchParams.forEach((r,i)=>{t[i]=r}),t}const CN=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>sp(async()=>{const{default:r}=await Promise.resolve().then(()=>tf);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},Bte=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",ld=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},lc=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},za=async(e,t)=>{await e.removeItem(t)};class J1{constructor(){this.promise=new J1.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}J1.promiseConstructor=Promise;function Mx(e){const t=e.split(".");if(t.length!==3)throw new I2("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!Ste.test(t[r]))throw new I2("JWT not in base64url format");return{header:JSON.parse(Uk(t[0])),payload:JSON.parse(Uk(t[1])),signature:Ote(t[2]),raw:{header:t[0],payload:t[1]}}}async function zte(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function $te(e,t){return new Promise((r,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const o=await e(s);if(!t(s,null,o)){r(o);return}}catch(o){if(!t(s,o)){i(o);return}}})()})}function Ute(e){return("0"+e.toString(16)).substr(-2)}function Hte(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let s=0;s<56;s++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,Ute).join("")}async function Wte(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function qte(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await Wte(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Yu(e,t,n=!1){const r=Hte();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await ld(e,`${t}-code-verifier`,i);const s=await qte(r);return[s,r===s?"plain":"s256"]}const Vte=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Qte(e){const t=e.headers.get(j2);if(!t||!t.match(Vte))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Kte(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function Gte(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Yte=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Xu(e){if(!Yte.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Ax(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Hk(e){return JSON.parse(JSON.stringify(e))}var Xte=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const pc=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Jte=[502,503,504];async function Wk(e){var t;if(!Bte(e))throw new N2(pc(e),0);if(Jte.includes(e.status))throw new N2(pc(e),e.status);let n;try{n=await e.json()}catch(s){throw new wN(pc(s),s)}let r;const i=Qte(e);if(i&&i.getTime()>=bN["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Bk(pc(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new Ha}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((s,o)=>s&&typeof o=="string",!0))throw new Bk(pc(n),e.status,n.weak_password.reasons);throw new kte(pc(n),e.status||500,r)}const Zte=(e,t,n,r)=>{const i={method:e,headers:t?.headers||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function Vt(e,t,n,r){var i;const s=Object.assign({},r?.headers);s[j2]||(s[j2]=bN["2024-01-01"].name),r?.jwt&&(s.Authorization=`Bearer ${r.jwt}`);const o=(i=r?.query)!==null&&i!==void 0?i:{};r?.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await ene(e,t,n+a,{headers:s,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(l):{data:Object.assign({},l),error:null}}async function ene(e,t,n,r,i,s){const o=Zte(t,r,i,s);let a;try{a=await e(n,Object.assign({},o))}catch(l){throw console.error(l),new N2(pc(l),0)}if(a.ok||await Wk(a),r?.noResolveJson)return a;try{return await a.json()}catch(l){await Wk(l)}}function Qo(e){var t;let n=null;ine(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=Dte(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function qk(e){const t=Qo(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Ya(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function tne(e){return{data:e,error:null}}function nne(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s}=e,o=Xte(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function rne(e){return e}function ine(e){return e.access_token&&e.refresh_token&&e.expires_in}const Dx=["global","local","others"];var sne=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};class one{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=CN(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n=Dx[0]){if(Dx.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Dx.join(", ")}`);try{return await Vt(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Mt(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await Vt(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Ya})}catch(r){if(Mt(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=sne(t,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r?.newEmail,delete i.newEmail),await Vt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:nne,redirectTo:n?.redirectTo})}catch(n){if(Mt(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await Vt(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Ya})}catch(n){if(Mt(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,i,s,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},f=await Vt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(s=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:rne});if(f.error)throw f.error;const p=await f.json(),g=(o=f.headers.get("x-total-count"))!==null&&o!==void 0?o:0,y=(l=(a=f.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return y.length>0&&(y.forEach(b=>{const _=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(b.split(";")[1].split("=")[1]);u[`${C}Page`]=_}),u.total=parseInt(g)),{data:Object.assign(Object.assign({},p),u),error:null}}catch(u){if(Mt(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Xu(t);try{return await Vt(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Ya})}catch(n){if(Mt(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Xu(t);try{return await Vt(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Ya})}catch(r){if(Mt(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){Xu(t);try{return await Vt(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Ya})}catch(r){if(Mt(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){Xu(t.userId);try{const{data:n,error:r}=await Vt(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(Mt(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Xu(t.userId),Xu(t.id);try{return{data:await Vt(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(Mt(n))return{data:null,error:n};throw n}}}function Vk(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function ane(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Ju={debug:!!(globalThis&&SN()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class kN extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class lne extends kN{}async function cne(e,t,n){Ju.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Ju.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){Ju.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await n()}finally{Ju.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw Ju.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new lne(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Ju.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}ane();const une={url:bte,storageKey:wte,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:_te,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Qk(e,t,n){return await n()}const Zu={};class tp{constructor(t){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=tp.nextInstanceID,tp.nextInstanceID+=1,this.instanceID>0&&$s()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},une),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new one({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=CN(i.fetch),this.lock=i.lock||Qk,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:$s()&&(!((n=globalThis?.navigator)===null||n===void 0)&&n.locks)?this.lock=cne:this.lock=Qk,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:SN()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Vk(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=Vk(this.memoryStorage)),$s()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}get jwks(){var t,n;return(n=(t=Zu[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){Zu[this.storageKey]=Object.assign(Object.assign({},Zu[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=Zu[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Zu[this.storageKey]=Object.assign(Object.assign({},Zu[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${xN}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=Fte(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),$s()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:s}=await this._getSessionFromURL(n,r);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),jte(s)){const l=(t=s.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:o,redirectType:a}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Mt(n)?{error:n}:{error:new wN("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,i;try{const s=await Vt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t?.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=t?.options)===null||i===void 0?void 0:i.captchaToken}},xform:Qo}),{data:o,error:a}=s;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if(Mt(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(t){var n,r,i;try{let s;if("email"in t){const{email:f,password:p,options:g}=t;let y=null,b=null;this.flowType==="pkce"&&([y,b]=await Yu(this.storage,this.storageKey)),s=await Vt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:g?.emailRedirectTo,body:{email:f,password:p,data:(n=g?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:g?.captchaToken},code_challenge:y,code_challenge_method:b},xform:Qo})}else if("phone"in t){const{phone:f,password:p,options:g}=t;s=await Vt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:f,password:p,data:(r=g?.data)!==null&&r!==void 0?r:{},channel:(i=g?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:g?.captchaToken}},xform:Qo})}else throw new jg("You must provide either an email or phone number and a password");const{data:o,error:a}=s;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if(Mt(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(t){try{let n;if("email"in t){const{email:s,password:o,options:a}=t;n=await Vt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:o,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:qk})}else if("phone"in t){const{phone:s,password:o,options:a}=t;n=await Vt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:o,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:qk})}else throw new jg("You must provide either an email or phone number and a password");const{data:r,error:i}=n;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Tg}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(Mt(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,i,s;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;if(n==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(t){var n,r,i,s,o,a,l,u,f,p,g,y;let b,_;if("message"in t)b=t.message,_=t.signature;else{const{chain:C,wallet:k,statement:R,options:O}=t;let $;if($s())if(typeof k=="object")$=k;else{const j=window;if("solana"in j&&typeof j.solana=="object"&&("signIn"in j.solana&&typeof j.solana.signIn=="function"||"signMessage"in j.solana&&typeof j.solana.signMessage=="function"))$=j.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof k!="object"||!O?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");$=k}const z=new URL((n=O?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in $&&$.signIn){const j=await $.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},O?.signInWithSolana),{version:"1",domain:z.host,uri:z.href}),R?{statement:R}:null));let A;if(Array.isArray(j)&&j[0]&&typeof j[0]=="object")A=j[0];else if(j&&typeof j=="object"&&"signedMessage"in j&&"signature"in j)A=j;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in A&&"signature"in A&&(typeof A.signedMessage=="string"||A.signedMessage instanceof Uint8Array)&&A.signature instanceof Uint8Array)b=typeof A.signedMessage=="string"?A.signedMessage:new TextDecoder().decode(A.signedMessage),_=A.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in $)||typeof $.signMessage!="function"||!("publicKey"in $)||typeof $!="object"||!$.publicKey||!("toBase58"in $.publicKey)||typeof $.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");b=[`${z.host} wants you to sign in with your Solana account:`,$.publicKey.toBase58(),...R?["",R,""]:[""],"Version: 1",`URI: ${z.href}`,`Issued At: ${(i=(r=O?.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=O?.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${O.signInWithSolana.notBefore}`]:[],...!((o=O?.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${O.signInWithSolana.expirationTime}`]:[],...!((a=O?.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${O.signInWithSolana.chainId}`]:[],...!((l=O?.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${O.signInWithSolana.nonce}`]:[],...!((u=O?.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${O.signInWithSolana.requestId}`]:[],...!((p=(f=O?.signInWithSolana)===null||f===void 0?void 0:f.resources)===null||p===void 0)&&p.length?["Resources",...O.signInWithSolana.resources.map(A=>`- ${A}`)]:[]].join(`
`);const j=await $.signMessage(new TextEncoder().encode(b),"utf8");if(!j||!(j instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");_=j}}try{const{data:C,error:k}=await Vt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:b,signature:Ate(_)},!((g=t.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(y=t.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:Qo});if(k)throw k;return!C||!C.session||!C.user?{data:{user:null,session:null},error:new Tg}:(C.session&&(await this._saveSession(C.session),await this._notifyAllSubscribers("SIGNED_IN",C.session)),{data:Object.assign({},C),error:k})}catch(C){if(Mt(C))return{data:{user:null,session:null},error:C};throw C}}async _exchangeCodeForSession(t){const n=await lc(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:s,error:o}=await Vt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:Qo});if(await za(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new Tg}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:o})}catch(s){if(Mt(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(t){try{const{options:n,provider:r,token:i,access_token:s,nonce:o}=t,a=await Vt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:s,nonce:o,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:Qo}),{data:l,error:u}=a;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Tg}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(n){if(Mt(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,i,s,o;try{if("email"in t){const{email:a,options:l}=t;let u=null,f=null;this.flowType==="pkce"&&([u,f]=await Yu(this.storage,this.storageKey));const{error:p}=await Vt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l?.data)!==null&&n!==void 0?n:{},create_user:(r=l?.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},code_challenge:u,code_challenge_method:f},redirectTo:l?.emailRedirectTo});return{data:{user:null,session:null},error:p}}if("phone"in t){const{phone:a,options:l}=t,{data:u,error:f}=await Vt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(i=l?.data)!==null&&i!==void 0?i:{},create_user:(s=l?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},channel:(o=l?.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u?.message_id},error:f}}throw new jg("You must provide either an email or phone number.")}catch(a){if(Mt(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(t){var n,r;try{let i,s;"options"in t&&(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo,s=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await Vt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:Qo});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l?.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(Mt(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var n,r,i;try{let s=null,o=null;return this.flowType==="pkce"&&([s,o]=await Yu(this.storage,this.storageKey)),await Vt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=t?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:o}),headers:this.headers,xform:tne})}catch(s){if(Mt(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new Ha;const{error:i}=await Vt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(Mt(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:i,options:s}=t,{error:o}=await Vt(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:s?.captchaToken}},redirectTo:s?.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:r,type:i,options:s}=t,{data:o,error:a}=await Vt(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:s?.captchaToken}}});return{data:{user:null,session:null,messageId:o?.message_id},error:a}}throw new jg("You must provide either an email or phone number and a type")}catch(n){if(Mt(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await lc(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<Px:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const o=await lc(this.userStorage,this.storageKey+"-user");o?.user?t.user=o.user:t.user=Ax()}if(this.storage.isServer&&t.user){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,u,f)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,f))})}return{data:{session:t},error:null}}const{session:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Vt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Ya}):await this._useSession(async n=>{var r,i,s;const{data:o,error:a}=n;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ha}:await Vt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:Ya})})}catch(n){if(Mt(n))return Tte(n)&&(await this._removeSession(),await za(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:i,error:s}=r;if(s)throw s;if(!i.session)throw new Ha;const o=i.session;let a=null,l=null;this.flowType==="pkce"&&t.email!=null&&([a,l]=await Yu(this.storage,this.storageKey));const{data:u,error:f}=await Vt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Ya});if(f)throw f;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(Mt(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Ha;const n=Date.now()/1e3;let r=n,i=!0,s=null;const{payload:o}=Mx(t.access_token);if(o.exp&&(r=o.exp,i=r<=n),i){const{session:a,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};s=a}else{const{data:a,error:l}=await this._getUser(t.access_token);if(l)throw l;s={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(n){if(Mt(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:o,error:a}=n;if(a)throw a;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!t?.refresh_token)throw new Ha;const{session:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(Mt(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!$s())throw new Ng("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Ng(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Fk("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ng("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Fk("No code detected.");const{data:R,error:O}=await this._exchangeCodeForSession(t.code);if(O)throw O;const $=new URL(window.location.href);return $.searchParams.delete("code"),window.history.replaceState(window.history.state,"",$.toString()),{data:{session:R.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:s,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=t;if(!s||!a||!o||!u)throw new Ng("No session defined in URL");const f=Math.round(Date.now()/1e3),p=parseInt(a);let g=f+p;l&&(g=parseInt(l));const y=g-f;y*1e3<=ad&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${p}s`);const b=g-p;f-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,g,f):f-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,g,f);const{data:_,error:C}=await this._getUser(s);if(C)throw C;const k={provider_token:r,provider_refresh_token:i,access_token:s,expires_in:p,expires_at:g,refresh_token:o,token_type:u,user:_.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:k,redirectType:t.type},error:null}}catch(r){if(Mt(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await lc(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{error:s};const o=(r=i.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,t);if(a&&!(Ete(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return t!=="others"&&(await this._removeSession(),await za(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=Lte(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,i;try{const{data:{session:s},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}})}async resetPasswordForEmail(t,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await Yu(this.storage,this.storageKey,!0));try{return await Vt(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(s){if(Mt(s))return{data:null,error:s};throw s}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(Mt(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:i}=await this._useSession(async s=>{var o,a,l,u,f;const{data:p,error:g}=s;if(g)throw g;const y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await Vt(this.fetch,"GET",y,{headers:this.headers,jwt:(f=(u=p.session)===null||u===void 0?void 0:u.access_token)!==null&&f!==void 0?f:void 0})});if(i)throw i;return $s()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r?.url),{data:{provider:t.provider,url:r?.url},error:null}}catch(r){if(Mt(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,i;const{data:s,error:o}=n;if(o)throw o;return await Vt(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(r=s.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(Mt(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await $te(async i=>(i>0&&await zte(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await Vt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Qo})),(i,s)=>{const o=200*Math.pow(2,i);return s&&Ox(s)&&Date.now()+o-r<ad})}catch(r){if(this._debug(n,"error",r),Mt(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),$s()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await lc(this.storage,this.storageKey);if(i&&this.userStorage){let o=await lc(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await ld(this.userStorage,this.storageKey+"-user",o)),i.user=(t=o?.user)!==null&&t!==void 0?t:Ax()}else if(i&&!i.user&&!i.user){const o=await lc(this.storage,this.storageKey+"-user");o&&o?.user?(i.user=o.user,await za(this.storage,this.storageKey+"-user"),await ld(this.storage,this.storageKey,i)):i.user=Ax()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const s=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Px;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${Px}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),Ox(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(i.access_token);!a&&o?.user?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new Ha;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new J1;const{data:s,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!s.session)throw new Ha;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const a={session:s.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(s){if(this._debug(i,"error",s),Mt(s)){const o={session:null,error:s};return Ox(s)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,n,r=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const s=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,n)}catch(l){s.push(l)}});if(await Promise.all(o),s.length>0){for(let a=0;a<s.length;a+=1)console.error(s[a]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await ld(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const s=Hk(i);await ld(this.storage,this.storageKey,s)}else{const i=Hk(n);await ld(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await za(this.storage,this.storageKey),await za(this.storage,this.storageKey+"-code-verifier"),await za(this.storage,this.storageKey+"-user"),this.userStorage&&await za(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&$s()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),ad);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-t)/ad);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${ad}ms, refresh threshold is ${T2} ticks`),i<=T2&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof kN)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!$s()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r?.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[s,o]=await Yu(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(a.toString())}if(r?.queryParams){const s=new URLSearchParams(r.queryParams);i.push(s.toString())}return r?.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;return s?{data:null,error:s}:await Vt(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Mt(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,i;const{data:s,error:o}=n;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:l,error:u}=await Vt(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=s?.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((i=l?.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(Mt(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{data:null,error:s};const{data:o,error:a}=await Vt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(n){if(Mt(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;return s?{data:null,error:s}:await Vt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Mt(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=t?.factors||[],i=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),s=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:i,phone:s},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:i},error:s}=t;if(s)return{data:null,error:s};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Mx(i.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((r=(n=i.user.factors)===null||n===void 0?void 0:n.filter(p=>p.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const f=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:f},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(a=>a.kid===t);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(a=>a.kid===t),r&&this.jwks_cached_at+Cte>i)return r;const{data:s,error:o}=await Vt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,r=s.keys.find(a=>a.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:y,error:b}=await this.getSession();if(b||!y.session)return{data:null,error:b};r=y.session.access_token}const{header:i,payload:s,signature:o,raw:{header:a,payload:l}}=Mx(r);n?.allowExpired||Kte(s.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!u){const{error:y}=await this.getUser(r);if(y)throw y;return{data:{claims:s,header:i,signature:o},error:null}}const f=Gte(i.alg),p=await crypto.subtle.importKey("jwk",u,f,!0,["verify"]);if(!await crypto.subtle.verify(f,p,o,Mte(`${a}.${l}`)))throw new I2("Invalid JWT signature");return{data:{claims:s,header:i,signature:o},error:null}}catch(r){if(Mt(r))return{data:null,error:r};throw r}}}tp.nextInstanceID=0;const dne=tp;class fne extends dne{constructor(t){super(t)}}var hne=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(f){try{u(r.next(f))}catch(p){o(p)}}function l(f){try{u(r.throw(f))}catch(p){o(p)}}function u(f){f.done?s(f.value):i(f.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};class pne{constructor(t,n,r){var i,s,o;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const a=vte(t),l=new URL(a);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const u=`sb-${l.hostname.split(".")[0]}-auth-token`,f={db:ute,realtime:fte,auth:Object.assign(Object.assign({},dte),{storageKey:u}),global:cte},p=xte(r??{},f);this.storageKey=(i=p.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=p.global.headers)!==null&&s!==void 0?s:{},p.accessToken?(this.accessToken=p.accessToken,this.auth=new Proxy({},{get:(g,y)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(y)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=p.auth)!==null&&o!==void 0?o:{},this.headers,p.global.fetch),this.fetch=gte(n,this._getAccessToken.bind(this),p.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},p.realtime)),this.rest=new Pee(new URL("rest/v1",l).href,{headers:this.headers,schema:p.db.schema,fetch:this.fetch}),this.storage=new ote(this.storageUrl.href,this.headers,this.fetch,r?.storage),p.accessToken||this._listenForAuthEvents()}get functions(){return new bee(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return hne(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,storageKey:s,flowType:o,lock:a,debug:l},u,f){const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new fne({url:this.authUrl.href,headers:Object.assign(Object.assign({},p),u),storageKey:s,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,flowType:o,lock:a,debug:l,fetch:f,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new Qee(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r?.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const mne=(e,t,n)=>new pne(e,t,n);function gne(){if(typeof window<"u"||typeof process>"u"||process.version===void 0||process.version===null)return!1;const e=process.version.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}gne()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");function Kk(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var ed=[..."".normalize("NFD")].map(e=>e.charCodeAt(0)),Gk=44032,yne=55203,Lx=28,Yk=21,R2={"":"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},P2={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},vne=["","","","","","","","","","","","","","","","","","",""],xne=Object.values(P2),bne=["","","","","","","","","","","","","","","","","","","","","","","","","","","",""].map(e=>R2[e]);function wne(e){const t=e.charCodeAt(0);if(!(Gk<=t&&t<=yne))return;const r=t-Gk,i=r%Lx,s=(r-i)/Lx%Yk,o=Math.floor((r-i)/Lx/Yk);return{choseong:vne[o],jungseong:xne[s],jongseong:bne[i]}}function _ne(e){const t=[];for(const n of e){const r=wne(n);if(r!=null){t.push([...r.choseong,...r.jungseong,...r.jongseong]);continue}if(Kk(R2,n)){const i=R2[n];t.push([...i]);continue}if(Kk(P2,n)){const i=P2[n];t.push([...i]);continue}t.push([n])}return t}function Dd(e){return _ne(e).reduce((t,n)=>`${t}${n.join("")}`,"")}var J0={START_CHOSEONG:ed[0],START_JUNGSEONG:ed[1],START_JONGSEONG:ed[2],END_CHOSEONG:ed[3],END_JUNGSEONG:ed[4],END_JONGSEONG:ed[5]};new RegExp(`[^\\u${J0.START_CHOSEONG.toString(16)}-\\u${J0.END_CHOSEONG.toString(16)}-\\s]+`,"ug");new RegExp(`[\\u${J0.START_CHOSEONG.toString(16)}-\\u${J0.END_CHOSEONG.toString(16)}]`,"g");const Sne=mne("https://jvbtsubxzytnjnzxmtbg.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imp2YnRzdWJ4enl0bmpuenhtdGJnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQyMzMyMzgsImV4cCI6MjA2OTgwOTIzOH0.uUpg4kO7-uLmswUo8Dp_-WZwKw_xKqxRrpGmM2tN02I"),Cne=30*1e3,kne=10*1e3,Ene=60*1e3,Tne=5,Ig="searchLoggingData",jne="searches_prod_2",Ot={timer:null,commitDelay:Cne,data:[],loadLoggingData(){if(Ot.data.length>0)return Ot.data;const e=localStorage.getItem(Ig);return e&&(Ot.data=JSON.parse(e)),Ot.data},updateLoggingData(e,t,n){const r=!t||isNaN(Number(t))?-1:Number(t),s={search:e===void 0&&Ot.data.length>0?Ot.data[Ot.data.length-1].search:e??"",dprt_cd:r,target:n,created_at:Date.now()};if((a=>{if(Ot.data.length===0)return!1;const l=Ot.data[Ot.data.length-1];return l.target<0&&(Fx(l.search,a.search)||Fx(a.search,l.search))})(s)){const a=Ot.data[Ot.data.length-1];a.target=n,a.created_at=Date.now(),Fx(s.search,a.search)&&(a.search=s.search),s.dprt_cd>=0&&(a.dprt_cd=s.dprt_cd)}else Ot.data.push(s);localStorage.setItem(Ig,JSON.stringify(Ot.data)),Ot.submitDelayCommit()},reconcileLoggingData(){Ot.data=Ot.data.filter(e=>!(e.search&&e.dprt_cd<0&&e.target<0)),Ot.data=Ot.data.filter((e,t)=>!(t>0&&e.search===Ot.data[t-1].search&&e.dprt_cd===Ot.data[t-1].dprt_cd&&e.target===-1)),localStorage.setItem(Ig,JSON.stringify(Ot.data))},submitDelayCommit(){if(Ot.timer&&(clearTimeout(Ot.timer),Ot.timer=null),Ot.data.length>Tne){const e=Ot.data.map(r=>r.created_at),t=e.slice(1).map((r,i)=>r-e[i]),n=t.reduce((r,i)=>r+i,0)/t.length;Ot.commitDelay=Math.min(Ene,Math.max(kne,n+10*1e3))}Ot.timer=setTimeout(()=>{Ot.timer=null,Ot.commitLoggingData()},Ot.commitDelay)},commitLoggingData(){Ot.reconcileLoggingData();const e=Ot.data.length;if(e===0)return;const t=Ot.data.map(({search:n,dprt_cd:r,target:i})=>({search:n,dprt_cd:r,target:i}));Sne.from(jne).insert(t).then(({error:n})=>{n?console.error("Error committing search logging data:",n):(Ot.data=Ot.data.slice(e),localStorage.setItem(Ig,JSON.stringify(Ot.data)))})}};function Fx(e,t){const n=Dd(e).toLowerCase(),r=Dd(t).toLowerCase();return n.includes(r)}function Ip(){I.useEffect(()=>{Ot.loadLoggingData()},[]);function e(r,i){Ot.updateLoggingData(r,i,-1)}function t(r,i,s){Ot.updateLoggingData(r,i,s)}function n(r){Ot.updateLoggingData(void 0,void 0,r)}return{onSearchChange:e,selectTarget:t,selectTargetOnly:n}}function EN({subject:e,className:t,onClick:n,...r}){const{data:i}=K1(),{mutate:s}=O_(),{mutate:o}=nN(),{selectTargetOnly:a}=Ip(),l=i?.some(p=>p.subjectId===e.subjectId),u=l?"  ":"  ",f=p=>{if(a(e.subjectId),X1(e.deptCd),n&&n(p),!l){o(e.subjectId);return}s(e.subjectId)};return h.jsx("button",{className:"cursor-pointer "+(t??""),title:u,"aria-label":u,onClick:f,...r,children:h.jsx(Xd,{disabled:!l})})}function Nne({subject:e,seats:t,queryTime:n,disableSeat:r=!1,className:i,isLive:s=!1}){const o=e.isDeleted,a=e.curiLangNm==="",l=typeof e.tmNum=="string"&&Number(e.tmNum.split("/")[0])||0;return h.jsxs("div",{className:"bg-gray-50 shadow-sm rounded-lg p-4 "+i,children:[h.jsxs("div",{className:"flex justify-between",children:[h.jsx("h3",{className:"font-bold",children:e.subjectName}),h.jsx(EN,{subject:e})]}),h.jsxs("div",{className:"mb-2 text-xs text-gray-500",children:[h.jsx("p",{children:e.departmentName}),h.jsxs("p",{children:[e.subjectCode,"-",e.classCode," | ",e.professorName]})]}),h.jsxs("p",{className:"text-xs text-gray-500 mb-2",children:[e.studentYear," ",e.curiTypeCdNm," | ",l," | ",e.lesnTime]}),!r&&h.jsxs("div",{className:"flex justify-between items-baseline",children:[h.jsxs("p",{className:`text-sm px-2 py-1 rounded-full font-bold ${Xc(t)}`,children:[": ",t<0?"???":t]}),!s&&h.jsx("p",{className:"text-xs text-gray-500",children:N_(n)}),o&&h.jsx("p",{className:"text-xs text-gray-500",children:""}),a&&h.jsx("p",{className:"text-xs text-gray-500",children:""})]})]})}const Bx=45;function Z1(e,t="ref",n=".load-more-trigger"){const[r,i]=I.useState(Bx),s=I.useRef(null),o=I.useRef(null);return I.useEffect(()=>{i(Bx)},[e]),I.useEffect(()=>{const a=new IntersectionObserver(l=>{l.forEach(u=>{u.isIntersecting&&i(f=>f+Bx)})},{root:null,rootMargin:"0px",threshold:.5});return o.current=a,t==="ref"&&s.current?a.observe(s.current):t==="selector"&&document.querySelectorAll(n).forEach(u=>a.observe(u)),()=>{a.disconnect()}},[e,t,n]),{visibleRows:r,...t==="ref"?{loadMoreRef:s}:{}}}function B_({subjects:e,isPending:t=!1,className:n="",isLive:r=!1}){return h.jsx("div",{className:"flex flex-col gap-2 "+n,children:h.jsx(Ine,{subjects:e,isPending:t,isLive:r})})}function Ine({subjects:e,isPending:t=!1,isLive:n=!1}){const{visibleRows:r,loadMoreRef:i}=Z1(e),s=e?e.slice(0,r):[];return t||!e?h.jsx("div",{className:"animate-pulse grid grid-cols-1 md:grid-cols-3 gap-4",children:[0,0,0].map((o,a)=>h.jsx("div",{className:"bg-gray-300 shadow-sm rounded-lg p-4 h-24"},"skeleton-card-"+a))}):e.length?h.jsxs(h.Fragment,{children:[s.map(o=>h.jsx(Nne,{subject:o,seats:"seat"in o?o.seat??-1:-1,disableSeat:!("seat"in o),className:"bg-white",isLive:n},o.subjectId)),h.jsx("div",{ref:i,className:"load-more-trigger opacity-0",children:" "})]}):h.jsx("div",{className:"text-center py-4",children:h.jsxs("div",{className:"flex flex-col items-center",children:[h.jsx(Tp,{className:"w-12 h-12"}),h.jsx("p",{className:"text-gray-500 font-bold mt-4",children:"  ."}),h.jsx("p",{className:"text-gray-400 text-xs mt-1",children:"   ."})]})})}const Rn={grades:[1,2,3,4],credits:[1,2,3],days:["","","","",""],remark:["","SHP",""],classRoom:["","","","","AI","()","","","","","","","","","","","","","","","",""],wishRange:[{min:10},{min:50},{min:100},{min:200}],seatRange:[{min:1},{max:2},{max:5},{max:10}]},Rne={classRoom:[{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"AI",value:""},{label:"()",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""}]};function Rp(e){return Pne(e.map(n=>n.curiTypeCdNm)).filter(n=>!!n)}function Pne(e){return Array.from(new Set(e))}const Ai={keywords:"",department:"",grades:"",credits:"",classroom:"",seatRange:"",wishRange:" ",time:"",days:"",categories:" ",note:"",language:"",alarmOnly:"",favoriteOnly:""};function One(e,t){if(!Array.isArray(t)||t.length===0)return Ai[e];const n=t[0];return t.length===1?sl()[e]?.(n)??Ai[e]:`${sl()[e]?.(n)??Ai[e]}  ${t.length-1}`}function Mne(e,t){if(t==null)return Ai[e];const n=t;return e==="seatRange"?` ${sl()[e]?.(n)??Ai[e]}`:e==="wishRange"?`  ${sl()[e]?.(n)??Ai[e]}`:sl()[e]?.(n)??Ai[e]}function Xk(e,t,n){if(t==null)return"";const r=t,i=sl(n)[e]?.(r);return i?e==="seatRange"?` ${i}`:e==="wishRange"?` ${i}`:i:""}function sl(e){const t=n=>e?e.find(i=>i.departmentCode===n)?.departmentName||n:"";return{keywords:n=>typeof n=="string"?n:"",department:n=>t(n),grades:n=>Zk(n,Ai.grades),credits:n=>Zk(n,Ai.credits),classroom:Ane,seatRange:Jk,wishRange:Jk,time:Dne,days:Lne,categories:n=>n,note:n=>n,language:n=>n,alarmOnly:()=>Ai.alarmOnly,favoriteOnly:()=>Ai.favoriteOnly}}const Ane=e=>!e||typeof e!="string"?"":Rne.classRoom.find(t=>t.value===e)?.label||e,Jk=e=>{if(!e)return"";const{min:t,max:n}=e;return t!==void 0&&n!==void 0?`${t}  ~ ${n} `:t!==void 0?`${t} `:n!==void 0?`${n} `:""},Dne=e=>`${e.day}${Ai.time} ${e.start}~${e.end}`,Lne=e=>e+"",Zk=(e,t)=>e+t,gl={keywords:"",department:"",grades:[],credits:[],categories:[],seatRange:null,wishRange:null,time:[],days:[],classroom:[],note:[],language:[],alarmOnly:!1,favoriteOnly:!1};function TN(e,t){return e==="time"&&Array.isArray(t)?t.length===0||t.length===1&&t[0].day==="":Array.isArray(gl[e])&&Array.isArray(t)?t.length===0:!t}function eE(e){return Array.isArray(e)?e.length>0:e!=null&&e!==""&&e!==!1}function z_(e,t){const n=[];for(const r in e){const i=e[r];if(r==="time"){const{day:s,type:o}=i;if(!s||!o)continue}r==="keywords"||r==="favoriteOnly"||r==="alarmOnly"||(Array.isArray(i)&&i.length>0&&i.forEach(s=>{eE(s)&&n.push({filterKey:r,values:s,label:Xk(r,s,t)})}),!Array.isArray(i)&&eE(i)&&n.push({filterKey:r,values:i,label:i!==null?Xk(r,i,t):""}))}return n}const $_=()=>Fr(e=>({filters:{...gl},setFilter:(t,n)=>e(r=>({filters:{...r.filters,[t]:n}})),resetFilters:()=>e({filters:gl})})),Gs=$_(),cd=$_(),mh=$_(),O2=Fr((e,t)=>({favorites:JSON.parse(localStorage.getItem("favorites")??"[]"),toggleFavorite:n=>{const r=t().favorites.includes(n);e(i=>{const s=r?i.favorites.filter(o=>o!==n):[...i.favorites,n];return localStorage.setItem("favorites",JSON.stringify(s)),{favorites:s}})},isFavorite:n=>t().favorites.includes(n)}));function Fne(e){const{data:t}=K1(),n=O2(o=>o.isFavorite),r=Bne(e,t,n),s=Object.keys(e).filter(o=>!TN(o,e[o]));return(o,a)=>s.every(l=>{const u=r[l];return u?u(o,a[l]):!0})}function Bne(e,t,n){const r=o=>t?.some(({subjectId:a})=>a===o)??!0,i=NN(e.keywords),s=e.keywords.replace(/[-\s]/g,"").toLowerCase();return{keywords:o=>Vne(o,i,s),department:qne,grades:$ne,credits:Une,categories:Yne,seatRange:Hne,wishRange:Wne,time:Gne,days:zne,classroom:Qne,note:Kne,language:Xne,alarmOnly:o=>n(o.subjectId),favoriteOnly:o=>r(o.subjectId)}}function jN(e,t){if(!t)return!0;const{min:n,max:r}=t;return(n===void 0||e>=n)&&(r===void 0||e<=r)}function U_(e,t){return!t.length||t.includes(e)}function NN(e){const t=e.replace(/[^\w---]/g,"");return Dd(t).toLowerCase()}function zne(e,t){if(!e.lesnTime||!t||t.length===0)return!0;const n=RegExp(/^([-]+)/).exec(e.lesnTime);if(!n)return!0;const r=n[1].split("");return t.some(i=>r.includes(i))}function $ne(e,t){const n=Number(e.studentYear);return!n||t.includes("")||t.length===0?!0:t.includes(n)}function Une(e,t){const n=Number(e.tmNum.split("/")[0]);return!n||isNaN(n)?!0:U_(n,t)}function Hne(e,t){const n=e;return"seat"in n?jN(n.seat??0,t):!0}function Wne(e,t){return"totalCount"in e?jN(e.totalCount??0,t):!0}function qne(e,t){return!t||t===""||t===e.deptCd}function Vne(e,t,n){if(!t)return!0;const r=e.professorName?Dd(e.professorName).toLowerCase():"",i=NN(e.subjectName),o=(e.subjectCode+e.classCode).toLowerCase().includes(n);return r.includes(t)||i.includes(t)||o}function Qne(e,t){return t.length?e.lesnRoom?t.some(n=>new RegExp(`^${n}[\\w]`,"i").test(e.lesnRoom)):!1:!0}function Kne(e,t){return!t||t.length===0?!0:t.some(n=>{switch(n){case"":return e.remark?.includes("")??!1;case"SHP":return["SHP","Honor"].some(r=>e.remark?.includes(r)??!1);case"":return!e.remark||!["","SHP","Honor"].some(r=>e.remark?.includes(r)??!1)}})}function Gne(e,t){if(!t||t.length===0||!e.lesnTime)return!0;const r=new Qd(e.lesnTime).toApiData().map(i=>({day:i.dayOfWeeks,start:new zu(i.startTime),end:new zu(i.endTime)}));return t.some(i=>{if(i.day==="")return!0;const s=r.filter(o=>o.day===i.day);if(i.type==="all"||!s.length)return!!s.length;if(i.type==="before"&&i.start){const o=new zu(i.start);return s.some(a=>a.end.compare(o)<=0)}if(i.type==="after"&&i.start){const o=new zu(i.start);return s.some(a=>o.compare(a.start)<=0)}if(i.type==="between"&&i.start&&i.end){const o=new zu(i.start),a=new zu(i.end);return s.some(l=>o.compare(l.start)<=0&&l.end.compare(a)<=0)}})}function Yne(e,t){return U_(e.curiTypeCdNm,t)}function Xne(e,t){return U_(e.curiLangNm??"",t)}function nf(e,t){const n=Fne(t),{onSearchChange:r}=Ip(),{keywords:i,department:s}=t;return!e||e.length===0?[]:(r(i,s),e.filter(o=>n(o,t)))}const Jne={enter:"sidebar-transition-enter",enterActive:"sidebar-transition-enter-active",exit:"sidebar-transition-exit",exitActive:"sidebar-transition-exit-active"},Zne=({isOpen:e,onClose:t})=>{const[n,r]=I.useState(""),[i,s]=I.useState(""),{data:o,isPending:a}=pa(),l=jp(o),u=I.useDeferredValue(nf(l??[],{...gl,keywords:n,department:i}));return h.jsx(h.Fragment,{children:h.jsx(vp,{in:e,timeout:100,classNames:Jne,unmountOnExit:!0,children:h.jsxs("div",{className:"flex flex-col w-92 flex-auto bg-gray-50 shadow-lg z-10",children:[h.jsxs("div",{className:"flex justify-between items-center py-2 pl-4 pr-2 bg-white border-b border-gray-200",children:[h.jsx("h2",{className:"text-md font-bold",children:" "}),h.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 hover:bg-gray-100 p-2 rounded-full transition-colors",children:h.jsx(R_,{className:"w-3 h-3"})})]}),h.jsxs("div",{className:"flex-1 p-4",children:[h.jsxs("div",{className:"flex flex-col gap-2 mb-4",children:[h.jsx(Jc,{placeholder:"  ",value:n,onChange:f=>r(f.target.value),onDelete:()=>r("")}),h.jsx(Y1,{className:"flex-auto",value:i,onChange:f=>s(f.target.value)})]}),h.jsx(B_,{className:"flex flex-full overflow-auto max-h-screen",subjects:u,isPending:a})]})]})})})};function ere(){const e=I.useRef(null),t=I.useRef(null),n=I.useRef({touchStart:{sheetY:0,touchY:0},touchMove:{prevTouchY:0,movingDirection:"none"},isContentAreaTouched:!1});I.useEffect(()=>{const s=()=>{const{touchMove:u,isContentAreaTouched:f}=n.current,p=e.current?.getBoundingClientRect().y;if(!p)return!1;if(!f||p!==yc)return!0;const g=t.current,y=g.scrollTop<=0,b=g.scrollTop+g.clientHeight>=g.scrollHeight;return u.movingDirection==="down"&&y||u.movingDirection==="up"&&b,!1},o=u=>{const{touchStart:f}=n.current;f.sheetY=e.current.getBoundingClientRect().y,f.touchY=u.touches[0].clientY},a=u=>{const{touchStart:f,touchMove:p}=n.current,g=u.touches[0];if(p.prevTouchY===void 0&&(p.prevTouchY=f.touchY),p.prevTouchY===0&&(p.prevTouchY=f.touchY),p.prevTouchY<g.clientY&&(p.movingDirection="down"),p.prevTouchY>g.clientY&&(p.movingDirection="up"),s()){u.stopPropagation();const y=g.clientY-f.touchY;let b=f.sheetY+y;b<=yc&&(b=yc),b>=Rg&&(b=Rg),e.current.style.setProperty("transform",`translateY(${b}px)`)}else document.body.style.overflowY="hidden"},l=()=>{const{touchMove:u}=n.current;(e.current?.getBoundingClientRect().y??0)!==yc&&(u.movingDirection==="down"&&e.current.style.setProperty("transform",`translateY(${Rg}px)`),u.movingDirection==="up"&&e.current.style.setProperty("transform",`translateY(${yc}px)`)),n.current={touchStart:{sheetY:0,touchY:0},touchMove:{prevTouchY:0,movingDirection:"none"},isContentAreaTouched:!1}};return e.current.addEventListener("touchstart",o),e.current.addEventListener("touchmove",a),e.current.addEventListener("touchend",l),()=>{e.current?.removeEventListener("touchstart",o),e.current?.removeEventListener("touchmove",a),e.current?.removeEventListener("touchend",l)}},[]);const r=()=>{e.current&&e.current.style.setProperty("transform","translateY(400px)")},i=()=>{e.current&&e.current.style.setProperty("transform",`translateY(${Rg}px)`)};return I.useEffect(()=>{const s=()=>{n.current.isContentAreaTouched=!0};t.current.addEventListener("touchstart",s);const o=window.getComputedStyle(document.body).overflow;return document.body.style.overflow="hidden",()=>{document.body.style.overflow=o}},[]),{sheet:e,content:t,expandToMax:r,collapseToMin:i}}function tre(){const{cancelSchedule:e}=Jr(),t=o1(),n=()=>{t("/timetable"),e()};I.useEffect(()=>(window.addEventListener("popstate",n),()=>{window.removeEventListener("popstate",n)}),[])}const yc=0,Rg=window.innerHeight-300,nre=window.innerHeight-yc;function Pp({children:e}){const{sheet:t,content:n,expandToMax:r,collapseToMin:i}=ere(),{type:s,resetBottomSheet:o}=vo(),{cancelSchedule:a}=Jr();function l(){a(),o()}return tre(),h.jsxs("div",{className:"fixed inset-0 z-[200]",children:[s&&h.jsx("div",{className:"absolute inset-0 bg-black/5 bg-opacity-80",role:"presentation",onClick:l}),h.jsxs("div",{ref:t,className:"fixed rounded-t-xl bottom-0 left-0 w-full transition-transform bg-white duration-300 z-200",style:{height:`${nre}px`,transform:`translateY(${yc}px)`},children:[h.jsx("div",{className:"w-full flex justify-center py-2 h-7 shrink-0",children:h.jsx("button",{className:"w-20 h-2 cursor-pointer bg-gray-300 rounded-full","aria-label":"",onClick:a})}),h.jsx("div",{ref:n,className:"flex-1 overflow-y-auto ",children:typeof e=="function"?e({expandToMax:r,collapseToMin:i}):e})]})]})}const IN=e=>I.createElement("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},I.createElement("path",{d:"M7.33335 8.66659H4.00001C3.81112 8.66659 3.6529 8.60259 3.52535 8.47459C3.39779 8.34659 3.33379 8.18837 3.33335 7.99992C3.3329 7.81148 3.3969 7.65325 3.52535 7.52525C3.65379 7.39725 3.81201 7.33325 4.00001 7.33325H7.33335V3.99992C7.33335 3.81103 7.39735 3.65281 7.52535 3.52525C7.65335 3.3977 7.81157 3.3337 8.00001 3.33325C8.18846 3.33281 8.3469 3.39681 8.47535 3.52525C8.60379 3.6537 8.66757 3.81192 8.66668 3.99992V7.33325H12C12.1889 7.33325 12.3473 7.39725 12.4753 7.52525C12.6033 7.65325 12.6671 7.81148 12.6667 7.99992C12.6662 8.18837 12.6022 8.34681 12.4747 8.47525C12.3471 8.6037 12.1889 8.66748 12 8.66659H8.66668V11.9999C8.66668 12.1888 8.60268 12.3473 8.47468 12.4753C8.34668 12.6033 8.18846 12.667 8.00001 12.6666C7.81157 12.6661 7.65335 12.6021 7.52535 12.4746C7.39735 12.347 7.33335 12.1888 7.33335 11.9999V8.66659Z",fill:"#9CA3AF"}));function Op({title:e,headerType:t,onClose:n,onClick:r}){return h.jsx("header",{className:"w-full px-5 flex items-center justify-between mb-2",children:t==="add"?h.jsxs("div",{className:"w-full h-8 flex items-center  justify-between ",children:[h.jsx(zx,{headerType:"add",onClick:r}),e&&h.jsx("h3",{className:"text-sm font-semibold",children:e}),h.jsx(zx,{headerType:"close",onClick:n})]}):h.jsx(h.Fragment,{children:h.jsxs("div",{className:"relative w-full flex items-center justify-center h-6",children:[h.jsx("h3",{className:"text-sm font-semibold",children:e}),h.jsx("div",{className:"absolute right-0",children:h.jsx(zx,{headerType:"close",onClick:n})})]})})})}function zx({headerType:e,onClick:t}){const n=e==="close"?bp:IN;return h.jsx("button",{className:"w-6 h-6 cursor-pointer flex items-center justify-center bg-gray-100 rounded-full",onClick:t,children:h.jsx(n,{})})}function rre({onCloseSearch:e}){const[t,n]=I.useState(""),[r,i]=I.useState(""),s=vo(g=>g.openBottomSheet),o=vo(g=>g.closeBottomSheet),a=ep(g=>g.isSearchOpen),{data:l,isPending:u}=pa(),f=jp(l),p=I.useDeferredValue(nf(f??[],{...gl,keywords:t,department:r}));return I.useEffect(()=>{a?s("search"):o()},[a]),h.jsx(Pp,{children:({expandToMax:g})=>h.jsxs(h.Fragment,{children:[h.jsx(Op,{title:"",headerType:"close",onClose:()=>e(),onClick:g}),h.jsxs("div",{className:"sticky py-3 px-2 top-0 bg-white z-10 flex flex-col gap-2 mb-4 flex-auto",children:[h.jsx(Jc,{placeholder:"  ",onChange:y=>n(y.target.value),onDelete:()=>n("")}),h.jsx(Y1,{className:"flex-auto",value:r,onChange:y=>i(y.target.value)})]}),h.jsx("div",{className:"max-h-[70vh] min-h-0 px-2 overflow-y-auto touch-auto flex flex-col",children:h.jsx(B_,{className:"flex flex-full overflow-auto max-h-screen",subjects:p,isPending:u})})]})})}function Tl(){const[e,t]=I.useState(!1);return I.useEffect(()=>{const n=()=>{t(window.innerWidth<=768)};return n(),window.addEventListener("resize",n),()=>{window.removeEventListener("resize",n)}},[]),e}const RN="2025-09-05";function ey(e){const{hasSeats:t}=e??{},n=new Date>TT(`${RN}T10:00:00`);return{isPreSeatAvailable:!n}}const ire=e=>I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:16.508930206298828,height:16.008333206176758,viewBox:"0 0 16.508930206298828 16.008333206176758",...e},I.createElement("g",{transform:"matrix(1,0,0,-1,0,32.016666412353516)"},I.createElement("path",{d:"M8.25446,32.016633206176756Q8.72321,31.985433206176758,8.94196,31.579133206176756L11.067,27.172933206176758L15.8482,26.485433206176758Q16.317,26.391633206176756,16.4732,25.95416320617676Q16.5982,25.51666320617676,16.2857,25.20416320617676L12.817,21.76666320617676L13.6295,16.891666206176758Q13.692,16.454166206176758,13.317,16.141666206176758Q12.942,15.891666206176758,12.5357,16.110416206176758L8.25446,18.39166320617676L3.97321,16.110416206176758Q3.56696,15.891666206176758,3.19196,16.172916206176758Q2.81696,16.454166206176758,2.87946,16.891666206176758L3.69196,21.76666320617676L0.223214,25.20416320617676Q-0.0892857,25.51666320617676,0.0357143,25.95416320617676Q0.191964,26.391633206176756,0.660714,26.485433206176758L5.44196,27.172933206176758L7.56696,31.579133206176756Q7.78571,31.985433206176758,8.25446,32.016633206176756ZM8.25446,29.547933206176758L6.59821,26.172933206176758L8.25446,29.547933206176758L6.59821,26.172933206176758Q6.44196,25.82916320617676,6.03571,25.73541320617676L2.34821,25.20416320617676L5.03571,22.54791320617676Q5.28571,22.26666320617676,5.25446,21.89166320617676L4.59821,18.14166320617676L7.91071,19.89166320617676Q8.25446,20.07916320617676,8.59821,19.89166320617676L11.8795,18.14166320617676L11.2545,21.89166320617676Q11.192,22.26666320617676,11.4732,22.54791320617676L14.1607,25.20416320617676L10.4732,25.73541320617676Q10.067,25.82916320617676,9.91071,26.172933206176758L8.25446,29.547933206176758Z",fill:"#9CA3AF",fillOpacity:1,style:{mixBlendMode:"passthrough"}}))),sre=e=>I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:16.505903244018555,height:16.001562118530273,viewBox:"0 0 16.505903244018555 16.001562118530273",...e},I.createElement("g",{transform:"matrix(1,0,0,-1,0,32.00312423706055)"},I.createElement("path",{d:"M9.15,31.440662118530273Q8.86875,31.971862118530275,8.24375,32.00316211853027Q7.65,31.971862118530275,7.3375,31.440662118530273L5.3375,27.315662118530273L0.8375,26.628162118530273Q0.24375,26.534362118530275,0.05625,25.97187211853027Q-0.13125,25.37812211853027,0.30625,24.94062211853027L3.55625,21.72187211853027L2.775,17.159372118530275Q2.7125,16.565625118530274,3.18125,16.190625118530274Q3.68125,15.846875118530274,4.24375,16.128125118530274L8.24375,18.253122118530275L12.275,16.128125118530274Q12.8062,15.846875118530274,13.3062,16.190625118530274Q13.8062,16.565625118530274,13.7125,17.159372118530275L12.9625,21.72187211853027L16.2125,24.94062211853027Q16.6187,25.37812211853027,16.4625,25.97187211853027Q16.2437,26.534362118530275,15.65,26.628162118530273L11.15,27.315662118530273L9.15,31.440662118530273Z",fill:"#FACC15",fillOpacity:1,style:{mixBlendMode:"passthrough"}})));function PN({disabled:e}){return e?h.jsx(ire,{className:"w-4 h-4"}):h.jsx(sre,{className:"w-4 h-4"})}function ON({subject:e,className:t,onClick:n,...r}){const i=O2(l=>l.isFavorite(e.subjectId)),s=O2(l=>l.toggleFavorite),o=i?" ":" ",a=l=>{s(e.subjectId),n&&n(l)};return h.jsx("button",{className:"cursor-pointer "+(t??""),onClick:a,title:o,"aria-label":o,...r,children:h.jsx(PN,{disabled:!i})})}function ore(e){const t=b2(o=>o.tableTitles),n=!!(e&&e[0]&&"seat"in e[0]),r=e&&e[0]&&"totalCount"in e[0],{isPreSeatAvailable:i}=ey({hasSeats:n});let s=[{title:"",visible:!0,key:""},...t.filter(o=>o.visible)];return r||(s=s.filter(o=>o.key!=="totalCount")),i||(s=s.filter(o=>o.key!=="seat")),s}function MN({data:e,isPending:t=!1}){const n=ore(e);return h.jsxs("table",{className:"w-full bg-white rounded-lg relative text-sm",children:[h.jsx("thead",{children:h.jsx("tr",{className:"bg-gray-50 sticky top-0 z-10 text-nowrap",children:n.map(({title:r})=>h.jsx("th",{className:"px-4 py-2",children:r},"table-header-name-"+r))})}),h.jsx("tbody",{children:h.jsx(are,{headers:n,data:e,isPending:t})})]})}function are({headers:e,data:t,isPending:n=!1}){const{visibleRows:r}=Z1(t??[],"selector"),i=t?t.slice(0,r):[];return n||!t?h.jsx(V1,{row:5,col:e.length}):t.length?h.jsxs(h.Fragment,{children:[i.map(s=>h.jsx(lre,{data:s,tableHeaders:e},`${s.subjectCode} ${s.subjectId} ${s.professorName}`)),h.jsx("tr",{className:"load-more-trigger"})]}):h.jsx(AN,{col:e.length})}function AN({col:e}){return h.jsx("tr",{children:h.jsx("td",{colSpan:e,className:"text-center py-4",children:h.jsxs("div",{className:"flex flex-col items-center",children:[h.jsx(Tp,{className:"w-12 h-12"}),h.jsx("p",{className:"text-gray-500 font-bold mt-4",children:"  ."}),h.jsx("p",{className:"text-gray-400 text-xs mt-1",children:"   ."})]})})})}const lre=({data:e,tableHeaders:t})=>{const n=e.curiLangNm==="",i=e.isDeleted?"bg-gray-100 hover:bg-gray-200":n?"bg-green-50 hover:bg-green-100":"bg-white hover:bg-gray-100";return h.jsxs("tr",{className:`border-t border-gray-200 text-black ${i}`,children:[h.jsx("td",{className:"px-4 py-2",children:h.jsx("div",{className:"flex items-center gap-2",children:h.jsx(ON,{subject:e})})}),h.jsx(ure,{data:e,tableHeaders:t})]})},cre=(e,t)=>e.data.subjectId===t.data.subjectId&&"seat"in e=="seat"in t&&e.tableHeaders===t.tableHeaders,ure=I.memo(({data:e,tableHeaders:t})=>{const{selectTargetOnly:n}=Ip();function r(){n(e.subjectId),X1(e.departmentCode??e.deptCd)}return t.slice(1,20).map(({key:i})=>h.jsx("td",{className:"px-4 py-2 text-center",children:h.jsx(hi,{to:`/wishes/${e.subjectId}`,onClick:r,children:h.jsx(dre,{data:e,headerType:i})})},i))},cre);function dre({data:e,headerType:t}){switch(t){case"":return h.jsx(h.Fragment,{children:""});case"totalCount":return h.jsx(fre,{wishCount:e.totalCount??-1});case"seat":return h.jsx(hre,{seat:e.seat});default:return e[t]?.toString()}}function fre({wishCount:e}){const t=Yj(e);return e>=0?h.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold ${t}`,children:e}):h.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-bold bg-gray-300",children:"-"})}function hre({seat:e}){return e>=0?h.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold ${Xc(e)}`,children:e}):h.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-bold bg-gray-300",children:"-"})}function pre({titles:e,subjects:t,isPending:n=!1}){return h.jsxs("table",{className:"w-full bg-white rounded-lg relative text-sm",children:[h.jsx("thead",{children:h.jsx("tr",{className:"bg-gray-50 text-nowrap",children:e.map(({title:r})=>h.jsx("th",{className:"px-4 py-2",children:r},r))})}),h.jsx("tbody",{children:h.jsx(mre,{titles:e,subjects:t,isPending:n})})]})}function mre({titles:e,subjects:t,isPending:n=!1}){const{visibleRows:r}=Z1(t??[],"selector"),i=(t??[]).filter(o=>!o.isDeleted),s=i?i.slice(0,r):[];return n||!i?h.jsx(V1,{row:5,col:e.length}):i.length?h.jsxs(h.Fragment,{children:[s.map(o=>h.jsx(gre,{subject:o},`${o.subjectCode} ${o.subjectId} ${o.professorName}`)),h.jsx("tr",{className:"load-more-trigger"})]}):h.jsx(AN,{col:e.length})}function gre({subject:e}){const t=e.curiLangNm==="",r=e.isDeleted?"bg-gray-100 hover:bg-gray-200":t?"bg-green-50 hover:bg-green-100":"bg-white hover:bg-gray-100",{data:i}=K1(),{mutate:s}=O_(),{mutate:o}=nN(),{selectTargetOnly:a}=Ip(),l=i?.some(f=>f.subjectId===e.subjectId),u=()=>{if(!l){o(e.subjectId);return}s(e.subjectId),a(e.subjectId),X1(e.deptCd)};return h.jsxs("tr",{className:`border-t border-gray-200 text-black ${r}`,children:[h.jsx("td",{className:"px-4 py-2 text-center",children:h.jsx("button",{className:"cursor-pointer","aria-label":l?"  ":"  ",onClick:u,children:h.jsx(Xd,{disabled:!l})})}),h.jsxs("td",{className:"px-2 py-2 text-center",children:[e.subjectCode,"-",e.classCode]}),h.jsx("td",{className:"px-2 py-2 text-center",children:e.departmentName}),h.jsx("td",{className:"px-2 py-2 text-center",children:e.subjectName}),h.jsx("td",{className:"px-2 py-2 text-center",children:e.professorName}),e.seat!==void 0?h.jsx("td",{className:"px-2 py-2 text-center",children:e.seat>=0?h.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold ${Xc(e.seat)}`,children:e.seat}):h.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-bold bg-gray-300",children:"-"})}):null]})}function DN(e){const{data:t,isPending:n}=pa(),r=G1(t,ef),i=r&&r[0]&&"seat"in r[0],s=I.useMemo(()=>i?[...e,{title:"",key:"seat"}]:e,[r,e]);return{data:r,titles:s,isPending:n,hasRealSeats:i}}function yre(e=200){const[t,n]=I.useState(!1);return I.useEffect(()=>{const i=()=>n(window.scrollY>e);return i(),window.addEventListener("scroll",i,{passive:!0}),()=>window.removeEventListener("scroll",i)},[e]),{isVisible:t,scrollToTop:()=>{window.scrollTo({top:0,behavior:"smooth"})}}}function LN({right:e="right-2 sm:right-10",bottom:t="bottom-4"}){const{isVisible:n,scrollToTop:r}=yre(200);return h.jsx("button",{"aria-label":"  ",className:`fixed ${t} ${e} z-50 w-12 h-12 rounded-full bg-blue-500 text-white shadow-lg 
                  flex justify-center items-center cursor-pointer transition-opacity duration-200
                  ${n?"opacity-100":"opacity-0 pointer-events-none"}`,onClick:r,children:h.jsx(kT,{className:"w-6 h-6 -rotate-90"})})}const vre=e=>I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:14,height:16,viewBox:"0 0 14 16",...e},I.createElement("defs",null,I.createElement("clipPath",{id:"master_svg0_137_3346"},I.createElement("rect",{x:0,y:0,width:14,height:16,rx:0}))),I.createElement("g",{clipPath:"url(#master_svg0_137_3346)"},I.createElement("g",{transform:"matrix(1,0,0,-1,0,26.6875)"},I.createElement("g",null,I.createElement("path",{d:"M6.28125,13.625Q6.59375,13.34375,7,13.34375Q7.40625,13.34375,7.71875,13.625L13.7188,19.625Q14,19.9375,14,20.34375Q14,20.75,13.7188,21.0625Q13.4062,21.34375,13,21.34375Q12.5938,21.34375,12.2812,21.0625L7,15.75L1.71875,21.0625Q1.40625,21.34375,1,21.34375Q0.59375,21.34375,0.28125,21.0625Q0,20.75,0,20.34375Q0,19.9375,0.28125,19.625L6.28125,13.625Z",fill:"#9CA3AF",fillOpacity:1,style:{mixBlendMode:"passthrough"}}))))),xre=e=>I.createElement("svg",{width:10,height:6,viewBox:"0 0 10 6",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},I.createElement("path",{d:"M8.25973 0.605623C8.55264 0.312924 9.02745 0.312795 9.32028 0.605623C9.61297 0.898463 9.61293 1.37331 9.32028 1.66617L5.54098 5.44449C5.24809 5.73737 4.77332 5.73738 4.48043 5.44449L0.702114 1.66617C0.409291 1.37328 0.409254 0.898495 0.702114 0.605623C0.994986 0.312752 1.46976 0.312796 1.76266 0.605623L5.01071 3.85367L8.25973 0.605623Z",fill:"#047CFE"})),bre=({className:e,selected:t=!1})=>t?h.jsx(xre,{className:e}):h.jsx(vre,{className:e}),wre=e=>I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:10,height:10,viewBox:"0. 0. 11 11",...e},I.createElement("g",{transform:"matrix(1,0,0,-1,0,20)"},I.createElement("path",{d:"M9.71875,18.28125Q10,18.59375,10,19Q10,19.40625,9.71875,19.71875Q9.40625,20,9,20Q8.59375,20,8.28125,19.71875L5,16.40625L1.71875,19.71875Q1.40625,20,1,20Q0.59375,20,0.28125,19.71875Q0,19.40625,0,19Q0,18.59375,0.28125,18.28125L3.59375,15L0.28125,11.71875Q0,11.40625,0,11Q0,10.59375,0.28125,10.28125Q0.59375,10,1,10Q1.40625,10,1.71875,10.28125L5,13.59375L8.28125,10.28125Q8.59375,10,9,10Q9.40625,10,9.71875,10.28125Q10,10.59375,10,11Q10,11.40625,9.71875,11.71875L6.40625,15L9.71875,18.28125Z",fill:"#9CA3AF",fillOpacity:1,style:{mixBlendMode:"passthrough"}}))),_re=e=>I.createElement("svg",{width:12,height:13,viewBox:"0 0 12 13",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},I.createElement("path",{d:"M9.25946 2.20234C9.55235 1.90944 10.0271 1.90944 10.32 2.20234C10.6129 2.49523 10.6129 2.97 10.32 3.26288L7.07196 6.51093L10.32 9.75898C10.6129 10.0519 10.6129 10.5276 10.32 10.8205C10.0272 11.113 9.55228 11.1131 9.25946 10.8205L6.01044 7.57148L2.76337 10.8205C2.47049 11.1134 1.99474 11.1134 1.70184 10.8205C1.40895 10.5276 1.40896 10.0519 1.70184 9.75898L4.94989 6.51093L1.70184 3.26288C1.40922 2.97007 1.4093 2.4952 1.70184 2.20234C1.99474 1.90944 2.47047 1.90944 2.76337 2.20234L6.01044 5.44941L9.25946 2.20234Z",fill:"#047CFE"})),Sre=({className:e,selected:t=!1})=>t?h.jsx(_re,{className:e}):h.jsx(wre,{className:e});function Cre(e){return e?"bg-blue-100 text-blue-500 focus:outline-blue-500 hover:bg-blue-200":"bg-gray-100 text-gray-700 focus:outline-gray-400 hover:bg-gray-200"}function Ir({label:e="Chip",selected:t,chipType:n,containerRef:r,onClick:i,isChipOpen:s,...o}){return h.jsxs("button",{type:"button",ref:r,className:`items-center justify-center px-3 rounded-full cursor-pointer md:text-sm gap-4 flex flex-row ${Cre(t)} ${n==="cancel"?"rounded-full text-xs py-1":"rounded-lg text-sm py-2"}
      `,"aria-pressed":t,onClick:i,...o,children:[h.jsx("span",{className:"text-xs sm:text-sm truncate",children:e}),n==="select"&&h.jsx(bre,{selected:t,className:`w-4 h-4 pointer-events-none transition-transform duration-200
    ${s?"rotate-180":"rotate-0"}
  `}),n==="cancel"&&h.jsx(Sre,{selected:t,className:"pointer-events-none"})]})}const kre=({elem:e,tabRefs:t,initialState:n})=>{const[r,i]=I.useState(n);return I.useEffect(()=>{const s=o=>{(Array.isArray(t)?t:[t]).some(u=>u.current&&u.current.contains(o.target))?i(!0):e.current&&!e.current.contains(o.target)&&i(!1)};return r?window.addEventListener("click",s):window.removeEventListener("click",s),()=>{window.removeEventListener("click",s)}},[r,e,t]),[r,i]};function Ere({children:e,contentRef:t,className:n="",isChipOpen:r}){return r?h.jsx("div",{ref:t,className:`
        absolute left-0 top-full mt-2 z-20
        flex flex-col gap-1 rounded-lg border border-gray-200 bg-white shadow-lg
        overflow-hidden p-4
        min-w-[150px]
        transform origin-top
        transition-all duration-300 [cubic-bezier(0.22,1,0.36,1)]
        opacity-100 scale-y-100
        ${n}
      `,role:"listbox",children:e}):null}function rf({label:e,selected:t,children:n,className:r=""}){const i=I.useRef(null),s=I.useRef(null),[o,a]=kre({elem:s,tabRefs:i,initialState:!1}),l=()=>{a(!o)};return h.jsxs("div",{className:`relative inline-block ${r}`,children:[h.jsx(Ir,{isChipOpen:o,label:e,containerRef:i,chipType:"select",selected:t,onClick:l}),h.jsx(Ere,{isChipOpen:o,contentRef:s,className:r,children:n})]})}const FN=e=>I.createElement("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},I.createElement("path",{d:"M9 14C10.1867 14 11.3467 13.6481 12.3334 12.9888C13.3201 12.3295 14.0892 11.3925 14.5433 10.2961C14.9974 9.19975 15.1162 7.99335 14.8847 6.82946C14.6532 5.66558 14.0818 4.59648 13.2426 3.75736C12.4035 2.91825 11.3344 2.3468 10.1705 2.11529C9.00666 1.88378 7.80026 2.0026 6.7039 2.45673C5.60754 2.91085 4.67047 3.67989 4.01118 4.66658C3.35189 5.65328 3 6.81331 3 8V11.1L1.2 9.3L0.5 10L3.5 13L6.5 10L5.8 9.3L4 11.1V8C4 7.0111 4.29324 6.0444 4.84265 5.22215C5.39206 4.39991 6.17295 3.75904 7.08658 3.38061C8.00021 3.00217 9.00555 2.90315 9.97545 3.09608C10.9454 3.289 11.8363 3.76521 12.5355 4.46447C13.2348 5.16373 13.711 6.05465 13.9039 7.02455C14.0969 7.99446 13.9978 8.99979 13.6194 9.91342C13.241 10.8271 12.6001 11.6079 11.7779 12.1574C10.9556 12.7068 9.98891 13 9 13V14Z",fill:"#047CFE"}));function l0({selectedValues:e,filterKey:t,setFilter:n,options:r,ItemComponent:i,className:s}){const o=sl(),a=u=>{console.log("optionValue",u);const p=e?.includes(u)?e?.filter(g=>g!==u):[...e??[],u];n(t,p??null)},l=()=>{n(t,null)};return h.jsxs("div",{className:"relative inline-block ",children:[h.jsx("label",{className:"text-xs text-gray-500 sm:text-gray-600 sm:text-base",children:Ai[t]}),h.jsx("div",{className:`
        gap-2 grid [grid-template-columns:repeat(auto-fit,minmax(80px,1fr))]
        ${r.length>6?"grid grid-cols-2":"flex flex-col"} pt-2
        ${s??""}
    `,children:r.map(u=>h.jsx(i,{label:o[t]?.(u)??String(u),selected:e?.includes(u)??!1,onClick:()=>a(u)},String(u)))}),h.jsx("div",{className:"flex justify-end w-full mt-2",children:h.jsxs("button",{onClick:()=>l(),className:"text-gray-500 hover:text-blue-500 cursor-pointer sm:text-sm text-xs px-1 py-0.5",children:[h.jsx(FN,{className:"inline w-4 h-4 mr-1 mb-0.5",stroke:"currentColor"}),""]})})]})}const Tre=e=>I.createElement("svg",{width:12,height:12,viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},I.createElement("path",{d:"M4.50007 8.08504L2.76507 6.35004C2.67158 6.25655 2.54479 6.20403 2.41257 6.20403C2.28036 6.20403 2.15356 6.25655 2.06007 6.35004C1.96658 6.44353 1.91406 6.57033 1.91406 6.70254C1.91406 6.768 1.92696 6.83283 1.95201 6.89331C1.97706 6.95379 2.01378 7.00875 2.06007 7.05504L4.15007 9.14504C4.34507 9.34004 4.66007 9.34004 4.85507 9.14504L10.1451 3.85504C10.2386 3.76155 10.2911 3.63475 10.2911 3.50254C10.2911 3.37033 10.2386 3.24353 10.1451 3.15004C10.0516 3.05655 9.92479 3.00403 9.79257 3.00403C9.66036 3.00403 9.53356 3.05655 9.44007 3.15004L4.50007 8.08504Z",fill:"#047CFE"}));function H_({label:e="checkbox",...t}){return h.jsxs("label",{htmlFor:"checkbox-"+e,className:"flex flex-row items-center gap-3 text-md ",children:[h.jsxs("div",{className:"relative w-5 h-5",children:[h.jsx("input",{id:"checkbox-"+e,type:"checkbox",className:`
            appearance-none w-5 h-5 rounded-sm border cursor-pointer transition-colors hover:bg-gray-50
            ${t.checked?"bg-blue-50 border-blue-500":"bg-white border-gray-400"}
          `,...t}),t.checked&&h.jsx(Tre,{className:"absolute inset-0 m-auto w-4 h-4 pointer-events-none text-white"})]}),h.jsx("span",{className:`${t.checked?"text-blue-500":"text-gray-600"} cursor-pointer hover:text-gray-400`,children:e})]})}function Nh({label:e,selected:t,onClick:n}){return h.jsx(H_,{label:e,checked:t,onChange:n})}function Gn({filterKey:e,selectedValues:t,options:n,setFilter:r,ItemComponent:i,className:s}){const o=Tl(),a=One(e,t),l=o?Ir:Nh,u=h.jsx(l0,{filterKey:e,selectedValues:t,setFilter:(f,p)=>r(f,p??[]),options:n,ItemComponent:i||l});return o?u:h.jsx(rf,{label:a,selected:(t??[]).length>0,className:s,children:u})}function jre({selectedValue:e,filterKey:t,setFilter:n}){const[r,i]=I.useState({min:e?.min??0,max:e?.max??0}),s=(o,a)=>{const l={...r,[o]:a};i(l),n(t,l)};return h.jsxs("div",{className:"relative inline-block w-full space-y-2",children:[h.jsx("label",{className:" text-gray-600",children:" "}),h.jsxs("div",{className:"flex gap-2 sm:gap-4 pt-2",children:[h.jsx("input",{type:"text",value:r.min,onChange:o=>{const a=o.target.value.replace(/[^\d]/g,"");s("min",a)},placeholder:"",className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm"}),h.jsx("span",{className:"flex items-center text-gray-400",children:"~"}),h.jsx("input",{type:"text",value:r.max,onChange:o=>{const a=o.target.value.replace(/[^\d]/g,"");s("max",a)},placeholder:"",className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm"})]})]})}function Nre({selectedValue:e,filterKey:t,setFilter:n,options:r,ItemComponent:i,className:s,isMinMax:o=!1}){const a=f=>{n(t,e===f?null:f)},l=()=>{n(t,null)},u=sl();return h.jsxs("div",{className:"relative inline-block",children:[h.jsx("label",{className:"text-xs text-gray-500 sm:text-gray-600 sm:text-base",children:Ai[t]}),h.jsx("div",{className:`
        gap-2 grid [grid-template-columns:repeat(auto-fit,minmax(80px,1fr))]
        grid grid-cols-2 pt-2
        min-w-max
        ${s??""}
    `,children:r.map(f=>h.jsx(i,{label:u[t]?.(f)??String(f),selected:e===f,onClick:()=>a(f)},String(f)))}),o&&h.jsx("div",{className:"mt-2",children:h.jsx(jre,{selectedValue:e,filterKey:t,setFilter:(f,p)=>n(f,p),options:r})}),h.jsx("div",{className:"flex justify-end w-full mt-2",children:h.jsxs("button",{onClick:()=>l(),className:"text-gray-500 hover:text-blue-500 cursor-pointer sm:text-sm text-xs px-1 py-0.5",children:[h.jsx(FN,{className:"inline w-4 h-4 mr-1 mb-0.5",stroke:"currentColor"}),""]})})]})}function Ld({filterKey:e,options:t,ItemComponent:n,selectedValue:r,setFilter:i,className:s,isMinMax:o}){const a=Tl(),l=Mne(e,r)??"",u=h.jsx(Nre,{selectedValue:r,filterKey:e,setFilter:(f,p)=>i(f,p),options:t,ItemComponent:n,isMinMax:o});return a?u:h.jsx(rf,{label:l,selected:!!r,className:s,children:u})}function tE({className:e,onChange:t,...n}){return h.jsx("input",{type:"time",className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:outline-blue-500 "+e,placeholder:"HH:MM",step:600,onChange:r=>{r.target.value=Ire(r.target.value),console.log("Time changed:",r.target.value),t&&t(r)},...n})}function Ire(e){const[t,n]=e.split(":").map(Number);if(isNaN(t)||isNaN(n))return"00:00";const r=Math.round(n/10)%6*10,i=String(t).padStart(2,"0"),s=String(r).padStart(2,"0");return`${i}:${s}`}function M2({items:e,onChange:t}){I.useEffect(()=>{if(e.length===0){t([{day:"",type:"all"}]);return}const i=Pre(e);i&&t(i)},[e]);const n=i=>s=>{const{name:o,value:a}=s.target,l=[...e];l[i]={...l[i],[o]:a},t(l)},r=i=>()=>{const s=e.filter((o,a)=>a!==i);t(s)};return h.jsxs(h.Fragment,{children:[h.jsx("label",{className:"text-xs text-gray-500 sm:text-gray-600 sm:text-base",children:""}),e.map((i,s)=>h.jsx(Rre,{item:i,onChange:n(s),onDelete:r(s)},`${i.day}-${i.type}-${i.start}-${i.end}`)),h.jsx("button",{onClick:()=>t([...e,{day:"",type:"all"}]),className:"mt-2 text-blue-500 hover:text-blue-700",children:""})]})}function Rre({item:e,onChange:t,onDelete:n}){const r=!!e.day,i=e.type!="all",s=e.type==="between";return h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsxs("select",{name:"day",value:e.day,onChange:t,className:"bg-gray-100 px-3 py-2 rounded-md text-xs text-gray-600 w-fit",children:[h.jsx("option",{value:"",children:""}),["","","","","","",""].map(o=>h.jsx("option",{value:o,children:o},o))]}),r&&h.jsxs("select",{name:"type",value:e.type,onChange:t,className:"bg-gray-100 px-3 py-2 rounded-md text-xs text-gray-600 w-fit",children:[h.jsx("option",{value:"all",children:""}),h.jsx("option",{value:"before",children:""}),h.jsx("option",{value:"after",children:""}),h.jsx("option",{value:"between",children:""})]}),i&&h.jsx(tE,{name:"start",value:e.start||"00:00",onChange:t}),s&&h.jsx(tE,{name:"end",value:e.end||"00:00",onChange:t}),h.jsx("button",{onClick:n,className:"text-red-500 hover:text-red-700",children:""})]})}function Pre(e){return e.some(n=>n.day===""?n.type!=="all"||n.start||n.end:n.type==="all"?n.start||n.end:n.type==="before"||n.type==="after"?!n.start||n.end:n.type==="between"?!n.start||!n.end:!1)?e.map(n=>n.day===""?{day:"",type:"all"}:n.type==="all"?{day:n.day,type:"all"}:n.type==="before"||n.type==="after"?{day:n.day,type:n.type,start:n.start||"00:00"}:n.type==="between"?{day:n.day,type:n.type,start:n.start||"00:00",end:n.end||"00:00"}:n):e}function BN({times:e,setFilter:t}){const n=(o,a)=>{t("time",a)},r=Tl(),s=e.length===1&&e[0].type==="all"&&e[0].day===""?"":e.length===1?` ${e[0].day}`:e.length>1?` ${e[0].day}  ${e.length-1}`:"";return r?h.jsx(M2,{items:e,onChange:o=>n("time",o)}):h.jsxs(rf,{label:s,selected:e.length>0&&e[0].day!=="",className:"min-w-max",children:[h.jsx("label",{className:"text-gray-600 font-medium sm:text-gray-600",children:" "}),h.jsx(M2,{items:e,onChange:o=>n("time",o)})]})}function W_({onCloseFiltering:e,filters:t,setFilter:n,resetFilter:r}){const i=()=>{e()},{data:s}=Cs(),o=Yc(),a=Rp(s??[]).sort((f,p)=>f.localeCompare(p)).map(f=>f),l=z_(t,o.data),u=(f,p)=>{const g=t[f];Array.isArray(g)?n(f,g.filter(y=>y!==p)):n(f,gl[f])};return h.jsxs(Pp,{children:[h.jsx(Op,{headerType:"close",title:"",onClose:()=>{e()}}),h.jsxs("div",{className:"w-full flex px-4 flex-col h-[85vh] gap-5 overflow-y-auto overscroll-contain",children:[h.jsx("div",{className:"flex flex-wrap gap-2",children:l.map(f=>h.jsx(Ir,{chipType:"cancel",label:f.label,selected:!0,onClick:()=>u(f.filterKey,f.values)},`${f.filterKey}-${f.values}`))}),h.jsxs("div",{className:"w-full h-15 flex gap-2 flex-col justify-center mt-2",children:[h.jsx("label",{className:"text-xs text-gray-500",children:""}),h.jsx(Y1,{className:"cursor-pointer border-gray-100 rounded-sm py-1 text-sm",value:t.department,onChange:f=>n("department",f.target.value)})]}),h.jsx(Ld,{filterKey:"wishRange",options:Rn.wishRange,selectedValue:t.wishRange??null,setFilter:n,ItemComponent:Ir}),h.jsx(Ld,{filterKey:"seatRange",options:Rn.seatRange,selectedValue:t.seatRange??null,setFilter:n,ItemComponent:Ir}),h.jsxs("div",{className:"w-full h-15 flex gap-2 flex-col justify-center mt-2",children:[h.jsx("label",{className:"text-xs text-gray-500",children:""}),h.jsx(BN,{times:t.time,setFilter:n})]}),h.jsx(Gn,{filterKey:"credits",options:Rn.credits,selectedValues:t.credits??[],setFilter:n}),h.jsx(Gn,{filterKey:"grades",options:Rn.grades,selectedValues:t.grades??[],setFilter:n}),h.jsx(Gn,{filterKey:"classroom",options:Rn.classRoom,selectedValues:t.classroom??[],setFilter:n}),h.jsx(Gn,{filterKey:"note",options:Rn.remark,selectedValues:t.note??[],setFilter:n}),h.jsx(Gn,{filterKey:"categories",options:a,selectedValues:t.categories??[],setFilter:n}),h.jsxs("div",{className:"sticky bottom-0 pb-14 pt-5 bg-white flex justify-end items-center gap-2 border-gray-200",children:[h.jsx(Fc,{className:"text-sm text-blue-500 hover:text-blue-600 hover:underline cursor-pointer",onClick:r,children:" "}),h.jsx(Fc,{onClick:i,type:"submit",variants:"primary",children:""})]})]})]})}const zN=e=>I.createElement("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},I.createElement("path",{d:"M7.18066 10.5625C7.88416 10.5629 8.47281 11.0824 8.63086 11.7812H14.625C14.8321 11.7812 15 11.9491 15 12.1562C15 12.3634 14.8321 12.5312 14.625 12.5312H8.63086C8.47281 13.2301 7.88416 13.7496 7.18066 13.75C6.47688 13.75 5.88776 13.2303 5.72949 12.5312H1.375C1.16789 12.5312 1 12.3634 1 12.1562C1 11.9491 1.16789 11.7812 1.375 11.7812H5.72949C5.88776 11.0822 6.47688 10.5625 7.18066 10.5625ZM7.18066 11.2812C6.72774 11.2812 6.36035 11.673 6.36035 12.1562C6.36035 12.6395 6.72774 13.0312 7.18066 13.0312C7.63324 13.0308 8 12.6392 8 12.1562C8 11.6733 7.63324 11.2817 7.18066 11.2812ZM11.7197 6.40625C12.4233 6.40647 13.0117 6.92611 13.1699 7.625H14.625C14.8321 7.625 15 7.79289 15 8C15 8.20711 14.8321 8.375 14.625 8.375H13.1699C13.0117 9.0739 12.4233 9.59353 11.7197 9.59375C11.0161 9.59356 10.4277 9.07393 10.2695 8.375H1.375C1.16789 8.375 1 8.20711 1 8C1 7.79289 1.16789 7.625 1.375 7.625H10.2695C10.4277 6.92608 11.0161 6.40644 11.7197 6.40625ZM11.7197 7.125C11.267 7.12523 10.9004 7.51689 10.9004 8C10.9004 8.48311 11.267 8.87477 11.7197 8.875C12.1724 8.87474 12.54 8.48309 12.54 8C12.54 7.51691 12.1724 7.12526 11.7197 7.125ZM5.07129 2.25C5.77489 2.2502 6.36337 2.76981 6.52148 3.46875H14.625C14.8321 3.46875 15 3.63664 15 3.84375C15 4.05086 14.8321 4.21875 14.625 4.21875H6.52148C6.36337 4.91769 5.77489 5.43729 5.07129 5.4375C4.36758 5.43737 3.77832 4.9178 3.62012 4.21875H1.375C1.16789 4.21875 1 4.05086 1 3.84375C1 3.63664 1.16789 3.46875 1.375 3.46875H3.62012C3.77832 2.7697 4.36758 2.25013 5.07129 2.25ZM5.07129 2.96875C4.61849 2.9689 4.25098 3.36059 4.25098 3.84375C4.25098 4.32691 4.61849 4.7186 5.07129 4.71875C5.52402 4.71852 5.89062 4.32686 5.89062 3.84375C5.89062 3.36064 5.52402 2.96898 5.07129 2.96875Z",fill:"#9CA3AF"}));function q_({handleOpenFilter:e}){return h.jsx("button",{className:"p-2 rounded-md flex gap-2 text-sm items-center border border-gray-400 bg-white hover:bg-gray-100","aria-label":" ",title:" ",onClick:e,children:h.jsx(zN,{className:"w-4 h-4 text-gray-600 hover:text-blue-500 transition-colors"})})}function Ore({alarmOnly:e,setFilter:t}){return h.jsxs("button",{className:"px-4 py-2 rounded-md flex gap-2 items-center text-nowrap border border-gray-400 hover:bg-white cursor-pointer",onClick:()=>t("alarmOnly",!e),children:[h.jsx(Xd,{disabled:!e}),""]})}function V_({department:e,setFilter:t}){const{data:n}=Yc(),[r,i]=I.useState(""),[s,o]=I.useState(""),a=I.useMemo(()=>[{departmentName:"",departmentCode:""},...n??[]],[n]),[l,u]=I.useState(a);function f(p){const g=a.find(y=>y.departmentCode===p)?.departmentName;return g||" ."}return I.useEffect(()=>{const p=a.filter(g=>s===""?g.departmentCode==="9005":s===""?g.departmentCode!=="9005":!0).filter(g=>{const y=r?.replace(/[^\w\s---]/g,""),b=Dd(y).toLowerCase(),_=g.departmentName.replace(/[^\w\s---]/g,"");return Dd(_).toLowerCase().includes(b)});u(p)},[n,r,s]),h.jsxs(rf,{label:f(e),selected:!!e,children:[h.jsxs("div",{className:"flex flex-col h-80 max-h-80 w-[300px] overflow-y-auto",children:[h.jsxs("div",{className:"shrink-0 gap-2 flex py-2 bg-white",children:[h.jsxs("select",{value:s,className:"border border-gray-300 rounded-md py-1 text-sm text-gray-700 bg-white",onChange:p=>{const g=p.target.value;o(g),t("department","")},children:[h.jsx("option",{value:"",children:""}),h.jsx("option",{value:"",children:""})]}),h.jsx(Jc,{type:"text",placeholder:" ",onDelete:()=>{i("")},value:r,onChange:p=>{i(p.target.value)}})]}),h.jsx("div",{className:"overflow-y-auto flex-1 px-2 py-2 border-t border-gray-200",children:(s===""||s==="")&&h.jsx(Mre,{departments:l,setFilter:t})})]}),h.jsx("div",{className:"flex justify-end w-full pt-1 border-t border-gray-200",children:h.jsx(Fc,{variants:"primary",onClick:()=>t("department",""),children:" "})})]})}function Mre({departments:e,setFilter:t}){const n="",r=i=>{t("department",i||"")};return h.jsx(h.Fragment,{children:e?.map(i=>h.jsx("div",{role:"option","aria-selected":n===i.departmentName,className:`flex items-center gap-1 px-2 py-2 rounded cursor-pointer text-sm ${n===i.departmentName?"bg-blue-50 text-blue-500 font-medium":"hover:bg-gray-50 text-gray-700"}`,onClick:()=>r(i.departmentCode),children:i.departmentName},i.departmentCode))})}const Are=e=>I.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},I.createElement("path",{d:"M3 4H17L12 10.5V20L8 16V10.5L3 4Z",stroke:"#047CFE",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),I.createElement("path",{d:"M16 15L22 21",stroke:"#047CFE",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),I.createElement("path",{d:"M16 21L22 15",stroke:"#047CFE",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}));function Q_({filters:e,resetFilter:t}){return Object.keys(e).some(i=>!TN(i,e[i]))?h.jsx(Ir,{label:h.jsx(Are,{className:"w-4 h-4"}),selected:!0,onClick:t}):null}function K_({filterStore:e,onClose:t}){const{classroom:n,note:r,categories:i,time:s}=e(b=>b.filters),o=Yc(),a=e(b=>b.filters),l=e(b=>b.setFilter),u=e(b=>b.resetFilters),f=z_(a,o.data),{data:p}=Cs(),g=Rp(p??[]).sort((b,_)=>b.localeCompare(_)).map(b=>b),y=(b,_)=>{const C=a[b];Array.isArray(C)?l(b,C.filter(k=>k!==_)):l(b,gl[b])};return h.jsxs(kl,{onClose:t,children:[h.jsx(Zd,{title:" ",onClose:t}),h.jsxs("div",{className:"flex flex-col gap-2 p-4 w-130 max-h-[500px] overflow-y-auto",children:[h.jsx("div",{className:"flex flex-wrap gap-2 w-fit",children:f.map(b=>h.jsx(Ir,{chipType:"cancel",label:b.label,selected:!0,onClick:()=>y(b.filterKey,b.values)},`${b.filterKey}-${b.values}`))}),h.jsx(l0,{selectedValues:i,options:g,filterKey:"categories",setFilter:l,ItemComponent:Nh,className:"md:overflow-y-visible"}),h.jsx(M2,{items:s,onChange:b=>l("time",b)}),h.jsx(l0,{selectedValues:r,options:Rn.remark,filterKey:"note",setFilter:l,ItemComponent:Nh,className:"md:overflow-y-visible"}),h.jsx(l0,{selectedValues:n,options:Rn.classRoom,filterKey:"classroom",setFilter:l,ItemComponent:Nh,className:"md:overflow-y-visible"})]}),h.jsx("div",{className:"flex justify-end bg-white p-2 border-t border-gray-200",children:h.jsx(Fc,{variants:"primary",onClick:u,children:" "})})]})}function Dre(){const[e,t]=I.useState(!1),[n,r]=I.useState(!1),i=cd(_=>_.setFilter),{department:s,keywords:o,alarmOnly:a,time:l}=cd(_=>_.filters),u=cd(_=>_.filters),f=cd(_=>_.resetFilters),p=Tl(),{data:g}=Cs(),y=Rp(g??[]).sort((_,C)=>_.localeCompare(C)).map(_=>_),b=()=>{p?r(!0):t(!0)};return h.jsxs("div",{className:"flex flex-wrap gap-2 mt-4 text-sm lg:flex-wrap lg:flex-row lg:items-center lg:gap-y-0 lg:gap-x-2",children:[h.jsx("label",{className:"hidden",htmlFor:"searchOption",children:" "}),h.jsx(Jc,{type:"text",placeholder:",      ",value:o,className:"pl-10 pr-6 py-2 rounded-md w-full bg-white border border-gray-400 text-[16px] placeholder:text-sm",onDelete:()=>i("keywords",""),onChange:_=>i("keywords",_.target.value)}),e&&h.jsx(K_,{filterStore:cd,onClose:()=>t(!1)}),n&&h.jsx(W_,{onCloseFiltering:()=>r(!1),filters:u,setFilter:i,resetFilter:f}),h.jsxs("div",{className:"flex items-center flex-wrap mt-2 gap-2",children:[h.jsx(V_,{department:s,setFilter:i}),h.jsx(BN,{times:l,setFilter:i}),h.jsx(Gn,{filterKey:"credits",options:Rn.credits,selectedValues:u.credits??[],setFilter:i}),h.jsx(Gn,{filterKey:"grades",options:Rn.grades,selectedValues:u.grades??[],setFilter:i}),u.classroom.length>0&&h.jsx(Gn,{filterKey:"classroom",options:Rn.classRoom,selectedValues:u.classroom??[],setFilter:i,className:"min-w-max"}),h.jsx(Gn,{filterKey:"note",options:Rn.remark,selectedValues:u.note??[],setFilter:i}),u.categories.length>0&&h.jsx(Gn,{filterKey:"categories",options:y,selectedValues:u.categories??[],setFilter:i,className:"min-w-max"}),h.jsx(Ld,{filterKey:"wishRange",options:Rn.wishRange,selectedValue:u.wishRange??null,setFilter:i,ItemComponent:Ir}),h.jsx(Ld,{filterKey:"seatRange",options:Rn.seatRange,selectedValue:u.seatRange??null,setFilter:i,ItemComponent:Ir}),h.jsx(Q_,{filters:u,resetFilter:f}),h.jsx(q_,{handleOpenFilter:b}),h.jsx(Ore,{alarmOnly:a,setFilter:i})]})]})}const Lre=[{title:"",key:"pin"},{title:"",key:"code"},{title:"",key:"departmentName"},{title:"",key:"name"},{title:"",key:"professor"}],Fre=({isMobile:e,filters:t})=>{const{data:n,titles:r,isPending:i}=DN(Lre),s=jp(n),o=I.useDeferredValue(nf(s??[],t));return h.jsx(Jd,{children:e?h.jsx(B_,{subjects:o,isPending:i,isLive:!0}):h.jsx(pre,{titles:r,subjects:o,isPending:i})})},Bre=()=>{const e=Tl(),t=cd(n=>n.filters);return h.jsxs(h.Fragment,{children:[h.jsx(xr,{children:h.jsx("title",{children:"ALLCLL |  "})}),h.jsxs("div",{className:"container mx-auto",children:[h.jsx("h2",{className:"font-bold text-lg",children:" "}),h.jsx("p",{className:"text-xs font-bold text-gray-500",children:"   ,    ."}),h.jsxs("p",{className:"text-xs text-gray-500 mb-4",children:["  ",RN,", 11:00  ."]}),h.jsx("div",{className:"pb-2",children:h.jsxs(Jd,{children:[h.jsx(Dre,{}),h.jsx(I_,{})]})}),h.jsx(Fre,{isMobile:e,filters:t}),h.jsx(LN,{right:"right-2 sm:right-10"})]})]})};function zre(){const e=ep(i=>i.isSearchOpen),t=ep(i=>i.setIsSearchOpen),n=Tl(),{isPreSeatAvailable:r}=ey();return h.jsxs(h.Fragment,{children:[h.jsx(xr,{children:h.jsx("title",{children:"ALLCLL |   "})}),h.jsxs("div",{className:"flex justify-between overflow-hidden min-h-screen",children:[h.jsx("div",{className:"max-w-screen-xl mx-auto p-4 mb-8 container",children:h.jsxs(h.Fragment,{children:[h.jsxs("p",{className:"text-xs font-bold text-gray-500 mb-4",children:["     .   ",h.jsx("a",{href:"https://forms.gle/bCDTVujEHunnvHe88",target:"_blank",className:"text-blue-500 underline hover:text-blue-600",children:""})," ."]}),!r&&h.jsx(Jd,{children:h.jsx(dee,{})}),h.jsx("div",{className:"grid grid-cols-1 gap-x-4 mb-4",children:r?h.jsx(Bre,{}):h.jsx(CZ,{title:""})})]})}),!n&&h.jsx(Zne,{isOpen:e,onClose:()=>t(!1)})]}),n&&e&&h.jsx(rre,{onCloseSearch:()=>t(!1)})]})}function $re(){const[e,t]=I.useState(!1);return h.jsxs(h.Fragment,{children:[h.jsx(xr,{children:h.jsx("title",{children:"ALLCLL | "})}),h.jsxs("div",{className:"mx-auto flex flex-col justify-center bg-blue-100 h-max",children:[h.jsx("iframe",{src:"https://resilient-may-c73.notion.site/ebd/1f2acf7c316280939afed2657259c817",width:"100%",height:e?"1000":"0",onLoad:()=>t(!0),children:" "}),!e&&h.jsx("div",{className:"w-4xl mx-auto h-screen flex justify-center items-center text-3xl",children:" ..."})]})]})}function Ure(){const[e,t]=I.useState(!1);return h.jsxs(h.Fragment,{children:[h.jsx(xr,{children:h.jsx("title",{children:"ALLCLL |   "})}),h.jsxs("div",{className:"mx-auto flex justify-center bg-blue-100 pt-4",children:[h.jsx("iframe",{src:"https://docs.google.com/forms/d/e/1FAIpQLSdk7MxNYVyzPyJLecQdJU5wGSgdE7rUWtRfcrPBY2ioKbtW2Q/viewform?embedded=true",width:"640",height:e?"1100":"0",onLoad:()=>t(!0),children:" "}),!e&&h.jsx("div",{className:"w-4xl h-screen flex items-center text-3xl",children:" ..."})]})]})}function nE(e,t){const n=String(e);if(typeof t!="string")throw new TypeError("Expected character");let r=0,i=n.indexOf(t);for(;i!==-1;)r++,i=n.indexOf(t,i+t.length);return r}const di=jl(/[A-Za-z]/),Yr=jl(/[\dA-Za-z]/),Hre=jl(/[#-'*+\--9=?A-Z^-~]/);function Z0(e){return e!==null&&(e<32||e===127)}const A2=jl(/\d/),Wre=jl(/[\dA-Fa-f]/),qre=jl(/[!-/:-@[-`{-~]/);function ht(e){return e!==null&&e<-2}function Sn(e){return e!==null&&(e<0||e===32)}function Kt(e){return e===-2||e===-1||e===32}const ty=jl(new RegExp("\\p{P}|\\p{S}","u")),zc=jl(/\s/);function jl(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function Vre(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}const ny=function(e){if(e==null)return Yre;if(typeof e=="function")return ry(e);if(typeof e=="object")return Array.isArray(e)?Qre(e):Kre(e);if(typeof e=="string")return Gre(e);throw new Error("Expected function, string, or object as test")};function Qre(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=ny(e[n]);return ry(r);function r(...i){let s=-1;for(;++s<t.length;)if(t[s].apply(this,i))return!0;return!1}}function Kre(e){const t=e;return ry(n);function n(r){const i=r;let s;for(s in e)if(i[s]!==t[s])return!1;return!0}}function Gre(e){return ry(t);function t(n){return n&&n.type===e}}function ry(e){return t;function t(n,r,i){return!!(Xre(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function Yre(){return!0}function Xre(e){return e!==null&&typeof e=="object"&&"type"in e}const $N=[],Jre=!0,D2=!1,Zre="skip";function UN(e,t,n,r){let i;typeof t=="function"&&typeof n!="function"?(r=n,n=t):i=t;const s=ny(i),o=r?-1:1;a(e,void 0,[])();function a(l,u,f){const p=l&&typeof l=="object"?l:{};if(typeof p.type=="string"){const y=typeof p.tagName=="string"?p.tagName:typeof p.name=="string"?p.name:void 0;Object.defineProperty(g,"name",{value:"node ("+(l.type+(y?"<"+y+">":""))+")"})}return g;function g(){let y=$N,b,_,C;if((!t||s(l,u,f[f.length-1]||void 0))&&(y=eie(n(l,f)),y[0]===D2))return y;if("children"in l&&l.children){const k=l;if(k.children&&y[0]!==Zre)for(_=(r?k.children.length:-1)+o,C=f.concat(k);_>-1&&_<k.children.length;){const R=k.children[_];if(b=a(R,_,C)(),b[0]===D2)return b;_=typeof b[1]=="number"?b[1]:_+o}}return y}}}function eie(e){return Array.isArray(e)?e:typeof e=="number"?[Jre,e]:e==null?$N:[e]}function tie(e,t,n){const i=ny((n||{}).ignore||[]),s=nie(t);let o=-1;for(;++o<s.length;)UN(e,"text",a);function a(u,f){let p=-1,g;for(;++p<f.length;){const y=f[p],b=g?g.children:void 0;if(i(y,b?b.indexOf(y):void 0,g))return;g=y}if(g)return l(u,f)}function l(u,f){const p=f[f.length-1],g=s[o][0],y=s[o][1];let b=0;const C=p.children.indexOf(u);let k=!1,R=[];g.lastIndex=0;let O=g.exec(u.value);for(;O;){const $=O.index,z={index:O.index,input:O.input,stack:[...f,u]};let j=y(...O,z);if(typeof j=="string"&&(j=j.length>0?{type:"text",value:j}:void 0),j===!1?g.lastIndex=$+1:(b!==$&&R.push({type:"text",value:u.value.slice(b,$)}),Array.isArray(j)?R.push(...j):j&&R.push(j),b=$+O[0].length,k=!0),!g.global)break;O=g.exec(u.value)}return k?(b<u.value.length&&R.push({type:"text",value:u.value.slice(b)}),p.children.splice(C,1,...R)):R=[u],C+R.length}}function nie(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!e[0]||Array.isArray(e[0])?e:[e];let r=-1;for(;++r<n.length;){const i=n[r];t.push([rie(i[0]),iie(i[1])])}return t}function rie(e){return typeof e=="string"?new RegExp(Vre(e),"g"):e}function iie(e){return typeof e=="function"?e:function(){return e}}const $x="phrasing",Ux=["autolink","link","image","label"];function sie(){return{transforms:[fie],enter:{literalAutolink:aie,literalAutolinkEmail:Hx,literalAutolinkHttp:Hx,literalAutolinkWww:Hx},exit:{literalAutolink:die,literalAutolinkEmail:uie,literalAutolinkHttp:lie,literalAutolinkWww:cie}}}function oie(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:$x,notInConstruct:Ux},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:$x,notInConstruct:Ux},{character:":",before:"[ps]",after:"\\/",inConstruct:$x,notInConstruct:Ux}]}}function aie(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function Hx(e){this.config.enter.autolinkProtocol.call(this,e)}function lie(e){this.config.exit.autolinkProtocol.call(this,e)}function cie(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function uie(e){this.config.exit.autolinkEmail.call(this,e)}function die(e){this.exit(e)}function fie(e){tie(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,hie],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),pie]],{ignore:["link","linkReference"]})}function hie(e,t,n,r,i){let s="";if(!HN(i)||(/^w/i.test(t)&&(n=t+n,t="",s="http://"),!mie(n)))return!1;const o=gie(n+r);if(!o[0])return!1;const a={type:"link",title:null,url:s+t+o[0],children:[{type:"text",value:t+o[0]}]};return o[1]?[a,{type:"text",value:o[1]}]:a}function pie(e,t,n,r){return!HN(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function mie(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function gie(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],r=n.indexOf(")");const i=nE(e,"(");let s=nE(e,")");for(;r!==-1&&i>s;)e+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),s++;return[e,n]}function HN(e,t){const n=e.input.charCodeAt(e.index-1);return(e.index===0||zc(n)||ty(n))&&(!t||n!==47)}function Ys(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}WN.peek=kie;function yie(){this.buffer()}function vie(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function xie(){this.buffer()}function bie(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function wie(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Ys(this.sliceSerialize(e)).toLowerCase(),n.label=t}function _ie(e){this.exit(e)}function Sie(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Ys(this.sliceSerialize(e)).toLowerCase(),n.label=t}function Cie(e){this.exit(e)}function kie(){return"["}function WN(e,t,n,r){const i=n.createTracker(r);let s=i.move("[^");const o=n.enter("footnoteReference"),a=n.enter("reference");return s+=i.move(n.safe(n.associationId(e),{after:"]",before:s})),a(),o(),s+=i.move("]"),s}function Eie(){return{enter:{gfmFootnoteCallString:yie,gfmFootnoteCall:vie,gfmFootnoteDefinitionLabelString:xie,gfmFootnoteDefinition:bie},exit:{gfmFootnoteCallString:wie,gfmFootnoteCall:_ie,gfmFootnoteDefinitionLabelString:Sie,gfmFootnoteDefinition:Cie}}}function Tie(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:n,footnoteReference:WN},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,i,s,o){const a=s.createTracker(o);let l=a.move("[^");const u=s.enter("footnoteDefinition"),f=s.enter("label");return l+=a.move(s.safe(s.associationId(r),{before:l,after:"]"})),f(),l+=a.move("]:"),r.children&&r.children.length>0&&(a.shift(4),l+=a.move((t?`
`:" ")+s.indentLines(s.containerFlow(r,a.current()),t?qN:jie))),u(),l}}function jie(e,t,n){return t===0?e:qN(e,t,n)}function qN(e,t,n){return(n?"":"    ")+e}const Nie=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];VN.peek=Mie;function Iie(){return{canContainEols:["delete"],enter:{strikethrough:Pie},exit:{strikethrough:Oie}}}function Rie(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:Nie}],handlers:{delete:VN}}}function Pie(e){this.enter({type:"delete",children:[]},e)}function Oie(e){this.exit(e)}function VN(e,t,n,r){const i=n.createTracker(r),s=n.enter("strikethrough");let o=i.move("~~");return o+=n.containerPhrasing(e,{...i.current(),before:o,after:"~"}),o+=i.move("~~"),s(),o}function Mie(){return"~"}function Aie(e){return e.length}function Die(e,t){const n=t||{},r=(n.align||[]).concat(),i=n.stringLength||Aie,s=[],o=[],a=[],l=[];let u=0,f=-1;for(;++f<e.length;){const _=[],C=[];let k=-1;for(e[f].length>u&&(u=e[f].length);++k<e[f].length;){const R=Lie(e[f][k]);if(n.alignDelimiters!==!1){const O=i(R);C[k]=O,(l[k]===void 0||O>l[k])&&(l[k]=O)}_.push(R)}o[f]=_,a[f]=C}let p=-1;if(typeof r=="object"&&"length"in r)for(;++p<u;)s[p]=rE(r[p]);else{const _=rE(r);for(;++p<u;)s[p]=_}p=-1;const g=[],y=[];for(;++p<u;){const _=s[p];let C="",k="";_===99?(C=":",k=":"):_===108?C=":":_===114&&(k=":");let R=n.alignDelimiters===!1?1:Math.max(1,l[p]-C.length-k.length);const O=C+"-".repeat(R)+k;n.alignDelimiters!==!1&&(R=C.length+R+k.length,R>l[p]&&(l[p]=R),y[p]=R),g[p]=O}o.splice(1,0,g),a.splice(1,0,y),f=-1;const b=[];for(;++f<o.length;){const _=o[f],C=a[f];p=-1;const k=[];for(;++p<u;){const R=_[p]||"";let O="",$="";if(n.alignDelimiters!==!1){const z=l[p]-(C[p]||0),j=s[p];j===114?O=" ".repeat(z):j===99?z%2?(O=" ".repeat(z/2+.5),$=" ".repeat(z/2-.5)):(O=" ".repeat(z/2),$=O):$=" ".repeat(z)}n.delimiterStart!==!1&&!p&&k.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&R==="")&&(n.delimiterStart!==!1||p)&&k.push(" "),n.alignDelimiters!==!1&&k.push(O),k.push(R),n.alignDelimiters!==!1&&k.push($),n.padding!==!1&&k.push(" "),(n.delimiterEnd!==!1||p!==u-1)&&k.push("|")}b.push(n.delimiterEnd===!1?k.join("").replace(/ +$/,""):k.join(""))}return b.join(`
`)}function Lie(e){return e==null?"":String(e)}function rE(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}function Fie(e,t,n,r){const i=n.enter("blockquote"),s=n.createTracker(r);s.move("> "),s.shift(2);const o=n.indentLines(n.containerFlow(e,s.current()),Bie);return i(),o}function Bie(e,t,n){return">"+(n?"":" ")+e}function zie(e,t){return iE(e,t.inConstruct,!0)&&!iE(e,t.notInConstruct,!1)}function iE(e,t,n){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return n;let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function sE(e,t,n,r){let i=-1;for(;++i<n.unsafe.length;)if(n.unsafe[i].character===`
`&&zie(n.stack,n.unsafe[i]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function $ie(e,t){const n=String(e);let r=n.indexOf(t),i=r,s=0,o=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===i?++s>o&&(o=s):s=1,i=r+t.length,r=n.indexOf(t,i);return o}function Uie(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function Hie(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function Wie(e,t,n,r){const i=Hie(n),s=e.value||"",o=i==="`"?"GraveAccent":"Tilde";if(Uie(e,n)){const p=n.enter("codeIndented"),g=n.indentLines(s,qie);return p(),g}const a=n.createTracker(r),l=i.repeat(Math.max($ie(s,i)+1,3)),u=n.enter("codeFenced");let f=a.move(l);if(e.lang){const p=n.enter(`codeFencedLang${o}`);f+=a.move(n.safe(e.lang,{before:f,after:" ",encode:["`"],...a.current()})),p()}if(e.lang&&e.meta){const p=n.enter(`codeFencedMeta${o}`);f+=a.move(" "),f+=a.move(n.safe(e.meta,{before:f,after:`
`,encode:["`"],...a.current()})),p()}return f+=a.move(`
`),s&&(f+=a.move(s+`
`)),f+=a.move(l),u(),f}function qie(e,t,n){return(n?"":"    ")+e}function G_(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function Vie(e,t,n,r){const i=G_(n),s=i==='"'?"Quote":"Apostrophe",o=n.enter("definition");let a=n.enter("label");const l=n.createTracker(r);let u=l.move("[");return u+=l.move(n.safe(n.associationId(e),{before:u,after:"]",...l.current()})),u+=l.move("]: "),a(),!e.url||/[\0- \u007F]/.test(e.url)?(a=n.enter("destinationLiteral"),u+=l.move("<"),u+=l.move(n.safe(e.url,{before:u,after:">",...l.current()})),u+=l.move(">")):(a=n.enter("destinationRaw"),u+=l.move(n.safe(e.url,{before:u,after:e.title?" ":`
`,...l.current()}))),a(),e.title&&(a=n.enter(`title${s}`),u+=l.move(" "+i),u+=l.move(n.safe(e.title,{before:u,after:i,...l.current()})),u+=l.move(i),a()),o(),u}function Qie(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function np(e){return"&#x"+e.toString(16).toUpperCase()+";"}function Fd(e){if(e===null||Sn(e)||zc(e))return 1;if(ty(e))return 2}function e1(e,t,n){const r=Fd(e),i=Fd(t);return r===void 0?i===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}QN.peek=Kie;function QN(e,t,n,r){const i=Qie(n),s=n.enter("emphasis"),o=n.createTracker(r),a=o.move(i);let l=o.move(n.containerPhrasing(e,{after:i,before:a,...o.current()}));const u=l.charCodeAt(0),f=e1(r.before.charCodeAt(r.before.length-1),u,i);f.inside&&(l=np(u)+l.slice(1));const p=l.charCodeAt(l.length-1),g=e1(r.after.charCodeAt(0),p,i);g.inside&&(l=l.slice(0,-1)+np(p));const y=o.move(i);return s(),n.attentionEncodeSurroundingInfo={after:g.outside,before:f.outside},a+l+y}function Kie(e,t,n){return n.options.emphasis||"*"}function Y_(e,t,n,r){let i,s,o;typeof t=="function"&&typeof n!="function"?(s=void 0,o=t,i=n):(s=t,o=n,i=r),UN(e,s,a,i);function a(l,u){const f=u[u.length-1],p=f?f.children.indexOf(l):void 0;return o(l,p,f)}}const Gie={};function X_(e,t){const n=Gie,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return KN(e,r,i)}function KN(e,t,n){if(Yie(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return oE(e.children,t,n)}return Array.isArray(e)?oE(e,t,n):""}function oE(e,t,n){const r=[];let i=-1;for(;++i<e.length;)r[i]=KN(e[i],t,n);return r.join("")}function Yie(e){return!!(e&&typeof e=="object")}function Xie(e,t){let n=!1;return Y_(e,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,D2}),!!((!e.depth||e.depth<3)&&X_(e)&&(t.options.setext||n))}function Jie(e,t,n,r){const i=Math.max(Math.min(6,e.depth||1),1),s=n.createTracker(r);if(Xie(e,n)){const f=n.enter("headingSetext"),p=n.enter("phrasing"),g=n.containerPhrasing(e,{...s.current(),before:`
`,after:`
`});return p(),f(),g+`
`+(i===1?"=":"-").repeat(g.length-(Math.max(g.lastIndexOf("\r"),g.lastIndexOf(`
`))+1))}const o="#".repeat(i),a=n.enter("headingAtx"),l=n.enter("phrasing");s.move(o+" ");let u=n.containerPhrasing(e,{before:"# ",after:`
`,...s.current()});return/^[\t ]/.test(u)&&(u=np(u.charCodeAt(0))+u.slice(1)),u=u?o+" "+u:o,n.options.closeAtx&&(u+=" "+o),l(),a(),u}GN.peek=Zie;function GN(e){return e.value||""}function Zie(){return"<"}YN.peek=ese;function YN(e,t,n,r){const i=G_(n),s=i==='"'?"Quote":"Apostrophe",o=n.enter("image");let a=n.enter("label");const l=n.createTracker(r);let u=l.move("![");return u+=l.move(n.safe(e.alt,{before:u,after:"]",...l.current()})),u+=l.move("]("),a(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(a=n.enter("destinationLiteral"),u+=l.move("<"),u+=l.move(n.safe(e.url,{before:u,after:">",...l.current()})),u+=l.move(">")):(a=n.enter("destinationRaw"),u+=l.move(n.safe(e.url,{before:u,after:e.title?" ":")",...l.current()}))),a(),e.title&&(a=n.enter(`title${s}`),u+=l.move(" "+i),u+=l.move(n.safe(e.title,{before:u,after:i,...l.current()})),u+=l.move(i),a()),u+=l.move(")"),o(),u}function ese(){return"!"}XN.peek=tse;function XN(e,t,n,r){const i=e.referenceType,s=n.enter("imageReference");let o=n.enter("label");const a=n.createTracker(r);let l=a.move("![");const u=n.safe(e.alt,{before:l,after:"]",...a.current()});l+=a.move(u+"]["),o();const f=n.stack;n.stack=[],o=n.enter("reference");const p=n.safe(n.associationId(e),{before:l,after:"]",...a.current()});return o(),n.stack=f,s(),i==="full"||!u||u!==p?l+=a.move(p+"]"):i==="shortcut"?l=l.slice(0,-1):l+=a.move("]"),l}function tse(){return"!"}JN.peek=nse;function JN(e,t,n){let r=e.value||"",i="`",s=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++s<n.unsafe.length;){const o=n.unsafe[s],a=n.compilePattern(o);let l;if(o.atBreak)for(;l=a.exec(r);){let u=l.index;r.charCodeAt(u)===10&&r.charCodeAt(u-1)===13&&u--,r=r.slice(0,u)+" "+r.slice(l.index+1)}}return i+r+i}function nse(){return"`"}function ZN(e,t){const n=X_(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}eI.peek=rse;function eI(e,t,n,r){const i=G_(n),s=i==='"'?"Quote":"Apostrophe",o=n.createTracker(r);let a,l;if(ZN(e,n)){const f=n.stack;n.stack=[],a=n.enter("autolink");let p=o.move("<");return p+=o.move(n.containerPhrasing(e,{before:p,after:">",...o.current()})),p+=o.move(">"),a(),n.stack=f,p}a=n.enter("link"),l=n.enter("label");let u=o.move("[");return u+=o.move(n.containerPhrasing(e,{before:u,after:"](",...o.current()})),u+=o.move("]("),l(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(l=n.enter("destinationLiteral"),u+=o.move("<"),u+=o.move(n.safe(e.url,{before:u,after:">",...o.current()})),u+=o.move(">")):(l=n.enter("destinationRaw"),u+=o.move(n.safe(e.url,{before:u,after:e.title?" ":")",...o.current()}))),l(),e.title&&(l=n.enter(`title${s}`),u+=o.move(" "+i),u+=o.move(n.safe(e.title,{before:u,after:i,...o.current()})),u+=o.move(i),l()),u+=o.move(")"),a(),u}function rse(e,t,n){return ZN(e,n)?"<":"["}tI.peek=ise;function tI(e,t,n,r){const i=e.referenceType,s=n.enter("linkReference");let o=n.enter("label");const a=n.createTracker(r);let l=a.move("[");const u=n.containerPhrasing(e,{before:l,after:"]",...a.current()});l+=a.move(u+"]["),o();const f=n.stack;n.stack=[],o=n.enter("reference");const p=n.safe(n.associationId(e),{before:l,after:"]",...a.current()});return o(),n.stack=f,s(),i==="full"||!u||u!==p?l+=a.move(p+"]"):i==="shortcut"?l=l.slice(0,-1):l+=a.move("]"),l}function ise(){return"["}function J_(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function sse(e){const t=J_(e),n=e.options.bulletOther;if(!n)return t==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}function ose(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function nI(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function ase(e,t,n,r){const i=n.enter("list"),s=n.bulletCurrent;let o=e.ordered?ose(n):J_(n);const a=e.ordered?o==="."?")":".":sse(n);let l=t&&n.bulletLastUsed?o===n.bulletLastUsed:!1;if(!e.ordered){const f=e.children?e.children[0]:void 0;if((o==="*"||o==="-")&&f&&(!f.children||!f.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(l=!0),nI(n)===o&&f){let p=-1;for(;++p<e.children.length;){const g=e.children[p];if(g&&g.type==="listItem"&&g.children&&g.children[0]&&g.children[0].type==="thematicBreak"){l=!0;break}}}}l&&(o=a),n.bulletCurrent=o;const u=n.containerFlow(e,r);return n.bulletLastUsed=o,n.bulletCurrent=s,i(),u}function lse(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function cse(e,t,n,r){const i=lse(n);let s=n.bulletCurrent||J_(n);t&&t.type==="list"&&t.ordered&&(s=(typeof t.start=="number"&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+s);let o=s.length+1;(i==="tab"||i==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(o=Math.ceil(o/4)*4);const a=n.createTracker(r);a.move(s+" ".repeat(o-s.length)),a.shift(o);const l=n.enter("listItem"),u=n.indentLines(n.containerFlow(e,a.current()),f);return l(),u;function f(p,g,y){return g?(y?"":" ".repeat(o))+p:(y?s:s+" ".repeat(o-s.length))+p}}function use(e,t,n,r){const i=n.enter("paragraph"),s=n.enter("phrasing"),o=n.containerPhrasing(e,r);return s(),i(),o}const dse=ny(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function fse(e,t,n,r){return(e.children.some(function(o){return dse(o)})?n.containerPhrasing:n.containerFlow).call(n,e,r)}function hse(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}rI.peek=pse;function rI(e,t,n,r){const i=hse(n),s=n.enter("strong"),o=n.createTracker(r),a=o.move(i+i);let l=o.move(n.containerPhrasing(e,{after:i,before:a,...o.current()}));const u=l.charCodeAt(0),f=e1(r.before.charCodeAt(r.before.length-1),u,i);f.inside&&(l=np(u)+l.slice(1));const p=l.charCodeAt(l.length-1),g=e1(r.after.charCodeAt(0),p,i);g.inside&&(l=l.slice(0,-1)+np(p));const y=o.move(i+i);return s(),n.attentionEncodeSurroundingInfo={after:g.outside,before:f.outside},a+l+y}function pse(e,t,n){return n.options.strong||"*"}function mse(e,t,n,r){return n.safe(e.value,r)}function gse(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function yse(e,t,n){const r=(nI(n)+(n.options.ruleSpaces?" ":"")).repeat(gse(n));return n.options.ruleSpaces?r.slice(0,-1):r}const iI={blockquote:Fie,break:sE,code:Wie,definition:Vie,emphasis:QN,hardBreak:sE,heading:Jie,html:GN,image:YN,imageReference:XN,inlineCode:JN,link:eI,linkReference:tI,list:ase,listItem:cse,paragraph:use,root:fse,strong:rI,text:mse,thematicBreak:yse},aE=document.createElement("i");function Z_(e){const t="&"+e+";";aE.innerHTML=t;const n=aE.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function sI(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}const vse=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function xse(e){return e.replace(vse,bse)}function bse(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),s=i===120||i===88;return sI(n.slice(s?2:1),s?16:10)}return Z_(n)||e}function wse(){return{enter:{table:_se,tableData:lE,tableHeader:lE,tableRow:Cse},exit:{codeText:kse,table:Sse,tableData:Wx,tableHeader:Wx,tableRow:Wx}}}function _se(e){const t=e._align;this.enter({type:"table",align:t.map(function(n){return n==="none"?null:n}),children:[]},e),this.data.inTable=!0}function Sse(e){this.exit(e),this.data.inTable=void 0}function Cse(e){this.enter({type:"tableRow",children:[]},e)}function Wx(e){this.exit(e)}function lE(e){this.enter({type:"tableCell",children:[]},e)}function kse(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,Ese));const n=this.stack[this.stack.length-1];n.type,n.value=t,this.exit(e)}function Ese(e,t){return t==="|"?t:e}function Tse(e){const t=e||{},n=t.tableCellPadding,r=t.tablePipeAlign,i=t.stringLength,s=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:g,table:o,tableCell:l,tableRow:a}};function o(y,b,_,C){return u(f(y,_,C),y.align)}function a(y,b,_,C){const k=p(y,_,C),R=u([k]);return R.slice(0,R.indexOf(`
`))}function l(y,b,_,C){const k=_.enter("tableCell"),R=_.enter("phrasing"),O=_.containerPhrasing(y,{...C,before:s,after:s});return R(),k(),O}function u(y,b){return Die(y,{align:b,alignDelimiters:r,padding:n,stringLength:i})}function f(y,b,_){const C=y.children;let k=-1;const R=[],O=b.enter("table");for(;++k<C.length;)R[k]=p(C[k],b,_);return O(),R}function p(y,b,_){const C=y.children;let k=-1;const R=[],O=b.enter("tableRow");for(;++k<C.length;)R[k]=l(C[k],y,b,_);return O(),R}function g(y,b,_){let C=iI.inlineCode(y,b,_);return _.stack.includes("tableCell")&&(C=C.replace(/\|/g,"\\$&")),C}}function jse(){return{exit:{taskListCheckValueChecked:cE,taskListCheckValueUnchecked:cE,paragraph:Ise}}}function Nse(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:Rse}}}function cE(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function Ise(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const i=t.children;let s=-1,o;for(;++s<i.length;){const a=i[s];if(a.type==="paragraph"){o=a;break}}o===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(e)}function Rse(e,t,n,r){const i=e.children[0],s=typeof e.checked=="boolean"&&i&&i.type==="paragraph",o="["+(e.checked?"x":" ")+"] ",a=n.createTracker(r);s&&a.move(o);let l=iI.listItem(e,t,n,{...r,...a.current()});return s&&(l=l.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,u)),l;function u(f){return f+o}}function Pse(){return[sie(),Eie(),Iie(),wse(),jse()]}function Ose(e){return{extensions:[oie(),Tie(e),Rie(),Tse(e),Nse()]}}function ts(e,t,n,r){const i=e.length;let s=0,o;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(t,n),e.splice(...o);else for(n&&e.splice(t,n);s<r.length;)o=r.slice(s,s+1e4),o.unshift(t,0),e.splice(...o),s+=1e4,t+=1e4}function xs(e,t){return e.length>0?(ts(e,e.length,0,t),e):t}const uE={}.hasOwnProperty;function oI(e){const t={};let n=-1;for(;++n<e.length;)Mse(t,e[n]);return t}function Mse(e,t){let n;for(n in t){const i=(uE.call(e,n)?e[n]:void 0)||(e[n]={}),s=t[n];let o;if(s)for(o in s){uE.call(i,o)||(i[o]=[]);const a=s[o];Ase(i[o],Array.isArray(a)?a:a?[a]:[])}}}function Ase(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);ts(e,0,0,r)}const Dse={tokenize:Use,partial:!0},aI={tokenize:Hse,partial:!0},lI={tokenize:Wse,partial:!0},cI={tokenize:qse,partial:!0},Lse={tokenize:Vse,partial:!0},uI={name:"wwwAutolink",tokenize:zse,previous:fI},dI={name:"protocolAutolink",tokenize:$se,previous:hI},ma={name:"emailAutolink",tokenize:Bse,previous:pI},So={};function Fse(){return{text:So}}let cc=48;for(;cc<123;)So[cc]=ma,cc++,cc===58?cc=65:cc===91&&(cc=97);So[43]=ma;So[45]=ma;So[46]=ma;So[95]=ma;So[72]=[ma,dI];So[104]=[ma,dI];So[87]=[ma,uI];So[119]=[ma,uI];function Bse(e,t,n){const r=this;let i,s;return o;function o(p){return!L2(p)||!pI.call(r,r.previous)||e3(r.events)?n(p):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),a(p))}function a(p){return L2(p)?(e.consume(p),a):p===64?(e.consume(p),l):n(p)}function l(p){return p===46?e.check(Lse,f,u)(p):p===45||p===95||Yr(p)?(s=!0,e.consume(p),l):f(p)}function u(p){return e.consume(p),i=!0,l}function f(p){return s&&i&&di(r.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(p)):n(p)}}function zse(e,t,n){const r=this;return i;function i(o){return o!==87&&o!==119||!fI.call(r,r.previous)||e3(r.events)?n(o):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(Dse,e.attempt(aI,e.attempt(lI,s),n),n)(o))}function s(o){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(o)}}function $se(e,t,n){const r=this;let i="",s=!1;return o;function o(p){return(p===72||p===104)&&hI.call(r,r.previous)&&!e3(r.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),i+=String.fromCodePoint(p),e.consume(p),a):n(p)}function a(p){if(di(p)&&i.length<5)return i+=String.fromCodePoint(p),e.consume(p),a;if(p===58){const g=i.toLowerCase();if(g==="http"||g==="https")return e.consume(p),l}return n(p)}function l(p){return p===47?(e.consume(p),s?u:(s=!0,l)):n(p)}function u(p){return p===null||Z0(p)||Sn(p)||zc(p)||ty(p)?n(p):e.attempt(aI,e.attempt(lI,f),n)(p)}function f(p){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(p)}}function Use(e,t,n){let r=0;return i;function i(o){return(o===87||o===119)&&r<3?(r++,e.consume(o),i):o===46&&r===3?(e.consume(o),s):n(o)}function s(o){return o===null?n(o):t(o)}}function Hse(e,t,n){let r,i,s;return o;function o(u){return u===46||u===95?e.check(cI,l,a)(u):u===null||Sn(u)||zc(u)||u!==45&&ty(u)?l(u):(s=!0,e.consume(u),o)}function a(u){return u===95?r=!0:(i=r,r=void 0),e.consume(u),o}function l(u){return i||r||!s?n(u):t(u)}}function Wse(e,t){let n=0,r=0;return i;function i(o){return o===40?(n++,e.consume(o),i):o===41&&r<n?s(o):o===33||o===34||o===38||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===60||o===63||o===93||o===95||o===126?e.check(cI,t,s)(o):o===null||Sn(o)||zc(o)?t(o):(e.consume(o),i)}function s(o){return o===41&&r++,e.consume(o),i}}function qse(e,t,n){return r;function r(a){return a===33||a===34||a===39||a===41||a===42||a===44||a===46||a===58||a===59||a===63||a===95||a===126?(e.consume(a),r):a===38?(e.consume(a),s):a===93?(e.consume(a),i):a===60||a===null||Sn(a)||zc(a)?t(a):n(a)}function i(a){return a===null||a===40||a===91||Sn(a)||zc(a)?t(a):r(a)}function s(a){return di(a)?o(a):n(a)}function o(a){return a===59?(e.consume(a),r):di(a)?(e.consume(a),o):n(a)}}function Vse(e,t,n){return r;function r(s){return e.consume(s),i}function i(s){return Yr(s)?n(s):t(s)}}function fI(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||Sn(e)}function hI(e){return!di(e)}function pI(e){return!(e===47||L2(e))}function L2(e){return e===43||e===45||e===46||e===95||Yr(e)}function e3(e){let t=e.length,n=!1;for(;t--;){const r=e[t][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}function sf(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const s=e.charCodeAt(n);let o="";if(s===37&&Yr(e.charCodeAt(n+1))&&Yr(e.charCodeAt(n+2)))i=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(o=String.fromCharCode(s));else if(s>55295&&s<57344){const a=e.charCodeAt(n+1);s<56320&&a>56319&&a<57344?(o=String.fromCharCode(s,a),i=1):o=""}else o=String.fromCharCode(s);o&&(t.push(e.slice(r,n),encodeURIComponent(o)),r=n+i+1,o=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function iy(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const s=e[i].resolveAll;s&&!r.includes(s)&&(t=s(t,n),r.push(s))}return t}const F2={name:"attention",resolveAll:Qse,tokenize:Kse};function Qse(e,t){let n=-1,r,i,s,o,a,l,u,f;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;l=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const p={...e[r][1].end},g={...e[n][1].start};dE(p,-l),dE(g,l),o={type:l>1?"strongSequence":"emphasisSequence",start:p,end:{...e[r][1].end}},a={type:l>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:g},s={type:l>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},i={type:l>1?"strong":"emphasis",start:{...o.start},end:{...a.end}},e[r][1].end={...o.start},e[n][1].start={...a.end},u=[],e[r][1].end.offset-e[r][1].start.offset&&(u=xs(u,[["enter",e[r][1],t],["exit",e[r][1],t]])),u=xs(u,[["enter",i,t],["enter",o,t],["exit",o,t],["enter",s,t]]),u=xs(u,iy(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),u=xs(u,[["exit",s,t],["enter",a,t],["exit",a,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(f=2,u=xs(u,[["enter",e[n][1],t],["exit",e[n][1],t]])):f=0,ts(e,r-1,n-r+3,u),n=r+u.length-f-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function Kse(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=Fd(r);let s;return o;function o(l){return s=l,e.enter("attentionSequence"),a(l)}function a(l){if(l===s)return e.consume(l),a;const u=e.exit("attentionSequence"),f=Fd(l),p=!f||f===2&&i||n.includes(l),g=!i||i===2&&f||n.includes(r);return u._open=!!(s===42?p:p&&(i||!g)),u._close=!!(s===42?g:g&&(f||!p)),t(l)}}function dE(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const Gse={name:"autolink",tokenize:Yse};function Yse(e,t,n){let r=0;return i;function i(y){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(y),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),s}function s(y){return di(y)?(e.consume(y),o):y===64?n(y):u(y)}function o(y){return y===43||y===45||y===46||Yr(y)?(r=1,a(y)):u(y)}function a(y){return y===58?(e.consume(y),r=0,l):(y===43||y===45||y===46||Yr(y))&&r++<32?(e.consume(y),a):(r=0,u(y))}function l(y){return y===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(y),e.exit("autolinkMarker"),e.exit("autolink"),t):y===null||y===32||y===60||Z0(y)?n(y):(e.consume(y),l)}function u(y){return y===64?(e.consume(y),f):Hre(y)?(e.consume(y),u):n(y)}function f(y){return Yr(y)?p(y):n(y)}function p(y){return y===46?(e.consume(y),r=0,f):y===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(y),e.exit("autolinkMarker"),e.exit("autolink"),t):g(y)}function g(y){if((y===45||Yr(y))&&r++<63){const b=y===45?g:p;return e.consume(y),b}return n(y)}}function rn(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let s=0;return o;function o(l){return Kt(l)?(e.enter(n),a(l)):t(l)}function a(l){return Kt(l)&&s++<i?(e.consume(l),a):(e.exit(n),t(l))}}const Mp={partial:!0,tokenize:Xse};function Xse(e,t,n){return r;function r(s){return Kt(s)?rn(e,i,"linePrefix")(s):i(s)}function i(s){return s===null||ht(s)?t(s):n(s)}}const mI={continuation:{tokenize:Zse},exit:eoe,name:"blockQuote",tokenize:Jse};function Jse(e,t,n){const r=this;return i;function i(o){if(o===62){const a=r.containerState;return a.open||(e.enter("blockQuote",{_container:!0}),a.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(o),e.exit("blockQuoteMarker"),s}return n(o)}function s(o){return Kt(o)?(e.enter("blockQuotePrefixWhitespace"),e.consume(o),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(o))}}function Zse(e,t,n){const r=this;return i;function i(o){return Kt(o)?rn(e,s,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):s(o)}function s(o){return e.attempt(mI,t,n)(o)}}function eoe(e){e.exit("blockQuote")}const gI={name:"characterEscape",tokenize:toe};function toe(e,t,n){return r;function r(s){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(s),e.exit("escapeMarker"),i}function i(s){return qre(s)?(e.enter("characterEscapeValue"),e.consume(s),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(s)}}const yI={name:"characterReference",tokenize:noe};function noe(e,t,n){const r=this;let i=0,s,o;return a;function a(p){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(p),e.exit("characterReferenceMarker"),l}function l(p){return p===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(p),e.exit("characterReferenceMarkerNumeric"),u):(e.enter("characterReferenceValue"),s=31,o=Yr,f(p))}function u(p){return p===88||p===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(p),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),s=6,o=Wre,f):(e.enter("characterReferenceValue"),s=7,o=A2,f(p))}function f(p){if(p===59&&i){const g=e.exit("characterReferenceValue");return o===Yr&&!Z_(r.sliceSerialize(g))?n(p):(e.enter("characterReferenceMarker"),e.consume(p),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return o(p)&&i++<s?(e.consume(p),f):n(p)}}const fE={partial:!0,tokenize:ioe},hE={concrete:!0,name:"codeFenced",tokenize:roe};function roe(e,t,n){const r=this,i={partial:!0,tokenize:z};let s=0,o=0,a;return l;function l(j){return u(j)}function u(j){const A=r.events[r.events.length-1];return s=A&&A[1].type==="linePrefix"?A[2].sliceSerialize(A[1],!0).length:0,a=j,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),f(j)}function f(j){return j===a?(o++,e.consume(j),f):o<3?n(j):(e.exit("codeFencedFenceSequence"),Kt(j)?rn(e,p,"whitespace")(j):p(j))}function p(j){return j===null||ht(j)?(e.exit("codeFencedFence"),r.interrupt?t(j):e.check(fE,_,$)(j)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),g(j))}function g(j){return j===null||ht(j)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),p(j)):Kt(j)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),rn(e,y,"whitespace")(j)):j===96&&j===a?n(j):(e.consume(j),g)}function y(j){return j===null||ht(j)?p(j):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),b(j))}function b(j){return j===null||ht(j)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),p(j)):j===96&&j===a?n(j):(e.consume(j),b)}function _(j){return e.attempt(i,$,C)(j)}function C(j){return e.enter("lineEnding"),e.consume(j),e.exit("lineEnding"),k}function k(j){return s>0&&Kt(j)?rn(e,R,"linePrefix",s+1)(j):R(j)}function R(j){return j===null||ht(j)?e.check(fE,_,$)(j):(e.enter("codeFlowValue"),O(j))}function O(j){return j===null||ht(j)?(e.exit("codeFlowValue"),R(j)):(e.consume(j),O)}function $(j){return e.exit("codeFenced"),t(j)}function z(j,A,B){let U=0;return D;function D(q){return j.enter("lineEnding"),j.consume(q),j.exit("lineEnding"),Z}function Z(q){return j.enter("codeFencedFence"),Kt(q)?rn(j,X,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(q):X(q)}function X(q){return q===a?(j.enter("codeFencedFenceSequence"),re(q)):B(q)}function re(q){return q===a?(U++,j.consume(q),re):U>=o?(j.exit("codeFencedFenceSequence"),Kt(q)?rn(j,V,"whitespace")(q):V(q)):B(q)}function V(q){return q===null||ht(q)?(j.exit("codeFencedFence"),A(q)):B(q)}}}function ioe(e,t,n){const r=this;return i;function i(o){return o===null?n(o):(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),s)}function s(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}const qx={name:"codeIndented",tokenize:ooe},soe={partial:!0,tokenize:aoe};function ooe(e,t,n){const r=this;return i;function i(u){return e.enter("codeIndented"),rn(e,s,"linePrefix",5)(u)}function s(u){const f=r.events[r.events.length-1];return f&&f[1].type==="linePrefix"&&f[2].sliceSerialize(f[1],!0).length>=4?o(u):n(u)}function o(u){return u===null?l(u):ht(u)?e.attempt(soe,o,l)(u):(e.enter("codeFlowValue"),a(u))}function a(u){return u===null||ht(u)?(e.exit("codeFlowValue"),o(u)):(e.consume(u),a)}function l(u){return e.exit("codeIndented"),t(u)}}function aoe(e,t,n){const r=this;return i;function i(o){return r.parser.lazy[r.now().line]?n(o):ht(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),i):rn(e,s,"linePrefix",5)(o)}function s(o){const a=r.events[r.events.length-1];return a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?t(o):ht(o)?i(o):n(o)}}const loe={name:"codeText",previous:uoe,resolve:coe,tokenize:doe};function coe(e){let t=e.length-4,n=3,r,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(i=r):(r===t||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function uoe(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function doe(e,t,n){let r=0,i,s;return o;function o(p){return e.enter("codeText"),e.enter("codeTextSequence"),a(p)}function a(p){return p===96?(e.consume(p),r++,a):(e.exit("codeTextSequence"),l(p))}function l(p){return p===null?n(p):p===32?(e.enter("space"),e.consume(p),e.exit("space"),l):p===96?(s=e.enter("codeTextSequence"),i=0,f(p)):ht(p)?(e.enter("lineEnding"),e.consume(p),e.exit("lineEnding"),l):(e.enter("codeTextData"),u(p))}function u(p){return p===null||p===32||p===96||ht(p)?(e.exit("codeTextData"),l(p)):(e.consume(p),u)}function f(p){return p===96?(e.consume(p),i++,f):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(p)):(s.type="codeTextData",u(p))}}class foe{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const i=n||0;this.setCursor(Math.trunc(t));const s=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&nh(this.left,r),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),nh(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),nh(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);nh(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);nh(this.left,n.reverse())}}}function nh(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function vI(e){const t={};let n=-1,r,i,s,o,a,l,u;const f=new foe(e);for(;++n<f.length;){for(;n in t;)n=t[n];if(r=f.get(n),n&&r[1].type==="chunkFlow"&&f.get(n-1)[1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,s=0,s<l.length&&l[s][1].type==="lineEndingBlank"&&(s+=2),s<l.length&&l[s][1].type==="content"))for(;++s<l.length&&l[s][1].type!=="content";)l[s][1].type==="chunkText"&&(l[s][1]._isInFirstContentOfListItem=!0,s++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,hoe(f,n)),n=t[n],u=!0);else if(r[1]._container){for(s=n,i=void 0;s--;)if(o=f.get(s),o[1].type==="lineEnding"||o[1].type==="lineEndingBlank")o[0]==="enter"&&(i&&(f.get(i)[1].type="lineEndingBlank"),o[1].type="lineEnding",i=s);else if(!(o[1].type==="linePrefix"||o[1].type==="listItemIndent"))break;i&&(r[1].end={...f.get(i)[1].start},a=f.slice(i,n),a.unshift(r),f.splice(i,n-i+1,a))}}return ts(e,0,Number.POSITIVE_INFINITY,f.slice(0)),!u}function hoe(e,t){const n=e.get(t)[1],r=e.get(t)[2];let i=t-1;const s=[];let o=n._tokenizer;o||(o=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(o._contentTypeTextTrailing=!0));const a=o.events,l=[],u={};let f,p,g=-1,y=n,b=0,_=0;const C=[_];for(;y;){for(;e.get(++i)[1]!==y;);s.push(i),y._tokenizer||(f=r.sliceStream(y),y.next||f.push(null),p&&o.defineSkip(y.start),y._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(f),y._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),p=y,y=y.next}for(y=n;++g<a.length;)a[g][0]==="exit"&&a[g-1][0]==="enter"&&a[g][1].type===a[g-1][1].type&&a[g][1].start.line!==a[g][1].end.line&&(_=g+1,C.push(_),y._tokenizer=void 0,y.previous=void 0,y=y.next);for(o.events=[],y?(y._tokenizer=void 0,y.previous=void 0):C.pop(),g=C.length;g--;){const k=a.slice(C[g],C[g+1]),R=s.pop();l.push([R,R+k.length-1]),e.splice(R,2,k)}for(l.reverse(),g=-1;++g<l.length;)u[b+l[g][0]]=b+l[g][1],b+=l[g][1]-l[g][0]-1;return u}const poe={resolve:goe,tokenize:yoe},moe={partial:!0,tokenize:voe};function goe(e){return vI(e),e}function yoe(e,t){let n;return r;function r(a){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(a)}function i(a){return a===null?s(a):ht(a)?e.check(moe,o,s)(a):(e.consume(a),i)}function s(a){return e.exit("chunkContent"),e.exit("content"),t(a)}function o(a){return e.consume(a),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function voe(e,t,n){const r=this;return i;function i(o){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),rn(e,s,"linePrefix")}function s(o){if(o===null||ht(o))return n(o);const a=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?t(o):e.interrupt(r.parser.constructs.flow,n,t)(o)}}function xI(e,t,n,r,i,s,o,a,l){const u=l||Number.POSITIVE_INFINITY;let f=0;return p;function p(k){return k===60?(e.enter(r),e.enter(i),e.enter(s),e.consume(k),e.exit(s),g):k===null||k===32||k===41||Z0(k)?n(k):(e.enter(r),e.enter(o),e.enter(a),e.enter("chunkString",{contentType:"string"}),_(k))}function g(k){return k===62?(e.enter(s),e.consume(k),e.exit(s),e.exit(i),e.exit(r),t):(e.enter(a),e.enter("chunkString",{contentType:"string"}),y(k))}function y(k){return k===62?(e.exit("chunkString"),e.exit(a),g(k)):k===null||k===60||ht(k)?n(k):(e.consume(k),k===92?b:y)}function b(k){return k===60||k===62||k===92?(e.consume(k),y):y(k)}function _(k){return!f&&(k===null||k===41||Sn(k))?(e.exit("chunkString"),e.exit(a),e.exit(o),e.exit(r),t(k)):f<u&&k===40?(e.consume(k),f++,_):k===41?(e.consume(k),f--,_):k===null||k===32||k===40||Z0(k)?n(k):(e.consume(k),k===92?C:_)}function C(k){return k===40||k===41||k===92?(e.consume(k),_):_(k)}}function bI(e,t,n,r,i,s){const o=this;let a=0,l;return u;function u(y){return e.enter(r),e.enter(i),e.consume(y),e.exit(i),e.enter(s),f}function f(y){return a>999||y===null||y===91||y===93&&!l||y===94&&!a&&"_hiddenFootnoteSupport"in o.parser.constructs?n(y):y===93?(e.exit(s),e.enter(i),e.consume(y),e.exit(i),e.exit(r),t):ht(y)?(e.enter("lineEnding"),e.consume(y),e.exit("lineEnding"),f):(e.enter("chunkString",{contentType:"string"}),p(y))}function p(y){return y===null||y===91||y===93||ht(y)||a++>999?(e.exit("chunkString"),f(y)):(e.consume(y),l||(l=!Kt(y)),y===92?g:p)}function g(y){return y===91||y===92||y===93?(e.consume(y),a++,p):p(y)}}function wI(e,t,n,r,i,s){let o;return a;function a(g){return g===34||g===39||g===40?(e.enter(r),e.enter(i),e.consume(g),e.exit(i),o=g===40?41:g,l):n(g)}function l(g){return g===o?(e.enter(i),e.consume(g),e.exit(i),e.exit(r),t):(e.enter(s),u(g))}function u(g){return g===o?(e.exit(s),l(o)):g===null?n(g):ht(g)?(e.enter("lineEnding"),e.consume(g),e.exit("lineEnding"),rn(e,u,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),f(g))}function f(g){return g===o||g===null||ht(g)?(e.exit("chunkString"),u(g)):(e.consume(g),g===92?p:f)}function p(g){return g===o||g===92?(e.consume(g),f):f(g)}}function Ih(e,t){let n;return r;function r(i){return ht(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):Kt(i)?rn(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}const xoe={name:"definition",tokenize:woe},boe={partial:!0,tokenize:_oe};function woe(e,t,n){const r=this;let i;return s;function s(y){return e.enter("definition"),o(y)}function o(y){return bI.call(r,e,a,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(y)}function a(y){return i=Ys(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),y===58?(e.enter("definitionMarker"),e.consume(y),e.exit("definitionMarker"),l):n(y)}function l(y){return Sn(y)?Ih(e,u)(y):u(y)}function u(y){return xI(e,f,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(y)}function f(y){return e.attempt(boe,p,p)(y)}function p(y){return Kt(y)?rn(e,g,"whitespace")(y):g(y)}function g(y){return y===null||ht(y)?(e.exit("definition"),r.parser.defined.push(i),t(y)):n(y)}}function _oe(e,t,n){return r;function r(a){return Sn(a)?Ih(e,i)(a):n(a)}function i(a){return wI(e,s,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(a)}function s(a){return Kt(a)?rn(e,o,"whitespace")(a):o(a)}function o(a){return a===null||ht(a)?t(a):n(a)}}const Soe={name:"hardBreakEscape",tokenize:Coe};function Coe(e,t,n){return r;function r(s){return e.enter("hardBreakEscape"),e.consume(s),i}function i(s){return ht(s)?(e.exit("hardBreakEscape"),t(s)):n(s)}}const koe={name:"headingAtx",resolve:Eoe,tokenize:Toe};function Eoe(e,t){let n=e.length-2,r=3,i,s;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},s={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},ts(e,r,n-r+1,[["enter",i,t],["enter",s,t],["exit",s,t],["exit",i,t]])),e}function Toe(e,t,n){let r=0;return i;function i(f){return e.enter("atxHeading"),s(f)}function s(f){return e.enter("atxHeadingSequence"),o(f)}function o(f){return f===35&&r++<6?(e.consume(f),o):f===null||Sn(f)?(e.exit("atxHeadingSequence"),a(f)):n(f)}function a(f){return f===35?(e.enter("atxHeadingSequence"),l(f)):f===null||ht(f)?(e.exit("atxHeading"),t(f)):Kt(f)?rn(e,a,"whitespace")(f):(e.enter("atxHeadingText"),u(f))}function l(f){return f===35?(e.consume(f),l):(e.exit("atxHeadingSequence"),a(f))}function u(f){return f===null||f===35||Sn(f)?(e.exit("atxHeadingText"),a(f)):(e.consume(f),u)}}const joe=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],pE=["pre","script","style","textarea"],Noe={concrete:!0,name:"htmlFlow",resolveTo:Poe,tokenize:Ooe},Ioe={partial:!0,tokenize:Aoe},Roe={partial:!0,tokenize:Moe};function Poe(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function Ooe(e,t,n){const r=this;let i,s,o,a,l;return u;function u(H){return f(H)}function f(H){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(H),p}function p(H){return H===33?(e.consume(H),g):H===47?(e.consume(H),s=!0,_):H===63?(e.consume(H),i=3,r.interrupt?t:F):di(H)?(e.consume(H),o=String.fromCharCode(H),C):n(H)}function g(H){return H===45?(e.consume(H),i=2,y):H===91?(e.consume(H),i=5,a=0,b):di(H)?(e.consume(H),i=4,r.interrupt?t:F):n(H)}function y(H){return H===45?(e.consume(H),r.interrupt?t:F):n(H)}function b(H){const Oe="CDATA[";return H===Oe.charCodeAt(a++)?(e.consume(H),a===Oe.length?r.interrupt?t:X:b):n(H)}function _(H){return di(H)?(e.consume(H),o=String.fromCharCode(H),C):n(H)}function C(H){if(H===null||H===47||H===62||Sn(H)){const Oe=H===47,Ee=o.toLowerCase();return!Oe&&!s&&pE.includes(Ee)?(i=1,r.interrupt?t(H):X(H)):joe.includes(o.toLowerCase())?(i=6,Oe?(e.consume(H),k):r.interrupt?t(H):X(H)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(H):s?R(H):O(H))}return H===45||Yr(H)?(e.consume(H),o+=String.fromCharCode(H),C):n(H)}function k(H){return H===62?(e.consume(H),r.interrupt?t:X):n(H)}function R(H){return Kt(H)?(e.consume(H),R):D(H)}function O(H){return H===47?(e.consume(H),D):H===58||H===95||di(H)?(e.consume(H),$):Kt(H)?(e.consume(H),O):D(H)}function $(H){return H===45||H===46||H===58||H===95||Yr(H)?(e.consume(H),$):z(H)}function z(H){return H===61?(e.consume(H),j):Kt(H)?(e.consume(H),z):O(H)}function j(H){return H===null||H===60||H===61||H===62||H===96?n(H):H===34||H===39?(e.consume(H),l=H,A):Kt(H)?(e.consume(H),j):B(H)}function A(H){return H===l?(e.consume(H),l=null,U):H===null||ht(H)?n(H):(e.consume(H),A)}function B(H){return H===null||H===34||H===39||H===47||H===60||H===61||H===62||H===96||Sn(H)?z(H):(e.consume(H),B)}function U(H){return H===47||H===62||Kt(H)?O(H):n(H)}function D(H){return H===62?(e.consume(H),Z):n(H)}function Z(H){return H===null||ht(H)?X(H):Kt(H)?(e.consume(H),Z):n(H)}function X(H){return H===45&&i===2?(e.consume(H),Q):H===60&&i===1?(e.consume(H),ne):H===62&&i===4?(e.consume(H),G):H===63&&i===3?(e.consume(H),F):H===93&&i===5?(e.consume(H),fe):ht(H)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(Ioe,ye,re)(H)):H===null||ht(H)?(e.exit("htmlFlowData"),re(H)):(e.consume(H),X)}function re(H){return e.check(Roe,V,ye)(H)}function V(H){return e.enter("lineEnding"),e.consume(H),e.exit("lineEnding"),q}function q(H){return H===null||ht(H)?re(H):(e.enter("htmlFlowData"),X(H))}function Q(H){return H===45?(e.consume(H),F):X(H)}function ne(H){return H===47?(e.consume(H),o="",ee):X(H)}function ee(H){if(H===62){const Oe=o.toLowerCase();return pE.includes(Oe)?(e.consume(H),G):X(H)}return di(H)&&o.length<8?(e.consume(H),o+=String.fromCharCode(H),ee):X(H)}function fe(H){return H===93?(e.consume(H),F):X(H)}function F(H){return H===62?(e.consume(H),G):H===45&&i===2?(e.consume(H),F):X(H)}function G(H){return H===null||ht(H)?(e.exit("htmlFlowData"),ye(H)):(e.consume(H),G)}function ye(H){return e.exit("htmlFlow"),t(H)}}function Moe(e,t,n){const r=this;return i;function i(o){return ht(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),s):n(o)}function s(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}function Aoe(e,t,n){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(Mp,t,n)}}const Doe={name:"htmlText",tokenize:Loe};function Loe(e,t,n){const r=this;let i,s,o;return a;function a(F){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(F),l}function l(F){return F===33?(e.consume(F),u):F===47?(e.consume(F),z):F===63?(e.consume(F),O):di(F)?(e.consume(F),B):n(F)}function u(F){return F===45?(e.consume(F),f):F===91?(e.consume(F),s=0,b):di(F)?(e.consume(F),R):n(F)}function f(F){return F===45?(e.consume(F),y):n(F)}function p(F){return F===null?n(F):F===45?(e.consume(F),g):ht(F)?(o=p,ne(F)):(e.consume(F),p)}function g(F){return F===45?(e.consume(F),y):p(F)}function y(F){return F===62?Q(F):F===45?g(F):p(F)}function b(F){const G="CDATA[";return F===G.charCodeAt(s++)?(e.consume(F),s===G.length?_:b):n(F)}function _(F){return F===null?n(F):F===93?(e.consume(F),C):ht(F)?(o=_,ne(F)):(e.consume(F),_)}function C(F){return F===93?(e.consume(F),k):_(F)}function k(F){return F===62?Q(F):F===93?(e.consume(F),k):_(F)}function R(F){return F===null||F===62?Q(F):ht(F)?(o=R,ne(F)):(e.consume(F),R)}function O(F){return F===null?n(F):F===63?(e.consume(F),$):ht(F)?(o=O,ne(F)):(e.consume(F),O)}function $(F){return F===62?Q(F):O(F)}function z(F){return di(F)?(e.consume(F),j):n(F)}function j(F){return F===45||Yr(F)?(e.consume(F),j):A(F)}function A(F){return ht(F)?(o=A,ne(F)):Kt(F)?(e.consume(F),A):Q(F)}function B(F){return F===45||Yr(F)?(e.consume(F),B):F===47||F===62||Sn(F)?U(F):n(F)}function U(F){return F===47?(e.consume(F),Q):F===58||F===95||di(F)?(e.consume(F),D):ht(F)?(o=U,ne(F)):Kt(F)?(e.consume(F),U):Q(F)}function D(F){return F===45||F===46||F===58||F===95||Yr(F)?(e.consume(F),D):Z(F)}function Z(F){return F===61?(e.consume(F),X):ht(F)?(o=Z,ne(F)):Kt(F)?(e.consume(F),Z):U(F)}function X(F){return F===null||F===60||F===61||F===62||F===96?n(F):F===34||F===39?(e.consume(F),i=F,re):ht(F)?(o=X,ne(F)):Kt(F)?(e.consume(F),X):(e.consume(F),V)}function re(F){return F===i?(e.consume(F),i=void 0,q):F===null?n(F):ht(F)?(o=re,ne(F)):(e.consume(F),re)}function V(F){return F===null||F===34||F===39||F===60||F===61||F===96?n(F):F===47||F===62||Sn(F)?U(F):(e.consume(F),V)}function q(F){return F===47||F===62||Sn(F)?U(F):n(F)}function Q(F){return F===62?(e.consume(F),e.exit("htmlTextData"),e.exit("htmlText"),t):n(F)}function ne(F){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(F),e.exit("lineEnding"),ee}function ee(F){return Kt(F)?rn(e,fe,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(F):fe(F)}function fe(F){return e.enter("htmlTextData"),o(F)}}const t3={name:"labelEnd",resolveAll:$oe,resolveTo:Uoe,tokenize:Hoe},Foe={tokenize:Woe},Boe={tokenize:qoe},zoe={tokenize:Voe};function $oe(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",t+=i}}return e.length!==n.length&&ts(e,0,e.length,n),e}function Uoe(e,t){let n=e.length,r=0,i,s,o,a;for(;n--;)if(i=e[n][1],s){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(o){if(e[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(s=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(o=n);const l={type:e[s][1].type==="labelLink"?"link":"image",start:{...e[s][1].start},end:{...e[e.length-1][1].end}},u={type:"label",start:{...e[s][1].start},end:{...e[o][1].end}},f={type:"labelText",start:{...e[s+r+2][1].end},end:{...e[o-2][1].start}};return a=[["enter",l,t],["enter",u,t]],a=xs(a,e.slice(s+1,s+r+3)),a=xs(a,[["enter",f,t]]),a=xs(a,iy(t.parser.constructs.insideSpan.null,e.slice(s+r+4,o-3),t)),a=xs(a,[["exit",f,t],e[o-2],e[o-1],["exit",u,t]]),a=xs(a,e.slice(o+1)),a=xs(a,[["exit",l,t]]),ts(e,s,e.length,a),e}function Hoe(e,t,n){const r=this;let i=r.events.length,s,o;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){s=r.events[i][1];break}return a;function a(g){return s?s._inactive?p(g):(o=r.parser.defined.includes(Ys(r.sliceSerialize({start:s.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(g),e.exit("labelMarker"),e.exit("labelEnd"),l):n(g)}function l(g){return g===40?e.attempt(Foe,f,o?f:p)(g):g===91?e.attempt(Boe,f,o?u:p)(g):o?f(g):p(g)}function u(g){return e.attempt(zoe,f,p)(g)}function f(g){return t(g)}function p(g){return s._balanced=!0,n(g)}}function Woe(e,t,n){return r;function r(p){return e.enter("resource"),e.enter("resourceMarker"),e.consume(p),e.exit("resourceMarker"),i}function i(p){return Sn(p)?Ih(e,s)(p):s(p)}function s(p){return p===41?f(p):xI(e,o,a,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(p)}function o(p){return Sn(p)?Ih(e,l)(p):f(p)}function a(p){return n(p)}function l(p){return p===34||p===39||p===40?wI(e,u,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(p):f(p)}function u(p){return Sn(p)?Ih(e,f)(p):f(p)}function f(p){return p===41?(e.enter("resourceMarker"),e.consume(p),e.exit("resourceMarker"),e.exit("resource"),t):n(p)}}function qoe(e,t,n){const r=this;return i;function i(a){return bI.call(r,e,s,o,"reference","referenceMarker","referenceString")(a)}function s(a){return r.parser.defined.includes(Ys(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(a):n(a)}function o(a){return n(a)}}function Voe(e,t,n){return r;function r(s){return e.enter("reference"),e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),i}function i(s){return s===93?(e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),e.exit("reference"),t):n(s)}}const Qoe={name:"labelStartImage",resolveAll:t3.resolveAll,tokenize:Koe};function Koe(e,t,n){const r=this;return i;function i(a){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(a),e.exit("labelImageMarker"),s}function s(a){return a===91?(e.enter("labelMarker"),e.consume(a),e.exit("labelMarker"),e.exit("labelImage"),o):n(a)}function o(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):t(a)}}const Goe={name:"labelStartLink",resolveAll:t3.resolveAll,tokenize:Yoe};function Yoe(e,t,n){const r=this;return i;function i(o){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelLink"),s}function s(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):t(o)}}const Vx={name:"lineEnding",tokenize:Xoe};function Xoe(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),rn(e,t,"linePrefix")}}const c0={name:"thematicBreak",tokenize:Joe};function Joe(e,t,n){let r=0,i;return s;function s(u){return e.enter("thematicBreak"),o(u)}function o(u){return i=u,a(u)}function a(u){return u===i?(e.enter("thematicBreakSequence"),l(u)):r>=3&&(u===null||ht(u))?(e.exit("thematicBreak"),t(u)):n(u)}function l(u){return u===i?(e.consume(u),r++,l):(e.exit("thematicBreakSequence"),Kt(u)?rn(e,a,"whitespace")(u):a(u))}}const ji={continuation:{tokenize:nae},exit:iae,name:"list",tokenize:tae},Zoe={partial:!0,tokenize:sae},eae={partial:!0,tokenize:rae};function tae(e,t,n){const r=this,i=r.events[r.events.length-1];let s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,o=0;return a;function a(y){const b=r.containerState.type||(y===42||y===43||y===45?"listUnordered":"listOrdered");if(b==="listUnordered"?!r.containerState.marker||y===r.containerState.marker:A2(y)){if(r.containerState.type||(r.containerState.type=b,e.enter(b,{_container:!0})),b==="listUnordered")return e.enter("listItemPrefix"),y===42||y===45?e.check(c0,n,u)(y):u(y);if(!r.interrupt||y===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),l(y)}return n(y)}function l(y){return A2(y)&&++o<10?(e.consume(y),l):(!r.interrupt||o<2)&&(r.containerState.marker?y===r.containerState.marker:y===41||y===46)?(e.exit("listItemValue"),u(y)):n(y)}function u(y){return e.enter("listItemMarker"),e.consume(y),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||y,e.check(Mp,r.interrupt?n:f,e.attempt(Zoe,g,p))}function f(y){return r.containerState.initialBlankLine=!0,s++,g(y)}function p(y){return Kt(y)?(e.enter("listItemPrefixWhitespace"),e.consume(y),e.exit("listItemPrefixWhitespace"),g):n(y)}function g(y){return r.containerState.size=s+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(y)}}function nae(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(Mp,i,s);function i(a){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,rn(e,t,"listItemIndent",r.containerState.size+1)(a)}function s(a){return r.containerState.furtherBlankLines||!Kt(a)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(a)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(eae,t,o)(a))}function o(a){return r.containerState._closeFlow=!0,r.interrupt=void 0,rn(e,e.attempt(ji,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a)}}function rae(e,t,n){const r=this;return rn(e,i,"listItemIndent",r.containerState.size+1);function i(s){const o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?t(s):n(s)}}function iae(e){e.exit(this.containerState.type)}function sae(e,t,n){const r=this;return rn(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(s){const o=r.events[r.events.length-1];return!Kt(s)&&o&&o[1].type==="listItemPrefixWhitespace"?t(s):n(s)}}const mE={name:"setextUnderline",resolveTo:oae,tokenize:aae};function oae(e,t){let n=e.length,r,i,s;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(i=n)}else e[n][1].type==="content"&&e.splice(n,1),!s&&e[n][1].type==="definition"&&(s=n);const o={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[i][1].type="setextHeadingText",s?(e.splice(i,0,["enter",o,t]),e.splice(s+1,0,["exit",e[r][1],t]),e[r][1].end={...e[s][1].end}):e[r][1]=o,e.push(["exit",o,t]),e}function aae(e,t,n){const r=this;let i;return s;function s(u){let f=r.events.length,p;for(;f--;)if(r.events[f][1].type!=="lineEnding"&&r.events[f][1].type!=="linePrefix"&&r.events[f][1].type!=="content"){p=r.events[f][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||p)?(e.enter("setextHeadingLine"),i=u,o(u)):n(u)}function o(u){return e.enter("setextHeadingLineSequence"),a(u)}function a(u){return u===i?(e.consume(u),a):(e.exit("setextHeadingLineSequence"),Kt(u)?rn(e,l,"lineSuffix")(u):l(u))}function l(u){return u===null||ht(u)?(e.exit("setextHeadingLine"),t(u)):n(u)}}const lae={tokenize:gae,partial:!0};function cae(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:hae,continuation:{tokenize:pae},exit:mae}},text:{91:{name:"gfmFootnoteCall",tokenize:fae},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:uae,resolveTo:dae}}}}function uae(e,t,n){const r=this;let i=r.events.length;const s=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o;for(;i--;){const l=r.events[i][1];if(l.type==="labelImage"){o=l;break}if(l.type==="gfmFootnoteCall"||l.type==="labelLink"||l.type==="label"||l.type==="image"||l.type==="link")break}return a;function a(l){if(!o||!o._balanced)return n(l);const u=Ys(r.sliceSerialize({start:o.end,end:r.now()}));return u.codePointAt(0)!==94||!s.includes(u.slice(1))?n(l):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(l),e.exit("gfmFootnoteCallLabelMarker"),t(l))}}function dae(e,t){let n=e.length;for(;n--;)if(e[n][1].type==="labelImage"&&e[n][0]==="enter"){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const s={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},e[e.length-1][1].start)},o={type:"chunkString",contentType:"string",start:Object.assign({},s.start),end:Object.assign({},s.end)},a=[e[n+1],e[n+2],["enter",r,t],e[n+3],e[n+4],["enter",i,t],["exit",i,t],["enter",s,t],["enter",o,t],["exit",o,t],["exit",s,t],e[e.length-2],e[e.length-1],["exit",r,t]];return e.splice(n,e.length-n+1,...a),e}function fae(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s=0,o;return a;function a(p){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(p),e.exit("gfmFootnoteCallLabelMarker"),l}function l(p){return p!==94?n(p):(e.enter("gfmFootnoteCallMarker"),e.consume(p),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",u)}function u(p){if(s>999||p===93&&!o||p===null||p===91||Sn(p))return n(p);if(p===93){e.exit("chunkString");const g=e.exit("gfmFootnoteCallString");return i.includes(Ys(r.sliceSerialize(g)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(p),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(p)}return Sn(p)||(o=!0),s++,e.consume(p),p===92?f:u}function f(p){return p===91||p===92||p===93?(e.consume(p),s++,u):u(p)}}function hae(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s,o=0,a;return l;function l(b){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(b),e.exit("gfmFootnoteDefinitionLabelMarker"),u}function u(b){return b===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(b),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",f):n(b)}function f(b){if(o>999||b===93&&!a||b===null||b===91||Sn(b))return n(b);if(b===93){e.exit("chunkString");const _=e.exit("gfmFootnoteDefinitionLabelString");return s=Ys(r.sliceSerialize(_)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(b),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),g}return Sn(b)||(a=!0),o++,e.consume(b),b===92?p:f}function p(b){return b===91||b===92||b===93?(e.consume(b),o++,f):f(b)}function g(b){return b===58?(e.enter("definitionMarker"),e.consume(b),e.exit("definitionMarker"),i.includes(s)||i.push(s),rn(e,y,"gfmFootnoteDefinitionWhitespace")):n(b)}function y(b){return t(b)}}function pae(e,t,n){return e.check(Mp,t,e.attempt(lae,t,n))}function mae(e){e.exit("gfmFootnoteDefinition")}function gae(e,t,n){const r=this;return rn(e,i,"gfmFootnoteDefinitionIndent",5);function i(s){const o=r.events[r.events.length-1];return o&&o[1].type==="gfmFootnoteDefinitionIndent"&&o[2].sliceSerialize(o[1],!0).length===4?t(s):n(s)}}function yae(e){let n=(e||{}).singleTilde;const r={name:"strikethrough",tokenize:s,resolveAll:i};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function i(o,a){let l=-1;for(;++l<o.length;)if(o[l][0]==="enter"&&o[l][1].type==="strikethroughSequenceTemporary"&&o[l][1]._close){let u=l;for(;u--;)if(o[u][0]==="exit"&&o[u][1].type==="strikethroughSequenceTemporary"&&o[u][1]._open&&o[l][1].end.offset-o[l][1].start.offset===o[u][1].end.offset-o[u][1].start.offset){o[l][1].type="strikethroughSequence",o[u][1].type="strikethroughSequence";const f={type:"strikethrough",start:Object.assign({},o[u][1].start),end:Object.assign({},o[l][1].end)},p={type:"strikethroughText",start:Object.assign({},o[u][1].end),end:Object.assign({},o[l][1].start)},g=[["enter",f,a],["enter",o[u][1],a],["exit",o[u][1],a],["enter",p,a]],y=a.parser.constructs.insideSpan.null;y&&ts(g,g.length,0,iy(y,o.slice(u+1,l),a)),ts(g,g.length,0,[["exit",p,a],["enter",o[l][1],a],["exit",o[l][1],a],["exit",f,a]]),ts(o,u-1,l-u+3,g),l=u+g.length-2;break}}for(l=-1;++l<o.length;)o[l][1].type==="strikethroughSequenceTemporary"&&(o[l][1].type="data");return o}function s(o,a,l){const u=this.previous,f=this.events;let p=0;return g;function g(b){return u===126&&f[f.length-1][1].type!=="characterEscape"?l(b):(o.enter("strikethroughSequenceTemporary"),y(b))}function y(b){const _=Fd(u);if(b===126)return p>1?l(b):(o.consume(b),p++,y);if(p<2&&!n)return l(b);const C=o.exit("strikethroughSequenceTemporary"),k=Fd(b);return C._open=!k||k===2&&!!_,C._close=!_||_===2&&!!k,a(b)}}}class vae{constructor(){this.map=[]}add(t,n,r){xae(this,t,n,r)}consume(t){if(this.map.sort(function(s,o){return s[0]-o[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(t.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),t.length=this.map[n][0];r.push(t.slice()),t.length=0;let i=r.pop();for(;i;){for(const s of i)t.push(s);i=r.pop()}this.map.length=0}}function xae(e,t,n,r){let i=0;if(!(n===0&&r.length===0)){for(;i<e.map.length;){if(e.map[i][0]===t){e.map[i][1]+=n,e.map[i][2].push(...r);return}i+=1}e.map.push([t,n,r])}}function bae(e,t){let n=!1;const r=[];for(;t<e.length;){const i=e[t];if(n){if(i[0]==="enter")i[1].type==="tableContent"&&r.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const s=r.length-1;r[s]=r[s]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(n=!0);t+=1}return r}function wae(){return{flow:{null:{name:"table",tokenize:_ae,resolveAll:Sae}}}}function _ae(e,t,n){const r=this;let i=0,s=0,o;return a;function a(D){let Z=r.events.length-1;for(;Z>-1;){const V=r.events[Z][1].type;if(V==="lineEnding"||V==="linePrefix")Z--;else break}const X=Z>-1?r.events[Z][1].type:null,re=X==="tableHead"||X==="tableRow"?j:l;return re===j&&r.parser.lazy[r.now().line]?n(D):re(D)}function l(D){return e.enter("tableHead"),e.enter("tableRow"),u(D)}function u(D){return D===124||(o=!0,s+=1),f(D)}function f(D){return D===null?n(D):ht(D)?s>1?(s=0,r.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(D),e.exit("lineEnding"),y):n(D):Kt(D)?rn(e,f,"whitespace")(D):(s+=1,o&&(o=!1,i+=1),D===124?(e.enter("tableCellDivider"),e.consume(D),e.exit("tableCellDivider"),o=!0,f):(e.enter("data"),p(D)))}function p(D){return D===null||D===124||Sn(D)?(e.exit("data"),f(D)):(e.consume(D),D===92?g:p)}function g(D){return D===92||D===124?(e.consume(D),p):p(D)}function y(D){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(D):(e.enter("tableDelimiterRow"),o=!1,Kt(D)?rn(e,b,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(D):b(D))}function b(D){return D===45||D===58?C(D):D===124?(o=!0,e.enter("tableCellDivider"),e.consume(D),e.exit("tableCellDivider"),_):z(D)}function _(D){return Kt(D)?rn(e,C,"whitespace")(D):C(D)}function C(D){return D===58?(s+=1,o=!0,e.enter("tableDelimiterMarker"),e.consume(D),e.exit("tableDelimiterMarker"),k):D===45?(s+=1,k(D)):D===null||ht(D)?$(D):z(D)}function k(D){return D===45?(e.enter("tableDelimiterFiller"),R(D)):z(D)}function R(D){return D===45?(e.consume(D),R):D===58?(o=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(D),e.exit("tableDelimiterMarker"),O):(e.exit("tableDelimiterFiller"),O(D))}function O(D){return Kt(D)?rn(e,$,"whitespace")(D):$(D)}function $(D){return D===124?b(D):D===null||ht(D)?!o||i!==s?z(D):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(D)):z(D)}function z(D){return n(D)}function j(D){return e.enter("tableRow"),A(D)}function A(D){return D===124?(e.enter("tableCellDivider"),e.consume(D),e.exit("tableCellDivider"),A):D===null||ht(D)?(e.exit("tableRow"),t(D)):Kt(D)?rn(e,A,"whitespace")(D):(e.enter("data"),B(D))}function B(D){return D===null||D===124||Sn(D)?(e.exit("data"),A(D)):(e.consume(D),D===92?U:B)}function U(D){return D===92||D===124?(e.consume(D),B):B(D)}}function Sae(e,t){let n=-1,r=!0,i=0,s=[0,0,0,0],o=[0,0,0,0],a=!1,l=0,u,f,p;const g=new vae;for(;++n<e.length;){const y=e[n],b=y[1];y[0]==="enter"?b.type==="tableHead"?(a=!1,l!==0&&(gE(g,t,l,u,f),f=void 0,l=0),u={type:"table",start:Object.assign({},b.start),end:Object.assign({},b.end)},g.add(n,0,[["enter",u,t]])):b.type==="tableRow"||b.type==="tableDelimiterRow"?(r=!0,p=void 0,s=[0,0,0,0],o=[0,n+1,0,0],a&&(a=!1,f={type:"tableBody",start:Object.assign({},b.start),end:Object.assign({},b.end)},g.add(n,0,[["enter",f,t]])),i=b.type==="tableDelimiterRow"?2:f?3:1):i&&(b.type==="data"||b.type==="tableDelimiterMarker"||b.type==="tableDelimiterFiller")?(r=!1,o[2]===0&&(s[1]!==0&&(o[0]=o[1],p=Pg(g,t,s,i,void 0,p),s=[0,0,0,0]),o[2]=n)):b.type==="tableCellDivider"&&(r?r=!1:(s[1]!==0&&(o[0]=o[1],p=Pg(g,t,s,i,void 0,p)),s=o,o=[s[1],n,0,0])):b.type==="tableHead"?(a=!0,l=n):b.type==="tableRow"||b.type==="tableDelimiterRow"?(l=n,s[1]!==0?(o[0]=o[1],p=Pg(g,t,s,i,n,p)):o[1]!==0&&(p=Pg(g,t,o,i,n,p)),i=0):i&&(b.type==="data"||b.type==="tableDelimiterMarker"||b.type==="tableDelimiterFiller")&&(o[3]=n)}for(l!==0&&gE(g,t,l,u,f),g.consume(t.events),n=-1;++n<t.events.length;){const y=t.events[n];y[0]==="enter"&&y[1].type==="table"&&(y[1]._align=bae(t.events,n))}return e}function Pg(e,t,n,r,i,s){const o=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",a="tableContent";n[0]!==0&&(s.end=Object.assign({},ud(t.events,n[0])),e.add(n[0],0,[["exit",s,t]]));const l=ud(t.events,n[1]);if(s={type:o,start:Object.assign({},l),end:Object.assign({},l)},e.add(n[1],0,[["enter",s,t]]),n[2]!==0){const u=ud(t.events,n[2]),f=ud(t.events,n[3]),p={type:a,start:Object.assign({},u),end:Object.assign({},f)};if(e.add(n[2],0,[["enter",p,t]]),r!==2){const g=t.events[n[2]],y=t.events[n[3]];if(g[1].end=Object.assign({},y[1].end),g[1].type="chunkText",g[1].contentType="text",n[3]>n[2]+1){const b=n[2]+1,_=n[3]-n[2]-1;e.add(b,_,[])}}e.add(n[3]+1,0,[["exit",p,t]])}return i!==void 0&&(s.end=Object.assign({},ud(t.events,i)),e.add(i,0,[["exit",s,t]]),s=void 0),s}function gE(e,t,n,r,i){const s=[],o=ud(t.events,n);i&&(i.end=Object.assign({},o),s.push(["exit",i,t])),r.end=Object.assign({},o),s.push(["exit",r,t]),e.add(n+1,0,s)}function ud(e,t){const n=e[t],r=n[0]==="enter"?"start":"end";return n[1][r]}const Cae={name:"tasklistCheck",tokenize:Eae};function kae(){return{text:{91:Cae}}}function Eae(e,t,n){const r=this;return i;function i(l){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(l):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(l),e.exit("taskListCheckMarker"),s)}function s(l){return Sn(l)?(e.enter("taskListCheckValueUnchecked"),e.consume(l),e.exit("taskListCheckValueUnchecked"),o):l===88||l===120?(e.enter("taskListCheckValueChecked"),e.consume(l),e.exit("taskListCheckValueChecked"),o):n(l)}function o(l){return l===93?(e.enter("taskListCheckMarker"),e.consume(l),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),a):n(l)}function a(l){return ht(l)?t(l):Kt(l)?e.check({tokenize:Tae},t,n)(l):n(l)}}function Tae(e,t,n){return rn(e,r,"whitespace");function r(i){return i===null?n(i):t(i)}}function jae(e){return oI([Fse(),cae(),yae(e),wae(),kae()])}const Nae={};function Iae(e){const t=this,n=e||Nae,r=t.data(),i=r.micromarkExtensions||(r.micromarkExtensions=[]),s=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),o=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);i.push(jae(n)),s.push(Pse()),o.push(Ose(n))}function Rae(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const Pae=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Oae=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Mae={};function yE(e,t){return(Mae.jsx?Oae:Pae).test(e)}const Aae=/[ \t\n\f\r]/g;function Dae(e){return typeof e=="object"?e.type==="text"?vE(e.value):!1:vE(e)}function vE(e){return e.replace(Aae,"")===""}class Ap{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}}Ap.prototype.normal={};Ap.prototype.property={};Ap.prototype.space=void 0;function _I(e,t){const n={},r={};for(const i of e)Object.assign(n,i.property),Object.assign(r,i.normal);return new Ap(n,r,t)}function B2(e){return e.toLowerCase()}class Li{constructor(t,n){this.attribute=n,this.property=t}}Li.prototype.attribute="";Li.prototype.booleanish=!1;Li.prototype.boolean=!1;Li.prototype.commaOrSpaceSeparated=!1;Li.prototype.commaSeparated=!1;Li.prototype.defined=!1;Li.prototype.mustUseProperty=!1;Li.prototype.number=!1;Li.prototype.overloadedBoolean=!1;Li.prototype.property="";Li.prototype.spaceSeparated=!1;Li.prototype.space=void 0;let Lae=0;const Lt=eu(),or=eu(),z2=eu(),Fe=eu(),jn=eu(),wd=eu(),Gi=eu();function eu(){return 2**++Lae}const $2=Object.freeze(Object.defineProperty({__proto__:null,boolean:Lt,booleanish:or,commaOrSpaceSeparated:Gi,commaSeparated:wd,number:Fe,overloadedBoolean:z2,spaceSeparated:jn},Symbol.toStringTag,{value:"Module"})),Qx=Object.keys($2);class n3 extends Li{constructor(t,n,r,i){let s=-1;if(super(t,n),xE(this,"space",i),typeof r=="number")for(;++s<Qx.length;){const o=Qx[s];xE(this,Qx[s],(r&$2[o])===$2[o])}}}n3.prototype.defined=!0;function xE(e,t,n){n&&(e[t]=n)}function of(e){const t={},n={};for(const[r,i]of Object.entries(e.properties)){const s=new n3(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(s.mustUseProperty=!0),t[r]=s,n[B2(r)]=r,n[B2(s.attribute)]=r}return new Ap(t,n,e.space)}const SI=of({properties:{ariaActiveDescendant:null,ariaAtomic:or,ariaAutoComplete:null,ariaBusy:or,ariaChecked:or,ariaColCount:Fe,ariaColIndex:Fe,ariaColSpan:Fe,ariaControls:jn,ariaCurrent:null,ariaDescribedBy:jn,ariaDetails:null,ariaDisabled:or,ariaDropEffect:jn,ariaErrorMessage:null,ariaExpanded:or,ariaFlowTo:jn,ariaGrabbed:or,ariaHasPopup:null,ariaHidden:or,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:jn,ariaLevel:Fe,ariaLive:null,ariaModal:or,ariaMultiLine:or,ariaMultiSelectable:or,ariaOrientation:null,ariaOwns:jn,ariaPlaceholder:null,ariaPosInSet:Fe,ariaPressed:or,ariaReadOnly:or,ariaRelevant:null,ariaRequired:or,ariaRoleDescription:jn,ariaRowCount:Fe,ariaRowIndex:Fe,ariaRowSpan:Fe,ariaSelected:or,ariaSetSize:Fe,ariaSort:null,ariaValueMax:Fe,ariaValueMin:Fe,ariaValueNow:Fe,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function CI(e,t){return t in e?e[t]:t}function kI(e,t){return CI(e,t.toLowerCase())}const Fae=of({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:wd,acceptCharset:jn,accessKey:jn,action:null,allow:null,allowFullScreen:Lt,allowPaymentRequest:Lt,allowUserMedia:Lt,alt:null,as:null,async:Lt,autoCapitalize:null,autoComplete:jn,autoFocus:Lt,autoPlay:Lt,blocking:jn,capture:null,charSet:null,checked:Lt,cite:null,className:jn,cols:Fe,colSpan:null,content:null,contentEditable:or,controls:Lt,controlsList:jn,coords:Fe|wd,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Lt,defer:Lt,dir:null,dirName:null,disabled:Lt,download:z2,draggable:or,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Lt,formTarget:null,headers:jn,height:Fe,hidden:z2,high:Fe,href:null,hrefLang:null,htmlFor:jn,httpEquiv:jn,id:null,imageSizes:null,imageSrcSet:null,inert:Lt,inputMode:null,integrity:null,is:null,isMap:Lt,itemId:null,itemProp:jn,itemRef:jn,itemScope:Lt,itemType:jn,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Lt,low:Fe,manifest:null,max:null,maxLength:Fe,media:null,method:null,min:null,minLength:Fe,multiple:Lt,muted:Lt,name:null,nonce:null,noModule:Lt,noValidate:Lt,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Lt,optimum:Fe,pattern:null,ping:jn,placeholder:null,playsInline:Lt,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Lt,referrerPolicy:null,rel:jn,required:Lt,reversed:Lt,rows:Fe,rowSpan:Fe,sandbox:jn,scope:null,scoped:Lt,seamless:Lt,selected:Lt,shadowRootClonable:Lt,shadowRootDelegatesFocus:Lt,shadowRootMode:null,shape:null,size:Fe,sizes:null,slot:null,span:Fe,spellCheck:or,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Fe,step:null,style:null,tabIndex:Fe,target:null,title:null,translate:null,type:null,typeMustMatch:Lt,useMap:null,value:or,width:Fe,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:jn,axis:null,background:null,bgColor:null,border:Fe,borderColor:null,bottomMargin:Fe,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Lt,declare:Lt,event:null,face:null,frame:null,frameBorder:null,hSpace:Fe,leftMargin:Fe,link:null,longDesc:null,lowSrc:null,marginHeight:Fe,marginWidth:Fe,noResize:Lt,noHref:Lt,noShade:Lt,noWrap:Lt,object:null,profile:null,prompt:null,rev:null,rightMargin:Fe,rules:null,scheme:null,scrolling:or,standby:null,summary:null,text:null,topMargin:Fe,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Fe,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Lt,disableRemotePlayback:Lt,prefix:null,property:null,results:Fe,security:null,unselectable:null},space:"html",transform:kI}),Bae=of({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Gi,accentHeight:Fe,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Fe,amplitude:Fe,arabicForm:null,ascent:Fe,attributeName:null,attributeType:null,azimuth:Fe,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Fe,by:null,calcMode:null,capHeight:Fe,className:jn,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Fe,diffuseConstant:Fe,direction:null,display:null,dur:null,divisor:Fe,dominantBaseline:null,download:Lt,dx:null,dy:null,edgeMode:null,editable:null,elevation:Fe,enableBackground:null,end:null,event:null,exponent:Fe,externalResourcesRequired:null,fill:null,fillOpacity:Fe,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:wd,g2:wd,glyphName:wd,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Fe,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Fe,horizOriginX:Fe,horizOriginY:Fe,id:null,ideographic:Fe,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Fe,k:Fe,k1:Fe,k2:Fe,k3:Fe,k4:Fe,kernelMatrix:Gi,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Fe,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Fe,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Fe,overlineThickness:Fe,paintOrder:null,panose1:null,path:null,pathLength:Fe,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:jn,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Fe,pointsAtY:Fe,pointsAtZ:Fe,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Gi,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Gi,rev:Gi,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Gi,requiredFeatures:Gi,requiredFonts:Gi,requiredFormats:Gi,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Fe,specularExponent:Fe,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Fe,strikethroughThickness:Fe,string:null,stroke:null,strokeDashArray:Gi,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Fe,strokeOpacity:Fe,strokeWidth:null,style:null,surfaceScale:Fe,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Gi,tabIndex:Fe,tableValues:null,target:null,targetX:Fe,targetY:Fe,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Gi,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Fe,underlineThickness:Fe,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Fe,values:null,vAlphabetic:Fe,vMathematical:Fe,vectorEffect:null,vHanging:Fe,vIdeographic:Fe,version:null,vertAdvY:Fe,vertOriginX:Fe,vertOriginY:Fe,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Fe,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:CI}),EI=of({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),TI=of({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:kI}),jI=of({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),zae={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},$ae=/[A-Z]/g,bE=/-[a-z]/g,Uae=/^data[-\w.:]+$/i;function Hae(e,t){const n=B2(t);let r=t,i=Li;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&Uae.test(t)){if(t.charAt(4)==="-"){const s=t.slice(5).replace(bE,qae);r="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=t.slice(4);if(!bE.test(s)){let o=s.replace($ae,Wae);o.charAt(0)!=="-"&&(o="-"+o),t="data"+o}}i=n3}return new i(r,t)}function Wae(e){return"-"+e.toLowerCase()}function qae(e){return e.charAt(1).toUpperCase()}const Vae=_I([SI,Fae,EI,TI,jI],"html"),r3=_I([SI,Bae,EI,TI,jI],"svg");function Qae(e){return e.join(" ").trim()}var td={},Kx,wE;function Kae(){if(wE)return Kx;wE=1;var e=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,t=/\n/g,n=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,i=/^:\s*/,s=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,o=/^[;\s]*/,a=/^\s+|\s+$/g,l=`
`,u="/",f="*",p="",g="comment",y="declaration";Kx=function(_,C){if(typeof _!="string")throw new TypeError("First argument must be a string");if(!_)return[];C=C||{};var k=1,R=1;function O(re){var V=re.match(t);V&&(k+=V.length);var q=re.lastIndexOf(l);R=~q?re.length-q:R+re.length}function $(){var re={line:k,column:R};return function(V){return V.position=new z(re),B(),V}}function z(re){this.start=re,this.end={line:k,column:R},this.source=C.source}z.prototype.content=_;function j(re){var V=new Error(C.source+":"+k+":"+R+": "+re);if(V.reason=re,V.filename=C.source,V.line=k,V.column=R,V.source=_,!C.silent)throw V}function A(re){var V=re.exec(_);if(V){var q=V[0];return O(q),_=_.slice(q.length),V}}function B(){A(n)}function U(re){var V;for(re=re||[];V=D();)V!==!1&&re.push(V);return re}function D(){var re=$();if(!(u!=_.charAt(0)||f!=_.charAt(1))){for(var V=2;p!=_.charAt(V)&&(f!=_.charAt(V)||u!=_.charAt(V+1));)++V;if(V+=2,p===_.charAt(V-1))return j("End of comment missing");var q=_.slice(2,V-2);return R+=2,O(q),_=_.slice(V),R+=2,re({type:g,comment:q})}}function Z(){var re=$(),V=A(r);if(V){if(D(),!A(i))return j("property missing ':'");var q=A(s),Q=re({type:y,property:b(V[0].replace(e,p)),value:q?b(q[0].replace(e,p)):p});return A(o),Q}}function X(){var re=[];U(re);for(var V;V=Z();)V!==!1&&(re.push(V),U(re));return re}return B(),X()};function b(_){return _?_.replace(a,p):p}return Kx}var _E;function Gae(){if(_E)return td;_E=1;var e=td&&td.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(td,"__esModule",{value:!0}),td.default=n;var t=e(Kae());function n(r,i){var s=null;if(!r||typeof r!="string")return s;var o=(0,t.default)(r),a=typeof i=="function";return o.forEach(function(l){if(l.type==="declaration"){var u=l.property,f=l.value;a?i(u,f,l):f&&(s=s||{},s[u]=f)}}),s}return td}var rh={},SE;function Yae(){if(SE)return rh;SE=1,Object.defineProperty(rh,"__esModule",{value:!0}),rh.camelCase=void 0;var e=/^--[a-zA-Z0-9_-]+$/,t=/-([a-z])/g,n=/^[^-]+$/,r=/^-(webkit|moz|ms|o|khtml)-/,i=/^-(ms)-/,s=function(u){return!u||n.test(u)||e.test(u)},o=function(u,f){return f.toUpperCase()},a=function(u,f){return"".concat(f,"-")},l=function(u,f){return f===void 0&&(f={}),s(u)?u:(u=u.toLowerCase(),f.reactCompat?u=u.replace(i,a):u=u.replace(r,a),u.replace(t,o))};return rh.camelCase=l,rh}var ih,CE;function Xae(){if(CE)return ih;CE=1;var e=ih&&ih.__importDefault||function(i){return i&&i.__esModule?i:{default:i}},t=e(Gae()),n=Yae();function r(i,s){var o={};return!i||typeof i!="string"||(0,t.default)(i,function(a,l){a&&l&&(o[(0,n.camelCase)(a,s)]=l)}),o}return r.default=r,ih=r,ih}var Jae=Xae();const Zae=Di(Jae),NI=II("end"),i3=II("start");function II(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function ele(e){const t=i3(e),n=NI(e);if(t&&n)return{start:t,end:n}}function Rh(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?kE(e.position):"start"in e||"end"in e?kE(e):"line"in e||"column"in e?U2(e):""}function U2(e){return EE(e&&e.line)+":"+EE(e&&e.column)}function kE(e){return U2(e&&e.start)+"-"+U2(e&&e.end)}function EE(e){return e&&typeof e=="number"?e:1}class Zr extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",s={},o=!1;if(n&&("line"in n&&"column"in n?s={place:n}:"start"in n&&"end"in n?s={place:n}:"type"in n?s={ancestors:[n],place:n.position}:s={...n}),typeof t=="string"?i=t:!s.cause&&t&&(o=!0,i=t.message,s.cause=t),!s.ruleId&&!s.source&&typeof r=="string"){const l=r.indexOf(":");l===-1?s.ruleId=r:(s.source=r.slice(0,l),s.ruleId=r.slice(l+1))}if(!s.place&&s.ancestors&&s.ancestors){const l=s.ancestors[s.ancestors.length-1];l&&(s.place=l.position)}const a=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=a?a.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=a?a.line:void 0,this.name=Rh(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=o&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Zr.prototype.file="";Zr.prototype.name="";Zr.prototype.reason="";Zr.prototype.message="";Zr.prototype.stack="";Zr.prototype.column=void 0;Zr.prototype.line=void 0;Zr.prototype.ancestors=void 0;Zr.prototype.cause=void 0;Zr.prototype.fatal=void 0;Zr.prototype.place=void 0;Zr.prototype.ruleId=void 0;Zr.prototype.source=void 0;const s3={}.hasOwnProperty,tle=new Map,nle=/[A-Z]/g,rle=new Set(["table","tbody","thead","tfoot","tr"]),ile=new Set(["td","th"]),RI="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function sle(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=hle(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=fle(n,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?r3:Vae,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},s=PI(i,e,void 0);return s&&typeof s!="string"?s:i.create(e,i.Fragment,{children:s||void 0},void 0)}function PI(e,t,n){if(t.type==="element")return ole(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return ale(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return cle(e,t,n);if(t.type==="mdxjsEsm")return lle(e,t);if(t.type==="root")return ule(e,t,n);if(t.type==="text")return dle(e,t)}function ole(e,t,n){const r=e.schema;let i=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=r3,e.schema=i),e.ancestors.push(t);const s=MI(e,t.tagName,!1),o=ple(e,t);let a=a3(e,t);return rle.has(t.tagName)&&(a=a.filter(function(l){return typeof l=="string"?!Dae(l):!0})),OI(e,o,s,t),o3(o,a),e.ancestors.pop(),e.schema=r,e.create(t,s,o,n)}function ale(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}rp(e,t.position)}function lle(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);rp(e,t.position)}function cle(e,t,n){const r=e.schema;let i=r;t.name==="svg"&&r.space==="html"&&(i=r3,e.schema=i),e.ancestors.push(t);const s=t.name===null?e.Fragment:MI(e,t.name,!0),o=mle(e,t),a=a3(e,t);return OI(e,o,s,t),o3(o,a),e.ancestors.pop(),e.schema=r,e.create(t,s,o,n)}function ule(e,t,n){const r={};return o3(r,a3(e,t)),e.create(t,e.Fragment,r,n)}function dle(e,t){return t.value}function OI(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function o3(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function fle(e,t,n){return r;function r(i,s,o,a){const u=Array.isArray(o.children)?n:t;return a?u(s,o,a):u(s,o)}}function hle(e,t){return n;function n(r,i,s,o){const a=Array.isArray(s.children),l=i3(r);return t(i,s,o,a,{columnNumber:l?l.column-1:void 0,fileName:e,lineNumber:l?l.line:void 0},void 0)}}function ple(e,t){const n={};let r,i;for(i in t.properties)if(i!=="children"&&s3.call(t.properties,i)){const s=gle(e,i,t.properties[i]);if(s){const[o,a]=s;e.tableCellAlignToStyle&&o==="align"&&typeof a=="string"&&ile.has(t.tagName)?r=a:n[o]=a}}if(r){const s=n.style||(n.style={});s[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function mle(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const s=r.data.estree.body[0];s.type;const o=s.expression;o.type;const a=o.properties[0];a.type,Object.assign(n,e.evaluater.evaluateExpression(a.argument))}else rp(e,t.position);else{const i=r.name;let s;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const a=r.value.data.estree.body[0];a.type,s=e.evaluater.evaluateExpression(a.expression)}else rp(e,t.position);else s=r.value===null?!0:r.value;n[i]=s}return n}function a3(e,t){const n=[];let r=-1;const i=e.passKeys?new Map:tle;for(;++r<t.children.length;){const s=t.children[r];let o;if(e.passKeys){const l=s.type==="element"?s.tagName:s.type==="mdxJsxFlowElement"||s.type==="mdxJsxTextElement"?s.name:void 0;if(l){const u=i.get(l)||0;o=l+"-"+u,i.set(l,u+1)}}const a=PI(e,s,o);a!==void 0&&n.push(a)}return n}function gle(e,t,n){const r=Hae(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?Rae(n):Qae(n)),r.property==="style"){let i=typeof n=="object"?n:yle(e,String(n));return e.stylePropertyNameCase==="css"&&(i=vle(i)),["style",i]}return[e.elementAttributeNameCase==="react"&&r.space?zae[r.property]||r.property:r.attribute,n]}}function yle(e,t){try{return Zae(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,i=new Zr("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=e.filePath||void 0,i.url=RI+"#cannot-parse-style-attribute",i}}function MI(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const i=t.split(".");let s=-1,o;for(;++s<i.length;){const a=yE(i[s])?{type:"Identifier",name:i[s]}:{type:"Literal",value:i[s]};o=o?{type:"MemberExpression",object:o,property:a,computed:!!(s&&a.type==="Literal"),optional:!1}:a}r=o}else r=yE(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const i=r.value;return s3.call(e.components,i)?e.components[i]:i}if(e.evaluater)return e.evaluater.evaluateExpression(r);rp(e)}function rp(e,t){const n=new Zr("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=RI+"#cannot-handle-mdx-estrees-without-createevaluater",n}function vle(e){const t={};let n;for(n in e)s3.call(e,n)&&(t[xle(n)]=e[n]);return t}function xle(e){let t=e.replace(nle,ble);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function ble(e){return"-"+e.toLowerCase()}const Gx={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},wle={tokenize:_le};function _le(e){const t=e.attempt(this.parser.constructs.contentInitial,r,i);let n;return t;function r(a){if(a===null){e.consume(a);return}return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),rn(e,t,"linePrefix")}function i(a){return e.enter("paragraph"),s(a)}function s(a){const l=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,o(a)}function o(a){if(a===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(a);return}return ht(a)?(e.consume(a),e.exit("chunkText"),s):(e.consume(a),o)}}const Sle={tokenize:Cle},TE={tokenize:kle};function Cle(e){const t=this,n=[];let r=0,i,s,o;return a;function a(O){if(r<n.length){const $=n[r];return t.containerState=$[1],e.attempt($[0].continuation,l,u)(O)}return u(O)}function l(O){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&R();const $=t.events.length;let z=$,j;for(;z--;)if(t.events[z][0]==="exit"&&t.events[z][1].type==="chunkFlow"){j=t.events[z][1].end;break}k(r);let A=$;for(;A<t.events.length;)t.events[A][1].end={...j},A++;return ts(t.events,z+1,0,t.events.slice($)),t.events.length=A,u(O)}return a(O)}function u(O){if(r===n.length){if(!i)return g(O);if(i.currentConstruct&&i.currentConstruct.concrete)return b(O);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(TE,f,p)(O)}function f(O){return i&&R(),k(r),g(O)}function p(O){return t.parser.lazy[t.now().line]=r!==n.length,o=t.now().offset,b(O)}function g(O){return t.containerState={},e.attempt(TE,y,b)(O)}function y(O){return r++,n.push([t.currentConstruct,t.containerState]),g(O)}function b(O){if(O===null){i&&R(),k(0),e.consume(O);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:s}),_(O)}function _(O){if(O===null){C(e.exit("chunkFlow"),!0),k(0),e.consume(O);return}return ht(O)?(e.consume(O),C(e.exit("chunkFlow")),r=0,t.interrupt=void 0,a):(e.consume(O),_)}function C(O,$){const z=t.sliceStream(O);if($&&z.push(null),O.previous=s,s&&(s.next=O),s=O,i.defineSkip(O.start),i.write(z),t.parser.lazy[O.start.line]){let j=i.events.length;for(;j--;)if(i.events[j][1].start.offset<o&&(!i.events[j][1].end||i.events[j][1].end.offset>o))return;const A=t.events.length;let B=A,U,D;for(;B--;)if(t.events[B][0]==="exit"&&t.events[B][1].type==="chunkFlow"){if(U){D=t.events[B][1].end;break}U=!0}for(k(r),j=A;j<t.events.length;)t.events[j][1].end={...D},j++;ts(t.events,B+1,0,t.events.slice(A)),t.events.length=j}}function k(O){let $=n.length;for(;$-- >O;){const z=n[$];t.containerState=z[1],z[0].exit.call(t,e)}n.length=O}function R(){i.write([null]),s=void 0,i=void 0,t.containerState._closeFlow=void 0}}function kle(e,t,n){return rn(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}const Ele={tokenize:Tle};function Tle(e){const t=this,n=e.attempt(Mp,r,e.attempt(this.parser.constructs.flowInitial,i,rn(e,e.attempt(this.parser.constructs.flow,i,e.attempt(poe,i)),"linePrefix")));return n;function r(s){if(s===null){e.consume(s);return}return e.enter("lineEndingBlank"),e.consume(s),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function i(s){if(s===null){e.consume(s);return}return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const jle={resolveAll:DI()},Nle=AI("string"),Ile=AI("text");function AI(e){return{resolveAll:DI(e==="text"?Rle:void 0),tokenize:t};function t(n){const r=this,i=this.parser.constructs[e],s=n.attempt(i,o,a);return o;function o(f){return u(f)?s(f):a(f)}function a(f){if(f===null){n.consume(f);return}return n.enter("data"),n.consume(f),l}function l(f){return u(f)?(n.exit("data"),s(f)):(n.consume(f),l)}function u(f){if(f===null)return!0;const p=i[f];let g=-1;if(p)for(;++g<p.length;){const y=p[g];if(!y.previous||y.previous.call(r,r.previous))return!0}return!1}}}function DI(e){return t;function t(n,r){let i=-1,s;for(;++i<=n.length;)s===void 0?n[i]&&n[i][1].type==="data"&&(s=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==s+2&&(n[s][1].end=n[i-1][1].end,n.splice(s+2,i-s-2),i=s+2),s=void 0);return e?e(n,r):n}}function Rle(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],i=t.sliceStream(r);let s=i.length,o=-1,a=0,l;for(;s--;){const u=i[s];if(typeof u=="string"){for(o=u.length;u.charCodeAt(o-1)===32;)a++,o--;if(o)break;o=-1}else if(u===-2)l=!0,a++;else if(u!==-1){s++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(a=0),a){const u={type:n===e.length||l||a<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:s?o:r.start._bufferIndex+o,_index:r.start._index+s,line:r.end.line,column:r.end.column-a,offset:r.end.offset-a},end:{...r.end}};r.end={...u.start},r.start.offset===r.end.offset?Object.assign(r,u):(e.splice(n,0,["enter",u,t],["exit",u,t]),n+=2)}n++}return e}const Ple={42:ji,43:ji,45:ji,48:ji,49:ji,50:ji,51:ji,52:ji,53:ji,54:ji,55:ji,56:ji,57:ji,62:mI},Ole={91:xoe},Mle={[-2]:qx,[-1]:qx,32:qx},Ale={35:koe,42:c0,45:[mE,c0],60:Noe,61:mE,95:c0,96:hE,126:hE},Dle={38:yI,92:gI},Lle={[-5]:Vx,[-4]:Vx,[-3]:Vx,33:Qoe,38:yI,42:F2,60:[Gse,Doe],91:Goe,92:[Soe,gI],93:t3,95:F2,96:loe},Fle={null:[F2,jle]},Ble={null:[42,95]},zle={null:[]},$le=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:Ble,contentInitial:Ole,disable:zle,document:Ple,flow:Ale,flowInitial:Mle,insideSpan:Fle,string:Dle,text:Lle},Symbol.toStringTag,{value:"Module"}));function Ule(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},s=[];let o=[],a=[];const l={attempt:A(z),check:A(j),consume:R,enter:O,exit:$,interrupt:A(j,{interrupt:!0})},u={code:null,containerState:{},defineSkip:_,events:[],now:b,parser:e,previous:null,sliceSerialize:g,sliceStream:y,write:p};let f=t.tokenize.call(u,l);return t.resolveAll&&s.push(t),u;function p(Z){return o=xs(o,Z),C(),o[o.length-1]!==null?[]:(B(t,0),u.events=iy(s,u.events,u),u.events)}function g(Z,X){return Wle(y(Z),X)}function y(Z){return Hle(o,Z)}function b(){const{_bufferIndex:Z,_index:X,line:re,column:V,offset:q}=r;return{_bufferIndex:Z,_index:X,line:re,column:V,offset:q}}function _(Z){i[Z.line]=Z.column,D()}function C(){let Z;for(;r._index<o.length;){const X=o[r._index];if(typeof X=="string")for(Z=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===Z&&r._bufferIndex<X.length;)k(X.charCodeAt(r._bufferIndex));else k(X)}}function k(Z){f=f(Z)}function R(Z){ht(Z)?(r.line++,r.column=1,r.offset+=Z===-3?2:1,D()):Z!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),u.previous=Z}function O(Z,X){const re=X||{};return re.type=Z,re.start=b(),u.events.push(["enter",re,u]),a.push(re),re}function $(Z){const X=a.pop();return X.end=b(),u.events.push(["exit",X,u]),X}function z(Z,X){B(Z,X.from)}function j(Z,X){X.restore()}function A(Z,X){return re;function re(V,q,Q){let ne,ee,fe,F;return Array.isArray(V)?ye(V):"tokenize"in V?ye([V]):G(V);function G(Te){return Ye;function Ye(qe){const Ne=qe!==null&&Te[qe],ct=qe!==null&&Te.null,xn=[...Array.isArray(Ne)?Ne:Ne?[Ne]:[],...Array.isArray(ct)?ct:ct?[ct]:[]];return ye(xn)(qe)}}function ye(Te){return ne=Te,ee=0,Te.length===0?Q:H(Te[ee])}function H(Te){return Ye;function Ye(qe){return F=U(),fe=Te,Te.partial||(u.currentConstruct=Te),Te.name&&u.parser.constructs.disable.null.includes(Te.name)?Ee():Te.tokenize.call(X?Object.assign(Object.create(u),X):u,l,Oe,Ee)(qe)}}function Oe(Te){return Z(fe,F),q}function Ee(Te){return F.restore(),++ee<ne.length?H(ne[ee]):Q}}}function B(Z,X){Z.resolveAll&&!s.includes(Z)&&s.push(Z),Z.resolve&&ts(u.events,X,u.events.length-X,Z.resolve(u.events.slice(X),u)),Z.resolveTo&&(u.events=Z.resolveTo(u.events,u))}function U(){const Z=b(),X=u.previous,re=u.currentConstruct,V=u.events.length,q=Array.from(a);return{from:V,restore:Q};function Q(){r=Z,u.previous=X,u.currentConstruct=re,u.events.length=V,a=q,D()}}function D(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function Hle(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,s=t.end._bufferIndex;let o;if(n===i)o=[e[n].slice(r,s)];else{if(o=e.slice(n,i),r>-1){const a=o[0];typeof a=="string"?o[0]=a.slice(r):o.shift()}s>0&&o.push(e[i].slice(0,s))}return o}function Wle(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const s=e[n];let o;if(typeof s=="string")o=s;else switch(s){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=t?" ":"	";break}case-1:{if(!t&&i)continue;o=" ";break}default:o=String.fromCharCode(s)}i=s===-2,r.push(o)}return r.join("")}function qle(e){const r={constructs:oI([$le,...(e||{}).extensions||[]]),content:i(wle),defined:[],document:i(Sle),flow:i(Ele),lazy:{},string:i(Nle),text:i(Ile)};return r;function i(s){return o;function o(a){return Ule(r,s,a)}}}function Vle(e){for(;!vI(e););return e}const jE=/[\0\t\n\r]/g;function Qle(){let e=1,t="",n=!0,r;return i;function i(s,o,a){const l=[];let u,f,p,g,y;for(s=t+(typeof s=="string"?s.toString():new TextDecoder(o||void 0).decode(s)),p=0,t="",n&&(s.charCodeAt(0)===65279&&p++,n=void 0);p<s.length;){if(jE.lastIndex=p,u=jE.exec(s),g=u&&u.index!==void 0?u.index:s.length,y=s.charCodeAt(g),!u){t=s.slice(p);break}if(y===10&&p===g&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),p<g&&(l.push(s.slice(p,g)),e+=g-p),y){case 0:{l.push(65533),e++;break}case 9:{for(f=Math.ceil(e/4)*4,l.push(-2);e++<f;)l.push(-1);break}case 10:{l.push(-4),e=1;break}default:r=!0,e=1}p=g+1}return a&&(r&&l.push(-5),t&&l.push(t),l.push(null)),l}}const LI={}.hasOwnProperty;function Kle(e,t,n){return typeof t!="string"&&(n=t,t=void 0),Gle(n)(Vle(qle(n).document().write(Qle()(e,t,!0))))}function Gle(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(gi),autolinkProtocol:U,autolinkEmail:U,atxHeading:s(yn),blockQuote:s(ct),characterEscape:U,characterReference:U,codeFenced:s(xn),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:s(xn,o),codeText:s(It,o),codeTextData:U,data:U,codeFlowValue:U,definition:s(Cn),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:s(sn),hardBreakEscape:s(Fi),hardBreakTrailing:s(Fi),htmlFlow:s(ei,o),htmlFlowData:U,htmlText:s(ei,o),htmlTextData:U,image:s(Bi),label:o,link:s(gi),listItem:s(on),listItemValue:g,listOrdered:s(wt,p),listUnordered:s(wt),paragraph:s(pt),reference:H,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:s(yn),strong:s(Bt),thematicBreak:s(qn)},exit:{atxHeading:l(),atxHeadingSequence:z,autolink:l(),autolinkEmail:Ne,autolinkProtocol:qe,blockQuote:l(),characterEscapeValue:D,characterReferenceMarkerHexadecimal:Ee,characterReferenceMarkerNumeric:Ee,characterReferenceValue:Te,characterReference:Ye,codeFenced:l(C),codeFencedFence:_,codeFencedFenceInfo:y,codeFencedFenceMeta:b,codeFlowValue:D,codeIndented:l(k),codeText:l(q),codeTextData:D,data:D,definition:l(),definitionDestinationString:$,definitionLabelString:R,definitionTitleString:O,emphasis:l(),hardBreakEscape:l(X),hardBreakTrailing:l(X),htmlFlow:l(re),htmlFlowData:D,htmlText:l(V),htmlTextData:D,image:l(ne),label:fe,labelText:ee,lineEnding:Z,link:l(Q),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:Oe,resourceDestinationString:F,resourceTitleString:G,resource:ye,setextHeading:l(B),setextHeadingLineSequence:A,setextHeadingText:j,strong:l(),thematicBreak:l()}};FI(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(Ce){let Re={type:"root",children:[]};const ut={stack:[Re],tokenStack:[],config:t,enter:a,exit:u,buffer:o,resume:f,data:n},vt=[];let zt=-1;for(;++zt<Ce.length;)if(Ce[zt][1].type==="listOrdered"||Ce[zt][1].type==="listUnordered")if(Ce[zt][0]==="enter")vt.push(zt);else{const hn=vt.pop();zt=i(Ce,hn,zt)}for(zt=-1;++zt<Ce.length;){const hn=t[Ce[zt][0]];LI.call(hn,Ce[zt][1].type)&&hn[Ce[zt][1].type].call(Object.assign({sliceSerialize:Ce[zt][2].sliceSerialize},ut),Ce[zt][1])}if(ut.tokenStack.length>0){const hn=ut.tokenStack[ut.tokenStack.length-1];(hn[1]||NE).call(ut,void 0,hn[0])}for(Re.position={start:$a(Ce.length>0?Ce[0][1].start:{line:1,column:1,offset:0}),end:$a(Ce.length>0?Ce[Ce.length-2][1].end:{line:1,column:1,offset:0})},zt=-1;++zt<t.transforms.length;)Re=t.transforms[zt](Re)||Re;return Re}function i(Ce,Re,ut){let vt=Re-1,zt=-1,hn=!1,nr,rr,ti,br;for(;++vt<=ut;){const Ve=Ce[vt];switch(Ve[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Ve[0]==="enter"?zt++:zt--,br=void 0;break}case"lineEndingBlank":{Ve[0]==="enter"&&(nr&&!br&&!zt&&!ti&&(ti=vt),br=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:br=void 0}if(!zt&&Ve[0]==="enter"&&Ve[1].type==="listItemPrefix"||zt===-1&&Ve[0]==="exit"&&(Ve[1].type==="listUnordered"||Ve[1].type==="listOrdered")){if(nr){let Xn=vt;for(rr=void 0;Xn--;){const Dn=Ce[Xn];if(Dn[1].type==="lineEnding"||Dn[1].type==="lineEndingBlank"){if(Dn[0]==="exit")continue;rr&&(Ce[rr][1].type="lineEndingBlank",hn=!0),Dn[1].type="lineEnding",rr=Xn}else if(!(Dn[1].type==="linePrefix"||Dn[1].type==="blockQuotePrefix"||Dn[1].type==="blockQuotePrefixWhitespace"||Dn[1].type==="blockQuoteMarker"||Dn[1].type==="listItemIndent"))break}ti&&(!rr||ti<rr)&&(nr._spread=!0),nr.end=Object.assign({},rr?Ce[rr][1].start:Ve[1].end),Ce.splice(rr||vt,0,["exit",nr,Ve[2]]),vt++,ut++}if(Ve[1].type==="listItemPrefix"){const Xn={type:"listItem",_spread:!1,start:Object.assign({},Ve[1].start),end:void 0};nr=Xn,Ce.splice(vt,0,["enter",Xn,Ve[2]]),vt++,ut++,ti=void 0,br=!0}}}return Ce[Re][1]._spread=hn,ut}function s(Ce,Re){return ut;function ut(vt){a.call(this,Ce(vt),vt),Re&&Re.call(this,vt)}}function o(){this.stack.push({type:"fragment",children:[]})}function a(Ce,Re,ut){this.stack[this.stack.length-1].children.push(Ce),this.stack.push(Ce),this.tokenStack.push([Re,ut||void 0]),Ce.position={start:$a(Re.start),end:void 0}}function l(Ce){return Re;function Re(ut){Ce&&Ce.call(this,ut),u.call(this,ut)}}function u(Ce,Re){const ut=this.stack.pop(),vt=this.tokenStack.pop();if(vt)vt[0].type!==Ce.type&&(Re?Re.call(this,Ce,vt[0]):(vt[1]||NE).call(this,Ce,vt[0]));else throw new Error("Cannot close `"+Ce.type+"` ("+Rh({start:Ce.start,end:Ce.end})+"): its not open");ut.position.end=$a(Ce.end)}function f(){return X_(this.stack.pop())}function p(){this.data.expectingFirstListItemValue=!0}function g(Ce){if(this.data.expectingFirstListItemValue){const Re=this.stack[this.stack.length-2];Re.start=Number.parseInt(this.sliceSerialize(Ce),10),this.data.expectingFirstListItemValue=void 0}}function y(){const Ce=this.resume(),Re=this.stack[this.stack.length-1];Re.lang=Ce}function b(){const Ce=this.resume(),Re=this.stack[this.stack.length-1];Re.meta=Ce}function _(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function C(){const Ce=this.resume(),Re=this.stack[this.stack.length-1];Re.value=Ce.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function k(){const Ce=this.resume(),Re=this.stack[this.stack.length-1];Re.value=Ce.replace(/(\r?\n|\r)$/g,"")}function R(Ce){const Re=this.resume(),ut=this.stack[this.stack.length-1];ut.label=Re,ut.identifier=Ys(this.sliceSerialize(Ce)).toLowerCase()}function O(){const Ce=this.resume(),Re=this.stack[this.stack.length-1];Re.title=Ce}function $(){const Ce=this.resume(),Re=this.stack[this.stack.length-1];Re.url=Ce}function z(Ce){const Re=this.stack[this.stack.length-1];if(!Re.depth){const ut=this.sliceSerialize(Ce).length;Re.depth=ut}}function j(){this.data.setextHeadingSlurpLineEnding=!0}function A(Ce){const Re=this.stack[this.stack.length-1];Re.depth=this.sliceSerialize(Ce).codePointAt(0)===61?1:2}function B(){this.data.setextHeadingSlurpLineEnding=void 0}function U(Ce){const ut=this.stack[this.stack.length-1].children;let vt=ut[ut.length-1];(!vt||vt.type!=="text")&&(vt=Rt(),vt.position={start:$a(Ce.start),end:void 0},ut.push(vt)),this.stack.push(vt)}function D(Ce){const Re=this.stack.pop();Re.value+=this.sliceSerialize(Ce),Re.position.end=$a(Ce.end)}function Z(Ce){const Re=this.stack[this.stack.length-1];if(this.data.atHardBreak){const ut=Re.children[Re.children.length-1];ut.position.end=$a(Ce.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(Re.type)&&(U.call(this,Ce),D.call(this,Ce))}function X(){this.data.atHardBreak=!0}function re(){const Ce=this.resume(),Re=this.stack[this.stack.length-1];Re.value=Ce}function V(){const Ce=this.resume(),Re=this.stack[this.stack.length-1];Re.value=Ce}function q(){const Ce=this.resume(),Re=this.stack[this.stack.length-1];Re.value=Ce}function Q(){const Ce=this.stack[this.stack.length-1];if(this.data.inReference){const Re=this.data.referenceType||"shortcut";Ce.type+="Reference",Ce.referenceType=Re,delete Ce.url,delete Ce.title}else delete Ce.identifier,delete Ce.label;this.data.referenceType=void 0}function ne(){const Ce=this.stack[this.stack.length-1];if(this.data.inReference){const Re=this.data.referenceType||"shortcut";Ce.type+="Reference",Ce.referenceType=Re,delete Ce.url,delete Ce.title}else delete Ce.identifier,delete Ce.label;this.data.referenceType=void 0}function ee(Ce){const Re=this.sliceSerialize(Ce),ut=this.stack[this.stack.length-2];ut.label=xse(Re),ut.identifier=Ys(Re).toLowerCase()}function fe(){const Ce=this.stack[this.stack.length-1],Re=this.resume(),ut=this.stack[this.stack.length-1];if(this.data.inReference=!0,ut.type==="link"){const vt=Ce.children;ut.children=vt}else ut.alt=Re}function F(){const Ce=this.resume(),Re=this.stack[this.stack.length-1];Re.url=Ce}function G(){const Ce=this.resume(),Re=this.stack[this.stack.length-1];Re.title=Ce}function ye(){this.data.inReference=void 0}function H(){this.data.referenceType="collapsed"}function Oe(Ce){const Re=this.resume(),ut=this.stack[this.stack.length-1];ut.label=Re,ut.identifier=Ys(this.sliceSerialize(Ce)).toLowerCase(),this.data.referenceType="full"}function Ee(Ce){this.data.characterReferenceType=Ce.type}function Te(Ce){const Re=this.sliceSerialize(Ce),ut=this.data.characterReferenceType;let vt;ut?(vt=sI(Re,ut==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):vt=Z_(Re);const zt=this.stack[this.stack.length-1];zt.value+=vt}function Ye(Ce){const Re=this.stack.pop();Re.position.end=$a(Ce.end)}function qe(Ce){D.call(this,Ce);const Re=this.stack[this.stack.length-1];Re.url=this.sliceSerialize(Ce)}function Ne(Ce){D.call(this,Ce);const Re=this.stack[this.stack.length-1];Re.url="mailto:"+this.sliceSerialize(Ce)}function ct(){return{type:"blockquote",children:[]}}function xn(){return{type:"code",lang:null,meta:null,value:""}}function It(){return{type:"inlineCode",value:""}}function Cn(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function sn(){return{type:"emphasis",children:[]}}function yn(){return{type:"heading",depth:0,children:[]}}function Fi(){return{type:"break"}}function ei(){return{type:"html",value:""}}function Bi(){return{type:"image",title:null,url:"",alt:null}}function gi(){return{type:"link",title:null,url:"",children:[]}}function wt(Ce){return{type:"list",ordered:Ce.type==="listOrdered",start:null,spread:Ce._spread,children:[]}}function on(Ce){return{type:"listItem",spread:Ce._spread,checked:null,children:[]}}function pt(){return{type:"paragraph",children:[]}}function Bt(){return{type:"strong",children:[]}}function Rt(){return{type:"text",value:""}}function qn(){return{type:"thematicBreak"}}}function $a(e){return{line:e.line,column:e.column,offset:e.offset}}function FI(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?FI(e,r):Yle(e,r)}}function Yle(e,t){let n;for(n in t)if(LI.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function NE(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Rh({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Rh({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Rh({start:t.start,end:t.end})+") is still open")}function Xle(e){const t=this;t.parser=n;function n(r){return Kle(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function Jle(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function Zle(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function ece(e,t){const n=t.value?t.value+`
`:"",r={};t.lang&&(r.className=["language-"+t.lang]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(i.data={meta:t.meta}),e.patch(t,i),i=e.applyData(t,i),i={type:"element",tagName:"pre",properties:{},children:[i]},e.patch(t,i),i}function tce(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function nce(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function rce(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),i=sf(r.toLowerCase()),s=e.footnoteOrder.indexOf(r);let o,a=e.footnoteCounts.get(r);a===void 0?(a=0,e.footnoteOrder.push(r),o=e.footnoteOrder.length):o=s+1,a+=1,e.footnoteCounts.set(r,a);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(a>1?"-"+a:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};e.patch(t,l);const u={type:"element",tagName:"sup",properties:{},children:[l]};return e.patch(t,u),e.applyData(t,u)}function ice(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function sce(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function BI(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const i=e.all(t),s=i[0];s&&s.type==="text"?s.value="["+s.value:i.unshift({type:"text",value:"["});const o=i[i.length-1];return o&&o.type==="text"?o.value+=r:i.push({type:"text",value:r}),i}function oce(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return BI(e,t);const i={src:sf(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,s),e.applyData(t,s)}function ace(e,t){const n={src:sf(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function lce(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function cce(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return BI(e,t);const i={href:sf(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,s),e.applyData(t,s)}function uce(e,t){const n={href:sf(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function dce(e,t,n){const r=e.all(t),i=n?fce(n):zI(t),s={},o=[];if(typeof t.checked=="boolean"){const f=r[0];let p;f&&f.type==="element"&&f.tagName==="p"?p=f:(p={type:"element",tagName:"p",properties:{},children:[]},r.unshift(p)),p.children.length>0&&p.children.unshift({type:"text",value:" "}),p.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let a=-1;for(;++a<r.length;){const f=r[a];(i||a!==0||f.type!=="element"||f.tagName!=="p")&&o.push({type:"text",value:`
`}),f.type==="element"&&f.tagName==="p"&&!i?o.push(...f.children):o.push(f)}const l=r[r.length-1];l&&(i||l.type!=="element"||l.tagName!=="p")&&o.push({type:"text",value:`
`});const u={type:"element",tagName:"li",properties:s,children:o};return e.patch(t,u),e.applyData(t,u)}function fce(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=zI(n[r])}return t}function zI(e){const t=e.spread;return t??e.children.length>1}function hce(e,t){const n={},r=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++i<r.length;){const o=r[i];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const s={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,s),e.applyData(t,s)}function pce(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function mce(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function gce(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function yce(e,t){const n=e.all(t),r=n.shift(),i=[];if(r){const o={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],o),i.push(o)}if(n.length>0){const o={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},a=i3(t.children[1]),l=NI(t.children[t.children.length-1]);a&&l&&(o.position={start:a,end:l}),i.push(o)}const s={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,s),e.applyData(t,s)}function vce(e,t,n){const r=n?n.children:void 0,s=(r?r.indexOf(t):1)===0?"th":"td",o=n&&n.type==="table"?n.align:void 0,a=o?o.length:t.children.length;let l=-1;const u=[];for(;++l<a;){const p=t.children[l],g={},y=o?o[l]:void 0;y&&(g.align=y);let b={type:"element",tagName:s,properties:g,children:[]};p&&(b.children=e.all(p),e.patch(p,b),b=e.applyData(p,b)),u.push(b)}const f={type:"element",tagName:"tr",properties:{},children:e.wrap(u,!0)};return e.patch(t,f),e.applyData(t,f)}function xce(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const IE=9,RE=32;function bce(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),i=0;const s=[];for(;r;)s.push(PE(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return s.push(PE(t.slice(i),i>0,!1)),s.join("")}function PE(e,t,n){let r=0,i=e.length;if(t){let s=e.codePointAt(r);for(;s===IE||s===RE;)r++,s=e.codePointAt(r)}if(n){let s=e.codePointAt(i-1);for(;s===IE||s===RE;)i--,s=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function wce(e,t){const n={type:"text",value:bce(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function _ce(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const Sce={blockquote:Jle,break:Zle,code:ece,delete:tce,emphasis:nce,footnoteReference:rce,heading:ice,html:sce,imageReference:oce,image:ace,inlineCode:lce,linkReference:cce,link:uce,listItem:dce,list:hce,paragraph:pce,root:mce,strong:gce,table:yce,tableCell:xce,tableRow:vce,text:wce,thematicBreak:_ce,toml:Og,yaml:Og,definition:Og,footnoteDefinition:Og};function Og(){}const $I=-1,sy=0,Ph=1,t1=2,l3=3,c3=4,u3=5,d3=6,UI=7,HI=8,OE=typeof self=="object"?self:globalThis,Cce=(e,t)=>{const n=(i,s)=>(e.set(s,i),i),r=i=>{if(e.has(i))return e.get(i);const[s,o]=t[i];switch(s){case sy:case $I:return n(o,i);case Ph:{const a=n([],i);for(const l of o)a.push(r(l));return a}case t1:{const a=n({},i);for(const[l,u]of o)a[r(l)]=r(u);return a}case l3:return n(new Date(o),i);case c3:{const{source:a,flags:l}=o;return n(new RegExp(a,l),i)}case u3:{const a=n(new Map,i);for(const[l,u]of o)a.set(r(l),r(u));return a}case d3:{const a=n(new Set,i);for(const l of o)a.add(r(l));return a}case UI:{const{name:a,message:l}=o;return n(new OE[a](l),i)}case HI:return n(BigInt(o),i);case"BigInt":return n(Object(BigInt(o)),i);case"ArrayBuffer":return n(new Uint8Array(o).buffer,o);case"DataView":{const{buffer:a}=new Uint8Array(o);return n(new DataView(a),o)}}return n(new OE[s](o),i)};return r},ME=e=>Cce(new Map,e)(0),nd="",{toString:kce}={},{keys:Ece}=Object,sh=e=>{const t=typeof e;if(t!=="object"||!e)return[sy,t];const n=kce.call(e).slice(8,-1);switch(n){case"Array":return[Ph,nd];case"Object":return[t1,nd];case"Date":return[l3,nd];case"RegExp":return[c3,nd];case"Map":return[u3,nd];case"Set":return[d3,nd];case"DataView":return[Ph,n]}return n.includes("Array")?[Ph,n]:n.includes("Error")?[UI,n]:[t1,n]},Mg=([e,t])=>e===sy&&(t==="function"||t==="symbol"),Tce=(e,t,n,r)=>{const i=(o,a)=>{const l=r.push(o)-1;return n.set(a,l),l},s=o=>{if(n.has(o))return n.get(o);let[a,l]=sh(o);switch(a){case sy:{let f=o;switch(l){case"bigint":a=HI,f=o.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+l);f=null;break;case"undefined":return i([$I],o)}return i([a,f],o)}case Ph:{if(l){let g=o;return l==="DataView"?g=new Uint8Array(o.buffer):l==="ArrayBuffer"&&(g=new Uint8Array(o)),i([l,[...g]],o)}const f=[],p=i([a,f],o);for(const g of o)f.push(s(g));return p}case t1:{if(l)switch(l){case"BigInt":return i([l,o.toString()],o);case"Boolean":case"Number":case"String":return i([l,o.valueOf()],o)}if(t&&"toJSON"in o)return s(o.toJSON());const f=[],p=i([a,f],o);for(const g of Ece(o))(e||!Mg(sh(o[g])))&&f.push([s(g),s(o[g])]);return p}case l3:return i([a,o.toISOString()],o);case c3:{const{source:f,flags:p}=o;return i([a,{source:f,flags:p}],o)}case u3:{const f=[],p=i([a,f],o);for(const[g,y]of o)(e||!(Mg(sh(g))||Mg(sh(y))))&&f.push([s(g),s(y)]);return p}case d3:{const f=[],p=i([a,f],o);for(const g of o)(e||!Mg(sh(g)))&&f.push(s(g));return p}}const{message:u}=o;return i([a,{name:l,message:u}],o)};return s},AE=(e,{json:t,lossy:n}={})=>{const r=[];return Tce(!(t||n),!!t,new Map,r)(e),r},n1=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?ME(AE(e,t)):structuredClone(e):(e,t)=>ME(AE(e,t));function jce(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function Nce(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function Ice(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||jce,r=e.options.footnoteBackLabel||Nce,i=e.options.footnoteLabel||"Footnotes",s=e.options.footnoteLabelTagName||"h2",o=e.options.footnoteLabelProperties||{className:["sr-only"]},a=[];let l=-1;for(;++l<e.footnoteOrder.length;){const u=e.footnoteById.get(e.footnoteOrder[l]);if(!u)continue;const f=e.all(u),p=String(u.identifier).toUpperCase(),g=sf(p.toLowerCase());let y=0;const b=[],_=e.footnoteCounts.get(p);for(;_!==void 0&&++y<=_;){b.length>0&&b.push({type:"text",value:" "});let R=typeof n=="string"?n:n(l,y);typeof R=="string"&&(R={type:"text",value:R}),b.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+g+(y>1?"-"+y:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(l,y),className:["data-footnote-backref"]},children:Array.isArray(R)?R:[R]})}const C=f[f.length-1];if(C&&C.type==="element"&&C.tagName==="p"){const R=C.children[C.children.length-1];R&&R.type==="text"?R.value+=" ":C.children.push({type:"text",value:" "}),C.children.push(...b)}else f.push(...b);const k={type:"element",tagName:"li",properties:{id:t+"fn-"+g},children:e.wrap(f,!0)};e.patch(u,k),a.push(k)}if(a.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:s,properties:{...n1(o),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(a,!0)},{type:"text",value:`
`}]}}const H2={}.hasOwnProperty,Rce={};function Pce(e,t){const n=t||Rce,r=new Map,i=new Map,s=new Map,o={...Sce,...n.handlers},a={all:u,applyData:Mce,definitionById:r,footnoteById:i,footnoteCounts:s,footnoteOrder:[],handlers:o,one:l,options:n,patch:Oce,wrap:Dce};return Y_(e,function(f){if(f.type==="definition"||f.type==="footnoteDefinition"){const p=f.type==="definition"?r:i,g=String(f.identifier).toUpperCase();p.has(g)||p.set(g,f)}}),a;function l(f,p){const g=f.type,y=a.handlers[g];if(H2.call(a.handlers,g)&&y)return y(a,f,p);if(a.options.passThrough&&a.options.passThrough.includes(g)){if("children"in f){const{children:_,...C}=f,k=n1(C);return k.children=a.all(f),k}return n1(f)}return(a.options.unknownHandler||Ace)(a,f,p)}function u(f){const p=[];if("children"in f){const g=f.children;let y=-1;for(;++y<g.length;){const b=a.one(g[y],f);if(b){if(y&&g[y-1].type==="break"&&(!Array.isArray(b)&&b.type==="text"&&(b.value=DE(b.value)),!Array.isArray(b)&&b.type==="element")){const _=b.children[0];_&&_.type==="text"&&(_.value=DE(_.value))}Array.isArray(b)?p.push(...b):p.push(b)}}}return p}}function Oce(e,t){e.position&&(t.position=ele(e))}function Mce(e,t){let n=t;if(e&&e.data){const r=e.data.hName,i=e.data.hChildren,s=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const o="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:o}}n.type==="element"&&s&&Object.assign(n.properties,n1(s)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function Ace(e,t){const n=t.data||{},r="value"in t&&!(H2.call(n,"hProperties")||H2.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function Dce(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function DE(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function LE(e,t){const n=Pce(e,t),r=n.one(e,void 0),i=Ice(n),s=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&s.children.push({type:"text",value:`
`},i),s}function Lce(e,t){return e&&"run"in e?async function(n,r){const i=LE(n,{file:r,...t});await e.run(i,r)}:function(n,r){return LE(n,{file:r,...e||t})}}function FE(e){if(e)throw e}var Yx,BE;function Fce(){if(BE)return Yx;BE=1;var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,i=function(u){return typeof Array.isArray=="function"?Array.isArray(u):t.call(u)==="[object Array]"},s=function(u){if(!u||t.call(u)!=="[object Object]")return!1;var f=e.call(u,"constructor"),p=u.constructor&&u.constructor.prototype&&e.call(u.constructor.prototype,"isPrototypeOf");if(u.constructor&&!f&&!p)return!1;var g;for(g in u);return typeof g>"u"||e.call(u,g)},o=function(u,f){n&&f.name==="__proto__"?n(u,f.name,{enumerable:!0,configurable:!0,value:f.newValue,writable:!0}):u[f.name]=f.newValue},a=function(u,f){if(f==="__proto__")if(e.call(u,f)){if(r)return r(u,f).value}else return;return u[f]};return Yx=function l(){var u,f,p,g,y,b,_=arguments[0],C=1,k=arguments.length,R=!1;for(typeof _=="boolean"&&(R=_,_=arguments[1]||{},C=2),(_==null||typeof _!="object"&&typeof _!="function")&&(_={});C<k;++C)if(u=arguments[C],u!=null)for(f in u)p=a(_,f),g=a(u,f),_!==g&&(R&&g&&(s(g)||(y=i(g)))?(y?(y=!1,b=p&&i(p)?p:[]):b=p&&s(p)?p:{},o(_,{name:f,newValue:l(R,b,g)})):typeof g<"u"&&o(_,{name:f,newValue:g}));return _},Yx}var Bce=Fce();const Xx=Di(Bce);function W2(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function zce(){const e=[],t={run:n,use:r};return t;function n(...i){let s=-1;const o=i.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);a(null,...i);function a(l,...u){const f=e[++s];let p=-1;if(l){o(l);return}for(;++p<i.length;)(u[p]===null||u[p]===void 0)&&(u[p]=i[p]);i=u,f?$ce(f,a)(...u):o(null,...u)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function $ce(e,t){let n;return r;function r(...o){const a=e.length>o.length;let l;a&&o.push(i);try{l=e.apply(this,o)}catch(u){const f=u;if(a&&n)throw f;return i(f)}a||(l&&l.then&&typeof l.then=="function"?l.then(s,i):l instanceof Error?i(l):s(l))}function i(o,...a){n||(n=!0,t(o,...a))}function s(o){i(null,o)}}const ho={basename:Uce,dirname:Hce,extname:Wce,join:qce,sep:"/"};function Uce(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');Dp(e);let n=0,r=-1,i=e.length,s;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(s){n=i+1;break}}else r<0&&(s=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let o=-1,a=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(s){n=i+1;break}}else o<0&&(s=!0,o=i+1),a>-1&&(e.codePointAt(i)===t.codePointAt(a--)?a<0&&(r=i):(a=-1,r=o));return n===r?r=o:r<0&&(r=e.length),e.slice(n,r)}function Hce(e){if(Dp(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function Wce(e){Dp(e);let t=e.length,n=-1,r=0,i=-1,s=0,o;for(;t--;){const a=e.codePointAt(t);if(a===47){if(o){r=t+1;break}continue}n<0&&(o=!0,n=t+1),a===46?i<0?i=t:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||n<0||s===0||s===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function qce(...e){let t=-1,n;for(;++t<e.length;)Dp(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":Vce(n)}function Vce(e){Dp(e);const t=e.codePointAt(0)===47;let n=Qce(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function Qce(e,t){let n="",r=0,i=-1,s=0,o=-1,a,l;for(;++o<=e.length;){if(o<e.length)a=e.codePointAt(o);else{if(a===47)break;a=47}if(a===47){if(!(i===o-1||s===1))if(i!==o-1&&s===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),i=o,s=0;continue}}else if(n.length>0){n="",r=0,i=o,s=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,o):n=e.slice(i+1,o),r=o-i-1;i=o,s=0}else a===46&&s>-1?s++:s=-1}return n}function Dp(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const Kce={cwd:Gce};function Gce(){return"/"}function q2(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function Yce(e){if(typeof e=="string")e=new URL(e);else if(!q2(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return Xce(e)}function Xce(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const Jx=["history","path","basename","stem","extname","dirname"];class WI{constructor(t){let n;t?q2(t)?n={path:t}:typeof t=="string"||Jce(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":Kce.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<Jx.length;){const s=Jx[r];s in n&&n[s]!==void 0&&n[s]!==null&&(this[s]=s==="history"?[...n[s]]:n[s])}let i;for(i in n)Jx.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?ho.basename(this.path):void 0}set basename(t){eb(t,"basename"),Zx(t,"basename"),this.path=ho.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?ho.dirname(this.path):void 0}set dirname(t){zE(this.basename,"dirname"),this.path=ho.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?ho.extname(this.path):void 0}set extname(t){if(Zx(t,"extname"),zE(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=ho.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){q2(t)&&(t=Yce(t)),eb(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?ho.basename(this.path,this.extname):void 0}set stem(t){eb(t,"stem"),Zx(t,"stem"),this.path=ho.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=void 0,i}message(t,n,r){const i=new Zr(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function Zx(e,t){if(e&&e.includes(ho.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+ho.sep+"`")}function eb(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function zE(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function Jce(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const Zce=function(e){const r=this.constructor.prototype,i=r[e],s=function(){return i.apply(s,arguments)};return Object.setPrototypeOf(s,r),s},eue={}.hasOwnProperty;class f3 extends Zce{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=zce()}copy(){const t=new f3;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(Xx(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(rb("data",this.frozen),this.namespace[t]=n,this):eue.call(this.namespace,t)&&this.namespace[t]||void 0:t?(rb("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(t,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=Ag(t),r=this.parser||this.Parser;return tb("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),tb("process",this.parser||this.Parser),nb("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(s,o){const a=Ag(t),l=r.parse(a);r.run(l,a,function(f,p,g){if(f||!p||!g)return u(f);const y=p,b=r.stringify(y,g);rue(b)?g.value=b:g.result=b,u(f,g)});function u(f,p){f||!p?o(f):s?s(p):n(void 0,p)}}}processSync(t){let n=!1,r;return this.freeze(),tb("processSync",this.parser||this.Parser),nb("processSync",this.compiler||this.Compiler),this.process(t,i),UE("processSync","process",n),r;function i(s,o){n=!0,FE(s),r=o}}run(t,n,r){$E(t),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?s(void 0,r):new Promise(s);function s(o,a){const l=Ag(n);i.run(t,l,u);function u(f,p,g){const y=p||t;f?a(f):o?o(y):r(void 0,y,g)}}}runSync(t,n){let r=!1,i;return this.run(t,n,s),UE("runSync","run",r),i;function s(o,a){FE(o),i=a,r=!0}}stringify(t,n){this.freeze();const r=Ag(n),i=this.compiler||this.Compiler;return nb("stringify",i),$E(t),i(t,r)}use(t,...n){const r=this.attachers,i=this.namespace;if(rb("use",this.frozen),t!=null)if(typeof t=="function")l(t,n);else if(typeof t=="object")Array.isArray(t)?a(t):o(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function s(u){if(typeof u=="function")l(u,[]);else if(typeof u=="object")if(Array.isArray(u)){const[f,...p]=u;l(f,p)}else o(u);else throw new TypeError("Expected usable value, not `"+u+"`")}function o(u){if(!("plugins"in u)&&!("settings"in u))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");a(u.plugins),u.settings&&(i.settings=Xx(!0,i.settings,u.settings))}function a(u){let f=-1;if(u!=null)if(Array.isArray(u))for(;++f<u.length;){const p=u[f];s(p)}else throw new TypeError("Expected a list of plugins, not `"+u+"`")}function l(u,f){let p=-1,g=-1;for(;++p<r.length;)if(r[p][0]===u){g=p;break}if(g===-1)r.push([u,...f]);else if(f.length>0){let[y,...b]=f;const _=r[g][1];W2(_)&&W2(y)&&(y=Xx(!0,_,y)),r[g]=[u,y,...b]}}}}const tue=new f3().freeze();function tb(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function nb(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function rb(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function $E(e){if(!W2(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function UE(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function Ag(e){return nue(e)?e:new WI(e)}function nue(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function rue(e){return typeof e=="string"||iue(e)}function iue(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const sue="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",HE=[],WE={allowDangerousHtml:!0},oue=/^(https?|ircs?|mailto|xmpp)$/i,aue=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function lue(e){const t=cue(e),n=uue(e);return due(t.runSync(t.parse(n),n),e)}function cue(e){const t=e.rehypePlugins||HE,n=e.remarkPlugins||HE,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...WE}:WE;return tue().use(Xle).use(n).use(Lce,r).use(t)}function uue(e){const t=e.children||"",n=new WI;return typeof t=="string"&&(n.value=t),n}function due(e,t){const n=t.allowedElements,r=t.allowElement,i=t.components,s=t.disallowedElements,o=t.skipHtml,a=t.unwrapDisallowed,l=t.urlTransform||fue;for(const f of aue)Object.hasOwn(t,f.from)&&(""+f.from+(f.to?"use `"+f.to+"` instead":"remove it")+sue+f.id,void 0);return Y_(e,u),sle(e,{Fragment:h.Fragment,components:i,ignoreInvalidStyle:!0,jsx:h.jsx,jsxs:h.jsxs,passKeys:!0,passNode:!0});function u(f,p,g){if(f.type==="raw"&&g&&typeof p=="number")return o?g.children.splice(p,1):g.children[p]={type:"text",value:f.value},p;if(f.type==="element"){let y;for(y in Gx)if(Object.hasOwn(Gx,y)&&Object.hasOwn(f.properties,y)){const b=f.properties[y],_=Gx[y];(_===null||_.includes(f.tagName))&&(f.properties[y]=l(String(b||""),y,f))}}if(f.type==="element"){let y=n?!n.includes(f.tagName):s?s.includes(f.tagName):!1;if(!y&&r&&typeof p=="number"&&(y=!r(f,p,g)),y&&g&&typeof p=="number")return a&&f.children?g.children.splice(p,1,...f.children):g.children.splice(p,1),p}}}function fue(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),i=e.indexOf("/");return t===-1||i!==-1&&t>i||n!==-1&&t>n||r!==-1&&t>r||oue.test(e.slice(0,t))?e:""}function hue(){return Js({queryKey:["faq"],queryFn:pue,staleTime:1/0,select:e=>e.faq.map((t,n)=>({...t,id:n}))})}const pue=async()=>await n_("/faq.json"),V2=e=>I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:14,height:16,viewBox:"0 0 14 16",...e},I.createElement("defs",null,I.createElement("clipPath",{id:"master_svg0_137_3346"},I.createElement("rect",{x:0,y:0,width:14,height:16,rx:0}))),I.createElement("g",{clipPath:"url(#master_svg0_137_3346)"},I.createElement("g",{transform:"matrix(1,0,0,-1,0,26.6875)"},I.createElement("g",null,I.createElement("path",{d:"M6.28125,13.625Q6.59375,13.34375,7,13.34375Q7.40625,13.34375,7.71875,13.625L13.7188,19.625Q14,19.9375,14,20.34375Q14,20.75,13.7188,21.0625Q13.4062,21.34375,13,21.34375Q12.5938,21.34375,12.2812,21.0625L7,15.75L1.71875,21.0625Q1.40625,21.34375,1,21.34375Q0.59375,21.34375,0.28125,21.0625Q0,20.75,0,20.34375Q0,19.9375,0.28125,19.625L6.28125,13.625Z",fill:"#9CA3AF",fillOpacity:1,style:{mixBlendMode:"passthrough"}}))))),mue={h2:e=>h.jsx("h2",{...e,className:"text-lg font-bold my-4"}),h3:e=>h.jsx("h3",{...e,className:"text-base font-bold my-4"}),a:e=>h.jsx("a",{...e,className:"text-blue-500 underline"})},gue={all:"",timetable:"",wishes:"",simulation:"",live:""};function yue(e){return Array.from(new Set(e))}function vue(){const e=_o(),t=e.hash,n=t?parseInt(t.replace("#","")):null,[r,i]=I.useState(n),{data:s}=hue(),[o,a]=I.useState(null),l=yue(s?.map(g=>g.tag)??[]),u=o?s?.filter(g=>g.tag===o):s,f=g=>{i(r===g?null:g)};I.useEffect(()=>{if(e.hash){const g=parseInt(e.hash.replace("#",""));setTimeout(()=>{const y=document.getElementById("faq-container-"+g);y&&(y.scrollIntoView({behavior:"smooth"}),i(g))},300)}},[e.hash]);const p=g=>{a(y=>y===g?null:g)};return h.jsxs(h.Fragment,{children:[h.jsx(xr,{children:h.jsx("title",{children:"ALLCLL |   "})}),h.jsxs("div",{className:"mx-auto max-w-7xl px-4 md:px-16 py-24",children:[h.jsx("h1",{className:"text-3xl font-bold mb-6",children:"  "}),h.jsx("div",{className:"flex flex-wrap gap-2 mb-6",children:l.length>0&&l.map((g,y)=>h.jsx(Ir,{label:gue[g]||g,onClick:()=>p(g),selected:o===g},"faq-chip-"+y))}),u&&u.map(g=>h.jsx(xue,{item:g,index:g.id,isOpen:r===g.id,toggleAnswer:f},g.id))]})]})}function xue({item:e,index:t,isOpen:n,toggleAnswer:r}){return h.jsxs("div",{id:"faq-container-"+t,className:"mb-4 rounded-md bg-white shadow-sm",children:[h.jsxs("button",{onClick:()=>r(t),className:"flex items-center justify-between rounded-md w-full text-left font-semibold text-md p-4 hover:bg-blue-50 focus:outline-none cursor-pointer "+(n?"text-blue-600 font-bold":""),children:[e.question,h.jsx(V2,{className:"w-4 h-4 transform transition-transform duration-150 "+(n?"rotate-180":"")})]}),n&&h.jsx("div",{className:"p-4 border-t border-gray-200 text-sm",children:h.jsx(lue,{remarkPlugins:[Iae],components:mue,children:e.answer})})]},t)}function bue(){const[e,t]=I.useState(!1),[n,r]=I.useState(!1),i=mh(B=>B.filters),s=mh(B=>B.setFilter),o=mh(B=>B.resetFilters),{keywords:a,department:l,favoriteOnly:u}=i,f=b2(B=>B.tableTitles),p=b2(B=>B.setTableTitles),g=Tl(),[y,b]=I.useState(!1),{data:_}=DN([]),C=Rp(_??[]).sort((B,U)=>B.localeCompare(U)).map(B=>B),k=z_(i),R=_&&"seat"in _,{isPreSeatAvailable:O}=ey({hasSeats:R}),$=_&&"totalCount"in _,z=()=>s("favoriteOnly",!u),j=()=>{g?b(!0):r(!0)},A=(B,U)=>{const D=i[B];Array.isArray(D)?s(B,D.filter(Z=>Z!==U)):s(B,gl[B])};return h.jsxs("div",{className:"flex flex-wrap gap-2 mt-4 lg:flex-wrap lg:flex-row lg:items-center lg:gap-y-0 lg:gap-x-2",children:[e&&h.jsx(wue,{initialItems:f,onChange:p,onClose:()=>t(!1)}),n&&h.jsx(K_,{filterStore:mh,onClose:()=>r(!1)}),y&&h.jsx(W_,{onCloseFiltering:()=>b(!1),filters:i,setFilter:s,resetFilter:o}),h.jsx(Jc,{type:"text",className:"pl-10 pr-6 py-2 rounded-md w-full bg-white border border-gray-400 text-[16px] placeholder:text-sm",placeholder:",      ",value:a,onDelete:()=>s("keywords",""),onChange:B=>s("keywords",B.target.value)}),h.jsxs("div",{className:"flex items-center flex-wrap mt-2 gap-2",children:[h.jsxs("div",{className:"hidden md:flex flex-wrap gap-2",children:[h.jsx(V_,{department:l,setFilter:s}),$&&h.jsx(Ld,{filterKey:"wishRange",options:Rn.wishRange,selectedValue:i.wishRange??null,setFilter:s,ItemComponent:Ir,isMinMax:!0}),O&&h.jsx(Ld,{filterKey:"seatRange",options:Rn.seatRange,selectedValue:i.seatRange??null,setFilter:s,ItemComponent:Ir,isMinMax:!0}),h.jsx(Gn,{filterKey:"days",options:Rn.days,selectedValues:i.days??[],setFilter:s}),h.jsx(Gn,{filterKey:"credits",options:Rn.credits,selectedValues:i.credits??[],setFilter:s}),h.jsx(Gn,{filterKey:"grades",options:Rn.grades,selectedValues:i.grades??[],setFilter:s}),i.classroom.length>0&&h.jsx(Gn,{filterKey:"classroom",options:Rn.classRoom,selectedValues:i.classroom??[],setFilter:s,className:"min-w-max"}),i.note.length>0&&h.jsx(Gn,{filterKey:"note",options:Rn.remark,selectedValues:i.note??[],setFilter:s}),i.categories.length>0&&h.jsx(Gn,{filterKey:"categories",options:C,selectedValues:i.categories??[],setFilter:s,className:"min-w-max"})]}),h.jsx(Q_,{filters:i,resetFilter:o}),h.jsx(q_,{handleOpenFilter:j}),h.jsx("button",{className:"p-2 rounded-md flex gap-2 items-center border border-gray-400 bg-white hover:bg-gray-100",onClick:z,"aria-label":u?"  ":"  ",title:u?"  ":"  ",children:h.jsx(PN,{disabled:!u})}),h.jsx("button",{className:"p-2 rounded-md flex gap-2 items-center border border-gray-400 bg-white hover:bg-gray-100","aria-label":" ",title:" ",onClick:()=>t(!0),children:h.jsx(j_,{className:"w-4 h-4 text-gray-600 hover:text-blue-500 transition-colors"})}),h.jsx("div",{className:"flex flex-wrap gap-2 w-fit md:hidden",children:k.map(B=>h.jsx(Ir,{chipType:"cancel",label:B.label,selected:!0,onClick:()=>A(B.filterKey,B.values)},`${B.filterKey}-${B.values}`))})]})]})}function wue({initialItems:e,onChange:t,onClose:n}){return P_({enabled:!0,onClose:n}),h.jsxs(kl,{onClose:n,children:[h.jsx(Zd,{title:" ",onClose:n}),h.jsx("div",{className:"p-4",children:h.jsx(eN,{initialItems:e,onChange:t})})]})}function _ue(){const e=ep(t=>t.setIsSearchOpen);return h.jsxs(h.Fragment,{children:[h.jsx(xr,{children:h.jsx("title",{children:"ALLCLL |  "})}),h.jsx("div",{className:"mx-auto max-w-7xl px-4 md:px-16 mb-8 min-h-screen",children:h.jsxs("div",{className:"py-5 px-2",children:[h.jsx("h1",{className:"text-xl font-bold",children:" "}),h.jsxs("p",{className:"text-xs font-bold text-gray-500 mb-4",children:["  ",h.jsx("span",{className:"text-blue-500 font-bold",children:" "})," .   ."]}),h.jsxs(Jd,{children:[h.jsxs(Uc,{to:"/live",onClick:()=>e(!0),state:{openSearch:!0},className:"inline-flex items-center gap-2 rounded-md border border-blue-500 px-3 py-2 text-sm font-medium text-blue-500 hover:bg-blue-50",children:[h.jsx(Xd,{}),""]}),h.jsx(bue,{}),h.jsx(I_,{})]}),h.jsx(Sue,{}),h.jsx(LN,{right:"right-2 sm:right-20"})]})})]})}function Sue(){const{data:e,isPending:t}=pa(),n=jp(G1(e,ef)),r=mh(s=>s.filters),i=I.useDeferredValue(nf(n??[],r));return h.jsx("div",{className:"bg-white mt-6 shadow-md rounded-lg overflow-x-auto",children:h.jsx(MN,{data:i,isPending:t})})}function Cue({children:e}){return h.jsxs("div",{className:"relative max-h-screen overflow-hidden",children:[h.jsx("div",{style:{filter:"blur(4px"},children:e}),h.jsx("div",{className:"absolute top-0 left-0 w-full h-full flex justify-center items-center",children:h.jsx("p",{className:"text-xl font-bold text-gray-700",children:"  "})})]})}ha.register(__,Yd,Gd,Sp,Cp,kp);var qI=(e=>(e.MAJOR="/",e.UNIVERSITY="",e.DEPARTMENT="",e.COLLEGE="",e))(qI||{});function kue({data:e,majorName:t}){const[n,r]=I.useState("/"),{data:i}=Yc(),s=AJ(i),{doughnutData:o,totalCount:a}=Eue(e,s,t,n);return h.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("h2",{className:"text-lg font-semibold",children:" "}),h.jsx("label",{className:"hidden",htmlFor:"doughnut-select",children:""}),h.jsx("select",{className:"border px-3 py-1 rounded-md",id:"doughnut-select",value:n,onChange:l=>r(l.target.value),children:Object.values(qI).map(l=>h.jsx("option",{value:l,children:l},l))})]}),a?h.jsx($j,{data:o}):h.jsx("div",{className:"flex justify-center items-center h-48",children:h.jsx("p",{className:"text-center text-gray-500 font-semibold",children:"   ."})})]})}function Eue(e,t,n,r){let i;const{universityDict:s,collegeDict:o}=t;switch(r){case"/":i=FJ(n,e);break;case"":i=BJ(e,s);break;case"":i=zJ(e,o);break;case"":i=fk(e);break;default:i=fk(e);break}const a=$J(e);return{doughnutData:i,totalCount:a}}function Tue(e){const{data:t}=pa(),n=G1(t,ef);if(!n)return{isPending:!0};const r=n?.find(i=>i.subjectId===Number(e));return{isPending:!1,data:r,isLastSemesterWish:!r}}function jue(e,t=[]){const{data:n}=pa(),r=G1(n,ef);return r?{isPending:!1,data:r.filter(s=>s.subjectCode===e&&!t.includes(s.subjectId))}:{isPending:!0}}class h3 extends RangeError{constructor(t){super(t),this.name="ParamsInvalidError"}}class Nue extends Error{constructor(t){super(t),this.name="NotFoundError"}}function Iue(e){return Js({queryKey:["detail-registers",e],queryFn:()=>Rue(e),staleTime:1/0,retry:Pue})}const Rue=async e=>{const t=await E1(`/api/baskets/${e}`);if(!t.ok){const n=await t.text(),r=Oue(n);throw r?.status==="400 BAD_REQUEST"?new h3(r.code):new Error(await t.text())}return t.json()},Pue=(e,t)=>e>=3?!1:!(t instanceof h3),Oue=e=>{try{return JSON.parse(e)}catch{return null}};ha.register(__,Yd,Gd,Sp,Cp,kp);const Mue={labels:["4","3","2","1"],datasets:[{data:[50,40,25,20],backgroundColor:"#60a5fa"}]};function Aue(){const e=O7(),{data:t,isPending:n,isLastSemesterWish:r}=Tue(e.id??"-1"),{data:i,error:s}=Iue(e.id??"-1"),{data:o}=jue(t?.subjectCode??"",t?.subjectId?[t.subjectId]:[]),a=t&&"seat"in t,{isPreSeatAvailable:l}=ey({hasSeats:a}),u=t&&"totalCount"in t,f=a?t.seat:-1,p=t??ef,g=t?.curiLangNm==="",y=t?.isDeleted??!1;if(n||!p)return h.jsxs(h.Fragment,{children:[h.jsx(xr,{children:h.jsx("title",{children:"ALLCLL |   "})}),h.jsx("div",{className:"min-h-screen bg-gray-50 flex justify-center items-center",children:h.jsx("h1",{className:"text-2xl font-bold",children:"Loading..."})})]});if(s)throw s;return h.jsxs(h.Fragment,{children:[h.jsx(xr,{children:h.jsx("title",{children:"ALLCLL |   "})}),r&&h.jsx("p",{className:"bg-red-100 text-red-500 py-2 px-4 font-bold",children:"   .   ."}),h.jsx("div",{className:"min-h-screen bg-gray-50",children:h.jsx("div",{className:"p-6 max-w-5xl mx-auto",children:h.jsxs(Jd,{children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("h1",{className:"text-2xl font-bold",children:p.subjectName}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(ON,{subject:p,className:"p-2 border rounded border-gray-300 hover:bg-gray-100"}),h.jsx(EN,{subject:p,className:"p-2 border rounded border-gray-300 hover:bg-gray-100"})]})]}),h.jsxs("p",{className:"text-gray-600",children:[p.subjectCode,"-",p.classCode," | ",p.departmentName," | ",p.professorName]}),h.jsxs("div",{className:"flex items-center gap-2 flex-wrap text-gray-600",children:[h.jsxs("span",{children:[p.studentYear,""]}),h.jsx("span",{children:p.curiTypeCdNm}),h.jsxs("span",{children:[Number(p.tmNum.split("/")[0].trim()),""]}),h.jsxs("span",{children:[" ","| ",p.lesnRoom," | ",p.lesnTime]}),l&&h.jsxs("p",{className:`text-sm px-2 py-1 rounded-full font-bold ${Xc(f)}`,children:[": ",f<0?"???":f]}),g&&h.jsx("span",{className:"bg-green-100 rounded px-2 py-1 text-green-500 text-xs font-semibold",children:""}),y&&h.jsx("span",{className:"bg-red-100 rounded px-2 py-1 text-red-500 text-xs font-semibold",children:""})]}),h.jsx("p",{className:"text-sm text-gray-500",children:p.remark}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-6",children:[h.jsx(kue,{data:i?.eachDepartmentRegisters??[],majorName:p.departmentName??p.manageDeptNm}),h.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[h.jsxs("div",{className:"flex justify-between items-center mb-4",children:[h.jsx("h2",{className:"text-lg font-semibold",children:"  "}),u&&h.jsxs("p",{className:`${Yj(p.totalCount??-1)} font-bold text-xl`,children:[" ",p.totalCount,""]})]}),h.jsxs(Cue,{children:[h.jsx("p",{className:"text-sm text-gray-500",children:"   20%      "}),h.jsx("div",{className:"mt-4",children:h.jsx(lJ,{data:Mue})})]})]})]}),h.jsxs("div",{className:"mt-6 bg-white p-6 rounded-lg shadow-md",children:[h.jsx("h2",{className:"text-lg font-semibold",children:" "}),h.jsx("p",{className:"text-gray-500 text-sm mb-4",children:"   "}),h.jsx("div",{className:"overflow-x-auto",children:h.jsx(MN,{data:o??[]})})]})]})})})]})}const gh=()=>{const e=sw();return I.useEffect(()=>{kw(e,{extra:{url:window.location.href,userAgent:navigator.userAgent}})},[e]),h.jsxs(h.Fragment,{children:[h.jsx(xr,{children:h.jsx("title",{children:"ALLCLL |  "})}),h.jsxs("div",{className:"flex flex-col items-center justify-center h-screen",children:[h.jsx("h1",{className:"text-4xl font-bold mb-4",children:" "}),h.jsx("p",{className:"text-lg mb-4",children:" .    "}),h.jsx(hi,{to:"/",className:"text-blue-500",children:" "}),h.jsx("a",{href:"https://forms.gle/bCDTVujEHunnvHe88",target:"_blank",className:"text-blue-500",children:""})]})]})},VI=()=>h.jsxs(h.Fragment,{children:[h.jsx(xr,{children:h.jsx("title",{children:"ALLCLL |    "})}),h.jsxs("div",{className:"flex flex-col items-center justify-center h-screen",children:[h.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404 -    "}),h.jsx("p",{className:"text-lg mb-4",children:"   "}),h.jsx(hi,{to:"/",className:"text-blue-500",children:" "})]})]}),Due=()=>{const e=sw();return e instanceof h3||e instanceof Nue?h.jsx(VI,{}):h.jsx(gh,{})},Lr=Fr((e,t)=>({type:null,props:void 0,openModal:(n,r)=>{e({type:n,props:r})},closeModal:n=>{const r=t().type;(!n||r===n)&&e({type:null,props:void 0})}}));function tu(){const{data:e,isLoading:t}=Cs(),{data:n,isLoading:r}=Yc(),i=t||r;return i||!e||!n?{data:[],isLoading:i}:{data:Lue(e,n),isLoading:!1}}function Lue(e,t){return e.map(n=>{const r=t.find(s=>s.departmentCode===n.deptCd)?.departmentName||"",i=r?r.split(" ").reverse()[0]:"";return{subjectId:n.subjectId??-1,subjectCode:n.subjectCode??"",classCode:n.classCode??"",departmentName:i,subjectName:n.subjectName??"",language:n.curiLangNm??"",subjectType:n.curiTypeCdNm??"",semester_at:n.studentYear?Number(n.studentYear):-1,lesn_time:n.lesnTime??"",professorName:n.professorName??"",lesn_room:n.lesnRoom??"",tm_num:n.tmNum??""}})}function Fue(){return Math.floor(1e3+Math.random()*9e3).toString()}const Bue=4;function zue(){const e=I.useRef(null),[t,n]=I.useState(),[r,i]=I.useState(""),s=I.useRef(""),{data:o}=tu(),a=Lr(C=>C.openModal),l=Lr(C=>C.closeModal),{currentSubjectId:u,setSubjectStatus:f,setCaptchaFailed:p}=H1();function g(){const C=Fue();s.current=C,setTimeout(()=>{e.current&&y2(e.current,C)},100)}function y(C){let k=C.target.value;if(/[^0-9]/.test(k)){i("0~9  "),n(k.replace(/[^0-9]/g,""));return}k.length<=Bue?(n(k),i("")):i("4  ")}I.useEffect(()=>{setTimeout(()=>{g()},100)},[]);function b(){Zo({eventType:ar.CAPTCHA,subjectId:u},o).then(()=>{t?.toString()===s.current?(f(u,un.PROGRESS),p(!1)):(f(u,un.PROGRESS),p(!0))}).then(()=>{l(),a("simulation")})}function _(){Zo({eventType:ar.CANCEL_SUBMIT,subjectId:u},o).then(()=>{l("captcha"),p(!1),f(u,un.PROGRESS)})}return h.jsx(lr.Modal,{onClose:()=>{},preventAutoFocus:!0,children:h.jsxs("div",{className:"sm:w-[500px] bg-white rounded shadow",children:[h.jsx(lr.Modal.Header,{title:"  (Arti-marco code input)",onClose:_}),h.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-4 p-4",children:[h.jsxs("div",{className:"flex flex-col",children:[h.jsxs("div",{className:"text-sm font-semibold flex flex-row items-center",children:[h.jsx("span",{className:"inline-block w-1.5 h-5 bg-blue-500 mr-2 "})," ",h.jsx("button",{onClick:g,className:"ml-2 px-2 py-1 bg-blue-500 text-white text-sm rounded-xs cursor-pointer hover:bg-blue-600",children:""})]}),h.jsx("div",{className:"flex items-center mt-1",children:h.jsx("canvas",{id:"captcha",width:"105",height:"50",ref:e})})]}),h.jsxs("div",{children:[h.jsxs("div",{className:"text-sm font-semibold flex flex-row items-center",children:[h.jsx("span",{className:"inline-block w-1.5 h-5 bg-blue-500 mr-2 "}),"  "]}),h.jsx(lr.Input,{value:t,onChange:C=>y(C),className:"mt-2 w-full",placeholder:" ",essential:!0}),h.jsx("span",{className:"pl-1 text-xs text-red-500 ",children:r})]})]}),h.jsx("p",{className:"text-sm text-gray-800 mt-10 p-4",children:"               ."}),h.jsxs(lr.Modal.ButtonContainer,{className:"border-t px-6 py-4 bg-gray-100",children:[h.jsx(lr.Modal.Button,{variant:"cancel",onClick:b,children:""}),h.jsx(lr.Modal.Button,{variant:"cancel",onClick:_,children:""})]})]})})}const $ue=e=>I.createElement("svg",{width:50,height:50,viewBox:"0 0 50 50",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},I.createElement("circle",{cx:25,cy:25,r:25,fill:"#7890CE"}),I.createElement("path",{d:"M20.2339 29.5078L35.0317 17.4276C35.3809 17.1425 35.7883 17 36.2539 17C36.7196 17 37.127 17.1425 37.4762 17.4276C37.8254 17.7127 38 18.0515 38 18.4439C38 18.8364 37.8254 19.1747 37.4762 19.4588L21.4562 32.5724C21.107 32.8575 20.6995 33 20.2339 33C19.7683 33 19.3609 32.8575 19.0117 32.5724L11.5037 26.4432C11.1545 26.1581 10.9868 25.8198 11.0008 25.4283C11.0148 25.0368 11.1969 24.6981 11.5473 24.412C11.8977 24.126 12.3127 23.9835 12.7923 23.9844C13.2718 23.9854 13.6862 24.1279 14.0354 24.412L20.2339 29.5078Z",fill:"white"})),qE={simulationId:-1,registeredSubjects:[],nonRegisteredSubjects:[],simulationStatus:"before",clickedTime:0},Ss=Fr(e=>({currentSimulation:qE,setCurrentSimulation:t=>e(n=>({currentSimulation:{...n.currentSimulation,...t}})),resetSimulation:()=>e({currentSimulation:qE})})),Uue=[{status:un.PROGRESS,topMessage:"   ?",description:"(CourseTitle):"},{status:un.SUCCESS,topMessage:"  .   ?",description:"    []  .         []      . []     ."},{status:un.FAILED,topMessage:"  !"},{status:un.DOUBLED,topMessage:"   !"},{status:un.CAPTCHA_FAILED,topMessage:"   "},{status:un.NOT_ELIGIBLE,topMessage:"   "}],Hue=[un.PROGRESS,un.SUCCESS,un.FAILED,un.CAPTCHA_FAILED];function Wue({reloadSimulationStatus:e}){const t=Lr(j=>j.openModal),n=Lr(j=>j.closeModal),{currentSubjectId:r,setSubjectStatus:i,subjectStatusMap:s}=H1(),o=Ss(j=>j.setCurrentSimulation),{data:a}=tu(),l=s[r],u=Uue.find(j=>j.status===l),f=u?.status??un.PROGRESS,p=[un.FAILED,un.DOUBLED,un.CAPTCHA_FAILED].includes(f),g=Hue.includes(f),y=I.useRef(null);if(!u)return null;y.current?.focus();const b=(j,A=!1)=>{if("errMsg"in j)throw alert(j.errMsg),A&&Ic().then(()=>{t("result")}),new Error(j.errMsg)},_=j=>{console.error(" :",j),alert(" :"+j.toString())},C=async j=>{const A=await Zo({eventType:ar.SUBJECT_SUBMIT,subjectId:j},a);b(A),i(j,A.status),t("simulation")},k=async j=>{const A=await Zo({eventType:ar.REFRESH,subjectId:j},a);b(A),e(),A.finished&&(o({simulationStatus:"finish"}),console.log(" "),t("result"))},R=async j=>{try{const A=await Zo({eventType:ar.SKIP_REFRESH,subjectId:j},a);"errMsg"in A?(alert(A.errMsg),await Ic(),o({simulationStatus:"finish"}),t("result")):A.finished&&(o({simulationStatus:"finish"}),t("result"))}catch(A){console.error(A)}finally{n("simulation")}},O=async()=>{try{u.status===un.PROGRESS?await C(r):u?.status===un.SUCCESS?await k(r):p&&await R(r)}catch(j){_(j)}},$=async()=>{try{if(u?.status===un.SUCCESS){const j=await Zo({eventType:ar.SKIP_REFRESH,subjectId:r},a);"errMsg"in j?(alert(j.errMsg),await Ic(),o({simulationStatus:"finish"}),t("result")):j.finished?(o({simulationStatus:"finish"}),t("result")):n("simulation")}else if(u?.status===un.PROGRESS){const j=await Zo({eventType:ar.CANCEL_SUBMIT,subjectId:r},a);b(j,!0)}}catch(j){_(j)}},z=()=>{g||n("simulation")};return h.jsx(lr.Modal,{onClose:()=>{},children:h.jsxs("div",{className:"flex sm:w-[450px] border-1 border-gray-800 flex-col justify-between overflow-hidden",children:[h.jsx(lr.Modal.Header,{title:"",onClose:z}),h.jsxs("div",{className:"px-6 pb-6 text-center ",children:[h.jsx("div",{className:"flex justify-center mb-4 py-5",children:h.jsx("div",{className:"w-10 h-10",children:h.jsx($ue,{})})}),h.jsx("p",{className:"text-gray-700 text-base mb-4",children:u.topMessage}),u.description&&h.jsx("p",{className:"text-sm text-gray-700 whitespace-pre-line",children:u.description})]}),h.jsxs(lr.Modal.ButtonContainer,{className:"px-6 py-4 bg-gray-100",children:[u.status===un.PROGRESS||u.status===un.SUCCESS&&h.jsx(lr.Modal.Button,{variant:"cancel",onClick:$,children:""}),h.jsx(lr.Modal.Button,{variant:"primary",onClick:O,children:""})]})]})})}function que(e,t,n){var r,i;typeof e=="function"?(r=t||[],i=n):(r=[],i=t);var s=wn.useRef({hasResult:!1,result:i,error:null}),o=wn.useReducer(function(u){return u+1},0);o[0];var a=o[1],l=wn.useMemo(function(){var u=typeof e=="function"?e():e;if(!u||typeof u.subscribe!="function")throw e===u?new TypeError("Given argument to useObservable() was neither a valid observable nor a function."):new TypeError("Observable factory given to useObservable() did not return a valid observable.");if(!s.current.hasResult&&typeof window<"u"&&(typeof u.hasValue!="function"||u.hasValue()))if(typeof u.getValue=="function")s.current.result=u.getValue(),s.current.hasResult=!0;else{var f=u.subscribe(function(p){s.current.result=p,s.current.hasResult=!0});typeof f=="function"?f():f.unsubscribe()}return u},r);if(wn.useDebugValue(s.current.result),wn.useEffect(function(){var u=l.subscribe(function(f){var p=s.current;(p.error!==null||p.result!==f)&&(p.error=null,p.result=f,p.hasResult=!0,a())},function(f){var p=s.current;p.error!==f&&(p.error=f,a())});return typeof u=="function"?u:u.unsubscribe.bind(u)},r),s.current.error)throw s.current.error;return s.current.result}function af(e,t,n){return que(function(){return QJ(e)},[],n)}function VE(){const e=Lr(t=>t.closeModal);return h.jsx(lr.Modal,{onClose:()=>e(),children:h.jsxs("div",{className:"p-6 w-80 bg-white rounded shadow",children:[h.jsx("p",{className:"text-sm text-gray-800 mb-4",children:"  ."}),h.jsx("div",{className:"w-full h-4 bg-gray-200 rounded overflow-hidden",children:h.jsx("div",{className:"h-full bg-blue-400 bg-gradient-to-r from-blue-400 to-blue-600 animate-stripes"})})]})})}const oh=1/1e3;async function Vue(){return{snapshots:(await He.simulation_run.filter(n=>n.ended_at!==-1).toArray()).sort((n,r)=>r.simulation_run_id-n.simulation_run_id)}}async function Que(e){const t=await eZ(e),n=await qj(t.snapshot_id);if(!t||!n)return null;const r=await He.simulation_run_selections.where("simulation_run_id").equals(t.simulation_run_id).toArray(),i=r.map(u=>u.run_selections_id),s=u=>{const f=n.subjects.find(p=>p.interested_id===u);return f?f.subject_id:-1},o=await He.simulation_run_events.filter(u=>i.includes(u.simulation_section_id)).toArray(),a=o.filter(u=>u.event_type===ar.CAPTCHA),l=r.reduce((u,f)=>{const p=a.find(g=>g.simulation_section_id===f.run_selections_id);return p?.timestamp?u+p.timestamp-f.started_at:u},0)/r.length;return{started_at:t.started_at,ended_at:t.ended_at,user_ability:{searchBtnSpeed:(t.search_event_at-t.started_at)/1e3,totalSpeed:t.total_elapsed/t.subject_count/1e3,accuracy:t.accuracy,captchaSpeed:l/1e3},timeline:r.map(u=>({interested_id:u.interested_id,subject_id:s(u.interested_id),started_at:u.started_at,ended_at:u.ended_at,status:u.status,events:o.filter(f=>f.simulation_section_id===u.run_selections_id).sort((f,p)=>f.timestamp-p.timestamp).map(f=>({event:f.event_type,timestamp:f.timestamp}))})),subject_results:r.sort((u,f)=>f.started_at-u.started_at).reduce((u,f)=>u.some(p=>p.interested_id===f.interested_id)?u:[...u,f],[]).map(u=>({interested_id:u.interested_id,subject_id:s(u.interested_id),selected_index:u.selected_index,ended_at:u.ended_at,status:u.status}))}}async function QI(){const e=await He.simulation_run.filter(C=>C.ended_at!==-1).toArray(),t=e.length;if(t===0)throw new Error("    .");const n=await He.simulation_run_selections.toArray(),r=await Promise.all(e.map(async C=>{const k=await He.simulation_run_selections.filter(A=>A.simulation_run_id===C.simulation_run_id).toArray(),R=k.map(A=>A.run_selections_id),O=await He.simulation_run_events.filter(A=>A.event_type===ar.CAPTCHA&&R.includes(A.simulation_section_id)).toArray(),$=(C.search_event_at-C.started_at)*oh,z=O.reduce((A,B)=>{const U=k.find(D=>D.run_selections_id===B.simulation_section_id);return U?A+(B.timestamp-U.started_at):A},0)*oh,j=k.reduce((A,B)=>B.ended_at>=0?A+(B.ended_at-B.started_at):A,0)*oh;return{simulationRunId:C.simulation_run_id,accuracy:C.accuracy,subjectCount:C.subject_count,searchBtnTime:$,captchaTime:z+$,subjectTime:j+$,totalTime:C.total_elapsed*oh}})),i=await He.interested_snapshot.filter(C=>C.simulated).last();if(!i)throw new Error("   .");const o=(await He.interested_subject.filter(C=>C.snapshot_id===i.snapshot_id).toArray()).map(C=>{const k=n.filter(U=>U.interested_id===C.interested_id),R=k.filter(U=>U.status===un.SUCCESS).length,O=k.filter(U=>U.status===un.FAILED).length,$=k.filter(U=>U.status===un.DOUBLED).length,z=k.length,j=k.reduce((U,D)=>U+D.selected_index,0)/z||0,A=k.filter(U=>U.ended_at>=0&&U.started_at>=0).map(U=>(U.ended_at-U.started_at)*oh),B=Kue(A);return{subjectId:C.subject_id,successCount:R,failedCount:O,doubledCount:$,totalCount:z,avgCompletionTime:B,avgIndex:j}}),a=new Map;for(const C of n){const k=C.simulation_run_id,R=e.find(A=>A.simulation_run_id===k);if(!R)continue;const O=await qj(R.snapshot_id);if(!O)continue;const $=O.subjects.find(A=>A.interested_id===C.interested_id);if(!$)continue;const z=$.subject_id;a.has(z)||a.set(z,{subject_id:z,success_count:0,total_count:0,completion_time_sum:0});const j=a.get(z);j.total_count++,C.status===1&&(j.success_count++,j.completion_time_sum+=C.ended_at-C.started_at)}const l=Array.from(a.values()).map(C=>({subject_id:C.subject_id,success_count:C.success_count,total_count:C.total_count,success_rate:C.success_count/C.total_count,avg_completion_time:C.success_count>0?C.completion_time_sum/C.success_count/1e3:0})),u=n.reduce((C,k)=>(C[k.status]=(C[k.status]||0)+1,C),{}),f=n.length,p=Object.entries(u).map(([C,k])=>({status:Number(C),count:k,percentage:k/f})),g=e.map(C=>C.simulation_run_id),y=n.filter(C=>g.includes(C.simulation_run_id)).map(C=>C.run_selections_id),b=await He.simulation_run_events.filter(C=>y.includes(C.simulation_section_id)&&C.event_type===ar.CAPTCHA).toArray();let _=0;for(const C of b){const k=n.find(R=>R.run_selections_id===C.simulation_section_id);k&&(_+=C.timestamp-k.started_at)}return{total_users:t,avg_started_at:e.reduce((C,k)=>C+k.started_at,0)/t,avg_ended_at:e.reduce((C,k)=>C+k.ended_at,0)/t,avg_elapsed_time:e.reduce((C,k)=>C+(k.ended_at-k.started_at),0)/t/1e3,subject_success_rate:l,status_distribution:p,simulations:r,subjects:o}}function Kue(e){return e.length===0?0:e.reduce((t,n)=>t+n,0)/e.length}function Gue({simulationId:e}){const t=Lr(_=>_.openModal),n=Lr(_=>_.closeModal),[r,i]=I.useState(null),[s,o]=I.useState(),a=af(async()=>{try{return await QI()}catch(_){return{error:_.message}}});if(a&&"error"in a)return h.jsx("div",{className:"flex flex-col w-full items-center justify-center h-120 gap-3"});const{simulations:l}=a||{simulations:[]},u=a?{user_ability:{searchBtnSpeed:l.reduce((_,C)=>_+C.searchBtnTime,0)/l.length||0,totalSpeed:l.reduce((_,C)=>_+C.totalTime/C.subjectCount,0)/l.length||0,accuracy:l.reduce((_,C)=>_+C.accuracy,0)/l.length||0,captchaSpeed:l.reduce((_,C)=>_+(C.captchaTime-C.searchBtnTime)/C.subjectCount,0)/l.length||0}}:void 0;if(I.useEffect(()=>{async function _(){nZ({simulationId:e}).then(C=>{"errMsg"in C?C.errMsg===Vj.SIMULATION_NOT_FOUND?n():alert(C.errMsg):(i(C),o(e))})}_().then()},[]),!r)return h.jsx(VE,{});const{accuracy:f,score:p,total_elapsed:g}=r,y=p>=70,b=u?.user_ability?.searchBtnSpeed??0;return!u||!a?h.jsx(VE,{}):h.jsxs(kl,{onClose:()=>n(),children:[h.jsxs("div",{className:"w-full max-w-md bg-white rounded-xl shadow-xl p-6 relative overflow-hidden",children:[y&&h.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[h.jsx("div",{className:"animate-float1 absolute top-6 left-6 w-3 h-3 bg-red-400 rounded-full"}),h.jsx("div",{className:"animate-float2 absolute top-16 right-10 w-2 h-2 bg-yellow-400 rounded-full"}),h.jsx("div",{className:"animate-float3 absolute bottom-20 left-12 w-2.5 h-2.5 bg-blue-400 rounded-full"}),h.jsx("div",{className:"animate-float4 absolute bottom-10 right-6 w-3 h-3 bg-pink-400 rounded-full"}),h.jsx("div",{className:"animate-float5 absolute top-1/2 left-1/2 w-2 h-2 bg-purple-400 rounded-full"})]}),h.jsxs("div",{className:"relative z-10 text-center",children:[h.jsxs("h2",{className:"text-xl font-bold text-gray-900",children:[" ",h.jsx("span",{className:y?"text-blue-600":"text-red-500",children:y?" !":" "})]}),h.jsxs("span",{className:"text-sm text-gray-700 mt-1",children:[" ",y?" ":" ",""]}),h.jsxs("div",{className:"flex flex-col justify-center items-center",children:[h.jsx("div",{className:"m-2 flex justify-center",children:y?h.jsx("img",{src:"/ci.svg",alt:" ",className:"w-20 h-20"}):h.jsx("span",{className:"text-[50px]",children:""})}),h.jsxs("div",{className:"flex flex-row justify-center gap-6 mt-6",children:[h.jsxs("div",{className:"flex flex-col items-center",children:[h.jsx("p",{className:"text-sm text-gray-800 mb-1",children:""}),h.jsxs("p",{className:"text-xl text-blue-500 font-bold whitespace-nowrap",children:[p.toFixed(1),h.jsx("span",{className:"text-gray-600",children:""})]})]}),h.jsxs("div",{className:"flex flex-col items-center",children:[h.jsx("p",{className:"text-sm text-gray-800 mb-1",children:" "}),h.jsxs("p",{className:"text-xl text-gray-600 font-bold whitespace-nowrap",children:[(g/1e3).toFixed(0),""]})]})]}),h.jsxs("div",{className:"flex flex-row justify-center gap-6 mt-6",children:[h.jsxs("div",{className:"flex flex-col items-center",children:[h.jsx("p",{className:"text-sm text-gray-800 mb-1",children:"    "}),h.jsxs("p",{className:"text-xl text-blue-500 font-bold whitespace-nowrap",children:[u?.user_ability.captchaSpeed.toFixed(2),h.jsx("span",{className:"text-gray-600",children:""})]})]}),h.jsxs("div",{className:"flex flex-col items-center",children:[h.jsx("p",{className:"text-sm text-gray-800 mb-1",children:"    "}),h.jsxs("p",{className:"text-xl text-blue-500 font-bold whitespace-nowrap",children:[b<=0?0:b.toFixed(2),h.jsx("span",{className:"text-gray-600",children:""})]})]})]})]}),h.jsx("div",{className:"text-left text-sm text-gray-800 mt-4 mb-1",children:""}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("div",{className:"w-full h-3 bg-gray-200 rounded-full overflow-hidden",children:h.jsx("div",{className:"h-3 bg-indigo-400 rounded-full transition-all duration-300",style:{width:`${f}%`}})}),h.jsxs("p",{className:"text-xl text-gray-600 font-bold whitespace-nowrap",children:[f,"%"]})]}),h.jsxs("div",{className:"flex justify-center gap-3 mt-6",children:[h.jsx("button",{className:"px-4 py-2 border border-gray-400 text-gray-800 rounded-md hover:bg-gray-100 text-sm",onClick:()=>{n(),t("wish")},children:" "}),h.jsx(Uc,{to:`/simulation/logs/${s}`,end:!1,className:"px-4 py-2  bg-blue-500 text-white rounded-md hover:bg-blue-600 text-sm",onClick:()=>{n()},children:"   "})]})]})]}),h.jsx("style",{children:`
        @keyframes float1 {
          0% { transform: translateY(0); }
          50% { transform: translateY(-8px); }
          100% { transform: translateY(0); }
        }
        @keyframes float2 {
          0% { transform: translateY(0); }
          50% { transform: translateY(6px); }
          100% { transform: translateY(0); }
        }
        @keyframes float3 {
          0% { transform: translateY(0); }
          50% { transform: translateY(-6px); }
          100% { transform: translateY(0); }
        }
        @keyframes float4 {
          0% { transform: translateY(0); }
          50% { transform: translateY(4px); }
          100% { transform: translateY(0); }
        }
        @keyframes float5 {
          0% { transform: translateY(0); }
          50% { transform: translateY(-5px); }
          100% { transform: translateY(0); }
        }

        .animate-float1 { animation: float1 3s ease-in-out infinite; }
        .animate-float2 { animation: float2 4s ease-in-out infinite; }
        .animate-float3 { animation: float3 2.5s ease-in-out infinite; }
        .animate-float4 { animation: float4 3.5s ease-in-out infinite; }
        .animate-float5 { animation: float5 3s ease-in-out infinite; }
      `})]})}const Yue=e=>I.createElement("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},I.createElement("path",{d:"M8 16.3438C9.45833 16.3229 10.7917 15.9688 12 15.2812C13.2083 14.5729 14.1875 13.5938 14.9375 12.3438C15.6458 11.0729 16 9.73958 16 8.34375C16 6.94788 15.6458 5.61455 14.9375 4.34375C14.1875 3.09375 13.2083 2.11458 12 1.40625C10.7917 0.718717 9.45833 0.36455 8 0.34375C6.54167 0.36455 5.20833 0.718717 4 1.40625C2.79167 2.11458 1.8125 3.09375 1.0625 4.34375C0.354167 5.61455 0 6.94788 0 8.34375C0 9.73958 0.354167 11.0729 1.0625 12.3438C1.8125 13.5938 2.79167 14.5729 4 15.2812C5.20833 15.9688 6.54167 16.3229 8 16.3438ZM11.5312 6.875L7.53125 10.875C7.17708 11.1667 6.82292 11.1667 6.46875 10.875L4.46875 8.875C4.17708 8.52083 4.17708 8.16667 4.46875 7.8125C4.82292 7.52083 5.17708 7.52083 5.53125 7.8125L7 9.28125L10.4688 5.81256C10.8229 5.52083 11.1771 5.52083 11.5312 5.81256C11.8229 6.16669 11.8229 6.52083 11.5312 6.875Z",fill:"#22C55E"}));function Xue(){return h.jsxs("div",{className:"mt-6 text-sm text-gray-800 space-y-2",children:[h.jsxs("h2",{className:"text-left font-semibold mb-4",children:[" ",h.jsx("span",{className:"text-blue-500",children:"Tip!"})]}),["      .","    .","       !","    ."].map((e,t)=>h.jsxs("div",{className:"flex items-center sm:text-sm text-xs ",children:[h.jsx("span",{className:"text-blue-500 mr-2",children:h.jsx(Yue,{})}),h.jsx("span",{className:t===0?"font-semibold text-blue-500 animate-bounce":"",children:e})]},t))]})}function Jue({department:e,setDepartment:t}){const{data:n}=Yc();function r(i){const s=i.target.value,o=n?.find(a=>a.departmentCode===s)?.departmentName??"";t({departmentName:o,departmentCode:s})}return I.useEffect(()=>{if(!n)return;const s=oN().filter(([l])=>l!=="9005");if(s.length<=0)return;const o=s[0][0],a=n.find(l=>l.departmentCode===o)?.departmentName??"";t({departmentName:a,departmentCode:o})},[n]),h.jsxs("div",{className:"flex flex-col gap-2",children:[h.jsx("h2",{className:"text-left font-semibold text-sm sm:text-md",children:" "}),h.jsx(Y1,{className:"cursor-pointer rounded-sm px-2 py-1 w-50 sm:w-120 bg-white mb-4",value:e.departmentCode,onChange:r})]})}function Zue({selectedTimetable:e,onSelect:t,timetables:n}){const r=I.useRef(null),i=n.map(s=>({value:s.timeTableId,label:s.timeTableName}));return h.jsxs("div",{className:"flex flex-col gap-2",children:[h.jsx("h2",{className:"text-left font-semibold text-sm sm:text-md",children:" ."}),h.jsxs("div",{className:"relative inline-block max-w-sm",ref:r,children:[h.jsx(rf,{label:e.timeTableName,selected:e.timeTableId!==null,className:"min-w-max",children:i.map(s=>h.jsx(Nh,{label:s.label,selected:e.timeTableId===s.value,onClick:()=>t(s.value)},s.value))}),h.jsx(hi,{to:"/timetable",className:"px-6 py-2 hover:text-blue-500 text-gray-500 rounded-md",children:"  "})]})]})}const ede=5;function Q2(e,t){const n=new Set,r=[];for(const i of[...e].sort(()=>Math.random()-.5)){if(n.size>=t)break;n.has(i.subjectCode)||(n.add(i.subjectCode),r.push(i))}return r}function KI(e){const t=e.split(" ");return t.findIndex(r=>r.includes(""))!==-1?t.slice(1).join(" ").trim():e}function GI(e,t){const n=r=>r.replace(/(||)$/,"");return n(e)===n(t)}function tde(e){return ede-e+1}const nde=(e,t)=>{if(t==="")return YI(e);const n=KI(t),r=e.filter(f=>GI(f.departmentName,n)),i=e.filter(f=>f.departmentName===""),s=r.filter(f=>f.professorName!==null&&f.lesn_time!==null),o=Q2(s,3),a=i.filter(f=>f.professorName!==null&&f.lesn_time!==null),l=Q2(a,tde(o.length+1)),u=[...o,...l];for(let f=u.length-1;f>0;f--){const p=Math.floor(Math.random()*(f+1));[u[f],u[p]]=[u[p],u[f]]}return u},K2=(e,t)=>e.find(n=>t===n.subjectId),YI=e=>Q2(e,5),rde=(e,t)=>{const n=KI(t);if(n==="")return YI(e);const r=e.filter(u=>GI(u.departmentName,n)),i=e.filter(u=>u.departmentName===""),s=u=>{const f=new Set;return u.filter(p=>f.has(p.subjectCode)?!1:(f.add(p.subjectCode),!0))},o=s(r).slice(0,3),a=5-o.length,l=s(i).slice(0,a);return[...o,...l]},ide=e=>{let t=0;const n=[];for(const r of e){const i=Number(r.tm_num.split("/")[0])||0;if(t+i>24)break;t+=i,n.push(r)}return n},sde=e=>I.createElement("svg",{width:21,height:21,viewBox:"0 0 21 21",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},I.createElement("path",{d:"M3.578 6.48696C4.55072 4.80817 6.1004 3.5401 7.93848 2.91885C9.77657 2.29761 11.7778 2.36554 13.5695 3.10999C15.3613 3.85444 16.8214 5.22467 17.678 6.96555C18.5347 8.70644 18.7294 10.6993 18.2261 12.5731C17.7227 14.4469 16.5556 16.0739 14.9419 17.1512C13.3282 18.2285 11.378 18.6826 9.45441 18.4291C7.53082 18.1755 5.76494 17.2315 4.48557 15.7728C3.20621 14.3141 2.50055 12.4402 2.5 10.5",stroke:"black",strokeLinecap:"round",strokeLinejoin:"round"}),I.createElement("path",{d:"M7.5 6.5H3.5V2.5",stroke:"black",strokeLinecap:"round",strokeLinejoin:"round"}));function ode({subjects:e,handleRemakeSubjects:t,isLoadingLectures:n}){const r=e?.reduce((i,s)=>{if(!s.tm_num)return i;const o=s?.tm_num.split("/")[0]??"0",a=Number(o)||0;return i+a},0);return h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"flex flex-row justify-between items-center mb-4 w-full overflow-auto h-10",children:[h.jsx("h2",{className:"text-left font-semibold",children:" "}),t&&h.jsxs("button",{onClick:t,className:"flex hover:font-bold hover:text-blue-500 items-center gap-2 cursor-pointer",children:[" ",h.jsx(sde,{})]}),h.jsxs("p",{children:["  : ",h.jsx("span",{className:"text-blue-500",children:r}),""]})]}),h.jsx("div",{className:"max-h-[250px] max-w-[350px] overflow-x-auto overflow-y-auto sm:max-w-full",children:h.jsxs("table",{className:"min-w-full sm:text-sm text-xs text-left whitespace-nowrap border-t border-b border-gray-200",children:[h.jsx("thead",{className:"bg-gray-100 text-gray-700",children:h.jsxs("tr",{children:[h.jsx("th",{className:"px-4 py-2",children:""}),h.jsx("th",{className:"px-4 py-2",children:""}),h.jsx("th",{className:"px-4 py-2",children:""}),h.jsx("th",{className:"px-4 py-2",children:""}),h.jsx("th",{className:"px-4 py-2",children:""})]})}),h.jsx("tbody",{children:n?h.jsx(V1,{col:5,row:8}):e?.map((i,s)=>h.jsxs("tr",{className:"border border-gray-200",children:[h.jsx("td",{className:"px-4 py-2",children:i?.subjectCode??""}),h.jsx("td",{className:"px-4 py-2",children:i?.classCode??""}),h.jsx("td",{className:"px-4 py-2",children:i?.departmentName??""}),h.jsx("td",{className:"px-4 py-2",children:i?.subjectName??""}),h.jsx("td",{className:"px-4 py-2",children:i?.professorName??""})]},i?.subjectId??s))})]})})]})}const ade=({simulationSubjects:e,handleStartGame:t,setToggleTip:n})=>h.jsxs("div",{className:"flex justify-end gap-2 px-2 pb-2 sm:px-6 sm:pb-6",children:[h.jsx(Fc,{variants:"primary",onClick:()=>n(!0),className:"font-semibold disabled:bg-gray-300 disabled:cursor-not-allowed",children:" "}),h.jsx(Fc,{variants:"primary",onClick:t,disabled:e.length===0,className:"font-semibold disabled:bg-gray-300 disabled:cursor-not-allowed",children:""})]}),lde={departmentCode:"",departmentName:""};function cde({timetables:e,setIsModalOpen:t}){const n=Ss(D=>D.setCurrentSimulation),r=Lr(D=>D.closeModal),{data:i,isLoading:s}=tu(),o=kt(D=>D.currentTimetable),a=kt(D=>D.pickTimetable),[l,u]=I.useState([]),[f,p]=I.useState({...lde}),[g,y]=I.useState(o??{timeTableId:-1,timeTableName:"  ",semester:"2025-2"}),[b,_]=I.useState("timetable"),[C,k]=I.useState(!1),{data:R,isLoading:O}=I1(g?.timeTableId),$=af(Wj),z=()=>{u(nde(i,f.departmentName))},j=async()=>{if(l.length===0){alert("  .    .");return}try{r(),b!=="previous"&&await GJ(l.map(X=>X.subjectId));const D=await tZ("",f.departmentCode,f.departmentName);if("simulationId"in D&&"isRunning"in D&&D.simulationId!==-1&&D.isRunning!==void 0){const{simulationId:X,isRunning:re}=D;n({simulationId:X,simulationStatus:re?"start":"before"})}else console.error("    ",D)}catch(D){console.error("    :",D)}},A=D=>{const Z=e.find(X=>X.timeTableId===D)??{timeTableId:-1,timeTableName:"  ",semester:"2025-2"};if(!Z){console.error("    :",D);return}y(Z),a(Z)},B=D=>{u([]),_(D)},U=D=>i.find(Z=>Z.subjectId===D);return I.useEffect(()=>{if(O||b!=="timetable"||!R||R.length===0)return;const Z=R.filter(re=>re.scheduleType!=="custom").map(re=>U(re.subjectId??0)).filter(re=>!!re),X=ide(Z);u(X)},[b,R,O,g]),I.useEffect(()=>{b==="random"&&u(rde(i,f.departmentName))},[b,f]),I.useEffect(()=>{if(b!=="previous"||!$||$.snapshot_id<0||s)return;const Z=$.subjects.map(X=>X.subject_id).map(X=>U(X)).filter(X=>!!X);u(Z)},[b,$,s]),I.useEffect(()=>{$&&$.snapshot_id>=0?_("previous"):e.length>0?_("timetable"):_("random")},[$,e]),h.jsx(kl,{onClose:()=>t(!1),children:h.jsxs("div",{className:"flex flex-col w-full overflow-y-auto max-h-[90vh] max-w-[900px] sm:min-w-[600px]",children:[h.jsx(lr.Modal.Header,{title:"   ?",onClose:()=>t(!1)}),h.jsxs("div",{className:"flex flex-col gap-2 p-2 sm:p-6",children:[h.jsx("h2",{className:"text-left font-semibold text-sm sm:text-md",children:"  ?"}),h.jsxs("div",{className:"flex gap-2 py-2",children:[$&&h.jsx(Ir,{label:" ",selected:b==="previous",onClick:()=>B("previous")}),h.jsx(Ir,{label:" ",selected:b==="timetable",onClick:()=>B("timetable")}),h.jsx(Ir,{label:" ",selected:b==="random",onClick:()=>B("random")})]}),b==="timetable"&&h.jsx(Zue,{timetables:e,selectedTimetable:g,onSelect:A}),b==="random"&&h.jsx(Jue,{department:f,setDepartment:p}),h.jsx(ode,{isLoadingLectures:s,subjects:l,handleRemakeSubjects:b==="random"?z:void 0}),C&&h.jsx(Xue,{})]}),h.jsx(ade,{simulationSubjects:l,handleStartGame:j,setToggleTip:k})]})})}function ude(e,t,n,r,i,s){const o=Math.floor((e+t)/n);let a=r,l=0;for(let u=0;u<=o;u++){const f=u*n;let p=i,g=s;f>4&&(p=48,g=33),a+=p,l+=g}return Math.max(Math.round(a-l),0)}function dde(){const[e,t]=I.useState(0),[n,r]=I.useState(0),[i,s]=I.useState(1),[o,a]=I.useState(0),l=I.useRef(null),u=Lr(C=>C.closeModal),f=Ss(C=>C.currentSimulation),p=Ss(C=>C.setCurrentSimulation),g=.2,y=98,b=79;I.useEffect(()=>{let C=Math.floor(f.clickedTime/.2)*100+124;const k=C/b*g;for(let R=0;R<=Math.floor(f.clickedTime/g);R++)C+=R*y;r(C),t(Math.ceil(k))},[]),I.useEffect(()=>(l.current=setInterval(()=>{a(k=>{const R=k+1,O=ude(R,f.clickedTime,g,i,y,b);return s(O),R});const C=Math.floor((e+f.clickedTime)/.2)*b;n<0?r(0):r(k=>k-C),t(k=>{const R=Math.max(k-1,0);return R===0&&l.current&&(clearInterval(l.current),u()),R})},1e3),()=>{l.current&&clearInterval(l.current)}),[e]);const _=()=>{p({simulationStatus:"before"}),u()};return h.jsx(lr.Modal,{onClose:()=>{},children:h.jsxs("div",{className:"sm:w-full max-w-md bg-white rounded-sm shadow-xl p-6 text-center space-y-6",children:[h.jsxs("h2",{className:"text-lg md:text-xl font-semibold text-gray-800",children:[" ",h.jsx("span",{className:"text-blue-600 font-bold",children:" "}),"."]}),h.jsxs("div",{className:"text-sm md:text-base text-gray-600",children:[": ",h.jsx("span",{className:"text-blue-600 font-bold text-xl",children:e}),""]}),h.jsx("div",{className:"w-full h-2 bg-gray-200 rounded-full overflow-hidden",children:h.jsx("div",{className:"h-full bg-blue-500 transition-all duration-300",style:{width:`${o/(e+o)*100}%`}})}),h.jsxs("div",{className:"text-gray-700 text-sm md:text-base leading-relaxed",children:["  ",h.jsx("span",{className:"text-green-600 font-bold text-xl",children:n<0?0:n}),",  ",h.jsx("span",{className:"text-green-600 font-bold text-xl",children:i}),"  . ",h.jsx("br",{}),"     ,      ."]}),h.jsxs("button",{className:"inline-flex items-center justify-center border-2 border-gray-400 text-gray-800 px-2 py-1 hover:bg-gray-100",onClick:_,children:[h.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),""]}),h.jsx("p",{className:"text-xs md:text-sm text-gray-500",children:"    ."})]})})}function r1(){return h.jsx("tbody",{children:h.jsx("tr",{children:h.jsx("td",{colSpan:13,className:"text-gray-500 py-4",children:h.jsx("div",{className:"min-h-[160px] flex items-center justify-center ",children:h.jsx("p",{className:"bg-stone-100 px-15 py-1 border",children:"  ."})})})})})}const fde=({index:e,subject:t,isRegisteredTable:n,onClickSubject:r})=>h.jsxs("tr",{className:"hover:bg-gray-50 text-nowrap",children:[h.jsx("td",{className:"border bg-blue-100 px-2 py-1 border-gray-200",children:e+1}),h.jsx("td",{className:"border py-1 border-gray-200",children:h.jsx("button",{className:"bg-blue-500 cursor-pointer text-white text-xs px-3 py-0.5 rounded-xs",disabled:!!n,onClick:()=>r(t.subjectId),children:n?"":""})}),h.jsx("td",{className:"border px-2 py-1 border-gray-200",children:t.subjectCode}),h.jsx("td",{className:"border px-2 py-1 border-gray-200",children:t.classCode}),h.jsx("td",{className:"border px-2 py-1 border-gray-200 text-left",children:t.departmentName}),h.jsx("td",{className:"border px-2 py-1 border-gray-200 text-left",children:t.subjectName}),h.jsx("td",{className:"border px-2 py-1 border-gray-200",children:h.jsx("button",{className:"bg-gray-700 text-xs text-white rounded-xs px-2 py-0.5",children:""})}),h.jsx("td",{className:"border py-1 border-gray-200",children:t.language||"-"}),h.jsx("td",{className:"border  py-1 border-gray-200",children:t.tm_num?t.tm_num.split("/").map((i,s)=>s===0?parseFloat(i).toFixed(1):i).join("/"):"-"}),h.jsx("td",{className:"border px-2 py-1 border-gray-200",children:t.subjectType}),h.jsx("td",{className:"border px-2 py-1 border-gray-200",children:t.semester_at===-1?"":t.semester_at}),h.jsx("td",{className:"border px-2 py-1 border-gray-200",children:t.lesn_time||"-"}),h.jsx("td",{className:"border py-1 border-gray-200",children:h.jsx("button",{className:"bg-gray-700 text-white text-xs px-2 py-0.5 rounded-xs",children:""})})]}),QE=({isRegisteredTable:e})=>{const t=Ss(a=>a.currentSimulation),n=Lr(a=>a.openModal),r=H1(a=>a.setCurrentSubjectId),{data:i}=tu(),s=a=>{Zo({eventType:ar.APPLY,subjectId:a},i).then(l=>{"errMsg"in l&&alert(l.errMsg)}).catch(l=>{console.error(" :",l)}),r(a),n("captcha")},o=e?t.registeredSubjects:t.nonRegisteredSubjects;return o.length>0?o.map((a,l)=>h.jsx("tbody",{className:"min-h-[300px] border-gray-100",children:h.jsx(fde,{index:l,subject:a,isRegisteredTable:e,onClickSubject:s})},a.subjectId)):h.jsx(r1,{})};function XI(){const e=Ss(o=>o.setCurrentSimulation),t=Ss(o=>o.currentSimulation),n=Lr(o=>o.openModal),{data:r}=tu(),i=(o,a,l)=>{const u=o.map(f=>K2(r,f.subjectId)).filter(f=>f!==void 0);e({simulationId:l,[a]:u}),t.simulationStatus==="progress"&&n("waiting")};return{reloadSimulationStatus:()=>{YJ().then(o=>{!o||o.simulationId===-1||(e({simulationId:o.simulationId}),o?.nonRegisteredSubjects&&i(o.nonRegisteredSubjects,"nonRegisteredSubjects",o.simulationId),o?.registeredSubjects&&i(o.registeredSubjects,"registeredSubjects",o.simulationId))}).catch(o=>{console.log(o)})}}}const hde=e=>I.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},I.createElement("path",{d:"M9.5 16C7.68333 16 6.146 15.3707 4.888 14.112C3.63 12.8533 3.00067 11.316 3 9.5C2.99933 7.684 3.62867 6.14667 4.888 4.888C6.14733 3.62933 7.68467 3 9.5 3C11.3153 3 12.853 3.62933 14.113 4.888C15.373 6.14667 16.002 7.684 16 9.5C16 10.2333 15.8833 10.925 15.65 11.575C15.4167 12.225 15.1 12.8 14.7 13.3L20.3 18.9C20.4833 19.0833 20.575 19.3167 20.575 19.6C20.575 19.8833 20.4833 20.1167 20.3 20.3C20.1167 20.4833 19.8833 20.575 19.6 20.575C19.3167 20.575 19.0833 20.4833 18.9 20.3L13.3 14.7C12.8 15.1 12.225 15.4167 11.575 15.65C10.925 15.8833 10.2333 16 9.5 16ZM9.5 14C10.75 14 11.8127 13.5627 12.688 12.688C13.5633 11.8133 14.0007 10.7507 14 9.5C13.9993 8.24933 13.562 7.187 12.688 6.313C11.814 5.439 10.7513 5.00133 9.5 5C8.24867 4.99867 7.18633 5.43633 6.313 6.313C5.43967 7.18967 5.002 8.252 5 9.5C4.998 10.748 5.43567 11.8107 6.313 12.688C7.19033 13.5653 8.25267 14.0027 9.5 14Z",fill:"white"}));function pde(){const{setCurrentSimulation:e,currentSimulation:t,resetSimulation:n}=Ss(),r=Lr(b=>b.openModal),i=af(Zh),{reloadSimulationStatus:s}=XI(),{data:o}=tu(),l=(i&&"simulationId"in i?i.simulationId:-1)!==-1,u=i&&"userStatus"in i?i.userStatus?.departmentName:-1,f=()=>{e({simulationStatus:"before"}),r("tutorial"),n()},p=()=>{Zh().then(b=>{b&&"simulationId"in b&&b.simulationId!==-1&&s()})},g=async()=>{p(),Zo({eventType:ar.SEARCH},o).then(b=>{if("errMsg"in b)alert("  .    !");else{const _=b.elapsed_time/1e3;e({simulationStatus:"progress",clickedTime:_>10?5:_}),r("waiting")}}).catch(b=>{console.error(" :",b)})},y=async()=>{try{await Ic(),e({simulationStatus:"finish"}),r("result")}catch(b){console.error(b),alert("  .")}};return h.jsx("section",{className:"border p-2 text-xs",children:h.jsxs("div",{className:"flex flex-col gap-1 sm:gap-2",children:[h.jsxs("div",{className:"flex flex-col sm:flex-row gap-1 sm:gap-8",children:[h.jsx("div",{className:"flex justify-end items-center sm:justify-start gap-2",children:h.jsx(rd,{id:"organization-type",label:" ",className:"w-48",disabled:!0,children:h.jsx("option",{})})}),h.jsx("div",{className:"flex justify-end items-center sm:justify-start gap-2",children:h.jsx(rd,{id:"semester-type",label:"/",className:"w-48",disabled:!0,children:h.jsx("option",{})})})]}),h.jsx("div",{className:"flex flex-col justify-between sm:flex-row gap-1 sm:gap-8",children:h.jsxs("div",{className:"flex flex-col sm:items-end sm:flex-row gap-2 ",children:[h.jsx("div",{className:"flex items-center justify-end sm:justify-start gap-2",children:h.jsx(rd,{id:"my-major-department",label:"()",className:"w-48",disabled:!0,children:h.jsx("option",{children:""})})}),h.jsx("div",{className:"flex items-center justify-end sm:justify-start gap-2",children:h.jsx(rd,{id:"my-sub-department",label:"()",className:"w-48",disabled:!0,children:h.jsx("option",{children:""})})})]})}),h.jsxs("div",{className:"flex flex-col sm:flex-col md:flex-row justify-between gap-2",children:[h.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[h.jsx("div",{className:"flex justify-end items-center sm:justify-start gap-2",children:h.jsx(rd,{id:"search-division",label:"",className:"w-48",disabled:!0,children:h.jsx("option",{children:""})})}),h.jsxs("div",{className:"flex justify-end items-center sm:justify-start gap-1",children:[h.jsx("label",{htmlFor:"search-major",className:"font-bold",children:""}),h.jsxs("div",{className:"flex flex-col sm:flex-row gap-1",children:[h.jsx(lr.Select,{id:"search-major",className:"w-48 sm:w-30",disabled:!0,children:h.jsx("option",{children:""})}),h.jsx(rd,{id:"search-department",label:" ",className:"w-40 lg:w-90",value:u,disabled:!0,hideLabel:!0})]})]})]}),h.jsxs("div",{className:"flex flex-row justify-between gap-2",children:[h.jsx("div",{className:"flex flex-row ",children:l?h.jsx(lr.Button,{variant:"cancel",onClick:y,children:" "}):h.jsx(lr.Button,{variant:"primary",onClick:f,children:""})}),h.jsxs("button",{onClick:g,className:`relative px-3 py-2 rounded flex flex-row items-center gap-1 text-white ${l?"bg-gradient-animation cursor-pointer":"bg-gray-400 cursor-not-allowed"}`,disabled:!l,children:[t.simulationStatus==="start"&&h.jsx(yT,{className:"absolute -top-20 right-8 w-15 h-15 animate-bounce rotate-170"}),h.jsx(hde,{className:"w-5 h-4"}),""]})]})]})]})})}function rd({label:e,hideLabel:t=!1,children:n,id:r,className:i,...s}){const o=r||"muted-select-"+e;return h.jsxs(h.Fragment,{children:[h.jsx("label",{htmlFor:o,className:t?"hidden":"font-bold",children:e}),h.jsx(lr.Select,{id:o,...s,className:i,children:n})]})}function mde(){const[e,t]=I.useState("00:00"),n=Lr(l=>l.openModal),r=Ss(l=>l.currentSimulation),i=Ss(l=>l.setCurrentSimulation),s=I.useRef(null),o=l=>{const u=Math.floor(l%3600/60),f=l%60;t(`${u.toString().padStart(2,"0")}:${f.toString().padStart(2,"0")}`)},a=async()=>{try{await Ic(),i({simulationStatus:"finish"}),n("result")}catch(l){console.error(l),alert("   .")}};return I.useEffect(()=>((async()=>{if(r.simulationStatus==="finish"){t("00:00");return}try{const u=await W1();if(!(u?.started_at&&u.simulation_run_id===r.simulationId))return;const p=u.started_at;s.current=setInterval(()=>{const g=Date.now(),y=Math.floor((g-p)/1e3);if(y>=T_){clearInterval(s.current),alert("5    ."),a().then();return}o(y),r.simulationStatus==="finish"&&(clearInterval(s.current),t("00:00"))},1e3)}catch(u){console.error(u)}})().then(),()=>{s.current&&(clearInterval(s.current),s.current=null)}),[r.simulationStatus,r.simulationId]),h.jsx("p",{className:"font-semibold text-xl text-blue-500",children:e})}var ib,KE;function gde(){return KE||(KE=1,ib=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var r,i,s;if(Array.isArray(t)){if(r=t.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(s=Object.keys(t),r=s.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,s[i]))return!1;for(i=r;i--!==0;){var o=s[i];if(!e(t[o],n[o]))return!1}return!0}return t!==t&&n!==n}),ib}var yde=gde();const vde=Di(yde);var Dg={exports:{}},sb,GE;function xde(){if(GE)return sb;GE=1;var e;/**
* @link https://github.com/gajus/sister for the canonical source repository
* @license https://github.com/gajus/sister/blob/master/LICENSE BSD 3-Clause
*/return e=function(){var t={},n={};return t.on=function(r,i){var s={name:r,handler:i};return n[r]=n[r]||[],n[r].unshift(s),s},t.off=function(r){var i=n[r.name].indexOf(r);i!==-1&&n[r.name].splice(i,1)},t.trigger=function(r,i){var s=n[r],o;if(s)for(o=s.length;o--;)s[o].handler(i)},t},sb=e,sb}var Lg={exports:{}},ob,YE;function bde(){if(YE)return ob;YE=1,ob=function(i,s,o){var a=document.head||document.getElementsByTagName("head")[0],l=document.createElement("script");typeof s=="function"&&(o=s,s={}),s=s||{},o=o||function(){},l.type=s.type||"text/javascript",l.charset=s.charset||"utf8",l.async="async"in s?!!s.async:!0,l.src=i,s.attrs&&e(l,s.attrs),s.text&&(l.text=""+s.text);var u="onload"in l?t:n;u(l,o),l.onload||t(l,o),a.appendChild(l)};function e(r,i){for(var s in i)r.setAttribute(s,i[s])}function t(r,i){r.onload=function(){this.onerror=this.onload=null,i(null,r)},r.onerror=function(){this.onerror=this.onload=null,i(new Error("Failed to load "+this.src),r)}}function n(r,i){r.onreadystatechange=function(){this.readyState!="complete"&&this.readyState!="loaded"||(this.onreadystatechange=null,i(null,r))}}return ob}var XE;function wde(){return XE||(XE=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=bde(),r=i(n);function i(s){return s&&s.__esModule?s:{default:s}}t.default=function(s){var o=new Promise(function(a){if(window.YT&&window.YT.Player&&window.YT.Player instanceof Function){a(window.YT);return}else{var l=window.location.protocol==="http:"?"http:":"https:";(0,r.default)(l+"//www.youtube.com/iframe_api",function(f){f&&s.trigger("error",f)})}var u=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=function(){u&&u(),a(window.YT)}});return o},e.exports=t.default}(Lg,Lg.exports)),Lg.exports}var Fg={exports:{}},Bg={exports:{}},zg={exports:{}},ab,JE;function _de(){if(JE)return ab;JE=1;var e=1e3,t=e*60,n=t*60,r=n*24,i=r*365.25;ab=function(u,f){f=f||{};var p=typeof u;if(p==="string"&&u.length>0)return s(u);if(p==="number"&&isNaN(u)===!1)return f.long?a(u):o(u);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(u))};function s(u){if(u=String(u),!(u.length>100)){var f=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(u);if(f){var p=parseFloat(f[1]),g=(f[2]||"ms").toLowerCase();switch(g){case"years":case"year":case"yrs":case"yr":case"y":return p*i;case"days":case"day":case"d":return p*r;case"hours":case"hour":case"hrs":case"hr":case"h":return p*n;case"minutes":case"minute":case"mins":case"min":case"m":return p*t;case"seconds":case"second":case"secs":case"sec":case"s":return p*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return p;default:return}}}}function o(u){return u>=r?Math.round(u/r)+"d":u>=n?Math.round(u/n)+"h":u>=t?Math.round(u/t)+"m":u>=e?Math.round(u/e)+"s":u+"ms"}function a(u){return l(u,r,"day")||l(u,n,"hour")||l(u,t,"minute")||l(u,e,"second")||u+" ms"}function l(u,f,p){if(!(u<f))return u<f*1.5?Math.floor(u/f)+" "+p:Math.ceil(u/f)+" "+p+"s"}return ab}var ZE;function Sde(){return ZE||(ZE=1,function(e,t){t=e.exports=i.debug=i.default=i,t.coerce=l,t.disable=o,t.enable=s,t.enabled=a,t.humanize=_de(),t.names=[],t.skips=[],t.formatters={};var n;function r(u){var f=0,p;for(p in u)f=(f<<5)-f+u.charCodeAt(p),f|=0;return t.colors[Math.abs(f)%t.colors.length]}function i(u){function f(){if(f.enabled){var p=f,g=+new Date,y=g-(n||g);p.diff=y,p.prev=n,p.curr=g,n=g;for(var b=new Array(arguments.length),_=0;_<b.length;_++)b[_]=arguments[_];b[0]=t.coerce(b[0]),typeof b[0]!="string"&&b.unshift("%O");var C=0;b[0]=b[0].replace(/%([a-zA-Z%])/g,function(R,O){if(R==="%%")return R;C++;var $=t.formatters[O];if(typeof $=="function"){var z=b[C];R=$.call(p,z),b.splice(C,1),C--}return R}),t.formatArgs.call(p,b);var k=f.log||t.log||console.log.bind(console);k.apply(p,b)}}return f.namespace=u,f.enabled=t.enabled(u),f.useColors=t.useColors(),f.color=r(u),typeof t.init=="function"&&t.init(f),f}function s(u){t.save(u),t.names=[],t.skips=[];for(var f=(typeof u=="string"?u:"").split(/[\s,]+/),p=f.length,g=0;g<p;g++)f[g]&&(u=f[g].replace(/\*/g,".*?"),u[0]==="-"?t.skips.push(new RegExp("^"+u.substr(1)+"$")):t.names.push(new RegExp("^"+u+"$")))}function o(){t.enable("")}function a(u){var f,p;for(f=0,p=t.skips.length;f<p;f++)if(t.skips[f].test(u))return!1;for(f=0,p=t.names.length;f<p;f++)if(t.names[f].test(u))return!0;return!1}function l(u){return u instanceof Error?u.stack||u.message:u}}(zg,zg.exports)),zg.exports}var e7;function Cde(){return e7||(e7=1,function(e,t){var n={};t=e.exports=Sde(),t.log=s,t.formatArgs=i,t.save=o,t.load=a,t.useColors=r,t.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:l(),t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"];function r(){return typeof window<"u"&&window.process&&window.process.type==="renderer"?!0:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}t.formatters.j=function(u){try{return JSON.stringify(u)}catch(f){return"[UnexpectedJSONParseError]: "+f.message}};function i(u){var f=this.useColors;if(u[0]=(f?"%c":"")+this.namespace+(f?" %c":" ")+u[0]+(f?"%c ":" ")+"+"+t.humanize(this.diff),!!f){var p="color: "+this.color;u.splice(1,0,p,"color: inherit");var g=0,y=0;u[0].replace(/%[a-zA-Z%]/g,function(b){b!=="%%"&&(g++,b==="%c"&&(y=g))}),u.splice(y,0,p)}}function s(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function o(u){try{u==null?t.storage.removeItem("debug"):t.storage.debug=u}catch{}}function a(){var u;try{u=t.storage.debug}catch{}return!u&&typeof process<"u"&&"env"in process&&(u=n.DEBUG),u}t.enable(a());function l(){try{return window.localStorage}catch{}}}(Bg,Bg.exports)),Bg.exports}var $g={exports:{}},t7;function kde(){return t7||(t7=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=["cueVideoById","loadVideoById","cueVideoByUrl","loadVideoByUrl","playVideo","pauseVideo","stopVideo","getVideoLoadedFraction","cuePlaylist","loadPlaylist","nextVideo","previousVideo","playVideoAt","setShuffle","setLoop","getPlaylist","getPlaylistIndex","setOption","mute","unMute","isMuted","setVolume","getVolume","seekTo","getPlayerState","getPlaybackRate","setPlaybackRate","getAvailablePlaybackRates","getPlaybackQuality","setPlaybackQuality","getAvailableQualityLevels","getCurrentTime","getDuration","removeEventListener","getVideoUrl","getVideoEmbedCode","getOptions","getOption","addEventListener","destroy","setSize","getIframe"],e.exports=t.default}($g,$g.exports)),$g.exports}var Ug={exports:{}},n7;function Ede(){return n7||(n7=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=["ready","stateChange","playbackQualityChange","playbackRateChange","error","apiChange","volumeChange"],e.exports=t.default}(Ug,Ug.exports)),Ug.exports}var Hg={exports:{}},Wg={exports:{}},r7;function Tde(){return r7||(r7=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default={BUFFERING:3,ENDED:0,PAUSED:2,PLAYING:1,UNSTARTED:-1,VIDEO_CUED:5},e.exports=t.default}(Wg,Wg.exports)),Wg.exports}var i7;function jde(){return i7||(i7=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=Tde(),r=i(n);function i(s){return s&&s.__esModule?s:{default:s}}t.default={pauseVideo:{acceptableStates:[r.default.ENDED,r.default.PAUSED],stateChangeRequired:!1},playVideo:{acceptableStates:[r.default.ENDED,r.default.PLAYING],stateChangeRequired:!1},seekTo:{acceptableStates:[r.default.ENDED,r.default.PLAYING,r.default.PAUSED],stateChangeRequired:!0,timeout:3e3}},e.exports=t.default}(Hg,Hg.exports)),Hg.exports}var s7;function Nde(){return s7||(s7=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=Cde(),r=f(n),i=kde(),s=f(i),o=Ede(),a=f(o),l=jde(),u=f(l);function f(y){return y&&y.__esModule?y:{default:y}}var p=(0,r.default)("youtube-player"),g={};g.proxyEvents=function(y){var b={},_=function(A){var B="on"+A.slice(0,1).toUpperCase()+A.slice(1);b[B]=function(U){p('event "%s"',B,U),y.trigger(A,U)}},C=!0,k=!1,R=void 0;try{for(var O=a.default[Symbol.iterator](),$;!(C=($=O.next()).done);C=!0){var z=$.value;_(z)}}catch(j){k=!0,R=j}finally{try{!C&&O.return&&O.return()}finally{if(k)throw R}}return b},g.promisifyPlayer=function(y){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,_={},C=function(B){b&&u.default[B]?_[B]=function(){for(var U=arguments.length,D=Array(U),Z=0;Z<U;Z++)D[Z]=arguments[Z];return y.then(function(X){var re=u.default[B],V=X.getPlayerState(),q=X[B].apply(X,D);return re.stateChangeRequired||Array.isArray(re.acceptableStates)&&re.acceptableStates.indexOf(V)===-1?new Promise(function(Q){var ne=function ee(){var fe=X.getPlayerState(),F=void 0;typeof re.timeout=="number"&&(F=setTimeout(function(){X.removeEventListener("onStateChange",ee),Q()},re.timeout)),Array.isArray(re.acceptableStates)&&re.acceptableStates.indexOf(fe)!==-1&&(X.removeEventListener("onStateChange",ee),clearTimeout(F),Q())};X.addEventListener("onStateChange",ne)}).then(function(){return q}):q})}:_[B]=function(){for(var U=arguments.length,D=Array(U),Z=0;Z<U;Z++)D[Z]=arguments[Z];return y.then(function(X){return X[B].apply(X,D)})}},k=!0,R=!1,O=void 0;try{for(var $=s.default[Symbol.iterator](),z;!(k=(z=$.next()).done);k=!0){var j=z.value;C(j)}}catch(A){R=!0,O=A}finally{try{!k&&$.return&&$.return()}finally{if(R)throw O}}return _},t.default=g,e.exports=t.default}(Fg,Fg.exports)),Fg.exports}var o7;function Ide(){return o7||(o7=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},r=xde(),i=u(r),s=wde(),o=u(s),a=Nde(),l=u(a);function u(p){return p&&p.__esModule?p:{default:p}}var f=void 0;t.default=function(p){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,b=(0,i.default)();if(f||(f=(0,o.default)(b)),g.events)throw new Error("Event handlers cannot be overwritten.");if(typeof p=="string"&&!document.getElementById(p))throw new Error('Element "'+p+'" does not exist.');g.events=l.default.proxyEvents(b);var _=new Promise(function(k){if((typeof p>"u"?"undefined":n(p))==="object"&&p.playVideo instanceof Function){var R=p;k(R)}else f.then(function(O){var $=new O.Player(p,g);return b.on("ready",function(){k($)}),null})}),C=l.default.promisifyPlayer(_,y);return C.on=b.on,C.off=b.off,C},e.exports=t.default}(Dg,Dg.exports)),Dg.exports}var Rde=Ide();const Pde=Di(Rde);var Ode=Object.defineProperty,Mde=Object.defineProperties,Ade=Object.getOwnPropertyDescriptors,a7=Object.getOwnPropertySymbols,Dde=Object.prototype.hasOwnProperty,Lde=Object.prototype.propertyIsEnumerable,l7=(e,t,n)=>t in e?Ode(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,G2=(e,t)=>{for(var n in t||(t={}))Dde.call(t,n)&&l7(e,n,t[n]);if(a7)for(var n of a7(t))Lde.call(t,n)&&l7(e,n,t[n]);return e},Y2=(e,t)=>Mde(e,Ade(t)),Fde=(e,t,n)=>new Promise((r,i)=>{var s=l=>{try{a(n.next(l))}catch(u){i(u)}},o=l=>{try{a(n.throw(l))}catch(u){i(u)}},a=l=>l.done?r(l.value):Promise.resolve(l.value).then(s,o);a((n=n.apply(e,t)).next())});function Bde(e,t){var n,r;if(e.videoId!==t.videoId)return!0;const i=((n=e.opts)==null?void 0:n.playerVars)||{},s=((r=t.opts)==null?void 0:r.playerVars)||{};return i.start!==s.start||i.end!==s.end}function c7(e={}){return Y2(G2({},e),{height:0,width:0,playerVars:Y2(G2({},e.playerVars),{autoplay:0,start:0,end:0})})}function zde(e,t){return e.videoId!==t.videoId||!vde(c7(e.opts),c7(t.opts))}function $de(e,t){var n,r,i,s;return e.id!==t.id||e.className!==t.className||((n=e.opts)==null?void 0:n.width)!==((r=t.opts)==null?void 0:r.width)||((i=e.opts)==null?void 0:i.height)!==((s=t.opts)==null?void 0:s.height)||e.iframeClassName!==t.iframeClassName||e.title!==t.title}var Ude={videoId:"",id:"",className:"",iframeClassName:"",style:{},title:"",loading:void 0,opts:{},onReady:()=>{},onError:()=>{},onPlay:()=>{},onPause:()=>{},onEnd:()=>{},onStateChange:()=>{},onPlaybackRateChange:()=>{},onPlaybackQualityChange:()=>{}},Hde={videoId:Ft.string,id:Ft.string,className:Ft.string,iframeClassName:Ft.string,style:Ft.object,title:Ft.string,loading:Ft.oneOf(["lazy","eager"]),opts:Ft.objectOf(Ft.any),onReady:Ft.func,onError:Ft.func,onPlay:Ft.func,onPause:Ft.func,onEnd:Ft.func,onStateChange:Ft.func,onPlaybackRateChange:Ft.func,onPlaybackQualityChange:Ft.func},u0=class extends wn.Component{constructor(e){super(e),this.destroyPlayerPromise=void 0,this.onPlayerReady=t=>{var n,r;return(r=(n=this.props).onReady)==null?void 0:r.call(n,t)},this.onPlayerError=t=>{var n,r;return(r=(n=this.props).onError)==null?void 0:r.call(n,t)},this.onPlayerStateChange=t=>{var n,r,i,s,o,a,l,u;switch((r=(n=this.props).onStateChange)==null||r.call(n,t),t.data){case u0.PlayerState.ENDED:(s=(i=this.props).onEnd)==null||s.call(i,t);break;case u0.PlayerState.PLAYING:(a=(o=this.props).onPlay)==null||a.call(o,t);break;case u0.PlayerState.PAUSED:(u=(l=this.props).onPause)==null||u.call(l,t);break}},this.onPlayerPlaybackRateChange=t=>{var n,r;return(r=(n=this.props).onPlaybackRateChange)==null?void 0:r.call(n,t)},this.onPlayerPlaybackQualityChange=t=>{var n,r;return(r=(n=this.props).onPlaybackQualityChange)==null?void 0:r.call(n,t)},this.destroyPlayer=()=>this.internalPlayer?(this.destroyPlayerPromise=this.internalPlayer.destroy().then(()=>this.destroyPlayerPromise=void 0),this.destroyPlayerPromise):Promise.resolve(),this.createPlayer=()=>{if(typeof document>"u")return;if(this.destroyPlayerPromise){this.destroyPlayerPromise.then(this.createPlayer);return}const t=Y2(G2({},this.props.opts),{videoId:this.props.videoId});this.internalPlayer=Pde(this.container,t),this.internalPlayer.on("ready",this.onPlayerReady),this.internalPlayer.on("error",this.onPlayerError),this.internalPlayer.on("stateChange",this.onPlayerStateChange),this.internalPlayer.on("playbackRateChange",this.onPlayerPlaybackRateChange),this.internalPlayer.on("playbackQualityChange",this.onPlayerPlaybackQualityChange),(this.props.title||this.props.loading)&&this.internalPlayer.getIframe().then(n=>{this.props.title&&n.setAttribute("title",this.props.title),this.props.loading&&n.setAttribute("loading",this.props.loading)})},this.resetPlayer=()=>this.destroyPlayer().then(this.createPlayer),this.updatePlayer=()=>{var t;(t=this.internalPlayer)==null||t.getIframe().then(n=>{this.props.id?n.setAttribute("id",this.props.id):n.removeAttribute("id"),this.props.iframeClassName?n.setAttribute("class",this.props.iframeClassName):n.removeAttribute("class"),this.props.opts&&this.props.opts.width?n.setAttribute("width",this.props.opts.width.toString()):n.removeAttribute("width"),this.props.opts&&this.props.opts.height?n.setAttribute("height",this.props.opts.height.toString()):n.removeAttribute("height"),this.props.title?n.setAttribute("title",this.props.title):n.setAttribute("title","YouTube video player"),this.props.loading?n.setAttribute("loading",this.props.loading):n.removeAttribute("loading")})},this.getInternalPlayer=()=>this.internalPlayer,this.updateVideo=()=>{var t,n,r,i;if(typeof this.props.videoId>"u"||this.props.videoId===null){(t=this.internalPlayer)==null||t.stopVideo();return}let s=!1;const o={videoId:this.props.videoId};if((n=this.props.opts)!=null&&n.playerVars&&(s=this.props.opts.playerVars.autoplay===1,"start"in this.props.opts.playerVars&&(o.startSeconds=this.props.opts.playerVars.start),"end"in this.props.opts.playerVars&&(o.endSeconds=this.props.opts.playerVars.end)),s){(r=this.internalPlayer)==null||r.loadVideoById(o);return}(i=this.internalPlayer)==null||i.cueVideoById(o)},this.refContainer=t=>{this.container=t},this.container=null,this.internalPlayer=null}componentDidMount(){this.createPlayer()}componentDidUpdate(e){return Fde(this,null,function*(){$de(e,this.props)&&this.updatePlayer(),zde(e,this.props)&&(yield this.resetPlayer()),Bde(e,this.props)&&this.updateVideo()})}componentWillUnmount(){this.destroyPlayer()}render(){return wn.createElement("div",{className:this.props.className,style:this.props.style},wn.createElement("div",{id:this.props.id,className:this.props.iframeClassName,ref:this.refContainer}))}},oy=u0;oy.propTypes=Hde;oy.defaultProps=Ude;oy.PlayerState={UNSTARTED:-1,ENDED:0,PLAYING:1,PAUSED:2,BUFFERING:3,CUED:5};var Wde=oy;const lb=[{id:1,videoId:"BTNgos01s1o",title:"1:   "},{id:2,videoId:"yYq-sXZmS9I",title:"2:   "},{id:3,videoId:"mEi-n2kEs94",title:"3:  "},{id:4,videoId:"xmD5YuZtJv4",title:"4:    "}];function JI(){const e=localStorage.getItem("visitedTutorial");if(!e)return!0;const t=new Date,n=new Date(e);return(t.getTime()-n.getTime())/(1e3*60*60*24)>=7}function qde(){const[e,t]=I.useState(0),[n,r]=I.useState(!1),i=Lr(_=>_.openModal),s=Lr(_=>_.closeModal),a=Tl()?{width:"250",height:"141"}:{width:"600",height:"338"},l=JI();l||i("wish");const u=()=>{t(_=>_===0?lb.length-1:_-1)},f=()=>{t(_=>_===lb.length-1?0:_+1)},p=()=>{if(!n)return;const _=new Date().toISOString();localStorage.setItem("visitedTutorial",_),r(!0)},g=lb[e],y=()=>{s(),p()},b=()=>{p(),s(),i("wish")};return l&&h.jsxs(kl,{onClose:s,children:[h.jsx(Zd,{title:" ",onClose:y}),h.jsxs("div",{className:"w-full flex flex-col p-4",children:[h.jsx("div",{className:"mx-auto",style:{width:a.width+"px",height:a.height+"px"},children:h.jsx(Wde,{videoId:g.videoId,opts:{width:a.width,height:a.height,playerVars:{autoplay:1,mute:1,playlist:g.videoId}},onEnd:f})}),h.jsxs("div",{className:"mt-4 flex flex-col justify-center items-center gap-2",children:[h.jsxs("div",{className:"flex justify-center items-center gap-5",children:[h.jsx("button",{className:"cursor-pointer w-5 h-5","aria-label":" ",onClick:u,children:e!==0&&h.jsx(V2,{className:"w-5 h-5 transform rotate-90"})}),h.jsx("h2",{className:"text-gray-700 text-xl font-semibold",children:g.title}),h.jsx("button",{className:"cursor-pointer","aria-label":" ",onClick:f,children:e<3&&h.jsx(V2,{className:"w-5 h-5 transform -rotate-90"})})]}),h.jsx("p",{className:"text-gray-500 text-sm",children:"        ."}),h.jsx("p",{className:"text-gray-500 text-sm",children:"     ,   ,         ."}),h.jsxs(lr.Modal.ButtonContainer,{className:"mt-4",children:[h.jsx(H_,{label:"   ",checked:n,onChange:()=>r(!n)}),h.jsx("button",{onClick:b,className:"px-4 cursor-pointer text-white py-2 bg-blue-500 hover:bg-blue-600 rounded-md",children:" "})]})]})]})]})}const Vde=["","","","","","","","","//","","","",""];function u7(){return h.jsx("thead",{className:"bg-gray-100",children:h.jsx("tr",{className:"text-nowrap",children:Vde.map(e=>h.jsx("th",{className:"border border-gray-300 px-2 py-1",children:e},e))})})}function Qde(){const{type:e,openModal:t,closeModal:n}=Lr(),r=Ss(b=>b.currentSimulation),i=Ss(b=>b.setCurrentSimulation),{reloadSimulationStatus:s}=XI(),{data:o=[]}=jT(),a=JI(),l=Lr(b=>b.type),u=async()=>{try{await Ic(),i({simulationStatus:"finish"}),alert("5    ."),t("result")}catch(b){console.error(b),alert("   .")}},f=()=>{Zh().then(b=>{if(b&&"simulationId"in b&&b.simulationId!==-1){const _=b.startedAt;if(!_)return;const C=Date.now();Math.floor((C-_)/1e3)>T_?u().then():s()}else r.simulationStatus==="before"&&t("tutorial")})};I.useEffect(()=>{f()},[r.simulationStatus]);const p=r.registeredSubjects.reduce((b,_)=>{const C=_.tm_num.split("/")[0];return b+parseInt(C,10)},0),g=()=>{switch(e){case"tutorial":return h.jsx(qde,{});case"waiting":return h.jsx(dde,{});case"captcha":return h.jsx(zue,{});case"wish":return h.jsx(cde,{timetables:o,setIsModalOpen:()=>n()});case"simulation":return h.jsx(Wue,{reloadSimulationStatus:s});case"result":return h.jsx(Gue,{simulationId:r.simulationId});default:return null}},y=()=>{localStorage.removeItem("visitedTutorial")};return h.jsxs(h.Fragment,{children:[h.jsx(xr,{children:h.jsx("title",{children:"ALLCLL |  -   "})}),g(),h.jsxs("div",{className:"flex justify-between gap-5",children:[h.jsxs("div",{className:"flex gap-5",children:[h.jsx("h1",{className:"font-bold text-lg",children:" "}),h.jsx(mde,{})]}),!a&&h.jsx("button",{className:"text-gray-600 hover:text-blue-500 cursor-pointer",onClick:y,children:" "})]}),h.jsx(pde,{}),h.jsxs("section",{className:"mt-4 ",children:[h.jsx("div",{className:"font-semibold pl-2 mb-2 border-l-4 border-blue-500",children:"  "}),h.jsx("div",{className:"overflow-x-auto min-h-[300px] border-gray-300",children:h.jsxs("table",{className:"w-full border border-gray-300 border-t-3 text-xs border-t-black text-center",children:[h.jsx(u7,{}),r.simulationStatus==="progress"&&l!=="waiting"?h.jsx(QE,{isRegisteredTable:!1}):h.jsx(r1,{})]})})]}),h.jsxs("section",{className:"mt-4",children:[h.jsxs("div",{className:"w-full flex flex-col sm:flex-row sm:items-center justify-start gap-2 mb-2",children:[h.jsx("div",{className:"flex flex-col sm:flex-row items-baseline gap-2",children:h.jsx("span",{className:"font-semibold pl-2 border-l-4 border-blue-500",children:"  "})}),h.jsxs("div",{className:"flex flex-row gap-2",children:[h.jsx("button",{className:"text-xs w-14 bg-blue-500 text-white px-2 py-0.5 rounded-xs cursor-pointer",onClick:s,children:""}),h.jsxs("div",{className:"text-xs font-bold text-black",children:["  : 18 /",h.jsxs("span",{className:"text-blue-500",children:[" : ",r.registeredSubjects.length," /  : ",p]})]})]})]}),h.jsx("div",{className:"overflow-x-auto min-h-[300px] border-gray-300",children:h.jsxs("table",{className:"w-full border border-gray-300 border-t-3 text-xs border-t-black text-center",children:[h.jsx(u7,{}),r.simulationStatus==="progress"&&l!=="waiting"?h.jsx(QE,{isRegisteredTable:!0}):h.jsx(r1,{})]})})]})]})}ha.register(Cp,kp,Sp,S_,Kd,Oj,Yd,Gd);function Kde({result:e}){const[t,n]=I.useState(!0),r=t?e.simulations.filter(g=>g.totalTime<=80&&g.searchBtnTime>0):e.simulations,i=r.map((g,y)=>` ${y+1}`),s=r.map(g=>g.searchBtnTime),o=r.map(g=>g.captchaTime-g.searchBtnTime),a=r.map(g=>g.subjectTime-g.captchaTime),l=r.map(g=>g.totalTime-g.subjectTime),u=r&&r.length<50?16:8,f={labels:i,datasets:[{type:"bar",label:"  ",data:s,barThickness:u,backgroundColor:"rgba(75, 192, 192, 0.7)",stack:"Stack 0"},{type:"bar",label:"   ",data:o,barThickness:u,backgroundColor:"rgba(255, 99, 132, 0.7)",stack:"Stack 0"},{type:"bar",label:"  ",data:a,barThickness:u,backgroundColor:"rgba(54, 162, 235, 0.7)",stack:"Stack 0"},{type:"bar",label:" ",data:l,barThickness:u,backgroundColor:"rgba(153, 102, 255, 0.7)",stack:"Stack 0"},{type:"line",label:" ",data:s,borderColor:"rgba(75, 192, 192, 1)",borderWidth:2,pointRadius:4,pointBackgroundColor:"rgba(75, 192, 192, 1)",fill:!1,tension:.1},{type:"line",label:" ",data:o,borderColor:"rgba(255, 99, 132, 1)",borderWidth:2,pointRadius:4,pointBackgroundColor:"rgba(255, 99, 132, 1)",fill:!1,tension:.1},{type:"line",label:"  ",data:a,borderColor:"rgba(54, 162, 235, 1)",borderWidth:2,pointRadius:4,pointBackgroundColor:"rgba(54, 162, 235, 1)",fill:!1,tension:.1},{type:"line",label:"  ",data:l,borderColor:"rgba(153, 102, 255, 1)",borderWidth:2,pointRadius:4,pointBackgroundColor:"rgba(153, 102, 255, 1)",fill:!1,tension:.1}]},p={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"},tooltip:{callbacks:{label:function(g){const y=g.dataset.label||"",b=g.parsed.y;return`${y}: ${b.toFixed(2)}`}}}},scales:{x:{title:{display:!0,text:""}},y:{stacked:!0,title:{display:!0,text:" ()"},ticks:{callback:function(g){return(Ac(g)?g.toFixed(1):g)+""}}}}};return h.jsxs("div",{className:"w-full h-96 p-4 box-border",children:[h.jsxs("div",{className:"flex justify-between items-center mb-4",children:[h.jsx("div",{}),h.jsxs("div",{className:"text-lg font-semibold",children:[h.jsx("input",{id:"normal-data",type:"checkbox",className:"cursor-pointer",onChange:g=>n(g.target.checked),checked:t}),h.jsx("label",{htmlFor:"normal-data",className:"text-sm pl-2 cursor-pointer",children:" "})]})]}),h.jsx("div",{className:"h-full pb-6 overflow-x-auto",children:h.jsx(zj,{type:"bar",data:f,options:p})})]})}function Gde({result:e}){const{data:t}=pa(),n=I.useMemo(()=>Yde(t,e.subjects),[t,e]);return h.jsxs("table",{className:"min-w-full text-sm text-center text-nowrap",children:[h.jsx("thead",{className:"bg-gray-100 text-gray-600",children:h.jsxs("tr",{children:[h.jsx("th",{className:"py-2 px-2",children:""}),h.jsx("th",{className:"py-2 px-2",children:""}),h.jsx("th",{className:"py-2 px-2",children:""}),h.jsx("th",{className:"py-2 px-2",children:""}),h.jsx("th",{className:"py-2 px-2",children:""}),h.jsx("th",{className:"py-2 px-2",children:"/"})]})}),h.jsx("tbody",{className:"text-gray-700",children:n.map(r=>h.jsxs("tr",{className:"border-t border-gray-200",children:[h.jsx("td",{className:"py-2 px-1",children:r.subjectCode+"-"+r.classCode}),h.jsx("td",{className:"py-2 px-1",children:r.subjectName}),h.jsx("td",{className:"py-2 px-1",children:r.professorName}),h.jsx("td",{className:"py-2 px-1",children:r.avgIndex.toFixed(2)}),h.jsx("td",{className:"py-2 px-1",children:r.avgCompletionTime.toFixed(2)+" sec"}),h.jsxs("td",{className:"py-2 px-2",children:[h.jsx("span",{className:"px-1 py-0.5 rounded-full text-xs font-bold text-green-500",children:r.successCount}),"/",h.jsx("span",{className:"px-1 py-0.5 rounded-full text-xs font-bold text-red-500",children:r.failedCount}),"/",h.jsx("span",{className:"px-1 py-0.5 rounded-full text-xs font-bold text-gray-500",children:r.doubledCount}),"/",h.jsx("span",{className:"px-1 py-0.5 rounded-full text-xs font-bold text-black",children:r.totalCount})]})]},r.subjectId))})]})}function Yde(e,t){if(!t||!e)return[];const n=r=>e.find(i=>i.subjectId===r);return t.map(r=>{const i=n(r.subjectId);return{...r,subjectName:i?.subjectName||"",departmentName:i?.departmentName||"",departmentCode:i?.departmentCode||"",subjectCode:i?.subjectCode||"",classCode:i?.classCode||"",professorName:i?.professorName||null}})}function Xde(){const e=af(async()=>{try{return await QI()}catch(r){return{error:r.message}}});if(e&&"error"in e)return h.jsxs("div",{className:"flex flex-col w-full items-center justify-center h-120 gap-3",children:[h.jsx(Kw,{className:"h-12 w-12"}),h.jsx("div",{className:"text-center text-gray-500",children:e.error}),h.jsx(hi,{to:"/simulation",className:"bg-blue-500 text-white px-4 py-2 rounded-md hover:bg-blue-600 cursor-pointer",children:"  "})]});const{simulations:t}=e||{simulations:[]},n=e?{user_ability:{searchBtnSpeed:t.reduce((r,i)=>r+i.searchBtnTime,0)/t.length||0,totalSpeed:t.reduce((r,i)=>r+i.totalTime/i.subjectCount,0)/t.length||0,accuracy:t.reduce((r,i)=>r+i.accuracy,0)/t.length||0,captchaSpeed:t.reduce((r,i)=>r+(i.captchaTime-i.searchBtnTime)/i.subjectCount,0)/t.length||0}}:void 0;return!n||!e?h.jsxs("div",{className:"flex flex-col w-full items-center justify-center h-120",children:[h.jsx("div",{className:"animate-spin h-16 w-16 mx-auto my-10",children:h.jsxs("svg",{className:"h-16 w-16 fill-transparent",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[h.jsx("circle",{className:"opacity-25 stroke-blue-500",cx:"12",cy:"12",r:"10",strokeWidth:"4"}),h.jsx("path",{className:"opacity-75 fill-blue-500",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2.93 6.243A8.001 8.001 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3.93-1.695z"})]})}),h.jsxs("div",{className:"text-center text-gray-500 my-10",children:["    ... ",h.jsx("br",{})," "]})]}):h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"flex gap-3 flex-wrap",children:[h.jsx("div",{className:"relative flex-1 min-w-[240px]",children:h.jsx(E_,{result:n})}),h.jsx("div",{className:"flex-1 min-w-[240px] overflow-x-auto",children:h.jsx(Gde,{result:e})})]}),h.jsx("div",{children:h.jsx(Kde,{result:e})})]})}const Jde=e=>I.createElement("svg",{width:26,height:26,viewBox:"0 0 26 26",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},I.createElement("path",{d:"M5.54964 1.99315C5.50209 1.17248 6.41035 0.64822 7.09733 1.0996L20.3806 9.83538C21.12 10.3219 20.9092 11.4586 20.0444 11.6476L15.7086 12.5948L21.1016 21.9358C21.3775 22.4141 21.2138 23.0258 20.7356 23.3019L17.8077 24.9923C17.3295 25.2684 16.7179 25.1043 16.4417 24.6263L11.0764 15.3334L8.21097 18.4797C7.61486 19.134 6.52521 18.7482 6.47343 17.8647L5.54964 1.99315Z",fill:"#0756FF"}));function Zde(){return h.jsxs(h.Fragment,{children:[h.jsx("h1",{className:"text-2xl font-bold mb-2",children:"   "}),h.jsx("p",{className:"text-gray-500 mb-4",children:"    ."}),h.jsx(efe,{})]})}function efe(){const e=af(Vue),t=e?e.snapshots:[],n=e===void 0,r=e===null;return n?h.jsx("div",{className:"flex justify-center items-center h-64",children:h.jsx("span",{className:"text-gray-500",children:" ..."})}):r?h.jsx("div",{className:"flex justify-center items-center h-64",children:h.jsx("span",{className:"text-red-500",children:" "})}):t.length?t.map(i=>h.jsxs(hi,{to:`/simulation/logs/${i.simulation_run_id}`,className:"flex items-center justify-between bg-white p-3 rounded-md text-sm shadow-md shadow-gray-300 mb-2 hover:bg-gray-100",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("p",{className:"hidden",children:"id"}),h.jsx("span",{className:"font-bold",children:i.simulation_run_id}),h.jsx("p",{className:"hidden",children:""}),h.jsx("span",{children:i.department_name?i.department_name.split(" ")[i.department_name.split(" ").length-1]:"  "})]}),h.jsxs("div",{className:"flex items-center text-center",children:[h.jsxs("div",{className:"",children:[h.jsx("p",{className:"text-xs",children:" "}),h.jsxs("span",{className:"text-sm font-bold",children:[i.accuracy,"%"]})]}),h.jsxs("div",{className:"flex items-center justify-end gap-1 w-20",children:[h.jsx("p",{className:"hidden",children:""}),h.jsx(Jde,{className:"w-4 h-4"}),h.jsx("span",{className:"font-bold",children:i.score.toFixed(3)})]})]})]},"simulation-log-"+i.simulation_run_id)):h.jsx("div",{className:"flex justify-center items-center",children:h.jsx("span",{className:"text-gray-500",children:" "})})}function tfe(){return h.jsxs(h.Fragment,{children:[h.jsx(xr,{children:h.jsx("title",{children:"ALLCLL |  -  "})}),h.jsxs("section",{className:"max-w-7xl mx-auto",children:[h.jsx("h1",{className:"text-2xl font-bold mb-2",children:" "}),h.jsx("p",{className:"text-gray-500 mb-4",children:"   ,    ."}),h.jsx("div",{className:"bg-white p-3 rounded-md text-sm shadow-md shadow-gray-300",children:h.jsx(Xde,{})})]}),h.jsx("section",{className:"max-w-3xl mx-auto mt-12",children:h.jsx(Zde,{})})]})}const ip=32,d7=200;function nfe({result:e}){const t=ufe(e),n=(e.ended_at-e.started_at)/1e3,r=Array.from({length:Math.floor(n)+5},(i,s)=>s+1);return h.jsxs("div",{className:"relative",children:[h.jsxs("div",{className:"relative overflow-x-auto overflow-y-hidden",children:[h.jsx("div",{className:"absolute top-0 flex h-full",style:{left:`${d7}px`},children:r.map(i=>h.jsx("div",{className:"border-r border-gray-200 relative",style:{width:`${ip}px`},children:h.jsx("span",{className:"absolute text-xs text-gray-400 bg-white bottom-0 right-0 translate-x-1/2",children:i})},i))}),t.map((i,s)=>h.jsxs("div",{className:"flex items-center",style:{width:`${ip*r.length}px`},children:[h.jsxs("div",{className:"py-2 text-sm md:sticky left-0 right-0 z-10 bg-white",style:{width:`${d7}px`},children:[h.jsx("div",{className:`font-semibold ${lfe(i.color)}`,children:i.name}),h.jsx("span",{className:`text-xs ${afe(i.color)}`,children:i.code})]}),h.jsx("div",{className:"flex-1 relative h-8",children:h.jsx(rfe,{timelines:i.timelines})})]},"timeline-row-"+s))]}),h.jsx("div",{className:"pointer-events-none absolute inset-y-4 left-0 md:left-[200px] w-3 bg-gradient-to-r from-white to-transparent"}),h.jsx("div",{className:"pointer-events-none absolute inset-y-4 right-0 w-3 bg-gradient-to-l from-white to-transparent"})]})}function rfe({timelines:e}){return e.map((t,n)=>{const r=t.start*ip-12,i=t.duration*ip+24;return h.jsx("div",{className:`absolute top-1 h-6 rounded-full px-3 ${sfe(t.color)}`,style:{left:`${r}px`,width:`${i}px`},children:t.events.map((s,o)=>h.jsx(ife,{event:s,startAt:t.start,color:t.color,isTop:t.isTop},"timeline-dot-"+o))},"timeline-bar-"+n)})}function ife({event:e,startAt:t,color:n,isTop:r}){const i=(e.start-t)*ip+6,s=cfe(e.event),o=e.start,a=r?"top-4":"bottom-4";return h.jsxs("div",{className:"absolute top-1.5",style:{left:`${i}px`},children:[h.jsx("div",{className:`w-3 h-3 peer bg-white border-2 rounded-full hover:shadow cursor-pointer ${ofe(n)}`}),h.jsxs("div",{className:`absolute z-10 ${a} left-1/2 -translate-x-1/2 px-2 py-1 rounded bg-black text-white text-nowrap text-xs text-center opacity-0 peer-hover:opacity-100 transition-opacity duration-200`,children:[s,h.jsx("br",{}),o.toFixed(2)," sec"]})]})}function sfe(e){switch(e){case"green":return"bg-green-100 border-green-500 text-green-700";case"red":return"bg-red-100 border-red-500 text-red-700";case"orange":return"bg-orange-100 border-orange-500 text-orange-700";case"yellow":return"bg-yellow-100 border-yellow-500 text-yellow-700";default:return"bg-gray-100 border-gray-500 text-gray-700"}}function ofe(e){switch(e){case"green":return"border-green-500 text-green-500 shadow-green-500";case"red":return"border-red-500 text-red-500 shadow-red-500";case"orange":return"border-orange-500 text-orange-500 shadow-orange-500";case"yellow":return"border-yellow-500 text-yellow-500 shadow-yellow-500";default:return"border-gray-500 text-gray-500 shadow-gray-500"}}function afe(e){switch(e){case"green":return"text-green-500";case"red":return"text-red-500";case"orange":return"text-orange-500";case"yellow":return"text-yellow-500";default:return"text-gray-500"}}function lfe(e){switch(e){case"green":return"text-green-600";case"red":return"text-red-600";case"orange":return"text-orange-600";case"yellow":return"text-yellow-600";default:return"text-gray-600"}}function cfe(e){switch(e){case ar.SEARCH:return"  ";case ar.APPLY:return"  ";case ar.CAPTCHA:return"   ";case ar.SUBJECT_SUBMIT:return"   ";case ar.SKIP_REFRESH:return" ";case ar.REFRESH:return"  ";case ar.CANCEL_SUBMIT:return"  "}}function ufe(e){const{timeline:t,started_at:n,subject_results:r}=e;return r.map(i=>({name:i.subjectInfo?.subjectName,code:i.subjectInfo?.subjectCode+"-"+i.subjectInfo?.classCode,color:x2(i.status),timelines:t.filter(s=>s.subject_id===i.subject_id).map(s=>({color:x2(s.status),start:(s.started_at-n)/1e3,duration:(s.ended_at-s.started_at)/1e3,isTop:r[0].subject_id===s.subject_id,events:s.events.reduce((o,a,l)=>[...o,{event:a.event,duration:l==0?0:(a.timestamp-s.events[l-1].timestamp)/1e3,start:(a.timestamp-n)/1e3}],[])}))}))}function dfe({result:e}){const{subject_results:t,started_at:n}=e;return h.jsxs("table",{className:"min-w-full text-sm text-center text-nowrap",children:[h.jsx("thead",{className:"bg-gray-100 text-gray-600",children:h.jsxs("tr",{children:[h.jsx("th",{className:"py-2 px-2",children:""}),h.jsx("th",{className:"py-2 px-2",children:""}),h.jsx("th",{className:"py-2 px-2",children:""}),h.jsx("th",{className:"py-2 px-2",children:""}),h.jsx("th",{className:"py-2 px-2",children:""}),h.jsx("th",{className:"py-2 px-2",children:"/"})]})}),h.jsx("tbody",{className:"text-gray-700",children:t.map(r=>h.jsxs("tr",{className:"border-t border-gray-200",children:[h.jsx("td",{className:"py-2 px-1",children:r.subjectInfo?.subjectCode+"-"+r.subjectInfo?.classCode}),h.jsx("td",{className:"py-2 px-1",children:r.subjectInfo?.subjectName}),h.jsx("td",{className:"py-2 px-1",children:r.subjectInfo?.professorName}),h.jsx("td",{className:"py-2 px-1",children:r.selected_index}),h.jsx("td",{className:"py-2 px-1",children:((r.ended_at-n)/1e3).toFixed(2)+" sec"}),h.jsx("td",{className:"py-2 px-2",children:h.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs ${oZ(r.status)}`,children:r.status===un.SUCCESS?"":""})})]},"subject-detail-row-"+r.subject_id))})]})}function ffe(){const{runId:e}=O7(),{data:t}=tu(),n=af(()=>Que(Number(e))),r=I.useMemo(()=>hfe(t,n),[t,n]);return h.jsxs(h.Fragment,{children:[h.jsx(xr,{children:h.jsx("title",{children:"ALLCLL |  -   "})}),h.jsx("h1",{className:"text-2xl font-bold mb-6",children:"   "}),h.jsxs("section",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[h.jsxs("div",{className:"relative bg-white p-6 rounded-2xl shadow-sm",children:[h.jsx("h2",{className:"text-lg font-semibold mb-4",children:"  "}),r?h.jsx(E_,{result:r}):h.jsx("div",{className:"text-center text-gray-500",children:"  ..."})]}),h.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm overflow-x-auto",children:[h.jsx("h2",{className:"text-lg font-semibold mb-4 min-w-[240px] overflow-x-auto",children:"  "}),r?h.jsx(dfe,{result:r}):h.jsx("div",{className:"text-center text-gray-500",children:"  ..."})]})]}),h.jsxs("section",{className:"bg-white p-6 rounded-2xl shadow-sm",children:[h.jsx("div",{className:"flex items-start justify-between mb-4",children:h.jsx("h2",{className:"text-lg font-semibold mb-4",children:"     TimeLine"})}),r?h.jsx(nfe,{result:r}):h.jsx("div",{className:"text-center text-gray-500",children:"  ..."})]})]})}function hfe(e,t){if(!(!t||!e))return{...t,timeline:t.timeline.map(n=>({...n,subjectInfo:K2(e,n.subject_id)})),subject_results:t.subject_results.map(n=>({...n,subjectInfo:K2(e,n.subject_id)}))}}const pfe=["interested_snapshot","interested_subject","simulation_run","simulation_run_selections","simulation_run_events"];async function mfe(){ay();const e={interested_snapshot:await He.interested_snapshot.toArray(),interested_subject:await He.interested_subject.toArray(),simulation_run:await He.simulation_run.toArray(),simulation_run_selections:await He.simulation_run_selections.toArray(),simulation_run_events:await He.simulation_run_events.toArray()},t=new Blob([JSON.stringify(e)],{type:"application/json"}),n=URL.createObjectURL(t),r=document.createElement("a");r.href=n,r.download="db-backup.json",r.click(),URL.revokeObjectURL(n)}async function gfe(){ay();const e=await He.simulation_run.filter(f=>f.ended_at===-1).last();if(!e)throw new Error("  .");const t=await He.simulation_run_selections.where("simulation_run_id").equals(e.simulation_run_id).toArray(),n=t.map(f=>f.run_selections_id),r=await He.simulation_run_events.filter(f=>n.includes(f.simulation_section_id)).toArray(),i=await He.interested_snapshot.where("snapshot_id").equals(e.snapshot_id).toArray(),s=await He.interested_subject.where("snapshot_id").equals(e.snapshot_id).toArray(),o={simulation_run:[e],simulation_run_selections:t,simulation_run_events:r,interested_snapshot:i,interested_subject:s},a=new Blob([JSON.stringify(o)],{type:"application/json"}),l=URL.createObjectURL(a),u=document.createElement("a");u.href=l,u.download="ongoing-simulation.json",u.click(),URL.revokeObjectURL(l)}async function yfe(e){ay();const t=await e.text(),n=JSON.parse(t);await He.transaction("rw",He.interested_snapshot,He.interested_subject,async()=>{await He.interested_snapshot.clear(),await He.interested_subject.clear(),await He.interested_snapshot.bulkAdd(n.interested_snapshot||[]),await He.interested_subject.bulkAdd(n.interested_subject||[])}),await He.transaction("rw",He.simulation_run,He.simulation_run_selections,He.simulation_run_events,async()=>{await He.simulation_run.clear(),await He.simulation_run_selections.clear(),await He.simulation_run_events.clear(),await He.simulation_run.bulkAdd(n.simulation_run||[]),await He.simulation_run_selections.bulkAdd(n.simulation_run_selections||[]),await He.simulation_run_events.bulkAdd(n.simulation_run_events||[])})}async function vfe(){ay(),await He.transaction("rw",He.interested_snapshot,He.interested_subject,async()=>{await He.interested_snapshot.clear(),await He.interested_subject.clear()}),await He.transaction("rw",He.simulation_run,He.simulation_run_selections,He.simulation_run_events,async()=>{await He.simulation_run.clear(),await He.simulation_run_selections.clear(),await He.simulation_run_events.clear()})}function ay(){const e=He.tables.map(n=>n.name).sort(),t=[...pfe].sort();if(JSON.stringify(e)!==JSON.stringify(t))throw new Error(`DB   : ${e.join(", ")}`)}const xfe=()=>{const[e,t]=I.useState(null),n=l=>{l.target.files&&t(l.target.files[0])},r=async()=>{try{await mfe(),alert("Backup completed successfully.")}catch(l){console.error(l),alert("Failed to backup the database.")}},i=async()=>{try{await gfe(),alert("Backup completed successfully.")}catch(l){console.error(l),alert(l)}},s=async()=>{if(e)try{await yfe(e),alert("Restore completed successfully.")}catch(l){console.error(l),alert("Failed to restore the database.")}else alert("Please select a file to restore.")},o=async()=>{try{await vfe(),alert("Database cleared successfully."),window.location.href="/simulation"}catch(l){console.error(l),alert("Failed to delete the database.")}},a=async()=>{try{await Ic(),window.location.href="/simulation"}catch(l){console.error(l),alert("Failed to delete the database.")}};return h.jsxs(h.Fragment,{children:[h.jsx(xr,{children:h.jsx("title",{children:"ALLCLL |  -   "})}),h.jsxs("div",{className:"max-w-4xl min-h-screen mx-auto p-8 space-y-6",children:[h.jsx("h2",{className:"text-2xl font-semibold text-center text-gray-900",children:" "}),h.jsxs("div",{className:"flex justify-center gap-5",children:[h.jsx("button",{onClick:i,className:"bg-slate-200 cursor-pointer text-gray-800 px-6 py-3 rounded-md shadow-md hover:bg-slate-400 hover:text-white transition-colors",children:"  "}),h.jsx("button",{onClick:a,className:"w-full md:w-auto bg-blue-600 cursor-pointer text-white px-6 py-3 rounded-md shadow-md hover:bg-blue-700 transition-colors",children:" "})]}),h.jsxs("div",{className:"flex justify-center gap-5",children:[h.jsx("button",{onClick:r,className:"bg-gray-100 cursor-pointer text-gray-800 px-6 py-3 rounded-md shadow-md hover:bg-gray-400 hover:text-white transition-colors",children:"  "}),h.jsx("button",{onClick:o,className:"bg-red-600  cursor-pointer text-white px-6 py-3 rounded-md shadow-md hover:bg-red-700 hover:text-white transition-colors",children:" "})]}),h.jsxs("div",{className:"flex items-center space-x-4 justify-center",children:[h.jsx("input",{type:"file",accept:".json",onChange:n,className:"block w-full md:w-80 cursor-pointer text-sm text-gray-700 py-2 px-3 border border-gray-300 rounded-md shadow-sm focus:ring-2 focus:ring-blue-500"}),h.jsx("button",{onClick:s,className:"bg-white cursor-pointer text-gray-800 px-6 py-3 rounded-md shadow-md hover:bg-gray-400 hover:text-white transition-colors",children:" "})]})]})]})},bfe=()=>h.jsxs(h.Fragment,{children:[h.jsx(xr,{children:h.jsx("title",{children:"ALLCLL |  -  "})}),h.jsx("section",{className:"border p-2 text-xs",children:h.jsxs("div",{className:"flex flex-col gap-4",children:[h.jsx("div",{className:"flex gap-8 h-10"}),h.jsxs("div",{className:"flex justify-between",children:[h.jsxs("div",{className:"flex gap-4",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("span",{className:"font-bold",children:""}),h.jsx("select",{className:"border-gray-300 border px-2 py-1 w-48 disabled:bg-gray-100",disabled:!0,children:h.jsx("option",{children:""})})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("span",{className:"font-bold",children:""}),h.jsx("select",{className:"border-gray-300 border px-2 py-1 w-48 disabled:bg-gray-100",disabled:!0,children:h.jsx("option",{children:""})}),h.jsx("select",{className:"cursor-pointer border px-2 py-1 w-120 border-gray-300 bg-white",onChange:()=>{},children:h.jsx("option",{value:"none",children:" "})})]})]}),h.jsx("button",{className:"px-4 py-2 rounded text-white bg-gray-700 hover:bg-gray-800 cursor-pointer",children:""})]})]})}),h.jsxs("section",{className:"grid grid-cols-2 gap-5 ",children:[h.jsxs("div",{children:[h.jsx("div",{className:"font-semibold pl-2 mb-2 border-l-4 border-blue-500",children:"  "}),h.jsx("div",{className:"overflow-x-scroll min-h-[1000px] border-gray-300",children:h.jsxs("table",{className:"min-w-[1200px] text-center border border-gray-300 border-t-3 border-t-black text-xs",children:[h.jsx("thead",{className:"bg-gray-100",children:h.jsx("tr",{children:["","","","","","","","","//","","","",""].map((e,t)=>h.jsx("th",{className:"border border-gray-300 px-2 py-1 ",children:e},t))})}),h.jsx("tbody",{children:h.jsx(r1,{})})]})})]}),h.jsx("div",{children:h.jsxs("div",{className:"overflow-x-auto min-h-[1000px] border-gray-300",children:[h.jsxs("div",{className:"flex flex-row gap-3 items-center pl-2 mb-2 border-l-4 border-blue-500",children:[h.jsx("p",{className:"font-semibold",children:" "}),h.jsx("button",{className:"text-xs bg-blue-500 text-white px-2 py-0.5 rounded-xs cursor-pointer",children:""}),h.jsx("button",{className:"text-xs bg-gray-700 text-white px-2 py-0.5 rounded-xs cursor-pointer",children:" "}),h.jsx("button",{className:"text-xs bg-gray-700 text-white px-2 py-0.5 rounded-xs cursor-pointer",children:""})]}),h.jsxs("div",{className:"flex gap-4 w-full mb-2",children:[h.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[h.jsx("span",{className:"font-semibold whitespace-nowrap",children:"  "}),h.jsx("input",{type:"text",disabled:!0,value:"24",className:"w-full px-4 py-1 border border-gray-300 rounded bg-white-100 text-center"})]}),h.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[h.jsx("span",{className:"font-semibold whitespace-nowrap",children:":"}),h.jsx("input",{type:"text",disabled:!0,value:"",className:"w-full px-4 py-1 border border-gray-300 rounded bg-white-100 text-center"})]}),h.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[h.jsx("span",{className:"font-semibold whitespace-nowrap",children:":"}),h.jsx("input",{type:"text",disabled:!0,value:"",className:"w-full px-4 py-1 border border-gray-300 rounded bg-white-100 text-center"})]})]}),h.jsxs("table",{className:"min-w-[1200px] text-center border border-gray-300 border-t-3 border-t-black text-xs",children:[h.jsx("thead",{className:"bg-gray-100",children:h.jsx("tr",{children:["","","","","","","","","","","//","","","",""].map((e,t)=>h.jsx("th",{className:"border border-gray-300 px-2 py-1",children:e},t))})}),h.jsx("tbody",{children:h.jsx("tr",{children:h.jsx("td",{colSpan:13,className:"text-gray-400 py-4",children:h.jsx("div",{className:"min-h-[500px] flex items-center justify-center ",children:h.jsx("p",{className:"bg-stone-100 px-4 py-1 border",children:"  ."})})})})})]})]})})]})]}),wfe=({timetables:e,onSelect:t,onEdit:n,onDelete:r,openCreateModal:i})=>{const s=I.useRef(null),o=kt(p=>p.currentTimetable),a=kt(p=>p.pickTimetable),l=p=>{a(p),t(p.timeTableId)},u=p=>{n&&n("",p)},f=p=>{r&&r(p)};return h.jsx("div",{className:"relative inline-block w-full max-w-sm",ref:s,children:h.jsxs(rf,{label:o?.timeTableName??" ",selected:o?.timeTableId>-1,className:"min-w-max",children:[e.length===0&&h.jsx("div",{children:"   ."}),e.length!==0&&e.map(p=>h.jsxs("div",{className:"flex gap-5",children:[h.jsx(H_,{label:p.timeTableName,checked:o.timeTableId===p.timeTableId,onChange:()=>l(p)},p.timeTableId),o.timeTableId===p.timeTableId&&h.jsxs("div",{className:"flex gap-4 text-sm",children:[h.jsx("button",{className:"text-stone-500 text-sm hover:text-stone-600 font-medium cursor-pointer",onClick:()=>u(p.timeTableId),children:""}),h.jsx("button",{className:"text-red-500  text-sm  hover:text-red-600 font-medium cursor-pointer",onClick:()=>f(p.timeTableId),children:""})]})]},p.timeTableName+p.timeTableId)),h.jsx("button",{className:"flex justify-center text-gray-500 text-sm hover:font-bold",onClick:i,children:"+  "})]})})};function _fe(){const{openScheduleModal:e}=Jr(),t=new mi().toUiData();return h.jsxs("div",{className:"flex flex-col gap-2 pt-5 w-full items-center justify-center",children:[h.jsx(Tp,{className:"w-7 h-7"}),h.jsx("p",{className:"text-md text-gray-500",children:"  ."}),h.jsx("span",{className:"text-xs text-gray-400",children:"  ?   ."}),h.jsx("button",{className:"bg-blue-500 text-white text-sm px-4 py-1 rounded-lg  hover:bg-blue-500 cursor-pointer justify-center items-center",onClick:()=>e(t),children:""})]})}function ZI({subjects:e,expandToMax:t,isPending:n=!1}){const{visibleRows:r,loadMoreRef:i}=Z1(e,"ref"),s=I.useRef(null),o=kt(f=>f.schedule.subjectId),{openScheduleModal:a,cancelSchedule:l}=Jr();if(n||!e)return h.jsx("div",{className:"w-full h-10"});if(!e.length)return h.jsx(_fe,{});const u=f=>{if(o===f.subjectId){l(void 0,!1);return}const p=new mi({...new mi().toApiData(),scheduleType:"official",subjectId:f.subjectId??-1},f);a(p.toUiData()),console.log("official",o);const b=new Qd(f.lesnTime).toUiData(9)[0]?.top;t&&(t(),setTimeout(()=>{if(b){const _=parseFloat(b);window.scrollTo({top:_,behavior:"smooth"})}},400))};return h.jsxs("div",{className:"flex flex-col gap-2",children:[e.slice(0,r).map(f=>{const p=o===f.subjectId;return h.jsx(Sfe,{subject:f,isActive:p,onClick:()=>u(f),forwardedRef:p?s:void 0},f.subjectId)}),r<e.length&&h.jsx("div",{ref:i,className:"load-more-trigger w-full h-10"})]})}function Sfe({isActive:e,subject:t,onClick:n,forwardedRef:r}){const i=e?"text-blue-500 bg-blue-50":"text-gray-700 bg-white hover:bg-gray-50",{saveSchedule:s}=Jr(),{selectTargetOnly:o}=Ip(),a=l=>{s(l,!1),o(t.subjectId),X1(t.deptCd)};return h.jsxs("div",{className:`border border-gray-200 rounded-lg p-3 sm:p-4 gap-2 sm:gap-3 flex flex-col cursor-pointer ${i}`,onClick:n,ref:r,children:[h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("h3",{className:"text-sm sm:text-lg font-semibold",children:t.subjectName}),h.jsx("span",{className:"text-xs sm:text-sm text-gray-500",children:t.professorName})]}),h.jsx("span",{className:"text-xs sm:text-sm text-gray-500",children:t.lesnTime}),h.jsx("span",{className:"text-xs sm:text-sm text-gray-500",children:t.lesnRoom}),h.jsxs("span",{className:"text-xs sm:text-sm text-gray-500",children:[t.studentYear,"/",t.manageDeptNm]}),h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsxs("div",{className:`w-fit rounded-xl flex items-center text-xs sm:text-sm text-gray-500 ${e?"":"bg-gray-100 px-2 py-0.5 sm:px-2.5 sm:py-0.5"}`,children:[t.tmNum[0],""]}),e&&h.jsx("button",{onClick:a,className:"bg-blue-500 border-none cursor-pointer rounded-xl px-2 py-0.5 sm:px-2.5 sm:py-1 text-white text-xs sm:text-sm hover:bg-blue-600",children:""})]})]})}function Cfe({onCloseSearch:e}){const{data:t=[],isPending:n}=Cs(),{openScheduleModal:r,cancelSchedule:i}=Jr(),s=Gs(f=>f.filters),o=Gs(f=>f.setFilter),{keywords:a}=s,l=I.useDeferredValue(nf(t,s)),u=new mi().toUiData();return h.jsx(Pp,{children:({expandToMax:f})=>h.jsxs(h.Fragment,{children:[h.jsx(Op,{title:"",headerType:"add",onClose:i,onClick:()=>r(u)}),h.jsxs("div",{className:"sticky px-2 top-0 bg-white z-10 flex items-center gap-2 py-3",children:[h.jsx(Jc,{type:"text",placeholder:"   ",value:a,onChange:p=>o("keywords",p.target.value),onDelete:()=>o("keywords",""),className:"pl-10 pr-6 py-2 rounded-md w-full bg-white border border-gray-400 text-[16px]"}),h.jsx("button",{className:"w-20 justify-center flex cursor-pointer",onClick:()=>e("filter"),children:h.jsx(zN,{className:"w-6 h-6"})})]}),h.jsx("div",{className:"max-h-[70vh] min-h-0 px-2 overflow-y-auto touch-auto flex flex-col",children:h.jsx(ZI,{expandToMax:f,subjects:l,isPending:n})})]})})}function eR({label:e,required:t,id:n,...r}){return h.jsxs("div",{className:"h-12 w-full flex flex-col",children:[e&&h.jsx("label",{htmlFor:n,className:`text-xs  text-gray-400 after:ml-0.5 ${t?'after:content-["*"] after:text-red-500':""}`,children:e}),h.jsx("input",{id:n,required:t,...r,className:"text-[16px] placeholder:text-gray-400 placeholder:text-sm w-full m-2 bg-transparent focus:outline-none border-b border-gray-200 focus:border-blue-500 focus:border-b-2"})]})}const qg=Array.from({length:24},(e,t)=>`${t}`),Vg=["00","10","20","30","40","50"];function kfe({timeRange:e,onChange:t,day:n}){const r=(i,s)=>{if(n){t(i,s,n);return}t(i,s)};return h.jsx("div",{className:" w-full h-3 flex gap-2 flex-col justify-center",children:h.jsxs("div",{className:"relative w-full flex gap-2 flex-wrap",children:[h.jsx("select",{name:"startHour",value:e.startHour??qg[8],onChange:i=>r("startHour",i.target.value),className:"bg-gray-100 px-3 py-2 rounded-md text-xs text-gray-600 w-fit",children:qg.map(i=>h.jsx("option",{value:i,children:i},i))}),h.jsx("select",{name:"startMinute",value:e.startMinute??Vg[0],onChange:i=>r("startMinute",i.target.value),className:"bg-gray-100 px-3 py-2 rounded-md text-xs text-gray-600 w-fit",children:Vg.map(i=>h.jsx("option",{value:i,children:i},i))}),h.jsx("span",{className:"text-gray-400 text-sm mx-1",children:"~"}),h.jsx("select",{name:"endHour",value:e.endHour??qg[9],onChange:i=>r("endHour",i.target.value),className:"bg-gray-100 px-3 py-2 rounded-md text-xs text-gray-600 w-fit",children:qg.map(i=>h.jsx("option",{value:i,children:i},i))}),h.jsx("select",{name:"endMinute",value:e.endMinute??Vg[0],onChange:i=>r("endMinute",i.target.value),className:"bg-gray-100 px-3 py-2 rounded-md text-xs text-gray-600 w-fit",children:Vg.map(i=>h.jsx("option",{value:i,children:i},i))})]})})}function tR(){const{schedule:e,modalActionType:t}=xp(),{editSchedule:n,saveSchedule:r,deleteSchedule:i,cancelSchedule:s}=Jr(),o=vo(_=>_.openBottomSheet),a=kt(_=>_.options.isMobile),l=[{id:"subjectName",name:"",value:e?.subjectName??""},{id:"professorName",name:"",value:e?.professorName??""},{id:"location",name:"",value:e?.location??""}],u=(_,C)=>{const[k,R]=_.split(":"),[O,$]=C.split(":");return{startHour:k,startMinute:R,endHour:O,endMinute:$}},f=_=>{const C=e.timeSlots.find(k=>k.dayOfWeeks===_);n(C?k=>({...k,timeSlots:k.timeSlots.filter(R=>R.dayOfWeeks!==_)}):k=>({...k,timeSlots:[...k.timeSlots,{dayOfWeeks:_,startTime:"",endTime:""}]}))},p=(_,C,k)=>{const R=$=>{let[z,j]=$.split(":").map(Number);return isNaN(z)&&(z=9),isNaN(j)&&(j=0),[z.toString(),j.toString().padStart(2,"0")]},O=$=>{const[z,j]=R($);return`${z}:${j}`};n($=>{const z=$.timeSlots.map(j=>{if(console.log(j),j.dayOfWeeks!==k)return j;const[A,B]=R(j.startTime),[U,D]=R(j.endTime);let Z=j.startTime,X=j.endTime;return _==="startHour"&&(Z=`${C}:${B}`),_==="startMinute"&&(Z=`${A}:${C}`),_==="endHour"&&(X=`${C}:${D}`),_==="endMinute"&&(X=`${U}:${C}`),{...j,startTime:O(Z),endTime:O(X)}});return{...$,timeSlots:z}})},g=_=>{r(_)},y=_=>{i(_)},b=()=>{s(),o("search")};return h.jsxs("form",{onSubmit:g,className:"flex flex-col gap-5",children:[l.map(({id:_,name:C,value:k})=>h.jsx("div",{className:"flex gap-6",children:h.jsx(eR,{id:_,placeholder:`${C} `,value:k,label:C,onChange:R=>n(O=>({...O,[_]:R.target.value})),required:!0})},"text-field"+_)),h.jsx("div",{className:"flex gap-2 flex-row",children:h.jsxs("div",{className:"flex gap-2 items-center",children:[h.jsx("p",{className:"text-gray-400 text-xs",children:""}),R1.map(_=>h.jsx(Ir,{label:_,selected:e.timeSlots.some(C=>C.dayOfWeeks===_),onClick:()=>f(_)},_))]})}),e.timeSlots.map(_=>h.jsxs("div",{className:"flex gap-2 ",children:[h.jsx("p",{className:"text-xs text-gray-400",children:_.dayOfWeeks}),h.jsx(kfe,{day:_.dayOfWeeks,timeRange:u(_.startTime,_.endTime),onChange:p})]},_.dayOfWeeks)),h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("div",{children:a&&h.jsx("button",{type:"button",className:"text-xs text-blue-500 hover:text-blue-600 hover:underline cursor-pointer",onClick:b,children:"+   "})}),h.jsxs("div",{className:"flex justify-end gap-3",children:[(t===pr.EDIT||t===pr.VIEW)&&h.jsx("button",{type:"button",onClick:y,className:"text-xs text-white bg-red-500 hover:bg-red-600 w-15 rounded-lg px-4 py-2 cursor-pointer ",children:""}),h.jsx("button",{type:"submit",className:"text-xs text-white bg-blue-500 hover:bg-blue-600 w-15 rounded-lg px-4 py-2 cursor-pointer ",children:""})]})]})]})}function Efe(){const{modalActionType:e}=xp(),{cancelSchedule:t}=Jr(),n=i=>{t(i)},r=e===pr.CREATE?"":"";return h.jsxs(Pp,{children:[h.jsx(Op,{title:`  ${r}`,headerType:"close",onClose:n}),h.jsx("div",{className:"flex flex-col py-5 px-5 gap-5 overflow-y-auto max-h-[70vh]",children:h.jsx(tR,{})})]})}function Tfe(){const{modalActionType:e}=xp(),{cancelSchedule:t}=Jr(),n=e===pr.CREATE?"":"",r=i=>{i.key==="Escape"&&t(i)};return I.useEffect(()=>(document.addEventListener("keydown",r),()=>{document.removeEventListener("keydown",r)}),[]),h.jsx("div",{className:"fixed inset-0 z-50  hidden md:flex items-center justify-center  bg-black/10",onClick:t,children:h.jsxs("div",{className:"bg-white flex border border-gray-200 rounded-xl flex-col gap-2 w-[90%] max-w-md p-8 shadow-xl relative",onClick:i=>i.stopPropagation(),role:"dialog","aria-modal":"true",children:[h.jsxs("div",{className:"flex w-full justify-between",children:[h.jsxs("h3",{className:"font-semibold",children:["  ",n]}),h.jsx("button",{className:"w-6 h-6 cursor-pointer flex items-center justify-center bg-gray-100 rounded-full",onClick:t,children:h.jsx(bp,{})})]}),h.jsx(tR,{})]})})}function jfe(){const[e,t]=I.useState(!1),n=Gs(a=>a.filters),r=Gs(a=>a.setFilter),i=Gs(a=>a.resetFilters),{data:s}=Cs(),o=Rp(s??[]).sort((a,l)=>a.localeCompare(l)).map(a=>a);return h.jsxs("div",{className:"flex items-center flex-wrap gap-2 mr-20",children:[h.jsx(q_,{handleOpenFilter:()=>t(!0)}),h.jsx(V_,{department:n.department,setFilter:r}),h.jsx(Gn,{filterKey:"days",options:Rn.days,selectedValues:n.days??[],setFilter:r}),h.jsx(Gn,{filterKey:"credits",options:Rn.credits,selectedValues:n.credits??[],setFilter:r}),h.jsx(Gn,{filterKey:"grades",options:Rn.grades,selectedValues:n.grades??[],setFilter:r}),n.note.length>0&&h.jsx(Gn,{filterKey:"note",options:Rn.remark,selectedValues:n.note??[],setFilter:r}),n.categories.length>0&&h.jsx(Gn,{filterKey:"categories",options:o,selectedValues:n.categories??[],setFilter:r}),n.classroom.length>0&&h.jsx(Gn,{filterKey:"classroom",options:Rn.classRoom,selectedValues:n.classroom??[],setFilter:r}),h.jsx(Q_,{filters:n,resetFilter:i}),e&&h.jsx(K_,{filterStore:Gs,onClose:()=>t(!1)})]})}const Nfe=new mi().toUiData();function Ife(){const{openScheduleModal:e}=Jr(),{data:t,isPending:n}=pa(),r=jp(t)??[],i=Gs(a=>a.filters),s=Gs(a=>a.setFilter),o=I.useDeferredValue(nf(r,i));return h.jsxs("div",{className:"w-full h-screen md:basis-1/3 p-4 md:border-t-0 flex flex-col gap-3 bg-white shadow-md rounded-lg",children:[h.jsx(Jc,{type:"text",value:i.keywords,placeholder:" ",onDelete:()=>s("keywords",""),onChange:a=>s("keywords",a.target.value)}),h.jsx(jfe,{}),h.jsx("button",{type:"button",className:"text-blue-500 cursor-pointer text-sm",onClick:()=>e(Nfe),children:"+   "}),h.jsx("div",{className:"flex flex-col h-full overflow-hidden",children:h.jsx("div",{className:"overflow-y-auto flex-grow",children:h.jsx(ZI,{subjects:o,isPending:n})})})]})}function Rfe({onClose:e,type:t}){const[n,r]=I.useState(""),i=kt(p=>p.currentTimetable),{mutate:s}=wV(),{mutate:o}=NT(),{mutate:a}=IT(),l=()=>{t==="edit"&&i&&(o(i.timeTableId),e())},u=p=>{if(p.preventDefault(),i&&t==="edit"){s({timeTableId:i.timeTableId,timeTableName:n}),e();return}t==="create"&&(a({timeTableName:n,semester:"2025-2"}),e())},f=p=>{p.key==="Escape"&&e()};return I.useEffect(()=>(window.addEventListener("keydown",f),()=>{window.removeEventListener("keydown",f)}),[]),h.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/10",onClick:e,children:h.jsxs("div",{className:"bg-white flex border border-gray-200 rounded-xl flex-col gap-2 w-[90%] max-w-md p-8 shadow-xl relative",onClick:p=>p.stopPropagation(),children:[h.jsxs("div",{className:"flex w-full justify-between",children:[h.jsxs("h3",{className:"font-semibold",children:[" ",t==="create"?"":""]}),h.jsx("button",{className:"w-6 h-6 cursor-pointer flex items-center justify-center bg-gray-100 rounded-full",onClick:e,children:h.jsx(bp,{})})]}),h.jsxs("form",{onSubmit:u,className:"flex flex-col gap-3",children:[h.jsx(Ir,{label:"2025-2",selected:!1}),h.jsx(eR,{id:"timetableName",required:!0,placeholder:"  .",value:n,onChange:p=>r(p.target.value)},"timetableName"),h.jsxs("div",{className:"flex  justify-end gap-3",children:[h.jsx("button",{type:"submit",className:"text-blue-500 text-sm w-15 rounded px-4 py-2 cursor-pointer",children:""}),i&&t==="edit"&&h.jsx("button",{type:"button",onClick:l,className:"text-red-500 text-sm w-15 rounded px-3 py-2 cursor-pointer",children:""})]})]})]})})}const nR=e=>I.createElement("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},I.createElement("path",{d:"M8.5 4.6665C8.5 4.5339 8.44732 4.40672 8.35355 4.31295C8.25979 4.21918 8.13261 4.1665 8 4.1665C7.86739 4.1665 7.74022 4.21918 7.64645 4.31295C7.55268 4.40672 7.5 4.5339 7.5 4.6665V7.99984C7.49996 8.08461 7.52148 8.168 7.56253 8.24217C7.60358 8.31634 7.66282 8.37885 7.73467 8.42384L9.73467 9.67384C9.84712 9.74421 9.98292 9.76703 10.1122 9.73727C10.1762 9.72254 10.2367 9.69534 10.2902 9.65723C10.3437 9.61912 10.3892 9.57085 10.424 9.51517C10.4588 9.45949 10.4824 9.39749 10.4933 9.33272C10.5041 9.26794 10.5022 9.20165 10.4874 9.13764C10.4727 9.07363 10.4455 9.01315 10.4074 8.95965C10.3693 8.90615 10.321 8.86068 10.2653 8.82584L8.5 7.7225V4.6665Z",fill:"#D1D5DB"}),I.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.99996 2.1665C6.45286 2.1665 4.96913 2.78109 3.87517 3.87505C2.78121 4.96901 2.16663 6.45274 2.16663 7.99984C2.16663 9.54693 2.78121 11.0307 3.87517 12.1246C4.96913 13.2186 6.45286 13.8332 7.99996 13.8332C9.54706 13.8332 11.0308 13.2186 12.1248 12.1246C13.2187 11.0307 13.8333 9.54693 13.8333 7.99984C13.8333 6.45274 13.2187 4.96901 12.1248 3.87505C11.0308 2.78109 9.54706 2.1665 7.99996 2.1665ZM3.16663 7.99984C3.16663 7.36512 3.29164 6.73661 3.53454 6.1502C3.77744 5.56379 4.13346 5.03097 4.58228 4.58215C5.03109 4.13334 5.56392 3.77732 6.15032 3.53442C6.73673 3.29152 7.36524 3.1665 7.99996 3.1665C8.63468 3.1665 9.26319 3.29152 9.8496 3.53442C10.436 3.77732 10.9688 4.13334 11.4176 4.58215C11.8665 5.03097 12.2225 5.56379 12.4654 6.1502C12.7083 6.73661 12.8333 7.36512 12.8333 7.99984C12.8333 9.28172 12.3241 10.5111 11.4176 11.4175C10.5112 12.3239 9.28184 12.8332 7.99996 12.8332C6.71808 12.8332 5.4887 12.3239 4.58228 11.4175C3.67585 10.5111 3.16663 9.28172 3.16663 7.99984Z",fill:"#D1D5DB"})),rR=e=>I.createElement("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},I.createElement("path",{d:"M13.7069 6.79266L8.70688 1.79266C8.51936 1.60527 8.26511 1.5 8.00001 1.5C7.7349 1.5 7.48065 1.60527 7.29313 1.79266L2.29313 6.79266C2.19982 6.88528 2.12586 6.99552 2.07553 7.11698C2.02521 7.23844 1.99954 7.36869 2.00001 7.50016V13.5002C2.00001 13.6328 2.05268 13.7599 2.14645 13.8537C2.24022 13.9475 2.3674 14.0002 2.50001 14.0002H6.50001C6.63261 14.0002 6.75979 13.9475 6.85356 13.8537C6.94733 13.7599 7.00001 13.6328 7.00001 13.5002V10.0002H9.00001V13.5002C9.00001 13.6328 9.05268 13.7599 9.14645 13.8537C9.24022 13.9475 9.3674 14.0002 9.50001 14.0002H13.5C13.6326 14.0002 13.7598 13.9475 13.8536 13.8537C13.9473 13.7599 14 13.6328 14 13.5002V7.50016C14.0005 7.36869 13.9748 7.23844 13.9245 7.11698C13.8742 6.99552 13.8002 6.88528 13.7069 6.79266ZM13 13.0002H10V9.50016C10 9.36755 9.94733 9.24038 9.85356 9.14661C9.75979 9.05284 9.63261 9.00016 9.50001 9.00016H6.50001C6.3674 9.00016 6.24022 9.05284 6.14645 9.14661C6.05268 9.24038 6.00001 9.36755 6.00001 9.50016V13.0002H3.00001V7.50016L8.00001 2.50016L13 7.50016V13.0002Z",fill:"#D1D5DB"}));function Pfe(){const{schedule:e}=xp(),{deleteSchedule:t,cancelSchedule:n}=Jr(),{data:r}=Cs(),i=a=>{confirm("  ?")&&t(a)},s=a=>{a.key==="Escape"&&n(a)};I.useEffect(()=>(window.addEventListener("keydown",s),()=>{window.removeEventListener("keydown",s)}),[]);const o=r?.find(a=>a.subjectId===e.subjectId);return h.jsx("div",{className:"fixed inset-0 z-50  hidden md:flex items-center justify-center  bg-black/10",children:h.jsxs("div",{className:"bg-white flex flex-col border border-gray-200 rounded-xl gap-2 w-[90%] max-w-md p-8 shadow-xl relative",onClick:a=>a.stopPropagation(),role:"dialog","aria-modal":"true",children:[h.jsxs("div",{className:"flex w-full justify-between",children:[h.jsx("h3",{className:"font-semibold text-lg",children:e.subjectName}),h.jsx("button",{className:"w-6 h-6 cursor-pointer flex items-center justify-center bg-gray-100 rounded-full",onClick:n,children:h.jsx(bp,{})})]}),h.jsxs("div",{className:"flex flex-col gap-1 px-2 py-3 text-gray-500 text-sm",children:[h.jsx("p",{className:"text-sm text-gray-500",children:e.professorName??"  "}),h.jsxs("div",{className:"flex items-center gap-1",children:[h.jsx(nR,{className:"w-4 h-4 text-gray-400"}),h.jsx("span",{className:"text-gray-500 text-sm",children:o?.lesnTime})]}),h.jsxs("div",{className:"flex items-center gap-1",children:[h.jsx(rR,{className:"w-4 h-4 text-gray-400"}),h.jsx("span",{className:"text-gray-500 text-sm",children:o?.lesnRoom??"  "})]}),h.jsxs("div",{className:"flex items-center gap-1",children:[h.jsx("span",{className:"text-gray-500 text-sm",children:o?.manageDeptNm}),h.jsxs("span",{className:"text-gray-500 text-sm",children:[" ",o?.studentYear+""]}),h.jsx("span",{className:"text-blue-500 text-sm",children:o?.tmNum[0]+""})]}),h.jsxs("div",{className:"flex items-center gap-1",children:[h.jsxs("span",{className:"text-gray-500 text-sm font-bold",children:[o?.curiTypeCdNm," "]}),h.jsx("span",{className:"text-gray-500 text-sm",children:o?.remark??""})]})]}),h.jsx("div",{className:"px-4 py-4",children:h.jsx("button",{onClick:i,className:"text-sm text-red-500 cursor-pointer font-medium ml-auto block",children:""})})]})})}function Ofe(){const{schedule:e}=xp(),{deleteSchedule:t,cancelSchedule:n}=Jr(),{data:r}=Cs(),i=o=>{confirm("  ?")&&t(o)},s=r?.find(o=>o.subjectId===e.subjectId);return h.jsxs(Pp,{children:[h.jsx(Op,{headerType:"close",onClose:n}),h.jsx("div",{className:"w-full flex items-center gap-2 border-b border-gray-200 p-2 h-12",children:h.jsx("h3",{className:"font-semibold text-md",children:e.subjectName})}),h.jsxs("div",{className:"flex flex-col gap-1 px-2 py-3 text-gray-500 text-sm",children:[h.jsx("p",{className:"text-sm text-gray-500",children:e.professorName??"  "}),h.jsxs("div",{className:"flex items-center gap-1",children:[h.jsx(nR,{className:"w-4 h-4 text-gray-400"}),h.jsx("span",{className:"text-gray-500 text-sm",children:s?.lesnTime})]}),h.jsxs("div",{className:"flex items-center gap-1",children:[h.jsx(rR,{className:"w-4 h-4 text-gray-400"}),h.jsx("span",{className:"text-gray-500 text-sm",children:s?.lesnRoom??"  "})]}),h.jsxs("div",{className:"flex items-center gap-1",children:[h.jsx("span",{className:"text-gray-500 text-sm",children:s?.manageDeptNm}),h.jsxs("span",{className:"text-gray-500 text-sm",children:[" ",s?.studentYear+""]}),h.jsx("span",{className:"text-blue-500 text-sm",children:s?.tmNum[0]+""})]}),h.jsxs("div",{className:"flex items-center gap-1",children:[h.jsxs("span",{className:"text-gray-500 text-sm font-bold",children:[s?.curiTypeCdNm??""," "]}),h.jsx("span",{className:"text-gray-500 text-sm",children:s?.remark??""})]})]}),h.jsx("div",{className:"px-4 py-4",children:h.jsx("button",{onClick:i,className:"text-sm text-red-500 cursor-pointer font-medium ml-auto block",children:""})})]})}var cb={exports:{}},f7;function Mfe(){return f7||(f7=1,function(e){(function(t){var n=O(),r=$(),i=z(),s=j(),o={imagePlaceholder:void 0,cacheBust:!1},a={toSvg:l,toPng:f,toJpeg:p,toBlob:g,toPixelData:u,impl:{fontFaces:i,images:s,util:n,inliner:r,options:{}}};e.exports=a;function l(A,B){return B=B||{},y(B),Promise.resolve(A).then(function(D){return _(D,B.filter,!0)}).then(C).then(k).then(U).then(function(D){return R(D,B.width||n.width(A),B.height||n.height(A))});function U(D){return B.bgcolor&&(D.style.backgroundColor=B.bgcolor),B.width&&(D.style.width=B.width+"px"),B.height&&(D.style.height=B.height+"px"),B.style&&Object.keys(B.style).forEach(function(Z){D.style[Z]=B.style[Z]}),D}}function u(A,B){return b(A,B||{}).then(function(U){return U.getContext("2d").getImageData(0,0,n.width(A),n.height(A)).data})}function f(A,B){return b(A,B||{}).then(function(U){return U.toDataURL()})}function p(A,B){return B=B||{},b(A,B).then(function(U){return U.toDataURL("image/jpeg",B.quality||1)})}function g(A,B){return b(A,B||{}).then(n.canvasToBlob)}function y(A){typeof A.imagePlaceholder>"u"?a.impl.options.imagePlaceholder=o.imagePlaceholder:a.impl.options.imagePlaceholder=A.imagePlaceholder,typeof A.cacheBust>"u"?a.impl.options.cacheBust=o.cacheBust:a.impl.options.cacheBust=A.cacheBust}function b(A,B){return l(A,B).then(n.makeImage).then(n.delay(100)).then(function(D){var Z=U(A);return Z.getContext("2d").drawImage(D,0,0),Z});function U(D){var Z=document.createElement("canvas");if(Z.width=B.width||n.width(D),Z.height=B.height||n.height(D),B.bgcolor){var X=Z.getContext("2d");X.fillStyle=B.bgcolor,X.fillRect(0,0,Z.width,Z.height)}return Z}}function _(A,B,U){if(!U&&B&&!B(A))return Promise.resolve();return Promise.resolve(A).then(D).then(function(re){return Z(A,re,B)}).then(function(re){return X(A,re)});function D(re){return re instanceof HTMLCanvasElement?n.makeImage(re.toDataURL()):re.cloneNode(!1)}function Z(re,V,q){var Q=re.childNodes;if(Q.length===0)return Promise.resolve(V);return ne(V,n.asArray(Q),q).then(function(){return V});function ne(ee,fe,F){var G=Promise.resolve();return fe.forEach(function(ye){G=G.then(function(){return _(ye,F)}).then(function(H){H&&ee.appendChild(H)})}),G}}function X(re,V){if(!(V instanceof Element))return V;return Promise.resolve().then(q).then(Q).then(ne).then(ee).then(function(){return V});function q(){fe(window.getComputedStyle(re),V.style);function fe(F,G){F.cssText?G.cssText=F.cssText:ye(F,G);function ye(H,Oe){n.asArray(H).forEach(function(Ee){Oe.setProperty(Ee,H.getPropertyValue(Ee),H.getPropertyPriority(Ee))})}}}function Q(){[":before",":after"].forEach(function(F){fe(F)});function fe(F){var G=window.getComputedStyle(re,F),ye=G.getPropertyValue("content");if(ye===""||ye==="none")return;var H=n.uid();V.className=V.className+" "+H;var Oe=document.createElement("style");Oe.appendChild(Ee(H,F,G)),V.appendChild(Oe);function Ee(Te,Ye,qe){var Ne="."+Te+":"+Ye,ct=qe.cssText?xn(qe):It(qe);return document.createTextNode(Ne+"{"+ct+"}");function xn(Cn){var sn=Cn.getPropertyValue("content");return Cn.cssText+" content: "+sn+";"}function It(Cn){return n.asArray(Cn).map(sn).join("; ")+";";function sn(yn){return yn+": "+Cn.getPropertyValue(yn)+(Cn.getPropertyPriority(yn)?" !important":"")}}}}}function ne(){re instanceof HTMLTextAreaElement&&(V.innerHTML=re.value),re instanceof HTMLInputElement&&V.setAttribute("value",re.value)}function ee(){V instanceof SVGElement&&(V.setAttribute("xmlns","http://www.w3.org/2000/svg"),V instanceof SVGRectElement&&["width","height"].forEach(function(fe){var F=V.getAttribute(fe);F&&V.style.setProperty(fe,F)}))}}}function C(A){return i.resolveAll().then(function(B){var U=document.createElement("style");return A.appendChild(U),U.appendChild(document.createTextNode(B)),A})}function k(A){return s.inlineAll(A).then(function(){return A})}function R(A,B,U){return Promise.resolve(A).then(function(D){return D.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),new XMLSerializer().serializeToString(D)}).then(n.escapeXhtml).then(function(D){return'<foreignObject x="0" y="0" width="100%" height="100%">'+D+"</foreignObject>"}).then(function(D){return'<svg xmlns="http://www.w3.org/2000/svg" width="'+B+'" height="'+U+'">'+D+"</svg>"}).then(function(D){return"data:image/svg+xml;charset=utf-8,"+D})}function O(){return{escape:ee,parseExtension:B,mimeType:U,dataAsUrl:ne,isDataUrl:D,canvasToBlob:X,resolveUrl:re,getAndEncode:Q,uid:V(),delay:fe,asArray:F,escapeXhtml:G,makeImage:q,width:ye,height:H};function A(){var Ee="application/font-woff",Te="image/jpeg";return{woff:Ee,woff2:Ee,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:Te,jpeg:Te,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml"}}function B(Ee){var Te=/\.([^\.\/]*?)$/g.exec(Ee);return Te?Te[1]:""}function U(Ee){var Te=B(Ee).toLowerCase();return A()[Te]||""}function D(Ee){return Ee.search(/^(data:)/)!==-1}function Z(Ee){return new Promise(function(Te){for(var Ye=window.atob(Ee.toDataURL().split(",")[1]),qe=Ye.length,Ne=new Uint8Array(qe),ct=0;ct<qe;ct++)Ne[ct]=Ye.charCodeAt(ct);Te(new Blob([Ne],{type:"image/png"}))})}function X(Ee){return Ee.toBlob?new Promise(function(Te){Ee.toBlob(Te)}):Z(Ee)}function re(Ee,Te){var Ye=document.implementation.createHTMLDocument(),qe=Ye.createElement("base");Ye.head.appendChild(qe);var Ne=Ye.createElement("a");return Ye.body.appendChild(Ne),qe.href=Te,Ne.href=Ee,Ne.href}function V(){var Ee=0;return function(){return"u"+Te()+Ee++;function Te(){return("0000"+(Math.random()*Math.pow(36,4)<<0).toString(36)).slice(-4)}}}function q(Ee){return new Promise(function(Te,Ye){var qe=new Image;qe.onload=function(){Te(qe)},qe.onerror=Ye,qe.src=Ee})}function Q(Ee){var Te=3e4;return a.impl.options.cacheBust&&(Ee+=(/\?/.test(Ee)?"&":"?")+new Date().getTime()),new Promise(function(Ye){var qe=new XMLHttpRequest;qe.onreadystatechange=xn,qe.ontimeout=It,qe.responseType="blob",qe.timeout=Te,qe.open("GET",Ee,!0),qe.send();var Ne;if(a.impl.options.imagePlaceholder){var ct=a.impl.options.imagePlaceholder.split(/,/);ct&&ct[1]&&(Ne=ct[1])}function xn(){if(qe.readyState===4){if(qe.status!==200){Ne?Ye(Ne):Cn("cannot fetch resource: "+Ee+", status: "+qe.status);return}var sn=new FileReader;sn.onloadend=function(){var yn=sn.result.split(/,/)[1];Ye(yn)},sn.readAsDataURL(qe.response)}}function It(){Ne?Ye(Ne):Cn("timeout of "+Te+"ms occured while fetching resource: "+Ee)}function Cn(sn){console.error(sn),Ye("")}})}function ne(Ee,Te){return"data:"+Te+";base64,"+Ee}function ee(Ee){return Ee.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1")}function fe(Ee){return function(Te){return new Promise(function(Ye){setTimeout(function(){Ye(Te)},Ee)})}}function F(Ee){for(var Te=[],Ye=Ee.length,qe=0;qe<Ye;qe++)Te.push(Ee[qe]);return Te}function G(Ee){return Ee.replace(/#/g,"%23").replace(/\n/g,"%0A")}function ye(Ee){var Te=Oe(Ee,"border-left-width"),Ye=Oe(Ee,"border-right-width");return Ee.scrollWidth+Te+Ye}function H(Ee){var Te=Oe(Ee,"border-top-width"),Ye=Oe(Ee,"border-bottom-width");return Ee.scrollHeight+Te+Ye}function Oe(Ee,Te){var Ye=window.getComputedStyle(Ee).getPropertyValue(Te);return parseFloat(Ye.replace("px",""))}}function $(){var A=/url\(['"]?([^'"]+?)['"]?\)/g;return{inlineAll:Z,shouldProcess:B,impl:{readUrls:U,inline:D}};function B(X){return X.search(A)!==-1}function U(X){for(var re=[],V;(V=A.exec(X))!==null;)re.push(V[1]);return re.filter(function(q){return!n.isDataUrl(q)})}function D(X,re,V,q){return Promise.resolve(re).then(function(ne){return V?n.resolveUrl(ne,V):ne}).then(q||n.getAndEncode).then(function(ne){return n.dataAsUrl(ne,n.mimeType(re))}).then(function(ne){return X.replace(Q(re),"$1"+ne+"$3")});function Q(ne){return new RegExp(`(url\\(['"]?)(`+n.escape(ne)+`)(['"]?\\))`,"g")}}function Z(X,re,V){if(q())return Promise.resolve(X);return Promise.resolve(X).then(U).then(function(Q){var ne=Promise.resolve(X);return Q.forEach(function(ee){ne=ne.then(function(fe){return D(fe,ee,re,V)})}),ne});function q(){return!B(X)}}}function z(){return{resolveAll:A,impl:{readAll:B}};function A(){return B().then(function(U){return Promise.all(U.map(function(D){return D.resolve()}))}).then(function(U){return U.join(`
`)})}function B(){return Promise.resolve(n.asArray(document.styleSheets)).then(D).then(U).then(function(X){return X.map(Z)});function U(X){return X.filter(function(re){return re.type===CSSRule.FONT_FACE_RULE}).filter(function(re){return r.shouldProcess(re.style.getPropertyValue("src"))})}function D(X){var re=[];return X.forEach(function(V){try{n.asArray(V.cssRules||[]).forEach(re.push.bind(re))}catch(q){console.log("Error while reading CSS rules from "+V.href,q.toString())}}),re}function Z(X){return{resolve:function(){var V=(X.parentStyleSheet||{}).href;return r.inlineAll(X.cssText,V)},src:function(){return X.style.getPropertyValue("src")}}}}}function j(){return{inlineAll:B,impl:{newImage:A}};function A(U){return{inline:D};function D(Z){return n.isDataUrl(U.src)?Promise.resolve():Promise.resolve(U.src).then(Z||n.getAndEncode).then(function(X){return n.dataAsUrl(X,n.mimeType(U.src))}).then(function(X){return new Promise(function(re,V){U.onload=re,U.onerror=V,U.src=X})})}}function B(U){if(!(U instanceof Element))return Promise.resolve(U);return D(U).then(function(){return U instanceof HTMLImageElement?A(U).inline():Promise.all(n.asArray(U.childNodes).map(function(Z){return B(Z)}))});function D(Z){var X=Z.style.getPropertyValue("background");return X?r.inlineAll(X).then(function(re){Z.style.setProperty("background",re,Z.style.getPropertyPriority("background"))}).then(function(){return Z}):Promise.resolve(Z)}}}})()}(cb)),cb.exports}var Afe=Mfe();const Dfe=Di(Afe);var d0={exports:{}},Lfe=d0.exports,h7;function Ffe(){return h7||(h7=1,function(e,t){(function(n,r){r()})(Lfe,function(){function n(u,f){return typeof f>"u"?f={autoBom:!1}:typeof f!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),f={autoBom:!f}),f.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(u.type)?new Blob(["\uFEFF",u],{type:u.type}):u}function r(u,f,p){var g=new XMLHttpRequest;g.open("GET",u),g.responseType="blob",g.onload=function(){l(g.response,f,p)},g.onerror=function(){console.error("could not download file")},g.send()}function i(u){var f=new XMLHttpRequest;f.open("HEAD",u,!1);try{f.send()}catch{}return 200<=f.status&&299>=f.status}function s(u){try{u.dispatchEvent(new MouseEvent("click"))}catch{var f=document.createEvent("MouseEvents");f.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),u.dispatchEvent(f)}}var o=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof ah=="object"&&ah.global===ah?ah:void 0,a=o.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),l=o.saveAs||(typeof window!="object"||window!==o?function(){}:"download"in HTMLAnchorElement.prototype&&!a?function(u,f,p){var g=o.URL||o.webkitURL,y=document.createElement("a");f=f||u.name||"download",y.download=f,y.rel="noopener",typeof u=="string"?(y.href=u,y.origin===location.origin?s(y):i(y.href)?r(u,f,p):s(y,y.target="_blank")):(y.href=g.createObjectURL(u),setTimeout(function(){g.revokeObjectURL(y.href)},4e4),setTimeout(function(){s(y)},0))}:"msSaveOrOpenBlob"in navigator?function(u,f,p){if(f=f||u.name||"download",typeof u!="string")navigator.msSaveOrOpenBlob(n(u,p),f);else if(i(u))r(u,f,p);else{var g=document.createElement("a");g.href=u,g.target="_blank",setTimeout(function(){s(g)})}}:function(u,f,p,g){if(g=g||open("","_blank"),g&&(g.document.title=g.document.body.innerText="downloading..."),typeof u=="string")return r(u,f,p);var y=u.type==="application/octet-stream",b=/constructor/i.test(o.HTMLElement)||o.safari,_=/CriOS\/[\d]+/.test(navigator.userAgent);if((_||y&&b||a)&&typeof FileReader<"u"){var C=new FileReader;C.onloadend=function(){var O=C.result;O=_?O:O.replace(/^data:[^;]*;/,"data:attachment/file;"),g?g.location.href=O:location=O,g=null},C.readAsDataURL(u)}else{var k=o.URL||o.webkitURL,R=k.createObjectURL(u);g?g.location=R:location.href=R,g=null,setTimeout(function(){k.revokeObjectURL(R)},4e4)}});o.saveAs=l.saveAs=l,e.exports=l})}(d0)),d0.exports}var Bfe=Ffe();function zfe(e,t="image.png"){if(!e){console.error("Image reference is not set");return}Dfe.toBlob(e).then(n=>Bfe.saveAs(n,t)).catch(n=>{console.error("Error saving image:",n)})}const $fe=e=>I.createElement("svg",{width:31,height:31,viewBox:"0 0 31 31",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},I.createElement("path",{d:"M14.2084 16.7918H7.75005C7.38407 16.7918 7.07752 16.6678 6.83038 16.4198C6.58324 16.1718 6.45924 15.8653 6.45838 15.5002C6.45752 15.1351 6.58152 14.8285 6.83038 14.5805C7.07924 14.3325 7.3858 14.2085 7.75005 14.2085H14.2084V7.75017C14.2084 7.38419 14.3324 7.07764 14.5804 6.8305C14.8284 6.58336 15.1349 6.45936 15.5 6.4585C15.8652 6.45764 16.1721 6.58164 16.421 6.8305C16.6699 7.07936 16.7934 7.38592 16.7917 7.75017V14.2085H23.25C23.616 14.2085 23.923 14.3325 24.171 14.5805C24.419 14.8285 24.5426 15.1351 24.5417 15.5002C24.5409 15.8653 24.4169 16.1723 24.1697 16.4211C23.9226 16.67 23.616 16.7936 23.25 16.7918H16.7917V23.2502C16.7917 23.6161 16.6677 23.9231 16.4197 24.1711C16.1717 24.4191 15.8652 24.5427 15.5 24.5418C15.1349 24.541 14.8284 24.417 14.5804 24.1698C14.3324 23.9227 14.2084 23.6161 14.2084 23.2502V16.7918Z",fill:"white"})),Ufe=e=>I.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},I.createElement("path",{d:"M10 12.9791C9.8889 12.9791 9.78473 12.9619 9.68751 12.9274C9.59029 12.893 9.50001 12.8338 9.41668 12.7499L6.41668 9.74992C6.25001 9.58325 6.17001 9.38881 6.17668 9.16659C6.18334 8.94437 6.26334 8.74992 6.41668 8.58325C6.58334 8.41659 6.7814 8.32992 7.01084 8.32325C7.24029 8.31659 7.43807 8.39631 7.60418 8.56242L9.16668 10.1249V4.16659C9.16668 3.93048 9.24668 3.7327 9.40668 3.57325C9.56668 3.41381 9.76445 3.33381 10 3.33325C10.2356 3.3327 10.4336 3.4127 10.5942 3.57325C10.7547 3.73381 10.8345 3.93159 10.8333 4.16659V10.1249L12.3958 8.56242C12.5625 8.39575 12.7606 8.31575 12.99 8.32242C13.2195 8.32909 13.4172 8.41603 13.5833 8.58325C13.7361 8.74992 13.8161 8.94437 13.8233 9.16659C13.8306 9.38881 13.7506 9.58325 13.5833 9.74992L10.5833 12.7499C10.5 12.8333 10.4097 12.8924 10.3125 12.9274C10.2153 12.9624 10.1111 12.9796 10 12.9791ZM5.00001 16.6666C4.54168 16.6666 4.14945 16.5035 3.82334 16.1774C3.49723 15.8513 3.3339 15.4588 3.33334 14.9999V13.3333C3.33334 13.0971 3.41334 12.8994 3.57334 12.7399C3.73334 12.5805 3.93112 12.5005 4.16668 12.4999C4.40223 12.4994 4.60029 12.5794 4.76084 12.7399C4.9214 12.9005 5.00112 13.0983 5.00001 13.3333V14.9999H15V13.3333C15 13.0971 15.08 12.8994 15.24 12.7399C15.4 12.5805 15.5978 12.5005 15.8333 12.4999C16.0689 12.4994 16.267 12.5794 16.4275 12.7399C16.5881 12.9005 16.6678 13.0983 16.6667 13.3333V14.9999C16.6667 15.4583 16.5036 15.8508 16.1775 16.1774C15.8514 16.5041 15.4589 16.6671 15 16.6666H5.00001Z",fill:"#9CA3AF"}));function Hfe(){const[e,t]=I.useState(null),n=vo(f=>f.type),r=vo(f=>f.closeBottomSheet),i=vo(f=>f.openBottomSheet),s=Gs(f=>f.filters),o=Gs(f=>f.setFilter),a=Gs(f=>f.resetFilters),l=f=>{r("search"),i(f)},u=()=>{r("filter"),i("search")};return h.jsxs("div",{className:"w-full p-4 ",children:[h.jsx(xr,{children:h.jsx("title",{children:"ALLCLL | "})}),h.jsxs("div",{className:"grid md:grid-cols-5 gap-4",children:[h.jsx("div",{className:"md:col-span-3 w-full h-full",children:h.jsxs(z0,{className:"px-2 relative overflow-hidden",children:[h.jsx(Wfe,{setIsOpenModal:t}),h.jsx(zV,{})]})}),h.jsxs("div",{className:"md:col-span-2 w-full",children:[h.jsx("div",{className:"hidden md:block",children:h.jsx(Ife,{})}),h.jsxs("div",{className:"md:hidden",children:[n==="search"&&h.jsx(Cfe,{onCloseSearch:l}),n==="filter"&&h.jsx(W_,{onCloseFiltering:u,filters:s,setFilter:o,resetFilter:a}),n==="edit"&&h.jsx(Efe,{}),n==="Info"&&h.jsx(Ofe,{})]})]}),n==="edit"&&h.jsx(Tfe,{}),n==="Info"&&h.jsx(Pfe,{})]}),e&&h.jsx(Rfe,{type:e,onClose:()=>t(null)}),n===null&&h.jsx("button",{className:"fixed bottom-4 right-4 z-50 w-15 h-15 rounded-full bg-blue-500 flex justify-center items-center shadow-lg md:hidden",onClick:()=>i("search"),children:h.jsx($fe,{className:"w-10 h-10 cursor-pointer"})})]})}function Wfe({setIsOpenModal:e}){const{mutate:t}=NT(),{data:n=[]}=jT(),r=kt(y=>y.options.isMobile),i=kt(y=>y.pickTimetable),s=vo(y=>y.openBottomSheet),{openScheduleModal:o}=Jr(),a=y=>{const b=n.find(_=>_.timeTableId===y);b&&i(b)},l=()=>{e("edit")},u=y=>{t(y)},f=()=>{const y=kt.getState()?.currentTimetable?.timeTableName,b=kt.getState().options.containerRef;zfe(b,y?y+".png":".png")},p=()=>{e("create")},g=()=>{o(new mi().toUiData())};return h.jsxs("header",{className:"flex pb-2 justify-between items-center",children:[h.jsx(wfe,{timetables:n,onSelect:a,onEdit:l,onDelete:u,openCreateModal:p}),h.jsxs("div",{className:"flex items-center gap-1",children:[h.jsx("button",{className:"rounded-md hover:bg-gray-100 p-1 h-fit cursor-pointer",onClick:f,title:"  ",children:h.jsx(Ufe,{className:"w-5 h-5"})}),h.jsx("button",{className:"rounded-md hover:bg-gray-100 p-1 h-fit cursor-pointer",onClick:g,title:"  ",children:h.jsx(IN,{className:"w-5 h-5"})}),r&&h.jsx("button",{className:"rounded-md hover:bg-gray-100 p-2 h-fit cursor-pointer",onClick:()=>s("search"),title:" ",children:h.jsx(Tp,{className:"w-3 h-3"})})]})]})}const qfe=eM([{path:"/",element:h.jsx(P6,{}),errorElement:h.jsx(gh,{}),children:[{path:"/",element:h.jsx(pZ,{})},{path:"survey",element:h.jsx(Ure,{})},{path:"about",element:h.jsx($re,{})},{path:"faq",element:h.jsx(vue,{})}]},{path:"wishes",element:h.jsx(O6,{serviceId:"baskets"}),errorElement:h.jsx(Due,{}),children:[{path:"",element:h.jsx(_ue,{})},{path:":id",element:h.jsx(Aue,{})}]},{path:"live",element:h.jsx(O6,{serviceId:"live"}),errorElement:h.jsx(gh,{}),children:[{path:"",element:h.jsx(zre,{})}]},{path:"simulation",element:h.jsx(hV,{}),errorElement:h.jsx(gh,{}),children:[{path:"",element:h.jsx(Qde,{})},{path:"logs",element:h.jsx(tfe,{})},{path:"logs/:runId",element:h.jsx(ffe,{})},{path:"admin",element:h.jsx(xfe,{})},{path:"wishlist",element:h.jsx(bfe,{})}]},{path:"timetable",element:h.jsx(P6,{}),errorElement:h.jsx(gh,{}),children:[{path:"",element:h.jsx(Hfe,{})}]},{path:"*",element:h.jsx(VI,{})}]),iR=new TM;XM.init("rqww72xge1"),SW.initialize(),GM.initialize("G-YY1G1HPVMF");window.__TANSTACK_QUERY_CLIENT__=iR;Vfe();function Vfe(){oP.createRoot(document.getElementById("root")).render(h.jsx(I.StrictMode,{children:h.jsx(PM,{client:iR,children:h.jsx(dM,{router:qfe})})})),"serviceWorker"in navigator&&navigator.serviceWorker.register("/serviceWorker.js").then(function(e){console.log("Service Worker registered with scope:",e.scope)}).catch(function(e){console.log("Service Worker registration failed:",e)})}
//# sourceMappingURL=index-CtDGiZeW.js.map
